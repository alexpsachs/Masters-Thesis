{
    "lutoma": "Closing after discussion via jabber.\n. ",
    "HansPinckaers": "You mean that bullets sometimes transform in stars (*)\n. I'm totally with you on this point. Etherpad-lite should be a small framework that is very easy to implement in your own Express install. So no routing predefined in the framework itself. \nIt should have some kind of api to get and set all relevant information. For example the timeline. Don't develop the timeline into etherpad-lite. Make a api function to get all the revs of the pad and to get the full text of that rev. Than developers can create a timeline by itself with their own designed user interface.\nAnother example: the api should have a 'set and get latex/markdown from a pad'-function, so that other developers can write import/export functions for other formats.\nYou could even get further by removing the edit-bar on the top of each pad and creating api-calls for that, but maybe that goes a little bit too far. \nSchuyler is this what you meant?\n. I would like to do this, but got exams. I will start a wiki or pad with a todo list. Before we start doing this it should be clear what our outcome should be.\nA assumption of a certain base-url could be used in the communication between browser/etherpad-lite. But I think socket.io handles that pretty good without base-url.\n. You should see that separate.\nWe will create a 'core' etherpad-lite. That could be this repository or another one. \nThan for people to use this with a php front we could create a example project. The example project will be more like this repository is now. Only be write upon the new api.\n-edit: your point of using relative paths is still relevant btw.\n. You should submit that to the socket.io repository.\n. I'm actually digging in the editor right now. I wanted to implement another editor, but the logic of the client is very coupled in the editor itself (with coloring lines etc). It tries to do a lot and is very stable. (I found compatibility code for Firefox 2...) \nThis is bad for performance. What I try to do for my own project (\"native\" etherpad-lite client for iOS) now is removing a lot of code from the editor, since modern browsers have a lot native support with the contenteditable tag for basic editing. Hoping this will result in better performance on mobile devices. For example: I already got rid of the workIdleTimer, which basically checks the DOM every second (even if nothing happens) and cleans all the code from the editor. Which is a good thing, but not every second. Also got rid of a lot try/catch closures, but that needs more testing. \nIn the following days I will try to understand the editor more, and maybe see the possibility to put another editor behind it, I was thinking about Nicedit, because it has brilliant performance on iPad/iPhone. \nIt's sad there aren't 48 hours in my day, and I got one big project beside this. So my time is limited.\nHans\nPS. headings shouldn't be that hard. Just copy-and-pasting a lot of code used for bold/italic etc. Changing font-sizes is not needed I think when you have headings.\n. Yep, that's why I did put native around quotes. I won't be real native. Just a etherpad-client locally stored (helps a lot, loadtime etc.). I will use a browser within the app. So i'm actually using designMode for the app.\nI will share the edits i make on the editor. But I afraid I won't share the iOS source code, since I want to sell the app.\nWill push the commits I have for the editor this evening. You can watch my repo, but you don't want it to merge into this repo, because I like deleting (too much) code.\n. ",
    "Pita": "yes, excatly. My description was bad ^^\n. Fixed\n. Write it on the todo page under nice to have. https://github.com/Pita/etherpad-lite/wiki/TODO\nBut this isn't very important at the moment, we're focusing on saving to a database\n. anyone wants to do this?\n. Just work with relative paths in the source code. We should remember that there is a world outside of node.js, where people may wanna use that too. The php front is still strong. Look at #13. It should be possible to change all path to relative paths with some sed commands\n. We're planning a API for ep-lite https://github.com/Pita/etherpad-lite/wiki/REST-API-Draft\n. I thought about it: You mean as a standalone application you can install via npm, like:\nnpm install etherpad-lite\nand than start with \netherpad-lite\nThat's a good Idea, you want to do that? I'm focusing on other things at the moment\n. Yes It sounds like a good idea to use node-static. You wanna do that? I'm focusing on saving to the database at the moment\n. Do you have now time to do this? Would be great :)\n. I'm using now Express to serve the static files\n. Thats cool for writing code in a pad. But can you do it so it needs less space horizontal, cause we want to keep it easy to embed\n. Sorry if there was an missunderstood. I mean: make a icon out of it or something, cause at the moment there are only two options or?\n. It's hard to find a documentation that says which characters needs to be outcommented for sqlite. Everyone is using the escape function of sqlite, but that doesn't work for bulk writing. \n. Closed with https://github.com/Pita/ueberDB/pull/1\n. Please try it again with the latest version. The Bug should be fixed there. Clone the git repository and install it with npm install\n. can you please post your apache config in the wiki please. I'm sure other people will help that\n. Thats a dublicate of #9\nI fixed this bug today\n. It might not like the way I'm initalizing socket.io https://github.com/Pita/etherpad-lite/blob/master/static/js/pad2.js#L63 - I will experiment tomorrow with that.\n. I think I solved that with this commit https://github.com/Pita/etherpad-lite/commit/18ec4dab87bff1aa11488db7d12fa7bfc576b308\n. The Problem is that this requires dynamicly generated html and I don't want to do that. One possiblity would be to load that via /minified/pad.js, but thats ugly\n. The latest master has a custom folder in static. In this folder are files that allows you to add your own css/js\n. I still don't know how to integrate that\n. We can create a installGlobal.sh script in bin. This script finds out under which operating system its running and installs the correct start script\n. Here is also a init.d script for node applications https://gist.github.com/1061419\n. I added one to the wiki. I thougt the wiki is a better place for that https://github.com/Pita/etherpad-lite/wiki/How-to-deploy-Etherpad-Lite-as-a-service\n. Thats very interesting. It sounds more like a Socket.IO Bug, does it work without the proxy?\n. I tried your apache settings but changed them so they use http instead of https. Works fine with Opera. There might be a problem with https that prevents Opera from sending ajax requests\n. are there still problems?\n. This bug has low priority for me, cause the number of affected users should be very low\n. Can you please click on the error symbol. If it shows \"Object doesn't support this property or method\" in socket.io.js, its a known socket.io bug -> https://github.com/LearnBoost/Socket.IO/pull/125\n. can you please give a screenshot of the errors or copy the whole error text\n. You still have these Problems with IE?\n. We updated to a new Socket.IO version, can you please test that again?\n. try again on http://pitapoison.de:9001/\n. any news from that?\n. Can I close this issue?\n. Etherpad lite is using socket.io 0.7 and primarywall is using 0.6\nOn 22 July 2011 18:39, noel\nreply@reply.github.com\nwrote:\n\nSeems like there is a difference between etehrpad-lite and primarywall. \u00a0Primary wall works (excluding my computer).\nis there a socket.io difference between the two?\nEtherpad-lite seems to have the problem originally stated.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/20#issuecomment-1633668\n. Did this happen with the latest version?\n. you can do \u00b4git log\u00b4 and copy the first lines\n. The new version is tested with a reverse proxy that adds https. This problem should be solved now\n. Sorry I don't like this design :/\n\nCan I ask what your goals were while you changed it?\n. The \"new Pad\" Font is very small, but this is the most important thing on the website. Its complety broken in IE 6 (ok to be fair, mine doesn't look very well in IE 6 too) and now it has more elements than before, means its less minimal.\nI hope I'm not too hard, but thats my opinion....\n. Can you create a example pad on http://pitapoison.de:9001 where this happens? I downloaded the google chrome beta for linux and it works fine for me. Perhaps this was a temporary error in the beta version \n. I tried it with Chrome 13 on Windows 7 today, still works fine... \n. This should be fixed now\n. use the stop method of the init.d script\n. I know, this is not implemented so far\n. thats fixed\n. Look at https://github.com/Pita/etherpad-lite/wiki/REST-API-Draft - I will tell you more tomorrow\n. I figured out what the problem is, see here -> https://github.com/LearnBoost/socket.io/issues/406\n. Maybe we can fix that by just updating socket.io\n. It's explained here\nhttps://github.com/LearnBoost/socket.io/issues/406#issuecomment-4180734\nOn 26 February 2012 13:25, John McLear\nreply@reply.github.com\nwrote:\n\nIt's much more likely the problem is with lighttpd reverse proxy implementation.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/28#issuecomment-4180725\n. ok, perhaps its not created wrong, perhaps it just fails sometimes. http://twitpic.com/5txij3 Looks like there is a bug in the chat code on the client side\n. thats very difficult to reproduce... :/\n. I think this is fixed with the new ueberDB version\n. what you mean with throwing errors? \n. That happens afaik if the upload takes longer than 25 seconds. I don't know a good solution so far\n. Can I close this? \n. fixed\n. @johnyma22 can you confirm this? Its a very old bug\n. thats fixed, thx @johnyma22\n. Thats planed with the api\n. done with the api\n. did you you IE 6 check theses changes?\n. The text is impossible to read if its not black. And the elements were to close to each other\n. Thats fixed with the latest master\n. whats the problem of accepting any file? It would be a problem if the server crashes, but it doesnt. When you upload a binary file, it just put garbarge into the pad. Checking file signatures makes it complexer than it needs to be\n. You understand that wrong, yesterday there was the old design on port 9001\n. Let's discuss this tomorrow via jabber\n. fixed\n. version number?\n. what johns means is: in FF 6 (windows) the bold button doesn't work for some reason\n. I like bugs that fix itself :)\n. Chrome console says:\n\nXMLHttpRequest cannot load http://pad.pitapoison.de/pad/p/QFxoUH2rF5/export/txt. Origin https://pad.pitapoison.de is not allowed by Access-Control-Allow-Origin.\n. thats fixed\n. thats fixed\n. I think this is fixed with the new ueberDB version\n. I've seen that these 3 lines leaks global variables, so I made a rewrite in one line :) - but thanks for the hint\n. that looks like there is a token2author entry but no author entry... weird\n. I think this is fixed with the new ueberDB version\n. to do this permanently for a pad we have to introduce pad options.... means that is more work than I expected. I might do it later\n. I thought about a monospace M that toogles on the left side. Problem\nis here that that it sends a message to the server and we need to save\nthis at the database. But you can supress the message, and do it till\nthis point\nOn 13 August 2011 22:02, johnyma22\nreply@reply.github.com\nwrote:\n\nMaking a start on this 2nite, think I should be able to get it done\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/49#issuecomment-1799005\n. done\n. I've seen this is fixed now. We changed the doctype from xhtml to html5, looks like this fixed that problem\n. fixed\n. done\n. still not sure if this is worth the afford, maybe we can just show the\nlast 100 messages instead of the last 20\n\nOn 13 August 2011 21:58, johnyma22\nreply@reply.github.com\nwrote:\n\nMade a start on this, function showHistory is now available in chat.js -- server request & response needs writing.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/54#issuecomment-1798989\n. we solved that with showing the last 100 chat entries, instead of the last 20\n. noone complained about that since we show the last 100 chat entries. I close that\n. lol\n. I used this function about 3 times in the code... \n. I will think about that. I know its not the best way, the way we're doing it at the moment. Problem with enabling/disabling is that we would need to generate html dynamicly and I want to avoid that\n. The only thing we can do about this, is to write a friendly mail on the abiword mailinglist and ask them if they can add windows support for this plugin\n. thats fixed\n. thats fixed\n. done\n. done\n. its just this readlink command, it looks like it works different on mac than on linux. But I have no mac to test that. Maybe you find a person with scripting kills and a mac who can fix that\n. It should keep shell, I don't want to use two languages for that. But like I said, you or someone with a mac have to test it out and send me pull request. I can't test it on mac\n. yes that works, thx\n. Thx!\n. That slows down convertion to a pdf from 30ms to about 900ms on linux... not sure about this :/\n. I added a switch, so it uses abicommand on unix and spawns processes on windows. I made a feature request on abiword to add support for windows http://bugzilla.abisource.com/show_bug.cgi?id=13125\n. We are forced to use apache license cause we're using code from the original etherpad that uses the apache license. But I think this shouldn't be a problem for you cause you don't need to link against that code.\n. read troubleshooting under the install instructions\n. It works under my Ubuntu Lucid with sqlite3 version 3.7.3\n. the people of the sqlite library says it needs >=3.6\n. no, thats not normal. Delete node_modules and start run.sh again\n. did this happen with npm install or what was the excat command? And whats your're npm version? That must be a new problem. Anyway, we can remove the whole npmignore. The npmignore is very old and not used anymore since the installation works with a git clone\n. You made a npm install -g or? why?\n. npm 0.2.19 is very old, 1.0.22 is the latest. I think this is why its fails\n. @adrianlang we just don't support this npm version, we can't support everything. This old npm tries to do a global installation instead of a local. I added a npm version check to the latest master\n. are you sure that it fixes the problem, does it start for you if you do that change?\n. It should work too if you just remove .npmignore. I think the problem is that there is a file defined, that was renamed\n. thats weird... I should really change to a nodejs database, this sqlite stuff causes so much headache\n\nI created a issue on sqlite https://github.com/developmentseed/node-sqlite3/issues/35\n. maybe there is something wrong with python, afaik their using python for this compiling stuff. That would explain why it works for you with the deb package\n. did you solve that now?\n. No there is no base URL setting. We're just using an nginx in front of\nthat. We keep care that we're only using relative urls, thats all\n\nlocation /pad/ {\n            proxy_pass             http://localhost:9001/;\n            proxy_set_header       Host $host;\n            proxy_buffering off;\n}\n\n. can you work on pads using apache as a reverse proxy? Just asking, cause we have problems with lighttpd\n. @0ip can you confirm this?\n. Can you give an example name, can't reproduce that at the moment\n. k, found the not working padname in my chatlog. That works now with the new express version\n. thats fixed\n. that should be fixed in the latest master. Do a git pull origin master\n. thx\n. I think you needed a new tar version cause of npm. All our node dependencies are documented in package.json, I think thats enough and everything else makes more work than its useful\n. I cherry picked that into the api branch. Maybe you like to change it, so it looks like that http://twitpic.com/63v04a/full\n. Looks good yeah. But I would like to have the important buttons on the top and the less important buttons on the bottom. And we can hide some too like john said. Yeah just remove some buttons but make the existing wider so they are easier to touch with the finger\n. I think we can really ignore FF on Android. Noone uses FF on Android\n. @jonyma22 can we close that?\n. @johnyma22 can we close that?\n. whats your operating system?\n. https://github.com/developmentseed/node-sqlite3/issues/36\n. @lukeburns btw, can you tell me which packages you installed with yum. I would love to add this to the installation instructions\n. We will remove the sqlite dependency in future versions. It causes to much problems\n. @lukeburns try it again please\n. does it work on http://pitapoison.de:9001 ?\nOn 13 August 2011 22:35, johnyma22\nreply@reply.github.com\nwrote:\n\nYet another IE bug.. \u00a0I get it in IE9\nCan be seen at: http://beta.primarypad.com/p/test & http://pad.pitapoison.de/p/test\npad.js 'Bubble is undefined' appears to be one of my bugs and that is specific from primarypad\nUnfortunately I can't debug as it crashes IETester.\n:/\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/80\n. Line 22 ist empty :P\nhttps://github.com/Pita/etherpad-lite/blob/master/static/js/pad2.js#L22\nYeah lets look tomorrow closer on it. I doubt jshint is helpful here\n\nOn 14 August 2011 23:56, johnyma22\nreply@reply.github.com\nwrote:\n\nPutting the pad.js source into JSHint shows an error on line 22, it could be that?\nPita, can you please tidy up the code so it doesn't error in JSHint and put it on my Dev box and I will test in IE tomorrow? \u00a0Thanks\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/80#issuecomment-1803733\n. ok, we know its fixed in the latest socket.io. Means it works with the latest master of etherpad lite\n. Opera doesn't send messages to the server. Thats a known bug, buts thats a problem of the socket.io library we're using\n\n@johnyma22 Can you try this page in IE8 ?\n. do a \"git pull origin master\"\nOn 15 August 2011 15:56, Maja88\nreply@reply.github.com\nwrote:\n\nGreat, thx.. ;)\nQuestion: What do i have to do now?\nhow do i update the Pad on my Server? Is there any easy way or Documentation, or do i need to repeat the instalation?\nI installed it with this manual:\nhttp://data.agaric.com/installing-etherpad-light-debian\nSorry, unfortunately not a Linux specialist, but trying to get there... ;)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/81#issuecomment-1807730\n. merged\n. done\n. I think 2 is a good solution. But this is a douple iframe, means there is again an iframe in an iframe (I don't know why they did this).\n. Thats cause of import? I was wondering where it comes from, thx for the hint\n. @johnyma22 should decide about that\n. made this with ?jsonp= instead of callback\n. whats the sense of this small top bar? \n. I meant the black bar on the bottom, perhaps I had something in the cache\n. thats pull locally\n. merged locally\n. merged locally\n. There are more parameters, look at this jquery plugin https://github.com/johnyma22/etherpad-lite-jquery-plugin/blob/master/js/etherpad.js\n\nYou're right, we need to document this much better\n. Would be nice if you could write a how to wiki page\n. maybe only a list with parameters and an example. People are too lazy to read all this text ^^\n. look at https://github.com/Pita/etherpad-lite/wiki/How-to-deploy-Etherpad-Lite-as-a-service\n. there are links to the wiki pages in the readme, but you have to scroll down ;)\nBut I will reorder the readme later\n. Intresting that this didn't cause problems before. Looks like the change that puts everything into one image broke that. Anyway, fixed it locally.\n. thats fixed in the latest master, but somebody should IE test the latest changes\n. Which Windows version?\nOn Aug 18, 2011 5:41 AM, \"maacl\" \nreply@reply.github.com\nwrote:\n\nI have installed as per instructions but start.bat fails with:\nE:\\etherpad-lite-win\\node>..\\bin\\node server.js\n\u2190[32m[2011-08-18 04:36:32.850] [INFO] console - \u2190[39mServer is listening\nat 0.0.\n0.0:9001\nnode.js:205\n       throw e; // process.nextTick error, or 'error' event on first tick\n             ^\nError: No such module\n   at EventEmitter. (node.js:318:27)\n   at E:\\etherpad-lite-win\\node\\server.js:384:13\n   at E:\\etherpad-lite-win\\node_modules\\async\\lib\\async.js:484:34\n   at Array.\n(E:\\etherpad-lite-win\\node_modules\\async\\lib\\async.js:4\n08:34)\n   at EventEmitter._tickCallback (node.js:197:26)\nE:\\etherpad-lite-win\\node>\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/94\n. afaik windows xp is not supported by node. This looks for me like a node internal error too\n. I thinks its \n  process.on('SIGINT', gracefulShutdown);\nlooks like this is unix specific thing\n. https://github.com/joyent/node/issues/1553\n. @maaci Can you try to outcomment line 384 on server.js, just to get sure this causes the problem\n. OK, so I will add a if, so this line will not be used on windows\n\nyou can enable pdf by installing abiword on windows and add the path to the abiword exe in the settings\n. ok, please add a seperate issure for that\n. I made a workaround, this line is now not used on windows\n. yeah pdfkit sounds good. If you manage to give me a pull request for using pdfkit. I prefer to just don't show the pdf export function on windows\n. PDF Export is not shown  anymore under windows\n. We decided in a very early state to not copy this feature. And so far your the first who wants it back. We may support this in the future, but at the moment we just don't have this feature and no plans to provide it\n. yeah, you're right\nOn 19 August 2011 14:19, toco\nreply@reply.github.com\nwrote:\n\nOk, I was just wondering because the buttons to jump between the revisions still exist. These buttons should also be removed to have a consistent interface.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/98#issuecomment-1850869\n. I removed the star buttons\n. Long story short: It was easier without\n. we removed this too and there are no plans to provide it. Maybe in a future version\n. Did you manipulate the data in the database via phpmyadmin or something?\n. what you can try: set the log level to debug, and try to reproduce this error. Its interesting what happend the lines before the crash, that may help you to reproduce it\n. Thats a mysql client bug https://github.com/felixge/node-mysql/issues/96\n. done\n. why?\n. No, john means he wants the second part of the padID. Means if the padID is g.34jh23k32h4kj$bla, johns wants the bla part\n. Yammer did this too afaik... maybe we can take code from there\n. secured that\n. a object does not have a order of elements\n. pulled\n. It's this one or? https://github.com/felixge/node-mysql/issues/96\nIt was fixed today, but we have to update the mysql driver\n. Download the latest zip, it has the lastest mysql driver\n. Yes thats possible, maybe in 1.1. Is translation so important for you?\n. I thought about it, shouldn't be to diffcult. But we're aggregating ideas at the moment before we continuing development\n. I will give that a try tomorrow. In which languages you want to translate too?\n. I added basic support for the pad. Checkout the develop branch and tell me if you can work with that. I made a quick and dirty translation for german too. It's not complete of course, I just wanna now if this is the right way of how to do that\n. I think the translation framework is pretty much complete now. I think we should do the languages french, spanish, arabic. We shouldn't do more cause we're still changing the interface very fast, maybe later. \n\nTell me if you run into problems while translating\n. @goofy-bz The typo is no problem for the translation, just ignore it, I will fix that later. Anyway I can't find any translated files there...\n. Status is that there is a working implementation in the develop branch. But only with two languages, a east european language and german... we need translators for this\n. Pulling the commits out of the develop branch is a pain... Will do this another day\n. https://github.com/Pita/etherpad-lite/commit/8cceeefa052ed59b8cbd8b356f7c57725d47cc7c\n. I think this won't make it to 1.1, we should do this later\n. @johnyma22 why didn't you mention that you changed the link! thats not nice\n. @johnyma22 you changed the link in the readme file\n. @johnyma22 at least you could say a word about that\n. @johnyma22 we should talk later\n. @johnyma22 are you still here?\n. Changed now all links to beta.etherpad.org. BTW, pitapoison.de:9001 was never down, I think it was just blocked by your firewall, cause of the port\n. No, it isn't, thats a bug\n. No, we choosed Abiword cause it runs much leighter than OpenOffice/Libreoffice. We used Open Office in the old etherpad and I caused a lot of trouble and took a lot RAM too. We're happy using Abiword\n. ok :)\n. Look into the log, the path to the logfile should be in /etc/init.d/etherpad-lite\n. try tail -f /var/log/etherpad-lite/etherpad-lite.log\n. do a 'npm install sqlite3' in your etherpad-lite root folder\n. I close this, cause this is not a bug. You can still ask questions at this issure\n. whats your operating system? debian?\ntry echo 'export PATH=$HOME/local/node/bin:$PATH' >> ~/.bashrc \nLog out and in again, type in node and test if node is avaiable now. If yes, do the npm install sqlite3\n. I hope you didn't delete the old folder. I will help you tomorrow via chat, just tell me how I can talk to you\n. @johnyma22 please let me handle this\n. @Maja88 I'm in this chat now, but its empty :/ Please ping me when you're there\n. @Maja88 or just send me your sqlite file to petermartischka at gmail com\n. @pucicu is this still important for you?\n. @pucicu please ping me on freenode irc #etherpad-lite-dev\n. I think mysql is about 10 times faster on writings, read time is nearly the same\n. The problem is that Etherpad Lite saves the full text of a pad every\n100 revisions. A revision is created every half second a person is\nwriting. We copied this behauvior from the old etherpad, maybe we can\noptimize that. But thats low priority\nOn 15 September 2011 19:19, pucicu\nreply@reply.github.com\nwrote:\n\ni had looked before in the web for this question, but, no, the answers have not been really helpful. as far as i know, the structure how the data is stored in the DB is very important. and i have seen that etherpad-lite stores all data only in one mysql-table. i have concerns that this might slowing the DB access. moreover, my experience now with etherpad lite and sqlite is not really promising. i would like to use etherpad lite for collaborative working on longer texts, say 5-15 text pages in format A4. but even working on a 7 pages text with 2 persons growth up the DB to half a gigabyte. how large this DB will be if we work on 10 different projects and with more than 20 people? i'm concerend that the DB will increase to quickly and that its size will affect the performance so much that etherpad is not able to work anymore.\nperhaps etherpad lite is not the right tool for our purpose. my hope was that we could replace google docs with etherpad lite.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/119#issuecomment-2106696\n. what you mean with \" the whole iframe contents are pushed up to the server\" ?\n. I think you mean the socket.io messages that are visible in the browser console. That are javascript objects\n. I don't know, look in static/js, you have to find out that yourself\nbut there are definitly no html elements sends from the server to the client\n\nOn 23 August 2011 20:44, itguy51\nreply@reply.github.com\nwrote:\n\nSo, I would just guess it's a tracer bug, but, there are the elements with the ID name that contains magicdomid. Where are the generators contained? because if I can get to those, I can add the class to style the lines with a highlighter.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/121#issuecomment-1883281\n. Thats pretty cool. I will think about whats the best way integrating it\n\nOn 22 October 2011 02:01, Martyn York\nreply@reply.github.com\nwrote:\n\n@Miserlou @dsmedia @Pita @johnyma22\nI've got a working implementation going at https://github.com/etinquis/etherpad-lite. \u00a0It incorporates a fairly significantly modified version of SyntaxHighlighter itself. \u00a0I'm not sure how plugins are supposed to be structured, so I shimmed in a solution. \u00a0If someone can give me a hint at how it should be set up, I can fix it.\nAn example startup script (from my custom/pad.js) can be found at https://gist.github.com/1305299.\nThe highlighting is run whenever a new domline is created, and it only runs on the single line.\nPlease feel free to have a look and try it out and let me know what you think.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/121#issuecomment-2487584\n. Whats the license of SyntaxHighlighter?\n. I tested it and it works, its only a bit ugly in combination with the user colors\n. @etinquis Plugin System is planned for 1.2 .... I don't wanna include the syntax stuff before we have a proper plugin system. So far you can think about which hooks you need and how you would create the system. Maybe you wanna do a start on it\n. @etinquis I can understand you that you want to see that in main repo and I can ensure you that many people want that. But at the moment we don't know how to integrate it properly and 1.1 was planned as small fixes version\n. It makes no difference if he has the code for syntax-highlighting or I have it. John please read the git flow website\n. merged this into the dev branch\n. so your client is html that stored in the app, and that is connecting to the etherpad server?\n. The goal is to only provide these different headers \n\nApply headings IE h1, h2, h3\nThats enough imho\n. Is this your complete nginx config?\nthe problem is just that the static files are 404ing http://pad.kpsn.org/static/custom/pad.css\n. is this issue still active?\n. He means if someone is mentioning your name. I think its a good idea to just make the chat label red when you are mentioned, and keep this color until you read it\n. John, \nI brought beta.etherpad.org up to date. Please use /etc/init.d/betalite for restarting etc. You don't have to use screen for that\nPlease bring chat.js up to date again\n. Every large websites show notifcations in this this style: (1) Facebook.com usw... you just put a number in front of the title. \nAnother bug: after two mentions it looks like this: \"You were mentioned in a chat: You were mentioned in a chat: Etherpad Lite | test\"\n. imho @okin is right. These numbers doesn't make much sense if they don't reset on window focus\n. I still need to merge john's commit\nBtw john, please read this git page. That would make life so much easier for me ;)\n. everyone else has no color just confuses the user and has no benefit at all imho\n. Are you sure you can't pass cookies to iframes? Can't believe that. Maybe you just set the wrong domain for the cookie\nThe problem with the parameters is already fixed https://github.com/Pita/etherpad-lite/commit/7b8d48467feed49883e9331804bff466be6783d5\n. are you using http only cookies?\n. I mean, cause the cookie is read at the javascript client side an send to the server. http only cookies can't be read by the client side\nCan you come to freenode irc at #etherpad-lite-dev ?\n. ok great\n. @johnyma22 In my opinion we should merge this\n. @johnyma22 I don't agree with that. Whats your problem with the monospace button?\n. every programmer needs it... It's not a linux thing\nOn 18 November 2011 16:58, John McLear\nreply@reply.github.com\nwrote:\n\nMy users don't want it :|\nI could comment in out in CSS but the use case of monocase is pretty rare.\nHow many people that dont use linux do you think use monospace on a daily basis?\n\nFrom: Peter 'Pita' Martischka [reply@reply.github.com]\nSent: 19 November 2011 00:52\nTo: John McLear\nSubject: Re: [etherpad-lite] Button for useMonospaceFont (#128)\n@johnyma22 I don't agree with that. Whats your problem with the monospace button?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/128#issuecomment-2796525\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/128#issuecomment-2796564\n. I debuged this down, its a socket.io bug https://github.com/LearnBoost/socket.io/issues/451\n. Socket.IO fixed that bug, so we can close that\n. @andl Maybe you can tell us a bit more about your changes and why its needs to be contributed back to the main project. This looks like company specific changes. Why can't you just create a wiki page that describes of how to alter that software or create a script that does that.\n. I close this cause there is no reaction or further explanation from @andl why we should merge this\n@andl If your're still interested that this get merged, please contact @johnyma22\n. thats cause proxy_buffering off; is not set\n\nuse the nginx config here https://github.com/Pita/etherpad-lite/wiki/How-to-put-Etherpad-Lite-behind-a-reverse-Proxy\n. It's a wiki, feel free to improve it\nOn 29 August 2011 00:23, klondike\nreply@reply.github.com\nwrote:\n\nOK, thanks, that worked.\nI looked at at article, but since I do not want to run it HTTPS-only, I was unable to easily figure out which parts of the example applied to etherpad lite generally, and which to HTTPS-only configurations. You might want to include a \"vanilla\" example.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/132#issuecomment-1926143\n. I think thats fixed... Can't remember that this was a problem on any production enviroment\n. no, not so far. I keep this ticket open as a feature request\n. I close this cause afaik its solved. If not feel free to open it again\n. @wikinaut I merged your commit, see here. It should be solved https://github.com/Pita/etherpad-lite/commit/5ea8dd6b7005c69cda8824197e8ec849e559207a\n. You're right, its not in the code... I don't get it\nWill look at this this evening\n. I applied wikinauts patch\n. I think we can close this or? Should be fixed with @wikinauts commit\n. I cherry picked your last commit https://github.com/hikinggrass/etherpad-lite/commit/ae73b1101a54f60d69d338b0eef150a60561f3c9 thx\n. that looks like a node.js error, cause the error happend in net_uv.js:307:12 - thats not a etherpad lite file. The downloadable zip still contains node v0.5.4, but the latest is v0.5.5, try it with that\n. great\n. I like this idea\n. There are more important issues right now, you may want to create a pull request?\n. I'm not sure, but I think I merged this into delevop\n. Some points to this pull request:\n\nIt looks like it works and I also want this feature. But, I don't like the way this gets solved. Imagine there will be 10 more export formats and everyone is doing it this way. It would be nicer if we could create some export plugin interface instead of copying the same code over and over again\n. Yes you're right. But I don't want to bleed settings.json to much. I think at some point we have do divide into multiple setting files\n. I don't wanna use the database for settings\n. would it be ok for you to do this pull request again but for the master branch? Its a pain to pull that into the actual master. Just clone the latest master and apply your changes again. You're probaly faster doing that than me\n. any news on that?\n. Look into the logfile please\n. @johnyma22 Maybe we should add a issue categorie called question or support\n. ok, I close this now\n. @Maja88 Sorry, I don't understand what you mean. What you want to change?\n. Afaik is this working and always worked. Look here at j.mp link http://beta.etherpad.org/p/2vwbCEF5Bj\n. @johnyma22 do you really think this is a problem for users? I mean we can create a regular expression that gets this links too.... but imho again work > usefull\n. @johnyma22 Is this feature on beta.etherpad.org? \n. ok, works fine. Good job. I close this\n. Yoda, you speak like\n. Did you manage to get it working?\n. Any news on that?\n. I close this cause there is init script for centos in the wiki\n. looks good\n. Same here. I would love to see this implemented\n. status on this?\n. btw I think we should establish a general notification system with messages like\nuser bla changed line 132\nuser blub joined\nuser blub left\nuser blub imported text\nuser blub changed the font to monospace\nstuff like this...\nbut anyway, thats not high priority, we have other serious issues\n. good idea\n. @johnyma22 Can you create a pull request that implements these tooltips? \n. thx a lot!\n. +1\n. Can everyone please review @jhollinger pull request\n. I merged @jhollinger 's pull request. Thx\n. We choosed to alter the color chooser so you can't choose too light and too dark colors. Colors will always look different on different monitors and platforms\n. You're right, the colors you can choose are a bit too dark\n. We had a large discussion about that. My main concern is that the users won't like it. The reason they won't like it is that this have to less colors. This topic about color is a really emotional topic and many people worry about it. In my opinion we can try to merge this and see if it the users like it or not. But the only long term solution for this problem is a setting on the server side, so the server admin can choose which color picker he prefer. However John is responsible for front end, these are just my two cents \n. Can it be that you outcomment some settings?\n. just add a console.log(exports.dbSettings); at the end of this file https://github.com/Pita/etherpad-lite/blob/master/node/utils/Settings.js#L100\n. it looks like there is no mysql listening. Could it be that the mysql command line is using unix sockets? Do a \nnetstat -tulpen\non your server please\n. I will look at this today\n. I think there is a problem with your sessionID cookie, it might be not avaiable at the import/export urls. Can you please check that?\n. I aggree with you, we should allow to talk to the api via post too. Thats easy to do\n. I changed this to 1.1 milestone, cause its really easy to do\n. thats fixed, thx to @jhollinger\n. Wait for 1.1\n. thats fixed\n. @Masses-Fallacy try to start \nabiword --plugin AbiCommand\non the console. Maybe you just installed abiword without this plugin\n. pacman -S abiword-plugins\n. we can close that since it works for me on arch linux since I installed abiword-plugins\n. thx for this bug report. I will have a close look on that today\n. Yes that can be closed\n. Its a feature that the name list doesn't go away, many people wished that. You can hide it with clicking on the person button or a other button again. That this prevents you from clicking on other buttons, is cause the panel you added on primarypad, if you click on close icon, you can click on other buttons again\n. @johnyma22 do you understand what I mean?\n. no, shutdown is right. I see that its confusing that there is a close and a shutdown. Close closes the database connection and shutdown waits until all buffer is flushed until its closes\n. How you want to disable them? And why? \n. It looks like it goes to the 1 Gb RAM Limit. That should not affect much people but I'm sure its a pain to debug\n. is that windows?\n. It will work with the next iOS version\n. There is nothing we can do to add support for the actual iOS version\n. @bpierre believe me there is no way that is worth the afford. If you find one, please tell me. I discuss this nearly every week with someone, everybody wants that believe me. We know for sure that it works with the next iOS version and thats enough \n. Sorry, I don't like the way you solve that problem... To be honest, I don't have a better way so far... \n. thats fixed\n. is this still a problem? Abiword should work with windows\n. @jtlebi Yammer did add support for headings... we will port the code at some point... \n. yeah\n. thx\n. Can anyone reproduce that?\n. the empty line bug... yeah we know about this... thats an issue from the old etherpad editor... \n. This commit fixes it\nhttps://github.com/yammer/etherpad-lite/commit/247302bf6dc5fe632547714ff05763aad7ff49a7\n(thats a private repo)\n. Can some please test if my commit fixed that problem\n. @johnyma22 to revert or not to revert? That is the question\n. weird, it always worked pretty well so far with nginx\n. This is basicly a socket.io bug, but I will try to figure out what is the problem\n. This should be fixed with https://github.com/riseuplabs/etherpad-lite/commit/97e9eb84afd2f3f712330386ec0af547891e69aa \nplease confirm\n. Thats a feature request\n. I think this is what he wants, he wants that it removes the tab\n. not sure if this feature is worth the work\n. Whats the status on this?\n. Thx a lot for this fix. Sorry that I didn't manage to get time fixing that\n. try using 127.0.0.1 instead of localhost. It looks like it can't resolve the hostname of your mysql server\n. thats very strange, there should be at least a message why it crashs. Try to start it manually with bin/run.sh, just to test\n. not sure if this is a windows specific bug\n. a hardware crash is really not an etherpad lite issue\n. merged, thx\n. You're right we need to catch these parse errors. But if such an error happens, we need to skip the whole pad and not only the broken part\n. I had a proper fix in the develop branch. Cherry picked that now https://github.com/Pita/etherpad-lite/commit/6bcd2886e9bec06ed47a0d3ee3f1a98831178b98\n. It uses a cookie. How can I reproduce this bug?\n. nope, but this must be a new issue. Pretty sure it didn't do that on 1.0... Maybe you wanna check out old version via git and play around where this bug was introduced\n. it worked on 1.0\n. > https://github.com/Pita/etherpad-lite/pull/203 just made a pull request, check it out :)\nCan someone test this please\n. This is a bug in den dependencies of etherpad lite, not in etherpad lite. And it only outputs a warning, it doesn't create any problems. I close that issue\n. duplicate of #260\n. No... bad idea. There is no sense in live editing without an internet connection\n. merged it\n. yeah, I messed it up\n. yeah thats a known bug... The old Etherpad had that too\n. Any change we can workaround this abiword bug?\n@Wikinaut Please find out at which abiword version it works and which not. You can get the abiword version with \"abiword --version\"\n. you could give the settings file as an parameter.... I will think about that\n. Wikinaut suggested to set the settings file as an parameter\n. Can someone implement this settings file as a parameter? Shouldn't be too difficult\n. This looks for me like you changed the client side javascript and produced a syntax error. Uglify-js refuses to compile invalid javascript, this is all. \nIf this is not correct, feel free to reopen this issue\n. yeah, what is the bug here?\n. Not sure how difficult this task is... depends on how clean the yammer commits are. If this is to diffcult I would prefer do that for 1.2\n. There was a missunderstood. Yammer didn't remove the iframes :/\n. Thats fixed. But anyway, manipulating window.location is bad practice\n. @marcelklehr yes this is fixed\n. Can you please check if this commit is fixing it https://github.com/Wikinaut/etherpad-lite/commit/5ea8dd6b7005c69cda8824197e8ec849e559207a\n. thx for testing too // cc @wikinaut\n. I close this\n. any error messages or other infos?\nhow do you know its not saving?\n. @johnyma22 read ;)\n. merged, thx\n. If this works, we can use the html import do better file imports too. At the moment Abiword converts everything (word, pdf, ...) to plain text and this gets imported, but makes us lose the formatings. We can advice abiword to produce html and import that\n. jsdom is C library... That means this code will never work under windows.... We're trying to avoid C libraries. Is there a pure javascript library that does the same?\n. My mistake, jsdom is not the C library, its contextify, a dependencie of jsdom https://github.com/brianmcd/contextify\n. https://github.com/tmpvar/jsdom/issues/360\n. Lets talk with the jsdom guys and see if we can find a solution. I would love to have this feature\n. How did you test it? You have example HTML for me?\n. Ok cool. I played a bit with jsdom. We will probably go with a jsdom fork without contextify. Contextify is not needed for our purpose and it should work without it\n. I pullled that today. It works successfull with the html you gave me. Unfortunately we can't use that to do the import cause abiword looses the text attributes while the convert :/\n@Randy can you please test the setHtml function on Windows\n. I mean @kingkaeru\n. @kingkaeru thx\n. http://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&ved=0CCAQIDAA&url=http%3A%2F%2Fwebcache.googleusercontent.com%2Fsearch%3Fq%3Dcache%3A92nfjVIlKNMJ%3Ablog.codeborne.com%2F2011%2F10%2Fetherpad-lite-migrate-data-from-dirtydb.html%2B%26cd%3D1%26hl%3Den%26ct%3Dclnk%26gl%3Dus&ei=q0zFTpiIGbTbiALZq7jpBQ&usg=AFQjCNFK6nIo8Wqc3miM5GDIkdSaMSHZEw&sig2=mUJQjrKvkKj8UVjGOSGK2A\n. @soul9 you're right. There should be a comment in settings.json or in the readme or somewhere. You wanna do this in a pull request?\n. done\n. @johnyma22 Can you ping the people to do that please?\n. No the draft is not up to date. I will ping you when the draft is ready\n. what you're waiting for?\n. just implement it and do a pull request\n. Wikinaut, Y U NO learn creating proper pull requests\n. please create a proper branch with only the one change you want to commit and press pull request. Maybe you should delete and refork your github repo to ensure there are no old changes left\n. thank you very much\n. We have to wait that this socket.io bug gets fixed https://github.com/LearnBoost/socket.io/issues/652\n. I did this today... its not silent cause this would create problems with commits that we're created while the reconnecting process. I keep this open cause I want some tests about that\n. This isn't as easy as I thought cause the jquery.js is using another header format...\n. done\n. This commit looks like it works but you duplicated a lot of code. My philosophy is to avoid that\n. John, please click on the link and read my comment about it. This will answer all your questions\n. Glad that you're ok with that. I always feel bad when I reject pull requests\n. works great. Thx\n. this is done, thx to @jhollinger \n. wtf... Schreibs vielleicht mal in Deutsch damit ich weis was du meinst\n. +1 @rspeer\n. I will fix it\n. done with https://github.com/Pita/etherpad-lite/commit/88a8853fdab412263a5b20f2cfbb22919a0126db\n. @jhollinger are you sure the space bug isn't fixed already? This should have fixed it https://github.com/pita/etherpad-lite/commit/5ea8dd6b7005c69cda8824197e8ec849e559207a\n. Why did you decide to do 2 options? What would be the usecase where you would enable one but not the other? \n. merged, thx\n. Just add a checkbox to the embed popup with \"read only\" and if you click it it changes to the readonly embed link\n. And add a share button for facebook, twitter, reddit too ;)\n. I try to get this picture out of my head. You with a windows 3.11 floppy stabbing it into your face\n. 4 textfields? why not one textfield and checkboxes? 4 textfields are informationoverflow\n. Youtube is doing the share function too with checkboxes. I don't think this is a good solution\n. Let's quote John \"99% of the users don't need this feature\"\n. Thats the idea yeah. Save one button here and add two checkboxes in\nthe submenu. But this submenu is totally unusable\nOn 23 November 2011 08:37, John McLear\nreply@reply.github.com\nwrote:\n\nHaha, that's why I didn't create a new button or it. \u00a0I'm actually thinking it might be a good idea to get rid of that read only button and just have the embed button as a \"share\" button where all of the share options are listed..\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 23 November 2011 16:36\nTo: John McLear\nSubject: Re: [etherpad-lite] Supply a read only embed link (#223)\nLet's quote John \"99% of the users don't need this feature\"\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/223#issuecomment-2851035\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/223#issuecomment-2851049\n. I closed this\n. @aicm Thats fixed already\n. You might just had a bad browser cache\n\nOn 22 January 2012 17:54, Frankstar\nreply@reply.github.com\nwrote:\n\nweird, now it works .... something is strange here ...\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/224#issuecomment-3604096\n. do \nnode --version\nnpm --version\nplease\n. yeah you're npm is broken\ndon't know if gentoo has a npm package, but if not try that\ncurl http://npmjs.org/install.sh | sh\n. installDeps does more than npm install. Anyway it works now for him, this issue is closed\n. @johnyma22 Please  look at this and tell me if its usefull\n. naaah... If you think it is bad we just won't merge it\n. settings are always a pain\n. @kingkaeru @johnyma22 so we agree that we don't want this feature?\n. I close this, sorry @wikinaut\n. @johnyma22 please decide about this pull request\n. bump, @johnyma22 please decide about this pull request\n. +1 \"I fully agree with you, I have never used Shift-TAB in my life.\"\n. I feel like here is a large discussion about a feature nearly nobody cares about\n. I like the idea\n. I think we can close this\n. I know that I've seen that too. But I can't reproduce it anymore\n. I think this only happens if you upgrade from an older jquery version\n. Its installDeps.sh\n. yeah, but how to resolve this?\n. I merged your fix. Thx\n. many people are trying already. I for my own think this is not possibly. Or only with a very dirty hack\n. closed\n. Is already implemented. Just have to enable abiword https://github.com/Pita/etherpad-lite/wiki/How-to-enable-importing-and-exporting-different-file-formats-in-Ubuntu-or-OpenSuse-or-SLES-with-AbiWord\n. Maybe we should remove the bar at the bottom(and all the buttons on it) + chat. They take to much space imho\n. //cc @johnyma22\n. imho all buttons on the bottom panel are useless on a mobile\n. thats fixed, thx to @alx pull request\n. merged, thx\n. Looks good so far. Ping me when its ready and I will look closer on it\n. I'm not sure if its a good idea to hash on the client side\n. any news on that?\n. any news on that? \n. I close this cause you did another pull request about password security\n. Mozilla is using Etherpad not Etherpad Lite. This is why it looks different\n. No, Etherpad uses Java. Look at the Etherpad Lite Readme there is a comparison\n. Why did you reopen it?\n. @wikinaut http://einfachjabber.de/jabber\n. I applied @lorenzogil 's patch. Should be fixed now\n. The QR Code is only for the readme link? \n. Sorry brainfart\n\nI mean the readonly link. The QR Code shows only the read only link, not the normal pad link\n. Yes please show a qr code for the normal pad link too\n. Great work!\nCan we change that so it works with youtube and vimeo links too? Mazybe also twitpic and imgur\nAnd it would be great if we can add something so the user sees which link belongs to which video/image\n. afaik youtube is using iframes to embed videos. If thats the reason why you hate flash\n. @markred @0ip imho there is no need for resizing. Or at least not in this step\n. @0ip The normal user can't see the difference between a a twitpic link and a link directly to an image. The same problem is with videos, its even bigger there. So Youtube support would be very helpful. \n. Flash might be dead, but Youtube isn't. But if this is such big problem we should at least implement support for imgur and twitpic\n. Btw, how will this look like at the timeslider and htmlexport?\n. @tschweitzer yeah, cause @0ip said his commits were too dirty\n. I know what the problem is and I know how to solve it\n. thx\n. @ja-jo what is grayedOut?\n. afaik supports log4js logrotating. You may wanna dig into the documentation of log4js and do a pull request https://github.com/csausdev/log4js-node\nElse this feature won't made it into 1.1\n. please implement it if you want that\n. We have to do some performance testing of libreoffice vs abiword. But I don't believe libreoffice can beat abiword\n. I don't see the sense in replacing abiword. Remember that we want to support windows, linux and mac. We can't let the user compile stuff just for document converting. What are the benefits you see in using libreoffice?\n. The main reason why I chosed Abiword was because its very easy to communicate with it. It has this interactive console that we can use. So we can start abiword once and send it commands over the stdin stream. This enables us to convert documents very fast because we don't have to start a process. Any other solution I found had one of this problems\n1) You have to start a process for every convert task. This makes it really slow\n2) It's not supported cross platform\n3) Does not support Word. @johnyma22 wants to use Word\n. thats merged, thx\n. I can see no changes on htmlexport and timeslider. Did you test if the ordered list are working there?\n. any news on that?\n. I'm not a fan of merging unfinished features. This isn't on the list for 1.1 so it would be an extra. I'm happy to merge it when its ready\n. looks good. But the htmlexport code is still untouched. If you manage to update this, this feature will make it to 1.1\n. The indent of ordered and unorderd elements is very high. I don't like that\n. I don't know how its correct, but its really broken cause you can't create list that starts with the line. Its always about a 1cm away from the line beginning. Take the half of the indent and it should be ok too\n. And feel free to add some css to the html export, there is already some css in there\n. Timeslider works, Htmlexport works too - great work\nOnly some small things I would like to change: \n1) Why is the whole text suddenly so far away from the left border? Please change that back to the old state\n2) The icon for the orderd list is ugly, maybe @0ip can help you here\n3) Someone needs to test that on IE 7 and IE 8 @wikinaut \n. @Wikinaut @johnyma22 see here http://pitapoison.de:9001/\n@ja-jo I found a weird bug. When you create a ordered list and press Enter it deletes the ordered list sign. \nAnd because of this space thing. I see where you coming from, but I think half of the space should be enough too\n. Adding Documentation in the source code is always appreciated. I think its also a good idea to add a \"how to debug\" page to the wiki (instead of improving the section in the readme all the time)\n. May the Force be with you! ;)\n. Thats fixed\n. Can you give us a bit more details of what you want to refactor and how? How can we help you and whats your interest in working on it. I appreciate code clean ups and I know parts of the code are really bad. \n. @jtlebi So you wanna change the OT algorithm? I don't think this a good idea. These parts are working well and were happy to have it, even if they bad documented\n. @johnyma22 he is not talking about client side code\n@pdobrev We don't know much about the Changeset Library. We took it from the old Etherpad and looked at how they use it. Thats why I can't tell you if this part is a problem or not\n. @pdobrev Can you come to the #etherpad-lite-dev irc channel and tell me how you created them by hand?\n. duplicate of #250\n. This might have been part of this one big pull request that I rejected. Just make smaller pull requests from feature branches\n. Please open again a pull request, but this time please not from your master branch\n. duplicate of #250\nI will fix that today\n. thats merged localy\n. John please check if anything of you is missing in my fork and please erase your fork after that, learn git and fork etherpad-lite again, thx ;)\n. feel free to create a pull request\n. I don't know why the editor is doing that. But thats another issue. I close this one\n. I can't reproduce that\n. but I found this error message in the code https://github.com/Pita/etherpad-lite/blob/master/static/js/ace2_inner.js#L1792\n. true, if you paste really fast you get this message...\n. Someone should test this with IE 7 und IE 8\n. The whole API needs a proper test suite. I will do that after 1.1\n. duplicate of #270\n. please come to the irc so we can talk about that\n. 1) please don't outcomment code, delete it - we have a version control system, so there is no need for that\n2) your commits are based on a very old version of etherpad lite, they don't apply without merge conflicts\n3) you break a lot of the group code\nplease let us talk on the irc so we can think about how to solve that clear password transport problem. But this pull request has so much bad parts that I can't accept it. Sorry\n. Yeah you might be right. Our first goal was to get it working and see if people are using it. At the moment it looks like people are using it and its planned for 1.2 to break the API anyway, so I will look on this\n. The best way to talk about that is on the etherpad mailinglist. But don't expect a lot response, the old etherpad is dead\n. Its not so easy. Now you can choose black and white as a color. Please test your code before you do a pull request\n. ok\n. I still don't get whats the benefit of not allowing spaces in pad names\n. are you sure thats not a feature? I'm pretty sure that happens in all browsers\n. looks good, I will try to find time on the weekend to look closer on it\n. You can remove the windows switch https://github.com/Pita/etherpad-lite/pull/294/files#L0L237 \n. @cweider Yeah true. I was too lazy today to clean the 22332db commit today, will do this later\n@booo Sorry but I can't merge this. These white space removes makes the pull request so damm ugly that there is no change to merge this\n. thank you\n. thats fixed\n. Thx for the hint @hoffmann, thats fixed\n. thx\n. yes its a bug\n. I close this cause we didn't hear any news since weeks\n. looks good for me\n. merged localy, thx\n. I remember that I tried to enable that and failed. I think the problem was that the editor replaced the text in the dom all the time\n. It's probably possible but this is not high priority for me at the moment\n. @cweider I tried to enable this in the past. The problem is that browsers only do spellcheck on the part of the text the user has written. But the Etherpad editor replaces the elements of the text all the time, so the spellcheck isn't shown anymore\n. @jdoss looks like aspell is a native programm. But there might be a javascript equivalent to that\n. @jdoss looks good. If you want to integrate it, go for it and make a pull request\n. That should be easy to fix with just a litte bit of javascript that sets window.top = url\n. Yeah we talked about that. Thx for the pull request\n. I tested this today. Problem is that minfied:false doesn't work anymore. Without this its nearly impossible to debug the client side code. Can you please try to fix that\n. Another side effect of this pull request is that line numbers are not showed anymore\n. Awesome work. Thx a lot\n. @johnyma22 Looks like we didn't\n. Thats fixed\n. If need to escape chars that create invalid json. Call node and use JSON.stringify(\"yourpassword\"), to find out which charachter\n. This is a complete rewrite of server.js. I don't really see the sense of this massive change\n. There is a merge conflict with this pull request. Can you please fix them? https://github.com/Pita/etherpad-lite/pull/314\n. Thx a lot!!!\n. We're have a different aproach to solve the problem. The plugin system that gets created at the moment allows you to extend the express server. We should go down this road. Thx anyway\n. Doesn't work for me http://imgur.com/2sCQX\n. Works well for me, great work\n. This will be a plugin one day\n. Can you please fix the merge conflict?\n. I can has rebase? Sorry that you have to wait so long to get this merged\n. We're have a different aproach to solve the problem. The plugin system that gets created at the moment allows you to extend the express server. We should go down this road. Thx anyway\n. yeah, but the pluginframework will allow you to hook into the extending process of express\n. No, no limit\n. The main cpu problem on huge pad is the timeslider. @riseuplabs if you forbid the timeslider link in the nginx config you should be able to reduce cpu load. However, we need an automated load tester\n. I have seen this error before. It's very difficult to reproduce...\n. I write you on my list of damn smart people that I know trough the Etherpad Lite project\n. merged, thx\n. Wikinaut, we had this discussion a long time ago. Pads will always be under /p \n. works well, thx a lot\n. @cweider\n. John, Y U NO test before merging?\n. +1\n. Thats fixed, or?\n. I tested it and it worked well for me. But this part of the code is just too important and I would love to test it with @jhollinger 's ruby client testsuite\n. @jhollinger Can you please test if this pull request doesn't break the api?\n. @booo You have the same issue? https://github.com/jhollinger/ruby-etherpad-lite/issues/1#issuecomment-3738638\n. I installed this old ruby version in the past to install something, I forgot what\nAnyway, thx for testing and thx for the pull request\n. thats fixed\n. Afaik it gives you a warning that this happens. Thats the sense of the import, that it replaces the text, this behauvior is absolutley correct\n. I think there is just a bug in uglify-js that happens randomly. I will update it\n. @jhollinger o probably the fix of @booo ... weired, anyway we need to find a way to optimize the minifing process. It takes about 20 seconds at the moment. Before @cweider changes it took 2 seconds...\n. @johnyma22 afaik we use it for the chat animation... the code of jquery ui we ship is only that part of effects we really need. Anyway, if we can drop it we should drop it\n. @johnyma22 fixing the import is more important ^^\nImho we can remove the chat button on the bottom and keep the chat sticked on the right side\n. bin/run.sh is calling installDeps.sh, also does buildForWindows and debugRun. installDeps is basicly the part these 3 scripts have in common. I still want it as a separate installation step cause this helps us to get better error messages from the user aka \"dependencie installation fails\" instead of \"doesn't start\"\n. \"I still want it as a separate installation step cause this helps us to get better error messages from the user aka \"dependencie installation fails\" instead of \"doesn't start\"\"\n. @cweider we could implement a checksum check. I don't understand why you think code.jquery.com is a untrusted source\n. I have seen this on piratenpad multiply times :(\nI debugged this a bit and it looks like the server sends a bad atext. The client tries to generate a changeset based on this atext and the changeset it generates is invalid. \n. Take the html export and copy it into another pad. Its a client side error, not a server side\n. @cweider I feel like this is related to your client side changes...\n. you forgot to outcomment the mysql database settings\n. feel free to implement a ueberDB driver for riak \n. thats fixed\n. Thats not bug, since we merged #400 its just called different\nhttps://github.com/Pita/etherpad-lite/pull/400\n. Sorry but I like the style server.js is written. It gives a beginner a nice overview. It might be a bit overloaded, but imho its still ok. Spliting this file is not worth the extra of complexity\n. seriously @booo, instead of telling me that I don't understand what I'm doing, you should first of all learn git and do proper pull requests and commits\n. The idea of a prototype is to create multiple instances of something. But I don't create multiple instances of a module, that's why prototypes are useless here. Maybe you should try to understand software patterns before you use them\n. Depends on the people and if google provides an easy api for this\n. I can has rebase?\n. What join means that is he builded etherpad lite on windows using this guide https://github.com/Pita/etherpad-lite/wiki/How-to-run-Etherpad-Lite-from-source-on-Windows\nWhich didn't work cause its too old\n. You can do that on your own by just getting the text, transform it the way you want and set it again\n. Not too difficult. But its such an edge case that its not worth to implement an api call for that imho\n. You need two api calls anyway, cause before you can manipulate the text you need to know the text. And the text can be changed on the server side between two api calls\n. But to build an app based on etherpad the api is the wrong way\nYou need a socket.io connection and send changesets over it, thats the only way to do that. Everything else it too heavy\n. The idea of the api is to let another application manage pads, not to build an editor on top of it\n. Its possible to allow that, start reading here https://developer.mozilla.org/en/document.domain\n. It probably makes sense to set the Access-Control-Allow-Origin:* by default. Or is this a huge security issue?\n. +1, but I think I tried that in the past and its not as easy as I thought\n. You can read that out of the revisions yes. This information exists, we just don't expose it at the moment\n. thats really weird, looks like some bug in the export code\n. Looks like a bug in exportHtml.js\n. Tabs gets replaced server side by whitespaces afaik\n. The problem of this solution is that it removes any chance of scaling etherpad lite. So far we scaled Etherpad Lite by just putting a proxy in front of at it that makes sure that all users of a pad goes to the same instance. This made sure that no the database cache doesn't conflict with other instances\nWith this solution multiple instances have to access the same db key, which means this needs some kind of locking. And this only works for new groups and pads\nSorry but this problem isn't as easy as you thought\n. One thing you can do for the admin interface, which would be very very helpful, is something to aggregate the errors happing in etherpad lite. I mean the server side errors and the client side errors. There should be a dashboard that shows when which error happend, or even better, how often a error happens. At the moment we have to grep this stuff out of the logs\nYou can get the server side errors here https://github.com/Pita/etherpad-lite/blob/master/node/server.js#L412\nand the client side errors here https://github.com/Pita/etherpad-lite/blob/master/node/server.js#L371\n. Can you add the new setting into settings.json.template?\nAlso, I feel like this minify thing gets more and more owned by you. Can you add some more comments please?\n. I let @0ip decide about that\n. great, thx everyone, this is merged\n. -1\n. One user has already one color on every pad\n. +1\n. good idea, we just need to document that somewhere so we don't forget about this feature\n. @fourplusone thats right if you have lots of command line parameters, but so far we have only one, and this one is optional\n. A wiki article called \"how to pass the settings file via command line\" would have been enough imho\n. When have you downloaded that file? Afaik @cweider cweider fixed this bug today. The windows zip gets rebuild every 6 hours. If the latest download doesn't work try it again later\n. Are you sure that you don't just move the error some lines down? \n. ok, but please add a comment what the checks are doing and why they are necassary\n. great, thx a lot\n. cc @johnyma22 \n. do a pull request please\n. Wikinaut, Y U NO learn git\n. Interesting thought. We should investigate in this\n. You should use ufw, its much simpler than iptables but it does the same job. Anyway this not a etherpad lite bug. I close this\n. all merged, thx\n. //cc @cweider \n. we can generate the toolbar on the server side once the template/plugin framework is working\n. @cweider I let you decide about this pull request\n. @cweider please merge this when you thinks its ready/ok\n. If you document it in the readme thats enough, thx\n. Is there any advantage of make files? I mean, installDeps.sh works pretty well for us, there is no reason for us to go away from that\n. John fixed that\n. Thats not a real bug, its just a design decidicon. But to ensure we don't confuse people again and again with that, we should just add a small comment in the html\n. Can you please paste your settings.json\n. There is a setting in socket.io to do that\n. We merged #468\n. So we know that there is a serious bug in PadMessageHandler, but I'm not sure how to resolve it properly\n. Its not the end of the world if the windows package is broken for a few days. I don't want to revert cause there will be a huge change comming in over the next days (plugin framework) and this will make it very difficult for you to commit your changes again\n. @cweider has already a fix for that. We just can't merge it at the moment. But I updated the zip so it includes this patch. So the public download should work now again\nProblem is that I had to disable the automatic build every 6 hours, someone needs to remind me to enable this again once we fixed that bug\n. @gedion check out the latest and try again. The change who cause this problem is very new\n. @0ip please ask @johnyma22 to look over your pull requests. Don't merge them on your own\n. Chrome\n. @cweider #521 is pulled\n. @jtlebi do you start the server with bin/run.sh?\nI feel like you only run \"npm install\". There is no need at all to do this on your own, run.sh will do that for you\nI get the same errors you have if I only run npm install and copy the settings file from the temple\n. ok, please use bin/run.sh instead\n. @gared Does that fix it for you?\n. ok, pulled, thx\n. I removed it. Why do you need it? It was this commit https://github.com/Pita/etherpad-lite/commit/d00be5b8172af29e78e11b219b3a3ea5ef59611d\n. The problem was that browsers fires the unload event in weird situations, see #200. At the same time, I didn't get the reason why this is necassary\n. I haven't seen it as a drastic change. I still don't get why you need this unload event so much. You can't ensure that it gets fired anyway. If you really need it, just listen on your own for the unload event. But I told you that I removed it cause it got fired at the wrong time, see #200\n. In the cases where these charachters gets replaced with two question marks, it breaks the pad :/\n. Maybe we can solve that without an alter. Its fascinating how much you can do wrong at a 2 column table. I should get an award for that ;)\n. The most interesting thing is that it sets the value correct in pad:$name:revs:$number, but not in pad:$name ... that why I'm not sure if an alter helps at all\n. there is timeslider.css for that\n. @cweider @jhollinger feedback please\n. @wikinaut you can already place a favicon in static/custom https://github.com/Pita/etherpad-lite/blob/master/node/server.js#L399\nIf theres a favicon there eplite will prefer this one\n. @redhog I will have a start on templates this weekend. Sorry for the delay\n. @redhog is there any change we can do this changes by small steps instead of one big change? We will probably break it at so many points with this merge (even with proper testing). \n. I don't talk about merge conflicts, I talk about bugs that a huge change usually introduces. It might take one or two weeks till etherpad lite is usable again\n. @redhog sorry for being so complicated btw. I just worry a lot about things, @johnyma22 knows that ^^\n. @redhog I will add it afterwards, small steps\n. I try to merge now\n. I feel like this is the right time to etablish a seperate develop branch \n. This changes makes it more difficult for new programmers to understand where the onclick event ends up. I also guess that this change will cause problems in different IE versions...\n. I think we should mess instead with the settings of socket.io https://github.com/LearnBoost/Socket.IO/wiki/Configuring-Socket.IO\n. duplicate of #513\n. All hipster use sublime\n. lol, completly forgot about that. Feel free to remove that in a pull request\n. yes, change it in there. I think more then 1000 characters doesn't make sense, but there is no technical limit\n. Have you closed that by mistake?\n. patch3 is basicly the same change. I merged that\n. merged\n. maybe you can make an apache rule that passes the username with a ?userName parameter\n. @johnyma22 Please test and merge if ok\n. search for getselection, I guess in ace2_inner.js\n. @0ip came up with thie QR codes afaik\n. are you talking about the develop branch?\n. @mikkin I know you are familiar with vagrant. Can you please look at this pull request?\n. There is a easy to resolve merge conflict in .gitignore, can you please pull the latest develop to fix that?\n. @rhelmer ok, please make a short \"howto vagrant\" page in the wiki. That would be awesome\n. @rhelmer perfect, thx\nIt would be nicer in markup, but I can do a pull request later doing that\n. Whats your git hash? //cc @cweider \n. I will look into that tomorrow\n. Please do only pull requests for the develop branch\n. Redhog, please start making feature branches. This is another huge pull requests. We wanted to stop that. Please do small things and do them in seperate branches. Also critical errors are more important than features at the moment\n. Please only important bugfixes into master and if so, please put them also into develop\n. @johnyma22 @jhollinger Only important bugfixes directly into master and if so put them also into develop\n. @johnyma22 @jhollinger Awesome. Next time I will check before I say something like that ;)\n. This replace colon thing is actually a feature. If you can use the colon you can do some kind of sql injection. Basicly you can overwrite values that you shouldn't be able to overwrite. The other limitation is the url. URLs doesn't allow non english characters, and the pad name is pad of the url\n. see http://imgur.com/vvMpj\n. But yeah you're right, we should escape the padname properly when setting the db value\n. see also http://stackoverflow.com/questions/1547899/which-characters-make-a-url-invalid\nYeah of course you can open a pad with whatever name you want. But it will always save internaly the encoded english representation of it. I don't see the problem here btw. It works for me with non english charachters http://beta.etherpad.org/p/%C3%A4%C3%B6%C3%BC\n. Yeah but you're right, we shoud allow colons again. But we need to find a way to escape them internally\n. 0.7 is unstable. We will support 0.8\n. Cool, can someone check if eveything works fine with 0.8 and do a pull request?\n. Yeah thats a database issue :/ see #526\n. There is even a test already that replicates this bug. When the test system gets merged, this will be the only test failing\n. Thank you!\n. The problem is that we allways updated settings.json but not the windows setting file. There were some windows specific default settings in the past, not sure if this is still necassary\n. @johnyma22 can you write a test case for this? This is how we should handle UI bugs from now on, 1st write tests to replicate them and then fix them\nI just tried our test reporter in opera, looks like the monospace test is also broken in there\n. This already used to work, you only have to change to fix this one line to make it working again https://github.com/Pita/etherpad-lite/blob/master/bin/installDeps.sh#L66\n. not sure why you did a pull request for this. A simple git pull origin develop would have done it\n. Looks good for me. But out of curiosity, can I do translations like \"you have {amount} new mails\"? Cause this is the point where translation gets really tricky. See here http://www.youtube.com/watch?feature=player_embedded&v=MqqdzJ98q7s . As far as I see we don't have this specific case so far, but it will probably come with extended functionality \n. Also I don't see any modifications to the client js. How does it work when I set another text with jquery of if I create a new dom element on the fly?\n. The tests that John wrote for this are failing in every browser. @johnyma22 we should introduce the others to our new test framework. Everyone should write and fix tests\n. I get this when I run the script in your branch John, looks like a syntax error\nmake docs\nmkdir -p out/doc/api\nnode tools/doc/generate.js --format=html --template=doc/template.html doc/api/api.md > out/doc/api/api.html\nInput file = doc/api/api.md\n[ '@include embed_parameters',\n  '@include http_api',\n  '@include hooks_overview',\n  '@include hooks_client-side',\n  '@include hooks_server-side',\n  '@include editorInfo',\n  '@include changeset_library',\n  '@include pluginfw' ]\nifeq (Darwin,Darwin)\n/bin/sh: -c: line 0: syntax error near unexpected token Darwin,Darwin'\n/bin/sh: -c: line 0:ifeq (Darwin,Darwin)'\nmake: *** [out/doc/api/api.html] Error 2\n. There is a reason why I excluded opera. Believe me, you don't want that extra pain. We should focus on the most important things imho. Running the tests in opera will probably create a lot of problems\n. Updating wd might be dangerous, testing now\n. wd update looks good\n. Not sure why you downgraded the node dependency, but besides that a +1 from my side\n. Looks very brutal for a small feature\n. I don't get it, what did you do here excatly. Looks like you copy pasted exportHtml. Thats a lot of code duplication too, code duplication is always bad\n. Could you be a bit more specific? I just tested it with windows xp on IE 8 and Chrome, the pad loads fine for both. I know that we have some windows specific code on the client side\n. I see. Looks like the windows install script looks the code for downloading jquery. Not sure how you would do that on windows though. But thats the problem here. I removed the checked in jquery cause the install script should download jquery. Didn't know that we now have a install script for windows, so I only tested the unix one\n. Looks like you downloaded jquery with the windows installer in the past and the removed the code again, why? https://github.com/ether/etherpad-lite/commit/df38915b63f92bd32dbbf5101269e70ed41621b3\n. Sounds like a good idea\n. I looked a bit into the jquery npm package. Seems like it's out of date and specialized for using jquery inside of node.js. Maybe for now just use a small node.js script for unix and windows to download jquery. The other benefit of this is that we don't have to update the jquery version at two places\n. For now I just check in jquery again. I'm playing with the thought to port the full installDeps script to node.js. So that the shell script only checks if node is available and then starts the node script. Cause even with unix its difficult to write scripts that work under Linux, Mac, SunOS and all the BSDs. There are libraries out there that make file operations in node.js very easy, and even in a sync way. But thats too much work for today\n. Looking into this right now\n. Fixed in #1503\n. you guys should look into cheerio https://github.com/cheeriojs/cheerio\n. I created a fix for this. Please review https://github.com/Pita/ueberDB/pull/71/files\n. Hey webswo0l, I have some free time this weekend and I'm happy to help. Let me know if there is anything I can do.\n. Is this work in progress?\n. merged it for you :)\n. Something that couchdb sends to etherpad lite causes it to crash. That could be anything really. A configuration error or a problem with your version of couchdb. \n. Thank you all for your feedback on this. It seems like most people agree with a frontend rewrite in React. I'll start thinking about how to do that and then we can go to the backend maybe later.\n@fralix I played a bit with Rust myself and I like the ideas behind it. But I had to realize that the eco system is still way smaller than the one of JS. So I think it would be too hard to find dev support. \n@rhelmer What are the current issues with mobile? I guess if we would make this a priority for a  frontend rewrite it would be easier to justify. please remove the branding at this point\n. @Wikinaut this is already fixed now or?\n. This part shouldn't be necessary, cause it should reject the user on the socket.io connection try. I think we shouldn't have 2 positions in the code where we check permissions. Everything else looks fine. Will have a close look later\n. editOnly is by default true? why?\n. You're changes on ace2_common.js breaks IE 8. Maybe you can help us fixing that https://github.com/Pita/etherpad-lite/issues/245\n. my fault that I didn't look closer on it. But you broke the import here. Now it calls the callback only on windows\n. why a timeout of 5 seconds?\n. I think the idea was to slow down a brute force attack. I reduced it to 1s now\n. everyone can set a password? wtf?\n. yeah but everyone can overwrite each others password too, that makes no sense\n. why are you removing a id tag?!\n. ah ok\n. plaease change it here to the old behauvior\n. why creating a global value here?\n. ?!\n. ah ok\n. please keep relative paths\n. the same here, please don't change this paths\n. I don't really get what this additionalSetup is doing\n. double error check?\n. 2 spaces indent instead of 4 please\n. @0ip he's using browser prefixes here, is that ok for you?\n. why does this have to be a global?\n. do feature detection instead of hard version checking if possible\n. All this msgqueue stuff make me really worry. Why is this necessary?\n. Don't forget to remove this\n. Marcel is right, this breaks a fresh installation of etherpad lite. It probably worked for you cause you still had the npm dependency installed. Do a rm -rf src/node_modules and a bin/run.sh and you will see a dependecy missing error\n. Why not use a random value? Whats the benefit of letting the admin set that setting?\n. please use strict mode\n. Might be more future proof if you pass it the whole message, no?\n. why does it pass the attribute manager?\n. ",
    "bdarcus": "No problem; added to TODO per request.\n. ",
    "JohnMcLear": "Joe Cornelli started working on this, it was called GravPad afaik\n. I have tested this in IE7,8 and 9 and I am unable to replicate this problem\n. websocket uses port 80 assuming you haven't set a different port.  kingkaeru, did you test it using ie9 compatability mode or did you load up a vm and test 7 and 8?  Thanks all\n. just another note, pita we did issue a pull request for a bug in socket.io that we discovered a few months ago.  We patched it on PrimaryWall, maybe Noel can browse to http://primarywall.com and see if that website works okay for him in his IE?\n-- I patched it on beta.primarypad.com, and this bug only appears together with nginx (Pita)\n. Thanks kingkaeru.  Noel, if your connect is being proxied by Squid websocket may be returning an 0 byte response which can cause problems.  If you look in \"NET\" in firebug you will be able to see if you are return something other than a blank response (ideally you will see the error contents in the response of the websocket request).\nThis is a long shot though, it will be interesting to see what you get from primarywall.\nCheers all\n. Yes PrimaryWall is open sourced, http://wiki.primaryt.co.uk/w/Primary_Wall\nSomething is broken/weird with your IE man...  Can you please send a print screen?\nThanks\n. Run an antivirus/malware scan on this machine.  It looks infected to me but I could be wrong.\n. Can you please try some of the other sites here: https://github.com/LearnBoost/Socket.IO/wiki/Projects-using-Socket.IO\ndo they also error?\n. Heh, is it possible to re-install IE7 just to check to see if your install is an issue?  It sounds like something has really broken it.\n. We now run the latest Socket.io afaik, this should be fixed.  I will assign someone to test lighttpd and socket\n. Actually just see the github issue from @pita https://github.com/LearnBoost/socket.io/issues/406 it has way more..  Basically we're still waiting on a fix from socket IO.  Please visit the issue and +1 it if this is useful for you.  Changed to minor because it's not a bug with Etherpad;\n. Please\nClear your src/node_modules\nThen re bin/run.sh\n-----Original Message-----\nFrom: sbrinkmann [mailto:reply@reply.github.com]\nSent: 02 June 2012 11:35\nTo: John McLear\nSubject: Re: [etherpad-lite] lighttpd and ep-lite doesn't work (#28)\nI've just tried the latest version (1.1) of etherpad-lite and the problem is until now not solved. When i try to open a pad the following message occours in the content part of the pad after the connections timeout of 60 seconds:\n```\nAn error occured\nThe error was reported with the following id: '63fWb5HnYOPDr74YxYD5'\nPlease send this error message to us:\n'ErrorId: 63fWb5HnYOPDr74YxYD5\nUserAgent: Mozilla/5.0 (X11; Linux i686) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.30 Safari/536.5\nUncaught TypeError: Cannot call method 'setChannelState' of null in https://foo-bar.com/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define at line 3'\n```\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/28#issuecomment-6076491\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. :( Damn, I assume this is still specific to lighttpd? \n. Thanks @darix greetings in return from the Etherpad Lite team :)\n. Socket 0.9.13 is the latest see https://github.com/LearnBoost/socket.io\n@JDowny Either way it's not an etherpad issue and there is nothing we can do so leaving it closed.\nYou can make the modification yourself if required.  I think at this point we have to hope that @guille is able to get a perma-fix in place :)\n. And this is why @guille is the man.  Thanks!\n. try turn minify off in etherpad\n. PS you can update the wiki too...  Just make sure what you put is factual\n. What version of Etherpad?\nWhat version of lighttpd?\n. Try lighttpd 1.4.33 ?\n. We hate do dissatisfy.  Feel free to fix :)\n. When I try use socket.io and socketio-client from git repos (cloning then doing an npm update on package) I get..\n[2014-03-15 03:19:46.866] [ERROR] console - Failed to load '/home/jose/etherpad-lite/node_modules/ep_etherpad-lite/node/hooks/express/socketio:expressCreateServer' for 'ep_etherpad-lite/socketio/hooks/expressCreateServer': Error: Cannot find module 'emitter'\n[2014-03-15 03:19:46.923] [INFO] console - Installed plugins: ep_etherpad-lite\n[2014-03-15 03:19:46.932] [ERROR] console - Failed to load 'ep_etherpad-lite/node/hooks/express/socketio:expressCreateServer' for 'ep_etherpad-lite/socketio/hooks/expressCreateServer': Error: Cannot find module 'emitter'\nI'm prolly being a noob..  I only got this far and tossed the table over.\n. 1 implemented, fixes this :)\n. I tested this but I'm unable to replicate any errors.  I also created a word document that is a few lines long and tried to import it and it imported fine.  Have you tried multiple browsers?\n. Yea I caon confirm this is no longer a bug.\n. Removing the href and using onClick fixes this:\nChatx\u00a0\n. @carlokok Their is a branch that includes the API now if you want to take a look at it.\n. Then you probably want to research it more.  PHP has an LDAP module, you could use PHP to serve the containers and to create the sessions and the two way talking w/ LDAP.   http://php.net/manual/en/book.ldap.php\n. Thanks, we will take a look asap\n. Seems to have fixed itself.  Unable to reproduce now, might of been a legacy CSS bug \n. Making a start on this 2nite, think I should be able to get it done\n. I have done the client side code, I don't know about adding a button..  I guess if people are techy enough they will either use the API, the jQuery plugin or know to suffix ?useMonospaceFont=true to the pad URL..\n. jQuery plugin btw.  https://github.com/johnyma22/etherpad-lite-jquery-plugin\nWaiting on Pita to pull my changes.\n. Today I gave pita some code that can be used to add advanced functionality to the editbar.  The monospace icon should go in here if you need it in the UI.  I would recommend you use the Parameter though IE http://beta.etherpad.org/p/test?useMonospaceFont=true\n. Use ?monospace=true in the URL\nThis is documented in the Wiki afaik\n-----Original Message-----\nFrom: - [mailto:reply@reply.github.com]\nSent: 21 December 2011 19:24\nTo: John McLear\nSubject: Re: [etherpad-lite] Add monospace/normal font toggle button (#49)\nWould love to add this feature to etherpad lite. If you provide me with the code you prepared I maybe can add the feature. I added a button for switch the font style myself but I don't how to propagate this to the other clients.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/49#issuecomment-3238267\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. That's because one doesn't exist however it will take someone with very basic jquery/html skills 5 minutes to write one for you. \n. Made a start on this, function showHistory is now available in chat.js -- server request & response needs writing.\n. Done by me and finished by Pita.\n. -requirements +dependencies \n. Update on Mobile support:  Will be supported in iOS5 so we expect it will be in webkit in 2012 so we don't want to spend too much time working on it as we expect native support.\n. Update on Mobile support:  Had even more confirmation this will be supported in future versions of WebKit starting in iOS5.  For this reason we're filing this a bug in mobile browsers and NOT in etherpad Lite.  There is very little incentive in us doing the work now and then having to redo it in 6 months time.\n. Great that it's working in 2.2 :)\n. Have asked @0ip to take a look at this as he is more UI focused than me\n. Okay cool :)  Looking forward to seeing what you come up with!\n-----Original Message-----\nFrom: 0ip [mailto:reply@reply.github.com]\nSent: 19 November 2011 18:34\nTo: John McLear\nSubject: Re: [etherpad-lite] Mobile support and some low hanging CSS fruits low priority probably\nWill do.\nBut this could take some time due to school tests etc.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/78#issuecomment-2800157\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. Great work, tested on my phone but can't get virtual kb up.\nFirst thought, allow the buttons to be a bit wider?\nstill not sure all of those buttons should be available by default on mobile, personally I'd hide a bunch of them..\nCan someone confirm/test if highlighting text actually works on mobile devices?\nThanks\n. +1 @pita\n. I think we can close this but I really want to see some screenshots/videos of it being used effectively. \nSorry but I have been busy.  I am going to go through all of the Etherpad issues and emails tomorrow.\n. This bug is in the pad.js - It exists on all etherpad lite deployments as far I can tell.\nI have tried it with minify set to false and the same error exists.  Still not able to find out exactly what the error is as IE just hangs.  Might have to jump into pad.js and manually comment out calls ;/\nUpdate:  The bug was in Socket.IO\n. Putting the pad.js source into JSHint shows an error on line 22, it could be that?\nPita, can you please tidy up the code so it doesn't error in JSHint and put it on my Dev box and I will test in IE tomorrow?  Thanks\n. This is fixed but we're waiting on an updated Socket IO\nSee https://github.com/LearnBoost/socket.io/issues/458\nTested okay on a bunch of deployments.\n. We're working on the IE bug today.  There is a separate issue open for this.\n. Looking into Opera bug now.\n. Yep it does appear to be due to spaces in the URL, doign an alert(padId) shows %20 in FF and \" \" in Safari.  Resolving now with an encode (\"seems to be the most obvious solution\")\n. Okay, fix pushed, waiting on Pita to pull.  Should be live in ~15 mins\n. Fixed, waiting for Pita to merge\n. I have done 2 and 3 and tested.  Pushed changes to Pita to test, should be in todays version.  I will let Pita close this once it's pulled into the master branch.\nFeel free to try approach to #1, Pita may have some more insights as to why an iFrame is required..\n. Closed and merged\n. Very first thing I looked at looks like the javascript padding is now 4 spaces when it should be 2, this will upset Pita.  I will look at the other commits later today.\n. In the future please don't put 20 commits into one pull request.  There should be a seperate pull request for each new features and for bugfixes (preferably one for each with the corresponding issue #)\n. f8c5db6 - compressed js, redesigned custom pad form and added top bar -- We're not pulling this because it doesn't conform to our spacing standards.\ne433926 - too many changes to okay, please only modify the items you have changed and resubmit\nPlease don't remove lines then re-add if you only make a minor change.\nPlease ensure JS and CSS has the correct indent/spacing as conforms with the way the rest of the project looks.\nPlease ensure all changes are properly documented, an example of a bad description is: \"Edited static/pad.html via GitHub\"\nOnce the CSS is updated and the titles are updated we can look at pulling.  Issue a new pull request for that.  Thanks :)\n. Thanks for this guys, it's useful\n. This is now live in the develop branch.\n. Actually it should really return \"lastEdited\" value..  I can't remember why I needed this feature, prolly for the bigexample.php page I put together..\n. @pita any update on this?  I feel like it's up your street.  Also see https://github.com/Pita/etherpad-lite/pull/720\n. Closing because I track develop and it's my issue\n. We decided this would be a bad idea and that the CMS providing the pad service should provide the name <-> padId relationship.\n. Create a group, put pads into that group, listpads using API for that group\nAfaik: You can't list public pads via the API, that would be a security issue.\nUse the PHP Class or make your own class to make an API call: http://etherpad.org/2011/08/14/etherpad-lite-php-class/\nSee example_big.php -- http://beta.etherpad.org/example_big.php\na listPads request is returned as JSON\nHere is the API documentation: https://github.com/Pita/etherpad-lite/wiki/HTTP-API\n. Fixed in the PHP Class by using encoding: https://github.com/johnyma22/etherpad-lite-client/commit/faeb3c8459ed27c914bbfd407bd3ba8445be6e22\n. Fixed, waiting for pull.\n. 0ip can you take a look at this please?  It is easily to replicate, simply set the # of connected users to say 20 in pad.html line 107 and it will show the span is no longer visible in the editbar.\nIt's a pain for me to do as I'm working on extending UI functionality \n. Thanks :)\n. @Pita What is the current state of this?\n. Knocked back to 1.2\n. Afaik it's due in 1.2\n@pita did some work on it but it's been a really low priority.\n-----Original Message-----\nFrom: Nikolai Prokoschenko [mailto:reply@reply.github.com]\nSent: 30 April 2012 14:12\nTo: John McLear\nSubject: Re: [etherpad-lite] Interface strings should be localizable (#114)\nIs there any change on this one? It seems, some translation bits landed on develop and have been thrown out again.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/114#issuecomment-5417001\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. 1.2 is after develop so it's a while away but feel free to begin writing a plan or framework for how you want to see it integrated or even to look at how it was carved in before..\nIdeally it would be a plugin..  IMHO\n-----Original Message-----\nFrom: Nikolai Prokoschenko [mailto:reply@reply.github.com]\nSent: 30 April 2012 14:23\nTo: John McLear\nSubject: Re: [etherpad-lite] Interface strings should be localizable (#114)\nIs 1.2 the version after the yet-to-be-released develop-merging 1.1? Or will develop become 1.2 later?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/114#issuecomment-5417190\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. We use a templating system so in theory this should be relatively painless/easy to integrate.  I don't believe anyone is currently pro-actively working on this though.  We'd welcome forks/contributions/discussions as to the best way forward.\n. Closing thanks to @marcelklehr and others :)\n. The correct demo link is http://beta.etherpad.org -- Where did you see the piapoison.de link?\n. Where did I change the link?  Afaik the demo site has always been beta.etherpad.org ?\n. Yea...  A while back, to the correct site..  I didn't want all of the testing happening on your box in case the load got too high or there were some legal issues.\n. I think it was a commit.. I think you had to approve it?\n. Hahah this isn't a fight, he is German, I am a Brit, conflict is how we do things ;)\nPita, your call, I'd suggest beta.etherpad.org makes more sense as the main link!\n. Holy crap I'm confused.  Peter will come and speak to you before I go out\n. yea\n. I should be okay to sort this.  I'm assuming the timderslider is reading the padID without dropping the parameters.\n. Resolved by editing pad.html to read:\nid=\"timesliderlink\" onClick=\"document.location = document.location.pathname+ '/timeslider'\"\nWaiting for Pita to merge to master.\n. Is node running? \nps aux | grep node\n. That means node isn't running.\n. Might be worth installing from this guide: http://mclear.co.uk/2011/08/01/install-etherpad-lite-on-ubuntu/ OR even better from the Wiki.......\n. btw if you are still stuck feel free to ping me on gtalk (johnyma22@gmail.com) and we can talk in real time and if you want I can jump on and diagnose the problem \n. sqlite writes its data to the file system, look for a .sql file (I think)\n. @pita righto\n. Interesting, I will be interested to see the outcome of this!\n. We want to resolve this :)\n. 400MB is very large even though there has been very little content created.\nWe don't have a way at current to drop old data.\nIf none of this data is sensitive you could upload the .sql file somewhere and we could take a look for you in our dev environment.  We are aware of some issues similar to this so this might fall into the same category.\nYou should of been able to use the old version of the .db, that is where all of the data is stored.\n. Google search for \"mysql vs sqlite performance\".  Reads are held in memory and Writes are buffered FYI\n. This feature request already exists.  See the rich text editing request.\nIf you think it's easy to implement then feel free :)\n. I agree this feature would be nice but it's not a priority for the foundation because only a small % of our users require it.\n. Awesome, thanks :)\n. The code is finalized as V1 so feel free to proceed.  Afaik we don't have any features or issues that will affect this directly however Pita might want to have some input on this.\n. Great work :) \n. PS I think the foundation can blast some money over from our flatr fund to this guy if he wants some?  Pita, do you agree?\n. Do you have a paypal or something?  I can try xfer money from our flatr to your paypal once Pita is happy it's clean enough to go into master .  Email me your payment details btw, john@mclear.co.uk\n. Can we get an update on this please, we are looking to bring this into v1.1.\n. I would like to see this tested thoroughly prior to merging so I guess I agree with @pita however a separate branch with syntax highlighting maintained would be ideal.\n. That's exactly what I just said.  TLDR I agree with Pita.  But keep up the good work guys :) \n. @etinquis - could you please publish the plugin to npm?  Thanks :)\n. Ta :)\n-----Original Message-----\nFrom: Martyn York [mailto:reply@reply.github.com]\nSent: 20 April 2012 19:21\nTo: John McLear\nSubject: Re: [etherpad-lite] Syntax Highlighting Plugin (#121)\n@johnyma22  - Done :) http://search.npmjs.org/#/ep_syntaxhighlighting\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/121#issuecomment-5250098\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. GET http://beta.etherpad.org/socket.io/1/?t=1334947812731 500 (Internal Server Error) socket.io.js:2\nChanging a pad to have a syntax style returns an error..  I just tried it on beta.etherpad.org :)\nLet me know once you have fixed and I will re-enable and test.\n-----Original Message-----\nFrom: Martyn York [mailto:reply@reply.github.com]\nSent: 20 April 2012 19:21\nTo: John McLear\nSubject: Re: [etherpad-lite] Syntax Highlighting Plugin (#121)\n@johnyma22  - Done :) http://search.npmjs.org/#/ep_syntaxhighlighting\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/121#issuecomment-5250098\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Fixed :)\nQuestion..  Is monospace absolutely essential?  It's just this plugin conflicts w/ the headings plugin :(\n. Ta :)\n-----Original Message-----\nFrom: Martyn York [mailto:reply@reply.github.com]\nSent: 20 April 2012 23:32\nTo: John McLear\nSubject: Re: [etherpad-lite] Syntax Highlighting Plugin (#121)\nAll the styling is a result of the library's css files (shCore.css and shThemeDefault.css).  I'll try playing around with the styles.  I can see that it's possible to remove the size restriction so that setting headings will change the size properly.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/121#issuecomment-5254615\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. no was in response to the question to @pita, at current I'm not sure of a way to do that anyway\n-----Original Message-----\nFrom: Martyn York [mailto:reply@reply.github.com]\nSent: 21 April 2012 01:45\nTo: John McLear\nSubject: Re: [etherpad-lite] Syntax Highlighting Plugin (#121)\n@Pita Is there a way to store client options in an individual pad-specific way?  I'm currently using a cookie to store syntax choice, but that will persist the choice when you switch pads, where I'd rather it didn't.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/121#issuecomment-5255795\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Any chance you can bump your version number in packages.json?  That way I can do an npm update :)\n-----Original Message-----\nFrom: Martyn York [mailto:reply@reply.github.com]\nSent: 21 April 2012 02:17\nTo: John McLear\nSubject: Re: [etherpad-lite] Syntax Highlighting Plugin (#121)\n@johnyma22 Can you pull from https://github.com/etinquis/etherpad-plugins and confirm that the problems with headings and the caret are fixed?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/121#issuecomment-5255985\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Still issues with the caret\nTo replicate type in\n\nfunction blah(foo){\n    sdfsdf s\n    }\n\nThen press the enter key then the arrow key up.\n. Weird, still no luck ;\\ can someone else please test?\n-----Original Message-----\nFrom: Martyn York [mailto:reply@reply.github.com]\nSent: 21 April 2012 23:22\nTo: John McLear\nSubject: Re: [etherpad-lite] Syntax Highlighting Plugin (#121)\nI can indeed replicate on beta.etherpad.org, but it's serving the pre-update css.  Is minify caching the old version?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/121#issuecomment-5264101\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Various updates are going on with the syntax highlighting plugin you should refer to there..\nhttps://npmjs.org/package/ep_syntaxhighlighting\n. It's not under NDA.\nThanks for the commit, great to know we're making moves in the mobile area.\n. It sounds like the work you are doing is going to be fantastic and I'm looking forward to seeing some test results showing improved performance.\nJoe Cornelli was working on using an eMacs editor to edit etherpad, he sort of had something vaguely working but I'm not sure where he is at right now.  I don't think he has a branch of anything worth seeing but it would be good to see where he is at.\nYea, you are right about headings, it's just a time consuming job and we expect there to be some css bugs with things like line height and headings that are larger than one line etc.  The reason it didn't make it into v1 is that we knew we needed to release this week as me and Pita both begin working on other projects on Monday and putting headings in would of meant we couldn't finalize the API, PHP class and jQuery class to the level we have.\nI don't want to discourage you from working on an iOS client but I feel it's only fair to inform you that iOS 5 will have support for designMode objects so Etherpad Lite should be able to work in the browser.  I am aware of the advantages of having a native app though, I simply wanted to share that information.\n. Tables is a separate feature.  There is a Gun.io call out for it at the mo\n. Agreed\n. Nice one, thanks :)\n-----Original Message-----\nFrom: \u5510\u9cf3 [mailto:reply@reply.github.com]\nSent: 15 November 2011 15:01\nTo: John McLear\nSubject: Re: [etherpad-lite] Rich Text Editing (#123)\nAlso looking forward to table support; I've just added a matching offer to @johnyma22 's gun.io call at http://gun.io/contracts/10/.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/123#issuecomment-2745886\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. Pita, any update on this?\n. Good work everyone :) \n. Try comment out the .ht bit and retry.\n. @KindPin Do you have any other config files being loaded by nginx?  IE is default still in sites-enabled ?\n. We're pretty sure its an nginx config issue, gonna try replicate in an hour or so\n. I just tested this config and it's fine.  I moved default config out of the sites-enabled.\nTry move default config out of sites-enabled then add listen 80; to your ep-lite nginx config.\nLet me know\n. KingPin, did Pita get in touch?  If not ping me and I take a look with you\n. The notification already exists, the ability to enable/disable it doesn't\n. Done a basic example that can be tested\nhttp://beta.etherpad.org/\nDiff -> http://beta.etherpad.org/static/chatMention.diff\nFile is chat.js\n. Will do\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 27 November 2011 03:38\nTo: John McLear\nSubject: Re: [etherpad-lite] Display a notification if you are mentioned in the chat. (#125)\nJohn,\nI brought beta.etherpad.org up to date. Please use /etc/init.d/betalite for restarting etc. You don't have to use screen for that\nPlease bring chat.js up to date again\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/125#issuecomment-2885567\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Commited to master, apologies Pita, should of commited to my branch but was a minor issue and was on master branch at time.\n. Will do this tonight\n. done\n. My pleasure hombrinos.  Spread the Etherpad word, we're here to make it awesome!\n-----Original Message-----\nFrom: Niko Wenselowski [mailto:reply@reply.github.com]\nSent: 03 December 2011 16:19\nTo: John McLear\nSubject: Re: [etherpad-lite] Display a notification if you are mentioned in the chat. (#125)\nThank you, John!\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/125#issuecomment-3001335\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Yes because the chat box might be closed.  In my opinion this is the correct behavior.  If you want a different type of behavior I would file a new feature request with the precise behavior you desire.\n. Okay.  Will do this ASAP\n. https://github.com/johnyma22/etherpad-lite/commit/c230e3db2dfb60b141c3eea4c3fbe43241c7b918\n. Just waiting on @pita to merge my horrible pull request to close this off\n. This has been in the master branch for quite a while now and no bugs reported\n. Do you want the author to not be able to see their colour AND do you want the viewer to not be able to see?  \nDo you want the user to be able to toggle this value or do you want this value to be set at a \"pad\" level?\n. Currently I'm thinking I will pass &noColor=true and it will just hide all backgrounds colors.  Should be easy\"ish\" to do..  Will take a look\n. https://github.com/johnyma22/etherpad-lite/commit/1bfd0e470760e7e29bcfbe60c9578915c102576a\n. Well the ?noColor param is afaik per user :) \n. so I understand this as \"Everyone else has no color\".  Will take a goosey.\n. You can do this with a parameter.  ?noColors=true\n-----Original Message-----\nFrom: Jordan Hollinger [mailto:reply@reply.github.com]\nSent: 04 December 2011 18:02\nTo: John McLear\nSubject: Re: [etherpad-lite] Use parameter for nocolor (#126)\nI would expect a noColor param to simply \"hide\" the colors in that window only. Everyone else would see the colors, including the color of the person who's hiding the colors. In other words it's just a view option. Actually it might make a nice Hide Authorship Colors button - an alternative to Clear Authorship Colors?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/126#issuecomment-3007768\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Just to add my 2 pence as the person doing the dev on this.  Actually making this change is proving to be pretty difficult, not sure if I'm missing something..\nI know where and what to do but it feels dirty.\n-----Original Message-----\nFrom: Jordan Hollinger [mailto:reply@reply.github.com]\nSent: 04 December 2011 19:04\nTo: John McLear\nSubject: Re: [etherpad-lite] Use parameter for nocolor (#126)\nIMHO, the existing noColor option is sufficient. Sure, there are plenty of other color/no-color options we could imagine, but are they useful enough to outweigh the potential ambiguity and confusion?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/126#issuecomment-3008109\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. I just pushed this back to 1.2\n. I'm not sure this can be closed?  Afaik they want different functionality.\n. It needs to have a setting in settings.json\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 18 November 2011 22:39\nTo: John McLear\nSubject: Re: [etherpad-lite] Button for useMonospaceFont (#128)\n@johnyma22 In my opinion we should merge this\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/128#issuecomment-2795307\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. My users don't want it :|\nI could comment in out in CSS but the use case of monocase is pretty rare.\nHow many people that dont use linux do you think use monospace on a daily basis?\n\nFrom: Peter 'Pita' Martischka [reply@reply.github.com]\nSent: 19 November 2011 00:52\nTo: John McLear\nSubject: Re: [etherpad-lite] Button for useMonospaceFont (#128)\n@johnyma22 I don't agree with that. Whats your problem with the monospace button?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/128#issuecomment-2796525\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. And < 1% of Etherpad users are programmers, I'm representing the 99% here, by default if a feature is only required by 1% of our user base then it shouldn't be enabled by default if it uses pixel space on the main screen.\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 19 November 2011 01:36\nTo: John McLear\nSubject: Re: [etherpad-lite] Button for useMonospaceFont (#128)\nevery programmer needs it... It's not a linux thing\nOn 18 November 2011 16:58, John McLear\nreply@reply.github.com\nwrote:\n\nMy users don't want it :|\nI could comment in out in CSS but the use case of monocase is pretty rare.\nHow many people that dont use linux do you think use monospace on a daily basis?\n\nFrom: Peter 'Pita' Martischka [reply@reply.github.com]\nSent: 19 November 2011 00:52\nTo: John McLear\nSubject: Re: [etherpad-lite] Button for useMonospaceFont (#128)\n@johnyma22 I don't agree with that. Whats your problem with the monospace button?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/128#issuecomment-2796525\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/128#issuecomment-2796564\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/128#issuecomment-2796793\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. Also you can pass a parameter in the URL if you want userspace, if you say that it's useful for programmers I would like to think that programmers know how to pass a parameter via the URL ;)\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 19 November 2011 01:36\nTo: John McLear\nSubject: Re: [etherpad-lite] Button for useMonospaceFont (#128)\nevery programmer needs it... It's not a linux thing\nOn 18 November 2011 16:58, John McLear\nreply@reply.github.com\nwrote:\n\nMy users don't want it :|\nI could comment in out in CSS but the use case of monocase is pretty rare.\nHow many people that dont use linux do you think use monospace on a daily basis?\n\nFrom: Peter 'Pita' Martischka [reply@reply.github.com]\nSent: 19 November 2011 00:52\nTo: John McLear\nSubject: Re: [etherpad-lite] Button for useMonospaceFont (#128)\n@johnyma22 I don't agree with that. Whats your problem with the monospace button?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/128#issuecomment-2796525\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/128#issuecomment-2796564\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/128#issuecomment-2796793\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. Displaying a monospace button should be \"opt in\" not \"opt out\", I know this from gathering stats across a large number of live Etherpad sites.\nThis isn't just based on opinion.\nIf anyone else has stats that argue otherwise feel free to contribute to the discussion.\n-----Original Message-----\nFrom: Rob Speer [mailto:reply@reply.github.com]\nSent: 20 November 2011 04:44\nTo: John McLear\nSubject: Re: [etherpad-lite] Button for useMonospaceFont (#128)\nMonospace is useful, especially for the kind of people who'll be running an experimental new version of EtherPad. Why not pull in the change, and then johnyma22 or whoever wants to can make the config option to hide it on certain sites?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/128#issuecomment-2802514\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. @wikinaut please file a separate bug report for that\n. @booo Because the monospace button is used on < 5% of pads.  Ideally it will be usable as a plugin like @jhollinger said\n. Yes\n- reply@reply.github.com wrote:\nCan you proof the < 5%?\nSeveral users/developers requested the feature or to be more precise a button to enable/disable the feature via the gui. Adding the button to the gui is a minimal change which doesn't heard anyone. I can't see the reason why we should not implement/add this button.\nI think text layout and style is a core feature of the etherpad and shouldn't be part of any plugin.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/128#issuecomment-3333012\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Ask developers not users.... bad idea IMHO\nWikinaut reply@reply.github.com wrote:\nWe should perhaps make an opinion poll among the Etherpad lite developers, not the users (figures, no one can really \"prove\").\nThe addition of the monospace button is so easy, that I would rather suggest(!) to add the feature (like I did on my fork), and to have an settings.json for monospace = enabled than to have lengthy discussions.\nWhat online tool is suited for opinion polls ?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/128#issuecomment-3333278\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. FYI This is in the latest version.  git pull people..  git pull!\n. This is updated on our dev branch, waiting for Pita to push\n. Peter is awesome.\n. This needs discussing prior to merging.\n. Can anyone provide a case where we can replicate this bug please?\n. Afaik this got fixed recently thanks to the load tester\n. Same as https://github.com/Pita/etherpad-lite/issues/192 -- closing this one\n. There is no gospel way of doing this, it is up to you to decide the best route that suits your environment.\nMy advice would be to use the Etherpad Lite jQuery plugin.  \nStep 1: Use PHP to create a pad and a session and set the security etc. \nStep 2: use jQuery to inject the pad into the page. \nhttps://github.com/Pita/etherpad-lite/wiki/How-to-use-Etherpad-Lite-with-jQuery\n. We recommend using a reverse proxy in front of Etherpad.  If you don't want to make a web service publicly available then that's your call.  I don't see any logic in your question though.  What is your use case?\n. Look at the session and password part of the API...   There are functions that restrict access to pads.\n. *boggles..\n1.  Create a pad\n2.  Lock it using an API call by either password securing it or by removing public access\n3.  Then create a session to access it OR use a password to access it..\nWhy would you want to lock down the entire web service?  I mean sure, by default make all pads locked down..  Why not..  That would be easy to do...\n. 1. No.\n2. yes but I don't see how that's anything to do with Etherpad lite?  I know nothing about php-lib.\nAs far as I see it your requirements are basically, serve editable web content without having a public web server..  I mean, I don't..  I can't..  Just..  No.\nI'm gonna leave you to this, it sounds like a non-issue and not a bug or feature request in Etherpad Lite.  Feel free to enlighten me if I'm wrong.\n. Yes it is.\nSee the API spec.\nVarious people have already implemented exactly what you are proposing.\nAlso note Etherpad Lite is extremely easy to modify/edit so saying it's not usable is a false statement.\nWhat you want is someone to do it for you, what I'm telling you is that it's doable but you need to read the API spec and the source code.\n. I want to emphasize you can do this with the PHP API and jQuery plugin with very little code modification.\n. Tested okay.\n. A settings in settings.json for this would make sense or a database value for \"supportedExportSources\" which can be edited via the API might also be useful.\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 18 November 2011 22:43\nTo: John McLear\nSubject: Re: [etherpad-lite] DokuWiki export (#141)\nSome points to this pull request:\nIt looks like it works and I also want this feature. But, I don't like the way this gets solved. Imagine there will be 10 more export formats and everyone is doing it this way. It would be nicer if we could create some export plugin interface instead of copying the same code over and over again\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/141#issuecomment-2795365\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. your call, it's either settings.json or a json value in the database.\n\nFrom: Peter 'Pita' Martischka [reply@reply.github.com]\nSent: 19 November 2011 00:50\nTo: John McLear\nSubject: Re: [etherpad-lite] DokuWiki export (#141)\nYes you're right. But I don't want to bleed settings.json to much. I think at some point we have do divide into multiple setting files\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/141#issuecomment-2796515\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. What if you want to assign different UI settings to different pads?\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 19 November 2011 01:37\nTo: John McLear\nSubject: Re: [etherpad-lite] DokuWiki export (#141)\nI don't wanna use the database for settings\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/141#issuecomment-2796797\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. Use a . not a ,\n. Last update August the 31st, gonna close this issue in a week, will ping the author.\n. Here is best \n. Not yet, this functionality needs writing.  Feel free to take a look at some examples of it and have a go writing it\n. I actually wrote this for primarywall a few days ago, it might be possible to re-use the code I used..  Have assigned myself\n. Works with http://etherpad.org but not www.etherpad.org\nThis worked well for me: http://stackoverflow.com/questions/1500260/detect-urls-in-text-with-javascript\n. Yep, I do :)  It's another 5 minute job that will make the users happier\n. Fixed in: https://github.com/Pita/etherpad-lite/commit/d5e303ec9f6c9abae5a57e01d59670b222d05323\n. https://github.com/Pita/etherpad-lite/commit/d5e303ec9f6c9abae5a57e01d59670b222d05323 has a bug where the browser takes the current URL and passes that with the URL.\n. Okay I fixed it with: https://github.com/Pita/etherpad-lite/commit/55a2f46ca90391e9446eff874b83e45a0161d252\nmake sure to include the older commit.\nPlease test this, it's live on htp://beta.etherpad.org\nTest it by typing in www.etherpad.org\n. Hit F5 in IE.\nIt was broken because I left my debug comments in.\nShould be fine now\n-----Original Message-----\nFrom: Jonathon Smith [mailto:reply@reply.github.com]\nSent: 20 November 2011 15:03\nTo: John McLear\nSubject: Re: [etherpad-lite] Follow Link in Pad (#143)\nIt works fine for me in chrome and firefox, however I cannot get IE to even load a pad at the moment.\nOne suggestion I would make is to override the default browser a:visited pseudo-class as it is not that common on websites to use it any more, this one does not for example.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/143#issuecomment-2804234\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. Btw, don\u2019t press enter.  That is a bug made by @pitapoison that is being rejected.\n-----Original Message-----\nFrom: Jonathon Smith [mailto:reply@reply.github.com]\nSent: 20 November 2011 15:03\nTo: John McLear\nSubject: Re: [etherpad-lite] Follow Link in Pad (#143)\nIt works fine for me in chrome and firefox, however I cannot get IE to even load a pad at the moment.\nOne suggestion I would make is to override the default browser a:visited pseudo-class as it is not that common on websites to use it any more, this one does not for example.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/143#issuecomment-2804234\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. Can someone please test this?\n. That should just be www. Afaik in the regex, can you test that?\nIf you want I can update the code and push.  Thanks for testing\nIt shouldn't say Test..\nGive me 20 minutes and I will commit a fix, just doing something\n-----Original Message-----\nFrom: Jonathon Smith [mailto:reply@reply.github.com]\nSent: 22 November 2011 20:30\nTo: John McLear\nSubject: Re: [etherpad-lite] Follow Link in Pad (#143)\nI did more testing and there are a few issues that comes up. If you type anything starting with www then that entire phrase becomes an anchor tag, even if there is a space after the www. So for example in the sentence \"Put www at the start of the address\" \"www at\" would become an anchor. The regex need updating to require a dot after the www, which I think would fix the issue, but my regex knowledge is not great.\nAlso you are attaching a title atribute which gives the tool tip \"test\" to the anchor, I assume you want that to say something else?\nFinally after something has been linked it makes it hard to edit that link as clicking on it causes you to navigate to the link, the alternative to that is make ctrl-click navigate and use a tool tip to inform the user. But that depends on what everyone else thinks.\nWhen I started writing this IE9 still does not work correctly, however it seems to work now. I could test the link feature and it works the same as it does in FF and Chrome.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/143#issuecomment-2840117\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. Yep www. fixes it the www issue.\nhttps://github.com/Pita/etherpad-lite/commit/2db81050f1e53605237ea621de26c06898f7741a\n. \"Also you are attaching a title atribute which gives the tool tip \"test\" to the anchor, I assume you want that to say something else?\nFinally after something has been linked it makes it hard to edit that link as clicking on it causes you to navigate to the link, the alternative to that is make ctrl-click navigate and use a tool tip to inform the user. But that depends on what everyone else thinks.\nWhen I started writing this IE9 still does not work correctly, however it seems to work now. I could test the link feature and it works the same as it does in FF and Chrome.\"\nThe \"test\" as title issue hasn't been committed, removed code from my dev site.\n@Pita, afaik https://github.com/Pita/etherpad-lite/commit/2db81050f1e53605237ea621de26c06898f7741a should be good to merge\n. yessir\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 23 November 2011 19:17\nTo: John McLear\nSubject: Re: [etherpad-lite] Follow Link in Pad (#143)\n@johnyma22 Is this feature on beta.etherpad.org?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/143#issuecomment-2853564\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. Thanks.\n. A new issue needs to be made for this\n. Must be because you have the pad embedded, try open the pad up outside of your forum and see if it works or not\n-----Original Message-----\nFrom: Maja88 [mailto:reply@reply.github.com]\nSent: 13 January 2012 14:11\nTo: John McLear\nSubject: Re: [etherpad-lite] Follow Link in Pad (#143)\nHi there again... ;)\nStrange... on your testlink above the Link klicking is functioning...\nBut here on my board this is not functioning:\nhttp://www.caba.de/phpBB3/viewtopic.php?f=148&t=2065\ni can't thing of anything that could be wrong...\nNot functioning with Firefox, Opera and IE... just yesterday i did an \"git pull origin master\"... ;)\nCould you pleas look at this issue of mine? ThX.. ;)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/143#issuecomment-3480087\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Try put it in a normal frame container outside of your CMS and see if the problem exists.  IE create ....\nIf it does look at how the links are generated and how they open in a new window and find out why they are being restricted.  Afaik they open in \"_blank\".  It may be a browser limitation we need to address.\n-----Original Message-----\nFrom: Maja88 [mailto:reply@reply.github.com]\nSent: 13 January 2012 14:23\nTo: John McLear\nSubject: Re: [etherpad-lite] Follow Link in Pad (#143)\nArghh.... yes... its working outside the frame... ;( is there any way to correct this? The Users will certainly not use it out of frame... ;(\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/143#issuecomment-3480226\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Yep.\nWill try take a look over the weekend for you.\n-----Original Message-----\nFrom: Maja88 [mailto:reply@reply.github.com]\nSent: 13 January 2012 14:37\nTo: John McLear\nSubject: Re: [etherpad-lite] Follow Link in Pad (#143)\nDo you mean like this?\nhttp://www.caba.de/caba/allejahre/2012/uebersichtcabaevents2012/\nnow its not working outside phpbb3... seems to be an iframe issue??\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/143#issuecomment-3480398\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Crap I thought I responded to this..  I had something working but can't remember what...  I will try get back to you about it this week.  Busy at mo!  Apologies..\n. I just tested this and I'm sure I submitted a fix for it but if not..  It's working on the latest..  I will try get something live in the next 20 mins to prove it\n. Are your pads being served from the same hostname as your container window?\n-----Original Message-----\nFrom: Maja88 [mailto:reply@reply.github.com]\nSent: 25 January 2012 19:43\nTo: John McLear\nSubject: Re: [etherpad-lite] Follow Link in Pad (#143)\ni did an \"git pull origin master\", but still no response on a Link:\nhttp://www.caba.de/caba/allejahre/2012/uebersichtcabaevents2012/\nTried it with Opera and FF...\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/143#issuecomment-3657429\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. http://babybounce.co.uk/\ndo you have the same problem here?\nLet me know once you have requested access and I will add you.\n-----Original Message-----\nFrom: Maja88 [mailto:reply@reply.github.com]\nSent: 25 January 2012 19:49\nTo: John McLear\nSubject: Re: [etherpad-lite] Follow Link in Pad (#143)\nYes... everything from one VServer...\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/143#issuecomment-3657606\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. No.  Open ID is pretty common tbh..\n. Can someone confirm this please?  Do links in pads usually work in Opera?\n. @inspired12 @josswinn any update?\n. Yes, when you hit the \"prevent changes\" you should then link to the \"readOnly\" version of the pad.\nSee the readOnly function in the API for details.\n. Any time.\n. \"You are NOT permitted to make the resources found on Codebase Hero available for distribution elsewhere \u2018as is\u2019 without prior consent.\"\nYet before that it says \"You may freely use these resources, without restriction, in software programs, web templates and other materials intended for sale or distribution.  No attribution or backlinks are required, but any form of spreading the word is always appreciated!\"\n. Just emailed the author of the example asking him if we can release under our license.  Imho it's a feature so should be in milestone 1.2?\n. Saleem gave us an okay to go ahead with this.  Feel free to assign me/someone and a milestone\n. http://needim.github.com/noty/\nAlso nice..  Been too busy to implement..  Quite low hanging though..\n. Oh yeah.. I did this :) \n. They are not under an open license so fuck him.  I will find a better open alternative.\nhttp://projects.nickstakenburg.com/tipped/downloadandlicensing\n. This makes sense.\nBasically new pad creation is disabled by default\nOnly users that have sessions can create new pads.\n. They go light enough for me.\n. There is already a feature request open for this functionality.\n. @jeff-h please comment on my questions here: https://github.com/Pita/etherpad-lite/issues/126\n. https://github.com/johnyma22/etherpad-lite/commit/1bfd0e470760e7e29bcfbe60c9578915c102576a\n. nice work, will look more into this next week\n. In rare use cases people will want to set their background color to black or really close to white.\nI know of teachers do this to reveal an answer.\n-----Original Message-----\nFrom: Burke Mamlin [mailto:reply@reply.github.com]\nSent: 02 January 2012 17:11\nTo: John McLear\nSubject: Re: [etherpad-lite] Allow wider range of colours (#151)\n0ip, this site has the latest version of my changes (you might have to shift+reload or clear you cache to update css/js files)... but you probably mean the latest version of EPL.  The cloudfoundry site is actually running this fork's cf-support branch, which is a variant of Pita's EPL.  A branch of Pita's EPL with the latest BrightColorPIcker is available here, but I don't have that running on a public site.  If you need my branch on a public site, I can try to find a way to get it up & running somewhere.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/151#issuecomment-3331469\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. @0ip or @bmamlin Can you please open a pull request for this and I will merge.\nTa\n. I agree with Peter.\n. I would suggest this goes in as a plugin once the plugin framework is implemented.  I'm not overly keen on the amount of clicks required for the colorwheel but I believe it's important to give users the ability to have light text on dark background if they so choose.\n@elijh please be aware that dark backgrounds now change the text color to white so the text is still visible.\n. Looks good to me other than the spacing.\n. no worries :)\n. Does:\nmysql -utestadmin -ptestpw store \nwork?\n. Why is this closed if it's not working? *Boggles...\n. What port are you trying to start etherpad lite on?\nIt looks like something is already using that TCP socket.\nTry to telnet the port you are triyng to connect to, see if something else responds.\nIf not it could be SELinux blocking access to the TCP Port or something..\n. Can anyone just check my code to make sure it's clean before I pull?\n. Thanks\n. This was fixed.  Please provide steps to replicate if you have a bug.\n. I can confirm this bug, it is very easy to replicate.\n. Does Abiword work in general?\nhttp://www.abisource.com/support/bugs/ \n. This sounds like an abiword bug, not an etherpad-lite bug.  Can you confirm?\n. I don't know \"that\" much about abiword to help out.  How urgent is this for you to get resolved?\n. https://wiki.archlinux.org/index.php/Abiword\n. @aandersen you have a different problem, please create a new issue.\n. Yea it's cool.  I updated our uservoice\n. For now I will write this as passable as a parameter in the URL, we will apply server side settings when we add support for that which is due soon\n. Part of this has been possible with a parameter for many months.  I completely forgot that I wrote it :|\nhttps://github.com/Pita/etherpad-lite/wiki/Embed-Parameters\n?showControls=false will do it\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Track this here: https://github.com/ether/etherpad-lite/pull/1579\n. @kingkaeru @goldquest please peep #2109 \n. Closed thanks to @cohitre \n. http://mclear.co.uk/2011/08/01/install-etherpad-lite-on-ubuntu/\n. Abiword on Arch Linux: https://wiki.archlinux.org/index.php/Abiword\n. Abiword on Windows isn't currently supported, feel free to look at adding support for this.\n. Doesn't work -->  \"abiword\" : \"C:\\Progra~1\\AbiWord\\bin\\AbiWord.exe\"\nDoesn't work -->  \"abiword\" : \"C:\\Progra~1\\AbiWord\\bin\\\"\nWorks -->  \"abiword\" : \"C:\\Program Files (x86)\\AbiWord\\bin\\AbiWord.exe\"\nDocumented with process here: http://mclear.co.uk/2011/12/04/using-abiword-with-etherpad-on-windows/\nFeel free to put into Wiki\nTested import and Export, both worked fine.\n. Grep for monospace -- you will see how we do it with monospace, use that same technique to do it with h1,2,3 etc.\n. It would make sense to have an abstraction layer as it would make formatting in the future easier to apply.  Currently there is some functionality in place for this if you look at the monospace example you will see how it's passed from client to pad however I think you might be solving a slightly different problem.\n@pitapoison is probably the best person to work with to try to accomplish this!\n. Can we close this issue and open a specific issue for creating a mechanism to easily pass rules to ace2_inner?\nhttp://www.youtube.com/user/johnyma22#p/u/0/MDMrLRDJL_I\n. In IE9 it puts in a double line break and this appears to break the pad contents too ;\\\n. Revert, double lines are evil and it looks like it breaks the entire pad :|\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 19 November 2011 23:59\nTo: John McLear\nSubject: Re: [etherpad-lite] Internet Explorer 9 edit issue (#171)\n@johnyma22 to revert or not to revert? That is the question\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/171#issuecomment-2801730\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. Yep this is still broken\n. FYI This bug looks like it stems from the work around list support but I'm still investigating.. \n. k\n. http://mclear.co.uk/2010/08/11/etherpad-nginx-config/ <-- Any help?\nAlso try proxy_redirect off;\nBasically you want nginx to simply \"pipe\" through to etherpad lite\nIf you can, try replace nginx with varnish, varnish ftw.\n. I disagree, the user will expect it to remove the tabbing.  So it's a minor bug. :)\n. Yep.  At current it doesn't do that.\n. See: https://github.com/Pita/etherpad-lite/commit/697201b3def7cb7173dfebac50624dc694e34fd6 and read the warning.\n. Can someone please test this?\n. Is this unexpected behaviour?\n-----Original Message-----\nFrom: jtlebi [mailto:reply@reply.github.com]\nSent: 22 November 2011 20:04\nTo: John McLear\nSubject: Re: [etherpad-lite] shift tab should de-indent instead of indenting (#173)\nThis works with tab-indented text but, probably because of the \"backspace emulation\", it breaks lists and moves the current line to col=0.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/173#issuecomment-2839727\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. It would be great if you can help out with the code, ping me if you have any questions.\n. @Pita I'd say it's pretty much ready to merge, just want to get a few more testers feeding back first.\n. Works perfect now.  Good work everyone :)\n. All security is controlled via the API.\n. That depends on the language you want to support: https://github.com/TomNomNom/etherpad-lite-client is the PHP client\n. Example page: http://beta.etherpad.org/example_big.php\n. Oh and to embed it in a page you could use the etherpad jquery plugin: https://github.com/johnyma22/etherpad-lite-jquery-plugin\n. It supports it through the API.  If you need help with the API just ping me and I will see how I can help.  Etherpad Lite does not have the ability to set a password through the web interface as this would increase complexity.  If you desire this functionality please put in a feature request.  Thanks :)\n. Please see the API documentation.\n-----Original Message-----\nFrom: Danny Pickle [mailto:reply@reply.github.com]\nSent: 28 May 2012 03:40\nTo: John McLear\nSubject: Re: [etherpad-lite] password protected pads (#176)\nHas anyone written a feature request yet?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/176#issuecomment-5958382\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. @3arn0wl you can. It is running with a recovery script, I will look into why it's not coming back up when I get some spare time\n. I brought it back up and added some more monitoring, I think the recovery script must of failed :|\n. You should be using the API to apply security to your pads.  Imho this is an nginx issue as it is unsupported in Etherpad Lite\n. Add that request as a feature request.\n\"Require authentication to create new pads\"\nImho an error after securing it through nginx isn't an Etherpad Lite bug\n. The API support for Windows is not very actively supported at current\n. Can anyone replicate this? \n. Closed, Tom fixed the bugs in the API\n. Closed due to duplicate of #158\n. Someone issue a gun.io for it?\n. find . -exec grep \"busg\" '{}' \\; -print\nReturns nothing, not our bug?  Npm bug?\n. Note that the initial request he put in had \"busg\" that's why I did that command, he edited it afterwards..\n. +1 @Wikinaut - Do you want to contact them @Wikinaut?\n. How can we reproduce?\n. Gonna try look at this 2nite or 2mrw.\n. I have been able to reproduce this bug.  Investigating further now\n. I'm struggling to replicate the blob issue:\n\"I found also that etherpad-lite somes creates pads with such unclosed tags, for example at the bottom of pads, when you add or change the font styles (bold, underline, italics).\"\n. Good work :)  We can keep this bug live here.\n. Good work Wikinaut!\n-----Original Message-----\nFrom: Wikinaut [mailto:reply@reply.github.com]\nSent: 13 December 2011 07:55\nTo: John McLear\nSubject: Re: [etherpad-lite] PDF generation with AbiWord crashes Etherpad-Lite on urls with \"&\" problem found\nA fix for this export problem of Urls is to change line 295 in /node/utils/ExportHtml.js from  assem.append(''); to  assem.append('');\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/189#issuecomment-3120037\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. @Wikinaut can you please test this, afaik it's fixed a while back as the line now reads..\nassem.append('<a href=\"' + Security.escapeHTMLAttribute(url) + '\">');\n. So you're working quietly on a document and every changeset is being sent back to the server but really, as you are the only person working on a pad this is wasteful as it's creating too much network traffic.\nWhat we should do is send \"chunks\" of data if you are on a slow connection and the only person on a pad. This would allow a single user to continue to work on a document offline for l limited time period assuming the document never changes. You might limit this at say 100 changesets or 1000 changesets, depending on your user case. Other descisions would be about how to prompt or notify the user..\nThis kinda ties into a working offline mode. It will require a lot of engineering to try and merge two documents if they have both been edited offline and will require some user input (so a nice UI too)\nIt is possible this could be written as a plugin but I think some settings in core would be required for rate throttling active connections\n. Re-opened but with the statement that it is a LOT of work to achieve the goals we are aiming for.  Anyone want to sponsor me to do it? :)\n. Just a start.. https://github.com/JohnMcLear/ep_offline_edit -- Very buggy, will break your instance but leaving here for posterity\n. You sent a donation to PrimaryPad?  I doubt that, they don't accept donations afaik.\nYou might have made a donation to the Etherpad foundation.  \nIf you want to sponsor the foundation again that's fine or I accept personal donations at johnyma22@hotmail.com (paypal).\n:)\n. @Wikinaut .. https://github.com/JohnMcLear/ep_offline_edit does use Localstorage.&& appCache\n. btw I tried to use Google Docs offline and it didn't work for shit so I gave up :|\n. /me shrugs.\n. Okay there ya go, working offline view of pads and usage of appcache and other goodness.  prolly doesn't work so well in IE. It's live on http://beta.etherpad.org\nI can't go any further on this without a significant amount of investment so I'm closing it\n. @tuomassalo @hajimen feel free to chat with @wikinaut to see if you can get some funding together for further dev\n. I made a start on this in the ep_offline(or something like that) plugin, it requires a lot of additional work.\n. @2xyo it's doable but we need someone to sponsor the development, hopefully a sponsor will come forward and then we can make it a reality :)\n. Yup, I wrote one in PHP:\nDemo: http://beta.etherpad.org/example_big.php?\nSource: https://github.com/TomNomNom/etherpad-lite-client\nI need to sit down and create a \"todo\" list of all the other functionality required such as user account provision etc.\n. Afaik there is a feature request open for \"API only access\".  Not sure if this covers this?\n. That\u2019s my branch of Paul Lockerby's work..  His work is on SVN so I brought it over to github but I have somewhat neglected it.  See: http://paullockaby.com/projects/project/etherpad-user-interface\nIt requires a new pull from Paul and a bunch of work..  I'm also not sure if I will keep working on it or work w/ some other people to produce a \"pad group manager plugin\" which should bring it more inline w/ the way the project is going ..\nIt could probably be used for low hanging stuff but it doesn't have a bunch of key functionality to make it production ready enough for us at least.\n-----Original Message-----\nFrom: soul9 [mailto:reply@reply.github.com]\nSent: 27 February 2012 18:52\nTo: John McLear\nSubject: Re: [etherpad-lite] Suggesting an \"Etherpad-lite Dashboard\": administration web page (#192)\nThere seems to be an interface here https://github.com/johnyma22/etherpad-lite-pad-manager anyone know anything about it?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/192#issuecomment-4200263\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. We are still focusing on getting Etherpad integrated into other web apps and not as a complete app itself so this is still reasonably low priority.\n-----Original Message-----\nFrom: Wikinaut [mailto:reply@reply.github.com]\nSent: 23 April 2012 21:59\nTo: John McLear\nSubject: Re: [etherpad-lite] Suggesting an \"Etherpad-lite Dashboard\": administration web page (#192)\nAn admin panel could be perhaps written as \"plugin\", but I do not know, how.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/192#issuecomment-5291678\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Why not just make your own and contribute it back to the project?\nThere are some available but none are written as plugins or fully integrated to the point they have begun contributing/extending the API.\nThe API has some missing features that also need adding..\n-----Original Message-----\nFrom: Wikinaut [mailto:reply@reply.github.com]\nSent: 23 April 2012 21:58\nTo: John McLear\nSubject: Re: [etherpad-lite] Suggesting an \"Etherpad-lite Dashboard\": administration web page (#192)\nAre any updates available ? I am still looking for a working administration panel, web page, for my Etherpad Lite installation.\nThe demo mentioned in https://github.com/Pita/etherpad-lite/issues/192#issuecomment-2615654 is unfortunately broken ( http://beta.etherpad.org/example_big.php ).\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/192#issuecomment-5291662\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Not to know is past tense.  You are just as capable(if not more) as anyone else to fulfil your own requirements.\n-----Original Message-----\nFrom: Wikinaut [mailto:reply@reply.github.com]\nSent: 23 April 2012 22:47\nTo: John McLear\nSubject: Re: [etherpad-lite] Suggesting an \"Etherpad-lite Dashboard\": administration web page (#192)\n\nWhy not just make your own and contribute it back to the project?\nI do not know, how.\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/192#issuecomment-5292760\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. FYI This now exists in most major CMS' and is being adopted constantly, we're updating our Auth framework to support more methods and to make the docs more clear.  A native \"teampad\" wont happen but could be a plugin :) \n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. There is practically a library available for each major language now and there is also a UI available in most.  There is also a plugin to bring in some functionality..  I will consider this closed and issues should be created in the respective libraries/clients/plugins repos.\n. Unable to reproduce by visiting:\nhttp://beta.primarypad.com/p/test\nClick Export -> PDF\nChange the pad contents slightly, by adding a word or something..\nSave the PDF in a location IE on your desktop or whatever..\nClick Import -> Select the location of the file you saved.\nI do however get a time out error.  This may be due to my config though as TypeWithMe does not have this bug.\n. @Wikinaut is this still an issue?  Also can you please go through your issues and update them if they are working/not.  Thanks\n. You wouldn't want to use Apache for something like this because apache wouldn't perform as well as something like varnish.\nHowever if Apache is essential, you would use mod_proxy and run each etherpad instance on a seperate TCP port and have a separate database for each instance.\nYou would replicate the core of etherpad lite to different folders and run each instance in a different screen or start them all using one holding script that executes the watcher script.  Yoyur file system replication would have ignores set for favicons and configs unique to that instance.\nWe currently run beta.etherpad.org and beta.primarypad.com like this but with varnish in front of nodejs.\nImho most sysadmins will want to replace the favicon with their own so I don't really see this as a priority.\n. @Wikinaut Feel free to write that in.  It's really quite low hanging and a very low priority..\n. We have a patch coming out for this soon.\n. I can replicate this consistently.\nSetup load testing using: https://github.com/Pita/etherpad-lite/tree/master/bin/loadTesting\nEdit launcher.sh to read\n\n#!/bin/bash\n\n# connect 20 instances to display :0\nfor i in {1..50}\ndo\n  echo  $i\n  echo \"Displaying Some shit\"\n  DISPLAY=:0 screen -d -m /home/phantomjs/bin/phantomjs loader.js http://10.0.0.55:9001/p/pad2 && sleep .2\ndone\n\nEdit launcher.js to read\n\nvar page = new WebPage(),\n    t, address;\n\nif (phantom.args.length === 0) {\n    console.log('Usage: loader.js ');\n    phantom.exit();\n} else {\n    t = Date.now();\n    address = phantom.args[0];\n\n    var page = new WebPage();\n    page.onResourceRequested = function (request) {\n        console.log('Request ' + JSON.stringify(request, undefined, 4));\n    };\n    page.onResourceReceived = function (response) {\n        console.log('Receive ' + JSON.stringify(response, undefined, 4));\n    };\n    page.open(address);\n\n}\n\nRun launcher.sh\nOpen the pad and spam a bunch of stuff in (in your browser).\nYou should get a server error..\n. What database are you using?\n-----Original Message-----\nFrom: aicm [mailto:reply@reply.github.com]\nSent: 15 November 2011 21:10\nTo: John McLear\nSubject: [etherpad-lite] Pad no longer saving (#202)\nHello,\nAll of a sudden etherpad is no longer saving changes whether typed or pasted. Any ideas why? I have restarted mysqld and etherpad numerous times, DB seems to be healthy.\nThanks\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/202\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. Oh..  Whoops :)  Multitasking fail\n. I can't reproduce this in Firefox, IE or Chrome on Microsoft Windows when copying text from notepad.\n. I maintain TypeWith.Me (and PrimaryPad) and it runs on nearly exactly the same code as PrimaryPad, I can't think of any differences that would affect pasting into a pad :|\n. I guess I could SCP the code over from ppad to twm and do a diff later 2nite.\nDon't hold your breath though...\n-----Original Message-----\nFrom: aicm [mailto:reply@reply.github.com]\nSent: 16 November 2011 16:23\nTo: John McLear\nSubject: Re: [etherpad-lite] Pad no longer saving (#202)\nThat's awesome! Well, congratulations you just fixed the bug on TypeWith.Me somehow :) If you're in a position that allows you to share the code I can run a compare between latest etherpad-lite code and yours and post a report.\nOtherwise, great job! I'll just stick to Chrome for now...\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/202#issuecomment-2762141\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. This code will need a bunch of testing before it goes into master, can a few people test it in test environments to see if it's stable?\nMy main concern is that we want to release 1.1 as a truly stable release and by adding new feature support we might make it unstable.\nGood work though, looking forward to having a play with it :) \n. That is good news!\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 17 November 2011 17:59\nTo: John McLear\nSubject: Re: [etherpad-lite] Implementation of the setHTML API (#204)\nIf this works, we can use the html import do better file imports too. At the moment Abiword converts everything (word, pdf, ...) to plain text and this gets imported, but makes us lose the formatings. We can advice abiword to produce html and import that\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/204#issuecomment-2779399\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. Use MySQL for production environments.\nI thought we were clear about that, apologies if not.\nhttp://blog.codeborne.com/2011/10/etherpad-lite-migrate-data-from-dirtydb.html\n-----Original Message-----\nFrom: soul9 [mailto:reply@reply.github.com]\nSent: 17 November 2011 16:10\nTo: John McLear\nSubject: [etherpad-lite] pads not found (#205)\nThis morning at 2AM I got a mail saying the pad server was restarted. Since then I don't have access to older pads. The \"dirty.db\" file seems to still contain all the information but the server can't seem to access it. The database file is getting pretty big: 377M    var/dirty.db, what do you think could cause this issue?\nIs it a better idea to use a database server like mysql for a production pad installation? Is there a way to wipe pads that haven't been accessed for longer than a month or something like that...?\nThanks\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/205\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. It's not my site, search for it on Google and look at the cached version.\n-----Original Message-----\nFrom: soul9 [mailto:reply@reply.github.com]\nSent: 17 November 2011 16:32\nTo: John McLear\nSubject: Re: [etherpad-lite] pads not found (#205)\nOh, thanks for the info. Sorry but your site doesn't seem to load, is there an other place describing the migration? maybe it would be a good idea to add it to the docs?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/205#issuecomment-2778173\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. Yep, so I'm pinging all the API authors and asking them to ensure their APIs support the new API functions.  Correct?\nI assume that github has the latest API draft on?\n. Lol okay.\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 28 November 2011 20:07\nTo: John McLear\nSubject: Re: [etherpad-lite] Ensure till 1.1 all API Clients support the new API functions (#207)\nNo the draft is not up to date. I will ping you when the draft is ready\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/207#issuecomment-2906439\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. yep\n-----Original Message-----\nFrom: Jonathon Smith [mailto:reply@reply.github.com]\nSent: 29 November 2011 22:36\nTo: John McLear\nSubject: Re: [etherpad-lite] Ensure till 1.1 all API Clients support the new API functions (#207)\nIt might also be a good idea to suggest the clients update the API to use POST for state changing requests now that the API supports POST (https://github.com/Pita/etherpad-lite/pull/214).\nAt the very least you want setHtml, setText, createPad and createGroupPad to use POST as they set the pad text and could easily hit the GET character limit.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/207#issuecomment-2951687\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. @pita any update on this?\n. Bump @Pita -- Is the API draft now up to date?\n. Do you have it live anywhere?\n. Some of that spacing looks broken.. @pita does it look broken to you too?  This will make Pita sad.\n. What issue is this fixing?\n-----Original Message-----\nFrom: Jordan Hollinger [mailto:reply@reply.github.com]\nSent: 18 November 2011 22:15\nTo: John McLear\nSubject: [etherpad-lite] Implement HTTP API calls through POST (#213)\nPer issue #175.\nThis implements all API calls though POST, even read-only ones. Ideally I suppose read and write calls should be separated into GET and POST, respectively. But seeing as how that would break compatibility, I didn't do it here.\nThis is my first time coding node.js, so it might be awful and unacceptable.\nYou can merge this Pull Request by running:\ngit pull https://github.com/jhollinger/etherpad-lite master\nOr you can view, comment on it, or merge it online at:\nhttps://github.com/Pita/etherpad-lite/pull/213\n-- Commit Summary --\n- Implement API POST requests\n-- File Changes --\nM node/server.js (29)\n-- Patch Links --\nhttps://github.com/Pita/etherpad-lite/pull/213.patch\n  https://github.com/Pita/etherpad-lite/pull/213.diff\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/213\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. Doh..  Per issue #175..  Okay, my bad, Pita please check the code, let me know once you are happy and I can test the functionality..\n-----Original Message-----\nFrom: Jordan Hollinger [mailto:reply@reply.github.com]\nSent: 18 November 2011 22:15\nTo: John McLear\nSubject: [etherpad-lite] Implement HTTP API calls through POST (#213)\nPer issue #175.\nThis implements all API calls though POST, even read-only ones. Ideally I suppose read and write calls should be separated into GET and POST, respectively. But seeing as how that would break compatibility, I didn't do it here.\nThis is my first time coding node.js, so it might be awful and unacceptable.\nYou can merge this Pull Request by running:\ngit pull https://github.com/jhollinger/etherpad-lite master\nOr you can view, comment on it, or merge it online at:\nhttps://github.com/Pita/etherpad-lite/pull/213\n-- Commit Summary --\n- Implement API POST requests\n-- File Changes --\nM node/server.js (29)\n-- Patch Links --\nhttps://github.com/Pita/etherpad-lite/pull/213.patch\n  https://github.com/Pita/etherpad-lite/pull/213.diff\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/213\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. +1\n-----Original Message-----\nFrom: Wikinaut [mailto:reply@reply.github.com]\nSent: 19 November 2011 10:11\nTo: John McLear\nSubject: [etherpad-lite] Change spaces or %20 in padnames to underscores, and back to space when showing as page title (#215)\nChange spaces (in user-entered padnames or urls) to underscore characters, and vice versa when showing as page title /pad2.js, timeslider.html).\nThis avoids breaking urls when saving or e-mailing them, if the user has spaces in padnames.\nExample: a  pad name such as \"My first pad\" or My%20first%20pad\" is to be rewritten as \"My_first_pad\". Both versions are internally treated as My_first_pad only.\n1. http://www.example.com/p/My first%20pad ==> treat internally as http://www.example.com/p/My_first_pad .\n2. when pad is shown, show HTML page title as \"My first pad\"\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/215\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. -1 this.  I don't see much benefit that will come from this.  White space is cheap to store and process. \n. Can you please provide me with a text body or link to some text that I can use to replicate this problem?  Tried with various text pieces and can't.\n. This may be browser / OS specific.\nI just tested in Chrome on Windows 7 and couldn't replicate\nWhat Browser/OS are you using?\n. The problem is when you copy FROM Firefox not when you paste with Firefox.\nSo it looks like a Firefox bug.\nYou can test this by opening the source in Chrome, copying and pasting into Firefox, works fine.\nDo the same test but this time open the source in Firefox and you will be able to replicate the bug.\nI suggest filing this on the firefox bug tracker.\n. This got resolved :) \n. I pointed Wikinaut in the right direction to accomplish this.  I doubt it is something we will see in core but it might be useful for some weird scenarios\n. lul wut\n. I don't fully understand this request.\n. (Currently there is a link to a read only version and an embed code for a editable version. We would like to have a extra combination of the two: Embed link, read only, and link editable) Suggestion: group the buttons in 'Share editable versions (link/embed-code) and 'Share non-editable versions (link/embed code).\n. I'd rather stab myself in the face with a copy of windows 3.11\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 22 November 2011 19:40\nTo: John McLear\nSubject: Re: [etherpad-lite] Supply a read only embed link (#223)\nAnd add a share button for facebook, twitter, reddit too ;)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/223#issuecomment-2839275\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. Demo available here: \nhttp://beta.etherpad.org/p/d7VKgIafwv\nThoughts?\n. Can someone please pull the latest source and check functionality of this?\n. *sighs..\nYou'd of thought by now I'd know how to use github right? :P\nHave pushed css..\n-----Original Message-----\nFrom: Alexandre Girard [mailto:reply@reply.github.com]\nSent: 23 November 2011 15:56\nTo: John McLear\nSubject: Re: [etherpad-lite] Supply a read only embed link (#223)\nWorks well, but seems to be missing a bit of css:\nhttps://pad.tetalab.org/p/lebitetlecouteau23112011\nI'm detecting a rule on beta.etherpad.org that doesn't appear in our latest source:\npad.css - line 794\n```\nembedinput, #linkinput, #rolinkinput, #readonlyInput, #roembedinput{ width:375px; height:24px; display:inline;\nmargin-top: 10px;\npadding-left:4px;\n}\n```\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/223#issuecomment-2850401\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. Btw, thanks for testing, really appreciate the help.\n-----Original Message-----\nFrom: Alexandre Girard [mailto:reply@reply.github.com]\nSent: 23 November 2011 15:56\nTo: John McLear\nSubject: Re: [etherpad-lite] Supply a read only embed link (#223)\nWorks well, but seems to be missing a bit of css:\nhttps://pad.tetalab.org/p/lebitetlecouteau23112011\nI'm detecting a rule on beta.etherpad.org that doesn't appear in our latest source:\npad.css - line 794\n```\nembedinput, #linkinput, #rolinkinput, #readonlyInput, #roembedinput{ width:375px; height:24px; display:inline;\nmargin-top: 10px;\npadding-left:4px;\n}\n```\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/223#issuecomment-2850401\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. Great.  Thanks, closing.\n. The reason for 4 textboxes is that it's one less click.\nI do agree it's information overflow but it's what the users wanted.\nMaybe @0ip has some input he would like to share?\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 23 November 2011 16:18\nTo: John McLear\nSubject: Re: [etherpad-lite] Supply a read only embed link (#223)\n4 textfields? why not one textfield and checkboxes? 4 textfields are informationoverflow\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/223#issuecomment-2850747\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. Lol Quote Peter M \"We're not Google\" -- Let let @0ip decide if he wants to edit it as he did most of the UI stuff.\n. Haha, that's why I didn't create a new button or it.  I'm actually thinking it might be a good idea to get rid of that read only button and just have the embed button as a \"share\" button where all of the share options are listed..\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 23 November 2011 16:36\nTo: John McLear\nSubject: Re: [etherpad-lite] Supply a read only embed link (#223)\nLet's quote John \"99% of the users don't need this feature\"\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/223#issuecomment-2851035\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. The user I wrote it for could use it straight away :|\nBut sure, anyways, lets not worry about it, lets let @0ip deal with it because it's his specialism.  I'd rather we focused on less \"fluffy\" things ;)\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 23 November 2011 16:44\nTo: John McLear\nSubject: Re: [etherpad-lite] Supply a read only embed link (#223)\nThats the idea yeah. Save one button here and add two checkboxes in the submenu. But this submenu is totally unusable\nOn 23 November 2011 08:37, John McLear\nreply@reply.github.com\nwrote:\n\nHaha, that's why I didn't create a new button or it.  I'm actually thinking it might be a good idea to get rid of that read only button and just have the embed button as a \"share\" button where all of the share options are listed..\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 23 November 2011 16:36\nTo: John McLear\nSubject: Re: [etherpad-lite] Supply a read only embed link (#223)\nLet's quote John \"99% of the users don't need this feature\"\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/223#issuecomment-2851035\nThis email and its attachments may be confidential and are intended\nsolely for the use of the individual to whom it is addressed. Any\nviews or opinions expressed are solely those of the author and do not\nnecessarily represent those of the organisation from which this email\noriginated. If you are not the intended recipient of this email and\nits attachments, you must take no action based upon them, nor must you\ncopy or show them to anyone. Please contact the sender if you believe\nyou have received this email in error. This email was sent by School\nEmail - Safe Webmail and Hosted Email for Schools;/p>\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/223#issuecomment-2851049\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/223#issuecomment-2851146\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. Thanks alx\n. Anything on the client?\n. Try grabbing a version of etherpad-lite from a few weeks ago, do you have the same problem?\n. https://github.com/Pita/etherpad-lite/zipball/1.0\nis from August.\n-----Original Message-----\nFrom: markreg [mailto:reply@reply.github.com]\nSent: 25 November 2011 01:12\nTo: John McLear\nSubject: Re: [etherpad-lite] \"stuck\" on \"Loading\" page (#224)\nHow can I download an older version?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/224#issuecomment-2870519\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Yep, worth a shot.\n-----Original Message-----\nFrom: markreg [mailto:reply@reply.github.com]\nSent: 25 November 2011 01:39\nTo: John McLear\nSubject: Re: [etherpad-lite] \"stuck\" on \"Loading\" page (#224)\nIt says I need to downgrade my version of node to 0.4.x. Should I do so?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/224#issuecomment-2870623\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. That's not an error, that's a warning.  There is already an open issue for this.\n-----Original Message-----\nFrom: markreg [mailto:reply@reply.github.com]\nSent: 25 November 2011 18:49\nTo: John McLear\nSubject: Re: [etherpad-lite] \"stuck\" on \"Loading\" page (#224)\nI get these errors when I run sh installDeps.sh:\nnpm WARN log4js@0.3.9 package.json: bugs['web'] should probably be bugs['url'] npm WARN gzip@0.1.0 package.json: bugs['web'] should probably be bugs['url']\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/224#issuecomment-2877168\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. When did you last do a pull?\n-----Original Message-----\nFrom: Frankstar [mailto:reply@reply.github.com]\nSent: 22 January 2012 15:11\nTo: John McLear\nSubject: Re: [etherpad-lite] \"stuck\" on \"Loading\" page (#224)\nbut have this issues too:\n[ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"msg\":\"isAndroid is not defined\",\"url\":\"http://frankstar.at:9001/minified/pad.js\",\"linenumber\":1,\"userAgent\":\"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0.1) Gecko/20100101 Firefox/9.0.1\"}\nERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"msg\":\"$(\\\"#colorpicker\\\").farbtastic is not a function\",\"url\":\"http://frankstar.at:9001/minified/pad.js\",\"linenumber\":1,\"userAgent\":\"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0.1) Gecko/20100101 Firefox/9.0.1\"}\n[ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"msg\":\"chat is undefined\",\"url\":\"http://frankstar.at:9001/minified/pad.js\",\"linenumber\":1,\"userAgent\":\"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0.1) Gecko/20100101 Firefox/9.0.1\"}\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/224#issuecomment-3603484\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Latest stable or develop?\nRobert Mitwicki reply@reply.github.com wrote:\nI've got the same problem right now with latest version.\nWhen I try to get access to etherpad throught nginx it stuck on Loading\nWhen I add port :9001 to domain it load without problem.\nAny suggestion what could be a problem ?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/224#issuecomment-5538098\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Pretty sure this is a new issue.  I noticed this occur on beta.etherpad.org yesterday too.  The develop branch is unstable.  If you can catch the full stack trace that shows the error on the server that would be useful\n. @ferrix Ah, that is possible.  I think the Etherpad init script does log rotation on restart.\nAlso https://github.com/ether/etherpad-lite/issues/253\nAs far as I can tell because we use log4js we should have log rotation so you shouldn't have this problem on newer versions of etherpad.\n. @brauliobo Did you find a cause?  Have you tried pulling the latest develop?\n. Sorry but we'd need more info.\npad.eita.org.br pads work fine for me, it's very fast.\nCan you provide benchmark or stats or so?\n. Try to follow this:\nhttp://mclear.co.uk/2011/08/01/install-etherpad-lite-on-ubuntu/\nlet us know where you get stuck.\nYou should be able to run it with bin/run.sh\n-----Original Message-----\nFrom: jlpoole [mailto:reply@reply.github.com]\nSent: 23 November 2011 00:58\nTo: John McLear\nSubject: [etherpad-lite] Gentoo Install Fails: Node.js \"throw\" - no such module (#225)\nI think I had etherpad-lite working on this machine before, if not, then it was Etherpad.\natom etherpad-lite # pwd\n/usr/local/src/etherpad-lite\natom etherpad-lite # bin/installDeps.sh\nnode.js:201\n        throw e; // process.nextTick error, or 'error' event on first tick\n              ^\nError: No such module\n    at Object. (/usr/lib/node_modules/npm/lib/utils/config-defs.js:5:21)\n    at Module._compile (module.js:432:26)\n    at Object..js (module.js:450:10)\n    at Module.load (module.js:351:31)\n    at Function._load (module.js:310:12)\n    at Module.require (module.js:357:17)\n    at require (module.js:368:17)\n    at Object. (/usr/lib/node_modules/npm/lib/utils/ini.js:40:18)\n    at Module._compile (module.js:432:26)\n    at Object..js (module.js:450:10)\nEnsure that all dependencies are up to date...\nnode.js:201\n        throw e; // process.nextTick error, or 'error' event on first tick\n              ^\nError: No such module\n    at Object. (/usr/lib/node_modules/npm/lib/utils/config-defs.js:5:21)\n    at Module._compile (module.js:432:26)\n    at Object..js (module.js:450:10)\n    at Module.load (module.js:351:31)\n    at Function._load (module.js:310:12)\n    at Module.require (module.js:357:17)\n    at require (module.js:368:17)\n    at Object. (/usr/lib/node_modules/npm/lib/utils/ini.js:40:18)\n    at Module._compile (module.js:432:26)\n    at Object..js (module.js:450:10)\natom etherpad-lite # eix nodejs\n[D] net-libs/nodejs\n     Available versions:  (~)0.4.11!t (~)0.4.12!t\n     Installed versions:  0.6.0!t(16:33:07 11/22/11)\n     Homepage:            http://nodejs.org/\n     Description:         Evented IO for V8 Javascript\natom etherpad-lite # git pull\nAlready up-to-date.\natom etherpad-lite # date\nTue Nov 22 16:45:19 PST 2011\natom etherpad-lite # uname -a\nLinux atom 2.6.36-gentoo-r5 #1 SMP Fri Jan 21 16:47:09 PST 2011 i686 Intel(R) Atom(TM) CPU D525 @ 1.80GHz GenuineIntel GNU/Linux atom etherpad-lite #\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/225\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools;/p>\n. I think it should be an option, by default turned off.\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 26 November 2011 00:27\nTo: John McLear\nSubject: Re: [etherpad-lite] pull request for auto-open, auto-focus, auto-close for the chat function ( file chat.js ). Fix for issue 208 (#226)\n@johnyma22 Please  look at this and tell me if its usefull\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/226#issuecomment-2879177\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. I think it should be a setting/optional\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 26 November 2011 18:58\nTo: John McLear\nSubject: Re: [etherpad-lite] pull request for auto-open, auto-focus, auto-close for the chat function ( file chat.js ). Fix for issue 208 (#226)\n@kingkaeru @johnyma22 so we agree that we don't want this feature?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/226#issuecomment-2883262\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Thanks jtlebi\n. Saved revisions available in current develop, moving to master this week.  Closing for integrity & sanity\n. We think this is something about avoid being prompted on second visit to a pad, the best solution is to use sessions instead so we should do that..\nWe did it this way initially because we didn't have support for sessions..\n. @eldiddio you might want to look into this one because it affects you directly.  To replicate create a new pad on primarypad, click to set a password.\nVisit the pad, type in that password, look at your cookies.\n. ## Steps to replicate (tm):\nChange your APIKEY.txt to EtherpadFTW and restart Etherpad.\nAll URLS should be visited\n- Unsure if required: http://hostname:9001/api/1/createGroup?apikey=EtherpadFTW\n- Unsure if required: http://hostname:9001/api/1/createAuthorIfNotExistsFor?apikey=EtherpadFTW&name=yolo\n- Unsure if required: http://hostname:9001/api/1/createSession?apikey=EtherpadFTW&groupID=%%%%REPLACE%%%%&authorID=%%%%REPLACE%%%%&validUntil=1561973004\n  - Note that the validUntil is set here, if this is in the past for you, change it.\nIn Javascript Console\ndocument.cookie = \"sessionID = %%%%REPLACE%%%%\"; // replace with sessionID from above\n- http://hostname:9001/api/1/createGroupPad?apikey=EtherpadFTW&groupID=%%%%REPLACE%%%%&padName=testjohn&text=test%20text\n- http://hostname:9001/api/1/setPublicStatus?apikey=EtherpadFTW&padID=%%%%REPLACE%%%%$testjohn&publicStatus=true\n- http://hostname:9001/api/1/setPassword?apikey=EtherpadFTW&padID=%%%%REPLACE%%%%$testjohn&password=test\n- http://hostname:9001/p/g.E2DsuKXqDIDY9n94$testjohn\n  - Enter the password\n  - Hit F12, click resources, look at your cookies, you will see a cookie called \"password\" with the password stored in plain text.\n. The reason we store the password in plain text is so we can check to see if the password has changed.  \nTo resolve this I will use our sessionStore and destroy any stored sessions for a pad(except the pad owner) when a password is changed, that will force the user to reauth to the new password ergo creating a new session :)\n. So I thought about this and tbh I think it will get addressed better in https://github.com/ether/etherpad-lite/issues/1211 when we rewrite auth.  Our current model is kinda broken and this is pretty edge case.  Agreed it's important but we really need to address auth in general cc @Pita \n. I introduced Salting a while back so this could be used to encrypt the password.  I'm not sure why I didn't propose that when I introduced salting, but yeah, basically tell the server to salt the password based on the sessionKey from settings.json..  Simples!\n. bump @eldiddio\n. Another one to ensure @rhelmer is aware of.\n. FWIW you shouldn't use pad level passwords, your access should be done by session management.  That's why this hasn't been actioned..\n. Can someone please test this?\n. I don't like the behavior if you type a few words then press tab it indents the line.\nImho a tab is a tab, it's only an indent if you are at the beginning of the line.\n. Yep, good to pull.\n. Thanks Randy, that is very informative.\n-----Original Message-----\nFrom: Randy [mailto:reply@reply.github.com]\nSent: 01 December 2011 19:13\nTo: John McLear\nSubject: Re: etherpad-liteindent behaviour enhancement (#231)\ndisagree with @Wikinaut.\nThe behavior is true to traditional text editors.\nI tried shift-tab in Notepad, MS Word, and vim.\nAll will remove the tab on shift-tab only if the cursor is at the beginning of the line.\nAll will add a tab on shift-tab if there are any characters to the left of the cursor.\nI do not support reopening.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/231#issuecomment-2979034\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. I like this idea too and I'm thinking how about I overlay a div behind teh user icon with the color of the current user?  Gonna try it, will do it on beta.etherpad.org and you guys can give an opinion \n. Peep: http://beta.etherpad.org/p/yYMg73CLGT\nThoughts?\n. @0ip is working on this\n. This is live http://beta.etherpad.org/p/et4YrmBB55 -- Still not a fan?  I quite like it :)\n. Just pushed this now, get it now kingkaeru\n. Apologies, I thought I referenced the issue #\n-----Original Message-----\nFrom: Wikinaut [mailto:reply@reply.github.com]\nSent: 27 November 2011 04:50\nTo: John McLear\nSubject: Re: [etherpad-lite] Show the color of the user's changes in the \"Show Connected Users\" button (#233)\n\ncommit -m \"Applied 0ip's fix (url)\"\nDear committer, please allow me to suggest that you always start commit messages with a meaningful summary of the commit (not only saying \"Applied 0ip's fix ....\" which is not a complete description what has been committed).\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/233#issuecomment-2885841\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. http://beta.etherpad.org/p/nLq8sEtaCl\nworks for you here in IE8?\n-----Original Message-----\nFrom: Wikinaut [mailto:reply@reply.github.com]\nSent: 28 November 2011 21:42\nTo: John McLear\nSubject: Re: [etherpad-lite] Show the color of the user's changes in the \"Show Connected Users\" button (#233)\n\"Show Connected Users\" button is not working in IE8.0 (Yes, I cleared the cache, yes, I did ctrl F5)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/233#issuecomment-2907780\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Right, I can confirm there is a bug here.\nClicking show users works for me and I can change my name.\nChanging color has an error: line 3132 pad.js char 5.  Null is null or not an object.  Also some of the stylin looks a bit crazy in IE8.\n. https://github.com/johnyma22/etherpad-lite/commit/e6eac69f55a861b50e9cf02855c2d4a397b627f5 Is the last commit on this, after that is merged we can close this :)\n. @0ip is going to fix this with a quick IE version detection piece of JS\n. Google is your friend:  Searching for Export Import PDF Etherpad returns:\nhttp://mclear.co.uk/2011/11/22/etherpad-lite-doc-pdf-importexport/\n. 0ip still working on this FYI, we decided to group buttons etc.\n. Yes you need to have the latest iOS version. iOS5+\n-----Original Message-----\nFrom: markreg [mailto:reply@reply.github.com]\nSent: 28 November 2011 16:49\nTo: John McLear\nSubject: Re: [etherpad-lite] Mobile Patch (#240)\nYeah, I'm on pad.factor.cc and when I create a new pad I can highlight and cut/delete the existing text but the iPhone's keyboard is not invoked to allow me to actually type into the pad. i suspect this has to do with the crappy MobileSafari support for the pad. I'm on ios 4.3.3. I think Apple made quite a few changes to MobileSafari in ios 5 that increases support for many commonplace HTML 5 standards.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/240#issuecomment-2901038\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. 5) eye has already been removed\n-----Original Message-----\nFrom: markreg [mailto:reply@reply.github.com]\nSent: 29 November 2011 02:40\nTo: John McLear\nSubject: Re: [etherpad-lite] Mobile Patch (#240)\nOk so after further testing with the pad on pad.factor.cc I have found some problems with it on ios 4.3.3 which may be common to ios 5 as well. Also I have some recommendations as to which buttons' positions should be changed and some buttons which should be removed altogether.\nProblems observed on ios 4.3.3 MobileSafari:\n1) Switching from portrait to landscape mode causes the pad and buttons to permanently misalign and render the pad not usable including all popup overlays from embed, import/export, people and chat.\n2) The chat window's size and button needs to be decreased.\n3) The embed popup covers the embed toggle button. Maybe a separate ios menu should be made thay simply shows an option select list within the ios gui? Also the upload/import file buttons are extraneous for ios since you can't upload documents...unless you can somehow activate them for people that are on jailbroken iPhones and can navigate through the root of their phone.\nIn another note there is a bug with the ios keyboard not closing after clicking on the embed toggle button to close the embed popup box. This ties in to problem 6.\n4) Make row number column on left somewhat smaller to maximize text area.\n5) I'm not sure if this has been discussed already but the eye button doesn't really seem to do anything. Maybe it should be removed?\n6) I think that all the popup boxes should have \"X's\" to close the popup without having to click the toggle button in ios. I think it would make it easier to to close the popups on such a small screen in the first place.\nI think the button sizes are good and would be difficult to press if they were made smaller without zooming in.\nFeature request:\nWhen I click on the embed button would it be possible to select the wholr link by clicking anywhere within the link and then automatically copy it? Kind of like how github's git links get highlighted with one click but with tw added function of auto copy. That would save a couple of \"select all/copy\" button presses.\nThe main problem is when the phone rotates...things really get messed up then.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/240#issuecomment-2911296\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. If we were to remove options they need to be re-renabled with an option and a parameter\n-----Original Message-----\nFrom: markreg [mailto:reply@reply.github.com]\nSent: 03 December 2011 00:00\nTo: John McLear\nSubject: Re: [etherpad-lite] Mobile Patch (#240)\nQR code is still misaligned and very big. I think embed, and import/export option popups need to be downsized a lot in order to fit on the screen and leave plenty of room to click on the embed or import/export button again to close the popup. Furthermore, I hope you would agree that having any other options besides plain text, microsoft word, opendocument, and pdf are irrelevant and should be removed.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/240#issuecomment-2997650\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. And on a Windows Mobile device?\n-----Original Message-----\nFrom: markreg [mailto:reply@reply.github.com]\nSent: 03 December 2011 00:17\nTo: John McLear\nSubject: Re: [etherpad-lite] Mobile Patch (#240)\nWord document export on iPhone 4 4.3.3 MobileSafari says:\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/240#issuecomment-2997796\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. So I'm working on a pad, and my buddy sat next to me wants to join the pad, he simply scans the QR code from my mobile device and hes on the same pad.  That's the point of the QR Code on mobile devices.\nThere are currently no APi options to ensable/disable the QR code, this can be put it in as a feature request and passed via a parameter.  Happy to do that tomorrow for you.  Same applies for the options from the export menu.  Please be as verbose as possible in the feature request.\nThanks\n-----Original Message-----\nFrom: markreg [mailto:reply@reply.github.com]\nSent: 03 December 2011 03:20\nTo: John McLear\nSubject: Re: [etherpad-lite] Mobile Patch (#240)\nok QR code is no misaligned after clearning my cache and respringing. But my problem still lies with not being able to close the embed or the import/export popup boxes when they are opened because they cover the original button?? How am I supposed to close them? And what is the point of the QR code on mobile devices anyway?\nAre there api options to disable/enable the showing of the QR code? Are there api options to remove options from the export menu?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/240#issuecomment-2998804\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Yes, please create a separate feature request for that.\n-----Original Message-----\nFrom: markreg [mailto:reply@reply.github.com]\nSent: 03 December 2011 22:16\nTo: John McLear\nSubject: Re: [etherpad-lite] Mobile Patch (#240)\n@Pita\nYeah, I agree with you.\n@0ip @johnyma22\nIs there any way that the \"clear authorship colors\" button can be removed when the noColors=true parameter is passed int he url on mobile and non-mobile?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/240#issuecomment-3003469\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. okidoki\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 26 November 2011 19:02\nTo: John McLear\nSubject: [etherpad-lite] Add the ability to set a global password (#241)\nI found out that many people don't want to install an etherpad service that is public available. So we will just add an option to set a global http authentication password. Should be easy to do\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/241\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. See index.html & pad.css\nRead this guide:  http://www.w3.org/MarkUp/Guide/Style\nMoPad is the \"old style\" and has a lot of UX issues we fixed in Lite, so basically by implementing a similar look will be detrimental on your users but if you enjoy shooting yourself in the foot I wont stop you :)\n-----Original Message-----\nFrom: markreg [mailto:reply@reply.github.com]\nSent: 27 November 2011 03:04\nTo: John McLear\nSubject: [etherpad-lite] How can I make etherpad-lite look similar to MoPad by Mozilla? (#244)\nHow can I make etherpad-lite look similar to MoPad by Mozilla? https://etherpad.mozilla.org/\nI want to customize everything like Mozilla has yet I don't where to start. Please guide a new user of etherpad-lite and to the world of web programming. I would truly like to learn. Thanks!\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/244\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Email me, john@mclear.co.uk and I will try to give you a rough estimate for the cost of the work.\n-----Original Message-----\nFrom: markreg [mailto:reply@reply.github.com]\nSent: 27 November 2011 16:55\nTo: John McLear\nSubject: Re: [etherpad-lite] How can I customize etherpad-lite to look similar to MoPad by Mozilla? (#244)\nBasically what I'm trying to do is use php sessions in conjunction with mysql users to automatically group people together on one etherpad-lite session. One thing that I would really like to see in etherpad-lite though is the ability to insert images and resize them and have them in-line with the text to where I can freely move them around. Also I want to be able to insert grid-based table selections and be able to move them around. If I can get those two functions then I would be really happy and satisfied using etherpad-lite. I want to stick to etherpad-lite because it uses node.js and socket.io websockets.\nUnfortunately, I don't have the coding experience necessary to change the existing pad and UI to such a degree. I know that this isn't the right environment to ask but I would even be willing to provide some type of monetary compensation for someome to code this for me and guide me a little bit through setting up what I outlined above.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/244#issuecomment-2888620\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Is this from when pita tried to fix the IE enter bug?\n-----Original Message-----\nFrom: Wikinaut [mailto:reply@reply.github.com]\nSent: 27 November 2011 08:55\nTo: John McLear\nSubject: [etherpad-lite] IE8.0 stops while loading pad (Chrome and FF are okay) (#245)\nIE 8.0 stops while loading pad (Chrome and Firefox do work). Here my analysis ( minify=false ):\nBenutzer-Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; .NET CLR 1.1.4322; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET4.0C)\nZeitstempel: Sun, 27 Nov 2011 08:49:16 UTC\nMeldung: 'navigator.userAgent' ist Null oder kein Objekt\nZeile: 82\nZeichen: 1\nCode: 0\nURI: /static/js/ace2_common.js\nMeldung: 'browser.mozilla' ist Null oder kein Objekt\nZeile: 5251\nZeichen: 3\nCode: 0\nURI: /static/js/ace2_inner.js\nMeldung: 'browser.safari' ist Null oder kein Objekt\nZeile: 5609\nZeichen: 5\nCode: 0\nURI: /static/js/ace2_inner.js\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/245\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Yerp, due to 77 in ace2_common, from the API only patch: \nif (typeof exports !== \"undefined\")\n{\n//  var navigator = {userAgent: \"node-js\"};\n}\n// Figure out what browser is being used (stolen from jquery 1.2.1)\nbreaks IE8 as Pita said.\nConfirmed by commenting out teh line var navigator = {userAgent: \"node-js\"};\n. @Pita I assume you contacted the author of the bug?\n. Just an update on this.  I suspect this is actually a Socket IO bug but I need more evidence and an ability to reproduce to test.  This is a difficult task due to Microsoft's inability to keep their IE VM stack up to date.  This bug also appears to be exclusive to certain conditions and is not an IE8 generic bug. In some versions of IE8 this works fine and in others it does not.  Hopefully @Wikinaut can do some more testing to see if we can isolate the fault.\n. I didn't think the bug would be gone, I just believe the bug is a socket IO bug.  Afaik when you tested some other socket IO driven applications you had the same problem where some pages wouldn't connect.\n. I was on the money then when i said it was a socket related issue .. great job man and Congrats\nWikinaut reply@reply.github.com wrote:\n! NEWS !\nThe Microsoft knowledge database was of help.\nThe problem of \"Internet Explorer stops while loading pad\" is definitely fully and only related to the IE7+ setting \"Enable Native XMLHTTP request\" in Tools > Internet Options > Advanced.\nSee http://msdn.microsoft.com/en-us/library/ms537505 with a screenshot.\nThose users who can ENABLE this setting, or whose IE has the setting enabled, will not suffer from the mentioned problem.\nUnlucky are users in companies where the IE was rolled out without the user permission to change this value.\nSo my summary:\nENABLE native XMLHTTP support\nand you will not have this problem. It is - as I supposed - related to a non-browser-independent XML Request in socket.io.js , on which EtherpadLite relies, but which is not part of EPL itself.\nI will pass this information to the socket.io.js maintainers.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/245#issuecomment-4013455\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Will test it after you test it :)\n-----Original Message-----\nFrom: Wikinaut [mailto:reply@reply.github.com]\nSent: 20 February 2012 15:40\nTo: John McLear\nSubject: Re: [etherpad-lite] IE8.0 stops while loading pad ad-hoc solution: IE7+ users must ENABLE native XMLHTTP support\nOn the Microsoft page http://msdn.microsoft.com/en-us/library/ms537505  I overlooked this hint which I want you (John) to forward. Perhaps this can be put into in a central Etherpad jacascript (pad.js ???) and it then overrides on IE8 where this is disabled the XMLHttpRequest property.\nPlease can you try it independently from me ? I also will try it and come back later here with a summary of results of my tests.\nIf native XMLHTTP has been disabled, developers can override the XMLHttpRequest property of the window object with the MSXML-XMLHTTP control, (unless ActiveX has also been disabled), as in the following example.\n\n\nif (!window.XMLHttpRequest) {\n    window.XMLHttpRequest = function() {\n        try {\n            return new ActiveXObject('MSXML2.XMLHTTP.3.0');\n        }\n        catch (ex) {\n            return null;\n        }\n    }\n}\n\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/245#issuecomment-4055760\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Changed bug status from serious to normal as it only affects a rare use case..\nWhat I would suggest as a stop gap if the browser is IE and !windows.XMLHttpRequest then alert(\"You need to turn on bla bla\") or redirect or something..  \nI should get time to look at this at the end of the week.\n. I +1, moving the QR code to the share box then.\n. Pushed, requires testing.  See live@ http://beta.etherpad.org/p/nLq8sEtaCl\nNote: I also fixed the labels which were previously broken.\n. Doesn\u2019t look that way to me?\nImg src is https://chart.googleapis.com/chart?chs=200x200&cht=qr&chld=H|0&chl=http://beta.etherpad.org/p/nLq8sEtaCl\nIt takes you to the readme or ?\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 28 November 2011 19:58\nTo: John McLear\nSubject: Re: [etherpad-lite] The eye button doesn't work anymore (#246)\nThe QR Code is only for the readme link?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/246#issuecomment-2906319\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Right...  That was the behaviour before, I wasn't aware you wanted it changed?  It's a 2 second job if you do want it.\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 28 November 2011 20:06\nTo: John McLear\nSubject: Re: [etherpad-lite] The eye button doesn't work anymore (#246)\nSorry brainfart\nI mean the readonly link. The QR Code shows only the read only link, not the normal pad link\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/246#issuecomment-2906430\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Done.\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 28 November 2011 20:20\nTo: John McLear\nSubject: Re: [etherpad-lite] The eye button doesn't work anymore (#246)\nYes please show a qr code for the normal pad link too\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/246#issuecomment-2906604\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. @glogiotatidis You happy for this to be closed now?   Let me know if you feel like we didn't accomplish what you want.  We didn't create a UI for it but you have the ability to access REVs through the HTTP API so building it into an app would be relatively simple in theory.\n. @Pita -- Afaik you are also working on this, should I wait for a commit/pull request from you before proceeding any further?\n. TLDR; Basic image support yes.  https://npmjs.org/package/ep_previewimages \nAdvanced image support no.  But if I can get some sponsorship or funding then I'd be able to continue my dev\n. And if you remove the URL it works fine?\nCan you paste a copy of what breaks and what doesn't?\nIt's possible the : is the problem.\nThanks\n-----Original Message-----\nFrom: Riseup Labs [mailto:reply@reply.github.com]\nSent: 29 November 2011 16:24\nTo: John McLear\nSubject: [etherpad-lite] including a URL in defaultPadText in settings.json causes things to fail (#249)\nI tried to add a URL into the defaultPadText in the settings.json and restart etherpad, but it fails:\n[2011-11-29 08:23:25.941] [ERROR] console - There is a syntax error in your settings.json file\nURLs should be valid JSON, so I'm not sure I understand why this is happening. I tried to escape the slashes, but it made no difference.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/249\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Default settings.json has:\nhttp:\\/\\/j.mp/ep-lite\\n\nso it should be fine if you break the \\/'s\n-----Original Message-----\nFrom: Riseup Labs [mailto:reply@reply.github.com]\nSent: 29 November 2011 22:30\nTo: John McLear\nSubject: Re: [etherpad-lite] including a URL in defaultPadText in settings.json causes things to fail (#249)\nYes, when I remove the URL it works. I tried a number of different things to try and get it to work with the URL, but each one failed.\nI dont have any additional information about what breaks and what doesn't, the only information I have is what appears in the logs when things are restarted, which is what I included above.\nIf there is a way to get more details on what breaks, I'm happy to generate it, I just am not sure I understand how I can.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/249#issuecomment-2951597\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Yep, a bit strange, we will try to find a way to provide better support for this issue in the future.\n. I would suggest we write something that attempts to parse the settings.json when the init script is initiated so users get better debug output from the init script.\n. Looking into this as my next job.\n. Quick fix for the \"info\" error\nhttps://github.com/johnyma22/etherpad-lite/commit/0810915f2c708b54b93dda0ab5364242679a4aef &\nhttps://github.com/johnyma22/etherpad-lite/commit/2038659ac71a9053b2e3ffbe3d336ce7de93df44\nLooking at the Syntax error next, note, can't replicate this error, I think Pita might of fixed this one.  So if @pita merges the two commits above it should stop you seeing any errors.  \nSomeone should probably look to see why the setProperty stuff is firing too early though, I don't know my way around that process to help.\n. I can confirm this is still an issue\n. Do we have a reliable way to consistently reproduce this bug?\n. @Wikinaut Considering you can now import plain text files without abiword, would you say this is closed or are sou still looking for a solution for handling proprietary formats?\n. Afaik OO and LO have lots more dependencies and requires Java (unless I'm wrong).\nI will change the issue status :)  At least we took a few steps forward, I guess native PDF export is something that could even be done as a plugin.\n. I'm going to close this for the following reasons:\n- Headless libreoffice isn't that much easier to install if easier at all in some circumstances.\n- Headless oo/libreoffice doesn't handle fidelity any better than abiword in a lot of cases.\n- Abiword is relatively bulletproof for us.\n- We provide a framework for implementing plugins for handling import (see ep_mammoth).\n- We provide a method to do basic import functionality without abiword\n- Abiword has lower overheads on system resources\n- Abiword is fast enough for our use case and supports enough file types\nOther export methods can now be added as plugins, I wouldn't object to seeing a plugin for open office export support.\n. This should be passable as a parameter via the URL and/or preferably be able to detect the users local settings.\n-----Original Message-----\nFrom: Nadav Kavalerchik [mailto:reply@reply.github.com]\nSent: 01 December 2011 19:43\nTo: John McLear\nSubject: Re: [etherpad-lite] RTL support (#256)\nTwo button, for RTL and LTR are enough for me.\nI am referring to the two button you see on the right-most side of the 3rd line in the TinyMCE example:\nhttp://www.tinymce.com/tryit/full.php\nNo need for browser detection, as far as i am concern.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/256#issuecomment-2979485\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. https://github.com/Pita/etherpad-lite/pull/271\n. Well it really needs to be a plugin..  It's a 30 second job...  Feel free to make one and push to npm\n. Pushed bugfix develop and published a plugin called ep_right_to_left\nhttps://npmjs.org/package/ep_right_to_left\nDonations welcome :)\n. I will try and test this asap\n-----Original Message-----\nFrom: jtlebi [mailto:reply@reply.github.com]\nSent: 01 December 2011 17:51\nTo: John McLear\nSubject: [etherpad-lite] Ordered list support (#257)\nHi !\nI implemented ordered list support and added the related icon in the toolbar. It automatically adjusts the numbering while adding and ((de)indenting) entries.\nThere still are an issue since deleting an entry is not immediately taken into account. I guess I should add a hook into \"doDeleteKey()\" but I'm not yet sure of how do to it properly.\nYou can merge this Pull Request by running:\ngit pull https://github.com/jtlebi/etherpad-lite ordered-list\nOr you can view, comment on it, or merge it online at:\nhttps://github.com/Pita/etherpad-lite/pull/257\n-- Commit Summary --\n- added internal ordered list support. Numbering increment is not yet handled. small code factorisation. Added related CSS\n- fixed typo, added initial interface with still bullet button\n- added an icon for ordered list\n- added numbrering logic + trigger on style update + visual render\n-- File Changes --\nM static/css/iframe_editor.css (19)\nM static/img/etherpad_lite_icons.png (0) M static/js/ace2_inner.js (85) M static/js/domline.js (4) M static/js/linestylefilter.js (4) M static/js/pad_editbar.js (1) M static/pad.html (5)\n-- Patch Links --\nhttps://github.com/Pita/etherpad-lite/pull/257.patch\n  https://github.com/Pita/etherpad-lite/pull/257.diff\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/257\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Was intuitive for me, tested a bunch of scenarios, worked well.\nGood work!\n-----Original Message-----\nFrom: jtlebi [mailto:reply@reply.github.com]\nSent: 09 December 2011 16:35\nTo: John McLear\nSubject: Re: [etherpad-lite] Ordered list support (#257)\nAll the list user interraction should be OK now. Can anyone test and confirm please ? I really tried to make things as intuitive as possible.\nhttp://www.jtlebi.fr:6001/p/test2\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/257#issuecomment-3082046\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Fantastic work :) I'm testing in IE now\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 11 December 2011 18:01\nTo: John McLear\nSubject: Re: [etherpad-lite] Ordered list support (#257)\nTimeslider works, Htmlexport works too - great work\nOnly some small things I would like to change:\n1) Why is the whole text suddenly so far away from the left border? Please change that back to the old state\n2) The icon for the orderd list is ugly, maybe @0ip can help you here\n3) Someone needs to test that on IE 7 and IE 8 @wikinaut\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/257#issuecomment-3098480\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. IE7 and IE8 work pretty well for me in IETester\n. I would suggest putting this functionality up on one of our dev sites such as TypeWithMe for a week and seeing how people get on and if any bugs are reported prior to merging into master?\n. One thing I would expect to happen is that if:\n1) I type in 1.\\n2.\\n3.\\n into a pad\n2) I select the 3 new lines\n3) I click ordered list support\nI expect that the numbers are already assumed to be part of the numbered/ordered list and automatically treated as such.  This is the behavior in Microsoft Word.\n*These steps are not required for Microsoft Word to assume that this is part of an ordered list.\n. @Wikinaut I must stress this is really not the thread to comment on the colour picking in IE8.  Me and 0ip have both submitted patches for the IE8 bug, feel free to find them and place a pull request with it fixed.\n. Status is: I want to see the jumping cursor in IE8 issue resolved then we are doing final tests and then merge.  Aiming for mid January. that okay with you?\n. Manually merged, all credit to @jtlebi for making this a possibility :)  Sorry about the delay in merging.  It's been a busy few weeks!\n. What about reverse proxy rewriting the request?  Will that fulfil your needs?\n. This would be great, I was also thinking it would be great if some folks put together walkthroughs of how to change settings, move things about.  I was thinking about making some showing how I debug some issues and fix them and then push the changes to github..  Maybe at some point I will still do that.. Just a case of finding time ;\\\n-----Original Message-----\nFrom: Jonathon Smith [mailto:reply@reply.github.com]\nSent: 02 December 2011 01:17\nTo: John McLear\nSubject: [etherpad-lite] Source Code Documentation (#259)\nIs there any value in creating something which better explains how etherpad-lite works from a developer standpoint? There is very little documentation on the  etherpad-lite source code which mean trying to understand how it works can be very hard and tends to involve (alteast for me) lots of break points and moving around the call stack to try and understand how everything happens. The node.js server code is easier to understand, but the ACE editor is difficult to say the least.\nIt would be nice to hear from other people who have been trying to understand the code to know if they feel the same way.\nI know people have differing opinions on source code documentation, for example a friend once said to me if you need to document your source code you need to rewrite it because it is not clear. I have some spare time at the moment so I was planning to read through and get a much better understanding of how etherpad-lite works and as I do so I will make notes. Would it be a good idea if I made notes with a view to creating documentation which could be published or even just something less compressive that could serve as an introduction to the code base for new developers?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/259\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Jonathon. Did you see the video I made?\nJonathon Smith reply@reply.github.com wrote:\nJust an update on this I have been reading and getting a better understanding on how everything works on the editor side of things. I will try and writing something that explains the structure and post it and we will see if anyone thinks it is helpful. And even if is is not it will have helped me.\nAlso as I am reading the comments a lot I think I will make a note of the typos in the comments and at the end submit a pull to fix them. For example there have been a few times I thought Yoda wrote them: \"if we haven't recieved the clientVars yet, then this message should it be\"\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/259#issuecomment-3086864\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Hehe\nPeter 'Pita' Martischka reply@reply.github.com wrote:\nMay the Force be with you! ;)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/259#issuecomment-3086913\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. https://github.com/ether/etherpad-lite/wiki is your friend.\n. How can I replicate?\n. That doesn't help.  Please provide steps to replicate.  Also note that it doesn't crash for me..  I can access the pad content fine..  Does it crash when you try to export?  If so what format?  What OS are you running?  What version of node/npm/abiword?  What branch are you running?  When did you last update?\n. Confirmed. -- Due to strikethrough\nSteps to replicate\nCheckout latest develop\nInstall Abiword, enable abiword in settings.json\nCreate new pad\nCopy/Paste content from https://pad.ilico.org/p/testMcLear\nTry to export as ODF\n. @pita is this something you want to look at so you can fix your code or?\n. Yes, we have a PR in with domains working.  This might help with this.\n. Okay so the error here is that our HTML exporter isn't putting out Valid HTML for example you get:\n...<body><s>1<strong>2</s>3</strong></body>...\nFor now we can stop Etherpad from crashing but that is only a bandage.\n. This might help: http://www.youtube.com/watch?v=MDMrLRDJL_I\n. This \"might\" be due to a bug in IE\nIs it live anywhere we can test?\n-----Original Message-----\nFrom: Petar Dobrev [mailto:reply@reply.github.com]\nSent: 02 December 2011 08:57\nTo: John McLear\nSubject: [etherpad-lite] Changset.splitAttributionLines assumes a new line at the end of the string when there are new lines in the op (#262)\nhttps://github.com/Pita/etherpad-lite/blob/master/node/utils/Changeset.js#L1166\nsplitAttributionLines assumes that if there's one new line in a given op, it will be at the end of the string and will add it as a separate attribution line.\nFor example, if you have the following op in a changeset:\nLine1\\n_some text_\nit will get pushed as one attribution line, instead of adding Line1 as one line and some text to the next.\nI am not sure if you can have this scenario is regular etherpad usage, probably not. I was using etherpad changesets and it's exportHtml functionality for a project of mine, when I bumped into this issue.\nChanging the if block to the following fixed it for me:\n```\nif (numLines == 1) {\n  var newlineEnd = text.indexOf('\\n', pos) + 1;\n  if (newlineEnd != pos + numChars) {\n      // newline not at the end\n      op.chars = newlineEnd - pos;\n      op.lines = 1;\n      appendOp(op);\n      numChars -= op.chars;\n  op.chars = numChars;\n  op.lines = 0;\n\n} else {\n      op.chars = numChars;\n      op.lines = 1;\n  }\n}\n```\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/262\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Closing due to lack of activity.\n. I think the timeslider view can provide this?\n-----Original Message-----\nFrom: sanjayk [mailto:reply@reply.github.com]\nSent: 03 December 2011 02:33\nTo: John McLear\nSubject: [etherpad-lite] viewonly mode for readonly (#266)\nIs it possible to do view changes to pads in realtime while in readonly mode?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/266\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Will respond to this tomorrow during meet up\n-----Original Message-----\nFrom: sanjayk [mailto:reply@reply.github.com]\nSent: 03 December 2011 16:51\nTo: John McLear\nSubject: Re: [etherpad-lite] viewonly mode for readonly (#266)\nHello, I tried with the latest version and could not get it to work, is there some I should do that I am not doing?\nThanks for the response.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/266#issuecomment-3001498\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. This doesn't look like it's working.\nNeeds a feature request.  Will file one.\n-----Original Message-----\nFrom: John McLear [mailto:John@primaryt.co.uk]\nSent: 03 December 2011 17:15\nTo: sanjayk; John McLear\nSubject: RE: [etherpad-lite] viewonly mode for readonly (#266)\nWill respond to this tomorrow during meet up\n-----Original Message-----\nFrom: sanjayk [mailto:reply@reply.github.com]\nSent: 03 December 2011 16:51\nTo: John McLear\nSubject: Re: [etherpad-lite] viewonly mode for readonly (#266)\nHello, I tried with the latest version and could not get it to work, is there some I should do that I am not doing?\nThanks for the response.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/266#issuecomment-3001498\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. In the old Etherpad the timeslider showed the latest changes, this functionality should be restored.  \nAlso read only should show changes as they happen in real time.  So this is really two separate feature requests but should be covered at the same time as they work on the similar code \n. I'm not sure if this actually got pushed into master.  @redhog \n. yay go team Etherpad..  I merged the pull request for the other hooks.  @Pita where are we at w/ the testing framework?  Can I write some more tests from the Etherboat?\n. Please stop putting questions and side notes in issues, they will get ignored. \nSee: https://github.com/johnyma22/etherpad-lite/commit/8256c71cd2da19d90985024c7bfa3fda2cfc1a3b\n. Also see: https://github.com/johnyma22/etherpad-lite/commit/601b74705e14ae6542a890e3a666994690ce78f1\nYes the Wiki needs updating.\n@pita -- feel free to merge these 2 commits.\n. There is an issue open for this on github at the moment.\n-----Original Message-----\nFrom: bjhirsch [mailto:reply@reply.github.com]\nSent: 04 December 2011 13:17\nTo: John McLear\nSubject: [etherpad-lite] Windows version broken? (#268)\nHi everyone,\nI just tried to run the ehterpad-lite-win install, and it gives me the following error:\n[2011-12-04 17:17:48.458] [INFO] console - Internal Contextify ERROR: Make sure Contextify is built with your current Node version.\nTo rebuild, go to the Contextify root folder and run 'node-waf distclean && node -waf configure build'.\nnode.js:201\n        throw e; // process.nextTick error, or 'error' event on first tick\n              ^\nError: Unable to load shared library C:\\wamp\\etherpad-lite-win\\node_modules\\jsdo\nm\\node_modules\\contextify\\build\\Release\\contextify.node\n    at Object..node (module.js:463:11)\n    at Module.load (module.js:351:31)\n    at Function._load (module.js:310:12)\n    at Module.require (module.js:357:17)\n    at require (module.js:368:17)\n    at Object. (C:\\wamp\\etherpad-lite-win\\node_modules\\jsdom\\node_mod\nules\\contextify\\lib\\contextify.js:2:22)\n    at Module._compile (module.js:432:26)\n    at Object..js (module.js:450:10)\n    at Module.load (module.js:351:31)\n    at Function._load (module.js:310:12)\nAny ideas?\nRegards,\nBenjamin\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/268\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. works for me.  what problem are you having?\n. http://www.youtube.com/watch?v=MDMrLRDJL_I <-- tutorial\n. gah, apologies, please only merge https://github.com/johnyma22/etherpad-lite/commit/438bee7ef58a0ae066ac6af6b49c5d8332cbbb24\n. Closing due to cruft caused by me.  I can easily rewrite anything we lose.  It's all low hanging\n. @0ip\n. I disagree with 0ip's sentiment entirely.\n0ip: We have 10k+ workstations with IE8 on, you know why I don't upgrade to IE9?  Because that requires a new OS at the cost of ~$200 per workstation.  You know why I don't deploy FF or Chrome?  Because that would require tens of thousands of dollars in training costs.  So that's $250,000 because 0ip didn't want to use one line of code.  Do you want to cover these costs?  If so, I will give you an address to send a cheque to.\nI suggest you sit down with a network manager and talk about just how difficult end users can be.  Any change in any large organisation is extremely difficult.    I'm happy to discuss this further with you as it's obviously something you aren't aware of and I may be able to help you understand your audience better.\nTLDR:  Change for end users can create an unhappy workforce\nNote: document.mainform.padname.focus() would not represent a retrograde step, it would represent supporting a legacy browser better.\n-----Original Message-----\nFrom: 0ip [mailto:reply@reply.github.com]\nSent: 07 December 2011 11:55\nTo: John McLear\nSubject: Re: [etherpad-lite] etherpad lite start page (index.html) input line does not have auto-focus in IE8.0 (#276)\nMy condolence for all the poor IE8.0 users out there. I know, it's hard and painful to open Chrome's website.\nA lot of dangerous creatures could appear and it's highly possible that they'll exploit your computers!\nWhat's wrong with upgrading to Chrome or Firefox? Even IE9 would be sufficent. MS learned from it's mistakes and IE9 is a good step in the right direction of web development.\nIf you're in a restrictive work environment, you can avoid installations by using portable versions which have various advantages.\nThis IE specific fallbacks slow down development, restrain innovations and forces you to write messy and hacky code.\nIE8 scores 20/100 @ Acid3 - a test which checks for basic html standards. Not to speak of other tests.\nIf you want autofocus for IE8, you can paste document.mainform.padname.focus() in your custom js file.\nI won't support this. Etherpad Lite is a young and promising piece of software and uses modern technologies - IE8 accomodations would represent a retrograde step.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/276#issuecomment-3046311\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. It's a wrong assumption that a transition from IE to FF requires so much knowledge. <-- I disagree, you are making the assumption that:\na) The user knows what software is\nb) The user is aware they have a choice\nc) The user has the knowledge to make a choice\nd) The user knows how to install software\nAll of these things are only understood in the first world by default and by only relatively young people.\nTLDR: I disagree.\n-----Original Message-----\nFrom: 0ip [mailto:reply@reply.github.com]\nSent: 07 December 2011 16:10\nTo: John McLear\nSubject: Re: [etherpad-lite] etherpad lite start page (index.html) input line does not have auto-focus in IE8.0 (#276)\n\ntens of thousands of dollars in training costs\n\nOf course. Nice hyperbole.\nIt's a wrong assumption that a transition from IE to FF requires so much knowledge.\nFor sure, many people have Firefox at home and therefor know how to use it.\n\n[...] would not represent a retrograde step [...]\n\nIf there's a modern variant of it, it is.\nYou don't call this a retrograde step, even if every browser supports it - except IE?\nWhy can't @Wikinaut simply put this line into his custom js? Why so difficult?\nAnd apart from that, why must EVERYTHING work in IE, even autofocus of one input form?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/276#issuecomment-3049056\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Disagree.\nEtherpad is used in the UN, in areas of hostility, in law offices, in universities.  All of which tend to run IE8.\nOur target audience is not young people.  Our target audience is anyone who wants to collaborate in really real time.\nFact of the matter is  40% of the users of Etherpad use IE. 25% FF, 22% Chrome, 10% safari.\nIf you had things your way we would be excluding 40% of our users, I'm not willing to let that happen :)\nWhere are you getting your stats from?  What source are you using for information?  How are you understanding who is/isn't our target audience?  Are you doing it based on opinion or fact?  I have spent enough time discussing this IMHO.  Bit disappointed it took this long for you to hopefully now understand that you\n-----Original Message-----\nFrom: 0ip [mailto:reply@reply.github.com]\nSent: 07 December 2011 16:17\nTo: John McLear\nSubject: Re: [etherpad-lite] etherpad lite start page (index.html) input line does not have auto-focus in IE8.0 (#276)\n\nfirst world by default and by only relatively young people\n\nSounds like our target audience...\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/276#issuecomment-3049158\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. IE8 = 85.02%  \n. @0ip -- what is the status on this?  I want to close this today.\n. @0ip an update please?\n. Please :) \n. How to make friends and influence people by @Wikinaut -_-\n. To celebrate the launch of Windows 8 I'm closing this bug.\n. Still true\n. @pita how did your \"looking on this\" go? :) \n. Might be one for @rhelmer to be conscious of.\n. Sounds good, I'd like to see OAuth2 used to generate tokens too.\n@stephan48 I'm happy with your proposals.\n. @stephan48 How's progress?  Are you still wanting to take this on?\n. The jumping cursor bug in IE has been in Etherpad since core.  It's something we need to really get nailed\n. Quite possibly..  I have some vague memory of that in IE there has to be something that catches the cursor position then re-assigns it but I can't remember the exact way it's handled..\n-----Original Message-----\nFrom: Jordan Hollinger [mailto:reply@reply.github.com]\nSent: 02 January 2012 17:02\nTo: John McLear\nSubject: Re: [etherpad-lite] Unordered list function broken in IE8: when clicking to add a new list in the middle of the pad, the cursor jumps to the top left position of the pad (#292)\nThat explains why I couldn't find anything...I've been looking in the wrong place. Looks like all of the edit bar buttons are affected?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/292#issuecomment-3331390\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Please test this again Wiki, it should be good to close.  Btw test by git pull, beta.etherpad.org is a few hours behind master.\n. This was fixed.\n. Good work @jhollinger \n. Build fails:\nnode.js:134\n        throw e; // process.nextTick error, or 'error' event on first tick\n        ^\nError: Cannot find module 'zlib'\n    at Function._resolveFilename (module.js:322:11)\n    at Function._load (module.js:267:25)\n    at require (module.js:351:19)\n    at Object. (/home/jshint/etherpad-lite/node/utils/Minify.js:31:12)\n    at Module._compile (module.js:407:26)\n    at Object..js (module.js:413:10)\n    at Module.load (module.js:339:31)\n    at Function._load (module.js:298:12)\n    at require (module.js:351:19)\n    at Object. (/home/jshint/etherpad-lite/node/server.js:33:14)\n. If X node version is required, it should state that\nI am running an old version of node.  .4.8\n-----Original Message-----\nFrom: - [mailto:reply@reply.github.com]\nSent: 08 January 2012 15:09\nTo: John McLear\nSubject: Re: [etherpad-lite] fix issue #281 (#294)\nYou should use one of the latest nodejs versions. Which version do you use?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/294#issuecomment-3402440\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Yea that gives me: npm WARN prefer global jshint@0.5.5 should be installed with -g\nthen node.js:134\n        throw e; // process.nextTick error, or 'error' event on first tick\n        ^\nError: Cannot find module 'zlib'\n. Me and Egil will talk about this.  Afaik sketchspace uses a completely different JS framework.  I wouldn't mind seeing this as a plugin though.\n. Both are completed.\n. now available via https://npmjs.org/package/ep_sketchspace\nvia /admin/plugins search for sketchspace\n. Assigned to 1.2\n. See: https://github.com/manic-sages/etherpad-lite/commit/f267791cacbfc30c80e0080b293abf8c0ee8c59b\n. Nice, I had a play with testing this but all I get is unknown author :(\nIt's live on beta.etherpad.org\n-----Original Message-----\nFrom: Martyn York [mailto:reply@reply.github.com]\nSent: 22 April 2012 01:21\nTo: John McLear\nSubject: Re: [etherpad-lite] display autor name inside the text (#297)\nThrew something together using manic-sages stuff.\nRepository's here\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/297#issuecomment-5264583\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Yea this is possible.\n-----Original Message-----\nFrom: JoshuaHardcastle [mailto:reply@reply.github.com]\nSent: 23 December 2011 08:10\nTo: John McLear\nSubject: [etherpad-lite] Accessing chat only for a pad (without the pad) (#298)\nIf it is not possible already, could it be possible to display just the chat window associated with a pad?  I am interested in being able to turn on and off the entire pad, whilst still displaying the chatbox.\nMy attempts at doing this through css have not been fruitful, although I would have thought it maybe possible to do it this way some how.\nAny suggestions?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/298\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Just hide the other objects with CSS by editing the custom/pad.css and setting display:none; for the pad iframe and toolbar. then setting your chat to max window size by position fixed or something\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. The demand was not enough to warrant the time it would take to write this feature.\n. Will try to test this later 2nite\n. If I checkout the haedlines (should be headlines) branch and try to bin/run.sh I get d$$INCLUDE_JS_Q is not defined\nAny idea why?\n. @Akasch I tested again and this error exists.\n. There is still an error here that is preventing merge.\nPads will not load when minify is set to true.\n. Any update on this @Akasch  ?\n. Akasch, anything yet?\n. @eldiddio have you run into this problem?\n. @goldquest can you provide exact steps to replicate please?\n. @eldiddio Do you never delete groups or?\n. A fix is now in for this.\n. @goldquest I'm correct in closing this ticket yeah?  I think you pushed a fix for it..\n. Creates warning: [2012-01-08 15:27:01.614] [WARN] console - Can't get git version for server header\nEBADF, Bad file descriptor '/home/nj/etherpad-lite/.git/be8e0de5d177faaae6ed7540efca6c015ba'\nEdit:  This warning is nothing to do with this pull request b the looks of things it exists in the master branch already\n. See: http://spellchecker.jquery.badsyntax.co.uk/ as a good plugin for handlign this and passing queries off to Google to handle\n. Flashing title on chat mention exists, I would be hesitant about making it flash on any pad edit or chat.\n-----Original Message-----\nFrom: phrozen77 [mailto:reply@reply.github.com]\nSent: 07 January 2012 13:54\nTo: John McLear\nSubject: [etherpad-lite] Activity Indicator in Page Title (#316)\nIMHO, etherpad needs some sort of activity indicator in the title so you can see if\n- there's someone editing\n- a new user connected\n- something happened in the chat\nI'm not sure how this could be achieved all at once but a good start would be some sort of flashing like Facebook does when someone typed in the chat and maybe an indicator like there is for new things that happened in your feed.\nAlso, it should have the name of the pad in the title, or, if it doesn't have a meaningful name (i.e. one that has been generated automatically) it should use the first line as name in the title (much like Word does).\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/316\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Fixed with plugin: ep_pad_activity_nofication_in_title\n. What advantage is this to the user?\n-----Original Message-----\nFrom: Ryan Schultz [mailto:reply@reply.github.com]\nSent: 09 January 2012 17:46\nTo: John McLear\nSubject: [etherpad-lite] Timeslide 'in' edit mode (#320)\nGranted probably a big infrastructural change, but...\n...What if 'edit mode' and 'timeslider mode', were combined, i.e., you don't have to go to another page to engage timeslider?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/320\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. @marcelklehr timely 2 year check in ;)\nI made a bounty here: https://www.bountysource.com/issues/1371951-timeslider-edit-mode-combined\n. Updated your pad.\nAfaik behaviour may change when I finally get around to merging the ordered list support.  Give me a few days though, really busy\n-----Original Message-----\nFrom: Ryan Schultz [mailto:reply@reply.github.com]\nSent: 11 January 2012 23:33\nTo: John McLear\nSubject: [etherpad-lite] relinquish, or forego the tab indent limit (#323)\nIs it possible to relinquish, or forego the tab indent limit? see here: http://beta.etherpad.org/p/w470LCa8H2\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/323\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Good work 0ip.\nHow did your exams go btw?  And are you going to join the Etherpad Hackathon in Feb?\n. Afaik window.top would replace the current window w/ the link.  That is not the desired behavior.  A link should open up in a new window\n. Unsafe JavaScript attempt to access frame with URL http://es.com/yo.html from frame with URL http://es.com/editor/p/test. Domains, protocols and ports must match. <-- this surprised me..  Afaik domains, protocols and ports match...  Firefox now gives me: window.top.padeditbar is undefined\n//hide the dropdowns\nif(window.top){\n  window.top.padeditbar.toogleDropDown(\"none\");\n}\n// debug note:  Added above to suppress error from that\n. Fixed with: https://github.com/Pita/etherpad-lite/commit/5f46ac2b01fd08b8bcc0ebe38eb6503c2ff87a81\nNote:  This is a temporary fix.  Ultimately anything that accesses pad.* should probably use a parent as a reference.  \nNote ii:  This will leave embedded pads w/ some broken \"click\" functionality which isn't cool\n. Thanks 0ip\n. done\n. Great work thanks :) \n. Weird..\nAce2_inner.js has the listeners for Cmd-Z\nChange\n    var isModKey = ((!charCode) && ((type == \"keyup\") || (type == \"keydown\")) && (keyCode == 16 || keyCode == 17 || keyCode == 18 || keyCode == 20 || keyCode == 224 || keyCode == 91));\nTo\n    var isModKey = ((!charCode) && ((type == \"keyup\") || (type == \"keydown\")) && (keyCode == 16 || keyCode == 17 || keyCode == 20 || keyCode == 224 || keyCode == 91));\nThat will stop using Alt as a control key.\nAnyone can think why this might be in?\nTa\n-----Original Message-----\nFrom: bwiklak [mailto:reply@reply.github.com]\nSent: 16 January 2012 21:06\nTo: John McLear\nSubject: [etherpad-lite] Keyboard shortcuts (#336)\nHi,\nWhen I hit RightAlt-z, I suppose to get '\u017c' character - polish letter with dot above, instead what happens, is the same as I would type Crtl-z (undo). It's annoying and makes difficult to write.\nWhat can I do?\nThanks,\nBartek Wiklak\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/336\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Interesting it files 17 on key up:\nhttp://asquare.net/javascript/tests/KeyCode.html try \nvar isModKey = ((!charCode) && ((type == \"keyup\") || (type == \"keydown\")) && (keyCode == 16 || keyCode == 20 || keyCode == 224 || keyCode == 91));\nlet me know if that doesn't work\n. Fixed in https://github.com/Pita/etherpad-lite/commit/9f0ca7cc4482d75346394faa62915aee446b4073\n. There isn't a good reason other than the code to get more chat content hasn't been written yet.\n. Just jump in and fix it then issue a pull request.  It will need thorough testing.  It's not high up on our priority list right now.  Filing a gun.io request might make it move faster.\n. Imho this isn't the required fix.\nWhat we need is an infinite load that does an ajax request for new chat lines as they come into focus.\nImho #337 is a temporary fix that creates code we will have to rip out in the future.\nThat's my 2 pence.                  \n. @pita I thought we fixed this previously?\n. If possible please give us instructions to re-produce.\nIt sounds like a bad changeset is stored in your db but that's only an assumption.\n. Closed due to lack of response from @SteffanCline\n. Will let @pita handle this pull request.   Looks good to me, happy to test if required.  Good work!\n. I'm going to test this today and if I'm happy merge it.\n@0ip do you also want to take a look at this?\n. Either way you would need to use the API to do this so if I was you I would familiarize yourself with the API and create your own front end request to apply security.\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. So here is how I see this working..\nUser hits up http://blah.com/p/jdflkjskldfjsdf?password=true\n1. Because password=true we attempt to set a password\n2. first we check for an existing password, if none exists we should a dialog to provide a password for this pad...\n3. Future users that visit this pad are required to type in a password to access the pad contents..\nWe can do this a ghetto way just doing 99% of it on the client or we can attempt to create some sort of integration with the auth mechanism..  I'd suggest the latter which makes it a bigger job than just a bunch of hidden divs..\n. Help us help you: https://www.bountysource.com/issues/1371947-add-password-parameter-when-creating-new-pad\n. Is that also correct for CentOS ?\n. +1 @0ip\n. assuming control f5 fixed\n. A valid case.    I will take a look at this\n. Functionality is all written for this, just need a setting/button to execute the function.  Leaving this bit to @0ip\n. done, pull latest.  Click the settings button and click Sticky chat..\n. http://mclear.co.uk/2012/01/29/always-show-chat-in-etherpad-lite/\nDoes that fill your needs?\n. I think @pita was trying to keep settings.json clean but I will leave this to @0ip and @pita to decide on as they have stronger feelings than me.\n-----Original Message-----\nFrom: Riseup Labs [mailto:reply@reply.github.com]\nSent: 31 January 2012 00:57\nTo: John McLear\nSubject: Re: [etherpad-lite] Full sidebar chat by default option (#356)\nthat works, but it means hacking the code... it seems like it would be better if it was a setting exposed in settings.json\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/356#issuecomment-3731451\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. @riseuplabs it doesn't mean hacking the code, it means adding one line to your custom.js.\nIf someone wants to pick this up as part of the plugin framework they can.  For now it stays closed.  I would contribute further discussion on the plugin framework manifesto which is on the Google group afaik.\n. Not that I'm aware of...  @Pita afaik we didn't code in any limitations to # of users, can you confirm?\n. Varnish ftw ;)\nBe interesting to see why riseup is a having load issues.  I don't have any load issues on PPad or TWM\n. I should add that you can't load balance individual pads..\nThis is because of the way Etherpad lite buffers database writes in memory.\n-----Original Message-----\nFrom: Jordan Hollinger [mailto:reply@reply.github.com]\nSent: 26 January 2012 01:54\nTo: John McLear\nSubject: Re: [etherpad-lite] Is there a hard limit to the # of concurrent users on a pad? (#357)\nDumb question here: I assume eplite's design precludes the possibility of firing up several instances and load-balancing them?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/357#issuecomment-3663082\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. That is possible, you would balance based on padid afaik\n-----Original Message-----\nFrom: Jordan Hollinger [mailto:reply@reply.github.com]\nSent: 26 January 2012 01:54\nTo: John McLear\nSubject: Re: [etherpad-lite] Is there a hard limit to the # of concurrent users on a pad? (#357)\nDumb question here: I assume eplite's design precludes the possibility of firing up several instances and load-balancing them?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/357#issuecomment-3663082\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. We haven't gotten to a point yet where an environment requires scaling, this is because the overheads from eplite are so low.  I'd be interested to hear if anyone has had to scale/lb or provide ha on eplite though\n. https://groups.google.com/forum/?fromgroups=#!topic/etherpad-lite-dev/q2akMw5bAoI\n. @ramancode are you actually experiencing issues with load limits or are you just over-engineering because you think it's a good idea?\n. Afaik that was removed a while back...  I think you have some old source in your repo somehow?\nWhere is this link?  You speak of?  Screenshot perhaps?\n. No response from OP\n. Thanks, can you please publish how you created the test.\n-----Original Message-----\nFrom: mjd75 [mailto:reply@reply.github.com]\nSent: 26 January 2012 14:29\nTo: John McLear\nSubject: [etherpad-lite] Stress testing with many users on same pad crashes EtherPad (#360)\nHi,\nWhile doing some stress testing of EtherPad Lite I was repeatedly able to crash the server code by connecting approximately 350 clients to the same pad. The error message received was:\n[2012-01-26 14:22:57.822] [ERROR] console - TypeError: Cannot read property 'author' of undefined\n    at /home/ubuntu/etherpad/node/handler/PadMessageHandler.js:864:71\n    at /home/ubuntu/etherpad/node_modules/async/lib/async.js:462:21\n    at /home/ubuntu/etherpad/node_modules/async/lib/async.js:194:13\n    at /home/ubuntu/etherpad/node_modules/async/lib/async.js:97:13\n    at Array.forEach (native)\n    at /home/ubuntu/etherpad/node_modules/async/lib/async.js:26:24\n    at /home/ubuntu/etherpad/node_modules/async/lib/async.js:96:9\n    at /home/ubuntu/etherpad/node_modules/async/lib/async.js:193:9\n    at Object.map (/home/ubuntu/etherpad/node_modules/async/lib/async.js:177:23)\n    at Object.parallel (/home/ubuntu/etherpad/node_modules/async/lib/async.js:460:19)\nThis may very well have more to do with how I was stress testing than anything else (I agree that 350 people in the same pad is overkill), but I thought it probably wise to report the stack trace anyway.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/360\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Very interesting, we have been pondering methods to do this exactly this so thank you for the info :)\nWould it be possible for you to publish so we can replicate these tests or provide us with the ability to do these tests ourselves so we can replicate and isolate the problem?\n-----Original Message-----\nFrom: mjd75 [mailto:reply@reply.github.com]\nSent: 26 January 2012 14:40\nTo: John McLear\nSubject: Re: [etherpad-lite] Stress testing with many users on same pad crashes EtherPad (#360)\nI managed to get it three times this afternoon. I'm using Amazon EC2, two server instances (type m1.xlarge), both running Ubuntu 11.04. The first server is running a MySQL database and an EtherPad Lite instance (just running out of the box from a git checkout, only outputting error messages).\nThe second server is the one taking the real beating - running several headless X servers (Xvfb) and slowly trying to launch 400 Phantomjs (a headless WebKit 'browser') processes. Each Phantomjs instance is simply being directed to load the same pad from the other server and just maintain the connection.\nAt somewhere around 350-360 connections the server process will die with the above error.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/360#issuecomment-3669757\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Awesome, that is great, thanks! :) \n. Do we need to load test this again to test it?\n. testing this now\n. [2012-02-24 14:00:53.315] [ERROR] console - Error: EMFILE, too many open files '/home/etherpad-lite/static/pad.html'\nI get this :)\nWill show Pita etc. when he gets here\n. Tested today, unable to replicate this bug but it was a really good way of testing load capabilities.   @mjd75 could you please write a wiki page for how to do this in the future?  Thanks very much again!\n. k\n. Will test this 2nite\n. There is already an issue open for this.\n-----Original Message-----\nFrom: Elijah [mailto:reply@reply.github.com]\nSent: 28 January 2012 02:39\nTo: John McLear\nSubject: [etherpad-lite] localization (#363)\nEP lite does not have that many strings that need l10n, but it has enough. L10n would be great.\nAlso, it would be nice to have the ability to localize the index.html text and the new pad text.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/363\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. I call this the \"persistent sticky chat bar feature\" and it's assigned to me.\n. Done.\n-----Original Message-----\nFrom: Elijah [mailto:reply@reply.github.com]\nSent: 28 January 2012 02:56\nTo: John McLear\nSubject: [etherpad-lite] \"my view only\" settings are not persistent (#364)\nI am a big fan of the new \"Chat always on screen\". However, like the other \"my view only\" pad settings, this option is not persistent.\nIf you refresh, the settings revert, or if you open a new pad, you get the default settings again. It probably makes sense for \"my view only\" settings to be stored in the cookie.\nIt looks like there are some settings stored in the cookie, but perhaps they are legacy settings. I don't think they apply to etherpad lite: fullWidth (false), hideSidebar (false), viewZoom (100). Smells like old etherpad to me.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/364\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Done\n. This fixes a minor css bug on the settings container.\n. @cweider I'm sure this is a good pull request but I want @Pita to merge this as I am sure you will have discussed it with him.\n. @0ip are you happy w/ this?\n. Also margin-top still left on underline button.  Will merge anyway, no big job to tidy up those tiny other bits\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Bounty for this: https://www.bountysource.com/issues/1371946-exporting-authorship-colours\n. Sorry no more info, does it on two of my devices in IE9.\nFYI IE7 now errors \"JSON is undefined\" for me..\nIE8 errors \"Object expected\" on line 20(nice specific IE bugs)...\nI'm using IETester to test.\nYou don't get those errors or?\n-----Original Message-----\nFrom: Chad Weider [mailto:reply@reply.github.com]\nSent: 30 January 2012 12:01\nTo: John McLear\nSubject: Re: [etherpad-lite] IE error 'require' is undefined (#376)\nNo trouble on IE7,8 locally, any more info? cache cleared?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/376#issuecomment-3718424\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. I still get 'require' is undefined in IE on http://beta.primarypad.com -- cache cleared etc.\n. I did test.  He fixed the JSON issue.  Peter, y u no read commits before commenting? ;)\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 30 January 2012 23:34\nTo: John McLear\nSubject: Re: [etherpad-lite] IE error 'require' is undefined (#376)\nJohn, Y U NO test before merging?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/376#issuecomment-3730381\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. require(\"/ace2_common.js\");\nSCRIPT5009: 'require' is undefined \nscript block (2), line 2 character 1\nIE9.0.8112.16421\n. @cweider okay thanks :) \n. @cweider \"The require issue requires magnification to be turned off, so it only affects development.\"  -- Sorry but can you elaborate on this please?  I'm ignorant to what \"magnification\" might be..  Apologies ;\\\n. Same issue exists on latest afaik.  Can anyone please confirm?\n. @cweider @0ip confirmed IE not working. \n. Seems to be\nbeta.etherpad.org is running minify false and on latest and seems to be fine in IE for me\n. Also see how chat.js interfaces w/ the pad title.\n-----Original Message-----\nFrom: Wikinaut [mailto:reply@reply.github.com]\nSent: 29 January 2012 23:31\nTo: John McLear\nSubject: [etherpad-lite] Suggestion: swap \"Etherpad Lite | \" parts in HTML title tags (#377)\nHello,\nI suggest to swap the two parts of the title tag on all pages.\nRationale:\na. Other web pages and service (also this GitHub page) shows most relevant page content (page name) at the begin, then after a dash - or pipe | symbole the service name.\nb. In order to harmonise web page layouts c. to show the relevant part first to have it visible in browser tabs\nExamples:\n1. Pita/etherpad-lite - Github\n2. Costa Concordia - WIkipedia\nI hereby suggest to swap the two parts, so that pad titles on browser pages and in browser tabs appear as\n | Etherpad Lite\nIt requires changes in\nstatic/pad.html\nstatic/timeslider.html\nstatic/js/pad2.js\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/377\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Yea :)\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 01 March 2012 12:23\nTo: John McLear\nSubject: Re: [etherpad-lite] closeColorPicker is not defined (#378)\nThats fixed, or?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/378#issuecomment-4257125\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Oh..  Wait, actually I don't think it is..  I think the bug still exists in IE7\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 01 March 2012 12:23\nTo: John McLear\nSubject: Re: [etherpad-lite] closeColorPicker is not defined (#378)\nThats fixed, or?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/378#issuecomment-4257125\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Tested fixed.\n. Tested fixed.\n. Bounty for this: https://www.bountysource.com/issues/1371945-set-a-pad-to-a-certain-revision-via-api\n. Fixed in Develop.\n. We could really do w/ a way of replicating this bug..\n. If you can sponsor the work I can probably do it.\nThere are various guides for how to write plugins afaik including videos up online at youtube.\nDate: Tue, 23 Oct 2012 09:15:11 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nSubject: Re: [etherpad-lite] Suggestion: add an \"about Etherpad\" software version info section (Etherpad, node.js, abiword ...) in the \"Pad settings\" widget (#386)\nPlease: can someone of you experts please prepare such a plugin, which I suppose will be easy for you, as a framework to learn from, and as an example how to write plugins, and to finally close the issue ?\n```\n          \u2014\n      Reply to this email directly or view it on GitHub.\n\n```\n. And that was gratefully received and spent within 2 days :)\n. Yea sorry man but I'm completely fully booked until Nov 8th unless some sponsored work comes in.  Once we get to November I may be able to pop something together.  But basically this is a feature request and we already have 100+ of those ;)..\nI'd love to see people start putting jobs on elancer, odesk, gun.io etc. tho..  Getting some more independent  developers hacking on Etherpad Lite would be a perfect move right now\n. N1 Marcel\nMarcel Klehr notifications@github.com wrote:\nJust npm install ep_infopanel\nSee https://github.com/marcelklehr/ep_infopanel\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/386#issuecomment-9742048\n. Confirmed.  It is.  Apologies for not spotting this.  Can't wait for new testing framework ;)\n. @gedion 's request requires a separate issue.\n. Fixed\nhttps://github.com/Pita/etherpad-lite/commit/88744901c076cdfc1226094a2ca8ab22f7ef343c\nRequest to @gedion please keep related issues in separate issues and just link with a reference/pointer!  Cheers\n. +1 - I assume you mean email notifications?  This would be cool, emails would need to be abridged though\n. Obvious security issues to be taken into account.  Not sure how well authentication w/ RSS works.\n-----Original Message-----\nFrom: Jordan Hollinger [mailto:reply@reply.github.com]\nSent: 01 February 2012 17:44\nTo: John McLear\nSubject: Re: [etherpad-lite] Sending out notifications upon change (#388)\n+1. Just had a similar thought - what if public pads could be \"subscribed\" to over Atom/RSS? Haven't thought it through very well, just a thought.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/388#issuecomment-3763356\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. @Pita may want to contribute to this\n. Tested, I cannot replicate.\nPlease clear cache and re-test.\n-----Original Message-----\nFrom: - [mailto:reply@reply.github.com]\nSent: 01 February 2012 22:29\nTo: John McLear\nSubject: [etherpad-lite] require-kernel problem (#389)\nIf I enable the minification I get client side errors:\n```\npad.js:1Uncaught ReferenceError: seq is not defined (anonymous function)\nSecond error:\n``````\nUncaught Error: Attempt to retrieve the root module \"/jquery-ui\" but no root URI is defined.\nsyncLockrequire-kernel.js:469\nafterrequire-kernel.js:422\nloadModulerequire-kernel.js:400\nafterrequire-kernel.js:420\n_findrequire-kernel.js:434\nafterrequire-kernel.js:424\nloadModulerequire-kernel.js:384\nafterrequire-kernel.js:420\n_findrequire-kernel.js:434\n_moduleAtPathrequire-kernel.js:441\nmoduleAtPathSyncrequire-kernel.js:467\n_designatedRequirerequire-kernel.js:558\ndesignatedRequirerequire-kernel.js:577\nrequireRelativerequire-kernel.js:583\nrequirerequire-kernel.js:617\n(anonymous function)blub:301\n```\nSorry. I don't know how to properly copy/paste from the f* chromium/firebug console.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/389\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n```\n. Are you sure you are running the latest?  I tested in FF and I don\u2019t get this on latest ;\\\n-----Original Message-----\nFrom: - [mailto:reply@reply.github.com]\nSent: 01 February 2012 23:50\nTo: John McLear\nSubject: Re: [etherpad-lite] require-kernel problem (#389)\nCache cleared. Still getting this error. Happens in Firefox, Chromium and Arora. Do you need any additional information?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/389#issuecomment-3769788\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Hrmph..\nCan you print screen please or capture a video?\nI'm a bit boggled by this ;\\\n-----Original Message-----\nFrom: - [mailto:reply@reply.github.com]\nSent: 01 February 2012 23:54\nTo: John McLear\nSubject: Re: [etherpad-lite] require-kernel problem (#389)\nLatest commit is dfa106df03b05368085eccc731bdf819e6a236d5 Just to be sure I did a fresh clone of the repo.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/389#issuecomment-3769830\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Do me a favour and git stash -- just wanna make sure this is clean..\nAny chance you can put this on a public IP?\n-----Original Message-----\nFrom: - [mailto:reply@reply.github.com]\nSent: 02 February 2012 00:05\nTo: John McLear\nSubject: Re: [etherpad-lite] require-kernel problem (#389)\nhttp://bayimg.com/mamibAAdF\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/389#issuecomment-3769954\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. I'm running latest.\nroot@dev:/home/etherpad-lite# git pull\nkey_from_blob: remaining bytes in key blob 268\nkey_read: type mismatch: encoding error\nAlready up-to-date.\nAnd I'm running w/ minify on.\nEtherpad lite has been restarted.\nI don't get that error.\n. Q.  What do we actually use jQuery UI for?  Imho jQUI is bloat.\nI'd love to hear some arguments for keeping it..\n-----Original Message-----\nFrom: Jordan Hollinger [mailto:reply@reply.github.com]\nSent: 02 February 2012 14:52\nTo: John McLear\nSubject: Re: [etherpad-lite] require-kernel problem (#389)\nThis must be a bug in ast_mangle that ast_squeeze somehow fixes. I've done some digging, and it's jquery-ui.js that's triggering the bug. I've found that if I delete the jQuery UI Mouse section, then delete or move the jQuery UI Resizable section to its own file, it works.\nIf anyone else can reproduce this it might be a good basis for opening an issue with UglifyJS?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/389#issuecomment-3779040\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Chat animation imho is pretty nasty..  Would be happy if it was just a .show(); and .hide();\nShould I look at doing this?\n. @pita I agree fixing the import is more important.  We can't remove the chat button, some people like that functionality.   We can however remove the animation part..\n@jhollinger is correct.\nI'm gonna look at getting this done anyways just because I feel like it will make things a bit tighter on the UI side.\n. RE jQuery UI -- It is used for re-sizing the chat element...  I have a branch up that has the ui stuff removed..  https://github.com/Pita/etherpad-lite/tree/removejQueryUI -- Resize the chat object is not possible on this branch..  To compensate for that I have made more of an emphasis on the \"Always display chat button\"..  Anyway, grab it and have a play..  I'm open to criticism and hate for my crime.\nNote:  This makes the \"Chat always on screen\" function perform way smoother frmo a UI perspective..  \nNote ii)  @0ip Will need to add styling to what I made as I made it ugly.\n. After merge we can add subtle changes like that..  Actually @0ip might be a better person to make those changes..  I'm pretty busy looking at other UI stuff at the mo\n-----Original Message-----\nFrom: Jordan Hollinger [mailto:reply@reply.github.com]\nSent: 02 February 2012 19:18\nTo: John McLear\nSubject: Re: [etherpad-lite] require-kernel problem (#389)\n+1 for no jQuery UI. IMHO, a subtle animation like $(\"#chatbox\").hide/show(300) would look smoother, particularly since similar animations are already on the screen.\nMore importantly, I tried removing the ast_squeeze call from @johnyma22's branch, and it seems to work perfectly (and faster, as expected).\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/389#issuecomment-3784255\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Afaik you can click on 95% of the screen and it will close those dialogues...\n95% of the screen seems like enough to me however a tiny \"close icon\" in the top right would only be a 10 minute job to program and could provide a slightly better UX.\ns\n-----Original Message-----\nFrom: Marcel Klehr [mailto:reply@reply.github.com]\nSent: 02 February 2012 17:16\nTo: John McLear\nSubject: [etherpad-lite] Mark UI button of currently 'open' dialog (#391)\nWhen there were only a few UI buttons, it you always knew, which button you had clicked to open the displayed dialog. But with the increasing amount of available actions (Import/export, Settings, Timeslider, Embed/Share, Users) it's hard to keep track of the buttons you clicked.\nI realized this, when I wanted to remove a dialog I had opened: After surfing another website in a different tab, I cam back and wanted to remove this dialog, but I didn't know intuitively which button to click to remove it. (Of course, after thinking it through for a few minutes, I managed to figure it out by reading the text... :-) ).\nThe problem is, that there is no sign whatsoever, which indactes, to which button the dialog refers.\nMy immediate idea was to mark the clicked button (e. g. with black background color).\nAdditionally, an [x] button for closing the dialog would be worth discussing about...\nMaybe, when the time has come and the dragon has awakened, I might be able to code this...\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/391\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Okay that\u2019s a new bug I will look at that 2nite\n-----Original Message-----\nFrom: Marcel Klehr [mailto:reply@reply.github.com]\nSent: 02 February 2012 21:32\nTo: John McLear\nSubject: Re: [etherpad-lite] Mark UI button of currently 'open' dialog (#391)\nInteresting. 95% you say? This doesn't work for me... (more like 0%) The dialog doesn't disappear, regardless of where I click.\n(Firefox 10.0 on Windows 7)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/391#issuecomment-3786976\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Can you please let me know how to replicate this bug?  I'm struggling ;\\\nDo you have a URL I can see it?\n-----Original Message-----\nFrom: John McLear [mailto:John@primaryt.co.uk]\nSent: 02 February 2012 21:34\nTo: Marcel Klehr; John McLear\nSubject: RE: [etherpad-lite] Mark UI button of currently 'open' dialog (#391)\nOkay that\u2019s a new bug I will look at that 2nite\n-----Original Message-----\nFrom: Marcel Klehr [mailto:reply@reply.github.com]\nSent: 02 February 2012 21:32\nTo: John McLear\nSubject: Re: [etherpad-lite] Mark UI button of currently 'open' dialog (#391)\nInteresting. 95% you say? This doesn't work for me... (more like 0%) The dialog doesn't disappear, regardless of where I click.\n(Firefox 10.0 on Windows 7)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/391#issuecomment-3786976\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. That is the correct behaviour\n-----Original Message-----\nFrom: Marcel Klehr [mailto:reply@reply.github.com]\nSent: 03 February 2012 12:23\nTo: John McLear\nSubject: Re: [etherpad-lite] Mark UI button of currently 'open' dialog (#391)\nI noticed this on beta.primarypad.com Hmm... Yesterday, it didn't work, but now it seems to work as you say. Strange.\nHowever, the user list still doesn't disappear when clicking in the document!\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/391#issuecomment-3795897\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Yea good job @0ip \n. @0ip might want to add something to this to sort the styling issues.\n. This is parts of the table of contents request.\n. Will test/pull this tomorrow.\n-----Original Message-----\nFrom: 0ip [mailto:reply@reply.github.com]\nSent: 03 February 2012 18:21\nTo: John McLear\nSubject: [etherpad-lite] Update jQuery to 1.7.1 (#395)\nremoves \"event.layerX/layerY are broken and deprecated\" message\nYou can merge this Pull Request by running:\ngit pull https://github.com/0ip/etherpad-lite patch-4\nOr you can view, comment on it, or merge it online at:\nhttps://github.com/Pita/etherpad-lite/pull/395\n-- Commit Summary --\n- Update jQuery, removes \"event.layerX/layerY are broken and deprecated in WebKit\" message\n-- File Changes --\nM bin/installDeps.sh (2)\n-- Patch Links --\nhttps://github.com/Pita/etherpad-lite/pull/395.patch\n  https://github.com/Pita/etherpad-lite/pull/395.diff\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/395\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. testing\n-----Original Message-----\nFrom: 0ip [mailto:reply@reply.github.com]\nSent: 04 February 2012 17:50\nTo: John McLear\nSubject: [etherpad-lite] Get rid of these idiotic vendor prefixes (#398)\nYou can merge this Pull Request by running:\ngit pull https://github.com/0ip/etherpad-lite vendor_pref\nOr you can view, comment on it, or merge it online at:\nhttps://github.com/Pita/etherpad-lite/pull/398\n-- Commit Summary --\n- get rid of vendor prefixes\n- add missing slash\n- automatic prefixfree.js dl\n- fixes automatic update\n-- File Changes --\nM .gitignore (3)\nM bin/installDeps.sh (15)\nM node/utils/tar.json (1)\nM static/css/pad.css (59)\nM static/js/pad.js (1)\n-- Patch Links --\nhttps://github.com/Pita/etherpad-lite/pull/398.patch\n  https://github.com/Pita/etherpad-lite/pull/398.diff\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/398\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. I think you are correct.\n-----Original Message-----\nFrom: Wikinaut [mailto:reply@reply.github.com]\nSent: 04 February 2012 22:37\nTo: John McLear\nSubject: [etherpad-lite] Documentation: \"Install the dependencies with bin/installDeps.sh\" <- is this needed any more ? (#399)\nIs \"Install the dependencies with bin/installDeps.sh\" really needed any more ?\nOn my installation it looks, as if bin/run.sh does the same. Please correct me, if I am wrong.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/399\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Me and @Pita agree it should be a plugin at most.  It wont go into core.\n. I was paid to investigate this so I did.  Feel free to pay me to work on core ;)\n-----Original Message-----\nFrom: - [mailto:reply@reply.github.com]\nSent: 05 February 2012 17:17\nTo: John McLear\nSubject: Re: [etherpad-lite] Video chat integration.. (#401)\nPlease concentrate on the core functionality first! There are plenty of open problems and tickets...\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/401#issuecomment-3819021\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. http://search.npmjs.org/#/ep_tokbox <-- plugin available here\n. .\n. Wow, that is awesome! :) Can we see anywhere?\n-----Original Message-----\nFrom: gedion [mailto:reply@reply.github.com]\nSent: 08 February 2012 17:29\nTo: John McLear\nSubject: Re: [etherpad-lite] Ideas for table support (#402)\nHey guys. Today I had a breakthrough. All the table properties are working really nicely.  I tested with a group of 5 people for about an hour. We were able to make entries, change table properties like table width/height/bolding ect. They helped me identify errors that I am now working on.\nThis might actually be usable guys.\nOn Sun, Feb 5, 2012 at 2:41 PM, John McLear < reply@reply.github.com\n\nwrote:\n.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/402#issuecomment-3820568\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/402#issuecomment-3871782\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Any update yet @gedion ?  Thanks :)\n. I got the email.  I assume you haven't used git?\nThe Oracle and Table support stuff is all together so picking out different bits is going to be a pain.\nAlso it isn't built as a plugin so will need re-writing as a plugin, I guess there is at least a full days work if not 2 days work just reading through this and trying to pluginify it.\nNeither me or Pita have the time available to do that so if someone wants table support please let Gedion know and you will have to go through his code and pick out each line that is relevant and add it to a plugin...\nWe have developer guidelines to try to avoid this exact problem, we also use Git to avoid this problem.  Developers, use git or your code will never see the light of day.\nGedion, would you be willing to make this a plugin?  Without it being pluginified there is no way we can include it in the project.\n-----Original Message-----\nFrom: gedion [mailto:reply@reply.github.com]\nSent: 10 May 2012 03:38\nTo: John McLear\nSubject: Re: [etherpad-lite] Ideas for table support (#402)\nWe have shared our latest codes with Pita and John last night. Hoping that they'll be able to make it available for the public.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/402#issuecomment-5616913\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Hehe.  I thought d3 sucked too..  Played it for 3 days then uninstalled it and got back to being productive.  Diablo is the Lord of Productivity Destruction\n. Some issues:\na) Try to install ep_speechtotext plugin then enable ep_datatables, minor styling issue.\nb)  \nI got latest master then pulled gedions.\nb FIXED:  Yo dawg, clear your cache.\na is still a problem.\n. RE npmjs not being available I spoke to E about this earlier and we're going to setup an npm mirror on npm.etherpad.org, can anyone provide hosting and admin of this please?  We can sort DNS out.\n. c) Removing focus doesn't close the table dialogue\n. d) How do I close table properties?  Oh the close thing popped up eventually, pressing escape should close this.\n. I should of said, this is great work Gedion :) I just showed a few people and they are super happy!  Looking forward to seeing the polished work.  Put a pull request in for your changes and I will test/merge over the next few days.\n. I tested this and it is fine in both minify false and true.  @Pita I will leave you to give it final go-ahead.  I always skim read the code and it looks fine\n. I'm still getting the IE error but only when minify is set to false..  How very bizarre.\n. Interesting that you would use github instead of the feedback button provided by that's okay because I'm also here..\nThe pad data has gone corrupt, @pita do you have any advice for the best practice in this situation?\nThanks\n-----Original Message-----\nFrom: fnadde42 [mailto:reply@reply.github.com]\nSent: 06 February 2012 09:20\nTo: John McLear\nSubject: [etherpad-lite] Pad never stops \"loading\" (tested in multiple browsers) (#408)\nIt just loads forever...\nHere is a link to the pad:\nhttp://willyou.typewith.me/p/ACTAumea\nIf you want more information, ask me...\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/408\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Update your etherpad lite.\n. Oh you are using Type With me, yeah I haven't updated that yet..  Will do it now *Sighs..\n. Okay done, please file typewith.me issues on the typewith.me feedback button.  It's there for a reason\n. Isn't that up to nodester? There are lots of deployment platforms, we don't want to show any bias. (afaik we already have bias to one and I'm not keen on that.)\n. Ask nodester.\n\nFrom: gedion [reply@reply.github.com]\nSent: 03 July 2012 20:42\nTo: John McLear\nSubject: Re: [etherpad-lite] could this be deployed on nodester? (#410)\nWould like to re-ask this question. How can I run this on nodester? I have enough to demo table plug in. I tried Amazon ec2. Found it too complicated. Was able to set up a hello world on nodester. Now I would like to set up this app. Is it possible?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/410#issuecomment-6744364\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Your MySQL settings are commented out.\n-----Original Message-----\nFrom: Norman Khine [mailto:reply@reply.github.com]\nSent: 06 February 2012 16:37\nTo: John McLear\nSubject: [etherpad-lite] mysql data (#412)\nhello,\ni have setup mysql and the etherpad-lite starts and is functioning normally.\nalthough, when i go to the mysql cli, and look at the table store, there does not seem to be any records not tables:\n```\n    mysql> show databases;\n    +--------------------+\n    | Database           |\n    +--------------------+\n    | information_schema |\n    | mysql              |\n    | performance_schema |\n    | store              |\n    | test               |\n    +--------------------+\n    5 rows in set (0.00 sec)\nmysql> use store;\nDatabase changed\nmysql> show tables;\nEmpty set (0.00 sec)\n\nmysql> quit;\n\n```\nhere is my\n\u263a  vim settings.json\n  //The Type of the database. You can choose between dirty, sqlite and mysql\n  //You should use mysql or sqlite for anything else than testing or development\n  //\"dbType\" : \"dirty\",\n  ////the database specific settings\n  //\"dbSettings\" : {\n  //                 \"filename\" : \"../var/dirty.db\"\n  //               },\n/* An Example of MySQL Configuration\n   \"dbType\" : \"mysql\",\n   \"dbSettings\" : {\n                    \"user\"    : \"root\",\n                    \"host\"    : \"localhost\",\n                    \"password\": \"\",\n                    \"database\": \"store\"\n                  },\n  */\nwhat am i missing?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/412\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. I now use init scripts and this isn't a big deal at all.\n. +1 @Pita \nIn general we are getting lots of requests for third party integration and we're at a point now where you have some options.\nOption 1) Ask the third party community to integrate Etherpad Lite.\nOption 2) If you want to fund integration it will get prioritization.  The foundation has systems in place to support this.\nOption 3) Request integration but expect your issue to get closed straight away because we don't want a load of open issues for third party services.\nWe're open to other routes/suggestions too, sorry but we just have a lot on already.\n. Any update on this?\n. Can you consistently replicate?  What sort of load are you putting on the server?\nIt's unlikely that the work me and @0ip did on full column chat is causing that bug.  Can you try and roll back to an older commit to see how things go? \n. IE7 makes the color picker return null and error.  The user span also looks pretty crap.  I will resolve this today or tomorrow probably..  Apologies for the delay..\n. Confirmed.  I will look into this ASAP.  I'm assuming it's something to do w/ being able to pass the param I added a few days ago\n. Just that I have been too busy to look into it\n0ip reply@reply.github.com wrote:\nAny update on this?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/423#issuecomment-4062019\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. I already did but go ahead and do it also..\nYes it is a false positive.\n-----Original Message-----\nFrom: Wikinaut [mailto:reply@reply.github.com]\nSent: 10 February 2012 21:54\nTo: John McLear\nSubject: Re: [etherpad-lite] Avast Antivirus flags Etherpad Lite as a virus (#426)\nSomeone must submit a sample and saying that it is false positive (is it?)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/426#issuecomment-3915027\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Solved afaik.  Can anyone test?\n. Closing due to lack of update.\n. I can see the logic to this..  Especially w/ what's happening w/ flickr at the mo.  It's only a matter of time until Google goes the same way.  http://www.kk.org/thetechnium/archives/2011/07/cities_are_immo.php\n. @ThomasWaldmann The reason it had both flags is because github had a bug where you couldn't remove a label.\n. @drdla pull request #503 is not being pulled at current\n. Use reverse proxying.\nSee the wiki\n-----Original Message-----\nFrom: gedion [mailto:reply@reply.github.com]\nSent: 10 February 2012 16:01\nTo: John McLear\nSubject: [etherpad-lite] Anyway to circumvent browser's crossdomain policy? (#439)\nI am using epLite in my app via iframes. I'd like to be able to use some of the pad's javascript functions. But the mentioned policy is not allowing me to do so. Etherpad lite will be hosted in a different domain than my main app.\nAny ideas?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/439\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Afaik that method allows for XSS on the server that is proxying.  I could be wrong tho\n-----Original Message-----\nFrom: gedion [mailto:reply@reply.github.com]\nSent: 10 February 2012 22:35\nTo: John McLear\nSubject: Re: [etherpad-lite] Anyway to circumvent browser's crossdomain policy? (#439)\njhollinger's link(http://pipwerks.com/2008/11/30/iframes-and-cross-domain-security-part-2/) led me to solve my problem.\nIn the link someone mentions this, which works for me. Thank you all for your effort.\n\nDocuments are allowed to change from their subdomain to main domain. ex. from yyy.zzz.com you could set your  document domain to zzz.com. Now as both iframes have same domain, they can share/communicate easily.\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/439#issuecomment-3915625\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Chad, I'm curious, how is using a cross-frame interface the best way when compared to setting up reverse proxy?  I'm completely ignorant to cross-frame interfaces..\nI just deployed PrimaryWall for a client using the reverse proxy technique and found for me it worked well using a relative path on the domain so the call comes from failtoso.com but any request to failtoso.com/wall/ goes to wall.failtoso.com --  I'm sure you get how it works..  I don't have to provide any extra client payload which imho is what we all are striving towards?\nAlso it would be interesting to find out if we can leverage the API the functionality the OP desires.\n-----Original Message-----\nFrom: Chad Weider [mailto:reply@reply.github.com]\nSent: 10 February 2012 23:15\nTo: John McLear\nSubject: Re: [etherpad-lite] Anyway to circumvent browser's crossdomain policy? (#439)\n@johnyma22, yes, it would expose the frame to other frames in a parent domain \u2013 that is probably safe, but it is something that an implementer would need to be cautious of. The best solution would really be to expose a cross-frame interface (probably with easyXDM) or to make the iframe unnecessary (but that requires sessions and tokens and lots of other things).\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/439#issuecomment-3916270\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. I'd welcome a patch for this, I'm not going to be doing it as I don't own a mac.\n. Mac people are such heavy contributors, I just can't handle the number of pull requests landing to solve this issue despite it only being a one liner...  *grins.\n. I also agree.\n. Yep, I did this a while back.\n. https://github.com/ether/etherpad-lite/issues/792\n. Closing this as #792 is where I'm working.\n. @0ip Why wouldn't \n.list-indent1{\n  margin-left: 29px;\n}\nbe suitable here?\nAlso worth noting that hitting tab the second time doesn't indent twice.\n. I just realized it's only the first tab that is indented with a tab, any additional indents are done with 4 spaces.\n. css content before didn't work at all, scrap that idea\n. Interesting..\nIs it just me or if you type\nfunction blah(){\nthen hit enter do you get 4 spaces and not a tab?\nit appears that if the last char is { you get 4 spaces.  That's pretty nifty.  I can now move this same logic onto :\n. if (/[\\[\\(\\{]\\s*$/.exec(prevLineText)) theIndent += THE_TAB;\n/[\\[\\(\\:\\{]\\s*$/ works\n. See https://github.com/ether/etherpad-lite/pull/1532\n. @PanderMusubi etherpad.mozilla.org is 10's of thousands of commits old so should not be used.  See https://github.com/ether/etherpad-lite/wiki/Sites-that-run-Etherpad\n. @superawesome We do provide some team pad support through plugins and there is an active project called MyPads which is bringing full support (assuming you want to replicate the old behavior). \nOther organizations have been active and have implemented team site support successfully.  The real problem here is Mozilla haven't been participating in Etherpad.  I kinda get how things work at Moz so I assume no one took the lead so it kinda got left to no-one to organize/converse with us.\nWe'd very much like to have Mozilla back on-board and back on the project, maybe you can take the lead on it?\nFWIW The Webmaker team are \"supposed\" to be doing Etherpad related stuff but they went dark in January...  https://github.com/MozillaFoundation/plan/issues/244\n. Confirmed.\nReturns: ace2_inner.js (line 6965)\nn is null\nWill look at this ASAP\n. Update on this.\nIt's a firefox only bug and it's been in since Etherpad was open sourced back in 2009...\n. @davidmarble what version of chrome?\n. Confirmed bug exists in FF 18\n. This is now resolved in develop :)   Thanks to @Pita \n. +1\n. I forgot I wrote a plugin for this 3 months ago, doh..  https://github.com/JohnMcLear/ep_sticky_attributes\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Bounty for this: https://www.bountysource.com/issues/1371942-allow-users-to-select-their-color-by-typing-in-the-hex-value\n. Great work everyone :) Apologies to @sufyit for the headache :)\n. I agree this needs doing but I'm not sure it's a high priority.  It is certainly a feature request.  You might actually want to introduce this as a plugin because the % of users that will use it is pretty minimal..  It might be something that is included or bundled in with the table plugin...  The risk is that we clutter the toolbar introducing icons that confuse the user.\n. I'm waiting on Peter to give me a go-ahead on this.\nAfaik the plugin framework isn't even completed yet.\n-----Original Message-----\nFrom: Wikinaut [mailto:reply@reply.github.com]\nSent: 18 February 2012 16:46\nTo: John McLear\nSubject: Re: [etherpad-lite] Option for fixed-width font (#460)\n\"You might actually want to introduce this as a plugin...\"\nHi, can you present an example, how exactly plugins must be programmed, I am willing to do this, but need some exact guidance, please. This then should form part of the EPL documentation, of course.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/460#issuecomment-4035338\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. See: https://github.com/Pita/etherpad-lite/pull/462\nThanks to @Wikinaut \n. Look really great.\n. Thoughts on this: http://paul.kinlan.me/we-need-to-kill-off-the-localstorage-api ?\n@Azul is this something you could lead on?\n. This is a duplicate of https://github.com/ether/etherpad-lite/issues/190 -- This is available as a plugin \n. Can you telnet 127.0.0.1 3306 okay? And can you telnet localhost 3306 okay?\nWhat is your host in your settings.json?\n-----Original Message-----\nFrom: belstgut [mailto:reply@reply.github.com]\nSent: 18 February 2012 15:18\nTo: John McLear\nSubject: [etherpad-lite] [ERROR] console - ERROR: Problem while initalizing the database (#464)\nHi,\nI have problems starting eplite when i turn on my firewall.\ndebugRun.sh:\n\n[2012-02-18 16:12:08.863] [ERROR] console - ERROR: Problem while initalizing the database\n[2012-02-18 16:12:08.865] [ERROR] console - Error: connect ETIMEDOUT\n    at errnoException (net.js:642:11)\n    at Object.afterConnect as oncomplete\n\nas I turn off my iptables rules it works. mysql database is localhost.\ncouldnt find anything like that on google so i'll ask here\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/464\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Add an iptable rule that allows inbound TCP 3306 from 127.0.0.1\nSee: http://www.cyberciti.biz/tips/linux-iptables-18-allow-mysql-server-incoming-request.html\n-----Original Message-----\nFrom: belstgut [mailto:reply@reply.github.com]\nSent: 18 February 2012 15:26\nTo: John McLear\nSubject: Re: [etherpad-lite] [ERROR] console - ERROR: Problem while initalizing the database (#464)\nhost in settings.json is 127.0.0.1\nand telnet dont work.\ntelnet localhost 3306\nTrying 127.0.0.1...\ntelnet: Unable to connect to remote host: Connection timed out\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/464#issuecomment-4034787\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. What OS is this?\n-----Original Message-----\nFrom: belstgut [mailto:reply@reply.github.com]\nSent: 18 February 2012 15:46\nTo: John McLear\nSubject: Re: [etherpad-lite] [ERROR] console - ERROR: Problem while initalizing the database (#464)\nalready had those:\niptables -I INPUT -i lo -p tcp --dport 3306 -j ACCEPT iptables -I INPUT -i lo -p udp --dport 3306 -j ACCEPT\ntried the one u posted but still get the error\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/464#issuecomment-4034900\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. From @stevewilson \nQuote:  first rule of iptables, always allow all traffic on loopback (iptables -I INPUT -i lo -j ACCEPT)\n. It's set in Packages.json afaik...\n-----Original Message-----\nFrom: Wikinaut [mailto:reply@reply.github.com]\nSent: 18 February 2012 20:00\nTo: John McLear\nSubject: [etherpad-lite] EPL and socket.io - how can we ensure to use the latest version ? (#465)\nCan anyone please explain here, how during or before installation the latest socket.io version can be installed.\nShouldn't there be a special check in installDeps.sh for the latest socket.io version ?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/465\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. I tested this and it seems to work fine although it can't be automatically merged, could you possibly catch up then re-issue please?  Cheers :)\n. Reverting will be a bit of a pain because we have a few things ahead of it.  How long do you think we will be waiting for a fix?\n. Confirmed.\nHotfixing.\n-----Original Message-----\nFrom: Riseup Labs [mailto:reply@reply.github.com]\nSent: 20 February 2012 01:07\nTo: John McLear\nSubject: [etherpad-lite] Chat failing to escape forward slash (/) (#467)\nThe latest git revision of etherpad is failing to escape the / character, if you type it automatically changes it to: \"/\"\nThis is happening at the hosted etherpad demo right now.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/467\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Fixed.  Please test for security exploits and other bugs, I'm busy w/ other bits.\n. Bugzilla XML-RPC and JSON-RPC APIs:\nhttp://www.bugzilla.org/docs/tip/en/html/api/Bugzilla/WebService.html\n(and linked pages)\nREST API, a separate proxy server, of which there is an instance pointed at bugzilla.mozilla.org and of which you could set up your own instance as well:\nhttps://wiki.mozilla.org/Bugzilla:REST_API\n(and linked pages)\nFrom Gerv at Mozilla.  We can prolly get some support from Mo to help deploy this.\n. Also look at JIRA\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Plugins exist for catching stats etc. and you can use a service to monitor log files.  This issue is no longer relevant.\n. Did we ever see a pull request with this fix in?\n. I have added a task for myself to review this and issue a pull request after testing.\n. ./etherpad-stresstest --clients=lurk:100,write:10 http://server:9001/p/foo\nWill crash Etherpad after a while.  We now have a method to reproduce so should be good to debug.\n```\n[2013-02-12 16:35:25.361] [ERROR] console - Error: exports: mismatched follow\n    at Object.error (/var/www/node/etherpad-lite-dev/etherpad-lite/src/static/js/Changeset.js:39:11)\n    at Object.assert (/var/www/node/etherpad-lite-dev/etherpad-lite/src/static/js/Changeset.js:53:13)\n    at Object.exports.follow (/var/www/node/etherpad-lite-dev/etherpad-lite/src/static/js/Changeset.js:2013:11)\n    at Object.async.series.client.json.send.disconnect [as callback] (/var/www/node/etherpad-lite-dev/etherpad-lite/src/node/handler/PadMessageHandler.js:589:35)\n    at /var/www/node/etherpad-lite-dev/etherpad-lite/src/node_modules/ueberDB/CloneAndAtomicLayer.js:139:17\n    at exports.database.getSub (/var/www/node/etherpad-lite-dev/etherpad-lite/src/node_modules/ueberDB/CacheAndBufferLayer.js:378:7)\n    at exports.database.get (/var/www/node/etherpad-lite-dev/etherpad-lite/src/node_modules/ueberDB/CacheAndBufferLayer.js:157:5)\n    at exports.database.getSub (/var/www/node/etherpad-lite-dev/etherpad-lite/src/node_modules/ueberDB/CacheAndBufferLayer.js:350:8)\n    at doOperation [as operatorFunction] (/var/www/node/etherpad-lite-dev/etherpad-lite/src/node_modules/ueberDB/CloneAndAtomicLayer.js:133:18)\n    at exports.channels.emit (/var/www/node/etherpad-lite-dev/etherpad-lite/src/node_modules/ueberDB/node_modules/channels/channels.js:38:11)\n```\n. @rasos can you replicate or is it a one off?  Also any chance you can clean your paste up?\n. Can you please extract the pad using \nnode bin/extractPadData.js %padID%\nreplacing %padID% with the padId of the pad that keeps failing\nOnce you have the .db file of the pad (it will be in your folder) put it on the web and share the link here so we can investigate further\n. email me it john splat mclear.co.uk\nto \"disactivate\" a pad just delete it using the script I pushed today --> https://github.com/ether/etherpad-lite/pull/1557/files\nbut make sure you export first, if we don't know what's causing the error we can't fix it.\n. Yea @rasos went off topic, basically I can close this but I'm mindful stress testing may throw some exceptions we need to debug.\n. Closed at authors request.\n. Looking forward to seeing the smaller commits coming in over the weekend, we should be able to merge any that aren't too invasive!  Cheers\n. @Gared could you please test this branch out to see if it resolves your issue and let us know?\n. Ah whoops sorry @gared wrong person :) \n. +1 JHollinger and -1 me being too specific on my request ;)\n-----Original Message-----\nFrom: Jordan Hollinger [mailto:reply@reply.github.com]\nSent: 21 February 2012 21:09\nTo: John McLear\nSubject: Re: [etherpad-lite] API method for get All Pad Authors (#481)\n+1. Not to be pedantic, but for consistency's sake, should it perhaps be listPadAuthors?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/481#issuecomment-4088852\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Just to add to this, is also possible to \"connectivity status\" to this response IE is the user currently connected or not?  That way we could get a list of users, their status and then have a separate API function to disconnect a specific user using the API.\n. Great, please add a pull request to the develop branch.\nThanks :)\n\nFrom: melicin [reply@reply.github.com]\nSent: 04 April 2012 22:09\nTo: John McLear\nSubject: Re: [etherpad-lite] API method for get All Pad Authors (#481)\nI added 2 APIs in my forked repository: listPadsOfAuthor and listAuthorsOfPad\nhttps://github.com/melicin/etherpad-lite/commit/3c8674ebdee50d57e47b4983d24b822bf02773b4\nI'm happy to contribute to the master repository. Let me know if this meets your needs?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/481#issuecomment-4963140\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Prolly white?  Try both and see which you prefer?\n-----Original Message-----\nFrom: Marcel Klehr [mailto:reply@reply.github.com]\nSent: 28 February 2012 21:16\nTo: John McLear\nSubject: Re: [etherpad-lite] Links may not be difficult to see if the users background color is a shade of blue or purple (#482)\nBut which color should the links change to?\nWhite would look like it's simply underlined. Maybe yellow?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/482#issuecomment-4225725\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. The plugin framework is now available :) Just FYI, it's on develop branch, we're moving develop to master shortly!\n. @jaseg any update on this?\n. Have you read the socket IO documentation?\n. So what part of socket IO Don't you understand?  We're not trying to make it difficult for you.  All of the documentation and source code is available for you to read..  We can have a skype talk to try to explain Socket IO to you but I doubt we will explain it as well as some of the youtube videos etc. that are already available...\n. Weird I have been testing on debian all day and it's been fine.  What verison of debian are you using?\nAlso what version of node?  node -V\n. Does npm install jshint work?\n. https://github.com/jshint/node-jshint/issues is what you need then :)\n. Gotta open a new one , you can provide a link to here though\n-----Original Message-----\nFrom: Karol M. Langner [mailto:reply@reply.github.com]\nSent: 24 February 2012 17:28\nTo: John McLear\nSubject: Re: [etherpad-lite] jshint 0.5.8 (#492)\nCan I move this issue to that project somehow, or do I need to open a new one?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/492#issuecomment-4161091\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Closed because it's not our issue to resolve by the looks of things.\n. Note that my fix isn't ideal, it works but it is a fragile solution and we should probably review the value that prefixtree brings to the end user.\n. Fixed.  Reverted the commit\n. We have flattr on http://etherpad.org  -- We are in the process of claiming.\n. This actually fixed #245..  Fix for 308 coming soon =)  Thanks to @eldiddio \n. ?\n. Please issue a new pull request with separate commits so we can decide on a per UI change basis.\nI will be happy to commit a lot of your changes but they really need to be separate commits as I have issues with others.\n. Cool ta :)\n-----Original Message-----\nFrom: Chad Weider [mailto:reply@reply.github.com]\nSent: 27 February 2012 14:13\nTo: John McLear\nSubject: Re: [etherpad-lite] Setup caching on 2 files (#509)\nSee #468.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/509#issuecomment-4194057\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. I haven't had any crash reports frmo beta.etherpad.org in the last 4 days since I ran latest so either a) emails aren't working frmo it or b) it's not crashing...\n. Patched in develop, when we merge develop this will be closed.  Closing now as we're making moves to remove issues to ensure develop merge is a success\n. I agree.\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 28 February 2012 13:37\nTo: John McLear\nSubject: Re: [etherpad-lite] Windows package is now broken (#513)\nIts not the end of the world if the windows package is broken for a few days. I don't want to revert cause there will be a huge change comming in over the next days (plugin framework) and this will make it very difficult for you to commit your changes again\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/513#issuecomment-4215785\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Had 2 people report this bug to me today, just FYI it looks like windows users are actually using the package quite a lot ;\\\n. Think I'm waiting for the package to rebuild, will test 2mrw.\n. @cweider the package is still broken\n\nJxN4TMqPWy:1Uncaught ReferenceError: require is not defined\nace2_inner.js:1Uncaught ReferenceError: require is not defined\nJxN4TMqPWy:2Uncaught ReferenceError: require is not defined\n\n. @cweider any update on this?  Package still broken\n. Tested Okay\n. I'm 99.9% sure this is fine.\n. @pita does this problem still exist imho in minify=false I don't have this problem\n. Yep minify false and disable cache should sort this..\n. The soonest I can test and pull this is Thursday.  Two reasons\na) I'm really busy at the mo\nb) We're not pulling any new code until the plugin framework is finally merged\n. Collation may need to be UTF8 not latin1_swedish\nTry it on a dev box, this will require an ALTER  *Glares at Peter..\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 01 March 2012 17:00\nTo: John McLear\nSubject: [etherpad-lite] Non english characters are replaced with question marks sometimes (mysql) (#526)\nWe found out today, that some non english charcacter doesn't get saved properly to the database. Some of them get replaced by a questionmark, some by two, sometimes it works fine. This only happens if you use a mysql backend\nI was able to figure out an example that always fails. Set up an etherpad lite instance with mysql, copy paste this string \u043f\u0440\u0438\u0432\u0435\u0442 into a pad, restart etherpad lite and reload the pad. You will see that your string got replaced by questionmarks\nThis results in ueberDB in this sql command\n\nREPLACE INTO `store` VALUES ('pad:test3', '{\\\"atext\\\":{\\\"text\\\":\\\"Welcome to Etherpad Lite!\\\\n\\\\nThis pad text is sync\u043f\u0440\u0438\u0432\u0435\u0442hronized as you type, \u043f\u0440\u0438\u0432\u0435\u0442so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!\\\\n\\\\nEtherpad Lite on Github: http://j.mp/ep-lite\\\\n\\\\n\\\",\\\"attribs\\\":\\\"|2+r+l*0+6+m*0+6|4+4e\\\"},\\\"pool\\\":{\\\"numToAttrib\\\":{\\\"0\\\":[\\\"author\\\",\\\"a.L7J3iR4yRjzJJJVc\\\"]},\\\"nextNum\\\":1},\\\"head\\\":2,\\\"chatHead\\\":-1,\\\"publicStatus\\\":false,\\\"passwordHash\\\":null}'),('pad:test3:revs:2', '{\\\"changeset\\\":\\\"Z:6i>6|2=r=l*0+6$\u043f\u0440\u0438\u0432\u0435\u0442\\\",\\\"meta\\\":{\\\"author\\\":\\\"a.L7J3iR4yRjzJJJVc\\\",\\\"timestamp\\\":1330620479659}}');\n\nIf I paste this sql command into phpmyadmin, the special chars gets replaced with question marks too. It looks like the node mysql driver doesn't escape this chars properly, or the database scheme can not work with such chars\nAny help to solve that problem is appreciated\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/526\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Hah, I think I would of got more things wrong ;)\n-----Original Message-----\nFrom: Peter 'Pita' Martischka [mailto:reply@reply.github.com]\nSent: 01 March 2012 17:52\nTo: John McLear\nSubject: Re: [etherpad-lite] Non english characters are replaced with question marks sometimes (mysql) (#526)\nMaybe we can solve that without an alter. Its fascinating how much you can do wrong at a 2 column table. I should get an award for that ;)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/526#issuecomment-4263155\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. @pita can we get an update on this please?\n. ALTER TABLE store CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;\nreplace store with whatever your table name is but afaik this problem is a legacy problem and shouldn't exist.\nAre you running latest?\n. Related to https://github.com/ether/etherpad-lite/issues/842 ?\n. Get latest (using dirty), create new pad, paste in\n\u767e\u5ea6\u4e00\u4e0b\uff0c\u4f60\u5c31\u77e5\u9053\nhit timeslider, click play\nhit back\nAll fine.\nChange database to MySQL\ncreate new pad, paste in\n\u767e\u5ea6\u4e00\u4e0b\uff0c\u4f60\u5c31\u77e5\u9053\nhit timeslider, click play\nhit back\nAll fine.\n. @Wikinaut please feedback to redhog with your tests, not feature requests.  The example plugin is available in a wiki https://github.com/Pita/etherpad-lite/wiki/Creating-your-first-Etherpad-plugin\n. FYI @redhog \n\n\nClear minfified cache...\nensure custom css/js files are created...\n`src/static/custom/js.template' -> `src/static/custom/index.js'\n`src/static/custom/css.template' -> `src/static/custom/index.css'\n`src/static/custom/js.template' -> `src/static/custom/pad.js'\n`src/static/custom/css.template' -> `src/static/custom/pad.css'\n`src/static/custom/js.template' -> `src/static/custom/timeslider.js'\n`src/static/custom/css.template' -> `src/static/custom/timeslider.css'\nstart...\n[2012-03-01 20:36:57.515] [INFO] console - Your Etherpad Lite git version is 6cd391d\n[2012-03-01 20:36:57.518] [INFO] console - Report bugs at https://github.com/Pita/etherpad-lite/issues\n\nevents.js:48\n        throw arguments[1]; // Unhandled 'error' event\n                       ^\nError: ENOENT, no such file or directory '../var/dirty.db'\n\nI'm prolly using an old settings.json, will delete my copy and retry..\n. Deleted my local folder.  Recreated and same error\n\n\n[2012-03-01 20:41:01.717] [INFO] console - Your Etherpad Lite git version is 6cd391d\n[2012-03-01 20:41:01.720] [INFO] console - Report bugs at https://github.com/Pita/etherpad-lite/issues\n\nevents.js:48\n        throw arguments[1]; // Unhandled 'error' event\n                       ^\nError: ENOENT, no such file or directory '../var/dirty.db'\n\n. Changed to MySQL and it worked :) \n. Anyone fancy making a list of hooks and what/where they are called?\n. Branch off the main branch, prolly best to wait till Sunday if you can?  In the mean time you can do planning based on the code you see here.  It sounds like you have quite a lot of planning to do before putting pen to paper :P\n. @pita @redhog I can see where Pita is coming from but because of the nature of the modifications I'm not sure how possible this is..  I think maybe if we can get some decent testing done we can do damage limitation?  I think this will be the best case scenario..  We will have much better testing methods soon, just in the process of getting that ball rolling (finally)\n. @Pita @redhog I will test this further on Sunday once the IE bug is fixed and some templates/hooks are available \n. Don't I need the templates to write some example plugins and documentation? \n. Monospace button..\n-----Original Message-----\nFrom: Egil M\u00f6ller [mailto:reply@reply.github.com]\nSent: 03 March 2012 16:47\nTo: John McLear\nSubject: Re: [etherpad-lite] Plugin framework (#528)\n@johnyma22: No, depends on what the plugin is going to do thou...\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/528#issuecomment-4302413\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. I will test this tomorrow.\n. Good work @cweider.  A few Q's and pointers.\n- Did we profile page load speed before/after to see if it actually made a difference?\n- Buttons have lost their \"spacers\" IE the space between groups\n- Some of the icons inside of the buttons have shifted down a few PX\n- All buttons seem to function properly.\n- Clear all authorship colors doesn't work in IE7/8/9 in IETester as perhaps the popup is suppressed or something, selecting a piece of text and clearing works.  I'm going to assume this is an IEtester bug\n- There is a new require bug in IE on the timeslider (Not replace to this pull request)\n. The soonest I can test and pull this is Thursday.  Two reasons\na) I'm really busy at the mo\nb) We're not pulling any new code until the plugin framework is finally merged\n. testing this today\n. The padding beneath the buttons is slightly too small in firefox\n. Can you please give this a quick polish then open a pull request so it goes into the develop branch?  Should be good to pretty much merge once it's been polished slightly.  IE seems fine\n. I will try to test this tomorrow.\n. Breaks IE \nSCRIPT5007: Unable to get value of the property 'ace_outerWin': object is null or undefined \nffwJeGKlEk, line 1 character 4123\n. Will play w/ this now while I have 5mins..\n. This should really be a plugin (Sorry I know that's a pain)\nThe lines go out of vertical sync as you change font size -> see: http://twitpic.com/8r39gu\nIt might make more sense to provide a (h1), (h2) button and leave it at that? OR A+ a- style buttons for \"make font bigger/smaller\"?\nThe box around the current drop down has some weird styling attributes (changing to (c) would fix this)\nSelecting a whole line applies the attribute to the next line, replicate by clicking 3 times on a line of text then changing the title type.\nThis pull request shouldn't really be called \"title support\", it should be called \"heading support\"..  Title support is something completely different.\nLots for you to get on with there but great work so far, I'm sure with my feedback you will get this finished and frequently adopted.  It's worth saying early on that I'm notoriously difficult to please when it comes to adding new functionality to the front end so apologies if you got a lot of unexpected bug reports.\n. Some feedback/bugs:\n- Line spacing is too tight between H2 and P: http://twitpic.com/8rfvd8\n- You can't highlight a single word and change that to H2 without it affecting the whole line\n- Dragging text that is h2 into a p creates a new line break then when dragged back out leaves the line breaks.\n- Indenting H1 or H2 loses all styling (goes back to P)\nSorry about reporting these bugs, I'm pretty good at knowing what to test for..  Apologies if my feedback was less fruitful than 0ips help.  It looks great now and the functionality is getting there..  \n@0ip we could merge this into core once it's stable but I would strongly be minded that in \"Settings\" we provide a \"Use Rich Text Editing\" checkbox that enables this on a per user(And/or Global) basis.  This checkbox may turn on \"Change font size, font face and headings\"  I want to avoid at all costs cluttering the toolbar.\n. The soonest I can test and pull this is Thursday.  Two reasons\na) I'm really busy at the mo\nb) We're not pulling any new code until the plugin framework is finally merged\n. @Pita was due to update me over the weekend but never did..  Did you manage to get this as \"disabled by default\" with a setting to show it?\n. Yep :)\n-----Original Message-----\nFrom: Jean-Tiare LE BIGOT [mailto:reply@reply.github.com]\nSent: 12 March 2012 11:05\nTo: John McLear\nSubject: Re: [etherpad-lite] Heading support (#532)\nI'll give it a try later this week.\nIs it OK if the button is not shown but the titles are still rendered properly if set from another client ?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/532#issuecomment-4449601\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. I spoke to @scrummitch today and we're going to hack on this on Monday.\n@jtlebi @redhog can you be about on skype/jabber etc.?\n. Still planning to introduce this as a plugin.  Leaving this pull request open so we can refer to the changes whilst writing :)\n. The plugin framework is now available in the develop branch, however there are no docs and it might be a bit fragile :P\n. The windows package is currently broken, it should be fixed today or tomorrow.\n-----Original Message-----\nFrom: lavinigam [mailto:reply@reply.github.com]\nSent: 03 March 2012 12:21\nTo: John McLear\nSubject: [etherpad-lite] Etherpad lite Loading Problem (#533)\nI did all the steps to install etherpad lite on my windows 7 64 bit machine. when i open it on localhost, it does open with the main screen for creating a pad. But after that it just keeps loading and loading. what is the issue ? i have downloaded the latest version of etherpad lite (3rd march 2012)\nhttp://www.freeimagehosting.net/484nj\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/533\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Testable here: http://notes.jtlebi.fr:8080/p/test ?\n-----Original Message-----\nFrom: Jean-Tiare LE BIGOT [mailto:reply@reply.github.com]\nSent: 03 March 2012 14:25\nTo: John McLear\nSubject: [etherpad-lite] Disconnect workflow improvement (#534)\nhave seen feature request #453 asking for a less intrusive disconnect condition. Here is a tentative to enhance this workflow.\n- moved all modals to the top (no more in the middle)\n- text remains selectable -> this proves to be useful to copy/paste the part that have no yet been synced and avoid painful retyping\n- timeout of \"visible\" reconnection raised to 40 sec\n- still retries in the background and restore edit functionality in case of success. (Very useful with the bad network of my school)\n- toolbar is greyed out (with an overlay) when edition is not available. It was possible to apply formating even in disconnect mode before !\nI'm not fully satisfied by the visual appearance of my implementation so feedback is needed (btw, i know you guys are pretty good at it :) )\nYou can merge this Pull Request by running:\ngit pull https://github.com/jtlebi/etherpad-lite disconnect\nOr you can view, comment on it, or merge it online at:\nhttps://github.com/Pita/etherpad-lite/pull/534\n-- Commit Summary --\n- initial modal rework to make it less intrusive on disconnect\n- disable toolbar when disconnected\n- bigger timeout in re-connection. Still retries in the background when saying impossible\n-- File Changes --\nM static/css/pad.css (80)\nM static/js/pad.js (9)\nM static/js/pad_docbar.js (5)\nM static/js/pad_editbar.js (4)\nM static/js/pad_editor.js (8)\nM static/js/pad_modals.js (10)\nM static/pad.html (98)\n-- Patch Links --\nhttps://github.com/Pita/etherpad-lite/pull/534.patch\n  https://github.com/Pita/etherpad-lite/pull/534.diff\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/534\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. What method are you using to trigger a disconnect?\n-----Original Message-----\nFrom: Jean-Tiare LE BIGOT [mailto:reply@reply.github.com]\nSent: 03 March 2012 14:36\nTo: John McLear\nSubject: Re: [etherpad-lite] Disconnect workflow improvement (#534)\nIt now is testable on my server but not for long as I'd like to move to something else :)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/534#issuecomment-4301085\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. You can still edit the pad when you are disconnected, this could be really confusing for users.\n-----Original Message-----\nFrom: Jean-Tiare LE BIGOT [mailto:reply@reply.github.com]\nSent: 03 March 2012 14:41\nTo: John McLear\nSubject: Re: [etherpad-lite] Disconnect workflow improvement (#534)\n2 possible methods :\n- server shutdown (the one I did the most)\n- connection shutdown (the one that my school does the most :p )\nTell me on the pad if you'd like me to simulate a server failure\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/534#issuecomment-4301120\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. I'm just about to head out for the night so I can test further tomorrow.  If you want to add me on gtalk / skype etc. feel free.  Contact details on mclear.co.uk\n-----Original Message-----\nFrom: Jean-Tiare LE BIGOT [mailto:reply@reply.github.com]\nSent: 03 March 2012 19:37\nTo: John McLear\nSubject: Re: [etherpad-lite] Disconnect workflow improvement (#534)\nHi again !\n@johnyma22 is the code ok this way ? While working on this branch I incidentally started implementing the basics if offline mode. This is very preliminary but it is enough to keep editing working while trying to reconnect. The current implementation of this pull request simply disables everything which may be quite annoying with bad quality internet connections.\nNonetheless, I do not like to mix different features in a single pull request. So that i'd rather open a new one once this one is merged.\nOpinions ?\nIf you want to give it a try tommorow, let me know. It's not yet commited to my branch.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/534#issuecomment-4303911\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. The soonest I can test and pull this is Thursday.  Two reasons\na) I'm really busy at the mo\nb) We're not pulling any new code until the plugin framework is finally merged\n. Really sorry about the delay in testing @jtlebi -- can you please open a pull request into the develop branch so I can merge to there?\n. This allows for too much text to be written after a user is disconnected, ergo the user then loses this text.\nI really don't see that as being a good thing?  Am I missing something?\n. +1 /s/sublime/etherpad.  Hipsters today are the Agile developers of tomorrow ;) \n. It's just a webkit warning, I'm not sure where it's being called.  The warning used to come from old versions of jQuery and it should be fixed now but it appears we must use layerY/X somewhere, I didn't think we did..\nhttp://stackoverflow.com/questions/7825448/webkit-issues-with-event-layerx-and-event-layery\nDon't worry about it :)\n-----Original Message-----\nFrom: TJ Rana [mailto:reply@reply.github.com]\nSent: 04 March 2012 02:47\nTo: John McLear\nSubject: [etherpad-lite] Something bad? (#537)\nWhat's this?\nevent.layerX and event.layerY are broken and deprecated in WebKit. They will be removed from the engine in the near future.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/537\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. https://github.com/Pita/etherpad-lite/wiki/HTTP-API\ngetReadOnlyID(padID) returns the read only link of a pad \nExample returns:\n{code: 0, message:\"ok\", data: {readOnlyID: \"r.s8oes9dhwrvt0zif\"}}\n{code: 1, message:\"padID does not exist\", data: null}\n. Docs are here: http://etherpad.org/doc/v1.4.1/#index_http_api\n. The soonest I can test and pull this is Thursday.  Two reasons\na) I'm really busy at the mo\nb) We're not pulling any new code until the plugin framework is finally merged\n. Sorry, I'm a bit behind in testing pull requests.  Should get around to doing them all tomorrow.\n-----Original Message-----\nFrom: Chad Weider [mailto:reply@reply.github.com]\nSent: 04 March 2012 23:09\nTo: John McLear\nSubject: [etherpad-lite] Fix minify (#541)\nFixes #513 and #515 (for real this time).\nYou can merge this Pull Request by running:\ngit pull https://github.com/cweider/etherpad-lite fix-minify\nOr you can view, comment on it, or merge it online at:\nhttps://github.com/Pita/etherpad-lite/pull/541\n-- Commit Summary --\n- Avoid orphaned cache files from breaking the caching layer.\n- Handle Windows paths correctly (again).\n-- File Changes --\nM node/utils/Minify.js (4)\nM node/utils/caching_middleware.js (2)\n-- Patch Links --\nhttps://github.com/Pita/etherpad-lite/pull/541.patch\n  https://github.com/Pita/etherpad-lite/pull/541.diff\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/541\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. The soonest I can test and pull this is Thursday.  Two reasons\na) I'm really busy at the mo\nb) We're not pulling any new code until the plugin framework is finally merged\n. https://github.com/Pita/etherpad-lite/commit/0e41e9fdfcae40e8c9525094275fb04754c6b5cb\n. Afaik .parent.parent fixes this, I'm sure I already fixed this though..  Are you running latest?\n-----Original Message-----\nFrom: Gustavo Scanferla [mailto:reply@reply.github.com]\nSent: 12 March 2012 14:20\nTo: John McLear\nSubject: [etherpad-lite] iframe issue: Permission denied to access property 'padeditbar' (#550)\nHi,\nWhen I click anywhere on a pad inside an iframe (and only when it's inside an iframe), Firebug gives me the following error:\nPermission denied to access property 'padeditbar'\nSo, my click doesn't close any dropDowns like \"Pad settings\" or \"Import / export\", etc... I have to click the button again to close it.\nPlus, clicking on a link doesn't work at all. I think this error doesn't let it work.\nI guess the click handler tries to call it's parent / top which should be the pad itself but somehow it goes up to the page where the iframe lives.\nwindow.top.padeditbar.toogleDropDown(\"none\");\nThanks in advance!\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/550\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Auth is being reviewed at the moment and we're waiting on a draft spec from @pita so I'd say hold out on that before trying to integrate too prematurely and having to to redo your work.\nIn a short answer of could it committed to the master branch.  No.  Sorry!\nIt's worth noting we don't accept commits direct to master.  You must issue pull requests against develop.  We use a git flow model (or try to) when releasing.  Please see our developer guidelines.\nSecondly auth is being rewritten so no pull requests for anything related to auth will be considered.\nIf you want to be part of the auth rewrite I'd be very happy to help you with that by introducing you the the other developers.  I'd recommend having a chat with @pita @rhelmer and @marcelklehr and/or jump into the IRC channel where they are all hanging out.\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. LDAP auth available here https://github.com/tykeal/ep_ldapauth\n. Bounty this: https://www.bountysource.com/issues/1371936-set-username-by-remote_user\n. Bounty too small?\n----- Reply message -----\nFrom: \"Leho Kraav\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] set username by REMOTE_USER (#551)\nDate: Wed, Feb 24, 2016 12:49\nThis never moved forward even with the bounty?\n\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/551#issuecomment-188240767.\n. First run takes forever with all of these plugins..  \nChrome is Fine\nIE9 SEC7113: CSS was ignored due to mime type mismatch  pad.css\nIE9 doesn't load the pad and no errors in console.\nFirefox is fine\nIE8 Line: 4 Error: Object doesn't support property or method 'forEach'\n. [2012-03-23 18:53:59.691] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"ARwCadfUgQBqEwjte4e2\",\"msg\":\"The module at \\\"underscore\\\" does not exist.\",\"url\":\"http://10.0.0.55:9001/static/js/require-kernel.js\",\"linenumber\":1,\"userAgent\":\"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20100101 Firefox/12.0\"}\n. IE gives me:\nLine: 4\nError: Object doesn't support property or method 'forEach'\n. What do I need to do to test this?  Is #571 now live on the jquery_feature branch?\n. Original comment: first chrome doesn't even load or establish http in firefox i've first run in \"The module at \"/pad\" does not exist.\" i fixed that by changing the host in settings to 0.0.0.0 now it works on firefox but doen't load anything in chrome. why can't you guys build this on python or something more serious...\nMy response: We want to support you and we love Python as much as we love NodeJS but we are confident that NodeJS is the best platform for Etherpad :)  \nThanks for your kind support and sorry your firewall was blocking the packets.\n. patch is merged.  Issue is being closed\n. Confirmed, API and example code seems to be reasonably dramatically broken on latest develop.  Will attempt debug\n. Fixed example_big.php, have put a pull request, etherpad lite is working fine by the looks of things.\n\n  if ($action == \"makePublic\") // If teh request is to delete an existing pad\n  {\n    $name = $_GET[\"name\"];\n    try {\n      $instance->setPublicStatus($name,\"true\");\n    } catch (Exception $e) {\n    // the pad doesn't exist?\n    echo \"\\n\\nMake Public Failed with message \". $e->getMessage();\n    }\n  }\n  if ($action == \"makePrivate\") // If teh request is to delete an existing pad\n  {\n    $name = $_GET[\"name\"];\n    try {\n      $instance->setPublicStatus($name,\"false\");\n    } catch (Exception $e) {\n    // the pad doesn't exist?\n    echo \"\\n\\nMake Private Failed with message \". $e->getMessage();\n    }\n  }\n\nall works fine, note that you must pass a string.\n. Any update on this?\n. heh\n-----Original Message-----\nFrom: ^ )>     \u261c(\uff9f\u30ee\uff9f\u261c [mailto:reply@reply.github.com]\nSent: 19 March 2012 21:39\nTo: John McLear\nSubject: [etherpad-lite] optional QR code / third party service (#564)\nI replaced the QR code generator link for readonly pages with this image http://memegenerator.net/instance/16615378\nThe QR code generator is a Google service. I think using a third party service for something should be disabled by default, but easily enabled via the config file or even configurable by making the URL a config variable. Third party services shouldnt get a hint where to find high quality information about people via readonly etherpad pages. And etherpad owner should be forced to think about this problem before they use or not use third party services.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/564\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. @0ip - you made it, you should do the honor of pluginifying it :)\n-----Original Message-----\nFrom: Marcel Klehr [mailto:reply@reply.github.com]\nSent: 30 April 2012 10:56\nTo: John McLear\nSubject: Re: [etherpad-lite] optional QR code / third party service (#564)\nSo someone chuck out the QR-code generator code!\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/564#issuecomment-5414539\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Bounty for this functionality: https://www.bountysource.com/issues/1371935-make-a-piece-of-text-a-link\n. We now accept absolute path for settings file so this should be solved :)  Re-open if not.\n. @sfyn can you please request a merge into the develop branch?  Thanks\n. Please request pull into the develop branch.  Thanks\n. Is there anyway of keeping the vagrant stuff outside of the main folder architecture maybe in a thirdparties/ type folder?  If we started supporting every tool like this our root folder would be full of confusion and that is a bad thing.\n. @Pita Where do you want this to live?\n. Unable to replicate on latest develop, no update for a month.  Closing\n. Doesn't look related\n. Really weird...  Before the pad loads up I get..\n\"An error occured in red text..  \"\nAny idea why it might do that on this branch?  I only see it in chrome, to replicate hit f5 a bunch of times or control R..  \nAlso can not be automatically merged, prolly due to last merge :) ta\n. Are you running latest?\ngit pull\n. What database are you using?  I assume MySQL?  ..  Edit, I thought I was on a different thread..\nIf I was you I'd drop the etherpad database in mysql and let it re-create it.\nCaution:  This is a hammer approach and will delete your previous data..\n. Something is severely broken with your deployment.\nAny chance I can SSH in and take a look?\nAlso try..\ngit checkout develop\nbin/run.sh (or restart via init script)\n. Is the version on your server up to date?\ngit pull\n. What git clone command did you use? git clone git@github.com:Pita/etherpad-lite.git ?\nI just tested the above and ran it and it worked fine.  \nWhat database are you using?  Dirty or MySQL?\n. Are you running the latest Etherpad Lite?  Try switch to the devel branch and see if you get the same problem\ngit checkout devel\n. Try run with minified false in settings.json\nI can't replicate this bug in any version of FF ;\\\n. Is this a public server?\n. One might ask for clearChatHistory\n. @mluto what did you think about clearing chat history?\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Agreed I have been meaning to implement this for quite some time.. ;/\n\nFrom: Andr\u00e9 Avorio [reply@reply.github.com]\nSent: 31 March 2012 20:34\nTo: John McLear\nSubject: [etherpad-lite] Stop Automatic Scroll in Chat (#581)\nCurrently, the chat within a pad has an automatic scroll, i.e. messages continuously appear at the bottom of the screen and the user doesn't need to scroll to see new messages. This can be problematic when a user scrolls up to see past messages and a new message arrives, throwing the user back to the bottom of the screen. Once the user has scrolled up, the chat shouldn't send the user automatically to the bottom of the list, as this prevents him/her from reading past messages when new messages arrive.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/581\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. apologies for the delay.\nhttps://github.com/Pita/etherpad-lite/commit/6726ea66320e3075451027d5362d35d77bebaf5d\nit's on develop. \n. I tried that approach and it got really messy(lots of new dom objects and JS) so I decided to use the options instead.  I do agree though, a more natural UX solution is possible and should be contributed.  Right now I just don't have the time to write it.\n. Saved revisions is getting merged into devel branch tomorrow.  *all going to plan..\n\nFrom: Andr\u00e9 Avorio [reply@reply.github.com]\nSent: 31 March 2012 20:36\nTo: John McLear\nSubject: [etherpad-lite] Status Notification (#582)\nCould we have any sort of status notification on the screen, e.g. when content alterations are saved? Users of my Etherpad Lite implementation have complained about the lack of feedback from the system, namely when content is saved. They have reported that they don't feel comfortable closing a tab until they're sure that the content has been properly saved. I believe that a notification icon would nicely solve that problem.\nThoughts?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/582\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. it's probably called somethiing like \"saved revisions\"\n\nFrom: Andr\u00e9 Avorio [reply@reply.github.com]\nSent: 01 April 2012 01:04\nTo: John McLear\nSubject: Re: [etherpad-lite] Status Notification (#582)\nThat's great! Will that include a notification icon of some sort? Which issue is that related to, btw?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/582#issuecomment-4862864\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. on every pad or just specific pads?\n\nFrom: Andr\u00e9 Avorio [reply@reply.github.com]\nSent: 31 March 2012 21:51\nTo: John McLear\nSubject: [etherpad-lite] Persistent Loading (#584)\nI just deployed the latest version of Etherpad Lite onto a new fresh server running Ubuntu, imported my old MySQL database with content, and have now run the system. However, when pointing to a pad's URL, the system loads its content, the interface, etc, but never stops loading objects. On my browser's status bar, it says \"Loading http://.... , completed 16 of 17 items.\"\nIs anybody else facing the same issue with the most current code?\nThanks!\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/584\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. what version of ueber db is set in your Packages.json?\nIt might be that your old pads haven't been altered to the new schema\n\nFrom: Andr\u00e9 Avorio [reply@reply.github.com]\nSent: 01 April 2012 01:04\nTo: John McLear\nSubject: Re: [etherpad-lite] Persistent Loading (#584)\nIt seems to work fine with new pads; the problem persists on old pads (before the migration).\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/584#issuecomment-4862860\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. this might help\nhttps://github.com/Pita/etherpad-lite/wiki/How-to-use-Etherpad-Lite-with-MySQL\nsee the alter commands\n\nFrom: Andr\u00e9 Avorio [reply@reply.github.com]\nSent: 02 April 2012 06:32\nTo: John McLear\nSubject: Re: [etherpad-lite] Persistent Loading (#584)\nHi @johnyma22 \u2014 Thanks for your response!\nThe version of uederDB set in my packages.json is 0.1.7.\nWhen should've my pads been altered to the new schema?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/584#issuecomment-4872611\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. @avorio are you still having this problem?\n. Ugh.\n. Yep.  Most of the settings via params stuff got broken lately..  It all needs a rewrite.  We \"REALLY\" need our testers to get some tests written..  Haven't heard anything from them in months and I don't have the time to take that task on.\n. Where did you get stickToScreen=true from?  https://github.com/Pita/etherpad-lite/wiki/Embed-Parameters doesn't document that..  Everything else seems to test okay...\n. Updated documentation, seems that it was fine anyway just bad docs and incorrect implementation.  We now have tests to monitor this functionality.\n. Thanks @sfyn \n. Try to convert to UTf8\nSee the git history for the command..   This is just a vague response due to a backlog of emails today, if you ping me tomorrow I may be able to help more thoroughly.\n\nFrom: HighTide [reply@reply.github.com]\nSent: 03 April 2012 07:08\nTo: John McLear\nSubject: [etherpad-lite] The module at /pad does not exist (#588)\nHaving an odd issue that I've been chasing for the past two days and I can't seem to find a solution anywhere. Running latest from the GIT, Node v0.6.14, NPM 1.1.12, no reverse proxy or anything just a MySQL db which seems to be part of the problem.\nWithout MySQL it seems to work fine, but I have yet to be able to get MySQL and the pad to work together. Read through: https://github.com/Pita/etherpad-lite/wiki/How-to-use-Etherpad-Lite-with-MySQL, the \"store\" table is being created and contains columns so I know its actually communicating with MySQL. No queries showing as hung, but the pad (any pad) just sits at \"Loading...\" and never goes anywhere.\nFirefox's error console indicates:\nTimestamp: 4/2/2012 11:55:34 PM\nError: The module at \"/pad\" does not exist.\nSource File: http://blah:9001/static/js/require-kernel.js\nLine: 570\nThis is the only error I ever get.\nTo me this seems like a path issue, which I don't understand as all files are installed in \"/home/etherpad/etherpad-lite\"; plus like I said without attempting to use MySQL it works fine.\nI can paste my config if someone thinks it will help, I'm really at a loss to see what the issue is.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/588\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. This needs testing\n. Fine in 1.2 tho I didn't test reverse proxy.\n. Cannot be automatically merged.. Probably due to the underscore pull request?\n. @cweider is this something you are aware of?  Just making the assumption because of the require stuff..\n. Have you set the correct path to abiword in settings.json?\nDo you get any errors on the server when you try to import?\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Please stash your custom changes and do a \n\ngit pull origin master\n\n. Yes, turn minify off in settings.json\nThis is covered in the developer wiki better :)\n. Have you seen Primarypad?  http://primarypad.com\nDisclaimer, I run both typewithme and primarypad.\n\nFrom: fwdesouza [reply@reply.github.com]\nSent: 05 April 2012 00:34\nTo: John McLear\nSubject: [etherpad-lite] How to reveal collaborators' names (#600)\nI am a teacher using Etherpad Lite (Typewith.me) for educational collaborative writing projects. I understand that the color-edits allow me to distinguish among different authors/contributors. However, if the contributor took the time to input a name and select a color (in the upper-right corner), is there a way to easily reveal collaborators' names? I'm just hoping that the identification procedure can be easier that I'm imagining it would be. Thanks!\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/600\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Afaik the 15 user limit isn't actually enforced so give primarypad another shot.  Let me know if you do find problems,..\n\nFrom: fwdesouza [reply@reply.github.com]\nSent: 05 April 2012 01:40\nTo: John McLear\nSubject: Re: [etherpad-lite] How to reveal collaborators' names (#600)\nYes, I did. What turned me off from PrimaryPad was the 15-collaborator limit. I have classes with up to 30 students and I saw no restrictions (at least in writing) with Typewith.me. Also, I think I created a pad with Primarypad and it crashed on me -- although that may be the fact that I'm in China ;) Any solutions/suggestions to my current issue?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/600#issuecomment-4966446\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Pretty sure, through the timeslider, but take a look and let me know if it doesn't..\nIt might be that I'm not fully understanding your request..\n\nFrom: fwdesouza [reply@reply.github.com]\nSent: 05 April 2012 01:44\nTo: John McLear\nSubject: Re: [etherpad-lite] How to reveal collaborators' names (#600)\nSounds great! And Primarypad allows me to reveal the identity of my collaborators?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/600#issuecomment-4966479\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Only way I can think is to export the HTML ;\\\nWe do have a way of exporting an entire pad but it's not a service we offer right now.\n\nFrom: fwdesouza [reply@reply.github.com]\nSent: 05 April 2012 01:56\nTo: John McLear\nSubject: Re: [etherpad-lite] How to reveal collaborators' names (#600)\nJust signed up for Primarypad and you're right. I should have gone with it! Let me ask you, is it possible to transfer a pad from typewith.me to primarypad. The issue is that my students have already completed their first draft and I need to assess them on that. Right now, it seems like this would be so much easier done on Primarypad with its abundance of features and functionality. If it is possible to import a pad from somewhere else, can you let me know how to do it?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/600#issuecomment-4966602\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. We're waiting on atlas-networks.us to get the box back up.  Nothing I can do.\n-----Original Message-----\nFrom: fwdesouza [mailto:reply@reply.github.com]\nSent: 09 April 2012 09:10\nTo: John McLear\nSubject: Re: [etherpad-lite] How to reveal collaborators' names (#600)\nHey John,\nIt seems like my four Typewith.me pads have crashed indefinitely. I haven't been able to access them for a few days now. Can you take a look at them? I just need to export them in either the Word or HTML formats. There are:\n.../p/elc4-yes-1\n.../p/elc4-yes-2\n.../p/elc4-no-1\n.../p/elc4-no-2\nI hope you can help me out with this.\nThanks,\nFilipe\nOn Thu, Apr 5, 2012 at 6:02 PM, John McLear < reply@reply.github.com\n\nwrote:\nOnly way I can think is to export the HTML ;\\\nWe do have a way of exporting an entire pad but it's not a service we\noffer right now.\n\nFrom: fwdesouza [reply@reply.github.com]\nSent: 05 April 2012 01:56\nTo: John McLear\nSubject: Re: [etherpad-lite] How to reveal collaborators' names (#600)\nJust signed up for Primarypad and you're right. I should have gone\nwith it! Let me ask you, is it possible to transfer a pad from\ntypewith.me to primarypad. The issue is that my students have already\ncompleted their first draft and I need to assess them on that. Right\nnow, it seems like this would be so much easier done on Primarypad\nwith its abundance of features and functionality. If it is possible to\nimport a pad from somewhere else, can you let me know how to do it?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/600#issuecomment-4966602\nThis email and its attachments may be confidential and are intended\nsolely for the use of the individual to whom it is addressed. Any\nviews or opinions expressed are solely those of the author and do not\nnecessarily represent those of the organisation from which this email\noriginated. If you are not the intended recipient of this email and\nits attachments, you must take no action based upon them, nor must you\ncopy or show them to anyone. Please contact the sender if you believe\nyou have received this email in error. This email was sent by School\nEmail - Safe Webmail and Hosted Email for Schools\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/600#issuecomment-4973701\n\n\n\nFilipe W. de Souza\nEnglish Language Instructor\nEnglish Language Center | Shantou University http://elc.stu.edu.cn\n*Please consider the environment before printing this e-mail.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/600#issuecomment-5022137\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Cannot be automatically merged :(\n. awesome thanks :)  Will try to get it pulled asap\n\nFrom: Egil M\u00f6ller [reply@reply.github.com]\nSent: 05 April 2012 18:14\nTo: John McLear\nSubject: Re: [etherpad-lite] Bugfix for document.domain, and added initialization hook (#601)\nBut I can do a pull / do bthe conflict resolution for you :)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/601#issuecomment-4981134\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. https://github.com/Pita/etherpad-lite/wiki/Community-Guidelines-for-newcomers - Please try to keep comments positive.\n. Someone, possibly me, designed that \"simply stupid\" feature.  Just try to be more tactful in the future please.\n. Thanks man :)  Will take a look at this later today\n. I don't see any setCookie stuff in this pull request?  Is it missing commits?\n. @melicin Please re-issue this pull request \n. This pull request cannot be automatically merged.  Did you forget to pull latest develop first?\n. ta\n-----Original Message-----\nFrom: melicin [mailto:reply@reply.github.com]\nSent: 20 May 2012 22:52\nTo: John McLear\nSubject: Re: [etherpad-lite] Issue 481: API method for get All Pad Authors (#604)\nAha, I now see what you mean. Back when I first made the change, I was working on a fork from master. I know a lot has happened in the develop branch since then. I'll later test this on develop branch and then submit a pull request.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/604#issuecomment-5812643\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Yep whoops ;)  Also note you should issue pull requests to develop\n. This will need a re-write as QR code etc. is no longer available.  Please go-ahead and re-issue once rewritten.  Ta :)\n. This is available as a plugin\n. git checkout develop\nthen you will get instructions when you try to restart the server.\nsome instructions (you should not follow these) are available here w/ more details\nhttp://mclear.co.uk/2012/04/05/how-to-enable-or-disable-plugins-in-etherpad-lite/\n. @0ip  if you get a second do you want to look at the styling of the heading support plugin currently live on beta.etherpad.org? \n. I think this is because the database is on an external host...\n. @0ip just been busy w/ other stuff!  My apologies.\n. Please issue your pull request to the develop branch.\n. @redhog made the framework, he is probably the right person to look at it.\n. Yea that is nice, not sure I have time to work on it but it would be cool to see that implemented :)\n-----Original Message-----\nFrom: Marcel Klehr [mailto:reply@reply.github.com]\nSent: 23 April 2012 19:18\nTo: John McLear\nSubject: Re: [etherpad-lite] Make the numbers in the title more obvious (#635)\nYou could use the favicon for that. There was a project, that did exactly that... think it was in trending topics a little while ago..\nAh, yes it's called tinycon: https://github.com/tommoor/tinycon\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/635#issuecomment-5287755\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Try do a git pull\nThen restart your etherpad server.\n-----Original Message-----\nFrom: Finn [mailto:reply@reply.github.com]\nSent: 15 April 2012 20:28\nTo: John McLear\nSubject: [etherpad-lite] Users seeing \"ErrorId: lh2hS19bXnpycHhe2Pq4\", no idea what that means (#638)\nOne of my users got this error today, I have no idea what would cause it or what that code even means:\n\nHow would I go about fixing this? Is there like a database of these error codes somewhere?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/638\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Dump and restore to database should be fine.\nAre you dumping/restoring to the same version / git commit?\n-----Original Message-----\nFrom: Leonard [mailto:reply@reply.github.com]\nSent: 15 April 2012 22:57\nTo: John McLear\nSubject: [etherpad-lite] Backup and restore (#639)\nHey,\nI need a way to backup all data and restore them later on another server.\nSimply mysqldumping and restoring didn't work for me (if I then tried to open one of the old pads it simply showed nothing (and you weren't able to write either).\nIs there anything I missed (or is mysql -uUSERNAME -pPassword store < store.sql not enough to restore?).\nCreating new pads etc. works fine..\nthanks :)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/639\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. @redhog any update on this?  :|\n. <analphabet>blocking eejs is still a major bug, tho!\n<JohnMcLear>Yep, we need to focus on core for a while, get developers deeply involved w/ the editor, not just some fancy UI thing around the editor\n<JohnMcLear>Well it isn't a \"major\" issue for users though\n<JohnMcLear>you can still accomplish a lot\n<analphabet>everytime i think about it makes me shiver and i still can't believe it.\n<analphabet>man, it's *blocking*!\n<analphabet>readFileSync!\n<JohnMcLear>hah\n<analphabet>that should scare away every sensible node developer\n<JohnMcLear>But how much does it affect performance/users?\n<analphabet>greatly!\n<analphabet>readFileSync called on every request!\n<analphabet>boom -- performance brake\n<JohnMcLear>isn't that only if you have maxAge == 0\n<analphabet>it's still a performance shock\n<analphabet>because node can't do ANYTHING while that file is read\n<analphabet>no ruddy thing\n<analphabet>no socket.io communication\n<analphabet>no nothing\n<JohnMcLear>hr\n* analphabet hopes to have made his point clear...\n<JohnMcLear>nope\n<JohnMcLear>if caching is enabled why is it doing the readFileSync ?\n<analphabet>it doesn't\n<JohnMcLear>Then I'm still confused..\n<JohnMcLear>It's not a performance shock if maxAge is != 0 right?\n<analphabet>ah that'd be worth investigating\n<JohnMcLear>Hah./\n* JohnMcLear chuckles\n<JohnMcLear>if you only make that call when you are in development mode that's fine..\n<JohnMcLear>that's what we need to find out, if it's in production by default\n<analphabet>shouldn't be too hard: add a console.warn('BlOCKING'); statement right before the blocking call :)\n<JohnMcLear>try it and see ;)\n...\n<analphabet>JohnMcLear: heh\n<analphabet>JohnMcLear: i set maxAge to 21600000\n<analphabet>...\n<analphabet>[2012-11-22 19:31:26.901] [WARN] console - BLOCKING! (src/node/eejs/index.js:123)\n<analphabet>[2012-11-22 19:31:26.995] [INFO] http - 200, GET /\n<analphabet>...\n<analphabet>[2012-11-22 19:31:27.296] [INFO] http - 200, GET /locales.ini\n<analphabet>[2012-11-22 19:31:32.041] [WARN] console - BLOCKING! (src/node/eejs/index.js:123)\n<analphabet>[2012-11-22 19:31:32.051] [INFO] http - 304, GET /\n<analphabet>...\n<analphabet>[2012-11-22 19:31:32.275] [INFO] http - 304, GET /locales.ini\n<analphabet>[2012-11-22 19:31:38.257] [WARN] console - BLOCKING! (src/node/eejs/index.js:123)\n<analphabet>[2012-11-22 19:31:38.285] [INFO] http - 200, GET /p/test\n<analphabet>...\n<analphabet>[2012-11-22 19:31:38.488] [INFO] http - 404, GET /static/custom/pad.css\n<analphabet>[2012-11-22 19:31:38.498] [WARN] console - BLOCKING! (src/node/eejs/index.js:123)\n<JohnMcLear>ugh.\n<analphabet>do'you mind trying the same on beta.etherpad.org?\n<analphabet>(i dunno whether you've got caching enabled there, tho)\n<JohnMcLear>will do now>\n<JohnMcLear>yep I get lots of BLOCKING messages if I put console.warn(\"BLOCKING\") at 123 on index.js\n. [19:24:34] Egil Moeller: Problem is, no one has suggested a better (E)EJS implementation that does not block.\n[19:24:47] Egil Moeller: It is doable. It just means we'd have to write out own EJS compiler...\n[19:52:53] John McLear: The bit that confuses me is why the cache doesn't trump the EEJS implementation?\n[19:53:02] John McLear: Surely that's our quick win?\n[19:53:55] Egil Moeller: Yeah... That's strange\n[19:54:06] Egil Moeller: But: Can't we just hack caching of EJS _sources_?\n[19:54:22] Egil Moeller: That should be easy, and mean that you get the async loads once at startup...\n[19:55:45] John McLear: yea..\n[19:56:01] John McLear: So I'm not going insane then, that's good!\n[19:56:09] John McLear: Is that something you could put together relatively quickly?\n[19:56:44] Egil Moeller: I guess it shouldn't be too hard no...\n[19:56:59] Egil Moeller: As in probably a day's work, at max\n. We're still yet to hit this issue as being a performance bottle neck despite lots of load testing.  With that in mind we're not too concerned about the current eejs implementation..  If anyone wants to share an opinion please go for it :)\n. See ep_cursortrace and other ep_show_author plugins for how to do this.\n. This pull request cannot be automatically merged.\n. Minor but worth reissuing your pull request @0ip ?\n-----Original Message-----\nFrom: 0ip [mailto:reply@reply.github.com]\nSent: 17 April 2012 21:51\nTo: John McLear\nSubject: Re: [etherpad-lite] Bugfixes (#645)\nThis overwrote the admin design stuff with John's discarded proposal. >.>\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/645#issuecomment-5185601\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Look in settings.json, the path to dirty db is wrong\nChange it to var/dirty.db\nTry again..\nAfaik there is an issue open for this, we discussed it today..\n-----Original Message-----\nFrom: Zeuslife [mailto:reply@reply.github.com]\nSent: 18 April 2012 00:55\nTo: John McLear\nSubject: [etherpad-lite] Run.sh error (#646)\nHI, after install etherpad, when i've executed bin/run.sh , it script failed and display on screen the next message:\n\"events.js:48\n        throw arguments[1]; // Unhandled 'error' event\n                       ^\nError: EACCES, open '../var/dirty.db'\"\nHelp, i can't run etherpad!!\nThanks!\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/646\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Thanks @rassie \n. Issue is closed but no resolution is posted?\nWhat was the fix?  Clear browser cache?\n. Master is not broken.  Please clear your browser cache also do:\n\ngit stash\ngit pull\nbin/installDeps.sh\nbin/run.sh\n\n. A fresh install had a problem for you?  Very strange..\nI guess the only thing I can point my finger at is a bad browser cache?\n. Fixed.  Got latest develop.\n. Broken deployment somehow, bad objects in cache etc.\nFixed by doing a clean install.\nDidn't want to spend hours doing a full diagnostic when it was important the deployment was up and working.\n-----Original Message-----\nFrom: Martyn York [mailto:reply@reply.github.com]\nSent: 23 April 2012 18:40\nTo: John McLear\nSubject: Re: [etherpad-lite] Etherpad Lite Hangs (#652)\n@johnyma22 What was the problem?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/652#issuecomment-5286870\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Fine for me...\n-----Original Message-----\nFrom: Ryan Schultz [mailto:reply@reply.github.com]\nSent: 26 April 2012 16:31\nTo: John McLear\nSubject: Re: [etherpad-lite] Etherpad Lite Hangs (#652)\nExperiencing the same.  Tried opening: http://beta.etherpad.org/p/fGnUlX6MEY\nin both Chrome and Firefox, with cleared cache.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/652#issuecomment-5359180\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Sorry but I'm not sure.. No reason the API would be messing up..  The pads loads fine for me in C/FF.  Are they still causing a problem for you?\n. Alright cool :)\n-----Original Message-----\nFrom: mnorton [mailto:reply@reply.github.com]\nSent: 29 April 2012 17:28\nTo: John McLear\nSubject: Re: [etherpad-lite] Etherpad Lite Hangs (#652)\nI haven't tried.  I just got back from an extended business trip.  I'll be looking at this in more depth tomorrow.  I'll be running some experiments to see if I can determine what in my app is causing EP-Lite to get screwed up.  Likely it will take some time, since the approach is trial and error, but it would give you (all) more data to see what is causing the problem.\n- Mark\nOn 4/29/2012 12:13 PM, John McLear wrote:\n\nSorry but I'm not sure.. No reason the API would be messing up..  The pads loads fine for me in C/FF.  Are they still causing a problem for you?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/652#issuecomment-5406178\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/652#issuecomment-5406313\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Please test this w/ latest develop.  It should be done w/ Egils pull\n. The location was moved so long ago now that it would almost be counter productive to notify people however for history it was moved from ../dirty.db to ../var/dirty.db\n. Hey hejuszhao, which branch did you checkout?\nI'm 99% sure the api stuff is working as we have it rolled out on a number of sites.\nDid you set the host of your Etherpad lite server in example.php?  If so, does it respond on that hostname:port?\nThanks\nJ\n-----Original Message-----\nFrom: hejuszhao [mailto:reply@reply.github.com]\nSent: 20 April 2012 09:04\nTo: John McLear\nSubject: [etherpad-lite] a lot of \"Failed with message Empty or No Response from the server\" when using PHP client (#657)\nHey you guys! Began to checkout your work recently, nice job!\nI tried to use the PHP clients script written by TomNomNom, I don't know it is because of my configuration or something else, I got a lot of \"Failed with message Empty or No Response from the server\" and a lot of  \"no or wrong API Key\".\nhere is my step, I install the etherpad-lite properly, set mysql connection for it and configured system init; then I copied apikey from the fie APIKEY.txt in the root folder, and paste it into example.php (set it on \"new EtherpadLiteClient()\" ), then I browsed to examples.php, and got a bunch of messages \"Failed with message Empty or No Response from the server\" and a lot of  \"no or wrong API Key\".\nI don't know if it is the client's issue or the performance issue of etherpad lite, I am reporting this to you guys any way.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/657\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Further testing and I also get errors.\n. Having a lot of issues with the caret\nTo reproduce open a new pad\nType in some javascript\nChange it to javascript, then change it to java then abck to javascript, you wont be able to see the caret..\n-----Original Message-----\nFrom: Martyn York [mailto:reply@reply.github.com]\nSent: 21 April 2012 00:22\nTo: John McLear\nSubject: Re: [etherpad-lite] Unbreak last pull request (I forgot a dependency) (#660)\n@redhog @johnyma22 did this already https://github.com/Pita/etherpad-lite/commit/16edda7d46ffbe277d505e71f54cda1da2f00452\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/660#issuecomment-5255151\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. @pita come on chat :) \n. Confirmed.\n. @edy-b the DirtyStore looks interesting, perhaps instead of having this as a plugin this should be something in production as imho this isn't a new feature but it is a \"bug fix\".  Thoughts?\n. @0ip no reason why not, @edy-b has done most of the work but we don't have a test available for this ;/  Still not sure how we're supposed to test session/auth stuff ;/\n. I kinda feel like this ties into using socket io rooms for sessions\n. To replicate\nCreate pad\nStop server\nLook in server console\nExpected result: Client is automatically reconnected to pad.\nActual result\nhandshake error Bad session / session has expired\nhttps://github.com/ether/etherpad-lite/blob/develop/src/node/hooks/express/webaccess.js#L105 is where the session Store appears to be being created and stored in memory, instead of being a database object.\nhttp://stackoverflow.com/questions/8749907/what-is-a-good-session-store-for-a-single-host-node-js-production-app has decent information on this and\nhttps://github.com/edy-b/SciFlowWriter/blob/develop/available_plugins/ep_sciflowwriter/db/DirtyStore.js provides an alternative\n. A little help with https://github.com/ether/etherpad-lite/commit/5c9d081391183deee1eccccea88d194ae5952341#commitcomment-2611651 would be nice :) \n. Follow this on https://github.com/ether/etherpad-lite/pull/1523\n. Ready for review & testing\n. Thanks :)\n. Aren't cookies stored within the site namespace?  I don't really see how this is a problem..\n. I'm still not clear how to replicate this..  Can anyone share a decent step-by-step guide please?\n. Still an issue in firefox but still a really minor issue not really worth fixing.\n. @0ip can you also please test this?  I'm testing now.  Thanks!  I think if this passes all tests we can merge this first, knowing there will be a lot of conflicts/re-issue of pull requests from others that contain bugs.\n. Error on startup: \n\n[2012-05-13 14:49:16.013] [ERROR] console - Failed to load '/home/matthias/etherpad-lite/node_modules/ep_etherpad-lite/node/hooks/express/adminplugins:expressCreateServer' for 'ep_etherpad-lite/adminplugins/hooks/expressCreateServer': Error: Cannot find module 'resolve'\n[2012-05-13 14:49:16.019] [ERROR] console - Failed to load '/home/matthias/etherpad-lite/node_modules/ep_etherpad-lite/node/hooks/express/adminplugins:socketio' for 'ep_etherpad-lite/adminplugins/hooks/socketio': Error: Cannot find module 'resolve'\n[2012-05-13 14:49:16.499] [ERROR] console - Failed to load '/home/matthias/etherpad-lite/node_modules/ep_etherpad-lite/node/hooks/express/specialpages:expressCreateServer' for 'ep_etherpad-lite/specialpages/hooks/expressCreateServer': Error: Cannot find module 'resolve'\n\npackages.json just prolly needs resolve 0.2.2  adding.\n. Now we have more warning/info/error messages I think it makes sense to remove 'socket.io started' as it's pretty pointless... \n. Timeslider error\n\nNetworkError: 404 Not Found - http://10.0.0.55:9001/p/pluginfw/plugin-definitions.json\"\nplugin...ns.json\nCookie express_sid changed.  BvJnjrkxWbuKAjWUH7h3BRwg.yDlJaZ5UxU+6Rp8iXnfB1E6w23uu6U0d6BM7X/wzIkU   10.0.0.55 \nFailed to load plugin-definitions: Not Found\nanonymous()require-kernel.js (line 3)\nf(b=Object { url=\"../pluginfw/plugin-definitions.json\", isLocal=false, global=true, more...}, f=[Object { readyState=4, responseText=\"Cannot GET /p/pluginfw/plugin-definitions.json\", status=404, more...}, \"error\", \"Not Found\"])timesl....define (line 3)\nf(b=Object { url=\"../pluginfw/plugin-definitions.json\", isLocal=false, global=true, more...}, c=[Object { readyState=4, responseText=\"Cannot GET /p/pluginfw/plugin-definitions.json\", status=404, more...}, \"error\", \"Not Found\"])timesl....define (line 3)\nf(a=404, c=\"Not Found\", l=Object { text=\"Cannot GET /p/pluginfw/plugin-definitions.json\"}, m=\"X-Powered-By: Express\\nS...sfer-Encoding: chunked\\n\")timesl....define (line 3)\nf(a=readystatechange , e=undefined)timesl....define (line 3)\n\n...d?c.async=\"true\":c.defer=\"true\",c.type=\"application/javascript\",c.src=F(a)+\"?cal....\n\n\n. We got this with the swagger API\n. Thanks @fourplusone \n. Turns out I clicked the wrong button..  *sighs\n. I think this bug is plugin specific so should be issued on the plugin developers github\nWikinaut reply@reply.github.com wrote:\nAn error occured\nThe error was reported with the following id: 'HvEBEOUtpWEm7Qs1NM3c'\nPlease send this error message to us:\n'ErrorId: HvEBEOUtpWEm7Qs1NM3c\nUserAgent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; .NET CLR 1.1.4322; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET4.0C)\n'null' ist Null oder kein Objekt in http://www.example.com:9446/static/plugins/ep_syntaxhighlighting/static/js/XRegExp.js at line 280'\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/673\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. @etinquis I'm aware of some IE8 issues, afaik @redhog had resolved them in his latest but @pita rejected his pull request because it wasn't bug specific enough.  I will see if I can get a resolution early this week.\n. @Wikinaut as far as understanding how plugins are implemented/treated, this will be documented soon as it's in a state of flux.\n. see http://github.com/redhog/etherpad-lite\n. I concur\n. https://github.com/Pita/etherpad-lite/pull/661\nafaik\n-----Original Message-----\nFrom: Nikolai Prokoschenko [mailto:reply@reply.github.com]\nSent: 29 April 2012 18:26\nTo: John McLear\nSubject: Re: [etherpad-lite] Developer version: Syntaxhighlighting crashes IE8.0 (#673)\n@johnyma22 any exact commit? I don't quite know where to look in that repo...\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/673#issuecomment-5406767\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Steps to replicate?  Browser? \n. @fourplusone any idea?\n. All sorted :) \n. Steps to replicate?  http://beta.primarypad.com/p/0VtocXHnFG in FF is fine.\nAfaik beta.primarypad.com has a feedback button and an email contact form that goes to that team.  Can we keep primarypad specific issues through their support desk please?  It is run by a third party company who have resources to ensure SLA's etc. are met.  It is not supported directly by the foundation (unlike beta.etherpad.org)\nta\n. Ah okay.  Will try to replicate.\n. Unable to replicate, let's leave this closed :) Thanks @Wikinaut \n. Feel free to fork then issue a pull request for this.\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Closing due to lack of demand.\n. Thanks @0ip..  Well spotted those issues :)\n. this version is running on beta.etherpad.org\n. It would be awesome if websockets are stable now, What browsers did you test in, what versions of those browsers?  Did you test mobile?\n-----Original Message-----\nFrom: Daniel Risacher [mailto:reply@reply.github.com]\nSent: 30 April 2012 18:37\nTo: John McLear\nSubject: [etherpad-lite] re-enable websockets (#686)\nUse of websockets was disabled sometime in 2011 by this code in node/server.js:\njavascript\n    //this is only a workaround to ensure it works with all browers behind a proxy\n    //we should remove this when the new socket.io version is more stable\n    io.set('transports', ['xhr-polling']);\nI've been testing with socket.io version 0.9.2 and the io.set line commented out and seems stable to me.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/686\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Yep...    Welcome to our world in 2010..   Feels like some things never change ;)  Good luck with your diging!\n-----Original Message-----\nFrom: Daniel Risacher [mailto:reply@reply.github.com]\nSent: 30 April 2012 22:01\nTo: John McLear\nSubject: Re: [etherpad-lite] re-enable websockets (#686)\nGrrr.  Nevermind.  I testing Firefox 11 with a proxy that allows websockets and IE7 with a proxy that doesn't.  Both of those cases seemed okay.  Alas, when I tried Firefox with a proxy that does NOT allow websockets, it took 4-5 seconds to fall back to XHR, which I concede is too long.   I will spend a few cycles trying to understand this, but it is likely to be more deeper than I care to dig.\nBut it's really snappy when it works.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/686#issuecomment-5427615\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Have a go, I don't see any reason why not :)\n. Slow initial connection in IE or was it slow initial connection through NATs / reverse proxy?  There should be documentation somewhere :)\n. \ntail -n 1000 /var/log/betalite/etherpad-lite.log | grep WARN\n[2012-05-07 15:31:31.441] [WARN] socket.io - handshake error Bad session / session has expired\ntail -n 1000 /var/log/betalite/etherpad-lite.log | grep ERR\n[2012-05-07 15:31:47.231] [ERROR] console - Error: Not a exports: null\n[2012-05-07 15:33:25.846] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"XyIRdUmPqaRiimA3O5SP\",\"msg\":\"padsavedrevs.handleIsFullyConnected is not a function\",\"url\":\"http://beta.etherpad.org/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define\",\"linenumber\":11128,\"userAgent\":\"Mozilla/5.0 (Windows NT 6.1; rv:10.0.1) Gecko/20100101 Firefox/10.0.1\"}\n\n. Also CC @redhog RE 404s and debugging as he has a database dump of an instance that produced this really nasty bug.\n. Has anyone had this issue in the last week or so?  It seems to be resolved... \n. @kats2 can you please try to delete your folder and re-clone\nor delete src/node_modules\nthen run bin/installDeps.sh\nta\n. @kats2 try pull the latest develop branch\n. @kats2 can you ping me on skype or gtalk?  johny_mac on skype -- johnyma22@gmail.com on gtalk\n. Check the parent folder of Etherpad-lite..  It's a known issue afaik\n-----Original Message-----\nFrom: smokejonnypot [mailto:reply@reply.github.com]\nSent: 03 May 2012 01:05\nTo: John McLear\nSubject: [etherpad-lite] No APIKEY.txt after installing Develop clone (#689)\nWhen I clone the Develop branch and run installDeps.sh, APIKEY.txt is not created like it is when I clone Master. I can't seem to locate APIKEY.txt under Develop branch anywhere.  Everything works when I install the Master branch. Am I doing something wrong?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/689\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Any time, good luck on your journey.\n-----Original Message-----\nFrom: smokejonnypot [mailto:reply@reply.github.com]\nSent: 03 May 2012 01:21\nTo: John McLear\nSubject: Re: [etherpad-lite] No APIKEY.txt after installing Develop clone (#689)\nOh nice, got it working now! Thanks for the fast response. I had noticed the APIKEY.txt file in the parent folder but I really thought I had placed it there at some point in the past and that it was just an old key. Thanks!\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/689#issuecomment-5475937\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Mysql alter your database to use utf8\nIt's documented in the install docs afaik.\n-----Original Message-----\nFrom: enforest [mailto:reply@reply.github.com]\nSent: 03 May 2012 09:22\nTo: John McLear\nSubject: [etherpad-lite] Problems with non-English collaborating (#690)\nCollaboration in English works fine. When I type using an input method(eg. Chinese) alone, it works fine at first. But if someone joins the pad and types with me, the input method would freeze randomly with no response to my key strikes. However, if I close the input method using Ctrl+Space, I can still type in English.\nI am using the latest stable version of Chrome, and my input method is Google Pinyin.\nI tried different input methods like Microsoft Pinyin, and different browsers like IE, but this issue persists.\nbtw, The etherpad sites like typewith.me does not have this issue.\nIs there a way to fix this issue? I am really looking forward to a localized collaboration tool.\nThanks for your great work!\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/690\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Can you provide exact steps to replicate including how you applied the alter statement.\nHopefully someone can confirm the bug.\nDate: Sat, 8 Sep 2012 07:13:57 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nSubject: Re: [etherpad-lite] Problems with non-English collaborating (#690)\nDear johnyma22:\nI followed your response to alter database, table, database connection to utf8\nit's still not slove >_<.\nThanks for your great work!\n```\n          \u2014\n      Reply to this email directly or view it on GitHub.\n\n``\n. Does ALTER DATABASEetherpad-lite` CHARACTER SET utf8 COLLATE utf8_bin;\n work?\nCan you provide me a character I can paste into a pad that will stop it working?\n. This is fully fixed..\n. We should drop the worldle stuff imho.  It should be a plugin.\n-----Original Message-----\nFrom: 0ip [mailto:reply@reply.github.com]\nSent: 05 May 2012 21:25\nTo: John McLear\nSubject: [etherpad-lite] Wordle export doesn't work (#692)\nClicking on \"Wordle\" doesn't do anything.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/692\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Afaik there is already an issue open for this.\n-----Original Message-----\nFrom: Ted [mailto:reply@reply.github.com]\nSent: 08 May 2012 22:28\nTo: John McLear\nSubject: [etherpad-lite] Graphic bug with Enumeration (#694)\nHi,\nOn Debian Unstable, with Iceweasel 10.0.4, the enumeration looks weird after 10.\nA image is worth a thousand words : http://image.noelshack.com/fichiers/2012/19/1336512411-bugetherpad.png\nApparently, this is quite universal, and does not depend on the OS or the navigator used.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/694\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Please pull, checkout develop, commit this fix, issue pull request.\n. Please elaborate on how you want it to work, weather you want it to be like on github where you click preview or if you want markdown export or yada yada.. Thanks :)\n. So basically a Mark Down Export, that'd actually be kinda easy to do (maybe an hour or so work) assuming you wanted really basic mark down functionality.  See getHTML and https://github.com/ether/etherpad-lite/pull/1523 as a reference point for how to accomplish this however I'd be keen to see it as a plugin but I could live with it if it went into core after we release 1.3\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Real time Markdown editing and Markdown export now available in ep_markdown.  Enjoy!\n. Should read..\n/\n  This file must be valid JSON. But comments are allowed\n  Please edit settings.json, not settings.json.template\n/\n{\n  //Ip and port which etherpad should bind at\n  \"ip\": \"0.0.0.0\",\n  \"port\" : 9001,\n//The Type of the database. You can choose between dirty, sqlite and mysql\n/* An Example of MySQL Configuration*/\n\"dbType\" : \"mysql\",\n   \"dbSettings\" : {\n                    \"user\"    : \"etherpaduser\",\n                    \"host\"    : \"localhost\",\n                    \"password\": \"PASSWORD_HERE_YO\",\n                    \"database\": \"etherpad\"\n                  },\n-----Original Message-----\nFrom: bartounet16 [mailto:reply@reply.github.com]\nSent: 09 May 2012 14:15\nTo: John McLear\nSubject: [etherpad-lite] Etherpad lite and Mysql (#696)\nHello\netherpad workks well with dirty db but not with mysql message 2012-05-09 13:40:56.942] [ERROR] console - Error: Access denied for user 'root'@'localhost' (using password: NO)\nalthough mysql is set well because i acced it whith myql -p without no problem\nI don't understand...\n/*\n  This file must be valid JSON. But comments are allowed\nPlease edit settings.json, not settings.json.template */ {\n  //Ip and port which etherpad should bind at\n  \"ip\": \"0.0.0.0\",\n  \"port\" : 9001,\n//The Type of the database. You can choose between dirty, sqlite and mysql\n  //You should use mysql or sqlite for anything else than testing or development // \"dbType\" : \"mysql\",\n  //the database specific settings\n//  \"dbSettings\" : {\n//                   \"filename\" : \"../var/dirty.db\"\n//                 },\n/* An Example of MySQL Configuration\n   \"dbType\" : \"mysql\",\n   \"dbSettings\" : {\n                    \"user\"    : \"etherpaduser\",\n                    \"host\"    : \"localhost\",\n                    \"password\": \"*\",\n                    \"database\": \"etherpad\"\n                  },\n  /\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/696\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. See my comment.\n-----Original Message-----\nFrom: 0ip [mailto:reply@reply.github.com]\nSent: 09 May 2012 14:21\nTo: John McLear\nSubject: Re: [etherpad-lite] Etherpad lite and Mysql (#696)\nYour config suggests 'etherpaduser' as the db user but your log says 'root'.\n'Using password NO' appears odd o me too.\nAre you sure epl uses this config?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/696#issuecomment-5599804\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Np\n-----Original Message-----\nFrom: bartounet16 [mailto:reply@reply.github.com]\nSent: 09 May 2012 14:37\nTo: John McLear\nSubject: Re: [etherpad-lite] Etherpad lite and Mysql (#696)\nThank you.\nIt works i am a looser, my settings.json was not formatted well ...\nsorry ;)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/696#issuecomment-5600153\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. http://lmgtfy.com/?q=etherpad+lite+api+list+all+pads\nPlease use a search engine prior to asking here.\n-----Original Message-----\nFrom: bartounet16 [mailto:reply@reply.github.com]\nSent: 09 May 2012 15:13\nTo: John McLear\nSubject: [etherpad-lite] List all pads (#697)\nHello\ni am interesting to show a list about all pads...\nHow can i do that ? API permit that ?\nMysql select can do that ?\nHow delete documents ?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/697\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. I'm available to do some freelance if needs be.  I don't have that code laying around\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. https://github.com/JohnMcLear/ep_scrollto\n. Ignore that.  It doesn't work because it should be /src/static/custom/pad.css...  Note that this is confusing after doing a checkout (as static path is moving...)\n. testing now.\n. Not able to test in Windows, are we confident none of this will break windows?  Also can you please pull develop/merge then re-issue pull request.  Sorry we chose to do the cleanup pull request first and that has conflicted with yours!\n. @cweider Is this good to pull after testing?\n. I want to test this so hard but I'm so busy ;\\\n. It is supposed to do that already if you run the safeRun script however I do believe this stopped working a while back due to a commit from @pita but I'm not sure which.\n. /etc/init.d/etherpad-lite stop\nUse the init script.\n-----Original Message-----\nFrom: gedion [mailto:reply@reply.github.com]\nSent: 12 May 2012 18:25\nTo: John McLear\nSubject: Re: [etherpad-lite] Email notifications for Admins on server status? (#702)\nthe safeRun script is able to restart the server after a crash, even when you klll the process from the command line(which brings me to ask the question of how to stop the server if I use this script?) but I have yet to receive any email notifications.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/702#issuecomment-5670201\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Will try to test this today\n. @0ip can you test styling stuff please?  Looks fine to me, some minor changes but none offend me.  \nI'm unable to test IE due to a script error!\nOther than that this seems fine to me from quick first testing.  It would be nice to test IE tho ;\\\n. Okay cool, will see if @cweider can sort the IE bug too, I'd be much more comfortable pulling this after testing IE\n. @cweider any luck w/ the IE bug yet?\n. Running latest develop on beta.etherpad.org\n. http://beta.etherpad.org/p/lQa36WufrI <- spot the obvious issues w/ plugins\n. Mheh, also appears that I didnt push my fix checkPad stuff..  Whoops..  This is included..  Enjoy!  PS I commented as someone else by mistake..   My pesky alter egos..\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. @redhog @cweider That's a question for you guys I think\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. As @timtebeek mentioned this is an important feature to maintain integrity of content.  Changing behavior could result in some nastiness.\nIdeally what would exist is an object of who edited what characters so you can look at historic data however the timeslider exists as a happy compromise. \n. Does it work with non SSL?\nHave you cleared your bwoser cache?\n. Which version of Etherpad Lite?  Master/develop?  Any plugins enabled?\nHave you tried clearing your browser cache?\n. So this error appears if you run etherpad using /etc/init.d/etherpad-lite start but doesn't if you do bin/run.sh? \nAre you doing su etherpad-lite then bin/run.sh to ensure the environments are the same as the init script?\n. Pretty sure this is resolved if not then then the usual rm -Rf src/node_modules and restart would do it\n. This pull request cannot be automatically merged.\n. It would also be nice to see https://github.com/Pita/etherpad-lite/issues/103 included in this pull request as that is on the milestones for 1.1\n. Make sure iframe caching is disabled in IE, IE is a pig for this.\n. Well spotted.\n. Line: 853\nError: 'Date' is undefined\nYep this error still exists on 1.2\n. Yikes I tried to fix this but really struggling, it's partly related to https://github.com/ether/etherpad-lite/pull/1205 and it seems a bit pointless to fix this minor issue if we have a bigger issue to resolve\n. https://github.com/ether/etherpad-lite/commit/bf5283fa11089ee03b9a5cdf6b20b7f62fbc01f2\n. Were they ever?\n. Ta for that, I will work on isolating what happened.\n. Took a look at this and it's beyond my realm of understanding despite writing a bunch of the code.\nBasically the CSS for .authorColors no longer seems to be applying to the chat container, it's applying at the innerdocbody level or something ergo it's not being applied to the chat elements.\nYou can see this by editing the CSS and adding a background colors to the .authorColors CSS property.\n. @pita this is one for you to okay.  I'd say pulling this in pre moving to master could be painful, I'm sure @cweider has done a great job but it is a lot of changes and I get the impression it could be volatile/disruptive to the work I'm doing w/ some clients\n. Sounds fair/fine with me, I just want to make sure we get @pita 's input before proceeding.\n. @cweider gentle nudge\n. @cweider has a history of neglecting code he implements so I'm gonna close this with the knowledge he probably wont maintain it anyway.\n. I seem to remember we stored an array of colors.  The reason for this is becase initially Etherpad lite only supported 16 colours (the original Etherpad behaved like this) and each colour had an integer IE #000FFF was 0, #FFF000 was 1 etc. As we extended support for more colours we decided to store them as a hex code.\nSo yea, look for an array called something like colors, IE var colors = ['#000fff','#fff.....\nI just can't remember where the mapping is but you are looking for the right thing.\n-----Original Message-----\nFrom: bjhirsch [mailto:reply@reply.github.com]\nSent: 27 May 2012 12:22\nTo: John McLear\nSubject: [etherpad-lite] color HEX vs integer inconsistency (#729)\nHi,\nAuthor colors in the database are either a (small) integer like 5, 14 etc. or a HEX value. Is there a mapping somewhere of the ints to HEX numbers? Or even better, is it a problem to just keep the hex value in the store?\n(I am working on statistical analysis of pads and extract information directly from the store - if I get the hex info I can use this to feed e.g. Google Charts etc. - now I have to test for \"proper HEX\")\nRegards,\nBenjamin\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/729\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. This error still exists.\n. @cweider @redhog any thoughts?\n. @redhog do you ahve any thoughts on this?\n. Ignore this, looks like these bugs were on master\n. Would you recommend pulling this before we merge the develop to master tomorrow (Hopefully)?\n. \n\"NetworkError: 404 Not Found - http://10.0.0.55:9001/p/pluginfw/plugin-definitions.json\"\nplugin...ns.json\nCookie express_sid changed.  u0yC0JpnQ64fbSPqkOzoHs9s.9mJrzXSxOL99wQUnGQ13C/aT5zEkD5N9wXOEesqQDrg   10.0.0.55 \nFailed to load plugin-definitions: Not Found\nconsole.error(\"Failed to load plugin-definitions: \" + err);\n\n. Is that error expected?  Can you replicate?\n. Also enabling the headings plugin now requires a restart, I'm not sure if this is expected behavior for a client side only plugin?  @redhog\n. also headings plugin is now broken.... ace.ace_doInsertHeading is not a function\n. also twitter links plugin is broken after pulling this..  ;\\\n. Yep, good work, tested okay :)  I assume the require a restart for plugins install/unisntall is a separate issue\n. @cweider Thoughts on me pulling this?  Is it development ready?  Can you provide a test case for me?\n. I disagree RE real time chat.  Users expect chat to be line by line not char by char.  Then again I very rarely use chat as I tend to use video conf/audio chat when working on docs.\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. ep_real_time_chat is the beginning of this work.\nIf you want me to spend some more time on it feel free to setup a gittip or bounty for any features or stuff. I didn't do any styling or specific design to match your design however I did implement all the required functionality.\nhttp://github.com/johnmclear/ep_real_time_chat\nVisit your /admin/plugins page and install ep_real_time_chat\nLet me know if this is enough and we can close this\n. Don't be lazy, I did a bunch of work for you the least I expect is you install it and try it out yourself.\n. :) Thanks\n. Does this also need to go into master?\n. @redhog do you want to place a pull request for master?\n. Afaik I think it's easier for you to issue a new pull request to put it into master.\n. Should be fixed, re-open if not :)\n. Try cclearing your browser cache\n. \nrm -Rf src/node_modules\nbin/run.sh\n\nThis will do a clean install of all node modules and should solve your issue.\n. Testing further now, should have a fix asap if I can replicate.\n. Weird, works perfect for me.  can you please paste your output from\n\nrm -Rf src/node_modules\nbin/run.sh\n\nAlso node -v might help me debug\n. um..  \n\n/etherpad-lite/bin/run.sh\n\nshould be \n\nbin/run.sh\n\n. Please paste output when running relative :) Thanks!\nFYI it's not actually showing any errors during dependency install.  Where/when do you actually see this error?\n. Is this pad instance available on a public URL per chance?\n. Just to test my sanity, try to do bin/run.sh as root (or sudo), making sure to rm -Rf the node_modules folder first\n. see skype\n. Tried all documented fixes for this and checked out new master but no luck..  Gonna catch Ari again in 30 mins to try some other stuff.  Frustrating!\n. Okay so I managed to get something semi working by adding a localhost record that pointed at the IP etherpad lite was running on.  It looks like maybe a \"localhost\" record may be required in /etc/hosts ?\nIE:\n\nsudo nano /etc/hosts\n\nAdd a record:\n\nlocalhost               127.0.0.1\n\nAccess Etherpad via localhost.\n@cweider , with this new found knowledge at your disposal you should be able to finally resolve this issue :)\n. Yep, afaik this problem still exists on CentOS\n. npm ERR! Error: connect ETIMEDOUT <-- his internet can't access the package\nDate: Tue, 11 Sep 2012 01:48:19 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nCC: john@mclear.co.uk\nSubject: Re: [etherpad-lite] Uncaught Error: The module at \"ep_etherpad-lite/static/js/rjquery\" does not exist. (#747)\nSorry,\nnode updated to 0.6.19 but there is no change :\n10:23:27 [root@intranet etherpad]$ bin/installDeps.sh \nEnsure that all dependencies are up to date...\nnpm http GET https://registry.npmjs.org/request/2.9.100\nnpm http GET https://registry.npmjs.org/require-kernel/1.0.5\nnpm http GET https://registry.npmjs.org/resolve\nnpm http GET https://registry.npmjs.org/socket.io\nnpm http GET https://registry.npmjs.org/ueberDB/0.1.7\nnpm http GET https://registry.npmjs.org/async\nnpm http GET https://registry.npmjs.org/express\nnpm http GET https://registry.npmjs.org/connect\nnpm http GET https://registry.npmjs.org/clean-css/0.3.2\nnpm http GET https://registry.npmjs.org/uglify-js/1.2.5\nnpm http GET https://registry.npmjs.org/formidable/1.0.9\nnpm http GET https://registry.npmjs.org/log4js/0.4.1\nnpm http GET https://registry.npmjs.org/jsdom-nocontextifiy/0.2.10\nnpm http GET https://registry.npmjs.org/async-stacktrace/0.0.2\nnpm http GET https://registry.npmjs.org/npm/1.1.24\nnpm http GET https://registry.npmjs.org/ejs/0.6.1\nnpm http GET https://registry.npmjs.org/graceful-fs/1.1.5\nnpm http GET https://registry.npmjs.org/slide/1.1.3\nnpm http GET https://registry.npmjs.org/semver/1.0.13\nnpm http GET https://registry.npmjs.org/underscore/1.3.1\nnpm http GET https://registry.npmjs.org/jshint\nnpm http GET https://registry.npmjs.org/yajsml/1.1.3\nnpm ERR! Error: connect ETIMEDOUT\nnpm ERR!     at errnoException (net.js:670:11)\nnpm ERR!     at Object.afterConnect as oncomplete\nnpm ERR! You may report this log at:\nnpm ERR!     http://github.com/isaacs/npm/issues\nnpm ERR! or email it to:\nnpm ERR!     npm-@googlegroups.com\nnpm ERR! \nnpm ERR! System Linux 2.6.18-308.13.1.el5\nnpm ERR! command \"node\" \"/usr/local/bin/npm\" \"install\"\nnpm ERR! cwd /opt/etherpad/src\nnpm ERR! node -v v0.6.19\nnpm ERR! npm -v 1.1.24\nnpm ERR! syscall connect\nnpm ERR! code ETIMEDOUT\nnpm ERR! message connect ETIMEDOUT\nnpm ERR! errno {}\nnpm ERR! \nnpm ERR! Additional logging details can be found in:\nnpm ERR!     /opt/etherpad/src/npm-debug.log\nnpm not ok\nnpm not ok\n10:39:17 [root@intranet etherpad]$ \n```\n          \u2014\n      Reply to this email directly or view it on GitHub.\n\n```\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. https://github.com/johnmclear/ep_scrollto\n. What do you get on /admin/plugins?\nAre you running latest master?\n-----Original Message-----\nFrom: Tony Marschall [mailto:reply@reply.github.com]\nSent: 03 June 2012 14:00\nTo: John McLear\nSubject: [etherpad-lite] 404 for admin behind a reverse proxy (#751)\nHello,\ni have setup etherpad-lite behind nginx. The frontend is working find, if i try to access /admin i got a 404:Cannot GET /admin.\nMy setup:\n```\nnginx.conf\nserver {\n    listen       443;\n    server_name  domain.tld;\naccess_log  /var/log/nginx/eplite.access.log;\nerror_log   /var/log/nginx/eplite.error.log;\n\nssl  on;\nssl_session_timeout  5m;\n\nssl_protocols  SSLv3 TLSv1;\nssl_ciphers  ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv3:+EXP;\nssl_prefer_server_ciphers   on;\n\nssl_certificate      /etc/ssl/certs/myssl.crt;\nssl_certificate_key  /etc/ssl/private/myssl.key;\n\nlocation / {\n    proxy_pass             http://localhost:9001/;\n    proxy_set_header       Host $host;\n    proxy_buffering off;\n}\n\n}\nsettings.json\n{\n  //Ip and port which etherpad should bind at\n  \"ip\": \"127.0.0.1\",\n  \"port\" : 9001,\n\"dbType\" : \"mysql\",\n  \"dbSettings\" : {\n                   \"user\"    : \"etherpad-lite\",\n                   \"host\"    : \"localhost\",\n                   \"password\": \"etherpad-lite\",\n                   \"database\": \"etherpad-lite\"\n                 },\n\"defaultPadText\" : \"Welcome to Etherpad Lite!\\n\\n\",\n  \"requireSession\" : false,\n  \"editOnly\" : false,\n  \"minify\" : true,\n  \"maxAge\" : 21600, // 60 * 60 * 6 = 6 hours\n  \"abiword\" : \"/usr/bin/abiword\",\n  \"requireAuthentication\": false,\n  \"requireAuthorization\": false,\n  \"users\": {\n    \"admin\": {\n      \"password\": \"changeme1\",\n      \"is_admin\": true\n    },\n    \"user\": {\n      \"password\": \"changeme1\",\n      \"is_admin\": false\n    }\n  },\n  \"loglevel\":\"DEBUG\"\n}\n```\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/751\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. @redhog how is your magic coming along on this?\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. I made a plugin so you can exclude these files https://github.com/JohnMcLear/ep_disable_custom_scripts_and_styles\n. https://github.com/Pita/etherpad-lite/wiki/Embed-Parameters\nand see the disable change author name plugin.\n-----Original Message-----\nFrom: Rui Carmo [mailto:reply@reply.github.com]\nSent: 05 June 2012 14:14\nTo: John McLear\nSubject: [etherpad-lite] Set author name from HTTP auth data (#759)\nI've been looking for an easy way to set the author name automatically from HTTP auth data. Either this is a documentation issue and the auth settings aren't supposed to work in this way, or this is a missing (trivial?) feature.\nIt would be excellent if the author name was automatically set either from the HTTP REMOTE_USER environment variable or from an (admin-specified) HTTP header (or callback function).\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/759\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. It's not a setting, it's a parameter passed through the URL IE ?showLineNumbers=false\nYou don't allow for outbound HTTP from your firewall?  *facepalm\nhttp://youretherpad.com/admin/plugins is the URI for the plugin interface where you can enable/disable plugins..\n-----Original Message-----\nFrom: Rui Carmo [mailto:reply@reply.github.com]\nSent: 05 June 2012 14:46\nTo: John McLear\nSubject: Re: [etherpad-lite] Set author name from HTTP auth data (#759)\nAh, so it's possible. I don't see how the embedding is pertinent, though, since I'm not embedding Etherpad - is this a setting?\nAlso, I can't find that plugin in the master branch. I do see a reference to plugins being npm packages in the README.plugins, but I can't really use npm - I'm trying to set up Etherpad Lite behind a firewall, and it was unbelievably painful to get hold of all the packages manually.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/759#issuecomment-6125192\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. You could write a plugin to do it, should be a 30 second job.\n-----Original Message-----\nFrom: Rui Carmo [mailto:reply@reply.github.com]\nSent: 05 June 2012 15:28\nTo: John McLear\nSubject: Re: [etherpad-lite] Set author name from HTTP auth data (#759)\nAh, ok, but I don't want to redirect my users to set their display name. Is there not a cleaner way to do this?\n(and no, we don't allow outbound HTTP from the server LAN - it's a pain, but it's a common sense security measure)\nI'll have a look to see if I can enable the admin panel. The URL/route is apparently disabled, need to figure it out further.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/759#issuecomment-6126169\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Yea the documentation for the plugin framework kinda sucks(@redhog) and EP is a bit more complex than most express apps due to the architecture we chose to use (focus on extensibility/performance).\nYou can write a plugin that gets the Username from whatever value you want and just updates the pad object w/ the value.  To be fair you can pass the username with a parameter in the URL, I'm not sure why you think you have to do a redirect to accomplish this..  Maybe I'm just not being fully understood or you don't want to pass the username in the URL for security reasons.  Either way it should be a really simple plugin to write.  My advice is to jump onto npm and search for ep_ - once you find a plugin that does something similar to what you want just modify it and publish it back to npm then it will be available to install via the web interface.\nWhat you want is a feature, we are basically freezing features and encouraging developers to write them as plugins.  The idea here is that we keep the code base simple (in an attempt to solve the problem of the code structure being too complex/unclear).\nSo I guess you have a learning curve ahead of you, we'd be really grateful if you documented your experience so we know what is easy/difficult so we can help to improve this experience in the future!\n-----Original Message-----\nFrom: Rui Carmo [mailto:reply@reply.github.com]\nSent: 05 June 2012 16:08\nTo: John McLear\nSubject: Re: [etherpad-lite] Set author name from HTTP auth data (#759)\nWell, it isn't, really.\nFor starters, I'm clearly not having much success at finding my way around the code base (somehow, things aren't as obvious as with other express apps I've dabbled in), and it's something that I feel ought to have been built in (our traditional Java-based Etherpad works that way, and users expect apps to recognize them and display their names).\nOn Jun 5, 2012, at 15:42 , John McLear wrote:\n\nYou could write a plugin to do it, should be a 30 second job.\n-----Original Message-----\nFrom: Rui Carmo [mailto:reply@reply.github.com]\nSent: 05 June 2012 15:28\nTo: John McLear\nSubject: Re: [etherpad-lite] Set author name from HTTP auth data (#759)\nAh, ok, but I don't want to redirect my users to set their display name. Is there not a cleaner way to do this?\n(and no, we don't allow outbound HTTP from the server LAN - it's a pain, but it's a common sense security measure)\nI'll have a look to see if I can enable the admin panel. The URL/route is apparently disabled, need to figure it out further.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/759#issuecomment-6126169\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/759#issuecomment-6126603\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/759#issuecomment-6127295\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. I know shib well, we use it on PrimaryPad, we decided to drop it as an auth mechanism though because it's too clunky.  That's possibly why we didn't rewrite that functionality into Etherpad Lite initially.\nOuch, not sure I can help w/ the npm stuff - without outbound http you might be in a world of pain tbh, why not allow outbound http to npm.org ?\nYea, I agree re the plugin approach, but imho it's a necessary sacrifice it's just our docs don't exist/suck and we are really trying to get the author to actually get something written before moving onto new shiny things :)\n-----Original Message-----\nFrom: Rui Carmo [mailto:reply@reply.github.com]\nSent: 05 June 2012 16:58\nTo: John McLear\nSubject: Re: [etherpad-lite] Set author name from HTTP auth data (#759)\nOn Jun 5, 2012, at 4:48 PM, John McLear wrote:\n\nyou don't want to pass the username in the URL for security reasons.\n\nThat too. In fact, I need a couple more things than the username, all of which are sent as HTTP headers by a reverse proxy that does authentication and matching of user profile data (a high-grade SSO solution called Shibboleth).\n\nEither way it should be a really simple plugin to write.  My advice is to jump onto npm and search for ep_ - once you find a plugin that does something similar to what you want just modify it and publish it back to npm then it will be available to install via the web interface.\n\nRight now npm as a whole seems to be extensively broken with all sorts of md5sum errors, so I can't even install a fresh source tree on my machine to do development.\n\nSo I guess you have a learning curve ahead of you, we'd be really grateful if you documented your experience so we know what is easy/difficult so we can help to improve this experience in the future!\n\nI'll try - right now I'm winging it and leaving things as they are until npm settles down.\nA minor comment on the plugin approach - I understand the motivation, but it might make it hard for people to deploy and adopt Etherpad if customization options require plugins (I haven't seen any yet due to npm breakage, but the point here is that you might want to consider having a good installation/configuration wizard that covers initial setup and essentials such as database configuration, read/write access, authentication, etc.)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/759#issuecomment-6128676\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Hah, funnily enough we're going sailing together in a few weeks so that might be the ticket ;)\n-----Original Message-----\nFrom: Rui Carmo [mailto:reply@reply.github.com]\nSent: 05 June 2012 17:21\nTo: John McLear\nSubject: Re: [etherpad-lite] Set author name from HTTP auth data (#759)\nOn Jun 5, 2012, at 5:09 PM, John McLear wrote:\n\nI know shib well, we use it on PrimaryPad, we decided to drop it as an auth mechanism though because it's too clunky.  That's possibly why we didn't rewrite that functionality into Etherpad Lite initially.\n\nYeah, well, I'm not allowed to use anything else, really. But the \"basic auth\" emulation it provides isn't much different from, say, an Apache LDAP setup or other things your (sysadmin) users might have already. Educational establishments, in particular, tend to use SSO(like) solutions these days.\n\nOuch, not sure I can help w/ the npm stuff - without outbound http you might be in a world of pain tbh, why not allow outbound http to npm.org ?\n\nNope. Policy. Asking for a proxy internally, but it's currently broken on my Mac as well, and other people are complaining elsewhere.\n\nwe are really trying to get the author to actually get something written before moving onto new shiny things :)\n\nIn my experience, depriving them of Internet access for a couple of weeks usually results if fairly accurate documentation. Just a thought.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/759#issuecomment-6129317\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Is the IP and port set correctly in settings.json?\nIf so, try\nbin/installDeps.sh\n@cweider\nDo we know which commit is causing this middleware issue?  Is it something we can easily resolve?\n-----Original Message-----\nFrom: ntrrgc [mailto:reply@reply.github.com]\nSent: 05 June 2012 17:32\nTo: John McLear\nSubject: [etherpad-lite] Cannot find module 'zeparser' (#760)\nAfter I git pull'ed for the last version of etherpad-lite, and I run it, this error appeared:\n[2012-06-05 18:23:49.876] [ERROR] console - Failed to load '/my_etherpad_dir/node_modules/ep_etherpad-lite/node/hooks/express/socketio:expressCreateServer' for 'ep_etherpad-lite/socketio/hooks/expressCreateServer': Error: Cannot find module 'zeparser'\nNow, none can access nor edit the pads. Errors like this are shown:\n[2012-06-05 18:28:41.523] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"cAp8MoYsc0egkRBlwqgp\",\"msg\":\"Script error.\",\"url\":\"http://myurl/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define\",\"linenumber\":0,\"userAgent\":\"Mozilla/5.0 (X11; Linux x86_64; rv:14.0) Gecko/20120604 Firefox/14.0a2\"}\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/760\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Oh so this isn't an Etherpad lite middleware problem?\n-----Original Message-----\nFrom: Chad Weider [mailto:reply@reply.github.com]\nSent: 05 June 2012 17:57\nTo: John McLear\nSubject: Re: [etherpad-lite] Cannot find module 'zeparser' (#760)\nYea, zeparser is some sort of dependency of socket.io IIRC it is not playing well with NPM.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/760#issuecomment-6130260\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. What's the status on this please?\n. Not gonna lose any sleep over this cause no one will encounter this problem in testing, staging or production (Theoretically) although @pita what hostname do we do cookie checks on in the testing framework ?\n. Further reading https://groups.google.com/a/chromium.org/forum/?fromgroups=#!topic/chromium-bugs/4HFLDhvvXsc\n. Wait a second..  I'm confused..  At what point do we say to connect on localhost?  Surely the start up script states to connect on http://ip.add.re.ss ?  Yes it does..  So why would you use localhost?  Is this a user/developer issue?  \nWe could have an alert if you try to hit a page with the domainname localhost but that seems overkill no?\n. Okay then closing but it will remain on t'web for posterity.  Thanks for raising this @fourplusone \n. I find it really hard to consistently replicate this bug, will work at creating a solid test case.  \nMy initial findings are that the browser is being aligned to the wrong visible area on a pad so it seems frozen but actually you just can't see the caret.\n. Yep, so I'm gonna propose a fix for this but you might not like it because it's so simple but it seems effective. \n. Nope, it breaks IE (a CSS rule breaks all functionality..  ) It's crazy bizzare\n. Yes.  Do you want steps to replicate?\n. Yea this is a weird browser bug\n$('iframe[name=\"ace_outer\"]').contents().find('iframe').contents().find(\"#innerdocbody\").html(\"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\");\ndoesn't replicate also we can't reproduce using testing framework, gah :|\n. We need a pull request for both master and develop for this please.\n. Please also do a pull request to master.  Ta :)\n. Lots of commits here..\n. yep we did.  I think @pita was just reminding us how he wants things\n. ta\n. Thanks Jordan, you are the man.\n. http://search.npmjs.org/#/ep_cursortrace\n. Bounty: https://www.bountysource.com/issues/1371871-validuntil-should-almost-certainly-be-validfor\n. A Plugin framework exists so you should write plugins :) \nHeaders already exists\nTables is WIP\nLinks has been discussed on a number of times on the issues.  Afaik @wikinaut has been doing stuff w/ WikiText.\nhttps://github.com/Pita/etherpad-lite/wiki/Available-Plugins <-- example plugins already available.\nAlso see etherpad.org\nAnd search.npm.org search for ep_\nWe \"really\" need plugin framework docs but @redhog doesn't like to write documentation..................\n. there are hooks for you to inject deps afaik @redhog \n. I'm not sure this is still an issue?\n. Thanks @mluto\n. Temporary fix is to modify package.json replacing line 38 v0.6 with v0.7\nhttps://github.com/Pita/etherpad-lite/blob/master/bin/installDeps.sh\nIf anyone gets time to rewrite those checks please feel free :)\n. Yudis see https://github.com/ether/etherpad-lite/pull/1623\n. Try a clean clone\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. This is \"fixed\" for HTML but not TXT\n. My local reference for a test case of this is: http://debian:9001/p/uhLEKiW27e\nI intend to get a fix done.\n. So as far as I understand it, I need to basically take some of the exportHTML functioanlity which applies attributes and apply it to the text export function.  Shouldn't be rocket science, will have a go tomorrow.\n. I can't do any more than this: https://github.com/ether/etherpad-lite/pull/1491  It's 99.9% solved.\n. Ready to test.\n. Google group/mailing list: https://groups.google.com/forum/?fromgroups#!forum/etherpad-lite-dev\n. At some point that's the plan, need to find someone who is familiar w/ setting them up first :)\n-----Original Message-----\nFrom: Mark Holmquist [mailto:reply@reply.github.com]\nSent: 15 June 2012 23:58\nTo: John McLear\nSubject: Re: [etherpad-lite] Where are changesets created / submitted? (#794)\njohnyma22, 1) That's not obvious from anything I've read so far 2) It requires a Google email address and login, is there any chance you could move it to etherpad.org or similar?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/794#issuecomment-6368560\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. +1 to these, let me know if you can help :) \n. FYI We have a Tuesday meet up at 8pm but tbh we have been really busy w/ work/play and not very much has got done during it ;\\\n-----Original Message-----\nFrom: Mark Holmquist [mailto:reply@reply.github.com]\nSent: 19 June 2012 01:18\nTo: John McLear\nSubject: Re: [etherpad-lite] Community is non-existent (#797)\nI could probably do something for OpenHatch, though without coherent TODO items it might be moot. It would also be nearly prerequisite to have a few people in IRC to answer questions from time to time.\nI'll try to set up an OH page when I get home (t minus 3 hours)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/797#issuecomment-6412953\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Whoops, sorry, GMT :)\n-----Original Message-----\nFrom: Mark Holmquist [mailto:reply@reply.github.com]\nSent: 19 June 2012 01:54\nTo: John McLear\nSubject: Re: [etherpad-lite] Community is non-existent (#797)\nThat's fine! What time zone includes this \"8PM\"?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/797#issuecomment-6413432\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Bump @marktraceur\n. Improved in https://github.com/ether/etherpad-lite/pull/1533 -- please test\n. Glad everything else works.  Abiword should be working, there are no issues I'm aware of.  The only thing I can assume is that something is configured wrong.  If you want a second opinion I can take a look w/ you.\n. Please issue pull request into develop branch.  Thanks :) \n. Do we actually support postgres?\n. This is solved both in abiword import but also ep_mammoth plugin exists for high fidelity word imports\n. Please request this to the develop branch\n. possibly in a few days.  Email me on Monday or so to remind me?  Any reason anyone else can't test it and let me know?\n. yea I'm aware of the windows bug, we are going to look at it next week\n. @cohitre status on this?  :)\n. Work started again here https://github.com/ether/etherpad-lite/pull/1579\n. cc @redhog (plugin author)\n. fixed waiting on @redhog to publish to npm\n. global vars?\n. Looks better, can't avoid padIds?\n. yep, testing on a clean pull now.\n. confirmed working.  no worries any time, thanks for the commit/pull requests :) apols for the premature merge\n. testing now..\n. @jhollinger any of the javascript code of any concern to you?  I have tested it and it seems to read fine but I'm not convinced if(author != '') is best practice?  Worth emphasizing I'm no expert here..\n. If you get a minute can you please address our concerns w/ the code and issue a new pull request?  The merge I did just means it's available on develop for people who are testing/toying with the functionality.  I don't want to pull it into Master until it's fully resolved.\n. anything w/ \"get\" In the name is not RESTless strictly speaking so our naming schema will prolly be completely rewritten in V2.  Technically correct name would be \"mostRecentPadEditTime\" but that's being picky.. \n. Good work Mark, another good un :) \n. ta\n. I assume the windows install script is optional?\n. FYI I pulled and built latest onto etherpad.org - just deploying now.\n. All done.  Feel free to test latest .zip file from etherpad.org\n. Laziness \n. Is it possible to fix it so it works with both .6 and .8?\n. That's what we should do then imho.\n\nFrom: Marcel Klehr [reply@reply.github.com]\nSent: 04 July 2012 10:28\nTo: John McLear\nSubject: Re: [etherpad-lite] Support node 0.8 (#829)\nThe install scripts would have to be rewritten to allow both versions,\nand we have to check the node version in the code (which makes it ugly\nIMO). But it's possible.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/829#issuecomment-6756210\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. @marcelklehr Is there any chance we can realize this today so I can release this w/ 1.1.1?\n. bin/run.sh \nYou're running a wrong version of node, you're using v0.6.8, we need v0.8.x\n\n. no worries :) \n. \nbin/buildForWindows.sh \ncreate a clean environment in /tmp/etherpad-lite-win...\ndo a normal unix install first...\nYou're running a wrong version of node, you're using v0.6.8, we need v0.6.x or v0.8.x\n\n. fyi node_v_minor shows as v0.6\n. Dupe of https://github.com/ether/etherpad-lite/issues/526\n. if you comment out the return UNorm.nfc(s).replace... then etherpad will store, accept, recieve and transmit the \ud835\udd44 char.  It looks like perhaps our replace is too strict there.\n. Updating unorm and moving lib/unorm.js to index.js the same problem persists.\n. It states that git://github.com/rozcietrzewiacz/etherpad-lite.git is the <-- The docs are bad.  You shouldn't use them and you should tell them the Etherpad foundation told you that.\ngit://github.com/pita/etherpad-lite.git is the only sane endpoint you should use. \nAs far as support various node hosting, it's up to them to provide support for etherpad-lite, we're not willing to begin supporting each hosting platform because it would consume all of our time :)  If they wish to issue a pull request with a lib folder containing their specific requirements I may consider merging this but imho Saas platforms should be able to support nodejs platforms w/ out any custom package specifications or software modifications.\n. @gedion how is this coming along?\n. le bump\n. @gedion any update?\n. @fourplusone can merge this one after it's tested and he is happy with it.  I'm really busy at the mo w/ other projects\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Current file format is fine.\n. Bumped to 1.3, ace2_inner will have the solution for this.  Will see what I can sort.\n. This is quite difficult to replicate.  Basically create 100 empty blank lines and it will work fine.\nCursor move will work fine\nCopy and paste the last 5 lines and try to move your cursor up outside of the visible space it wont redraw focus.\nIMPORTANT NOTE:  Left and Right key suffers from the same affliction, so does page up / page down.\n. This problem is part of a larger problem where the cursor is allowed to outside of the visible space as it affect all events.\nCopy pasting is the only real way to replicate this problem.\n. For posterity: https://github.com/ether/etherpad-lite/commits/dont-lose-caret\n. Be mindful that in my fix the caret behaves slightly differently, when you reach a non visible area for the caret it moves the visible window to the top of the carets position so using down arrow to scroll through a document now behaves a bit more sane.  Still not sure page up/page down fix we did is very good.  I prefer this method tbh, it seems more reliable.\n. Ready for testing.\n. yep.  few options being discussed here..\na) tree menu that comes out of left hand side\nb) hide some icons (hard to know which)\nc) make toolbar span 2 lines\nI think each will need to be implemented as a plugin then installed on your server\n. @0ip did you want to put forward a fix for this?\n. https://github.com/Pita/etherpad-lite/pull/1098\n. Afaik CSS can't figure out the space used up by buttons inserted by plugins.\n. Duplicate of https://github.com/ether/etherpad-lite/issues/855\n. Will respond to this when I can. For now please be patient while we work through some issues\n. @fourplusone should we close this pull request but it doesn't appear to have any traction?\n. But the cost of adoption >= Benefits.\n. Arthur, if we can schedule an online meetup this week I may be able to fix the issues if you are happy to refresh/test for me.\n. @Arthur-Rainbow Can you please checkout the features/frontend-tests branch \ngit checkout features/frontend-tests\nrestart etherpad and see if when you run the tests by visiting\n/tests/frontend/\nit fails on these?\n. I'm prolly going to regret this but..\nhttp://beta.etherpad.org/tests/frontend/\n. Any update @Arthur-Rainbow ?\n. Closed due to stolen device.  Third world problems\n. Fixed in SocketIO\n. Yea @fourplusone is correct.\n. Heh funnily enough me and @redhog discussed this the other day.\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. AFAIK they are sorted based on dependencies.\n\nFrom: Matthias Bartelme\u00df [reply@reply.github.com]\nSent: 12 July 2012 21:46\nTo: John McLear\nSubject: [etherpad-lite] Do we really need to sort the installed plugins (#870)\n... i could not think of any possible usecase.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/870\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. There are scripts in the bin folder to check pad integrity\nI have asked @pita a number of time to commit his updated scripts that he developed and I hope he does soon.\n. Hi @mubix -- Sorry about the delay on this ;\\\nDo we know if pmwiki still has a problem?  \nI expect the cause was sessions were being dropped if Etherpad crashed (Etherpad is a lot more stable now) and pmwiki wasn't \"Etherpad Aware\" enough to know that it had to re-create those sessions and probably got a bit confused. \n. Does this problem still exist on the latest develop (with the new session management stuff in)? \n. If you go to your etherpad installation by visiting it in your browser then look at the available cookies for this domain do you see any listed?\n. Boring day in the office...\n. Most of them don't need any action right now. \n. @disy-mk is this sorted can it be closed?\n. Just go for it, things are always going to be a bit busy.  Ask for forgiveness, not permission.\n. I don't want to dilute the brand any further.  We do enough.\n. Unable to replicate\n. @redhog needs to look at this\n. I'm scared of putting plugin settings into the settings.json file because then how do we handle changing plugin settings in the UI?  Ultimately I want the plugin experience to be enable..  change settings in the /admin/plugins UI whilst installing, fin.  No restart, no modifying files, no moonshine\n. Bump @Pita re this.  We spoke about it briefly, it exists in some form but not on the open source branch.\n. Got bored, hacked together a ghetto initial start.\nMake sure you are running latest and then search in the npm repository for ep_timesliderdiff\nhttps://npmjs.org/package/ep_timesliderdiff\nplugin git repo https://github.com/JohnMcLear/ep_timesliderdiff\n. If anyone wants to get any more commits/progress on this I'm available as a gun for hire.\n. ;) will peep code whilst you put next pull req in\n. Confirmed that I can replicate this in a new environment.  See https://github.com/Pita/etherpad-lite/issues/909 #909\n. Seems to have fixed itself when using latest node/npm..  Strange!\n. Yep, should be really easy for someone to write this as a plugin.\n. 3 interfaces required in order of setting applied first:\n1. default setting (settings.json) <-- link to css file (perhaps just provide editor of to pad.css)\n2. theme switcher in settings UI (stores in cookie) (cookies are applied w/ JQ after default css)\n3. param (passed in URL) <-- include name of CSS file IE ?theme=darkTheme\nDo we want to provide some example themes?\nWhat format should we store the themes?\nWouldn't just providing links to available CSS files be the smartest thing? (no ability for users to create their own)\n. Available as plugin: https://npmjs.org/package/ep_themes\n. This is actually the wrong place for that request.  UeberDB would need to expose a setting for \"store\" first.. See:\nhttps://github.com/pita/ueberDB && https://github.com/Pita/ueberDB/blob/master/mysql_db.js\n. 6 months and only one request though, not sure what this guy was trying to achieve tbh..\n. As database is already exposed this should be enough, so closing this request.\n. Was just taking forever..  Fine now\n. Do you still care for this?\n. I can't replicate this bug\n. Closing due to lack of action.\n. Yea @fourplusone is right, the goal posts only change if you upgrade.\n. We have a .deb so this is possible.\n. @hogmoru have a read of pad.js, it wont actually be too hard to do the latter.  I think you are right about persistant per-pad attribute.  This is something we'd like to see in the future but it's pretty low priority.\n. Here is a plugin for default monospace font: https://npmjs.org/package/ep_monospace_default\nPlease consider making a donation to either my paypal johnyma22@hotmail.com or the etherpad foundation at http://etherpad.org\nVisit http://YOURSERVER.COM/admin/plugins and search for monospace to install the plugin.\nThanks :)\n. Closing as a plugin does this now.\n. Sounds like one for @redhog\n. Yea this really isn't a \"leak\", it's no big deal\n. This looks like an Oracle specific issue:\nhttp://asktom.oracle.com/pls/asktom/f?p=100:11:0::::p11_question_id:1441804355350\nI wouldn't say that making revision history saving less would solve this problem for you directly.  It looks like your oracle database server needs \"optimizing\"?\n. Be patient\nJordan Hollinger notifications@github.com wrote:\nLooks nice\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/927#issuecomment-7553344\n. Thanks. Copyright is Peter Martischka, primary technology Ltd afaik. Will try respond in more detail next week, busy at mo \nnicocesar notifications@github.com wrote:\n\nHi there, I adapted the etherpad.fsf.org code to be libre javascript friendly: \nPlease read how to free your javascript http://www.gnu.org/software/librejs/free-your-javascript.html\nI hardcoded an URL that is only for our server. This clearly needs adaptation for the upstream, and I'll leave that to the developers. But I think is a small change that could bring a huge difference on the Javascript landscape .\ntested using Firefox 14.0.1 and LibreJS 4.8 add-on\nI added Google Inc as copyright holder. There is an open issue on this:\nhttps://github.com/Pita/etherpad-lite/issues/935\nIs not clear to me if it should be 'Peter Martischka and contributors' or 'Google Inc.' or somebody else.\nYou can merge this Pull Request by running:\ngit pull https://github.com/nicocesar/etherpad-lite master\nOr you can view, comment on it, or merge it online at:\nhttps://github.com/Pita/etherpad-lite/pull/936\n-- Commit Summary --\n- Added the License to the code in order to runs under LibreJS standards\n-- File Changes --\nM src/templates/index.html (23)\nM src/templates/pad.html (24)\nM src/templates/timeslider.html (24)\n-- Patch Links --\nhttps://github.com/Pita/etherpad-lite/pull/936.patch\nhttps://github.com/Pita/etherpad-lite/pull/936.diff\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/936\n. Just FYI this request can not be automatically merged.  Apologies for that.  If you update your commits we might be able to get it into 1.1.3\n. You need to to issue your pull request against the develop branch.\n. Thanks  @marcelklehr \n. Weird. Afaik I wrote the functionality and can't think why it would do this. Keep me posted with your research \n\nmabeltron notifications@github.com wrote:\n\nA client has this issue:\n\nWe pass users to Etherpad Lite using a URL such as the following:\nhttp://example.com:9091/p/ROOMNUMBER&userName=FIRSTNAME\nIn the above example, ROOMNUMBER is a unique room where the two people are going to meet, while FIRSTNAME is the name of the person joining the room. \nHowever, Etherpad Lite is only allowing users to meet together if both the ROOMNUMBER and the FIRSTNAME variables are the same. In other words, two people using the following two links WILL NOT see each other when they get to the site, even though the ROOMNUMBER variables are the same.\nhttp://example.com:9091/p/sc150153f7a56276&userName=Richard\nhttp://example.com:9091/p/sc150153f7a56276&userName=Carla\nOddly, if the userName variables are identical, the two can meet. In other words, if each person independently and from their own browser clicks on the same link, they are both recognized as \"Richard\", but are in the same chat room, as two different \"Richards\" in the same room.\n\nI can verify that this is the case - the link creates the pad with the user but doesn't see the other user (tested with Firefox and Chrome on the same desktop). The Etherpad-lite server is behind nginx.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/938\n. Please check against http://beta.etherpad.org -- 99% sure it will still exist, we may have to add some hacky code to deal with Opera.\n. Okay so no worries, beta.primarypad.com just needs an update @eldiddio -- Note that if this is the case we can Close this issue :)\n. Yep.\n. Various new tests including keystroke_enter available here: https://github.com/johnyma22/etherpad-lite/tree/clear-authorship-color-test-spec/tests/frontend/specs\n. @rozcietrzewiacz Can you please checkout the features/frontend-tests branch \ngit checkout features/frontend-tests\nrestart etherpad and see if when you run the tests by visiting\n/tests/frontend/\nit fails on these?\n. And on beta.etherpad.org?\n. @zertrin @rozcietrzewiacz please visit http://beta.etherpad.org/tests/frontend/?grep=keystroke_enter.js and tell me if the test fails/succeeds.    Also please paste the first 3 lines of the contents of the visible pad.\n\nI get a test pass on Opera 12.02 on Windows 7.\nThanks\n. Can you please pull the latest and run the tests again?\n. Any update on this http://beta.etherpad.org/tests/frontend/?grep=keystroke_enter.js \n. @elbeardmorez oh so the test passes in your browser?\nIt sounds like your browser is bugged.  If our test (which emulates a newline (enter key)) is passing and putting the cursor in 2:1 then everything should be fine.\nI really don't have a solution other than to say upgrade your browser to the latest version and hope the creator fixed it.  I'm 99% sure it's not a problem we should fix at our end.\n. https://github.com/ether/etherpad-lite/blob/master/tests/frontend/specs/keystroke_enter.js should answer your questions.\nAre you familiar w/ JQuery, if so you could modify that test to make it fail.\nhttps://github.com/ether/etherpad-lite/blob/master/tests/frontend/specs/keystroke_enter.js#L19 is where we send the enter keystroke\n. Hrm, if you change \nvar x = '\\n'.charCodeAt(0);\nto\nvar x = '\\r'.charCodeAt(0);\nthen re-run the test does it pass?\n. 12.02 stuck on loading\nno errors in console..  ;\\\n. Opera now fixed \n. I can now replicate the enter bug.  Test case does indeed only insert one new line.  How strange.\n. Return key also creates two lines\n. Basically the test case here is completely useless.\n. Fix ready to be merged.\n. I can't replicate this bug, can anyone please verify an exact version # of Opera and Operating system so I can test on sauce labs....\nThanks\n. Confirmed if I refresh a bunch of times..\n. Confirmed removing opacity fixes this issue.  Drop the opacity CSS attribute I guess..  Fsking opera.\n. you may have to change the default settings on jsbeautifer.org\n. cannot be automatically merged.\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Looks good and tested okay.\n. I will try to test and pull #701 tomorrow.  I could do w/ an update on the testing framework @pita\nDate: Mon, 13 Aug 2012 15:41:22 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nCC: john@mclear.co.uk\nSubject: Re: [etherpad-lite] Normalize inserted text using UNorm (#949)\nRelated: #701\n```\n          \u2014\n      Reply to this email directly or view it on GitHub.\n\n```\n. Looks good and formats reasonably well.  Thanks!\n. I dunno about this, seems like a bad idea to try to encourage ! in urls.  It might confuse people who are used to seeing #! See http://stackoverflow.com/questions/4739667/why-does-twitter-use-a-hash-and-exclamation-mark-in-urls-and-how-do-they-rewrit for details\n. https://github.com/Pita/etherpad-lite/wiki/Creating-a-plugin\n. We can fund this here: https://www.bountysource.com/issues/1371920-requesting-an-introduction-to-the-source\n. Thanks Mark :) \nDate: Fri, 17 Aug 2012 11:48:36 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Add in padUsers HTTP API call (#957)\nI needed the list of users this time, so I got it. There are docs\nand everything.\nYou can merge this Pull Request by running:\n  git pull https://github.com/MarkTraceur/etherpad-lite hook/http/padUsers\nOr view, comment on, or merge it at:\n  https://github.com/Pita/etherpad-lite/pull/957\nCommit Summary\nAdd in padUsers HTTP API call\nFile Changes\nM doc/api/http_api.md (4)\n  M src/node/db/API.js (1)\n  M src/node/handler/APIHandler.js (1)\n  M src/node/handler/PadMessageHandler.js (23)\nPatch Links\nhttps://github.com/Pita/etherpad-lite/pull/957.patch\n  https://github.com/Pita/etherpad-lite/pull/957.diff\n```\n          \u2014\n      Reply to this email directly or view it on GitHub.\n\n```\n. happy to see a pull request with this in.\n. I can sort it on Wed. Can anyone pull to both before then?\nWikinaut notifications@github.com wrote:\nI confirm that it was successfully tested today on the IE8 browsers which do not work without this patch.\nI recommend this pull request even as a hot fix for the master branch\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/958#issuecomment-7864747\n. Yeah that will do.  Its juat a pain for me cause the github app cant handle pull requests\nWikinaut notifications@github.com wrote:\nJohnyma22 wrote:\n\nCan anyone pull to both before then.\nJohn, do you mean a formal github pull request between my fix-i8-... branch and EPL master? If your answer is \"yes\", I will do this evening.\n\nOtherwise please can explain what you want me to do? Thanks in advance.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/958#issuecomment-7866436\n. Ping me once you have spoken to him and resolved this.\n. done\nDate: Mon, 27 Aug 2012 12:00:24 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nCC: john@mclear.co.uk\nSubject: Re: [etherpad-lite] Fix ie8 native xmlhttp support disabled issues (#958)\nsee https://github.com/Pita/etherpad-lite/pull/961 against master\n```\n          \u2014\n      Reply to this email directly or view it on GitHub.\n\n```\n. @MarkTraceur if you still feel this is important feel free to whack a fix in :)  Thanks\n. @marcelklehr I'm concerned w/ waiting on 2.x so I'm going to investigate the possibility of adopting 3.x into develop after we do a merge into master. \n. The color wheel we adopted is similar to the one adopted my browsers, it should be pretty common place soon.  If you want to replace it create a plugin.\n. Sure, just go into /admin/plugins and install any that alters the front end..  I feel like I made a video showing how to make an example plugin too?  http://youtube.com/johnyma22\nDate: Thu, 30 Aug 2012 14:35:02 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nCC: john@mclear.co.uk\nSubject: Re: [etherpad-lite] Colorwheel for picking author colors is UX overkill (#965)\nA plugin sounds good, wasn't aware this is possible now. I imagine it should be quite trivial. But the documentation https://github.com/Pita/etherpad-lite/blob/master/README.plugins is too basic for me to start creating a plugin. Is there a sample frontend-plugin somewhere?\n```\n          \u2014\n      Reply to this email directly or view it on GitHub.\n\n```\n. http://server/api/1/deletePad(pad:0lviNW3mk2)?apikey=secretdoesn't look right to me.\nhttp://server/api/1/deletePad?padID=0lviNW3mk2&apikey=secretwould seem more sane but I didn't rtfm so can't be sure.\nDate: Fri, 31 Aug 2012 00:47:26 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Error deleting Pad (#966)\nHi,\ni have a issue with deleting a Pad.\nHow is descriped in the httpapi i use this command:\nhttp://server/api/1/deletePad(pad:0lviNW3mk2)?apikey=secret\nand i get this error:\n{\"code\":3,\"message\":\"no such function\",\"data\":null}\nMean this error, that he cant find this command deletePad?\nI hope someone can help me.\ncheers worcas\n```\n          \u2014\n      Reply to this email directly or view it on GitHub.\n\n```\n. Doh I merged the first pull request because that was available, please update this one\n. What OS / flavor?  \nDate: Mon, 3 Sep 2012 05:14:10 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nSubject: Re: [etherpad-lite] Loading endlessly (#971)\nI tried node 0.8.8 first, then switched back to version 0.6.21 and forth again - makes no difference. \nWe had a working etherpad-lite with 0.6.6, which also sometimes made troubles with \"Loading\" endlessly. \nUpdate required an additional npm cache clean jshint . Switched back to dirty DB for testing.\nServer rebooted completely. \nHow can I test, if etherpad-lite is connecting correctly to the node module and the sockets?\n```\n          \u2014\n      Reply to this email directly or view it on GitHub.\n\n```\n. Note beta.etherpad.org running latest develop\n. I actually think this is an issue for ueberDB\nhttps://github.com/Pita/ueberDB\nPlease create an issue there :)\n. https://github.com/Pita/ueberDB/wiki/MySQL-Sockets & https://github.com/Pita/etherpad-lite/wiki/How-to-use-Etherpad-Lite-with-MySQL\n. The table etherpad-lite.store  doesn't exist..\nIt looks like you missed this step\ncreate databaseetherpad-lite;\n. Before you posted./..\n[2014-06-08 19:01:39.325] [ERROR] console - Error: Unknown database 'etherpad'\nBut you created a database\netherpad-lite\nYour config file contains etherpad but your database is called etherpad-lite\n. ECONNREFUSED means your database isn't listening properly..\nTry change localhost to 127.0.0.1\n. Massive improvement so far, will close this and open a new issue for sketchspace :)\n. It looks like ep_fileupload is also broken, I can't install it on windows anyway the output\n\nPlease wait: undefined: undefined\nduring plugin installation is a bit of an issue imho\n. Trying to install ep_disable_change_author_name returned:\n\n[2012-09-12 15:05:33.001] [INFO] socket.io - handshake authorized 'f5vorLRkP8OWzMVkzFaD'\n[2012-09-12 15:05:37.377] [ERROR] console - (node) warning: possible EventEmitter memory leak detected. 11 listeners added. Use emitter.setMaxListeners() to increase limit.\n[2012-09-12 15:05:37.383] [ERROR] console - Trace\n    at EventEmitter.addListener (events.js:168:15)\n    at EventEmitter.withNpm (C:\\temp\\etherpad-lite\\node_modules\\ep_etherpad-lite\\static\\js\\pluginfw\\installer.js:9:9)\n    at process.startup.processNextTick.process._tickCallback (node.js:244:9)\nnpm http GET https://registry.npmjs.org/ep_disable_change_author_name\nnpm http 304 https://registry.npmjs.org/ep_disable_change_author_name\n\n. So I think this issue is due to certain plugins being broken, can anyone compare a few plugins to see what might be causing the break?  The express server stuff seems to work great tho! @cweider @redhog\n. Are you using http://localhost:9001 ? If so, why?  Use the IP.  So is Nginx the cause of this or?  \n@goldquest please give me EXACT steps to replicate this problem\n. Okay, does it also happen on public pads that are in iframes?  That would remove the majority of your replication requirements..\n. So actual steps to replicate..\nPut a pad in an iframe..  IE\n<iframe src=\"http://beta.etherpad.org/p/pm7A2EnBzO\" width=800px height=800px></iframe>\nclick import/export, select a file and click import\nExample page to replicate: http://beta.etherpad.org/static/test.html\n. What OS and what version of node/npm? And what is your git rev?  tmpDir afaik is used in latest develop.  Please note that this is a separate issue @goldquest and is way more serious than the title issue..  @joker-x\n. @goldquest see http://nodejs.org/\n@joker-x you are going to have to tell users to upgrade if they aren't using node 8 afaik.  I'm not sure what point os.tmpDir was introduced but afaik ti wasn't available in 6\n. @goldquest Please read the INSTALL docs.\n. Can anyone running with HTTPS in front of their instance (IE proxy by apache or so) test this please?\nThanks\n. You are running latest develop?\n. Weird cause I drop based on ?..\n. works fine\n```\nvar pad_root_url = \"http://test.com/p/foo?naked=true\";\nundefined\n\nvar pad_root_url = pad_root_url.substring(0, pad_root_url.indexOf('?'));\nundefined\nconsole.log(pad_root_url);\nhttp://test.com/p/foo\n```\n\ndoesnt work\n```\n\nvar pad_root_url = \"http://test.com/p/g.rTq5Oe6kh7zaVlsI$something2\";\nundefined\nvar pad_root_url = pad_root_url.substring(0, pad_root_url.indexOf('?'));\nundefined\nconsole.log(pad_root_url);\nundefined\n```\n\nheh it's obvious why this is broken..  fixing\n. Try now please\n. So this can be closed or?\n. So import is working but now it's hanging after successful import or?\n. I will forward to the plugin author.\nDate: Tue, 4 Sep 2012 06:07:50 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Sketchpad plugin fix (#978)\nHi guys,\nI posted an offer on gun.io for a (hopefully quick) fix of the sketchpad plugin: http://gun.io/open/66/\nAppearently gun.io is only working for US residents, but I am happy to work with anyone who is willing and able to help me out.\nTime for me is running out, so if you have time and want to give it a go please let me know.\n```\n          \u2014\n      Reply to this email directly or view it on GitHub.\n\n```\n. see https://github.com/johnmclear/ep_draw\n. Good point..  Will sort ASAP\nDate: Tue, 4 Sep 2012 09:47:40 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nCC: john@mclear.co.uk\nSubject: Re: [etherpad-lite] Add getAuthorName API endpoint (#979)\nhow about docs? :)\n```\n          \u2014\n      Reply to this email directly or view it on GitHub.\n\n```\n. le done\nFrom: john@mclear.co.uk\nTo: reply@reply.github.com\nSubject: RE: [etherpad-lite] Add getAuthorName API endpoint (#979)\nDate: Tue, 4 Sep 2012 16:48:50 +0000\nGood point..  Will sort ASAP\nDate: Tue, 4 Sep 2012 09:47:40 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nCC: john@mclear.co.uk\nSubject: Re: [etherpad-lite] Add getAuthorName API endpoint (#979)\nhow about docs? :)\n```\n          \u2014\n      Reply to this email directly or view it on GitHub.\n\n```\n. Are you able to do the bumps and issue a new pull request please?\n. done.\nDate: Fri, 14 Sep 2012 06:41:47 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nCC: john@mclear.co.uk\nSubject: Re: [etherpad-lite] Update inline with latest develop - Mostly bugfixes (#980)\nWe never bumped the release version in package.json: https://github.com/Pita/etherpad-lite/blob/develop/src/package.json shame\n```\n          \u2014\n      Reply to this email directly or view it on GitHub.\n\n```\n. Thanks Marcel, I was struggling to get this done in a timely fashion.  Apologies\n. I'm pro this patch but I'm not in a position to approve/disagree with the pull request.  I want someone w/ more experience of recently working w/ the API to share their thoughts :)\n. Just to confirm, this wont break any current existing functionality/API request/responses will it?\n. Is abiword installed?\n. what version of node are you running?\n. git checkout develop\n. nop, you are now on develop, try bin/run.sh\n. I have seen this when the etherpad site is behind a reverse proxy/something that puts https in front of etherpad.  The import iframe gets boggled.\n. I can't replicate this bug at all :(  I'm using ubuntu\nAny chance I can get ssh into either of these dev boxes to see if I can debug?  It sounds environment specific.\n. I have access to his box and I just imported 2 different .doc's fine using Chrome and IE however IE returned   as a JS error\n. Done :)\n. I spent some time on this and saw the error which I think may be caused by timeouts/long uploads.\nI tried to upload the same file locally to the same running instance and it worked fine.\nMy next test is to create a large document, get it to error locally and realize what the timeout is.\n. Bug is due to MS word messing up a line and abiword unable to import it.  It's actually a bug w/ abiword.\nDocument still imports fine but returns error to EPL which is correct behavior:\n\nI suggest filing this as a bug on the abiword: http://www.abisource.com/support/bugs/\nBut first try to run your document through the command line to see what that outputs.  It could be the way we handle the stdout to abiword is causing confusion :)\n. ILIAS-plugin?\nDate: Fri, 14 Sep 2012 10:27:34 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nCC: john@mclear.co.uk\nSubject: Re: [etherpad-lite] Import fails. Log: [ERROR] console - ^[[39mpath.existsSync is now called fs.existsSync. (#985)\nHi John,\nDevelop-git runs now on my production-server. But not with the ILIAS-Plugin.\nCheers,\nWolfgang\nAm 13.09.12 23:54 schrieb \"John McLear\" unter notifications@github.com:\n\nBug is due to MS word messing up a line and abiword unable to import it.  It's\nactually a bug w/ abiword.\nDocument still imports fine but returns error to EPL which is correct\nbehavior:\nhttp://i.imgur.com/PluB9.png\n\u2039\nReply to this email directly or view it on GitHub\nhttps://github.com/Pita/etherpad-lite/issues/985#issuecomment-8544977 .\n\n```\n          \u2014\n      Reply to this email directly or view it on GitHub.\n\n```\n. ah, I see, okay well I think that ILIAS plugin will just need some polishing.\n. Please tweak this ASAP and we might be able to get it into 1.1.2\n. Confirmed this bug only exists on Windows\n\nAttempt to load undefined module.\n[Break On This Error]   \ndoctype html\nfoo (line 2)\n\"NetworkError: 404 Not Found - http://127.0.0.1:9001/p/pluginfw/plugin-definitions.json\"\nplugin...ns.json\nFailed to load plugin-definitions: Not Found\nanonymous()foo (line 38)\nanonymous()foo (line 14)\nanonymous()foo (line 14)\nw()foo (line 14)\nanonymous()foo (line 14)\n\n\n\n. Is this a @redhog issue then?\n. Thanks @cweider fix confirmed working\n. EADDRINUSE means socket can't bind to the port it wants to bind to.  Somethign else is running on that port.  Make sure you killall running node instances and investigate.\n. @cweider any update?\n. This needs to be a plugin please :)\n. Off topic request: Rename datatables to \"Table Support\" or something.  Imho datables confusing.\n. Pull request tested okay.\nExternal to this pull request and appear to be issues w/ the plugin:\nPutting text in doesn't put it into the table cell it puts it in as \n\n{\"payload\":[[\" \n\",\" y\",\" \n\"}\n{\"payload\":[[\" aww\",\" \n\",\" \n\"}\n\nServer required restart to make plugin work\nTable button is pretty ugly :(\nIt's tough to lose focus of the table drop down, I expect clicking int he pad will do this?\nIt's sometimes tought to know which table I'm adjusting the properties of..\n. Can someone do a quick code review on this pull request and let me know if it looks okay to merge?\nCheers :)\n. I think Egil will need to respond to \nhttps://github.com/Pita/etherpad-lite/issues/986\n. \"Table functionality\" ? \nI think the keywords are:\nSpreadsheet/Table/Rows/Columns/Cells so pick from them :)\n. Pulling this means that table support could be a reality in 1.2 (installed by a plugin) and 1.2 is due to be released very soon (100% this month and 90% this week, 20% today.) \n. I pulled your hooks into 1.1.2 so it's going to be supported as a plugin in the new version of EPL :) Congrats!\nDate: Fri, 14 Sep 2012 16:47:33 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nCC: john@mclear.co.uk\nSubject: Re: [etherpad-lite] Added hooks and made some ace functions available to editorInfo Object  (#992)\n@marcelklehr. Ok I i'll make a new pull request for the docs.\n@johnyma22. I will go with ep_tables. Exciting to hear that it could be included in your next version. Hopefully people will send us feedback and suggestion soon enough.\n```\n          \u2014\n      Reply to this email directly or view it on GitHub.\n\n```\n. Tested Ok, good job :)\n. @lepidum can you please look at the bug this introduced?  #1032\n. @lepidum I'm going to revert this change if it isn't resolve w/ in 48 hours.\n. Great news @marcelklehr Congrats @lepidum looking forward, we might even bump to 1.1.5 today..  Damn our eagerness to release.\n. Well spotted & \nThis pull request cannot be automatically merged. :(\nMajor sigh..  I'm really busy now for the next ~48 hours so if anyone else can take a look at this that'd be awesome\n. Me and @analphabet going to work on getting the express stuff tomorrow.\nIf anyone can take a look before then that'd be great :)\nDate: Sat, 15 Sep 2012 11:00:32 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nCC: john@mclear.co.uk\nSubject: Re: [etherpad-lite] Release 1.1.2 (#1000)\nSo, before we pull this, I think the following should be done:\nfix #989 (@cweider)\nadd in the docs for #992 (@gedion)\nfix #964\n```\n          \u2014\n      Reply to this email directly or view it on GitHub.\n\n```\n. @gedion any update yet? :)\n. I don't think they arrived in time did they?\n. Yea, agreed but imho the docs would be best written by @gedion \n. No reason why not :) \n. Please issue the pull request against develop not master.\n. Don't pull this it breaks a lot of things.\n. @marcelklehr any chance you can update range so I can pull this in please?\n. Heh....\n. Well have a think about it and submit a new pull request, if it's okay with you we can hold this off until 1.1.3 but it can go into develop earlier :) \n. @cweider @yourcelf so what's the conclusion/status on this pull request.\n. I feel like the security aspect of colors should be a separate pull request/resolution and as this doesn't affect current security issues I'm going to pull it.\n. Added parms to jQuery plugin https://github.com/johnyma22/etherpad-lite-jquery-plugin\n. I assume that question is for @yourcelf ?\n. Hehe, @marcelklehr gets grumpy if you don't submit docs or pollute git history.  I get grumpy if bug reports aren't verbose enough.  We're a village of grumpy idiots ;)\n. This needs to be tested w/ some plugins that use the ACE hooks\n. testing now.\n. Installing headings plugin returns\n[2012-09-20 16:43:46.004] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"uHzoMvfZ0NOY7NnDGgSS\",\"msg\":\"Uncaught TypeError: Cannot call method 'setChannelState' of null\",\"url\":\"http://10.0.0.208:9001/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define\",\"linenumber\":3,\"userAgent\":\"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.64 Safari/537.4\"}\nRestarting Etherpad Lite fixes this.  This may not be an issue w/ this pull request.  Hold for confirmation.  Nope I didn't get the error on develop branch so could this be a new bug introduced w/ this pull request?\nTo replicate..\n- Clone\n- Checkout branch\n- Change settings.json uncommenting user/passwd block\n- Start server\n- Access pad\n- Visit /admin/plugins\n- Enable headings plugin\n- Visit pad\n- F5. (See error)\nRestart server, error gone. \nOn current develop restart is not required.\n. @cweider is this ready to be tested again?\n. Okies will test now.\n. Same problem exists but as stated it's a problem in develop so I will merge this into develop and we can try to fix the plugin restart issue :)\n. I thought we already have an open issue for this, I can confirm this bugs existence since we introduced numbered lists.\n. checkout develop and it should work but it's really buggy, waiting on @gedion to push some fixes\n. There are still various fixes required before it can be closed.\n. Did package.json get updated?  It doesn't look like it did...\n. Well it seems to be running fine..\n. I will let @eldiddio submit a fix.  .foreach doesn't work btw, has to be .forEach (or so it seems) . Oh and the error did occur, every time there was a single session it crashed the server\n. @eldiddio please pull and make sure it's working as you expect.\n. What's the case here?  How does this issue #916?  \nTa\n. bump @ulikoehler\n. Final bump for @ulikoehler \n. \ngit clone latest\ngit bisect start\ngit bisect bad\ngit checkout %INSERT OLD GIT REVISION #%\n\n-- TEST THE FUNCTIONALITY & If it works:\n\ngit bisect good\n\nIf it's not good try an even older git revision.\nRinse, repeat until you find the commit that broke the functionality.\nI \"really\" want to spend time doing automated tests, it's something I'm passionate to see happen.\nFurther reading: http://webchick.net/node/99\n. prolly develop.  Either way develop tracks masters commits so you always have the same commits on the develop branch.\n. I updated the issue title to suit.\n. I went to write tests for this but sendkeys doesn't support the tab keypress so I'm waiting on that\n. @marcelklehr if you do npm install yajsml what version does it install?\n. I assume 1.1.4 doesn't fix the bug?\n. Great :) Go @cweider good job and thanks to everyone involved in this really fussy issue :)\n. Do you want me to test this today?\n. okay mate good job I will test this today for you :) \n. installed headings lpugin and express doesn't appear to have restarted, Installed help bubble and It says express restarted but the UI hasn't been updated\n\n[2012-09-22 17:55:37.168] [INFO] console - Restarting express server\n[2012-09-22 17:55:37.171] [INFO] console -    info  - 'socket.io started'\n\nBut no buttons on teh screen..\nRestarting Etherpad Lite fixes this :)  So yea, just looks like there is an issue w/ redrawing the UI after enabling plugins.\n. Also enable a plugin then click left paginate or right paginate, nothing happens.\n. I can't remember if it's @cweider or @redhog that wrote the templating/restart express stuff, perhaps they could have some valuable input?  I still want to realize this in it's current form because afaik current master doesn't even have server restart on plugin install.\n. After speaking with @redhog he suggested writing a really simple plugin to test this.  I will talk more with him about the type of plugin etc and see if I can get something more concrete over the next week or so.\n. Can you investigate to see what transport the user is connected with?\nIE Flashsocket, xhr, websocket, yada yada\nThis may be enlightening: http://serverfault.com/questions/286960/does-it-make-sense-to-reverse-proxy-node-js-through-apache\n. Is jsonp the only transport we support or something?\n. My advice would be to setup a dev environment w/ a socket io connection forced as jsonp transport and see if you can replicate outside of etherpad lite.  If you need help just ask.  It should be very simple to do as you only need to assign one config to socket.io\n. Well addressed and well documented +1 for people to support this useful tool :)\n. Which branch are you running?\n. @marcelklehr Do you know if this got fixed in express-v3?\n. Tested seems fixed :)\n. This looks good thanks, I will review ASAP and get back to you :)\n. Ah it's very short, all looks good to me, @marcelklehr do you want to have any input on the code?  I'm happy to pull if you are :)\n. I'm back online later today to debug\nplease test clearing browser cache and different browsers\nplease test rm -RF src/node_modules\nplease test without a reverse proxy\nWe did test prior to release so I obviously missed something here\nTim te Beek notifications@github.com wrote:\nSame issue is happening here.. Used the recommended way to install on Ubuntu 12.04 using MySQL as a database store.\netherpad@brs:/opt/etherpad/etherpad-lite$ git pull\nremote: Counting objects: 106, done.\nremote: Compressing objects: 100% (44/44), done.\nremote: Total 86 (delta 61), reused 66 (delta 41)\nUnpacking objects: 100% (86/86), done.\nFrom git://github.com/Pita/etherpad-lite\n   b2c06e7..a2394fc  master     -> origin/master\n   6f37de2..3578e36  develop    -> origin/develop\n   2cd586e..a2394fc  releases-1.1.2 -> origin/releases-1.1.2\nUpdating b2c06e7..a2394fc\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/1029#issuecomment-9011861\n. Which reverse proxy?\nDo you have a rewrite rule for /javascripts ? The simple Apache rule needs updating.\nTim te Beek notifications@github.com wrote:\n@johnyma22 Thanks for the quick reply!\nI did as you said and Etherpad did work when I tested in Chrome & Firefox without my Apache reverse proxy on releases-1.1.2, so that seems related to the issue. Hope it helps & thanks for looking into it.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/1029#issuecomment-9012021\n. Okay I gotta drop some people off and get lunch but I will take a look later today\nTim te Beek notifications@github.com wrote:\nHere's my Apache config, which is working for 1.1.1, but has diverged from the recommended setup:\nhttps://github.com/Pita/etherpad-lite/wiki/How-to-put-Etherpad-Lite-behind-a-reverse-Proxy\n```\nReverse proxy to forward /eplite/ to Node.js & Etherpad\nhttp://httpd.apache.org/docs/2.2/mod/mod_proxy.html\nProxyPass           /eplite/    http://localhost:9001/ retry=15\nProxyPassReverse    /eplite/    http://localhost:9001/\nBase URL for etherpad is /eplite/ http://5.9.14.204/eplite/p/test\n\n    ## First, all Deny directives are evaluated; if any match, the request is denied unless it also matches an Allow directive.\n    ## Any requests which do not match any Allow or Deny directives are permitted.\n    Order deny,allow\n    Deny from all\n    Satisfy any\n\n\n    ## Only team members should be able to access the api\n    Require group admin\n\nAllowed URLs taken from https://github.com/Pita/etherpad-lite/wiki/How-to-put-Etherpad-Lite-behind-a-reverse-Proxy\n\n    ## Allow anyone to access these resources without logging in\n    ## This is required when we want some public external pads\n    Allow from all\n\n... further directives to restrict and allow access to certain pads based on prefixes ...\n```\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/1029#issuecomment-9012141\n. Working on this now.\n. So 2 things I discovered.\n1) The path to the loadingbar.gif is absolute and should be relative.  <-- Very easy fix.\n2) The way we're loading in ace2_common is also using an absolute path of //javascripts -- I shouldn't of merged it w/ out testing relative paths so -1 points for me :)   @cweider \nI should be able to get a fix out for this but if anyone can do it quicker that is more familiar w/ the code then feel free :)\nOkay yep @cweider 49915dfeb8627e28104aee666eec019646eea5ef is the guilty commit and it's in a module you maintain so are you okay to fix?\n. any update @cweider ?\n. https://github.com/Pita/etherpad-lite/wiki/How-to-put-Etherpad-Lite-behind-a-reverse-Proxy looks fine..  What am I missing?\n. Tested the Apache simple config and it's working great.\n. Thanks @gedion as soon as the descriptions are in we will Merge this :) No worries on the delays, things take time we understand :) \n. I'd say it's really premature, does the functionality even work?  Last time I tested it I could break it in seconds.\nDate: Mon, 1 Oct 2012 14:54:35 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nCC: john@mclear.co.uk\nSubject: Re: [etherpad-lite] Update docs for new hooks and ace exposures (#1031)\nWill do. Hey is now a good time to ask if my partner and I could claim\nthis? : )\nhttp://gun.io/contracts/8/add-table-support-to-etherpad-lite\nOn Mon, Oct 1, 2012 at 3:06 PM, John McLear notifications@github.comwrote:\n\nThanks @gedion https://github.com/gedion as soon as the descriptions\nare in we will Merge this :) No worries on the delays, things take time we\nunderstand :)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/Pita/etherpad-lite/pull/1031#issuecomment-9047592.\n\n```\n          \u2014\n      Reply to this email directly or view it on GitHub.\n\n``\n. @gedion I think once it's install-able via the UI then the gun.io is good to claim :)\n. Still some major issues with styling and I'd like to see some tests if possible :)\n. There also appears to be a lack of closing </iframe> on the embed link?\n. I have embedded a pad on mclear.co.uk from beta.etherpad.org and it seems to be working fine.\nhttp://mclear.co.uk/2010/01/02/old-test/\n. It also turns out this bug is browser specific..  Firefox only...  \n. <pre>\nPermission denied to access property 'inInternationalComposition'\n[Break On This Error]   \nif (window.parent.parent.inInternationalComposition) return;\n</pre>\n. Caused by https://github.com/Pita/etherpad-lite/commit/71c9444694aea1d5f931963bb57f065b2b54efbd#commitcomment-1931434\n. Should be solved.  Please:git pull develop`\nLet me know if it doesn't work out for you\n. Looks good to me will let @marcelklehr take a look before merging\n. Yep I spotted that when looking in your git repo, it's a bit spartan at the mo tho ;)\n. Great I'm looking forward to it.  Out of interest did you look at any of the great natural language libraries available for node?  More specifically https://github.com/NaturalNode/natural\n. @cweider feel free to merge this if you are happy with it.  Basic tests shows it works fine.\n. The plugin is broken, I don't think this is the right place to file issues for plugins but I could be wrong.. \nDate: Tue, 2 Oct 2012 16:47:19 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Cant install file_upload plugin on windows (#1036)\nI cannot seem to get any plugins to install on windows.  Log below.\nSteps to reproduce:\nUnpack Pita-etherpad-lite-1.1.2-0-ga2394fc.zip\nInstall Node v0.8.11 on windows\nRun bin\\installOnWindows.bat\nEdit Settings file and uncomment admin account.\nRun start.bat\nBrowse to http://localhost:9000/admin/plugins\nLocate file_upload plugin and click install\nOutput below.\nRe-ran start.bat and file upload plugin does not appear to be installed.\nFetching results...\nC:\\Users\\Administrator.npmrc: config file\nC:\\Program Files (x86)\\nodejs\\etc\\npmrc: config file\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_etherpad-lite\\node_modules\\npm\\npmrc: config file\n/-/all/since?stale=update_after&startkey=1349220185000: raw, before any munging\nhttps://registry.npmjs.org/,./-/all/since?stale=update_after&startkey=1349220185000: url resolving\nhttps://registry.npmjs.org/-/all/since?stale=update_after&startkey=1349220185000: url resolved\nhttps://registry.npmjs.org/-/all/since?stale=update_after&startkey=1349220185000: GET\n200 https://registry.npmjs.org/-/all/since?stale=update_after&startkey=1349220185000: undefined\nDone.\nDownloading and installing ep_authornames...\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_etherpad-lite\\package.json: from cache\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_etherpad-lite\\package.json: from cache\nep_authornames,: cache add\nep_authornames,: cache add\n,ep_authornames,ep_authornames,: cache add: name, spec, args\n,ep_authornames,ep_authornames,: cache add: name, spec, args\nobject Object: parsed url\nobject Object: parsed url\nep_authornames,: addNamed\nep_authornames,: addNamed\n,: addNamed\n,: addNamed\nep_authornames,,false: name, range, hasData\nep_authornames,,false: name, range, hasData\nep_authornames: raw, before any munging\nep_authornames: raw, before any munging\nhttps://registry.npmjs.org/,./ep_authornames: url resolving\nhttps://registry.npmjs.org/,./ep_authornames: url resolving\nhttps://registry.npmjs.org/ep_authornames: url resolved\nhttps://registry.npmjs.org/ep_authornames: url resolved\nhttps://registry.npmjs.org/ep_authornames: GET\nhttps://registry.npmjs.org/ep_authornames: GET\n200 https://registry.npmjs.org/ep_authornames: undefined\n200 https://registry.npmjs.org/ep_authornames: undefined\n200,object Object: get cb\n200,object Object: get cb\nep_authornames,,true: name, range, hasData 2\nep_authornames,,true: name, range, hasData 2\nep_authornames,0.1.0: versions\nep_authornames,0.1.0: versions\n0.8-ares1.7.5-DEV-evundefined-openssl1.0.0f-v83.11.10.22-win32-ia32-6.0.6002,object Object: bin dist\n0.8-ares1.7.5-DEV-evundefined-openssl1.0.0f-v83.11.10.22-win32-ia32-6.0.6002,object Object: bin dist\nhttps://registry.npmjs.org/ep_authornames/-/ep_authornames-0.1.0.tgz,4beef702bb03b02145f2148ab96c60d0ccbc9976: addRemoteTarball\nhttps://registry.npmjs.org/ep_authornames/-/ep_authornames-0.1.0.tgz,4beef702bb03b02145f2148ab96c60d0ccbc9976: addRemoteTarball\nC:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\npm-1349221387543\\1349221387543-0.2551783050876111\\tmp.tgz: fetch to\nC:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\npm-1349221387543\\1349221387543-0.2551783050876111\\tmp.tgz: fetch to\nhttps://registry.npmjs.org/ep_authornames/-/ep_authornames-0.1.0.tgz: GET\nhttps://registry.npmjs.org/ep_authornames/-/ep_authornames-0.1.0.tgz: GET\n200 https://registry.npmjs.org/ep_authornames/-/ep_authornames-0.1.0.tgz: undefined\n200 https://registry.npmjs.org/ep_authornames/-/ep_authornames-0.1.0.tgz: undefined\n984: updated sha bytes\n984: updated sha bytes\n4beef70 C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\npm-1349221387543\\1349221387543-0.2551783050876111\\tmp.tgz: shasum\n4beef70 C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\npm-1349221387543\\1349221387543-0.2551783050876111\\tmp.tgz: shasum\nC:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\npm-1349221387543\\1349221387543-0.2551783050876111\\tmp.tgz: unpack\nC:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\npm-1349221387543\\1349221387543-0.2551783050876111\\tmp.tgz: unpack\n755,644: gunzTarPerm modes\n755,644: gunzTarPerm modes\nep.json: extracting entry\nep.json: extracting entry\nep.json,438,420: modified mode\nep.json,438,420: modified mode\npackage.json: extracting entry\npackage.json: extracting entry\npackage.json,438,420: modified mode\npackage.json,438,420: modified mode\nstatic/: extracting entry\nstatic/: extracting entry\nstatic/,438,493: modified mode\nstatic/,438,493: modified mode\nstatic/js/: extracting entry\nstatic/js/: extracting entry\nstatic/js/,438,493: modified mode\nstatic/js/,438,493: modified mode\nstatic/js/index.js: extracting entry\nstatic/js/index.js: extracting entry\nstatic/js/index.js,438,420: modified mode\nstatic/js/index.js,438,420: modified mode\nC:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\npm-1349221387543\\1349221387543-0.2551783050876111\\package\\package.json: caching\nC:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\npm-1349221387543\\1349221387543-0.2551783050876111\\package\\package.json: caching\nep_authornames@0.1.0: loadDefaults\nep_authornames@0.1.0: loadDefaults\nC:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\npm-1349221387543\\1349221387543-0.2551783050876111\\package\\package.json: from cache\nC:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\npm-1349221387543\\1349221387543-0.2551783050876111\\package\\package.json: from cache\nC:\\Users\\Administrator\\AppData\\Roaming\\npm-cache\\ep_authornames\\0.1.0\\package.tgz,C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\npm-1349221387543\\1349221387543-0.2551783050876111\\package: tar.pack\nC:\\Users\\Administrator\\AppData\\Roaming\\npm-cache\\ep_authornames\\0.1.0\\package.tgz,C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\npm-1349221387543\\1349221387543-0.2551783050876111\\package: tar.pack\nC:\\Users\\Administrator\\AppData\\Roaming\\npm-cache\\ep_authornames\\0.1.0\\package.tgz: tarball\nC:\\Users\\Administrator\\AppData\\Roaming\\npm-cache\\ep_authornames\\0.1.0\\package.tgz: tarball\nC:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\npm-1349221387543\\1349221387543-0.2551783050876111\\package: folder\nC:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\npm-1349221387543\\1349221387543-0.2551783050876111\\package: folder\nC:\\Users\\Administrator\\AppData\\Roaming\\npm-cache\\ep_authornames\\0.1.0\\package.tgz: unpack\nC:\\Users\\Administrator\\AppData\\Roaming\\npm-cache\\ep_authornames\\0.1.0\\package.tgz: unpack\n755,644: gunzTarPerm modes\n755,644: gunzTarPerm modes\npackage.json: extracting entry\npackage.json: extracting entry\npackage.json,438,420: modified mode\npackage.json,438,420: modified mode\nep.json: extracting entry\nep.json: extracting entry\nep.json,438,420: modified mode\nep.json,438,420: modified mode\nstatic/js/index.js: extracting entry\nstatic/js/index.js: extracting entry\nstatic/js/index.js,438,420: modified mode\nstatic/js/index.js,438,420: modified mode\nC:\\Users\\Administrator\\AppData\\Roaming\\npm-cache\\ep_authornames\\0.1.0\\package\\package.json: caching\nC:\\Users\\Administrator\\AppData\\Roaming\\npm-cache\\ep_authornames\\0.1.0\\package\\package.json: caching\nep_authornames@0.1.0: loadDefaults\nep_authornames@0.1.0: loadDefaults\n927: updated sha bytes\n927: updated sha bytes\n13c9f22 C:\\Users\\Administrator\\AppData\\Roaming\\npm-cache\\ep_authornames\\0.1.0\\package.tgz: shasum\n13c9f22 C:\\Users\\Administrator\\AppData\\Roaming\\npm-cache\\ep_authornames\\0.1.0\\package.tgz: shasum\nC:\\Users\\Administrator\\AppData\\Roaming\\npm-cache\\ep_authornames\\0.1.0\\package\\package.json: from cache\nC:\\Users\\Administrator\\AppData\\Roaming\\npm-cache\\ep_authornames\\0.1.0\\package\\package.json: from cache\n644: chmod C:\\Users\\Administrator\\AppData\\Roaming\\npm-cache\\ep_authornames\\0.1.0\\package.tgz\n644: chmod C:\\Users\\Administrator\\AppData\\Roaming\\npm-cache\\ep_authornames\\0.1.0\\package.tgz\nC:\\Users\\Administrator\\AppData\\Roaming\\npm-cache\\ep_authornames\\0.1.0\\package.tgz: skipping chown for windows\nC:\\Users\\Administrator\\AppData\\Roaming\\npm-cache\\ep_authornames\\0.1.0\\package.tgz: skipping chown for windows\nep_authornames@0.1.0: into C:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\nep_authornames@0.1.0: into C:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\nep_authornames@0.1.0: installOne\nep_authornames@0.1.0: installOne\nC:\\Users\\Administrator\\AppData\\Roaming\\npm-cache\\ep_authornames\\0.1.0\\package\\package.json: from cache\nC:\\Users\\Administrator\\AppData\\Roaming\\npm-cache\\ep_authornames\\0.1.0\\package\\package.json: from cache\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_authornames: unbuild\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_authornames: unbuild\nC:\\Users\\Administrator\\AppData\\Roaming\\npm-cache\\ep_authornames\\0.1.0\\package.tgz: unpack\nC:\\Users\\Administrator\\AppData\\Roaming\\npm-cache\\ep_authornames\\0.1.0\\package.tgz: unpack\n755,644: gunzTarPerm modes\n755,644: gunzTarPerm modes\npackage.json: extracting entry\npackage.json: extracting entry\npackage.json,438,420: modified mode\npackage.json,438,420: modified mode\nep.json: extracting entry\nep.json: extracting entry\nep.json,438,420: modified mode\nep.json,438,420: modified mode\nstatic/js/index.js: extracting entry\nstatic/js/index.js: extracting entry\nstatic/js/index.js,438,420: modified mode\nstatic/js/index.js,438,420: modified mode\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_authornames\\package.json: caching\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_authornames\\package.json: caching\nep_authornames@0.1.0: loadDefaults\nep_authornames@0.1.0: loadDefaults\nep_authornames@0.1.0: preinstall\nep_authornames@0.1.0: preinstall\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_authornames\\package.json: from cache\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_authornames\\package.json: from cache\nreadDependencies: using package.json deps: undefined\nreadDependencies: using package.json deps: undefined\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_authornames\\package.json: from cache\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_authornames\\package.json: from cache\nreadDependencies: using package.json deps: undefined\nreadDependencies: using package.json deps: undefined\nep_etherpad-lite@1.0.x,: cache add\nep_etherpad-lite@1.0.x,: cache add\n,ep_etherpad-lite@1.0.x,ep_etherpad-lite@1.0.x,: cache add: name, spec, args\n,ep_etherpad-lite@1.0.x,ep_etherpad-lite@1.0.x,: cache add: name, spec, args\nobject Object: parsed url\nobject Object: parsed url\nep_etherpad-lite,1.0.x,ep_etherpad-lite,1.0.x: cache add: name, spec, args\nep_etherpad-lite,1.0.x,ep_etherpad-lite,1.0.x: cache add: name, spec, args\nobject Object: parsed url\nobject Object: parsed url\nep_etherpad-lite,1.0.x: addNamed\nep_etherpad-lite,1.0.x: addNamed\n,>=1.0.0- \n,>=1.0.0- \nep_etherpad-lite,>=1.0.0- \nep_etherpad-lite,>=1.0.0- <1.1.0-,false: name, range, hasData\nep_etherpad-lite: raw, before any munging\nep_etherpad-lite: raw, before any munging\nhttps://registry.npmjs.org/,./ep_etherpad-lite: url resolving\nhttps://registry.npmjs.org/,./ep_etherpad-lite: url resolving\nhttps://registry.npmjs.org/ep_etherpad-lite: url resolved\nhttps://registry.npmjs.org/ep_etherpad-lite: url resolved\nhttps://registry.npmjs.org/ep_etherpad-lite: GET\nhttps://registry.npmjs.org/ep_etherpad-lite: GET\n404 https://registry.npmjs.org/ep_etherpad-lite: undefined\n404 https://registry.npmjs.org/ep_etherpad-lite: undefined\n404,object Object: get cb\n404,object Object: get cb\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_authornames: about to build\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_authornames: about to build\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_authornames: unbuild\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_authornames: unbuild\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_authornames\\package.json: from cache\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_authornames\\package.json: from cache\nep_authornames@0.1.0: preuninstall\nep_authornames@0.1.0: preuninstall\nep_authornames@0.1.0: uninstall\nep_authornames@0.1.0: uninstall\ntrue,C:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules,C:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules: unbuild ep_authornames@0.1.0\ntrue,C:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules,C:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules: unbuild ep_authornames@0.1.0\nep_authornames@0.1.0: postuninstall\nep_authornames@0.1.0: postuninstall\nundefined: undefined\nDownloading and installing ep_copypad...\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_etherpad-lite\\package.json: from cache\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_etherpad-lite\\package.json: from cache\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_etherpad-lite\\package.json: from cache\nep_copypad,: cache add\nep_copypad,: cache add\nep_copypad,: cache add\n,ep_copypad,ep_copypad,: cache add: name, spec, args\n,ep_copypad,ep_copypad,: cache add: name, spec, args\n,ep_copypad,ep_copypad,: cache add: name, spec, args\nobject Object: parsed url\nobject Object: parsed url\nobject Object: parsed url\nep_copypad,: addNamed\nep_copypad,: addNamed\nep_copypad,: addNamed\n,: addNamed\n,: addNamed\n,: addNamed\nep_copypad,,false: name, range, hasData\nep_copypad,,false: name, range, hasData\nep_copypad,,false: name, range, hasData\nep_copypad: raw, before any munging\nep_copypad: raw, before any munging\nep_copypad: raw, before any munging\nhttps://registry.npmjs.org/,./ep_copypad: url resolving\nhttps://registry.npmjs.org/,./ep_copypad: url resolving\nhttps://registry.npmjs.org/,./ep_copypad: url resolving\nhttps://registry.npmjs.org/ep_copypad: url resolved\nhttps://registry.npmjs.org/ep_copypad: url resolved\nhttps://registry.npmjs.org/ep_copypad: url resolved\nhttps://registry.npmjs.org/ep_copypad: GET\nhttps://registry.npmjs.org/ep_copypad: GET\nhttps://registry.npmjs.org/ep_copypad: GET\n200 https://registry.npmjs.org/ep_copypad: undefined\n200 https://registry.npmjs.org/ep_copypad: undefined\n200 https://registry.npmjs.org/ep_copypad: undefined\n200,object Object: get cb\n200,object Object: get cb\n200,object Object: get cb\nep_copypad,,true: name, range, hasData 2\nep_copypad,,true: name, range, hasData 2\nep_copypad,,true: name, range, hasData 2\nep_copypad,: versions\nep_copypad,: versions\nep_copypad,: versions\nundefined: undefined\nDownloading and installing ep_fileupload...\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_etherpad-lite\\package.json: from cache\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_etherpad-lite\\package.json: from cache\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_etherpad-lite\\package.json: from cache\nC:\\Users\\Administrator\\Desktop\\Pita-etherpad-lite-a2394fc\\node_modules\\ep_etherpad-lite\\package.json: from cache\nep_fileupload,: cache add\nep_fileupload,: cache add\nep_fileupload,: cache add\nep_fileupload,: cache add\n,ep_fileupload,ep_fileupload,: cache add: name, spec, args\n,ep_fileupload,ep_fileupload,: cache add: name, spec, args\n,ep_fileupload,ep_fileupload,: cache add: name, spec, args\n,ep_fileupload,ep_fileupload,: cache add: name, spec, args\nobject Object: parsed url\nobject Object: parsed url\nobject Object: parsed url\nobject Object: parsed url\nep_fileupload,: addNamed\nep_fileupload,: addNamed\nep_fileupload,: addNamed\nep_fileupload,: addNamed\n,: addNamed\n,: addNamed\n,: addNamed\n,: addNamed\nep_fileupload,,false: name, range, hasData\nep_fileupload,,false: name, range, hasData\nep_fileupload,,false: name, range, hasData\nep_fileupload,,false: name, range, hasData\nep_fileupload: raw, before any munging\nep_fileupload: raw, before any munging\nep_fileupload: raw, before any munging\nep_fileupload: raw, before any munging\nhttps://registry.npmjs.org/,./ep_fileupload: url resolving\nhttps://registry.npmjs.org/,./ep_fileupload: url resolving\nhttps://registry.npmjs.org/,./ep_fileupload: url resolving\nhttps://registry.npmjs.org/,./ep_fileupload: url resolving\nhttps://registry.npmjs.org/ep_fileupload: url resolved\nhttps://registry.npmjs.org/ep_fileupload: url resolved\nhttps://registry.npmjs.org/ep_fileupload: url resolved\nhttps://registry.npmjs.org/ep_fileupload: url resolved\nhttps://registry.npmjs.org/ep_fileupload: GET\nhttps://registry.npmjs.org/ep_fileupload: GET\nhttps://registry.npmjs.org/ep_fileupload: GET\nhttps://registry.npmjs.org/ep_fileupload: GET\n200 https://registry.npmjs.org/ep_fileupload: undefined\n200 https://registry.npmjs.org/ep_fileupload: undefined\n200 https://registry.npmjs.org/ep_fileupload: undefined\n200 https://registry.npmjs.org/ep_fileupload: undefined\n200,object Object: get cb\n200,object Object: get cb\n200,object Object: get cb\n200,object Object: get cb\nep_fileupload,,true: name, range, hasData 2\nep_fileupload,,true: name, range, hasData 2\nep_fileupload,,true: name, range, hasData 2\nep_fileupload,,true: name, range, hasData 2\nep_fileupload,: versions\nep_fileupload,: versions\nep_fileupload,: versions\nep_fileupload,: versions\nundefined: undefined\n```\n          \u0097\n      Reply to this email directly or view it on GitHub.\n\n```\n. Even the ep_fintest plugin fails to install.  I have asked @redhog to take a look.    I also asked wao on IRC to catalogue which do and don't work but he gave up ;\\  \nEdit: I wrote the social links plugin and you have to restart etherpad lite to make them appear.\n. Great spot @redhog is working on this at the moment :) \n. Very useful..  I'd just like to take a moment to brag.  7 of those plugins were written by yours truly.  \n1 of my other plugins (email) is broken due to the express v3 upgrade..  I need to fix this.\nI dropped @redhog an email about this today.\n. Update: https://npmjs.org/package/ep_invite_via_email should now be working.\n. FYI I fixed most of redhogs bugs, just waiting on him to npm publish or give me access to\n. We leverage NPM for modules so if you were to create a review system you should make it for node community at large.\nhttps://github.com/isaacs/npm\n. I'm closing this and encouraging people to create issues on the plugin developers repos.\n. I agree RE express-v3, testing showing it working well though but it is a brave move.  Your call though, as the author are you confident it should be okay?  I'm relatively happy\n. Thanks to @marcelklehr and http://christoph.ruegg.name/blog/2010/5/5/git-howto-revert-a-commit-already-pushed-to-a-remote-reposit.html express-v3 removed from this pull request.\n. @marcelklehr If someone wants to fix it @cweider then that's up to them.  It's not really up to me.\n. https://groups.google.com/forum/?fromgroups=#!topic/mozilla.dev.pdf-js/5Cy_Iv6o2MU\n. If you really want this, feel free to make a plugin of it :)\n. There is a github repo, surely you can mostly copy/paste?\n. Weirdly enough I was working on etherpad today and encountered the same error...  I'm trying to debug now\nEven 1.1.2 is failing..  Doing further debug\nFrom async github:\nMerge branch 'master' of github.com:caolan/async \u2026\ncommit 96a7da519a\n caolan authored 4 hours ago\nThis \"could\" be the cause..  I'm investigating further..\nConfirmed async 0.1.23  is the cause of the bug\n. Please \ngit checkout develop\nI will bump the async team about their bug.\n. Any time :) Sorry about the delay in our fix.\n. npm update\nrf -Rf src/node_modules\nbin/run.sh\nCLEAR YOUR BROWSER CACHE\n. First time I have been confronted with this UX issue.  Changing \n#outerdocbody > iframe, left:22px !important\nand \n#innerdocbody, margin-left:10px\nmight help but may break other functionality.\n@0ip may want to have some input\n. If someone wants to test this thoroughly and/or issue a pull request w/ the changes then feel free\n. Seems to be solved or at least it's super easy to select the first char of a line.  Feel free to +1 if you want it to be made easier.\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. https://github.com/JohnMcLear/ep_header_and_footer\nColumns would be part of a table plugin.\n. @cweider any idea?\n@CatoTH are you running develop or master?\n. Afaik some of this functionality this exists as a plugin.  Please review plugins.\n. Weird, when I try replicate this now I get \"disconnected\" on bad Changeset..  So yea.. Must be a socket io or something fix..  Server doesn't crash, client is disconnected (which is correct)\n. One noticeable thing here is that if you are running the server in console and get a bunch of binary data it can really break your console so that's a bad thing..\n. I cc'd @tomnomnom in this conversation.  He authored the PHP class\n. Okies, well the API is also now using version #s n stuff in requests and we brought in new API endpoints n stuff so maybe add them too..\n. @themasch You not showing windows any love RE https://github.com/Pita/etherpad-lite/blob/master/bin/installOnWindows.bat\n. Also please request pull against develop not master :) Ta\n. Absolutely my bad and my mistake.  I will be addressing this in future releases.\nApologies.\n. http://mclear.co.uk/2012/10/03/using-git-flow-to-release-new-version/\n. Please provide steps to replicate.\n. Actual steps to replicate...\nClone latest Etherpad Lite develop branch.\nCreate a PHP file called foo.php, make sure etherpad-lite-client.php is in the folder (From TomNomNom's PHP API class)\n```\n<?php\n// Include the Class\ninclude 'etherpad-lite-client.php';\n// Create an instance\n$instance = new EtherpadLiteClient('EtherpadFTW','http://beta.etherpad.org:9001/api'); // Example URL:  http://your.hostname.tld:8080/api\n// All API calls return a JSON value as documented in the API here: https://github.com/Pita/etherpad-lite/wiki/HTTP-API\n/ Example: Create Group /\ntry {\n  $createGroup = $instance->createGroup();\n  $groupID = $createGroup->groupID;\n  echo \"New GroupID is $groupID\\n\\n\";\n} catch (Exception $e) {\n  // the pad already exists or something else went wrong\n  echo \"\\n\\ncreateGroup Failed with message \". $e->getMessage();\n}\n/ Example: Create Group Pad /\ntry {\n  $newPad = $instance->createGroupPad($groupID,'testpad','Example text body');\n  $padID = $newPad->padID;\n  echo \"Created new pad with padID: $padID\\n\\n\";\n} catch (Exception $e) {\n  // the pad already exists or something else went wrong\n  echo \"\\n\\ncreateGroupPad Failed with message \". $e->getMessage();\n}\ntry {\n  $instance->setPublicStatus($padID,true); // true or false\n} catch (Exception $e) {\n  // the pad already exists or something else went wrong\n  echo \"\\n\\nsetPublicStatus Failed with message \". $e->getMessage();\n}\n/ Example: Set Password on a pad -- This only works for group pads /\ntry {\n  $instance->setPassword($padID,'aPassword');\n} catch (Exception $e) {\n  // the pad already exists or something else went wrong\n  echo \"\\n\\nsetPassword Failed with message \". $e->getMessage();\n}\n?>\n```\nRun the php file:\nphp foo.php\nCopy the PadID returned and visit\nhttp://beta.etherpad.org/p/%INSERT PAD ID HERE%\n@coopeh for future reference this is how you provide steps to replicate a bug.\n. This is labelled as \"Easy to solve\" but I spent 10 mins or so on it and couldn't figure out where the focus was going.\n. This is fixed in this branch.  I used ghetto inline JS though.  Prolly really bad practice...  https://github.com/Pita/etherpad-lite/compare/develop...fixes/focus-on-password-input\nIf someone can replicate more cleanly then please do\n. Although the password is sent in the URL which is hyperbad.\n. Fixed in https://github.com/ether/etherpad-lite/pull/1221\nTook a big rewrite of this and moved a bunch of auth stuff to the template file. \n. My assumptions are that the hidden iframe during pad download are causing the problem.  Do you have this problem on http://beta.etherpad.org\n. A screenshot would be really useful\n. Awesome thanks for documenting this bug @Wikinaut  :)\n. Good spot, I only fixed example_big.php about 20 minutes ago, it's been broken for a few weeks ;\\\n. https://github.com/TomNomNom/etherpad-lite-client/pull/13\n. This can be closed once the above pull request is accepted.\nI fixed it on beta.etherpad.org\n. This pull request cannot be automatically merged.\n@marcelklehr you can make a call on this one, it's not something I'm overly fussed about.\n. @marcelklehr @Pita Well afaik the license basically states the JS is open source, which obv it is as stated on the license in github, it seems superfluous to me.  @MarkTraceur do you feel strongly about this?  Is it a requirement of yours?  I have no objection on the principle, I'm mostly concerned that we already provide a license and that things such as minification or our middleware may garble this up anyways.\n. @MarkTraceur Okay, you put forward a valid case.  I will add it to a new pull request and go from there.\n. Confirmed bug\n. Client side bug, prolly introduced by me.  Will fix now\n. Found the offending line of code.  https://github.com/Pita/etherpad-lite/blob/master/src/static/js/timeslider.js#L153\n. I thought we already had an issue open for this.  It's something we're aware of from when @redhog implemented the caret location plugin.  Afaik we discussed storing metadata or revisions which is how the old Etherpad got around this problem.  That way you would take periodic snapshots of large chunks of text or changesets and \"buffer\" them to the end user as they are accessing other pad data.\n. I didn't realize /admin was supposed to work?\n/admin/plugins is the correct URL\n. Paste your apache reverse proxy config please.\n. This isn't part of the example config and is probably the cause:\nAuthType Basic\n        AuthName \"Welcome to the Etherpad\"\n        AuthUserFile /etc/.apache2/.htpasswd\n        AuthGroupFile /etc/.apache2/.htgroup\n        Require group etherpad\n    order deny,allow\n    deny from all\n    satisfy any\nClosing as this isn't a bug w/ EPL bug is a bug w/ your config.\n. I therefore assume I can't overwrite robots.txt with a plugin?  @redhog \n. +1 for adding a new hook\n. Anyone any further w/ adding a new hook for this?  I dunno how to do it so...  The plugins are both ready to go for public pad indexing..    https://npmjs.org/package/ep_text_content_in_noscripts_tag\n. To use a custom robots.txt you must use a custom robots file IE src/static/custom/robots.txt\n. ep_datatables has been removed from npm.  It shouldn't be showing up in npm search @isaacs https://encrypted.google.com/search?q=ep_datatables&q=site:npmjs.org&hl=en\n. Ta isaacs\n\"Isaac Z. Schlueter\" notifications@github.com wrote:\nThe core issue is https://github.com/isaacs/npm-www/issues/182\nBut of course, it may still show up in searches (and the command line npm search), since there are a bazillion caches and indexes involved.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/1076#issuecomment-9604870\n. http://beta.etherpad.org/p/mko3lhcx1J/timeslider is fine.  Please provide steps to replicate.\n. 429651874f64f312d2a3dd09040aa2f8f44ed47b\nDate: Mon, 22 Oct 2012 23:45:47 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nCC: john@mclear.co.uk\nSubject: Re: [etherpad-lite] Timeslider broken? (#1077)\nchecked several older versions on my system.\nAll have (now) broken timeslider function (content is empty, or it is static). \nThe only change I remember: \nrecent upgrade to node v0.8.12\n```\n          \u2014\n      Reply to this email directly or view it on GitHub.\n\n```\n. We have test cases in place for this bug and they aren't firing an error so I'm not sure what is going on.  As far as the location of the slider image we don't have a test for that so I will write one.\nFYI: https://github.com/Pita/etherpad-lite/blob/feature/frontend-tests/tests/frontend/specs/button_timeslider.js\n. @Wikinaut Timeslider \"needle\" is positioned offside the bar (between bar and play button).\nWhich browser?\nI'm unable to replicate either bug.  Can you replicate them on http://beta.etherpad.org ?\n. IE9 timeslider is fine\nFF 15 position is fine.\n@wikinaut are you testing on http://beta.etherpad.org or some other instance and does this instance have some buggy plugin installed or something?\n. Whats the URL I can see this on?  If you can't replicate on http://beta.etherpad.org I dunno what to suggest ;/\n. Tested in Firefox 16 and it's fine.\n. Ah I can replicate the CSS bug better by creating long contents in a pad\n. setSliderPosition appears to be running before the pad content is available so this bug appears to be caused by a race condition where $(\"#ui-slider-bar\").width() is modified once the vscroll bar is shown.  Ideally  $(window).resize(function() would fire when the vscroll bar is added by the browser but it isn't.  See: http://api.jquery.com/resize/\n. There ya go.   Donations welcome!\n. Deep bug? ;)  This was a pesky CSS/simple UI bug and could have been fixed by anyone w/ 15 mins if the bug report had been clear/well enough tested.\n. Sorry @Wikinaut, just had a long day, thanks for pointing out the bug :) \n. I really can't see how your timeslider is broken though..  Can you please give me exact steps to replicate the failing?\n. Yep that's broken :\\\n. It's actually fine in 4296518\n. I managed to get this to break once but now it's fine and I can't replicate.  It is for sure fine cross browser on latest develop when creating a new pad.  Could this be related to bad pad content or something?\n. Please provide exact steps including a video / screen capture of your steps to replicate this bug on a fresh install.  I'm unable to do it.\n.    visit one of existing pads <-- This is a problem cause my pads aren't the same as your existing pads ergo making this test completely impossible to reproduce ;\\  I think the problem is a bad changeset somewhere and that is pad specific.\nCan you create this problem on a new pad?  The point you appear to be missing is that you have to isolate a problem before you can fix it.\n. So the problem is on pads with lots of content/changes or what?  If so then we close this and work at #'1068\n. Well as far as I understand it, it's part of a bigger problem where we don't deliver/store PAD REV data and the client hasn't had time to load in all changesets by the time people try to use the timeslider.  Someone is working on a pad revision branch but I don't know if it will get into core or even if I'm on the right tracks.  I haven't specifically tried debugging, I simply have a theory based on experience of seeing this cause problems on timesliders.  See:\nhttps://github.com/Pita/etherpad-lite/issues/1068\n. I don't think @Wikinaut 's steps to replicate will work and could be misleading.  @Wikinaut it might be worth going through some of your comments on this thread and making them factual.\nI think you will need to:\n1) checkout any version of etherpad lite\n2) commit a lot of changes to a pad then hit the timeslider.\nCan we confirm that so we are on the right tracks?\n. You tell us.  You have the same tools we have!\n. @Deepsurfer what does working plugins have to do with broken timeslider?\n@wikinaut no update from me I'm not working on this as I'm still not even sure how to replicate the bug and tbh I'm working on other things.\n. FYI @gedion - If you find buggy plugins you need to contact the plugin maintainer and/or create an issue on their github which is exactly what @Wikinaut did.\nCan we please confirm the timeslider is fine as long as you don't enable a plugin that breaks it?  (as is the nature of any plugin framework we devolve responsibility for pad integrity to the plugin and you always use plugins at your own risk).\nPerhaps we need a section on the wiki for reporting bugs with plugins?\n. Note I have added this as a 1.3 Milestone as to appease @Wikinaut  ;)\n. Oh dear on latest develop when I visit /admin/plugins then login on beta.etherpad.org I get\n```\n[2012-10-25 03:03:19.608] [ERROR] console - TypeError: Object # has no method 'hasOwnProperty'\n    at loadPrefix (/usr/share/etherpad-lite/src/node_modules/npm/lib/npm.js:291:13)\n    at Array.0 (/usr/share/etherpad-lite/src/node_modules/npm/node_modules/slide/lib/bind-actor.js:15:8)\n    at LOOP (/usr/share/etherpad-lite/src/node_modules/npm/node_modules/slide/lib/chain.js:15:14)\n    at chain (/usr/share/etherpad-lite/src/node_modules/npm/node_modules/slide/lib/chain.js:20:5)\n    at /usr/share/etherpad-lite/src/node_modules/npm/lib/npm.js:279:7\n    at cb (/usr/share/etherpad-lite/src/node_modules/npm/lib/utils/ini.js:83:5)\n    at /usr/share/etherpad-lite/src/node_modules/npm/lib/utils/ini.js:124:9\n    at /usr/share/etherpad-lite/src/node_modules/npm/lib/utils/ini.js:202:20\n    at fs.js:117:20\n    at /usr/share/etherpad-lite/src/node_modules/graceful-fs/graceful-fs.js:56:5\n```\nAll files etc are owned by etherpad-lite user and etherpad-lite is running as etherpad-lite user.\nCan anyone replicate?  I have nothing unusual installed plugin wise and git status shows clear.\nHrm perhaps.. https://github.com/Pita/etherpad-lite/issues/1012\nRunning node 0.8.11 and npm\n. So it turns out going anything above npm 1.1.5 breaks when running node 0.8.11 ;\\  I'm assuming I'm doing something wrong though so if we can check before I bump Isaacs\n. Installed on beta.etherpad.org\n. Try change ueber to .17 in packages.json\ndefa notifications@github.com wrote:\nHi!\nI just updated my etherpad-lite installation using \"git pull\". Now my Installation seems broken.\nThe following happens when I try to start etherpad-lite:\netherpadlite@server:~/etherpad-lite$ bin/run.sh\nEnsure that all dependencies are up to date...\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2012-10-22 14:28:43.648] [ERROR] console - ERROR: Problem while initalizing the database\n[2012-10-22 14:28:43.650] [ERROR] console - Error: SQLITE_CANTOPEN: unable to open database file\nThese are the settings in my setting.json:\n``` json\n{\n  //Ip and port which etherpad should bind at\n  \"ip\": \"127.0.0.1\",\n  \"port\" : 9001,\n//The Type of the database. You can choose between sqlite and mysql\n  \"dbType\" : \"sqlite\",\n  //the database specific settings\n  \"dbSettings\" : {\n                   \"filename\" : \"../var/sqlite.db\"\n                 },\n//the default text of a pad\n  \"defaultPadText\" : \"Welcome to Etherpad Lite!\\n\\nThis pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!\\n\\nEtherpad Lite on Github: http:\\/\\/j.mp/ep-lite\\n\",\n/ if true, all css & js will be minified before sending to the client. This will improve the loading performance massivly,\n     but makes it impossible to debug the javascript/css /\n  \"minify\" : true,\n/ This is the path to the Abiword executable. Setting it to null, disables abiword.\n     Abiword is needed to enable the import/export of pads/\n  \"abiword\" : null\n}\n}\n```\nI made sure that ../var/sqlite.db exists and is readable for the user. Also the database is not broken, as I can read it with the sqlite3 utility. I am pretty sure it's my fault on some point, but I am unable to find it.\nThanks a lot\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/1079\n. Yea whoa you didn't update for a LONG time :P\nDate: Mon, 22 Oct 2012 05:56:39 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nCC: john@mclear.co.uk\nSubject: Re: [etherpad-lite] Error opening sqlite DB after git pull (#1079)\nGot it - seems like some path-interpretation changed. I fixed the location of the DB-Path like that:\n\"dbSettings\" : {\n                   \"filename\" : \"var/sqlite.db\"\n                 },\nThanks for reading.\nbye\n```\n          \u2014\n      Reply to this email directly or view it on GitHub.\n\n```\n. Try git pull origin develop\nSee if that helps.\n. No update in 25 days?  Close?\n. Yea you can basically make the server \"hang\" just by trying to import a large HTML file.  I'm looking into this now.\n. This is due to the jsdom issue we have.  https://github.com/ether/etherpad-lite/issues/2125\n. I'm gonna close this as it's not a direct duplicate but fixing #2125 will fix this\n. Marcel please test and pull, it should be fine\n\"Florian D.\" notifications@github.com wrote:\nHi!\nTwo links were absolute (\"/static/...\") instead of relative (\"../static\"). The image was not loaded with sites behind reverse proxies and subdirectory.\nIn my Apache log:\nA.B.C.D - user [24/Oct/2012:16:05:55 +0200] \"GET /static/img/connectingbar.gif HTTP/1.1\" 404 2277 \"https://WEBSITE/pad/p/VgxqBzOaO5fAECfB_RSE\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:16.0) Gecko/20100101 Firefox/16.0\"\nThis pull request corrects this.\nYou can merge this Pull Request by running:\ngit pull https://github.com/neurolit/etherpad-lite relative_static_links\nOr you can view, comment on it, or merge it online at:\nhttps://github.com/Pita/etherpad-lite/pull/1085\n-- Commit Summary --\n- HTML templates: relative links instead of absolute ones for /static directory\n-- File Changes --\nM src/templates/pad.html (2)\nM src/templates/timeslider.html (2)\n-- Patch Links --\nhttps://github.com/Pita/etherpad-lite/pull/1085.patch\nhttps://github.com/Pita/etherpad-lite/pull/1085.diff\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/1085\n. Failed to load resource: the server responded with a status of 404 (Not Found) http://127.0.0.1:8080/pad/p/static/img/connectingbar.gif\nObject\nRestarted EPLite, works fine.  Tested w/ Apache proxy\n. Few things: \n- The pull request is dirty, contains commits that shouldn't be included which makes it too messy to pull.\n- Web.config needs to be in the lib folder afaik.\n- Please update Wiki/Docs and include in pull request where possible.\n. Plaza revert commit\nMarcel Klehr notifications@github.com wrote:\nConfirmed.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/1092#issuecomment-9833361\n. Also try rm rf src node modules\nIt might fix it\nMarcel Klehr notifications@github.com wrote:\nConfirmed.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/1092#issuecomment-9833361\n. ta\n. To make sure you were happy with it\nPita notifications@github.com wrote:\nnot sure why you did a pull request for this. A simple git pull origin develop would have done it\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/1097#issuecomment-9868575\n. http://j.mp/etherpad-lite points to the new location however +1 for pointing to http://etherpad.org\n. https://github.com/ether/etherpad-lite/pull/1514\n. https://github.com/ether/etherpad-lite/pull/1514\n. done, please review and merge.\n. We need confirmation if SSL is the cause here or not.\n. Dupe of https://github.com/ether/etherpad-lite/issues/976 by the looks of things.\n. Uses infinite loading now..\n. Can we bisect to find out where this was broken please?\n. @jbaack we need steps to reproduce or a bisect to tell us when it was broken.\n. Is fine on c45739b thanks to @eldiddio\n. Also fine on latest according to @eldiddio\n. 2 things to make our lives livable.\nCan you record a screen cast of you checking out a clean repo and reproducing the error?\nCan you use git bisect to find out which version this did work on?  http://webchick.net/node/99\nIf you can help us isolate the problem we can fix it.\n. So a hacky solution here would be to use a single database, say..    MySQL as an example.\nStep 1.\nIncrease the length of the index value in the table in MySQL\nSee: https://github.com/Pita/ueberDB/blob/master/mysql_db.js#L49\nand https://github.com/Pita/ueberDB/blob/master/mysql_db.js#L54\nand https://github.com/Pita/ueberDB/blob/master/mysql_db.js#L135\nStep 2.\nModify the value at https://github.com/ether/etherpad-lite/blob/develop/src/node/db/PadManager.js#L234\nStep 3.\nDon't ever change database to anything with a lower limit and/or attempt to migrate from your newly modified database schema to a traditional config..  Cry because mysql_db and PadManager.js wont merge cleanly on your next pull.\n. So far no one has hit this limit so this feels like a pretty pointless bug\n. @marcelklehr Looks good to me.  Feel free to test and Merge.\n. We need a test for this\nMarcel Klehr notifications@github.com wrote:\nBug confirmed.\nYour patch works, but after importing, all <li>'s read 1.\nAnyway, if you add a new <li>, or edit one, everything's fine, so  :sparkles: :sparkler: :fireworks:\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/1119#issuecomment-10042259\n. Paste your lighttpd reverse proxy configuration\nJohnathon D notifications@github.com wrote:\nTrying to use lighttpd reverse proxy, the previous socket.io error seems to be fixed but now I get a new error. Works fine through nginx reverse proxy. Latest git, installed to an empty dir. Dependencies seemed to all install fine.\nChrome:\n[2012-11-02 10:47:19.393] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"ohQPwvejFcTism2u9f6j\",\"msg\":\"Uncaught TypeError: Cannot call method 'setChannelState' of null\",\"url\":\"https://pad.redacted.me/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define\",\"linenumber\":3,\"userAgent\":\"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.94 Safari/537.4\"}\nFirefox:\n[2012-11-02 10:44:55.754] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"OG8L3NxgiF84hlbn8KPr\",\"msg\":\"Script error.\",\"url\":\"https://pad.redacted.me/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define\",\"linenumber\":0,\"userAgent\":\"Mozilla/5.0 (Windows NT 5.1; rv:16.0) Gecko/20100101 Firefox/16.0\"}\nNo idea what is causing this.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/1121\n. It would make a lot more sense to modify the createCookie function to make that work.\nhttps://github.com/Pita/etherpad-lite/blob/master/src/static/js/pad_utils.js#L42\nAlso it appears you don't have an \"else\" so createCookie will fire anyway creating two cookies, this is surely not a good thing... \n@kingmook do you want to revise your changes?\n@pita is there a way we can test this using the test framework?\n. @kingmook please use 3 backticks ie ``` or pre tags ie   to show code.\nFYI Saying/not saying if you are using HTTP/HTTPS when reporting a bug on a web app is kinda a big deal.\nPlease fork latest develop, create a new branch on your repo patch the code and issue a pull request, if you need help feel free to ping me or even better watch this video: https://www.youtube.com/watch?v=67-Q26YH97E which will show you how to get started developing etherpad lite.\n. No worries.\n. Please issue pull request against develop\n. Also I feel like this should be a plugin if possible.\n. @sciunto we're still waiting on you for this just FYI :) \n. @Wikinaut You didn't answer @marcelklehr 's question.\n. Ahh, I see, \n. Btw from now on new settings should be parts of plugins IE in this situation you would make a \"Custom favicon path\" plugin and put the plugin settings in settings.json, that way we don't end up with a massive settings.template.json file covering all freaky ass edge cases.\n. http://beta.etherpad.org/p/list-style <-- this should help\n. https://github.com/ether/etherpad-lite/pull/1709\n. http://jsfiddle.net/E8XFK/89/\n. Maybe we should document this, just for posterity.  \nafaik it's something like\nmkdir ~/reviewing_this_plugin\ncd ~/reviewing_this_plugin\nnpm install ep_whatever_plugin\nPerform review..\n. You can now click through to the plugin to review if it has a git repo prior to install.  This is the best we can do really..\n. Done.\nhttps://github.com/ether/etherpad-lite/wiki/Getting-to-know-the-tools-in-bin\n. I'm sure I tested this and settings.json changes were reflected in my running server.\nWhat settings did you test?  I guess if the user is using the safeRun script we can use errorhandling.js gracefulShutdown too?\n. This passed my testing but it is issued against the wrong branch.  See https://github.com/Pita/etherpad-lite/blob/master/CONTRIBUTING.md\n. Try\n\nrm -Rf src/node_modules\nbin/run.sh\n\n. Email mashed my comment up, see above.\n. Can replicate in Chrome by \n1) create new pad\n2) select the text of line 5 and all of line 4 then drop it on line 2\nErrors with:\nUncaught TypeError: Cannot read property 'clientHeight' of null\nupdateLineNumbers\nrequire.define.ep_etherpad-lite/static/js/ace2_inner.js._nextId\ninCallStack\ninCallStackIfNecessary\n(anonymous function)\ncallback\nFinally a way to consistently replicate this bug...  Yay!\nMy basic experience of clientHeight is that it's the height of the visible editor, I have tried adding debugger and top.console.log statements to updateLineNumbers but they always return a value when I'm looking at them so I'm not sure on the right track.\n. To replicate \nTypeError: b is null in Firefox\n1) Create new pad\nSelect all of the text of line 5 and highlight line 4 then drop it on line 1 first character\nNote: it wont actually show line 4 highlighted\n. It should also be noted that this can nuke a pad (Firefox condition) so I bumped to serious bug\n. In chrome doing Undo after a drag causes error\nUncaught Error: NotFoundError: DOM Exception 8\nBut only under certain conditions..\nCertainly dragging content to 0,0 then undo causes this or another DOM Exception.  It's kinda hard to replicate though, cookie for anyone who can create a consistant case\n. Also it appears that if you highlight content and drag it to the last line in Chrome you get an error.\n. Drag n drop is actually native to contentEditable, it treats it as a removal and insertion, but TLDR, probably yes.  I'd rather solve the problem though.  Btw the etherpad server very rarely restarts nowadays. \n. Here is a plugin to disable drag and drop as a temporary measure: https://npmjs.org/package/ep_drag-and-drop\n. http://jsfiddle.net/E8XFK/84/ is what we have so far..  It's tricky to do this whilst retaining dom integrity\n. http://stackoverflow.com/questions/15907322/resetting-counter-reset-css-values\n. It appears this is now resolved.  I am no longer able to replicate, possibly a browser fix.\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. @GreatGrandMasterB you can move this forward using this: https://www.bountysource.com/issues/1371899-encryption\n. what happens if you try to use an older version of npm something like 1.1.3?\nDate: Wed, 7 Nov 2012 16:01:35 -0800\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] migrateDirtyDBtoMySQL generates an error (#1142)\nnpm --version is 1.1.65\netherpad-lite version 1.1.5 (git version 3944517)\nnode bin/migrateDirtyDBtoMySQL.js fails, generating the following error: \nTypeError: Object # has no method 'get'\n```\nat EventEmitter.Object.defineProperty.get as dir\nat Object. (/opt/etherpad-lite/src/node/utils/Settings.js:30:44)\nat Module._compile (module.js:449:26)\nat Object.Module._extensions..js (module.js:467:10)\nat Module.load (module.js:356:32)\nat Function.Module._load (module.js:312:12)\nat Module.require (module.js:362:17)\nat require (module.js:378:17)\nat Object. (/opt/etherpad-lite/src/node/db/DB.js:23:16)\nat Module._compile (module.js:449:26)\n      \u2014\n\n      Reply to this email directly or view it on GitHub.\n\n```\n. FYI I have no interested in merging this.  Whitespace is cheap and this commit would potentially stall development by causing pointless merge conflicts.\n. This pull request cannot be automatically merged.\n. Please issue the pull request against develop, if you go to your pull request then change the target to pita\\develop that should do it.\nSee contributing.md\n. Having SSL as default for admins increases the barrier to deployment which is something we have worked hard to avoid.\n. Oh..  I see..  I think..  So basically I feel like to assign an SSL you need a front end server anyway so why not just force it there?  Am I missing something?\n. Then sir, I challenge you do make it so it can be installed as a plugin and the codes can be pasted into settings.json...  Challenge accepted?\n. Okay well let's run this as a feature branch for a while, see what the feedback etc. is like.  I'd suggest some tests are written too to ensure SSL is delivering full functionality before merging into master.\n. @joker-x Sorry but I wont be able to get involved with tests as I'm going to be focusing on 1.3 milestones as my priority.\n. The patch is in 1.2 afaik...\n. Poor timeslider.html got left out? :)\n. [2012-11-10 16:24:51.367] [ERROR] console - { [Error: ENOENT, stat '/home/etherpad-lite/src/locales/en.ini']\n  errno: 34,\n  code: 'ENOENT',\n  path: '/home/etherpad-lite/src/locales/en.ini',\n  status: 404 }\nError: ENOENT, stat '/home/etherpad-lite/src/locales/en.ini'\n. No option to change language in settings, that afaik is a requirement\n. src/static/js/l10n.js not l18n.js? \nI know this is right but briefly what's the dif between l10n and l18n?\n. This adds ability to change language using settings\npad.settings.language needs to be in the language file de.ini\nAnd window.webL10n.loadLocale is wrong, I'm not sure how to access it..\nAdd to line 74 on pad_editor.js \n$(\"#languagemenu\").change(function()\n      {\n        window.webL10n.loadLocale($(\"#languagemenu\").val()); // This is wrong and needs fixing\n        pad.createCookie(\"language\",$(\"#languagemenu\").val(),null,document.location.pathname);\n      });\nAdd to line 210 on pad.html\n<p data-l10n-id=\"pad.settings.language\">\n                    Language:\n                    <select id=\"languagemenu\">\n                        <option value=\"en\">English</option>\n                        <option value=\"de\">Deutsch</option>\n                    </select>\n                </p>\nBecause English is the first option people should realize it's a language selector and feel comfortable clicking it to change their window's language option.\n. Btw I should of said this is awesome :) :+1: \n. @marcelklehr RE: B: Because I'm in an Internet cafe in Italy and the browser's language is set to .it but I want .en.  We should also save this setting as a cookie so when the user returns they are presented with the correct language.\nDo you want me to do the timeslider.html? \n. https://github.com/Pita/etherpad-lite/pull/1158\n. Note this only exists if running on IIS, it's fine if you hit it directly\n. That's due to old version of npm/node\n. @marcelklehr please merge this pull request if you are happy.\n. \"This pull request cannot be automatically merged.\"\ntry\ngit pull origin develop\n. I'm still a believer that this should be a plugin or the majority of the code should be.  What are your thoughts on this?\n. dokuwiki got in before we had a plugin framework ;/\n. And I'd agree with that.\n. There are some example export plugins already available I think..  You would just need to modify them slightly..\n. Don't pull this.  It will break being able to see rev #.\nThe best solution is to push the git rev to the file that is used to display the git rev #..  \nThis would save 4MB and will only get bigger as our .git repo grows so should be done in good time.\n. @marcelklehr hah ;) \n. EACCES mkdir '/home/scott/.npm/npm/1.1.65' is the give away here.\ntry doing mkdir /home/scott/.npm/npm/1.1.65 as your user.\nIt sounds like .npm isn't owned by \"scott\" (or whatever user you are trying to install as).\nto fix:\nsudo chown -R scott /home/scott/.npm\n. @tmpvar see https://github.com/ether/etherpad-lite/issues/1171\n. Fix merged \n. Do you get a forever loading issue if you hit etherpad lite directly IE on port 9001?\n. Does this pass the language frontend tests?\n. This pull request cannot be automatically merged.\n. Ah that's awesome I was going to bump you about this today.  Thanks man! :)\nPS I assume you are now in the Bay area to join us for the Etherpad meet up?  Would be good if you could make it\n. I'm there from ~9th to the ~14th so any of those dates might work\n. Please write a test for this and include it in this pull request.  Thanks\nHOWTO:  There is already a test for turning a URL into a link so just copy/paste the assertion and test but include a ! i teh URL..\n. I wrote a test and it's in develop\n. Read contributing guidelines.\n. any update on this @marcelklehr  ? :)\n. Will go into 1.2.2\n. Also pull requests should go to develop\n. Thanks :)\n. @mohit-rocks any update on this?\n. Language file changes must be done via translatewiki.net -- , the other part of your code is fine. cc @marcelklehr \n. rm -Rf src/node_modules\nre run.\n. Clear your browser cache\nWhat git revision are you running?\nHow did you install Etherpad?\n. type \ngit checkout develop\nbin/run.sh\n. Hrm, out of curiosity try set maxAge to 0 and minify to false..  I can confirm this bug exists on beta.etherpad.org..\n. Looks good to me, needs further testing , good job:)\n. Just thinking how we handle passphrases?\n.   \"key\"  : \"c:\\temp\\wiki\\etherpad-lite\\ep.key\", as a path doesnt work\nchanged to\n            \"key\"  : \"c:/temp/wiki/etherpad-lite/ep.key\",\njust needs documenting\n. Generating the keys with puttygen doesn't work, can we document the correct steps in puttygen to generate good to use ssl keys?\n. You need useful debug messages if a user puts in a bad path/key\n```\n[2012-11-24 17:24:36.284] [INFO] console - SSL -- server key file: c:   empwikietherpad-liteep.key\n[2012-11-24 17:24:36.285] [INFO] console - SSL -- Certificate Authority's certificate file: c:  empwikietherpad-liteep.crt\nfs.js:338\n  return binding.open(pathModule._makeLong(path), stringToFlags(flags), mode);\n                 ^\nError: ENOENT, no such file or directory 'c:\\temp\\wiki\\etherpad-lite\\   empwikietherpad-liteep.key'\n    at Object.fs.openSync (fs.js:338:18)\n    at Object.fs.openSync (C:\\temp\\wiki\\etherpad-lite\\node_modules\\ep_etherpad-lite\\node_modules\\npm\\node_modules\\graceful-fs\\graceful-fs.js:68:26)\n    at Object.fs.openSync (C:\\temp\\wiki\\etherpad-lite\\node_modules\\ep_etherpad-lite\\node_modules\\graceful-fs\\graceful-fs.js:74:27)\n    at Object.fs.openSync (C:\\temp\\wiki\\etherpad-lite\\node_modules\\ep_etherpad-lite\\node_modules\\npm-registry-client\\node_modules\\graceful-fs\\graceful-fs.js:68:26)\n    at Object.fs.readFileSync (fs.js:182:15)\n    at Object.exports.restartServer (C:\\temp\\wiki\\etherpad-lite\\node_modules\\ep_etherpad-lite\\node\\hooks\\express.js:60:15)\n    at Object.exports.createServer [as hook_fn] (C:\\temp\\wiki\\etherpad-lite\\node_modules\\ep_etherpad-lite\\node\\hooks\\express.js:32:11)\n    at normalizedhook (C:\\temp\\wiki\\etherpad-lite\\node_modules\\ep_etherpad-lite\\static\\js\\pluginfw\\hooks.js:15:27)\n    at hookCallWrapper (C:\\temp\\wiki\\etherpad-lite\\node_modules\\ep_etherpad-lite\\static\\js\\pluginfw\\hooks.js:21:14)\n    at exports.callAll (C:\\temp\\wiki\\etherpad-lite\\node_modules\\ep_etherpad-lite\\static\\js\\pluginfw\\hooks.js:75:12)\nC:\\temp\\wiki\\etherpad-lite>nano settings.jso\nC:\\temp\\wiki\\etherpad-lite>start.bat\nC:\\temp\\wiki\\etherpad-lite>node node_modules\\ep_etherpad-lite\\node\\server.js\n[2012-11-24 17:25:23.638] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production.\n[2012-11-24 17:25:24.249] [INFO] console - Installed plugins: ep_etherpad-lite\n[2012-11-24 17:25:24.281] [INFO] console - Your Etherpad Lite git version is 43980ff\n[2012-11-24 17:25:24.282] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2012-11-24 17:25:24.287] [INFO] console - SSL -- enabled\n[2012-11-24 17:25:24.288] [INFO] console - SSL -- server key file: c:/temp/wiki/etherpad-lite/ep.key\n[2012-11-24 17:25:24.289] [INFO] console - SSL -- Certificate Authority's certificate file: c:/temp/wiki/etherpad-lite/ep.crt\ncrypto.js:84\n      c.context.setKey(options.key);\n                ^\nError: error:0906D06C:PEM routines:PEM_read_bio:no start line\n    at Object.exports.createCredentials (crypto.js:84:17)\n    at Server (tls.js:1031:28)\n    at new Server (https.js:33:14)\n    at Object.exports.createServer (https.js:48:10)\n    at Object.exports.restartServer (C:\\temp\\wiki\\etherpad-lite\\node_modules\\ep_etherpad-lite\\node\\hooks\\express.js:65:20)\n    at Object.exports.createServer [as hook_fn] (C:\\temp\\wiki\\etherpad-lite\\node_modules\\ep_etherpad-lite\\node\\hooks\\express.js:32:11)\n    at normalizedhook (C:\\temp\\wiki\\etherpad-lite\\node_modules\\ep_etherpad-lite\\static\\js\\pluginfw\\hooks.js:15:27)\n    at hookCallWrapper (C:\\temp\\wiki\\etherpad-lite\\node_modules\\ep_etherpad-lite\\static\\js\\pluginfw\\hooks.js:21:14)\n    at exports.callAll (C:\\temp\\wiki\\etherpad-lite\\node_modules\\ep_etherpad-lite\\static\\js\\pluginfw\\hooks.js:75:12)\n    at Array.map (native)\nC:\\temp\\wiki\\etherpad-lite>\n```\nis not good enough\n. I can't test timeslider until we have good docs on how to deploy so this one is back at ya @Wikinaut, let me know once you are good for me to continue\n. @Wikinaut As mentioned 1000 times you still haven't provided steps to replicate the bug.  You just keep providing a URL that we know is broken.  Plus this has nothing to do with this pull request so let's keep things on topic.\n. @Wikinaut okay bump me when docs are ready :)  thanks.\n. Also RE useful debug this wont be merged until it's clear to users how to set this up, even if the debug help is provided in a wiki \"how to setup native SSL support\" or whatever you create that would be okay enough to see it merged.  It's really important that people can get past any barriers that SSL may introduce :)\nCheers\n. openssl.exe is available by default in Windows?\n. The wiki page needs a big warning saying \"DO NOT COPY/PASTE THESE STEPS AS IT WONT WORK\"\n. @Wikinaut Works great and timeslider is fine -- Good job :)  Once my final concerns have been addressed this will be good to merge.  Today or tomorrow I expect\n. /me is confused why we need yui, am I missing something?\n. looks interesting I will test this :) \n. testing now\n. hrm, so I did a \ngit clone git://github.com/joker-x/etherpad-lite.git\nthen bin\\installOnWindows.bat\nthen start.bat and I still get\n```\nImport/Export\nUpload any text file or document\nImport is not available. To enable import please install abiword\n```\nDid you not add support for Windows?\n. My problem was due to cache..\n. Doing import in FF on Windows I after a while I get \"Import failed: Please copy paste\".\n. \u00a3 imported as \ufffd when importing from .txt\n. .doc imported as \n{\\rtf1\\ansi\\ansicpg1252\\deff0\n{\\fonttbl\n{\\f0\\froman\\fcharset0\\fprq2\\fttruetype Times New Roman;}\n{\\f1\\fswiss\\fcharset0\\fprq2\\fttruetype Arial;}\n{\\f2\\fswiss\\fcharset0\\fprq2\\ftnil Dingbats;}\n{\\f3\\froman\\fcharset0\\fprq2\\fttruetype Symbol;}\n{\\f4\\fmodern\\fcharset0\\fprq1\\fttruetype Courier New;}}\n{\\colortbl\n\\red0\\green0\\blue0;\n\\red255\\green255\\blue255;}\n{\\stylesheet\n{\\s1\\fi-431\\li720\\sbasedon28\\snext28Contents 1;}\n{\\s2\\fi-431\\li1440\\sbasedon28\\snext28Contents 2;}\n{\\s3\\fi-431\\li2160\\sbasedon28\\snext28Contents 3;}\n{\\s8\\fi-431\\li720\\sbasedon28Lower Roman List;}\n{\\s5\\tx431\\sbasedon24\\snext28Numbered Heading 1;}\n{\\s6\\tx431\\sbasedon25\\snext28Numbered Heading 2;}\n{\\s7\\fi-431\\li720Square List;}\n{\\*\\cs11\\sbasedon28Endnote Text;}\n{\\s4\\fi-431\\li2880\\sbasedon28\\snext28Contents 4;}\n{\\s9\\fi-431\\li720Diamond List;}\n{\\s10\\fi-431\\li720Numbered List;}\n{\\*\\cs12\\fs20\\superEndnote Reference;}\n{\\s13\\fi-431\\li720Triangle List;}\n{\\s14\\tx431\\sbasedon26\\snext28Numbered Heading 3;}\n{\\s15\\fi-431\\li720Dashed List;}\n{\\s16\\fi-431\\li720\\sbasedon10Upper Roman List;}\n{\\s17\\sb440\\sa60\\f1\\fs24\\b\\sbasedon28\\snext28Heading 4;}\n{\\s18\\fi-431\\li720Heart List;}\n{\\s34\\fi-431\\li720Box List;}\n{\\s20\\fi-431\\li720\\sbasedon10Upper Case List;}\n{\\s21\\fi-431\\li720Bullet List;}\n{\\s22\\fi-431\\li720Hand List;}\n{\\*\\cs23\\fs20\\sbasedon28Footnote Text;}\n{\\s24\\sb440\\sa60\\f1\\fs34\\b\\sbasedon28\\snext28Heading 1;}\n{\\s25\\sb440\\sa60\\f1\\fs28\\b\\sbasedon28\\snext28Heading 2;}\n{\\s19\\qc\\sb240\\sa120\\f1\\fs32\\b\\sbasedon28\\snext28Contents Header;}\n{\\s27\\fi-431\\li720Tick List;}\n{\\s26\\sb440\\sa60\\f1\\fs24\\b\\sbasedon28\\snext28Heading 3;}\n{\\s29\\fi-431\\li720\\sbasedon10Lower Case List;}\n{\\s30\\li1440\\ri1440\\sa120\\sbasedon28Block Text;}\n{\\s36\\f4\\sbasedon28Plain Text;}\n{\\s32\\tx1584\\sbasedon5\\snext28Section Heading;}\n{\\s33\\fi-431\\li720Implies List;}\n{\\s28\\f0\\fs24Normal;}\n{\\s35\\fi-431\\li720Star List;}\n{\\*\\cs31\\fs20\\superFootnote Reference;}\n{\\s37\\tx1584\\sbasedon5\\snext28Chapter Heading;}}\n\\kerning0\\cf0\\ftnbj\\fet2\\ftnstart1\\ftnnar\\aftnnar\\ftnstart1\\aftnstart1\\aenddoc\\revprop3{\\info\\uc1}\\deftab720\\viewkind1\\paperw11905\\paperh16837\\margl1440\\margr1440\\widowctrl\n\\sectd\\sbknone\\colsx360\\headery0\\footery0\\pgncont\\ltrsect\n\\pard\\plain\\ltrpar\\ql\\s28\\itap0{\\s28\\f0\\fs24\\lang2057{\\*\\listtag0}Howt o isntal\\~\\line \\line }\n\\sect\\sectd\\sbknone\\colsx360\\headery0\\footery0\\pgncont\\ltrsect\n\\pard\\plain\\ltrpar\\ql\\s28\\itap0{\\s28\\f0\\fs24\\lang2057{\\*\\listtag0}\\par}\n\\pard\\plain\\ltrpar\\ql\\s28\\itap0\n\\sect\\sectd\\sbknone\\colsx360\\headery0\\footery0\\pgncont\\ltrsect\n\\pard\\plain\\ltrpar\\ql\\s28\\itap0{\\s28\\f0\\fs24\\lang2057{\\*\\listtag0}\\par}}\n. @joker-x notepad files are encoded in ANSI\n. @joker-x just RE \n\"yes, without abiword only can import from plain text (.txt, .js, .c, .h..) or html (.htm, .html) and export to .html, .txt or .docuwiki``\"\ncan we please specify the types of files you can import?\n. Whatever seems most natural to users.\n. joker-x what is the status on the ANSI encoded file import?  : \"\u00a3 imported as \ufffd when importing from .txt\"\n. http://stackoverflow.com/questions/10225399/check-if-a-file-is-binary-or-ascii-with-node-js doesn't help?\n. Sorry but you are wrong.  notepad saves files in ANSI and the majority of our imports are from .txt files created in notepad.\n. Pasting into a pad works fine.\n. Importing with abiword enables doesn't allow for ANSI encoded special chars neither, heh  it just silently drops \u00a3 chars..  nice..\n. joker-x just FYI I just checked out your latest and I still get \"Import failed: Please copy paste\" even when not running in iframe.  Although im not sure I can consistently replicate this.\n. @joker-x FYI This pull request cannot be automatically merged.\n. I know a lot of people who would find this \"feature\" a bug ;/\nA plugin should be written for this functionality\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Duplicate of https://github.com/ether/etherpad-lite/issues/551\n. @redhog you happy with this?\n. This appears to be a bug in 1.2 API :|\n. If someone can bisect to find out where this is introduced I'd be greatful.  Also We REALLLLY need CI tests for the API :|\n. [2012-11-26 00:09:45.939] [ERROR] console - path.existsSync is now called `fs.existsSync`.\nwhen using old api to access this endpoint\n. Fixed by putting right key in APIKEY.txt\n. Looks good to me\n. Seems like a relatively sound proposal, assuming ws:// wont be affected.\n. We're in agreement on this, this got implemented.\n. Does everything else need to be ../../../ then or is this one just an anomaly? \n. I'm still not sure about this commit... Why sometimes ../../../ and sometimes ../../ it looks wrong to me.\n. This fix works..  This has me baffled.\nhttp://10.0.0.215:9001/p/LB8satFN8y/timeslider/../../../static/img/connectingbar.gif works\nhttp://10.0.0.215:9001/p/LB8satFN8y/timeslider/../../static/css/pad.css doesn't work\nyet\n<link rel=\"stylesheet\" href=\"../../static/css/pad.css\">\nWhat the deuce?\nOh I think it's to do w/ the difference between timeslider and timeslider/\nIE\nhttp://10.0.0.215:9001/p/LB8satFN8y/timeslider\nVs\nhttp://10.0.0.215:9001/p/LB8satFN8y/timeslider/\nHrm, now I can't reproduce the bug..  Yikes\nSo the bug exists on beta.etherpad.org\nhttp://beta.etherpad.org/p/7deRwWuE6H/timeslider\nif I hit my local dev instance running the same commit in a browser w/ caching disabled I don't get the bug\nhttp://10.0.0.215:9001/p/6yifLekPrN/timeslider\nI'm sure this must be a something and nothing bug and that I'm being really dumb and missing it.  \nSo I updated beta.etherpad.org to latest develop and everything seems fine....\n. /me quirks an eyebrow..   Something looks wrong here..  Why the package name change and the version bump?\n. /me quirks an eyebrow\n. So TLDR any pad w/ > 100 revisions does not show changes in timeslider?\n. FYI I have a pad with 7899 versions and the timeslider works okay, it's just a bit slow if I go back a long time in it's history.  It's still a serious bug though, we need to get to the bottom of it even if it's just a case of showing a \"loading\" modal when we dont have enough data available to the client\n. A PR to re-enable TS tests https://github.com/ether/etherpad-lite/pull/1476\n. As far as I understand this, if you are on point 10000 and click on point 50 it creates a changeset from 10000 to 50.  This is bad.\nWhat we want is some way of doing a changeset from 0 to 50, 1000 to 1050 etc..  This would be a lot quicker and provide a much smoother process.\nIdeally what we will do is provide the users offline Storage or so with cached copies every 1000 revs or so.  We could serve this when the user is on the pad.\nA very simple fix that would get us started is to provide content at Rev:[0-10] to the browser so when the play button is hit the content is available.\nOverall though I think the way the timeslider is provided is kinda broken.  We don't provide historical search or an ability to see changes based on contributions Vs Time.  \nRevisions are not necessarily humanly conceivable concepts compared to time.  Also there has been various discussions about making the timeslider a \"plugin\", while I'm not a fan of that I think it's worth considering so we can maintain it as a completely separate entity.\n. RE Storage I mean on the client so the request doesn't need to be made to the server unless the data isn't available.\n. I think you are correct on behavior btw, @Pita might want to share some thoughts here.\n. @dmitryuv agreed\n. @hevisko on latest master it should be fine, try create a new pad and hit the timeslider button.\n. hrm\ntry a clean install?\nAlso check your network tab, perhaps a url isn't being rewritten or so...\n. Hopefully @marcelklehr will get some time to spend on finishing off his work on https://github.com/ether/etherpad-lite/pull/2070 which is nearly there!\n. @marcelklehr you are good to test this again.\n. @marcelklehr I need your help with the bit I have an alert in for at the moment..  Take a look and take a moment to share your thoughts please :) \nsee : https://github.com/ether/etherpad-lite/pull/1221/files#L1L300\n. So this is a temporary fix.\nBasically if you use IE you wont be able to remember a password per Pad, you will be able to remember a password per Etherpad Server.  \nThis is obviously rubbish and needs to be properly fixed but as auth is being addressed at the mo I'm a bit sketpical of doing it.\nIt's also worth noting that for some reason pad_utils.js beats pad.js in IE when it comes to using the createCookie function.  This is bad.  There should only be one instance of this function.\n. Note to @Wikinaut and @marcelklehr don't pull cause it looks to be fixed in latest develop\n. hah we're both wrong/right..  Don't use beta.etherpad.org as a reference.  Anyway, can we  merge this?\n. yea ../../../ is a bad fix cause if it's not /p/foo IE it's /pads/p/foo it will break so I propose a fix using javascript or so..\n. @marcelklehr le bump\n. I confirmed the bug btw...\n. Fix available https://github.com/ether/etherpad-lite/pull/1229\n. @marcelklehr y u no merge?\n. Are you running any plugins?  Have you tried https://github.com/ether/etherpad-lite/blob/master/bin/checkPad.js ?  The usual cause of the problems are pad breaks caused by plugins.\n. @0ip yea, cause they caused many issues previously and didn't introduce any noticeable performance increases however it could be that as socket.io has been evolving so have the support for these.  We don't have a test case afaik to prove either way.\n. Yea @marcelklehr IE fucking lies..  It's a lying bastard of a browser..  Don't believe that \"mode\" thing it's broken at it's core..\nUse saucelabs, that's why we have it!\n. Note that this bug is apparant on beta.etherpad.org which is running latest develop.  @marcelklehr please merge my pull request that involves these files so I/we don't run into pointless merge issues.\n. Fixed in https://github.com/ether/etherpad-lite/pull/1221\n. Apache doesn't warn if SSL isn't enabled.  SSL is optional.\n. Mozilla are doing our security analysis.  I will action their recommendations based on their report.  Your pull requests are appreciated but knee jerk reactions are not.  Grow up.\n. confirmed.\n. Assuming this used to work why was it not ../favicon.ico ?\n. Turns out it was.. https://github.com/ether/etherpad-lite/blob/a770910a3a7285be3e45a16255b078051c5afa26/src/templates/pad.html\n. Gah, fix on route..  ffs\n. I'm doing a proper fix.\n. @Wikinaut feel free to test with your custom favicon\n. What were you doing wrong?\n. This seems pretty sensible to me, so did you and @marcelklehr get to the bottom of why he couldn't replicate your issue (native xmlsupport?)\n. Just FYI I responded on #1233\n. Oh one last thing, it needs to be at the bottom of settings.json - bump me when that is done.\n. it needs to be at the bottom of settings.json - bump me when that is done.\n. it broke more tahn ti fixed.\n. Looks good, can you please write some tests for this too?  There is already a button_color or whatever test so just copy/paste that and apply it to chat.\n. Which issue # is this addressing?\n. Also please issue pulls against develop, please see the contributing guidelines.\n. https://github.com/ether/etherpad-lite/blob/master/CONTRIBUTING.md\n. pull requests should go against develop - I updated the doc to make that more clear\n. Related to https://github.com/ether/etherpad-lite/pull/2302 ?\n. @marcelklehr what's your thoughts on this PR?  Do you wanna see it land?\n@itguy51 et al, we need have a backend testing framework so I'd want to see each of these edge cases covered by that ASAP please\nIf you have any questions about the backend tests please just ask, it's super simple though so you should be good! :)\n. I thought we had already dealt w/ this?  What issue # is it related to?\n. https://github.com/ether/etherpad-lite/issues/322\nhttps://github.com/ether/etherpad-lite/commit/23d22b92fdb201deac4160cbf83867204407c6cb\n@marcelklehr \n. @eldiddio can you confirm?\n. @eldiddio please ensure this fixes your test environment.\nThanks\n. Turns out performance would only be improved by a very small amount so not worth implementing\n. @goldquest I don't think this is actually fixed, the error still appears, it just takes a minute or so.\n. @goldquest correct :)\n. Check out https://github.com/johnmclear/draw\nI'm working on developing a plugin with that and using UeberDB to store changes.  \nDo you wanna work together?\n. Agreed.  It's a side project anyway unless someone wants to fund it ;)\n. @ooxi if you wanna chat more about this jump on IRC\n. #etherpad-lite-dev irc.freenode.net\n. I can't see that functionality on hackpad.  I don't think I fully understand the functionality you want.  Is it a dynamic Table of Contents that is updated as you add headings etc?\nRE concepts if you'd be happy to setup the indiegogo and handle the promotion and votes on the lists of plugins then I'd be happy to put a rough estimate together to realize each one.\n. @Wikinaut it's based on the old Etherpad and they were kinda against contributing to the open source project.  Do note a lot of functionality is missing in Hackpad.  Because they aren't using Etherpad Lite and because they are working closed source we can't work with them, that's their call not ours.\nAnyway, yes Table of contents is possible.  I'd say ~10 hours work.\nI'd quite like to see Task lists too.\n. @orph do you really want me to list the differences between two products?  I'm pretty sure you can do that yourself.\n. See: https://github.com/JohnMcLear/ep_table_of_contents\nTo finish this would take a day of my time.  Sponsorship or donations would make this happen.\n. We should use this style of UI\nhttp://ehmorris.github.com/jQuery.birdseye/\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Oh yeah, this is done btw..  forgot about that...\n. For anyone who missed it, see the ep_table_of_contents plugin\n. \"Please review our guidelines for contributing -- issue your pull requests against develop branch!\"\nPLEASE READ THE GUIDELINES\n. I understand the motivation but why the Milestone?\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. I really don't see why chat should be a plugin, it's modular and easy to turn on/off..  Is this in a bid to allow platforms to just provide the editor?\n. Yes he has, we're using bisect to try to isolate the problem\n. Can I ask you to please issue a pull request against the ep_headings git repo instead of creating a new npm package?\nDid you do some security checks on your code?\n. Also this needs to be a plugin and needs tests included\n. Improvements should be plugins.\n. My conclusion was my initial statement.  This needs to be a plugin :)  If you need help writing plugins feel free to jump on the IRC channel or mailing list :)\n. Does anyone ever read the contributing guidelines?\n. There is a video tutorial on youtube fow how to do this.\n. Note that this needs to support i18n\n. @mluto go for it and earn cookies\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Help us help you: https://www.bountysource.com/issues/1371882-add-date-to-chat-msg\n. Very old version\njohnyma22 authored 9 months ago\nplease update\n. Tagged but it wont let me assign it to you\n. Woohoo Thanks @mluto !\n. Move this forward at https://www.bountysource.com/issues/1371881-add-user-events-to-timeline\n. Have you tested building the windows package with this?\nWhat problem does this actually solve?\n. \"This pull request cannot be automatically merged.\"\n. /tests/frontend/?grep=language.js is failing on \"Makes text English\"\n. Was looking at doing backend testing framework and it'd be handy to have this available if someone can get it working and tested :)\n. https://github.com/ether/etherpad-lite/commit/746396951d66457519f32c71b432c04f2fe003ed\n. Probably an iOS6 bug but anyway, are you hitting a public site or private?  does http://beta.etherpad.org work?\n. I assume this issue can now be closed?\n. Try reinstall to a new directory as a NON ROOT user and make sure you dont run etherpad on port 80.\n. Closing due to lack of activity.\n. /admin/plugins\nWhat makes you think it's just /plugins ?\n. I think I fixed that in latest develop branch\n. @marcelklehr I'd rewrite huge chunks of code if I improved every part of Etherpad as I saw problems.  That way you would be waiting weeks for pull requests.\nHowever I will overcomplicate this pull request if it makes you both happy.  It will take me a few days.\n. @marcelklehr ready to merge\n. I can consistently make this fail.\n. Caused by this:\ncat /tmp/doc/custom_static.html | sed 's/VERSION/1.2.6/' > /tmp/doc/custom_static.html\n. cat doesn't like the input and output file to be the same.\n. See https://github.com/ether/etherpad-lite/pull/1412/files -- Please test and merge then close.\n. +1 yet another edge case for fucking Apple.\n. Perhaps a Mac owner can test this, I don't have a mac..  I think @Pita might have one\n. @mluto Makefiles are not bash scripts\n. Pushed a fix for MacOS\n. Pushed another fix\n. Confirmed fixed tnx @Pita for testing\n. I'm sure I fixed this..  Are you running latest / a recent version?\n. Are you running extractPad from etherpad path IE\nnode bin/extractPadData.js\nThat's how it's documented afaik\n. Gah its an easy fix will take a look monday\n-----Original Message-----\nFrom: mluto\nSent: 5 Jan 2013 08:25:08 GMT\nTo: ether/etherpad-lite\nCc: John McLear\nSubject: Re: [etherpad-lite] extractPadData.js not working (#1320)\n```\n[ luto luto-portable ~/etherpad-lite ] node bin/extractPadData.js 25zvFTiM2u\nmodule.js:340\n    throw err;\n          ^\nError: Cannot find module 'log4js'\n    at Function.Module._resolveFilename (module.js:338:15)\n    at Function.Module._load (module.js:280:25)\n    at Module.require (module.js:362:17)\n    at require (module.js:378:17)\n    at Object. (/Users/luto/etherpad-lite/bin/extractPadData.js:14:14)\n    at Module._compile (module.js:449:26)\n    at Object.Module._extensions..js (module.js:467:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Module.runMain (module.js:492:10)\n```\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/issues/1320#issuecomment-11911578\n. What version of node and npm are you running?\n-----Original Message-----\nFrom: mluto\nSent: 5 Jan 2013 10:43:15 GMT\nTo: ether/etherpad-lite\nCc: John McLear\nSubject: Re: [etherpad-lite] extractPadData.js not working (#1320)\nI tried to fix the paths but this just yields a new error..\nvar log4js = require(\"../src/node_modules/log4js\");\nlog4js.setGlobalLogLevel(\"INFO\");\nvar async = require(\"../src/node_modules/async\");\nvar db = require('../src/node/db/DB');\n```\n[ luto luto-portable ~/etherpad-lite-luto ] node bin/extractPadData.js sF4QGozWqi\nTypeError: Object # has no method 'get'\n    at EventEmitter.Object.defineProperty.get [as dir] (/Users/luto/etherpad-lite-luto/src/node_modules/npm/lib/npm.js:448:22)\n    at Object. (/Users/luto/etherpad-lite-luto/src/node/utils/Settings.js:30:44)\n    at Module._compile (module.js:449:26)\n    at Object.Module._extensions..js (module.js:467:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Module.require (module.js:362:17)\n    at require (module.js:378:17)\n    at Object. (/Users/luto/etherpad-lite-luto/src/node/db/DB.js:23:16)\n    at Module._compile (module.js:449:26)\n```\nSo it's up to you to fix this. sorry.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/issues/1320#issuecomment-11912576\n. Okay ta\n-----Original Message-----\nFrom: mluto\nSent: 5 Jan 2013 10:46:01 GMT\nTo: ether/etherpad-lite\nCc: John McLear\nSubject: Re: [etherpad-lite] extractPadData.js not working (#1320)\n[ luto luto-portable ~/etherpad-lite-luto ] node --version\nv0.8.16\n[ luto luto-portable ~/etherpad-lite-luto ] npm --version\n1.1.69\non OS X 10.8.2\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/issues/1320#issuecomment-11912603\n. Clear browser cache\n-----Original Message-----\nFrom: qubicle\nSent: 3 Jan 2013 11:35:15 GMT\nTo: ether/etherpad-lite\nSubject: [etherpad-lite] Error in Internet Explorer below Version 10 (#1321)\nAccessing Etherpads with Internet Explorer 9 and lower crashes.\nAn error occured\nThe error was reported with the following id: 'Y0OhTfVuowdYfSitPwD8'\nPlease send this error message to us:\n'ErrorId: Y0OhTfVuowdYfSitPwD8\nUserAgent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.1; Trident/6.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET4.0C; InfoPath.3; Tablet PC 2.0)\n\"html10n\" ist undefiniert in http://beta.etherpad.org/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define at line 33'\nInternet Explorer 10 displays Etherpads without errors.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/issues/1321\n. Do you get this problem on beta.etherpad.org or just your own instance?\n. No offense to you but you probably aren't clearing your browser cache properly due to IE being a horrible browser :|  I tested in IE9 and it's fine..\nHere is what you do..\nVisit http://beta.etherpad.org in IE\nPress Control Shift Delete\nMake sure everything is selected\nHit Delete\nCLOSE INTERNET EXPLORER <--- if you don't nothing is deleted.....\nOpen IE, Visit http://beta.etherpad.org\nCreate new Pad..  \nShould work fine..  Let me know if you still have a problem..  We have automated tests to catch this type of problem so it's unlikely we missed it!\n. Can replicate in IE8 on saucelabs but not IE9 locally...\n@marcelklehr \n. Opening console appears to fix the problem... @marcelklehr \n. Okay this is a major, no idea how this got through, will be due to the latest console object patch..  Should be fixed today and we will have to release a new version today or tomorrow :\\\nThanks for spotting.\n. Line: 26\nError: Unable to get value of the property 'log': object is null or undefined\nLine: 6\nError: 'html10n' is undefined\n@marcelklehr \n. Ready to be tested?\n. @luto any update? :)\n. beta.etherpad.org runs latest develop and includes license in Source\n. huh?  Me or?\n. done\n. Seems like a fair request.\n. Ouch, paste your settings.json removing passwords..\n-----Original Message-----\nFrom: rycks\nSent: 5 Jan 2013 08:15:17 GMT\nTo: ether/etherpad-lite\nSubject: [etherpad-lite] etherpad-lite slower than etherpad ! (#1325)\nHi all,\ni don't know if it is a bug or a missconfiguration  ... but what is the problem with my etherpad-lite installation ?\nwith etherpad-lite, the first load is\n250 requests  \u2758  568.32KB transferred  \u2758  34.06s (onload: 24.70s, DOMContentLoaded: 24.70s)\nand with old etherpad it was\n69 requests  \u2758  23.53KB transferred  \u2758  2.73s (onload: 1.30s, DOMContentLoaded: 747ms)\nIs that normal or a bug ?\nThanks,\n\u00c9ric\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/issues/1325\n. beta.etherpad.org is \n41 requests  \u2758  431.70KB transferred  \u2758  8.06s (onload: 5.97s, DOMContentLoaded: 4.09s)\n. Your stats from old etherpad are incorrect\n65 requests  \u2758  161.83KB transferred  \u2758  2.88s (onload: 1.68s, DOMContentLoaded: 860ms)\nis what I get..\n. @rycks yea, sketchspace is pretty badly written and maintained :(\nCheck out http://draw.etherpad.org for a lightweight drawing solution we're working on.\nThere is a also a plugin available afaik\n. +1\n. Use the Network tab in FireBug/Chrome to see if this actually improves page load times.  Clear cache first.\n. That's pretty impressive. Not sure if @cweider or @marcelklehr want to have some input on this\n. o hai.\n. would like to see some major issues resolved before adding new features.\n. Tested okay, requires a test spec tho\n. So happy about this pull #\n. something got stored wrong, that's bad :(\ndoes padURL/export/txt work?  \nafaik there is a script in bin to check pad integrity.\n. Bummer.  Not sure how to fix that easily :\\\nAnyway at least you have your pad content.  My assumption is you tried a bad plugin or something that broken your pad data.  We need a way to test/recreate the integrity of a pads changesets.  Feel free to create a new issue requesting that.  Closing this because you have your data.\n. What browser?  What does git status say?\n. You have modified/untracked files?  Also what branch are you running from?\nDoes http://beta.etherpad.org work for you?\n. Try turn minified to false in settings.json\n. It should have at least changed the line number...  What OS is etherpad running on?\n. and what branch?\n. try checkout develop, see if that helps.\ngit checkout develop\n. try\ngit checkout 1.2.3\n. try \ngit checkout 1.2.1\n. git bisect start\ngit bisect good\ngit checkout 1.2.3\ngit bisect bad\nrinse, repeat until you find the bad commit\nhttp://stackoverflow.com/questions/4713088/how-to-use-git-bisect\n. Any update on this @xwolfde  ?\n. Closing due to lack of activity\n. I created a freedomsponsors.org for this issue: http://www.freedomsponsors.org/core/issue/118/search-history-of-pad\n. @marcelkehr do you think this should be an API endpoint and/or provided purely as a plugin?\n. Okies\n. This now exists in alpha format https://github.com/JohnMcLear/etherpad-historical-search\n. fyi I think I have admin on UeberDB too so that kinda makes me a maintainer but im not so much interested in writing query functionality\n. Any tests included?\n-----Original Message-----\nFrom: Swen\nSent: 9 Jan 2013 19:08:08 GMT\nTo: ether/etherpad-lite\nCc: John McLear\nSubject: Re: [etherpad-lite] API & backend to list pads on epl instance (#1342)\nOk, implemented the basic functionality for some dbs (dirty, mysql and mongo).\nhttps://github.com/spcsser/ueberDB/tree/feature/findKeys\nHow it works is in the wiki: https://github.com/spcsser/ueberDB/wiki/findKeys-function\nFor my desired feature - to list all pads - this would suffice. (Having only to call it once on startup and work later with live data.) For other use, especially heavy searching this might not perfom, since it has to rely on regex to retrieve data - at least for some dbs.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/pull/1342#issuecomment-12061207\n. UeberDB stuff merged, waiting on Peter to give me ability to npm publish ;\\\n. Just spotted, getPads is listed in the APIHandler file for 1.2.1 when it wont be available then?\n. My understanding is that\n+#### listAllPads()\n     426    \n+ * API >= 1.2.1\nneeds to be changed to\n+#### listAllPads()\n     426  \n- * API >= 1.2.5\n```\nas it wont be in until 1.2.5\n@marcelklehr knows more about this convention\n```\n. Then once Pita ads me as on Ueber and I push we can merge this :) \n. https://npmjs.org/package/ueberDB\nI published 0.1.9 just waiting on npmjs.org web ui to catch up.\nIn the mean time let's have a smoke and a pancake.\n. Ta @marcelklehr @spcsser can you investigate please?\n. You should write a plugin for this.  This isn't a problem or bug and it should be posted on the mailing list.\n. beta.etherpad.org runs mysql and is running latest.\nPlease post more information such as your branch, other steps you have tried, what happens if you try checking out old versions etc...  See https://github.com/ether/etherpad-lite/issues/1339 for debugging steps\n. @nhatchu what's the latest on this?  We can't replicate the problem..  What OS are you using?\n. Closing due to lack of activity\n. https://github.com/ether/etherpad-lite/pull/1346\n. readme doesnt exist for most plugins\n. https://github.com/ether/etherpad-lite/pull/1379\n. Visit http://etherpad.org\nClick Windows download\nExtract the file\nDouble click start.bat\nI just tested it and it's working fine on Windows 7.\nDoes localhost resolve to 127.0.0.1 for you?\nping localhost\n. ::1 is the same but ipv6\nTry browse to http://127.0.0.1:9001\n-----Original Message-----\nFrom: Jack Park\nSent: 12 Jan 2013 01:02:30 GMT\nTo: ether/etherpad-lite\nCc: John McLear\nSubject: Re: [etherpad-lite] Simple Windows download fails to boot. (#1350)\nRight now, I am guessing that localhost does not resolve to 127.0.0.1 on my win7 box\none answer on the web suggests to uninstall security essentials.\nlots of chatter here: http://serverfault.com/questions/4689/windows-7-localhost-name-resolution-is-handled-within-dns-itself-why\nStill digging...\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/issues/1350#issuecomment-12170888\n. checkPad.js is fixed now, give that a spin\n. What does checkPad.js output?\n. Did you try https://github.com/ether/etherpad-lite/blob/master/bin/checkPad.js ?\n. Nothing, something is broken in settings.js :\\\nI'd recommend doing a bisect to find out where this is broken, it looks like it might have got broken a long time ago when we introduced the plugin framework ;\\\n. confirmed..\n. Nope.\n. I suggest creating an issue on ep_authornames github repo.\n. :?\n. ta\n. docs say to do:\nnode bin/checkPad.js test\nPerhaps try that?\n. I'd take a read through the source code see if you can figure out what it's doing any how it's working\n. Can you replicate on http://beta.etherpad.org/p/foo in IE? btw this isn't the right place to file bugs about plugins.  Each plugin has a repo, find the ep_headings plugin repo and file the issue there please :)\n. Was a short comment cause comments for me have been broken on github for the last 2 days ;\\\nDo you not see anything in node console when you try to import?\nTry run etherpad as bin/run.sh and see if you get anything useful to help you debug.\n. Try to not use ?noColors=true -- that might be breaking it.\n. It's a bug I need to fix I guess.\n. Try latest develop https://github.com/ether/etherpad-lite/pull/1386\n. My mistake happened when I bumped v #\n. also fixes #1110 \n. ready for re-test\n. yep, go for it, just refer to how I did it\n. Can you replicate by creating 25k changesets?\n. Well if you can create a test spec that fails that would be the ideal scenario for us to debug, it should be relatively easy to do, check out the timeslider spec, it already has something in for creating 100 revisions.\n. Closing as this is a duplicate of https://github.com/ether/etherpad-lite/issues/1763 which has a bit more debugging/\n. They will prolly require extending for findKeys, see UeberDB https://github.com/Pita/ueberDB && https://github.com/Pita/ueberDB/pull/18\nShouldn't be too difficult\n. @duk3luk3 version of etherpad?  ideally the git rev\nalso if you can tell me the version of ueberdb from src/packages.json\n. Try\n`git checkout develop``\nor\nedit your src/packages.json and change ueberdb from 0.1.9 to 0.1.91\nShould resolve it.\n. Ended up using a different hook.\ndocumentReady did the job.\n. Time\n. I think he wants to search through ALL current revisions of pads, correct @SHADOW6 ?\nAre you willing to sponsor this development?\n. Just extend ep_adminpads to have that functionality.  You didn't answer my question RE sponsor.  I can prolly knock something up for you but you'd need to pay for my time as you haven't contributed to the project.\n. Donations are always appreciated.\nDid you check out the admin pads plugin?\n. Wow that blog post is bad...  Gonna delete it..  \nYou really need to update please\n. Change of plan.. Review the blog post, I updated it..\n. http://mclear.co.uk/2012/04/05/how-to-enable-or-disable-plugins-in-etherpad-lite/\n. np :) \n. This isn't the home of the ep_tables plugin, you will need to contact the plugin author\n. if it's a plugin error (IE etherpad works fine before install and fine after install) then you report it to the plugin author.\n. Please create an issue on the plugin developers github\n. tested in IE8?\n. Please test in IE8\n. put your external IP in your settings.json\n. yes i did.  do you have your external IP in your settings.json?\n. ip\n. Well that's a problem..  We need to fix that..  I have no idea how that happened.\n. https://github.com/ether/etherpad-lite/blob/115f7d6b5124a75f32654eb45c8e0edd65863f4e/node/PadMessageHandler.js\n. \"clientIp\": (client.request && client.request.connection) ? client.request.connection.remoteAddress : \"127.0.0.1\",\n. I just realized you are looking at a message broadcasted to all clients.  That is the correct behavior.  We don't want to publish the client IP to other clients.  That would be a huge security issue.  Do you not have other messages in your log that show activity (server side)?\n. @marcelklehr didn't you add something about extending logging just last week?\n. Looks good but I think over-engineering the /admin will come at a cost and not really benefit 99% of our users.\n. ' is bad \" is good.\n. ' is bad in settings.json \" is good in settings.json \nYou can't use ' in an array in settings.json, it breaks the settings file.  So I fixed it and we can move forward :) \nAny more questions?\n. I understand, what a difference a ' makes ;)\n. +1 for comments.\n. No auth for group / non public pads?\n. What about clearChatHistory?  Can we have that please? :) \n. After Checking for updates I get \"Unknown status\" FYI\n. http://youtu.be/jPjP08XzN_U shows quite a few of the new UX issues :)\n. +1\n. confirmed.\n. @mluto this is great but really it needs test specs before we can merge it :) \n. Awesome :)\n. I can't spot anything obvious\n. What's the status on this @mluto?\n. Wouldn't that make even more confusion?\n. \"Raw data\" would be a pain to interpret.  We provide nice HTML so it's easy to work with.\n. We have other API endpoints that return HTML\n. afaik there is an API endpoint to get pad HTML.\nThis is basically teh same but instead of getting just the HTML it shows modifications to that HTML inline\n. Have you guys actually looked at the output from this API endpoint?\n. No that's not what it does.  PLEASE LOOK AT THE OUTPUT before commenting.\n. Weird I thought this already existed?  Something like :rev1242  Mheh turns out I can't find it :) Good work!\n. Move this forward at https://www.bountysource.com/issues/1371867-api-add-possibility-to-delete-last-revision\n. I did this, docs are available in wiki\n. I did this, docs are available in wiki\n. Some feedback as promised\n- [x] As well as animated gif, how about a \"Please wait whilst we download the plugin catalogue, this may take some time\"?\n- [ ] Does sorting by version make any sense?\n- [x] It should be clear what clicking on a plugin name does (A title hover will fix this)\n- [x] It should be clear that a plugin name is a link (An underline will fix this)\n- [x] Sorting up by version doesn't work\n- [x] Sorting by description works great\n- [x] Is there any point showing ep_ in the name?\n- [x] The overlay works great when you click to install plugin themes\n- [x] I got a 404 error whilst trying to install ep_themes (404 not found: ep_etherpad-lite)\n- [x] The infinite scroll doesn't work If when you first load the paeg your Y window height is > than the list of plugins  container height\n- [x] Perhaps if no search results are found we should display a \"no items match your search criteria\"\n- [ ] Please provide more links for stuff like plugin feedback, not getting feedback from plugins is a really big problem of mine\n- [x] Search shouldn't be availabl euntil registry has downloaded\n. - [x] Stuck on Fetching installed plugins and Fetching catalogue..  Looks like it was a broken session issue but it wasn't asking me to log in again ;\\\n- [x] Maybe stop user leaving page whilst \"installing\" cause if you are at bottom of list and click install you assume it's done..  That or move users scrollY position to 0..\n- [x] Fetching installed plugins and Fetching catalogue need a progress.png\nConfirm everything else is fixed :)\n. - [x] CSS for small screen devices now seems to be broken (replicate by making window really narrow)\n. Closing because the only thing left to do is a way to get feedback from uninstall and we have a separate issue open for that\n. I guess we really need to do some usability studies to answer this question fully ;\\  Anyone got any experience in doing them?\n. +1 change it to save revision\n. @icanberk fancy sharing your save icon?   We could use gritter to display a notification to tell users that pad contents is saved automatically and give them an option to never notify them again if they acknowledge it (checkbox)/\n. Yea @icanberk I have seen that a fair amount of times..  even I found myself hitting control s frequently so I added save revision functionality on control S but this isn't a positive enough enforcement..\n. So on develop it \"is\" save revision, I may be missing something @iquidus..\nI'm still gonna replace the star with a save icon though..\n. @iquidus done.\n. @0ip can you please sort out a new icon for the pad and timeslider please?\n. This notification can be passed using gritter\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Done: https://github.com/JohnMcLear/ep_prompt_for_name\n. on notifications branch notifies updates on all messages assuming chat window isn't open\n. yea @goldquest if I was you I'd sponsor this as a plugin.  I would want to embed a pad in a CMS or so that required auth.\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. @marcelklehr please ensure you are happy w/ this change it changes an APIs response so I'm not sure how you want it.\n. @0ip FYI I think this might merge with your recent work...\n. Looks good though, no reason not to merge imho\n. Thanks @spcsser and @0ip\n. @mluto is not quite experienced enough to realize that a lot of people aren't as smart as him ;)\n. Confirmed.\n. Funnily enough this bug only appears if you are in IE9 and switching to IE8.\nhttps://github.com/ether/etherpad-lite/commit/e4032f4d7438 is a test for this anyway :)\n. Turns out we do have an issue with NaN though..  looking into that now\n. All issues fixed and a test in place.\n/tests/frontend/?grep=timeslider_labels.js\n. Ah, confirmed.  Have to use sauce labs to test this one.  Javascript error console is undefined in timeslider.js -- Confirmed having console available fixes bug..\n. We may need latest jQuery for this to work painlessly\n. @runam0K did you have console open when you tested?  page works fine for me if I have f12 open\n. My suspicions is that the console error is coming from html10n but it's really tough to confirm.. :\\\nOnly html10n.js and timeslider.js have console access that would cause this error\n. @runam0K if you can comment out the console lines from timeslider.js and re-test to see if you get the error then do the same that would isolate the error to a specific function.\n. Open up src/static/js/timeslider.js and search for the string \"console\" then comment it out\n. Error is:\n[2013-01-31 17:36:26.035] [ERROR] console - Unable to load plugin definition file /home/jose/etherpad-lite-dev/ep.json\n. Fixed by visiting my plugin directory and doing npm install..  @redhog you might want to think about inclukding ep_linkify with ep_copypad, makes sense as copy pad doesn't work very well without it :)\n. Feel free to add them in and submit a pull request :)\n. Awesome thanks :) \n. Strange..\nTry \nrm -rf src/node_modules\nbin/build.sh\nThat we re-install Socket.IO\nJust FYI in some browsers it's dangerous to test stuff on /localhost/ because of the way that cookies and sessions work\n. Sorry, I meant bin/run.sh !! My mistake..\n. [2013-02-01 21:02:16.739] [WARN] message - Authentication try failed:{\"component\":\"pad\",\"type\":\"CLIENT_READY\",\"padId\":\"test\",\"sessionID\":null,\"password\":null,\"token\":\"t.5XBRvD9TPbMX7vjndTPh\",\"protocolVersion\":2}\nWhy are you trying to authenticate?  \nDid you modify your settings.json away from the template?\n. Etherpad is behaving properly by the looks of things.  If you change requireSession to false I assume everything is fine?\nAlso RE commenting out basic user auth part, doesn't that break functionality when requireSession is set to true?  Try comment that back too.\nFrom the logs it looks like  https://github.com/moodlehu/moodle-mod_etherpadlite doesn't create a session, I'd create an issue there..\n. try a clean install and if that doesn't work try \ngit checkout develop\nAre you clearing your browser cache each time?  IE9 is a pig at holding browser caches.\n. It shows MSIE7 in your crash report..\nYou reported IE9...\n. Can you paste the new error without IE9 in IE compatibility mode please?\n. Try turn minify to false and set maxAge to 0 in settings.json\nRestart and see what error you get.\nAlso play with the available transports in settings.json\n. I notice you aren't running Etherpad on root, does it help if you don't try to rewrite?\nPlease stop testing through apache btw.\nDid changing your transports in settings.json help at all?\n. Please paste the error you get when you don't rewrite through apache\nSee https://github.com/ether/etherpad-lite/blob/develop/settings.json.template#L104 -- You could try to play with removing values from this array.\n. I'm 99% sure this was admin error as he silently solved it..\n. Where do you want to check?  You could parse the JSON or you can look in the settings object...\n. Yep and +1 on well documenting your issue :) Thanks man! :)\n. Go for it :) \n. Up to you but latest should be our goal imho\n-----Original Message-----\nFrom: Manuel Knitza\nSent: 2 Feb 2013 03:38:49 GMT\nTo: ether/etherpad-lite\nCc: John McLear\nSubject: Re: [etherpad-lite] jquery update 1.7.1 -> 1.8.3 (#1445)\nMaybe it's worth going smaller steps; would be nice to see no new bugs arise with v.1.8.3; I will provide necessary changes vor v.1.9.0 a bit later. What do you think?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/pull/1445#issuecomment-13024122\n. Cdn is bad for privacy, option might work tho\n-----Original Message-----\nFrom: mluto\nSent: 2 Feb 2013 07:59:28 GMT\nTo: ether/etherpad-lite\nCc: John McLear\nSubject: Re: [etherpad-lite] jquery update 1.7.1 -> 1.8.3 (#1445)\nUhm... why do we even host jQuery ourselves and not just point the link to some CDN of which there are plenty?\nThis also means that jQuery only needs to be loaded once, for many sites..\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/pull/1445#issuecomment-13026153\n. What's going on with this @disy-mk ? \n. Awesome, excited :) \n. Tested in all browsers?\n. done\n. done\nDate: Sat, 9 Feb 2013 06:52:10 -0800\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nCC: john@mclear.co.uk\nSubject: Re: [etherpad-lite] Allow plugins to specify specs (#1446)\nActually i meant you to add to this: http://etherpad.org/doc/v1.2.7/#index_plugin_framework\n```\n          \u2014\n      Reply to this email directly or view it on GitHub..\n\n```\n. @mluto I think you might want to check this?\n. Should probably be EJS in case people want to extend with plugins but not sure how that would work..\n. Any update on this?\n. I'm due to document setHTML tonight, feel free to document it and issue a PR!\n. Working on this now.\n. https://github.com/ether/etherpad-lite/pull/1514 -- Will be working on this PR next 15 mins polishing it\n. People who care about this issue please\ngit checkout dont-die-on-bad-html\nrestart etherpad then try the call.  Let me know if it works okay.  \nTested okay my end.  Doing docs now.\n. @Miserlou please provide HTML that fails.\n. <!DOCTYPE html>\n<html>\n  <head>\n    <title>Hello HTML</title>\n  </head>\n  <body>\n    <p>Hello World!</p>\n  </body>\n</html>\nhttp://en.wikipedia.org/wiki/HTML\n. afaik that should fail.  I will find otu now why it's allowing it to be blanked.\n. I tested this and it's not allowing for pads to be blanked..  Are you possibly mistaken?\n. Awesome :) btw a GET will work too afaik\n. @Mic92 Fair point, SetHTML and getHTML should have the same heuristics but I'm paranoid of changing getHTML and breaking other instances.  Alternatively we could prefix or suffix the setHTML input with the relevant doctype, head etc. but that could cause pain for people that are passing true HTML.\nThoughts and opinions are welcome\n. Yea it probably could be.\n. We are going to merge in API Versioning in 1.2.9 so this isn't resolved yet unless you patch manually.  We will get 1.2.8 out in the next 7 days.  So if you want this fix checkout dont-die-on-bad-html and pull in develop.\ndont-die-on-bad-html will go into develop in ~7 days.\n. You are very welcome to fork dont-die-on-bad-html and open a pull request with a suitable fix in :)\n. yerp derp\n. thanks for the nudge\n. (1) [2013-02-04 19:52:50.393] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production.\n(2) [2013-02-04 19:52:50.980] [WARN] console - Admin username and password not set in settings.json. To access admin please uncomment and edit 'users' in settings.json\n1) https://github.com/ether/etherpad-lite/wiki/How-to-use-Etherpad-Lite-with-MySQL\n2) edit settings.json and scroll down to your users section\n. do bin/run.sh not etherpad-lite/bin/run.sh\nYour users section should look like this when uncommented..\n```\n/ Users for basic authentication. is_admin = true gives access to /admin.\nIf you do not uncomment this, /admin will not be available! /\n\"users\": {\n  \"admin\": {\n    \"password\": \"changeme1\",\n    \"is_admin\": true\n  },\n  \"user\": {\n    \"password\": \"changeme1\",\n    \"is_admin\": false\n  }\n},\n```\nEdit it using /admin/settings and it will stop you making a mess.   \nI recommend you either contract someone in who has the time to read some documentation.  Newbie's can at least follow guides, I'm basically doing your work for you.\n. All sorted.\n. I had this working before so I'm pretty sure it's possible but I no longer have access to IIS so I can't work on it.\n. We're rewriting auth over the next few months\nPeep https://github.com/rhelmer/etherpad-lite/tree/teampad for a branch that includes team pad and I think persona.  Ping @rhelmer for details\n. Great thanks, looking forward to testing this :)\n. Templating engines comes with an inherit learning curve.  I'm not a big fan, especially considering how little we actually concatenate strings.\n. Just for the record I'm -1 on this.\n. To modify my stance I use mustache on another project.  It was useful, it might not bring much value to Etherpad though..\n. Closing due to lack of interest and the code is stable.\n. Fix in https://github.com/ether/etherpad-lite/pull/1457\n. Opera doesn't even work right now though ;\\  I mean you can't even get to pads in it..\n. Used git bisect\nCaused by  eaa835630c121954\n. Ah, actually caused by cba00134\n. https://github.com/ether/etherpad-lite/pull/1473\n. @0ip is working on admin pages right now just FYI\n. Developers (including me) can add links to the repo in the packages.json of their plugin.  Example: https://npmjs.org/package/ep_draw\nWe use NPM as it's a distribution platform and shows the actual version and info of the plugin.  It is the right choice here.\nFeel free to add my git repos to my packages.json files and issue PR's\n. would it not make more sense to sort by popularity/# of downloads?   How about a sort option?\n. Lol typical @wikinaut ;)\n@Wikinaut happy for you to have opinions but if you can provide a usability study that backs em up that'd be awesome :) IMHO the most popular plugins are the best ones and the ones people will mostly likely want so they should be visible first.\n. hah\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Help move this forward on https://www.bountysource.com/issues/1371858-admin-plugin-page-sort-the-list-of-available-plugins\n. Yea I think a redirect is the solution, please do this :)\n. @disy-mk this will break on the next jquery version, this is bad.\n. We are thinking that when we update jquery the next time it will break the .browser functionality.\n. I really don't think the attitude of \"I will take care about that\" is something we should accommodate.  Code should be robust so that it doesn't require human interaction on update.  Yea I'm keen to drop .browser too though, maybe we should attack it like that?\n. don't we pre-install etherpad for windows so deps are already available?\n. Couldn't think of a more simple way to do it. ;/\n. True i could probably require a few functions\n-----Original Message-----\nFrom: Pita\nSent: 10 Feb 2013 22:20:50 GMT\nTo: ether/etherpad-lite\nCc: John McLear\nSubject: Re: [etherpad-lite] TXT Export Indentation on lists Edit (#1491)\nI don't get it, what did you do here excatly. Looks like you copy pasted exportHtml. Thats a lot of code duplication too, code duplication is always bad\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/pull/1491#issuecomment-13362615\n. @pita removed a lot of duplicate code, documented what I couldn't remove and why. Needs further testing\n. @marcelklehr wanted to see the required stuff from exportHTML moved into a exportHelper file.  I feel like it's re-factoring for the sake of re-factoring and wont actually improve maintainability.  Happy if someone else wants to commit some code that does this, it's probably worth doing long term but might be worth creating a separate issue as part of a bigger re-factor job.\n. @marcelklehr stuff moved to helper file, ready for testing and merge.\n. Ready for further testing\n. Good catch, fixing now if I can :)\n. Ready to test\n. @disy-mk I assume you are still working on this and it's not ready to merge?\n. What happened here?\n. Awesome :)\n. Not looked into it yet so not sure :) \n. Waited long enough and got this: \n```\nUncaught Error: exports: Z:1>lw1o|bz3+lw1m+2$                   eplite_import_2013370442.htm          \n\u00ff\u00d8\u00ff\u00e1?\u0081Exif??II*???????????????n???????????}???????????????????????????(???????????2???????????????????????i???????\u00a7???????LG Electronics?VS660?H???????H???????2012:10:26 10:09:57?\n??\u0090??????0220?\u0090??????%????\u0090??????9???????????????\n???????M???? ??????0100? ??????????? ??????????? ??????????? ??????U???????2012:10:26 10:09:57?2012:10:26 10:09:57?\u00af???d?????????????R98?????????0100??????????\u00ff\u00db??????????????????\n??????\u000b\n???????????????????!?????????\"$\"?$????????????????????????????????????????????\n```\n... (truncated)...\n. Copy/pasting the pad contents from the export to a .htm file and trying to import results in \nImport failed: We were not able to import this file. Please use a different document format or copy paste manually\nI was hoping that importing a binary file would nuke the pad.  Damn ;\\\n. Trying to import http://www.exiv2.org/include/img_1771.jpg directly into a pad doesn't crash, you get import failed.\n. The good news is that the server isn't bombing out at least :) \n. Anyway, the jist of this is that somehow the user was able to import an image into the pads content which bombed the pad out.  10 points for anyone who can provide steps to replicate.  Is probably a trial and error.  If you can provide an image that replicates the bug please share the URL of the image.\n. @marcelklehr No luck I'm afraid, still didn't crash the pad when I tried to import it.  \nIf other people can please try and import images until you find an image that crashes a pad that'd be great :)\n. a .db file that contains a \"broken\" pad\nhttps://www.dropbox.com/s/umz8hqaoxjhb2so/dirty.db\nDo clean install of Etherpad then place this in /var/dirty.db\n. Possibly caused by: josephg.com/post/31707645955/string-length-lies\n. https://github.com/joyent/node/issues/4853\n. http://beta.etherpad.org/api/1.2/setText?apikey=EtherpadFTW&padID=testingSomethingMagical&text=magicPants%20%F0%9D%84%9EmagicPants\nhttp://beta.etherpad.org/p/testingSomethingMagical\n. agree'd that's not the cause\n. Yea it should be solved now :)\n. Caused by removing setTimeout code, have asked Peter to revert.\n. It appears this fix breaks IE9 only, completely crazy.\nobject doesn't support property or method \"parentElement\"\n. Caused by 6191b016\n. To replicate, create new pad, delete all content, hit tab key, notice position of caret.\nVisible in Chrome\n. Tab in Firefox takes you to the URL bar.\n. IE seems fine\n. Opera does nothing.\n. Opera on master creates two indents (bug)\n. Firefox on master does correct behavior.\n. Well.  Thanks Opera..  Just as I begin fixing bugs they are moving to WebKit..\nThis will no doubt fix the majority of Opera contentEditable bugs..\nI guess it's good news...\nhttp://my.opera.com/ODIN/blog/300-million-users-and-move-to-webkit\n. For anyone testing, you will need to wait for Opera to fix their browser (by moving to webkit)\n. This issue still exists but it's still not really much concern of mine..\n. Ensure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2013-02-27 16:10:26.512] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production.\n[2013-02-27 16:10:27.210] [ERROR] console - path.existsSync is now called `fs.existsSync`.\n[2013-02-27 16:11:34.197] [ERROR] console - Error: exports: mismatched follow\n    at Object.error (/home/jose/etherpad-lite/src/static/js/Changeset.js:39:11)\n    at Object.assert (/home/jose/etherpad-lite/src/static/js/Changeset.js:53:13)\n    at Object.exports.follow (/home/jose/etherpad-lite/src/static/js/Changeset.js:2013:11)\n    at Object.async.series.client.json.send.disconnect [as callback] (/home/jose/etherpad-lite/src/node/handler/PadMessageHandler.js:589:35)\n    at /home/jose/etherpad-lite/src/node_modules/ueberDB/CloneAndAtomicLayer.js:139:17\n    at exports.database.getSub (/home/jose/etherpad-lite/src/node_modules/ueberDB/CacheAndBufferLayer.js:378:7)\n    at exports.database.get (/home/jose/etherpad-lite/src/node_modules/ueberDB/CacheAndBufferLayer.js:198:7)\n    at exports.database.get (/home/jose/etherpad-lite/src/node_modules/ueberDB/dirty_db.js:48:3)\n    at exports.database.get (/home/jose/etherpad-lite/src/node_modules/ueberDB/CacheAndBufferLayer.js:171:20)\n    at exports.database.getSub (/home/jose/etherpad-lite/src/node_modules/ueberDB/CacheAndBufferLayer.js:350:8)\n    at doOperation [as operatorFunction] (/home/jose/etherpad-lite/src/node_modules/ueberDB/CloneAndAtomicLayer.js:133:18)\n. Fixed with https://github.com/ether/etherpad-lite/pull/1565\n. Client does not attempt re-connection.  No errors in console or on server.\n. One can only assume this was due to broken session management as it now seems to be fine.\n. @marcelklehr will leave this for you to merge as you have been involved so heavily :) \n. Ready for testing.\n. I want a second opinion on this as it modifies the output of the content from our API\nhttps://github.com/ether/etherpad-lite/commit/7c03bc2610a2d8f0e752bc9796bb460d50166fe9\n. How difficult would it be to include Import with this PR too?\n. @nelsonsilva see https://github.com/ether/etherpad-lite/pull/1516\n. I rewrote this\n. How difficult would it be to include Import with this PR too?\n. Just a thought on import, it shouldn't be able to completely reset all revisions, we're gonna have to ponder this through..  Imho it should keep previous history but append only..    Thoughts @nelsonsilva \n. We might need to provide a granularity setting or so?\nTrue fidelity would be revision by revision export.  But that would give large files, however I'd say having large files is better than losing fidelity.\nWe should allow the user to decide the \"quality\" of their export, think of it like JPG image quality export in image editing software.\nPerhaps a slider in the UI?\nEither way if it was me, I'd want full fidelity.\n. Yea, I think it's clear that people want to be able to export/import \"Etherpad\" documents so I think we should provide them with a format and this seems like a pretty good way to go about doing it.\nWhat do you think?\n. @nelsonsilva any chance you can get back onto this to get it merged?\n. Bump @nelsonsilva one last time.\n. I rewrote this\n. You didn't let socket install.\nStop your server then do\nrm -Rf src/node_modules\nbin/run.sh\nand be patient.\n. Holy crap, something is broken for you.\nWhat version of node do you have installed?\nnode -v\nWhat happens if you hit directly? port 9001...\n. Do you get any errors when you are doing bin/run,sh?\nplease try \nbin/installDependencies.sh after rm -Rf src/node_modules\n. What OS?\nTry\nrm -Rf src/node_modules\ngit checkout develop\nbin/run.sh\n. My suggestion is to reinstall the latest nodejs, we test frequently on ubuntu 12.04 and don't have any problems.  Worst case scenario I can remote into your machine and see what's going on\n. Also can you please try master branch -- see if that helps\n. any time hombrino.  Bad node is bad.\n. cat src/packages.json | grep ueber\nwhat version does it show?\n. https://github.com/pita/ueberDB\nSee Limitations.\nWe need someone to extend redis to support the functionality you require.  It's not a big job for someone who understands Redis :)\n. git checkout master\n. So as far as I understand this Etherpad is holding sessions in a group that no longer exist.  The sessions have cannot be found so the event fails.\nSo we probably need some sanity checking to make sure that the correct sessions are bound to the correct group or so..\n. The best way to replicate this is to put bad data in to your session store, basically you need to search for group2sessions then add a bad value in on the end.\n. @eldiddio is your temporary fix working for you without any side effects?\n. I merged a temporary fix but a perma-fix is required to hit 1.3\n. See ep_table_of_contents plugin -- It'd be great if you can extend this functionality...   https://github.com/JohnMcLear/ep_table_of_contents\nUnless I missed your point, just in case I re-opened :)\n. Also the API isn't RESTful so it's all over the place, it's a design mistake we made early on..\n. done.\n. So when you get reconnected only a few chars make their way over to teh server.  this is confirmed as a very old bug (way way way old) that needs addressing.\n. Ready for testing.\n. Any chance we can provide an example?  https://github.com/ether/etherpad-lite/pull/1514 is the problem I'm looking to solve.\n. @disy-mk I'm referencing the problem\n. Will do, back at things tomorrow hopefully.\n. No one is working on it afaik, you might need to create a bounty if it needs doing with haste, everyone is pretty fully booked up with contract work right now ;/\n. Unable to replicate\n. Do we need an APIKey to test it out on your URL?\n. Afaik there is another java client for Etherpad, are you aware?\n. Ahh, I see, nice! :)\n. I agree with a REST API, my only concern is that we really need the core issue of that the API doesn't allow for different versions of API endpoints right now (there is an open issue for this) and I think we need to address this first before adding fancy wrappers :)\nThat said, I'm really happy with the work you are doing :) +1\n. Hey @nelsonsilva can you please update this so it can be automatically merged then it's going into develop (after we release 1.2.81) thanks :)\n. Thanks :)\n. Hey man, can you please push some documentation or so for this new API?\n. 1cfc8eda19176f9359a1bce6ff62d3c6680d3395 breaks import somehow..\n. http://debian:9001/rest/1.2.81/api/pad?api_key=test\nShould work right?\nI get \nCannot GET /rest/1.2.81/api/pad?api_key=test\n. updated..\n. http://debian:9001/rest/1.2.7/api/pad?api_key=test works\n. /rest/1.2.9/api/pad?api_key doesn't work..\nSo what am I missing here?\n. I see :) Totally forgot it doesn't track actual v# \n. I think we need clear docs for it and a rebase then I think it should be good to go :) @s1341 @nelsonsilva @marcelklehr \n. @mluto any chance of a video or screen recording?\n. Well this lag is unavoidable as far as I can tell.  We basically have to detect the bug then act if we find it.  Also note that be behavior is different if you use up/down, please test that further and let me know if you prefer it or not.\n. done\n. ready @marcelklehr \n. :) My pleasure\n. https://github.com/ether/etherpad-lite/pull/1535\n. I get the same error, heh\n. bin/deletePad.js now exists just as a short term fix for this.  The actual fix for this is to stop a \"Broken\" pad from being in existence.\n. What URL were you on?\n. cc @isaacs\n. Is it possible adding a \"res.on 'error',\" will help debug?\n. https://github.com/LearnBoost/socket.io/issues/1160 for further reading also cc @learnboost who might have some input\n. There was much rejoicing, tnx @isaacs \n. @neurolit is that enough for you to go about debugging?\n. nah, it'd be in src/node/ somewhere..\ngrep -rn \"res\\.\" .\nmight help\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. It's a bug, possibly related to https://github.com/ether/etherpad-lite/pull/1454 @dmitryuv\n. will do\n. @mullrich please test https://github.com/ether/etherpad-lite/pull/1545\n. Master/Develop branch?\nnewline works fine for me in IE9, we have tests for this and they pass the test.\nHit up..\n/tests/frontend/?grep=keystroke_enter.js\nDoes that test pass or fail for you?\n. I worked a lot on this and would like to resolve it fully. Can you please document the exact acions you take and yiur full broswer details and if possibly a video.\nTa\n. Just for the record I tested against this guys instance using a Sauce instance IE9 and it worked fine.  My assumption is that his IE9 is old or buggy or it's running in quirks mode or something..  Hard to say for sure.\n. Btw a video of the event would be really useful for heuristic bugs such as this.\n. I think we might need to create a plugin or something for people because this keeps happening.\n. Fixed in https://github.com/ether/etherpad-lite/pull/1640 waiting on merge and tests\n. looks like the error msg handling isn't available in pad2_inner anyway but still working on this.\n. Closing as the problem looks like it's been resolved :) \n. Try disable plugins and see if you can find out what plugin is causing the error.\nIf it is caused by a plugin let the plugin author know.\n. Please contact the plugin author\n. Im familiar with how it works so will takea look but it sounds like a browser bug\n. @ithkuil I tried but failed to replicate in chrome on linux mint chrome v25\nhttp://beta.etherpad.org/p/HjaHbt1Sfs\nWhat is your exact chrome version and what OS?\n. Yep, doing two drag and drops does a copy not a move.  This makes the users experience completely broken.  It appears to be a cross browser bug.\n. This bug appears to affect all Etherpad deployments including the old Etherpad.  To replicate you have to drag 'n drop some content and over again creating new lines.\n. Replica of https://github.com/ether/etherpad-lite/issues/1139\n. Unable to replicate on 1.2.7 master, trying develop\n. ```\n[2013-02-28 15:45:27.478] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"hTZk7IfIbakTsqbiQXUA\",\"msg\":\"Uncaught TypeError: Cannot call method 'setChannelState' of null\",\"url\":\"http://localhost:9001/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define\",\"linenumber\":3,\"userAgent\":\"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.22 (KHTML, like Gecko) Chrome/25.0.1364.97 Safari/537.22\"}\n``\nno server side crash\n```\n. Fixed with a few control refreshes..\n. Just waiting on someone familiar w/ Redis to patch ueberDB:  See bottom of the page @\nhttps://github.com/pita/ueberDB\n. Not sure closing is the right thing to do because it's still an outstanding issue.\n. Fixed with https://github.com/ether/etherpad-lite/pull/1584\n. Doing an \"installOnWindows\" gives:\n[2013-02-26 13:55:50.263] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production.\n[2013-02-26 13:55:50.419] [ERROR] console - Failed to load 'C:\\temp\\develop\\node_modules\\ep_search\\index' for 'ep_search/ep_search/hooks/expressCreateServer': Error: Cannot find module 'ueberDB'\n[2013-02-26 13:55:50.898] [INFO] console - Installed plugins: ep_etherpad-lite, ep_search\n[2013-02-26 13:55:50.905] [ERROR] console - Failed to load 'ep_search/index' for 'ep_search/ep_search/hooks/expressCreateServer': Error: Cannot find module 'ueberDB'\n. @marcelklehr any idea on this?\n. May have spoken too soon, ep_fileupload appears to be working.. Will bisect\n. Can you please let us know which plugins?  I probably wrote them.\nsessionKey for example should be fine if it's blank but display a warning\n. So are you talking about settings or README.md here?\nThis issues ticket is to do with settings not being required, I'm getting super confused. \nShould we open a new ticket for README's or something?  Imho you could probably easily solve that yourself though?\n. I'm still confused @marcelklehr how are README files related to your issue?  I feel like I'm completely missing the point here....\n. @iuriguilherme Oh, so I think that's a completely separate issue, I think @marcelklehr is saying that the new sessionKey value only provides a warning to people when you update...  I could be wrong though..  \nAs far as plugins requiring settings, you would create a separate issue on each plugin that doesn't warn the user if the plugin settings aren't set and need to be set (IE it's breaking functionality because some settings aren't set..\n. Update node from .20 to .21 details at:\nhttps://github.com/ether/etherpad-lite/issues/1541\n. Any chance of a copy of the logs?\n. This is a new one for me.  So here is what I suggest.  Grab and qmake\nhttps://bitbucket.org/rbraakman/etherpad-stresstest\nThen hit Etherpad with\n./etherpad-stresstest --clients=lurk:10,write:50 http://localhost:9001/p/foo\nThat will give us some controlled test to see if we can isolate the error\n. Bumping SocketIO to the latest version might help with this.  Also see\nhttp://stackoverflow.com/questions/20435553/how-to-protect-against-distributed-denial-of-service-attacks-in-node-js-with-soc\n. Gonna close this as it should be solved but we still have a lot of issues to resolve RE load testing.\n. Any idea @edy-b ?\n. note that session management has changed a lot (we now use socketio rooms and a new session store) over the last few weeks so try pull in latest develop and see watapan (I invented this word)\n. Unable to replicate.  http://beta.etherpad.org/p/qbT9WPpQf6 used and works fine\n. Experience the race: https://github.com/ether/etherpad-lite/issues/1510\n. See: https://github.com/ether/etherpad-lite/pull/1568 as a bad temporary bandage for this problem.\n. afaik @pita wants to use channels to do this.\n. I think this needs to go into the Auth RFC\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Any support for select inputs IE ep_headings also any support for non standard buttons IE ep_narrations? :) Thanks!\n. Thanks, so far it's looking great.  I think it's likely this will get merged.\nAnother consideration is we need a clear and coherent way for plugins to move to the new framework, possibly displaying a Warning if they write directly to the toolbar without going through this module?\n. Hey just another thing is this something we can add plugin hooks to please ?  :)\n. @cohitre any update on this? :)\n. Really this just needs some testing..\n. What version of Etherpad?\nWhat OS?\nCan you connect to your mysql database using mysql -uusername -ppassword and specifying your hostname that you used in your etherpad settings?\n. Update your NodeJS to the latest version please.\n. Please try checkout develop then git pull, see if that helps.\n. This looks more dangerous to me.\n. 99% sure this is a browser bug and will be fixed in a future version of the browser.  We see this a lot, either way I will investigate further.\nOn your Android device please visit /tests/frontend -- do any other tests fail?\n. ouch, how many tests fails in FF/chrome?\n. Mheh yeah these tests time out for me too, I guess running the tests remotely is a bad idea.\n. keystroke chat fails for me too, very bizarre.  Will look into this.\n. Unable to replicate bug on my android device.  Can anyone confirm this bug?  I can't write a test to test this neither as delete and backspace don't trigger a line delete from our testing framework ;\\\n. stock\nandroid 4.0.3\n534.30\n. This is fixed in Android\n. cc @marcelklehr \n. confirmed.\n. bisecting now..\n. Caused by 98a9b1e2222ee93ebbc70aea8559a16bf01f8821\n. I use git bisect - It's a powerful tool.\n. Please test on develop branch.  Should be resolved.\n. My pleasure.\n. Caused by\ncommit 9b66c93d6bac97d27d13bc7989d11c61cb6dce98\n```\nAuthor: John McLear john@mclear.co.uk\nDate:   Sat Nov 22 19:11:35 2014 +0000\nswap out jquery browser for bower but expose browser object to all pages also enable minification..  Seems to work well\n\n:040000 040000 008971923984ac96844a43dee8adcb2b7f36b17e f6a768c9a4b44c09cff10a27d4bb670819b7e81a M  src\n```\n. It will be the browser detection logic for chrome not kicking in for some reason.  I thought this was test covered tbh..\n. Fixed.\n. Huh?  Unable to replicate in Chrome here on develop.\n. @marcelklehr please make a call on this PR\n. cc @redhog \n. Documented :)  A warning would be nice too but this can be an enhancement\n. Documentation is on https://github.com/ether/etherpad-lite/wiki/Creating-a-plugin btw.\n. Duly noted, thanks.\n. Can you provide an example please?\n. Roger that.  Do me a favor and double check a feature request doesn't already request for this, I thought one did.\n. Congrats & thanks :)\n. @jhollinger peep the swagger pull request, afaik that makes testing a lot easier ?  I'm gonna merge that btw\n. @jhollinger also any idea when this bug was introduced?\n. This is still an issue\n. path of files with issues\nsrc/node_modules/wd/node_modules/request/node_modules/form-data/node_modules/combined-stream/test/*\nsrc/node_modules/nodemailer/node_modules/mailcomposer/node_modules/mimelib/node_modules/encoding/node_modules/iconv-lite/encodings/tables/gb18030-ranges.json\n. works fine for me http://beta.etherpad.org does it work okay there for you?\ncould be browser specific, what browser?\nFYI I agree it is jarring that's why I'm going to be spending my flight to the US rewriting how our keypress events are triggered in the frontend testing framework\nAlso fyi visit \n/frontend/tests\n. Welcome to see proposals and their relevant patches for this issue\n. Btw C would be quick/easy to solve/implement should anyone be interested in sponsoring me to dev it.\n. Another option is to place this feature request on http://etherpad.idea.informer.com/ and get enough votes for the community to fund the dev\n. Some NFPs are sponsoring 2 hours of my dev time on option D, will see where that gets us to\n. Doing a prompt and an interstitial page as a fix anyway, I don't trust browsers.\n. Btw accepting donations if anyone wants this to move faster / spend more time on it. :)\n. Either way I don't trust the browser so don't worry about it.  Will make the server do the heavy lifting.\n. So I took a alternative route to fixing this problem in my latest commit.  I basically store the url to a cookie and read that out when redirecting..\nhttps://github.com/JohnMcLear/ep_hide_referrer\nThe url that is exposed to the third party is /redirect\nCan anyone think of a weakness in storing the url in a cookie and referring to it during redirect?\n. Guess this way was strong enough..  Enjoy, closing..\n. @joelpurra lulwut.  MoPad is not running Etherpad.  It's running an old abomination of Etherpad we don't even support any more.  Tell MoPad to update or even better DONT USE MOPAD!\n. http://etherpad.org -- Download and test it -- Read this issue.\n. Some people might not want this though..  We can't change default behaviour under people..\n. Thanks for spotting and pointing out.\n. Confirmed.\n. Interestingly enough this problem didn't exist in old versions of Etherpad.\n. I need to check to see if abiword is effecting older versions\n. We no longer use Abiword any for HTML export, that's probably why this bug has appeared..  \nWe shouldn't use Abiword..  \nI think the solution lies in reviewing the list handling at: https://github.com/ether/etherpad-lite/blob/develop/src/node/utils/ExportHtml.js#L292\n. Take a look at how primarypad solves this problem\n. Pad is in an iframe\n. You can create a pad with a title too, just type in the title.\n. Are you sure? \nhttp://john.primarypad.com/eh                   \n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. There is now a plugin for titles..\nep_pad_title\n. Solved\n. So the logic here is that for some crazy reason you might want a setup like this:\nClient A does something magic it wants to send to Client B but we know it needs to go \"through\" the server so we allow the server to broadcast messages sent from inside of the plugin framework to a specific SocketIO session.\nSo basically this isn't enabled by default, to enable it you have to install the ep_rtc (coming soon) plugin.  The ep_rtc plugins job is to create a p2p tunnel between two clients so you need a mechanism for clients to be able to negotiate a route and for authorization.\nThat's the long term goal for this PR.\n. I'm the same, imho it introduces some security issues I'm carefully pondering :)\n. I'm still nto happy with this..\n. Working more on this today to make it so I'm happy with it.. \n. Example:\nClient:\n```\n    var myAuthorId = pad.getUserId();\n    var padId = pad.getPadId();\n    var targetAuthorId = $(target).parent().data('authorid'); // target should be set..\n// Create a message to send to the server\nvar message = {\n  'type' : 'RTC',\n  'action' : 'request',\n  'padId' : padId,\n  'targetAuthorId' : targetAuthorId,\n  'myAuthorId' : myAuthorId\n}\npad.collabClient.sendMessage(message);  // Send the request through the server to create a tunnel to the client\n\n```\nServer:\n```\nexports.handleMessage = function(hook_name, context, callback){\n  // Firstly ignore any request that aren't about RTC\n  var isRtcMessage = false;\n  if(context.message.type === 'COLLABROOM'){\n    if(context.message.data.type === 'RTC'){\n      isRtcMessage = true;\n    }\n  }\n  if(isRtcMessage){\nvar message = context.message.data;\n/***\n  What's available in a message?\n   * action -- The action IE request, accept... TODO\n   * padId -- The padId of the pad both authors are on\n   * targetAuthorId -- The Id of the author this user wants to talk to\n   * myAuthorId -- The Id of the author who is trying to talk to the targetAuthorId\n***/\nif(message.action === 'request'){\n  authorManager.getAuthorName(message.myAuthorId, function(er, authorName){ // Get the authorname\n\n    var msg = {\n      type: \"COLLABROOM\",\n      data: {\n        type: \"CUSTOM\",\n        payload: {\n          action: \"requestRTC\",\n          authorId: message.myAuthorId,\n          targetAuthorId: message.targetAuthorId,\n          authorName: authorName,\n          padId: message.padId\n        }\n      }\n    };\n    var sessions = padMessageHandler.sessioninfos;\n    // TODO: Optimize me\n    Object.keys(sessions).forEach(function(key){\n      var session = sessions[key]\n      if(session.author == message.targetAuthorId){\n        padMessageHandler.handleCustomObjectMessage(msg, key, function(){\n          // TODO: Error handling\n        }); // Send a message to this session\n      }\n    });\n\n```\nThis new update stops the client frmo being able to send non CUSTOM messages, this is important as it stops the client from creating potentially fake messages\nThis is ready for testing / merge.\n. See #1607 -- these two things are kinda combined.\n. Happy to see that as a commit :) +1\n. Updated docs here: https://github.com/ether/etherpad-lite/wiki/Getting-started-writing-tests-for-Etherpad-Lite\n. Confirmed                   \n. Please\ngit checkout fix-import-error\nbin/run.sh\nlet me know if it fixed it\n. Do normal imports work when on that branch??\n. Okay great this is really good @macboy012 cause it allows me to consistently replicate another issue which means I can get on with solving both issues now\n. Please checkout develop and let me know if this works for you now.\n. http://127.0.0.1:9001/p/aoo?showControls=true&showChat=false&showLineNumbers=false&useMonospaceFont=false&userName=myname&noColors=false&userColor=false&hideQRCode=false&alwaysShowChat=false/import\nreturns 200 for me, am I doing something wrong?\n.\nrm -Rf src/node_modules\nbin/run.sh\n```\n. TLDR; Thanks @JohnMclear for helping me solve my problem.  No problem @iuriguilherme ....  *mutters inaudibly..\n. .... and can you provide any details on how you broke your instance?\n. Not right now but I feel like if @visionmedia was to lead on something like this then we could make it work :)\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. The best way to do this is to have Etherpad run as an instance and to proxy requests to it.\nWe're not working on making it modular as we need to provide Etherpad as a service to ensure resilience of delivery.\n. Don't pull, breaks embed.  Pondering further\n. Did our test framework catch this?\n. @mmccarn see the commits on https://github.com/ether/etherpad-lite/issues/1623\n. What's the status on this?\n. I think the problem w/ 0.10 is in the sessionStore\n  db.get(\"sessionstorage:\" + sid, function (err, sess)\nit's line 20 of SessionStore.js \nthe db.get never returns anything, it just gets stuck ;\\\nwhich makes me think it could be an ueberdb issue?\nPlease confirm etc.\n. Yea\n-----Original Message-----\nFrom: Marcel Klehr\nSent: 23 Mar 2013 11:18:36 GMT\nTo: ether/etherpad-lite\nCc: John McLear\nSubject: Re: [etherpad-lite] Support node 0.10 (#1621)\ndoes ueber db have any tests that we could try running in .10?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/issues/1621#issuecomment-15335483\n. Just cc'ing @isaacs as a useful case study of supporting .10 from .8\n. @disy-mk Hrmph node..\n. Afaik it's sessions that's a problem.  Maybe it's solved now?  I literally couldn't even open a pad on my test machine because the session didn't work..\n. Tested 0.10.2 for the record it doesn't work for me.\n. ueber Merged, publishing now\n. Defo fixed for me.\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. https://github.com/ether/etherpad-lite/issues/1625\n. Seems to have resolved itself, if it pops up again do re-open this issue!\n. So for future reference it's worth pointing that callstack includes a value of type..\nYou should refer to this when you are trying to use aceEditEvent..  For some reason an edit event acn also be something like\nObject {type: \"setup\", docTextChanged: true, selectionAffected: false, userChangedSelection: false, domClean: false\u2026}\nObject {type: \"importText\", docTextChanged: false, selectionAffected: true, userChangedSelection: false, domClean: true\u2026}\nObject {type: \"setBaseText\", docTextChanged: true, selectionAffected: true, userChangedSelection: false, domClean: true\u2026}\nObject {type: \"setWraps\", docTextChanged: false, selectionAffected: true, userChangedSelection: false, domClean: true\u2026}\nObject {type: \"idleWorkTimer...\nThis is probably what you want..\nexports.aceEditEvent = function(hook_name, obj){\n        if(obj.callstack.type == \"applyChangesToBase\"){ // if it's an edit event\n                console.log(obj.callstack);\n        }\n}\n. Go for it :) \n. Mozilla shipped the final release on June 17, 2008.\n. Closing but worth keeping here for historical purposes.  Firefox users should upgrade frequently :)\n. https://github.com/ether/etherpad-lite/pull/1632\n. cc @0ip\n. Apologies, done :)\n. Gah this broken normal message :| bad test is bad.\n. Solved in webkit / android bugfix\n. Some info taken from the mailing list discussion \nYes, when I run it as root I'm using bin/run.sh --root\nThe server does have an internet connection and no firewall that I'm aware of (it's actually a web server I run with a few other people. Has cPanel on it if that's relevant at all, but can't imagine that's causing any conflict here.\nPlenty of disk space, over 700GB. Memory is good, most of the memory is cached on the disk (it's has 8GB but about 5-6 of that is just buffers and cache). Just to rule that out I cleared out the cache and attempted to access the page but still wouldn't go.\nSome more questions from me:\nCan you get to https://registry.npmjs.org/-/all/  from the server?  I get an SSL cert error on my machine..\nWhat version of node are you running?\nTry doing\n```\nlynx https://registry.npmjs.org/-/all/\nor curl https://registry.npmjs.org/-/all/\nor wget https://registry.npmjs.org/-/all/\n```\nccing @isaacs for posterity\n. From the author\n--2013-03-17 11:22:40--  https://registry.npmjs.org/-/all/\nResolving registry.npmjs.org... 173.192.57.100\nConnecting to registry.npmjs.org|173.192.57.100|:443... connected.\nERROR: cannot verify registry.npmjs.org\u2019s certificate, issued by \u201c/C=US/ST=CA/L=Oakland/O=npm/OU=npm Certificate Authority/CN=npmCA/emailAddress=i@izs.me\u201d:\n  Unable to locally verify the issuer\u2019s authority.\nTo connect to registry.npmjs.org insecurely, use \u2018--no-check-certificate\u2019.\nCould I modify the code to connect to https://registry.npmjs.org/-/all/? That's not giving an error and might be the cause of the timeout and crash.\n. Try non https: it appears we don't use https anyway\nSee\nvar registry = new RegClient(\n{ registry: \"http://registry.npmjs.org\"\n, cache: npm.cache }\n);\nSo try http://...  and see if that works\nWorth noting the ssl cert issue is 2 years old: https://github.com/isaacs/npm/issues/1273\n. Yes the plugin list does get cached when it is read the first time but only if it's \"read\" inside Etherpad, not if it's \"read\" in the browser.\nSo can you provide the exact steps you took to resolve this issue please?\n. @marek-j can you consistantly replicate this issue?\n. Aha, good spot.  Okay this needs to head over to the npm issues @ https://github.com/isaacs/npm/issues\nhttps://github.com/isaacs/npm/issues/1972 might be useful\nPerhaps we need a way that Etherpad can check permissions of the required folder.\nIf you can tell me which folder permission is required to I can put something in Etherpad that checks permissions and tells you if they are wrong...\n. Good spot @JasonLocklin -- npm still a bit fragile but hopefully getting better.\n. Can anyone confirm this?  I can't ;\\\n. @nelsonsilva please feel free to choose how to proceed on this :) Thanks\n. @nelsonsilva did you still wanna see this land?  If so please rebase and do docs etc :) Thanks!\n. Closing due to neglect.\n. @nelsonsilva any update on this?\n. Nah they are from the swagger stuff, broken by using express bodyparser\n. @nelsonsilva Wanna submit a PR with a fix please?\n. ```\njose@debian:~/etherpad-lite-master$ git bisect bad\nBisecting: 0 revisions left to test after this (roughly 0 steps)\n[1cfc8eda19176f9359a1bce6ff62d3c6680d3395] Initial work on swagger\njose@debian:~/etherpad-lite-master$ git bisect bad\n1cfc8eda19176f9359a1bce6ff62d3c6680d3395 is the first bad commit\ncommit 1cfc8eda19176f9359a1bce6ff62d3c6680d3395\nAuthor: Nelson Silva nelson.silva@inevo.pt\nDate:   Wed Feb 13 16:29:01 2013 +0000\nInitial work on swagger\n\n:040000 040000 e2e0ac116c4080f9d40337ffbc8fd39548467137 9fd9982d0861c47b8c5ae9a3c7b76a45c9bd3304 M      src\n```\n. This fix does resolve the issue.  not sure how @frdmn is testing..\n. git checkout develop -- try import, it worksCheckout anything older than the commit that removes bodyParser but newer than your swagger commit, try import, it fails \nI used bisect to discover the bad commit then read through each line of the commit until I found a line that looked like it might interfere with form parsing.\nJohn McLear\nMcLear Ltd\nEtherpad Foundation\nPrimary Technology Ltd\nDate: Tue, 19 Mar 2013 06:04:53 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nCC: john@mclear.co.uk\nSubject: Re: [etherpad-lite] \"Upload failed - use copy and paste\" (#1639)\n@JohnMcLear How are you testing ? I'll use your testing procedure to understand what's going on...\nHave you tried disabling the swagger hook to see everything still works ? \n\u2014\nReply to this email directly or view it on GitHub.                  \n. Ah, that's why.\n...\ngit checkout develop\nbin/run.sh\n. You cloned master branch not develop branch\ngit clone git://github.com/ether/etherpad-lite.git develop\nis another way to solve it..\n. wut, no, i don't, no.\n. oh..  yeah..  I totally forgot..  http://stackoverflow.com/questions/1911109/git-clone-a-specific-branch\nApologies..\nSo yeah checkout develop in the develop folder, should be fine :) \n. any you still get the same problem?\n. rm -Rf src/node_modules\nbin/run.sh\n. This fixes an issue where in most browsers using page up/down or arrow keys the experience was weird, especially Chrome.  Basically we override the default behavior which imho is a good thing because the default behavior is full on LOCO.\n. Please feel free to test the behavior \n. PS I'm stuck on writing tests as I can't get arrow key events to fire..\n. 1) Scrolling with mouse cursor by lighting works fine in FF nightly and chrome on win 32\n2) Hrm, this is the normal behavior and the expected behavior surely?\nI think Control Home / End Should to go to first and last line?\nI find that if you have really long wrapped lines and you try to scoll them this can confuse the viewport, this is annoying..\nLines can't be wrapped?  Which lines can't be wrapped?  Long ones with no breaks?\n. Hrm, pg is a dep of ueberDB afaik.  Try rm -Rf src/node_modules then try again..\n. So how did this happen?  Since when did bin/installDeps.sh use pg?  I assume @chrisballinger has modified his settings.json ?\n. Yep, just submit a PR to the ueberDB repo and I will merge that in and npm publish a new version :) \n. Perhaps @isaacs has a plan for this?\n. So TLDR instead of using \"dependencies: { we should use   \"peerDependencies\": {\n?\n. Try change what I said quenenni that might solve your issue.\n. in the plugin package.json\nreplace \n\"dependencies: {\nwith\n\"peerDependencies\": {\ntest and if it fixes the problem put a Pull request in on all of my plugins\n. To test\nJohnMcLear>git clone the repo\n<JohnMcLear>then edit package.json\n<JohnMcLear>then cd into the repo\n<JohnMcLear>then type \"npm install\"\n<JohnMcLear>:)\n. do you already have ep_headings installed?\n. hrm okay well you can either a) use sym links but i dont think that will help\nor, just go through and replace dependencies with peerDependencies irrespective.\n. In general, if plugins have issues (or potential issues) it'd be good to tell the author / admin with a console WARN or alert during install.  There are a bunch of common issues that keep cropping up across all plugins that this would help with.\n. @redhog your input valued\n. This is a duplicate of another issue, I tried to solve it before and struggled hence why I created the \"Wrap Lines\" plugin..  Click the checkbox and enjoy.\n. Confirmed, wrap lines plugin doesn't fix in FF.  Fixing now... :\\\n. I just looked at it in firefox and something appears to be broken, feel free to make a start :) Be good to see how you solve it!\n. Visit http://beta.etherpad.org/p/6Db6mVTZMN\nUncheck Wrap lines.\n. if(iframe.style.cssText.indexOf(\"important\") === -1){ // if an important attribute isn't set..  Fix for FF\n setIfNecessary(iframe.style, \"width\", newWidth + \"px\");\n}\nline 4534 ace2_inner.js\nThat's the cleanest solution I found but it means modifying core so ;\\\n. afaik that breaks something else, can't remember what.  Pretty sure it's something serious though..  \nhttps://github.com/ether/etherpad-lite/issues/762 -- give it a try anyway, pretty sure it wont fix non wrapping in FF though\n. The reason we don't do this is so you can easily move between instances and scale.\n. Solved by https://www.npmjs.org/package/ep_hash_auth\n. I think just having an event in ace2_inner.js that when enter is pressed if the device is android it does a $('#innerdocbody').focus() should be a quick win.\nI think we might even expose $.browser.mobile (not sure tho..) and inner (as an element)\nif($.browser.mobile && keyCode == 13){\n  $(inner).focus();\n}\n. I don't get this behavior in chrome on an android tablet.  Just FYI.  Enter doesn't close soft keyboard\n. Yea was just sharing an observation :) \n. Tested on an aidroid galaxy tablet stock browser and it didn't close it.  Some weird behaviour though.\n. Closing as this was an old Android bug.\n. Haven't even started looking into it yet\n. @sahilamoli We can start looking at this in ~4 weeks, our schedule is really busy.  If you guys can get something in before hand that'd be awesome :)  It's now a milestone for 1.3\n. Oh boy..  This bug exists on the old Etherpad too and can be used to disconnect all users from a pad.  It must be to do with how changesets are packaged before the wire.  @marcelklehr This means it's not a symptom of #1573 afaict\n. Hey Sahil, I'm completely not happy with it at all, to the point where I stripped it back out.\n. Fixed thanks to @sahilamoli for coordinating and @bemeric1 for isolating and resolving the issue!\n. this could be because javascript can interpret one character as two.  \nBy getting and setting you are setting the char length to one https://github.com/joyent/node/issues/4853\nI'm not sure how you can prove this theory although there is probably a way... \n. A problem may be in Import as that allows different insert paths than pads but that's just a theory, one of many.. \n. This should be properly fixed now on develop..  Re-open if not..\n. I haven't heard of anything.\nYou would need to decide if it is the client or the server doing the syncing.\nAuth would be the issue here, getting a successful auth then doing syncing would be kinda messy.  For example, what if someone else comes in and modifies your document to 0 length?  Does dropbox save revisions?  \nTbh I think dropbox or any file backup that doesn't save revisions is going to burn you here and even if it did save revisions Etherpad stores so many changes that you would hit their limits really quickly.\nI have to assume file storage services store data encrypted, because of this they can't do diffs.  Because of this they can't store document changes, only document states...?\n. But if you had 200k modifications to a pad dropbox would have to store each modification.  The data transfer would be huge..  I guess you could do it on every X revisions or so OR if not modified for X duration..  peeping the ep_email_subscription plugin will give you an idea of how I handle this type of process\n. Please create a vote for this plugin / feature on http://etherpad.idea.informer.com/\n. Agreed, feel free to contact github and ask them to add it :)\n. Prolly cause everyone wants to vote for new features, no one wants to vote for bugfixes.\n. Bounty available here: https://www.bountysource.com/issues/1371814-have-pad-sync-to-txt-file-in-dropbox-or-similar - please add to it!\n. ta\n. @disy-mk Does this problem persist w/ 1623?\n. So can you please clarify the exact steps to replicate? :)\n. I think if you wanna fix this you are gonna have to look into the source code and figure out the cause.  I'm not gonna have time to look at this for a bit\n. Yea this looks like express is creating a bunch of sessions for each get request, prolly need a way to specify to create a session if one doesn't exist already..  Mheh\n. Btw this isn't just a Chrome bug, it's all browsers.\n. Can anyone else take this one on?  I was able to replicate before but can't now ;\\\n. I'd like to find some time/funds to take it on but as of yet haven't been able to :(\n. You can now vote here: http://etherpad.idea.informer.com/\n. Status?\n. This will conflict with a PR I have open so not merging right now.\n. https://github.com/ether/etherpad-lite/issues/1625\n. So not just markdown export?  Afaik you want to be able to not visible see markup but the editor buttons/keypresses add markdown?\nAs I understand this you can use aceDomLineProcessLineAttributes to add modifiers to existing content but I think trying to apply a wyswig interface to MD is kinda counter productive..  Will attempt to make a demo\n. https://npmjs.org/package/ep_markdown \nTry out ep_markdown\n. Perhaps both?\n. What version of Etherpad?\ngit status\n. Try pull latest, see if that helps.\n. Yessir\n. confirmed, bug in FF\n. Firefox bug resolved.  Please re-test.  I think a test spec to cover this might be a good idea?\n. Which version/git sha of Etherpad?\nWhich version of NodeJS?\nWhat OS?\nHave you done any tests?\nAny reverse proxy?\nCan you replicate on beta.etherpad.org?\n. @tenmandevil Do you have any plugins installed?\n. Something is really nasty here, we need to find out exactly what version introduced this bug.  I recommend using git bisect to find out when it was introduced so we can replicate it.\nAlso I recommend someone writes a test spec to replicate this bug.\n. Probably related to https://github.com/ether/etherpad-lite/issues/1652\n. As this is a feature request it needs to go onto the voting system to see how much attention we should give it: http://etherpad.idea.informer.com/\n. Closed as most of this is resolved.\n. Define \"is still there\"\n. The pad might be cached in UeberDB, can you check by restarting Etherpad and seeing if the pad still exists?  Thanks\n. :) Noted.  Will try look into this on Monday\n. Confirmed working.\nI did the following:\ncd bin\nnode deletePad.js test\nControl C on Etherpad instance\nRestarted Etherpad instance\nPad had been deleted\nCan anyone else please check?\n. This is a temporary fix, a perma fix is required.\n. 0.10 can't run Etherpad yet, we need to fix some issues\n. Just my 2 pence, I use nvm..  \nnvm install 0.10.2\nnvm use 0.8\netc\n. Think this is one for @marcelklehr \n. Hehe, yeah I can imagine that's a problem :)\nI'm not sure of a good way to solve this without using a setTimeout..\n. Upstream issue https://github.com/dwachss/bililiteRange/issues/5\n. Unable to fix as it's not getting fixed upstream.\n. Please create plugin issues on the relevant plugin repo.  Thanks :)\n. yep, that's the issue that needs to be filed :) +1\n. @mluto awesome, which issue does this fix?\n. Thanks @mluto , again which issue or this a new issue?\n. Do you have any plugins installed?\nWhat OS?\nWhat version of Chrome\nCan you replicate on http://beta.etherpad.org?\n. Should be fixed, I think it might throw that error if a translation isn't added right..  Let me know if it's fixed for you, I can't replicate..\n. I'm sure we dealt with this already by including $.browser with our jquery file\n. What verison of Etherpad?\nWhat git sha?\nWhat OS?\nWhich browser?\nDo you get the same error on http://beta.etherpad.org ?\n. Which browser do you see the error in?  I don't see it in chrome or firefox\n. Any update?\n. Hrm, would it not make sense for the paste contents to be owned to whoever initiates the paste?  That would be a compromise..  I mean, Copy/pasting can completely change the context of a phrase.\nFor example..\nMy dog ate the tree.\nCan be changed to\nMy tree ate the dog\nWithout it being made clear to the pad visitors it wasn't the original author that made the change\nBoth of these statements are equally alarming but only one is of interest to animal welfare organizations.\n. I actually agree..  Perhaps this is something that needs to be under a flag/plugin if you want to maintain the authorship colours on paste.\n. Okay sounds like we're in agreement @marcelklehr can you open a PR reverting your change please?\n. We can chat later on IRC about this :) \n. So I don't want you to remove the security fix but I want pastes to be represented as the paster not the original author :) Is that possible?\n. Here is my proposal..  It's a BIG job..  http://mclear.co.uk/2013/04/06/getting-author-ownership-right-in-a-collaborative-editor/ (TL;DR: \"[\u2026] My proposal states that a character has an 'author' and 'editors'\")\nIs it possible?  Until we can draft that up do you think we should revert your security commit or?\nAn ideal interim solution is to rewrite author colors on paste.\n. Things to note:\n- Undoing Cut / Paste of another authors content causes an error.  IE Author A types something, Author B deletes it, Author B hits Control Z.\n- Dragging content that has multiple authors causes an error IE two authors write on a span and we try to move that\n- Cut / Copy / Paste of content that contains more than one author causes an error\nSo TLDR; you only get these errors if the content contains more than one author unless it's an undo in that case author B is disconnected.\n. A quick fix for this is to force changes from the author to always show as that author (on the server), instead of dropping the client we can just change the author of the change.\n. Don't think so :)\n. Thanks for spotting have flagged as bug.  I don't even see the code for handling this in bin/run.sh... \n. Where in the docs is --setting mentioned?\n. Ah installDeps.sh has the logic for applying settings..\n```\nGet the name of the settings file\nsettings=\"settings.json\"\na='';\nfor arg in $*; do\n  if [ \"$a\" = \"--settings\" ] || [ \"$a\" = \"-s\" ]; then settings=$arg; fi\n  a=$arg\ndone\n```\n. Heh, the logic here is completely broken :|  Not sure who wrote that.. Hopefully not me..\n. @b3 can you let us know if that works?\n. Docs on https://github.com/ether/etherpad-lite/wiki/Getting-to-know-the-tools-in-bin will need updating when this fix lands.\n. @marcelklehr any idea on this?\n. So it turns out this is caused by a race condition when postTimesliderInit is run the socket negotiation hasn't actually completed.  My ghetto fix is to use a setTimeout, ideally the init function will only run once socket is fully established.\n. TLDR; Move postTimesliderInit hook to a later execution block\n. note: Props to @mluto for spotting this issue.  Always good to have a fresh pair of eyes!\n. I fixed this with:\nif(typeof pad == \"undefined\"){\n  var data = {\n    type : 'COLLABROOM',\n    component : 'pad',\n    data: message\n  }\n  socket.send(message);\n}\nelse{\n  pad.collabClient.sendMessage(message);\n}\nSeems to work fine.\n. Ha :) Awesome!  Good find!\n. Caused by bad plugin ep_tasklist\n. This is gonna be a work in progress for a little while, just putting this here so anyone can continue and complete the implementation.  Next step is to replace the start=X value from the 'ol' and to add a class to the first ol in a new list.. \n. http://jsfiddle.net/E8XFK/6/\n. http://devfiles.myopera.com/articles/501/counters-start-example.html Might help as does http://jsfiddle.net/E8XFK/10/ as a reference point\n. http://jsfiddle.net/E8XFK/89/\n. Ready to be tested  :)\n. \n. Personally i'd be a little uneasy about async because of it's lack of browser support with graceful fallback as far as I understand.  If jquery or another framework was able to help us provide graceful fallback for async then sure.  Still a worthwhile suggestion thanks @kdmon\n. Closing this in favour of minification\n. Yes please close\n-----Original Message-----\nFrom: fixinghomer\nSent: 7 Apr 2013 10:37:10 GMT\nTo: ether/etherpad-lite\nSubject: Re: [etherpad-lite] EPL: Reconnection after copy&paste some text (#1714)\nSeems this\nhttps://github.com/ether/etherpad-lite/issues/1696\nis related to this?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/issues/1714#issuecomment-16012842\n. See how I do this here: https://github.com/JohnMcLear/ep_tasklist/blob/master/static/js/tasklist.js#L35\n. Ah, that's a smart way of doing it, dunno why I didn't think of that..\n. True, it could get messy really quickly.  I think we have to treat that as an edge case though, separate issue and address it when we get there, afaik right now it's very rare multiple people will be in /admin at any given time.\n. @quenenni is this something you can help do on my plugins per chance please? :)  Again this should go into some sort of plugin \"best practice\" guide..\n. @quenenni  *Bump :)\n. https://www.bountysource.com/issues/1371800-you-need-to-update-etherpad-to-use-this-plugin-message is the bounty URL for this\n. Tested this today.\nIf you attempt to install something with a higher level peer dependency it alert errors \"The package ep_etherpad-lite does not satisfy its siblings' peerDependencies requirements!\"\nConsole\n[2015-01-25 02:24:50.735] [WARN] console - { [Error: The package ep_etherpad-lite does not satisfy its siblings' peerDependencies requirements!]\n  code: 'EPEERINVALID',\n  packageName: 'ep_etherpad-lite',\n  peersDepending: { 'ep_align@0.0.13': '>=1.5.1' } }\nError: The package ep_etherpad-lite does not satisfy its siblings' peerDependencies requirements!\n    at /home/jose/etherpad-lite/src/node_modules/npm/lib/install.js:103:32\n    at /home/jose/etherpad-lite/src/node_modules/npm/lib/install.js:225:5\n    at /home/jose/etherpad-lite/src/node_modules/npm/node_modules/read-installed/read-installed.js:138:5\n    at /home/jose/etherpad-lite/src/node_modules/npm/node_modules/read-installed/read-installed.js:251:14\n    at cb (/home/jose/etherpad-lite/src/node_modules/npm/node_modules/slide/lib/async-map.js:47:24)\n    at /home/jose/etherpad-lite/src/node_modules/npm/node_modules/read-installed/read-installed.js:251:14\n    at cb (/home/jose/etherpad-lite/src/node_modules/npm/node_modules/slide/lib/async-map.js:47:24)\n    at /home/jose/etherpad-lite/src/node_modules/npm/node_modules/read-installed/read-installed.js:251:14\n    at cb (/home/jose/etherpad-lite/src/node_modules/npm/node_modules/slide/lib/async-map.js:47:24)\n    at /home/jose/etherpad-lite/src/node_modules/npm/node_modules/read-installed/read-installed.js:251:14\n. Done :)\npeerDependencies needs to set in plugins package.json\n. Good spot, it appears to be resolved if f12 (developer tools) is visible correct?  Please confirm\n. @smlavoie Please bisect to discover which commit is causing the issue: http://mclear.co.uk/2013/04/02/using-git-bisect-to-debug-etherpad-issues/\n. Sorry but if you can't bisect I can't help you.\n. You don't need your sysadmin to do the bisest. Follow the guide you can do it yourself.  I don't have an ie8 machine, if you want to ship me one to test with I can.\nOn 28 Feb 2015 01:36, smlavoie notifications@github.com wrote:\nHi John, I know you told me to bisect but we don't have the resources to do it. Our sysadmin is on a per hour basis, we're a public school, so money is not abondant.\nBut, maybe you could look into the beta version? https://beta.etherpad.org/ I do have exactly the same problem with the beta version. Using IE 9 or 10, it stays forever on loading (chargement) and sometimes get to an error.\nSo, why should I bisect our instance (which runs the latest version of etherpad lite) if even the beta version is not working correctly with IE 9 or 10?\nThank for your understanding!\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1724#issuecomment-76502848.\n. @smlavoie well if you don't have time to help debug we don't have time to fix it for you(it takes a lot longer to fix things than to bisect).  Open source is a give/take thing, you will learn that quickly.\n. @smlavoie you might want to reach out to http://etherpad.org and ask them about commercial support.  If you are pressed for time you can offload to them.\n. See ep_print plugin.\n. Unable to replicate on http://beta.etherpad.org - Can you provide exact steps to replicate?\n. There does, however appear to be an issue where the pad isn't resizing on stickychat window on beta.etherpad.org and text is cropped from the screen ;/\n. Yo dawg, how about you try disabling plugins and testing until you find the one that is causing the problem?!\n. Did you install any plugins? \nTry..\nrm -Rf src/node_modules\nbin/run.sh\n. Hrrm\nTry \ngit checkout develop\nRestart Etherpad\nClear your browser cache then try again\n. Try update nodeJS and do a clean install\n. Confirmed  cc @marcelklehr\n'ErrorId: 0X6LnChk23H2BKwvZrxO\nURL: http://debian:9001/p/eI1BbNFT01\nUserAgent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E; InfoPath.3)\nUnable to get value of the property 'indexOf': object is null or undefined in http://debian:9001/static/js/html10n.js at line 903'\nJohn McLear\nMcLear Ltd\nEtherpad Foundation\nPrimary Technology Ltd\nDate: Thu, 11 Apr 2013 06:39:37 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Pads fails to open pads on IE8 (again :)) (#1729)\nHi!\nSorry to bother you again. It appears that #1724 was not solved by c755633. The issue is still here on beta.etherpad.org and on my personal installation, with the patch applied.\nHere is the error I get while trying to open a pad with IE8 on Windows X (with minification disabled):\nCLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"slUtgOlR8B2E8chwEy8F\",\"msg\":\"'this.language' is null or not an object\",\"url\":\"https://pad.XXX.org/p/Y8tL0K0EPc\",\"linenumber\":903,\"userAgent\":\"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.2; Trident/4.0; Data Center; .NET CLR 1.1.4322; .NET CLR 2.0.50727; .NET CLR 3.0.04506.648; .NET CLR 3.5.21022; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729)\"}\nI played a bit with git bisect and the bug seems to have been introduced by this commit: 402a4b7.\nThank you!\nOlivier;\n\u2014\nReply to this email directly or view it on GitHub.                  \n. Ow :|  Okies, just removing console logging from html10n might be a good call until @marcelklehr can get it stable.\n. Tested safari is fine for me just a bit slow\nv5.1.5 on windows :|  Dirty.\n. Try http://beta.etherpad.org now  -- it was a rouge plugin I forgot to remove from npm that was causing the headache in IE\n. Btw click the settings cog on beta.etherpad.org to see which git version is running..\n. I can only assume your IE8 settings are a bit weird or so, maybe you are encouraging it to stop on JS error or so..\n. I was able to relpicate this error once but not since..\n. Ah cursortrace can fire this:\nLine: 4\nError: Unable to get value of the property 'nodeType': object is null or undefined\nThat can cause a disconnect, oh well, must be a cursortrace bug.  Shucks!  https://github.com/redhog/ep_cursortrace\n. Have Disabled Cursor Trace an RTC on http://beta.etherpad.org  -- Please clear your browser cache and test again.\n. Oh, please clear your browser cache, set minify to false and paste the error you receive in IE.  Also check console for errors.\nThanks\n. Possibly caused by https://github.com/ether/etherpad-lite/commit/6b55d13370f1057e117178c46807a59bd679de29\n. @goldquest Please try bisect http://mclear.co.uk/2013/04/02/using-git-bisect-to-debug-etherpad-issues/\nI'm 100% unable to replicate this issue and German errors don't help me much ;\\\n. piratepad is super old.  Do you get the problem if you embed beta.etherpad.org :?\n. Does http://primarypad.com work fine for you?\n. weird cause I use primarypad most days and don't have a problem with it being embedded afaik, will check further tomorrow.\n. See http://etherpad.org\n. Embedding beta.etherpad.org and primarypad works fine in iframes for me. \nhttp://www.transition-regensburg.de/test/ also works fine in Nightly, Chrome & IE.  Perhaps something is broken with your test machine?\n. http://www.transition-regensburg.de/test.html works fine in firefox\n. That shouldn't matter, does it affect user experience at all?  Sessions are allowed to expire.\n. Fixed in develop, releasing to Master now.  Really could do with help releasing if anyone has some spare time to create packages, do blog post etc..  I need to run..\n. Can anyone else please test?\nWhat does src/package.json show for express?\n. hrm, crap, will test that.\n. Insert expletive here..  Fixing and releasing..  GAH\n. Right it was there for over a week and no one tested it, thanks guys.\n. Fixed by removing the bad patch.  Someone really needs to address that issue though...\n. @ding444 how did you pull it down and did you clear your cache & restart the Etherpad instance?  I'm 99% sure it's fixed.\n. Ugh, for some reason your node deps cache isn't clearing after getting an updated packages.json\ndo this..\ngit checkout develop\ngit pull origin develop\nrm -Rf src/node_modules\nbin/run.sh\n. Oh wait, I just got it on a fresh clone..  Ugh you have to be kidding me :|\n. Okay pull develop, run, I reverted the express upgrade, I guess something is still really broken with that dep\n. No worries, it's only a temporary fix btw, one of our middleware apps causes the issue so really we need some resources/donations so we can fund a proper fix!  Big donation buttons are on http://etherpad.org :)\n. I feel like this is a duplicate of another issue my old friend\n. Done either way\n. checking out 3.1.2  then doing npm update shows error. will bisect\n. Caused by https://github.com/visionmedia/express/commit/4bb91b3f676755ab56bc7a77e83e77c14fb1e0a0\n. Caused by https://github.com/senchalabs/connect/commit/3f166cc0ac8680d5d0c99e52c67c1b15cb07f208\n. Caused by https://github.com/visionmedia/node-cookie-signature/commit/fd9b45182a63878af0ee23d95d47ef15bec0ad95#commitcomment-3015126\n. https://github.com/strongloop/express/wiki/Migrating-from-3.x-to-4.x\nThe amount of things we would need to rewrite to migrate to 4 is rediculous, just not worth the energy right now.\n. https://github.com/ether/etherpad-lite/pull/2296\n. Nice @devoidfury!  Amazing!  So fast too...  Get a pull request in?   We're rewriting the minify/cache middleware this weekend so hopefully we can deal with that then!\n. Solved thanks to @devoidfury  =) \n. FYI I tested this with https://github.com/ether/etherpad-lite/pull/1753\nDoing various load testing, all of which ran for the default duration and ran from 2 clients with me monitoring stability on my desktop machine .. the pad url was changed for each test IE /p/foo7\nResults\nlurk:1 write:3  --> PASSED no errors, no disconnections\nlurk:10 write:10  --> PASSED no errors, no disconnections\nlurk:20 write:20  --> FAILED Constant https://github.com/ether/etherpad-lite/issues/1752 errors\nlurk:100 write:10 --> FAILED Constant https://github.com/ether/etherpad-lite/issues/1752 errors and\n[2013-04-17 20:34:00.873] [WARN] console - Can't apply USER_CHANGES Z:e3>18=5*4+c|2=h=1l*4+2=n*4+7=1e*4+2|2=p=j*4+4=17*4+h$2zM00nI7uMm8WXps3d1faOdl5GNgAF1CtJslgwSQO6fi with oldLen 507 to document of length 279\nlurk:200 write:10 --> FAILED (see above)\nServer never crashed though\n. The results are not introduced by this patch\n. So on further testing the majority of the crashes I now see are \nnodejs maximum call stack size exceeded\nBut it takes a lot of load to cause these issues, 3 clients at 20:20 each\nIf I increase maximum call stack size and start the test again some bizarre things happen.  Users can connect to pads and the tests appear to be running but no pad changes are saved.\nThere are no errors in console etc.  This is bad because users might edit a pad then all of there work would be lost on refresh etc! \n. Yea basically changing max-stack-size breaks a lot of things really badly.\n. I tried adding https://github.com/dizzyd/node/commit/40434019540ffc17e984ff0653500a3c5db87deb to get a stacktrace but failed to get anything new.\n. Testing this now\n. Seems to work really well, will do stress testing\n. That was @marcelklehr 's call, 1.3 is going to be a stable/line under doing non Sem versioning\n. Two ways to fix this, with a plugin or with a core patch.\nImho this should be a core patch\nOkay so maybe not.  This bug only affects Chrome.\nThe bug does not affect IE, Firefox or Safari who all handle this gracefully.\n. I honestly think this should be handled natively and as Chrome is the only browser to lack support for this I think the issue should be created at https://code.google.com/p/chromium/issues/list\n. Although double nesting in an iframe in Chrome then using the find works for me..  So something is weird here..\n. I think I need to put an hour aside just to find out all the weird edge cases in Find in Etherpad, it seems to work like 80% of the time but I'm not sure exactly what is causing it to sometimes not scroll to words..\n. Confirmed Chrome bug https://code.google.com/p/chromium/issues/detail?id=390951\n. If you want a fix on this please star https://code.google.com/p/chromium/issues/detail?id=390951 \nand\nhttps://code.google.com/p/chromium/issues/detail?id=55421\n. @LaKing perhaps push your find / replace functionality as an invidual plugin and we can have a plugin fix for this issue?\n. https://github.com/JohnMcLear/ep_copy_paste_select_all provides the ability to replace\nMaybe we should just extend that with find?\n. Unassigned myself as this is an upstream bug and will get fixed when someone from the webkit team decides to work on it.\nIf you want a fix on this please star https://code.google.com/p/chromium/issues/detail?id=390951 \nand\nhttps://code.google.com/p/chromium/issues/detail?id=55421\n. Patch fix for #260 \nNext fix should address issue of why it fails in the first place.\n. Holy crap that is bad :(\n. Looks good, will test :)\n. This is awesome work, I will try to test it tonight\n. Did you open a pull request that included this?\n. Confirmed fixed but never closed ticket.  We need backend tests though.\n. Yep, it is, you are right.  It's insanity but hey, so is life..\n. the APIKEY is created on first launch, start Etherpad and it will be created\n. The release procedure is available on the wiki should you wish to do it or you can bug @pita or @marcelklehr who are used to doing them.\n. https://github.com/ether/etherpad-lite/commit/3b8621c6a005\n. What happens if you pull (or checkout) https://github.com/ether/etherpad-lite/branches/dont-crash-noauth :?\ngit pull dont-crash-noauth\nor\ngit checkout dont-crash-noauth\n. btw let's cc @pita on this\n. You should use a test instance for everything, always.\n. This was resolved and merged :)\n. Go for it :)\n. @rhelmer That's a very good point.\n. @spruce we can't automatically merge this pull request, can you update please? :)\n. Bump\n. Does this have a related issue?\n. Do you get that on pads at http://beta.etherpad.org ?\n. Have you installed any plugins?\n. mheh no known issues with that\ntry stop Etherpad then\nrm -Rf src/node_modules\nbin/run.sh\nClear your browser cache and revisit.\nIf that doesn't work test your instance without any session management / logic.\nTurn minify to false in your settings to get the proper line number of the error.\n. This would probably cause more problems than it will solve.\n. This needs to be a plugin, please :) Thanks! \n. @rgbkrk Happy to see a PR to clean those up :)\n. Testing this tonight/tomorrow\n. @bemeric1 on initial observations I want to commend you on super thorough work.  I'm still hoping to get time to test this further but hopefully it looks like we can merge and finally nail this issue!  Good job man!\n. Possible Apache but unlikely, what did the crash logs say?\n. You need to make sure Etherpad is logging properly, if it's not creating a log file then check the permissions in the /var/log/etherpad-lite folder, make sure that the etherpad-lite user (assuming that's who you are running as) has permission to write to that folder.  No logs = very hard to debug.\n. That should be fixed in latest develop, try\ngit checkout develop\nThat should stop any crashes\n. Yes it should be \"Etherpad\" we changed it a few months back.\nPlease find any references to Etherpad Lite and change them to Etherpad.\nThanks!\n. Confirmed also slow on http://beta.etherpad.org/p/cA9CbQlmTY\n. Problem exists in 1.2.0 from my tests so doing a bisect probably wont help ;\\\n. A test spec now exists for this bug.  https://github.com/ether/etherpad-lite/pull/1764\n. This bug existed in the original release of Etherpad\n. Commenting out https://github.com/ether/etherpad-lite/blob/develop/src/static/js/ace2_inner.js#L4501 appears to improve performance to the point where the test passes in Chrome and doesn't seem to have any initially noticeable negative side effects but I can't help but to think that something is wrong with that fix, just not sure exactly why we do removeAllRanges first.\nDocs for removeAllRanges... https://developer.mozilla.org/en-US/docs/DOM/Selection/removeAllRanges\nFF seems fine at handling large pads, Chrome and IE do struggle.  IE runs out of memory for the test and is nearly unusable on a large pad.\nI think this is going to need some serious investigation to see if we can get around whatever is blocking.  I'm pretty much exhausted with my time/resources to throw at this now.\n. So I looked to Google Docs for a suggested solution for this and it turns out Google Docs ability to handle long documents in a collaborative environment is even worst..  Users are often disconnected and large pastes often disconnect users ;\\   I will try to get a more stable test written but I would suggest actually resolving this might take some sexy magic.\n. @iuriguilherme probably completely unrelated\n. afaik the problem exists in etherpad since day 0.\n. A big chunk of this code is inherit from the original Etherpad stack, so I would guess probably not @nemobis \n. @dlongley Is this something you might get some time to review soon?\n. @dlongley To be honest next year would be fine, we're comfortable with things moving slowly on this as it's worth getting the right fix in place.\n. @dlongley Hey man just wondering if you had time to look into this further yet? :) \n. I reached out to @nightwing for 1\n. @dlongley RE 1 see http://etherpad.googlecode.com/hg/trunk/infrastructure/ace/README - the two aren't related. ACE and Ajax editor.\n. c9 ACE does not use contentEditable, mobile support wont work as well. :(\n. IE runs out of memory, don't merge. heh\n. Confirmed bug, I assume riseups is running latest?\n. Doesn't seem to happen here though: http://beta.etherpad.org/p/sFrfWQaMcJ\nSo what's that all about?\n. try update to latest master\n. I don't see this\n. Please provide exact steps to replicate\n--- Original Message ---\nFrom: \"Riseup Labs\" notifications@github.com\nSent: May 1, 2013 2:30 AM\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" john@mclear.co.uk\nSubject: Re: [etherpad-lite] self-walking cursor in chrome (#1766)\nI also updated to the latest master, and this behavior is still there\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/issues/1766#issuecomment-17264262\n. Can you replicate at http://beta.etherpad.org/p/VDlMPh9lgQ ??\n. Confirmed.  So bizarre.  I think a bisect will give us an idea if this is a legacy bug or not\n. RE Broadcasting on beta.etherpad.org, that's to show cursor position (on other clients) so can prolly be ignore.  Disabling the cursortrace plugin would prove that.  One assumes this can be replicated on EP instances without any plugins installed?  Please confirm\n. As an outcome of this \"paste as plain text\" in chrome removes line breaks..  Fsking chrome..\n. Install the stop writing plugin?\n. Yea its intended, i could prolly whack it under a setting if required with an hour or so work\n--- Original Message ---\nFrom: \"richardhay\" notifications@github.com\nSent: April 30, 2013 8:02 PM\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Stop Display of DestFile on Abiword Import Conversion (#1768)\nCurrently, when a file is imported via Abiword, the name of the DestFile (eplite_import_\" + randNum + \".htm\") is appended to the top of the whiteboard display when the imported file appears in the whiteboard.\nWhile the ImportHandler.js file can be modified to change the name of the displayed file, there doesn't seem to be a way to prevent the name of the file from being displayed entirely.  Additionally, the displayed name is indented, counts as a line number, and has extra, blank lines below it.\nIs this intended?  Is there a way to remove this display?  (I tried searching everything!)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/issues/1768\n. Pretty sure this needs to go into the wiki like the other init scripts?\n. Duplicate\n. https://github.com/ether/etherpad-lite/issues/230?source=c\n. You haven't uncommented properly\n. also\nchown -R etherpad-lite your etherpad lite folder..\n. git pull\nget latest version, pretty sure I fixed that unexpected operator thing, still, it's running fine :)\n. Solved, enjoy :)\n. Me and @cweider spoke about this, we're aware of it as an issue.  Right now, the plugin system doesn't include JS included in plugins during the minification process.  If you figure out a way to do it let me know and I will update all my plugins :)\n@redhog might have some insight too, would be good to get this sorted! :)\n. Things that cause slow load (when minify is set to true):\n- [x] timeslider uses images.\n- [x] loading custom files without any custom content included in them (plugin solves this)\n- [x] connecting bar, left arrow and loading.gif images can be JS\n- [x] jQuery_browser.js is served indepently and requires 4 http gets!\n- [x] colorutils is also served independently\n- [ ] html10n.js is served independently\n- [x] pad.js just returns \"customStart()\" lulz wtf.\n- [x] Change plugins to use image files from the icon pack instead of images.. IE ep_align\n- [ ] Get rid of yasjml and require-kernel and replace w/ browserify.\n- [x] Write optimization guide (install ep_disable_custom_scripts_and_styles, set minify to true, set a large maxAge, dont install too many plugins, set mysql to innodb, dont use dirty.db) -- done https://github.com/ether/etherpad-lite/wiki/Optimizing-Etherpad\n0 plugins - 31 requests @ 350Kb @ ~1.4s\n1 plugin - 37 requests @ 350Kb @ ~1.8s\n2 plugins  - 47 requests @ 350Kb @ 2.2s\nIt's pretty clear we have a problem.\n. @prtksxna Any chance we can review the font file and add some editor icons please?  Ideally these ones..\n- [x] fa-spinner <-- see http://fortawesome.github.io/Font-Awesome/examples/#spinning\n- [x] fa-align-center\n- [x] fa-align-left\n- [x] fa-align-right\n- [x] fa-align-justify\n- [x] fa-font\n- [x] fa-superscript\n- [x] fa-subscript\n- [x] fa-step-forward\n- [x] fa-step-backwards\n- [x] fa-refresh\n- [x] fa-file-pdf-o\n- [x] fa-file-text\n- [x] fa-file-text-o\n- [x] fa-file-code-o\n- [x] fa-file-word-o\n- [x] fa-file-o\n- [x] fa-slideshare\n- [x] fa-paint-brush\n- [x] fa-phone\n- [x] fa-font\n- [x] fa-text-height\n- [x] fa-comments\n- [x] fa-print\n- [x] fa-header\n- [x] fa-file-image-o\n- [x] fa-file-video-o\n. I made a start on the icon stuff.\n. Images replaced with icons: 0 plugins - 26 requests @ 950Kb @ ~1.21s\nSecond load 0 plugins - 26 requests - 7.1Kb @ 413ms <-- due to max-age of files.\nGetting the # of requests down by 5 has helped.  Next quick win will be to allow site admin to specifify a setting to NOT load the custom files.  That or we think of a way to test to see if it has custom content and only serve if it has..\n. https://github.com/JohnMcLear/ep_disable_custom_scripts_and_styles is a script that will do the required removal.\n. Finally got Chrome to give me real stats\nMinified Without cache ~23 requests -- 1.1Mb -- 684ms\nMinified With cache ~23 requests -- 4.6Kb -- 366ms\nFixing the jQuery browser issue would be the next hurdle to jump over.  Majority of progress here: https://github.com/ether/etherpad-lite/pull/2321\n. Posted at https://github.com/Automattic/socket.io/issues/1874 RE SocketIO minification\n. There is the potential we drop jquery_browser although we have to deal w/ all of the 44 times we use it..\ngrep -rniF \"browser.\" . | grep -v _browser > /tmp/count.txt && wc -l /tmp/count.txt\nI think this is gonna be the win here, that and/or we do feature checks..  HOWEVER most of our workarounds is due to Chrome's joke of an contentEditable implementation so feature detection wont work..   Another issue will be IE lying about the browser type..  \nhttp://stackoverflow.com/questions/11219582/how-to-detect-my-browser-version-and-operating-system-using-javascript might be useful\n. I haven't dealt with jquery browser yet.\nI updated a # of plugins that use images to use font icons, see https://github.com/JohnMcLear/ep_align/commit/52807dcb241522c3429042e95de0efcca474495e\nI will deal with each plugin on a per plugin basis.\nNext step is jquery browser and then we need to look at a way to minify the plugins, \nWe need to get rid of yasjml and require-kernel and replace w/ browserify.\n. @marcelklehr completely open to other suggestions, did you look into this before?  Know if requireJS might be a suitable alternative?\n. https://github.com/ether/etherpad-lite/pull/2335 available to fix jquery browser issue.\n. Note the Kb represents the new downloads, excludes cached files (as they have a long life span and the life span can be modified through settings.json)..\n0 plugins - 21 requests @ 4.4Kb @ ~0.35s\n1 plugin (ep_disable_custom_scripts_and_styles) - 19 requests @ 3.9Kb @0.32s\n2 plugins (ep_disable_custom_scripts_and_styles, ep_align) - 23 requests @ 6.5Kb @0.36s\nWe still need to replace yasml and require-kernel though as when other plugins are installed their are too many requests.\n. Help sponsor the development of this: https://www.bountysource.com/issues/1371788-minify-js-css-files-for-installed-plugins-into-1-file\n. cc @redhog \n. Can you browse to http://registry.npmjs.org/ :?\n. What?\n. Oh, I totally missed that.  Hah, wasn't that much of a bad joke..\n. Closing as Microsoft fixed this.\n. I think you might want to install the ep_cursortrace plugin .  It's live on http://beta.etherpad.org if you wanna test it out..\n. Search online for how to install plugins\nDate: Mon, 13 May 2013 14:44:03 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nCC: john@mclear.co.uk\nSubject: Re: [etherpad-lite] Text input highlight style (#1780)\nThank you.\nCould you tell me where to get the plug-in?\n\u2014\nReply to this email directly or view it on GitHub.\n. +1 using /admin\n. Rumor is setting ?userName=Whatever doesn't work, I will look into it.\n. @marcelklehr easy fix, I will merge, if it sucks, eat a dragon.\n. Bump\n. @marcelklehr @simong are you happy with how this is implemented ergo is it ready to merge?\n. Will wait for @marcelklehr to confirm this is good to merge :) Thanks!\n. Closing as this is explained more clearly in #1790\n. I think this is fixed in latest develop\n. That's question for @Pita \nDevelop is stable for me on beta.etherpad.org or so it seems\n. We can\u2019t automatically merge this pull request.\nPlease pull, resolve merge conflict and push.  Thanks :)\n. Happy to see this get sponsored: https://www.bountysource.com/issues/1371783-specific-control-over-authors-access-level-for-group-pads\n. This should be a plugin only the site admin should be able to restore to a previous revision OR if a restoration takes place it should happen as a document change and NOT a rewrite back to rev 0.\nIt should be relatively easy to write btw, the functionality to view contents at a specific rev exists already, it's just a case of adding a button and a function to import the document state at a given revision (note you need to keep full doc fidelity IE authors and previous rev states).  Also note doing this process needs to tell the clients it happened (like an import) so that modifications are kept sane.\n. If anyone could restore a version you would destroy the fidelity of a pad.\nYou could \"fork\" the pad at a specific revision, creating a new PadID.  \nEtherpad never forgives, Etherpad never forgets.\nIf you want this functionality I'd suggest referring to the ep_copypad plugin and just modify that, it's a tiny job to create the functionality you want btw.\n. Ugh, I thought this was kinda obvious..\nRevision 1 = Hello world\nRevision 2 = Hello world again\nRevision 3 = Oh my\n*RESTORED VERSION = Revision 4 = Hello world\nHere you restored to state 1 but it's actually Revision 4, we never remove Revision 1, 2 or 3\nIn Etherpad at current if you blank a pad the previous revision changes are still there as previous document Revisions and we also keep individual changesets.\nIf you restore a pad the way you want then fidelity is destroyed and the pad can not be restored to Revision 2 or 3.  I strongly recommend against doing this as it means you lose pad history and allows for document distortion.  Implement a forking mechanism (using ep_copypad).\nAlternatively go a head with what you want, but write a plug-in to do and be aware you are destroying pad history integrity.\nI hope that clears it up for you.\n. Again to emphasize, afaik this functionality exists in ep_copypad.\nhttps://github.com/redhog/ep_copypad\nFeel free to check :)\n. Yep exactly that.\n. It shouldn't exist because in theory you could destroy a pads linear state.  ep_copy_pad is the closest thing afaik\n. I think you are missing the point here..  If you want it, make it as a plugin, it's up to you how your revision state is managed.  I'm simply explaining why that functionality is not in core.\n. please reformat.\n. i didn't delete your message.  When did it get deleted?\n. The bug where your text got deleted or the bug in etherpad?\nIf it's where your text got deleted, nothing we can do, its probable your browser did something funky or github did..\nIf its the Etherpad bug, what line number of padMessageHandler.js and can you make a branch / pull request with a fix?\n. looks a bit broken.\n. @monton bump\n. Works fine, I added test for it.\n. Please create issue on ep_fileupload repo issues :) thanks!\n. What database?\nif dirty\ncat var/dirty.db | grep -i colorid\nshould show if any colors are being set\n. Best to use bisect to figure out which commit broke it :)\n. No but I will ponder on it should I get any time.\n. Got any auth enabled?\n. weird..  any plugins installed or so?\n. heh, ironically i seem to rememeber ep_fintest being broken..  \nRemove plugins, restart etherpad, try again.\n. just for sanity..\ngit pull\nI have seen this bug though, was due to sessions/auth before tho\n. then im out of suggestions for now\n. Sounds like a fresh install fixed this.\n. Did you test this against the frontend tests?  Browse to /frontend/tests\nAlso some test specs are required for this ideally.  Thanks & it looks great :)\n. Did you write new specs for this functionality?\n. Well you can provide specs with plugins.  Plugins support specs, they are auto run when you hit /frontend/tests if they exist in the plugin/specs folder afaik.  Read the docs on providing plugin specs :)\nJust wanna make sure this hook doesn't have any adverse side effects!\n. Ah crap, I tested this but I probably shouldn't have merged it because it changes default behaviour.  We can leave it in but @pita might want to make this call..  Any chance you can make this functionality an option/setting and not on by default please?\n. Ah, my bad :) Was sleepy yesterday\n. @marcelklehr you might also like\n\nnote the blue bar indicating the author..\n. Ah good point @marcelklehr ..  @clkao you okay to do the docs?\n. Simple answer.  Do a stress test on socket.io, do the same stress test on sockjs and engineio and paste the results.  Whichever performs and supports the most amount of edge cases wins.\nWe provide a C based load testing tool, just FYI :)\n. Not migrating to Sock.JS, sorry.\n. We upgraded to SocketIO 1+\n. error in log4js, not sure that is one of ours..\n. I think this belongs here: https://github.com/nomiddlename/log4js-node/issues ?\n. https://github.com/nomiddlename/log4js-node/issues/123 being the same issue..\n. use mod_rpaf.  I think that's what apache will use to rewrite the IP address but I could be wrong..\n. Well if Etherpad is seeing the wrong IP then apache isn't rewriting properly.  Try the #apache channel on IRC?\n. What happens if you hit Etherpad on the port its running on?  do you get the correct IP then?\nWe intentionally hide the IP of some of the transport messages.  Not sure if we do on Pad Leave though\n. Can't remember off the top of my head\n. Please create the issue on the plugin repo :)\n. Clear your browser cache and try again :)\n. you can do text to speech and speech to pad\nIf you extend ep_themes you could create a high visibility theme.\n. @lizzard did you get chance to try out ep_themes? \n. Ah if your screen reader already does it then just ignore me :)\n. Help us help you: https://www.bountysource.com/issues/1371778-improve-accessibility-for-blind-people-and-other-users-of-screen-readers\n. Hey guys, I have been tasked with working on this so if anyone can jump in and help please say! :)\n. All duly noted and added to my pad.\nI have a branch with the support in now: https://github.com/ether/etherpad-lite/tree/editbar-accessibility -- Accessing and navigating the editbar with the keyboard is now possible.\nMy notes and to do list is at: http://john.primarypad.com/ogf-24-03-15 \n. Okay guys I did what I could this week.\nAccessibility enabled version of Etherpad at http://beta.etherpad.org\nDocs @ https://github.com/ether/etherpad-lite/wiki/Accessibility\nWhat have we missed?  Please have a play and let me know!\ncc @sathomas @marcozehe @MrSchism @dbolter @lizzard \n. @pvagner Excellent thank you so much for this!\n. @pvagner et al, this is ready for further testing.\nAccessibility enabled version of Etherpad at http://beta.etherpad.org\nDocs @ https://github.com/ether/etherpad-lite/wiki/Accessibility\nNotes from @pvagner  https://beta.etherpad.org/p/pvagner%27s_test\nTodo list and completion list: https://github.com/ether/etherpad-lite/issues/2566\n. @pvagner thanks, Timeslider should just be able to play back the pad...  Visit\nhttps://beta.etherpad.org/p/foo/timeslider#0\nand try to use that page..  Does that work for you?\n. This is now merged into Develop and will be released into master shortly :) Enjoy folks!  Donations welcome!  http://etherpad.org\n. Good question, I'd check with the sandstorm guys! @kentonv\nOn 26 Jun 2015 17:10, Nolan Darilek notifications@github.com wrote:\nShould this be available on the Sandstorm demo?\nI'm blind and just tried this. The edit area is nicely accessible, but the toolbar is a bunch of unlabeled buttons/links. Arrowing through just says \"button button button link clickable clickable clickable\"...\nNice work so far!\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1803#issuecomment-115743117.\n. Hrm do you have the same experience on beta.etherpad.org ?\nOn 26 Jun 2015 19:17, Kenton Varda notifications@github.com wrote:\nI think that Etherpad in Sandstorm should be the same accessibility-wise as Etherpad outside of Sandstorm.\nOf course, Sandstorm itself introduces an additional top bar with some more buttons, and we haven't had a chance to think about accessibility yet (in fact, the UI is still pretty bad even for those who can see).\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1803#issuecomment-115822729.\n. Very useful I will do this tonight and update beta.etherpad.org for you to review :) thanks man!\nOn 26 Jun 2015 19:30, Nolan Darilek notifications@github.com wrote:\nYes, because it still uses the same code. I.e.:\n\nWhat you need is:\n\nOr possibly both the title and aria-label attributes. Please see the\nDiscourse thread. In short, screen readers don't reliably present the\ntitle attribute because it's been abused for years. In the case of my\nuse (NVDA, Windows 8.1) I get two different presentations of the same\ncontrol. The first, when I tab between the buttons, is correct. The\ntitle attribute is spoken as it should be.\nThe second is a bit non-standard. I can arrow through the controls as if\nthe webpage was a document. This is often a faster way for me to scan a\npage. When you tab around, you're focused just on that particular\nelement. By contrast, when I arrow, I can get a larger glimpse of how\nthe page is laid out independent of keyboard focusability/order. In this\ninstance, I just hear \"Button Button Button Button...\" which is less\nthan ideal. :)\nThe way to fix this is to use aria-label instead of, or in addition to,\nthe title attribute. Any situation where this isn't the case will still\nexhibit this behavior. It isn't a huge deal, but it would certainly be\nvery helpful.\nThanks.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1803#issuecomment-115825669.\n. having some issues with this will try finish over weekend\n\nFrom: Nolan Darilek [notifications@github.com]\nSent: 26 June 2015 19:30\nTo: ether/etherpad-lite\nCc: John McLear\nSubject: Re: [etherpad-lite] Improve accessibility for blind people and other users of screen readers (#1803)\nYes, because it still uses the same code. I.e.:\n\nWhat you need is:\n\nOr possibly both the title and aria-label attributes. Please see the\nDiscourse thread. In short, screen readers don't reliably present the\ntitle attribute because it's been abused for years. In the case of my\nuse (NVDA, Windows 8.1) I get two different presentations of the same\ncontrol. The first, when I tab between the buttons, is correct. The\ntitle attribute is spoken as it should be.\nThe second is a bit non-standard. I can arrow through the controls as if\nthe webpage was a document. This is often a faster way for me to scan a\npage. When you tab around, you're focused just on that particular\nelement. By contrast, when I arrow, I can get a larger glimpse of how\nthe page is laid out independent of keyboard focusability/order. In this\ninstance, I just hear \"Button Button Button Button...\" which is less\nthan ideal. :)\nThe way to fix this is to use aria-label instead of, or in addition to,\nthe title attribute. Any situation where this isn't the case will still\nexhibit this behavior. It isn't a huge deal, but it would certainly be\nvery helpful.\nThanks.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1803#issuecomment-115825669.\n. Resolved https://github.com/ether/etherpad-lite/pull/2711\n. ta\n. prolly good to drop them, they can always be re-introduced as plugins.\nWe should only have support for RFC protocol stuff in core imho\n. ta\n. use three backticks to represent something like code or bash\nexample\n. looks good\n. If you can determine the cause of the bug we can re-open this assuming it is a problem with core, it sounds like maybe a plugin was at fault here though as coloring is not part of core.\n. /src/static/custom/ace_inner.css\nset the font size in there with a css rule.\nYou might have to set Etherpad into development mode to see your changes tho, or use F12 -> Network to see if the correct CSS file has been loaded.\n. try using [null] -- Afaik it expects an array\n. I thought it was documented like that.  Can you please test, confirm then modify the docs to suit?  Thanks\n. Ah, okay so yea, PR is good, I will merge.\n. +1\n. @clkao bump.\n. -_- This looks messy\n. possibly, I think I just found a way to hack it into a plugin somehow, can't remember exactly how, prolly visible in ep_email_notifications or so..\n\nFrom: Marcel Klehr [notifications@github.com]\nSent: 23 July 2013 12:38\nTo: ether/etherpad-lite\nCc: John McLear\nSubject: Re: [etherpad-lite] export sessioninfos (#1816)\n@JohnMcLearhttps://github.com/JohnMcLear didn't you already add in something like this?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/pull/1816#issuecomment-21408179.\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. fixed thanks\n. Are you saying optimist has broken JSON?  If so, create an issue on their repo? :) https://github.com/substack/node-optimist/blob/master/package.json looks fine though..\nfor some reason it's trying to install optimist 0.1.0 not 0.6.0\nim not sure which package from etherpad requires optimist, it must be a child module dep..\nhttps://github.com/ether/etherpad-lite/blob/develop/src/package.json doesn't include it\n. git checkout clean-css-update\ntry that, if it works let me know.\n. I dont think a hook exists to do that\nJack Farmer notifications@github.com wrote:\nI am creating a plugin so i can pull the Certificate data of users connecting to an SSL enabled etherpad-lite instance and put it as the username.\nSo far setting the userName on start by hooking into exports.clientVars works fine but i am not sure what hook to use that will give me access to the SSL session data.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1819.\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Actually this is the wrong place, you should request this on the ep_adminpads repository :)\nI think @eldiddio has a script for nuking old pads, perhaps he will share it\n. yeah..  I have seen this too..  I think it's loading an index of pads into memory or something..  I think a bisect is required to see why this was added..\n. yeah..  I have seen this too..  I think it's loading an index of pads into memory or something..  I think a bisect is required to see why this was added..\n. we need to bisect to find out why this was added, what purpose it serves and if we can add it later in the order of execution.\n. Again to emphasize, we need to do a bisect or at least a blame/history on the file to figure out why this functionality was added.\n. Yes but i maintain a lot of projects and really cant remember each pr i merge in.\n. Please provide steps to replicate\n. Closing due to no input\n. Please add this to the wiki :) Thanks\n. What version of Etherpad?\n. So I'm gonna assume this is a rekonq bug, but I literally have no time/energy to be able to test this or install kde to try it..  I guess if you can get me a VM up with it setup and ready I can take a look and try to isolate it.. \n. No update in over a year, closing.\n. more coherent duplicate of https://github.com/ether/etherpad-lite/issues/1822 ?\n. So this bug is very much confirmed and it's very nasty\n- You can't delete line numbers after you insert them\n- Sometimes opera gets the numbering completely wrong\n- In IE you can't click on a blank numbered line\nAll I'm doing is confirming btw I wont be working on this\n. Unable to replicate in IE11 on current develop\n. Confirmed IE 10 on W8.1\n. This is due to the line counter not being applied on the parent div.  This is a nightmare to debug in IE but we will look into it.\n. Solved thanks @eyesonlyhack :) \n. you can do this by browsing to /admin/settings and just adding the value there.\n. resolved see https://github.com/ether/etherpad-lite/issues/1830\n. Fixed as using Socket IO 1+\n. Ghetto fixed it.  Cleared database and restarted Etherpad\nNeeds a perma-fix, @marcelklehr do you want me to add your ssh key to beta.etherpad.org? \n. Any chance we can provide a test to cover this?\n. Okay I should be able to test this tonight\n. Thanks! :)\n. Irony..  Read the line you fixed :)\n. Ugh, nasty, worth making a test case for this imho\n. @bp323 were you able to get a fix in for this?\n. This is fine in IE 11 on current develop\n. Confirmed IE 10 on W8.1\n. I assume setText doesn't unescape for security reasons or something..  Should be relatively easy to fix but be mindful of security issues\n. Solved by removing dokuwiki from core.  This will need to be placed into a plugin to be supported in the future.\n. @Sandroux if you want to see this please bump https://www.bountysource.com/issues/1371767-modify-the-default-size-of-the-text\n. FYI wont work on pad instances on subdirectories IE /pads/admin/plugins..\nBetter solution is ../../\n. Sorry man I'm too busy right now, perhaps someone else can help.\n. \n. I haven't worked on it.\nThis is how you can build it:\n1. On each edit I'd update an object of words (easy)\n2. On keydown(of non special key) I'd do a lookup for that word in the object (easy)\n3. If a word is detected I'd get the Caret X,Y (not so easy to get properly -- Y is easy, X not so) and draw the options to the screen.\n4. I'd have an onclick event and/or handle special key event (up/down/enter) live until the options are no longer on the screen.\n5. Actually replacing a text range may be tricky, I'm not sure how well that will fly with formatting / clean dom etc.\njquery.autocomplete may be overkill but why not if it makes you happy, it will replace a few lines of code with one.  The hard part here is:\n1. Drawing the options on the screen in the correct location\n2. Replacing the text on the screen with the selected option.  With regards to this you could potentially fake a paste of the rest of the string, again it might funk up formatting..  \nTo prototype this follow my steps and get it to the point where your options are displayed in an absolute location, worry about getting caretX later, I have to work on that anyway.  If you really wanna work on that bit see https://github.com/redhog/ep_cursortrace which does some crazy ass caretX logic (it has to write to the dom to get the true X(px) of the caret).\nOnce you can click on an option make it just paste the rest of the string, see what happens.  If you can get this part right try to keep it modular and abstract because it could be useful for other plugins :)   Also note we already include a sendkeys library with Etherpad that can be leveraged to send keypresses to a pad (we use it in the test framework).\nGotcha..  Getting the options (of words to autocorrect) to always be on the screen is a pita, see how I solved this with https://github.com/redhog/ep_cursortrace -- The problem here is that if you are at Max X on a pad your options will be shown further to the right ergo off the visible pad area, getting the options to display in the correct location wont be easy and will require some hacking.\n. @fosils This is probably my specialism but I wouldn't do it through freelancer.com - bump me directly\n. Email me john@mclear.co.uk \n. FYI @fosils your feature request should be a plugin, not a core modification...  You mention on freelancer.com to fork and edit, that would be pointless as we wouldn't accept it as a core feature :)\n. @fosils I hear that a lot only for people to regret it.  \nPlugins abstract complexity and make code more maintainable ergo making implementation simpler.\n. For posterity here is the content from freelancer.com:\n\nI need someone to implement auto-suggest feature to Etherpad. We will use this to implement this auto-suggest feature: http://screencast.com/t/fWUQowPuZ3\nEtherpad should read the patterns that should present the box from either a text file or a postgresql database (bonus for this). It should be generic so I should be able to predefine, which keys should trigger the auto-suggest dialog. Please implement in the first place that the following will trigger it:\n@?\n@!\n@\nI can accept that your solution does not work on Macs as that seems to be a problem. You might want to contact the guys here to get some help: https://github.com/ether/etherpad-lite/issues/1853\nI need you to fork the existing etherpad code found here: https://github.com/ether/etherpad-lite and commit your code to your fork. You also need to show that this works on a server. Please specify in your bid whether you can test your solution on Android 4.X and iOS as this is a requirement.\n. Yea I thought I mentioned already, peep the ep_author_hover plugin.  Feel free to re-use that code.  Oh shit I just realized I had written a huge email response to this thread and it appears my phone never sent it..  Grr!\n. Here is an autocomplete plugin for Etherpad: https://github.com/jdittrich/ep_autocomp\n. plugins: I think I'm the author and/or maintainer of these and I don't have the funds/time right now to work on them.  The source is on github so you should create separate issues for them on there then go ahead and create a bounty or so to encourage people to hack on the problems.\n\nRE additional questions:\nThere isn't a known general problem with many plugins, it sounds like you have minify still set to true, please read the docs for how to this: https://github.com/ether/etherpad-lite/wiki/Creating-a-plugin\nDisabling color & save revision can be done with a plugin\nYou can pass a url param to change color\nafaik there is a plugin that shows the timestamp of a chat message, there isn't one for pads, afaik timestamp != delta so that'd prolly require some additional hacking\nsocial links should be visible in the share dialogue.\n. It will have been due to bad cache.\n. +1 @simong persistance.\nTemp/ghetto fix..\n<simong> FWIW, I made a ticket for this a while ago: https://github.com/ether/etherpad-lite/issues/1857 :)\n<simong> Is there a way to turn off line numbers by default by any chance?\n<JohnMcLear> Prolly best to use a plugin for that\n<JohnMcLear> should be one for it\n<JohnMcLear> https://github.com/JohnMcLear/ep_hide_line_numbers\nBut persistence should exist for those settings, not sure why they aren't/what commit broke that behavior..\n. Please test :)\n. Closing as no input for a year.\n. Please resolve merge conflicts\n. n1 thanks\n. There's a plugin for this\nRobert Helmer notifications@github.com wrote:\nI'll try it and see what happens.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1863#issuecomment-23304459.\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. @rhelmer I will close this assuming you implemented the plugin\n. You mean like ep_comments?\n. Its under a commercial license and still requires development work.\nzessx notifications@github.com wrote:\nI mean like comments you show on your website ( http://mclear.co.uk/2013/04/07/comments-in-etherpad/ ). Can we already find a plugin for that, or is it still in work / under a bounty ?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1865#issuecomment-23472368.\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. I released this plugin up as open source recently.  Go grab it.\n. @holkili flesh out some ideas about how you'd like this to work.\n. Help us help you https://www.bountysource.com/issues/1371760-add-flooding-protection\n. Thanks\n. Help us help you: https://www.bountysource.com/issues/1371759-http-api-get-saved-revisions-count\n. It's been ages since I worked on the authors plugin, I assume it was me that wrote it or was this the one that clkao did?  I'm really stacked at mo so getting time for EP is difficult\n. Well there are loads of plugins that interact with the author color.. \n. Ah, yea possibly.  Have a go and see how far you get :)\n. Try restart your etherpad instance.  If your etherpad instance isn't set to develop you wont see the difference when you come to print unless you have restarted.\nTo solve this set minify to false in settings.json then restart, that way when you install plugins you will see the difference when you come to print.  (Hit Control P or go File > Print)\n. It probably needs more development, I'm available as a gun for hire should you require this\n. Imho a better way would be to fix the bugs in the plugins but *shrug, up to you :)\nEach plugin has a repo, perhaps create issues on each plugins repo for the bugs you experience.\n. ftfy\n. Please issue a pull request with the patch in, see the contributing guidelines :)\n. Thanks! :)\n. Please create this on the ep_rss plugin repository\n. Thanks! :)\n. @Siebrand We fixed that about a week ago, you gave up at just the wrong time :)  Good luck anyways!  \nNote: I deleted a bit of a rant here, apologies if I caused any offense, I'm grateful for your contributions and apologetic we don't communicate effectively.\n. The fix is in the latest develop, we did a blog post http://blog.etherpad.org about it\nhttps://github.com/ether/etherpad-lite/pull/1926 is the PR that includes the commit that refuses bad Changesets to stop pad corruption\nJust FYI you mentioned the old Etherpad was more stable than Etherpad Lite, I can categorically say that's a false statement.  I can provide about 10 methods for doing a PDoS on the old Etherpad stack.  They are all documented on /ether/pad and no one is actively working on them.  Why do you think piratepad is down 6-12% of the time on average?\nAlso RE corruption happening more, based on looking at the code and running some tests, you are wrong.  The same errors exist on the old Etherpad, it's just (I assume) you use Etherpad Lite more so you see the corruption more.\n. Yep this should be easy to do with a plugin\n. See the way I do this on ep_email_subscriptions\n. Check through the rest of my plugins, this sounds like something I will have done at some point.\n\nFrom: Stefan [notifications@github.com]\nSent: 19 September 2013 06:36\nTo: ether/etherpad-lite\nCc: John McLear\nSubject: Re: [etherpad-lite] FR: A function to send a notice to all users on all pads (#1887)\n@JohnMcLearhttps://github.com/JohnMcLear As I see you don't have this problem in your plugin, because you never need to get a list of all connected users. Maybe I overlooked something?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1887#issuecomment-24718125.\n. Looks good I'd recommend sorting your indentation \n. Sounds like a crash during logging.  Try changing how you log and see if you get the same problem\n. Also note we provide a stress test tool so you can easily replicate.\nhttps://bitbucket.org/rbraakman/etherpad-stresstest\n. @vileda how is it holding up with the new stack_size?\n. We don't accept translate pull requests directly, please read the contributing guidelines.\nTLDR; Use translatewiki\n. I'm sure I fixed that at some point..\n. Assigned this to me because I think it's my code breaking here.  Will fix ASAP (will be 72->240 hours)\n. Related to https://github.com/tmpvar/jsdom/issues/328\n. good spot.\n. @joelrebel please test my fix\n. I can confirm this does happen, I have witnessed it before, it's a horrible bug and needs resolving ASAP\n\nFrom: rchllc [notifications@github.com]\nSent: 18 September 2013 23:00\nTo: ether/etherpad-lite\nSubject: [etherpad-lite] Loss of Sync Between Whiteboards, Forcing Service Restart (#1895)\nHi.\nWe've got a pretty substantial problem that we've been unable to diagnose. We're using etherpad-lite as a platform to allow tutor and student to connect in a virtual tutoring environment. We've been using etherpad for about a year, migrating up in version with each new release, but keeping the same database.\nThe issue is that, randomly, but several times a day, the whiteboard will lose it's \"sync.\" Etherpad thinks that it's up, doesn't throw any errors, and doesn't restart. But, if you type in one whiteboard, that text doesn't show up in the other, connected whiteboard. And, if this happens to one pad, all connected pads exhibit the same behavior.\nWhen this happens, the only solution is to restart.\nWe've ensured that we're running the latest version of etherpad, node.js, and we've checked all dependencies. We've also checked everything that I can figure out how to check, and have confirmed that the server has more than enough memory and disk space. Honestly, we're completely out of ideas.\nI'm happy to provide any diagnostic information, to try anything, or to do anything to get this working. This only started about a month ago (I believe with an upgrade to etherpad), but I can't figure out where to go from here.\nThanks for any help that can be provided.\nRichard\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1895.\n. I think i did a video tutorial for how to use git bisect on etherpad, search online\nrchllc notifications@github.com wrote:\n. Quantum bugs are the worst...\nLuc Didry notifications@github.com wrote:\nWell, the problem is that the problem does'nt appear all the time.\nI'm trying to git bisect, but the bug occured only\u2026 on a commit that updated the README.md :(\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1895#issuecomment-24766609.\n. afaik: default pad text if its a new pad \nSo if you create a new pad, start typing, f5, you see default pad text..\n. Um isn't ep_comments under a commercial license?  @rafacantoni it sounds like you need to contact me to organize paying me for a license for my software.\n. Egg on my face, turns out ep_comments from rafa might be his own version.  https://github.com/nicolas-lescop/etherpad-plugins/blob/master/ep_comments\n. Good job, apologies for the douchery :)\n. This issue already exists\n. It sounds sensible this would be the cause (introducing the chanegset queue).  It was the first thing I investigated too.    I have a live setup I'd like to test this on too\n. FYI I'm now testing this on a live setup, I will wait 24 to 48 hours to see if the problem persists.\n. @ldidry what do you mean by \"Got it on...\", got the bug or the branch?\n. Check the path to your abiword binary\nTo find it load up a terminal and type \nwhich abiword\nmake sure this matches the path in settings.json\n. Please read the documentation, '../abiword' is an incorrect path.  What output do you get from\nwhich abiword\n?\n. Find your abiword binary and put that into the settings.json as the path.  It will be something like \"c:\\program files\\abiword\\abiword.exe\" <-- this is just a guess..\n. If only someone would have documented this in 2011 for you...  \nhttp://mclear.co.uk/2011/12/04/using-abiword-with-etherpad-on-windows/\n. Update to latest develop branch to remove string (red arrow).  RE PDF export not being available, don't know what has caused that.\n. Please investigate this yourself.\n. @marcelklehr if you get time please peer review and merge :) thanks.\nNote: happy for you to tidy up, not precious about this code..  I think we have some test coverage but not full.\n. Oh yeah, looking at the tests, they never actualyl worked as the test framework couldn't / can't move the caret, heh\n. I don't get this same experience in Chrome fyi: http://beta.etherpad.org/p/3bIPbQgoqq \n. Confirmed: Firefox does create this behavior.  Heh fsking browsers.\n. Ironically as I pasted that comment my browser (Chrome) crashed on me..\n. String \"one two three four five six seven one two three four five six seven one two three four five six seven four five six seven 1234567\" does cause it\nString \"one two three four five six seven one two three four five six seven one two three four five six seven four five six seven 123456\" does not.\nAppears to be related to Strlen\n. 128 chars doesnt cause it\n129 chars does. \nAnyways I gotta get on with me real work, this should be an interesting bug to fix tho\n. Hah I bet, or not, actually looking at it I think maybe we do have some hard wrapping or some such\n. Chromium and Firefox has this bug..\nPasting in\n\"one two three four five six seven one two three four five six seven one two three four five six seven four five six seven 1234567\"\nAdds two spaces after the second \"six\"\nI bet it's somethign to do with wrapping or so..  Will continue investigating.\n. Disabling wrapping still causes error, looks like it's when Etherpad sanitizes the line it's injecting an additional \"space\"\n. So it appears the browser is wrapping the content prior to it hitting the contentcollector\n. Please test this:\nhttps://github.com/ether/etherpad-lite/pull/2289\nAlso test pasting lines with other line breaks...\n. Fixed :) \n. You mean move the viewport down Y pixels based on line height?  This would be unexpected behaviour for the user, it's easier and cleaner to just make sure the content in the viewport is not hidden by the chaticon element\n. It's not important to me, it's just an itch I wanted to scratch :) I'd say it needs improving (it's heuristics) before we merge it.  It has two flaws:\n- It isn't aware of when the caret is close to the chaticon so it hides at all times\n- It isn't aware of it a chaticon exists or not so would be confusing for users of admins who have chat disabled and hidden\n. njet :\\  have put some console warns into the live site to see if I can spot which exact function is causing the problem and why.\n. yea\n. Haven't seen any shutdowns in the last few hours ;\\ waiting to catch one..\n. Got one..\n[2013-09-30 13:02:21.578] [INFO] console - graceful shutdown...\nWarn was..\nI was logging out getAuthor\n```\n[2013-09-30 13:02:03.945] [WARN] message - Dropped message cause of bad permissions:{\"type\":\"COLLABROOM\",\"component\":\"pad\",\"data\":{\"type\":\"USERINFO_UPDATE\",\"userInfo\":{\"userId\":\"a.jbAkpm478qnicTu5\",\"name\":\"Pi\",\"ip\":\"127.0.0.1\",\"colorId\":\"#c1d9a9\",\"userAgent\":\"Anonymous\"}}}\n[2013-09-30 13:02:04.057] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2013-09-30 13:02:04.129] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2013-09-30 13:02:04.131] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2013-09-30 13:02:05.404] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2013-09-30 13:02:05.426] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2013-09-30 13:02:06.666] [WARN] console - getAuthor 'a.jbAkpm478qnicTu5'\n[2013-09-30 13:02:06.723] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2013-09-30 13:02:06.736] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2013-09-30 13:02:06.741] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2013-09-30 13:02:16.943] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2013-09-30 13:02:16.948] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2013-09-30 13:02:16.961] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2013-09-30 13:02:17.036] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2013-09-30 13:02:17.038] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2013-09-30 13:02:18.492] [WARN] console - getAuthor 'a.qE4UJ3qZKn8nCfiq'\n[2013-09-30 13:02:20.326] [WARN] console - getAuthor 'a.hUXqmbkNJCieUcIO'\n[2013-09-30 13:02:20.364] [WARN] console - getAuthor 'a.SrvGtRCbY2yWONBN'\n[2013-09-30 13:02:20.368] [WARN] console - getAuthor 'a.ydnR1an3eYjVIXBd'\n[2013-09-30 13:02:20.514] [WARN] console - getAuthor 'a.4tTskyxVSySaRytB'\n[2013-09-30 13:02:20.532] [WARN] console - getAuthor 'a.hUXqmbkNJCieUcIO'\n[2013-09-30 13:02:20.858] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2013-09-30 13:02:20.932] [WARN] console - getAuthor 'a.jbAkpm478qnicTu5'\n[2013-09-30 13:02:21.066] [WARN] console - getAuthor 'a.bEUjVYtl1Vsq2kCh'\n[2013-09-30 13:02:21.420] [WARN] console - getAuthor 'a.GR5U0HfVaoEXvwFs'\n[2013-09-30 13:02:21.449] [WARN] console - getAuthor 'a.qE4UJ3qZKn8nCfiq'\n[2013-09-30 13:02:21.542] [WARN] console - getAuthor 'a.mWAmeOLLDVXtxMoz'\n[2013-09-30 13:02:21.546] [WARN] console - getAuthor 'a.mWAmeOLLDVXtxMoz'\n[2013-09-30 13:02:21.546] [WARN] console - getAuthor 'a.9g9mVpZ4l1MrIXhM'\n[2013-09-30 13:02:21.654] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2013-09-30 13:03:16.620] [WARN] socket.io - client not handshaken 'client should reconnect'\n```\n. What line numbers of padMessageHandler do you think a warn should be at?\nLine 244?\n. I added\nconsole.warn(\"Line 245 PadMessageHandler\", err);\n. Nope adding that .warn didn't help at all :(   I didn't see anything..\n. Good find, so basically Can't Copy unknown op is the problem ;\\  Now to find out why op not present in oldPool? \n. Ouch that API crash is horrible!!\n. http://debian:9001/api/1/listPadsOfAuthor?apikey=test&authorId=john returns 500 --- Confirming error however I didn't get graceful shutdown. Patch on route\n. Patch in develop for customError handling in author API.  Please pull develop unless you have warns in therefor debug\n. The solution is to show a big fsking warning if the admin tries to start their etherpad server with a mysql table that isn't utf8\nhttp://stackoverflow.com/questions/1049728/how-do-i-see-what-character-set-a-database-table-column-is-in-mysql\nshould be easy to do.\n. Copying contents from : \nhttp://ar.wikipedia.org/wiki/%D8%A3%D8%AB%D9%8A%D9%86%D8%A7_(%D9%85%D9%8A%D8%AB%D9%88%D9%84%D9%88%D8%AC%D9%8A%D8%A7)\nWill cause a disconnect.\n. So the above is a fine test case, actually after doing alter database character set it's worthwhile restarting mysql too, for some reason this caught me out.\nI will write something that checks character set of the database and store table and errors if it's not UTF8\n. Closing as I haven't seen in a year or so\n. TLDR; Set Pad Direction as a Pad Setting value adopted from whoever created the pad.\nIf user overrides direction that overrides the pad setting.  Not sure if this is a bug or a feature request, it's kinda low hanging anyways..\n. This kinda ties in nicely into pad global settings too which has still not been properly implemented\n. That would be relatively easy to do with a plugin (see one that exists called ep_align that does alignment, just modifying that to do RTL css property would take seconds)\n. @amire80 Get a patch in ;)\n. This should be in now, let me know if not :) \n. good spot thanks\n. https://github.com/simplereach/helenus/pull/116\n. https://github.com/simplereach/helenus/pull/116\n. Try again.  If it doesn't work let me know.\n. This is a security update I'm merging it right away.\n. @marcelklehr what do you think about the behavior?  I'm not sure if it's a bug or I just didn't RTFM properly.\n. example.js example seems to append.\n. I got completely boggled by this, I just can't figure out why it's not appending..  it's not a log4js issue, it's something to do with the way etherpad behaves.\n. That I didn't try..\n. Test config, this appends fine and is pretty much how we do it in etherpad:\n```\nvar log4js = require('log4js');\nvar config = {\"appenders\": [\n  { \"type\": \"console\"\n  }\n  ,\n  { \"type\": \"file\"\n    , \"filename\": \"/var/log/etherpad.log\"\n    , \"maxLogSize\": 1024\n    , \"backups\": 3 // how many log files there're gonna be at max\n  }\n]};\nlog4js.configure(config);\n// log4js.loadAppender(config.logconfig);\nlog4js.replaceConsole();\nvar logger = log4js.getLogger();\nlogger.setLevel('ERROR');\nlogger.trace('Entering cheese testing');\nlogger.debug('Got cheese.');\nlogger.info('Cheese is Gouda.');\nlogger.warn('Cheese is quite smelly.');\nlogger.error('Cheese is too ripe!');\nlogger.fatal('Cheese was breeding ground for listeria.');\nconsole.log(\"foo\");\n```\n. does\n. Seems a better way of doing it, I'm not sure why we ever passed padIds (shrugs).\nAnyways, a test to ensure we don't pass padId to other visitors on r/o pads would be useful\n. http://debian:9001/api/1.1/listAllGroups?apikey=test works\n. I just tested and you can drag and drop content into chrome now (tested on chromium) on deb\n. I agree, its just a struggle to find time at the moment for me. We could do with a much simpler release procedure, at the moment it takes 20mins or so\nMarcel Klehr notifications@github.com wrote:\n@JohnMcLearhttps://github.com/JohnMcLear i think, we should do release some time soon\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1934#issuecomment-26195422.\n. Thanks @marcelklehr !  You did a great job getting these fixes in and a release out!  Thanks!\n. Peep https://github.com/ether/etherpad-lite/pull/2347 cc @marcelklehr \n. Upstream: https://github.com/Pita/ueberDB/issues/70\n. This looks a lot cleaner than my proposal, thanks!\n. Is this on import?\n. @CatoTH @micah we need more information to help debug this.\nSteps to replicate would be ideal.\n. Ironically a German and a Brit have worked together through 1935 -> 1945\n. Test it and let us know\n. +1 @marcelklehr -- Sorry for breaking the API!  It's worth breaking now though when it's still young :)\n. Absolutely, that's why we allow objects to be passed in the clientVars object.\nHowever, the issue with this is should you want data to be available to an SEO friendly page where you want to have the data parsed by a search engine then this isn't possible (as it doesn't ever load the data).\n. https://github.com/JohnMcLear/ep_public_view/blob/master/index.js\n. \\o/ All the solutions for all the etherpad plugin related problems are in my github profile btw, I suggest browsing through them at some point.  Your best option would be to pass the pad object as a message though, rendering a template then populating it with a message once the socket is established..  You can see how I do this in um, ep_email_notifications (probably)..\n. Try to remove websocket from the list of transports in settings.json\n. @micah yeah it looks that way, damn goes that theory.\n@deleuzer just for sanity, did you try to remove websocket from your transports in settings.json and did you get the same error?\n. Try the latest develop branch, this should be resolved.  Let me know if it's not solved :)\n. Is this on very latest develop?\n. Latest develop seems v stable\nLuc Didry notifications@github.com wrote:\nNo, I'm on the version from the #1902https://github.com/ether/etherpad-lite/pull/1902 PR.\nThis version fixed an fraking bug, but I could'nt continue on develop branch since we got a big amount of users (like 2,500 to 3,500 unique visitors per day in workweek, around 1,000 in the week-end).\nI can't use a potentially buggy version (before using the #1902https://github.com/ether/etherpad-lite/pull/1902 PR, I tried to downgrade to 1.2.11, but it prevented users to be more than one (!) on a pad).\nSo when the blocking bug was smashed, I decided to wait the 1.2.13 release.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1945#issuecomment-26548973.\n. We know the cause btw, we fixed it.  Will close this as an update should fix, if not please re-open\n. I suggest opening an issue there on the ruby-etherpad-lite repo :)\n. https://github.com/ether/etherpad-lite/blob/develop/src/node/db/PadManager.js#L234\nWe limit to 50, The client should sanitize.\n. So it does, I missed that.  Apologies.  I don't know why limited it to 50 chars.  Seems slightly bizarre \n. Related to https://github.com/ether/etherpad-lite/issues/1116\n. http://docs.mongodb.org/manual/reference/limits/\nMongo limits to 125 chars, we limit to 50 to keep things safe.  We could probably extend this up to 80 and still be safe.\nMySQL soft limit is 100, extending to 80 would leave breathing space for groupids.\n```\nIndex Name Length\nThe names of indexes, including their namespace (i.e database and collection name) cannot be longer than 125 characters. The default index name is the concatenation of the field names and index directions.\nYou can explicitly specify an index name to the ensureIndex() helper if the default index name is too long.\n```\n. Your fix will hurt instances that run on /p/\nI think the best fix for this is prolly to use whatever function is getting the padId and use that to write the export url\nAfiak i had a plugin that fixed this issue for a specific site a while back, your temp fix wont hurt you now but obviously if you pull you will have merge conflicts on that file so it will hurt you later.\n. yea but anything else will break, for example if your etherpad was on /hosted/etherpad it wouldn't work\n. Try hitup /frontend/tests when hosting EP on different endpoints with and without proxy see if anything explodes, if not send through a PR with your patch\n. I just test this using this apache config and export is working fine..\n```\n    \n        ServerAdmin support@example.org\n        ServerName etherpadtest\n        ServerSignature Off\n  Redirect /pad /pad/\n\nLoadModule  proxy_module         /usr/lib/apache2/modules/mod_proxy.so\nLoadModule  proxy_http_module    /usr/lib/apache2/modules/mod_proxy_http.so\nLoadModule  headers_module       /usr/lib/apache2/modules/mod_headers.so\nLoadModule  deflate_module       /usr/lib/apache2/modules/mod_deflate.so\n\nProxyVia On\nProxyRequests Off\nProxyPass /pad/ http://localhost:9001/\nProxyPassReverse /pad/ http://localhost:9001/\nProxyPreserveHost on\n<Proxy *>\n    Options FollowSymLinks MultiViews\n    AllowOverride All\n    Order allow,deny\n    allow from all\n</Proxy>\n</VirtualHost>\n\n```\nJust don't rewrite the /p/ to something else and you will be fine..\nSomeone might want to go ahead and update the docs on this.\n. Have you looked at your nginx config?\n. See https://github.com/MozillaFoundation/mofo-lightsaber/issues/12#issuecomment-72710349 & https://github.com/MozillaFoundation/mofo-lightsaber/issues/11#issuecomment-73773049\nLooks like adding something like rewrite ^/(.*)/export/(.*) /p/$1/export/$2 break; will fix this.  Please test and let me know @Yaco \nAlso please fix your own reverse proxy configs, it's really not up to the foundation to maintain third party software for you!\n. I put a fix in for export URLS, please pull latest develop and test.\n. Did you do\ngit checkout develop\nFirst?\nep_small_list. note that our master release broke ep_small_list..  It's fixed in develop\nis broken\n. hrm for now disable ep_small_list, maybe the author didnt update to the new api yet.\n. Try git pull latest develop, we fixed this.\n. Please use our load testing tools and report their performance. Thanks\n. Yea will try find some time to sort something out\n. Let me know how you get on with ep_align and ep_headings, I think I maintain ep_align\n. Yikes, sounds messy, please attempt to recreate and provide steps.\n. Will make a plugin for this now, ugh maybe not gf just pulled me out of the house..  Will do this 2nite.\n. Sounds like I need to be adding a load of hooks in then?  \nIt's that or we go core, I'm more of a plugin type guy myself so that's the usual approach I take.\nYour call, I'm happy either way.\n. @marcelklehr https://github.com/ether/etherpad-lite/commit/c7608d6963a6ad2e94dd3283b9bfe80e78537cda is the beginning of the implementation, re graphite, we'd have to expose stats over the API no?\nAfaik plugins should be able to access the stats object now.\n. Actually RE it being up to the admin, they could just write a plugin that exposes stats on a URL that graphite polls..  That'd be the ideal thing.\n. And a plugin to console log the metrics each second is available as ep_metrics - I will add the metrics you want then it's up to a low hanging fruiter to go ahead and add the rest of the required metrics :) \nHow to use (tm)\n\nCheckout the metrics branch\nInstall the ep_metrics plugin -- https://github.com/JohnMcLear/ep_metrics\nStart Etherpad, look at console.logs\n. You are always very welcome, make sure to review the latest commits on the branch\n. Good job and congrats :) \n. @akosiaris What version of Etherpad?\n. This is fixed in latest develop :)\n. 1.2.12 has it in, but has some issues with slow pad loading on big instances.\n\nWe need to do another release if you can help the release procedure is documented in the wiki, we'd love some help.\n. As there are so few old Etherpad migrations left it's not really worth our effort to address this.  Apologies!\n. Looks good to me :) \n. Couldn't agree more, let's take this opportunity to sort it out.\n. We could really do with someone who is responsible for releasing/publishing etc.  We need that person, if only we could find them...\n. We're not doing much in the way of reach out programs lately, I'm not creating much in the way of content (videos/articles/guides).  Generally we have noise but it doesn't always lead back to contributors..  We also don't have a strong Etherconomy where people are getting paid to do Etherpad work, I expect this is due to the nature of who is deploying Etherpad lately (mostly small organizations without huge budgets).   Things will pick back up I'm sure :)\n. @Gared Yea probably, best laid plans n all that :)\n. The reason ueberDB doesn't suck hard is because:\n1.  Lots of people like other databases, forcing people to use one is not really great\n2.  Lots of people like how easy it is to get started with Etherpad (no need to install a database (Thanks to dirtyDB))\nHowever I do agree.\nA relational database as an alternative is the way forward.  No need to drop ueberDB, just gotta find a way to allow things to be both relational and KVS\n. \"It might be that this idea is about as much work as writing the whole Etherpad to use Sequelize\" - it would be a big job but not a full rewrite, database implementation would be a few % of the total time spent on implementation.\nThe main reason this hasn't been done yet is none of the foundations clients have actually hit this problem.  We have a bunch of huge deployments mostly sitting on MYISAM MySQL that are performing just fine for their use case.\n. @tiblu Sorry but it would take time to get those numbers, you might want to reach out via the mailing list.  I'm really busy at the moment.  Apologies\nYea I'm not about to spend my time fixing hypothetical concerns, we provide load testing tools for you to simulate load.\nFeel free to bump me re #2006 - at the moment it's not a pressing concern so I'm not spending any time on it.  Again apologies.. \n. +1\n. Agreed\n. We can help move this forward: https://www.bountysource.com/issues/1371740-api-fail\n. cc @redhog\n. I agree with @marcelklehr \n. Sounds like a bug with my JSON parser I use to test the JSON.  I get the same problem\n. removing the log config stuff seems to fix it..\n. Weird, pasted the log config stuff back in and it seems fine..\n. @ralfjung-e do you have any plugin settings in your settings.json?\n. @s1341 email me\n. What error do you get?\nHarisankar P S notifications@github.com wrote:\n. You said Etherpad crashes, what is the stack trace that you see in the console?\n. This should be a plugin afaik\n. Still needs to be a plugin :)\nsalehe notifications@github.com wrote:\nI am aware of https://github.com/JohnMcLear/ep_right_to_left, but it works on whole document. This PR allows to change direction of individual parts of text (hence, allows mixed direction document)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/pull/1967#issuecomment-26956818.\n. +1 @marcelklehr I'd love to see it too but new features need to be plugins\n. @marcelklehr will let you review this one :)\n. No progress on this for a year, closing.\n. Pretty sure this got resolved..\n. Peep the release procedure, if you can do any of those bits its whenever you do them, it only needs an admin to merge two pull requests and publish a blog post.\nAaron Parecki notifications@github.com wrote:\n. There is already an issue for this\nSome kvs have 50 char hard limits for keys\n. @ldidry could you please rebase so I can merge this?\n. Yes issues exist for these already\n. Nope they are not\nRamirezZ notifications@github.com wrote:\nI was able to find the issues concerning the timeline. But there was no mention of colors of authors also disappearing. Are these problems connected?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1977#issuecomment-27771971.\n. See ep_themes\n. Hey Andre please look at the open pull requests\n----- Reply message -----\nFrom: \"Andre\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Font style changes at copy and paste text (#1979)\nDate: Fri, Jun 27, 2014 15:46\nHi, I solved the problem:\njust change line 73 (in innerdocbody) in etherpad-lite/src/static/css/iframe_editor.css\nfrom font-family: monospace; to font-family: Helvetica, Arial, sans-serif;\nthat will fix the problem of the changing font-family after paste.\nGreetings\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1979#issuecomment-47353843.\n. Fixed thanks @Stechpalme -- feel free to send through pull requests in the future :)\n. I think there is already an open job for this.  PS by Cursor you mean Caret.\nThe cursor is the mouse, the caret is the keyboard input location.\n. http://beta.etherpad.org works fine for me.\n. Thanks! :)\n. Doesn't this change the format a changeset is returned?  It looks like before it was...\n{\"changeset\": changeset}\nwith yours it's a changeset object?\n. Bump @ldidry \n. @marcelklehr I will merge this if you can please review my export PR and merge that? :)\n. My code my problem, will sort\n. I assume all browsers effected?\n. I tried to replicate this problem but I'm unable to, please provide steps to replicate.\n. Not able to replicate on Chromium on Linux Mint.  Can you record video footage of you re-creating this issue And/or exact steps to replicate?\n. Shortcuts?  You mean Keyboard shortcuts?\n. Feel free to suggest keys for your requests then..\n. Read the developer docs\n----- Reply message -----\nFrom: \"Prateek Saxena\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] Provide shortcut for strike through, bullet list and clear colors (#1987)\nDate: Sat, Oct 11, 2014 17:02\nTrying to resolve this issue I added some trivial code to src/static/js/ace2_inner.js but I am not able to see changes in my instance. I tried restarting the server but still nothing. Is there a build process that I am missing?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1987#issuecomment-58754369.\n. Also if you are doing console logs ensure you are doing top.console.log\n----- Reply message -----\nFrom: \"Prateek Saxena\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] Provide shortcut for strike through, bullet list and clear colors (#1987)\nDate: Sat, Oct 11, 2014 17:02\nTrying to resolve this issue I added some trivial code to src/static/js/ace2_inner.js but I am not able to see changes in my instance. I tried restarting the server but still nothing. Is there a build process that I am missing?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1987#issuecomment-58754369.\n. @prtksxna we good to close this?\n. I'm not able to assign this issue to you, your name doesn't come up so I will close this issue and you can make another issue.\n. @StefanKlatt as the author can you provide a fix please? :) \n. http://tech.superhappykittymeow.com/?p=326 might have a better reference script as it kills a specific PID\n. Fixed with new script.\n. New script however breaks stop and restart functionality, heh\n. fully solved now.\n. @marcelklehr please review\n. Yep\n. @lkraav Last updated is not a perfect way to see if a plugin has been abandoned or not.  I have a bunch of stable plugins that I haven't updated in months because they are stable and to the job perfectly..\nImho what we really need is a rating system and/or a way of ensuring plugins have stuff like a repository URL set and contact details for the author.\n. Dat acronym...  Raspberry Pi for the less broken humans among us..\nEverything locks up an RPi..  It's amazing xmbc/video streaming runs so well!\n. npm search ep_ \nseems to be an obvious way to do this on CLI surely?\n. Closing in favor of #2217 which is waiting on testing :)  Please Test!\n. This is prolly my code again, will take a look.  Have assigned myself.\n. Here you can see it working properly. http://codepen.io/chriscoyier/embed/sDoac?user=chriscoyier&href=sDoac&type=result&height=300&slug-hash=sDoac&default-tab=result#result-box\n. attempting to fix by using padding and text indent works fine for normal text but if you switch to monospace it goes out of line.\n. This is the best fix I can come up with: https://github.com/ether/etherpad-lite/tree/fix-ol-indent\nNote that the fix works fine when the font is arial but as soon as you change it to a different font-width things stop working as expected..\n. We can add 0.12 support when we know it's working, 0.11 & ep works great and it's my daily driver so I needed it :P\n. I'm positive it will, the node guys including @isaacs are great guys :)\n. Looks good to me and looks like a useful API endpoint\n. btw I'd be more comfortable with \"sourcePadID\" & \"destinationPadID\" instead of PadID, newID but that's minor and that's my personal opinion..\n. There is a plugin for it :) see ep_copypad\n. Merging this makes me think we realllllyyy need a backend testing framework/implementation\n. Yea, good point, you okay to do the docs?\n. Are you using abiword?  If you can provide a link to the document it may help debug\n. Yes we should consider it\n. The ep_mammoth plugin solves this problem :)\n. Very dangerous\n. No offense but I prefer this fix over the one proposed by @marcelklehr \nThoughts @marcelklehr  ?? :)\n. Any update on this?\n. Nevermind..  I found a better fix..\nthis.editorInfo.ace_toggleAttributeOnSelection(\"superscript\");\nI will publish a plugin showing this now..\n. https://github.com/JohnMcLear/ep_superscript shows how to toggle attributes on a range (actually selection but mheh)\n. Actually, toggling is all good, but if we want buttons (Such as the bold button) to show depressed when a range has that formatting we will need a getAttributeOnSelection function\n. https://github.com/ether/etherpad-lite/pull/2013\n. My code, will try take a look\n. It got closed because the user couldn't replicate.\n. Allowed formiddable to bump to   \"version\": \"1.0.14\" no negative side effect but didn't fix.\n. It appears to do this the first time on each import call..  Yuo have to restart the server to see the behavior\n. 0.11.7\n. Updating async still fails however did notice these are okay:\nexpress 3.4.8\nconnect 2.14.2\nNeed to continue on with this \n. async works at 1.9, doesn't at 2.\n. No idea what was changed, no changelog..  I guess a git bisect is required to see what the dev changed...  fml\n. Bumped upstream: https://github.com/caolan/async/issues/656\n. Giving up trying to figure out what's going on here..  Anyone else is welcome to jump in, I think it's something to do with yajsml crud.\n. Swapping out a stable dep because one module doesn't have a correct file name is understandably not really something I want to do.\n. I may have no choice though, require kernel is worth dropping. \n. I started porting over to browserify but I got stuck, I gotta move my focus back onto other things now (I'm doing the optmization) so if you could jump in (assuming you are familiar w/ browserify) and make the remaining changes I'd appreciate it :) \nhttps://github.com/ether/etherpad-lite/tree/browserify\n. The big also effects unorm which is stuck at v1.0.0\n. @marcelklehr FWIW this broken attribute copy & paste in Firefox.  https://github.com/ether/etherpad-lite/issues/2574\n. I don't want them to depend on it.. That's the gotcha..\n. You can see how I did this here: https://github.com/JohnMcLear/ep_file_menu_toolbar\n. Help us help you: https://www.bountysource.com/issues/1371722-reduce-space-usage-in-db\n. 1. ppa is what launchpad (ubuntu) uses\n2. done\n. It's not ready :) Will take a while to get this one merged.  deb package needs testing on various flavors of debby based distros\n. Obvious huge security issue...  This could be done as a plugin but it's really dangerous..\n. See https://github.com/JohnMcLear/ep_prompt_for_name\n. Help us help you: https://www.bountysource.com/issues/1371721-use-ip-dns-instead-of-unknown-for-new-participants\n. https://github.com/mwilliamson/mammoth.js looks like it might be a viable alternative, I will continue my investigations.\n. The plugin \"ep_mammoth\" fixes this for docx not for doc\nAssuming .doc is pretty much dead im gonna close this.\n. Obvious question but are you sure your computer locale / langauge is set to estonian?\nBringing up dev tools in your browser and running\nalert(html10n.language);\nWill tell you your current language code :)\n. That's not cool on Estonia guys..  gimme 5\n. It shows up fro me..  It's listed as \"et\":\"eesti\" in languages.json\n. ah yes but it's not in the list..  okay 2mins\n. Works fine for me..\nI copied de.json to et.json in src/locales - reloaded and I see eesti in the list of available languages...\n. Hrm, this doesn't actually work properly so don't merge yet\n. Ah so you can't really use it in a plugin as the aceEditEvent fires before it, you have to use a setTimeout to avoid a race condition..  Nasty!  Either way it works, just the plugin framework is causing a race condition.  maybe we need an afterAceEditEvent hook or so..\n. https://github.com/JohnMcLear/ep_subscript/blob/master/static/js/index.js#L14 is an example of this functionality integrated..\n. @marcelklehr I added docs but I dunno how we're supposed to say which version this was introdued etc..  Any chance you can take a look?\n. Yea but do new hooks need to specify which version they were introduced in?\nMarcel Klehr notifications@github.com wrote:\nIf the next version doesn't introduce any breaking changes it should be 3.1...\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/pull/2013#issuecomment-30063696.\n. Well then this is good to merge but with the knowledge it isn't able to process attributes at the beginning and the end of a line which is far from ideal, a workaround I could try hack in is to check the previous char attribute but that could introduce more bugs than it'd solve.\nI also don't think this is mindful about it getting full line attributes (Such as the way ep_headings works).\nAlso worth noting the aceKeyEditEvent suffers from a race condition that when the callback is fired it is before the dom is updated ergo a setTimeout if required.  Imho this isn't ideal, it'd be nice to have a postAceKeyEditEvent hook too but that would need a separate PR\n. Looks good from what i see so far\neyesonlyhack notifications@github.com wrote:\nThis is an enhancement to the way the chatbox UI works. Ensures that there is always a title bar, even when chatbox is maximized. There is also a minimize button to get out of the maximized chatbox mode.\nThis should help resolve issue #1827https://github.com/ether/etherpad-lite/issues/1827 although does not go as far as adding the 3 button interface as suggested.\n\nYou can merge this Pull Request by running\ngit pull https://github.com/eyesonlyhack/etherpad-lite closeExtendedChatWindow\nOr view, comment on, or merge it at:\nhttps://github.com/ether/etherpad-lite/pull/2014\nCommit Summary\n-   Added a way to closed the extended chat window\n-   Added a way to closed the extended chat window\nFile Changes\n-   M src/static/js/chat.jshttps://github.com/ether/etherpad-lite/pull/2014/files#diff-0 (4)\n-   M src/templates/pad.htmlhttps://github.com/ether/etherpad-lite/pull/2014/files#diff-1 (14)\nPatch Links:\n-   https://github.com/ether/etherpad-lite/pull/2014.patch\n-   https://github.com/ether/etherpad-lite/pull/2014.diff\n. Not merging this as inline JS\n. Good to test \n. PS Might be worth adding some test specs for this?  Or at least running them through the current frontend tests..\n/frontend/tests is your friend :)\n. afaik we have test coverage for showing the chat dialog, so updating the test specs for those would be ideal :)\n. @eyesonlyhack did you wanna add test specs for this?\n. This ties into https://github.com/ether/etherpad-lite/pull/2013\n. See contributing guidelines\n. What bug does this fix?\n. ah I see not a bug just a simple UX patch, I'd rather the JS wasn't inline tbh but this is minor.\n. Yea it still works fine I think it's to do with the pg dep of ueberdb or uebers lack of requirement of that dep, it's something and nothing, just needs a quick fix.\n. Closing as it's a dupe\n. Your computer can't access the URL http://registry.npmjs.org/npm/-/npm-1.2.32.tgz\n. I'm a fan of that @ldidry \n. yea\n. Sorry but I don't really see significant value in maintaining this code.  I don't really want to add fragility/rigidness to the project.  It takes a few seconds to review code and see if it has tabs then asking the developer to resolve them.. \n. See ep_tokenauth \n. https://github.com/nomiddlename/log4js-node/issues/163\n. Prolly not, log4js need to fix this imho\n. Closing this in favor of waiting for a fix upstream\n. Is this actually a problem?\n. First review looks fine, not sure what the getStats code ever did or when we ever used it.  We recently re-wrote how we handle stats so I'm surprised I didn't spot that..  Anyways it looks good to me but obviously needs a fair amount more testing than a quick review..  Will try get some time this week to pull it local and test it\n. Passed all frontend tests, merging :)  Thanks!\n. I'm not sure how this will interact with translatewiki cc @marcelklehr and @siebrand \n. This belongs on the mailing list\n. Tested good, thanks ! :)\n. rm -rf src/node_modules\nOn 13 Dec 2013 02:03, Sedrubal notifications@github.com wrote:\nHi, I finally installed etherpad lite, but when I want to start it, I get this message:\nstart...\nmodule.js:340\nthrow err;\n^\nError: Cannot find module 'npmlog'\nat Function.Module.resolveFilename (module.js:338:15)\nat Function.Module.load (module.js:280:25)\nat Module.require (module.js:364:17)\nat require (module.js:380:17)\nat Object. (/opt/etherpad/local/etherpad/etherpad-lite/src/node_modules/npm/lib/config.js:12:11)\nat Module.compile (module.js:456:26)\nat Object.Module.extensions..js (module.js:474:10)\nat Module.load (module.js:356:32)\nat Function.Module._load (module.js:312:12)\nat Module.require (module.js:364:17)\nWhat can I do?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2034.\n. Didn't realize it did, good spot..\n. Note it pastes without formatting..  Feature not a bug? :)\n. https://bugzilla.mozilla.org/show_bug.cgi?id=674770\nhttp://theartofservice.com/why-doesnt-middle-mouse-click-on-a-quora-url-both-in-displayed-answer-text-and-on-site-elsewhere-open-the-link-on-a-new-tab-11.html\n. I'm gonna summarize this is a feature not a bug, and that middle click should paste unformatted text.  It breaks web conventions somewhat but so is the thug Etherlife..\n. http://stackoverflow.com/questions/13430073/how-to-prevent-on-js-the-pasting-into-input-by-middle-click\nStill not sure we wanna remove this functionality..\n. Fixed with https://github.com/ether/etherpad-lite/commit/0bd7914c3b409408d9a2b0f4f3d6b9ff95df0758\n. Enjoy buddy!\n. Thanks Marcel :) \n. How ready is this to test/merge?\n. @marcelklehr sounds nice :) \n. We have frontend automated tests for this already: peep the timeslider files in https://github.com/ether/etherpad-lite/tree/develop/tests/frontend/specs\nHope that helps :)\n. I guess this can be closed in favor of @marcelklehr 's pull request?\ncc @s1341 \n. Closing as we have another PR that supersedes this~- Thanks to @s1341 for his work!\n. Don't forget about teh plugins codez\n. cc @redhog \n. Have you tested w/ a different backend to see if it exists?  Also have you created a test environment where you can consistently replicate on develop branch?\n. Ahhh, okay..  What if you create a new pad on the redis db, does it show up then?\n. Okies so yeah defo the migration script not migrating the values required for listallpads, maybe grep to see the difference between pads that do exist and pads that dont\n. Yeah thats the exact thing that script neees to do.. however also a sep script to rebuild listallpads data would be ideal!\n0x46616c6b notifications@github.com wrote:\nI only find the \"new\" pads in ueberDB:keys:pad:*. Is it possible that I must extract all the old pad ids and insert it in ueberDB:keys:pad?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2046#issuecomment-30951245.\n. Cool please share it when you do\n0x46616c6b notifications@github.com wrote:\n. Can you consistently replicate?\n. Seems fine on beta.etherpad.org so not a global npm access problem\n. Did you edit settings.json?\nWobIntosh notifications@github.com wrote:\nHi,\nI just cloned the latest checkout to set up an etherpad lite on my uberspace, but it didn't work because Error 503. Maybe again the Issue from Ticket 1581?\nLog:\n2013-12-25 19:10:13.002975500 Ensure that all dependencies are up to date... If this is the first time you have run Etherpad please be patient.\n2013-12-25 19:10:15.405177500 Ensure jQuery is downloaded and up to date...\n2013-12-25 19:10:15.415726500 Clear minfified cache...\n2013-12-25 19:10:15.425026500 ensure custom css/js files are created...\n2013-12-25 19:10:16.007215500 [2013-12-25 19:10:16.003] [ERROR] console - There was an error processing your settings.json file: Unexpected token *\n2013-12-25 19:10:16.877062500 Ensure that all dependencies are up to date... If this is the first time you have run Etherpad please be patient.\n2013-12-25 19:10:18.645639500 Ensure jQuery is downloaded and up to date...\n2013-12-25 19:10:18.651957500 Clear minfified cache...\n2013-12-25 19:10:18.653532500 ensure custom css/js files are created...\n2013-12-25 19:10:19.094163500 [2013-12-25 19:10:19.091] [ERROR] console - There was an error processing your settings.json file: Unexpected token *\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2048.\n. Restore that file, you did it wrong by the sounds of things....\nWobIntosh notifications@github.com wrote:\n. User error.\n. We no longer depend on NPM for search indexing :) \n. Fixed.\n. Yes we do, look at the plugins\nhttp://blog.etherpad.org/2013/01/31/9-etherpad-plugins-to-extend-functionality/\nInstalling plugins by visiting your installation and hitting up /admin/plugins\nSee plugins live here: http://beta.etherpad.org/z5H1tJwY48\n. We also provide a nice guide for how to get started contributing! :) http://blog.etherpad.org/2013/11/11/getting-started-contributing/\n. @marcelklehr what is the point in this pull request? :) \n. The list length needs to be greater than the maximum # of chars allowed on a \"line\" IE\n```\nWelcome to Etherpad!\nThis pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you\n type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this \npage sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!is pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!\nGet involved with Etherpad at http://etherpad.org\nIMPORTANT: Pad contents are destroyed periodically, we(The Etherpad Foundation) use this instance as a test site for new plugins and the latest Etherpad - Thanks to Rackspace for the hosting!dfg sdf sdf \n```\nI'd need to knwo why we have max line length logic to know why this is the behavior..  The fact of the matter is if your list length content is this long you are doing life wrong.\n. Wrapped lines should inherit the previous lines line attributes or even better not wrap if they are a list type..  I think this would affect performance quite a bit though..\n. Removing this limit: https://github.com/ether/etherpad-lite/blob/develop/src/static/js/contentcollector.js#L655\nWould fix the issue but we'd need to know why this limitation exists.  Is it a limitation we still have an issue with or is this now fixed in browsers?\nI seem to remember issues with performance but it might have been an IE legacy issue or so..  If someone has..\nI wrote a quick test..  adapter responsiveness.js\nwith 2000 line length I get 559 ms in FF / Chrome.\nwith 20000 line length I get 2204 ms in FF/ 13k ms in Chrome\nSo yeah the line length does affect performance quite a lot, meaning this might have to be a wontfix or wiating on upstream as the issue is long lines are not performing well in chromium..  Possibly related to: https://github.com/ether/etherpad-lite/issues/1763\n. Look at you making issues, mr fancy pants!\n. Prolly makes a fair amount of sense to remove the prompt..  I'd be tempted to merge that pull request, it does seem a bit superfluous as @MarkTraceur stated undo does work. . Your call, it's a one liner if you wanna make a pull request..\n. @MarkTraceur wanna make a PR w/ the prompt commented out?\n. Take a look at the source code that handles the clear authorship prompt...  grep -rni authorship . is your friend.  To get the current selection look at the rep object.\n. Please read the getting started developing documentation.\n. https://github.com/ether/etherpad-lite/wiki/Example-Development-Settings.JSON should help.\n. your nginx config is wrong?\ndoes it work fine if you don't go through nginx?\n. do this\nrm -Rf src/node_modules\n. My pleasure :) \n. agreed\n. He means links pasted into pads afaik...  It should be an easy fix.  You can see the bug here: http://beta.etherpad.org/3dYmeOyI0C\n. Cheers\n. Cheers @Gared \n. Hrm, should this be the case though?  Afaik we fixed this on develop no?  Maybe this guy is running an old settings.json that doesn't have a blank value set\n. Weird cause the new crypto stuff isn't even in master branch yet afaik..\nCan you try a clean install and see if you can replicate?\n. Prolly due to patch by @rhelmer i should have spotted this.. Whoopsi :)\n. I don't get this error on develop branch...\ntested with..\n504  mkdir crypto\n  505  cd crypto/\n  506  ls\n  507  git clone git@github.com:ether/etherpad-lite.git\n  509  cd etherpad-lite/\n  510  git checkout develop\n  511  bin/run.sh \n  512  bin/run.sh \n  513  git branch\n. 0.10.4 here, will grab 0.10.24 and test..\n. hrm, unable to replicate, you sure you are checking out a new repo of the develop branch?  Sounds like you are maybe using an old settings.json or something?\n. Try checkout develop branch, delete the APIKEY.TXT and run etherpad again to see if it's still undefined.\ngit checkout develop\n. o ho, noticed this doesn't have some bits in, need to update this :)\n. Changelog and some fixes in, we can release at this point if you want or we can get the other bits done?\n. Confirmed.\n. Fixed and updated 1.4.0, please test.\n. Woop :) \n. woop will test today\n. I put this branch live on beta.etherpad.org\nhttp://beta.etherpad.org/test/timeslider\n. Observations: \n- Play button doesn't work, if you hit play at the end of a document it should either play the document in real time or go to the start of teh document\n- Clicking to go back in time doesn't work consistantly\n- Goin back to a revision then hitting play seems to play from the last known good state\nFor some reason there is a ugly animation that makes the timeslider expand out, this doesn't follow the UI of etherpad so should be removed..\nClicking the forward/back buttons seem to work quite well assuming you are on a loaded revision /state\nImho so far from a users point of view there isn't any improvement from the status quo..\n. done\n. Bug1) Revision 0 doesn't show the initial pad contents.  To replicate:\n- Create a new pad\n- Type additional content\n- Create 5 or so revisions.\nRevision 0 is incorrect.\nBug 2) Play doesn't work\nHitting play on a pad with 20 revisions does nothing (no error etc), data does display in console.  Hitting pause twice starts the pad playing fine.\n. The UX is really broken but the functionaltiy seems pretty solid.  @0ip @luto did you guys wanna look at the UI/X on this and get it tight?  Note the UI has been heavily modified since so you will want to rebase onto develop.\n. @marcelklehr the version 0 is still showing nothing.  Why not just do an if content == \"\" show rev1 instead of rev0?\n. /tests/frontend/?grep=timeslider_labels.js and /tests/frontend/?grep=timeslider_revisions.js fail -- I will sort these.\n. There is no ability to export a given revision any more.\nThere is no button to go back to the pad.\nIs this expected behavior @marcelklehr  ?\n. The test it(\"jumps to a revision given in the url\", function(done) { fails intentionally as it attempt to get teh contents at rev0 which is currently incorrect as per https://github.com/ether/etherpad-lite/pull/2070#issuecomment-63180032\nThis with some work will be ready to merge :) \n. @marcelklehr I rebased this so bugfixing for you should be easier :)\n. Yeah the bar gone is intentional until we figure out a good ui,ux\n. Closing as it's been neglected..  I dunno if @marcelklehr wants to take this on again, doesn't seem that way!\n. No worries :) \n. Install the plugin that disables the button\nnetworkinghomer notifications@github.com wrote:\n. I thought there was a plugin that disables the button too, if not find a plugin that disables another button and modify it to suit your needs\nnetworkinghomer notifications@github.com wrote:\n. That also does a bunch of other stuff tho..  Review the file ..\n. Proper solution now available: https://www.npmjs.org/package/ep_disable_reset_authorship_colours\n. I don't have a good answer to this other than, you can't...  It's a fair point though, if a troll wanted to they could just nuke a bunch of pad contents and you wouldn't know (without looking in the logs) who did what..\n. Afaik there is a similar issue already open.\n. Help us help you! https://www.bountysource.com/issues/2228144-admin-plugins-add-date-of-last-modification\n. Done\n. Sounds like maybe some code hasn't minified properly..\nHave you tried restarting etherpad?\n. Try run Etherpad with minify false for a bit, then let me know if you see a different error.\n. Assuming as this has been a month ales gut\n. You opening these issues so you can submit a fix or?  Looks like you are, just don't wanna assign to anyone else if that's the case\n. I didn't make beta.etherpad.org mobile friendly at all, some very basic responsive css would solve 99% of these issues but it's a case of finding the time to do it..  @0ip being my favorite etherpad designer but he is busy with studies..\n. On a side note, I actually think this issue needs closing here and opening on the individual plugin repos..  Or screen shots showing a non plugin enabled site should be used..  Afaik the only major issue EP faces is the overflow / layout of buttons on mobile..\nOn another side note, using cordova w/ a pad in an iframe is a semi decent app experience..  although ep_page_view needs some work on it's responsive CSS..  Again this is all CSS stuff so very low hanging..\n. swipe editbar down from the top and swipable from the left-right to access different buttons would be the expected UX here.\n. Core UI is dealt with here, its now up to plugins to resolve their issues.  Feel free to create bounties on plugins that cause pain!\n. Confirmed\n. Fine in 1.1.5\n. Used git bisect to discover caused by:\n```\n5d803a05239b75ea592d00a16f84368416287095 is the first bad commit\ncommit 5d803a05239b75ea592d00a16f84368416287095\nAuthor: Marcel Klehr mklehr@gmx.net\nDate:   Fri Nov 22 17:18:30 2013 +0100\nFix walking caret bug\n\nwhite-space css prop must be set to pre-wrap to keep trailing spaces\nfixes #1766\n\n:040000 040000 3d7fdc44de61161e47f8bf408ac008f7faf3c8c6 1989946b0534d1d0925c95f10eb71436ba4acd62 M  src\n```\n@marcelklehr https://github.com/ether/etherpad-lite/commit/5d803a05239b75ea592d00a16f84368416287095\n. @linuxundich @rfjakob @TLOVeritas  I'd encourage you to read this: http://mclear.co.uk/2013/04/02/using-git-bisect-to-debug-etherpad-issues/\nI use nvm to have multiple versions of node available.\n. If you apply the workaround you may experience a walking caret in Chromium browsers.\n. I think we might have to introduce a patch because most browsers aren't putting much effort into contentEditable.\n. Note that this only affects \"plain text\" events, pasting HTML etc is fine, line breaks are kept..\n. If anyone wants to fund a bounty it will speed things up for me getting to this!  \nhttps://www.bountysource.com/issues/2228142-copy-paste-looses-line-breaks-when-working-with-chrome\n. Please test this branch to see if it's fixed https://github.com/ether/etherpad-lite/tree/browser-based-css-wrap\nThanks!\n. Hrm well it should be fixed... \non innerdocbody element what css rules do you see being applied?\n. Looks like I somehow failed at life and committing, I will recommit the fix tomorrow.\n. @NotSqrt give this a go: https://github.com/ether/etherpad-lite/pull/2282\n. Yea so run on that branch for a few weeks and keep an eye to see if you get a walking cursor.\n. Mozilla are years behind, to the point we recommend not using their instances.\n----- Reply message -----\nFrom: \"Benoit\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] Copy&Paste looses line breaks when working with chrome (#2078)\nDate: Thu, Nov 13, 2014 10:21\nHaving the issue on http://etherpad.mozilla.org also.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2078#issuecomment-62869999.\n. @NotSqrt okay please create a seperate issue for monospace, I'm going to merge my fix\n. Looks like the firefox issue is back: https://github.com/ether/etherpad-lite/issues/2407\n. Pretty sure this isn't an issue any more @LaKing - do some more testing and let us know if you are sure..\n. Bump @pita and @Gared to do a release :)\n. Okay broski\nHehe must of been a good night last night, don't even remember this..  Quick fix on it's way for youuuu\n. @MarkTraceur please test and if you are happy, let me know and I will merge..  It should be a very quick test..   Not sure if it's possible to give this test coverage though as afaik our testing framework isn't tab aware..\n. Merged into develop @MarkTraceur eats worms\n. This doesn't belong here, contact your university IT services.\n. If you want to run Etherpad on port 80 on linux you need to use a reverse proxy.  This is documented in the wiki.\n. \\o/ FWIW cursor issues are usually my issue to resolve but I have been really busy lately.  Anyway I'm unable to replicate this in Chromium Version 34.0.1847.116 Ubuntu 14.04 aura (260972)\n. @tbayer I'm still unable to replicate your specific bug.. Can you please let me know if you are still experiencing it on https://github.com/ether/etherpad-lite/pull/2282 where we have a different setting for line wrapping?\n. I can't replicate on Chrome 39 Version 39.0.2171.99 (64-bit) under Ubuntu\nPressing down key works fine.  It behaves completely as expected ;\\  I suggest you get this in front of other peoples eyes so you can provide steps to replicate.\nUntil you can replicate I'm going to unassign myself.\n. try looking through the etherpad stuff on my blog I think I prolly document a fair amount\nalso look through my github repos\nEven with that said, some docs would be ideal  and welcome :)\n. Does it break any functionality at all? So far sounds good :) thanks dmitry and in general very pleased you are finding the time and energy to contribute, we appreciate it!\n. @marcelklehr you happy for this to be merged?\n. @marcelklehr did you want to see this in 1.4?\n. @webzwo0i did you want to submit a fix that doesn't disconnect the user?\n. @marcelklehr are you happy with this? :)\n. @webzwo0i did you want to update before we merge?\n. @marcelklehr did you want to see this in 1.4?\n. Congrats @webzwo0i \n. Known issue there is an open pr for this please test the fix-timeslider branch and report your findings on that pr\nAndreas Thalhammer notifications@github.com wrote:\n. No but we already have an issue and PR open for this :)\n. Define pretty slow...\nBr\u00e1ulio Bhavamitra notifications@github.com wrote:\nHello all,\nI'm getting a lot of \"Force reconnect\" errors on etherpad-lite when the connection is pretty slow and or reconnect to the PPP server. That makes the pad unusable.\nThe pad version is 1.3.0. I have upgraded it to develop branch with no better result.\nThe pad is behind an apache 2.2 (debian wheezy) reverse proxy, using the configuration found on the wiki.\nThe same connection with Google Docs works ok. Does etherpad-lite uses a permanent tcp connection?\nIs there a option that resumes the connection and don't need a force reconnect reloading the entire pad (which here takes a lot of time and sometimes stop on a error)? Maybe multiple requests is better?\nbr\u00e1ulio\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2097.\n. Speed is fine, i assume your issue is on the 1 hour reconnect?\nWhat transports do you have enabled in settings.json?\nBr\u00e1ulio Bhavamitra notifications@github.com wrote:\n. Yep but your connection should be fine. Try add websocket to your transports.\nJ\nBr\u00e1ulio Bhavamitra notifications@github.com wrote:\n. If apache is the cause it will have been a config issue with apache that should be solvable by modifying the config of the site.  So documenting it would be modifying the reverse proxy wiki page with the correct config or at least adding a disclaimer to the config saying it causes X issue.\n. This issue needs to be created on the plugin repo\n. Instead of using localhost for the mysql hostname try 127.0.0.1\nTest your MySQL setup.\nThis isn't a bug though, it sounds like you need to post this to the mailing list.\n. ueberDB should really be responsible for handling this.  I mean if your database goes away, we do want Etherpad to behave this way.  I wouldn't say it's a bug but a feature request for gracefully handling failed database requests.\n. Help us hlep you!  https://www.bountysource.com/issues/2228137-crash-when-database-connection-is-lost\n. Note ep_align implements this hook.\n. Idk what this is..  I will jump on IRC\n. <JohnMcLear> mark\n<JohnMcLear> what's that issue about?\n<JohnMcLear> rdwrer\n<rdwrer> JohnMcLear: A greasemonkey script threw an error and stopped EPL from loading\n<JohnMcLear> I feel like i should know what greasemonkey is..\n<JohnMcLear> will search..\n<rdwrer> Userscripts.\n<JohnMcLear> okay...\n<JohnMcLear> oh, so it's an error caused by greasemonkey?\n<JohnMcLear> any reason it's in our repo?\n<JohnMcLear> for posterity or?\n<rdwrer> No, it's an error in the EPL error handling\n<rdwrer> JohnMcLear: You shouldn't catch all uncaught errors, only ones that EPL throws\n<JohnMcLear> ah\n<JohnMcLear> I assume that's because we replace console?\n<rdwrer> Might be\n<rdwrer> JohnMcLear: I guess you could use a massive try/catch or write your own logger instead\n<JohnMcLear> i assume this happens on the pad when you load a pad?\n<rdwrer> Yeah\n<JohnMcLear> Is it easy to replicate?\n<JohnMcLear> Do I just install greasemonkey and it will appear?\n<rdwrer> You'll need to install a script that throws an error\n<JohnMcLear> okay, so just console.faceplant(\"Garbl\"); or something\n<rdwrer> Well\n<rdwrer> throw new Error() maybe\n<rdwrer> I did it by accessing an undefined thing\n. TIL Our error handling is too aggressive..\n. @MarkTraceur fwiw I just don't care about this enough to fix it..  I wish I did but I don't ;\\  You are very welcome to fix yourself though!  Sorry dude\n. http://beta.etherpad.org :?\n. Confirmed, desired behavior is only the new text shows the new editor class information.\n. @dmitryuv any chance you can take a look at solving this one please? :)\n. Try reinstall\n\nFrom: Veritas [notifications@github.com]\nSent: 11 March 2014 20:56\nTo: ether/etherpad-lite\nSubject: [etherpad-lite] Uncaught SyntaxError - Crashes on Loading Pad (#2105)\nI'm trying to run EPL as a service on an Ubuntu 11.04 install with Apache2. Regardless of whether I access EPL directly on port 9001, or via the proxy system from Apache, I get errors - but the errors are different between the two.\nIf I am accessing it directly through port 9001, I get the following:\n\"An error occured while loading the pad\nUncaught SyntaxError: Unexpected end of input in http://last-outpost.net:9001/p/34yKMeK4ky (line 0)\"\nand if I try to access it through Apache I get:\n\"An error occured while loading the pad\nUncaught Error: The module at \"ep_etherpad-lite/static/js/rjquery\" does not exist. in http://txt.last-outpost.net/static/js/require-kernel.js (line 1)\"\nThis happens in any browser, but on Chrome, the developer console reveals the following errors:\nFailed to load resource: net::ERR_EMPTY_RESPONSE http://last-outpost.net:9001/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define\nFailed to load resource: net::ERR_EMPTY_RESPONSE http://last-outpost.net:9001/javascripts/lib/ep_etherpad-lite/static/js/ace2_common.js?callback=require.define\nFailed to load resource: net::ERR_CONTENT_LENGTH_MISMATCH http://last-outpost.net:9001/socket.io/socket.io.js\nFailed to load resource http://last-outpost.net:9001/javascripts/lib/ep_etherpad-lite/static/js/rjquery?callback=require.define\nUncaught NetworkError: A network error occurred. require-kernel.js:1\nFailed to load resource: net::ERR_CONNECTION_REFUSED http://last-outpost.net:9001/locales.json\nUncaught SyntaxError: Unexpected end of input 34yKMeK4ky:1\nEither way, trying to load any pad produces an error and causes EPL to crash and have to be restarted.\nI have already tried adding localhost to /etc/hosts and rebuilding node_modules. I can post screenshots if they would be helpful.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2105.\n. Sounds like your rewrite rules need attention\n. Closing this due to lack of sanity.\n. Try the latest Develop branch and let us know if it still occurs\n. yes please\n. In theory this problem shouldn't occur at all as the bad data should never find it's way in now..\n. I can leave this open and if it occurs on fresh data we can try to resolve it..\n. Hrm, that'd be painful potentially..  Maybe wait for 1.4 which should be out in a few weeks max.\n. Sure just send a pull request with it in or ask @Gared  to\n. We think we have a fix for this now.  Please pull develop and test :) Thanks!\n. <3 @webzwo0i Thanks man you are awesome\n@webzwo0i I have been doing a fair amount w/ getting the char rep from a X co-ord on an element lately (for drag and drop) and I have a feeling I'm going to hit this problem where certain characters are improperly wrapped.  It will be interesting to test that at some point\n. Thanks :)\n. Should maybe be addressed at the same time as https://github.com/ether/etherpad-lite/pull/1579\n. Yea, for some reason I thought #1579 wasn't ready so I put this in as a way of solving the problem without over-engineering..  #1579 is certainly a \"better\" solution but it may come at a higher cost of broken plugins etc.\nI will test #1579 anyway and see if I can find any short-comings.\n. Excellent thanks, you mind if I do a little testing with plugins later today then merge if it all tests okay?\n. Works perfect good job @cohitre and @marcelklehr  !: )\n. Git pull this should be fixed.  I have some more fixes landing when my flight lands\n. @webzwo0i did you get these tests in?  Can we confirm this is fixed?\n. Interesting find, does updating underscore to the latest version cause any issues when running the frontend tests?\n. Find underscore in package.json and update it there, that's prolly correct way I think\n. I'd take a PR with 1.5.1 just to move things forward a bit for when we next release which is really soon supposedly.. \n. @jdittrich any chance of this as a PR?\n. Well it's a step forward, any chance you can see what's broken in the latest version?\n. *bump @jdittrich \n. I can only see us using this here: \n./js/broadcast_slider.js:169:    var fixPadHeight = _.throttle(function(){\n. Okay maybe that's not the case, updating causes an error delivering a pad..\n. Done :) \n. Lots of good stuff here.  Thanks @dmitryuv \nAll tests pass, except ones that were broken..  Turns out redo is broken for some reason on develop..  Will create issue for that..\nI will wait for @marcelklehr to do his code review and if he's happy we can merge :) \n. Changing text to Bold doesn't work on this branch, fails frontend testing.  cc @dmitryuv \n. @Dmitryu when do you think the new one might land?\n. I thought this already got merged into develop?\n. Ooooooooh timeslider! :)\n. Is this required for 1.4?\n. lol wtf?\n. Can you please do a bisect to find out which commit b0rked this?  Afaik there might already be an open issue though..\n. I get this error\n[2014-11-01 14:58:36.972] [WARN] ImportHtml - HTML was not properly formed [TypeError: Cannot read property 'tagName' of undefined]\nTypeError: Cannot read property 'tagName' of undefined\n    at Object.domInterface.nodeTagName (/home/jose/etherpad-lite/src/static/js/contentcollector.js:49:15)\n    at isBlockElement (/home/jose/etherpad-lite/src/static/js/contentcollector.js:86:31)\n    at Object.cc.collectContent (/home/jose/etherpad-lite/src/static/js/contentcollector.js:369:19)\n    at Object.setPadHTML (/home/jose/etherpad-lite/src/node/utils/ImportHtml.js:43:8)\n    at async.series.fileExists (/home/jose/etherpad-lite/src/node/handler/ImportHandler.js:195:22)\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:486:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:185:13\n    at iterate (/home/jose/etherpad-lite/src/node_modules/async/lib/async.js:108:13)\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:119:25\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:187:17\nThat's when I try to import Etherpad's index.html!\n. Ah the error in Etherpad is due to template declarations that are of course incorrect HTML markup\nI suggest if this problem persists for people they should paste their HTML onto a pad or so.\nWe use JSDOM to parse HTML so if that fails, you are screwed.  https://github.com/tmpvar/jsdom\n. Actually we use jsdom-noncontextify which is a fork of jsdom, I will see if I can find out from @pita why we do this..\n. Tried to use jsdom and not noncontextify and I don't think it worked, waiting on @pita for his input\n. Reply from Peter\n\"I forked it because contextify didn't compile under Windows and including the original jsdom would have made etherpad Windows incompatible. And I noticed that for or case we don't need contextify. Anyway this it's years ago. Things might have changed now. Also maybe Windows support isn't as big of a thing now\"\nI checked and jsdom does not have native windows support w/ out loads of other crap.\n. Yea cheerio would be a nice clean swap out.\n. I gave Cheerio a go but it's not a clean swap out.\nPassing the dom through to contentcollector doesn't work.\n. I bumped this on cheerio, just to speed things up https://github.com/cheeriojs/cheerio/issues/601\n. Fixed with https://github.com/ether/etherpad-lite/pull/2341\n. Hah I just started working on this :) n1 getting a fix in\n. This should be a feature request on the ep_markdown repository.  Please create an issue here: https://github.com/JohnMcLear/ep_markdown/issues\n. Tested with this\nbody{\n  font-size:200px !important;\n}\nAnd it's working fine.  User error\n. @wallverb I'd take a PR to fix this :)\n. @wallverb Go for it!\n. how big is your dirty.db?\n. Please don't create duplicate issues\n. Translations are provided through http://Translatewiki.net\nThanks :)\n. Does Alt S work in other input fields / editors to input this character?\n. Are you trying to use a compose key or just Alt S?\n. Shouldn't alt S perform a task, in firefox or example it brings up the history file menu....\n. You said a few times in this comment thread \"Alt S\"  I assume you actually meant Right Alt and not Left Alt?\nLeft Alt = Alt\nRight Alt = Alt Gr\nJust want to clear this up as I think the issue is you are assuming your right alt is a compose key so that's what I will need to replicate...\n. Fixed in https://github.com/ether/etherpad-lite/commit/e51ab2db249fea3f7ac1e64ffca576fb163703f3\n. I'm going to assume this resolved itself as there were no follow ups.\n. Sounds like ueberdb caching issue to me\neholzinger notifications@github.com wrote:\nGit version 156200dhttps://github.com/ether/etherpad-lite/commit/156200d, running on Ubuntu 10.04. EpadLite version 1.4. Have tried this with both a MySQL backend and MongoDB (and a newer version of Ubuntu).\nThe API appears to work. The logs show the copyPad functions do what they are supposed to. If you then try create a pad with the same group$padname, the system properly complains that it exists.\nAnd yet... the changes wrought by copyPad and movePad do not show up via listAllPads() UNLESS I stop and start the etherpad service. And even then, listPads(groupID) never returns the newly copied/moved pads as being in the group, while the listAllPads function does.\nI have peered into the code that does copy and it looks like it's doing the right thing in terms of groups -- it tests for a group handle on the pad name, checks to see if the group exists and if so, continues on. I've looked at the caching layer magic and, well, i'm not that kind of wizard, but I have tried diddling with the settings and no love.\nUnless there's a setting I've overlooked or something otherwise obvious, this would appear to be a bug.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2136.\n. @eholzinger did you wanna test this?\n. <JohnMcLear> Good thing about IRC is that it reminds you to stop being an idiot\n<baron__> and i always know where to go if i need to feel like one\n<baron__> thanks for taking the time to walk me through support 101 :D\n<amfl> Speaking of which, shall I have a go at it too?\n<amfl> I upgraded to 1.4 recently, and noticed the ol' usercount in the top right is missing\n<amfl> Along with your current author color\n<amfl> Is that just a thing now, or am I missing something?\n<amfl> Before: http://puu.sh/86Knl/e7cf822a59.png After: http://puu.sh/86Ksz/a64414fcd8.png\n<JohnMcLear> amfl: no that's not a feature, that sounds like a bug.\n<JohnMcLear> I noticed it too but afaik its only when 1 person is on a pad\n<JohnMcLear> jump on here: https://v.etherpad.org/euRFopjK2T\n<JohnMcLear> you should see the count go up\n<amfl> http://puu.sh/89Plb/50211201b8.png  :(\n<JohnMcLear> ah \n<JohnMcLear> yep that's a bug.\n<JohnMcLear> Bollocks I thought I had test coverage in for tha ttoo\n<amfl> Bugs ahooooy\n<amfl> So long as I'm here, thanks heaps for your work on etherpad\n<amfl> Myself and a group of about 10 friends use it as our primary communication medium\n<amfl> Have done for the last few years\n<amfl> Much respect to you and the rest of the etherpad crew\n<JohnMcLear> cheers buddy\n<JohnMcLear> I will try fix your bits asap\n<JohnMcLear> gimme 5mins to push something else hten will take a goosey\n<amfl> :D Thanks dude!\n<JohnMcLear> Right I got 6 minutes..\n<JohnMcLear> lets see if I can blast this out\n<amfl> John slammin' the speedcoding https://www.youtube.com/watch?v=uints81YYMc\n<baron__> for some reason i was expecting flight of the valkyries\n<baron__> INCOMING PATCH\n<amfl> Yes, perhaps something like https://www.youtube.com/watch?v=ZFZjegvE6OA is more appropriate\n<baron__> \\m/\n<amfl> \\m/\n<JohnMcLear> blah\n<JohnMcLear> gonna have to stop working on this\n<JohnMcLear> color fix is done\n<JohnMcLear> but for some reason some html isn't being rendered into the template\nAny idea @marcelklehr  ?\nI'm not sure why #online_count isn't being rendered onto the toolbar?\nhtml should be\n<li class=\"separator\"></li>\n                <li id=\"usericon\" data-key=\"showusers\">\n                    <a data-l10n-id=\"pad.toolbar.showusers.title\">\n                        <span class=\"buttonicon buttonicon-showusers\"></span>\n                        <span id=\"online_count\">1</span>\n                    </a>\n                </li>\nbut it isn't ;\\\n. Easily yes but finding free time no :/\n----- Reply message -----\nFrom: \"Christian Brink\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] fix color (#2138)\nDate: Tue, Apr 29, 2014 10:28\nMy organization is considering doing work to fix this. (Not yet likely, but under consideration.) It would be our first time contributing to EL, though, so I imagine it would be an investment of at least a day or two just to get our bearings.\nDoes anyone else think they're in a position to fix it easily?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/pull/2138#issuecomment-41706100.\n. Thanks buddy!\n----- Reply message -----\nFrom: \"Marcel Klehr\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] fix color (#2138)\nDate: Wed, Apr 30, 2014 13:35\ndone. :)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/pull/2138#issuecomment-41846911.\n. I assume this was fixed @gautamsomani \n. @PanderMusubi go for it!\n. Help fund this here: https://www.bountysource.com/issues/1793552-animated-gif-for-real-life-showcase\n. Pretty sure this is a bug with an issue already open?\n----- Reply message -----\nFrom: \"Christian Brink\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Always show the user list (#2141)\nDate: Sun, Apr 27, 2014 17:19\nI just upgraded from an old version of EL (1.0.1) to the current HEAD, and I found that the chat bar no longer displays the list of pad users by default. It seems a user has to click the little silhouette icon to see the list of users, and while the user list is visible it overlays (i.e. obscures) whatever chat content is near the top of the chat bar.\nIs there a way to have the user list display permanently without obscuring the top of the chat bar, the way it worked in 1.0.1? Even some hacky CSS would be fine.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2141.\n. I think it's related to this https://github.com/ether/etherpad-lite/pull/2138\n. Blah, over-sensitive mouse pad on my laptop ftl..  Updated the comment.\n. @christianpbrink check out this pull request: https://github.com/ether/etherpad-lite/pull/2467\nPlease test.\n. This is obviously already in..  Closing...\n. If this issue affects a plugin please create the issue on the plugin repository.\n. See ep_comments plugin\n. Check open issues I seem to remember opening one very similar.\nSearch for log4js\nCheers\nVlad Filippov notifications@github.com wrote:\n. Cheers buddy I will test it out when I can, you got any timeline/timeframe you would like feedback in?\n. Keeping feedback here for posterity, @guille you are welcome to tune out if it gets spammy.\nOn startup: [2014-05-05 15:45:07.138] [ERROR] console - Option logger is not valid. Please refer to the README.\nCommenting out io.logger in src/node/express/socketio.js removes the above error.\nOn browser console log\nGET http://127.0.0.1:9001/socket.io/  [HTTP/1.1 400 Bad Request 1ms]\n@guille what's the URL to the 0.9.x to 1.0.0 upgrade docs?  Cheers\n. @christianpbrink not really, as I posted above debug is not the cause of our error as I was able to resolve that.  A link to upgrade docs would be ideal :) cc @guille again.  Cheers\n. No.\n. Ah I just noticed you posted the right page but put an anchor in the link..  Yea this is the correct page\nhttp://socket.io/docs/migrating-from-0-9\nApologies..\n. Ready for testing: https://github.com/ether/etherpad-lite/pull/2295\n. This should be a feature request on the ep_page_view plugin, please make it on that repo :) Thanks!\n. Try to run it with database type set to dirty and let us know how you get on.  It might be that the database is disconnecting due to lack of activity.  \nNote we run a lot of quiet instances and haven't seen this before so eager to discover what the fault is.\n. There are various approaches you could take.\n1. For a quick win just setup uptimerobot and hit it periodically.  This would also serve as a notification tool for if your instance went down.\n2. Write some logic into Etherpad to periodically do a keep-alive\n3. Modify your DB stack to not kill idle connections.\nPick whichever works best for your environment.  My assumption is your other apps have some internal processing that also reads/writes to the database, Etherpad does internal caching in memory so it's likely that means it keeps database IO to a minimum.\nYou could try turn off the database caching layer and see if that helps.  See UeberDB documentation for how to do that\n. @darkuncle no worries - This is the first time we have had this issue so I doubt we will prioritize it but if others come in with a +1 we can see what we can do :)\n. Okay, sounds good, I will file this as a \"Bug\" which will move it up on our list of priorities but we're still pretty stacked so can't promise anything\n. @darkuncle please test the patch and let us know if it works, if so I can get it into 1.5\n. merged and published.\n. Done, ready to check again @marcelklehr \n. @marcelklehr done\n. Ready for a merge now I think.. \n. Works great :)  Thanks!\n. I think the whole plugin infrastructure is pretty fubar'd due to npm growing far too large and providing no way for us to easily grab our plugins only...\n. Read your error output\n----- Reply message -----\nFrom: \"liuliming2008\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] Crash when searching plugins. (#2151)\nDate: Wed, Aug 13, 2014 03:40\nPlugin manager page always fetching,,,untill show:No plugins found\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2151#issuecomment-52003436.\n. Please close the issue\n----- Reply message -----\nFrom: \"liuliming2008\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] Crash when searching plugins. (#2151)\nDate: Thu, Aug 14, 2014 05:11\nIt's ok now, do nothing! because of node repos,may\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2151#issuecomment-52141908.\n. Good question, don't know why but it should probably be async..\n. Oho, forgot about this :)  Awesome, this can be closed once merged.\n. Can you replicate on a clean Etherpad deployment?\n. Should be fixed now.  Please test develop branch @stuartf \n. Yea seems to still be a problem IE \ud835\udd44\n. ud800- is the cause.\n. return UNorm.nfc(s).replace(/[\\uffff\\ufffe\\ufeff\\ufdd0-\\ufdef\\udfff]/g, '?'); seems to work okay\n. https://github.com/ether/etherpad-lite/pull/2348\n. @stuartf can you please test this and if it's not resolved re-open?\n. Not that I know of, the hook exposed only sets the text too..  https://github.com/luto/ep_defaultPadText/blob/master/index.js\nYou would have to expose a new hook/method for allowing HTML afaik on new pad creation afaik.\n. No, see http://etherpad.org/doc/v1.3.0/#index_pad_content\nWe haven't exposed that yet for whatever reason, probably due to time constraints.\n. #1102 is resolved.\n. This should now be doable if you use the API to create a new Pad..  Use the setHTML method.\nLet us know if this isn't working and we can re-open, thanks!\n. Browser?\nDoes it work fine if you hit it directly IE bypass pound?\nHave you tried it with dirtyDB before switching to PostgreSQL?\nDo you get this error on every pad?\n. Please create issue on ep_linkify repo.\n. @MarkTraceur can you replicate on http://beta.etherpad.org ?  It was a known bug we fixed.\n. 99% sure this is now fixed :)\n. I think this is a duplicate bug, please check..\n. Also I think @marcelklehr fixed this on develop, please check.\n. Thanks for this, see my code comments.  @marcelklehr or @Pita may have some thoughts about implementation.\n. Thanks @stephan48 and also @gared for the feedback -- @marcelklehr if you are happy with this then please merge :)\n. Cheers\n. http://beta.etherpad.org ?\nSee http://etherpad.org for y'know, reference...\n. 1) Sadly the files look the same but it sounds right that Etherpad would convert tabs to spaces, I think that's the expected editor behavior.\n2a) I'm pretty sure it uses the padID for the export filename...  Check a plugin isn't affecting this..\n2b) This sounds like a bug with the toolbar plugin?  What happens if you disable/enable it\nNote that 2a and b are probably caused by plugins, beta.etherpad.org has a bunch running..  You should test this locally by installing Etherpad.\n. Confirmed a) on beta.etherpad.org, prolly needs an upgrade since toolbar refactor..  https://github.com/JohnMcLear/ep_file_menu_toolbar/ is the repo for the plugin, feel free to submit a fix as a pull request :) Should be obvious what's b0rked\n. I disabled the plugin for now on beta.etherpad.org, please do create an issue for the bug on https://github.com/JohnMcLear/ep_file_menu_toolbar/issues/new\nI'm the plugin author but I don't have any energy/time to fix it right now, I'd happily do it if I was funded but it wont be until September I could make a start \n. This is all desired behavior.\n. I'm gonna create a new feature request for append mode import\nAs far as import converting 4 spaces into listed bullets, I don't think that's a good idea.\n. https://github.com/ether/etherpad-lite/issues/2349\n. I guess if you want it you can have it as a plugin but it wont find it's way into core because it modifies expected behavior.  I'd suggest creating a new issue that has this request in and only covers this desired behavior.  Make sure not to pollute your request with additional cruft as it makes for difficult issue management.  Thanks :)\n. Table editing already exists as a feature request and if this is part of ep_tables you should file the issue on that plugin repo.\n. Please create this issue on the plugin repo and close this\n----- Reply message -----\nFrom: \"pragnyasahoo\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] ep_table is not working (#2172)\nDate: Mon, Jun 9, 2014 11:18\nep_table plugin is not working properly.the following issue i am facing\nyou create a table and fill the data in table and press tab control or export the file as html it is not covreting as\ntag.\nit is showing as\n{\"payload\":[[\"A\",\" \",\" \"]],\"tblId\":\"1\",\"tblClass\":\"data-tables\"}\n{\"payload\":[[\" B\",\" G\",\" K\"]],\"tblId\":\"1\",\"tblClass\":\"data-tables\"}\n{\"payload\":[[\" C\",\" D\",\" E\"]],\"tblId\":\"1\",\"tblClass\":\"data-tables\"}\ni want it should display as\nA\nB       G       K\nC       D       E\nthanks\n?\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2172.\n. Thanks @quenenni \n. Awesome thanks @marcelklehr will try to test this week.\n. Thanks for the fix @marcelklehr you are the man! :)\n. Weirdly I get this error when I'm switching node versions in nvm on older versions of EP :|  sudo'ing up doesn't help.\nTo replicate..\ngit clone git@github.com:ether/etherpad-lite.git oldEP\ncd oldEP/\ngit checkout remotes/origin/releases-1.1.1\nEdit src/packages.json setting npm to *\nEdit bin/installDeps.sh commenting out npm and node version checks.\nbin/run.sh\n```\n/home/jose/oldEP/src/node_modules/npm/lib/npm.js:32\n    throw new Error('npm.load() required')\n          ^\nError: npm.load() required\n    at Object.npm.config.get (/home/jose/oldEP/src/node_modules/npm/lib/npm.js:32:11)\n    at EventEmitter.Object.defineProperty.get [as dir] (/home/jose/oldEP/src/node_modules/npm/lib/npm.js:401:22)\n    at Object. (/home/jose/oldEP/src/node/utils/Settings.js:29:44)\n    at Module._compile (module.js:449:26)\n    at Object.Module._extensions..js (module.js:467:10)\n    at Module.load (module.js:349:32)\n    at Function.Module._load (module.js:305:12)\n    at Module.require (module.js:357:17)\n    at require (module.js:373:17)\n    at Object. (/home/jose/oldEP/src/node/server.js:25:16)\n```\nTrying various other version combos has issues too..\n. FWIW this only affects old versions but it's still a PITA bug mostly introduced by npm\n. Hey man sorry but I don't have time to debug this right now, try run a Etherdraw instance locally and change the url to that.\n. cc @luto \n. @luto if you pull develop over this branch do the backend tests still all pass?\n. This will be broken as of Socket V1 implementation.  I will fix it up.\n. @derosm2 I fixed this up here: https://github.com/ether/etherpad-lite/tree/switch-to-pad\nHow is this even supposed to work?  Can you please provide docs and test coverage so we can merge it??\n. @derosm2 perhaps just chuck up some example source code of how you implement this or have you wrapped the functionality up into a plugin?\n. Bump\nThis won't get merged unless we have docs etc...\n. Trying to do switchToPad causes the server to crash.  Probably due to the socket io migration.\n[2014-12-29 00:42:55.989] [ERROR] console - TypeError: Object #<Namespace> has no method 'clients'\n    at handleSwitchToPad (/home/jose/etherpad-lite/src/node/handler/PadMessageHandler.js:905:38)\n    at finalHandler (/home/jose/etherpad-lite/src/node/handler/PadMessageHandler.js:237:7)\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:610:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:249:17\n    at iterate (/home/jose/etherpad-lite/src/node_modules/async/lib/async.js:149:13)\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:160:25\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:251:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:615:34\n    at checkAccessCallback (/home/jose/etherpad-lite/src/node/handler/PadMessageHandler.js:274:15)\n    at /home/jose/etherpad-lite/src/node/db/SecurityManager.js:90:11\n. pushed a fix to a branch\n. This is expected behavior..\n. Have you tried doing any load testing using the load testing tool?\n----- Reply message -----\nFrom: \"Christian Brink\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] 40-user pads / may need a consultant (#2182)\nDate: Wed, Jun 18, 2014 18:01\nWe use EL to let groups of users perform competitive timed tasks involving copying out passages of text in a shared pad. All users arrive in a pad at the same time, and the tasks usually last 5 to 15 minutes, with everyone actively typing throughout. Pads usually grow to between 5k and 30k characters.\nWe're seeing sporadic severe issues with as few as 20 users on a pad, and constant issues with 40 users on a pad. The issues tend to start within a minute or two of the users arriving. Users report a range of issues, including:\n-   the pad loading but being unresponsive\n-   the pad hanging on the 'Loading...' message\n-   the pad failing to load, an error message showing up in its place\nThey almost always report that refreshing the page doesn't help.\nOur sense is that others have been able to use EL with this many users. But since our users are all typing actively during a short period of time, it's hard to compare our use case with cases where the edits are more spread out, for instance when coworkers are collaboratively reviewing and editing a document over a period of hours or days.\nDoes anyone have a sense of how many simultaneous constantly-active editors a pad can handle?\nSome details about what's happening on our server. We suspect a performance bottleneck is part of the problem, and we are seeing worrying errors in our EL log that may be a contributing or even the dominant factor.\nThe nature of any performance bottleneck isn't clear. Most of the time, even with 40 active users, we see very low CPU utilization. But there are sporadic spikes to 100%, and the load average can end up above 1.5. We aren't entirely sure what causes these spikes or whether they are in fact bad enough to be causing the crippling issues users report. (See the bottom of this post for a note about this.)\nWe regularly see errors in our server-side EL log. It's possible that these errors are at the root of the problem, and that performance issues are a secondary effect, or perhaps even irrelevant and insignificant on their own. This error shows up every couple of minutes during a real-world session:\n[2014-06-12 16:02:19.281] [ERROR] console - Auth was never applied to a session.  If you are using the stress-test tool then restart Etherpad and the Stress test tool.\nWe have no idea what causes it. We do know that the same error predictably shows up when we try to use the stress test tool with more than about 50 virtual users, and as soon as it appears the stress test session is totally derailed and must be restarted. This suggests that the error doesn't necessarily indicate any auth-related issue at all, but we don't know what it does indicate.\nWhat we need is to (1) get clear on whether the demands we're putting on the software are reasonable in principle (assuming an appropriate server configuration) and, if so, (2) work through our issues, making necessary tweaks to our environment and/or the code. If anyone has immediate insight and can share it here, we'd love to address the issues ourselves. However, we are ready to get an outside consultant involved if it would speed things up, particularly if any of the major EL contributors is available. Please ping me at cbrink[at]podconsulting[period]com.\n\nA note about performance: The only thing we've been able to correlate with CPU usage spikes is the ueberDB's cache garbage collection. Using the stress test utility, we've noticed that that GC routine seems to be called quite often once a pad's content grows past a certain threshold. But the threshold seems pretty high, and we don't think we're reaching it in most of our real-world pads -- certainly not within the first minute after users arrive, which is when they start reporting issues.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2182.\n. @christianpbrink did you get anywhere with this?\n. I'm going to close this as it is a bundle of issues, we still have an issue for rewriting load testing tools and testing them against the latest version.\n. Tested on Windows?\n. This will need testing on Windows before we can merge it.\n.  This issue is not possible to replicate on http://piratepad.net/9aLHli3dLQ so it does exist in the old version of Etherpad (then again nor does different font-faces)\nProblem exists in release/1.1.5\nI can't test in older versions\n. The very simple fix is to put a font CSS rule on #innerdocbody IE font-family:Arial, that's how it worked before..  Feels ghetto tho, will experiment..\n. However paste still loses line breaks, prolly due to a text-wrap css rule..\n. Turns out this is a duplicate of https://github.com/ether/etherpad-lite/issues/2078 (ish)\nTLDR; If you want to paste as plain text and keep line breaks you need to allow the walking caret issue.\n. Thanks @Stechpalme \n. Closing this in favor of https://github.com/ether/etherpad-lite/issues/2217\n. Sounds fine to me.  Add the data you need to the hooks blob\n. afaik you would just require AttributeManager to do this no?   Did you look at using the AttributeManager logic to handle this?\n. If this problem is related to a plugin please open this issue on that plugins repo.\n. Instead of using bin/start.sh or whatever it is in Windows use \"forever\" src/server.js\nYou will need to install forever, npm install forever\nIf this works for you please close this ticket.\n. http://stackoverflow.com/questions/12701259/how-to-make-a-node-js-application-run-permanently\n. Thanks :) \n. Confirmed, this has been the behavior we have implemented in OL since day one so implementing the same behavior as other editors is going to be a bit confusing but probably a requirement.\nFWIW the way other editors handle the second block (line 3 and line 4) having new line numbers is when you disable/enable OL on those lines it resets the count to 0\nI wrote a bit of this implementation so should be able to fix it but I'd expect it's not a 5 minute fix as it will require modifying the logic of how we apply OL's\nRandom question:  Can anyone remember if OL were implemented in the old Java version of Etherpad?  I'm 99% sure it wasn't.\n. just noticed doing tabs in LOs implementation doesn't increase LO which is weird..  Have bumped LO staffer to chat w/ me RE heuristics.\n. We're a little 50/50 on changing heuristics in this area.  There are lots of things broken on most editors when we test behaviour so this wont be actively work on until the dust settles from a heuristics perspective then we can figure out how to best optimize around the correct behaviour.\n. Can anyone replicate this?\n. Yea this bug doesn't exist.\n. Probably! Take a look at the source, it's Prolly hard coded but could be a setting.\n----- Reply message -----\nFrom: \"Andrea Veri\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] What can cause a slowcommit ? (#2196)\nDate: Fri, Nov 14, 2014 17:56\nIs there a way to extend the timeout for the slowcommit value at all?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2196#issuecomment-63103357.\n. This may be the case, try it without the self made cert.\n. This makes no sense to me....  So if you specify abiword path it fails?\n----- Reply message -----\nFrom: \"julpec\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Abiword problem (#2198)\nDate: Thu, Jul 10, 2014 18:55\nHello\nHere is the problem when I launch etherpad-lite :\n[ERROR] console - TypeError: object is not a function\nat ChildProcess. (/var/www/etherpad-lite/src/node/utils/Abiword.js:95:7)\nat ChildProcess.emit (events.js:98:17)\nWhen I try without abiword (i.e. with \"abiword\" : null, in settings.json), there is no problem and etherpad is working fine.\nIt's a fresh Debian install on ARM platform, jessie distribution, abiword 3.0.0\nI'm not a developper, so I don't know how to deal with it.\nOn a fresh install (Debian, ARM proc), I install\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2198.\n. My assumption is you have failed to install abiword correct.\nHave you tried running abiword from the cli?\n. Thanks please close issue if resolved\n----- Reply message -----\nFrom: \"julpec\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] Abiword problem (#2198)\nDate: Fri, Jul 11, 2014 07:45\nHo yes ! I was an abiword issue !\nI try to run abiword, for example :\nabiword --help\nand I get :\n(abiword:5866): Gdk-ERROR **: error: XDG_RUNTIME_DIR not set in the environment.\nand abiword fail to start\nSo, I fill the variable, for example :\nexport XDG_RUNTIME_DIR=/tmp/\nTo make it permanent, put this line into /etc/profile\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2198#issuecomment-48699223.\n. Sounds like a useful featur, perhaps create a bounty for it : https://www.bountysource.com/issues/3136288-timeline-cache-feature\n. Dupe of https://github.com/ether/etherpad-lite/issues/1857\n. Use git bisect to isolate the problem:\nhttp://mclear.co.uk/2013/04/02/using-git-bisect-to-debug-etherpad-issues/\n. @mullrich run with minify false and maxAge 0 in settings.json -- Read the docs :)\n. @mullrich peep https://www.youtube.com/watch?v=-pCNSqZF1dw\n. @mullrich I don't think we have a clean up method, feel free to take a dig and find out.  If not please feel free to submit something :) \n. Help us help you: https://www.bountysource.com/issues/3168898-sessionid-does-not-exist-clean-up-orphaned-sessions\n. Sounds like an issue with how nodejs was installed.\nDid you install from source or a package?\n. This is resolved in develop as we no longer depend on NPM for plugins.\nIt will be pushed as a solid fix in the next day or so.\nIt wont land in master for a month or so.\n. I think I wrote a plugin to rewrite the export links on pads stored on different urls,  I will try to sniff it out for you\n. Yea this looks about right does it not?  https://github.com/JohnMcLear/ep_rewrite_share_paths\n. Donations welcome ;) \n. @cmcavoy bump\n. Duplicate of https://github.com/ether/etherpad-lite/issues/1947\n. Sounds like this needs posting on the QNAP site..\n. Um, we support that device?  I don't recall seeing any commits to support it..\n. That'd be from them :) \n. We haven't changed the logic on html links in Etherpad in years so I doubt this is a bug with Etherpad, is this a Safari bug?  Can anyone confirm please?\n. Yea this sounds good, I'd integrate it into https://github.com/ether/etherpad-lite/pull/2070 which should solve a lot of load issues cc @marcelklehr \n. Reinstall and clear browser cache, thanks\n. Obvious answer..  Set your javascript console to only show warnings/errors and not debugs/logs..\n. tnx @Gared  :)\n. Is 0.0.0.0 the address of your NIC?  I doubt it..  Change 0.0.0.0 to the IP address(LAN IP) of the NIC of the Windows server.\n. @mmitsui I assume you got it working?  If not please re-open this issue.\n. We do set a maxAge on javascript files so they are cached.\nEnsure maxAge is set and minify is true in your settings.json\nHit f5, you notice most files are loaded from cache.\n. You can modify this in settings.json\n----- Reply message -----\nFrom: \"lenod\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] Webapp (#2212)\nDate: Thu, Jul 31, 2014 12:29\nI'm not sure but I think this cache is cleared when the browser is closed (and anyway, the maxAge seems only about a few hours).\nin about:cache, firefox shows them in disk cache and not appcache, where I believe it would be more persistent.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2212#issuecomment-50746932.\n. Btw I made a start on most of this stuff in the form of a plugin at https://github.com/JohnMcLear/ep_offline_edit\nSee: https://github.com/JohnMcLear/ep_offline_edit/blob/master/static/offlinemanifest.appcache\n. \"only a plugin\" doesn't qualify here, most things people want are available as plugins as to keep core clean.  That's how Etherpad is designed.\n. Yes the problem only exists if there is a large # of revisions..  @marcelklehr is working on a fix but it's been quite some time! :) \n. @jparyani does the script work if you migrate to MySQL?   The script is designed for MySQL not SQLite..\n. I think this one might require attention of @marcelklehr -- One does simply not leave a node thread running on error, that would cause even more issues with data integrity.\nIt might be wize to warn on this case though but I'd rather @marcelklehr had the ability to make the call as he has done more with the OT library than me.\n. cc @marcelklehr \n. We now have a fix in place that should solve this.  please pull develop \n. @webzwo0i did this fix get merged in?  If so we can close this issue :)\n. FWIW Changing the log level is the right thing to do\nRE: \"And in every loglevel Etherpad lite stores these admin/user password in plain-text in the database Etherpad lite.\"\nI'm pretty sure that's not the case but please re-open this issue if it is.\n. So I have been looking into this to see if there is a fix yet hoping maybe npm would have got decent search and sadly it's still not the case.\nThe best results look like this: \nhttp://eirikb.github.io/nipster/#ep_ and come from http://nipster.blob.core.windows.net/cdn/npm-datatables.json \nSo I guess the real fix here is that we periodically curate and host a .json blob of etherpad plugins and also maybe serve a blob (and some available plugins) for those who are offline?\nI think this is beyond the scope of what I'm comfortable doing this weekend, I'd suggest we'd need a corporate sponsor to host that blob..  \nSuggestion and probably the best win...\nPerhaps a nightly script that searches npm then pushes/commits a json blob up to github wouldn't be too offensive?  I feel like plugin authors would be happy waiting 24 hours for their plugin to be installed by remote users (or the remote user could potentially install using CLI!)\n. Btw, for those who get timeouts etc.  The file it's downloading is the entire fsking npm index.\nThis is going to get worst before it gets better.........\nThe only fix current hosts have is to use the CLI to install plugins\nnpm install ep_slideshow for example...\n. @Akasch We would need a guarantee of 1M+ requests per hour.  I don't think this is something we want to use an untested environment for.\n. Upstream bug exists, this problem is affecting a lot of people which is good as it's likely to get addressed.  I shared our use case and hopefully we will get covered.  I'm investigating the potential of pushing up a json blob to etherpad.org nightly, watch this space..\n. Please test https://github.com/ether/etherpad-lite/pull/2294 and let me know if it works okay.\n. Thanks!\n. Can't replicate issue.\n. Heh yeah this is still an issue.\n. It should fix it I will test it later today\n. Thanks @Gared ! :)\n. I haven't tested it, soonest I can is September\n----- Reply message -----\nFrom: \"Stefan\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] Timeslider improvements (#2220)\nDate: Wed, Aug 13, 2014 20:12\n@JohnMcLearhttps://github.com/JohnMcLear @marcelklehrhttps://github.com/marcelklehr Can I merge this?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/pull/2220#issuecomment-52095761.\n. Testing now.\n. Thanks @Gared  :) \n. Feel free to make sqllite default but be mindful to test on every platform and config.  We found sqllite was too buggy so dirtydb was the best option to get started without issues.\n. It looks like we already support SQLite\nhttps://github.com/pita/ueberDB\nFWIW this bug report is mostly FUD\n. Please run the tests against SQLIte, if they don't pass we can reopen and continue the conversation.\n. I think there is a hook in content collector no?\nIf not please add one :-)\n----- Reply message -----\nFrom: \"cetra3\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Added extra block elements to contentcollector.js (#2222)\nDate: Tue, Aug 12, 2014 04:13\nNot sure whether this is the correct way to resolve this issue, but there is a bug with ep_headings which means on import, all styles are stripped out from the pad:\nfourplusone/etherpad-plugins#38https://github.com/fourplusone/etherpad-plugins/issues/38\nI am assuming there is a more proper way to actually implement this within the actual plugin, rather than the core, but I am at a loss. If someone could point me in the right direction that would be awesome.\n\nYou can merge this Pull Request by running\ngit pull https://github.com/cetra3/etherpad-lite develop\nOr view, comment on, or merge it at:\nhttps://github.com/ether/etherpad-lite/pull/2222\nCommit Summary\n-   Added extra block elements to contentcollector to allow imports to function with ep_headings\nFile Changes\n-   M src/static/js/contentcollector.jshttps://github.com/ether/etherpad-lite/pull/2222/files#diff-0 (9)\nPatch Links:\n-   https://github.com/ether/etherpad-lite/pull/2222.patch\n-   https://github.com/ether/etherpad-lite/pull/2222.diff\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/pull/2222.\n. @cetra3 Did you look at the hook?  I'm goign to close this pull request now because I'm 99% sure there is a hook for doing this...  If not we need to add a hook.\n. See this hook: aceRegisterBlockElements\nhttps://github.com/ether/etherpad-lite/blob/develop/src/static/js/ace2_inner.js#L2967\nIs that not the one?\nOr.. https://github.com/ether/etherpad-lite/blob/develop/src/static/js/contentcollector.js#L491 ?\nIf neither of those do it you might want to add a similar hook as https://github.com/ether/etherpad-lite/blob/develop/src/static/js/ace2_inner.js#L2967 in contentcollector.js :) \n. Ie only?\n----- Reply message -----\nFrom: \"Bert Pareyn\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Numbered lists not working in IE (#2223)\nDate: Wed, Aug 13, 2014 12:09\nNumbered lists aren't working properly on IE. Clicking the button adds 1. but from then on it's pretty much impossible to type on that line. Here's what's happening:\n-   In Internet Explorer, open an etherpad document (https://beta.etherpad.org) and click the numbered list button\n-   Notice straight away that the cursor jumps to either next or previous line, but not to the line where 1. has been added\n-   Try to use keyboard or mouse to set the cursor on the line 1.\n-   Notice that the cursor jumps either to the next or previous line straight away.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2223.\n. Well my Windows VM b0rked so I'm unable to confirm this, can anyone confirm this please?\n. Unable to replicate on W8.1 IE11\n. Confirmed IE 10 on W8.1\n. What version of etherpad and what browser.\nPlease provide exact steps to replicate\n----- Reply message -----\nFrom: \"Bert Pareyn\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Cursor jumping around when typing (#2224)\nDate: Wed, Aug 13, 2014 12:19\nFrom time to time when typing the cursor jumps up a couple of lines. If you continue to type the text isn't actually added where the cursor jumped to, but where the cursor was before it jumped.\nA second, possibly related, issue is that on a mobile device, when the etherpad is being edited (or scrolled), the cursor consistently jumps all the way to the top.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2224.\n. @nicolaasmatthijs please provide exact steps to consistantly replicate.\n. enter key creates new line break, I have some location handlingi n place for that.  My guess it that is being triggered..\n. https://github.com/ether/etherpad-lite/blob/develop/src/static/js/ace2_inner.js#L3753\n. If you can comment out lines 3753 to 3800 of ace2_inner.js and ensure you are running with maxAge:0 and minify:false then see if you can replicate it..  I'm pretty sure it will be in that block.  Either way it will be an setScrollY event..\nHappy to take iPhone6 donations to help debug this nudgenudge @AppleInc\n. @bp323 did commenting those lines out help?\n. Can you provide steps to replicate or this environmental still?\n. Unable to replicate this bug after a fair amount of trying on an iPhone 6 - iOS8.2 beta.\n. This is probably an upstream bug.  Apple made a huge mess of contentEditable in iOS8, we have some open upstream bugs so let's wait to see if they are resolved then things should be fixed.\n. Afaik there was an ios bug filed in December 2015 but I didn't file it personally and don't have a reference. cc @sathomas\n. This already exists, please read the docs and close this issue\n----- Reply message -----\nFrom: \"robinpaulson\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Add a \"keep alive\" script to etherpad (#2225)\nDate: Sat, Aug 16, 2014 00:49\nEtherpad mysteriously fails on many occasions, perhaps more than once a day. A keep alive script would be very useful to work around this.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2225.\n. We could probably introduce a setting for this, it'd need sponsoring though as it's a feature request.\n. Help us help you: https://www.bountysource.com/issues/3798300-settings-in-admin-pages\n. @Gared it's way too buggy and requires way too much time to implement right now, that's my main reason I haven't implemented it fully.\n. Closing as I'm sure this is a duplicate\n. See the plugin that enables this requirement\n----- Reply message -----\nFrom: \"Dan Dascalescu\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] can not paste images from clipboard (#2227)\nDate: Sat, Aug 29, 2015 00:01\n@JohnMcLearhttps://github.com/JohnMcLear: is it challenging to paste an image from the clipboard into Etherpad because of its collaborative nature, or into any WYSIWYG editor, period, although Imgur, Slack, GitHub, Google Docs, StackExchange and others do just that?\nI'm comparing WYSIWYG editorshttps://github.com/iDoRecall/comparisons/blob/master/JavaScript-WYSIWYG-editors.md and have been looking for this feature.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2227#issuecomment-135898136.\n. Happy to see this as pr\nSent from my HTC\n----- Reply message -----\nFrom: \"SamGoe\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Password Protected pads in IE 11 gives password:null in server log (#2228)\nDate: Sun, Aug 24, 2014 12:57\nPossible solution is to replace with navigator.appName == 'Microsoft Internet Explorer'\n((navigator.appName == 'Microsoft Internet Explorer') || ((navigator.appName == 'Netscape') && (new RegExp(\"Trident/.*rv:([0-9]{1,}[.0-9]{0,})\").exec(navigator.userAgent) != null)))\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2228#issuecomment-53189933.\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or how them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Please test https://github.com/ether/etherpad-lite/pull/2290\n. Yea bump node to a later version and see if you still get it.\n. @Gared did updating node to latest version fix this?\n. Write a plugin that does this:\nhttp://api.jquery.com/blur/\n. See my previous comment\n----- Reply message -----\nFrom: \"Hitesh Trivedi\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] focus after loading. (#2231)\nDate: Fri, Sep 26, 2014 06:39\nI made the plugin as below....\nep.json\n{\n       \"parts\": [\n        {\n                   \"name\": \"ep_disable_init_focus\",\n                  \"client_hooks\": {\n                   \"postAceInit\": \"ep_disable_init_focus/static/js/disable_init_focus:disableInit\"\n                  }\n        } ]\n  }\n\npackage.json\n{\n                                \"name\": \"ep_disable_init_focus\",\n                                \"version\": \"0.0.1\",\n                                \"description\": \"Disables init focus in etherpad-lite.\",\n                                \"dependencies\": {},\n                                \"engines\": {\n                                         \"node\": \"*\"\n                                 },\n                                 \"author\": {\n                                            \"name\": \"Hitesh Trivedi\",\n                                            \"email\": \"thiteshm155@gmail.com\"\n                                  },\n             }\n\nstatic/js/disable_init_focus.js\nexports.disableInit = function() {\n                    console.log(\"demohitesh\");\n                    /*   Now what i have to write here so mention above\n                                  setTimeout(function()\n                                 {\n                                             padeditor.ace.focus();\n                                  }, 0);\n                               This not execute or unbind this focus event ???\n                    */\n        return;\n       }\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2231#issuecomment-56921377.\n. Take a look through the pull requests, it's documented in one of those.\n. Does this problem persist on older versions?\nIt might be caused by our switch from abiword to native for html handling..  I'm surprised how buggy it is though, we could do with test coverage for this....\n----- Reply message -----\nFrom: \"Scott Meisburger\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] export and api/getHTML missing large chunks of document (#2236)\nDate: Fri, Sep 12, 2014 21:56\nsection of HTML in the pad:\n@artypes: #Review: Lily van der Stokker @Koenig_Clinton - tongue windsocks watermelon raindrops thumbs up princess heart eyes pink blouse. [ed. Matt reviews in translated emoji \u2014 do yr own thing]\n\nsame section from export as HTML and api/getHTML:\n\u00a0\u00a0\u00a0@artypes: #Review: Lily van der Stokker @Koenig_Clinton - tongue windsocks watermelon raindrops thumbs up pri\nthe second span in the list item tag is entirely missing.\nusing v 1.4.1\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2236.\n. @protonpopsicle can you provide exact steps to replicate this?\n. I'm completely unable to replicate this, going to close as I think it's a non-issue but feel free to re-open should this exist exist for you and you can provide steps to replicate.\n. Waiting up onstream fixes.  Hopefully things will get resolved ASAP..\n. Resolved upstream in ueberDB\n. Next step would be attempting to migrate your instance to Socket 1+, I did the migration on Etherdraw, it's something we need to do but haven't had time yet.  If you can find time to do the migration then send through a PR I'd appreciate it!\n. Static files served through express, we do some weird minification/obfuscation before serving through the yasml middleware which in itself is a mess.\nThe thing is, we run an old version (and API) of socket IO and loads have bugs have been fixed/resolved since then so imho upgrading express/socketIO will be a quick win for your issue or at least give you better debug\n. @christianpbrink did your logs show anything more?\n. Okay if it rears it's ugly head again let us know! :)\n. Happy to see one\n. Svg is available on etherpad.org, use that? Bump @marcelkhler\n. @Gared go for it\n. You should not access the db directly or assume there is multiple tables or databases.\nYou should use the db object provided\n----- Reply message -----\nFrom: \"quenenni\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] best way to query the db in plugins (#2240)\nDate: Thu, Sep 18, 2014 23:06\nHello,\nHow is the best way to query the DB (mysql in my case).\nI can see in several plugins that the easy way to query the db was like this:\nvar  db = require('../../src/node/db/DB').db,\n...\ndb.get(\"emailSubscription:\"+context.message.data.padId, function(err, userIds)\n(or)\ndb.get(\"session:\" + sessionID, function (err, session)\nBut it only works for the table 'store'.\nHow can I ask to query another table, like users, groups,..?\n(I couldn't find a param to do that)\nThe plugin I'm trying to fix (ep_user_pad) manages it this way:\nvar mysql = require('mysql');\n...\nvar connection = mysql.createConnection(dbAuthParams);\nconnection.connect(connectFkt);\nexports.expressCreateServer = function (hook_name, args, cb) {\n  ...\n  var userSql = \"Select * from User where User.name = ?\";\n  var queryUser = connection.query(userSql, [username]);\n  ...\n}\nBut that way, etherpad crashes every x min (depending of the directive 'wait_timeout' of mysql)\n[ERROR] console - Error: Connection lost: The server closed the connection.\n    at Protocol.end (/home/etherpad/node_modules/ep_user_pad/node_modules/mysql/lib/protocol/Protocol.js:73:13)\n    at Socket.onend (stream.js:66:10)\n    at Socket.EventEmitter.emit (events.js:123:20)\n    at TCP.onread (net.js:417:51)\nI tried to fix the problem by closing the connection at the end of \"exports.expressCreateServer\", but then, it doesn't have an active connection on the next call and that creates a problem.\nMaybe it's possible to create and destroy the connection on each call, but it's a big file that manage lots of \"args.app.get\" & \"args.app.post\" calls.\nAs, by using the DB lib instead of mysql lib, etherpad doesn't crash because of the wait_timeout directive, I was wondering if it's possible to choose the table on which you want to make the query?\nThanks\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2240.\n. Don't do that. Use the table provided else your plugin won't be supported\n----- Reply message -----\nFrom: \"quenenni\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] best way to query the db in plugins (#2240)\nDate: Thu, Sep 18, 2014 23:15\nI agree to that.\nBut when using \"../../src/node/db/DB\", it then calls \"var db = new ueberDB.database\" that load \"node_modules/ueberDB/mysql_db.js\", and there, you can only query the table 'store', it's hardcoded in the functions get, set, findKeys, ..\nSo how can I use DB and choose the table I need?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2240#issuecomment-56111147.\n. The store table should be used for everything for portability.\nThey made a poor design decision.\n. Wouldn't these changes break etherpad?\n. First feedback: We can\u2019t automatically merge this pull request. \n. I gave up half way through reviewing your files, please read the contributing guidelines and try again with a new PR\n. Mozilla etherpad is not running etherpad.  It's crazy out of date afaik.\nCan you replicate this on beta.etherpad.org ?\n----- Reply message -----\nFrom: \"Botond Ballo\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Page Up/Down keys cause the view to jump back and forth (#2242)\nDate: Mon, Sep 22, 2014 21:43\nSteps to reproduce:\n1.  Create a pad at https://etherpad.mozilla.org/\n2.  Write enough content to make the pad vertically scrollable\n3.  Scroll to the top and place the cursor on the first line\n4.  Press the Page Down key. The view scrolls down by a page. So far, so good.\n5.  If necessary, keep pressing Page Down until you reach the bottom of the pad.\n6.  Press Page Down one more time -> the view now jumps back to the top, where your cursor is.\nThis last jump is unexpected. I would expect Page Down to be a no-op if you're already at the bottom of the pad.\nI also notice that the Page Up/Down keys scroll the pad but do not move the cursor. This is inconsistent with typical editor behaviour where the Page Up/Down keys move the cursor as well. Assuming that the unexpected jump at step (6) has to do with the fact that the cursor is still at the top of the pad, making the Page Up/Down keys move the cursor would fix this problem as well.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2242.\n. It's running a very old version of Etherpad, completely different codebase from what's here, basically...\nConfirming bug.  Assigning to me as it's my logic that handles this.\n. I'm unable to replicate this in Chrome or Firefox on Ubuntu\nCan you please confirm this issue still persists for you?\n. Also when you say cursor, do you mean caret?\n. Thanks\n. Control S saves a revision already.\n. I tried to replicate this in the chat window here(github) but I can't create the character..\nIs the keystroke..  Windows Key(e) \" \" \n?\n. I can confirm I can do this char \u00eb in github by doing\ncompose key > e > Shift 2\nBut I cannot do that in Etherpad.\n. Duly noted, also for posterity I setup the menu key as the compose key on my laptop\n. Our comment on keyCode 91 is this:#\n// 91 is the Windows key in IE; it is ASCII for open-bracket but isn't the keycode for that key\n. If you replace line 3610\nvar isModKey = ((!charCode) && ((type == \"keyup\") || (type == \"keydown\")) && (keyCode == 16 || keyCode == 17 || keyCode == 18 || keyCode == 20 || keyCode == 224 || keyCode == 91));\nwith\nvar isModKey = ((!charCode) && ((type == \"keyup\") || (type == \"keydown\")) && (keyCode == 16 || keyCode == 17 || keyCode == 18 || keyCode == 20 || keyCode == 224));\nDoes this fix your issue?\n. I have it setup to use menu/right windows/right ctrl as my compose keys in Linux Mint and it's working fine on beta.etherpad.org\n. /me boggles..  Where did you test this initially?\n. @PanderMusubi is this related to https://github.com/ether/etherpad-lite/issues/2134 ?\n. Closing as this should be solved.\n. Help us help you: https://www.bountysource.com/issues/4783647-show-gravatar\n. That isn't an error, it's more of a warning..    A simple check for if the pg module is installed will prolly help.. It's not a compulsory dep.\n. n1 tnx\n. I think wiki would be more apt for this no?\n. See the wiki please\n----- Reply message -----\nFrom: \"Mitja Je\u017e\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] Update README.md (#2250)\nDate: Sat, Sep 27, 2014 21:41\nhmm, don't know. Can you point me where can/should i write this down?\nand could in README be inserted link to wiki?\nLp, Mitja\n_www._duh-casa.si/mitja-jez http://www.duh-casa.si/mitja-jez\n_www._freeworldcharter.org/sl\n2014-09-27 22:33 GMT+02:00 John McLear notifications@github.com:\n\nI think wiki would be more apt for this no?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/pull/2250#issuecomment-57064842.\n\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/pull/2250#issuecomment-57065035.\n. Give it a go submit a PR\nAfaik the reason we didn't adopt font based icons before is documented somewhere, I think it's due to them being buggy on older devices or so.\n. Closing as this made it in.\n. Cc @0ip\n. +1 giving the plugins I maintain the ability to use font awesome, I'd use that for sure, not having to create/maintain my own icons would be great.\n. @0ip I'm not sure how \"easy\" it is to build a .fnt w/ font awesome, it is a 600kb addition to a page load though which is huge.  We would definitely want to avoid that.  @LaKing are you familiar w/ the process of building a font awesome .fnt file with limited fonts?\n. @LaKing do you wanna look into fontello or fontastic to see if one of those works for you?\n. I'm happy to wait, I'm busy doing a US launch, I'm really excited to see this land though, and also see the progress on ep_codepad..  I think maybe the etherpad foundation should run a sandbox site showing off ep_codepad?  Anyway, we already have 99 problems, let's cross that bridge another day ;)\n. @LaKing I think I covered that in depths a bunch of times on various issues, take a look through the issues..  Basically instead of reverting you should be able to fork to a new pad..  I think the idea is that a revert needs to be a new commit based on previous contents, you know like how it's done in git where things only move forward so you never lose fidelity..\n. Fixed.\n. npm is installed with nodejs\nFeel free to send through a pull request with a better fix.\n. Or just follow the instructions and install nodejs from source?  Which instructions are you referring to btw?  If you mean the README I don't see how they are broken.\nFeel free to make decisions for the etherpad project, by contributing you ARE the etherpad team.  That's how this whole open source thing works...\n. You do realize when you install nodejs from source it installs npm right?  I think that's the main source of confusion here...\n. Perhaps that's how BSD delivers node..  Each OS does things differently, I don't have a BSD box to test that.  Feel free to test and if it's not required remove npm from the BSD section of the readme.\n. Thanks @0ip  :) \n. Woop thanks  :) Afaik there might be an issue for this that can now be closed!\n. Yea, small bits matter though! :) thanks!\n. Waiting on an upstream fix.\n. Cheers for spotting, will fix right away.\n. Please test https://github.com/ether/etherpad-lite/tree/fix-xss-on-useragent\n. Etherpad is not a HTML/WYSIWYG editor.\n. afaik the getHTML API endpoint returns all lines, you can then iterate over them as each line is a <p>.\n. I guess this was resolved.\n. cc @0ip \n. Thanks :)\n. Shouldn't this toggle not do an insert or is that the behavior?\n. If toggle is the behavior this is good to be merged..\n. please pull, merge and push\n. Mobile tends to have swipe/touch, so having a swipable (To the left/right) editbar would be the apt UX here.\n. btw I doubt this would get merged, it will probably break quite a few other things afaik,\n. Either IRC or the mailing list is fine, I suggest just hacking something in and seeing how well it works/feels then maybe test it on a set of users to see how they respond.\n\nFrom: Prateek Saxena [notifications@github.com]\nSent: 12 October 2014 16:38\nTo: ether/etherpad-lite\nCc: John McLear\nSubject: Re: [etherpad-lite] Reduce toolbar height on mobile #2077 (#2267)\nMobile tends to have swipe/touch, so having a swipable (To the left/right) editbar would be the apt UX here.\nMobile does have gesture based UI controls but I've never seen one on the toolbar. I referred to Applehttps://developer.apple.com/library/ios/documentation/userexperience/conceptual/mobilehig/Bars.html#//apple_ref/doc/uid/TP40006556-CH12-SW1's and Androidhttp://developer.android.com/design/patterns/actionbar.html's design pattern documents and they both seem to suggest that these gestures should be for contenthttp://developer.android.com/design/patterns/swipe-views.html navigationhttps://developer.apple.com/library/ios/documentation/userexperience/conceptual/mobilehig/ContentViews.html#//apple_ref/doc/uid/TP40006556-CH13-SW1 and not for toolbars. A pattern that seemed interesting was of hiding the toolbar altogether if the keyboard is open\u2014I wonder how consistently we can detect that. I was also thinking of moving the icons on the bottom toolbar in to an overflow menu to increase the editing area.\nIs there a place to propose such design changes? The mailing list and IRC channel both seem more development oriented.\nbtw I doubt this would get merged, it will probably break quite a few other things afaik,\nYup, I guess so. I'll test with different settings and plugins and get back to this.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/pull/2267#issuecomment-58805270.\n. pg error not related.\nhelenus warning just fixed upstream (ueberDB)\nLooks good :)\n. @phr0nak please provide example test case.\n. FWIW I'm unable to replicate it, pastes with indentation and line breaks\nI suspect @phr0nak source is bad.\n. I assume your IDE is fucking it up, try copy/paste from here: https://raw.githubusercontent.com/hammerjs/hammer.js/master/hammer.js\n. I just copy/pasted from terminal and it worked fine.\n. Because this issue is covered in other issues better\n. http://stackoverflow.com/questions/3717793/javascript-file-upload-size-validation\n. Help us help you: https://www.bountysource.com/issues/5391590-limit-deletion-of-pads-to-admin-user-only-currently-available-to-all\n. Check your settings.json with a JSON validator.\n. There are no errors, looks fine to me\n----- Reply message -----\nFrom: \"Celaira\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] So many errors (#2279)\nDate: Tue, Oct 21, 2014 17:00\nSo, I'm hosted on a Linux VPS (CentOS 6) and the company I'm with was kind enough to try and install etherpad on my server for me as I'm not very familiar with the command line. However, because they aren't familiar with this script, they're not sure what to do. This is the installation guide we followed: https://www.digitalocean.com/community/tutorials/how-to-install-etherpad-for-production-with-node-js-and-mysql-on-a-vps\nThese are the errors we're getting when we try to start the service:\ntail: /var/log/etherpad.log: file truncated\nEnsure that all dependencies are up to date... If this is the first time you have run Etherpad please be patient.\nnpm WARN package.json async-stacktrace@0.0.2 No repository field.\nnpm WARN package.json channels@0.0.4 No repository field.\nnpm WARN package.json ejs@0.6.1 No repository field.\nnpm WARN package.json formidable@1.0.9 No repository field.\nnpm WARN package.json jsdom-nocontextifiy@0.2.10 'repositories' (plural) Not supported.\nnpm WARN package.json Please pick one as the 'repository' field\nnpm WARN package.json tinycon@0.0.1 No repository field.\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2014-10-21 11:08:29.868] [WARN] pluginfw - /home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/fstream requires mkdirp@'>=0.5 0' but will load\n/home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/mkdirp,\nwhich is version 0.5.0 'unmet dependency'\n[2014-10-21 11:08:29.872] [WARN] pluginfw - /home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/glob requires minimatch@'^1.0.0' but will load\n/home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/minimatch,\nwhich is version 1.0.0 'unmet dependency'\n[2014-10-21 11:08:29.873] [WARN] pluginfw - /home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/glob requires once@'^1.3.0' but will load\n/home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/once,\nwhich is version 1.3.0 'unmet dependency'\n[2014-10-21 11:08:29.873] [WARN] pluginfw - /home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/inflight requires once@'^1.3.0' but will load\n/home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/once,\nwhich is version 1.3.0 'unmet dependency'\n[2014-10-21 11:08:29.873] [WARN] pluginfw - /home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/init-package-json requires glob@'^4.0.2' but will load\n/home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/glob,\nwhich is version 4.0.5 'unmet dependency'\n[2014-10-21 11:08:29.874] [WARN] pluginfw - /home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/node-gyp requires fstream@'^1.0.0' but will load\n/home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/fstream,\nwhich is version 1.0.2 'unmet dependency'\n[2014-10-21 11:08:29.875] [WARN] pluginfw - /home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/node-gyp requires mkdirp@'^0.5.0' but will load\n/home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/mkdirp,\nwhich is version 0.5.0 'unmet dependency'\n[2014-10-21 11:08:29.875] [WARN] pluginfw - /home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/node-gyp requires tar@'^1.0.0' but will load\n/home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/tar,\nwhich is version 1.0.1 'unmet dependency'\n[2014-10-21 11:08:29.875] [WARN] pluginfw - /home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npm-install-checks requires semver@'^2.3.0' but will load\n/home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/semver,\nwhich is version 2.3.0 'unmet dependency'\n[2014-10-21 11:08:29.876] [WARN] pluginfw - /home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npm-registry-client requires graceful-fs@'^3.0.0' but will load\n/home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/graceful-fs,\nwhich is version 3.0.2 'unmet dependency'\n[2014-10-21 11:08:29.876] [WARN] pluginfw - /home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npm-registry-client requires mkdirp@'^0.5.0' but will load\n/home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/mkdirp,\nwhich is version 0.5.0 'unmet dependency'\n[2014-10-21 11:08:29.876] [WARN] pluginfw - /home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npm-registry-client requires npm-cache-filename@'^1.0.0' but will load\n/home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npm-cache-filename,\nwhich is version 1.0.1 'unmet dependency'\n[2014-10-21 11:08:29.877] [WARN] pluginfw - /home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npmconf requires ini@'^1.2.0' but will load\n/home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/ini,\nwhich is version 1.2.1 'unmet dependency'\n[2014-10-21 11:08:29.877] [WARN] pluginfw - /home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npmconf requires mkdirp@'^0.5.0' but will load\n/home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/mkdirp,\nwhich is version 0.5.0 'unmet dependency'\n[2014-10-21 11:08:29.877] [WARN] pluginfw - /home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npmconf requires osenv@'^0.1.0' but will load\n/home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/osenv,\nwhich is version 0.1.0 'unmet dependency'\n[2014-10-21 11:08:29.878] [WARN] pluginfw - /home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/read-package-json requires github-url-from-git@'^1.3.0' but will load\n/home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/github-url-from-git,\nwhich is version 1.4.0 'unmet dependency'\n[2014-10-21 11:08:29.878] [WARN] pluginfw - /home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/read-package-json requires glob@'^4.0.2' but will load\n/home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/glob,\nwhich is version 4.0.5 'unmet dependency'\n[2014-10-21 11:08:29.878] [WARN] pluginfw - /home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/tar requires fstream@'^1.0.2' but will load\n/home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/fstream,\nwhich is version 1.0.2 'unmet dependency'\n[2014-10-21 11:08:29.879] [WARN] pluginfw - /home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/fstream-npm/node_modules/fstream-ignore requires fstream@'^1.0.0' but will load\n/home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/fstream,\nwhich is version 1.0.2 'unmet dependency'\n[2014-10-21 11:08:29.880] [WARN] pluginfw - /home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/fstream-npm/node_modules/fstream-ignore requires minimatch@'^1.0.0' but will load\n/home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/minimatch,\nwhich is version 1.0.0 'unmet dependency'\n[2014-10-21 11:08:29.880] [WARN] pluginfw - /home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/read-package-json/node_modules/normalize-package-data requires github-url-from-git@'^1.3.0' but will load\n/home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/github-url-from-git,\nwhich is version 1.4.0 'unmet dependency'\n[2014-10-21 11:08:29.880] [WARN] pluginfw - /home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/read-package-json/node_modules/normalize-package-data requires github-url-from-username-repo@'^1.0.0' but will load\n/home/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/github-url-from-username-repo,\nwhich is version 1.0.0 'unmet dependency'\n[2014-10-21 11:08:30.405] [INFO] console - Installed plugins: ep_etherpad-lite\n[2014-10-21 11:08:30.437] [INFO] console - Your Etherpad git version is 8c1868fhttps://github.com/ether/etherpad-lite/commit/8c1868f0e953b576e65e013550be656a37658d06\n[2014-10-21 11:08:30.438] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2014-10-21 11:08:30.497] [INFO] console - info: 'socket.io started'\n[2014-10-21 11:08:30.569] [INFO] console - You can access your Etherpad instance at http://0.0.0.0:9001/\n[2014-10-21 11:08:30.570] [WARN] console - Admin username and password not set in settings.json. To access admin please uncomment and edit 'users' in settings.json\nWhat are we missing..?\n\u0097\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2279.\n. I won't.  We don't support apache. Please close your issues and maybe open one on a mailing list or hire someone to help you do your deployment.\n----- Reply message -----\nFrom: \"Celaira\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] So many errors (#2279)\nDate: Tue, Oct 21, 2014 17:12\nIt's supposed to show all those warnings? Give me a few minutes, I have the Apache errors too (not sure you'll be able to help with those, s'worth a shot.)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2279#issuecomment-59953520.\n. Please post this on the repository of the plugin.\n. How did I mess up this pad (steps to reproduce):\nPick up the code from https://vk.com/pages?oid=-17680044&p=Sharing_External_Pages (could be any other similar piece of text), specifically i got the one below the \"Example of a code that sets all post parameters right away without needed to request them from the shared page: \"\nCreated a bullet list on an etherpad instance\nPressed \"ENTER\" to make a new line, etherpad automatically places the cursor on a new bullet item\nPasted the code like this:\n<script type=\"text/javascript\">\n    <!--\n    document.write(VK.Share.button({\n      url: 'http://mysite.com',\n      title: 'Good Site',\n      description: 'This is my personal site, it took me ages to make it',\n      image: 'http://mysite.com/mypic.jpg',\n      noparse: true\n    }));\n    -->\n    </script>\nSelected the whole first line and dragged with mouse to the last line\nCTRL+Z two or three times to undo\nMessed up the whole pad (at least in the local session)\nResult:\n?Put the cursor in the end of this and press enter?\n<!--\n    document.write(VK.Share.button({\n      url: 'http://mysite.com',\n      title: 'Good Site',\n      description: 'This is my personal site, it took me ages to make it',\n      image: 'http://mysite.com/mypic.jpg',\n      noparse: true\n    }));\n    -->\n    </script>\nThe changes are not persistent\n. @iuriguilherme can you maybe provide more concise/shorter steps to replicate this issue?\n. Pressed \"ENTER\" to make a new line, etherpad automatically places the cursor on a new bullet item <-- this isn't the case for me\nI'm really unable to replicate this issue, have tried a number of times..  Also testing in firefox, tried on beta.etherpad.org and my local instance running develop...\nScreencast will be good :) Thanks!\n. No confirmation within a month, closing.\n. Want this feature implemented?  Help us help you: https://www.bountysource.com/issues/5542922-chat-when-on-timeslide\n. What version of Etherpad?\nAny plugins enabled?\n. Ideally a git commit # would be preferable.  Also any browser details, make, model etc.  I'm gonna guess this is a Chrome bug but I have been wrong before ;)\n. Generally linking with text of \"here\" is bad practice and should be avoided.  \nhttps://github.com/ether/etherpad-lite/wiki/Available-Plugins also needs some polish :)\n. What do you mean by author color brightness?  You mean the background color of an author text span?\n. I don't remember conversations from a couple of weeks ago!\nhttps://github.com/ether/etherpad-lite/blob/develop/src/static/js/ace2_inner.js#L253\n. Please provide a print screen\nPlease disable / enable plugins until you discover which plugin is causing this issue.\nThis isn't an Etherpad bug so when you isolate which plugin is causing the issue please create a bug on the plugin repository.\n. \"It's a fail by design, that a plugin can show the rootfs\" \nWe give plugin developers trust not to be stupid, if you want to be safe run your Etherpad in a VM or a docker instance or something..\n. This is the worst bug report I have ever seen.\nPlease provide steps to replicate.\nPlease provide details.\nPlease in general try at life.\nThanks.\nClosing under the assumption this isn't our problem.\n. Fix for https://github.com/ether/etherpad-lite/issues/1910\n. confirmed.\n. @AlainKnaff did you wanna fix this too or did you want someone else to do it?\n. A bounty always help push things forward quicker ;)\n. Oh boy this is part of a much more serious bug.. \nCursor keys in content editable in firefox mobile are broken.\nTo confirm, visit: http://html5demos.com/contenteditable and try to use cursor keys...  Will flag upstream\n. Upstream bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1093162\n. Native webkit based browser works okay.\nHTML5 missed it's graduation, this is why. @codepo8\n. Unassigned myself as this an upstream bug.\n. If you hit enter after the last line of text you insert does it redraw focus then?\n. Ugh, ouch.  I don't suppose you are part of a large enough outfit to ship me an ipad etc to test on? \nYea I'm familiar w/ the logic, even if the caret goes out of viewport it should be brought back in..  If you want to take a look I can show you where the logic is?\n. https://github.com/ether/etherpad-lite/blob/develop/src/static/js/ace2_inner.js#L3819 -- that single pipe looks questionable!\nAlso see https://github.com/ether/etherpad-lite/blob/develop/src/static/js/ace2_inner.js#L3844\nHave a play around there, top.console.log is your friend :)\nObviously without a device I'm stuck!\n. top.console.log not console.log\n. Afaik Ios simulator only runs on Apple mate..  welcome to the world of Apple..\n. Heh, no console access / emulation..  Bit of a blocker ;)\n. Confirmed bug.\n. Seems related to http://davidwalsh.name/scroll-iframes-ios\nMe and @alexzautke tried applying \n-webkit-overflow-scrolling: touch;\n  overflow-y: scroll;\nto #outerdocbody and #editorcontainer\nThis did fix the chat position but the user is still not scrolled into focus on the contentEditable frame.  My next will be to create a single iframe in a div to see if that works and then if it does create a nested iframe situation with a basic contentEditable setup so we can see if we can replicate like that..\n. Confirming this as an upstream bug has nothing to do w/ Etherpad.\nEven if you use a contenteditable Div in IOS you lose Caret focus -- See: http://etherpad.org/tests/ios1.html\nWe filed a bug with Apple.\n. @Gared good spot, fixed.\n. Good spot so the reconnect event isn't working properly, will take a look later today.\n. @Gared I can't replicate.  Reconncet works fine\n. Yeah\n. Needs full docs, version adding to API etc.\nAlso please read contributing guidelines, especially code style\n. Thanks, check your indentation too :) \n. @cristo-rabani looks good, one thing we really do need is backend tests so if you fancy that challenge I'd love to see it land !  Good job on this and thanks!\n. Did Abiword 3 change the API?\n. Lul wut.\nDownload AbiWord\n    Our latest stable release is version 2.8.6. It's available for a number of languages and operating systems. Release Notes | Changelog | Download.\nWhy are you testing against something that isn't released yet?  http://www.abiword.org/\n. Holy shit it appears abiword 3 is out but the website isn't maintained, heh http://www.abisource.com/viewvc/abiword/\n. Confirmed Ubuntu is bumping everyone to Abiword V3..\n. Word export works\nPDF dies\nODF dies\nLogging is terrible\n[2014-11-08 14:05:13.213] [ERROR] console - Abiword File failed to convert [Error: Abiword died with exit code null]\nError: Abiword died with exit code null\n    at module.exports (/home/jose/etherpad-lite/src/node_modules/async-stacktrace/ERR.js:46:13)\n    at /home/jose/etherpad-lite/src/node/handler/ExportHandler.js:226:36\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:190:13\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:110:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:187:17\n    at Object.callback (/home/jose/etherpad-lite/src/node_modules/async/lib/async.js:491:34)\n    at stdoutCallback (/home/jose/etherpad-lite/src/node/utils/Abiword.js:136:14)\n    at ChildProcess.<anonymous> (/home/jose/etherpad-lite/src/node/utils/Abiword.js:95:7)\n    at ChildProcess.emit (events.js:98:17)\n    at Process.ChildProcess._handle.onexit (child_process.js:810:12)\nIs what we get returned..  GG Abiword..\n. it appears that by running this command Abiword works\n/usr/bin/abiword --to test.pdf lEitcHIofV.html\nMake sure to replace the .html file with a file that exists...\n. I suggest filing a bug on the abiword bug tracker\n. I'm happy with it if you are\nOn 14 Mar 2015 22:48, Stefan notifications@github.com wrote:\n@JohnMcLearhttps://github.com/JohnMcLear Is there anything I should do here?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/pull/2302#issuecomment-80749944.\n. Bump @marcelklehr \n. @Gared if you want to merge this in just for for it as long as you are happy with maintaining it as it grows =)\n. Thanks\n. I thought I pressed merge, my bad.  Done now\n. Do \nrm -rf src/node_modules\nthen try again\n. @ja67 We're not actively working on IIS spport so you will need to submit a patch/fix and documentation.\n. Want this feature implemented?  Help fund it https://www.bountysource.com/issues/5876178-problem-using-etherpad-under-iisnode-without-using-reverse-proxy\n. I closed it because there is an issue waiting on testing a pull request waiting on testing, please search through issues before creating duplicates.\n. FWIW this isn't really easily doable.\n. Make sure you test your changes against the latest git develop commit and ideally against https://github.com/ether/etherpad-lite/pull/2298\n. I'm going to add tests for this\n. Closing as fix and test coverage is in.\n. Yea this can be easily replicated, it's really weird behavior..  For some reason the body monospace style value is being passed onto each magicdom DIV on paste..  I don't know why it's doing that..  When it happens it drops off the top innerdocbody..  It's as if on paste innerdocbody is rewritten or all styles are dropped..\nNormal editing doesn't rewrite the DOM so something is weird going on with paste events in chrome.. \n. From looking at it quickly I don't know how to fix this without it taking some time.  I will flag it as a bug but it's minor for now ;\\\nI suggest your users use Firefox if they want to ensure formatting integrity..  Chrome can't handle contentEditable well, the TLDR is Google don't/wont work on it since they built their own editing engine for GApps which doesn't depend on CE.  Yay big corporations...\n. @NotSqrt This appears to be resolved, can you please let me know if you are still experiencing it?\n. Yes please @NotSqrt  http://beta.etherpad.org will be on develop\n. This is actually solved in the latest release..  We expose a padOptions setting..\n/* Default Pad behavior, users can override by changing */\n  \"padOptions\": {\n    \"useMonospaceFont\": true\n  },\nThe above useMonospaceFont fixes this.  No need for a plugin =)\n. Case sensitivty issue?\n. I'd run the Sql query to see what you get.  Depends how familiar you are with mysql.  If you need hand holding I'd grab an odesk worker or so to help debug.\n----- Reply message -----\nFrom: \"bcg-didi\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] Some pads are re-created as empty after switching to MySQL (#2312)\nDate: Thu, Nov 13, 2014 18:34\nI don't know. In the browser I've always the same URL. In fact I even keep the same tab open and just refresh. So if it's a case sensitivity issue, it's somewhere in the backend.\nHow can I find out?\nMaybe also worth mentioning: about 2 weeks ago Etherpad crashed, leaving the var directory with several files (while when shutting down gracefully only dirty.db is left). Back then I also lost pads. However I regarded that as my fault because dirtydb usage is discouraged and one reason seems to be that it doesn't handle crashes well (I guess the files left were some kind of cache or so).\nHowever the pad which is missing now was created after that incident and as I mentioned, the data is there (which was not the case for the pads I lost last time).\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2312#issuecomment-62942190.\n. Dunno, pretty sure it's working as expected though. Prolly something specific to your instance you would need someone to take a look at.  Feel free to contact Etherpad support if you want commercial support to take a look at your instance.\n. Export them and import them, should work fine.\n. Just do a clean up and put something in the guide with regards to these things.  We are not intending to make these things rigid as a simple periodic clean up is the best solution.\n. Contributing.Md should do it.  We don't do rigid checks at current. Feel free to put a pull request in for it but we will require you maintain it moving forward.\n----- Reply message -----\nFrom: \"Andr\u00e9 Jaenisch\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] Styleguide missing (#2315)\nDate: Sun, Nov 16, 2014 00:02\nI do.\nHowever, I am missing an automatic check on this, since it improves reading in my opinion.\nDo you have a task runner (e.g. Grunt), where I could hook it up?\nOtherwise I'm looking into a git commit hook and run css lint on my machine.\nYou wrote \"put something in the guide\". Do you refer to CONTRIBUTING.md? Or do you handle that by a wiki?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2315#issuecomment-63198346.\n. I'd quite like to get this into 1.5 as to avoid warnings on startup\nAnyone can please quickly solve it?  @marcelklehr @Gared @Pita @webzwo0i @dmitryuv \n. Run the backend tests.\n----- Reply message -----\nFrom: \"webzwo0i\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] setAppHandler is deprecated warnings on startup (#2316)\nDate: Tue, Dec 30, 2014 17:14\ndoes there exist any testcase or program I can use to check if swagger still does its job?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2316#issuecomment-68375296.\n. Bug is with ep_ldap_auth, please report on that repo :) Thanks!  Btw Develop branch is going to be broken for quite some time..  We're going through some big changes...  Either way the ldap auth plugin is going to need to be fixed.  It's probably using deprecated express methods or so\n. You running from develop branch?\n. Confirmed, it just sits there.. I will fix ASAP\n. Error on client\nTypeError: io.connect(...).of is not a function\n. Fix going into https://github.com/ether/etherpad-lite/pull/2319\nIf you can checkout that branch and I will let you know when to pull the latest and test.\nIt will take ~30 mins or so as I have other things on\n. Give that a pull and test please.\n. @marcelklehr I could do with you looking at the session handling stuff please.\n. Hit it directly and see what happens.  Apache can be a real pita\n. It will be because apache has poor websocket support, dig through the docs there is a guide for how to fix this.   Thanks for reporting the issue.\nAssuming @marcelklehr or someone can help w/ the session stuff we can get this merged.\n. Well the other fix is to drop the websocket transport from your settings.json..  That might help.\n. @marcelklehr I bodged https://github.com/ether/etherpad-lite/pull/2319/files#diff-b65ac99051598876aa7440fcfb851547R28 and I'm pretty sure it will break security..\n. I took a look into this and I'm unable to figure out the exact commit that causes this problem.  I'm 99% sure it's due to the socket v1 upgrade but not sure why exactly.\nIf someone can cast a fresh pair of eyes over it that would be awesome as I think I'm missing something obvious..!  cc @marcelklehr and @luto \nThe first bad commit could be any of:\nab4819fb859ebe18749d57e3ada27b2378e438be\n8d2fa35b3f3d2a064395dff4a83a56237a3c4235\ncce2d7279a555fdd52b2eccdf962301dadbf8c42\n12914e68ffac7d949887035af36f9867525b79ec\n57f56d8fe11ee28b9f3f2a1e969f86038ca27d34\n053ff3097d097ad89337740a0209c50f4726399d\neff4863a22324ec2e87b8da6693182ee60fe7cfc\n9c935a69975d4987ab97b25d89f6a537e578bce6\n9fa77cdea251b5e32a351298bbe97a88abec3e56\n4986dd11ee0d190054476499b31c60883c0afa83\nf418dfa2053c4b40bd46d586b960a2de8167388c\naf3e8e5e15b66ccae2306ba6b956d8acd8143eed\nf5fbcbbc81463779d980716c6d92ce4ce1dd28b9\n3bf108f3b4bc93617825283a6bbec5e03b31d03b\n8391f902fbda5f687bb9efd3152352ddcdc11a81\n77c805a2bf1ce9d832f2e5af984c2d85fc5e2fc2\na6cbb4af409b5448e2b27d4f28234efd8c0e3c17\n68eaa09708241b0551f5d345f45d8f7ba00913d2\nfc79c8a29812ae96c5c3eea32091e0b71d778338\n95e7b0f15609fc850b71717a672abd02237a0f33\nd7a181be677362dd993c91e6f57fc51803439cb9\n865829e159bef4379a9549fdb7737dd797be2300\ncb28d109631e7bd5357fcd754b60fd89e820e7e6\n5d0ccb5f8f7b029ed71b0cd5bc668a3fe088a96f\n135aa3e8feeed8d77b8d753a18a8164f6084e692\nadef0af227a765b8d2ddfece29449bf6b4053313\n020b636b1f6ffecfd6cf5563e0867ce4c401aebe\n1e53c4f5f0440b00a30037793783f862f3cced7d\n2c801cc558bd358d1de6a0cdfcd3de8201739f7b\nd10013c1590594303397476f125354aa945ac483\n6af160ee560d43f574ab017df7df4baca3fd8ded\na67e805da0f356cb584aa338c7c448d1969eb577\nff603d7b586f4a8d675e30d8ff659f5c189afd5a\n3e8f3cd938995a75e5146a149bf339dd5603416f\n. Thanks @luto !\n. I used fontello too..  It has the fonts I wanted but it'd be nice if I could save the settings so its easy to add later..  Oh you can...  nice..\n. @0ip you might want to do some styling around this, especially of the timeslider page?\nIt's ready for testing anyway..\n. Fixed.\n. Give DNS time to propogate please.\n. heh ffs. 99 problems.\n. Bump @luto \n. 1.4.12 landed without this in, I still think if you are going to extend with params you need to create a new endpoint or so..\n. Which branch?\n. bummer ;\\  Any chance you can do some debug/digging so we can get it fixed?\n. @luto you sir, are the man!  Yea I did a big socket upgrade recently.  Thanks man I appreciate it!\n. Before I merge this that \"resource\" param looks familiar, can you please make sure it's not used elsewhere IE timeslider?\ncd src/static/js && grep -rni resource . should tell you if its used elsewhere.\n. Awesome thanks @l-y-n-x and congrats on your first commit to Etherpad, heres to many more to come :) \n. Looks good, is there not any existing code you can reuse to accomplish a lot of this?  Or even just use the API?\n. Looks good to me, @marcelklehr @dmitryuv did you have any thoughts you wanted to share before I merge this?\n. Please add docs to wiki under the scripts in bin page\n. I think line 500 of PadMessageHandler, replacing room client logic with\n```\n  var roomClients = [], room = socketio.sockets.adapter.rooms[padId];\n  if (room) {\n    for (var id in room) {\n      roomClients.push(socketio.sockets.adapter.nsp.connected[id]);\n    }\n  }\n//search the author and send him this message\n  for(var i = 0; i < roomClients.length; i++) {\n    var session = sessioninfos[roomClients[i].id];\n    if(session && session.author == message.data.payload.unnamedId) {\n      roomClients[i].json.send(message);\n      break;\n    }\n  }\n```\nShould fix it.\n. I'm running w/ that now on b.etherpad.org so will review.\n. Look at the last open issue I'm sure this is the same.\n. hrm not sure..  I'm sure this is resolved in develop though, have you tried latest develop?\n. @luto perhaps related to \"resource\" ?\n. @mabe-at can you please update the wiki to reflect the changes?\n. Thanks :)\n. @mkmelin I'd welcome that as a pull request :)  Bare in mind plugins would also need to support it though..\n. peep https://github.com/ether/etherpad-lite/commit/703440acd78692fd92a6036e177c1a118d439c45\nthe same fix is probably needed for exports.padUsers :)\n. Fixed\n. Nope\nPlease use primarypad\n----- Reply message -----\nFrom: \"lotte23\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] pads deleted after 30 days (#2337)\nDate: Mon, Nov 24, 2014 09:09\nDear all,\nI used pads via beta.etherpad.org for my course not realizing that content will be deleted after 30 days. Is there a way to get the content back? My students would be relieved..\ncheers,\nLotte\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2337.\n. you will need to rebase (git pull origin develop) and resolve merge conflicts then push again\n. cc @luto who changed it to path just a few days ago, perhaps we need both values??\n. yep\n. @l-y-n-x yeah you just need to rebase then push, bump me when it's done :)\n. This pull request breaks admin page functionality.... cc @l-y-n-x \n. Closing under the assumption this isn't actually required.\n. @marcelklehr so you prefer this over https://github.com/ether/etherpad-lite/pull/1638 ?\n. Done\n. Fixed in https://github.com/ether/etherpad-lite/pull/2344\n. Please test this by doing \nbin/backendTests.sh\nThanks!  cc @luto @marcelklehr \n. What Version of Etherpad?  I cleared up your config paste for you.\n. Any chance can you put in a test spec for this before I merge it please?\n. I tried setting the cache value to null but this failed.  I think this test might have to move into ueberdb and not here.\n. I can't find an elegant solution for this, other approaches are welcome.\n. @marcelklehr or @dmitryuv any thoughts?\n. Living. On. The. Edge.\n. Want this feature implemented?  Help fund it https://www.bountysource.com/issues/6560932-make-an-append-import-option\n. Duplicate of https://github.com/ether/etherpad-lite/issues/2168\n. Remote beta.etherpad.org tests (running over 40Mb internet connection)\ndevelop (20 plugins)\n- > cache disabled 86 requests 1.3Mb 16.12s\n - > cache enabled 86 requests 99Kb 7.62s\nrequire-kernel-change branch (20 plugins)\n- > cache disabled 63 requests 1.3Mb 15.72s\n - > cache enabled 63 requests 81.6Kb 5.32s\n. - [x] an update of clean-css seems to break things I need to figure out why\nI'm struggling to replicate this locally, perhaps I need to clean up after update..  Ah I think the bug only fires when minify is on.\n1.17 to 2 breaks it.\nFixed, they changed the API (\\o/)\n. This is ready for testing. @marcelklehr @luto \n. @marcelklehr  Afaik it did that before no?\n. ah okay.\n. Did this and a lot more fixes.\n. Want this plugin implemented?  Hep us help you: https://www.bountysource.com/issues/6601073-plugin-for-transforming-text-indentation-into-hierarchical-list-bubbles\n. Huh just specify the path to your alternative node modules folder then...  This isn't a limitation afaik..\n. well peep ep_define, that uses a dependency\nif you need to use another plugin as a dep use peerdependencies such as ep_slideshow.\nI'm 99.9% sure this isn't a problem though...\n. Having plugin settings stored in the database would be a lot more sane..  That way a plugin can expose a settings page..  Having even more text files would just cause pain.\nI'd welcome this as a pull request btw :) +1 if you can do that\n. No, there is no infrastructure at current for plugins to expose settings, that would need writing into the plugin framework.  It's a day or so work for someone experienced with Etherpad.  We currently don't provide any test coverage for the plugin framework so I'd want to include that prior to extending functionality in that area.\n. oho nice =) @Gared should we use your plugin as a reference point?  Your plugin doesn't write to the database though so we'd need to include that.\n. Well imho plugin settings should be passed in clientVars and should be stored in the database with some coherant prefix.  Something like..\npluginSettings.%pluginname%.property = value\nIE \npluginSettings.ep_headings.headings = [\"h1\", \"h2\"];\n. Decided against with the intention to minify plugins or some such.\n. To see outdated modules one can do\ncd src/\nnpm outdated --depth=0\n. Can you please whack docs in the wiki please?  Here: https://github.com/ether/etherpad-lite/wiki/Getting-to-know-the-tools-in-bin\n. @BjarniRunar merged please do docs ASAP\n. What database are you using??\nPlease try the develop branch and see if the problem persists.\n\nFrom: Andr\u00e9 Karge [notifications@github.com]\nSent: 02 December 2014 15:35\nTo: ether/etherpad-lite\nSubject: [etherpad-lite] graceful shutdown after half an hour (#2359)\nHi,\nI got a problem with v1.4.1 that after approximately half an hour the server crashes so that everyone who was connected to a pad lost his connection and wasn't automatically reconnected.\n-   node version v0.10.21\n-   plugins installed: ep_etherpad-lite, ep_headings\nBut this problem only appears when more users are working on a pad.\nOn my testserver I couldn't rebuild this problem.\nWith v1.4.0 this problem doesn't appear, so I moved back to this version on my live-server.\nlog-print:\n[2014-11-13 15:03:10.199] [INFO] ueberDB - Flushed 3 values\n[2014-11-13 15:03:10.704] [INFO] ueberDB - Flushed 3 values\n[2014-11-13 15:13:10.699] [ERROR] console - Error: Connection lost: The server closed the connection.\n[2014-11-13 15:13:10.699] [INFO] console - graceful shutdown...\n[2014-11-13 15:13:10.714] [INFO] console - db sucessfully closed.\n[2014-11-13 15:13:22.415] [WARN] pluginfw - /var/www/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/fstream requires mkdirp@'>=0.5 0' but will load\n[2014-11-13 15:13:22.418] [WARN] pluginfw - /var/www/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/glob requires minimatch@'^1.0.0' but will load\n[2014-11-13 15:13:22.419] [WARN] pluginfw - /var/www/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/glob requires once@'^1.3.0' but will load\n[2014-11-13 15:13:22.419] [WARN] pluginfw - /var/www/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/inflight requires once@'^1.3.0' but will load\n[2014-11-13 15:13:22.419] [WARN] pluginfw - /var/www/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/init-package-json requires glob@'^4.0.2' but will load\n[2014-11-13 15:13:22.420] [WARN] pluginfw - /var/www/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/node-gyp requires fstream@'^1.0.0' but will load\n[2014-11-13 15:13:22.420] [WARN] pluginfw - /var/www/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/node-gyp requires mkdirp@'^0.5.0' but will load\n[2014-11-13 15:13:22.421] [WARN] pluginfw - /var/www/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/node-gyp requires tar@'^1.0.0' but will load\n[2014-11-13 15:13:22.421] [WARN] pluginfw - /var/www/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npm-install-checks requires semver@'^2.3.0' but will load\n[2014-11-13 15:13:22.421] [WARN] pluginfw - /var/www/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npm-registry-client requires graceful-fs@'^3.0.0' but will load\n[2014-11-13 15:13:22.421] [WARN] pluginfw - /var/www/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npm-registry-client requires mkdirp@'^0.5.0' but will load\n[2014-11-13 15:13:22.421] [WARN] pluginfw - /var/www/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npm-registry-client requires npm-cache-filename@'^1.0.0' but will load\n[2014-11-13 15:13:22.422] [WARN] pluginfw - /var/www/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npmconf requires ini@'^1.2.0' but will load\n[2014-11-13 15:13:22.422] [WARN] pluginfw - /var/www/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npmconf requires mkdirp@'^0.5.0' but will load\n[2014-11-13 15:13:22.422] [WARN] pluginfw - /var/www/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npmconf requires osenv@'^0.1.0' but will load\n[2014-11-13 15:13:22.423] [WARN] pluginfw - /var/www/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/read-package-json requires github-url-from-git@'^1.3.0' but will load\n[2014-11-13 15:13:22.423] [WARN] pluginfw - /var/www/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/read-package-json requires glob@'^4.0.2' but will load\n[2014-11-13 15:13:22.423] [WARN] pluginfw - /var/www/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/tar requires fstream@'^1.0.2' but will load\n[2014-11-13 15:13:22.424] [WARN] pluginfw - /var/www/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/fstream-npm/node_modules/fstream-ignore requires fstream@'^1.0.0' but will load\n[2014-11-13 15:13:22.424] [WARN] pluginfw - /var/www/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/fstream-npm/node_modules/fstream-ignore requires minimatch@'^1.0.0' but will load\n[2014-11-13 15:13:22.424] [WARN] pluginfw - /var/www/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/read-package-json/node_modules/normalize-package-data requires github-url-from-git@'^1.3.0' but will load\n[2014-11-13 15:13:22.424] [WARN] pluginfw - /var/www/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/read-package-json/node_modules/normalize-package-data requires github-url-from-username-repo@'^1.0.0' but will load\n[2014-11-13 15:13:22.797] [INFO] console - Installed plugins: ep_etherpad-lite, ep_headings\n[2014-11-13 15:13:22.819] [WARN] console - Can't get git version for server header\n[2014-11-13 15:13:22.819] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2014-11-13 15:13:22.867] [INFO] console - info: 'socket.io started'\n[2014-11-13 15:13:22.906] [INFO] console - You can access your Etherpad instance at http://0.0.0.0:9001/\n[2014-11-13 15:13:22.906] [INFO] console - The plugin admin page is at http://0.0.0.0:9001/admin/plugins\n[2014-11-13 15:13:31.726] [INFO] client - DIAGNOSTIC-INFO: {\"disconnectedMessage\":\"reconnect_timeout\",\"padId\":\"2014-11-13-Nachmittag\",\"socket\":{\"sessionid\":\"6RaG0vqNfroeAk3krkdt\",\"closeTimeout\":60000,\"heartbeatTimeout\":60000,\"heartbeatTimeoutTimer\":2,\"connectTimeoutTimer\":5,\"reconnectionAttempts\":4,\"reconnectionDelay\":4000,\"reconnectionTimer\":1548}}\n[2014-11-13 15:13:31.733] [INFO] ueberDB - Flushed 1 values\n[2014-11-13 15:13:31.768] [INFO] client - DIAGNOSTIC-INFO: {\"disconnectedMessage\":\"reconnect_timeout\",\"padId\":\"2014-11-14-Morgen\",\"socket\":{\"sessionid\":\"X5dyfz7Lnq0ZPSnzrkdV\",\"closeTimeout\":60000,\"heartbeatTimeout\":60000,\"heartbeatTimeoutTimer\":2,\"connectTimeoutTimer\":5,\"reconnectionAttempts\":4,\"reconnectionDelay\":4000,\"reconnectionTimer\":46933}}\n[2014-11-13 15:13:31.779] [INFO] client - DIAGNOSTIC-INFO: {\"disconnectedMessage\":\"reconnect_timeout\",\"padId\":\"2014-11-22-Morgen\",\"socket\":{\"sessionid\":\"ZwMWZ1LglIo18jCFrkdX\",\"closeTimeout\":60000,\"heartbeatTimeout\":60000,\"heartbeatTimeoutTimer\":2,\"connectTimeoutTimer\":5,\"reconnectionAttempts\":4,\"reconnectionDelay\":4000,\"reconnectionTimer\":25673}}\n[2014-11-13 15:13:31.834] [INFO] ueberDB - Flushed 2 values\n[2014-11-13 15:13:33.121] [INFO] client - DIAGNOSTIC-INFO: {\"disconnectedMessage\":\"reconnect_timeout\",\"padId\":\"2014-11-14-Morgen\",\"socket\":{\"sessionid\":\"IRSj_3nTWdHdSZNCrkdo\",\"closeTimeout\":60000,\"heartbeatTimeout\":60000,\"heartbeatTimeoutTimer\":2,\"connectTimeoutTimer\":5,\"reconnectionAttempts\":4,\"reconnectionDelay\":4000,\"reconnectionTimer\":14265}}\n[2014-11-13 15:13:33.140] [INFO] ueberDB - Flushed 1 values\n[2014-11-13 15:13:33.175] [INFO] client - DIAGNOSTIC-INFO: {\"disconnectedMessage\":\"reconnect_timeout\",\"padId\":\"2014-11-14-Nachmittag\",\"socket\":{\"sessionid\":\"fE-MgMbKFeLIiJPZrkdy\",\"closeTimeout\":60000,\"heartbeatTimeout\":60000,\"heartbeatTimeoutTimer\":2,\"connectTimeoutTimer\":5,\"reconnectionAttempts\":4,\"reconnectionDelay\":4000,\"reconnectionTimer\":16169}}\n[2014-11-13 15:13:33.240] [INFO] ueberDB - Flushed 1 values\n[2014-11-13 15:13:33.338] [INFO] client - DIAGNOSTIC-INFO: {\"disconnectedMessage\":\"reconnect_timeout\",\"padId\":\"2014-11-13-Nachmittag\",\"socket\":{\"sessionid\":\"HknZJCiabphSC26grkdd\",\"closeTimeout\":60000,\"heartbeatTimeout\":60000,\"heartbeatTimeoutTimer\":2,\"connectTimeoutTimer\":5,\"reconnectionAttempts\":4,\"reconnectionDelay\":4000,\"reconnectionTimer\":47416}}\n[2014-11-13 15:13:33.341] [INFO] ueberDB - Flushed 1 values\n[2014-11-13 15:13:33.613] [INFO] client - DIAGNOSTIC-INFO: {\"disconnectedMessage\":\"reconnect_timeout\",\"padId\":\"test\",\"socket\":{\"sessionid\":\"rORwr05z1jrRqyIvrkd0\",\"closeTimeout\":60000,\"heartbeatTimeout\":60000,\"heartbeatTimeoutTimer\":2,\"connectTimeoutTimer\":5,\"reconnectionAttempts\":4,\"reconnectionDelay\":4000,\"reconnectionTimer\":4598}}\n[2014-11-13 15:13:33.642] [INFO] ueberDB - Flushed 1 values\n[2014-11-13 15:13:33.672] [INFO] client - DIAGNOSTIC-INFO: {\"disconnectedMessage\":\"reconnect_timeout\",\"padId\":\"2014-11-13-Nachmittag\",\"socket\":{\"sessionid\":\"ontMx4PfcZ3nBbrbrkdr\",\"closeTimeout\":60000,\"heartbeatTimeout\":60000,\"heartbeatTimeoutTimer\":2,\"connectTimeoutTimer\":5,\"reconnectionAttempts\":4,\"reconnectionDelay\":4000,\"reconnectionTimer\":442}}\n[2014-11-13 15:13:33.742] [INFO] ueberDB - Flushed 1 values\n[2014-11-13 15:15:37.129] [INFO] ueberDB - Flushed 1 values\n\u0097\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2359.\n. Try it on the latest develop commit and let us know if it persists.\n. Duplicate of https://github.com/ether/etherpad-lite/issues/2148\n. This is a plugin bug.\n. Which bug does this fix @webzwo0i  ?\n. Damnit this breaks all functionality.\n. all pads error on creation\nUncaught Error: Failed assertion: Invalid changeset (checkRep failed)VM336831:5740 errorVM336831:5754 assertVM336831:5985 exports.checkRepVM336831:752 setDocATextVM336831:188 makeChangesetTracker.withCallbacks.f.setDocumentAttributedTextVM336831:9985 (anonymous function)VM336831:184 (anonymous function)VM336831:461 inCallStackVM336831:530 inCallStackIfNecessaryVM336831:181 makeChangesetTracker.withCallbacksVM336831:9971 self.setBaseAttributedTextVM336831:984 editorInfo.ace_setBaseAttributedTextVM336831:5345 (anonymous function)\n. Can you please fix and open new pull request?\n. @webzwo0i any chance you can get this done today please?\n. Any plugins installed?\nSent from my HTC\n----- Reply message -----\nFrom: \"Andrea Veri\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Etherpad crashes at startup (#2365)\nDate: Fri, Dec 5, 2014 15:43\nEtherpad crashes at launch time with the following backtrace:\n[2014-12-05 15:33:00.921] [INFO] console - Installed plugins: ep_etherpad-lite\n[2014-12-05 15:33:00.960] [INFO] console - Your Etherpad git version is 6080de9\n[2014-12-05 15:33:00.960] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2014-12-05 15:33:01.047] [ERROR] console - TypeError: object is not a function\n    at Object.exports.expressCreateServer as hook_fn\n    at normalizedhook (/srv/http/etherpad.gnome.org/html/src/static/js/pluginfw/hooks.js:15:27)\n    at hookCallWrapper (/srv/http/etherpad.gnome.org/html/src/static/js/pluginfw/hooks.js:21:14)\n    at /srv/http/etherpad.gnome.org/html/src/static/js/pluginfw/hooks.js:76:14\n    at Array.map (native)\n    at Function..map..collect (/srv/http/etherpad.gnome.org/html/src/node_modules/underscore/underscore.js:95:56)\n    at Object.exports.callAll (/srv/http/etherpad.gnome.org/html/src/static/js/pluginfw/hooks.js:75:24)\n    at Object.exports.restartServer (/srv/http/etherpad.gnome.org/html/src/node/hooks/express.js:90:9)\n    at Object.exports.createServer as hook_fn\n    at normalizedhook (/srv/http/etherpad.gnome.org/html/src/static/js/pluginfw/hooks.js:15:27)\n[2014-12-05 15:33:01.048] [INFO] console - graceful shutdown...\n[2014-12-05 15:33:01.048] [INFO] console - db sucessfully closed.\nThe code currently in use is the one from the master branch. (with latest commit being 6080de9https://github.com/ether/etherpad-lite/commit/6080de9d79626f2da3afe3b18f7dd230343cf1c4)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2365.\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. Try uninstalling it and test again\n----- Reply message -----\nFrom: \"Andrea Veri\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] Etherpad crashes at startup (#2365)\nDate: Fri, Dec 5, 2014 16:01\nJust ep_adminpads which I tried to disable by removing it from the relevant node_modules directory (is that enough for disabling a plugin or is it registered somewhere else?) with no luck.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2365#issuecomment-65809988.\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n. rm -rf src/node_modules would also have fixed this.\nSounds like a module was out of sync somehow\n. Please read contributing docs\n. Please see contributing.md\n. Plugin issue \n. Apache config probably needs some tweaking since latest Socket IO upgrades.  Please debug your apache config and if you find issues with it update the wiki with the correct config.\n. Assuming you are doing a new install, it souds like it didn't finish..\nClean your install\nrm -Rf src/node_modules\nbin/run.sh\n. Do a full clean install..\n. Export your pad and share it?\n. @sebschrader all pads are available via the /export endpoint..  IE\nhttp://beta.etherpad.org/p/test/export/etherpad\nJust replace your url and padid with the broken pad.\n. Fixed Export issue :)\n. @webzwo0i Can you please create test coverage for this?\n. @webzwo0i please email me or put your email on your github so I can help you write a test\n. Okies you will need to open a new pull request with the new changes in! :)\n. @webzwo0i this can be closed yea?\n. Thanks @webzwo0i  :) \n. Want to me a new PR w/ that change in?\n. Please provide exact key strokes to replicate this issue.\n. @arthurlogilab no one can replicate this, I assume it's user error.\n. What git commit are you running?\n. Any plugins / settings that aren't from default config?\n. Please pull develop and see if you still get this.\n. Same :-) thanks\n----- Reply message -----\nFrom: \"Stefan\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] Server crash \"Failed assertion: line assembler not finished\" (#2375)\nDate: Thu, Jan 1, 2015 21:24\nThe last time the error occured was a few days ago. So if I pull develop I can't be really sure that this fixes the problem. I will reopen this issue if I get further errors.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2375#issuecomment-68498765.\n. Uninstall plugins until you find out which is broken then report on that plugins repo.\n. This will clean your problem rm -rf src/node_modules \n. Clean install time.\n. ty\n. @webzwo0i do me a favor and run the frontend and backend tests to just check this passes.  This PR touches a lot of files so I just want to ensure it's good\nAlso cc @marcelklehr \n. Go for it!\n. I'm going to close this issue though on the grounds it's something we would review but it's outside of our scope right now..  Still we'd welcome it if it's something you want to work on :)\n. Add it to the wiki, this doesn't need an issue.  @panderMusubi\n. Take a look through and find a section that works.\n. @ja67 it works fine.  You will only see it other users browsers.  Afaik its live on beta.etherpad.org btw\n. Use three back ticks when pasting code -- it will format it as a log\n. Not seeing this error on beta.etherpad.org\n. also seeing timeslider work when minification is on? :P wtf.. heh\n. This does appear to be the case.\n. Brought clean-css back to an older version to restore stability, needs a proper fix at some point.\n. Confirmed.\n. try it with minfiication set to true\n. caused by 5d15f655f0d697995e221c19e707fc9ff05faaa2\n. Fixed.\n.git pull` \nTry run again.  I fixed this earlier today\n. Develop\n----- Reply message -----\nFrom: \"ascenator\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] NodeJS / Etherpad: TypeError after fresh installation (#2385)\nDate: Mon, Dec 22, 2014 03:40\nWhich branch should I use?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2385#issuecomment-67799238.\n. Please create issue on admin pads plugin and close this.\n----- Reply message -----\nFrom: \"ascenator\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Plugins do not work (#2386)\nDate: Mon, Dec 22, 2014 15:59\nHey there,\nI have a fresh install of etherpad-lite on a debian wheezy stable server using apache as my web server.\nEtherpad runs fine, including creating new tabs, editing stuff and so on.\nI installed adminpads and restarted the server.\nWhen I try to administrate open pads, admintabs says \"no pads found...\" and by clicking on \"Plugin manager\" etherpad throws some errors. The etherpad-lite.log says the following:\n[2014-12-22 16:49:23.437] [ERROR] console -\n{ [Error: getaddrinfo ENOTFOUND] code: 'ENOTFOUND',\nerrno: 'ENOTFOUND', syscall: 'getaddrinfo' }\nError: getaddrinfo ENOTFOUND\n    at errnoException (dns.js:37:11)\n    at Object.onanswer as oncomplete\n[2014-12-22 16:49:26.009] [WARN] console -\n{ [Error: getaddrinfo ENOTFOUND] code: 'ENOTFOUND',\nerrno: 'ENOTFOUND', syscall: 'getaddrinfo' }\nError: getaddrinfo ENOTFOUND\n    at errnoException (dns.js:37:11)\n    at Object.onanswer as oncomplete\nAny ideas how to fix this?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2386.\n. Thanks for reporting, this sounds like something I need to deal with ASAP\n. I made a .html file with the contents you stated above.\nOpened it in firefox\nCopy/pasted to http://beta.etherpad.org/p/ukLEfZmebR\nI am not disconnected\nPerhaps you can provide exact steps to replicate?\n. I have a feeling it's due a plugin handling it.\n. Nope that's not the case.\nOkay what browser / OS?\n. Try comment out https://github.com/ether/etherpad-lite/commit/70ba525430e42655699b35be1802a6e51d569f91#diff-f73fd51a28ccd77da14a99d1bea091d5R64 and see if it persists.\n. If so try to comment out L62 through to L67\n. It's when you paste bold text.  I can replicate by pasting then control b on content.\n. Pushed a fix, please pull develop and let me know if it's still broken for you.\n. It's probably due to a line attribute having a special character \"*\", we could mitigate this by getting line text and checking against it.\n. This is the hack fix I did as a temporary bodge in my plugins: https://github.com/JohnMcLear/ep_subscript_and_superscript/blob/master/static/js/index.js#L47\n. run it without using the init script, you might see some errors.\nPlease use the official docs: https://github.com/ether/etherpad-lite/wiki\n. What version of Etherpad?  Can you actually connect to MySQL with your settings?  It sounds like your MySQL settings are wrong.\n. This error isn't coming from etherpad. It's coming from the database layer.  Try running the ueberdb tests and let me know if they pass or fail.\n. I'm going to close this issue as I'm 99% sure this isn't an Etherpad issue but feel free to let me know to re-open if required.\n. I'd suggest running these: https://github.com/Pita/ueberDB/blob/master/randomAccessTest.js\nueberDB is the library for database access.\n. @StephenKing and you still get the same error?\n. @StephenKing Please try the branch recently pushed to fix\nhttps://github.com/ether/etherpad-lite/issues/2148#issuecomment-68296867\nLet us now if this fixes your problem or not please.\n. The docs are fine.  they don't say to use apt-get to install nodejs.  I have no idea where you got that from..  PEep the docs on develop.\n. Peep = see\n. Imho this makes life more difficult as it adds additional complexity and will cause long term pain.\n. Sorry!  Thanks though, I appreciate the contribution.\n. It is.  The plugin authors will need to fix it, you need to create issues on the plugins.\n. plugins have to expose there functionality to getHTML.  It's up to the plugins to do this.  Bump the plugin repos.\n. @marcelklehr this is still happening ;\\\n. This is due to https://github.com/ether/etherpad-lite/blob/develop/src/static/js/AttributeManager.js#L136 never actually using the attributeName value so it removes all attributes.\nA hack of trying to set the list type to 0 wont help as it will break ordering of list items.  What we really need to do is look into https://github.com/ether/etherpad-lite/blob/develop/src/static/js/AttributeManager.js#L136 to see why it never supported removing the specific attribute\n. Confirmed with @Pita the implementation looks b0rked.\n. Ah damn shift tabbing and removing all line attributes leaves the line marker (*) in Firefox :(\nCan you replicate?\n. @marcelklehr any chance you can take a look at this today please? :)\n. Please create bug on plugin repo not here\n----- Reply message -----\nFrom: \"Tagussan\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Chatbox is not displayed (#2396)\nDate: Fri, Dec 26, 2014 01:17\nHi,\nI installed etherpad and confirmed collaborative editing works well. Then I installed realtime-chat plugin. However, chatbox doesn't appear. When I read css, I found that the chatbox is set to \"display: none\" in etherpad-lite/src/static/css/pad.css. By disabling this setting from FireBug on my browser, I confirmed that chatbox appear correctly and chatting works fine.\nWhy this is set to \"display: none\" ? How to enable chatbox?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2396.\n. Yea I don't think this will make it in, I think I'm going to rewrite the majority of this.\n. hrm looks like this did make it in, that must have been a mistake..  I will submit some patches..\n. Patches submitted that keeps the logic sane but the functionality is still b0rked.\n@marcelklehr any chance you can take a look at the comment on my latest pull request to see if you can think of a quick win?\n. Tested, confirmed working! :) Nice!  Thanks man this would have taken me all day to do!\n. @webzwo0i note below..  Do you have a test case for this in your coverage?  It appears we miss the case where a user might have empty nested ul's as below..\n```\n  // will fail due to https://github.com/ether/etherpad-lite/issues/1604\n  // reminder to self this is how the HTML looks\n  // \n  //   one\n  //   2\n  // \n  // \n  // \n  //   \n  //     UL2\n  //   \n  // \n  // It will look right in the browser but the export will get it horriby wrong\n// This is what the export puts out\n  // \n  //  one\n  //  2\n  // \n  // \n  // \n  // NOTE THIS IS WHAT'S MISSING\n  //   UL2\n  // \n  // \n```\n. Yea should be okay now, I updated the tests (see above)\n. Passes all tests.\nThanks for this, if you can get test coverage in that would be awesome :)\n. Is this ready to merge?  @marcelklehr did you wanna share your thoughts?\n. Looks good to me and passes test.\n. @Gared should I merge this?\n. We really need test coverage of this too but browser vendors disable copy/paste for security reasons (appropriately so).\n. Track upstream at https://bugzilla.mozilla.org/show_bug.cgi?id=1117007\n. Should be fixed.\n. Probably due to socket migration.  Does this problem exist in 1.4.1?\n----- Reply message -----\nFrom: \"Stefan\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] socket.io error messages missing (#2408)\nDate: Sun, Dec 28, 2014 12:13\nIn the latest develop version you don't get any error message if you reject cookies. The page \"hangs\" on the \"Loading...\" page.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2408.\n. Okay then it looks like maybe this error message never existed and will need implementing.\n----- Reply message -----\nFrom: \"Stefan\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] socket.io error messages missing (#2408)\nDate: Sun, Dec 28, 2014 12:23\nYes, also in 1.4.1 and 1.2.11 (the oldest version I can run on my machine)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2408#issuecomment-68204536.\n. bullet line then outdent it.\nYou are left with a star.\nWe should have test coverage for this, I will write the test if you can please get a patch together :)\n. @Gared should I merge this?\n. This whole logic is broken if you have multiple authors on a line and authorship colours showing.  If this is the case the method will always return true.. \\o/\n. cc @marcelklehr -- You might understand why this is so broken?\n. 1. Create a line of text as author a\n2. Access the pad as author b.  In the middle of author a's line type in some content\n3. Put the caret at the beginning or end of the span created by author b and look at the getSelectionAttr content.  \nYou will notice for every attribute it returns true.\n. This is still slightly broken by the looks of things.. Steps to replicate..\nCheck out this branch\nInstall ep_subscript_and_superscript\nType, because the caret is on the end of the author span the getAttributeOnSelection is still returning true for all attributes.  This is not the desired behaviour.\nMake sense?  If not just bump me I will explain further :)\n. oh im an idiot.\n. Lots of weird heuristics too, very much related to other OL issues, we do need to get this fixed but as we can't do test coverage of paste events it's probably going to break more than it fixes.\n. Probably due to contentcollector doing weird stuff here\n. Commenting out oldListTypeOrNull = (_enterList(state, type) || 'none'); https://github.com/ether/etherpad-lite/blob/develop/src/static/js/contentcollector.js#L557\nSolves this but probably breaks other things..\n. So it looks like if it's not chrome we should continue to execute the above line..  I will try that logic..  If we comment that line out it breaks Firefox pasting, heh\n. Ready for testing https://github.com/ether/etherpad-lite/pull/2482\n. if (isBlock) _ensureColumnZero(state); is causing this behaviour\n. cc @gared\n. Some things I noted are broken that need fixing after using this.\ncc @derosm2 \n- Toolbar dropdowns don't work (IE Settings)\n- User count is wrong\nTo replicate, use pad.switchToPad(\"whateverX\") and then test..\n. @derosm2 I fixed those two issues up for you..  I think we probably need \"some\" test coverage for this at some point..  There is a lot of moving parts that potentially could fuck up..\n. I made a plugin for this ep_switch_pad\nProvides a UI to type in a pad Id to fast switch pads.\n. Fixes https://github.com/ether/etherpad-lite/issues/2309\nTests landing soon\n. Nice thanks :)\n. More likely that travis sucks\n. I'd create as much test coverage as is possible :)\n. I cleaned up your github comments.  What's your plan with this instanbul thing Vs our test runner?\nI think doing fuzzy tests is the right method for UL testing.  Good idea :)  Do you want to add that before 1.5 and I will merge this as is?\n. I found an edge case this fails on..\nIndent an OL line to say 3 indentations in, when you export you wont get the same level of indentation..  Also I committed some export styling logic for OL that might help you w/ debug :)\nScrap the above..  This is now resolved.. \n:)\n. @mklehr could you please look at \"Requires a way of updating the users UI without a refresh (currently we nuke all Changesets so a user might think they are further into the pad)\"  I think it's because the head doesn't match that of the current pad head..  Maybe a switch pad would do it?  <-- nm, I sorted this\n. Ready for testing :)  Thanks!\n. @marcelklehr I'd take that filter if you can pop it in please :)\n. yeah sounds like a plugin\n. Also I haven't updated beta.etherpad.org in quite a few days.\n. Unable to replicate on beta.etherpad.org, can you see if you can still replicate and if you can re-open this issue?\n. @marcelklehr still failing tests..  \n/tests/frontend/?grep=indentation.js\n. indent line\ntype something\npress enter.\n. Broken by     differentiate between indents and bullets in unordered lists\ne1c683be3f47a350e6bac3146507bd2d7d7478f6\ncc @webzwo0i\n. Fixed by https://github.com/ether/etherpad-lite/commit/8eb723b90618bf186e4073254ed2b88b1c1d29a3\n. Yea it'd be fine.\n. Thanks!\n. @marcelklehr can you throw some fresh eyes at this please?  You can see the issue here: https://beta.etherpad.org/p/BnXturF23A\nor @webzw0i\n. I think I fixed this, pushed to develop.\n. Doh if selStart = selEnd false is always returned..\n. a selection can be the caret location so really we should be mindful of the previous character at this point..\n. The idea behind the above statement is that you know what attributes will be applied to the next character typed.\n.  Thanks! :) \n. Solved.  Apologies!\n. feh\n. appears to only be an issue when embedded\n. cc @luto \n. Closing this in favor of the debug available at #2634\n. ```\n[2015-01-02 18:49:27.316] [INFO] access - [ENTER] Pad \"release-150\": Client wmrYFgRpj8yUmNqMAABG with IP \"82.41.200.220\" entered the pad\n[2015-01-02 18:49:27.357] [ERROR] console - Error: Failed assertion: mismatched composition of two changesets\n    at Object.error (/home/jose/etherpad-lite/src/static/js/Changeset.js:39:11)\n    at Object.assert (/home/jose/etherpad-lite/src/static/js/Changeset.js:53:13)\n    at Object.exports.compose (/home/jose/etherpad-lite/src/static/js/Changeset.js:1319:11)\n    at /home/jose/etherpad-lite/src/node/handler/PadMessageHandler.js:1636:31\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:610:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:249:17\n    at iterate (/home/jose/etherpad-lite/src/node_modules/async/lib/async.js:149:13)\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:160:25\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:251:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:615:34\n[2015-01-02 18:49:27.358] [INFO] console - graceful shutdown...\n[2015-01-02 18:49:27.386] [INFO] ueberDB - Flushed 3 values\n[2015-01-02 18:49:27.424] [ERROR] console - Error while handling a changeset request for Test { [Error: Failed assertion: mismatched apply: 18 / 16] easysync: true }\nAsync Stacktrace:\n    at /home/jose/etherpad-lite/src/node/handler/PadMessageHandler.js:1514:8\n    at /home/jose/etherpad-lite/src/node/handler/PadMessageHandler.js:1462:16\n    at /home/jose/etherpad-lite/src/node/handler/PadMessageHandler.js:1573:8\n    at /home/jose/etherpad-lite/src/node/handler/PadMessageHandler.js:1554:14\n    at /home/jose/etherpad-lite/src/node/db/Pad.js:216:8\nError: Failed assertion: mismatched apply: 18 / 16\n    at Object.error (/home/jose/etherpad-lite/src/static/js/Changeset.js:39:11)\n    at Object.assert (/home/jose/etherpad-lite/src/static/js/Changeset.js:53:13)\n    at Object.exports.applyToText (/home/jose/etherpad-lite/src/static/js/Changeset.js:915:11)\n    at Object.exports.applyToAText (/home/jose/etherpad-lite/src/static/js/Changeset.js:1618:22)\n    at /home/jose/etherpad-lite/src/node/db/Pad.js:206:29\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:610:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:249:17\n    at iterate (/home/jose/etherpad-lite/src/node_modules/async/lib/async.js:149:13)\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:160:25\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:251:21 { start: 2000, granularity: 10, requestID: 49419 }\n[2015-01-02 18:49:27.460] [WARN] message - Dropped message cause of bad permissions:{\"type\":\"COLLABROOM\",\"component\":\"pad\",\"data\":{\"type\":\"cursor\",\"action\":\"cursorPosition\",\"locationY\":8,\"locationX\":67,\"padId\":\"mkJRDKgaFP\",\"myAuthorId\":\"a.1QX931JRONhjoCbO\"}}\n```\n. Worst of all we're hitting crashes w/ out stack traces...\n. cc @marcelklehr \n. Haha yeah don't debug there please!\nCrash was caused by a plugin I'm working on.\n----- Reply message -----\nFrom: \"webzwo0i\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] Error while handling a changeset request for test { [Error: Failed assertion: mismatched apply: 18 / 16] easysync: true (#2430)\nDate: Wed, Jan 7, 2015 03:32\ni tried to debug this, but i think i crashed beta.etherpad.org... i am so sorry, could you paste the stacktrace? happens at revision 85 in pad \"test\", so i would look at this specific changeset\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2430#issuecomment-68974595.\n. Scrap that this never actually landed.\n. I have been unable to reproduce this so far ;\\\n. Ah, I See.  Thanks!\n. @kaystrobach sounds like your problem is unrelated to this issue, please create a new issue.  .etherpad imports don't touch abiword.\nWhen you create your issue please try to be verbose and include exact steps to replicate.  Thanks!\n. @BlackyFox can you provide steps to replicate?\n. How do you actually crash the server though?  Or is that message just visible when you control c the running process?\n. Can you try to remove plugins until you discover which one is causing the crash?  \nI would guess it's ep_tables2 but that's only a guess..\n. @BlackyFox then no need for you to contribute any further at this point, thanks though :)\n@kaystrobach can you provide steps to replicate a crash and a copy of the crash report?\n. Do a clean install\n----- Reply message -----\nFrom: \"SPQRInc\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Error \"Something bad happened\" (#2435)\nDate: Sun, Jan 4, 2015 14:42\nI installed etherpad-lite on Debian 7 - I also configured NPM and Node.js, but if I try to open etherpad, I'm getting this error:\n{ \"error\": \"Sorry, something bad happened!\" }\nOn the console I'm getting:\netherpad@pad:~/local/etherpad/etherpad-lite$ bin/run.sh\nEnsure that all dependencies are up to date... If this is the first time you have run Etherpad please be patient.\nnpm WARN package.json async-stacktrace@0.0.2 No repository field.\nnpm WARN package.json channels@0.0.4 No repository field.\nnpm WARN package.json tinycon@0.0.1 No repository field.\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nEnsure custom css/js files are created...\nStarted Etherpad...\n[2015-01-04 09:28:17.369] [INFO] console - Installed plugins: ep_etherpad-lite\n[2015-01-04 09:28:17.384] [INFO] console - Your Etherpad git version is e2ea82fhttps://github.com/ether/etherpad-lite/commit/e2ea82f8df23f7ba68b5873024ddef178748c8c9\n[2015-01-04 09:28:17.385] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2015-01-04 09:28:17.499] [INFO] console - You can access your Etherpad instance at http://5.104.111.151:9001/\n[2015-01-04 09:28:17.500] [WARN] console - Admin username and password not set in settings.json. To access admin please uncomment and edit 'users' in settings.json\n[2015-01-04 09:28:26.339] [ERROR] console - ReferenceError: ejs:1\n1| <% e._init(buf); %><%\n2| var settings = require(\"ep_etherpad-lite/node/utils/Settings\");\n3| %>\n4| <!doctype html>\nbuf is not defined\nat eval (eval at (/opt/etherpad/local/etherpad/etherpad-lite/src/node_modules/ejs/lib/ejs.js:281:12), :2:8000)\nat /opt/etherpad/local/etherpad/etherpad-lite/src/node_modules/ejs/lib/ejs.js:307:17\nat Object.exports.render (/opt/etherpad/local/etherpad/etherpad-lite/src/node_modules/ejs/lib/ejs.js:166:13)\nat Object.exports.require (/opt/etherpad/local/etherpad/etherpad-lite/src/node/eejs/index.js:122:17)\nat /opt/etherpad/local/etherpad/etherpad-lite/src/node/hooks/express/specialpages.js:15:19\nat callbacks (/opt/etherpad/local/etherpad/etherpad-lite/src/node_modules/express/lib/router/index.js:164:37)\nat param (/opt/etherpad/local/etherpad/etherpad-lite/src/node_modules/express/lib/router/index.js:138:11)\nat pass (/opt/etherpad/local/etherpad/etherpad-lite/src/node_modules/express/lib/router/index.js:145:5)\nat Router._dispatch (/opt/etherpad/local/etherpad/etherpad-lite/src/node_modules/express/lib/router/index.js:173:5)\nat Object.router (/opt/etherpad/local/etherpad/etherpad-lite/src/node_modules/express/lib/router/index.js:33:10)\n[2015-01-04 09:28:26.422] [INFO] ueberDB - Flushed 1 values\n^C[2015-01-04 09:29:13.354] [INFO] console - graceful shutdown...\n[2015-01-04 09:29:13.433] [INFO] console - db sucessfully closed.\nAny idea, what I can do here to solve this?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2435.\n. Yeah I know and something went wrong so try again\n----- Reply message -----\nFrom: \"SPQRInc\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] Error \"Something bad happened\" (#2435)\nDate: Sun, Jan 4, 2015 14:50\nHi John,\nit was a clean install :-(\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2435#issuecomment-68635266.\n. Use the official docs please.  If the problem still persists while using these docs let us know\n. I just tried building from develop and master and it's working fine, windows, centos and debian.\n. Okay what the fsck...\nWas developing plugins, restarted maybe 50 times and then this suddenly came up..  No updates or anything..\n```\n[2015-01-04 20:49:55.595] [ERROR] console - ReferenceError: ejs:1\n\n\n1| <% e._init(buf); %><%\n    2|   var settings = require(\"ep_etherpad-lite/node/utils/Settings\")\n    3|     , hooks = require('ep_etherpad-lite/static/js/pluginfw/hooks')\n    4|     , langs = require(\"ep_etherpad-lite/node/hooks/i18n\").availableLangs\n\n\nbuf is not defined\n    at eval (eval at  (/home/jose/etherpad-lite/src/node_modules/ejs/lib/ejs.js:281:12), :2:21291)\n    at /home/jose/etherpad-lite/src/node_modules/ejs/lib/ejs.js:307:17\n    at Object.exports.render (/home/jose/etherpad-lite/src/node_modules/ejs/lib/ejs.js:166:13)\n    at Object.exports.require (/home/jose/etherpad-lite/src/node/eejs/index.js:122:17)\n    at /home/jose/etherpad-lite/src/node/hooks/express/specialpages.js:40:19\n    at callbacks (/home/jose/etherpad-lite/src/node_modules/express/lib/router/index.js:164:37)\n    at param (/home/jose/etherpad-lite/src/node_modules/express/lib/router/index.js:138:11)\n    at paramCallback (/home/jose/etherpad-lite/src/node_modules/express/lib/router/index.js:150:30)\n    at /home/jose/etherpad-lite/src/node/hooks/express/padurlsanitize.js:27:11\n    at /home/jose/etherpad-lite/src/node/db/PadManager.js:217:9\n```\nNo updates etc..  I will investigate..\n. Caused by https://github.com/mde/ejs\n. As a temporary fix change src/packages.json ejs to version 1..  The author of EJS dropped the ball here.\n. @mbe is taking a look now, should hopefully have a fix in ASAP..  Sorry if I was a bit abrupt..\n. Excellent thanks :)  Yea you are right we shouldn't depend on internals, any chance you can expose our solution as something graceful?\nRE Semver, how about I set it as ~2.0.0 and we can be your guinea pigs? :)\n. @mde @redhog wrote the code and it's pretty old now so it's probable the API endpoints didn't exist when we did our implementation!\n. @mde The shim stopped plugins from displaying\n. @baptistedonaux go for it, the release docs are on the wiki, anyone can do it :)  I'd take a 1.5.1 to keep things simple\n. @baptistedonaux how's that release coming along? \n. Reopened with the hope @mde gets a solid fix in and we can bump..\n. @jmkolbe can you please do that?\n. @mde all you will need is : https://github.com/ether/etherpad-lite/blob/develop/src/node/eejs/index.js and the examples directory: https://github.com/ether/etherpad-lite/tree/develop/src/node/eejs/examples -- this should give you enough insight to get a proper \"feature\" into ejs so we don't have to hack into the internals?\n. For now we have a hack in place, using __output instead of buf.\n. https://github.com/ether/etherpad-lite/commit/acc1a0626a71fa78d9e743abe3188dd9bc91cf9f is our commit for the hack we did\n. Did you try\nbin/cleanRun.sh\n?\nOn 28 May 2015 16:10, gulaschskanone notifications@github.com wrote:\nHello guys,\nafter checkout release/1.5.6 (from release/1.5.2) we got almost the same error:\n\n[2015-05-28 16:56:51.320] [ERROR] console - ReferenceError: ejs:1\n1| <% e._init(__output); %><%\n2| var settings = require(\"ep_etherpad-lite/node/utils/Settings\");\n3| %>\n4| <!doctype html>\n__output is not defined\n[...]\nand\n\n[2015-05-28 16:54:22.709] [ERROR] console - TypeError: undefined is not a function\nat /opt/etherpad-lite/src/node/hooks/express/specialpages.js:63:9\nat callbacks (/opt/etherpad-lite/src/node_modules/express/lib/router/index.js:164:37)\nat param (/opt/etherpad-lite/src/node_modules/express/lib/router/index.js:138:11)\nat pass (/opt/etherpad-lite/src/node_modules/express/lib/router/index.js:145:5)\nat Router._dispatch (/opt/etherpad-lite/src/node_modules/express/lib/router/index.js:173:5)\nat Object.router (/opt/etherpad-lite/src/node_modules/express/lib/router/index.js:33:10)\nat next (/opt/etherpad-lite/src/node_modules/express/node_modules/connect/lib/proto.js:194:15)\nat next (/opt/etherpad-lite/src/node_modules/express/node_modules/connect/lib/proto.js:169:78)\nat next (/opt/etherpad-lite/src/node_modules/express/node_modules/connect/lib/proto.js:169:78)\nat next (/opt/etherpad-lite/src/node_modules/express/node_modules/connect/lib/proto.js:169:78)\nFrontend error:\n{\n\"error\": \"Sorry, something bad happened!\"\n}\nPlugins are uninstalled and etherpad was restarted.\nDid anyone know the solution?\nThe package.json contains \"ejs\" : \"2.3.1\",\nShould we do anything else after git checkout?\nThanks for reading.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2437#issuecomment-106390566.\n. Try with minify set to false do you still get useless bug reports?\n. Tbh I develop most plugins and really don't have a problem debugging, it's a pita but it seems to work pretty well for me ;\\\n. This is an easy one to debug.  The editor was in an iframe and they hit an issue with applying changesets, we already have an open issue for this... \n. If you did want to open a Pull request with better debug output I'd be happy to take a look :)\n. Please test this pull request and let us know if it solves it or not: https://github.com/Pita/ueberDB/pull/71\n. @LaKing any luck?\n. Go for it!\n. Thanks! :) \n. Sounds like a plugin issue not an etherpad issue, take a look through some of my plugins for reference you will notice they work fine.\n. Thanks!  I will be doing another plugin issue sweep next week hopefully :)  Bounties are welcome!\n. They work fine.\n. Try restart etherpad\n. I wonder if it's the ejs patch..  @mde\n. Yea it's because of eejs cc @mde\n. I'm gonna roll back ejs requirement to 1 until @mde gets chance to fix :)\n. I don't\n. Pull the latest develop now and try that.\n. What does this fix?\n----- Reply message -----\nFrom: \"Jan-Erik Rediger\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Removed useless use of cat and fixed a typo in command (#2447)\nDate: Thu, Jan 8, 2015 11:54\n\nYou can merge this Pull Request by running\ngit pull https://github.com/badboy/etherpad-lite patch-1\nOr view, comment on, or merge it at:\nhttps://github.com/ether/etherpad-lite/pull/2447\nCommit Summary\n-   Removed useless use of cat and fixed a typo in command\nFile Changes\n-   M bin/installDeps.shhttps://github.com/ether/etherpad-lite/pull/2447/files#diff-0 (4)\nPatch Links:\n-   https://github.com/ether/etherpad-lite/pull/2447.patch\n-   https://github.com/ether/etherpad-lite/pull/2447.diff\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/pull/2447.\n. tnx\n. Please provide some example HTML we can use as a reference.  Thanks!  Ideally a very basic test case IE\n<ul>\n  <li class=foo>hello</li>\n</ul>\n. Thanks @webzwo0i  =)\n. fwiw we can't do test coverage of paste events :(\n. bullet afaik..  Good question though\n. Yea I think having some copy/paste direct selenium tests makes sense, at the moment we use a javascript wrapper so we can write tests in JS.  I'd like to keep the tests written that way so it's easier for people to write tests but certainly having some direct selenium tests makes sense!\n. @lid2000 I pulled to develop, let us know if it works :)\n. Thanks! :)\n. contact@etherpad.org\n. @ihave2p I replied to you via email but didn't get a response.  Bumping you here.\n. not had it yet ;\\  scrap that I have it :) Thanks\n. Sorted, tnx\n. Perfect, thanks!\n. Oh good point mde, I will test that now\n. it should...\n. Ah damn no it doesn't ;(  Plugins still not showing up..  I should really have test coverage for that...\n. Yea let's revert for now, hopefully @mde can get a perma fix in :)\n. Yea this makes sense, can you make the change and hit the server with some tests to see if it still errors?\n. Yea so it should exist, I can test some other edge tests once it's merged.\n. @webzwo0i where you able to get this fix in?\n. @webzwo0i can this be closed buddy?\n. Thanks!\n. @marcelklehr @webzwo0i @dmitryuv any ideas on this one?\n. @dmitryuv any tips for where I might get value from adding debug or which part/lines to wrap in a try catch?\n. Yea that's where I put it, let's see if we get an exception within the next 24 hours.\n. Does this help?\ncs2:Z:2km>1|h=247=gd*0|1+1$\npool:[object Object]unpacked1:[object Object]unpacked2:[object Object]\n    at Object.error (/home/jose/etherpad-lite/src/static/js/Changeset.js:39:11)\n    at Object.assert (/home/jose/etherpad-lite/src/static/js/Changeset.js:54:13)\n    at Object.exports.compose (/home/jose/etherpad-lite/src/static/js/Changeset.js:1320:11)\n    at /home/jose/etherpad-lite/src/node/handler/PadMessageHandler.js:1635:31\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:610:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:249:17\n    at iterate (/home/jose/etherpad-lite/src/node_modules/async/lib/async.js:149:13)\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:160:25\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:251:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:615:34\n [31m[2015-02-03 17:13:56.825] [ERROR] console -  [39mERROR { oldLen: 3476,\n  newLen: 3428,\n  ops: '|32=2n5|2-r-m*a|1+1',\n  charBank: '\n' }\n[2015-02-03 17:13:56.825] [ERROR] console - ERROR { oldLen: 3476,\n  newLen: 3428,\n  ops: '|32=2n5|2-r-m*a|1+1',\n  charBank: '\n' }\n [31m[2015-02-03 17:13:56.826] [ERROR] console -  [39mError: Failed assertion: [object Object][object Object]mismatched composition of two changesets..... cs1:Z:2ok<1c|32=2n5|2-r-m*a|1+1$\ncs2:Z:2mc>6|j=2km=13*5+6$ with pool:[object Object]unpacked1:[object Object]unpacked2:[object Object]\n    at Object.error (/home/jose/etherpad-lite/src/static/js/Changeset.js:39:11)\n    at Object.assert (/home/jose/etherpad-lite/src/static/js/Changeset.js:54:13)\n    at Object.exports.compose (/home/jose/etherpad-lite/src/static/js/Changeset.js:1320:11)\n    at /home/jose/etherpad-lite/src/node/handler/PadMessageHandler.js:1635:31\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:610:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:249:17\n    at iterate (/home/jose/etherpad-lite/src/node_modules/async/lib/async.js:149:13)\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:160:25\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:251:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:615:34\n[2015-02-03 17:13:56.826] [ERROR] console - Error: Failed assertion: [object Object][object Object]mismatched composition of two changesets..... cs1:Z:2ok<1c|32=2n5|2-r-m*a|1+1$\ncs2:Z:2mc>6|j=2km=13*5+6$ with pool:[object Object]unpacked1:[object Object]unpacked2:[object Object]\n    at Object.error (/home/jose/etherpad-lite/src/static/js/Changeset.js:39:11)\n    at Object.assert (/home/jose/etherpad-lite/src/static/js/Changeset.js:54:13)\n    at Object.exports.compose (/home/jose/etherpad-lite/src/static/js/Changeset.js:1320:11)\n    at /home/jose/etherpad-lite/src/node/handler/PadMessageHandler.js:1635:31\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:610:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:249:17\n    at iterate (/home/jose/etherpad-lite/src/node_modules/async/lib/async.js:149:13)\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:160:25\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:251:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:615:34\n. changeset 1 = Z:2ok<1c|32=2n5|2-r-m*a|1+1$ \nchangeset 2 = Z:2mc>6|j=2km=13*5+6$\nDoes that help?\n. That's a great idea..  I will get onto this now.\n. That select didn't show anything, perhaps it wasn't written to the database as it failed?\nI did however notice this...\n```\nmysql> SHOW FULL COLUMNS FROM store;\n+-------+--------------+-------------------+------+-----+---------+-------+---------------------------------+---------+\n| Field | Type         | Collation         | Null | Key | Default | Extra | Privileges                      | Comment |\n+-------+--------------+-------------------+------+-----+---------+-------+---------------------------------+---------+\n| key   | varchar(100) | utf8_general_ci   | NO   | PRI |         |       | select,insert,update,references |         |\n| value | longtext     | latin1_swedish_ci | NO   |     | NULL    |       | select,insert,update,references |         |\n+-------+--------------+-------------------+------+-----+---------+-------+---------------------------------+---------+\n2 rows in set (0.01 sec)\nmysql> alter table store convert to character set utf8 \n    -> ;\nQuery OK, 632400 rows affected (14.14 sec)\nRecords: 632400  Duplicates: 0  Warnings: 0\nmysql> SHOW FULL COLUMNS FROM store;\n+-------+--------------+-----------------+------+-----+---------+-------+---------------------------------+---------+\n| Field | Type         | Collation       | Null | Key | Default | Extra | Privileges                      | Comment |\n+-------+--------------+-----------------+------+-----+---------+-------+---------------------------------+---------+\n| key   | varchar(100) | utf8_general_ci | NO   | PRI |         |       | select,insert,update,references |         |\n| value | longtext     | utf8_general_ci | NO   |     | NULL    |       | select,insert,update,references |         |\n+-------+--------------+-----------------+------+-----+---------+-------+---------------------------------+---------+\n2 rows in set (0.00 sec)\nmysql> \n```\nNote the encoding type.. \n. @webzwo0i any idea how to get the padId knowing that the select dosen't work?\n. mysql> SELECT * from store where value like '%14229836%';\n| globalAuthor:a.t1UvAkTn7PeXHlSJ | {\"colorId\":\"#c7ffff\",\"name\":\"The Dude\",\"timestamp\":1422983653274,\"padIDs\":{\"Oe34\":1}}                       |\n| globalAuthor:a.Yh2o5JlEknI3EQXJ | {\"colorId\":30,\"name\":null,\"timestamp\":1422983656630}                                                        |\n| globalAuthor:a.i5PJ6uwmgebl49fJ | {\"colorId\":\"#c1d9a9\",\"name\":\"Enshael\",\"timestamp\":1422983655166,\"padIDs\":{\"w8oKkU3veX\":1}}                  |\n| globalAuthor:a.o9oTHhtrsJ7C8Oum | {\"colorId\":\"#c7ff8f\",\"name\":\"Piero\",\"timestamp\":1422983652604,\"padIDs\":{\"Andrea\":1}}                        |\n| globalAuthor:a.83R4Mq0IeoTVH79n | {\"colorId\":\"#a979d9\",\"name\":\"\",\"timestamp\":1422983658791}                                                   |\n| globalAuthor:a.RG3JjZgfWJtlOZ1I | {\"colorId\":\"#e3c7ff\",\"name\":\"\",\"timestamp\":1422983657794,\"padIDs\":{\"test\":1}}                               |\n| pad:Andrea:revs:1560            | {\"changeset\":\"Z:1sd>0|7=96*a|9=ji*a=3h$\",\"meta\":{\"author\":\"a.OlKoCpEnf9TTRFNY\",\"timestamp\":1422983611734}}  |\n| pad:Andrea:revs:1561            | {\"changeset\":\"Z:1sd>0|i=w7*a|3=2h*a=27$\",\"meta\":{\"author\":\"a.OlKoCpEnf9TTRFNY\",\"timestamp\":1422983618266}}  |\n| pad:Andrea:revs:1562            | {\"changeset\":\"Z:1sd>0|n=13o*a|1=23*a=25$\",\"meta\":{\"author\":\"a.OlKoCpEnf9TTRFNY\",\"timestamp\":1422983623826}} |\n| pad:Andrea:revs:1563            | {\"changeset\":\"Z:1sd>0|u=1bx*a|4=8e*a=22$\",\"meta\":{\"author\":\"a.OlKoCpEnf9TTRFNY\",\"timestamp\":1422983628596}} |\n| pad:Andrea:revs:1564            | {\"changeset\":\"Z:1sd>0|13=1ny*a|2=1o*a=t$\",\"meta\":{\"author\":\"a.OlKoCpEnf9TTRFNY\",\"timestamp\":1422983636077}} |\n. last one was 2 hours ago:\n```\n' }\n[2015-02-04 08:42:45.477] [ERROR] console - ERROR { oldLen: 689,\n  newLen: 693,\n  ops: '|4=3bbf|4+4fg=1|1=71b=1|1=l*1c=1',\n  charBank: '\n' }\n [31m[2015-02-04 08:42:45.478] [ERROR] console -  [39mError: Failed assertion: [object Object][object Object]mismatched composition of two changesets..... cs1:Z:j5>4|4=3bbf|4+4fg=1|1=71b=1|1=l*1c=1$\ncs2:Z:hl<1|e=65=17-1$pool:[object Object]unpacked1:[object Object]unpacked2:[object Object]\n    at Object.error (/home/jose/etherpad-lite/src/static/js/Changeset.js:39:11)\n    at Object.assert (/home/jose/etherpad-lite/src/static/js/Changeset.js:54:13)\n    at Object.exports.compose (/home/jose/etherpad-lite/src/static/js/Changeset.js:1320:11)\n    at /home/jose/etherpad-lite/src/node/handler/PadMessageHandler.js:1635:31\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:610:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:249:17\n    at iterate (/home/jose/etherpad-lite/src/node_modules/async/lib/async.js:149:13)\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:160:25\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:251:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:615:34\n[2015-02-04 08:42:45.478] [ERROR] console - Error: Failed assertion: [object Object][object Object]mismatched composition of two changesets..... cs1:Z:j5>4|4=3bbf|4+4fg=1|1=71b=1|1=l*1c=1$\ncs2:Z:hl<1|e=65=17-1$pool:[object Object]unpacked1:[object Object]unpacked2:[object Object]\n    at Object.error (/home/jose/etherpad-lite/src/static/js/Changeset.js:39:11)\n    at Object.assert (/home/jose/etherpad-lite/src/static/js/Changeset.js:54:13)\n    at Object.exports.compose (/home/jose/etherpad-lite/src/static/js/Changeset.js:1320:11)\n    at /home/jose/etherpad-lite/src/node/handler/PadMessageHandler.js:1635:31\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:610:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:249:17\n    at iterate (/home/jose/etherpad-lite/src/node_modules/async/lib/async.js:149:13)\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:160:25\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:251:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:615:34\n```\nthere was a restart at 2am (9 hours ago) but it failed to send me a stack trace\n@webzwo0i the pad:test:revs sql output of SELECT * from store wherekeylike \"%pad:test:revs%\"; is 5673 rows..  Are you sure you want that much or do you want to use a different padId?\n. Email sent.\n. None of the plugins on beta.etherpad.org write directly to the database FWIW\n. Just use three back ticks to represent a code block, I keep modifying your comments using these ;)  Yuo can just click the pencil to see how I do it!\n. @webzwo0i Note that none of these are in the atext:\n``\nmysql> select * fromstorewherevalue` like '%\\n%' limit 1;\n+-----------------------------------------+-------------------------------------------------------------------------------+\n| key                                     | value                                                                         |\n+-----------------------------------------+-------------------------------------------------------------------------------+\n| sessionstorage:5jXsdrUPQAGcgNrsuc6JtH1Z | {\"cookie\":{\"path\":\"/\",\"_expires\":null,\"originalMaxAge\":null,\"httpOnly\":true}} |\n+-----------------------------------------+-------------------------------------------------------------------------------+\n1 row in set (0.00 sec)\nmysql> select * from store where value like '%\\%\"' limit 1; \nEmpty set (1.00 sec)\nmysql> select * from store where value like '%\\\\%\"' limit 1;\n+-----------------------+----------------------------------+\n| key                   | value                            |\n+-----------------------+----------------------------------+\n| custom_style_css_test | \".test{\\n  margin-left:20px;\\n}\" |\n+-----------------------+----------------------------------+\n1 row in set (0.10 sec)\n```\n. 22 minutes ago\n```\n' }\n[2015-02-04 15:40:27.046] [ERROR] console - ERROR { oldLen: 689,\n  newLen: 693,\n  ops: '|4=3bbf|4+4fg=1|1=71b=1|1=l*1c=1',\n  charBank: '\n' }\n [31m[2015-02-04 15:40:27.047] [ERROR] console -  [39mError: Failed assertion: [object Object][object Object]mismatched composition of two changesets..... cs1:Z:j5>4|4=3bbf|4+4fg=1|1=71b=1|1=l*1c=1$\ncs2:Z:hl<1|e=65=17-1$pool:[object Object]unpacked1:[object Object]unpacked2:[object Object]\n    at Object.error (/home/jose/etherpad-lite/src/static/js/Changeset.js:39:11)\n    at Object.assert (/home/jose/etherpad-lite/src/static/js/Changeset.js:54:13)\n    at Object.exports.compose (/home/jose/etherpad-lite/src/static/js/Changeset.js:1320:11)\n    at /home/jose/etherpad-lite/src/node/handler/PadMessageHandler.js:1635:31\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:610:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:249:17\n    at iterate (/home/jose/etherpad-lite/src/node_modules/async/lib/async.js:149:13)\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:160:25\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:251:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:615:34\n[2015-02-04 15:40:27.047] [ERROR] console - Error: Failed assertion: [object Object][object Object]mismatched composition of two changesets..... cs1:Z:j5>4|4=3bbf|4+4fg=1|1=71b=1|1=l*1c=1$\ncs2:Z:hl<1|e=65=17-1$pool:[object Object]unpacked1:[object Object]unpacked2:[object Object]\n    at Object.error (/home/jose/etherpad-lite/src/static/js/Changeset.js:39:11)\n    at Object.assert (/home/jose/etherpad-lite/src/static/js/Changeset.js:54:13)\n    at Object.exports.compose (/home/jose/etherpad-lite/src/static/js/Changeset.js:1320:11)\n    at /home/jose/etherpad-lite/src/node/handler/PadMessageHandler.js:1635:31\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:610:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:249:17\n    at iterate (/home/jose/etherpad-lite/src/node_modules/async/lib/async.js:149:13)\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:160:25\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:251:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:615:34\n```\nIf it helps I can give you access to the box?\n. @dmitryuv yea see my previous comments..  You are right though..  It could still be that as a cause of the issue..\n. @webzwo0i I think both myself and @dmitryuv have confused you here.  The issue isn't due to database encoding.\nEven with beta.etherpad.org having the correct encoding we still get the error.\nYou said you were able to replicate a crash the other night, how did you do that?\nLatest crash was 2 hours ago\ncs2:Z:hl<1|e=65=17-1$pool:[object Object]unpacked1:[object Object]unpacked2:[object Object]\n    at Object.error (/home/jose/etherpad-lite/src/static/js/Changeset.js:39:11)\n    at Object.assert (/home/jose/etherpad-lite/src/static/js/Changeset.js:54:13)\n    at Object.exports.compose (/home/jose/etherpad-lite/src/static/js/Changeset.js:1320:11)\n    at /home/jose/etherpad-lite/src/node/handler/PadMessageHandler.js:1635:31\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:610:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:249:17\n    at iterate (/home/jose/etherpad-lite/src/node_modules/async/lib/async.js:149:13)\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:160:25\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:251:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:615:34\n [31m[2015-02-07 11:07:27.687] [ERROR] console -  [39mERROR { oldLen: 2294,\n  newLen: 2310,\n  ops: '|q=1pl=23*cg+g',\n  charBank: ' ainsi que je tr' }\n[2015-02-07 11:07:27.687] [ERROR] console - ERROR { oldLen: 2294,\n  newLen: 2310,\n  ops: '|q=1pl=23*cg+g',\n  charBank: ' ainsi que je tr' }\n [31m[2015-02-07 11:07:27.688] [ERROR] console -  [39mError: Failed assertion: [object Object][object Object]mismatched composition of two changesets..... cs1:Z:1rq>g|q=1pl=23*cg+g$ ainsi que je trcs2:Z:1sr>1|6=9j=1n*ch+1$gpool:[object Object]unpacked1:[object Object]unpacked2:[object Object]\n    at Object.error (/home/jose/etherpad-lite/src/static/js/Changeset.js:39:11)\n    at Object.assert (/home/jose/etherpad-lite/src/static/js/Changeset.js:54:13)\n    at Object.exports.compose (/home/jose/etherpad-lite/src/static/js/Changeset.js:1320:11)\n    at /home/jose/etherpad-lite/src/node/handler/PadMessageHandler.js:1635:31\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:610:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:249:17\n    at iterate (/home/jose/etherpad-lite/src/node_modules/async/lib/async.js:149:13)\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:160:25\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:251:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:615:34\n[2015-02-07 11:07:27.688] [ERROR] console - Error: Failed assertion: [object Object][object Object]mismatched composition of two changesets..... cs1:Z:1rq>g|q=1pl=23*cg+g$ ainsi que je trcs2:Z:1sr>1|6=9j=1n*ch+1$gpool:[object Object]unpacked1:[object Object]unpacked2:[object Object]\n    at Object.error (/home/jose/etherpad-lite/src/static/js/Changeset.js:39:11)\n    at Object.assert (/home/jose/etherpad-lite/src/static/js/Changeset.js:54:13)\n    at Object.exports.compose (/home/jose/etherpad-lite/src/static/js/Changeset.js:1320:11)\n    at /home/jose/etherpad-lite/src/node/handler/PadMessageHandler.js:1635:31\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:610:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:249:17\n    at iterate (/home/jose/etherpad-lite/src/node_modules/async/lib/async.js:149:13)\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:160:25\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:251:21\n    at /home/jose/etherpad-lite/src/node_modules/async/lib/async.js:615:34\n. Hrm RE mysql not being case sensitive, isn't that a huge problem then?  We would need to .toLowerCase() all padIds?\n. @webzwo0i are you sure mysql isn't case sensitive when setup using the dosc from the wiki?\nhttps://github.com/ether/etherpad-lite/wiki/How-to-use-Etherpad-Lite-with-MySQL\nhttp://stackoverflow.com/questions/15686944/mysql-case-sensitivity-for-primary-key & http://stackoverflow.com/questions/18737805/mysql-case-sensitive-in-utf8-general-ci\nIt looks like how we configure the database we shouldn't have that problem...\n. This appears to be resolved now, this is basically part of #2516 now so will be closed =) \n. How to replicate?\n. Can you replicate on http://beta.etherpad.org ?\n. Pretty sure this is a plugin or user error.  @hgillani feel free to re-open if not.\n. Hey @baptistedonaux This is a good start but there are a bunch the CHANGELOG is missing.  We also merge the changes to the ether.github.com repo at the same time if you can take a look at the release procedure it should cover those bits.\nWe also require a tagged version.. \nWe also require a version is available in release/* although I'm not sure how you'd do that :)\nGood luck!\nhttps://github.com/ether/etherpad-lite/wiki/Release-procedure is the docs you need.\n. @baptistedonaux  Getting closer :) \nSo we'd still need a release version on the ether/ repo\nWe'd also need docs ready to go.\nAlso the binaries need making.\nTake a look through the docs again please..  \nhttps://github.com/ether/etherpad-lite/wiki/Release-procedure\nThanks for this btw, having someone who can help doing releases will be massive for us if you can find the time!\n. @baptistedonaux you might want to pull again to version for release :)\n. @baptistedonaux any progress?\n. @baptistedonaux please read https://github.com/ether/etherpad-lite/wiki/Release-procedure\n. Feel free to fix by adding a check for io.js\nThanks!\n----- Reply message -----\nFrom: \"nemetz\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] io.js (#2458)\nDate: Fri, Jan 16, 2015 12:16\nThe npm and node version checks dont let etherpad run in io.js. I had to remove these checks manually from the code.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2458.\n. Tnx\n. +1 @Gared \n@nemetz please put forward a better fix that doesn't throw up an error...\n. @nemetz are you going to get this done?\n. Sounds like contentcollector stuff, will self assign \n. Confirmed.  @MarkTraceur ;)\n. Fixed:    3c692fa..83fae22  develop -> develop\nTest coverage would be nice if someone wants to do that but it's no big deal.\n. Waiting on https://github.com/ether/etherpad-lite/pull/2457 to be resolved.\nIf you want a quick fix just pull develop :)\n. n1 I have been meaning to fix this for ages..\nI also suggest we drop infinite scrolling, it causes more problems than it solves and it's really easy to remove :)  Fancy doing that while you are in these files?  \nThe other thing is maybe moving the pluginfw code into the right location..  At the moment client/server code is in static/js and this is confusing..\n. I suggest we put an SSL Cert on this request as the next step.\n. After polish it needs tests..\n. Please see this http://mclear.co.uk/2015/01/15/how-to-write-a-bug-report-for-dummies/\n. Do you get any errors in your javascript console?  Can you bisect to see if it's a regression?  Do you know anyone else with IE11 that can confirm this bug isn't specific to just your machine?\n. Problem didn't exist in 1.3 or 1.4\n. looks like it's caused by 3ca48ed97572b5ca697f8206df2d7bc3db61b4cc\n. @marcelklehr I'm a bit baffled by this..  browser.msie seems to be functioning properly..\n. Found somethign..  This is where the fault is:\nhttps://github.com/ether/etherpad-lite/blob/develop/src/static/js/domline.js#L222\n. I have no idea what I'm missing here..  the browser change should a straight swap out.. :|  I made a PR with some other issues I spotted while looking through but it doesn't fix the main issue which is IE is basically broken right now ;\\\nhttps://github.com/ether/etherpad-lite/compare/ie-fix-backspace?expand=1\n. Very bad bodge fix in place, needs work https://github.com/ether/etherpad-lite/pull/2471\n. Undo still broken, I need to get to the real cause of the issue to resolve this.\n. All solved, but older IE versions may be still broken.  I don't have the ability to test older IE right now..  Obviously Emulation is not an option, that shit is a joke.\n. @liuliming2008 well we don't take bug reports for plugins here.  Please create a bug report for ep_comments_page on the github repo for that plugin!  Did you test more than IE11?\n. @eldiddio can you please test IE 8,9 and 10 and let me know?\n. I Fixed this btw, should be fine in 1.5.6\n. Does anyone else experience this?\n. @eldiddio can you please test this?\n. @eldiddio I'm coming into your office for lunch today, can you have an IE11 laptop available for me to replicate?  I can use my own EP dev environment and point the laptop at that.\n. browserSelection.addRange(range); at 4708 of ace2_inner.js is the cause.  It's redrawing the selection when a select is focused, this is wrong.\n. Commenting .addRange out will stop the caret from existing fully in IE, heh\n. So my investigations have discovered that the IE team changed the behavior of the addRange method to always draw focus back to the target element.  This is an IE change of behavior that sort of screws us a bit..    The weird thing is if focus is in #myusernameedit then focus isn't lost, this element is also an input outside of the editor.  I don't remember adding any specific logic for event handling for this element..  I will continue to investigate.\n. Normal text input fields are not affected by this bug.\n. A possible fix is to have a hidden text input field that on a select click event the focus is drawn to this element.\nIt's ghetto as but it works around the problem of IE11 team changing addRange behavior..  The problem with this fix is that selection visibility will be lost to the end user, so they wont be able to see which text they are selecting..\nI did try this hacky attempt but the focus taken to the input means the select loses focus and you can't use JS to open a select..\n. This was fixed in Edge.. This is 2015, browsers have javascript enabled.\nThere are risks of serving up plain documents too.\nThis is already mostly handled by this plugin: https://github.com/JohnMcLear/ep_offline_edit\nIf you want more specific functionality feel free to make a plugin for it, it doesn't need an issue here though.\n. Use bin/run.sh\n. I launched it while in the bin directory, so ./run.sh is actually bin/run.sh. So that's precisely the script that's having a problem. Sorry for not making this clear. \nThis is plain wrong.  Do what I said.\n. lulwut.  I dunno dude post to the mailing list or hire someone to help you out.  This isn't a software problem.\nError: EACCES, readdir '/www/hq/etherpad-lite' means you are doing something really badly wrong.\n. Post on plugin not here.  Thanks\n. Please provide more info, see: http://mclear.co.uk/2015/01/15/how-to-write-a-bug-report/\n\"1. Start the server manually (e.g. node/node_modules/ep_etherpad-lite/node/server.js])\" <-- is wrong, you should use bin/run.sh\nPath is relative anyway...  \nI must be missing something as this PR doesn't seem to solve an actual problem ;\\\n. Ah this PR is for https://github.com/ether/etherpad-lite/issues/2025\n. Anyway not using bin/run.sh will present a set of problems so you should use the settings CLI option IE\nbin/run.sh --settings foo/var/la.json\nAnd set the database path absolute in the settings file..  Peep https://github.com/ether/etherpad-lite#tweak-the-settings\n. Please read this: http://mclear.co.uk/2015/01/15/how-to-write-a-bug-report/ - we need a lot more information so we can help you.  Also please test the develop branch, the master branch is unstable.  @Gared is working on getting a release ready.\n. The .etherpad file is the cause right?  Might make sense to provide that? :P\nI have a pretty good idea what it is (see the error), looks like the author array is empty for some reason.  Should be a 2 second fix once I have the .etherpad file\n. That's fine, email is fine :)\n. Imported fine for me here on latest develop\n. Looks like maybe the author exists but he has no padIDs or something\n. in ImportEtherpad.js replace\n// Does this author already exist?\n      db.get(key, function(err, author){\n        if(author){\n          // Yes, add the padID to the author..\n          author.padIDs.push(padId);\n          value = author;\n        }else{\n          // No, create a new array with the author info in\n          value.padIDs = [padId];\n        }\n      });\nWith\n// Does this author already exist?\n      db.get(key, function(err, author){\n        if(author){\n          // Yes, add the padID to the author..\nconsole.error(author);\n          author.padIDs.push(padId);\n          value = author;\n        }else{\n          // No, create a new array with the author info in\n          value.padIDs = [padId];\n        }\n      });\nAnd see what you get in console..\n. That looks wrong in your database..  nuke those rows from your database and try again..  Afaik PadIds should always be an array.  Also check your database to see if padids is an object elsewhere...\n----- Reply message -----\nFrom: \"Kay Strobach\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] Crash during import of .etherpad file (#2481)\nDate: Fri, Jan 23, 2015 14:14\n[2015-01-23 15:09:43.038] [DEBUG] ueberDB - GET - globalAuthor:a.nwpMrcILx43MLU1W - {\"colorId\":\"#e62323\",\"name\":\"KT2\",\"timestamp\":1421937776157,\"padIDs\":{\"t_kt1\":1,\"test_kt1\":1}} - from cache [2015-01-23 15:09:43.038] [INFO] console - { colorId:\n '#e62323', name: 'KT2', timestamp: 1421937776157, padIDs: { t_kt1: 1, test_kt1: 1 } } [2015-01-23 15:09:43.044] [ERROR] console - TypeError: Object # has no method 'push' at Object.callback (/export/home/etherpad-lite/builds/src/node/utils/ImportEtherpad.js:38:25)\n at /export/home/etherpad-lite/builds/src/node_modules/ueberDB/CloneAndAtomicLayer.js:100:17 at exports.database.get (/export/home/etherpad-lite/builds/src/node_modules/ueberDB/CacheAndBufferLayer.js:144:5) at doOperation as operatorFunction\n at exports.channels.emit (/export/home/etherpad-lite/builds/src/node_modules/ueberDB/node_modules/channels/channels.js:38:11) at exports.database.get (/export/home/etherpad-lite/builds/src/node_modules/ueberDB/CloneAndAtomicLayer.js:62:17) at /export/home/etherpad-lite/builds/src/node/utils/ImportEtherpad.js:34:10\n at iterate (/export/home/etherpad-lite/builds/src/node_modules/async/lib/async.js:149:13) at /export/home/etherpad-lite/builds/src/node_modules/async/lib/async.js:160:25 at /export/home/etherpad-lite/builds/src/node/utils/ImportEtherpad.js:65:5\nIMHO the problem is, that padIDs: { t_kt1: 1, test_kt1: 1 } } is an object rather than an array\nso it should be tested if that is an array and if it is an object convert it:\nvar arr = Object.keys(o).map(function(k) { return o[k] });\nhttp://stackoverflow.com/questions/20881213/converting-json-object-into-javascript-array\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2481#issuecomment-71198315.\n. Thanks! :)\n. Ugh yeah we need that block so it maintains formatting when editing.  The fix will be to edit the html on export\n. This actually needs posting on the plugin repo not here, just FYI\n. Just FWIW the PR is in, waiting on merge and release.  I can publish fix to the apps but you will need to run Etherpad develop to test them now.\n. I created a new hook to solve this problem.\nhttps://github.com/ether/etherpad-lite/pull/2487\nThe only caveat here is that the old hook set a variable and didn't append a <br> if it was used.  This new hook doesn't do that so I'm not sure what problem this solves..\n. Use like this\nexports.asyncLineHTMLForExport = function (hook, context, cb) {\n  var align = _analyzeLine(context.attribLine, context.apool);\n  if (align) {\n    cb('<div style=\"width:100%;margin:0 auto;list-style-position:inside;text-align:' + align + '\">' + context.lineContent + '</div>');\n  }\n}\nThis use case is wrong..  aCallAll returns an array of each response so basically we should return a function then process it once we have collected all functions.\n. @Gared I want to get this in for 1.5.1 \n. I tested this quite a lot and it's working well :)\n. Okay I will rewrite now\n. tnx\n. Afaik impotr doesn't overwrite the history, it creates a new state with new contents...\n. Also isn't this a duplicate of https://github.com/ether/etherpad-lite/issues/2349 ?\n. Unless you mean .etherpad import which can only be done < 10 revs of a pad..  After 10 revs import is denied.\n. Have you tried posting to the mailing list?\n. Try this @Gared \n. looks good to me :)\n. This should be a plugin\n. Security issues should go through responsible disclosure fyi.\nThis is already solved please update your instance\n. Could you please submit a PR with the writeup on disclosure?  You can send through a pull request to the etherpad.org site https://github.com/ether/ether.github.com\nThanks :)\n. tnx\n. Bumping the author of https://github.com/guyzmo/vim-etherpad seems like the right thing to do here..\n. Looks like a file system issue, does reinstalling the plugins fix it?\n. I can confirm this issue with ep_print\n. It's due to the way we do requires now, I fixed as this:\nhttps://github.com/JohnMcLear/ep_print/commit/4ee4f6d2d93b307fc084af8f0a3141d78295b450\n. using a trailing .js in your ep.json was incorrect.  I made this mistake too, just modify your ep.json to no longer include the .js in your path.  Thanks!\n. @necramirez Possibly but I have no idea how passenger works, perhaps ask some nginx people?\n. Closing as this is not an Etherpad issue.\n. if you don't want inbound access on a specific port (in this case 9001) just don't allow inbound access on that port..  \nIf you are running in a production environment usually this would be a firewall rule..  All major hosting providers would provide this option and imho it's the best way to do it...\nImho it makes no sense for us to do a software fix for this but I'm open to suggestions if you disagree.\n. Out of interests how many page requests do you get prior and post your changes?\n. I'm not willing to help you with another issue here, create a seperate issue or post to the mailing list.  Please provide exact steps to replicate your original issue so I can replicate here.\n. Don't you need to create a session?\n. Okies I will try to replicate today.\n. Oh btw I'm going to assume you are running the latest version of develop yea?\n. When I try to run your PHP script I get an error\njose@PBOH-SNUG:~/etherpad-lite$ php test.php\nPHP Notice:  Undefined variable: groupID in /home/jose/etherpad-lite/test.php on line 15\n. Your shit here is broken man..  URL to your etherpad api endpoint is wrong..  I don't think you have things set up right..  I suggest an RTFM..  Once you fix it up so it works let me know and I will test it.  I need steps to replicate that don't mean fixing your bugs.\n. Peep the docs for the client, the url you provide is incorrect..  Please double check...\n. @webzwo0i can you provide the urls you are using in wget so I can replicate?\n. @e-nemo no wonder we were getting confused, you are using a library I have never seen before..  The foundation worked with @tomnomnom on his library and that's the one we support.  The other library requires composer.  Not sure why we need two client libraries.  The other author should have just contributed to the core one..  I guess we might need to move some libraries to the /ether/ so people know they are official........\n. @e-nemo try this fix:     \nif(path === \"ep_etherpad-lite/static/js/pad.js\") path = \"ep_etherpad-lite/static/js/pad\";\nYour fix will break plugin functionality\n. @e-nemo please try the fix I proposed and let me know if it works.\n. @danneu does my proposed fix fix this?\n. Okay so I will make a PR w/ my fix in\n. I pushed a fix that is in develop\nif you still have an issue please re-open\n. @mwarner Where did you test this?\nHow can we replicate?\nPlease see our contributing guidelines for how to file a bug report :) Thanks!\n. Yea text alignment is a plugin.  I have disabled it on beta.etherpad.org, do you still get the same error??\n. https://github.com/JohnMcLear/ep_align/blob/master/templates/editbarButtons.ejs#L9 is the offending line..  Fixing now..\n. Fix pushed and new version of plugin published.  Please attempt to open the beta.etherpad.org to see if the error persists without the plugin..  If the error is gone I will put the updated plugin on and you can test again.\n. Assuming this issue is resolved due to no update from author.\n. In the future please create issues on plugin repos :) Thanks!\n. Looks good!  Please add this API call to the backend tests! :)\nhttps://github.com/ether/etherpad-lite/blob/develop/tests/backend/specs/api/pad.js\nYou could also add other tests for chat now that the backend tests can make chat messages!  That's awesome, let me know if you need help!\n. Bump @derosm2 \n. Moving here: https://github.com/ether/etherpad-lite/pull/2573\n. do not merge, will do a few tweeks first.\n. Error is bubbling up from postgres module: \nat null.<anonymous> (/home/haum/etherpad-lite/node_modules/pg/lib/client.js:158:19)\nSo I assume you are running postgres?\nYou said \"On a fresh new install\" so I assume this can't be right?  What is the reality here?\n. Tested PG and everyting is workling fine.  Suggest your db is having issues.\n. 0.12 works afaik\n----- Reply message -----\nFrom: \"webzwo0i\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] EPL crashes when editing a pad (#2511)\nDate: Fri, Feb 13, 2015 21:33\nOK, yes please come back if the error remains. Do you remember if with 0.12 it was the same error or something else?\nNode uses the following versioning: if the second number is even it means stable, if the second number is odd it means unstable. The thing that confused me is that even if you use 0.11 you should not use 0.11.0 but https://raw.githubusercontent.com/joyent/node/v0.11.16/ChangeLog\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2511#issuecomment-74330865.\n. Would also extend to other stuff that can be passed as parameters..  IE monochrome, sticky chat, language etc.\n. FWIW the reason this isn't a priority is that when Moz end up incorperating EP they will prolly use the jquery iframe embed tool which can set params hidden from users so they will probably just solve it that way...  Still this needs doing...\n. This is now possible in develop.\n. Must be an issue with proxy_set_header upgrades.  See where debugging it takes you, it will be an nginx config issue.\n. Is it possible to fix this without modifying /etc/mysql/my.cnf ?  Those modifications seem like overkill no?\n. @webzwo0i what's your progress here?\n. Okay well of you can land a fix this weekend that would be great as were looking to push a release today and on late Sunday or early Monday :)\n. Okay well of you can land a fix this weekend that would be great as were looking to push a release today and on late Sunday or early Monday :)\n. bump @webzwo0i \n. Can we please submit a PR to ueberDB and/or Etherpad w/ the UTF8 fixes? @mikkorantalainen\n. @marcelklehr @dmitryuv @Pita you guys wanna have any opinion on this?\n. I think it's good to have a history of your learning /discovery tied into a pull request.\n. Can you provide steps to reproduce this with dirtydb please ? :)\n. Dump the sql for these pads so we can debug?\nI have seen this error before btw, I had to remove the pads to fix...  I have no idea how this data gets in as UeberDB explicitly only writes sanitized JSON!\n. We still think this is due to utf8 issues, we're working on a solution =) cc @webzwo0i \n. @cboylan node runs in a single thread so when it hits an exception the stack bubbles up all the way to the top.\n. @akosiaris check your database and table encoding.\n. also bump @webzwo0i \n. Best thing I'd suggest doing right now is console logging out that padId from the pad object and killing that pad.  @webzwo0i has a fix but I'm waiting on a PR with it in so I can merge it -_-\n. btw it should be utf8mb4_bin afaik no?\n. Also let's document the commands used here for science 'n stuff\n. I made this database change on beta.etherpad.org too, I deleted all rows from table before doing it though so can't give any idea of computing time required.\n. cc @webzwo0i \n. You can't open the same pad with the same browser.  This is by design.\n. Yea it's possible it's the file size that matters, I guess using a parse JSON stream would be a solution?\n. Yea it's possible it's the file size that matters, I guess using a parse JSON stream would be a solution?\n. Apologies I don't have one handy ;\\  http://we.tl/BjO1B6vQob is something I just generated using the load test tool..  Does that do it?  If not I guess I could use the load testing tool to create something larger, let me know..\n. Okay mate gimme 15 mins will generate you some noise.\n. http://we.tl/yq0MLKQthm\n. tnx =)\n. Reverse proxying isa the correct way to do this no?\n. @e-nemo I'd welcome pull requests with alternative approaches to solving this problem.\n. Awesome thanks @ldidry can you please include backend tests with this PR?  Bump me if you need hlep writing them.  They are suppperrrr easy to write though :)  J\n. Excellent work thanks!\n. btw your tests fail\n1) getSavedRevisionsCount gets saved revisions count of Pad:\n     Error: Unable to get Saved Revisions Count\n      at /home/jose/etherpad-lite/tests/backend/specs/api/pad.js:121:37\n      at Test.assert (/home/jose/etherpad-lite/src/node_modules/supertest/lib/test.js:213:13)\n      at assert (/home/jose/etherpad-lite/src/node_modules/supertest/lib/test.js:132:12)\n      at /home/jose/etherpad-lite/src/node_modules/supertest/lib/test.js:129:5\n      at Test.Request.callback (/home/jose/etherpad-lite/src/node_modules/supertest/node_modules/superagent/lib/node/index.js:746:30)\n      at Test.<anonymous> (/home/jose/etherpad-lite/src/node_modules/supertest/node_modules/superagent/lib/node/index.js:135:10)\n      at Test.emit (events.js:95:17)\n      at IncomingMessage.<anonymous> (/home/jose/etherpad-lite/src/node_modules/supertest/node_modules/superagent/lib/node/index.js:938:12)\n      at IncomingMessage.emit (events.js:117:20)\n      at _stream_readable.js:943:16\n      at process._tickCallback (node.js:419:13)\n. Hrm, try clear your database..\nI tried to run the test using bin/backendTests.sh\n. Msut have been a glitch in the matrix, seems fine now :|\n. It is supported on develop we just haven't \"released\" a version that is.  Feel free to read the release guide and prepare a release for us to publish :)\n. I just fixed this, please update.\n. This looks good to me..  @dmitryuv @marcelklehr did you want to have any input?\n. bump @webzwo0i \n. Thanks! :)\n. Things are stable at etherpad-load-test$ etherpad-loadtest app.js -l 500 -a 5\n. Mostly solved in node 12, I don't know if we can push any further on this if I'm honest\n. Try \nrm -Rf src/node_modules\nbin/run.sh\n. Try another clean install plz.\n. build errors could be the cause.  Pretty sure we tested against node12 and it is fine though\n. @marcgebauer is your settings.json file modified at all?\n. I removed helenus from ueberdb, I don't think anyone was hardly using it anyway.\n. Everything is working fine for me on node12 op.\n. Try a clean install without changing your settings.json, it sounds like you are breaking things.\n. Closing due to lack of activity\n. Wow this is crazy clean..  Didn't expect this..  Does it work on pad \"viewers\" as well as the authors screen?\n. Wow excellent!  I will give it a test..\n. Hrm, the caret appears to jump now to the last line on delete, are you seeing that?\n. Rebase? :P\n. I see nothing but pain from this.\n. IMHO no but I'm open to other opinions\nOn 14 Mar 2015 22:38, Stefan notifications@github.com wrote:\n@JohnMcLearhttps://github.com/JohnMcLear Should we merge that?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/pull/2535#issuecomment-80746205.\n. I feel like this is fixed on develop, please try the develop branch and let me know.\n. @tombriles whenever someone does a release really, possibly when we meet in April or so..  I'd take a pull request with a release in if you wanted to go ahead and do it :)  https://github.com/ether/etherpad-lite/wiki/Release-procedure is the release procedure.\n. I think this \"might\" already be the expected behavior..\nRead your warning messages when you start Etherpad :)   Do you see any?\n. You are missing the point here, this is already the behaviour.  Read the messages that you see when you start Etherpad.\n. Tested using web client and cli client and seems fine :)\n. @marcelklehr @dmitryuv good to merge?\n. I have a feeling this will break the CLI Client.  I will test that and let you know.\n. Tested and works fine :) Thanks!\n. Please test on http://beta.etherpad.org\nPlease explain what keystokes are required on a UK keyboard for me to replicate this issue.\n. Works fine for me (English Macintosh) Alt Gr+ [ + e inserts \u00eb in FF 36 on https://beta.etherpad.org/p/31h77r9uyI\n. I tested FF 36 on Ubuntu FYI -_- ;/\n. What key do you have bound to Meta?\n. It sounds like the bug might be an OS bug if it's fine in 14.10 but not in 15.04..  I can try update my instances to 15.04 to see if I can create it..\n. ```\njose@jose-healthy:~/etherpad-lite/src/static/js$ grep -rni dead .\njose@jose-healthy:~/etherpad-lite/src/static/js$ cd ..\njose@jose-healthy:~/etherpad-lite/src/static$ grep -rni dead .\njose@jose-healthy:~/etherpad-lite/src/static$ \n```\nNo our code?\n. ace2_inner.js handles key inputs btw..  And special keys..\n. @tgirod Can you please provide exact steps to replicate?  What key press combo are you using?\n. Installing Arch linux on a VM to test.\n. Alt-does nothing for me..\nAlt E brings up the Edit menu...\n. Perhaps someone with a Spanish keyboard would be best to debug this.  I'm simply unable to replicate the problem with my current setup.\n. No need for alt gr?\n. Weirdly I can sometimes get \u00e2 to show in the editor but it's not consistent..\n. Looks like it's something inhandleKeyEventthat is preventing the expected behaviour..\n. At least this is the way to replicate this behaviour consistently.  I spent 25 mins on a fix to no avail.  Alt Gr ' e works fine..  Alt Gr ' a does not work..  *boggles.\n. Well if I do'thenaI get'aas a text string...\n. yep.\n. No I get;` afaik, that device upstairs now.\n. I tried changing each timed based event to increase by a factor of 10 and it did not make any difference which means it is something to do with a way we are handling keypresses assuming we are firing the wrong type of event on either keydown or keypress \n. This bug existed in old versions of Etherpad too so we might have to write some new logic handling.\n. Give this a go guys.. https://github.com/ether/etherpad-lite/tree/fix-dead-keys\n. Any dice anyone?\ngit checkout fix-dead-keys to get the branch! :)\n. I'd want to open a separate issue for Mac and keep that out of this one.\n. @morallo yeah I can replicate that issue.  I tried modifying all the timings that are set on key events and it doesn't effect the behaviour.  Not sure what to suggest for that right now.\nDead keys seem to work fine for me now @XoR-42 .  I tried your French example and got \u00ea which was expected.\n. looks right @tgirod I will test your stuff later today if I can\n. I'm testing w/ Mac Kb doing AltGr + e then e which should give \u00e9 and I can replicate the problem.  The weird hting is jQuery is returning false for META key...  I don't seem to get the metaKey boolean to trigger true on meta key values on any browsers..  I think I may be either on the wrong path or doing something wrong..  Can someone please test http://api.jquery.com/event.metakey/ and see if they can get it to return true?\nI think maybe there has been some confusion between dead keys and meta keys in this thread..\n. Spent some more time on this today and didn't make much progress..  Will try later in the week..\n. +1 an attribute object.  When I first started using getAttributeOnLine I expected it to return an object of applied attributes.  It is confusing.\nRE linting code, yep we're going through and doing this in small pieces as we refactor parts of the code.\nWe would welcome a pull request for objects.\nAs far as this pull request goes.. removeAttributeOnLine isn't broken for me, I'm using it fine.  What problem are you facing with it?\n. 1.  Can you please explain a situation where this was actually a problem / bug though?  Was it during plugin authorship or?  cc @marcelklehr \n2. Again, what does this actually fix?\nSorry about so many questions, I'm just a bit confused to the actual bug you are trying to solve here, perhaps you have a link to the issue that is at fault that I can refer to?\n. Have you tested this functionality with plugins such as ep_headings2 ?  Those plugins provide front end tests so you can just hitup /tests/frontend to see if it still works...\n. @cristo-rabani okay cool.  I do want your pull requests. The reason I ask so many questions is because it was unclear in your initial PR what you are fixing so I try to get an answer for reference.  Often I know but we need a track record so things are verbose...  It's not me questioning you or code it's me trying to ensure others can review and understand what is being changed and why :)  \nI understand if you don't have time to banter so if you are going to be contributing to Etherpad for a while it might make sense to give you admin on the repo (once you have gotten used to the coding conventions and used to explaining things before you merge) and then you will be able to whack your own stuff in.  I'm not controlling about this stuff I just try to ensure we're all being as coherant as possible so others find it easy to follow.  Also on our journey I might help improve your English and you might improve my JS ;)  \n@marcelklehr this is your code so if you are happy with these changes please merge them :)\n. @cristo-rabani peep what @marcelklehr wrote, looks like your code breaks core functionality :(\n. Looks good and tests okay.  The docs here were terrible and this PR was really poorly executed.  In the future please try to be more coherent with your PR's!  If in doubt just ask I'm happy to help :)\n. Thanks!\n. Please read contributing.md for style guide, your indentation looks incorrect here..?\n. Bump @cristo-rabani \n. @cristo-rabani sorry dude there are merge conflicts :!  My bad, that file is active!\nCan you please resolve the merge conflict please?\nOne thing I would like is an example snippit of the helpers being used in a plugin so others can reference this..  I'd also like to see some docs be included, contentCollectorPre is exposed to plugins so the additional functionality needs docs to land in http://etherpad.org/doc/v1.5.0/#index_collectcontentpre\nOnce we have:\n- [ ] a reference snippit (for usage)\n- [ ] Docs into http://etherpad.org/doc/v1.5.0/#index_collectcontentpre\n- [ ] Merge conflicts resolved\nThen this is good to merge\nThanks!\n. Another bump @cristo-rabani if you want to see this land...\n. Yea the documentation will need to be updated to reflect OR we will need to duplicate the object to include both styl and style..  ;\\  Duplication is probably the best way sadly..  We have no way to throw a warning on deprecated attribute usage either, I guess some sort of Etherpad plugin helper might be useful for this type of issue..\n. Won't people already be using styl if it's currently named that or is it only the docs that have it wrong?\n. Fixed.\n. I assume you are using other plugins?  That error is due to malformed HTML from (probably) a plugin.\n. Report the problem to the plugin repositories.\n. I didn't say that at all, I said this is the wrong place to report plugin issues.\n. @Flauschie Like I said...  Post on the plugin repos\n.  $(document).on(\"cut\", handleCut);\nshouldn't prevent default behavior..  \nDoes changing the function to below help?\nfunction handleCut(evt){\n  inCallStackIfNecessary(\"handleCut\", function()\n  {\n    doDeleteKey(evt);\n  });\n  return true;\n}\n. Wanna send a pull request through with that change in please?\n. This issue still exists in develop\n. @cjb I'm away this week so wont get chance to take a look, dya wanna take a look at this please?\n. Yeah I don't see preventDefault firing, confuses me too.  You want me to see if I can get it sorted?\n. For now I disabled the handleCut event..  I delved further into the code around inCallStack and I'm guessing a return false is coming from there for the event and this is stopping the clipboard from getting the contents on a cut event..  It needs further time though, more than I have today..  @cjb back over to you if you have some ideas -_-\n. Closing this and re-opening the original issue from cjb\n. Do you get this issue if you visit http://beta.etherpad.org ?\n. @eldiddio found when visiting http://beta.etherpad.org using IE11 v11.0.9600.17631 running Windows 8.1 everything worked as expected.\nWhen he changed and forced IE to use compatibility mode the website failed to load and looked like the screen shots above.\n. Closing due to lack of update from OP.\n. It should be fixed now\n. Clean your installation deps.\nrm -rf src/node_modules\nbin/run.sh\n@eldiddio can you please confirm if compat mode breaks EP?\n. \n. Um, don't you just put int certs into your public cert?   We have int certs on beta.etherpad.org..  It' just a case of appending the int cert to the public cert file and expresss handles it fine..  No need for us to add any additional logic..  Please check that @lid2000 \n. As much as this might make things neater I feel like bundles can be just um, bundled..  I just don't wanna have to maintain some functionality that can be solved with a simple cat foo >> bar\nThanks anyway though, if this issue comes up in the future at least we can point to this PR as a solution =)\n. Thanks ! :) \n. [2015-03-14 12:45:03.411] [ERROR] console - Error: listen EADDRINUSE \nIs a big clue.\nhttps://www.google.co.uk/search?client=ubuntu&channel=fs&q=listen+EADDRINUSE&ie=utf-8&oe=utf-8&gfe_rd=cr&ei=bCkEVdKcNuSCiAaY44D4AQ\nPlease try to search for answers to your questions before posting here :) Thanks!\n. Have you taken a look at other plugins such as tasklist?\n. @tm-linkwerk can this be closed now?\n. See the comments plugin?\n. @nouyang-curoverse Doing what you want will take a matter of minutes as a plugin..  Just take any plugin and modify it to apply the styling you need..  I'd suggest you call the plugin something like \"Quick highlighting\"..  If you want I can probably bash this plugin out in an hour if you want to use me as a gun for hire.\n. Yea it should be, please submit a PR with that fix =)\n. Do you have any changes to your settings.json ?\n. Try the database as another database, I have a feeling your issue is due to mysql.  Oh I just read what @webwz0i wrote..  Yea he is right about this..  This needs fixing asap.\n. I'm unable to replicate this on beta.etherpad.org\nhttps://beta.etherpad.org/p/FOORA\nhttps://beta.etherpad.org/p/foora\nHave different content..\nAnd updates are not shared...\n. I'm also unable to replicate this locally w/ MySQL set to UTF8_bin..\nCan someone please provide steps to replicate this issue?\n. Well once it's wrong, it's wrong.  One assumes the Etherpad MySQL guide wasn't properly followed during installation :|\nAny pads created while it's broken will be broken, I can't think of an easy fix.\nThis really ties into our check we need for UTF8 afaik @webzwo0i is working hard at getting a fix in ASAP so when mistakes are made we catch them.\n. You can do it on the caret location/selected range such as this: \nhttps://github.com/JohnMcLear/ep_font_size/blob/master/static/js/index.js#L63\nThis will return the value of the attribute IE if you want the font size of this selection it will return the integer associated with that font size, not just a boolean..\nThere isn't a way to get a list of all attributes on a specified range at current.  I'd welcome this functionality though =)\n. Try console.log what the ep_font_size plugin gets, use it as a point of reference.\nOh actually..  Ignore that..\nYea I check for every possible attribute..  ;\\  So yea it only returns a boolean!  Apologies for the confusion\n. I'd agree that hooks such as getAttributeValueOnSelection and getAttributesOnSelection would be useful if you wanna craft those in?\n. Cool thanks :) \n. tnx = ) \n. NodeJS or IO.JS is required.\n. tnx =)\n. registerBlockElements is responsible for handling this:\nhttps://github.com/JohnMcLear/ep_font_family/blob/master/static/js/index.js#L91\nFor example if you have <thisBlock>Hello <thatBlock>World</thatBlock></thisBlock> you would do the below..\nexports.aceRegisterBlockElements = function(){\n  return [\"thisBlock\", \"thatBlock\"];\n}\nremembering to add aceRegisterBlockElements to ep.json\n. inline attributes are block attributes.\nTry it on ep_font_size you will see it functioning properly.\n. Bummer ;( try to make your logic apply the same as font size then?\n. Controls is the editbar.  https://beta.etherpad.org/p/foo?showControls=false  - it looks like it's broken ;\\\n. I need to fix the bug, sit tight\n. Bug fixed. \n. Yes, this plugin does this, use it as a reference point: https://github.com/tykeal/ep_ldapauth/blob/master/ep_ldapauth.js\n. Looks good to me from initial looks, haven't tested.  I wonder if it's possible to do test coverage?  Perhaps put tests into a plugin or so?\n. I guess what you could do is add some functionality to set the bold button to active based on the caret location (and if the font is bold), that way you would test against that functionality?  That's the only thing I can think to do.\nI do something similar in a plugin already but I guess having it in core might make sense.\n. Thanks! :) \n. Please note Alt A is now Alt Shift A as per https://bugzilla.mozilla.org/show_bug.cgi?id=1149579\n. Thinking this for a setting: https://d262ilb51hltx0.cloudfront.net/max/857/0*4QM6Tc6smxr9IWR-.png\nOn by default\n\"Keyboard shortcuts\" would be a page to a rendered tab of HTML page w/ accessibility controls on built from the Wiki?\nAlthough a user would need to know Alt F9 to get to them so that wouldn't work..  \nWhat about a link in the default pad text that points to accessibility?  Would only be useful on first pad creation/load and not to pads that have modified contents...\n. Alt Shift A is now Control Shift 2...\n. Seems logical to me.\n. Should we get some docs in with this PR so that people know to use it?\n. Needs to land here: http://etherpad.org/doc/v1.5.0/#index_collectcontentpre\nYou would modify: https://github.com/ether/etherpad-lite/blob/develop/doc/api/hooks_client-side.md#collectcontentpre\nI guess?\n. All tests pass for me :)  Good job!\n. Thanks, keep us posted on:\na) Environment\nb) How to replicate\nc) Any errors in console\nCheers\nJ\n. Same on beta.etherpad.org ?\n----- Reply message -----\nFrom: \"@RubenKelevra\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] Copy-paste sometimes stops working (#2569)\nDate: Thu, Sep 10, 2015 14:05\nCopy n Paste seems to work only in 1.5.2 in 1.5.7 is it nearly completly broken. I had to downgrade my pad, please fix it!\nIn the ctrl+v the text appears but it seems that the server connection is never been notified by the change, and any following one. So the text and any following changes will be lost.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2569#issuecomment-139229066.\n. Sounds like a bug with the URL rewrite after importing.\nI don't have a similar nginx config setup to test right now\n. @daicaca311 you wanna open a pull request with the fix in?\n. Thanks :)\n. Caused by CSS rule\nwhite-space: pre-wrap\n. Lots of testing will be required on this one, best to get it into develop now to see how we get on.\n. Actually by putting white-space: pre-wrap this breaks line wrapping in Firefox and Safari..  Heh..  This is an upstream bug and really no way for us to win..  I need to file an issue on mozilla bugtracker.\n. hrm, putting the white-space: pre-wrap on body > div might actually work..  let's try that..\n. New fix in: https://github.com/ether/etherpad-lite/commit/7b86eb09bc2235dd2683fb72601934dbcea3a9eb -- let's keep an eye on this..\nHere is a checklist of things to test when we tip-toe around this issue..\n- [x] Does Caret Not Walk?\n- [x] Does Line Wrap as expected?\n- [x] Are Attributes kept on copy/paste?\n. Should be \"clearing\"\n. tnx.\n. Try a clean install\n----- Reply message -----\nFrom: \"LucasCioffi\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] b.dropdowns is undefined in pad.js (#2577)\nDate: Sun, Apr 5, 2015 03:52\nHello, any suggestions for how I should start troubleshooting the following error message? I can't replicate it, but it happened to a user of mine several times.\nPlease press and hold Ctrl and press F5 to reload this page, if the problem persists please send this error message to your webmaster:\n'ErrorId: CRSwQiPYBoRXzf3ytUrs\nURL: http://my-url.com?showControls=true&showChat=true&showLineNumbers=true&useMonospaceFont=false\nUserAgent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:36.0) Gecko/20100101 Firefox/36.0\nTypeError: b.dropdowns is undefined in http://my-url.com/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define at line 15'\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2577.\n. Look in the JavaScript console please\nWhat is your etherpad git commit sha?\n----- Reply message -----\nFrom: \"LucasCioffi\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] \"Loading\" in Chrome (#2578)\nDate: Sun, Apr 5, 2015 03:55\nHello,\nFor one of my users on Chrome, the \"Loading\" message on the pad doesn't go away and it looks like it never fully loads to the point where he can start typing.\nThe pad works when he goes to Safari. I cannot replicate this on my system, however.\nAny suggestions for what might be the cause or what I should look into?\nThank you!\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2578.\n. http://mclear.co.uk/2013/01/28/how-to-find-out-the-version-of-an-etherpad-lite-instance/\n. Try a clean install, looks like your install has gone \"bad\".\n. Which OS? \nCan you provide a virtual machine that shows this behavior?\nWhich keyboard layout?\nYes it's probably an OS issue, you can see if you can replicate here: http://html5demos.com/contenteditable\nCheers\nJ\n. Gonna guess this is a duplicate of the other deadkeys issue so will close.\n. Pretty sure there is already an issue open for this.\n. #2055 is a different issue\n. FWIW Afaik this is unsolvable as we use content before psuedo class and not any margins or padding.\n. We need @siebrand to handle translatewiki merges :) Thanks though!\n. @Gared \n. Yes it will break certain databases\n. Note to self when merging:  We support IO.JS and Node 12 too, I need to update files to show that..\n. @devoidfury if you can get the bits in about us supporting nodejs and iojs that would be useful then I can straight up merge :)\n. Looks good thanks! :) Testing now!\n. Found another one liner\nimport test is failing\n```\nimportexport.js\nimport functionality\n    import a pad with newlines from txt136ms\n    \"before each\" hook\n\n    the string \"Error: expected '' to equal '<span class=\"\">imported text</span>\\n<span class=\"\">newline</span>\\n<br>\\n'\" was thrown, throw an Error :)\n    Runner.prototype.fail@http://127.0.0.1:9001/tests/frontend/lib/mocha.js:3786:1\n    Runner.prototype.uncaught@http://127.0.0.1:9001/tests/frontend/lib/mocha.js:4059:3\n    uncaught@http://127.0.0.1:9001/tests/frontend/lib/mocha.js:4089:5\n\n```\nCaused by:\nexpress deprecated res.send(body, status): Use res.status(status).send(body) instead src/node/hooks/express/webaccess.js:101:14\n. Yea I will do, if it failed it's probably related to abiword being enabled or so..  I will check in a moment\n. please email security@etherpad.org and cc john@mclear.co.uk\nThanks!\n. It does look like the tests need some polish, just reviewing those now..\n. Excellent, thanks man!\n. Interestingly this broke the font file we use for icons..\n. Possibly caused by: http://stackoverflow.com/questions/3594823/mime-type-for-woff-fonts\n. @devoidfury any ideas on why the font files might be delivered incorrectly?  I tried setting the type on them but they show up as unreadable/corrupt in network?\n. Installing the plugin ep_tasklist also shows this error as the .png icon included in the plugin is unable to load?  Mime type is correct...  Response is null ;/\n. Awesome, wanna chuck through a new PR with a fix or should I patch develop directly?\n. rm -Rf src/node_modules\nbin/run.sh\nLooks like a plugin might be at fault though\n. in /etherpad-lite/node_modules\n. wtf is nave use stable -- That's not in the docs.  Please follow the docs.\n. Not sure what's going on here..  \nYou are still doing ./bin/run.sh, bin/run.sh is the correct command, if you use the correct command does it work okay?\n. Pretty sure this isn't a software bug anyway and due to an environmental thing..\n. Use minify: true and a high maxAge in your settings.json\nWe're working on making Etherpad more modular so you can have common resources.\n. Use minify: true and a high maxAge in your settings.json\nWe're working on making Etherpad more modular so you can have common resources.\n. Open this issue on ep_previewimages.\n. Open this issue on ep_previewimages.\n. Control Alt L is lock desktop on ubuntu\n- [ ] Alt F9 needs looking at in IE\n- [x] Alt C needs another keystroke for Windows\n- [x] We need a second keystroke for Ctrl Shift N for Windows.\n. Alt F9 in IE11 will pull focus back to the editor, obviously related to https://github.com/ether/etherpad-lite/issues/2472\n. RE Control Shift N --> https://github.com/liftoff/GateOne/issues/290 -- Chromium have flagged as wontfix so there isn't much I can do other than assign a different keystroke.\n. Docs on restricted keys: http://stackoverflow.com/questions/7295508/javascript-capture-browser-shortcuts-ctrlt-n-w\n. Proposing control shift 1 as an alternative.\n. Chrome stuff all sorted so this is purely back to the single IE issue of not leaving focus out of editor.\n. I'm going to close this in favor of focusing my efforts on resolving https://github.com/ether/etherpad-lite/issues/2472 which when resolved will resolve this issue.\n. Thanks! :) Works 10/10\n. Seems to work pretty well with both abiword enabled and disabled!  Nicely done!\n. Doesn't matter so much if it breaks some fringe import events as we're gonna be breaking quite a few things over the coming days!\n. We could probably add backend test coverage for this\n----- Reply message -----\nFrom: \"Luc Didry\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] fix large etherpad import, fixes #2524 (#2602)\nDate: Mon, Apr 13, 2015 09:04\nNo, I use curl to import the pad (I have a lot of pads to import), and I got an \"ok\" message. If I go to the pad with my browser, the result is still an empty pad.\nIf I try again to import the pad, I got the \"ok\" message instead of a \"padHasData\" message (which happens when you try to import a pad on a pad which already has data). So I think the import doesn't work at all.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/pull/2602#issuecomment-92260725.\n. cc @redhog \n. Should the minify:and maxAge: settings from settings.json have an effect on this possibly disabling this caching?  I just don't want plugin authors templates to be cached if they are actively developing them...\n. This is already saved and as of develop today can be handled in settings.json\n----- Reply message -----\nFrom: \"Michael En\u00dflin\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Feature request: \"Set my view as default for all new viewers\" (#2605)\nDate: Sat, Apr 11, 2015 23:03\nI'm often using etherpad-lite to collaboratively edit/design technical specifications/code; monospace is a hard requirement for that.\nIt's annoying that every time I re-load the tab I have to manually set the font to monospaced, and every time someone new joins the pad, they need to be reminded to do the same.\nA button \"set my view as default for all new viewers\" would solve that issue.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2605.\n. You can already.  Please read the manual....\n----- Reply message -----\nFrom: \"Michael En\u00dflin\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] Feature request: \"Set my view as default for all new viewers\" (#2605)\nDate: Sat, Apr 11, 2015 23:08\nI see; then it's just a configuration issue with the server I'm using.\nAn other equally valuable feature would be the ability to add view settings to the URL.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2605#issuecomment-91934397.\n. https://github.com/ether/etherpad-lite/wiki\nspecifically\nhttps://github.com/ether/etherpad-lite/wiki/Embed-Parameters\nWhen you test stuff test it against http://beta.etherpad.org -- If it doesn't work there you have a problem.\nhttps://beta.etherpad.org/p/blabla?useMonospaceFont=true is an example of it working.\n. Tnx for spotting! :)\n. # Iframe stuff\n- [ ] Authorship colors not working\n- [ ] Import not working\n- [ ] RTL is broken\n- [ ] Hitting Save Revision returns \"pad.savedrevs.timeslider\" so no i18n\n- [ ] Undo / Redo is broken\n- [ ] None of editbar buttons work\n- [ ] Pressing down on the last line of a pad then typing will insert text in chat...\n. Really not much gain, we're pretty good right now\n. I'm gonna be testing this today and creating a checklist of stuff left to do =)\nRequire Stuff\n\n[x] Merge Develop back into requirejs branch\n[x] Plugins can be installed/uninstalled using UI\n[ ] Plugin tests pass\n[x] Tests pass backend tests\n[ ] Remove any dependency loops (these cause random bugs when you change stuff and things load in a slightly different order)\n[ ] Remove require-kernel entirely\n[ ] Server starts without warnings\n[ ] Prefetch supported\n[ ] Support all supported browsers (Travis has them documented)\n[ ] IE, Chrome and Firefox can load pad and interact as normal\n[ ] Tests pass frontend tests (Test runner is currently broken on this branch)\n[ ] Firefox currently wont open the pad page.\n[ ] IE currently wont open the pad page.\n[ ] Tests Pass in Chrome\n\n\n[ ] Plugins Work\n[ ] Installing ep_headings2 currently causes the server to be unable to start\n[x] Installing ep_file_menu_toolbar is fine\n[ ] Minification\n[ ] Core\n[ ] Plugins\n[ ] Benchmarking\n[ ] Page Load Times on develop vs requirejs\n. Author left github or renamed: https://github.com/ja-jo\n. Fixed: https://github.com/r15ch13/EtherpadLiteDotNet\n. Actually restarting EP prolly fixes this..\n. Moved to https://training.github.com/\n. What version of node? Have you tried a\n clean install?\n\n----- Reply message -----\nFrom: \"Kolchanskiy Dmitriy\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Adding pads doesn't work in Etherpad 1.5.5 on Windows (#2614)\nDate: Wed, Apr 15, 2015 13:30\nHello.\nI have a problem with Etherpad 1.5.5 on Windows. I unpacked the files to a clean folder (I got the archive from http://etherpad.org/downloads/etherpad-lite-win-1.5.5-24b0712d77.zip).\n1.  Run \"start.bat\".\n2.  Go to localhost:9001\n3.  Enter some text on textbox and then press \"OK\".\n4.  An error occured while loading the pad. ReferenceError: require is not defined in http://localhost:9009/p/123 (line 531)\nConsole:\nGET http://localhost:9009/static/js/require-kernel.js HTTP/1.1 404 Not Found\nReferenceError: require is not defined http://localhost:9009/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define\nReferenceError: require is not defined http://localhost:9009/javascripts/lib/ep_etherpad-lite/static/js/ace2_common.js?callback=require.define\nReferenceError: require is not defined dddddd:531:14 require.setRootURI(baseURL + \"javascripts/src\");\nI've tried in WinXP, Win7, Firefox and Chome. File require-kernel.js doesn't exist in the folder with static files. I'm not good in Javascript or Node (and English, sorry).\nI have successfully used the version 1.2.7 before.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2614.\n. Try download again, extract again and see if it works..  Node 10 should be okay..\n. I did notice during extraction with native windows extractor on w8 we have some issues with path being too long, I thought I'd resolved that..\n. afaik https://github.com/ether/etherpad-lite/blob/develop/bin/buildForWindows.sh#L59 is no longer needed..\n. I'm able to replicate this issue on 1.5.5\n. The issue exists on a fully extracted version of Etherpad.  Ugh\n. This will be a bit of a pain in the ass to debug...  It will be quicker for you to bring up a linux VM and run it in there while we fix it up.\n. 1.5.1 is fine, as is 1.5.2\n. 1.5.3 is broken, doing bisect now to find commit.\n. Breaking commit\n9d4e5f6e35153129377206ef545d4965afae627d is the first bad commit\ncommit 9d4e5f6e35153129377206ef545d4965afae627d\nAuthor: John McLear john@mclear.co.uk\nDate:   Fri Apr 10 22:02:22 2015 +0100\ndont allow directory traversal\n:040000 040000 7e28e7ab56134df08cc8d96f5f0b660ec05149b3 536e5baec42fecf77bf691a1\na2ee25c0851ed362 M      src\n. @devoidfury any suggestion for how to best handle this?\n. Thanks for the fix @devoidfury -- works 10/10 ! :)\n. @Gared we might want to do another release due to this?\n. Oh we wont be merging in the iframe stuff for at least 3 months!\nI don't think releasing again will hurt, not releasing will..\n. +1 shaker tnx\n. Perfect thanks :) \n. Looks like your clients aren't getting the latest JS, try temporarily setting your minify to false and maxAge to 0 in settings.json and see if they persist.\n. Give it a few days and if they persist let me know.\n. Can you consistently replicate @Flauschie ?\n. @Flauschie please create a separate issue that fully documents this including steps to replicate.\n. Any plugins?\n----- Reply message -----\nFrom: \"micah\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] Many new errors since updating (#2615)\nDate: Mon, Apr 20, 2015 14:24\nJohn McLear notifications@github.com writes:\n\nGive it a few days and if they persist let me know.\n\nIt looks like it is still happening:\nESC[33m[2015-04-20 12:30:35.901] [WARN] client - ESC[39mUncaught TypeError: Cannot read property 'className' of undefined -- { errorId: 'xxx',\nmsg: 'Uncaught TypeError: Cannot read property \\'className\\' of undefined',\nurl: 'padurl',\nlinenumber: 65,\nuserAgent: 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.90 Safari/537.36' }\nESC[33m[2015-04-20 12:30:39.533] [WARN] client - ESC[39mTypeError: $(...).closest(...).get(...) is undefined -- { errorId: 'xxx',\nmsg: 'TypeError: $(...).closest(...).get(...) is undefined',\nurl: 'padurl,\nlinenumber: 65,\nuserAgent: 'Mozilla/5.0 (X11; Linux x86_64; rv:37.0) Gecko/20100101 Firefox/37.0' }\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2615#issuecomment-94450378.\n. git checkout develop\ngit pull\nbin/cleanRun.sh\nIf it doesn't fix please reopen issue\n. Turn minify to false and maxAge to 0 in settings.json, that will give you better debug to catch which error it is .  You will need to restart after you do this.\n. I'd suggest doing a clean install, we don't use jsdom-nocontextifiy any more afaik...\n. tnx\n. Contact the plugin author: https://www.npmjs.com/~schrijver\n. Docs fixed in https://github.com/ether/etherpad-lite/commit/d31523aa08d123f421248e249e2194f7689f0b06\n. I got it even if it's the latest\n```\njose@PBOH-SNUG:~/etherpad-lite$ bin/updatePlugins.sh\nnpm ERR! install Couldn't read dependencies\nnpm ERR! package.json ENOENT, open '/home/jose/etherpad-lite/package.json'\nnpm ERR! package.json This is most likely not a problem with npm itself.\nnpm ERR! package.json npm can't find a package.json file in your current directo                                                                           ry.\nnpm ERR! System Linux 3.16.0-34-generic\nnpm ERR! command \"/usr/local/bin/node\" \"/usr/local/bin/npm\" \"install\" \"--save-de                                                                           v\"\nnpm ERR! cwd /home/jose/etherpad-lite\nnpm ERR! node -v v0.10.33\nnpm ERR! npm -v 1.4.28\nnpm ERR! path /home/jose/etherpad-lite/package.json\nnpm ERR! code ENOPACKAGEJSON\nnpm ERR! errno 34\nnpm ERR!\nnpm ERR! Additional logging details can be found in:\nnpm ERR!     /home/jose/etherpad-lite/npm-debug.log\nnpm ERR! not ok code 0\njose@PBOH-SNUG:~/etherpad-lite$\n```\n. The error is a lot clearer now\n```\njose@jose-healthy:~/etherpad-lite$ bin/updatePlugins.sh \nPlugins require update, doing this now...\nUpdating ep_font_size\nnpm WARN package.json ep_font_family@0.2.6 No repository field.\nnpm WARN package.json ep_font_size@0.1.1 No repository field.\nnpm ERR! Linux 3.19.0-15-generic\nnpm ERR! argv \"/usr/local/bin/node\" \"/usr/local/bin/npm\" \"install\" \"ep_font_size\" \"--save-dev\"\nnpm ERR! node v0.12.0\nnpm ERR! npm  v2.5.1\nnpm ERR! path /home/jose/etherpad-lite/node_modules/ep_font_size\nnpm ERR! code EISGIT\nnpm ERR! git Appears to be a git repo or submodule.\nnpm ERR! git     /home/jose/etherpad-lite/node_modules/ep_font_size\nnpm ERR! git Refusing to remove it. Update manually,\nnpm ERR! git or move it out of the way first.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /home/jose/etherpad-lite/npm-debug.log\njose@jose-healthy:~/etherpad-lite$ \n```\nSo this is closed :)\n. ep_headings2 and ep_font_size don't exhibit this\n. Looks like this might be caused by out of date plugins, have asked @eldiddio to check..\n. adduser etherpad is all I do\n. Yea, feel free :) thanks\n. Yeah this is a clipboard compat issue probably related to the white space pre wrap css change I did..  try disable it in dev tools and see if you can replicate the issue?  I'm here to help either way..\n. https://github.com/ether/etherpad-lite/blob/develop/src/static/css/iframe_editor.css#L106 -- Looks like we probably need some javascript to enable it for chrome, I thought that was already done tbh but https://github.com/ether/etherpad-lite/blob/develop/src/static/css/iframe_editor.css#L118 probably overrides it.  It's a simple fix in \nhttps://github.com/ether/etherpad-lite/blob/develop/src/static/js/ace2_inner.js#L614\njust target the body.doesWrap > div too in that jQuery select.\nYou wanna get that fix in? @aultuser\n. @aultuser ?\n. Fix is in develop, please test.\n. Will take a look ASAP\n. Please test.\n. np\n. If someone else can take a look and dig a bit deeper to find the cause of this bug I'd appreciate it.  I'm swamped w/ life right now.. You did Every step I'd recommend....  Is minify and maxage set to false and 0?\n. Maxage is in settings.json\n----- Reply message -----\nFrom: \"Dave Lane\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] Errors after upgrade (via git pull) (#2626)\nDate: Sun, Apr 19, 2015 23:25\nWow, that was quick! I've set minify to false in settings.json, but I don't see a maxage setting except down deep in the js files - assuming it needs to be set somewhere higher?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2626#issuecomment-94319866.\n. I'd do a clean install.  Looks like your package.json has been deleted.\n. Okies well try a node upgrade..\nCan you paste the full error again please?\n. There is no error here.....\n. So the error is\nError: node-gyp requires that the user's home directory is specified in either of the environmental variables HOME or USERPROFILE\nhttps://github.com/TooTallNate/node-gyp/issues/414\n. Yes just warnings..\n. Hrm, no idea why your environment is having problems..  Something is obviously wrong though.. If you want to email me I can take a look and sees if I can figure out what's unique about your environment that is causing node to misbehave.\n. Old code is vulnerable...\n. Like I said I can jump onto your instance and see what is wrong.  I emailed you my contact details.\n. I use a lot of different hosts(I work in different environments) so public key sharing is a pain for me.  Just create me a user with sudo perms and email me the user/pass.\n. Please update and see if you still get the error.\n'$(span.target).closest(\\'span\\').get(0).className\\')', \nis not coming from Etherpad's codebase from what I can see\nAlso check your plugins..  It might be caused by a plugin....\n. @Flauschie can you replicate?  If so, what URL and what browser?\n. What browser?!\n. Oh Safari\n. Unable to replicate in Safari 5.1.7 on MS Windows on beta.etherpad.org\nCan you replicate there?  If so which Safari\nI don't have any OSX / iOS devices to test with so this will get filed under the \"too bad your equipment is overpriced\" folder if it's iOS specific.  The other option is to ship me an iOS device, which people have done before.\n. It's currently broken for large pads.  There is already an issue.\n----- Reply message -----\nFrom: \"hientuminh\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Etherpad do not auto scroll (#2628)\nDate: Tue, Apr 21, 2015 05:00\nI am working in Etherpad Timeslider. However, it does NOT auto scroll.\nHave you any idea to fix the issue?\n[donotautoscroll]https://cloud.githubusercontent.com/assets/4133453/7245457/adf9ba64-e815-11e4-8e64-bfcdb3d701ca.png\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2628.\n. Please go ahead and fix the docs :)\n----- Reply message -----\nFrom: \"Martin Delille\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Fix documentation for proxy under lighttpd (#2629)\nDate: Tue, Apr 21, 2015 10:54\nIt seems the documentation is out of date here: https://github.com/ether/etherpad-lite/wiki/How-to-put-Etherpad-Lite-behind-a-reverse-Proxy#lighttpd\nThe issue link is broken : https://github.com/Pita/etherpad-lite/issues/28\nI manage to make it work under lighttpd with the following config:\n$HTTP[\"host\"] =~  \"pad.phnt.io$\" {\n    proxy.server = ( \"\" => ( (\n        \"host\" => \"127.0.0.1\",\n        \"port\" => 9001\n    ) ) )\n}\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2629.\n. Thanks :) \n. @webzwo0i if you follow the repo I can assign this to you I think :)\n. Updating to Node 12+ fixed this for me..  Spooooooky :|\n. try\nrm -rf src/node_modules\nbin/run.sh\n. @joafri for posterity when you close your own stuff please do include a link to the docs or whatever..  \nHere is the link to accomplish this:\nhttps://www.npmjs.com/package/etherpad-cli-client\n. Can prolly try to use outerWin...  instead of parent..\n. Related to https://github.com/ether/etherpad-lite/issues/2429\n. This isn't as easy as I was hoping.  I tried outerWin with no luck.  If anyone else can shed some light on this problem it'd be useful.  It might be a bit fruitless though as we're moving away from the iframes anyway.\n. Branch with fixes in landing here: https://github.com/ether/etherpad-lite/tree/iframe-issues\n. Any errors in your JavaScript console?  Does refreshing show the correct pad text?  What browser?  What version of etherpad.\n----- Reply message -----\nFrom: \"SPQRInc\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Changes are not saved or synced (#2635)\nDate: Wed, Apr 22, 2015 17:10\nHello,\nI got a little problem - if I open a modified pad, I can see the content and write some stuff. But this stuff is not synced so my second browser, which displays the same pad, is not updated...\nRestarting the etherpad-service does not change anything...\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2635.\n. Pretty sure this was user error.\n. Remove all plugins and try run again\n. Lulwut\n. For future reference In included bin/cleanRun.sh which helps with broken installations like this.\n. Ensure you are running latest node..\ngit checkout develop\nbin/cleanRun.sh\n. What version of ep? Any plugins?\n----- Reply message -----\nFrom: \"stefanschauer\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] etherpad lite is working can not acces admin (#2639)\nDate: Mon, Apr 27, 2015 14:20\nhi!\ni am running etherpad on a debian machine and etherpad is running fine.\nbut when i try to access the admin area (/admin) i get the error message \"error\": \"Sorry, something bad happened!\"\nin the log I see the following\nTypeError: Cannot read property 'length' of undefined\nat /var/www/etherpad-lite/src/node/hooks/express/webaccess.js:13:29\nat next (/var/www/etherpad-lite/src/static/js/pluginfw/hooks.js:45:33)\nat Object.exports.mapFirst (/var/www/etherpad-lite/src/static/js/pluginfw/hooks.js:52:3)\nat Object.exports.aCallFirst (/var/www/etherpad-lite/src/static/js/pluginfw/hooks.js:108:11)\nat authorize (/var/www/etherpad-lite/src/node/hooks/express/webaccess.js:28:11)\nat Object.exports.basicAuth as handle\nat next (/var/www/etherpad-lite/src/node_modules/express/node_modules/connect/lib/proto.js:194:15)\nat Object.session as handle\nat next (/var/www/etherpad-lite/src/node_modules/express/node_modules/connect/lib/proto.js:194:15)\nat Object.cookieParser as handle\ngoogle didn't help me very much.\nanyone any hint what went wrong?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2639.\n. I will look into this when I get time.\n. What's your suggested fix here?  It looks like Cheerio is just behaving different to jsdom.\nAre you thinking about just using the span.attribs[\"class\"]; value instead of className?\n. Should be okay, run tests after you try it\n----- Reply message -----\nFrom: \"Luiza Pagliari\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] Content Collector not getting the class value of nodes (#2640)\nDate: Mon, Apr 27, 2015 23:03\nActually I was thinking about changing\nnodeAttr: function(n, a)\n{\n  if(n.getAttribute == null) return null;\n  return n.getAttribute(a);\n},\nto\nnodeAttr: function(n, a)\n{\n   if(n.getAttribute != null) return n.getAttribute(a);\n   if(n.attribs != null) return n.attribs[a];\n   return null;\n},\nand use var cls = dom.nodeAttr(node, \"class\"); instead of nodeProp\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2640#issuecomment-96834725.\n. @lpagliari Run all tests?\n. @lpagliari ah to run the tests on the server do:\nbin/backendTests.sh\nOn the frontend browse to /tests/frontend\nYou should ignore the error from Travis right now.  We will test with travis after you can confirm your local testing is passing.\n. Either me or @Pita have to open the PR for us to test w/ Travis..  It's a pain in the ass.  When we merge to develop the tests are run again and we can review then..\n. @akshat-g read what I wrote.\nbin/backendTests.sh\n. what errors @akshat-g ??\n. @akshat-g PLEASE read what I said..  I'm done helping you until you start to listen.\n. Thanks\n. Worth checking this for XSS, should be fine but just be careful.\n. Update and clean run.\n. do bin/cleanRun.sh -- afaik that script is available on develop only though https://github.com/ether/etherpad-lite/blob/develop/bin/cleanRun.sh\n. afaik we return process.exit(0) which should tell the daemon manager it's not running..\n. @Gared bump?\n. @Gared @0ip  bump\n. Welcome back buddy =) Thanks!\n. Duplicate\n. https://github.com/ether/etherpad-lite/issues/753\n. Do me a favor and quickly run bin/backendTests.sh -- this looks fine but I want to ensure it's not affecting anything else.\n. Okies, prolly worth running the frontend tests just to be sure nothing else got b0rked.\nhttp://youretherpad.com/tests/frontend\nOnce they pass we should be good to merge :)\n. Thanks :) \n. @xavidotron looks like @LaKing found a bug with your commits, can you take a look at #2700 please?\n. @LaKing can you please do me a favor and include a backend test that replicates your issue?  That way we can ensure it doesn't happen again :)\n. It might be that the database encoding is incorrect.  Please test on http://beta.etherpad.org\n. I put a patch in upstream https://github.com/tvelocity/dockerfiles/pull/7\n. Btw @webzwo0i if I alter database to use utf8bin then new tables created will also use utf8bin right?\n. Have you read the documentation?  It would be useful for you..  http://etherpad.org/doc/v1.5.6/#index_http_api\nOnce you have some specific questions feel free to post to the mailing list for help.  Thanks!\n. What version of EP?\n. I assume this behavior is so that if a user wants to change their name from the value specified in the parameter they can..  If you delete cookies on the client and use the parameters do you get the desired behavior?\n. https://beta.etherpad.org/p/vdQpHz0d1O?userName=test works for me..  But yeah the focus is placed in the input for accessibility reasons and then the value is blank...  I guess the value should be userName right?  Should be an easy fix if you wanna get it in?\n. @lpagliari did you wanna land a fix for this?\n. Okay I will land a fix for it.\n. Fixed\n. Give this branch a test @theredfish https://github.com/ether/etherpad-lite/pull/2621\nLet me know if it fixes it for you\ngit checkout fix-dead-keys will switch to this branch\n. What keyboard input language are you set to?\n. Oh azerty, what if you go to language / input what does your keyboard show as?\n. Heh Windows Language pack for French is 156Mb, ridiculous.\n. Alt Gr 5 for [ Works fine for me in Windows 8 Firefox on https://beta.etherpad.org\nTesting IE and Chrome now\n. Heh ~I see the issue, it's treating Alt Gr F5 as strikethrough\n. Fixed in the fix-dead-keys branch which I merged into develop..  There are still issues with some dead keys though fwiw but this issue is unrelated and is now resolved.\nDonations welcome at http://etherpad.org\n. Has this been tested on old and new versions of IE?\n. browser.msie will be returned as false if the browser is modern enough so it just might...  I will merge anyway and if it errors it will need attention.\n. @simong One thing to be aware of is we changed the sessionKey logic so it's no longer a requirement in settings.json -- Does the functionality still work as desired if sessionKey is not included in settings.json ?\n. if you don't specify sessionKey the sessionKey is automatically generated..  You realize that right?\n. cool n1 ta =-)\n. Do bin/cleanRun.sh\n. Conversation here: https://github.com/npm/npm/issues/6565\nTLDR; ?``\n. @othiym23 I read through the npm#6565 post and I'm still non-the-wizer as to how we should go about replacing our peerDependencies usage with something else?\nPlugin(a) in Etherpad might depend on peerDependencies to install other plugins([b]) that plugiin(a) might depend on.  An example is here: https://github.com/JohnMcLear/ep_slideshow/blob/master/package.json\nThis functionality is graceful, works perfect for our use case and we have not experienced any negative side effects despite Etherpad being a large project and plugin dependencies sometimes being rather complex.\nCan you please TLDR; the problem and TLDR; a proposed solution?\n. Do you get this on develop branch? cc @simong \n. What happens if you disable your settings one by one?  Which one is causing the issue?\n. Look at the last commit to the develop repo :)\n. Read the changeset and easysync documentation and take a look at the node client..\nhttps://www.npmjs.com/package/etherpad-cli-client\nQuestions like this really do belong on the mailing list and not the repo just FYI!\nBest of luck :)\n. What's wrong, if anything, with using an image?\nIs your only beef here that the equations aren't inline?\n. Then if that's the case please close this issue and open it on the ep_mathjax plugin with a clear description about what you want :)\n. Yea something is broken..\nhttp://static.etherpad.org/plugins.html\n. cc @Gared \n. @Gared I ran /home/stefan/ep-plugins/loadPlugins.sh > /home/stefan/ep-plugins/loadPlugins.log 2>&1 as your user on static.etherpad.org\n. I setup keyword monitoring.  If \"undefined\" on http://static.etherpad.org/plugins.json then I will get an email.  You can set this up too on uptimerobot.\n. @Gared your script is still returning undefined\n. ```\nnpm ERR! registry error parsing json\nnpm ERR! registry error parsing json\nnpm ERR! registry error parsing json\n[SyntaxError: Unexpected token <\nxml version=\"1.0\" encoding=\"utf-8\"?\nhtml PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\"\n \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"\n\n\n503 backend read error\n\n\nError 503 backend read error\nbackend read error\nGuru Mediation:\nDetails: cache-dfw1824-DFW 1431601061 4108992830\n\nVarnish cache server\n\n\n]\nundefined\n\n``\n. npm is fucked?\n. http://status.npmjs.org/ looks fine..\n. Well status.npmjs.org lies a big crock of lies..npm search etherpadfails from every box I tried on.\n. It's back up.  anpm cache clean` is required.  JOY\n. okay wtf...  cleaning works fine but then running the index script again returns undefined..  It appears as soon as you do..\nnpm.commands.search(['ep_'], /*silent?*/true, function(er, results) {\n...\nIt corrupts the local npm registry index..  @isaacs\n. Oh no, scrap that, it' gets better..  running npm search etherpad the second time retuirns \"error parsing json\"..    Something is really fucked with npm search/indexing ;\\\n. STR:\nnpm cache clean && npm search etherpad\nThis will return the expected results..\nThen\nnpm search etherpad\nWill return\nnpm ERR! registry error parsing json\nGG!\n. FWIW I emailed @Isaacs - he should be able to bump someone internal in a few hours.  I gotta grab some lunch before my next meeting, I will test on latest node while I'm eating if I can.\n. Latest node installed.  Bug still exists..  Jesus :|\n. Upstream bug fixed :)\n. Does this pass the backend and frontend tests?\n. You can run the test locally..\nbin/backendTests.sh\nand frontend tests are at /tests/frontend\n. @tudorilisoi how are you getting on?\n. @tudorilisoi Bump?\n. @tudorilisoi just be aware we will be breaking your changes if you don't commit them or do plugins.\n. I see body in export.  http://beta.etherpad.org/p/test/export/html\n. Dunno what you are doing to make it not appear..  Assuming it's a HTTParty bug/feature..\n. Mozilla's Etherpad instance is painfully/woefully out of date.  It's a bit of an embarrassment - The webmaker project is working towards resolving the issue but for some reason things are going at a glacial pace.  I suggest putting some pressure on Mozilla to update their instance.\n. Looks relatively clean, all tests pass with it enabled/disabled?\nCan you please add a test for exporting HTML and make it expect to fail w/ bad pad data?\n. Should be good, I will merge and we can deal with any fallout as it lands.  Thanks!\n. Might be worth putting some docs in for people too?  Perhaps the wiki is the right place for that\n. Yea the wonders of Github :) Thanks!\n. Update Node to 12+ and checkout develop branch\n. It's up to you how you manage your systems dude!\n. Sounds like a mongodb issue then\n. I dunno tbh, I can't debug everyone's production environment for them sadly..\nHave you run stress/load tests against your cluster?  Can you consistently replicate the problem?  Imho that's where I'd be starting then once you can replicate look at firing a fix in.\n. Yea that sounds fine :) \n. Phrase looks fine :)  The real fix though is to put something in ueberdb that handles slow writes, correct?\n. Well @Pita maintains UeberDB but he has been kinda lazy at maintaining his projects lately and I don't have the time to look into this for you.   I suggest bumping @pita and creating an issue on ueberdb including a use case.\n. Fixed.\n. This would be very easy to do, few hours dev time tops probably.\nIt should be done as a plugin.\nIt was removed because a browser should be used to manage font sizes.\n. Fair point.  I could make a plugin in an hour or so if you can create a bounty or pay me directly.\nOn 22 May 2015 17:18, Nathan Neff notifications@github.com wrote:\nThe problem with relying on a browser to manage font sizes\nis that when I increase the fonts using using Cmd + \"+\" button in my browser,\nall the fonts on the page (including menus, buttons, etc) are increased.\nIn many cases, buttons, menus, etc are pushed off the page -- see this screenshot:\nhttps://www.evernote.com/l/AOKImWCeSdZPF4rG-i3ovO4UgJyIuHkBieU\nAm I missing a simple way to use my browser to increase the font size for the Etherpad\ntext?\nThanks,\n--Nate\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2671#issuecomment-104702894.\n. \"configure the font size for individual pages\" - not \"configure the font size for individual portions of text\", so no, it isn't.\n. @elijh can you please bisect and find out?  None of the commits look like they will cause this issue.\nWithout a bisect or STR it's pretty much a losing battle\n. @elijh this makes no sense..  Can you please provide some steps to replicate?\n. Okay @shimaore I will try get a fix in for this now, thanks!\n. https://github.com/ether/etherpad-lite/commit/757ad765d3d7fca4e94347962423cb65b1a598d4 should fix it?\n. Let me know if this isn't fixed in develop :) Thanks!\n. Things to do..\n- [x] Run backend and frontend tests\n- [x] Test Read Only pad Ids (including changing name when on read only pad)\n- [x] Check loadTesting boolean still works (by doing some load testing)\nJust need to check those things as these could break it :)\n. Btw, thanks for this, looks good at a glance! =)\n. Yea, @cboylan it's my stag do / bachelor party this weekend so I wont be at my desk at all.  I should get time to review on Monday though :)\n. Yeah that's right\n. @cboylan any luck debugging why on your branch the tests fail?\n. develop backend tests all pass for me\n. We provide a load testing documentation: https://github.com/ether/etherpad-lite/wiki/Load-Testing-Etherpad\nRE  Test Read Only pad Ids (including changing name when on read only pad)\nJust create a group pad and check it on a group pad (means a session is required etc)\n. https://www.npmjs.com/package/ep_prompt_for_name\nPlease use this when searching for features for Etherpad: http://static.etherpad.org/plugins.html\n. We already have an issue for this, checkout the dead keys issue.  Thanks!\n. tnx :)\n. Are you sure?\nWorks fine for me..\nhttps://beta.etherpad.org\nCan you replicate here?\n. They are forced settings, do other settings behave differently?\n. padOptions is designed to set the default then it's up to the user if they want to change behaviour.  I'd suggest a separate group of settings for forced/restricted behaviour.  Most of this time people restrict functionality with plugins which is probably the right way to do it.\nRE showControls I agree it might make sense to not render the HTML,  please create a separate issue for that.  FWIW the reason we don't do it that way is so we can cache the HTML but afaik the new way of rendering means we could just pass the request and render if a setting or parameter is set..\nRE showLineNumbers sounds like a bug, please create a separate issue for that.\nRE userName I'm not sure either without looking at the source\nI'd happily merge a pull request fixing these bits if you have time to fix?\n. Re toolbar it makes no sense to change this as a user could just change URL and get toolbar.  The right way would he to modify your settings.json removing the items from there or use the read-only URL\n. Please post to the mailing list to get input on this.\n. Looks useful, need to check to see how this works w/ Accessibility and Screen readers though as some of those items depend on values afaik.\n. Yes @lpagliari - screen readers :)\nIt might be that i18n is fine for all inputs so it's probably just worth checking it to see how it behaves.\n. Perfect thanks!\nOn 26 May 2015 19:01, Luiza Pagliari notifications@github.com wrote:\n@JohnMcLearhttps://github.com/JohnMcLear I've tested NVDA + Firefox + Windows: when mouse is over the localized button, the screen reader is reading the correct word (the localized one).\nI've compared the behavior with and without changing the value of the button, and it was exactly the same (same word read by NVDA).\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/pull/2681#issuecomment-105619894.\n. Read the docs.  Install nodejs from Source\n. It let's Etherpad know a plugin is initialised.  I can't remember if we still need it or not\n. Well you solved and documented the fix, others can follow suit.  If you want a more perma fix I'd be happy to see a pull request with it in.\n. This is the source code that references the file\nfs.stat(path.normalize(path.join(plugin.package.path, \".ep_initialized\")), function (err, stats) {\n        if (err) {\n          async.waterfall([\n            function (cb) { fs.writeFile(path.normalize(path.join(plugin.package.path, \".ep_initialized\")), 'done', cb); },\n            function (cb) { hooks.aCallAll(\"init_\" + plugin_name, {}, cb); },\n            cb,\n          ]);\n        } else {\n          cb();\n        }\n      });\n. In some plugins you can make it do a \"one time execution\" such as a database preparation.  It appears this does this.\n. *sighs\nhttp://etherpad.org/doc/v1.5.6/#index_init_plugin_name\nI do have better things to do than rtfm for you ;)\nYour specific environment issues do not really warrant us making a breaking change.\n. If your container can't handle writing to the filesystem I just don't see this as being an Etherpad problem however I would take a clean solution that used the database instead.  \nYou might need to be mindful that the database might not be available/ready and/or might be shared/sharded etc. so this might be a really bad solution for what you are proposing.\nTLDR; Not Etherpad problem, container problem.\n. Yea that might be a clean enough solution, give it a go and see if it works.  You will need to create a test plugin to ensure it does.\n. thanks\n. Please elaborate\nOn 31 May 2015 05:36, yurivict notifications@github.com wrote:\nYou need to only print terminal sequences when the output is an actual terminal.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2685.\n. Sounds like a log4js bug? We use that...\nOn 31 May 2015 10:46, yurivict notifications@github.com wrote:\nWhen piped to file, log looks like this\nStarted Etherpad...\n^[[33m[2015-05-30 21:26:58.721] [WARN] console - ^[[39mDirtyDB is used. This is fine for testing but not recommended for production.\n^[[32m[2015-05-30 21:27:00.402] [INFO] console - ^[[39mInstalled plugins:\n^[[32m[2015-05-30 21:27:00.439] [INFO] console - ^[[39mReport bugs at https://github.com/ether/etherpad-lite/issues\n^[[32m[2015-05-30 21:27:00.442] [INFO] console - ^[[39mYour Etherpad version is 1.5.6 (b049f4b)\n^[[32m[2015-05-30 21:27:00.622] [INFO] console - ^[[39mYou can access your Etherpad instance at http://0.0.0.0:9001/\n^[[33m[2015-05-30 21:27:00.622] [WARN] console - ^[[39mAdmin username and password not set in settings.json.  To access admin please uncomment and edit 'users' in settings.json\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2685#issuecomment-107150769.\n. I'd accept a pull request if you have an easy fix\n. :?\n. This isn't the desired behaviour\n. Nice thanks\n. @DrHuxtable try do a bin/cleanRun.sh\n. @lpagliari I am noticing the bin icon doesn't appear to be working any more for delete?  Did you delete that by accident or so?\n. Doing a \"Clear browsing data\" appears to have sorted it.\n. FWIW I'm still not seeing the alternative comment icon view thing as per my comment on your PR\n. We don't support client side dependency requires.  Your best bet is to include the javascript in your_plugin/static/js/lib or something.  You can then client side require them that way afaik.\nTLDR; package.json dependance is for server side only packages.\n. I could probably make this in a few hours if you wanted to create a bounty for the plugin?\n. Take a look through my plugins for reference..  You need to add an attribute to the target span/element.  ep_comments does this for example..  https://github.com/JohnMcLear/ep_comments/blob/master/static/js/index.js#L758\nIf you still need help I'm available as a gun for hire.\n. Can you replicate in other IEs?\nCan you replicate on beta.etherpad.org?\nMore info would be useful!\n. http://mclear.co.uk/2015/01/15/how-to-write-a-bug-report/ should cover it, if not let me know\n. Is this group pads only?\n. @eldiddio can you confirm please?\n. n1 tnx\n. @xavidotron did you run the backend tests to see if this passes?\nbin/backendTests.sh\nMy concern is the export tests might fail?  Should be okay though :) Let me know\n. Gah I tested this with a  bunch of plugins enabled..  Testing again without plugins would make sense..\nQuestions we need to answer.\n- [x] Is it worth prefetching in the pad.html too?\n- [x] Can we put this in core or should it be a plugin?  I'd vote for Core as it improves UX.  The negative is the increased traffic a user would see if they hit index.html and don't want to visit a pad.\n- [x] Are we catching all the files we can prefetch?\n- [x] Should we provide a mechanism / documentations so plugins can easily expose files to prefetch?  Doing an example with ep_page_view would make sense.\n@kentonv I'd appreciate your input here :)\n. Okay new todo..\n- [x] Look to see if there is a way for plugins to specify file paths or for us to parse them out so we can set a prefetch for them\n- [x] Use header instead of link IE <meta http-equiv=\"Link\" content=\"</images/big.jpeg>; rel=prefetch\"> <-- scrap this, look to see if we can use headers.\n- [ ] Check to see if core does load ace2_* files twice <-- confirmed WTF?\nNotes:\n- Yea we do set maxAge, it's a value set in settings.json\n. @kentonv see anything wrong w/ me sending this from express?\nres.set('Link', '</images/big.jpeg>; rel=prefetch');\nIt doesn't appear to be working..  I'm seeing the header in my browser.\nConnection:keep-alive\nDate:Sat, 20 Jun 2015 23:35:51 GMT\nLink:</images/big.jpeg>; rel=prefetch\nLooks good compared to http://tools.ietf.org/html/rfc5988#section-5.5\n. Well the header doesn't appear to be properly handled by Chrome :\\\nprefetch is new to me too so just trying to help out where I can..\n. http://stackoverflow.com/questions/30959966/how-do-i-properly-set-link-prefetch-headers-in-express-4\n. @kentonv either chrome is lying to the net tab or prefetch headers aren't supported in chromium based browsers.\n. Oho scumbag Google strikes again...\nhttp://www.stevesouders.com/blog/2014/04/30/unexpected-prerender-in-chrome/\n\"Suspecting that these background requests might not show up in Net panel, I fired up tcpdump and repeated the test \u2013 again only typing \u201cwww.s\u201d and NOT hitting return. I uploaded the pcap file to CloudShark and saw 86 HTTP requests!\"\nCrazy huh?\n. I think I figured out a way to automate plugin file prefetching :)\n. @kentonv branch now includes support for prefetching plugin client files... :) \n. @kentonv do me a favor and checkout this branch and test it on yours without your hacks.\n. Cool, no rush from me :) \n. https://github.com/JohnMcLear/ep_comments/blob/master/static/js/index.js#L1071 is an example of it being used.\n. 1. Please include test coverage for the author information.\n2. Please test on pads that have no authors (IE blank pads or pads that don't exist).\n3. Please update docs and update endpoints.\nShould work fine :)\n. Can't think of an example of a plugin that uses a hook, should work okay anyways.\n. tnx\n. You said this bug exists in the latest version, did you do regression testing?  A git bisect would be helpful.\n. @LaKing okies if it's a change in Etherpad do a bisect to figure out which commit b0rked it.\nhttp://mclear.co.uk/2013/04/02/using-git-bisect-to-debug-etherpad-issues/\nI would guess it's due to https://github.com/ether/etherpad-lite/commit/0713553906bee57c289d13f61b192da4eceac143\n. Hrm, https://github.com/ether/etherpad-lite/blob/develop/tests/backend/specs/api/pad.js#L198 seems to cover this issue already and it's passing fine..  So maybe ththe API is working fine but context.pad.setText(\"TEST\"); is doing something incorrect..  I'm not sure how to create a test that does a frontend task then checks it on the backend..  I guess a frontend test would be required but doing that would also be a pain in the ass... \n. @xavidotron might be worth submitting a PR with that fix?\n. See https://github.com/ether/etherpad-lite/issues/2015\n. Closing as this is pretty much a duplicate.\n. Please send a pull request :)\n. Due to https://github.com/ether/etherpad-lite/pull/2636\nBump @andreassolberg \nI put a fix in to solve the comma issue but the CA issue is not sorted..  This is why I didn't want to include CA cert support.....\n. Gonna let @andreassolberg maintain this.\n. Duplicate.  Don't do this.\n. The error you are seeing isn't killing the instance, something else must be killing your Etherpad instance.  Perhaps a script or so?\n. I don't think the cache is related.. You could try set minify to false and maxAge to 0 in settings.json and see if that fixes it?\n. Once you are happy, try re-enable minify and set maxAge to some rediculously large value IE add 10 extra 0's and see if it still crashes.\nIt might be that minification is crashing during trying to write to the filesystem due to some permission issue or so?\n. var/\n. CTO's don't read error logs? :P\nThe error will state the path is too long, windows can't handle log file paths.  You have 2 options.\n1) Extract it to a less deep folder location IE c:\\\n2) Use something other than the native extract tool to extract it..  http://www.7-zip.org/ is your friend :)\n. Are there any 404's if minify is set to false?\n. GJ :) Tnx\n. Pull request local but please test responsive layout too with that change in..\n. See the source code of https://github.com/johnmclear/ep_headings2\nSpecifically https://github.com/JohnMcLear/ep_headings2/blob/master/static/js/index.js#L10\n. Yea you are doing something wrong, please look at the other projects that do this.\n. Some issues preventing us from merging this:\n1. You are adding an element to the toolbar without using the correct method (see settiings.json, toolbar.js)\n2. No i18n implementation\n3. No accessibility implementation\n4. No requirement for this to be added to the UI.  <-- There is no open issue where people have complained about knowing if it's syncing or not.\nI suggest you make this a plugin if you really want it.  If folks use it we can consider implementing it in core.  \nHopefully I didn't miss anything here??  Sorry about having so many requirements, one does not simply add new UI elements to EP..  We make it way too complex ;) \n. GG\n. tnx\n. Happy to see a pull request with these changes in.\nWe won't be dropping the Open Dyslexic font though, that is a ridiculous proposal.\nI also disagree with removing fonts that are currently being used (a).  That is a bad idea.\nHappy to see fixes for (c)\n. Memoving fonts that are already use is obviously a bad idea, I feel like your trolling me asking me why that might be the case?\nOpen dyslexic font gives us the ability to provide better accessibility, something we're keen on.  Why would you want to remove it?  For what gain?  \"To be more professional impression\" is not a good enough argument to sacrifice accessibility for those who need it.  We're not Apple.\nGood luck w/ the PR, let me know if you get stuck.\n. Happy to close this now?\n. Yea having those isn't ideal but it could be the case some IE users are using them..  We could always hide those list options to non IE users?\n. Yea @charakterziffer send through a PR w/ your proposal, should be okay cc @Pita \n. My guess is now Edge has their shit . What browsers / OS did you test this on?\n. You might need to put etherpad into development mode to see changes...\nopen settings.json and set minify to false and maxAge to 0\nDo you have the ability to test on other OS / browsers?\n. I can test windows for you if you want?\n. Symbol doesn't work on FF & Windows.\n. Windings doesn't appear to work either\n. Serif doesn't appear to work either.. \n. Looks like you didn't change those anyway so they must have been broken before...\n. Symbol works in IE :|  As do the others...  So the issue with Windows & Firefox is with Symbol, Webdings, Wingdings and maybe Serif...\n. Wrap your debug output with three ` so it's readable...\nAlso read this: http://mclear.co.uk/2015/01/15/how-to-write-a-bug-report/\n. You didn't provide steps to replicate.  Please Read the link I posted.\n. This doesn't break overflow on responsive UI elements IE when desktop browser is resized to very small?\n. @Pita btw @lpagliari is really familiar w/ EP, she tends to commit good stuff.\n. Feel free to merge your own pull requests @lpagliari \n. Sorry about the delay @Pita is too busy for us nowadays ;) \n. Read the error log, it tells you what is causing the crash.\n. I have a feeling this will insert double spaces in Firefox but let's see..\n. What browser are you copying FROM?\nWhere are you pasting TO?\n. tnx @CodeMichael ! :) J\n. I have no idea what this is needed for..  What is the purpose here?\n. This seems like a bad idea.  Looking at it for 5 seconds I can think of one major issue..  if the user has node installed elsewhere and git pulls this would break their deployment...  You use an absolute location for the binary instead of using which and just parsing the path...\nHeaven only knows how this would behave on Windows...\nI dunno this just seems like 200 lines of cruft to me which is fixed by a one line symlink...\n----- Reply message -----\nFrom: \"tr\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] linux environment variables in safeRun.sh (#2752)\nDate: Sat, Oct 24, 2015 01:11\nI put the variables to the settings.json file, so e.g. you can define the node binary. Not on every linux system the node binary has the same name.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/pull/2752#issuecomment-150725754.\n. Bump..\n. Closing due to lack of activity\n. Hopefully @pita or @Gared can, I'm still completely swamped -_- sorry!\n. Bump\n. Closing due to lack of activity\n. doesn't know what he, did but sure, my pleasure :)  Props to @webzwo0i @Gared and everyone else who is doing the majority of the real heavy lifting lately :)\n. Please Close Issues when resolved!\n. Thanks @ypid ! :) \n. n1 thanks @lpagliari good job !  :) \n. @lpagliari tests failing? https://travis-ci.org/ether/etherpad-lite/builds/86848825\n. @lufeihaidao you can console.log settings, I tested it and it seems to work fine.\n. Nice job!\n. I'm unable to replicate this bug.  Are you running plugins?  If so, disable them and provide to replicate.  If you can't replicate please close this bug and create issue on the plugin repo.\n. Fixed w/ https://github.com/ether/etherpad-lite/commit/02f88aafff662da955caa0fd0e034ac5ae48779f\n. Assuming I'm the author of this plugin can someone TLDR the actual issue here?\n. http://etherpad.org/doc/v1.6.0/#index_appendtext_padid_text should fix this...\n. much nicer, thanks! \n. tnx\n. Surely this should be an issue on the UeberDB repo not here?\n. You would write something outside of Etherpad to do this.  It would GET each HTML export and combine them then print them as one document.  This is outside of the scope of Etherpad.\n. Sounds like this needs to be posted on the comments plugin repo not here.\n. I bumped socketio to 1.3.7 in src/package.json on develop branch\n. What if the APIKey file is already used and is a fixed value?\nIs this tested across multiple OS'?\n. *bump\n. This seems to be fixed now.. Do you get this on latest develop branch @rkhyd  ?\n. I will create this as a plugin\n. https://github.com/JohnMcLear/ep_extend_settings\n. You will need to git pull etherpad as it's a new hook\n. n1 tnxd \n. needs polish\n. @dariopuerot you need to provide more details on what you want here, this is horribly unclear.\n. We only accept localization changes through translatewiki\n. I didn't know pads could have spaces in the pad ID, I would assume spaces = %20 or so\nYea pads can't have spaces in the padId..  If you are creating pads with spaces in the padID you are doing it wrong..  \nReplace spaces with underscores when you create the initial / original pad...\n. I feel this is related to a plugin and not Etherpad core?\n. lulwut?  Fix your rewrite rules.\n. Wouldn't this need an additional into settings.json.template?\n. Resolved\n. 24 verbose stack Error: Invalid name: \"ueberDB\"\n. Done\n. I pushed ueberdb2 which is a new version.  npm no longer supports pushing to modules with capitalis in the name.\n. I also bumped ueberdb version in the etherpad package.json..  look at the commits!\n. This should be an issue for the plugin not core :)\n. Fixed, sorry I didn't see your PR!\n. Needs docs afaik, ah wait maybe not, this is a client side thing.. Yea all good. merging\n. See https://github.com/ether/etherpad-lite/wiki/Getting-to-know-the-tools-in-bin\n. Please use git bisect to discover which commit broke this issue\nhttp://mclear.co.uk/2013/04/02/using-git-bisect-to-debug-etherpad-issues/\n. <iframe src=\"<% padurl %>&userName=<% userName %>\" width=\"100%\" id=\"iframePad\"></iframe>\nis wrong\n<iframe src=\"<% padurl %>?userName=<% userName %>\" width=\"100%\" id=\"iframePad\"></iframe>\nis probably right.\n. They are different links ergo different pad Ids ..  I don't see the bug here.. \n. Have you tried this in production?  I have a feeling you are using dirty as your database....  Try using a production database and see if you have this problem..\n. @nashe. This caught me out too..\n. Read the error output please before posting issues :)\n. Please test on latest develop branch\n. Sounds like a bug then.  Can you provide steps to replicate please?\n. See the wordpress etherpad plugin.\n. https://github.com/ether/etherpad-lite/blob/develop/src/static/js/ace2_inner.js#L3729\n. Confirmed\n. Confirmed\n. Closing due to lack of activity\n. I feel like it will break the init etc. scripts\n. afaik the ubuntu init scripts look for a running node process, I dunno if this will break that or not..\n. Then it should be good to go, I don't know about exec to confirm this..  We could merge into develop and see if anything explodes though?\n. Happy to see a fix land for this if anyone is working on it!\n. Confirmed.  Doesn't appear to work any more..   Probably an ueberDB bug..  @pita investigating . Please point some other iOS people at this to replicatee.\n. Lol\n. Should be a plugin if anything.  See ep_mathjax for reference for how to do this.\n. Page Up and Page Down will always do those tasks.  Are you not using a special key at the same time (Control / Alt ) \n. @gared afaik you wrote the padId validation stuff, this might be of interest to you :) \n. I was working on the document.domain hacks, I removed them for working drag and drop between windows.  You could remove the whole document.domain stuff and it should be fine I think @Gared  -- see https://github.com/ether/etherpad-lite/commit/f16616d23bbbf813232bfa80f2796dca1eaf072c\n. Be happy to see this land :)  Sounds like it's already fixing things?  Can I help by giving you access to beta.etherpad.org ?\n. It's low priority right now\n. The reason it's tricky is because we minify and compress all javascript then load it using a require-esque style method..  I'd consider a PR for it if you can get it and then get RMS to bump me to merge it.\n. Go for it but you are making the assumption the code is delivered minified (which it should be) however if the instance is not minifying (due to be being in develop mode) this wont be the case.\n. I think yasjml does it but it's been a while since I took a look\n. The only thing that's not clear is what if third party plugins are loaded?  \nAlso why the link to third party files and not locally hosted?  If the instance was run locally (not online) then access the license files would fail.  I recommend including them(the licenses).\nJ\n. Yes please :)  I worry about the external page being unreliable or exploited etc.  torrents/magnet tracker should in theory be more reliable.\n. This needs backend tests plz :)\n. Thanks for test coverage @c-martinez -- Please also add coverage for the bits @Gared has discovered\n. If this is MyPads issue create it on the MyPads repo.\n. We provide libreoffice export option now :)\n. Please test latest develop and close this if it is fixed.\n. Bump @g-borgulya \n. Clear your npm cache\n. +1 @Gared this causes more problems than it solves?\n. Please check your database encoding is correct.\n. Closed as due to admin error\n. @nashe. Any rush to get this solved or can you work around it?\n. tnx :) \n. Same issue in each browser?\n. @monkey-pawan Just take a look through the source code for handling list items, I can't remember the exact locations but if you grep for ordered-list or somesuch you will find something :). Shouldn't this come from the translatewiki team as per normal?\n. bumping @siebrand \n. I should keep an eye on https://github.com/ether/etherpad-lite/pull/3000 to see if we have any conflicts.\n. +1 @edg2s thanks for this I will take a goosey :)\n. Please provide example source code in docs and if possible link to a plugin that leverages this behavior.\n. * looks like the line style identifier character, that is nasty.\nDo you experience the same in every browser?\n. Just waiting on testing and merge now, should be fixed.\n. Just waiting on testing and merge now, should be fixed.\n. Can you provide more information such as frequency and if the error is the same each time?  This looks like an upstream bug but we need to be sure..\nCan you provide steps to replicate?\n. What database table encoding were you using on the old database?\n. Only me and Pita appear to be authorized to do this, I can't remember how it's setup.. ;\\\n. I'm unable to replicate this @hardcorekancil - can you let me know if you can still replicate it and I will re-open this issue.\nPlease test at https://beta.etherpad.org. heh yeah :)  Please send PR w/ this fix in :)\n. Sorry been busy..\n. It's provided by GlobalSign at current.\n. @wolfskaempf sorted this :)  beta.etherpad.org still needs doing :) though @wolfskaempf  if you fancy it?\n. Thanks @wolfskaempf btw we appreciate this!  You rock!\n. Awesome thanks! :)\n. Rate limit on reverse proxy ftw.\n. Is there a plugin for this?\n. Please close your issues if they aren't needed any more....\n. Done\n. This is a duplicate of another issue, please find it and close this.\n. I'd like to see test coverage for this please :)  https://github.com/ether/etherpad-lite/blob/develop/tests/frontend/specs/urls_become_clickable.js would be the place to add it!\n. tnx\n. Next time we will get it right :)\n. This is a plugin bug.\n. Etherpad does catch them and throw an exception.  It doesn't crash Etherpad.\n. 8pm  GMT :)\n. Are you still experiencing this?  I just tested it and it appears to be resolved..  If you are still experiencing please let me know and I will re-open.. I Feel like this is a duplicate of another issue..\n. Please start being more independent.  https://github.com/ether/etherpad-lite/issues/967\n. Try disabling plugins ........\n. Did you hit the instance directly or through a reverse proxy?. No longer appear to be getting created. . It recreates the DOM..\n. @Gared please test and merge if happy :)\n. @Gared can you please test and merge this if it passes?\n. ep_diff does this no?\n. Yea\nOn 20 Jun 2016 09:24, PhilLAL notifications@github.com wrote:\nDo you talk of ep_timesliderdiff?\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2995#issuecomment-227079167, or mute the threadhttps://github.com/notifications/unsubscribe/AANewM32P04R2jlPqwPeUcE705XcpaIhks5qNk4-gaJpZM4IqwQc.\n. The exported HTML is wrong and this causes Abiword to crash..\n<body>\n<ul class=\"bullet\">\n        <li>hello</li>\n        <ul class=\"bullet\">\n                <li>world</li>\n        </ul>\n        </li>\n</ul>\n</body>\n</html>\nNote the additional closing </li>\n. This bug has existed for years..  It was introduced so far back I can't get such an old version of Etherpad to install...\n. https://github.com/ether/etherpad-lite/blob/develop/src/node/utils/ExportHtml.js#L474 is the offending line.  I don't have time to dig much deeper than this but I expect a catch to see if we are still in a nested list would solve the problem.  @webzwo0i did a lot of work on this so he might be able to get a fix in quicker than me!\n. cc @Gared \n. We will wait for Express to mature into this.. We could probably go through and bump a load more stuff too :)\n. Yea like that but with new bumps :)\n. don't merge this btw, something is broken with ueberdb2 @ 0.3.5...\n. Yay :) Thanks!\n. btw the mailing list is probably a better place ;)\n. I have to deal with documents that sometime exhibit this behavior and it's a fucking nightmare.  Use the timeslider.  I will leave it open as a feature request but I hope to god no one ever implements it inside of Etherpad.\n. Looks like it should work to me\n. I think this got resolved in express\nEither way you need express to be in production mode\nexport NODE_ENV=production\n. Yea you are wrong.  https://beta.etherpad.org/p/5/timeslider#24  -- History is maintained on upload... I think this is available on codepad - bump https://github.com/LaKing @LaKing . Done. I assume Safari team fixed this by now..  . Please provide steps to replicate..  Is this page within admin page or so?. Apologies had a busy few years and just got a few hours downtime to look at Etherpad whilst on vacation.  I'm kinda surprised no one else checked and or validated this though ;(\n\nFrom: rugk notifications@github.com\nSent: Tuesday, 3 April 2018 7:29 pm\nTo: ether/etherpad-lite\nCc: John McLear; Comment\nSubject: Re: [ether/etherpad-lite] Window is not defined when accessing \"troubleshooting information\" (#3033)\n\"Troubleshooting information\"\nSo yes, admin page. But I'd say this is console output. However, I also cannot reproduce right now, sorry... Maybe next time I'd have more information if the question for it would not come two years later... ?\n-\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHubhttps://github.com/ether/etherpad-lite/issues/3033#issuecomment-378331628, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AANewEEtYlpwcoQDYpVMM7-PCdd4vv8Zks5tk7F5gaJpZM4Jd-FR.\n. Works fine for me on really crappy Internet connection too... What's the point of this?  Seems like it fixes nothing.. \"I could only test the homepage because LibreJS breaks when the callback is passed, but that's not Etherpad's fault and it's something they should look into.\"\nHuh?  So other pages are broken in this PR?\n. Plugin problem, please create the bug reports on the plugins.. This is really an ueberDB request not an Etherpad thing!. Character encoding was wrong on DB.. Unable to replicate. This has to be coming from Abiword or some third party thing that's doing the conversion.. What are you using?  Version of abiword?  soffice? etc. If you convert a .html file with soffice manually does it append the license string?. https://github.com/ether/etherpad-lite/commit/97fd1ab2feffa92494d837d2aefd842853d9f816\n. I can replicate in FF on beta.etherpad.org - ignoring most of cruft conversation in this thread tho! :P. The solution would be to hide chat in CSS and only show it if showChat is set to true or undefined.  pad.js would handle this.\nThis is a low hanging fruit for someone.. Afaik we did CSP years ago, pretty sure you don't need to do anything.. bump @simevo  <3. This is the same as the Read only HTML request which shouldn't require cookies / javascript.  So closing as duplicate.. All good.  Afaik you would set author name in clientVars - check how I do it in other plugins, one quick win is just to add the authorName in the URL but I wouldn't recommend that!. Are both users (browsers) visiting from different desktops/laptops/whatever or same hardware?. @dreeves I guess it would be VM's w/ VNC to one VM or something weird..  We see a lot of weird issues.... Confirmed.  Export HTML OL / UL is pretty wildly broken.\nhttps://github.com/ether/etherpad-lite/issues?utf8=%E2%9C%93&q=is%3Aissue+is%3Aopen+lists. Ugh confirmed..  It's due to the location..  If you put the screen horizontal you can see the color selector..  FML :|. This sounds like an ueberDB related issue where it isn't keeping connection to the Postgres server.  Please file the issue with ueberDB.. Caused by a plugin. This would be a horrible UX..  Documents aren't necessarily edited in a linear top down fashion.  I would suggest this would be a plugin.. I just tested this and it worked... @jrocho are you still getting this problem?  If so, let me know and I will re-open this issue..  For me it works as expected (export works fine from a read only pad). What's the use case of running HTTP if your HTTPS stack if exposed?  Surely you would just use HTTPS anyway?. Resolved merge conflicts but I don't like this PR.  You can achieve the same thing with a plugin no?. Can't replicate in Edge.  Don't wanna sink resources into IE really... Bump @marcelklehr . @lpagliari did this land?. Has merge conflicts :)  Please resolve.. Looks like you are not doing the JSONP GET request properly.. Yea this is dupe of #1659 \nhttps://github.com/ether/etherpad-lite/issues/3208\ncc @nashe as potential DoS ? . Looks like plugin bug, not Etherpad.. PS Re request to see plugins that are bug free.  I'm spending 3 hours today just triaging bugs.  Anyone could do this, literally anyone, if you contributed just a little bit of your time to the project I can spend my time fixing bugs in the code and not triaging bugs to remove the cruft so please contribute if you can!. I'd be interested in taking this bug on, if you can provide the .etherpad file!. I haven't tested this but basic common sense would be to set them to false instead of removing them?  Have you tried that?. This sounds like a bug with a plugin no?. Afaik it only works if me or Pita submit the PR..  Can't remember why ;. Docs need adding to README or so?. I implemented it, it was required as a clean way of handling import and then refreshing the users view.  It really isn't user experience breaking at all.  It's so rare you do an import anyway..... If you create a pad with name \ud83d\ude02 and remove all contents then paste \ud83d\ude02 it causes EP to crash.  No export attempt required.  This is due to improperly configured mysql setting in settings.json\n[2018-04-04 11:53:02.331] [ERROR] console - Error: ER_TRUNCATED_WRONG_VALUE_FOR_FIELD: Incorrect string value: '\\xF0\\x9F\\x98\\x82\":...' for column 'value' at row \n1\n    at Query.Sequence._packetToError (/home/etherpad-lite/etherpad-lite/src/node_modules/mysql/lib/protocol/sequences/Sequence.js:48:14)\n    at Query.ErrorPacket (/home/etherpad-lite/etherpad-lite/src/node_modules/mysql/lib/protocol/sequences/Query.js:83:18)\nMySQL Database\nmysql> SHOW FULL COLUMNS FROM store;\n+-------+--------------+-----------------+------+-----+---------+-------+---------------------------------+---------+\n| Field | Type         | Collation       | Null | Key | Default | Extra | Privileges                      | Comment |\n+-------+--------------+-----------------+------+-----+---------+-------+---------------------------------+---------+\n| key   | varchar(100) | utf8_general_ci | NO   | PRI |         |       | select,insert,update,references |         |\n| value | longtext     | utf8mb4_bin     | NO   |     | NULL    |       | select,insert,update,references |         |\n+-------+--------------+-----------------+------+-----+---------+-------+---------------------------------+---------+\nSetting charset to uft8mb4 was the solution for crashing the instance.  You change this in settings.json..\n. Okay here is an update..  \nIf your charset is properly set in settings.json your Etherpad instance wont crash.  \nFollow this guide: https://github.com/ether/etherpad-lite/wiki/How-to-use-Etherpad-Lite-with-MySQL\nEither way Etherpad is not properly exporting UTF32 chars irrespective of Abiword the HTML is garbage too!. Etherpad HTML is exporting\n<body>\n&#55357;&#56834;test<br>\n<div style=\"display:none\"><a href=\"/javascript\" data-jslicense=\"1\">JavaScript license information</a></div>\nNote to self, notice that weird license thing we have had complaints about!\nCharacter reference expands to a surrogate.\nAt line 12, column 8\n&#55357;&#56834;\nMy guess here is that the above &#...  should be represented as \ud83d\ude02 and somehow Etherpad should be rendering/converting that but isn't...  I'm nearly out of time debugging this but hopefully it's a useful starting point for someone to continue.... *bumping @marcelklehr and @lpagliari . okay cool, yeah don't worry about NFCRing package. Please file this issue on the plugins repo assuming it's just a few that's broken.. npm failed.  \nClean install should fix it\nor rm -Rf src/node_modules. Seems to be working fine for me..\nLet me know if you can still replicate and I will reopen. bump @Matombo . Well if you can't be bothered testing I can't be bothered triaging or helping to fix your bugs.. cc @Nikerabbit . I'd merge this but it would make too much work for me.  I'd be more inclined to merge if you can also patch my plugins for me please? :). @ilmartyrk can you resolve the merge conflicts please?. Are you sure?  This feels like a serious bug if it's the case.  Can you provide a test case that I can replicate without an iOS device to hand?  I hate going to our iOS lab...  It's full of weirdos.. ;). Do you get the problem if you don't embed in iFrame?  IE access https://beta.etherpad.org directly?\nCan it be replicated on Safari or Chrome Canary on Windows?\nDo I need an Apple device to test this?\n. Ah so the fix is in @psaavedra ? . Okay do you want to send through a pull request with your fix and we can see how it's received.. Try disable plugins until you find which one is causing this :). Please update the Wiki if you find it's out of date!. Ah, they should be running a recent git hash\nIf you look in Network tab in your browser, click on \"/\", look at headers, look for Server..  The Git hash is in there..  cc @nashe \nba732a6 is latest hash.  You can check the latest hash by looking on github at the develop branch.  We have a release due within the next 2 weeks so I would say if they are running Etherpad 1.7+ they will be okay.  Currently only 1.6.3 is available and we would recommend they are on that until 1.7 is available.\nThanks. By 1.7 I mean 1.6.4\n. I really dislike this PR.  Sorry!. Seems the consensus is to implement this so merging.. Had a number of complaints about this already...\n\nLine height wasn't bumped to match font-size\nI increased line height this has broken numbering and formatting.. Sounds about right!. for now just install organizational plugins using npm install. See Plugins for Active directory.. This was probably an iptables or so issue.  Wont be an issue with Etherpad.. What problem are you trying to solve here?. I think this is just confusion and can be closed.. So basically the HTML export endpoint (with authorship colors) that doesn't download the file?. Bump @rhelmer . What would cause the SESSIONKEY.txt file to be empty?  Surely that is something done by the sysadmin intentionally?  If so, how about not doing that?. @lpagliari can you test this please?. @Gared . Looks tha tway\n```\n/usr/bin/env: \u2018node\u2019: No such file or directory\n/home/xxxx/ep-plugins/node_modules/npm/lib/cache/update-index.js:61\n            var t = +data._updated || 0\n                         ^\n\nTypeError: Cannot read property '_updated' of undefined\n    at FSReqWrap.oncomplete (fs.js:123:15)\n`\n. Looks like npm broke search results.  . partly fixed withnpm config set searchlimit 5000``\n@Gared it appears npm made a breaking change ;\\ npm.commands.search no longer behaves as per documentation.. The crux of it is\nnpm.load({}, function (er) {\n  if (er) console.error(er);\n  npm.commands.search(['ep_'], true, function(er, results) {\n    console.log(results);\n  })\n})\n. Well npm is fundamentally broken so yea ;\\  They changed the search API essentially breaking the way we implement plugins..  I could report to Matt or Isaac but pretty sure our bastardized approach to work around the early API will be disregarded as a suboptimal approach so I doubt a fix will come upstream..\nNo fix in sight imho.. I bumped dep reqs.   See if that helps.. +1 @lpagliari . Would break a lot of things, needs a rewrite to not be redis specific. I guess the update is to use the correct database encoding as per the installation instructions?. Proxy configuration issue.  Not Etherpad issue.. Check your rewrite rules.  Closing as Not an Etherpad issue.. I love that you are contributing to the software by creating Issues and I'd also super appreciate it if you would close issues like this and leave comments like that without us closing it for you!  Just to save us a few clicks!  Again appreciate you being involved and if you can help out with some other issues I'd really appreciate that..  We're currently sinking dealing with issues like these!. This sounds like a horrible use case.  You can share a URL with pad settings set IE https://beta.etherpd.org/p/test?noColors=true -- Do that instead?  Also see jQuery plugin. Closing due to too vague bug report. http://mclear.co.uk/2015/01/15/how-to-write-a-bug-report/. Resolved.. Here would be the right place for this bug by the sounds of things: https://github.com/Pita/ueberDB/issues\nTry to replicate directly with ueberDB and if you can you know the problem is w/ ueber not Etherpad. Unable to replicate.  If you can replicate on a clean instance with no plugins please let us know.. Feels like a duplicate bug report..  Please check. MongoDB is supported by Ueber so should work.\nTake a look at https://github.com/Pita/ueberDB. I'm pretty sure this is a duplicate no?. Dropping a file onto the browser's normal behavior is to load it and this is what you are experiencing...  I don't think we have plans to integrate drag and drop uploads to the editor but will put this in as a feature request.... 1. Please provide steps to replicate IE create new EP instance, type in ??????????, try export/import bla blah..\n2. What is your database/database encoding?. defo wrong db configuraiton.  latin1 will fuck your day up.\nRead the MySQL database config docs.. What is your Etherpad version?. Happy to see a pull request for this @rugk \nOne thing I will say is the problem we have isn't a problem of money, we have plenty of that!\nWe have a problem of finding someone with the right skills who wants to dedicate time to the project and can lead it going forward.  Funded or not, doesn't really matter!\nUnfortunately none of the original authors have time due to travel/family/friends & other life commitments.  None of us expect this to change any time soon, we're all really sorry for that!. @rugk You are correct in your assertion however I have hundreds of people I already hire for my day job.  I don't fancy dealing w/ additional people on top of an already incredibly busy work/play life.  Hiring people has overheads.\nAgreed there are barriers but Github imho makes it super easy for non-technical people to make these types of changes!  We might already have a Librepay account through SFC so I will bump Karen about that and ask her to respond to you.. Update ddocs to correct URI \nhttps://github.com/ether/etherpad-lite.git. Best bet is to do a git bisect and find out where the bug was introduced.\nhttp://mclear.co.uk/2013/04/02/using-git-bisect-to-debug-etherpad-issues/. @muxator feel free to do another release :)\n\nFrom: Girish Ramakrishnan notifications@github.com\nSent: Monday, 9 April 2018 9:17 pm\nTo: ether/etherpad-lite\nCc: John McLear; Mention\nSubject: Re: [ether/etherpad-lite] Fix typo in apicalls.js which prevents from importing isValidJSONPName (#3368)\n@muxatorhttps://github.com/muxator thanks! Will there be a new release that has this change? Would be good to have a new release as we need to pull in the previous release's security fixes as well.\n-\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/ether/etherpad-lite/pull/3368#issuecomment-379863029, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AANewCDCQVX3QZ_cFzphx15MyZG6WwbKks5tm7OrgaJpZM4TLGJh.\n. Hey guys, just a reminder about responsible disclosure.  Posting publicly without giving us chance to pick can be quite dangerous.. Afaik we have a responsible disclosure policy.  I thought it was on etherpad.org and the github readme.\n\nFrom: Fran\u00e7ois Poulain notifications@github.com\nSent: Monday, 21 January 2019 11:16 am\nTo: ether/etherpad-lite\nCc: John McLear; Comment\nSubject: Re: [ether/etherpad-lite] SQL injection attempts killls Etherpad lite (#3502)\nHey guys, just a reminder about responsible disclosure. Posting publicly without giving us chance to pick can be quite dangerous.\nHum ... actually it has been already disclosed because it is used by some nasty guys.\nAlso, I don't see how to report it in a non public way. The project description don't mention anyway private feedback loop for security issues. How do you think would I had reported it?\n-\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHubhttps://github.com/ether/etherpad-lite/issues/3502#issuecomment-456039980, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AANewII6dbcPV2hlcP4uA5c4OHESwQJuks5vFaK4gaJpZM4X1_tz.\n. Noted.  Tnx\n\nFrom: Fran\u00e7ois Poulain notifications@github.com\nSent: Monday, 21 January 2019 2:35 pm\nTo: ether/etherpad-lite\nCc: John McLear; Comment\nSubject: Re: [ether/etherpad-lite] SQL injection attempts killls Etherpad lite (#3502)\nIt could be a good idea to add some invitation \"found a security issue? tell us about it via ...\". Before opening this issue I spent few minutes on github and on etherpad.org without finding such an invitation. Also, as a non native english reader, I could have missed the good terms to seek for.\n-\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHubhttps://github.com/ether/etherpad-lite/issues/3502#issuecomment-456096384, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AANewFZlv6xtuszRP2CCBwWoDHGgTrFwks5vFdGEgaJpZM4X1_tz.\n. +1 Simplifying docs and outputs to make Etherpad more user friendly, for example on Windows on start.bat we could fire up a browser to access Etherpad saving the user any interaction.. Issue of Phusion, not Etherpad.. When you paste Code into Github please use three `'s so the code is properly formatted.  I went in and did an example for you.. duplicate\n. a = asynchronous\n@redhog mentioned something about this on Saturday to @Pita, not sure what the context was...  Something about allowing synchronous hooks being a bad idea or something//\n. I agree but that's a job for another day.\n. gah needs to be .passForm\n. I didn't it's just moved..  see below\nhttps://github.com/ether/etherpad-lite/blob/d09894ce779e1b55970514d1318119dd2485da44/src/templates/pad.html#L199\n. If you can remove this debug message I can merge this :) Just a minor tweak.. \n. Because what you define as important is not the same as what I define as important\n. Wrong encoding?\n. request\n. What does ubuntu install with apt? Prolly bad idea to drop shpport for 6 feel free to close this pr\n-----Original Message-----\nFrom: Marcel Klehr\nSent: 10 Feb 2013 13:41:41 GMT\nTo: ether/etherpad-lite\nCc: John McLear\nSubject: Re: [etherpad-lite] Dependancy cleanup (#1487)\n\n},\n-  \"engines\"        : { \"node\" : \">=0.6.0\",\n-  \"engines\"        : { \"node\" : \">=0.8.0\",\n\nWhen did we drop support for 0.6?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/pull/1487/files#r2955175\n. Yeah\n-----Original Message-----\nFrom: Marcel Klehr\nSent: 10 Feb 2013 13:41:11 GMT\nTo: ether/etherpad-lite\nCc: John McLear\nSubject: Re: [etherpad-lite] Dependancy cleanup (#1487)\n\n@@ -26,7 +26,6 @@\n                       \"log4js\"                  : \"0.5.x\",\n                       \"jsdom-nocontextifiy\"     : \"0.2.10\",\n                       \"async-stacktrace\"        : \"0.0.2\",\n-                      \"npm\"                     : \"1.1.x\",\n\nI don't think is is gonna work -- did you test it?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/pull/1487/files#r2955174\n. Good spot.\n. Weird thats what i did i wonder if have npm installed globally or so\n-----Original Message-----\nFrom: Pita\nSent: 10 Feb 2013 22:26:05 GMT\nTo: ether/etherpad-lite\nCc: John McLear\nSubject: Re: [etherpad-lite] Dependancy cleanup (#1487)\n\n@@ -26,7 +26,6 @@\n                       \"log4js\"                  : \"0.5.x\",\n                       \"jsdom-nocontextifiy\"     : \"0.2.10\",\n                       \"async-stacktrace\"        : \"0.0.2\",\n-                      \"npm\"                     : \"1.1.x\",\n\nMarcel is right, this breaks a fresh installation of etherpad lite. It probably worked for you cause you still had the npm dependency installed. Do a rm -rf src/node_modules and a bin/run.sh and you will see a dependecy missing error\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/pull/1487/files#r2956307\n. You set it to nothing before writing to it.\n. If it's random it changes each time the server restarts.  This is bad as it completely breaks the problem I'm trying to solve (reconnecting to an instance that's been restarted).  I really need your help figuring out why the client stops sending messages to the server though, I tried all sorts of tricks but I'm 2 hours in now and no luck.  It's a problem that has existed since v1.1 so it was either tough to solve or we just missed it.\n. Can you think of a better way?\n. This shouldn't really be in on this PR\n. This functionality would seem to belong in settings.js not here?\n. https://github.com/JohnMcLear/ep_rtc/blob/master/handleMessage.js#L36 is probably the best way to answer your question\n. No because I follow the style/heuristics used in handleCustomMessage...\n. So I'm 99% sure this could introduce a really bad security vulnerability so I'm going back to the drawing board.                    \n. Are you sure about this?\n. cough told you will go semver at 1.3... cough please test PRs cough please help with caret tests cough splutter cough cough\n. same line bracket\n. new line bracket\n. What you do?\n. This whole BackgroundImageCache thing might be able to be removed, I'm not sure what it does.\n. Probably the background iamges for the editbar :)  best to leave it in then..\n. Btw Shouldn't the spacing here be two spaces?\n. Spacing looks completely broken here..\n. You can change it here, no need for a new PR\n. Would !client.handshake.headers['x-forwarded-for'] be safer? IE\nif(!client.handshake.headers['x-forwarded-for']){\n. Docs for this please.\n. Docs for this please\n. Did you thoroughly test this?  Ensuring it works on browser and all browsers during resize etc.\nProlly worth including a test spec for this I guess.  There might already be one :)\n. If a user tries to import blank HTML it will import blank HTML so it will be exactly the experience they expected.  Still, happy for you to do some sort of user feedback if you think it's required :)\n. You may be right here, I wasn't able to get consistent behavior either way\n. Yerp derp, that's how we always did it afaik..  I was tempted to do a require of our own file though, that way we can define counters etc. separately, it'd be cleaner anyways but also it'd mean in theory we could add a hook so plugins could have metrics.  They probably already can but we wouldn't have a specific hook available for them.\n. Does this really qualify as input validation? :)\n. BAD MONKEY\n. I prefer \"is\" being left in here..\n. any reason for leaving in the commented out code?\n. +1\n. Any reason this is left in?  Also the line above \n. debugPrint and print both appearing a lot, perhaps worth cleaning them up and/or making it clear which should be used?\n. can prolly drop this?\n. no ,ace :) \n. You mean 1pc or px?\n. My bad!  Well spotted..\n. Feel free to change it if you really want\n. Would you mind patching and pushing please?  I'm neck deep in smelly stuff!\n. -_- Shouldn't this include a padID string or something?\n. This would break all automated testing by the looks of things!  GG\n. Nope.\n. Nope\n. Is that tabs I smell?  Nope!  Afaik Space indent is correct for EP\n. wtf?\n. Nope.\n. This is the bit that makes image support possible\n. Makes it a new line..  I think this is also required.\n. Actually the main thing to do with images in EP is disable Drag/Drop as that makes shit go crazy.\n. I dunno about this, this seems like the wrong way to extend APIs?  Also we should specify color is optional...\nMaybe\ncreateAuthorWithColor endpoint would be more apt and you tie into the existing function?\n. set does not allow passing a callback, the value will be held in memory anyway (remember the cache & buffer layer) so it wont be a race condition unless nodejs execution is quicker than writing to memory.\n. Aha a very good and valid point! :)  Can't believe that didn't x my mind..\n. Seemed like a sensible constant.\n. How is this new?\n. Yea this is an error, fixing up now\n. I'm being dumb here and can't figure out how to fix this..  Sunday issues..\n. Spacing still wrong here..\n. and here..\n. Missing docs for what is returned See getAttributesOnPosition\n. we do support 0.12 and also io.js\n. afaik we require 0.10+ not 0.10 \n. Missing /(.*)/ ?\n. lulwut indentation..  nope\n. Hrm, would be interesting to try, in through it should try to put rep.selStart[1] as -1 in that instance which is not ideal :P\n. ",
    "schuyler1d": "I can see some intersection of what might be needed, but if this is GravPad:\nhttp://news.kmi.open.ac.uk/11/1189\nthen I mean something different.  Basically, I have a random node.js (or e.g. express.js) web application which does a bunch of stuff (storage/site/datamodel/etc), and has one (or several) datatype(s) that it wants to enable an etherpad widget for the body.  So, you'd install the etherpad 'widget' in your node.js system, and after setting the proper URL routing, etc. up, it 'just works'\n. yes, exactly!  I think its ok if the etherpad routes assume after a certain base-url that the urls are the same (e.g. it might not be /foo and /bar but instead /etherpad/foo and /etherpad/bar.  Also, it can't assume it's the only socket.io capturer/listener for the user.  For that matter user apis should be abstracted.\nIt's actually not too far from that already.  the server.js is the default use, but with a little more abstraction on client/server side, it should be possible to connect etherpad to a larger service by doing e.g. a require('etherpad-lite/express') rather than running server.js.\n. awesome!\nSome comments on the draft:\n1. reconsider returning top-level json arrays for the list*() calls: \n    http://stackoverflow.com/questions/3503102/what-are-top-level-json-arrays-and-why-are-they-a-security-risk\n2. I presume it's planned, but it would be nice to say that the URL doesn't have to be at the root level (e.g. it could be available at /widget1/api/%FUNCTIONNAME% (when implemented elsewhere)\n. ",
    "indexzero": "Also for use at Nodejitsu; our entire API is built on-top of the package.json format. Will take a look at this after JSConf / NodeConf.\n. Very busy leading up to JSConf / NodeConf next week. Checkout the docs for node-static, you should be able to handle it. Otherwise, I'll take a stab at this issue in mid-May\n. ",
    "guybrush": "Less width will make the currently used font unreadable, since the name is too long. \nBut i think that is ok. Will make it smaller.\n. Yes there are only 2 options. \nSorry making an icon and stuff would take some time which i dont have right now (also i really didn't look into all of the code).\nSo this will be a \"quickfix\" for me for now, if someone comes up with a neat looking icon+menue I would be glad to install it :p\n. actually, i would like to make it like that:\nvar app = require('express').createServer()\nvar padSettings = \n  { dbType: 'dirty'\n  , dbSettings: { filename: '/home/patrick/pad.db' }\n  , defaultPadText : 'blub'\n  , minify : true\n  , abiword : null\n  , loglevel: 'INFO'\n  }\nvar pad = require('etherpad-lite')(padSettings)\napp.use('/pad', pad.app)\napp.listen(5000)\n// also possible:\n// pad.app.get('/otherRoute',function(req,res){res.end('hello')})\n// pad.app.listen(5000)\nhow do you think about that api?\nwe could make all the routes editable in the settings\n. @cweider sorry there is lots of noise in this patches, they are not meant to be merged - its all about the idea/api :D\n@ronquil yes it would be cool to have an option to mount ep-lite into another app\ni will try to make a better patch next weekend\nthanks for response\n. ",
    "AlexanderWillner": "Nice one. Works as expected. Thank you.\nAlthough \"npm install\" ran successfully but still the new version was not installed. I copied the changed files by hand.\n. Sure, good idea: https://github.com/Pita/etherpad-lite/wiki/ApacheProxy\n. Ok, the issue is that \"this.base.options.port\" is empty:\n\nnode_modules/socket.io/support/socket.io-client/socket.io.js:819:    + ':' + this.base.options.port\n\nWhen setting the port to 443 manually it works using Firefox and Opera*.\n- Unfortunately Opera only shows the Pad, GUI, Colors, etc. but doesn't seem to send status updates (no error found in any log)\n. And here is a quickfix:\n\n--- orig/node_modules/socket.io/support/socket.io-client/socket.io.js   2011-05-23 22:38:54.000000000 +0200\n+++ patched/node_modules/socket.io/support/socket.io-client/socket.io.js    2011-05-25 13:55:32.000000000 +0200\n@@ -814,6 +814,9 @@ if (typeof window != 'undefined'){\n    * @api private\n    */\n   WS.prototype.prepareUrl = function(){\n+    /* Quick workaround for issue 14: */\n+    if ('' == this.base.options.port)\n+       this.base.options.port = this.base.options.secure ? '443' : '80'\n     return (this.base.options.secure ? 'wss' : 'ws') \n     + '://' + this.base.host \n     + ':' + this.base.options.port\n\n. You might be right, although the \"fix\" is very ugly and doesn't solve the root cause. Anyway: https://github.com/LearnBoost/Socket.IO/issues/161 (hope this is the correct repository).\n. Easiest implementation: Add \"\" to index.html and the user can enhance this file.\n. Yes, everything seems to work fine when connecting to the server with all browsers without a proxy.\n. Unfortunately, yes: http://imageshack.us/f/155/screenshot20110712at133.png/\n. Btw: you can test it with your own pad: https://pad.pitapoison.de/pad/p/1GN27CypwS\n(Tested with Opera 11.50 Build 1074)\n. Line 12:\n\nscript async=\"\" src=\"http://etherpad.example.org:80/socket.io/jsonp-polling//1308683150156/0\">\n\n. Thanks for the answer. As I wrote: \"Version: latest trunk\". My is command: \"git pull origin && npm link && ./bin/run.sh\". Unfortunately it seems not to be possible to see which version is running at the moment (neither on server nor on client side).\n. What I meant \"I cannot see which version is currently running and active in memory\". Of course the directory is up to date (\"Sat Jun 4 18:26:19 2011 +0100\"). I'm quite sure that this version is running (although it's not stated anywhere).\n. One one update on this:\n- Chrome Console: http://pastebin.com/9HyJmSzM\n- Opera Console: http://pastebin.com/CT9WKYAv\n- HTML (see line 14): http://pastebin.com/uMgRhzma\n. Nailed it down. The issue is in lib/node_modules/ep-lite/node_modules/socket.io/support/socket.io-client/socket.io.js:495. As an quick'n'dirty workaround I added the following two lines to the function \"Transport.prototype.prepareUrl\":\n\n    this.base.options.secure = true;\n    this.base.options.port = 443;\n\n. Thanks. Seems to work on Chrome, Safari and Firefox.\n. Thanks for the response. Same with 14.0.803.0 dev and 14.0.815.0 (with and without extensions, with or without incognito mode, ...). Maybe this screenshot helps (the iframe height is different): http://imageshack.us/photo/my-images/9/screenshot20110708at145.png/\nAlso: http://goo.gl/v293E\n. Confirmed. Thanks.\n. ",
    "christophlsa": "Suggestion: Either you put it in a sub directory (e.g. scripts) or you use something like GNU Configure or Waf for installing etherpad-lite.\n. ",
    "noel": "2 errors both say \n\"Object Expected\"\n- Line 533 Char 5\n- Line 2 Char 22\nGotta love IE errors reporting :)\nNot sure if it is related to socket.io.js guess we can test with patched file.\n. That's the error shown when I click the error symbol in IE (bottom left corner)\nFull text is:\nLine: 533\nChar: 5\nError: Object expected\nCode: 0\nURL  http://pitapoison.de:9001/p/Cm9etv5Vm2\n\nThe other is the same substituting Line and Char.  \nDon't know if there is a better way to get a more meaningful error in IE.\n. yes I do, have there been any updates since 6/15?  That was the last time I tried.\n. Ok, tried online demo again, getting a console error now\nLine: 2\nChar: 133\nError: 'console' is undefined\nCode: 0\nThis might solve\nhttp://stackoverflow.com/questions/3326650/console-is-undefined-error-for-internet-explorer\nif (!window.console) console = ...\n. Good news is that there are no more JS errors\nBad news is that it still hangs on Loading...\nif you want me to \"interactively\" test I am on irc freenode as noel_g\nEDIT:  went back to the window and an error did eventually show up\nLine: 3322\nChar: 7\nError: Object doesn't support this property or method\nCode: 0\n. I still have the problem. Just tested with a different computer running Windows 7 and IE 8 and exact same result.  Stuck at Loading...\nIE 8 did give me more info on the error\nObject doesn't support this property or method\nsocket.io.js\nCode: 0 \nLine 3321\nChar: 7\nIT 7 reports the line as 3322\nAt least we know the exact file.  So it is socket.io related.\nNot knowing anything about socket.io, does it use a port other than 80 that may be blocked at my company?  Doesnt seem like it would have anything to do with that, but checking in case.\n. Primarywall is pretty cool, nice job.  I'd love to deploy something like that within our firewall, is that open sourced?\nI have good news and bad news it worked on both IE and Chrome.  I was able to create this\nhttp://primarywall.com/lWF6J1pRZ7\nthe bad news is that in IE I kept getting security warnings from IE stating \n\"A Website wants to open web content using this program on your computer\"\nIt was opening my text editor, the file that Opened contained \"OK\" \nSo seems that every msg received was being treated that way.  In a short time I had 54 of those dialogs to dismiss :)\n. Now only is IE7 a pain, I am using Vista.  gotta love corporate america :)\nI am sure a kitten dies every time I log into this computer.\nIf only I could use my MBP for all I'd be a happier man lol\nSo, I tried primarywall from IE8 on Windows 7, worked perfectly, no errors or warnings.\nI then tried IE 7 on the vista computer and produced the same warning, here is the screenshot\nhttp://dl.dropbox.com/u/37954/etherpad-lite-IE7-warning.png\nas u can see it is trying to open e.exe which is the \"clone\"of textmate for windows.\n. Ran AV with latest definitions and nothing was found.  I wouldnt expect it to be that since I am in corporate environment I would \"hope\"someone in IS would notice suspicious network activity if there was something spreading within the network.\nI think a more likely scenario is that there is other enterprise crapware like sharepoint plugins that are interfering.\nI also have lastpass installed but wouldnt think that would interfere.\nI have an old HP laptop at home going to try from there too.  I think I had tried that once and was able to reproduce, but can't remember.\n. meetbymaps.com doesnt support IE 7\nYOUR BROWSER DOES NOT SUPPORT COMPLETELY TECHNOLOGIES USED IN MEETBYMAPS.\nUPDATE YOUR BROWSER!\nYour Browser: ie\nVersion: 7\nsociowriter.com didnt work either, their CSS was way off too so dont think they have looked at site in IE :)\n. I am guessing it has something to do with a .txt file association I have in my system so when it sees that, IE tries to launch e.exe\nEither way I had a another person with Vista and IE 7 try primary wall and it worked with no issues.  Etherpad-Lite had the same problem, stuck at \"loading\"\n. Seems like there is a difference between etehrpad-lite and primarywall.  Primary wall works (excluding my computer).\nis there a socket.io difference between the two?\nEtherpad-lite seems to have the problem originally stated.\n. ## From above johnyma22 said\njust another note, pita we did issue a pull request for a bug in socket.io that we discovered a few months ago. We patched it on PrimaryWall, maybe Noel can browse to http://primarywall.com and see if that website works okay for him in his IE?\n-- I patched it on beta.primarypad.com, and this bug only appears together with nginx (Pita)\"\n\n. ",
    "randyho-kk": "I was not able to reproduce this.\nI browsed to:\nhttp://pitapoison.de:9001/p/Cm9etv5Vm2\nIE7 and IE8 work fine.  Windows 7 64bit.\n. I don't have IE9 installed.  Tested with my host system which is IE8 on windows 7.  Tested also in IE7 in a Windows 2008 VM.\nAlso tried IE8 in browser modes IE7, IE8, and IE8 compatibility.  No change.  Wasn't able to reproduce.\n. There are no javascript errors.  The interface displays \"Import failed: Request timed out\" in red font next to the \"Import\" button.\n. This might help.\nhttps://github.com/felixge/node-formidable#readme\n. Also, going back to my original issue.  The word document was successfully imported.  the pad contents was updated with the body of the word document.  But the error still showed.  I don't think it was b/c of large file size.  The word document was only a few lines long.\n. I revisited this and could not reproduce the error.  Import works as expected\n. should be easy enough to do\n. Thanks.  I'll try it with v0.5.5 and report back.\n. Still happens on v0.5.5.  It's definately in node.js and not ep-lite.  Unfortunately this issue causes ep-lite to be unusable on windows.  I'll see if i can put in a pull req for a fix.\n```\n\u2190[32m[2011-08-30 14:26:28.522] [INFO] socket.io - \u2190[39mtransport end\n\u2190[32m[2011-08-30 14:26:28.565] [INFO] http - \u2190[39m200, GET /p/2-1314739399448\n\u2190[32m[2011-08-30 14:26:28.639] [INFO] http - \u2190[39m200, GET /static/css/pad.css\n\u2190[32m[2011-08-30 14:26:28.711] [INFO] http - \u2190[39m200, GET /static/custom/pad.cs\ns\n\u2190[32m[2011-08-30 14:26:28.717] [INFO] http - \u2190[39m200, GET /static/custom/pad.js\n\u2190[32m[2011-08-30 14:26:28.730] [INFO] http - \u2190[39m200, GET /minified/pad.js\n\u2190[31m[2011-08-30 14:26:28.742] [ERROR] console - \u2190[39mAssertionError: {\"oncomple\nte\":\"function afterWrite(status, handle, req, buffer) {\\n  var self = handle.soc\nket;\\n\\n  // callback may come after c == {\"oncomplete\":\"function afterWrite(sta\ntus, handle, req, buffer) {\\n  var self = handle.socket;\\n\\n  // callback may co\nme after c\n    at Object.afterWrite [as oncomplete] (net_uv.js:414:10)\n\u2190[32m[2011-08-30 14:26:28.753] [INFO] console - \u2190[39mgraceful shutdown...\n\u2190[32m[2011-08-30 14:26:28.755] [INFO] console - \u2190[39mdb sucessfully closed.\n```\n. node.exe v0.5.6 was released so I tried this again.  The issue still exists and I seemed to have gotten my db into an unrecoverable state.\nAfter crashing the server a few times by continually changing the url, the server eventually wouldnt start and threw this error\n```\nC:\\Users\\Administrator\\Desktop\\etherpad-lite-win>start.bat\nC:\\Users\\Administrator\\Desktop\\etherpad-lite-win>cd node\nC:\\Users\\Administrator\\Desktop\\etherpad-lite-win\\node>..\\bin\\node server.js\nThe \"sys\" module is now called \"util\". It should have a similar interface.\n\u2190[32m[2011-09-12 16:57:30.021] [INFO] console - \u2190[39mYour Etherpad Lite git vers\nion is ecd486e\n\u2190[32m[2011-09-12 16:57:30.026] [INFO] console - \u2190[39mReport bugs at https://gith\nub.com/Pita/etherpad-lite/issues\n\u2190[32m[2011-09-12 16:57:30.233] [INFO] console - \u2190[39mServer is listening at 0.0.\n0.0:7000\n\u2190[32m[2011-09-12 16:57:30.235] [INFO] console - \u2190[39m   \u2190[36minfo  -\u2190[39m\n'socket.io started'\n\u2190[31m[2011-09-12 16:57:30.250] [ERROR] console - \u2190[39mError: Could not load corr\nupted row: s the same text. This allows you to collaborate seamlessly on documen\nts!\\n\\nEtherpad Lite on Github: http://j.mp/ep-lite\\n\",\"meta\":{\"author\":\"\",\"time\nstamp\":1315870865226,\"atext\":{\"text\":\"Welcome to Etherpad Lite!\\n\\nThis pad text\n is synchronized as you type, so that everyone viewing this page sees the same t\next. This allows you to collaborate seamlessly on documents!\\n\\nEtherpad Lite on\n Github: http://j.mp/ep-lite\\n\\n\",\"attribs\":\"|6+6c\"}}}}\n    at C:\\Users\\Administrator\\Desktop\\etherpad-lite-win\\node_modules\\ueberDB\\nod\ne_modules\\dirty\\lib\\dirty\\dirty.js:96:30\n    at String.replace (native)\n    at [object Object]. (C:\\Users\\Administrator\\Desktop\\etherpad-lite\n-win\\node_modules\\ueberDB\\node_modules\\dirty\\lib\\dirty\\dirty.js:89:23)\n    at [object Object].emit (events.js:67:17)\n    at [object Object]._emitData (fs.js:1040:29)\n    at afterRead (fs.js:1024:10)\n    at Object.wrapper [as oncomplete] (fs.js:246:17)\n\u2190[32m[2011-09-12 16:57:30.252] [INFO] console - \u2190[39mgraceful shutdown...\n\u2190[32m[2011-09-12 16:57:30.253] [INFO] console - \u2190[39mdb sucessfully closed.\nC:\\Users\\Administrator\\Desktop\\etherpad-lite-win\\node>\n```\nTo crash the server, i've been doing the following:\nhttp://<domain/p/foo\nhttp://<domain/p/foo1\nhttp://<domain/p/foo2\nhttp://<domain/p/foo3\nhttp://<domain/p/foo4\n...\netc\ndoesnt take long for the server to throw the net_uv error and shutdown.\n. This may get resolved with the next version of node.js for windows (v0.5.7)\nhttps://github.com/joyent/node/issues/1697\n. They fixed this with v0.5.10.\n. +1\n. are you able to launch abiword interactively?\n. what version of nodejs?  It might be either a bug within nodejs or your permissions going awry somewhere.\n. Etherpad has an API to allow it to be integrated into existing systems.  Some of these systems may not use some of the features.\ne.g.  If integrating EP-Lite into an internal sharepoint server where pads are private, you would not need the public link since users need to log into the sharepoint system first to get to pads.  Same goes for the embed code and chat if the system you're integrating with already has a mechanism for chat.\n. I answered the \"Why\" in the previous post but did not answer the first part - \"How\"\nTwo places where we could set the toolbars - the config file (settings.json) and through the API on individual pad creation.\nWith the config file, we should add additional parameters to enable/disable the toolbar items.  These options would be used as the defaults for newly created pads:\n\"showShareLink\": true,\n\"showReadOnlyLink\": true,\n\"showImportExport\":true,\n\"showEmbedCode\":true,\n\"showChat\": true\nAdditionally, it would be useful to extend the API to allow for these items to be configured for individual pads on pad creation.  \n```\ncreatePad(padID [, text][, showShareLink][, showReadOnlyLink][, showImportExport][, showEmbedCode][, showChat]) \n```\n. awesome.  that will take care of it in the short term.  looking forward to server side and granular support in the future!\n. Happens also when switching to timeslider and then back.\nSteps to reproduce:\nOpen a pad.\nClick the userlist\nChange your name from undefined to something\nClick the time slider icon.\nClick Return to pad.\nView the userlist - your name is now \"undefined\" again.\n. wow sounds like a great feature to add.  I will test this on windows sometime next week.\n. agree with @johnyma22.  i think there will be quite a few people who would prefer an explicit click for these open/close/focus events.  cant think of any UI that fires these events on hove outside of dropdown menu type rollovers.  but even those require click to focus.\n. seems really edge case, even for a setting\n. agree.  that behavior goes counter to traditional tab use\n. this update now works and matches traditional word processing shift-tab behavior.\ngood job @jtlebi.\nlooks good to pull from my end.\n. disagree with @Wikinaut.\nThe behavior is true to traditional text editors.\nI tried shift-tab in Notepad, MS Word, and vim.\nAll will remove the tab on shift-tab only if the cursor is at the beginning of the line.\nAll will add a tab on shift-tab if there are any characters to the left of the cursor.\nto delete a tab in the middle of a line, you can use the backspace key.\nI do not support reopening.\n. what will the behavior of shift-tab be in cases like this:\n\\char\\char\\space\\cursor\\char\ndoes it remove the space, add a tab, or do nothing?\n. i think traditionally, text editors don't remove a tab mid line on a shift-tab because of cases where people are doing something like this:\n<hold shift> ABC<tab>EFG<tab>HIJ<tab>KLM<release shift>\nallows for quick adding of tab while typing caps without having to release shift.\ni can't ever imagine using shift-tab other than when i am tab indenting at the beginning of a line.  If i tab in the middle of a line, i always just use backspace to remove.\n. not a fan of the box being colored behind the sillouette.  if you color just the person, then it'll show up decently on white (since our highlilghts show on white).\nThere could be cases of a dark color showing up behind the icon where it becomes just a dark colored box.  \nIf we do the background, i think we have to change the color of the person icon also so there is proper contrast\n. This is what I'm seeing:\n\n. Just tested this in FF8.0 and IE8.  \nOpened FF8 and browsed to pad\nbutton shows colored as expected (looks very good!)\nclick on button and change my name to \"KingKaeru\"\nOpened IE8 and browsed to pad\nbutton does not show as colored (still just all white)\nclick on button and change my name to \"KK-IE8\"\nAlt-tab back to FF8\nclick on show connected users.\nSee KK-IE8 in list\nAlt-tab back to IE8\nClick on show connected users.\nSee the line with the color for my firefox session but it is listed as \"Undefined\"\nClose IE8 and reopen pad.\nClick on show connected users.\nLine for firefox session still shows as undefined.\nThe line should show \"KingKaeru\"\n. I see use for this but also agree that we should keep this as a plugin and not part of core.\n. we could also perhaps save the color choice as a cookie that loads across multiple pads.  This way the user only has to pick it once and ep-lite attempts to use the same color selected during the previous pad.\n. yeah but i meant if they create a second pad.  their color automatically is set to the color of the first pad (if it's available).\n. Great work redhog.  A framework is definitely what currently needs to be added to ep-lite for many etherpad users to migrate over.\nI have some questions though.\nIn the example:\nexport.getSomeToolbarButtons(hook_name, args, callback)\nwhat is the point of passing in hook_name?  should the function be aware of the calling hook name?  if something specific about the hook needs to be passed to the function, wouldn't the args be sufficient?\nI also don't quite understand pre and post on the parts definition.  Are these event triggers?\n. Agree but my concern is that it leaves the door open for people to add content marked as having come from someone else.  Sure, a copy/paste is innocent but what about the case where someone stuff's their clipboard with markup that wasn't from a copy?\nThey'd be adding new content highlighted as coming from someone else.\n. Actually, we should display \"You do not have permission to access this pad\" since that's the error that displays if editOnly is set to true\n. I'm not sure if this is a symptom of a bigger issue.  When I set a session cookie in the browser using the API, the pad is still stuck on \"Loading\".\n. I just double checked 3caa030 and it happens still. So then i digged deeper by trying a different browser.\nFF13 behaves properly.\nIE9 behaves properly\nFF3.6 does not display the message and is stuck on loading.\nProbably fine to disregard.\nThanks for looking into it.\n. I understand that the etherpad interface is designed as a plugin itself and that plugins do not have ordering.  Perhaps it should be changed so that the etherpad plugin is always the first to load.\nWe could modify getPackages to return all plugins except the ep_etherpad-lite plugin and have the ep_etherpad-lite plugin loaded before we run async.foreach on the rest of the plugins\nhttps://github.com/Pita/etherpad-lite/blob/develop/src/static/js/pluginfw/plugins.js#L78\n. That's because 3 new plugins were added so the total is an even multiple of 12.\nIf you change the total number of plugins to not be a multiple of 12 you will be able to reproduce.\n. ",
    "0ip": "My goals were to keep it as clean and minimal as possible. (was not so hard due to the number of elements)\nWhy don't you like it? :)\nA few optimizations: http://fiddle.jshell.net/hHDDR/show/\nGradient BG: http://fiddle.jshell.net/hHDDR/1/show/\n. background-color: #fff; == background: white;  :D\n. Yep. Even works in IE5. (according to IETester + Internet Explorer Platform Preview)\n. What about moving the label on the left side again and starting another survey?\nTo get rid of possible readability issues, I already made the color a bit darker. Trust me, black font using a white text-shadow on a gray background looks terrible.\n. I bet you mean today - Okay =)\nFor the record: everything works except the import animations\n. Yep\n. Will do.\nBut this could take some time due to school tests etc.\n. \n. @jhollinger Thank's for testing. Atm I only added support for webkit based mobile browsers. Can you post some screenshots how it looks using FF?\n@Pita Maybe at the moment - but that will probably change in the future.\n. ok ok\n. Okay\n. iirc you said you like it and imho it simply looks better\n. 06037dc belongs to patch-3\nsry...\n. Maybe we can use PDFKit (Node Module)? http://pdfkit.org/\n. dirty pull req :)\n. Nope..  I didn't even touch the db...\n. jabber? g\n. If you mean this issue: http://j.mp/r38jPV \nUnfortunately the pad is currently not intended for embeds smaller than 600px width.\nBut nothing is impossible.\nUsing @media screen and (max-width: 600px) { it's possible to reduce the padding. :)\n. fixed\n. Can we close this @johnyma22 ?\n. Looks good @bmamlin!\nCan you remove that close button (has alignment problems anyway) and instead put our two cancel and save buttons in the bottom right? \n(++ Usability  ++ Mobile support)\n\n(quick and dirty paint.net draft)\nAnd to keep a consistent dialog design, please remove this box-shadow.\nIf you have finished those small changes, please make a pull request. It looks nice and solves our problem. ;)\n. Link is apparently broken.\nupdate: fixed\n. Tested it again on Android 4.0.1:\nThe textfield 'overlays' the picker so that you can't select any color. It works if I reduce the text to one line - even without a save button. Probably something hacky like z-index: 999 helps? Not sure...\nCan you update your demo? It doesn't contain the recently pushed mobile patch.\nEdit:\nlooks like we can remove the save button\n. Can you update your instance to the latest version?\n-> simplifies testing on android\n. Btw, it works >IE7 (according to IETester)\n. What's the status on this? In my opinion we can merge this.\n. @bmamlin It would be cool if you could make a plugin of this color picker! :)\n. > [...] it's his specialism [...]\nThanks a lot! However, I don't think it's my real specialism. :)\nI would add a checkbox, which simply switches the text of those two inputs.\nFour textfields look a bit strange, IMHO.\n. (1) Remove the recently added #usericonback\n(2) Replace the old line with: $(\"#usericon\").css({'box-shadow': 'inset 0 0 30px ' + myUserInfo.colorId});\n\n. I like it. Even darker colors appear contrasty due to the blur/fade-effect of box-shadow. But I prefer 30px since 10 look too weak.\nChanging the color of the silhouette is not easy. It's a PNG and therefore it requires image manipulation - in JavaScript.\nMaybe we can replace those icons with icon fonts in future, that would enable us to simply change the color value, but for now, this should be enough.\n. This \"fix\" overlaps the box-shadow effect, but IE9 is able to display box-shadow correctly.\nWhy is it so bad that IE8 user's don't see their color? Only because IE8 fails, we make a fallback which affects every other browser?\nIf we use this \"patch\", 'box-shadow': 'inset 0 0 30px ' + myUserInfo.colorId is needless.\n. // cc @johnyma22 + @Pita\n. - wider buttons\n- flexible dialogs\n\n. Thanks.\nEven my old iPod touch 1G (iOS 3.1) displays it almost* correct. So, it will look the same as on Android or even better on modern iPhones. :)\n* rounded corners, gradients\n\n\n. Are you sure that you're either on \"pad.factor.cc\" or \"factor.cc/pad\" ?\nAtm, only I have this patch applied.\n. Yeah, GitHub uses inputs or textfields. Every phone can type through these elements.\nBut synchronisation using these wouldn't be possible. That's why ep-lite uses something like editable <div>s. And that's not widely supported.\n. By the way: would you change something on the layout? E.g. hide some buttons, ...?\n. @markreg\n1) Can you post a screenshot how it looks?\n3) Same as 1), but I'm not going to make specific changes for iOS - Android users can upload afaik (-1 for Apple)\n4) That's dynamic to fit the length of the line number. (eg. line 13895)\n6) This requires additional pixels and therefor isn't really necessary.\n. sigh\nAndroid doesn't even allow you to scroll.\nIt also breaks text correctly after you have rotated your display. \nLungoJS looks good btw, but imho it's not appropriate for ep-l.\nIt's way too heavy and adds in addition more unnecessary code.\n\n. This misalignment (QR-code) has been fixed. :thumbsup:\n\nAlso the document export gives an error on the iPhone for some reason.\n\nCan you try it again and name the error message?\n. > QR code is still misaligned and very big.\nNot possible ;)  Try to empty your cache and open a new pad.\n\nWord document export [...] gives an error\n\nAnother weird bug...\n. @johnyma22 qr-code yes or no?\n@markreg \nAtm there are no options to disable ui elements.\nYou're right. I'll make those dropdowns fullscreen and add close buttons.\n. @markreg \nLike I said (https://github.com/Pita/etherpad-lite/pull/240#issuecomment-2949581):\nThese line numbers are dynamic and can't have a fixed width.\n. @johnyma22 vs. @Pita & @markreg :)\nAnd now?\nIf we remove that bottom bar, what happens with the user button?\nSqueezing it in the top bar is not a good idea. \n\nJohn said: [...] he simply scans the QR code from my mobile device and hes on the same pad\n\nYeah - it's a nice function. But same problem as mentioned above.\n. Yep\nGenerate some text (http://www.loremipsum.de/index_e.html) and copy/paste it in the pad.\nSee what happens with the numbers on the left...\nDo you think a 4/5 digit line number would fit into a 5px wide bar? \nI quote John: \"It's a small fish...\" ;)\n. See new pull req.\n. Successfully added on my to-do list ;)\n. Oh I hate Flash... :[\n. Updated example\nodd: works in Chrome but not in Firefox...\n\nafaik youtube is using iframes to embed videos. If thats the reason why you hate flash\n\nyep - that was one of my reasons ;)\n\u2192 http://occupyflash.org/\n\n@markreg\nDisabling colors already work: http://pad.factor.cc/p/holymoly?noColors=true\nI have to think about this tooltip ;)\nHowever, that's OT.\n. @Wikinaut You forgot Opera and I won't test something in IE8.\nRegarding the Firefox issue: I don't know what's wrong. According to Firebug, syntax is ok and the log says that some variables are missing, but in YouTube's and Vimeo's embedding pages (which is, of course, odd, since it works in a single html with the same syntax as used in epl but without any problems...).\nDo we really need YT/V support?\n. Alright. \nI tested this weird thing again using IE9 + Opera 11.60 + Chrome 17 and it works.\nSo it must be a Firefox-related bug.\n@markreg\nThis resizing function is built-in since FF5 or 6.\nIf you want to move images, move the link.\n. I guess no.\n\nWhen I attempt to resize any image it jumps back to the original size.\n\nOf course: your 'resize' is only local.\n. Flash is a bit tricky on Firefox. It doesn't work yet but I don't know how to fix it.\n. Pita insists on Youtube + Vimeo support. ;)\nHTML5 ftw\n. IE is supported and that's the main point.\n. @jtlebi Good idea. It's @Pita's decision. \nFor now, it's planned for version 1.2 to enable/disable media detection globally in a menu for several options like monospace, authorcolors, password protection etc.\n@Pita Media is neither shown in the slider nor in exported documents.\n. @0ip waits until @Pita finished plugin support. :P\nBut even then it's doubtful whether I'll rework the code.\n. My condolence to all the poor IE8.0 users out there. I know, it's hard and painful to open Chrome's website.\nA lot of dangerous creatures could appear and it's highly possible that they'll exploit your computers!\nWhat's wrong with upgrading to Chrome or Firefox? Even IE9 would be sufficent. MS has learned from its mistakes and IE9 is a good step in the right direction of web development.\nIE8/IE9 comparison\n\n\n[Source: netmarketshare.com]\nIf you're in a restrictive work environment, you can avoid installations by using portable versions which have various advantages.\nThese IE specific fallbacks slow down development, restrain innovations and forces developers to write messy and hacky code.\nIE8 scores 20/100 at Acid3 - a test which checks for basic standard W3C HTML support. Not to speak of other tests.\nIf you want autofocus for IE8, you can paste document.getElementById('padname').focus() in your custom js file. It's designed for those things.\nBut I won't support this. Etherpad Lite is a young piece of software and uses modern technologies - IE8 accomodations would represent a retrograde step.\n. > [...]  tens of thousands of dollars in training costs [...] \nOf course. Nice hyperbole.\nIt's a wrong assumption that a transition from IE to FF requires so much knowledge.\nFor sure, many people have Firefox at home and therefor know how to use it.\n\n[...] would not represent a retrograde step [...]\n\nIf there's a modern variant of it, it is.\nYou don't call this a retrograde step, even if every browser today supports it - except IE? \nWhy can't @Wikinaut simply put this line into his custom js? Why so difficult?\nAnd apart from that, why must EVERYTHING work in IE, even an autofocus of one input form?\nIf a company likes to maintain an old version of this IE usability hell, their employees have to deal with it.\nA typical IE user doesn't have a problem to click several times on a textfield. He's accustomed to click through untidy menus and to see not well rendered pages.\n. > first world by default and by only relatively young people\nSounds like our target audience...\n. 40% IE and how much of that is Version 9?\nWhat about collecting IE specific code in the custom.js file? That way we could separate 'clean' and 'temporary-ie' code.\nIf the vast majority has upgraded to > IE9, we can simply remove this file.\nOtherwise we have a lot of mixed junk/legacy code in a few years.\n. I'm still holding the opinion that it's unnecessary to add a fallback for such an infinitesimally small \"feature\".\nIf it's absolutely necessary add it as far as I'm concerned.\n. close close close =D\n. Hi @belfryimages, that's because the line numbers had been temporarily disabled using #sidediv { display: none }.\nThe correct way to do this, which also fixes your concern, is to disable line numbers completely using javascript.\nIt's on my todo-list. :)\n. Works, but in some cases it's not white.\n. Hi @SteffanCline, I can't reproduce your issue. Have you tried to empty your cache? Chrome for example is really tenacious :)\n. forgot them, sorry\n. Yep, but are those 'display: inline-block' necessary?\nEdit: yes, but they can be moved in pad.css too.\n. also applies to the chat\n. +1 for removing jQuery UI.\nanimate() is perfect for that, or simply show() & hide().\n. Is that okay?\nExample: http://pad.factor.cc/p/pXRnDJvyw5\n. I think we can close this, or?\n. Please don't :(\n. #379 ;)\n. I applied a temporary fix to https://factor.cc/pad.\nCan you check if it works there?\n. A git command apparently swallowed up my fix (for bug 2) - please try again...\n. I'm closing this since the 2nd bug is more or less iOS-webkit-version specific.\nEn plus, it's hard to debug without having such a device.\n. Any update on this?\n. Sorry I was in a rush yesterday evening.\nI'm not sure why, but removing this (nginx config):\nlocation ~* \\.(js|css|png|jpg|gif|ico)$ {\n   expires 1w;\n}\n...helped. sigh\nSorry for the confusion I caused. =P\n. > Tabs get replaced server side by whitespaces afaik\nThat behaviour should also be applied client-side. (as it is done in etherpad)\nIn epl, tabs are rendered inconsistently by CSS.\n=>list-indent1 { margin-left: 1.5em } ...\n. 29px could do a good job, but having four spaces instead would be a cleaner solution, imho.\nEdit: Maybe 28px are better?  --   _sigh\nhttp://titanpad.com/nafO1uFxZQ\n. looks good to me\n. I appreciate your approach to minimize the CSS and to remove ancient & redundant ep css code.\nEn plus, these icons look awesome, but please seperate what you did in single commits (e.g. useful for the CSS minimization part).\nSome further thoughts (mimimi):\n- most of the UI components lack of contrast\n- some background-positions do not match the actual position\n- UI is not resizable \u2192 looks spooky on android/ios browsers or embedded pads\n- why does the left editbar has some margin while the right one doesn't?\n- #391 - is there a reason why you removed this?\n- inputs definitely need outline: 0 if a border is defined since chrome adds a yellow one\n- don't mix em and px in one value (cf. l. 168, pad.css)\n- h1, h2, etc. should have different font-sizes\n- the box-shadow @ #usericon you removed was there to indicate which color a user has ;)\n- favicon without \"EP\" looks much better, imho\n\nStep for step, okay?\n. @iframe_editor.css\n```\ninnerdocbody a {\ncolor: inherit;\n}\n```\n...works great, it simply adapts the span's author-a-xyz color\n. Using my suggestion, the link color equals the color of the text - that way it should be dynamic.\n. True... there should be something like color: inherit +- #222; :D\n. it works, thanks :)\n. If we would include <head> and <body>, we would have one more indentation level.\nThat's all - I couldn't find any reason to keep it. If you want it really back, say so.\n. Fixed :)\n. That favicons looks good, BUT, we don't need this Mac OS X'ish DS_Store file and since it's just a simple favicon we also don't need the psd file.\nCan you convert your favicon.png to favicon.ico, replace the old one and make a new pull request please?\n. It would be better to 'outsource' the inline CSS and rather add a class. :)\n. Which browser?\n. I found a better solution :)\n. Successfully tested ;)\n. @Pita , can you set UTF-8 as default collation in ueberDB and while you're at it, pull the redis handler (really useful)?\nhere probably :)\nThis would solve this issue.\n. Update? :)\nA few remarks: \n- editbar buttons aren't vertically centered\n- background-color: gradient... isn't valid, it has to be either background or background-image (why did you change this?)\n- mobile view is a bit broken\n. I wait until #627 is merged.\n. Sure.\nBtw, can you pls merge #612 since this one relies on it.\n. Deleting \"document.domain = document.domain;\" in pad.html helps.\n(develop branch, tested on Ubuntu Firefox 11)\n. I'm running 67d9f73.\nDo you get that ace2_inner.js error here: http://pad.factor.cc:9002/p/tadzlvfjAx too?\n. @johnyma22 , is there any reason not to pull this?\n. This overwrote the admin design stuff with John's discarded proposal. >.>\n. pull req 640 contains everything\n. Can you indent <title> and <meta> so that they have 4 spaces too, please? :)\n. Also, please reissue this pull request to the develop branch please.\nMore information here.\n. \nCan we fix this in 1.3?\n. Are you sure this isn't browser-specific?\nCan you make a screenshot pls? \n...couldn't reproduce this here... (Chrome 20, Firefox 14)\n. ace2_inner.js - setUpTrackingCSS() seems to be responsible for that padding.\n(https://github.com/Pita/etherpad-lite/blob/develop/src/static/js/ace2_inner.js#L300)\nNot sure whether we still need this...\n. It's not really broken, this functionality was removed as we decided to throw out jQuery UI due to its use/size-ratio.\nBut I agree, it would be cool to be able to resize the chat horizontally in sticky mode.\n. Nevertheless we can update socket.io or?\n. Can you verify that this issue only appears using an sqlite db?\n. [2012-05-13 18:39:20.676] [DEBUG] socket.io - setting poll timeout\n[2012-05-13 18:39:20.676] [DEBUG] socket.io - discarding transport\n[2012-05-13 18:39:20.677] [DEBUG] socket.io - cleared close timeout for client '392087461215116643'\n[2012-05-13 18:39:28.952] [DEBUG] socket.io - clearing poll timeout\n[2012-05-13 18:39:28.953] [DEBUG] socket.io - xhr-polling writing '8::'\n[2012-05-13 18:39:28.953] [DEBUG] socket.io - set close timeout for client '1973006731764352061'\n[2012-05-13 18:39:28.953] [DEBUG] socket.io - xhr-polling closed due to exceeded duration\n[2012-05-13 18:39:30.027] [DEBUG] socket.io - clearing poll timeout\n[2012-05-13 18:39:30.027] [DEBUG] socket.io - xhr-polling writing '8::'\n[2012-05-13 18:39:30.027] [DEBUG] socket.io - set close timeout for client '20230302781663111181'\n[2012-05-13 18:39:30.027] [DEBUG] socket.io - xhr-polling closed due to exceeded duration\n[2012-05-13 18:39:30.030] [INFO] http - 307, GET /javascripts/lib/ep_etherpad-lite/static/js/ace2_inner?callback=require.define\n[2012-05-13 18:39:30.135] [INFO] http - 307, GET /javascripts/lib/ep_etherpad-lite/static/js/jquery?callback=require.define\n[2012-05-13 18:39:30.438] [DEBUG] socket.io - setting request 'GET' '/socket.io/1/xhr-polling/20230302781663111181?t=1336927170933'\nWhy did it load ace2_inner & jQuery after it already started polling?\nThe pad successfully loaded in this case, but with a significant delay. \nAlso I got many 404's which seem to slow down the pad loading:\n\n[2012-05-13 18:43:45.410] [INFO] http - 404, HEAD /static/plugins/ep_etherpad-lite/static/js/domline\n\nAfter I reloaded the pad, it finally \"stalled\" - it didn't load the pad without reloading it several times.\nLog:\n[2012-05-13 18:43:46.303] [DEBUG] socket.io - authorized\n[2012-05-13 18:43:46.303] [WARN] socket.io - handshake error Bad session / session has expired\n[2012-05-13 18:43:46.317] [INFO] http - 304, GET /favicon.ico\n[2012-05-13 18:43:45.410] [INFO] http - 404, HEAD /static/plugins/ep_etherpad-lite/static/js/domline\n[2012-05-13 18:44:01.925] [DEBUG] socket.io - clearing poll timeout\n[2012-05-13 18:44:01.925] [DEBUG] socket.io - xhr-polling writing '8::'\n[2012-05-13 18:44:01.925] [DEBUG] socket.io - set close timeout for client '582290506349121795'\n[2012-05-13 18:44:01.925] [DEBUG] socket.io - xhr-polling closed due to exceeded duration\n[2012-05-13 18:44:21.457] [DEBUG] socket.io - fired close timeout for client '392087461215116643'\n[2012-05-13 18:44:21.457] [INFO] socket.io - transport end (close timeout)\n[2012-05-13 18:44:21.458] [DEBUG] ueberDB - GET    - globalAuthor:a.vNmR8nS2Bdouz6E1 - {\"colorId\":28,\"name\":null,\"timestamp\":1336927401641} - from cache\n[2012-05-13 18:44:21.458] [DEBUG] ueberDB - GETSUB - globalAuthor:a.vNmR8nS2Bdouz6E1[\"colorId\"] - 28\n[2012-05-13 18:44:21.458] [INFO] message - to 392087461215116643: {\"type\":\"COLLABROOM\",\"data\":{\"type\":\"USER_LEAVE\",\"userInfo\":{\"ip\":\"127.0.0.1\",\"colorId\":28,\"userAgent\":\"Anonymous\",\"userId\":\"a.vNmR8nS2Bdouz6E1\"}}}\n[2012-05-13 18:44:21.460] [INFO] message - to 582290506349121795: {\"type\":\"COLLABROOM\",\"data\":{\"type\":\"USER_LEAVE\",\"userInfo\":{\"ip\":\"127.0.0.1\",\"colorId\":28,\"userAgent\":\"Anonymous\",\"userId\":\"a.vNmR8nS2Bdouz6E1\"}}}\n[2012-05-13 18:44:21.460] [DEBUG] socket.io - discarding transport\n[2012-05-13 18:44:31.116] [DEBUG] socket.io - fired close timeout for client '20230302781663111181'\n[2012-05-13 18:44:31.116] [INFO] socket.io - transport end (close timeout)\n// cc @cweider \n. Interesting is that other projects using Socket.IO seem to have that issue too: \nHigh rate of \"client not handshaken should reconnect\"\nAt least my previously posted log excerpt looks quite similar.\n. master seems to be faster and more reliant concerning this matter =(\n. \nAny idea why it took so long to load ace2_inner.js?\n(ace2_common took 20ms)\n. However it would be good to know what caused/solved this issue. :/\n. #224 seems to be similar or even the same\n\n@Wikinaut \nTry changing line 33 in /src/node/hooks/express/socketio.js to io.set('transports', ['htmlfile', 'xhr-polling', 'jsonp-polling']);\nMaybe it helps...\n. Edititing on Android < 4.0 is not possible because of the outdated WebKit engine.\nThat \"Loading...\" issue is in direct relation to #691 and #688.\n. I'm sure that it's possible somehow, but if it's that worth is the question - with certainty it's not easy to accomplish.\n@johnyma22 , what do you think?\n. Your config suggests 'etherpaduser' as the db user but your log says 'root'.\n'Using password NO' appears odd to me too.\nAre you sure epl uses this config?\nedit: too slow... ^^\n. !?  I posted a few comments on that above yours. hehe\nMobile view is quite broken. But I can \"fix\" that afterwards, this needs to be more dynamic anyway.\n. Do we still need <a>?\nWouldn't be \n<li id=\"bold\" data-key=\"bold\" title=\"Bold (ctrl-B)\">\n    <span class=\"buttonicon buttonicon-bold\"></span>\n</li>\nsufficient?\n4b272fe is broken because you shifted .toolbar ul li styling to .toolbar ul li a - that way .selected @ <li> has no effect.\nEither we drop <a> or we have to add $(\"#\" + modules[i] + \"link a\") in pad_editbar.js. Better solutions are welcome :)\n. Your revised version looks good to me - can you add it?\n. Tested with IE7, works.\n. http://etherpad.org/wp-content/blogs.dir/954/files/etherpad-lite-screenshots/chat-view.png\n. Me neither.\nHowever, things look different in the server-side console.\n. Me neither.\nHowever, things look different in the server-side console.\n. Duplicate of #730\n. Tested with FF15 (Win), works\n. Hi! That's because currently only /admin/plugins exists.\n. Any chance we can restore the old behavior with some tricks? :(\n. Branch?\nHow did you start Etherpad Lite?\nPlease give us more information.\nLooks like async is not installed.\n. Looks fine here using FF, Chrome and IE.\nTry pressing ctrl + f5.\n. Unlikely that there's any conflict.\nGlad it works now! :)\n. Yes, it doesn't work using Chrome.\nAn interesting finding, though, I didn't notice that behavior before.\n. I have a fix for that, just give me a few days. ;)\nUpdate: Never mind... \nI was able to get rid of the overlapping, but in exchange, IE and FF had severe problems displaying #editorcontainerbox.\nHowever, a temporary fix would involve a bit JS: check if both offsetWidth of the left and right menu are larger than document.body.clientWidth, then set float: left to the right menu and double the toolbar height.But it feels dirty, quite rightly.\n. cm... :scream: \nem + cm together... :scream_cat: \nSeriously, why not use Pica and suggest using this device in addition? \nThe only applicable area where cm would be actually useful is media or, to be more precise, printing stuff.\nAlso, try Fontello - I assume we don't need 220 icons; if at all probably not more than 6.\nNext thing: screenshot.png -> urgendly needs compression\n(OptiPNG before: 700 KB after: 23 KB)\nApart from these small issues, looks good, but it doesn't seem to be optimized for mobile browsers (probably due to cm and the lack of  a properly defined viewport)\n. Wouldn't it be better to add a button or link in order to simply hide the modal?\n. Sure, but toolbar space is valuable (think of portable devices with smaller screens and the increasing amount of plugins); an icon representing the state of connectivity is a waste given the number of actual reconnects which are quite rare.\nAn extra button might be rather a downside for user experience as it overcomplicates the UI.\nConcerning a, most of the modal CSS-code you removed can be heavily reduced (duplicates and compatibility stuff).\n. Fair enough, for now, I'd say.\n. Is there anything missing or why don't we merge it?\n. That's obviously a bug of Opera's rendering engine Presto.\nResizing should help in most cases (forcing it to redraw), but if it helps, we can get rid of opacity: .9.\n(still not fixed in Opera 12.50 :/)\n. Try the latest Opera  version (mine is 12.10) on Windows and refresh the page several times (probably you also have to resize the window).\n. What does your PHP log say?\nIt's highly possible that PHP has problems verifying your SSL certificate.\nYou can try adding \ncurl_setopt($c, CURLOPT_SSL_VERIFYPEER, false); \nafter l. 46 in etherpad-lite-client.php.\n. \"Go for it\" ;)\n. Is there a reason why we neglect websocket and flashsocket?\n. Thanks for pointing out the obvious.\nIt's not fine. If you bookmark a link to a specific pad, the favicon cannot be fetched, hence we have to find a way to provide a working resource-link in pad.html.\n. > Gah, fix on route\nIf we decide to fix the html of pads, as Wikinaut suggested, we don't this anymore ..or am I wrong?\nEdit: \n\nI'm doing a proper fix.\n\nSounds good. ;)\n. Why especially Ayuthaya? This could raise some questions regarding subjectivity. I'm convinced we should stick to defaults.\nIf monospace is really that difficult to read on Mac OS computers, which implies it's a problem across all webapps that use monospace on that OS , users could change this font for themselves to avoid this issue.\nThus I think John's suggestion might be the best way to go here or, which isn't a bad thing either, provide a menu for selecting a font (should be really easy to accomplish as the old Etherpad had something similar).\n. See #663 ;)\n. Finally, it's not empty any longer. :+1: \nBtw, doesn't it have to be \"affect\" instead of \"effect\"?\nOh and, please don't make the warning red - a bold, dark gray might be better in this case.\n. No problem. :)\n. +1 for a sort option\n. Open /admin/ (which makes more sense than the one w/o the trailing slash) and it works.\nWe can make a simple redirect for that.\n. @marcelklehr Maybe, that's why compression should only be enabled when actually requested using the specific header.\nBtw, I solely meant the API. Sorry for any confusion. :)\n. I don't see why this should be a socket.io issue. :(\nI'd implement gzip somewhere here, no?\n. Same here on Ubuntu 12.04 w/ nodejs v0.10.4/0.8.9.\n. 946289c221 broke it, right? ;)\n. Ha, thanks John, it's been a while since the last time I commented on something related to the EP project.\nI remember that we planned to use font icons around the time Github started using them, but lastly decided to put that idea aside, because it simply wasn't worth at that time.\nYet, I think it's time now, with the rise of larger becoming displays/pixel densities, to use scaling icons, i.e. font icons.\nTo me, these icons (I've considered them back then) look fairly big/thicker, compared to the ones we have right now, which, from an optical point of view, doesn't appeal to me that much - I liked the thin appearance of the old icons - but as I said, it's the right step to do, I think.\nI'd be happy to have these merged, but before, I'd try to find a solution for the timeslider icons, as they don't really look that great. Maybe, as a temporary solution, we could still use the old icons there - base64 encoded, to at least get rid of the image files. In addition, I'd make the main icons a bit darker (like the original ones #666 or at least #777), but that's really not that crucial.\nAltogether, I'm glad someone noticed the issue here and tried to find a solution, thanks @LaKing.\n. One more (important) thing I forgot to mention is, that we could make use of font generators as fontello or fontastic.\nA huge plus would be, that it reduces the font/css size, as we only have to specifically select the icons we need, and on the other hand, we can choose icons from multiple fonts.\n\"Foundation Icons\" by Zurb for example provides good looking icons for bold, underline, etc.\nRe testing, Browserstack has a free trial which most likely includes IE 6 to 11 - I don't have the time right now, sorry - but it looks like we can easily throw out that code by now, imho.\n. Undoubtly this would be useful, but still: While plugin a needs icons from Font Awesome, plugin b can't find the icons needed there and requires another font x, and more importantly some 400 icons remain unused.\nWhy not include the obvious icons, also the ones you need John, and encourage future plugin developers to file an issue for a new icon? (this prolly won't happen too often anyway, but In the unlikely event, it's a matter of a two minutes)\n. As I said, font generators like fontello or fontastic would do a great job here. You can select icons from multiple font files and merge them into one small font file.\nBoth can save a template file, to quickly add further icons later on.\n. @LaKing Here's my first try, created with Fontastic - 36 KB. \nhttps://factor.cc/up/b51cdb62a56bfa93dcee8580687ed7dbbee6e8ee.zip \nIf you want, you can test them and report back.\n. You could maybe dump the CURL_RESPONSE variable and check for encoding issues, that may cause premature closing of the pipe.\n. Thank you, sometimes though, I wish invisible commits would be a thing. ;)\n. Different translations, i.e. varying text lengths, cause this bug.\n.timeslider-bar #editbar therefore shouldn't have a fixed width (180px), but rather auto as value.\n. You are right, this bug was introduced in version 1.5.7: e02708313623fa90600c1f6a24f17a01eff4aec8.\nUntil this is fixed, you may change the responsible line manually in this file as mentioned above: /src/static/css/timeslider.css#L235\n. @Gared I'm not saying that we should revert it, but explicitly override it with auto, which is more bulletproof.\nSetting it to 200px, which is an arbitrary value I guess, poses the risk, that, depending on the selected language, whose translation for this specific text requires even more than 200px (for example Farsi), will make it disappear again.\n. Please do not post issues here that are not directly related to the Etherpad software.\nFor problems like these, please use the contact information given on the page in order to talk to the corresponding maintainer.\nI was able to access your pads without any problems. As I said, for future questions, please take a look at https://etherpad.net/ or read the introductory text on a new pad.\n. Please do not post issues on Github that are not directly related to the Etherpad software itself.\nFor problems like these, please use the contact information given on the page in order to talk to the corresponding maintainer.\n. Maybe it is not placed visible enough, but there is a \"Questions?\" link on the bottom of that page.\nI agree, adding a website or mail address next to each site would be a good thing.\n. You're right, it should be 64 or even better: exports.getColorPalette().length.\nFeel free to open a pull request for that. :)\n. cPanel does not officially support node.js to my knowledge, but there are many tutorials on how to install node.js manually via command line.\nThen take a look at: https://github.com/ether/etherpad-lite/blob/develop/README.md#gnulinux-and-other-unix-like-systems\n. Consider it as a non-ideal interim solution only:\nbash\nrm -rf node_modules/\nnpm i npm@4 -g. Better use env (#!/usr/bin/env PYTHONUNBUFFERED=1 python2)  these days :-). That's because it uses plugins.\nSee https://static.etherpad.org/plugins.html for available plugins and https://github.com/ether/etherpad-lite/wiki/Available-Plugins how to install them.\nIf you like the page view on beta.etherpad.org, take a look at https://github.com/ether/ep_page_view. yep\n. now we have two .seperator's here\n(l. 1527)\n\n.toolbar ul.menu_right > li & .toolbar ul li have to be converted too\n. Can you change this to <h1> and <b> (below) to <h2>?\n(each div)\n. .popup button {\n  padding: 5px;\n  font-size: 14px;\n}\n;)\n. ...but it works ;)\nCan you think of another (better) approach?\n. I could imagine, that something like this:\nread -p \"Enter new changelog entries:\"\ntmp=$(mktemp)\n\"${EDITOR:-vi}\" $tmp\nchangelogText=$(<$tmp)\nrm $tmp\nmight be more convenient and fault tolerant when typing a longer changelog. :)\n. ",
    "NoWiS-": "Using the latest git revision of ep-lite (socket.io seems to be 0.8.7) : still hangs on loading.\n. I just tried again, and it works for me now. (socket.io seems to be at version 0.9.6)\nEDIT : Well, I might have been a bit overexited. It worked for a while, And then impossible to reconnect a while. And then ok again etc... \nThe log :\n^[[33m[2012-08-10 15:51:44.598] [WARN] socket.io - ^[[39mclient not handshaken  'client should reconnect'\n^[[32m[2012-08-10 15:51:44.598] [INFO] socket.io - ^[[39mtransport end (error)\n^[[33m[2012-08-10 15:52:04.545] [WARN] socket.io - ^[[39mclient not handshaken  'client should reconnect'\n^[[32m[2012-08-10 15:52:04.545] [INFO] socket.io - ^[[39mtransport end (error)\n^[[32m[2012-08-10 15:52:05.146] [INFO] socket.io - ^[[39mtransport end (close   timeout)\n. I just ran on the issue. In the src/node/hooks/express/static.js, I changed the hardcoded localhost values by the ip i have setted in settings.json. Seems to work well.\nMaybe this could be enough (but i'm clearly not the expert...) : \nvar jsServer = new (Yajsml.Server)({\n    rootPath: 'javascripts/src/'\n  , rootURI: 'http://' + settings.ip + ':' + settings.port + '/static/js/'\n  , libraryPath: 'javascripts/lib/'\n  , libraryURI: 'http://' + settings.ip + ':' + settings.port + '/static/plugins/'\n  });\n. ",
    "sbrinkmann": "The proble still exists with the new socket.io version. When I access etherpad directly i have no problems, but with lighttpd as reverse proxy the requests hang and won't be answered (see Screenshot http://img7.imagebanana.com/img/xnpxq8qy/Auswahl_080.png )\n. I've just tried the latest version (1.1) of etherpad-lite and the problem is until now not solved. When i try to open a pad the following message occours in the content part of the pad after the connections timeout of 60 seconds:\n```\nAn error occured\nThe error was reported with the following id: '63fWb5HnYOPDr74YxYD5'\nPlease send this error message to us:\n'ErrorId: 63fWb5HnYOPDr74YxYD5\nUserAgent: Mozilla/5.0 (X11; Linux i686) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.30 Safari/536.5\nUncaught TypeError: Cannot call method 'setChannelState' of null in https://foo-bar.com/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define at line 3'\n```\n. @marcelklehr it is not fixed at all. \nI've tried it just with a fresh installation of etherpad an the problem still occur. I know that not etherpad but the included library socket.io is responsible for this problem and there that there is still a corresponding bug within the socket.io project. With my message I only want to add further informations and I want to point out that there is no solution for the problem until now.\n. I've just updated my etherpad-lite and socket.io to the latest version. In case of socket.io is the version 0.9.11 which contains the bug fix for this issue.\nThe error themselve doesn't disappered :( Currently I get the following error, when I open a pad trough my lighttpd web server:\nAn error occured\nThe error was reported with the following id: 'cIAtPXHTKBH8q28uNMsw'\nPlease send this error message to us:\n'ErrorId: cIAtPXHTKBH8q28uNMsw\nUserAgent: Mozilla/5.0 (X11; Linux i686) AppleWebKit/536.5 (KHTML, like Gecko) Chrome/19.0.1084.30 Safari/536.5\nUncaught TypeError: Cannot call method 'setChannelState' of null in https://www.url-to-my-webserver.net/etherpad/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define at line 3'\n. @stbuehler you're right. I've just updated socket.io within etherpad-lite to the head version of github and the fix works \\o/\nTo close this bug finally, we have to wait for a new release of socket.io with the bugfix. But so far etherpad works smootheley with lighthttpd. Thanks to everyone who has contributed to fix this issue.\n. ",
    "marcelklehr": "@johnyma22 does this mean, it's fixed?\n. #928 should fix this.\n. Apparently they only fixed it in engine.io?\n. Ok, so it's still not fixed at all?\n. Nice! Thank you!\n. @melicin is on this (#720), i suppose.\n. Close, pls. (see #819)\n. Add your thoughts/ideas and/or objections on wiki:I18n-draft! thanks :)\n. fyi, you can search for plugins on http://example.com/admin/plugins.\nA few quite useful ones are ep_headings, ep_tables, ep_inpanel, ep_linkify, etc. I am aware, however, that not everything that is in the above list has been implemented yet. We won't do this in core, so we encourage everyone with the necessary skills to implement those as plugins.\n(If you're interested, there's also a whishlist on the wiki...)\n. No, it's not a bad link. The important bit is the path (/admin/plugins), you should access that on your own instance of etherpad-lite...\n. close this, pls.\n. yeah, but that's not the subject of the issue, here...\n. okay, so first up: which version did you try this against? -- updating \nmight help..\n. \"I see the cookie is created on the first (80).\" -- you need to set the \ncookie, so it's visible for the website at $HOST\n. bump\n. IMO the actual problem is the text color. The text is too dark and therefore makes dark author colors useless. My suggestion (as in #303) is to adjust the text color for each used author color: If the author color is too dark, the text color will change to white, and if the author color is too bright, the text color will again change to dark (Not for the entire document, but just for the sections with the same author color).\nThis would still enable the user to choose from the complete range of colors.\n. I wrote a quick and dirty sollution for my suggesttion to change the text color to white, if the author color is too dark (see #303):\nThe pull request lives at #349\n. Well, why don't you open a new issue?\n(Is this fixed, btw?)\n. What about this? @ozkatz Is this still an issue? Can someone reproduce this?\n. @arvind07 Which git revision?\n. the server tells you on startup\n. What do you mean? The bug, described in this issue is: \"Unable to GET /p/<pad id>/export/txt for group pads\"\n. The php API client uses the Etherpad-lite http api, which is documented here. This has nothing to do with export urls.\n. What happens, if you click on the export links in the pad UI?\n. I believe, users are authenticated (in this case) using the session cookie. Maybe this isn't sent along the ajax request.\n. So, it would still be interesting, whether clicking on the export links in the pad UI works.\n. @arvind07 You know what? Your git revision is 8 months old...\nUpdate and come back... ;)\n. We've had trouble fixing it admittedly, but you won't encounter this bug in the next release anymore, I promise ;) -- see #1176\n. I think it would be nice to have toolbar settings (perhaps overwritable by the API) defining which buttons are displayed and their order in the toolbar. It would look something like this:\njs\n{\n  // ...\n  \"toolbar\": ['bold', 'underlined', 'line-through', 'ordered-list', 'unordered-list', 'indent'],\n  \"controls\": ['settings', 'import', 'embed', 'timeslider', 'users']\n}\nThis would take the editor to a modular basis and could also be useful, with the plugin API (Plugins could register a toolbar button, which you could put into your toolbar setting and thus  control if and where it's displayed).\n. I just pasted 1.41 MB four times in a row (so it's ~5.6MB) on this pad: http://beta.etherpad.org/p/foo\nThe server is still running.\n. @Pita Why do you dislike this solution?\n. status on this?\n. I've seen a java client (with gui!) and the php example, which is open\nsource, btw, so you can go checkout the source and fix it. Apart from\nthat it's actually pretty trivial. It's prolly even possible to do with\nin-page javascript.\n. Duplicate of #216, close.\n. What's the status on this?\n@Pita Fixed?\n. Then, you may want to close this issue? :)\nOr is there a reason for leaving it open?\n. What about this?\n. As that's a plugin request, in fact, either re-label it or close it. :)\n. There is a plugin for that.\n. Oh boy, if you need a rotating log use log4js.. \nhttps://github.com/nomiddlename/log4js-node/blob/master/examples/log-rolling.js#L5\n. That may just be because etherpad is not just a usual page.\nHow long does it take to load, exactly? (Anything under 1min is ok for a\nslow connection i think. It's still a problem we could solve, but at\nleast it's not at your end, it's in our code.)\n. nope, they're not ;)\n. I think this is possible at the mo'. For diffs, you could possibly write your own plugin... ;)\n. @johnyma22 \n. There's the datatables plugin, buttons can be added to the interface using the plugin framework and I also believe there's a plugin, that implements this \"travelling flag\" feature.\n. Maybe, someone close this issue? (#434 has already been merged.) @Pita\n. Issue should be gone, since we now use v8 to parse settings.json.\n. Wut?\n1. Fyi, node v0.6.21 is the latest version in the 0.6.x branch\n2. The latest stable version of node is 0.8.14\n3. We do not download npm for you, if it isn't installed on your machine!\n   1. Npm actually is a dependency of epl... and so are about 50 other npm packages\n   2. but they all won't be downloaded if npm isn't installed on your machine\n   3. You can easily check which packages epl depends on in src/package.json\n4. We're not doing anything on your computer. If you are afraid of running other people's code, read it through before or stick to a very simple solution: don't run their code!\n5. Check our installation instructions again. Afaik, we're not telling you to install any node.js debian packages...\n. I'm using FF10 and see no errors on the console...\n. CLOSE this battered old bug, pls :)\n. Maybe you should create an Issue label called \"To be converted to Plugin\"... :)\n. status?\n. implemented.\nclose.\n. On beta.etherpad.org you see the changes in real time in read-only mode. Timeslider has no real-time updates.\n. Not true anymore? (Just sorting out, tha old bugs...)\n. I think this is the desired behaviour?!\n. // @Pita\n. Yes, this is no bug. @johnyma22 \n. closed?\n. What is just the plugin framework or the specific plugin?\n. If you like to have this as a plugin, you can put it on the whishlist\n. Oh! right, you are! ;)\n. Well, this should be changed, then?!\nIt makes sense to have an (updated) list of all authors, that ever contributed to a pad.\n(The thing is, this will perhaps make EP display all users in faded colors [cause, al users are in the historical array...], I'm not shure though.)\n. Great! You might want to submit a pull request, once you're done! ;)\n. Already a plugin: https://github.com/etinquis/etherpad-plugins\nclose.\n. What use would that be?\n. status?\n. afaik, the code in server.js is fairly straightforward and brief, so I think this can be closed.\n. I did work out how to code this. (see pull request #349)\n. CLOSE! (#422 was merged two months ago...)\n. close! (fixed with #498...)\n. what's this? status?\n. I think, this might not just be an issue for mysql users, perhaps we \nshould just check, whether the group still exists before trying to \naccess it...\n. Feel free to implement this as a plugin (it's already on the wishlist) So this may be closed\n. You could insert a * like some code editors do, when you have unsaved changes...\n. Also, I find, this is somehow connected to #635\n. Is this still the case? I can't replicate this.\n. http://beta.etherpad.org/static/custom doesn't redirect to something like %2Fhome%2Fyvesf%2Fvcs%2Fetherpad-lite%2Fstatic%2Fcustom/\n. Implemented, afaik\n. @johnyma22\n. have a look at http://beta.etherpad.org...\n. I'm currently trying to implement #867 and will probably implement this along the way...\n. Yeah, there will most definitely be such a feature in the next release. See #968\n. I think this can be closed. (?)\n. https://github.com/Pita/etherpad-lite/blob/master/src/node/handler/PadMessageHandler.js#L811\n. Strange. Does anyone see a mistake in the code? It should work...\n. It took bit of time, but now it should really work.\n(Didn't have much clue of the goings on inside Ep-lite before...)\nScreenshot at http://bit.ly/AwxauG\n. @Pita @johnyma22 \n. You can adjust the factor, which defines when the text color will change \nto white.\nMy choice of 0.45 was pretty random. The thought behind it was, that \nthe default color would still be black, in cases, when you can't really \ntell, whether it's better for readability to have the text black or white.\nPerhaps try 0.5!\nAm 29.01.2012 17:37, schrieb 0ip:\n\nWorks, but that text above should be white too.\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/349#issuecomment-3709338\n. I can't reproduce this, but your description has similarities to #171 ...\n. I think the favicon is already implemented, too?\n. The favicon is already customizable (Docs for this will be available in the next release... ;) ).\n. +1\n. @johnyma22 is this fixed?\n. +1\n. -1 :)\n\nthe question is, what use this would be to any potential user (why would a user want to know the node version?). if you are an admin or a really nosy user, you can always look at the http headers. There you can find the epl git revision...\nif that's not enough for you, you can still implement this as a plugin... ;)\n. src/node/hooks/express.js -- line 30\n. This could be implemented as a plugin.\n. This is just some aspect about Open-Source software, that is built by a \ncommunity of developers: You will not always get the job done within the \ntime limit.\nBecause people all have their own schedules and todo-lists, apart from \ntheir open-source project contributions. We're not a company.\n. Just npm install ep_infopanel\nSee https://github.com/marcelklehr/ep_infopanel\n. What's this?\n1. This issue was closed, because the plugin now exists.\n2. Any issues concerning the plugin belong to the plugin's issue tracker\n3. The error you posted was very probably not issued by Etherpad-lite, so please provide more useful data, after opening a new ticket, over at ep_infopanel/issues\n. Feel free to implement this as a plugin! (it's already on the wishlist) So, this may be closed\n. Interesting. 95% you say? This doesn't work for me... (more like 0%)\nThe dialog doesn't disappear, regardless of where I click.\n(Firefox 10.0 on Windows 7)\n@0ip cool! (looks much better than before, too)\n. I noticed this on beta.primarypad.com Hmm... Yesterday, it didn't work, but now it seems to work as you say. Strange.\n@0ip's work is a good improvement, anyway.\nHowever, the user list still doesn't disappear when clicking in the document!\n. Perhaps make this a plugin request...\n. close this? (I think it's no good to have tons of issues requesting a plugin. Maybe you should go for a plugin wishlist...)\n. Hey, what's the status on this?\n. @morangold It would also make sense to set up a public fork for this (wtih its own feature branch), so people can file issues and more than three people can work on it...\n. Better git clone https://github.com/pita/etherpad-lite.git and then git pull https://github.com/gedion/etherpad-lite.git.\nThis applies the latest bugfixes before merging in gedions changes...\n. #407 fixed this. close!\n. :)\n. Oops, how to avoid merge commits?\nDon't pull yet! I'll try to fix this....\n. Phew. All right again...\nThe only problem with the chat was the time info (which obviously didn't change to white).\nMy simle solution, was to add the author's css class to make it white, when appropriate.\nThe downside of this is, that it's the same color as the chat text, even when the author color is lighter: black (instead of grey; #333333, i think).\n. @0ip \n. status?\n. status?\n. Well, there is\n- export/import functionality: Click [<->] to export or import text from/to a different file format. // doesn't sound very neat\n- share urls: You can find the embed code or the read-only link, by clicking on [</>]\n- revisions: You can mark the current state of your pad by clicking on [star]. Have a look at the pad history by clicking on [timeslider]\n- authors: Choose your name and a color by clicking on [users]. The everything you type will be marked with your color, so others can identify you.\nand the initial message could be:\n```\nWelcome to Etherpad Lite!\nThis pad text is synchronized as you type!\nEveryone viewing this pad can edit it on the fly, and\neveryone sees the changes immediately. This allows you to\nseamlessly collaborate on documents.\nHappy collaborating!\n``\n. see help bubbles plugin\n. See my pull request at #899\n. #899 was pulled\n. status?\n. Feel free to implement this as a plugin! (It's already on the [wishlist](https://github.com/Pita/etherpad-lite/wiki/Plugin-Wishlist)) So this may be closed...?!\n. Why should it do that?\n. close?\n. I believe, that's caused by the way tabs are rendered: They are inrepreted like a normal indentation and therefore rendered using `. (Which is very bad practice, btw!)\nBut the export functionality doesn't know that and converts <li> to *\n. The problem is, that abiword doesn't know this.\n. Seems like this is a firefox problem: Try in tinyMCE (http://www.tinymce.com/tryit/full.php) -- its the same issue.\n. +1\n. status?\n. #872 was merged.\n. AS the plugin API is not a a gleam in our collective eye anymore, someone close this, pls\n. You can specifiy which socket.io version should be used in src/package.json.\nFile an issue on the socket.io repo, urging them to fix it.\nAnd finally: Is this still an issue?\n. I updated the socket.io version...\n. npm --help\n. status? I think this may be closed.\n. I believe this can be closed?\n. backbone would be a good choice, IMO\n. Let's make a plugin out of this!\n. @amtep I think this was fixed in #1023, wasn't it?\n. So, this is @mrneil's approach to fix the problem: \nhttps://github.com/ether/etherpad-lite/issues/472#issuecomment-6385914\n. @riseuplabs is this still an issue for you with the latest version?\n. this is a duplicate of #105\n. Close, pls. (see #819)\n. Oh, yes...\nI'll fix it.\n. But which color should the links change to?\nWhite would look like it's simply underlined. Maybe yellow?\n. The problem is, that the text color is already hard coded, and - more importantly - the link color will be, too, with this change.\nWhat does @0ip say about this?\n(btw, the issue title doesn't make sense...)\n. You mean anyone could override the text color, if they wanted to, i suppose? Wouldn't this prevent dynamically adjusting the text color for readability reasons?\nHowever, I found a way to enable dynamic text color without hard coding the default text color, so overriding it is still possible.\n. Oh, Yeah. But you wouldn't be able to tell if it's a link or just some underlined text... :)\n. I think padUsers (will be shipped with the next release) can be used to determine this -- if there are no users, you can safely assume, no one is editing it.\n. status?\n. What about this, now?\n. @brainysmurf pls open a new issue for this ;)\n. Not taking into account the possible additional magic that \nencodeURIComponent performs, this might be a solution.\n. bump\n. @cweider Did you fix this in your last pull request? / What's the status on this?\n. closing in favor of #321\n. I chanced a look: The limit is still there... ;)\n. Is this still an issue?\n. @alexzautke reported:\n\nThe issue, which is described in https://github.com/Pita/etherpad-lite/issues/561 still exists.\nIn order to change the status, you need to pass a string to the method.\n. So someone chuck out the QR-code generator code!\n. CLOSE!\n. Won't this allow hackers to submit a bad link, and make it to look like a nice one?\n. How about implementing one of the following... ?\n\n\nhttpfsexample\n/static/<plugin>/*path/to/<plugin>/static/*http://ether.pad/static/ep_apples/js/foo.js\n/static/<type>/<plugin>/*path/to/<plugin>/static/<type>/*http://ether.pad/static/js/ep_apple/foo.js\n/static/plugin/<plugin>/*path/to/<plugin>/*http://ether.pad/static/plugin/ep_apple/js/foo.js\n/static/lib/<plugin>/*path/to/<plugin>/*http://ether.pad/static/lib/ep_apple/js/foo.js\n\n. Isn't there a minify option in settings.json?\n. mh. Currently it's possible to pass the path to the config file as --settings, dunno if that's what you need, tho (nor whether it's still relevant for you.. ;) )\n. What version of node do you run etherpad with?\n. status?\n. can this be closed? #just-cleaning-up\n. Yeah, would give a better ux...\n. I think that's not the desired behavior: Instead of adding an option to disable automatic scroll at all, it should be temporarily disabled, when the user is not at the bottom of the chatlog.\n. I'll give it a try...\n. Works very well. see #865\n. Actually it's just #583, #792 and #798 (the other isses are duplicates).\n. Is this still an issue?\n. Oi, this is a double of #103 (see 2. comment!)\n@johnyma22 \n. close this, pls. @johnyma22\n. Is this still the case?\n. @prauscher Do you still intend to fix this?\n. @Pita?\n. status?\n. Afaik the concerned code lives in ace_inner.js...\nThe problem with this is, that you'd have to change all title attribs, if a user changes their own name.\nYou could, of course, listen on the jquery hover event for every span, and then (each time a span is hovered) set the title attrib dynamically. (Bit hacky, i know)\n. I implemented dynamic changing of the text color, when the user color is too dark. I did this in setAuthorInfo function. This sets up the author classes. Above and below that, there are some utility functions, e.g. className2Author, and so on...\n. This might not be an issue for you, but it will, of course, be an issue for ep lite, which is supposed to work as a stand-alone app, too.\n. closed?\nAm 23.04.2012 18:33, schrieb John McLear:\n\ngit checkout develop\nthen you will get instructions when you try to restart the server.\nsome instructions (you should not follow these) are available here w/ more details\nhttp://mclear.co.uk/2012/04/05/how-to-enable-or-disable-plugins-in-etherpad-lite/\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/615#issuecomment-5285307\n. status? // @Pita\n. No, you haven't. I'd love to see this.\nBtw, we should ensure to always use async versions of methods:\nhttp://engineering.linkedin.com/nodejs/blazing-fast-nodejs-10-performance-tips-linkedin-mobile\n. There's now a settings manager in place at /admin/settings, since v1.2. It provides a \"restart server\" button, which reloads the settings.\n. I would suggest to wrap each hook call in a try{... }catch(){...} statement, and report any errors of a plugin to the console, at least for serverside hooks, I dunno, if this works on clientside as well!?\n\n-- Not in your plugin, but in EPL...\n. Domains will hopefully allow for a fix...\n. we're no longer shutting down the server, if an error happens, afaik\n. You could use the favicon for that. There was a project, that did exactly that... think it was in trending topics a little while ago..\nAh, yes it's called tinycon: https://github.com/tommoor/tinycon\n. >  Unfortunately, it is still possible to make synchronous/blocking calls [...] such as [...] writeFileSync. Even if you avoid synchronous methods in your own code, it's still possible to inadvertently use an external library that has a blocking call. When you do, the impact on performance is dramatic.\n\nOur initial logging implementation accidentally included a synchronous call to write to disc. [...] this one synchronous call caused a performance drop from thousands of requests per second to just a few dozen! \n\nSource: http://engineering.linkedin.com/nodejs/blazing-fast-nodejs-10-performance-tips-linkedin-mobile#synchronous\n. This should be put in some release notes... (Seeing as someone actually encountered that issue)\n. If this works, it would be really cool!\n. Also, if you try running express in production mode, it'll tell you:\n\nWarning: connection.session() MemoryStore is not designed for a production environment, as it will leak memory, and obviously only work within a single process.\n\nSo, I think this is pretty serious.\n. Socket.io rooms are used for pad broadcasts and this ties into using \nredis or memcached for session management...\n. The problem with using dirty.db in general is that the file grows and \ngrows and grows; and it parses the whole file on every restart -- \ndirty.db should only be used in a dev environment. The server log warns \nyou on start up not to use it, that should be sufficient.\nCurrently sessions are stored in memory, which is much worse, imo.\n. YAY! finally :)\n@JohnMcLear you did a great job!\n. I can confirm this\n. // @0ip\n. Firefox 12\n. Also occurs using Opera 11.62\n. Screenshot:\nhttp://imageshack.us/photo/my-images/715/eplbug665.png\n. The problem with REST is, I believe, that you can't access a RESTful API with clientside javascript (at least not cross-domain). If we want to be able to do that REST is not very useful...\n. wtf? :)\nI thought browsers do not allow x-domain ajax?\n. express-resource seems to be very handy for building a RESTful API...\n. As this doesn't concern EPL (as I take it) it should be closed.\n. Closing this now, as it's very old. Reopen at will...\n. yep, that's probably npm (see. #1975)\n. Indeed -- what should happen (internally) if I click on the tick box?\n. Well, since no one -- other than the admin -- should have access to settings.json, it think it's fine to parse it with v8...\n. I believe comments work now? Then this can be closed. @johnyma22\n. Are the settings still put through that regex?\n. Yeah, yaml seems good.\n. I thought its a superset of JSON? Shouldn't it work out of the box?\n. I wrote a quick fix, that uses node's v8 to parse settings.json (and therefore allows comments and even expressions like 60 * 60 * 24...), which should be sufficient for now. The pull request lives at #851.\nI must agree, though, that we should use YAML in the long run.\n. #851 Should fix this for now.\n. yep! closing in favor of #583\n. There's some sign up there. It reads \"Closed\"... :)\n. Markdown export would be worth considering, imo\n. You write something, you add attributes like bold and underlined, \nyou export it as markdown and get a markdown file with markdown in it.\n. I think t should be possible to list all pads through the HTTP API, unless someone can convince me it's rubbish.\n. I have given some thought to this list-all-pads request, and I think the best way to implement this would be to add a listAllGroups(HTTP)  API method, which would give you all groupIDs, which you can then use to list the pads of each group. (see #948, for this idea)\nHowever, this doesn't cover the global-level pads that don't belong to any group, so I suggest to add a pseudo group, that may be used to retrieve a list of all global-level pads. (see #947)\nThese two together should allow people to list all pads of the universe. :)\n. ueberDB is a real show-stopper here...\n. You could link to a specific line in the document.\n. createGroupPad doesn't allow you to set a password: https://github.com/Pita/etherpad-lite/blob/develop/doc/api/http_api.md#groups\nEtherpad lite doesn't provide authentication, at the moment. The intention is to rely on the surrounding portal to authenticate a user and then register a session for this user through the API. You can't authenticate to etherpad directly!\n. seems to work like a charm on windows.\n. Also, there's a jquery package in the npm registry. Why don't you use that?\n. Well, I feel like getting things through npm would make things much easier.\n+1 for this!\n. +10\n. Thanks!\n. Perhaps, best use the HTTP-API...\n. I don't understand your concern.\n. This may be a duplicate of #952\n. Did you experience any problems with zeparser, while installing the dependecies?\n. This seems to be very old. Please reopen this issue, if you've still got problems with the latest version\n. As @melicin can't do it, I'll try to extract the essentials out of his commits and submit another pull request....\n. As I copied the changes in #819 from @melicin's commit, this can be closed!\n. What about this? Still an issue?\n. I don't see any 404's on beta.etherpad.org\n. what's the status on this?\n. close, pls. (see #822)\n. Is this still an issue with the latest version on develop branch?\n. Firstly, people who don't have access to video/audio conf tool have to rely on chat.\n@Supercopter: A live-synced box for every user would be cool, but has some severe disadvantages:\n1. You have no history, since you cannot make out which question is answered by which answer.\n2. Since space is limited, you will either have to display scrollbars (but these are pointless, since 1.) or you will have to delete everything you wrote, after people got your message (and how will you know, they did?).\nThis would be an improvement of your suggestion:\nEach user has an input box, in which he can write messages. Above this box is the chat history, like it is in the current implementation. If a user starts typing a message, a new message block will be added to the history, in which all users can see, what the user is typing. When the typing user hits enter, his input field will be cleared, but nothing else happens (visually) for all other users. The typed message stays as it was when the user hit enter.\n\nUpdate: @johnyma22: Users also don't expect, that all their changes to a pad are synced to all users... ;)\n. Really cool!\nAnother improvement: If a user clicks on \"Click to reply\", this field could be replaced by the new editable (live-synced) message block.\n. That's the way to go. If you don't do something because you are scared \nyou'll never know -- try it and you'll know you failed (if you really \ndo so, which i doubt) :)\n. @jpkirkbride Do you mind using pastie next time? :)\n. Doesn't work with Mozilla/5.0 (Windows NT 6.1; rv:13.0) Gecko/20100101 Firefox/13.0!\nFirebug says something about a NetworkError: 500 Internal Server Error - http://lostpads.de/socket.io/1/?t=1339441169773...\nStandalone works, of course.\n. @geier Which git version are you running? Do you have access to the server logs? (There's probably some handshake error. It would be interesting to know what causes that...)\n. Is this still an issue?\nWhy can't you add the files yourself.\n. Well, you may want to submit a pull request, which adds your desired files and see if it gets accepted.\n. I always use LESS..\n. Yeah, causes performance hits on loading times...\n. Looks fine for me (using FF13).\nWhich versions are you using?\n. closing...\n. For me, cookies work on localhost. (FF13)\n. If I got this right, then all chrome users that install epl locally are \ngonna experience this. Plus: You can't decide which domain or path \nyou're checking cookie presence against; you're depending on the browser to decide which will expose them to you!\n. Yea, we shouldn't do that. And yes, it's mostly a developer issue.\n. just pasting works great for me (ff13): I can paste a[2012] several times (gets hard wrapped, but doesn't hang), but when I try to delete at once everything I pasted, the whole browser hangs and tells me the most familiar\n```\nA script on this page may be busy, or it may have stopped responding.\nYou can stop the script now, or you can continue to see if the script will complete.\nScript: http://beta.etherpad.org/javascripts/lib/ep_etherpad-lite/static/js/ace2_inner.js?callback=require.define:5723\n```\n. i assume, this can be closed...\n. r u sure it was the css rue that introduced that error?\n. I believe this is fixed with #773 pulled?\n. Are there any special characters that should be allowed in urls but aren't allowed in epl padnames, currently? (apart from colons) -- if not (as i believe) please rename the issue ;)\n. Apparently someone experienced problems in this area... see #964\n. That'd be cool. @redhog \n. Why not? Just open a pull request with your changes and we'll see, what we'll do with them. Thanks.\n. No, that's probably a mere bug:\nThis should fix it:\n@ line 141 in SessionManager.js\n-        if(group2sessions == null)\n+        if(group2sessions == null || group2sessions.sessionIDs == null)\n         {\n           group2sessions = {sessionIDs : {}};\n         }\n(I'll submit a pr tomorrow...)\n. Another question: Which git revision are you running?\n. Did you know, the latest version is 1.1.1?\nAnyway, trusting git-blame this isn't fixed in latest develop, so: try #939\n. Ah, well... I guess you have to change this, too :)\n@ line 165 in src/node/db/SessionManager.js\n-        if(author2sessions == null)\n+        if(author2sessions == null || author2sessions.sessionIDs == null)\n        {\n          author2sessions = {sessionIDs : {}};\n        }\n. Updated #939...\n. Any other errors that cause server restarts?\n. Very good news!\n. Git revision? :)\n. I'd think that's quite reasonable!\n. v0.8 is released\n. I'll test...\n. Works very well.\nTells me that path.existsSync is now called \"fs.existsSync\". but nothing else happened.\nPlugin manager works, too.\n. Express doesn't support v0.8, yet...\n. Yes it does... but only starting with 3.x! We're using 2.5.8, currently.\n. atm, it'S recommended to use 0.6 or 0.8\n. exporting to HTML works for me. plain text doesn't -- it falsely translates indentations to lists.\n(I'm uing firefox 13.0.1)\n. Great, thanks! A tutorial about how to build a plugin, would be cool, too... ;)\n. A draft of the tutorial about how to build a plugin, can be found here.\nClose this now, pls.\n. ace-inner is always a good start. ;)\nhttps://github.com/Pita/etherpad-lite/blob/master/src/static/js/ace2_inner.js#L3621\n. close this.\n. Yeah, this is wrong.\n. It's not actually a wrong url. It could exist! But the problem is in node/hooks/express/apicalls.js, which registers route /api/1/:func and some other things. Therefore it doesn't respond if you use any other subdirectory of api/. (try curling api/2/...: it's the same response). However, yajsml seems to respond and since yajsml doesn't allow anything other than GET and HEAD, it responds with 405.\nI suggest to add a 'fallback' route for api/:version that will be called if the above route doesn't match (e.g. an unknown version is specified.)\n. @andypost that's probably a different problem... It works fine for me...\n. Wow, we have docs, we have actual users in our irc channel, we have still got a google groups mailing list and there's nobody around on open hatch. Closing this...\n. ### How to(TM) use lists and indentation\n1. Indent normal text or ordered lists or unordered lists, using [TAB] key or the [indent] button\n2. Unindent normal text or ordered lists or unordered lists, using [SHIFT]+[TAB] or the [unindent] button\n3. You can only change the indentation, if the cursor is at column 0 in the line you want to modify\n   - Pressing [TAB] in the middle of any line of text, results in 4 spaces being inserted\n   - Hitting the [indent] button in the middle of any line, toggles between \"unordered list item\" and \"indented text\" (in the very same order)\n   - Hitting the [unindent] button in the middle of any line has no effect at all\n4. The [ordered list] button toggles between: \"ordered list item\" and \"indented text\"\n   - Clicking on [ordered list] in the context of an unordered list, results in converting that \"unordered list item\" into an \"ordered list item\"\n5. The [unordered list] button toggles between: \"unordered list item\" and \"indented text\"\n   - Clicking on [unordered list] in the context of an ordered list, results in converting that \"ordered list item\" into an \"unordered list item\"\nI hope, this clarifies things. Some of this may be considered a bug (e.g. #.3 -- perhaps also #.4 and #.5), but once you understand how it works, I wouldn't consider it broken.\n. Closing this now, as it really seems to be a misfeature\n. I think @amtep's patch fixed this (at least)! (closing...)\n. Do you mean this one? https://github.com/ether/etherpad-lite/issues/1970\nOr's this another error?\n. Has anybody else encountered this issue?\n. What is this? Did you forget to rebase, or is this a git/github bug...?\n. @johnyma22 can you test this?\n. I'd like to... but I'm currently fihuring how to get epl to work on \nwindows (from source).\nI'll test it, if i can get it up and running, though!\n. Oh, this works great! (Tested on windows.)\n. I would appreciate if each button group was a separate plugin, though. That way one could more easily choose, which buttons they want to activate.\n. No. It's currently not possible to sort the toolbar buttons, nor to disable specific buttons.\nI would love to have this, too (espacially, because the current implementation is somewhat frustrating) -- we'll come to this.\n. Also see #470\n. I cannot replicate this. Please reopen, if this is still an issue.\n. Why don't you report that on the project page of that plugin?\nI already submitted an issue: https://github.com/redhog/ep_fileupload/issues/1\n. Which version are you running? (The server'll tell you the git revision on start-up.)\n. Well, there's a chance this is fixed in the develop branch. It's worth a try I'd think.\n. Try it again with the latest version on master, pls.\n. There shouldn't be a .ep_initialized inside src/, AFIAK. Oh, installDeps.sh creates a symbolic link from node_modules\\ep_etherpad-lite to src/.\nWhat happens, if you change bin\\installDeps lines 60-64 to this:\nnpm install src/\n. run.sh exits after start..., or what d'you mean?\n. Can you provide information on how to reproduce this? Have you tried it with a fresh installation? Did you do anything special? Which OS do you use?\n. Does a fresh install work for you?\n. I believe this is a bug.\n. As I say, I just copied and pasted it from the commit mentioned ...\n. I am no expert, either, but I see the advantage of if(author)...\n. @johnyma22, Are you sure it works? In particular listAuthorsOfPad?\nBecause, I cannot find the definition of Pad.getAllAuthors()\n. Found it! It's been there all the time: https://github.com/marcelklehr/etherpad-lite/blob/6f9d7a5db79076747584ebd289bf380b2bb95038/src/node/db/Pad.js#L121\nawesome!\n. I think it should be getTimeOfLastEdit, shouldn't it?\n. Well, yes, you can just as easily use the wiki entry... \n. What's the difference between using the zip file or downloading the source and running the install script?\n. ok ;)\n. Tried it with \"ep_etherpad-lite/node_modules/express\", just now. This works, too. (! @francois2metz)\n. Nice one!\n. Peer dependencies would solve this gracefully, IMHO. (see isaacs/npm#1400)\n. Also I noticed this\n. @Pita\n. Well, minify is true in settings.json.template and false in windows template\n. ...but I don't see why that is, 'cause it works well on windows!\n. I already tried it. It's a pain. (see #788)\n. ok, it's not.\n@wirehack7 update npm ($ npm up npm) to make it work.\n. @wirehack7, does it work for you with the latest epl version (v1.1.1)?\n. See #829...\n. The install scripts would have to be rewritten to allow both versions, \nand we have to check the node version in the code (which makes it ugly \nIMO). But it's possible.\n. Mmh, yeah. ok... going to set to work on this, now.\n. Oh, fuck. Wrong branch...\n. Now I got it. Ready to test\n. Additionally, I could fix the express and connect versions....\n. f***. yeah. give me a mo'\n. see #839\n. Which git revision are you using? (The server'll tell you on start up.)\n. Ok,just wanted to make sure, you're running the latest version.\n. Did #833 solve the issue for you?\n. Please test before merging, cause i can't test it!\n. Why you no test it before merging? ;)\n. @johnyma22 thank you for fixing this for me. I've had a lot of trouble just now. Sorry.\n. I found a solution for this:\nLet's publish two packages: etherpad-lite and ep_etherpad-lite.\nPeople would npm install etherpad-lite -g and could then use etherpad lite to set up a new instance (like express does, when installed globally). We'd still have to set up some aliases for the things in bin/ and perhaps adjust the path that's used to get settings.json, but imo this would circumvent the above showstoppers quite elegantly.\n. Nice one!\n. Using eval here would, of course, imply a massive security issue. Using vm.runInContext, however, offers much more security as you can control what is exposed to the executed code using the context param.\nAs we pass an empty context, one can't even call require inside settings.json, so even if the file would be accessible by end users this wouldn't imply a big security issue.\n. @johnyma22\n. Just to clarify this change: This calls all hooks registered for \"handleMessage\". If one of those hooks returns null, the message will be dropped.\nIs that right?\n. Please update the docs before pulling this.\n. ok, updated: https://github.com/Pita/etherpad-lite/wiki/Plugin-API-Hooks\n. Can anyone confirm this? @johnyma22 @0ip\n. The solution in #1098 is not optimal, as it doesn't take into account how many buttons there are in the toolbar. Imagine having installed 10 plugins with each adding their own button. We should use a flexible solution for this (using css if possible).\n. The problem is, that the toolbar height is fixed. The buttons wrap \ncorrectly, but the toolbar allows only one line of buttons. If you \nremove the toolbar height, that should do the trick, but then other \nparts of the layout don't reflow...\n. @Pita @johnyma22 @fourplusone @redhog\nAlthough I'm not a designer, I did create some sort of a jump-off point for etherpad. (Personally, I find it really nice, but feedback is greatly appreciated)\nhttp://pita.github.com/etherpad-lite\nI think, this could replace the current website at etherpad.org. (The blog could be outsourced to blog.etherpad.org; @redhog?)\n. Ok, I've done some thorough polishing today, there's a newly created favicon now, I added a reference link to the installation instructions in the README, donation links (I got the paypal link to work, even though it's actually a form ;) ), and made the generated docs for v1.1.4 publicly available. I also polished the language of the content and the design (check out the awesome scrolling feature).\nAdditionally, the site design is responsive (adjusts to the available screen estate). You should see this take effect, when resizing the browser window. Please also make sure it works on your mobile (@0ip ;) ).\nWell, that's basically it. (We still need to find a way to display sponsors. I suggest to add a link (already added one: \"Thanks\"), that'll open some on-page pop-up/notification showing the sponsors.)\n. > Seriously, why not use Pica [...]\nGood point! ;) I changed all measures to pc/pt...\n\nI assume we don't need 220 icons\n\nAgreed. I initially imported the whole icon set, because I didn't know which icons would be needed.\n\nscreenshot.png -> urgendly need compression\n\n+1 I did some basic compression, just now. It's still 37KB, though.\n\nApart from these small issues, looks good\n\nThanks :)\n\ndoesn't seem to be optimized for mobile browsers\n\nI updated the viewport declaration, let me know if it works, now -- or even better fix it yourself :)\n. Moved the site to http://ether.github.com\n. It's live! ;)\n. settings.yml would be very cool. Got to have that!\n. updated.\n. I think you've got to find out this yourself. But it would be cool to have a hook for this!\n. Just for the record: It seems like, epl only handles pastes in IE (see ace2_inner.js#4561).\n. Well, that's cool! :)\n. I am doing some work on this: See marcelklehr/ep_timeslider.\n. Duplicate of #316. Closing.\n. There's a more thorough explanation about plugins here...\n. That's what I thought, when I wrote the plugin guide... :)\n. Yea, we need them. Anyway, it's too late to change it now... ;)\n. Personally, I prefer the solution using popups, because I consider it...\na) ...cleaner. The current implementation uses a bunch of css to determine which text should be displayed and to display the modal. This new solution makes use of the existing popups implementation and simplifies the process of displaying the text.\nb) ... beneficial for user experience. People have one place to look at in order to see, whether they are connected or not (ideally the toolbar icon would reflect the connection state). It's not like a message that can be closed, it's the state of the application which is always present.\n. So, what if I removed the toolbar button, but still displayed \nconnectivity messages as popups for consistent UI?\nOn 13.07.2012 13:26, 0ip wrote:\n\nSure, but toolbar space is valuable (think of portable devices with smaller screens and the increasing amount of plugins); an icon representing the state of connectivity is a waste given the number of actual reconnects which are quite rare.\nAn extra button might be rather a downside for user experience as it overcomplicates the UI.\nConcerning a, most of the CSS-code you removed can be heavily reduced (duplicates and compatibility stuff).\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/872#issuecomment-6960363\n. I removed the toolbar button, but it doesn't work in the timeslider, yet.\n. Should be ready to pull.\n. done :)\n. I'd say it's ready to pull.\n. Shouldn't look different. Since it makes use of the already existing popups implementation, it should look like all editbar popups look in IE (they look notably good!).\n. Looks like the brother of this one: http://beta.etherpad.org/p/test\n\nDoesn't it?\n. @Chingliu That's (most probably) a known issue. It was already reported here: #897\nWe're working on that. :) \n. Also, @JashanChittesh as this seems to be caused by the umlauts in your pad, it might've been fixed by #949 (which is already pulled into develop).\nEDIT: #949 doesn't fix your pad, but prevents corruption of new ones in the future.\n. closed...\n. You want a  client-side hook for $(document).ready?\n. fyi, there is an ejs block for styles: https://github.com/Pita/etherpad-lite/blob/master/src/templates/pad.html#L14\n(dunno, if that solves your problem...)\n. So when do you want this hook to be fired? Which code should fire this \nhook, based on which events?\n. Here you go: #905\n. fixed. (merged #887)\n. Just reissue the same pull request again and make sure to use Pita\\etherpad-lite and develop as base branch...\nThanks.\n. Yes, if you want to pull in to Pita#develop you should do that from psifertex#develop. (See our dev guidelines for more info)\nIt's not that easy at the beginning, i know. :)\n. I found this guide for pmwiki.\nAlso, have you tried using the jquery plugin\n(Dunno, if that helps you...)\n. yeah, that's a good point...\n. Any news on this? Did you try the latest version on develop branch? (It should now show the error that causes this...)\n. Then you're accessing etherpad lite with 'localhost', which chrome takes \nas a top-level domain and consequently doesn't send cookies for that. \nWas submitted as a bug a long time ago: \nhttps://github.com/ether/etherpad-lite/issues/761\nQuick fix: Use 127.0.0.1 ;)\n. Did you access 127.0.0.1 in your browser? (Because i didn't mean changing your settings.json..)\n. I've just tried to replicate another group/auth related bug and couldn't even access the group pad, because \nAuthentication try failed:{\"component\":\"pad\",\"type\":\"CLIENT_READY\",\"padId\":\"g.IpLExEM3bPQZZxeN$test\",\"sessionID\":null,\"password\":null,\"token\":\"t.B2Yny5mYTnxO5BqwSIKN\",\"protocolVersion\":2}\n. Okay, i hadn't set the cookie correctly. If you've got a browser console, try typing document.cookie in there, when you are on a pad that gives you \"You do not have permission to access this pad\". If you can't see your sessionID, check the code that sets the session cookie. You can also go through all cookies that are set in your browser.\nThe session cookie should be called sessionID, and be set for yourdomainhere.com as domain (do not specify a port number!) and your etherpad root path as the cookie path (usually /). Secure and HTTPOnly should both be disabled.\n. The problem might exist in other browsers, too, if it's caused by an \nincorrectly set cookie. Please check that.. Also, it would be nice, if \nyou could find out for which path/domain that cookie is set instead.\n. see #1944 \n. Duplicate of #429\n. Thanks for reporting this.\nThis error is on pad.js:793. padsavedrevs simply doesn't have a handleIsFullyConnected method. It was removed in f631e1e8ab4c7.\n. Fixed.\n. FYI, at some points trailing whitespaces are intentional. They call it GFM.\n. Reopened #561.\n. I think we'll be able to sort that out, once we have multi-lang support \n(which is on the to-do list).\n. In the meantime, you can edit src/templates/pad.html :)\n. Allright! I tested it and it seems to indent - foo by 3 spaces instead of two:\n\nDokuwiki supports ordered and unordered lists. To create a list item, indent your text by two spaces and use a * for unordered lists or a - for ordered ones.\n. Anyway; it works! Thank you.\n. Documentation:\n\n```\nloadSettings\nCalled from: src/node/utils/Settings.js\nThings in context:\n\nsettings - an immutable settings object (the actual properties are in its prototype, so you can't just console.log it).\n\nUse this to receive the global settings in your plugin.\n``\n. I think this is more elegant, thanrequire-ingep_etherpd-lite/node/utils/Settings.js. ok, wait a mo'\n. I can't see, how my changes should cause this error and I can't reproduce it.\n. Please try #903.\n. There's probably acosole.logstatement somewhere in the code. Since IE doesn't provide a console, It throws.\n. me too, but this looks like #878.\n. closing in favor of #878\n. Could you add a trailing\\nafter the closing`?\n. Thank you.\n. Problem is: People can't use this on the client-side. (maybe we can utilize #889 for that)\n. Yeah, and I also intend to improve this, so DON'T PULL, YET!\n:)\n. ready to pull, if you're happy.\nSettings for specific plugins are written down as follows\n{\n  ...\n  \"ep_pluginname\": {\n    \"foo\":\"bar\"\n  }\n  ...\n}\n. +1 (Nice one!)\n. #914 was pulled\n. I can confirm this.\n. @cweider are you working on this? Is this fixed?\n. #977 was pulled. closing...\n. *'%)(&\"(\u00a7$/&\n. We could save the previous value of window.onerror and fire it alongside the new handler.\n. Well, as jquery isn't loaded and we also want to catch errors before jquery is loaded, we'll have to use pure javascript.\n. We could save the previous value of window.onerror and fire it alongside the new handler.\n. ... like this.\n. The importance of this should be obvious when searching for the string loading... in the issues.\n. That's one thing. But we should also document objects, that may be accessed by foreign code: e.g. any objects that are passed to hooks. This is currently very rudimentary: https://github.com/Pita/etherpad-lite/wiki/Plugin-API-Hooks\nI think it should be more like this: http://raphaeljs.com/reference.html#Paper.getElementsByPoint\n. Closing in favor of #924\n. OK, this should do.\nNow, a question: Is there a way to obtain the settings on the client-side, yet? (This could be useful for things like #893. Maybe we can add a client-side loadSettings hook -- but obviously we don't want to send the whole settings object to the client as it contains delicate information.)\n. ```\ndocumentReady\nCalled from: src/templates/pad.html\nThings in context:\nnothing\nThis hook proxies the functionality of jQuery's $(document).ready event.\n``\n. You may want to try installing the plugin [ep_authornames](https://github.com/etinquis/etherpad-plugins) for this feature.\n. I see the advantage of this, but changes to the structure ofsettings.json` are bound to cause trouble, since they break older installations.\n. Seems like i misunderstood the feature request by not looking properly...\n. mh? .. nah, not really. The current approach works, so...!?\n. Since no one can answer me, why we pack a node.exe in this zip file, but at the same time require npm to be pre-installed, it'd be possible to allow people to download http://github.com/Pita/etherpad-lite/zipball/master after a quick patch.\n. OK, this will require people to have npm... mmh.\n. I'll try to put them on github.\nOn 01.08.2012 17:20, p0cket wrote:\n\nThat does not sound ideal. Does no one have any idea how to get those files?\nOn Wed, Aug 1, 2012 at 9:54 AM, Marcel Klehr <\nreply@reply.github.com\n\nwrote:\nOK, this will require people to have npm... mmh.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/911#issuecomment-7427875\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/911#issuecomment-7430218\n. Windows package (master branch) is available download at https://github.com/Pita/etherpad-lite/downloads\n. http://etherpad.org is up again, so I deleted the windows package at https://github.com/Pita/etherpad-lite/downloads\n. Can you submit a pull request with your changes? (The directory of the script is stored in __dirname ;) )\n. I fixed buildForWindows, so it'll still work.\n. We use log4js, which allows logging to a file (or somewhere else), so this should be no problem.\n. What do you mean by \"moving target dependencies\"?\n. https://github.com/Pita/etherpad-lite/wiki/Creating-a-plugin is the merged version. :)\n\n\n(btw, this page is the only one, linked from Home)\n. The problem is merging https://github.com/Pita/etherpad-lite/wiki/More-Etherpad-plugin-reading in the section \"Understanding pre/post\", because I didn't...\n. deleted the other pages.\n. Did you uncomment the relevant section in your settings.json file?\n. testing...\n. mmh. /admin/plugins works for me. Do you have admin rights?\n/admin doesn't exist (it's not implemented, yet)\n. I run latest develop: aa986ab9544f01d0ac1611b97ab8be73c32c5992\nOn /admin: I agree. You should file an issue for that.\n. What do you mean by \"the browser 'hangs' ...\"?\n. The stack shoulda changed in the meantime though (provided that you \nupdated to the latest version)... could you post the most recent erro \nmessage and stack?\n. actually you just need to refresh /admin/plugins a few times.. Anyway, I've just found the cause.\n. Everytime you'd do a search it would add an event listener for npm's log \nevent... if that's not a leak\n. I don't see Etherpad on the page you linked to...?\n. i think we can close this, since there's now some content provided on /admin following up on your suggestion!\n. The problems are the links, which are currently absolute. Pages in the wiki link to each other using http://github.com/Pita/etherpad-lite/wiki/Page-name. We'll have to change all links.\nThe Node.js team uses a very neat system for their docs: https://github.com/joyent/node/tree/master/doc/api\n. The tool, that powers the magic, lives at https://github.com/joyent/node/tree/master/tools/doc\n. I created a new upstream branch docs:\nhttps://github.com/Pita/etherpad-lite/tree/docs/doc/api\n. Well, there's this wiki article: https://github.com/Pita/etherpad-lite/wiki/HTTP-API\n. This is taken from the examples:\n\nRequest: http://example.com/api/1/createAuthorIfNotExistsFor?apikey=secret&name=Michael&authorMapper=7\nResponse: {code: 0, message:\"ok\", data: {authorID: \"a.s8oes9dhwrvt0zif\"}}\n\nYou request a certain URL(called the method) while passing some information to the server using get params (the arguments). You will always have to add an apikey param, to legitimate your access to the API.\n. No. (see #697)\n. If you haven't explicitly created any groups, your pads will no belong \nto any group, afaik...\n. The listPads method only works with groups, e.g. you can list all pads \nthat belong to a group.\nHowever as there is no group for all global pads, you can't list them -- \nat the moment. But you can make some noise in #697 :)\n. thanks. :)\n. see #936\n. You have to set the query string correctly. It should be\nhttp://example.com:9091/p/sc150153f7a56276?userName=Richard\nhttp://example.com:9091/p/sc150153f7a56276?userName=Carla\ninstead of\nhttp://example.com:9091/p/sc150153f7a56276&userName=Richard\nhttp://example.com:9091/p/sc150153f7a56276&userName=Carla\n(?userName=Richard instead of &userName=Richard)\nThe latter will be interpreted as different pads, following RFC 3986.\n. So do I :)\nBut obviously this happens.\n. Linux 12 is out already?! Last time i checked they released \n3.....\n. Also try changing it to '\\r\\n' for good measure...\n. @fourplusone I thought the doc generator should be kind of independent from other stuff. I dunno if it's a good idea to add it to the deps.\nAny thoughts on this?\n. the npm registry is down: isaacs/npm#2694\n. This is a problem of the plugin you're trying to install. Please contact \nthe plugin author.\n. thx\n. This pseudo group could have the following groupID:\ng.0000000000000000\n. Currently you just get a list of all existing pads instead of just the \nglobal-level ones, but whatever....\n. This could be achieved by keeping a list of all groups in a separate database entry.\n. Wow, thank you!\n. @MarkTraceur: may I offer you a cough drop?\nMy screwing up heading levels was intentionally (see 70fb76511863448bea0f254f3cdd578317c96d23), because the result of your \"headings fix\" is an orphan (or whatever) heading: http://marktraceur.info/etherpad-doc/all.html#all_api\n- polite debate is encouraged :)\n. @Gared I first thought, you wanted support for ! in the pad name. now, I see what you mean :)\n. Can you provide more information, e.g. OS, git revision, server log?\n. @404pnf  npm install -g zeparser installs it globally.\nTry npm install zeparser in your etherpad directory.\n. See https://github.com/ether/etherpad-lite/wiki/Introduction-to-the-source for a start\n. As jsonp requires the browser to \"load\" a <script , it's quite \"in order\" for the browser to show an activty indicator. \n@Wikinaut Anyway, is it possible to define priorities for the desired socket.io transports? e.g. if the browser supports ws, that is used; otherwise check xhr polling and only if that fails , too, use jsonp...\nEDIT:\n I think this should look similar to this:\nio.set('transports', ['ws', 'xhr-polling', 'jsonp-polling )\nbtw, @johnyma22 why dont't we support websockets, at the mo'?\n. Shouldn't this be merged into develop, too?\n. Indeed... surprised\n. Will be in the next release (see #979). Thanks for the heads up :)\n. Interesting.\nI'm closing this now, because it's no bug, evidently, and doesn't concern epl directly...\n. @MarkTraceur what do you mean when you say \"it's not ideal\"?\n. What ever you are trying to do (I don't feel like I understand your intention...), Example 1 on this page might be helpful...\n. OS? server log, that shows the error?\n. Well, node.js considers such URLs as malformed (https://groups.google.com/forum/?fromgroups=#!topic/nodejs/mBSbWsJgHHA), so there's not much we can do about that.\nThe only thing that's troubling me, is that it crashes our app....\n. Looks like we have to update to express v3.0.0...\n. TJ considers updating the 2.x branch.\n. It has never been an express bug at all :S, apparently this is by design: The intention was, that bugs due to errors during routing are easier to trace if the server shuts down when such an errors occurs. Unfortunately it also shuts down, when a malformed URI triggers the error-handling middleware.\n. Fixed in #1033. closing...\n. @despens The wiki is always a helpful place: https://github.com/Pita/etherpad-lite/wiki/Creating-a-plugin :)\n. I'd rather link to 0.8.x, because that's the latest stable version... \n(We support both 0.6.x and 0.8.x)\nCould you simply change the link text? :)\n. I reorganized the wiki and fixed this along the way.\n. v0.6.21-pre looks like an unstable or at least outdated node version... Perhaps try 0.8.8.\n. I think I can confirm this. master still makes requests for /p/javascripts/lib/ep_etherpad-lite/static/js/rjquery or similar instead of rjquery.*js*.\nAfaik (please correct me if I'm mistaken), this is fixed in develop.\n. git clone https://github.com/Pita/etherpad-lite.git\ngit checkout develop\n(You may reopen this issue, if you find this isn't fixed)\n. @johnyma22 rasos already opened a new issue #973\n. I cannot replicate this.\n. Which git revision, exactly? (The server tells you on startup...)\n. Are you sure you mean 2954824 (it's six months old: https://github.com/Pita/etherpad-lite/commit/2954824)?\n. FYI, The latest version has a known bug in IE9: #897\n. 2954824 is six months old! The latest \"stable\" version is b2c06e78, which is 2 hours old!\nDownload the latest windows package or git pull origin master!\n. Ok, I'm sorry. @johnyma22 Evidently, the windows package is outdated. It's still on 29548244fdcc905da082f208656d61206c518dbf...\n@GreatGrandMasterB I'll upload a newer package on github, now :)\n. Latest \"stable\" version is at https://github.com/Pita/etherpad-lite/downloads :)\n. I know...\nyou're welcome :)\n. Is there a difference between master and develop? (Are there plugins that work on master but not on develop?)\n. Anyway, we can't do anything about it, can we?\n. Apache reverse proxy is known to cause problems, even without any plugins...\n. @johnyma22 did you try git bisect?\n. And this breaks what, exactly?\n. I already reported EventEmitter memory leak in /admin/plugins; see #921\n. Fixed by #1267, apparently\n. @cweider thank you!\n. how about docs? :)\n. I meant the git docs...\n. In my opinion, this should bump the version number to 1.1.2 and bump the API version to 1.1 (see http://semver.org/)\n. Please fix #981 before pulling. (@cweider)\n. We never bumped the release version in package.json: https://github.com/Pita/etherpad-lite/blob/develop/src/package.json shame!\n. 6e796eb5fbaf7c842ecdecabd48f8065eaec1084 is the first bad commit, git bisect told me...\ncommit 6e796eb5fbaf7c842ecdecabd48f8065eaec1084\nAuthor: Chad Weider @cweider\nDate:   Mon Sep 3 14:41:26 2012 -0700\n. @Wikinaut Can you reproduce this?\n. thanks for the patch!\n. I chose to tag the first version of the API (as it was in etherpad lite v1.0.0) as v1, which will probably break very much existing stuff, outside of etherpad lite core.\nWe could leave the API as it is (with all endpoints,that currently exist, added to it) tagged as v1, but then it doesn't make sense, to bump the version, now, IMO...\nComments are welcome :)\n. I still feel that this patch is a useful addition, even if we don't bump the version now... (It'll just need some minor changes in this case.)\n. > Also, I don't think the API versions need correlate with the overall version, which looks like what this is attempting.\n@jhollinger Nope, that was not my intention, but I agree to leave the API version at v1 for now, 'cause we didn't introduce any breaking changes on the endpoints of the first release, since then, all clients should be compatible.\nThe only thing that's troubling me is, people with older installations might try to call one of the younger endpoints and get an error, although it's the same API version. But I guess, it's better this way, than the other way 'round...\nI just updated the patch and it should now be 100% backwards compatible, since it only introduces some conceptual adjustments, so new API versions should be quite simple to release.\n. There's always a chance of making a mistake, but I adjusted the existing implementation very carefully, so it should not, really!\n. Thanks @lepidum!\n. I thought we had fixed all occurrences of this error...\n@fixinghomer There's a chance this is fixed in develop branch, so you might want to check out that, first. If it's not, could you please post a stack trace or an indicator of where in the code this error occurred?\nAs a quick fix, run it with node v0.6 :)\n. Oh, and post the git revision of epl, that you are running on your server...\n. \"path.existsSync is now called fs.existsSync\" is a deprecation error. It's on the list of API changes between node v0.6 and v0.8. It won't occur, if you're using v0.6. That's a fact.\n. ok, then it would be nice if you could post a stack trace of the error, or even the whole server log (in this case use pastie, please)\n. @redhog did you ever consider documenting this? :)\n. I couldn't figure out, what is broken by this error, since the editor still seems to work...\n. @cweider\n. I can't confirm it works.\nI get the following on the client-side, now.\n```\nError: Attempt to load undefined module.\n(434 out of range 395)\nline 434\n\"NetworkError: 404 Not Found - http://localhost:9001/p/pluginfw/plugin-definitions.json\"\nFailed to load plugin-definitions: Not Found\n(11851 out of range 395)\nline 11851\nTypeError: exports.plugins is undefined\n(12028 out of range 395)\nline 12028\n```\n. Indeed, yes, that seems appropriate. I am under the impression @cweider will fix this.  ;)\n. Yeah, it's still not fixed.\n. The problem is the following (server log excerpt), I think.\n...\n[2012-09-17 15:29:18.556] [INFO] http - 404, GET /p/pluginfw/plugin-definitions.json\nIt should be /pluginfw/plugin-definitions.json instead of /p/pluginfw/plugin-definitions.json, shouldn't it?\n. @cweider You cannot replicate \"Attempt to load undefined module.\", or just @yayolius' findings?\n. This only occurs in firefox, apparently.\n. #1018 fixed this. closing...\n. @gedion Did you know(TM), you can add the relevant docs for your hooks in the same patch, by simply committing it? (see Developer Guidelines#documentation)\n. @johnyma22 really, I thought it was just bugfixes and stuff, so that would be 1.1.2 or am I missing something? (Also, there are quite a few things left for 1.2...)\n@gedion Read Developer Guidelines#documentation and issue a new pull request adding the docs for your new hooks and ace methods, that's very important!\n. yep. we're working on that: see #989\n. Tadaaa, the thousandth issue! Congrats!\n. So, before we pull this, I think the following should be done:\n- fix #989 (@cweider)\n- add in the docs for #992 (@gedion)\n- (fix #964 -- unlikely to be fixed in a timely fashion)\n. Perhaps, the majority of commits is just bug fixes, but there are quite a few commits adding significantly new functionality:\n- Add userJoinOrUpdate hook \n- Add a documentReady client_hook.\n- Restructure connectivity notifications\n- Simplify windows install\n- Add in an HTTP API call to send a custom message type.\n- Add in a plugin hook \"handleClientMessage_\"\n- Add multi-session cookie\n- Add getAuthorName API\n- Get modules through npm (cweider/modules)\n- Bump API version to v1.1\n- Add listAllGroups API endpoint \nSo, I suppose, we ought to bump the minor... (that'd be v1.2 then)\n. Also \"add in the docs for #992 (@gedion)\" is still missing!\n. Did you merge in the docs from gedion?\n. No, but it's our job to ship a complete documentation. It's not like we waited for the relevant docs to be submitted, before we pulled the changes. It's not his problem, if we don't ship the docs for his changes! It's our problem.\n. What use is this?\n. The reason, why the body is logged as statusCode is a significant API change of res.send. From the migration guide:\n- res.send(body[, code]) is now res.send([code,] body)\n(see 2.x and 3.x)\nSo, currently there are occurrences of res.send(body, status),  which produces the expected result in v2. However, using v3 this will use body as the status code and status as the body.\n. I'll do, but in the meantime learn git.\n. Ok, I see this being useful.\n. Is it possible to document this in the next few years...?\n. I'm sorry. :)\nWill clean up our dev guidelines, today....\n. +1 (i always felt, it was some complex voodoo...)\n. Can you submit a pull request? (closing this as it's a duplicate of #583)\n. Yes, you have to wait for 1.1.2\n. \"table support\", aka the plugin called ep_tables, does work in etherpad-lite v1.1.4 (I haven't tested older versions), e.g. the relevant changes to core have been pulled. Admittedly, it's an other question, whether the plugin works as expected, but that doesn't belong here.\n. Did you follow the steps at wiki:How-to-use-Etherpad-Lite-with-MySQL?\n. Ok.\nSo, this is a problem coming from ueberDB (our storage abstraction layer), which is using an outdated version of node-mysql (it uses v0.9 and the latest stable version is v2.0) and now it's our problem, because we rely on ueberDB, which hasn't been updated for 8 months (@Pita).\nIt's known to work on lots of other machines, though, so... Do they use versioning, the mysql devs? Which version are you using? What's your set up? Did you do anything unconventional?\n. Have a look at wiki:Plugin-dependencies\n. Since epl has it's own npm in node_modules, this shouldn't be a problem. Just update package.json\n. Did my patch fix your issue? (I couldn't reproduce it, but you said \"An update to the latest NPM would probably fix this permanently\", so...)\n. Seriously, I tried this multiple times:\nif (\"foo\".split(',')[0] == \"foo\") console.log('It always returns an array');\nThe error you fixed, will never occur. (Actually, I think you introduced a new bug instead, because if(!sessionIDs), it will never callback())\n. Please revert this.\n. Oh, right. foreach is probably the actual bug.\n. Could you merge this setting into settings.json?\n. Yeah, but you have to pull your logger settings out of settings.json instead of your own file... That's what I meant. Instead of creating a new file, just use our almighty settings file.\n. Try require(\"ep_etherpad-lite/node/utils/Settings\")\n. @ulikoehler If you clean up your branch and integrate the above suggestions, we can pull this. This would be great ;)\n. Superseded by #1353 due to inactivity.\n. ### How to(TM) use lists and indentation\n1. Indent normal text or ordered lists or unordered lists, using [TAB] key or the [indent] button\n2. Unindent normal text or ordered lists or unordered lists, using [SHIFT]+[TAB] or the [unindent] button\n3. You can only change the indentation, if the cursor is at column 0 in the line you want to modify\n   - Pressing [TAB] in the middle of any line of text, results in 4 spaces being inserted\n   - Hitting the [indent] button in the middle of any line, toggles between \"unordered list item\" and \"indented text\" (in the very same order)\n   - Hitting the [unindent] button in the middle of any line has no effect at all\n4. The [ordered list] button toggles between: \"ordered list item\" and \"indented text\"\n   - Clicking on [ordered list] in the context of an unordered list, results in converting that \"unordered list item\" into an \"ordered list item\"\n5. The [unordered list] button toggles between: \"unordered list item\" and \"indented text\"\n   - Clicking on [unordered list] in the context of an ordered list, results in converting that \"ordered list item\" into an \"unordered list item\"\nI hope, this clarifies things. Some of this may be considered a bug (e.g. #.3 -- perhaps also #.4 and #.5), but once you understand how it works, I wouldn't consider it broken.\n. _\nInstalling etherpad-lite and dependencies...\n...\nnpm ERR! Error: version not found: 1.1.5 : yajsml/1.1.5\n. v1.1.4 -- also see https://npmjs.org/package/yajsml\n. see @cweider's changes: https://github.com/Pita/etherpad-lite/pull/1018/files\n. Wow, it really works this time... :)\nthanks.\n. @johnyma22 yea, everything should work, now\n. I can't replicate the pagination bug.\nThe UI probably isn't updated because it's cached somewhere. I can't figure out where, though. (Notice, how the functionality of the heading drop down, doesn't work after uninstalling the plugin)\n. The list in the readme will be gone by the time the next version is released. see https://github.com/Pita/etherpad-lite/blob/develop/README.md... :)\n. I ran across that one, too. But, since I was debugging a new feature, I thought that was due to a bug I had introduced.\n. It's got to be still present in develop. The relevant line in PadMessageHandler.js is 878.\n. This probably occurs, when a user connects and disconnects right after CLIENT_READY is sent.\nWhile, one server \"thread\" processes the disconnect and removes the session from sessioninfos, meanwhile another \"thread\" is processing the CLIENT_READY (which takes much longer) and assumes, that the session is still valid.\nTurns out, you do have to make your node programs \"thread-safe\", after all... (at least, if you use async)\n. Fixed in #1028. closing...\n. No, I don't know. Perhaps try your php code... ;)\n. Oh, indeed written by very smart people. Amazing!\n@amtep,\nCould you change this, so only the look-up is moved to the beginning -- so instead of thisAuthor = sessioninfos[client.id].author it would be something like thissession = sessioninfos[client.id] -- probably easier to understand. (and perhaps add a comment to that line, too)\nIncidentally, could you do the same over here PadMessageHandler.js#L876 ? (someone had similar issues, but with CLIENT_READY -- see #1023)\nthank you!\n. And I agree, that this very probably will fix #800 -- yay!\n. Just add a commit on top :)\nMmh. It looks like handleUserChanges just makes use of \nsessioninfos[client.id].padId and .author, also, as I see it it \nwouldn't be a literal copy, but just a reference to the session object. \nEven if the session gets deleted in sessioninfos you still have access \nto its properties (afaik, the session entries aren't replaced by new \nobjects, they are just mutated).\nSo.. if you are seriously concerned about this, don't change it. - \notherwise I'd recommend applying my suggested change...\n. Agreed. thank you! :)\n. Awesome! the original comments were rather awkward... :)\n. Fixed in #1038. closing...\n. @johnyma22 d'you mind updating https://github.com/Pita/etherpad-lite/wiki/How-to-put-Etherpad-Lite-behind-a-reverse-Proxy ?\n. see #1039\n. Can you provide some descriptions for the editorInfo methods, too? For \nthe other methods there's currently only a bare list, because, I didn't \nknow, what they are for. So, if you are familier with those, do add \ndescriptions there, too...\nConcerning the delay: It's not your fault.\nThanks for your contributions.\n. A really dirty and hackish solution (that's why we don't apply it) is\ngit revert 71c944469 (see the commit)\n. Caused by #999\n. Nice!\nI suggest the following Improvements:\n- Perhaps, mention, that the pad load event is emitted, even if the pad is newly created\n- You directly pass the pad object to hooks as args. We've developed a style of always passing arguments as fields of a 'hash', even if there's only one argument; see /src/node/hooks/express.js#L60\n- There's no general hook naming convention (yet), but it's uncommon to use past-tense verbs\n. Ok, one last thing:\n- For some reason, everywhere in the code it's spelled padID (instead \n  of padId or your flavour pad_id), so I'd adjust this for your \n  padRemove args and document it accordingly (you documented it as pad \n  id...)\nThat's it, I'd say!\n. 1. Please use pastie or gist or something like that.\n2. See #1039\n. see #812\n. Additionally, it seems that a surprising amount of plugins doesn't even install.\nIn general: if the installer ends with undefined: undefined it failed, afaik.\n. Now, how many plugins are still not working?\n. Finding a plugin's github repo (and thus its issue tracker) will become \neasier with the next release...\n. +1 for getting the idea behind versioning!\nI wouldn't push out express-v3 too lightheartedly! The quick fix for #964 also works with express@v2.x (thus, it has never been an express bug at all... :S)\n. Will have a look at this...\n. I can't reproduce this:\n1. I use 3caa030\n2. I set requireSession to true\n3. I view localhost:9001/ and opened a new pad\n4. I get \"You do not have permission to access this pad\"\n. Well, @johnyma22, should we support firefox 3.6?\n. fixed with v1.1.4\n. Afaik, we agreed on rm -rf'ing available_plugins...\n. fixed with #1049 closing...\n. - \"Mouseover tooltips that display the author\", exists as a plugin\n- \"Stronger UI encouragement of authors to identify themselves in the colors dropdown\" is perhaps easiest solved by using the above plugin.\n- \"More persistent author tracking even when they exit the document\": solved by authenticating users yourself (e.g. in your own framework)\n. Next time, git squash them ;)\n. And, please, only submit pull requests to develop (preferrably from a feature branch).  It's all in the dev guidelines...\n. 1. I think, the right way to do this is to not check certain versions, but check whether the node version is >= 0.6\n2. We don't try to support unstable versions of node. We will support 0.10, though.\n. 3.If you update bin/installDeps, you should also update bin/installOnWindows.\n. @johnyma22 once said, he wanted to roll out a new release soon, so this could be shipped along with 1.1.4..\n. Did you test it?\n. ok, thanks.\n. There's an HTTP api which allows you to set and retrieve any information you desire, if only you know the API key...\nSee https://github.com/Pita/etherpad-lite/blob/master/doc/api/http_api.md#pad and search for getLastEdited\n(Btw, all docs are in /doc)\n. I won't decide on legal issues for this project. Sorry.\n. see src/node/hooks/express/specialpages.js:13\n. Generally, if you want to override something set by a \"middleware\" (in this case, a plugin/hook), you have to make sure, that the offending \"middleware\" runs before yours. Apparently, though, ep_etherpad-lite's \"middleware\" runs after your plugin, because your changes have no effect (e.g. they get overridden by epl). So, we could tweak the pluginfw to make sure ep_etherpad-lite's hooks are always the first ones, that are executed, as @kingkaeru suggested.\nThe question is, how express handles multiple registration of the same route. (Does it simply override the older registered handler with the newer, or do you have to next(), to get to the second....) \n. We could also create a new hook for manipulating /robots.txt... This would be useful, if multiple plugins wanted to add their directives (which is likely).\n. @disy-mk Perhaps try npm cache clean <package_name>\nAlso, this is not really an etherpad-lite issue.\n. I'm trying. I use node v0.8.14, I run 05cc7b3. But when starting the server it just works... (see http://localhost:9001/p/DdX8IYxrhV/timeslider -- does this work for you at least?)\nCan you set up a new environment, please?\n1. Create a new folder.\n2. git clone git@github.com:Pita/etherpad-lite.git\n   3 cd etherpad-lite\n3. git checkout develop\n4. bin/run.sh\n5. Open a pad in your browser, make some changes and view the timeslider.\n   a. If it doesn't work, make a screenshot (better, a video/gif ) showing the broken timeslider.\n. @johnyma22 There's definitely something wrong with the timeslider\n. Oh! That's interesting. Perhaps bum the authors of ep_tables then... \n(@gedion?)\n. Well the Server: header is overridden by nginx.\nWe could provide something like <meta http-equiv=\"Server\" content=\"Etherpad-Lite 4296518 (http://j.mp/ep-lite)\" />\n. I think this can be closed, then... (closing)\n. @defa FYI, new releases are usually announced on the mailing list or on the blog ;)\n. @defa what about this now?\n. That's what i suspected -- thanks for reporting anyway... :)\n. Please submit this pull request against develop branch. Thanks ;)\n. Works on stand-alone node.js -- can't test with proxy. (But, looking at the code, it should work)\n. @johnyma22 / @Wikinaut can you test this, pls?\n. Confirmed.\n. Filed https://github.com/isaacs/npm/issues/2909\n. @johnyma22 The offending line is in epl since 2012-02-26 (see https://github.com/Pita/etherpad-lite/blame/develop/src/node/utils/Settings.js#L30). This bug is most probably caused by our update npm@1.1.65\n. Quick fix: git checkout cb760aae5287a3cd\n. fixed ;)\n. Problem is, it also removes all installed plugins...\n. I think you can have this easier: just rm -rf \nnode_modules/ep_etherpad-lite: No plugins will be touched, etherpad \nwill have to be reinstalled from the ground up.\n. @Wikinaut ok, then you're probably not running epl at all and you can safely ignore this.\nIf you were running etherpad-lite there would be either a directory node_modules/ep_etherpad-lite or a symlink from node_modules/ep_etherpad-lite to src/. If both do not exist, you could eventually try rm -rf src/node_modules\n. Merge with caution, mind you! ;)\n. If you really have to do a release, please also pull #1103 into this one...\n. ... but possible with some very simple solution: git clone the wiki and use some fs grep/replace tool to http://github/pita/etherpad-lite => http://github/*ether*/etherpad-lite. Then push the commit to the new repo's wiki.\n. I can't reproduce this. It shows 24..36 of 36 for me.\n. Confirmed.\n. @jbaack We've had trouble fixing it admittedly, but you'll see it fixed in the next release... Thanks for reporting this!\n. Hey Valentin! ;)\nAfaik, it shouldn't be a problem to raise the limit (after checking the various db schemata, of course). g.[a-zA-Z0-9]{16} is the group id. If your pad belongs to a group, the group id must be prepended.\n. Mmh. I'd set one fixed limit for all db's, because sometimes people will want migrate their instances to another db, which would cause problems, if some keys are too long.\nBtw, in my opinion ueberDB is really quite disadvantageous, since you can't even query your database. Currently, it abstracts away all the features a good db provides and implements fast, limiting you to the lowest common multiple of all dbs (which is indeed just raw key=>value).\nSo, once you need queries, views or the like, you have to implement all this yourself, and what you'll end up with is a really ugly, hacky and unefficient version of a feature that most dbs just provide out of the box. So, imo, with ueberdb you gain portability, but you loose efficiency.\nAnyway, i think your proposal makes sense, go ahead!\n. 42.\n(That's impossible to answer to. Please, make your intention more clear.)\n. Yes, that's more clear, and no, that's not possible. The code (and message) is necessary for returning possible errors.\nI'm afraid, you just have to parse the JSON output... ;)\n. Bug confirmed.\nYour patch works, but after importing, all <li>'s read 1.\nAnyway, if you add a new <li>, or edit one, everything's fine, so:  :sparkles: :sparkler: :fireworks:\nThank you!\n. We'll have to test this before merging, of course, but somehow I got a feeling that the next release will be very exciting...\n:tada: Amazing work!\n. Is it possible at all, to add export/import endpoints as a plugin?\n. \"Please issue pull request against develop\"\n. /\\/favicon.ico$/ will also match http://beta.etherpad.org/p/favicon.ico.\nAlso, why isn't static/custom/favicon.ico good enough for you?\n. erm, he didn't?\nI think he's trying to point out, that you cannot set up different static/custom configurations for multiple instances of the same code base, which is indeed a problem.\nBy moving the favicon config to settings.json, you can set up different favicons for multiple instances, started with the --settings (?) command line parameter (this seems to be undocumented, too...)\n. Yea, I for instance really think we should add an option for the default pad background color.... ;)\nEDIT: no that's rubbish. Actually we should really add an option for allowing optional options.. </irony>\n. Perhaps my intention in the above comment wasn't clear. I agree on the opinions of you both. If necessary we should add an option to settings.js. (btw, I certainly believe the app title option to be reasonable, since I implemented it myself)\nBut i also think, that we should make sure to not \"end up with a massive settings.template.json file covering all freaky ass edge cases.\"\nMy above comment was intended to show my agreement as well as amusement about john's comment ;)\n. I just noticed, that another pr of mine has been pulled very recently: plugin specific settings in settings.json.\nThis means, you could implement a plugin for customizing the favicon and have it fetch the favicon path from the settings. (see https://github.com/Pita/etherpad-lite/wiki/Example-Production-Settings.JSON)\n. This also happens when using /api/x/setHTML to insert an ol.\nAlso, you don't need to paste into a list. Just copy an ol and insert it again resulting in the following\n1. a\n1. b\n1. c\nYou can resolve this, though, by adding/removing a list item or by removing a char inside one of  the li's.\n. You can install your plugin somewhere else (e.g. in a temp folder) beforehand...\n. Can you submit a pull request with your changes?\n(fork this project, git clone this repo, checkout develop branch, branch off a feature branch (git checkout -b your-feature-branch-name), make your changes, push your feature branch to your fork and submit a pull request.)\n. Nice! :+1: \n. This seems to make trouble with travis. I can't test it locally, though.\n. Turns out it wasn't your commit after all. Thanks for your contributions \nanyway...\nAnd do upgrade to etherpad-lite v1.2 to see your changes in action! ;)\n. That's a hard one, if you want to modify core. I'd suggest encrypting \nthe socket.io connection.\nBut to do that properly, I'd refactor etherpad-lite socket.io code to \nuse socket.io rooms and add some hooks for socket.io send/receive events \non the client and the server beforehand. Then you can easily write an \nencryption plugin without forcing your decisions and needs on all users \n(which is what you'd do if you'd implement encryption for core...).\n. Ok, before submitting a pull request read the dev guidelines, pls.\nSubmit prs against develop branch!\nAlso, you seem to have changed way more than just this typo....\n. Wait, wait! This is typically a bug occurring when npm hasn't been initialized correctly before accessing its propeties.\nTypeError: Object # has no method 'get'\nat EventEmitter.Object.defineProperty.get as dir\nIn this case you have to npm.configure before accessing npm.dir.\n(See src/node/server.js for instance)\n. Thanks! ;)\n. I agree with john.\n. Sorry @JasonWoof \n. gna, you messed up with 6148548e0076: Fix unclickable / broken links to IRC webchat...\n. \"Merge with caution!\" ;)\n. You could create such a plugin. It's dead easy i'd say:\n- hook into expressCreateServer\n- close the http server\n- create a new https server passing app as handler and listen on the port specified in settings\n- pass along the https server to other hooks via hook args\nthat's all. ;)\n. yea, something along those lines..!\n. \"2gb ram\" -- seriously?\nI'd also like to see the startup log, pls...\n. @tazhate Just the first 10 lines of node.js server startup....\n. Ok, that's v1.1.5. Yeah, it should survive far more than 11 users, afaik\nThe first error has already been reported over here: https://github.com/Pita/etherpad-lite/issues/472\nThe second crash is probably related to non-English characters, see this similar report: https://github.com/Pita/etherpad-lite/issues/526#issuecomment-10215212 (we haven't figured out the cause yet, though)\n. Please reopen, if you observe this again.\n. @brainysmurf git pull, try again and post the first 5 lines of log at server start-up in here, if you still encounter the error (plus the error log, again, of course).\n. Impossible. There's no .rev at column 48 in latest master. Perhaps try again with a fresh clone...\n. @brainysmurf Could you please test the following patch?\nApply as follows\ngit checkout develop\ngit pull\ngit checkout -b marcelklehr-fix/updatePadClients-error develop\ngit pull https://github.com/marcelklehr/etherpad-lite.git fix/updatePadClients-error\nAfter testing you may git checkout master again...\nthanks!\n. @brainysmurf So, it hasn't crashed since you applied the patch?\nAs for migrating to a different db, there's bin/migrateDirtyDBtoMySQL.js. You could modify that, to suit your needs (e.g. `mysql => postgres).\n. @johnyma22 IMO, this a worthy-to-be-pulled patch, even if it does not solve that particular bug...\n. It makes use of https://github.com/fabi1cazenave/webL10n, which loads translations dynamically from inside the browser and applies them to the current html.\nThe route for /locale.ini takes into account the preferred languages of the client, tries to intersect them with the available l10ns and finally returns a suiting translation.\nIf there are no translations available, all strings will still be in English (English strings are written directly into the template).\nL10s are located in src/locales.\n. OK, so...\nre: timeslider\nYea, didn't have time for timeslider.html...\nre: ENOENT, stat 'src/locales/en.ini' -- right. going to rule that out\nSecondly: Why would you want an extra setting for the UI languagage? /locale.ini will always serve the best-suiting language based on the browser's 'Accept-Language' header: Globalize.culture( req.header('Accept-Language') || 'en' );\nC: The filename issue: There's only i18n and l10n and according to this helpful paragraph \"An internationalized system is equipped for use [...] by users of multiple languages, by allowing the co-existence of several languages and character sets for input, display, and UI\", so this patch is about i18n, the library is named l10n, though, so i kept that name.\nLastly: Thanks! :)\n. It's probably worth noting, that I tweaked webL10n a bit to suit our needs (e.g. it wouldn't allow for key nesting like foo.bar.bla -- it always assumed you wanted directly access a property of the DOM node. This still works as you may have noticed with keys like pad.foo.title, but only with whitelisted properties.)\n. @pita interesting talk! webL10n has some pretty advanced features: https://github.com/fabi1cazenave/webL10n#javascript-api\nIt provides arguments, include rules, a pluralization macro, and a javascript API which you can use to translate strings in javascript (useful for things like alert()'s).\nNonetheless, if you want to dynamically display a certain text / text inside a DOM node with javascript, it probably makes more sense to simply make a template out of it and make it translatable (btw, that's what she speaks of in the talk, too: i18n helps you separate storage and presentation (and selection and transformation, of course)).\nAre there strings in client.js that need to be translated?\n@johnyma22 Greetings to you over in Italy. Can't you change your browsers settings? Oh, sorry, if you don't understand Italian that's hard, ok so, I agree, that it might make more sense to allow the user to override the autodetection. So, it'd go like this: Globalize.culture( [ req.cookie('lang'), req.header('Accept-Language'), 'en' ]);\n. @johnyma22 if you want to / are able to you can translate timeslider.html, too\n. Nearly ready, now. just need to make the word timeslider translatable in timeslider.html\n. How do you want to query the db?\n. Wut? There's still \"features\", \"get involved\", \"sponsors\", \"download\", \"help\", \"public sites\", the donate and twitter buttons, the video, etc.\n. nah, that's due to an old version of epl! I fixed it myself...\n. embarrassing typos but anyway... ;)\n. phew :)\n. \"This pull request cannot be automatically merged. \"\n. @sciunto i guess you have to resolve a merge conflict in the template files (caused by i18n support.. ;) )\n. One might even argue that we should pluginify dokuwiki export, too.\n. I identified the folder containing git history and added a line removing it upon windows build.\n@johnyma22 pls test and merge if you're happy!\n. hey, we've only just released v1.2 with multi-lang support and there's already a French and a Spanish translation. WOW!\n@joker-x thank you very much! I think this is good to pull after fixing the above mistake. Very cool!\n. Ah, no. There's one more problem. You issued this pull request against master branch, but unreleased changes go into develop first, adhering to our git workflow, so pls issue this pull request again but against develop branch. Thanks!\n. @johnyma22 I won't say i told you so... ;)\n. issue against develop branch pls\n. no harm done, don't worry ;)\n. If you had read our dev guidelines you would know better than to submit this against master:\n\nfeature branches\nthese are the branches where you develop your features in\n If its ready to go out, it will be merged into develop\n. Great! :fireworks:\n. We're having a try at using translatewiki, now, and are undertaking \npreparations for integration, atm.\n. :fireworks: Thank you :)\n. We're using the npm API for crawling node_modules/ (e.g. searching for installed plugins) and other things. Afaik, you can't require('npm') unless it's in your node_modules/, so to answer you question: That's why we're depending on npm directly.\nRemoving npm from package.json fixes everything.\n\nSo, could you pls try and install some plugin, restart the server, and see if it takes effect? (That would be very impressive!)\n. This would be a typical use case for our nice and cosy plugin framework. I don't think this belongs in core, since epl's aim should be to provide functionality for seamless collaboration on documents, not to provide a full featured translation ui for itself -- we should keep core lean and tight.\nApart from @johnyma22 legitimate objections, though, this could be pretty useful for automating the process of making our core templates translatable (which was the intention, more or less, i guess). I suggest this to become a separated project and be implemented as a plugin for epl. Don't feel discouraged by this, though!\n. this is more important in the context of implementing things like broadcasts as plugins.\nBut at any rate, this would simplify our server-side code base dramatically, imo\n. In latest develop, there's a language that your lib doesn't know about! It's displayed as undefined inside the language list...\n. https://github.com/ether/etherpad-lite/blob/master/src/static/js/l10n.js#L143\n. Ah, please don't attempt to provide every possible translation along with your code. Translation is done on http://translatewiki.net .\nJust add the necessary stings in locales/en.ini and let twn do the rest, so we can focus on the code when reviewing your pull requests (If you still want to help translate it, sign up on twn, tho! Help is greatly appreciated there.).\n. Apart from that your changes look very good!\n. l10n.js has a getDirection method!\n. $(window).bind('localized', function() { document.documentElement.dir = document.l10n.getDirection(); })\nfor setting direction of the UI.\n. For direction of pad contents we should add some setting.\n. Yea, i noticed, but we'd have to load that on the client-side, too, if we wanted to use it and loading time is already tremendously slow..\n. Could you pull request that over here: \nhttp://github.com/marcelklehr/trl8.js ? (This is a fork of webL10n with \nall my patches in it.)\n. @johnyma22 good to merge\n. Generally, don't edit translations directly in this repo. We won't pull any changes, because it would cause unnecessary merge conflicts. Correct the translations on http://translatewiki.net !\n. Could this be the cause? #761\n. Right, we are still missing translation functionality for some strings in timeslider.\nI feel like, some bits of your code reinvent the wheel, but on the other hand we'd need to add some really big dependencies like globalize on the client-side to automatically determine the right date format for example.\nSo, I think this should be good to pull for now, after testing.\nand @johnyma22: The original strings always have to be edited in the repo, so there's nothing wrong with @leblanc-simon's approach.\n. fixed, thanks for reporting!\n. Guys, ther's only ASCII and ANSI, no ANSII ;)\n. Example implementation for OpenID:\n```\nclient:\n  - plugin is notified that authentication failed\n  - plugin wants to authenticate the user\n  - plugin displays an input field prompting the user to enter their OpenID\n  - plugin then displays a popup pointing to a plugin-defined url, thus providing the server with the necessary knowledge about the authentication\nserver:\n  - the plugin-defined route is requested by a browser, providing the to-be-authenticated user's session id and the users OpenID\n  - plugin redirects to the associated openID provider (thus the user can enter their credentials inside the popup)\n  - the OpenID provider cals back to another plugin defined route, notifiying it whether the authentication succeeded\n  - plugin verifies the response\n  - plugin now knows the user is authenticated and stores this knowledge along with the session information\n  - plugin displays a message inside the popup indicating the result of the authentication process\nclient:\n  - user triggers a retry\n  - client js retries to connect to server, always providing the server with the sessionID\n  (for every socket.io message)\n  - plugin is notified to authenticate the user, checks the previously stored session information\n  - another plugin is notified to authorize the user for pad access\n  - access granted: message will be processed; not granted: notify client that authorization failed\n```\n. I don't claim to be omniscient and this concept may have loop holes, bugs, errors in reasoning, etc. So, if you encounter such things, please point them out and by all means do express your thoughts and opinions on this topic. It's your turn, now!\n. This is not about specific auth techniques, but about a general, solid \nauth framework for epl, on which you can build upon to create your own, \ncustomized auth solution.\n. @Pita d'you mind reading this?\n. The connecting bar on the pad is fine as is, for me.\n. There's nothing wrong with the image. Neither in pad.html nor in timeslider.html -- Make sure you're on develop branch and using the latest version, clear all caches, or just wait for beta.etherpad.org to get updated (@johnyma22).\nThe paths are ok as they are at the moment.\n. Confirmed.\n. Could we please try globalize again, before using any self-made creations, pls?\n. If you change the package name shouldn't you change a require statement somewhere in the code too?\n. Using firefox 17 all tests pass on a pad with 3 revisions\n. Using firefox 17 all tests pass on a pad with 30 revisions\n. Using firefox 17 tests 1, 2, 3 and 4 fail on a pad with 100 revisions.\n. Try opening your browser's js console and look for errors.\n. @Wikinaut First up we already have a clean solution for paths and as pointed out by @johnyma22, there's nothing wrong with the image, using the latest commit in develop branch on github.com/ether/etherpad-lite. I do use the net tab in firebug and i strongly advice you to do so, too, but not on your own instance, but on beta.etherpad.org\nThe image is loaded in every scenario: Using localhost, using the ip address, using latest develop, and using your \"patch\", so I daresay we don't need it.\nBesides that, do you think it makes sense to open a new pull request with the exact same commits attached to it as a one-day-old pull request, especially if that older pull request has been closed?\n. The fix works because path.resolve('/', '..') == '/'.\n. There's nothing broken with this gif. Clear your cache. (And before you get to ask again: No. There are no 404s in firebug and yes, I'm watching the net tab... ;) )\n. I kbow how a 404 looks like in firebug and i have seen it myself on my \nown instance. When I saw it, I checked the html source of the page and \nfound that the src attribute of the image tag wasn't correct. It read \n../static/img... instead of ../../static/img.... I cleared my cache, \nreinstalled and restarted etherpad lite -- no 404 (not even in the \nnetwork tab, surprisingly).\n. I think it's a bad idea to rely on a working outbound internet connection. We should commit that data directly to the repo imo, as it shouldn't change too frequently.\n. I disapprove the solution using an API call to a foreign domain at every \nrun. We could do this call on install time, but it's still a bad \nthing. IMHO, the best (TM) solution is to store that data statically in \nour code base -- either using some package of yours or by committing it \ndirectly.\n. Please submit the same pull request against develop branch, pls ;)\n. Ah, yes. That's the right branch.\n. Could check your browsers console for possible errors?\n. @johnyma22 confirmed this in chrome. I can also confirm that it works in firefox.\n. Hope my commit fixed this..\n. The test doesn't work yet, tho\n. @johnyma22 I need help! :)\n. The test works now, (it fails though, because the timeslider is broken)\n. I think #1233 should fix this.\n. There's now a setting for socket.io transports. If you wish to remove those loading indicators, simply add xhr-polling to the list of allowed transports.\n. Just tested in IE with native XMLHTTP disabled: works. Tested in firefox: No flickering loading indicator.\n. It does work! I opened the pad in FF and in IE (with native XMLHTTP \ndisabled). When I type in ff, the changes are visible in IE and when I \ntype in IE the changes are visible in ff. It works.\n. It still works if i delete node_modules before installing. I'm not \nrunning epl behind any reverse proxy nor with any custom settings, though.\n. I'm using IE9, afaik. maybe that's the problem\n. Interestingly I tried you echo server with ie in ie7, 8, and 9 mode with native XMLHTTP disabled. While I can't type anything, I still receive all chars entered in another browser, so it doesn'T seem to be a problem with s.io, does it?\n. I should've said, that I, of course, changes the line to \nio.set('transports', [ 'xhr-polling','jsonp-polling'] );\n. I'm telling you. I tested all browser modes (IE7, IE8 and IE9) with my \ninstalled IE9. I had native XMLHTTP disabled all the time and I set \nxhr-polling, jsonp-polling as s.io transports. It works as described \nabove.\n. In addition to that I also get an error after entering the password in firefox -- authorization works all the same tho.\n. I agree with @joker-x. I think it would be best to set the proper relative path in the relevant templates. Apart from that your pull request is all right. I'd apply @joker-x's suggestion and say it's good to pull.\n. Problem is, express parses the request URL and then tries to find a suitable handler. However, there's no handler for whatever the user might enter after /p/padname/. If you enter /p/padname/ you get a useful message, if you enter any additional characters afterwards, you'll get a 404.\n. Could you submit a pull request with you changes? This would make things easier. :airplane:\n. Don't worry. We will not release a new version if it's unclear whether \nthe current code in develop will work for a critical audience. At the \nmoment the code in question is still in develop only, so I suggest to \ninvestigate further before applying a patch that fixes a bug that can't \nbe replicated (or rather: one that I cannot replicate -- how about the \nothers?!)\n. nah. I wouldn't like that.\n. Hard to fix, since the code that sets up the log level depends on Settings.js\n. eh?\n. I know the cause, now. After racking my brains trying to work out why on earth i could reproduce this sometimes and sometimes not, eventually going insane feeling trolled by @wikinaut (and the firebug network tab, incidentally), I finally figured out what's the cause of this symptom...\nand it's eejs, surprisingly. The eejs block containing the modals, specifically. Eejs caches the blocks apparently (we already suspected this from other issues like having to restart after installing plugins). And if you open a pad first it will cache the version with src=../static... and serve that on all timeslider pages; likewise, if you open a timeslider first, it will serve the image with src=../../static... on all pages including pads -- resulting in 404s in both cases.\nBOOM.\n. aah, no. I don't think so.\n. Of course you get 404s if the URL  is wrong. The problem is the src attribute which differs in both templates (and that's ok). Because this attribute is placed in an eejs block, eejs will cache the whole block internally and only once. So, all eejs blocks with the same name (regardless of the template they occur in) will be replaced with the contents of the block in the template that's served first after server restart.\n..and yes I meant eejs with two e's -- have a look at src/node...\n..and we're not using absolute URIs, because it prevents people from putting epl behind a reverse proxy.\n. Sure. I will try to solve the problem, when I have time.\n. Wouldn't it be easier to simply push the whole data from npm (or at least all ep_*s) to the client and have it deal with it. This would allow for very neat things like \"start searching while the user is typing\"... Just a thought tho ;)\n. Aah. That's the problem (I wonder why it was working before then, but anyway...)\nLooks good to me. Needs testing of course.\n. Thank you!\n. Those undefined entries are indeed a problem, but I daresay you didn't \ndescribe the real cause -- the problem is that we basically need a hash \nwith the names of all existing langs on the world in the language itself \n(also called the native name -- like espa\u00f1ol). Surprisingly, our \ncurrent solution doesn't cover all of the currently available langs. \nThere's an open pull request that seeks to address this issue.\n. fixed with #1223 pulled.\n. So, (among other things) this patch tweaks the createPad endpoint to always accept a padID and sanitize it instead of refusing creation if the given pad id is invalid.\nWhy did you do this change?\n. I'd feel more comfortable if we just validated them pad ids instead of sanitizing them, cause there's hardly a case where you (the API client, which is usually a program) want your pad id be changed unknowingly (ok, you get a notice, but what use is that? If I want my program to create a pad named abc/def, then that's a bug in my program and shouldn't result in pad abcdef being created instead).\nI'd simply return an error message telling them that their id is invalid (and perhaps why...)\n. As is said, I'd prefer validation on creation time so that bad padIDs simply get rejected\n. eh. and what next? commit that image? :P \n. @pita?\n. please read the dev guidelines... \n\nPull requests should issued against the develop branch. We never pull directly into master.\n. Please test before pulling!\n. mh. you need to branch off from develop... ;)\n. Ah, now it's correct :)\n. I agree we should change either the convention or the behaviour.. -- It's a minor bug though, as we're planning to revamp the whole auth system anyway\n. @mluto fixed it in develop recently, afaik... (?)\n. hah\n. what about #1691, though..\n. yea, feel free!\n. Possibly, but I would recommend you wait until l10n is stable (i intend \nto make some changes to the current system) -- in the meantime you could \nwork on this issue if you want...\n. Could you also fix this too while you are at it? \nhttps://translatewiki.net/wiki/Thread:Support/About_EtherpadLite:Pad.importExport.successful/en\n\nthanks\n. The problem is that the same message key is used  for both successful \nimport and successful export. @Siebrand advises us to split them\n. pulled.\n. I'd make this a seperate project and start from scratch, so you can make \nyour own decisions about whhich parts fit your needs and how you want \nthings to behave. If you want to integrate your app into etherpad \neventually you could easily write a plugin.\n. (You need to branch off from develop...)\n. Wait a mo' -- I'll merge master back in, so your patch works...\n. Apart from those little problems, your patch looks pretty straightforward. Good work!\n. Please review our guidelines for contributing -- issue your pull requests against develop branch!\n. ... and incidentally, the API is not restful.\n. I don't know anymore. I think it was an idea to clean up the code base and add new interfaces for plugins along the way.\n. I believe john's concerned about security breaches, allowing you to \nenter a url like //domain/locales/../../../../sensible_fi.le.\n@johnyma22 this isn't the case here (as it was with plugins' static \nfiles), because we first load the locales of each plugin and merge them \nwith ours, only the result of this merge is served publicly. You cannot \naccess the original paths.\n@joker_X I think we'd have to rebuild those merged locales on server \nrestart (express_serverCreate hook), because it should be possible to \ninstall plugins during run time!\n. Ok, but still, before we ship this I'd rather adopt trl8.js\n. localeIndex?\n. Closing this as it's superseded by #1297...\n. Please issue pull requests against develop branch (and incidentally: \nREAD THE DEV GUIDELINES! -- sorry. t'was the 6th time in two weeks...)\n. @0ip good point!\n. Ah, I'm sorry, but we can't pull this. Translations are done on http://translatewiki.net so your patch would cause merge conflicts... see the docs about localization for more info on how to participate in the translation process.\n. Ok, but please issue your pull request against develop branch ;)\n. It's not that hard actually ;)\nYou have forked our repo, as far as i can see, and i assume you have \ncloned your fork. Now, branch off a feature branch from develop (git \ncheckout develop, first and then git checkout -b \nyou-new-feature-branch). Make your changes, commit them and push the \nfeature branch to your fork on github. Now hit the pull request button \non your fork on github and set your feature branch as the source.\n. :cookie:\n. Perhaps updating to the latest version will fix this... ;)\n. You could check your http headers for the Server header and post the \nprovided git revision here for reference.\n. Perhaps best contact the site administrator and ask them to update...\n. nice! Thank you @mluto!\n. Thank you.\n. Is nodejs the official package on debian? Can't you rename it locally?\n. I think we are bound to fix this, but this pull request looks a bit polluted atm.... frowns\n. polluted as in many unrelated commits attached, yep\n. anyway, i think it's good to pull.. john pls test and merge if you're happy\n. oh :)\n. the % is probably accompanied by some two-digit hex code, which is \nlikely to be the url-encoded representation of the dollar sign...\n. gah.\n. @joker-x we need to make those import definitions use relative paths (because of reverse proxies' existance and everything, you know?)\n. test this, pls\n. @johnyma22 fixed.\n@joker-x could you rerun your ini2json converter, pls, as I've made some changes to en.ini... thanks!\n. @joker-x No need, I've done it already...\nREAD TO PULL! (phew)\n. Just found this: \nhttp://stackoverflow.com/questions/8452957/synchronously-reading-stdin-in-windows \n;)\n. What about the other answer?\n. I would be happier with a fix in socket.io, too, but for the time being...\nAnyway, websockets is disabled by default, because most people will \npresumably want to run epl behind a reverse proxy like nginx, and very \nfew reverse proxys support ws at the moment...\n. Mh, afaik we never really tested using WebSockets. So, you can probably eliminate the error for now by removing 'websockets' from your socket.io transports.\n. Yes, that's what I saw, too, but afaik the message isn't updated as you \nchange the UI language.\n. Ah, check again on that one... the submit button in the import/export \ndrop-down isn't updated either\n. Oh, and there's \"X unnamed authors\" in the timeslider!\n. Oh, s***! No, this is a problem regarding node 0.6 support... gonna fix \nit,now.\n. Fixed in b6c9b4ec30520df1fe32fbf63810f9a7310f6e31\n. EACCES usually means, you don't have the relevant privileges to access \nthe mentioned resource...\n. Hey! Actually it shouldn't use  the global cache /root/.npm/-/all/.cache.json at all, but use our own cache directory, no?\n. already reported in #1482\n. nice.\n. Fixed the online docs. (Sometimes make docs works for me, sometimes it \ndoesn't...)\n. in addition to your path corrections, require npm and call load (or \nwas it init?)  first line in your file, fixed.\n. Actually, it's not that hard to i18nize this. Just use html10n.get('MESSAGE KEY OF THE LOCALE\\'S DATETIME FORMAT, which I just forgot...', {day: foo, month: foo, year: foo, hour: foo, seconds: bar})\n. then you may introduce a new message for exactly this purpose ;)\n. (prehaps install ep_infopanel again...)\n. yea, I meant you, john.\n. +1\n. nor am I :P ...pulled :package: \n. Thanks, man!\n. Sounds reasonable!\n. Plugin sounds more reasonable to me..\nman, we should definitely pluginify the whole timeslider!\n. That's quite true, sadly.. In fact, it's this software -- Etherpad lite -- that's broken. It's a shame, actually\n. Indeed, that's one of the most broken parts of epl and it's a serious issue. You can't query the database.\nBut, you want to query the database. You need to query the database. And most reasonable dbs even provide this functionality natively.\nImagine for a moment, you observed that all verhicles have wheels, would you thereafter ignore all other properties of any vehicle you stumple upon, attach a rope to it and just pull it by hand? In my humble opinion, this is what ueberDB does. It limits us. So, when the user sets up some any high-end, super fast database, ueberDB prevents us from using this awesomeness and instead limits us to using stuff that only the most feature-lacking piece of software ever to be called \"database\" can do (so you do end up pulling your car with a rope, eventually).\nInstead of using a tool that provides us with the features of the lowest common denominator, we should be using a tool that allows us to use any piece of software called \"database\" as if it had all the shiny, useful features, something that monkeypatches all those halfbreeds to be actually usable.\n. You might also be interested in the thoughts I wrote down over here: https://github.com/ether/etherpad-lite/issues/697#issuecomment-7690730\n. yea.. about that: Those annotations about which version an endpoint was \nintroduced with, they refer to the API version, not epl's release version...\n. no, API version != epl version.\n. Yea, that's important to bear in mind. The browser doesn't provide the \nsame environment the server (aka node) provides. Even though you're able \nto require files that are served on certain paths by the server, that \ndoesn't mean that you can use node's entire built-in module set. Node \nand the browser are completely different environments, we merely added \nrequire support to be able to run certain parts of our code without \nchanges on both client and server.\nSo, If you're on the client-side and want to make an http request, \nthat's generally called 'ajax' and jquery should provide you with some \nquite useful stuff for handling this.. just use the search engine of \nyour choice! ;)\n. Are there any errors or warnings in the server log?\n. In addition to that, we could also display the contents of the readme, when the user clicks on a plugin description.\n. npm ERR! addLocal Could not install <a target=\"_blank\" href=\"http://npmjs.org/ep_copypad/\">ep_copypad</a>\n. OS? dbType?\nYou could try using the relevant API endpoint to get the pad contents \n(have a look at the docs....), try extracting the contents directly from \nthe db.\n. it is a key-value layout :)\nthe docs may help.. http://etherpad.org/#links\n. jQuery UI has an excellent slider...\n. Has it occurred to you, that the author(s) of the plugin in question may \nbe more qualified for helping you out with this issue?\n. thanks!\n. v1.2.7?\n. is it possible to also create links for the already installed plugins (as it's most likely you want to find out more about those, once you've installed them)\nother than that it works great!\n. ready to pull ;)\n. why not add a block for every existing modal?\n. indeed.\n. Have a look at this: https://github.com/ether/etherpad-lite/blob/master/doc/api/http_api.md#listallpads\n. Fixed the first error. (see #1398)\npls open a separate issue for the second one, if you're still experiencing it -- but set minify to false before reporting any line numbers; saves us a lot of trouble ;)\n. I don't know how to reproduce this. I don't know which browser emitted that changeset.\n. Probably got fixed with s.io rooms being pulled\n. :)\n. Yea, but that can only log what is console.logged :)\nThere are hooks for pad events like edit/create/delet, though...\n. Fixed in #1489\n. Doesn't this reset the current user's name, when the language is changed?\n. Currently we're using an \"in-memory\" cache that's updated when pads are created/, which is kinda ugly...\nStill, it works and if we'd change it to async style, we'd break quite a few plugins presumably...\n. -- can't replicate this...\n. A very sophisticated solution! Thanks man!\n. You could use the session store on server-side....\n. Well, why not move tools into the tools folder?\n. ah, maybe you're right... My point kinda was that the doc generator is \nnot really part of epl in terms of using it... more like a meta-tool \n-- but for simplicity's sake let's just put it into bin/!\n. I'm not sure that's the idea of an API, though...\n. Doesn't mean it's a good thing. Which are you referring to?\n. Agreed.\n. WHOU! This sounds awesome...\n. I dunno, I got used to it over time... maybe we shouldn't call it a \n'saved' revision -- after all we store all revisions permanently and a \n'Mark this revision as a saved revision' button is therefore kinda \nconfusing... What about Marked revisions?\n. nah, that's only if you're mentioned.\n. [2013-01-30 06:24:37.859] [ERROR] console - TypeError: Cannot read \nproperty 'colorId' of undefined\n     at handleUserInfoUpdate \n(/usr/share/etherpad-lite/src/node/handler/PadMessageHandler.js:476:27)\n. Best start by removing \"xhr-polling\"..\n. switch back to 0.8.19 ;)\n. \"sessionID\":null suggests that the session cookie isn't set/transmitted\n. Set the cookie? Or check where the cookie is set and whether it's set \ncorrectly (eg for the correct domain and path)\n. docs!\n. Actually i meant you to add to this: http://etherpad.org/doc/v1.2.7/#index_plugins\n. If you're indeed using api version v1, please use the latest version -- \nhave a look at the docs...\n. mh, can't reproduce it anymore.... shrugs\n. nice! thanks\n. Awesome! :heart: \n. +1 for a sort option\n. fixed with #1615 \n. I don't think that's really necessary, but.... whatever; pull it if you think it is\n. Would be nice to also have this in start.bat ;)\n. ah, sry. I meant bin/installonwindows.bat\n. yes, that's because it searches all available plugins first and then it checks for updates -- it's a right mess atm, i'm aware of that.\n. > I do a bad fix on stopping evil chars from plugins so a line that has text content that is purely a * wont export.\nmh. doesn't sound like a good idea. Sometimes you want a single asterisk on a new line (mh.. in rare cases, presumably... :) ). IMO, we should just let this happen until we have support for applying export filters \n. When exporting a pad, i get the following error and the server shuts down\n[2013-02-13 13:09:51.965] [ERROR] console - ReferenceError: emitOpenTag is not defined\n    at processNextChars (etherpad-lite\\node_modules\\ep_etherpad-lite\\node\\utils\\ExportTxt.js:207:15)\n    at getLineTXT (etherpad-lite\\node_modules\\ep_etherpad-lite\\node\\utils\\ExportTxt.js:244:5)\n    at getTXTFromAtext (etherpad-lite\\etherpad-lite\\node_modules\\ep_etherpad-lite\\node\\utils\\ExportTxt.js:261:23)\n    at etherpad-lite\\node_modules\\ep_etherpad-lite\\node\\utils\\ExportTxt.js:63:12\n    at async.iterator.fn (etherpad-lite\\node_modules\\ep_etherpad-lite\\node_modules\\async\\lib\\async.js:517:34)\n    at async.waterfall.wrapIterator (etherpad-lite\\node_modules\\ep_etherpad-lite\\node_modules\\async\\lib\\async.js:441:34)\n    at process.startup.processNextTick.process._tickCallback (node.js:244:9)\n[2013-02-13 13:09:51.969] [INFO] console - graceful shutdown...\n. Looks good, but non-ASCII chars are converted into their html entity \nequivalent...\n. All the Chinese chars in my test pad are exported correctly now, well done!\n. Adding new endpoints to all versions really isn't the point of why we \nadopted API versions in the first place... ;)\n. Right, but there are installations, where /api/1 doesn't expose your new \nendpoint. Since we will only support this endpoint presumably starting \nwith the next release, we can as well just introduce a new API version \n-- people will look at the docs, find the endpoint and the version it \nwas introduced and they can use it appropriately. That's it.\nAs an alternative, we could also make /api return the latest version: \n{\"currentVersion\": \"1.2\"}\n. add a express route like\napp.get('/api', function(req, res) {\n   res.json({bla: 'foo'})\n})\n. Mh. this only happens on timeslider...\n. okay, it happens if you select zh-hans and reload the page\n. Fixed! Thanks for reporting!\n. Checked out develop on windows, ran bin/installonwindows, started \nstart.bat, opened 127.0.0.1:9001/p/test and got the above error.\n. We should get jquery through npm anyway...\n. +1\n. I also used node to check the node version in bin/installonwindows\nanyway, +1 for a node.js build script\n. Clearly, someone pasted a lot of binary (?) data (have a look at the \nbrowser console)\n. Open the image in hey editor, copy everything and paste it on the pad.\n. that's not the cause.\n. > \"This will require no changes to your web development practices: _keep \n\ncoding to standards_!\"\n\nxD\n. can you post an error message?\n. One last thing: Please document this over here ;)\n. @JohnMcLear so kind of you...\n. I think +1\n. We probably need to make sure that the session is also deleted in \ngroup2sessions when removing a session...\n. Still, a pull request that adds linking to specific lines is much appreciated.. ;)\n. @Pita from what i gathered from reading through the code, it should still check for permissions before granting access.. https://github.com/ether/etherpad-lite/blob/6e46a532884c5a15ee6e06a6d27b910ce2cad119/src/node/handler/PadMessageHandler.js#L809\n. Are you looking for something like this? \nhttp://etherpad.org/doc/v1.2.7/#index_listpadsofauthor_authorid\n. > for a user i created an author, a group, a group pad, a session. When I now provide the pad url to the user and he visits the pad via the browser then there is no user name set. As soon he makes some changes an additional author is created;\nThis would be a valid complaint, as there is no possible way to circumvent the creation of a new author in this case.\n. I can't replicate this.\n. You mean it's not ideal that you're able to create more than one valid \nsession between an author and a group?\n. > I mean, if I create one which is valid for 10 minutes, and another, \n\nwhich will be valid for only 5 minutes, how long will my session be \nvalid then.\nYou need to set the session id on a cookie. How long the client has \naccess, depends on how long the session you gave them is valid. If you \ngave them both, they'll have access as long as one of the sessions is \nstill valid for the current request.\n\nI don't know whether sessions are refreshed, but imo the timeout should \nbe reset on every request...\n. IMHO, the current API (v1) must still be usable after pulling this (thus, this should become version 2)\n. ah, okay.\n. @ manuel: I agree\n. :sparkles: Aweseome!\nBrilliant idea -- the next step would be to adjust src/node/handler/APIHandler.js accordingly..\n. So, if we pull this, you'll work on drying things in https://github.com/ether/etherpad-lite/pull/1527?\n. ok, so I'm in favor of adding \"the meta to the functions \nAPI[\"*\"].getHTML.meta = {...} \" :)\n. whatever suits you, I really don't mind :)\n. I don't know. If it works and a few people agree on it, then we can\nmerge it.\n. > This pull request cannot be automatically merged. \n:)\n. Yep, thanks!\n. so, this can be closed now?\n. use v0.8.19?\n. What does the server log look like?\n. For smaller pads gzipping produces some serious overhead, though, compared to what we actually gain by reducing the packet size.\n. I think we should rather spend our time reducing http requests on page \nload..\n. In any case, this is a socket.io issue, since it doesn't expose the http \nheaders and the connection might not use http as a transport at all, so..\n. oh, sry. i didn't realize you were talking about the API. I thought you meant our real-time socket.io connections..\n. 0.8.19 should be sufficient\nOn 22.02.2013 13:02, mullrich wrote:\n\nOK. I'll re-install first to make sure everything is clean. What \nversion of nodejs do you suggest? I think I read about an issue in \nconnection with the latest v0.8.20...\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/ether/etherpad-lite/issues/1546#issuecomment-13940245. \n. thanks :)\n. > I can't remember how we wrote the stuff that posts to jserror\n\ngrep? ;)\n. Afaik, this is a legal issue in some countries, so it'd be good to have \nan option for this.\n. closed with #1950\n. try removing etherpad-lite/node_modules and (if it exists) \netherpad-lite/src/node_modules\nand start bin/run.sh again\n. Did that help at all?\n. there seems to be something wrong with your setup. \"ENOENT, open \n'/opt/openerp/etherpad-lite/package.json'\" means your etherpad source is \ngone (or not in the right place; or just the package.json file is gone, \nbut I can't imagine why that would be)...\n. Yep, that's a known(-ish) bug. If someone could revamp that getAllPads \ncode, that'd be awesome, cause I don't have much time left, atm..\nThe problem seems to be, that you have to access those pads in the first \nplace, before they appear on the list.. -- It's badly written! :/\n. I don't think it's possible to tell apart an insertion triggered by \ndragging and dropping text from a simple clipboard insertion..\n. Yep, as always, updating is going to help ;) #1489\n(afaik, USER_LEAVE is only sent if there are other users on the pad you're leaving)\n. No, i don't think there were any log messages, if a user disconnected in \nprevious versions.. The only indicator would be the USER_LEAVE message \nthat is sent to other connected clients, if any.\n. I opened this issue. I wanted to draw attention to the fact that people might not know about newly introduced options in setting.json. I like READMEs. I don't like squashing multiple issues into one.\n. It's a shame we don't have the exact spot where the error was thrown..\n. Other people have seen that error and reported increasing the max. stack size for node fixes this, we definitely need a long-term sollution, though.\n. I think the problem lies on the client side... you might want to grep \naround in src/static/js .. ;)\nSuggesting a name for another user has never worked, though\n. yep.\n. wtf? check your script again... :P\n. hah, thanks :)\n. Great you started working on this again :)\n. it'd be cool to have somethng like thisis for the menu on our /admin pages\n. OK, so...\n- [ ] document this (server hooks + a new file on usage of that toolbar interface)\n- [ ] update settings.json.template\n. @cohitre will this break existing plugins?\n. It's ok. It's just a placeholder anyway, so it doesn't matter if it's valid json...\n. afaik, this was fixed\n. Mh. maybe we have to update log4js? Manuel, could you try changing the \nlog4js dependency to \"*\" in src/package.json ?\n. Does npm install nodemailer help?\n. mh. I'm not sure about whether we should introduce a whole bunch of \ndependencies just to support some edge case feature... IMHO, we could \njust leave a not that you need to npm install nodemailer to use that \nfeature..\n. I'm not concerned about security, but about the excessive increase in \nthe amount of dependencies we introduce for a getting simple feature like that in return.\n. still... let's make life easier and just pull it... :)\n. c) document this\n. yep, duplicate of #565\n. Nice! Thank you.\n. mh. could be an option, but I daresay a third-party service might not be \na desired solution for a privacy problem... ;)\n. +1 ;)\n. How do they solve it?\n. Apparently, they map the subdomain to a group and use the path as the pad title part of the pad ID: g.ertduzgi5tzuioio$eh, they embed this pad into the actual pad via an iframe and can therefore Adjust the page title to suit their needs...\n. okay, makes sense. Still, I'm convinced this should be called sendCustomObjectMessage, because it's not a handler technically, as well as handleCustomMessage (these are all handlers).\nAlso the relevant API endpoint is called sendClientsMessage\n. Branch off your feature branches from develop purlease... ;)\n. cherry-picked the actual commit...\n. I think we should actually try to validate the apools of incoming changesets, as we're blindly copying the attribs over to our pad's pool at the moment. Because the pad takes the list of existing authors from it's apool we get an error if the author is in the pool but not in the db.\nSo, we should check that all authors that are mentioned in the changeset's apool actually exist.\nThat'd be over here: https://github.com/ether/etherpad-lite/blob/dont-crash-bad-author/src/node/handler/PadMessageHandler.js#L545\n. ready :)\n. aah. that's probably pretty easy to fix...\n. Are you trying to mimic the pad creation form on /? If you'd read the source of that form, you'd have noticed, that some client-side javascript handles submits on there and redirects you using window.location.\n. okies\n. wtf?\n. Mounting should work with a bit of hacking... But reusing socket.io is \ngonna be complicated. We're not using our own, atm, for one..\n. I commented out the Frame-option: deny part and corrected the HSTS header, should be good to pull.\n. oops, that'd be my latest security patch... It disconnects anyone sending \na changeset that touches other people's author attribs\n. er, i dunno..\n. hah, it didn't! https://travis-ci.org/ether/etherpad-lite/builds/5511114#L188\n. I investigated on domain usage as a permanent fix for errors thrown during processing of messages (like trying to access property of null, as reported by sebastian nerz), but had to learn about the following showstopper: https://github.com/joyent/node/issues/3908\n. OMG! you're right.. We'll support that, too, of course.. just give us a \nlittle time ;)\n. https://github.com/joyent/node/wiki/Api-changes-between-v0.8-and-v0.10\n. A first try is available on branch feature/support-node-0.10 (see #1623 for comments etc.)\n(git checkout feature/support-node-0.10 to try that branch)\n. right. that's why i changed more than just run.sh. Take a look at the \ndiff of my pr...\n. well, it doesn't work for me, yet. Test it yourself, pls.\n. does ueber db have any tests that we could try running in .10?\n. fixed.\n. Currently the server hangs after a few requests... :/\n. @john exactly what i experienced\n. So, I took a look at this yesterday and decided to chase the bug through pita's labyrinth of code. Its trace took me to dirtyDB (because that was what i was testing with, obviously).\nSo, apparently, dirty's usage of WriteStream was broken with node 0.10: The drain event is never fired on that stream, so dirty just buffers up all the data without ever flushing it to the WriteStream and since the write callbacks are called on flush, the http server hangs.\nThe solution for this problem is to set the highWaterMark option to 0 to force the stream to always emit a drain event when something was written (regardless of whether it was in the stream's buffer before).\n. Apparently this is already fixed in the github repo (with a different solution, though): https://github.com/felixge/node-dirty/commit/434764a2411a7de89e2886152f03a7e24495aa48\n. submitted a pr for ueberDB: https://github.com/Pita/ueberDB/pull/46\n. I have noticed that, too. I couldn't consistently reproduce it or find\nthe cause, though.\n. considering the hook name, it's probably not...\n. Could you put that in the docs, pls?\n. mh. you could set the log level to something lower.. like DEBUG, i \ndunno if that affects npm's logging though\n. maybe we should think about running npm in a separate node process...\n. try updating node to the latest version on 0.8 branch\n. As stated on the blog, we're aware of problems with import \nfunctionality.. still, thanks for reporting this!\n. Situation: You have a long line (you know, extraordinarily long) with a few space sperated words at the beginning.\n- [ ] I'm used to being able to select text in order to scroll the viewport in case no scroll bar is visible -- doesn't work here though (possibly an edge case?)\n- [ ] so, now you scroll via arrow keys. once the beginning of the line is out of view hitting [arrow up] takes me to the end of the first row of the wrapped line instead of taking me to its beginning. after that you have some weird behaviour..\n- [x] page up down works well\n- [x] perhaps add scroll bars in case a line can't be wrapped?\n. fixes https://github.com/ether/pad/issues/327#issuecomment-15078160 :)\n. mh. yea.. plugins should better use peer dependencies in thise case...\n. guys.. enter peer \ndependencies\n. told ya! ;)\n. To sum up my comments so far:\n\nmh. yea.. plugins should better use peer dependencies in thise case...\nguys.. enter peer dependencies\n\n@quenenni cannot do that, of course, because he's* not a plugin author. He's just installing the plugins and noticed, that etherpad doesn't load some plugins that are listed in the plugin manager. And this is because they're not in our root node_modules dir, but in a nested node_modules dir.\nThe solution for this problem is:\n- [x] Document that plugins should neither depend on ep_etherpad-lite nor use \"dependencies\" for specifying plugin dependencies, but \"peerDependencies\"\n- [x] Submit issues for the relevant plugins\n- [x] Maybe we should extend the installer to automatically install peerDependencies if they start with ep_\n* (or she?)\n. oh, I was wrong. Turns out npm does install peerDependencies if they're not already installed and all packages agree on a particular version of that dependency.\n. It's probably possible to write a plugin that automatically hashes passwords when the user authenticates, so you can insert your pw as a hash in settings.json epl can compare hash with hash..\n. probably a symptom of #1573..\n. @Gared Do you still have the original js error message? (The one with the large changeset blob?) Could help verifying a theory of mine.. (Note to self: The colon at the end)\n. I need the whole changeset blob, but not the stack\n. @disy-mk could you post the same with logging on debug level?\n. possibly a browser issue. What does your express_sid cookie say after each of the above?\n. Chrome doesn't send the session id every time apparently, so epl generates a new session for some requests. Hence the db pollution.\n. that's an express functionality. we're just providing the storage mechanism.\n. The sessions are SET on every request in all browsers, but it doesn't \ncreate new ones for me.\n. Mh. It's pretty dangerous to just log errors and continue with business as usual... Also, afaicr, it didn't solve my problem, so...\n. +1 from UX perspective\n. Maybe we should just add a 'Got problems with this plugin?' link\n. please test extensively. ..and don't pull yet!\n. - [ ] Please provide more links for stuff like plugin feedback, not getting feedback from plugins is a really big problem of mine\n- [ ] It should be clear what clicking on a plugin name does (A title hover will fix this)\n. It doesn't disappear for me. It stays yellow.\n. ready to merge\n. (john's talking about front-end tests here, of course... /tests/frontend)\n\nHave you done any tests?\n. like two or more different pads of the same installation embedded on the \nsame page via iframes? Or d'you mean different pads from different \ninstallations?\n\nboth should be possible, afaik\n. Mh. I think what ryan is trying to point out is, that he'd like to rip \napart the content of a pad, which has always been one monolithic block \nof text so far, into many pieces that all belong to the same pad and thus share \nthe same history?\njohn has written a slideshow plugin that could use this (at the moment \nhe's doing some voodoo stuff to tell apart the slide contents by their \nheadings, afaik...), but there's no development in this area at the \nmoment. We're mostly focusing on etherpad as an editor for a single \ndocument. It's not that flexible (yet). We're also pretty tied to our \neditor, so it's prolly gonna be pretty hard to visually rip apart the \ncontent and still be able to edit it.\n. +1 :)\n. oho. we're assigning to 1.4 now.. :)\n. a node version manager helps! :)\n. we now support node 0.10 (currently only on develop branch). Support for 0.6 is officially dropped (see #1692).\n. mpf.\n. If you wait long enough it doesn't happen (for me, at least). My only \nproblem is, that the plugin manager seems to get disconnected when the \nserver restarts and thus doesn't indicate whether the install has finished.\n. ... the actual issue here is, that plugins should depend on other \nplugins by adding those as a _peer_Dependency not as a normal dependency \n(since the latter makes it harder to manage things...) -- you can tell \nthat the plugin author ;)\n. you can click on the link of that plugin in  your plugin manager to view \nthe plugin details on npm. There should be a link to it's github repo or \nsth -- try submitting an issue on that repo.\n. node version?\n. @john is it possible that our bundle contains node v0.10?\n. If we'd allow that you could simply write as another author.. which is a huge security issue...\nthe solution for this would be a fourth OT operation: move..\n. Yes, but in the past there have been enormous efforts to retain authorship when copying and pasting content...\n. pr that introduced this: #1622\n. please don't introduce an option... Let's just remove that behaviour.\n. WUT!? I want me to revert the security fix?\n. Should be, but I don't have clue where to find the piece of code that is \nreponsible for this. ;)\n. no. I don't think we should revert it.\n. Is there a reason why this is still open?\n. Ah, okay. So there's two options:\n1. we move the path joiner to the line above the offending one and only \n   merge with 'settings.json'\n2. we first assume the given path is absolute and check its existence \n   and only join it with the internal root path if it doesn't exist\nsomeone would have to to submit a pull request for either of these two \nsolutions.\n. If you're not using postgreSQL as db that shouldn't be a problem.. \nstill it's weird.\n. aha. pg_config comes with postgre, so it doesn't matter if that fails...\n. that's a regression then. As far as i remember, i took care of that when i wrote it.... I'll investigate.\n. yep, that's intentional. It console.warns you but continues anyway.\n. ```\n20:14:59 - analphabet: quenenni: what about this? https://github.com/ether/etherpad-lite/issues/1706#issuecomment-15996534\n20:16:57 - quenenni: Well, that's a good question. The fact are that with this error thrown, jquery reacts strangley.. Without it, the lideToggle works perfectly\n20:17:10 - quenenni: * s/are/is/\n20:17:23 - zmo: ok updated the README screen\n20:17:37 - analphabet: quenenni: so, you're saying that console.warn'ing that error causes jquery to freak out?\n20:18:18 - quenenni: well.. not really, just on the first time slideToggle is called. After that, it seems to work correctly.\n20:20:35 - quenenni: So I think that the way the i18n error is throwned in the console is not the best way to do it.\n20:20:55 - analphabet: I can't imagine why and that would affect jquery though!\n20:22:34 - analphabet: ... +and how...\n20:22:44 - quenenni: I find that behavior quite strange. But if I remove the code from i18n file that generate the error in the console, I don't have the strange effect.\n20:23:04 - analphabet: does anything throw?\n20:23:07 - quenenni: maybe it's the slideToggle from jquery that reacts not well\n20:23:13 - quenenni: yes\n20:23:21 - analphabet: what's the error?\n20:23:50 - quenenni: if (!data[lang]) { cb(new Error('Couldn\\'t find translations for '+lang)) return }\n20:24:05 - analphabet: the stack?\n20:24:18 - quenenni: static/js/html10n.js (line 182)\n20:24:23 - analphabet: naa, but that is never thrown!\n20:24:34 - analphabet: it's logged with console.warn\n20:24:40 - quenenni: Well, that's what I have in my firebug console\n20:24:52 - analphabet: so, it throws in your console?\n20:24:58 - quenenni: yep\n20:25:18 - quenenni: https://github.com/ether/etherpad-lite/issues/1706#issuecomment-15965248\n20:25:26 - quenenni: these errors are in my firebug\n20:26:37 - analphabet: are they red or are they yellow? :)\n20:26:56 - JohnMcLear: luto: exactly that\n20:26:57 - quenenni: submarine :)\n20:27:09 - JohnMcLear: luto: I don't feel bad cause I contribute plenty as O/S\n20:27:09 - analphabet: ?\n20:27:11 - quenenni: (yellow)\n```\nSo, it doesn't throw anymore. Still.. there's something in the code that stops slideToggle from working apparently..\n. Afaik, that's good. Because the session timeout is reset on every request, no?\n. nice fix!\n. did you know that we're not taking into account a very dangerous situation, btw.\nimagine two people accessing /admin/plugins, and think of everything that could go wrong...\n. yea, I didn't intend to fix that right now anyway.... :)\n. plugins should specify ep_etherpad-lite in their peerDependencies.... if \nthe version doesn't match, users will get a message.\n. Hey @otetard, can you observe the error on http://beta.etherpad.org ?\n. Next steps: Have a look at the browser console and post potential errors \nhere.\n. Nah, that's just a warning it should fall back gracefully. Which version \nof etherpad did you install? (git revision is probably the most useful info)\n. ok. pls, git pull to fetch the latest changes\n. duplicate of #1724\n. Can you clarify \"fails to load\"? E.g. post potential errors that show up in the browser debugging console, etc.\n. (translated the error messages)\n. I noticed an orphan console.log in firebug, and grepped:\nsrc/static/js/ace2_inner.js:4155:  console.log(selection.startPoint.node.uniqueId()+\",\"+\nsrc/static/js/contentcollector.js:314:        if (typeof(window)!= 'undefined' && window.console) console.log([key, value])\nthe second result is apparently intended not to error, but i think it does. It's only triggered when you edit a list or sth, though.\n. git checkout develop && git pull\nI hope this fixes your problem\n. I also felt like that.\n. Please test thoroughly.\n. So, the results above are introcudec by this patch, right?\n. can you elaborate?\n. ok, so i took out the offending commit...\n. tests for this would be nice... :)\n. you mean, importing the HTML your got when exporting doesn't work?\n. 1.2.91 is the odd one out...  (and so is 1.2.81) -- or would you expect \nus to release 1.21.0 next week?\n. (you need to actually run etherpad -- use bin/run.sh on linux and \nstart.bat on windows.)\n. ah, sorry. I forgot about this.. Things have gotten a little quieter in the ethervalley lately ;)\n. heh\n. addressed by #1092\n. duplicate of #1800\n. what about this, now?\n. merged.\n. Amazing find! I am not so certain about your fix, though.\nDoesn't it seem reasonable for changeset.follow to retain attrib changes?\n. Yea, the changeset library is pretty opaque (and I don't claim to \nunderstand it, either). I tested your patch and I also found, it works \nwithout problems, so the only question left is, why does it work (a \nrare case :) ).  I thought Changeset.follow was an implementation of \ninclusion transformation so far, so if it's really just a merging \nfunction that may explain things (to people who understand that lib, \nanyway).\n. Do you mean, the etherpad lite process crashed or your service crashed / \nwas unavailable, because apache had crashed?\n. The problem seems to be that the browser has lots stuff to do. We could probably optimize a few parts here and there, but unless we find a completely different editor process-flow, the problem is still that there's lots of stuff to do.\nWhat do you do when you want to run many tasks quickly? You run them in parallel. So, an option would be to put some of these tasks in web workers.\nWhich tasks could be put into a web worker? Nothing DOM-related.\n. okies. Makes sense.\n. It does sound like something our editor would do, though...\n. Well you'd need to write a plugin that delivers a custom message in case \nan admin or someone else chanegd the authoring rights of a specific \nuser. On the client-side, this plugin'd have to listen for that custom \nmessage and then activate/deactivate the editor accordingly -- this is \nnot really safe, though, because the server wills still accept \nchangesets from the client. Just because the user is not able to write \nanymore, that doesn't mean they can't make the browser send a \ncompromising changeset to the server.\n. oh, right. forgot about that ;)\n. fixed.\n. That's likely to be a problem with the plugin in question. Please open \nan issue on the github repo of the respective plugin. thank you :)\n. The current system has flaws. Instead of trying to rescue a drowned man, \nsomething new should be built. There's a draft. You can read it and \nshare your opinion ;)\n. hah, fail.\n. Afaik browserify expects a single entrance point for your script and\ntries to bundle the dependencies you specify in your code by require'ing\nthem.\nHowever, we have multiple points of entrance that are loaded\ndynamically, I don't know if browserify allows for thins kinda thing.\n. Why don't you use the admin panel? It's simple and beautiful ;)\n. yea that's the one of the perks of using npm ;)\n. confirmed. weird.\n. ah, the cause seems to be that the name is written into the field before the parameter is read.\nStill, it uses the right session.\n. I wrote this code and from what i gather reading through your changes it \nseems the statements you removed were all 'console.warn's.\nGiven these are only used if there's an event someone would want to be warned about, i \ncan't see what's the problem with this practice in a production environment. But that may \nbe due to my lack of production expertise.\nWhat i don't understand is why phantomJS doesn't just swallow the usage \nof console. The code even works in IE.\n. I like the new approach, but as development has continued, you'd have to rebase this against the latest changes.\n. done, thanks @simong  :)\n. I just skimmed your text, but from what i gathered the only solution for \nyour problem is to create a group for each pad instead of one for each \nuser. Not elegant, but it works.\n. Ah, the ability to kick users from a pad... Theoretically it's possible via the API, but there's no UI for this, of course.\nYou could give the deleteSession endpoint a try: http://etherpad.org/doc/v1.2.10/#index_deletesession_sessionid I'm not sure whether it actually kicks the user, but it's worth a try i think.\n. Usually that's left for the surrounding portal to solve (the piece of software that creates the session for you, etc.). It could keep track of the pads that belong to you and let you invite and kick other users. Etherpad currently merely provides the necessary API endpoints for these features, so you'd have to write this for yourself.\nYou could also try teampads by @rhelmer, which is an adaption of / plugin for etherpad.\n. Please also try deleting the session on the server. There's a chance the \nserver is able to kick the user that way.\n. (ah.i get it.) no, i don't think you can further specfy the level of access for group pads right now. readoly links don't make much sense ob obviously. either you got full acess or none, curently.\n. always glad to help :)\n. I'm not really a scripting geek, so I'm not able to make a call on this \none...\n. looks sane.\n. Thank you!\n. Nice one!\n. So, it's a valid concern -- ... that I'd put into a plugin.\n. as I understand it, john pointed out that it would be naive to expose history rewriting functionality to all users. However, taking the contents of any revision and creating a new revision on top of the pad's history could be allowed for anyone.\nThat's how I understand John's first comment. However, it seems nemobis thought, john meant that only admins should be allowed to both rewrite the pad's history and restore a specific revision. Which is definitely useless.\nSo, no problem at all. (Except that noone wants to fork a pad... ;) )\n. From a vandalism point-of-view, I think non-destructive reverting can\ncause the same level of damage as importing rubbish, or deleting the\nentire pad content by hand -- thus I think it's relatively uncritical to\nimplement it in core since those two methods to vandalism are way simpler.\nConceptually, it should be similar to import and setText, I think, so I\ndon't see a problem there. From a UX perspective we might want to\nconsider adding some marker that shows the reverting edit or sth.\n. ImportHtml uses setText(\"\") (essentially creates a blank sheet of paper)\nbefore appending the new content as a revision. What's the problem with\nthat?\nThe atext property is actually only set for performance reasons. In\norder to save memory, only the changes for each revision are stored. In\norder to see the full contents of the revision you need to apply the\nprevious changesets on top of each other, which is what\ngetInternalRevisionAText does.\n. Yea, I think stuff like lists are causing problems.\nNope there's no diff yet. It shouldn't be necessary, too.\nAtext looks like this {text: 'fooo', attribs: '|5*0+1|etc.pp.'}, where attribs is actually a list of insert ops. Now, you should be able to string together a changeset like this:\ncs = \"Z:\"+\"1\"+\">\"+changeset.numToString(atext.text.length)+\"\"+atext.attribs+\"$\"atext.text\nWhere Z is nothing. 1 is the old length, > indicates whether the document shrank or grew, atext.attribs is the set of insert operations and everything after $ are the characters being inserted.\nSince atext.text.length might cause problems, you can also iterate over the ops and use a builder to create a changeset as seen in ImportHtml.js\n. It might be a good idea to refactor and take that part out of ImportHtml and put it into a new Pad method, like Pad#setAtext\n. An API endpoint would definitely be nice, of course.\nRe Z: What I meant is, it has no meaning, it's more like \"this is a\nchangeset\". Every changeset starts with \"Z\".\n. Obvious question: Do you still experience the problem, if you use the \nAPI directly (ie with your browser)?\n. This is the suggested code:\n```\nexports.padUsers = function (padID, callback) {\n  var result = [];\nasync.forEach(socketio.sockets.clients(padID), function(roomClient, callback) {\n    var s = sessioninfos[roomClient.id];\n    if(s) {\n      authorManager.getAuthor(s.author, function(err, author) {\n         if(ERR(err, callback)) return;\n         author.id = s.author;\n         result.push(author);\n      });\n    }\n  }, function(err) {\n    if(ERR(err, callback)) return;\n    // callback(null, {padUsers: result}); // commetend by monton 20130605\n  });\n  callback(null, {padUsers: result}); // added by monton 20130605\n}\n```\n. yep. this code is not gonna work.\n. can anyone confirm this?\n. Are you able to replicate that on beta.etherpad.org? (That'd identify \nyour browser as the problem...)\n. Perhaps try on a fresh installation\n. heh.. nice addition, chia-liang!\n. docs for this are still outstanding, afaik!\n. Hah, \"The issue is affecting etherpad!\" -- like a boss.\n. Well, etherpad logs the IP of the connection's other end. If that \nhappens to be the reverse proxy, it logs the loopback. If apache logs \nthe correct IPs for you, what's your problem? (Some people intentionally \nput a reverse proxy in front of their etherpad installation to stop it \nfrom logging the users' ips.)\n. addressed by #1092\n. What changes would be necessary to allow people behind screen readers to\nuse etherpad?\n(Or rather: What are screen readers capable of in terms of web technology?)\n. awesome. could you submit a pull request?\n. uuh :S -- never mind, then. just reopen this issue, so we can take care \nof fixing this upstream.\n. git pull -r\n. you need to create your own fork repo of epl on github (by forking this \nrepo). Then you push your changes (which are ideally in a separate \nbranch) to your repo and click \"send pull request\" on your github repo \n-- voil\u00e0.\nOn 13.06.2013 14:39, dummys wrote:\n\ngaia src # git config --global user.name \"dummys\"\ngaia src # git config --global user.email dummys1337@gmail.com\ngaia src # git commit -m \"added log4js version 0.6.6 in package.json\"\n[develop 710a6df] added log4js version 0.6.6 in package.json\n1 file changed, 1 insertion(+), 1 deletion(-)\ngaia src # git pull\nAlready up-to-date.\nHow can I send you the pull request then ?\n2013/6/13 dumMY's dummys1337@gmail.com\n\nI've cloned the directory, now how can I commit the package.json \nchange ?\n2013/6/13 Marcel Klehr notifications@github.com\n\ngit pull -r\n\u2014\nReply to this email directly or view it on \nGitHubhttps://github.com/ether/etherpad-lite/issues/1806#issuecomment-19388060\n.\n\n\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/ether/etherpad-lite/issues/1806#issuecomment-19388862.\n. Good catch!\n\nThere's an additional section about hook return values, already \nhttp://etherpad.org/doc/v1.2.10/#index_return_values\nBut it's always good to keep the docs coherent ;)\n. @clkao feel free to implement this\n. john's already using this, apparently!? https://github.com/JohnMcLear/ep_rtc/blob/master/handleMessage.js#L89 \n. it shouldn't, nope.\n. @JohnMcLear didn't you add in something like this before?\n. The socket.io connection might have that data available, but you don't \nget that along with the clientVars hook.. \nhttp://etherpad.org/doc/v1.2.11/#index_clientvars\n. John McLear wrote: \"we need to bisect to find out why this was added, \nwhat purpose it serves and if we can add it later in the order of \nexecution.\"\nhah, you pulled it! :)\n. see #1342 (especially my comment)\n. fixed in develop\n. There's usually an error that stops the loading process, you might find \nsomething in your browser javascript console..\n. Where's the code that handles this new setting? What's your intention in \nadding this?\n. Ah, but that was added with the following in mind: \nhttps://github.com/ether/etherpad-lite/commit/d76100358840e24079a523b7b9c8d135370878ef\n. yea, the current mechanism doesn't handle URLs.\n. Could you extend the logic in settings.js to handle URLs correctly?\n. yea, i agree. I've also observed users don't get how the chat box works..\nperhaps a three-button model, like those the popular OSes use, would \nhelp: there is already a minimize and a maximize button, but they \ndisappear, if you maximize the chat. So, we could add a third \"make this \na little smaller\" button and display the three all the time.\n. You can only see this message, if you're hosting an etherpad instance. \nIf you do, then you will (and should) be aware of the existance of a \nfile called \"settings.json\" which contains content similar to this \nfile's: \nhttps://github.com/ether/etherpad-lite/blob/develop/settings.json.template#L18\nBy simply editing this settings file you can set and edit values for all \noptions in there, including the \"sessionKey\" option. If you leave this \noption untouched, you will get the aforementioned warning.\n. it works like a charm for me..\n. see #1798\n. requireAuthentication just means, epl will fire a hook called \n\"authenticate\" and wait for someone to do something. If there's no \nplugin responing to that hook, the page hangs.\n. Well, no. there's no default plugin that hooks into \nauthorize/authenticate. What would it authenticate you against? I would \nleave both \"requireAuthentication\"/\"requireAuthorization\" on false, if \nyou're not asked to change them by a plugin and as long as you don't \nhave your own plugin in place that handles them.\n. I'll consider this as solved, then...\n. thanks for reporting. should be sorted out rather quickly...\n. Without looking at the code I'm impressed: seems like a pretty elegant \nsolution!\n. awesome. thank you!\n. The tests fail in IE: https://travis-ci.org/ether/etherpad-lite/builds/9387991#L357\n. hah, lol :)\n. Could you turn off minification? Simplifies identifying the offending line ;)\n. ah, glad it works now :)\n. we also occasionally receive reports of that error. I don't know what's \nthe cause.\n. ah, so if you could wrap up a pull request for this, that'd be awesome\n. A quick grep gave me:\nsrc/static/js/collab_client.js:499:  function \nsetChannelState(newChannelState, moreInfo)\n. Duplicate of #447 \n. hey stephen, this is already fixed in the develop branch.\n. Since development has pretty much stalled, there's nothing that's being\nworked on right now, so I daresay it's safe to use develop at the moment\n(you get new localizations as well as some recent optimizations for free\n;) -- see\nhttps://github.com/ether/etherpad-lite/compare/master...develop ).\n. I'm afraid you'll need to report this to the maintainer of the dokuwiki\nplugin. There's nothing we can do about that here.\n. oh, sorry.. my bad. Dokuwiki export is a core feature, of course.\nIncidentally, do any other export options recognize headings?\n. Hey, this appears to be a problem of the headings plugin. Pls, contact\nits maintainer.\n. Here you are: http://npmjs.org/ep_headings\n(btw, someone probably installed that plugin on the instance that you're\nusing. And they should usually be able to tell you whom you need to\ncontact. ;) )\n. This question has been asked before:\nhttps://github.com/ether/etherpad-lite/issues/1812 ;)\n. should be, yep. you'd have to write a plugin for that, though.\n. right, forgot about this one. I dunno.. it looks scary as it deletes\neverything, so it's not easy to tell what was changed exactly.. :)\n. tested and works\n. now, is everyone ok with me pulling this?\n. pls, disable minification, so and post the new file and line number\n. yea, it's a weird error that turns up temporarily in some cases...\n. I'd say it's possible.\n. I just submitted a pull request on your repo that shows how you'd display the list of suggestions, and it seems cursorPosition() works as intended.\n. Looks like a minified version of that file... could you post the\noriginal line?\n. I've also noticed some client-side \"Security error\"s in the server log, dunno what this is about, though.. might be the same problem.\n. hah, fail\n. tried on beta.etherpad.org. I'm able to type without problems.\n. By 'developer version', i take it, you mean the develop branch which\ncontains recently added features/fixes that haven't made it into a\nrelease yet.\nTo use that branch, 'git checkout develop' and 'bin/run.sh' should do\nthe trick (presuming you're on a unixy OS).\n. Does this still happen?\n. Yep. there have been efforts to make settings a better user experience,\nbut development has stalled around there, too, apparently.. (cc @luto)\n. Which version of IE are we speaking of here?\nAre you by any chance running epl with minify enabled? If so, please\nturn it off, so you get correct line numbers in javascript console.\n. Please turn off minify and try again, as minify puts all file contents on one line, the line number doesn't help at all in finding the cause of the error.\n. the tests are available at /tests/frontend\n. confirmed. sadly, i don't have time to fix this right now.. maybe you\ncan help out by submitting a pull request with a fix :)\n. thank you! :)\n. duplicate of #1858, pls. close..\n(and be patient when waiting for replies ;) -- i know you often want to\nget a reply asap, but until there's someone around, posting duplicates\ndoesn't solve anything...)\n. if this is a bug with the syntax highlighting plugin, as you stated above, then you should notify its author.\nWe can't do much about broken plugins\n. Looks familiar. I think we fixed that long ago. You run v1.2.10 i take it, so you might wanna update to v1.2.11\n. Looks that way, yea. :)\nhttps://github.com/ether/etherpad-lite/commit/c8e2278afcb4f75d52af6e55ebe1e979461c63fc\nwas committed 5 months ago.\nv1.2.11 was released about two months ago:\nhttps://github.com/ether/etherpad-lite/commit/ba1a5da76dea1051435bca4fadd9fb0721e8d38d\n. Authorship is stored as attributes, so yea, you'd have enough\ninformation (at least you got the authors' ids -- you can you those to\nrequest further information about the author)\n. looks like that was caused by a bad import... we should make sure to\ncatch that.\n. There have been some patches to the import/export code.. pls, try again and reopen if this still exists.\n. yep. looks good.\nI'll pull it asap, as i can't login to github right now... :/\n. thx again! :)\n. hey bernard,\nthose warnings are not actual problems. The just tell you that the\npackage file of the package to be installed is missing a 'repository'\nentry, that was recently added to npm (or recently made compulsory?).\nAnyway, it's nothing to worry about, if it still bothers you, you can\nask the maintainers of those packages to add that field ;)\n. thank you!\n. We can't do much about broken plugins here. Please contact the author of the plugin in question. Thank you.\n. actually, the error message is ' != ', which indicates that the a changeset is not\nformed as expected. I believe it generates a normalized version of the\nchangeset and compares the two. So, it would be interesting, what the\ndifferences are.\n. The only difference seems to be an appended colon in one changeset\n. Basically the pad is corrupt. In the latest develop (which should very soon become a new release) you will get a nice disconnect message telling you that the pad is corrupt.\n. The mailing list is mentioned on etherpad.org (and also in the README, i\nbelieve)\n. you can already send custom messages to all users of a certain pad\n(see http://etherpad.org/doc/v1.2.1/#index_sendclientsmessage_padid_msg )\nsending messages to all users shouldn't be too hard to relize with a\nplugin either..\n. I don't think it's documented anywhere (correct me if i'm wrong), but\nit's possible to get a list of all (socket.io) sessions..\nah, found it!\nhttps://github.com/ether/etherpad-lite/blob/develop/src/node/handler/PadMessageHandler.js#L51\n. Nice, we should definitely document this.\n. I'd have thought the mistake was pretty obvious in the log you posted:\n[2013-09-16 23:41:20.054] [WARN] console - Admin username and password\nnot set in settings.json.  To access admin please uncomment and edit\n'users' in settings.json\nNaturally, copying your old settings solved the problem ;)\n. Thanks for reporting this.\nI suspect there is some call(back) chain that doesn't use setImmediate\nthus adding any additional calls on top of the call stack until v8\nsuicides...\n. It's very probably not a logging problem. Stack overflow errors usually\nmention an arbitrary line, because you can hit the limit upon any call.\n. wow. that's amazing.\n. It's likely the group isn't deleted correctly..\n. Nope, it's not the sessions: src/node/db/GroupManager.js#L57\nIt deletes all group pads, the group2sessions mapper, all sessions and the group and removes the group from the list of groups.\n-- BUT, it doesn't delete the group mapper mapper2group, which is used in createGroupIfNotExistsFor to check whether it is necessary to create the group: src/node/db/GroupManager.js:214\nSo, whoever wrote deleteGroup didn't think of the group mapper... :)\n. The only problem is that there's no way finding out the group mapper if\nyou only have the group id...\nSo, I guess the better fix would be to change createIfGroupNotExistsFor\n. sweet. I'll pull this then :)\n. So, i deduce the issue is on the server side.. Could you provide some\nlogs that show what happened when the connectivity died?\n. It would probably help, if you could do a git bisect\n. git bisect is a tool provided by git that helps you find the foul\ncommits in your history using binary search.\nyou just type in git bisect and it'll tell you what to do. The general\nidea is that you specify a commit that doesn't have the bug in it and a\ncommit that definitely has the bug in it. It will then checkout various\ncommits in between of those two, and ask you whether it is a 'good one'\nor a 'bad one'. Eventually it'll figure out the commit introducing the\nbug for you. (If you have problems just ask or google it)\n. Ok, so we first need to find out how to consistently reproduce the bug..\n. What happens when you reload the pad after noticing that the two pads\nare out of sync?\n. Firstly, apparently the error happens in the browser (since it says:\n/static/js/require-kernel.js), however, anything that's in the node/\nfolder can be required from node.js only. Not from the browser. It is\nintentional that nobody has access to our db from the browser.\nSecondly, (i believe we've had the same problem on the mailing list\nrecently), I think you're trying to use exports in a file that is loaded\nwith a ",
    "psjbeisler": "Again, socket.io  v0.9.10 and I get the same error.\n[2012-09-26 22:26:05.096] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2012-09-26 22:26:05.096] [INFO] socket.io - transport end (error)\n. To bad I switched to Nginx a while ago...\n. ",
    "JDowny": "Not working for me either on lighttpd with the latest pull from the git. Same errors as others are reporting. \n. I also still get the same error, latest everything with a lighttpd reverse proxy. Same error again, as reported by @sbrinkmann \n. Has the fix been put into an npm version yet? Cleaned out the node_modules dir and socket.io 0.9.13 was installed, but still the same error in with lighttpd\n. $HTTP[\"host\"] == \"pad.redacted.me\" {\n        proxy.server  = ( \"\" => (\n            ( \"host\" => \"127.0.0.1\", \"port\" => 9001 )\n                )\n                )\n        }\n. I'm blind... This is the same error as reported in #28 still. Closing this and commenting there. \n. ",
    "darix": "the fix is in socket.io now. see https://github.com/LearnBoost/socket.io/issues/406#issuecomment-9999153 and the following comments.\nhth\ngreetings from the lighttpd team\n. ",
    "stbuehler": "I just setup a test installation, and socket.io 0.9.11 did not include the fixes. I applied them manually and it worked.\n. No; engine.io is still broken - it sets \"Connection: keep-alive\" on HTTP/1.0 (\"not 1.1\", a check likely to break in the future) connections, even when the client did not request it.\n. It is fixed in git head for socket.io, the fix just isn't released as npm version yet. I don't see engine.io in the dependency tree of ep-lite, so I don't think the engine.io bug matters.\n. ```\nGET /socket.io/1/xhr-polling/XXXXXXXXXXXXXXX?t=1389358963863 HTTP/1.0\nHost: 127.0.0.1:8080\nUser-Agent: [...]\nAccept: /\nDNT: 1\nReferer: http://127.0.0.1:8080/p/test\nAccept-Encoding: gzip,deflate,sdch\nAccept-Language: en-US,en;q=0.8\nCookie: [...]\nX-Forwarded-For: 127.0.0.1\nX-Host: 127.0.0.1:8080\nX-Forwarded-Proto: http\nHTTP/1.1 200 OK\nContent-Type: text/plain; charset=UTF-8\nContent-Length: 3\nConnection: Keep-Alive\nDate: Fri, 10 Jan 2014 13:02:43 GMT\n1::\n```\nSome things still try to force keep-alive on http/1.0, which just can't work:\n- https://github.com/LearnBoost/socket.io/blob/0.9.15/lib/transports/jsonp-polling.js#L91\n- https://github.com/LearnBoost/socket.io/blob/0.9.15/lib/transports/xhr-polling.js#L57\nRemoving the Keep-Alive line fixed it for me.\nCurrent socket.io git head (unreleased) would use engine.io which should work (https://github.com/LearnBoost/engine.io/issues/111)\n. ",
    "tobsn": "you're welcome @johnyma22 and @sbrinkmann  ;)\n. ",
    "rauchg": "I have a test for this in place already so the perma-fix is coming very soon John.\n. 1.0 release is imminent. I suggest you guys start trying it on a branch.\nOn Sun, Feb 9, 2014 at 2:44 PM, ma.be notifications@github.com wrote:\n\nlike @stbuehler https://github.com/stbuehler describes works for me too!\n\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/28#issuecomment-34589911\n.\n\n\nGuillermo Rauch\nCloudup CTO\nhttp://devthought.com\n. The sooner the better! Since we're testing out several projects and deployments already, not super high priority, but I know I've merged a few things that should benefit etherpad-lite in particular :)\n. ",
    "moi90": "\"very soon\"? apparently it didn't happen until now...\nAfter a long time waiting I get:\n'ErrorId: yDX7cD6XPHjuDq5D2kfZ\nURL: http://pad.nerdluecht.de/p/test\nUserAgent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:23.0) Gecko/20100101 Firefox/23.0\nScript error. in http://pad.nerdluecht.de/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define at line 0'\n. This Bug should be reopened. It is very dissatisfying that the combination of lighttpd and etherpad does not work.\n. ",
    "reissmann": "same here. fresh install, top commit is ea8ee08470fc0b14e769f3e7041ee074dfaf4f55\nWhen trying to create a new pad I get:\nAn error occured\nThe error was reported with the following id: 'sv3DTBxyXwDQtBIVtFaT'\nPlease send this error message to us:\n'ErrorId: sv3DTBxyXwDQtBIVtFaT\nURL: https://pad.someurl.tld/p/jjicZ1wUP6\nUserAgent: Mozilla/5.0 (X11; Linux x86_64; rv:23.0) Gecko/20100101 Firefox/23.0\nScript error. in https://pad.someurl.tld/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define at line 0'\n. ",
    "FreeApophis": "Just run into this Bug aswell. Even though there is documentation on lighty + ep-lite in the documentation, it does not work at all and ends in: Script error. in /t/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define at line 0'\nPlease update at least the documentation here: https://github.com/ether/etherpad-lite/wiki/How-to-put-Etherpad-Lite-behind-a-reverse-Proxy\nand clearly state that lighty + ep-lite does not work!\n. ok completeley clean install:\n  \"minify\" : false,\n  \"trustProxy\": true,\nI run it currently bound to 0.0.0.0 and can access ep-lite via reverse proxy and directly. Directly works perfectly, via proxy it does not work. It loads the main screen, if I try to create or access a pad, it goes into the work view, but stops at loading. minify changed nothing, same error, if the minify was only to make a better error message it seems to fail. But I tryied to clear the cache multiple times via Ctrl-F5/and restart\nSafari Reports: TypeError: 'null' is not an object in undefined at line 0'\nMozilla Reports: Script error. in http://pad.swisspmt.net/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define at line 0'\nChrome Reports: Uncaught TypeError: Cannot call method 'setChannelState' of null in <\nrm>/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define at line 245'\n. - Latest EP-lite directly from github, exactly as described in the README, also tried last release tag\n- lighttpd/1.4.28 (debian stable)\n. Sorry didn't post anymore, cause I gave up. Lighttpd 1.4.33 has exactly the same issue.\nThe documentation is updated in the meanwhile and links to this Bug. So it's fine :) if someone really reads the docs, he should find out before hours of testing.\n. ",
    "Cyclenerd": "Same here :-( completeley clean install with:\n\"minify\" : false,\n\"trustProxy\": true,\nLighttpd: 1.4.33 \nSocket.IO.js build:0.9.16\nEtherpad git version is fb69e6b\nAn error occured\nThe error was reported with the following id: 'qz8o4EGyRq8PWM7sCauz'\nPlease press and hold Ctrl and press F5 to reload this page, if the problem persists please send this error message to your webmaster:\n'ErrorId: qz8o4EGyRq8PWM7sCauz\nURL: http://pad..stratoserver.net/p/hhvYXTPHAN\nUserAgent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:25.0) Gecko/20100101 Firefox/25.0\nScript error. in http://pad..stratoserver.net/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define at line 0'\n. ",
    "markuman": "like @stbuehler describes works for me too!\n. ",
    "carlokok": "@johnyma22: Cool api; but I don't really see how that can be hooked up to LDAP? \n. This seems to be fixed by issue #/769\n. This seems to be fixed by issue #/769\n. ",
    "scanferla": "Great! Already tested it and it's working perfectly.\nThanks.\n. Thank you again, @Pita :)\n. I've just found the issue where you say you've fixed this: https://github.com/Pita/etherpad-lite/issues/327\nI'm not running latest, I know I should have. I've just tested with some of these sites: https://github.com/Pita/etherpad-lite/wiki/Sites-that-run-Etherpad-Lite but I guess that the ones I've tried weren't running latest too!\nThank you\n. Thank you @redhog !\nI've checked aceCreateDomLine and could add any attribute to the span HTML element. \nBut how can I add the author's name itself? I guess it would be something like that:\nhtml.push('<span title=\"'+ insertTheAuthorNameHere + '\" class=\"', Security.escapeHTMLAttribute(cls || ''), '\">',\nextraOpenTags, perTextNodeProcess(Security.escapeHTML(txt)), extraCloseTags, '</span>'); \nSo I \"only\" need to know how to add the author of that span.\nIt would already suffice if I'm able to do what I've asked above... But, just in case, as we are already talking about it:\nI've only found a way to get the connected users via pad.collabClient.getConnectedUsers() is there a way to get all authors whether they are online or not?\nThanks again!\n. Explaining why would I need this:\nI guess it would be great if we could mouse over a pad's text and see who is the author of that color through a tooltip.\nOf course the user can already click and see everyone connected and their respective colors (and I do not intend to replace it) but I think this \"tooltip approach\" has the following advantages:\n- Makes it a lot easier for those who are not so used to computers as we are. They could know who wrote what just with a mouse over instead of having to \"learn\" the interface. The UI couldn't get any simpler, but for some users... If you know what I mean...\n- It shows in-context who wrote that bit, so it's easier for everyone (including \"us\"). We wouldn't need to compare that color with a list of colors to find out who wrote what. Just a mouse over.\n- Plus, the TOP advantage is that right now we can only know who-wrote-what if the author is currently connected. Once the author is gone, no chance. This tooltip would stick and show (as the HTML class already does) so we could know who's the author even if he's gone!\nIf you guys can help me achieve this and if you agree it's a good idea, I can submit a pull request! :)\n. Nice! I will look into publishing it as a separate plugin when I finish this feature.\nBut I still don't know how to write the author's name at aceCreateDomLine as shown here:\nhtml.push('<span title=\"'+ Insert_The_Author_Name_Here + '\" class=\"', Security.escapeHTMLAttribute(cls || ''), '\">',\nextraOpenTags, perTextNodeProcess(Security.escapeHTML(txt)), extraCloseTags, '</span>'); \nCould you or anyone else help me with that? :)\nThanks again!\nEdit: Another advantage: It would work nicely with the timeslider! Easy to see who wrote something even if it was months ago...\n. Hi @melicin \nThat's amazing! It helps a lot not only my issue but this other one you've linked that I wasn't aware of. \nI've just deployed your changes and they are working as expected. Thank you so much :)\nDo you know why the title attribute is blank when viewed on the timeline? Although I'm already happy to have the title on the pad itself.\nThanks\n. My users are also having this issue.\n-  I run Etherpad Lite with: sudo bin/run.sh \n- My version is: 00983f8\n- 0 plugins enabled\n- Those users have cleared their caches but it didn't help\nThis happens all the time to some users (no matter what browser or pad they are) and I've seen it a couple times myself.\nThanks in advance!\n. Hi @cweider ,\nThanks for your fast response!\nI've seen another issue with the this format \"[myIP]\"... But actually it's not a problem at all.\nHere is what I receive with curl -v 'http://ec2-177-71-158-12.sa-east-1.compute.amazonaws.com/minified/pad.js?callback=require.define':\nhttps://gist.github.com/2820899 (using gist because GitHub trimmed my original post as it had too many characters!)\nAnd with curl -v 'http://ec2-177-71-158-12.sa-east-1.compute.amazonaws.com/javascripts/liv/ep_etherpad-lite/static/js/pad.js?callback=require.define':\nhttps://gist.github.com/2820894\nThanks!\n. @cweider or someone else could figure out what may cause this error? \ncurl -v 'http://ec2-177-71-158-12.sa-east-1.compute.amazonaws.com/javascripts/liv/ep_etherpad-lite/static/js/pad.js?callback=require.define' is returning \"500 Internal Server Error\" as pasted on the gist above (https://gist.github.com/2820894)\nIs this related? How can I fix my error? My Etherpad Lite is running on production and users are getting this error all the time :(\nThanks in advance!\nEdit: Sorry, closed this issue mistakenly (close & comment) but I've just reopened it.\n. This error is now \"fixed\", at least it doesn't happen anymore. I've changed how I generate an Etherpad Lite iframe on my application and it \"fixed\" it. \nIt was working with previous Etherpad Lite versions though, so I think there's still something to be investigated within this issue.\nThanks anyway.\n. Please tell me what's the quick-hack is, as my Etherpad Lite it's running on production and Firefox users can't use it at all...\nThanks in advance!\nEdit: For now, I've reverted the specific commit. Will it cause any other prolblems?\n. @Wikinaut I've noticed the communication stopping but not the server crashing!\nHope it helps :)\n. ",
    "ThomasWaldmann": "+1 for monospace\neverything else is just unusable for coders\n. This bug is tagged \"Normal Bug\" and \"Serious Bug\". Choose.\n. As a side note, the currently implemented backspace key behaviour suggests that you internally prefer some sort of tab == 4 spaces semantic. Just try typing N spaces at the beginning of a line and then press backspace once. Try for N = 1..10.\nThat is a bit strange behaviour btw, usually backspace is expected to just remove the last char you typed (and not multiple ones).\n. i tried chrome. while it is somehow working a little better there (jumping up on pgup, jumping down on pgdn), it also can not be considered to work as expected.\nE.g. i have a document consisting of 300 lines. The etherpad window shows 45 lines of them. So expected behaviour for paging is to move up/down 45 lines (except when hitting start/end of document). But chrome does not do that either, it mostly jumps to start and to end of document, not stepping over it with 45 line steps.\nSo, to me it seems that etherpad lite does not consider how many lines the viewed area of the document is.\n. BTW, I always test on beta.etherpad.org hoping that I can test the current code there.\n. ",
    "booo": "Would love to add this feature to etherpad lite. If you provide me with the code you prepared I maybe can add the feature. I added a button for switch the font style myself but I don't how to propagate this to the other clients.\n. I'm searching for a gui option but can't find one...\n. This isn't part of the master branch? Could someone explain me why? I don't understand the decision making process...\nFor usability reason there should be a mono space button! Default for new pads should be mono spacing off.\n. Can you proof the < 5%?\nSeveral users/developers requested the feature or to be more precise a button to enable/disable the feature via the gui. Adding the button to the gui is a minimal change which doesn't heard anyone. I can't see the reason why we should not implement/add this button.\nI think text layout and style is a core feature of the etherpad and shouldn't be part of any plugin.\n. Yes you are right. I worked with an older version of ueberDB where shutdown wasn't implemented. Sorry for the confusion.\n. You should use one of the latest nodejs versions. Which version do you use?\n. Maybe we should add the engine attribute to the package.json file:\n\"engine\": \"node 0.6.6\"\nPlease make sure you checkout the other branch https://github.com/booo/etherpad-lite/tree/beautification\n. I retested and it should work with node version 0.6.6 and 0.6.7 on linux. Are you able to require \"zlib\" in the REPL? What operation system do you use? Are you really using 0.6.6?\n. What about the first commit? As far as I know you should be able to pull just this commit. But if I have to I can create another branch. Please let me know.\nRegards\nPhilipp\n. I don't care...\n. Results so far https://github.com/booo/etherpad-lite/tree/beautification\nStupid as I am I introduced 2-3 bugs. Used your ruby-client specs as integration tests. Session and Pad tests fail... :/ \n. Hi,\ni fixsed the three pending bugs. Would be cool if you could take a look at the code. \nIt's not 100% finished yet. E.g. the api code and the corresponding managers should be updated/refactored. I think we shouldn't do all the api relevant checks like \"is in input really a number or not\" in preconditions for the api routes instead of polluting the manager code with this checks. The parameters in a call to a manager function should have valid types.\nExample: https://github.com/Pita/etherpad-lite/blob/master/node/db/SessionManager.js#L103\n@jhollinger I focused on the server side code but I think there is space for improvement on the other side. I'm not sure if templating helps. I think the many problems are ace.js and pad2.js. Anyway templating would be cool.\nRegards\nPhilipp\n. I'm not working on this anymore. Maybe I start again when the project structure changes...\n. Depends on what you mean by \"use\". There is currently node ep-lite server module where you can get an instance of a server from. So it's not possible to create multiple instance in one node app as far as I know. I worked on a patch that is waiting for a review that should make this possible in the future.\nTake a look at https://github.com/booo/etherpad-lite/tree/beautification\nBut of course you can use the api to query the etherpad.\n. Are you sure you want to execute /home/etherpad/etherpad-lite/server.js and not /home/etherpad/etherpad-lite/node/server.js?\nMarkdown Flavor of github is explained here: http://github.github.com/github-flavored-markdown/ ;)\n. - There should be a settings object which one passes to the padApp\n  - It should be possible to have multipe instance of an settings object\n- There should be a padApp which is an instance of an express server/app (express.createServer)\n  - the app takes a settings instance as configuration parameter\n  - (as second parameter one can add a database instance which the app should share with other apps)\n  - the padApp should be mountable by express\n  - think of it as a library\n- There should be another module which creates a standalone ep-lite instance\n  - the module/server should understand some commandline options e.g. tell the server the place of the config file\n- don't keep states in modules\n  - e.g the database instance shouldn't be part of the module.\nWe should do this step by step. One monster pull request is going to fail...\n. @Pita the specs from the ruby client do not work. This is even true without this commit/pull request. Will take a closer look at the problems this evening.\n. This is the log output for this commit/pull request. Looks a bit strange :)\n```\n.............................FF..........\nFailures:\n1) EtherpadLite::Group should find a Group Pad with the right id\n     Failure/Error: group.pad_ids.should == [:\"#{group.id}$Important Group Stuff\"]\n       expected: [:\"g.9Wx987CbWGdogE7m$Important Group Stuff\"]\n            got: [:\"g.9Wx987CbWGdogE7m$Important_Group_Stuff\"] (using ==)\n       Diff:\n       @@ -1,2 +1,2 @@\n       -[:\"g.9Wx987CbWGdogE7m$Important Group Stuff\"]\n       +[:\"g.9Wx987CbWGdogE7m$Important_Group_Stuff\"]\n     # ./spec/group_spec.rb:44:in `block (2 levels) in '\n2) EtherpadLite::Group should find a Group Pad with the right name\n     Failure/Error: group.pads.first.name.should == \"Important Group Stuff\"\n       expected: \"Important Group Stuff\"\n            got: \"Important_Group_Stuff\" (using ==)\n     # ./spec/group_spec.rb:49:in `block (2 levels) in '\nFinished in 0.24214 seconds\n41 examples, 2 failures\nFailed examples:\nrspec ./spec/group_spec.rb:42 # EtherpadLite::Group should find a Group Pad with the right id\nrspec ./spec/group_spec.rb:47 # EtherpadLite::Group should find a Group Pad with the right name\n```\n. @jhollinger thx for this advice. \nSeems like everything is fine with up to date ruby client version (674f5894b853f7db95b20f4c2ddbc290d41c7e0d) and this pull request.\nHappy pulling.\nRegards\nPhilipp\n. Just for the record my ruby version is:\nruby 1.9.2p180 (2011-02-18 revision 30909) [i686-linux]\n. Cache cleared. Still getting this error. Happens in Firefox, Chromium and Arora. Do you need any additional information?\n. Latest commit is dfa106df03b05368085eccc731bdf819e6a236d5 Just to be sure I did a fresh clone of the repo.\n. http://bayimg.com/mamibAAdF\n. The repository I'm using is 100% fresh clone from github (did it more then once). Deleting static/js/jquery does not help. seq is used in the generated pad.js but not defined in the pad.js source. Pad.html does not contain seq.\nI need some sleep know. Bug hunting continues tomorrow.\nWhy is the client side javascript import actually so complicated?\n. I can confirm that if I change this line https://github.com/Pita/etherpad-lite/blob/master/node/utils/Minify.js#L326 to return values.join('\\n') everything seems to be fine.\n. Reverting b32f883a9da5216300113a1f81fbd67fb793e7f1 solves the problem for me. Tested in firefox, chromium with cleared chache ;)\n. Sorry, but this does not fix the problem for me. New version of uglify-js is installed:\nshell\n\u2605 etherpad-lite git:(master) npm ls\netherpad-lite@1.0.0 /tmp/etherpad-lite\n\u251c\u2500\u2500 async@0.1.15 \n\u251c\u2500\u2500 async-stacktrace@0.0.2 \n\u251c\u2500\u252c clean-css@0.2.4 \n\u2502 \u2514\u2500\u2500 optimist@0.1.9 \n\u251c\u2500\u252c express@2.5.0 \n\u2502 \u251c\u2500\u2500 connect@1.7.3 \n\u2502 \u251c\u2500\u2500 mime@1.2.4 \n\u2502 \u251c\u2500\u2500 mkdirp@0.0.7 \n\u2502 \u2514\u2500\u2500 qs@0.4.1 \n\u251c\u2500\u2500 formidable@1.0.7 \n\u251c\u2500\u252c jsdom-nocontextifiy@0.2.10 \n\u2502 \u251c\u2500\u2500 cssom@0.2.2 \n\u2502 \u251c\u2500\u2500 htmlparser@1.7.4 \n\u2502 \u2514\u2500\u2500 request@2.9.100 \n\u251c\u2500\u252c jshint@0.5.7 \n\u2502 \u251c\u2500\u2500 argsparser@0.0.6 \n\u2502 \u2514\u2500\u252c minimatch@0.1.4 \n\u2502   \u2514\u2500\u2500 lru-cache@1.0.5 \n\u251c\u2500\u2500 log4js@0.4.1 \n\u251c\u2500\u2500 require-kernel@1.0.0 \n\u251c\u2500\u252c socket.io@0.8.7 \n\u2502 \u251c\u2500\u2500 policyfile@0.0.4 \n\u2502 \u251c\u2500\u2500 redis@0.6.7 \n\u2502 \u2514\u2500\u252c socket.io-client@0.8.7 \n\u2502   \u251c\u2500\u2500 uglify-js@1.0.6 \n\u2502   \u251c\u2500\u2500 websocket-client@1.0.0 \n\u2502   \u2514\u2500\u2500 xmlhttprequest@1.2.2 \n\u251c\u2500\u252c ueberDB@0.1.3 \n\u2502 \u251c\u2500\u2500 channels@0.0.2 \n\u2502 \u251c\u2500\u2500 dirty@0.9.4 \n\u2502 \u2514\u2500\u252c mysql@0.9.4 \n\u2502   \u2514\u2500\u252c hashish@0.0.4 \n\u2502     \u2514\u2500\u2500 traverse@0.5.2 \n\u2514\u2500\u2500 uglify-js@1.2.5\nCache cleared etc...\n. Please concentrate on the core functionality first! There are plenty of open problems and tickets...\n. Maybe you want to add a git hook to your setup? Why don't you use init scripts or something similar?\nDeploy mechanism depends on the system etherpad-lite runs on and should not be part of the etherpad-lite source.\n. @0ip if you provide a bit more information e.g. nginx config, ep version etc. one maybe can try to reproduce this.\nOnce I had problems with nginx and relative paths. If my memory is correct only paths like ./path/to/something worked correct behind the proxy. Paths like path/to/something where broken.\n. I suggest that you take a look at my master branch. It contains some important changes to the actual code. The actual code is far to complex and at some points it seems like you don't understand your own code. And if you use libraries and software patterns please try to understand them before you start using them.\nHappy coding...\n. It's defined in line https://github.com/Pita/etherpad-lite/pull/294/files#L23R62 Shouldn't be global.\n. Maybe we should add a ticket for this \"problem\"? Something like \"implement message type padOptions\".\n. ",
    "garrett": "In the main dir, I ran:\nnpm install\n...then it installed dependancies.\nThen, I switched to the node subdirectory and typed node server.js, where it started up, but when making a new pad, it crashed with an error that it couldn't find jquery.min.js:\n\n/Users/garrett/Source/etherpad-lite/node/utils/Minify.js:235\n      if(err && err != \"stop\") throw err;\n                               ^\nError: ENOENT, No such file or directory '../static/js/jquery.min.js'\n\nI see the installDeps.sh script takes care of that, as well as copying the settings.json (which I also did).\nAfter running wget -O static/js/jquery.min.js http://code.jquery.com/jquery-1.6.2.min.js in the main directory and trying to run the server again, it works.\n. Okay, I'll look into it. (Normally I use Linux, but when I installed OS X Lion on my Mac, it ate my root partition.)\nAlso, after doing all of this, I'm happy to report everything seems to work.\nI'm really happy that you all are working on this!\n. There are a few solutions on StackOverflow:\nhttp://stackoverflow.com/questions/1055671/how-can-i-get-the-behavior-of-gnus-readlink-f-on-a-mac\nThe easiest to implement are either to depend on the OS X user having coreutils installed and using greadlink instead (which adds a needless dependency) or to reimplement the same in either Python or Bash.\n```\npython -c 'import os, sys; print os.path.realpath(sys.argv[1])'\nfunction readlink_f () { =pwd; cd $1 && echo pwd && cd $; }\n```\nAnother approach is to use Node.js and just rewrite it in JavaScript.\n(I guess the easiest is to implement the Bash 1-liner work-around.)\n. Since $FOLDER isn't used, it seems simply dropping the readlink line and using cd `dirname $0` works fine in OS X, and should work in Linux as well.\n. Sent as a pull request. I've seen that there is some way to attach it to the issue #, but I guess just mentioning \"issue #64\" didn't do it. Oops.\n. ",
    "williamledoux": "What is the minimum sqlite version where it will run ?\nMy version of sqlite3 is 3.4.2 and of sqlite is 2.8.17\n. For information sqlite3 version 3.5.9 doesn't work either.\n. Well, they seems to be right, version 3.6.16 seems to work (still errors but not the same)\nThanks for your help.\nBackports for Ubuntu Hardy can be found here:\nhttps://launchpad.net/~mirabilos/+archive/ppa/+sourcepub/1304941/+listing-archive-extra\n. Last thing, is it normal that I had the following error:\nnpm ERR! Error: ENOENT, No such file or directory 'generateJsDoc.sh@0.0.4'\nBy renaming bin/generateJsDoc.sh in bin/generateDoc.sh it works\n. ",
    "lhw": "Nope. I simply used the bin/installDeps.sh but of course i also tried it manually. All of them failed like mentioned above.\n\n$ npm --version\n0.2.19\n$ node --version\nv0.4.10\n\nAs I said simply copying the generateJsDoc.sh fixes the problem if you intend to keep the .npmignore.\n. ",
    "adrianheine": "0.2.19 unfortunately is the current version in Debian. See also https://github.com/isaacs/npm/issues/1194.\n. I don\u2019t see anything about a global vs local installation issue. As said in the linked issue, a simple file renaming fixed the problem.\n. Yep. I\u2019m running Debian Squeeze with self-compiled nodejs and npm packages from sid  (0.4.10-1 and 0.2.19-1). Etherpad lite is at 97382e365c9e0b8f3ccc968b2651cfcb2103e0cf. After moving bin/generateJsDoc.sh to bin/generateDoc.sh, the installation succeeded. \n. I don\u2019t think so: https://github.com/Pita/etherpad-lite/tree/develop/node/utils\n. See #278.\n. This issue can be closed, can\u2019t it?\n. So the web front-end itself will not support password protection?\n. ",
    "jcharaoui": "I solved this particular error by removing nodejs and npm, and installing nodejs, nodejs-dev and npm packages from the debian sid repository.\n. yes it's solved, using the debian packages as I mentioned above. I forgot to close the issue. thanks!\n. Here is my Apache proxy configuration :\n```\nEtherpad lite\nProxyPass /pad http://127.0.0.1:9001/\nProxyPassReverse /pad http://127.0.0.1:9001/\nProxyPreserveHost on\n```\nand I get this error message on a blank page when I try to create a new pad :\nCannot GET //p/newpadname\n. Ok the problem was with my Apache configuration. This works :\n```\nEtherpad lite\nRewriteEngine On\nRewriteRule ^/pad$ /pad/ [R]\nProxyPass /pad/ http://127.0.0.1:9001/\nProxyPassReverse /pad/ http://127.0.0.1:9001/\nProxyPreserveHost on\n```\n. yeah it works, I can write on the pads & everything. I haven't tried with multiple clients yet though.\n. right, it works now. cool!\n. I use Etherpad on Linux (Debian) and I too find that the colors available should be lighter.\n. +1\nA button to activate this would also be nice.\n. ",
    "alisaifee": "I faced a minor issue when I mounted ether pad under a different base url (i.e. xxx.yyy.zzz/pad ) - creating a new pad with a name with spaces would result in a redirection to the xxx.yyy.zzz/p/padname instead of xxx.yyy.zzz/pad/p/padname.\nmy quick and dirty hack was to change the code in index.html as such:\nfunction go2Name() \n             {\n                 var padname = document.getElementById(\"padname\").value;\n+                padname = padname.replace(new RegExp(\" \", 'g'),\"-\");\n                 padname.length > 0 ? window.location = \"p/\" + padname : alert(\"Please enter a name\")\n             }\n. ",
    "telephono": "Same issue here (pad with spaces in the name redirects to /p/pad_name instead of /pad/p/pad_name) behind Apache reverse proxy...\n. +1\nIs it even possible to connect to a socket? node-mysql's connection options provide a socketPath option to connect to a MySQL socket. But it seems etherpad-lite support this. Setting this in settings.json doesn't work.\n\"dbSettings\" : {\n    \"user\"       : \"etherpad\",\n    \"socketPath\" : \"/var/run/mysqld/mysqld.sock\",\n    \"password\"   : \"secret\",\n    \"database\"   : \"etherpad\"\n},\n. Indeed!\n. ",
    "jhollinger": "The way eplite is currently written, the following Nginx config would be required for redirects to work properly:\nlocation /notes/ {\n  rewrite /notes/?(.+)  /$1  break;\n  proxy_pass http://localhost:9001/;\n  proxy_redirect / /notes/;\n  proxy_buffering off;\n  proxy_set_header Host $host;\n}\nI cannot recall the Apache equivalent, but there is one.\n. I thought I had put that in the Wiki, but I can't find it. I've added the Nginx config above to https://github.com/Pita/etherpad-lite/wiki/How-to-put-Etherpad-Lite-behind-a-reverse-Proxy. If anyone knows the Apache syntax, could you add it?\n. @johnyma22 I can confirm that text highlighting works in Android 2.3 browser, FF for Android, and Mobile Safari on iPad.\nOther observations:\nEditing works in Android 2.3 browser and Mobile Safari. FF on Android has unpredictable results. Usually just screws the pad's text up. However changes made by others show up well in all three.\nChat works in Mobile Safari, though it's vertical position on the page is unpredictable.\nViewing chats works in Android 2.3 browser, but the kb won't stay up when I select the text box.\nCan't see chat box at all in FF on Android.\n. For the curious, it looks fine in Android FF, so I don't think screen shots would show anything useful. When typing nothing appears to happen. However looking at the timeline reveals weird things happening, like whole lines of text disappearing. Also can't scroll to the bottom of a long pad.\n. I think this could be useful. Datetime info already appears in the Timeslider UI. If it was available through the API for each pad revision, a more detailed \"timeslider\" or history could be constructed using the API.\n. I would expect a noColor param to simply \"hide\" the colors in that window only. Everyone else would see the colors, including the color of the person who's hiding the colors. In other words it's just a view option. Actually it might make a nice Hide Authorship Colors button - an alternative to Clear Authorship Colors?\n. IMHO, the existing noColor option is sufficient. Sure, there are plenty of other color/no-color options we could imagine, but are they useful enough to outweigh the potential ambiguity and confusion?\n. Maybe a monospace button would make a good plugin, if those ever get off the ground.\n. While I am only partially against adding a monospace button to master, I do wonder how casually we should be adding config options to settings.json. An option to enable/disable an edit bar button (as I believe @Wikinaut is suggesting) strikes me as heading down a chaotic path. Is that just me? Don't mean to get off-topic, but it seems related.\n. Awesome, looks like that takes care of it.\n. Looks like this was never pulled in. Still broken.\n. It seems to be solved for me in the latest pulls from master. I'm curious, what's not working for you?\n. Was this fix reverted? I don't see @Wikinaut's changes in a fresh pull from upstream/master, and spaced pad's timesliders aren't functioning. Don't see it in the commit history, either.\n. I was looking this over since it hadn't seen any activity. Looks fairly easy. It's marked for 1.2 though - should I go ahead and submit a pull request anyway?\n. Sounds nice...I think. Does this mean only the API is accessible? That would mean that the entire UI is disabled, and that all editing/viewing must go through the API.\nOr does it mean, \"the user must have a session to do anything?\" That implies a setup like API + jQuery plugin, and that  pads belong to a group. Users could not create/edit anything outside of their group.\nThe second option seems more useful, and I seem to have it working. But I thought I'd double-check that's actually what was being asked for, since it seems to differ slightly from the title. My change is at https://github.com/jhollinger/etherpad-lite/commit/9850ba43ee5a41a3383e6eebc8b9be756e80b9ad if anyone cares to peruse it\n. This almost sounds like two settings. One to require \"authenticated\" users (sessions), and another to lock down pad creation to the API. I could see value in using them separately or together.\n. Trying to work on a patch for this.\nProbably worth noting that even using POST, the front-end Web server may place limits on the size of the request. I think Nginx's client_max_body_size defaults to 1MB, which I guess is still a lot of text.\n. Having a very similar issue. Nginx was working fine until I pulled the latest sources in the last day or two. All I see is the toolbar and \"Loading...\". I've tried all the above suggestions to no avail.\nEPLite outputs:\n[2011-11-20 10:45:38.590] [INFO] socket.io - handshake authorized '299135994165223219'\n[2011-11-20 10:45:48.748] [INFO] socket.io - transport end\n[2011-11-20 10:45:48.812] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2011-11-20 10:45:48.812] [INFO] socket.io - transport end\n[2011-11-20 10:45:49.005] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2011-11-20 10:45:49.006] [INFO] socket.io - transport end\n[2011-11-20 10:45:49.252] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2011-11-20 10:45:49.252] [INFO] socket.io - transport end\n[2011-11-20 10:45:49.668] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2011-11-20 10:45:49.669] [INFO] socket.io - transport end\n[2011-11-20 10:45:49.877] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2011-11-20 10:45:49.877] [INFO] socket.io - transport end\n[2011-11-20 10:45:50.084] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2011-11-20 10:45:50.085] [INFO] socket.io - transport end\n[2011-11-20 10:45:50.283] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2011-11-20 10:45:50.283] [INFO] socket.io - transport end\n[2011-11-20 10:45:50.493] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2011-11-20 10:45:50.494] [INFO] socket.io - transport end\n[2011-11-20 10:45:50.722] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2011-11-20 10:45:50.722] [INFO] socket.io - transport end\n[2011-11-20 10:45:50.920] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2011-11-20 10:45:50.921] [INFO] socket.io - transport end\n...\n. Interesting. If I uncomment this line in server.js:439\n//this is only a workaround to ensure it works with all browers behind a proxy\n//we should remove this when the new socket.io version is more stable\nio.set('transports', ['xhr-polling']);\nit works fine. Looks like it was just commented out yesterday.\n. Yes, I can confirm that it is working now.\n. @Wikinaut The only critical (in my mind) thing my pull request wouldn't necessarily solve is \"a single database with distinct prefixes.\" However, if you don't mix Groups between instances, it would essentially be the same thing. Thoughts?\n. I would suggest that this is done. Anyone disagree?\n. That's a fair criticism. Should I submit a new request after trimming it down? (First time using Github for this)\n. A few thoughts/questions:\nLots of the space-in-name-replacing systems I've seen (blogs, CMSes) use hyphens instead of underscores. (Wiki's I suppose are an exception.) Any objections to \"My-first-pad?\" Personally I think it's easier to read.\nI assume the API should have the same behavior?\nWhat about pre-existing pads with spaces in their names? I would think they should remain accessible.\n. @Wikinaut That's a convincing argument, I think I might give it a shot.\nSomething else just occurred to me. Since a pad named \"old pad\" remains available after the proposed change, what should \"old_pad\" resolve to: a) the original \"old pad\", or b) a new pad named \"old_pad?\" Unless anyone feels strongly, I think I'll go with B since it's probably cleaner code, and I think people are unlikely to manually type the 's anyway.\n. Okay I've got a demo of this change running at http://etherpad-test.jordanhollinger.com/. There's an old pad with a space in it - \"test 1\" that should remain accessible. Everything else should automatically put in a . I'd appreciate some testing on it. (I haven't updated the API to behave the same way, yet, but I'll get to that.)\nAfter much debate I decided to use redirects to actually rewrite \"/p/a new pad\" to \"/p/a_new_pad\". In short, it resulted in a much smaller changeset. I can go into more detail if anyone thinks that's a bad idea.\nThanks! Let me know if anything seems broken. On, and here's the diff for the curious https://github.com/jhollinger/etherpad-lite/commit/d24f2beeb632d32ebade2c3594ecba781bc3fc84\n. If the redirect is adopted, it should be noted that use of proxy_redirect (or its Apache equiv) would be needed if the ep-lite instance is running under something other than /. E.g.\nlocation /etherpad/ {\n    rewrite /etherpad/?(.+)  /$1  break;\n    proxy_pass http://127.0.0.1:9001;\n    proxy_redirect / /etherpad/;\n    proxy_buffering off;\n  }\n. Fixed some bugs, API is resolving \"a new pad\" to \"a_new_pad\" now. The API change is pretty straightforward, but the key is UrdBfgceHYDZs4yr1rQ12rVOzo31XfEW if anyone cares to test it.\nIf I don't find anything wrong in the next day or two I'll probably submit a pull request.\n. The permissions checks I've added in SecurityManager.checkAccess appear to make an existing bug more prominent. When checking to see if a pad exists (because of the editOnly flag), a padID of \"test 1\" is passed to padManager.doesPadExists as \"test%201\". This results in the user being refused access to the timeline. This bug does not present when it's a group pad, however.\nI think there are several open issues related to this (#135, #215 and #136). Just thought I'd point out that this feature will make the bug more prominent.\n. I thought it could be useful to require authentication (session). But once\nyou're signed in, you can edit or create any pads in your group(s). This\nforces all pads to be in groups.\nLimiting the pads which can be created (signed in or not) is quite another\nthing, I think. This prevents people from creating arbitrary pads.\nI'm open to combining them, if you think that's clearer.\nOn Nov 25, 2011 7:25 PM, \"Peter &aposPita&apos Martischka\" \nreply@reply.github.com\nwrote:\n\nWhy did you decide to do 2 options? What would be the usecase where you\nwould enable one but not the other?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/222#issuecomment-2879173\n. @Pita Yes, the spacing issue seems fixed now. I had simply not pulled that change into my branch yet.\n. Did some research, just because this is annoying. There's no handler for a message.data.payload.type of \"padoptions\" in handleMessage in PadMessageHander.js.\n\nThis message is sent from pad2.js at line 309, after testing that the \"noColors\" var is true. It shouldn't be true unless noColors=true is passed through the URL. Seems it is being inverted in pad_editor.js at line 152.\n. I've got the beginnings of a patch at https://github.com/jhollinger/etherpad-lite/tree/unknown_message, but the message still appears if \"?noColors=true\" is actually passed.\nEither changeViewOption in pad2.js shouldn't be sending \"padoptions\" client messages, or PadMessageHandler.js should be doing something with it. Not sure which.\n. For what it's worth, several well-established projects (e.g. Ruby on Rails) do not offer this functionality, but instead recommend using logrotate with the \"copytruncatae\" setting. Basically it will copy your log, then delete the contents of the original. I imagine it would look like this on the command line: \"cp ep.log ep.log.1 && cat /dev/null > ep.log\". Obviously it's non-disruptive, but I don't know if there's a Windows equivalent.\n. +1. Even though it's \"easy\" to install with tools like apt-get, pulling that enormous list of dependencies down onto my nice, clean server makes me shudder.\nJust a thought, but maybe we don't need to replace Abiword so much as supplement it with additional back-ends? That way you could pick whichever one worked best for your environment in settings.json.\n. Not to nitpick, but URL parameters are logged by most Web servers and proxies, so to a degree this is still less secure than cookies. Whether or not that's worth considering, I'm unsure.\n. Sounds like reverse-proxying is the preferred solution here. Anyone opposed to this being rejected and closed?\n. Argh, I've botched up my fork pretty badly. I'm going to close this, refork, and resubmit.\n. I admit it's nothing mind-blowingly critical. It just makes things much more consistent. URLs with spaces or %20s are generally frowned upon. Spaces break a lot of url parsers in email, chat, etc. And not that long ago ep-lite itself had trouble handling them. %20s are ugly and harder to read, particulary for non-techies who don't understand what they mean. All blogging and wiki software I've seen replace spaces with dashes or underscores.\n. Another confirmation that this only appears to happen in IE. (8 is all I have access to). Seeing if I can find the cause...\n. That explains why I couldn't find anything...I've been looking in the wrong place. Looks like all of the edit bar buttons are affected?\n. Okay, so I've found the cause in ace2_inner.js line 4054:\nif (selectionParent.ownerDocument != doc) return false;\nIf I comment it out so that hasIESelection() returns true inside of setSelection(), it's fixed. Now I just have to determine if there's a bug with that check, or if that check isn't appropriate in the first place.\nPLEASE: Anyone know if this bug is present in IE 6 and 7? For all I know the above check works and is needed for those earlier versions.\n. Drat, this doesn't fix the buttons on the right (import/export, embed, etc.) IMO those aren't as annoying, however. I've created a branch at https://github.com/jhollinger/etherpad-lite/tree/fix_ie_cursor as I continue to investigate.\n. @Wikinaut It's the same problem as this, but the solution must be different. IE's jumping cursor issue affects all toolbar buttons. My above patch only fixes it for the edit buttons on the left (Bold, Italic, Bullets, Undo, etc.) The buttons on the right (import/export, embed, etc.) still exhibit the bug. I don't think it's as big of an issue for the right-side buttons, but I think it's still worth pursuing.\n. @Wikinaut I have not noticed the cursor disappearing in IE8, but rather its position being reset to the first position in the first line. I was saying that my patch fixed this for the left edit buttons, but not for the right buttons.\nThere does seem to be a fair amount of IE-specific code in ace2. I agree, it would probably benefit from some refactoring.\n. I can reproduce this is master. The problem, @jrcconstela, is that you didn't specify a padID in the URL params. One is required, but a missing one definitely shouldn't bring down the server...\n. Looks like this should be closed.\n. +1. Looking over the Express docs, there are several features that might be useful. For instance, pad.html and timeslider.html get lots of info from parsing document.location.href and clientVars requests. This could be simplified if we made use of templates.\n. @Pita is this actually a bug? If it is, it's a simple two-line fix in EPLite. But it could also be a bug in ueberDB - I'm not sure.\n. Closing\n. I assume you are referring to the sessionID cookie. What if it could contain multiple session ID's? That would address your issue and (I am only guessing) might be a less drastic change. Just a thought.\n. Perhaps. I've been thinking about opening a feature requesting allowing for user-defined session cookie names. Because 1) \"sessionID\" is generic and might conflict with another cookie, and 2) it would solve your problem - you could have multiple sessions for a single domain.\n. Maybe I'm missing something. Why would 1 pad ever need more than 1 session cookie?\n. I still don't quite understand your argument. I would envision it working like this: (correct me if I'm wrong)\nThe user has 3 tabs open (from the same app), each with an embedded pad, likely using the EPLite jQuery plugin. Tab 1's pad belongs to Group A, Tab 2's to Group B, and Tab 3's to Group C. (Currently this is not possible, at least not in a safe/stable way, because of possible cookie race conditions.)\nOn the server-side, you would have created 3 sessions (for Groups A-C) and placed them in three cookies named sessionID_A, sessionID_B, and sessionID_C.\nThe jQuery plugin would be modified to allow passing a cookie name to each embedded pad. EPlite would also be modified to accept this alternate cookie name (the default would be \"sessionID\"). Tab 1 would tell its embedded pad to look for a cookie named \"sessionID_A\", Tab 2 would tell it to use \"sessionID_B\", etc.\nOf course tying multiple groups to a single session, or putting multiple session IDs in one cookie would also work. (The \"multiple session IDs in one cookie\" idea has the downside that some session IDs may be overwritten in race conditions.) Personally, I believe the advantage of the above approach (multiple cookies) is that the name of the cookie(s) containing the sessionID can be customized so as not to collide with other cookies.\n. Started playing around with this. Telling EPLite what the session cookie's name is in the querystring isn't reliable - it doesn't persist across links (e.g. going from edit to export). Effectively the session gets \"lost\". So that's out. (I think it's worth mentioning that the \"password\" cookie has these same limitations.)\nA solution might be for these cookies to contain JSON. sessionID could look like this:\n{\n  \"g.sdfjksKJs\": \"s.sjkSDJ7slkj\",\n  \"g.dk7sJSY\": \"s.7sKSjstskjdQ\"\n}\nEPLite could figure out which to use based on the name of the pad (which would contain a group id). The password cookie could work the same way.\n. +1. I believe that currently only group pads may have passwords? If this becomes a plugin someday, it implies that \"normal\" pads must be allowed to have passwords. Does it make sense to go ahead and remove that restriction from core? I can't think of any downside.\n. I'm getting ReferenceError: randomstring is not defined from db/Pad.js:482, which I think is related to these changes. I think the API setPassword set it off. Can anyone confirm?\n. I could be wrong, but I can't see Apache performing well under this type of load. In Apache's synchronous architecture, each worker is committed to a single connection. With lots of long-polling or websocket connections from the EPLite editor, the number of workers (and memory and CPU usage) would skyrocket. At least in theory, for heavily-trafficked instances, an asynchronous server like Nginx would perform much better. If anyone can confirm (or refute) this, it would be great to have it documented in https://github.com/Pita/etherpad-lite/wiki/How-to-put-Etherpad-Lite-behind-a-reverse-Proxy.\nAs for riseup.net's issues, each Nginx worker should be able to handle 1000+ req/sec, so the bottleneck is probably in EPLite itself.\n. Dumb question here: I assume eplite's design precludes the possibility of firing up several instances and load-balancing them?\n. +1; that's so much clearer.\n. @booo I patched that a few days ago, I think. (EPLite now automatically replaces spaces with _'s). Do a pull and it should work.\n. @Pita @booo Using boo's master branch and the latest ruby-etherpad-lite checkout, the tests all pass.\n@Pita I think you're using an older version of Ruby. I'll see if I can patch the client and tests to work with it, because it should probably be supported.\n. I'm not terribly familiar with this section of the code, but are you using sessions with these pads, created via the HTTP API? Without looking too deeply yet, I'd guess either A) someone using a session has disconnected and things aren't getting cleaned up, or B) their session expired and things aren't getting cleaned up. Any of that line up with your use?\n. +1. Just had a similar thought - what if public pads could be \"subscribed\" to over Atom/RSS? Haven't thought it through very well, just a thought.\n. I know that plugins are still a twinkle in our collective eye, but this sounds like one (or two). The email notification plugin would need to depend on some onPadChange hook.\nThe RSS/Atom feed, in terms of security, could work similarly to the read-only id. Thus it would only be practical to use with public pads.\n. I'm getting this error too. FF10 on Linux. In Minify.js in compressJS, if I immediately return complete, without uglifying it, the error disappears. @booo can you confirm this?\nIt's in a feature branch where I've made some minor changes to Minify.js. I thought I broke it, but I doubt I broke it for @booo too :)  https://github.com/jhollinger/etherpad-lite/tree/plugin_api_ideas. It's up to date with Pita/master.\n. One of those seems to have fixed it for me.\n. This must be a bug in ast_mangle that ast_squeeze somehow fixes. I've done some digging, and it's jquery-ui.js that's triggering the bug. I've found that if I delete the jQuery UI Mouse section, then delete or move the jQuery UI Resizable section to its own file, it works.\nIf anyone else can reproduce this it might be a good basis for opening an issue with UglifyJS?\n. For what it's worth, vanilla jQuery could do something similar to what the Chat button is doing now.\n. +1 for no jQuery UI. IMHO, a subtle animation like $(\"#chatbox\").hide/show(300) would look smoother, particularly since similar animations are already on the screen.\nMore importantly, I tried removing the ast_squeeze call from @johnyma22's branch, and it seems to work perfectly (and faster, as expected).\n. +1 for the general idea at least. I ended up doing something very similar while playing with plugin api ideas (https://github.com/jhollinger/etherpad-lite/tree/plugin_api_ideas). In this context, my node/features dir is equivalent to @booo's node/routes dir.\nAs long as we clearly say \"look in the routes/features\" dir, I would argue that this approach makes it easier for beginners to get involved. \n. @ronquil UeberDB should be able to handle any persistent db, if someone writes the extensions. As for Redis, if it belongs at all, it would be as an optional replacement to the current in-memory store (would allow for better integration, or clusters of eplites).\nJust curious, what do you mean by \" don't allow for easily setting up multiple pads and deleting multiple pads for deployment purposes?\"\n. In related news it seems that \"noColors\" is broken in master.\n. As you know, setting Access-Control-Allow-Origin:* for eplite on domain A means ajax from domain B can access it. However, group pads, private group pads, password-protected pads, http auth, the api key, etc. would still be enforced. Given the strong emphasis on embedability, IMHO this seems like a good idea, at least for the http api. Imagine a mashup web app using eplite via an ajax api client.\nSome people, it seems, want their installations to be less accessible. The Access-Control-Allow-Origin value could be configurable. But the aforementioned security measures should be sufficient - even though the http connection would be allowed, eplite itself would block access.\nMy understanding is that Access-Control-Allow-* only effects ajax requests, not iframes or document.domain (correct me if I'm wrong). So these may be two distinct issues.\n. I don't believe that kind of interaction is supposed to be possible. However, assuming you are in control of both your eplite instance and your other app, here are some ideas I've run across:\n1. http://pipwerks.com/2008/11/30/iframes-and-cross-domain-security-part-2/\n2. Serve your eplite from a suburl of the same domain as your app (e.g. yourapp.com/eplite). That way, I think you would be able to access it even from within an iframe. (I think the wiki has docs about configuring the required server-side url rewrites.)\n. Unable to duplicate on latest (8e6b451459). Is the problem present if you use the API directly through a browser? Does it happen with any value, and not just the return value of SF::uid()?\n. Try running node --trace server.js and see what the backtrace looks like on the error.\n. Looking at the log entry you posted, it almost looks like eplite returns the JSON response and then crashes. Is that the case or not?\nAlso, does this still happen on the latest revision? If so, please specify the revision you're referring to, since \"latest\" is a moving target.\n. node 0.6.10 is pretty recent, I think. Can't imagine that a reinstall would help. But it's easy, couldn't hurt.\nYou say it correctly generates the response, which makes me wonder if it's a problem outside of eplite. Sure you have the latest dependencies installed with bin/installDeps.sh? (I'm grasping at straws here)\n. In the root of your eplite dir, remove the node_modules directory. Then just run bin/installDeps.sh.\n. Sure wish I could duplicate this. Here are some thoughts:\n1. does this happen on existing groups, or just new groups?\n2. Look in node/db/PadManager.js in the exports.createGroupIfNotExistsFor function. Put in some debug prints (or use a debugger) and see what's what when things go to pot. If that function seems okay (and it looks like it is), then find the caller, and debug the callback it's passing.\n. No, you're definitely not being a nuisance. Sorry it's taken me so long to look into this. I've just started a new job and haven't had much time for open source lately.\nIt looks like an infinite recursive  loop, but I'm not totally sure how it's happening. You'll have to be my eyes and ears since I still can't duplicate this. I've put a branch up at https://github.com/jhollinger/etherpad-lite/tree/bad. Check it out (either literally or just copy my changes) and see if it has any effect.\n. @Toumal, can you confirm that the above patch fixes this?\n. Even though there's currently only one option, IMHO -h/--help is a sensible place to \"document\" it. People expect to find things that way. And I bet more will be added over time.\n. Almost seems overkill at this point, but I guess it is a little cleaner, especially if we add more options.\nIf we do add a -h/--help option, bin/run.sh should detect and send it to server.js immediately, and never call bin/installDeps.sh, etc.\n. IMO waiting on installDeps, just to see -h/--help is super annoying. It can take awhile. And it prints out lots of junk.\n@fourplusone You're right about missing deps = crash, but we can get around that. The simplest way would be to keep your Cli module, but strip out optimist. (It's not too difficult to manually parse process.argv.slice(2)). Then if that module is loaded first, since it has no deps, it can print --help and exit.\n. This latest commit incorporates some of @fourplusone's ideas, but removes optimist, so that -h/--help can be run before any dependencies are ever installed.\nIf the idea is accepted, the commit history probably needs to be cleaned up.\n. @Pita should I revert the -h/--help changes? I was curious how it would play out. But with only one option, I could go either way.\n. I am closing this in light of pull request #478.\n. I'm unable to duplicate, using the Ruby client's rspec tests. Sure you've got the latest eplite rev? I'm seeing it as 9ca914f8cd953f8a701391e38338d87b255368db.\n. A monospace font has been supported in master for some time. You may pass useMonospaceFont=true as a url param, or you can click the gear icon in a pad and change \"Font type\" to \"Monospaced\".\n. @Wikinaut Yes, the plugin framework is still a gleam in our collective eye. There's an early draft of sorts at https://github.com/Pita/etherpad-lite/wiki/Plugin-API-Draft. If you have any suggestions on how you'd like to program a plugin like this, please add them to the page.\n. Sounds like localStorage would be a good solution for user preferences instead of the current \"prefs\" cookie. The server doesn't need this data, so there is no reason to clog up eplite's many http requests with it in the header.\nInteresting article. I've never used IndexedDB, but it sounds like a much better option for actual offline data.\n. I think that's definitely an improvement. The question is, would the templating system do the heavy lifting, or would it offload the work to client-side code like @fourplusone's? (The latter case would have the benefit that custom js could integrate.)\n@fourplusone Any thoughts on how a plugin framework should handle the toolbar? Plugin rough draft is at https://github.com/Pita/etherpad-lite/wiki/Plugin-API-Draft\n. Does this deserve its own How-to page, or does it fit in one of the existing ones? I guess it could go under Installation in the README.\n. +1. Not to be pedantic, but for consistency's sake, should it perhaps be listPadAuthors?\n. +1. While it can also be fixed with proxy_redirect / /pad/; 0 config is better.\n. +1. I can't imagine a good reason for that...\n. Even so, it seems a peculiar decision unless there is a good reason.\n. You may customize css in the static/custom/*.css files. It will be loaded automatically.\n. Looks like this is patched in the develop branch...\n. In mysql, each table has its own character set, and it usually defaults to latin1. This is probably causing the issue. (The charset can also be set for each connection. They should match.) The charset should probably be UTF-8. I think something like this should fix the db:\nALTER TABLE tbl_name CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;\n. Eager to look at this.  @Wikinaut Ideally the plugin framework will be stable for long periods of time (or forever). However, hopefully it is designed so that it is trivial to add more hooks.\n. @redhog Think I found a few minor bugs:\n1) I don't see the step left/right buttons on the timeslider. Works if I click where they should be, though.\n2) settings.json.template default db location is \"../var/dirty.db\". Seems it should be \"var/dirty.db\"\n3) When I fired up a clean checkout, it didn't create an APIKEY.txt file\n4) HTTP API calls crash the server with ReferenceError: apiCaller is not defined in src/node/hooks/express/apicalls.js:33:5\nJust started trying to wrap my head around how things are restructured. Big fan of the \"ep-lite built with its own hooks\" idea. Some pieces are very different from what I imagined, but overall I think it will work well.\nThe only concern I have, which is probably premature, is the amount or granularity of available hooks. Obviously we'll want a ton more - for building toolbars, observing changesets, etc. Those can come later, but just wanted to through it out there.\nDon't see an obvious way to break this up into smaller commits. Perhaps the initial commit could add the hooks framework, while various later commits convert the system, piece by piece, to use the hooks?\n. ## General access model\nUnsure what you mean by \"real group pads\". The requireSession option in settings.json may be what you are looking for. It switches off public pads, leaving only group pads enabled. Group pads restrict access to clients with sessions. Sessions are created server-side using the HTTP API. The session token would then be placed in a cookie named sessionID. They are unique to each client/group/pad combo.\nSecurity model\nYes, it largely depends on SSL/TLS. I believe the authentication token you are referring to here is a different one than I mentioned just above. This one is global, and only applies to the HTTP API, which generally has very few clients. The HTTP API is usually used by a server-side client library talking to the EP server. (In the example above, it creates the session ID, but has no further part.) I suppose it is a bit simplistic, and I'm sure improvements would be welcome.\n. @sfyn Yikes, that's not good. Unless you need it in the master branch asap, I will submit a patch to the develop branch. \n. @sfyn I cannot duplicate the error. I set requireSession to true and created a session which allowed me to access a pad in that group. Then I tried to access a pad in a different group, and I was not able to access it.\nCan you give a more specific example of the problem?\n. That is correct. There is no correlation between groups and authors, except for the temporary one created by a session. EPLite's intention is that restrictions on who can access which group should be enforced at your application's level.\n. This may fix issue #446 in master. @Toumal can you confirm?\n. Fixed.\n. The develop branch is freezing quite a bit for me on \"Loading...\" as well, thought it looks like a javascript problem.\n. Does your browser report any js errors?\n. Firebug hangs and gets no response from http://localhost:9001/javascripts/lib/ep_etherpad-lite/static/js/ace2_inner.js?callback=require.define. If I visit that url manually however, it servers just fine.\nChromium says Uncaught ReferenceError: translate is not defined.\n. @0ip it doesn't seem to help in my case. Same errors as before.\n. Chromium is dying at pad_userlist.js:713 translate(\"Enter your name\"). translate is used a lot, but neither Chrome or I can find it defined it anywhere.\n. Yes, that's definitely the problem. I defined a rather dull translate function (which simply echos what you pass it). Now both Chrome and FF work. So...where is the real translate function?\n. I'm at the most recent checkout of develop. It's used about a dozen times.\n. What the crap, git? Maybe my branch is screwed up.\n. I like git but every now and then I have to delete everything and refork for no reason...grrr. That fixed translate in Chrome. But FF still hangs on ace2_inner.js.\n. @0ip same problem at your link. (FF isn't actually throwing an error. It just hangs on \"Loading\" and Firebug shows that the request for ace2_inner.js never completes.)\n. beta.etherpad.org doesn't work for me in FF either, looks like same issue.\n. I now believe this to be a Minify issue. I disabled minify and now it works. Investigating.\n. The problem seems to be triggered in pad.html. The fact that no errors are thrown makes it difficult to track down. But so far I've found two workarounds:\n1) Remove ?callback=require.define from <script type=\"text/javascript\" src=\"../javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define\"></script>\nOr\n2) Put pad = require('ep_etherpad-lite/static/js/pad').pad; inside of a 1 second setTimeout.\nDoes this make sense to anyone more familiar with kernel.require or yajsml? It only seems to be a problem in FF, so I guess the problem could be there, too.\n. Isn't the sort order documented somewhere as \"undefined?\" Just curious, why does this matter?\n. Think this is a \"Serious Bug\", seeing that HTTP Auth breaks everything. Looks like all browsers in both the master and develop branches are affected. @stoops's fix is for master. I'm going to see about porting it to develop.\n. This has been merged into the develop branch. Closing.\n. Crap, that was supposed to be a request against develop, not master! Closing.\n. I think reloading settings without restarting is a great idea, but I see some problems with this implementation.\n1) I think a readFileSync call on every request will bring down performance. Can anyone confirm or deny?\n2) While simply reloading the settings works for httpAuth, it doesn't necessarily work for all settings. On boot, lots of modules copy certain settings for their internal use (e.g. Express). After a reload like the above, the new settings wouldn't be consistently applied, potentially causing really weird and hard-to-track issues.\nI believe a complete solution would include either a \"Reload Settings\" button in /admin or a command line option that would talk to the daemon. When fired, the settings would reload as suggested, and we would have settings hooks, so that all concerned pieces of the system could be reinitialized with the new values. We would need to somehow temporarily halt all incoming connections during this period. Yikes, that sounds like a ton of work. But I think it would be welcomed by heavily-used deployments. I'm not involved with one, so can anyone confirm that?\nSorry @stoops, don't mean to stomp all over your code! Also, I'm curious about the use-case for multiple http auths. It's not as if we can assign them differing permissions...that's what groups and sessions are for, right? Let me know if I'm not getting something.\n. Actually, it may not be as hard as I thought. Our node process is just an execution environment for Express and SocketIO, both of which can be shutdown and restarted within the process. Here's a rough order of the reload execution:\n1) Call a new expressKillServer hook. This would reverse whatever expressCreateServer did, including killing socket.io and spinning down plugins (if they need it.)\n2) Call app.close() to kill Express. At this point, I think incoming requests go into a black hole. It would be great if we could capture them, queue them up, and pass then on to Express once it's restarted.\n1. Shut down the db connection\n3) Reload the settings as originally described in this issue\n1. The async.waterfall init process in server.js would be wrapped in something so it could easily be called again. Everything should come back up cleanly within milliseconds, no?\nJust had another thought. Historically eplite has not been robust with exceptions. Since the init process would be re-callable anyway, why not catch unhandled exceptions and \"reload\" the server? We'd want to watch out for boot loops, but that's easy.\nWhat does anything think? Have I taken this issue completely off course with my ravings?\n. Looks to me like you forgot the -D option when restoring. You put the name of the db in there (store), but it should be \"-D store\".\nMinor implementation details aside, there's no reason a dump and restore shouldn't work.\n. We could also switch to something besides ejs. There are quite a view node templating systems. Don't know which are non-blocking though.\n. It sounds like a javascript issue, and it is almost certainly the \"attempt to load undefined module\" error in your console.\nAre you running out of master or develop?\n. No, that should be the right version. Unfortunately it seems master is broken at the moment. Anyone know about this? ../minified/pad.js looks like the following:\nrequire.define({\n  \"\\x2fjquery\\x2ejs\": null\n, \"\\x2fsecurity\\x2ejs\": null\n, \"\\x2fpad\\x2ejs\": null\n, \"\\x2face2\\x5fcommon\\x2ejs\": null\n, \"\\x2fpad\\x5futils\\x2ejs\": null\n, \"\\x2fplugins\\x2ejs\": null\n, \"\\x2fundo\\x2dxpopup\\x2ejs\": null\n, \"\\x2fjson2\\x2ejs\": null\n, \"\\x2fpad\\x5fcookie\\x2ejs\": null\n, \"\\x2fpad\\x5feditor\\x2ejs\": null\n, \"\\x2fpad\\x5feditbar\\x2ejs\": null\n, \"\\x2fpad\\x5fdocbar\\x2ejs\": null\n, \"\\x2fpad\\x5fmodals\\x2ejs\": null\n, \"\\x2face\\x2ejs\": null\n, \"\\x2fcollab\\x5fclient\\x2ejs\": null\n, \"\\x2fpad\\x5fuserlist\\x2ejs\": null\n, \"\\x2fpad\\x5fimpexp\\x2ejs\": null\n, \"\\x2fpad\\x5fsavedrevs\\x2ejs\": null\n, \"\\x2fpad\\x5fconnectionstatus\\x2ejs\": null\n, \"\\x2fchat\\x2ejs\": null\n, \"\\x2fexcanvas\\x2ejs\": null\n, \"\\x2ffarbtastic\\x2ejs\": null\n, \"\\x2fprefixfree\\x2ejs\": null\n, \"\\x2fjquery\": null\n, \"\\x2fsecurity\": null\n, \"\\x2fpad\": null\n, \"\\x2face2\\x5fcommon\": null\n, \"\\x2fpad\\x5futils\": null\n, \"\\x2fplugins\": null\n, \"\\x2fundo\\x2dxpopup\": null\n, \"\\x2fjson2\": null\n, \"\\x2fpad\\x5fcookie\": null\n, \"\\x2fpad\\x5feditor\": null\n, \"\\x2fpad\\x5feditbar\": null\n, \"\\x2fpad\\x5fdocbar\": null\n, \"\\x2fpad\\x5fmodals\": null\n, \"\\x2face\": null\n, \"\\x2fcollab\\x5fclient\": null\n, \"\\x2fpad\\x5fuserlist\": null\n, \"\\x2fpad\\x5fimpexp\": null\n, \"\\x2fpad\\x5fsavedrevs\": null\n, \"\\x2fpad\\x5fconnectionstatus\": null\n, \"\\x2fchat\": null\n, \"\\x2fexcanvas\": null\n, \"\\x2ffarbtastic\": null\n, \"\\x2fprefixfree\": null\n});\nI never understood the minify stuff well, but pretty sure something besides a bunch of nulls should be there...\n. That worked for me but makes no sense. It may not be \"broken\", but if a fresh install has this problem then something is wrong.\n. +1. I would vote for something more specific, like EtherpadSessionID or EPSessionID. As long as it's EP specific, I don't see any advantage to being able to customize it.\nAs far as implementation goes, this may be related to issue #322.\n. @fourplusone Depends on how it's done. We would need a long transition period where the contents of sessionID would be transferred to the new cookie. Ugly for now, but I think it's a much better decision long-term.\n. +1. I also favor REST over JSON-RPC, but I think either would be an improvement. IMHO breaking the API isn't too bad since we have such a great selection of API wrappers.\n. Just a bug in eplite, both in master and develop branches. Working on a patch.\n. FYI it is issue #764.\n. Crap, wrong branch. Hold on...\n. @Pita FYI I believe that's what we did. The API method setAPI was crashing the server, and I submitted patches to both master and develop.\n. I can confirm. I will try to look into this soon, unless someone beats me to it...\n. Fixed in both master and develop.\n. This seems to be an issue with the jsdom library (or maybe how we're using it?) Using jsdom doesn't really make sense, since we're only using it for parsing. We may want to look at http://github.com/robrighter/node-xml or https://github.com/astro/node-expat instead. Researching...\n. I was unable to duplicate on my existing checkout, which is current. Then I deleted my node_modules and ran bin/run.sh, which re-installed them. Then I got the error.\n. Think I found it. Long story short, we need to specify npm v1.1.24 in src/package.json. Can you confirm?\n. There must be a bug in npm 1.1.25? The only way to prevent this would have been to specify npm v1.2.24 (or whatever was current at the time) in src/packages.json. I am submitting that patch.\n. The fix has been merged in. Anyone experiencing this:\nrm -r src/node_modules\ngit pull\nbin/run.sh\n. The fix has been merged in. Anyone experiencing this:\nrm -r src/node_modules\ngit pull\nbin/run.sh\n. This is a pretty quick patch. I'm submitting one to the develop branch, but I'm not sure it's important enough to merge into master out-of-band. Anyone care to disagree?\n. @MarkTraceur do a pull and it should be fixed now. On an unrelated note, non-ASCII chars in pad names shouldn't be a problem.\nAs for '/Testing:1234' being a valid pad url, you'll probably meet some resistance. See issue #367. Can't your app just prepend '/p/' to the path before passing it off to the iframe? Should be one line of code in most languages. (But if do want to press ahead with a proposal, it should of course be in a new issue.)\n. @johnyma22 Ha, thanks. I think I wrote that redirection code awhile ago, so I felt a little responsible :)\n. +1. I think some of the API clients offer this functionality, but I agree it would be better to have it in the API itself. Maybe for backwards-compatibility, a valdiFor option could be added?\n. True, nothing like that should crash the server. I'm sure that can be prevented, but first, what kind of user input is causing problems?\n. Someone correct me, but I don't think browsers will allow that to work with localhost. @MarkTraceur you may be running into issue #761.\nIf your working through things you think would be helpful to others, please find a place in the wiki and contribute them!\n. Sort of true, but wouldn't one need to run make install as root (or at least sudo)?\n. At casual glance, looks great!\nSidebar: It would be useful if there was a way to pull author mappers (and group mappers, for that matter) out of the API. Don't think that kind of \"reverse mapping\" is possible now. That's a separate feature request, thought.\n. @johnyma22 @marcelklehr  Yes, I think if(author) is safer. For instance, if author was ever null, the current code wouldn't behave as expected.\n. Two issues: The API method is calling pad.getLastEdited, but the method is actually getLastEdit. Also, getLastEdit expects a callback but is not receiving one.\n. Not sure why @johnyma22's commit is in there...\n. +1. YAML is so much more readable.\n. +1\nOn a related note, if Etherpad Lite is supplanting the original Etherpad, then Etherpad Lite doesn't seem an appropriate name. It sounds like some inferior, unofficial version of Etherpad. Maybe it should be called Litepad, Nodepad (j/k), or simply Etherpad?\n. JSON for config is ugly, YAML isn't. But this late in the game, making every eplite installation ever rewrite their settings file seems like a net loss.\nPerhaps if there is someday an eplite 2.0 (which would obviously include other incredibly significant changes) a change like this might be appropriate.\n. I have a fix for this in my develop branch, but the pull request UI isn't working now. I'll try again later.\n. Fix has been merged in to develop and master. Closing.\n. Is that just a zip of the eplite source? Should be able to get the same thing from https://github.com/Pita/etherpad-lite/downloads.\n. Persistent, yes. But by \"global\" do you mean across all pads? Then no, I don't think so.\n. +1. I think we should keep the docs in /doc (in Mardown or something). Then we use the Github Repo Hooks http://developer.github.com/v3/repos/hooks/ - probably this one - https://help.github.com/articles/post-receive-hooks/ - to trigger a doc regeneration (somewhere) on every commit.\nOf course someone would need to commit to running that server...\n. Several library exist for interacting with it, https://github.com/Pita/etherpad-lite/wiki/HTTP-API-client-libraries, and could also server as reference implementations.\n. Looks nice\n. I'm pro a patch very much like this. Different files for different versions may be a good idea, at least after there are enough versions.\nMy concern is that this will break clients. IMHO everything that was \"officially\" released under v1 of the API should remain in v1. Also, I don't think the API versions need correlate with the overall version, which looks like what this is attempting.\nAdding backwards-compatible functionality to an existing API version, which is what we've been doing, may not be the best thing. But it's far better than breaking external API compatibility. See the recent spat between Linux Torvalds and Miguel Icaza...\n. +1. getText returns {\"text\": \"bla bla bla\"}, getLastEdited returns {\"lastEdited\": \"date\"}, etc. etc. That said, the change would (rather should) require a new API version. \n. @Gared Awesome, glad that someone is using it. Feel free to send a pull request if you get it updated.\n. There have been several attempts at something like this, but they all have the \"Pads created before this feature are not listed\" limitation. Code looks really clean, but IMHO that limitation is a deal-breaker; users will never understand. To them, any software that uses this API will seem broken.\n. That's my understanding, too. Since it hasn't been done yet, I bet it's not easy :). I think @Pita is the author/maintainer? I would start with him.\nAlso, you may want to consider making pagination part of this API method. Instances could have 100's or 1000's of pads. Unless your ueberDB find method is ridiculously fast, listing them all at once won't be quick.\n. +1 @marcelklehr. So epl should be using a more traditional db abstraction layer. Is it practical to switch while providing a painless migration path for existing installations? I have less free time these days, but I would be willing to contribute to such an effort.\n. +1 for REST. As an EPLite API Client author the codegen suggestion makes me sad - like a factory worker losing his job to automation. But \"The needs of the many...\" so +1 again.\n. On a related note, it would be good to have tests for the API. I will investigate that.\n. Looks like 34f9f151.\n. Missed that. I'll remove the redundant checks.\n. Must have accidentally copied that from my settings.json file. I have corrected it.\n. Nitpicking here, but in the actual function I don't see name as a param.\n. ",
    "fourplusone": "you can get around this by using relative path's (See pull req #486 )\n. On the develop branch (with plugin support) you can install ep_linkify: http://search.npmjs.org/#/ep_linkify\n. I'll try to explain what I found out:\nAs the stacktrace shows, the error has to be somewhere around here: https://github.com/Pita/etherpad-lite/blob/master/node/handler/PadMessageHandler.js#L865\nThe problem is, that sessioninfos might mutate while async.forEach(... is executed. \nto reproduce, add the following lines \nasync.series([\n          //get the authorname & colorId\n          function(callback){\n            setTimeout(function(){\n              console.error('time\\'s up INFOs:')\n              console.error(sessioninfos);\n              console.error(sessionID);\n                        callback();\n            }, 5000);\n          },\n          function(callback)\n          {\n            async.parallel([...\nnow open the same pad in some browser windows and refresh them (2 or 3 times). Node will crash.\n. Can you post the stacktrace, since at least the lines where the error occurs should have changed?\nAm 20.02.2012 um 06:46 schrieb Riseup Labsreply@reply.github.com:\n\nUnfortunately, even with this commit, we are still seeing the \n[2012-01-26 14:22:57.822] [ERROR] console - TypeError: Cannot read property 'author' of undefined\nissue.\nI'll note that this is also reported in #385 and #360.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/417#issuecomment-4048731\n. I think a --help / -h flag would be a good place for documenting startup parameters\n. I would suggest to handle the command line parameters in its own module. See: https://github.com/fourplusone/etherpad-lite/commit/fa15d7abd9a19204bd5dc3b9cc93ea4dcaa7a98b \n. If there are missing deps skipping installDeps.sh will cause a crash, even if the user only wants to read --help\n. No. Since  async.parallel([function(callback)... is not executed if sessioninfos[sessionID] === undefined. but i added some checks for the socketio....send stuff too.\n. I hope the last commit makes it more clear why checks are performed \n. Create a new branch based on Pita/master and then cherry-pick the corresponding commit. Push to github, create pull request\n. Can you clarify your point:\n\nDo you think the commit is too large (as in small commits are good) or don't you like the changes made in the lines above L80?\n. I merge this on my local clone, should work now\n. @johnyma22  git revert 9ede14a should do the job (works for me at current master)\n. closed\n. @jhollinger I if get the current code in ACE right the client plugin framework right it is entirely hook based. So calling a hook like\n configure_toolbars({ leftToolbar:..., rightToolbar: ....}) is imo the most consistent way. \nA plugin may then do the following:\n\nfunction configureToolbars(bars){\n  var buttons = bars.leftToolbar.getButtons();\n\n  var myButton = new toolbar.ButtonItem({\n      click: function(){ /**/,\n      title: 'Monospaced',\n      name: 'monospaced'\n    })\n  buttons.push(myButton);\n  bars.leftToolbar.setButtons(buttons)\n}\n\nI think beside the fact that user scripts can access the toolbar it would also be simpler to modify buttons i.e. disable specific ones etc. if they were generated clientside.\n. I agree that there should be more UI generation via JavaScript. IMO with sensible hooks on the client side there would be no need for templates and stuff. Maybe we should also look into something like backbonejs or similar for providing a client-side data model.\n. @cweider one could also use something like https://github.com/headjs/headjs/blob/master/src/load.js#L262 instead of <script src=\"...\">\n. Omitting them is html(5) compliant: http://www.w3.org/TR/html5/syntax.html#optional-tags\n. @jtlebi Yes, the only required files are ep.json and package.json.\nYou might want to have a look at \nhttps://github.com/johnyma22/etherpad-lite/tree/disable_change_author_name_plugin/available_plugins/ep_disable_change_author_name\nand \nhttps://github.com/fourplusone/etherpad-plugins/tree/master/ep_linkify\nthose plugins do implement very simple features in a few lines\n. Well. Seems like calls to Array.prototype.map/forEach in pluginfw/hooks.js are responsible for these issues. You may try merging the use_underscore branch instead, which is using underscore.js for emulating these methods where not available\n. @redhog Just to clarify: underscore.js doesn't extend the prototype of the array object, but it makes it more convenient to use these methods. So map would be a _([1,2,3]).map(fn) or _.map([1,2,3], fn).\n. should be fixed now. You may try pulling use_underscore again\n. #571 should fix this issue\n. Just merge feature_jquery (i merged use_underscore in feature_jquery which is required for working properly in IE) to develop. If you want just want to test ist, consider git merge --no-commit --no-ff feature_jquery, so the merge wont get commited\n. I think plugin install/uninstall should be protected by a password/apikey\n. I think its because pluginfw/plugins.js uses Array.prototype.forEach etc. Can you try https://github.com/fourplusone/etherpad-lite/commit/d0dd746c8bf33b55999cb673babef68987854c23 \nShould fix it.\n. Try  \ngit clone https://github.com/fourplusone/etherpad-lite.git ep-patched && cd ep-patched && git checkout d0dd74 \n\nCloning gave me an error:\nfatal: https://github.com/fourplusone/etherpad-lite/commit/d0dd746c8bf33b55999cb673babef68987854c23/info/refs not found: did you run git update-server-info on the server?\nI tried: \ngit clone https://github.com/fourplusone/etherpad-lite/commit/d0dd746c8bf33b55999cb673babef68987854c23 ./etherpad-lite-patched\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/562#issuecomment-4580855\n. Seems like /javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define etc. are not generated properly. The interesting part of the log would be the one right after startup.\n\nEspecially the following ones\n\n[2012-03-19 23:43:38.557] [INFO] http - 200, GET /p/[padname]\n[... css etc ...]\n[2012-03-19 23:43:38.626] [INFO] http - 200, HEAD /static/plugins/ep_etherpad-lite/static/js/security.js\n[2012-03-19 23:43:38.627] [INFO] http - 200, HEAD /static/plugins/ep_etherpad-lite/static/js/jquery.js\n\nFurthermore it would be interesting if you have minify enabled and if you're using a reverse proxy.\n. done.\n. Maybe the QR-code should go into a plugin which is not enabled by default. Why display a QR code if we can click links?\n. will look into this later but i think for now we can just leave this pull request open, since its not critical for timeslider_authors\n. closed\n. maybe, will look into this later today\n. Now automatic merge should work\n. They are. Try adding #innerdocbody span { color: red; } and the text in the editor iframe will become red\n. No, pad.css is just fine. Maybe clearing the cache  + restarting ep-lite sovles your problem\n. Just push'd some more docs + moving performDocumentApplyAttributesToRange to AttributeManager.setAttributesOnRange\n. Which Browser/OS are you using\n. @edy-b can you confirm that 1260044 works and that c65216a does not?\n. @jhollinger can you specify the commit where translate is beeing used? cant find it on develop or master\n. Can't find one here: https://github.com/Pita/etherpad-lite/blob/develop/src/static/js/pad_userlist.js\n. +1\n. resolve is missing as a dependency in the package.json file\n. Seems like you copied TimesliderMessageHandler.js to PadMessageHandler.js. Whats the motivation for this move?\nAs far as I understand the changeset you also dropped initialChangesets. Why?\n. @jhollinger changing the sessionID would break all setups using them when they're updated.\n. @johnyma22 have you merged develop into feature/cleaner_code? i think a lot of bugs have been fixed in develop which are still present in this branch?\n. I think a rewrite of the API would be great. However a RESTful API would imo match the requirements of etherpad better, since etherpad basically manages (Pad, Revision, Author) objects + we are not bound to a specific exchange format\n. x domain access can accomplished by CORS or JSONP. For example Github does that in their api: http://developer.github.com/v3/#cross-origin-resource-sharing\n. @johnyma22 why didn't you merge this in?\n. plz don't merge yet... found a few bugs\n. Can you post your config + startup log?\n. Like this: https://gist.github.com/2551685 (feel free to censor all login data etc.) \nJust start the server and access the admin page\n. I think this might have been introduced in c55f54b9\n. \"defaultPadText\" : \"*\", still does not work on f891534\n. How about using YAML for configuration.\nYAML supports comments, provides better readability and is a superset of JSON (but not commented JSON as it is used in eplite)\nOh, and there is a JS library: https://github.com/nodeca/js-yaml\n. any idea how to convert existing users JSON to YAML?\n. nope, because JSON does not support comments. The config format used for etherpad does\n. +1\n. Placing a debugger; statement in your code might help to find your code in the browser\n. I think its because js is loaded via AJAX and executed via eval() \n// @cweider correct me if i'm wrong\nAm 28.05.2012 um 19:46 schrieb gedion:\n\nI am still finding this challenging. I am using firefox 12.0 and firebug 1.9.2.\n@redhog, yes I am looking client side codes.\n@fourplusone Yes. Putting debugger; stops the execution. I can step though but can not see the code. console.log works. I can see the printouts. \nWhy are the codes invisible?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/713#issuecomment-5969340\n. @cweider how does this async form looks like? AMD?\n. I think its a race condition. USER_LEAVE is being sent everytime a client disconnects, even if user_dup has been sent. So if USER_LEAVE arrives after USER_NEWINFO the client will be removed from the list\n. why do you drop initialChangesets?\n. http://109.75.188.86:9001/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define doesn't look good\n\nrequire.define({\n  \"ep_etherpad-lite/static/js/pad.js\": null\n, \"ep_etherpad-lite/static/js/pad_utils.js\": null\n, \"ep_etherpad-lite/static/js/pad_cookie.js\": null\n, \"ep_etherpad-lite/static/js/pad_editor.js\": null\n, \"ep_etherpad-lite/static/js/pad_editbar.js\": null\n, \"ep_etherpad-lite/static/js/pad_docbar.js\": null\n, \"ep_etherpad-lite/static/js/pad_modals.js\": null\n, \"ep_etherpad-lite/static/js/ace.js\": null\n, \"ep_etherpad-lite/static/js/collab_client.js\": null\n, \"ep_etherpad-lite/static/js/pad_userlist.js\": null\n, \"ep_etherpad-lite/static/js/pad_impexp.js\": null\n, \"ep_etherpad-lite/static/js/pad_savedrevs.js\": null\n, \"ep_etherpad-lite/static/js/pad_connectionstatus.js\": null\n, \"ep_etherpad-lite/static/js/chat.js\": null\n, \"ep_etherpad-lite/static/js/excanvas.js\": null\n, \"ep_etherpad-lite/static/js/farbtastic.js\": null\n, \"ep_etherpad-lite/static/js/pad\": null\n, \"ep_etherpad-lite/static/js/pad_utils\": null\n, \"ep_etherpad-lite/static/js/pad_cookie\": null\n, \"ep_etherpad-lite/static/js/pad_editor\": null\n, \"ep_etherpad-lite/static/js/pad_editbar\": null\n, \"ep_etherpad-lite/static/js/pad_docbar\": null\n, \"ep_etherpad-lite/static/js/pad_modals\": null\n, \"ep_etherpad-lite/static/js/ace\": null\n, \"ep_etherpad-lite/static/js/collab_client\": null\n, \"ep_etherpad-lite/static/js/pad_userlist\": null\n, \"ep_etherpad-lite/static/js/pad_impexp\": null\n, \"ep_etherpad-lite/static/js/pad_savedrevs\": null\n, \"ep_etherpad-lite/static/js/pad_connectionstatus\": null\n, \"ep_etherpad-lite/static/js/chat\": null\n, \"ep_etherpad-lite/static/js/excanvas\": null\n, \"ep_etherpad-lite/static/js/farbtastic\": null\n});\nI think we had this issue before.\n//cc @cweider\n. Can you provide the output of the following commands (assuming you are in the etherpad-lite dir)\ncd src;\nnode -e 'console.log(require(\"async\"))' ;\ncat node_modules/async/package.json | grep version\n. How about \nls -r no\ncat node_modules/async/index.js\ncat node_modules/async/lib/async.js\nls -R1 node_modules/async\n(all in ./src)\n. Looks something went wrong while installing async. In ./src, npm uninstall async might fix your problem (or try deleting the node_modules dir)\n. Yes they do. But not on Chrome 20. \nThe problem is that localhost is technically a toplevel domain and chrome doesn't allow setting cookies on tld's.\nAm 29.06.2012 um 14:33 schrieb Marcel Klehr:\n\nFor me, cookies work on localhost. (FF13)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/761#issuecomment-6658460\n. i can confirm that its npm1.1.25 causing this issue. Forcing an older version of npm via packages.json should do the trick, however, we should investigate how to stay compatible with future releases of npm\n. try \n\ncd src/\nrm -rf node_modules/npm\nnpm install npm@1.1.24\n. I think mostly bad formatted changesets (like #752), messages with missing attributes and sometimes hard to reproduce race conditions (I think most of them happen while iteration async throu an array).\n. how about adding a hook passing an object containing all related modules/external dependencies?\n. Looks good. However, here are some considerations.\nCan you\n- provide docs how to use these hooks\n- fix indention (2 spaces)\n- open a pull request on develop\n. because master has not been merged back into develop back yet.\n. don't understand why this works. how is the git revision related to npm?\n. ...erm, nevermind, just saw that this git revision stuff uses npm.dir \n. Well, here are the docs. https://gist.github.com/a749a92ac56521f4e03f\n. found a little bug: \n- Open a new pad\n- Send 2 messages\n- The second one won't be displayed\nProblem is that self.lastMessage.position() returns null and reading null.top throws an error. So fixing this should be easy\n. One more thing: i think it makes sense to revert 6726ea since a checkbox does not make sense if scrolling is automatically beeing disabled\n. works for me > merged\n. I think collectContentPost/collectContentPre would be appropriate hooks to look at. Basically they are resoponsible to keep the document in a sane state. catching pastes explicitly is not available\n. I meant this post/pre stuff as well as splitting plugins into multiple parts\n. Looking at the diff i'd say go ahead and merge. however: does it look good on all major browsers (esp IE)?\n. Can you issue this pull request on the develop branch instead of master?\n. I get [ERROR] console - Unable to load plugin definition file /Users/mba/Projects/etherpad-lite/ep.json once i run ./bin/run.sh\n. You should escape the title with Security.escapeHTML\n. how about moving the docs into the doc/ folder?\n. Great work. I cherry-pick'd it into the development branch since it's imo not a critical bug. Please consider issuing further patches directly to develop instead of master\n. Have you had a look how inserting links is done in ep_linkify. Or do you want to add these links serverside?\n. Looks good. However: I think we can just delete console.log... here since it does not provide any usefull information\n. have you tried npm config set registry http://registry.npmjs.org/\n. since http__s__://registry.npmjs.org/ uses a self signed ssl-cert your proxy might block it\n. afaik npm just checks whether all dependencies are satisfied. So if all required packages are installed, there's no need for an internet connection \n. You should use ep_headings/index.js instead of ep_headings/static/js/index.js for serverside code. ep_headings/static/js/index contains a lot of code which won't run on the server side.\n. I wonder under which conditions author2sessions != null but author2sessions.sessionIDs == null (same for group2sessions)\n. why not add marked as a (dev)dependency to package.json?\n. Looks good. However: can you use 2 Spaces for indentation instead of tabs (same for the pullreq you issued on fourplusone/etherpad-plugins? I'll try to test it as soon as possible.\n. @unindented Can you tell on which browser this happens?\n. as the logged text doesn't provide any useful information except for debugging purposes i'd simply suggest removing this line.\n. Why don't you just put a\nvar res_send = res.send; here\u2026\n. \u2026and a res_send(response) here.?\n. why did you remove .toString() ?\n. I would not change the behavior in this pull request unless there are good reasons to do so\n. The reason for failing with no settings.yml it that the user should be aware of updating his settings.json file. But i'm not really happy with this solution as i think etherpad should run out of the box, without a settings file required\n. I wouldn't use Object.freeze(Object.create(settings));. It makes debugging unnecessarily hard since console.log(context.settings) will always print out {} plus it does not protect the settings from being changed (since settings.__proto__ is still mutable)\n. I would just pass the original settings object.\n. i think its used to avoid that changesets from the server are being applyed while the editor is in \"internalCompositionState\"\n. ",
    "tamamadesu": "please tell me How to detail  handle it, same question , thank you \n. ",
    "snarkyMcSnark": "@randyho-kk \ud83d\udc7c . ",
    "dsmedia": "Stock browser in Android 2.2 seems to be working fairly well, with the exception of no cursor being visible. Typing text and receiving updates to the text from other contributors works. Would be nice to have a display that is optimized for the browser size, however, and does not require zooming/scrolling. How much of this is the mobile browsers' fault and how much of it can be implemented on the etherpad-lite side of things?\n. Any progress on this? How hard would it be to include prettify.js (http://google-code-prettify.googlecode.com/svn/trunk/README.html) for syntax highlighting? Apparently, the syntax highlighting is implemented in javascript using < pre class=\"prettyprint lang-syntax_name_here\">< /pre>. Would it be possible to include a button to toggle the syntax highlighting on/off and include a selector for the syntax to use?\nWe could use this immediately in hundreds of projects with a custom syntax descriptor we would write for the syntax highlight engine.\n. How much of a performance hit would you expect that to cause with 1-2 pages of text in an editor window? Obviously, it's hard to say with any certainty without a working install to test it on. @itguy51, any chance you've been able to get anything working with the syntax highlighter? I'm not much of a JavaScript developer but I'd be glad to help.\n. Thanks. That is about what I did as well, with the exception of using checkinstall instead of make install to integrate the updated node.js package with Ubuntu's package management system. So far, so good.\n. @PCommons did you get this resolved? I did a clean install of the latest etherpad-lite from the git repo (309e3b0) on CentOS 6 x86_64 and have what appears to be the exact same problem. Is the path is misconfigured? URLs are pad.example.com/p/123abc but the server appears to be looking for a path of \"/pad\".\n. I have the same problem, using nginx as a reverse proxy (SSL-enabled), following the instructions here. If httpAuth is set in settings.json, no pads will load.\n. ",
    "lukeburns": "Centos 5.6\n. @Pita sqlite and the developer package was originally installed with yum (v3.3.6), but I manually built sqlite v3.7.7.1. node was installed by source.\n@kkaefer I believe otool is a osx specific tool. I'm running Centos 5.6. Is there a linux equivalent command?\n. @kkaefer does this help?\nluke@lukeburns ~]$ ldd pad/node_modules/ueberDB/node_modules/sqlite3/lib/sqlite3_bindings.node\n    linux-gate.so.1 =>  (0x0092b000)\n    libsqlite3.so.0 => /usr/lib/libsqlite3.so.0 (0x00ac7000)\n    libstdc++.so.6 => /usr/lib/libstdc++.so.6 (0x00140000)\n    libm.so.6 => /lib/i686/nosegneg/libm.so.6 (0x004ba000)\n    libgcc_s.so.1 => /lib/libgcc_s.so.1 (0x008e7000)\n    libc.so.6 => /lib/i686/nosegneg/libc.so.6 (0x00229000)\n    libpthread.so.0 => /lib/i686/nosegneg/libpthread.so.0 (0x006d2000)\n    /lib/ld-linux.so.2 (0x007ad000)\n. Could you update the npm package for ueberDB? It's running great. I just had to manually install the ueberDB because npm is still providing the old version which still has the sqlite dependency.\n. ",
    "kkaefer": "This looks like a linking error. For some reason, it can find the header files so compiling works. However, it seems that linking the system-provided libsqlite fails silently, so the binary doesn't properly link to the library.\nPlease run otool -L lib/sqlite3_bindings.node and report the output back.\n. What's probably happening is that it compiles using the correct headers, but links to an ancient library.\n. Oh sorry, ldd probably is available on CentOS.\n. ",
    "Dr-Sommer": "I'm not sure about that... so if Opera doesn't send messages to the Server, nobody could read my input?\nBut here i had a \"Conversation\" with a friend and everything worked flawlessly (me using Opera):\nhttp://www.caba.de/phpBB3/viewtopic.php?p=44753#p44753\nOr did i missunderstand you?? \nBTW: My IE8 Freezes after calling the Pad... restart necessary  ;)) \n. After some experimenting, i think I've found the problem:\non the problematic Pad, I've used spaces for the Pad Name:\nPad Name= \"Lake Run 2011\"\nhttp://www.caba.de:9001/p/Lake%20Run%202011\nWhen NOT using spaces, everything seems to be OK!!\nhttp://www.caba.de:9001/p/lakerun2011\nI tested it on my own, will test it with some friends, as soon as the sleepyheads get awake... ;)))\nBut still no luck with IE8... still freezing.... :)\n. Great, thx.. ;)\nQuestion: What do i have to do now?\nhow do i update the Pad on my Server? Is there any easy way or Documentation, or do i need to repeat the instalation?\nI installed it with this manual:\nhttp://data.agaric.com/installing-etherpad-light-debian\nSorry, unfortunately not a Linux specialist, but trying to get there... ;)\n. after entering your command, i get this:\nroot     19854  0.0  0.0   7708   820 pts/6    S+   18:42   0:00 grep node\n. Sorry... searched untill now, but found nothing on restart node... ;(\nhow do i do that?\n. @ Pita: when i do your command i get:\nFATAL: The sqlite dependency could not be loaded. We removed it from the dependencies since it caused problems on several Platforms to compile it. If you still want to use sqlite, do a 'npm install sqlite3' in your etherpad-lite root folder\nand constantly RESTARTING.... \n. im realy sorry to bother you... ;(\nbut if i do a \"npm install sqlite3\", i get \"-bash: npm: command not found\"\nso i think, npm is not installed?? if i try to install npm with \"curl http://npmjs.org/install.sh | sh\", i get this:\n\"npm cannot be installed without nodejs.\nInstall node first, and then try again.\nMaybe node is installed, but not in the PATH?\nNote that running as sudo can change envs.\"\nto remind you: i installed Etherpad-lite with this howto:\nhttp://data.agaric.com/installing-etherpad-light-debian\nstill sitting here and searching for an solution... ;(\n. Thank you both for your Support... ;)\nI did now a clean install with the howto of the wiki, as suggested by Johny... ;)\nnow it works with node-v0.4.11 and mysql.... so hopefully no problems any more with sqlite...\nunfortunately the data written to the pads are now lost... ;(\nis there any way to retrieve them?\ncurrently i`m searching/learning all about sqlite, but maybe you know a faster way.. ;)\n. man, man.... this was a long night... :)))\nno, i didn't delete the original \"sqlite.db\"... ;)\ni've searched the net for SQLITE 2 Mysql converters, found this:\nhttp://www.sqlite.org/cvstrac/wiki?p=ConverterTools\ntried almost everyone, that i could handle... but still no luck.. ;(\nI got some data to my mysql, but its just showing \"loading\" when i try to start an previously existing pad...\nhttp://www.caba.de/phpBB3/viewtopic.php?f=120&t=1775\nWhen i start a new pad, everything is ok...\nwww.caba.de:9001\ncould it be possible, when i send you the sqlite.db, that you convert me this correctly??\nthis would be a huge help for me, thx... ;)\nFor chat, you could use this one:\nhttp://www.caba.de/phpBB3/chat/\nname=etherpad\npassw= etherpad\nthanx... ;)\n. ThX, Pita, send you the File...\nhave to go work now, but about 19:00 GERMAN time i'll be back, and also in the Chat... ;)\ni really hope this will work, otherwise the CaBa People will kill me.. hihi... ;)\ni TOLD them to keep an Backup of their pads and they KNOW it is still beta... but they don't listen and they rather cook me now with some garlic an vegetables.... ;))))\nsurely i hope, that this helps other people too, stuck with this problem... ;)\nGreetings\nMaJa88\n. Hi... back again.. ;)\ni imported pita's file into the DB... no errors, but still showing just \"loading\" on old pads... new pads are working...\nShould we drop this?? I think i can reconstruct the important infos by hand...\nBut if you need to break down this issue, i'm glad to help in any way... ;)\nim now in the Chat... ;)\n. Aaaaannnd you did... ;)\nThanx Johny and Pita... ;)\nPita has retrieved the lost Padtext, and hopefully found the issue...\nDon't ask me.. i have no \"blasssen Schimmer...\" ;)))\nonce in a while, i'll certainly bother you 2 again... ;)\nCheers,\nMaJa88 \n. Hi, Pita... ;)\nwhen i write a link such as \" http://www.CaBa.de \" in a pad, and if i want to follow this link, i have to Copy&Paste it from the Pad into the browser...\nis there a way just to Doubleklick the link in the pad to directly open the link??\nThX ;)\n. Hi there again... ;)\nStrange... on your testlink above the Link klicking is functioning...\nBut here on my board this is not functioning:\nhttp://www.caba.de/phpBB3/viewtopic.php?f=148&t=2065\ni can't thing of anything that could be wrong... \nNot functioning with Firefox, Opera and IE... just yesterday i did an \"git pull origin master\"... ;)\nCould you pleas look at this issue of mine? ThX.. ;)\n. Arghh.... yes... its working outside the iframe... ;(\nis there any way to correct this? The Users will certainly not use it out of frame... ;(\n. Do you mean like this?\nhttp://www.caba.de/caba/allejahre/2012/uebersichtcabaevents2012/\nnow its not working outside phpbb3... seems to be an iframe issue??\n. Muchas Gracias... ;)))\n. Hi.. ;)\nwanted to ask for a little freshup over the Situation above?? ThX... ;)\n. No News?? \n. no problem.. ;)\nThX for the Info... ;)\n. i did an \"git pull origin master\", but still no response on a Link:\nhttp://www.caba.de/caba/allejahre/2012/uebersichtcabaevents2012/\nTried it with Opera and FF...\nHow can i see the Versionnr. of the Pad??\n. Yes... everything from one VServer...\n. Hmm... don't have Google, Yahoo or Open ID account... any other way to log in??\n. im now registered over myopenid... ;)\n. in your Pad (sdfsdf) the links are working in Firefox, but not in Opera....\n. when i use the pad on my server:\nWhen i Try to open the Link with Opera, its just like Doubleklicking in a normal Wordpad Software ( 1 word of the link is getting highlighted)\nIn Firefox :\non one klick the whole Link (the Letters) are turning red as long as i holt the mousebutton\non doubleclick,  first the above for a milisecond, then the whole Link gets highlighted...\nmaybe this Info  helps... ;)))\nnow ill try to test it on my android phone with opera and the android stock browser... ;)\n. YES!! Thats it! Thank you so much... i should have read more the documentation... ;)\nAnd it's incredible how fast You are in Helping... ;)\nThanx again.. ;)\n. ",
    "adamjgrant": "Hmm, I'm having the same issue, but I don't see #2 or #3 implemented in the latest version.\n. I tried this in the pad.css file and it didn't work, should I be adding it somewhere else?\n. Okay noob question, how do I restart it, bin/run.sh?\n. Oops, you were right. Cache issue.  Thank you.\n. ",
    "esetera": "ah cool mon...thanks. we have implemented eplite in fm and it works nice...you need to login to see it but if u want to check it out you can visit this url:\nhttp://booki.flossmanuals.net/wordpress/_edit/\nthanks a lot. i will prompt people in fm see if anyone wants to doc etherpad-lite if you want some help\nadam\n. ok! added this:\nhttps://github.com/Pita/etherpad-lite/wiki/Embed-Parameters\nanymore parameters?\n. ",
    "canercandan": "Sorry I didn't see wiki pages. Thx.\nPS: I think you should add some links to the wiki pages in the README file. Forgot what I said, it was already done.\nRegards,\n. Fine, thank you.\n. ",
    "maacl": "Windows XP\nOn 8/18/11, Pita\nreply@reply.github.com\nwrote:\n\nWhich Windows version?\nOn Aug 18, 2011 5:41 AM, \"maacl\" \nreply@reply.github.com\nwrote:\n\nI have installed as per instructions but start.bat fails with:\nE:\\etherpad-lite-win\\node>..\\bin\\node server.js\n\u2190[32m[2011-08-18 04:36:32.850] [INFO] console - \u2190[39mServer is listening\nat 0.0.\n0.0:9001\nnode.js:205\n       throw e; // process.nextTick error, or 'error' event on first tick\n             ^\nError: No such module\n   at EventEmitter. (node.js:318:27)\n   at E:\\etherpad-lite-win\\node\\server.js:384:13\n   at E:\\etherpad-lite-win\\node_modules\\async\\lib\\async.js:484:34\n   at Array.\n(E:\\etherpad-lite-win\\node_modules\\async\\lib\\async.js:4\n08:34)\n   at EventEmitter._tickCallback (node.js:197:26)\nE:\\etherpad-lite-win\\node>\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/94\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/94#issuecomment-1837453\n\n\nSent from my mobile device\n. Node runs fine on Windows XP, so I don't think that is the issue.\nOn Thu, Aug 18, 2011 at 12:24 PM, Pita\nreply@reply.github.com\nwrote:\n\nafaik windows xp is not supported by node. This looks for me like a node internal error too\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/94#issuecomment-1837893\n. Trying cygwin instead.\n\nOn Thu, Aug 18, 2011 at 1:26 PM, Pita\nreply@reply.github.com\nwrote:\n\nhttps://github.com/joyent/node/issues/1553\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/94#issuecomment-1838224\n. Confirm appears to work with that line commented out. Isn't pdf export\nsuppose to be available as default?\n\nOn Thu, Aug 18, 2011 at 1:29 PM, Pita\nreply@reply.github.com\nwrote:\n\n@maaci Can you try to outcomment line 384 on server.js, just to get sure this causes the problem\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/94#issuecomment-1838243\n. Appears that pdf export does not work on Windows even with Abiword\ninstalled cf. http://www.abisource.com/wiki/FaqCreatingPDFs\n\n/mac\nOn Thu, Aug 18, 2011 at 2:28 PM, Pita\nreply@reply.github.com\nwrote:\n\nOK, so I will add a if, so this line will not be used on windows\nyou can enable pdf by installing abiword on windows and add the path to the abiword exe in the settings\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/94#issuecomment-1838531\n. will do\n\nOn Thu, Aug 18, 2011 at 2:51 PM, Pita\nreply@reply.github.com\nwrote:\n\nok, please add a seperate issure for that\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/94#issuecomment-1838679\n. \n",
    "toco": "Ok, I was just wondering because the buttons to jump between the revisions still exist. These buttons should also be removed to have a consistent interface.\n. ",
    "prauscher": "What was the reason to not port this feature? Saving revisions is great, as in huge pads, the timeslider gets too uncomfortable to navigate.\n. If you want Serious authentification, you may want to use the HTTP API to create a Session (e.g. in PHP with etherpad-lite-client).\nAccording to faking userNames: etherpad lite allows users to change their username in Pad - to avoid username-faking we would have to change more code (Perhaps forbid Authors to change their Username via API?)\n. Hey, I got the same problem. Same occurs when calling the API by Hand, so this is no misstake in EtherpadLiteClient\n. @titomiguelcosta I think I debugged the Problem: EtherpadLiteClient requires you to send \"true\" (as a String) to setPublicStatus(). TL;DR: Bug is in EtherpadLiteClient, Patch can be found: https://github.com/TomNomNom/etherpad-lite-client/pull/7\n. Sorry, but to which point you refer?\n. No, the cookie has to be set by the Portal, since only the Portal will know the correct URLs.\n. @redhog Sorry, cannot reproduce this here:\njavascript\ndocument.domain = document.domain;\nalert(window.parent.location.href);\ngives me \"undefined\" and the following in my errorlog:\nUnsafe JavaScript attempt to access frame with URL http://192.168.100.166/~prauscher/padtest.php from frame with URL http://192.168.100.166:9001/p/test. Domains, protocols and ports must match.\nAlso, using window.parent won't work for read-only-URLs.\n. Hopefully my new pull requests #609, #610, #611 are \"correct\" from git-view :D\n. Would be a better solution, but my brain stopped me for no reason to do so ;-)\n. ",
    "itguy51": "If i'm not mistaken, the name would be like the title? What is shown on the editor, correct? not the URL, but the title, similar to \"New Pad\" or the like? If this is the case, I have put the logic in place to get and set these and merely need to know how to exchange the data from the pad view to the server to implement it.\n. If that is the case, clone the code from my fork of it, and see how it works. \n. So, that would involve changing the padID? Would this create any issues when done? For example, how would the system handle the other users when that is changed? (As in users, I mean people editing that pad) As far as I know, handling the edit would be the more difficult part. \n. I was taking a look at my console, and it was pushing the internal html structure and all of the tags up to the server, or is that a browser bug?\n. So, I would just guess it's a tracer bug, but, there are the elements with the ID name that contains magicdomid. Where are the generators contained? because if I can get to those, I can add the class to style the lines with a highlighter.\n. Alright. I might be able to do it in a little hack-ier way, and iterate through all of the  elements that are in the padbody, and highlight them one-by one, and add an onChange listener, which would be able to rehighlight the code. I will see where I can get and come back, posting the plugin.\n. I think I found one issue, the script does not reference the editor element by ID or in a way that I saw, yet if the tag is modified in any way, it freaks out and reverts it back to what it was before. I cannot find out how it references the editor, and deals with the push/pull, but I am rather sure that it is not by ID, so I cannot see a way to fix that issue. I am not very good at CSS and Javascript operating together, so I might not be able to write a script to do the highlighting, as all of the existing ones use a one-off pass that disallows dynamic text. I will probably wait a little bit until the code is truly finalized and everything is in place, because I wouldn't want to have the module conflicting with future development.\n. Alright. I was just looking around, and didn't want to mess up any core functions, so I have moved to a side project for the time being. \n. True, But, looking at it, it appears not to have live syntax highlighting, so there would need to be an onKeyUp event or the like to re-render the highlighting.\n. I don't think the actual redraw should be too much of an impact, it's just that the editor itself isn't really an editor. It's just a bunch of DIV elements that layer, and that is a requirement. Since the code-prettify converts the content to preformatted text, we would more likely have to actually rewrite it in such a way that it styles the elements. \n. Have we gotten a way to change the language for highlighting language?\n. What I meant, was, is there any possible way to implement a dropdown or the likes to select the highlighting language?\n. I'll see if I can tweak it so that the syntax highlighting (When On) will switch to an underlined authoring color, instead of an over highlighting. \n. Also had this bug, decided to push my solution to https://github.com/itguy51/etherpad-lite - It just fades through the languages (Similar to the iPhone's \"Slide To Configure\" when you first get it)\n. That is correct. I have applied a fix that would make the API and the index page with the \"Create/Open a pad\" sanitize the inputs as such, along with a patch for the Express server that will throw the errors (Express incrementally adds routes, so as long as the catch-all is after the normal routes, there are no problems with having a 'bad-route catcher')\n. Will place on Develop (Apologies, I had refreshed my browser window and forgotten to set it back to develop)\n. If I were to open http://localhost:9001/api/1/createPad?apikey=APIKEY&padID=asdf/asd from the current master code in a browser, I would get the following response\n{\"code\":0,\"message\":\"ok\",\"data\":null}, so some characters will be allowed as PadIDs, while not letting the pad be web-accessible, unless this was the intended behavior. \n. I put this in to give a cleaner response for bad padnames, it's not 100% required, it would just make the padnames like /p/asdf/ghjk return a Such a padname is forbidden instead of a Cannot GET /p/asdf/ghjk - Just a little nicer looking. \nCommented out because this currently is untested, and could possibly interfere with arguments passed to the pad.\nIt is still being worked on. \n. ",
    "jaseemabid": "How do i see the list of all pads ?\n. @johnyma22 The main link for the project still leads to the same link. lol seeing fights over github !\n. @johnyma22 yeah ! the port number in the url makes it looks odd :~\n. Okey now when are you going to change the main link at https://github.com/Pita/etherpad-lite/ ?\n. Yeah ! I live behind an ugly college firewall :( Never noticed..\n. ",
    "JashanChittesh": "Yup, seems like that's precisely the one. Could I just install the patched driver in my local installation?\n. Awesome! Thanks!\n. ",
    "ghost": "@Pita thanks for positive and ultraspeed answer :)\nYes translation is definitely important. etherpad-lite can easily reach a worldwide audience it deserves but English is not the only spoken language on the globe :)\n. Every :) well French to begin with. The idea is to pass the word to the multilingual community we have on babelzilla.org and ask for volunteers to provide their own lang file.\n. WOW, this is great and we have been testing it here http://clochix.net:9001/p/test with success  - tooltips are in French using this file\nhttp://www.wuala.com/goofy_frenchmoz/Public/fr-pad.json/\nthat you are welcome to commit in your github thing. \nplease let me know as soon as you have a more complete JSON lang file (covering all interface strings if possible) and I will request for translations on http://www.babelzilla.org\nThanks very much, keep rolling!\n. The invitation to provide translations has been made here http://www.babelzilla.org/forum/index.php?showtopic=6907&hl=\nNote that a user has spotted a tiny typo in the English interface\nhttp://www.babelzilla.org/forum/index.php?s=&showtopic=6907&view=findpost&p=60743\n. Le 14/09/2011 12:40, Peter 'Pita' Martischka a \u00e9crit :\n\n@goofy-bz The typo is no problem for the translation, just ignore it, I will fix that later. Anyway I can't find any translated files there...\nhello :)\nat least here is one available here\nhttp://www.babelzilla.org/forum/index.php?s=&showtopic=6907&view=findpost&p=60916\n\ncheers\n- goofy\n. Hi dev team, what is the current status of this issue? It seems there has been some way to push i18n for .html files and thus allow easy translation one year ago, but now it is no longer available(?)\nThe French community of free software I belong to is currently testing etherpad lite on its own server, using it as collaborative platform. Of course we could translate hardcoded strings, but it is a rather dirty solution, we would much prefer having one separated en-US file (JSON or properties or whatever) as a basis for all translations. \nAt this point of development, main interface is probably stable now, and if extracted strings are maintained in a dictinct file, it is no huge job to update translations if necessary.\nPlease consider etherpad lite is not just a toy for geeks who are supposed to be fluent in English, but should be  developed as an universal tool. \nThanks for any effort in that direction.\n. Side suggestion: here is a smart process to localize strings in html files (used on B2G/Firefox OS to come) https://github.com/fabi1cazenave/webL10n pehaps this same kind of trick could be used for etherpad lite? \n. But what if I want to protect the entire EtherPad?\nWhat if I want to allow only persons successfully authenticated, the creation of pads? \n. An other few years later the error occures again.\netherpad crashes when the pad contains UTF-32 Characters like '\ud83c\udf46' and '\ud83d\ude02'.\nI'm using abiword (3.0.2-2) and Etherpad 12cb8e0d.. I can confirm this error. Happens here, too - and quite often:\n[32m[2012-02-15 20:25:03.203] [INFO] socket.io - \u001b[39mhandshake authorized '19096085731888606335'\n[32m[2012-02-15 20:25:03.344] [INFO] message - \u001b[39mfrom 19096085731888606335: {\"component\":\"pad\",\"type\":\"CLIENT_READY\",\"padId\":\"acta\",\"sessionID\":null,\"password\":null,\"token\":\"t.SqBzbb3RoE4Nb9fWY8P4\",\"protocolVersion\":2}\n\u001b[31m[2012-02-15 20:25:03.353] [ERROR] console - \u001b[39mTypeError: Cannot read property 'author' of undefined\n    at /var/lib/etherpadlite/etherpad-lite_tmp/node/handler/PadMessageHandler.js:740:58\n    at /var/lib/etherpadlite/etherpad-lite_tmp/node_modules/async/lib/async.js:494:21\n    at /var/lib/etherpadlite/etherpad-lite_tmp/node_modules/async/lib/async.js:194:13\n    at /var/lib/etherpadlite/etherpad-lite_tmp/node_modules/async/lib/async.js:118:13\n    at /var/lib/etherpadlite/etherpad-lite_tmp/node_modules/async/lib/async.js:129:25\n    at /var/lib/etherpadlite/etherpad-lite_tmp/node_modules/async/lib/async.js:196:17\n    at /var/lib/etherpadlite/etherpad-lite_tmp/node_modules/async/lib/async.js:499:34\n    at /var/lib/etherpadlite/etherpad-lite_tmp/node_modules/async/lib/async.js:199:13\n    at /var/lib/etherpadlite/etherpad-lite_tmp/node_modules/async/lib/async.js:105:25\n    at /var/lib/etherpadlite/etherpad-lite_tmp/node_modules/async/lib/async.js:196:17\n[32m[2012-02-15 20:25:03.353] [INFO] console - \u001b[39mgraceful shutdown...\nactually, it's getting critical for some organisazional tasks, as it crashes about 2-3 times per hour.\nI've made a clean install of node and etherpadlite to exclude any update-errors.\n. correction: i only thought, that the new clean install was in use, but it wasn't. i'll see, how it works now. Sorry for the wrong information.\n. still the same error:\n[2012-02-15 23:52:42.605] [ERROR] console - TypeError: Cannot read property 'author' of undefined\n    at /var/lib/etherpadlite/etherpad-lite/node/handler/PadMessageHandler.js:865:71\n    at /var/lib/etherpadlite/etherpad-lite/node_modules/async/lib/async.js:462:21\n    at /var/lib/etherpadlite/etherpad-lite/node_modules/async/lib/async.js:194:13\n    at /var/lib/etherpadlite/etherpad-lite/node_modules/async/lib/async.js:97:13\n    at Array.forEach (native)\n    at /var/lib/etherpadlite/etherpad-lite/node_modules/async/lib/async.js:26:24\n    at /var/lib/etherpadlite/etherpad-lite/node_modules/async/lib/async.js:96:9\n    at /var/lib/etherpadlite/etherpad-lite/node_modules/async/lib/async.js:193:9\n    at Object.map (/var/lib/etherpadlite/etherpad-lite/node_modules/async/lib/async.js:177:23)\n    at Object.parallel (/var/lib/etherpadlite/etherpad-lite/node_modules/async/lib/async.js:460:19)\n. Thanks for the answer, I don't use sessions. I had a look at the code myself. As far as I understand, sessioninfos[pad2sessions[message.padId][i]] is undefined and the only thing that happens here is to kick other instances of the same user. I'll try to simply exclude this case, as etherpad would restart anyway then. Does somebody know, if I get any inconsistency by this workaround?\n. Alright, I'll use the etherpad.org-button for now. Claiming will still help people, because they can use browser-addons etc. to flattr the project on github rather than having to search for it on the mainpage.\nThanks for the quick answer!\n. Same here (like Chuiby) PUSH!!!\n. Okay but how can i fix it?\n. I use Win 7 Mozilla 11.0/ Chrome 18.0.xxx\nServer is Ubutnu 10.04 LTS with Apache \n. Yep\n[17:23:21.392] The module at \"/pad\" does not exist. @ http://88.198.116.77:9001/static/js/require-kernel.js:1\n. not at all Chrome isn\u00b4t ok @ me\n. If you on windows use: \nI explained in bit more details on my post Error can not find module but bottom line it can be fixed (on Windows) by:\n. Anything new on the pseudo groupID idea?\n. I am using etherpad-lite for a project and we developed a really nice\ncustom icon set we are willing to release under MIT to show our thanks.\nIf anyone is interested email me directly at dylan@fyrware.net\nP.S. Also how do you get off this list? I don't remember how I even got on\nit and my github notifications are disabled unless they changed.. Also\nsorry if I derailed this topic in any way I am responding directly from\nemail.\nOn Tue, Aug 28, 2012 at 3:11 PM, Mark Holmquist notifications@github.comwrote:\n\nThe images are technically under the Apache 2.0 license, which however\nnice, isn't ideal.\nI'd suggest using CC-BY-SA, CC-BY is also good (and in keeping with the\nuse of Apache).\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/Pita/etherpad-lite/issues/962.\n. Honestly they could be public domain for all I care, just offering them if\nits wanted\n\nOn Tue, Aug 28, 2012 at 3:45 PM, Mark Holmquist notifications@github.comwrote:\n\nHi!\nI think we need to put images under a media-type license as opposed to a\nsoftware-type one. And while others may disagree, I'd much prefer a\ncopyleft-type media-type license, hence CC-BY-SA.\nIn other words, however cool it would be to have icons, I'm not fighting\nfor something under MIT license and wouldn't fight for CC-BY either.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/Pita/etherpad-lite/issues/962#issuecomment-8104520\n.\n. @jibundeyare I can confirm your solution works.\n. For me, using mysql the padList is not initialized (or remains empty) on epl start. Once opend pads are listed though.\n\nLog says:\n[2013-01-22 22:05:46.009] [DEBUG] ueberDB - GET    - pad:-:: - [] - from database\n. With an updates ueberDB it works. thx\n. I recieved a similar error.\n\nAn error occured\nThe error was reported with the following id: '3GTaOBPQZdzaaIdOvPxS'\nPlease send this error message to us:\n'ErrorId: 3GTaOBPQZdzaaIdOvPxS\nURL: http://localhost:9001/p/prueba\nUserAgent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1516.3 Safari/537.36\nUncaught TypeError: Cannot call method 'setChannelState' of null in http://localhost:9001/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define at line 3'\n\nI tried what was indicated by @marcelklehr  but received the following error when attempting the bin/run.sh again\n\nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\nbin/installDeps.sh: 71: cd: can't cd to ep_etherpad-lite\nnpm ERR! install Couldn't read dependencies\nnpm ERR! Error: ENOENT, open '/opt/openerp/etherpad-lite/package.json'\nnpm ERR! If you need help, you may report this log at:\nnpm ERR!     http://github.com/isaacs/npm/issues\nnpm ERR! or email it to:\nnpm ERR!     npm-@googlegroups.com\nnpm ERR! System Linux 3.8.0-22-generic\nnpm ERR! command \"/usr/local/bin/node\" \"/usr/local/bin/npm\" \"install\" \"--loglevel\" \"warn\"\nnpm ERR! cwd /opt/openerp/etherpad-lite/node_modules\nnpm ERR! node -v v0.10.8\nnpm ERR! npm -v 1.2.23\nnpm ERR! path /opt/openerp/etherpad-lite/package.json\nnpm ERR! code ENOENT\nnpm ERR! errno 34\nnpm ERR! \nnpm ERR! Additional logging details can be found in:\nnpm ERR!     /opt/openerp/etherpad-lite/node_modules/npm-debug.log\nnpm ERR! not ok code 0\n. Weird thing is that, I see there should be some logs in node_modules/npm-debug.log\n\nHowever, when I get there, the node_modules directory is non-existent. I recreated the directory and set the ownership to my 'openerp' user, run the bin/run.sh ... and find that the directory is gone! I'll try recreating and 'touch'-ing the log file.\n. The thing is, it worked correctly with a \"mixture\" of epl 1.2.7 and a git checkout of ueberDB 0.1.90 or 0.1.91. Just did a clean install because I messed up something while playing around with some plugins.\nDebug output after startup is:\n......\n[2013-02-22 19:29:30.465] [DEBUG] ueberDB - GET    - pad:-:: - [] - from database\n[2013-02-22 19:30:02.048] [INFO] API - REQUEST, v1.2.7:listAllPads, {\"apikey\":\"****_\"}\n[2013-02-22 19:30:02.049] [INFO] API - RESPONSE, listAllPads, {\"code\":0,\"message\":\"ok\",\"data\":{\"padIDs\":[]}}\n[2013-02-22 19:30:02.057] [INFO] http - 200, GET /api/1.2.7/listAllPads?apikey=*_****\n. ueberDB 0.1.93 seems to do the job. Forgot to change the dep.\n. FWIW, it's slow and resource-intensive enough to completely lock up an RPi\n. Sorry bud, I know those TLAs can be a PIA sometimes ;)\nI brought it up because running the server itself is fine (haven't tested with more than 10 users yet) on a Pi--only when it tries to build the plugin list does it go down.\n. Can anybody please give me answer ????\n. I made the plugin as below....\nep.json\n{\n           \"parts\": [\n            {\n                       \"name\": \"ep_disable_init_focus\",\n                      \"client_hooks\": {\n                       \"postAceInit\": \"ep_disable_init_focus/static/js/disable_init_focus:disableInit\"\n                      }\n            } ]\n      }\n\npackage.json\n{\n                                    \"name\": \"ep_disable_init_focus\",\n                                    \"version\": \"0.0.1\",\n                                    \"description\": \"Disables init focus in etherpad-lite.\",\n                                    \"dependencies\": {},\n                                    \"engines\": {\n                                             \"node\": \"*\"\n                                     },\n                                     \"author\": {\n                                                \"name\": \"Hitesh Trivedi\",\n                                                \"email\": \"thiteshm155@gmail.com\"\n                                      },\n                 }\n\nstatic/js/disable_init_focus.js\nexports.disableInit = function() {\n                        console.log(\"demohitesh\");\n                        /*   Now what i have to write here so mention above \n                                      setTimeout(function()\n                                     {\n                                                 padeditor.ace.focus();\n                                      }, 0);\n                                   This not execute or unbind this focus event ???  \n                        */ \n            return;\n           }\n. Actully you are right but in my case it is not possible ,i m not getting that how to disable it with blur .\ni just want to overrite this or disable it\nWhen pad initialise it shoud not be fired , so what to do for that ?\nSo please can you write the code for that at \"exports.disableInit\" as i mention above ?\n. How to use : editorInfo.ace_focus(?)\nCan you give me ans plz ??\n. Let's make a deal: I'll improve the rest of the wiki if you help me figure out where the author color brightness is being set :P\n. Yup, as per the IRC conversation from a couple weeks ago. It doesn't play nice with dark themes.\n. Thanks. I'll start an issue over at the ep_themes repo and take a look in a few days.\n. Sent.\n. New Re: email sent (today).\n. You're welcome. Thanks for the quick fix!\n. I think I found a way now, to make internal objects accessable in firebug:\n1. hook into postAceInit and aceInitialized, they provide the objects { ace={...}, pad={...}}, and { editorInfo={...}, rep={...}, documentAttributeManager={...}} via context argument. \n2. store the needed internal objects somewhere to the global accessable context.\n3. call editorInfo.ace_inCallStackIfNecessary('xyz', function () { \n   /*do something with one of those object*/ });\nI'm not sure what the first string argument (called type) of ace_inCallStackIfNecessary is exactly for (see https://github.com/ether/etherpad-lite/blob/develop/src/static/js/ace2_inner.js#L534), as I still dont fully understand how the callstack works and I don't know if this causes any unwanted side effects. \nOne could wrap that behind an interface in the core, a debugging plugin or similar.\n. That's the way I tried it, but got only boolean values, and looking at the source code of the function https://github.com/ether/etherpad-lite/blob/develop/src/static/js/ace2_inner.js#L2325 I also only found boolean returns.\n. The ep_font_size plugin uses only boolean values for attributes (like fs12=true) so it is not affected by the problem.\n. For a given position it turned out to be not as difficult to implement as suspected. So I added the function to the AttributeManager and created a pull request. \nBut for a range, after thinking about it, I am not yet sure, what a function should reasonably return if the selected range overlaps attributes. So maybe I come back to this point later.\n. Hmm, that does not work for me.\naceRegisterBlockElements\nThe return value of this hook will add elements into the \"lineMarkerAttribute\" category, making the aceDomLineProcessLineAttributes hook (documented below) call for those elements.\nThis seems to adress only block/line attributes, I'm looking for something that handles inline attributes. \n. With inline attributes I mean an attribute that is applied to e.g. just a word of a line. A line or block attribute in my view refers to the whole line (e.g. a heading, list) and needs the whole line marker thing (* and so on). Is my view false?\nMy problem refers to the first case, aceRegisterBlockElements to the latter. \nNow I tried it with ep_font_size: If I remove the function aceRegisterBlockElements from the code, everything I see still works. But if I uncomment the line context.cc.doAttrib(...) in shared.js (https://github.com/JohnMcLear/ep_font_family/blob/master/static/js/shared.js#L8), it doesn't work anymore. So this function call must be responsible for the desired behaviour, but unfortunately I cannot apply it to my use case, because I have key-value-attributes.\n. Unfortunately I'm not yet familiar with testing in etherpad, though I would really appreciate to have test coverage. Shouldn't it be possible to add tests in etherpad itself? At first glance I didn't find any tests for AttributeManager in https://github.com/ether/etherpad-lite/tree/develop/tests.\n. Hmm, I have no idea how to add that functionality to the core.\n. Where should those docs go to?\n. Can't a line just be added to the minified version in order to make it compliant? They did it both on the Wikipedia and FSFE instance.\n. What minifier do you use to build the minified version of Etherpad by default?\n. OK, rather than mess with the JS I think it's best to modify the HTML templates directly. \nEdit: Done, posted a PR at #3059 \n. All the files that would need to be modified are here. In short:\n/static/js/jquery-2.1.1.min.js\n/static/js/jquery.js\n/static/js/html10n.js\n/static/js/l10n.js\n/static/js/socket.io.js\n/static/js/require-kernel.js\n/static/custom/index.js\n/static/custom/timeslider.js\n/static/custom/pad.js\n/static/js/admin/plugins.js\n/static/js/admin/minify.json.js\n/static/js/admin/settings.js\n/static/js/admin/jquery.autosize.js\nThe change required for each JS file is pretty small:\njavascript\n// @license magnet:?xt=urn:btih:8e4f440f4c65981c5bf93c76d35135ba5064d8b7&dn=apache-2.0.txt\n// All code\n// @license-end\nThird party scripts would of course need to have the same stuff on them, but that goes beyond what you can do (since those fall under the of responsibility of their respective authors).\nI did not link to third party files in my PR - external links point to the licenses, which LibreJS needs. All links to Etherpad script are local.\nThe only issue with modifying the JS files directly is that when a library like Socket.IO is updated, it's easy to forget about @license and @license-end but of course, we could make a Makefile target to do that automatically.\nDo you want me to change #3059 to use comments like I showed you above instead an external HTML page?\n. The problem with doing external JS files is that some (like socket.io.js and require-kernel.js) are downloaded by NPM separately from the repo, so the licensing info can't be applied to them directly.\nThe only way to get around this would be to set up a \"postinstall\" NPM script as explained here. I never tried it though, but it should work. Do you want me to go ahead with it?\n(Side note, the HTML page is 100% static and cannot be exploited)\nEdit: I ran some tests from LibreJS' own fixtures and the magnet link method does not work for external scripts, each of them needs the entire license notice. That's a lot of extra bandwidth needed to deliver the same scripts! I now suggest the HTML method is used instead.\n. No I didn't follow this issue anymore.. Same for me, this problem cannot be introduced very long ago. I wonder if this problem is due to the deprecated graceful-fs module or some new feature in etherpad, requiring plugins to have a locales-directory, breaking almost every plugin out there. I'm still trying to figure out a working combination of node and etherpad version :-/\n. Using the master-branch of etherpad instead of develop seems to work for me.\n. Well I would not close this issue, as this bug has to be fixed before it will be merged into master some day.\n. There are no broken pages in this PR - try it yourself :smile:\nIt's LibreJS that breaks, but as I said, it's something they should look into, because as far as I know everything was set up correctly (proven by the fact that nearly all scripts are detected as free). As a proof of that, there are no blocked scripts, only these errors given by LibreJS:\n```\nerror parsing: b8a4179684707f366ec7f0e06c9eedccc4677eb9\nhttp://localhost:9001/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define\nerror parsing: 205296743f94aa3aa1c7d2ed860fb278b53c68d8\nhttp://localhost:9001/javascripts/lib/ep_etherpad-lite/static/js/ace2_common.js?callback=require.define\nerror parsing: 3fd3f3096ff407c26a846d6b9dd4433377ef1410\nhttp://localhost:9001/socket.io/socket.io.js\n```\nIn short, Etherpad would not work only for people using LibreJS (as it already doesn't). Only this time it's LibreJS that needs to be patched in order to fix this issue, everything should be fine on Etherpad's part.\n. yes i have, ive reset the server several times\nOn Wed, Apr 26, 2017 at 12:05 PM, Luiza Pagliari notifications@github.com\nwrote:\n\nDid you restart Etherpad? New plugins installed out of the /admin page\nwon't be loaded until Etherpad is restarted (as far as I know)\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/3176#issuecomment-297460079,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AYW867Grl4VhOFKku9NG7X07u9_DBSC0ks5rz2tQgaJpZM4NIR2n\n.\n. Same Issue here:\n\n[2018-02-03 17:58:06.902] [ERROR] console - Failed to load 'ep_copy_paste_images/static/js/index' for 'ep_copy_paste_images/ep_copy_paste_images/hooks/collectContentPre': ReferenceError: window is not defined\n[2018-02-03 17:58:06.903] [ERROR] console - Failed to load 'ep_copy_paste_images/static/js/index' for 'ep_copy_paste_images/ep_copy_paste_images/hooks/collectContentPost': ReferenceError: window is not defined. I then upgraded to a new version. When EPL is now restarted by my supervisor, it crashes again when the slider for that document is used again. History views for other documents work fine.\nEPL version: 1.6.4 (6a38826e9dd49b256a89fb57c779adcfff06bbf4). ",
    "rassie": "Is there any change on this one? It seems, some translation bits landed on develop and have been thrown out again.\n. Is 1.2 the version after the yet-to-be-released develop-merging 1.1? Or will develop become 1.2 later?\n. @jhollinger Shouldn't this be documented somewhere? The notion of group pads, groups and authors actually makes the impression that somewhere along the lines group membership will be enforced -- except it won't and you have to dig really deep to get that.\n. It certainly still is :) I even opened a PR  #1299, which is probably hopelessly outdated. It also seems that strings like /dev/stdin seem to work if Ethepad didn't interpreted every filename as relative to current directory. A small patch for that and it would work...\n. @johnyma22 Care to link that rejected pull request? IE8 is quite a blocker for me (I opened #662).\n. @johnyma22 any exact commit? I don't quite know where to look in that repo...\n. I hadn't had a chance to check, thanks @marcelklehr!\n. @Wikinaut I'm curious, how would using xargs help in case of generated settings.json? For the record, I'm using a locally-patched version like this in my Django project (using django-etherpad-lite):\npython manage.py generate_etherpad_settings | node etherpad/node/server.js -s -\n. Hmm. So I've tried solving this problem cross-platform and I'm reaching the end of my NodeJS-fu. The problem is that while loading files works synchronously, I couldn't get stdin to load syncronously as well. Current patch now loads the settings file asynchronously either from a file or stdin, but I don't feel this is the right direction.\nFeel free to comment, merge or discard at will.\n. @marcelklehr Yeah, seen that too, but I'd prefer new dependencies to be added by maintainers, not by myself ;-)\n. Couldn't make that work -- size has always been 0. That's where my knowledge of NodeJS ended, I suppose I need to do something with the stream before reading -- but what?\n. In my limited testing it seems /dev/stdin would be accepted as a valid settings filename if Etherpad considered it absolute instead of relative. So this PR is actually long obsolete, I'll open up an issue for relative vs. absolute filename handling.\n. I might be completely mistaken since apparently path.resolve does exactly that, closing until further notice.\n. path.resolve part is correct, but path.join isn't.\n. Cheers to our penetration tester ;-) Seems OK to me, thanks!\n. Thanks again for the checkup, I've just made it work in my project and frankly, I tend to forget other operating systems other than Linux.\nSo basically, it should be something like this (probably pseudo-code):\n```\nvar settingsStr = \"\";\nvar flag = true;\nprocess.stdin.resume();\nprocess.stdin.setEncoding('utf8'); // TODO: Get current system encoding\nprocess.stdin.on('data', function (chunk) {\n  settingsStr += chunk;\n});\nprocess.stdin.on('end', function () {\n    flag = false;\n});\nwhile (flag) {};\n```\nRight? (I'm no Node-expert, far from it)\n. I'll update the patch as soon as Christmas is over, don't have a remote link handy right now.\n. ",
    "andrehjr": "Can't reproduce this..\nall revisions from a pad were removed when '/api/1/deletePad', and when I created a pad the defaultPadText appeared and not the old contents.\nThis issue can be closed I think.\n. https://github.com/Pita/etherpad-lite/pull/203 just made a pull request, check it out :)\n. ",
    "mdebus": "Ok, never mind. Just installed Abiword. :)\nKeep up the good work!\n. +1\n. ",
    "pucicu": "Hello,\nwhat has been the problem, or how it could be fixed? \nWe have etherpad lite running on an opensuse 11.1. We tried to export the pad content as a word file but Abiword crashed and caused etherpad lite to crash. It took some efforts (just re-installing abicommand plugin) to get it running again. But now it shows only \"loading\" if we like to connect to our used pad or even when we try to create a new pad. Because I thought that the sqlite.db is perhaps corrupted due to the crash, I renamed it and recovered an older db from the backup system. But also this is not working. This is a bit surprising. I thought that it would be possible to use backups of the sqlite-db. Why it cannot start the old pad? The backup is from the night, when nobody has worked on the pad, thus, the db was untouched at the time of the backup. It would be nice if we could use either the old backup db or the latest state of the db just before the crash (which I have as a copy).\nMoreover, the db is meanwhile mor ethan 400MB large, although the pad content had not as much content. Is there way to drop useless older revisions? But the first problem is of course much more important.\n. I will send you a link where you can find the db to your email address.\n. Yes, it is. Unfortunately, I haven't received any further replies up to now. I'm still very concerned about the reliability of Etherpad lite as it is not able to work with a DB restored from the backup system.\n. How different are the performances between using sqlite and mysql for etherpad lite?\n. i had looked before in the web for this question, but, no, the answers have not been really helpful. as far as i know, the structure how the data is stored in the DB is very important. and i have seen that etherpad-lite stores all data only in one mysql-table. i have concerns that this might slowing the DB access. moreover, my experience now with etherpad lite and sqlite is not really promising. i would like to use etherpad lite for collaborative working on longer texts, say 5-15 text pages in format A4. but even working on a 7 pages text with 2 persons growth up the DB to half a gigabyte. how large this DB will be if we work on 10 different projects and with more than 20 people? i'm concerend that the DB will increase to quickly and that its size will affect the performance so much that etherpad is not able to work anymore.\nperhaps etherpad lite is not the right tool for our purpose. my hope was that we could replace google docs with etherpad lite.\n. aha, i see. i'm sure that etherpad lite is very useful for small texts and snippets.\nbut for our purpose it would be necessary to have some management tool allowing for removing old pads and also older revisions of still active pads (say, removing text versions before a certain date). if such could be implemented it would also be very useful for our professional work.\n. > Does:\n\nmysql -utestadmin -ptestpw store\nwork?\n\nyes, of course. i have even tested access to the database by writing a simple test php file. i could connect without any problems.\n\njust a stupid thinking,did you comment out all the following lines:\n\nyes, of course. it must be a more serious problem with etherpad-lite as I can connect to the database and test it with another php script.\n. Hi,\nI haven't closed this issue. At least, I don't know how and when I should have done this. \nThus, I'm still fighting with this problem.\n. ok, here are my settings:\n```\n/*\n  This file must be valid JSON. But comments are allowed\nPlease edit settings.json, not settings.json.template\n*/\n{\n  //Ip and port which etherpad should bind at\n  \"ip\": \"0.0.0.0\",\n  \"port\" : 9001,\n//The Type of the database. You can choose between sqlite and mysql\n  //the database specific settings\n  /\"dbType\" : \"dirty\",\n  \"dbSettings\" : {\n                   \"filename\" : \"../var/dirty.db\"\n                 },\n  /             \n  / An Example of MySQL Configuration/\n   \"dbType\" : \"mysql\",\n   \"dbSettings\" : {\n                    \"user\"    : \"testadmin\", \n                    \"host\"    : \"localhost\", \n                    \"password\": \"testpw\", \n                    \"database\": \"store\",\n                    \"port\":\"3306\"\n                  },\n//the default text of a pad\n  \"defaultPadText\" : \"Welcome to our experimental Etherpad Lite\\n\\n\\n\",\n/ if true, all css & js will be minified before sending to the client. This will improve the loading performance massiv\nly, \n     but makes it impossible to debug the javascript/css /\n  \"minify\" : true,\n/ This is the path to the Abiword executable. Setting it to null, disables abiword.\n     Abiword is needed to enable the import/export of pads/\n  \"abiword\" : \"/usr/bin/abiword\",\n  /\"abiword\" : null,/\n/ The log level we are using, can be: DEBUG, INFO, WARN, ERROR /\n  \"loglevel\": \"DEBUG\"\n}\n```\n. ok, done. here is the log file output:\n```[2011-09-05 12:13:21.944] [INFO] console - { user: 'testadmin',\n  host: 'localhost',\n  password: 'testpw',\n  database: 'store',\n  port: '3306' }\n[2011-09-05 12:13:22.082] [INFO] console - Your Etherpad Lite git version is 7e4bba0\n[2011-09-05 12:13:22.082] [INFO] console - Report bugs at https://github.com/Pita/etherpad-lite/issues\n[2011-09-05 12:13:22.088] [ERROR] console - ERROR: Problem while initalizing the database\nRESTART!\n\n. if I try to start with bin/run.sh then I get a hint that the problem is in net.js. Is there perhaps something wrong in node.js?\n```\netherpad-lite@tocsy:~> bin/run.sh \nEnsure that all dependencies are up to date...\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2011-09-06 11:53:59.096] [INFO] console - { user: 'testadmin',\n  host: 'localhost',\n  password: 'testpw',\n  database: 'store' }\n[2011-09-06 11:53:59.230] [INFO] console - Your Etherpad Lite git version is 7e4bba0\n[2011-09-06 11:53:59.230] [INFO] console - Report bugs at https://github.com/Pita/etherpad-lite/issues\n[2011-09-06 11:53:59.235] [ERROR] console - ERROR: Problem while initalizing the database\n[2011-09-06 11:53:59.236] [ERROR] console - Error: ECONNREFUSED, Connection refused\n    at Socket._onConnect (net.js:601:18)\n    at IOWatcher.onWritable [as callback] (net.js:186:12)\n```\n. I have not changed any ports. Ethetpad lite uses the default port 9001, and this works as far as I run it with sqlite. Mysql is also using default port 3306; others of my websites using mysql are working and I also can connect to the database \"store\" by using an own test php script.\nHowever, as the server is in the DMZ, alls ports are closed. The only ports open from outside are 80 and 22.\n. Hi Pita, great! This was the right hint. Mysql wasn't listening. Listening was switched off by default for security reasons. Wouldn't it be possible to use mysql via sockets as the other applications do it?\nThank you very much!\n. ",
    "Miserlou": "I want to see this feature, so I've posted a gig on Gun.io - http://gun.io/contracts/7/add-syntax-highlighting-to-etherpad-lite\n60$ to whoever adds this\n. AWESOME! I'm loving this.\nAt this point my only gripe is the user-text highlighting color being too dark, but that seems like I could be a detail left up to the person running the software.\n. What happened to this? Is there a plugin for image support?\n. Douug - what HTML are you testing with? I have found that this call is\nextremely\nfickle and even valid HTML will crash it in some cases.\nOn Wed, Feb 13, 2013 at 10:25 AM, Dooug notifications@github.com wrote:\n\nI tested the dont-die-on-bad-html branch. Any setHTML() API call no longer\ncrashes with an error. However, the pad content is always set to be blank.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1449#issuecomment-13509102.\n. Sorry, not crash, just produce the scenario you're describing.\n\nOn Wed, Feb 13, 2013 at 10:29 AM, Rich Jones rich@anomos.info wrote:\n\nDouug - what HTML are you testing with? I have found that this call is extremely\nfickle and even valid HTML will crash it in some cases.\nOn Wed, Feb 13, 2013 at 10:25 AM, Dooug notifications@github.com wrote:\n\nI tested the dont-die-on-bad-html branch. Any setHTML() API call no\nlonger crashes with an error. However, the pad content is always set to be\nblank.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1449#issuecomment-13509102.\n. You must include html and /html tags at the begining and end for it to work. I also found that I had to remove all spaces and newline characters, but that might have been voodoo.\n. Shouldn't that be a POST?\n\n\nOn Wed, Feb 13, 2013 at 10:53 AM, John McLear notifications@github.comwrote:\n\nafaik that should fail. I will find otu now why it's allowing it to be\nblanked.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1449#issuecomment-13510545.\n. Should that be a POST?\n\nAlso, appologies for previous misinfo! Checking now, it is not html tags which are required, but rather divs\n```\nhtml = \"\"\"This is an OpenWatch investigation pad.\n\n%(blurb)s\n\nWhat happened?\n\nWho is involved, and what did they say? Why?\n\nWho are the experts, and what do they have to say?\n\nWhat will happen next?\n\nContacts:\n\nName:Title:Email:Phone:Twitter:Facebook:LinkedIn:    \n\n\"\"\"\nfull_html = html % {'blurb': str(self.blurb)}\nfull_html = full_html.replace('\\n', '')\neplc.setHtml(self.pad, full_html)\n```\nThis works. This is python client code.\n. \nThis is the kind of functionality I'm talking about, as seen in Gmail.\n. ",
    "etinquis": "@Miserlou @dsmedia @Pita @johnyma22\nI've got a working implementation going at https://github.com/etinquis/etherpad-lite.  It incorporates a fairly significantly modified version of SyntaxHighlighter itself.  I'm not sure how plugins are supposed to be structured, so I shimmed in a solution.  If someone can give me a hint at how it should be set up, I can fix it.\nAn example startup script (from my custom/pad.js) can be found at https://gist.github.com/1305299.\nThe highlighting is run whenever a new domline is created, and it only runs on the single line.\nPlease feel free to have a look and try it out and let me know what you think.\n. MIT or GPLv3 (http://alexgorbatchev.com/SyntaxHighlighter/about.html#license)\n. @johnyma22 Thank you very much, and you certainly won't hear me complaining :)\n@Pita @johnyma22 @Miserlou  I pushed the plaintext version of the modified shCore.js up this morning.  It should be easier to maintain that way.  I stripped a lot of functionality out of it relating to the way the output was structured (inside a table, inside a div etc).\nI just pushed a fix and it's now working in Chrome, IE8, and Firefox 7.0.1 (the only browsers I have close at hand to test with).\n. @Pita I'm not sure of the best way to fix that.  You can customize it via CSS insofar as setting the background color manually, but that removes the user color altogether.  I'll give it some thought.\n@Miserlou I'll get something up asap.\n. @Miserlou It's now up at http://martynyork.com/node/.\nI found a bit of a showstopper in that multiline comments don't work because of the line-at-a-time method.  I'm not entirely sure how to deal with that.\n. @itguy51 In the gist that I posted, you would just change the 'java' in the line SyntaxHighlighter.highlight( {\"brush\": \"java\"} , args.node.children[i] ); to one of the languages you have included as per http://alexgorbatchev.com/SyntaxHighlighter/manual/brushes/.\n. I can confirm that it is possible (http://img407.imageshack.us/img407/9289/ethdropdown.png).  I'll clean up what I threw together and push it in the next couple days.\n. @johnyma22 @Pita  What's the best way to hook a function up to run post pad initialization?  I'm currently using the padcookie to store the chosen syntax, but the cookie isn't loaded until pad.init is called, which is well after the customstart function is called and where I'm doing the rest of my init stuff.\nAlso, are you aiming for a standard plugin interface that I should account for?  Something like a standardly named init function or something?\n. The method won't work insofar as the way I've written this works on a line-by-line basis.  I imagine that code folding would be possible if in no other way than by hiding the line divs that are folded, but it would have to take into consideration the whole text of the pad.  That's the reason why this method doesn't work for multi-line comments either.\nThat said, it should be possible.  The difficulty is likely in whether there's a nice way to find particular line divs in the pad (I'm not sure if there is).\n. Hasn't changed since I posted previously.  I had a few questions I posed on the 16th, do you know how you want the plugin structured, and is there a post-init hook that I can attach to for the use of cookies in the plugin (for the list of available/selected syntaxes in the menu)?\n. @johnyma22 @Pita \n. @Pita Are you still looking to put this into 1.1 then, without the full plugin system?\n. @Pita Sorry for the confusion, I don't mind holding onto it.  I was just asking to clarify.\n. available for the new plugin system: https://github.com/etinquis/etherpad-plugins\nI should mention, requires the hook included in this pull request: https://github.com/Pita/etherpad-lite/pull/647\n. @johnyma22  - Done :) http://search.npmjs.org/#/ep_syntaxhighlighting\n. I'm getting that error with pads on http://beta.etherpad.org in chrome at the moment, but I can't reproduce locally at all.  The syntaxhighlighting plugin isn't currently enabled?\n. @johnyma22 I'm actually getting 3 different results between opera, chrome, and firefox for beta.etherpad.org.  Firefox loads fine - without errors,  chrome fails to load with \"Failed to load resource: the server responded with a status of 500 (Internal Server Error)\", and opera fails to load with \"Uncaught exception: SyntaxError: Function constructor: failed to compile function\" in require-kernel.js.  Out of curiosity, did you have the patch at https://github.com/Pita/etherpad-lite/pull/647 applied when the plugin was enabled?\n. All the styling is a result of the library's css files (shCore.css and shThemeDefault.css).  I'll try playing around with the styles.  I can see that it's possible to remove the size restriction so that setting headings will change the size properly.\n. @Pita Is there a way to store client options in an individual pad-specific way?  I'm currently using a cookie to store syntax choice, but that will persist the choice when you switch pads, where I'd rather it didn't.\n. @johnyma22 Can you pull from https://github.com/etinquis/etherpad-plugins and confirm that the problems with headings and the caret are fixed?\n. @johnyma22 No it's not fixed, or no you can't?\nEDIT:: nevermind, I see what you're replying to.\nThe version number has been bumped.\n. I can indeed replicate on beta.etherpad.org, but it's serving the pre-update css.  Is minify caching the old version?\n. Threw something together using manic-sages stuff.\nRepository's here\nDoesn't automatically refresh when you change your name, so you will have to reload.\n. Unknown author is what shows up when a username can't be found in the historicalAuthorData array.  As far as I can tell, that array isn't populated besides during the initial load, so anything anyone writes will show up as unknown until the page is refreshed.\nI had a look, and I can't find a way to get usernames any other way at the moment.\n. @melicin see #297.  I hadn't seen these other two similar issues.  It was thrown together quickly, and still suffers from the same problems mentioned throughout.\n. What do you mean when you say you've got minify off?  Are you talking about in settings.json?  It looks like your server isn't serving minified/pad.js?callback=require.define which is causing the module problem.\n. @mnorton It doesn't really mean much to me either, it's just something I noticed was off. :)\nYou should be able to see if anything is missing by running 'git diff origin/master'.\nAre you running straight from node?  I.E. no proxy in front?\n. @cweider Could this be related to yajsml at all?\n. @mnorton  I'll see if I can get similar results from a debian box.\nCan you:\n- copy this into a file in your etherpad root\n- run git apply filename\n- run ep with node node\\server.js > out.log\n- post that log file to a gist?\nI'm just interested in the startup, so you can kill the process after a few seconds.\n. @cweider curl -v 'http://208.113.124.146:9001/minified/pad.js?callback=require.define' responds with 200, but it's just headers, there's no body. \ncurl -v 'http://208.113.124.146:9001/static/js/pad.js' looks to be behaving properly.\n. @johnyma22 What was the problem?\n. @johnyma22 @redhog This commit breaks something for me.  Starting up I get several errors like \"[ERROR] console - Failed to load 'C:\\path\\to\\etherpad\\node_modules\\ep_etherpad-lite\\node\\hooks\\express\\static:expressCreateServer' for 'ep_etherpad-lite/static/hooks/expressCreateServer' : Error: Cannot find module 'C'\"\nI'd guess an issue related to the path format in windows vs *nix?\nTrying to access any pages results in \"cannot GET /\" or similar.\n. @redhog @johnyma22 did this already https://github.com/Pita/etherpad-lite/commit/16edda7d46ffbe277d505e71f54cda1da2f00452\nEdit:: nevermind, see it's closed.\n. https://github.com/etinquis/etherpad-plugins\n. Sorry, fixed now\n. I meant the inability to post issues is fixed.  I'm working on the error itself.\n. I can't reproduce this locally because I can't get past an 'Access is denied' error at var editorDocument = outerFrame.contentWindow.document; in ace.js.  This happens on beta.etherpad.org as well. @johnyma22 @Wikinaut  Are either of you aware of a fix?\nEdit:  This is using IE8\n. ",
    "zeigerpuppy": "This is great!\nAny chance this method could work for code folding?\nI really want a collaborative LaTeX editor where the code sections can be folded away for users who only want to see text content.\nThis could have wider appeal than one would imagine at first!\n. this looks like a good change, maybe would please even more people if there was a \"darkness\" slider on the left of the palette that darkened/lightened the colour ranges.\n. Fantastic to hear this is taking shape, tables would be a major step forward!\n. ",
    "Finkregh": "you ppl might want to have a look at http://craig.is/making/rainbows :-)\n. ",
    "kirantpatil": "Hello,\nAny updates on this issue ?\nThanks,\nKiran.\n. ",
    "beppe9000": "is this plugin used on any public etherpad instance?. Thanks! By the way, I assume I need to host my own instance of etherpad lite to have access to an API key?. Thanks for the information!. ",
    "tenmandevil": "Are there any Etherpad lite iterations which has ability to insert html tables?\n. Thank you. Looking forward to the table support.\n. Yep, that was the problem. I replaced localhost with 127.0.0.1 in the settings.json file and mysql database is working now. \nThanks Pita.\n. We haven't done the frontend test, but we did reproduce the issue on beta.etherpad.org. \n. We did had some plugins installed, but we removed them all and tried the above scenario again, the pad still disconnects. \n. ",
    "cronopio": "@Pita @johnyma22 go for it! :-)\n.  i think this is work > usefull, and the usefull is not fill it because the backgrounds color are there for that\n. I think the better way its using locally, clone the repo, then npm install then bin/run.sh\n. @Pita yeah you rigth, check for node and npm versions are very important, im sorry the bump\n. ",
    "audreyt": "Also looking forward to table support; I've just added a matching offer to @johnyma22 's gun.io call at http://gun.io/contracts/10/.\n. ",
    "peteruithoven": "Not sure why the issue is closed? It isn't implemented (or just really hidden) and there isn't any mention of any plugin. \nI actually did find the following plugin:\nhttps://github.com/fourplusone/etherpad-plugins\n. Aha, thanks. But is it a bad link? Because I can't find it. \nPossibly add the correct link to https://github.com/Pita/etherpad-lite/wiki/Available-Plugins ? \nI've tried to clarify the ep_headers in the wiki. \n. Really great that you guys are working on an administration page, but for now I would be greatly helped with a simple example code that I could insert into the index.html that simply lists all the pads. I can imagine one of you has that laying around. \n. Maybe someone could collect a few of his favorite plugins concepts from the wishlist and try to get crowd funding to have them realized? Indiegogo for example has an Flexible Funding option, which lets you keep the money even though you didn't reach your goal. This would enable you to make a list of plugins and show people which plugins could be realized with what amount of money. \nMaybe John McLear? Since you created so many plugins already? \n. Yes, that is what I meant.\nhttps://hackpad.com/mlZvEsJykI5#Hackpad-Feature-Help > Creating a Table of Contents\nI'm afraid I can't help with the promotion, I'm pulling 80 hour weeks realizing another project the comming month. Which one aspect I'd like to see is it being a hub for free tools like Etherpad, Ethercalc, Diaspora, Redmine, Radicale etc. \n. No it's not, so that's why I still prefer Etherpad-lite. \nActually I find it a pity that they don't contribute back to Etherpad, because that shouldn't hurt their income. They can still make money by offering hosting and support. And as long as they keep investing in the software they should be able to stay ahead of their competition. Or maybe I'm just an idealist. \n. It's not hierarchical, but for that to happen you would also need a header functionality. \n(And on small screens, when you have a big list you can't see the bottom, it doesn't become scrollable when it doesn't fit)\n. My pleasure. \nhttp://etherpad.idea.informer.com/proj/?ia=67204\nI'm still having some problems with my Etherpad installation so I havent bin able to try out your first version. Installing it locally didn't work because of problems with Nodejs 0.10. \n. Oops, just found the separate repository. \nhttps://github.com/ether/etherpad-docker\n. Thanks @Gared! \n. ",
    "KingPin": "@pita thats the complete config for this Vhost\n@johnyma22 .ht bit shouldn't be the issue as .htaccess files aren't read either way, but removed, same issue.\n. maybe some rewrite rules are needed for the pads themselves?\n- i truly hate the goddamn comment and close button.....\n. @johnyma22 negative just the mime types etc. there are other vhosts but none interfere with this as far as I see.\n. thank you.\nftr : nginx version: nginx/1.0.5 from ubuntu natty 11.04 repo\n. Hi @johnyma22 apologies on delayed response, classes started a week or so ago so have been busy. im not sure why or how but a clean checkout of the repo fixed it all for me as far as I see. thank you for your time :)\n. ",
    "okin": "I'm sorry for not being precise enough. However Pita got the point I wanted to express.\n. Thank you, John!\n. Made a test and it works great.\nBut one thing irritates me: The number of notifications is not removed from the page title if I leave the chat open and the input field gains focus.\nI've assumed the number disappears when I click into the input but instead I have to close and reopen the chat.\nIs this a wanted behaviour?\n. ",
    "mitar": "+1\n. +1\n. I solved this by simply creating the files in advance. I do not see any downsides.\n. What is decision here? Why just closing it? This is a real problem for properly Dockerizing the Etherpad without giving write access to all files: https://github.com/tozd/docker-etherpad\n. It is unclear if this works correctly. Because if it works correctly, then we can just remove all this code. I can create the pull request for that.\n. I have not seen any plugin defining \"init_\" + plugin_name. Also, probably it is better for a plugin to check themselves if a database is missing and then initialize. Such file based approach is pretty fragile.\nI would vote to remove it. (Is this even documented anywhere?)\n. OK. But then this ticket is not resolved. Having to write to the file system to mark makes it hard to lock down. My workaround might break real plugins. So I think this should be reopened. Maybe the list of initialized plugins could be stored in the database?\n. OK, what about this, instead of writing those files into the source directory, we should write them into the var/ directory? So something like var/plugin_{plugin_name}_initialized file?\nSo it is easy to make the whole (source-less) directory writable by the Etherpad node.js process. But one cannot make it easy to create only one file, but prevent writing to other source files of the module.\n. ",
    "soul9": "+1, if it's possible, it would be nice also to highlight the tab/window for when someone is browsing while the pad is open...something like this http://stackoverflow.com/questions/37122/make-browser-window-blink-in-task-bar\n. If I click in the name entry field, it automatically replaces \"undefined\" by my previous name.\n. Pita: You can just reload the page, does it for me.\n. There seems to be an interface here https://github.com/johnyma22/etherpad-lite-pad-manager anyone know anything about it?\n. Oh, thanks for the info. Sorry but your site doesn't seem to load, is there an other place describing the migration? maybe it would be a good idea to add it to the docs?\n. yep, got it. I'll close this issue, not sure what I missed, where it recommends mysql for production, but i guess it's my bad...\n. same issue here, a commit between now and about two weeks ago causes this issue. I have proxy_buffering set to off in nginx.\nLast revision that works properly for me is 53bf7dc19dd4217dca6a9b454cdb72256aedcec1 , so the bug was introduced right at the next commit, saying 2e79bd50a3eb6ba6f3cdb5f30ad776f5249e7cc4 : fixed socket.io logging\nThanks\n. please try with revision 53bf7dc that's the last one that worked for me.\n. uh, should this be an issue with safeRun.sh aswell? because safeRUN.sh does redirect stdout and stderr...I use safeRun.sh and still get the same error.\n. I can confirm that lorenzogil's patch fixes the issue in all cases I have encountered (older firefoxes would also freeze on \"Loading....\")\n. ",
    "bingjie2680": "at least should assign very light colour for authors, because dark colour causes readability issues.\n. Hi, thanks for your quick response. my application runs on 127.0.0.1:80,  I set the cookie  to domain 127.0.0.1 and path to '/' while the etherpad lite runs on 127.0.0.1:9001, is there any trap here? thanks for your help.\n. no, I am not..should I use that?\n. Hi thanks for your quick respone. if you are talking about the comma after 'default',  then I am sorry, because that comma is only  used in here for a break, my command in the shell is       update-rc.d etherpad-lite default\nhope this is clear.\n. so I solved the LSB error reporting by removing double qoutes from the variable like this,\nfrom:\nPATH=\"/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/opt/node/bin\"\nLOGFILE=\"/var/log/etherpad-lite/etherpad-lite.log\"\nEPLITE_DIR=\"/usr/share/etherpad-lite\"\nEPLITE_BIN=\"bin/safeRun.sh\"\nto\nPATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/opt/node/bin\nLOGFILE=/var/log/etherpad-lite/etherpad-lite.log\nEPLITE_DIR=/usr/share/etherpad-lite\nEPLITE_BIN=bin/safeRun.sh\nbut even thought this issue is solved, I still can not start the service by runing command\n/etc/init.d/etherpad-lite start\nwhen I run this command, there is no error, but when I open the browser and access 127.0.0.1:9001, it just does not work.\nwhen I try to stop the service, the error says \" /etc/init.d/etherpad-lite: line 40: kill: (15994) - No such process \"\ndo you guys may be have some ideas? I really don't know any code in /etc/init.d/etherpad-lite, please kindly help me, thank you very much.\nby the way, if I directly run  bin/run.sh then it works perfectly.\n. I have later installed ubuntu instead. :)\n. just a stupid thinking,did you comment out all the following lines:\n\"dbType\" : \"dirty\",\n  \"dbSettings\" : {\n          \"filename\" : \"../var/dirty.db\"\n   },\n. I also have this issue for a long time, when the pad is embeded in a iframe, then I dont have pemission to access. so I also pass the session id through URL and knowing this has security issues. Looking for a better solution.\n. ",
    "jeff-h": "I hadn't realised this issue was here, so put something very similar at t https://github.com/Pita/etherpad-lite/issues/151#issuecomment-1989531 \u2014\u00a0my personal preference / use case would be for nobody to see colours just like you've implemented... thanks! \nHowever perhaps a nice feature would be to allow each user to decide for themselves whether they will have a colour, or no colour, on a personal basis. Thus you could had a colour, and I could have none, and I would see your edits in your colour. I am sure that's more complex to code though! :)\n. Sorry, I meant per user as in I could have a colour, and you could have none, and when we each look at our respective browser's copies of the document, we will both see my edits in my colour, and yours in none.\n. Did anyone have success with this? It would be great to have a CentOS ep-lite-as-a-service wiki entry.\n. I was just using eplite for a personal list and realised that I very often find myself selecting-all-then-clearing-all-colours. I realised I do it all the time. I'm wondering if you'd consider an option for \"no background colour\". Even with a couple of people, it isn't necessarily always desirable to attribute authorship of everything via colour.\n. ",
    "efault": "Was there a solution to this? Possibly having the same problem, both site and etherpad are also hosted on 127.0.0.1. I am creating a session and setting the cookie as in the example_big.php that comes with the php class. When trying to view an embedded pad (group pad, private). Etherpad server throws back;\nAuthentication try failed:{\"component\":\"pad\",\"type\":\"CLIENT_READY\",\"padId\":\"g.CvCtgCxIvV29Y2pB$w80i29j92f\",\"sessionID\":null,\"password\":null,\"token\":\"t.to9pLOoA8wsAqah2Mg20\",\"protocolVersion\":2}\nUnsure how to pass sessionID through iframe. \n. Got it sorted, Cookie was not being set correctly, tidied up my code, made sure setcookie() is being called before any  output. Also changed setcookie params to,\nsetcookie('sessionID', $sessionID, $validUntil, '/');\nAs my etherpad lite install is in a higher directory than where i was setting the cookie so the default path was wrong. \nNot an etherpad lite bug. When cookie is set correctly everything works as it should.\n. ",
    "Jorger": "Hi, I encounter the same problem, I'm doing the tests as follows:\nI downloaded the PHP library to make the connection with Etherpad locally, with example_big.php example, replace the values \u200b\u200bas:\n$ Apikey = \"The value is in the file APIKEY.txt\"\n$ HOST = 'http://localhost:9001/p';\n$ APIENDPOINT = 'http://localhost:9001/api';\nWhen I do the test from the page: http://localhost/etherpad/example_big.php, the PAD is created, but when running tells me I have no privileges.\nThe only difference is the port, apache (80) etherpad (9001), I see the cookie is created on the first (80).\nI have read several articles about this problem:\nhttps://drupal.org/node/1437034\nhttps://github.com/jhollinger/ruby-etherpad-lite/issues/5\nI know you're question has already been solved, but it does not work properly the solution given by @ efault\nThanks for your attention and help.\nJorge Rubiano.\n. Hi, thanks for the reply.\nEtherpad's version I'm using is 1.2.11 (the latest version).\nThanks for your attention and help.\nJorge Rubiano.\n. ",
    "wscott": "Not used?  That is the one feature I was missing to make this useful.\nPerhaps there is a config option to ALWAYS use monospace?\nI did discover I can add ?useMonospacedFont=true to the URL to control this.  Useful, but a bit awkward\n. ",
    "themasch": "@wscott: i absolutely second that! \n. ",
    "ggiammat": "I'm missing this feature too!\n. ",
    "vaab": "@wscott: I'm missing this feature too... \nI got to the same point: using '?useMonospaceFont=true' works, but I would be glad to set this to ALWAYS use monospace.\n. What I missed was a way to get monospace without having to change code nor change URLs. I guess that a simple configure option server side would make me happy. And this would be an \"Opt in\" as suggested by @johnyma2. I don't see the point of having a button in the interface as it clutters it (and I would have it alway ON while others would have it always OFF).\n. Hi Marcel ;) \nWell, etherpad-lite is using this weird paradigm of key/value store in relational database using ueberdb. And as far as I can see in my sqlite database, the pad names are used to create keys. While this isn't a problem in sqlite database (because ueberdb will use a variable sized text column type), its not the case for postresql nor mysql, which both will limit the size to 100 character length. Its worse for mongodb. I did a quick little survey, let summarize:\ndatabases current max key limit practicaly for etherpad:\n- already no practical limit: sqlite, redisdb, dirtydb, couchdb\n- a low limit that can be extended: mysql (limit to 100 in ueberdb code), postgresql (limit to 100 in ueberdb code)\n- a low limit that can NOT be extended: mongodb (<128)\n- no info found: leveldb\nI'm not an expert in all those database, but I did some quick google search, or glanced at the code of those I didn't find direct google answers.\nAn elegant solution would be to query ueberdb for the maximum key length to the db driver (ie: maxKeyLength() method) or for validity of a key (ie: isValidKey(key) method). We could then use the answer along with the isValidPadId code for etherpad. This would allow etherpad administrators to choose their drivers accordingly to their needs.\nDoes that make sense ? If yes, I could make a first implementation proposition.\n. ",
    "raphaelbastide": "I agree, The button should be a default checked \"use monospace\"\n. @jrgifford +1\n. ",
    "waldyrious": "+1. An url parameter is useful but definitely not appropriate as an interface to toggle an option.\n. ",
    "Wikinaut": "+1 , it is a perfect patch, I have tested it. Pita: please pull this in.\n. For example, when you post parts of program or when you add a table.\nIt would be a \"nice to have\" to allow users to set monospace per-character like bold, italics, underline, strike-trough, and not only per-pad. \n. Hello, the monospaced etherpad-lite pages are not rendered in monospace font when exported as PDF. \nCan anyone fix this, too?\n. @booo \nmy https://github.com/Wikinaut/etherpad-lite - which follows the master's core code changes - has \"monospace\" integrated.\n. We should perhaps make an opinion poll among the Etherpad lite developers, not the users (figures, no one can really \"prove\"). \nThe addition of the monospace button is so easy, that I would rather suggest(!) to add the feature (like I did on my fork), and to have an settings.json for monospace = enabled than to have lengthy discussions.\nWhat online tool is suited for opinion polls ?\n. Here's the edit button bar with \"monospace\" and \"ordered list\" buttons\nhttps://github.com/Wikinaut/etherpad-lite/blob/master/static/img/etherpad_lite_icons.png\n. I suggest a behaviour change:\nnot changing a whole pad to \"monospace\" font what the current patch does,\nbut on span or line basis:\n1. mark a passage\n2. click \"monospace\" button \n3. only changing the marked passage to a fixed \"monospace\" font\n. link fix https://github.com/ether/etherpad-lite/issues/192\n. hello, I also will propose soon a fix to index.html to replace spaces in padnames by underscore characters (like MediaWiki does),\nSee also https://github.com/Wikinaut/etherpad-lite/commit/5ea8dd6b7005c69cda8824197e8ec849e559207a\nReplace unescape() by decodeURIComponent() to allow padnames and Uris with non-ASCII characters.\n. In my version it is solved, but not in upstream/master. (I cannot re-open issues you have closed).\n. The space problem is indeed solved, but not the Umlaut problems, in general, UTF-8 in padnames problem.\nI admit, that the character encoding problem was not the topic of this bug issue.\nInstead of unescape(), you need to use decodeURIComponent() as shown in https://github.com/Wikinaut/etherpad-lite/commit/5ea8dd6b7005c69cda8824197e8ec849e559207a and\na clean solution for rewriting and using underscores instead of spaces in Urls and padnames should be part of the core software.\nSo that, if someone opens a pad \"My pad\" this should always be represented by links such as http://www.example.com/p/My_pad this and is always correctly treated. I mean, space, %20 and underscore should always be treated as \"\" inside the program, and the resulting urls should only show \"\" instead of space or %20. HTML page titles should however show a space instead of underscore or %20.\n. Hello,\nplease see http://www.htmlhelp.com/tools/validator/problems.html#amp .\n\"&\" in URLs must be encoded as \n&amp;\nThe non-URLencoding made AbiWord crashing on Pad with URLs with \"&\" in the URLs, see https://github.com/Pita/etherpad-lite/issues/260 and https://github.com/Pita/etherpad-lite/issues/189 .\n. related to https://github.com/Pita/etherpad-lite/pull/231 \"(de)indent behaviour enhancement\"\n. We should concentrate to find and solve this issue soon, as it is quite annoying for all users of a pad.\n. Pita, any idea why the pad forgets the user name (if some has been defined?)\n. Where can I find the 1.0 version ?\n. Yep, Pita, I support the pull request in https://github.com/Pita/etherpad-lite/pull/203 because it indeed fixes the problem. Pls. can you pull in both patches as soon as possible, thanks.\n. Pita, please can you close this bug now (I cannot). It is solved since with https://github.com/Pita/etherpad-lite/commit/ce4d9df665146045dab8b20abd62e5ca68a6a8aa .\n. perhaps it comes from module node_modules/async/package.json \npatches in line 10\n, \"bugs\" : { \"web\" : \"http://github.com/caolan/async/issues\" }\nand similar changes in \nnode_modules/log4js/package.json\nand node_modules/gzip/package.json\nare needed. Then the warning is not shown anymore.\nBut where do these modules come from ?\nI notified the owner of the \"async\" module (via http://github.com/caolan/async/issues)\n. This patch (apply inverse) removes the warnings\ndiff -bru node_modules/async/package.json _node_modules//async/package.json\n--- node_modules/async/package.json 2011-10-26 21:42:11.000000000 +0200\n+++ _node_modules//async/package.json   2011-10-27 00:15:25.000000000 +0200\n@@ -7,7 +7,7 @@\n   { \"type\" : \"git\"\n   , \"url\" : \"http://github.com/caolan/async.git\"\n   }\n-, \"bugs\" : { \"url\" : \"http://github.com/caolan/async/issues\" }\n+, \"bugs\" : { \"web\" : \"http://github.com/caolan/async/issues\" }\n , \"licenses\" :\n   [ { \"type\" : \"MIT\"\n     , \"url\" : \"http://github.com/caolan/async/raw/master/LICENSE\"\nOnly in node_modules/async: package.json.bak\ndiff -bru node_modules/gzip/package.json _node_modules//gzip/package.json\n--- node_modules/gzip/package.json  2011-10-26 22:00:24.000000000 +0200\n+++ _node_modules//gzip/package.json    2011-10-27 00:15:25.000000000 +0200\n@@ -11,7 +11,7 @@\n   \"bugs\" :\n   {\n     \"mail\" : \"fedor.indutny@gmail.com\",\n-    \"url\" : \"http://github.com/donnerjack13589/node.gzip/issues\"\n-    \"web\" : \"http://github.com/donnerjack13589/node.gzip/issues\"\n  },\n  \"directories\" : { \"lib\" : \"./lib/gzip\" },\n  \"main\": \"lib/gzip/index\",\n  Only in node_modules/gzip: package.json.bak\n  diff -bru node_modules/log4js/package.json _node_modules//log4js/package.json\n  --- node_modules/log4js/package.json    2011-10-26 22:00:44.000000000 +0200\n  +++ _node_modules//log4js/package.json  2011-10-27 00:15:25.000000000 +0200\n  @@ -11,7 +11,7 @@\n  \"main\": \"./lib/log4js\",\n  \"author\": \"Gareth Jones gareth.jones@sensis.com.au\",\n  \"bugs\": {\n-       \"url\": \"http://github.com/csausdev/log4js-node/issues\"\n-       \"web\": \"http://github.com/csausdev/log4js-node/issues\" \n  },\n  \"engines\": [ \"node >=0.1.100\" ],\n  \"scripts\": {\n  Only in node_modules/log4js: package.json.bak\n. Closing is okay. The \"bug\" should be however communicated to the keepers of the modules. I already did this for the async module.\n. okay, owners are contacted. For tracking see \nhttps://github.com/csausdev/log4js-node/issues/41 and\nhttps://github.com/indutny/node.gzip/issues/6\nPerhaps, can someone briefly explain, how are the modules located and installed, especially gzip ?\n. I found a pattern and sent you a link to my etherpad your mail address.\n. - I found the problem. It is reproducible. \n- It is caused by unclosed <strong> or <em> tags in the etherpad-lite which crashes then the abiword convert program.\n- Now filed as AbiWord bug http://bugzilla.abisource.com/show_bug.cgi?id=13162\n- I found also that etherpad-lite somes creates pads with such unclosed tags, for example at the bottom of pads, when you add or change the font styles (bold, underline, italics).\n- Thus the crash of etherpad by the failure of abiword is a combination of both problems.\n- The following x.html does crash the command\n  echo \"convert x.html x.pdf pdf\" | abiword --plugin=AbiCommand\n- example (put into a file x.html)\n  <!doctype html>\n  <html>\n  <body>\n  This html crashes the AbiCommand convert\n  if unclosed HTML tags <strong> or <em> are found as is the case here\n  </body>\n  </html>\n. as mentioned, the problem appears to begin at the end of an etherpad blob: when you add, delete and change font attributes there, you can create unclosed tags (for unknown reasons) now and then. The blob is still rendered in etherpad, the browser, without problems. But when trying to export-PDF this, abiword crashes everything.\n. Open a new pad. Write something. \"Be bold\" and mark generously text parts, multi-line with underline, change to bold, and use also strikeout!\nI remembered, that I always used \nstrikeouton---text-----strikeoutffbold----anothertext------boldout\nthen I moved parts of this to the top to the bottom.\nIf you cannot get the problem on a certain text, try another fresh text, and start marking and unmarking again,\nTry also to mark a longer passage with strikeout\nthen a subpart of this passage with bold (i.e. you now have bold and strikeout, partially mixed).\nI got the problem with different texts.\n. a fix was committed in https://github.com/Pita/etherpad-lite/commit/90ba811bb556b9dd9e436961087f14a310ce98bc\n. a fix was committed in https://github.com/Pita/etherpad-lite/commit/90ba811bb556b9dd9e436961087f14a310ce98bc\nregarded as solved\n. Unfortunately, the problem is back (Abiword crashes Etherpad Lite when trying to export certain pad contents as PDF or DOC).\nIt appears to be an AbiWord problem. EPLITE has successfully created the tempfile, but AbiWord crashes after opening the existing file when it tries to convert it. \n\"AbiWord: could not open the file [/tmp/eplite_export_512688611492.html]\"\n. see also the more general bug report https://github.com/Pita/etherpad-lite/issues/260 \"Make EPLITE core code more robust: keep the EPLITE task running even when a call to external helpers fails (e.g. AbiWord returning -1)\"\n. I found the problem (& should be encoded as \n&amp;\nin URLS).\nIt is now documented in http://bugzilla.abisource.com/show_bug.cgi?id=13201#c7 .\n```\nhttps://en.wikipedia.org/w/index.php?title=Etherpad&action=edit \n<< crashes AbiWord converter if & is not URL encoded as &\nhttps://en.wikipedia.org/w/index.php?title=Etherpad&action=edit \n<< does not crash AbiWord converter\n```\nSee http://www.htmlhelp.com/tools/validator/problems.html#amp .\nSee https://github.com/Pita/etherpad-lite/issues/143 for URLs in Pads.\n. I updated this comment on 13.12.2011\n1. I updated the title.\n2. Pita has reopened this bug on my request (thanks)\n3. A fix can be found below in https://github.com/Pita/etherpad-lite/issues/189#issuecomment-3120037\n. I updated my comment on 13.12.2011\nA fix can be found in the next comment https://github.com/Pita/etherpad-lite/issues/189#issuecomment-3120037\n. A quick fix for this export problem of Urls is to change line 295 in /node/utils/ExportHtml.js\nfrom\nassem.append('<a href=\"' + url.replace(/\\\"/g, '&quot;') + '\">');\nto\n assem.append('<a href=\"' + url.replace(/\\&/, '&amp;').replace(/\\\"/g, '&quot;') + '\">');\nhttps://github.com/Wikinaut/etherpad-lite/blob/c403ddd0680cb2750b3a6e4a7d4fa4a82bc8e248/node/utils/ExportHtml.js\nOr, one can use alternatively the _escapeHTML() method.\n. Here I respectfully disagree. When you are sitting in the Intercity train and type, you don't would like to be stopped writing only because the internet connection was interrupted, for example, in a tunnel.\nAnd I like to type even into my private pad. I mean, the collaboration aspect is one (important) feature, but the easiness of writing \"everywhere\" another one. Yes, there are Javascript editors such as http://ckeditor.com/ , but they lack the collaborative aspects.\nWith HTML5 browsers it will be possible to save typed characters in the local storage until they can be sent to the server (and merged there with edits of other persons).\n. [UPDATED after this bug has been closed]\nThis is an important feature, and a must have, if you are editing while travelling in an Intercity train, and when the internet connection is interrupted when in a tunnel, or another reason.\n. Perhaps this can now be please reopened ?\n. @John:\nare you the person behind primarypad to whom I sent a donation last year ? Then I will sponsor you with a donation. Let me know by private mail to me - I am sure, you still have that.\n. Just for the record:\n- http://support.google.com/drive/bin/answer.py?hl=en&hlrm=en&answer=2375012&topic=1628465\nexplains how to set offline access up in Google Drive (Google Docs)\nSet up offline access Access Google Drive even when you're not connected to the Internet.\n. @John: we should certainly make use of HTML5 localStorage capabilities to save current pad or rendered view content locally.\n. @JohnMcLear Google says, it works only in Chrome.\n. > Afaik there is a feature request open for \"API only access\". Not sure if this covers this?\nNot, I checked that, and found it does not cover my request.\nWith \"administration page\" I mean something which is \n- integrated part of the EPLITE software\n- included in the core\n- based on node.js i.e. not requiring API calls. PHP\n- accessible by the EPLITE administrator\nbasically an integrated interface which does not require PHP or other further stuff.\n. Are any updates available ? I am still looking for a working administration panel, web page, for my Etherpad Lite installation.\nThe demo mentioned in https://github.com/Pita/etherpad-lite/issues/192#issuecomment-2615654 is unfortunately broken ( http://beta.etherpad.org/example_big.php ).\n. An admin panel could be perhaps be written as \"plugin\", but I do not know, how.\n. > Why not just make your own and contribute it back to the project?\n\nI do not know, how.\n. > You are just as capable(if not more) as anyone else to fulfil your own requirements.\n\nOk. You said that the primary goal is to run Etherpad integrated into other web apps - I understand that this can be WordPress or MediaWiki (I wrote a first plugin for MediaWiki) or similar. So what I do understand is that everything - for example to only allow authenticated users to access EPL - must use the EPL API.\nAnd I have to program that by myself ?\nIs this correct ?\n. Are any updates available ? I am still looking for a working administration panel, web page, for my Etherpad Lite installation.\nThe demo mentioned in \n- https://github.com/Pita/etherpad-lite/issues/192#issuecomment-2615654 \n  is unfortunately broken\n- http://beta.etherpad.org/example_big.php (former demo page for an admin panel)\n. (I am working on that)\n. For tracking, this is filed as http://bugzilla.abisource.com/show_bug.cgi?id=13167 .\nThe problem is that a PDF x.pdf  (which may be or not generated by a program other than Abiword) is not actually\nconverted to text file x.txt but only copied:\nabiword --plugin=AbiCommand\nAbiword>convert x.pdf x.txt txt\nThis happens on two of three of my installation running SLES-11 and OpenSuse 11.3. The version on OpenSuse 11.4 is working ad correctly converts the text from the PDF file.\nIt appears to be an installation-dependent problem of Abiword.\n. running 2.8.6. I tried to contact the members of the relevant abiword mailing lists.\nI found the following difference in my installations: \n- the installation where the conversion works is not a headless server environment, but a normal desktop Linux with OpenSuse 11.4. \n- The installations where it does not work are headless server installations (in fact, virtual machines on hosted servers).\n. closed. works for me\n. > You would replicate the core of etherpad lite to different folders.\n\nI'd rather suggest to use Symbolic links to point to a single core installation, where the entries go through dedicated ports and settings.json. I am currently working on that scheme.\n\nYou can flag this with low priority, and as suggestion.\n. Yes. \nMake the path/filename of settings.json an optional parameter to bin/run.sh which is then passed to InstDeps.sh and to node/utils/Settings.js\nas discussed with Pita in the chat, 05.12.2011.\nIt should allow to start different etherpad jobs with different settings:\nsu etherpad /srv/etherpad/bin/run.sh settings.etherpad-xyz.json\nsu etherpad /srv/etherpad/bin/run.sh settings.etherpad-abc.json\n. I think the following issue is still open:\n- with different favicons\nto allow to run different pads with different favicons ( It should be possible to set up the path to favicon.ico in settings.json ).\n. I think, my bug/issue/enhancement can be closed since different settings.json can be used.\n. Yep. These issues are solved when my patch is applied.\nThis one: please pull it in https://github.com/Wikinaut/etherpad-lite/commit/5ea8dd6b7005c69cda8824197e8ec849e559207a\n. Related to this issue: change spaces (in user-entered padnames or urls) to underscore characters, and vice versa when showing as page title /pad2.js, timeslider.html).\nThis avoids breaking urls when saving or e-mailing them, if the user has spaces in padnames.\n. Pita, I support the pull requests, pls. can you pull in both patches\n. > what you're waiting for?\n\nI do not understand what you mean. I wish to have the focus in the chat input when the chat window is opened.\n. yep. I started this work, but place an \"issue\" for tracking.\n\nSet my name as assigned (I cannot do this).\n. a solution can be found here https://github.com/Wikinaut/etherpad-lite/commit/0fc72bc7e72362bed3adc8e2326246564ac09416#diff-0\n. issue closed\n. I noticed some performance problems with my previous patches, because it could happen that the open-animation was started more than one. This is now finally solved in my commit\nhttps://github.com/Wikinaut/etherpad-lite/commit/650bad05380daeee73197b587993c5f711759e26\nSee the cumulative patch against upstream:\ngit diff upstream/master 650bad static/js/chat.js \n```\ndiff --git a/static/js/chat.js b/static/js/chat.js\nindex c3eddac..da209e7 100644\n--- a/static/js/chat.js\n+++ b/static/js/chat.js\n@@ -14,11 +14,15 @@\n  * limitations under the License.\n  */\n\nvar chatOpenAnimationIsStarted = false;\n+\n var chat = (function()\n {\n   var self = {\n\nshow: function () \n\n{      \n{ if (chatOpenAnimationIsStarted) return;\nchatOpenAnimationIsStarted = true;\n       $(\"#chaticon\").hide(\"slide\", {\n         direction: \"down\"\n       }, 500, function ()\n@@ -26,6 +30,7 @@ var chat = (function()\n         $(\"#chatbox\").show(\"slide\", {\n           direction: \"down\"\n         }, 750, self.scrollDown);\n\n $(\"#chatbox\").resizable(\n {\n   handles: 'nw',\n\n@@ -42,29 +47,39 @@ var chat = (function()\n         self.scrollDown();\n       }\n     });\n\n\n});\n },\n+\n hide: function () \n {\n\nchatOpenAnimationIsStarted = false;\n+\n       $(\"#chatcounter\").text(\"0\");\n       $(\"#chatbox\").hide(\"slide\", { direction: \"down\" }, 750, function()\n       {\n         $(\"#chaticon\").show(\"slide\", { direction: \"down\" }, 500);\n       });\n     },\n+\n     scrollDown: function()\n     {\n+\n       //console.log($('#chatbox').css(\"display\"));\n\nif($('#chatbox').css(\"display\") != \"none\")\nif($('#chatbox').css(\"display\") != \"none\") {\n         $('#chattext').animate({scrollTop: $('#chattext')[0].scrollHeight}, \"slow\");\n}, \n$(\"#chatinput\").focus();\nchatOpenAnimationIsStarted = false;\n}\n},\n\nsend: function()\n {\n   var text = $(\"#chatinput\").val();\n   pad.collabClient.sendMessage({\"type\": \"CHAT_MESSAGE\", \"text\": text});\n   $(\"#chatinput\").val(\"\");\n },\n\n\naddMessage: function(msg, increment)\n {  \n   //correct the time\n@@ -98,7 +113,7 @@ var chat = (function()\n     var count = Number($(\"#chatcounter\").text());\n     count++;\n     $(\"#chatcounter\").text(count);\n\n// chat throb stuff -- Just make it throb in for ~2 secs then fadeotu\n\n// chat throb stuff -- Just make it throb in for ~2 secs then fadeout\n         $('#chatthrob').html(\"\"+authorName+\"\" + \": \" + text);\n         $('#chatthrob').effect(\"pulsate\", {times:1,mode:\"hide\"},2000);\n       }\n@@ -106,8 +121,18 @@ var chat = (function()\n       self.scrollDown();\n},\n+  \n init: function()\n {\n+      $(\"#chaticon\").mouseenter(function(){\n+        self.show();\n+      });\n+      $(\"#titlecross\").mouseenter(function(){\n+        if (!chatOpenAnimationIsStarted) self.hide();\n+      });\n+      $(\"#chatbox\").mouseenter(function(){\n+        if (!chatOpenAnimationIsStarted) $(\"#chatinput\").focus();\n+      });\n   $(\"#chatinput\").keypress(function(evt)\n   {\n     //if the user typed enter, fire the send\n```\n. it requires only two changes in run/installDeps.sh:\n\n\ndiff --git a/bin/installDeps.sh b/bin/installDeps.sh\nindex 3fd6da7..4e89563 100755\n--- a/bin/installDeps.sh\n+++ b/bin/installDeps.sh\n@@ -47,9 +47,9 @@ npm install || {\necho \"Ensure jQuery is downloaded and up to date...\"\n DOWNLOAD_JQUERY=\"true\"\n-NEEDED_VERSION=\"1.6.2\"\n+NEEDED_VERSION=\"1.7\"\n if [ -f \"static/js/jquery.min.js\" ]; then\n-  VERSION=$(cat static/js/jquery.min.js | head -n 2 | tail -n 1 | grep -o \"v[0-9].[0-9].[0-9]\");\n-  VERSION=$(cat static/js/jquery.min.js | head -n 1 | grep -o \"v[.0-9]\");\nif [ ${VERSION#v} = $NEEDED_VERSION ]; then\n   DOWNLOAD_JQUERY=\"false\"\n. Sorry, as I can see now, I did something wrong in my first github pull request: the request with all my previous changes was not intended.\nIntended was to propose this:\npulling only the commited changes in the only file chat.js https://github.com/Wikinaut/etherpad-lite/commit/0fc72bc7e72362bed3adc8e2326246564ac09416#diff-0\n. some improvements https://github.com/Wikinaut/etherpad-lite/commit/cbcba7230949ed5a4697535cf10c9723e31e3792\n- chat closes on mouseover the closing icon\n- avoid to start multiple animations\n. As a MediaWiki developer, I am biased to the method - and like it - MediaWiki behaves: spaces are replaced by underscores.\nHowever, I see your point regrading that a \"-\" sign may be better readible. But, then, every \"-\" in padnames will be replaced by spaces in the HTML page title, which is a negative side-effect.\nExample: (my proposal)\nuser entered \"negative side-effekt\"\npadname, and stored padname will become \"negative_side-effect\"\nHTML page title becomes \"negative side-effect | Etherpad lite\"\n(My patch will also change the HTML title: first the padname, then the program name. \nReason: to show the padname in the browser's Tab and not the program name)\n(your proposal)\npadname, and stored padname will become \"negative-side-effect\"\ni.e. looses information\nHTML page title becomes \"negative-side-effect | Etherpad lite\"\nI am in favour of to the MediaWiki method, i.e. substituting spaces and %20 by underscore, leaving \"-\" unchanged. \nRegarding the compatibility with pre-existing pads: Yes, you are right. I already considered, but did not mention this (introduction of the space-underscore conversion should be compatible with existing pads and must not influence their accessibility).\n. John, respectfully stated you did not understand what I mean. I am not talking about storage wasting spaces, but spaces which should simply be removed, because the were not present in the source from where you are copying).\nMy bug report is about adding content from another webpage using copy and paste.When you paste the content into EPLITE, many superfluous space are seen, most likely stemming from CR/LF or Tab characters. \nI am not talking about storing spaces, which are intended to be there, but about spaces which are unintentionally added during the import into EPLITE.\nPlease try to copy longer content from elsewhere to EPLITE: you will notice that spaces are often doubled in the target page (EPLITE) where single spaces were in the source.\n. see http://beta.etherpad.org/p/nLq8sEtaCl with raw and edited (marked superfluous spaces with \"<\") results\n. I thought yo know: Firefox mainly, Internet Explorer to test the changes by 0ip\nI tested IE 8.0 (okay)\nSo this appears to be a Firefox specific bug.\n. This appears to be a Firefox-specific problem. I changed the bug title accordingly. Copy and paste using IE8.0 or Chrome work fine (confirmed).\n. I expected this - after my tests. Luckily, we now have identified this problem.\nPlease can you let this bug open for a while - I will try to find a correspondig mozilla bugzilla.\nBut set it to minor (if not yet done).\n. I meant something like shown in the left part of this figure http://cloud.addictivetips.com/wp-content/uploads/2010/03/review1.jpg\n. This was suggested as an option for authors:\nWhen you press the delete button:\nCharacters are not deleted but marked with \"strikethrough\" (CSS \"text-decoration: line-through\") attribute, so that readers can see what is \"marked as deleted\"\nAn additional button is suggested which actually deletes the so-marked characters.\nWhen you add (type) characters:\nthese are already added with the authors' background colour. I suggest that the added characters could also be underlined.\nThe additional button would also remove the so-marked underlined characters.\n. 1. The chat opens when you hover over the chat icon (no click required).\n2. When the chat opens, or when you hover over the opened chat, the focus is put to the chat input line (no click required)\n3. When you hover over the chat close icon \"-\". the chat closes (no click required)\n. Please reopen this bug. \nReason: there is the remaining problem, that TAB in a line after some characters works (indents),\nbut SHIFT-TAB does not de-indent but indents, too.\nTABsomecharactersTAB2 TAB3..\nSHIFT-TAB after TAB2 does not work, and is executed as TAB3 instead, which is wrong and unexpected behaviour.\n. @kingkaeru\nwhat will the behavior of shift-tab be in cases like this:\n\\char\\char\\space\\cursor\\char\ndoes it remove the space, add a tab, or do nothing?\n-> do nothing.\nA single Shift-TAB click should, in my expectation, only revert a single TAB left of the current cursor position.\n. Related to issue https://github.com/Pita/etherpad-lite/issues/173 \"shift tab should de-indent instead of indenting\"\n. I fully agree with you, I have never used Shift-TAB in my life.\n. I prefer to have the whole background (of the whole button) in my own colour, not only the \"persona\"\n. How can I have the person and the background in the author's colour ?\n. > commit -m \"Applied 0ip's fix (url)\"\n\nDear committer, please allow me to suggest that you always start commit messages with a meaningful summary of the commit (not only saying \"Applied 0ip's fix ....\" which is not a complete description what has been committed).\n. \"Show Connected Users\" button is not working in IE8.0 (Yes, I cleared the cache, yes, I did ctrl F5)\n\nSolution:\nin static/js/pad_userlist.js change line 714 to\n      $(\"#usericon\").css({'box-shadow': 'inset 0 0 30px ' + myUserInfo.colorId,'background-color': myUserInfo.colorId});\nSee https://github.com/Wikinaut/etherpad-lite/commit/f8907ecbd83ec8e1e86a699a2badf379205ae9bf#static/js/pad_userlist.js\n. No, does not work.\nSee you in the chat\n. 0ip's patch broke the colour picker in IE8, see reference implementation on beta.etherpad.\nPlease make always sure that new features do not break functionalities for IE8 clients.\n. +1\n. It is in this version https://github.com/Wikinaut/etherpad-lite/commit/ab4050bdd8b362f9e9eea37193195b832c3c36b2 (just again merged with upstream/master)\n. Reopened. The problem is apparent in the current upstream version.\n. Reopened. I made a fresh checkout (clone): the problem is apparent in the current upstream version.\n. Reopened. I made a fresh checkout (clone): the problem is apparent in the current upstream version.\n. Pita, I would like to ask you to reopen this bug, because I still have on at least two IE8 browsers this problem.\nYes, I cleared cache, cookies, and did Ctrl F5. Many times.\nThe message I got on one of stalling IE8 was like this\nLine 2560 Char 7\nsocket.io.js\nObject doesn't support this property or method.\nPerhaps it helps you experts to locate the bug.\n. @johnyma22 I'm not away; will check the suspicious IE8 versions with the current trunk version tomorrow (30.01.2012) in the office.\n. Sorry, negative. I tested the version with IE8 and the \"IE8 stops while loading\" bug is still there. No iframe content is shown.\nAfter about 30 seconds I see again the error\n\"socket.io.js line 2 char 22151 Object doesn't support this propertx or method\"\nVery sorry.\n. [UPDATE]: This has also been reported to the socket.io group https://github.com/LearnBoost/socket.io-client/issues/382\nMay be that it fails here (I have an indication that in one of the statements with the multiple assignments something went wrong on certain IE8 browser versions, not on all)\nI will rewrite the statements and avoid the  A = B = C; syntax\n```\nsocket.io/node_modules/socket.io-client/lib/transports/xhr-polling.js :\nif (global.XDomainRequest && this.xhr instanceof XDomainRequest) {\n      this.xhr.onload = this.xhr.onerror = onload;\n    } else {\n      this.xhr.onreadystatechange = stateChange;\n    }\nthis.xhr.send(null);\n\n};\n/\n   * Handle the unclean close behavior.\n   \n   * @api private\n   /\nXHRPolling.prototype.onClose = function () {\n    io.Transport.XHR.prototype.onClose.call(this);\nif (this.xhr) {\n  this.xhr.onreadystatechange = this.xhr.onload = empty;\n  try {\n    this.xhr.abort();\n  } catch(e){}\n  this.xhr = null;\n}\n\n};\n;\nsocket.io/node_modules/socket.io-client/dist/socket.io.js: \n/\n   * Handle the unclean close behavior.\n   \n   * @api private\n   /\nXHRPolling.prototype.onClose = function () {\n    io.Transport.XHR.prototype.onClose.call(this);\nif (this.xhr) {\n  this.xhr.onreadystatechange = this.xhr.onload = empty;\n  try {\n    this.xhr.abort();\n  } catch(e){}\n  this.xhr = null;\n}\n\n};\n```\n. ## NEWS\nThe Microsoft knowledge database was of help.\nThe problem of \"Internet Explorer stops while loading pad\" is definitely fully and only related to the IE7+ setting \"Enable Native XMLHTTP request\" in Tools > Internet Options > Advanced.\nSee http://msdn.microsoft.com/en-us/library/ms537505 with a screenshot.\nThose users who can ENABLE this setting, or whose IE has the setting enabled, will not suffer from the mentioned problem. \nUnlucky are users in companies where the IE was rolled out without the user permission to change this value.\nSo my summary:\nENABLE native XMLHTTP support\n\nand you will not have this problem. It is - as I supposed - related to a non-browser-independent XML Request in socket.io.js , on which EtherpadLite relies, but which is not part of EPL itself.\nI will pass this information to the socket.io.js maintainers.\n. On the Microsoft page http://msdn.microsoft.com/en-us/library/ms537505  I overlooked this hint which I want you (John) to forward. Perhaps this can be put into in a central Etherpad Lite jacascript (pad.js ???) and it then overrides on IE8 where this is disabled the XMLHttpRequest property.\nPlease can you try it independently from me ? I also will try it and come back later here with a summary of results of my tests.\nIf native XMLHTTP has been disabled, developers can override the\nXMLHttpRequest property of the window object with the\nMSXML-XMLHTTP control,  unless ActiveX has also been\ndisabled, as in the following example.\n\n\nif (!window.XMLHttpRequest) {\n    window.XMLHttpRequest = function() {\n        try {\n            return new ActiveXObject('MSXML2.XMLHTTP.3.0');\n        }\n        catch (ex) {\n            return null;\n        }\n    }\n} \n\n\n. I tried many things, unsuccessfully. I do not understand how the modules interact.\nI tried to patch require-kernel/kernel.js,. there is the xmlhttp factory, but this appears to be fully different place, not changing the behaviour of the client. \nThis comment is still valid https://github.com/Pita/etherpad-lite/issues/245#issuecomment-3775467\nNow it's up to you experts, perhaps you can communicate with the socket.io people. \nAs soon as I switch the Native XMLHTTP support on, it works also with IE8. So everyone who can change this setting (Tools > Internet Settings > Advanced) can check my bug report (IE8 not working).\n. John, Pita, how's about using socket.io 0.9.1-1 (this alone does not solve the IE8 bug). but perhaps when also using the socket-io-client 0.9.1-1 - I do not know how this must be migrated into Etherpad lite\n. @0ip\nWhat browser/s do you use for developing and testing your enhancement ?\nShould be Firefox, Chrome, IE8 and, if possible, IE9. In my view (I don't have IE9 available)\n. Can someone with Firefox confirm my observations regarding the Javascript errors ?\n. Can someone with Firefox confirm my observations regarding the Javascript errors ?\n. The info error (1) is unfortunately still present (the other errors (2) and (3) in my list disappeared). (Firefox)\nFehler: info is null\nQuelldatei: https://pad.opteryx.org/minified/pad.js\nZeile: 2497\n. this is an old report. Will checkout with the latest revision and then probably close this issue, depending on my observations.\n. Yes, still one error.\nError:  illegal character\nSource: https://pad.server.com/minified/pad.js Line  1\nThis file starts that way:\nrequire.define({\"/pad.js\": (function (require, exports, module) {/*\n- This code is mostly from the old Etherpad. Please help us to comment this code. \n- This helps other people to understand this code better and helps them to improve it.\n- TL;DR COMMENTS ON THIS FILE ARE HIGHLY APPRECIATED\n  /\n. perhaps the comment should be placed outside the require.define\n. I contacted the AbiWord developers, but unsuccessfully with the view to fix several multi-platform installation issues (for example, on LINUX SLES), and to fix the \"AbiWord crashes on certain input files\" problems. They also stated that AbiWord is not the best tool for (our EPLITE) import/export tasks.\nAnother problem is that my request to \"indicate, how abiword needs to be compiled for a headless server environment including all import/export plugins\" http://bugzilla.abisource.com/show_bug.cgi?id=13168 is still unanswered.\nEtherpad Lite currently relies upon AbiWord plugin \"AbiCommand\" as import/export tool, and the GUI features of AbiWord are not needed. An mere installation of AbiWord without the GUI libraries would be helpful and could be a solution of many problems.\n. @markeg\ncurrently I am investigating with some of the developers what can be changed at AbiWord, in other words, what are the minimum requirements to compile a trunk version of AbiWord with exactly only the stuff we actually need for EPLITE conversion function (import/export functions). \nFor example, we do not need any GUI functionality of AbiWord.\n. @markeg\ncurrently I am investigating with some of the developers what can be changed at AbiWord, in other words, what are the minimum requirements to compile a trunk version of AbiWord with exactly only the stuff we actually need for EPLITE conversion function (import/export functions). \nFor example, we do not need any GUI functionality of AbiWord.\n. I started investigations how the call to Abiword ( AbiCommand ) can be better replaced by a command line call to LibreOffice.\nPlease read the following from http://geekswithblogs.net/robertphyatt/archive/2011/11/19/converting-.docx-to-pdf-or-.doc-to-pdf-or-.doc.aspx :\nCitation starts:\nI found that LibreOffice (OpenOffice's successor) allows command line conversion using the LibreOffice conversion engine (which DID preserve the formatting like I wanted and generally worked great).\nI loaded the latest version of Ubuntu (http://www.ubuntu.com/download/ubuntu/download) onto my Virtual Box (https://www.virtualbox.org/wiki/Downloads) on my computer and found that I was able to easily convert files using the commandline like this:\nlibreoffice --headless -convert-to pdf fileToConvert.docx -outdir output/path/for/pdf \nCitation ends. I did not try it yet.\n. @Pita Yes, of course. I had many problems on different platforms to compile AbiWord. It is also not part of SLES, for example.\nGenerally spoken, I currently would prefer LibreOffice (or OpenOffice) over AbiWord for many reasons, and also think, it is better maintained and reviewed than AbiWord.\n. @jtlebi It appears to be under active development, I subscribed to their (abiword) mailing lists. See also my question to them for a so-to-call \"headless\" installation (as required by Etherpad lite for conversion purposes), I did not receive a concrete answer for a \"headless\" compilation, but something is posted here http://bugzilla.abisource.com/show_bug.cgi?id=13168 .\n. Implementation idea:\nsee also http://blog.larsstrand.org/2010/12/convert-word-documents-with-pictures-to.html (and https://github.com/mhagander/word2mediawiki/ ) for a converter from Word ( to MediaWiki syntax ) which also uses \"headless\" OpenOffice or LibreOffice . \nAdded for tracking these urls, perhaps we can use some ideas from it.\n. Tl;dr: see https://wiki.documentfoundation.org/Development/HeadlessBuild\nLong answer:\nToday I contacted the LibreOffice developers for instructions how to compile a headless version for EPL conversion needs (as replacement for AbiWord) and got the following answer:\n\nHello for the mere use of converting documents of different formats to PDF or\nHTML in Etherpad Lite which currently uses AbiWord for this purpose I need some information how to configure\n- i.e. without uneeded \"Desktop\" modules, for mere commandline use.\n\nFor these two parts you can take a look at\nhttps://wiki.documentfoundation.org/Development/HeadlessBuild\nthanks,\nriccardo\n\nLibreOffice mailing list\nLibreOffice@lists.freedesktop.org \n. I found also this: unoconv: Convert between any document format supported by OpenOffice http://dag.wieers.com/home-made/unoconv/\n\"unoconv is written in python. It needs a recent OpenOffice with UNO bindings.\"\n. > I don't see the sense in replacing abiword. Remember that we want to support windows, linux and mac. We can't let the user compile stuff just for document converting. What are the benefits you see in using libreoffice?\nI don't like AbiWord. There was no support for compiling a headless version without the need to install this useless X11 stuff. I cannot compile it on (certain) SLES versions because I have no access to the dependencies. \nOpenOffice and LibreOffice is more widely used, and in my view, more actively supported and code reviewed.\nI am not pushing a change over to LO or OO, however, I was dissatisfied by AbiWord. Remember the AbiWord failure when converting \"&\" in Urls which crashes our EPL code 1.0 (well, & must be coded as &amp; in Urls according to RFC, but this was another issue)\n. again: I am not pushing a change over to LO or OO. Just wanted to point to possible alternatives for users who cannot install AbiWord.\n. @johnyma22 wrote\n\nConsidering you can now import plain text files without abiword, would you say this is closed or are sou still looking for a solution for handling proprietary formats?\n- short answer:\n\nI suggest to let this issue open, but label it as \"minor\", or \"enhancement\". If you however want to close it, it's okay for me.\n- long answer: \nI was not primarily interested in importing, but in exporting pads as PDF, which I use almost daily. \nI don't like AbiWord, because there was no support for compiling a headless version without the need to install this useless X11 stuff, and, worse, I cannot compile it on (certain) SLES versions because I have no access to the dependencies. And because OpenOffice and LibreOffice is more widely used, and in my view, much more actively supported and code reviewed, I think we should also think of offering OO or LO \"import/export\" service.\n. @dgeo \nsee also \n- https://wiki.documentfoundation.org/Development/HeadlessBuild and\n- http://wiki.ubuntuusers.de/unoconv\n- https://github.com/dagwieers/unoconv\n\nUniversal Office Converter (unoconv) is a command line tool to convert any document format that LibreOffice can import to any document format that LibreOffice can export. It makes use of the LibreOffice\u2019s UNO bindings for non-interactive conversion of documents.\nFor practical reasons we mention LibreOffice, but OpenOffice is supported by unoconv as well.\n. @dgeo \n\nIn case you can manage to setup a complete download (git clone) compilation of a headless libreoffice (as said before: from its git repository) and unoconv to replace AbiWord - it would be great if you can document it here!\n. where can I test this ?\n. I confirm that ordered lists do work in Firefox and IE8.\nOne question: when marking lines of an ordered (or an unordered) list, and deselecting \"ordered list\" (or unordered list), I expected that the first indenting is removed, but it is not removed.\n. Another remark:\nthe colour picking in IE8 on http://pitapoison.de:9001/ is still broken\n. I do not insist on that but would suggest that in the case a user marked lines of an existing \"list\", the \"list\" bullet or number is removed and the first level of indentation is removed.\n. @jtlebi I tested Firefox, Chrome and IE8, and found your enhancement working.\n\nUpdated on 20.12.2011:\nHowever, there's is this core code problem on IE8: \n- when the cursor is somewhere in the middle of the pad, \n- and when you now click ordered list (or, alternatively, unordered list), \n  --> the cursor jumps to the first line and first character position of the pad.\nThe problem is apparent in http://pitapoison.de:9001/p/test  (core plus ordered list) and also in http://beta.etherpad.org (core)\nAs Jtlebi has mentioned below, this appears tp be a core code problem, and not a problem of the ordered-list enhancement, which is subject of this pull request discussion.\nFor this bug I filed https://github.com/Pita/etherpad-lite/issues/292 \"Unordered list function broken in IE8: when clicking to add a list in the middle of the pad, the cursor jumps to the top left position of the pad\".\n. For this core code bug I filed https://github.com/Pita/etherpad-lite/issues/292 \"Unordered list function broken in IE8: when clicking to add a list in the middle of the pad, the cursor jumps to the top left position of the pad\".\n. -1\nMost of the security guides on the Internet (google for \"php session id security\" recommend something like\n\"Ideally, don\u2019t pass session ids in the URL \u2013 require users to accept a cookie if they need to \u201clog in\u201d.\"\n. +1\n. I found the problem.\nIt is now documented in http://bugzilla.abisource.com/show_bug.cgi?id=13201#c7 .\n```\nhttps://en.wikipedia.org/w/index.php?title=Etherpad&action=edit \n<< crashes AbiWord converter if & is not URL encoded as &\nhttps://en.wikipedia.org/w/index.php?title=Etherpad&action=edit \n<< does not crash AbiWord converter\n```\nSee http://www.htmlhelp.com/tools/validator/problems.html#amp .\nSee https://github.com/Pita/etherpad-lite/issues/143 for URLs in Pads.\n. I told you, it's mandatory to have for all IE8.0 users.\n. Of course, it's a bug in IE8, \nThe bug is not present in Firefox and Chrome, I just checked that again.\n. Can someone help to fix this bug for IE 8?\n. @jhollinger:\nBravo. I applied your small patch and can confirm: IE8 now works with unordered (and also ordered) list.\nMy version with this patch https://github.com/Wikinaut/etherpad-lite/commit/d3b81f58c201a7996c68953a2212954b64cae1ee\n. @jhollinger \nJordan, I do not know what other IE8 problem you mean. Please can you elaborate on that ? What are the other problems with the IE8 -- I only see the colour-picker problem in IE8 ( https://github.com/Pita/etherpad-lite/issues/308 ).\n. @jhollinger Ah, now I do understand: you mean the bug, that (in IE8) the cursor disappears when you click onto any of the edit buttons, or the right buttons.\n. ace2 should perhaps be rewritten to use browser-independent jquery\n. @Akasch : thanks for your patch, I confirm, it is working in Firefox, Chrome and IE8. \nIn IE8 I noticed a different spacing (margin top ?) of those lines which have heading1 or heading2 attribute applied (there's a line spacing of about the same size as the line height of \"heading\" line). Perhaps this can be repaired with CSS skinning the h1, h2 tags with height and line-height as mentioned in http://stackoverflow.com/questions/604161/line-height-in-ie-vs-firefox . I tried this but without success.\nBasically it works and I do support your pull request.\nA remark: when you click on h1 and h2 attributes, currently your patch appears to \"mix\" the settings. \nI suggest the following logic: \n- click on h1: toggle between (set h1) and (clear all h) \n- click on h2: toggle between (set h2) and (clear all h).\nCurrently it appears to be possible to mix up the h1/h2 attributes, which makes it difficult to \"clear all h\"\nMy full working Etherpad lite version with monospace, and ordered list and headline h1/h2 patch is available as https://github.com/Wikinaut/etherpad-lite/commit/19907cee4db3324043c5b21e0763857eafdde56e .\n. @Akasch pls. can you also correct spelling mistakes \"haedline\" => \"headline\" ? (for example, in pad.html title tags)\n. This is a first version which appears to work. It is not yet fully tested and therefore currently not in a form to be formally committed.\n[updated]\nI created a branch \"nice-pad-url\" in https://github.com/Wikinaut/etherpad-lite/commit/1a87ffaceaaad364587f6caea8fe32c2e5f06dd5\n```\ndiff --git a/node/server.js b/node/server.js\nindex 68b7ab6..0f78076 100644\n--- a/node/server.js\n+++ b/node/server.js\n@@ -257,22 +257,23 @@ async.waterfall([\n       });\n     });\n\n//serve pad.html under /p\napp.get('/p/:pad', function(req, res, next)\n//serve pad.html under / and /p for compatibility\n\napp.get( '(/p)?/:pad', function(req, res, next)\n     {  \n       var filePath = path.normalize(__dirname + \"/../static/pad.html\");\n       res.sendfile(filePath, { maxAge: exports.maxAge });\n     });\n\n\n//serve timeslider.html under /p/$padname/timeslider\n\napp.get('/p/:pad/timeslider', function(req, res, next)\n//serve timeslider.html under /$padname/timeslider or /p/$padname/timeslider\n\napp.get('(/p)?/:pad/timeslider', function(req, res, next)\n     {\n       var filePath = path.normalize(__dirname + \"/../static/timeslider.html\");\n       res.sendfile(filePath, { maxAge: exports.maxAge });\n     });\n\n\n//serve timeslider.html under /p/$padname/timeslider\n\napp.get('/p/:pad/:rev?/export/:type', function(req, res, next)\n//handle export requests\n// app.get('(/p)?/:pad/:rev?/export/:type', function(req, res, next)\n\napp.get('/:pad/:rev?/export/:type', function(req, res, next)\n     {\n       var types = [\"pdf\", \"doc\", \"txt\", \"html\", \"odt\", \"dokuwiki\"];\n       //send a 404 if we don't support this filetype\ndiff --git a/static/js/pad_impexp.js b/static/js/pad_impexp.js\nindex 0037195..76e994f 100644\n--- a/static/js/pad_impexp.js\n+++ b/static/js/pad_impexp.js\n@@ -240,9 +240,9 @@ var padimpexp = (function()\n     {\n       pad = _pad;\n\n\n//get /p/padname\n\nvar pad_root_path = new RegExp(/.*\\/p\\/[^\\/]+/).exec(document.location.pathname)\n//get http://example.com/p/padname\n//get /p/padname or /padname\nvar pad_root_path = new RegExp(/.*\\/[^\\/]+/).exec(document.location.pathname)\n\n//get http://example.com/p/padname or http://example.com/padname\n       var pad_root_url = document.location.href.replace(document.location.pathname, pad_root_path)\n// build the export links\n```\n. favicon as parameter:\n+1\n\n\n(changed the issue title to include this, too)\n. > I think the favicon is already implemented, too?\n\nNo, I don't see this implemented yet in the develop branch (I suggested this as parameter in settings.json) .\n. In addition see https://github.com/Pita/etherpad-lite/issues/884 for the request to customize the pad name, too.\n. +1 thanks!\n. when can we have this ?\n. > you can always look at the http headers. There you can find the epl git revision..\n\nYou are right. But I didn't know this. Where is it documented ?\n. > you can always look at the http headers. There you can find the epl git revision..\nCan you help me please: do you know how (which module of Etherpad) sets this value?\n. Please: can someone of you experts please prepare such a plugin, which I suppose will be easy for you, as a framework to learn from, and as an example how to write plugins, and to finally close the issue ?\n. You forgot perhaps, that I _had_ already sponsored your work with 150 Euro on 04. May 2012 Etherpad Lite Donation to Primary Technology Ltd.\n. And I did not write a bill for the deep hunt for the annoying socket.io-client bug (IE8 without native xmlhttp support), This was my other contribution :-)\n. hehe, that's clear.\nWhat I wanted to achieve is that you invest once a little of your valuable time to write a simple sample plugin - which can be used for developing further plugins (by people like me, not knowing currently how to do this).\n. sorry, does not work for me\n```\nService Temporarily Unavailable\nThe server is temporarily unable to service your request due to maintenance downtime or capacity problems. Please try again later.\nAdditionally, a 503 Service Temporarily Unavailable error was encountered while trying to use an ErrorDocument to handle the request.\n``\u00b4\n```\n. Security issues: \nMediaWiki uses the approach that users can generate a hash (token) in their profile. \nIn Preferences tab, MediaWiki tells the user\n\"Filling in this field with a secret key will generate an RSS feed for your watchlist. Anyone who knows the key in this field will be able to read your watchlist, so choose a secure value. Here's a randomly-generated value you can use: 8592ebsdff .... kjas3\"\nThe Feed has then the URL\nhttp://en.wikipedia.org/w/api.php?action=feedwatchlist&list=watchlist&wlowner=USERNAME&wltoken=TOKEN\nand can be seen by everyone knowing the USERNAME and TOKEN, -- without further authentication.\nThe token is long.\nSee https://en.wikipedia.org/wiki/Wikipedia:Syndication#Watchlist_feed_with_token for an explanation.\nGoogle Picasa offers a similar method which allows gallery owners to set their galleries to non-public but with a secret token (hash) to invite other users. Everyone who knows the exact url with the token can view the gallery.\n. # Pad change e-mail notification manifesto\n0  \"Watcher\" is an author who expressly enabled a new user option \"watch this pad\".\n1 Only one notification should be sent to a \"watcher\" N for \"foreign\" changes (not for own changes).\n2 Sending of further notifications to the watcher N should be suppressed until the watcher N actually revisits the pads, which reenables the mechanism. \n2a This can be an user option: \"send me an enotif for any foreign change\"  or  \"send me only one mail for the first change after my last pad visit\"\n3. It requires to detect and memorize the timestamps of the last visit of every watcher.\n4 A Watcher might prefer to receive a bulletin (single mail with collected information) of changes per day (or hour, week...) instead of receiving mail/s per pad change.\n. @marek: this is perfect; it reduces mail overload. I designed and co-programmed enotif for MediaWiki and run this since 2004 in many wikis with thousands of user.\nad 2: There's no need to seen your own changes again in an enotif.\nad 3: We can think of an option like \"send me an enotif for any foreign change\" (I updated the manifesto) in this respect.\n. Implementation idea addendum: \n- https://groups.google.com/group/nodejs/browse_thread/thread/78673a304f92bc8a?pli=1\n- http://github.com/Marak/node_mailer - quick and dirty send\n- http://github.com/miksago/node-smtp-client - full client \n- sendmail for node.js see https://gist.github.com/982771\nI haven't tested any.\n. Can you and Pita please check, whether bin/installDeps.sh is really needed ? I always start fresh checkout version only with bin/run.sh .\n. I do understand fully.\nThe text \n\"4. Install the dependencies with bin/installDeps.sh\"\nshould - in my view - however be removed from the README.md ( https://github.com/Pita/etherpad-lite/blob/master/README.md )  to keep that as short as possible and in order not to bother Etherpad Lite newcomers with this (in standard cases) unnecessary step.\n. ## Avast reports an infection of pad.js with JS:Pdfka-AFL Exploit.\nI suppose and hope this is false positive.\n+1 I have this problem, it is very annoying.\nAvast currently fully stopps IE8, even the versions which were found working. ( The IE8 non-working issue is here https://github.com/LearnBoost/socket.io-client/issues/382 and here https://github.com/Pita/etherpad-lite/issues/245 ). It is difficult to remove the Avast Exploit infection message and pad.js files from the Tempory Internet file folder (IE) completely (rebooting helps).\nWith Firefox, Avast shows the Exploit message window, but you can still work on teh Etherpad lite with Firefox.\nWe should analyse, why Avast thinks that pad.js contains an Exploit, and the issue severity or importance should be increased, it is not minor.\n. I updated the issue text.\n. Someone must submit a sample and saying that it is false positive (is it?)\n. I do not know, if you simply sent a sample (of pad.js) to AVAST. I submitted now ( 2012-02-11 09:55 UTC ) a detailed report about a false positive detection to AVAST. Let's see if it helps.\n. This is still an annoying problem. Happens when minify = false and in IE 8 .\nI haven't see messages in Firefox, or when minify = true.\n. Does not work for me, too. \n- Firefox 14.0.1\n- version develop \n- 67088e5b7fb5a493a9040eae7f2ea741c48b7099\n. (Copied from https://github.com/Pita/etherpad-lite/pull/128#issuecomment-3439300 where I originally posted this:)\nI suggest a behaviour change:\nnot changing a whole pad to \"monospace\" font what the current patch does,\nbut on span or line basis:\n1. mark a passage\n2. click \"monospace\" button \n3. only changing the marked passage to a fixed \"monospace\" font\nPerhaps this is what dreeves meant. A selectable \"monospaced attrbute\", not for the whole pad, but for the marked passages.\n. \"You might actually want to introduce this as a plugin...\"\nHi, can you present an example, \nhow exactly plugins must be programmed ?\nI am willing to do this, but need some exact guidance, please. This then should form part of the EPL documentation, of course.\n. This is my pull request:\nhttps://github.com/Wikinaut/etherpad-lite/commit/1caaff9308b44ded73a3dd8e324613d05e4dc614\n. GitHub question:\nI could not find help how I can submit this single commit as a formal pull request using Github \"Pull Request\" function:\nI can select a branch (here: nice-pad-url , which is unrelated and unwanted to be merged with upstream/master), but I could not select a certain commit. Perhaps you can explain, how I can select a certain commit when I submit a Pull Request, thanks.\n. Ok, will do. In other words: I am right, there is no easy function in Github and I need to request this.\nfourplusone:\nDo you have an exact and detailed (command line; bash file) sequence of commands for me ? This could be very helpful now and in the future.\n. This has been fixed in https://github.com/Pita/etherpad-lite/commit/6ba865521afc672631ab36ce0b29b30f1ce5478a \n. Thanks. I only looked in bin/installDeps.sh\n. The current version is socket.io 0.8.7 which (release version is about 4 months old, if I understand this correctly).\nCan you perhaps tell me:\nWhat do I have to do, how I can install the latest socket.io version from github repository for testing the IE8-not-working issue (which stems from the socket.io flaw) ?\n. Hello, how can we bring the socket.io people to get their Internet issue solved ?\n. Still an socket.io issue because of non-supporting IE8 when this browser has the native XMLHTTP Support disabled (like on my 7.999 client machines). See issue https://github.com/Pita/etherpad-lite/issues/245#issuecomment-4013455 . It's not an EPL issue, but socket.io fails to implement a (IE8) browser-indepent XMLHTTP.\nRegarding your tip with the socket.io version in EPL, I will test this soon and close this issue, if it's then satisfying solved.\n. can someone please post the command to show the currently installed version?\n. see above\n. Can I use the plugin method to change the favicon for an Etherpad instance ?\nHow ?\n. Can someone give a complete example for a plugin ?\nFor example, I wish to have a \"monospace font\" button which adds monospace font not to whole Etherpad but an attribute to some marked passages.\n. I knew this method, but I want to start an Etherpad with the path of a different favicon as parameter.\nIt also requires write permission to that location !\n. I appreciate your work.\nWhat is about my suggestion of an plugin example for a new attribute (Monospace font) for marked passages ? I think, such an example would fulfill many users' needs (those users who want to add their own special things, in general.)\n. I can confirm this. Not loading in IE8 independently on \"Native XMLHTTP support\" setting.\nSee closed issue https://github.com/Pita/etherpad-lite/issues/245 (this is an socket.io.js bug, not Etherpad Lite).\n. this may be solved by applying https://github.com/Pita/etherpad-lite/pull/958\n. > maybe you can make an apache rule that passes the username with a ?userName parameter\nSo that userName can be faked ? I guess, this is not what spicewiesel wanted.\n. see also duplicate \"Set author name from HTTP auth data\" https://github.com/Pita/etherpad-lite/issues/759\n. @JohnMcLear thanks for posting here!\n. Is this bug still present, or can the issue be closed ? In my view, it can be closed.\n. I confirm that the fix suggested in https://github.com/Pita/etherpad-lite/issues/583#issuecomment-6436517 solves #1007. \nfix to be applied in /src/static/iframe_editor.css\nol.list-number1 {\n  margin-left: 1.5em;\n+  padding-left: 2em;\n}\n. alternative:\nfix to be applied in /src/static/iframe_editor.css\nol.list-number1 {\n-  margin-left: 1.5em;\n+  padding-left: 2em;\n}\n. ordered list, unordered list, indentation system is currently fully broken in master and develop see #583, #694, #1007, #792, #798  (filed for tracking)\nCannot apply a single simple fix, because more than only css is broken.\n. letztes Wort haben?\n. > I think this bug is plugin specific so should be issued on the plugin developers github\nI looked for it before posting, but could not find it. Where is it ?\n. I wanted, but cannot file issues there !\nIssue and Wiki appear to be disabled for other users than the owner.\n. I will try immediately. Please can you explain the steps, how an updated plugin is treated, to be \"installed\".\nDo I have to shutdown my EPL instance and simply to restart (and to clear the Browser chache, as usual)?\nSuch info should then perhaps be mirrored to one of the EPL Wiki pages. I will take care.\n. ok. Can please also fix the spelling of \"Php\" in the drop-down list to \"PHP\" ?\n. This has been already reported as https://github.com/Pita/etherpad-lite/issues/662 <--- I cannot reproduce this problem (IE8.0); for me, http://beta.primarypad.com/p/test does work with IE8.0, FF12, and Chrome\n. browser = FF 12 .  This is the message in the server!\nStrictly reproducible with the mentioned version when I try to access admin/plugins with my FF12\n. Hi. I need some instructions, how.\nsettings.json are at \"INFO\"\n  /* The log level we are using, can be: DEBUG, INFO, WARN, ERROR */\n  \"loglevel\": \"INFO\"\nWhat exactly do you want me to investigate ? Which file(s) ? etc.\n. @fourplusone http://dpaste.com/740867/\n. I can see this while starting up:\n[2012-05-01 16:05:14.903] [ERROR] console - Failed to load '/srv/epl/node_modules/ep_etherpad-lite/node/hooks/express/apicalls:expressCreateServer' for 'ep_etherpad-lite/apicalls/hooks/expressCreateServer': Error: EACCES, permission denied '../APIKEY.txt'\n. > Steps to replicate? http://beta.primarypad.com/p/0VtocXHnFG in FF is fine.\n\nAfaik beta.primarypad.com has a feedback button and an email contact form that goes to that team. Can we keep primarypad specific issues through their support desk please? It is run by a third party company who have resources to ensure SLA's etc. are met. It is not supported directly by the foundation (unlike beta.etherpad.org)\n\nOkay, that was then the reason - my friend colleague reported to me that he had clicked onto the feedback button, which then - as consequence ? I don not know - threw this error.\nIt's okay for me that you've closed this bug. And I will tell him why he saw the \"google-analytics\" \"hostile\" and unexpected takeover of some of the control.\n. The removal was not a good decision. I always need to enlarge the chat, because I don't like the small size.\nThe former implementation was semi-perfect; the last \"user resized\" format - should be sticky and the default format for the user (cookie or user settings) when they reopen the chat (reopen should use the last user size, if available, or the default values).\n. You wrote \"It's not really broken, this functionality was removed as we decided to throw out jQuery UI due to its use/size-ratio.\" which is a good reason. I also have my \"problems\" with jQuery UI, and using a customized, stripped-down version creates often more problems than are solved.\nI suggest, to leave this issue open, but I change the title.\n. Can you please assign a low priority, and this is now an enhancement, not a bug.\n. Can be closed (as INVALID). I found, that I used an outdated version, and not a clean checkout from the developer version.\n. Hello, unfortunately I need to say that the problem still exists after a fresh \"pull origin/develop\". I am running this specific pad - where the communication with clients stalls after a while (task is still running !) - with the sqlite dabase, not with MySQL.\n. version c406d076de3e063d5158f6b8d3cde2d9e78ef174\nHmmmm, Yes, \"stalling\" appears to be associated with sqlite only.\nTwo days ago I changed in the settings (of my c406d076 pad) from sqlite to Mysql (the database of working 1.1 pads), and this pad is still accessible - I tested that on your request.\nHope, this was helpful!\nPlease be again reminded (as mentioned above in https://github.com/Pita/etherpad-lite/issues/688#issuecomment-5498363 ): when the \"EPL with sqlite stalled\", the etherpad-user started epl tasks was still running and not killed.\n(I hope you understand, what I mean).\n. update: this specific pad now stalled also with MySQL database. As reported initially.\nversion c406d076de3e063d5158f6b8d3cde2d9e78ef174\n. > Has anyone had this issue in the last week or so? It seems to be resolved...\nI confirm: my installation runs stable since a while without having stalled. So - from my point of view, and as reporter - I'll close this issue now.\n. I can fully confirm your surprising observation:\n- Simply reloading the same pad on Chrome helps.\n- I opened then the pad in a new window on Firefox (and Ctrl+F5) --> the pad is visible again in Firefox too.\nWith these steps you can avoid the server restart.\n. > @Wikinaut Try changing line 33 in /src/node/hooks/express/socketio.js to io.set('transports', ['xhr-polling', 'jsonp-polling']); Maybe it helps...\nI applied your suggested patch, but after some hours, it stopped again.  ( developer branch c406d076de3e063d5158f6b8d3cde2d9e78ef174 )\n. > Edititing on Android < 4.0 is not possible because of the outdated WebKit engine\nDo I understand correctly, that we can't do anything on EPL side ? (we should try to get it running for Android < 4.0) ?\n. I would like to see that implemented. I just recently bought several Android 2.3 version phones -it's a pity that EPL is not working with that (widely spread) Android version.\nSo, let me know, if I can help in testing.\n. I installed Firefox from Android Market (Google Play), version 10.x, and this works with EPL. It's difficult to use on such small devices, and the keyboard opens, but I could successfully add some characters to my EPL pad (version 1.0).\n. I confirm that the fix suggested in https://github.com/Pita/etherpad-lite/issues/583#issuecomment-6436517 solves #1007 and most likely also this #694\nfix to be applied in /src/static/iframe_editor.css\nol.list-number1 {\n  margin-left: 1.5em;\n+  padding-left: 2em;\n}\n. alternative:\nfix to be applied in /src/static/iframe_editor.css\nol.list-number1 {\n-  margin-left: 1.5em;\n+  padding-left: 2em;\n}\n. and I do not understand why we haven't (yet) a well-written plugin (based on native node -- without the need of Java, PHP, ...) for pad administration. Is it a question of funding (donations and so on) ?\n- https://github.com/ether/etherpad-lite/issues/192 Suggesting an \"Etherpad-lite Dashboard\": administration web page\n- https://github.com/ether/etherpad-lite/issues/134 is there an admin interface?\n. a fresh clone gives \n-  [ERROR] console - Failed to load '/srv/etherpad/node_modules/ep_etherpad-lite/node/hooks/express/importexport:expressCreateServer' for 'ep_etherpad-lite/importexport/hooks/expressCreateServer': Error: spawn ENOMEM\n. I rerun my installation, and now there are no errors any more. So I close this bug now.\nPlease dear core developers, from time to time, try a fresh installation (new node version, new Etherpad Lite master or develop branch, bin/run.sh). \nOften I got errors like the reported one on the first run, but they disappeared in subsequent runs.\n. +1\nIt is very important to have a safe way of setting author names from Apache or wahtsoever HTTP auth data which can not be circumvented by queries.\n. duplicate to https://github.com/Pita/etherpad-lite/issues/551 (Set username by REMOTE_USER)\n. Remark:\nReserved characters in Urls are defined in RFC https://tools.ietf.org/html/rfc3986#page-11 . Etherpad Lite does already allow non-ASCII characters in pagenames. you can use padnames like \u00e4\u00f6\u00fc\u00df!test but not every character in general.\n. Indenting multiple times does not work at all. Double-clicking indentation indents once and then toggles between unorded list and indentation. But it does not indent a second level.\n. @MarkTraceur who filed this issue:\n- Please have a look to explanation in https://github.com/ether/etherpad-lite/issues/1017#issuecomment-8797202 .\n- Please close this issue #792 if the explanation is a solution for your reported problem.\n. why is this marked as a minor bug ?\n. @MarkTraceur who filed this issue:\n- Please have a look to explanation in https://github.com/Pita/etherpad-lite/issues/1017#issuecomment-8797202 .\n- Please close this issue #792 if the explanation is a solution for your reported problem.\n. Indenting on Etherpad Lite is weird. If it requires a \"How to\", something is wrong (I do not say, broken) and should be improved.\n. +1\n. > In the meantime, you can edit src/templates/pad.html :\nThat's a clear message, however, it should be customizable in settings.json, like the favicon url, see issue https://github.com/Pita/etherpad-lite/issues/377 .\n. Details zum Fehler auf der Webseite\nBenutzer-Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; .NET CLR 1.1.4322; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET4.0C)\nZeitstempel: Thu, 19 Jul 2012 18:33:38 UTC\nMeldung: 'console' ist undefiniert\nZeile: 45\nZeichen: 1606\nCode: 0\nURI: https://www.example.com/p/test\n. - reproducible in IE8\n- reproducible in Firefox 3.6.28\n- not present in Firefox 14.0.1\n- not present in Chrome\n. I checked on a different installation and can now confirm this bug for the mentioned browsers\nIn short: \nEtherpad lite (ordered or unordered) lists do not work with Firefox 3.6.28 or IE 8, whereas the same software works with Firefox 14.0.1.\nPerhaps this helps to find this problem of regression (both lists did work in these browsers).\n. (deleted)\n. I made a fresh installation (master and develop c9e8f7e7af as of today, 20120723), the problem persists for the mentioned browsers.\nJavascript error in IE8 when trying a bulleted (unordered) list:\n 'console' is not defined in line 45 character 1606\n. Hello, I still need a solution, because Etherpad lite lists do not work with my production browsers.\nHas anyone an idea, what is wrong with the software ? It did work some weeks ago.\n. Additional information: I updated node from 0.8.3 to 0.8.4 . \nProblem persists.\n. Thanks. This simple (once you have found it) fix solves this bug finally. Please merge into core.\nhttps://github.com/Wikinaut/etherpad-lite/compare/Pita:develop...Wikinaut:fix-for-issue-890\n. I'll check this soon. No cookie licking.\n. I do not need that log, and I did not introduce that there.\n. I am happy that I found it, it was for many weeks a (temporary) blocker for my users.\n. Great. That was indeed the \"problem\". Problem solved. Thanks.\n. Yes, I uncomment the relevant section in my settings.json file; the pad is asking for username and password. Then, the browser \"hangs\" ...\nI have authentication and authorisation both set to false, as is the default.\n. nogo. Which version do you run ? \nBTW, /admin and other /admin(/non-implemented)  should throw an error message\n. Firefox browser shows \"Warten auf ...\" in the status bar below. Webpage remains empty. FF tab spinner shows \"Verbinden\"\n. regarding /admin I filed https://github.com/Pita/etherpad-lite/issues/923\n. I deleted /src/node_modules, restarted EPL, no changes. Problem persists: /admin/plugins does not result in any output\n. fixed in https://github.com/Pita/etherpad-lite/commit/b9f4e8450ce85f1aff11ea907aaf365ae61ea67f\n. I can confirm such an message - I saw it today, on an IE 8 browser with DEACTIVATED Native XML support\n. Please can you indicate your browser type and version.\n. See this https://github.com/Pita/etherpad-lite/issues/245#issuecomment-4013455 . If you run IE 8 , then most likely this is the reason, the error results from a problem in socket.io\n. It never happens to my Firefox 3.8 and Firefox 10.x and Firefox 14.x, but I saw it today on another machine (IE8).  It appears to be a browser or (client) installation side specific problem, where EPL or socket.io crashes, or does not work with.\nPerhaps it is an incompatibility with an Add-On ?\n. for example, /admin can show the user a list of available subpages (currently /admin/plugins ) and present links to proceed to them.\n. Gared, can you please change the issue title (yes, you as reporter can do) from \n\"Support \"!\" char in URL\"\nto \n\"Support \"!\" char in URLs in pad texts\"\n. I fixed this locally on my server in \n/etherpad/src/node_modules/resolve/index.js\n// return path.existsSync(file) && fs.statSync(file).isFile()\n        return fs.existsSync(file) && fs.statSync(file).isFile()\n. solution: update the resolve library to version 0.2.3\nsee https://github.com/Wikinaut/etherpad-lite/commit/da30c8983a79ec1357225febbc5b97dbb3aa8fed\n. see https://github.com/Wikinaut/etherpad-lite/commit/da30c8983a79ec1357225febbc5b97dbb3aa8fed\n. fixed in pull request https://github.com/Pita/etherpad-lite/pull/958\n. I confirm that it was successfully tested today on the IE8 browsers which do not work without this patch.\nI recommend this pull request even as a hot fix for the master branch\n. Johnyma22 wrote:\n\nCan anyone pull to both before then.\n\nJohn, do you mean a formal github pull request between my fix-i8-... branch and EPL master? If your answer is \"yes\", I will do this evening. \nOtherwise please can you explain what you want me to do? Thanks in advance.\n. I just found the following aesthetic problems when using 'jsonp-polling' with Firefox and IE8.\nIn the tested browsers, (now) every single character keypress is triggering a\n- \"Connecting\" (Firefox tab), flickering in IE8 tab ; and\n- \"Waiting for ... example.com (server)\" in Firefox and IE8 .\nTechnically, the patch works, but now client screen behaviour is a kind of unpleasant. I need to talk to the socket.io guru about the reason of this screen annoyances.\n[UPDATE]\nsee video http://www.youtube.com/watch?v=Muoi3PyfkiE\n. Johnyma22 wrote \n\nPing me once you have spoken to him and resolved this.\n\nOkay.\nRegarding your special wish for a pull request between my feature branch (based on develop) and pita/master  I do not exactly what I have to do, sorry, I'm still a newbie. Do I have to make a git rebase master and then to commit and push to my repo and then make pull request between the rebased feature branch and pita/master ?\n. Regarding this \"Ping me once you have spoken to him and resolved this.\" they answered here https://github.com/LearnBoost/socket.io-client/issues/382#issuecomment-7872732 :\n- \"There nothing more that we can do about loading indicators in browsers than the techniques that we already deploy. The only known technique that kills loading indicators is https://github.com/LearnBoost/socket.io-client/blob/master/lib/transports/jsonp-polling.js#L180-186 which works in firefox.\"\nbut currently I am not sure whether this answer is on topic.\nJohn, the best thing will be, that you try my patch once to see exactly what I mean (in FF, also in IE): flickering of browser status bar or progress bar (IE) \"connecting...\" for some fractions of a second. This may be an EPL problem, or something else. Perhaps you as EPL expert can help here.\nJust to make this fully clear: I do not mean the \"connecting...\" ( \"disconnected\", \"reestablishing...\" ) messages from EPL I do mean normal browser visualisations when the browser sends something to a server.\nI will try to force this \"connecting...\" display problem with my new socket.io test suite https://github.com/Wikinaut/echo-server-running-on-node .\n. I tested with my echo-server test suite https://github.com/Wikinaut/echo-server-running-on-node . When one only uses \"jsonp-polling\", the effect is present ! Thus it is a effect from socket.io, not from EPL because not a single code line of EtherpadLite was involved in the test, it is clear that we do not have an influence on it.\nIn consequence, I therefore suggest to deploy my patch as suggested originally.\n. I never noticed this effect (browser loading status bar flickering) with other self-written jsonp scripts, for example, when I use jquery $.getJSON() to make cross-domain fetches. I am still convinced, that something is incorrectly programmed.\n. see https://github.com/Pita/etherpad-lite/pull/961 against master\n. > Shouldn't this be merged into develop, too?\nYes. I wanted to ask this question today, too!\n. Screenshot:\n\n. >  marcelklehr closed the issue an hour ago\nI agree.\nSo, if anyone should show up here and complains about this \"connecting...\" browser status bar: this is a socket.io problem. It is not an EPL problem: the echo-server.js script shows the same effect.\n. @johnyma22 @marcelklehr Just a question: is compatibility with older node versions really needed ?\n. Sorry, cannot reproduce this: I am not running Etherpad on Windows, but on a Linux Server (OpenSuse).\n. regression ! See https://github.com/Pita/etherpad-lite/issues/583 (closed) for a proposal of a solution (I did not try that yet)\n. I confirm that the fix suggested in https://github.com/Pita/etherpad-lite/issues/583#issuecomment-6436517 solves #1007. \nfix to be applied in /src/static/iframe_editor.css\nol.list-number1 {\n  margin-left: 1.5em;\n+  padding-left: 2em;\n}\n. alternative:\nfix to be applied in /src/static/iframe_editor.css\nol.list-number1 {\n-  margin-left: 1.5em;\n+  padding-left: 2em;\n}\n. > Can you submit a pull request? (closing this as it's a duplicate of #583)\nYes, this evening. Which of the both alternatives ? Do we want to indent at any costs (orginal proposal https://github.com/Pita/etherpad-lite/issues/1007#issuecomment-8612205 ) or better this one https://github.com/Pita/etherpad-lite/issues/1007#issuecomment-8612270 (my preference)?\n. > git bisect start\nI tried, but there are so many problems when going back in time (npm version check failes, requires older npm to be installed) I gave up. Perhaps someone has an older version running somewhere.\n. @disy-mk  wrote\n\nAs I either way am quite new to bisecting I will give it a try later today. Want to increase my got skills :)\n\nGreat. Perhaps you can start with a version of February 2012. As far as I remember, this worked.\n. I only see one level of ordered lists, unordered list and indentation ! Clicking on indentation even toggles between unordered list (bullet) and indentation, and the behaviour is fully weird.\n. @marcelklehr Thanks for clarifications! Indeed I was fully wrong, even when I consider myself as developer of EPL, I was not aware, or more honest: I fully forgot that the TAB key must be used increase the level of indentation, or SHIFT-TAB to decrease the level of indentation. (see fixed issues #173 and #227 ; perhaps @marcelklehr you can re-edit your comment https://github.com/Pita/etherpad-lite/issues/1017#issuecomment-8797202 above to include the SHIFT-TAB info).\nI suggest:\n- to relabel this issue from bug to enhancement\n. I who filed this issue decided to close it (to lower the number of open bugs).\n. jsonp, of course\n. yes, of course\n. Okay, for this test my own https://github.com/Wikinaut/echo-server-running-on-node is a suited tool. Just as a reminder to other developers (and to me myself...)\nThanks for the hint above.\n. On the Android tablet:\nI cannot see and access the right-hand side top buttons (actually, I see about 4 pixel lines of them). the access to the Chat button: is difficult to click. The keyboard opens instead of the chat.\n. I now installed Firefox 16.0.1 Android. Everything works fine on beta.etherpad.org and on my pad !\nClosing this now. It's an issue with the pre-installed browser version 4.0.4-4118_1_31B on my tablet PC.\n. :-) and it was the first time, that I saw this example working since two years !\nI will be happy to improve this example soon, also to understand, how it works. I still do not know how authentication works (if there is any). What will happen, if I delete the cookies ? and more questions...\nHonestly, I do not understand yet, how this works, but will help to support the project in writing a better documentation, once.\n. adn there's a bug with the table button. I does not close when you click a second time. (off-topic here, I know)\n. see issue #1077\n. I think, the both are caused by the same (currently unknown) reason. I have no idea.\n. any news ?\n. @scanferla Hi, I'm working to find the reason - see also issue #1077 -  and have a question to you.\n@scanferla Have you also noticed, with certain of your pads, that single-stepping backwards (using the button slowly) works - you reported this abvoe - \nbut on some pads suddently the communication stops and the server crashes ?\nI have a reproducible case for a certain pad which crashes the server with the following trace:\n[2012-10-25 20:26:40.369] [ERROR] console - TypeError: Cannot read property 'length' of undefined\nat nextText (/srv/etherpad/src/static/js/Changeset.js:1943:24)\nat Object.exports.inverse (/srv/etherpad/src/static/js/Changeset.js:1995:22)\nat async.series.callback.forwardsChangesets (/srv/etherpad/src/node/handler/PadMessageHandler.js:1265:35)\nat async.series.results (/srv/etherpad/src/node_modules/async/lib/async.js:486:21)\nat _asyncMap (/srv/etherpad/src/node_modules/async/lib/async.js:185:13)\nat async.forEachSeries.iterate (/srv/etherpad/src/node_modules/async/lib/async.js:108:13)\nat async.forEachSeries.iterate (/srv/etherpad/src/node_modules/async/lib/async.js:119:25)\nat _asyncMap (/srv/etherpad/src/node_modules/async/lib/async.js:187:17)\nat async.series.results (/srv/etherpad/src/node_modules/async/lib/async.js:491:34)\nat _asyncMap (/srv/etherpad/src/node_modules/async/lib/async.js:190:13)\n[2012-10-25 20:26:40.369] [INFO] console - graceful shutdown...\n. I suggest to merge this issue (or copy the content literally) to issue #1077 and to close the #1068 and thus  reducing the number of open issues.\n. now handled in #1217. Please can someone close this #1068 .\n. user admin not found: /admin/plugins\nuser admin not found: /error/HTTP_UNAUTHORIZED.html.var\nYes, the settings.json has the users uncommented. I remember, it worked some months ago.\nstrange...\n. I tried \n```\n  / This setting is used if you require authentication of all users.\n     Note: /admin always requires authentication. /\n  \"requireAuthentication\": true,\n/ Require authorization by a module, or a user with is_admin set, see below. /\n  \"requireAuthorization\": false,\n```\nand\n```\n  / This setting is used if you require authentication of all users.\n     Note: /admin always requires authentication. /\n  \"requireAuthentication\": true,\n/ Require authorization by a module, or a user with is_admin set, see below. /\n  \"requireAuthorization\": true,\n```\nIt does not work.\nI get always this\nuser admin not found: /p/Test\nuser admin not found: /error/HTTP_UNAUTHORIZED.html.var\nstupid error ?\n. Appears to be an issue of the Apache reverse proxy access to my pad:\n- https://pad.example.com/admin/plugins <<< does not work\n- http://www.example.com:9001/admin/plugin <<< does work\n. issue title updated /admin does not work when using reverse proxy but issue left open (until the real reason is found).\n. ```\n\n<VirtualHost 11.22.33.44:443>\n\n    ServerName pad.example.com\n    ServerSignature Off\n\nSSLEngine on\nSSLHonorCipherOrder on\nSSLCipherSuite !aNULL:!eNULL:!EXPORT:!DSS:!DES:RC4-SHA:RC4-MD5:ALL\n\nSSLCertificateFile /etc/apache2/ssl.crt/server.crt\nSSLCertificateKeyFile /etc/apache2/ssl.key/server.key\n\n<Files ~ \"\\.(cgi|shtml|phtml|php3?)$\">\n    SSLOptions +StdEnvVars\n</Files>\n\nSetEnvIf User-Agent \".*MSIE.*\" nokeepalive ssl-unclean-shutdown downgrade-1.0 force-response-1.0\n\n    <Location / >\nAuthType Basic\n    AuthName \"Welcome to the Etherpad\"\n    AuthUserFile /etc/.apache2/.htpasswd\n    AuthGroupFile /etc/.apache2/.htgroup\n    Require group etherpad\norder deny,allow\ndeny from all\nsatisfy any\n    </Location>\n\n    <IfModule mod_proxy.c>\n       ProxyVia On\n       ProxyRequests Off\n       ProxyPass / http://www.example.com:9001/\n       ProxyPassReverse / http://www.example.com:9001/\n       ProxyPreserveHost on\n    </IfModule>\n\n</VirtualHost>\n\n\n```\n. I wanted to protect the overall-access to my EPL directories using the Apache rules. Shouldn't this work in addition with the EPL /admin user authentication?\nI mean, one serverusername/serveruserpassword and one adminuser/adminuserpassword for the EPL built-in authentication.\nPerhaps you can clarify the difference between the two methods.\n. - ok in revision 442c571 < branch develop (on older node version v.0.8.11)\n- not ok in revision 4296518 < branch develop (on node v.0.8.12)\n. no version number found in http://beta.etherpad.org/p/mko3lhcx1J/timeslider\nsee issue #1078\n. checked several older versions on my system.\nAll have (now) broken timeslider function (content is empty, or it is static). \nThe only change I remember: \n- recent upgrade to node v0.8.12\n. Which node version is running on beta.etherpad.org ?\n. I tried many things on my several independent reference installation. I have no idea, why the timeslider function stops working as designed. It's certainly a case for you experts!\n. - Firefox:\nI noticed: no \"flickering\" connection. (looks, as if there were no bytes sent from client to server). Perhaps a problem with socket.io ?\n- Then I tested IE8. \nShows an error\n`\nlength is null or not an object\nace2_common.js Line: 36\nCode: 0 Char: 216\nURI:\u00b4\nWebpage error details\nUser Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; .NET CLR 1.0.3705; .NET CLR 1.1.4322; .NET CLR 2.0.50727; .NET CLR 3.0.04506.30; InfoPath.1; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET4.0C; .NET4.0E)\nTimestamp: Tue, 23 Oct 2012 14:20:02 UTC\nMessage: 'length' is null or not an object\nLine: 36\nChar: 216\nCode: 0\nURI: https://server/javascripts/lib/ep_etherpad-lite/static/js/ace2_common.js?callback=require.define\n```\n. Timeslider debug\n- version 442c5714f9ca3fb3afdcee4f0e00f29509bf63fb\n- node 0.8.12\n- client Firefox 16.0.1\nMoving the slider and suddenly the server silently stalls:\n[2012-10-25 20:26:40.363] [DEBUG] ueberDB - GETSUB - pad:6WbzPn9GHtAm:revs:99[\"meta\",\"timestamp\"] - 1346740294159\n[2012-10-25 20:26:40.369] [ERROR] console - TypeError: Cannot read property 'length' of undefined\n    at nextText (/srv/etherpad/src/static/js/Changeset.js:1943:24)\n    at Object.exports.inverse (/srv/etherpad/src/static/js/Changeset.js:1995:22)\n    at async.series.callback.forwardsChangesets (/srv/etherpad/src/node/handler/PadMessageHandler.js:1265:35)\n    at async.series.results (/srv/etherpad/src/node_modules/async/lib/async.js:486:21)\n    at _asyncMap (/srv/etherpad/src/node_modules/async/lib/async.js:185:13)\n    at async.forEachSeries.iterate (/srv/etherpad/src/node_modules/async/lib/async.js:108:13)\n    at async.forEachSeries.iterate (/srv/etherpad/src/node_modules/async/lib/async.js:119:25)\n    at _asyncMap (/srv/etherpad/src/node_modules/async/lib/async.js:187:17)\n    at async.series.results (/srv/etherpad/src/node_modules/async/lib/async.js:491:34)\n    at _asyncMap (/srv/etherpad/src/node_modules/async/lib/async.js:190:13)\n[2012-10-25 20:26:40.369] [INFO] console - graceful shutdown...\nEffect on the client\nyou can move the slider, but nothing happens.\n. In addition:\nI also noticed that - when starting the timeslider - the time pin \"needle\" (the small slider image) is positioned o a position clearly outside the time bar (between the right end of the time bar and the big \"play\" button with the triangle.\n. the function is also broken on\n- cb760aae5287a3cddbff31118194806323939a66\n. still broken in \n-  05cc7b3fd5a5616fe52aed5e05efeb\nYes, I deleted /src/nod_modules before upgrading.\n. update\n- same on node 0.8.14\n- develop https://github.com/Pita/etherpad-lite/commit/05cc7b3fd5a5616fe52aed5e05efeb\nIn addition part 2:\nI also noticed that - when starting the timeslider - the time pin \"needle\" (the small slider image) is positioned o a position clearly outside the time bar (between the right end of the time bar and the big \"play\" button with the triangle.\n- updated:\nBefore starting \"play\", when I move the timeslider (which is on my systems always outside(!) the bar when starting the timeslider page) to a position on the bar, then it works ! \nCan anyone try to reproduce this bug?\n. Same problem !\nupdated:\nTimeslider \"needle\" is positioned offside the bar (between bar and play button).\nBefore starting \"play\", when I move the timeslider (which is on my systems always outside(!) the bar when starting the timeslider page) to a position on the bar, then it works !\nCan anyone try to reproduce this bug?\n. Where can I \"pastebin\" a screenshot ?\n. screenshot of broken timeslider = http://imgur.com/xs9mx\n\n[update 30.10.2012 : this CSS problem is fixed in  d9298778650eb7be2181dc9aaf23e14faff61e99 ]\n. - mispositioned in Firefox 16.0.1\n- IE8: not mispositioned, but timeslider also not working !\n\"not working\" means: needle moves, but changes are not shown\n. I am using fresh installation on two fully different, distinct and separated virtual servers. One runs OpenSuse 11.3, the other runs SLES-11 (Suse-Linux-Enterprise Edition).\nAs you know, my installations ran for many months smoothly without problems. I am wondering why nobody else appears to have the Timeslider problems.\n@ Johnyma22: FF15 is outdated, FF 16.0.2 is current version. Pls. can you upgrade and check ?\n. [this comment is deleted; the problem here was a spooky second \"etherpad\" task, kill - u etherpad solved that]\n. here's another version with a \"starred\" version \n\n[updated 30.10.2012  fixed in  d9298778650eb7be2181dc9aaf23e14faff61e99 ]\n. Bingo! \"luckily\" you can see it here on your own pad! http://beta.etherpad.org/p/test/timeslider\n\nTimeslider also not working on your pad.\n. [removed]\n. \"don't do\" .... waiting for a fix. Then I will immediately test all my systems and report to you.\n. hehe my donations are: mediawiki extension for Etherpad Lite, incl. support & extensive deep bug findings\n. this fixes the CSS issue, but not the \"timeslider broken\" issue.\n. As I told you: look to http://beta.etherpad.org/p/test/timeslider , start \"play\" button: no changes are shown. Same on my version  d9298778650eb7be2181dc9aaf23e14faff61e99\n. Please also add the version info plugin to beta http://beta.etherpad.org/ so that we can refer to the version\n. (But I can confirm, that the CSS issue is fixed)\n. > It's actually fine in 4296518\nWishful thinking. It is not working for me. I checked out that version, cleared caches and /src/node_modules. Timelider is broken.\n. Steps to replicate:\n1. look to http://beta.etherpad.org/p/test/timeslider \n2. start \"play\" button\n3.  no changes are shown.\nPlease fix this, and I will be quiet. Someone has horribly broken the working system.\n. see also https://github.com/Pita/etherpad-lite/issues/1068 .\nSteps to replicate version 2\n1. make a fresh checkout of develop d9298778650eb7be2181dc9aaf23e14faff61e99\n2. copy old settings.json\n3. visit one of existing pads\n4. goto timeslider\n5. start \"play\" button\n6. no changes are shown. As reported\nGiving up now. Waiting until someone else reports this again.\nsee also https://github.com/Pita/etherpad-lite/issues/1068 .\n. hhehe- the problem is apparent on your http://beta.etherpad.org/p/test/timeslider .\n. What I noticed is similar to the problems reported in https://github.com/Pita/etherpad-lite/issues/1068 : after a while, ro when you manually set the slider to a certain time, or move slowly, I can happen, that the content changes are shown.\nI suppose it is a timing problem, which breaks the communication.\n. I suppose there is a currently undetected \"no connection request\" issue when moving the timeslider pin. Why?\nWhen the effect (timeslider moved but not content changes are shown) appears I did not observe the usual \"connection\" flickering in the tab or status bar (the flickering has been reported already when we changed socket.io protocol to jsonp-polling, but cannot be changed, because it is browser-inherent).\nIn other words:\n1. pad timesliders do work, when you see flickering in the tab or status bar when you move the timeslider pin, or when you have started to replay the changes.\n2. pad timesliders do not work, when you do not see such a flickering.\nR\u00e9sum\u00e9:\nI suppose a loss of communication or response, protocol or timing misbehaviour in these cases. Currently, the problem does not appear being caused by corrupted changesets because it happens on several different and independent EPL and server installations.\n. still not (always) working\n-   b9f4e8450ce85f1aff11ea907aaf365ae61ea67f\n. - b9f4e8450ce85f1aff11ea907aaf365ae61ea67f\n- Debug output\nStatus: when the timeslider is not working, and when I moved the slider pin the pad crashes with such a message.\nIs it of help to locate the reason ?\n[2012-11-01 23:22:10.188] [ERROR] console - TypeError: Cannot read property 'length' of undefined\n    at nextText (/srv/etherpad/src/static/js/Changeset.js:1943:24)\n    at Object.exports.inverse (/srv/etherpad/src/static/js/Changeset.js:1995:22)\n    at async.series.callback.forwardsChangesets (/srv/etherpad/src/node/handler/PadMessageHandler.js:1279:35)\n    at async.series.results (/srv/etherpad/src/node_modules/async/lib/async.js:486:21)\n    at _asyncMap (/srv/etherpad/src/node_modules/async/lib/async.js:185:13)\n    at async.forEachSeries.iterate (/srv/etherpad/src/node_modules/async/lib/async.js:108:13)\n    at async.forEachSeries.iterate (/srv/etherpad/src/node_modules/async/lib/async.js:119:25)\n    at _asyncMap (/srv/etherpad/src/node_modules/async/lib/async.js:187:17)\n    at async.series.results (/srv/etherpad/src/node_modules/async/lib/async.js:491:34)\n    at _asyncMap (/srv/etherpad/src/node_modules/async/lib/async.js:190:13)\nCan you please reopen this issue, thanks.\n. @johnyma22 \n\nWell as far as I understand it, it's part of a bigger problem where we don't deliver/store PAD REV data and the client hasn't had time to load in all changesets by the time people try to use the timeslider.\n\nI suppose (and hope), that it has only to do with late or otherwise interrupted delivering of pad rev data, but (luckily) not with storing of it, as all my pad are working as such. Yes, with IE8 (! all flavours), Firefox and Chrome. This at least is good news.\n. @johnyma22 \nAs said twice: you can try to replicate on your own pad which is broken as well http://beta.etherpad.org/p/test/timeslider\n. There's no need that I go to my pad: you can scrutinize your own pad data for http://beta.etherpad.org/p/test/timeslider , please.\n. Indeed a good point, I do use MySQL.\nDevelopers, heads up! Is a MySQL driver bug ?\n. Hmmmmm,\nI found this:\n- when being on the timeslider page\n- when I now \"sample\" manually a certain number of revisions (twenty or thirty or so)\nthen suddenly pad revisions are shown.\nAnd after then, this pad's timeslider works also in \"play\" mode\n. any news ?\n. @johnyma22 you wrote you cannot replicate, hey, head up, it's broken here http://beta.etherpad.org/p/test/timeslider and you can replicate it all day and night long.\n. @btherres wrote Seems as you should give the timeslider a bit more time to load before is starts playing...?\nI think it can be due to an interruption in the communication. Why ? I noticed that no flickering is visible when moving the timeslider needle. So it can also be a javascript client issue (moving the needle -> but not sending to server).\nI leave this to the experts (Pita, John, Marcel...). Let me know, if I can help anything to find the bug...\n. @johnyma22 @Deepsurfer heads up, I can can now confirm your observation, that the ep_tables plugin breaks timeslider immediately. This has to do with an ep_tables related anonymous function which is incorrectly loaded, I saw this in the Firebug console. (I am currently trying to find the timeslider bug and came accross this secondary problem, which I filed as https://github.com/gedion/ep_tables/issues/10 issue separately with in the ep_tables issue tracker)\n. @johnyma22 wrote\n\nCan we please confirm the timeslider is fine as long as you don't enable a plugin that breaks it? \n\nNo, we cannot confirm. Timeslider is still broken by a first and currently unknown problem which is independent of ep_tables plugin.\n. ### Some observations\n1\nWhen you use the back-in-time button (left arrow) as the first action after loading the timeslider page, you can step backwards, at least a large number of revisions.\n2\nIf you now move the pin, the function is broken. Neither back button, nor forwards button, nor pin triggers a change of the content.\n3\nIf you use the pin as the first action, you break it immediately. Clicking the back-in-time button is ignored, and nothing happens any more.\n. now handled in #1217. Closing this one.\n. I already proposed in issue #386 \"Suggestion: add an \"about Etherpad\" software version info section (Etherpad, node.js, abiword ...) in the \"Pad settings\" widget\" to simply add the version information in an \"about Etherpad\" section, for example in the \"Pad settings\" (\"Settings of this pad\") button drop-down window.\nWhat makes you refraining from an implementation in that way?\n. Pls. can you report the abiword version ?\n. Check also issue #189 . Make sure to avoid unescaped ampersand characters in Urls in the pad content. This silently broke older Abiword versions. This was reproducible on the commandline, I mean using Abiconvert to convert a html file to a pdf file.\nIn other words:\n- Try abiword manually, on the command line. Does it work ?\n- check https://github.com/Pita/etherpad-lite/issues/189#issuecomment-2589161\nTry this command line sequence to test-convert a file \"my.html\" to pdf\n```\nabiword --plugin=AbiCommand\nAbiWord:> convert my.html my.pdf pdf\n```\nor as a one-liner\n```\necho \"convert my.html my.pdf pdf\" | abiword --plugin=AbiCommand\n```\nDoes it work for you ?\n. If this fails for a simple my.html,\n\nAbiWord:> convert my.html my.pdf pdf\nAbgebrochen (Failed)\n\nthen your AbiWord installation is not correct. It is not using Latex, but this other pdf framework poppler. Can you please check the AbiWord page http://www.abisource.com/wiki/PluginMatrix ( I think, this is outdated: http://www.abisource.com/wiki/FaqCreatingPDFs ).\nI can perhaps post further information tonight. I am using an older version of AbiWord and have also proposed to EPL staff to go away from AbiWord to OpenOffice or LibreOffice in issue #254 \n\nAs AbiWord is very difficult to install with its numerous dependencies, I suggest to replace AbiWord by alternative tools which are easier to install and better maintained.\n. now coming back to your problem.\n\nI compiled AbiWord 2.9.2 and run this successfully with (until recently) the latest master and develop EPL versions.\nFrom my developers logbook I remember the need to overcome several obstacles to install AbiWord on a bare OpenSuse 11.3[sic]. Here are some:\n```\nsvn co http://svn.abisource.com/abiword/trunk abiword\nsvn up\n./autogen.sh\n./configure --enable-plugins --with-gtk2\n(the following command is not needed anymore since Abiword rev. 30499 12.12.2011)\nln -s gtk src/text/fmt/gtk2 \nmake\nmake install\nldconfig\nabiword --version\nsee http://bugzilla.abisource.com/show_bug.cgi?id=13168 for a headless installation.\nOn a SLES-11 (OpenSuse Enterprise Edition 11) I remember the need to install also:\nfridibi\nglib\nlibgsf\nwv\nlibgsf-1\nredland\nrascal\nand to use this \n./configure --enable-plugins --with-gtk2 --without-gnomevfs\n```\nLet me know, if my list helps.\n. @Gared: As mentioned, try \n```\necho \"convert my.html my.pdf pdf\" | abiword --plugin=AbiCommand\n```\nif this does not work, it doesn't make sense to install the new EPL version and to hope that this will solve your abiword problem.\n. Then I should modify my suggestion:\n- when plugins get installed, then add an entry in settings.json \nso that these plugins get automatically re-installed during a refresh-installation using bin/installDeps.sh regardless of the content of src/node_modules\n. ok.\nWhat I wanted to propose when reporting this as issue is, that (perhaps) a way should be found to automatically clean (purge) existing module subdirectories when installDeps is run.\n. @marcelklehr \n\nI think you can have this easier: just rm -rf node_modules/ep_etherpad-lite: No plugins will be touched, etherpad will have to be reinstalled from the ground up.\n\nI cannot find such a subdirectory.\n. my system has the symlink\n. \n. fixed in  d9298778650eb7be2181dc9aaf23e14faff61e99\n. will test this soon, sounds to be very interesting\n. to answer your questions:\n- my patch allows to have everything regarding pad customisation in the single settings.json file - as you know, pads can be started with different settings.json as start parameter since a while\n- patch https://github.com/Wikinaut/etherpad-lite/commit/a575de7884ef0ee3df40ca806c0e59fb58d37d2d moved the express route for /..../favicon.ico to the very end\n. @marcelklehr Yes, my patch is intended to allow different favicon urls to be set  for multiple instances. The https://github.com/Pita/etherpad-lite/pull/478 is what you were looking for (Allow settings filename to be passed as a cli option).\n. @marcelklehr wrote \"Yea, I for instance really think we should add an option for the default pad background color.... ;)\"\nOkay, let's put cynism aside for a moment.\nLike your recent patch for the EPL title tag, which is useful. I think, that the favicon (meta tag) issue and my solution  are reasoned. Why ? These both items have to do with the HTML page source code (header) as such, and not with the dynamic iframe \"content\" and/or the CSS.\nI agree and admit, that further \"flavours\" should be implemented in form of plugins and will follow your recommendations and wishes, okay ?\n. @GreatGrandMasterB \nLook to the concepts (for encrypted \"pastebin\"s, and/or ownCloud) which I have listed in this issue https://github.com/owncloud/core/issues/106 . There are client-side javascript frameworks for OpenPGP available! This would allow you to write a plugin.\nYou might be interested in something called homomorphic encryption, an area of research that is exploring ways to perform work on encrypted information without decrypting it first. I think of the changesets in an EPL database...\n. @tazhate wrote I think you should use nginx+ssl. It is easier to deploy. :)\nThank you for answering. By filing this issue I suggested a \"stand-alone\" solution (not using Nginx or Apache), because Node already is a server - this was basically what it has been written for. \nUsing EPL via Apache or Nginx server and reverse proxy results in problems, sooner or later, like https://github.com/ether/etherpad-lite/issues/1021 (reverse proxy issue when EPL instance stops while client is still connected, connection hangs).\nThe solution https://github.com/ether/etherpad-lite/issues/1148#issuecomment-10243813 appears to be answering my question.\n. solution, but not yet coded as plugin as suggested in https://github.com/ether/etherpad-lite/issues/1148#issuecomment-10243813\n/src/node/hooks/express.js\n```\n--- __express.js    2012-11-07 00:51:30.000000000 +0100\n+++ express.js  2012-11-18 20:17:15.000000000 +0100\n@@ -1,5 +1,5 @@\n var hooks = require(\"ep_etherpad-lite/static/js/pluginfw/hooks\");\n-var http = require('http');\n+var https = require('https');\n var express = require('express');\n var settings = require('../utils/Settings');\n var fs = require('fs');\n@@ -50,7 +50,14 @@\n   }\nvar app = express(); // New syntax for express v3\n-  server = http.createServer(app);\n+\n+  var options = {\n+    key: fs.readFileSync('/path-to-your/server.key'),\n+    cert: fs.readFileSync('/path-to-your/server.crt')\n+  };\n+\n+  server = https.createServer(options, app);\n+\napp.use(function (req, res, next) {\n     res.header(\"Server\", serverName);\n```\n. @marcelklehr unfortunately I don't know yet how to write a plugin. Need to study TFM.\n. Just again the question (I commit myself then to write additional documentation how to setup SSL and certificates) \nshouldn't we make https:// the default,\nand introduce one additional parameter \"forceSSL = true\" in settings.json which - if the users expressly disables falls back to the present http:// and thus no certificates are needed ?\nas described above in https://github.com/ether/etherpad-lite/issues/1148#issuecomment-10490092 it's easy.\nI don't want to be pushy: it's a proposal. It makes also session settings, API key, and credential transmission secure.\n. I have expected this argument.\nWhat when I change my posting to\nJust again the question (I commit myself then to write additional documentation how to setup SSL and certificates) \nshouldn't we integrate https://\nand introduce one additional parameter \"forceSSL = false\" in settings.json which - if the users expressly enables, they only need their server.key and server.crt as described above in https://github.com/ether/etherpad-lite/issues/1148#issuecomment-10490092  to make session settings, API key, and credential transmission secure.\n. nonono.... Node can do! No proxy needed. See my posting above. Only four lines need to be changed, and you need a server.key and server.crt (self-signed, CAcert .....).\nI tested it, and that code works.\n. Why plugin ? Such an important safety feature should be an inseparable built-in feature of the core. If you would \"pull\" a push request from me with a \"settings/parameter\" solution, then I'll happy to code these few lines.With default forceSSL = false.\n(Yes, I do know your arguments, not to blow up the code with perhaps unneeded things, but - as said - safety first)\n. @joker-x exactly, what I wanted to propose - the path to the keys in settings.json . thanks\nwho is making the pull request?\n. @joker-x Thanks for pointing me to the node-http-proxy section of the https://github.com/ether/etherpad-lite/wiki/How-to-put-Etherpad-Lite-behind-a-reverse-Proxy page (were I was active, too). On this long but comprehensive page I indeed overlooked this node-proxy method, which may be interesting for some users, now and then, and which adds further flexibility for special cases. Thanks.\nBy filing this issue I actually wanted only to propose this \"easy\" native node https case, to have at least one SSL method shown for any user, and will code a feature branch as suggested by @johnyma22 .\nCreating Certificate Authorities and self-signed SSL certificates\nMy favorite explanation web page faded away but has been archived as http://web.archive.org/web/20110523045049/http://www.tc.umn.edu/~brams006/selfsign.html . There are thousand of other pages.\nIn case you do not know. there's also a privately organised worldwide web of trust http://www.cacert.org/ . If one is an assured member like me, one can create CAcert signed server keys.\n. for those being interested in EPL-over-SSL I created a new branch https://github.com/Wikinaut/etherpad-lite/commit/eed6b752d4acd68b902030e216f38e744a3b8fd2\n. @marcelklehr wrote How do you want to query the db?\nIt is clear, and I mentioned already, that this is not easy or straightforward. I collected now some general references to \"Changesets\" and \"Operational Transform\" in the head posting of the issue thread.\n. I regard this basically as solved via the https://npmjs.org/package/ep_search plugin.. @nemobis @marcelklehr +1 for using http://translatewiki.net as I actually came from there (mediawiki + translatewiki) and regard this as very reliable and very quick.\n. The patch is \"compatible\". I mean, when not changing anything, the EPL runs in non-SSL mode as before as requested by John.\n. Yep. Everything works with https://  ->>> except the Timeslider. Can you test that, please ? It now returns a BLANK page. Perhaps we are close to find the reason now....\nTimeslider mega problem see https://github.com/ether/etherpad-lite/issues/1077\n. ok, will do so !\n. PuttyGen and OpenSSl are not 100% compatible for generating server keys. This is a well known  problem and has nothing to do with the present patch. Give me time... to document\n. @johnyma22 you wrote I can't test timeslider until we have good docs...\nAs mentioned 1000 times, p l e a s e    visit your own pad http://beta.primarypad.com/p/test/timeslider where you will certainly notice, that it does not work as expected.\n. @johnyma22 \nOpenSSH under Linux cannot read ppk files generated by PuTTY under Windows....\nUse these instructions to generate and sign server keys, one of the best descriptions on the web\nCreating Certificate Authorities and self-signed SSL certificates\nhttp://web.archive.org/web/20110704035103/http://www.tc.umn.edu/~brams006/selfsign.html\nI just contacted the author for his expressed permission to re-use his description.\n. @johnyma22 > You need useful debug messages if a user puts in a bad path/key\nNot my task, SSL works now for me, and I presented the fine basic code in my pull request; the fine tuning of error messages can be done by others, respectfully stated(*). Running an APACHE2 with wrong keys, you will find also strange misleading error messages - which nobody of the Apache foundation has fixed in the last 20 years.\n(*) I am not yet in a position to being able to supply a perfect code for error conditions like the one you have encountered (lack of knowledge, sorry). If you can add some error robustness to the crypto.js calls, I will very much appreciate this.\n. @johnyma22 Regarding this\n\n\"key\" : \"c:\\temp\\wiki\\etherpad-lite\\ep.key\", as a path doesnt work\nchanged to\n\"key\" : \"c:/temp/wiki/etherpad-lite/ep.key\",\njust needs documenting\n\n.... isn't that an issue to be reported to the people responsible for \"fs.readFileSync( filename )\", which apparently does ignore the operation-system specific path separators? \nI thought, that filenames and paths are handled transparently for the user, system independently. Will investigate, why it isn't.\n. @johnyma22 \n\nAlso RE useful debug this wont be merged until it's clear to users how to set this up, even if the debug help is provided in a wiki \"how to setup native SSL support\" or whatever you create that would be okay enough to see it merged. It's really important that people can get past any barriers that SSL may introduce :)\n\nJohn, SSL is web standard. Every admin knows. Why should we duplicate information which is available on the net, especially as it is NOT EPL default, as requested by you. Honestly, to explain here in the EPL context, how SSL works and how keys to be generated goes beyond the scope of my work and litters the EPL pages with unneeded information. \nBut to please you, I will set up a new \"ether\" wiki page\n. https://github.com/ether/etherpad-lite/wiki/Providing-encrypted-web-access-to-Etherpad-Lite-using-SSL-certificates-(HTTPS:--) as requested\n. I just want to add this here: \n- there may be problems coming up when a plugin reads foreign http: resources in the context of the https secured pad\n- I observed this effect just right now with the ep_tables plugin\n- The browser then changes the \"lock\" symbol to \"unlock\".\nI inspected the connection and the generated page code. The problem stems from the fact that ep_tables fetches via http these resources\n<link rel='stylesheet' href='http://yui.yahooapis.com/2.9.0/build/fonts/fonts-min.css' type='text/css' />   \n<link rel='stylesheet' href='http://yui.yahooapis.com/2.9.0/build/slider/assets/skins/sam/slider.css' type='text/css' />    \n...\n<link rel='stylesheet' href='http://yui.yahooapis.com/2.9.0/build/colorpicker/assets/skins/sam/colorpicker.css' type='text/css' />\nI my view this currently should not prevent you to pull my current patch.\n(updated)\n. As consequence from the previous comment,\na secure EPL set up demands that also all required resources and frameworks come via https.\n. #### I could fix the problem !\nSolution is: use protocol-independent urls \"//\" everywhere\nMediaWiki has went to this in the last year, and all urls have been replaced by \"//\". The procedure is explained for example explained here http://stackoverflow.com/a/550164 \"Is it valid to replace http:// with // in a script src=\u201chttp://\u2026\u201d?\"\n[updated]\nremoved the link to proof of concept\n. mid-air collision !\nI just posted THE solution.\n. @joker-x thanks. I also found this, and documented it, and added as a proof of concept my recent fork of ep_tables where I successfully applied the protocol independent url method. ty\n. [updated] \nremoved the link to proof of concept\n. I was right - but wrong with my proof of concept, because the yahoo server does not deliver content when requested via https:// . \nImportant\nOf course keep in mind, that the protocol-independent url only works, if the resource servers actually deliver their contents over http:// and also over https:// ,\n. I can now officially confirm, that \"it\" works. \n\"it\" means:\nwhen copying and unzipping http://yuilibrary.com/downloads/yui2/yui_2.9.0.zip to a server which delivers the stuff via https: (I used a non-Node server, running Apache), the protocol independent urls in my ep_tables fork https://github.com/Wikinaut/ep_tables/commit/c65c05924cbac89aa06e7ccbd2f92e76e2708a43 do work, and the ep_tables plugin in my SSL-EPL does work.\n. @johnyma22 we do NOT need it.\nep_tables needs it and loads it. I discovered the \"break out SSL\" when having ep_tables activated. Now everything is clear and safe. Let me know if you need more details (I wanted to be short)\nI installed locally you ONLY for the final test.\n. I installed yui locally only for my test. Everything is clear. You can \"pull\"\n. may be a small step for epl but a giant leap for mankind. Very kind. ty\n. filed as https://github.com/ether/etherpad-lite/issues/1210\nThe first list - currently comma-separated and breaking out - needs a fix, too\nI suggest, to list that in the same way as the second and third list (one per line).\n\n. Great. It's always good to have a working reference implementation of this. ty\n. fixed\n. REGRESSION !\n. +1 and watching, because I like OpenID and still maintain the MediaWiki OpenID Extension.\nWe should also consider the new method called \"Persona\"\n- https://www.mozilla.org/en-US/persona/\n- repo https://github.com/mozilla/persona.org\n. Yes, I know this RFC very well. The http://stackoverflow.com/a/550164 has some thoughts.\n. @johnyma22 ty for your kind words. Currently I am trying to download the yui from yahoo and supply a (really working) proof of concept. I am convinced that it will work.\nhttps://yui.yahoo..... does not work, the Yahoo does not deliver its content via https://..I removed already the (somehow) misleading information on #1202 (sorry for that)\n. I can now officially confirm, that \"it\" works. \n\"it\" means:\nwhen copying and unzipping http://yuilibrary.com/downloads/yui2/yui_2.9.0.zip to a server which delivers the stuff via https: (I used a non-Node server, running Apache), the protocol independent urls in my ep_tables fork https://github.com/Wikinaut/ep_tables/commit/c65c05924cbac89aa06e7ccbd2f92e76e2708a43 do work, and the ep_tables plugin in my SSL-EPL does work.\n. added for sake of completeness\nincorrectly written plugins may impose risks of mixed https/http content\nwhen referencing an insecure (http) resource within a secure (https) page. Such references create vulnerabilities that put the privacy and integrity of an otherwise-secure page at risk, because the insecure content could be modified in transit.  If added to the DOM, insecurely-delivered content can read or alter the rest of the page even if the bulk of the page was delivered over a secure connections. (cited from https://blogs.msdn.com/b/ieinternals/archive/2009/06/22/https-mixed-content-in-ie8.aspx?Redirected=true)\n. Unfortunately, this is not yet a fix of issue #1077 (but a first step towards it)\n. Just this. \n. Just this threw an error, I guess your question was perhaps relating to the other ../../ \n})();\n  </script>\n  <script type=\"text/javascript\" src=\"../../static/js/l10n.js\" async></script>\n  <link rel=\"stylesheet\" href=\"../../static/css/pad.css\">\n  <link rel=\"stylesheet\" href=\"../../static/css/timeslider.css\">\n  <link rel=\"stylesheet\" href=\"../../static/custom/timeslider.css\">\n  <style type=\"text/css\" title=\"dynamicsyntax\"></style>\n</head>\non top of this file.\nWell, I was also surprised, like you, that these lines did (currently) not cause an error.\n. (going back to my server to check with some brute-force tests)\n. I am not sure any more, if my patch is the correct solution. Closing to avoid problems.\n. fixed in https://github.com/ether/etherpad-lite/commit/98e03c1d874f7f531010e88b9f3bdff00f4f134b\n. Perhaps you can make your own checks with firebug and come to the same - or different conclusion. I spent (invested) a whole evening of checks, with clean restarts, unminified code.Could be that something is still wrong, but I haven't seen any \"404\" with the patch.\nBut remember that when being on /p/test/timeslider from the view of executing script the path is different then when being on /p/test . I also have some general concerns regarding duplicate code lines in pad and timeslider for the determination of the current document url and port number.\nI think we should go away from this \"../../\" business at all (in the code) and find a better solution.\n. @marcelklehr wrote\n\nThe connecting bar on the pad is fine as is, for me.\n\nMay be. But the fix targets to avoid an Error 404 during the requests. \nhow to reproduce\nYou can see it that way (Firefox):\n- enable Firebug\n- navigate to the timeslider page of one of your pad e.g. /p/test/timeslider\nWatch the red Error 404 for GET connectingbar.gif .\nThis is definitely wrong.\n. @marcelklehr You are wrong.\nSee  after a fresh checkout and compilation on my server (branch develop).\n- 491bf515c6fc8b5d17effd875091ba8efe3dce26\n. see https://github.com/ether/etherpad-lite/pull/1222\nWith the patch it's 200 OK\n\n. My patch is based on my network observation under Firefox 17 plus Firebug only, which I trust.\nSo I cannot say anything about \"404\" issues when using IE.\nPerhaps we are close to find the Timeslider bug. \n. @johnyma22 you said above\n\nSo the bug exists on beta.etherpad.org\nhttp://beta.etherpad.org/p/7deRwWuE6H/timeslider\nif I hit my local dev instance running the same commit in a browser w/ caching disabled I don't get the bug\nhttp://10.0.0.215:9001/p/6yifLekPrN/timeslider\n\nJust to come back to timeslider issue itself:\nwhat you said is exactly my observation. beta.etherpad.org has also the timeslider problem (you told me, not to use this as reference, and I don't do this any more), so if it has also the bug problem, this can be a pointer to a real problem inside timeslider/pad html/js code when you compare the beta.etherpad.org with your local dev version !\n. fixed in https://github.com/ether/etherpad-lite/commit/98e03c1d874f7f531010e88b9f3bdff00f4f134b\n. BTW, shall I add an information page in the EPL Wiki how to add screenshots ?\n. Some positive feedback:\nThe present version commit 5eb09f981ba0e7a9062f4d3b28d62efc3ae26f6c (Mon Jan 14 14:26:30 2013 -0800) appears to work much better:\n- timeslider works in majority of cases, and \n- I regard this version as a major improvement.\n- It's not a final solution fo the timeslider issue/s\nbecause quick timeslider pin moves can still lead to a server script crash, which just happened on my test installation with an old and bigger pad.\n. @marcelklehr Pls. use Network (Net) to see the 404. Not console.\n. With the patch 200 OK\n\n. @johnyma22 no, see my head post in https://github.com/ether/etherpad-lite/pull/1222 - this is showing the 404 in the latest (committed) git https://github.com/ether/etherpad-lite/commit/491bf515c6fc8b5d17effd875091ba8efe3dce26 .\nOr do you mean a develop which you haven't pushed yet ?\n. Nevertheless, so much trouble, we should find a clean solution of paths, in a forthcoming 1.x version\n. @marcelklehr wrote\n\n... there's nothing wrong with the image, using the latest commit in develop branch on github.com/ether/etherpad-lite. I do use the net tab in firebug and i strongly advice you to do so, too, \n\nYes, I always do this\n\nbut not on your own instance, but on beta.etherpad.org\n\nWhy not on beta ? John told me, not to use a beta as a reference. One of you is wrong.\n. @johnyma22 are you asking me? I now tested a fresh https://github.com/ether/etherpad-lite/commit/182ea62de90abb19cf1e6100d130f2051906ddb2 develop without my patch with the same result as mentioned in the head post: Firebug network on timeslider page shows the 404 for connectingbar.gif (on timeslider page). Therefore Wikinaut's answer is the same: yes, you can merge. But pls. wait for @marcelklehr 's answer. I am interested.\n. @disy-mk How to add screenshots ?\nsee https://github.com/Wikinaut/echo-server-running-on-node/wiki/How-to-add-screenshots-to-GitHub-pages\n- Use Greenshot (open source) or any other free screenshot tool. \n- Always use a lossless format, preferred is PNG. Never use JPG for screenshots or computer graphics. JPG is lossy.\n- Upload your screenshot to imgur http://imgur.com (free; like \"PasteBin\" or \"YouTube\" but for images). Remember the link which is presented to delete your image (the Url is only once presented on the screen immediately after uploading. Save that link for later use if you need it). BTW, Greenshot saves the delete hashes in a logfile of uploads.\n- Add here on GitHub a tag with the link to your image <img src=http://i.imgurl/....>. \nExample \n<img src=http://i.imgur.com/jILo3.png>\nis rendered as \n\nAnd yes, of course I am not crazy and know how to use Ctrl+F5 and the other tools to clear my browser cache/s. Also the effect that changing the code turns the 404 into 200 - and vice versa - is apparent and points to a bug in the code, not in my browser's cache.\n. fixed in https://github.com/ether/etherpad-lite/commit/98e03c1d874f7f531010e88b9f3bdff00f4f134b\n. How to isolate pads ?\nWell, there are some ideas, but no implementations yet. \nI suggested in https://github.com/ether/etherpad-lite/issues/192#issuecomment-5291678 an admin panel as plugin and in https://github.com/ether/etherpad-lite/wiki/FAQ a pruning function (\"How can I prune the database so that only the last n \"revisions\" are kept ? Both var/dirty.db and MySQL grow quickly. Production instances should use MySQL or some mature database storage mechanism. Dirty.db is not really designed for production and is just included so you can easily get started with Etherpad Lite. Etherpad Lite has no automated database pruning (removal of older revisions) mechanism.\")\n. This is a unwanted side effect of https://github.com/ether/etherpad-lite/commit/e82588c3320f8a1329f4870d0194afd689e9ac74#src/node/hooks/express/socketio.js . It is a browser effect and cannot be changed.\n. Can be closed as wontfix.\n. @crowsfan85 Thanks for video http://www.youtube.com/watch?v=Muoi3PyfkiE which documents the effect exactly. I also do not like the effect, but it can unfortunately not be avoided; I reported it also shortly after applying the patch in https://github.com/ether/etherpad-lite/pull/958#issuecomment-7870330 as annoying.\n. https://github.com/ether/etherpad-lite/issues/1233 breaks it again for IE8 . Do not deploy the https://github.com/ether/etherpad-lite/issues/1233\n. see also \n\nRegarding this \"Ping me once you have spoken to him and resolved this.\" they answered here LearnBoost/socket.io-client#382 :\n\"There nothing more that we can do about loading indicators in browsers than the techniques that we already deploy. The only known technique that kills loading indicators is https://github.com/LearnBoost/socket.io-client/blob/master/lib/transports/jsonp-polling.js#L180-186 which works in firefox.\"\n. For testing use my echo-server-running-on-node\n\nI tested with my echo-server test suite https://github.com/Wikinaut/echo-server-running-on-node . When one only uses \"jsonp-polling\", the effect is present ! Thus it is a effect from socket.io, not from EPL because not a single code line of EtherpadLite was involved in the test, it is clear that we do not have an influence on it.\nIn consequence, I therefore suggest to revert to my original patch.\n. Since https://github.com/ether/etherpad-lite/pull/1244 [in branch develop] there's now a setting for socket.io transports. [ If you wish to remove those loading indicators, simply add xhr-polling to the list of allowed transports -- this is the default value]\n. @Wikinaut please test this with your IE clients!\nYes. I'll test this as soon as possible.\n. @marcelklehr  above you wrote\n\nJust tested in IE with native XMLHTTP disabled: works.\n\nI know such placebo effect: it looks, as if it works:\nPlease can you try on your system and report here, if the IE8 without XMLHTTP really saves the changes on a pad ?\nI know of the effect, that IE8 renders the content of a pad, and you can edit it, but the changes are never sent back to the server; very interested in your answer.\n. @marcelklehr Let me also ask you: When/before testing and after a fresh installation of develop: can you please expressly clear /src/node_modules . I always do this. Does EPL then - after recompiling the dependencies - still work for you on IE8 w/o native XMLHTTP support ?\n. I made a very clean and fresh test.\n- updated node to node v0.8.15\n- deleted /src/node_module\n- git clone git://github.com/ether/etherpad-lite.git etherpad\n- chown -R etherpad etherpad\n- cd etherpad\n- git checkout develop\n- copied my settings.json\n- rcapache2 stop\n- rcapache2 start\n- su etherpad bin/run.sh\nsame error with IE8\n\n. @marcelklehr thanks for answering. I think this is a very interesting issue when it works for you, but not for me. as far as I remember, John has also a big group of IE8 users (but these IE8 have XMLHTTP support enabled, so the problem is not present for his users, AFAI remember)\nWhen debugging the IE8 some months ago, I also tried (like now) to let socket.io decide the transport, but really honestly, it did not work and immediately failed. I tested this in two fully different environments (different servers, different Operating systems, different IE8 versions).\nAgain, the effect can be shown with my https://github.com/Wikinaut/echo-server-running-on-node suite, which does not use EPL code and is better suited for such tests.\nHave you seen it ?\n. @marcelklehr I tested it also without reverse proxy, i.e. direct accessing the node (http or https server via the port number). It then also fails for me (with IE8), (I think, I already reported this in another thread.)\n. @marcelklehr then please revert your patch to the previous - my - version. It does target a IE8 problem, and your IE9 analysis  was incorrect with respect to IE8 problem.\n. @marcelklehr Marcel, that is due to hard coded io.set('transports', [ 'jsonp-polling'] );\nwhich is - as I said many times - is working in all browsers.\nYou can now play with the code in the lines before that\n```\n/\nio.set('transports', [\n    'websocket'\n  , 'flashsocket'\n  , 'htmlfile'\n  , 'xhr-polling'\n  , 'jsonp-polling'\n]);\n/\nio.set('transports', [ 'jsonp-polling'] );\n```\n. IE8 or IE9 ?\n. It will certainly work in modern browsers (IE9) with all methods\n. You need to test IE8, that's the point\n. I appreciate, that you have installed and tested with my echo-server :-)\n. We are not talking about modes. We are talking about IE8 on WIndows XP.\n. hehe, be a little more safety-oriented. The WARN does not harm.\n. Time for a permanent fork from this unsecure project.\n. hehe ... if you show a console.warn for \n- [WARN] console - Admin username and password not set in settings.json.  To access admin please uncomment and edit 'users' in settings.json\nthen a console.warn is even more justified for \"SSL -- not enabled\"\nLet me then suggest to drop the \n- [WARN] console - Admin username and password not set in settings.json.  To access admin please uncomment and edit 'users' in settings.json\n. @johnyma22 Mozilla are doing our security analysis ?\nDo we have an issue thread for this already ?\n. /p/favicon.ico is not a resource. It is a pad called \"favicon.ico\", that's fine.\nWORKSFORME / CLOSED\n. Hmm, please can you elaborate ?\nI just checked on my installation, and the pad.html shows the icon ( link is \"favicon.ico\", relative to pad.html. this is okay --> np \"/p\")\n. okay. Now I understand !!! Sorry\n. <link rel=\"shortcut icon\" href=\"favicon.ico\"> is the same regardless of the level ( /pad.html or /p/padname ).\nThe effect was not apparent on my installation, because I use a custom favicon.ico with a fixed fully specified url.\n. @all what do you think, shall /p/favicon.ico be the name of a pad, or deliver the favicon ?\nI think, it should be the name of a pad.\n. suggested solution: fix the html of pads. and also of /p/padname/timeslider ... we had this issue some days ago. I'm out of this business.. don't wanna make enemies here\n. (I close this because I have submitted too many intermediate commits. Will supply a clean pull request separately.)\n. Etherpad is fine. This solution is one proposal.\n. Well, this proposal has not found support, and I am closing this.\n. #### poll\nWe could think of introducing - yes, I know, some hate that - a new special setting in settings.json\nsettings.json \"ie8compatible\" (or we call it, because it better describes what it does, \"jsonp-polling-only\")\n\nfalse [default] ==> -  io.set('transports', ['xhr-polling', 'jsonp-polling', 'htmlfile']);\ntrue ==> io.set('transports', ['jsonp-polling']);\n\n@johnyma22  @marcelklehr @Pita Please let me know, if such a further optional parameter is acceptable for you. I can then live with it and can enable that ie8compatible mode for those servers, where I need it.\n. @marcelklehr I am always running develop - this now breaks it fully for me, sorry. In spring I invested a lot of time to find the reason, and also the others (John, Pita) were happy. I also noticed and described the annoying effect.\nPlease revert your patch.\n. It breaks the functionality for IE8 users which cannot set XMLHTTP support, for example, they do not know, or they do not have the necessary rights to set this settings.\n. (closing this pull, a new approach follows in a separate pull request)\n. I close again. Because the issue is now finally handled in https://github.com/ether/etherpad-lite/pull/1244 .\n. @johnyma22 as mentioned (you have perhaps overlooked this), he tested with IE9\nSource: https://github.com/ether/etherpad-lite/pull/1233#issuecomment-10928297\n. @johnyma22 he tested with IE9 ! source: https://github.com/ether/etherpad-lite/pull/1233#issuecomment-10928297\n. I am still suggesting this to be pulled in. Rationale: see above.\n. @johnyma22 FYI: I removed the console.log as requested (not sure, if you received a notification, that's why I add this information.)\n. I put that intentionally close to the existing transport settings ( IP, port ) - to which these settings in my view belong - which are on top.\n. @johnyma22 bump. Needed to change gitignore: added !settings.json.template . Don't know if you like that, but it was needed to commit.\n. Yes. By filing the issue I wanted to say that the (present) use of distinct (warn/debug/error...) console output in Settings.js does not make much sense, as everything is printed at the moment.\nCould perhaps only be fixed by setting the log levels before the levels are used for the time.\nYes, it is a minor bug.\n. Can this (eejs) also be causing the Timeslider problems I and many others have observed ?\n. @marcelklehr Did you mean \"ejs\" (you wrote \"eejs\")?\n. @marcelklehr wrote\n\nAnd if you open a pad first it will cache the version with src=../static... and serve that on all timeslider pages. If you open a timeslider first, it will serve the image with src=../../static... on all pages including pads -- thus resulting in 404s.\n\nMy observation differs partially;\nEven when first opening a pad (non-timeslider) page, I have the image served all on timeslider pages with error 404. \nI suppose: because the urls are different\n- the gif on pad pages is served and cached; \n- the gif on timeslider pages is never served and never cached.\n. @marcelklehr when you know everything so good, please can you now supply a solution for the existing problem?\n. I confirm that the problem is indeed fixed.\n. @peteruithoven wrote\n\nhttps://hackpad.com/mlZvEsJykI5#Hackpad-Feature-Help > Creating a Table of Contents\n\nPeter, thank you for pointing us to this interesting piece of software as an alternative to Etherpad Lite. Do you have further information, is it open source (I see \"ace\" information in the page source code, but cannot find GPL or the like licence information) ?\n. +1 (good idea & implementation)\n. I do not regard the implementation of stdin  as a valid input for the settings.json path as essential, because - in Linux systems you can use the \"xargs\" command https://en.wikipedia.org/wiki/Xargs as an alternative to pass the filename.\nBut if someone implements a clean and safe solution: why not ?\n. @rassie ok, your point is valid.\n. This is \"solved\" in branch develop https://github.com/ether/etherpad-lite/pull/1244 by adding a transport protocol parameter setting\n- introduction of settings.socketTransportProtocols\n- default value = ['xhr-polling', 'jsonp-polling' ,'htmlfile']\nLong version\nThis patch adds an optional parameter for the socket-transport-protocols. It defaults to the bouquet of possibilities which was formerly in the core, and has been proposed recently again.\nRationale (Why this new parameter has been added):\nBecause a very few old and deprecated browsers such as\n-    IE8 (when having NATIVE XMLHTTP SUPPORT disabled) do not work with the bouquet and only work with JSONP-POLLING I need a safe way in my personal settings.json to set up this. I admit that this IE8 version is used by a minority of users, so that a general restriction for this minority case to jsonp-polling can indeed not be justified.\nIn so far, this issue 1300 can be closed. \nAdmins who want this can set jsonp-polling as the only transport which then allows also all IE8 users to use EPL. As mentioned in the older issues, IE8 without native XMLHTTP support only works with jsonp-poling - Other protocols break it.\n. @ksikka Yes, the issue has been reported upstream to the socket.io staff. Please read\n- https://github.com/LearnBoost/socket.io-client/issues/382\nThere is NO final fix for this problem. \nBTW, you can test the behaviour of different socket io protocols with my https://github.com/Wikinaut/echo-server-running-on-node without the overhead of EPL code.It is definitely a problem of socket.io-client which is NOT fully IE8 compatible, because socket.io-client ignores these IE8 installations with disabled XMLHTTP support.\nSee this https://github.com/LearnBoost/socket.io-client/issues/382#issuecomment-4013471\n\n. @marcelklehr This can be closed. It is a socket.io related question and off-topic here. Moreover, it has been finally solved in EPL release 1.2.2.\n. after cloning Etherpad Lite, I always suggest to set the correct permissions to your etherpad (or node) user\nchown -R <etherpaduser> <your-installation-diretcory>\nor \nchown -R <nodeuser> <your-installation-directory>\n(This information has been - perhaps unintentionally - removed from the installation section some time ago.)\n. @johnyma22 Hi John, was there a specific reason not to accept my documentation improvement?\n. @spcsser you might be interested in fast fuzzy text searching. Then search for agrep.\n. - branch develop \n- commit 5eb09f981ba0e7a9062f4d3b28d62efc3ae26f6c\n- Author: John McLear john@mclear.co.uk\n- Date:   Mon Jan 14 14:26:30 2013 -0800\nJohn, when I try\n```\nnode bin/checkPad.js test\n```\nthe answer is\nTypeError: Object #<Object> has no method 'get'\n    at EventEmitter.Object.defineProperty.get [as dir] (/srv/etherpad/src/node_modules/npm/lib/npm.js:448:22)\n    at Object.<anonymous> (/srv/etherpad/src/node/utils/Settings.js:31:44)\n    at Module._compile (module.js:449:26)\n    at Object.Module._extensions..js (module.js:467:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Module.require (module.js:362:17)\n    at require (module.js:378:17)\n    at Object.<anonymous> (/srv/etherpad/bin/checkPad.js:14:16)\n    at Module._compile (module.js:449:26)\nPls. can you assist? What's incorrect with my call?\n. I tried several hours to fix the Timeslider LEFT side problem - without success. Perhaps anyone of you can help.\n. Indeed I used\nsu etherpaduser -c \"node bin/checkPad.js test\"\nbut this did not work. No output, no matter what padid. Can you confirm this (no-)effect on your installation ?\n. still not working for me\nsu node -c \"node bin/checkPad.js test\"\n/srv/etherpad/src/static/js/pluginfw/hooks.js:73\n  if (exports.plugins.hooks[hook_name] === undefined) return [];\n                     ^\nTypeError: Cannot read property 'hooks' of undefined\n    at Object.exports.callAll (/srv/etherpad/src/static/js/pluginfw/hooks.js:73:22)\n    at Object.Pad.init (/srv/etherpad/src/node/db/Pad.js:360:11)\n    at /srv/etherpad/src/node_modules/ueberDB/CloneAndAtomicLayer.js:100:17\n    at exports.database.get (/srv/etherpad/src/node_modules/ueberDB/CacheAndBufferLayer.js:157:5)\n    at doOperation as operatorFunction\n    at iterator (/srv/etherpad/src/node_modules/ueberDB/node_modules/channels/channels.js:46:15)\n    at /srv/etherpad/src/node_modules/ueberDB/CloneAndAtomicLayer.js:103:7\n    at exports.database.get (/srv/etherpad/src/node_modules/ueberDB/CacheAndBufferLayer.js:198:7)\n    at exports.database.get (/srv/etherpad/src/node_modules/ueberDB/mysql_db.js:98:5)\n    at Query.Client.query (/srv/etherpad/src/node_modules/ueberDB/node_modules/mysql/lib/client.js:108:11)\n. What kind of database are you using ? DirtyDB or MySQL ?\n. +1\nDuplicate of my https://github.com/ether/etherpad-lite/issues/190 \"Ultra feature request: make etherpad-lite offline-capable (HTML5)\"\n. Google Docs is offline capable, at least when using Chrome.\n. pls. indicate the browser\n. @marcelklehr I wanted to know (which browser) to exclude any problems with these socket.io \"protocol setting\" changes.\nThis reminds me to (again) ping the socket.io developers for a sustainable fix for IE8 (when XMLHTTP request is disabled)., which has an impact on these (few) EPL users, but is not caused by a flaw in EPL, but in socket.io.\n. Can you please explain what you mean exactly, and for what purpose you have added that message.\n. @JohnMcLear wrote\n\n' is bad \" is good.\n\nThis is not a helpful answer. It is unfriendly to answer my question in that way.\n. ok. I apologise: your answer was not unfriendly, but I was not wearing my glasses, did not recognise the two different quotes, and overlooked the small difference - sorry . mea culpa !\n. a comma is missing\n{ name: \"rtl\" }, // <<< here\n  // normal settings\n  { name: \"noColors\" },\n. \"Authors should be obliged to test their code before submitting it here.\"\n. this is a regression. See #1210 (reopened now)\nClosed as duplicate to #1210.\n. Good point and good example. Please continue in that way...\n+1\n. @JohnMcLear \n\nwould it not make more sense to sort by popularity/# of downloads? How about a sort option?\n\nSeveral sort options are okay, as long as the alphabetically order is the default.\n. User Story.\nAs an admin, today, I needed to de-install your ep_email_notification because this is currently broken and not working. (see other issue).\nThen I wanted to re-install them for test purposes, but could not find them back among the huge list of plugins: because they were sorted at the end! So weird.\nThis was the reason why I demand the alphabetically sorting by default. A \"ranking\" can then be indicated by \"stars\", it can also be a secondary sort option, why not.\nWhat is so complicated, that you do not understand ?\n. Social competences ?\n. closing this because of negative and rude attitude.\n. +1 for your analyis, which was on top of my list for a similar publication.\nuse method (C):\npad address as anchor part of the URL (#\u2026) which is never sent to server.\nis perfect and fully analysed for example in links mentioned here https://github.com/owncloud/core/issues/106#issuecomment-11461766 and other articles related to client-side encryption, which often uses this property.\nBut how shall our entitled pad server know our pad url, it needs that ?\nLook here to understand: a \"hidden\" encryption is perhaps to be used to enable that:\nfrom https://github.com/sebsauvage/ZeroBin\n\n. see https://github.com/toberndo/mailvelope project which solves a similar (if not, the same) issue.\n\"Mailvelope is a browser extension for Google Chrome and Firefox that allows secure email communication based on the OpenPGP standard. It can be configured to work with arbitrary Webmail provider.\"\n. @muxator as far as I remember, I had no installation problems ( https://github.com/LaKing/ep_hash_auth/issues/2 ) any more (running debian 10 aka buster/sid).. or perhaps, if available, can I use a programmatic way (variable, or function) to get the \"root\" of the installation ?\n. John, can you check you pls. check here https://github.com/Wikinaut/etherpad-lite/commit/c3bffc262358fb066c58df229033db3eff6d1fc9 why the files have these white space differences?\nI use standard Notepad++ editor. \nCan you please have a look with your editor to the original files?\n. Just a question: when will this be merged in ? Let me know, if you want further changes.\n. but wget works !\n. this is so strange\n. - Read error at byte 1887078\n- (Connection reset by peer). Retrying.\n- proxy connecting\n- then it works\n. uh:\ncurl: (56) Failure when receiving data from the peer\n@JohnMcLear : any idea, other reason than proxy ?\n. Closing the issue now (I reported the issue).\nReason:\nI don't think, that this is a general problem with etherpad. It appears to be a specific problem on that server.\nIf someone has a solution, please add your information here.\n. Same here. Firefox ESR 45.4.0 (Debian 8). What could I try, or how can I help to fix it ?\n. I think, this can be closed, as the (github) version is shown in the settings, my pad shows\nAbout\nPowered by Etherpad-lite on node.js (git revision 5a0afa).\n@yurivict pls. can you confirm my observation?\n. I think, this can be closed, as the (github) version is shown in the settings, my pad shows\nAbout\nPowered by Etherpad-lite on node.js (git revision 5a0afa).\n@yurivict pls. can you confirm my observation?\n. @JohnMcLear I think this can be closed.. @lpagliari  I have seen the version info in the settings in one of the pads I am using - cannot find that back.. @JohnMcLear one moment, please. @JohnMcLear please reopen, as the problem is still present (recent master version f5aed706b79cab1d50c94bccd9e36d69dd70b24f )\n\nOutput of a fresh pad. Strings appear in all export file formats (I tried pdf and odf) except plain text export format.. @JohnMcLear I have revisited this, the issue is still present and I kindly ask you to reopen the bug report.. settings.json:\n/* This is the path to the soffice (LibreOffice) executable. Setting it to null, disables abiword.\n     Abiword or LibreOffice is needed to advanced import/export features of pads*/  \n  \"soffice\" : \"/usr/bin/soffice\",\n$ soffice --version\nLibreOffice 5.2.7.2 20m0(Build:2). Confirmed! Solved!! Bravo!!!\n. My log file now shows:\n[2016-12-10 17:01:46.332] [ERROR] console - { [Error: connect ETIMEDOUT 104.130.77.39:443]\n  code: 'ETIMEDOUT',\n  errno: 'ETIMEDOUT',\n  syscall: 'connect',\n  address: '104.130.77.39',\n  port: 443 }\nError: connect ETIMEDOUT 104.130.77.39:443\n    at Object.exports._errnoException (util.js:907:11)\n    at exports._exceptionWithHostPort (util.js:930:20)\n    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1078:14)\n[2016-12-10 17:01:46.458] [WARN] console - { [Error: connect ETIMEDOUT 104.130.77.39:443]\n  code: 'ETIMEDOUT',\n  errno: 'ETIMEDOUT',\n  syscall: 'connect',\n  address: '104.130.77.39',\n  port: 443 }\nError: connect ETIMEDOUT 104.130.77.39:443\n    at Object.exports._errnoException (util.js:907:11)\n    at exports._exceptionWithHostPort (util.js:930:20)\n    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1078:14)\n. @Dhwty yes, seems so.. duplicate of #3090 . Just to inform you briefly that I noticed a problem in hooks/i18n.js  with the languages.isValid check, which fails for example for locales such as \"de-de\":\nif ((ext == '.json') && languages.isValid(locale)) {. I think, I wanted to propose this too, many years ago.. There will be more coming, as I resumed my work on epl.. There is also another major problem with the other favicon settings\nI have used this since years (works, but not an /admin)\n\"favicon\": \"https://another-server/favicon.ico\",\n \"faviconPad\": \"https://www.another-server/favicon.ico\",\n \"faviconTimeslider\": \"https://www.another-server/favicon.ico\",\nbut when I read https://github.com/ether/etherpad-lite/blob/6dd172d6b76cb219f0aa095ea09e43ef7f259d3d/src/node/utils/Settings.js#L44 nd the following lines in /src/node/utils/settings.js, a single custom favicon ico definition like in the following should also be working one all pad pages, but does not:\n\"favicon\": \"https://another-server/favicon.ico\",\n// \"faviconPad\": \"https://www.another-server/favicon.ico\",\n// \"faviconTimeslider\": \"https://www.another-server/favicon.ico\",\n. The exact number may be also depending on the number of installed plugins.\n[!] 49 vulnerabilities found [5998 packages audited]\n    Severity: 20 Low | 18 Moderate | 11 High. @antsar What is the best way to update everything which needs to be updated?. @antsar thanks. I remember - but not exactly - some years ago, when I started using eplite - that I simply deleted a certain subdirectory, and then a new start of EP recreated everything.\nPerhaps you know which subdirectory I can delete to force a complete rebuild of what needs to be rebuilt?. @antsar \nnpm audit fix\nor, if you know what you are doing\nnpm audit fix --force\nSource (German): https://www.heise.de/developer/meldung/JavaScript-npm-6-1-0-schiebt-ein-weiteres-Sicherheits-Feature-nach-4056196.html\nAfter that, I've got\nfound 8 vulnerabilities (6 low, 1 moderate, 1 high) in 6010 scanned packages\n  run `npm audit fix` to fix 1 of them.\n  7 vulnerabilities require manual review. See the full report for details.\n. Perhaps https://github.com/ether/etherpad-lite/pull/3473 solves this (needs confirmation).. Fixed by #3473 , closing this issue.. See https://github.com/JohnMcLear/ep_email_notifications/issues/35 where I reported this first.. I used the following \"workaround\":\n\nset up Etherpad and plugins including ep_email_notifications in \"http\" mode\nswitched to \"https\"\n\nNo mixed content issues spotted any more.. (closing the issue under the wrong title, as the underlying problem is problem with the language check in /hooks/i18n.js. A new issue will be filed.)\n```\n//    if ((ext == '.json') && languages.isValid(locale)) { <-- this does not work for de-de language\n      if (ext == '.json') {\n. @marcelklehr I just \"digged\" into the code, and resumed my work with Etherpad (especially, my plan is to fix and improve the ep-email-notification plugin). Perhaps you can work (together with me, if I can help) to fix the i10n issue/s ? Would be great. The hooks/i18n.js btw looks very ugly and old.. I suggest you run etherpad under/as user \"etherpaduser\", and make the etherpad directory (and subdirectories) and the ssl keys accessible to that user. This will work then.. @xpilgrim set the *.pem permissions to-r--------   1 etherpad etherpad``` and place the *.pem in your etherpad \"root\" directory. \nSo, in other words, don't use a subdirectory. Works for me.. @tobit6795 remove the comment tokens ( / ... / ). then pls. close. By the way, better store hashes instead of plain text passwords, see https://www.npmjs.com/package/ep_hash_auth. @muxator I fully support your proposal.. (same issue here). I confirm, that the patch solves the issue.. Sorry, I propose to drop (delete) similar-looking characters from the list var chars = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-+\";\nThis is just a quick example:\nvar chars = \"23456789ABCDEFGHJKLMNOPQRSTUWXYZabcdefghjkmnpqrstuwxyz-+\";. [complete] solution:\nsudo apt install libreoffice ttf-mscorefonts-installer\n(ttf-mscorefonts were missing). Clarification request/question:\nFrom the above I understand that the branch https://github.com/raybellis/etherpad-lite/tree/async-PR is now stable enough to try and test it on own instances.\nIs my view correct?. [UPDATE: this is solved now in a newer branch]\n@raybellis @muxator I have now setup my test server using raybellis/async 39b0c7efdf2d86f84c11615e26cf9915bf7fb9a1 (and before, I tried, raybellis/async-PR  https://github.com/raybellis/etherpad-lite/commit/4bf1a434d44c792850bb643a9b2c04d78c65af42 ) branch.\nBoth branches currently fail to load a page. Let me know, when you have some news.\n...\n[2019-02-26 12:14:37.352] [INFO] ueberDB - Flushed 5 values\n[2019-02-26 12:14:43.990] [ERROR] console - { inspect: [Function: inspect] }\n[2019-02-26 12:14:45.576] [INFO] ueberDB - Flushed 1 values\n...\n[2019-02-26 12:14:45.677] [INFO] ueberDB - Flushed 1 values\n[2019-02-26 12:14:45.911] [INFO] access - [ENTER] Pad \"test\": Client kFv_Vbak0IPr100-AAAA with IP \"127.0.0.1\" entered the pad\n[2019-02-26 12:14:45.913] [ERROR] console - (node:1489) UnhandledPromiseRejectionWarning: ReferenceError: newVars is not defined\n    at handleClientReady (/srv/etherpad/src/node/handler/PadMessageHandler.js:1132:28)\n    at processTicksAndRejections (internal/process/next_tick.js:81:5)\n[2019-02-26 12:14:45.914] [ERROR] console - (node:1489) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)\n[2019-02-26 12:14:45.914] [ERROR] console - (node:1489) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n[2019-02-26 12:14:45.984] [INFO] ueberDB - Flushed 1 values\n. @raybellis Confirmed, https://github.com/ether/etherpad-lite/commit/f8a26cbf44a2a2aa090e65d4c1a05a2fe31f82cb works! Thank you.\nI see one error:\n```\n2019-02-26 23:23:23.066] [INFO] ueberDB - Flushed 1 values\n[2019-02-26 23:23:26.081] [ERROR] console - { inspect: [Function: inspect] }\n...\n[2019-02-26 23:23:28.681] [INFO] ueberDB - Flushed 1 values\n[2019-02-26 23:23:29.045] [INFO] access - [ENTER] Pad \"test\": Client AlC0RET9-mC4OmtLAAAA with IP \"XXX\" entered the pad\n[2019-02-26 23:23:29.987] [INFO] ueberDB - Flushed 1 values\n[2019-02-26 23:23:32.428] [WARN] console - Getting pad email stuff for test\n[2019-02-26 23:23:32.431] [WARN] console - padId is test\n...\n[2019-02-26 23:23:32.993] [INFO] ueberDB - Flushed 3 values\n. And I see\n[ERROR] console - (node:3464)\n[DEP0096] DeprecationWarning: timers.unenroll() is deprecated.\nPlease use clearTimeout instead.\n```\nThis Error is also present in the callback version.. I am now checking the compatibility with my plugins; I will present a list of the working plugins soon, but this\n\nhttps://npmjs.org/package/ep_small_list\n\nis not working, perhaps @raybellis can you have a look, why \"small_list\" appears not to work with the async branch?\n. Are you interested in the list of my plugins which run (on the async version) without apparent issues?. @raybellis Just as an idea: perhaps the compatibility can programmatically be tested at runtime, perhaps at least in some cases.. @raybellis In general I meant above: Etherpad core (admin module) can perhaps test (with assertions?) whether or not the installed plugins are async-compatible.. @raybellis I confirm that also my installation (currently 64fdc73cdc47829fcb19f3e82c878a5f94e00f0d ) is now working with the original ep_small_list plugin. Thank you very much.. * b34fc2de2b40138275275596a790358fe1e130d9 works with node 11.10.1\n* d03da2c8eb36f94a53621566e7cc0cfef8a493e5 (async) works with node 11.10.1\n. @muxator May I suggest that you commit your clean.sh (as shown above) script to the /bin directory in the repo as a maintenance script? What do you/the others think?. @raybellis What do I have to do exactly?. better use decodeURIComponent(padID)\nsee my patch https://github.com/Wikinaut/etherpad-lite/commit/5ea8dd6b7005c69cda8824197e8ec849e559207a\n. @Pita: in my version: yes. I recommend to use decodeURIComponent instead of unescape (in pad2.js and in timeslider.html)\nSee http://xkr.us/articles/javascript/encode-compare/ and other webpages.\nI also changed the order of padname and \"Etherpad lite\" string in HTML page titles, see https://github.com/Wikinaut/etherpad-lite/commit/a6711403784c424537b8e7d534307f9398391665 I like to have the specific padname beginning the page titles and browser tabs such as \"Mypad | Etherpad lite\", instead of the non-specific \"Etherpad lite | Mypad\". \n. https?\n. http or https . https must also be allowed.\n[UPDATE]\nallow also case-insensitive protocol identifiers, ie. allow HTTp://\n. This also matches if someone calls their local favicon file \"httpfavicon.ico\". I am not in favor of a mere substr test\n. I will do this, if you ask me so kindly.\nBut why don't you like a debug (!= info) message for this so important settings ? It can help a lot (while debugging).\n. ",
    "rspeer": "Monospace is useful, especially for the kind of people who'll be running an experimental new version of EtherPad. Why not pull in the change, and then johnyma22 or whoever wants to can make the config option to hide it on certain sites?\n. This is coming from the \"globalPads\" object in node/db/PadManager.js.\nFor some reason, globalPads is defined as an array [] instead of an empty object {}, even though it is never used as an array; this gives it lots of methods it seems that it will never need. Changing it to {} would almost solve the problem.\nUnfortunately, even empty objects have methods, like \"constructor\" and \"proto\", so a further workaround is needed.\n. Instead of writing regular expressions for syntax highlighting from scratch, I'd suggest using an existing syntax highlighting package.\nThis one looks good: http://alexgorbatchev.com/SyntaxHighlighter/\nI've used ACE for editable text with syntax highlighting, but perhaps it comes with too much other stuff: http://ace.ajax.org/\n. To be more specific: Wikinaut, just go to your repository and click the \"Pull request\" button.\n. Sounds like a huge pit of bugs. Microsoft has attempted to do this for over a decade, and even they haven't managed to make the interaction patterns make sense.\n. That would be amazing, but is there even source code or an API available for SketchSpace?\n. ",
    "crash-dive": "Although I don't have any stats I am inclined to agree with johnyma22 on this. Although I can see why some people might want it, I do not think this is something the average user would need and therefore it should be off by default.\n. It works fine for me in chrome and firefox, however I cannot get IE to even load a pad at the moment.\nOne suggestion I would make is to override the default browser a:visited pseudo-class as it is not that common on websites to use it any more, this one does not for example.\n. I did more testing and there are a few issues that comes up. If you type anything starting with www then that entire phrase becomes an anchor tag, even if there is a space after the www. So for example in the sentence \"Put www at the start of the address\" \"www at\" would become an anchor. The regex need updating to require a dot after the www, which I think would fix the issue, but my regex knowledge is not great.\nAlso you are attaching a title atribute which gives the tool tip \"test\" to the anchor, I assume you want that to say something else?\nFinally after something has been linked it makes it hard to edit that link as clicking on it causes you to navigate to the link, the alternative to that is make ctrl-click navigate and use a tool tip to inform the user. But that depends on what everyone else thinks.\nWhen I started writing this IE9 still does not work correctly, however it seems to work now. I could test the link feature and it works the same as it does in FF and Chrome.\n. Yes I can reproduce it, but only in IE9.\nAfter a little more testing the issue seems to be the cursor will not stay on an empty line and get shifted down through the lines until it hits a line with text in it.\n. It might also be a good idea to suggest the clients update the API to use POST for state changing requests now that the API supports POST (https://github.com/Pita/etherpad-lite/pull/214).\nAt the very least you want setHtml, setText, createPad and createGroupPad to use POST as they set the pad text and could easily hit the GET character limit.\n. I was testing this out and it caused the pad to hang a few times in chrome. The problem seems to be related to when you try and delete the url of a youtube video you have added.\nHowever I could not get it to happen everytime, so I will wait until you make some more changes and have another go.\n. Firefox does the same for me. It seems to be caused only when the property \"grayedOut\" is being set. However I have never come across that property before so I do not know what it does.\nThe error is not just in FF, I opened Chrome and looked and info is null when grayedOut is being set there as well, it is just no error is thrown to the console.\n. Sorry should have given a little more info, I will do my best but I am still not 100% on how all the editor works.\nThe error Wikinaut is talking abouts comes during initialisation of the info object in pad.js. This object is created on line 2403 by calling the Ace2Editor function and is then used by a lot of functions via closure scoping.\nHowever on line 1301 the function padeditor.disable calls editor.setProperty (grayedOut\", true) this function then in turn calls info.ace_setProperty found on line 2493 (note we have now hit the info object). However this is done before the function Ace2Editor is called, meaing that info has not been set and therefore a null error is thrown to the console.\nI hope that helps explain a little better what is going on.\n. I talked with jtlebi on the pad and we looked at the issue with the first numbers of lists longer than 9 being cut off. I suggested using list-style-position:inside which does fix the issue, however it also means that the text after the list gets indented a little so they do not line up so the other solution they suggested was increase the left padding. I am not sure which one is better.\nAlso the list type created in the domline.js appendSpan needs changing from ul to ol for ordered list because the start attribute is not used by Chrome or IE for ul lists. The quick and easy solution jtlebi suggested would be in that function you just add a if(listType === \"number\") but the code for lists could be refactored a bit to make it better. I have been looking through it to see how much work that would be.\n. @Pita it is because by default numbers in lists sit outside the content flow and when you reached double digits the numbers on the list were overlapping with the line numbers bar.\nThe alternative solution to that is add list-style-position:inside, but that when you hit double digits the lists look like this:\nruby\n1. Test\n2. Test\n3. Test\n4. Test\n5. Test\n6. Test\n7. Test\n8. Test\n9. Test\n10. Test\nSee how when you move from 9 to 10 the text does not line up? The choice is indenting the pad more like the current version or having the text on numbered lists not line up when the number of digits changes.\n. Just an update on this I have been reading and getting a better understanding on how everything works on the editor side of things. I will try and writing something that explains the structure and post it and we will see if anyone thinks it is helpful. And even if is is not it will have helped me.\nAlso as I am reading the comments a lot I think I will make a note of the typos in the comments and at the end submit a pull to fix them. For example there have been a few times I thought Yoda wrote them: \"if we haven't recieved the clientVars yet, then this message should it be\"\n. ",
    "dohse": "As we are running a etherpad instance for the use of mostly user with a computer science background. it would be really helpful for us to have at least the option to offer monospace font. it would a real hassle to maintain a patch for that.\ni understand that you want to keep the ui clean and do not want to scare away users with to many knobs, but please offer the option for a monospace font button.\n. ",
    "konklone": "OK, thanks, that worked. \nI looked at that article, but since I do not want to run it HTTPS-only, I was unable to easily figure out which parts of the example applied to etherpad lite generally, and which to HTTPS-only configurations. You might want to include a \"vanilla\" example.\n. If I didn't know when I read it what parts specifically applied to HTTPS setups, I wouldn't know how to edit it to fix that. Presumably proxy_buffering isn't the only option to extract from it. Someone who actually knows what etherpad-lite needs on deploy, like the project maintainer, should take that on.\n. @JohnMcLear Good to know about the load testing tool, I may ask you questions about that. (Didn't see that til now, since I think you added that via Edit, so I didn't get an email.)\n@kradan Thanks! I was hoping to hear a little bit more from the community here, but I may as well go ahead. If/when I do, I'll let you know and point you to my fork.\n. That is really interesting. And very new...and sockjs is extremely tiny. Offhand, I think that along with a socket.io->sockjs refactor, ensuring that all module-specific syntax stays as encapsulated as possible would take care of a lot of what Primus does. But I'm definitely open to it, especially if anyone can describe their experience using it.\n. ",
    "riseuplabs": "It seems like it is still a problem. I had a crash with this error last night using 37645869eb96d47b4ca9921eb984b216baff6e89\n[2012-02-21 04:08:13.373] [ERROR] console - TypeError: Cannot read property 'json' of undefined\n    at Object.callback (/srv/etherpad-lite/node/handler/PadMessageHandler.js:130:62)\n    at /srv/etherpad-lite/node_modules/ueberDB/CloneAndAtomicLayer.js:120:17\n    at /srv/etherpad-lite/node_modules/ueberDB/CacheAndBufferLayer.js:345:7\n    at [object Object].get (/srv/etherpad-lite/node_modules/ueberDB/CacheAndBufferLayer.js:142:5)\n    at [object Object].getSub (/srv/etherpad-lite/node_modules/ueberDB/CacheAndBufferLayer.js:317:8)\n    at [object Object].doOperation as operatorFunction\n    at [object Object].emit (/srv/etherpad-lite/node_modules/ueberDB/node_modules/channels/channels.js:38:11)\n    at [object Object].getSub (/srv/etherpad-lite/node_modules/ueberDB/CloneAndAtomicLayer.js:72:17)\n    at Object.getAuthorColorId (/srv/etherpad-lite/node/db/AuthorManager.js:150:6)\n    at Object.handleDisconnect (/srv/etherpad-lite/node/handler/PadMessageHandler.js:109:19)\nRESTART!\n. This appears to be a duplicate of #224\n. I have this problem as well. It seems like the cookie is removed when you disconnect from the pad, which could be often if you are on an unreliable link. \n. I have this same issue as well, I am running fine with 2cc7dcb. The proxy_buffering off; nginx tip is a red herring, I have that enabled, but if I update to nodejs 1.7 and the latest npm, and I update to the latest git version (043ceac) things fail as reported in this bug. It also has nothing to do with the run.sh/safeRun.sh.\nMy logs fill up pretty fast with the repeated:\n[WARN] socket.io - client not handshaken 'client should reconnect'\n[INFO] socket.io - transport end\n. Some additional information, from startup:\nEnsure that all dependencies are up to date...\nnpm WARN gzip@0.1.0 package.json: bugs['web'] should probably be bugs['url']\nnpm WARN log4js@0.3.9 package.json: bugs['web'] should probably be bugs['url']\nasync@0.1.15 ./node_modules/async \ngzip@0.1.0 ./node_modules/gzip \nlog4js@0.3.9 ./node_modules/log4js \nuglify-js@1.1.1 ./node_modules/uglify-js \nformidable@1.0.7 ./node_modules/formidable \nclean-css@0.2.4 ./node_modules/clean-css \n\u2514\u2500\u2500 optimist@0.1.9\nueberDB@0.1.3 ./node_modules/ueberDB \n\u251c\u2500\u2500 channels@0.0.2\n\u251c\u2500\u2500 dirty@0.9.4\n\u2514\u2500\u2500 mysql@0.9.4\nsocket.io@0.8.7 ./node_modules/socket.io \n\u251c\u2500\u2500 policyfile@0.0.4\n\u251c\u2500\u2500 redis@0.6.7\n\u2514\u2500\u2500 socket.io-client@0.8.7\nexpress@2.5.0 ./node_modules/express \n\u251c\u2500\u2500 mime@1.2.4\n\u251c\u2500\u2500 mkdirp@0.0.7\n\u251c\u2500\u2500 qs@0.4.0\n\u2514\u2500\u2500 connect@1.7.3\njoose@3.50.0 ./node_modules/joose \n\u251c\u2500\u2500 temp@0.2.0\n\u251c\u2500\u2500 optimist@0.2.8 (wordwrap@0.0.2)\n\u2514\u2500\u2500 detective@0.0.3\nEnsure jQuery is downloaded and up to date...\n[: 57: =: unexpected operator\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2011-11-25 10:10:25.447] [INFO] console - ESC[39mYour Etherpad Lite git version is 043ceac\n. I've just confirmed, 53bf7dc does work, and 2e79bd5 is where the issue occurs.\n. Wow, thanks for the quick resolution on this!\n. Its true I was using 1.6 and went to 1.7, but this looks like a shell script test problem. I would be able to figure it out if I understood what shell script was being run here.\n. Ok, its because this line:\nVERSION=$(cat static/js/jquery.min.js | head -n 1 | grep -o \"v[0-9].[0-9]\");\nVERSION is not getting set to anything, so the test that follows:\nif [ ${VERSION#v} = $NEEDED_VERSION ]; then\nfails because $VERSION is empty.\nNow, why that test fails...\n. Ok, the test fails with jquery 1.7 because head -1 produces:\n/*\nif that head -1 was replaced with head -3, I sent a pull request\n. hm, shouldn't that be:\nhttp:\\/\\/j.mp\\/ep-lite\\n \nif you were actually escaping the /'s?\nIt appears that if I escape ALL the backslashes, then it causes the error, but by escaping just the backslashes after the http: makes it work... that seems a bit strange.\n. This shows a snippet with automatic logrotation built in: https://github.com/csausdev/log4js-node/blob/master/test/with-log-rolling.json\n. It might be that this is supported already by log4js, but I haven't yet figured out how to make it work.\nAccording to the log4js documentation, you should be able to drop a file called 'log4js.json' in \"the current directory\" (whatever that is), or in the require paths, and then log4js will pick it up automatically, by default, the configuration file is checked for changes every 60 seconds, and if changed, reloaded. This allows changes to logging levels to occur without restarting the application. \nThe logrotation 'snippit' in the comment above is supposed to be one of those log4js.json files that you could put somewhere and get logrotation for free. However, I've tried to put that in every location that I could think of, and it did not work. See my issue filed with log4js: https://github.com/csausdev/log4js-node/issues/47\n. thanks for the suggestion for copytruncate, I had forgotten about that option. I use that instead of trying to get log4js to work. \n. I just had one of these when abiword failed to convert an odt file to... odt. Obviously failed conversions should be fixed in some way, but I think that etherpad should deal with that failure a little more gracefully, rather than a complete shutdown of the entire service. A shutdown disconnects all users, and then requires a full cold boot up, which takes some time (meanwhile everyone is loading the URLs).\nHere is the trace I just received:\n[2012-02-20 14:17:07.457] [ERROR] console - Error: convert /tmp/eplite_export_3752296240.html /tmp/eplite_export40.odt odt\nAbiWord: could not open the file [/tmp/eplite_export_3752296240.html]\nerror -1\nAbiWord:>\n    at /srv/etherpad-lite/node_modules/async-stacktrace/ERR.js:46:13\n    at /srv/etherpad-lite/node/handler/ExportHandler.js:162:32\n    at /srv/etherpad-lite/node_modules/async/lib/async.js:199:13\n    at /srv/etherpad-lite/node_modules/async/lib/async.js:120:21\n    at /srv/etherpad-lite/node_modules/async/lib/async.js:196:17\n    at Object.callback (/srv/etherpad-lite/node_modules/async/lib/async.js:499:34)\n    at /srv/etherpad-lite/node/utils/Abiword.js:133:12\n    at Socket.onAbiwordStdout (/srv/etherpad-lite/node/utils/Abiword.js:117:9)\n    at Socket.emit (events.js:67:17)\n    at Pipe.onread (net.js:347:14)\nRESTART!\n. This would be a nice functionality!\n. that works, but it means hacking the code... it seems like it would be better if it was a setting exposed in settings.json\n. Hi,\nI run the riseup.net implementation of this pad, and I can confirm that we have had some scalability issues recently. The other day I was told about a pad that I connected to which had 100+ users connected to it at once. This particular pad had its URL posted to twitter, and was being abused by trolls, \"for fun\". That meant that the pad's contents were being removed and text was being pasted in the pad over existing text at a fairly alarming rate. The pad was basically useless while this was happening, and it also caused other pads to also be essentially useless. This isolated incident certainly raises interesting questions about abuse, scalability and how to handle this. I suspect the main problem in this case was the incredibly large number of individual changesets that were having to be tracked for replay purposes.\nHowever, that particular incident aside, we have observed large numbers of users on (\"legitimate\") pads can result in a few undesirable behaviors: \n1. people in the pad, or in other pads on the system find themselves disconnected regularly and have to reconnect\n2. the node.js process seems to get pegged at 100%CPU\n3. other pieces of the subsystem did not seem to be affected, such as mysql, interrupts, memory, etc.\nOn Sunday, I pulled the latest commits, which I believe have improved the situation somewhat (I believe there were some fixes for large pads that may have helped things), or the people who were using the pad with large numbers of people may have stopped using it. \nWe are running things with a nginx front-end, so I wonder if there might be some tunings that we can do there (increasing number of workers, or maximum number of threads or something), or if there is some tuning possibilities within nodejs that I am not aware of.\n. perhaps something like https://github.com/nodejitsu/haibu could be used?\n. sorry, i'm investigating, will get back to you\n. I didn't have old source in my repo, but something was cached somewhere. I stopped everything and then ran the bin/installDep.sh and then started things back up and the new interface was there (and the read-only button gone). I'm not sure I understand what happened there, is there some cache that I could have been hitting?\n. Its not easy to replicate this problem, or at least we haven't found what triggers it yet. According to the logs, in the last 5 hours we've had 7 RESTARTs happen with this same backtrace. \nIts a little hard to quantify load on the server, we do graph various components, but I dont know if there is a good way to pull metrics from etherpadlite (such as a global count of number of users connected), or from nodejs... If you have any suggestions of ways we could probe that information, that would be very helpful!\nI also agree that it is unlikely the chat stuff caused it, but we did have to pull a number of other commits to get that, as well as update nodejs to 0.6.9, so it could be a number of things.\n. Its pretty regular that we are getting about 7 of these every 5 hours.\n. Unfortunately, even with this commit, we are still seeing the \n[2012-01-26 14:22:57.822] [ERROR] console - TypeError: Cannot read property 'author' of undefined\nissue.\nI'll note that this is also reported in #385 and #360.\n. [2012-02-19 22:30:58.262] [ERROR] console - TypeError: Cannot read property 'author' of undefined\n    at /srv/etherpad-lite/node/handler/PadMessageHandler.js:740:58\n    at /srv/etherpad-lite/node_modules/async/lib/async.js:494:21\n    at /srv/etherpad-lite/node_modules/async/lib/async.js:194:13\n    at /srv/etherpad-lite/node_modules/async/lib/async.js:118:13\n    at /srv/etherpad-lite/node_modules/async/lib/async.js:129:25\n    at /srv/etherpad-lite/node_modules/async/lib/async.js:196:17\n    at /srv/etherpad-lite/node_modules/async/lib/async.js:499:34\n    at /srv/etherpad-lite/node_modules/async/lib/async.js:199:13\n    at /srv/etherpad-lite/node_modules/async/lib/async.js:105:25\n    at /srv/etherpad-lite/node_modules/async/lib/async.js:196:17\n. Uh, no you are absolutely right. I'm not on the latest rev. I'm going to close this issue until I've straightened out my end.\n. 1 minute response, and four minutes later a fix, awesome.\n. We are running 1.2.9. It looks like beta.etherpad.org has a number of plugins enabled? We've only got the ep_monospace_default plugin enabled.\n. indeed, updating to the latest master makes this issue go away\n. disy-mk: you are saying you can see the behavior?\n. my chromium version is 26.0.1410.43\n. I'm going to update to the latest (which also requires that I update my nodejs/npm and libv8 pieces) and then report back.\n. I updated to 1.2.10 and nodejs 0.10.5 along with libv8 3.14.5 and I'm still seeing this behavior\n. I also updated to the latest master, and this behavior is still there\n. ",
    "pmkane": "Ditto, had this happen in our instance running against trunk (https://github.com/Pita/etherpad-lite/commit/cfb58a80a30486156a15515164c9c0f4647f165b):\n[2012-03-21 16:41:59.249] [ERROR] console - TypeError: Cannot read property 'json' of undefined\n    at Object.callback (/home/etherpad/etherpad-lite/node/handler/PadMessageHandler.js:130:62)\n    at /home/etherpad/etherpad-lite/node_modules/ueberDB/CloneAndAtomicLayer.js:120:17\n    at /home/etherpad/etherpad-lite/node_modules/ueberDB/CacheAndBufferLayer.js:345:7\n    at [object Object].get (/home/etherpad/etherpad-lite/node_modules/ueberDB/CacheAndBufferLayer.js:142:5)\n    at [object Object].getSub (/home/etherpad/etherpad-lite/node_modules/ueberDB/CacheAndBufferLayer.js:317:8)\n    at [object Object].doOperation as operatorFunction\n    at [object Object].emit (/home/etherpad/etherpad-lite/node_modules/ueberDB/node_modules/channels/channels.js:38:11)\n    at [object Object].getSub (/home/etherpad/etherpad-lite/node_modules/ueberDB/CloneAndAtomicLayer.js:72:17)\n    at Object.getAuthorColorId (/home/etherpad/etherpad-lite/node/db/AuthorManager.js:150:6)\n    at Object.handleDisconnect (/home/etherpad/etherpad-lite/node/handler/PadMessageHandler.js:109:19)\n. ",
    "hikinggrass": "this problem will be fixed easily (just waiting for my pull request to be accepted) - at the moment you can just apply this fix manually: https://github.com/Pita/etherpad-lite/pull/136/files \n. ",
    "toastbrotch": "thanx for your answer.\nbut does this also work if the etherpad-lite daemon is binded to localhost, as i dont want to run it on public? as binding does make it unreachable from the internet i think this would not work, as jquery just talks over internet to the daemon (as it runs inside your browser)... right?\n. if you start the daemon and its not binded to localhost, everone that finds/knows this url can open up his own pads and use my server for his stuff... most integration so far i've seen is just iframes (where i really easy find the url) or jquery (which is also very easy, as it does talk directly with the webservice). i dont like the idea to provide a etherpad-lite server to anyone and anyone is able to doodle around with the system where i have some important/secret/... pads in.\nin my opinion it should/could work somehow like this:\n- webservice bind to localhost (so its unreachable from outside my host)\n- on localhost only the php-lib talks to the webservice and outputs the html and js\n- on top of this output is the actual editor (which only talks to the php-lib and not to the webservice)\nin this way you have full controll about your pads (in the application that uses the php-lib) but still do not loose the nice features of the editor.\ni dont know if i misunderstood/missed something, but i believe this is not (easy) possible now. right?\n. yes. i've seen this. but its only on a pad-basis not on the webservice. so its no lockdown of the webservice at all...\n. in 2. \"removing public access\" means bind the webservice to localhost?\nin 3. the webservice still needs to be on public wan to be able to edit pads with a nice gui (not just read/write by php-lib)\n. actually the goal is to controll access to existing pads and also to controll creation of new pads. but not loosing the ability to have the nice gui (like on http://beta.etherpad.org/p/hansi with chat, timeslider, ...). \nhow do you do that in general?\nhow do you do that if you have php and the user-credentials and permissions inside some db?\ni mean if the webservice is open then i see this page where every one can create new pads and so on:\nhttp://beta.etherpad.org/\n. ok. so etherpad-lite is not usable as backend system for any cms/blog or anything else where you want to control your content. its just an open and uncontrolled space where everyone can create pads on your server without you even know whats happening...hm. no option for me. the system and the whole idea is quite cool, but it lacks what i described here https://github.com/Pita/etherpad-lite/issues/140#issuecomment-1955660 to get a really cool content-storage.\n. i dont want someone else to do that!! that is a nasty allegation!!\ni just asked if this scenario is possible and what are the solutions/howtos/guidelines/drawbacks the creators of this tool would propose. but i'm not sure if you got the point about it. and i still think its not possible out of the box with the tools and api you provide on it currently. and i'm pretty sure, the same question arises to lots that try to use it in their backend to manage content in a secure and controlled way (noone wants to open up the content-database to the public in an uncontrolled way)\nso this might could have been a feature request or a request for guidelines/howto/information but make with it what you want. thanx for your time.\n. ",
    "hseagle2015": "Unfortunately, I didn't.\n. ",
    "josswinn": "I'm trying to get this working, too. I have a permissions or path problem, I think. The script executes run.sh but the script can't find node.js even if run as root. Running it as root without the init script works fine. node is in root's path.\n. I might add that node.js is owned by root and everything in the etherpad folder is owned by 'etherpad' user. Running run.sh as 'etherpad' user works fine, too. \nThe relevant part of the init script is:\n. /etc/rc.d/init.d/functions\ndesc=\"etherpad server\"\nprog=\"run.sh\"\nLOGFILE=/var/log/etherpad.log\nUSER=etherpad\nGROUP=etherpad\nBINDIR=/var/www/html/etherpad/bin\nPATH=$BINDIR:$PATH\nif [ -r /etc/sysconfig/$prog ]; then\n        source /etc/sysconfig/$prog\nfi\nstart() {\n        echo -n $\"Starting $desc ($prog): \"\n        daemon --check=$prog ${BINDIR}/${prog} -l ${LOGFILE} -u ${USER} -g ${GROUP} -v -f\n        RETVAL=$?\n        echo\n    [ $RETVAL -eq 0 ] && touch /var/lock/subsys/$prog\n        return $RETVAL\n}\n. Not yet. My main issue with ep-lite at the moment is frequent disconnections, which I guess is something wrong with node.js \n. Thanks for this. It is nice and simple. However, there are two problems.\n1) After starting the service, it continues to spit output into the terminal.\n2) After starting the service and checking it works, I quit the terminal and the process seems to hang in the browser. If I refresh the pad, it just hangs without fully loading.\nI'm going to try and figure out what the root problem is, but thought I'd share it here in case someone has a quick answer.\nThanks again.\n. OK. Thanks. I've had a look at how RedHat starts a daemon service and started to splice together something based on your script and an existing script (for ntpd). It doesn't solve either problem yet, but maybe it's a start. I'll look at it again tomorrow:\nSource function library.\n. /etc/init.d/functions\nUSER=\"etherpad\"\nprog=/var/www/html/etherpad/bin/run.sh\nlockfile=/var/lock/subsys/$prog\nstart() {\n# Start daemons.\n    echo -n $\"Starting $prog: \"\n    daemon /bin/su - $USER -c $prog $OPTIONS\n    RETVAL=$?\n    echo\n    [ $RETVAL -eq 0 ] && touch $lockfile\n    return $RETVAL\n}\nstop() {\n        [ \"$EUID\" != \"0\" ] && exit 4\n        echo -n $\"Shutting down $prog: \"\n        killproc $prog\n        RETVAL=$?\n        echo\n        [ $RETVAL -eq 0 ] && rm -f $lockfile\n        return $RETVAL\n}\nSee how we were called.\ncase \"$1\" in\n  start)\n        start\n        ;;\n  stop)\n        stop\n        ;;\n  status)\n        status $prog\n        ;;\n  restart|force-reload)\n        stop\n        start\n        ;;\n  try-restart|condrestart)\n        if status $prog > /dev/null; then\n            stop\n            start\n        fi\n        ;;\n  reload)\n        exit 3\n        ;;\n  *)\n        echo $\"Usage: $0 {start|stop|status|restart|try-restart|force-reload}\"\n        exit 2\nesac\n. I've not got around to it yet. \n. ",
    "inspired12": "I would like to bump this issue again. Im assuming the CentOS flavor of the init script would also work with Redhat setups. Has anyone had luck with this?\n. Hey guys, I'm planning on giving this a go this weekend. Did you have any\nluck after the latest update?\nThanks for all the help so far!\n- J\nOn Tue, Nov 1, 2011 at 6:30 PM, Joss Winn \nreply@reply.github.comwrote:\n\nOK. Thanks. I've had a look at how RedHat starts a daemon service and\nstarted to splice together something based on your script and an existing\nscript (for ntpd). It doesn't solve either problem yet, but maybe it's a\nstart. I'll look at it again tomorrow:\nSource function library.\n. /etc/init.d/functions\nUSER=\"etherpad\"\nprog=/var/www/html/etherpad/bin/run.sh\nlockfile=/var/lock/subsys/$prog\nstart() {\n# Start daemons.\n   echo -n $\"Starting $prog: \"\n   daemon /bin/su - $USER -c $prog $OPTIONS\n   RETVAL=$?\n   echo\n   [ $RETVAL -eq 0 ] && touch $lockfile\n   return $RETVAL\n}\nstop() {\n       [ \"$EUID\" != \"0\" ] && exit 4\n       echo -n $\"Shutting down $prog: \"\n       killproc $prog\n       RETVAL=$?\n       echo\n       [ $RETVAL -eq 0 ] && rm -f $lockfile\n       return $RETVAL\n}\nSee how we were called.\ncase \"$1\" in\n start)\n       start\n       ;;\n stop)\n       stop\n       ;;\n status)\n       status $prog\n       ;;\n restart|force-reload)\n       stop\n       start\n       ;;\n try-restart|condrestart)\n       if status $prog > /dev/null; then\n           stop\n           start\n       fi\n       ;;\n reload)\n       exit 3\n       ;;\n *)\n       echo $\"Usage: $0\n{start|stop|status|restart|try-restart|force-reload}\"\n       exit 2\nesac\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/144#issuecomment-2597669\n. \n",
    "CheShACatCSA": "This should do the job,  although it's super basic :) \n- Make sure to set the 3 variables. \n- etherpad-lite must be set up to run as it's own exclusive user, since the \"stop\" action in this script will kill all processes owned by that user.\n- Set ether-pad lite to run on startup by placing it at /etc/init.d/etherpad-lite then running  \"chkconfig --add etherpad-lite\"\n```\n!/bin/sh\n\n\n\nchkconfig: 2345 98 55\ndescription:  etherpad-lite\nVery basic etherpad-lite init script\nfor CentOS and Red Hat based GNU/Linux distros\nIncluding basic support for IRIX style chkconfig\n\nby CheShA for qikpad.co.uk\n\nSet these variables\nUser etherpad-lite service should run as\nUSER=\"etherpad-lite\"\nLocation of the script to start etherpad-lite\nSTARTSCRIPT=\"/usr/share/etherpad-lite/bin/run.sh\"\nLocation of this init script\nINITSCRIPT=\"/etc/init.d/etherpad-lite\"\nend variables\ncase \"$1\" in\n  start)\n        echo -n \"Starting etherpad-lite... \"\n        /bin/su - $USER -c $STARTSCRIPT &\n        echo \"Done.\"\n        ;;\n  stop)\n        echo -n \"Sending SIG TERM to all etherpad-lite services... \" \n    pkill -u $USER\n        echo \"Done.\"\n        ;;\n  force-kill)\n        echo -n \"Sending SIG KILL to all etherpad-lite services... \"\n    pkill -9 -u $USER\n        echo \"Done.\"\n        ;;\n*)\n        echo \"Usage: $INITSCRIPT {start|stop|force-kill}\"\n        exit 1\nesac\nexit 0\n```\nCheers,\nCheShA\n. If you set this up to start on boot using chkconfig, you will not see these issues.\nJust restart the machine and the servic will start up as part of the boot process.,  and continue running within a system process on your server. At the minute, it is running within your ssh session, so when you log out, all child processes are killed with the end of the session. The output will go, too (it may appear on one of the tty, but this is not a problem; use a different tty).\nThis is a quick and dirty solution I made for a friend's Centos server. If I  get time to look into how to spawn daemon processes the red hat way, I might revisit this and do a more proper job.\n. ",
    "kunoFM": "+1\n. I would have expected that NEW pads can only be created by the API. \nExisting pads should be accessible with or without API.\n. Yes, I agree with you. \nBoth make sense to me.\n. Option \"editOnly\" makes it possible to control the creation of new pads. External application can use API for creation. But users can then use the pads both \"embedded\" or stand-alone and can invite other users, who might not be users of the external application, to contribute to the pad.\nOption \"requireSession\" limits the whole access to pads to the users of an external application.\nBoth use cases seem useful and make sense to me, as they address different scenarios.\n. Just tried the new windows download from https://github.com/downloads/Pita/etherpad-lite/etherpad-lite-win.zip\nStill the same result. Tried different PCs / Laptops but all with Windows 7.\n\n. ",
    "soniktrooth": "\"Colors will always look different on different monitors and platforms\"\nIs this not exactly the reason that you shouldn't nail it down? I find the colours way too dark as well. It seems to me that you should err on the side of lighter than darker because the text is black. \n. ",
    "bmamlin": "I created a BrightColorPicker JQuery plugin and used it to replace Farbtastic with some brighter colors in an etherpad-lite fork.  It looks like this:\n\nIt's obviously much simpler than Farbtastic's widget, but I prefer the simpler (and brighter) options.  I'm a n00b to github and don't want to presume anyone will care... especially given Pita's comments above and since this issue has been closed for months.  If this is worthy of a pull request let me know, I'm happy to share. -Burke\n. Thanks!  Here's an tweaked version with some of your suggestions:\n\n- Shadow is gone\n- Hacky close button replaced with consistent Cancel button\nThe save button doesn't really add anything, since clicking on any color automatically applies the color and dismisses the dialog (less clicks == better, IMHO).  For aesthetic balance, I've made the preview swatch the same width as the Cancel button.\nIt appears to be working across latest Chrome/Safari/Firefox.  Some behavior that isn't communicated in an image: tapping the user's swatch toggles the color picker and, as I've mentioned, selecting any color instantly applies it.  You can give it a try here.\nIf it looks okay, let me know and I'll submit a pull request.\nCheers,\n-Burke\nUPDATE: after chatting with 0ip, I'll work on a fix for Android and try tweaking the spectrum a bit.\n. Thanks for the suggestions, 0ip!  Here's the color picker with recommended changes:\n\n- A (hopefully) Pita-pleasing spectrum with twice the color choices (80-color palette)\n- Shadow and close button are gone\n- Cancel button\n- Save button for folks on Android 4.0.0 or 4.0.1 (selected color is immediately applied for everyone else)\n- Clicking the user's swatch toggles the color picker\nIt's running here.  Give it a whirl and let me know if you have any more suggestions before I make a pull request.\n. Ugh.  Blasted Android 4.0.1!  You're right that the text field is being \"clicked\" before the color DIVs.  Unfortunately, setting the z-index is not enough.  I can get the color choices to work (clickable) as DIVs if they're displayed as block with relative positioning, but as soon as I try making them inline-block, float, or absolute positioned (to get them laid out properly), they're under the text field again.  I suppose an image might work, but one of the nice features of the BrightColorPicker is that you can configure the brightness (I was hoping to make it a EPL setting so admins could tweak the brightness of colors for their implementation in their settings file).\nStuck for now... but haven't given up hope. :-)\n. Happy New Year!  Well, I tried all kinds of tricks to get around the bug in Android 4.0.1's browser (z-level, divs, spans, tables, etc.) without success, so I built a fallback to an mapped image for unsupported browsers.  I suppose the image could be used in all cases, but I'm holding out hope that \u2013\u00a0at some point \u2013\u00a0admins might be able to tweak the brightness to their liking.\n\nI left the Cancel button (for people who don't realize they can just tap their color swatch again to dismiss the picker), but removed the Save button, since tapping on a color now applies it immediately in all browsers.\nAs it stands, it's working in at least latest Chrome/Safari/Firefox + Android 3.0+ from my testing.\n. 0ip, this site has the latest version of my changes (you might have to shift+reload or clear you cache to update css/js files)... but you probably mean the latest version of EPL.  The cloudfoundry site is actually running this fork's cf-support branch, which is a variant of Pita's EPL.  A branch of Pita's EPL with the latest BrightColorPIcker is available here, but I don't have that running on a public site.  If you need my branch on a public site, I can try to find a way to get it up & running somewhere.\n. This looks like it might be a duplicate of #151 (which is closed).  FWIW, I agree that Farbtastic's colors are too dark and so I patched etherpad-lite to use a brighter color picker.  See my comment in #151.  Cheers, -Burke\n. ",
    "HoverHell": "As a quick&simple fix, it is possible to just change var __factor = ... in static/js/farbtastic.js to something closer to 1.  It also permits darker colors as a result, but with any user discretion that's not a problem.\n. Note that the more commonly used header for that purpose is X-Forwarded-User; and it would be sufficiently safe to add a config option that makes etherpad read that header if present and authenticate as the specified user (just as safe as using a webserver in front of the etherpad for authentication).\n(REMOTE_USER is, usually, a wsgi / fastcgi variable)\n. HoverHell/etherpad-lite@5a5dd9034f6ef8abcb7176f0bab3ba389a08cf75\n(also see two other commits in my fork for possible usefulness)\n. I implemented this for myself back then, but it was not merged.\nOn 24 Feb 2016 15:49, \"Leho Kraav\" notifications@github.com wrote:\n\nThis never moved forward even with the bounty?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/551#issuecomment-188240767\n.\n. \n",
    "elijh": "I would very much like lighter colors.\n. I agree, the default colors are way too dark.\n. if not settings.json, how about a default-cookie.json?\n. Ah, search fail. Here it is: Issue 114\n. > In addition, the program string \"Etherpad Lite\" should become a parameter in settings.json .\nYes, indeed! I would add also the favicon. I think it is very common to want to change the site title and favicon for an etherpad-lite installation, but a pain to have to keep merging index.html and pad.html with upstream.\nThis feature request should perhaps be another issue? Maybe when you start etherpad lite, it converts template/pad.html into static/pad.html using settings.json. \n. There is related project:\nhttps://github.com/unhosted/ueberRemoteStorage\nThe idea is to do away with the etherpad lite server entirely. Instead, you pick whatever storage provider you want. It does much of what you want (local storage caching). It also syncs this remotely. It is still experimental.\n. afaik, non-latin UTF-8 pad names will work fine, so long as you fix the character set used by mysql:\nALTER DATABASE `etherpad-lite` CHARACTER SET utf8 COLLATE utf8_bin;\nUSE `etherpad-lite`;\nALTER TABLE `store` CONVERT TO CHARACTER SET utf8 COLLATE utf8_bin;\nNot sure about other DBs.\nHere is a pad name in hindi: https://pad.riseup.net/p/\u092e\u093e\u0928\u0915\u0939\u093f\u0928\u094d\u0926\u0940\nworks fine.\n. beta does not replace ; with _\nthe wiki has correct instructions for utf8 setup for mysql.\n. Yeah, I prefer (C) precisely because it is what will be needed eventually to support client-encrypted pads. But it is not a minor change.\n. Holy shit, there was just a glitch in the matrix. It appears that Chrome has started to send the location.hash in the referer header.\nSteps to reproduce:\n- click on this link to pull up a comment on this page: https://github.com/ether/etherpad-lite/issues/1603#issuecomment-19043686 (with location hash to jump to the comment)\n- click on this link https://riseup.net/what-is-my-referrer (from this page)\n- check what headers are sent by the browser.\nSure enough, just as the what-is-my-referrer page says, the referer header is being sent with the location hash:\nReferer:https://github.com/ether/etherpad-lite/issues/1603#issuecomment-19043686\nThis is new behavior, and violates the RFC. Lets review the RFC 2616 language on referers:\nThe URI MUST NOT include a fragment\nWhat is a fragment? \"The fragment identifier introduced by a hash mark # is the optional last part of a URL for a document. It is typically used to identify a portion of that document.\" (src).\nThis is not the first time Chrome has violated an important aspect of the HTTP RFCs, won't be the last. This change must certainly be deliberate.\nSadly, I think that (D) \"interstitial page\" is the only option that makes sense at the moment.\n. Really weird, I am no longer able to reproduce fragment in the referrer. So, it must have been a non-deterministic bug in my version of Chromium. I will try to reproduce.\n. We have started to see this frequently. The only solution has been to delete the pad. It is hard to figure out which pad is the problem. It would help a lot if:\n(1) JSON errors did not cause etherpad-lite process to die, bringing down the whole server in an endless death spiral of repeated restarts.\n(2) JSON errors would log the pad id that caused the problem.\nThen I could produce a corpus of several texts that cause the problem.\n. Oh, and we use mysql with a utf8 collation.\n. on second thought, it is going to be tricky to find what text is causing the problem, if indeed it is particular text. the problem is that the JSON error is triggered because the database record is truncated. for example:\n{\"atext\":{\"text\":\"blah blah\nIf I take that text ('blah blah' in this example) and paste it into a new pad then it works fine. This leads me to believe that if it is a character(s) that is causing the problem, then whatever that character is is no longer in the database.\nand yes, the pads that i have seen this with do tend to have a variety of languages mixed together. the crash today was triggered by a pad with french, english, and arabic. maybe it is a RTL issue?\n. oh, that is a good thought!\nto translate, i think what @webzwo0i is saying is that mysql only supports three byte utf8 and chokes very badly when it gets a sequence of characters with 4 byte utf8. The result was that mysql would truncate the string, which is exactly what we are seeing here.\nPerhaps the easiest fix is to switch from the utf8 character set to the utf8mb4 character set. This is possible in mysql v5.5.3 and later.\nhttps://mathiasbynens.be/notes/mysql-utf8mb4\n. changing the charset to utf8mb4 seems to have done the trick.\n. for us, switching to utf8mb4 did the trick. no problems since then. it did, however, require us to keep the service offline for a day (changing charsets on a large db is surprisingly slow).\ni updated the wiki so that the instructions now use utf8mb4 https://github.com/ether/etherpad-lite/wiki/How-to-use-Etherpad-Lite-with-MySQL\n. At the time, I think our etherpad-lite db was about ~ 60GB (InnoDB, 100M rows). There may have been something wrong, but it took over 12 hours for us. We followed the directions here https://mathiasbynens.be/notes/mysql-utf8mb4 (you need to potentially change the size of some of the fields since now more bytes are needed for the same length of strings). \nHowever, we disabled collation entirely because we were not able to migrate to utf8mb4_bin. For some reason, the command to change the collation to utf8mb4_bin wanted to treat \"cafe\" and \"caf\u00e9\" as the same string, and it bombed out for unique fields saying that a duplicate value already existed. I don't know why collation would care, since I thought it just cares about order, but when we just dropped all the collation it worked fine. A quick skim through the code made me think that etherpad lite doesn't use any \"ORDER BY\" SQL anyway.\n. I am still getting these as of today, even for a brand new pad that only I connected to and after force reloading in the browser.\nUncaught TypeError: Cannot read property 'className' of undefined\n. here is a summary of the errors:\n```\n[2015-05-16 22:42:22.963] [WARN] client - TypeError: $(...).closest(...).get(...) is undefined -- { errorId: '03DRyqZDGOJfbySK5RXA',\n  msg: 'TypeError: $(...).closest(...).get(...) is undefined',\n  url: 'https://pad.riseup.net/p/xxxxxxxxxxx',\n  linenumber: 65,\n  userAgent: 'Mozilla/5.0 xxxx Firefox/38.0' }\n[2015-05-16 22:42:54.359] [WARN] client - Uncaught TypeError: Cannot read property 'className' of undefined -- { errorId: 'LVyT9ylHhBm3b5NdiWK3',\n  msg: 'Uncaught TypeError: Cannot read property \\'className\\' of undefined',\n  url: 'https://pad.riseup.net/p/xxxxxxxxxxx',\n  linenumber: 65,\n  userAgent: 'Mozilla/5.0 xxxx Chromium/41.0.2272.76 Chrome/41.0.2272.76 Safari/537.36' }\n[2015-05-16 22:43:19.889] [WARN] client - TypeError: undefined is not an object (evaluating '$(span.target).closest('span').get(0).className') -- { errorId: 'PvhxJsK4pJyMi6Xn3p7e',\n  msg: 'TypeError: undefined is not an object (evaluating \\'$(span.target).closest(\\'span\\').get(0).className\\')',\n  url: 'https://pad.riseup.net/p/xxxxxxxxxxx',\n  linenumber: 65,\n  userAgent: 'Mozilla/5.0 xxxx AppleWebKit/600.3.18 Version/8.0.3 Safari/600.3.18' }\n[2015-05-16 22:43:59.590] [WARN] client - Error: Permission denied to access property \"document\" -- { errorId: 'QcYNAUmZ1ZAWBa0MilbS',\n  msg: 'Error: Permission denied to access property \"document\"',\n  url: 'https://pad.riseup.net/p/xxxxxxxxxxx',\n  linenumber: 34,\n  userAgent: 'Mozilla/5.0 xxxx Firefox/38.0' }\n```\n(pad url and user agent anonymized)\nas you can see, it does not seem to matter which browser.\n. removing all the plugins did not change anything, but bin/cleanRun.sh seems to have reduced the number of errors (or maybe it is just later in the day and there are fewer people connected!). maybe now js will update eventually everywhere. i will update this issue with a report back of how it goes.\n. after 5 hrs on latest develop branch, there are fewer of the previous type of errors, but a bunch of these started showing up (54 instances):\n[2015-05-17 04:22:41.898] [WARN] client - Script error. -- { errorId: 'sY5o20l45suwRYM3XvVw',\n  msg: 'Script error.',\n  url: 'https://pad.riseup.net/p/xxxxxxxxxxx',\n  linenumber: 0,\n  userAgent: 'Mozilla/5.0 xxxx Gecko/20140319 Firefox/24.0 Iceweasel/24.4.0' }\n. i am pretty sure it was one of the changes on May 19, because develop HEAD worked fine for us the day before.\n. OK, introduced in b662d5c61802d42ee4214799520e7c3ed95a3ef5\noddly not resolved by 818408cf4984be67e4e3955acb9b0364cb0014f9\nI don't see how that commit relates to the call stack, but I confirmed several times that everything is kosher with the parent, but crashes on b662d5c61802d42ee4214799520e7c3ed95a3ef5\n. I have not been able to reproduce this problem in 1.5.7.\n. yes, removing overflow: scroll does remove the duplicate scrollbars for me. I tested firefox/iceweasel and chromium on Ubuntu 15.04, 14.10, and Debian Jessie. \nto clarify, you must have enough text to make the main editor window scroll before you see the duplicate scrollbars. For example (from current beta.etherpad.org):\n\n. yes, that also eliminates the troublesome line.\n. ",
    "h3ndrik": "I can't access the \"Enter your name\" Field on Android 2.3.3 (HTC Sense). All it does is jumping into the text(pad) area.\nAdditionally the cursor isn't shown in the text(pad) area.\n. ",
    "gulaschskanone": "@0ip take a look at ep_brightcolorpicker and feel free to improve that\n. Need help: The plugin mentioned above discards the colors chosen so the next visit it does not have colors. Does anyone know how colors can be chose persistently?\n. solved\n. Hello guys,\nafter checkout release/1.5.6 (from release/1.5.2) we got almost the same error:\n\n[2015-05-28 16:56:51.320] [ERROR] console - ReferenceError: ejs:1\n   1| <% e._init(__output); %><%\n   2|   var settings = require(\"ep_etherpad-lite/node/utils/Settings\");\n   3| %>\n   4| <!doctype html>\n__output is not defined\n[...]\n\nand\n\n[2015-05-28 16:54:22.709] [ERROR] console - TypeError: undefined is not a function\n   at /opt/etherpad-lite/src/node/hooks/express/specialpages.js:63:9\n   at callbacks (/opt/etherpad-lite/src/node_modules/express/lib/router/index.js:164:37)\n   at param (/opt/etherpad-lite/src/node_modules/express/lib/router/index.js:138:11)\n   at pass (/opt/etherpad-lite/src/node_modules/express/lib/router/index.js:145:5)\n   at Router._dispatch (/opt/etherpad-lite/src/node_modules/express/lib/router/index.js:173:5)\n   at Object.router (/opt/etherpad-lite/src/node_modules/express/lib/router/index.js:33:10)\n   at next (/opt/etherpad-lite/src/node_modules/express/node_modules/connect/lib/proto.js:194:15)\n   at next (/opt/etherpad-lite/src/node_modules/express/node_modules/connect/lib/proto.js:169:78)\n   at next (/opt/etherpad-lite/src/node_modules/express/node_modules/connect/lib/proto.js:169:78)\n   at next (/opt/etherpad-lite/src/node_modules/express/node_modules/connect/lib/proto.js:169:78)\n\nFrontend error:\n\n{\n \"error\": \"Sorry, something bad happened!\"\n}\n\nPlugins are uninstalled and etherpad was restarted.\nDid anyone know the solution?\nThe package.json contains \"ejs\" : \"2.3.1\",\nShould we do anything else after git checkout?\nThanks for reading.\n. wow, thanks for the instant answer!\nI used the init.d script for restarting. \nDirectly starting solved the problem. Thanks a lot, John!\n\nws@0.5.0 install /opt/etherpad-lite/src/node_modules/socket.io/node_modules/engine.io/node_modules/ws\n. \n",
    "chapel": "Sorry about that, tab issue.\n. ",
    "codywilbourn": "I know this question is a bit dated, but you can use UNIX sockets.  I spent about 40 min tracing this all the way back to node-mysql (https://github.com/felixge/node-mysql/issues/60)\nUse this line:\n\"port\"    : \"\\/var/lib/mysql/mysql.sock\",\n. ",
    "ozkatz": "Oh, just checked it, the same 403 response happens when I try and import a file (POST /p/<pad id>/import).\n. How can I make sure that it does? I set the sessionID cookie once, when entering the pad, and it should be available to all URLs. this cookie is only removed when the user logs out. it is available when watching the pad itself and when replaying the pad's history, so i guess it should also be available at export\\import. unless i'm missing something..?\nThanks again! :)\n. I'm pretty sure it was an error on my part (unfortunately I can't reproduce now since I'm no longer involved with the project where etherpad-lite is used).\nAlso, it has been a year since I opened this and no one else complained about this - I guess this can be safely closed..\n. ",
    "webspeaks": "I am having the same issue. When performing the export function, I get \"403 - Can't touch this\" error. I have set the sessionId cookie which is available to all group pads.\nIs there any solution to this?\n. @marcelklehr I am not really sure about GIT version. I downloaded it from etherpad.org few days back.\nHow can I check the git version.\n. @marcelklehr  It is 2954824\nHowever I can get the pad data through PHP API, but not through jQuery plugin export.\n. I am trying to export the data of group pad manually using the jQuery plugin for etherpad lite. But while accessing the export URL as /p//export/txt gives '403 - can't touch this; error.\nBut I can get the same group pad contents using the PHP API. Only JavaScript code not working.\n. I do not export by clicking on the export links in the pad UI. But I have written a custom function in jQuery that performs the export as\n``` javascript\nvar epframeId = 'epframe'+ 'myPad';\nvar frameUrl = $('#'+ epframeId).attr('src').split('?')[0];\nvar contentsUrl = frameUrl + \"/export/html\";\n//It gives 403 error\njQuery.get(contentsUrl, function(data) {\n    processResponse(data);\n});\n```\n. I checked the request in the Node.js console, cookie is being sent. Still 403 error!\n. ",
    "tjwelde": "I am having the same issue on the origin/developer branch https://github.com/Pita/etherpad-lite/commit/3944517aff7e2712abe8c1a6ebee588e2017f4e1\nI am getting a 403 error when I try to import or export\nThe request sends the session cookie to the server and nodejs gets the request (as i can see in the log):\n[2012-11-06 19:32:59.161] [DEBUG] ueberDB - GET    - pad:g.AUCl7Azb6XIydjLS$beckettmoodle2 - {\"atext\":{\"text\":\"Welcome to Etherpad Lite!\\n\\nThis pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!\\n\\nHallo, cool Firefox geht :)\\naber leider noch nicht der Import :(\\n\\nhmm und was machen wir da????\\nich wei\u00df auch nicht genau\\n\\nund wer ist da?\\n\\n\\nICH!\\n\\n\",\"attribs\":\"|4+52_0|1+s_0+10|1+1_1|2+v_1+p|1+1_0|2+h_1|2+2*1+4|2+2\"},\"pool\":{\"numToAttrib\":{\"0\":[\"author\",\"a.Kys9O0uInUEtyvP2\"],\"1\":[\"author\",\"a.gIqq6GZGXIqaL38t\"],\"2\":[\"insertorder\",\"first\"],\"3\":[\"list\",\"bullet1\"],\"4\":[\"lmkr\",\"1\"],\"5\":[\"start\",\"1\"],\"6\":[\"start\",\"2\"],\"7\":[\"list\",\"indent1\"],\"8\":[\"list\",\"indent2\"],\"9\":[\"list\",\"indent3\"]},\"nextNum\":10},\"head\":87,\"chatHead\":2,\"publicStatus\":false,\"passwordHash\":null,\"savedRevisions\":[]} - from database \n[2012-11-06 19:32:59.161] [INFO] http - 403, POST /p/g.AUCl7Azb6XIydjLS$beckettmoodle2/import\nAny ideas?\n. This only happens to pads, which were created with the API!\nEven, if i set the settings to: 'requireSession: false && editonly: false', the API created pads can't import/export.\nThe pads, which I created with these settings are importing/exporting quite good (little things->later)\n. What marcelkehr wrote here: https://github.com/ether/etherpad-lite/issues/163#issuecomment-3782451 (two comments further up) would be perfect!\n. Thanks. Looks good!\n. In the version 0aa0c69ba32d7bfef7f06991c73103b510fd70b6 I get an error after passing in 1mb of written text.\nFollowing error occurs: \n[2013-09-04 15:26:02.594] [INFO] ueberDB - Flushed 4 values\n[2013-09-04 15:26:02.606] [DEBUG] ueberDB - SET    - globalAuthor:a.u8n7Xocd2M3nKjC3 - {\"colorId\":11,\"name\":null,\"timestamp\":1378301161430} - to buffer\n[2013-09-04 15:26:02.613] [DEBUG] message - to 6pjQkwMa6R2zsZbMJSer: {\"type\":\"COLLABROOM\",\"data\":{\"type\":\"ACCEPT_COMMIT\",\"newRev\":21}}\n[2013-09-04 15:26:02.613] [DEBUG] socket.io - clearing poll timeout\n[2013-09-04 15:26:02.613] [DEBUG] socket.io - xhr-polling writing '4:::{\"type\":\"COLLABROOM\",\"data\":{\"type\":\"ACCEPT_COMMIT\",\"newRev\":21}}'\n[2013-09-04 15:26:02.614] [DEBUG] socket.io - set close timeout for client '6pjQkwMa6R2zsZbMJSer'\n[2013-09-04 15:26:02.614] [DEBUG] ueberDB - GET    - pad:g.neKNDmLjQoI76ZYi$aber0:revs:22 - {\"changeset\":\"Z:lflt>1|2cm=lfgu=4y|1+1$\\n\",\"meta\":{\"author\":\"\",\"timestamp\":1378301162119}} - from cache\n[2013-09-04 15:26:02.615] [DEBUG] message - to 6pjQkwMa6R2zsZbMJSer: {\"type\":\"COLLABROOM\",\"data\":{\"type\":\"NEW_CHANGES\",\"newRev\":22,\"changeset\":\"Z:lflt>1|2cm=lfgu=4y|1+1$\\n\",\"apool\":{\"numToAttrib\":{},\"attribToNum\":{},\"nextNum\":0},\"author\":\"\",\"currentTime\":1378301162119,\"timeDelta\":683}}\n[2013-09-04 15:26:02.616] [ERROR] console - Error: write ECONNRESET\n    at errnoException (net.js:769:11)\n    at Object.afterWrite (net.js:593:19)\n[2013-09-04 15:26:02.616] [INFO] console - graceful shutdown...\nThis error in actual Version as of 04.Sept.2013:\n[2013-09-04 15:32:32.918] [INFO] ueberDB - Flushed 4 values\n[2013-09-04 15:32:32.934] [DEBUG] ueberDB - SET    - globalAuthor:a.u8n7Xocd2M3nKjC3 - {\"colorId\":11,\"name\":null,\"timestamp\":1378301551592} - to buffer\n[2013-09-04 15:32:32.934] [DEBUG] message - to 4_Uu7l7VBSdpcn7zK-Ty: {\"type\":\"COLLABROOM\",\"data\":{\"type\":\"ACCEPT_COMMIT\",\"newRev\":21}}\n[2013-09-04 15:32:32.934] [DEBUG] socket.io - clearing poll timeout\n[2013-09-04 15:32:32.936] [DEBUG] socket.io - xhr-polling writing '4:::{\"type\":\"COLLABROOM\",\"data\":{\"type\":\"ACCEPT_COMMIT\",\"newRev\":21}}'\n[2013-09-04 15:32:32.948] [DEBUG] socket.io - set close timeout for client '4_Uu7l7VBSdpcn7zK-Ty'\n[2013-09-04 15:32:32.948] [DEBUG] ueberDB - GET    - pad:g.neKNDmLjQoI76ZYi$aber0:revs:22 - {\"changeset\":\"Z:lflt>1|2cm=lfgu=4y|1+1$\\n\",\"meta\":{\"author\":\"\",\"timestamp\":1378301552663}} - from cache\n[2013-09-04 15:32:32.956] [ERROR] console - Error: Got a packet bigger than 'max_allowed_packet' bytes\n    at Function.Client._packetToUserObject (/Users/timowelde/Documents/workspaces/etherpad/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/client.js:387:11)\n    at Query._handlePacket (/Users/timowelde/Documents/workspaces/etherpad/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/query.js:33:33)\n    at Client._handlePacket (/Users/timowelde/Documents/workspaces/etherpad/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/client.js:312:14)\n    at Parser.EventEmitter.emit (events.js:96:17)\n    at Parser.write.emitPacket (/Users/timowelde/Documents/workspaces/etherpad/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/parser.js:71:14)\n    at Parser.write (/Users/timowelde/Documents/workspaces/etherpad/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/parser.js:576:7)\n    at Socket.EventEmitter.emit (events.js:96:17)\n    at TCP.onread (net.js:396:14)\n[2013-09-04 15:32:32.956] [INFO] console - graceful shutdown...\n[2013-09-04 15:32:32.957] [DEBUG] socket.io - setting request 'GET' '/socket.io/1/xhr-polling/4_Uu7l7VBSdpcn7zK-Ty?t=1378301552942'\n[2013-09-04 15:32:32.957] [DEBUG] socket.io - setting poll timeout\n[2013-09-04 15:32:32.957] [DEBUG] socket.io - discarding transport\n[2013-09-04 15:32:32.957] [DEBUG] socket.io - cleared close timeout for client '4_Uu7l7VBSdpcn7zK-Ty'\n[2013-09-04 15:32:32.957] [DEBUG] message - to 4_Uu7l7VBSdpcn7zK-Ty: {\"type\":\"COLLABROOM\",\"data\":{\"type\":\"NEW_CHANGES\",\"newRev\":22,\"changeset\":\"Z:lflt>1|2cm=lfgu=4y|1+1$\\n\",\"apool\":{\"numToAttrib\":{},\"attribToNum\":{},\"nextNum\":0},\"author\":\"\",\"currentTime\":1378301552663,\"timeDelta\":1065}}\n[2013-09-04 15:32:32.957] [DEBUG] socket.io - clearing poll timeout\n[2013-09-04 15:32:32.957] [DEBUG] socket.io - xhr-polling writing '4:::{\"type\":\"COLLABROOM\",\"data\":{\"type\":\"NEW_CHANGES\",\"newRev\":22,\"changeset\":\"Z:lflt>1|2cm=lfgu=4y|1+1$\\\\n\",\"apool\":{\"numToAttrib\":{},\"attribToNum\":{},\"nextNum\":0},\"author\":\"\",\"currentTime\":1378301552663,\"timeDelta\":1065}}'\n[2013-09-04 15:32:32.958] [DEBUG] socket.io - set close timeout for client '4_Uu7l7VBSdpcn7zK-Ty'\n[2013-09-04 15:32:32.959] [ERROR] console - Error: write EPIPE\n    at errnoException (net.js:769:11)\n    at Object.afterWrite (net.js:593:19)\n[2013-09-04 15:32:33.025] [DEBUG] socket.io - setting request 'GET' '/socket.io/1/xhr-polling/4_Uu7l7VBSdpcn7zK-Ty?t=1378301553020'\n[2013-09-04 15:32:33.025] [DEBUG] socket.io - setting poll timeout\n[2013-09-04 15:32:33.026] [DEBUG] socket.io - discarding transport\n[2013-09-04 15:32:33.026] [DEBUG] socket.io - cleared close timeout for client '4_Uu7l7VBSdpcn7zK-Ty'\n. Make a group, an author and a session\ndelete the group, then try to delete the session.\nThis is what happens:\n[2013-01-27 19:20:00.659] [INFO] API - RESPONSE, deleteSession, 500\n[2013-01-27 19:20:00.659] [ERROR] console - TypeError: Cannot read property 'sessionIDs' of undefined\nWhen I try to delete the session another time, the server does nothing and the browser waits till infinity\n. Ah yes. This is good now. Thanks\n. We have the same error here. -> https://github.com/Pita/etherpad-lite/issues/1105\nI tested this also without https and still the same error!\nTo get rid of the 404 you have to modify \"src/node/handler/ImportHandler.js\":199 \nsrc='/static/js/jquery.js' -> src='../../static/js/jquery.js'\nThat's a good start, but other errors occur..\n. pull latest changes from branch develop\nsettings.json: \n- \"requireSession\" : true\n- \"editOnly\" : true\ncreate a group\ncreate a grouppad\ncreate an author\ncreate a session for the author and the group\nopen the pad in an iframe\nclick import/export, select a file and click import\n. Yes, same error with public pads in an iframe. ^^ only 3 lines remaining\n. FYI: Status here (05.12.2012-15:48)\nWhen trying to import\nServer:\n[2012-12-05 15:47:06.131] [ERROR] console - TypeError: Object # has no method 'tmpDir'\n    at /var/lib/nodejs/node-apps/etherpad-lite/src/node/handler/ImportHandler.js:94:31\n    at /var/lib/nodejs/node-apps/etherpad-lite/src/node_modules/async/lib/async.js:486:21\n    at /var/lib/nodejs/node-apps/etherpad-lite/src/node_modules/async/lib/async.js:185:13\n    at /var/lib/nodejs/node-apps/etherpad-lite/src/node_modules/async/lib/async.js:108:13\n    at /var/lib/nodejs/node-apps/etherpad-lite/src/node_modules/async/lib/async.js:119:25\n    at /var/lib/nodejs/node-apps/etherpad-lite/src/node_modules/async/lib/async.js:187:17\n    at Object.oncomplete (/var/lib/nodejs/node-apps/etherpad-lite/src/node_modules/async/lib/async.js:491:34)\n[2012-12-05 15:47:06.131] [INFO] console - graceful shutdown...\n[2012-12-05 15:47:06.131] [INFO] console - db sucessfully closed.\n. OS: Ubuntu 12.04.1 LTS\nnode: v0.6.12\nnpm: v1.1.4\ngit-rev: https://github.com/ether/etherpad-lite/commit/b5af6439692c8474766f445009666c256f25c143\nif it helps, here is the result of the git bisect\nd0a17d547168a0bcb8e35a7f63ba37ad2d360f5c is the first bad commit\ncommit d0a17d547168a0bcb8e35a7f63ba37ad2d360f5c\nAuthor: Iv\u00e1n Eixarch miao.org@gmail.com\nDate:   Fri Nov 23 18:18:03 2012 +0100\ntest import converting to html instead to txt by default\n:040000 040000 63d442ae48fc20a375566ffaa90400c8cc824b21 463fadca6074e2f1d355dc80dece649653879a7e M  src\n. fyi: My version is the actual version of nodejs distributed through apt-get\n. @disy-mk Thanks a lot. Good options, but I compiled it by myself now\n@johnyma22 I didn't find any notice about which version to use in the Install docs\n. @johnyma22 Ah you changed it, wonderfull!\nSorry that it wasn't issue related, but good to have this clear\nTo be back on topic: Nothing changed! Same error as before. \n. This is now tested with following configurations:\nStandard: over port 9001\nnginx reverse proxy (always disabling the other possibilities):\n- HTTPS with and without path\n- HTTP with and without path\nEverything is working as expected, but there is still the issue as discussed in https://github.com/ether/etherpad-lite/pull/1267\n. No, at the time of the testing i was at 666c0adcd270e442a252b68274cac2bcdc1682fb\nAfter the commit c6882aa65a20d2d7ab016acd61bc35a0f294b08c it's broken again\n. It's broken, when using HTTPS (with and without path)\nThe Url should be: https://_.de/p/g.rTq5Oe6kh7zaVlsI$something2/import\nbut is: https://_.de/import\n. Yes, looks good now\n. Yes, but we should keep an eye on the issue we discussed here: https://github.com/ether/etherpad-lite/pull/1267\n. I don't know if it's hanging, but after some minutes the red label appears: \"Import failed, please copy and paste\".\nMissing Callback? Missing functionality?\nEDIT: See closed issue #1395 \n. Yes, it is fully fixed in 1.2.7 and 1.2.10. Which version are you using?\n. This is, what I get on my client javascript console \n(w&w/o https or reverse proxy / eplite 1.2.1):\nUnsafe JavaScript attempt to access frame with URL http://_/mod/etherpadlite/view.php?id=2274 from frame with URL http://otherdomain._/p/g.rTq5Oe6kh7zaVlsI$beckettmoodle2/import. The frame requesting access set 'document.domain' to 'otherdomain.***', but the frame being accessed did not. Both must set 'document.domain' to the same value to allow access.\n import:1\nUncaught TypeError: Object [object Window] has no method 'require' \nAny suggestions?\n. Can confirm this. Also happens to imports https://github.com/Pita/etherpad-lite/issues/156#issuecomment-10121920\n. Soo it seems to be fixed :D\nDoes anyone know where it has been fixed?\n. Thanks for this!\n. This is a seperate issue, because this also Happens with normal pads\nAm 10.12.2012 um 13:23 schrieb John McLear notifications@github.com:\n\n@goldquest I don't think this is actually fixed, the error still appears, it just takes a minute or so.\n\u2014\nReply to this email directly or view it on GitHub.\n. fyi: On Ubuntu, when you install 'nodejs' from apt, you get 'node' as a binary.\n@marcelklehr yes, the package 'nodejs' installs the binary 'nodejs' on debian. See http://packages.debian.org/sid/amd64/nodejs/filelist\nMy Question @ilyash: How did you install nodejs? Self-compiled or package manager?\n. No, I will test this now.\n. Works in Chrome (24), Firefox (17), Safari (6) and Internet Explorer 8\n. ok, so nobody wants this as a main feature?\n. ^^ ok i will make a plugin out of it\n. Oh, didn't mention, that I had built a plugin called \"ep_remove_embed\". You can download it over the admin interface.\nBUT, there is a pretty good pull request, which solves more than this problem: #1579 \n. +1 on this ;)\n. In the upgrade guide (http://jquery.com/upgrade-guide/1.9/#jquery-browser-removed) it's recommended to use Modernizr for browser guessing. https://github.com/jquery/jquery-migrate/#readme would also be a solution\n. Hmm.. but I get this error: Uncaught TypeError: Cannot read property 'msie' of undefined\nDoes it work in your installation?\n. Yes, also happens on http://beta.etherpad.org, but I think I found a fix. Someone has included a jQuery_browser.js in the static/js folder, which is jquery v1.8.\nI hope, this doesn't break anything else...\n. I'm using chrome\n. Did you disable the cache?\n. The loading bar doesn't stop cycling and after some seconds the error appears in the browsers console\n. So, i have a fix for this in my pipeline ;)\nI will make a pull request as soon as this is confirmed\n. Am i the only one, who gets this error?\n\nAm 05.04.2013 um 04:02 schrieb John McLear notifications@github.com:\n\nAny update?\n\u2014\nReply to this email directly or view it on GitHub.\n. I can confirm this problem.\nThe error appears, but goes away after some seconds, then you can see the contents, but when you write in it and reload the page, the content, which you've written, is gone.\n. Yes, but I don't have any plugins installed on my local instance (tested with actual dev on IE 8.0.6001.18702) and the error appears\n. This happens, when the pad loads:\nObject doesn't support this property or method.  html10n.js, Line 672, column 5\nLOG: [object Object]\n  No translations available (yet)\n\nThis, when I write one char:\n\n'doc' is undefined pad.js?callback=require.define, Line 468, column 9\n  Object doesn't support this property or method..  g.kMUln1xY4fc8eFhR$mein_zweites_pad, Line 1, column 1\n\nAnd this, when I write another:\n\nUncaught exception.  pad.js?callback=require.define, Line 2718, column 7\n  Object doesn't support this property or method.  g.kMUln1xY4fc8eFhR$mein_zweites_pad, Line 1, column 1\n. Funny fact: IE8 confuses exception (ger: ausnahme) with assumption (ger: annahme) :D\n. Sadly, there was another error, where the pad didn't even loads, so bisect gives me some options, which aren't involved. I'm now investigating the code further...\n. No, it doesn't change anything\n. The first error comes, because IE8 doesn't knows Array.forEach, but this is an easy fix.\nSecond: doc is just undefined, but i don't know, if we need this \"backgroundimagecache\".\nLast, there are errors in jquery.js, because they use CSS3 Selectors in 'querySelectorAll()', when I write one character (I think this is irrelevant).\nWhen I write another, there is an uncaught exception, respectively the errors gets caught but is rethrown (and then not caught) (This is the real problem!)\n. OK, I digged down the rabbit hole and found solutions for all problems.\nThe main problem is the missing Array.forEach function\n. This can then be closed...\n. Does anybody want to discuss this?\n. But the purpose could also be, that only 'external' people, w/o valid session have to enter a password\n. The people, who have sessions already went through an authentication/authorisation process. Why would they have to do this once more?\n. This is the scenario: A group of people, who all have a valid session decide to give access to their pad, but want to have it password protected for the externals.\n\nSo they have a group pad. Group pads can only be accessed with a valid session.\nThey make it public, so now everyone can access this pad. No one needs a session anymore, like with a normal pad.\nNow they enable password protection. Now everyone can access the pad, who has the password. It's like a normal pad with password protection.\nBut it is a grouppad! So there must be an advantage for having a valid session.\n. So, @disy-mk a non-public password protected group-pad should always ask for the password, but shouldn't it be possible to decide it, with public password protected group-pads?\n. I can think of some options (sorted from worst to best User Experience):\n1. Let the server restart with a delay. If it cannot establish DB connection retry again with delay.\n2. \"Pause\" (users can't write, but get a fancy \"Pause\" message), send an error to the log, try to reestablish the connection and resume, when successful.\n3. Let the users write, but cache the data, error to log, reestablish db connection, if successful write cache to db, if not (after some retries or when too much is getting cached) save cache to HD, fatal error, shutdown. When db is running correctly, start server and it writes the saved cache to DB.\n. Background:\nAnother department is responsible for our databases and sometimes they need to restart their servers. This usually takes just a couple of seconds, but the connection gets lost and etherpad shuts down, which is a very bad user experience.\nWe are investigating a work-around with a local proxy database, which caches the DB entries. But etherpad needs to be restarted manually. I think it would be better, if etherpad itself can handle this, so that others also don't stumble across this problem (and don't have to make a custom solution).\n. Ah, thanks. This will be very helpful!\n. I have one IE9 in VirtualBox (http://modern.ie) and an IE11 on SaaS. where the import doesn't work at all.\nWith IE9, I can't access beta.etherpad.org at all.\nWhat kind of information can I provide to you?\n. Hmm, maybe some steps to replicate:\n1. Get Windows 7\n2. Get Internet Explorer 9 (maybe as VM from modern.ie)\n3. Make a new txt file with content: \"AAA\"\n4. Open a new group\n5. Open a new grouppad\n6. Click on Import/Export and try to import the txt file.\nNow the pad reloads and the user sees following:\n\nWhen I try to import a file in a normal pad, it just tells me, that the import failed.\n. After this problem, the pad is broken for everybody.\nExpected behaviour:\nEither import file successfully, \nor fail, as in normal pads.\n. Yes\n\nmobile \n\nAm 17.06.2015 um 20:07 schrieb John McLear notifications@github.com:\nIs this group pads only?\n\u2014\nReply to this email directly or view it on GitHub.\n. I have access to a Windows Machine, later and will check other ie versions\n. So ad137fa4c876f9d7dc2d8113d8bcef9b9425ce0c resolved this error.\nImport now works on Win7 IE9 in group and normal pads\n. np\n. This enables the background image to be cached. But which background image?\n. It looked fine in eclipse, so I'll check my configs. (Just switched to Juno). Can I change it here in this pull request, or do I have to open a new one?\n. \n",
    "SebastianZiegler": "Bugs still present in 1.2 with pads created through the API!\n. ",
    "ja67": "Has it been solved already? I am using the develop version and still can't access to export html page of grouppad even if I have a valid session and can use that pad. Thanks!\n. I have installed that plugin but I didn't see any effect. Should I enable authorship or not?\n. GetHTMLis not a plugin but an api of etherpad itself. I was wondering who is the author for that.\n. I see. Thanks\n. Yeah I am talking about \"sticky attribute\" plugin and there is an issue for this as well. \n. ",
    "timtebeek": "Thanks! Would be well appreciated. Sorry I can't contribute by writing a patch; Unfamiliar with Node.js.. \n. Great, thanks! Would you advice to pull now or wait for 1.1?\n. The pad-creation hook in the new plugin API draft looks promising, but I'm guessing that's some time away.. \nI had hoped this would be possible without introducing a new dependency by using the HTTP API + whatever language, but I could see myself going that route eventually if need be.\n. The plugins API seems to have come a long way since. Could this issue be retagged as a Plugin Request?\nI'd also like to expand on @jhollinger 's last note: Would it be possible to allow \"normal\" (non-group) pads to have passwords? This restriction has meant one can not simply password protect a \"normal\" pad; one has to go all-in and manage Authors, Groups, Sessions & Pads before one is able to password protect a single pad. =\\\n. Personally I actually like this behavior: It allows you to restructure a document without claiming authorship on any rearranged parts, but I could see this as a option and/or plugin.\n. That was fast, thanks for looking into the issue!\n. Great, thanks again! Could you shine your light on Pita/etherpad-lite#769 as well?\nAlso: Dropping the requirement on the surrounding div tags would still be nice to have, but perhaps too minor to warrant another issue if properly documented. \n. Nope, issue still remains... Even though getHTML returns the correct content, the browser state is messed up.\nTested with <div><ul><li>item 1</li></ul><br/>further<br/>content<br/><br/>also indented</div>\n. Any progress on this issue? I'm waiting for a fix before I can cleanly migrate pads between two Etherpad-lite instances.\nIf a fix is not expected anytime soom please let me know: In that case I'll just migrate the database contents between the two instances.\n. I've been experiencing the same, but a quick refresh usually resolves the issue. This is the message I got:\n\n. Same issue is happening here.. Used the recommended way to install on Ubuntu 12.04 using MySQL as a database store.\netherpad@brs:/opt/etherpad/etherpad-lite$ git pull\nremote: Counting objects: 106, done.\nremote: Compressing objects: 100% (44/44), done.\nremote: Total 86 (delta 61), reused 66 (delta 41)\nUnpacking objects: 100% (86/86), done.\nFrom git://github.com/Pita/etherpad-lite\n   b2c06e7..a2394fc  master     -> origin/master\n   6f37de2..3578e36  develop    -> origin/develop\n   2cd586e..a2394fc  releases-1.1.2 -> origin/releases-1.1.2\nUpdating b2c06e7..a2394fc\n. @johnyma22 Thanks for the quick reply!\nI did as you said and Etherpad did work when I tested in Chrome & Firefox without my Apache reverse proxy on releases-1.1.2, so that seems related to the issue. Hope it helps & thanks for looking into it.\n. Here's my Apache config, which is working for 1.1.1, but has diverged from the recommended setup:\nhttps://github.com/Pita/etherpad-lite/wiki/How-to-put-Etherpad-Lite-behind-a-reverse-Proxy\n```\nReverse proxy to forward /eplite/ to Node.js & Etherpad\nhttp://httpd.apache.org/docs/2.2/mod/mod_proxy.html\nProxyPass           /eplite/    http://localhost:9001/ retry=15\nProxyPassReverse    /eplite/    http://localhost:9001/\nBase URL for etherpad is /eplite/ http://5.9.14.204/eplite/p/test\n\n    ## First, all Deny directives are evaluated; if any match, the request is denied unless it also matches an Allow directive.\n    ## Any requests which do not match any Allow or Deny directives are permitted.\n    Order deny,allow\n    Deny from all\n    Satisfy any\n\n\n    ## Only team members should be able to access the api\n    Require group admin\n\nAllowed URLs taken from https://github.com/Pita/etherpad-lite/wiki/How-to-put-Etherpad-Lite-behind-a-reverse-Proxy\n\n    ## Allow anyone to access these resources without logging in\n    ## This is required when we want some public external pads\n    Allow from all\n\n... further directives to restrict and allow access to certain pads based on prefixes ...\n```\n. Sure, much appreciated, but there's no rush from my part: I've reverted to 1.1.1 and that still works fine..\nI do suspect more people will be affected once they upgrade to 1.1.2, although granted, not many will do so on a Sunday morning. :)\n. Confirmed fixed, thanks all!\n. My config posted above is working fine as well, without the  records.\n. ",
    "Masses-Fallacy": "Some more information: The session is locked after Abiword dies, and I can't even close it with ctrl-c, but somehow it still seems to be running. Import and export are available, but they keep timing out when I try to import or export anything.\n. Damn close button...\n. Oh wow, that was fast. I'm not sure -- I'm on a VPS, and it's a graphical application. :/ It seemed to work when I using Ubuntu though.\n. I'm not sure how I would. I mean, I do have an Arch installation on my home computer, so I could try out Abiword on it, but the set ups are so different it wouldn't prove anything.\n. It's not that urgent, really... in fact, not urgent at all, seeing as I'm pretty much the only person using my site at the moment. But it would be something nice to have.\n. @kingkaeru No, because I'm on a VPS and there's no display.\n@Pita Nope, that works. :/\nI just realized that I'm getting this error when I start up Etherpad-Lite with Abiword and try to import -- maybe it can help determine the source of the issue:\n[ERROR] console - Error: Socket is not writable\n    at Socket._writeOut (net.js:391:11)\n    at Socket.write (net.js:377:17)\n    at /home/etherpad-lite/node/utils/Abiword.js:127:19\n    at Array. (/home/etherpad-lite/node_modules/async/lib/async.js:565:21)\n    at EventEmitter._tickCallback (node.js:126:26)\n. 0.4.11-1, and I'm running it as root, so I don't think there are any permissions issues.\n. Abiword also doesn't work on Arch Linux, at least not for me. This is leading to me believe that the Abiword code is bugged somehow.\n. Yep, I've seen this as well. It seems that my name is never saved, which is pretty annoying.\n. ",
    "aandersen": "I have the same issue running Ubuntu-server 32bit 11.04 , nodejs 0.4.12\n. ",
    "rryder": "on RHEL5 I got around this by clearing the DISPLAY variable in the startup script.\nie.\n  daemon --user=$user \"unset DISPLAY; cd $path; $prog $parameter >>$log &\"\n. ",
    "sentient-net": "The following object and method names also cause etherpad-lite to quit:\nconcat\nconstructor\nindexOf\nlastIndexOf\nlength\nslice\nvalueOf\nI did not text exhaustively, just with the object and method names listed at the following URL:\nhttp://www.w3schools.com/jsref/jsref_obj_string.asp\n. ",
    "cohitre": "809 is an attempt at implementing this is a plugin. It allows the formatting toolbar to be easily removed and replaced with another one.\n. i realized i should've requested this from the develop branch.\n. ungh, i rebased against master but then forgot to undo the rebase before doing my pull request. sorry about that. \n. it will be a couple days before i can get back to this.\n. it'll be a while before i can do anything about this, you'll be better not waiting for this. \nhowever, you can fork this implementation and modify the \"ep_formatting/templates/buttons.ejs\" file. you can reorder and delete whatever buttons you don't need.\n. you may be better adding any extra code inside \"src/static/custom/pad.js\" \nyou can disable whatever buttons you don't need, or add any other buttons from there. \n. I'm closing this since a bunch of this work will need to be redone.\n. I figured I'd submit this early to get some feedback. I started working on this some time ago but I just refactored it. \nI am adding support for an ep_toolbars setting and hoping to add a way to create custom buttons via plugins.\n. I ported all the standard buttons and I'm working on supporting custom buttons and select inputs.\n. @JohnMcLear I started doing just that ;). I'm still trying to figure out the best place to call the padInitToolbar hook. \nin the mean time I am playing with adding buttons from plugins.\n``` javascript\nexports.padInitToolbar = function (hookName, args, cb) {\n  var t = args.toolbar\n    , b = t.button({\n      key: \"inserthr\",\n      icon: \"buttonicon-inserthr\"\n    });\n    , sel = t.selectButton({\n      id: \"headings\",\n      selectId: \"heading-selection\"\n    });\nsel\n    .addOption(\"dummy\", \"Heading\")\n    .addOption(\"-1\", \"Normal\")\n    .addOption(\"0\", \"Heading 1\");\nt.registerButton(\"hr\", b);\n  t.registerButton(\"headings\", sel);\n};\n```\n. Sorry for the silence. I added some hooks for the toolbar and I'm making sure it doesn't break the existing plugins. It seems to work well with plugins that use the eejs callback. \nThe buttons behavior is pretty solid, but I want to make sure that adding select boxes is just as easy.\n. this shouldn't break existing plugins. i've tested it with the headings plugin, but i'll go over other plugins to make sure they don't break.\n. done.\n. ",
    "campino2k": "\"(Windows version, downloaded on 16. Sep 2011)\"\n. ",
    "jrgifford": "While it'll work on iOS5, the problem is, most users won't get iOS5 (after release date) for the best part of a year.\n. ",
    "bpierre": "@Pita Well, maybe you do not want to support the iOS 4 (which I totally understand), but there are some things to do in order to support iOS 4, don\u2019t you think? :-) GMail, etc.\n. @Pita\n\nthere is no way that is worth the afford\n\nI definitely prefer this one :-) I trust you for that, you know your code better than me.\n. ",
    "Flametail": "Sorry. Seems I planned an extended leave. I will get back to you, but probably not for a few days or weeks. THIS WAS AN AUTOMATED REPLY.\n. ",
    "yadutaf": "Thanks. After quite a lot of searches, trial and error, i have implemented ordered list support... with no automatic numbering :/ \nDo you have any idea of where/how I could insert the numbering logic ?\nBtw, since titles are supposed to be \"blocks\" DOM elements, aren't them supposed to follow a different implementation than simple inline formating ? Lists aren't a good template either since another item is appended aromatically each time return is pressed.\nShouldn't we try to implement some kind of abstraction layer for the formating ? This is currently highly tied up with the pad low level rendering logic (which is awesome :) !)\nI would suggest something like a configure structure that would ease the addition of new features :\njavascript\n\"rule name\": { //rule name is used to get direct access to the command param\n  \"description\":\"bla bla bla\", //can be used to generate tooltips in the UI\n  \"type\": \"...\", //one of \"block\", \"inline\", \"list\". These are the most common abstractions. The type also allows to decide whether the action should be applied to the selection or the active block. \n  \"linerender\":function(){...},  //callback to render a line according to it's state. It would be given the yet existing and well designed document structures and return the HTML version.\n}\nWith the help of such structure, it should be easy to guess which lines potentially needs to be re-rendered.\nI can offer to help on this but I would need mentoring as I do not yet know well the code.\n. This works with tab-indented text but, probably because of the \"backspace emulation\", it breaks lists and moves the current line to col=0.\n. Sorry, I forgot to give the context:\nIn a list with multiple indentation level, I expect \"shift+tab\" to move the current, or the selected items one level higher or to col=0 if already on the higher level.\nFor this test, i was on the second level\nHere is an example: http://notes.jtlebi.fr/p/test\nThe \"git pull\" is about an hour old. \nTell me if i can help with code or further testing :)\n. this is related to https://github.com/Pita/etherpad-lite/pull/231 but is mostly fixed as of now.\n. If you want, you can try it directly on my dev version : http://www.jtlebi.fr:6001/p/test Please, note that it is not my production version :)\n. Hi !\nThanks for your feedback. Is that more like what you expect with this fix ?\nThe URL above has been updated with the latest dev version.\n. I just fixed a very weird bug you probably noticed. When appending a char to an indented line, it was automatically turned into a bullet list. This actually was caused by \"bullet\" being hardcoded somewhere into contentcollector.js. The fix replaces it with a regular expression just as it is done in ace2_inner.js\n. Anyway, this is not very complicated to change this behavior. It is true that it may not be a very intuitive action. Actually, I was aiming at doing what @Wikinaut suggested in the Week-End.\n. I just got an idea about this extension :\nDrag & Drop moving/resizing are not supported and this might look non-intuitive to our users. But, this idea of automatically generate a preview is really great !\nCould we imagine a design option to display the embedded media in a side pane, an overlay or anything showing it's not directly part of the body but still referenced in the body ? This is a bit like twitter does when you have links to images/videos embedded inside your tweets.\nWhat do you think ?\n. Do you have any suggestions for a replacement ? getting \".doc\" exporter to work would require a huge time ! Btw, there is the webodf project (http://gitorious.org/odfkit/webodf/trees/master/webodf/) that looks very promisingbut it still lacks the \"create file\" function. It is only able to read and edit ODF files.\n. Just another question: is abiword still under active development?\n-- Jean-Tiare\nLe 28 janv. 2012 15:31, \"Wikinaut\" \nreply@reply.github.com\na \u00e9crit :\n\n@Pita Yes, of course. I had many problems on different platforms to\ncompile AbiWord. It is also not part of SLES, for example.\nGenerally spoken, I currently prefer LibreOffice (or OpenOffice) over\nAbiWord for many reasons.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/254#issuecomment-3700596\n. EDIT: forget it, it does not work, I did it with a \"number\" type detection. Not clean at all but it works.\n\nAs a quick and dirty (tm) fix, I had a silly idea : I switched everything from \"ul\" to \"ol\". This must not be a long term fix. Actually, I'd like to refactor the list handling logic as it has evolved quite a bit recently.\nCould you test this on your browsers please ? I updated the code on my server but I didn't commit yet.\n. Not yet. I actually focused on the UI interraction\n. Not on my side. I have a big project currently running so no time for open source for the next days. By the way, the html export code looks very different from the ace2 rendering code. and I have not been able to do a quick fix. \nWould it be possible to merge this code for the moment so that anybody could help fixing \"html export\" ? Otherwise, i'll try to get a deeper look at it next week end if I do not have to much work. \n. If I could emit a suggestion, it would be to deal with duplicated code. Appart from the comments, files blablabla.js and blablabla_client.js are the same. To fix the timeslider, I just had to copy paste the code from one to the other :/ \n. By the way, this feature is still un-finished. My TODO:\n- trigger re-numbering on line removal (no clue of how to do it)\n- fix the numbers not displaying because of the margin...\n- ? any other bug :)\n. I have a strange behaviour that I do not know how to fix :\nadding any char to a numbered list removes the list attribute. It does not happend for unordered lists. And this is very weird since the huge majority of the code is shared. I already double checked the non-shared parts but I have no clue. Any idea ?\n. All the list user interraction should be OK now. Can anyone test and confirm please ? I really tried to make things as intuitive as possible.\nhttp://www.jtlebi.fr:6001/p/test2\n. The HtmlExport is the next item on my todo :)\nWhen developing the list numbering, I noticed that the \"1\" of \"10\" was \nnot visible. The margin I applied is just a quick and dirty hack. Which \nvalues would you suggest for this increment ? It's just a matter of 2 \nminute to update it !\nLe 09/12/2011 17:39, Peter 'Pita' Martischka a \u00e9crit :\n\nThe indent of ordered and unorderd elements is very high. I don't like that\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/257#issuecomment-3082117\n\n\nJean-Tiare LE BIGOT\n. I'm done with the HTML exporter: http://www.jtlebi.fr:6001/p/test1\nPlease note that there is no CSS embeded !\nDo you have a suggestion for the indentation margin that would be the nicest ?\n. in the first commit, I suggest to indent the whole text pad to keep the relative indentation between text and lists as consistent as possible.\nThere is currently a limitation in the HTMLexport code: it can not handle mixed types on the same level of indentation. see my test case in http://www.jtlebi.fr:6001/p/test1 Sadly, It would require a lot of work to fix. Do you need it before merge ?\n. @Pita I think the bug you are reporting is actually an intentional feature. In Gdoc, when you press enter in a list item, there i 2 scenarios :\n1. the item contains text => create a new item on the same level\n2. the item is empty => move the item to the immediately upper level or remove the list if already on the higher level. This allows very intuitive creation of list and avoid using shift+tab.\n. @johnyma22 Your idea for the numbers sounds very interesting but is that necessary to implement it right in a first version ? Btw, i'm on the IRC to discuss this :) \nIt sounds wise to me to first launch it on a \"beta server\" and see how this is used before merging. Ther may be forgotten use cases !\n. Le 11/12/2011 22:12, Wikinaut a \u00e9crit :\n\nI confirm that ordered lists do work in Firefox and IE8.\nOne question: when marking lines of an ordered (or an unordered) list, and deselecting \"ordered list\" (or unordered list), I expected that the first indenting is removed, but it is not removed.\nWhen you do that, you remove the list marker but the relative \nindentation of the text is preserved. This is the behaviour of Gdoc but \nit is true that LibreOffice does'nt behave the same way since it moves \nall the text back to the left margin.\n\nIn my opinion, keeping the relative indentation is more intuitive to the \nuser as it keeps the logical organisation of the ideas in the list. It \nalso allows him to quickly restore the list without re-indenting all the \nlevels manually.\nAnyway, I'm open to suggestions on this point. :)\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/257#issuecomment-3099703\n\n\nJean-Tiare LE BIGOT\n. Hi all,\nSorry for the delay, I had very few spare time these day. starting a new job :)\nAnyway, I was able to reproduce this bug in IE8 but it is not specific to my modifications as it also occurs on http://beta.etherpad.org for bullet lists. \nTo limit interferences between patches, I suggest to fill another specific bug report. \nSadly I'm not a Microsoft product compatibility expert. Could anyone help ?\nBy the way, Thanks @Wikinaut for your heavy/extensive testing ! \n. @johnyma22  @Pita What is the status of this pull request ? As the time goes it will become hard to merge it as it adds features to core functions :/\nBtw, if the merge requires some editions, I have a few hours free this week to help.\nMerry Christmas and Happy New Year :)\n. Ooooops ! It's very much like I've produced a Huuuuuuge diff just to fix a conflict :/\nAnyway, I merged upstream into my work in order to fix conflicts. The only conflict was in pad.html and caused by commit https://github.com/Pita/etherpad-lite/commit/12fc8226f0bc99b1ce750c7d66d7df5796797ce6 Hopefully, it was pretty easy to fix.\n. Btw, I did a very quick test with this code and it seams to work pretty well :)\n. I completely aggree and can help with it since i'm starting to understand well the rendering/editing code\n. I kept thinking a little on that. The first step would be to document well the current high level protocol (not easy sync :) ) and data structures. I plan to start it during my next holidays. Then we'll be able to define where to go.\nIdeally, I'd like to build an internal representation of the document that could hold computed and cached attributes. For example, the number to display in a list is \"easy\" to compute and should not be a line attribute as it is in my code so that the \"start\" attribute could be used to mark a restart in the numbering.\nWe could also define \"shared\" or \"standard\" attributes like \"level\". This could be applied to a list as well as a title along with a type attribute that would be \"title\", \"list\", \"...\" and a subtype attribute that could be \"ordered\", \"indent\", \"unordered\". This way, the abstraction would be clean and ease the addition of new features. This would also end to separate the render and the internal data handling. \nI would also suggest to share the code handling the abstraction between the exporters on the server side and the client side render engine.\nThese are only raw ideas that will need to be discussed on the wiki.\n. @johnyma22 yep ! It helps :)\n@Pita Sorry, What does \"OT\" stands for ? Indeed, before attempting Anything in the code, I'd like to add new documentation. Anyway, it is both true that I really miss a good abstraction layer between the \"file format\" decoding and the render engine and that the current code works pretty well !\n. I also experienced this issue with friends attempting to work with me. Etherpad was reported as an exploit on both chrome and firefox but it only kept working on chrome, not firefox. \nThe detected threat is js:Pdfka-AFL [Expl] wich is only related to JS embeded in PDFs...\n. It is getting better but not yet solved.\n- with minify: true\nclient side\n```\nGET http://www.jtlebi.fr:8080/minified/pad?callback=require.define\nrequire-kernel.js (ligne 1)\nsyntax error\n[Stopper sur une erreur]    \n...cheme()+\"://\"+a.host+\":\"+a.port+\"/\"+a.resource+\"/\"+b.protocol+\"/\"+this.name+\"/\"\nsocket.io.js (line 2, col 11472)\nComponent returned failure code: 0x80004005 (NS_ERROR_FAILURE)\n[Stopper sur une erreur]    \n...d?c.async=\"true\":c.defer=\"true\",c.type=\"application/javascript\",c.src=F(a)+\"?cal...\nrequire-kernel.js (ligne 1)\n```\nserver side : crashes with same error as before\n- minify: false\ncomplete mess if launched after the previous one. Almost work (require jquery error), if tried before the previous one. I guess there is some caching involved ? Maybe it should also be cleared when the \"minify\" setting is changed or at application startup ?\n. With a fresh clone from a minute ago and with default settings, I still get the 'jquery' error with no crash. Cleaning local cache does not solve the issue.\nSetting minify to false along with max-age to 0 still crashes the server with the same error.\nThe workaround does not change anything with minify: false with both minify setting :/\nnota, I do not know the versions but I work from a clean \"npm install\"\nJust in case, my node version is v0.6.11-pre\n. True, this is actually what I've done.\n. So to auto-answer my initial question: there was actually something I was doing wrong :) Thanks for the help guys !\n. Removing the \"onclick\" attribute sounds like a good idea. This is indeed a common practice to \"bind\" events to a DOM on the JS side to avoid code mixing. Then an array could hold a correspondence between the buttons ids and the corresponding action or even \"guess\" the corresponding action using a naming convention.\nexample:\n- id attribute-bold => toggle bold on the selected text\n- id paragraph-list-bullet => toggle bullet lists on the selected lines\nBut there is something I still do not understand. Why are you replacing the links by buttons ? Buttons are much harder to work with in cross-browsers applications...\n. Cool !\nJust forgot to say that I have a running demo here: http://notes.jtlebi.fr:8080/p/test\n. I definitively agree that it should be a plugin. Sadly the plugin infrastructure is not yet available and it will require quite a lot of time for me to learn it. My idea was to do some code cleanups (DRY) in the formating code once merged. I like to work step by steps instead of committing bulks of 10,000 lines at once !\nI wanted to add support for text styling as GDoc does and I started with headings. This is why I choosed to do a dropdown instead of multiples buttons. Maybe later someone will add pre-formated text support in the same place.\nWhat do you mean by vertical sync ? Yes the lines gets bigger when the font is bigger. No idea how to do it another way :)\nEDIT: understood it. I will work on it\nEDIT2: when moving the font to \"normal\", it becomes obvious that this is because of empty lines... Nonetheless, this is still an important issue to me.\nThis is heading support, not font size trick. I wanted it to be semantical. As a use case, I take notes during my lectures using Etherpad-lite. Instead of created pads lectureA-1, lectureA-2, ...,I added titles to distinguish the different sections of the lecture. Someday, I wish I could add folding along with it to focus on the part I type while keeping an eye on the outline. This could not be easily achieved by doing a trivial A+, A- button. Anyway, Etherpad is not a WYSIWYG word-processor. It sounds like a nonsense to add font size tricks.\nBtw, the dropdown obviously need to be reworked.\nI can not reproduce the bug you describe in text selection + heading application. Since this is handled by the same code as lists, you should have it with ordered and unordered lists too.  I'm using Firefox on Linux. I think it should be filled as a separated bug bug report don't you ?\nSorry for the title/heading mismatch. English is not my native language. In French \"headings\" are \"Titres\" which is close from \"title\"...\nI will try to rework the dropdown ASAP. Do you know any mean of getting notified when the text selection changes and to read it's attributes ? It would allow to keep the selected item in the dropdown in sync with the active text and thus to enhance the user experience a lot.\nWhat is your opinion about it ?\n. Hi !\n@johnyma22 I have to admit that I was a bit frustrated by your answer but I had a very good time getting live feedback from @0ip yesterday directly on the pad. It's really amazing to contribute for a real-time collaborative text-editor this way :)\nWe worked on small bug fixes and big CSS improvments for the toolbar. I'm pretty sure you will like it as they look much, much more professional and user friendly !\nTo make it short :\n- much better styling in the toolbar\n- dropdown behaves like a sub-menu\n- author coloration fix (typo domline.js)\n- vertical sync should be OK now for line numbers\nIn my opinion this is now ready. Any feedback ?\ncheers,\n. Many thanks for your precise and valuable feedback @johnyma22 . I fixed 3 of the issues you reported. In my opinion the second one is more a feature than a bug :) In my mind, Headings have a semantical value, not only a formating one.\n- fixed line spacing\n- fixed Drag & Drop. Btw, this is weird. The workaround was to consider Hn as inline in contencollector.js while still considering it as block in ace2_inner.js not to break the cursor ??? \n- disabled indentation for headings as it does not make sense.\nI agree that it would be nice to get an option to move to raw text/minimal text editor. Some editors are completly cluttered by their \"user friendly\" interface and we definitively want to avoid it. Maybe someone else could implement it in order no to mix the features between pull requests ?\n. What's the state of this pull request ?\n. I'll give it a try later this week.\nIs it OK if the button is not shown but the titles are still rendered properly if set from another client ?\n. I'll give it a try later this week\n\nJean-Tiare LE BIGOT\nAdministrateur jtlebi.fr, lebigot.net\n-------- Original message --------\nSubject: Re: [etherpad-lite] Heading support (#532) \nFrom: John McLear reply@reply.github.com \nTo: Jean-Tiare LE BIGOT admin@jtlebi.fr \nCC:  \n@Pita was due to update me over the weekend but never did..\u00a0 Did you manage to get this as \"disabled by default\" with a setting to show it?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/532#issuecomment-4449384\n. I had a quick look at it. I think it's pretty easy to do something\nhackish but I'm afraid to introduce conflicts with pending pull requests\n(buttons instead of links in the toolbar).\nI suggest to do it as suggested for a long time: move the toolbar\ngeneration to JS + conf.\nThe JS file would also hold a var with default values for show/hide\nbutton. Custom values would then be saved in a local cookie as the\nauthor.\nThis is also a good occasion to clean up the toolbar part of the code.\nThe best to coordinate myself with @redhog to integrate it with the\nplugin framework.\nAs this is a big rework, I think that the best would be to merge this\nPull request followed by the toolbar related one and then I start\nworking on it.\nI estimate the duration to 3 weeks of spare time work.\nWhat is you opinion on this ?\nLe lundi 12 mars 2012 \u00e0 04:06 -0700, John McLear a \u00e9crit :\n\nYep :)\n-----Original Message-----\nFrom: Jean-Tiare LE BIGOT [mailto:reply@reply.github.com]\nSent: 12 March 2012 11:05\nTo: John McLear\nSubject: Re: [etherpad-lite] Heading support (#532)\nI'll give it a try later this week.\nIs it OK if the button is not shown but the titles are still rendered properly if set from another client ?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/532#issuecomment-4449601\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/532#issuecomment-4449627\n\n\nJean-Tiare LE BIGOT\nAdministrateur jtlebi.fr, lebigot.net\n. I can manage IRC/Gtalk monday but not fulltime as I'm at the university\n. any news ?\n. Last time I looked at the plugin framework, it was not compatible with this pull request. As i tried to make it the less intrusive as possible, it is tightly integrated with the list code. While moving it to a real plugin is definitively the best option, I'm not sure the bas code in the core is ready for that.\n. thanks @redhog :)\nFor now on,  I close this Pull request. I'll try to start over soon from a clean branch to preserve a meaningful history.\n. I'll give it a try next week. In the mean time, Can you confirm me that the only mandatory files are package.json and ep.json ? Then, appart from the npm stuffs, there is no other steps like registering to do (yet) ?\nThanks !\n. It now is testable on my server but not for long as I'd like to move to something else :)\n. 2 possible methods :\n- server shutdown (the one I did the most)\n- connection shutdown (the one that my school does the most :p )\nTell me on the pad if you'd like me to simulate a server failure\n. Thanks for your feedback @johnyma22 \n- moved the modals back to the middle as suggested\n- greyed out the whole editing zone even during the reconnection tentative. so that user won't loose editions 'by surprise'\nIs that good this way ?\nnota: if you want a button of the toolbar to be enable even in offline mode, just change it's \"z-index\" property :)\n. I've understood why it is not possible to edit while offline. This is not a changeset caching issue as it is already part of the protocol. The real problem is\nnormal protocol:\n- do hanshake\n- post local params\n- post modifications\nif editions where made in a disconnected status it becomes\n- do hanshake\n- post modifications\n- post local params\nwich leads to \n[2012-03-03 16:12:22.827] [WARN] message - Dropped message cause of bad permissions:{\"type\":\"COLLABROOM\",\"component\":\"pad\",\"data\":{\"type\":\"USER_CHANGES\",\"baseRev\":6758,\"changeset\":\"Z:1uy>1|d=h7*0+1$t\",\"apool\":{\"numToAttrib\":{\"0\":[\"author\",\"a.PsOz4u0uzwg5Ivlk\"]},\"nextNum\":1}}}\nAny idea on how to restore the proper workflow is welcome :)\n. Hi again !\n@johnyma22 is the code ok this way ? While working on this branch I incidentally started implementing the basics if offline mode. This is very preliminary but it is enough to keep editing working while trying to reconnect. The current implementation of this pull request simply disables everything which may be quite annoying with bad quality internet connections.\nNonetheless, I do not like to mix different features in a single pull request. So that i'd rather open a new one once this one is merged.\nOpinions ?\nIf you want to give it a try tommorow, let me know. It's not yet commited to my branch.\n. Oops, I accidentally pushed both my heading branch and this one. I may revert the last commit If you prefer.\n. any news ?\n. As too much code is being worked on for the plugin framework, I completely stopped working on this Pull Request. It's a big mess to maintain branches aside for so long you know ?\nMaybe some day I'll start over and rewrite the the low-level protocol stack to bring offline support along wit the original goal of better workflow. I already did some tests but I need a good documentation on the plugin framework before.\nbtw, What is the good way of getting code in ? Do I have to split my changes into very small pull requests ? \n. Thanks @redhog :)\nActually, this pull request does really bring anything new. I think It \nwill be much more pain to update it to the current code revision than \nrewrite it later.\nBy the way, is that possible to contact you directly for \nplugin-framework related questions ? I'll then write my notes in the \nWiki to make a \"Getting started guide\".\n. Maybe you can simply do a request on the RO link and then extract the body ?\nFor instance, http://notes.jtlebi.fr/p/test becomes http://notes.jtlebi.fr/ro/r.x8JVADIpJqVO2btN\n. Right at the moment, I do note have the solution but there must be one as changes from other participants may be applied without affecting your caret's position. So, maybe a good idea could be to look how the changesets are applied.\n. Ace2_inner has obviously not been designed for that purpose. Any simple and\ncommented trick you use in the code is not that terrible. Anyway, the\nrendering logic will need to be rewritten at some point.\nIf you wanna understand why your trick actually works, have a look at\ncontentcollector. This file handles the dom to changeset convertion and\nmost of the magic between copy and pastes.\n-- Jean-Tiare\nLe 8 mars 2012 18:11, \"gedion\" \nreply@reply.github.com\na \u00e9crit :\n\nIt seems that modifying an element's innerHTML causes a magic domline to\nupdate. This would solve my caret position problems. For example, say a\nuser wants to bold a cell. I am keeping track of cell properties at the end\nof this same row(hidden to the user) as shown below. When he/she presses\nCntrl-B, I find the td element containing the properties, modifying it\ncauses a dom update.\nThis simplifies a lot of issues for me. However is it a good/bad idea to\nmess with dom elements?\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/543#issuecomment-4396076\n. This is a great start. We need that in. Can you add a documentation block above your functions and at the top of the file ? Later we will need to refqctor the equivalent for range styles.\n. \n",
    "PDWE": "Hi, I can also reproduce that issue and unfortunately your fix does not work... but you know already... :-)\n. ",
    "jrocho": "I already tried the solution from that link and now tried it again, without success. Just adding proxy_redirect to the wiki example also isn't helping. Strange this it was working this morning and suddenly stopped.\nHaven't tried Varnish yet, but might give it a shot.\n. I've doing some more testing and evaluating but still no solution. I also took another look at Varnish but as we also have two other domains (directly PHP-FCGI), and an Etherpad (non-lite) proxy on the same nginx the best way would be to get this to work directly.\nThe error log of nginx gives me these errors:\n2011/09/26 18:25:36 [error] 30800#0: *78 recv() failed (104: Connection reset by peer) while sending to client, client: 188.100.xxx.xxx, server: pad.projectserver.eu, request: \"GET /socket.io/socket.io.js HTTP/1.1\", upstream: \"http://127.0.0.1:9001/socket.io/socket.io.js\", host: \"pad.projectserver.eu\", referrer: \"http://pad.projectserver.eu/p/test\"\n2011/09/26 18:25:36 [error] 30800#0: *80 recv() failed (104: Connection reset by peer) while sending to client, client: 188.100.xxx.xxx, server: pad.projectserver.eu, request: \"GET /minified/pad.js HTTP/1.1\", upstream: \"http://127.0.0.1:9001/minified/pad.js\", host: \"pad.projectserver.eu\", referrer: \"http://pad.projectserver.eu/p/test\"\n2011/09/26 18:35:23 [error] 30800#0: *114 recv() failed (104: Connection reset by peer) while sending to client, client: 188.100.xxx.xxx, server: pad.projectserver.eu, request: \"GET /socket.io/socket.io.js HTTP/1.1\", upstream: \"http://127.0.0.1:9001/socket.io/socket.io.js\", host: \"pad.projectserver.eu\", referrer: \"http://pad.projectserver.eu/p/test3\"\n2011/09/26 18:35:23 [error] 30800#0: *120 recv() failed (104: Connection reset by peer) while sending to client, client: 188.100.xxx.xxx, server: pad.projectserver.eu, request: \"GET /minified/pad.js HTTP/1.1\", upstream: \"http://127.0.0.1:9001/minified/pad.js\", host: \"pad.projectserver.eu\", referrer: \"http://pad.projectserver.eu/p/test3\"\nIt seems as if the response can't be sent back to the client.\n. I've just seen the same effect on an independent server not run by myself, but with the sample configuration from the wiki. \n. ",
    "mhicke": "I am having the same issue in Internet Explorer with Apache as reverse proxy (HTTPS).\nI used the reverse proxy configuration from the wiki and cloned from github today.\n. I pulled latest sources - now it is working again with Internet Explorer and Apache reverse proxy (HTTPS).\nThanks a lot.\n. ",
    "devjones": "Thanks rspeer, I was indeed planning on using info from the ACE project\n. ",
    "nilsja": "and how do i activate a per pad password via the api\n. ",
    "heyakyra": "Has anyone written a feature request yet?\n. ",
    "3arn0wl": "I think it would be really useful to have easy to set up password protected pads.. Hi\nI'm new to Etherpad, and am keen to use it and promote it. However, I don't \nsee a password function on the web version of Ethernet?\n3\nOn Sunday, 29 April 2018 07:51:52 CDT, John McLear \nnotifications@github.com wrote:\n\n@3arn0wl you can\n\n\n-- \nSent using Dekko from my Ubuntu device\n. ",
    "BobBagwill": "Down again?\n. ",
    "alx": "```\netherpad-lite@tetalab:~/etherpad-lite$ bin/run.sh \nEnsure that all dependencies are up to date...\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2011-10-16 08:21:09.273] [WARN] console - Unkown Setting: 'logHTTP'\n[2011-10-16 08:21:09.273] [WARN] console - This setting doesn't exist or it was removed\n[2011-10-16 08:21:09.282] [ERROR] console - FATAL: The sqlite dependency could not be loaded. We removed it from the dependencies since it caused problems on several Platforms to compile it. If you still want to use sqlite, do a 'npm install sqlite3' in your etherpad-lite root folder\n```\nThanks, it worked after 'npm install sqlite3' in etherpad-lite root folder.\nStange thing is that it re-install sqlite3 at each start, but that'd do it for today :)\n. well done :)\n. Works well, but seems to be missing a bit of css:\nhttps://pad.tetalab.org/p/lebitetlecouteau23112011\nI'm detecting a rule on beta.etherpad.org that doesn't appear in our latest source:\npad.css - line 794\n```\nembedinput, #linkinput, #rolinkinput, #readonlyInput, #roembedinput{\nwidth:375px;\nheight:24px;\ndisplay:inline;\nmargin-top: 10px;\npadding-left:4px;\n}\n```\n. Thanks, working perfectly now :)\n. https://github.com/Pita/etherpad-lite/pull/228\nNew pull-request with checkbox to solve multi-inputs issue.\n\n\n. duplicate #241\n. sorry, I thought it was a duplicated issue, still learning github interface.\n. https://github.com/Pita/etherpad-lite/blob/master/node/handler/PadMessageHandler.js#L713\nFrom what I understand, it comes from this line.\nI'll check if there's a way to come back to add a new method to get all chat messages, maybe by getting back to chatHead == -1 in https://github.com/Pita/etherpad-lite/blob/master/node/db/Pad.js#L49\n. Is there a way to build this plugin list manually ?\nOn CLI for example, without going by the admin interface.\n. thanks, found the wiki page with the relevant info : https://github.com/ether/etherpad-lite/wiki/Available-Plugins#manually-installing-plugins\n. Thanks, that's what I was looking for.\nIt wasn't on http://etherpad.org/ website, I'll try a pull resquest to make it more visible :)\n. Button has been removed 8 months ago by @marcelklehr : \nhttps://github.com/ether/ether.github.com/commit/b823c97f8307bf6fbe640617a0126802f2696a36\n. no idea, new to node.js and express, found the example on : http://node-js.ru/3-writing-express-middleware\nwould it need to be removed?\n. ",
    "thomasf": "I get this too. Using node 0.4.12 and fb158d2\n. Also, this issue is an duplicate of #158\n. You should really use a real database instead if you have users.\n. done!\n. I am by no means finished with this investigation, It might be a good idea to keep this issue open for a while.. I'll get back to it when I have some mind to kill.\n. Yeah, also the pad in question seems to work fine in my etherpad service so i'm guessing that the error is fixable somehow.\n. it would be nice to have a release version with this fix.. ",
    "erucolindo": "Well, I was just testing. Now I'm running on MySQL. Just thought I should report it.\n. ",
    "lucas-clemente": "Here too, would be happy to see a fix.\n. ",
    "Yimgo": "+1, hapenning the same with fresh installation of Etherpad (version 90ba811 from github).\n. ",
    "pylight": "I experience the same thing when reloading a pad. When I look at the chat at http://beta.etherpad.org/p/test i think this is a very common bug. ;) By reloading the pad and then clicking on the undefined name at the right top, my name is recognized correctly and is also corrected in the chat again...\n. I experience the same thing when reloading a pad. When I look at the chat at http://beta.etherpad.org/p/test i think this is a very common bug. ;) By reloading the pad and then clicking on the undefined name at the right top, my name is recognized correctly and is also corrected in the chat again...\n. ",
    "emirotin": "\nfind . -exec grep \"busg\" '{}' \\; -print\n\nyou have a typo, man\n. ah, ok\n. ",
    "Cyrille37": "few years later I got the same error !\netherpad-lite version: On branch develop\n commit 6ec55309a7ef06ef02ca251595b3c81238127a54\n Merge: 64c8961 0962f65\n Author: John McLear john@mclear.co.uk\n Date:   Mon Oct 6 17:11:33 2014 +0100\nI used \"tidy\" tool on the html tmp file, then Abiword can do it's job.\nTidy just display those errors :\nline 10 column 787 - Warning: unescaped & which should be written as &\nline 5 column 1 - Warning:  proprietary attribute \"charset\"\nline 5 column 1 - Warning:  lacks \"content\" attribute\nline 6 column 1 - Warning: ",
    "andreasBihlmaier": "Same problem here if using \"&\" within a heading.\n. ",
    "wmertens": "I don't know about using local storage, but I think that being able to type while the connection is lost or establishing makes for a more robust application...\n. ",
    "hajimen": "+1 for Wikinaut and wmertens.\n. ",
    "tuomassalo": "+1.\n. ",
    "stefek99": "I find it important / highly relevant\nRecently got frustrated with ISP (bye bye BT) and I was thinking that I can manage using internet at work, Cambridge Makespace, 4G phone, 4G MiFi (Huawei modem)... (at 3G speeds, no 4G in my area) After just two weeks I gave up and ordered a broadband with different provider.\nWithin this time my main focus was to enable better experience. Think also: https://africahacktrip.org/\u200e\nI would really like to work on my docs while being offline. And with others. And backup. And encrypt and give permissions... Still in research phase, definitely will give Etherpad a go!\n. Thank you @JohnMcLear for all the hard work! And the reply withing a minute :)\nYeah, I read this issue (and followed some other links too). Here: https://github.com/JohnMcLear/ep_offline_edit\nThat looks familiar (offline cache manifest):\nargs.app.get('/offlinemanifest.appcache', function(req, res) {\n    res.setHeader('Content-Type', 'text/cache-manifest');\n    res.send(eejs.require(\"ep_offline_edit/static/offlinemanifest.appcache\"));\n  });\nWhat I probably do is (first things first) it to install, try plugin, see how it goes...\n. ",
    "2xyo": ":+1: for this feature\n. ",
    "jreus": "Even when collaboratively editing not in a train - even in the same room on a local server - there can be connection issues. The biggest problem I encounter is often losing work/notes due to a connection disruption, or regular connection disruptions. Would it be a stopgap solution to inform the user earlier that they are no longer connected (e.g. via increasing the frequency of stay-alive signals?).\nThe robustness of offline editing is the only reason I use google docs.. would love to switch over to etherpad 100%! :-). ",
    "lorenzogil": "Thanks!\n. I reached the same conclussion as you. It's contextify the tool that needs a C compiler.\nI did try to find several alternatives to jsdom when I wrote the code but that was by far the most mature and feature rich.\nI tried John Resig HTML parser (http://ejohn.org/files/htmlparser.js) but it is not enough, we need a DOM implementation to reuse the contentcollector class.\n. I use this tiny python script:\n``` python\nimport urllib\nimport sys\nif name == 'main':\n    url = 'http://localhost:9001/api/1/setHTML?'\napikey = sys.argv[1]\npadID = sys.argv[2]\nhtml = sys.argv[3]\ndata = urllib.urlencode({'html': html, 'apikey': apikey, 'padID': padID})\n\nf = urllib.urlopen(url + data)\nprint f.read()\n\n```\nA sample html that you can use to test a bunch of things is this one:\nhtml\n<div><u>Underlined text</u><ul><li>this</li><li>is a</li><li><strong>unordered</strong></li><li>list</li></ul>after the list a newline is automatically <u>added</u><br>BR can also be used to force new <em>lines</em><p><strong>Or you can use parragraphs</strong></p></div>\nPlease note that whatever HTML you send it must be enclosed in a div tag. I guess we could make setHTML smarter and add that div if it is not present.\n. We are doing some more testing (integrating this with Foswiki in an export/import way) and found that these two inputs yield different results:\n``` html\n\nTest 1\nTest 2\n\n```\nand \nhtml\n<ul><li><strong>Test 1<br></strong></li><li><strong>Test 2</strong></li></ul>\nSo I fixed it in this changeset https://github.com/Yaco-Sistemas/etherpad-lite/commit/e6de06b1039aae9559edec2a4bc68ea509710a53\n. @johnyma22 yes, @Pita contacted me. I'll look into this today. I wrote the user-agent modification for the setHTML feature.\n. Fixed with this changeset https://github.com/Yaco-Sistemas/etherpad-lite/commit/c23017ef3329caff56a1fd144b49f54b17f82754\n. ",
    "markreg": "I've been trying to join etherpad-lite with my mysql sessions via php but I'm confused as to whether or not I have to edit the settings.json file with my database information or do I just have php combine all thr users and point them to a newly created pad? I think there is another issue open about anyone being able to access the pad by just pointing to (e.g. localhost:9001/newpad)\n. Essentially something similar to how Google docs shows a user typing. With the user's name above their cursor position\n. Will it be possible to do something like this?\n. The background color of the text cover the text in my opinion. It would be nice if there was just the user's name above where the user was typing or their cursor so that there is no color \"covering\" the words. Just as an option. For keeping track of which users contributed what to the document I think there should be a \"revision\" toggle option for that.\n. It just seems really slow...\n. I get the main page to create a new pad and once I click on \"New Pad\" it takes me to the etherpad-lite interface then it says \"Loading\" on the interface for a long time...after about 8 minutes it loads everything but when I type in the client it doesn't update anything on the server and then the client says it needs to reconnect to the server.\nIf it helps...I installed etherpad-lite in a slightly non conventional way on a host that has restricted access to yum therefore I had to install each package manually. But installDeps.sh doesn't give me any errors other than:\nnpm WARN gzip@0.1.0 package.json: bugs['web'] should probably be bugs['url']\nnpm WARN log4js@0.3.9 package.json: bugs['web'] should probably be bugs['url']\n. Yeah I can't do anything to fix it...tried reinstalling eeverythign from scratch and still the same problem.\n. I'm not even using apache in the loop. This is the same problem as aicm with connecting to etherpad-lite directly on port 9001.\nI have come to the conclusion that there is something wrong with my socket.io not receiving data from the client of visa-versa after trying out many different socket.io applications with node. It's almost like it's stuck. Unfortunately I'm not getting much help on socket.io's github or google groups.\n. How can I download an older version?\n. It says I need to downgrade my version of node to 0.4.x. Should I do so?\n. I get these errors when I run sh installDeps.sh and sh run.sh:\nnpm WARN log4js@0.3.9 package.json: bugs['web'] should probably be bugs['url']\nnpm WARN gzip@0.1.0 package.json: bugs['web'] should probably be bugs['url']\n. Wow, problem seems to be solved with riseuplab's latest etherpad-lite build. \nOn a side note is there anything that I can do to increase the update speed on all of the other clients' windows?\n. This is beautiful. Thank you so much riseuplabs! :D\n. I know that this probably isn't the right place to reference this but I forked a repository on a different project by wesbos and it is having similar socket.io problems that etherpad-lite was incurring.\nhttps://github.com/markreg/websocket-canvas-draw\nPlease take a look and let's see if we can fix the issue.\n. @riseuplabs\nI get this warning message when I open a new pad:\n[2011-11-25 12:29:33.649] [WARN] message - Dropped message, unknown Message Type COLLABROOM\n. I would greatly appreciate if someone would try to implement and change this...\n. ^ The ability to add tables or option to remove color and assign a traveling flag on top of the user's cursor in the api?\n. Is there something for IOS on the iPhone? :D This is exciting.\n. For some reason I can't get my iPhone to type in the mobile etherpad-lite.\n. Yeah, I'm on pad.factor.cc and when I create a new pad I can highlight and cut/delete the existing text but the iPhone's keyboard is not invoked to allow me to actually type into the pad. i suspect this has to do with the crappy MobileSafari support for the pad. I'm on ios 4.3.3. I think Apple made quite a few changes to MobileSafari in ios 5 that increases support for many commonplace HTML 5 standards.\n. This seems interesting for possibly solving this problem: http://www.quora.com/Mobile-Safari-iPhone-or-iPad-with-JavaScript-how-can-I-launch-the-on-screen-keyboard\nPS: I'm typing into github through MobileSafari.\n. I see. Well, I guess I'll have to upgrade to ios 5 soon then. Waiting for the jailbreak for now...\n. Ok so after further testing with the pad on pad.factor.cc I have found some problems with it on ios 4.3.3 which may be common to ios 5 as well. Also I have some recommendations as to which buttons' positions should be changed and some buttons which should be removed altogether.\nProblems observed on ios 4.3.3 MobileSafari:\n1) Switching from portrait to landscape mode causes the pad and buttons to permanently misalign and render the pad not usable including all popup overlays from embed, import/export, people and chat.\n2) The chat window's size and button needs to be decreased.\n3) The embed popup covers the embed toggle button. Maybe a separate ios menu should be made thay simply shows an option select list within the ios gui? Also the upload/import file buttons are extraneous for ios since you can't upload documents...unless you can somehow activate them for people that are on jailbroken iPhones and can navigate through the root of their phone.\nIn another note there is a bug with the ios keyboard not closing after clicking on the embed toggle button to close the embed popup box. This ties in to problem 6.\n4) Make row number column on left somewhat smaller to maximize text area.\n5) I'm not sure if this has been discussed already but the eye button doesn't really seem to do anything. Maybe it should be removed?\n6) I think that all the popup boxes should have \"X's\" to close the popup without having to click the toggle button in ios. I think it would make it easier to to close the popups on such a small screen in the first place.\nI think the button sizes are good and would be difficult to press if they were made smaller without zooming in.\nFeature request:\nWhen I click on the embed button would it be possible to select the wholr link by clicking anywhere within the link and then automatically copy it? Kind of like how github's git links get highlighted with one click but with tw added function of auto copy. That would save a couple of \"select all/copy\" button presses.\nThe main problem is when the phone rotates...things really get messed up then.\n. I guess OP needs to update from this repo again and additional patches to that to show recent changes. I was looking at pad.factor.cc...\n. @0ip\nWill post screenshots soon.\nI came across this JS framework which may be of particular interest to you and is extremely relevant to the topic at hand:\nhttp://www.lungojs.com/\nTake a look and see if this makes it easier to fix some of the orientation problems and possibly do more on Android and IOS and etherpad-lite.\n. Here are the images from MobileSafari on my iPhone 4 running 4.3.3:\n-> Initial load of new pad in vertical orientation (1) and immediate change to horizontal orientation (2).\n(1) \n(2)\n-> Zoom out from horizontal orientation (3) and immediate scroll down (4).\n(3)\n(4)\nScroll up and open chat box (5) and immediately change orientation then zoom out (6).\n(5)\n(6)\n-> Immediately scroll right (7).\n(7)\nAlso i want to mention again that lungojs looks like a good avenue to solve all these problems having to do with orientation and specifically working with the ios and android mobile platforms.\n. Here are some more images with the embed and import/export popup overlay boxes open:\n\n\nAlso the document export gives an error on the iPhone for some reason.\n. QR code is still misaligned and very big. I think embed, and import/export option popups need to be downsized a lot in order to fit on the screen and leave plenty of room to click on the embed or import/export button again to close the popup. Furthermore, I hope you would agree that having any other options besides plain text, microsoft word, opendocument, and pdf are irrelevant and should be removed.\nAlso have you managed to fix the orientation and alignment issues with the pad  and toolbars on ios?\n. Word document export on iPhone 4 4.3.3 MobileSafari says:\n\n. ok QR code is not misaligned after clearning my cache and respringing. But my problem still lies with not being able to close the embed or the import/export popup boxes when they are opened because they cover the original button?? How am I supposed to close them? And what is the point of the QR code on mobile devices anyway?\nAre there api options to disable/enable the showing of the QR code? Are there api options to remove options from the export menu?\n. @0ip\nThe device orientation is still partly messed up (I can post screenshots if you want). Also (I didn't see it in the revisions) but did you add the close buttons on the popups yet?\n@johnyma22 @0ip\nYeah I understand the need for the QR code. I guess I was mainly a bit overwhelmed by the size of the code box on my phone that I started to wonder when I would ever use it in the first place.\nI have submitted a joint feature request for the enable/disable QR code and export/import options.\nAlso going back to a request I had earlier: Can you change the behavior of the share link and embed link to automatically select the whole link on a single click from any point on the link. And maybe even automatically copy the link to the user's clipboard too? Should I put this in as a separate request or should I just post it here because I really want the share and embed links to work this way on my mobile device and computer.\nThanks.\n. @0ip @johnyma22 \nI'm not sure if any of you guys agree with this but the timeslider icon in the mobile device doesn't really integrate seamlessly within the entire mobile framework. I mean it redirects to a full size page and then it just becomes difficult to use on a mobile screen since you have to zoom in a lot to press the buttons and interact with it. Maybe this should be taken out all together for practicality reasons?\nAlso is there an option or parameter that I don;t know about which disables the clock icon for the timeslider within the pad anyways? (mobile or non-mobile)\n. @Pita\nYeah, I agree with you.\n@0ip @johnyma22\nIs there any way that the \"clear authorship colors\" button can be removed when the noColors=true parameter is passed int he url on mobile and non-mobile? IMHO there need to be api calls or at least parameters that can remove all buttons within the mobile/non-mobile interface on-demand when creating the pad.\nAlso I think that the left bar with the colomn numbers is too wide and takes up more space than it needs to.\n. \nI hope we're referring to the same width that I've put a red rectangular outline around...right?\n. Does etherpad use node.js and socket.io websockets though?\n. I see. Thanks\n. Basically what I'm trying to do is use php sessions in conjunction with mysql users to automatically group people together on one etherpad-lite session. One thing that I would really like to see in etherpad-lite though is the ability to insert images and resize them and have them in-line with the text to where I can freely move them around. Also I want to be able to insert grid-based table selections and be able to move them around. If I can get those two functions then I would be really happy and satisfied using etherpad-lite. I want to stick to etherpad-lite because it uses node.js and socket.io websockets.\nUnfortunately, I don't have the coding experience necessary to change the existing pad and UI to such a degree. I know that this isn't the right environment to ask but I would even be willing to provide some type of monetary compensation for someome to code this for me and guide me a little bit through setting up what I outlined above.\n. This is so awesome.\n. Plus how will it work on iDevices...\nAlso 0ip, would iy be possible for you to implement inserting tavles via a grid-selection system (kind of like in MS Word). Also I had posted this in a different issue but I feel that covering the text with a color inhibits the readability of the text to some exteny and wqs wondering if you could make a patch to add an api option to switch off automatic highlighting of the text and instead just have a traveling tooltip type-of-box that is always above the user's cursor and simply has the user's name inside the tooltip with the user's \"identifying color\" the color of the toolip. This is basically what Google's document processor does.\n. I just tried this in firefox 8.0 and I can't see the youtube video within the pad. It's just shown as a black box.\nAlso whenever I try to resize or move the image it just goes back to the previous state and doesn't allow me to resize or move it.\n. Is there a bug when moving images as well, however? Also, I realize that resizing isn't at the top of the priority lit but it would be nice if we can resize images. \n. When I attempt to resize any image it jumps back to the original size.\nIf firefox is the only browser to have this supposed resizing capability then other browsers will not be able to resize at all?\n. Is this going to be merged into EP master branch or are there some kinks that need to be worked on still?\n. As far as the future is concerned. Flash is basically dead. Personally I think perfecting image support is the best thing for EP-lite right now. Features like dragging and moving images and the ability to upscale or downscale added images is a very useful and beneficial feature for adding image graphs and charts.\n. Personally, I think image media should have the ability to export in documents if possible.\n. I agree with Wikinaut. There needs to be a better/easier installation method of Abiword.\n. ",
    "mweinelt": "I was clicking around a bit in your example_big.php script and it crashes the server for me when loading.\nError: [object Object]\n    at /opt/etherpad-lite/node_modules/async-stacktrace/ERR.js:46:13\n    at /opt/etherpad-lite/node/db/API.js:340:8\n    at /opt/etherpad-lite/node/db/API.js:506:7\n    at Object.callback (/opt/etherpad-lite/node/db/PadManager.js:108:5)\n    at /opt/etherpad-lite/node_modules/ueberDB/CloneAndAtomicLayer.js:95:17\n    at /opt/etherpad-lite/node_modules/ueberDB/CacheAndBufferLayer.js:183:7\n    at Statement. (/opt/etherpad-lite/node_modules/ueberDB/sqlite_db.js:76:5)\nError: [object Object]\n    at /opt/etherpad-lite/node_modules/async-stacktrace/ERR.js:46:13\n    at /opt/etherpad-lite/node/db/SessionManager.js:178:8\n    at /opt/etherpad-lite/node_modules/async/lib/async.js:199:13\n    at /opt/etherpad-lite/node_modules/async/lib/async.js:120:21\n    at /opt/etherpad-lite/node_modules/async/lib/async.js:196:17\n    at /opt/etherpad-lite/node_modules/async/lib/async.js:499:34\n    at /opt/etherpad-lite/node/db/SessionManager.js:55:11\n    at Object.callback (/opt/etherpad-lite/node/db/GroupManager.js:119:5)\n    at /opt/etherpad-lite/node_modules/ueberDB/CloneAndAtomicLayer.js:95:17\n    at /opt/etherpad-lite/node_modules/ueberDB/CacheAndBufferLayer.js:183:7\nAny ideas?\n. Actually we're on e509824f290c6e0e70d23a489aac0e97be7e9d20 (which is the 1.5.6 tag)\n. ",
    "redhog": "You can install ep_etherpad-lite globally with npm install and the \"install\" it locally in each \"copy\" with npm link.\nWe should add the ability to set database prefix, not just for this, but to be able to easily run etherpad alongside other web software within the same database...\n. If this isn't merged into master, then we missed to merge something we planned to merge @Pita :( Did we?\n. Yes, it seems you did not merge it (I checked). The pull request was not bigger than necessary for the feature, sorry, but it is not possible to divide this feature up into smaller changes that still makes more sense than the individual commits (they are all small, check them out).\nPlease merge this, as it is a rather important change to a lot of people (I built it on request, not because I wanted the feature that badly). Ping @johnyma22 \n. Actually, this IS in develop, just not in master.\n. JIRA is a monstrosity... At least that's my experience...\n. Note about require: I use require.setLibraryPath(\"....../minified/plugins\") on client side to and a modification to Minify (and staticfiles) to recognize paths that starts with /plugins/plugin_name/static and handle them properly.\n. ACE hooks have same name as before, apart from them there is only the expressCreateServer since we still have no templates, and all the others apart from database save where template hooks\n. The hook name is sent to the function as you might use the same function for two different hooks. I didn't want it inside args, since args is sent by the calling function, and its meaning is unknown by the plugin framework.\nPre and post are not event triggers. They decide the order in which registered hook functions from different plugins are called for a hook. If functions a, b, and c are all registered by their respective plugins for the hook \"foo\", they will all be called when hooks.callAll(\"foo\") is called. The order in which they will be called is determined by the pre and post definitions, if given. If you do not specify pre and post, order is unspecified (and will most likely be the order that readdir returns the plugin names in or somesuch).\n. No. There is a big rename of nearly all files to new locations. I have done it in small commits, apart from that thou.\nAnd, after some checking, it seems like the only things that conflicts for real are Minify.js and server.js\n. Well, don't worry, I just don't see how you can split up this in any way, apart from just merging the first X commits, and that's something you didn't want to do during the hackathon, so why would we do that now? The point of the later commits is to make stuff stable and uniform...\nHowever, the only really scary change is the last one, where all client side require():s now uses library URLs instead of absolute or relative paths. That is the last 4-5 commits I think. So, you could merge everything up to but excluding that first, and see that it doesn't break stuff, but I'm not sure it's gonna make stuff easier...\n. The above is a partial merge - I've solved all conflicts except for server.js and Minify.js, which I have overwritten with my versions after moving the conflicting files to the same names with .rej appended. This is currently working, even thou more work (merging Minify and server) needs to be done, but I feel that at least Minify isn't something I can do. However I felt I should do the \"simple\" merges, so none of you would have to bother with them...\n. How are the templating going Pita?\n. @johnyma22: No, depends on what the plugin is going to do thou...\n. Would require templates to add button...\nBut the ace hooks to implement monospace itself are there... Same name as in old etherpad.\n. Which parts are very different from how you imagined them? The \"uses it's own hooks\" part is an idea that I had that I personally liked a lot, but was quite unsure if you'd like it, so glad to hear you do :) It also makes it easier if we in the future want to split out some functionality into a plugin, or if you want to override some functionality using a plugin.\nWell, new hooks can easily be added at any time without rewriting anything, and generally will have a very small impact on the code and the system, so I haven't really concentrated on finding good hook points and implementing them...\nThat is actually how it was built - there is a bunch of commits creating the hook system, then another bunch that reworks the system to use those hooks internally, splitting up server.js piece by piece, one commit per created file / functionality split out actually... Then later in the commit history, there are commits to get client side hooks to work... That part is kind of separate from the rest...\n. Cool :) Please tell me how it goes! I'm online on xmpp if you want to chat...\n. Removing CommonCode was nesessary to get the api to be exactly the same for require on server and client side, which was required to get client side hooks to work.\nEventEmitter does not allow for result collection nor for synchronous hooks. hooks supports both sync and async hooks, and collects result values. It closely resembles the old hook system in Etherpad, but has been adapted to support asynchronous calls (aCallAll).\nsrc is really just what the npm module ep_etherpad-lite is called in the git repo. To have etherpad/ep_etherpad-lite would be counter-intuitive to new developers. But, what this means is that it has to conform to the directory layout of a plugin, so it has to have its static assets in a subdirectory called static, and it has to have a file called ep.json that registers hooks.\n. Also, I don't think EventEmitter handles ordering of listeners (apart from that it might be the registration order).\n. I have been working a bit on an EJS-based templating system for the plugin framework. With this it would be easy to generate (parts of) the toolbar using hook calls from plugins, regardless of the html markup needed.\nAlso, I wonder if this whole patch couldn't be done as a plugin? Esp. check if your changes overlap with the hooks.callAll calls inside the ace, or even generates a conflict...\n. Hm, monday evening is fine, monday day sporadically - I can't give it much time as I'm working for clients, but I should be able to answer the odd question.\n. The code in core is definitely ready for adding heading support and\nother styling things as plugins using the hooks \"postAceInit\",\n\"aceInitInnerdocbodyHead\", \"aceAttribsToClasses\" and \"aceCreateDomLine\".\nPlease see the sketchspace (https://github.com/redhog/SketchSpace)\nplugin for example usage.\nIf you feel that you're missing a hook in the list code specifically,\nplease go ahead and add one :)\nOn 04/03/2012 12:11 AM, Jean-Tiare LE BIGOT wrote:\n\nLast time I looked at the plugin framework, it was not compatible with this pull request. As i tried to make it the less intrusive as possible, it is tightly integrated with the list code. While moving it to a real plugin is definitively the best option, I'm not sure the bas code in the core is ready for that.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/532#issuecomment-4890089\n\n\nKonsulent, Fri Programvare / Free Software Consultant\nMobil: +47 - 473 44 024\nTelefon: +47 - 21 53 69 00, Fax: +47 - 21 53 69 09\nAdr: Nydalsveien 30A, 3. etg., 0484 Oslo\nWeb: www.freecode.no http://www.freecode.no\nhttp://www.freecode.no\nVARNING!\nE-post och ALL Internettrafik till och fr\u00e5n Sverige, eller som passerar servrar i Sverige, avlyssnas av F\u00f6rsvarets Radioanstalt, FRA. (Text fr\u00e5n Journalistf\u00f6rbundet)\nWARNING!\nE-mail and ALL Internet Communications to and from Sweden, or via servers in Sweden, is monitored by the National Defence Radio Establishment. (Text from Journalistf\u00f6rbundet)\n. @jtlebi Note that the SketchSpace plugin is still very beta. It is good as example code for the hooks, and it does work, but installation is rather... magic :( For now, here are some tips:\nClone the repo to $YOURETHERPADROOT/available_plugins/ep_sketchspace\nnpm link available_plugins/ep_sketchspace\ncd available_plugins/ep_sketchspace; ./build.sh\n. @jtlebi What in your code is conflicting with the plugin framework? If you made changes in server.js or minify.js you've got to merge them by hand in the new files under hooks/, but apart from that it shouldn't bee too much of a problem. html files are in templates/ instead of static/ but they look very much the same, with some added stuff in between the static html. Unfourtunately the indentation has been altered (blocks indented more as tags have been added around them, and that can give you problems I guess :( \n. Sure, I'm redhog.org@gmail.com on XMPP (that address does NOT work for email), redhog@redhog.org for MSN, redhog_org on skype and egil.moller@piratpartiet.se for email :)\n. @fourplusone That seems like a good idea. These methods are standard, so implementing them where they are missing is in a way cleaner (it keeps the IE uglyness to one place in the code).\n. Yes it should :) We definitely need a permission system...\n. These fixes in the last batch are all smaller fixes for bugx I found while developing https://github.com/redhog/SketchSpace\n. Merged Pitas branch and fixed a bunch of trivial conflicts\n. Merged Johns extracted saved revisions code and fixed a bunch of bugs it caused + some bugs in timeslider css.\n. I have merged this into my repo and it works, no conflicts either :)\n. Yes I am :) Should have clarified that.\n\nKonsulent, Fri Programvare / Free Software Consultant\nMobil: +47 - 473 44 024\nTelefon: +47 - 21 53 69 00, Fax: +47 - 21 53 69 09\nAdr: Nydalsveien 30A, 3. etg., 0484 Oslo\nWeb: www.freecode.no http://www.freecode.no\nhttp://www.freecode.no\nVARNING!\nE-post och ALL Internettrafik till och fr\u00e5n Sverige, eller som passerar servrar i Sverige, avlyssnas av F\u00f6rsvarets Radioanstalt, FRA. (Text fr\u00e5n Journalistf\u00f6rbundet)\nWARNING!\nE-mail and ALL Internet Communications to and from Sweden, or via servers in Sweden, is monitored by the National Defence Radio Establishment. (Text from Journalistf\u00f6rbundet)\n. Couldn't this just use the plugin/hook system?\n. Short intro to the plugin system:\nAny code can call hooks.callAll('someHookName', {som:arg, other:arg...}) and this will call all hook handlers registered for someHookName by plugins. The order they are called in can be controlled by the plugins. There is also an asynchronous version available, as well as the ability to stop at the first one to return a value.\nYou could for example have hooks.callFirst('apiCall', {apiFunction: \"someFunction\", params:....}) for an incoming api call someFunction... if no plugin returns a value, flag it as a call to an unknown api function...\n. Probably someone changed indentation in the html files then :\nIt's a bunch of one-line fixes, one for each template...\n. But I can do a pull / do bthe conflict resolution for you :)\n. There you go, that should make it auto-mergeable\n. @prauscher I've added document.domain = document.domain on all pages in an unrelated change, so if you do the same in the parent page accessing the URL should work fine, even in Chrome.\nFor an explanation of this code, see http://stackoverflow.com/questions/1481251/what-does-document-domain-document-domain-do\n. Hm, that is strange...  Any ideas how that corresponds to the documentation /specification of document.domain?\n. Please do not pull this pull request. Plugin part ordering is done by topological sort. Plugin parts can declare \"pre\" and \"post\" plugin (parts) in ep.json and are sorted according to this. This patch will not work, since the order it leaves the plugins in will not be used by callAll / callFirst.\n. from README.plugins: \"Parts from all plugins are ordered using a topological sort according to \"pre\" and \"post\" pointers to other plugins/parts (just like dependencies, but non-installed plugins are silently ignored).\nThis ordering is honored when you do callAll(hook_name) - hook functions for that hook_name are called in that order\nOrdering between plugins is undefined, only parts are ordered.\"\n. So, to sum it up, in ep.json, write something like:\n\n{\n  \"parts\": [\n    {\n      \"name\": \"somepart\",\n      \"pre\": [],\n      \"post\": [\"ep_onemoreplugin/partone\"]\n      \"hooks\": {\n        \"somehookname\": \"ep_fintest/otherpart:somehook\",\n      },\n    }\n  ]\n}\n\n. Hooks already catches exceptions so this will never get triggered.\nHowever, hooks can throw errors in an async call (in hooks.aCallAll),\nand those will kill the server of course :( Not much to do about that...\nOn 05/01/2012 04:50 PM, Marcel Klehr wrote:\n\nI would suggest to wrap each hook call in a try{... }catch(){...} statement, and report any errors of a plugin to the console.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/634#issuecomment-5440026\n. This is a hard one to solve, since all of EJS is using function calls with return values, not callbacks. eejs is justa function library for embedded javascript within a normal EJS template, and so must return the values that are to be used in the template.\n. The alternative would be a total rewrite of EJS into a non-blocking framework.\n. This is alsp partly related to the node.js require() api being CommonJS synchronous modules, not http://wiki.commonjs.org/wiki/Modules/AsynchronousDefinition which can be solved by using http://requirejs.org/docs/node.html\n. Use the hook aceAttribsToClasses to add css classes, and possibly also aceCreateDomLine if you want to create some more elaborate html, like extra div/span-wrappers. As for getting the names of authors given their id:s I think they are in the pad metadata object...\n. I do like your idea, and I'll see if I can find out how to get the full list... But I haven't dug around that code so I'm not sure I'll find it faster than you.\n\nAlso, since this can easily be added using the hooks above, please make it as a separate plugin (and publish using npm publish)!\n. Gonna redo this....\n. fsck :(\n. It does work :)\n. +1\n. Could we just get it to reconnect in those instances?\nThe 404s are unrelated, they're due to the order that require-kernel looks for files/paths in... :S\n. That's sad... Does the 404s affect this somehow? if so, it could be fixed with some extra code in yasml on the server...\n. Any module could be installed in node_modules under any other module if it happens to be a dependency of that module. This is particularly a problem where a javascript libraries are required by some plugin.\nTake a look at how the plugin system finds the paths to installed plugins since it deals with this..\n. If I read your diffs correctly you allow client side access to the full directory of a node module (including plugins of course), not just /static. Is this correct? If so, there was a discussion earlier on how that would be a security issue...\nAnother solution for this same problem is to provide wrapper plugins that registers a static handler for express and serves the library that way... A bit more cumbersome thou.\n. Plugin code is only loaded into the client when you have a client side hook (client_hooks) registered for the plugin, and only once that hook is called.\n. It is necessary for certain cases of iframe access. I introduced it to make AjaxUpload not break in the ep_fileupload plugin. Basically, if we don't do this, it is impossible to do certain very usefull things in plugins (and in the main code, if the need ever arised, but I don't think it will).\n. @cweider I have been arguing for splitting of a release-1.0 branch, and keep merging in new stuff into develop, but @Pita has argued against it. This is basically the same as your suggestion (just slightly different naming scheme to match http://nvie.com/posts/a-successful-git-branching-model ).\nThe usecase for merging this into the next release, not this one, is the same as for my readonly-pads/realtime-updating-timeslider branch.\nSo, what do you guys think, could we create \"next-develop\" branch and start integrating stuff on it? Please? With sugar on top?\nping @johnyma22 \n. Yes, most definitely\nOn 05/30/2012 01:59 PM, John McLear wrote:\n\nDoes this also need to go into master?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/743#issuecomment-6007914\n. Not sure I can do that anymore. Can't you just do the same pull from the command line again?\n. I can't :( I have many more commit's in master now, and Pita will just refuse them (naturally)...\n. Not required to do a cherry-pick, just a merge, there are only later commits on my master, not earlier, that shouldn't go into pita/master. But the merge has to be done with git comand line, not a pull request on github.\n. Because it unnecessarily complicated the code (so making this change was harder than it had to be), and all it does is save one XHR request at load time of the timeslider. As soon as you start sliding the slider, you end up with those XHRs anyway. Feel free to re-add it.\n. This is semi-by-design :S I had to merge the sessions/protocols for timeslider and editor to make the editor update in real time. However, that left no way for the server to know if it was talking to the editor or the timeslider, at all. And since the server is designed to only allow one editor per session, it now is kind of designed to only allow one window, no matter the type..\n. Yes, we just need to send some extra parameter to the server when\ncreating a socket, that tells it what kind of window it's from...\nAny chance we can restore the old behavior with some tricks? :(\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/753#issuecomment-6088269\n. Methinks the plugin is missing a dependency... Hm\n. Hm. I think the right hook to do that to is createServer, since it is called once, at startup, by the plugin framework :)\n. @cweider IMHO, this is the one really stupid feature of NPM. It's a nice idea in theory. In practice thou, having multiple copies of the same code, possibly of different versions, breaks any kind of singleton pattern, not to mention what happens when two versions of the same code uses slightly incompatible ways to talk to the same external system (e.g. different expectations of database schema for the same database).\n\nFor a practical example: What happens if you let plugins register extra menu items that activates some functionality, and then one such plugin is required as a dependency for two other plugins? You get two buttons, with the same, or slightly different functionality.\nI have been trying to figure out how to solve this practical issue, but there is no sane way.\nMultiple library versions in the same application is madness.\n. It would have to be \"npm install ep_etherpad-lite\", as etherpad is actually a \"plugin\" (so that it can register hooks).\nI'm going to separate out the plugin framework (and its express js hooks) into a separate npm module, and some stuff that is now in ep_etherpad-lite will end up in that npm module (which will be a dependency). This possibly includes server.js and run.sh.\nAdmin interface should be fine.\nGetting bin/run.sh installed into the right location would be a problem as npm can not copy files into bin/\n. +1 on calling EL simply \"Etherpad\", and with a version of \"2\". We can rename all links to the old etherpad \"Old Etherpad\".\nGit repo could be github.com/ether/etherpad or github.com/ether/pad2\n. and the \"aceInit\" hook isn't good enough for you?\n. A hook should always return a list or undefined. Returning undefined is equivalent to returning an empty list.\nAll the returned lists are appended to each other, so if the return values where [1, 2], undefined, [3, 4, 5], [6, 7], undefined and [8], the value returned by callHook would be [1, 2, 3, 4, 5, 6, 7, 8].\nThus, if you want callHook to return [[line, col]] you need to return [[line, col]] and not [line, col] from your hook.\nWhy is this? It is so that is should never matter if you have one plugin or several plugins doing some work - a single plugin should be able to make callHook return the same value a set of plugins are able to return collectively. So, any plugin can return a list of values, of any length, not just one value.\n. I have commented on https://github.com/Pita/etherpad-lite/issues/986 :)\n. Also have a look at https://github.com/redhog/ep_sketchspace which is a vector graphics drawing plugin for etherpad.\n. This is a \"feature\" of npm. It works very badly with the idea of plugins. It makes it possible to have more than one version of a library installed, used by different other libraries. However, that doesn't make much sense in the context of plugins that registers callbacks - say for example that you have two versions of a plugin that adds a button to the menubar installed. You don't rally want two buttons on the menubar. So which one gets to register callbacks? It's just a very strange situation, and I'm not really sure how to beat npm into submission...\n. If npm does not install peer dependencies automatically then we should, how else can we get it to work? When I wrote the plugin framework, npm did not have peer dependecy support. Apparently more people than just us had problems with this, and it is good too see that it is solved in npm, where it should. If necessary, we should give the npm some input....\n. Since we decided to go the AMD/requirejs route these might be usefull:\nhttps://github.com/jrburke/r.js/wiki/Deployment-Techniques\nhttp://requirejs.org/docs/optimization.html\n. @mde TL;DR:\nhttps://github.com/ether/etherpad-lite/blob/develop/src/node/eejs/index.js\nis a mini-library we use that implements django-style blocks and inheritance on top of EJS. It's totally independent of the rest of Etherpad.\n. Why not have a separate option in settings.json?\nMaybe we should group all these and add a comment like \"These options should only be changed for development\" or something?\n. ping @JohnMcLear I have merged iframes-must-die into requirejs branch and it all works :)\n. sigh My emacs seems to have replaced my spacing indent (4 steps more than before because I wrapped the :s inside a <% e.begin_block(\"editbarMenuLeft\"); %> <% e.end_block(); %>) with TABS!!!\n. Hm, wouldn't this have been possible to hookify? \"data-tables\" sounds very... table-support-plugin-specific?\n. You should be able to hack around it using the hook aceGetFilterStack actually. Check out the populateDomLine function to see how...\n. Why don't you send msg as an argument to the hook (esp msg.payload should be interresting to the hook)? Also, why isn't there an \"else\" right before the hooks.callAll?\n. Well, skip the else thing then. But please send in the whole msg structure, not just the payload. That way you allow for the most flexibility in plugins, and it doesn't cost much.\n. ",
    "holtzermann17": "Um... yeah, actually, my mistake - the standard client can connect properly over websockets.  The problem is that my Emacs client still doesn't get \"authorized for websocket writing\".  My mistake!  I'll look again at how my client (tries) to connect, but this issue can close.\n. ",
    "dcolens": "with the latest improvements to handle reconnect, etherpad does not check that socket.io is reconnecting, so it can happen (such as in the above example with firefox) that etherpad changes state to \"RECONNECTING\" while socket.io is not trying to reconnect. \nAlso it seems that the disconnection reason is lost, i.e. I get the same error for a disconnect due to a javascript location uri such as above or due to a userdup.\n. ",
    "antihec": "Yes that does fix it, thank you very much.\n. ",
    "aicm": "Wow you are fast! \nNo error messages really. It just takes a while to actually time out I suppose because it complains it lost connection with the server (browser client does) and then you click reconnect and the last changes were not made. My internet is fine, it did not disconnect.\nAlso looking at the output it seems to do the right thing and can see all the content scrolling along but it does not get saved to the database. \nI have actually tried adding to this pad and then go to history and the last thing is not what I added. When I return to pad the changes are lost and I'm back to where I started. If you'd like to test it out, use this link [removed for now]\nUpdate: As we've determined it actually saves changes. I found the culprit though: When using Pages on a mac, you cannot copy paste the content of a text box (stock one, no style applied) using Firefox 8.0. You can however paste the same text using Safari and Chrome. I will post a screenflow of this happening on 2 distinct macs but running the same combo of software: Pages + FF 8.0. \nside note: This does not happen with text that is part of the document's body (not in a text box) with Pages.\n. @johnyma22 I'm using MySQL 5.0.77. I have determined it is a bug that involves copy-pasting content from a Pages text box using FF 8.0 on a mac. I'm using Lion right now.\n. This is easy to reproduce: \n1. Get yourself a pad here: http://pad.working.name\n2. Open Pages, create a text box, type some mumbo jumbo in it, and then copy all the text within that text box\n3. Go back to FF and paste the text. then check to see if it was saved by going to the history button - top right in etherpad-lite.\nBug reproduced on a Mac Pro machine running lion, FF 8.0 and Pages: bug reproduced on a Mac Pro - Daily Motion\nBug reproduced on a MacBook Pro machine running lion, FF 8.0 and Pages: bug reproduced on a MacBook Pro - Daily Motion\nBugzilla bug report link: https://bugzilla.mozilla.org/show_bug.cgi?id=702791\nApple Discussions link: https://discussions.apple.com/thread/3496229\n. What is typewith.me doing differently? I can paste on their pads and get it to save. Can't do the same on PrimaryPad though. (http://beta.primarypad.com/p/F5d3TfaeMK)\n. That's awesome! Well, congratulations you just fixed the bug on TypeWith.Me somehow :) \nIf you're in a position that allows you to share the code I can run a compare between latest etherpad-lite code and yours and post a report.\nOtherwise, great job! I'll just stick to Chrome for now...\n. That's very nice of you, I appreciate it. \nnot holding my breath :)\n. @johnyma22 you're off the hook :) The bug is fixed in fa9b36d. I was running fb158d2 and that's where the bug is. My apologies, I should have first updated to the latest before bugging you... I live, I learn.\n. I can confirm this. Having the same issue on a normal install. I did not wait 8 minutes, but I usually have to restart etherpad to make it responsive again.\nI'm currently proxying it via apche, but even directly (on 9001) it behaves the same.\n. That's great! I'm glad to hear that. I'll try to implement that setting in my apache config as well, just in case.\nHowever, my issue is there even when accessing etherpad-lite itself on port 90001 (which shouldn't have anything to do with my apache reverse proxy config).\n. Okay, it has to be before fb158d2 because I had this issue then as well.\n. Okay, I have 53bf7dc up and running. Now that I read the \"fixed: socket.io logging\" I think I know what the issue is: Whenever you start etherpad by doing bin/run.sh & and then your ssh connection times out, etherpad freezes. Do you think there's a possibility that this is related to console not having a way to output to a connected \"head\"?\nI ran the latest code by doing bin/run.sh > logme.log & and it hasn't gone freezing on me for 2 days now (with usage).\n. Wish I had an answer for you. In theory it shouldn't be since it's the script that can be used in a cron.\n. I can confirm, socket no longer hangs up with node 0.8.21.\n. @iuriguilherme I am running v0.8.21 and I seem to get no hang-ups. Try running that version of node.\n. Figured it out in the meantime, abiword is ok, the only problem was the  HTML tag \"invented\" by the Font Size plugin. Hunting that one down now...\n. My bad about the cross post. I wasn't aware of the github for the plugin. Thank you!\n. ",
    "Wikinaut-devel": "see pull request https://github.com/Pita/etherpad-lite/pull/226 .\n. ",
    "phrozen77": "I've solved it with setting proxy_buffering off; in the vhost conf (location /) - try and see if it helps\n(all assuming you're reverse proxying to nginx)\n. Hence why i said i'm not sure how that could be achieved :)\nMaybe like this:\n(P:3) (Modified) - padtitle - Etherpad Lite\n(P for people connected)\n. ",
    "Frankstar": "i have the issue with the current master and latest node\n. but have this issues too:\n[ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"msg\":\"isAndroid is not defined\",\"url\":\"http://localhost:9001/minified/pad.js\",\"linenumber\":1,\"userAgent\":\"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0.1) Gecko/20100101 Firefox/9.0.1\"}\nERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"msg\":\"$(\\\"#colorpicker\\\").farbtastic is not a function\",\"url\":\"http://localhost:9001/minified/pad.js\",\"linenumber\":1,\"userAgent\":\"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0.1) Gecko/20100101 Firefox/9.0.1\"}\n[ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"msg\":\"chat is undefined\",\"url\":\"http://localhost:9001/minified/pad.js\",\"linenumber\":1,\"userAgent\":\"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0.1) Gecko/20100101 Firefox/9.0.1\"}\n. commit 04d48e859225af11709a00bff29305a9bdf9c977\nAuthor: John McLear john@mclear.co.uk\nDate:   Sun Jan 22 16:29:51 2012 +0000\nAdded a getting started developing Etherpad Lite video to readme.md..\ncommit ca68196c32b80a20402a8dbd0ec08d101f5d7c7a\nAuthor: John McLear john@mclear.co.uk\nDate:   Sun Jan 22 16:24:06 2012 +0000\nAdded a getting started developing Etherpad Lite video to readme.md\ncommit cf4715376960b05fced4fa8e8e73e3e490591260\nMerge: cece2c8 165f269\nAuthor: Peter 'Pita' Martischka petermartischka@googlemail.com\nDate:   Sun Jan 22 15:25:50 2012 +0100\ndoesnt work,\nOutput console:\nnpm WARN gzip@0.1.0 package.json: bugs['web'] should probably be bugs['url']\nnpm WARN log4js@0.3.9 package.json: bugs['web'] should probably be bugs['url']\nnpm WARN prefer global jshint@0.5.7 should be installed with -g\nmaybe this are the problems ?\nalso the Errors from above are still showing.\n. weird, now it works .... something is strange here ...\n. ",
    "mitfik": "I've got the same problem right now with latest version.\nWhen I try to get access to etherpad throught nginx it stuck on Loading\nWhen I add port :9001 to domain it load without problem.\nAny suggestion what could be a problem ?\nEdit:\nI figure out that the problem was that I didn't use https when I add cert to nginx all work fine.\nWhy it does not work without cert ?\n. latest develop (master branch)\n. ",
    "ferrix": "I noticed that an unrotated logfile had bloated and that rendered node slow.\n. I did a pull to a more recent version so the problem should be gone.\n. ",
    "brauliobo": "I also feel this slowness... It takes a lot of time for a pad to load. I'm using the version 1.3.0\n. @JohnMcLear hello john. No, I haven't. We initially used develop branch at pad.eita.org.br, but now we downgraded to 1.3.0.\nI currently live on the coutryside of Brazil and have a slow connection, less than 1mb/s. But etherpad-lite takes much more time than usual pages...\n. @JohnMcLear Ok, john, I'll try to debug more on developers tools\n. @marcelklehr it can take more than one minute, sometimes.\nYeah, even etherpad-lite being a heavy js app that doesn't justify a slow load time. Take google docs as a counter example.\nI haven't debugged, but I guess too much requests are being made. Aren't the js being concatenated into one?\n. I had this issue with the latest (yesterday) develop branch\n. A less than 500kbps (kilobits per second) with frequent (~1 hours) PPP reconnect\n. No, actually it drops more frequently than that, mainly when I'm doing a lot of editing. Going to check settings.json\n. The standard from template:\n\"socketTransportProtocols\" : [\"xhr-polling\", \"jsonp-polling\", \"htmlfile\"],\n. Are timeouts used? It seems that dropping may be related to them, as some requests take much more time than others (I see that when loading websites)\n. added in the first position. will conduct tests on the next few days. thanks for the support!\n. @marcelklehr that makes a lot of sense marcel... for my connection and many others, this should be higher. could this be made configurable? my internet is very unstable, and sometimes it takes a much longer time to load a simple thing\n. certainly much better, but still a configuration would adapt more to each case. your pad is used by people from Brazil, where ISP companies are really dominating and making a bad job, but in other places this situation can be rather different\n. This problem is really making the use of etherpad-lite unbearable. Add the websocket transport didn't make things any better\n. Using nginx instead of apache2.4 seems to make things a lot better. Still testing...\n. the problem was completely fixed using nginx. closing this!\nwhere could I document this problems with apache?\n. +1, same as @pyropeter\n. ",
    "jlpoole": "atom etherpad-lite # node --version\nv0.6.0\natom etherpad-lite # npm --version\nnode.js:201\n        throw e; // process.nextTick error, or 'error' event on first tick\n              ^\nError: No such module\n    at Object. (/usr/lib/node_modules/npm/lib/utils/config-defs.js:5:21)\n    at Module._compile (module.js:432:26)\n    at Object..js (module.js:450:10)\n    at Module.load (module.js:351:31)\n    at Function._load (module.js:310:12)\n    at Module.require (module.js:357:17)\n    at require (module.js:368:17)\n    at Object. (/usr/lib/node_modules/npm/lib/utils/ini.js:40:18)\n    at Module._compile (module.js:432:26)\n    at Object..js (module.js:450:10)\natom etherpad-lite #\n. Your assessment was correct and your solution worked.  Thank you; well done!\nI'll post in the Gentoo Forum, looks like node.js is not a well known technology there.\nFor posterity:\natom src # curl http://npmjs.org/install.sh | sh\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100  7184  100  7184    0     0  21769      0 --:--:-- --:--:-- --:--:-- 47893\ntar=/bin/tar\nversion:\ntar (GNU tar) 1.23\nCopyright (C) 2010 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later http://gnu.org/licenses/gpl.html.\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\nWritten by John Gilmore and Jay Fenlason.\nfetching: http://registry.npmjs.org/npm/-/npm-1.0.106.tgz\n0.6.0\n1.0.106\ncleanup prefix=/usr\nAll clean!\n/usr/bin/npm -> /usr/lib/node_modules/npm/bin/npm-cli.js\n/usr/bin/npm_g -> /usr/lib/node_modules/npm/bin/npm-cli.js\n/usr/bin/npm-g -> /usr/lib/node_modules/npm/bin/npm-cli.js\nnpm@1.0.106 /usr/lib/node_modules/npm\nIt worked\natom src #\natom etherpad-lite # bin/installDeps.sh\nEnsure that all dependencies are up to date...\nnpm WARN log4js@0.3.9 package.json: bugs['web'] should probably be bugs['url']\nnpm WARN gzip@0.1.0 package.json: bugs['web'] should probably be bugs['url']\nasync@0.1.15 ./node_modules/async\ngzip@0.1.0 ./node_modules/gzip\nlog4js@0.3.9 ./node_modules/log4js\nformidable@1.0.7 ./node_modules/formidable\nuglify-js@1.1.1 ./node_modules/uglify-js\nclean-css@0.2.4 ./node_modules/clean-css\n\u00e2\u00e2\u00e2 optimist@0.1.9\nexpress@2.5.0 ./node_modules/express\n\u00e2\u00e2\u00e2 mime@1.2.4\n\u00e2\u00e2\u00e2 mkdirp@0.0.7\n\u00e2\u00e2\u00e2 qs@0.4.0\n\u00e2\u00e2\u00e2 connect@1.7.3\nsocket.io@0.8.7 ./node_modules/socket.io\n\u00e2\u00e2\u00e2 policyfile@0.0.4\n\u00e2\u00e2\u00e2 redis@0.6.7\n\u00e2\u00e2\u00e2 socket.io-client@0.8.7\nueberDB@0.1.3 ./node_modules/ueberDB\n\u00e2\u00e2\u00e2 channels@0.0.2\n\u00e2\u00e2\u00e2 dirty@0.9.4\n\u00e2\u00e2\u00e2 mysql@0.9.4\njoose@3.50.0 ./node_modules/joose\n\u00e2\u00e2\u00e2 temp@0.2.0\n\u00e2\u00e2\u00e2 optimist@0.2.8 (wordwrap@0.0.2)\n\u00e2\u00e2\u00e2 detective@0.0.3\nEnsure jQuery is downloaded and up to date...\nbin/installDeps.sh: line 54: [: =: unary operator expected\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100 94020  100 94020    0     0   255k      0 --:--:-- --:--:-- --:--:--  278k\nClear minfified cache...\nensure custom css/js files are created...\natom etherpad-lite #\n. ",
    "Zammy": "I have the same issue. But reinstall does not work. I am on mac os x 10.7. Any clues? \n. ",
    "JedMeister": "@muxator - sorry to be a pain, but browsing the issue tracker I found this one which IMO should be tagged security. FWIW I haven't tested to confirm it's still valid, so perhaps it's been addressed already and just needs to be closed?. @muxator - IMO this one should also be tagged security (or closed if no longer relevant).. @muxator - IMO the long game should be to support the whole user generation/management process (including setting and hashing passwords) a part of the admin UI.\nObviously that will require a fair bit of work and is likely not on your immediate roadmap, so is not a legitimate short term goal IMO. However, it's well worth deciding on the long term goal before any of this is implemented IMO. Then you can plan for the long term goals from the get go (even if little of it is actually implemented). I.e. start with the ends in mind. That won't completely eliminate the need to rewrite sections of code later, but it will reduce it, and hopefully make it an easier process.\n@ukcb - I really like your idea of using the db for user account storage (as opposed to the settings file). Personally, I think it's a good idea for all users (not just admin users). There is precedent for that sort of setup in lots of other web apps.\nHaving said that, I understand that Etherpad may be run without a proper DB backend (that's right isn't it?). If you were to go that way, you may need to make a requirement for a SQL db (although SQLite might be a good option for those who don't want to run a \"proper\" DB?).\nJust adding my 2c to the mix - actually it's probably cheaper than that because I don't need to implement any of this... :smile: . @ukcb - Ok thanks for the clarification. I was under the impression that if you didn't use \"a proper DB\" (e.g. MySQL etc), that Etherpad just used some sort of (non standard) plain text data storage mechanism (i.e. not SQL at all). I admit that I'm not very familiar with the Etherpad codebase and have only run it with a MySQL/MariaDB backend.\nI agree that SQLite is a SQL DB. I used the quotes around proper (i.e. \"proper\" database) because it's generally not considered adequate for production usage of scalable web apps because of it's inherent design limitations. Having said that, I'm sure for many low-to-medium traffic pads, it'd be fine.. Great thanks @muxator - IMO, if nothing else it'd be worth adding an additional note to spell out what you need to do to run npm audit.\nOne way to do that would be to capture the output of the npm command (I'm assuming that's where it comes from?!) and alter it to explicitly to include cd src.\nThis is a little dirty (and completely untested) but assuming that the message comes from npm's stdout (on line 103), substituting something like this should do the trick:\noutput=$(npm install --no-save --loglevel warn)\necho $output | sed s\"|\\`npm audit|\\`cd src \\&\\& npm audit|g\"\nThis should transform this message:\nrun `npm audit fix` to fix them, or `npm audit` for details\ninto this message:\nrun `cd src && npm audit fix` to fix them, or `cd src && npm audit` for details\nBetter still would be to work out which directory the command is being run from and dynamically note the correct relative path to the src directory rather than just guessing (or perhaps just provide the absolute path?).. (Please note I am not an Etherpad developer - just an interested third party)\nPersonally, I think that integrating audio chat into the core of Etherpad is a bad idea. \nWhilst I'm aware that Etherpad is cross platform, I'm a big believer in the the Unix philosophy of \"do one thing and do it well\".\nIn my mind, audio chat support is non-core functionality (i.e. feature creep) for Etherpad and therefore should not be part of the core software.\nHaving said that, I can certainly see how some sort of audio chat integration could be nice for some users. IMO a plugin to support integration with one (or more) of the myriad of existing audio chat platforms would be the best way to approach this.\nJust my 2c.... FWIW I was under the impression that \"converter\" was the correct English spelling, but a quick google suggests that either are correct.... ",
    "muxator": "Yeah, needs confirmation. Labeling for now.. Yeah, needs confirmation. Labeling for now.. Can this issue be closed for inactivity?. For 1.7 (the upcoming release) we cannot do much more than mentioning ep_hash_auth in the documentation (BTW, in its current form it has some usability issues: see https://github.com/LaKing/ep_hash_auth/issues/2).\nIt could be mainlined, provided the original author allows it, the code is polished, usability problems are overcome...\n. Thanks, @Laking, I understand.\nSince ep_hash_auth is a good starting point, I have opened https://github.com/LaKing/ep_hash_auth/issues/4.\nPlease tell me what you think about it. Thanks again!\n. Thanks to @Laking generosity, this ticket is replaced by #3463.\n. @stefan2904, after your experience, would you advise to add \"writeInterval\": 0 to the script?\nhttps://github.com/ether/etherpad-lite/blob/c17f5e5f0450d14a00318158df0f65a43233cd6b/bin/migrateDirtyDBtoRealDB.js#L13-L15\nEven if it's a workaround, it prevents a behavior that sounds definitely buggy, and costed at least three hours of your time...\n. Ok: a user that runs bin/migrateDirtyDbtoMysql.js is probably advanced enough to benefit even from a simple code comment. At least we do not leave this information in a Github issue.\nFeel free to submit a small PR, @stefan2904, it would be welcome.\n. Aaaand now I need help, @stefan2904.\nI was willing to test your recently merged PR (#3519). Also, I have seen that the original pastebin link from 2014 still works, so I wanted to nail it testing on the original use case.\nMy problem? I cannot get to run the script. It always gets stuck at Waiting for dirtyDB to parse its file., and then halts. This happens both before & after #3519.\nIn my installation the problem seems to be at\nhttps://github.com/felixge/node-dirty/blob/f52d798146b09e245d9ab9d41df37a2ab1e907c6/lib/dirty/dirty.js#L188\nemit('load') is called, but no actual callbacks fire.\nI am on a clean install (tried with various nodejs versions, and on latest Etherpad).\n. Regarding user/admin passwords in plaintext in the database: see #3421.\nSince this issue is old by now, I'll keep it closed.\nThe discussion can happen in #3421.\n. Closing this, as createRelease.sh was included in 6dc808ad5483 anyway.\n@Gared, if you think it can be improved, every contribution is appreciated.\n. The issue still exists: replicated now on current develop branch (58c315476954, 1.6.6+).\n[2018-07-13 20:48:29.503] [WARN] console - Error: Can't apply USER_CHANGES, because Trying to submit changes as another author in changeset Z:q>0*0=9|1=1*1=f$\n    at /opt/etherpad-lite/src/node/handler/PadMessageHandler.js:708:25\n    at /opt/etherpad-lite/src/node_modules/async/lib/async.js:610:21\n    at /opt/etherpad-lite/src/node_modules/async/lib/async.js:249:17\n    at iterate (/opt/etherpad-lite/src/node_modules/async/lib/async.js:149:13)\n    at /opt/etherpad-lite/src/node_modules/async/lib/async.js:160:25\n    at /opt/etherpad-lite/src/node_modules/async/lib/async.js:251:21\n    at /opt/etherpad-lite/src/node_modules/async/lib/async.js:615:34\n    at /opt/etherpad-lite/src/node/handler/PadMessageHandler.js:658:9\n    at Object.exports.getPad (/opt/etherpad-lite/src/node/db/PadManager.js:161:5)\n    at /opt/etherpad-lite/src/node/handler/PadMessageHandler.js:654:18\n. Hi, this is an old PR, but it seems important. Any chance to resume the work?. I am a bit uncomfortable because it seems that there is already a mechanism in place to build correct (albeit absolute) urls when ep is proxied (see for example https://github.com/ether/etherpad-lite/blob/develop/src/static/js/pad.js#L194-L195).\nThis change makes the url relative (which is fine), but shouldn't we stick to a single strategy?\n. The fix is beneficial. Merged, thanks.\n@cxcv: next time, it would be appreciated if the commit message (and the issue itself) contained a short one-line summary of the problem, with a description in the body of the message, for example:\n```\ndiagnostic-info: made url relative\nAfter a failed attempt to reconnect to the server, the\nclient sends a diagnostic message to an absolute\nendpoint.\nThis was prone to breakage when etherpad was reverse\nproxied in a subdirectory.\n```\n. I am ok with showing the version in the web interface, since we are already putting it in a HTTP header.\nHowever, I feel this should be under a configuration setting (both for the header and the web interface): preventing information disclosure about one's system does not save against a determined attacker, but at least slows down the laziest.\nSince this is not directly related to this issue, I have opened a new one in #3423.. Hi @Perflyst, the hash is right there in the Server HTTP header (fresh clone of the stable branch):\nServer: Etherpad 6a3e4c6 (http://etherpad.org)\nThis issue, asking for the commit hash to be shown on the web interface, was never worked on. As a reminder, this should be done jointly with #3423.\n. Hi @dcht00, I am not working on this right now. I do not know if someone else is having a look, but the feature looks interesting for sure.\nI would welcome contributions on this.\nSome practical details:\nThe feature was developed right on top of 1.6. The contributor could test & eventually fix that version (5cd781d09fd4).\nAfterwards, it could be forward ported to current develop (1.7+) and merged there.\n. The original repo was deleted, but the change is correct.\nI have committed the content of this PR with the same metadata in (b98ee116b90f), closing this.\nThanks.\n. Confirmed.\nThis commit tried to guarantee an invariant:\n- on first load, either a line has an empty class, or - if it needs to have a class because, for example, is an ordered list - its class attribute starts with a space and then has the relevant class\n- after editing it, a line ends up having an ace-line class prepended to its class list\nThis sounds like something performs string concatenation on an uninitialized attribute. The fix is sound.\n@danfuzz, if you don't mind, I would commit this one-liner with the original metadata (name, date, ...).\nThanks\n. Committed 2a876e5e9ba9. Clearly the world is a safer place, now :)\n. @lpagliari, from a quick check it seems that 187e51948d33d7715c7e59669267c1f53e17090b already reverted this change.\nShould we close this pull request?\n. I guess the CockroachDB is never going to be added unless  (https://github.com/Pita/ueberDB/pull/99) is merged, which at this point seems unlikely.\nThank you, anyway.\n. Hi, I think this and #3404 are important, but I really do not have the time to dig into it. Any volunteer?. If releasing this change breaks some plugins we should probably have an upgrade strategy (for example, we could invite the authors to issue a new release for their plugin, starting with the ones for which ilmartyrk has already wrote a pull request).\nCurrent Etherpad version is 1.6.6. Since this is a change that somewhat breaks compatibility, I would propose to bump Etherpad version to 1.7.x (a plugin with a sane dependency spec could make good use of this).\n. Let's investigate #3425 before unleashing 1.7 :)\n. @ilmartyrk, thank you for your work.\nThe new test is clear, and - as desired - breaks before #3268 (fe08d2a1db5b), and works afterwards. Perfect.\nFor clarity, the test we are talking about is contained in https://github.com/ether/etherpad-lite/pull/3408/commits/06cf3ffaec0eca69d765e69ef0bc8a2157e21402 and is currently part of #3408.\nSome nits:\n\n\nI would like to keep this change separate from PR #3408, which is unrelated. For example: it could be applied to the current develop head cherry-picking it to another branch, and a new PR created from there. If you are off put by this request, I can do it by myself, keeping your name & commit data. But, since it's your work, maybe you want to take care of it. Just tell me.\n\n\nThe info that this test (and therefore, #3268) address the case of two different types of list inserted one after another is probably worth mentioning in specs/api/pad.js, either in the comments or in the test text itself.\n\n\nI would normally not want to remove an existing test, but it probably makes sense to remove it this time, for the following reasons (that should probably be included in the commit message for the new test):\n\nthe old list test was introduced in cadb83ac5af0 with an explicit attempt to import an invalid HTML and see if it could recover from it\nin 5967e085b7bc the code base finally managed to export a meaningful HTML (but we do not know if other bugs were introduced in pursuing this)\nthat behaviour seems aimed at attaining resiliency, but correctness should be addressed before that\n. @ilmartyrk, I went on and committed 718b17552421 on your behalf (merged with b466acd8810c), so this PR is deservedly covered by a test.\n\nThank you again for the help!\n. This change effectively breaks the alignment in Etherpad 1.6.4+ (see for example #3378).\nAs the feature seems interesting, maybe we can revert the changes on iframe_editor.css (I have them ready to commit) and open a separate line of work where these parameters would be configurable, as suggested by @lpagliari and others.\n. Reverted back to old appearance with 9daade0b95bb.\nWe can build a more comprehensive approach in a different line of work.\n. Released in 1.6.6.\n. Acknowledged, this is one of my pain points, too.\n. PR #3312 addresses both socket activation (#3299) and automatic quit (this one).\n. Hi,\nwe are already unknowingly \"supporting\" unix sockets. A user found a minor bug because of this: #3437.\nThis configuration snippet actually results in etherpad listening to a unix socket:\njavascript\n// settings.json\n{\n  \"ip\": \"\",                               // <-- empty string\n  \"port\" : \"/somepath/etherpad.socket\",   // <-- path to a Unix socket\n  // ...\n}\nThis is due to express.listen(), which in turn just re-exposes net.server.listen() and its overloads, including the one that binds on a Unix socket.\nThis PR makes it explicit, and this is certainly desirable.\nLet me propose what should be added before merging:\nImportant\n\n[ ] suitable examples for binding Etherpad to a Unix socket should be added in settings.json.template\n[ ] the timeout for autoQuit() should be configurable in settings.json (and documented in settings.json.template)\n[ ] if one does not want to use automatic quitting, a value of 0 for the timeout should completely bypass the feature (since, reading autoquit's source, there is no way of starting autoquit in a disabled state)\n[ ] once this PR is ready, a last commit should be added to make stricter validation of settings.ip and settings.port in order to make mandatory the use of the new configuration options (making impossible the bypass described above).\n\nNice to have\n\n[ ] the examples with service and socket files are really useful, and worth putting in a documentation file (maybe a new one)?\n[ ] The wiki about reverse-proxying is worth at least an example about using Etherpad as an upstream bound to a unix socket.\n. This would be a good moment to work on this PR, since we are at the start of a new cycle.. Hi @iia, give a voice if you need help.\n. I have a doubt now: this change is systemd-specific.\n\nWould Etherpad still run if executed in an environment without systemd? For Example, on Windows, or on Alpine Linux, of in a container (which has no notion of PID 1).\nConsidering we are already unknowingly supporting unix domain sockets, I am starting to think if a different approach could make sense:\n\ndocument the possibility of using unix domain socket on supported platforms, without introducing a new configuration parameter\ndeduce at runtime (from the value of the listen config parameter) if we are binding to a network or unix socket\nkeep the helpful message logs at startup which indicate in which mode Etherpad is running\ndiscuss the useful autoquit functionality in a different PR\n\nn.b.: this is not a comment about systemd, but about platform support\n. My current understanding is:\non a freshly started Etherpad, when the first client connects, the server tries to read SESSIONKEY.txt.\n\nif SESSIONKEY.txt exists and is not empty, everything is fine\nif SESSIONKEY.txt does not exists, a random one is created, and everything goes on\nif SESSIONKEY.txt exists but is 0 bytes, the session crashes\n\nGiven point 2, point 3 seems surprising to me: almost a missed edge case.\nExample log:\n[2018-04-10 23:10:38.999] [ERROR] console - Error: secret option required for sessions\n    at session ([...]/src/node_modules/express-session/index.js:167:12)\n    at Layer.handle [as handle_request] ([...]/src/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix ([...]/src/node_modules/express/lib/router/index.js:312:13)\n    at [...]/src/node_modules/express/lib/router/index.js:280:7\n    at Function.process_params ([...]/src/node_modules/express/lib/router/index.js:330:12)\n    at next ([...]/src/node_modules/express/lib/router/index.js:271:10)\n    at [...]/src/node_modules/log4js/lib/connect-logger.js:103:5\n    at Layer.handle [as handle_request] ([...]/src/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix ([...]/src/node_modules/express/lib/router/index.js:312:13)\n    at [...]/src/node_modules/express/lib/router/index.js:280:7. @anugu-chegg, thanks for analyzing the problem and for taking the time of writing a fix.\nI have done a very basic test of your patchset (everything on localhost:9001) cutting the connection via tcpkill -9 -i any port 9001, and the robustness really improved greatly!\nIn a single case, however, I was still able to lose changes: instead of describing it, I would like to show you, but unfortunately I was not recording the screen at the time. I will try again in the following days.\nCoping with these king of failures and simulating them is really challenging: any help will be appreciated in trying to replicate the remaining issue (if it's really still there).\n. I was finally able to break it while recording. This is the patched version going under attack :)\n\n. Using the kill -9 approach I did not encounter any issues. The code works flawlessly and definitely needs to be merged.\nWith the more brutal approach (tcpkill -9 -i any port 9001) it is relatively easy to break a browser's connectivity and make it stop trying. I would like to see some testing (and future patches) on this.\nOne last thing, @anugu-chegg: it seems that socket.realConnected is a leftover of previous commits. Could you please confirm, and eventually take the time to polish the patch series?. Merged, thanks.\nCould you please prepare a short one-line summary to be included in the next release's changelog?\n. Released in 1.6.6.. Still relevant, isn't it?. @gared, can we close this?. There may be some issues:\n\nyou have some location /<etherpad-specific> sections that supposedly should catch etherpad-specific urls\nthe try_files directives get triggered because they are inside a regex location section, and regex section are always checked after literal prefix matches unless they are not explicitly turned off. From the nginx core module documentation:\nIf the longest matching prefix location has the \u201c^~\u201d modifier then regular expressions are not checked. \n  But you are not using the ^~ modifier, so the regex are evaluated and bring you to index.php\n\n\nthe rewrite in the /pad/static section is wrong. It should perform /pad/static/(.*) -> /static/$1, and instead rewrites /static/(.*) -> /static/$1, thus doing nothing.\n\nTry these modifications (they worked on a quick replica of your config):\n```diff\n@@ -109,7 +105,7 @@ server {\n         expires 30d;\n     }\n\nlocation /pad {\n\nlocation ^~ /pad {\n         rewrite                /pad/(.*) /$1 break;\n         rewrite                ^/pad$ /pad/ permanent;\n         proxy_pass             http://localhost:9001/;\n@@ -119,7 +115,7 @@ server {\n         proxy_buffering off;\n     }\n\n\nlocation /pad/socket.io {\n\n\nlocation ^~ /pad/socket.io {\n         rewrite /pad/socket.io/(.*) /socket.io/$1 break;\n         proxy_pass http://localhost:9001/;\n         proxy_redirect         / /pad/;\n@@ -135,8 +131,8 @@ server {\n         proxy_set_header Connection $connection_upgrade;\n     }\n\n\nlocation /static {\n\nrewrite /static/(.*) /static/$1 break;\nlocation ^~ /pad/static {\nrewrite /pad/static/(.*) /static/$1 break;\n         proxy_pass http://localhost:9001/;\n         proxy_set_header Host $host;\n         proxy_buffering off;\n```\n\nMost important point:\nDo you know if this configuration was copied from somewhere?\nIf so, it would be a good idea to modify the original documentation in order to fix the problem for other users too.\n. I can confirm that the issue exists in Etherpad 1.6.5 e4a8581.\n\n. @mihalis68, this bug report is from last March. At the time, latest Etherpad version was 1.6.3.\nToday, looking at https://etherpad.openstack.org/p/TYO-ops-meetup-2018 server header, it reads:\nServer: Etherpad 275f1b1 (http://etherpad.org)   <== this should mean Etherpad 1.6.6\nDo you still observe this issue?\nI ask this because I have no Mac at my disposal to test it, so reproducing it is on the hard side.\nThanks.\n. @kaldonia, glad you have updated, there were some important security fixes in the latest versions.. Thanks for the update!. My main concern is #3268: it fixes a bug, but breaks plugins.\nIf this change had a clear test case (see #3425) we could accept the breakage, provided we bump version number to 1.7 (milestone) and have a clear communication plan.\nIf I had to cut a release right now, I would:\n- revert #3268\n- take a decision on minimum node version (#3424)\n- release 1.6.7\n. The double dollar sign caused a \"bad substitution\".\nFixed in 5f9de6948c46.\n```diff\n@@ -38,4 +38,4 @@ bin/installDeps.sh $* || exit 1\n echo \"Started Etherpad...\"\nSCRIPTPATH=pwd -P\n-node $SCRIPTPATH/node_modules/ep_etherpad-lite/node/server.js $\n+node \"${$SCRIPTPATH}/node_modules/ep_etherpad-lite/node/server.js\" $\n```\n. I'll close this, but I suspect there may be some minor stability check we could do anyway.\nThanks.. Rebased & merged, thanks.\nThe problem was introduced in dd7894d3c9389a000d11d3a89962d9fcc9c6c44b.\n. Released v1.6.5, which should fix this and other small issues.. Is the crash still observed? I am trying to find what are the bugs that still need to be fixed.\n. I was not able to reproduce this in Chromium/Linux. Maybe this is really Chrome specific?. Chrome is now at 67.\n@skupfer, I have no Chrome or Chromium installed: would it be easy for you to do a quick check?\nIf the problem is gone, then we could ditch it as a browser bug (sadly, the reverse is not true :) )\n. Thanks @skupfer.\nClosing this, since it appears to have been a browser bug (never observer by me in Chromium/Linux, btw).\n. This is due to #3280, merged in f15c7d7186db.\n. As a user, I always had this desire, too.\nI encourage you to try to write a PR for this functionality, limiting it to the case of authenticated users.\n. Thanks for reporting this before May 9.\nThis will not just apply to tab key, but also to other combinations (like ctrl-b for bold), right?\nCould you please point to some documentation about how to keep up with this change? I guess a lot of products will need to handle this.\n. Fixed in #3413.\nEdit: that change did not update the frontend tests in /tests/frontend/specs.. That's right, @birtles. 42e0646 fixed the tests. I forgot to close this again. Thanks.. Thanks for the PR.\nIt is a bit hard to review (40 files changed).\nCould you please take the time to submit another version with just the required changes?\n. @xulayen, in google translate your comment sounds like this:\n\nIn a large space of frequent document editing, my browser is stuck and cannot be operated\n\nIt's a bit hard to understand your problem.\nCould you please try to be more specific (and - possibly - write in English)?\nAlso, next version will contain a fix that makes client connections more robust. Maybe your difficulty can benefit from that.\n. Stale issue, closing as probably fixed by #3327, released in 1.6.6.. @karstengit, I suggest to:\n- apt remove any nodejs releted packages from your system\n- download the nodejs binary from https://nodejs.org/en/download/ (for example node-v8.11.4-linux-x64.tar.xz, it's just 11 MB)\n- tar xf downloaded-file.tar.xf\n- creating 2 symlinks to node and npm in /usr/local/bin/ (or in a folder that is in the PATH of the user that is going to execute Etherpad if you do not want a system-wide install)\n- rm -rf ETHERPAD_BASEDIR/src/node_modules\n- trying again\np.s.: please be aware that npm install some_node_module is not like apt install some_linux_package: apt installs system-wide and always in the same directory, npm installs locally (unless you use --global), and \"locally\" == the directory you are currently in.. Closing: the installation procedure mixed os-level packages and application-specific modules.\nWrite here or open another issue if there are further problems.\n. Merged, thanks. @ljoets, when using a direct network connection plugin installation seems to work as expected (etherpad 1.6.6-devel c4918efc1bb2, node 10.6.0).\nDid you check your npm configuration? npm does not support standard http_proxy environment variables, but has its own configuration mechanism via:\nnpm config set proxy http://[user:password@]yourproxy.org:8080\nnpm config set https-proxy http://[user:password@]yourproxy.org:8080\nYou can have a look at http://wil.boayue.com/blog/2013/06/14/using-npm-behind-a-proxy/\nFinally, please note that the given syntax only works for unauthenticated, or with basic http authentication. If your corporate proxy requires NTLM authentication, you might need to use cntlm.\n. I am inclined to close this as installation-specific. @ljoets, did you solve your issue?. Hi @gllmhyt,\nplugin installation is working on my system, but we cannot exclude some bug.\nLet me show you how it works here, and maybe you can spot some differences.\n\n\nBASEDIR is the directory containing the Etherpad clone (the one with .git, bin, doc, src inside it)\n\n\nI am running on Ubuntu 18.04 (should not matter).\n   Just to be sure, I manually installed the minimum supported Node versions (node: 6.9.0, npm: 3.10.8).\n   Newer node versions are ok (and better).\n   Side node: manually installing any Node version it's just a matter of downloading the official tar.xz and putting three symlinks to node, npm and npx into a location that is in your path. Or just use packages.\n\n\nI am starting from a clean installation (rm -rf BASEDIR/node_modules and other things that we'll eventually discuss. This is harmless, but do not use it yet)\n\n\nFirst start, no plugins:\n   muxator@host:BASEDIR$ bin/run.sh \n   Ensure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\n   Ensure jQuery is downloaded and up to date...\n   Clearing minified cache...\n   Ensure custom css/js files are created...\n   Started Etherpad...\n   [2018-08-17 17:54:00.963] [WARN] stats - Enabling a polyfill to run on this Node version (v6.9.0). Next Etherpad version will remove support for Node version < 8.9.0. Please update your runtime.\n   [2018-08-17 17:54:01.200] [DEBUG] console - Running on Node v6.9.0 (minimum required Node version: 6.9.0)\n   [2018-08-17 17:54:01.202] [WARN] console - Support for Node v6.9.0 will be removed in Etherpad 1.8.0. Please consider updating at least to Node 8.9.0\n   [2018-08-17 17:54:03.340] [INFO] console - Installed plugins: <-- EMPTY PLUGIN LIST\n   [...]\n   [2018-08-17 17:54:03.348] [INFO] console - Your Etherpad version is 1.7.0 (96ac381afb9e)\n\n\nLet's install ep_adminpads via npm, from BASEDIR:\n   ```\n   muxator@host:BASEDIR$ npm install ep_adminpads\n   BASEDIR\n   \u2514\u2500\u2500 ep_adminpads@0.0.12 \n\n\nnpm WARN enoent ENOENT: no such file or directory, open 'BASEDIR/package.json'\n   npm WARN etherpad-lite No description\n   npm WARN etherpad-lite No repository field.\n   npm WARN etherpad-lite No README data\n   npm WARN etherpad-lite No license field.\n   ```\nIt's a bit weird, but it works. It nees to be made more robust, however.\n\n\nFirst verification: ls -l BASEDIR/node_modules/ (that in a clean installation should contain only a symlink to ../src), shows the newly installed plugin:\n   muxator@host:BASEDIR$ ls -l node_modules/\n   total 4\n   drwxrwxr-x 1 muxator muxator 174 ago 17 17:54 ep_adminpads   <-- NEW PLUGIN\n   lrwxrwxrwx 1 muxator muxator   6 ago 17 17:52 ep_etherpad-lite -> ../src\n\n\nSecond verification: when I start Etherpad, the log shows ep_adminpads:\n   muxator@host:BASEDIR$ bin/run.sh \n   Ensure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\n   Ensure jQuery is downloaded and up to date...\n   Clearing minified cache...\n   Ensure custom css/js files are created...\n   Started Etherpad...\n   [2018-08-17 17:54:41.538] [WARN] stats - Enabling a polyfill to run on this Node version (v6.9.0). Next Etherpad version will remove support for Node version < 8.9.0. Please update your runtime.\n   [2018-08-17 17:54:41.777] [DEBUG] console - Running on Node v6.9.0 (minimum required Node version: 6.9.0)\n   [2018-08-17 17:54:41.779] [WARN] console - Support for Node v6.9.0 will be removed in Etherpad 1.8.0. Please consider updating at least to Node 8.9.0\n   [2018-08-17 17:54:43.893] [INFO] console - Installed plugins: ep_adminpads@0.0.12 <-- PLUGIN APPEARED\n   [...]\n   [2018-08-17 17:54:43.901] [INFO] console - Your Etherpad version is 1.7.0 (96ac381afb9e)\n\n\nTell me if you find something balatantly different so we can work out a solution.\n. Solved with a clean install.\nClosing.\n. @RalfJung, that's true. After googling around, it appears to be standard (albeit surprising) behaviour on npm side. The command that triggers reformatting is npm install --loglevel warn.\nThe npm developers do not seem to be willing to change that (see https://github.com/npm/npm/pull/3299), so probably in order to mitigate this issue, a different approach will be needed.\nPersonally, I do not see a reason for which a config file needs to be opened RW at all.\n. You are right, @RalfJung, wrong link.\nIt turns out, at some point of its development npm default config for save was changed to true. This means that if you have a newer npm version and you use the default config, npm will rewrite package.json on installation.\nThis makes no sense for installDeps.sh, because its only (big) side effect should be to actually install dependencies according to a configuration file, and not to modify it.\nI have made some tests, and to fix this it is possible to add --no-save to the npm command line in installDeps.sh. No concerns about backwards compatiblity with oldish npm version, as they seem to support --no-XXX style flags even if not documented.\n. Upgrading the dependencies is mandatory.\nI would like to have separate PR's for each one, in order to make it possible to bisect eventual problems. And, above all, testing support.\nEspecially, the proposed upgrade to socket.io seems a bit delicate to me: I am not sure we have enough testing infrastructure in place to detect regressions if we decide to go through a major version change.\nBecause of this, I would be more confident in requesting/proposing whatever backport is necessary to socket.io 1.7.x, if possible.\n. @antsar commented on 23 May 2018 3:59 AM GMT+2:\n\nit seems the currently required versions (per src/package.json) are vulnerable. For example:\netherpad-lite depends on ueberdb2 0.3.8\nueberdb2 depends on pg 6.1.3\npg >= 6.1.0 < 6.1.6 is vulnerable to RCE\n\n\nAs a start, yesterday I've spent some time testing upgrades to ueberDB. When ueberDB 0.4.0 gets released, upgrading to it should at least get rid of the vulnerabilities that require manual inspection, namely:\n\nRemote Code Execution in pg, from ueberdb2 > pg (fixed in #112)\nRemote Memory Exposure in mysql, from ueberdb2 > mysql (fixed in #113)\nPrototype Pollution in lodash, from ueberdb2 > elasticsearch > lodash (fixed in #113)\n. Clean install of Etherpad, no plugins, node 10.6.0, npm 6.1.0.\n\nSituation with ueberDB 0.3.7 (before upgrading):\n55 vulnerabilities (18 low, 28 moderate, 9 high) in 5994 scanned packages\nAfter upgrading ueberDB to 0.4.0 (with a4c67f0d0302):\n52 vulnerabilities (17 low, 27 moderate, 8 high) in 5999 scanned packages\n. Manually updating 42e064632752 (current devel) to these packages:\n| Package   | Old   | New   |  Risk |\n|----|----|----|----|\n| express | 4.13.4 | 4.16.3 | ? |\n| express-session | 1.13.0 | 1.15.6 | ? |\n| socket.io | 1.7.3 | 2.1.1 | High: explicitly breaking change |\n| wd | 1.6.1 | 1.10.1 | Low: only a dev dependency |\nGoes down to 21 vulnerabilities (1 low, 20 moderate), all of them due to an old hoek dependency from npm.\nI'll commit those updates in a new branch, at which point help testing will really be appreciated: there are potentially breaking changes in there (socket.io, for example), and it would not be wise to directly put them in develop.\nEdit: changes committed in branch update-dependencies, please help testing and report in #3429.\n. Follow-up: Etherpad 1.7.0 will have all the described updates, except for the one on socket.io.\nThe situation of a clean installation on current develop 9d815c58b8e9 (and thus for upcoming 1.7.0) is:\n```\npossible situation for Etherpad 1.7.0\nfound 32 vulnerabilities (9 low, 20 moderate, 3 high)\n```\n\nthe \"high\" vulnerabilities depend on socket.io. It will be updated in 1.8, as it is a major change;\nthe \"moderate\" vulnerabilities come from the current npm 6.3.0 package (6.4.0 is in the works). It can be updated as soon as a new npm gets released.\n. 1.7 will probably be released the next week.. As anticipated, Etherpad 1.7 was released on 2018-08-17, with only 3 remaining high impact vulnerabilities.\n\nToday the development version (future 1.8) was updated to socket.io 2.1.1 (93641a165d13). On this version npm audit reports only a single low impact vulnerability (see the commit message for details).\nClosing this. Please, help testing :)\n. Confirmed.\nEtherpad 1.7.pre, libreoffice 6.0.5.2. I believe this is fixed by #3473, indeed.\nWorks for me on Etherpad 1.7, linux, Libreoffice 6.0 & 6.1.\n. Hi,\nit's working for me (Etherpad 1.6.6, no plugins installed):\nTyping this text into the pad:\n\nGets exported to this html:\nhtml\n[...]\n<body>\n<a href=\"http&#x3a;&#x2F;&#x2F;www&#x2e;google&#x2e;com\">http:&#x2F;&#x2F;www.google.com</a><br><br>\n</body>\n[...]\nHow are you generating the link?\nCould it be anything plugin related?\n. I am not able to reproduce it (current develop, 58c315476954), node 10.6.0.\nI was able to install via /admin/plugins the following plugins (taken at random):\n https://www.npmjs.com/package/ep_delete_after_delay\n https://www.npmjs.com/package/ep_embedded_hyperlinks\n. Sure, @fdellwing: minimum node version should be clearly indicated in the docs and enforced in the startup scripts.\nI'll repeat the test with node < 6 to verify it breaks and eventually open an issue.\nBTW: installing arbitrary node versions is really easy if you are willing to use the official tarball: it's just untar + some symlinks (and it's distro independent, too). You can have a look at this comment, if it can help you.\n. Hi, I think this and #3263 are important, but I really do not have the time to dig into it. Any volunteer?\n. > P.S.: It's actually suprising that pad.collabClient is already used in the handshake(), while it is only initialized in _afterHandshake().\nIndeed it is, @caugner.\nI am not being able to trigger the bug (current develop, Firefox 61, Chromium 68), but the hairy initialization is a potential problem on its own. Fixing that could probably give us a clue about this issue, or solve it altogether.\n@anugu-chegg, since you worked closely on this file for #3318, do you have some hints?\n. Good news, @fralix.\nGood documentation is precious.\nI leave the issue open, since I continue being curious about the \"phantom\" initialization uncovered by @caugner.\nI am starting to think about how to improve the codebase without rewriting it (more tests, linters, static analyzers, maybe even gradually migrating to TypeScript...), and this sort of issues interest me a lot.\n. Merged, thanks.. I would prefer to have PRs submitted as a linear series (== without merges and sync commits) on top of current develop.\nI understand this is a new requirement, still without an explicit guideline.\nThe reason for which I am going to ask this is that bisecting a bug when the history is full of spurious commits becomes extremely slow, and impairs maintainability in the long run.. As promised, here is some documentation for pull requests.\nDrop a line if not clear / need help.. If we want to merge this PR, it should be rebased on current revision.. Hi, @gustavovalverde, I am not really sure, because I cannot see where the X-Frame-Options  is being set to sameorigin.\nDid you consider using ALLOW-FROM uri from the X-Frame-Options specifications? See for example https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options\n. Closing for inactivity. Merged, thanks.. Hi @manta12, thanks for this PR.\nI would like to confirm if this change would indeed be compatible with currently supported Firefox versions.\nBefore merging this, would you please check it on Firefox ESR 52 and 60 (if not already done)?\nIdeally this should be a task for automated testing, or a QA team, but I am not sure we have someone in charge.\nThank you again.\n. Merged, thanks.\nFixes #3383.. I just noted that this PR (merged in 2be873e3c708) breaks the frontend tests (http://<yourhost>/tests/frontend/), because they were full of special cases that sent keypress when executed in Firefox:\njs\n    if(inner$(window)[0].bowser.firefox || inner$(window)[0].bowser.modernIE){ // if it's a mozilla or IE\n      var evtType = \"keypress\";\n    }else{\n      var evtType = \"keydown\";\n    }\nTaking out the special check for Firefox goes back to ~~100~~97% success rate for frontend tests in Firefox 61 (when applying only over this change).\n. Can this be closed?. Hi, there is no LSP support.\nBut I am not getting what a possible Etherpad-specific use case would be.\n. Who wouldn't love a spreadsheet version?\nGiven the current state of the project (security, stability, bug fixing, modernizing), I think it is severely out of scope, but I won't even self-limit where a motivated developer can reach.\nLet's dream of a spreadsheet proof-of-concept:\n1. it should never impact the stability of the text version;\n2. the POC should start its existence as an out-of-tree plugin;\n3. new messages and hooks would probably be needed: these core modifications should be kept to a minimum, and never break compatibility;\n4. core modifications should be kept under a feature flag;\n5. if the experiment is successful the plugin could be mainlined in the official repo.\nI'm thinking about something similar to the upcoming work on the new theme, which can be tutored immediately, but has to obey quality rules since the start.\nExcept for a spreadsheet everything is 100x harder, and I do not know if core contributors can give much support...\nWould you like to try at these conditions, @dessalines?. Thanks for the report, @Paulpatou.\nSince I was curious to see if Etherpad was really broken with NodeJS 9, I have tested an installation of Etherpad 1.6.6 on NodeJS 9.9.0 and npm 5.6.0.\nI can confirm it works.\nNodejs was installed from the official linux downloads:\n```bash\ncd /opt\nwget https://nodejs.org/download/release/v9.9.0/node-v9.9.0-linux-x64.tar.xz\ntar xf node-v9.9.0-linux-x64.tar.xz\nln -s /opt/node-v9.9.0-linux-x64/bin/node /home/etherpad/.local/bin/node\nln -s /opt/node-v9.9.0-linux-x64/bin/npm /home/etherpad/.local/bin/npm\nln -s /opt/node-v9.9.0-linux-x64/bin/npx /home/etherpad/.local/bin/npx\n```\nIs it possible that your issue was not due to version 9 of NodeJS, but to how it was installed on your machine? This could confirm my findings.\nThanks.\n. @Paulpatou, you are right: the use of symbolic links in ~/.local/bin is just a trick I personally use for having various nodejs versions side by side. It has nothing to do with official Etherpad documentation. Sorry for not being clear.\nLet me explain what I do, maybe it can be useful for development purposes:\nSince nodejs is just a runtime, a possible way of installing it under linux consists in nothing more than simply extracting the official linux binaries from https://nodejs.org/it/download/ and creating symlinks from the binaries in <nodedirectory>/bin (there are just three: node, npm, npx) to a folder that is already in the path (for example: /usr/local/bin if you want to make it available globally, or /home/user/.local/bin if you want to confine it to just a single user).\nAgain: this is just a trick I have been using for ages whenever I need to have different runtimes installed on the same system. By the way, it works exactly the same for Java (just unpack & create some symlinks) and, albeit with more difficulties, Python (you'll have to configure --prefix=<somewhere> ; make ; make install in that case).\n. You're welcome.\nBeware of running with sudo, anyway! If possible try to run as a normal user.\nClosing this.\n. Hi @LePandaDuNet, did you already have a look at the installation guide?\nEtherpad is not based on PHP (you will need to install it following that guide, anyhow). You can easily integrate it on the client side: see, for example https://github.com/ether/etherpad-lite/wiki/Embed-Parameters\n. Since this is an easy fix, I would be happy if the feature could be implemented by a new contributor.\nAny volunteers? :)\n. Hi @sgimeno, thanks for your kind offer.\nThere are no tests for server settings, this would be a first.\nI think that leaving the Etherpad version in the startup logs is not critical, but I do not have a strong opinion about that.\n. That would be my inclination: following platform upgrades & deprecations would give us guidance on how to prioritize maintenance work.\nApparently node 7 compatibility was fixed in release 1.6.1 (milestone, changelog).\nI am currently able to run & pass the backend tests with node 7.9.0, 8.11.3, 9.9, 10.6. This could still mean that the test suite does not cover enough cases, however... :)\np.s.: actually, I lied: as of f2b5f3bca2bb (the future 1.7) there is a failure introduced by #3268. But it is independent on our matter of interest here.\n. What about trying to focus on the last version of the current LTS (8, currently 8.11.3)?\nThere are a lot of other possibilities (including going bleeding edge, or LTS + bleeding edge, or >= LTS), but maybe keeping it simple & clear could help attaining stability.\nThe next release will be 1.7. We could start requiring a new node version from there. Or we can deprecate, inform the users, and start requiring a new version with 1.8.\nI have no strong opinion on this yet, just want to have some discussion.\n. Thanks for the info, @ukcb.\nWhen trying to run on Node <= 5, current Etherpad does not start already:\n[2018-07-26 22:55:38.316] [ERROR] console - ERROR: npm is known not to run on Node.js v4.4.7\n[2018-07-26 22:55:38.322] [ERROR] console - You'll need to upgrade to a newer version in order to use this\n[2018-07-26 22:55:38.323] [ERROR] console - version of npm. Supported versions are 6, 8, 9, 10, 11. You can find the\n[2018-07-26 22:55:38.323] [ERROR] console - latest version at https://nodejs.org/\nThis fixes a hard dependency on Node >= 6.\nEdit: opened PR #3431 to require node 6.9.0 (and deprecate it already).\n. Here's the support & deprecation plan for the Node runtime for Etherpad 1.7 and 1.8:\nEtherpad 1.6.6 does not run on node <= 5 already.\nNode 6.9 is the first LTS release in the 6 series (EOL April 2019).\nThe current supported LTS release series is 8 (EOL December 2019).\n| Node version | Etherpad 1.6.6 | Etherpad 1.7 | Etherpad 1.8 |\n|--------|--------|-----|-----|\n| V <= 5 | Does not run already | Won't run.Will print an ERROR and exit | Won't run.Will print an ERROR and exit |\n| 6.9 <= V < 8 | Works | Will run.Will print a deprecation WARNING (support to be removed in 1.8).Will use polyfills to shim missing features |  Won't run.Will print an ERROR and exit |\n| V >= 8 | Works | Will run | Will run |\nWork happens in PR #3432.\nFor Node support status, see: https://github.com/nodejs/Release. If there are no doubts, I am going to merge #3432 this weekend, officializing these choices.. Closed with #3432.. A recap on this:\nTo free resources for development on #3540 (migrate from callback-style to async programming), Etherpad 1.7.5 was released on 2019-01-26. That one will be the last version that runs on Node 6.x.\nThe first Node LTS version that supports async/await is Node 8, which nicely fits with our plan.\nThus: next version will be 1.8.0, it will get rid of callback hell, and will require Nodejs 8.9 (the first LTS version in branch 8.x).\n. I see two problems now :)\nPlease note that only point 2 applies to this regression. Point 1 is general.\n\nthe \"expected\" html does not seem to be valid:\n\n<!doctype html><html><body><ul class=\"bullet\"><li>one</li><li>2</li></ul><br><ul><ul class=\"bullet\"><li>ul2</li></ul></ul></body></html>\n\n\nwhat is this test supposed to show? Right now it seems a try at verifying a correct round-trip encoding of an invalid html document (if so, thanks to this regression we uncovered an earlier problem in the test suite).\n\nassuming the test is relevant, does it mean that Etherpad is capable of generating invalid html, and the test is aimed at verifying the robustness?\n\n\nOverall, the test approach seems sane to me: it composes together two operations that should be one the inverse of another, and verifies that there is no change. f(f_inverse(x)) = x. In this context, I would not be super happy of relaxing the check in this specific test. On the other side, #3268 seems to solve a real bug.\n\n\nMy proposal is:\n Let's add a test case that does not work before #3268, and works after it.\n Once we manage to do this, we could accept to relax the current 'getHTML' test\n. Hi @ilmartyrk, any progress on this?\nIf you need more time we could postpone the release of 1.7 (which would include this fix) and release 1.6.7 in the meantime.\n. Update: discussion on this is currently taking place in https://github.com/ether/etherpad-lite/pull/3268#issuecomment-410847213 and subsequent comments. It should probably be moved here.\n. The issue described by @Sylvain38ria was indeed present.\nMore precisely, the authorship color that changed was not always the whole line, but from the start to the point in which he made his edit.\nDuplicate of #3354, fixed in 58c315476954 by @lpagliari.\nClosing this.\n. Fixed in a4c67f0d0302.\nClosing this.\n. A brief update on this.\nAll the proposed changes (and others) will be part of Etherpad 1.7, except for the one on socket.io.\nA basic smoke test of current Etherpad development (9d815c58b8e9) + update to socket.io 2.1.1 seems to work on Firefox 61. It will be pushed immediately after releasing 1.7, because it's a major change that needs deep testing.\nAfter this, all the high impact vulnerabilities would be gone.\n. The last planned update, on socket.io, was performed with #3462 right after releasing 1.7.0.\nClosing this.\n. @Porkepix, that's really unfortunate.\nIt's just an hypothesis, but if some bad data sneaked inside the DB (because of a bug), and that data manages to crash Etehrpad (another bug), we could solve two interesting problems.\nMaybe you could clone the DB and play with it on a separate Etherpad instance. If you managed to understand where the problematic data is, you could extract & sanitize it, and then include it in the bug report.\n. Hi @Porkepix, sorry for the delay.\nI do not think there is an established way to get this sort of information yet.\nThis is something I would like to improve, because having good error reporting is important to move forward.\nPlease feel free to report other issues you may encounter.\n. Github closes my PR when I force push the branch it refers to. Super weird.\nhttps://github.com/isaacs/github/issues/361#issuecomment-219088644 did not save me, because the first commit was squashed.\nSuper super weird.\n. Todo:\n- bin/installDeps.sh should be refactored to use a proper semver parsing snippet (semver-tool or semver_bash)\n- it should enforce the same minimal node (6.9.0) and npm (3.10.8) versions required by the js runtime\nEdit: done without using semver-tool or semver_bash: the first one was bash-specific, the second one seemed buggy.\n. Merged. Closes #3424.. No problem @lpagliari, thank you!. Hi, Luiza.\nSince this was not a blocker and 1.7 was due, I released it. Hopefully we will make it for the next point release. :). Hi @muhmuhten, thank you for the patch: I have replicated the problem you describe with the following setup, please confirm if this is indeed what you were referring to:\njavascript\n// settings.json\n{\n  \"ip\": \"\",                        // <-- empty string\n  \"port\" : \"/tmp/etherpad.socket\",   // <-- path to a Unix socket\n  // ...\n}\n```nginx\nnginx.conf\nserver {\n    location /pad {\n        rewrite      /pad/(.*) /$1 break;\n        rewrite      ^/pad$ /pad/ permanent;\n        proxy_pass   http://unix:/tmp/etherpad.socket:/;\n    # ...\n```\nI have to say that running Etherpad in this way feels a bit hackish to me, but the responsibility is on Ehterpad code, that does not do any validation on the settings values (if port was intended to be a real port number, it should have been validated as integer).\nNonetheless, this setup works, uncovers a bug, and thus has to be fixed.\nMy only nit is: I would have preferred to have your detailed explanation in the commit message as long as in GitHub's PR (you know: GitHub being closed source and issues not being easily moved...). Also, briefly mentioning the reason behind invalid.invalid with a comment in the code could help future readers be more explicit.\nIf you have time, please submit an improved patch. Otherwise I will merge this on Monday, because this one is ok anyway.\nThank you.\n. Great! Pulled in, thanks.. I guess this can be closed?. Hi @mrflos, the theme is really neat, I personally like the aesthetics of https://pad.colibris-outilslibres.org more than a default Etherpad installation.\nI think that making it the default theme is a change that requires at least consensus from the community members and a clear deprecation plan, so it is worth a bigger discussion.\nIn the meantime, I have two quick questions:\n- would be the theme compatible with a plain Etherpad install? I see a long list of plugins at https://framagit.org/colibris/etherpad-custom-colibris#pr%C3%A9requis. Probably they are aimed at replicating your whole UX, but an explicit confirmation would be comforting\n- what's the licensing situation for the fonts? From a quick search it seems that Geomanist is free only for regular and italic\n. Hi, @mrflos, thanks for the changes.\nWe could start agreeing on some guidelines and sketching a plan for inclusion.\nTell me what you think about this preliminary notes (I plan to rewrite them organically if we start):\n\nan UI switch is a major change. Etherpad has been around long enough to have to care about this;\nas such, it cannot happen abruptly: we could make the theme optional for a while, measure the reactions from users, do a few tweak releases, and finally switch to the new theme, keeping the old as an option;\nI would be happy of shipping 2.0 with the new theme as default;\nmobile experience should be first class.\n\nIf you agree on keeping committed to this plan, here's some practical items for us to check:\n\nEtherpad: find if there is a way of activating a new theme via settings.json, without having to copy files around (mandatory)\nEtherpad: find if there is a way of activating a new theme without having to restart Etherpad (nice to have)\nColibris: preliminary tasks before inclusion\n[X] use free fonts\n[X] license: I am no expert, buth I think that Apache 2 license (Etherpad) is not compatible with GPLv3 (Colibris).\n[ ] has to work across browsers\n[ ] has to work on mobile\n[ ] has to pass front end tests\n[ ] no big binary blobs: when it will be integrated, the repository has to stay as small as possible (nice to have)\nWhen it's ready, integrate the new theme in Etherpad repository and make it optional (let's say in 1.8?). From that moment the development of the theme takes place in the main repo.\n\nFor what concerns my work of today, I have created a new-theme category for grouping the work there.\n. 1.\n\nthe themes should be in one folder in static/themes/ containing\nthe css and js (as i can understand, the templates are global and cannot be customised in a theme).\n\nI agree that the default theme should become just another theme named default. What would remain under static?\n2.\n\nif the setting parameter theme_folder exists and the folder exists, the value is saved in the settings, otherwise it's saved as an empty string\n\nOK\n3.\n\nin the templates, all js and css paths are changed to include the file in the theme directory (if the setting is on and if the file exists), or fallback to the default old etherpad theme file otherwise\n\nCould we use the existing ejs mechanism for doing this?\n. Hi, @mrflos, @seballot,\nI have dug a bit more in the code and I am thinking about how to best implement the proposal.\nThe src/static/js directory contains a lot of application code, and it is not wise to make it part of a theme. The only js customization point currently provided is the customStart() function.\nMy proposal is based on what we said before, simplifying it a bit, given the current status of the code base (thus the name change theme -> skin).\n\nin this initial phase, the skins will continue to have the same logical structure they currently have in the custom folder (limits included, @seballot: we can evolve after the integration)\nall the skins will be put under src/static/skins\nthe custom directory (which is an empty example skin) will be moved under src/static/skins/no-skin, and will be the default one\nthe colibris skin will live inside src/static/skins/colibris\na new configuration setting skinName will be added. If the setting does not exist (i.e., old configuration files) a warning will be printed, and a default of no-skin will be assumed\nthe new optional theme will be announced as part of the new release\n\nI have a POC of the modifications for the settings in place. In order implement them in a correct and secure way (directory name -> risk of directory traversal), I need to fix some bugs I found when doing the prototype.\nI hope to have something in ~days, bye!\n. The copyright problem has been addressed already.\nThis work covers more the integration & future plans.\n. Sorry for the delay, I had to work on #3466 before working on the skin.\nNow that that part is done, I have moved on writing the spec for the preparatory work in #3471.\nI think it is complete, but comments are welcome.\nI will asap open a PR that implements it.\n. The PR is ready: #3475.. Hi, @mrflos, @seballot, the modifications on Etherpad's part are done & pushed.\nPlease pull latest develop and base your work on that.\nThe most relevant modification is that the skin has to be put under static/skins/colibris, and you have to set a configuration parameter skinName: \"colibris\" (refer to settings.json.template).\nI have also updated the documentation, mentioning that, starting from Etherpad 1.8, colibris is the new experimental skin, candidate to become the default in 2.0.\nOnce the other issues in https://github.com/ether/etherpad-lite/labels/new-skin are solved, we can merge the new skin directly into Etehrpad's codebase.\nThank you.\n. Hi @seballot,\nthanks for your work. As you can see everyone is waiting for it.\nLet me answer to your question:\n\n[...] we also need to keep the old static/custom folder, cause if someone choose one skin, they will not be able to add some lines of css to fit their needs in top of the skins. WDYT?\n\nIn its current state (and this will be true for at least ~2 releases), a skin is already a way of putting custom code on top of the \"standard\" front end code (but you already know this very well). I am not sure that focusing on enabling yet another layer of customization on top of that would be a wise spending of resources.\nThe reasoning behind this is the following:\nIf I were a basic user, I would be ok with a skin that \"just works\", without too many knobs. On the other side, if I were an advanced user wanting to customize a skin, it would be within my reach to perform my modifications on top of the skin I want.\nEven more advanced users would probably like the possibility of doing other customizations. But then, keeping complexity under control has a value on its own, and we are already introducing a change here.\nI would like to focus on fixing as many issues as possible on the new skin for now.\nHowever, I am ok with reconsidering the choice after the release, once we hopefully will have gathered some feedback from users.\nSounds fine?\n. Hi @seballot, I'll try to have a look in the weekend.. @seballot, I have opened #3488 for the functionality you asked for.\n\nI assumed that you only wanted to define class names for client-side plugins. Please check if this is what you wanted (the definitions are described in the issue)\nThe current implementation (PR #3489) is not real-time friendly: when an administrator installs or removes a plugin, the connected clients will not be notified, and they will have to refresh the page in order to have an updated class list. Since you are envisaging the use case, please help me imagining the possible impacts on the UX of an out of sync class list.\n. Great, @seballot, thanks!\n\nI have put the new skin in https://beta.etherpad.org for everyone to see. I have also updated the default message on a new pad:\n\nIMPORTANT:  this is the experimental version of the new skin we are preparing for Etherpad 1.8. Please help testing, reporting any issues to https://github.com/ether/etherpad-lite/issues\n\nI still did not read any changes: I will start reviewing them as early as possible. This will probably take time and more iterations (I'll try to be a third party only caring for code quality).\nThanks for all the work in the meantime!\n. * plugins installed\n* removed useMonospaceFont. Thanks to it, I discovered that there is a bug in the timeslider view, that does not respect that setting and always uses a proportional font.. The skin is almost ready to be merged (PR #3496), the only remaining doubt for me is about the behavior on mobile when showing line numbers.\nI would like some comments on #3514.\n. This should be probably be a standard part of a production install anyways.\nIf the plugin is compatible, I would even make it a suggested option in the install documentation.\n. Another issue that tackled this problem in the past (currently assigned to milestone 1.8):\n- #1650\n. Note to self: a guide on how to get rid of this warning can be found at https://nodejs.org/en/docs/guides/buffer-constructor-deprecation/.\nAccording to the guide, the places that need intervention (as of Etherpad 1.6.6) are:\n[...]/etherpad-lite$ grep -nrE '[^a-zA-Z](Slow)?Buffer\\s*\\(' --exclude-dir node_modules\nsrc/node/hooks/express/webaccess.js:36:      var userpass = new Buffer(req.headers.authorization.split(' ')[1], 'base64').toString().split(\":\")\nsrc/node/utils/caching_middleware.js:53:    var cacheKey = (new Buffer(path)).toString('base64').replace(/[\\/\\+=]/g, '');\n. Hi @zorrikon, what version are you using?\nCould you give an example of the html document you are trying to import (redacting sensitive informations, if any)?\nThe current development version has a fix for a similar problem:\nhttps://github.com/ether/etherpad-lite/blob/718b17552421da911b6f29ce427e3a5e84286778/tests/backend/specs/api/pad.js#L18-L22\nLooking at your problematic html could help identifying if the issue is indeed the same.\n. The bug is present.\nReplicated in Etherpad 1.6.5, 1.6.6 and in current develop (no time for testing other versions).\nSince there is not yet a test that replicates it, at the end there is a quick bash script to trigger the bug.\n\nlaunch Etherpad\nrun the bash script\nopen http://localhost:9001/p/bug-3447. It will give this output:\n\nthe text export will be bad\n   ```\na\nb\nc\nd\n   ```\nthe HTML output will look good when viewed in a browser (probably only because the html markup of a simple <ol> is very easy)\n   html\n   <ol class=\"number\"><li>a</li><li>b</li><li>c</li><li>d</li></ol>\n\nBash script:\n```bash\n!/usr/bin/env bash\nset -eu\nHOST_PORT=\"localhost:9001\"\nAPIKEY=\"\"\nPAD_ID=\"bug-3447\"\ncurl \"http://${HOST_PORT}/api/1/createPad\" \\\n    --get \\\n    --data-urlencode \"apikey=${APIKEY}\" \\\n    --data-urlencode \"padID=${PAD_ID}\"\ncurl \"http://${HOST_PORT}/api/1/setHTML\" \\\n    --get \\\n    --data-urlencode \"apikey=${APIKEY}\" \\\n    --data-urlencode \"padID=${PAD_ID}\" \\\n    --data-urlencode \"html=abcd\"\necho -e \"\\n=====\\nEXPORT - ETHERPAD FORMAT\"\ncurl \"http://${HOST_PORT}/p/${PAD_ID}/export/etherpad\"\necho -e \"\\n=====\\nEXPORT - HTML FORMAT\"\ncurl \"http://${HOST_PORT}/p/${PAD_ID}/export/html\"\necho -e \"\\n=====\\nEXPORT - TEXT FORMAT\"\ncurl \"http://${HOST_PORT}/p/${PAD_ID}/export/txt\"\n```\nLooking for this, I have discovered #3450.\n. Thanks for the PR but - please - also write a test case for the bug you are fixing.\nA brief description in the PR text (and in the commit message) could also be useful.\np.s.: I understand the contribution guide does not mention this clearly yet.. That's true, @mnagaku.\npad.atext() should really have been pad.atext, and pad.pool() -> pad.pool, as in the rest of the codebase.\nThe regression was introduced in 0b5c948549a0 (five years ago!).\n. This comforts me, as I am using Firefox 61, too :). Without ep_author_neat seems ok to me now (the horizontal space is fully utilized).\nTested on Firefox 63, Linux (Desktop and responsive design mode), Firefox 63 on Android (chinese phone with FullHD screen), Safari on iOS 12 (iPhone 5S).\nWhen ep_author_neat is enabled there is still an issue, but I'll open another ticket for that one.\n@petrk94, could you cross check?\n. 1. >\"When ep_author_neat is enabled there is still an issue, but I'll open another ticket for that one.\"\n   Could you open this issue please @muxator ?\nIn the current version (f9badfb8c3ff, \"skins: Fixes #3510 show/hide line numbers\") the issue seems to be gone. Issue no longer needed.\n\nI noticed the visibility of the authors pane is tied to the line numbers: when line numbers are not shown, no authors is shown as well. This surprised me at first. Maybe the author_neat plugin should modify the string \"line numbers\" -> \"line numbers/Authors\". This has nothing to do with colibris, I just want to have your impression here.\n\nI am leaving this ticket open because @petrk94 says that he still sees problems. For me, this could be closed.\n. Closing, as the bug seems to be fixed in the latest colibris revision.\nWe'll open another one if there are more problems. Thanks.\n. Hi @petrk94,\ntry putting this in your settings.json:\njavascript\n  \"dbSettings\" : {\n                   \"user\"    : \"youruser\",\n                   \"host\"    : \"127.0.0.1\",\n                   \"port\"    : 3307,          // <-- see below\n                   \"password\": \"PASSWORD\",\n                   \"database\": \"your_database_name\",\n                   \"charset\" : \"utf8mb4\"\n                 },\nIf you have a look at the mysqldriver's source code the port configuration parameter is allowed.\nThank you for bringing this up: I think that settings.json.template could be updated to actually mention port.\nTell me if this solves your problem, and do not forget to update to 1.7 once it is released.\n. Committed d38f53181f151f45355718449aa3712566659c7a to mention the existence of port in settings.json.template, so these customizations are easier in the future.\n. Sorry, I am currently not able to replicate it because my etherpad instance is not able to write into abiword stdin...\n. This is really needed only on Node < 6.4.0:\n\nUsing a property named inspect on an object to specify a custom inspection function for util.inspect() is deprecated. Use util.inspect.custom instead. For backward compatibility with Node.js prior to version 6.4.0, both may be specified.\n\nGiven that Etherpad 1.7 requires node >= 6.9.0, getting rid of this should be risk-free.\n. After testing #3459, it appears that http://localhost:9001/stats output is more complex, indeed:\njson\n{\n  \"memoryUsage\": 236163072,\n  \"totalUsers\": 1,\n  \"httpRequests\": {\n    \"meter\": {\n      \"mean\": 0, \"count\": 0, \"currentRate\": 0,\n      \"1MinuteRate\": 0, \"5MinuteRate\": 0, \"15MinuteRate\": 0\n    },\n    \"histogram\": {\n      \"min\": 0, \"max\": 0, \"sum\": 0,\n      \"variance\": 0, \"mean\": 0, \"stddev\": 0,\n      \"count\": 0, \"median\": 0,\n      \"p75\": 0, \"p95\": 0, \"p99\": 0, \"p999\": 0\n    }\n  },\n  \"connects\": {\n      \"mean\": 0, \"count\": 0, \"currentRate\": 0,\n      \"1MinuteRate\": 0, \"5MinuteRate\": 0, \"15MinuteRate\": 0\n  },\n  \"disconnects\": {\n      \"mean\": 0, \"count\": 0, \"currentRate\": 0,\n      \"1MinuteRate\": 0, \"5MinuteRate\": 0, \"15MinuteRate\": 0\n  },\n  \"pendingEdits\": 0,\n  \"edits\": {\n    \"meter\": {\n      \"mean\": 0, \"count\": 0, \"currentRate\": 0,\n      \"1MinuteRate\": 0, \"5MinuteRate\": 0, \"15MinuteRate\": 0\n    },\n    \"histogram\": {\n      \"min\": 0, \"max\": 0, \"sum\": 0,\n      \"variance\": 0, \"mean\": 0, \"stddev\": 0,\n      \"count\": 0, \"median\": 0,\n      \"p75\": 0, \"p95\": 0, \"p99\": 0, \"p999\": 0\n    }\n  }\n}\n. Hi,\nthis seems something related to the specific OS, possibly fixed improving documentation.\nCould you please provide more details?\n- Ubuntu version (possibly a link to the image itself, or access to a failing image)\n- output of node --version and npm --version\n- exact procedure followed for installing Etherpad (to replicate the steps)\nMy little analysis from the outside, hoping it helps (I have no access to any AWS instances):\nrun.sh performs an npm install from inside the src directtory. Among other things, this should bring in the failing module wd@1.10.3.\nIndeed, on my machine (Ubuntu desktop 18.04, node manually installed), after running run.sh the directory src/node_modules/wd exists. The scripts.install section of the package.json inside that directory calls node scripts/build-browser-scripts, that exists as src/node_modules/wd/scripts/build-browser-scripts.js and runs successfully here, instead failing inexplicably in your instance.\nWhat happens if you do the following?\ncd <BASEDIR>/src/node_modules/wd\nls - l scripts\nnpm install\n. Hi,\n\ninstead of sudo su always use sudo -i (it keeps the environment)\n<BASEDIR> was a placeholder. In your case its value would be /root/etherpad-lite\n\nCould you try again on a clean machine making use of points 1 & 2?\n\nrunning as root is not a good practice, but that's another story :)\n. I think that @treysp could be a directory permission problem (EACCES: permission denied, mkdir '/opt/etherpad-lite/src/node_modules/wd/build': maybe the same installation was tried twice on the same directory with users of different privileges? Or something similar...).\n\n@clayu workaround bypasses the problem, but I think is a good idea anyways, because it exposes a weakness in the current code base: I am not sure it is wise to ask Etherpad users to install the devDependencies even when they just want to run the program.\nFor this, a better startup strategy (that gets rid of the current bash scripts) is worth some investigation.\nClosing for now, thanks.\n. @your1p, do you have more details about your environment (os, node & npm version, output of git log -1 and git status)?\n. @Your1p, could you do a short debrief on this?\nVersion 1.7 was the first that started explicitly checking the nodejs version, requiring at least 6.9.0, and deprecating anything < 8.9.0, plan, PR).\nStarting from Etherpad 1.8, thus, node 8.9 will be the minimum supported version.\nI ask this because I would have expected that the documentation and the startup messages should have been clear enough, but probably they weren't.\nWhat could have you spared you this time? Did the startup error not fire? Is the requirement in the documentation clear enough?\nThanks for your help\n. Hi @ukcb, thanks for your remarks.\nLet me answer separately on your points.\n\nNecessity of g++ for installing bcrypt.\n\nPreliminary note: glad you brought this up. I see this as a packaging problem, and a real one: installing Etherpad on a production machine is not different than having a development copy on one's desktop: git clone, run a script that downloads dependencies from the Internet and creates a symlink to ../src -> ep_etherpad-lite in node_modules, and you are all set. This is very convenient, but maybe for \"serious\" server installs there should be a better way.\nGoing back to your question: bcrypt offers binary releases on a best effort basis. The install procedure tries to downlad this pre-built library for supported architectures:\n\n> node-pre-gyp install --fallback-to-build\n[bcrypt] Success: \"/tmp/prova-bcrypt/node_modules/bcrypt/lib/binding/bcrypt_lib.node\" is installed via remote\n\nAccording to the installation instructions the architectures for which a pre-built library are currently offered are Windows, Linux and MacOS. If the binary lib cannot be downloaded, or is incompatible, it resorts to building from source. This is the part where you need a compiler, and the one for which I feel we could benefit from a packaging phase.\nThinking of what could be done now, maybe we could think about making the bcrypt dependency optional, and handle incompatibilities programmatically (e.g.: fail giving instructions if settings.json requires hashes and bcrypt was not installed, etc).\nWhile far from optimal, maybe this could be a possible way forward?\n\nep_hash_auth incompatibility with ep_mypads in their current state.\n\nI was not thinking about making password encryption mandatory (that would be a sudden compatibility break).\n   The plan is to faciliate as much as possible the use of hashed passwords for the users that want it. This would involve:\n   - getting rid of the necessity of installing a plugin\n   - better documentation\n   - maybe a native nodejs script for generating hashes (without resorting to python).\nIn this initial scenario, a user wanting to use ep_mypads would still be forced to use clear text passwords. This does not exclude that a subsequent development work could be made to make ep_mypads and password hashing compatible, possibly creating new integration points in Etherpad. I do not plan to directly look at it now, which means that observations and proposals would be more than welcome.\nThanks again for your observations, and please tell me if you think this approach could make sense.\n. Hi @kernelfreak. I fear that in the current state of the code base it is a bit hard to analyze your problem.\nThose kind of error messages happen when there is a client-side exception. In that cases setupGlobalExceptionHandler() in pad_utils.js sends back the error to the server:\nhttps://github.com/ether/etherpad-lite/blob/07bc163cb698768020cb4d41808f1cd92c0d1b7b/src/static/js/pad_utils.js#L530-L535\nPersonally, I do find the idea very neat, but the implementation could be improved, as I think these logs are not really informative enough.\nIn your specific case, a possible place to look at would be src/static/js/pad_editbar.js. Maybe this is a case of use before initialization. But without a complete stack trace it's a bit hard to imagine.\n. This is the current list of files that Etherpad creates in random palces depending on where it is started from:\n\nsettings.json\nSESSION.txt\nAPIKEY.txt\ndirty.db\ncredentials.json\n. Hi @MrMed, sorry for the delay.\n\nI do not really administer a super-large Etherpad installation, maybe someone else has more know-how on this.\nIn my experience Etherpad does not require many resources: 2 cores and 4 GB have been good enough for my, purportedly small, needs (with a \"real\" DB on another machine). In your case you could double the system requirements (4 cores, 8 GB) without being too hungry.\nIf we are talking about VMs, you could always scale up if needed.\nPlease give us some feedback about your experience, this would be helpful.\n. This happens within ueberdb when using mysql, and is due to https://github.com/mysqljs/mysql/issues/2003.\nThat issue was fixed in mysql 2.16.0, but ueberdb 0.4.0 still pulls in 2.15.0.\n. Neat. Thanks!\nBTW: I was not able to find the .odt or .doc comment caused by <meta name=\"changedby\" content=\"Etherpad\">. Could you help me (in another issue)?\n. Hi @rohieb, thanks for the remark. I believe there is a subtler bug here.\nMy impression is that the original script author wanted to delete:\n* /<repository_root>/node_modules/ep_etherpad-lite/node_modules (the one containing the runtime dependency of the application)\nand ended up deleting this instead:\n* /<repository_root>/node_modules (the one containing both the application AND the plugins)\nprobably because he got caught in a problem with bash subshell scoping.\nLet me explain, and please correct me if I am wrong. In the following example, the author possibly tought that the error handling code would start from the last directory he moved in:\n```bash\nthis starts in \necho \"Ensure that all dependencies are up to date...\"\n(\n  mkdir -p node_modules\n  cd node_modules\n  [ -e ep_etherpad-lite ] || ln -s ../src ep_etherpad-lite\n  cd ep_etherpad-lite\n  false # simulate a failure of \"npm install\"\n) || {\n  # will print:\n  #   \n  # whereas the author possibly intended:\n  #   /node_modules/ep_etherpad-lite\n  echo \"I am here: $(pwd)\"\n  exit 1\n}\n```\nWhereas upon error the old scope is thrown away and the cwd becomes the original one.\nA shrunk-down example would be:\n```bash\n!/usr/bin/env sh\ncd /etc\n(\n  cd /var\n  false\n) || {\n  echo \"I am here: $(pwd)\" # prints \"/etc\" and not \"/var\"\n}\n```\nIf so, I think that a proper fix would be replacing rm -rf node_modules with rm -rf src/node_modules.\nTell me what you think.\n. Foreword: here I am just trying to interpret the meaning of installDeps.sh as it currently is. In the long run, I hope to get rid of the bash scripts altogether.\n\nis there a reason to delete <repo>/node_modules/ep_etherpad-lite/node_modules instead?\n[...] run npm prune in ep_etherpad-lite, which deletes all packages that are not in the package.json\n\nIt think that the intent of the original author was to clean up a partially downloaded <repo>/node_modules/ep_etherpad-lite/node_modules directory, in case something goes wrong during the installation.\nSomething on the lines of ensuring a postcondition after installDeps.sh has run: either the dependencies are in palce & working, or they are evidently empty. If this is so, npm prune cannot help us.\nDoing a bit of code archaeology, this first emerged on 04ec7658e1d0 in 2011. The node ecosystem was way less mature back then.\nToday, I acknowledge that the issue reported by @rohieb is a real bug: on failure the plugins get deleted. Let's also remember that, by definition, they are not part of package.json.\nIn the spirit of maintaining stability as much as possible, I am inclined to do the change:\ndiff\ndiff --git a/bin/installDeps.sh b/bin/installDeps.sh\n--- a/bin/installDeps.sh\n+++ b/bin/installDeps.sh\n@@ -116,7 +116,7 @@ echo \"Ensure that all dependencies are u\n   cd ep_etherpad-lite\n   npm install --no-save --loglevel warn\n ) || {\n-  rm -rf node_modules\n+  rm -rf src/node_modules\n   exit 1\n }\n@anoymouserver, @rohieb: do you think this makes sense?\n. Committed the modified version in c09e638fc324, closing this.\nThanks.\n. One more commit updating the documentation, moving from a single custom directory to the skins mechanism.\nMerging.\n. Merged, thanks. Merged, thanks.. Thanks @rohieb, I'll get over it radically this weekend.\n. Merged, thanks. Hi,\nyour best line of action is probably negotiating a way of installing abiword directly with the administrator (since it seems that he has the ultimate decision about what can or cannot get installed in your server).\nDepending on the technical limitations in your environment, you could try to compile Abiword from source as a static binary (there are some sources on the Internet).\nOr you feel so inclined, you could also install abiword as a Nix package inside your home directory (technically fascinating, a bit more involved).\nMy best suggestion, however, remains exploring what is acceptable together with your administrator.\n. Thanks for finding this out.\nBut now I went from zero to three doubts:\n\n/tmp is hardcoded. It should probably be os.tmpdir()\nthe stack overflow question you linked was in the context of a bash shell, in which ${USER} would be expanded to the current user name. I am not sure that this would still be the case in the js code. Could you please verify that your patch does not create a literal /tmp/LibreOffice_Conversion_${USER} instead of /tmp/LibreOffice_Conversion_yourname?\nat this point, why not compute a unique dir name for env:UserInstallation at startup time using something that behaves like the mktemp utility in order to be sure that different Etherpad instances would not collide? I see that the tmp package in npm could be useful. This would both be more general and get us rid of points 1 & 2.\n. Let's try to address this more generally in #3508.\n\nLeaving the PR open for now, because a part of it will be implemented for sure (we will want to launch a dedicated LibreOffice instance per each Etherpad instance via -env:UserInstallation=file://<somepath>).. Hi @HamzaKhait.\nThis issue sounds ugly, but I am not being able to trigger it.\nI am using the Etherpad 1.7.0 with the following configuration (I am including other options that may be different from yours in order to ensure we are aligned):\n```javascript\n{\n  /\n   * If this option is enabled, a user must have a session to access pads.\n   * This effectively allows only group pads to be accessed.\n   /\n  \"requireSession\" : false,\n/\n   * Users may edit pads but not create new ones.\n   \n   * Pad creation is only via the API.\n   * This applies both to group pads and regular pads.\n   */\n  \"editOnly\" : true,\n/\n   * If set to true, those users who have a valid session will automatically be\n   * granted access to password protected pads.\n   /\n  \"sessionNoPassword\" : false,\n/\n   * This setting is used if you require authentication of all users.\n   \n   * Note: \"/admin\" always requires authentication.\n   */\n  \"requireAuthentication\" : false,\n/\n   * Require authorization by a module, or a user with is_admin set, see below.\n   /\n  \"requireAuthorization\" : false,\n}\n```\nAlso: you are using a reverse proxy, aren't you?\nThat is another difference with my setup, albeit I do not think it could be relevant.\n. This may be related to #3466 (some files are created/looked for in a place that depends on the current working directory), which is present in 1.7.0 but should be fixed in the current development version.\nCould you please try the current devel to confirm if it fixes your issue?\nAlso, I did not understand if you are running multiple Etherpad instances at once on the same machine. \nIf so, you may want to make use of the --apikey and --sessionkey configuration parameters (see the documentation) otherwise you may end up sharing secrets between different instances.\n. Hi @ge-fa, that sounds really strange...\nWhat is the output of git log -1?\nIf you want to have a look at how it is supposed to work, you can have a look at the \"Server\" header from http://beta.etherpad.org.\nWe also have a plan to selectively disable it if wanted: #3423.\nSome pointers if you want to have a look at the code:\nThe code that computes the git hash is this (not super elegant, but effective, I would say...):\nhttps://github.com/ether/etherpad-lite/blob/2a5e87cc7da748da94d1169df2a470b6406b65b9/src/node/utils/Settings.js#L322-L343\nThat value is sent to the client in:\nhttps://github.com/ether/etherpad-lite/blob/2a5e87cc7da748da94d1169df2a470b6406b65b9/src/node/hooks/express.js#L79\n. Before merging, it is necessary to document this change, probably in plugins.md#client-hooks-and-server-hooks.. Done.\nAmended the commit to include the documentation, rebased & merged.\n. Hi @JedMeister and thanks for the analysis, thorough and correct.\nThe debugging journey you describe is the same I had while trying to fix #3397.\nOver time, I discovered that in order to execute npm audit on Etherpad I had to cd into /src, generate a package-lock.json and ensure I was using npm >= 6.\nThe problem is that I have repeated this dance so many times while working on fixing #3397 for 1.7  that I ended up desensitized to the poor user experience. Thanks for bringing this up again.\nThere are some issues at play here:\n\n\nEtherpad conflates \"developer mindset\" and \"user mindset\". The official way of installing it basically consists of running a script that creates a symlink, installs all the dependencies (also the -dev ones) and finally runs the program.\n\n\nUntil #3396 (opened by @RalfJung on the same day of the ticket about the security vulnerabilites) the startup script also modified package.json, because modern npm versions changed their default behaviour. So I reformatted package.json (1, 2, 3) in order to minimize the eventual diff, and finally removed altogheter the saving step (c4918efc1bb2).\n\n\nDoing this, we also stopped generating the package-lock.json, while previously users on newer npm versions would generate it. But at least a requirements file was no longer modified while running a program.\n\n\nI am not satisfied with the current behaviour. There are some intricacies wrt how plugins are installed that I would like to study a bit more before rolling out another solution, but any ideas about how to improve this is welcome (even just in the documentation).\n. @duven87, one of the advantages of Etherpad is that you can host your own instance if you want. I guess in your case a managed solution would be more suitable.\nI'll close the issue, as the specific question has been answered already.\n. I do not see any potential regressions.\nI'll go ahead and merge this.\n. 1. Nice work!\n2. Some comments are inline in the code (you can ask inline)\n3. The changes in fontawesome increment the assets size to 150% of the original size:\n```\n   BIN +8.25 KB (150%) src/static/font/fontawesome-etherpad.eot\n178 src/static/font/fontawesome-etherpad.svg\n   Large diffs are not rendered by default.\nBIN +8.25 KB (150%) src/static/font/fontawesome-etherpad.ttf\n   BIN +4.08 KB (140%) src/static/font/fontawesome-etherpad.woff\n   ```\nIs this due to new glyphs? Are they a lot? If not, could we find a way to reduce the size increment?\n\n\nCould we darken a bit the color of the main font? I know this is a delicate argument for a designer...\n   Currently it is #495057 (it's name is tuna, one never stops learning...). Personally, I suddenly felt the decreased contrast.\n\n\nI guess you already wrote something about OpenDyslexic as being just a placeholder font. Personaly (again...) I do not find it very neutral, but I see it was already there (introduced in 41bb4ef094eb), so it was good using it without increasing the repository size. Do you have some alternatives in mind? Or maybe it is just used by some plugin, so we can simply ignore the question?\n\n\nAfter clarifying this minor issues, I would like to do some commit hygiene:\n\nthere are some commits that partially revert others (\"first line number position\"), they should probably be folded\nif we somewhat manage to reduce the font awesome size, the commit history will need to be stripped of the bigger version\nsplit this PR in two: the first one with the changes needed on the core of Etherpad (/static/js/..., /static/css/..., /templates/*.html)\nthe second one that drops in the code for the new theme.\n\nThe reason for doing this is that I want to make it easier to understand what went on the code base for future contributors. A clean history helps a lot when chasing down problems.\n   If rewriting commit history is hard for you I can give a hand (or do it myself, provided you help with doing the \"real\" added value work).\nSorry for the late reply, thanks again!\n. Hi, Seballot.\n\n[...]\nI think I have \"started a review\", I hope there is some place in the UI in where you can see my comments.\n\nmaybe I can try to have a look after point 4\nSure I can take care of it. I think this is possible if you enable the following option:\n\n   The instructions on how to do it are here.. @seballot, I am force-pushing on your develop branch to rewrite history.\nFor now I just squashed the three \"fix first line number position\" commits into a single one: this was just a test to see if it would work, I will do other modifications as you address the issues in the review.\n\nIf you are going to do other commits, please clone again and work from there.\n. @seballot , in 4f40610ca72e the inclusion of editor.css is a typo, isn't it?\n```diff\nSubject: [PATCH] timeslider.html: import pad.css and editor.css so the pad\n will look the same\n\nsrc/templates/timeslider.html | 2 ++\n 1 file changed, 2 insertions(+)\ndiff --git a/src/templates/timeslider.html b/src/templates/timeslider.html\nindex 5aee24c7a..d32e1001a 100644\n--- a/src/templates/timeslider.html\n+++ b/src/templates/timeslider.html\n@@ -35,7 +35,9 @@\n   \n+  \n\n+  \n   <% e.end_block(); %>\n```\nIt gives a 404 when visiting https://beta.etherpad.org/p/test/timeslider.\nIt can be removed, right?\n. @seballot:\n\nclone from which repo and which branch?\n\nYour own repo, develop branch: https://github.com/seballot/etherpad-lite\n. To give some context, the workflow I am using here is not very common on GitHub.\nIt is more akin to Phabricator's Diffrential review mode, in which a developer mutates its changes before they are pushed on the main branch (a longer description can be found here).\nSince GitHub has no support for it, what I am doing is rewriting the history locally (on my PC) and then force-pushing to your fork on GitHub. This changes your fork there, but obviously your local copy is not updated. The easier way of keeping up, for you, is deleting your local copy and clone it again.\nThere are other ways, that imply an advanced use of git, but I am not the best person to describe them, since I use Mercurial via hg-git, which I find superior and easier.\n. Let me do a concrete example. You confirmed me that the reference to editor.css got into timeslider.html by mistake.\nSince we caught it, we are going to obliterate it. This will produce a simpler change series, and will make it easier to ensure that the new code we commit has less mistakes.\nOn the long run, this will pay off: in these days I found myself digging through commits made in 2012 (six years ago) and reconstructing the original intent is hard enough even when not having to separate the signal from the noise.\nGoing back to timeslider.html, in the current history of your repo there is this commit https://github.com/seballot/etherpad-lite/commit/4f40610ca72e437d235d788598824f59a0e2455f, which adds the wrong <link> (the commit will be gone by the time you read this, or when GitHub will garbage-collects it):\n```diff\nHG changeset patch\nUser Sebastian Castro 90scastro@gmail.com\nDate 1537292980 -7200\nTue Sep 18 19:49:40 2018 +0200\nNode ID ff908a51ec2e1ab87f06185f4fcc8982cf4c661f\nParent  91674ccb93f0bc7293b4e69fe074f0d6584420c1\ntimeslider.html: import pad.css and editor.css so the pad will look the same\ndiff --git a/src/templates/timeslider.html b/src/templates/timeslider.html\n--- a/src/templates/timeslider.html\n+++ b/src/templates/timeslider.html\n@@ -35,7 +35,9 @@\n   \n+  \n\n+  \n   <% e.end_block(); %>\n```\nTo clean it, I have rewritten that commit in my repo, getting rid of the error. Now the diff looks like this, please note that the commit message changed, too (the corresponding new commit is https://github.com/seballot/etherpad-lite/commit/b0880cc545ddcad29772ce9ed853ba7cfbce615c):\n```diff\nHG changeset patch\nUser Sebastian Castro 90scastro@gmail.com\nDate 1537292980 -7200\nTue Sep 18 19:49:40 2018 +0200\nNode ID da70c328cd662c939bcd12a19afca60fb4a4b273\nParent  91674ccb93f0bc7293b4e69fe074f0d6584420c1\ntimeslider.html: import pad.css so the pad will look the same\ndiff --git a/src/templates/timeslider.html b/src/templates/timeslider.html\n--- a/src/templates/timeslider.html\n+++ b/src/templates/timeslider.html\n@@ -36,6 +36,7 @@\n   <% e.begin_block(\"timesliderStyles\"); %>\n   \n\n+  \n   <% e.end_block(); %>\n```\nThen I have pushed the new version to GitHub (the mercurial command is hg push --force, I am sure with git there would be a slight diffrence).\nSince this changed the repository history, to get it you have do delete your local copy and clone it again.\n. @seballot, I have separated your changes in two parts:\n\nthe first part contains the changes you have made to the original Etherpad code base (outside skins/colibris).\n   I would like to merge them first in a dedicated PR (more on this later). Those changes are meant to be preparatory changes for the introduction of colibris.\n   The hard constraint on those changes is that they have to keep compatibility with the old code base and the old theme (remember when we removed the editor.css committed by mistake?). Please read them one by one in the commits tab.\n   Once you think everything is in place, have a look at the commit messages and think if they can be made clearer. The summary of the current ones for your convenience (but please read them all):\n\nace.js: also add plugins names to #outerdocbody (refs #3488)ace.js: prioritize the skin style over the plugin style\n   ace2_inner: fix first line number position\n   timeslider.html: import pad.css so the pad will look the same\n   pad.html: add css purpose classes\n   font picker: improve the font picker (closes #3451)\n   pad.css: group togheter three very similar rules.\n   fonts: add pencil, link and table icon\n\n\nthe second part is composed only of commits in skins/colibris. They will be merged in a second PR.\n. I have split this PR in two.\n\n\nthe first part consists of modifications to the Etherpad core, with changes that have to be only preparatory and not break the classic skin. It was merged with #3513;\n\nthe remaining changes put the new skin in skins/colibris directory, and will be merged here. Before merging, #3452 and #3510 have to be addressed.\n. Update: the last remaining issue is now #3514. The other ones were addressed.\n. ...aand we're done!\n\nThanks, @seballot! Nice work.\n. v1.7.5 was released on 2019-01-26 and includes the work done on Colibris.\nThe release had to be made immediately in order to start working on #3540 early in the development cycle, since that line of work will touch a lot of files.\nClosing this issue. The changelog includes some upgrade notes that instruct about how to upgrade to 1.7.5 in presence of custom scripts.\n. This is so true, thanks!\nLet's have a look ASAP.\nIn the meantime, note to self: this was introduced in 2013, with 5592c4b#diff-5d2aa4336c4964b828a123e20e09b73cR389.\n. At last :)\nThanks for reporting.\n. @m0urs, on monday I will have access to an IE 11 and I will try to reproduce the problem opening a random pad in https://beta.etherpad.org (which is a 4121add1b8b2babfb71363b3deeb254c5aa3f05f, practically the current dev 1.7+ with PR #3496 on top to test the new skin).\nLet me check if I understood correctly: can we say we are tackling a regression introduced between 1.7 and current develop (20be994d9b6d) that affects minification on IE 11?. Thanks for the ping, did not have time to try it.. I had to steal a Windows notebook from someone to have a look at it now.\nThe bug is there, and was introduced in 23eab79946e4 while working for #3488. The reason is that the following snippet uses modern js syntax, not supported by ie11:\nhttps://github.com/ether/etherpad-lite/blob/fe20ffa2029f3ec4687ca015c3bad7b19eba4ea6/src/static/js/pluginfw/hooks.js#L146-L150\nNamely, arrow functions, the spread operator and the new Set() construct.\nAt some point ie11 compatibility will be dropped, but ditching it now - for such a small gain - is not wise.\nThanks @m0urs and @ndum for the report.\n. Should be fixed now (as of 0ad8291ae778b80da49bc6ea263927c67e53d23d), please have a look and thanks again for finding the regression.\nFriendly reminder: it is not guaranteed that ie11 compatibility will continue to be a priority in the following releases, unless there is explicit sponsorship.\n. Hi @adamprocter, could you please try to find a way to reproduce this?\nWithout more information it's hard to figure out what's happening.\nThanks\n. Hi @adamprocter, could you please try to find a way to reproduce this?\nWithout more information it's hard to figure out what's happening.\nThanks\n. I think there must be something else.\nWhen working for #3318 that failure mode was simulated time and again (a worse one, indeed, killing -9). That specific PR (released in 1.6.6), by the way, improved a lot the application's behavior upon reconnection.\nRight now, with my setup (ubuntu 18.04, nodejs 8.9.0, etherpad 9774518525fe, Firefox 62, Chromium 69), I am not being able to reproduce the problem you are describing: either the browsers reconnect automatically, or - if too much time passes, they give up and show a \"Force reconnect\" button, that when pressed reloads the page.\nIn order to help you, we have to find a way to reproduce your issue. May be you can record your screen and write down your detailed setup?\n. A brief follow-up on this: \nA reference to the ER_NET_PACKET_TOO_LARGE can be found here:\n\nA communication packet is a single SQL statement sent to the MySQL server, a single row that is sent to the client, or a binary log event sent from a master replication server to a slave. \n\nI am just wandering now: if the error happens when inserting data, maybe a wise driver should be able to split the offending statements in two parts. If the problems happens when reading, instead, some more radical design work might be required, in which the DB interaction itself is aware of the size of the exchanged objects and mitigates it somehow.\nThe practical approach of just increasing max_allowed_packet is probably the right one for Etherpad, which - for now - does not have a big development force behind it.\n[Edit]: this does not mean that this problem is not worth fixing. If you could contribute a \"scriptable\" (0 effort, repeatable) way of triggering it, it would be actually fun to work on it!. That's true, indeed.\nThanks for the precious info, @fpoulain, much appreciated!\n. Confirmed for me. Probably related to #2297, indeed.\nThanks for bringing this up again.. > why there is no assets optimization in etherpad? is it for a particular reason?\nI think the best reason is that when Etherpad was first written (~2008) no such tools existed. Indeed, node.js did not exist yet! Etherpad was written in Scala and the JS part was the kind of javascript code you could expect from a Minimum Viable Product of that time.\nWhen Etherpad was rewritten in 2011, the frontend code was left mostly untouched. Nodejs was in its infancy.\nOver the years, the code was not adapted to the maturing ecosystem, and this brings us to the current status. Let's remember that, for its time, Etherpad Lite was a remarkable achievement. It just needs a lot of maintenance now :).\n\nCould we implement a asset workflow\n\nI would love it. My usual conditions are: change one thing at a time, preserving stability and the current functionality.\n\nusing gulp for example? I will be happy to do it\n\nI would prefer Webpack.. Just a little bit of archaeology:\nIt's always been there since first commit from 2011, I guess it was already there in the original 2008-2009 Etherpad code from Google:\nhttps://github.com/ether/etherpad-lite/blob/325c322a276d03c7de50233aef63598c7dd8c308/static/js/contentcollector.js#L456\nThis does not really answer your question, but at least we can safely assume that probably is just technical debt.\n. Pulled, thanks.\nWhile testing it, I have found another problem: if there is already another copy of LibreOffice running, the converted file is not created when LibreOffice exits, but a bit later.\nThus, the conversion functions generates an error:\nConverting Error: { [Error: ENOENT: no such file or directory, rename '/tmp/upload_8e9203784bd79d7ca9bb251396bede41.html' -> '/tmp/etherpad_import_3723561530.html']\n  errno: -2,\n  code: 'ENOENT',\n  syscall: 'rename',\n  path: '/tmp/upload_8e9203784bd79d7ca9bb251396bede41.html',\n  dest: '/tmp/etherpad_import_3723561530.html' }\nError: ENOENT: no such file or directory, rename '/tmp/upload_8e9203784bd79d7ca9bb251396bede41.html' -> '/tmp/etherpad_import_3723561530.html'\n[edit]: this is the same issue described in #3482. The PR fixes both, and will be merged after some massaging.. > Do you have a similar behavior when exporting multiple files with LO?\nHow do I do this? Not via the web interface, I suppose. Any hints?\n\nIt seems to be caused by the queue system used to prevent system overload (since the LO utils spawns a new LO process each time it's used).\n\nIt's possible, I have done some debugging and posted my impressions in #3508.\n\nWe may use unoconv to mimic Abiword behavior (one listening process, and use the same process for convertions)\n\nWe should definitely use a single LibreOffice process, and not launch one for each conversion.\nI am not sure about pulling in another dependency (even when optional), because I think that we could find a way of doing this directly. My 2 cents in #3508.\nIn the meantime, thanks for this much needed improvement :)\n. Merged, thanks. Deployed on https://beta.etherpad.org. @ukcb, did your problem happen during table creation or in \"steady state\" (when the serivce was already running since a long time)?\nRegarding the use of the stored function ueberdb_insert_or_update() to perform an UPSERT, I have proposed a version that made use of feature detection in https://github.com/Pita/ueberDB/pull/99, to bypass the function creation and use the native functionality on compatible PostreSQL versions (code here), but it was not merged.\n. Hi @dguillamot, you are right, this is the current behavior, and indeed it is deviates from how LibreOffice (and other major editors such as MS Word, I presume) handles it.\nPersonally, I have never hit it, because I do not use editors in that way, but I recognize that can be surprising to people accustomed to press the bold button, type something, and then deactivate \"bold mode\".\nCurrently there is no plan for supporting it, but PRs are welcome.\nIf you feel like so, please note that the actual behavior of LibreOffice also handles some edge cases that would have to be taken care of in the PR: when the user moves the cursor the bold button is deactivated, when it is pressed in the middle of a word it makes the whole word bold, and so on.\n. In case someone not familiar with the matter reads this, it's easier if I add a picture:\n\n. Thanks for the brainstorming: it's always good to hear some fresh ideas!\nMy tentative synthesis:\n1. go with the simple way: hide the line numbers & author on mobile altogether. This will hopefully happen at no cost to @seballot (his energies will be required for further efforts)\n2. merge colibris as soon as possible. Release 1.8 requires more work in other areas that need attention\n3. after the release of 1.8, we will hopefully receive more feedback. In the subsequent release we will address eventual bugs AND we can decide to write a fancy solution for line numbers (I personally like option 3). @seballot, when you are ready... :). Hi, @adamprocter.\nIf you want a quick way of retrieving your pads, I suggest to export them.\nAs for the error you are indicating, Etherpad does not have a good infrastructure for reporting client side errors, and I suspect that there will be no direct way of debugging it \"remotely\".\nGiven the origin of your error (a crash that resulted - probably - in a corruption), it will be interesting to revise the persistency guarantees of our data layer.\nEven if it will not lead to solving your problem, would you mind sharing details on your installation (Etherpad version, installed plugins, what DB are you using & its version, your browser, and such)?\n. Hi @adamprocter, sorry for the late response.\nYou can have a look at https://github.com/ether/etherpad-lite/wiki/Backing-up-and-Restoring-Etherpad-Lite-Pads\n. Hi @drebs, thanks for the PR.\nI have just two small observations, please have a look at the code review.\n. The original commit message of this PR mentioned that this change closes #3519 (which does not exist).\nSupposing it is a typo (should really have been #3516) I have updated the commit message and the comment in this issue.\nMerging after this small edit, thanks.\n. @Wikinaut: I understand the preoccupation with generating human-friendly sequences (or more precisely, non adversarial). If we find a more elegant solution that is really easy on the eye, I will be ok with merging that one.\nIn this specific case, a randomly generated sequence is probably meant to be copied & pasted anyhow, and this gives me confidence to merge this PR, which is an improvement in itself.\n. merged, thanks.. Hi @miracleflame, every documentation can always be improved, and this project is certainly no exception.\nIf you describe a bit your platform & what you have tried to do, maybe we can help you, and hopefully improve the documentation in the meantime.\nThis project's requirements are basically very simple: a modern nodejs (>=6.9, 8.9 preferred), and a local copy of the source code (eventually cloned via git). A unix-like system is preferred but not required (you can also run on Windows, a package is provided).\nIf you are fluent with Docker, there is https://github.com/ether/etherpad-docker. We still do not have an official image on Docker hub, but it should be ready soon.\nI have simplified a bit the README, which mentioned stale dependencies.\n. I think the most important part is this:\n\nwhat I see in the brower does not seem to offer some intuitive means to invite anyone to the contribution.\n\nTo share your pad, you would have to tell the other users the URL of the pad you want to work on.\nLet's suppose you created a pad named mypad. If your host name is myhost, then the url would be http://myhost:9001/p/padname.\n. @Leuchtmarker, I tried replicating your bug with various node & npm combinations without success.. Hi @Wikinaut, works as usual, here.\nI have tried with both Libreoffice 6.1.2.1 10(Build:1) (from ubuntu's repositories) and LibreOffice 6.1.3.2 86daf60bf00e (from https://www.libreoffice.org/download/download/).\nEtherpad 49449453c9b2, node 8.14.0, ubuntu 18.10.\nCould be something in your libreoffice's configuration?\n. I agree. The Dockerfile has to be moved inside the main repository.\nAbout configuring via environment variables: I have been thinking about it for some time now. Since it seems that this is a common use case, I have opened #3543.\n. It would have worked, @magikarN.\nIn case you are intrested in contributing to etherpad, you could read the contributor's guidelines.\nAnother nitpick: with this PR you would have tested more your knowledge of Github's Pull Request's workflow, than git itself. In fact, you could be a Github user without being a git user (I am on mercurial, for example).\nTest successful, closing. Nit: could it be \"core\"? Otherwise LGTM. I was just wondering if \"chore\" was a typo and maybe it was supoosed to be \"core\", but not being a native speaker does not help, here, sorry.  I am OK with the format, BTW. :). Hi, sorry for being unavailable recently.\nI was thinking if we can find a simpler solution. If I am understanding this correctly, what we want to do could boil down to return via an API call the value computed by ExportEtherpad.getPadRaw(padId).\nConcretely, this could be made writing a simpler version of API.getHTML() (without the rev parameter), where - internally - ExportEtherpad.getPadRaw(padId) is called instead of exportHtml.getPadHTML().\nIn this way, we would not need to add optional parameters to each api call. Moreover, we could reuse the safety checks already in place for getHTML(), as I think there were a bit of security issues in the past (notice the use of getPadSafe()).\nThe change could be like this:\n\nAdd getEtherpad() function to db/API.js, which mimicks API.getHTML() and internally calls ExportEtherpad.getPadRaw(padId) instead of ExportHtml.getPadHTML()\nPublish the function in APIHandler, incrementing the API version\nWrite some tests (like those in tests/backend/specs/api/pad.js)\nUpdate the documentation.\n\nComments are welcome.\nI may still be unavailable for some time, but I would like to review a PR.\n. Hi, @raybellis, yes, my comment is limited to the scope of this issue (as per @kostapa's request).. Ok I am confused now \ud83d\ude0a\n\nThis comment from kostapa made me think that he was the one asking for a way to export a pad in .etherpad format:\n\n\ni need to download through the API, the exact file that is being generated from that link <your_domain>/p/<padID>/export/etherpad\n\n\nregarding having a better HTML export, indeed the Export and the API seem to follow slightly different code paths. API.getHTML() calls ExportHtml.getPadHTML(), while ExportHandler.doExport() calls ExportHtml.getPadHTMLDocument(), which is a wrapped version that adds  CSS styles. We could probably make those calls uniform.\n\nAm I correct in thinking these should really go in two separate issues?\n. Fixed by 02b3d427711805bf6f96d4ac6ba5e24d264db3f1, I guess.\nClosing this.\n. See #3529, closed by 02b3d427711805bf6f96d4ac6ba5e24d264db3f1.. Thanks for reaching out, @msongz, but without more information this issue will be hard to understand.\n. I have edited the commit message to include the description contained in this PR, that was already adherent to the contribution guidelines, in particular:\n\n\ncontain meaningful and detailed commit messages in the form:\n\n```\nsubmodule: description\nlonger description of the change you have made, eventually\nmentioning the number of the issue that is being fixed, in\nthe form: Fixes #someIssueNumber\n```\n. Merged, thanks. Ray has completed the fist stage of his amazing work at https://github.com/raybellis/etherpad-lite/tree/async.\n\nThe review is being done at https://github.com/raybellis/etherpad-lite/tree/async-PR. That branch is a linear variant of Ray's work, rebased on the latest develop, on which some adaptation are being made.\nasync-PR is a mutable branch, i.e. it will be periodically force-pushed until it is ready to be merged.\n. Branch raybellis/async-PR is now deployed on https://beta.etherpad.org/ to allow widespread testing.\nIt will be periodically updated while the branch is audited.\n. Thanks, imported.\nI am (slowly) going through the series, trying to:\n- separate out purely syntactic changes from substantial ones (to ease later review and catch eventual bugs)\n- split changes where possible (for example https://github.com/raybellis/etherpad-lite/commit/2075e6fd6acda938d605cc4f94c8522f342c4a8e in async contained a condition inversion and the part that strictly introduced promises consumption, so they can be examined separately.\nThis will take some time.\n. Hi @Wikinaut, yes please, test as much as you can. Any info is welcome to help polishing this branch.\nAs soon as https://beta.etherpad.org/ comes back online it will host that branch, too.\n@raybellis: is it possible to write here a brief list of known issues, if any?\n. Yeah, the .etherpad export needs to be investigated.\nBoth on beta (which uses mysql) and locally (dirtydb) I am receiving authorEntry is not defined in ExportEtherpad.js.\n[2019-02-21 22:43:06.969] [ERROR] console - (node:16064) UnhandledPromiseRejectionWarning: ReferenceError: authorEntry is not defined\n    at Object.exports.getPadRaw (/home/etherpad-lite/etherpad-lite/src/node/utils/ExportEtherpad.js:49:41)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\nBTW, I am frequently seeing another \"author-related\" error both in the beta and locally:\nError: Can't apply USER_CHANGES, because Trying to submit changes as another author in changeset Z:i>1|1=h*0|1+1$\n    at handleUserChanges ([...]/src/node/handler/PadMessageHandler.js:638:13)\n    at <anonymous>\n. A recap of the issues so far:\n\n~~problem in .etherpad export~~.\n   Fixed by Ray and integrated in async-PR, also depolyed on https://beta.etherpad.org. It works now;\n~~problem in .etherpad import. Succintly, importing an .etherpad file seems not to have any effect~~.\n   Fixed in the async-PR branch deleting a let statement as explained in comments to https://github.com/raybellis/etherpad-lite/commit/af0a276fbaeddc4027d892bca514201d01ea0e86#diff-55dbdbca4a859fc5f879f68721f70cbcR30\n\n~~after closer investigation, importing an .etherpad file seems to corrupt the DB (dirtydb in my case). It can be tested importing an .etherpad file, and then immediately shutting down and restarting the Etherpad instance. It will not start, writing this message:~~\n   ```\n   [2019-02-23 00:13:35.243] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production. File location: /var/dirty.db\n   events.js:183\n         throw er; // Unhandled 'error' event\n         ^\nError: Could not load corrupted row: {\"val\":{\"atext\":{\"text\":\"SOMETEXT\",\"attribs\":\"*0|1+7|1+1\"},\"pool\":{\"numToAttrib\":{\"0\":[\"author\",\"a.D1eRFPomtKec121x\"]},\"nextNum\":1},\"head\":3,\"chatHead\":-1,\"publicStatus\":false,\"passwordHash\":null,\"savedRevisions\":[]}}\n   at /src/node_modules/dirty/lib/dirty/dirty.js:165:30\n   at Array.forEach ()\n   at ReadStream. (/src/node_modules/dirty/lib/dirty/dirty.js:152:11)\n   at emitOne (events.js:116:13)\n   at ReadStream.emit (events.js:211:7)\n   at addChunk (_stream_readable.js:263:12)\n   at readableAddChunk (_stream_readable.js:246:13)\n   at ReadStream.Readable.push (_stream_readable.js:208:10)\n   at onread (fs.js:2050:12)\n   at callback (/src/node_modules/npm/node_modules/graceful-fs/polyfills.js:128:19)\n   **Fixed** with the previous remediation (removing a let statement). Upon restart the DB is no longer corrupt.\n   This, however, uncovers another bug, explained at point 5.\n4. sometimes a user change gets rejected with `Can't apply USER_CHANGES, because Trying to submit changes as another author in changeset XXX at handleUserChanges (PadMessageHandler.js)`. This is present in beta (logs are not verbose there), and I personally experienced it locally. I will try to describe a simple case to replicate it.\n5. right after importing an `.etherpad` file (and on each visualization of the pad thereafter), this error pops up:\n   [2019-02-23 00:49:58.388] [ERROR] message - There is no author for authorId: a.D1eRFPomtKec121x\n   ``\n. I think I found the problem with.etherpad` import, it should be a scope problem.\n\n\nRemoving a let statement as explained in comments to https://github.com/raybellis/etherpad-lite/commit/af0a276fbaeddc4027d892bca514201d01ea0e86#diff-55dbdbca4a859fc5f879f68721f70cbcR30 should be enough.\nI have committed the change in async-PR branch at https://github.com/raybellis/etherpad-lite/commit/b69f1c6afc253c1d14e066889acb598d76e13ece. This commit will be folded with the preceding one.\nThe fix uncovers another possible bug. Details in https://github.com/ether/etherpad-lite/issues/3540#issuecomment-466514105 to keep everything in a single palce.\n. Integrated in async-PR with the original change that touched SecurityManager.js and some related functions (https://github.com/ether/etherpad-lite/commit/ee034566184c52e2a62d4dcadef244881019ece6#diff-5d2aa4336c4964b828a123e20e09b73cR1230), and deployed on beta.\nI never encountered that error, btw. Thanks to @Wikinaut's testing.\n. > And I see\n\n[ERROR] console - (node:3464)\n[DEP0096] DeprecationWarning: timers.unenroll() is deprecated.\nPlease use clearTimeout instead.\nThis Error is also present in the callback version.\n\nI think this is #3472.\n. This is probably worh a dedicated issue.\n@raybellis, could you open one with a brief description so we can keep track of it?\n[edit]: the issue regarding dealing with plugin compatibility was opened by Ray at #3566. A possible solution is 4fdc73cdc47829fcb19f3e82c878a5f94e00f0d, which as of 2019-03-03 is still not integrated into async-PR because I did not understand if it is definitive or not.\n. It's done. See https://github.com/ether/etherpad-lite/pull/3559#issuecomment-470342390.. Obviously merged, thanks for fixing it.\n. Implemented. The PR is #3572.\nPlease note that there is going to be a little Etherpad-specific remark, due to being tied to use a JSON file for configuration.\nEven when replacing a variable whose value would be a boolean or a number, quotes must be used. Etherpad, then, takes care of converting back the configuration parameter from string to the right type.\nThe documentation is in https://github.com/ether/etherpad-lite/blob/3b6b12e8482bb641252c2aa8fff225d61cd5225b/settings.json.template.\n```\n   \"port\":   9001,          <-- Literal values. When not using substitution,\n   \"minify\": false              only strings must be quoted: booleans and\n   \"skin\":   \"colibris\"         numbers must not.\n\"port\":   ${PORT}        <-- ERROR: this is not valid json\n   \"minify\": ${MINIFY}\n   \"skin\":   ${SKIN_NAME}\n\"port\":   \"${PORT}\"      <-- CORRECT: if you want to use a variable\n   \"minify\": \"${MINIFY}\"        substitution, put quotes around its name,\n   \"skin\":   \"${SKIN_NAME}\"     even if the required value is a number or a\n                                boolean.\n                                Etherpad will take care of rewriting it to\n                                the proper type if necessary.\n```. Thanks for the report, @ezzra, the skin is new and we are looking forward to stabilize it.\n@seballot, can you have a look?\n. Hi, @seballot, I am busy with #3540. I will test & merge this ASAP.. #3555 deployed in https://beta.etherpad.org (together with #3554), please test.\n. @seballot can you have a look?. Hi, @seballot, I am busy with #3540, will test & merge this ASAP.. Fixed with #3555, closing.. Thanks for the report, @AirQuick.\nIt is indeed an oversight in:\nhttps://github.com/ether/etherpad-lite/blob/6a3e4c69b8e83ff98c468529bc6a0ba1698a7526/src/node/utils/AbsolutePaths.js#L84-L92\nwhere I have inadvertently assumed that the only way of running Etherpad on Windows would have been using the Windows package, leaving out this case (manually install on Windows).\nIf you need to run it now, please replace if (process.platform === 'win32') with if (false) (or use the prebuilt package), while a proper patch is produced.\n. @AirQuick, could you please take the version of AbsolutePaths.js from PR 3551 and verify if it solves your issue?\n. Nice. I'll merge the PR then.\nThanks for catching this!. Merged, thanks.. Merged, thanks. Hi, the PR is almost ready to be integrated. I just need a review from @Ray.\nWhile writing async, some boolean expressions where made stricter (e.g. == -> ===, != -> !==). This is generally a very good thing, but on a code base with lots of technical debt like ours, this can resurface latent bugs (this happened at least once).\n\n\nFor this reason, I have tried to extract & centralize as many such changes as possible in a single commit, namely d520e280bfed0dab6eadaf5a60a053b69417293a. These changes were all present in Ray's original work.\n\n\nWhile doing this, I noticed that in some files this transformation was not symmetrical (some places were made stricter, others were not). I've done another commit (8ecd0dd9e858b9c80acc72547bc540e277d21045) which tentatively makes the situation even. None of these changes were part of Ray's work, yet I think we could integrate them.\n\n\nI need a review on points 1 and 2. If Ray recognizes 1 as his beloved brainchild, and thinks that 2 may complete it, I'll fold the two changes and merge the PR.\n. That's true: using author === null could introduce regressions.\nHowever, in its current status on async (async-PR closely tracks it) AuthorManager.js has only strict checks (X !== null or X === null) except for the one in mapAuthorWithDBKey().\nThe main pain point is probably ueberDB, but I do not want to digress.\nOn commenting lax comparison: in async-PR, I agree, indeed I had already put such a comment in SessionManager.js:\njs\n/*\n   * In some cases, the db layer could return \"undefined\" as well as \"null\".\n   * Thus, it is not possible to perform strict null checks on group2sessions.\n   * In a previous version of this code, a strict check broke session\n   * management.\n   *\n   * See: https://github.com/ether/etherpad-lite/issues/3567#issuecomment-468613960\n   */\nif (!group2sessions || !group2sessions.sessionIDs) {\nI think we have to decide what to do with AuthorManager, as well. All the original comparisons were lax, but if you have a look at d520e280bfed0dab6eadaf5a60a053b69417293a (which, I remember, just extracts changes made on async), all but one were made strict. Could this introduce latent bugs, as well?\n\nIf you like, I'm happy to audit all calls to db.get* and ensure that they work with either undefined or null values, given that we can't be sure which will be returned by ueberDB.\n\nThat would be welcome: in that case we could reach a more coherent situation.\nIf you do not have time, or if we want to postpone this, I can also make a ugly proposal in the name of pragmatism:\n- put lax comparisons wherever the old code base was already lax. This would bring us nearer to bug-for-bug compatibility\n- put comments explaining our reasoning\n- merge the PR so we can start moving forward\nIf you think it makes sense, I can compare develop with the asynchronous version, and worsen its purity in the name of compatibility.\n. Nice. Pulled in with ac7663c33728.\n. It's done.\nI think it's worth citing from the commit message:\n\nMerge pull request #3559 from raybellis/async-PR\nWith this commit, that closes #3540, we pay the first big slice of our technical debt. In this line of work we streamlined the code base, reducing its size by 15-20% and making it more understandable at the same time.\nThe changes were audited and tested collaboratively and are deemed sufficiently stable for being merged.\nKnown issues:\n- plugin compatibility is still not perfect\n- the error handling path needs to be improved\nThis is an important day for Etherpad: thanks, Ray!\n. ACK, needs to be fixed in a way that is coherent with node native TLS, which could be enabled via config.ssl.. Hi, yeah, it's on the radar.. Now that we implemented #3540 this patch should be adapted to async/await style.\n. That's right.\nA PR with the needed changes in the documentation would be promptly accepted.\n\nBTW, this table is going to be updated as soon as #3561 is implemented: we will need to explain that the secure flag is dependent whether or not Etherpad is accessed via TLS.\n. Hi, I still did not integrate this into async-PR.. Hi, I am going to merge https://github.com/ether/etherpad-lite/pull/3559 now. It contains all of your work on the async branch, except for your proposed fix for this issue (https://github.com/ether/etherpad-lite/commit/64fdc73cdc47829fcb19f3e82c878a5f94e00f0d), to give us more time to think about a solution.\nIf we'll continue to like that approach, please remember me to cherry pick this change in the next days.\n. Hi Ray,\nnode 8.9.0, linux, default settings.json.\n\n1.7.0: backend tests pass (details below)\n1.7.5: backend tests pass (details below)\nasync-PR: three failures (the same happens on async, details below)\n\nAt first I have run everything \"by hand\". After seeing that our results were different, I've redone everything via a script. Hopefully you could replicate the results.\nExecution logs for 1.7.0:\n[...]\n[2019-03-01 02:10:42.179] [INFO] console -   75 passing (927ms)\n[2019-03-01 02:10:42.179] [INFO] console -   2 pending\n[...]\nExecution logs for 1.7.5:\n[2019-03-01 02:12:26.744] [INFO] console -   75 passing (931ms)\n[2019-03-01 02:12:26.744] [INFO] console -   2 pending\nExecution logs for current async-PR (950eae55d440), same results for async (64fdc73cdc47):\n```\n[2019-03-01 02:13:56.359] [INFO] console -   1) createSession\n       Creates a session for an Author:\n     Error: Unable to create Session\n      at /tests/backend/specs/api/sessionsAndGroups.js:174:65           \n      at Test._assertFunction (node_modules/supertest/lib/test.js:281:11)                                                   \n      at Test.assert (node_modules/supertest/lib/test.js:171:18)                                                            \n      at assert (node_modules/supertest/lib/test.js:131:12)                                                                 \n      at /src/node_modules/supertest/lib/test.js:128:5                  \n      at Test.Request.callback (node_modules/superagent/lib/node/index.js:716:12)                                           \n      at parser (node_modules/superagent/lib/node/index.js:916:18)                                                          \n      at IncomingMessage.res.on (node_modules/superagent/lib/node/parsers/json.js:19:7)                                     \n      at endReadableNT (_stream_readable.js:1056:12)                                                                        \n      at _combinedTickCallback (internal/process/next_tick.js:138:11)                                                       \n      at process._tickCallback (internal/process/next_tick.js:180:9)                                                          \n[2019-03-01 02:13:56.360] [INFO] console -   2) getSessionInfo\n       Gets session inf:\n     Error: Unable to get Session info\n      at /tests/backend/specs/api/sessionsAndGroups.js:186:119          \n      at Test._assertFunction (node_modules/supertest/lib/test.js:281:11)                                                   \n      at Test.assert (node_modules/supertest/lib/test.js:171:18)                                                            \n      at assert (node_modules/supertest/lib/test.js:131:12)                                                                 \n      at /src/node_modules/supertest/lib/test.js:128:5                  \n      at Test.Request.callback (node_modules/superagent/lib/node/index.js:716:12)                                           \n      at parser (node_modules/superagent/lib/node/index.js:916:18)                                                          \n      at IncomingMessage.res.on (node_modules/superagent/lib/node/parsers/json.js:19:7)                                     \n      at endReadableNT (_stream_readable.js:1056:12)                                                                        \n      at _combinedTickCallback (internal/process/next_tick.js:138:11)                                                       \n      at process._tickCallback (internal/process/next_tick.js:180:9)                                                          \n[2019-03-01 02:13:56.360] [INFO] console -   3) deleteSession\n       Deletes a session:\n     Error: Unable to delete a session\n      at /tests/backend/specs/api/sessionsAndGroups.js:208:37           \n      at Test._assertFunction (node_modules/supertest/lib/test.js:281:11)                                                   \n      at Test.assert (node_modules/supertest/lib/test.js:171:18)                                                            \n      at assert (node_modules/supertest/lib/test.js:131:12)                                                                 \n      at /src/node_modules/supertest/lib/test.js:128:5                  \n      at Test.Request.callback (node_modules/superagent/lib/node/index.js:716:12)                                           \n      at parser (node_modules/superagent/lib/node/index.js:916:18)                                                          \n      at IncomingMessage.res.on (node_modules/superagent/lib/node/parsers/json.js:19:7)                                     \n      at endReadableNT (_stream_readable.js:1056:12)                                                                        \n      at _combinedTickCallback (internal/process/next_tick.js:138:11)                                                       \n      at process._tickCallback (internal/process/next_tick.js:180:9)                                                        \n```\nHow to replicate\n```bash\n$ hg up -r     # version 1.7.0|1.7.5|async-PR. The git equivalent should be \"git checkout \"\n$ ./clean.sh            # cleanup the environment, see later\n$ bin/installDeps.sh    # download dependencies\none-liner made up for easing your replication (please tolerate the ugly \"sleep\" statement)\n$ node node_modules/ep_etherpad-lite/node/server.js & (sleep 7 ; cd src ; npm test) ; fg\n```\nContents of clean.sh (put it in <BASEDIR>):\n```bash\n!/bin/bash\n\nCleans up Etherpad installation\nset -eu\nDIR=\"$( cd \"$( dirname \"${BASH_SOURCE[0]}\" )\" >/dev/null && pwd )\"\nETHERPAD_PORT=9001\nrm -rf \"${DIR}/src/node_modules\"\nrm -rf \"${DIR}/node_modules\"\nrm -f \"${DIR}/package-lock.json\"\nrm -f \"${DIR}/src/package-lock.json\"\nrm -f \"${DIR}/var/dirty.db\"\nrm -f \"${DIR}/src/.ep_initialized\"\n```\n. A recap to keep track of what's going on.\n\nThree failures in backend tests on sessions. They were due to to stricter checks introduced in https://github.com/ether/etherpad-lite/commit/37e4081307041f7c7edf886a46a37f780960fb4f#diff-c6aae0f724e78a93dd699ad297010f52R89. When using dirtydb, the DB layer may return undefined, where mysql would return null. This seems a ueberDB2 bug. Nonetheless Ray fixed restoring the older, lax behaviour in d03da2c8eb36. This modification was included in async-PR (46c8a7bbbc4d).\nincompatibility with nodejs >= 8.14. Ray opened a dedicated issue, #3568.\n. Hi, I do not know Digital Ocean's marketplace. Right now I would like to first bring in good shape Docker support.\n\nSo: I have no objections, but I cannot commit on it right now.\n. Hi,\nI have a caveat for this: in the roadmap for 1.8 there is #3463 (integration of ep_hash_auth), which is an important security enhancement.\nRight now, ep_hash_auth depends on the npm package bcrypt, which provides prebuilt binaries on a best effort basis, and only for Intel architechtures:\n\nCurrently, we have pre-built binaries that support the following platforms:\n\nWindows x32 and x64\nLinux x64 (GlibC targets only). Pre-built binaries for MUSL targets such as Apline Linux are not available.\nmacOS\n\n\nThus I would be ok with enabling ARM support, provided that we have a strategy to deal with the compatibility problem that will arise afterwards.\n. Nice catch, thanks.\nBefore merging, may I ask if you get it by visual inspection, or because you got any runtime error? If so, I would happily add a test case.\n. Merged, thanks. Hi @hiswe, I do not have a solution for you right now, but your problem makes me think once again about the opportunity to use transactions in the DB layer where applicable.. Hi, at least for the hooks.clientPluginNames is not a function error, it may simply be a question of stale cache (which may be a problem in itself, but let's keep it short here).\nCould you please try stopping the instance, deleting var/minified* and restart again?\nThe reason for which I am suggesting this, is that the code for clientPluginNames is there in 1.7.5:\nhttps://github.com/ether/etherpad-lite/blob/1.7.5/src/static/js/pluginfw/hooks.js#L141\n. Hi @eluminae, thanks for the report.\nI guess we are facing a limitation of the current docker image, where supervisor does not capture the stdout of etherpad, and the logs with the real error get lost.\nMoving forward, I think we are going to get rid of supervisor entirely. In that case, you would see the container stopping (which I personally like: supervision should be done with an external mechanism anyways) and inspecting the reason for the crash would be straightforward, since docker logs would show etherpad's logs.\nBack to your problem: there is certainly something happening in ethrrpad itself, and it would be good to understand why.\nI hope in the following days (probably next weekend) to be able to come back to you with a way to further diagnose the problem.. Removing an argument ruins backward compatibility.\nWas this argument so broken that removing it is not going to break any installation?\nI am 100% ok merging the doc changes, but would like some details on this change.\n. Just a nitpick: instinctively I would prefer \"converter\", but an advice from a native speaker would be welcome.. Is there a reason to use \"htm\" with Abiword and \"html\" with LibreOffice?\nThe code is there, so there must be a reason, but it is not clear to me.. If both Abiword and LibreOffice are configured, we end up requiring Abiword and overwriting it with LibreOffice immediately afterwards.\nNot terrible in this case, but we could try harder :)\nMaybe we could cover explicitly the four conditions (no converter, only Abiword, only LibreOffice, both != and we chose LibreOffice in that case...).\n. Could this be a typo? I see no /static/css/editor.css.\nIt would cause a 404.. Please help me about moving this inclusion out of the if block.\nMy question is due to the fact that even the original code seems bugged to me: disableCustomScriptsAndStyles did not seem to respect its purpose (not loading a skin when disableCustomStriptsAndStyles == true).\nIs this possible that moving the inclusion of pad.css was a way to work around another bug? If so, could we fix the original one instead?. This was a bug by me (I should have done it as part of the skins enablement). Thanks for catching.. Same hare. Nice catch. :+1: . @ldidry, once this is solved we can merge the PR. Thanks for the advice. I have separated this in 2 commits:\n\nf6cef9dfd2ff (already pushed in the official repo) fixes my bug on the skin.\nhttps://github.com/seballot/etherpad-lite/commit/b0880cc545ddcad29772ce9ed853ba7cfbce615c imports pad.css \"so the pad will look the same\"\n. Fixed replacing https://github.com/seballot/etherpad-lite/commit/4f40610ca72e437d235d788598824f59a0e2455f with https://github.com/seballot/etherpad-lite/commit/b0880cc545ddcad29772ce9ed853ba7cfbce615c. Fixed with f6cef9dfd2ff in the official repo.\nHistory rewritten to remove this bugfix from the PR.. Understood, will take this version.. This is change was part of your original series, and I have extracted it in 1938465e6144.\nCould you please explain it?\n\nI like the grouping, but failed to understand why \"attr(data-icon)\" was added to two more classes.\n. Could you please commit a fix on top of this PR?\nI will take care of folding it.\n. Deployed in beta.\n. I have a question now: grepping through the code, the only remaining reference to data-icon is here:\nhttps://github.com/seballot/etherpad-lite/blob/cbb4aaa15a89eee552e13f58ef02ca3cbd175592/src/static/css/pad.css#L1327-L1339\nWhat should we do with that? Remove only line 1327? Remove lines 1327-1339?\nIn your evaluation, please have a look at the code that introduced those new rules, 9aea689438d3, maybe it will help making sense why they where there in the first place.\n. Using a small polyfill for IE11 we could maintain backward compatibility:\njs\nvar cryptoObj = window.crypto || window.msCrypto; // for IE 11\nSource: https://developer.mozilla.org/en-US/docs/Web/API/Window/crypto#Syntax\n. The + is a URL reserved character.\nAccording to RFC 3986 the set of unreserved characters is:\nunreserved  = ALPHA / DIGIT / \"-\" / \".\" / \"_\" / \"~\"\nWe should replace + with one of (., _, ~).\nShould we go with _?\n. ",
    "miketamis": "i will look into writing this, if some one could whip up some design docs. im not 100% sure how this should look.\n. ",
    "glogiotatidis": "Unfortunately I don't work on the same project anymore, so I can't verify if that's working or if it gets the job done. Thanks for the followup though and keep up the good job.\n. ",
    "tschweitzer": "Will this feature go into the main branch? As far as I can see, it hasn't been merged, right?\n. So will @0ip clean up his commits and then the changes go into the main branch? Or will you @Pita re-implement a similar feature? I'd love to have this in etherpad.\n. ",
    "JoshuaHardcastle": "I think its an etherpad problem, as I get the same problem.\nI'm running vista 64\n. Could you tell me how?\nThanks.\n. ",
    "JasonWoof": "npm does not come with nodejs on debian. So it probably won't on Ubuntu sooner or later (even if it does now).\nLooks like it deosn't even come from the same source package:\nhttp://packages.debian.org/source/sid/nodejs\nhttp://packages.debian.org/source/sid/npm\nThis is node version 0.6.19\nAlso, even if it is not a dependency, I think it is important to mention your dependance on npm, because you're downloading code from the internet and running it on my computer. That is not something you should do without asking me.\n. ",
    "cweider": "@Wikinaut, what happens if the comment is removed? The line number may not be reliable, IIRC, errors that occur when the editor iframe is written can be very misleading. Also, while this is a problem, I\u2019m guessing it\u2019s unrelated to this issue, separate ticket?\n. I see a lot of unrelated commits in this pull request. I don\u2019t have anything against the cleanup, but I think it confuses the patch a bit. Perhaps you could make a branch for the zlib change and request that we pull that?\n. @Pita, IMHO, that this branch is too complex to pull (+1,324, -1,326 lines). The fix for issue #294 was fixed in the first commit and the whitespace changes, especially if intermingled with features, have the potential to complicate merges other branches downstream. I recommend that we review and pull in a cleaned version of 22332db (i.e. https://gist.github.com/1618182) then consider the whitespace, log4js, jshint, and handleSuggestUserName changes separately.\n. I think we\u2019d be best served by adjusting things in such a way that the user agent\u2019s implementation can work. @Pita, it\u2019s disabled with spellcheck=false on the editable iframe, do you have any info on the problems that it caused?\n. Oh, that\u2019s right\u2026 fixed.\n. I suspect that this is an issue with the Ace editor. If you try its live demo, how does it behave?\n. On second thought, it would maybe be simpler to pull #344, which contains the first 9 commits, first. That branch contains all the generally useful changes and will reduce the size and complexity of this merge.\n. Rebased, it should merge cleanly now.\n. Bump\n. Rebased\n. Just add a change to move randomString into common code.\n. Ok, it should be good now.\n. Rebased :)\n. Ah, yes, that\u2019s a typo. I\u2019ll push a fix in a few.\n. @jhollinger fixed with 9837cda257ec92794aca59d4c747cac2527137a6.\n. Sounds good to me.\n. If #352 is pulled, the implementations on the client side can be shared also.\n. No trouble on IE7,8 locally, any more info? cache cleared?\n. Ok, these are separate issues - the JSON is serious and fixed.\nThe require issue requires magnification to be turned off, so it only affects development. This happens because all of the script tags are written with document.write, so their order of execution is undefined. This will get fixed as a side-effect of some upcoming changes.\n. Oh, yea, by magnification, I meant minification \u2013\u00a0autocorrect.\n. Yea, the issue is resolved at cweider/etherpad-lite@f56ef0ab510de105ec812b5479fc39831d64e8b3. But if you look at the history it\u2019s a bit backed-up, I\u2019ll need to look at rearranging history to get it into a smaller branch.\n. Can someone verify the fix after #405 was closed?\n. Ah, ok, seq is the issue, after it breaks execution who knows what else could break. I\u2019d grep for that in pad.html and the (generated) pad.js. Also, static/js/jquery.js is not in the repository \u2013\u00a0it\u2019s possible there are stray characters in there \u2013 try deleting it so a fresh version is placed there.\n. Ah, that\u2019s good to know, UglifyJS is pegged to v1.1.1, but maybe it is odd for some reason. b32f883a9da5216300113a1f81fbd67fb793e7f1 changed the process slightly recently, what happens if you revert it?\n. -41Kb, hooray!\n. Ah, forgot there was a necessary patch in require-kernel, it should work now.\n. If anything, I\u2019m concerned by the lack of a trusted source for the jQuery that we download. Thankfully, if the correct version is present, nothing from the internet is used, but this to be a general concern in any production environment (either using https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.js or checked-in resources are possible solutions).\n. Just to be clear, there is nothing wrong with this particular change (this change makes its handling equivalent to jQuery\u2019s) \u2013 it\u2019s a more general question of how etherpad-lite should retrieve libraries.\n. Ah, yes, validating the file with a checksum would be a good fix. It\u2019s a poor example, but code.jquery.com is untrusted in the sense that if deployed from a shady wifi connection, it could yield malicious code.\n. This is almost certainly related to #400.\n. Certainly not relevant to plugins and all that stuff. Best to safe for later.\n. It looks like a more general routing thing? https://factor.cc/pad/static/css/pad.css can\u2019t be found either, but https://pad.factor.cc/p/test is working fine for me, is it not for you?\n. @johnyma22, yes, it would expose the frame to other frames in a parent domain \u2013 that is probably safe, but it is something that an implementer would need to be cautious of. The best solution would really be to expose a cross-frame interface (probably with easyXDM) or to make the iframe unnecessary (but that requires sessions and tokens and lots of other things).\n. Oh, proxying the server is perfectly fine. I\u2019d just say that it\u2019s more of a workaround \u2013 Etherpad is no longer running on a different domain at that point \u2013 than something that allows a page to integrate with Etherpad despite its being isolated on its own domain, but the later is a feature more than anything.\nUsing postMessage instead of adjusting document.domain is only better in that it allows a larger class of domains (like 'http://www.example.com', 'https://example.com', 'http://example.com:8080' (roughly)) to communicate with 'http://pad.example.com'.\n. @Pita, adjusted the settings template. Minify almost to the point of being stable \u2013 then I will get around to documenting it. After this branch it will be much simpler and easy to document.\nNote: in a few branches from now versioning should probably be added to the asset URLs so that the 6 hour maxAge doesn\u2019t cause issues when server-side code changes (and the maxAge can be raised to a year or longer).\n. Ah, yup. I\u2019ll submit a patch in just a few.\n. @sufyit, Window file paths are causing trouble (C:\\ and all that)\u2026\u00a0patching in a few.\n. Oh, fantastic. My only suggestion is a bit of cleanup on the changeset. Could you squash and leave the lines before ace2.js:80 unchanged?\n. Oh, it\u2019s just a very minor quibble. Generally, if the change isn\u2019t necessary and adds a hunk to the diff, I try to avoid it.\n. I believe it\u2019s due essentially the problem mentioned here: https://github.com/fourplusone/etherpad-lite/commit/7e2929e36ce246fb029c2684e11a24635f08da3d#static/js/ace.js-P124 introduced with 9ede14a. I need to try the approach I mention, but, for now, a revert should do.\n. It would be very convenient. I would like to know a bit about the original motivation for the inlining, any idea @Pita?* The smoothest path to fixing this would be to slowly move the construction of the child frame\u2019s content to the server-side and then, instead of inlining CSS and JS, only inlining full HTML documents.** The change in 78691feec73507d243206cafaff496712e15367d to get Minify to use HTTP requests to get the contents of the URL will be helpful.\nFor reference, here is a nicely formatted version of the editor frames\u2019 contents: https://gist.github.com/1871440. If editorId and editorInfo were to be injected by the parent frame, then the content would be static.\n_There could definitely be issues with content-editable iframe caching stuff.\n*_Removing the (very long) string concatenation from the client side would probably be good for IE.\n. Moving the construction of the toolbar\u2019s controls into script would be a very helpful change. I don\u2019t think it should be necessary to block it on completion of a plugin system.\nOne change that would be helpful immediately would be replacing of all the onClick handlers in markup with events registered in padeditbar.init(). That\u2019s been on my todo list, but if there are any volunteers\u2026\n. See also #529.\n. While this change is probably not able to be applied directly after all the plugin stuff, this would still be a valuable feature, no? (anonymous blobs of HTML are not easy to maintain compatibility with)\n. Yup, will get the change to enable it in a day or two.\n. I definitely don\u2019t think we can pull this as one commit. I\u2019d strongly discourage reformatting changes; yes, formatting is pretty awkward, but large whitespace/indentation changes wreak havoc merges, can make merges very difficult \u2013\u00a0at the very minimum formatting changes should be in an isolated commit.\n. Hm, I don\u2019t understand. The pages timeslider.html and page.html seems fine for to me. Yes, there are 10 lines of script at the bottom, but that\u2019s boot code that is unavoidable. The pad and time slider modules were created  to do what I think you want to do. (See #371)\n. Ok, yea, all the onclick attributes need to go away (I have a patch for that). I also agree that the <script /> elements in the page are not desirable. I\u2019m working on slowly removing them - the first priority is to move SocketIO into the pad.js package and then to load it asynchronously require('/pad.js', function (pad) {/*...*/}) (I just need to be very careful that this preserves debuggability). The good news is that, once cached, the difference is negligible and #449 improves the use of Expires and 304\u2019s.\nEventually, I would want only require-kernel and the inline boot script on the page.\n. See #468.\n. SocketIO is being provided be the SocketIO library ATM. A ticket for that change should be made (pending a branch or two it would then be served correctly).\n. For asset compression see #468. For general compression, for some reason, gzipped assets are cached, if this is not a requirement, then we could adjust CachingMiddleware  (replacing it with a composition of existing middlewares would be better) and easily fix the gzip behavior for all resources.\n. Looks like internal requests (added in #468) are strange in Windows, will be looking into it more tomorrow. A revert of the merge may make sense, I don\u2019t know if it\u2019s an easy fix or not.\n. It should be working now.\n. NP.\n. Should be fixed by af4bd5ca65637dc660a2ccda9f2454180f38f4d3, could you check?\n. Also, thanks for the good error report.\n. @mmehnert, possibly, but at least some HTTP data. Requests are made to nginx, requests made to the etherpad instance (from nginx), and their responses will help diagnose this issue. It must be something with redirects, but, without more data, I couldn\u2019t say exactly what.\n. @mmehnert, oh, just the config should be good enough. That said, it would also be helpful if you could create a minimal configuration the reproduces the error. In my tests, this works.\n. Ah, ok, then the fix should be pretty straight forward, I don\u2019t see any reason for static assets to require authentication. Master is in limbo right now, but just move the block at server.js:127 beneath the static assets and that should fix it..\n. I think the browser is probably using its cache. @Garad, can you make sure it is not the browser cache?\n. Ok, what is the maxAge setting? If it is anything large (or the default) the server-cached version will probably be valid and that will be returned. Make maxAge is small and if is still causing trouble, disable the cache at node/server.js:147 to test whether or not the cache is the problem (I can\u2019t reproduce this locally).\n. Nope, nothing you did wrong. I expect this will be fixed with #521.\n. This release has been really bumpy, sorry about that. I can\u2019t reproduce the errors, but this is my theory: the bug shutting down the server is fixed, but there is something wrong with SocketIO that leaves io undefined\u2026\u00a0and breaks all subsequent code (the errors at require-kernel.js:1). What happens if node/server.js:487 is disabled?\nIf this fixes it then I suppose we know what the problem is, but I\u2019m still not sure why it would be broken. My versions are socket.io-client@0.8.7 (node_modules/socket.io/node_modules/socket.io-client/package.json) and uglify-js@1.0.6(node_modules/socket.io/node_modules/socket.io-client/node_modules/uglify-js/package.json), is it possible yours are different?\nCaching: Yea, responses are cached on the client and server and are very aggressive returning 304\u2019s, setting maxAge in settings to something small and clearing the browser cache after server changes will fix these problems (I\u2019m going to add versioning soon \u2013 which will eliminate this problem).\n. They had moved around a bit, but they did get removed completely a little bit ago (see d00be5b8172af29e78e11b219b3a3ea5ef59611d).\n. Here are my comments:\n- CommonCode replacement may be a good idea, but is it necessary here?\n- hooks.callAll, if we\u2019re changing how hooks/events work, would this be a good time to simply adopt the EventEmitter interface and possibly implementation as well (e.g. tmpvar/node-eventemitter)?\n- I noticed that jQuery and PrefixFree are added to the repository. Is this intentional? if so, bin/installDeps.sh should be adjusted. Ideally this change would be in a separate branch.\n- Static assets like images (maybe HTML too) should probably not be in /src.\n. This is in the development branch.\n. @jtlebi, yea, moving the bar\u2019s construction further into JavaScript would be a good idea (see #470). Regarding <button> versus <a>, that\u2019s mostly a stylistic thing, though it can help with accessibility a bit (tabbing works automatically).\n@johnyma22, I doubt it has any effect on loading time (the <script> elements are the (minor) problem there) \u2013\u00a0just cleanup.\n. This pull is invalid, at least because it\u2019s headed into master. A version of this without converting to button tags would be better, though still may or may not makes until plugin stuff is all finished.\n. This supersedes #509.\n. I haven\u2019t bothered investigating, but it\u2019s odd that this is happening considering that #395 was pulled.\n. Ok, this is because the files with the cached content are not getting cleaned up (./bin/run.sh should do this). One fix would be to cherry-pick 57d0a2e803d8efd2721c575e225bc9d90910d6d3 from #541.\n. This has been merged into Pita:develop\n. This is a nice little improvement. Could you rebase this (to remove the merge commits) and improve the message for dfe793e3f749f7215a470305540e72f58aad59ed? Also, it looks like AttributePool changed enough from AttributePoolFactory that Git cannot recognize the rename, could you do the rename in one commit and the change to a constructor in a subsequent?\n. I think mapping /javascripts/lib/:plugin_name/ to path/to/<plugin>/static/js/. Addressing the JS module through static does work, but it precludes (useful, though unimplemented) packaging. The inclusion of /static/js in the paths would be great to get rid of (though simply placing files in the module\u2019s root directory may make more sense).\n. Cross-frame requires are a bit iffy, but window.top is certainly the problem - it should be window.parent.parent or whatever at least.\n. @jhollinger, I\u2019m looking into it. First thing I ought to do is adjust 22eaa6ffc012e83438d54e6fb5b023a7952246a7, That conditional means that the packaging middleware is never exercised in development\u2026 so nobody will ever notice when integration with that breaks down.\n. I don\u2019t have a full understanding on exactly what is happening, but the end effect was that the following lines:\n``` diff\n--- a/src/templates/pad.html\n+++ b/src/templates/pad.html\n@@ -287,11 +287,14 @@\n               var plugins = require('ep_etherpad-lite/static/js/pluginfw/plugins');\n               plugins.update(function () {\n\n\nconsole.log('interrupted');\n                     require('ep_etherpad-lite/static/js/pad').init();\n                   });           /* TODO: These globals shouldn't exist. */\n\n\nconsole.log('- require');\n               pad = require('ep_etherpad-lite/static/js/pad').pad;\nconsole.log('+ require');\n               chat = require('ep_etherpad-lite/static/js/chat').chat;\n               padeditbar = require('ep_etherpad-lite/static/js/pad_editbar').padeditbar;\n               padimpexp = require('ep_etherpad-lite/static/js/pad_impexp').padimpexp;\n```\n\n\n\nExecuted in this order:\n- require\ninterrupted\n+ require\nI\u2019m not a fan of what this appears to imply (that update\u2019s XHR is preempting other JS code) and there are plenty of other things to cause this odd behavior (communication between our ~3 frames is more feasible), but anyways, scheduling the callback fixes the issue, which is good enough for me.\n. @etinquis, it is certainly in the area. The first thing to check (which you pointed out) is accessibility of resources at the \u2018minified\u2019 path.\ncurl -v 'http://208.113.124.146:9001/minified/pad.js?callback=require.define' should return something useful. If it is all null values then something is wrong. The yajsml middleware can then be tested by curl -v 'http://208.113.124.146:9001/static/js/pad.js'. If this is not a 200 that probably explains the null value. If not, then it is likely that there is something interfering with the internal HTTP request the yajsml makes for http://localhost:9001/static/js/pad.js.\n. Right, and in this case, I\u2019d suspect some upstream configuration issue (at least). I can\u2019t think of anything in yajsml that would result in that response. Actually, I think the CachingMiddleware could be interfering. Unfortunately, it doesn\u2019t respect cache-control headers (\u2026it needs to be replaced with built-in compress and cache middlewares) so there\u2019s no real way for us to test it remotely. A next test could be bypassing the cache by commenting out server.js#L147.\n. If the changes to static/pad.html are only whitespace (they appear to be) it would be awesome if you could cut that from the patch.\n. Ah, yes, I knew something with the relative paths inside the JS was going to be tricky. Copying src/static/js/pad_impexp.js#L213 might do, what do you think?\nReference: #626\n. At first glance, evaluating the configuration as JavaScript (it would probably improve syntax error handling too) is an attractive fix. Anybody know of a reason not to?\n. Develop can spend a ton of time reading, assembling, and minifying all of the JS required for the page (both pad and timeslider JS for pad.html unfortunately) \u2013 this can make the server non-responsive, especially if caching is disabled. The non-optimal packaging is addressed with #709.\n. The long period (when it claims to be a 200 straight from the cache is\u2026 odd. But, ignoring that, it may be tied up elsewhere constructing timeline.js (which it shouldn\u2019t need to, but does \u2013\u00a0what #709 fixes). \n. Unlikely, but I should figure out how to run it on Windows again just to be sure.\n. I\u2019m curious is anybody is aware of environmental issues that would lead to ../node_modules not being the correct path to look for underscore, etc. \u2013\u00a0this would cause problems.\n. @redhog, that\u2019s good feedback. Whitelisting of libraries may be a good idea.\nLoosely related: we should consider mapping requests for plugins/{library}/{file} to ../node_modules/{library}/static/js/{file}. The current require paths are awfully cumbersome.\n. Rebased onto #737. After that is merged, we can look at this \u2013\u00a0now it is whitelisting libraries.\n. @marcelklehr, modulized jQuery requires some intrusive changes (from global to module), but there\u2019s a later branch doing just that.\n. Added UNorm.\n. @johnyma22, yup\n. Added Tinycon.\n. Yup, no problem.\n. @johnyma22, the IE error seems to be a part of develop\u2026\u00a0sigh. @0ip, the mobile layout should be compatible now.\n. This should fix it? That would be more correct since the <a> is the link. The anchor is (possibly) important for tabbing behavior, but (personally) would be nicer as a <button>. I\u2019m actually wondering if the ul > li construction for the menu is actually appropriate now, but that\u2019s a discussion for later\u2026\nUnrelated: the .selected styles needs looking into, it strikes me as far to general. We should probably consider increasing its specificity to .toolbar .selected or something.\n. The resetting of document.domain added 4325f0b9076fa3ab1eb8f846129ca513fada699b is what is causing the permission denied issues \u2013\u00a0@redhog.\n. Added\n. Does this fix the issue? Because this would imply that the caching middleware is being placed in front of more than just the static assets or sessions are being checked for static assets \u2013\u00a0neither makes sense.\n. This should be going into develop\u2026\n. @fourplusone, yup, that\u2019s correct. It is possible to fix though. Since plugins are required synchronously, require is forced to use inline JavaScript to define them. Changing them to asynchronous form will allow them to be loaded via normal script tags, which should work better with the browser.\n. @fourplusone require('path1', 'path2', function (module1, module2) { /* ... */ })\n. Why is document.domain necessary? I\u2019m not convinced. if it is necessary for not-IE, that it is unnecessary for IE (things are usually the other way around). \n. Grouped buttons? nice!\n. Does anybody know why SpecialIEDOMLine is necessary or whether notifyAdded and finishUpdate need to be instance-specific?\n. @johnyma22, yea, merging this will require discretion. While the changes are relatively minor they end up touching most of the file. If any downstream branches touch these files, a conflict is almost certain. Also, perhaps there needs to be a after-develop-milestone branch\u2026\u00a0\u2019cause adding to the current branch certainly doesn\u2019t speed up release (develop could use a freeze).\n. I\u2019m assuming \"[myIP]\" is not a part of the actual error, but there for anonymity (that\u2019d be a simple explanation)? What do you receive when you curl -v 'http://[myIP]/minified/pad.js?callback=require.define'. If it is a 404, try to curl -v 'http://[myIP]/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define' \u2013 these paths have changed recently.\n. Probably a trailing comma thing. I\u2019ll see if I can improve that error message\u2026\u00a0(I noticed some modules are still missing from a package).\n. This isn\u2019t supposed to go to master\n. Yea, it cuts the file sizes significantly and preloading ace2_common should fix poor debugging for some files.\n. Less broken now.\n. Thanks catching that.\n. @redhog Create a new branch based on Pita/master and cherry-pick 357ca73.\n. For some reason these files appear to be inaccessible to the middleware. https://github.com/Pita/etherpad-lite/blob/master/src/node/hooks/express/static.js#L22. I can verify that those resources are accessible remotely. Is there any chance that settings.port is incorrect?\n. Yea, removing the loopback would be useful feature.\n. @johnyma22, I\u2019ve worked around the problematic loopback, should be more portable now.\n. Have you looked at #894? its workaround makes the IP/port choice irrelevant. Let me know if that patch didn\u2019t fix the issue \u2013\u00a0and I\u2019ll take another go at it.\n. Yea, zeparser is some sort of dependency of socket.io IIRC it is not playing well with NPM.\n. This is expected behavior \u2013 OWASP recommends this paranoid escaping for untrusted attribute values. If a interpreter is having trouble with it, I\u2019d be curious and would like to hear more. If you\u2019re having trouble parsing it with a RegExp, I\u2019d recommend using an XML parser to get at the data.\n. Eh, I\u2019d say this would avoid using one of the (very) useful features of NPM. Sharing libraries vastly increases the surface area of our interface to plugins a lot* \u2013\u00a0any backwards in-compatible upgrade would necessitate changing not just our code, but probably plugins as well.\n*Yes, #701 does just that\u2026\u00a0something that needs improvement (probably that plugins ought to have their own require context).\n. Oy, all I could do was facepalm reading that NPM discussion about peer decencies (something about making it easy for your dependencies to modify your state\u2026 and singletons\u2026\u00a0but that\u2019s just me). In the meantime, dependency injection is the more pedestrian way to accomplish this. Etherpad would export an interface to the plugin providing it with a means to get access to objects that are safe (shared objects, peer plugins, etc.) to share.\n. Ok, I\u2019ve discovered it\u2019s another loopback issue, this time in Minify#177. The fix will be similar to #894 (the workarounds as well).\n. Related: #701\n. It needs a rebase, I\u2019ll do that soonish.\n. This is windows path (backslashes instead of slashes) issue again.\n. Yea, so pluginfw/parent_require plays around with the internals of require\u2026\u00a0which is destined to end in tears. There may be a quick workaround, but what really needs to happen, is that this needs to be replaced with something that doesn\u2019t break the rules. I think it\u2019s being used to share hooks and plugins across windows; this should be done in a more explicit way \u2013\u00a0injecting the hook, plugins dependencies where necessary instead of making require() behave differently.\n. I think the continued breakage is a symptom of a new bug \u2013 #1005 should fix this.\n. I\u2019m sorry, I cannot reproduce this. I am testing on Windows Node and IE7. Are there rewrite rules going that lead to interesting path names? Are you using HTTPS?\n. Side note: the errors following \u201cundefined module\u201d error are only because there is some later code that runs (and breaks) regardless. #1006  happens to avoid that by consolidating the scripts.\n. Wrong branch\n. The patch patch was much simpler after #740, review and pull that first.\n. Despite validation, I\u2019d feel much more comfortable if globalUserColor was not user input. Could we instead parse and pass around a representation of that color? I\u2019m thinking:\nsettings.globalUserColor = colorutils.css2triple(decodeURIComponent(userColor))\n. It\u2019s another race condition \u2013\u00a0if you\u2019re lucky it will happen in develop as well. I\u2019m pretty sure message is being emitted after reconnect by the socket, but before the clientVars have been received and the collabClient is assigned to in _afterHandshake.\n. Yup\n. \u2026aannd 1.1.5 is published (now).\n. Oh, yes, you\u2019re correct (we better watch for all those false, \"\", and 0 users\u2026\u00a0ugh) \u2013 nevermind.\n. Thanks for this change \u2013\u00a0this is certainly a change in the right direction. We need to add proper validation on UserInfo objects, not to mention PadMessages (and an audit of handling that data). UserInfo doesn\u2019t have any defined schema*, how confident are we that the whitelisted attributes are all that are required and/or expected? (I see potential  to clobber useful data src/static/js/collab_client.js:364)\n*That will be a personal TODO for the near future.\n. Oh hai. Yes, this is certainly an improvement.\n. Ah, right, missed those additions \u2013 fixed.\n. ",
    "dgeo": "(libre|open)office has a \"server mode\" that can be shared between many services, and is not hard to use is the code (http post method). Configuration may be a single host:port or unix:/socket from EPL's view, and one of the thousand tutorials to launch ooo|LO in headless mode referenced in the sample config\u2026\nA 1s one: \nsoffice \"-accept=socket,host=127.0.0.1,port=56789,tcpNoDelay=1;urp;\" -headless -nodefault -nofirststartwizard -nolockcheck -nologo -norestore\nThis way, the machine used for conversion may be another (ie: not a web server, a workstation always up for example...)\nSorry I'm not good as a developper, not have I time to learn nodejs for now\u2026\n. @Wikinaut thank you, I missed that !\n. In fact it does exists here: https://github.com/ether/etherpad-lite/commit/acbcff07b6c48d404ca5bae35feb161d50f6981b (works for me\u00ae)\nIt does match this: http://stackoverflow.com/questions/25896225/how-do-i-get-socket-io-running-for-a-subdirectory (seems to be a change in socket.io)\nPlease include this fix ! basically, socket.io needs 'path' parameter instead of 'resource'\nThis bug seems to apply to any etherpad install under sub-directory, and is regression since 1.5 (1.4.x worked like a charm here - 1.5 works too with above fix)\nalready fixed here (read comment): https://github.com/ether/etherpad-lite/blob/develop/src/static/js/pad.js#L231\n. ",
    "disy-mk": "Interesting, will look into hat :)\nsent from my mobile\n. @JohnMcLear didn't you add a catch for CTRL+s in the meanwhile?\n. Wow,\nthat sounds fantastic! Is s.th. like that also possible with ldap?\n. Which git rev is the patch applicable to?\nAm 23.10.2012 um 22:03 schrieb mamachine notifications@github.com:\n\nHi,\nlike others I want to authenticate etherpad-lite with Shibboleth through an Apache proxy using mod_shib.\nI managed to found a solution which works.\nThe global idea is to use a value in the headers (set by the proxy) to set the AuthorName.\nThis way it can be use for Shibboleth, but even CAS or any auth mechanism through a proxy.\nI'm new to nodejs ; is the way I did it ok from a developper point of view ?\nThe suggested patch : support_shibb_etherpad-lite.diff => http://pastebin.com/raw.php?i=hYr8bd89\nA sample config of apache with mod_shib : config_apache_shibb_etherpad-lite.txt => http://pastebin.com/raw.php?i=SDhJpDNd\nIf it's correct could it be commited in the master branch ?\n. @mamachine:\ncould you check on that?\n\n\nNote: checking out 'e19c05d1c4652191467e7e53cbf906ce9882fd14'.\nepl$ git log |head -n5\ncommit e19c05d1c4652191467e7e53cbf906ce9882fd14\nMerge: 3caa030 e484121\nAuthor: John McLear john@mclear.co.uk\nDate:   Thu Oct 11 08:40:25 2012 -0700\nepl$ patch -p1 < shib.patch \npatching file settings.json.template\npatching file src/node/db/Pad.js\npatching file src/node/handler/PadMessageHandler.js\nHunk #1 FAILED at 334.\nHunk #2 FAILED at 412.\nHunk #3 FAILED at 935.\nHunk #6 FAILED at 1085.\n4 out of 6 hunks FAILED -- saving rejects to file src/node/handler/PadMessageHandler.js.rej\npatching file src/node/utils/Settings.js\n. @mamachine:\ncould you check on that?\n\nNote: checking out 'e19c05d1c4652191467e7e53cbf906ce9882fd14'.\nepl$ git log |head -n5\ncommit e19c05d1c4652191467e7e53cbf906ce9882fd14\nMerge: 3caa030 e484121\nAuthor: John McLear john@mclear.co.uk\nDate:   Thu Oct 11 08:40:25 2012 -0700\nepl$ patch -p1 < shib.patch \npatching file settings.json.template\npatching file src/node/db/Pad.js\npatching file src/node/handler/PadMessageHandler.js\nHunk #1 FAILED at 334.\nHunk #2 FAILED at 412.\nHunk #3 FAILED at 935.\nHunk #6 FAILED at 1085.\n4 out of 6 hunks FAILED -- saving rejects to file src/node/handler/PadMessageHandler.js.rej\npatching file src/node/utils/Settings.js\n. I am currently working on an interface to administrate all these things; it's not quite easy as it depends on how you want to use; we need to have a per-user admin-interface; because of that I can not pull all the groups and then dig my way through it; therefore I have to use ajax/JS to hide everything;\nI will provide a solution for admins and one for per-user situation. How easily that can be put into a plugin I dont know.\n. ## I do, more or less. I am not at home right now, you have to wait until tomorrow.\nsent from my mobile\n. @GammaNu: #1623 \n. Yeah, really would appreciate to have this plugin working :-)\n. @gedion any news here?\nI do not wanting to bug you, but I am very interested in a working table-plugin; I thought of making it work by myself, but I am new to etherpad-lite, so I don't really know where to start.\nthanks\n. Is this still an issue?\n. Is that what you have expected to be done?\nedit:\nI recommited as my git-config was a bit strange regarding my prsonal infos :-)\n(Just for the records: took the script from l0b0' s post on http://stackoverflow.com/questions/10711051/trailing-whitespace-elimination-script-for-multiple-files)\n. Thanks of reminding me; but let`s not close yet; \nAs far as I understood, you are about to push things toward 1.3, things seem busy around epl. as soon as they settle a bit, I will commit the changes to hopefully collide with nobody :)\n. back in school none of these helped with failed exams\u2026 but, k , will do so :)\n\nAsk for forgiveness, not permission\n. You mean diff between content revisions in pads?\n. This is a very good idea and seems very useful to me.\n\n+2(!) from my here\n. i guess this can be closed...\n. Still showing up sometimes....\n. This was on master branch v.1.2.8.\nAtm moment I am changing the setup infrastructure and therefore update to 1.2.9; i'll post again if that will happen and how to reproduce\n. Coming from C/C++ 'leak' maybe sounds harsher to me that it might actually be in this case; Anyway, happy to hear that; good job :)\n. well, then let me add a 'very' to the 'good job'\n. At least, although i would like to reproduce that error i cannot achieve the same result (epl v.1.1.3).\nFollowing you steps i chose a pdf to be imported and it seems to parse the file. \nShortly after parsing the file, an error appears between the \"select file\" and \"import now\" buttons:\n\n\nImport failed: Please copy paste <<\n\n\nThough, the pdf content is parsed and inside the text area.\nConsole log:\n[2012-10-03 21:26:36.029] [INFO] http - 200, POST /p/import_new/import\n[2012-10-03 21:26:36.114] [INFO] ueberDB - Flushed 2 values\n. Hi,\nas I once read that nginx causes problems, I tried to \"outsource\" things, that would have fallen back to nginx; so actually I am using stunnel, providing https for EPL behind nginx. That actually word, I do not get that error.\n. Maybe have a look at \nhttp://dev.squarecows.com/2012/06/28/nodejs-0-8-on-ubuntu-12-04/\nyou also might consider installing nodejs-dev (http://www.ubuntuupdates.org/package/chris_lea_nodejs/precise/main/base/nodejs-dev) but I guess the first hint might be the better one\n. I bet this one?\nhttps://github.com/jrocho/ILIAS-Etherpad-Lite-Plugin\nAm 14.09.2012 um 20:59 schrieb John McLear notifications@github.com:\n\nILIAS-plugin? \nDate: Fri, 14 Sep 2012 10:27:34 -0700 \nFrom: notifications@github.com \nTo: etherpad-lite@noreply.github.com \nCC: john@mclear.co.uk \nSubject: Re: [etherpad-lite] Import fails. Log: [ERROR] console - ^[[39mpath.existsSync is now called fs.existsSync. (#985) \nHi John,\nDevelop-git runs now on my production-server. But not with the ILIAS-Plugin.\nCheers,\nWolfgang\nAm 13.09.12 23:54 schrieb \"John McLear\" unter notifications@github.com:\n\nBug is due to MS word messing up a line and abiword unable to import it. It's\nactually a bug w/ abiword.\nDocument still imports fine but returns error to EPL which is correct\nbehavior:\nhttp://i.imgur.com/PluB9.png\n\u2039\nReply to this email directly or view it on GitHub\nhttps://github.com/Pita/etherpad-lite/issues/985#issuecomment-8544977 .\n\n\u2014 \nReply to this email directly or view it on GitHub.\n\u2014\nReply to this email directly or view it on GitHub.\n\n\nManuel Knitza\ndi.sy - Distributed Systems Group\nDept. of Computer & Information Science, \nUniversity of Konstanz\nPhone: +49 7531 88 47 34\nMail: manuel.knitza@uni.kn\n. I think this issue can be closed as table-plugins seems to work; another thing regarding the table plugin i will reference in another issue; see #1076\n. Exactly, it's installable and usable\n. As I either way am quite new to bisecting I will give it a try later today. Want to increase my got skills :)\n. we talk about stable, not dev branch, right?\n. already started with stable; was working  in Feb, but wasn't in beginning of April; getting closer :-)\nAm 23.09.2012 um 00:12 schrieb John McLear notifications@github.com:\n\nprolly develop. Either way develop tracks masters commits so you always have the same commits on the develop branch. \nDate: Sat, 22 Sep 2012 13:52:40 -0700 \nFrom: notifications@github.com \nTo: etherpad-lite@noreply.github.com \nCC: john@mclear.co.uk \nSubject: Re: [etherpad-lite] indenting (levels) of lists is fully broken (#1017) \nwe talk about stable, not dev branch, right?\nAm 22.09.2012 um 13:17 schrieb Wikinaut notifications@github.com:\n\n@disy-mk wrote\nAs I either way am quite new to bisecting I will give it a try later today. Want to increase my got skills :)\nGreat. Perhaps you can start with a version of February 2012. As far as I remember, this worked.\n\u2014\nReply to this email directly or view it on GitHub.\n\n\nManuel Knitza\ndi.sy - Distributed Systems Group\nDept. of Computer & Information Science, \nUniversity of Konstanz\nPhone: +49 7531 88 47 34\nMail: manuel.knitza@uni.kn\n\u2014 \nReply to this email directly or view it on GitHub.\n\u2014\nReply to this email directly or view it on GitHub.\n\n\nManuel Knitza\ndi.sy - Distributed Systems Group\nDept. of Computer & Information Science, \nUniversity of Konstanz\nPhone: +49 7531 88 47 34\nMail: manuel.knitza@uni.kn\n. @Wikinaut:\nCould you specify 'broken' a bit more detailed?\n\nmanually went back to 2001, nov 29 (73de872bc99c98794987e9a8f3d71d378292429a) and problem already existed.\nDue to version dependency stuff bisecting is not really possible. i will further investigate tomorrow/in about 8 hrs\n. yeah, its weird.\ntry the following:\nsometimes my first attempt fails, but if i try again it works:\ngo to a new line, begin ordered list, type sth, hit enter (your on 2. now) try to indent and it becomes a\n(only works with empty line, otherwise ordered list becomes unordered list)\n. So, on a first glance, everything is working as it is supposed to?\n. having no issues with nginx config here either\n. Have to correct myself; I am using stunnel to forward port 9001 to port 443 and nginx only is used for rewriting to force https to be used\n\nhaving no issues with nginx config here either\n. i can confirm following plugins working on rev a2394fc:\n\n-ep_datatables (have to manually clone from gedion repo into node_modules and restart server)\n-headings (via plugins interface, server restart necessary)\n. -1 for supporting it; people should not be supported being sloppy in keeping their system up2date...\n. Not only if he, but anybody could do this; would be that magnificent!\n. Would have liked to see sty that automatically recognizes non-existing plugins\u2026\nEither way, tried this and restarted epl, plugin is still available; also clearing the browser cache did not change anything.\n. anything new here? is actually someone trying to fix it or do we need more information or anything else?\n. Anything new here?\nI just set up a new instance of epl (master branch) and added following plugins:\n- ep_info_panel\n- ep_headings\n- ep_table\ncleared the cache then, loaded an old known pad and went straight to the time slider (where I noticed a slight offset of the needle to the left - unrelated to this issue) and saw that the time slider history is not showing up; I remembered that this was once said to be ep_table's fault  and I went to the pluginspage of my instance (in a new tab), uninstalled ep_table and switched to my pad-tab, reloaded and voil\u00e0, the history appeared and time slider is working\n\n@johnyma22 wrote\nCan we please confirm the timeslider is fine as long as you don't enable a plugin that breaks it?\nNo, we cannot confirm. Timeslider is still broken by a first and currently unknown problem which is independent of ep_tables plugin.\n. Just wanted this to be confirmed, because some comments earlier IT was said these wer not related.\n. Yeah, a big problem\u2026 dropped the maintainer of ep_tables some messages about that\u2026.\n\nto be more specific this is #1077 aka gedion/ep_tables#10\n. My first thought: do you have the corresponding pdf-libs/tools installed? I am not quite sure, but i think that the pdf libs are not necessarily dependencies for abiword\u2026.\n. Did not look at it, but don't we have that already for the latex-export plugin? (Just saw it today on the plugins list)\n. I saw this (I guess it was almost the identical message) and if I remember correctly this was related to a inconsistent Etherpad DB (not EPL!) which I tried to import to EPL. There, some pro_pad data sets existed in one table, but not in an other.\n. see #882\n. > there may be problems coming up when a plugin breaks out of the iframe and uses a http:// instead of https:// connection.\n\nI observed this effect just right now with the ep_tables plugin https://github.com/clkao/ep_tables\nThe browser then changes the \"lock\" symbol to \"unlock\".\n\nAlso saw that with ep_sketchspace; (was using EPL behind stunnel/nginx-combo to have \"working\" SSL)\n. why not implement that into core? EPL will come up with some auth mechanisms sooner or later i guess, so there should be several options be available in the settings file like\n(this was a try for adding shibboleth feature: http://www.binrand.com/post/4297192-settings-client-support-shibb-etherpad-lite-diff.html)\n  \"auth_by_header\" : false,\n  \"auth_by_header_name\" : \"x-forwarded-user\",\nOR\n- REMOTE_USER passed threw by http AuthBasic ( #551 )\nif it is meant to be a feature and disabled by default i cannot imagine some functionality like that may be considered to be bug.....\n. I just recognized that something similar is apparent on the most outer left position (rev 0) for a pad; the \"needle\" is outside the slider. If you compare that to screenshots the slider is exactly offset by the amount of pixels in the first image on the left side as well.\n. i would like to confirm @Wikinaut 's observation. I will attach a screenshot later. I think the problem is sth else: \nIf I click on the connectingbaricon.gif item of the offending line (404 no found) in the list of files in the network tab it redirects me to http://beta.etherpad.org/p/static/img/connectingbar.gif which results in a\n\"Cannot GET /p/static/img/connectingbar.gif\"\n\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\nI cleared my cache btw :-)\nFYI (output of the 'headers' sub-tab within network tab) :\n\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\u2013\nRequest URL:http://beta.etherpad.org/p/static/img/connectingbar.gif\nRequest Method:GET\nStatus Code:404 Not Found\nRequest Headersview source\nAccept:/\nAccept-Charset:ISO-8859-1,utf-8;q=0.7,*;q=0.3\nAccept-Encoding:gzip,deflate,sdch\nAccept-Language:de-DE,de;q=0.8,en-US;q=0.6,en;q=0.4\nConnection:keep-alive\nCookie:prefs=%7B%22fullWidth%22%3Afalse%2C%22hideSidebar%22%3Afalse%7D; __unam=4303564-139c8bed5a7-793d0068-1; gs_u=832912742:3115:6895:1347692750477; token=t.Lzz26tO0mZ1wXVXj9ooA; express_sid=s%3ACDjFT2M09mTvc%2F7OIuge9QIV.fpu9iY9zR%2FpXXDxFMY7L05rZ%2FO5IFGak%2BUpF8o%2Bed2c\nHost:beta.etherpad.org\nReferer:http://beta.etherpad.org/p/oi/timeslider\nUser-Agent:Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_2) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.95 Safari/537.11\nResponse Headersview source\nConnection:keep-alive\nContent-Type:text/plain\nDate:Mon, 03 Dec 2012 13:44:24 GMT\nServer:nginx/0.8.54\nTransfer-Encoding:chunked\nX-Powered-By:Express\n. This might be what you need #697 (see the relevant comment)\n. Maybe we should switch master & dev branch without telling anybody? :-D\n. @marcelklehr: resolved my issue with the authors - was false alarm (called the wrong pad) -> changed the issue title and modified my post\n\nRegarding the '%': the obove output is from the log-file; but when is call the API directly via browser, i have to use % instead of '$', otherwise the pad will not be found.\n. way tooo strange... cannot completely reproduce that anymore; have another related issue right now, but might be related to my scripts... closing that now.\n. @Gared k, here sth. to begin with....\nwanted to give it a quick try; \nwhereas in src/node/db/AuthorManager.js (line 172) sth. like\nexports.getAuthorName = function (author, callback)\n{\n    var AuthName;\n    db.getSub(\"globalAuthor:\" + author, [\"name\"], function(err, authName)\n    {\n        if(ERR(err, callback)) return;\n        else callback(null, {authorName: authName});\n    }\n);\n}\nwould do what you want for the http-api, it screwed up displaying the author name correctly in the pad-view... whenever I tried to to apply corresponding changes to Pad.js & PadMessageHandler.js, I either got an exception accessing an undefined variable, or it was displayed as [object Object]... please someone jump in :-)\n. I don't see the benefit here; actually it doesn't matter who runs node. More likely I will have two instances of node running, one for EPL and one for sth. else; therefore I would prefer to know which instance belongs to which application. \n. guess everything is said here\n. See also #1215 \n. same here....\n```\nnode bin/checkPad.js [padID] (\"blurred\" real id due to privacy reasons) \n/home/epl/epl_126/src/static/js/pluginfw/hooks.js:73\n  if (exports.plugins.hooks[hook_name] === undefined) return [];\n                     ^\nTypeError: Cannot read property 'hooks' of undefined\n    at Object.exports.callAll (/home/epl/epl_126/src/static/js/pluginfw/hooks.js:73:22)\n    at Object.Pad.init (/home/epl/epl_126/src/node/db/Pad.js:360:11)\n    at /home/epl/epl_126/src/node_modules/ueberDB/CloneAndAtomicLayer.js:100:17\n    at exports.database.get (/home/epl/epl_126/src/node_modules/ueberDB/CacheAndBufferLayer.js:157:5)\n    at doOperation [as operatorFunction] (/home/epl/epl_126/src/node_modules/ueberDB/CloneAndAtomicLayer.js:94:18)\n    at iterator (/home/epl/epl_126/src/node_modules/ueberDB/node_modules/channels/channels.js:46:15)\n    at /home/epl/epl_126/src/node_modules/ueberDB/CloneAndAtomicLayer.js:103:7\n    at exports.database.get (/home/epl/epl_126/src/node_modules/ueberDB/CacheAndBufferLayer.js:198:7)\n    at exports.database.get (/home/epl/epl_126/src/node_modules/ueberDB/mysql_db.js:98:5)\n    at Query.Client.query (/home/epl/epl_126/src/node_modules/ueberDB/node_modules/mysql/lib/client.js:108:11)\n```\nUsing mysql db. I wanted to check for a pad which I imported from our old Etherpad instance which gives me a log entry when accessing as follows:\n[2013-01-28 14:41:23.026] [WARN] console - WARNING: Found broken chat entry in pad [padID]\n. @PostBlue is this still apparent? Should be fixed meanwhile, if I conclude correctly.\n\nAh, still an issue for redis/couch/mongo....\n. @JohnMcLear I guess you did not get what I was trying to explain :-)\nI guess you are referring to the binding-ip. But if you use EPL not only behind an app, but also publicly, it would be nice to have some ip-logging - although I am a friend of pirate pads ;-)\nI am talking about the IP addresses of people creating/accessing a pad. Like an apache access log. Maybe a separate log file (additionally to /var/log/etherpad-lite/etherpad-lite.log), e.g. etherpad-lite-access.log, containing creating/accessing pads entries like in the current EPL log file, but instead of all file accesses only creation/accessing/modifying (/w revision info) infos. e.g. instead of\n[2013-01-24 16:11:06.313] [INFO] http - 200, GET /p/logip\n[2013-01-24 16:11:06.414] [INFO] http - 200, GET /static/js/html10n.js\n[2013-01-24 16:11:06.415] [INFO] http - 200, GET /static/custom/pad.css\n[2013-01-24 16:11:06.415] [INFO] http - 200, GET /static/css/pad.css\n[2013-01-24 16:11:06.420] [INFO] http - 200, GET /static/js/require-kernel.js\n[2013-01-24 16:11:06.421] [INFO] http - 200, GET /static/js/l10n.js\n[2013-01-24 16:11:06.472] [INFO] http - 200, GET /javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define\n[2013-01-24 16:11:06.501] [INFO] http - 200, GET /javascripts/lib/ep_etherpad-lite/static/js/ace2_common.js?callback=require.define\n[...]\nsomething like\n[2013-01-24 16:11:06.313 165.122.34.6] [create pad]  /p/logip\n[2013-01-24 16:11:08.415 182.16.2.122] [access pad]  /p/logip\n[2013-01-24 16:11:12.313 165.122.34.6] [modify pad]  /p/logip (rev 1)\n[2013-01-24 16:11:14.313 165.16.2.122] [modify pad]  /p/logip (rev 2)\n[...]\n. @JohnMcLear which setting in settings.json do you refer to?\n. it was set to 127.0.0.1, becuase I was using nginx as a reverse proxy to be able to use SSL. Just found out (while comparing setting.json.template to my own settings.json which is ages some releases...) that noed.js now natively supports SSL. So I disabled nginx and configured EPL to use SSL via node.js. There I set the IP to 0.0.0.0, in order to make the pads accessible publicly.\n. The user-IP info I referred to\n[2013-01-24 14:29:47.196] [INFO] message - to X61TZLoSCIJjCN6_efal: {\"type\":\"COLLABROOM\",\"data\":{\"type\":\"USER_LEAVE\",\"userInfo\":{\"ip\":\"127.0.0.1\",\"colorId\":\"#754d80\",\"userAgent\":\"Anonymous\",\"userId\":\"a.8mKmFQrR9UwHGThM\"}}}\nseems to be even hardcoded:\n./src/node/handler/PadMessageHandler.js:121:            \"ip\": \"127.0.0.1\",\n./src/node/handler/PadMessageHandler.js:1092:           \"ip\": \"127.0.0.1\",\n./src/node/handler/PadMessageHandler.js:1161:           \"ip\": \"127.0.0.1\",\nas well as the userAgent\nSo if I understand everything correctly I should split my concern into a bug and a separate feature request (regarding the possibility to separately log pad accesses and modifications).\n. @JohnMcLear OK, as I seemed to be wrong about my issue, the current behavior looks OK.\nThen now only my feature request is left.\nThe thing is: I had (using nginx as reverse proxy to obtain SSL). But having no need for nginx at that point any more, there is no \"log\" layer left between EPL and the clients.\nTherefore my request for being able to log the clients IPs is of even greater importance now. IMHO the nicest way to handle that cleanly would be an option to enable logging the infos I proposed into a separate file.\n. The log4j feature? \n. Well, as the fundamentals already exist... one of you is doing me that favor and adds that feature? :)\n. no one else interested in that?\n. me gusta... :)\nthx\n. +1, like that style :-)\n. I think gettext which exist for plain text as well as for HTML. But maybe additionally returning plain text rather than raw would not be a bad idea. .\n. Hand exactly the same in mind but did not succeed in finding existing issue...\n. crap... i guess the diffs should be diffed... don't know how this happened, but unfortunately be first change seems to have one more semicolon :-D\n. just recreated the pull request as the first was not clean; everything's fine now :)\n. Are you using node.js v0.8.20?\n. This seems to be the same as #1541 I guess...\nDon't want to state that this is a duplicate of the mentioned issue, but the reason for the behavior might be the same...\n. when you reported the error first it you must have been using node.js v.0.8.19, because v0.8.20 was released like one week ago... did anything change  regarding the log? Maybe try to go back to 0.9.19 with you actual settings (without rewrite rule) and check again.\n. Ah well, just a note about my observations.... the errors i ran into might result from the fact that the versions I referenced as not working simply do not exist :-)\nSo v. 1.8.3 is the latest working jquery version available.\nv.1.9.0 had some more changes in the api which I guess is the reason for not working. If requested i might have a look into the code and apply necessary changes for migration.\n. Maybe it's worth going smaller steps; would be nice to see no new bugs arise with v.1.8.3; I will provide necessary changes for v.1.9.0 a bit later. What do you think?\n. Not quite sure about CDN... we'll see; I'd say go for the merge (a whole year of changes in between the both releases - the changelog is really a bit long to scan for changes for which I don't know if they affect EPL :-) ). If that works well for everybody I'd provide fixes for v.1.9.0.\nA problem there is that the function .browser() (deprecated since v.1.3) is now removed. In v.1.9 they went away from thinking in 'browsers' and want us think in 'features'.\n\nTo cite the five-year-old message from the jQuery docs: \"We recommend against using this property; please try to use feature detection instead (see jQuery.support). jQuery.browser may be moved to a plugin in a future release of jQuery.\" api.jquery.com/jQuery.browser VS. api.jquery.com/jQuery.support (http://stackoverflow.com/questions/14365725/easiest-lightest-replacement-for-browser-detection-jquery-1-9)\n\nI'd have to come up with a solution to work around that.\nI think I would go for the code snippet (c.f. the stackoverflow link) first and then try to piecewise substitue the use of the .browser() calls.\n. soon\u2026 :)\n. see #1484 \n. on my MBP tested with latest Chrome/Safari - working\non sauce labs: IE8/10/FF18 (win) - working\n. tested\n- latest Chrome/Safari (OS X) - working\n- sauce labs: IE8/10/FF18 (Win) - working\n. why is that?\n\ngenerally we will have to rethink the one or other...\nOne general question is which browsers do we want to support... (ok... speaking of opera I guess we all agree that we actually do not want... ;) ).\ne.g. as of upcoming jquery 2.0 \"oldIE\" (i.e. IE 6/7/8) won't be supported anymore. But this is another thing I wanted to discuss with you. \n. As I am watching jquery releases I will take care about that. In the meantime we should try to use alternative approaches instead of using .browser(); I will try to rework the parts where .browser() is being used. Therefore I would need to know which browsers we do want to support. Then I can try to derive the supported features. Some ideas on how detection might be done in future if it is really necessary to do so, can be found here: IE6 detection example\n. I completely agree; just hadn't enough time to finish the whole project at once. Thus my suggested approach is the result. But the primary intention was to update as soon as possible and to appeal to try to use .support instead of .browser from now on to avoid creation of even more code to be reviewed/rewritten..\nYeah, really should drop .browser...\nAnyway... also modifying versions in installDeps on available updates is somehow \"human interaction\"... :)\n. There is however something worth to be mentioned; as the API-list is not an array but an object, I cannot simply access the last entry, but have to loop over all entries of the object. However, the ordering of an object is not guaranteed; but, from what I understand in our case this is gonna work for us (c.f. ordering on objects)\n. I agree, but this is somehow a special case; as one maybe does not know which API is available, best practice would be to check v1; but only adding that endpoint to v1 is somehow... incomplete; nevertheless which API is being used atm, one should be possible to query the latest available.\n. sounds like a good idea\n. Well, Marcel was not so happy about my proposed solution;\nI had a look into the src but could not find out yet how to implement what he would like to have\n. lol... updated the pull request... like epl's rev system... every change a commit :-D\n. recreated the pull request: #1512 (this one got a bit messy...)\n. mh, not ready to pull yet... does not handle case of non-existing readonlyPadID correctly...\n. Will arrive soon; just played a bit with jslint/jshint (was wondering if there's not way to find out about unused/undeclared variables and stuff) and am going to send PRs for different stuffs like missing semicolons and so on\n. :)\n. That's also somehow related to #1419\n\nJust a thought on import, it shouldn't be able to completely reset all revisions, we're gonna have to ponder this through.. \n. Ah dough, misread that; did't look at the issue title that exactly and read that resetting the history should be able; i terms of - let's say: ah, ok, we now have like 1000 revisions; let's summarize every 10 revisions into 1 and end up with like 100 revisions; or let's drop all the revisions from r123 and r654 and things like that.\nThat's also somehow related to #1419\n\nJust a thought on import, it shouldn't be able to completely reset all revisions, we're gonna have to ponder this through.. \n. Sounds good\n\nWe might need to provide a granularity setting or so?\n. Is the issue title still referencing to the problem or do you simply want to have feedback about the current status\u2026\n\nAre we looking for a good way to validate HTML?\nYou mean sth. like http://ericleads.com/h5validate/ ? Ot maybe this (https://github.com/peterjwest/html_validator) would be a something to start with?\n. I am using the epl client (php-vers.)\nfor a user i created an authoir, a group, a group pad, a session. When I now provide the pad url to the user and he visits the pad via the browser then there is no user name set.\nAs soon he makes some changes an additional author is created; I want the author of the pad to be the \"creator\" automatically (when creating via API). I guess when using something like setText/setHTML via the client then the author is used correctly.\nA key feature will be to share pads among other users. Therefore I distinguish between 'own' pads, created by the user, and foreign pads, which one gets access to by other users; these would then the ones being listed by the suggested API function. I guess the own pads also will get listed there, so I have to substract the own pads from the list of pads which one is author of and get my wanted result.\n. Anything new here?   * gently bumping *\nImho this is something veeery important. Unfortunately I don't know how I could fix that. I am working on an owncloud plugin atm and I am looking forward to finish this project with a nice solution to be contributed to the community as soon as it is ready to be used in a productivity environment. \n. will test later today\n. confirming working as well....\n. I mean, if I create one which is valid for 10 minutes, and another, which will be valid for only 5 minutes, how long will my session be valid then.\nI am creating an owncloud app for EPL. Whenever a user is inside the epl app the session should be \"refreshed\". Instead of manually look for an active session, deleting it and creating a new one, or even worse, creating everytime a new session polluting the db does not sound like the best approach...\n. OK, I did some testing;\nThe scenario: as soon as the user visits the pad panel in my app I want a valid session for him 2be created. So I do resulting in having a valid session, let's say valid for 1 hour.\nBut as I want to \"refresh\" that session I create a session whenever he visits this panel again, to set the cookie validity to 1 hour again. This, however, results in a new session-key in the db. Also for every session key the sessionID gets appended to the \"group2sessions\"-key value as well as to the \"author2sessions\"-key value.\nThis really pollutes the DB. For 5k users actively using that app und the pads the result would be insane!\nFor now I'm reducing that effect by setting validity to 3 hrs and only recreate a session, if the old one is older than 10% of that 3 hrs.\nThus, adding a session for a author/group, old sessions should be removed from db.\n. Any comment on that? Issue has the label \"Waiting on Testing\"; this is what I did :-)\n. this is fancy!\n. I'm going to have a look at the PHP version of the client, as this is what I am working currently with.\n. I cannot test this btw; as soon as i change the port, the host changes to 0.0.0.0.\n0 : error http://0.0.0.0:9876/rest/1.2.7/api/pad?api_key=blahblah\n\nK, tracked down the problem to my settings file; to ease things I bind to 0.0.0.0 resulting in getting redirected to that ip\n. The API versions do not match\u2026 ?\n\nhttp://debian:9001/rest/1.2.81/api/pad?api_key=test\nShould work right?\nI get\nCannot GET /rest/1.2.7/api/pad?api_key=test\n\u2014\nReply to this email directly or view it on GitHub.\n. 1.2.7 is the latest API in APIHandler.js;\n\nAm I missing something?\n\n/rest/1.2.9/api/pad?api_key doesn't work..\nSo what am I missing here?\n. I already had some thought about updating the API logic in a way that API(1.2.7) is like += API(1.2) + new functions\n\nor something like that and a list list of currently available API versions; currently the copy pasting of currently existing functions from API vera. to the next one is weird ^^\n\nI see :) Totally forgot it doesn't track actual v#\n. @marcelklehr: see #1638 \n. Yeah, I'm aware of your work. But as far as I could tell my PR doesn't interfere with either of your commits.\n. OK, just had a look at APIhandler and as neither of your commits touched the huge list \"version\" I tried to compact that construction \n. OK, I understand;\n\nmaybe #1638 might still be nice if we chose a way of providing compatibility for existing clients (which we were afraid of getting broken by your work).\nThat way there would be enough time to adapt the existing clients appropriately until we have all clients getting auto-built.\n. Could this also speed up a \"first connect\" to EPL? Which is necessary to cache jquery, and other stuff?\nHaving a clear cache this really takes some time\u2026\n. I'm not quite sure but i thought it only gets logged in debug mode. But an option to toggle the logging might be of interest either way :)\n. \"listAllPads returns empty list / only once opened pads\" OR just created...\nAm 22.02.2013 um 13:55 schrieb machtfuernacht notifications@github.com:\n\ngit Branch: develop ( 654175d )\nueberDB version: 0.1.93\nAPI version: 1.2.7\n\u2014\nReply to this email directly or view it on GitHub.\n\n\nManuel Knitza\nDistributed Systems Group\nUniversity of Konstanz, Germany\nPhone: +49 7531 88-4734   Fax: +49 7531 88-3739\n. maybe I will have a look into the list_pads plugin (not sure if the behavior is the same or if it returns all pads belonging to a group.)\nmaybe i will come up with a solution as I already have some code snippets in use which query around the api-restrictions (query all groups -> query all pads of the groups -> dismiss duplicates; this is s.th. I want to improve)\n. That's nice!\n. @marcelklehr not really; it matters for being rendered in the admin panel where \"settings\" simply throws \"no valid json\" or sth like that if thats the case.\nJust tested on latest dev branch and it works with the settings template\n. tried that, nothing changed (also deleted /node_modules)\naccording to npm list log4js version is 0.5.6 in both cases.\n\nmanually set the version to be 0.5.7; gave me\nnpm WARN unmet dependency /home/epl/epl_128/src/node_modules/log4js requires async@'0.1.15' but will load\nnpm WARN unmet dependency /home/epl/epl_128/src/node_modules/async,\nnpm WARN unmet dependency which is version 0.1.22\nnow version 0.5.7 got installed but nothing changed with the problem\n\nwas playing with the packages. added different smpt-modules and tried to get it working with some of them; meanwhile the error changed to:\n/home/epl/epl_128/src/node_modules/log4js/lib/log4js.js:205\n            throw new Error(\"Problem reading log4js config \" + util.inspect(co\n                  ^\nError: Problem reading log4js config { appenders: \n   [ { type: 'console', makers: [Object] },\n     { type: 'file',\n       filename: '/var/log/etherpad-lite/pad_access.log',\n       maxLogSize: 16384,\n       backups: 3,\n       category: 'access',\n       makers: [Object] },\n     { type: 'logLevelFilter',\n       level: 'error',\n       appender: [Object],\n       makers: [Object] } ] }. Error was \"Cannot call method 'bind' of undefined\" (TypeError: Cannot call method 'bind' of undefined\n    at Object.loadAppender (/home/epl/epl_128/src/node_modules/log4js/lib/log4js.js:292:66)\n    at Object.configure (/home/epl/epl_128/src/node_modules/log4js/lib/appenders/logLevelFilter.js:14:12)\n    at /home/epl/epl_128/src/node_modules/log4js/lib/log4js.js:148:59\n    at Array.forEach (native)\n    at configureAppenders (/home/epl/epl_128/src/node_modules/log4js/lib/log4js.js:144:22)\n    at configureOnceOff (/home/epl/epl_128/src/node_modules/log4js/lib/log4js.js:196:13)\n    at Object.configure (/home/epl/epl_128/src/node_modules/log4js/lib/log4js.js:256:5)\n    at Object.reloadSettings (/home/epl/epl_128/src/node/utils/Settings.js:189:10)\n    at Object.<anonymous> (/home/epl/epl_128/src/node/utils/Settings.js:204:9)\n    at Module._compile (module.js:449:26))\n    at configureOnceOff (/home/epl/epl_128/src/node_modules/log4js/lib/log4js.js:205:19)\n    at Object.configure (/home/epl/epl_128/src/node_modules/log4js/lib/log4js.js:256:5)\n    at Object.reloadSettings (/home/epl/epl_128/src/node/utils/Settings.js:189:10)\n    at Object.<anonymous> (/home/epl/epl_128/src/node/utils/Settings.js:204:9)\n    at Module._compile (module.js:449:26)\n    at Object.Module._extensions..js (module.js:467:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Module.require (module.js:362:17)\n    at require (module.js:378:17)\nreverted my changes but cannot get back to the first error I got; nothing changed in setting.json! :-/\n. congrats; that's the solution\n. y u no pull?\n. Yeah, I can see you concerns, but IMHO, this case should not be considered as edge case.\nIn a productivity environment every action causing an error should be inspected. As this could be quite a difficult task when having to search the logs, this feature is amazing! For every problem you get a separate email. What else would one need?\nThis also might improve development of this app, as it is not only much easier to quickly respond to an error, but to notify immediately about problems (My mail client always is open, my terminal with tail -f logfile isn't...)\n\nI bothered to check the dependencies for nodemailer. As we can see (the bold ones) we either already use that dependency or they are all by the same maintainer AND at the same time not used by any other packages/dependencies. Regarding your concerns about the deps I think we are on the safe side:\n```\n\u2502 \u251c\u2500\u252c nodemailer@0.3.43 extraneous\n\u2502 \u2502 \u251c\u2500\u252c mailcomposer@0.1.29      (same maintainer as nodemailer)\n\u2502 \u2502 \u2502 \u251c\u2500\u2500 mime@1.2.9\n\u2502 \u2502 \u2502 \u2514\u2500\u252c mimelib@0.2.10         (same maintainer as nodemailer)\n\u2502 \u2502 \u2502   \u251c\u2500\u2500 addressparser@0.1.3  (same maintainer as nodemailer)\n\u2502 \u2502 \u2502   \u2514\u2500\u252c encoding@0.1.5       (same maintainer as nodemailer)\n\u2502 \u2502 \u2502     \u2514\u2500\u2500 iconv-lite@0.2.7   NODEPS\n\u2502 \u2502 \u251c\u2500\u252c optimist@0.3.5\n\u2502 \u2502 \u2502 \u2514\u2500\u2500 wordwrap@0.0.2\n\u2502 \u2502 \u2514\u2500\u252c simplesmtp@0.2.3         (same maintainer as nodemailer)\n\u2502 \u2502   \u251c\u2500\u2500 rai@0.1.7              NODEPS\n\u2502 \u2502   \u2514\u2500\u2500 xoauth2@0.1.6          NODEPS\n\n\u251c\u2500\u252c ep_etherpad-lite@1.2.9 -> /home/epl/epl_dev/src\n\u2502 \u251c\u2500\u252c clean-css@0.3.2\n\u2502 \u2502 \u2514\u2500\u2500 optimist@0.1.9\n\n\u251c\u2500\u252c ep_etherpad-lite@1.2.9 -> /home/epl/epl_dev/src\n[...]\n\u2502 \u251c\u2500\u252c connect@2.4.6\n\u2502 \u2502 \u2514\u2500\u252c send@0.0.4\n\u2502 \u2502   \u251c\u2500\u2500 mime@1.2.6\n[...]\n\u2502 \u251c\u2500\u252c express@3.1.0\n\u2502 \u2502 \u2514\u2500\u252c send@0.1.0\n\u2502 \u2502   \u2514\u2500\u2500 mime@1.2.6\n[...]\n\u2502 \u251c\u2500\u252c jsdom-nocontextifiy@0.2.10\n\u2502 \u2502 \u251c\u2500\u2500 mime@1.2.9\n[...]\n\u2502 \u251c\u2500\u252c swagger-node-express@1.2.3\n\u2502 \u2502 \u251c\u2500\u252c connect@2.7.3\n\u2502 \u2502 \u2502 \u2514\u2500\u252c send@0.1.0\n\u2502 \u2502 \u2502   \u251c\u2500\u2500 mime@1.2.6\n[...]\n\u2502 \u251c\u2500\u252c wd@0.0.31\n\u2502 \u2502 \u251c\u2500\u252c request@2.12.0\n\u2502 \u2502 \u2502 \u2514\u2500\u2500 mime@1.2.7\n```\n. oki\n. Isn't it exactly the same there?\nThe pad title is the same as the end of the url which gets created randomly. \nThe Page title of the pad (http://free.primarypad.com/p/TqJnqQShkG) is \"TqJnqQShkG | Etherpad Lite\"\n. OK, this is not the point; I cannot create two pads with the same title;\nTherefore I want the pads to exist with a random pad id each, but being able to provide an additional name via \"?title=\" in url;\nyour approach is somehow fine with public pads, but with a group pads the groupID automatically gets copied into the page title which is not necessary.\nI do not want the page title to be \"g.q240cvxdIjwezghI$9b12f23| | Etherpad Lite\"\n. OK, this looks nice; how did you solve that?\n. Two instances of epl running over here;\ncurling them:\n```\ntuser@etherpad-lite:~$ curl -v --form press=OK 127.0.0.1:9012\n About to connect() to 127.0.0.1 port 9012 (#0)\n   Trying 127.0.0.1... connected\n\nPOST / HTTP/1.1\nUser-Agent: curl/7.22.0 (x86_64-pc-linux-gnu) libcurl/7.22.0 OpenSSL/1.0.1 zlib/1.2.3.4 libidn/1.23 librtmp/2.3\nHost: 127.0.0.1:9012\nAccept: /\nContent-Length: 142\nExpect: 100-continue\nContent-Type: multipart/form-data; boundary=----------------------------e55ee35c945b\n\nEmpty reply from server\nConnection #0 to host 127.0.0.1 left intact\ncurl: (52) Empty reply from server\nClosing connection #0\ntuser@etherpad-lite:~$ curl -v --form press=OK 127.0.0.1:9876\nAbout to connect() to 127.0.0.1 port 9876 (#0)\n\nTrying 127.0.0.1... connected\nPOST / HTTP/1.1\nUser-Agent: curl/7.22.0 (x86_64-pc-linux-gnu) libcurl/7.22.0 OpenSSL/1.0.1 zlib/1.2.3.4 libidn/1.23 librtmp/2.3\nHost: 127.0.0.1:9876\nAccept: /\nContent-Length: 142\nExpect: 100-continue\nContent-Type: multipart/form-data; boundary=----------------------------abb816c46127\n\n\nEmpty reply from server\n\nConnection #0 to host 127.0.0.1 left intact\ncurl: (52) Empty reply from server\nClosing connection #0\n```\n. Actively broken\n. You got the table plugin installed?\n\nIt's possible that node 10 broke my timeslider, but that didn't work on my server until recently anyway.\n. @onny, @chrisballinger, @mmccarn, @diolwe \n\ncould you test #1623 and share your experience?\n. k, b3988e3 actually breaks this PR for me, digging deeper....\n. @marcelklehr \n\nCurrently the server hangs after a few requests... :/\n\nplease define \"a few\"\netherpadstresstest (--clients=lurk:15,write:8) was so kind to create a pad for me - 233 revisions, still responsive \n- imho epl works fine with nodejs (v0.10.2) after a \"quick\" test. \n- seems to work with node 0.6.19 as well\n. @dshadowwolf Thanks for your observations; I'll test that later today\n. still I don't know more yet :)  what's the problem? what are the steps to produce the probs?\n. nice, dirty is what I suspected, as I could not reproduce with mysql\n. This part I can confirm; had that too; but as I do not use pg and my instance works I didn't care too much about it...\n\n\npg@0.14.1 install /home/etherpad/etherpad-lite/src/node_modules/ueberDB/node_modules/pg\nnode-gyp rebuild || (exit 0)\n\n/bin/sh: pg_config: not found\nTraceback (most recent call last):\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp_addon\", line 38, in \n    rc = gyp.main(gyp_args)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/init.py\", line 471, in main\n    options.circular_check)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/init.py\", line 111, in Load\n    depth, generator_input_info, check, circular_check)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 2289, in Load\n    depth, check)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 387, in LoadTargetBuildFile\n    build_file_path)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 1010, in ProcessVariablesAndConditionsInDict\n    build_file)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 1025, in ProcessVariablesAndConditionsInList\n    ProcessVariablesAndConditionsInDict(item, is_late, variables, build_file)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 984, in ProcessVariablesAndConditionsInDict\n    ProcessConditionsInDict(the_dict, is_late, variables, build_file)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 861, in ProcessConditionsInDict\n    variables, build_file)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 1010, in ProcessVariablesAndConditionsInDict\n    build_file)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 1029, in ProcessVariablesAndConditionsInList\n    expanded = ExpandVariables(item, is_late, variables, build_file)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 696, in ExpandVariables\n    (contents, p.returncode))\nException: Call to 'pg_config --libdir' returned exit status 127. while trying to load binding.gyp\ngyp ERR! rebuild error Error: gyp_addon failed with exit code: 1\ngyp ERR! rebuild error     at ChildProcess.onCpExit (/usr/lib/node_modules/npm/node_modules/node-gyp/lib/configure.js:280:16)\ngyp ERR! rebuild error     at ChildProcess.EventEmitter.emit (events.js:91:17)\ngyp ERR! rebuild error     at Process._handle.onexit (child_process.js:674:10)\ngyp ERR! not ok\n. mh, nope \n\nhttps://github.com/Pita/ueberDB/blob/master/package.json\n\nHrm, pg is a dep of ueberDB afaik.\n. not sure if this is a chrome related behavior; if you use the etherpad_stresstes (dunno whats the exact filename) and watch the tested pad you can also observe the same\n. what does your plugin provide? the desciption states it's adding to DISable the wrapping? Either way (using chrome) the installed plugin does nothing change on my pad created with the etherpad-stresstest; also have \"offscreen\" lines in there\n. 21st century and still browser problems? srsly? actually we already should have the hover boards boards from back to the future; but struggling with damn browsers? \n\nhttp://sphotos-b.xx.fbcdn.net/hphotos-prn1/534794_319673981432184_1616872176_n.jpg\nsry for being offtopic\u2026\n. As I am experiencing the same with Chrome I applied your changes to the css; actually it didnt resolve the issue for me; my issue exists for chrome, but not for safari; john was not able to reproduce on my pad :-/\n. could you drop me a mail? mk@uni.kn\n. k, after clearing the cache a second time, this fixed it for me as well!\n. whats the prob with moving between instances and hashed pwd's? Imho it doesn't matter, if I copy/paste my password or a hash of it ?!?\n. Let's see:\nDamn it, i'll repost with debug level soon\n@marcelklehr:\n- fresh git pull from dev\n\nconsole:\n~/_epl_live$ bin/run.sh \nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\n  npm WARN prefer global npm@1.2.15 should be installed with -g\npg@0.14.1 install /home/epl/_epl_129/src/node_modules/ueberDB/node_modules/pg\nnode-gyp rebuild || (exit 0)\nYou need to install postgresql-server-dev-X.Y for building a server-side extension or libpq-dev for building a client-side application.\ngyp: Call to 'pg_config --libdir' returned exit status 1. while trying to load binding.gyp\ngyp ERR! configure error \ngyp ERR! stack Error: gyp failed with exit code: 1\ngyp ERR! stack     at ChildProcess.onCpExit\ngyp/lib/configure.js:416:16)\ngyp ERR! stack     at ChildProcess.EventEmitter.emit (events.js:99:17)\ngyp ERR! stack     at Process._handle.onexit (child_process.js:678:10)\ngyp ERR! System Linux 3.2.0-39-generic\ngyp ERR! command \"node\" \"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\" \"rebuild\"\ngyp ERR! cwd /home/epl/_epl_129/src/node_modules/ueberDB/node_modules/pg\ngyp ERR! node -v v0.8.22\ngyp ERR! node-gyp -v v0.8.5\ngyp ERR! not ok \nnpm@1.2.15 node_modules/npm\nueberDB@0.1.96 node_modules/ueberDB\n\u251c\u2500\u2500 channels@0.0.2\n\u251c\u2500\u2500 node-redis@0.1.5\n\u251c\u2500\u2500 dirty@0.9.6\n\u251c\u2500\u2500 async@0.1.15\n\u251c\u2500\u2500 helenus@0.6.2 (node-uuid@1.3.3, helenus-thrift@0.7.3)\n\u251c\u2500\u2500 mysql@0.9.5 (hashish@0.0.4)\n\u2514\u2500\u2500 pg@0.14.1 (deprecate@0.1.0, generic-pool@2.0.3)\nnodemailer@0.3.44 node_modules/nodemailer\n\u251c\u2500\u2500 optimist@0.3.5 (wordwrap@0.0.2)\n\u251c\u2500\u2500 simplesmtp@0.2.4 (xoauth2@0.1.7, rai@0.1.7)\n\u2514\u2500\u2500 mailcomposer@0.1.31 (mime@1.2.9, mimelib@0.2.12)\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2013-03-29 20:58:58.963] [INFO] console - Installed plugins: ep_etherpad-lite, ep_headings\n[2013-03-29 20:58:58.994] [INFO] console - Your Etherpad Lite git version is f1b60e9\n[2013-03-29 20:58:58.995] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2013-03-29 20:58:59.023] [INFO] console - SSL -- enabled\n[2013-03-29 20:58:59.024] [INFO] console - SSL -- server key file: /etc/ssl/private/key.key\n[2013-03-29 20:58:59.024] [INFO] console - SSL -- Certificate Authority's certificate file: /etc/ssl/certs/key.pem\n[2013-03-29 20:58:59.104] [INFO] console -    info  - 'socket.io started'\n[2013-03-29 20:58:59.171] [INFO] console - You can access your Etherpad-Lite instance at http://0.0.0.0:9013/\n[2013-03-29 20:58:59.171] [INFO] console - The plugin admin page is at http://0.0.0.0:9013/admin/plugins\n(/usr/local/lib/node_modules/npm/node_modules/node-\n\n\n\n\nvisit/create pad\n\n\n[2013-03-29 21:06:50.287] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:06:50.588] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:06:51.140] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:06:56.702] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:06:56.802] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:06:57.003] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:06:57.103] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:06:57.403] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:06:57.503] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:06:57.603] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:06:57.709] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:07:00.603] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:07:00.805] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:07:01.004] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:07:01.104] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:07:01.305] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:07:01.413] [INFO] socket.io - handshake authorized 'ldOFQRd8oxBVeSJqu1Ag'\n[2013-03-29 21:07:01.515] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:07:01.694] [INFO] access - [CREATE] Pad \"test\": Client ldOFQRd8oxBVeSJqu1Ag with IP \"93.202.168.10\" created the pad\n[2013-03-29 21:07:01.716] [INFO] ueberDB - Flushed 6 values\n[2013-03-29 21:07:01.916] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:07:02.016] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:07:02.116] [INFO] ueberDB - Flushed 1 values\n\n\n\n\nreload sme pad:\n\n\n[2013-03-29 21:09:01.743] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:09:01.843] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:09:01.943] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:09:02.043] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:09:02.143] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:09:02.243] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:09:02.303] [INFO] socket.io - handshake authorized '3jxfSPZPbJdggQDou1Ah'\n[2013-03-29 21:09:02.343] [INFO] ueberDB - Flushed 2 values\n[2013-03-29 21:09:02.559] [INFO] access - [CREATE] Pad \"test\": Client 3jxfSPZPbJdggQDou1Ah with IP \"#.#.#.#\" created the pad\n[2013-03-29 21:09:02.644] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:09:02.743] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:09:02.943] [INFO] ueberDB - Flushed 1 values\n[2013-03-29 21:09:03.043] [INFO] ueberDB - Flushed 2 values\n[2013-03-29 21:09:03.143] [INFO] ueberDB - Flushed 1 values\n\n\n. @JohnMcLear will follow soon:\n. express_sid does not change; however this did not happen with safari...\n\nedit: yeah, confirmed chrome thing... does not happen with FF either\n. Do we trigger the sending of the session id anywhere or does this happen automatically upon requests?\n. I see... what about cleaning the session storage entries from db from time to time? That shouldn't be a prob for public pads, but I would need a way to validate validity of cookie (not if valid by expiry, but if valid on server side). For now I recreate sessions for group pads if 20% of their expiry already expired (I store the expiry time in a second cookie as there is no way of checking how much expiry time is left for a cookie - but that solution is not satisfying as well... -> #1526 )\n. > Does this problem persist w/ 1623?\n@JohnMcLear:\nYes, it does \n. Already doing that but I'm a bit confused because according nodejs v0.10 doc this should work? ... must try harder....\n. ## Well, in chrome it did for me. Didnt with ff/safari\nsent from my mobile\n. do you prefer having each PR containing one commit per file? or I'll update this PR to skip the conflicting file and queue it for later?\n. @marcelklehr I guess he's referring to different installations;\nImho this at some point of load might be a win of performance, as EPL is not really multithreaded. \n\nTo a Javascript program on node.js, there is only one thread.\nIf you're looking for technicalities, node.js is free to use threads to solve asynchronous I/O if the underlying operating system requires it.\nThe important thing is to never break the \"there is only one thread\" abstraction to the Javascipt program. If there are more threads, all they can do is queue up work for the main thread in the Javascript program, they can never execute any Javascript code themselves.\n@GoloRoden I think I was being a bit vague in my answer as to the point of causing confusion, sorry about that. As far as the user of node.js (ie the Javascript programmer) is involved, the abstraction is that there is only a single thread. In the case of the underlying runtime (v8), it uses threads internally for - for example - profiling, and it may do so freely as long as it doesn't leak that information up to the Javascript. In other words, if you dive down inside the actual runtime, you will find more than one thread helping to keep the single Javascript thread running smoothly. \u2013 Joachim Isaksson Sep 29 '12 at 9:06\n(http://stackoverflow.com/questions/12651055/does-node-js-actually-use-multiple-threads-underneath)\n\nAnyway, if I understood that correctly, there are things handled in a multithreading style way; nonetheless I guess, gaining a performance boost might be possible if running like two instances. This is definitely sth on my TODO list to test this on one of my VM's; anyone already did some testing so far?\n\nI btw. was referring to a setup like having multiple instance on the same website, used via API. I guess for example storing each comment of a discussion for an article or sth. might take up a while to load them. Having 200 pads and load each content of the pad via API and not in an iframe (of course this is much faster as the GUI does not get loaded). I'd say this process might be quicker if these comments would be load from 3 instances. Of course I would put all comments into one pad and when loading parsing the content and split it up with php... \n. @JohnMcLear from a first look into the code the script uses the API from epl; therefore it shouldn't be cached; had the caching experienced one when testing and deleting the whole content from the mysql db directly and being totally confused about the pads still being listed via api :-D\n. @dshadowwolf see #1623; could you please test?\n. Had this loading once; cleared cache and things worked\n. ## It's still an open task to rework the browser detection. As of jquery 1.9 we should check for avail. features instead of browsers.\nsent from my mobile\n. 1.2.10 is somehow weird compared to 1.2.91 (former version should have been like 1.2.9.1 then, or the new one should be 1.2.92\n. Actually I don't mind, as this does not really affect me either way; regardless what the version might be called; if there is a new one out I pull master - that's it.\nJust wanted to drop my thoughts as this seemed counter-intuitive at the first glance...\n. silence before the storm :)\n\nah, sorry. I forgot about this.. Things have gotten a little quieter in the ethervalley lately ;)\n. Ah, had the same issue once upon a time -> #1399 ; The reason I was using nginx was because SSL wasn't supported by node.js back then; as it's now, I do not use nginx anymore.\n. lol, wtf ?!? confirmed!\n\nJohn McLear notifications@github.com:\n\nI don't see this\n. Chrome v26.0.1410.65 here; \nAm 30.04.2013 um 03:47 schrieb Riseup Labs notifications@github.com:\nmy chromium version is 26.0.1410.43\n. It somehow must be related to a cursor position function;\nthe cursor walks everytime the cursor appears while blinking\n. Don we already have the raw export of pads working? If so, could you provide such an export of that pad?\n. Isn't that the purpose of the password?\n\nIf everyone should have access, no password is used; if you want to further restrict despite existing valid session you can use the password mechanism to do so\n. I see your point; so far we theoretically only share pads internally. Our groups are rather small, namely 1 user per group :) Most likely a pad will be shared publicly which is not shared among other groups or the other around.\nI'd prefer a solution which doesn't make things more complicate for me :)\n. maybe \"lower\" might be misunderstandable; imho it's: INFO<WARN<ERROR; thus it's actually \"same or higher level than xy\";\nso, if you want to get notified about warn, it has to be set to warn.\n. lol, 2 informations stretched too far apart from each other; so, everything is fine -.-\nthanks for the \"time for a coffee\"-reminder\n. At least in settings.json \"Lite\" is dropped; was there a reason to drop? Actually I was a fan of the 'lite'-reference; but it's not my decision; so if appreciated i'll create a PR for the missing changes of the 'lite'-removal.\n. ah, ooops, k ;)\n. ",
    "mrbabbs": "Hi everyone,\nI know the issue is closed, but it could help someone.\nI developed a basic import plugin \"ep_document_import_hook\" to import document with different tools than AbiWord. \nCurrently, it only uses LibreOffice to import documents, but who wants can fork.\nThe plugin is also available in /admin/plugins.\nhttps://www.npmjs.com/package/ep_document_import_hook\n. ",
    "nadavkav": "Two button, for RTL and LTR are enough for me.\nI am referring to the two button you see on the right-most side of the 3rd line in the TinyMCE example:\nhttp://www.tinymce.com/tryit/full.php\nNo need for browser detection, as far as i am concern.\n. For now, i use a workaround this issue by clicking Firefox's right-click-context menu action \"Switch Page direction\" when inside the text area of the etherpad-lite editor.\n. ",
    "mushon": "+1 for this super important feature. Seems like the implementation shouldn't be rocket science, much like the ul is implemented, rtl can be added to the line:\n<div dir=\"rtl\">\u2026</div>\nRegarding @nadavkav's point about buttons, rather than having two of them I think we can work with a single toggle button.\nPlease please consider the digital language divide and consider prioritizing this issue accordingly.\n. ",
    "sembrestels": "Another solution would be to add etherpad lite in the path: example.com/pad\nCookie would work fine, and it can be configured with the proxy pass, if pad is in another server. The question is etherpad lite can work in a subpath?\n. Ok, it can work with some apache configurations. Let's close it.\n. I had this issue because etherpad session was expiring too early.\n. ",
    "bjhirsch": "@sembrestels: can you explain that in more detail? Can I just add the full path to the session cookie and it would work within an iframe? \n. Not sure whether you ask me, but now that I have understood better what reverse proxy does, I think it should do the trick. Still have sometimes issues with cookies (on the same domain), but that is due to my programming skills (or lack thereof) :)\n. Hi guys,\nare you sure it is a client side? I have the same issue, and it appears also with new pads (so your workaround does not work for me). The last messages I get are these:\n[2012-02-07 16:59:04.657] [INFO] http - 404, GET /minified/pad?callback=require.define\n[2012-02-07 16:59:04.662] [INFO] http - 200, GET /minified/pad.js?callback=require.define\nRegards\n. Thanks guys,\nI guess I can work with that :)\nBenjamin\n. Hi Homer,\nI am not involved in the etherpad development, and I try very hard not to look at the code, but I had issued with Umlaute when working with etherpad. I do not know if you are coding in PhP, but you have to make sure that you use utf8_encode, esp. when doing json_decode stuff. (In my case, json_decode(utf8_encode(string))) did the trick.\nI have no idea whether that helps or not....\nRegards,\nBenjamin\n. Hi,\nis there any progress on this? I am very much waiting for exactly this functionality (preferrably being able to pick and choose which buttons to show)...\nBenjamin\n. This is a gentle request for a status update. I have to decide whether to wait for your implementation or do things \"by hand\"... \n. Thanks for the headsup. Would it work for me to just edit the /src/templates/pad.html? or would that (potentially) break anything?\nRegards,\nBenjamin\nFrom: cohitre [mailto:notifications@github.com]\nSent: 13 August 2012 12:16\nTo: Pita/etherpad-lite\nCc: Benjamin Hirsch\nSubject: Re: [etherpad-lite] Wrapping the formatting toolbar into a plugin (#809)\nit'll be a while before i can do anything about this, you'll be better not waiting for this.\nhowever, you can fork this implementation and modify the \"ep_formatting/templates/buttons.ejs\" file. you can reorder and delete whatever buttons you don't need.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/Pita/etherpad-lite/pull/809#issuecomment-7685730.\n. see  #1039\n. I would very much welcome such an introduction!\n. There is a difference between Master and develop, sketchpad for example loads on master but does not load on develop.\nFurther, it appears that plugins (sketchpad again, have not checked other plugins) do not work when using reverse proxy. Any ideas on how to fix this?\n. As far as I understand, etherpad does currently not offer alternatives if used with iFrame. If there any other ways to get it to be presented within a context that lives on a different server, please let me know.\nMy workaround currently is to just not use groups (and hence no sessions, and hence no reverse proxy magic), but that is clearly a quick and dirty fix on my part.\n. ehhh. no, until this post I was not even aware of it. \nI assume you want me to find the commit that broke the sketchpad plugin? I can give it a try....\n. I played around around a bit, and (assuming I did everything right), this is what comes out:\n$ git bisect bad\n6da6a7f0d8f09668c0af234c94f41a191d4859a0 is the first bad commit\ncommit 6da6a7f0d8f09668c0af234c94f41a191d4859a0\nAuthor: Marcel Klehr mklehr@gmx.net\nDate:   Fri Jul 13 08:23:22 2012 +0200\nUse nice editbar popups for connection status instead of srceen-blocking modals.\n:040000 040000 f7f4dc9d2a2ad9dd25d097600a081690b4ef9b14 f972f25a2922c1da201a09610f6edb275fb34587 M      src\n. The sketchpad plugin loading. Before it shows, after the plugin does not load.\nSorry, I guess this thread (or my messages) are a bit all over the place, but above there was a question on plugins working on master but not on develop, and sketchpad is one plugin I am trying to work with, and has this property.\n. see  #1039\n. see  #1039\n. I had a quick look with the newest develop (4296518). Many just don't install via the web-interface and give the undefined:undefined error, so it is easier to list the ones that actually install:\n- ep_tables\n- ep_help_bubbles\n- ep_headings\n- ep_latexeport\n- ep_linkify\n- ep_monospace_default\n- ep_signature\n- ep_sociallinks\n- ep_rewrite_share_paths\n- ep_monospace_default\n- ep_twitter\nthis list is without warranty, I might have missed one or two.\nHope that helps\n. Wow, you can't wait to see the result! Thanks for you efforts already!\n. ",
    "monkey-pawan": "Hi JohnMcLear, I couldn't find the link to the video you mentioned above. Please share it, it will be a great help to me to debug how it is working and how can I tweak things as per my requirement.. This issue is still there in 1.6.1. Hi,\ncan any of etherpad maintainer tell me where the command/variables are turned into tags and their attributes are set? maybe I could help you solve this one. I need to know where it is decided whether <ul> or <ol> is to be inserted in dom and their relevant attributes are set. All I know so far is that anything other than number in doInsertList will create <ul>. I deduced few more things but they don't seem so relevant for now, maybe I could get somewhere with your help. Thanks in advance.. Hi, \nIn addition to the solution to this issue, can someone tell me which hook or code is responsible to insert line-break (<br>) on hitting enter/return so I could look around to see if I could find something. On line-break, etherpad forgets the formatting of previous paragraph/line and I want it to continue that way, particularly the line height even if there's no character other than just <br>. \nthanks in advance.. @lpagliari thank you so much for your response. Can you please help me locate where actual insertion of tags in dom is happening, particular tags like <br> and <ol>, I tried and chased it up to performDocumentReplaceRange and setAttributeOnLine respectively then lost. Are actually insertion in dom is happening in Changeset.js? Could you point me to the right place, please? thanks in advance.. I'm trying to add one more list type i.e. \"Numbered List\" leaving Ordered List as it is. The numbered list would have roman, alpha and decimal on various levels. Apparently, passing doInsertList anything other than \"number\" would create a <ul> but I want it to generate <ol> so that's what is making me look for some if or switch statement where the code chooses which tag to insert in dom.\nP.S.\nI was not able to reproduce original issue with etherpad version 1.6.1 with given steps but I noticed a few times when a div with magicdomid is created and removed [because it has no characters in it, I guess] repeatedly, which makes the cursor look bouncing back and forth but I can't reproduce the issue every time I want so can't look into it.. ",
    "jrabier": "Hello,\nThe problem still occurs with up-to-date version of etherpad-lite. \nThanks,\nJulien\n. It crashes with this pad content : https://pad.ilico.org/p/F5NCkJECId\n. This error occurs when one tries to export to pdf/doc/odt. I'm running on Debian 6.0.6.\nNode version is v0.8.17.\nnpm version is 1.2.0.\nabiword version is 2.8.2.\nI'm using the master branch, and the latest commit is : 344e8be32829a06c80b0479323fecd957e95e17b from 07/01.\n. I can confirm this issue, with a similar stack trace.\nI'm using node-v0.6.9 and revision dfa106df03b05368085eccc731bdf819e6a236d5 for etherpad-lite.\n. ",
    "taziden": "Hello,\nAny news on that issue ?\nThanks,\nJulien\n. ",
    "pdobrev": "@Pita I think the scenario I described does not happen in regular etherpad usage, that is, when the changesets come from the Etherpad editor. Since in my case I was creating the changesets \"by hand\" from other sources, I bumped into this problem, which I fixed as described above. \n. @Pita Sure, I'll swing by. Basically, I used Changeset.smartOpAssembler and Changeset.pack to create the changesets from other sources (text files in my case). That's why I can have the case I described above, which I think doesn't happen with  Etherpad's smaller changesets. \nBest regards,\nPear\n. Still doesn't appear to be merged. Without this fix, the following would result in an error:\npadManager.getPad('this-is-invalid-pad-id$@$@', function (err) {});\n. ",
    "sanjayk": "Hello, I tried with the latest version and could not get it to work, is there some I should do that I am not doing?\nThanks for the response.\n. Thank you.\n. Hi, Just tested on beta.etherpad.org and was able to reproduce, the one thing, is try next paste before the first paste finished.\n. ",
    "miau": "http://etherpad.org/etherpad-lite-win.zip does not seems to be fixed.\nIs there a plan to release Windows binary?\n. It seems that my browser (Google Chrome) caches an old binary.\nI can download new binary with another browser and it works fine.\nThank you for your information.\n. ",
    "ryrun": "The problem is updateLineNumbers() - \"ace2_inner.js:5656\".  createDocumentFragment give some small improvments to reduce the \"reflows\" to one.\n\n var container = sideDivInner;\n  var odoc = outerWin.document;\n  var fragment = odoc.createDocumentFragment();\n  while (lineNumbersShown < newNumLines)\n  {\n    lineNumbersShown++;\n    var n = lineNumbersShown;\n    var div = odoc.createElement(\"DIV\");\n    div.appendChild(odoc.createTextNode(String(n)));\n    fragment.appendChild(div);\n  }\n  container.appendChild(fragment);\n\n\n(see http://code.google.com/intl/de-DE/speed/articles/javascript-dom.html)\nBut the while loop( ... while (a && b) ... ) after, is the main problem. When this will be disabled, the loading is fast again.\n. Done, i found a way to fix this. Main issue was line \"a.style.height = ... \". On first start, every new div of line numbers will be styled. And this is too much for the browser. With documentFragements it works fine.\n. Is there a specific reason, why the line numbers will be updated every few seconds, even when nothing was changed? Maybe it wouldbe better, when a state \"pad changed\" will be set and used to trigger the update function.\nBtw. etherpad lite is nice. we used it as live editor for javascript files for developing. thats the reason, why we have so much lines :)\n. *Pads with more than 6000 lines.\n. Tested with IE8 and IE7 Emulation (IE8). Line numbering still works for me. But javascript engine of IE is too slow for huge pads.\n. You are right with the black color, my mistake. Sorry. Next time, i'll do some more tests ;) The white color wasn't 100% white. More greyish with some color.\n. ",
    "weitzman": "Crickets ....\n. So, what would be the next step here? Maybe @Pita has more time now to review the plan?\n. ",
    "stephan48": "Hi,\nis there already somebody who works on this?\nIf not i would like to begin working on some changes:\n- Make it possible to specify more than one API key in the config, so you could identify different api users\n- Make it possible to restrict certain users to only a subset of the api functions\n- As suggested in the original bug report implement a similar system which should work by first extracting all parameters a method has from the request, then after sorting the keys alphabetically run the result throu a hmac_sha256 to generate the key used to verify the hash which has been transmitted alongside the request\n- Bump API Version to 1.3.0 and require for all clients requesting 1.3.0 and above to use the new authentication system.\n- Finally introduce a option to disable legacy api auth\nThis should allow a wider range of usage for the API by allowing readonly access, a way to account actions to a special api user and a hudge security benefit while maintaining a backwards compatibility.\nKind Regards,\nStephan\n. We will have to see how to get that in the best way.\n. Hi,\nSadly i completely lost focus. I got many projects now so i will sadly have to admit that it probably makes no sense for me to continue \"blocking\" the bug.\nKind Regards,\nStephan\n. Fixed and documentated via #2165 and #2169. \n. If its really not so drastic it would also work out, maybe making both ways possible?\nSo you can have multiple author/group(s) combinations. F.e. when you have multiple pads under one Domain.\n. ye but when 1 pad can only have 1 cookie name it will still dont work to have multiple sessions :) otherwhise its an good idea\n. if 1 cookie can contain multiple sessions then not(or one session could handle multiple groups).\n. I dont use the jquery plugin atm, but that approach would also solve the problem.\n. also a good idea, maybe making the session field also an array.. so you can have multiple sessions per group.\n. any progress?\n. Sorry i had to create the request and forgott to switch the branch in the target repo to develop.\n. I fixed the example and made the return value a bit more consistent.\n. Which would be the correct version number?\n. I fixed the API version number and renamed the variable.\n. I will do so later today.\n. Documentation for the merged fix for https://github.com/ether/etherpad-lite/issues/321.\n. ",
    "theoryshaw": "Don't think there's a plugin for etherpad-lite yet, but agree with rspeer, that it would be great. \nYou guys might know about this already, but the source code for SketchSpace is located here: https://github.com/redhog/pad/commits/SketchSpace.net\nMerry Christmas.\n. Is this just the 'plugin framework' or specifically the SketchSpace plugin?\n. awesome.\n. Thanks Pita.  Would this be a tough work around?  I just know a lot of people have been asking for it via our SketchSpace instance over at http://www.openingdesign.com/ Granted, it's based on the other Rhino-based Etherpad code, but thought the front-end accommodation, would be similar.  Cheers, Ryan\n. this 'is' implemented? \n. kinda taps into this idea potentially: https://github.com/Pita/etherpad-lite/issues/319\n. Very cool.  I, and many others i know, use the 'tab indent' to convey how conversations happen and evolve over time.\nGranted there's the timeslider for this, but I've found indent tabbing conveys more quickly (at a cursory glance) how the conversation evolved.\nAlthough, I think something like this, would be the most ideal approach: https://github.com/Pita/etherpad-lite/issues/319\n. Experiencing the same.  Tried opening: http://beta.etherpad.org/p/fGnUlX6MEY\nin both Chrome and Firefox, with cleared cache. \n. hmmm... seems to be loading now for me. (although it took about 20secs to load)\ndid not load 'at all' last time. weird.\n. I 2nd @timtebeek sentiment.\n. yeah, nope.... neighbor's computer is experiencing the same as well. \n. ...same problem on home computer as well. \n. chrome: 19.0.1084.56 m\nfirefox: 10.0.2\n. chrome: 19.0.1084.56 m\nfirefox: 10.0.2\n. I cleared the cache, and it fixed the problem.\nI use this: http://ss.openingdesign.com/ quite frequently.  Wondering if there's some conflicting caching problem?\n. +1\n. Hey @davelab6 , you can go here: http://app.openingdesign.com/sketchspaces/2161 for an example.  Will have to login/register first.\n@redhog was actually the developer that helped us implement.\n. Thanks, John, for the reply.  Yes, I wouldn't necessarily care if dropbox (or the like) saved the revisions or not.  I assume the revision history of etherpad would be sufficient here.\nConceptually just thinking this functionality would just do continually/perpetual 'exports' of a 'txt' file to a Dropbox location.  (that is, only when the etherpad is modified)\n. yeah, you're right, setting timing intervals would be key.  Also, perhaps adding a manual sync too, if set time intervals were not frequent enough.\n. no problem. Added.\nboggles the mind, that github doesn't provide this simple voting functionality.\nI think having a close integration with 'feature requests' and 'issue tracker' is important for development roadmap.\nSplitting the two, waters down momentum, imho.\n2 cents.\nCheers.\n. Weird, Github used to having voting. https://github.com/blog/411-github-issue-tracker\nWonder why they got rid of it.\n. Hi @marcelklehr \nI was thinking it would be from different pads on the same installation, but the more I think about this specific problem, i'd like to apply this solution to, having multiple 'windows/viewports/portals' to the same etherpad instance, might be a better way to approach it. If that's even possible. \nTo get specific...\nWe would like users to add text in the 'sketchspace' (drawing area) of our etherpad installation.  (old rhino-based etherpad... hope to upgrade to 'Lite' someday)\nMockup here: http://staging.openingdesign.com/sketchspaces/3441\n(will have to register/login, to view)\nAs you can see from the mockup, we'd like this text to be managed in real-time, as well.  Initially I was thinking each 'text callout' in the drawing area, could be it's own etherpad instance, but if one wanted to utilize the 'timeline' to scrub through the history, I would see this presenting a problem.\nIn that case, I was thinking it would perhaps be better to have these 'text callouts' associated with one etherpad instance, that way, it would be a little easier to utilize the timeline functionality. \nIn a way, i feel this could play into this idea: http://etherpad.idea.informer.com/proj/?ia=67116  In that, this feature request is also looking at how to 'pull apart' the real-time text into other 'areas' of the pad.\nCheers, Ryan\n. ",
    "timeturner": "That's a great idea IMO.\n. Basically use it as a module and not have multiple instances of node and use mongoDB instead of ueberDB.\n. This is really interesting. I hope it gets done actually.\nBasically for someone using express, and monogdb there has to be a system to replace etherpad-lite's database with redis or something and then periodically update a document in mongodb. That would be the most ideal and easiest way to integrate etherpad-lite. Otherwise it's very restrictive with little documentation on api to introduce it seamlessly into other apps.\n. @guybrush if you can make ep-lite mountable with redis (realtime database) and some other persistant database (mongodb, postgresql) in express that would be amazing. I would do almost anything to push this approach. However I feel that it might involve a major rewrite of how ep-lite works as a standalone now. Anyways keep us posted on your progress! :D\n. @booo I like your approach. It keeps the implementation very distinct and clear especially when using it within an existing express app.\n. I'm all for separation of modules. We need to be be able to make the app mountable and have simple settings to connect to a persistant database (such as mongodb, postgresql, mysql etc.) for saving different versions of a pad every X seconds/minutes/hours/days and a strictly in-memory database (such as redis) for millisecond pad changes to replace ueberDB. Furthermore the current setup with etherpad-lite don't allow for easily setting up multiple pads and deleting multiple pads for deployment purposes. It's a bit too confusing to mount it to express, for example, at this point.\nI think it's time for etherpad-lite to become more versatile and flexible and in modular format.\n. I'm just more comfortable with redis since I use it for many other things. Nevertheless, I haven't run a formal benchmark confirming if redis performs better than ueberDB.\nI didn't convey that statement properly. What I meant was that etherpad-lite at it's current state doesn't facilitate easy drop in to express like a middleware type of setup where there is an integrated api to control the current pad states and save to a persistent db at regular intervals from the in-memory store.\n. @jhollinger I didn't convey that statement properly. What I meant was that etherpad-lite at it's current state doesn't facilitate easy drop in to express like a middleware type of setup where there is an integrated api to control the current pad states and save to a persistent db at regular intervals from the in-memory store.\nI'm really keen on using mongodb even though mysql is the only supported one atm.\n. ",
    "melicin": "Take a look at my changelist:\nhttps://github.com/melicin/etherpad-lite/commit/45456c2a4cd5bb5a799e88883a6ef03339abae15\nI was working on this but I wasn't aware of the plugin architecture. So I made changes to the actual modules, however, you may be able to scrap things from here. I was able to solve the historical author problem during the pad load. The code works on my server. I can see both historical and current author names. I event implemented hook so that if an author changes name, new spans reflect that. Though I forgot to implement the code to scan existing spans and update the title attribute. So if an author changes name, only new spans reflect that new name.\n. My change does not follow plugin architecture. But I'll take a look at \"ep_authornames\" plugin to see if I can help solve the dynamic name problem.\n. For some reason, even when I set minify to false in settings.json, the plugin js files are still minified, which makes it very difficult to set breakpoints. Any idea why?\ngetCollabClient has userSet hash which contains all currently active user information. It also gets updated whenever a user changes name. Originally in my code, I made a change such that authorInfos hash in ace_inner was updated with name which is looked up from userSet.\nMaybe it makes sense to make the userSet a variable inside clientVars. We need a global table that contains an array of active authors.\n. I added 2 APIs in my forked repository: listPadsOfAuthor and listAuthorsOfPad\nhttps://github.com/melicin/etherpad-lite/commit/3c8674ebdee50d57e47b4983d24b822bf02773b4\nI'm happy to contribute to the master repository. Let me know if this meets your needs?\n. Submitted a new pull request specifically for this change.\n. Aha, I now see what you mean. Back when I first made the change, I was working on a fork from master. I know a lot has happened in the develop branch since then. I'll later test this on develop branch and then submit a pull request.\n. You're right about the author names. However, I'm building an app on top of etherpad-lite which will own user management. I'm using APIs to talk to etherpad-lite and I plan to disable users updating the name directly from the pad. So this will not be an issue for me.\nCan you please point me more specifically where in ace_inner.js I should look at?\n. That's great news. Can you please tell me where I can find that plugin?\nI tried to implement this feature but I had to modify ace_inner.js. I also tried to accommodate marcel's concern of changing title attribute when user changes his name. It's not the best implementation but if there is a plugin, I'd love to give it a try.\n. Take a look at this changelist in my forked repository. \nhttps://github.com/melicin/etherpad-lite/commit/45456c2a4cd5bb5a799e88883a6ef03339abae15\nI asked the exact same feature earlier in another issue and I then implemented it myself. \nDomline is the one that spits out span and it doesn't have access to author name. So I had to pass it down. Also I had to accommodate the case when authors change their name. Also when the pad is first loaded, the tooltips are initialized with historical authors even if they are not currently online.\nI'm curious how you will implement this as plugin so please keep me posted. I was not able to modify \"span\" from outside pad.js because it's difficult to select spans when they are inside iframe which is inside another iframe.\nPS: I implemented it so that if an author changes name, the new tooltips reflect the new name. However I have not yet added the feature to go ahead and replace all existing span tooltips.\n. There seems to be another issue with the same request:\nhttps://github.com/Pita/etherpad-lite/issues/297\n. @scanferla yeah timeline was another thing that I had not implemented yet. I think it uses a different code path.\nThough my implementation does not use plugin architecture. There is a plugin called \"ep_authornames\". Are you the owner of that plugin? That plugin doesn't work well with historical authors. I'd like to be able to fix that plugin so there would be a single plugin that works fully.\n. I take it back - the plugin works with historical authors. The only thing that doesn't work in the plugin is updating the title when the author's name changes dynamically. \nHere is the link to the plugin code:\nhttps://github.com/etinquis/etherpad-plugins/tree/master/ep_authornames\nI bet it only needs a hook to author update event to update span titles. \n. Hey guys, sorry the timing has been pretty bad for me since I've been busy with my finals and now I'm on vacation. The earliest I can get to this is in July. I know it's not ideal but my changes are public in case someone ones to just copy paste. Really sorry for the delay.\n. ",
    "avorio": "@johnyma22 Would it be possible to have a specific URL which would load the chat only?\nFor example: [...]/p/PADNAME/chat.\n. @marcelklehr The use case seems to be when a discussion around a particular pad is more important than the ability to edit the content of the pad; thus, it would be important to allow users for greater focus on the chat functionality of the system (which on the full view, is restricted to a side bar or a pop-up window).\nI would support this feature, particularly if users are able to toggle between increased focus on content vs. chat.\n. Hey folks,\nAny update on this feature request?\na.\n. +1 for the request to check if a pad is being edited!\n. Hi John,\nThe log files would tell you whether it has crashed or not, no?\na.\n. Hi @Pita \u2014 many thanks for your response!\nWould it be okay to change that limit directly in the HTML?\nI believe I found it here:\nhttps://github.com/Pita/etherpad-lite/blob/master/static/pad.html#L202\nIs that right?\nThanks!\na.\n. Awesome. Does anybody else feel the same way?\n. That's great! Will that include a notification icon of some sort? Which issue is that related to, btw?\n. It seems to work fine with new pads, for some reason; the problem persists on old pads (created before the migration).\n. Hi @johnyma22 \u2014 Thanks for your response!\nThe version of uederDB set in my packages.json is 0.1.7.\nWhen should've my pads been altered to the new schema?\n. @johnyma22 I reverted the code base to the previous version of Etherpad Lite I was running, i.e. before the migration, and that solved the problem. I didn't run the MySQL commands as per your suggestion though, so I don't know whether that would've solved the issue. I'm sorry.\n. Oh wow \u2014 and if I add &stickToScreen=true to the URL, Etherpad doesn't even show the pad's content!\n. @johnyma22 Were you able to replicate that?\n. ",
    "hoffmann": "Padnames with colons cause problems with ueberdb. So either disallow such names and send a 404 or sanitize them like the whitespace names:\nvar padIdTransforms = [\n  [/\\s+/g, '_'],\n  [/:+/g, '_']\n];\n. ",
    "becdetat": "Thanks @0ip, I'll kill my bug & pull request. Is there some task tracker for the project? There's nothing on etherpad.org that I could see.\n. @0ip's fix looks much better than mine\n. ",
    "simong": "Sorry for digging up this old issue but I think there might be an issue here.\nThe line numbers are correctly hidden, but there is still a (nonfunctioning) toggle in the pad settings.\n. +1 on making it a separate plugin.\nWe're not entirely comfortable with the load it puts on DB servers and have no real use for it anyway. If we could disable it, that'd be a big comforter for us.\n. This PR is pretty much exactly what we currently need from etherpad as well. Would be nice if this could get cleaned up/merged.\n+1\n. I removed all console.log references in the file, so it shouldn't ..\n. Correct.\nI find it very peculiar that UI code files contain console.log statements as that's not really the norm. (at least not in so far that I've seen it in production frontend code)\n. I'm fine with having log statements in development code, but not in production code. \nPerhaps the minifier should be able to strip out log statements?\nI agree that swallowing the exception is not ideal, but I don't know what the best way is to display a notification to the user in etherpad. (In the old code, a user would not see any indication as to why his screen stayed empty either btw)\n. It looks like uglify-js has support for producing code that has no console.log statements.\nCode can be written as:\nJust add the following in a file that gets included everywhere:\nif (typeof DEBUG === 'undefined') {\n    DEBUG = true;\n}\nLog statements can be written as:\nDEBUG && console.log('No translation file found.');\nA little tweak to the Minify.js util:\npro.ast_mangle(ast);  --> pro.ast_mangle(ast, {'defines': {'DEBUG': false}});\nwdyt?\n. I debugged this a little bit and it turns out you can't do\nvar w = console.warn;\nw('message');\nin PhantomJS. I suspect this is a mixture of trying to execute compiled code and Phantom having no function.prototype.bind [1]\nThe easiest way to fix this without losing the debug statements is nooping the console if it doesn't exist (just as ace2_inner.js and HTML5Bootstrap).\nI've removed the previous commit and attached a new one which does just that.\nVerified in PhantomJS, IE, Firefox and Chrome.\n[1] https://groups.google.com/forum/?fromgroups#!searchin/phantomjs/bind/phantomjs/r0hPOmnCUpc/uxusqsl2LNoJ\n. Any update on this?\n. My bad, I lost track of this. I've rebased this against the develop branch\n. The chrome dev tools seem to have improved somewhat and allow for better debugging.\n\nIt seems like there are is a ton of DOM accessing going on which is causing the slowdown\n. So for anyone looking at this in the future, it seems like all this activity is going on in:\nsrc/static/js/ace2_inner.js\n- insertDomLines in the _.each(infoStructs, function(info) block\n. Yes, If you don't specify a sessionKey you will simply not have any signed cookies, that is all.\n. Ah, I didn't realise that. Regardless, I've tested this both with and without a sessionKey in settings.json, with and without a SESSIONKEY.txt and it works just fine. All it does is add the signedCookies on the request if it can successfully decrypt the cookies\n. Can you give some more details about how to accomplish this? AFAICT, both backend and frontend tests are integration tests which require a running etherpad instance that can't be configured from inside the tests itself. Keep in mind that abiword needs to be enabled for these tests to work and that it's currently not installed on Travis CI.\nIs there a place for unit-level tests? I could easily write some tests that test TidyHtml directly for example\n. I pushed some backend tests. Let me know if those are acceptable. (I also used log4js in TidyHtml)\n. Thanks! I didn't realise I could edit the wiki, I've added some docs in https://github.com/ether/etherpad-lite/wiki/How-to-enable-importing-and-exporting-different-file-formats-with-AbiWord\n. @bjonnh Would you mind rebasing against master now that LO export has landed?\n. ",
    "jamesgibson14": "Is there any updates on this?\n. ",
    "Akasch": "no I heven't a idea. I didn't get such error and I didn't know what it mean.\n. OK now I get errors to, I looking into it.\nI think it is something in the minimized code:\n[ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"msg\":\"d is null\",\"url\":\"http://127.0.0.1:9001/minified/pad.js\",\"linenumber\":1,...\n. if I set:\n    \"minify\" : false,\nin the config File, I haven't any Error, but I try to find out what happens\n. @Wikinaut : Thanks for the report, I will try to fix it in the next Days\nI have found a Bug then more User edit in the same headline, it brakes then, I will try to fix this in the next days also.\n. not until now, but I hope next week will bring updates\n. src/node_modulesbin/run.sh isn't a file on my Server. Did you mean\nrm src/node_modules/\nbin/run.sh\n?\nI have moved the directory, but then etherpad_lite did't start.\n. now it works, thanks\n. @JohnMcLear Mybe I can host and generate such json files. Is there an estimate with how many accesses i have to expect?\n. Aftrer loking into the Database, there is only the last revision, and some chat entrys from each moved pad:\n```\netherpad=# Select key from store WHERE key LIKE 'pad:g.J46mH3MxVQWOctwm%';\n                      key                           \n\npad:g.J46mH3MxVQWOctwm$Aufgaben_zum_29.10.14\npad:g.J46mH3MxVQWOctwm$Aufgaben_zum_29.10.14:chat:16\npad:g.J46mH3MxVQWOctwm$Aufgaben_zum_29.10.14:revs:1851\npad:g.J46mH3MxVQWOctwm$Aufgaben_zum_22.10.14\npad:g.J46mH3MxVQWOctwm$Aufgaben_zum_22.10.14:revs:2\npad:g.J46mH3MxVQWOctwm$Aufgaben_zum_05.11.14\npad:g.J46mH3MxVQWOctwm$Aufgaben_zum_05.11.14:chat:91\npad:g.J46mH3MxVQWOctwm$Aufgaben_zum_05.11.14:revs:3375\npad:g.J46mH3MxVQWOctwm$Aufgaben_zum_12.11.14\npad:g.J46mH3MxVQWOctwm$Aufgaben_zum_12.11.14:chat:9\npad:g.J46mH3MxVQWOctwm$Aufgaben_zum_12.11.14:revs:1787\n(11 rows)\n```\n. They look exactly the same if minify is true or false.\nThe reported source of the error (in the browser console). The undefined Bug is in\nVM1152:101 Uncaught TypeError: Cannot read property 'find' of undefined\nVM1152 is a dynamically loaded file you can inspect in the console, if you go to the top of the file the original path is there.\n. My problem is most of the time that I see errors in the logfile and don't know how to replicate. In my testinviroment they don't happen, in production (with like 10 Plugins) only if some more People use some GroupPads vor example. at the moment I get\n[2015-01-06 18:19:04.507] [WARN] client - Error: Permission denied to access property 'console' -- { errorId: '3fhS1vKouwk8waMHyYg5',\n  msg: 'Error: Permission denied to access property \\'console\\'',\n  url: 'https://ep.mafiasi.de/p/g.hsuI9ddy0a7exH5L$BitBotsProtokoll',\n  linenumber: 3121,\n  userAgent: 'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:26.0) Gecko/20100101 Firefox/26.0' }\nthis don't say there to look or try to replicate. The effect seems to bee that sometimes if more People types in the Pad at the same time this error appears in the log and about 10 seconds later they get disconnected\nMore info just would make it more easy to debug the production instance after update or if some user braks something (our user are pretty good at this)\n. I think it could be more easy to see if a error is definetly caused by a Plugin (Like the Hook failed) and a simple uninstall of some Plugin maybe help resolve this, ore if i have to look deeper in the core.\nMy user are pretty good at finding edge cases in Plugins and often they are not simple to recreate, but most of the time i see some generic looking errors in the logfile, so often i have to try to remove Plugina to find the responsible.\n. ",
    "eldiddio": "@JohnMcLear I have not come across this issue. This scenario would never happen on my instance, we do not delete sessions for deleted groups.\n. @JohnMcLear we delete groups but we clear all sessions before removing groups\n. beta.primarypad.com has been updated\n. This is working fine thanks\n. I have experienced the same problem with this. I am creating a session using the API and then setting the sessionID cookie in PHP using setCookie().\nTo fix the problem make sure I set the flag for httponly = 1 when setting the cookie to get the loading to disappear.\nUPDATE: setting httponly or secure on the cookie seems to make the pad present \"You do not have permission to access this pad\" the log says:\n[2012-10-09 02:21:02.005] [WARN] message - Authentication try failed:{\"component\":\"pad\",\"type\":\"CLIENT_READY\",\"padId\":\"g.N82sSzBOXVtyqK9w$git\",\"sessionID\":null,\"password\":null,\"token\":\"t.Xoxd4B40uJjBife80Vto\",\"protocolVersion\":2}\nIt seems like the sessionID is not been extracted from the cookie\nIf you remove secure and or httponly the log shows nothing to do with auth and the pad is stuck on loading.\nTested on develop and master branches.\n. Yes I have added 2 sessionid's to my sessionID cookie comma seperated and the pad just hangs on loading.\nThe server log does not produce any errors.\n. Tested multiple sessions in one cookie, this is resolved.\n. I can also confirm this problem exists, tested with IE 11.0.9600.17728 Windows 8.1 Pro. The problem is exactly as described by @arnowelzel \n. The cloned repo has to be an old version so updatePlugins picks it up.\n. I have tested this with Windows 8.1 and Chrome and i get the same behaviour.\nCreated a new text document with AAA in the body.\nImported into a Group Pad\nGroup pad is now broken and sticks on loading.\n. ",
    "azul": "johnyma22, I've seen the same when deploying to nodejitsu. In that case i believe it's due to their deploy process not copying the .git direectory. Locally it works for me. What did you do to trigger this?\n. As far as I know google docs does not have cors headers. So this would have to happen on the server side.\n. So there are different approaches involved here. What we do with ueberRemoteStorage is write all the pad related stuff to a remote storage backend (couchDB, owncloud, hopefully dropbox soon). This happens server side. We also use this in Libre Docs to fetch the pad content without going through etherpad - as it's stored in our very own remoteStorage that we sync with local storage.\nFor offline reading this would probably be even more simple. First easy step would be to just write the content of the pad to local storage and fetch it from there. No server side involved here. The client side would have to be stored in the browser too so you can use it to read from localStorage. But that would also improve load times i assume.\n. @johnyma22 I'm happy to help as good as I can. I guess the crucial part is coming up with a good strategy. \nIn terms of localStorage I think it is a good fit if it's about storing the last edited documents for offline reading. We're talking text content here and search would be nice to have but it seems easy to move to indexedDB or whatever later if that becomes a priority.\nThe next question would be the architecture. I think I'd love to see this build of three components:\n- a html5+js webapp\n- localStorage for caching and listing the last opened documents\n- a server that initially serves the webapp like we serve pad.html and the js now and then deals with the socketIO messages and requests for read only pads, group registration and so on.\nI have not looked into developing webapps for offline work yet. https://5apps.com/ come to my mind.\n. The 57d0a2e fixes an issue I ran into as well. For me it causes etherpad-lite to crash on a restart if i have not touched all static files.\n@johnyma22 MIght make sense to include it before the plugin merge.. it's a one line fix.\n. The current API would be added the same way with an id of \"1\". The idea is that\njavascript\n  var basic_api = require('/DB/API');\nwould be possible. So the functions hash and the id would be added to the api file itself. We could also leave out the id and do sth like\njavascript\n  api.add('1', require('/DB/API');\n. I have not looked at the plugin/hook system in detail yet. But it could probably be used. I'm mainly trying to avoid duplicting the code in APIHandler - such as testing if a function exists, wrapping the arguments and the like. But maybe that is a bit over the top.\n. @redhog - that sounds great - it would even enable extending existing api functions. So a hook would need to be added and we could turn the API into a plugin if we wanted.\n. My understanding of the etherpad lite architecture - which might be outdated - is that option (c) would actually not be that hard. From what i remember the initial page loaded by etherpad is always the same. Then the js parses the url and makes ajax requests to retrieve the pad specific content. These requests contain the pad id. But for the initial request the server does not make use of the pad id anyway.\n. ",
    "mcnair": "i would love it if the browser checked my spelling as i typed in etherpad. i'm worthless without spell check, truth be told.\n. great! happy to feedback and clarify. g'luck.\n. hellyeah! cant wait to give it a test run.\n. we have updated our instance of etherpad-lite. you'll rock. crazy fast turn around. nice. some feedback.\nIt appears that the current state of dev has column view off by default, no way to make it the default, and the only view i control is my own. Is that correct?\nMy request would be to have 1) the administrative ability to configure the etherpad-lite globally so that every pad opens with a default full column chat. Its a thin column that doesnt interfere with the main space and suggests a very useful workflow that distinguishes etherpad. 2) Another config I would like is the ability as a user to make it so that the default view of a single pad has the full column. This is useful if the admin of the instance has full column default view turned off. At least then i could have a pad and know that everyone using it had the same view on a per pad basis.\nkeep it coming! thanks!\n. i'm also seeing this problem here https://pad.systemli.org/ using OS 10.9 in both chrome and safari.\nany ideas on this. its making my ability to use the pad very difficult. I have formatted meetings templates that i copy and past into the pad, and with this formatting issue, this flow becomes impossible. \n. ",
    "jdoss": "I second the \"I am worthless without spell check\" comment. What about using something like aspell to process the text on the back end and not have it done in the browser?\n. @Pita Yea, I fuzzed out and forgot that not everyone is running Linux.  https://github.com/dscape/spell maybe?  Anyways, amazing work.  =)\n. ",
    "Jnull": "Should this be closed? the information is out of date,\nthese are obsolete: \nhttps://github.com/Pita/etherpad-lite/issues/319\nhttp://beta.etherpad.org/p/w470LCa8H2\n. Okay cool, Thanks marclklehr. How do i re-classify this and I'll try to drop it in the right spot?\n. ",
    "SteffanCline": "Sorry... not sure how to format that better...\n. Yeah, I found that mistake in the init script and it started working. Now to debug a crash posted on another thread. Bug can be closed.\n```\n!/bin/sh\n\netherpad-lite - this script starts and stops the etherpad light daemon\n\nchkconfig: - 64 36\nDefault-Start: 2 3 4 5\nDefault-Stop: 0 1 2 3 4 6\nRequired-Start:\ndescription: etherpad lite is a collaboration editor\nprocessname: node\nconfig: /home/etherpad/etherpad-lite/settings.json\npidfile: none\nlockfile: /var/lock/subsys/etherpad\nSource function library.\n. /etc/rc.d/init.d/functions\nSource networking configuration.\n. /etc/sysconfig/network\nCheck that networking is up.\n[ \"$NETWORKING\" = \"no\" ] && exit 0\nprogname=\"Etherpad Lite\"\npath=\"/home/etherpad/etherpad-lite/node\"\nprog=\"/usr/bin/node\"\nparameter=\"server.js\"\nlog=\"/var/log/etherpad/error.log\"\nconf=\"/home/etherpad/etherpad-lite/settings.json\"\nuser=\"etherpad\"\nlockfile=\"/var/lock/subsys/etherpad\"\nlogpath=$(dirname $log)\nstart() {\n        [ -x $prog ] || exit 5\n        [ -f $conf ] || exit 6\n        [ -d $logpath ] || mkdir $logpath\n        [ -f $log ] || touch $log\n        chown $user $logpath\n        chown $user $log\n    echo -n $\"Starting $progname: \"\n    daemon --user=$user \"cd $path; $prog $parameter >>$log &\"\n    retval=$?\n    echo\n    [ $retval -eq 0 ] && touch $lockfile\n    return $retval\n\n}\nstop() {\n        echo -n $\"Stopping $progname: \"\n        killproc $prog\n        retval=$?\n        echo\n        [ $retval -eq 0 ] && rm -f $lockfile\n        return $retval\n}\nrestart() {\n        stop\n        start\n}\nrh_status() {\n        status $prog\n}\nrh_status_q() {\n        rh_status >/dev/null 2>&1\n}\ncase \"$1\" in\n        start)\n                rh_status_q && exit 0\n                $1\n        ;;\n        stop)\n                rh_status_q || exit 0\n                $1\n        ;;\n        restart)\n                $1\n        ;;\n        status)\n                rh_status\n        ;;\n        *)\n                echo $\"Usage: $0 {start|stop|status|restart}\"\n                exit 2\nesac\n```\n. ",
    "bwiklak": "In the Ace editor everything is ok, is Ace editor part of etherpad-lite?\nI'm using etherpad-lite from githup running on Ubuntu machine (node-js).\n. Changed, and restarted etherpad-lite. Still the same problem. Wired...\n. The script returns:\nevent.keyCode   '90'    '380'   '90''17''18'\nChanged the script and still nothing, acts like ctrl-z, can I debug it in Javascript debugger?\n. Ctrl-z on the other hand \n'90'    nothing '17''90'\n. Heh! everything works well in Firefox, I used Chrome.\nThe problem is somwhere around here:\n if ((!specialHandled) && isTypeForCmdKey && String.fromCharCode(which).toLowerCase() == \"z\" && (evt.metaKey || evt.ctrlKey))\nTried to strip evt.metaKey but no luck. On Chrome Ace editor works well.\n. The same problem? https://github.com/LeaVerou/dabblet/issues/31 \nI use AltGr.\n. Ok Fixed:\nchanged:\nif ((!specialHandled) && isTypeForCmdKey && String.fromCharCode(which).toLowerCase() == \"z\" && (evt.metaKey || evt.ctrlKey))\nto:\nif ((!specialHandled) && isTypeForCmdKey && String.fromCharCode(which).toLowerCase() == \"z\" && (evt.metaKey || evt.ctrlKey) && !evt.altKey)\nThis should also apply to the rest of IFs, I think. I do not close the issue. \n. ",
    "ulikoehler": "I added a configuration option for the number of chat lines in my fork - it seems to work for me but I'd appreciate help with testing.\nhttps://github.com/ulikoehler/etherpad-lite -- branch 'chatlines'\nIf it works for everyone, I'll submit a pull request\n. I absolutely agree but I think it's better than nothing for now.\n. Thanks for the tip, fixed this in the latest commit!\n. Thanks! Fixed.\n. You can configure log4js to e.g. log to a file instead to the console. AFAIK log4js doesn't support rotating logfiles but now you can at least configure the logging in a more flexible way.\nFor example, vext01, creator of #916, wants to log to a file. He could just remove the console appender and add a file appender in etherpad_logging.json now.\n. Isn't settings.json generated from settings.json.template automatically if settings.json does not exist?\n. Ah, ok, I understand. I'll merge it in the next couple of days.\n. I encountered a problem when trying to require Settings.js from scripts inside node/hooks/express/ ,  e.g. socketio.js:\nI use\nJavascript\nvar settings = require('../../utils/Settings.js');\nbut this yields the following error message:\n[2012-09-29 23:28:53.319] [ERROR] console - Failed to load 'ep_etherpad-lite/node/hooks/express/socketio:expressCreateServer' for 'ep_etherpad-lite/socketio/hooks/expressCreateServer': Error: Cannot find module '../../utils/Settings'\nI already tried to use numerous other paths like ../../../utils/Settings.js - could you please point me in the right direction?\n. Sorry for the delay - I've been quite busy with other stuff in the last view months.\nI will fix this as soon as possible.\n. ",
    "calcnerd256": "Okay, sorry about that. I'll try again, this time only making minimal changes.\n. Okay, but extending the server after it begins listening can lead to race conditions.\n. Okay, I'll comment it better. If the repo owner can't tell at a glance what I'm trying to do, that's a sure symptom of insufficient commenting on my part.\n. additionalSetup is an optional callback to init. Its purpose is to act as a hook for altering the app before the server begins to listen. Since my modifications separate the server module from the serving script, someone who wishes to use etherpad-lite as a library can forego running the server script and instead include the server module in their own project, without having to modify any etherpad-lite specific code. They can then pass a callback to the init function, and this callback can setup other dynamically-generated pages, so the developer isn't limited to putting static pages in /static/custom/ for adding funtionality to the site. It allows more server-side extensibility without requiring the developer to modify etherpad-lite itself.\n. ",
    "chatko": "Agreed, it would be very useful to simply have text & html import/export without the over head of Abiword\n. ",
    "joker-x": "Seem easy to do it, but i dude about the usefull that could be importing txt or html when you can copy/paste without waiting for upload the file.\n. It almost done ;)\n. @mrneil : Your patch work... if your problem is \"how to do a pull request with git\", i gladly help you :) \n. I do not see any advantage in use YAML, JSON is native, easy and no need conversion tools.\n. In debian wheezy i run etherpad lite with this configuration (for stable, use /var/run instead /run):\nroot@sungate:~# cat /etc/init.d/etherpad-lite \n``` sh\n!/bin/bash\nBEGIN INIT INFO\nProvides:          etherpad-lite\nRequired-Start:    $local_fs $remote_fs $network $syslog\nRequired-Stop:     $local_fs $remote_fs $network $syslog\nDefault-Start:     2 3 4 5\nDefault-Stop:      0 1 6\nShort-Description: starts etherpad lite\nDescription:       starts etherpad lite using start-stop-daemon\nEND INIT INFO\nPATH=\"/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin\"\nLOGFILE=\"/var/log/etherpad-lite/etherpad-lite.log\"\nEPLITE_DIR=\"/var/www/etherpad-lite\"\nEPLITE_BIN=\"bin/safeRun.sh\"\nUSER=\"etherpadlite\"\nGROUP=\"www-data\"\nDESC=\"Etherpad Lite\"\nNAME=\"etherpad-lite\"\nset -e\n. /lib/lsb/init-functions\nstart() {\n  echo \"Arrancando $DESC... \"\nstart-stop-daemon --start --chuid \"$USER:$GROUP\" --background --make-pidfile --pidfile /run/$NAME.pid --exec $EPLITE_DIR/$EPLITE_BIN -- $LOGFILE || true\n\necho \"listo!\"\n}\nWe need this function to ensure the whole process tree will be killed\nkilltree() {\n    local _pid=$1\n    local _sig=${2-TERM}\n    for _child in $(ps -o pid --no-headers --ppid ${_pid}); do\n        killtree ${_child} ${_sig}\n    done\n    kill -${_sig} ${_pid}\n}\nstop() {\n  echo \"Parando $DESC... \"\n   while test -d /proc/$(cat /run/$NAME.pid); do\n    killtree $(cat /run/$NAME.pid) 15\n    sleep 0.5\n  done\n  rm /var/run/$NAME.pid\n  echo \"listo!\"\n}\nstatus() {\n  status_of_proc -p /run/$NAME.pid \"\" \"etherpad-lite\" && exit 0 || exit $?\n}\ncase \"$1\" in\n  start)\n      start\n      ;;\n  stop)\n    stop\n      ;;\n  restart)\n      stop\n      start\n      ;;\n  status)\n      status\n      ;;\n  *)\n      echo \"Uso: $NAME {start|stop|restart|status}\" >&2\n      exit 1\n      ;;\nesac\nexit 0\n```\nroot@sungate:~# cat /etc/logrotate.d/etherpad-lite \nsh\n/var/log/etherpad-lite/etherpad-lite.log {\n  daily\n  rotate 7\n  missingok\n  compress\n  delaycompress\n  missingok\n}\nBe sure that the user that run etherpad can be write in his log directory, with chown -R etherpadlite:adm /var/log/etherpad-lite, for example.\n. No, in localhost without SSL, this bug appear too :S\n. In my local machine without SSL and without Nginx and with 127.0.0.1, with develop branch, this bug appear.\nI could test in the server with nginx (in port 8080) and varnish (in port 80). Do I do it?\n. @johnyma22 i will fix it today ... sorry\n. @Wikinaut i think so, many sysadmins only install from packages and node 0.8 isn't available from package in many distros\n. I tried to solve this issue, with no results :( I think that is being originated in the use of a iframe to upload the file without refresh. Perhaps, the best solution will be use XMLHttpRequest 2 that now is widely supported and work really good: http://caniuse.com/xhr2\n. No, in localhost without SSL, this bug appear too :S\n. A workaround could be open in a target _blank the git direction of plugin in first click (if any), then change the function of buttom to install... it not be elegant, but it would be easy\n. I think that it will better support this feature in core, too.\nA little improvement:\nIn setting.json.template insert this block commented:\njs\n /*  // Node native SSL support\n   \"ssl\" : {\n                    \"key\" : \"/path-to-your/server.key\",\n                    \"cert\" : \"/path-to-your/server.crt\"\n                  },\n  */\nIn /src/node/hooks/express.js:\n``` js\nif (settings.ssl) {\n  var http = require('https');\n  server = http.createServer(settings.ssl, app);\n} else {\n  var http = require('http');\n  server = http.createServer(app);\n}\n```\nsimple, clean and less overload than a plugin\n. Cool!\nIf you want, @Wikinaut , tomorrow afternoon we could work together in our local repositories... i will be in #etherpad-lite-dev channel of freenode :)\nWill be usefull to write a wiki page for document the feature: how to create autosigned certificates, etc.\nAnd later, @johnyma22 could help us with the test, isn't it?\nNOTE: I'm in GMT+1 (Spain)\n. Another option available yet using node is in the wiki: https://github.com/ether/etherpad-lite/wiki/How-to-put-Etherpad-Lite-behind-a-reverse-Proxy\nnode-http-proxy\nSimple proxy server implemented in node.js with node-http-proxy. This proxies on port 80 and 443. The port 80 proxy proxies to port 81 (where Apache is listening), and the port 443 proxy connects to Etherpad on port 9001.\n``` js\nvar fs = require('fs'),                                                                                                                                                            \nhttp = require('http'),                                                                                                                                                            \nhttps = require('https'),                                                                                                                                                          \nhttpProxy = require('http-proxy');                                                                                                                                                   \n//                                                                                                                                                                                 \n// Create a HTTP proxy server                                                                                                                                                      \n//                                                                                                                                                                                 \nvar regular_proxy = httpProxy.createServer(81, 'localhost').listen(80);                                                                                                              \nvar routes_json = {                                                                                                                                                                \n\"server.org/pad\": \"127.0.0.1:9001\",                                                                                                                                                \n\".*\": \"127.0.0.1:81\"                                                                                                                                                               \n};                                                                                                                                                                                   \n//                                                                                                                                                                                 \n// Create a HTTPS proxy server                                                                                                                                                     \n//                                                                                                                                                                                 \nvar ssl_proxy = httpProxy.createServer({                                                                                                                                           \n    router: routes_json,                                                                                                                                                           \n    https: {                                                                                                                                                                       \n        key: fs.readFileSync('/etc/apache2/ssl/server.org.key', 'utf8'),                                                                                                           \n        cert: fs.readFileSync('/etc/apache2/ssl/server.org.crt', 'utf8'),                                                                                                          \n        ca: fs.readFileSync('/etc/apache2/ssl/gd_bundle.crt', 'utf8')                                                                                                              \n    },                                                                                                                                                                             \n}).listen(443);                                                                                                                                                                    \n```\n. I would like every export/import format  that no depends of abiword was develop as plugin. But i think that  import/export pluginify is a goal of future milestone, while we could add new useful exports formats to active milestone.\n. @sciunto But do you know how to make a plugin with this patch? Will you try to build it? I seem very useful to can export to mediawiki format... we can use it for upload pads to http://wiki.15m.cc for example...\n. I have found this plugin that export to Latex, seem easy to modify for this: https://github.com/edy-b/ep_latexexport\n. better? https://github.com/ether/etherpad-lite/pull/1167\nthanks for this amazing tool, i'm glad to can colaborate... i would like to translate the doc folder also into spanish, but i think that we need to adopt name convenion first\n. i'm working in a way for submitting and admin translations inside etherpad lite, probably tomorrow i will push the changes\n. the code: https://github.com/ether/etherpad-lite/pull/1182\n. OT This feature for comment code lines is really cool!\nThanks for yours comments, it's my first node code and need a lot of tips.\nMaybe implement as plugin was better that in core, but not sense do it if not installed in http://beta.etherpad.org or similar site that can be used for centralice translations of the last version of core.\nI think that l10n and globalize modules are great plugins, but for etherpad lite are too big. More than 80% of code (plurals, etc) not used. Aso, using ini files to translate in this project not seem me a good idea, better use json, and improve tools for generate it. From globalize now only need a list of lang code with native language name associated. If you like, i can rewrite this two dependences in a jquery plugin faster and tight.\n. I write the replacement of Globalize as told in development chat, i think that is good :) but better check it for us after do a pull request:\nhttps://github.com/joker-x/languages.js\nThanks!\n. ok, close the thread :)\n. Wow! yes, you are right... At begining, the lib only support ISO 639-1 two-letters code, but i can add any other code, only need:\n-  the code language\n-  the language name in English\n-  the native language name\n-  the direction\nLanguages to be checked:\n-  diq.ini \u2192 I think that is better to include inclusive code zza.ini instead. See http://en.wikipedia.org/wiki/Zazaki_language\n-  ksh.ini \u2192 Ripuarian or K\u00f6lsch?\nFrom http://en.wiktionary.org/wiki/Wiktionary:Wikimedia_language_codes\nHowever, not all languages are coded by ISO. When new language editions of Wikimedia projects are introduced and there are no ISO codes for them, WMF Language Committee creates their own language codes.\n. Thanks for the info @Nikerabbit! It will be very usefull for me...\nGive me a couple of days and i will publish a version especific of languages.js for translatewiki, scraping all data for yours web page and supporting yours 330 languages. I will try to write a script for downloading all ini files of this project and update the library too. It's easy, but i have to do other task in these days.\n. cool! paste the spanish translation (locales/es.ini) of this block, for if you want merge it in your pull request:\ntimeslider.version = Versi\u00f3n {{version}}\ntimeslider.saved = Guardado {{month}} {{day}}, {{year}}\ntimeslider.dateformat = {{month}}/{{day}}/{{year}} {{hours}}:{{minutes}}:{{seconds}}\ntimeslider.month.january = Enero\ntimeslider.month.february = Febrero\ntimeslider.month.march = Marzo\ntimeslider.month.april = Abril\ntimeslider.month.may = Mayo\ntimeslider.month.june = Junio\ntimeslider.month.july = Julio\ntimeslider.month.august = Agosto\ntimeslider.month.september = Septiembre\ntimeslider.month.october = Octubre\ntimeslider.month.november = Noviembre\ntimeslider.month.december = Diciembre\n. WARNING: The REGEX_URLCHAR in function findURLs in pad_utils.js are not working. Using linestylefilter.js instead.\n. The _languages module also includes direction. In require(\"ep_etherpad-lite/node/hooks/i18n\").availableLangs you have availabled a list object {name: \"name-in-English\", nativeName, direction} with all languages translated in etherpadlite. :D\n. yes, you are right!\nNOTE: The list of rtl languages that l10n.js use is uncomplete:\nline 1004\njs\n    // get the direction (ltr|rtl) of the current language\n    getDirection: function() {\n      // http://www.w3.org/International/questions/qa-scripts\n      // Arabic, Hebrew, Farsi, Pashto, Urdu\n      var rtlList = ['ar', 'he', 'fa', 'ps', 'ur'];\n      return (rtlList.indexOf(gLanguage) >= 0) ? 'rtl' : 'ltr';\n    },\nwe should patch:\njs\n    // get the direction (ltr|rtl) of the current language\n    getDirection: function() {\n      // http://www.w3.org/International/questions/qa-scripts\n      var rtlList = [\"ar\",\"dv\",\"fa\",\"ha\",\"he\",\"ks\",\"ku\",\"ps\",\"ur\",\"yi\"];\n      return (rtlList.indexOf(gLanguage) >= 0) ? 'rtl' : 'ltr';\n    },\nSource: http://meta.wikimedia.org/wiki/Template:List_of_language_names_ordered_by_code\n. ready! :)\n. Elegant solution, i like it :+1: \nNOTE: I don't test it, only read patch code.\n. How to configure nginx or varnish is available on the net too, but it is usefull collect all relative configuration in the wiki. I think it is the same case. Often, features are not used because the newbie user not found good documentation. And this is a pity.\n:+1: new wiki page!\n. A good trick to solve this problem is let the navigator choose proper protocol. For example, to load jquery from google CDN you can use:\nhtml\n<script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js\"></script>\nIn SSL conection the navigator go to https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js or a standar conection to http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js \n. we are sincronized @Wikinaut :)\n. using these protocol independent urls we can remove a few javascript check protocol lines :D\n. fixed... in a while will do a pull request\n. yes, without abiword only can import from plain text (.txt, .js, .c, .h..) or html (.htm, .html) and export to .html, .txt or .docuwiki\n. @johnyma22 : \"\u00a3 imported as \ufffd when importing from .txt\" <--  are your txt file in UTF8??\n. @johnyma22 : \"Doing import in FF on Windows I after a while I get \"Import failed: Please copy paste\". <-- see https://github.com/ether/etherpad-lite/issues/1105 is a bug before that pull and i don't know how to solve it\n. In the UI??\n. Almost done!\n. @johnyma22 , i don't know how detect the character encoding, i tried with Buffers objects, with none result.\n. The problem is that the file is plain text, but may be encoded in utf8 or ANSII. This function distinguishes between ASCII (text) files or binary files (like images, etc), but not which encoding using.\n. I do not think it worthwhile to spend much time in improving ANSII support. If users want something better, they can install abiword or save the document in utf8.\nRight now it's an improvement :)\nI wish someone with more experience would revise the code to prevent directory traversal and creating hidden system files. I have not seen any specific filter about this in src/node/handler/ImportHandler.js It could be fine because are generated a name secure of temporary files.\n. When copy/paste an ANSII doc in a pad is shown good? If the reply is yes, perhaps, in other part of etherpad code is the solution.\nAnyway, I do not know how to fix it yet, sorry\n. @Wikinaut can you group the same issue in the same thread? you are stressing me ^^ \n. I did not modify the formatPlugins because is called at starting server too\n. The strangle thing is that not new, it appear in RFC 3986 of 1995: http://tools.ietf.org/html/rfc3986#section-4.2\n22 years ago! :D\nMust be very compatible xD\n. Because this package support all languages that translatewiki use. The other package only support ISO 639-1 two-letters code. I could merge, but the original is sufficient for other projects and it is smaller.\nI'm going to sleep. Hugs!\n. Why? the system is working and it's lightweight, i think when we need more features we could go back to globalize.\n. And https://github.com/ether/etherpad-lite/pull/1199 should be also merge.\n. :O it's true!\n. With this information I think that I was wrong and globalize will be a better solution for etherpad, as @marcelklehr said.\nI will do another commit in this pull request with globalize solution for register this changes before tomorrow.\n@Nikerabbit : I haven't seen an API call that receive a project (for example etherpad-lite) and return a json object with its translation status, as can you see in this page: http://translatewiki.net/w/i.php?title=Special:MessageGroupStats&group=out-etherpad-lite\nI think it will be usefull\n. Oh yeah! It works! :)\nhttp://translatewiki.net/w/api.php?action=query&meta=messagegroupstats&mgsgroup=out-etherpad-lite&format=json\nAlso with this url: http://translatewiki.net/w/i.php?title=Special%3ATranslate&taction=export&group=out-etherpad-lite&language=es&task=export-to-file we can download a native translation file.\nWith both ideas, write a plugin that allow upgrade languages or choose which install, is easy. And could be good for refeeding translatewiki...\nThanks! :+1: \n. The last commit uses neither globalize nor languages:\nWhen start etherpad server call to translatewiki web api and build availableLangs with this information.\nThe only problem that i can see with this solution is if translatewiki site goes down, the language support too... \nWe could save the json object in /static folder and use it if the call return error.\nwould be nice before continue some debate...\n. @marcelklehr , what do you think about?\n. The changes are neccesary because now some languages are showing as 'undefined' in develop branch.\nI'm agree with it's a bad idea to rely on a working internet connection. We could use a previous saved json object if the internet connection isn't available or use the saved json object always because you are right in that data change very lately.\nThe question is if call to api translatewiki is the best option or not. I think so, but we can fork globalize or update my languages module also. This pull request have commit what testing all options. It is time to choose the right way and then i will push the final commit.\n. Ok! today i will submit a new commit that store that data statically :)\n. Ready! :D Filter only .ini files include https://github.com/ether/etherpad-lite/issues/1251\n. Can we use this solution over socket.io to replace upload iframe in ImportHandler?? Perhaps, it will solve also this issue: https://github.com/ether/etherpad-lite/issues/1105\n. I think this solution is dirty, the relative path must be setting in template not in a configuration script.\n. why not using absolute path for serve statics files? \nfor example:\nin express...\nvar base_url = '//'+hostname;\nin template...\n...<%= base_url+'/static/connectingbar.gif' %>...\n. It depends... you can set the base url in configuration file (could be optional) and it works with reverse proxy... as wordpress do with WP_SITEURL for example.\n. fixed with https://github.com/ether/etherpad-lite/issues/1223 pulled.\n. if you are busy, i could try to solve this issue\n. Now, i'm working on loading translation ini files (if any) of any plugin under its locales folder and merge with ini files of the core. This will allow developers build multilingual plugins and even create alternative translation as plugin.\nGood idea?\n. Are we keep ini format of language files? this point is the only that can affect to this future feature...\nI hope that i will find job soon and then i will have less time for etherpad and other fancy free software, so i will try to take advantage of the free time, while it is useful :D\n. I got it! I will wait for merging https://github.com/ether/etherpad-lite/issues/1274 before do another pull request :D\n. The problem is the message don't show?\n. Ready https://github.com/joker-x/etherpad-lite/commit/ff8b4b6b207d2b2732b356bb7365579555f00db7\n. Ready! I am still using 'es.ini' for test, i'm also the translator of this file, so i think won't get merge conflicts.\n. Have you test it in develop branch of Etherpad lite?\n. I don't issue a pull request against ep_headings because this package is only an example for testing this feature with bad translations of only 3 languages. Many sites use ep_headings plugin in production, it is not a remplacement. When these changes are approved and tested in develop, i will do. \nAbout security checks: Users only can read files valid-langcode.ini into src/locales and node_modules, these paths are hardcoded inside private getAllLocalesPaths function (lines 84 and 87)... the module only export availableLangs. The access to translation always is trought get request (lines 136-145) and it check if the language is defined, else return 404.\n. @marcelklehr\n i didn't know that it was possible :) it's great than can be updated without restarting server... Can you help me sending me an example?\n. Done! @marcelklehr\n. If trl8.js is ready and you want, i could begin to use it in this branch.\nThe i18n module could serve json object when request is /locale/en.json, and ini file when request is /locale/en.ini and still using the same ini format from traslatewiki. Have we need localeIndex?\n. Yes, the file generated when request is /locales.ini\nhttps://github.com/joker-x/etherpad-lite/blob/translateplugins/src/node/hooks/i18n.js#L116\n. A plugin? It's an improve of core \"css\"\n. If any small change that should be common is implemented as plugin, bring them overhead, the code will be harder to maintain, multiply conflicts between plugins and more difficult to detect the origin of bugs. In my opinion, the plugins should be used for specific optional features, not to improve features that are already implemented in the core, if they revert to an overall improvement.\n. I don't like using external resources in Etherpad by default. The server should be self-contained. For using CDN or extends fonts supported, the plugins are cool. But your actual patch it's only a visual multiplataform improvement and i don't see any advantage to develop as plugin.\n. We have to update CONTRIBUTING.md\nTranslations are management throught http://translatewiki.net\nMore information here:\nhttps://github.com/ether/etherpad-lite/wiki/Translating\n. Do not worry, we've all wrong in the first pull request.\nThese strings are market to translation in develop branch now, i don't know if translatewiki have update, but if not, they will do soon, so it is better translate with the web tool to avoid format mistakes.\nThanks a lot!\n. Publish a new Issue with detail information about what fixed size blocks we have to fix i would be useful... :)\n. This weekend i'm busy. Monday devote all day.\n. Perhaps the user that run etherpad lite has not home directory. Then npm try to find cache in /.npm or in /root/.npm with no enougth privileges.\n. It is faster:\njs\nif (exports.favicon.substr(0,4)==\"http\") ...\n. i don't undestain your question... only said that use substr is faster than regular expresions\n. yes, this sentence only check if the string exports.favicon start with \"http\", so with \"https\" works too\n. It's came from https://github.com/ether/etherpad-lite/pull/1208\n. what about this??\njs\nif (exports.favicon.indexOf(\"//\") > -1) ...\n. at least, i need change other locale file apart from 'en.ini' to can testing\n. ok :)\n. ",
    "dora71": "I'd love to see that feature in a future release!\n. ",
    "snaut": "important feature, for me this is the only feature that keeps me from switching to etherpad-lite.\n. ",
    "xi": "I tried to work on this feature, but then I realized that there are serious limitations. But maybe I'm wrong:\n-  If anyone can set a password on a normal (non-group) pad, it is trivial to block other people from their own pads (DOS). So setting a password needs to be limited to pad creation.\n-  Pads are not listed anywhere, so they are protected by a \"you need to know the URL\" mechanism. I don't really see how \"you need to know the password\" is significantly more secure.\nI still feel like this feature would make sense somehow. But before I seriously start working on it I would like to understand the thread model.\n. ",
    "cnelsonsic": "It looks to be the case, yes.\n. ",
    "erstwhile": "the notes.occupy.net implementation is running behind an apache proxy server so it may be that if we want to support 100+ person pads we'll need to up the # of concurrent apache connections, or run it behind something like nodejitsu instead.\n. johnyma22 - what I want is the inverse of what you posted.  I want to say \n/api/1/getFromReadOnlyId?readOnlyID=r.oG8HIIx43VIiRqmc\nand get back \n{code: 0, message:\"ok\", data: {padID: \"test\"}}\neither that or some way to pass a readOnlyID through the API and get back the text of that pad, without having to expose the padID in the API call.\n. ",
    "nachopavon": "Did anyone had any succes in load balancing etherpad-lite? even based on padid?\n. ",
    "ramancode": "If I do the load-balance by pad id route, \nIs it possible ?\nis there a good up-to-date resource on the best way to implement this?\n. ",
    "mjd75": "I managed to get it three times this afternoon. I'm using Amazon EC2, two server instances (type m1.xlarge), both running Ubuntu 11.04. The first server is running a MySQL database and an EtherPad Lite instance (just running out of the box from a git checkout, only outputting error messages). \nThe second server is the one taking the real beating - running several headless X servers (Xvfb) and slowly trying to launch 400 Phantomjs (a headless WebKit 'browser') processes. Each Phantomjs instance is simply being directed to load the same pad from the other server and just maintain the connection. \nAt somewhere around 350-360 connections the server process will die with the above error.\n.    Unfortunately I have had to shut down the server instances already - I'm on a shoestring budget - but I can describe roughly what was involved:\nServer 1:\nInstalled Node.js (etc), EtherPad Lite and MySQL\nServer 2:\nInstalled Xvfb and PhantomJS\nI installed Xvfb following (roughly) this guide: \nhttp://blog.martin-lyness.com/archives/installing-xvfb-on-ubuntu-9-10-karmic-koala   \nsudo apt-get install xvfb\nsudo apt-get install xfonts-100dpi xfonts-75dpi xfonts-scalable xfonts-cyrillic\nLaunched two instances of Xvfb directly from the terminal:   \nXvfb :0 -ac\nXvfb :1 -ac\nI installed PhantomJS  following this guide: \nhttp://code.google.com/p/phantomjs/wiki/Installation\nsudo add-apt-repository ppa:jerome-etienne/neoip\nsudo apt-get update\nsudo apt-get install phantomjs\nI created a small JavaScript file for PhatomJS to use to control the browser instances:\n```\nvar page = new WebPage(),\n    t, address;\nif (phantom.args.length === 0) {\n    console.log('Usage: loader.js ');\n    phantom.exit();\n} else {\n    t = Date.now();\n    address = phantom.args[0];\nvar page = new WebPage();\npage.onResourceRequested = function (request) {\n    console.log('Request ' + JSON.stringify(request, undefined, 4));\n};\npage.onResourceReceived = function (response) {\n    console.log('Receive ' + JSON.stringify(response, undefined, 4));\n};\npage.open(address);\n\n}\n```\nAnd finally a launcher script that uses screen to run 400 instances of PhantomJS with the above script:\n```\n!/bin/bash\nconnect 200 instances to display :0\nfor i in {1..200}\ndo\n  DISPLAY=:0 screen -d -m phantomjs loader.js http://ec2-50-17-168-xx.compute-1.amazonaws.com:9001/p/pad2 && sleep 2\ndone\nconnect 200 instances to display :1\nfor i in {1..200}\ndo\n  DISPLAY=:1 screen -d -m phantomjs loader.js http://ec2-50-17-168-xx.compute-1.amazonaws.com:9001/p/pad2 && sleep 2\ndone\n```\n. ",
    "tohir": "+1 Would be really useful when integrating with other systems\n. ",
    "BlastDanger": "+1 - Any plans to update Etherpad to be able to revert to a version in the timeline?\n. ",
    "gedion": "Related to this issue is that importing overwrites the existing pad. Is it possible for it to append or insert instead? In my previous issue regarding cross domain policy, John had raised the possibility of this.\n. Yes I understand the current functionality. However I would think that it would be more useful if it can either create a new pad or insert/append into existing one as opposed to over writing it . \n. continued.... I accidentally hit submit...\nHere are the rest of the changes. Remember to use the firefox browser when testing. In Chrome, the caret jumps around when it is within the table. Please send us ideas and feedback\njavascript\n/*\nIn contentcollector.js, in function isBlockElement(), we need to make sure that br tags within tables do not induce a new line\n*/\n  function isBlockElement(n)\n  {     \n   var divNode = dom.nodeTagName(n) || \"\";\n   if(divNode == 'DIV'){\n     var tAttr = dom.nodeAttr(n,'value')\n     if(tAttr==null||tAttr!='tblBreak'){ \n        return !!_blockElems[(dom.nodeTagName(n) || \"\").toLowerCase()];\n    }\n   }\n   return false;\n  }\njavascript\n/* similarly in  cc.collectContent , the br condition needs an update */\n   if (tname == \"br\")\n      {\n       tAttr = dom.nodeAttr(node,'value');\n       if(tAttr == null || tAttr!='tblBreak'){\n        cc.startNewLine(state);\n        }\n      }\n``` javascript\n/\n  in domline.js and domline_clinet.js, we add the below function to render the json string as html table\n*/\n/\n     this code snippet needs to be added to result.appendSpan(txt,cls)     \n/ \n   else if (txt)\n    {\n  if(txt.indexOf(\"data-tables\")!=-1){       \n    try{\n        tblJSONObj = JSON.parse(txt);   \n        var htmlTbl = buildText(tblJSONObj,cls);\n        html.push('<span class=\"', cls || '', '\">',htmlTbl, perTextNodeProcess(\"\"), '</span>');\n    }catch(error){          \n        var tempErrorMessage = \"hmm...something went wrong. ctrl-z is the best thing a man could have. Reporting it to WLOS developers is the 2nd best thing!\";         \n        top.$('#error_message_cont').html('Error: buildText ' + error + '<br>' + tempErrorMessage);\n        top.$('#error_message_cont').fadeIn().delay(5000).fadeOut('slow');          \n    }\n  }\n  else{\n      if (href)\n      {\n        if(!~href.indexOf(\"http\")) // if the url doesn't include http or https etc prefix it.\n        {\n          href = \"http://\"+href;\n        }\n        extraOpenTags = extraOpenTags + '<a href=\"' + domline.escapeHTML(href) + '\">';\n        extraCloseTags = '</a>' + extraCloseTags;\n      }   \n      if (simpleTags)\n      {\n        simpleTags.sort();\n        extraOpenTags = extraOpenTags + '<' + simpleTags.join('><') + '>';\n        simpleTags.reverse();\n        extraCloseTags = '</' + simpleTags.join('></') + '>' + extraCloseTags;\n      }\n      html.push('<span class=\"', cls || '', '\">', extraOpenTags, perTextNodeProcess(domline.escapeHTML(txt)), extraCloseTags, '</span>');\n  }\n}\n\nfunction buildText(tblJSONObj, cls) {\n      var htmlTbl = \"\";\n      var tblId = tblJSONObj.tblId;\n      var tblClass = tblJSONObj.tblClass;\n      var tdClass = tblJSONObj.tdClass;\n      var trClass = tblJSONObj.trClass;\n      var payload = tblJSONObj.payload;\n      var tblProperties = tblJSONObj.tblProperties;\n      var rowAttrs = tblProperties.rowAttrs;\n      var cellAttrs = tblProperties.cellAttrs;\n      var colAttrs = tblProperties.colAttrs;\n  var tblWidth = typeof (tblProperties) == 'undefined' || tblProperties == null ? \"6\" : tblProperties.width || \"6\";\n  tblWidth = getAttrInInch(tblWidth);\n  var tblHeight = typeof (tblProperties) == 'undefined' || tblProperties == null ? \"\" : tblProperties.height || \"\";\n  tblHeight = getAttrInInch(tblHeight);\n  var tblBorderWidth = typeof (tblProperties) == 'undefined' || tblProperties == null ? 2 : tblProperties.borderWidth || 2;\n  var tblBorderColor = typeof (tblProperties) == 'undefined' || tblProperties == null ? \"\" : tblProperties.borderColor || \"\";\n  var currRow = tblProperties.currRowAuthorIdx;\n  var currCell = tblProperties.currCellAuthorIdx;\n  var authors = tblProperties.authors;\n  var htmlTbl = \"<table  id='\" + tblId + \"' class='\" + tblClass + \"' style='width:\" + tblWidth + \"px;height:\" + tblHeight + \"px;'><tbody>\";\n\n  var rows = tblJSONObj.payload;\n  var evenRowBgColor = typeof (rowAttrs) == 'undefined' || rowAttrs == null ? \"\" : rowAttrs.evenBgColor || \"\";\n  var oddRowBgColor = typeof (rowAttrs) == 'undefined' || rowAttrs == null ? \"\" : rowAttrs.oddBgColor || \"\";\n  for (var j = 0, rl = rows.length; j < rl; j++) {\n      var tds = rows[j];\n      trClassName = \"\";\n      var rowBgColor = oddRowBgColor;\n      if (j % 2 == 0) {\n          trClassName = \"alt\";\n          rowBgColor = evenRowBgColor;\n      }\n      htmlTbl += \"<tr style='background-color:\" + rowBgColor + \";' class='\" + trClass + \" \" + trClassName + \"'>\";\n      var preHeader = \"\";\n      if (j == 0) {\n          preHeader = \"{\\\"payload\\\":[\"\n      }\n      htmlTbl += \"<td   class='\" + tdClass + \" overhead'>\" + preHeader + \"[\\\"\" + \"</td>\";\n      for (var i = 0, tl = tds.length; i < tl; i++) {\n          var cellAttr = typeof (cellAttrs[j]) == 'undefined' || cellAttrs[j] == null ? null : cellAttrs[j][i];\n\n          var cellStyles = getCellAttrs(cellAttr, colAttrs[i], authors, i, j)\n\n          var quoteAndComma = \",\\\"\";\n          var bracketAndcomma = \"\";\n          if (i == tl - 1) {\n              quoteAndComma = \"\";\n              bracketAndcomma = \"],\";\n              if (j == rl - 1) {\n                  bracketAndcomma = \"]],\\\"tblId\\\":\\\"\" + tblId + \"\\\",\\\"tblClass\\\":\\\"\" + tblClass + \"\\\",\\\"trClass\\\":\\\"\" + trClass + \"\\\",\\\"tdClass\\\":\\\"\" + tdClass + \"\\\",\\\"tblProperties\\\":\" + JSON.stringify(tblProperties) + \"}\";\n              }\n          }\n          if (tds[i].indexOf('/r/n') != -1) {\n              cellsWithBr = \"\";\n              var tdText = tds[i].split('/r/n');\n              for (var k = 0; k < tdText.length; k++) {\n                  if (k < tdText.length - 1) {\n                      cellsWithBr += domline.escapeHTML(tdText[k]) + \"<div value='tblBreak' class='hide-el'>/r/n</div><br value='tblBreak'>\";\n                  } else cellsWithBr += domline.escapeHTML(tdText[k]);\n              }\n              htmlTbl += \"<td style='\" + cellStyles + \"border:\" + tblBorderWidth + \"px solid \" + tblBorderColor + \";' >\" + cellsWithBr + \"<br value='tblBreak'></td><td  class='\" + tdClass + \" overhead'>\\\"\" + quoteAndComma + bracketAndcomma + \"</td>\";\n          } else {\n              htmlTbl += \"<td style='\" + cellStyles + \"border:\" + tblBorderWidth + \"px solid \" + tblBorderColor + \";' >\" + domline.escapeHTML(tds[i] + \"\") + \"<br value='tblBreak'></td><td class=' \" + tdClass + \" overhead'>\\\"\" + quoteAndComma + bracketAndcomma + \"</td>\";\n          }\n      }\n      htmlTbl += \"</tr>\";\n  }\n  htmlTbl += \"</tbody></table>\";\n  return htmlTbl;\n\n};\nfunction getCellAttrs(cellAttr, colAttr, authors, cell, row) {\n      var attrsJSO = {};\n  var colWidth = typeof (colAttr) == 'undefined' || colAttr == null ? \"1\" : colAttr.width || \"1\";\n  attrsJSO['width'] = getAttrInInch(colWidth) + 'px';\n\n  var cellBgColor = typeof (cellAttr) == 'undefined' || cellAttr == null ? \"\" : cellAttr.bgColor || \"\";\n\n  if (typeof (authors) != 'undefined' && authors != null) {\n\n      for (var authorId in authors) {\n          author = authors[authorId];\n          if (typeof (author) != 'undefined' && author != null && author.cell == cell && author.row == row) {\n              cellBgColor = author.colorId;\n          }\n      }\n  }\n\n  attrsJSO['background-color'] = cellBgColor;\n\n  var cellHeight = typeof (cellAttr) == 'undefined' || cellAttr == null ? \"\" : cellAttr.height || \"\";\n  attrsJSO['height'] = getAttrInInch(cellHeight) + 'px';\n\n  var cellPadding = typeof (cellAttr) == 'undefined' || cellAttr == null ? \"\" : cellAttr.padding || \"\";\n  attrsJSO['padding-top'] = attrsJSO['padding-bottom'] = attrsJSO['padding-left'] = attrsJSO['padding-right'] = getAttrInInch(cellPadding) + 'px';\n\n  var cellVAlign = typeof (cellAttr) == 'undefined' || cellAttr == null ? \"\" : cellAttr.vAlign || \"\";\n  attrsJSO['vertical-align'] = cellVAlign;\n\n  var cellFontSize = typeof (cellAttr) == 'undefined' || cellAttr == null ? \"\" : cellAttr.fontSize || \"\";\n  attrsJSO['font-size'] = cellFontSize + 'px';\n\n  var cellFontWeight = typeof (cellAttr) == 'undefined' || cellAttr == null ? \"\" : cellAttr.fontWeight || \"\";\n  attrsJSO['font-weight'] = cellFontWeight;\n\n  var cellFontStyle = typeof (cellAttr) == 'undefined' || cellAttr == null ? \"\" : cellAttr.fontStyle || \"\";\n  attrsJSO['font-style'] = cellFontStyle;\n\n  var cellTextDecoration = typeof (cellAttr) == 'undefined' || cellAttr == null ? \"\" : cellAttr.textDecoration || \"\";\n  attrsJSO['text-decoration'] = cellTextDecoration;\n\n  var attrsString = \"\";\n  for (var attrName in attrsJSO) {\n      if (attrName) attrsString += attrName + \":\" + attrsJSO[attrName] + \";\";\n  }\n  return attrsString;\n\n}\nfunction getAttrInInch(attrValue) {\n      var intAttrValue = 0;\n      intAttrValue = parseInt(attrValue);\n      attrValue = isNaN(intAttrValue) ? parseFloat(attrValue) : intAttrValue;\n      return 96 * attrValue - 1;\n  }\n```\ncss to hide the unneeded columns.\nhide-el:{display:none;}\n. Hey guys. Today I had a breakthrough. All the table properties are working\nreally nicely.  I tested with a group of 5 people for about an hour. We\nwere able to make entries, change table properties like table\nwidth/height/bolding ect. They helped me identify errors that I am now\nworking on.\nThis might actually be usable guys.\nOn Sun, Feb 5, 2012 at 2:41 PM, John McLear <\nreply@reply.github.com\n\nwrote:\n.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/402#issuecomment-3820568\n. I am working on providing a public link right now.\n. I think what I need to do to take this to the next level is be able to sanitize/validate the table representation before a changeset is accepted.What I'd like to be able to do is reject a user request if that request breaks the json object.\n\nFor example if a user requests to add a row and the caret position is at an improper location, I'd like to verify it and then reject the changeset. In ace2_inner.js I am using the function performDocumentReplaceRange to add rows/columns. I need help figuring out where/when to do a validation. \n. Hello. Sorry for the delay. We've been quiet busy. We are almost ready for beta testing with larger audience. The table appears to be very stable. We also have a working oracle database support.\nWill share our work by tomorrow night Central Time Zone.\n. We have shared our latest codes with Pita and John last night. Hoping that they'll be able to make it available for the public.\n. Ok. I will give it a try.\n. Tak0r, not much improvement. Making it plug-able is going to take me a while. Right now our priority is to have it ready for testing with the way we have shared it with John/Pita. On my own time, I've started looking at existing plugins. I can only afford to put about 4 hours a week on it. \n. Please hold on. So much to do so little time. To be quiet frank, the arrival of Diablo3 is also consuming some of my allotted time for this(but i'm already getting bored as I'm finding it that it is nothing like my beloved D2). I'll set up something in the coming week. Will also try and see if I can figure out a public demo for it as well.\nThank you for your patience.\n. Heh yea. Maybe I should count it as a blessing that it's not as intriguing as d2.\nAnyway. I've decided to share some of the feedback that we receive from users(I should point out that our users are actually European). Hope this will entice you to provide our work as a plug in because I don't think I'll have the necessary time and knowledge needed to refactor it and make it plug-able. I am still interested in making plug-able and will continue to do so.\n\n\n\n. No more teasing : ). Here is a plugable code.\n1) Clone/fork my version of eplite which has the plugins and some exposure of ace functions to editorInfo object.(https://github.com/gedion/etherpad-lite.git)\n2) run the ep lite, access your admins/plugin page. You should see ep_datatables in the list of plugins.\n3) install it and then rerun your ether pad. You should see a button that says table.\n. Try following my steps.\n. Hmm I just did this and it worked. \nUsing your terminal \n1) git clone https://github.com/gedion/etherpad-lite.git\n2) (update settings.json to set up admin plugin)cd into your bin and type bash run.sh\n3) http://localhost:9001/admin/plugins\n4) You should see ep_datatables in the list. Install it and then restart you ep lite.\n. Hey John. Thanks for the feedback.\nI have made a pull request. But Matthias Bartelme\u00df and others are making suggestions. I will work on their suggestions and make a new pull request on develop branch. \nRegarding error/bugs, could you please enter them here? https://github.com/gedion/ep_datatables. They're already starting to rack up and having to juggle between emails, chats and message boards is no fun.\n. Thanks morangold. But hey I thought I was the one doing the teasing : )\n. Alright. here are the feedbacks that I have received and that I'll be working on.\n\n. Would like to re-ask this question. How can I run this on nodester? I have enough to demo table plug in. I tried Amazon ec2. Found it too complicated. Was able to set up a hello world on nodester. Now I would like to set up this app. Is it possible?\n. Yes I believe  jhollinger is correct that there are two issues here. To overcome the Ajax request issue(to use the API methods for example), my partner created a proxy server. That is sufficient for us.\nBut now we are trying to make epLite and our app interact through plain client side javascript. For example. we have an image loader in our app. Once the image has been loaded, I'd like to pass the source to the pad with something like this.\njavascript\nframes['epLite'].pad.editbarClick('http:www.myserver.com/images/smile.png');\nPita's idea in which to try modifying(document.domain)  only works locally.\n.  jhollinger's link(http://pipwerks.com/2008/11/30/iframes-and-cross-domain-security-part-2/) led me to solve my problem.\nIn the link someone mentions this, which works for me. Thank you all for your effort. \n\nDocuments are allowed to change from their subdomain to main domain. ex. from yyy.zzz.com you could set your  document domain to zzz.com. Now as both iframes have same domain, they can share/communicate easily.\n. Ok Thanks. Guess we're gonna have to start modifying serverside JS too now. Oh boy. I had to modify getHTML api to return html tables instead of the table's json object in string format. hopefully this will be straightforward as well.\n. Hi i get this error when using the plugin ep_copypad. I have the latest ep lite. The plugin is using an ep lite object so I thought it belonged here than there.\n\njavascript\n[ERROR] console - \u001b[39mError: Not a exports: null\n    at Object.error (/src/static/js/Changeset.js:41:11)\n    at Object.unpack (/src/static/js/Changeset.js:934:13)\n    at Object.applyToText (/src/static/js/Changeset.js:973:26)\n    at Object.applyToAText (/src/static/js/Changeset.js:1665:19)\n    at /src/node/db/Pad.js:197:27\n    at /src/node_modules/async/lib/async.js:486:21\n    at /src/node_modules/async/lib/async.js:185:13\n    at /src/node_modules/async/lib/async.js:108:13\n    at /src/node_modules/async/lib/async.js:119:25\n    at /src/node_modules/async/lib/async.js:187:17\n. Seems to work for me. I checked out the latest a couple days ago. Firebug has given me those kind of problems in the past. A couple of times I had to re-install fireFox just to get firebug working. Are you only seeing this error on epLite?\n. I just checked the latest and yes there is an error initially when loading. However I do seem to be able to run FireBug though as shown below here http://i40.tinypic.com/2zgvq4x.jpg\nI have FireFox 10.0.2 and and FireBug 1.9.1\n. I was using this unload event to do bookeeping like last modified date, last modified by and to initiate text mining of the pad entries. But it is ok, I can do it from my application side. Its just that this single event worked for many different situations where as my app will have to handle it using multiple different events and UI.\nHowever this situation does worry me a bit. What if you made such a drastic change that it hinders our table support work. I hope one day you will support backward compatibility. \n. I'm ok with not having that event however still the bigger issue that is the lack of backward compatibility worries me\n. Hello. Oracle database has the same issue. From my understanding, however oracle only allows setting of such encoding only at the database level. This above solution is not feasible for us. We came up with the below solution which seems to work but we are not sure of the consequences.\nin our oracle_db.js, before storing to db, we escape and encode all data as bellow.\njavascript\nexports.database.prototype.strencode = function(data){\n  return unescape( encodeURIComponent(  data ) );\n};\nwhen getting it, we decode it\n``` javascript\nexports.database.prototype.strdecode = function(data){    \n    return  decodeURIComponent( escape ( data ) ) ; \n};\nWhat do you guys think?\n```\n. I see now. Thanks\n. Ok thanks. I will give it a try.\n. It seems that modifying an element's innerHTML causes the magic domline to update. This would solve my caret position problems. For example, say a user wants to bold text in a cell. I am keeping track of cell properties at the end of this same row(hidden to the user) as shown below. When he/she presses Cntrl-B, I find the td element containing the properties, modifying it causes a dom update.\nThis simplifies a lot of issues for me. However is it a good/bad idea to mess with dom elements?\n\n. Ok. Thanks for the quick responses.\n. the safeRun script is able to restart the server after a crash, even when you klll the process from the command line(which brings me to ask the question of how to stop the server if I use this script?) but I have yet to receive any email notifications.\n. I am still finding this challenging. I am using firefox 12.0 and firebug 1.9.2.\n@redhog, yes I am looking at client side codes.\n@fourplusone Yes. Putting debugger; stops the execution. I can step though but can not see the code. console.log works. I can see the printouts. \nWhy are the codes invisible? \n. Any solutions? I now have a lot of free time and ready to put a lot of time in making a pluggable table support.\n. Chrome developer tool shows your plugin codes but not firebug. This is good enough. I'm loving the plugin system. Table support plugin is in good progress folks. \n. debugger; keyword doesn't seem to work in postAceInit in Chrome browser.\nAs the below code shows, I have a semi colon after the keyword yet it still complains.\nUncaught ReferenceError: debuggerDatatables is not defined\njavascript\n $(\"#editbar [data-key]\").each(function (i, e) {\n     $(e).click(function (event) {\n         debugger;\n         Datatables.toggleTableAttributeOnSelection($(e).attr('data-key'));\n         //self.toolbarClick($(e).attr('data-key'));\n         event.preventDefault();\n     });\n });\nAny idea?\n. Here is one common restart. Even though our app logs you out and redirects after 1 hour, could it be a session expire error?\n[31m[2012-08-05 04:24:23.140] [ERROR] console -[39mTypeError: Cannot set property 's.5FBDR9wWnIIbyGZY' of undefined\n    at Object.callback (/home/src/node/db/SessionManager.js:148:46)\n    at /home/src/node_modules/ueberDB/CloneAndAtomicLayer.js:95:17\n    at /home/src/node_modules/ueberDB/CacheAndBufferLayer.js:183:7\nRESTART!\n. Thanks for the quick response. Users do not like the server restarts. I think that's the only issue that's keeping our app from taking a flight.\n. My ep lite version is 1.0.0\n. Hmm I thought I had the latest. We're using plugins and everything already. I'm not trusting the output that says my version 1.0.0.  I think I may have used develop version. I'll update it to the latest.\nAnyway. With that fix you suggested, we now see similar error but in a different place.\njavascript\n\u001b[31m[2012-08-09 18:33:56.479] [ERROR] console - \u001b[39mTypeError: Cannot set property 's.QLKy2fmwA4CvesoT' of undefined\n    at Object.callback (/home/src/node/db/SessionManager.js:171:47)\n    at /home/src/node_modules/ueberDB/CloneAndAtomicLayer.js:95:17\n    at /home/src/node_modules/ueberDB/CacheAndBufferLayer.js:183:7\n. Hi  marcelklehr. No it's been great since your fix : ). Our users(in Ireland) create about 15 pads a day. Since then we only saw one restart and it was because of our database. We are moving on to a 2nd and larger user base located here in the US. Initial feedback from a small group has been positive. Thanks for the fix. You saved my life. It's so unfair how a small bug like this can be a show stopper.\n. A couple of new ones showed up. \nThis first one occurred a week or so ago but have not seen it since.\n``` javascript\n [31m[2012-08-30 03:22:25.553] [ERROR] console -  [39mAsync Stacktrace:\n    at src/node/handler/APIHandler.js:159:7\n    at src/node/db/API.js:220:8\n    at src/node/db/API.js:552:8\n    at Object.callback (src/node/db/PadManager.js:117:8)\nSyntaxError: Unexpected end of input\n    at Object.parse (native)\n    at src/node_modules/ueberDB/CacheAndBufferLayer.js:162:24\n    at [object Object]. (/src/node_modules/ueberDB/oracle2_db.js:57:17)\n```\nThe 2nd one occured today on two different pad\njavascript\n[31m[2012-09-11 05:11:10.928] [ERROR] console -  [39mError: exports: newlineEnd <= 0 in splitAttributionLines\n    at Object.error (/src/static/js/Changeset.js:41:11)\n    at Object.assert (/src/static/js/Changeset.js:55:13)\n    at Object.splitAttributionLines (/src/static/js/Changeset.js:1330:15)\n    at getHTMLFromAtext (/src/node/utils/ExportHtml.js:99:31)\n    at /src/node/utils/ExportHtml.js:80:12\n    at /src/node_modules/async/lib/async.js:517:34\n    at Array.0 (/src/node_modules/async/lib/async.js:441:34)\n    at EventEmitter._tickCallback (node.js:192:40)\n. Here is a new one I've not seen. It happened 3 times today.\nIs it possible to print out the pad id that caused the error?\n``` javascript\nat /src/node/handler/APIHandler.js:159:7\n    at /src/node/db/API.js:220:8\n    at /src/node/db/API.js:552:8\n    at Object.callback (/src/node/db/PadManager.js:117:8)\nSyntaxError: Unexpected end of input\n    at Object.parse (native)\n    at /src/node_modules/ueberDB/CacheAndBufferLayer.js:162:24    \n```\n. Same as before. Not quiet ready to update with the latest epLite.\n. Oh wow. Thank you!!!\n. Did you try other browsers besides Internet Explorer? If you want it to run IE, you'll have to minify it.\n. Hi Mark, I created my own hook in handleKeyEvent function and have been able to do what I need to do. \nI do have a couple of questions. \n1) How should hooks return result/messages? For example below is the hook I created. \njavascript\n        hooks.callAll('aceKeyEvent', {\n            callstack: currentCallStack,\n            editorInfo: editorInfo,\n            rep: rep,\n            specialHandled:specialHandled,\n            documentAttributeManager: documentAttributeManager,\n            evt:evt\n          });\n       specialHandled = editorInfo.specialHandled||specialHandled;\nAs you can see I am using the editorInfo object to pass my message. Is this accepted? \n2) Is there a rule to which ace methods are available for hooks? In my plugin, I needed to use a couple of ace functions like performDocumentReplaceRange so I added them to editorInfo object. Is that ok?\n. Not yet for my ace hooks. I have submitted a request for contentCollector.js though. I am not done with ace yet. \n. Ok. I will work on those. Although I did indent them using\nhttp://jsbeautifier.org/.\nA question. I am trying to setup a public link using the below link.\nhttps://github.com/Pita/etherpad-lite/wiki/How-to-deploy-Etherpad-Lite-on-Cloudfoundry.com\nIt states that git://github.com/rozcietrzewiacz/etherpad-lite.git is the\none I should use but that seems to be outdated.\nAny idea?\nThank you,\nOn Thu, Jul 5, 2012 at 3:01 PM, Matthias Bartelme\u00df <\nreply@reply.github.com\n\nwrote:\nLooks good. However, here are some considerations.\nCan you\n- provide docs how to use these hooks\n- fix indention (2 spaces)\n- open a pull request on develop\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/843#issuecomment-6789061\n. I'm sorry I have not had a chance. Seemingly random server restarts have been tormenting us last couple of weeks. marcelklehr bug fixes seem to have helped as I don't see any restarts yesterday and today after applying it.\nI also had to prioritize other requests like retaining headings when exporting.\n\nI'm going to work on this today.\n. Hi sorry I have done all except redhog's suggestion, which I am finding difficult. Tomorrow is a holiday here in the US so I will spend time on it.\n. Hello, please disregard this request. I have requested an improved one in develop(https://github.com/Pita/etherpad-lite/pull/992)\n. Any insights?\nToday we received this error. There are about 600,000 entries in the db. Would making revision history saving less help?\nORA-01555: snapshot too old: rollback segment number 32\n. Yes we're looking at our db settings. However over 95% of the entries are revisions. That is an overkill specially for what we want. Users are less likely to go back for our app. Its just a means of communicating day to day operations. The most they'll go back is a week or so.\n. Hi fourplusone. Thanks for the suggestion. It worked for me. I've made the neccessary pull request for both ep lite(develop branch) and ep_headings.\nI would appreciate a feedback. One thing I could not figure out is how to apply other attributes like underscore/list to a line that contains a heading.\n. Still trying to understand this. I will have to tweak the hooks I submitted( I initially made them so that they pick up element 0 of the array : ( ). Here is how I'm planning to update the hooks.\n\naceKeyEvent Called from: src/static/js/ace2_inner.js\na plugin to handle key events.\nThe return value should be true if you have handled the event.\nHow epLite will handle the response array\n Say 5 different plugins are hooked to this one. I assume the array will be of length 5 with either true/false values. If all the hooks decided not to handle the event(return value of [false,false,false,false,false]), Ep Lite can then continue and handle it with its original implementation.  If at least one entry is true, then the original implementation will be over-ridden(will not be executed in this case). \n\naceStartLineAndCharForPoint/aceEndLineAndCharForPoint Called from: src/static/js/ace2_inner.js\nAllow plugins to turn DOM node selection into [line,char] selection.\nThe return value should be an array of [line,char]\nHow epLite will handle the response array\nFor this hook I will have to assume that a hook \"owns\" a magic dom line by tagging/labeling it.\nSo If we had 3 plugins hooked to this one, we would have these possible results.\nreturned value would look like [[x1,y1],null,null], [null,[x1,y1],null] or [null,null,[x1,y1]]\n\ncollectContentLineText Called from: src/static/js/contentcollector.js\nThis hook allows you to validate/manipulate the text before it's sent to the server side.\nThe return value should be the validated/manipulated text.\nHow epLite will handle the response array\nSame as previous. Only one hook should return a text since this is per line\n\ncollectContentLineBreak Called from: src/static/js/contentcollector.js\nThis hook is provided to allow whether the br tag should induce a new magic domline or not.\nThe return value should be either true(break the line) or false.\nHow epLite will handle the response array\nAll hooks would have to return true to cause the presence of a br tag to cause line breakage.\n\ndisableAuthorColorsForThisLine Called from: src/static/js/linestylefilter.js\nThis hook is provided to allow whether a given line should be delineated with multiple authors.\nMultiple authors in one line cause the creation of magic span lines. This might not be suit you and\nnow you can disable it and handle your own delineation.\nThe return value should be either true(disable ) or false.\nHow epLite will handle the response array\nIf at least one one hooks returns false, authorcolor for the line will be disabled.\n\n. Hi John. I don't like the word 'support' : (. I'll take anything else you might have though.\n. @marcelklehr. Ok I i'll make a new pull request for the docs.\n@johnyma22. I will go with ep_tables. Exciting to hear that it could be included in your next version. Hopefully people will send us feedback and suggestion soon enough.\n. Thanks : )\n. Hi. Yes. I'm planning to work on it today and tomorrow.\nOn Sat, Sep 22, 2012 at 9:30 AM, Marcel Klehr notifications@github.comwrote:\n\nAlso \"add in the docs for #992https://github.com/Pita/etherpad-lite/issues/992(\n@gedion https://github.com/gedion)\" is still missing!\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/Pita/etherpad-lite/pull/1000#issuecomment-8789299.\n. Hi John,\nJust have one too many little things going on right now. Im getting close.\nI have the docs ready and have updated 2 hooks, 2 more left which I should\nbe able to finish by tomorrow night CST.\n\nOn Tue, Sep 25, 2012 at 10:57 AM, John McLear notifications@github.comwrote:\n\n@gedion https://github.com/gedion any update yet? :)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/Pita/etherpad-lite/pull/1000#issuecomment-8859507.\n. It works for me. Try clearing your cache. (shoot I missed the deadline : ( Sucks to be in North America. I feel left out of the loop of epLite community)\n. How did you set it up?\n\nI'm using ubuntu and all I did was git clone https://github.com/Pita/etherpad-lite.git and then run bin/run.sh\n. Hi. Not sure why this happens but if you go into node modules and directly clone from https://github.com/gedion/ep_datatables.git and restart your server, it should work.\n. Should be able to install ep_tables now. I have unpublished ep_datatables but there appears to be some sort of caching.\n. Will do. Hey is now a good time to ask if my partner and I could claim\nthis? : )\nhttp://gun.io/contracts/8/add-table-support-to-etherpad-lite\nOn Mon, Oct 1, 2012 at 3:06 PM, John McLear notifications@github.comwrote:\n\nThanks @gedion https://github.com/gedion as soon as the descriptions\nare in we will Merge this :) No worries on the delays, things take time we\nunderstand :)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/Pita/etherpad-lite/pull/1031#issuecomment-9047592.\n. It's pretty stable I'd say. We have about 15 pads a day being created.\nAlmost all of them have at least one table. Although It's no spreadsheet\nlike gdoc, our users are finding it sufficient.\n\nYou were probably constantly clicking around to jump from one cell to\nanother. I will add an onClick event which should improve that.\nOn Mon, Oct 1, 2012 at 4:55 PM, John McLear notifications@github.comwrote:\n\nI'd say it's really premature, does the functionality even work? Last time\nI tested it I could break it in seconds.\nDate: Mon, 1 Oct 2012 14:54:35 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nCC: john@mclear.co.uk\nSubject: Re: [etherpad-lite] Update docs for new hooks and ace exposures\n(#1031)\nWill do. Hey is now a good time to ask if my partner and I could claim\nthis? : )\nhttp://gun.io/contracts/8/add-table-support-to-etherpad-lite\nOn Mon, Oct 1, 2012 at 3:06 PM, John McLear <notifications@github.com\n\nwrote:\nThanks @gedion https://github.com/gedion as soon as the descriptions\nare in we will Merge this :) No worries on the delays, things take time\nwe\nunderstand :)\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/Pita/etherpad-lite/pull/1031#issuecomment-9047592>.\n\n\u2014\nReply to this email directly or view it on GitHub.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/Pita/etherpad-lite/pull/1031#issuecomment-9051565.\n. @johnyma22 I've made it install-able : ). I just needed to update my json file because the install mechanism didn't like it when you have ep_etherpadLite as dependent.\n. @johnyma22 How about that gun.io now? : )\n\nI've getting feedback now. I'm working on https://github.com/gedion/ep_tables/issues/4 at the moment.\n. Hey I've identified the issues with those that fail to install via the admin UI.\nWhen attempting to install, the ones that end with the error \"undefined: undefined\" have the below dependencies in their package.json.\njavascript\n\"dependencies\": {\n\"ep_etherpad-lite\": \"1.0.x\"\n  },\nFor the plugin Datatables, I removed this dependency and re-published ep_datatables to npm. This seems to resolve it. \nHowever I still needed to restart my server.\n. FireFox 16.0.2\n. I have a hunch that a lot of pad breakages and server restarts are caused\nby drag and dropping.\nIs it possible to disable this feature completely until eplite is stable?\nOn Sun, Apr 7, 2013 at 2:22 PM, John McLear notifications@github.comwrote:\n\nAlso it appears that if you highlight content and drag it to the last line\nin Chrome you get an error.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1139#issuecomment-16021620\n.\n. @johnyma22, Yes we are running some plugins. But I don't believe they are the cause. Thanks for the checkPad script. Will give it a try.\n\n@Wikinaut, We use Oracle and we do have an archiving mechanism. We keep our working table to about 300k row entries.\n. Yes. That is a bit specific to data tables. I could not think of an elegant\nway of creating a hook for that.\nOn Thu, Jul 5, 2012 at 4:30 PM, Egil M\u00f6ller <\nreply@reply.github.com\n\nwrote:\n\n@@ -153,14 +153,20 @@ linestylefilter.getLineStyleFilter =\nfunction(lineLength, aline, textAndClassFun\n\nHm, wouldn't this have been possible to hookify? \"data-tables\" sounds\nvery... table-support-plugin-specific?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/pull/843/files#r1108951\n. \n",
    "marek-j": "Woah so much response in so little time. Actually, I was thinking of email notifications. My prospective users are not so much into RSS and need something simple. @Wikinaut : I think your manifesto points 2/3 are somewhat strange. Haven't seen this behavior in mailinglist or anywhere else. I suppose users would not understand it right away.\n. Should something like this be triggered in handleUserChanges  in PadMessageHandler.js? Activation/Deactivation of WATCHING should be located in the user-preferences dialog in the UI? \nUser mails should be authenticated before sending notifications to that mail address, how should this happen?\n. I have the same problem running node v0.8.9 and etherpad-lite commit d40a64893cf48fdf6b2d3582a6027d10b3029bc7 as a non-root user when I access the plugin admin page. Apparently http://registry.npmjs.org/-/all is accessed but etherpad dies during retrieval?\nThis is the output, how can I provide more info?\nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2013-03-20 09:25:25.082] [WARN] console - You need to set a sessionKey value in settings.json, this will allow your users to reconnect to your Etherpad Instance if your instance restarts\n[2013-03-20 09:25:25.083] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production.\n[2013-03-20 09:25:25.852] [INFO] console - Installed plugins: ep_etherpad-lite\n[2013-03-20 09:25:25.905] [INFO] console - Your Etherpad Lite git version is d40a648\n[2013-03-20 09:25:25.905] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2013-03-20 09:25:25.945] [INFO] console -    info  - 'socket.io started'\n[2013-03-20 09:25:26.018] [INFO] console - You can access your Etherpad-Lite instance at http://0.0.0.0:9001/\n[2013-03-20 09:25:26.018] [INFO] console - The plugin admin page is at http://0.0.0.0:9001/admin/plugins\n[2013-03-20 09:25:40.206] [INFO] socket.io - handshake authorized 'XhPJTPApMumqkmsiHgs6'\nWARN Building the local index for the first time, please be patient\ninfo trying registry request attempt 1 at 09:25:40\nhttp GET http://registry.npmjs.org/-/all\nWARN Building the local index for the first time, please be patient\ninfo trying registry request attempt 1 at 09:25:40\nhttp GET http://registry.npmjs.org/-/all\nhttp 200 http://registry.npmjs.org/-/all\nKilled\n. Hi, \nyes but it also happens when I just do an \"npm search\" on the command\nline. I did not know that etherpad uses npm internally when it issues\nthose HTTP GETs. \nSo apparantly npm is broken on my system. However I tried several\nversions of node from the git, including 0.9.22, and all produce this\nerror with npm. I suspect it is something else.\nI am doing this on a fairly old debian squeze system, this might be part\nof the problem.\nDo you have any suggestions how to hunt that down?\nThanks,\nMarek\nOn Wed, 2013-03-20 at 08:21 -0700, John McLear wrote:\n\n@marek-j can you consistantly replicate this issue?\n\u2014\nReply to this email directly or view it on GitHub.\n. No it does not, as I just replied to John, I now realize that it is not\na etherpad problem but one that npm produces. My other reply provides\nmore information.\n\nMarek\nOn Wed, 2013-03-20 at 05:27 -0700, Marcel Klehr wrote:\n\nmh. you could set the log level to something lower.. like DEBUG, i \ndunno if that affects npm's logging though \n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "marsjaninzmarsa": "Wiki link outdated, more proper, following request and one of implementations.. ",
    "WolfgangKluge": "just for info. This was a v8 bug.\nhttps://github.com/mishoo/UglifyJS/issues/294\n. ",
    "Tak0r": "Yeah any update on the Progress for this? I would love to have table support!\n. thats seriously nice to hear!\n. @gedion any update on this?\n. Yeah very nice!\n. okay not so nice since http://registry.npmjs.org/ doesen't respont :( so i can't test it ...\n. i did as i said.... the npmjs repo isn't avaiable so the generation of the plugin list is stuck!\n. again, nothing wrong with your code.\nhttp://registry.npmjs.org/ wasn't reachable for some time it's working now!\n. ",
    "mgoldboi": "video looks amazing, lots of people are anxious to try it... any chance of an update, or some piece of the code? :)\n. would you mind sending a gz of your code or just the diffs, maybe some other people can work on it on parallel and push it forward. it's just a shame such a great feature will be lost due to time restrictions. \n. gedion, you need to stop teasing ;)\n. Gedion, Job well done, lots of people were expecting it.\nand sorry for the teasing :)\n. ",
    "nkhine": "ah ok, sorry\n. oh yes, thank you.\n. ",
    "tjrana": "Thank you for fixing the first bug.\n. For https://factor.cc/pad/p/test it still has problems with both bugs.\n. Again, it has problems with both bugs.\n. Close this issue.\n. Then there's uselessly extra amounts of data transfer... Imagine large amounts of text...\n. How hard is it to implement addText(padID, text, location) and delText(padID, fromLocation, toLocation)?\n. The reason why this is very important is so that other people can develop an app that can use the api and minimize data transfer between the device and the server.\n. I honestly believe it is very important to add functionality to the api. currently, not much can be done outside the website\n. I agree.\n. I agree!\n. Yes, and it is somewhat difficult for me to work with Etherpad Lite.\nhttp://socket.io/\nhttp://socket.io/#how-to-use\nhttps://github.com/learnboost/socket.io/wiki/\n. http://img338.imageshack.us/img338/8245/screenshot20120226at819.png\n. http://img560.imageshack.us/img560/6804/screenshot20120226at828.png\n. I agree with Pita with no more than 1000 characters.\n. ",
    "almereyda": "Closed means Solved. Yeah! Good to know.\n. ",
    "edy": "try to GET /p/g.NFOShuJeIcDXFikU$aa03a574f13f9cdd4b49032a671df0b1\nbut you'll fail because group pads are initially set to private.\nsee also https://github.com/Pita/etherpad-lite/blob/master/node/db/SecurityManager.js#L256\n. same issue here with Firefox 11 (Chrome and Safari are OK)\n$ git clone https://github.com/Pita/etherpad-lite.git && cd etherpad-lite\n$ git checkout develop\n$ ./bin/run.sh\nMac OS X 10.7.3\nFirefox 11.0 (new installation, new profile but with Firebug installed)\n\n. yes! 1260044 works and c65216a doesn't\n. @0ip thank you!\n. i want to replace the \"/\" route, so i hooked into expressCreateServer and did my own \"args.app.get(...)\".\nthis works on osx, but not on ubuntu because the file order from readdir was different. i know i can use \"pre\" and \"post\" but this was the best solution for me to be cosinstent on every platform i use.\ni also want to avoid this in my ep.json:\n\"post\": [\"ep_etherpad-lite/adminplugins\", \"ep_etherpad-lite/socketio\", \"ep_etherpad-lite/errorhandling\", \"ep_etherpad-lite/importexport\", \"ep_etherpad-lite/static\", \"ep_etherpad-lite/specialpages\", \"ep_etherpad-lite/padurlsanitize\", \"ep_etherpad-lite/padreadonly\", \"ep_etherpad-lite/apicalls\", \"ep_etherpad-lite/webaccess\"],\n. any progress on this annoying issue?\n. the problem exists because the session store is not persistent. i think something like \"UberDBStore\" would be cool.\ni wrote a DirtyStore to store sessions in DirtyDB.\nargs.app.use(express.session({\n    // ...\n    store: new DirtyStore()\n    // ...\n}));\n. @johnyma22 feel free to use it\n. i digged into the code and found out, the caching middleware does cache all the headers. the set-cookie header too. this is why every user gets the same session id\n. thanks for merging this.\nis there a valid reason for caching the headers?\n. yes, this fixed the issue\n. nope\n. ",
    "DerKobe": "Ok this actually worked (and the pad is secured by the session cookie). Thanks!\n. ",
    "drdla": "See pull request #503\n. First of all, thank you for your opinions.\n@cweider I understand your point and must admit that I have never contributed to popular open source projects, so please forgive me for not knowing any good practices for that.\nIn my opinion, proper code formatting improves maintainability a lot and I was expecting to benefit all contributors by reformatting parts of the codebase.\nI don\u00b4t know, what a good approach for reformatting would look like. Even if I break this huge monolithic commit down into smaller chunks, the merging problem you mentioned still persists.\nWould you suggest not to clean up the formatting? How would you approach this problem?\n@0ip Because of the markup structure (divs only with ids), it is not possible to only change css or only change html. Usually I had to change the html and adjust some js and css accordingly. I can certainly break the commit down in smaller pieces, but it will still be quite a few changes in each commit.\nimho an interface should get out of the way and let the user focus on the task he tries to accomplish (here: write text).\nThis principle has already been implemented really well in etherpad-lite before by basically filling the whole screen with only a large textarea and some buttons, but not lots of fancy styled but useless elements around it.\nNow on to your remarks:\n\"most of the UI components lack contrast\"\nYes, on purpose. I agree though that the icons should be a bit darker to increase contrast.\nThe idea behind lowering contrast is that high contrast draws attention. So everything that doesn\u00b4t deserve a lot of attention should be moved to the back to make the things that DO deserve attention stand out more. Google for example has removed borders around buttons altogether in some applications and only shows them on hover. The increase in whitespace and the reduction of distracting lines makes it a lot easier to \"read\" the interface.\n\"some background-positions do not match the actual position\"\nI noticed that I messed up the positions of the underline icon and the strike-through icon. In addition, the spacing in the sprite needs to be increased, because you can see parts of other icons in some cases (e.g. you can see a grey dot in the upper part of the connected users icon that belongs to another icon). I can easily fix those issues.\n\"UI is not resizable \u2192 looks spooky on android/ios browsers or embedded pads\"\nI didn\u00b4t test on anything else then a Mac with Firefox yet. There\u00b4s definitely a need to check different devices and browsers. I can certainly do some testing and fixing, but would greatly appreciate any assistance in this, for example by commented screenshots.\n\"why does the left editbar has some margin while the right one doesn't?\"\nI always have line numbers turned on and adjusted the left margin of the editbar accordingly. I suggest checking for line numbers with js and adding a class to the editbar / BODY / whatever that removes the margin, if line numbers are not shown.\n\"#391 - is there a reason why you removed this?\"\nYou are totally right - an active state for buttons is absolutely required. This applies to all buttons though, not only the buttons that open dialogs, but the formatting buttons as well. I can fix that bug, but I suggest a general implementation of showing active states for buttons.\n\"inputs definitely need outline: 0 if a border is defined since chrome adds a yellow one\"\nGood point - I totally agree here, but simply had not added it yet.\n\"don't mix em and px in one value\"\nNo problem in my opinion.\n\"h1, h2, etc. should have different font-sizes\"\nYou are most likely referring to the headings used in dialogs. It is true that there is no clear hierarchy in styling right now.\nI would rather suggest to work on the structure of the dialogs themself though. The use of headings is inconsistent there.\n\"the box-shadow @ #usericon you removed was there to indicate which color a user has ;)\"\nI know, but I think this is an unnecessary hack. For that purpose, it would be better to use the background-color attribute.\n\"favicon without \"EP\" looks much better, imho\"\nTrue, 'EP' might even be a bit misleading. I have played around a bit with the favicon on the train today and thought about rather using the pad with colored lines on it. This would better symbolize the collaborative aspect of etherpad-lite and even look a bit like an etherpad-lite document where several people have collaborated.\nAnyways: Thanks again for sharing your opinions. I look forward to your comments on my replies.\nAnd I would be especially thankful for any suggestions, how the changes I proposed can be integrated into the project in a way that does not break other work on it.\n. Sorry, I\u00b4m struggling with how to define on github what\u00b4s included in the pull request...\n. This is a commit targeted at maintainability.\nhttps://github.com/Pita/etherpad-lite#readme states:\n\n\"A smaller, manageable and well documented codebase makes it easier for developers to >improve the code and contribute towards the project.\"\nand goes on to compare, how etherpad-lite was able to significantly reduce complexity for developers with the side-effect of (at least temporarily) sacrificing functionality of etherpad that is important for end users.\nA lot of effort has been put into structuring the node.js code.\nIf you look at the frontend, you find JS inside of HTML, CSS inside of HTML, CSS inside of JS, and HTML inside of JS. Spaghetti code.\nWhich in itself is not a problem for a state of transition.\n\nI was attempting to help with this transition by putting a lot of qualified work into this pull request.\nIt provides significant benefit for end users, because\n- the UI is better structured and increases usability\n  * there is less focus on \"structure\" (e.g. borders) and more focus on \"content\" (e.g. buttons and text)\n  * there are clearly discernible hover states for all elements the user can interact with\n  * there are proper active states for buttons that trigger menus (should also be applied to other buttons though)\n  * there is less variation (aka more consistency) in how the UI behaves\n  * it improves page loading speed, e.g. by using sprites thus massively reducing the number of requests, which is the #1 performance rule by Steve Souders (see yslow and pagespeed)\n  * it provides a better page rendering experience (although additional steps need to be taken to arrive at a truly good experience)\n  ** as a side-effect, it also looks more attractive, which makes adoption by the user more likely\nIt provides significant benefit for developers adopting etherpad-lite, because\n- it makes it easier to understand the code\n- it makes it easier to customize the UI\n  * by removing over-specification of selectors (such as using !important and multiple IDs in selectors)\n  * by providing PSD source files for all images\n  If you don\u00b4t like the \"aesthetic attributes\" (icons, border colors, ...), it is very easy to update the images or the values in the CSS.\nBut most of all, it provides huge, huge benefit for developers of etherpad-lite, because\n- it makes the code more DRY in general and removes several duplications\n- it removes multiple JSLint warnings\n- it fixes several bugs\n- it incorporates good web development practices (such as separation of concerns: HTML = structure, CSS = appearance, JS = interaction)\n- it adds several comments to the code and provides a easier to follow structure (which in itself is superior to a comment)\n- it reduces the number of lines of code in some places by some 50%\n- it removes (HTML) structure that has no function\n- it provides a clean basis to build upon\nAlthough I personally think, my contribution also brings the project closer to current aesthetics on the web, it is meant as a suggestion. In no way do I intend to try to impose my personal visual taste to this project.\nMoreover, I think it can clearly be outlined, in which way this pull request brings substantial benefit to the project, which is 100% in line with the reason, why the project was started in the first place: \"...make[s] it easier for developers to improve the code and contribute towards the project.\"\n. The editbar for example uses onClik event handlers directly written into the HTML, which would better be done calling something like $('#users').click(function() {...}); from a separate JS file. This improves maintainability, since it is clear, where code regarding functionality (JS) and code regarding structure (HTML) is kept.\nAn inline script causes the rendering of the page to be blocked until all JS code is downloaded and parsed. Until then, the user is presented no or a broken interface, which obviously is not desirable.\nI haven\u00b4t investigated very much, how exactly all the modules interact etc., but as far as I can see, the paths do not depend on anything specific about the client and thus could be moved to an external JS file. The same appears to hold true for the require statements that could as well be called from an external file.\n. ",
    "nsfmc": "if you control the server, you can also send back the Access-Control-Allow-Origin: * and Access-Control-Allow-Credentials: true headers to get past the crossdomain issues. You don't have to use * for the origin, obviously, you can whitelist a set of domains and it should have the same effect and usually works in most modern browsers.\nMore info here, but https://developer.mozilla.org/En/HTTP_access_control\n. i don't know what the security implications are (in particular, since etherpad has philosophically very few access control issues and also because i don't know much about how etherpad-lite deals with auth), but i would assume in most cases it's not particularly dangerous. \nwhere i work, we decorate methods that we think should be cross-domain friendly, so we don't do it for all endpoints by default, just for ones which are harmless enough (i.e. most GETs are probably ok)\n. ",
    "larsfu": "Only happens when the tab is at the beginning of the line - but it does not matter how many tabs there are, they all become one asterisk. see also: http://beta.etherpad.org/p/indent\n. I cannot reproduce with Firefox 12. Works fine for me, even the \"typeset\" button.\nuser agent: Mozilla/5.0 (Windows NT 6.1; rv:12.0) Gecko/20100101 Firefox/12.0 \nedit:\nMozilla/5.0 (X11; Linux x86_64; rv:12.0) Gecko/20100101 Firefox/12.0 works as well.\n. ",
    "PanderMusubi": "This bug is also in the version currently in use by etherpad.mozilla.org when using unordered lists (bullets with indentation). As https://github.com/ether/etherpad-lite/pull/1532 is fixed, could fixing this issue also move forward?\n. Ha! Well I hope this encourages them to upgrade. For those on etherpad.mozilla.org, see https://bugzilla.mozilla.org/show_bug.cgi?id=1173329\n. I hope Mozilla can move forward with this. Perhaps Mozilla can put out a call for volunteers on https://etherpad.mozilla.org/ and on all the team sites to help out with upgrading/migrating? I think most of the users would like to benefit switching to Etherpad Lite.\n. Yes, CTRL+key or CTRL+SHIFT+key. As far as I am concerned, all buttons should have them in order to reduce the need to use the mouse or pad.\n. It is not easy to find free combinations.\nCTRL+SHIFT+S strike through (free on Firefox and Chrome)\nCTRL+SHIFT+Z toggle bullet list (free on Firefox and Chrome)\nTAB indent list (already works but needs to be shown in hover on button)\nSHIFT+TAB unindent list (already works but needs to be shown in hover on button)\n. Where is the PPA? If it exists, please report it also to https://bugs.launchpad.net/ubuntu/+bug/1397373\n. First you need to configure your compose key\n. Note, you have probably a QWERTZ keyboard and \" above the 2. Other people with a QWERTY keyboard have it above the singe quote '.\n. Works on beta.etherpad.org with Ubuntu 14.10 in Firefox and Chromium with compose key is win.\n. Hopefully Bountysource will be a success. I have made a small donation and hope others will do too. Recognition for the work done on FOSS must be given to developers, donating money is one form of doing this. As far as I am concerned more users and bug reporters could be informed on this way of working.\n. Any specific place where I can add this?\n. A reference implementation can be found at https://stackedit.io/editor\n. There was non to find on the page and it looked to me that this one was run by core developers of this project. Perhaps good to add contact information of important sites that run Ethernet in the wiki next to the respective urls? Meanwhile all is up and running again. Thanks.\n. Please, see also for both Debian and Ubuntu https://bugs.launchpad.net/ubuntu/+bug/1397373 Adding a vote there will also help gain support for packaging etherpad.. ",
    "superawesome": "More accurately, etherpad.mozilla.org is a different codebase entirely- it's not Etherpad Lite, it's the original Etherpad (java/scala). We haven't switched over due to lack of team site support in Etherpad Lite.\nWe've considered switching anyway, but that's a huge feature that we've come to enjoy, and we haven't had the engineering time available to replicate it (apart from \"use Google Docs instead\"). We may eventually stand up a separate, standalone Etherpad Lite instance and push users to do exactly that.\n. ",
    "davidmarble": "Unexpected behavior on both Firefox and Chrome for me. Definitely a nuisance for keyboard and page-up/down lovers.\n. Windows:\nChrome: Latest stable: 17.0.963.79 m - jumps much further than a page.\nFirefox: 10.0.2 & 11.0 - page up/down don't do anything\n. ",
    "ccoenen": "It's still present in current master (dae0cbfb53), With both Chrome and Firefox on Windows.\nIn Chrome the keys will page the viewport (but not the cursor). Using regular up/down keys moves the cursor but not the viewport (which also feels broken).\nIn Firefox the keys will behave weird. I can't really describe what it does. It seems to be doing whatever it likes.\nI would really LOVE to have this working the way EVERY other Editor does. Page up/down moves the cursor and therefore the Viewport. Up/Down moves the cursor, if the cursor moves off viewport, the viewport is following it.\n(Firefox 13.0.1 / Chrome 20)\n. The TinyMCE behaves just as it should on my System (which is now Firefox 14.0.1/win7 64). Etherpad, however, jumps around in way i can't predict.\n. does not work for me in Firefox 18.0.1. @mluto could you please try the following:\ngo to http://beta.etherpad.org/p/k6xZhiO7T2 (or any other long pad)\nPress the Page Down key. What happens on my Computer:\n- The VIEWPORT will change correctly.\n- The cursor will not change its position, it's not visible (this is differently from what i'd expect)\n- Pressing Left or Right keys after using Page Up/Down will not do anything (which is unexpected)\n- Pressing up key after using Page Up/Down will bring me back to the first line (which is unexpected)\n- Pressing down key after using Page Up/Down will bring me to the end of the pad (which is unexpected)\nCould you please verify that all of these cases work in Firefox 19?\nAlso, since my last post, using just up and down keys work much better now in Firefox (now they correctly move the viewport as well).\n[edit: minor change for more clarity]\n. All of the above is by the way working fine in chrome 24.0.1312.56, now. So it's just firefox that's acting up.\n. ",
    "luto": "Works in Firefox 19 on http://beta.etherpad.org/ for me.\n. No, the cursor-stuff does not work in FF for me. Hmm, also does not work in chrome 24.0.1312.56\n. - getChatHistory(padId), returns the whole chat-history\n- getChatHistory(padId, from, to), returns a part of the chat-history, just like Pad.getChatMessages\n- sendChatMessage(message, author), (doable without dirty hacks because of author argument?)\nany thoughts from others?\n. @avorio are you still alive?\n. Websockets are still completely disabled in the default settings.json, I've very briefly tested them in FF and Chrome and it seems to work nice. Is there a reason for them still being disabled?\n. I could swear that at similar issue has already been closed, how many are there for \"List all pads\"? :-/\nclose plx\n. Well, it's supposed to do exactly that, the editbar calls this which returns false in this case.\nWe'd have to re-think the whole thing before this can be changed/fixed..\n. This is broken again, see description in top-post.\n. I also don't see any benefit from switching to YAML, except for it being cool and hip.\nJSON is really just javascript, why would you switch away from that if your program is javascript?\n. Why would that break an old installation? If the table key is not there, just fallback to store.\n. This can be closed since a way to retrieve a list of all global level pads is now available, right?\n. hmm, yeah, you're right. Keep it open then.\n. This should be closed since the request has been merged months ago..\n. Can be closed, I think.\n. In what way is that a feature?\n. uhm.. it works now, yes. The separator is still the same.\n. yeah, that is the right PR.\n. My PR supported i18n, I'm just too lazy to port it to the latest develop...^^\n. +1\n. Note: The data is already in clientVars.collab_client_vars.historicalAuthorData (long names ftw!) and just needs to be displayed.\n. @JohnMcLear stated that this should be a plugin and I am started working on it. retag and assign please :)\n. https://github.com/mluto/ep_historical_authors\na first version :) kinda hacky.\n. Cleaned and fixed layout. This is done, imho.\n. What kind of problems? The messages seem to be i18nzed just fine to me. Do you mean that the textbox is too short for some languages (e.g. German)?\nEnglish:\n\nGerman:\n\n. I can confirm that, everything is updated when you change the language in the settings without reloading except for the unnamed and Enter your name text..\n. - ~~Import/Export \"choose file\" (not i18nzed at all)~~ set by the browser\n- ~~\"unnamed\" (pad.userlist.unnamed)~~\n- ~~\"Enter your name\" (pad.userlist.entername)~~\n- ~~\"X unnamed authors\" (not i18nzed at all)~~ i18nzed, but not updated on language-change, TODO\nHere is your problem(s):\n~~https://github.com/ether/etherpad-lite/blob/master/src/static/js/pad_userlist.js#L718 (\"Enter your name\")~~\n~~https://github.com/ether/etherpad-lite/blob/master/src/static/js/pad_userlist.js#L121 (\"unnamed\")~~\n~~https://github.com/ether/etherpad-lite/blob/master/src/static/js/pad_userlist.js#L377 (\"unnamed\")~~\n~~https://github.com/ether/etherpad-lite/blob/master/src/static/js/broadcast_slider.js#L196 (\"unnamed authors\")~~\n. Added, also added the code-lines that set them..\n. Code snipped for fixing things like that..\nhtml10n.bind('localized', function()\n  {\n    $(\"#foobar\").val(_(\"pad.userlist.entername\"));\n  });\n. Thoughts on this https://github.com/mluto/etherpad-lite/commit/7812d93e74dc1f76ae989454f9b746e3ac74ca15?\n. Uhm.. are you trying to run etherpad-lite as root?\n. This also effects the v1.2.5 online docs... :-/\n. I've also been this far yesterday. But this does not work on OS X, it expects sed -i '' 's/foo/bar/' @$\nWorks fine on CentOS, though.\n. We could use a different sed-line when we're running on OS X, like described here.\nbash\ncase $OSTYPE in darwin*) echo I am a Mac ;; esac\n. I can reproduce this with commit a42f220ee241a7a38840ee7ed52d122607098248 (master) and 6e7b6942430c7974fb66817de6452343b62a75fc (develop)\nmodule.js:340\n    throw err;\n          ^\nError: Cannot find module 'log4js'\n    at Function.Module._resolveFilename (module.js:338:15)\n    at Function.Module._load (module.js:280:25)\n    at Module.require (module.js:362:17)\n    at require (module.js:378:17)\n    at Object.<anonymous> (/Users/luto/etherpad-lite/bin/extractPadData.js:14:14)\n    at Module._compile (module.js:449:26)\n    at Object.Module._extensions..js (module.js:467:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Module.runMain (module.js:492:10)\n. ```\n[ luto luto-portable ~/etherpad-lite ] node bin/extractPadData.js 25zvFTiM2u\nmodule.js:340\n    throw err;\n          ^\nError: Cannot find module 'log4js'\n    at Function.Module._resolveFilename (module.js:338:15)\n    at Function.Module._load (module.js:280:25)\n    at Module.require (module.js:362:17)\n    at require (module.js:378:17)\n    at Object. (/Users/luto/etherpad-lite/bin/extractPadData.js:14:14)\n    at Module._compile (module.js:449:26)\n    at Object.Module._extensions..js (module.js:467:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Module.runMain (module.js:492:10)\n```\n. I tried to fix the paths but this just yields a new error..\nvar log4js = require(\"../src/node_modules/log4js\");\nlog4js.setGlobalLogLevel(\"INFO\");\nvar async = require(\"../src/node_modules/async\");\nvar db = require('../src/node/db/DB');\n```\n[ luto luto-portable ~/etherpad-lite-luto ] node bin/extractPadData.js sF4QGozWqi\nTypeError: Object # has no method 'get'\n    at EventEmitter.Object.defineProperty.get [as dir] (/Users/luto/etherpad-lite-luto/src/node_modules/npm/lib/npm.js:448:22)\n    at Object. (/Users/luto/etherpad-lite-luto/src/node/utils/Settings.js:30:44)\n    at Module._compile (module.js:449:26)\n    at Object.Module._extensions..js (module.js:467:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Module.require (module.js:362:17)\n    at require (module.js:378:17)\n    at Object. (/Users/luto/etherpad-lite-luto/src/node/db/DB.js:23:16)\n    at Module._compile (module.js:449:26)\n```\nSo it's up to you to fix this. sorry.\n. [ luto luto-portable ~/etherpad-lite-luto ] node --version\nv0.8.16\n[ luto luto-portable ~/etherpad-lite-luto ] npm --version\n1.1.69\non OS X 10.8.2\n. Can someone close this, please?\n. Oh. I didn't know that your i18n-engine is able to do that. Will do.\n. So, I found the right key, it's timeslider.dateformat. The problem is that this one, as the name suggests, contains both date and time, which is too much text for the little chat.. it fills up half of the available space.\nJust splitting the the result-string at ' ' does not seem like a good idea because we are trying to do some i18n here. edit: does not work for ksh.json\nSplitting up timeslider.dateformat into timeslider.dateformat and timeslider.timeformat does also not seem to be a good solution for this small change.\n. Nearly, I'd like to add\n```\n\nOr a date-line inserted when changing day and there is a msg this day?\n```\n\nfrom the original issue first. Should be ready today (CET).\n. I'll rewrite this off the current develop, 3 pull-requests in parallel made this a hell to merge, sorry..\n. In addition to that the clientVars are put together before checking if the client even needs them..\nIf the client does not need them they are just not used and that's it.\n. Pull-request got merged. :)\n. ~1 sec improvement for the very first view (etherpad has to load and cache things internally, I assume), ~0.5sec for every view after that. Measured in Chrome with cache off.\n. Then just let it sit here. It won't get old.\n. Wrong branch. Sorry!\n. Do you have access to the pad-code on the server? Please turn off minify in your settings.json, clear your cache and post the error message again. It will give you a more precise line number.\n. You fixed this issue with commit https://github.com/ether/etherpad-lite/commit/eb0338d40c7941db8bcfcfb3910e6f4cd7badded, didn't you? So this can be closed.\n. That does not help you? :-/\n. Can be closed.\n. I can confirm that using dirty.. stupid checkPad.js.\n. +1\n. It would be nice to know why my original fix got reverted.. :-/\nThanks for the pull-request!\n. Should be fixed for SQLite soon: https://github.com/Pita/ueberDB/pull/30\n. You can search through a single document using @JohnMcLear's history-search-plugin.\n. It does not! It's MAGIC!\n. That is why I wrote \"Ready to be tested for bugs and usability.\", it's not supposed to be merged yet.\nOnce everything works the way I want (e.g. plugin-support) the test specs will be there!\n. Ready to be merged when there are no other issues. Plugin support will come later.\n. TODO\n- ~~\"Ignore global settings\"-checkbox as a anti-troll measure~~\n- Make private settings persistent per-pad\n. Where would you store the private per-pad settings?\n- In cookies, means a lot of cookies after some time\n- In local-storage, not supported by all browsers\n- Serverside in the database\n  1. you can't identify a client if the author-id has changed (e.g. session died) => settings are lost\n  2. one use can generate many authors over time, which can write on many pads, which can lead to a database full of dead user data nobody needs..\n- Serverside in the session\n  1. same problems as Serverside in the database since a session gets never deleted\n. The session-object is also stored in the database, isn't it? :-/\nhttps://github.com/ether/etherpad-lite/blob/master/src/node/db/SessionManager.js#L129\n. ``` Javascript\nvar settings = [\n  // special settings\n  { name: \"name\" },\n  { name: \"colorId\" },\n  { name: \"language\" },\n  { name: \"rtl\" }\n// normal settings\n  { name: \"noColors\" },\n  { name: \"showControls\" },\n  { name: \"showChat\" },\n  { name: \"showLineNumbers\" },\n  { name: \"useMonospaceFont\" },\n  { name: \"alwaysShowChat\" }\n];\n```\nAm I missing something?\n. Ah, yeah, thanks! Didn't run that code^^\n. That is work in progress code that is not even committed locally ...\n. Tired it, works great! :)\nJust one question:\nThis is the API, right? Why would an API return HTML?\nI think there should be a way to get the raw data...\n. The point of getHTML is to get the HTML export from that pad. The point of createDiff should be to get a diff which I can use in my application, and processing HTML is PITA.. :-/\nSo maybe one createDiff for HTML and one of a text-format? Just like getText and getHTML?\nYes I have looked at the output. HTML and some metadata for the authors.\n. We (John+Marcel+Me) discussed that in IRC and came to the conclusion that renaming the endpoint to creatediffHTML is the best solution, this way there is no confusion because of the name. Also the etherpad-changesets would be pretty useless to an other application without the easysync-lib.\n. Tests are going to be here this evening.\n. The icon is fine, a new adjective would be good, as marcel said.\nTagged, Marked, Flagged,..\n. Works for me\n. Nope.. can't get it to work o.o\nEdit: Even tried to remove all tinycon-code from chat.js and set the icon in the dev-console.. did not work. o.O\n. Works on http://beta.etherpad.org/, tested with @marcelklehr.\n. Works great! :)\nI'll look into the notifications fire when the pad is first opened issue.\n. Achievable via a plugin. Takes maybe 20 minutes to put it together, test and upload.\n. I am not everybody, let's see what the others say.\n. Same for CLIENT_MESSAGE...\n. To be honest.. I don't care..\nIt looks like it works and this has to be enough for people who still use IE8 >.<\n. Javascript comments are //, not # ;)\n. Duplicate of https://github.com/ether/etherpad-lite/issues/921\n. Uhm... why do we even host jQuery ourselves and not just point the link to some CDN of which there are plenty?\nThis also means that jQuery only needs to be loaded once, for many sites..\n. Hmm.. the chatHead seemed to point to the next message the time I wrote this.\nWhatever, issue confirmed and fix confirmed and tested.\n. woha, that codes looks so much more sensible now!\njavascript\nsocketio.sockets.in(padID).json.send({disconnect:\"deleted\"});\nand the other broadcasts are extremely sexy.\nThanks a lot for that! :)\nEdit:\nforgot that: tested and works nice! (tested: join, left, text-sync, chat)\n. Added fullWidth and sidebar removals.\n- the fullWidth-code used to control the fullscreen feature of etherpad, which is gone in EPL. The function handleWidthChange does not even get called once, for example and the corresponding CSS classes do no longer exist.\n- the sidebar also got removed in etherpad-lite, the only thing left on the side is the stickchat, which is controlled by totally different code in chat.js and not affected by this. Most of this was dead commented code, there were also some leftovers in broadcast_slider.js\n. You issued that against master, the correct branch is develop. Try again, please :)\n. I can't confirm that on the latest develop with latest FF or Chrome on OS X, what browser/version are you using?\nEdit: also tried a remote server, still working.\n. How dare you?! :o\n. https://github.com/ether/etherpad-lite/blob/develop/src/node/db/SessionManager.js#L267\nWe make sure that they also get removed from group2sessions..\n. The scrolling lags behind the actual caret movement for me, when the caret is above the page everything stays like it was for ~500ms, and then the page jumps up two lines, which confused me a bit..\n. http://luto.at/etherpad-scroll-on-dont-loose-caret.mov\n. As stated in IRC I don't like the new difference between up and down. I think that the arrow keys should execute the same action for one axis. :)\n. Does not hang anymore when pasting 2012*a in Chrome or Firefox.\n. Tabs are now even more sexy!\n\n. Finally! Works now the way I would expect it to work.\n. ```\n[ luto luto-portable ~/etherpad-lite ] node bin/extractPadData.js asd\nUnknown Setting: 'googleanalytics'. This setting doesn't exist or it was removed\n[2013-02-18 20:26:40.339] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production.\nundefined:1\n[object Object]\n ^\nSyntaxError: Unexpected token o\n    at Object.parse (native)\n    at /Users/luto/etherpad-lite/bin/extractPadData.js:86:22\n    at exports.database.get (/Users/luto/etherpad-lite/src/node_modules/ueberDB/dirty_db.js:48:3)\n    at /Users/luto/etherpad-lite/bin/extractPadData.js:83:26\n    at async.forEach (/Users/luto/etherpad-lite/src/node_modules/async/lib/async.js:86:13)\n    at Array.forEach (native)\n    at _forEach (/Users/luto/etherpad-lite/src/node_modules/async/lib/async.js:26:24)\n    at Object.async.forEach (/Users/luto/etherpad-lite/src/node_modules/async/lib/async.js:85:9)\n    at /Users/luto/etherpad-lite/bin/extractPadData.js:81:11\n    at async.series.results (/Users/luto/etherpad-lite/src/node_modules/async/lib/async.js:486:21)\n```\npad asd exists, content is foo\\n..\ncheckPad.js works fine now.\n. Looks sensible, got for it!\n. We should put the messages into a queue after PadMessageHandler.js#L544, I think\n. don't pull. I think I found the real (client-side) issue.\n. Closed in favor of https://github.com/ether/etherpad-lite/pull/1691\n. This also happens on our clean instance.\n. This does not break IE?\n. uhm.. so there is no more debug output from html10n?\n. Then how are you supposed to find out why your <div data-l10n-id=\"index.createOpenPad\"> just stays empty?\nI think you'll have to introduce some kind of other logging or a list of errors which you can get like html10n.errors to compensate for this... but let's see how the others think about this.\nI don't know about your production frontend code, but a catch which just consists of // Swallow error does not look very production ready to me.\n. The minifier-idea is great!\nI'm sorry about the nitpicking on this, it's just that exactly these 3 console.logs have been extremely helpful for me when developing plugins etc..\n. woop! :)\n. :thumbsup:\n. Either this code or the documentation is broken. Since all the examples do you not pass an array into the callback, I am guessing it's the code.\n\nAre there any instances where someone would want to return null and have it interpreted as undefined?\n\nThat == undefined is there to filter out callbacks which are called without arguments, so I don't think there are any cases except for something like this..\njavascript\nvar result = null;\nif(something) result = compexCalculation(42);\ncb(result);\nbut the initial value of result should be undefined anyway, so..\n. wat.. I will check this today.\n. can't reproduce. Are you using any plugins?\n. > can't reproduce. Are you using any plugins?\nWhich plugins exactly are you using? All the hooks you posted so far are client-side. Those alone won't trigger this, so there must be some code in the handlers.\n. can confirm on 97068b562dce9525fda9fb7a08f54faf9ef2837d (develop) with node v0.10.33 on arch linux.\n. for faster repro, add this to your server.js in the waterfall after the very last function:\n``` javascript\n,\nfunction (callback) {\n    require('ep_etherpad-lite/static/js/pluginfw/installer').install('ep_author_hover', function (er) {\n      console.log(\"installing ep_author_hover plugin\")\n      console.log(arguments);\n      callback()\n    });\n  }\n``\n. https://github.com/ether/etherpad-lite/blob/develop/src/node/handler/PadMessageHandler.js#L1164 crashes\n. That calls into [this send function](https://github.com/ether/etherpad-lite/blob/develop/src/node/handler/SocketIORouter.js#L73-L77), which calls_send`, which is, for some reason, set to the very same send function.. :+1:\njavascript\n    //wrap the original send function to log the messages\n    client._send = client.send;\n    client.send = function(message) {\n      messageLogger.debug(\"to \" + client.id + \": \" + stringifyWithoutPassword(message));\n      client._send(message);\n    }\n. same for me, on develop.\n. https://github.com/ether/etherpad-lite/blob/eff4863a22324ec2e87b8da6693182ee60fe7cfc/src/static/js/pad.js#L171 this gets set correctly, so I assume it's a socket.io bug. Did we update that recently?\n. We need to set path, not resource, like this:\njavascript\n  //find out in which subfolder we are\n  var path =  exports.baseURL  + \"socket.io\";\n  //connect\n  socket = pad.socket = io.connect(url, {\n    path: path,\n    'max reconnection attempts': 3,\n    'sync disconnect on unload' : false\n  });\nI'll PR later, if nobody else does it.\n. thanks.\nthis really needs some refactoring, though..\n. Is this hosted anywhere in public? Can you give me the URL? Also, if you do, please make sure to turn off minify in your settings.json.\nThis seems to be the same thing, I'm not sure why it is doing that, though.\n. Please try the tmp-socketio-debug-resource branch and look for a line with a bunch of exlaimation-marks in your browser console. What's the full message?\n. okay, to be honest: remote debugging this is hard not really worth the time.. if you can turn minify off in settings.json and give me the URL (also private via IRC or email m__luto.at) I can see if I can do something for you. Otherwise you're on your own, I guess. Sorry.\n. we update the deps on each launch, right?\n. Etherpad-lite tries hard to add a empty new line at the end of every file. If you import a html file using this, there is no empty line. I don't know the exact reasons (except for UX) behind etherpads behavior here, but I guess we should mimic it.\n. yes.\n. I bet you that this is #2331.\n@gmathers are you running etherpad-lite from a subdirectory? does it work if you run it from root?\n. See https://github.com/ether/etherpad-lite/issues/2331#issuecomment-63905021\n. We could sed a random string in there in installDeps.sh#L60..\n. fix'd\n. Well, I need the sessionID, token and password from CLIENT_READY and I don't see any way to store this into the client.handshake. As we agreed in IRC this will be kept like this... I know this is not exactly pretty but I don't see a better way.\n. hook-callbacks work this way, so it's all good.\n. since you're changing that line anyways: how about de-single-line-ing it? :)\n. do we still need that?\n. ",
    "Toumal": "I tried other values instead of 13, and also random strings, email addresses....\nI also tried createGroup() - same problem. Reinstalled nodeJS, nothing. Also tried with an older 0.6.6 of nodeJS, same behavior...\n. ...(this=0x1700cd000061, Content-Type, <undefined>) {\n5483:                                                                             ...(this=0x1700cd000061, Content-Type) {\n5484:                                                                             ...toLowerCase(this=Content-Type) {\n5484:                                                                             ...} -> content-type\n5483:                                                                             ...} -> application/json; charset=utf-8\n5482:                                                                             ...} -> application/json; charset=utf-8\n5482:                                                                             ...(this=0x1700cd000061, Content-Length, ) {\n5483:                                                                             ...(this=0x1700cd000061, Content-Length) {\n5484:                                                                             ...toLowerCase(this=Content-Length) {\n5484:                                                                             ...} -> content-length\n5483:                                                                             ...} -> 65\n5482:                                                                             ...} -> 65\n5482:                                                                             ...(this=0x1700cd000061, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.8ZX3RGCgudARiFJN\"}}, ) {\n5483:                                                                             ...(this=0x1700cd000061, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.8ZX3RGCgudARiFJN\"}}, ) {\n5484:                                                                             ...(this=0x1700cd000061, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.8ZX3RGCgudARiFJN\"}}, , ) {\n5485:                                                                             ...(this=0x1700cd000061, Content-Type, ) {\n5486:                                                                             ...(this=0x1700cd000061, Content-Type) {\n5487:                                                                             ...toLowerCase(this=Content-Type) {\n5487:                                                                             ...} -> content-type\n5486:                                                                             ...} -> application/json; charset=utf-8\n5485:                                                                             ...} -> application/json; charset=utf-8\n5485:                                                                             ...(this=0x1700cd000061, Content-Length, ) {\n5486:                                                                             ...(this=0x1700cd000061, Content-Length) {\n5487:                                                                             ...toLowerCase(this=Content-Length) {\n5487:                                                                             ...} -> content-length\n5486:                                                                             ...} -> 65\n5485:                                                                             ...} -> 65\n5485:                                                                             ...(this=0x1700cd000061, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.8ZX3RGCgudARiFJN\"}}, ) {\n5486:                                                                             ...(this=0x1700cd000061, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.8ZX3RGCgudARiFJN\"}}, ) {\n5487:                                                                             ...(this=0x1700cd000061, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.8ZX3RGCgudARiFJN\"}}, , ) {\n5488:                                                                             ...(this=0x1700cd000061, Content-Type, ) {\n5489:                                                                             ...(this=0x1700cd000061, Content-Type) {\n5490:                                                                             ...toLowerCase(this=Content-Type) {\n5490:                                                                             ...} -> content-type\n5489:                                                                             ...} -> application/json; charset=utf-8\n5488:                                                                             ...} -> application/json; charset=utf-8\n5488:                                                                             ...(this=0x1700cd000061, Content-Length, ) {\n5489:                                                                             ...(this=0x1700cd000061, Content-Length) {\n5490:                                                                             ...toLowerCase(this=Content-Length) {\n5490:                                                                             ...} -> content-length\n5489:                                                                             ...} -> 65\n5488:                                                                             ...} -> 65\n5488:                                                                             ...(this=0x1700cd000061, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.8ZX3RGCgudARiFJN\"}}, ) {\n5489:                                                                             ...(this=0x1700cd000061, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.8ZX3RGCgudARiFJN\"}}, ) {\n5490:                                                                             ...(this=0x1700cd000061, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.8ZX3RGCgudARiFJN\"}}, , ) {\n5491:                                                                             ...(this=0x1700cd000061, Content-Type, ) {\n5492:                                                                             ...(this=0x1700cd000061, Content-Type) {\n5493:                                                                             ...toLowerCase(this=Content-Type) {\n5493:                                                                             ...} -> content-type\n5492:                                                                             ...} -> application/json; charset=utf-8\n5491:                                                                             ...} -> application/json; charset=utf-8\n5491:                                                                             ...(this=0x1700cd000061, Content-Length, ) {\n5492:                                                                             ...(this=0x1700cd000061, Content-Length) {\n5493:                                                                             ...toLowerCase(this=Content-Length) {\n5493:                                                                             ...} -> content-length\n5492:                                                                             ...} -> 65\n5491:                                                                             ...} -> 65\n5491:                                                                             ...(this=0x1700cd000061, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.8ZX3RGCgudARiFJN\"}}, ) {\n5492:                                                                             ...(this=0x1700cd000061, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.8ZX3RGCgudARiFJN\"}}, ) {\n5493:                                                                             ...(this=0x1700cd000061, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.8ZX3RGCgudARiFJN\"}}, , ) {\n5494:                                                                             ...(this=0x1700cd000061, Content-Type, ) {\n5495:                                                                             ...(this=0x1700cd000061, Content-Type) {\n5496:                                                                             ...toLowerCase(this=Content-Type) {\n5496:                                                                             ...} -> content-type\n5495:                                                                             ...} -> application/json; charset=utf-8\n5494:                                                                             ...} -> application/json; charset=utf-8\n5494:                                                                             ...(this=0x1700cd000061, Content-Length, ) {\n5495:                                                                             ...(this=0x1700cd000061, Content-Length) {\n5496:                                                                             ...toLowerCase(this=Content-Length) {\n5496:                                                                             ...} -> content-length\n5495:                                                                             ...} -> 65\n5494:                                                                             ...} -> 65\n\nEnds with this: (well aside from the graceful shutdown messages)\n20:                    (this=0x1700cc02ad61, 0x1700cc02ac91) {\n  20:                    } -> \n  21:                     (this=0x1700cc02ad61) {\n  21:                     } -> \n  21:                     (this=0x1700cc02ad61) {\n  21:                     } -> 0x1700cc02ac91\n  20:                    freeze(this=, 0x1700cc02acb1) {\n  21:                     getOwnPropertyNames(this=, 0x1700cc02acb1) {\n  21:                     } -> 0x1700cc08e689\n  21:                     GetOwnProperty(this=, 0x1700cc02acb1, 0) {\n  23:                       (this=0x1700cc08e809, Illegal access to a strict mode caller function.) {\n  23:                       } -> \n  23:                       (this=0x1700cc08e809, ) {\n  23:                       } -> \n  21:                     } -> 0x1700cc08e809\n  21:                     (this=0x1700cc08e809) {\n  21:                     } -> \n  21:                     (this=0x1700cc08e809, ) {\n  21:                     } -> \n  23:                       (this=0x1700cc08e8f9, Illegal access to a strict mode caller function.) {\n  23:                       } -> \n  23:                       (this=0x1700cc08e8f9, ) {\n  23:                       } -> \n  22:                      SameValue(this=, , ) {\n  22:                      } -> \n  22:                      SameValue(this=, , ) {\n  22:                      } -> \n  22:                      (this=0x1700cc08e809) {\n  22:                      } -> \n  22:                      (this=0x1700cc08e809) {\n  22:                      } -> Illegal access to a strict mode caller function.\n  21:                     GetOwnProperty(this=, 0x1700cc02acb1, length) {\n  23:                       (this=0x1700cc08ed71, 1) {\n  23:                       } -> \n  23:                       (this=0x1700cc08ed71, ) {\n  23:                       } -> \n  21:                     } -> 0x1700cc08ed71\n  21:                     (this=0x1700cc08ed71) {\n  21:                     } -> \n  21:                     (this=0x1700cc08ed71, ) {\n  21:                     } -> \n  23:                       (this=0x1700cc08ee61, 1) {\n  23:                       } -> \n  23:                       (this=0x1700cc08ee61, ) {\n  23:                       } -> \n  22:                      SameValue(this=, , ) {\n  22:                      } -> \n  22:                      SameValue(this=, , ) {\n  22:                      } -> \n  22:                      (this=0x1700cc08ed71) {\n  22:                      } -> \n  22:                      (this=0x1700cc08ee61) {\n  22:                      } -> \n  22:                      SameValue(this=, , ) {\n  22:                      } -> \n  22:                      (this=0x1700cc08ee61) {\n  22:                      } -> \n  22:                      (this=0x1700cc08ee61) {\n  22:                      } -> \n  22:                      (this=0x1700cc08ed71) {\n  22:                      } -> \n  22:                      (this=0x1700cc08ed71) {\n  22:                      } -> 1\n  20:                    } -> 0x1700cc02acb1\n  20:                    (this=0x1700cc02ad61, 0x1700cc02acb1) {\n  20:                    } -> \n  21:                     (this=0x1700cc02ad61) {\n  21:                     } -> \n  21:                     (this=0x1700cc02ad61) {\n  21:                     } -> 0x1700cc02acb1\n  20:                    freeze(this=, 0x1700cc02acd1) {\n  21:                     getOwnPropertyNames(this=, 0x1700cc02acd1) {\n  21:                     } -> 0x1700cc08f2f9\n  21:                     GetOwnProperty(this=, 0x1700cc02acd1, 0) {\n  23:                       (this=0x1700cc08f479, Illegal let declaration in unprotected statement context.) {\n  23:                       } -> \n  23:                       (this=0x1700cc08f479, ) {\n  23:                       } -> \n  21:                     } -> 0x1700cc08f479\n  21:                     (this=0x1700cc08f479) {\n  21:                     } -> \n  21:                     (this=0x1700cc08f479, ) {\n  21:                     } -> \n  23:                       (this=0x1700cc08f569, Illegal let declaration in unprotected statement context.) {\n  23:                       } -> \n  23:                       (this=0x1700cc08f569, ) {\n  23:                       } -> \n  22:                      SameValue(this=, , ) {\n  22:                      } -> \n  22:                      SameValue(this=, , ) {\n  22:                      } -> \n  22:                      (this=0x1700cc08f479) {\n  22:                      } -> \n  22:                      (this=0x1700cc08f479) {\n  22:                      } -> Illegal let declaration in unprotected statement context.\n  21:                     GetOwnProperty(this=, 0x1700cc02acd1, length) {\n  23:                       (this=0x1700cc08f9e1, 1) {\n  23:                       } -> \n  23:                       (this=0x1700cc08f9e1, ) {\n  23:                       } -> \n  21:                     } -> 0x1700cc08f9e1\n  21:                     (this=0x1700cc08f9e1) {\n  21:                     } -> \n  21:                     (this=0x1700cc08f9e1, ) {\n  21:                     } -> \n  23:                       (this=0x1700cc08fad1, 1) {\n  23:                       } -> \n  23:                       (this=0x1700cc08fad1, ) {\n  23:                       } -> \n  22:                      SameValue(this=, , ) {\n  22:                      } -> \n  22:                      SameValue(this=, , ) {\n  22:                      } -> \n  22:                      (this=0x1700cc08f9e1) {\n  22:                      } -> \n  22:                      (this=0x1700cc08fad1) {\n  22:                      } -> \n  22:                      SameValue(this=, , ) {\n  22:                      } -> \n  22:                      (this=0x1700cc08fad1) {\n  22:                      } -> \n  22:                      (this=0x1700cc08fad1) {\n  22:                      } -> \n  22:                      (this=0x1700cc08f9e1) {\n  22:                      } -> \n  22:                      (this=0x1700cc08f9e1) {\n  22:                      } -> 1\n  20:                    } -> 0x1700cc02acd1\n  20:                    (this=0x1700cc02ad61, 0x1700cc02acd1) {\n  20:                    } -> \n  21:                     (this=0x1700cc02ad61) {\n  21:                     } -> \n  21:                     (this=0x1700cc02ad61) {\n  21:                     } -> 0x1700cc02acd1\n  20:                    freeze(this=, 0x1700cc02acf1) {\n  21:                     getOwnPropertyNames(this=, 0x1700cc02acf1) {\n  21:                     } -> 0x1700cc08ff69\n  21:                     GetOwnProperty(this=, 0x1700cc02acf1, 0) {\n  23:                       (this=0x1700cc0900e9, Cannot prevent extension of an object with external array elements) {\n  23:                       } -> \n  23:                       (this=0x1700cc0900e9, ) {\n  23:                       } -> \n  21:                     } -> 0x1700cc0900e9\n  21:                     (this=0x1700cc0900e9) {\n  21:                     } -> \n  21:                     (this=0x1700cc0900e9, ) {\n  21:                     } -> \n  23:                       (this=0x1700cc0901d9, Cannot prevent extension of an object with external array elements) {\n  23:                       } -> \n  23:                       (this=0x1700cc0901d9, ) {\n  23:                       } -> \n  22:                      SameValue(this=, , ) {\n  22:                      } -> \n  22:                      SameValue(this=, , ) {\n  22:                      } -> \n  22:                      (this=0x1700cc0900e9) {\n  22:                      } -> \n  22:                      (this=0x1700cc0900e9) {\n  22:                      } -> Cannot prevent extension of an object with external array elements\n  21:                     GetOwnProperty(this=, 0x1700cc02acf1, length) {\n  23:                       (this=0x1700cc090651, 1) {\n  23:                       } -> \n  23:                       (this=0x1700cc090651, ) {\n  23:                       } -> \n  21:                     } -> 0x1700cc090651\n  21:                     (this=0x1700cc090651) {\n  21:                     } -> \n  21:                     (this=0x1700cc090651, ) {\n  21:                     } -> \n  23:                       (this=0x1700cc090741, 1) {\n  23:                       } -> \n  23:                       (this=0x1700cc090741, ) {\n  23:                       } -> \n  22:                      SameValue(this=, , ) {\n  22:                      } -> \n  22:                      SameValue(this=, , ) {\n  22:                      } -> \n  22:                      (this=0x1700cc090651) {\n  22:                      } -> \n  22:                      (this=0x1700cc090741) {\n  22:                      } -> \n  22:                      SameValue(this=, , ) {\n  22:                      } -> \n  22:                      (this=0x1700cc090741) {\n  22:                      } -> \n  22:                      (this=0x1700cc090741) {\n  22:                      } -> \n  22:                      (this=0x1700cc090651) {\n  22:                      } -> \n  22:                      (this=0x1700cc090651) {\n  22:                      } -> 1\n  20:                    } -> 0x1700cc02acf1\n  20:                    (this=0x1700cc02ad61, 0x1700cc02acf1) {\n  20:                    } -> \n  21:                     (this=0x1700cc02ad61) {\n  21:                     } -> \n  21:                     (this=0x1700cc02ad61) {\n  21:                     } -> 0x1700cc02acf1\n  20:                    freeze(this=, 0x1700cc02ad11) {\n  21:                     getOwnPropertyNames(this=, 0x1700cc02ad11) {\n  21:                     } -> 0x1700cc090bd9\n  21:                     GetOwnProperty(this=, 0x1700cc02ad11, 0) {\n  23:                       (this=0x1700cc090d59, Cannot redefine a property of an object with external array elements) {\n  23:                       } -> \n  23:                       (this=0x1700cc090d59, ) {\n  23:                       } -> \n  21:                     } -> 0x1700cc090d59\n  21:                     (this=0x1700cc090d59) {\n  21:                     } -> \n  21:                     (this=0x1700cc090d59, ) {\n  21:                     } -> \n  23:                       (this=0x1700cc090e49, Cannot redefine a property of an object with external array elements) {\n  23:                       } -> \n  23:                       (this=0x1700cc090e49, ) {\n  23:                       } -> \n  22:                      SameValue(this=, , ) {\n  22:                      } -> \n  22:                      SameValue(this=, , ) {\n  22:                      } -> \n  22:                      (this=0x1700cc090d59) {\n  22:                      } -> \n  22:                      (this=0x1700cc090d59) {\n  22:                      } -> Cannot redefine a property of an object with external array elements\n  21:                     GetOwnProperty(this=, 0x1700cc02ad11, length) {\n  23:                       (this=0x1700cc0912c1, 1) {\n  23:                       } -> \n  23:                       (this=0x1700cc0912c1, ) {\n  23:                       } -> \n  21:                     } -> 0x1700cc0912c1\n  21:                     (this=0x1700cc0912c1) {\n  21:                     } -> \n  21:                     (this=0x1700cc0912c1, ) {\n  21:                     } -> \n  23:                       (this=0x1700cc0913b1, 1) {\n  23:                       } -> \n  23:                       (this=0x1700cc0913b1, ) {\n  23:                       } -> \n  22:                      SameValue(this=, , ) {\n  22:                      } -> \n  22:                      SameValue(this=, , ) {\n  22:                      } -> \n  22:                      (this=0x1700cc0912c1) {\n  22:                      } -> \n  22:                      (this=0x1700cc0913b1) {\n  22:                      } -> \n  22:                      SameValue(this=, , ) {\n  22:                      } -> \n  22:                      (this=0x1700cc0913b1) {\n  22:                      } -> \n  22:                      (this=0x1700cc0913b1) {\n  22:                      } -> \n  22:                      (this=0x1700cc0912c1) {\n  22:                      } -> \n  22:                      (this=0x1700cc0912c1) {\n  22:                      } -> 1\n  20:                    } -> 0x1700cc02ad11\n  20:                    (this=0x1700cc02ad61, 0x1700cc02ad11) {\n  20:                    } -> \n  21:                     (this=0x1700cc02ad61) {\n  21:                     } -> \n  21:                     (this=0x1700cc02ad61) {\n  21:                     } -> 0x1700cc02ad11\n  20:                    FormatString(this=, 0x1700cc02a791, 0x1700cc000069) {\n  20:                    } -> Maximum call stack size exceeded\n  19:                   } -> Maximum call stack size exceeded\n  17:                 ToUint32(this=0x3cb33e0ae8f1, 0) {\n  17:                 ToUint32(this=0x3cb33e0ae8f1, 0) {\n  16:                } -> RangeError: Maximum call stack size exceeded\n  15:               } -> RangeError: Maximum call stack size exceeded\n  14:              } -> [RangeError: Maximum call stack size exceeded]\n  13:             } -> [RangeError: Maximum call stack size exceeded]\n  12:            } -> [RangeError: Maximum call stack size exceeded]\n  11:           } -> \n  10:          } -> \n   9:         } -> [RangeError: Maximum call stack size exceeded]\n   8:        } -> [2012-02-13 14:33:23.777] [ERROR] console - [RangeError: Maximum call stack size exceeded]\nI really appreciate your time and help!\n. Any idea what's the cause? Is there any other part of the log that I should post to help shed more light on it?\n. I'm a git newbie, forgive my lack of specific revision... For what it's worth, I made an update today, same result.\nAnd yeah, It does seem to generate the API - RESPONSE correctly and then crash.\nIs there anything node.js related that I should reinstall or wipe or something? This is on ubuntu linux btw.\n. Yeah. Is there maybe a way I could erase all the dependencies and have them redownloaded? (Sorry, quite new to node.js too)\n. Ok, did that, also did a clean checkout and reinstalled node.js\nMy config is default, with mysql (same effect with the dirty db) and that seems to work because it retrieves the mapper2group bit from the db successfully.\nSame effect. \nPHP reports this:\nfopen(http://blablabla.com:9001/api/1/createGroupIfNotExistsFor) [function.fopen]: failed to open stream: HTTP request failed! \nThis is what I get in the logs:\n[2012-02-21 15:14:38.785] [INFO] console - Your Etherpad Lite git version is 10cbb48\n[2012-02-21 15:14:38.788] [INFO] console - Report bugs at https://github.com/Pita/etherpad-lite/issues\n[2012-02-21 15:14:38.986] [INFO] console - Server is listening at 0.0.0.0:9001\n[2012-02-21 15:14:38.987] [INFO] console -    info  - 'socket.io started'\n[2012-02-21 15:14:43.081] [INFO] API - REQUEST, createGroupIfNotExistsFor, {\"groupMapper\":\"13\",\"apikey\":\"rFqIF49IlsRy5frbAi1gzitSA8bKZVPD\"}\n[2012-02-21 15:14:43.087] [DEBUG] ueberDB - GET    - mapper2group:13 - \"g.srx6RjSTUxHFWfrw\" - from database\n[2012-02-21 15:14:43.087] [INFO] API - RESPONSE, createGroupIfNotExistsFor, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}\n[2012-02-21 15:14:43.110] [ERROR] console - [RangeError: Maximum call stack size exceeded]\n[2012-02-21 15:14:43.113] [INFO] console - graceful shutdown...\n[2012-02-21 15:14:43.113] [INFO] console - db sucessfully closed.\nThis is what I get:\n[2012-02-21 15:09:47.102] [INFO] console - Your Etherpad Lite git version is 10cbb48\n[2012-02-21 15:09:47.112] [INFO] console - Report bugs at https://github.com/Pita/etherpad-lite/issues\n[2012-02-21 15:09:47.650] [INFO] console - Server is listening at 0.0.0.0:9001\n[2012-02-21 15:09:47.651] [INFO] console -    info  - 'socket.io started'\n[2012-02-21 15:09:57.991] [INFO] API - REQUEST, createGroupIfNotExistsFor, {\"groupMapper\":\"13\",\"apikey\":\"rFqIF49IlsRy5frbAi1gzitSA8bKZVPD\"}\n[2012-02-21 15:09:57.994] [DEBUG] ueberDB - GET    - mapper2group:13 - \"g.srx6RjSTUxHFWfrw\" - from database\n[2012-02-21 15:09:58.001] [INFO] API - RESPONSE, createGroupIfNotExistsFor, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}\n[2012-02-21 15:09:58.019] [ERROR] console - [RangeError: Maximum call stack size exceeded]\n[2012-02-21 15:09:58.022] [INFO] console - graceful shutdown...\n[2012-02-21 15:09:58.064] [INFO] console - db sucessfully closed.\n. This is the part of the trace log where things go haywire. It starts doing the log output and building the http response, and then it just loops:\n23:                       (this=0x190ae78b54a1, .[32m[2012-02-21 15:22:00.594] [INFO] API - .[39mRESPONSE, createGroupIfNotExistsFor, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}) {\n  24:                        replace(this=.[32m[2012-02-21 15:22:00.594] [INFO] API - .[39mRESPONSE, createGroupIfNotExistsFor, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, 0x1c5bf38e9281, 0x296d95049371) {\n  25:                         StringReplaceGlobalRegExpWithFunction(this=, .[32m[2012-02-21 15:22:00.594] [INFO] API - .[39mRESPONSE, createGroupIfNotExistsFor, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}\n, 0x1c5bf38e9281, 0x296d95049371) {\n  25:                         } -> .[32m[2012-02-21 15:22:00.594] [INFO] API - .[39mRESPONSE, createGroupIfNotExistsFor, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}\n  24:                        } -> .[32m[2012-02-21 15:22:00.594] [INFO] API - .[39mRESPONSE, createGroupIfNotExistsFor, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}\n  23:                       } -> .[32m[2012-02-21 15:22:00.594] [INFO] API - .[39mRESPONSE, createGroupIfNotExistsFor, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}\n  23:                       (this=0x20a7c51f67f1, .[32m[2012-02-21 15:22:00.594] [INFO] API - .[39mRESPONSE, createGroupIfNotExistsFor, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}\n, , ) {\n  24:                        new Buffer(this=0x296d95049521, .[32m[2012-02-21 15:22:00.594] [INFO] API - .[39mRESPONSE, createGroupIfNotExistsFor, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}\n, , ) {\n  25:                         isArrayIsh(this=0x1f3d7da17bf1, .[32m[2012-02-21 15:22:00.594] [INFO] API - .[39mRESPONSE, createGroupIfNotExistsFor, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}\n) {\n  26:                          isArray(this=0x1f3d7da08089, .[32m[2012-02-21 15:22:00.594] [INFO] API - .[39mRESPONSE, createGroupIfNotExistsFor, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}\n) {\n  26:                          } -> \n  26:                          isBuffer(this=0x190ae78a8921, .[32m[2012-02-21 15:22:00.594] [INFO] API - .[39mRESPONSE, createGroupIfNotExistsFor, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}\n) {\n  26:                          } -> \n  25:                         } -> \n  25:                         (this=0x296d95049521, .[32m[2012-02-21 15:22:00.594] [INFO] API - .[39mRESPONSE, createGroupIfNotExistsFor, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}\n, 0, , ) {\n  27:                           NonNumberToNumber(this=, ) {\n  27:                           } -> -nan\n  26:                          toLowerCase(this=utf8) {\n  26:   .[32m[2012-02-21 15:22:00.594] [INFO] API - .[39mRESPONSE, createGroupIfNotExistsFor, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}\n                       } -> utf8\n  25:                         } -> 152\n  24:                        } -> \n  24:                        (this=0x190ae78a8981, 1, 0x296d95049521, 0, 152, ) {\n  25:                         isBuffer(this=0x190ae78a8921, 0x296d95049521) {\n  25:                         } -> \n  24:                        } -> 152\n  23:                       } -> \n  22:                      } -> \n  21:                     } -> \n  20:                    } -> \n  19:                   } -> \n  18:                  } -> \n  18:                  (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, , ) {\n  19:                   (this=0x296d9501b7c9, Content-Type, ) {\n  20:                    (this=0x296d9501b7c9, Content-Type) {\n  21:                     toLowerCase(this=Content-Type) {\n  21:                     } -> content-type\n  20:                    } -> application/json; charset=utf-8\n  19:                   } -> application/json; charset=utf-8\n  19:                   (this=0x296d9501b7c9, Content-Length, ) {\n  20:                    (this=0x296d9501b7c9, Content-Length) {\n  21:                     toLowerCase(this=Content-Length) {\n  21:                     } -> content-length\n  20:                    } -> \n  19:                   } -> \n  19:                   isBuffer(this=0x190ae78a8921, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}) {\n  19:                   } -> \n  19:                   (this=0x296d9501b7c9, Content-Length, 65) {\n  20:                    (this=0x296d9501b7c9, Content-Length, 65) {\n  21:                     toLowerCase(this=Content-Length) {\n  21:                     } -> content-length\n  21:                     (this=0x296d9501b7c9, Content-Length, 65) {\n  22:                      toLowerCase(this=Content-Length) {\n  22:                      } -> content-length\n  21:                     } -> \n  20:                    } -> \n  19:                   } -> 0x296d9501b7c9\n  19:                   (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  20:                    (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  21:                     (this=0x296d9501b7c9) {\n  22:                      (this=0x296d9501b7c9, 200, ) {\n  23:                       (this=0x296d9501b7c9, 200) {\n  24:                        (this=0x296d9501b7c9) {\n  25:                         (this=0x296d9501b7c9) {\n  25:                         } -> \n  25:                         (this=0x296d9501b7c9) {\n  26:                          keys(this=0x1f3d7da06299, 0x296d95020e69) {\n  26:                          } -> 0x296d9504b5b1\n  25:                         } -> 0x296d9504b4d9\n  24:                        } -> 0x296d9504b4d9\n  24:                        toString(this=200, ) {\n  24:                        } -> 200\n  24:                        (this=0x296d9501b7c9, HTTP/1.1 200 OK\n, 0x296d9504b4d9) {\n  25:                         keys(this=0x1f3d7da06299, 0x296d9504b4d9) {\n  25:                         } -> 0x296d9504bb81\n  25:                         isArray(this=0x1f3d7da08089, 0x296d9504b4d9) {\n  25:                         } -> \n  25:                         isArray(this=0x1f3d7da08089, Express) {\n  25:                         } -> \n  25:                         store(this=0x1f3d7da17bf1, X-Powered-By, Express) {\n  26:                          test(this=0x3e4f925e7a61, X-Powered-By) {\n  26:                          } -> \n  26:                          test(this=0x3e4f925e7891, X-Powered-By) {\n  26:                          } -> \n  26:                          test(this=0x3e4f925e7ca1, X-Powered-By) {\n  26:                          } -> \n  26:                          test(this=0x3e4f925e7a19, X-Powered-By) {\n  26:                          } -> \n  25:                         } -> \n  25:                         isArray(this=0x1f3d7da08089, Etherpad-Lite 10cbb48 (http://j.mp/ep-lite)) {\n  25:                         } -> \n  25:                         store(this=0x1f3d7da17bf1, Server, Etherpad-Lite 10cbb48 (http://j.mp/ep-lite)) {\n  26:                          test(this=0x3e4f925e7a61, Server) {\n  26:                          } -> \n  26:                          test(this=0x3e4f925e7891, Server) {\n  26:                          } -> \n  26:                          test(this=0x3e4f925e7ca1, Server) {\n  26:                          } -> \n  26:                          test(this=0x3e4f925e7a19, Server) {\n  26:                          } -> \n  25:                         } -> \n  25:                         isArray(this=0x1f3d7da08089, application/json; charset=utf-8) {\n  25:                         } -> \n  25:                         store(this=0x1f3d7da17bf1, Content-Type, application/json; charset=utf-8) {\n  26:                          test(this=0x3e4f925e7a61, Content-Type) {\n  26:                          } -> \n  26:                          test(this=0x3e4f925e7891, Content-Type) {\n  26:                          } -> \n  26:                          test(this=0x3e4f925e7ca1, Content-Type) {\n  26:                          } -> \n  26:                          test(this=0x3e4f925e7a19, Content-Type) {\n  26:                          } -> \n  25:                         } -> \n  25:                         isArray(this=0x1f3d7da08089, 65) {\n  25:                         } -> \n  25:                         store(this=0x1f3d7da17bf1, Content-Length, 65) {\n  26:                          test(this=0x3e4f925e7a61, Content-Length) {\n  26:                          } -> \n  26:                          test(this=0x3e4f925e7891, Content-Length) {\n  26:                          } -> \n  26:                          test(this=0x3e4f925e7ca1, Content-Length) {\n  26:                          } -> \n  25:                         } -> \n  24:                        } -> \n  23:                       } -> \n  22:                      } -> \n  21:                     } -> \n  21:                     (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  22:                      (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, , ) {\n  23:                       (this=0x296d9501b7c9, Content-Type, ) {\n  24:                        (this=0x296d9501b7c9, Content-Type) {\n  25:                         toLowerCase(this=Content-Type) {\n  25:                         } -> content-type\n  24:                        } -> application/json; charset=utf-8\n  23:                       } -> application/json; charset=utf-8\n  23:                       (this=0x296d9501b7c9, Content-Length, ) {\n  24:                        (this=0x296d9501b7c9, Content-Length) {\n  25:                         toLowerCase(this=Content-Length) {\n  25:                         } -> content-length\n  24:                        } -> 65\n  23:                       } -> 65\n  23:                       (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  24:                        (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  25:                         (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, , ) {\n  26:                          (this=0x296d9501b7c9, Content-Type, ) {\n  27:                           (this=0x296d9501b7c9, Content-Type) {\n  28:                            toLowerCase(this=Content-Type) {\n  28:                            } -> content-type\n  27:                           } -> application/json; charset=utf-8\n  26:                          } -> application/json; charset=utf-8\n  26:                          (this=0x296d9501b7c9, Content-Length, ) {\n  27:                           (this=0x296d9501b7c9, Content-Length) {\n  28:                            toLowerCase(this=Content-Length) {\n  28:                            } -> content-length\n  27:                           } -> 65\n  26:                          } -> 65\n  26:                          (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  27:                           (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  28:                            (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, , ) {\n  29:                             (this=0x296d9501b7c9, Content-Type, ) {\n  30:                              (this=0x296d9501b7c9, Content-Type) {\n  31:                               toLowerCase(this=Content-Type) {\n  31:                               } -> content-type\n  30:                              } -> application/json; charset=utf-8\n  29:                             } -> application/json; charset=utf-8\n  29:                             (this=0x296d9501b7c9, Content-Length, ) {\n  30:                              (this=0x296d9501b7c9, Content-Length) {\n  31:                               toLowerCase(this=Content-Length) {\n  31:                               } -> content-length\n  30:                              } -> 65\n  29:                             } -> 65\n  29:                             (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  30:                              (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  31:                               (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, , ) {\n  32:                                (this=0x296d9501b7c9, Content-Type, ) {\n  33:                                 (this=0x296d9501b7c9, Content-Type) {\n  34:                                  toLowerCase(this=Content-Type) {\n  34:                                  } -> content-type\n  33:                                 } -> application/json; charset=utf-8\n  32:                                } -> application/json; charset=utf-8\n  32:                                (this=0x296d9501b7c9, Content-Length, ) {\n  33:                                 (this=0x296d9501b7c9, Content-Length) {\n  34:                                  toLowerCase(this=Content-Length) {\n  34:                                  } -> content-length\n  33:                                 } -> 65\n  32:                                } -> 65\n  32:                                (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  33:                                 (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  34:                                  (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, , ) {\n  35:                                   (this=0x296d9501b7c9, Content-Type, ) {\n  36:                                    (this=0x296d9501b7c9, Content-Type) {\n  37:                                     toLowerCase(this=Content-Type) {\n  37:                                     } -> content-type\n  36:                                    } -> application/json; charset=utf-8\n  35:                                   } -> application/json; charset=utf-8\n  35:                                   (this=0x296d9501b7c9, Content-Length, ) {\n  36:                                    (this=0x296d9501b7c9, Content-Length) {\n  37:                                     toLowerCase(this=Content-Length) {\n  37:                                     } -> content-length\n  36:                                    } -> 65\n  35:                                   } -> 65\n  35:                                   (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  36:                                    (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  37:                                     (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, , ) {\n  38:                                      (this=0x296d9501b7c9, Content-Type, ) {\n  39:                                       (this=0x296d9501b7c9, Content-Type) {\n  40:                                        toLowerCase(this=Content-Type) {\n  40:                                        } -> content-type\n  39:                                       } -> application/json; charset=utf-8\n  38:                                      } -> application/json; charset=utf-8\n  38:                                      (this=0x296d9501b7c9, Content-Length, ) {\n  39:                                       (this=0x296d9501b7c9, Content-Length) {\n  40:                                        toLowerCase(this=Content-Length) {\n  40:                                        } -> content-length\n  39:                                       } -> 65\n  38:                                      } -> 65\n  38:                                      (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  39:                                       (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  40:                                        (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, , ) {\n  41:                                         (this=0x296d9501b7c9, Content-Type, ) {\n  42:                                          (this=0x296d9501b7c9, Content-Type) {\n  43:                                           toLowerCase(this=Content-Type) {\n  43:                                           } -> content-type\n  42:                                          } -> application/json; charset=utf-8\n  41:                                         } -> application/json; charset=utf-8\n  41:                                         (this=0x296d9501b7c9, Content-Length, ) {\n  42:                                          (this=0x296d9501b7c9, Content-Length) {\n  43:                                           toLowerCase(this=Content-Length) {\n  43:                                           } -> content-length\n  42:                                          } -> 65\n  41:                                         } -> 65\n  41:                                         (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  42:                                          (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  43:                                           (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, , ) {\n  44:                                            (this=0x296d9501b7c9, Content-Type, ) {\n  45:                                             (this=0x296d9501b7c9, Content-Type) {\n  46:                                              toLowerCase(this=Content-Type) {\n  46:                                              } -> content-type\n  45:                                             } -> application/json; charset=utf-8\n  44:                                            } -> application/json; charset=utf-8\n  44:                                            (this=0x296d9501b7c9, Content-Length, ) {\n  45:                                             (this=0x296d9501b7c9, Content-Length) {\n  46:                                              toLowerCase(this=Content-Length) {\n  46:                                              } -> content-length\n  45:                                             } -> 65\n  44:                                            } -> 65\n  44:                                            (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  45:                                             (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  46:                                              (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, , ) {\n  47:                                               (this=0x296d9501b7c9, Content-Type, ) {\n  48:                                                (this=0x296d9501b7c9, Content-Type) {\n  49:                                                 toLowerCase(this=Content-Type) {\n  49:                                                 } -> content-type\n  48:                                                } -> application/json; charset=utf-8\n  47:                                               } -> application/json; charset=utf-8\n  47:                                               (this=0x296d9501b7c9, Content-Length, ) {\n  48:                                                (this=0x296d9501b7c9, Content-Length) {\n  49:                                                 toLowerCase(this=Content-Length) {\n  49:                                                 } -> content-length\n  48:                                                } -> 65\n  47:                                               } -> 65\n  47:                                               (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  48:                                                (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  49:                                                 (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, , ) {\n  50:                                                  (this=0x296d9501b7c9, Content-Type, ) {\n  51:                                                   (this=0x296d9501b7c9, Content-Type) {\n  52:                                                    toLowerCase(this=Content-Type) {\n  52:                                                    } -> content-type\n  51:                                                   } -> application/json; charset=utf-8\n  50:                                                  } -> application/json; charset=utf-8\n  50:                                                  (this=0x296d9501b7c9, Content-Length, ) {\n  51:                                                   (this=0x296d9501b7c9, Content-Length) {\n  52:                                                    toLowerCase(this=Content-Length) {\n  52:                                                    } -> content-length\n  51:                                                   } -> 65\n  50:                                                  } -> 65\n  50:                                                  (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  51:                                                   (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  52:                                                    (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, , ) {\n  53:                                                     (this=0x296d9501b7c9, Content-Type, ) {\n  54:                                                      (this=0x296d9501b7c9, Content-Type) {\n  55:                                                       toLowerCase(this=Content-Type) {\n  55:                                                       } -> content-type\n  54:                                                      } -> application/json; charset=utf-8\n  53:                                                     } -> application/json; charset=utf-8\n  53:                                                     (this=0x296d9501b7c9, Content-Length, ) {\n  54:                                                      (this=0x296d9501b7c9, Content-Length) {\n  55:                                                       toLowerCase(this=Content-Length) {\n  55:                                                       } -> content-length\n  54:                                                      } -> 65\n  53:                                                     } -> 65\n  53:                                                     (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  54:                                                      (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, ) {\n  55:                                                       (this=0x296d9501b7c9, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.srx6RjSTUxHFWfrw\"}}, , ) {\n  56:                                                        (this=0x296d9501b7c9, Content-Type, ) {\n  57:                                                         (this=0x296d9501b7c9, Content-Type) {\n  58:                                                          toLowerCase(this=Content-Type) {\n  58:                                                          } -> content-type\n  57:                                                         } -> application/json; charset=utf-8\n  56:                                                        } -> application/json; charset=utf-8\n  56:                                                        (this=0x296d9501b7c9, Content-Length, ) {\n  57:                                                         (this=0x296d9501b7c9, Content-Length) {\n  58:                                                          toLowerCase(this=Content-Length) {\n  58:                                                          } -> content-length\n  57:                                                         } -> 65\n  56:                                                        } -> 65\n. Just FYI, I found that when I clear my database I can fetch the list, but as soon as I try to insert a new pad via the API I get the error again. This is the content of my db:\nmysql> select * from store;\n+------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| key                                | value                                                                                                                                                                                                                                                                                                                       |\n+------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| MYSQL_MIGRATION_LEVEL              | 1                                                                                                                                                                                                                                                                                                                           |\n| author2sessions:a.9lnU4M9wVGDSiRBQ | {\"sessionIDs\":{\"s.4IWBtEDuKBGUK5YP\":1,\"s.zKPYDNCuvPvyGeQd\":1,\"s.A5VaazC0mgz2cpwR\":1,\"s.jzLVgf74gkY0pM7l\":1,\"s.9nubsHiFVp4nnUH2\":1,\"s.FLU6Q9olZu9vEv0O\":1,\"s.l8MHIiKRsHuHf6l4\":1,\"s.UgCfeb7TCeC3FRe9\":1,\"s.78FquMjpH8QJxZYm\":1,\"s.if17FFpgQBG5ho4U\":1,\"s.TYTtWUeWdbuGZeax\":1,\"s.Cizi37JnqXOHBQHD\":1,\"s.kHSOEjOM8gTrtAYf\":1}} |\n| globalAuthor:a.9lnU4M9wVGDSiRBQ    | {\"colorId\":30,\"name\":\"13\",\"timestamp\":1331491359546}                                                                                                                                                                                                                                                                        |\n| group2sessions:g.9H16WKS4g7eSId0Q  | {\"sessionIDs\":{\"s.4IWBtEDuKBGUK5YP\":1,\"s.zKPYDNCuvPvyGeQd\":1,\"s.A5VaazC0mgz2cpwR\":1,\"s.jzLVgf74gkY0pM7l\":1,\"s.9nubsHiFVp4nnUH2\":1,\"s.FLU6Q9olZu9vEv0O\":1,\"s.l8MHIiKRsHuHf6l4\":1,\"s.UgCfeb7TCeC3FRe9\":1,\"s.78FquMjpH8QJxZYm\":1,\"s.if17FFpgQBG5ho4U\":1,\"s.TYTtWUeWdbuGZeax\":1,\"s.Cizi37JnqXOHBQHD\":1,\"s.kHSOEjOM8gTrtAYf\":1}} |\n| group:g.9H16WKS4g7eSId0Q           | {\"pads\":{}}                                                                                                                                                                                                                                                                                                                 |\n| mapper2author:Toumal               | \"a.9lnU4M9wVGDSiRBQ\"                                                                                                                                                                                                                                                                                                        |\n| mapper2group:13                    | \"g.9H16WKS4g7eSId0Q\"                                                                                                                                                                                                                                                                                                        |\n| session:s.4IWBtEDuKBGUK5YP         | {\"groupID\":\"g.9H16WKS4g7eSId0Q\",\"authorID\":\"a.9lnU4M9wVGDSiRBQ\",\"validUntil\":1331506800}                                                                                                                                                                                                                                    |\n| session:s.78FquMjpH8QJxZYm         | {\"groupID\":\"g.9H16WKS4g7eSId0Q\",\"authorID\":\"a.9lnU4M9wVGDSiRBQ\",\"validUntil\":1331506800}                                                                                                                                                                                                                                    |\n| session:s.9nubsHiFVp4nnUH2         | {\"groupID\":\"g.9H16WKS4g7eSId0Q\",\"authorID\":\"a.9lnU4M9wVGDSiRBQ\",\"validUntil\":1331506800}                                                                                                                                                                                                                                    |\n| session:s.A5VaazC0mgz2cpwR         | {\"groupID\":\"g.9H16WKS4g7eSId0Q\",\"authorID\":\"a.9lnU4M9wVGDSiRBQ\",\"validUntil\":1331506800}                                                                                                                                                                                                                                    |\n| session:s.Cizi37JnqXOHBQHD         | {\"groupID\":\"g.9H16WKS4g7eSId0Q\",\"authorID\":\"a.9lnU4M9wVGDSiRBQ\",\"validUntil\":1331506800}                                                                                                                                                                                                                                    |\n| session:s.FLU6Q9olZu9vEv0O         | {\"groupID\":\"g.9H16WKS4g7eSId0Q\",\"authorID\":\"a.9lnU4M9wVGDSiRBQ\",\"validUntil\":1331506800}                                                                                                                                                                                                                                    |\n| session:s.TYTtWUeWdbuGZeax         | {\"groupID\":\"g.9H16WKS4g7eSId0Q\",\"authorID\":\"a.9lnU4M9wVGDSiRBQ\",\"validUntil\":1331506800}                                                                                                                                                                                                                                    |\n| session:s.UgCfeb7TCeC3FRe9         | {\"groupID\":\"g.9H16WKS4g7eSId0Q\",\"authorID\":\"a.9lnU4M9wVGDSiRBQ\",\"validUntil\":1331506800}                                                                                                                                                                                                                                    |\n| session:s.if17FFpgQBG5ho4U         | {\"groupID\":\"g.9H16WKS4g7eSId0Q\",\"authorID\":\"a.9lnU4M9wVGDSiRBQ\",\"validUntil\":1331506800}                                                                                                                                                                                                                                    |\n| session:s.jzLVgf74gkY0pM7l         | {\"groupID\":\"g.9H16WKS4g7eSId0Q\",\"authorID\":\"a.9lnU4M9wVGDSiRBQ\",\"validUntil\":1331506800}                                                                                                                                                                                                                                    |\n| session:s.kHSOEjOM8gTrtAYf         | {\"groupID\":\"g.9H16WKS4g7eSId0Q\",\"authorID\":\"a.9lnU4M9wVGDSiRBQ\",\"validUntil\":1331506800}                                                                                                                                                                                                                                    |\n| session:s.l8MHIiKRsHuHf6l4         | {\"groupID\":\"g.9H16WKS4g7eSId0Q\",\"authorID\":\"a.9lnU4M9wVGDSiRBQ\",\"validUntil\":1331506800}                                                                                                                                                                                                                                    |\n| session:s.zKPYDNCuvPvyGeQd         | {\"groupID\":\"g.9H16WKS4g7eSId0Q\",\"authorID\":\"a.9lnU4M9wVGDSiRBQ\",\"validUntil\":1331506800}                                                                                                                                                                                                                                    |\n+------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n. I did some debugging and the CreateGroupIfNotExistsFor function seems fine.\nIt crashes in server.js right at the res._send(response) line:\n```\n//This is for making an api call, collecting all post information and passing it to the apiHandler\nvar apiCaller = function(req, res, fields)\n{\n  apiLogger.info(\"API CALL\");\n  res.header(\"Content-Type\", \"application/json; charset=utf-8\");\napiLogger.info(\"REQUEST, \" + req.params.func + \", \" + JSON.stringify(fields));\n//wrap the send function so we can log the response\n  res._send = res.send;\n  res.send = function(response)\n  {\n    apiLogger.info(\"Before stringify\");\n    response = JSON.stringify(response);\n    apiLogger.info(\"RESPONSE, \" + req.params.func + \", \" + response);\n//is this a jsonp call, if yes, add the function call\napiLogger.info(\"Before jsonp\");\nif(req.query.jsonp)\n  response = req.query.jsonp + \"(\" + response + \")\";\n\napiLogger.info(\"Before send\");\n--------------------------This is the last seen log output ---------------------------------------\nres._send(response);\n\n}\n//call the api handler\n    apiLogger.info(\"Before handle call\");\n  apiHandler.handle(req.params.func, fields, req, res);\n    apiLogger.info(\"After handle call\");\n}\n```\nConsole output:\n[2012-03-11 14:01:19.703] [INFO] API - API POST CALL\n[2012-03-11 14:01:19.705] [INFO] API - API CALL\n[2012-03-11 14:01:19.705] [INFO] API - REQUEST, createGroupIfNotExistsFor, {\"groupMapper\":\"13\",\"apikey\":\"rFqIF49IlsRy5frbAi1gzitSA8bKZVPD\"}\n[2012-03-11 14:01:19.705] [INFO] API - Before handle call\n[2012-03-11 14:01:19.707] [INFO] API - After handle call\n[2012-03-11 14:01:19.711] [DEBUG] ueberDB - GET    - mapper2group:13 - null - from database\n[2012-03-11 14:01:19.712] [DEBUG] ueberDB - SET    - group:g.loAuZDZyATt3pXP9 - {\"pads\":{}} - to buffer\n[2012-03-11 14:01:19.712] [INFO] API - Before stringify\n[2012-03-11 14:01:19.713] [INFO] API - RESPONSE, createGroupIfNotExistsFor, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.loAuZDZyATt3pXP9\"}}\n[2012-03-11 14:01:19.713] [INFO] API - Before jsonp\n[2012-03-11 14:01:19.713] [INFO] API - Before send\n[2012-03-11 14:01:19.749] [ERROR] console - [RangeError: Maximum call stack size exceeded]\n[2012-03-11 14:01:19.752] [INFO] console - graceful shutdown...\n[2012-03-11 14:01:19.768] [INFO] ueberDB - Flushed 1 values\nI'm sorry I'm not well versed with node.js, any hints on how I can debug the response handling? It's rather opaque to me at the moment...\n. At the risk of being a nuisance, I'd very much like to find the reason behind this error and I'd appreciate any pointers.\n. Yes! Awesome, thanks a lot!\n. ",
    "caseywatts": "This is an important feature for my users too. (and I'd like it personally as well! :) )\nSome just think that you can't use ctrl+b at all, because they're used to typing that way. From a user: \"I'd really appreciate [more] keyboard shortcuts...! Most notably Ctrl+B for bold, and hopefully Ctrl+/ for numbered list, and Ctrl+. for bulleted list\"\n. ",
    "simplyb": "+1\n. ",
    "aritas1": "Thanks for your comments.\nIs this a general way you like to solve the tracking problems? Or did i just waste my time on something that is not applicable for etherpad-lite?\n. I see, this is more complicated.\nIs there any way to get these tracking functionality for a internal admin interface, i.e. not available from the API?\nOre is there any other plan, which points to a admin interface and need to be done?\n. Okay, i will have a look at this first. Thanks.\n. ",
    "davexoxide": "I figured it out. My path has a space in it '/Volumes/Macintosh HD'\nShould there be an escape() for the path?\n. ",
    "dreeves": "@kingkaeru thanks, yes, I think that's important, regardless of what the color picker interface is. that was a constant annoyance with etherpad 1.0, having to change back to my usual color whenever i opened a pad. but at least on etherpad 1.0 it was just a couple clicks. in etherpad lite it's kinda brutal. :)\n. How about putting the original etherpad 1.0 colors as little squares along the bottom? Just as a shortcut to jump to specific points on the color wheel.\n. Can I offer a bounty on this? Is there a going rate? $50 would be a no-brainer and if it's much more I'll consider it!\n(Btw, I agree with @Pita that entering hex values would be ugly. I'm just looking for some solution for quickly picking the colors that were standard in Etherpad 1.0.)\n. I recommend the brightcolorpicker plugin. Does that do what you have in mind?. Different hardware. I don't know how to test this with both instances on the same physical computer since step 3 of the steps to reproduce involve typing at the same time.. I see. But, yeah, I think this bug is reproducible for 2 totally normal, separate users. So I think the severity of the bug is high!. ",
    "sufyit": "Downloaded @ 8:35am PST.   I'll re-download in an hour or two and close the issue if it's fixed. (thanks for the quick reply.)\n. Thanks!  I downloaded a fresh install this morning and it's working GREAT!\n-David\n. ",
    "belst": "host in settings.json is 127.0.0.1\nand telnet dont work.\ntelnet localhost 3306\nTrying 127.0.0.1...\ntelnet: Unable to connect to remote host: Connection timed out\n. already had those:\niptables -I INPUT -i lo -p tcp --dport 3306 -j ACCEPT\niptables -I INPUT -i lo -p udp --dport 3306 -j ACCEPT\ntried the one u posted but still get the error\n. Debian 6.0\n. ok here my firewall settings:\n# iptables-Modul\n modprobe ip_tables\n # Connection-Tracking-Module\n modprobe ip_conntrack\n # Das Modul ip_conntrack_irc ist erst bei Kerneln >= 2.4.19 verfuegbar\n modprobe ip_conntrack_irc\n modprobe ip_conntrack_ftp\n# Tabelle flushen\n iptables -F\n iptables -t nat -F\n iptables -t mangle -F\n iptables -X\n iptables -t nat -X\n iptables -t mangle -X\n# Default-Policies setzen\n iptables -P INPUT DROP\n iptables -P OUTPUT DROP\n iptables -P FORWARD DROP\n# MY_REJECT-Chain\n iptables -N MY_REJECT\n# MY_REJECT fuellen\n iptables -A MY_REJECT -p tcp -j REJECT --reject-with tcp-reset\n iptables -A MY_REJECT -p udp -j REJECT --reject-with icmp-port-unreachable\n iptables -A MY_REJECT -p icmp -j DROP\n iptables -A MY_REJECT -j REJECT --reject-with icmp-proto-unreachable\n# MY_DROP-Chain\n iptables -N MY_DROP\n iptables -A MY_DROP -j DROP\n# Reject packets from RFC1918 class networks (i.e., spoofed)\n iptables -A INPUT -s 10.0.0.0/8     -j DROP\n iptables -A INPUT -s 169.254.0.0/16 -j DROP\n iptables -A INPUT -s 172.16.0.0/12  -j DROP\n iptables -A INPUT -s 127.0.0.0/8    -j DROP\n iptables -A INPUT -s 224.0.0.0/4      -j DROP\n iptables -A INPUT -d 224.0.0.0/4      -j DROP\n iptables -A INPUT -s 240.0.0.0/5      -j DROP\n iptables -A INPUT -d 240.0.0.0/5      -j DROP\n iptables -A INPUT -s 0.0.0.0/8        -j DROP\n iptables -A INPUT -d 0.0.0.0/8        -j DROP\n iptables -A INPUT -d 239.255.255.0/24 -j DROP\n iptables -A INPUT -d 255.255.255.255  -j DROP\n# Korrupte Pakete zurueckweisen\n iptables -A INPUT -m state --state INVALID -j DROP\n iptables -A OUTPUT -m state --state INVALID -j DROP\n# Stealth Scans etc. DROPpen\n # Keine Flags gesetzt\n iptables -A INPUT -p tcp --tcp-flags ALL NONE -j MY_DROP\n# SYN und FIN gesetzt\n iptables -A INPUT -p tcp --tcp-flags SYN,FIN SYN,FIN -j MY_DROP\n# SYN und RST gleichzeitig gesetzt\n iptables -A INPUT -p tcp --tcp-flags SYN,RST SYN,RST -j MY_DROP\n# FIN und RST gleichzeitig gesetzt\n iptables -A INPUT -p tcp --tcp-flags FIN,RST FIN,RST -j MY_DROP\n# FIN ohne ACK\n iptables -A INPUT -p tcp --tcp-flags ACK,FIN FIN -j MY_DROP\n# PSH ohne ACK\n iptables -A INPUT -p tcp --tcp-flags ACK,PSH PSH -j MY_DROP\n# URG ohne ACK\n iptables -A INPUT -p tcp --tcp-flags ACK,URG URG -j MY_DROP\n# Loopback-Netzwerk-Kommunikation zulassen\n iptables -A INPUT -i lo -j ACCEPT\n iptables -A OUTPUT -o lo -j ACCEPT\n# Connection-Tracking aktivieren\n iptables -A OUTPUT -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT\n iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT\n# DNS\n iptables -A INPUT -i eth0 -m state --state NEW -p tcp --dport 53 -j ACCEPT\n iptables -A INPUT -i eth0 -m state --state NEW -p udp --dport 53 -j ACCEPT\n# FTP\n iptables -A INPUT -i eth0 -m state --state NEW -p tcp --dport 21 -j ACCEPT\n# SSH\n iptables -A INPUT -i eth0 -m state --state NEW -p tcp --dport 22 -j ACCEPT\n# Webmin\n iptables -A INPUT -i eth0 -m tcp -p tcp --dport 10000 -j ACCEPT\n# Webserver\n iptables -A INPUT -p tcp --dport 80 -j ACCEPT\n # iptables -A INPUT -p tcp --dport 667 -j ACCEPT\n # iptables -A INPUT -p tcp --dport 9001 -j ACCEPT\n# Default-Policies mit REJECT\n iptables -A INPUT -j MY_REJECT\n iptables -A OUTPUT -j MY_REJECT\n# Max. 500/Sekunde (5/Jiffie) senden\n echo 5 > /proc/sys/net/ipv4/icmp_ratelimit\n# Speicherallozierung und -timing for-De/-Fragmentierung\n echo 262144 > /proc/sys/net/ipv4/ipfrag_high_thresh\n echo 196608 > /proc/sys/net/ipv4/ipfrag_low_thresh\n echo 30 > /proc/sys/net/ipv4/ipfrag_time\n# TCP-FIN-Timeout zum Schutz vor DoS-Attacken setzen\n echo 30 > /proc/sys/net/ipv4/tcp_fin_timeout\n# Maximal 3 Antworten auf ein TCP-SYN\n echo 3 > /proc/sys/net/ipv4/tcp_retries1\n# TCP-Pakete maximal 15x wiederholen\n echo 15 > /proc/sys/net/ipv4/tcp_retries2\nas you can see i already have this:\niptables -A INPUT -i lo -j ACCEPT\n iptables -A OUTPUT -o lo -j ACCEPT\n. ",
    "rossmeissl": "From what I can tell this merge has significantly reduced the reliability of etherpad-lite running at beta.etherpad.org\n. ",
    "mrneil": "Like taziden, I had the same error and a similar stack trace this afternoon. I'm running etherpad-lite commit 309e3b0 on node v0.6.11.\nDo either of you have logs from the crashes you experienced? The baserev property of the USER_CHANGES messages sent from the users normally increase by one each time. In this case, the baserev of the USER_CHANGES message immediately proceeding the crash went down by one.\nBy itself, I think that's okay. It just means the change is based on a previous revision (not the latest). But I also see a client-side JS error logged less than 10 seconds earlier. It's a shot in the dark, but logs in other cases where this error occurred may help us determine if there is any relation.\nI still have to do some reading up on changesets.\n. I replaced PadMessageHandler.js line 431 (in the commit I'm running)\njavascript\nchangeset = Changeset.follow(c, changeset, false, apool);\nwith\njavascript\ntry\n{\n  changeset = Changeset.follow(c, changeset, false, apool);\n}\ncatch(e)\n{\n  console.warn(\"Can't apply USER_CHANGES \"+changeset+\", possibly because of mismatched follow error\");\n  client.json.send({disconnect:\"badChangeset\"});\n  return;\n}\nExplanation: Changeset.follow() runs assert() which throws an error if things don't match properly. The try-catch block disconnects the user submitting the mismatch. There's a very similar block about 30 lines above, which is what I based this on.\nFeedback is appreciated.\n. EDIT - I would ignore this comment as it may have been premature. The issue here seems to be unrelated to the mismatched follow error and the code in my previous comment appears to solve that problem on its own. At the very least, further exploration is required.\n~~Using the test from issue #752, my code catches the mismatched follow error and prevents a crash. However, any user who connects after that will cause a crash (\"Cannot convert null to object\").~~\n~~To remedy the new error, I surrounded PadMessageHandler.js lines 713 and 714 with an if statement.~~\n~~if(author){\n  delete author.timestamp;\n  historicalAuthorData[authorId] = author;\n}~~\n~~It works, but I have absolutely no idea what impact it has overall. Run it at your own risk.~~\n~~And if you can shed any light on the validity of the code, I'm interested in hearing from you.~~\n. No, @johnyma22. I have not created a pull request for two reasons: (a) my lack of familiarity with git and pull requests, and (b) potential impact on other moving parts of Etherpad Lite.\nIf you or others with experience evaluate the code and determine it to be valid, I have no problem with it being added to the project.\n. Hi @iamer,\nI'm glad to know the code works for you! You said you applied two changes, but as I wrote above, you should ignore the second. (I've actually just edited the comment to apply strikethrough text so no one else gets confused.)\nThe correct code has been running for me without issue for quite a while. We're not seeing authors disappear and reappear, so I wonder what happens if you undo the code change that is (now) crossed out.\n. Just a quick reply for now....\n- I see the client not handshaken 'client should reconnect' error on a very regular basis. In my case, I don't seem to get them as often (or sometimes at all) when the user that has poor connectivity is not using EPL that day.\n- I can't ever recall seeing the handshake error Bad session / session has expired error you list. Are you doing separate authentication using groups or sessions?\n- The NS_ERROR_FAILURE is also new to me.\n- I regularly receive the TypeError: a is null message. For me, it usually happens on line 57 though. I haven't determined what exactly is on that line so I don't know what's causing it, although it also seems to occur more frequently with poor connectivity.\n- Your mismatched follow error means that it ran the code above and caught the error. Good!\n- Finally, the Maximum call stack size exceeded seems eerily similar to issue #800. But in that case, immediately before the error, I see several hundred NEW_CHANGES messages being sent to a single user as EPL builds and pushes the changesets to bring that user back to the same revision as the others. Unless you've removed a bunch of log entries, it doesn't appear to be the same cause. But I wonder if they are somehow connected.\nHave you tried turning DEBUG level logging on? Perhaps it will isolate what is leading to the RangeError.\n. The fix I posted above will not directly solve the issue experienced by @rasos because the log does not indicate it is being caused by a mismatched follow error.\nHowever, the report reminds me of issue #800. That one occurred after several hundred NEW_CHANGES messages were sent, while this latest one is getting hung up on duplicate users. Can the fix described there (#1025) be adapted to solve this problem, too?\n. That is exactly what I'm seeing in the logs. In today's case, about 24 seconds passed between the userdup and USER_LEAVE messages. Of course, during that time, the USER_NEWINFO message was sent.\nI just got an idea. What if before any USER_LEAVE messages are sent, Etherpad Lite loops through the other existing sessions to see if any author IDs match the user that is supposedly leaving? Then only send the USER_LEAVE messages if there are no matches.\nIt would be something like this, inserted at line 102 of PadMessageHandler.js:\n``` javascript\nvar authorConnected = false;\nfor(j in pad2sessions[sessionPad])\n{\n  if (pad2sessions[sessionPad][j] != client.id &&\n      sessioninfos[pad2sessions[sessionPad][j]] &&\n      author == sessioninfos[pad2sessions[sessionPad][j]].author)\n  {\n    authorConnected = true;\n    break;\n  }\n}\nif (!authorConnected)\n{\n  ...\n  // existing PadMessageHandler.js lines 102 to 134 that create/send USER_LEAVE message\n  ...\n}\n```\nThe third line might need some work. I'm not sure if those are the right arrays to be using.\nI'm not in a position to test this at the moment, but does anyone see any problem with it?\nEDIT - Updated code to catch stuff I missed. It runs and functions properly for a regular disconnect or duplicate user scenario, i.e. one where this issue doesn't occur. I'd still appreciate feedback to see if this is a valid way to go about fixing the problem though.\nEDIT - Updated links and line numbers to match commit I'm using.\n. An update: I added the code above to our installation of Etherpad Lite about a month ago (with a line to log a message when authorConnected was set to true) and it seems to be working quite well.\nI'm still interested in any feedback from more experienced developers as to whether the code above is a valid way to fix it or if there could be any side effects.\nUntil I get more info (and learn more about git), I will not be making a pull request for this change. If someone else wishes to, go for it. I only ask that you let me know you've done so.\n. I ran into a slight issue today and I've edited the code above to account for it. (Now checking for a valid sessioninfos[pad2sessions[sessionPad][j]] before trying to access the \"author\" property.)\n. Hi guys,\nI think it's in PadMessageHandler.js (on line 783 in master branch and line 812 in develop branch).\n. This could be the same as or related to #717. In that case, author colours were faded for users not showing in the user list (normal), but the user was actually connected and could see and make changes to the text on the pad.\n. The code I document in issue #472 solves this problem. As I wrote there, however, I do not know how valid it is and what impact (if any) it has on other operations.\n. I agree with @fourplusone. And I would add unstable connections to that list.\nWe've been running Etherpad Lite for almost four months and have over 775,000 revisions to a single pad. One of the users is mobile most of the time and therefore doesn't have the most stable Internet connection.\nWhen applicable after each crash, I've added some lines to PadMessageHandler.js that simply make sure a variable/object (usually sessioninfos[]) is not undefined before accessing any of its properties or functions. My theory is these aren't set because a connection has dropped while an async iteration (or whatever) is running.\nTo be honest, identical failures happen infrequently and I'm only aware of a single instance where one of my tests prevented a shutdown. But if these changes pan out over time, I'll be adding them to the project. (Of course, I'm happy to share if anyone wants them now.)\n. I haven't added them yet because: (a) they're still undergoing basic testing, and (b) I haven't completely learned git and pull requests at this time.\nAs I wrote though, once I overcome those two problems, the changes will be added to the project.\n. ",
    "iamer": "I started seeing this crash frequently with about 10 users, some using older browsers. The two code changes above abolished the crashes. Thank you very much !\nA minor side effect is authors sometimes disappear for a short interval and then reappear again. \n. I've reverted the spurious change, will keep an eye on the logs and report back. Thanks for your reply.\n. Now with 30 users I am getting a similar crash, but not sure if it is the same.\n[2012-09-11 14:44:03.357] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2012-09-11 14:44:11.095] [WARN] socket.io - handshake error Bad session / session has expired\n[2012-09-11 14:44:11.787] [WARN] socket.io - handshake error Bad session / session has expired\n[2012-09-11 14:44:13.568] [WARN] socket.io - handshake error Bad session / session has expired\n[2012-09-11 14:44:18.313] [WARN] socket.io - handshake error Bad session / session has expired\n[2012-09-11 14:44:47.818] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"oOnoX0idxIBcIAGjvvgn\",\"msg\":\"NS_ERROR_FAILURE: Failure\",\"url\":\"XXX\",\"linenumber\":1,\"userAgent\":\"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:14.0) Gecko/20100101 Firefox/14.0.1\"}\n[2012-09-11 14:44:50.124] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"chOMKbQzwvFEvHp4ZVXv\",\"msg\":\"NS_ERROR_FAILURE: Failure\",\"url\":\"XXX\",\"linenumber\":1,\"userAgent\":\"Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:15.0) Gecko/20100101 Firefox/15.0\"}\n[2012-09-11 14:45:06.686] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"BxW92nkuWWtJ0xt1nm2l\",\"msg\":\"a is null\",\"url\":\"XXX\",\"linenumber\":18,\"userAgent\":\"Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:11.0) Gecko/20100101 Firefox/11.0\"}\n[2012-09-11 14:45:27.397] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"vpKOzVsuR90JzxuBseql\",\"msg\":\"TypeError: a is null\",\"url\":\"XXX\",\"linenumber\":18,\"userAgent\":\"Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:15.0) Gecko/20100101 Firefox/15.0\"}\n[2012-09-11 14:45:34.906] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"Tj9B84xt6Hv1f4nTWZjB\",\"msg\":\"TypeError: a is null\",\"url\":\"XXX\",\"linenumber\":18,\"userAgent\":\"Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:15.0) Gecko/20100101 Firefox/15.0\"}\n[2012-09-11 14:45:49.262] [WARN] console - Can't apply USER_CHANGES Z:du8>2|5=1v_e=1|1=1f_f=1|1=17_g=1|1=2c_j=1=1j_a|1+1_a_5_h_7_k+1$\n*, possibly because of mismatched follow error\n[2012-09-11 14:46:08.222] [ERROR] console - [RangeError: Maximum call stack size exceeded]\nEnsure that all dependencies are up to date...\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n. - I am using external LDAP auth through basic HTTP auth but that's not related to EPL\n- I haven't removed any log entries, but logging is not at DEBUG level ( too copious to handle on production with 30+ users hammering EPL)\nI will try to write a testing script that replays HTTP traffic and reproduce the bug with debugging turned on.\n. ",
    "amtep": "We haven't seen the mismatched follow error since applying the pull request from #1023, but I think the underlying problem hasn't been fixed. The \"mismatched follow\" would mean that the clients were sending bad changesets and we haven't found an explanation for that.\n. Cool!\nThis could be either very interesting or very boring :) If it's a bug in the stresstest client, then it doesn't help us much. But if the clients are sending correct changesets but the server somehow munges them then we really have the root cause.\nEither way, though, the server shouldn't crash no matter what the clients send. So some version of mrneil's patch is needed.\n. The stack space fix might be the fix for https://github.com/Pita/etherpad-lite/issues/800 as well\n. Hmm yeah, the thisAuthor thing needs a comment :)\nBut I'm not sure if saving the whole session is a good idea. The author is known not to change, but there are other things in the session (such as .rev) where using a saved copy can lead to subtle bugs. That's why I'd rather be conservative about what to save. What do you think?\nWhat's the protocol for changing a pull request? Should I rebase on my side, or just add a commit on top?\nAbout #1023, that looks like a case where the function just shouldn't proceed if the session is gone. No point in announcing USER_NEWINFO for a user who already left. We can look into patching that.\n. Oh, yeah, I didn't think of that. The saved session is still a shared reference. Too much Qt on my mind :)\n. I'd like to deal with #1023 in a separate pull request, so that it doesn't block these fixes. We want to give it the full treatment, starting with extending the client to reproduce that bug :)\n. Oops I made the pull request to the wrong branch\n. I thought about it but wasn't sure it was correct. \"== null\" is a different check than truthity, isn't it?\n. Maybe I should dig into why it needs to be null and maybe fix it client-side :)\n. All I know is that the attributes I included are the ones I see coming over the wire when I edit my name or color in the browser :)\nI didn't find anything in the client that cares about name being set to null or not, but I haven't tried it out either. (Our test server is down)\n. ",
    "rasos": "The above fix does not help here (latest version 7a0ad32, applied in PadMessageHandler.js around line 530). \nAfter server start, a pad content is delivered, then we have in the log file:\nESC[36m[2013-02-26 21:24:16.788] [DEBUG] ueberDB - ESC[39mGETSUB - globalAuthor:a.WZAfeDGHYipnTU0O[\"name\"] - \"Talie\"\nESC[36m[2013-02-26 21:24:16.788] [DEBUG] ueberDB - ESC[39mGET    - globalAuthor:a.2B7OTb1sMz4paEEn - {\"colorId\":\"#55c4d9\",\"name\":\"Brad\",\"timestamp\":1361821403366,\"padIDs\"\n:{\"weeklongwarriors\":1}} - from cache\nESC[32m[2013-02-26 21:24:16.788] [INFO] message - ESC[39mto iBoQF9yURV8-2OVyLU0m: {\"disconnect\":\"userdup\"}\nESC[32m[2013-02-26 21:24:16.788] [INFO] message - ESC[39mto iBoQF9yURV8-2OVyLU0m: {\"disconnect\":\"userdup\"}\nESC[36m[2013-02-26 21:24:16.788] [DEBUG] ueberDB - ESC[39mGETSUB - globalAuthor:a.WZAfeDGHYipnTU0O[\"name\"] - \"Talie\"\nESC[36m[2013-02-26 21:24:16.788] [DEBUG] ueberDB - ESC[39mGET    - globalAuthor:a.2B7OTb1sMz4paEEn - {\"colorId\":\"#55c4d9\",\"name\":\"Brad\",\"timestamp\":1361821403366,\"padIDs\"\n:{\"weeklongwarriors\":1}} - from cache\nESC[32m[2013-02-26 21:24:16.788] [INFO] message - ESC[39mto iBoQF9yURV8-2OVyLU0m: {\"disconnect\":\"userdup\"}\nESC[32m[2013-02-26 21:24:16.788] [INFO] message - ESC[39mto iBoQF9yURV8-2OVyLU0m: {\"disconnect\":\"userdup\"}\nThe last line repeats a thousand times, then: \nESC[32m[2013-02-26 21:24:17.941] [INFO] message - ESC[39mto iBoQF9yURV8-2OVyLU0m: {\"disconnect\":\"userdup\"}\nESC[31m[2013-02-26 21:24:17.942] [ERROR] console - ESC[39m[RangeError: Maximum call stack size exceeded]\nESC[32m[2013-02-26 21:24:17.943] [INFO] console - ESC[39mgraceful shutdown...\n. Error can be replicated, we currently loop: \nRESTART!\nEnsure that all dependencies are up to date...\nnpm WARN package.json ep_etherpad-lite@1.2.7 No README.md file found!\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2013-02-26 21:40:59.026] [WARN] socket.io - client not handshaken 'client should reconnect'\n[2013-02-26 21:41:00.531] [ERROR] console - [RangeError: Maximum call stack size exceeded]\n. Mmh, the size of the padID.db file is 0, replacing the padID with the pad name. I can read in the logfile that somebody uses the pad to exchange even passwords, so I probably should not post that in the web. Any way I can send that to you in pm? Or any hint to disactivate that pad?\n. I tried node 0.8.8 first, then switched back to version 0.6.21 and forth again - makes no difference. \nWe had a working etherpad-lite with 0.6.6, which also sometimes made troubles with \"Loading\" endlessly. \nUpdate required an additional npm cache clean jshint . Switched back to dirty DB for testing.\nServer rebooted completely. \nHow can I test, if etherpad-lite is connecting correctly to the node module and the sockets?\n. Ubuntu Linux 10.04 headless server, see original posting of this issue for more version information and logfile.\n. So should we switch to the develop branch and give it a try? How do I clone that properly (sorry, git-newbee here)?\n. Confirmed with master and develop branch:\nAn error occured while loading the pad\nUncaught Error: The module at \"ep_etherpad-lite/static/js/rjquery\" does not exist. in http://pad.ethify.org/static/js/require-kernel.js (line 1)\nRe-opening issue.\n. Found out, that \"Loading\" problem is related to proxy rules for nice URLs. \nFollowing the rules here https://github.com/Pita/etherpad-lite/wiki/How-to-put-Etherpad-Lite-behind-a-reverse-Proxy\nseems not to be up to date.\nBTW; the board at the bottom of http://etherpad.org/ seems also to be affected.\n. The first error occurs, when there is a (redirected) request to /p/javascripts/lib/ep_etherpad-lite/ , which is a link in the filesystem. Maybe this can not be resolved? But we do have a FollowSymLinks rule in the proxy. \n[2012-09-03 22:24:45.427] [INFO] http - 200, GET /p/aswdcc\n[2012-09-03 22:24:45.518] [INFO] http - 200, GET /static/css/pad.css\n[2012-09-03 22:24:45.520] [INFO] http - 200, GET /static/custom/pad.css\n[2012-09-03 22:24:45.637] [INFO] http - 200, GET /static/js/require-kernel.js\n[2012-09-03 22:24:45.644] [INFO] http - 404, GET /p/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define\n. Still researching. \nI had success yesterday when connecting through a ssh port forward, but that does not work anymore today, even not when connecting with its own IP address. The 404s then disappear (as we do not have any proxy inbetween), but still loading eternally.\n. Found out, that IP in settings.json should remain 0.0.0.0. If you bind it on VMs IP let's say 10.47.48.2, then it is Loading endlessly. This way, proxy rules still do not work for nice URLs. WIll direct extra IP address to etherpad service instead of proxying through a virtual host. \nWaiting for nice URL module to come ...\n. problem disappeared, did some updating, can't really say what it made disappear.\n. Needed to remove ep_tables plugin to make timeslider work again.\n. Ok, found it in static/css/iframe_editor.css \nI recommend adding this to static/custom/pad.css for non-technical users of pads, increasing font size from 12 to 14 px:\n```\ninnerdocbody {\nfont-size: 14px;\n  line-height: 18px; \n}\n```\n. Question marks again appeared when user opened pad with Silk Browser on Kindle Fire.\nWell we are still on 1.5.6, however #2348 should have been merged in before - no notes in CHANGELOG though.\n . I had the same error after updating etherpad after 3 years of smooth operation. \nSolved by reloading the etherpad window in your browser completely with Ctrl-R.\nSeems to be related with some cached (but incompatible after server update) Javascript in your browser.\n. 1. Steps to replicate: \n1a: create new pad on any EP instance\n1b: import pad attached containing question marks\n1c: pad does either not reload (pad service) or no content shown (on a new sandstorm pad)\n2: DB on our pad service is MariaDB with latin1 character set.\nIssue could not be replicated just by entering ??????? into a new pad. So it could be some non-latin1 character causing the issue. \nMaybe related to #2154.. ",
    "fmarier": "The error message is similar to the one in issue #436 but I'm running this on Linux, not Windows.\n. Nevermind, it turns out I had forgotten to run bin/installDeps.sh (I only ran \"npm install\").\n. ",
    "s1341": "I have located and fixed this issue in my fix_timeslider branch. I can submit a PR for just this or we can wait until the entire branch is merged.\nSee https://github.com/s1341/etherpad-lite/commit/6b74b44fc889dc4973eebc67897b0627d9d38663#diff-5d2aa4336c4964b828a123e20e09b73cR1284 and https://github.com/s1341/etherpad-lite/commit/6b74b44fc889dc4973eebc67897b0627d9d38663#diff-5d2aa4336c4964b828a123e20e09b73cR1502\n. I've created a separate PR for this (#2038) so you don't need to test on my (as yet) unstable timeslider branch.\n. What happened to this PR?\n. In general, in the very quick tests I did manually, it looks like the HTML export/import doesn't round trip. This area probably needs some love...\n. Yes. It doesn't work. \n. Is this change sufficient? Don't you need to have listAllpads return the list?\n. Will do. \n. Tested. The list can be retrieved via the callback function, but not by just calling listAllPads.\npadManager.listAllPads(function(a,b){console.log(\"via callback: %s\",util.inspect(b))})\nprints the list. But\nconsole.log(\"via return: %s\",util.inspect(padManager.listAllPads()))\nprints 'undefined'. \nIs this change in API intentional? If so it breaks plugins ep_small_list and ep_list_pads.\n. Is there a way to block until a callback returns? (I'm a node noob)\nI'm trying to patch the ep_small_list, but I need to set args.content before the eejsBlock_indexWrapper function returns, and now that the listAllPads is async, I don't know how to do that.\nThis is what I have:\nvar padManager = require('ep_etherpad-lite/node/db/PadManager');\nexports.eejsBlock_indexWrapper = function (hook_name, args, cb) {\n   var padstring = \"<h3>List of pads</h3>\";\n   padManager.listAllPads(function(a,l){ \n        console.log(\"in: %s\",l.padIDs); \n        pads=l.padIDs\n        pads = pads.sort();\n        padstring += \"<ul>\";\n        pads.forEach(function(item){\n            padstring += '<li><a href=\"/p/' + item + '\">' + item + '</a></li>';\n        }); \n        padstring += \"</ul>\";\n        args.content += padstring\n        console.log(\"args: %s\", args.content)\n        return cb();\n   })\n}\nApologies for my noobishness.\nEDIT: I just reran etherpad with this code, and it seems to work. I'm confused.\n. @JohnMcLear I see what you did there using async to serialize. I'll implement something like that. \n. I submitted a pull request to ep_small_list which fixes it for use with this new API.  It has been merged. \nhttps://github.com/spruce/ep_small_list/pull/2\n. Personally I think that SQLite is more than sufficient as a 'zero config' option. Moving to a true relational db structure makes a ton of sense. It will definitely decrease db size. \n. Actually I was just sort of reading the issue backlogs to see if thee is anything that I could do while I'm still in the etherpad mindset. If someone has useful suggestions, have  at me. \nI guess I come from a more traditional RDBMS background, and I've found that the key-value model feels a bit stretched in etherpad. Things like revisions and chat messages cry out for relational tables. I assume that the 50 character pad name limit is also a function of this model. Even if an RDBMS is not the answer, I'd personally like to see some rethinking of the db implementation here. \nAbout the callbacks: it really does take some getting used to. I spent most of yesterday banging my head against it, but I can't really think of a better way to do it and maintain fully async db access. \n. Maybe it should do something stupid like stripping out comments before parsing? Also, it would probably be better to show the contents of the file in any case. \n. Which plugins do you have installed? What's your head revision? Some recent changes to the plugin API a little over a month ago broke a bunch of plugins. Try updating to develop head. \n. This is a duplicate of the bug fixed in pr #1974. I hadn't updated my base to the head ;)\n. The copy is done at the db level, basically making a copy of every store element with 'oldPad' in its key, so it should be pretty safe. Move is simply implemented as copy, remove.\n. I can change those names before you merge. \nTbh I'm surprised no one has done this before. Another thing: I didn't really test the functionality with groups, but I'm fairly certain it should work. \n. Ready to merge\n. Fixed A couple of validation bugs, tested group pads, added an option to force overwrite of destination. \nI think this is now really ready to be merged. \n. We should provably also update the documentation. \n\nOn Nov 18, 2013, at 13:43, John McLear notifications@github.com wrote:\nMerging this makes me think we realllllyyy need a backend testing framework/implementation\n\u2014\nReply to this email directly or view it on GitHub.\n. That's probably true... How do we fix it?\n. Ok. Committed #2008 to fix this.\n. Mmmmm. Cookies!\n. See PR #1999 which lets the validation succeed on client side.  This is probably safer than just ignoring the validation altogether. \n. @marcelklehr can you please try the following:\n1. After line https://github.com/ether/etherpad-lite/pull/1999/files#diff-24ffb78e9d3a3de8c4d60a3084087a02R59 add console.log(cleanSettings);\n2. Access the settings page\n3. Run the cleanSettings output through http://jsonformatter.curiousconcept.com/ \n4. Paste the results somewhere for me\n. Should we try getting rid of single quotes? That get's a little more complicated. So far as I can tell, the stock settings.template.js doesn't have any issues (except trailing commas and comments, of course ;)).\n. There aren't really, but if you're like me and just moved the comment start at line 90 down to 96 to set an admin user, you get a trailing comma. \n\nIn any case, there should be parity between what the server will accept and what the client validates. If that means being more lenient when it comes to trailing commas or single quotes so be it. What do you think?\n. I think aiming for minify compatibility is probably the way to go. It would be nice if we could find a validation which would show the position of the error so that users don't have to struggle to get the server to accept the file. \n. I'll look into it tomorrow. Don't merge this until then. I'll add to this PR. \n. Rebased onto develop and made the server use minify and strip trailing commas. Should be ready for merge now.\n. @JohnMcLear I have 3 known bugs (including the borked last character thing). I also have a few features remaining, including: author data, handling NEW revisions, preloading.\nI'd appreciate feedback if people do test.\n. Currently, hitting the play button while at the head revision starts playback from revision 0. Do we want to change this behavior?\n. This is more or less ready. There are two outstanding issues with the changesets themselves, one of which must be resolved before we can move forward, as it leaves the pad in an unknown state: \nUncaught Error: Failed assertion: Can't have op.lines of 2 in attribution lines\nI'd be grateful for some additional testing.\n. Thanks for all the feedback. I'll probably only be able to do some more work on this tomorrow. The timeslider does do line-based changeset stuff. \n. @marcelklehr let's try to debug together tomorrow?\n. There are still a few bugs and changes that need to be fixed/made. I unfortunately haven't had much time to work on this in the last couple of weeks. Hopefully I'll have some time later this week.\n. @marcelklehr Wow! Thanks for picking up my slack on this. RL got the best of me for a few weeks. I'm still not able to dedicate any real time to this. Looks like you've managed to fix a bunch of my bugs. I'm hoping my refactor was at least useful as a base to you ;)\n. @marcelklehr. Thanks again for taking this forwards. Glad the refactored code makes things easier. I'm only sorry I wasn't able to manage this on my own. \n. ",
    "Gared": "@JohnMcLear Okay. Will try this tonight.\n. @jaseg I saw your branch whilst browsing through the github repo and I was really impressed with the work you have done. \nWe are working on an plugin system and it would be great if you would consider writing your code as a plugin. We (\"The Etherpad Foundation\") would be able to support you through this process.\nThe plugin framework is not currently publicly available so we are only reaching out to developers we feel will provide real value and we have confidence in their ability to write a plugin that will spur further development.\nThe basic plugin framework documentation is available here:\nhttps://github.com/Pita/etherpad-lite/wiki/Creating-your-first-Etherpad-plugin\nAnd the github for the development of the plugin framework is available here:\nhttps://github.com/redhog/etherpad-lite \nHooks will be available in a few days, we will do our best to include all of the hooks you need so please keep an eye on the plugin framework documentation and be vocal about any requirements you have that we may have missed.\n. @cweider I've tried it with a browser on another computer, which was never connected to the etherpad lite instance and I still have the removed javascript lines on serverside in my browser.\n. Installed etherpad lite on a new server with latest node.js (0.10.21).\nI tried to install a plugin, but everytime I try to access /admin/plugins on my server I get the following error message on console:\nnpm http 200 https://registry.npmjs.org/-/all\nFATAL ERROR: JS Allocation failed - process out of memory\n. I mentioned that my ram usage is raises about 200mb a few seconds before the error message kills the eplite process\n. Why should it confuse people? There are several big websites that use exclamation marks in their URLs and users cannot post these links into a pad.\n. No, sorry if it was a little bit confusing. I think exclamation marks in URLs are bad and we shouldn't do this with EPLite URLs, but is there a reason why we shouldn't support that links in a pad?\n. @disy-mk How do I install the pdf-libs and how do I know if I have these libs installed?\n@Wikinaut As I wrote in my bug report my abiword version is 2.6.4.\nHere you can check the pad yourself: http://piratenpad.de/p/test\nI tried your code on command line, but I get an error on converting:\nAbiWord:> convert my.html my.pdf pdf\nAbgebrochen (Failed)\nThe content of the file my.html:\n\nfett\n\nIf I convert to file to odt or something else, it works.\nI don't see that any issue in #189 fits my problem. I don't have weird characters in pad url / content and when I convert a simple html file (without missing tags) to pdf it doesn't work.\nThe pdf export worked months ago with no problems, but since I updated from version 0.* (version from january) to 1.1.3, I have this problem\n. Sorry for my late respone.\nI tried to install abiword from source on my debian system, but I have several errors doing that.\nIn the next few weeks I will upgrade to EPLite 1.2 and test if the problem with pdf export will happen again.\n. Why do you think so? The export to dokuwiki is also not a plugin. I think mediawiki is more import than dokuwiki and I need it, but this is only my opinion.\n. Okay, then I understand why you want it as a plugin and I agree with you that this will be a better solution\n. Fixed in #2302\n. @jhollinger I had problems updating your eplite-java-client to version 1.2 and calling the function \"getAuthorName\" thats why I've created this issue\n. Thank you for the fix\n. Maybe this #1879 fixed the issue?\n. I get the error message \"RangeError: Maximum call stack size exceeded\", because someone tries ten times in a millisecond to send messages to etherpad. Is there any DoS protection in etherpad? If not we should add one.\n(I'm using node 0.8 with etherpad 1.4)\n. Okay, I've digged deeper into it and the problem is not that someone is sending too much requests, but the server want to send the same message to the same user too often.\nI start the server, a client connects (it seems like it's important which user connects, but i'm not sure) and the server tries to send as often as possible this message to him:\n[2014-05-16 11:34:32.603] [DEBUG] message - to -xk8IaEQ3qxp1DYiPqvR: {\"type\":\"COLLABROOM\",\"data\":{\"type\":\"USER_NEWINFO\",\"userInfo\":{\"ip\":\"127.0.0.1\",\"colorId\":7,\"userAgent\":\"Anonymous\",\"userId\":\"a.\nxyz\"}}}\n. Installed version 0.8.22, but problem still exists.\n. Tried with a newer version without problems\n. @nelsonsilva Any progress on that?\n. I have several pads which are broken. Maybe I can make a diff of the keys before and after I executed the script, but I'm not sure how to do that...\nI don't understand why the extractPadData script handle the data in a right way and the other javascript code in eplite does it not. \n. @Ididry Good to hear. In the last month this fix hasn't worked for me anymore. There is another bug which we need to identify and fix\n. @marcelklehr I don't have the original message, but I can reproduce it on my old instance. Is the first line of the error message enough for you (the whole part with text like \"2+23*0+i\" this)? \n. @marcelklehr This should be the changeset: \nZ:1>6dc|2+23*0+i|2+2*1*2*3+1*0*4*5+a*0*4+82|1+1*1*2*3+1*0*4*5+9*0*4+7t|2+2*0+d|4+2k*0+c|2+s+2*6+9|2+2*0+b|3+9*0+c|3+b+2*6|4+y*6+5*7+1*6|2+b*6+7|5+i*0+j|3+6*0+l|1+1+2*6+2|1+c+e*6+6|1+1q+d*6+9|2+v*8*0+i|2+2+2*9+m|1+3+m*9+3*a+1|1+2*9|1+1*9*1*2*3*b+1*9+z*a+1x*9|1+1*9*1*2*3*c+1*9|1+23*9*1*2*3*d+1*a|1+6h*6|1+1+2*e+k|1+3+m*e+6|1+2+2*6|d+1fk|1+1+2*f+1c|1+3+m*f+4|1+2+2*f|4+cz*f+3o*6|3+4g*6+2i|1+1*f|1+1+2*a+1f+2*f|1+1*a+w*f|1+1*a+23*f|1+1*a+l*f|1+1*a+47*f|2+2+2*e+1b|1+3+m*e+6|1+2+3*e|2+2*f|5+6d*e|2+1j*e+3*7|4+29*6|1+2v*7|1+14*6+3*7|1+17*6+3*7|1+17*6+2*7|1+4b*6+2*7+1y*6+2*7|1+24*6+2*7+79*e|1+1*6|b+18l|4+16*e|1+1*f*g*1*3+1*0+j|e+3k*f*g*1*3+1*0+b|3+1c+2*7+r|1+3+m*7+6|1+2+2*7|1+2i*7+1g|9+2d$\n. Can anyone have a look at it, please?\n. Can't reproduce this on Windows with version 26 and Ubuntu using Chromium 25\n. Now I know why our server need so much time to handle the first request. We have about 50000 pads so we definetely need another way to handle this. \nIf we store the padIds in a seperate table, we have to make sure that all padIds in the one table are in the other  one too.\n. The original line is 2450 on character 7 and this is the real content:\nvar editorDocument = outerFrame.contentWindow.document;\n. Okay, I noticed that if I change the User-Agent from IE11 to a older version (10, 9, etc.) etherpad lite is working fine. I think the problem is that jQuery doesn't detect IE11 User-Agent as an Internet explorer so the the specific javascript for ie won't be executed.\n. Any suggestions what we can do? Maybe we should update jquery again...\n. Can anyone please verify if etherpad is working fine with IE11 stable?\nI tested it and it seems to work for me\n. Thx\n(Tested with IE 11.0.9600.16476 and works fine)\n. If someone is searching for this plugin: https://github.com/gared/ep_export_authors\n. How can I get a list of all pads with connected users or how should this be possible with a plugin? @JohnMcLear @marcelklehr \n. @JohnMcLear As I see you don't have this problem in your plugin, because you never need to get a list of all connected users. Maybe I overlooked something?\n. @marcelklehr Thx. I created a prototype and it's working. As soon as I have a stable version I will publish it and notify you.\n. @frlan Here is my plugin: https://github.com/Gared/ep_message_all\nPlease test it\n. @marcelklehr btw. thx for your help\n@JohnMcLear thx and done\n. The first one\n. Yeah, I see... :-)\nDo really think so? I thought I make a request/action before the user is really initialized on server-side.\nTo be clearer: The crash happened after I have started the server.\n. I thought I can, but I tried it a few times and I can't :-(\nI will do further tests to see if I can reproduce it\n. We have a milestone with version 1.3 and not all issues to that milestone have been fixed so far.\nProbably we should delete our milestones and rethink and plan all of them again.\nWhat do you think?\n. Could someone please review this change?\n. Okay, I unterstand your opinions. Maybe I will write a plugin for this\n. I agree with John.\nEveryone on the pad should use a pseudonym, but if you want to use the IP (or the reverse lookup of it) of the user you can identify him and others on the pad too.\nMaybe we should display a little window to ask the user for its name?! Most of the users don't know the option to enter their name.\n. @marcelklehr Is there an easy way on how I know on which padId the error happens?\n. @marcelklehr thanks. After I added your changes to my etherpad it doesn't crash on this error anymore (it crashed on [RangeError: Maximum call stack size exceeded], but probably this is another issue).\nI have checked my logs and found the pad that is causing the error. With the checkPad.js I got the following errors for the pad:\n[2013-12-19 11:16:27.093] [ERROR] console - Bad changeset at revision 301 - Failed assertion: mismatched apply: 41618 / 41617\n[2013-12-19 11:16:27.201] [ERROR] console - Bad changeset at revision 401 - Failed assertion: mismatched apply: 41786 / 41785\n[2013-12-19 11:16:27.946] [ERROR] console - Bad changeset at revision 1101 - Failed assertion: mismatched apply: 44373 / 44372\n[2013-12-19 11:16:30.524] [ERROR] console - Bad changeset at revision 2901 - Failed assertion: mismatched apply: 46136 / 46135\n[2013-12-19 11:16:32.625] [ERROR] console - Bad changeset at revision 4101 - Failed assertion: mismatched apply: 47600 / 47599\n[2013-12-19 11:16:32.704] [ERROR] console - Bad changeset at revision 4201 - Failed assertion: mismatched apply: 47953 / 47952\n[2013-12-19 11:16:57.210] [ERROR] console - Bad changeset at revision 12701 - Failed assertion: mismatched apply: 57613 / 57612\n[2013-12-19 11:17:04.905] [ERROR] console - Bad changeset at revision 15301 - Failed assertion: mismatched apply: 48253 / 48252\nI think there is no way to fix the wrong changesets, but as long as this error doesn't crash my server again I'm happy with it.\n. The timeslider looks very good, but it seems very slow if you have multiple revisions and/or change very fast between them. Sometimes it hangs and take a while till it jumps to the selected revision.\n. Open your settings.json and enter a value for the key \"secret\"\n. You're welcome :-)\n. @JohnMcLear On master branch you get the message \"You need to set a sessionKey value in settings.json, this will allow your users to reconnect to your Etherpad Instance if your instance restarts\" on a clean installation.\nYou will get the above error message on develop branch only.\n. Works with latest develop now\n. The timeslider doesn't work for me with your patch...\n. This branch should be named \"release/1.3.0\" I think...\n. What about the timeslider fix? I would be really happy if we'll have a working timeslider in the next version.\n. @marcelklehr Is this the timeslider refactoring from #2070?\nYes, It's working, but there are still a few bugs int it. See my comment https://github.com/ether/etherpad-lite/pull/2070#issuecomment-33518483, but I'm happy so far with it. Thanks :-)\nI will do further tests on this branch and give feedback.\n. I get the following javascript error, when opening \"Import/Export\" dialog and clicking somewhere else in the pad text:\nReferenceError: modules is not defined\nif(module.css('display') != \"none\")\n{\n$(\"#\" + modules[i] + \"link\").removeClass(\"selected\"); // <---- Error is in this line\nmodule.slideUp(\"fast\", cb);\nreturned = true;\n} \nCan someone confirm this?\n. @JohnMcLear Tested and fixed. Thanks.\n. It would be nice if the authors will be shown that are affected to the selected pad revision. Now all authors are shown. In the old etherpad the behaviour is as I expected.\nAlso it would be nice to see always the last version of a pad if you have selected the last revision (live timeslider).\nI think there is also a bug: I can not select the last revision, because this is a few pixel outside of the timeslider itself.\n. @marcelklehr Great work :-)\nI started testing right now and found a bug when on wrong author color.\nTo reproduce it:\n- Open in one browser the timeslider and in another browser the pad\n- Right something in the pad\n- Select a newer version in the timeslider and it will show you the added text in another author color\n  (Maybe you have to write with two users to reproduce it)\n. Other bugs:\n- \"Live changes\" on timeslider doesn't recognize changes like underline and strikethrough. Also all changes on lists won't be handled correct. Same by deletion of author colors.\n- star of \"mark as saved revision\" won't be displayed until reload of timeslider\n- attributes on delted text like strikethrough are set on text that is written on the same position (no page reload of timeslider between deletion and added text)\n- Also I got this message: \"Ooops! All possibility sources drained. Input is likely to be invalid.\" I think this is a debug of you, isn't it?\n- If a star is between the version you want to go to and from where you come then you'll get a javascript error message (Uncaught TypeError: Cannot read property '0' of undefined). (not in every case. Can't reproduce it yet)\n- Adding one character will not update timeslider\nAlso I agree with John that there is an issue that sometimes the timeslider hangs and it take some time until anything happens (sometimes there is a javascript error in console, sometimes not). I think this happens if you make some \"bad changes\" (see the first bug in my list above).\nSorry for reporting so much errors...\n. @JohnMcLear Will do a release tomorrow or the day after tomorrow. Is this okay for you?\n. @micah I know, but I found this issue #2720 on the current develop branch. Can you please confirm my issue? I'll try to fix this asap and do a release tomorrow\n. @micah New release 1.5.7 is done\n. I've made some changes to the checkPad-script. See here: #1653\nBut this is more a dirty hack. If my script will resolve this problem I will write a script to fix pads\n. I created a script to reinsert all database value of a pad. On my broken pads the script hasn't worked.\n@Ra1d3n You can download the script here: https://github.com/Gared/etherpad-lite/blob/pad-repair-script/bin/repairPad.js\nMake sure your etherpad instance isn't running while you're executing this script.\n. @marcelklehr This script is a fork from the extractPadData script. The values and keys are loaded in the function above. These are all keys of a pad.\n. Opened pull request #2210\n. What about #2184? Which one should be merged?\n. Fixed through #2184\n. Sorry, forgot that\n. @LIUJE2 Does this error still occurs or can we close this ticket?\n. Hi,\nPlease try to use this zip file:\nhttp://stefans-entwicklerecke.de/wp-content/eplite-nightly-builds/etherpad-lite-nightly-54bf17bfea.zip\nCheers\nStefan\nAm 15.04.2014 um 05:18 schrieb liza sabater notifications@github.com:\n\nWindows says the Zip is unreadable; PeaZip app says it's password protected.\nhttp://etherpad.org/downloads/etherpad-lite-win-1.4.0-54bf17bfea.zip\n\u2014\nReply to this email directly or view it on GitHub.\n. Tested and +1 to merge\n. #2487\n. Fixed on develop branch\n. 1.2.10 would be the next version number I think, because it's only a small API change.\n. I'm the admin of piratenpad.de and we use the old etherpad https://github.com/ether/pad and this version of etherpad. Due to the description of the import dialogue you're talking about the old etherpad and so this would be the wrong place to ask for any help, but there is also an import dialogue in the new etherpad. As I tested right now the html import in the new etherpad (with abiword installed) will do indentation, but with whitespaces and not bubbles.\n. Please report bugs in plugins to the specific repository. For tokbox report your issue here: https://github.com/JohnMcLear/tokbox-etherpad-plugin\n. There is a plugin for chat notifications: https://www.npmjs.org/package/ep_desktop_notifications\nIs that what you were searching for?\n. @dhanrajsvu You must have admin permissions to install server-side plugins\n. Tested on Windows 7 64-bit and it is working fine (relative and absolute paths)\n. @JohnMcLear Is this ready to merge for you?\n. Please open the issue on the repo of this plugin: https://github.com/aoberegg/ep_user_pad_frontend. We're not maintaining plugins\n. Tested on my iPhone: You can only click on links if you're not in edit mode (keyboard and cursor invisible).\nPlease test if this works for you.\nWhich browser do you use on your desktop?\n. So I would say this is not a bug and you can close this issue\n. It's a bug in the timeslider. I fixed it in the referenced pull request. A workaround is you click on the left arrow in the upper right corner, wait until this version is loaded and now you can change to another version of the pad. \nIf you want you can test my fix.\n\nIt's not supported, because this type of database is not performant enough to handle the database queries for several users.\n. @bcg-didi Have you tested my fix? Is it working for you?\n. Should be fixed\n. Had this error serveral times. I think we should prevent etherpad from crashing, because all cached values are away and pads are getting broken. What do you think about @JohnMcLear \n. We should force to write all cached data to database and then shutdown etherpad on an error I think. I agree that keep the server running is not a good idea\n. There is a flush method:\nhttps://github.com/Pita/ueberDB/blob/master/CacheAndBufferLayer.js#L426\n. Okay, I found an error handling in the code: https://github.com/ether/etherpad-lite/blob/master/src/node/hooks/express/errorhandling.js#L32 It should do the job...\nAfter digging deeper in the code I found some weird code snippets. Maybe someone can explain me why this code is needed:\nhttps://github.com/ether/etherpad-lite/blob/master/src/node/hooks/express/errorhandling.js#L27\nWhy do we need the setTimeout? It seems in some cases the 3 seconds are too short.\nhttps://github.com/Pita/ueberDB/blob/master/CacheAndBufferLayer.js#L127\nI don't understand what is happening here and how this will do a \"shutdown\". Also I can't see that the flush message or something else is called...\nHope someone can help me.\n. @marcelklehr @JohnMcLear Should we change the timeout https://github.com/ether/etherpad-lite/blob/master/src/node/hooks/express/errorhandling.js#L27 to 10 seconds maybe?\n. Are you having troubles loading the available plugins? This is a problem due to the empty json file on etherpad.org. I've opened a pull request to fix this https://github.com/ether/ether.github.com/pull/13\n. I tested this again. The problem is not the position from top (I will remove this again), but if you scroll down on timeslider page the import/export overlay scrolls out of the window\n. @JohnMcLear Could you please verify this again?\nOpen https://beta.etherpad.org/6evkYYfX5i/timeslider click on \"export\" and scroll down\n. @JohnMcLear Doesn't my fix resolve this issue?\n. Fixes #2213\n. @JohnMcLear @marcelklehr Can I merge this?\n. I'm unable to reproduce this behaviour on windows 7 with IE 11.\nWhat version of IE are you using @bp323 ?\n. I don't think there is a way you can hide this admin site, but you can try to remove the write-flag from the settings.json config file (e.g. chmod 400 settings.json)\n. You cannot paste images into a pad\n. This is a function we do not support (yet).\nThere is a plugin for a special version of etherpad that enables this functionality: https://github.com/JohnMcLear/ep_copy_paste_images\n@JohnMcLear What about adding this functionality to the etherpad core?\n. I'm using this node.js version since years. I don't think I get the error message anytime again...\n. I've updated my node, but it hasn't solved my issue. Few days later the problem was gone. Maybe this was some kind of temporary error.\n. I think this PR can be closed?!\n. Reload the page and/or try to delete your cache. I can open the page without problems\n. These are warnings only. I don't know why they appear, but etherpad will run fine with them.\n. Long time ago I've redrawed the favicon:\nhttps://github.com/Gared/etherpad-lite/blob/48608eb7c8dfea6e9ad17013e9acbbc952648b3b/src/static/apple_touch_icon_114_114.png\nMaybe we can use the source file from that image if the original source files are not present anymore.\nBump @marcelklehr @0ip\n. Done\n. Please do not open new issues to relate on earlier ones\n. Can't reproduce this on arch linux with nodejs 0.10.32. Will try on other systems\n. Agree to that. Will hava a look on the code to search for the right regular expression for this\n. Fixed this in #2302\n. Could someone with a translatewiki account please add the keyboard shortcut to the title of the button?\n. If I restart the server (wait until the pad shows your disconnected) I get the notification \"Connected\", but I can't edit the text or send a chat message\n. @JohnMcLear Have you started the server after the message \"Your disconnected\" appeared?\n. @JohnMcLear Is there anything I should do here?\n. @marcelklehr What do you think? Are you happy with this kind of validation?\n. Fix #1241\n. @prtksxna Thanks. I didn't know the exact process for that\n. Can confirm this behaviour. Happend to me after calling several times the backend Tests.\n. What's the problem? 0.0.0.0 means listen on every device, so 127.0.0.1 should work for everyone.\n. @madeofpeople I've added an entry to the admin menu in this plugin: https://github.com/Gared/ep_message_all\n. Yes, you can refernce it. It has a translateable UI and should be coded in a good way.\n. A few commits after version 1.4.1: bc8b5cc0662749e56bc5100aab5b3ff52c0e9761\n. The last time the error occured was a few days ago. So if I pull develop I can't be really sure that this fixes the problem. I will reopen this issue if I get further errors.\n. @marcelklehr Can you have a look at it, please?\n. Yes, also in 1.4.1 and 1.2.11 (the oldest version I can run on my machine)\n. I will try this to add one and a test case\n. Added notification\n. #2589 \n. #2589 \n. Included version number\n. Included version number\n. Already released\n. I think this check is very bad...\nThe bin/run.sh script also throws a exception that iojs command could not be found.\nWe should handle the node and iojs executable the same way.\n. Please run\nls -la\nin your etherpad-lite directory and the bin directory and post the results here.\n-------- Urspr\u00fcngliche Nachricht --------\nVon: John McLear notifications@github.com \nDatum:20.01.2015  13:48  (GMT+01:00) \nAn: ether/etherpad-lite etherpad-lite@noreply.github.com \nCc:\nBetreff: Re: [etherpad-lite] Newbie error : can't run as user etherpad (#2474) \nlulwut. I dunno dude post to the mailing list or hire someone to help you out. This isn't a software problem.\n\u2014\nReply to this email directly or view it on GitHub.\n. @JohnMcLear Okay, I'm aware of this PR :-)\nMaybe we should mark \"getLineHTMLForExport\" as deprecated?\n. I tried to use this new hook in my plugin: https://github.com/Gared/ep_export_authors\nbut I still can't use asynchronous calls (like db calls) in this hook, because I have to return the new lineContent in this function. \nIt would be better (and more the nodejs-way) if the lineContent would be returned as the callback parameter like this:\nexports.asyncLineHTMLForExport = function (hook, context, cb) {\n  ...\n  db.getSub(\"globalAuthor:\" + author, [\"colorId\"], function(err, result) {\n    ...\n    cb(\"newLineContent\");\n  });\n}\n. I mean the \"etherpad\"-import, but haven't noticed that I can import this file only on pads with less than 10 revs. Thx for making this clear @JohnMcLear \n. I hope this is the right way to do this...\n. See #2862 @JohnMcLear @mikkorantalainen \n. @dcht00 \"show variables\" is just the info about your current connection settings and is not related to the way how etherpad connects to the database, except you want to manually change something on your command line.\nIt's necessary for all installations, because you can destroy pads with a single character. Yes, please follow the advise from @webzwo0i and migrate your table. After that, change the charset in the settings.json to utf8mb4. @webzwo0i Yes, the db is running on utf8:\ncollation_server is utf8_general_ci and also the table and the columns are set to utf8.\nI will wait for this issue until utf8mb4 is approved to fix this problem.\n. @elijh Thanks for your feedback. We also have to migrate to this charset. Can you provide information on your database hardware and etherpad table size so we can estimate how much time we will need to do it.\n. @cboylan Please check this pull request #2862\n. @JohnMcLear Should we merge that?\n. I hadn't the time yet to analyze your problem, but increasing the character limit for pad names isn't a possible fix for this issue. Our database table in mysql (and probably other databases) has a maximum number of characters for keys so we have to limit the length of pad names.\nI will have a look on this problem the next days.\n. Okay, after I had a deeper look into your question I noticed the following things:\n- Why do you use the url http://servername:9001/files#... to open a pad? You have to use http://servername:9001/p/PADNAME to open a pad. If you're using a url without \"/p/\" you won't get a pad back.\n- And the second url can't work, as you already noticed, because the pad name is too long. There is no workaround for that. Do you have to use such long pad names?\n. Fix #2441\n. Fix #2441\n. @JohnMcLear Do we really want to release again? Maybe we should wait until @Pita is done with his iframe removal process?!\nBtw: you can grab latest windows build here: http://stefans-entwicklerecke.de/wp-content/eplite-nightly-builds/\n. @JohnMcLear If you want I can do another release for this. Probably I can do it today evening.\n. @0ip Thanks for your tips. Will check if it works on our next release\n. Script is still throwing this error if you're executing it. Any help on this would be really appreciated\n. @JohnMcLear I've inserted manually the json content for the plugins as a workaround for now\n. @Sergio3 Please try again\n. @yurivict See #2835\n. @Spirantz You get the error message when you connect to the pad in your browser, don't you?\nIf this is the case you have to create a session and create a cookie with the session in your browser.\nIf this is not a solution for your problem please describe your problem as exactly as you can\n. Markdown export is not a core feature of etherpad. You're probably using this plugin:\nhttps://github.com/johnmclear/ep_markdown\nPlease file this issue there.\n. Do you have cookies disabled in your browser?\nHave you tried it in another browser?\n. @miketran777 Is it working for you now or do you have still problems to access the admin backend?\n. As @webzwo0i mentioned: Use the plugin \"ep_hide_referrer\" it should do what you need\n. @flotho This is not a common value. Can you please provide informations on your installation and how you find out this value?\n. What do you mean? The pad text is nearly on the whole height of the browser window.\n. LDAP is not a part of etherpad.\nYou're probably using this plugin: https://github.com/tykeal/ep_ldapauth\nSo please notify the author of this plugin.\n. This is an issue in the plugin https://github.com/JohnMcLear/ep_hide_referrer/issues/9\n. Thanks @thomasrussellmurphy \n. I have no iOS device right now. So I can only merge your pull request if you think this is good to go\n. Looks like a configuration error of your reverse proxy to me. Please try to open your etherpad directly.\n. @Pita I thought we fixed this?!\n@monokles What version of etherpad are you using?\n. @monokles No, you don't have to test it again. It should have been fixed since a few months, so the error should never happen. Etherpad should send a \"keep alive\" request if no other request was made to the database in a specific time.\nWhich version of ueberDB are you using?\n. Please try this (removes dependencies and installs them again):\nrm -Rf src/node_modules\nbin/run.sh\n. You can file a bug report on the ueberDB repo:\nhttps://github.com/Pita/ueberDB\nPlease close this issue if there is only the ueberDB problem left.\n. Can someone confirm this please?\n. I can confirm this bug with latest IE 11 in emulation mode on IE 8\n. +1\n. You're totally right. These variables have to be outside of the script file, but I think these variables should better be placed inside settings.json to have only one config file.\nWhat do you think about? @2-B \n. @fread I can confirm your bug report. Will try to fix this\n. @fread Can you please have a look on my PR? Is this fixing your problem?\n. This is not the right place to ask for support of a new database. We use ueberDB for all database transactions so please file your issue there: https://github.com/Pita/ueberDB\n. Is the table \"pro_domains\" present in your database?\nDo you use the same login data for the script as for the etherpad service? If not, maybe you have a problem with your permissions.\n. @colttt Any update on this?\n. Does this error still persists?\nCan someone confirm this problem?\n. @neffs Do you use the ep_tasklist plugin? If yes is it working now with these changes?\n. @Salamandar An app is a good idea, but I see more befinits in improving the web app then create apps for some mobile devices so I don't want to spend much time on it, but I can provide you infos about communication with the server.\nAnyway: This is not the right place to ask for help. Please write on the developer mailing list for such purposes: etherpad-lite-dev@googlegroups.com\n. Is HTML like  really valid? Can you please post references?\n. @lpagliari Yeah, my concerns are about the \":\" in the HTML, because as far as I know this is valid XML, but not valid HTML code. So my question was if you know any project, which is using a colon in a HTML tag or if you know any documentation about it.\nWhat about storing the information in a data attribute like this:\n<div data-info=\"{color: 'red'}\">\nor\n<div data-color=\"red\">\nbecause this would be valid HTML code.\nWhat do you think about this idea? Maybe I missed a point?!\n. @lpagliari I didn't had much time to have a look on your new commit, but so far I tried to use the hook \"exportHtmlAdditionalTags\" in a test plugin on your branch, but couldn't export any data in the HTML export. So maybe I will have to take a deeper look in the ep_font_color plugin to get an idea how this should work.\nI'm not really familiar with this hook so this needs some time for me to understand the whole thing\n. @lpagliari After spending some time with the old hook and your changes I think this is too complex to use. The name of the hook 'exportHtmlAdditionalTags' is more a registration of additional tags, but with your changes it's more than tags that are registered, because we add new data-attributes to the html.\nI'll accept your changes, but I would recommend to make this more clear in this hook or to make this more simpler in a newer hook.\nAnyway: Thanks for your work @lpagliari \n. Can't confirm your bug report. I've used markdown and latex export and both is working fine\n. We don't support ldap in etherpad core. Please ask the author of the plugin for support.\n. @elijh I can't see duplicate scroll bars on my browsers. Which OS and browser do you use?\n. There is a \"Return to pad\" button in 1.5.7 in the timeslider.\nLook here: https://beta.etherpad.org/p/6k8VQobe9j/timeslider\n. @RubenKelevra Sorry for being to fast.\n@0ip Reverting the change in line 235 does not fix the hidden button, but setting the width to 200 pixel\n. @0ip You're right. I just wanted to say that the change you found in the commit is probably not the reason for the bug, but anyway do you want to open a PR for that?\n. We're supporting only node version 0.10 and above. So this won't work for you with this version of node.js\n. See this bug #2522. The solution in this ticket should also resolve your problem\n. @neurolit Any update on this?\n. @dcht00 You're right. I can confirm this weird behaviour. Maybe this was included to prevent a bug or something else. Will have a look on it.\n. Tested it with Firefox 41.0.2 on Cyanogendmod 12.1 (Android 5.1.1) and I can't reproduce your problem. Can someone please retest this bug with Firefox 41.0.2?\n. See #2522\n. @RubenKelevra This should be fixed?!\n. @RubenKelevra Any update on this?\n. Done. Thx @lufeihaidao \n. @Steffov Can you please close this issue if it works for you?\n. What do you mean by \"fall over\"? Could you please provide more infos? Have you take a look in the log file of etherpad?\n. @sxpert Have a look on my PR if you can start etherpad with these changes\n. @vieville No there is no database upgrade needed. Please try to remove the folder src/node_modules/\n. @vieville Do you still have problems with your installation?\n. is there anything about this problem in your log file?\n. @fread Thanks\n. @JonTheNiceGuy Have you tried this configuration? http://jjasonclark.com/how-to-setup-node-behind-web-proxy/\n. It looks like this is an issue with the HTTP header \"Location\". If the pad name contains a white space or a colon the user will be redirected to a url with an underscore instead. Is any \"special character\" in this parameter you get this error message.\nI don't really know why, but when I call encodeURIComponent before sending the new pad name to the client this fixes this issue.\n. @ratmole Please test my pull request\n. @webzwo0i Thanks for the good work!\n. @luser Could you please add the documentation for this api in this file? https://github.com/ether/etherpad-lite/blob/develop/doc/api/http_api.md\n. Fixed in #2828 \n. The server you're trying to connect is one of our etherpad servers which provides a list of all plugins available for etherpad. I don't know why, but those servers were shut down by our hoster. We're trying to fix this ASAP.\n. @Netmage-76 It's working again\n. thanks @Komasa \n. To prevent log4js to print the color terminal sequences into the file you have to add the \"layout\" option in settings.json to the \"logconfig\" part:\n\"logconfig\": {\n    \"appenders\": [\n        { \"type\": \"console\",\n          \"layout\": { \"type\": \"basic\" }\n...\nFound this info here: https://github.com/nomiddlename/log4js-node/issues/112#issuecomment-13061075\n. @rkhyd Does this problem still persists?\n. @ookami-kb Please fix the indentation\n. @bujatt Can you please test if you're issue is solved with the latest version of develop?\n. @jplatte Check latest version from develop if this problem is fixed for you now\n. @rohieb Thanks for your comment\n. This is because of ueberDB and the maximum key length of some databases, but you're right it is limited to 50 characters and can not vary.\n. Thx\n. @JohnMcLear Can you please upload the new version of ueberDB to npm?\n. @JohnMcLear I don't get it. What have you done and why did you close my PR?\n. @mverleg Is this the first time you've restarted etherpad?\nPlease try if this PR solve your issue: #2862\n. Any update on this? @timisch3k \n. So this issue is not relevant for you anymore, @skillz-xx ? Can you close it, please?\n. You need mysql 5.5.3 or higher for the collation utf8mb4. With version 1.5.7 you can still use your mysql version, but you will get problems with your pads if someone is writing special utf8 characters in it\n. @JohnMcLear What do you think about this change?\n. @reedacartwright Thx\n. @bhldev Looks good to me. Thanks\n. Can't confirm this. I'm using Chrome 48.0.2564.97 to access etherpad without any problems.\n. Maybe it's worth to take a look at: https://github.com/ether/etherpad-lite/pull/2609\nIt would be awesome to replace require-kernel with a supported package\n. @bhldev Thx\n. I don't get the idea behind your code.\nWhen is a user able to send a chat message?\nAs far as I can see the check is only on client side and not on server side, so a user can easily circumvent your check...\n. I would also prefer \"pad\" for the german translation. Please use translatewiki.net to change these translations @dscso \n. Fixed\n. Correct, please use translatewiki.net\n. @c-martinez I would really appreciate to see this function in the HTTP API. It shouldn't be too difficult to implement this function. Maybe I have time to implement this the next days.\n. @c-martinez Yes, indeed. Please let me know if you need any help.\n. @c-martinez Any update on this? Do you need any help?\n. You should run this script after shutting down the etherpad instance.\nThe scripts in \"bin\" should not be called while etherpad is running.\n. Why do you want to run multiple etherpad instances?\nOf course, you can run multiple etherpad installations on different ports. Just modify the port in the settings.json\n. You have to run multiple etherpad instances on this server or one etherpad instance with multiple reverse proxies (on different ports)\n. You can use multiple settings.json files: https://github.com/ether/etherpad-lite#tweak-the-settings\n. I know. We have to do a new release.\nYou can also use the latest version from develop to run etherpad\n. Fixed in the new release: 1.6.0\n. This does not solve the problem if you want to create a pad with the character \"$\" for example.\nI think we have to use a validation like here:\nhttps://github.com/Gared/etherpad-lite/blob/83094e0dfd3361625ec14442d58c1e8ba935810b/src/node/db/API.js#L692\n. Can anyone confirm this?\n. Looks like the pad is being destroyed if you remove the \"lineNumber\" parameter (I get javascript errors after calling the API without this parameter). Please make this parameter necessary.\n. Also please set up a \"real author\" otherwise you'll get the error message \"There is no author for authorId: API-bot\"\n. Looks good to me so far. Thx for your work :-)\nWill do some tests the next days.\n. Please also documentate your new API method here:\nhttps://github.com/ether/etherpad-lite/blob/9335ae00d0c889bf96482447990968ca3eef6806/doc/api/http_api.md\n. @c-martinez Can you do these changes, please? I want to release a new version of etherpad with this feature. \n. @c-martinez No, there is currently no such function, but I'm fine to use the author mapper to create an author if necessary. So I would merge your PR now.\n. @c-martinez I think you're right. If we use the authorMapper to create a new author there is no way to insert text as another author or create an author with a name. So I would prefer to replace the parameter authorMapper with authorID. There should be a check if this authorID exists, but nothing more. What do you think about?\nTo answer your question: I don't think such a function would be useful, because the authorMapper is a random string created by an application using the API. In my opinion there is no reason to ask etherpad for an authorMapper.\n. @c-martinez Thanks for your quick changes, but I've noticed that there is a problem after applying a text to a pad:\n1. Open a pad\n2. Write something in the pad\n3. Call insertText-API with the authorID of your current user in the Pad\n4. Write something in the pad again\n5. You get a disconnect in the pad\n[WARN] client - Error: applySubmittedChangesToBase: no submitted changes to apply -- { errorId: 'pp8WgPgOyFStijvP4rXA',\n  msg: 'Error: applySubmittedChangesToBase: no submitted changes to apply',\n  url: 'http://localhost:9001/p/test',\n  linenumber: 10465,\n  userAgent: 'Mozilla/5.0 (X11; Fedora; Linux x86_64; rv:45.0) Gecko/20100101 Firefox/45.0' }\nIt seems that there is a problem with the author and the change being applied to the pad\n. @c-martinez That would work, but I would really appreciate if we can add text as any author via the API.\nI think there is a problem with the authorID in the change, because the added text via the API isn't colored and has no author attributes. This looks like the main problem to me.\n. This is a bug\n. This doesnt't look good to me. What happens if you write a chat message without editing the pad?\nI would expect that the first entry to the database will be written when also something pad related should be written to the database (like chat messages, authors, etc.).\nI think these change may have some ugly side effects on hooks or something like that. Needs to be tested...\n. I think this should be finde. What do you think @lpagliari . No, there is no way doing this with the API right now\n. @JohnMcLear I know that they commit changes from translatewiki from time to time, but I don't know when so I manually exported the json file with the translation.\n. In the last commit weren't the actual german translations included https://github.com/ether/etherpad-lite/commit/7dd26bd2500edf56510eeb0784fc3b5d08a41eff\n. @siebrand You're right.\nSo everything is already done and I can close this PR.\n. As you wrote: This is not an etherpad related issue.\nOpen your issue here: https://git.framasoft.org/framasoft/ep_mypads\n. @JohnMcLear This PR includes the same commits as in #2938\n. Set your ip in your settings.json to a empty value:\n\"ip\": \"\",\n. @dscso Try to use \"::\" instead.\nIn the 0.10.x docs they're not mention IPv6: https://nodejs.org/docs/latest-v0.10.x/api/all.html#all_server_listen_port_host_callback\nLatest docs: https://nodejs.org/dist/latest-v5.x/docs/api/tls.html#tls_server_listen_port_hostname_callback\nI've tested it with the latest node version and it is working with a empty value.\n. I'm not familiar with the message types, but this might work. To make this message type reusable and more general I would suggest to name it \"API_CHANGE\".\nRegarding the author colors: I noticed that the attributes of the changeset operation are missing. You have to add the attributes on this method:\nassem.appendOpWithText('+', newText, '*0');\nThis shows a color, but not the right one. You have to replace the \"0\" with the appropiate attribute number, but I have to dig deeper in the code to exactly know what to do here.\n. These warnings appear on every etherpad instance. I'm currently updating the dependencies\n. See #2957\n. Should be fixed. @JohnMcLear Could you please renew the certificate?\n. Probably the reason is this change: https://github.com/nodejs/node/pull/5950\n@rugk This error appears in older versions of node.js too. The package is outdated and you were probably in the wrong directory doing the npm install (there is a src directory with a node_modules in it)\n. Etherpad is working again with Node v7 (tested with latest nightly)\n. The etherpad server responses with the HTTP-Header \"Server\" and the version \"Etherpad 32d9041 (http://etherpad.org)\". \nWhere would you expect the information about the version in the web interface?\n. This was my mistake. I tagged the wrong commit, but I can't easily change the tag to another commit.\n. Use https://translatewiki.net to change the translation\n. @rugk The debug key is set by socket.io. It looks like we can't affect this behaviour\n. We don't reference the module \"debug\". It's a dependency of socket.io\n. You're right. We forgot to change this\n. @rugk Yeah, this fixes this ticket partially. One step after another :-)\n. @rugk Can you please test this ticket with your reverse proxy?\n. @rugk Thanks for adjusting the config. The comments in my code are the part which is executed directly in the browser. So the browser knows if it is talking http or https with the server. The cookie which is set on server-side is for express.\n. @ziyaointl Please try if my PR solves your problem\n. @JohnMcLear You mean like here? https://github.com/ether/etherpad-lite/pull/2957\n. This is probably a configuration problem of your server, but first we need more infos:\nWhat OS do you use?\nCan you please post the results of lsof -i -n -P | grep node and ulimit -a?\n. Have you executed these commands with the user which is running etherpad? This looks fine so far. You may increase the \"open files\" value, but this shouldn't solve your problem.\nWhat is the peak of users that are connected at the same time to your etherpad?\n. I don't see benefits in using this Software. We don't have enough tests to check if our software is still running with the latest version of an updated library and we reference to a specific version. So I think it's simpler to update the dependencies from time to time.\n. Please post the link that you use to call the API. Do you use version 1.2.12 or higher in your link?\n. Thx, fixed it\n. I fixed the Server. Our webserver was down. Yes, this should be possible to build as a plugin\n. \u2502 \u251c\u2500\u252c mocha@2.4.5\n\u2502 \u2502 \u251c\u2500\u252c glob@3.2.3\n\u2502 \u2502 \u2502 \u2514\u2500\u252c minimatch@0.2.14\nSo mocha has to update the glob dependency first\n. https://github.com/Pita/ueberDB/ references a old version of mysql. Please open an issue there\n. I think this is a good way to prevent pad links from bein leaked. Please solve the merge conflicts and I will merge your changes\n. Thx\n. @jokecamp Thanks for this info. I provided a PR with the appropriate changes.\n. @jokecamp Thanks for this info. I provided a PR with the appropriate changes.\n. @jdittrich Thx for reporting this bug. If you have time please test my PR. @jdittrich I know, but this fixes the crash. If you think we should fix this behaviour please reopen this issue. Sorry for the late response. This looks good to me. Fixed it. Plesse try it again\n. As far as I know all users can select the same color on a pad. There is no restriction. You're not able to select a authorship color from the text, but this is not a feature I would like to have. You have to create a sessionID and author for each user who should enter the pad. Every single user who enters a pad needs his own author. \n. NPM needs an update.\nMy changes worked so far and I can hopefully provide a PR tomorrow.\n. @kernelfreak Is this text correctly stored in your postgresql database? . @kernelfreak I'm not familiar with postgresql, but maybe is has something to do with the encoding of your db. What encoding did you configure?\nCan you set the log level to \"DEBUG\" and have a look how your umlauts are being displayed on the CLI/log?. Please provide more infos:\n- Node.js and npm version\n- OS\n- What did you do? Steps to reproduce? Probably bin/run.sh, right?\n. Please provide more infos:\n- Node.js and npm version\n- OS\n- What did you do? Steps to reproduce? Probably bin/run.sh, right?\n. I know you're right. This service is temporarily down since yesterday. Hope I'll get it online again soon.. @Thireus You can install those plugins on your cli:\nnpm install ep_PLUGINNAME. The server is up again!. See #3092 . Yes, it's the same issue. I'm on it. @theredfish @lpagliari Our services have been disabled by our hoster, but I'm on it again. @theredfish Well spotted!. No, not far as I know and this is not the right place to ask for it. Please use the mailing list or IRC for it. I would support you, but I don't know if it is enough time to do all the work in a few weeks.\nWe have a script to build a debian package, but it is not really working (anymore): https://github.com/ether/etherpad-lite/blob/develop/bin/buildDebian.sh\n1. It's called \"etherpad\", although it's a little bit irretating because of the \"java etherpad\".\n2. no it's not the same as far as I know. We have created a few modules that etherpad depends on.\n3. Yes, probably, but I'm not that deep in the subject. ueberdb has many database dependencies which are not absolutely necessary.\nBut it's great to see that someone wants to work on it!. You're right. I'll do a release the next days, but this is a duplicate of #3074. @lpagliari Yeah, probably.\n@MonMohonSingha Which version of windows are you using?. You're right. Thx :-). I created a Plugin for this purpose: https://www.npmjs.com/package/ep_new_pad\nIs this what you want?. @tiblu Sorry for the late response.\nI think this makes sense to fix this issue as you described. It's the best solution for this problem right now.. Looks good to me. Thanks @tiblu for your work!. You're using a plugin for this functionality. This is not a core feature. Please send us more details and read the guidelines for contributing an issue. Thanks for your work @HairyFotr . Thanks for your work! @jainendra . @djmaze Thx for this PR. I'll create a new version if you think it is time for it. Unfortunately there are just a few code changes...\nIs there anything a new release is worth for?. Here you can see the changes: https://github.com/ether/etherpad-lite/compare/master...develop?expand=1. New version released. Could we use aCallAll instead of callAll to make it possible for plugin developers to do db queries for example?. I rewrote the script to update the script for collecting all ep-plugins and their versions. Please have a look, try it out and report any missing or wrong plugins. @ezzra Thx, I've fixed it. Maybe it takes some time until the new version has been downloaded from you're instance. Just to mention it: There is a plugin you can use to create a really unique name, but it's on server-side\nhttps://github.com/Gared/ep_new_pad. I don't know why, but the server was off. So I booted it up and it's working again :-). Okay, I broke the server finally...\nI will set up a newly installed server and migrate everything. Please email me if you have important scripts/files on the server. Do you really want to leave this console logging in the code?\n. I don't like this part. The name of the variable \"padID\" is here also used as the key. I haven't tried this, but this may cause problems or unexpected behaviour. Please rename the variable.\n. Please add brackets around if and else to match our coding style\n. I think you have an identation problem the next view lines?!\n. You're probably right. I will fix this\n. You're right and we've done some research on it, but can't figure out why there is no author for the authorId. One time there has been an author for the authorId in the dirty-db, but it was deleted by some reason.\nI can't reproduce it on another pad and it's only happening on my development machine so it's not critical.\n. Why do you take the second element of this array?\n. Add your new API method only to the latest API version\n. propably there is a misspelling in \"exits\". Maybe \"exist\"? :-)\n. Please use a separate line for the brackets and \"else\" (code formatting)\n. Where is oldLen set? Seems to me that this variable is not defined at this point\n. Why do you check the authorID? As far as I can see there is no case that the authorID can be 'false'\n. Please do call \"parseInt\" only once\n. This seems to be the reason why you get an error if you specify a lineNum that is higher than the actual number of lines on this pad\n. In the callback you get the author object and not the authorID\n. Use here author.authorID\n. Is there any special reason why you set the parameter for \"name\" to \"false\"?\n. This worked for me with node v7 and v6. Not quite sure why it is undefined. If you have any better solution please let me know. Please use a shorter syntax like\nuseAbiword = abiword != null;. ",
    "simlan123": "Looks like a chrome issue:\nhttp://code.google.com/p/chromium/issues/detail?id=90794\nDid not find the bug report when i posted the issue....\n. ",
    "MarkTraceur": "Somehow this got changed again, don't know why....in any case, I've fixed it again in #833 if anyone is still having trouble.\n. BUMP! This would be a very helpful thing to have.\nI'm not sure how helpful the lastEditedTime would be, but getting a list of all authors would be greatly useful for me.\n. Well, it totally breaks embedded pads with specific feature sets if the pad has unexpected symbols in it, so depending on how important that is to other people, I'd say it's important :)\nAlso, I wonder if there's any chance that Testing:1234 could be a valid URL for EPL. The project I'm working on could be somewhat improved by that change, too--it's an interface for MediaWiki, so there will be a lot of non-standard (and non-ASCII) characters.\n. Awesome, thanks!\nI had something different in mind (certainly not just '/p/'+padId), but I'll elaborate in the new issue, per your advice :)\n. Point taken!\nBut I don't think the formatting changes will work with that, since i need to inject dependencies into the render process--this will likely need to be a change to core, sadly. Actually, that will pretty much just be a way to make plugins for rendering. So there! :)\nAnd yes, Wikinaut has worked with it, I believe this is is a team effort.\n. I mean, inject callbacks, functions on which the render process are conditionally dependent. For example, the one I inject will use WikiText to represent italics, bold, etc., and will ask the engine not to render any further.\n. News, everyone!\nIn essence, there are formatting hooks, as there would have to be. But it looks like people just added them in where they needed them, and left most of the formatting/rendering code without any hooks. Which is less than helpful.\nI'm thinking that, over the next day or two, I'll throw some time at inserting proper hooks into the rendering and formatting process. I'm not sure how well that will work for everyone else, but I'm pretty sure it'll be an upgrade!\nIdeas would be helpful, if you have them. I'll make sure to pick up things I notice along the way.\n. Turns out I didn't need it, the formatting system isn't my best option. I'll be working with my own code and hoping for the best :P\n. SQL injection is definitely scary, but it sounds like you should just escape it properly rather than disallowing them totally--if I have two pads File_Test and File:Test, I don't want them to point at the same place....\nRe: Non-english characters: https://gu.wikipedia.org/wiki/%E0%AA%AE%E0%AB%81%E0%AA%96%E0%AA%AA%E0%AB%83%E0%AA%B7%E0%AB%8D%E0%AA%A0\n. I realize--but if I hover over it, Firefox properly renders the international characters--and all of the URLs on that page are also properly localized. This indicates to me that it's possible, through proper handling of the special characters.\n. OK, I hadn't tested with non-English characters. That's great to hear!\nThat SO link indicates that colons are valid (I already knew that from \nlinks in MediaWiki), so that's good.\n. Wikinaut, FYI, in my experiments I realized that an integration scheme could easily avoid this problem by simply hashing the page names before sending them to EPL. Agreed that it would be better to have a perfect implementation of the IETF's guidelines, of course, but in the meantime....\n. It was working. For some reason, it no longer is....I don't believe I've changed anything in the server-side code that authenticates. And I'm able to set cookies for localhost, I don't know what #761 is about. Maybe some browsers don't set them right?\nAnyway, this problem might be that I overwrite the cookie....if I make multiple sessions between a user and the same group, would that be problematic?\n. OK, this is entirely my fault. Sorry, not a bug.\n. Additional note: It would be good if any pull requests adding in API hooks could be held off until documentation is added for the added hooks. This would keep things relatively sane.\n. Not a problem, though this issue is at least somewhat a call for better documentation....I don't understand at least some of the hooks, so it would be helpful to have help.\n. I'll consider that on my own time, actually. I like the idea of plugins allowing people to make headway into a project with minimal effort.\n. Also, by the time I get to collectContentPre with an italic event type, the change seems to have been applied already. Which makes little sense, since the content (according to the hook name) has yet to be collected! Maybe I misunderstand the meaning of that hook.\n. johnyma22, 1) That's not obvious from anything I've read so far 2) It requires a Google email address and login, is there any chance you could move it to etherpad.org or similar?\n. That's cool. Any ideas as to the contents of this bug?\n. Perhaps more interesting is this: Where does the text/keystroke get picked up from the user? Presumably the ctrl-i keypresses are captured somewhere, then turned into changesets. I could just as easily modify what happens there, I think.\nAny help here would be helpful. Thanks!\n. Thanks, I figured it out :)\n. otih, yes. I just tested with my instance:\nbash\nmarktraceur@localhost:~/projects/ep-stable$ curl http://localhost:9001/api//1/createAuthorIfNotExistsFor -d \"apikey=secret\" -d \"name=Michael\" -d \"authorMapper=7\" && echo\n405: Only the HEAD or GET methods are allowed.\nmarktraceur@localhost:~/projects/ep-stable$ curl http://localhost:9001/api/1/createAuthorIfNotExistsFor -d \"apikey=secret\" -d \"name=Michael\" -d \"authorMapper=7\" && echo\n{\"code\":0,\"message\":\"ok\",\"data\":{\"authorID\":\"a.etoibNx2M9XqZktg\"}}\nThat should not happen.\n. (side note, GETting that URL will return 404 as expected, but POST is still 405, which is wrong)\n. Yes, the error is evident now, but 405 is not the right way to respond to an incorrect path. 404 is. That's why this is a bug report.\n. I could probably do something for OpenHatch, though without coherent TODO items it might be moot. It would also be nearly prerequisite to have a few people in IRC to answer questions from time to time.\nI'll try to set up an OH page when I get home (t minus 3 hours)\n. That's fine! What time zone includes this \"8PM\"?\n. I was in the IRC channel all day today, presumably the meetup was at 20:00 GMT and should have been 13:00 GMT-7 (which is my current location), but I didn't see anyone....maybe you meant to explain where this meetup was, or nobody showed up? :/\nAnyway, you may have noticed the more better API docs I contributed. I'm also doing what I can to help people in IRC. I think one of the biggest things we need to consider is that I can't be there a large portion of the time....for that, it's helpful to have European folks who are up when I'm sleeping :)\nIn any case, I think we could make serious dents in these goals.\n. Also, OpenHatch: http://openhatch.org/+projects/Etherpad%20Lite\nPlease feel free to join there, contribute things to it, etc.\n. See my reply on #1017 for more.\n. AOK\n. /me agrees that there should be MAXIMUM MODULAR POWER available for those who may need it--why not allow moving buttons in and out as easily as possible? This allows for faster instances without the formatting buttons that are unnecessary for that particular project.\n. Note, this blocks deployment of my new \"kick a user\" function, so it would be awesome to have a fix!\n. Fixed by #817.\n. johnyma22, I didn't mean to put any in, which ones do you see?\n. I guess I could take out some of these variables, I didn't look too closely at it. One moment.\n. Try that on for size!\n. Hm, I didn't look at that too closely either. Turns out getReadOnly or whatever isn't terribly useful. Here we go again!\n. Um, this may have broken everything. johnyma22, did you try running it and editing a pad?\n. I fixed it, my latest has the fix, let me do a pull request.\n. Thanks so much!\n. On 12-06-27 10:34 AM, Marcel Klehr wrote:\n\nI think it should be getTimeOfLastEdit, shouldn't it?\n\nIf you have merge rights on develop, I can change the function name to \nwhatever you'd like. I think \"getLastEdited\" works OK, but I'm willing \nto change.\n\nMark Holmquist\nContractor, Wikimedia Foundation\nmtraceur@member.fsf.org\nhttp://marktraceur.info\n. Essentially the problem is, we need to update package.json to work with 0.8 node. We also may need to change bits of the codebase to make it work.\nSounds like fun to me!\n. gedion, thanks for the bug report, I hope we can answer your question, here.\nMy first instinct is that either A) It would work as-is, B) You could register a keypress event using the aceInitialized hook, or C) There would need to be an additional hook, or an additional thing in the context to aceEditEvent, that allows you to do this.\nFor any of those solutions, I'll need more time than I currently have available. I'll look into this later tonight, if that sounds all right.\n. 1) That looks normal, so no qualms here.\n2) That's perfectly fine! If you needed to add functionality to accomplish the main reason for adding the hook, then by all means, do so.\nCan you submit these changes as a pull request? Or have you already?\n. Not sure if it's related, but I've filed #832.\nI'm getting 302 followed by 404, though, so probably different.\n. Pull request #833 should fix my problem, not sure if it fixes yours.\n. #833 fixes this.\n. I like this change, please merge!\n. +500. I could really use this right now, and the loadSettings hook.\n. Oh, and this ready hook should be based on the document.ready event that always fires. I seriously just need the HTML to be loaded. Oh, and jQuery, but I can require() that.\n. And before you write this off as trivial--before, I would have to wait ~5 seconds for the page to load before my styles were loaded. Now they are loaded immediately. I would estimate approximately one million times speed increase.\n. Exactly. Except that jQuery doesn't load until after the plugins, for some reason, and aceInit (both of them) fire long after the editor bar is loaded, so the buttons I added sit there without style for several seconds while the text area loads.\n. It solves half of it--I'd still need to have an onready hook to modify \nthe HTML, since I'm not only adding things but also deleting them. But \nthanks for the help!\n. > So when do you want this hook to be fired? Which code should fire this\n\nhook, based on which events?\n\nImmediately after the HTML of the editor bar has been loaded should do. \nThe entire point is that I need only the HTML to have loaded, then I can \nstart making my changes.\nI suppose I would also need the require() system, if I wanted to use jQuery.\n. Thanks, marcelklehr!\nAlso, this solution caused an issue (#922), so don't use the hackish way please :P\n. /me is shocked at the speed of that merge.\n. Hopefully you'll look at other pull requests, too :)\n. Fair enough!\n. Oh, almost certainly. I can't verify right now, but a quick grep for something like /\\w*$/ should do the trick.\n. Bump, please merge, it would be great to have.\n. Hm. Apparently my helpful patches haven't made it through. You may have to refresh a few times, but most times it will give you a \"collaborate\" checkbox in the upper-right-hand corner of the edit box, and that will cause the error.\n. /me is on Firefox 13.0.1, Ubuntu GNU/Linux 12.04. Unlikely that it's necessary, since I've seen it on multiple browsers.\n. Plugin incompatibility seems unlikely, I don't think there's any major changes that happened that would cause this....let me try it.\n. OK, it was my fault. ep_wikiauth broke something. I'll investigate. Thanks for the help!\n. Since the docs are currently in Markdown, that seems like a good plan. I'm not sure we'd need to further generate documentation, we can just start linking the current docs into the repository's current version of the right page(s)--right?\n. marcel, that's exactly what we could do--GitHub is even kind enough to render the markdown for you when you visit those files.\nAnd yes, it would take some editing, but we can do it! :)\n. +++\nGood stuff. Closing.\nIf this could get merged, it would be awesomesauce.\n. Try to merge this with #931 if you can, since they're sort of co-dependent.\n. Problem fixed, please merge :)\n. Don't mind me, I can't do pull requests to save my life.\n. Also++, here's how it looks: http://marktraceur.info/etherpad-doc/\n(ugly, I know, but there's definitely ways to make it nicer:\n1. index.md that links to various files\n2. More documentation (yay!)\n3. CSS file that can be easily copied from doc/style.css to out/doc/style.css with a Makefile rule (or even built with less, if someone wanted to go down that road)\n. Ha, I should have maybe posted here that I was trying to make it a bit nicer :)\nIf you have some Makefile chops, here's a try: http://dpaste.com/785959/\nI'm trying to copy over a style.cpp, and I'm trying to do it in a clever way. I'm not succeeding. Maybe I just need to stop being clever and do it the old way? If so, I'm cool with that too.\n. I guess the better course would be to remove that API heading at the top of API.md, since there are toplevel headings for every file.\nOr change the MD compiler so it auto-bumps the headings in the lower file into lower levels.\nOr something.\n. Hi!\nI think we need to put images under a media-type license as opposed to a software-type one. And while others may disagree, I'd much prefer a copyleft-type media-type license, hence CC-BY-SA.\nIn other words, however cool it would be to have icons, I'm not fighting for something under MIT license and wouldn't fight for CC-BY either.\n. marcel, software licenses should be used for software, and media licenses should be used for media. And never the twain shall meet, hopefully.\n. This doesn't solve either of my problems. And artificially lowering the number of bugs isn't super-useful, is it?\n. Is this going to get merged soon?\n. I feel strongly because this is one line of code that you don't even have to write, plus, it will help in a seriously complicated operation that the FSF is trying to carry out: Freeing the web. Without marking our JS properly, we could be blocking work on that project, which certainly doesn't seem like a good idea.\nThen again, I've seen projects in the past that just used free licenses for convenience, so if you don't actually want people to use free software, you could probably ignore this safely.\n. And yeah, as nico says, the point here is to indicate to the client's computer that the JS is free. They can look it up, but their computer can't. We need to offer some automated way to tell it \"hey, this is free software, you can change it by finding the source here.\"\n. FYI the only feedback I got from the i18n team at WMF was to use this:\nhttps://www.mediawiki.org/wiki/Universal_Language_Selector\n. Update: Server is crashing because of an error:\n2013-02-28 19:43:11.777 [ERROR] console - RangeError: Maximum call stack size exceeded\n. Probably a duplicate of #800. I'll be upgrading the instance in two hours, so we'll see how that goes.\n. Closing for now because I've upgraded node.js and the Etherpad Lite server itself. We'll see if it resurfaces, and I'll come back with more information if it does.\n. Welcome back to hell:\n[2013-02-28 23:49:14.474] [ERROR] console - [RangeError: Maximum call stack size exceeded]\nThis is on 1.2.7 and node 0.8.21.\nI tried to read what I could from the logs, and I definitely saw a big chunk of messages (changes) being sent to one person all at once. I'm not sure what caused that, though. Anecdotal evidence says that the person who got all the changes wasn't even focused on the tab with the pad in it, so they were having trouble responding to my inquiries, but in all, it looks like normal editing activity, then a big bunch of change messages sent to one person over the course of a few seconds.\nThanks for your help with this!\n. I think it may cause some privacy questions, which is really a separate issue that I need to address, but I'll try to get some portion of them scrubbed so I can paste them.\n. http://paste.marktraceur.info/26\n. This is a sort of quasi-production service, so running such a disruptive test may need to happen some other time. Next week, perhaps, or over the weekend. I'll tell you if/when I do it.\n\nMark Holmquist\nSoftware Engineer\nWikimedia Foundation\nmtraceur@member.fsf.org\nhttps://wikimediafoundation.org/wiki/User:MHolmquist\n. <3 thanks for the help\n. I think both Tilman and I were using GNU/Linux. We haven't reproduced it anywhere else, no.\n. @marcelklehr This is #2083, what are you smoking\n. Whitespace-only change, would be better to delete this\n. Whitespace-only change, please change back!\n. Fix the spelling error while you're at it: \"Unknown\" rather than \"Unkown\"\n. I didn't really have any use for adding the payload to the hook's arguments, but that's a good idea.\nI don't want to handle only non-matched message types in this, though--I want to allow custom handling of any message type.\n. ",
    "merlyn333": "\u00a1Thanks for your answer!\n. ",
    "langner": "Node version is 0.6.11. My Debian is a mix of stable and testing (stable for all system libraries). Would that matter?\nOh, after the error the node_modules directory is gone, which I don't understand.\n. Nope, same error.\n. Can I move this issue to that project somehow, or do I need to open a new one?\n. ",
    "sirkitree": "FYI the solution there was to run:\n`npm cache clean jshint1\n. ",
    "LouisTakePILLz": "I'm having a similar issue; when I try to create a new pad, the web interface refuses to load even after using a freshly deployed version.\nAlso, once I restart the server after a pad has been created and then try to access it again, the following errors show up:\n[2012-03-05 17:38:30.799] [INFO] console - Your Etherpad Lite git version is 6fd73ec\n[2012-03-05 17:38:30.804] [INFO] console - Report bugs at https://github.com/Pita/etherpad-lite/issues\n[2012-03-05 17:38:31.171] [INFO] console - Server is listening at 0.0.0.0:9001\n[2012-03-05 17:38:31.172] [INFO] console -    info  - 'socket.io started'\n[2012-03-05 17:38:38.553] [INFO] http - 200, GET /\n[2012-03-05 17:38:38.616] [INFO] http - 404, GET /static/custom/index.css\n[2012-03-05 17:38:38.619] [INFO] http - 404, GET /static/custom/index.js\n[2012-03-05 17:38:39.989] [INFO] http - 200, GET /p/MVTnSfDf52\n[2012-03-05 17:38:40.063] [INFO] http - 404, GET /static/custom/pad.css\n[2012-03-05 17:38:40.066] [INFO] http - 200, GET /static/js/require-kernel.js\n[2012-03-05 17:38:40.098] [INFO] http - 200, GET /static/css/pad.css\n[2012-03-05 17:38:40.114] [INFO] http - 200, GET /static/img/leftarrow.png\n[2012-03-05 17:38:40.117] [INFO] http - 200, GET /static/img/loading.gif\n[2012-03-05 17:38:40.123] [INFO] http - 404, GET /static/custom/pad.js\n[2012-03-05 17:38:40.138] [INFO] http - 200, GET /static/img/etherpad_lite_icons.png\n[2012-03-05 17:38:40.263] [INFO] http - 404, GET /static/custom/pad.js\n[2012-03-05 17:38:40.352] [INFO] http - 404, HEAD /static/js/jquery/index.js\n[2012-03-05 17:38:40.360] [INFO] http - 404, GET /static/js/jquery/index.js\n[2012-03-05 17:38:40.372] [INFO] http - 200, GET /minified/jquery/index.js?callback=require.define\n. I'm having a similar issue; when I try to create a new pad, the web interface refuses to load even after using a freshly deployed version.\nAlso, once I restart the server after a pad has been created and then try to access it again, the following errors show up:\n[2012-03-05 17:38:30.799] [INFO] console - Your Etherpad Lite git version is 6fd73ec\n[2012-03-05 17:38:30.804] [INFO] console - Report bugs at https://github.com/Pita/etherpad-lite/issues\n[2012-03-05 17:38:31.171] [INFO] console - Server is listening at 0.0.0.0:9001\n[2012-03-05 17:38:31.172] [INFO] console -    info  - 'socket.io started'\n[2012-03-05 17:38:38.553] [INFO] http - 200, GET /\n[2012-03-05 17:38:38.616] [INFO] http - 404, GET /static/custom/index.css\n[2012-03-05 17:38:38.619] [INFO] http - 404, GET /static/custom/index.js\n[2012-03-05 17:38:39.989] [INFO] http - 200, GET /p/MVTnSfDf52\n[2012-03-05 17:38:40.063] [INFO] http - 404, GET /static/custom/pad.css\n[2012-03-05 17:38:40.066] [INFO] http - 200, GET /static/js/require-kernel.js\n[2012-03-05 17:38:40.098] [INFO] http - 200, GET /static/css/pad.css\n[2012-03-05 17:38:40.114] [INFO] http - 200, GET /static/img/leftarrow.png\n[2012-03-05 17:38:40.117] [INFO] http - 200, GET /static/img/loading.gif\n[2012-03-05 17:38:40.123] [INFO] http - 404, GET /static/custom/pad.js\n[2012-03-05 17:38:40.138] [INFO] http - 200, GET /static/img/etherpad_lite_icons.png\n[2012-03-05 17:38:40.263] [INFO] http - 404, GET /static/custom/pad.js\n[2012-03-05 17:38:40.352] [INFO] http - 404, HEAD /static/js/jquery/index.js\n[2012-03-05 17:38:40.360] [INFO] http - 404, GET /static/js/jquery/index.js\n[2012-03-05 17:38:40.372] [INFO] http - 200, GET /minified/jquery/index.js?callback=require.define\n. ",
    "mmehnert": "No. not really. Still the same error.\n. Confirmed. This is fixed. Thanks for the great support and all the work! :-)\n. Could you please hit me or something like that? I don't know what I did when I tested last time to get the idea that everything is fine. Pull Request #521 did not fix this. :-( I still get the same error with d868fd73d498f2ae54fa0b245363fe1bdea0b221 and 6fd73ecfda27fd6639c30a4c05c6149d66f669ee :-(\nEverything works fine in b661ef5960fd0d22a069b72d83892418c34e569d\n. With this merged into current master I still get the same error. :-(\nWould it help if I send you a virtual machine with nginx configured for testing?\n. Do you prefer Vmware or Virtualbox?\n. Found something. It works fine in standard configuration. The Problem appears as soon as I set httpAuth in settings.json. That somehow messes up everything.\nUsed a minimal configuration otherwise:\n```\nserver {\n        listen       443 ssl;\n        server_name  pad.mydomain.org;\n        access_log  /var/log/nginx/etherpad.access.log;\n        error_log   /var/log/nginx/etherpad.error.log;\n    ssl                  on; \n    ssl_session_timeout  5m;\n\n    location / { \n        proxy_pass             http://localhost:9001;\n        proxy_buffering off;\n    }\n\n} \nserver {\n    listen      80; \n    server_name pad.mydomain.org;\n    rewrite     ^(.*)   https://$server_name$1 permanent;\n}\n```\n. Hmm. I moved it to line 152 but somehow I could see content of pads without entering the password then. (restarted the browser but login was not requested.) \n. still the same in \n```\ncommit 309e3b09942389bd92205fc04d5e73088a30df60\nAuthor: John McLear john@mclear.co.uk\nDate:   Sat Mar 31 18:15:08 2012 +0100\nfix pitas fix\n\n```\n. I mean, its possible to use nginx for authentication - then it's all fine. But the etherpad-lite authentication does not work through nginx.\n. But it appears to work in the current development branch. 916e52a1ebd5d857b07ce5cb5210eabe5a72d988\n. There was an old .npm folder lying around owned by the user running etherpad-lite. Deleting that solved the issue. \n. Check the home directory of the user running your node.js server and the folder where you installed etherpad for a folder named .npm. Delete that folder and reinstall all the node packages that etherpad depends on. That should solve the problem.\n. ",
    "jubro": "the same error occurs to me and I had no http auth activated. \nBut I used the specific IP of the etherpad host in my network and not the loopback. So with 0.0.0.0 everything works fine to me.\n. ",
    "n3storm": "same here as jubro explains. \nJust in case: Debian Wheezy\n. ",
    "brainysmurf": "I'm using etherpad lite (thank you guys!) in China with users who write in Korean, Chinese, and even Japanese. I'm just looking for a command to execute in mysql and any other related procedures that will solve this for my users. Could someone be any assistance?\n. Changelog says I'm on v1.1.5. I also see in the changelog that it supports postgres now.\nI get the following whenever a user types in a Korean, Chinese, or Japanese character:\n\u001b[31m[2012-11-09 10:54:17.702] [ERROR] console - \u001b[39mTypeError: Cannot read property 'rev' of undefined\n   at /home/etherpad/etherpad-lite/src/node/handler/PadMessageHandler.js:622:48\n   at Object.whilst (/home/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:553:13)\n   at /home/etherpad/etherpad-lite/src/node/handler/PadMessageHandler.js:621:11\n   at /home/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:86:13\n   at Array.forEach (native)\n   at /home/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:26:24\n   at Object.forEach (/home/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:85:9)\n   at Object.updatePadClients (/home/etherpad/etherpad-lite/src/node/handler/PadMessageHandler.js:616:9)\n   at /home/etherpad/etherpad-lite/src/node/handler/PadMessageHandler.js:598:15\nAny thoughts?\n. It worked great with the patch, but is still coming up for me in the latest.\n{\"errorId\":\"DE4yj23oktCLBwV6SLME\",\"msg\":\"Error loading script\",\"url\":\"http://livedocs.ssis-suzhou.net/socket.io/1/jsonp-polling/La2jHF-cmv8IPYvqM5s7?t=1353308428375&i=0\",\"linenumber\":1,\"userAgent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:2.0) Gecko/20100101 Firefox/4.0\"}\n\u001b[31m[2012-11-19 15:04:03.799] [ERROR] console - \u001b[39mTypeError: Cannot read property 'rev' of undefined\n   at /home/etherpad/etherpad-lite/src/node/handler/PadMessageHandler.js:622:48\n   at Object.whilst (/home/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:553:13)\n   at /home/etherpad/etherpad-lite/src/node/handler/PadMessageHandler.js:621:11\n   at /home/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:86:13\n   at Array.forEach (native)\n   at /home/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:26:24\n   at Object.forEach (/home/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:85:9)\n   at Object.updatePadClients (/home/etherpad/etherpad-lite/src/node/handler/PadMessageHandler.js:616:9)\n   at /home/etherpad/etherpad-lite/src/node/handler/PadMessageHandler.js:598:15\n. $ sudo -u etherpad git pull\nAlready up-to-date.\n$ sudo -u etherpad git branch\n  develop\n  marcelklehr-fix/updatePadClients-error\n- master\n$ sudo -u etherpad ./bin/run.sh\nEnsure that all dependencies are up to date...\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\nWill post error when it happens. :)\n. K, it happened, error is below:\n\u001b[31m[2012-11-20 09:29:35.002] [ERROR] console - \u001b[39mTypeError: Cannot read property 'rev' of undefined\n   at /home/etherpad/etherpad-lite/src/node/handler/PadMessageHandler.js:622:48\n   at Object.whilst (/home/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:553:13)\n   at /home/etherpad/etherpad-lite/src/node/handler/PadMessageHandler.js:621:11\n   at /home/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:86:13\n   at Array.forEach (native)\n   at /home/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:26:24\n   at Object.forEach (/home/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:85:9)\n   at Object.updatePadClients (/home/etherpad/etherpad-lite/src/node/handler/PadMessageHandler.js:616:9)\n   at /home/etherpad/etherpad-lite/src/node/handler/PadMessageHandler.js:598:15\n. Oh sorry didn't see this... will do, let you know the result....\n. Okay I've tested the patch and will keep tabs on it as users use it (it seems to require a lot of users, not sure why)\nBefore executing the commands this page: http://livedocs.ssis-suzhou.net/p/test\nhad a bit of Korean and Chinese characters, after restarting no longer has them. Would using postgres solve this problem (currently using mysql)? If so, is there a straight-forward export and import tool so I don't lose any of the pages?\n. I applied the patch last night and am halfway through the day. I would usually see one or even two crashes a day, so far so good.\nI'll take a look at migrateDirtyDBtoMySQL.js but I'm thinking that if I rewrite it I'll do so in Python, though.\n. Thanks\n. These are just warnings but I thought I should include them as well:\nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\nnpm WARN package.json ep_etherpad-lite@1.2.11 No repository field.\nnpm WARN package.json ueberDB@0.2.0 No repository field.\nnpm WARN package.json channels@0.0.4 No repository field.\nnpm WARN package.json ejs@0.6.1 No repository field.\nnpm WARN package.json jshint@0.9.1 No repository field.\nnpm WARN package.json tinycon@0.0.1 No repository field.\nnpm WARN package.json formidable@1.0.9 No repository field.\nnpm WARN package.json jsdom-nocontextifiy@0.2.10 No repository field.\nnpm WARN package.json jsdom-nocontextifiy@0.2.10 'repositories' (plural) Not supported.\nnpm WARN package.json Please pick one as the 'repository' field\nnpm WARN package.json async-stacktrace@0.0.2 No repository field.\nnpm WARN prefer global jshint@0.9.1 should be installed with -g\nnpm WARN package.json channels@0.0.2 No repository field.\nnpm WARN package.json dirty@0.9.7 No repository field.\nnpm WARN package.json pause@0.0.1 No repository field.\nnpm WARN package.json fresh@0.1.0 No repository field.\nnpm WARN package.json bytes@0.2.0 No repository field.\nnpm WARN package.json cookie-signature@1.0.1 No repository field.\nnpm WARN package.json policyfile@0.0.4 'repositories' (plural) Not supported.\nnpm WARN package.json Please pick one as the 'repository' field\nnpm WARN package.json vargs@0.1.0 No repository field.\nnpm WARN package.json send@0.1.0 No repository field.\nnpm WARN package.json cookie-signature@0.0.1 No repository field.\nnpm WARN package.json range-parser@0.0.4 No repository field.\nnpm WARN package.json cssom@0.2.5 No readme data.\nnpm WARN package.json docco@0.4.0 No repository field.\nnpm WARN package.json formidable@1.0.11 No repository field.\nnpm WARN package.json bytes@0.1.0 No repository field.\nnpm WARN package.json github-url-from-git@1.1.1 No repository field.\nnpm WARN package.json methods@0.0.1 No repository field.\nnpm WARN package.json uid2@0.0.2 No repository field.\nnpm WARN package.json addressparser@0.1.3 No repository field.\nnpm WARN package.json assert-plus@0.1.2 No repository field.\nnpm WARN package.json ctype@0.5.2 No repository field.\n. Sorry.... I actually think it's higher level than that though, I can't get anything at /javascript\n. Hmmm... set minify to false and still reporting the same line number:\nCLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"BP5yzF9sad9OT24eo8tC\",\"msg\":\"TypeError: 'undefined' is not an object (evaluating 'a.length')\",\"url\":\"http://livedocs.ssis-suzhou.net/javascripts/lib/ep_etherpad-lite/static/js/ace2_common.js?callback=require.define\",\"linenumber\":6,\"userAgent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_4) AppleWebKit/536.25 (KHTML, like Gecko) Version/6.0 Safari/536.25\"\n. Sorry to have troubled you a restart seems to have done the trick.\n. ",
    "jchillerup": "Just dropping in to say great work.\nPersonally I have a project that is to get rid of ace.js and the nested iframes, rewrite the data model to use Backbone and perhaps borrow a lot of code from snucode.com in the process. Will write a mail to the dev mailinglist about it all, but first I want to ask: Should I branch off from this or from the main branch?\n. ",
    "Annakan": "Thanks a lot for your prompt answer.\nI was a bit confused by the session concept since it is an overused concept in web parlance :) and I was not sure if I was reading about an etherpad specific concept or the more general web concept and how the two meshed together.\nWhen you say it switches off public pads does that mean there is no public facing interface anymore ?\n(I should try it ;) )\nAs for the security model, I try to assess the risks and information flow and thus potential leaks.\nSince the etherpad server is directly talking to the clients and has no \"security model\" per see (i.e : not managing user rights or referring to a right manager) it is an important question for me.\nFrom the top of my head my first idea would be  that the \"command channel\" should be separated from the \"public channel\" (different ip:ports maybe) so that no client can send API commands through the \"application channel\". At least this policy could be enforced first in the settings (with the command channel not binding to the public ip when 127.0.0.1 being given) and further enhanced with proper fire-walling.\nThanks a lot for your time and answers.\n. ",
    "sfyn": "I've noticed that on an etherpad-lite instance with requireSession set to true, I can open any pad I want to so long as I have a session, whether or not I have access to the pad. This even when getPublicStatus = false\n. Yes, I have dug in a bit deeper.\nThe problem is via the API - I can create sessions for authors on pads that are in groups that are not in \"their\" groups - which I guess is normal, since \"groups\" in etherpad, do not have a direct relationship to authors as I understand it.\nThis needed to be accounted for in our implementation for django.\n. See also this pull request: https://github.com/Pita/etherpad-lite/pull/554\n. So I guess I will close this because it is a duplicate. Sorry folks - a little new to pull requests on github.\n. I am sorry, I did not realise that this pull request would automatically pull in all new commits on my master. I will close and open a new pull request just for the nocolor pathc.\n. Yes, and I can maraud my git repos in the process. Continued in https://github.com/Pita/etherpad-lite/pull/587\n. ",
    "timcolson": "Thanks - I gave that a try, but no luck, so I deleted the entire etherpad-lite directory and started with a fresh pull with git... now it just hangs after trying to start a new pad. FYI - above, I was trying to create a new auto-pad too, so there shouldn't be any cached content, right?\n2012-Mar-09 13:25 : Update -- I tried with Firefox and Safari -- works. Chrome is the only one hangs at that spot. \n[etherpad-lite@workpad-in etherpad-lite]$ bin/run.sh\nEnsure that all dependencies are up to date...\nEnsure jQuery is downloaded and up to date...\nEnsure prefixfree is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2012-03-09 11:56:24.360] [INFO] console - Your Etherpad Lite git version is 6fd73ec\n[2012-03-09 11:56:24.363] [INFO] console - Report bugs at https://github.com/Pita/etherpad-lite/issues\n[2012-03-09 11:56:25.388] [INFO] console - Server is listening at 0.0.0.0:9001\n[2012-03-09 11:56:25.389] [INFO] console -    info  - 'socket.io started'\n[2012-03-09 11:56:37.645] [INFO] http - 200, GET /p/iOGu7iTUpk\n[2012-03-09 11:56:38.409] [INFO] http - 307, GET /minified/pad?callback=require.define --> and it just stops here...\n. I cleared the chrome cache for the past day, tried again, and it works. \nSo the question now becomes... what is it about the client that fubar'd getting a reply from the server?\n[2012-03-09 12:27:49.609] [INFO] http - 200, GET /minified/pad.js?callback=require.define\n[2012-03-09 12:27:50.402] [DEBUG] socket.io - client authorized\n[2012-03-09 12:27:50.403] [INFO] socket.io - handshake authorized '1443459931446525022'\n[2012-03-09 12:27:50.608] [DEBUG] socket.io - setting request 'GET' '/socket.io/1/xhr-polling/1443459931446525022?t=1331324870727'\n[2012-03-09 12:27:50.608] [DEBUG] socket.io - setting poll timeout\n[2012-03-09 12:27:50.608] [DEBUG] socket.io - client authorized for \n[2012-03-09 12:27:50.609] [DEBUG] socket.io - clearing poll timeout\n[2012-03-09 12:27:50.609] [DEBUG] socket.io - xhr-polling writing '1::'\n[2012-03-09 12:27:50.609] [DEBUG] socket.io - set close timeout for client '1443459931446525022'\n. I was away from this for a bit, back now trying to setup MySQL connection (failed, says it cannot connect, so went back to the dirty/file-based DB). \nI've found I can reproduce this issue. \n1) Startup the server. \n2) Create a random pad (with Chrome)\n3) Stop the server\n4) Start the server\n5) In Safari go to the url with the pad id -- http://etherpadserver.domain.com/p/mfwa3Nrc3d  - watch logs get the existing pad just fine\n5) In Chrome go to the url with the pad id -- http://etherpadserver.domain.com/p/mfwa3Nrc3d \n6) Watch etherpad-lite die\nLooks to me like a null-pointer error due to an issue with Chrome not sending the expected headers. Etherpad-Lite shouldn't just die in this situation.\n[2012-04-13 06:48:57.029] [INFO] console - Your Etherpad Lite git version is 6fd73ec\n[2012-04-13 06:48:57.031] [INFO] console - Report bugs at https://github.com/Pita/etherpad-lite/issues\n[2012-04-13 06:48:57.177] [INFO] console - Server is listening at 0.0.0.0:9001\n[2012-04-13 06:48:57.178] [INFO] console -    info  - 'socket.io started'\n[2012-04-13 06:49:15.366] [DEBUG] ueberDB - GET    - pad:mfwa3Nrc3d - {\"atext\":{\"text\":\"Welcome to Etherpad Lite!\\n\\nThis pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!\\n\\nEtherpad Lite on Github: http://j.mp/ep-lite\\n\\n\",\"attribs\":\"|6+6c\"},\"pool\":{\"numToAttrib\":{},\"nextNum\":0},\"head\":0,\"chatHead\":-1,\"publicStatus\":false,\"passwordHash\":null} - from database \n[2012-04-13 06:49:15.369] [INFO] http - 200, GET /p/mfwa3Nrc3d\n[2012-04-13 06:49:15.814] [DEBUG] socket.io - served static content /socket.io.js\n[2012-04-13 06:49:16.144] [DEBUG] socket.io - client authorized\n[2012-04-13 06:49:16.144] [INFO] socket.io - handshake authorized '4857344132051257286'\n[2012-04-13 06:49:16.160] [INFO] http - 200, GET /static/custom/pad.css\n[2012-04-13 06:49:16.166] [INFO] http - 200, GET /static/custom/pad.css\n[2012-04-13 06:49:16.431] [DEBUG] socket.io - setting request 'GET' '/socket.io/1/xhr-polling/4857344132051257286?t=1334324956297'\n[2012-04-13 06:49:16.431] [DEBUG] socket.io - setting poll timeout\n[2012-04-13 06:49:16.431] [DEBUG] socket.io - client authorized for \n[2012-04-13 06:49:16.432] [DEBUG] socket.io - clearing poll timeout\n[2012-04-13 06:49:16.432] [DEBUG] socket.io - xhr-polling writing '1::'\n[2012-04-13 06:49:16.432] [DEBUG] socket.io - set close timeout for client '4857344132051257286'\n[2012-04-13 06:49:16.619] [DEBUG] socket.io - xhr-polling received data packet '4:::{\"component\":\"pad\",\"type\":\"CLIENT_READY\",\"padId\":\"mfwa3Nrc3d\",\"sessionID\":null,\"password\":null,\"token\":\"t.vUznAly2q5k4g61UJqWN\",\"protocolVersion\":2}'\n[2012-04-13 06:49:16.620] [DEBUG] ueberDB - GET    - token2author:t.vUznAly2q5k4g61UJqWN - \"a.uwx67oGhZ0WjZfNp\" - from database \n[2012-04-13 06:49:16.620] [DEBUG] ueberDB - SETSUB - globalAuthor:a.uwx67oGhZ0WjZfNp[\"timestamp\"] - 1334324956620\n[2012-04-13 06:49:16.620] [INFO] message - from 4857344132051257286: {\"component\":\"pad\",\"type\":\"CLIENT_READY\",\"padId\":\"mfwa3Nrc3d\",\"sessionID\":null,\"password\":null,\"token\":\"t.vUznAly2q5k4g61UJqWN\",\"protocolVersion\":2}\n[2012-04-13 06:49:16.620] [DEBUG] ueberDB - GET    - token2author:t.vUznAly2q5k4g61UJqWN - \"a.uwx67oGhZ0WjZfNp\" - from database \n[2012-04-13 06:49:16.621] [DEBUG] ueberDB - GET    - pad:mfwa3Nrc3d - {\"atext\":{\"text\":\"Welcome to Etherpad Lite!\\n\\nThis pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!\\n\\nEtherpad Lite on Github: http://j.mp/ep-lite\\n\\n\",\"attribs\":\"|6+6c\"},\"pool\":{\"numToAttrib\":{},\"nextNum\":0},\"head\":0,\"chatHead\":-1,\"publicStatus\":false,\"passwordHash\":null} - from database \n[2012-04-13 06:49:16.621] [DEBUG] ueberDB - GET    - globalAuthor:a.uwx67oGhZ0WjZfNp - {\"colorId\":\"#1f359d\",\"name\":\"Tim3\",\"timestamp\":1334324652220} - from database \n[2012-04-13 06:49:16.621] [DEBUG] ueberDB - GET    - pad2readonly:mfwa3Nrc3d - \"r.bA5T3dpq8UicDKSC\" - from database \n[2012-04-13 06:49:16.621] [DEBUG] ueberDB - SET    - globalAuthor:a.uwx67oGhZ0WjZfNp - {\"colorId\":\"#1f359d\",\"name\":\"Tim3\",\"timestamp\":1334324956620} - to database\n[2012-04-13 06:49:16.622] [DEBUG] ueberDB - SETSUB - globalAuthor:a.uwx67oGhZ0WjZfNp[\"timestamp\"] - 1334324956620\n[2012-04-13 06:49:16.622] [DEBUG] ueberDB - GET    - globalAuthor:a.uwx67oGhZ0WjZfNp - {\"colorId\":\"#1f359d\",\"name\":\"Tim3\",\"timestamp\":1334324956620} - from database \n[2012-04-13 06:49:16.622] [DEBUG] ueberDB - SET    - globalAuthor:a.uwx67oGhZ0WjZfNp - {\"colorId\":\"#1f359d\",\"name\":\"Tim3\",\"timestamp\":1334324956620} - to database\n[2012-04-13 06:49:16.622] [DEBUG] ueberDB - GET    - globalAuthor:a.uwx67oGhZ0WjZfNp - {\"colorId\":\"#1f359d\",\"name\":\"Tim3\",\"timestamp\":1334324956620} - from database \n[2012-04-13 06:49:16.622] [DEBUG] ueberDB - GETSUB - globalAuthor:a.uwx67oGhZ0WjZfNp[\"colorId\"] - \"#1f359d\"\n[2012-04-13 06:49:16.622] [DEBUG] ueberDB - GET    - globalAuthor:a.uwx67oGhZ0WjZfNp - {\"colorId\":\"#1f359d\",\"name\":\"Tim3\",\"timestamp\":1334324956620} - from database \n[2012-04-13 06:49:16.622] [DEBUG] ueberDB - GETSUB - globalAuthor:a.uwx67oGhZ0WjZfNp[\"name\"] - \"Tim3\"\n[2012-04-13 06:49:16.623] [INFO] message - to 4857344132051257286: {\"accountPrivs\":{\"maxRevisions\":100},\"initialRevisionList\":[],\"initialOptions\":{\"guestPolicy\":\"deny\"},\"collab_client_vars\":{\"initialAttributedText\":{\"text\":\"Welcome to Etherpad Lite!\\n\\nThis pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!\\n\\nEtherpad Lite on Github: http://j.mp/ep-lite\\n\\n\",\"attribs\":\"|6+6c\"},\"clientIp\":\"127.0.0.1\",\"padId\":\"mfwa3Nrc3d\",\"historicalAuthorData\":{},\"apool\":{\"numToAttrib\":{},\"nextNum\":0},\"rev\":0,\"globalPadId\":\"mfwa3Nrc3d\"},\"colorPalette\":[\"#ffc7c7\",\"#fff1c7\",\"#e3ffc7\",\"#c7ffd5\",\"#c7ffff\",\"#c7d5ff\",\"#e3c7ff\",\"#ffc7f1\",\"#ff8f8f\",\"#ffe38f\",\"#c7ff8f\",\"#8fffab\",\"#8fffff\",\"#8fabff\",\"#c78fff\",\"#ff8fe3\",\"#d97979\",\"#d9c179\",\"#a9d979\",\"#79d991\",\"#79d9d9\",\"#7991d9\",\"#a979d9\",\"#d979c1\",\"#d9a9a9\",\"#d9cda9\",\"#c1d9a9\",\"#a9d9b5\",\"#a9d9d9\",\"#a9b5d9\",\"#c1a9d9\",\"#d9a9cd\",\"#4c9c82\",\"#12d1ad\",\"#2d8e80\",\"#7485c3\",\"#a091c7\",\"#3185ab\",\"#6818b4\",\"#e6e76d\",\"#a42c64\",\"#f386e5\",\"#4ecc0c\",\"#c0c236\",\"#693224\",\"#b5de6a\",\"#9b88fd\",\"#358f9b\",\"#496d2f\",\"#e267fe\",\"#d23056\",\"#1a1a64\",\"#5aa335\",\"#d722bb\",\"#86dc6c\",\"#b5a714\",\"#955b6a\",\"#9f2985\",\"#4b81c8\",\"#3d6a5b\",\"#434e16\",\"#d16084\",\"#af6a0e\",\"#8c8bd8\"],\"clientIp\":\"127.0.0.1\",\"userIsGuest\":true,\"userColor\":\"#1f359d\",\"padId\":\"mfwa3Nrc3d\",\"initialTitle\":\"Pad: mfwa3Nrc3d\",\"opts\":{},\"chatHistory\":[],\"numConnectedUsers\":1,\"isProPad\":false,\"readOnlyId\":\"r.bA5T3dpq8UicDKSC\",\"serverTimestamp\":1334324956622,\"globalPadId\":\"mfwa3Nrc3d\",\"userId\":\"a.uwx67oGhZ0WjZfNp\",\"cookiePrefsToSet\":{\"fullWidth\":false,\"hideSidebar\":false},\"abiwordAvailable\":\"no\",\"hooks\":{},\"userName\":\"Tim3\"}\n[2012-04-13 06:49:16.623] [DEBUG] ueberDB - GET    - globalAuthor:a.uwx67oGhZ0WjZfNp - {\"colorId\":\"#1f359d\",\"name\":\"Tim3\",\"timestamp\":1334324956620} - from database \n[2012-04-13 06:49:16.623] [DEBUG] ueberDB - GETSUB - globalAuthor:a.uwx67oGhZ0WjZfNp[\"colorId\"] - \"#1f359d\"\n[2012-04-13 06:49:16.623] [DEBUG] ueberDB - GET    - globalAuthor:a.uwx67oGhZ0WjZfNp - {\"colorId\":\"#1f359d\",\"name\":\"Tim3\",\"timestamp\":1334324956620} - from database \n[2012-04-13 06:49:16.623] [DEBUG] ueberDB - GETSUB - globalAuthor:a.uwx67oGhZ0WjZfNp[\"name\"] - \"Tim3\"\n[2012-04-13 06:49:16.624] [DEBUG] socket.io - setting request 'GET' '/socket.io/1/xhr-polling/4857344132051257286?t=1334324956484'\n[2012-04-13 06:49:16.625] [DEBUG] socket.io - setting poll timeout\n[2012-04-13 06:49:16.625] [DEBUG] socket.io - clearing poll timeout\n[2012-04-13 06:49:16.625] [DEBUG] socket.io - xhr-polling writing '4:::{\"accountPrivs\":{\"maxRevisions\":100},\"initialRevisionList\":[],\"initialOptions\":{\"guestPolicy\":\"deny\"},\"collab_client_vars\":{\"initialAttributedText\":{\"text\":\"Welcome to Etherpad Lite!\\n\\nThis pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!\\n\\nEtherpad Lite on Github: http://j.mp/ep-lite\\n\\n\",\"attribs\":\"|6+6c\"},\"clientIp\":\"127.0.0.1\",\"padId\":\"mfwa3Nrc3d\",\"historicalAuthorData\":{},\"apool\":{\"numToAttrib\":{},\"nextNum\":0},\"rev\":0,\"globalPadId\":\"mfwa3Nrc3d\"},\"colorPalette\":[\"#ffc7c7\",\"#fff1c7\",\"#e3ffc7\",\"#c7ffd5\",\"#c7ffff\",\"#c7d5ff\",\"#e3c7ff\",\"#ffc7f1\",\"#ff8f8f\",\"#ffe38f\",\"#c7ff8f\",\"#8fffab\",\"#8fffff\",\"#8fabff\",\"#c78fff\",\"#ff8fe3\",\"#d97979\",\"#d9c179\",\"#a9d979\",\"#79d991\",\"#79d9d9\",\"#7991d9\",\"#a979d9\",\"#d979c1\",\"#d9a9a9\",\"#d9cda9\",\"#c1d9a9\",\"#a9d9b5\",\"#a9d9d9\",\"#a9b5d9\",\"#c1a9d9\",\"#d9a9cd\",\"#4c9c82\",\"#12d1ad\",\"#2d8e80\",\"#7485c3\",\"#a091c7\",\"#3185ab\",\"#6818b4\",\"#e6e76d\",\"#a42c64\",\"#f386e5\",\"#4ecc0c\",\"#c0c236\",\"#693224\",\"#b5de6a\",\"#9b88fd\",\"#358f9b\",\"#496d2f\",\"#e267fe\",\"#d23056\",\"#1a1a64\",\"#5aa335\",\"#d722bb\",\"#86dc6c\",\"#b5a714\",\"#955b6a\",\"#9f2985\",\"#4b81c8\",\"#3d6a5b\",\"#434e16\",\"#d16084\",\"#af6a0e\",\"#8c8bd8\"],\"clientIp\":\"127.0.0.1\",\"userIsGuest\":true,\"userColor\":\"#1f359d\",\"padId\":\"mfwa3Nrc3d\",\"initialTitle\":\"Pad: mfwa3Nrc3d\",\"opts\":{},\"chatHistory\":[],\"numConnectedUsers\":1,\"isProPad\":false,\"readOnlyId\":\"r.bA5T3dpq8UicDKSC\",\"serverTimestamp\":1334324956622,\"globalPadId\":\"mfwa3Nrc3d\",\"userId\":\"a.uwx67oGhZ0WjZfNp\",\"cookiePrefsToSet\":{\"fullWidth\":false,\"hideSidebar\":false},\"abiwordAvailable\":\"no\",\"hooks\":{},\"userName\":\"Tim3\"}'\n[2012-04-13 06:49:16.625] [DEBUG] socket.io - set close timeout for client '4857344132051257286'\n[2012-04-13 06:49:16.625] [DEBUG] socket.io - discarding transport\n[2012-04-13 06:49:16.625] [DEBUG] socket.io - cleared close timeout for client '4857344132051257286'\n[2012-04-13 06:49:16.898] [DEBUG] socket.io - setting request 'GET' '/socket.io/1/xhr-polling/4857344132051257286?t=1334324956763'\n[2012-04-13 06:49:16.899] [DEBUG] socket.io - setting poll timeout\n[2012-04-13 06:49:16.899] [DEBUG] socket.io - discarding transport\n[2012-04-13 06:49:16.899] [DEBUG] socket.io - cleared close timeout for client '4857344132051257286'\n[2012-04-13 06:49:22.001] [DEBUG] ueberDB - GET    - pad:mfwa3Nrc3d - {\"atext\":{\"text\":\"Welcome to Etherpad Lite!\\n\\nThis pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!\\n\\nEtherpad Lite on Github: http://j.mp/ep-lite\\n\\n\",\"attribs\":\"|6+6c\"},\"pool\":{\"numToAttrib\":{},\"nextNum\":0},\"head\":0,\"chatHead\":-1,\"publicStatus\":false,\"passwordHash\":null} - from database \n[2012-04-13 06:49:22.002] [INFO] http - 304, GET /p/mfwa3Nrc3d\n[2012-04-13 06:49:22.125] [DEBUG] socket.io - served static content /socket.io.js\n[2012-04-13 06:49:22.134] [INFO] http - 304, HEAD /static/js/jquery.js\n[2012-04-13 06:49:22.134] [INFO] http - 304, HEAD /static/js/security.js\n[2012-04-13 06:49:22.134] [INFO] http - 304, HEAD /static/js/pad.js\n[2012-04-13 06:49:22.134] [INFO] http - 304, HEAD /static/js/ace2_common.js\n[2012-04-13 06:49:22.135] [INFO] http - 304, HEAD /static/js/pad_utils.js\n[2012-04-13 06:49:22.137] [INFO] http - 304, HEAD /static/js/plugins.js\n[2012-04-13 06:49:22.137] [INFO] http - 304, HEAD /static/js/undo-xpopup.js\n[2012-04-13 06:49:22.138] [INFO] http - 304, HEAD /static/js/json2.js\n[2012-04-13 06:49:22.138] [INFO] http - 304, HEAD /static/js/pad_cookie.js\n[2012-04-13 06:49:22.138] [INFO] http - 304, HEAD /static/js/pad_editor.js\n[2012-04-13 06:49:22.140] [INFO] http - 304, HEAD /static/js/pad_editbar.js\n[2012-04-13 06:49:22.140] [INFO] http - 304, HEAD /static/js/pad_docbar.js\n[2012-04-13 06:49:22.140] [INFO] http - 304, HEAD /static/js/pad_modals.js\n[2012-04-13 06:49:22.141] [INFO] http - 304, HEAD /static/js/collab_client.js\n[2012-04-13 06:49:22.143] [INFO] http - 304, HEAD /static/js/ace.js\n[2012-04-13 06:49:22.143] [INFO] http - 304, HEAD /static/js/pad_userlist.js\n[2012-04-13 06:49:22.143] [INFO] http - 304, HEAD /static/js/pad_impexp.js\n[2012-04-13 06:49:22.143] [INFO] http - 304, HEAD /static/js/pad_savedrevs.js\n[2012-04-13 06:49:22.143] [INFO] http - 304, HEAD /static/js/pad_connectionstatus.js\n[2012-04-13 06:49:22.145] [INFO] http - 304, HEAD /static/js/chat.js\n[2012-04-13 06:49:22.146] [INFO] http - 304, HEAD /static/js/excanvas.js\n[2012-04-13 06:49:22.146] [INFO] http - 304, HEAD /static/js/farbtastic.js\n[2012-04-13 06:49:22.146] [INFO] http - 304, HEAD /static/js/prefixfree.js\n[2012-04-13 06:49:22.147] [INFO] http - 404, HEAD /static/js/jquery\n[2012-04-13 06:49:22.148] [INFO] http - 404, HEAD /static/js/security\n[2012-04-13 06:49:22.149] [INFO] http - 404, HEAD /static/js/pad\n[2012-04-13 06:49:22.149] [INFO] http - 404, HEAD /static/js/ace2_common\n[2012-04-13 06:49:22.149] [INFO] http - 404, HEAD /static/js/pad_utils\n[2012-04-13 06:49:22.150] [INFO] http - 404, HEAD /static/js/plugins\n[2012-04-13 06:49:22.151] [INFO] http - 404, HEAD /static/js/undo-xpopup\n[2012-04-13 06:49:22.151] [INFO] http - 404, HEAD /static/js/json2\n[2012-04-13 06:49:22.151] [INFO] http - 404, HEAD /static/js/pad_cookie\n[2012-04-13 06:49:22.152] [INFO] http - 404, HEAD /static/js/pad_editor\n[2012-04-13 06:49:22.153] [INFO] http - 404, HEAD /static/js/pad_editbar\n[2012-04-13 06:49:22.154] [INFO] http - 404, HEAD /static/js/pad_docbar\n[2012-04-13 06:49:22.154] [INFO] http - 404, HEAD /static/js/pad_modals\n[2012-04-13 06:49:22.154] [INFO] http - 404, HEAD /static/js/ace\n[2012-04-13 06:49:22.154] [INFO] http - 404, HEAD /static/js/collab_client\n[2012-04-13 06:49:22.157] [INFO] http - 404, HEAD /static/js/pad_userlist\n[2012-04-13 06:49:22.157] [INFO] http - 404, HEAD /static/js/pad_impexp\n[2012-04-13 06:49:22.157] [INFO] http - 404, HEAD /static/js/pad_savedrevs\n[2012-04-13 06:49:22.157] [INFO] http - 404, HEAD /static/js/pad_connectionstatus\n[2012-04-13 06:49:22.158] [INFO] http - 404, HEAD /static/js/chat\n[2012-04-13 06:49:22.159] [INFO] http - 404, HEAD /static/js/excanvas\n[2012-04-13 06:49:22.160] [INFO] http - 404, HEAD /static/js/farbtastic\n[2012-04-13 06:49:22.160] [INFO] http - 404, HEAD /static/js/prefixfree\n[2012-04-13 06:49:22.164] [ERROR] console - TypeError: Cannot read property 'headers' of undefined\n    at respond (/apps/share/etherpad-lite/node/utils/caching_middleware.js:147:46)\n    at ServerResponse. (/apps/share/etherpad-lite/node/utils/caching_middleware.js:130:48)\n    at /apps/share/etherpad-lite/node_modules/yajsml/server.js:384:18\n    at /apps/share/etherpad-lite/node_modules/yajsml/server.js:435:13\n    at completed (/apps/share/etherpad-lite/node_modules/yajsml/request.js:279:5)\n    at /apps/share/etherpad-lite/node_modules/yajsml/request.js:266:9\n    at IncomingMessage. (/apps/share/etherpad-lite/node_modules/yajsml/request.js:248:20)\n    at IncomingMessage.emit (events.js:88:20)\n    at HTTPParser.onMessageComplete (http.js:137:23)\n    at Socket.ondata (http.js:1150:24)\n[2012-04-13 06:49:22.164] [INFO] console - graceful shutdown...\n[2012-04-13 06:49:22.164] [INFO] console - db sucessfully closed.\n. Aside, I assume the 404's on the HEAD requests for the directories are \"normal\", and I know the 304's on the files is just fine... question is -- can I set the logging so they are demoted to DEBUG instead of INFO?\n. Well -- I have not seen the server shutdown after updating both Node (0.6.18) and etherpad-lite (git describe --tags\n1.0-542-g5e5a444) a few weeks ago. \n. Well -- I have not seen the server shutdown after updating both Node (0.6.18) and etherpad-lite (git describe --tags\n1.0-542-g5e5a444) a few weeks ago. \n. Apologies - didn't realize the \"my issues\" section was subject to the filters that were in place, so #544 was hidden from me.\n. I just ran into this error in the 724MB of etherpad-error.log (yowza that's big, filled with DEBUG level mesgs from socket.io).\nSome googling later, landed here. I haven't figured out exactly what it takes to reproduce, but seems to be happening every time one of our automated security bots scans the server.\n```\n^[[32m[2013-10-25 09:19:34.714] [INFO] http - ^[[39m404, GET /allmanage.pl\n^[[32m[2013-10-25 09:19:35.027] [INFO] http - ^[[39m404, GET /allmanage.cgi\n^[[32m[2013-10-25 09:19:35.341] [INFO] http - ^[[39m404, GET /config/config.txt\n^[[32m[2013-10-25 09:19:35.655] [INFO] http - ^[[39m404, GET /perl-status\n^[[32m[2013-10-25 09:19:35.970] [INFO] http - ^[[39m200, GET /\n^[[31m[2013-10-25 09:19:35.987] [ERROR] console - ^[[39mAsync Stacktrace:\n    at /apps/share/etherpad-lite/node/utils/Minify.js:115:14\nError: EISDIR, read\n^[[32m[2013-10-25 09:19:35.987] [INFO] console - ^[[39mgraceful shutdown...\n^[[32m[2013-10-25 09:19:36.077] [INFO] console - ^[[39mdb sucessfully closed.\n^[[33m[2013-10-25 11:26:25.897] [WARN] console - ^[[39mCan't get git version for server header\nENOENT, no such file or directory '/apps/share/etherpad-lite/.git/446bca08d881bc153982b095d58a44a9917'\n^[[32m[2013-10-25 11:26:25.898] [INFO] console - ^[[39mReport bugs at https://github.com/Pita/etherpad-lite/issues\n^[[32m[2013-10-25 11:26:26.030] [INFO] console - ^[[39mServer is listening at 0.0.0.0:9001\n^[[32m[2013-10-25 11:26:26.031] [INFO] console - ^[[39m   ^[[36minfo  -^[[39m 'socket.io started'\n^[[32m[2013-10-25 11:26:29.125] [INFO] http - ^[[39m200, GET /static/custom/index.js\n^[[32m[2013-10-25 11:26:29.126] [INFO] http - ^[[39m200, GET /static/custom/index.css\n```\n. @JohnMcLear  -- I see now that the title of this bug does not look accurate - i.e. you're right that  /static/custom does not look related, but have a look at the actual error line then leads to a graceful shutdown. Both the same\n```\n^[[32m[2013-10-25 09:19:35.970] [INFO] http - ^[[39m200, GET /\n^[[31m[2013-10-25 09:19:35.987] [ERROR] console - ^[[39mAsync Stacktrace:\n    at /apps/share/etherpad-lite/node/utils/Minify.js:115:14\nError: EISDIR, read\n^[[32m[2013-10-25 09:19:35.987] [INFO] console - ^[[39mgraceful shutdown...\n^[[32m[2013-10-25 09:19:36.077] [INFO] console - ^[[39mdb sucessfully closed. \n```\n. Although I also now see the \"Error\" in the trace is different, from illegal operation to \"read\"...not sure what's up there. So maybe this isn't related at all... but Etherpad does indeed die everytime it gets that series of automated GET request scans.\n. ",
    "bradh": "No, it had a typo (\"etherpad-line\"). So I resubmitted it.\n. ",
    "tbeitter": "it would be enough to initial set the username to REMOTE_USER. There is atm no need to avoid faking. \n. In my opinion that setting should be saved for every pad and there should be a global setting to choose which font is the default for new pads on the server.\n. as we use our pad mainly to check configurations and code snippets, a global variable to set the default font (e.g. to monospace) would not be just nice, it would be awesome and very helpful.\n. ",
    "mamachine": "Hi,\nlike others I want to authenticate etherpad-lite with Shibboleth through an Apache proxy using mod_shib.\nI managed to found a solution which works.\nThe global idea is to use a value in the headers (set by the proxy) to set the AuthorName.\nThis way it can be use for Shibboleth, but even CAS or any auth mechanism through a proxy.\nI'm new to nodejs ; is the way I did it ok from a developper point of view ?\nThe suggested patch : support_shibb_etherpad-lite.diff => http://pastebin.com/raw.php?i=hYr8bd89\nA sample config of apache with mod_shib : config_apache_shibb_etherpad-lite.txt => http://pastebin.com/raw.php?i=SDhJpDNd\nIf it's correct could it be commited in the master branch ?\n. I guess yes. As long as you can set a header through a proxy It should work.\n. For @johnyma22, sorry I don't have time to help working on auth rewrite. But I could do some tests for Shibb or CAS authentication when you'll have something workable.\nFor @disy-mk, the patch was written for v1.1.4 :\ncommit e19c05d1c4652191467e7e53cbf906ce9882fd14\nMerge: 3caa030 e484121\nAuthor: John McLear john@mclear.co.uk\nDate:   Thu Oct 11 08:40:25 2012 -0700\n```\nMerge pull request #1058 from Pita/release/releases-1.1.4\nRelease 1.1.4\n```\n. There was some spaces/tabs problems with the first pastebin file.\nHere it's better, but it may display a warning \"(Stripping trailing CRs from patch.)\" during the patch process.\n  http://pastebin.com/raw.php?i=M3e3Dvi7\nHere is how to replay the patch and check that it's been well applied :\n$ git clone https://github.com/ether/etherpad-lite\n$ cd etherpad-lite\n$ git checkout e19c05d1c4652191467e7e53cbf906ce9882fd14\n$ patch -p1 < shib.patch\n$ git diff|md5sum\n656f8adfe0a2d9dc357182e1538eb24e  -\nIf you know a better place to post the patch...\nOtherwise you may try this alternative work someone else have done ; it seems to work too :\n  https://github.com/wtsi-hgi/ep_sotauth\n. ",
    "TiagoTT": "Everyone interested, please vote here: http://etherpad.idea.informer.com/proj/?ia=72231\n```\nset author name to the one used in basic http auth\nthe etherpad lite is accessed directly without a proxy\nthe author name should be set to the one used in basic http auth\n```\n. ",
    "lkraav": "This never moved forward even with the bounty? I was looking at the description of https://github.com/lsowen/ep_auth_author and wasn't able to understand \"Add a prefix to settings.json to distinguish between normal BasicAuth users...\", makes it sound like BasicAuth is already baked in, but this ticket is still open.\n. Here's another one interested in x-forwarded-for operating properly. Thanks @spruce, got enough from the patch for a \"works for me\"\n. This is happening on my 1.2.11 installation. Pad is confidential text, so can't share, but I think the others have provided enough data here.\n. As fas I can see, Firefox works perfectly fine where webkit-based browsers do the self-walk.\n. While it's still the only option, could we get a \"Last Updated\" column for plugins visible? It's really difficult to tell from all the 0.1 version numbers whether the plugin has been long abandoned or not.\n. This is how WordPress does it: http://wordpress.org/plugins/wordpress-seo/\n\"Requires\", \"Compatible up to\", \"Last Updated\" fields on the right. Just trying to think what the minimum viable product here could be for a quick upgrade. Not sure if this was even the right ticket for a thorough \"better compatibility matrix\" work.\n. This is still an issue with the fresh 1.5.0. But I guess I need to go to #2294 \n. Yes, the available plugin list crashes while downloading, with what I'm seeing from issue search, is an old friend \"jaan  01 23:05:50 gusto etherpad-lite[20521]: [2015-01-01 23:05:50.917] [ERROR] console - RangeError: Invalid array length\"\nAnd yes I thought that empty json file was weird. Looking forward to an update on this.\nEDIT I don't know why or how but it finally received the plugin list on the 10th try or so.\n. Hello guys. Why did this PR leave out /admin/pads?\n. Sorry, this is the responsibility of https://github.com/spcsser/ep_adminpads\n. 1.5.7 and same problem here. This has to be a recent change because early 1.5.x worked fine.\n. Indeed #2748 seems to fix the issue. Pulling the latest develop branch works better.\n. ",
    "firemyst": "nevermind it was my client firewall blocking socket io and al. \n. ",
    "mvtango": "ok, will try that on monday \n. Cloning gave me an error:\nfatal: https://github.com/fourplusone/etherpad-lite/commit/d0dd746c8bf33b55999cb673babef68987854c23/info/refs not found: did you run git update-server-info on the server?\nI tried: \ngit clone https://github.com/fourplusone/etherpad-lite/commit/d0dd746c8bf33b55999cb673babef68987854c23 ./etherpad-lite-patched\nsorry if there's another git command I should have used, I am somewhat new to git,  more used to svn -\n. Checks out OK. Stuck at \"Loading... \" with\nThe module at \"ep_etherpad-lite/static/js/pluginfw/plugins\" does not exist.\nboth IE and Firefox. There's no \"404\" in the logfile, the file exists.\nPublically accessible just now at http://pad.ftd.de:9003/\nLogfile Output when requesting /newpad\n[2012-03-19 20:35:19.230] [DEBUG] ueberDB - GET    - pad:newpad - null - from database\n[2012-03-19 20:35:19.251] [INFO] http - 200, GET /p/newpad\n[2012-03-19 20:35:19.428] [DEBUG] socket.io - served static content /socket.io.js\n[2012-03-19 20:35:19.487] [INFO] http - 200, GET /javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define\n[2012-03-19 20:35:19.547] [INFO] http - 200, GET /javascripts/lib/ep_etherpad-lite/static/js/pluginfw/plugins?callback=require.define\n[2012-03-19 20:35:19.764] [INFO] http - 200, GET /javascripts/lib/ep_etherpad-lite/static/js/pluginfw/plugins.js?callback=require.define\n[2012-03-19 20:35:19.970] [INFO] http - 200, GET /javascripts/lib/ep_etherpad-lite/static/js/pluginfw/plugins/index.js?callback=require.define\n[2012-03-19 20:35:20.548] [INFO] http - 304, GET /favicon.ico\nThanks for taking the time. I have to rush off now (8.30pm, Germany) but will try again tomorrow - M\n. I'm running with minified=false and no reverse proxy, just bin/run.sh from the command line. the output of the logfile is below.\nEnsure that all dependencies are up to date...\nasync-stacktrace@0.0.2 ./node_modules/async-stacktrace \nasync@0.1.18 ./node_modules/async \nrequire-kernel@1.0.5 ./node_modules/require-kernel \nrequest@2.9.100 ./node_modules/request \nyajsml@1.1.2 ./node_modules/yajsml \nlog4js@0.4.1 ./node_modules/log4js \nformidable@1.0.9 ./node_modules/formidable \nclean-css@0.3.2 ./node_modules/clean-css \n\u2514\u2500\u2500 optimist@0.1.9\nexpress@2.5.8 ./node_modules/express \n\u251c\u2500\u2500 qs@0.4.2\n\u251c\u2500\u2500 mime@1.2.4\n\u251c\u2500\u2500 mkdirp@0.3.0\n\u2514\u2500\u2500 connect@1.8.6\njshint@0.5.9 ./node_modules/jshint \n\u251c\u2500\u2500 argsparser@0.0.6\n\u2514\u2500\u2500 minimatch@0.2.0\nuglify-js@1.2.5 ./node_modules/uglify-js \nnpm@1.1.10 ./node_modules/npm \nueberDB@0.1.7 ./node_modules/ueberDB \n\u251c\u2500\u2500 channels@0.0.2\n\u251c\u2500\u2500 dirty@0.9.6\n\u251c\u2500\u2500 async@0.1.15\n\u2514\u2500\u2500 mysql@0.9.5\nsocket.io@0.8.7 ./node_modules/socket.io \n\u251c\u2500\u2500 policyfile@0.0.4\n\u251c\u2500\u2500 redis@0.6.7\n\u2514\u2500\u2500 socket.io-client@0.8.7\njsdom-nocontextifiy@0.2.10 ./node_modules/jsdom-nocontextifiy \n\u251c\u2500\u2500 cssom@0.2.3\n\u2514\u2500\u2500 htmlparser@1.7.4\nEnsure jQuery is downloaded and up to date...\nEnsure prefixfree is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nsrc/static/custom/js.template' ->src/static/custom/index.js'\nsrc/static/custom/css.template' ->src/static/custom/index.css'\nsrc/static/custom/js.template' ->src/static/custom/pad.js'\nsrc/static/custom/css.template' ->src/static/custom/pad.css'\nsrc/static/custom/js.template' ->src/static/custom/timeslider.js'\nsrc/static/custom/css.template' ->src/static/custom/timeslider.css'\nstart...\n\u001b[33m[2012-03-20 02:38:38.099] [WARN] console - \u001b[39mCan't get git version for server header\nENOENT, no such file or directory '/home/etherpad/build/ep-patched/.git/46c8bf33b55999cb673babef68987854c23'\n\u001b[32m[2012-03-20 02:38:38.105] [INFO] console - \u001b[39mReport bugs at https://github.com/Pita/etherpad-lite/issues\n\u001b[32m[2012-03-20 02:38:38.582] [INFO] console - \u001b[39m/home/etherpad/build/ep-patched/var/\n\u001b[32m[2012-03-20 02:38:38.594] [INFO] console - \u001b[39mInstalled plugins: ep_etherpad-lite\n\u001b[32m[2012-03-20 02:38:38.594] [INFO] console - \u001b[39mInstalled parts:\nep_etherpad-lite/socketio\nep_etherpad-lite/errorhandling\nep_etherpad-lite/importexport\nep_etherpad-lite/apicalls\nep_etherpad-lite/webaccess\nep_etherpad-lite/padreadonly\nep_etherpad-lite/padurlsanitize\nep_etherpad-lite/specialpages\nep_etherpad-lite/static\n\u001b[32m[2012-03-20 02:38:38.595] [INFO] console - \u001b[39mInstalled hooks:\nexpressCreateServer: ep_etherpad-lite/node/hooks/express/socketio:expressCreateServer from ep_etherpad-lite/socketio\nexpressCreateServer: ep_etherpad-lite/node/hooks/express/errorhandling:expressCreateServer from ep_etherpad-lite/errorhandling\nexpressCreateServer: ep_etherpad-lite/node/hooks/express/importexport:expressCreateServer from ep_etherpad-lite/importexport\nexpressCreateServer: ep_etherpad-lite/node/hooks/express/apicalls:expressCreateServer from ep_etherpad-lite/apicalls\nexpressCreateServer: ep_etherpad-lite/node/hooks/express/padreadonly:expressCreateServer from ep_etherpad-lite/padreadonly\nexpressCreateServer: ep_etherpad-lite/node/hooks/express/padurlsanitize:expressCreateServer from ep_etherpad-lite/padurlsanitize\nexpressCreateServer: ep_etherpad-lite/node/hooks/express/specialpages:expressCreateServer from ep_etherpad-lite/specialpages\nexpressCreateServer: ep_etherpad-lite/node/hooks/express/static:expressCreateServer from ep_etherpad-lite/static\nexpressConfigure: ep_etherpad-lite/node/hooks/express/webaccess:expressConfigure from ep_etherpad-lite/webaccess\n\u001b[32m[2012-03-20 02:38:38.597] [INFO] console - \u001b[39m   \u001b[36minfo  -\u001b[39m 'socket.io started'\n\u001b[32m[2012-03-20 02:38:38.600] [INFO] console - \u001b[39mServer is listening at pad.ftd.de:9003\n\u001b[36m[2012-03-20 02:39:13.481] [DEBUG] ueberDB - \u001b[39mGET    - pad:public - {\"atext\":{\"text\":\"Willkommen im neuen Etherpad Lite!\\n\\nVerf\u00fcgbar auf Github: http://j.mp/ep-lite\\n\\n\",\"attribs\":\"|4+27\"},\"pool\":{\"numToAttrib\":{},\"nextNum\":0},\"head\":0,\"chatHead\":-1,\"publicStatus\":false,\"passwordHash\":null} - from database \n\u001b[32m[2012-03-20 02:39:13.540] [INFO] http - \u001b[39m200, GET /p/public\n\u001b[32m[2012-03-20 02:39:13.752] [INFO] http - \u001b[39m200, GET /static/css/pad.css\n\u001b[32m[2012-03-20 02:39:13.765] [INFO] http - \u001b[39m200, GET /static/custom/pad.css\n\u001b[32m[2012-03-20 02:39:13.810] [INFO] http - \u001b[39m200, GET /static/js/require-kernel.js\n\u001b[32m[2012-03-20 02:39:13.826] [INFO] http - \u001b[39m200, GET /static/js/jquery.js\n\u001b[36m[2012-03-20 02:39:13.849] [DEBUG] socket.io - \u001b[39mserved static content /socket.io.js\n\u001b[32m[2012-03-20 02:39:13.905] [INFO] http - \u001b[39m200, GET /javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define\n\u001b[32m[2012-03-20 02:39:13.938] [INFO] http - \u001b[39m200, GET /static/img/loading.gif\n\u001b[32m[2012-03-20 02:39:13.958] [INFO] http - \u001b[39m200, GET /static/img/leftarrow.png\n\u001b[32m[2012-03-20 02:39:14.075] [INFO] http - \u001b[39m200, GET /static/img/etherpad_lite_icons.png\n\u001b[32m[2012-03-20 02:39:14.921] [INFO] http - \u001b[39m200, GET /javascripts/lib/ep_etherpad-lite/static/js/pluginfw/plugins?callback=require.define\n\u001b[32m[2012-03-20 02:39:15.056] [INFO] http - \u001b[39m200, GET /javascripts/lib/ep_etherpad-lite/static/js/pluginfw/plugins.js?callback=require.define\n\u001b[32m[2012-03-20 02:39:15.234] [INFO] http - \u001b[39m200, GET /javascripts/lib/ep_etherpad-lite/static/js/pluginfw/plugins/index.js?callback=require.define\n\u001b[32m[2012-03-20 02:39:15.599] [INFO] http - \u001b[39m200, GET /favicon.ico\n\u001b[36m[2012-03-20 02:39:24.926] [DEBUG] ueberDB - \u001b[39mGET    - pad:public - {\"atext\":{\"text\":\"Willkommen im neuen Etherpad Lite!\\n\\nVerf\u00fcgbar auf Github: http://j.mp/ep-lite\\n\\n\",\"attribs\":\"|4+27\"},\"pool\":{\"numToAttrib\":{},\"nextNum\":0},\"head\":0,\"chatHead\":-1,\"publicStatus\":false,\"passwordHash\":null} - from cache\n\u001b[32m[2012-03-20 02:39:24.928] [INFO] http - \u001b[39m304, GET /p/public\n\u001b[32m[2012-03-20 02:39:25.142] [INFO] http - \u001b[39m304, GET /static/css/pad.css\n\u001b[32m[2012-03-20 02:39:25.153] [INFO] http - \u001b[39m304, GET /static/custom/pad.css\n\u001b[32m[2012-03-20 02:39:25.166] [INFO] http - \u001b[39m304, GET /static/js/require-kernel.js\n\u001b[32m[2012-03-20 02:39:25.185] [INFO] http - \u001b[39m304, GET /static/js/jquery.js\n\u001b[36m[2012-03-20 02:39:25.196] [DEBUG] socket.io - \u001b[39mserved static content /socket.io.js\n\u001b[32m[2012-03-20 02:39:25.225] [INFO] http - \u001b[39m304, GET /static/img/loading.gif\n\u001b[32m[2012-03-20 02:39:25.238] [INFO] http - \u001b[39m304, GET /static/img/leftarrow.png\n\u001b[32m[2012-03-20 02:39:25.250] [INFO] http - \u001b[39m200, GET /javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define\n\u001b[32m[2012-03-20 02:39:25.262] [INFO] http - \u001b[39m304, GET /static/img/etherpad_lite_icons.png\n\u001b[32m[2012-03-20 02:39:25.746] [INFO] http - \u001b[39m200, GET /javascripts/lib/ep_etherpad-lite/static/js/pluginfw/plugins?callback=require.define\n\u001b[32m[2012-03-20 02:39:25.881] [INFO] http - \u001b[39m200, GET /javascripts/lib/ep_etherpad-lite/static/js/pluginfw/plugins.js?callback=require.define\n\u001b[32m[2012-03-20 02:39:26.069] [INFO] http - \u001b[39m200, GET /javascripts/lib/ep_etherpad-lite/static/js/pluginfw/plugins/index.js?callback=require.define\n\u001b[32m[2012-03-20 02:39:26.485] [INFO] http - \u001b[39m304, GET /favicon.ico\n\u001b[32m[2012-03-20 02:39:32.787] [INFO] console - \u001b[39mgraceful shutdown...\n\u001b[31m[2012-03-20 02:39:32.814] [ERROR] console - \u001b[39mTypeError: object is not a function\n    at CALL_NON_FUNCTION (native)\n    at ChildProcess. (/home/etherpad/build/ep-patched/src/node/utils/Abiword.js:95:7)\n    at ChildProcess.emit (events.js:70:17)\n    at maybeExit (child_process.js:360:16)\n    at Socket. (child_process.js:457:7)\n    at Socket.emit (events.js:67:17)\n    at Array.1 (net.js:320:10)\n    at EventEmitter._tickCallback (node.js:192:40)\n\u001b[32m[2012-03-20 02:39:32.814] [INFO] console - \u001b[39mdb sucessfully closed.\n. ",
    "leafcutterant": "Any progress on this?. ",
    "rhelmer": "Sure, for some projects I keep it in ./vagrant (it's been popular enough on mozilla projects that we've just started moving it out to the main folder and thinking of it like you would a Makefile etc.)\n. Opened https://github.com/Pita/etherpad-lite/pull/573 against the develop branch (I don't see any way to change this in an existing pull request in the github UI or in the docs).\nThat ones puts all the vagrant/puppet stuff into ./vagrant\n. Pushed a couple minor fixes after playing with this for development today, like capturing run.sh output into run.log \n. OK done and rebased into one commit again.\n. @mikkin OK, will move to a separate repo and it can be pulled in as a submodule.\n. @pita will do, I have added it here with it's own README:\nhttps://github.com/rhelmer/etherpad-vagrant\n. @Pita linked from https://github.com/Pita/etherpad-lite/wiki\n. @JohnMcLear yes it has both persona and teampad support, that's the right repo/branch to use.\n. Isn't this trivial for the client to spoof? It should be off by default and have a config option to turn it on.\n. Oh ok, actually just read the summary :) - some kind of additional header with a key specified in the config would do the trick (having a simple off/on switch like I suggested isn't enough anyway)\n. I mean you could get away with just on/off setting if this header is guaranteed to be overridden by the proxy (and lots of server software does this), but it seems like a footgun for people setting up the system :) \nAlso - peeking through the source for express and socket.io I see some mention of x-forwarded, can you look to see if it's possible to just flip a switch somewhere instead of etherpad-lite having to worry about it?\n. I don't see this in Firefox Nightly 23.0a1 (2013-04-27) or 19.0.2 but I do in Google Chrome Version 26.0.1410.65 using http://etherpad-lite.paas.allizom.org/p/kqOi9HF97Z (which is on develop branch c8e2278afcb4f75d52af6e55ebe1e979461c63fc right now) on Mac OS X 10.7.5 (2.53 GHz Intel Core i5). I can't get Firefox over 50% CPU but I can easily get the Google Chrome Renderer process to hit 100% (just random scrolling and typing in both cases)\nIt seems usable in Firefox on this machine, but I'd agree that it's too slow in Chrome to be usable.\n. I took a quick at the Chrome Profiler (don't have time to dig into it further just now) and the long pole looks to be in minified source, I think it's jquery - it's spending most if it's time in t.event.dispatch -> s.handle\nIs there a quick way to run etherpad-lite locally against unminified jquery so I can see the real stack (not sure what I need to do to get source maps working for this right now, will look into that too)?\n. Ah nevermind, I see it in settings.json, will fire it up locally with minification turned off and see if something more useful pops up.\n. Here we go, elemData.handle (below) is taking up 32.83% of CPU time on my laptop:\nsetSelection\n  updateBrowserSelectionFromRep\n    inCallStack\n      inCallStackIfNecessary\n        handleKeyEvent\n          jQuery.event.dispatch\n            elemData.handle\nNext down is scrollNodeVerticallyIntoView with 18.38%, then addRange with 6.58%. Everything below that is negligible (under 2%) \n. putting the shift in the while loop shifts the arguments ($@) passed to safeRun.sh once place every time run.sh is called, which means that over time the arguments will not be passed from safeRun.sh to run.sh (presumably the intention here is to only shift away the first \"log\" argument)\nThis change looks ok to me, @clkao can you clarify what you mean by \"#1785 actually made safeRun a bit unsafe.\"? Did you mean security-wise or just that it's unintended behavior?\n. ok agreed this lgtm\n. I'll try it and see what happens.\n. I can get into the github and travis configs, looks like the SAUCE_USER and SAUCE_ACCESS_KEY are not set. I'll see if I can't figure it out.. OK well I got it a little closer - I made a new sauce labs account (etherpad-lite, but we can probably get them to merge and just use etherpad). Now the travis script appears to be hanging instead of erroring out, so there is further work to be done.\n@lpagliari I suggest we disable the sauce labs integration (maybe just comment it out) until it's functional, so contributors don't get confused by their PRs failing. What do you think?. @ychoucha I'm not sure why you'd want both the init script and the systemd service... in any case I'd try the .service file @lpagliari linked and see if that helps.\nIt might be worth landing an etherpad.service file in the etherpad-lite repo, although that's the sort of thing I'd expect distro packagers to add... . That sort of thing is generally set in settings.json, which is based on the settings.json.template: https://github.com/ether/etherpad-lite/blob/8bd8be97b98a69dce9768e5717c4f5ee0368ad1a/settings.json.template#L44\nHowever this would be better to ask on the mailing list rather than an issue. If you feel like this should be documented better an issue for that would be welcome, however do note that it's already mentioned in the README: https://github.com/ether/etherpad-lite#fancy-install. Well I was hoping it'd work as-is but apparently doesn't :)\nWill investigate.. Oh, oops. I screwed up a merge, fixing.... @lpagliari sorry about that! how about now?. @skupfer Etherpad uses a very open-ended plugin API, so unfortunately unmaintained plugins are likely to break. Firefox just went through a somewhat painful conversion from this sort of extension to using a set of standard APIs that are easier to maintain. The trade-off is that plugins can do literally anything which can be helpful, and doesn't require designing APIs to expose from Etherpad first (but still something to consider doing!)\nBugs in Etherpad itself are unfortunate but probably a fact of life - I don't know of any software projects, even big well-funded ones, that don't have a set of known bugs. It usually comes down to priorities and someone willing and able to work on them. I don't think this has any bearing on whether the project itself is actively maintained.\nFor the specific issue of outdated NPM modules (which plagues pretty much any open-source project) I'd suggest using https://github.com/apps/greenkeeper which automatically opens a PR which keeps dependencies up-to-date, it's a nice way to head this off before users run into it.. Hi @jinbullsushil - which browser+version are you using, and which version of Etherpad is this?. Which version of node are you using?\nOn Wed, Dec 13, 2017 at 2:55 AM, SPQRInc notifications@github.com wrote:\n\nHello everybody,\nI'm just trying to get the latest etherpad version running.\nThis is what I get after cloning the git repo. I installed it and after\nthat I tried to start it up again. This is the error I get:\nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\nEnsure jQuery is downloaded and up to date...\nClearing minified cache...\nEnsure custom css/js files are created...\nStarted Etherpad...\n[2017-12-13 09:48:43.124] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production.\n[2017-12-13 09:48:45.104] [ERROR] console - Failed to load '/opt/etherpad-162/etherpad-lite/node_modules/ep_etherpad-lite/node/hooks/express/adminplugins:expressCreateServer' for 'ep_etherpad-lite/adminplugins/hooks/expressCreateServer': SyntaxError: /opt/etherpad-162/etherpad-lite/src/node_modules/request/node_modules/hawk/node_modules/boom/lib/index.js:5\nconst Hoek = require('hoek');\n^^^^^\nUse of const in strict mode.\n[2017-12-13 09:48:45.107] [ERROR] console - Failed to load '/opt/etherpad-162/etherpad-lite/node_modules/ep_etherpad-lite/node/hooks/express/adminplugins:socketio' for 'ep_etherpad-lite/adminplugins/hooks/socketio': SyntaxError: /opt/etherpad-162/etherpad-lite/src/node_modules/request/node_modules/hawk/node_modules/boom/lib/index.js:5\nconst Hoek = require('hoek');\n^^^^^\nUse of const in strict mode.\n[2017-12-13 09:48:45.988] [INFO] console - Installed plugins:\n[2017-12-13 09:48:45.997] [ERROR] console - Failed to load 'ep_etherpad-lite/node/hooks/express/adminplugins:expressCreateServer' for 'ep_etherpad-lite/adminplugins/hooks/expressCreateServer': SyntaxError: /opt/etherpad-162/etherpad-lite/src/node_modules/request/node_modules/hawk/node_modules/boom/lib/index.js:5\nconst Hoek = require('hoek');\n^^^^^\nUse of const in strict mode.\n[2017-12-13 09:48:46.001] [ERROR] console - Failed to load 'ep_etherpad-lite/node/hooks/express/adminplugins:socketio' for 'ep_etherpad-lite/adminplugins/hooks/socketio': SyntaxError: /opt/etherpad-162/etherpad-lite/src/node_modules/request/node_modules/hawk/node_modules/boom/lib/index.js:5\nconst Hoek = require('hoek');\n^^^^^\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/3291, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AADv5EpIUVt60O5FLixBXcPkH0TdKPGtks5s_5D2gaJpZM4RAM5L\n.\n. This does look really easy, with the systemd and autoquit modules.\n\nThe only added complexity really is making it configurable, but that shouldn't be too hard.\nI don't have time to do this myself right now but happy to mentor or review, looks like a really useful feature.. I'd be interested in this too. There are many advantages to being able to serve pads as static content, it works with more systems (simpler agents like curl), makes first-load faster, and so on.. > What about a rewrite (or parts of it) in Rust? It appears to be a hype and it has a lot of advantages for systems that have to be safe and fast ...\nI'm a big Rust fan, but I think it's a little too soon to do a pure Rust server or a wasm front-end.\nOne approach I believe is very viable though is to write native modules in Rust instead of C/C++ ... for instance the Neon Rust/Node bindings works pretty well today: https://github.com/neon-bindings/neon. I agree that it's worth seriously considering React for the front-end, or if not React proper then at least considering components and think about data flow etc. React has the tooling and developer awareness though that would probably help attract contributors.\nI agree with @lpagliari that this will require re-thinking and probably breaking existing Etherpad plugins, however the goal of having plugins might be better served with React-style components rather than the current approach that most plugins take.\nOne thing I hear from folks when I ask what problems they have with Etherpad is mobile support, having a single responsive front-end probably makes the most sense, which this would be a good opportunity to do.\nIt's worth looking into the full set of Progressive Web App guidelines too.. Indeed :) My local testing apparently wasn't good enough and our automated tests didn't catch it.. ",
    "mikkin": "@Pita, @rhelmer has the right idea of putting everything in a VM and setting it up with puppet manifests, but in my opinion it should not be part of etherpad-lite. It would make perfect sense to have it setup as a separate project and users can pull that project down should they wish to run vagrant/virtualbox on their machine. \n. ",
    "TimWolla": "commit cfb58a80a30486156a15515164c9c0f4647f165b\nMerge: a6d4858 051930e\nAuthor: Peter 'Pita' Martischka petermartischka@googlemail.com\nDate:   Sun Mar 11 16:07:29 2012 -0700\nMerge git://github.com/Gared/etherpad-lite\nOn 26.03.2012 22:11, Peter 'Pita' Martischka wrote:\n\nWhats your git hash? //cc @cweider\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/574#issuecomment-4703009\n. > why are you removing a id tag?!\nid=\"text\" [\u2026] id=\"text\"\n. \n",
    "PCommons": "Hey John - thanks for the quick reply.  Yeah, as far as I know I am.  I did\ngit pull and it says \"already up-to-date.\"\nOn Thu, Mar 29, 2012 at 7:33 PM, John McLear <\nreply@reply.github.com\n\nwrote:\nAre you running latest?\ngit pull\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/577#issuecomment-4833645\n\n\nPaul Commons\n. MySQL\nOn Thu, Mar 29, 2012 at 8:57 PM, John McLear <\nreply@reply.github.com\n\nwrote:\nWhat database are you using?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/577#issuecomment-4834578\n\n\nPaul Commons\n. Sorry about the late reply - didn't see the edit until now.  I dropped the database altogether and let etherpad re-create it.  Unfortunately, it's still frozen.  I did notice through the Javascript console the following error in require-kernal.js: \nUncaught Error: The module at \"/pad\" does not exist.  \nI'll message you the public ip address so you can see what I mean by it being frozen and this particular error.\n. I ran both bin/run.sh and restart via init script but still frozen. Yeah,\nyou're more than welcome to SSH in to look around.  I'll send you the info\nvia email.\nOn Wed, Apr 4, 2012 at 7:25 AM, John McLear <\nreply@reply.github.com\n\nwrote:\nSomething is severely broken with your deployment.\nAny chance I can SSH in and take a look?\nAlso try..\ngit checkout develop\nbin/run.sh (or restart via init script)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/577#issuecomment-4951500\n\n\nPaul Commons\n. ",
    "StevenLeRoux": "Opening an other browser, I succeed in create a new pad, but opening an older one got me :\n[2012-03-30 01:43:23.261] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"UX3snIe9Xb1ScQ6Ox72w\",\"msg\":\"Uncaught TypeError: Cannot call method 'setChannelState' of null\",\"url\":\"http://pad/minified/pad.js?callback=require.define\",\"linenumber\":9,\"userAgent\":\"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.83 Safari/535.11\"}\nMaybe a pad is corrupted ?\n. Hi,\nIt's a fresh install from a git clone (1 hour ago). So yes it's quite up to date :)\n. git clone https://github.com/Pita/etherpad-lite.git yes\nI use sqlite with node-sqlite3\nIt has worked, but since a restart on the server, I have this msg on client side.\n. ",
    "b2ag": "I'm experiencing this \"Uncaught TypeError: Cannot call method 'setChannelState' of null\", when socket.io gets broken by apache mod_proxy. In my case poxy mod sends a 501 (Method Not Implemented), when it should proxy a POST request to node.js. Tcpdump shows no \"POST\" to node.js (only one to \"/jserror\", after client receive HTTP 501). Seems to me like a problem in mod_proxy.\nEDIT: Oops. I discovered that mod_security blocked the request from socket.io on my proxy server.\n. ",
    "mtoso": "Etherpad Lite server prompt on console \"Your Etherpad Lite git version is cfb58a8\".\nI will try the devel branch. Thanks\n. I tried using git version c960186 on develop branch.\nThe problem remains. It seems that firefox loads after javascript library required first.\nDoes it make sense?\n. I also tried with version minify but does not work.\nI saw that if its an iframe with src = \"http://localhost:9001\" I loaded the index page, I click the New button pad and everything works.\nIf the iframe tag as src imposed something like: src = \"http / / localhost: 9001 / p / {10 random letters} it does not work.\nThis thing can be of help?\nI'm desperate: (\nThanks to the availability\n. ",
    "rohieb": "Yes, please. The automatic scrolling makes it almost impossible to re-read the chat in busy pads, especially because it is currently not possible to resize the chat window (see issue 676).\n. FWIW: I ran into issue #2522 on v1.5.7 by typing U+1F686 (\ud83d\ude86) into one of my pads. After ALTERing the MySQL DB charsets, the server didn't crash anymore, but still hung at \"Loading\". After I applied this patch, everything was back to normal, so: Works for me.\n. Okay, I tried stopping the etherpad-lite instance, then using node bin/deletePad.js like before, then restarting etherpad-lite. The old text is still in the pad, I get the same log output on the console.\n. As a short feedback to this PR, I have reverted it and related changes on my local instance for now, since I find 16pt too big to read and I cannot turn the font size back to 12pt otherwise except hard-reverting it. However I found that only on my Hi-DPI laptop, on the desktop it looked fine\u2026. Ah, that could posisbly be the case. I'm not very experienced in Node modules, is there a reason to delete <repo>/node_modules/ep_etherpad-lite/node_modules instead? If so, this subtler bug should be corrected instead of not deleting anything.. Just tried it for confirmation, plugins are installed in <repo>/node_modules, not in <repo>/src/node_modules.\n@muxator: sounds good to me, feel free to just push to master instead :). ",
    "LukyLuke": "The \"padding\" from \"ol.list-number1\" is the Problem. For numbers up to 9999 change the following in a css-file (don't know which)\ncss\nol.list-number1 {\n  margin-left: 1.5em;\n+  padding-left: 2em;\n}\n. ",
    "HighTide": "Going to close this, since I found out this is directly related to having HTTP auth enabled at the same time. Disabling HTTP auth solves my issue here. No idea why. \n. ",
    "rmondello": "I'm not entirely sure this issue should have been closed. I'm able to reproduce this bug when I have httpAuth enabled. No pads load, and there's a 'Error: The module at \"/pad\" does not exist.' message in the console.\n. ",
    "psharma2012": "@johnyma22 :\nI have changed the line as you mentioned above in file ImportHandler.js ( Path : /home/etherpad-lite/etherpad-lite/node/handler/ImportHandler.js at my Linux server ) but it didn't work for me. In my ImportHandler.js this line was mentioned at 199:\nres.send(\"document.domain = document.domain; var impexp = window.top.require('/pad_impexp').padimpexp.handleFrameCall('\" + status + \"'); \", 200);\nI updated this to :\nres.send(\" if ( (!$.browser.msie) && (!($.browser.mozilla && $.browser.version.indexOf(\"1.8.\") == 0)) ){document.domain = document.domain;}var impexp = window.top.require('/pad_impexp').padimpexp.handleFrameCall('\" + status + \"');\", 200);\nBut not working yet. Mainly the issue is :\nI try importing the .txt file or any other file, that time contents from the files got pasted in the Etherpad editor, but the problem is that after pasting the content import screen doesn't disappear and it said 'Import failed : Please copy paste' and the process bar is being shown continuously.\nPlease help !!! I am getting this in IE and also in FF.\nThanks\n. Yes I have the correct path to abiword in settings.json. I have the path \"/usr/bin/abiword\" and I can see the 'abiword' file is there. \nAs I mentioned, I get the error at the user level : '.........after pasting the content import screen doesn't disappear and it said 'Import failed : Please copy paste' and the process bar is being shown continuously.....' \nHow can I see any error at server please..?\n. I have not done much customization at my etherpad area. Only I have updated the default text there and have a 'Invite and Share' button and sending email functionality for sending emails to users. I guess, this should not be related with 'Import' functionality. I am able to export the documents. \nDoes the above command will need to run at server after connecting through ssh client putty..? will this remove all above changes..? I also need the above as updated text etc. Please guide me now..\nThanks\n. ",
    "zkwsk": "Is there any way to avoid having to restart etherpad every single time I make a change?\n. ",
    "fwdesouza": "Yes, I did. What turned me off from PrimaryPad was the 15-collaborator limit. I have classes with up to 30 students and I saw no restrictions (at least in writing) with Typewith.me. Also, I think I created a pad with Primarypad and it crashed on me -- although that may be the fact that I'm in China ;) Any solutions/suggestions to my current issue?\n. Sounds great! And Primarypad allows me to reveal the identity of my collaborators?\n. Just signed up for Primarypad and you're right. I should have gone with it! Let me ask you, is it possible to transfer a pad from typewith.me to primarypad. The issue is that my students have already completed their first draft and I need to assess them on that. Right now, it seems like this would be so much easier done on Primarypad with its abundance of features and functionality. If it is possible to import a pad from somewhere else, can you let me know how to do it?\n. Hey John,\nIt seems like my four Typewith.me pads have crashed indefinitely. I haven't\nbeen able to access them for a few days now. Can you take a look at them? I\njust need to export them in either the Word or HTML formats. There are:\n.../p/elc4-yes-1\n.../p/elc4-yes-2\n.../p/elc4-no-1\n.../p/elc4-no-2\nI hope you can help me out with this.\nThanks,\nFilipe\nOn Thu, Apr 5, 2012 at 6:02 PM, John McLear <\nreply@reply.github.com\n\nwrote:\nOnly way I can think is to export the HTML ;\\\nWe do have a way of exporting an entire pad but it's not a service we\noffer right now.\n\nFrom: fwdesouza [reply@reply.github.com]\nSent: 05 April 2012 01:56\nTo: John McLear\nSubject: Re: [etherpad-lite] How to reveal collaborators' names (#600)\nJust signed up for Primarypad and you're right. I should have gone with\nit! Let me ask you, is it possible to transfer a pad from typewith.me to\nprimarypad. The issue is that my students have already completed their\nfirst draft and I need to assess them on that. Right now, it seems like\nthis would be so much easier done on Primarypad with its abundance of\nfeatures and functionality. If it is possible to import a pad from\nsomewhere else, can you let me know how to do it?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/600#issuecomment-4966602\nThis email and its attachments may be confidential and are intended solely\nfor the use of the individual to whom it is addressed. Any views or\nopinions expressed are solely those of the author and do not necessarily\nrepresent those of the organisation from which this email originated. If\nyou are not the intended recipient of this email and its attachments, you\nmust take no action based upon them, nor must you copy or show them to\nanyone. Please contact the sender if you believe you have received this\nemail in error. This email was sent by School Email - Safe Webmail and\nHosted Email for Schools\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/600#issuecomment-4973701\n\n\n\nFilipe W. de Souza\nEnglish Language Instructor\nEnglish Language Center | Shantou University\nhttp://elc.stu.edu.cn\n*Please consider the environment before printing this e-mail.\n. ",
    "brwong": "I would also like to see this feature included.\n. ",
    "thefinn93": "Thanks\n. ",
    "leezu": "(this should have been tagged as question, but apparently it didn't work..)\n. Hm, even with the -D it did not work. But importing with phpmyadmin did :-) can't explain that, perhaps importing with mysql used another character encoding..\n. ",
    "devoidfury": "How much third-party code depends on ejs? It may be better to switch to a different engine that handles async well, unless it'll break a lot of code.\nAlternatively, we could just cache the templates in memory and only read them from disk once.\n. Actually, I see a quick performance win in eejs with caching the templates; let me take a stab at that and I'll get back to you.\n. Started on this here: devoidfury/etherpad-lite/tree/express4. The etherpad-yajsml exported static server isn't compatible, so we'll need to either wrap it or update it.\n\nEdit: never mind, that's not an issue. Going through the rest; backend tests passing.\nThe minify/cache middleware seems to be junking the font files, everything else looks like it's working.\n. Is there a test file I could use for this? I'd like to take a look.\n. No luck, that one seems to work fine.\n. Updated readme and engine checking in the scripts for node v0.10+ and io.js. I'll also try to keep an eye out to help on any related uncaught issues, should they come up.\n. Ok, thanks. Updating.\n. I'll get that warning fixed, but that test failed on develop for me as well, on node v0.12 -- could you verify that?\n. There is a security issue, should I contact you in private or would you prefer to discuss it here?\n. I think it's due to a change in the semantics of how binary files are handled in express and the local files, caching_middleware or Minify, where we hijack the request/response and juggle the file around.\n. I'm investigating it over here, too.\n. Ok, found it.\nLooks like the old route path that the assetCache was hooked up to was misleading.\nargs.app.all('/(javascripts|static)/*', assetCache.handle);\nThat actually didn't match paths like /static/..., but it did match /javascripts/.... I'm not entirely sure why, but I checked it by logging paths at the top of the handle function.\nChanging the route to this seemed to fix it:\nargs.app.all(/\\/javascripts\\/(.*)/, assetCache.handle);\nThis means the binary junking issue may have been present before the express migration, but because the old routepath only matched /javascript/ it was never detected. I'll double-check that.\n\nEdit: confirmed, binary junking happens pre-merge by fixing the routepath.\n. Here's something to help test the sync fs methods:\njs\nvar fs = require('fs');\nObject.keys(fs).forEach(function(name) {\n  if (name.toLowerCase().indexOf('sync') === -1) return;\n  var old = fs[name];\n  fs[name] = function() {\n    console.log('BLOCKING ' + name + ' ' + (new Error()).stack.split('\\n')[2].trim());\n    return old.apply(fs, arguments);\n  }\n})\nThat will log any fs core module method calls with 'sync' in the name (some of them make nested calls to others, like readFileSync).\nSometimes a reference to these functions will be saved, which we can't overwrite, so we need to patch it before any other code is loaded. At the top of server.js is best, but you'll get a ton of messages until it finishes loading. It will also log when require is called (because it uses these under the hood), or when anything in node_modules use a sync method.\n. > Why not have a separate option in settings.json?\n\nMaybe we should group all these and add a comment like \"These options should only be changed for development\" or something?\n\nI agree, that seems best.\nWe could go the 'dirtydb route', where it's disabled by default but has a warning log line and comments in settings.json. That would have less surprising behavior, but might be overlooked.\n. No problem, sorry about the regression!\n. ",
    "hatxor": "I've corrected the problem, the path was fine, the error was that the user had no privileges to access that directory (owned by root).\nThank you!\n. ",
    "mnorton": "Timestamp: 4/19/2012 10:08:33 AM\nWarning: Error in parsing value for 'background'.  Declaration dropped.\nSource File: https://a248.e.akamai.net/assets.github.com/stylesheets/bundles/github-bc426305c485a26fdfb8b717305d439a674a4394.css\nLine: 1\nTimestamp: 4/19/2012 10:09:18 AM\nWarning: Error in parsing value for 'background'.  Declaration dropped.\nSource File: http://208.113.124.146:9001/static/css/pad.css\nLine: 1151\nTimestamp: 4/19/2012 10:09:18 AM\nWarning: Error in parsing value for 'border-radius'.  Declaration dropped.\nSource File: http://208.113.124.146:9001/static/css/pad.css\nLine: 1189\nTimestamp: 4/19/2012 10:09:18 AM\nWarning: Error in parsing value for 'background'.  Declaration dropped.\nSource File: http://208.113.124.146:9001/static/css/pad.css\nLine: 1199\nTimestamp: 4/19/2012 10:09:18 AM\nWarning: Error in parsing value for 'background'.  Declaration dropped.\nSource File: http://208.113.124.146:9001/static/css/pad.css\nLine: 1220\nTimestamp: 4/19/2012 10:09:18 AM\nWarning: Unknown property 'box-sizing'.  Declaration dropped.\nSource File: http://208.113.124.146:9001/static/css/pad.css\nLine: 1255\nTimestamp: 4/19/2012 10:09:19 AM\nError: Attempt to load undefined module.\nSource File: http://208.113.124.146:9001/static/js/require-kernel.js\nLine: 429\n. I accidentally closed this issue.  I re-entered it as \nhttps://github.com/Pita/etherpad-lite/issues/652\nI'm running up against some serious deadlines on this one, John.  My \nclient is starting to panic because they want it in place in a few \nweeks.  I have everything working except Etherpad Lite.\nI admit that I don't have much experience with GIT.  Is there an older \nversion that might work that I can clone?  v1.0 perhaps?\n- Mark\nOn 4/20/2012 9:14 AM, John McLear wrote:\n\nIssue is closed but no resolution is posted?\nWhat was the fix?  Clear browser cache?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/650#issuecomment-5243669\n. I followed the instructions in the README entry of the wiki and used the \nfollowing command:\n\n|git clone 'git://github.com/Pita/etherpad-lite.git'|\nif you have an alternative git version, I'd be happy to try it.\n- Mark\nn 4/19/2012 10:32 AM, Jordan Hollinger wrote:\n\nIt sounds like a javascript issue, and it is almost certainly the \"attempt to load undefined module\" error in your console.\nAre you running out of master or develop?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/652#issuecomment-5222928\n. I tried clearing the cache.  I tried doing a fresh pull.  Still hangs.\n- Mark\n. Yes, I have the minify setting on false.  It was recommended that I turn it off.\nIt looks like your server isn't serving minified/pad.js?callback=require.define which is causing the module problem.\n\nI have to say that this means almost nothing to me.  Is there a file missing?  Perhaps something is mis-configured?  What can I do to resolve this problem?\n. @etinquis  The answer to your question is sort both.  The EP server is currently directly accessible at http://208.113.124.146:9001.  However, I have also written a proxy application based on the IMS Learning Tool Interoperability standard that allows tools like Etherpad Lite to be adapted as learning tools in a Learning Management System such as Blackboard, Moodle, Sakai, etc.\nI have tested all of this locally on my own computers.  The proxy app works just fine against a local instance of EP-Lite (the Windows binary distro). It was only when I tried to install EP-Lite on a Debian cloud server that I ran into problems.  Since this seems to be the recommended production environment, I'd REALLY like to get it working.\n- Mark\n. I appreciate you guys looking into this.  It's becoming something of a deal breaker for U.Cal.\n- Mark\n. Any ideas on what might be causing this?  The application I developed \nuses the API.  Could any of those calls be messing up the cache?\n- Mark\nOn 4/29/2012 11:29 AM, John McLear wrote:\n\nFine for me...\n-----Original Message-----\nFrom: Ryan Schultz [mailto:reply@reply.github.com]\nSent: 26 April 2012 16:31\nTo: John McLear\nSubject: Re: [etherpad-lite] Etherpad Lite Hangs (#652)\nExperiencing the same.  Tried opening: http://beta.etherpad.org/p/fGnUlX6MEY\nin both Chrome and Firefox, with cleared cache.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/652#issuecomment-5359180\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/652#issuecomment-5405763\n. I haven't tried.  I just got back from an extended business trip.  I'll \nbe looking at this in more depth tomorrow.  I'll be running some \nexperiments to see if I can determine what in my app is causing EP-Lite \nto get screwed up.  Likely it will take some time, since the approach is \ntrial and error, but it would give you (all) more data to see what is \ncausing the problem.\n- Mark\n\nOn 4/29/2012 12:13 PM, John McLear wrote:\n\nSorry but I'm not sure.. No reason the API would be messing up..  The pads loads fine for me in C/FF.  Are they still causing a problem for you?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/652#issuecomment-5406178\n. \n",
    "hejuszhao": "modify the node/server.js according to https://github.com/Pita/etherpad-lite/issues/613 will be fine.\n. Hi, johnyma22.\nI checked out the master branch, last commit is 20 days ago.\nif I visit hostname:9001, it worked out fine, but if I visit it via examples.php or examp_big.php, some messages \"Failed with message Empty or No Response from the server\" appear. And the server went down with \"Maximum call stack size exceeded\" error.\nI modified the node/server.js according to the issue solution provided above. It is OK now.\n(Solution: changing res._send to res____send).\n. actually, if I check the apache2 error log, I can still find some fopen() no response error, when that happned, I got an \"no response\" error.\n. ",
    "rugk": "Any news on this?\nBTW I do not even have a cookie called sessionID. I have this one: express_sid\n. Recent news about this issue for webadmins (or a possible inclusion into Etherpad): You can fix the referrer issue by using a CSP header (a relatively new security feature of major browsers). Just set  the referrer value. E.g. in this way: Content-Security-Policy: referrer no-referrer;\nFYI you can do much more with a CSP. Create your CSP here.\n. Yes, in https://github.com/ether/etherpad-lite/pull/3044, I added this. . So this issue seems to happen again...\n. It also happens with ep_mediawiki instead of ep_align. In https://github.com/ether/etherpad-lite/issues/2981 I had installed both however...\n. The current behaviour is strange: In all \"usual\" situations the chat window is hidden (and not showable in the UI) when accessing the read-only mode.\nHowever if you previously pinned the chat window (in read-write mode), so that it is always visible it is also visible in ro mode. But when you close (aka \"minimize\") it there it gets completely hidden (again).\n. There are no changes in https://github.com/ether/etherpad-lite/compare/develop...charakterziffer:5c025dbde2d38ca8ecb76e3dcd09fb52bb4fe737.\nSee this article for how to make a pull request:\nhttps://help.github.com/articles/creating-a-pull-request/\n. I think the commits were added, so this issue can be closed, can't it?\n. I get this too, but I also get this with Node v6:\n[time...] [ERROR] console - (node:8092) fs: re-evaluating native module sources is not supported. If you are using the graceful-fs module, please update it to a more recent version.\n[time...] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production.\n[time...] [ERROR] console - (node:8092) fs: re-evaluating native module sources is not supported. If you are using the graceful-fs module, please update it to a more recent version.\n[time...] [ERROR] console - (node:8092) fs: re-evaluating native module sources is not supported. If you are using the graceful-fs module, please update it to a more recent version.\n/home/etherpad/node_modules/ep_etherpad-lite/node_modules/npm/lib/npm.js:31\n    throw new Error('npm.load() required')\nIs this also caused by Node 6?\ngraceful-fs is quite up-to-date AFAIK:\nshell\n$ npm install graceful-fs\n/home/etherpad\n\u2514\u2500\u2500 graceful-fs@4.1.3\n. > @rugk This error appears in older versions of node.js too. The package is outdated and you were probably in the wrong directory doing the npm install (there is a src directory with a node_modules in it)\nOkay, anyway I could solve it with a downgrade to Node v5.\n. So if this is the only solution, I think you can also close this issue, because when contributors look for \"easy to solve\" issues they do not really expect such issues...\n. Ah okay, I just solved 1).\nThis is basically done by proxy_redirect and your config works.\nSo I wonder whether 2) would still be useful...\n. AFAIK no. I've seen no one.\n. Actually I found out that the this loading is correct, so this seems to be more an ep_comments issue.\n. Yeah, sorry. When hopping from one issue to the other one I forgot this...\n. Yes, but I still don't like this endless restart loop. Probably a maximum of - say - 10 restarts would be good.\n. Well... no. It is basically what is done by the runSafe.sh script. To fix this this script would have to handle mysql errors differently or something like that, which is not a good idea.\nTherefore I'm closing this issue.\n. As @ldidry explained it is not. And if it is it means the doc is incorrect or ambiguous.\n@ldidry please explain it again, so this issue can be reopened.\n. No, it does not fix this problem as I noticed, but somewhere there have to be the bug...\n. Well... it's a wiki.\nBTW:\n\nGMT was formerly used as the international civil time standard, now superseded in that function by Coordinated Universal Time (UTC).\n\nhttps://en.wikipedia.org/wiki/Greenwich_Mean_Time\nThat's why I'm using UTC there.\n. No, unfortunately not. . > Can you try disabling plugins?\nI have no idea where to start. What plugins could interfere here? (Plugins which change text formatting?)\n. Can I somehow disable a plugin without uninstalling it?\n(I already tried to move the dir in node_modules somewhere else, but if I do so Etherpad crashes...)\n. I have no idea how to do it. I'm also not that experienced in JS programming.\nBut you can tag it with \"good volunteer task\" or something similar.\n. But which one... :laughing: \nNote: Of course I have looked for dupes, but I found no one.\n. Okay, now I disabled all plugins and I can see that this is not an issue with a plugin.\nI could also identify the requests where this is set. You can see them in this gif:\n\nSo to summarize:\n- the testcookie is first transmitted by the second socket.io request after the request to locales.json.\n- the tokenrequest is first transmitted by the POST request to socket.io\nI could reproduce it with the latest dev version (a7405825a8fa011bdea2a50fd6b0f2756abd674d).\nAnother thing I noticed:\nWhen the connection breaks (because I e.g. restart Etherpad-lite) and Etherpad tries to connect to the Etherpad server again, the token cookie is restored:\n\nReproduce:\n1. Load an Etherpad\n2. Delete the cookies test and token\n3. Cause Etherpad to close the current websocket connection and having to reconnect (e.g. by restarting the Etherpad server)\n4. When the reconnection succeeds the  token is set again\n\nI also found the places in the source code where this cookies are presumably set:\n- test: https://github.com/ether/etherpad-lite/blob/a3188cf3574234f17f927499c2f739c2bd5fd9d3/src/static/js/pad.js#L505\n- token: https://github.com/ether/etherpad-lite/blob/a3188cf3574234f17f927499c2f739c2bd5fd9d3/src/static/js/pad.js#L194\n\nSo to come back to this issue about these cookies, here is what I think should be changed:\n1. I don't like test cookies. Can Etherpad life without setting this cookie? Please remove it.\n2. The token cookie circumvents proxy_cookie_path of nginx. Can you please fix this?\nAs already said other cookies like language are set correctly.\nAnd BTW: Please reopen this issue.\n. Reverse proxy. Otherwise I could of course not use proxy_cookie_path.\n(Still reopen, please)\n. Please reopen this issue.\n. Another thing BTW: In the local storage this value is saved:\ndebug = undefined\nYou jsu7t need to create a new pad to notice this.\n. Okay, I've created an issue.\n. So actually it is a module called \"debug\". Do you really need that module? What about removing it?\n. Okay, back to socket.io: https://github.com/socketio/socket.io/issues/2610#issuecomment-236422331\n. So back to you, see this reply:\n\nPlease see https://socket.io/docs/logging-and-debugging/.\nIf you're using webpack, you could use something like strip-loader to remove those lines from your bundle (see example)\n\nhttps://github.com/socketio/socket.io/issues/2610#issuecomment-302854781. Thanks for the tip. I'll try it out.\n. BTW: It worked!\n. Also partially fixes https://github.com/ether/etherpad-lite/issues/2985, does not it? At least the test cookie get's away. That's good! :smiley: \nStill the path value of token is set incorrectly and also this debug in the local storage is unnecessary. \n. I can do that soon. However I already commented on some source code lines where I see that this won't work, so could you please fix this first?\n. For now I already added this header to the config.\n. Ah okay, so I'll test it soon.\n. At first I had some issues with caching: You should consider loading the files with file.css?v=0.3.\nSo but now when I see it working:\n- test is gone.\n- SecureFlag is set for prefs and token, but not for express_sid, io and lang.\nAdditionally I get a \"cookies could not be found\" in the browser when Etherpad is loading (that's before the cookies with SecureFlag are set), but it disappears quickly. Anyway it is a message, which is at least confusing.\nAnd express_sid is still the only cookie with HTTPOnly flag.\n. Any news about this PR? @Gared, could @DanielBickley's advice help you?\n. Now big crosslinking...\nSee https://github.com/JohnMcLear/draw/issues/246#issuecomment-229452503\n. > We don't have enough tests to check if our software is still running with the latest version of an updated library\nYeah, that's a requirement for sure. But it is also not a bad idea to add more test. :wink: \nBut you're of course right if there are only few tests, this service won't help you.\n. As an alternative maybe consider https://david-dm.org/. This shows you a warning when your outdated dependencies have known security vulnerabilities.\n. I seems your Travis-CI test fails, because some secrets are missing. In any case this PR does not cause this issue.\n. Okay, reported.\n. As from the error message somewhere aloes \"minimatch@1.0.0\" is used. Do you know where?\n. And BTW the current version of Mocha is 3.2.0 and it has been said there an up-to-date version of minimatch is included. So you might update that too.. > \"Troubleshooting information\"\nSo yes, admin page. But I'd say this is console output. However, I also cannot reproduce right now, sorry\u2026 Maybe next time I'd have more information if the question for it would not come two years later\u2026 :stuck_out_tongue_winking_eye: . Done\n. The last release was at 23 Dec 2016, so I think there are quite a lot code changes, are not there?. Well\u2026 if you had enough money, you could hire people. :wink: \nBut back to this issue\u2026 Before anyone can create a PR for that, you of course need to signup there and create the account. Editing the Readme or so is only a small step afterwards\u2026 :smile: . I think this won't work for reverse proxys as they usually forward requests over HTTP. You should honor the X-Forwarded-Proto header - and probably also the standardized Forwarded header, but AFAIK the unofficial X-Forwarded-Proto is still more common.\n. Same as above. This does not honor reverse proxys.\n. ",
    "hanwenbo": "@rugk SessionID need you through the API interface generated, but how to set etherpad sessionID in other domain name, I haven't solved, is currently a manual change. There is no implementation, don't know how do you solve. @tm-linkwerk Did you solve?. Also, this program is not under a domain name, it's not reasonable to cross-domain replacement. Website document a little humble, I suggest to write it.. I feel ha document you write wrong, you probably mean to obtain the token cookie, and then obtain authorID, authorID again create sessionID deposit into the cookie, do so to circumvent your limits, if the right...That your document writing has a problem, I don't know how authourID I create session, I created the also useless. How to get the current user's author ID. Other applications authorID if get the current user. Other applications if the current user's authorID\n. xxx.domain.com   want  to get    etherpad.domain.com 's  current user's authorID. I want to influence in the call interface of etherpad.domain.com, xxx.domain.com, etherpad.domain.com's current authorid, is invalid. I call etherzer.domain.com in xxx.domain.com and want to affect the current authorid of etherpad.domain.com, but it is invalid\n. My main purpose is to achieve two applications of user information synchronization\n. I do not know if the document is wrong, my idea is this, through the etherpad-lite api interface to create a mapping authorID, and then create the groupID corresponding to the authorID session, so that users can access the pad, but I so Dry, open the pad you will find the current authorID is still created by the system, through the cookie token, you can go to the database to find the authorID, and I created through the interface authorID does not match, perhaps I understand the wrong interface, Hope to find a solution. Thank you, hope someone can help me. Has been solved, can change the sessionID switching users. How to update the etherpad under other domain name under the domain of the session. how to renew sessionID?. https://github.com/ether/etherpad-lite/issues/2934   I met problems and this person should be the same . If I change a little can open. What should I do?The background now also can't open it Want to delete some data. The content of the test is too much.... Settled, I put the 29G dirtyDB files, downloaded from the server, use my MAC, it took just six minutes to open.Performance may be apple's read too well\n\nDon't know me so others will meet a large number of tests, also can solve this. @lpagliari can. ",
    "webzwo0i": "it is setUpTracking(), current behaviour in ff is that it is displaying one pixel line for top and bottom - looks nice\nchromium does not show the top pixel line and the bottom line is unvisible too, because the (blue) text selection includes  bottom padding :-(\n. do you use the binary version of openbsd's abiword package? they don't include the command plugin. abiword immediately exits and stdoutCallback is a null object and not a function because doConvertTask has not been called yet.\ndoes it work if you replace \"Windows\" with \"OpenBSD\" in line 30 in Abiword.js?\n. I think I have fixed this one and imo these are two bugs: new types of lists are opened - even if they should close an old list-item first. also when lists are closed, they need to first close list-items. The fix for this is in https://github.com/webzwo0i/etherpad-lite/commit/d71b11f4b2845f82018184ad0a2383d2147fcf8c\nThe second, actual, bug here is that multiple lists are not opened at once according to the levels in the current line. So I made the code aware of the how many levels of lists we are closing/opening, this fix is in https://github.com/webzwo0i/etherpad-lite/commit/6ca2c91fdf412358ffb71a1bf298bb8705b96308\nI am still debugging and want to share this one because I noticed that you might be working on the same bugs at the moment. I have test coverage for this bug in https://github.com/webzwo0i/etherpad-lite/commit/53ca26d030649f3998a5bc5b3eb5953afa5eff8e \n. http://www.w3.org/TR/DOM-Level-3-Events/#trusted-events says that browsers should differentiate between events that come from user interaction (keypress etc) or from e.g. javascript.\nthis is important because otherwise js could trigger privacy-related actions (e.g. auto completion, clickjacking activity, etc)\nif i understand this correctly that means there is no easy way to test these user actions without a custom built browser that ignores the restrictions. i think even browser extensions are not allowed to circumvent them.\nthe only thing i can think of is having the desired behavior within the event handlers, possibly checking the event origin with Event.isTrusted so that only in case the tests are run the emulation takes place and if real user actions are seen the normal behavior happens.\nin fact this does happen e.g. for chromium page up/page down tests, which do not work in ff because there is specific chromium related code in the source that prevents the default behavior. we would need this kind of code in all caret-related handlers to support testing\nusing sendkeys i could fake all the keys that do not work e.g. page up equals setting the selection to the first line, arrow down means finding the current aceline that holds the selection and selecting the next one etc\nbut still i could not find a good place in ep where we could put a call to some updateselection function that gets triggered and updates the view. if i would find such a place testing would imo be possible and straight forward because for selection updates we do not seem to need trusted events.\n. If you see the screenshot like above then what is the error message and line it refers to?\n. i think the problem with importing is related to another issue, see https://github.com/ether/etherpad-lite/pull/2027\ni believe i fixed the export issue in https://github.com/webzwo0i/etherpad-lite/commit/86791707cd12064a1e69abeedaacaf34e0db9d82\nthe problem was that tags were not marked to be closed depending on the order they appear in propVals. so if  should be closed at a point were  is open and got inserted after  it does not close  (but takes the true branch at line 263).\nlater i realized that this would result in additional space consumption, because tags are closed and reopened immediately, even when this is not necessary. (ab)\nthat is why i refactored everything:\n1. mark all attributes of this operator as used\n2. find out which is the outer most tag that must be closed before we can safely insert new tags\n3. close every tag up to and including the one found in 2.\n4. open every tag that is used in the op and not open\none optimization problem still remains: without inspecting subsequent operator's attributes we cannot find an optimal order for opening tags because we do not know, if in the next op  or  is used, we do not know if we should open  first and have ab or bb\ndunno if this is worth the effort\ni really want to test this now, but couldn't come up with a way to use export in tests/frontend (but believe i will soon) so i wrote a little script that tries every permutation for a string consisting of three substrings (abc), which is a total of 250k different combinations, feed it into ep with curl and checked the results and they seem to be correct.\ni really would appreciate some clever and complex style combinations to test and also your opinion about the refactorization\n. now i did: https://github.com/ether/etherpad-lite/pull/2032\n. I know this is not good style (the alternative is to provide a method for writing/reading without caching in ueberDB or provide a method to change the cache size on-the-fly) but for me the following works. I have a problem removing the db-items though. It increases the startup time by writeInterval+5 milliseconds.\ndiff --git a/src/node/db/DB.js b/src/node/db/DB.js\nindex 7273c83..a0b6515 100644\n--- a/src/node/db/DB.js\n+++ b/src/node/db/DB.js\n@@ -50,6 +50,21 @@ exports.init = function(callback)\n     //everything ok\n     else\n     {\n+      db.set(\"utf8support4\",\"\\uD834\\uDF02\");\n+      for (var i=0;i<db.db.settings.cache+1;i++){\n+        db.set(\"UTF8TEST\"+i,\"0\");\n+      }\n+      setTimeout(function(){\n+        db.get(\"utf8support4\",function(err,res){\n+          if(res !== \"\\uD834\\uDF02\"){\n+            console.error(\"The database does not support Unicode above U+FFFF\");\n+            process.exit(1);\n+          }\n+        })\n+      },db.db.settings.writeInterval+10)\n+      //for (var i=0;i<db.db.settings.cache+1;i++){\n+      //  db.db.remove(\"UTF8TEST\"+i,\"0\");\n+      //}\nerror handling is missing. What it does is 1. filling up the cache and 2. waiting for ueberDB to flush it. I see no reason why ueberDB should not flush (iirc it will block if the cache is full and not written to db).\nCombined with the \"set names utf8mb4 collate utf8mb4_bin\" (https://github.com/ether/etherpad-lite/issues/2516#issuecomment-80506007) this could be a work around\n. for me http://openmatt.org/2013/10/02/telling-the-webmaker-story/ or other sites where the embedded pad is hosted on another domain does work if i disable blocking 3rd party cookies.\nafter visiting a pad's url its cookies will show up in chromium debugger and everything works. when i go to a site that embeds a pad the cookies again are visible in the debugger, but they are not send over the wire! (Cookie:-header is unset) If I manually delete them and reload, they will not show up on reloading the site that embeds a pad.\nin chromium this is \"block third party cookies\" and in ff it is network.cookie.cookieBehavior = 1 which prevents embedded pads from working. dunno of a solution except proxy, but that won't work if i want to embed a pad thats on another domain and don't want to redirect all traffic via my own domain. another possibility could be to not use cookie-based sessions if a pad is embedded.\nnot sure if browser implement p3p http://kb.mozillazine.org/Network.cookie.p3p\n. Tried to reproduce what you said, but did not see behavioral change. The reason seems to be that ethercalc doesn't use cookies while the installation at riseup does so even with no cookies allowed ethercalc will work.\nDon't know why, but I grepped for login/auth in ethercalc and couldn't find anything special, so it seems they don't use authorization at all.\nFor a quick test I only left the accept(null,true) call in cookieParser function at https://github.com/ether/etherpad-lite/blob/develop/src/node/hooks/express/socketio.js#L29 and got a warning that my browser doesn't support cookies. However everything works fine because it does not require a cookie anymore.\nCookies have one advantage: If the URL of one of your /socket.io/1/xhr-polling/VERYSECRET?t=timestamp calls is leaked than someone can steal your session. In contrast, it is harder to steal your cookie out of your browser. But this is only true if the cookie value and the secret value in the URL differ. Hopefully you will never see the URL with session identifier and this way never accidentally copy&paste it. \ndid this make sense & helped you?\n. I might have misunderstood @deleuzer in https://github.com/ether/etherpad-lite/issues/1944#issuecomment-30479337 so I thought it was a test against ep-lite on one hand and ethercalc on the other.\nAre you on debian? They recently patched chromium to disable 3rd-party cookies by default, see https://github.com/ether/etherpad-lite/issues/1944#issuecomment-30479337\nIts not upstream in chromium as far as I can see and I don't know if other distributions applied it. Its ported to testing and sid, but not backported to wheezy according to http://ftp-master.metadata.debian.org/changelogs//main/c/chromium-browser/chromium-browser_31.0.1650.63-1~deb7u1_changelog\nRemoving ~/.config/chromium and installing a version from before this patch fixed it for me.\n. uups, somehow the link got confused\nhttp://anonscm.debian.org/gitweb/?p=pkg-chromium/pkg-chromium.git;a=commitdiff;h=743a0a6ff577ee8bb61d7810e3a6dd96faca3ac3\n. oops, did not know it existed\nlooking at  https://bitbucket.org/tghw/etherpad/src/81287c8af1ac7133316fd4416b13a64c9faba321/trunk/etherpad/src/etherpad/pad/padutils.js?at=default#cl-93 it seems to me that in the original etherpad this meant pro-padids and this way it got introduced in ep-lite. the last traces actually using it got removed in https://github.com/ether/etherpad-lite/commit/ab7f7506b96392cda68272549df1ce3e4eabbbec but were already commented at this point.\nin stresstest it is just used to ensure the padid equals the globalPadId so i think it would be save to remove it in stresstest\n. happens only when sessionKey is an empty string and the pad is embedded via iframe\n. hmm or maybe not...\ni can reproduce the original bug no matter if pad is embedded or not. if sessionKey is not set and randomString is called in src/node/utils/Settings.js:204 it returns undefined.\nhttps://github.com/ether/etherpad-lite/pull/2068 but no clue why you don't have this err. node version is v0.10.24 here\n. did the same steps as in https://github.com/ether/etherpad-lite/issues/2063#issuecomment-33162005 settings.json is generated from settings.json.template. when i remove APIKEY.txt it contains \"undefined\" after execution of ./bin/run.sh. also, readonly-links which are generated via the same mechanism are \"r.undefined\".\ncd etherpad-lite\ncd src/node/utils\nnode -e \"console.log(require('./randomstring')(2))\"\n=>undefined\n. yes, please give me some days to test\n. https://github.com/webzwo0i/etherpad-lite/commit/fd66cfd04541747d40cf34e7fb9309f9a0631678\n. in case two clients edit concurrently and submit the same cs, the first client gets ACCEPT_COMMIT and the second gets NEW_CHANGES.\nno one is disconnected anymore, however i need to test if the second client has a problem updating its state to the latest head revision - only node-side so far\n. hi, I had this discussion in the morning. \n08:47 < webzwo0i> mutante: i debugged the pad. you normally should not do this, but if you have a database backup (and after making export/etherpad to have a backup of \n                  the pad) you can change three database entries and the pad should be working fine again. the three mysql commands are\nmysql> update `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS-iteration-planning\";\nmysql> update `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS-iteration-planning:revs:7200\";\nmysql> update `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS-iteration-planning:revs:7300\";\n08:49 < webzwo0i> can you check if your database is running utf8mb4 charset or utf8?\n08:51 < webzwo0i> oha ups please dont apply the mysql-commands. maybe i was a little bit to fast :-) need to check something first\n09:08 < webzwo0i> mh nope should be fine, please test... it would be good to know if you ran latest release or something else and which plugins you have enabled\n09:47 < webzwo0i> I don't know if you ppl at wikimedia know each other but if you can find out who the user \"Brian\" is could you ask him what browser he is using? the \n                  reason is I can see what the bug is, but I cannot trigger it in my browser (only manually, but because you ppl are not hostile it was probably not on \n                  purpose)\n09:49 < webzwo0i> (so we probably have two bugs, one server-side and one client-side)\n. the info I need is if your database is utf8 or utf8mb4\nI have extracted the offending changeset, the timeslider will not work around these revisions if you don't also apply \nmysql> update `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS-iteration-planning:revs:7105\";\ntogether with the updates from above this should make your pad reusable again\n. no need to find out the user/browser, I can reproduce the bug now. thank you!\nBecause you are on latest release you need to insert \"charset\":\"utf8mb4\" into settings.json inside dbSettings. This is now in settings.json.template. You can check if this is necessary with\nSHOW VARIABLES LIKE 'character_set%';\nSHOW VARIABLES LIKE 'collation%';\nclient (and maybe connection?) should indicate utf8mb4, if not your database-tables itself are capable of storing 4 byte utf8 but the server does not expect 4byte utf8 an the client-connection.\nThis does not repair your old pads. You can however iterate over all your pads and use bin/checkPad.js to get an idea how many and which pads might have similar problems. Depending on the circumstances it can be very easy to repair (although some characters will be broken) like in the above case. If there are lots of broken pads it might make sense to automate this.\nThe reason these problems are not seen when people actually are writing is that most sites use ueberDB's internal cache for performance. This pure-javascript cache is totally aware of Unicode. As soon as the cache is flushed or etherpad is restarted it needs to get the entries from the database.\n. I am following the phabricator ticket at wikimedia but don't have an account there so I post it here.\nYour second broken pad can also be repaired using:\nupdate `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS_Retrospectives:revs:1120\";\nupdate `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS_Retrospectives:revs:1254\";\nupdate `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS_Retrospectives:revs:1216\";\nupdate `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS_Retrospectives:revs:1108\";\nupdate `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS_Retrospectives:revs:1106\";\nupdate `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS_Retrospectives:revs:1200\";\nupdate `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS_Retrospectives:revs:1300\";\nupdate `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS_Retrospectives:revs:1400\";\nupdate `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS_Retrospectives:revs:1500\";\nupdate `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS_Retrospectives:revs:1600\";\nupdate `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS_Retrospectives:revs:1700\";\nupdate `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS_Retrospectives:revs:1800\";\nupdate `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS_Retrospectives:revs:1900\";\nupdate `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS_Retrospectives:revs:2000\";\nupdate `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS_Retrospectives:revs:2100\";\nupdate `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS_Retrospectives:revs:2200\";\nupdate `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS_Retrospectives:revs:2300\";\nupdate `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS_Retrospectives:revs:2400\";\nupdate `store` set `value` = replace(`value`,'????','??') where `key` like \"pad:iOS_Retrospectives\";\nThe 4 question marks are the symptom because, iirc, the single bytes in four-byte UTF8 are not valid UTF8. (In UTF8 only the first 127 chars are represented as single bytes, multibyte UTF8 probably uses bytes above 0x7f). So 4 question marks actually represent one 4byte encoded UTF8 string, which represents an code point outside the Basic Multilingual Plane (most probably an emoji :-D). In Javascript those code points would be encoded using UTF16's surrogate pairs, which are 2 16bit-values. \nThe checkRep-problem is that in changesets we not only store the characters but also the length of the change. Javascript's length() function, however, counts surrogate pairs as 2, so e.g. an emoji has length 2. When mysql decodes the string of a changeset to question marks than our representation of a changeset is not valid anymore.\nReplacing it with two question marks is a hack not a real solution because we have no idea which code point the user entered in the first place (but as long as the value is in ueberDB's cache we could get it out from there).\n.  it would produce wrong results if someone actually uses four question marks (our length value would indicate 4, if we replace it with 2 question marks we would get a checkRep error in return) so if we would automate a repair script we would need to check if the string length after applying our change is conforming to the \"how many chars are added\"-value of the changeset.\nto circument the problem if someone actually used four question marks and additionally code points like emoji we also need to track the position inside the document where we replace the question marks.\nalso note that not every checkRep-error is caused by broken encoding\n. will try to add test coverage for ordered lists now, I also noticed that sometimes start-numbers of ordered list are missing (or that the editor always does some magic on them and they are never there, but then should exist on export again...) but left the tests because the other list-stuff code affected all types of lists\n. the assertion of @akosiaris can be triggered this way, not sure if its the same though:\nopen a new pad and remember the length of the first line (default:20)\nnotice the two newlines at position 21 and 22.\nin a browser add a char at position x and immediately remove it, eg in the default text before the word \"viewing\" at position 60\ncompose a changeset with a range including position 22 but with only one line; notice that \"1o\" in our case is 60 which means before the word \"viewing\": Z:6c<1|1=m=1o-1$\nnotice 1=m should be 2=m.\nsending this in the browser results in \"Uncaught Error: Failed assertion: Can't have op.lines of 2 in attribution lines\"\n. i cannot reproduce the bug of @akosiaris (would need the actual changesets) but I found a situation where the same error message occurs. in this situation, the changeset is accepted by the server, and all connected clients disconnect, because they apply an operator that says it covers 1 line and x chars but it really covers 2 lines and x chars. \nafter reloading, the pad is ok (the bad changeset has been applied correctly). however, entering the timeslider at the specific revision will crash the whole server-side node, essentially because of the same reason the clients disconnected.\nError: Failed assertion: Can't have op.lines of 2 in attribution lines\n    at Object.error (/home/etherpad-lite/etherpad-lite-tests/etherpad-lite/src/static/js/Changeset.js:39:11)\n    at Object.assert (/home/etherpad-lite/etherpad-lite-tests/etherpad-lite/src/static/js/Changeset.js:53:13)\n    at outputMutOp (/home/etherpad-lite/etherpad-lite-tests/etherpad-lite/src/static/js/Changeset.js:1167:15)\n    at Object.exports.mutateAttributionLines (/home/etherpad-lite/etherpad-lite-tests/etherpad-lite/src/static/js/Changeset.js:1213:9)\n    at async.series.callback.forwardsChangesets (/home/etherpad-lite/etherpad-lite-tests/etherpad-lite/src/node/handler/PadMessageHandler.js:1395:19)\n    at /home/etherpad-lite/etherpad-lite-tests/etherpad-lite/src/node_modules/async/lib/async.js:486:21\n    at /home/etherpad-lite/etherpad-lite-tests/etherpad-lite/src/node_modules/async/lib/async.js:185:13\n    at iterate (/home/etherpad-lite/etherpad-lite-tests/etherpad-lite/src/node_modules/async/lib/async.js:108:13)\n    at /home/etherpad-lite/etherpad-lite-tests/etherpad-lite/src/node_modules/async/lib/async.js:119:25\n    at /home/etherpad-lite/etherpad-lite-tests/etherpad-lite/src/node_modules/async/lib/async.js:187:17\nso the error is justified but it should happen before the changeset is applied in the first place\n. does there exist any testcase or program I can use to check if swagger still does its job?\n. a client can lie about those values\nif he does, the pad is corrupted\nthose were reported in the issue tracker, i will look up the numbers\n. https://github.com/ether/etherpad-lite/issues/2107 says checkRep failed\nin a pad with 11 lines on every line is some text, a client that sends Z:size(base36)<(size-1)(base36)|10(anything bigger bigger than 9 but not in base 36!!)-(size -1)(base 36)$ will trigger checkRep failed-errors and broken pads.\n. Sorry :(\nI did not test the \"be more strict in checkRep\"-part, I bet this is just an off-by-one.\n. Is your mysql really utf8? Had the same issue with special character in author names and non-utf8 database. Also had this issue with the dirty.db-sttore.\nBut yes, thats another unrelated bug\n. also happens with empty authors. the only empty authors I see are from the newline changesets automatically inserted by etherpad\n. the issue in the original bug report is resolved in develop, so if you experience 'Uncaught Error: The module at \"ep_etherpad-lite/static/js/pad.js\" does not exist.' please update.\nWill open another issue for this other crash report\n. i noticed that with this changes in place importing the bullet list from https://github.com/ether/etherpad-lite/issues/1604 does not work. maybe the editor somehow recovers from wrong newlines\n[edit]\nshould be fixed with https://github.com/ether/etherpad-lite/commit/b9bad7931ede36c07bf19265f293c766dd500f07\n. I put the mail address there... :)\nLike with the other pull request, I must base them on 1.4.1 (but applied to develop the frontend-tests run through).\nI have another script at https://github.com/webzwo0i/ep-debug-helper/blob/master/checkrep-line-assembler-not-finished.rb\nIf applied to a new default pad, it sends a changeset \"Z:6c<1|3=g=1o-1$\" which is wrong, because within the first \"g\"(16 in base 36) letter there are less than 3 newlines. All clients will disconnect with the error \"line assembler not finished\" and if you reconnect and go to the timeslider the whole node instance will crash with the same error. Might be that this is the same as https://github.com/ether/etherpad-lite/issues/2375\nWith the commits in this pull request, the changeset is not applied.\n. I reverted the try-catch block in handleUserChanges because this was also part of https://github.com/ether/etherpad-lite/commit/7df944b3fd257e2f35bfea93f887c17357b7d161\n. yes\n. the frontend-tests didn't like the var inside while-loop  https://github.com/webzwo0i/etherpad-lite/commit/0263d30b3771badc3db8b2d955e45422516e290d\n. :-( did you set the html via API or manually in the browser?\nI tried to replicate but if I put your html in importexport.js (one time with \"br\" - this will close the first ul, then newline, then open two uls; the other time without \"br\" it won't close the first ul and just open one other ul) everything seems to be okay.\nSo I wonder if there is some difference between setting via API and setting directly in the editor/doing an import.\n. r u sure this is still a problem? I see that you have this in the backend tests (\"ULhtml\") and I think it works (currently only the \"import crappy html\"-test fails).\nI will add a case for this to the frontend-tests but as I said above it also seems to work there (with and without the newline)\n. Actually I did a grep in all the public plugins on npmjs for applyToAText and applyToText and not a single plugin used this functions directly. Also, they are not exposed in any (http) API endpoint(maybe indirectly somewhere?). So for me this is not a \"real\" API but just a function that is exported - like so many others in the current design of epl.\nYMMV regarding dynamically constructed return values(array is a normal object type in EcmaScript), but think about this: CoffeeScript contains \"coffee\" - nice! Javascript contains...\"java\" - duuh! :)\nRegarding the strange throwing: You are right (and I just realized that @marcelklehr asked the same question some time ago and I did not answer) that this is not good style. I will fix it in this other pull request. I remember asking myself the same question and was sure at that time that it is the better way to throw. mhh, thx for the hint\n. travis says it could not run the tests: Missing required arguments USERNAME, API_KEY\nNo output has been received in the last 10 minutes, this potentially indicates a stalled build or something wrong with the build itself.\n:-(\n. But I find this mocha-stuff in tests/frontend/specs so hard to do. Maybe I should learn how to fuzz a little bit better in the tests so I do not have to think of all the possiblibities and edge cases myself but still gain some trust because we could try far longer and complex pads.\nBtw: To find the places that need coverage I use https://github.com/gotwarlost/istanbul \nThe node-part is very easy, you just have to execute ~/node_modules/.bin/istanbul cover src/node/server.js within eplite's directory, run the backend&frontend-tests and get coloured html in the coverage directory after exiting eplite.\nSome time ago I also got client-side code coverage to work with https://github.com/gotwarlost/istanbul-middleware but this is broken for me atm. For this I needed to add a \"afterEach\"-hook to every test-file and in this afterEach-hook I did a $.post('http://127.0.0.1:8888/coverage/client',JSON.stringify($('iframe')[0].contentWindow.coverage)) that transmits the \"coverage\" object from the client. This objects is there after you instrument every file that you want covered with \"istanbul instrument\".\nThere needs to run a istanbul-instance that parses these POST-requests but this is just:\nvar im = require('istanbul-middleware')\nim.hookLoader(__dirname);\nvar express = require('express'),\napp = express();\napp.use('/coverage', im.createHandler());\napp.listen(8888);\nThan you can request /coverage/download and again I got a nice coloured coverage report. I wanted to combine the node- and client-coverage report but somehow got stuck...\n. Cannot reproduce either\n. Does this need additional attention to src/package.json? It is now \">=2.1.0\" and if swagger-node-express updates to 3 and removes the legacy code, would npm update epl instances to use the new release, or would it still stick to 2.x? because in case they update, we must switch back to using constructor style \n. i tried to debug this, but i think i crashed beta.etherpad.org... i am so sorry, could you paste the stacktrace? happens at revision 85 in pad \"test\", so i would look at this specific changeset\n. yep, this repo is definitely worth some stars :-)\n. it happens when abiword dies before it processed a first import/export task\nThis would call convertFile that would call queue.push that would execute doConverTask. In that  stdoutCallback is assigned a function\n(so its reproduceble if you start epl under linux and kill abiword right after that)\nI think it should also happen under linux if abiword dies during an import task, because in abiword.stdout.on('data',function (data){}) stdoutCallback is also set to null.\n. seems to be my list code again :( will look into this\n. do you know if an ul without a class should be indented or bullet style?\n. OK. I tried with an empty site and ul li test /li /ul and firefox chooses bullet, so I think this makes sense. Regarding paste events: I have a small PoC at https://github.com/webzwo0i/ep-debug-helper/blob/master/selenium-paste-poc.rb and it seems, that if I directly use selenium I benefit from trusted events. I copied the thanks-list from etherpad.org (\"Many individuals, companies and organizations have...\") into a new pad and run my script and it pastes the whole list again. As far as I understand we use travis and saucelabs, and saucelabs does selenium. So alongside our mocha-tests, maybe we can call selenium directly on saucelabs and implement some tests (key events, pastes, caret) as dedicated selenium tests? In my setup I have only firefox right now.\nMy patch for the bug here is at https://github.com/ether/etherpad-lite/pull/2449 \nplz test\n. I can reproduce at least one case where this happens:\nWithout sending CLIENT_READY send something like 4:::{\"padId\":\"lala\",\"sessionID\":\"lala\",\"token\":\"lala\",\"password\":\"lala\",\"type\":\"COLLABROOM\",\"component\":\"pad\",\"data\":{\"type\":\"USERINFO_UPDATE\",\"userInfo\":{\"userId\":\"blabla\",\"ip\":\"127.0.0.1\",\"colorId\":\"#ec1da9\",\"userAgent\":\"Anonymous\"}}}\nnotice USERINFO_UPDATE should always come after CLIENT_READY but it bypasses the check in SocketIORouter.js:90 (because all fields are present in the message).\nBecause there is no valid session, there is no valid author in PadMessageHandler.js:532 and the database query returns \"null\" in CacheAndBufferLayer.js:294 but the result is accessed as if it was a real object in CacheAndBufferLayer:317 (e.g. null['colorId']) - that is why it's crashing.\nNot 100% sure, but maybe we should change PadMessageHandler.js:260 to \"return\" instead of \"callback()\"? Would this make sense, so that finalHandler is never called in case the session is not authorized?\n. backend and frontend tests all pass with \"return\" instead of \"callback()\", but actually I cannot test my script which causes epl to crash against 1.5, because I haven't figured out how to talk to socket.io yet. (it changed a little bit since 1.4)\nhowever this bug was also there in 1.4 and when I test there with the change in place the bug is gone.\n. net yet :(\nwill try tonight\n. I still have problems getting the \"bad USER_INFO\" to apply in 1.5. (message gets dropped in engine.io because there is no valid session, which is good but it prevents the bug from happening)\nWill try to find other messages that could trigger it\n. wow, debug time/changed-lines-of-code ratio here is pure madness...\nI do have a small script now that produces the same stack trace as above against 1.5 and it is the same bug as above. plz pull\n. yes :)\n. not sure if I can come back to this soon...\nin decimal\n3476<48|110=3425|2-27-22*a|1+1$ (oldlen:3476, newlen: 3428, 3425 chars + 27 + 22 + 1 = 3475 )\n3396>6|19=3334=39*5+6$ (oldlen:3396,newlen:3402, 3334 chars + 39 + 6 = 3379 )\nthe first is off by one, but I think I have seen this behaviour due to the \"\\n\" that is appended (I don't know why exactly) sometimes at the end. this cs basically says that from 3425 49 chars are deleted and then the attribute for all remaining chars between 3474 and the end is changed to a - nothing special I would say.\nbut the second seems as if something is wrong... its off by 20! its an attribute change-only cs (attribute 5 is applied to position 3373 until 3379) but I wonder why it says \">6\" (6 chars are added).\n. could you possibly share the pad content or look by yourself if something special is at those positions? (e.g. a link are something)\nto get the pad with mysql:\nmysql> select * from `store` where `value` like '%Z:2ok<1c|32=2n5|2-r-m*a|1+1%';\nshould give you pad&rev, then http://installation/p/the-pad-url/the-rev-found/export/html from this rev and the rev before and after?\n. strange code is:\n      changeset = changesets[startNum];\n      var pool = pad.apool();\nfor(var r=startNum+1;r<endNum;r++)\n  { \n    var cs = changesets[r];\n    changeset = Changeset.compose(changeset, cs, pool);\n  }\nchangesets was filled before with rev->changesets mapping so both values should be there o.O\ncan you check if non of the above changesets is in the database?\nalso: it is called via PadMessageHandler.js:1636 (composePadChangesets). You could grep all you're plugins to see which actually use this function.\nIn the core node I only see one usage, namely in getChangesetInfo via handleChangesetRequest which gets called on CHANGESET_REQ messages.\nThose are only used in timeslider-code right?\n. yeah only in broadcast.js which is used in timeslider (and maybe in plugins?). If this is right, then we could write a loop that tries to timeslide all pads that where active at about 2015-02-03 17:13:56\nso you should get the pads with timestamps between 1422983630 (second 50) and 1422983639 (second 59). could you grep for this? SELECT * from store where value like '%1422983630%';\n. in the last message the select was wrong it should be something like:\nSELECT * from store where value like '%142298363%'; or even SELECT * from store where value like '%14229836%'; maybe you have luck and not to many pads where active at this time.\n. I probably triggered it right now, is there a stacktrace?\n. could you send me SELECT * from store where key like '%pad:test:revs%'; via mail? (its probably not the same stack trace as above, but I would guess this leads us to the changeset, which leads us to the code that let this cs through - we might still need a second fix in order to not crash old pads that have similar cs inside while still maintaining functionality)\n. yeah 9 hours ago was probably me and the revs would help I think:\nmysql -u username -p -e 'select * from store where key like \"pad:test:revs%\";' your-database|gzip >test.sql should make it smaller\nSELECT * from store where value like '%142303936%'; should show the active pads/user sessions during the crash before 9am\n. the changesets are definitely broken... some contain to many backslashes. in case of \"\\n\" this might lead to a newline in the cs-metadata when in reality it will be just a normal character. this could imo cause the character mismatches crashes\nsame thing happens for '\\\"'. this will essentially unescape the second backslash so that there is a double-quote left. this will crash all code that things this is valid JSON \ngithub somehow destroys the backslashes, in both cases I have 2 of them. Unable to replicate up to now. Will look at core if there is a reason for this behaviour but in any case a list of installed plugins at beta.etherpad.org would be great too.\n. you could try in the database:\nmysql> select * from `store` where `value` like '%\\\\\\\\%\"' limit 1; resp (4 backslashes)\nmysql> select * from `store` where `value` like '%\\\\%\"' limit 1; resp (2 backslashes)\nmysql> select * from `store` where `value` like '%\\\\n%' limit 1; (2)\nto see when they first appeared. Maybe the timestamps could help us to find out if its a commit in epl or in a plugin...\n. strange. Must think about this again...\nAny crash happened during the last 45 minutes? I tested the timeslider and export of the pads you sent me, thats why I am curious.\n. @dmitryuv  I don't understand the details well enough, but  shouldn't there be some non-ascii characters in the specific changesets that cause the crashes? I did not check all of them, but at least some have ascii-only characters and still wrong backslash-escaping.\nI noticed that there where some mysql-related changes in ueberDB last October/November, I think I am gonna test without them\n. I tried to rebuild the latin1 situation on another mysql installation but wasn't able to reproduce. Probably gonna give up on this one :(\n. TLDR: latin1 is really bad here, but it's not the root cause of this issue I guess.\nI think you were right with the utf8 stuff, but the problem is not easily solved though. mysql converted utf8 to latin1 at the column level. This is a one-way thing and cannot automatically be reversed, because the data is permanently destroyed in the database (if other people experience the same they might have luck if they run epl with debug-logging because it logs all the cs).\nWhat happens is that valid chars (in utf8 encoding) end up as single or more ? in the db. The details exceed my knowledge, I just noticed that for chars with an utf8 encoding between 1-3 bytes a single ? ends up in db, for chars with 4 byte utf8 encoding 4 ? are saved.\nSo the chars are gone. But what makes it even harder to fix is that we have the length-fields in our cs operators that depend on the sanity of the text (think of the position of newlines or in general the text length). I think different kinds of corruption could happen here.\nAs said above I cannot reproduce with a fresh installation, but I can trigger the bug on beta in two different ways on some pads. via timeslider and via export. Both access the length properties of changesets at some time and either compare it to the length of text or to the previous changeset's length+the amount that changeset actually changes.\nhttps://github.com/webzwo0i/ep-debug-helper/blob/master/check-length.rb iterates over all changesets and complains, if for two cs: (cs1 +/- chars changed) != cs2.length\nWith this small check I found 13 pads and 20 changesets that are stored but have a wrong \"oldlength\"; manual inspection does not help, they seem to look okay besides that. The only thing I noticed is: mysql is configured to be case-insensitive and in every occasion where the wrong cs has been stored, multiple users were involved that where connected via different pad urls. It is not deterministic (at least I think so), so sometimes user a was accessing the pad via URL and another via Url.\nInteresting enough in every case its like this:\npad:somepad:rev:X\npad:somepad:rev:X+1\npad:Somepad:rev:X+2 <--bad cs (so always the bad cs is one that is not case-sensitive equal to the previous)\n\"Not deterministic\" means, it does not matter if lower case follows upper case or the other way around. Also during normal pad operations its possible that people access the pad via all kinds of possible combinations of how to write the pad considering case-insensitivity, without getting broken changesets.\nI am going to extend the script to include the actual atexts and cs-text additions and see if this helps. Also during debugging I found some other minor issues and at least one other reproducible crash condition for which I will create separate issues. Here are some of the changesets I was talking about. I obfuscated the pad names (but keep how they changed in case) and the author ids. Notice the last pad, where author id is empty. I don't know if this is wanted behaviour but it means, that some editor added the newline and not a real user. It happens e.g. when you see delete everything, and enter a new letter. Then automagically a newline is added at the end, with an empty author attribute:\n```\npad:Abc:revs:158        {\"changeset\":\"Z:8>1|1=1=50|1+1$\\n\",\"meta\":{\"author\":\"a.1\",\"timestamp\":1422962923412}}\npad:AbC:revs:159        {\"changeset\":\"Z:9<1|1=1=4-1$\",\"meta\":{\"author\":\"a.2\",\"timestamp\":1422962936994}}\npad:AbC:revs:160        {\"changeset\":\"Z:8<2|1=1=2-2$\",\"meta\":{\"author\":\"a.2\",\"timestamp\":1422962937509}}\npad:AbC:revs:161        {\"changeset\":\"Z:6<1|1=1=1-1$\",\"meta\":{\"author\":\"a.2\",\"timestamp\":1422962938008}}\npad:Abc:revs:162        {\"changeset\":\"Z:6>1|3=3=10+1$o\",\"meta\":{\"author\":\"a.1\",\"timestamp\":1422962934587}}\npad:Abc:revs:3   {\"changeset\":\"Z:4n<4m|1-4m$\",\"meta\":{\"author\":\"a.1\",\"timestamp\":1422962087845}}\npad:Abc:revs:1   {\"changeset\":\"Z:e7<9l=k|8-9l$\",\"meta\":{\"author\":\"a.1\",\"timestamp\":1422962085012}}\npad:Abc:revs:2   {\"changeset\":\"Z:4m>1=4l|1+1$\\n\",\"meta\":{\"author\":\"\",\"timestamp\":1422962085012}}\npad:abc:revs:4   {\"changeset\":\"Z:2>1|1=1*0+1$l\",\"meta\":{\"author\":\"a.2\",\"timestamp\":1422962134113}}\npad:abc:revs:3       {\"changeset\":\"Z:22<1f|1=l|2-1g*0|1+1$\\n\",\"meta\":{\"author\":\"a.1\",\"timestamp\":1422962816845}}\npad:abc:revs:4       {\"changeset\":\"Z:n1|2=m=1e|1+1$\\n\",\"meta\":{\"author\":\"\",\"timestamp\":1422962813880}}\npad:Abc:revs:5       {\"changeset\":\"Z:l>1=k|1+1$\\n\",\"meta\":{\"author\":\"\",\"timestamp\":1422962782276}}\n```\nI could also share all of them or the actual pad urls...\nOne last thing: I just noticed there exist binlogs and I will try to inspect them to find texts after one of those broken changesets...\n. shit...binlogs were not active\n. Probably the best idea. Users can still write what they want, as soon as toLowerCase() is equal to another pad they see the version that was first.\nIf we don't do this: globalAuthor has all the different spellings saved to database. Their might be other, more serios problems, if we somewhere use the pad name as key in javascript objects...\nAnother thing I noticed, iirc it was like this:\nAuthor1 creates a pad with spelling A (this results in pad:spellingA:revs:0 saved to db)\nAuthor2 does some changes with spelling B (results in pad:SpellingB:revs:X saved to db and and a version of the atext saved as pad:SpellingB - whenever a new version arrives this key changes spelling to the version of the cs)\nAuthor3 uses SpellingA and an author attrib value like \"0\" (that actually is Author2 because when creating a pad the author id is not saved and Author1 did make any changes and it is also not catched when we check if a user tries to submit something as another author. I think somehow transparently the attrib is changed to the right number \"1\") -> epl tries to apply the changeset to revision 0!! So at least there must be some code that depends on the spelling.\nThe changeset is wrong (because it should apply to the last rev) and is discarded, but I think those kind of problems would arise if we don't unify the spellings in the first place.\nHowever, I wonder how this will affect active sessions or something else...\nI did a short grep for \"pad\" in src/node and probably we could manually check if we somewhere depend on spelling\n. thanks that you figured this out! I would have started doing this code revamping for nothing ;)\nI recognized that beta.etherpad.org was configured with \"ci\" and not \"utf8_bin\" and because I wanted to reproduce using the exact some conditions I created my db not according to the tutorial...\nOK now....\nso I will try the \"is-this-changeset-ok\"-stuff and follow the text in every revision. If this shows up nothing I would vote for \"something strange happened due to bad encoding\". We would still have to clean out all those broken pads or fix the timeslider and export to not crash if a changeset in the database is wrong and see if this error ever comes back again...\n. maybe the error is misleading you? I cannot test with your php-stuff but when I try to rebuild grouppads with wget I get the same error. If I change the permissions to public=true (setPublicStatus api call) everything works. If I go to javascript console and add a session cookie that I got via api cool it also works. So could you test if executing document.cookie=\"sessionID=your-session-id-you-got-from-api-with-createSession\" solves your problem?\n. dont forget to set public=false before you try\n. APIKEY=23\nwget \"http://localhost:9001/api/1/createGroupIfNotExistsFor?apikey=$APIKEY&groupMapper=1\"\nGROUPID=copy from result\nwget \"http://localhost:9001/api/1/createAuthorIfNotExistsFor?apikey=$APIKEY&name=funny&authorMapper=23\"\nAUTHORID=copy from result\nwget \"http://localhost:9001/api/1/createGroupPad?apikey=$APIKEY&groupID=$GROUPID&padName=grouppad23&text=groups are a set of individuals\"\nPADID=copy from result (beware you have to set it in single quotes because of $)\nwget \"http://localhost:9001/api/1/createSession?apikey=$APIKEY&groupID=$GROUPID&authorID=$AUTHORID&validUntil=1433588773\"\nwget --header=\"Cookie: sessionID=copy-from-result\" \"http://localhost:9001/p/$PADID/export/html\"\n->html is good\nwith wrong sessionID I get 403\nin browser try the padurl and you get pad.js not found\nif you set document.cookie=\"sessionID=copy-from-above\" its ok\n. @e-nemo regarding your cookie question: do you have third-party cookies enabled?\nyou may not want to use them, so you would need to encode the credentials via some other mechanism, for instance via url. This would need some tuning (grep for \"cookie\") but I think its possible. \n. any reason why you use this crazy node version? Can you try a stable branch (0.12 has just been released but better you try with 0.10 for the moment because it works for others) or at least the latest version (v0.11.16) of the unstable 0.11?\n. OK, yes please come back if the error remains. Do you remember if with 0.12 it was the same error or something else?\nNode uses the following versioning: if the second number is even it means stable, if the second number is odd it means unstable. The thing that confused me is that even if you use 0.11 you should not use 0.11.0 but https://raw.githubusercontent.com/joyent/node/v0.11.16/ChangeLog \n. No expert but debug session revealed this to be the root cause for some crashes and inconsistencies in the database. With utf8 (as limited by https://tools.ietf.org/html/rfc3629) up to 4 of 1 byte long units are allowed. This synchronizes the expressible range with UTF-16, so Unicode code points up to U+10FFFF can be encoded. utf8mb4 is the MySQL name for this.\nI migrated one installation:\nThe installation was at latin1(!!)... Can try this on beta if desired because our installation is really small and the used languages/features are not as diverse as it may be the case in other installations.\nwhat I did:\nstop etherpad\nstop the db\ncp -ab /var/lib/mysql mysql.bak\nstart the db\nmysqlcheck -c -u user -p database-name #should return ok\nmysql> alter database `database-name` CHARACTER SET = utf8mb4 COLLATE = utf8mb4_bin;\nmysql> alter table `store` convert to character set utf8mb4 collate utf8mb4_bin;\nmysql> alter table `store` change `key` `key` varchar(100) character set utf8mb4 collate utf8mb4_bin;\nmysql> alter table `store` change `value` `value` longtext character set utf8mb4 collate utf8mb4_bin;\nSomewhere in the internets I found that this method would not work and you have to manually convert to varbinary/longblob and than back to varchar/longtext.\nFor me this was not needed (hopefully ;)) and besides I could not find a good explanation why these additional steps are needed.\nSHOW VARIABLES WHERE Variable_name LIKE 'character\\_set\\_%' OR Variable_name LIKE 'collation%';\nstop the db\nopen /etc/mysql/my.cnf\nin section [mysql]:\ndefault-character-set=utf8mb4\nin section [mysqld]:\ninit_connect ='SET NAMES utf8mb4'\ninit_connect ='SET collation_connection = utf8mb4_bin'\ncharacter-set-server=utf8mb4\ncollation-server=utf8mb4_bin\nNote that if you use your MySQL to host multiple databases you probably do not want to do this. Your other databases may not like it.\nstart the db\nmysqlcheck -c -u user -p database-name #should return ok\nmysql -u user -p -e \"show variables where Variable_name like 'character_set%' or Variable_name like 'collation%';\" dbname\nEverything (except filesystem) should be utf8mb4/utf8mb4_bin by now.\nA good overview of broken raw pads (without entries from plugins etc) is bin/checkPad.js so try something like:\nmysql -u user -p -e 'selectkeyfromstorewherekeylike \"pad:%:revs:1\";'|sed -e 's/:revs:[0-9]*$//g'|sed -e 's/^pad://g'|xargs -L1 node ./bin/checkPad.js\nAt my installation only the pads that I had used for testing failed\nWhat needs to be done:\n~~- [ ] change ueberDB to create all new databases with utf8mb4~~ (ueberDB creates no db but tables. however the guide clearly says that db/table charsets should be altered manually\n- [ ] update the tutorial at https://github.com/ether/etherpad-lite/wiki/How-to-use-Etherpad-Lite-with-MySQL\n- [ ] rewrite tests to include unicode code points above U+FFFF\n- [ ] run the tests with and without caching (without db round trips we actually test how well javascript deals with our chars internally)\n- [ ] implement a small check at the startup of epl that checks if we support all unicode planes. If we don't do this we'd need to implement filter everywhere chars are written to db. This would include all plugins and several places in the code base.\n- [ ] even with this check in place we probably encounter some crashes in the future due to more ppl using emojis etc and I already have some, will issue some PR for them.\n- [ ] probably we would benefit if we POST to js-error in case checkrep fails on client-side\nAs a side note:\nJavascript strings (and http://www.w3.org/TR/DOM-Level-3-Core/core.html#DOMString ) are UTF-16. This means they consist of two units, 16 bits each. This affects the behaviour of epl, because we rely on things like string length. The string length of every UTF-16 pair is two! You can see the result e.g. when you insert a Unicode above U+FFFF (like \ud834\udf02) and hit backspace. Only the last (\"low surrogate\") is removed. Thats why we need to adapt our test cases.\n. Another problem that will arise:\nAfter updating those pads which used code points we could not express in the past will most likely make problems. They probably have two or four \"?\" in the atext and changesets, respectively. I could think of a skript to try to migrate the changesets automagically if checkPad fails and delete/rebuild the atexts but on the other hand this is very invasive and people might feel more save if they do an export, reimport and fix the ? by hand\n. Yes, my first test seems to indicate they are not needed (because we alter the encoding after creating the db/tables anyways). However, ueberDB must set the connection/client [0]. Otherwise the db would treat the \"real utf8\" we send from epl as 3-byte utf8 and then reencode it to fit into the utf8mb4 tables. This is wrong.\nA quick hack for me was:\ndb.query(\"set names utf8mb4 collate utf8mb4_bin\",[],function(err)\n{\n  if(err){\n    throw err;\n  }\n});\nin ueberDB/mysql.js' init-function. \nThe problem is that in ueberDB the query-function is not exposed and thus we cannot do this call from epl. I would suggest we introduce an additional parameter to the init-function of the mysql-backend that holds the encoding for the client's connection and its collation. If present, we call \"SET NAMES\".\n[0] http://dev.mysql.com/doc/refman/5.5/en/charset-connection.html\n. progressing slowly :( my branch is at https://github.com/webzwo0i/etherpad-lite/tree/utf8-to-utf8mb4-migration but not worth to try out now.\nI might have encountered a browser issue. chromium and ff destroy UTF-16 surrogate pairs on backspace. There where bugs in this area in the past, so not sure if it is a regression. Need to search for this in their bug trackers or even handle the backspace-key in epl (which I think should be avoided. But this would require a small fix in sendkeys).\n. mh maybe it's not a good idea to fix this now. We need to test all database backends too, to see if everything is okay with long pad names (somehow related to https://github.com/ether/etherpad-lite/issues/2583). Probably mysql is safe because in current versions it counts characters and not bytes but I get a limit on 25 4byte-utf8 chars. (I think it's just the regex that counts chars that is unaware of surrogates)\nCould be the case other databases handle this in other ways...\nSo what I would propose for the moment is this: I do a pull request with my workarounds for the crashes which are caused by not filtering chars above U+FFFF. I include filtering for pad names, pad texts, chat messages, user names (anything else you can think of?).\nI definitly want to support the full Unicode range in the future...\n@Pita Could you take a look at https://github.com/Pita/ueberDB/pull/76 ?\nAlso, I found no way except patching ueberDB to make the cache-size customizable. This would aid debugging (because I sometimes I want to test against the cache and sometimes against the database directly) and maybe would even help high-load epl instances.\nhttps://github.com/ether/etherpad-lite/issues/1936#issuecomment-80614328 was my attempt to test encodings, maybe you have a better idea? (on-the-fly cache-size changes or disabling the cache for certain queries imo both require tricky changes in ueberDB)\nOne last thing: I don't know a way to store the connection-encoding for clients directly in the database (except changing my.cnf and affecting every database). Thus, I need a way to do this in db initialization in exports.database.prototype.init\ndb.query(\"set names utf8mb4 collate utf8mb4_bin\",[],function(err)\n    {\n      if(err){\n          throw err;\n        }\n    });\nWould it be possible to expose some wrapper so I could do \"set names\" from epl? An alternative is to include a way to specify the connection-encoding and you do \"set names\" somewhere in mysql_db.js\nEvery suggestion would be great...\nthxalot! :)\n. thanks for finding this!  this is a perfect replacement for the ugly \"set names...\" hack, did not know the mysql-lib provided this and ueberDB seems to pass the setting to it\n. thanks for finding this!  this is a perfect replacement for the ugly \"set names...\" hack, did not know the mysql-lib provided this and ueberDB seems to pass the setting to it\n. could you tell my where I can find your changeset-checks?\n. Regarding the changeset checks, do you mean you check if removing x character really decreases the string size by x? I think I like this idea, but also I do like the idea how in the timeslider inverse-changesets are computed. If cs a applies to atext1 (results in atext2) and inverse-cs applies to atext2 and results in atext1 this is a good guess that the changeset was okay. However this would have more performance implications and maybe no benefit at all.\nStill I cannot find the checks you are talking about :-(\nsplit vs regex match, https://github.com/webzwo0i/ep-debug-helper/blob/master/testregex.js\nin v8:\nmatch with regex 4s 244.26525ms\nsplit with non-regex seperator 2s 508.15675ms\nsplit with regex seperator 6s 864.429ms\nin my browser (firefox):\n\"match with regex \" 10500.412867000006\n\"split with non-regex seperator\" 169.00710699998308\n\"split with regex seperator 20821s ms\"\nso either I made a mistake or for single-character splits/regexes, split is faster. Note that I change the string in every iteration to circumvent optimization\n. in firefox the second value seems to be very low, strange I will look into this. Still with v8 the values seem to make sense\n. in chromium:\nmatch with regex  19071.179000195116\nsplit with non-regex seperator 10244.592000031844\nsplit with regex seperator 40643.17000005394\nso I still dont know what optimization happens in firefox but at least for v8-based engines split with a single character seems to be faster\n. Need to check if every call to applyToA?Text is wrapped in try-catch at some level\ncalls to appendRevision\n_createClearStartAtext \u2713\n_createDiffAtext \u2713\napplyChangesToBase\napplyPreparedChangesetToBase <-already throws error at some point, so code that calls it should probably handle it anyway\n. hmm yes, maybe I should put it a line above like: newlines = strIter.peek...\nIn general, because the commits in this pull request reflect the errors I made more than the actual changes, maybe I should close and open another pull request:\nreverting of the old stuff/fixing the code for = op\nadditional checks for - and + ops\ntry-catch block for the call sites\njust asking in case you feel it got to confusing\n. normally the empty author does not show up in numToAttrib (which is the start for getting all authors and then getting all globalAuthors entries). So in case utf8 is set up right and empty authors are the reason we have a situation, where the empty-author is inside numToAttrib.\nThere is no changeset that introduced an empty author entry (manually verified this), so somewhere it got automatically added to the attribute pool, need to find the place where this happened\n. @JohnMcLear No :( Probably this had nothing to do with author names but was another (similar) issue - will do a pull request ASAP\nBecause the crash is prevented with https://github.com/ether/etherpad-lite/commit/d5bec1701e10c2d0b5f1ffa96fd5ce4e86728e88 I close this issue.\n. @Gared \ncan you confirm you are running utf8?\nmysql> show variables where Variable_name like 'character_set%' or Variable_name like 'collation%';\nIf it's not utf8mb4 you probably experience: https://github.com/ether/etherpad-lite/issues/2516\n. trying to prevent crashes and compensate for databases that only support UTF8 with up to three bytes on https://github.com/ether/etherpad-lite/tree/issue-2522-broken-json\n. Try export https://domain/p/your-padid/export/etherpad\n. I updated the pull request.\nDo I need to \"return callback(the-error)\" or is it enough to just callback(the-error)? I am sure I understood the details in the past but not right now...\nThe reason there was another warn-statement with the padId is because it is not enough (for debugging issues with broken changesets) to know the changesets. You sometimes need the pool or the last atext to construct the text before the revision that makes trouble.\nI would love if at some point other admins of epl instances could securely share their logs (without any padId/urls, changesets, file names, session credentials) - more logs->less debug times because hopefully reproduction is easier.\nAnyways, I removed the cs texts and print the revision numbers instead. I think this should be enough.\nThe alternative (not printing even padId) would imo prevent us from fixing those issues. But I will think about this a little bit more, also considering those cloud-log services some people use to aggregate their logs\n. additional notes:\nIf collation on column store.key is case-sensitive then a new pad with different case should result in a completely new pad. (this probably works as expected)\nIf collation on column store.key is case-insensitive it should ignore any case in the padids.\nI tried with case-insensitive and all database values are fine, however clients connected to one pad don't receive updates from the pads that have another case. I suppose this means, clients are connected to different rooms depending on case. Imo we can't just convert all rooms/channels(socket.io) to lowercase without finding out what the actual database configuration is, because someone could choose case-sensitive collation.\nupdate:\nMaybe its not only the room because when I clear all session cookies and reconnect I also get the \"wrong\" pad (without the revisions that where made in the meantime in pads with other case). When I restart epl I get all the revisions and its okay again. Setting the database cache to 0 does not help. So I suspect another list of pads somewhere in the node-part that needs consideration for case-insensitive collation.\n. Thinking about this a little bit more:\n- need to find out what all the different databases that are supported by ueberDB do (the mysql-tutorial says you should use case-sensitive collation)\n- need to find a good way to migrate databases from a wrong setting to a setting that is supported and works (if we support both, then we need to fix pads on sensitive->insensitive transition and store.keys on insensitive->sensitive transition)\n. If the import was successful but you don't see the pad (rendering could take a moment with complex pads) then the error could be client-side. Do you see anything in the console output of your browser's debugger (via developer mode)? \n. and your etherpad.log does not show anything? I would change \"loglevel\":\"info\" to \"loglevel\":\"debug\" in settings.json and see if anything is at the end of the log. You should see lots of \"[DEBUG] ueberDB - SET - pad:foo...:revs:\"\n. ups, probably I introduced/did not handle this when I changed export a little bit last year.\nThanks, I will try to reproduce this and get it fixed.\n. Can you provide a new stacktrace and the corresponding versions in\nsocket.io/package.json\nsocket.io/node_modules/engine.io/package.json\nsocket.io/node_modules/engine.io/node_modules/ws/package.json\n. You seem to rely on mysql's default values when creating the database. epl needs binary-collation and at least utf8, so can you show variables where Variable_name like 'character_set%' or Variable_name like 'collation%'; and show full columns from store; and see if its all utf8 and utf8_bin like described in https://github.com/ether/etherpad-lite/wiki/How-to-use-Etherpad-Lite-with-MySQL\n. You could give https://github.com/JohnMcLear/ep_hide_referrer a try. It rewrites the handler for onclick. (Not sure if it covers all links in a pad installation)\nThe plugin makes a redirect.html page that gets the link via https://en.wikipedia.org/wiki/Fragment_identifier . Clicking on a link brings you to redirect.html#link , transforms the fragment to a new anchor and clicking that sets the referrer to the redirect.html location.\nOther options had been discussed in the past in https://github.com/ether/etherpad-lite/issues/1603\nIt's old, but you can share your thoughts there, too.\n. hi, I am so sorry that I had no time to finish all the open issues with utf8&broken pads, hopefully I can get this done in the next weeks. It touches different areas in epl and multiple fixes are needed. :-(\nI think you resolved this now with export&import?\n. for the record: I try to export (http://your-pad-domain/p/your-pad-name/export/etherpad) and import \ncurl -F 'file=@your-pad-name.etherpad' http://127.0.0.1:9001/p/new-pad-url/import\nBe sure that the file ends in \".etherpad\". If you want to preserve the old pad name you probably need to comment the check in https://github.com/ether/etherpad-lite/blob/develop/src/node/handler/ImportHandler.js#L128\nTo check if any other pads in your installation are broken I would suggest you get a list of all pad names from the database, feed them into selenium and look for errors in the logs of selenium and epl respectively (an additional check would be to point the timeslider to every revision). Maybe you should select the pad text from selenium and if its empty you know something is broken (or the last edit deleted the whole pad content). I can help you with that, just tell me if you need it.\n. thanks for the report and fix! :-)\nYour change looks good, but I am not sure about the cause of this bug. Could you do me a favour and insert console.error(\"start:\",compositeStart,\"end:\",compositeEnd) right before you return\nthen try to enter the timeslider of a failing pad and see if the values are okay? Both values should be lower or equal than your head revision+1. \nDid you use the API on the pads that have this problem? (especially restoreRevision)\n. I can reproduce your bug now, I am going to push with information what caused this.\nSo this pull request won't be merged but thanks anyway! :-)\n. Thank you for the detailed bug report.\nclear authorship (undo that, respectively) is the only changeset that can has zero (deletion) or multiple (undo) authors at once. However we cannot simply disable the check, because this would introduce impersonation scenarios where an author can send changes as another author.  \nMaybe we should do this server-side instead of sending changesets.\nThis also needs a test, but at the moment the test infrastructure cannot easily express scenarios that involve multiple clients. \n. also we might want that anybody can reimport the authorship colours and not only the client that deleted them\n. thanks for testing!\nbisect reveals https://github.com/nodejs/node/pull/3143\n. v4.2.1 is out and should fix this. please reopen the issue if the bug remains/reoccurs.\n. upstream fix https://github.com/nodejs/node/commit/c245a199a7 \n. hi, thank you for this bug report. Be sure though that you don't unintentionally publish the API key of your installation (even if every pad is public you could delete the whole pad via the API...). If this was not intended you should change the API key.\nRegarding speech input: This is probably a plugin issue and you would need to contact the original plugin author. Currently there is no \"compatibility\" check for plugins. You can easily install them but they can do anything to your instance.\nRegarding the other issue: The client that is connected to the pad received a changeset that could not be applied to the pad text because the number of chars in the text before applying the changeset is not the same as the reference value inside the changeset). Because you said this only happens via a high-latency network connection and when sending pad updates very fast I suspect an edge case bug in the way we apply changesets. Let's say the connected browser is at revision 23 and the server is at revision 50. The remaining 27 revisions are somewhere between the server and the browser, for the browser to be received. If the browser receives a changeset (let's say 30) before it received all changesets 23-29 than there is a chance it cannot apply revision 30.\nIf you get this bug again could you do me a favour and check if a) reloading the pad(ctrl+shift+R) shows the current pad text (without error) and b) if you go to the timeslider, drag the slider to the first revision and press the play button no error is shown in the browser. I think this would back up the theory that it's related to receiving revisions out-of-order.\n. Hi, I cannot reproduce your problem with FreeNAS (FreeBSD 9.3-RELEASE-p29). Will try to find a 10.2. Can you provide exact steps? What I did:\npkg install node npm git\nnode -v\nv0.12.7\nnpm -v\n2.14.7\nadduser //to create user epl\nsu epl\ncd /home/epl\ngit clone git://github.com/ether/etherpad-lite\nedit settings.json\n./bin/installDeps.sh\nnode src/node/server.js\nVersion number: 1.5.7\nGit sha: ba1f9c2\nInstalled plugins: ep_adminpads,ep_author_neat, ep_etherpad-lite\n. Great, thank you!\nYou create an user that can't login - good! When you execute bin/run.sh in an environment that you inherit from root (via -m to make it work for users without login shell) npm picks default directories that belong to root and are not writeable for the user.\nI would recommend that you change npm's defaults in /usr/local/etc/npmrc:\ncache = \"/tmp/npm\"\nshould be enough\n. Not 100% sure why this cache-directory is needed, because npm also uses temporary files during installation...\nNote that this change affects any user on the system that executes npm as long as there's no user-specific .npmrc that overrides the setting. If it's an etherpad-only jail you should be fine\nYou can skip the bin/run.sh --root step \n. before executing su -m etherpad -c /usr/local/www/etherpad/bin/run.sh try to cd into /usr/local/www/etherpad\nif this does not work try su -m etherpad -c ./bin/run.sh or su -m etherpad -c ./bin/installDeps.sh\nI don't currently have access to the machine I tested this yesterday, but if it does not succeed I will try to reactivate it.\nI am not 100% sure but accessing package.json at the wrong path (its inside src/) sounds like you need to be inside etherpad's main directory. If it could not write  /usr/local/www/etherpad/npm-debug.log I would suspect you forgot to change the owner of /usr/local/www/etherpad to etherpad:etherpad this time.\nnode_modules are downloaded to src/node_modules and src is also symlinked to node_modules/ep-etherpad_lite. I think this has something to do with dependency resolving and the server side. \n. Thanks for this interesting bug report and for finding a work around that guards against the issue.\nBefore merging I want to figure out what actually introduced the null-atext. In case it's not etherpad-core - could you provide a list of installed plugins on your installation?\n. Just wanted to give an update: I can reproduce the bug and no longer need the plugins list\n. which commit are you using? can you cherry pick https://github.com/ether/etherpad-lite/pull/2801\n. try cherry-picking 31f7c7e0f2e31b9a0573382481841215f4f01dc8 before 1ee1f818dbe29e09a4733d0248663e52451e90dc\n. ok I try to find the bug.\nas a workaround you can filter GET requests to /p//timeslider (which will block accessing timeslider and clients from accidently triggering the bug) or insert \"return\" right at the beginning of handleChangesetRequest in PadMessageHandler.js\n. yep, it's loading timeslider's html but you won't be able to issue requests to the timeslider (which contain the actual revisions) - at least it should work like this imo :)\n. I can reproduce the bug now but the test data is huge and the area it occurs is not documented. investigating now, but not sure I'll find it today...\n. I can reproduce the bug now but the test data is huge and the area it occurs is not documented. investigating now, but not sure I'll find it today...\n. sorry for the delay... for the issue described here I opened a pull request at https://github.com/ether/etherpad-lite/pull/2911\nRE your export issues please pull from https://github.com/ether/etherpad-lite/tree/fix-export-regressions. It is not ready to be merged in but it should be enough to stop the crashes. It would be awesome if you could try it and if nothing happens grep for \"Could not process export request\" and send me any warnings you got.\n. I prepared a patch file for the export fixes at https://gist.github.com/webzwo0i/99c57a5482a0f28eb3e6\nYou should be able to apply it on 1.5.7 with\ngit clone https://gist.github.com/webzwo0i/99c57a5482a0f28eb3e6\npatch -p1 < 99c57a5482a0f28eb3e6/export-fixes.patch \nrm -rf 99c57a5482a0f28eb3e6\nthe other fix is not ready to apply, I discovered more issues, but I am working on this and will report back soon\n. note to self: this breaks some pads with TypeError: rep.lines.atIndex(...) is undefined\n. could you open firebug/browser's error console and see if anything shows up there? thx\n. hey, thanks for reporting this.\nI have difficulties reproducing your problem. I created a pad and edited from two different authors. Then I called copyPad via API, deleted my cookies, reconnect and try to edit one of the lines that where already there.\nCan you elaborate on what you did to trigger this bug? (or provide an etherpad-export file that shows this bug after it is imported&copied to a new location)\nthank you\n. I suppose you have a list in the pad because setAttributeOnLine is only called via setLineListType in ace2_inner.js but even with a list I cannot reproduce this right now\n. problem with getLineHTMLForExport ?\n. Can you try disabling plugins?\nduplicate https://github.com/ether/etherpad-lite/issues/2486\n. one of these? \nep_align\nep_authorship_export\nep_colors\nep_context\nep_custom_styles\nep_export_authors\nep_export_documents_images\nep_font_color\nep_foot_note\nep_headings2\nep_headings\nep_horizontal_line\nep_html_export_using_client_filters\nep_import_documents_images\nep_line_height\nep_margin\nep_markdown\nep_mediawiki\nep_page_ruler\nep_page_view\nep_sizes\nep_superscript\nep_tables2\n. Imo this can happen if you have conflicting IPv4 and IPv6 priorities and your name server (if you don't hard code IP addresses in nginx) returns addresses for both families but node is listening on only one of them. So I would start debugging with tcpdump.\n. What OS are you using?. sorry, code is a little bit hard to follow there... Can you give https://github.com/ether/etherpad-lite/commit/06046493bf375b70ab1c655aceb928208059b9de a try?\nMaybe it's a good idea to not restart abiword if it exits with errors. If it cannot start (because of missing AbiCommand plugin) it should not loop endlessly.. https://github.com/ether/etherpad-lite/tree/fix/export-wildcards as a workaround. In the past before https://github.com/ether/etherpad-lite/commit/a0fb65205c7d7ff95f00eb9fd88e93b300f30c3d it was possible to specify a prefix and get a export of pads matching that prefix.\nTo better understand this bug someone needs to understand the query-builder part in ueberdb.. Thank you! Because ueberdb supports many different database backends we probably need to check them as well?\nAlso it would be nice if we support the characters in pad names and don't just filter them, but instead escape them before they hit the database. I will look into this tomorrow.. sorry it takes so long...\nmysql, postgresql, sqlite and crate use % and _\ncassandra, couch, rethink, mongo, dirty, redis probably support PCRE-style regex\nleveldb and lmdb don't implement findKeys. thank you. What database are you using? Looks like encoding issues. AFAIK using a browser seems to be okay, because internally all db-interaction is cached. When you are typing you see what you type. On reload you will be served data from the db cache if it is still there.\nTo be really sure the cache is cleared you need to restart the server. If I am correct, the first line in your second image should be wrong after that.. Thanks for reporting. There was some memory activity (mmap&munmap). Hopefully someone finds a way to reproduce this. I updated to v6.11.0.\nHowever, please note that this is a test instance. Please don't use it for any serious data and do the backups yourself. AFAIK there are no backups and never will be.. so applyToText is called via applyToAText everywhere (apart from easysync_tests.js and one commented line in ace2_inner.js) and applyToAText is called in changesettracker.js at https://github.com/ether/etherpad-lite/blob/develop/src/static/js/changesettracker.js#L125 and https://github.com/ether/etherpad-lite/blob/develop/src/static/js/changesettracker.js#L248 and in db/Pad.js at https://github.com/ether/etherpad-lite/blob/develop/src/node/db/Pad.js#L65 and https://github.com/ether/etherpad-lite/blob/develop/src/node/db/Pad.js#L206 \nso in this places I must ensure that a thrown error is catched, right?\n. ",
    "davidascher": "As usual, filing a bug helps me see what went wrong.  I wasn't setting cookies properly (no path).  Apologies for the noise, everything seems to be just fine.  \n(really nice API, btw)\n. ",
    "risacher": "Grrr.  Nevermind.  I testing Firefox 11 with a proxy that allows websockets and IE7 with a proxy that doesn't.  Both of those cases seemed okay.  Alas, when I tried Firefox with a proxy that does NOT allow websockets, it took 4-5 seconds to fall back to XHR, which I concede is too long.   I will spend a few cycles trying to understand this, but it is likely to be more deeper than I care to dig.\nBut it's really snappy when it works.\n. For future reference, where I work we use a \"WebWasher\" proxy (now MacAfee Web Gateway).  If I set up Firefox to go through the proxy, for some reason when socket.io tries to upgrade to websocket, it's getting back a response of \"302 Found\" with no content (according to firebug).  If I don't go through that proxy, then it gets a response \"101 Switching Protocols\" for that same request in the process.  Either way is over https, so I'm not sure how the proxy is able to munge the response, but that's what Firebug shows.  A potential fix to socket.io would be to fail quickly on a \"302 Found\" response, so that it can fall back to xhr or whatever.\n. ",
    "guyzmo": "maybe it would be possible to add websocket support at the end of the settings.json defaults? As it looks like it is the fallback from Websocket to XHR that is pretty slow, and all other methods are prefered\n. Well, as I have discussed last sunday on the channel, I said that I have exported a few new functions to the API that I use for the etherpad python client I'm coding, so I could implement the Changeset/Attribute features in my code. \nfor the record:\n\n16:45 <      zmo> oh, and by the way, I don't know if it's worth it, but I also patched etherpadlite with more API functions: https://github.com/guyzmo/etherpad-lite\n16:46  zmo: Put them through as a PR\n. \n",
    "loicm": "This comments removal implies also another problem: we can't write '#' in defaultPadText, so no a default text with the markdown syntax.\n$ bin/run.sh\n...\n[2012-07-08 13:11:20.333] [ERROR] console - There is a syntax error in your settings.json file\n[2012-07-08 13:11:20.337] [ERROR] console - Unexpected token\n. ",
    "Kats2": "I am experiencing this issue on a fresh pull down as well, I opened a new issue #891 \n. @johnyma22 I deleted rm the src/node_nodules folder and then re-ran bin/installDeps.sh -- unfortunately the error behavior is the same. It hangs on 'Loading...' and shows the following message in the console log output:\n[WARN] socket.io - handshake error Bad session / session has expired\n. I have started clean and pulled down the latest development branch version c9e8f7e, but the identical error persists.\n. ",
    "kgibbe1": "Oh nice, got it working now! Thanks for the fast response. I had noticed the APIKEY.txt file in the parent folder but I really thought I had placed it there at some point in the past and that it was just an old key. Thanks!\n. ",
    "ygtw": "Dear johnyma22:\nI followed your response to alter database, table, database connection to utf8\nit's still not slove >_<.\nThanks for your great work!\n. Hi johnyma22:\nThank you for fast response!\n1. I install etharpad-lite on Win64.\n2.I follow the guide to connect with MySQL \nhttps://github.com/Pita/etherpad-lite/wiki/How-to-use-Etherpad-Lite-with-MySQL\n3.The problem still not resloved >_<\nThanks ~\n. ",
    "geier": "I don't think this can be easily done IN etherpad, but as a webservice AROUND etherpad.\n. I disabled all plugins, does still not work.\nI'm using Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:12.0) Gecko/20100101 Firefox/12.0\n. I'm using  4ca01ba3445fc2e68dcf0944fe126248f46e6b6b, but actually, with the latest Firefox (15.0) it works again. But I also recently updated the apache in front of etherpad. There are several occurences of\n[Mon Jul 09 13:19:30 2012] [error] proxy: HTTP: disabled connection for (localhost)\nin the logs.\nBut I guess since the same etherpad version now works, this is really not an etherpad bug and this issue can be closed.\n. ",
    "patrickwelker": "+1\n. ",
    "harobed": "+1\n. ",
    "bartounet16": "Thank you.\nIt works i am a looser, my settings.json was not formatted well ...\nsorry ;)\n. sorry, i have found only the mysql method.\nI think API permit that\n. ok i have see it thanks.\nI am interesting about api\n. ",
    "thmo": "Why does the API not support listing top-level pads that are not in any group?\n. ",
    "neurolit": "Issue seems to be fixed. Maybe you should close it?\n. Submitted against develop branch :)\n. Sorry @JohnMcLear, I'm not sure to know where I should add the res.on('error',...). Is it in node_modules/socket.io/lib/transports/http.js, in the function HTTPTransport.prototype.handleRequest?\n. @Gared Thanks for your answer! I'll try this solution.\n. @Gared we updated MySQL charset to utf8mb4. So far, we haven't detected a newly corrupted pad.\n. ",
    "PoGo606": "I tried with non SSL configuration and the problem is the same.\nI also tried with Firefox and Chrome with two different computers.\n[EDIT]\nNow I cannot access to the Etherpad directly, I'm also stuck on \"Loading...\", It was working few days ago when I opened this case. \nIt seems that is not related to the reverse proxy...\n. Ok... I changed the bind ip from \"172.16.1.10\" to \"0.0.0.0\" and it's working well... strange.\n. ",
    "pic0": "ive installed from the normal git repo yesterday - Your Etherpad Lite git version is 309e3b0\nthe installation is native and running as service via github tutorial. if etherpad started via boot sequence and i look the page, the error appears and etherpad closed itself. tested various browser. if i ran normal via run.sh all looks normal and no error appear. thanks for help! \nsystem is debian squeeze\n. ",
    "paulb": "Update: It seems the examples which come with the jquery plugin behave correctly in IE (though there was an initial warning about the page wanting to run activeX controls, and until I said OK, the example pads did not load.)  This would indicate the problem is due to me integrating incorrectly.  If so, I will close this report once I have figured out what I have done wrong.\n. Another update:\nWe enabled reverse proxy, in case there might be cross domain issues, so now the iframe loads from the same domain as the main site.  No difference.\nWe took the generated page containing the etherpad lite iframe, reduced it down to only the javascript and html required to load etherpad.  Worked perfectly in IE, just like the examples.\nThen we slowly built up the page with all the other html, css and javascript generated when loading the page dynamically using our PHP code.  At intervals we tested to see whether the page still worked in IE.  It did, with one minor issue - when switching to a non-edit mode, it fails to fetch the content from the embedded pad for display; but we're changing that to draw from our database at the last committed version anyway, so this is not an issue (we differentiate between the latest pad version, and the latest committed/published version and want the display mode to show what has been published.)\nFinally we arrived at something which Beyond Compare said was identical except for spacing and some odd text characters (they look like >>, except it's one character and smaller.  They can also only be seen by Beyond Compare, I could not see them in the file myself.)\nThis statically built page works in IE.  None of the editing bugs show up.  All the javascript based functionality we have in our site also appeared to work (as far as we tested, anyway.)  So it seems there are no substantial differences in the pages.  But the dynamically built page does not work in IE.\nEnd result - we've given up trying to figure out why IE is misbehaving, and for IE users we will be offering etherpad in a popup window/new tab, instead of embedded in our page.  Probably something is happening in the PHP which causes the issue.  At some point we may revisit the issue and try to find out what causes the problem.\nRegarding iframe caching, since the statically built page worked, I don't think caching has anything to do with it, but I don't know if iframe caching is different to the regular browser cache.  We did completely clear the IE cache in the settings pages, assuming this would clear the cached frame also, and the dynamically generated page still did not work correctly.  Note that the static and dynamic pages were both using the exact same url to load the pad, and only the static one worked, whether before or after clearing the cache.\nI am closing this issue now, as I don't think this reflects a bug in etherpad lite, and even if it does it's an obscure enough one to probably not be worth your time.\n. ",
    "leblanc-simon": "pad is in an iframe, stylesheet is apply only on this iframe\nWe must apply the stylesheet in the main body.\nsee #1249 for resolve bug\n. Hum, I haven't see the develop branch :-( And I haven't spanish translation.\nI close this pull request, I will do a PR in the develop branch (with the spanish translation :-))\n. ",
    "visualskyman": "Glad to see im not the only one who is facing this problem. Any one can point us in the right direction? what does this mean\nError: Cannot find module 'C'\nso we can try to figure it out and hopefully solve it and share the solution?\n. ",
    "baringmo": "I'm having the same issue, and I am running windows xp also\n. ",
    "chriszs": "Figured it out and wrote a fix. I don't know how to submit a patch, so I'm just going to explain it here.\nIn \\src\\static\\js\\pluginfw\\plugins\\plugins.js line 54 is this function:\n```\nexports.loadFn = function (path, hookName) {\n  var x = path.split(\":\");\n  var fn = require(x[0]);\n  var functionName = x[1] ? x[1] : hookName;  \n_.each(functionName.split(\".\"), function (name) {\n    fn = fn[name];\n  });\n  return fn;\n};\n```\nThe function splits the path on a colon and then take the second part (supposedly the hook to call). But on Windows it's also splitting on the colon that separates the drive letter (often, drive \"C\"). So I changed it to only take the last part of the split string (again, supposedly the hook). This allows it to load and work on Windows.\nHere's the code:\n```\nexports.loadFn = function (path, hookName) {\n  var x = path.split(\":\");\n  var y = x.pop();\n  var fn = require(x.join(\":\"));\n  var functionName = y ? y : hookName;  \n_.each(functionName.split(\".\"), function (name) {\n    fn = fn[name];\n  });\n  return fn;\n};\n```\nOne major caveat: if the path doesn't contain the hookname, which appears to be a possibility, it will fail again. I experimented with writing some logic to determine between those cases, but the result was going to be a hack.\n. ",
    "mrflibble": "I used @chriszs workaround above but had to implement the fix in two places:\n<install-dir>\\node_modules\\ep_etherpad-lite\\static\\js\\pluginfw\\plugins.js\n<install-dir>\\src\\static\\js\\pluginfw\\plugins.js\nI'm assuming that this duplication is created by the build process but I'm new to the project and wanted to help anyone else get over this hump on windows.\n. ",
    "Supercopter": "@johnyma22: Indeed some people are opposed to char by char real-time updating, for trivial reasons such as fear of exposing their misspellings, but there's also a big tech-savvy audience for which live collaboration is the way to go and is seen as the future of the web. This debate is certainly not over, but for those that like real-time updates it's hard to get back to old-school chat --that during typing activity display nothing, or just \"X is typing...\". \nAlso, I would be quite surprised to see a strong opposition against a real-time chat in a project that's about \"collaboration in really real-time\".\n@marcelklehr: I may have been unclear about my suggestion because of my English level (I'm French). I was not referring to a single message-box per user, but to a new live-edited message-block created below the previous content for each post. I like your suggestion and I think that it would already be a huge improvement from the current chat. The only downside I see about it is the unnecessary duplication of typed text between the input box at the bottom of the chat panel and the live-updated message-block at the bottom of the chat history. \nI was thinking about a \"click to reply\" area at the bottom of the chat history that when clicked is turned into a new real-time message-block. I've done a quick mock-up: \u25ba http://dl.dropbox.com/u/9658021/Etherpad_Real-Time_Chat.png\nUpdate: Since this mock-up I thought of 2 variations: \n1. The \"Done\" button could be totally removed, clicking to create a new message-block or clicking back in the pad would \"validate\" the post. \n2. The whole chat area of my mock-up could be moved to the bottom of the screen so that the \"Click to reply\" area is always where the text-input box is in the current chat implementation. New posts would push history toward the top. Maybe that would look less different from a regular chat.\n\u25ba Updated mock-up: http://dl.dropbox.com/u/9658021/Etherpad_Real-Time_Chat_2.png\n\n. Haha, that's exactly what I was trying to describe! ;-)\n. Done: http://etherpad.idea.informer.com/proj/?ia=67551\n. Hi, and thanks a lot for your work @JohnMcLear !\nIs there an Etherpad instance where the plugin is installed so that I could test this feature?\n. John, I'm really sorry! there's apparently been a misunderstanding...\nI'm only an Etherpad casual user (on public websites). Despite being a little \"tech savvy\" I'm not sure I'll have the knowledge to install Etherpad and a plugin by myself. I'm only on Github to follow more geeky friends' projects, but I'm far from being a programmer myself! All I wanted was to suggest a feature that I'd like to use on Etherpad-powered websites... \nAgain, I'm sorry. I'll read the wiki to look at instructions for installing Etherpad and for installing plugins in it. I just can't promise success...\n. I'll try. The install part seems easy enough. But then, even if I manage to install the plugin, all that would be only on my local machine where I won't be able to try the chat live-typing with anyone... \nAnyway, since John has made the plugin, should I click again on the close button that I hit earlier by mistake?\n. ",
    "albonobo": "Ho! HO! Dare if you care;-) A challenge to be taken! Go J\u00e9r\u00e9my go\n. You have to talk with Yuri he will open his server for you J\u00e9r\u00e9my. Sorry for my belated Merci to you John\n. ",
    "tonymarschall": "Does not help. I tried this with chromium and firefox, both with cleared cache.\n. Tried to run as root, does not work. Here is my public URL: http://X.X.X.X:9001\n. Thanks @kzolnowski Switched ip back to 0.0.0.0 and setup behind a reverse proxy. Seems to work now.\n. Was the wrong path. Everything isworking as expected under /admin/plugins. Thanks for your response.\n. ",
    "kzolnowski": "Got the same issue. Your solution didn't solve the problem.\n. Sure:\nnode -v\nv0.6.18\n/etherpad-lite/bin/run.sh\nEnsure that all dependencies are up to date...\nnpm http GET https://registry.npmjs.org/yajsml/1.1.3\nnpm http GET https://registry.npmjs.org/request/2.9.100\nnpm http GET https://registry.npmjs.org/require-kernel/1.0.5\nnpm http GET https://registry.npmjs.org/resolve/0.2.1\nnpm http GET https://registry.npmjs.org/socket.io/0.9.6\nnpm http GET https://registry.npmjs.org/ueberDB/0.1.7\nnpm http GET https://registry.npmjs.org/async/0.1.18\nnpm http GET https://registry.npmjs.org/express/2.5.8\nnpm http GET https://registry.npmjs.org/connect/1.8.7\nnpm http GET https://registry.npmjs.org/clean-css/0.3.2\nnpm http GET https://registry.npmjs.org/uglify-js/1.2.5\nnpm http GET https://registry.npmjs.org/formidable/1.0.9\nnpm http GET https://registry.npmjs.org/log4js/0.4.1\nnpm http GET https://registry.npmjs.org/jsdom-nocontextifiy/0.2.10\nnpm http GET https://registry.npmjs.org/async-stacktrace/0.0.2\nnpm http GET https://registry.npmjs.org/ejs/0.6.1\nnpm http GET https://registry.npmjs.org/graceful-fs/1.1.5\nnpm http GET https://registry.npmjs.org/slide/1.1.3\nnpm http GET https://registry.npmjs.org/semver/1.0.13\nnpm http GET https://registry.npmjs.org/underscore/1.3.1\nnpm http GET https://registry.npmjs.org/jshint\nnpm http GET https://registry.npmjs.org/npm\nnpm http 304 https://registry.npmjs.org/require-kernel/1.0.5\nnpm http 304 https://registry.npmjs.org/yajsml/1.1.3\nnpm http 304 https://registry.npmjs.org/resolve/0.2.1\nnpm http 304 https://registry.npmjs.org/request/2.9.100\nnpm http 304 https://registry.npmjs.org/socket.io/0.9.6\nnpm http 304 https://registry.npmjs.org/async/0.1.18\nnpm http 304 https://registry.npmjs.org/ueberDB/0.1.7\nnpm http 304 https://registry.npmjs.org/express/2.5.8\nnpm http 304 https://registry.npmjs.org/clean-css/0.3.2\nnpm http 304 https://registry.npmjs.org/connect/1.8.7\nnpm http 304 https://registry.npmjs.org/uglify-js/1.2.5\nnpm http 304 https://registry.npmjs.org/formidable/1.0.9\nnpm http 304 https://registry.npmjs.org/log4js/0.4.1\nnpm http 304 https://registry.npmjs.org/async-stacktrace/0.0.2\nnpm http 304 https://registry.npmjs.org/jsdom-nocontextifiy/0.2.10\nnpm http 304 https://registry.npmjs.org/ejs/0.6.1\nnpm http 304 https://registry.npmjs.org/graceful-fs/1.1.5\nnpm http 304 https://registry.npmjs.org/slide/1.1.3\nnpm http 304 https://registry.npmjs.org/semver/1.0.13\nnpm http 304 https://registry.npmjs.org/underscore/1.3.1\nnpm http 304 https://registry.npmjs.org/jshint\nnpm http 304 https://registry.npmjs.org/npm\nnpm http GET https://registry.npmjs.org/fast-list\nnpm http GET https://registry.npmjs.org/dirty/0.9.6\nnpm http GET https://registry.npmjs.org/async/0.1.15\nnpm http GET https://registry.npmjs.org/channels/0.0.2\nnpm http GET https://registry.npmjs.org/mysql/0.9.5\nnpm http GET https://registry.npmjs.org/optimist\nnpm http GET https://registry.npmjs.org/cli/0.4.3\nnpm http GET https://registry.npmjs.org/minimatch\nnpm http GET https://registry.npmjs.org/qs\nnpm http GET https://registry.npmjs.org/mkdirp/0.3.0\nnpm http GET https://registry.npmjs.org/mime/1.2.4\nnpm http GET https://registry.npmjs.org/socket.io-client/0.9.6\nnpm http GET https://registry.npmjs.org/policyfile/0.0.4\nnpm http GET https://registry.npmjs.org/redis/0.6.7\nnpm http 304 https://registry.npmjs.org/fast-list\nnpm http 304 https://registry.npmjs.org/optimist\nnpm http 304 https://registry.npmjs.org/cli/0.4.3\nnpm http 304 https://registry.npmjs.org/minimatch\nnpm http 304 https://registry.npmjs.org/channels/0.0.2\nnpm http 304 https://registry.npmjs.org/mysql/0.9.5\nnpm http 304 https://registry.npmjs.org/async/0.1.15\nnpm http 304 https://registry.npmjs.org/dirty/0.9.6\nnpm http 304 https://registry.npmjs.org/mkdirp/0.3.0\nnpm http 304 https://registry.npmjs.org/qs\nnpm http 304 https://registry.npmjs.org/mime/1.2.4\nnpm http 304 https://registry.npmjs.org/socket.io-client/0.9.6\nnpm http 304 https://registry.npmjs.org/policyfile/0.0.4\nnpm http GET https://registry.npmjs.org/lru-cache\nnpm http GET https://registry.npmjs.org/mime\nnpm http GET https://registry.npmjs.org/qs\nnpm http 304 https://registry.npmjs.org/redis/0.6.7\nnpm http GET https://registry.npmjs.org/glob\nnpm http GET https://registry.npmjs.org/hashish/0.0.4\nnpm http 304 https://registry.npmjs.org/mime\nnpm http 304 https://registry.npmjs.org/qs\nnpm http 304 https://registry.npmjs.org/lru-cache\nnpm http 304 https://registry.npmjs.org/glob\nnpm http GET https://registry.npmjs.org/inherits\nnpm http GET https://registry.npmjs.org/minimatch\nnpm http 304 https://registry.npmjs.org/hashish/0.0.4\nnpm http GET https://registry.npmjs.org/traverse\nnpm http GET https://registry.npmjs.org/xmlhttprequest/1.2.2\nnpm http GET https://registry.npmjs.org/ws\nnpm http GET https://registry.npmjs.org/active-x-obfuscator/0.0.1\nnpm WARN prefer global npm@1.1.23 should be installed with -g\nnpm http 304 https://registry.npmjs.org/inherits\nnpm http 304 https://registry.npmjs.org/minimatch\nnpm http GET https://registry.npmjs.org/lru-cache\nnpm http 304 https://registry.npmjs.org/active-x-obfuscator/0.0.1\nnpm http 304 https://registry.npmjs.org/traverse\nnpm http 304 https://registry.npmjs.org/xmlhttprequest/1.2.2\nnpm http 304 https://registry.npmjs.org/ws\nnpm http GET https://registry.npmjs.org/zeparser/0.0.5\nnpm http GET https://registry.npmjs.org/htmlparser\nnpm http GET https://registry.npmjs.org/cssom\nnpm http GET https://registry.npmjs.org/commander\nnpm http GET https://registry.npmjs.org/options\nnpm http 304 https://registry.npmjs.org/lru-cache\nnpm WARN prefer global jshint@0.7.1 should be installed with -g\nnpm http 304 https://registry.npmjs.org/options\nnpm http 304 https://registry.npmjs.org/zeparser/0.0.5\nnpm http 304 https://registry.npmjs.org/commander\nnpm http 304 https://registry.npmjs.org/htmlparser\nnpm http 304 https://registry.npmjs.org/cssom\n\nws@0.4.15 install /etherpad-lite/src/node_modules/socket.io/node_modules/socket.io-client/node_modules/ws\nnode install.js\n\n\n=                                                                              =\n=  To install WS with blazing fast native extensions, use                      =\n=                                                  =\n=                                                                              =\nasync-stacktrace@0.0.2 ./node_modules/async-stacktrace\nsemver@1.0.13 ./node_modules/semver\nresolve@0.2.1 ./node_modules/resolve\nasync@0.1.18 ./node_modules/async\nejs@0.6.1 ./node_modules/ejs\nrequire-kernel@1.0.5 ./node_modules/require-kernel\nformidable@1.0.9 ./node_modules/formidable\nslide@1.1.3 ./node_modules/slide\nrequest@2.9.100 ./node_modules/request\ngraceful-fs@1.1.5 ./node_modules/graceful-fs\n\u2514\u2500\u2500 fast-list@1.0.2\nunderscore@1.3.1 ./node_modules/underscore\nyajsml@1.1.3 ./node_modules/yajsml\nclean-css@0.3.2 ./node_modules/clean-css\n\u2514\u2500\u2500 optimist@0.1.9\nlog4js@0.4.1 ./node_modules/log4js\nexpress@2.5.8 ./node_modules/express\n\u251c\u2500\u2500 qs@0.4.2\n\u251c\u2500\u2500 mime@1.2.4\n\u2514\u2500\u2500 mkdirp@0.3.0\nuglify-js@1.2.5 ./node_modules/uglify-js\nconnect@1.8.7 ./node_modules/connect\n\u251c\u2500\u2500 mime@1.2.5\n\u2514\u2500\u2500 qs@0.5.0\nnpm@1.1.23 ./node_modules/npm\nueberDB@0.1.7 ./node_modules/ueberDB\n\u251c\u2500\u2500 channels@0.0.2\n\u251c\u2500\u2500 dirty@0.9.6\n\u251c\u2500\u2500 async@0.1.15\n\u2514\u2500\u2500 mysql@0.9.5 (hashish@0.0.4)\njshint@0.7.1 ./node_modules/jshint\n\u251c\u2500\u2500 minimatch@0.0.5 (lru-cache@1.0.6)\n\u2514\u2500\u2500 cli@0.4.3 (glob@3.1.9)\njsdom-nocontextifiy@0.2.10 ./node_modules/jsdom-nocontextifiy\n\u251c\u2500\u2500 cssom@0.2.3\n\u2514\u2500\u2500 htmlparser@1.7.6\nsocket.io@0.9.6 ./node_modules/socket.io\n\u251c\u2500\u2500 policyfile@0.0.4\n\u251c\u2500\u2500 redis@0.6.7\n\u2514\u2500\u2500 socket.io-client@0.9.6 (xmlhttprequest@1.2.2, ws@0.4.15, active-x-obfuscator@0.0.1)\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2012-05-30 23:59:47.214] [WARN] console - Can't get git version for server header\nENOENT, no such file or directory '/etherpad-lite/.git/HEAD'\n[2012-05-30 23:59:47.216] [INFO] console - Report bugs at https://github.com/Pita/etherpad-lite/issues\n[2012-05-30 23:59:47.825] [INFO] console - Installed plugins: ep_etherpad-lite\n[2012-05-30 23:59:47.828] [INFO] console -    info  - 'socket.io started'\n[2012-05-30 23:59:47.834] [INFO] console - You can access your Etherpad-Lite instance at http://10.2.68.80:9001/\n[2012-05-30 23:59:47.834] [INFO] console - The plugin admin page is at http://10.2.68.80:9001/admin/plugins\n. Running run.sh without relative path doesn't make any difference. Output looks exactly the same.\n. Here You go:\n# bin/run.sh\nEnsure that all dependencies are up to date...\nnpm http GET https://registry.npmjs.org/yajsml/1.1.3\nnpm http GET https://registry.npmjs.org/request/2.9.100\nnpm http GET https://registry.npmjs.org/require-kernel/1.0.5\nnpm http GET https://registry.npmjs.org/resolve/0.2.1\nnpm http GET https://registry.npmjs.org/socket.io/0.9.6\nnpm http GET https://registry.npmjs.org/ueberDB/0.1.7\nnpm http GET https://registry.npmjs.org/async/0.1.18\nnpm http GET https://registry.npmjs.org/express/2.5.8\nnpm http GET https://registry.npmjs.org/connect/1.8.7\nnpm http GET https://registry.npmjs.org/clean-css/0.3.2\nnpm http GET https://registry.npmjs.org/uglify-js/1.2.5\nnpm http GET https://registry.npmjs.org/formidable/1.0.9\nnpm http GET https://registry.npmjs.org/log4js/0.4.1\nnpm http GET https://registry.npmjs.org/jsdom-nocontextifiy/0.2.10\nnpm http GET https://registry.npmjs.org/async-stacktrace/0.0.2\nnpm http GET https://registry.npmjs.org/ejs/0.6.1\nnpm http GET https://registry.npmjs.org/graceful-fs/1.1.5\nnpm http GET https://registry.npmjs.org/slide/1.1.3\nnpm http GET https://registry.npmjs.org/semver/1.0.13\nnpm http GET https://registry.npmjs.org/underscore/1.3.1\nnpm http GET https://registry.npmjs.org/jshint\nnpm http GET https://registry.npmjs.org/npm\nnpm http 304 https://registry.npmjs.org/yajsml/1.1.3\nnpm http 304 https://registry.npmjs.org/request/2.9.100\nnpm http 304 https://registry.npmjs.org/require-kernel/1.0.5\nnpm http 304 https://registry.npmjs.org/resolve/0.2.1\nnpm http 304 https://registry.npmjs.org/socket.io/0.9.6\nnpm http 304 https://registry.npmjs.org/ueberDB/0.1.7\nnpm http 304 https://registry.npmjs.org/async/0.1.18\nnpm http 304 https://registry.npmjs.org/express/2.5.8\nnpm http 304 https://registry.npmjs.org/connect/1.8.7\nnpm http 304 https://registry.npmjs.org/clean-css/0.3.2\nnpm http 304 https://registry.npmjs.org/uglify-js/1.2.5\nnpm http 304 https://registry.npmjs.org/formidable/1.0.9\nnpm http 304 https://registry.npmjs.org/log4js/0.4.1\nnpm http 304 https://registry.npmjs.org/jsdom-nocontextifiy/0.2.10\nnpm http 304 https://registry.npmjs.org/async-stacktrace/0.0.2\nnpm http 304 https://registry.npmjs.org/ejs/0.6.1\nnpm http 304 https://registry.npmjs.org/graceful-fs/1.1.5\nnpm http 304 https://registry.npmjs.org/slide/1.1.3\nnpm http 304 https://registry.npmjs.org/semver/1.0.13\nnpm http 304 https://registry.npmjs.org/underscore/1.3.1\nnpm http 304 https://registry.npmjs.org/jshint\nnpm http 304 https://registry.npmjs.org/npm\nnpm http GET https://registry.npmjs.org/fast-list\nnpm http GET https://registry.npmjs.org/dirty/0.9.6\nnpm http GET https://registry.npmjs.org/async/0.1.15\nnpm http GET https://registry.npmjs.org/channels/0.0.2\nnpm http GET https://registry.npmjs.org/mysql/0.9.5\nnpm http GET https://registry.npmjs.org/optimist\nnpm http GET https://registry.npmjs.org/cli/0.4.3\nnpm http GET https://registry.npmjs.org/minimatch\nnpm http GET https://registry.npmjs.org/mkdirp/0.3.0\nnpm http GET https://registry.npmjs.org/mime/1.2.4\nnpm http GET https://registry.npmjs.org/qs\nnpm http GET https://registry.npmjs.org/policyfile/0.0.4\nnpm http GET https://registry.npmjs.org/redis/0.6.7\nnpm http GET https://registry.npmjs.org/socket.io-client/0.9.6\nnpm http 304 https://registry.npmjs.org/fast-list\nnpm http 304 https://registry.npmjs.org/optimist\nnpm http 304 https://registry.npmjs.org/cli/0.4.3\nnpm http GET https://registry.npmjs.org/qs\nnpm http GET https://registry.npmjs.org/mime\nnpm http 304 https://registry.npmjs.org/async/0.1.15\nnpm http 304 https://registry.npmjs.org/dirty/0.9.6\nnpm http 304 https://registry.npmjs.org/mysql/0.9.5\nnpm http 304 https://registry.npmjs.org/channels/0.0.2\nnpm http 304 https://registry.npmjs.org/minimatch\nnpm http 304 https://registry.npmjs.org/mkdirp/0.3.0\nnpm http GET https://registry.npmjs.org/lru-cache\nnpm http 304 https://registry.npmjs.org/qs\nnpm http 304 https://registry.npmjs.org/mime/1.2.4\nnpm http 304 https://registry.npmjs.org/policyfile/0.0.4\nnpm http 304 https://registry.npmjs.org/redis/0.6.7\nnpm http 304 https://registry.npmjs.org/socket.io-client/0.9.6\nnpm http GET https://registry.npmjs.org/glob\nnpm http 304 https://registry.npmjs.org/qs\nnpm http 304 https://registry.npmjs.org/mime\nnpm http 304 https://registry.npmjs.org/lru-cache\nnpm http GET https://registry.npmjs.org/hashish/0.0.4\nnpm http 304 https://registry.npmjs.org/glob\nnpm http GET https://registry.npmjs.org/minimatch\nnpm http GET https://registry.npmjs.org/inherits\nnpm http GET https://registry.npmjs.org/ws\nnpm http GET https://registry.npmjs.org/xmlhttprequest/1.2.2\nnpm http GET https://registry.npmjs.org/active-x-obfuscator/0.0.1\nnpm http 304 https://registry.npmjs.org/hashish/0.0.4\nnpm http GET https://registry.npmjs.org/traverse\nnpm http 304 https://registry.npmjs.org/active-x-obfuscator/0.0.1\nnpm http 304 https://registry.npmjs.org/traverse\nnpm WARN prefer global npm@1.1.23 should be installed with -g\nnpm http 304 https://registry.npmjs.org/minimatch\nnpm http 304 https://registry.npmjs.org/inherits\nnpm http GET https://registry.npmjs.org/lru-cache\nnpm http 304 https://registry.npmjs.org/ws\nnpm http 304 https://registry.npmjs.org/xmlhttprequest/1.2.2\nnpm http GET https://registry.npmjs.org/htmlparser\nnpm http GET https://registry.npmjs.org/cssom\nnpm http GET https://registry.npmjs.org/zeparser/0.0.5\nnpm http GET https://registry.npmjs.org/commander\nnpm http GET https://registry.npmjs.org/options\nnpm http 304 https://registry.npmjs.org/lru-cache\nnpm WARN prefer global jshint@0.7.1 should be installed with -g\nnpm http 304 https://registry.npmjs.org/options\nnpm http 304 https://registry.npmjs.org/htmlparser\nnpm http 304 https://registry.npmjs.org/zeparser/0.0.5\nnpm http 304 https://registry.npmjs.org/cssom\nnpm http 304 https://registry.npmjs.org/commander\n\nws@0.4.15 install /etherpad-lite/src/node_modules/socket.io/node_modules/socket.io-client/node_modules/ws\nnode install.js\n\n\n=                                                                              =\n=  To install WS with blazing fast native extensions, use                      =\n=                                                  =\n=                                                                              =\nasync-stacktrace@0.0.2 ./node_modules/async-stacktrace\nsemver@1.0.13 ./node_modules/semver\nresolve@0.2.1 ./node_modules/resolve\nasync@0.1.18 ./node_modules/async\nejs@0.6.1 ./node_modules/ejs\nrequire-kernel@1.0.5 ./node_modules/require-kernel\nformidable@1.0.9 ./node_modules/formidable\nslide@1.1.3 ./node_modules/slide\nrequest@2.9.100 ./node_modules/request\nunderscore@1.3.1 ./node_modules/underscore\nyajsml@1.1.3 ./node_modules/yajsml\ngraceful-fs@1.1.5 ./node_modules/graceful-fs\n\u2514\u2500\u2500 fast-list@1.0.2\nlog4js@0.4.1 ./node_modules/log4js\nclean-css@0.3.2 ./node_modules/clean-css\n\u2514\u2500\u2500 optimist@0.1.9\nexpress@2.5.8 ./node_modules/express\n\u251c\u2500\u2500 qs@0.4.2\n\u251c\u2500\u2500 mime@1.2.4\n\u2514\u2500\u2500 mkdirp@0.3.0\nconnect@1.8.7 ./node_modules/connect\n\u251c\u2500\u2500 mime@1.2.5\n\u2514\u2500\u2500 qs@0.5.0\nuglify-js@1.2.5 ./node_modules/uglify-js\nnpm@1.1.23 ./node_modules/npm\nueberDB@0.1.7 ./node_modules/ueberDB\n\u251c\u2500\u2500 channels@0.0.2\n\u251c\u2500\u2500 dirty@0.9.6\n\u251c\u2500\u2500 async@0.1.15\n\u2514\u2500\u2500 mysql@0.9.5 (hashish@0.0.4)\njshint@0.7.1 ./node_modules/jshint\n\u251c\u2500\u2500 minimatch@0.0.5 (lru-cache@1.0.6)\n\u2514\u2500\u2500 cli@0.4.3 (glob@3.1.9)\njsdom-nocontextifiy@0.2.10 ./node_modules/jsdom-nocontextifiy\n\u251c\u2500\u2500 cssom@0.2.3\n\u2514\u2500\u2500 htmlparser@1.7.6\nsocket.io@0.9.6 ./node_modules/socket.io\n\u251c\u2500\u2500 policyfile@0.0.4\n\u251c\u2500\u2500 redis@0.6.7\n\u2514\u2500\u2500 socket.io-client@0.9.6 (xmlhttprequest@1.2.2, ws@0.4.15, active-x-obfuscator@0.0.1)\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2012-05-31 00:18:34.947] [WARN] console - Can't get git version for server header\nENOENT, no such file or directory '/etherpad-lite/.git/HEAD'\n[2012-05-31 00:18:34.949] [INFO] console - Report bugs at https://github.com/Pita/etherpad-lite/issues\n[2012-05-31 00:18:35.547] [INFO] console - Installed plugins: ep_etherpad-lite\n[2012-05-31 00:18:35.550] [INFO] console -    info  - 'socket.io started'\n[2012-05-31 00:18:35.555] [INFO] console - You can access your Etherpad-Lite instance at http://10.2.68.80:9001/\n[2012-05-31 00:18:35.555] [INFO] console - The plugin admin page is at http://10.2.68.80:9001/admin/plugins\nAn error shows up in JS console when I try open a created pad. Editor seems to be frozen, all buttons doesn't work.\n\n. Nope, sorry. I can't make this server public.\n. I found solution. In my settings.json i changed \"0.0.0.0\" to my internal ip address (10.2.68.80), so connection to localhost on port 9001 can't be established. I reverted ip in settings.json to default (0.0.0.0) and it starts working (node listening on all adresses, include localhost). \nI think static.js shouldn't have 'localhost' hardcoded ;)\n. ",
    "Frank600": "Hello,\ni have exactly the same problem.\nIt is not possible to change bind ip, only 0.0.0.0 or 127.0.0.1 work :-(\nBut i need to change it.\nIs there a solution without reverse proxy?\nRegards,\nFrank\n. Hello.\nI have still this Problem :-(\negoiste:~/etherpad-lite$ node -v\nv0.6.19\negoiste:~/etherpad-lite$ npm -v\n1.1.24\negoiste:~/etherpad-lite$ ./bin/run.sh\nEnsure that all dependencies are up to date...\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\nTypeError: Cannot read property 'global' of undefined\n    at Object.get (/home/frank/etherpad-lite/src/node_modules/npm/node_modules/proto-list/proto-list.js:42:26)\n    at Object.get (/home/frank/etherpad-lite/src/node_modules/npm/lib/utils/ini.js:316:32)\n    at Object.get (/home/frank/etherpad-lite/src/node_modules/npm/lib/npm.js:384:39)\n    at EventEmitter.dir (/home/frank/etherpad-lite/src/node_modules/npm/lib/npm.js:418:22)\n    at Object. (/home/frank/etherpad-lite/src/node/utils/Settings.js:29:44)\n    at Module._compile (module.js:446:26)\n    at Object..js (module.js:464:10)\n    at Module.load (module.js:353:31)\n    at Function._load (module.js:311:12)\n    at Module.require (module.js:359:17)\nfrom src/package.json\n\"engines\"        : { \"node\" : \">=0.6.0\",\n                       \"npm\"  : \"1.1.24\"\nRegards,\nFrank\n. works :-)\nTHX\n. ",
    "aribn": "I'm having the same issue:\nError: The module at \"ep_etherpad-lite/static/js/rjquery\" does not exist.\n- I cleared the browser cache. \n- I removed all plugins.\n- I deleted all node_modules.\n- I'm accessing the server at 0.0.0.0:9001, matching my settings.json file.\nI did notice in the server logs that rjquery was requested in a strange way: \n/javascripts/lib/ep_etherpad-lite/static/js/rjquery/index.js?callback=require.define\nIn the browser, this URL returns an error, but a slightly different request works just fine: \n/javascripts/lib/ep_etherpad-lite/static/js/rjquery.js?callback=require.define\nI'm new to this codebase (and to node), and am wondering what change (if any) I should make so that rjquery is treated as a file rather than as a directory. Any ideas?\n. ",
    "jpkirkbride": "Hi,\nplease help me !\n10:00:20 [root@intranet etherpad]$ node -v\nv0.6.15\n10:00:48 [root@intranet etherpad]$ bin/installDeps.sh \nEnsure that all dependencies are up to date...\nnpm http GET https://registry.npmjs.org/request/2.9.100\nnpm http GET https://registry.npmjs.org/require-kernel/1.0.5\nnpm http GET https://registry.npmjs.org/resolve\nnpm http GET https://registry.npmjs.org/socket.io\nnpm http GET https://registry.npmjs.org/ueberDB/0.1.7\nnpm http GET https://registry.npmjs.org/async\nnpm http GET https://registry.npmjs.org/express\nnpm http GET https://registry.npmjs.org/connect\nnpm http GET https://registry.npmjs.org/clean-css/0.3.2\nnpm http GET https://registry.npmjs.org/uglify-js/1.2.5\nnpm http GET https://registry.npmjs.org/formidable/1.0.9\nnpm http GET https://registry.npmjs.org/log4js/0.4.1\nnpm http GET https://registry.npmjs.org/jsdom-nocontextifiy/0.2.10\nnpm http GET https://registry.npmjs.org/async-stacktrace/0.0.2\nnpm http GET https://registry.npmjs.org/npm/1.1.24\nnpm http GET https://registry.npmjs.org/ejs/0.6.1\nnpm http GET https://registry.npmjs.org/graceful-fs/1.1.5\nnpm http GET https://registry.npmjs.org/slide/1.1.3\nnpm http GET https://registry.npmjs.org/semver/1.0.13\nnpm http GET https://registry.npmjs.org/underscore/1.3.1\nnpm http GET https://registry.npmjs.org/jshint\nnpm http GET https://registry.npmjs.org/yajsml/1.1.3\nnpm ERR! Error: connect ETIMEDOUT\nnpm ERR!     at errnoException (net.js:670:11)\nnpm ERR!     at Object.afterConnect as oncomplete\nnpm ERR! You may report this log at:\nnpm ERR!     http://github.com/isaacs/npm/issues\nnpm ERR! or email it to:\nnpm ERR!     npm-@googlegroups.com\nnpm ERR! \nnpm ERR! System Linux 2.6.18-308.13.1.el5\nnpm ERR! command \"node\" \"/usr/local/bin/npm\" \"install\"\nnpm ERR! cwd /opt/etherpad/src\nnpm ERR! node -v v0.6.15\nnpm ERR! npm -v 1.1.16\nnpm ERR! syscall connect\nnpm ERR! code ETIMEDOUT\nnpm ERR! message connect ETIMEDOUT\nnpm ERR! errno {}\nnpm ERR! \nnpm ERR! Additional logging details can be found in:\nnpm ERR!     /opt/etherpad/src/npm-debug.log\nnpm not ok\n10:04:14 [root@intranet etherpad]$ \n. Sorry,\nnode updated to 0.6.19 but there is no change :\n10:23:27 [root@intranet etherpad]$ bin/installDeps.sh \nEnsure that all dependencies are up to date...\nnpm http GET https://registry.npmjs.org/request/2.9.100\nnpm http GET https://registry.npmjs.org/require-kernel/1.0.5\nnpm http GET https://registry.npmjs.org/resolve\nnpm http GET https://registry.npmjs.org/socket.io\nnpm http GET https://registry.npmjs.org/ueberDB/0.1.7\nnpm http GET https://registry.npmjs.org/async\nnpm http GET https://registry.npmjs.org/express\nnpm http GET https://registry.npmjs.org/connect\nnpm http GET https://registry.npmjs.org/clean-css/0.3.2\nnpm http GET https://registry.npmjs.org/uglify-js/1.2.5\nnpm http GET https://registry.npmjs.org/formidable/1.0.9\nnpm http GET https://registry.npmjs.org/log4js/0.4.1\nnpm http GET https://registry.npmjs.org/jsdom-nocontextifiy/0.2.10\nnpm http GET https://registry.npmjs.org/async-stacktrace/0.0.2\nnpm http GET https://registry.npmjs.org/npm/1.1.24\nnpm http GET https://registry.npmjs.org/ejs/0.6.1\nnpm http GET https://registry.npmjs.org/graceful-fs/1.1.5\nnpm http GET https://registry.npmjs.org/slide/1.1.3\nnpm http GET https://registry.npmjs.org/semver/1.0.13\nnpm http GET https://registry.npmjs.org/underscore/1.3.1\nnpm http GET https://registry.npmjs.org/jshint\nnpm http GET https://registry.npmjs.org/yajsml/1.1.3\nnpm ERR! Error: connect ETIMEDOUT\nnpm ERR!     at errnoException (net.js:670:11)\nnpm ERR!     at Object.afterConnect as oncomplete\nnpm ERR! You may report this log at:\nnpm ERR!     http://github.com/isaacs/npm/issues\nnpm ERR! or email it to:\nnpm ERR!     npm-@googlegroups.com\nnpm ERR! \nnpm ERR! System Linux 2.6.18-308.13.1.el5\nnpm ERR! command \"node\" \"/usr/local/bin/npm\" \"install\"\nnpm ERR! cwd /opt/etherpad/src\nnpm ERR! node -v v0.6.19\nnpm ERR! npm -v 1.1.24\nnpm ERR! syscall connect\nnpm ERR! code ETIMEDOUT\nnpm ERR! message connect ETIMEDOUT\nnpm ERR! errno {}\nnpm ERR! \nnpm ERR! Additional logging details can be found in:\nnpm ERR!     /opt/etherpad/src/npm-debug.log\nnpm not ok\nnpm not ok\n10:39:17 [root@intranet etherpad]$ \n.  I wrote a new issue : https://github.com/isaacs/npm/issues/2796\n. ",
    "magrasjc": "The problem is I have been tasked with making this project more\ncompatible with rpm. RPM looks for a 'configure' script. I do not\nwant to simply step on people's toes.\nSincerely,\nJC Magras\nOn Mon, Jul 2, 2012 at 1:03 PM, Marcel Klehr\nreply@reply.github.com\nwrote:\n\nIs this still an issue?\nWhy can't you add the files yourself.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/749#issuecomment-6715366\n. \n",
    "PhilLAL": "Hi, it seems interesting but it seems to me it does not solve the problem if we write some lines before the target anchor.\nExample : \nline 1:  part 1\nline 2: blabla\nline 3: part 2\nThe link will be linked to line 3.\nIf we then create a part 1.1 like this : \nline 1:  part 1\nline 2: blabla\nline 3: part 1.1\nline 4: part 2\nThe link will point to part 1.1 and not point to part 2.\nDo you know a solution to do this?. Thank you. for your answer.. I found ep_scrolltoanchor (https://www.npmjs.org/package/ep_scrolltoanchor).\nIt seems to be a viable solution... even if it is not a very elegant solution.. Sorry, I think I did not knew it exists. I will check this, thank you.\nCould you give me a link to check please?\n. Do you talk of ep_timesliderdiff?\n. I agree you can do this through timeslider but the visibility is absolutly not the same : while you would see each modification immediatly with this suggestion, you need to slide each modification by using timeslider, and it is not intuitive for users. \nFor example, it is not cleat why there are steps in timeslider at time T1, T2 and T3 but not between these steps.\nThe proposition to validate modification will avoid this experience you had with some documents. I have the same, but this validation step should avoid this nightmare.\n. Any comment ? Am I wrong ?\n. Ok, thank you for your answer.\nI probably made a mistake back then, but when I try again today, it works perfectly!. Thank you @ldidry for investiging this point, and for the suggestions. Hope this will help the developers to solve this issue. :)\nRegards.. After some cross tests, it seems closing the pad on each computer but one make the bug disappear.\nOpening again the pad on some computer works if the computer with 200 opened tab does not open the pad. \nI am absolutly not sure this means this issue is linked to the 200 opened tabs?. After some cross tests, it seems closing the pad on each computer but one make the bug disappear.\nOpening again the pad on some computer works if the computer with 200 opened tab does not open the pad. \nI am absolutly not sure this means this issue is linked to the 200 opened tabs?. If you think it is a duplicate from #3350 I confirm this is a different issue. :)\nIf not, could you let me know which bug report could be similar please?\nThank you.. ",
    "lpagliari": "@PhilLAL you would need some kind of \"named anchors\", so \"part 2\" would always be found, no matter which line it is. You can use a line attribute to mark line with \"part 2\", and would need a way to know what it the name of that link. But as far as something already implemented, I don't know any.. Thanks, @PhilLAL . I believe it has not, @vercha. Would be a great feature to have on Etherpad, are you interested on implementing it and submitting a PR?. https://github.com/ether/ep_comments. @pabelenda If you have access to server files, you can change setting.json to \"loglevel\": \"DEBUG\"; otherwise, you'll need to add some breakpoints using browser inspector\n. @ebarry This behavior usually happens when a plugin adds a line attribute but doesn't register it using aceRegisterBlockElements. Do you have any plugin installed?\nI've tried to reproduce the behavior accessing your link on Chrome, but I didn't see the caret moving on any line. Which browser and OS are you using?\n. Hum, that is awesome news, @ilmartyrk ! I remember having some issues with HTML exporting in the past, it was still not 100% depending on which plugins we had installed.\nHere's part of the code that tried to work around part of those issues, on ep_font_color: https://github.com/JohnMcLear/ep_font_color/blob/master/exportHTML.js#L40-L54\nOne more thing that I remember about exporting: if your Etherpad instance does not have any plugin that returns any value on getLineHTMLForExport, the value set on context.lineContent was not being exported. But your suggestion seems to be addressing that, right? (\"every ep_ plugin should set context.lineContent (...) and return true if anything was changed\"). Hey, guys, any news on this? We might need it to fix ep_font_color export to HTML...\n. I've added the following code to my src/static/custom/pad.js, which also solves the issue:\n// Get session id from URL params and set it on cookie, so private pads can be accessed\n  var urlParams = new URLSearchParams(window.location.search);\n  var sessionID = urlParams.get('sessionID');\n  if (sessionID) {\n    document.cookie = 'sessionID=' + sessionID;\n  }. I'm closing this issue, as there are already a few alternatives already listed here. If anyone thinks we should keep this opened, please let us know.. Actually I was thinking about changing\nnodeAttr: function(n, a)\n    {\n      if(n.getAttribute == null) return null;\n      return n.getAttribute(a);\n    },\nto\nnodeAttr: function(n, a)\n    {\n       if(n.getAttribute != null) return n.getAttribute(a);\n       if(n.attribs != null) return n.attribs[a];\n       return null;\n    },\nand use var cls = dom.nodeAttr(node, \"class\"); instead of nodeProp\n. @JohnMcLear Yep, both frontend and backend. All passed.\n. Hum, so I'm confused about the error TravisCI is showing (Missing required arguments USERNAME, API_KEY). I've seen another pull request with the same error message, and it was accepted, so I'm assuming this error might be related to the CI config, and not the code itself.\nI'm a newbie on Etherpad, so I don't know what to do next. Is there anything I can do to fix this?\n. @JohnMcLear sorry, I was not clear. I did what you said before creating the pull request, both test suites were passing on my local environment. My question was regarding Travis failure.\n. Ow, ok, got it. Thanks for the support!\n. @akshat-g don't run inside the bin/ folder, run on the root (etherpad-lite) folder.\nThis won't work:\n./backendTests.sh\nThis should:\n./bin/backendTests.sh\nDoes that work for you?\n. I'm using latest version of develop branch. But the same happens on master and even on release/1.4.1. Didn't test other versions.\n. No, same problem.\nRegarding your assumption, @JohnMcLear , if the user wants to change their name it is still possible, it's just a matter of focusing on the field and replacing the original value. I would only not expect the value to be gone when I try to edit it. Does that make sense to you?\n. Nope, wasn't working on that at all.\n. I see that the build failed, but I've only changed documentation...\n. @JohnMcLear do you mean testing with screen readers to check if this change didn't break anything? Or is your concern related to allowing developers to create plugins that might break things without they being aware of that? In this case, should we restrict the change of value attribute only when target element is an input with type=submit?\n. @JohnMcLear I've tested NVDA + Firefox + Windows: when mouse is over the localized button, the screen reader is reading the correct word (the localized one).\nI've compared the behavior with and without changing the value of the button, and it was exactly the same (same word read by NVDA).\n. Added how-to on wiki about this: https://github.com/ether/etherpad-lite/wiki/Adding-a-new-font-icon-to-fontawesome-etherpad\n. Two things you'll need to do at this moment to make sure icons will work:\n1. Use the latest version of develop branch of Etherpad, not a stable\n   version (this is because comment icon was merged yesterday to the code,\n   there's no stable version of it yet);\n2. Use \"minify\":false on your settings (apparently minifying makes plugins\n   not able to find fonts on the correct folder).\n1 should be unnecessary when we have a new stable version of Etherpad\nreleased; #2 is a bug and still need to be fixed.\nJust as a side note: #2 is necessary even if you don't configure\nep_comments to use icons, otherwise the \"delete\" icon will not be displayed\ncorrectly. Try to delete a sidebar comment, and you'll get the same 404\nerror message about fontawesome not found on your console. At least on my\nenvironment I saw that happening.\nHope this helps.\nOn Friday, June 12, 2015, DrHuxtable notifications@github.com\n<javascript:_e(%7B%7D,'cvml','notifications@github.com');> wrote:\n\nI tried to update this all locally and ended up my browser console crowing\nabout missing font-awesome, and the ep_comments as icons doesn't seem to\nwork at all, even with the JSON clause in my settings. I thought I'd pull\ndown fresh, before I made mention, but even after that I'm having the same\nissue.\nVersion number: 1.5.6\nGit sha: a0aa947\nhttps://github.com/ether/etherpad-lite/commit/a0aa9470a383e5361e544a9ba76fad06f69fd628\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/pull/2690#issuecomment-111378180.\n. John, check #2 I've mentioned on the previous comment.\n\nIt seems that, when minifying, plugins are looking for the font on /font,\nbut they are on /static/font.\nIf disabling minify does not work for you, let me know and I'll check what\nthe cause is. I'm planning to look for a fix for this today.\nOn Friday, June 12, 2015, John McLear notifications@github.com wrote:\n\n@lpagliari https://github.com/lpagliari I am noticing the bin icon\ndoesn't appear to be working any more for delete?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/pull/2690#issuecomment-111420105.\n. No. When minify is off plugin works fine and icons are displayed correctly.\n. Just tested with Chrome:\n\n(with chat maximized)\n\n\n.. and FF:\n(with chat maximized)\n\n\nThey look ok, but I'm not sure if you were mentioning other elements.\n. Hum, shouldn't I be able to see a \"Merge pull request\" button on the PR? I'm not familiar with accepting PR on Github, so forgive if I'm making a dumb question.\nThis is what I see:\n\nWas it because the Travis CI failed? Or is it because I don't have permission to merge?\nBTW, the error on the Travis CI was the one that usually happens: No output has been received in the last 10 minutes, this potentially indicates a stalled build or something wrong with the build itself.\n. Not sure if @Pita could help...\n. Tks!\n. This is a draft of the code I was using to avoid the \"flying\" toolbar on iOS. It was basically changing toolbar menus to position: absolute instead of fixed and moving the menu_right to the far bottom of the editor when virtual keyboard is supposed to be displayed (in this example, when an input or textarea has focus). The code is faaaaaar away from being perfect, it was only a partial hack to fix the issue for the most relevant scenario on the Etherpad instance I am using.\nIf anyone has any other suggestion I would be glad to give a try.\nHere's the code:\n```\nvar fixFlyingToobarOnIOS = function() {\n  if (browser.ios) {\n    var placeMenuRightOnBottom = $(\".toolbar ul.menu_right\").css('bottom') !== \"auto\";\ngetNewCommentContainer().find('input, textarea')\n.on(\"focus\", function() {\n  $(\".toolbar ul.menu_left\").css(\"position\", \"absolute\");\n  $(\".toolbar ul.menu_right\").css(\"position\", \"absolute\");\n\n  if (placeMenuRightOnBottom) $(\".toolbar ul.menu_right\").css(\"top\", $(document).outerHeight());\n})\n.on(\"blur\", function() {\n  $(\".toolbar ul.menu_left\").css(\"position\", \"\");\n  $(\".toolbar ul.menu_right\").css(\"position\", \"\").css(\"top\", \"\");\n\n  if (placeMenuRightOnBottom) $(\".toolbar ul.menu_right\").css(\"top\", \"\");\n});\n\n// When user changes orientation, we need to re-position menu_right\nif (placeMenuRightOnBottom) {\n  var resizeTimer;\n  $(window).on(\"resize\", function() {\n    clearTimeout(resizeTimer);\n    resizeTimer = setTimeout(function() {\n      var needToUpdateTop = $(\".toolbar ul.menu_right\").css(\"top\") !== \"\";\n      if (needToUpdateTop) $(\".toolbar ul.menu_right\").css(\"top\", $(document).outerHeight());\n    }, 500); // give enough time for the UI to change and editor be re-displayed\n  });\n}\n\n}\n``\n. @Gared I've checked on my iPhone and iOS simulator, the problem is gone after removingoverflow: scroll;`.\n. @JohnMcLear can you point someone that could take a look on this? @Pita maybe?\n. @Pita @Gared Could you also take a look on #2743, please? It's been there for more than a month, and I have other commits on other plugins that depend on these PRs to be approved... Or at least give some thoughts about a better way to fix it.\n. @Gared do you mean the generated HTML? Is your concern with the \":\" between key an value, or is it something else?\nI've made this test using ep_font_color (which stores attributes as [\"color\":\"red\"], instead of [\"color_red\", \"true\"], for example, so it needs Etherpad to be more flexible when building pad HTML). If you export this pad, you won't see any colored text; this is also what I get when requesting the HTML via API on my environment:\n```\ncurl \"http://localhost/api/1.2.11/getHTML?apikey=e14b6af40c1489e9940a81eed94690725ee58061f695c6a188750e1730688b95&padID=LFP\"\n{\"code\":0,\"message\":\"ok\",\"data\":{\"html\":\"<!DOCTYPE HTML>line 1line 2 -- this is redline 3\"}}\n```\nAfter applying the changes to ExportHTML.js, this is what I get when requesting pad HTML via API:\ncurl \"http://localhost/api/1.2.11/getHTML?apikey=e14b6af40c1489e9940a81eed94690725ee58061f695c6a188750e1730688b95&padID=LFP\"\n{\"code\":0,\"message\":\"ok\",\"data\":{\"html\":\"<!DOCTYPE HTML><html><body>line 1<br><color:red>line 2 -- this is red</color:red><br>line 3<br></body></html>\"}}\nDoes that help to explain? It wasn't clear to me what your concerns were to ask for references, so if you need more clarification let me know and I'll post it here.\n. Make sense to me. Will try to change this today or tomorrow. Thanks!\nOn Saturday, September 5, 2015, Stefan notifications@github.com wrote:\n\n@lpagliari https://github.com/lpagliari Yeah, my concerns are about the\n\":\" in the HTML, because as far as I know this is valid XML, but not valid\nHTML code. So my question was if you know any project, which is using a\ncolon in a HTML tag or if you know any documentation about it.\nWhat about storing the information in a data attribute like this:\n\nor\n\nbecause this would be valid HTML code.\nWhat do you think about this idea? Maybe I missed a point?!\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/pull/2762#issuecomment-137986289.\n. Will use <span> instead of <div> to be less intrusive.\n. @Gared we've submitted another commit on this PR with the suggestions you gave. Is that what you were expecting?\n. @Gared please take a look on this fork of ep_font_color, the original one still does not have the changes. We were waiting for this Etherpad PR to be approved before submitting the PR.\n\nIf you want to take a look on the export HTML part, this is the file you need.\nAnd if you need any other support, please let me know.\n. @Gared Thanks for the suggestion. I'll try to think about creating a separated hook, so it would be more clear what each hook does -- even if in the end both exportHtmlAdditionalTags and this new hook have their contents merged.\n. The headings feature you find on https://beta.etherpad.org/ is actually implemented by the ep_headings2 plugin, and there's already an issue there asking for this feature.\nIf you want to submit a PR with that feature (it will be awesome!), you can take a look on the aceKeyEvent hook. This seems to be a  good example about how to implement it: https://github.com/tm-linkwerk/ep_linebreak/blob/master/static/hooks.js.\nPlease let me know if there's something I can help you with to implement the PR.. @elijh can you check if removing only overflow: scroll; fixes the duplicate scroll bar, please?\n. We found a less intrusive way to fix #2772. We will close this PR and create one with the other solution.\n. This is the same issue as #2884, I'll close this one and leave the other one opened, so we keep all the discussion on a single place.. @JohnMcLear will take a look\n. @JohnMcLear fixed those tests on #2817 \n. I've never worked with Moodle, so I don't know how it is configured to work with Etherpad. But usually you get this message when your settings.json has editOnly set to true (as it is in the screenshot you've shared).\nBe aware that by setting editOnly to false you'll allow any user to create pads anytime they want, so this change on your settings.json might be risky, depending on how Moodle works with Etherpad.\nI hope that helps.\n. @bujatt can you open an issue on the plugin repo, please? I believe it is not an Etherpad issue. Tks!\n. @Halibutt as @JohnMcLear mentioned above, you need to change ace2_inner.js. You might check the event location(https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/location). Hope this helps.\n. LOL. Sorry, @Halibutt, I thought you were a programmer. The ideas I've mentioned were for a developer to fix the bug and submit the fix for it, so other people could use the same solution. I'll try to work on it and submit the fix myself.\n. ok, I've tried to use event location, but it does not differentiate left and right Alt when pressed with another key. I'll try other alternatives (if I find any), but if I cannot find a way to differentiate the two Alt keys I would suggest to have an option on settings that could enable/disable the shortcut. At least in this case the regular user would be able to avoid the issue...\nDoes anyone have another suggestion for me to try?\nI won't be able to take a look on this right now, will see if I can work on it next week.\n. @kamilmowinski @Halibutt #2891 was merged, so now it is possible to disable some shortcuts on the settings.json of Etherpad instance.\nIt is still not possible for an end-user to configure her/his personal preferences, nor distinguishing between regular Alt and Alt Gr keys, as @Halibutt suggested.\nI hope it helps you.. Are you using any plugins on your instance?\n. If you remove those plugins, do you get the same issues? It might be related to the plugins, not Etherpad core...\n. Thanks, @bhldev! I'll have to make some adjustments, but this will help a lot of people with conflicts with shortcuts. @c-martinez take a look on ep_comments\n. Tested on iPhone 5S with iOS 9 on both Safari and Chrome, worked fine for\nme when I've accessed https://beta.etherpad.org.\n@dmkanter do you have the same issue when you access\nhttps://beta.etherpad.org?\nOn Wednesday, May 4, 2016, John McLear notifications@github.com wrote:\n\nPlease point some other iOS people at this to replicatee.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/2900#issuecomment-217002135\n. I've researched a little bit more on this error, and found out that the commits on Jan 8th broke tests (tested on Chrome and Firefox). Commit #638757f is fine, all tests passing; next one is not. Also tried #eeab7e8, which looks like a fix for it, but it's still raising the error.\n\n@JohnMcLear were you working on that?\n. Looks like a duplicate of #2884. Let us know if it is not.\n. @g-borgulya I get the same error message when removing a line attribute with a different user. Are you sure the error message is because of AttributeManager.setAttributeOnLine, and not because of AttributeManager.removeAttributeOnLine?\nIf anyone wants to reproduce the issue, try to change any of the lines of this pad to style \"Normal\": https://beta.etherpad.org/p/LFP_badChangeset\n. BTW, I'll submit a PR for the issue with AttributeManager.removeAttributeOnLine as soon as I can...\n. I've tried to reproduce the issue adding different line attributes with different authors, but I didn't get the error you're getting. Do you have any other plugin installed on your Etherpad instance that I could use to try to reproduce the issue?\nThe solution you're suggesting looks correct to me (it is the same I used to fix the issue with removeAttributeOnLine), I'm just puzzled why you're getting the error when using setAttributeOnLine...\n. @xjtluapp this might help you: https://github.com/ether/etherpad-lite/issues/2107#issuecomment-185241914\n. Yep, looks good to me. Sorry, @xavidotron , for taking so long.. @Hallking this tool might help you: https://chrome.google.com/webstore/detail/google-translate/aapbdbdomjkkjkaonfhkkikfgjllcleb?hl=en. @hanwenbo whenever you create a session, you can start a timer that will renew your session when timer is done. Something like this:\n```\nvar sessionTimer;\nvar renewSession = function(validUntil) {\n  var sessionDuration = validUntil - Date.now();\n  sessionTimer = setTimeout(function() {\n    // call \"http://pad.domain/api/1/createSession?...&validUntil=\" + validUntil\n  }, sessionDuration);\n}\nvar stopRenewingSession = function() {\n  clearTimeout(sessionTimer);\n}\n```\nNote: remember to call stopRenewingSession when you don't need to renew the session anymore -- for example, when user is removed from the group.. I won't be able to link to the plugin because it is a private repo, but I included the example in docs as you suggested, @JohnMcLear \n. @tfsamaral ep_comments have an API to get comments: https://github.com/JohnMcLear/ep_comments/blob/master/index.js#L160\n. not resolved yet. Thanks for working on this, @rhelmer ! My understanding was that we needed to use JWT to enable PRs to run SauceLabs + Travis:\n\nNote that due to security restrictions, the Sauce Labs addon is not available on pull request builds unless you use the JWT Addon.\n\nFrom here.\nBut I'm fine with disabling the integration until we fix this -- lately most of the improvements of Etherpad come from external PRs anyway.. There's already an issue opened for that (see #2954)\n. @Wikinaut I don't see that on pad settings either: https://beta.etherpad.org/p/LFP\n\nWhere do you see yours?. \"Edit\" events can be a lot of things (changing the text, adding an attribute to one line or a piece of text, etc). If by \"edit\" you want any text change, aceEditEvent has some information on the context that might help you. Check the flag context.callstack.docTextChanged for that scenario.\nThe issue reported by @rugk is indeed as an issue with the plugin, as it should not update the values if no changes were made.\nRegarding the doc, it can certainly be improved, and every help is appreciated. Could you submit a PR with more details on the documentation of aceEditEvent? :-)\n. > and it's fixed, but by using different hook\nThat explains why I didn't find anything on the plugin code this morning that showed me why that behavior was happening... :smiley: \n\nCould you please tell me where I can find the code of the callstack, to know what's in it?\n\nSure! You can find it on ace2_inner\nThanks a lot, @ldidry !!\n. All values returned by the plugins on getLineHTMLForExport are concatenated. You might have a plugin that adds the <h1> and another that adds <h1 style=\"font-size: 2.0em;line-height: 120%;\">.\nRegarding disabling the plugins, you can move folders form node_modules to somewhere else, just make sure you restart Etherpad after doing that. The reason, I guess, is because Etherpad loads plugins data when it starts, so if you simply remove a plugin folder somewhere else Etherpad would still be expecting the folder to be on node_modules.\n. As this is a duplicate of #2486 and John had a candidate to fix the issue, I'm closing this one.\n. Can you submit a PR with that feature? It would be a nice contribution to the project...\n. Can you send the DB section of your settings.json? Without the password, of course...\n. Do you get an error message? Or the line is exported incorrectly?\n. I'm not sure if this is what you need, but maybe it can help: https://github.com/ether/etherpad-docker.\n. This hook might help.\n. The doc says it was introduced on API v 1.2.12\n. @LOB-PatrickT I believe Gared was asking about the full link (without APIKEY, of course). If you're calling http://s1.coranetsolutions.com:9001/api/1/appendChatMessage..., you'll get that error message; if you call http://s1.coranetsolutions.com:9001/api/1.2.13/appendChatMessage..., it should be fine.\n. BTW, you can run the backend tests (src/node_modules/mocha/bin/mocha --timeout 5000 --reporter nyan tests/backend/specs/api/chat.js) to check if the chat API is working fine, and if so just add some console.log to get the values you need (ex: the URL that is being called) to see if you're calling the API with the correct values -- that was the way I figured out you might be using the wrong URL.\n. Any pending question here, or can we close this issue?\n. This is an old issue (closed 5 months ago), please refer to https://github.com/ether/etherpad-lite/issues/3090 for updates about the current issue, @andreamald. @gramakri I see that you've added Cloudron on wiki, which seems to be the right thing to do. @JohnMcLear any comment about it, or can we close this issue?\n. Try aceEditEvent instead of aceSelectionChanged. 'setWraps' seems to be the last event before user can start typing.\n. @rugk Thanks!\n. @danfuzz I've seen Travis having the same issue on other builds of Etherpad, it might not be directly related to your commit\n. Take a look on this plugin, it might provide what you need: https://github.com/quenenni/ep_tables2\n. @mjdeslongchamps yes, Etherpad removes tags it does not understand and keeps only the text read, so it is probably not ready to handle table-related tags. I was supposing ep_tables2 would handle those tags for you.\n. To keep the discussion in a single place, I'll copy the text of #3038 here and close it there:\n\"My previous issue was closed.  It was here: https://github.com/ether/etherpad-lite/issues/3036\nI applied the plugin but I still cannot create a table via setHTML. Here is the code I am using.\n$url = $EtherPadURL.\"api/1/setHTML\";\n                // Create map with request parameters\n                $params = array ('apikey' => $EtherPadAPI, 'padID' => $padId,'html'=>$SheetGrid);\n                $query = http_build_query ($params);\n                $contextData = array (\n                    'method' => 'POST',\n                    'header' => \"Connection: close\\r\\n\".\n                        \"Content-Length: \".strlen($query).\"\\r\\n\",\n                    'content'=> $query );\n                $context = stream_context_create (array ( 'http' => $contextData ));\n                $result =  file_get_contents (\n                    $url,  // page url\n                    false,\n                    $context);\nWhen viewing the pad you can see all the text that would have been in the table. But the table structure has been stripped out.\nHere is the link to the pad.\nhttp://104.238.110.63:9001/p/356a192b7913b04c54574d18c28d46e6395428ab\nSo you can see what is happening.\"\n. @mjdeslongchamps BTW: when I check your pad, I see errors on the console:\nFailed to load 'ep_tables/static/js/datatables.js:aceKeyEvent' for 'ep_tables/tables/client_hooks/aceKeyEvent': Error: The module at \"ep_tables/static/js/datatables.js\" does not exist.window.console.error @ VM85:27\nFailed to load 'ep_tables/static/js/datatables.js:aceStartLineAndCharForPoint' for 'ep_tables/tables/client_hooks/aceStartLineAndCharForPoint': Error: The module at \"ep_tables/static/js/datatables.js\" does not exist.window.console.error @ VM85:27\nFailed to load 'ep_tables/static/js/datatables.js:aceEndLineAndCharForPoint' for 'ep_tables/tables/client_hooks/aceEndLineAndCharForPoint': Error: The module at \"ep_tables/static/js/datatables.js\" does not exist.window.console.error @ VM85:27\nFailed to load 'ep_tables/static/js/datatables.js:aceAttribsToClasses' for 'ep_tables/tables/client_hooks/aceAttribsToClasses': Error: The module at \"ep_tables/static/js/datatables.js\" does not exist.\n. This looks like an issue with contenteditable, as suggested on Litewrite issue.\nWhich browser are you using? Chrome has an open issue for that, for example.\n. @rugk can you submit a PR with a fix for this issue, please? This is an open source project, which means you can contribute with some code too. That would help us much more than only opening the issue. Thanks!!\n. Hi, @danfuzz . Good point about noDocType. I've noticed the export to TXT has also the same extra (unused and always false) var for doc type: exporttxt.getPadTXTDocument(padId, req.params.rev, false, function(err, txt).\nWould you mind removing noDocType, as you suggested? I'll merge your PR when you're done.\nAnd thanks a lot for the code!\n. Oh, that's even better! Thanks a lot, @danfuzz !!\n. Thanks, @danfuzz !\n. Take a look on the backend tests. There's a call to the api to set html content of a pad here: https://github.com/ether/etherpad-lite/blob/develop/tests/backend/specs/api/pad.js#L515. Print the url sent to api.get() and it might give you a hint on what is wrong with your call to the api.\n. Yes, that would be easier, thanks!\n. @StruBE-KAUST can you help us on that, please? There are some pages on wiki to support Etherpad configuration (ex: https://github.com/ether/etherpad-lite/wiki/How-to-use-Etherpad-Lite-with-MySQL), but none for postgresql, AFAICT\n. AWESOME, @dunatotatos !! Thanks a lot!\n. @pabelenda Do you have any plugin installed? If you load your Etherpad instance without the plugins and repeat the copy/paste steps on the same pad, do you still get the issue?\n. Just to clarify, @pabelenda: you cut/paste, then load the pad later and it never loads, is that it? Or does the pad goes empty right after you pasted the content (without reloading it)?\n. My guess is that the paste itself caused the error, so existing pads will keep being stuck at \"Loading\".\nLooking at the list of plugins, the only one that looked suspicious of causing this issue was ep_linebreak. If you have some time, could you install this plugin on your new Etherpad instance and try to copy/paste some lines with manual line-breaks to see if you can reproduce the error?\nThanks, @pabelenda !\n. @neynah I get an alert saying \"Somehow, you seem to have attempted to launch a package you have not installed.\" when I click on the \"Try Etherpad\" link. Is there a more straightforward way for users to try Etherpad @ Sandstorm?\nOne more suggestion: there are several other sites that run Etherpad (check this wiki page), so maybe adding a link to this page on the README + adding Sandstorm to the list would be a better way to include Sandstorm on Etherpads docs. What do you think?\n. @guillaume-uH57J9 Does this happen to other styles applied to the entire line (like alignment, for example)? The ep_headings2 plugin has an open issue related to export to HTML, so it might be an issue with the plugin, not Etherpad.\n. If alignment was correctly exported I would say it was probably an issue with ep_headings2. As both line attributes are not being exported, it might be (a) an issue with Etherpad not handling correctly line attributes on export; or (b) both plugins are not exporting their contents correctly. \nWe'll need to take a closer look on the code to be sure. But thanks for your report and your tests!\n. Some other users reported the same error, do the steps mentioned on this issue solve your problem?\n. @EPEffects I've notices you're running the bash script from inside of bin/. The script should be run from the etherpad-lite/ folder, so maybe that's what causing the error. Can you try running ~/etherpad-lite$ ./bin/run.sh, please? Thanks!\n. I haven't worked with SSL on DB settings, but you might find more info examining the ueber db code: https://github.com/Pita/ueberDB/blob/master/mysql_db.js\n. Thanks, @kernelfreak ! I hope this helps others.\n. For now, I would say \"use Node 6.9\" if you desperately need Etherpad running; to fix it we need to check the compatibility with newer versions of some libs -- for now I can say that at least mocha and npm are on this list.\n. @thomwiggers that's the exact point I was, when I had to pause my work on this issue. Still don't know what is happening there... If you find anything else, let me know. And thanks for trying to fix this too!\n. If you open the pad on your browser, do you see the correct char on the editor?\n. Thanks!\n. Can you give us more details about your issue, please?\nWhich plugins do you have installed? What are the error messages you see on browser console (if any)? And on Etherpad log? Do you have the same issue when you run your Etherpad instance without plugins? Is there any action the user does to trigger the reconnect?\nThanks!\n. Thanks!\n. @DannieFly as @joassouza mentioned, you're having the same error we're having when trying to update the dependencies to work with node v. 7 (see here). Using node 6.9 would probably work for you, but if you must use v. 7, then you'll have to wait for #3074 to be fixed.\n. Hi, @renebrain , could you provide some info about the instance you're using, please?\n\nwhich browser? Does it happens on other browsers?\nwhich OS?\ndo you have any plugins installed too?\nare you running Etherpad on your own machine, or are you using a platform like Sandstorm?\ncan you replicate the issue on https://beta.etherpad.org?\n\nThanks. You didn't mention your test was running on https://beta.etherpad.org/ and your screenshot did not show the URL, so I tried there using Chrome on Mac and could not reproduce. That's why I've asked you the questions above. Thanks for the tests, BTW! We'll take a look on it.. @monkey-pawan the place where a new line is generated is on ace2_inner.js. You can work around that issue by using the aceKeyEvent hook.. Hum, I'm not sure about where that is...\nBut if you want to maintain the line format when user presses ENTER, I would suggest you to overwrite the behaviour of ace2_inner on a plugin: when user presses ENTER, your plugin should do the same thing that ace2_inner does, but also it should copy all line attributes from original line to the new line. That would make what you need, I believe.. @DocMAX there's another issue related to this error message: https://github.com/ether/etherpad-lite/issues/3074#issuecomment-261005995. You can use Node 6.9 to work around this error message, or wait until the PR is merged and available on develop branch.. @Gared is this related to #3090 ?. Hi, @Unifex, it looks like each instance of Etherpad has its own database. Are you guys using a remote DB to store the pads? Do you have access to the settings.json on the Etherpad root folder? Could you tell us the DB config on that file?\nI am not aware of any doc about load balancing for Etherpad and I don't know if it is prepared to replicate its changes through different DBs for redundancy, so maybe having one DB for each instance is what is making you have this behavior.. @Datenaufschnitt hum, it's hard to tell, that's too generic. Can you check if the error is raised on a plugin code, or on Etherpad? Do you get the same error message when you create another pad with the same content?. @deloeuw are you able to edit other pads on the same Etherpad instance? I mean, is it an issue with an specific pad, or the Etherpad installation?\nIf your pad is not accessible anymore and you want to recover its content to work on another pad, you can try to export it by appending /export/etherpad after the id of your pad:  https://etherpad.fr/p/**************/export/etherpad.\nYou can also try to navigate through the revisions of your pad @ https://etherpad.fr/p/**************/timeslider, and then export an specific version where the issue does not happen by clicking on the button at the upper right corner of the Timeslider: \n\n. @deloeuw it looks like etherpad.fr runs etherpad-lite, so you are at the right place to ask. :-) I've tried to access a pad at etherpad.fr with issues too (https://etherpad.fr/p/Test), and if I access its Timeslider (https://etherpad.fr/p/Test/timeslider) I am able to see its content. The only thing you would have to do is to replace Test by your pad id (the one you replaced by ***** on your original question). Does that work for you?. @deloeuw if you want to restore your pad, you can try to export an old version of it and import into another pad:\n\ngo to the Timeslider (https://etherpad.fr/p/**/timeslider)\ngo back to an old revision by clicking on \n\nexport this revision by clicking on \n\ncreate another pad (so you don't loose your work)\non the new pad, import your file by clicking on \n\n\nYou might need to try the steps above for different revisions, until you find one that loads correctly.\n. Sorry, I won't be able to help you now.... Can you provide more details, please?\nOn Fri, Dec 23, 2016 at 3:39 AM, lyi notifications@github.com wrote:\n\nif my database is mysql \uff1f Emergency situation\uff1f Please help me\uff01\uff01Thanks\uff01\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/3102, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAzDIjHEbKRdg1-m0gXyS1iRFciO9AYSks5rK16fgaJpZM4LUll0\n.\n. Can you try the suggestions posted here, please?\n\nrm -Rf src/node_modules\nbin/run.sh --root. I'm not sure this is a plugin we can create right now, but if you want to try, here are some suggestions:\n\nTo specify which user can see what: add a line attribute \"allowing\" an user to access the line. ep_headings2 uses line attribs to set line style, so you can take a look on that plugin to check how you can implement this part;\nTo hide lines user cannot access: this is the hard part. I could not think on a way to safely implement it, the only way that occurs me is to use CSS to hide it, which still allows user to see the line if he/she inspects the code and removes the CSS. But if this is not an issue for you, you can use some hooks like http://etherpad.org/doc/v1.6.0/#index_acedomlineprocesslineattributes, http://etherpad.org/doc/v1.6.0/#index_acepostwritedomlinehtml and http://etherpad.org/doc/v1.6.0/#index_aceattribstoclasses. To help you. Again, take a look on ep_headings2, it uses the same hooks;\nWhen an user edits something close to a line he/she cannot access, it might lose its line attribs (this happens due to the way Etherpad checks for changes on DOM), so make sure you implement http://etherpad.org/doc/v1.6.0/#index_collectcontentpre to read the line attribs from the line. ep_headings2 also uses this hook.\n. Please take a look on #2651 for instructions on how to fix your issue.. Thanks!. @flotho this seems to be an issue with ueberdb lib. Can you try to run this example with your credentials to check if you're able to connect to your database?. Does this help?. @kernelfreak Does this happen only on Firefox, or could you reproduce in Chrome too? And is there any error message logged on browser console (not server console)? Thanks!. request already has a version using the correct dependency (see https://github.com/request/request/blob/master/package.json#L49), so it's a matter of Etherpad to use a newer version of request. It makes sense to be tracked here, @pmontrasio . Thanks!. @wojtas911 regarding the errors, it's probably because you're running a version of Etherpad that is not compatible with node v.7 (see #3074). Could you update to v. 1.6.1, please?\n\nAbout the warnings, they are normal. There are other issues opened to fix them (ex: #2954). @Gared can this be related to 00c9caf7a3ebbc6824a65a2b86fd0cc8391ecb9f?. The previous version (1.6.0) probably won't have this issue, @MonMohonSingha : http://etherpad.org/downloads/etherpad-lite-win-1.6.0-dcfb287990.zip. https://github.com/ether/etherpad-lite/wiki/How-to-deploy-Etherpad-Lite-as-a-service#windows-nssm. Any idea how to solve the Missing required arguments USERNAME, API_KEY error message when building on Travis? I know #2948 is about this issue, but it is still happening. Ideas? @JohnMcLear @Pita \nAs this PR is changing the tests on Travis, it would be necessary to run them to be sure I didn't break anything.. It looks like Chrome is removing the tag from line z when DnD includes the line break. Both magicdomid23 and magicdomid34 were supposed to have a <big_font>, but only magicdomid23 has one:\n\nIf you don't include the last line break, the tags are preserved:\n\n. Ok, so apparently the issue is much more complicated to fix: the browser is removing the tag whenever selection ends on that line (magcdomid24 does not have <big_font> after the drop):\n\nI can't think of a solution for this on our end, we would need the browsers to have their behaviour changed. Any suggestions?. This is the diff of the changes I was creating to simulate the behavior. Might be useful also if anyone in the future wants to simulate DnD on tests. *Be aware that helper.js is still a WIP, it won't simulate the entire DnD cycle (ex: there are some events missing, like dragenter, dragleave, etc):\n```\ndiff --git a/static/tests/frontend/specs/helper.js b/static/tests/frontend/specs/helper.js\nnew file mode 100644\nindex 0000000..d7028c5\n--- /dev/null\n+++ b/static/tests/frontend/specs/helper.js\n@@ -0,0 +1,113 @@\n+var ep_test_line_attrib = ep_test_line_attrib || {};\n+ep_test_line_attrib.helper = {\n+  // stores data transfered during a DnD\n+  _dataTransferMock: undefined,\n+\n+  // assumes text to be dragged is already selected before calling this function\n+  dragSelectionIntoPosition: function($targetLine, positionOnTarget) {\n+    // starting a new DnD, net to reset dataTransferMock\n+    this._dataTransferMock = this._createDataTransferMock();\n+\n+    this._triggerDnDEvent('dragstart');\n+\n+    // dragover: move dragged content around pad until its target destination\n+    this._dragSelectionBetweenOriginAndTargetLines($targetLine);\n+\n+    var dropAllowed = this._dataTransferMock.effectAllowed !== 'none';\n+    if (dropAllowed) {\n+      this._triggerDnDEvent('drop');\n+      this._removeSelectionFromSourceAndPlaceItOnTarget($targetLine, positionOnTarget);\n+    }\n+\n+    this._triggerDnDEvent('dragend');\n+  },\n+\n+ _createDataTransferMock: function() {\n+    // store data into a simple object, indexed by format\n+    var dataTransferMock = {\n+      // to be able to transfer selection from origin to target\n+      data: {},\n+      setData: function(format, value) { this.data[format] = value; },\n+      getData: function(format)        { return this.data[format]; },\n+\n+      // to decide if drop is allowed\n+      effectAllowed: 'all',\n+    };\n+\n+    // set initial value of transfered content\n+    dataTransferMock.setData('text/html', this._getHtmlContentOfSelection());\n+\n+    return dataTransferMock;\n+  },\n+\n+  _triggerDnDEvent: function(eventName) {\n+    var originalEvent = { dataTransfer: this._dataTransferMock };\n+    var $event = helper.padInner$.Event(eventName);\n+    $event.originalEvent = originalEvent;\n+\n+    var $editor = helper.padInner$('#innerdocbody');\n+    // as we're simulating the DnD event triggering, we need to trigger the event\n+    // using both the jQuery instance that is registering the main window and the inner frame.\n+    // This is necessary because Etherpad code listens DnD events on the padChrome jQuery,\n+    // but the plugins listen DnD events on the inner frame jQuery.\n+    // TODO: should we trigger for padOuter$ too?\n+    $editor.trigger($event);\n+    helper.padChrome$($editor.get(0)).trigger($event);\n+  },\n+\n+  _triggerDragoverEvent: function(currentTarget) {\n+    var $event = helper.padInner$.Event('dragover');\n+    $event.currentTarget = currentTarget;\n+    helper.padChrome$(currentTarget).trigger($event);\n+  },\n+\n+  _dragSelectionBetweenOriginAndTargetLines: function($targetLine) {\n+    var self = this;\n+\n+    var $originLine = this._getLineWhereCaretIs();\n+    var isDraggingUp = $originLine.index() > $targetLine.index();\n+\n+    var $linesBetweenOriginAndTarget = isDraggingUp ? $originLine.prevUntil($targetLine) : $originLine.nextUntil($targetLine);\n+    var $linesToDragOver = $linesBetweenOriginAndTarget.add($originLine).add($targetLine);\n+\n+    if (isDraggingUp) {\n+      // need to iterate backwards, as the content is being moved from bottom to top\n+      $linesToDragOver = $($linesToDragOver.get().reverse());\n+    }\n+\n+    $linesToDragOver.each(function() {\n+      self._triggerDragoverEvent(this);\n+    });\n+  },\n+\n+  _removeSelectionFromSourceAndPlaceItOnTarget: function($targetLine, positionOnTarget) {\n+    var innerDocument = helper.padInner$.document;\n+\n+    // delete original content\n+    innerDocument.execCommand('delete');\n+\n+    // set position to insert content on target line\n+    helper.selectLines($targetLine, $targetLine, positionOnTarget, positionOnTarget);\n+\n+    // insert content\n+    var draggedHtml = this._dataTransferMock.getData('text/html');\n+    innerDocument.execCommand('insertHTML', false, draggedHtml);\n+  },\n+\n+  _getHtmlContentOfSelection: function() {\n+    var selection = helper.padInner$.document.getSelection();\n+    var range = selection.getRangeAt(0);\n+    var clonedSelection = range.cloneContents();\n+    var span = helper.padInner$.document.createElement('span');\n+    span.appendChild(clonedSelection);\n+\n+    return span.outerHTML;\n+  },\n+\n+  _getLineWhereCaretIs: function() {\n+    var nodeWhereCaretIs = helper.padInner$.document.getSelection().anchorNode;\n+    var $lineWhereCaretIs = $(nodeWhereCaretIs).closest(\"div\");\n+\n+    return $lineWhereCaretIs;\n+  },\n+}\n\\ No newline at end of file\ndiff --git a/static/tests/frontend/specs/test.js b/static/tests/frontend/specs/test.js\nindex d7fbc2d..559bed1 100644\n--- a/static/tests/frontend/specs/test.js\n+++ b/static/tests/frontend/specs/test.js\n@@ -11,36 +11,59 @@ describe('Etherpad line attribute tests', function() {\ncontext('when user moves one line into the first position of another', function() {\n     before(function(done) {\n-      var $lineWithBigFont = getLine(LINE_WITH_BIG_FONT_BEFORE_MOVE);\n-      var $lineWithTinyFont = getLine(LINE_WITH_TINY_FONT_BEFORE_MOVE);\n+      var $targetLine = getLine(LINE_WITH_BIG_FONT_BEFORE_MOVE);\n+      var $lineToBeMoved = getLine(LINE_WITH_TINY_FONT_BEFORE_MOVE);\n\n// insert one line into the beginning of the other\n$lineWithBigFont.prepend($lineWithTinyFont);\nvar originalTargetLineId = $targetLine.attr('id');\n+\n// select line to be moved, including the \\n\nhelper.selectLines($lineToBeMoved, $lineToBeMoved.next(), BEGINNING_OF_LINE, BEGINNING_OF_LINE);\n+\n// move line into beginning of target line\n\nep_test_line_attrib.helper.dragSelectionIntoPosition($targetLine, BEGINNING_OF_LINE);\n// wait for Etherpad to finish processing the lines\n   helper.waitFor(function() {\n-        var oneDivInsideAnother = helper.padInner$('div div').length === 0;\n-        return oneDivInsideAnother;\n+        var $targetLine = getLine(LINE_WITH_BIG_FONT_BEFORE_MOVE);\n+        var newTargetLineId = $targetLine.attr('id');\n+        console.log(\"originalTargetLineId: \" + originalTargetLineId);\n+        console.log(\"newTargetLineId: \" + newTargetLineId);\n+\n+        return originalTargetLineId !== newTargetLineId;\n   }, 2000).done(done);\n });\n\n\n// https://github.com/ether/etherpad-lite/issues/3118\n     it('processes each line without changing any of their types', function(done) {\n\n\nvar $lineThatShouldBeBig = getLine(LINE_WITH_BIG_FONT_AFTER_MOVE);\n       var $lineThatShouldBeTiny = getLine(LINE_WITH_TINY_FONT_AFTER_MOVE);\n\n\nexpect($lineThatShouldBeBig.find(BIG_FONT).length).to.be(1);\n       expect($lineThatShouldBeTiny.find(TINY_FONT).length).to.be(1);\ndone();\n });\n+\n+    // https://github.com/ether/etherpad-lite/issues/3120\n+    it('does not affect any of the lines around moved line', function(done) {\n+      var $lineBeforeMovedLine = getLine(LINE_WITH_BIG_FONT_AFTER_MOVE);\n+      var $lineAfterMovedLine = getLine(ANOTHER_LINE_WITH_BIG_FONT);\n+\n+      expect($lineBeforeMovedLine.find(BIG_FONT).length).to.be(1);\n+      expect($lineAfterMovedLine.find(BIG_FONT).length).to.be(1);\n+\n+      done();\n+    });\n   });\n\n\n/ *** Helper functions ***** /\n\n/ *** Helper functions/vars ***** /\n// use constant just to be clearer why the '0' is there on the code\nvar BEGINNING_OF_LINE = 0;\n+\n   var BIG_FONT  = 'big_font';\n   var TINY_FONT = 'tiny_font';\n\nvar LINE_WITH_BIG_FONT_BEFORE_MOVE  = 1;\n   var LINE_WITH_TINY_FONT_BEFORE_MOVE = LINE_WITH_BIG_FONT_BEFORE_MOVE + 1;\n+  var ANOTHER_LINE_WITH_BIG_FONT = LINE_WITH_TINY_FONT_BEFORE_MOVE + 1; // this won't change after moving line\n// line with tiny font will be moved to the position of line with big font\n   var LINE_WITH_TINY_FONT_AFTER_MOVE = LINE_WITH_BIG_FONT_BEFORE_MOVE;\n@@ -50,6 +73,7 @@ describe('Etherpad line attribute tests', function() {\n     var pad = ''\n             + '<' + BIG_FONT + '>Big line' + BIG_FONT + ''\n             + '<' + TINY_FONT + '>Tiny line' + TINY_FONT + ''\n+            + '<' + BIG_FONT + '>This should still be a big line' + BIG_FONT + ''\n             + '';\n     return pad;\n   }\n@@ -85,4 +109,3 @@ describe('Etherpad line attribute tests', function() {\n   }\n});\n```. Thanks!. Thanks!. #3183 is about the same issue, closing this one and keeping the discussion there.. Great work, @joassouza !!\nThere are some other scenarios that also scroll the viewport: when user uses any of the arrow keys to navigate through the text; if user types something on a line out of viewport (at least on my tests here the scroll happened until X% of the screen, but there was no animation); etc.\nCan you handle those scenarios on your PR, please? Thanks!!. Yes, it is possible. First, you need to get the read-only id for the pad (check here how to get it); then you can use that id as the pad id on the URL.\nThere's a jQuery plugin available for embedding pads, if you want. Or you can customize the appearence with some of the accepted configurations as parameters for the URL (check here ). Yes. The APIKEY is stored on a file at the root folder of Etherpad instance. If you don't create one, it will generate a random one for you when you first run Etherpad.. @beerpal243 can you give more details about what you've already tried? Like: which steps did you perform? Were you following any instructions about how to use Etherpad + Moodle?\nThanks!. Thanks!. Please take a look on #2651 for instructions on how to fix your issue.. @pageye123 it looks like req.cookies is not set: \nline 46: if (req.cookies.language === undefined)\nDoes that give you any hint?. Hum, I can't reproduce the issue here... Did you uncomment the lines where toolbar is defined? They are all commented out on the generated settings.json. This seems an issue on the plugin code, so I've added some comments on the issue you've opened on its repository.. Could you post your messages in English, please? (\u4f60\u80fd\u7528\u82f1\u8bed\u53d1\u5e03\u4f60\u7684\u6d88\u606f\u5417?). This might help: https://translate.google.com/. I am closing this issue and keeping #2934 opened, as they are the same. Let me know if this is a different issue, and I will reopen it.. Duplicate of #2934 . https://github.com/felixge/node-dirty#dirtyrmkey-cb. @hanwenbo can this issue be closed, then?. Thanks!. You didn't provide a lot of information about your issue, but looking on other similar issues here at Etherpad repo I found this one. Can you try what was suggested there are see if it works?. @dam660 can you give us more information about your Etherpad instance? Which version were you running? Linux, Windows? Did you try to export via API or on the browser?\nThanks!. Thanks, @dam660 . Regarding the API, I was referring to the moment when Etherpad crashed. According to the logs you've sent, you were exporting a pad, right? Were you doing that on the browser or the API?. Hum, interesting... Tks, @pauldatta . You don't need to run make to install Etherpad (see installation instructions here).\nAs per the other issue you've recently closed, I'm assuming you'd already figured out how to fix your installation, right? If that is not the case, please let me know and I'll reopen this issue.. My bad, I didn't understand what you were trying to do.\nOn the README of doc/ I've found this:\nnode tools/doc/generate doc/index.md --format=html --template=doc/template.html > out.html\nCould you try to run this command and see if it works, please?. @pageye123 would you mind sending us a PR with that fix?. @pajaro23 this seems to be an issue with the plugin, not Etherpad.\n\nIs there any error message on the browser console (not Etherpad)?\nDid you follow all the steps for the installation of the plugin?\n\nThanks, @joassouza, for the help on this. :-). Great, @pageye123 , thanks!!. Hi, @ketanyekale , thanks a lot for your report -- and for including the solution too! Would you mind sending us a pull request with this fix? Thanks!. https://github.com/ether/etherpad-lite/blob/7ecf240d9e46ac41259100bf83242ca7b8fc205b/doc/api/embed_parameters.md#lang. Awesome!! Thanks for that, @cdparra . Unfortunately there is none, as far as I can tell.\nWhen a line is deleted the hook aceEditEvent is triggered, but it is also triggered when other actions happened, so you need to filter those other actions.\nBTW: acePostWriteDomLineHTML is called whenever a line needs to be re-written on editor, not only when the line is created. Ex: when you type something, when you add bold to part of the line, etc.. @renebrain does that happen when you open the \"Language\" dropdown on the pad settings?. There's another issue with the same error message. Does the suggestion there help you to solve yours?. Thanks!. @marcelklehr There are basically 2 differences between your repo and the file we have here:\n\n\nhttps://github.com/ether/etherpad-lite/commit/d7a181be677362dd993c91e6f57fc51803439cb9 uses a clearer way to handle errors when console is not defined. Do you want me to submit a PR with this change?\n\n\nhttps://github.com/ether/etherpad-lite/commit/90575064a9367141d570e641933abee0678d1600 sets the aria-label for all translated elements. This might be too far from what html10n was created for, but if you want me to submit a PR with the change, I can do that too.\n\n\nCheers!. > d7a181b overrides the global console object, which I find problematic, even if it's not defined. If the newly defined console object was local-only in scope, I'd accept this.\nDo you mean something like this: var console = window.console || {};, instead of var console = (window.console = window.console || {});?. @marcelklehr I've just created the PR: https://github.com/marcelklehr/html10n.js/pull/20. I wasn't able to test it with Etherpad because it looks like the latest version on html10n.js breaks something on Etherpad (I testes with Brazilian Portuguese -- pt-br --, and lots of keys could not be found). Maybe it's something we're doing on our side, like not using br in uppercase, as it is usual...\nI'll close this issue for now, as there is a newer one regarding the same thing (#3244).. Did you restart Etherpad? New plugins installed out of the /admin page won't be loaded until Etherpad is restarted (as far as I know). Ok, so let's try to get more info here: \n\nWhich OS are you using?\nCould you set the log level on your settings.json to DEBUG and paste here the output, please?\n\nTks. I've submitted a PR to ueberDB some days ago to enable this, but it was not approved yet. . When the PR is approved and ueberDB version on Etherpad is upgraded, you should define an url attribute on  settings.json according to the mongodb docs:\n\nTo describe a connection to a replica set named test, with the following mongod hosts:\ndb1.example.net on port 27017 and\ndb2.example.net on port 2500.\nYou would use a connection string that resembles the following:\nmongodb://db1.example.net,db2.example.net:2500/?replicaSet=test\n\nYour settings.json might be similar to this:\n\"dbSettings\" : {\n                    \"url\": \"mongodb://db1.example.net,db2.example.net:2500/?replicaSet=test\",\n                    \"extra\": {\n                      \"replset\": {\n                        (...)\n                      }\n                    }\n                 },\nFor values on replset: {...}, take a look on the MongoClient doc -- note that ueberDB uses v.2.0, not v.2.2, so make sure you're reading the correct version of the mongodb for node.. As far as I know, Etherpad only transforms URLs into links, but there's no way to change the text of the hyperlink.\nWould be a very useful feature, I agree. Do you think you could implement it, @parceldesign?. This plugin might be useful for you: https://github.com/JohnMcLear/ep_font_color. You basically need to \"mark\" some text with an attribute (the URL), and make sure you build the HTML in accordance to that.. ep_font_color uses color as the attribute name, and the color name as value; you would use something like hyperlink as the attribute name, and the URL as the value.. Sweet! \ud83d\udc4d . yes, you are correct. So here, where you have:\nvar modifier = {\n      extraOpenTags: '',\n      extraCloseTags: '',\n      cls: cls\n    };\nyou would need to change to\nvar modifier = {\n      extraOpenTags: '<a href=\"' + url + '\">,\n      extraCloseTags: '</a>',\n      cls: ''\n    };. Awesome, @inicio!! \\o/. Sure thing! I took a look on ep_embedded_hyperlinks and it looks you are on the right track.\nSome things I've noticed, might be useful for your next steps:\n\non aceCreateDomLine:\nyour regex might not match all URLs (ex: \"https://github.com/inicio/ep_embedded_hyperlinks/blob/master/static/js/index.js\"). You can use this website for testing, it has some resources that might help you: https://regex101.com/. My suggestion would be to capture everything that is not a whitespace ((?:^| )url:(\\S*));\nyour parenthesis on the regex already capture the URL for you: instead of using url.substr(4,url.length), you can simply use url[1] to get the full URL on the attribute value;\nexplaining what the code on aceInitialized does: when the user embeds the link, you need to save the attribute on that part of the text. To do that, you need to have access to some values that are not available on the regular $.onClick() call, but that are available when Etherpad initialises all its components. So you bind your doInsertLink function to context, to have access to context later, when user clicks the \"Embed\" button. If you didn't do that, you would not be able to access rep or documentAttributeManager inside of doInsertLink();\nI didn't get what is being done on aceEditEvent...\nright now, when I edit a line with an embedded link, the link is gone. That's what collectContentPre helps you to handle: every time a line is edited, this function is called for every node on that line. So you need to check if the node has an embedded link inserted by your plugin (disregard regular links typed on the text), and if so, make sure the node is marked with the correct attribute -- I believe that's what context.cc.doAttrib(context.state,\"url::\" + url); is trying to do.\n\nHope this helps on the next steps :-). should I close the issue, then, @inicio ? You can keep posting here, if you have any question.... @Gared what do you think? . @tiblu I'm not sure if @Gared will have time to take a look on this for now, but for me it makes sense to fix as you said. Could you implement the fix for this, please? Thanks!. @tiblu Sauce Labs has a restriction to run tests for PRs, that's probably the reason you're getting this error:\n\nNote that due to security restrictions, the Sauce Labs addon is not available on pull request builds unless you use the JWT Addon.\n\nWe still need to implement the change to use JWT, this is not done yet.. @shuyanglin there are some issues already for this behaviour. This last one especially should had fixed that, but maybe it didn't.\nCould you tell us which Etherpad version you're running, please?. Hum, I've tested with an iPhone 5s accessing https://beta.etherpad.org/ and did not have the same issue.\nDo you have any plugins installed? If so, which ones?\nWere you on read-only mode? Writing? Doing any action on pad, or just reading its content?\nWhich browser were you using?. @kentonv do you know if Sandstorm code is merged to the PR that fixed this issue (#2743)?\n. @kentonv if you have a Mac, you can simulate on XCode.. @shuyanglin @mark19891107 I'm closing this issue here, as Etherpad does not have the mentioned behaviour. Please open an issue on Sandstorm repo and mention this issue here, so we can follow up what had already been discussed on this thread.. Great, @renebrain , I'll close #3125 then.. The problem is that the HTML need to be sent encoded to the API. The Ruby API does that (I'm not getting the same issues you are, so I was puzzled about that and started investigating), maybe the Java one does not.\nUsing curl without encoding:\ncurl \"http://my.instance.com/api/1.2.13/setHTML?apikey=secret&padID=test&html=<html><head></head><body>\u00df</body></html>\"\nResult:\n\nNow curl + encoding:\ncurl \"http://my.instance.com/api/1.2.13/setHTML?apikey=secret&padID=test&html=<html><head></head><body>%C3%9F</body></html>\"\nResult:\n\nHope this helps.. @kernelfreak you don't need to save anything, you just need to transform the text you are sending to the Etherpad client. \nThis should actually be handled on the Java client (more precisely here), but if you don't want to wait for them to fix it, you can handle the text encoding yourself:\nimport java.net.URLEncoder;\n(...)\nEPLiteClient client = new EPLiteClient(\"http://localhost:9001\", \"K8OF91QMQYUvrNu3e9rJ7FnnVgaB3m9q\");\nString originalText = \"\u00f6, \u00e4, \u00fc, \u00df\";\nString encodedText = URLEncoder.encode(originalText, \"UTF-8\");\nclient.setText(\"my_pad\", encodedText);. @javierpf @cdparra are you using the Java client too?. > I can trie to do it directly in the client code and then submit a pull request\nPerfect! That would be even better. Thanks!. Crap! Yeah, @muxator , you're right.. Thanks, @jdittrich !. Thanks!. > EADDRINUSE 0.0.0.0:9001\nIt seems that the Etherpad server is still on. Are you sure Etherpad is being shutdown by stop.sh?. @Nic321 The HTML is here, but the best place to customize styles is on the custom static files. You can specify which file to be used as settings.json: https://github.com/ether/etherpad-lite/wiki/Getting-to-know-the-tools-in-bin#runsh\nbin/run.sh --settings /home/etherpad/thatSettingsFile.json. Thanks!. I don't know much about running Etherpad as a service, but I've remembered there's a wiki page about that: https://github.com/ether/etherpad-lite/wiki/How-to-deploy-Etherpad-Lite-as-a-service. Does that help you?. Hi, @Samurai88 , those seems to be issues of ep_font_size plugin. Could you open this issue there, so they can handle it? Thanks!. Hi, guys, could you submit a PR with the fonts you want? Here's an example of a commit that added a font to Etherpad: https://github.com/ether/etherpad-lite/commit/41bb4ef094ebd22c5d0068dd9e0ca13816519c81.. I'm not an expert on the subject, but I've just found this, which seems to address the behaviour you need: https://stackoverflow.com/a/28339483/7884942. There are some plugins that show the author name (like ep_author_hover, for example). Do you know which plugins are installed on your Etherpad instance?\nI believe what @Gared meant was that your issue should be opened on that repo, not here.. Fixed via #3301 . @00SteinsGate00 apparently when I've accepted #3206 this one started having code conflicts -- probably due to the trailing whitespaces you've removed -- no problem about that, BTW, I do the same thing here.\nCould you fix the conflicts so I can merge your changes, please? Thanks, and sorry for taking so long to take a look on your PRs.. Thanks @00SteinsGate00 !. Thanks, @00SteinsGate00 ! I'm closing #3201 too. The issue is on the plugins code, not on Etherpad core. My suggestion is to\nbind those functions with the plugin name as prefix (e.g.\n\"ace_ep_pluginname_doInsertColors\") to avoid name collision.\nCould you submit a pull request to those plugins with that change, please?\nOn Tue, 4 Jul 2017 at 04:01 shirley notifications@github.com wrote:\n\nas titled, I try to add background-color plugin & text color plugin in my\nlocal project, but both plugin need to bind ace_doInsertColors\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/3212, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAzDIuZQupgzt1BLG86aNwJF03f7CsSqks5sKeM5gaJpZM4OM9ez\n.\n. You can manipulate the DOM nodes on the header, for example. On this example the plugin moves its toolbar items to the right of all toolbar buttons. You could do something like this and move toolbar items around. There's a hook postToolbarInit you could use to make sure all items were created.. I'm closing this now, but let me know if my suggestion does not fit your needs and I'll re-open it.. Thanks, @patrickeasters . > and replaced 0.0.0.0 with the server's IP address\n\nIf you've changed 0.0.0.0 by another IP you need to access that IP on your browser, not localhost. Does your co-worker have access to the same server you're using? Can he/she access http://10.33.98.130:9001? What does he/she sees when accessing the URL you provided to him/her?. Hum, then I have no idea about what is happening there... :-/ If you edit your text and your coworker reloads the URL you've provided, does he/she see the updated text, at least?. CC @kentonv. Guys, I'll close this issue here, as this is not a feature for etherpad-lite, but for the Sandstorm version of it. Let me know if it needs to be re-opened.. Oh, sorry, now I got what you mean. On the plugin list there are some plugins to import .doc(x) files, but I don't see any to export using that format. I've never worked with that feature, so I don't have any recommendations for Sandstorm, sorry.. There are some instructions on the wiki. Do they help you solve your issue, @Billaboong ?. I've never used Etherpad as a service, but I can try to help you. Can you\nprovide more details? Like: was there any message on Etherpad logs when it\nstopped running? Could you set the debug mode as \"DEBUG\" instead of \"INFO\"\non your settings.json and send here what the tail of the output was when\nservice stopped, please?\n. > I changed the debug mode\nDid you run Etherpad as a service or did you exec the bin/debugRun.sh? The later would stop Etherpad when you close the terminal. What I meant on the other message was only to enable the debug logging.... Could you please run it as a service? BTW, which SO are you using? Which instructions of the wiki did you follow to create the service?. is there any error on the log file, @Billaboong ? It is probably on /var/log/etherpad.log. Hum, it looks like there's something wrong with your environment vars or configs, did you notice that? There's a \"cannot change directory to /bin/false\".... Sorry, @HairyFotr , this does not work because the locale files are generated avery few weeks, so your changes would be overwritten on the next locale update. You need to go through the languages on translatewiki.net :-/. Hum, good point. Yes, I believe that would work. If you want, just update this PR here.. Tks. Duplicate of #2837 . It was not resolved, it is still opened. It's just that this issue is exactly the same as #2837, so we don't need 2 of them opened. Is this a WIP, @rhelmer ?. \ud83d\udc4d . This is actually a bug on https://github.com/ether/ep_page_view, the plugin that draws the page layout on Etherpad. I've noticed the same, but never heard of a fix for that, sorry.\n@Billaboong can you open a bug on that repo, please?. @jainendra when you mention \"older versions\", are you talking about which versions specifically? Do you know when this stopped working as expected?. Some users had reported that error on another issue, not sure if you've already checked that. I would start trying to ignore cache first (Ctrl+Shift+R), but if that does not work you might need a fresh install.. Thanks for the input, @skupfer . I don't run Etherpad on Windows, but I hope it helps @BenaeSan to fix his problem.\nRegarding Etherpad being stopped, I'm pretty sure that is not true. If you take a look on the commit list, you'll see improvements being made from time to time (10+ since May, for example, disregarding localisation updates sent automatically by https://translatewiki.ne). Is that good enough? No, I don't think so, and I agree 100% that we must fix those warnings that @skupfer mentioned.\nEtherpad code is currently kept by devs who spend their free time improving it, which is why we need all the help we can get. It would be awesome if you could help us too. BTW, if the windows script on the repo is not working properly, could you submit a PR with the fix, please? It will be a great help for all the community! \nJust a side note: I'm currently working on a project that is building a product that uses Etherpad as its editor. We are currently using 20 Etherpad plugins, and this number might grow in the future. Some of them already existed and we improved the actual code (ex: ep_comments, which is a pretty complex plugin), so you might find plugins that are still being improved.\nMozilla Foundation also adopted Etherpad Lite as its editor, and I believe they wouldn't do that if they didn't have the perspective to see it being improved in a short and long term.\nIt's pretty hard to find a good open source editor that is also flexible to be customised, so I would not simply \"look for another project\" -- that's why we've decided to go with Etherpad in the first place on my project. It would be much better if we could improve this one and keep all the nice work all  contributors of Etherpad had done in the past. And that is why we need contributions like the one @skupfer mentioned on this issue. :-)\nSorry for the long text, it is not that nice to see someone telling the project you've been working on for the past 2 years say it is stopped. And don't get me wrong -- I agree with @skupfer about Etherpad needing more improvements! We just need more hands on this, not less.. Code was reverted, so I'm reopening this issue.. I don't have any pad with such amount of changes to test, but my first try would be to export the pad to the \"etherpad\" type (ex https://beta.etherpad.org/p/affaires-courantes/export/etherpad). I'm not sure if that was what you tried when you said \"use the API to make backups\", so forgive me if this is something you've already tried.. Hi, @sdkrum , I believe you need to run bin/installDeps.sh before performing the migration.... Do you have any folder on src/node_modules/ at all? This is what I have on my instance:\n\nRegarding the syntax you've mentioned, the first part (require(\"../src/node_modules/dirty\")) is getting a function from dirty module; the second part (('var/dirty.db')) is calling that function with the string 'var/dirty.db'. My guess is that it loads the dirty module with the content of that file.. Cool!. Does this help? https://github.com/ether/etherpad-lite/issues/3243#issuecomment-321266273. Hi, @platu , this looks like a duplicate of #3117 . Could you try to run Etherpad version 1.6.0, please? That might fix your issue.. Hi, @fungs , there's a plugin for this: https://www.npmjs.com/package/ep_markdown. You can check other plugins on this list: https://static.etherpad.org/plugins.html.. Etherpad does not have syntax highlight by default, it looks like the instance you're using has some plugins installed -- maybe ep_codepad?\nCan you provide a screenshot of what you're talking about, please?. It looks like this is the plugin they're using: https://github.com/etinquis/etherpad-plugins/tree/master/ep_syntaxhighlighting. There's an open PR with some examples of sintaxes, you can take a look on them to submit a PR to ep_syntaxhighlighting with the Markdown syntax.. We use this package to get languages and their native names, and it gets those values from https://translatewiki.net/. Here is a list of all supported languages, and there you can see that the names we're using on Etherpad are the same.\nAlthough I agree that the systematic way of naming would make it easier to find the languages, it looks like a huge change to be made on Translate Wiki.\nDo you want to give it a try and submit a PR with an alternative for Etherpad to use?. This is the package that creates the dropdown. It won't be possible to use other language codes because that would break the compatibility with all plugins that have i18n on them, as the code is used as file name for each translated language.. which part of the code are you talking about?. Etherpad doesn't have this kind of feature on its core, it might be a plugin that is providing that feature. Which Etherpad instance are you using?. Ok, got it. This is the plugin that provides the feature, please ask their creators for more info: https://github.com/ether/ep_markdown. Thanks!. @ilmartyrk did you find any issues with your solution?. You can actually choose some other DBs, including some noSQL. Redis is there too, by the way.\nYou don't need to use MySQL, but you can, if that is the option you have in hand.. I cannot reproduce the error, @vedantparchulkar. The toolbar is showed with only some of the buttons for read-only pads, but it is still there. Can you post here what your read-only screen looks like, please?. You can use display: none for those buttons, for example. There's a class .readonly added to body when pad is RO, so a simple CSS rule would address your needs. Does that help?. yep. > I made those changes but CSS is not reflecting. Restarted the ethernet. Still, CSS is not reflecting.\nCan you post here your etherpad-lite/src/static/custom/pad.css?\n\nAnd one more thing, Is this a correct (secure) way to not allowing readers to use those hidden options from the toolbar?\n\nNo, it is not. You're just avoiding the users to see that these options are available, but if they know the path to use, they'll be still able to call them. To implement what you need in a safe way, you would need to submit a PR, because Etherpad does not differentiate between read-only and regular pads when rendering those options.\nOne thing you can do is avoid displaying those options at all -- go to your settings.json and remove the commands you don't want to be displayed. If you need different behaviours for RO and RW pads, you may take a look on how those toolbar settings are used and go from there.\nI hope this helps.. No, @jinbullsushil. To do that you'll need to make ueberDB support mssql, then Etherpad can be configured to use it.. @jinbullsushil did you submit your PR to ueberDB? If they accepted your PR, Etherpad just needs to get the latest version to be able to support mssql. as a workaround while your PR is not approved, you can use your fork on your Etherpad instance. It shouldn't be a final solution, but at least you won't have to wait for the approval: on src/package.json, replace \"ueberdb2\": \"0.3.0\", by \"ueberdb2\": \"git@github.jinbullsushil/ueberDB.git\",. There's a plugin for that, please check #1865 . I've checked the history of the page and it looks like those instances were moved to the \"Out of date\" section after some releases with security fixes (see releases 1.5.1-1.5.4). You probably need to double-check witch Etherpad version they are using right now, so be sure they are not running a version with those issues still around.. > How do I check which version of Etherpad someone else is using? \nI'm not sure if you can. You would need to get in touch with their supporting teams...\n\nI also suspect all the Non-HTTPS links got shoved down there, and some of them have since become HTTPS now.\n\nCan you post here those changes? I'll update the wiki. Thanks, man!. This is an issue of the ep_page_view plugin, not Etherpad. Could you open an issue there, please? And, yes, it is a bug, you're using the plugin correctly.. Awesome work, @lmagniez !! Thanks a lot for it!\n@Dhwty does this PR impact your work, as you've mentioned on the original issue?\nI'm still feeling these should be features enabled by props on settings.json -- one for the colors, one for the font-size / line-height... @lmagniez could you do that, please? The default style would be 12px / 16px, and the customised one 16px / 21px -- I'm trying to keep the same ratio for both configs here, not sure if this is the best approach. Thoughts?\nIf we use 16px / 16px, we won't have the spacing between lines, which make reading more comfortable.\n12px / 16px:\n\n16px / 16px:\n\n16px / 21px:\n\n. we can define on settings.json.template that the improved styles would be used, and let other people avoid them if they want. At least we make more people to use the improvements of @lmagniez without they needing to do anything when starting their Etherpad instance for the first time. Thanks, @vvalembois . This will be an excellent improvement for Etherpad!. Could you make it work without the subdirectory (only hiding the port number)? There's a wiki page for that: https://github.com/ether/etherpad-lite/wiki/How-to-put-Etherpad-Lite-behind-a-reverse-Proxy#apache. Hey, @dvzrv , I'm still trying to understand everything you've written on this issue and on #3293 . Are both issues asking questions to handle the same problem? #3293 seems to be a more complete version f this one.... My suggestion would be to remove all plugins and check if the error happens when you add each of the plugins on your list -- yes, not ideal, but the error message is not very clear about where the issue would be.\nBTW, do you have the page_view setting to insert automatic page breaks turned on?. Thanks, @joassouza ! \ud83c\udf89 . I got some dependencies errors in the past (not with dezalgo though), so sometimes what worked for me was to install dependencies without sym links. Not ideal, but works:\nnpm cache clean\ncd src\nnpm install --no-bin-links\nIf you get an error Maximum call stack size exceeded, run npm install --no-bin-links again.\n. @fspc Looks good to me. Let us know if it worked for you.. What's the value of the editOnly setting? Is it set to true?\nIf you set sessions_required to false, do you still get the message \"You do not have permission to access this pad\"?. @Gared this looks like an important fix indeed, I think we should release it. If you need any help on this, please let me know.. Thanks, @Gared ! @pluehne version 1.6.3 is available. @rhelmer can you take a look on this, please?. @Pita for sure a re-written Etherpad would be much better than the current one, although I suspect that would take A LOT of time to complete. Things that would improve, with the ideas you've mentioned above:\n\nby using a React editor without content editable, we would get rid of the iframe waterfall we have, which sometimes is a nightmare to handle. On the other hand that might break lots of things inside Etherpad-core and its plugins, but that's a cost we might have to end up with cleaner and simpler code bases;\nby using a more TDD approach, we would be able to increase the test coverage we currently have. Currently some parts of the code do not have a very good coverage (if they have any at all), which I understandable, as no one had a very good knowledge about the original Etherpad code when Etherpad-lite was being re-written. But by having a good test coverage we will be able to change parts of the core of the editor without being afraid of breaking things. I'm personally always afraid of breaking something when I need to change anything on ace2_inner.js, for example;\nby using other tools & frameworks to do stuff that Etherpad doesn't need to handle, the codebase would be much simpler and less error-prone. And I'm pretty sure those guys know how to handle these other stuff much better than we do; :-)\n\nSo, yes, I agree this would be a great idea, and Etherpad would be much better after that. I'm not sure how long that would take, but would be awesome to have it. Let me know if you need a pair of extra hands to work on it, I would be glad to help.. Tks!. @ezzra I'm not sure this is what you've asked, but the plugins you have on your Etherpad instance need to be updated, they are not automatically upgraded. . Thanks!!. Hi, @rasos , this looks more like a plugin feature, not a core one.\nBTW, I don't think we should override the default context menu, as there might be other functions on the browser that are used often, and that we are not aware of. Eg: translations, dictionary, search on Google, speech, etc. Once we override the context menu, we're disabling these features.. Doesn't apt-get install work the same way of apt install?. @sevu I'm not familiar with python, but what if I have python v3 instead of v2?. I know some, but not all:\n\nep_headings2\nep_font_color\nep_font_size\nep_font_family\nep_comments\nep_page_view\nep_text_statistics\nep_themes\nep_desktop_notifications. https://github.com/ether/etherpad-lite/wiki/How-to-enable-importing-and-exporting-different-file-formats-with-AbiWord. Thanks, @ldidry !. Sorry, I\u2019m in the middle of my vacations, will only be able to take a look\non it in April\n. I'm assuming you're on Windows, am I right? If so, did you try the Prebuilt windows package or the Fancy Install?\n\nThe last one has an installation step: \n\n\nstart bin\\installOnWindows.bat\n\n\nDid you try that?. The log states that the error is on ep_page_view/blob/master/static/js/shared.js (not on Etherpad, by the way), but there's no indexOf on the latest version of this plugin. Do you know which version of ep_page_view you're using?. sorry, guys, I didn't have time to focus on Etherpad lately. I'll try to take a look on the next few days. I could reproduce the first issue (line author is fully changed), but not the second one (author name shows as \"[ojbect object]\"). I'm still investigating the causes.... @dgoldfein yes, I've been investigating the issue for the past couple of weekends. I still don't have a fix for it, but at least I found the commit that broke the behaviour. I'm looking on how to fix that now.. Ok, after a (long) while, I was able to find a way to handle all the scenarios, and this issue is finally fixed.. I guess @muxator might help us here... Any plans for a new release, @muxator?. Looks possible to me. But that would be a HUGE effort, there's a lot of things a spreadsheet would do that Etherpad currently does not implement.. I don't see this as an issue of Etherpad per se, but I'm fine with letting this opened for others to discuss.\nYou've mentioned Handsontable, can you elaborate why we would need a fork of Etherpad instead of using it? And are there other options you've researched as alternatives? It would be good to have these points described to start the discussion.... @muxator Agree, a flag on settings should turn this on and off.. There was an old issue (#3074) about Etherpad not working on node > 7, but I guess that's fixed, according to your recent comments on issues of this project, @muxator .\nRegarding upgrading the required Node version, I don't know what is the best approach on projects like Etherpad (already in PROD for a long time, supporting multiple environments, etc). Should we use try to focus on the most recent version, in order to provide a more stable code for a longer time? . sorry, @muxator, I didn't have time to take a look on this. Will do so and let you know.. @muxator I can confirm the test does not work on Firefox on Mac too -- although it passes on Chrome and on all browsers on our Travis CI (not sure why...).\nAnyway, I'm working on a fix right now, will submit a PR soon.. Some details about the issue: the test on authorship_of_editions.js tried to make changes with 2 different authors, and then checked if each change was assigned to the correct user. The author switch was made by reloading the pad -- which on Chrome was enough to set a different author.\nThe error happened on Firefox because the even after reloading the pad the author id was not reset. Weirdly the tests on this browser passed on Travis CI.\nThe fix was to force the cookie expiration, which in turn would force a new author id to be set.. > Does the fontawesome-etherpad font is the entire fontawesome or only a subset of the icons used by etherpad?\nJust a subset of the icons, @seballot :\n\nThere's more info about it here. You should not remove suppressErrorsInPadText from settings.json, you should set it to true.. I'm reopening this, as currently my project is facing the same issue when loading our Etherpad instance:\n\nI'll be glad to address this requirement, but I might need input from others using Etherpad, in order to not break other instances. I'm still collecting all steps that would need to be performed, but here is my initial list:\n\n[x] build an initial (non-optimized) bundle with the JS files\n[x] make sure we can debug errors in dev (use source maps?)\n[x] make sure we don't need to restart the server to get the latest version of the static files in dev\n[x] include CSS files (maybe allow usage of SASS?)\n[ ] include fonts\n[ ] split the full bundle into at least 2 parts: an initial one with the \"Loading...\" part; and all the other files;\n[x] allow assets to be minimized\n[x] allow assets to be uglyfied\n[x] allow development and production configurations\n[x] allow instances to customize their bundle process (create a setting on settings.json to point to custom webpack.config.js files?)\n[ ] make sure plugins installed via /admin route are bundled too\n\nPending Questions\n\n[ ] should we bundle each plugin separately?\n[ ] which browsers will we support? Webpack is known for not supporting IE8, so what would we do for those guys? Should we include a polyfill?. I know this is a lot to handle on a single PR, and I'm 100% with @muxator about preserving stability and not breaking existing functionalities. My plan is to submit a series of PRs.. Hi @seballot,\nThat was just an example of my dev environment -- you are right, we don't have minification turned on there. But in production we do have, and the performance is still suffering. It is not too much about the size (in production the size is down to 2.0 Mb), it's more about the number of request that we need to make.\n\nWe have a highly customised Etherpad instance (we use 20+ plugins, for example, some with more than 15 files & other dependencies), that's why there are so much more requests than a clean Etherpad instance (without any plugin).\nDo you see other solutions besides bundling the files together?. sorry, @seballot, it is a private instance and we cannot share it for now. But I really appreciate your offer, thanks!. OK, so after some work, we're finally able to release the first version of a plugin to optimize the assets we use: ep_webpack.\nIt was getting too hard to bundle & manage Etherpad core files, so we started by bundling the assets on plugins only.\nWe were able to go from 411 requests down to 57 using this initial version.\nFrom the initial list of requirements, we were able to address to following items:\n- [x] build an initial (non-optimized) bundle with the JS files\n- [x] make sure we can debug errors in dev (use source maps?)\n- [x] make sure we don't need to restart the server to get the latest version of the static files in dev\n- [x] include CSS files (maybe allow usage of SASS?)\n- [x] allow assets to be minimized\n- [x] allow assets to be uglyfied\n- [x] allow development and production configurations\n- [x] allow instances to customize their bundle process (create a setting on settings.json to point to custom webpack.config.js files?)\nThe idea was to try to optimize as many plugins as possible, but leave the plugins that cannot be handled unoptimized.\nThis is already enough for us, so I'm closing this issue.. I believe so. There's an API method to do that.. Oh, you're right. I've just checked the source code and there's a validation for that. We definitely need to improve the docs for that method, this restriction is not clear.. If you want to debug files on static/ folder, you can debug them. Now, if you want to debug files on server-side you need to run Etherpad on debug mode and have Node Inspector installed. @muxator do you mean the commit message? Sure thing.\nIt was in fact just a standard we adopted on my current project, but I believe we don't have any default for commit messages here -- do we? Let me know if we do, please, I might had missed that.... Hi @kostaspa,\nI believe you're looking for the getHTML API method. If this is not what you're looking for, please let us know.. Hum, got it. Yeah, we don't have anything like that yet, as far as I know.\nI've reopened this issue so we can keep tracking your request.. Sorry, guys, I won't be able to take a look on what you've proposed. I'm cc-ing @muxator, maybe he can.... Hi @RickvLeeuwen,\nThanks for the fix!\nThe translations on Etherpad are made via TranslateWiki, so the misspelling needs to be fixed there, not on the locale files here on the repo. Otherwise your fixes would be overwritten the next time the translations were pulled from there.\nCould you help us and fix the misspelling there, please?. @fcecagno wow, that would be awesome!!\nRegarding the feature request, I agree with @JedMeister , it might be too much for Etherpad to do. But as this might be useful for other users, I would suggest implementing it as a plugin, not a core feature, so it would be available only for the instances that actually want to provide that feature for their users.. > Also, I have some default pad options, which I would like to completely remove. For example, the RTL option, I would like to remove it from pad-options. How can I do that?\n@akshaysgithub on pad.js of your skin, you can remove it using jQuery:\n$('#settings p:has(#options-rtlcheck)').remove(). The code should be inside the customStart body, not outside of it.\nAnd I see that you've added the code with back-ticks around it:\n\nIt should not have them. Please remove the **** and try again. hi, @jwevhn, are you using any plugin?. I've created an example on https://beta.etherpad.org/p/LFP, and it seems to be working fine. @jwevhn, could you inspect the CSS styles on your instance, and check if the styles forul(orol`) are being overwritten?\nMaybe there's something on the theme you're using. CSS was the only option I could think of.... Did you get the chance to take a look on the CSS styles?\n\nMaybe you have something like this, which would block the visual changes to lists:\nul {\n  list-style-type: none;\n}. @Dubidubiduu I'm not sure if we still have issues with node versions, but could you try with node 8.9.0, please? We've had this type of error message you've mentioned, and changing the node version stopped the error from happening.. What if line has line attribute (which makes it start with \"*\")? Is that ok to look the attributes there, or should you look the attributes at 2nd char on line text?\n. Was there any reason for you to put the flag inside padOptions? If not, I would suggest putting it outside of it, close to where requireAuthentication is defined on the settings.json -- as useLoginForName depends on requireAuthentication.. You are assuming authorization header has an specific format -- and more than that: it is not undefined. This is not always true: I can set requireAuthentication: true on settings.json and still get no client.conn.request.headers.authorization.\nPlease provide a safer way to get loginUsr (one that won't throw an exception, I mean).. Please fix style here: clientVars.userName!= null (add spaces; use !== instead of !=). Hum, were these two lines removed on your rebase? They shouldn't.... Same here. No problem at all. I can squash all the commits when I merge the PR. why didn't you do the same (avoid calling caretPosition.getPosition()) on isCaretAtTheTopOfViewport?. what if there's a selection on the browser? (rep.selStart !== rep.selStart) Will it still work?. is this var used somewhere?. ~pad~ \"viewport\". Right?. which node? It looks like the function name is misleading.... editionIsAboveOfViewport: it might not be an edition, right? Could be just an arrow up/down, for example... If so, the var name could be more generic (aboveOfViewport, for ex). is this line still needed?. which case is this one? Is it when line has only the <br>?. On the lines above, there are two big blocks inside the if's, and they are pretty similar, right? If I got it right, you first try to get the caret position by checking the position of the selection, and if it is not possible, you create a \"fake\" element and insert it on the text, them get its position, and remove it. Is that correct?\nThe code is a bit hard to understand, so my suggestion is to try to extract some functions that are more meaningful. Can you do that, please?. is this function used outside of this module? If not, we can keep it local. 1. you can remove if (node.length === 0), the internal while already takes care of what you want to do;\n2. what is the while doing here? What is it looking for?. Is it possible that the offset would be inside a more internal node on the DOM? For example:\n<span id='outer'>\n  123\n  <span id='inner'>\n    456\n  </span>\n  789\n</span>\nnode = #outer\noffset = 5\nWhat would happen in this case?. need to review this comment, there's a word missing here. you are assuming that only line attributes change CSS styles in a more drastic way (margins, paddings, height, etc). This is not necessarily true:\n\nIs your code handling this scenario?. same note of getPositionTopOfPreviousBrowserLine. this looks like a function that should be on AttributeManager. this checking is duplicated when ifAttribIsFormattingUpdateStyleButtonState() is called from selectFormattingButtonIfLineHasStyleApplied -- we are looping through the FORMATTING_STYLES, so attribName surely is a formatting style. To avoid this, you could turn ifAttribIsFormattingUpdateStyleButtonState into a function that simply toggles the class on the button, and extract the checking (if (attributeIsFormattingStyle(attribName))) to the other place where it is called -- on toggleAttributeOnSelection.. these two calls of ifAttribIsFormattingUpdateStyleButtonState can be simplified into a single one, passing ! selectionAllHasIt as the second parameter:\nif (selectionAllHasIt)\n    {\n      documentAttributeManager.setAttributesOnRange(rep.selStart, rep.selEnd, [\n        [attributeName, '']\n      ]);\n    }\n    else\n    {\n      documentAttributeManager.setAttributesOnRange(rep.selStart, rep.selEnd, [\n        [attributeName, 'true']\n      ]);\n    }\n    ifAttribIsFormattingUpdateStyleButtonState(attributeName, !selectionAllHasIt); // italic, bold, ...\n. BTW, it is even possible to simplify the code even more:\nvar attributeValue = selectionAllHasIt ? '' : 'true';\ndocumentAttributeManager.setAttributesOnRange(rep.selStart, rep.selEnd, [[attributeName, attributeValue]]);\nifAttribIsFormattingUpdateStyleButtonState(attributeName, !selectionAllHasIt); // italic, bold, .... are these used anywhere?. AWESOME! Much better having all the code related to scrolling on a separated file \ud83c\udf89 . Interesting: this entire if-else block (lines 4042-4050) is calling functions from scroll module. It looks like something that would make more sense if extracted into a function of it, isn't it?\n  . awesome! \ud83d\udc4d . styling: can you use curly braces on the if as we have on the other ifs on this module, please?. this function needs to be renamed too, now you don't check if attrib is a formatting one :). I don't know if srcFile could be something like \"test.html.html\", but in this case this replace would not work as you're expecting. You can use the $ regex mark of EOL to fix that:\n```\n\"test.html.html\".replace(/.html/, '.odt')\n\n\"test.odt.html\"\n\"test.html.html\".replace(/.html$/, '.odt')\n\"test.html.odt\"\n``. same here. as this is a very specific case, it would be good to have some comments explaining the reason we have thisif/else`. Would you mind adding it here, @ldidry ? You can add a reference to this PR, it would make it easier for other devs to know why this code needed to be added.. \n",
    "martinvogt1986": "root#:/usr/src/etherpad-lite/src# node -e 'console.log(require(\"async\"))' ;\n{}\nroot#:/usr/src/etherpad-lite/src# cat node_modules/async/package.json | grep version\n  \"version\": \"0.1.18\",\n. cloned the repository with the following command about 30 minutes ago: git clone 'git://github.com/Pita/etherpad-lite.git'\nIf i start as root, for testing and evaluation i get the following...\n/usr/src/etherpad-lite# bin/run.sh\nYou shouldn't start Etherpad-Lite as root!\nPlease type 'Etherpad Lite rocks my socks' if you still want to start it as root\nEtherpad Lite rocks my socks\nbin/run.sh: 16: [: Etherpad: unexpected operator\nEnsure that all dependencies are up to date...\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[1970-01-01 00:05:03.770] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production.\n[1970-01-01 00:05:08.287] [INFO] console - Your Etherpad Lite git version is e23da51\n[1970-01-01 00:05:08.302] [INFO] console - Report bugs at https://github.com/Pita/etherpad-lite/issues\n/usr/src/etherpad-lite/src/node/server.js:59\nasync.waterfall([\n      ^\nTypeError: Object # has no method 'waterfall'\n    at Object. (/usr/src/etherpad-lite/src/node/server.js:59:7)\n    at Module._compile (module.js:446:26)\n    at Object..js (module.js:464:10)\n    at Module.load (module.js:353:32)\n    at Function._load (module.js:311:12)\n    at Array.0 (module.js:484:10)\n    at EventEmitter._tickCallback (node.js:190:39)\n. Host OS is Debian Wheezy\nnode --version: v0.6.18\n. root@debian:/usr/src/etherpad-lite# cd src/\nroot@debian:/usr/src/etherpad-lite/src# ls -r no\nls: cannot access no: No such file or directory\nroot@debian:/usr/src/etherpad-lite/src# cat node_modules/async/index.js\nroot@debian:/usr/src/etherpad-lite/src# cat node_modules/async/lib/async.js\nroot@debian:/usr/src/etherpad-lite/src# ls -R1 node_modules/async\nnode_modules/async:\nLICENSE\nMakefile\nREADME.md\nindex.js\nlib\npackage.json\nnode_modules/async/lib:\nasync.js\n. a reinstallation of async fixed this issue\n. ",
    "rcarmo": "Ah, so it's possible. I don't see how the embedding is pertinent, though, since I'm not embedding Etherpad - is this a setting?\nAlso, I can't find that plugin in the master branch. I do see a reference to plugins being npm packages in the README.plugins, but I can't really use npm - I'm trying to set up Etherpad Lite behind a firewall, and it was unbelievably painful to get hold of all the packages manually.\n. Ah, ok, but I don't want to redirect my users to set their display name. Is there not a cleaner way to do this?\n(and no, we don't allow outbound HTTP from the server LAN - it's a pain, but it's a common sense security measure)\nI'll have a look to see if I can enable the admin panel. The URL/route is apparently disabled, need to figure it out further.\n. Well, it isn't, really. \nFor starters, I'm clearly not having much success at finding my way around the code base (somehow, things aren't as obvious as with other express apps I've dabbled in), and it's something that I feel ought to have been built in (our traditional Java-based Etherpad works that way, and users expect apps to recognize them and display their names).\nOn Jun 5, 2012, at 15:42 , John McLear wrote:\n\nYou could write a plugin to do it, should be a 30 second job.\n-----Original Message-----\nFrom: Rui Carmo [mailto:reply@reply.github.com]\nSent: 05 June 2012 15:28\nTo: John McLear\nSubject: Re: [etherpad-lite] Set author name from HTTP auth data (#759)\nAh, ok, but I don't want to redirect my users to set their display name. Is there not a cleaner way to do this?\n(and no, we don't allow outbound HTTP from the server LAN - it's a pain, but it's a common sense security measure)\nI'll have a look to see if I can enable the admin panel. The URL/route is apparently disabled, need to figure it out further.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/759#issuecomment-6126169\nThis email and its attachments may be confidential and are intended solely for the use of the individual to whom it is addressed. Any views or opinions expressed are solely those of the author and do not necessarily represent those of the organisation from which this email originated. If you are not the intended recipient of this email and its attachments, you must take no action based upon them, nor must you copy or show them to anyone. Please contact the sender if you believe you have received this email in error. This email was sent by School Email - Safe Webmail and Hosted Email for Schools\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/759#issuecomment-6126603\n. On Jun 5, 2012, at 4:48 PM, John McLear wrote:\nyou don't want to pass the username in the URL for security reasons.\n\nThat too. In fact, I need a couple more things than the username, all of which are sent as HTTP headers by a reverse proxy that does authentication and matching of user profile data (a high-grade SSO solution called Shibboleth).\n\nEither way it should be a really simple plugin to write.  My advice is to jump onto npm and search for ep_ - once you find a plugin that does something similar to what you want just modify it and publish it back to npm then it will be available to install via the web interface.\n\nRight now npm as a whole seems to be extensively broken with all sorts of md5sum errors, so I can't even install a fresh source tree on my machine to do development.\n\nSo I guess you have a learning curve ahead of you, we'd be really grateful if you documented your experience so we know what is easy/difficult so we can help to improve this experience in the future!\n\nI'll try - right now I'm winging it and leaving things as they are until npm settles down. \nA minor comment on the plugin approach - I understand the motivation, but it might make it hard for people to deploy and adopt Etherpad if customization options require plugins (I haven't seen any yet due to npm breakage, but the point here is that you might want to consider having a good installation/configuration wizard that covers initial setup and essentials such as database configuration, read/write access, authentication, etc.)\n. On Jun 5, 2012, at 5:09 PM, John McLear wrote:\n\nI know shib well, we use it on PrimaryPad, we decided to drop it as an auth mechanism though because it's too clunky.  That's possibly why we didn't rewrite that functionality into Etherpad Lite initially.\n\nYeah, well, I'm not allowed to use anything else, really. But the \"basic auth\" emulation it provides isn't much different from, say, an Apache LDAP setup or other things your (sysadmin) users might have already. Educational establishments, in particular, tend to use SSO(like) solutions these days.\n\nOuch, not sure I can help w/ the npm stuff - without outbound http you might be in a world of pain tbh, why not allow outbound http to npm.org ?\n\nNope. Policy. Asking for a proxy internally, but it's currently broken on my Mac as well, and other people are complaining elsewhere.\n\nwe are really trying to get the author to actually get something written before moving onto new shiny things :)\n\nIn my experience, depriving them of Internet access for a couple of weeks usually results if fairly accurate documentation. Just a thought.\n. Hi there. Any update on this? :)\n. ",
    "volter": "I guess this should read https://github.com/ether/etherpad-lite/issues/551. ",
    "ntrrgc": "I think I have them set correctly. The server is accesible from the network.\nRunning installDeps.sh didn't worked.\n. I don't discard it to be NPM-related, since I run an issue with it until just one hour ago, which didn't allowed me to launch etherpad: https://github.com/isaacs/npm/issues/2498\n. Apparently, after throwing to trash the etherpad repo (having my configuration saved on another directory first), and cloning it again, it works. :|\n. ",
    "odony": "I don't think the problem lies in jsdom or its use. It seems it was introduced by 6507614e459dac868d3c76355ca013d13132bc79 during a change of line attributes processing. state.listType was replaced by state.lineAttributes but is not handled identically wrt to the list type. There are multiple ways to fix it, one would be to change _exitList() to properly delete state.lineAttributes['list'] when exiting back to the none list type.\nI'll try to make a pull request with a fix.\n. On 07/25/2012 01:51 PM, Matthias Bartelme\u00df wrote:\n\nGreat work. I cherry-pick'd it into the development branch since it's imo not a critical bug.\n\nGreat, thanks for the quick feedback!\n\nPlease consider issuing further patches directly to develop instead of master\n\nWill do, thanks for the tip (just signed up on github for this first patch, UI\nstill a bit confusing to me ;-))\n. ",
    "wolfganghuebsch": "Hi Benjamin,\nthanks for your reply! The problem has been solved by the developer of the ILIAS-plugin yesterday. And it works fine.\nThanks to all :-)\nRegards,\nWolfgang\n. I had some tests with the version 2.9.1 and I had no differences. So I think it doesn`t matter what version I use. Its an issue of my webserver, I think. I will ask in a abiword-forum to figuere out whats going wrong.\nBest Regards,\nHomer\n. Thanks for quick reply, Marcel!\nI try to insert a numberd list. As you see in the picture above, there ist no indent of the follwing line  (in german: Einr\u00fcckung der folgenden Zeile, ich wei\u00df nicht, ob indent der richtige Ausdruck f\u00fcr Einr\u00fccken ist). But this works with bullet-numbering perfect. \n. Thanks, John, works fine now! \n\n. Thanks John,\nbut which plugin should I use? This one\nhttps://npmjs.org/package/ep_clear_authorship_no_prompt\nonly removes the prompt?\nVon: John McLear [mailto:notifications@github.com] \nGesendet: Montag, 27. Januar 2014 13:24\nAn: ether/etherpad-lite\nCc: networkinghomer\nBetreff: Re: [etherpad-lite] Prevent users to reset authorship colours (#2071)\nInstall the plugin that disables the button \nnetworkinghomer notifications@github.com wrote: \n\u2014\nReply to this email directly or view it on GitHub https://github.com/ether/etherpad-lite/issues/2071#issuecomment-33363140 .  https://github.com/notifications/beacon/1839974__eyJzY29wZSI6Ik5ld3NpZXM6QmVhY29uIiwiZXhwaXJlcyI6MTcwNjM1ODI1NiwiZGF0YSI6eyJpZCI6MjQzMTM2ODl9fQ==--1c230e912d39782feca3cd0d8a70b20fbbe6e00c.gif \n. Okay, thanks to you guys, I found a solution: https://github.com/jrocho/ILIAS-Etherpad-Lite-Plugin\nCopy the file pad.js.sample to \"static/custom/pad.js\" within your etherpad-lite (server) folder. It add the functionality to add/remove individual functions from within ILIAS.\nThat removes it.\n. ",
    "compositionXI": "I am getting the exact same error:\nTypeError: Cannot read property 'global' of undefined\n    at Object.get (..../etherpad-lite/src/node_modules/npm/node_modules/proto-list/proto-list.js:42:26)\n    at Object.get (..../etherpad-lite/src/node_modules/npm/lib/utils/ini.js:316:32)\n    at Object.get (..../etherpad-lite/src/node_modules/npm/lib/npm.js:384:39)\n    at EventEmitter.dir (..../etherpad-lite/src/node_modules/npm/lib/npm.js:418:22)\n    at Object. (..../etherpad-lite/src/node/utils/Settings.js:29:44)\n    at Module._compile (module.js:446:26)\n    at Object..js (module.js:464:10)\n    at Module.load (module.js:353:31)\n    at Function._load (module.js:311:12)\n    at Module.require (module.js:359:17)\nAny ideas? \n. ",
    "jonmz": "Confirmed, too. \"npm\" : \"1.1.24\" in src/package.json fixes the problem. Amazing!\n. ",
    "Akhilesh-Kanojia": "When i am trying to connect my custom api to react its giving below error:\nTypeError: Cannot read property 'global' of undefined\nand also in console its giving 404 error\ni had tried many solution..but not getting \nCan anyone help me for resolving this issue\nRegards\nAkhilesh. ",
    "yudis": "Node.js is currently at v0.10. Can I use it ? by simply editing installDeps.sh\n. ",
    "jlpoolen": "That worked.\nHere's the install log:  http://pastebin.com/KdSzy2HS\nThere were warnings that may be of interest:\nnpm WARN package.json async-stacktrace@0.0.2 'dev-dependencies' should probably be 'devDependencies'\nnpm WARN excluding symbolic link lib/socket.io-client.js -> io.js\nnpm WARN prefer global jshint@0.7.1 should be installed with -g\nnpm WARN prefer global npm@1.1.24 should be installed with -g\nThank you.\n. ",
    "ecolitan": "Yep, make install needs to be called as root if your prefix is somewhere default like /usr/local/. The \"make\" command by itself though is a really bad habit to run as root. \n. ",
    "otih": "I'm not able to reproduce this issue. Is it still open?\n. ",
    "fastwings": "this is not an error its error of twice //\nsee post:\n http://localhost:9001/api//1/createAuthorIfNotExistsFor -d \"apikey=secret\" -d \"name=Michael\" -d \"authorMapper=7\" && echo\nand get just one \nif u use same uri in both its work \ni run a test and its work http://jsfiddle.net/S9TEx/\n. ",
    "andypost": "Got the same problem. curl http://localhost:9001/api/1/createGroup -d \"apikey=secret\" just hangs\n. Awesome! it works\n. suppose \"test\" method is a nice way to tell about current API version that server supports. And it would be nice feature to introduce a method to enumerate available API methods - so plugins could register their own methods for external usage (for example to get some data from external system)\n. ",
    "maxenced": "It looks like I get the same issue, running commit 22501f8b5bd9d251c00f0ab20802e386a823abf2 in develop branch (so including @amtep's patch). It occured after a lot of NEW_CHANGES are sent to same client.\nMAxence\n. For information, I got the same issue and discovered it was an apache rewrite misconfiguration. My previously-working config was missing new URIs like locales stuff, which caused the JSON.parse error (as it was getting html instead of json). Fixed by update of apache config to https://github.com/ether/etherpad-lite/wiki/How-to-put-Etherpad-Lite-behind-a-reverse-Proxy\n. ",
    "Betty03": "Thanks for the answer. :)\n. ",
    "vtamara": "Same problem testing in OpenBSD (adJ) 5.3 with abiword 2.8.6:\n[2014-01-22 05:46:05.575] [ERROR] console - TypeError: object is not a function\n    at ChildProcess. (/home/vtamara/comp/e1.3/ether-etherpad-lite-8fffe47/src/node/utils/Abiword.js:95:7)\n    at ChildProcess.EventEmitter.emit (events.js:99:17)\n    at Process.ChildProcess._handle.onexit (child_process.js:678:10)\n. ",
    "almet": "It seems you do: putting the good information there made it work, assuming you install the \"pg\" npm module.\n. Yeah, that's managed by ueberdb, see https://github.com/Pita/ueberDB/blob/master/postgres_db.js\n. ",
    "runvnc": "Well its been four months, so either I was just confused, or this really isn't an issue that affects anyone else anywhere.  We can always reopen it if we have to.\n. I think that a related issue in Chrome is that Control-F (search) will not scroll to the position of text matches if they are above or below what is visible.\nDo you guys think that maybe this is a bug in Chrome?\n. We changed #innerdocbody { padding-right: 2px; padding-left: 10px; } and #outerdocbody iframe { left: 0 !important; } and that seems to have worked without causing indent issues.  (Note that we have disabled/hidden line numbers.)\n. OK, thank you for trying.  I reported this inaccurately it seems.  I have just now been trying in Firefox on Windows.  The first time I tried it, when I reloaded it had copied.  The other times it did not copy.\nSo far my tests in Chrome/Chromium on Windows for all versions are doing it (copying instead of move, evident when you reload).\nSo it was not accurate to say Chrome 25 I think, its just that the users just noticed it.  My users are just going to use control x and control v for now instead of dragging with the mouse.\nThanks for looking into it.  I would say if you try a few more times on Windows you will probably see the problem but as long as users can get used to using control x control v instead of dragging and dropping, this might not be a high priority.\n. ",
    "fixinghomer": "Try abiword on command-line. Maybe this also don`t work.\nExamples: http://superuser.com/questions/165978/command-line-tool-in-linux-to-extract-text-from-word-excel-powerpoint-or-co\n. Yes, Abiword is installed and is working in command-line.\n. git-version of epl is 1.1, node is 0.8.8 - is a fresh installation.\nwhat is the git-command for the development-branche?\nWhen I decide to use node 0.6, can I easily delete the node-dir an recompile 0.6-version?\n. Thanks, John. But what now? It says: Change to develop. When I run now\nGit pull origin, it says:\nAlready up-to-date.\nMust I do a special command for loading the develop-branch?\nAm 12.09.12 00:46 schrieb \"John McLear\" unter notifications@github.com:\n\ngit checkout develop\n\u2039\n Reply to this email directly or view it on GitHub\nhttps://github.com/Pita/etherpad-lite/issues/985#issuecomment-8475469 .\n. today I did some testings. I tried both suggestions: dev-git and node 6.1. It didn`t worked. I tried it on two debian-servers. \nThe docs for importing are ok, I tested them at piratenpad. \n\nCan anyone confirm good results on debian machines with squeeze or wheezy? My first debian is a vserver, the second one is a machine on virtualbox.\nI must correct one thing, the error mentioned above seems to have nothing todo with the importproblem. it doesnt occure on one machine. -> [ERROR] console - ^[[39mpath.existsSync is now calledfs.existsSync`.\n. In one case (my homeserver) there is no reverse-proxy or https :-(\nUnfortunately, the epl-log says nothing. Ist set to INFO (bin/run.sh).\n. Yes, I can confirm that it does not occure with node 0.6. \nVon: Marcel Klehr [mailto:notifications@github.com] \nGesendet: Donnerstag, 13. September 2012 13:43\nAn: Pita/etherpad-lite\nCc: fixinghomer\nBetreff: Re: [etherpad-lite] Import fails. Log: [ERROR] console - ^[[39mpath.existsSync is now called fs.existsSync. (#985)\n\"path.existsSync is now called fs.existsSync\" is a deprecation error. It's the second item in the list of API changes between node v0.6 and v0.8 https://github.com/joyent/node/wiki/API-changes-between-v0.6-and-v0.8 . It won't occur, if you're using v0.6. That's a fact.\n\u2014\nReply to this email directly or view it on GitHub https://github.com/Pita/etherpad-lite/issues/985#issuecomment-8525626 . \nhttps://github.com/notifications/beacon/OWlpjIhBM0Hu94336kwWwQlYebvrsa6SiplL3zZ2id7mpB8lary8h-CXtn8Mnl6k.gif \n. Maybe it has something todo with the locales? Could you mail me a working\ndoc?\nAm 13.09.12 21:17 schrieb \"John McLear\" unter notifications@github.com:\n\nI have access to his box and I just imported a .doc fine from chrome.\n\u2039\n Reply to this email directly or view it on GitHub\nhttps://github.com/Pita/etherpad-lite/issues/985#issuecomment-8539706 .\n. Hi John,\n\nDevelop-git runs now on my production-server. But not with the ILIAS-Plugin.\nCheers,\n. Thanks!\nVon: Marcel Klehr [mailto:notifications@github.com] \nGesendet: Mittwoch, 3. Oktober 2012 09:58\nAn: Pita/etherpad-lite\nCc: fixinghomer\nBetreff: Re: [etherpad-lite] Can not install ep_datatables (#1030)\nsee #1039 https://github.com/Pita/etherpad-lite/issues/1039 \n\u2014\nReply to this email directly or view it on GitHub https://github.com/Pita/etherpad-lite/issues/1030#issuecomment-9098462 . \nhttps://github.com/notifications/beacon/J6T91GIPIyhU-8ti4GCGP6uHh0FGDT7qwTqh0FlcVuyd7JBGWxq_m_9IuFS7RPTT.gif \n. No. Still no.\nAm 15.01.13 21:50 schrieb \"Marcel Klehr\" unter notifications@github.com:\n\nHas it occurred to you, that the author(s) of the plugin in question may\nbe more qualified for helping you out with this issue?\n\u2039\n Reply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/1363#issuecomment-12288480 .\n. Seems this \nhttps://github.com/ether/etherpad-lite/issues/1696\nis related to this?\n. \n",
    "ProgVal": "I am on 4195e11a41c5992bc555cef71246800bceaf1915\n. The behavior changed, but it is still not fixed.\nI am on f95e2793d79ac1daa6f71a36da9d2ccb8c7dd151.\netherpad@Hydrogen:~/etherpad-lite$ ./bin/run.sh\nEnsure that all dependencies are up to date...\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n^C\netherpad@Hydrogen:~/etherpad-lite$ rm src/.ep_initialized\netherpad@Hydrogen:~/etherpad-lite$ ./bin/run.sh\nEnsure that all dependencies are up to date...\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2012-07-06 09:49:01.884] [INFO] console - Installed plugins: ep_linkify, ep_etherpad-lite, ep_authornames, ep_syntaxhighlighting, ep_sketchspace, ep_twitter_links, ep_invite_via_email, ep_headings\n[2012-07-06 09:49:01.888] [WARN] console - Can't get git version for server header\nnpm is not defined\n[2012-07-06 09:49:01.888] [INFO] console - Report bugs at https://github.com/Pita/etherpad-lite/issues\n[2012-07-06 09:49:01.891] [INFO] console -    info  - 'socket.io started'\n[2012-07-06 09:49:01.895] [INFO] console - You can access your Etherpad-Lite instance at http://127.0.0.1:9000/\n[2012-07-06 09:49:01.895] [INFO] console - The plugin admin page is at http://127.0.0.1:9000/admin/plugins\n. Now it does not start at all, even if src/.ep_initialized does not exist.\n. No, it freezes after \"start...\", so I had to press Ctrl-C.\nMarcel Klehr reply@reply.github.com wrote:\n\nrun.sh exits after start..., or what d'you mean?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/813#issuecomment-6833432\n\n\nSent from my Android phone with K-9 Mail. Please excuse my brevity.\n. Seems to work with a fresh install...\n\nOn Sun, 8 Jul 2012 13:31:39 -0700,\nMarcel Klehr\nreply@reply.github.com\nwrote: Can you provide information on how to reproduce this? Have you\ntried it with a fresh installation? Did you do anything special?\nWhich OS do you use?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/813#issuecomment-6834328\n. \n",
    "tonthon": "I confirm an update of etherpad-lite with git pull still leeds to the same problem (updated yesterday).\n. It does indeed\n. ",
    "francois2metz": "Here is a workaroud: https://github.com/francois2metz/ep_github/blob/master/ep_github.js#L4\n. ",
    "wirehack7": "Ok it works now. I updated and cahnged the versions which are required in the install routine. Thanks!\nBut EPL really needs to be updated for the newer versions of node.js and npm.\n. ",
    "1000i100": "and what about this : \nYou're running a wrong version of node, you're using v0.10.0, we need v0.6.x or v0.8.x\n. ",
    "Evilmachine": "It seems that this has something to do with nginx as proxy. If nginx is enabled this issue occurs.\nIf not it works. Pro Version is also affected. Maybe a setting that etherpad doesnt like?\n. Tried it with Apache. Same Problem. So it seems to be a generally problem with proxy reversing.\n. My git revision is afa107e\n. Seems to work for now. I will have a look on it.\nThanks a lot for now.\n. Yes it seems to work. \nThank You.\nAm 05.07.2012 um 17:06 schrieb Marcel Klehr reply@reply.github.com:\n\nDid #833 solve the issue for you?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/831#issuecomment-6781133\n. \n",
    "domenkozar": "+1\n. ",
    "kajomarton": "I think third choice is best. Or set min-width and if browser windows size is smaller, just show horizontal scroller.\n. ",
    "Arthur-Milchior": "To give more details, it's a samsung galaxy tab.\nOnly the bottom bar doesn't work, the top one seems to works (but as I can't edit the text, it's not really usefull)\nWhen I click on \"chat\" the \"chat\" button disappear, but the bar remains in the bottom. \nAnd I finally realised that after waiting some 40 seconds, the chat finally open, hiding more text, and there \"-\" button to close the chat doesn't work.\nBy the way, thanks for this software, it's really usefull !\n. I can test for you without any trouble, I just need to have a link to test.\nHow do you want us to \"meetup\" ? My skype is arthurmilchior my msn is \narthur@milchior.fr\nI'm often on IRC arthur_rainbow (except when the server bug). I may idle \nsome time on #etherpad-lite-dev\nLe 2012-07-10 00:07, John McLear a \u00e9crit :\n\nArthur, if we can schedule an online meetup this week I may be able to fix the issues if you are happy to refresh/test for me.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/860#issuecomment-6861335\n. I beg your pardon, but I don't control any installation of etherpad, and \nI highly doubt I'd know how to an install it.\nI'm only an user of this software.\n\nOn the other hand, if you give me a link to test on my tablet, I can try.\nOn 29/10/2012 20:08, John McLear wrote:\n\n@Arthur-Rainbow https://github.com/Arthur-Rainbow Can you please \ncheckout the features/frontend-tests branch\ngit checkout features/frontend-tests\nrestart etherpad and see if when you run the tests by visiting\n/tests/frontend/\nit fails on these?\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/Pita/etherpad-lite/issues/860#issuecomment-9881368.\n. My phone/pad was stolen, hence I can't test anymore, sorry.\n. \n",
    "Serkan-devel": "has timeslider been implemented yet?. How long does it still take until that theme is the default?. ",
    "Chingliu": "I download v1.1 from https://github.com/downloads/Pita/etherpad-lite/etherpad-lite-win.zip.\nunzip it and then run it without any change under windows7-X64 platform. chrome/firefox  work well, I can click \"New Pad\" and then start to edit.\nbut IE 9 ,after click \"New Pad\" ,it hang on \"Loading\".\n. ",
    "psifertex": "See #876.\nMy first pull request, seemed simple enough, hopefully it was done correctly. \n. Looks like it's including some other commits besides the two I intended. Not sure how to do that differently. Should I be forking from dev and then pulling back into there instead of forking from master like I did? Or did I just create the pull request incorrectly? \nSorry for all the trouble, still getting familiar with the process here, appreciate folks being understanding. \n. Thanks very much for the feedback. Still getting the hang of it, finally had a chance to play around with it and read the guidelines a bit more. One thing I had to change was my tabs instead of spaces. One question -- any reason we couldn't use a vim modeline in the source files to help enforce the spaces/not tabs approach? At least for vim users anyway, it wouldn't impact anyone else in the comment field. \nThink I might have done it right this time. I set up an upstream remote in my local repo, pulled the latest changes from Pita/develop, applied my patch, committed it and pushed it back to my develop repo, now I'm about to issue a pull request. crosses fingers let's see if I got this right... :-)\n. ",
    "maybegeek": "thanks marcelklehr,\nnope, the first linked recipe is a bit tricky, linked files are offline and there have to be changes to a file on the etherpad-lite instance. So, includexml is not a way to go. \nWhat's more, if using includeurl instead of includexml, the pads get included as  in the wiki pages and are therefore editable, which I need : )\nJQuery, yeah, but I would like to know why the upgrade get's my warn/errors instead of just working great : )\nthanks\n. For me (EP d9cdd57)\nthe handshake errors still exist but I could narrow down this not as a pmwiki problem but a browser thing:\nusing chromium 24.0.1312.56 or firefox 18.0.2 on Linux Mint 13 everything works!\nUsing Google Chrome 24.0.1312.70 embedded Pads on a wiki page show me just \"Loading...\" or \"An error occured while loading the pad Script error. in (line 0)\"\nshowing debug i get this:\n[2013-02-18 14:39:12.105] [INFO] http - 304, GET /static/img/etherpad_lite_icons.png\n[2013-02-18 14:39:13.136] [INFO] http - 200, GET /pluginfw/plugin-definitions.json\n[2013-02-18 14:39:14.066] [INFO] http - 200, GET /static/plugins/ep_syntaxhighlighting/static/js/shBrushLaTeX.js\n[2013-02-18 14:39:14.085] [WARN] socket.io - handshake error No session cookie transmitted.\n[2013-02-18 14:39:14.119] [WARN] socket.io - handshake error No session cookie transmitted.\n[2013-02-18 14:39:14.143] [WARN] socket.io - handshake error No session cookie transmitted.\n[2013-02-18 14:39:14.177] [WARN] socket.io - handshake error No session cookie transmitted.\n[2013-02-18 14:39:14.270] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"yG4ouci9ANwl3K9I6MGl\",\"msg\":\"Script error.\",\"url\":\"\",\"linenumber\":0,\"userAgent\":\"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.17 (KHTML, like Gecko) Chrome/24.0.1312.70 Safari/537.17\"}\n[2013-02-18 14:39:14.271] [INFO] http - 200, POST /jserror\nthanks\nchristoph\n. Hi marcelklehr,\nunfortunately nope:\nsettings.json\n//IP and port which etherpad should bind at\n\"ip\": \"0.0.0.0\",\n\"port\" : 8080,\nor with\n//IP and port which etherpad should bind at\n\"ip\": \"real.ip.0.0\",\n\"port\" : 8080,\nsome from apache\nSetEnv proxy-sendchunks 1\nProxyRequests off\nProxyPass / http://url222.de:8080/\nProxyPassReverse / http://url222.de:8080/\nProxyPreserveHost on\nfresh install of etherpad lite\nEtherpad-Lite c986a85\nmysql as database.\n(now) chromium and chrome will not show me the embedded pad in pmwiki but give the handshake error (at least chrome). I'm very thankfull for pointing in the browser direction, but the quick fix wont work here.\nLetting the browser inspect shows the following 'document.domain' thing, which you described in a similiar way:\nUnsafe JavaScript attempt to access frame with URL http://url111.de from frame with URL http://url222.de/p/padname. The frame requesting access set 'document.domain' to 'www.url222.de', but the frame being accessed did not. Both must set 'document.domain' to the same value to allow access.\nCan I workaround something or should I let it be?\nthanks\nChristoph\n. Hi there,\n@marcelklehr nope because the ep is not a local installation and pmwiki is neither local. And whereas I could tunnel me on the machine the other users couldn't. (I hope i don't misunderstand your help completely : ) )\nSo my question is: Is there a way of letting (my) chrome browser get the pads content, even if the (pmwiki) embedded/iframed content/pad comes from another server/domain being ep runs on its own server/domain (and therefor cannot be accessed as localhost/p/pad) and so is the wiki page with the integrated pad?\nthanks alot in advance for showing me the way\nchristoph\n. Hi all,\n@JohnMcLear in Etherpad-Lite 18b6cf1 the same handshake error thing occurs. On LinuxMint 13:\n- not working in Google Chrome 25.0.1364.97\n- working in Chromium 24.0.1312.56\n- working in Firefox 19.0\n[2013-02-27 15:09:37.570] [WARN] socket.io - handshake error No session cookie transmitted.\n( Page used for testing: http://maybegeek.de/wiki/Slides/EPTest )\nthanks,\nChristoph\n. Hi there,\nI just have \"token\" and \"express_sid\" by looking at a pad or by looking at a wiki site with iframed pad via inspect element. Via \"document.cookie\" I just see the \"token\".\nFor me it seems only Google Chrome (linux) is as strict or problematic in terms of cross-domain js and I just have to workaround?\nthanks\n. Hi all,\n@marcelklehr \ninspect element in Google Chrome shows the following\nName            Value                Domain       Path    Expires    Size   HTTP  Secure\ntoken         df.sdfjelrtgert...  domainA.de       /      Mon ...     27\nexpress_sid    sleirjsadcied...   domainA.de       /      Session     85     x\nThe ep-page gets iframed in the wikipage, which is on another domain (domainB.de)\n(\"Secure and HTTPOnly should both be disabled\". is my express_sid wrongly https-only?)\nthanks\nchristoph\n. Hi there\nwith Etherpad-Lite 42e164c i get similar error.\nremoving node_modules and updating npm, nothing helped. \nEP is running for a while and then suddenly:\ntext\n[ERROR] console - TypeError: Cannot read property 'padID' of undefined\n    at exports.handleMessage (/var/www/etherpad-lite/src/node/handler/PadMessageHandler.js:234:41)\n    at async.series.results (/var/www/etherpad-lite/src/node_modules/async/lib/async.js:486:21)\n    at _asyncMap (/var/www/etherpad-lite/src/node_modules/async/lib/async.js:185:13)\n    at async.forEachSeries.iterate (/var/www/etherpad-lite/src/node_modules/async/lib/async.js:108:13)\n    at async.forEachSeries.iterate (/var/www/etherpad-lite/src/node_modules/async/lib/async.js:119:25)\n    at _asyncMap (/var/www/etherpad-lite/src/node_modules/async/lib/async.js:187:17)\n    at async.series.results (/var/www/etherpad-lite/src/node_modules/async/lib/async.js:491:34)\n    at exports.handleMessage.handleMessageHook (/var/www/etherpad-lite/src/node/handler/PadMessageHandler.js:171:25)\n    at Object.exports.aCallAll (/var/www/etherpad-lite/src/static/js/pluginfw/hooks.js:84:62)\n    at exports.handleMessage.handleMessageHook (/var/www/etherpad-lite/src/node/handler/PadMessageHandler.js:162:11)\n. Hi there,\nis it a bad question to ask what will happen if I git checkout dont-crash-noauth?\nWill it alter my instance, should I use an test-installation for this?\nthanks\n. ... the deeper mystery of etherpad trapped me again.\nNew test installation (without trying the dont-crash-noauth), in combination with a copy of the production database is working so far without crashes.\nsorry for the inconvenience and thank you so much!\nI'll try the dont-crash-noauth if it relates perhaps to the \"handshake error No session cookie transmitted\" error, which is still blocking embedded etherpads in pmwiki (in some browsers/Linux), resulting in RESTART! (started by init.d safeRun.sh)?\n: )\n. Hi there,\nlogs over 24hours show, with my settings\n- develop brings crashes\n- dont-crash-noauth runs smoothly\nthanks!\n. ",
    "mubix": "Encountering the same issue, fixed by not using Ubuntu. Installed / ran on XP without issue. Tried the following:\n- Using SQLite and MySQL databases (checking to see if it's just a DB problem)\n- Pulling a fresh copy of the git repo\n- Using the develop branch\n- enabling the sessions option in settings.json\n- changed output to DEBUG but received no further information about the bug\nRunning on Ubuntu 10.04 using installation instructions directly from readme (fresh install of 10.04 with updates to packages installed)\nIt worked for a while...\n. ",
    "junicom": "Just installed it and have the same bug. I use the wordpress plugin but i guess its the same.\nIn Chrome it says \"Loading\" and the error is: socket.io - handshake error No session cookie transmitted.\nIn Opera it says \"You do not have permission to access this pad\" and the error is :Authentication try failed:{\"component\":\"pad\",\"type\":\"CLIENT_READY\",\"padId\":\"g.Lyw2eZ0NIWJUwL9Y$498a40c61ba52fa01a2b05172245d6b9\",\"sessionID\":\"null\",\"password\":null,\"token\":\"t.hVPHLr1TNOSAoKqUugcY\",\"protocolVersion\":2}\nEtherpad IP is the ip of the website.\nWhat to do.\nThe plugin would be amazing in wp.\n. ",
    "sockenklaus": "+1 this would be very helpful. :)\n. Well i'd like to see the following: \nI've got a saved revision of the document, that has been approved. Now several people work on the document, change a lot of things and create lots of new revisions. To approve these new changes, it would be very helpful, to diff-view e.g. the latest revision with a particular saved revision to decide whether the changes are going to be approved or not.\nThat's what i thought. :)\n. ",
    "p0cket": "The file I'm referring to is the one for the really quick windows\ninstallation to try out etherpad lite.\nOn Jul 31, 2012 5:01 PM, \"Jordan Hollinger\" \nreply@reply.github.com\nwrote:\n\nIs that just a zip of the eplite source? Should be able to get the same\nthing from https://github.com/Pita/etherpad-lite/downloads.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/911#issuecomment-7411079\n. I followed the instructions below with the zip you instructed me to download, and it didn't work, so I'm still trying to find a place to download the files linked to in the instructions below.\n\n\"Windows:\nDownload http://etherpad.org/etherpad-lite-win.zip\nExtract the file\nOpen the extracted folder and double click start.bat\nOpen your web browser and browse to http://localhost:9001. You like it? Look at the 'Next Steps' section below\"\n. That does not sound ideal. Does no one have any idea how to get those files?\nOn Wed, Aug 1, 2012 at 9:54 AM, Marcel Klehr <\nreply@reply.github.com\n\nwrote:\nOK, this will require people to have npm... mmh.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/911#issuecomment-7427875\n. Thank you! That worked perfectly for me!\n\nOn Wed, Aug 1, 2012 at 12:05 PM, Marcel Klehr <\nreply@reply.github.com\n\nwrote:\nWindows package (master branch) is available download at\nhttps://github.com/Pita/etherpad-lite/downloads\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/911#issuecomment-7431531\n. \n",
    "vext01": "On Thu, Aug 02, 2012 at 11:48:07AM -0700, Marcel Klehr wrote:\n\nWhat do you mean by \"moving target dependencies\"?\n\nYou use npm to get the lastest versions of etherpad-lite's dependencies\neach time it is started, do you not?\n\nBest Regards\nEdd Barrett\nhttp://www.theunixzoo.co.uk\n. Not across all pads, no. A single pad should be set in the same font (for all users).\n. For example, we sometimes use pads for arranging events. And the first thing I do is paste in the output from cal(1), which must be set in a monospace font, therefore it would be useful if the font for such a pad persisted.\nPerhaps a pad could be assigned a \"default font\", which users may choose to over-ride.\n. ",
    "hogmoru": "\npersistent per-pad attribute : needed (I believe it was the case in the original etherpad). When it makes sense to set font to monospaced, then it makes sense for all viewers, and forever until someone changes the setting.\nglobal setting for the default font to apply to new pads : good idea, not needed too badly, but as that does not look terribly complicated, it should be considered\n\nJust my opinion, I'm a long-time user of etherpad and now etherpad-lite, I'm a developer but sadly not good enough with javascript to contribute to this issue.\n. @spicewiesel : Reading @johnyma22 's suggestion above, it seems it is already feasible. I've tried the following, nothing worked for me :\n- altering settings.json with this:   \"useMonospaceFontGlobal\" : true\n- altering the block of code at the bottom of src/static/js/pad.js : \"var settings = { ... useMonospaceFontGlobal:true ...}\"\nNothing worked (and just in case, I tried restarted the daemon, and trying from another browser to avoid cache issues). Anyway it confirms I suck at javascript :P\nThe only thing that worked for me is appending \"?useMonospaceFont=true\" to the URL, and you may do that in your bookmarks, or whatever system you have where you store pad links.\nBut @johnyma22 if you know how to do that in pad.js or settings.json, that would be great if you could tell us exactly how. (thanks already for pointing me to pad.js, I'll give it another try when I have more time)\n. ",
    "akien-mga": "Hi there. I know this has been closed as there is a plugin that addresses this issue, but so far I couldn't find a single instance (https://github.com/ether/etherpad-lite/wiki/Sites-that-run-Etherpad-Lite) that proposes this feature, and it's quite annoying when a monospace font is required. See e.g. this pad which shows with a non-monospace font by default, so each user has to change their configured font manually: https://public.etherpad-mozilla.org/p/godot-classref-status\nMost etherpad instances that are listed above seem to have a \"Global View\" category, but I never found any instance which actually had configurable settings under this category. I understand that it's a matter of configuration for each etherpad hoster, but I think it would help a lot if some of those features were toggled on by default in the main trunk.\n. ",
    "worcas": "I know this articel, but it dosnt help me. I see what functions are supportet by the api, but i dont know how to use it.\nthats my problem.\n. i try to list all pads, but i think i have a problem with the groupid. is there a way to show me the groups with the id from the system?\n. ok, but can i find the groupid in the database? the only entries i found are the authorID wih the a. None for the group with the g.\n. i dont create any group, i just have to work with this etherpad and have to manage it. so if i have no groups, can i use the listPads function?\n. Thanks johnyma22 that works fine and my problem is solved :-)\n. ok. when i use this getLastEdited(padID) i get a response format like that: {code: 0, message:\"ok\", data: {lastEdited: 1340815946602}}. My Question is now, if it possible only to get the timestamp like {1340815946602}.\ni hope thats more clear :-)\n. ",
    "nicocesar": "HI johnny. I finally made the merge. I'll appreciate your pull. Thanks,\n. will do\n. The provided license is clear for the server side code. We are talking now about the license for the client side javascript.  To make it clear, this pull request is for the license for the users of etherpad rather than the webmaster. So they can have tools like LibreJS http://www.gnu.org/software/librejs/ to be sure they are running Free Software. \n. ",
    "elbeardmorez": "on opera irc channel\nelbeardmorez:. hello. can anyone else please verify a quirk with duplicate key events at this site? http://beta.primarypad.com  ..create a new pad, then try 'Enter' or 'Backspace' keys, what do you see?\n.:Remco:. Yes duplicate events\n.:Remco:. Or rather, the action is done twice\n\u00bb\u00bb Remco hasn't checked the code so doesn't know for sure the events are sent twice\n.:Remco:. Works fine in 12.50 btw\n.:elbeardmorez:. Remco: cheers\nhence looks like there would be nothing that could be done this end\n. linux 12.02 build 1629 'passes' - the page loads and i see the block of text get shifted down a line and the cursor is left at line2:pos1. the pass count moves to '1'. \ni don't know how  'johnyma22' got results like: 'passes: 22 failures: 5 duration: 39.01s', all i can do is reload the page and get passes=1. if i try to use the pad, i see the same issue with double enter/backspace - it's funny how backspace removes 2 chars but 'delete' remove only 1\n. johnyma22: could you please clarify. is this 'keystroke_enter.js' already integrated into that beta server? are you thus saying that the automated insertion of an enter keystroke works, but using the SAME code (via a key event) fails with my setup?\nis there any CR/LF vs LF only logic that could be playing a part?\nps the windows 12.10 build 1652 exhibits the same behaviour for enter, but the correct behaviour for the backspace\n. loading master I get either:\nhttp://picpaste.com/etherpad-lite.bug.div.form.position.png\nor http://picpaste.com/etherpad-lite.bug.div.form.position2.png\nf5 reloads doesn't fix this\nthis is not reproducible for me on beta.primarypad.com, apologies Marcel, it was the duplicate key event bug i was refering to when asserting that \nupdate:\nif you go hit f5 rapidly on primarypad, you should (i can) get the input element to separate from its div layer, as in the attached pic1. that's all i can do on primarypad.com. however, on my server i get the pic2 index page too where it seemed impossible to give the input focus ..at the time, i didn't realise that the input form is actually hidden at the very top of the page, so all i was trying to give focus to was an empty white div layer :)\nregardless, these issues don't happen with the opacity style commented out.\n. if you go hit f5 rapidly on primarypad, you should (i can) get the input element to separate from its div layer, as in the attached pic1. that's all i can do on primarypad.com. however, on my server i get the pic2 index page too where it seemed impossible to give the input focus ..at the time, i didn't realise that the input form is actually hidden at the very top of the page, so all i was trying to give input to was an empty white div layer :)\nregardless, these issues don't happen with the opacity style commented out\n. ",
    "zertrin": "I downloaded Opera Next just moments ago; did a fresh install (12.50 build 1546, x64, Windows 7) and still encounter this issue on http://beta.primarypad.com/\nThis seems to contradict what Remco affirmed on opera irc channel.\n. I just noticed today that keyboard commands like CTRL+Z (undo) and CTRL+Y (redo) seem to be repeated twice too on Opera (v 12.02 build 1578, Win 7).\nI'd like to test current behavior on beta.primarypad.com but \"Loading...\" never ends there...\n. The same, \"Loading...\" never ending\n(even if it isn't related with this issue, by tracking the \"Loading...\" probem in Firefly debugger, it seems that GET http://beta.etherpad.org/socket.io/1/jsonp-polling/pFWAsNYYH1nygN4SMsQP?t=1351810638194&i=0 loops on 20-sec timeouts while expecting something like text/javascript\nFull HTTP request/answer available at http://zerobin.zertrin.org/?92e612e1c84654cc#o3RCvsWxbQW11N9aYokrc/yCAcsjtBsl/7M0VB1Hy3Q= )\nEDIT: More on the \"Loading...\" problem : after 40 unsuccessful requests this message appeared:\n```\nAn error occured\nThe error was reported with the following id: 'JPbH9BADyBrQru04txng'\nPlease send this error message to us: \n'ErrorId: JPbH9BADyBrQru04txng\nUserAgent: Opera/9.80 (Windows NT 6.1; WOW64; U; fr) Presto/2.10.289 Version/12.02\nSyntax error at line 1: unexpected character: U+00B0 in at line 1'\n```\n. Just to give feedback:\nI tried again just now (http://beta.etherpad.org/tests/frontend/?grep=keystroke_enter.js) with Opera 12.12 (build 1707) on Win 7 64bit:\n- the test pass (\" \u2713 creates a enw line & puts cursor onto a new line 160ms \"), and the text is only shifted by 1 newline\n- but hitting enter still insert 2 newlines\n- as mentioned before, the backspace problem does NOT occur anymore\nand to be more constructive about the CR/LF vs LF, reading the source code of jQuery's sendkeys function (http://bililite.com/inc/jquery.sendkeys.js) shows that what is inserted is \\n : \n'{enter}': function (rng){\n   rng.insertEOL();\n   rng.select();\n   var x = '\\n'.charCodeAt(0);\n   $(rng._el).trigger({type: 'keypress', keyCode: x, which: x, charCode: x});\n},\nHowever I don't have an idea to solve the root problem.\n. Yes, exactly same symptoms.\n. Okay seems it's related with my own environment and not affecting other people.\nI'll close the issue and if appropriate, report back on my findings about the cause of this issue when I'll find it.\n. ",
    "DKhalil": "I can confirm this issue too on:\nWindows 7 64bit, Opera 11.64 and Opera 12.02\n. Nope, works perfectly fine there!\n. And a fix release would be nice - so I can finally start using ep without getting extremely annoyed at it.\n. I don't know whether that fits here or is related to the newline issue, but adding points to a list doesn't work in Opera either\n. ",
    "rozcietrzewiacz": "Just for the record: The issue still occurs for me on beta.etherpad.org with Opera v11.61 build 1250 on Linux x86_64. Both Enter and Backspace are always repeated twice. (Each Backspace removes two characters.)\n. @johnyma22 I finally got a moment to do the frontend tests. And BTW,  beta.etherpad.org seems down, so I couldn't test your last link.\nFrontend tests as of 1e27fa1475 on [Opera-11.61 build 1250, Linux, x64] - pasting results:\n- Overall: passes: 22   failures: 5   duration: 39.01s\n- button_ordered_list.js : assign ordered list\n  \u2716 keeps the numbered list on enter for the new line - EMULATES PASTING INTO A PAD\nthe string \"Uncaught exception: Error: expected false to equal true\" was thrown, throw an Error :)\n<anonymous function: Runner.prototype.fail>([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:3786\n<anonymous function: Runner.prototype.uncaught>([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:4059\nuncaught([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:4089\n- change_user_name.js : change username value\n  \u2716 Remembers the user name after a refresh\nthe string \"Uncaught exception: Error: expected 'Enter your name' to equal 'John McLear'\" was thrown, throw an Error :)\n<anonymous function: Runner.prototype.fail>([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:3786\n<anonymous function: Runner.prototype.uncaught>([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:4059\nuncaught([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:4089\n\u2716 Own user name is shown when you enter a chat\nthe string \"Uncaught exception: Error: wait for condition never became true function(){\" was thrown, throw an Error :)\n<anonymous function: Runner.prototype.fail>([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:3786\n<anonymous function: Runner.prototype.uncaught>([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:4059\nuncaught([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:4089\n- font_type.js : font select\n  \u2716 makes text monospace\nexpected '\"dejavu sans mono\"' to equal 'monospace'\n<anonymous function: Assertion.prototype.assert>([arguments not available])@http://localhost:9001/tests/frontend/lib/expect.js:99\n<anonymous function: Assertion.prototype.equal>([arguments not available])@http://localhost:9001/tests/frontend/lib/expect.js:200\n<anonymous function>([arguments not available])@http://localhost:9001/tests/frontend/lib/expect.js:0\n<anonymous function>([arguments not available])@\n<anonymous function: Runnable.prototype.run>([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:3608\n<anonymous function: Runner.prototype.runTest>([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:3940\n<anonymous function: Runner.prototype.runTests>([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:3986\nnext([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:3868\n<anonymous function: Runner.prototype.hooks>([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:3877\nnext([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:3825\nError created at <anonymous function: Assertion.prototype.assert>([arguments not available])@http://localhost:9001/tests/frontend/lib/expect.js:99\n<anonymous function: Assertion.prototype.equal>([arguments not available])@http://localhost:9001/tests/frontend/lib/expect.js:200\n<anonymous function>([arguments not available])@http://localhost:9001/tests/frontend/lib/expect.js:0\n<anonymous function>([arguments not available])@\n<anonymous function: Runnable.prototype.run>([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:3608\n<anonymous function: Runner.prototype.runTest>([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:3940\n<anonymous function: Runner.prototype.runTests>([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:3986\nnext([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:3868\n<anonymous function: Runner.prototype.hooks>([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:3877\nnext([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:3825\n- keystroke_chat.js : send chat message\n  \u2716 opens chat, sends a message and makes sure it exists on the page\nthe string \"Uncaught exception: Error: wait for condition never became true function(){\" was thrown, throw an Error :)\n<anonymous function: Runner.prototype.fail>([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:3786\n<anonymous function: Runner.prototype.uncaught>([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:4059\nuncaught([arguments not available])@http://localhost:9001/tests/frontend/lib/mocha.js:4089\n. ",
    "shnifti": "I am facing the same error now install ep_syntaxhighlighting:\nERR! 404 'ep_etherpad-lite' is not in the npm registry.\nERR! 404 You should bug the author to publish it\nERR! 404 Note that you can also install from a\nERR! 404 tarball, folder, or http url, or git url.\nERR!\nERR! System Linux 3.2.0-23-virtual\nERR! command \"node\" \"/usr/bin/npm\" \"install\" \"ep_syntaxhighlighting\"\nERR! cwd /var/www/example.com/etherpad-lite/src\nERR! node -v v0.6.12\nERR! npm -v 1.1.4\nERR! code E404\nERR! message 404 Not Found: ep_etherpad-lite\nERR! errno {}\nverbose exit [ 1, true ]\n~\n~                                         \n. ",
    "unindented": "It was happening on Chrome v21.0.1180.77 for me. Apparently http://beta.etherpad.org already has the fix, so you can't reproduce there. Just checkout a version before my commits, and you'll be able to.\n. ",
    "mburns": "I poked around the code to see where this is defined. _REGEX_URLCHAR sure seems like the relevant variable, but tweaking that regex and ./run.sh'ing it doesn't seem to reflect the changes. I must be missing something.\nvar REGEX_URLCHAR = new RegExp('(' + /[-:@a-zA-Z0-9.,~%+\\/\\?=&#;()$]/.source + '|' + _REGEX_WORDCHAR.source + ')');\n. ",
    "404pnf": "$ cat /etc/issue\nUbuntu 12.04 LTS \\n \\l\n$ git --version\ngit version 1.7.9.5\nlog file\n$ ./bin/run.sh \n  Ensure that all dependencies are up to date...\n  Ensure jQuery is downloaded and up to date...\n  Clear minfified cache...\n  ensure custom css/js files are created...\n  start...\n  [2012-08-16 08:54:49.105] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production.\n  [2012-08-16 08:54:49.856] [ERROR] console - Failed to load '/home/404pnf/source.code/etherpad-lite/node_modules/ep_etherpad-lite/node/hooks/express/socketio:expressCreateServer' for 'ep_etherpad-lite/socketio/hooks/expressCreateServer': Error: Cannot find module 'zeparser'\n  [2012-08-16 08:54:50.770] [INFO] console - Installed plugins: ep_etherpad-lite\n  [2012-08-16 08:54:50.788] [ERROR] console - Failed to load '/home/404pnf/source.code/etherpad-lite/node_modules/ep_etherpad-lite/node/hooks/express/socketio:expressCreateServer' for 'ep_etherpad-lite/socketio/hooks/expressCreateServer': Error: Cannot find module 'zeparser'\n  [2012-08-16 08:54:50.791] [INFO] console - Your Etherpad Lite git version is dae0cbf\n  [2012-08-16 08:54:50.792] [INFO] console - Report bugs at https://github.com/Pita/etherpad-lite/issues\n  [2012-08-16 08:54:50.878] [INFO] console - You can access your Etherpad-Lite instance at http://0.0.0.0:9001/\n  [2012-08-16 08:54:50.879] [WARN] console - Admin username and password not set in settings.json.  To access admin please uncomment and edit 'users' in settings.json\ninstall zeparser\n$ sudo npm install -g zeparser\n  npm http GET https://registry.npmjs.org/zeparser\n  npm http 304 https://registry.npmjs.org/zeparser\n  zeparser@0.0.5 /usr/local/lib/node_modules/zeparser\ntry again\n$ ./bin/run.sh \n  Ensure that all dependencies are up to date...\n  Ensure jQuery is downloaded and up to date...\n  Clear minfified cache...\n  ensure custom css/js files are created...\n  start...\n  [2012-08-16 08:58:16.054] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production.\n  [2012-08-16 08:58:16.803] [ERROR] console - Failed to load '/home/404pnf/source.code/etherpad-lite/node_modules/ep_etherpad-lite/node/hooks/express/socketio:expressCreateServer' for 'ep_etherpad-lite/socketio/hooks/expressCreateServer': Error: Cannot find module 'zeparser'\n  [2012-08-16 08:58:17.637] [INFO] console - Installed plugins: ep_etherpad-lite\n  [2012-08-16 08:58:17.658] [ERROR] console - Failed to load '/home/404pnf/source.code/etherpad-lite/node_modules/ep_etherpad-lite/node/hooks/express/socketio:expressCreateServer' for 'ep_etherpad-lite/socketio/hooks/expressCreateServer': Error: Cannot find module 'zeparser'\n  [2012-08-16 08:58:17.662] [INFO] console - Your Etherpad Lite git version is dae0cbf\n  [2012-08-16 08:58:17.662] [INFO] console - Report bugs at https://github.com/Pita/etherpad-lite/issues\n  [2012-08-16 08:58:17.709] [INFO] console - You can access your Etherpad-Lite instance at http://0.0.0.0:9001/\n  [2012-08-16 08:58:17.710] [WARN] console - Admin username and password not set in settings.json.  To access admin please uncomment and edit 'users' in settings.json\n. @marcelklehr \nProblem solved after install zparser in the etherpad directory\n. ",
    "mrtopf": "I had the same issue but with missing active-x-obfuscator. I installed this package with npm install -g but still the error showed up. I then installed it locally in the etherpad-lite folder so that it's located in node_modules and this worked.\nThen I also got the message \"socket.io starting\" which I didn't get before. And now the setup works.\nBut the setup seems to be a bit broken. \n. I forked master (and did some changes but in the static/CSS section so not related) and updated on friday. \n. ",
    "despens": "I'd be happy with a some well documented sample plugins for a start :)\n. A plugin sounds good, wasn't aware this is possible now. I imagine it should be quite trivial. But the documentation https://github.com/Pita/etherpad-lite/blob/master/README.plugins is too basic for me to start creating a plugin. Is there a sample frontend-plugin somewhere?\n. We have embedded wikimedia's Etherpad Lite in 'publishing mode', see http://rhizome.org/today/\nWe are getting feedback from Safari users that the iframe stays stuck on loading.\nDoes Etherpad Lite require the browser to accept cookies?\n(New Safari versions will not accept cookies from inside an iframe by default. After the user clicked an element inside the iframe, cookies from that domain will be accepted in the future from inside iframes.)\n. ",
    "tonoman3g": "I think there is a bug in padUsers function in \nhttps://github.com/ether/etherpad-lite/blob/develop/src/node/handler/PadMessageHandler.js\n``` javascript\nexports.padUsers = function (padID, callback) {\n  var result = [];\nasync.forEach(socketio.sockets.clients(padID), function(roomClient, callback) {\n    var s = sessioninfos[roomClient.id];\n    if(s) {\n      authorManager.getAuthor(s.author, function(err, author) {\n        if(ERR(err, callback)) return;\n    author.id = s.author;\n    result.push(author);\n  });\n}\n\n}, function(err) {\n    if(ERR(err, callback)) return;\ncallback(null, {padUsers: result});\n\n});\n}\n```\n\nThe API call does not give response, i think we miss callback() function call in the iterator function.\n``` javascript\nexports.padUsers = function (padID, callback) {\n  var result = [];\nasync.forEach(socketio.sockets.clients(padID), function(roomClient, callback) {\n    var s = sessioninfos[roomClient.id];\n    if(s) {\n      authorManager.getAuthor(s.author, function(err, author) {\n        if(ERR(err, callback)) return;\n    author.id = s.author;\n    result.push(author);\n    callback(); // call callback function here and the response will be sent to user.\n  });\n}\n\n}, function(err) {\n    if(ERR(err, callback)) return;\ncallback(null, {padUsers: result});\n\n});\n}\n```\n. I had an issue where i call padUsers http api request function and got no response. So i checked the code and found that the code doesn't call the callback() function.\n. ",
    "tonylyx": "I deployed etherpad on an independent server .so cookie will be set on etherpad-server \n. ",
    "bobapple": "Fedora 17\n3.5.0-2.fc17.x86_64\nError from run.sh stdout:\n[2012-08-30 08:31:36.129] [ERROR] console - URIError: URI malformed\n    at decodeURIComponent (native)\n    at Router._match (/usr/local/etherpad-lite/src/node_modules/express/lib/router/index.js:354:17)\n    at pass (/usr/local/etherpad-lite/src/node_modules/express/lib/router/index.js:213:30)\n    at Router._dispatch (/usr/local/etherpad-lite/src/node_modules/express/lib/router/index.js:280:5)\n    at Object.middleware as handle\n    at next (/usr/local/etherpad-lite/src/node_modules/connect/lib/http.js:204:15)\n    at exports.basicAuth (/usr/local/etherpad-lite/src/node/hooks/express/webaccess.js:80:20)\n    at exports.basicAuth.authorize (/usr/local/etherpad-lite/src/node/hooks/express/webaccess.js:22:51)\n    at Object.exports.basicAuth as handle\n    at next (/usr/local/etherpad-lite/src/node_modules/connect/lib/http.js:204:15)\nrunning debugRun.sh shows the same information\n. ",
    "miniminime": "295 4824, it runs under Windows-Server 2008 R2\n. Yes, I just grabbed the ZIP-file. The previous version, which worked under Chrome, but not at all under IE 8 & 9, was \"3c02222\".\n. Ok. Hmmm. Well, in version \"3c02222\" I had the issue with the loading page in IE 8 & 9. Chrome and FF was fine. Now in version \"2954824\" the loading page issue has gone, but the bar issue appears. This affects now not only IE 8 & 9, but now Chrome as well...\n. I did download from there! John McLear asked me to test it...\n. Many thanks! The bar shows up, but the \"Loading...\" issue is still present...\n. Thank you very much for your replies. Sadly I am a mere user and not a developer and when it comes to security related topics I guess somebody who really knows what he is doing is very much preferred...\nAlthough the efforts for this feature seems to be substantial, I believe it would come very handy. I hope somebody with the right skills believes that too.\n. ",
    "t-8ch": "this works:\n\"dbType\" : \"mysql\",\n\"dbSettings\" : {\n    \"user\"    : \"user\",\n    \"port\"    : \"/var/run/mysqld/mysqld.sock\",\n    \"password\": \"secret\",\n    \"database\": \"database\"\n},\n. ",
    "bor1": "I tried various settings (those mentioned above and: https://github.com/ether/etherpad-lite/wiki/How-to-use-Etherpad-Lite-with-MySQL) in settings.json. \nNone worked. \nshell:\n...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2014-06-08 19:01:39.279] [WARN] console - You need to set a sessionKey value in settings.json, this will allow your users to reconnect to your Etherpad Instance if your instance restarts\n[2014-06-08 19:01:39.323] [ERROR] console - ERROR: Problem while initalizing the database\n[2014-06-08 19:01:39.325] [ERROR] console - Error: Unknown database 'etherpad'\n    at Function.Client._packetToUserObject (/home/etherpad/ep-db/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/client.js:387:11)\n    at Client._handlePacket (/home/etherpad/ep-db/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/client.js:300:43)\n    at Parser.EventEmitter.emit (events.js:95:17)\n    at emitPacket (/home/etherpad/ep-db/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/parser.js:71:14)\n    at Parser.write (/home/etherpad/ep-db/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/parser.js:576:7)\n    at Socket.EventEmitter.emit (events.js:95:17)\n    at Socket.<anonymous> (_stream_readable.js:746:14)\n    at Socket.EventEmitter.emit (events.js:92:17)\n    at emitReadable_ (_stream_readable.js:408:10)\n    at emitReadable (_stream_readable.js:404:5)\nFollowing the instructions, on the link above, I get the failure message in mysql: \nERROR 1146 (42S02): Table 'etherpad-lite.store' doesn't exist\nsame for database, etc. ...\nany guess, what I should change?\nThanks in advance\n. mysql> create database `etherpad-lite`;\nERROR 1007 (HY000): Can't create database 'etherpad-lite'; database exists\nmysql>\notherwise I would get an error in the steps before ... : \n``\nmysql> ALTER DATABASEetherpad-lite` CHARACTER SET utf8 COLLATE utf8_bin;\nQuery OK, 1 row affected (0.00 sec)\nmysql> use etherpad-lite;\nDatabase changed\nmysql> ALTER TABLE store CONVERT TO CHARACTER SET utf8 COLLATE utf8_bin;\nERROR 1146 (42S02): Table 'etherpad-lite.store' doesn't exist\nmysql> \n```\n. This was an example, I tried multiple changes in the mysqlp config in settings.json, but it didn't work. \nNow, I get the folowing: \n```\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2014-06-08 20:24:03.488] [WARN] console - You need to set a sessionKey value in settings.json, this will allow your users to reconnect to your Etherpad Instance if your instance restarts\n[2014-06-08 20:24:03.527] [ERROR] console - ERROR: Problem while initalizing the database\n[2014-06-08 20:24:03.529] [ERROR] console - Error: connect ECONNREFUSED\n    at errnoException (net.js:901:11)\n    at Object.afterConnect [as oncomplete] (net.js:892:19)\n```\n. This was an example, I tried multiple changes in the mysql config in settings.json, but it didn't work. \nHere is the my mysql config:\nsettings.json->\n\"dbType\" : \"mysql\",\n\"dbSettings\" : {\n    \"user\"    : \"etherpad\",\n    \"port\"    : \"/var/run/mysqld/mysqld.sock\",\n    \"password\": \"sameAsMysql\",\n    \"database\": \"etherpad-lite\"\n}\nmysql->\nmysql -u root -p\ncreate database `etherpad-lite`;\ngrant all privileges on `etherpad-lite`.* to 'etherpad'@'127.0.0.1' identified by 'sameAsSettings.json';\nbin/run.sh->\n[2014-06-09 12:30:00.392] [ERROR] console - ERROR: Problem while initalizing the database\n[2014-06-09 12:30:00.393] [ERROR] console - Error: connect ENOENT\n    at errnoException (net.js:901:11)\n    at Object.afterConnect [as oncomplete] (net.js:892:19)\nmysql->\nmysql> ALTER DATABASE `etherpad-lite` CHARACTER SET utf8 COLLATE utf8_bin;\nmysql> USE `etherpad-lite`;\nDatabase changed\nALTER TABLE `store` CONVERT TO CHARACTER SET utf8 COLLATE utf8_bin;\nERROR 1146 (42S02): Table 'etherpad-lite.store' doesn't exist\nobviously bin/run.sh leads to the same ERROR as before...\n. Cheers =)\n. I was just confused with the Wiki entry, after arranging the apache settings, it worked with the etherpad.\nI just needed to change the protocol to https:// and the callbackUrl: also to https://abc.def.example.org/login/callback. And that's basically it.\n. ",
    "nesnera": "Hi guys,\nI had the same problem and suggestion with \"port\"    : \"/var/run/mysqld/mysqld.sock\", solved it well.\nThank a lot (y)\n. ",
    "xintellion": "Was this issue fixed? I have exactly the same problem. The import is working but it is hanging after succesful import with the message: \"Import failed, please copy and paste\". \n. I think I am using 1.2.81 with  node-v0.8.7. It is running behind a reverse proxy. I'll try upgrading it to 1.2.10 and see if it works. \n. Thanks! Upgrading to 1.2.10 solved the problem. \n. ",
    "yayolius": "so @marcelklehr i just have to wait for an update?\n. Any news about this?\n. @cweider i just stoped, pulled from github and restarted but nothing changed, i dont know why but my \"src/static/js/linestylefilter.js\" is not the same of the commit you commited, mine does not have this lines\n\nvar disableAuthColorForThisLine = hooks.callAll(\"disableAuthorColorsForThisLine\", {\n        linestylefilter: linestylefilter,\n        text: txt,\n        \"class\": cls\n      }, \" \", \" \", \"\");\n      var disableAuthors = (disableAuthColorForThisLine==null||disableAuthColorForThisLine.length==0)?false:disableAuthColorForThisLine[0];\n\n. New info, i just updated to the last commit but still does not work, i\nthink it is maybe because something different when i start or restart\netherpad i get this error in my log:\n[2012-09-17 12:41:04.852] [WARN] socket.io - error raised: Error: listen\nEADDRINUSE\nthis is the full log, for one visit from start\nI'm also getting the same error in Firefox last version, chrome  last\nversion and safari for windows last version\n\n[2012-09-17 12:47:56.567] [INFO] console - Installed plugins:\nep_etherpad-lite\n[2012-09-17 12:47:56.570] [INFO] console - Your Etherpad Lite git version\nis b2c06e7\n[2012-09-17 12:47:56.571] [INFO] console - Report bugs at\nhttps://github.com/Pita/etherpad-lite/issues\n[2012-09-17 12:47:56.576] [INFO] console - info: 'socket.io started'\n[2012-09-17 12:47:56.583] [INFO] console - You can access your\nEtherpad-Lite instance at http://0.0.0.0:9001/\n[2012-09-17 12:47:56.583] [INFO] console - The plugin admin page is at\nhttp://0.0.0.0:9001/admin/plugins\n[2012-09-17 12:47:56.587] [WARN] socket.io - error raised: Error: listen\nEADDRINUSE\n[2012-09-17 12:48:31.941] [INFO] http - 200, GET /\n[2012-09-17 12:48:32.274] [INFO] http - 200, GET /static/custom/index.css\n[2012-09-17 12:48:32.278] [INFO] http - 200, GET /static/custom/index.js\n[2012-09-17 12:48:32.278] [INFO] http - 200, GET /favicon.ico\n[2012-09-17 12:48:32.991] [INFO] http - 200, GET /favicon.ico\n[2012-09-17 12:49:03.969] [INFO] http - 200, GET /p/ruHKRGirsh\n[2012-09-17 12:49:04.254] [INFO] http - 200, GET /static/css/pad.css\n[2012-09-17 12:49:04.256] [INFO] http - 200, GET /static/custom/pad.css\n[2012-09-17 12:49:04.350] [INFO] http - 200, GET /static/img/loading.gif\n[2012-09-17 12:49:04.619] [INFO] http - 200, GET\n/static/js/require-kernel.js\n[2012-09-17 12:49:04.620] [INFO] http - 200, GET /static/img/leftarrow.png\n[2012-09-17 12:49:04.663] [INFO] http - 200, GET\n/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define\n[2012-09-17 12:49:04.859] [INFO] http - 200, GET\n/javascripts/lib/ep_etherpad-lite/static/js/ace2_common.js?callback=require.define\n[2012-09-17 12:49:04.902] [INFO] http - 200, GET /static/custom/pad.js\n[2012-09-17 12:49:05.025] [INFO] http - 200, GET\n/static/img/etherpad_lite_icons.png\n[2012-09-17 12:49:05.025] [INFO] http - 200, GET /favicon.ico\n[2012-09-17 12:49:05.451] [INFO] http - 307, GET\n/javascripts/lib/ep_etherpad-lite/static/js/rjquery?callback=require.define\n[2012-09-17 12:49:05.636] [INFO] http - 200, GET\n/javascripts/lib/ep_etherpad-lite/static/js/ace2_common.js?callback=require.define\n\n. Ok, no socket io does not thow any error but i still get this error from\nfirebug\n307 Temporary Redirect\n178ms\nrequire-kernel.js (l\u00ednea 1)\nGET\nhttp://flowde.net:9001/javascripts/lib/ep_etherp...static/js/ace2_common.js?callback=require.define\n200 OK\n285ms\nError: Attempt to load undefined module.\n...d?c.async=\"true\":c.defer=\"true\",c.type=\"application/javascript\",c.src=F(a)+\"?cal...\n2012/9/17 John McLear notifications@github.com\n\nEADDRINUSE means socket can't bind to the port it wants to bind to.\nSomethign else is running on that port. Make sure you killall running node\ninstances and investigate.\nDate: Mon, 17 Sep 2012 05:54:00 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nCC: john@mclear.co.uk\nSubject: Re: [etherpad-lite] Error: \"Attempt to load undefined module.\"\n(#989)\nNew info, i just updated to the last commit but still does not work, i\nthink it is maybe because something different when i start or restart\netherpad i get this error in my log:\n[2012-09-17 12:41:04.852] [WARN] socket.io - error raised: Error: listen\nEADDRINUSE\nthis is the full log, for one visit from start\nI'm also getting the same error in Firefox last version, chrome last\nversion and safari for windows last version\n\n[2012-09-17 12:47:56.567] [INFO] console - Installed plugins:\nep_etherpad-lite\n[2012-09-17 12:47:56.570] [INFO] console - Your Etherpad Lite git version\nis b2c06e7\n[2012-09-17 12:47:56.571] [INFO] console - Report bugs at\nhttps://github.com/Pita/etherpad-lite/issues\n[2012-09-17 12:47:56.576] [INFO] console - info: 'socket.io started'\n[2012-09-17 12:47:56.583] [INFO] console - You can access your\nEtherpad-Lite instance at http://0.0.0.0:9001/\n[2012-09-17 12:47:56.583] [INFO] console - The plugin admin page is at\nhttp://0.0.0.0:9001/admin/plugins\n[2012-09-17 12:47:56.587] [WARN] socket.io - error raised: Error: listen\nEADDRINUSE\n[2012-09-17 12:48:31.941] [INFO] http - 200, GET /\n[2012-09-17 12:48:32.274] [INFO] http - 200, GET /static/custom/index.css\n[2012-09-17 12:48:32.278] [INFO] http - 200, GET /static/custom/index.js\n[2012-09-17 12:48:32.278] [INFO] http - 200, GET /favicon.ico\n[2012-09-17 12:48:32.991] [INFO] http - 200, GET /favicon.ico\n[2012-09-17 12:49:03.969] [INFO] http - 200, GET /p/ruHKRGirsh\n[2012-09-17 12:49:04.254] [INFO] http - 200, GET /static/css/pad.css\n[2012-09-17 12:49:04.256] [INFO] http - 200, GET /static/custom/pad.css\n[2012-09-17 12:49:04.350] [INFO] http - 200, GET /static/img/loading.gif\n[2012-09-17 12:49:04.619] [INFO] http - 200, GET\n/static/js/require-kernel.js\n[2012-09-17 12:49:04.620] [INFO] http - 200, GET /static/img/leftarrow.png\n[2012-09-17 12:49:04.663] [INFO] http - 200, GET\n/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define\n[2012-09-17 12:49:04.859] [INFO] http - 200, GET\n/javascripts/lib/ep_etherpad-lite/static/js/ace2_common.js?callback=require.define\n[2012-09-17 12:49:04.902] [INFO] http - 200, GET /static/custom/pad.js\n[2012-09-17 12:49:05.025] [INFO] http - 200, GET\n/static/img/etherpad_lite_icons.png\n[2012-09-17 12:49:05.025] [INFO] http - 200, GET /favicon.ico\n[2012-09-17 12:49:05.451] [INFO] http - 307, GET\n/javascripts/lib/ep_etherpad-lite/static/js/rjquery?callback=require.define\n[2012-09-17 12:49:05.636] [INFO] http - 200, GET\n/javascripts/lib/ep_etherpad-lite/static/js/ace2_common.js?callback=require.define\n\n\u2014\nReply to this email directly or view it on GitHub.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/Pita/etherpad-lite/issues/989#issuecomment-8613002.\n. it looks like, where can i change the url?\n\n2012/9/17 Marcel Klehr notifications@github.com\n\nThe problem is the following (server log excerpt), I think.\n...\n[2012-09-17 15:29:18.556] [INFO] http - 404, GET /p/pluginfw/plugin-definitions.json\nIt should be /pluginfw/plugin-definitions.json instead of\n/p/pluginfw/plugin-definitions.json, shouldn't it?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/Pita/etherpad-lite/issues/989#issuecomment-8613967.\n. Even more info, for some reason when the script tries to load this file\nhttp://xxxx:9001/javascripts/lib/ep_etherpad-lite/static/js/rjquery?callback=require.define\nIt redirects (301) to this file:\nhttp://xxxx:9001/javascripts/lib/ep_etherpad-lite/static/js/ace2_common.js?callback=require.define\nBut that file is loaded empty, i checked the file under: /usr/share/etherpad-lite/node_modules/ep_etherpad-lite/static/js\nand the file is not empty (i asume that the url references to that file)\n\nI tried to do more but my experience with nodejs is still limited\n. yes in the same server running with nginx, but when i started this it did not happen.\nBut even if i stop nginx i get the same error :(\n. New info, i just updated to the last commit but still does not work, i think it is maybe because something different when i start or restart etherpad i get this error in my log:\n[2012-09-17 12:41:04.852] [WARN] socket.io - error raised: Error: listen EADDRINUSE\nthis is the full log, for one visit from start\nI'm also getting the same error in Firefox last version, chrome  last version and safari for windows last version\n\n[2012-09-17 12:47:56.567] [INFO] console - Installed plugins: ep_etherpad-lite\n[2012-09-17 12:47:56.570] [INFO] console - Your Etherpad Lite git version is b2c06e7\n[2012-09-17 12:47:56.571] [INFO] console - Report bugs at https://github.com/Pita/etherpad-lite/issues\n[2012-09-17 12:47:56.576] [INFO] console - info: 'socket.io started'\n[2012-09-17 12:47:56.583] [INFO] console - You can access your Etherpad-Lite instance at http://0.0.0.0:9001/\n[2012-09-17 12:47:56.583] [INFO] console - The plugin admin page is at http://0.0.0.0:9001/admin/plugins\n[2012-09-17 12:47:56.587] [WARN] socket.io - error raised: Error: listen EADDRINUSE\n[2012-09-17 12:48:31.941] [INFO] http - 200, GET /\n[2012-09-17 12:48:32.274] [INFO] http - 200, GET /static/custom/index.css\n[2012-09-17 12:48:32.278] [INFO] http - 200, GET /static/custom/index.js\n[2012-09-17 12:48:32.278] [INFO] http - 200, GET /favicon.ico\n[2012-09-17 12:48:32.991] [INFO] http - 200, GET /favicon.ico\n[2012-09-17 12:49:03.969] [INFO] http - 200, GET /p/ruHKRGirsh\n[2012-09-17 12:49:04.254] [INFO] http - 200, GET /static/css/pad.css\n[2012-09-17 12:49:04.256] [INFO] http - 200, GET /static/custom/pad.css\n[2012-09-17 12:49:04.350] [INFO] http - 200, GET /static/img/loading.gif\n[2012-09-17 12:49:04.619] [INFO] http - 200, GET /static/js/require-kernel.js\n[2012-09-17 12:49:04.620] [INFO] http - 200, GET /static/img/leftarrow.png\n[2012-09-17 12:49:04.663] [INFO] http - 200, GET /javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define\n[2012-09-17 12:49:04.859] [INFO] http - 200, GET /javascripts/lib/ep_etherpad-lite/static/js/ace2_common.js?callback=require.define\n[2012-09-17 12:49:04.902] [INFO] http - 200, GET /static/custom/pad.js\n[2012-09-17 12:49:05.025] [INFO] http - 200, GET /static/img/etherpad_lite_icons.png\n[2012-09-17 12:49:05.025] [INFO] http - 200, GET /favicon.ico\n[2012-09-17 12:49:05.451] [INFO] http - 307, GET /javascripts/lib/ep_etherpad-lite/static/js/rjquery?callback=require.define\n[2012-09-17 12:49:05.636] [INFO] http - 200, GET /javascripts/lib/ep_etherpad-lite/static/js/ace2_common.js?callback=require.define\n\n. ",
    "lepidum": "Sorry for this late reply.\nThe problem will be caused by our change. \nWe're trying to fix this problem, but we have not good idea.\n(some quick-hack are available. but not tested widely & not good ideas)\nPlease wait a little more.\n. @scanferla \nIn production environment, I would like to recommend you to revert our commit for a while. \nBecause our change is not required for users who do not enter anything other than US-ASCII.\nAnd my 'quick-hack' is not quick in fact. :(\nI think that other problems are not caused by revert. \nBest regards,\n. We have finished fix #1032 .\nTested at\nInternet Explorer 9.0.8112.16421\nFirefox 16\nFirefox Aurora 17.0a2 2012-10-08\nGoogle Chrome 22.0.1229.94\nGoogle Chrome Beta 24.0.1290.1\nWe are preparing the pull request now. \nJust a moment...\n. I have requested.\nsee: https://github.com/Pita/etherpad-lite/pull/1059\n. There is no special reason. We're trying to fix.\n. We're try to fix. but to separate from #1032.\n. > i think its used to avoid that changesets from the server are being applyed while the editor is in \"internalCompositionState\"\nThat's correct.\n@fourplusone  Thank you!\n. fixed by https://github.com/Pita/etherpad-lite/pull/1059\n. ",
    "yourcelf": "I'm using it in an embedded context, where users already have names and colors associated with their account for other applications.  It allows consistent colors/usernames across all parts.\nI can already set the \"userName\" URL parameter when embedding; being able to set the color covers the same sort of use cases, but where color has meaning outside the etherpad.\n. Pull request against develop here: https://github.com/Pita/etherpad-lite/pull/1004\n. (Prior conversation here: https://github.com/Pita/etherpad-lite/pull/1002)\n. That's true.  I can think of three solutions:\n1. Find some other way to sanitize css color values that allows a valid \"white\".  With the huge array of different ways that a color can be specified, regex or similar approaches would be unwieldy.\n2. Introspect the pad's background color, and use that as the reference value instead of just \"white\".\n3. Restrict userColor to a particular color format (probably 6-digit hex -- \"#abcdef\"), and allow colors that match the background color of the pad.\nI included the sanitization in the first place, because I found that accidentally typing an incorrect color value would mess up not only your own colors, but those of any other connected clients for your text.  Fixing this in the client like this still leaves the possibility that a malicious user could send bogus color values for their own text, since both server and client currently trust self-reported color values to be safe.  Worst case scenario is that one could make one's own text white-on-white and thus unreadable.\n. It could make sense to do validation prior to setting globalUserColor, but if you want globalUserColor to be a trustable value, css2triple (or colorutils.css2sixhex, which it calls) should be spruced up a bit.  It currently just does a very simple regex and no validation; it just pulls out the first 3 hex characters it can find from any arbitrary string you give it, which can result in undefined/invalid CSS.  Not adequate for user input.\n. I'm very interested in making it work.  Let me know of any needed changes and I'd be happy to make it happen.  If I understand right, the only outstanding question is @cweider's concern of setting the var settings.globalUserColor to contain un-parsed input, prior to validation.  Some points to note regarding this:\n- currently, there is no validation done on the color value that goes through CollabRoom, so as currently stands (even without this pull request), a malicious user could send color values that bork things a bit by injecting a malicious JSON packet to the CollabRoom.\n- the current pull request validates colors provided by the queryarg before use.\nI've no particularly strong feelings either way about whether to validate prior to setting settings.globalUserColor or after, but if that makes the difference, I'd be happy to update the pull request accordingly.\n. Unpleasant attitude, but valid complaint. Added a pull request to document this with the other embed parameters.\n. Actually, if you set your background color to an invalid value, the color inversion check fails.  Looking through colorutils.js, which controls the inversion, it assumes that whatever you pass in as a background color value is a valid CSS hex (e.g. \"#ffffff\").  If you pass \"asdf\" as a background color, the conversions in colorutils.js break.\nBut given that, I agree this can be simplified: it's probably best just to require that the url parameter be a valid CSS hex, which is what colorutils.js wants.  This would avoid typos from breaking others' colors, though it would still be possible (as it is already) for a malicious client to send a bogus color value via an injected USER_NEWINFO message and get white-on-white.\nI'll update the pull request shortly.\n. ",
    "choletj": "Hi,\nyes I did, on both servers mysql.\ndouble check\n. Hello,\nI was working on an other project.\nFinally, I use a MySQL v5.1 server and the etherpad-lite works fine. I don't know why the previous server was a problem.\nMaybe a peculiar configuration in our structure that I can't manage.\nThank you for the time you spent on this problem.\n. ",
    "Changaco": "Oh, sorry and thanks for the quick response. :)\n. ",
    "creffett": "No dice there; plus, my Chrome browser has never accessed it before, I only used that to make sure it wasn't a Firefox-related issue.\n. ",
    "SaasInvent": "Hi,\nI just installed etherpadlite. I still encounter the following error:\nPermission denied to access property 'inInternationalComposition'\nI am developping on a linux machine, localhost:\nthe main server : http://localhost:3000 \nthe etherpad instance : http://localhost:9001\nThis throws (by the way) another non-blocking error: Unsafe javascript...\nFor the moment the etherpadlite is not working, what can I do about that?\nThank's in advance\n. thank you for your answer,\nI am new to Git/Github so I will watch the introductory video in order to know how to make\nthe \ngit pull developp\nrequest.\nAnother thought occurred to me: the error might not be due to the fact that I had\ntwo node.js instances running at the same time:\n1) for my webserver (with express)\n2) the other for Etherpad Lite\nmany thanks in advance\nMarkus\n\nMessage du 11/10/12 19:14\nDe : \"John McLear\" \nA : \"Pita/etherpad-lite\" \nCopie \u00e0 : \"mbocker\" \nObjet : Re: [etherpad-lite] Embedding pads produces an error in firefox and no text is saved (#1032)\nShould be solved. Please:\ngit pull develop\nLet me know if it doesn't work out for you\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/Pita/etherpad-lite/issues/1032#issuecomment-9349478\n\nUne messagerie gratuite, garantie \u00e0 vie et des services en plus, \u00e7a vous tente ?\nJe cr\u00e9e ma bo\u00eete mail www.laposte.net\n. ",
    "d-a-n": "Thanks a lot. Then I can release my search plugin.\n. Yes, but the initial commit is not that far away. It will be a great plugin that enables you to use EPL like a wiki.\n. Thanks for reviewing and the provided improvements. I have made your suggested changes. Please review again.\n. Thanks again for reviewing. I have changed the code and docs.\n. May I ask what the difference between hooks.callAll and hooks.aCallAll is? I did not find any docs about it.\n. ",
    "iquidus": "Having one central location for tracking bugs of all the epl plugins would be quite useful imo. As currently there is either no bug tracking happening, or each plugin is tracking bugs separately, making this all a little bit messy.\nIn saying that though, implementing such a thing is probably easier said than done and devs time would be better spent on developing epl than community infrastructure. If it is something people are interested in tho, I could possibly whip something up to trial/play around with.\n. This could potentially introduce security risks imo. If another node application that is also being run as user 'node' is exploited in some way, the attacker would also gain access to the etherpad-lite root directory. If the application needs its own user, it should have its own user, not one that is shared across applications, as there is no way to tell how secure these other applications are. This is assuming that the node user would be running all node applications, which is the impression i get from username 'node'\n. No experience with usability studies but thought I'd provide some feedback. Currently on hover it says 'saved revisions' but upon click, it saves the revision, the wording should be changed to 'save revision' as that is what the button does, the current wording suggests it will list or display the 'saved revisions' for that pad. Also I agree with marcel/mluto 'tagged' or 'marked' makes more sense than 'saved' (keeping my previous comment about wording in mind). I generally associate 'flagged' with bad.. e.g 'the comment has been flagged for being offensive' so it might be better to avoid flagged.I dont think the icon matters much if the wording is fixed up, the star will be just fine. \n. John, you are correct. It does now say 'Save Revision', I guess somebody fixed that up already.\nOn another note, ep_help_bubbles needs rewording (says 'saved revisions')\n+1 save icon\n. Is working correctly for me in firefox 18. On both epl 1.2.6 and develop.\nedit: Although i believe i misread the question :/\n. ",
    "Infraded": "Awesome, that fixed it for me. Thanks\n. Make sure you've not only checked out the branch, but pulled it as well. Also, make sure you've cleared your browser's cache or try a fresh browser.\n. ",
    "marcnesium": "Seems still not to work for me. checked out develop branch minutes ago, now with async 0.1.22.\nBut i still get:\nAn error occured while loading the pad\nError: The module at \"async\" does not exist. in https://example.com/static/js/require-kernel.js (line 1)\nwhen i open a pad.\nWhat can i do to debug?\n. ",
    "CatoTH": "It's the tag release/releases-1.1.3 (with node 0.8.8).\n. I didn't see this behavior in the last couple of months anymore.\n. ",
    "kingmook": "Also I should have stated that I'm using the PHP implementation of the API.\n. It's funny you say that. While looking through the php api I noticed it was using curl and added \"CURLOPT_SSL_VERIFYPEER\" to solve the problem. \nIt might be worth noting in the PHP Api that the proper solution for SSL instances would be to specify the proper cert to verify against with:\ncurl_setopt($ch, CURLOPT_SSL_VERIFYPEER, true);\ncurl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 2);\ncurl_setopt($ch, CURLOPT_CAINFO, getcwd() . \"/CAcerts/BuiltinObjectToken-EquifaxSecureCA.crt\");\nThanks for the brainwave assist 0ip.\n. So I've figured out a working solution for this.\nIn pad.js (also in the minified version located in var) in the function savePassword() I've added a browser check for Internet Explorer. If Explorer is detected the script will create a cookie with document.cookie instead of createCookie(). document.cookie does not seem to present the same cross-site cookie passing issues that createCookie() has.\nThe added code is as follows:\n```\nfunction savePassword()\n{\n  //Check for IE and then document.cookie instead of createCookie\n  if(navigator.appName=='Microsoft Internet Explorer'){\n       document.cookie=\"password=\" + $(\"#passwordinput\").val();\n  }\ncreateCookie(\"password\",$(\"#passwordinput\").val(),null,document.location.pathname);\n  //reload\n  document.location=document.location;\n}\n```\nThe minified version is as follows:\nif(navigator.appName=='Microsoft Internet Explorer'){document.cookie=\"password=\" + $(\"#passwordinput\").val()}\nIE9 still have some quirks with the actual composing of the pad. But at least now our IE9 users can see the pad.\n. So I've been continuing to play with this and found a much simpler solution.\nAs I'm using Etherpad-lite behind HTTPS it looks like the problem more specifically is the security of the cookie. This relates directly to the path not knowing if the system is using HTTP or HTTPS.\nusing document.location instead of document.location.pathname resolves this issue.\nIn pad.js:\nBecomes:\nif(navigator.appName=='Microsoft Internet Explorer'){\n     document.cookie = name + \"=\" + value + expires + \"; path=\"+document.location\n}\nelse{\n     document.cookie = name + \"=\" + value + expires + \"; path=\" + path;\n}\nMinified:\n. Done, done and done. \nThanks for the assist. I'm new at this bit. My pull request is at https://github.com/Pita/etherpad-lite/pull/1147 \n. Closed, should be against develop not master.\n. @mluto depending on which stats you're looking at IE overall still makes up for up to 50% of the Browser market share. Of that 50% around another 40% of those users are using IE 8 or lower. \nI'm not an IE user and clearly neither are you. But can't we all agree that IE users still represent a large user base.\n. I've been receiving this exact error under very similar circumstances (CentOS, low load and users) since upgrading to the most recent develop very of etherpad (cloned down on Oct 28th).\nI was running node 4.2.1 but downgraded to 12.7 following your 12+ response. Doesn't seem to have helped.\nHappy to give more details or create a separate issue if appropriate. Wondering if you ever got to the bottom of this one?\n. Sorry for the delay webz. Stack trace and versions as requested:\n[ERROR] console - TypeError: Uncaught, unspecified \"error\" event.\nat TypeError (<anonymous>)\nat WebSocket.EventEmitter.emit (events.js:74:15)\nat Receiver.onerror (/opt/etherpad/src/node_modules/socket.io/node_modules/engine.io/node_modules/ws/lib/WebSocket.js:775:10)\nat Receiver.error (/opt/etherpad/src/node_modules/socket.io/node_modules/engine.io/node_modules/ws/lib/Receiver.hixie.js:153:8)\nat doAdd (/opt/etherpad/src/node_modules/socket.io/node_modules/engine.io/node_modules/ws/lib/Receiver.hixie.js:61:14)\nat Receiver.add (/opt/etherpad/src/node_modules/socket.io/node_modules/engine.io/node_modules/ws/lib/Receiver.hixie.js:104:22)\nat CleartextStream.firstHandler (/opt/etherpad/src/node_modules/socket.io/node_modules/engine.io/node_modules/ws/lib/WebSocket.js:718:22)\nat CleartextStream.EventEmitter.emit (events.js:95:17)\nat CleartextStream.<anonymous> (_stream_readable.js:746:14)\nat CleartextStream.EventEmitter.emit (events.js:92:17)\nsocket.io/package.json - version 1.3.5\nsocket.io/node_modules/engine.io/package.json - version 1.5.1\nsocket.io/node_modules/engine.io/node_modules/ws/package.json - version 0.5.0\n. Still getting this one as of today. Has upgrading to a newer version of the code base or node saved others?\n. Thanks for the quick check-in. I'm not hurting for it, and frankly happy it's not something on my end for a change.. ",
    "tomnomnom": "I've got a few bits of work to do on the PHP class so I think I'll make a\nday of it soon.\nThere's a few different solutions to the SSL problem; I think we should\nallow people to specify a cert to use for the connection if they want to.\nI'll have a think about the best way to do it without breaking the\ninterface, but it might be a good time to bump the metaphorical major\nversion number and break the interface a little for the sake of\nmaintainability and ease of use.\nOn 10 October 2012 17:00, John McLear notifications@github.com wrote:\n\nI cc'd @TomNomNom https://github.com/TomNomNom in this conversation. He\nauthored the PHP class\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/Pita/etherpad-lite/issues/1053#issuecomment-9308606.\n. They're on the list :)\n\nI'm laptopless at the moment but I should be back up and running again soon\nOn 17 October 2012 13:57, John McLear notifications@github.com wrote:\n\nOkies, well the API is also now using version #s n stuff in requests and\nwe brought in new API endpoints n stuff so maybe add them too..\nDate: Wed, 17 Oct 2012 00:44:01 -0700\nFrom: notifications@github.com\nTo: etherpad-lite@noreply.github.com\nCC: john@mclear.co.uk\nSubject: Re: [etherpad-lite] API EtherpadLiteClient and HTTPS (#1053)\nI've got a few bits of work to do on the PHP class so I think I'll make a\nday of it soon.\nThere's a few different solutions to the SSL problem; I think we should\nallow people to specify a cert to use for the connection if they want to.\nI'll have a think about the best way to do it without breaking the\ninterface, but it might be a good time to bump the metaphorical major\nversion number and break the interface a little for the sake of\nmaintainability and ease of use.\nOn 10 October 2012 17:00, John McLear notifications@github.com wrote:\n\nI cc'd @TomNomNom https://github.com/TomNomNom in this conversation.\nHe\nauthored the PHP class\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/Pita/etherpad-lite/issues/1053#issuecomment-9308606>.\n\n\u2014\nReply to this email directly or view it on GitHub.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/Pita/etherpad-lite/issues/1053#issuecomment-9526183.\n. \n",
    "flotho": "Hi, \nMaybe a little old but this could sounds the same problem as #2754 , am I right?\n. Hi @Lucas-C which version of Apache do you use?\n. @llaurent, I'm also struggling with making it work under subdirectory\nSo :+1: \n. Hi @JohnMcLear ,\nYou wrote that it should 'Works behind proxy'\nI'm struggling with API issue and httpS proxy #2754 , if you think that this PR is related I can help to test this part.\nregards\n. Hi,\nI'm running under Apache 2.2 and also made tests on 2.4, running with a sudUrl : http://domain/tld/etherpad failed when you try to access /admin and also use the API.\n. Hi @bor1 didi you solved your issue?\n. Hi @bor1 \ncould you push your apache conf?\nI succeed in making it work behind apache http proxy but not behind an httpS\nThanks in advance\n. Hi @Gared \nI think I read a bad info. It was a kind of shared memory.\nBad info sorry\n. Hi,\nI made additionnal debugging and see that the file /opt/etherpad/etherpad-lite/src/node_modules/ueberdb2/node_modules/mysql/lib/Connection.js correctly used the port set up in the settings file.\nSo what could be wrong. Well actually, it's definitevly a mysql server part because it looks like the server prevent the access.\nI'll let you know.\nThanks for the fast support. The answer was on the server part :\n skip-name-resolve in the my.cnf help a bit\n the user conf was not correctly set in mysql.\nNow it works almost like a charm..... ",
    "dmitryuv": "yep, all messed up for the first time :) getting used to it, will fix myself shortly\n. yes, just returned from the debugging session. The fun stuff is that hooks.aCallAll will NEVER issue an error, so the error handling is not needed at this time (thought I'd leave it here if something will be changed later). \nBut result handling should be fixed, overwise it always receives NULL value.\n. I'm on it, will pull update later this week\n. would love to join, but won't be there on these dates\n. And here we go https://github.com/ether/etherpad-lite/pull/1454\nThere quite a lot of changes, so I guess you need some time to review them :) I've tested I think most of the affected usage scenarios - users, duplicate sessions, chats.\n. AFAIK it works differently. On load it starts pulling changesets from last to first revision using specified granularity (always equals to 1). For each changeset it creates forward (changeset as is) and backward (inversed changeset) version. If you want to go from head (rev50) to rev20 (i'll use smaller numbers for simplicity), it will apply backward changesets 49..20 to the head. Going forward, as you move slider back and forth it will apply forward or backward transform to the current state one by one. Timeslider stuck if you move slider too far where no changests are available yet, until they gets loaded (because loader works sequentially). \nYou don't need to have separate storage, changesets storage already have full text each 100 revisions. To move quicker on the timeline, you can load nearest base revision, then only small set of transformations to move from base to selected position.\n. I think you'll fill client's storage pretty quick with heavy usage :) Timeslider is a feature that is used very rarely, it should be ok to just optimize prefetcher so it will jump to the requested position rather than waiting until it is available.\n. Interesting, if you're not using timeslider, there should be no difference if the pad has 100 or 100k revisions, because the latest state required to open pad is always stored in the main pad record.\n. can you elaborate? we have pads with 36k revisions from \"real world\", no signs of slowing down.\n. If you type faster than you see it, this looks like a browser hiccup. Talking about changesets, do you mean you grow your document up to 25k symbols, or you keep your document small but constantly edit it? What is your browser CPU usage when you work on such pad? Does it helps if you refresh the page?\n. There should be another goal to remove \"sessioninfos\" storage and use socket.io storage instead (so it can be synced across cluster via socket.io redis storage, for example), but latter is async so code must be changed a bit, especially the parts where there is no breaks in the event loop assumed. I'll get back to that later and try to re-create changes from my original prototype.\n. why would someone need to get specified version AND all further changes, but not latest version? This conflicts with the idea of other export functions, where you always get the latest Pad state\n. Pull requests are subject to be merged into etherpad :) I'm just looking for consistency of the implementation.\n. Typo! (facepalm)\nI won't be able able to pull the fix for a few hours, but you can easily fix it:\nhttps://github.com/dmitryuv/etherpad-lite/blob/feature/socketio-rooms/src/node/handler/PadMessageHandler.js#L1028\nchange to padIds.padId (without \"s\" on the end)\nThe naming of that var always confused me :)\n. you can wrap changeset processing code with channels from dirtydb to create a per-pad channel and process incoming changes in order\n. i think this commit should be reverted to avoid pad crash with invalid changeset\nhttps://github.com/ether/etherpad-lite/commit/cd288c70cb6bc738014cae9315170b238e0898a1\n. as i understand there can be a high risk of race condition in the updatePadClients code where same changeset can be send multiple times to the client, because there is db roundtrip in the loop. If that's not critical for the client, then I'm wrong :)\n. @marcelklehr interested in 50% performance improvement for v8 with the changesets library? can make another pull request, but it changes a lot (mainly closures->prototype classes and removal of outdated \"optimizations\")\n. @marcelklehr no it don't, API is the same. It's just cosmetic code changes here and there, not \"deep refactoring\". Everything else is the same. I'll test more with real data and make pull request if everything works fine. Tests are running fine too, but i'm not sure they cover everything.\n. huh, me create, me fix :) okay\n. meh, forget it, not relevant anymore since I have a completely new one :)\n. Like never, because its not compatible :) I figured though if this one works, there is no benefit in making a new one. However, if you think about \"replaceable OT\", we can get back to it later.\n. Don't really like the naming for the messages in form of \"CLEAR_XXX\". Think, like, we're not clearing it. We're going to switch the pad. Why not use a single message \"SWITCH_PAD\" to do everything \u2013\u00a0send new vars right away instead of pushing messages back and fourth. On backend it will be a single delegated call to handleClientReady() with prior session patch.\nAlso clearing chat via server-side roundtrip looks a little bit hairy.\n. @JohnMcLear see my code review above. \n. yes i see, confused by github (: But still almost all feedback is applicable. The loop itself can be reduced to a few rows. The only 2 actions needed:\n1) add author to AuthorManager\n2) save same revision object with the new ID. Note that it should also re-save key revision data (i don't see why it shouldn't but worth re-checking).\nThe copyAText call is not really needed, you can assign new value to the pad right away:\nnewPad.atext = Changeset.applyToAText(changeset, newPad.atext, newPad.pool);\n. @JohnMcLear you merged this? wow... it changes the API and have a very strange way to throw an error message in the outer function rather than in the inner where error happened.\nAlso where returning an result array coming from? We're not writing CoffeScript, aren't we?\n. If its exported, it's a public API. Also you had to update tests and include strange [0] for this.\nYes, you can return arrays, but that usually means array of values, not a combination of results.\nSo here I suggest throw error in place and revert to the original API.\n. put more debug info to figure out bad changeset, and/or wrap this part into try/catch\n. at /home/jose/etherpad-lite/src/node/handler/PadMessageHandler.js:1636:31\nthe composition loop around this row can throw on bad changeset, this needs to be handled gracefully.\n. there should be 2 changesets for composition operation :) The second one is unpacked? Then lengths do not match, they can't be composed.\n. Guys, check the database encoding and encoding between client and server, everything should be unicode\n. There can be some Unicode stuff like space or smthng when copying from another source, for example.\n. > I don't know if this is wanted behaviour but it means, that some editor added the newline and not a real user. It happens e.g. when you see delete everything, and enter a new letter. Then automagically a newline is added at the end\netherpad likes newlines at the end of the document, so if there isn't any, it adds one by itself, with empty author.\n. Intentions are good but the code is not. Also commented on #2405. \nCode does not follow basic guidelines at least (missing \";\"),  and I don't really like using split function to count lines, matching regex is better performance wise IMO. \nbtw in my change sets i do even more checks including check for actually removed chars ;-)\n. > could you tell my where I can find your changeset-checks?\nit's here https://github.com/dmitryuv/atext-changeset\nbut the latest version is here https://github.com/dmitryuv/otdartlib\nthe split version seems to be faster, my bad assumption here :), just it hides the code intention to count newlines so it harder to read. \n. The error in composition is fatal, so it should be bubbled up in callback chain. There should be no \"return\" statement because it breaks ASYNC control flow.\n. > Do I need to \"return callback(the-error)\" or is it enough to just callback(the-error)? I am sure I understood the details in the past but not right now...\nThe difference is that if you don't return, you'll continue executing current function that have second callback() call at the end. That's a language basics. The rest looks good now.\n. this conversion is aligned with 2 more asserts few lines above. Also I personally prefer to not show user any exceptions :) we might write them to log, but not show in UI. And users shouldn't go to browser console to find them there. Caller code will catch exception and show user friendly message instead. For you as a developer, the latter will be more handy to see in logs rather than longer description without details. \n. yes, they appeared in original code and I haven't touched them, perhaps it's better to remove them now\n. dropped\n. yep\n. ",
    "Coopeh": "\nLoad a pad with a password.\nOpen firebug/inspect element, go to console.\nType $('#passwordinput').focus(); - nothing will happen\nTry $('#passwordinput').val('test'); - value will change in the password input box\n. Tested in Saucelabs but couldn't replicate. Chrome standard i.e. non-beta/dev also works on my machine. I will put it down to an error in the dev versions of Chrome and keep an eye on future updates.\n\nEd\n. ",
    "jibundeyare": "@Wikinaut, try to add the login and password of etherpad-lite's admin user to /etc/.apache2/.htpasswd and see if that works.\n. ",
    "Lucas-C": "As an example of working Apache config to ProxyPass Etherpad, here is a short blog post I wrote:\nhttps://chezsoi.org/lucas/blog/2014/10/10/en-setting-up-etherpad-in-a-server-subdirectory-aka-apache-config-hell/\nI had to use mod_proxy_html to re-write URLs in the pages served.\n. Sorry, I can't tell : I don't use Apache anymore. I moved to Nginx.\n. I have the same issue.\nInstalled plugins:\n- headings 0.1.6\n- historicalsearch 0.0.8\n- markdown 0.0.4\n- push2delete 0.1.2\n- small_list  0.0.3\n- syntaxhighlighting 0.1.4\n- timesliderdiff 0.0.3\nA work-around for this issue is simply to scroll down to the bottom of the plugins page to display all the available plugins and then use your browser search/find functionality to look for keywords in the page.\n. As an example of working Apache config to ProxyPass Etherpad, here is a short blog post I wrote:\nhttps://chezsoi.org/lucas/blog/2014/10/10/en-setting-up-etherpad-in-a-server-subdirectory-aka-apache-config-hell/\nI had to use mod_proxy_html to re-write URLs in the pages served.\n. ",
    "isaacs": "The core issue is https://github.com/isaacs/npm-www/issues/182\nBut of course, it may still show up in searches (and the command line npm search), since there are a bazillion caches and indexes involved.\n. The good news is that you're no longer leaking memory.\nThe bad news is that you do indeed need to add error listeners to your objects.\n. In most apps, you can usually treat ECONNRESET as roughly the same as a graceful close.  Just make sure that you actually stop using that socket, since it's now closed.  However, it's not a graceful close, since it's not in any sense \"graceful\".  Prior to v0.8.20, node would happily buffer all writes to reset sockets, causing memory explosion death.\n. Check for res.socket.destroyed before calling res.write().  If you see it's destroyed, then just throw it away.\n. Yes, this affects all OutgoingMessage objects, whether on the client or the server.\n. ",
    "Deepsurfer": "i will testet again in view days, but i mean that the TimeSlider works with \"dirty\" DB.\nby change to mysql DB i have the same issue that the needle is taking his way but no text and no changes is seeing.\nin the mysqlDB is seeing the stored changes (many tables..) \ngrrets\nDeep\n. Resume, its not an issue with MySQL !\nnow step by step testing till broken TimeSlide\nSorry for long Comment, but think must be good to see what happen\n- Debian Squeeze 64bit\n- MySQL 5.1.49-3\n- abiword 2.8.2\n- node v0.8.14\n- git version 1.7.2.5\n- npm 1.1.65\n- etherpad-lite 1.1.5\nBrowser: FireFox 17.0.2 and IRON 15.0.900.2 (Developer-Build 107001 Windows) Chrome Clone\nClean install without any changes = Dirty-DB \nTimeSlider works perfect !\n[code]\nEnsure that all dependencies are up to date...\nnpm WARN package.json ep_etherpad-lite@1.1.5 No README.md file found!\nnpm WARN package.json async-stacktrace@0.0.2 'dev-dependencies' should probably be 'devDependencies'\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2012-11-08 21:39:29.618] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production.\n[2012-11-08 21:39:30.491] [INFO] console - Installed plugins: ep_etherpad-lite\n[2012-11-08 21:39:30.511] [WARN] console - Can't get git version for server header\nEISDIR, illegal operation on a directory\n[2012-11-08 21:39:30.511] [INFO] console - Report bugs at https://github.com/Pita/etherpad-lite/issues\n[2012-11-08 21:39:30.549] [INFO] console -    info  - 'socket.io started'\n[2012-11-08 21:39:30.557] [INFO] console - You can access your Etherpad-Lite instance at http://0.0.0.0:9001/\n[2012-11-08 21:39:30.557] [WARN] console - Admin username and password not set in settings.json.  To access admin please uncomment and edit 'users' in settings.json\n[/code]\n\nChange ADMIN function and change to MySQL\nTimeSlider works perfect !\n[code]\nEnsure that all dependencies are up to date...\nnpm WARN package.json ep_etherpad-lite@1.1.5 No README.md file found!\nnpm WARN package.json async-stacktrace@0.0.2 'dev-dependencies' should probably be 'devDependencies'\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2012-11-08 21:44:04.937] [INFO] console - Installed plugins: ep_etherpad-lite\n[2012-11-08 21:44:04.964] [WARN] console - Can't get git version for server header\nEISDIR, illegal operation on a directory\n[2012-11-08 21:44:04.964] [INFO] console - Report bugs at https://github.com/Pita/etherpad-lite/issues\n[2012-11-08 21:44:05.000] [INFO] console -    info  - 'socket.io started'\n[2012-11-08 21:44:05.006] [INFO] console - You can access your Etherpad-Lite instance at http://0.0.0.0:9001/\n[2012-11-08 21:44:05.006] [INFO] console - The plugin admin page is at http://0.0.0.0:9001/admin/plugins\n[/code]\n\nChange to ABIWORD (for export and import)\nTimeSlider works perfect\nAt this point all is good, now i install useful plugins via /admin/plugins Interface not over console !\n-- console write that install is good, but etherpad-lite must be restart because the browser have after restart the plugin in pad interface\n1. ep_headings -- TimeSlide works\n2. ep_monospace_default -- TimeSlide works\n3. ep_tables -- TimeSlider DONT Work anymore / after uninstall TimelSlide works\ni read in any issue text that any plugins are broken, but i don't find any list of this problem between \netherpad-lite 1.1.5 and the plugin List.\ni can make a little list of working <--> broken  plugins, but i do not test all 37 plugins because many of them not useful for me.\ncomment this list later\ngreets\nDeep\n. So short list:\n- ep_cursortrace TimeSlide works\n- ep_authornames TimeSlide works (but i see nothing or any function)\n- ep_syntaxhighlighting TimeSlide works\n- ep_sketchspace TimeSlide works (but i dont know how it works, dojo loading over 2 minutes and browser make script warnings)\n- ep_pageview TimeSlide works\n- ep_copypad (with extra \"npm install async\" \"npm install async-stacktrace\") TimeSlider works\n  Notice, the Copy bottom have no icon-pricture\n- ep_fileupload (with extra \"npm install express\") complete broken etherpad\n  Script error. in http://dummy.domain:9001/static/plugins/ep_fileupload/static/js/fileUpload.js (line 0)\nDont know if this a new issue:\nby stopping the etherpad-lide with STRG-C it comes this red message\n^C[2012-11-08 23:00:39.215] [INFO] console - graceful shutdown...\n[2012-11-08 23:00:39.231] [ERROR] console - TypeError: object is not a function\n    at ChildProcess. (/home/etherpadlite/src/node/utils/Abiword.js:95:7)\n    at ChildProcess.EventEmitter.emit (events.js:99:17)\n    at Process._handle.onexit (child_process.js:678:10)\n[2012-11-08 23:00:39.258] [INFO] console - db sucessfully closed.\nany suggestions ?\ngreets\nDeep\n. << from johnymar22 @Deepsurfer what does working plugins have to do with broken time slider? >>\nMy List is with EtherPadLite 1.1.5 (at this time was actual version) and in this list from me it can see that any popular plugins working with 1.1.5 up to ep_tables.\nAnd with this Information i hope that many other users with the broken time slider checking installed plugins list.\nthe second list, i wrote that i test not all plugins, but any plugins i testet and review a status, in all cases for therpad-lite 1.1.5.\nI do that because i found a list for old etherpadlite version and not actual.\nNow etherpadlite is on Version 1.2 and i think, after your question, a new list with working and/or broken plugins is undesired.\nsorry for my bad english, hope significant detail are understanding\ngreetings from germany\nDeep\n. ",
    "btherres": "Same issue here:\nSystem\n- Running on Solaris 11\n- Latest Etherpad 1.1.5\n- NodeJS 0.8.8\n- Nginx version: nginx/1.2.3\n- Using mySQL DB (https://github.com/Pita/etherpad-lite/wiki/How-to-use-Etherpad-Lite-with-MySQL)\nProblem\n- Problem with stuck history appears from around 120+ revisions\n- Timeslider starts working at 80-90% (shows the last few revisions)\n- When you now scroll back to start you can view the complete history\nSeems as you should give the timeslider a bit more time to load before is starts playing...?\n. done #1136\n. Worked fine for me... Don't know why it fails with travis.\nThe commit has no big changes, only two if conditions and the use of ggrep instead of grep if SunOS is used...\n. OK, good to know :)\nv1.2 is already running and works fine :+1:\nPerhaps I should add a note that installDeps needs a while to run, because you see no output since I removed the -v from cp because of its solaris incompatibility.\n. No errors\n. ",
    "coiby": "If I remove ep_tables plugin, the timeslider works nicely!\n. ",
    "bflorat": "Same here with etherpad 1.6.3, the ep_table plugin broke the timeslider. Spent 2 hours before finding the previous comments.  If this plugin is no more supported, perhaps should it by dropped from the official list ?. ",
    "defa": "currently it's set to:\n\"ueberDB\"             : \"0.1.7\"\nis that correct?\n. Got it - seems like some path-interpretation changed. I fixed the location of the DB-Path like that:\n\"dbSettings\" : {\n                   \"filename\" : \"var/sqlite.db\"\n                 },\nThanks for reading.\nbye\n. Hey, I am a debian user - long time is a very unsharp term concerning software. ;)\n. Sorry for not reporting back, a private issue stole my time to work further on that issue. I finally pulled the current master branch again and put my user data in that fresh installation. That solved the problem.\n. ",
    "clkao": "setHTML triggers content collection on server side, and may invoke the code trying to access window.  for pad.js i think it's purely client side and should be fine.\n. to clarify: \"#1785 actually made safeRun a bit unsafe.\" didn't mean the change was security-wise unsafe.  It was unsafe in terms of what the \"safeRun\" script was supposedly to do - restarting crashed server safely.\n. Tests seem fine in ff, one error (the waitFor method) in chrome, but passed when rerun with ?grep=helper.js\n. No I haven't got a chance to look into it.  any pointer for spec tests with plugins enabled?  Since the behaviour only changes when there's a hook claiming authorStyle has been handled.\n. How does this change the default behaviour? With no plugin registering the new hook it should be the same as before\n. I'll get to it this week, thanks for the reminder.\n. The reason that this build still fails is because the way travis deals with pullreqs - it checkouts the develop branch first and merges the pullreq, so the changes to travis-ci.yml is too late to be effective.  If this can be merged to a real branch we should see if the build works.\n. ",
    "jbaack": "Just tried 1.2 - same issue.\nSorry I don't have more on this - not very familiar with the code. This was working fine for me with an older version - I think some version of 1.0. If someone can point me where to look for export in the code I will check it out.\nHere's how it happens for me. I create a group pad and set the cookie. I embed the pad in another page normally, but this URL displays the pad directly fine\nhttp://127.0.0.1:9001/p/g.ErPZW5yKLlcszM40$4df2d5e31c314e74920ecdfc274c52f7\nbut this fails with 403\nhttp://127.0.0.1:9001/p/g.ErPZW5yKLlcszM40$4df2d5e31c314e74920ecdfc274c52f7/export/pdf\nLet me know what additional info you need.\nJim\n. Thanks all! Sorry I wasn't able to make this easier.     Jim\n. ",
    "sanjeev2804": "I am facing the same issue in Internet Explorer 11(http). The password is displaying as null in server log. Is there any way to resolve it? Although If I use compatibility mode then the authentication is successful.\nSince IE 11 navigator.appName returns Netscape alike other browsers.\n. Possible solution is to replace \nnavigator.appName == 'Microsoft Internet Explorer' \nwith\n((navigator.appName == 'Microsoft Internet Explorer') || ((navigator.appName == 'Netscape') && (new RegExp(\"Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})\").exec(navigator.userAgent) != null)))\n. ",
    "sciunto": "Johnyma22, I'm not sure to know what I'm supposed to do. Could you be more explicit than just 'Please issue pull request against develop'. I'm not an expert on github ;)\n. OK, this is because I  cloned master. I tried to fix the problem by adding the code around. Git must recognize the patch now. \n. Well, this patch is useless in that case. I close it.\n. No, I don't know how to write a plugin and I give up. I'm not a js hacker. I did it because we use mediawiki and ep_lite in my organization. But now, I'm not sure it's worth for me to waste a dozen of hours with that when a specialist can achieve this in 30 minutes with indications I gave.\n. ",
    "fritz0705": "roflcopter gtfo.\n. ",
    "bdolor": "hmmm. Same results with npm --version 1.1.30\n. Thanks for the fix, marcelklehr. Dirty is migrating to mysql now. \n. ",
    "tazhate": "I think you should use nginx+ssl. It is easier to deploy. :)\n. oh, ssory.\n2 gb ram - i mean server ram (hardware).\nThere is a lot of startup logs, i will attach it in next 20-30 min.\n.  # bin/run.sh \nYou shouldn't start Etherpad-Lite as root!\nPlease type 'Etherpad Lite rocks my socks' if you still want to start it as root\n'Etherpad Lite rocks my socks'\nbin/run.sh: line 16: [: too many arguments\nEnsure that all dependencies are up to date...\nnpm WARN package.json ep_etherpad-lite@1.1.5 No README.md file found!\nnpm WARN package.json async-stacktrace@0.0.2 'dev-dependencies' should probably be 'devDependencies'\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2012-11-10 00:05:09.754] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production.\n[2012-11-10 00:05:22.701] [INFO] console - Installed plugins: ep_etherpad-lite\n[2012-11-10 00:05:22.772] [INFO] console - Your Etherpad Lite git version is 3944517\n[2012-11-10 00:05:22.773] [INFO] console - Report bugs at https://github.com/Pita/etherpad-lite/issues\n[2012-11-10 00:05:23.012] [INFO] console -    info  - 'socket.io started'\n[2012-11-10 00:05:23.072] [INFO] console - You can access your Etherpad-Lite instance at http://0.0.0.0:9001/\n[2012-11-10 00:05:23.072] [WARN] console - Admin username and password not set in settings.json.  To access admin please uncomment and edit 'users' in settings.json\n[2012-11-10 00:05:27.933] [INFO] http - 200, GET /p/yaroot\n[2012-11-10 00:05:28.155] [INFO] http - 200, GET /static/custom/pad.css\n[2012-11-10 00:05:28.162] [INFO] http - 200, GET /static/css/pad.css\n[2012-11-10 00:05:28.189] [INFO] http - 200, GET /static/img/loading.gif\n[2012-11-10 00:05:28.237] [INFO] http - 200, GET /static/img/leftarrow.png\n[2012-11-10 00:05:28.429] [INFO] http - 200, GET /static/js/require-kernel.js\n[2012-11-10 00:05:30.359] [INFO] http - 200, GET /static/img/connectingbar.gif\n[2012-11-10 00:05:30.869] [INFO] http - 200, GET /static/img/etherpad_lite_icons.png\n[2012-11-10 00:05:30.869] [INFO] http - 200, GET /static/custom/pad.js\n[2012-11-10 00:05:33.445] [INFO] http - 304, GET /p/yaroot\n[2012-11-10 00:05:33.704] [INFO] http - 304, GET /static/css/pad.css\n[2012-11-10 00:05:33.765] [INFO] http - 304, GET /static/custom/pad.css\n[2012-11-10 00:05:33.772] [INFO] http - 200, GET /javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define\n[2012-11-10 00:05:33.773] [INFO] http - 200, GET /javascripts/lib/ep_etherpad-lite/static/js/ace2_common.js?callback=require.define\n[2012-11-10 00:05:33.792] [INFO] http - 304, GET /javascripts/lib/ep_etherpad-lite/static/js/ace2_common.js?callback=require.define\n[2012-11-10 00:05:33.793] [INFO] http - 304, GET /javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define\n[2012-11-10 00:05:33.805] [INFO] http - 304, GET /static/custom/pad.js\n[2012-11-10 00:05:33.882] [INFO] http - 200, GET /static/js/require-kernel.js\n[2012-11-10 00:05:33.887] [INFO] http - 304, GET /static/img/leftarrow.png\n[2012-11-10 00:05:33.887] [INFO] http - 304, GET /static/img/connectingbar.gif\n[2012-11-10 00:05:33.887] [INFO] http - 304, GET /static/img/loading.gif\n[2012-11-10 00:05:33.888] [INFO] http - 304, GET /favicon.ico\n[2012-11-10 00:05:33.939] [INFO] http - 304, GET /static/img/etherpad_lite_icons.png\n[2012-11-10 00:05:34.137] [INFO] http - 307, GET /javascripts/lib/ep_etherpad-lite/static/js/colorutils?callback=require.define\n[2012-11-10 00:05:34.184] [INFO] http - 200, GET /pluginfw/plugin-definitions.json\n. Have you tested your sofware with about 10-11 people online? I've asked in some Russian forum to do crash test :)\nSo it's crashine always with this 2 reasons, which i've posted earlier.\nSsory for my bad English :(\n. Ok, thank you!\nWhen you will need testing - you can always reply, i will help and provide all logs.\nThank you for your product!\n. ",
    "tux-tn": "It looks like i am an idiot >< \nSorry for the inconvenience\n. Many projects are using Transifex https://www.transifex.com/\n. ",
    "nemobis": "Wikimedia is willing to use etherpad lite (https://bugzilla.wikimedia.org/show_bug.cgi?id=28601), so I'm sure that translators at translatewiki.net would be very happy to translate it in as many languages as possible.\nLet me know if you need help with process.\n. It's been a few months since the (very much appreciated) debugging sprint above: if I understand correctly, the problem has been dissected and identified, right?\nWhat sort of help is needed to make this move? Now that 1.3 was released and corruption problems hopefully solved, this is (again) the main blocker for wide use of etherpad lite at Wikimedia.\n. @dlongley who are the original authors? Can they be added to this ticket?\n. Sorry, I don't get it: why only an admin? I'm a wiki user like osamak, so perhaps it's our own bias, but there is little purpose in having history if you can't bring the document back to a previous version. If I remember correctly the original etherpad had this feature, I used to restore saved/featured revisions from the timeslider.\n. \"If anyone could restore a version you would destroy the fidelity of a pad\": can you elaborate this? I don't get it. I can blank a pad, nobody can easily restore it as it was before I blanked it; is this fidelity?\n. Nope, I don't want to fork pads.\n\"Here you restored to state 1 but it's actually Revision 4, we never remove Revision 1, 2 or 3\": yes, so what's the problem?\n. Wonderful. Nobody asked history rewriting here but it seems it wasn't clear enough; if someone with the power to edit the bug summary clarified this, it would be helpful.\n. So, to followup, what revert features are available now to users and since what release? The commit seems to stay admin powers are required, which would be useless for etherpad.wikimedia.org.\n. Well, is there a bug for the frequent corruption, then? It just happened again on that pad's successor, it didn't survive more than a month: https://etherpad.wikimedia.org/p/i18n-team-04\n. This happened around the same time as the corruption mentioned in https://github.com/ether/etherpad-lite/issues/1885#issuecomment-26715140 , dunno if related.\n. Wonderful, what revision? Any available release for it?\n. ",
    "daemonburrito": "@johnyma22 I was tired last night. I misread /home/scott/.npm as /home/scott/node_modules, my local npm prefix + node_modules.\nSo ~/.npm is the local package cache... I wish I knew enough about npm to know if anything is supposed to be owned by root in there. I can't recall having set that. It is only ~/.npm/npm that is owned by root. Inside, there is a cached package of a much older version of npm (1.1.2).\nSo I guess it's possible that something odd happened to my npm installation. Only leaving this ticket open in case one of you has a clue as to what might have happened, feel free to close if not. Thanks for the quick replies.\n. After browsing https://github.com/isaacs/npm/issues, I figured out what happened. There was an npm bug a while ago. The cleanest solution, I think, is to nuke the cache (all is well now).\nThank you.\n. ",
    "tmpvar": "OH! we can kill that stuff off, doing that now\n. bit late, but resolved here : tmpvar/jsdom@31227ce16fb73c7315c6072ec279c9f8cc8766d7\nthank you for reporting\n. woah, what file(s) does the extraction break on?\n. ",
    "Nikerabbit": "1) Most of the information you ask is already available in the Unicode CLDR project, and when it is not MediaWiki will have that information. Easy way to check what we use is to visit our portal pages:\n- http://translatewiki.net/wiki/Portal:ksh\n- http://translatewiki.net/wiki/Portal:diq\n2) We avoid using macro languages at translatewiki.net. This particular code (diq) has been inherited from MediaWiki given the info we have on it.\n3) Language committee doesn't invent language codes anymore. ISO code is a requirement for new Wikimedia project, but that has no direct connection on what languages we support at translatewiki.net. We also require valid ISO code, so you wont be getting that kind of languages from us, though you might get variants like sr-latn and sr-cyrl.\n4) Support for three-letter codes is needed (two letter code is used if language has both).\n. What will you do when someone contributes zh-hans? Language codes cannot be changed like that. Also our scripts would just reexport zh-hant.ini unless we add a code map here.\nYou should also not use page https://translatewiki.net/wiki/Special:SupportedLanguages because it doesn't list the variant language codes. You should also not use screenscraping, but use the WebAPI instead. If the information is not available there, a feature request should be filed ;)\n. http://translatewiki.net/w/api.php?action=query&meta=messagegroupstats&mgsgroup=out-etherpad-lite ;) (Use the format= parameter to get it in different formats).\n. First, there is no longer a separation between two letter and three letter codes. The modern standard is to use https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry (which basically is \"use two letter code if available, otherwise three letter code\" but that's irrelevant).\nSecondly, can you use https://github.com/wikimedia/jquery.uls or do something similar for the language selector which does not require changing the language names?\nThirdly, you could get language autonyms from https://github.com/wikimedia/language-data which is maintained by the Wikimedia Language team if you can't use jquery.uls for the language selector.. ",
    "mohit-rocks": "@JohnMcLear It is working fine as it seems the duplicate of  #761 issue suggested by @marcelklehr .\n. ",
    "lasuzz": "hi,\nI have the same problem, when I try to launch a pad\n\"\"An error occured while loading the pad\nError: Attempt to load undefined module. in http://server/static/js/require-kernel.js (line 1)\"\nrm -Rf src/node_modules does not change the problem, and i have update all i can.\nwhen i launch etherpad with run.sh, i have\n[2012-12-11 16:45:01.832] [INFO] http - 307, GET /javascripts/lib/ep_etherpad-lite/static/js/rjquery?callback=require.define\nI think it's related to the bug\nAny ideas ? \n\nDebian 6.0\nnodejs 0.8.14\n. I have already clear my browser cache.\nI'm new on git but i think i'm running the last revision because i have install with git clone\n. Thanks, it works !!\ncan you tell me what is the service of this type ??\n. ",
    "hevisko": "Using current git release (as per https://github.com/ether/etherpad-lite#installation ) I also have an empty slider window ;(\nI especially want to go to \"marked\" revisions, which I can't seem to view :(\nDo I have to \"upgrade\" to beta/dev/testing version to have this fixed?\nI have installed several of the add-on modules like the check list module\n. Nope, same problem ;(\nempty \"screen\"\ndid a \"git pull origin\" to confirm everything is there, rebooted the\nOpenVZ container with the MySQL and still the same blank screen when\nclicking on the slider button.\nOn 7/14/13, John McLear notifications@github.com wrote:\n\n@hevisko on latest master it should be fine, try create a new pad and hit\nthe timeslider button.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/issues/1217#issuecomment-20942030\n. I suspect that installation had a add-on that broke it. New installation it\nworks fine\n\nOn Tue, Aug 20, 2013 at 11:31 PM, Michael Hellwig\nnotifications@github.comwrote:\n\nI am also seeing this issue. Slider is completely broken, I'm not sure\nsince how many git updates ago since I wasn't personally using it. I'm on\nbranch \"develop\", is that the right one to be on?\nTried the JS console of my firefox, but that just caused CPU to max out\nfor a few minutes and not much else .. but before that didn't see any\nerrors, I just have a blank space below the slider (actually below the\n\"version XX saved on XX\" and so forth, roughly translated from German)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1217#issuecomment-22979454\n.\n. \n",
    "mhellwig": "I am also seeing this issue. Slider is completely broken, I'm not sure since how many git updates ago since I wasn't personally using it. I'm on branch \"develop\", is that the right one to be on?\nTried the JS console of my firefox, but that just caused CPU to max out for a few minutes and not much else .. but before that didn't see any errors, I just have a blank space below the slider  (actually below the \"version XX saved on XX\" and so forth, roughly translated from German)\n. Ah. That was a good trigger-word!\nStarted removing installed plugins. The one that triggers \"timeslider works\" vs \"timeslider doesn't work\" on my installation is the \"tables\" plugin. This is reproducible for me. I.e. I install the plugin, timeslider stops working. I uninstall it, it works again. Back and forth.\n. ",
    "codingisacopingstrategy": "Note that while the tables plugin might break it completely, there is still a more subtle breakage that happens sometimes under not quite clear conditions (at least with me, running cb3ab51ee14aefb2f9e71bdd9907c0a83c3aebb3). Most of our pads work fine, but one of the larger ones at 4656 revisions is exhibiting the behaviour described by @Wikinaut.\nIn the console:\nFailed to load resource: the server responded with a status of 502 (Bad Gateway) http://relearn.be/ether/socket.io/1/xhr-polling/GRcbZx1bnIFoO6YKQrGT?t=1378739239301\nFailed to load resource: the server responded with a status of 502 (Bad Gateway) http://relearn.be/ether/socket.io/1/?t=1378739243460\nFailed to load resource: the server responded with a status of 502 (Bad Gateway) http://relearn.be/ether/socket.io/1/?t=1378739244461\nFailed to load resource: the server responded with a status of 502 (Bad Gateway) http://relearn.be/ether/socket.io/1/?t=1378739246463\n. Noticed that, on several browsers. Basically, every time I paste text that has been marked by the OS as \u2018plain text\u2019: so from text editors etcetera.\nHave not yet had the chance yet tho check it out on an install without the \u2018headings\u2019 plugin\n. Fixed by https://github.com/ether/ether.github.com/pull/7\n. Thanks, added that info to the repo -> https://github.com/ether/etherpad-lite/pull/1869\n. ok :)\nI think the file was in a different encoding than UTF-8\u2026\nI haven\u2019t been able to figure out what happened exactly but this seems to fix it: https://github.com/ether/etherpad-lite/pull/1868\n. Yeah but at some point Etherpad lite was picked up by the Etherpad Foundation as the way forward\u2014it\u2019s this software that lives @ http://etherpad.org/\nAt this point the old Etherpad is exactly that, the old, legacy version. That site itself was confusing, mixing \u2018Etherpad\u2019 and \u2018Etherpad Lite\u2019. In https://github.com/ether/etherpad-lite/issues/1762 @JohnMcLear confirmed the project is now called Etherpad and it should be called like that on the site:\n\nPlease find any references to Etherpad Lite and change them to Etherpad.\n. OK, I rebased just now.\nI should have squashed the existing branch,\ndoes it say you can pull?\n\ncheers,\n. Along these lines, it would be great to have then listSavedRevisionsOfPad(padID).\n. Ah what I meant to say is a question for a possible author colour plugin\u2014one exists already? Must have overlooked it\n. Also on export? That\u2019s what I\u2019m looking for, a way to export the HTML retaining some metadata over which part was written by which author\u2026\n. Excellent! I\u2019ll have a go at it next week. Thanks also for pulling these requests lately!\n. ",
    "jonespm": "Same fix I came up with before I decided to search to see if it was fixed. Looks like DOMContentLoaded was sometimes fired before the script got loaded. Thanks!\n. Looks like the fix/bug in Chrome mentioned was filed as\nhttps://code.google.com/p/chromium/issues/detail?id=570622\nSeems to be working for me this morning.\n. ",
    "merkabah": "I believe the error was caused be an out of date or broken NodeJS installation. I was running 0.6.X when the problem occurred. To fix the problem I installed NodeJS 0.8 over my existing node files and Etherpad-Lite works fine.\n. ",
    "rydenius": "Thank you for pointing that out, but I actually read that before submitting the pull request and tried to do things by the book. Could you please be a little more specific what was the problem with the suggested patch or the pull request and I will try my best to fix it?\n. Great. No need for the one-liner of mine then.\n. When will this fix go to master branch? Is it any particular reason it has only made it to develop branch yet, one month after it was introduced there?\n. A client of mine has had the same problem in IE7. I can't reproduce the problem it with browserstack's IE7 though.\n\n. ",
    "GuillaumeAmat": "Oh ! My bad... I'm opening a new one.\n. Aaaaaah !! :P\nI'll be back...\n. Yes ! \\o/\nThanks for your time ;)\n. ",
    "ooxi": "@johnyma22 Cool, I'm checking it out right now :-)\nThis issue can be closed than\n. @johnyma22 Which IRC?\n. Hi,\nI Do Not agree with having the User change his default settings. But i would prefer a solution which only applies to Mac users and use monospace for everybody else\n-- ooxi\nVioletland \u2014 An open source cross-platform game similar to Crimsonland \u2014 http://violetland.github.com\n0ip notifications@github.com schrieb:\n\nWhy especially Ayuthaya? I'm convinced we should stick to defaults.\nIf monospace is really that difficult to read on Mac OS computers, which implies it's a problem across all webapps that use monospace , users could change this font for themselves to avoid this issue.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/pull/1280#issuecomment-11303461\n. Only on new installations, 8.04 LTS and afaik 10.04 LTS contain node as nodejs since node is occupied by another program\n\n-- ooxi\nVioletland \u2014 An open source cross-platform game similar to Crimsonland \u2014 http://violetland.github.com\nTimo Welde notifications@github.com schrieb:\n\nfyi: On Ubuntu, when you install 'nodejs' from apt, you get 'node' as a binary.\nMy Question @ilyash: How did you install nodejs?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/pull/1294#issuecomment-11638045\n. Perhaps sniffing the distribution is the right way to go. Packages could then throw out the sniffing Code and just use the right binary.\n\n-- ooxi\nVioletland \u2014 An open source cross-platform game similar to Crimsonland \u2014 http://violetland.github.com\nIlya Sher notifications@github.com schrieb:\n\nThis workaround can interfere with another existing package ( http://packages.debian.org/squeeze/node ) which has the \"node\" binary.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/pull/1294#issuecomment-14699522\n. Does reading from /dev/stdin work cross platform?\n. \n",
    "davelab6": "@ooxi are you interested in vector graphics at all? :)\n. @redhog Where can I see an instance of this? :)\n. ",
    "orph": "What functionality is missing in Hackpad, exactly?\n. I'm just super curious what you consider to be missing functionality, so I can fix it! :)\n. ",
    "asfaltboy": "a bit harsh, this is a one letter typo fix for the main page... but whatever\n.,:/Ethernet (n): something used to catch the etherbunny:,.\nOn Fri, Dec 7, 2012 at 4:52 PM, Marcel Klehr notifications@github.comwrote:\n\n... and incidentally, the API is not restful.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/pull/1275#issuecomment-11132361.\n. \n",
    "nareshv": "@marcelklehr , i am new to git and i've been submitting pull requests on master, in other projects. Looks i need to read the docs.\nAlso, plugin is 'addon' which can be added/removed without loss of existing basic functionality. Since the font change can be considered as a basic feature which can be there irrespective of whether the user wants to use specific font on a given target os. Also, a general guideline while writing css is that we can include multiple options (to fonts for example) to have better readability in a given platform.\nAlso, try to read the help docs of github w.r.t pre-formatted text https://help.github.com/articles/https-cloning-errors . It uses 'Monaco,\"DejaVu Sans Mono\",\"Courier New\",monospace' as the font list (commands and their output looks way better on my mac compared to win7). In general, the default monospace font is not readable, so this patch aims to make it better readable and have default fallback in all other oses.\nIf we really want to stick to a specific font for all platforms, we can use certain fonts from google font's repository and ship it (or link to em) with EPL. For instance\nhttp://www.google.com/webfonts/specimen/Droid+Sans+Mono\nhttp://www.google.com/webfonts/specimen/Ubuntu+Mono\nAm open for thoughts, suggestions.\n. \nWe can choose between Ayuthaya, Monaco for Mac Family \nConsolas for Windows\nMonospace for everyone else.\nSee the picture to understand the readability of monospace fonts. (Ayuthaya looks similar to monaco)\n. Given dual thought processes going on here, What do you guys think is a better UX ? \nLets come to come conclusion and close this issue.\n. ",
    "lewtds": "Oops, my bad. I didn't read the docs carefully. I thought you guys operate like most other projects. Sorry about that.\nAnd btw, while translating, I've noticed some problems here and there in the default template. Such as the \"index.newPad\" cannot be too long in order to fit into that fixed size button. Same thing for \"timeslider.toolbar.returnbutton\". On the other hand, some GUI strings aren't available for translation. For instance \"Import is not available. To enable import please install abiword\", \"Enter your name\", etc. And the time format isn't translated too. Hope you guys would fix these soon.\nI'll close this pull request now. Again, aplogies.\n. Ah, now I remember it. I was reading the part on translation in the main doc when I started translating it. Maybe you'll want to update that too.\n. ",
    "ujdhesa": "Since the http://translatewiki.net/w/i.php?title=Special%3ATranslate&taction=translate&group=out-etherpad-lite&language=sq&limit=100&task=untranslated page shows no translation at all, you could merge without fear of causing merging conflicts. And that would save me inputing over 90 strings by hand again.\n. I've started over and commited to develop branch:\ncommit 105240ce15eb1954748a2707850a71fb7f0ddaff\nCould you confirm? I can't see it here. I must confess that I'm not an expert of git.\n. Hmmm, I see it now, from the link above. What I don't see is the Pull Request button. Git damn it!\n. ",
    "Dhwty": "I think this plugin might address this issue: https://www.npmjs.com/package/ep_chatdate\nIt appears to add the date to the timestamp on chat messages.. Pretty sure this is related to #3090. I'm also having this problem.. I feel like this sort of a change should be optional -- something that can be enabled in the settings -- rather than the only choice. I say this because I work with a low-resolution screen and a dark theme, and this would be nightmarish for my ability to read my documents.. @joaobarcia Happy to help. I have some visual processing disabilities that make paragraphs of large text nearly illegible, and I can't handle much light, so I do all of my work in dimly-lit rooms, on dark backgrounds with moderately-sized, light text. (I realise I am such an edge case, and this is only going to affect like twenty other people in the entire world, and three of them are using my server.)\nEtherpad's current base font size is a good match for my screen and me -- which I realise probably makes it too damn small to read for anyone else, but I do need an option to keep it that size. (My screen's 1152x864, if you want a good laugh.)\nThe 'dark theme' is actually from a plugin -- ep_themes, which IIRC doesn't work straight out of the box, but I got it going. What it unfortunately doesn't affect, though is the range of highlight colours. Which, with a dark background and light text, do need to be dark.\nSo, here's a screenshot of what I'm working with and trying to maintain:\n\nThe light blue highlight in the chat is a user who is not currently on the document, and therefore has had their highlight dimmed, but the dark purple is someone present.. @HairyFotr Neat! Thanks! I've got to go tweak a couple of things so it applies across the whole row (and not to the user colour select button, which was an amusing side effect), but where it works right off, it looks so much better.. > I'm still feeling these should be features enabled by props on settings.json -- one for the colors, one for the font-size / line-height...\nIf this change goes into settings.json, rather than being a hard-coded change in font size and colour, it's not going to impact me at all. Thanks for the @.. ",
    "t3k4y": "Thanks for your answer and sorry if its a duplicate! \nBut since i'm only a frontend-user i cannot update this installation.. :-/ (but maybe i can suggest an update)\n. jepp:\nServer: Etherpad-Lite 309e3b0\n. @mluto Thank you for your work! Cannot wait for trying it :)\n. Vote for it here: http://etherpad.idea.informer.com/proj/?ia=67144\n. ",
    "thiagoalmeidasa": "Solved \n[ERROR] console - Failed to load '/web/etherpad-lite/node_modules/ep_etherpad-lite/node/hooks/express/socketio:expressCreateServer' for 'ep_etherpad-lite/socketio/hooks/expressCreateServer': Error: Cannot find module 'zeparser'\nresolved with:\nnmp install zeparser\n. ",
    "ilyash": "Sorry, wrong branch, I'll make another pull request.\n. This eliminates the message (when I start Etherpad) that tells me to\ninstall Node.js when I already have it. On Debian, it's \"nodejs\" and not\n\"node\" causing the error message. Tested only on Debian. I don't see any\nconnection to Windows...\nOn Dec 18, 2012 3:53 PM, \"John McLear\" notifications@github.com wrote:\n\nHave you tested building the windows package with this?\nWhat problem does this actually solve?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/pull/1294#issuecomment-11486678.\n. I use the official package, installed by the package manager. The exact package pointed by the link that @goldquest mentioned.\n. > since node is occupied by another program\n\nwhich makes my \"fix\" incorrect. I'll change it to search for \"nodejs\" binary first.\n. Polluted as in many commits instead of one or something about the code\nitself ?\nOn Wed, Feb 13, 2013 at 2:15 PM, Marcel Klehr notifications@github.comwrote:\n\nI think we are bound to fix this, but this pull request looks a bit\npolluted atm.... frowns\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/pull/1294#issuecomment-13488227.\n\n\nIlya Sher, Coding-Knight LTD.\n+972 54 8166121\nhttp://coding-knight.com/\n. :)\nSo how do we proceed? I could make another pull request which will only\nhave one commit ... it's just that will happen in an undefined point in\nfuture.\nOn Mon, Feb 18, 2013 at 10:30 PM, Marcel Klehr notifications@github.comwrote:\n\noh :)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/pull/1294#issuecomment-13741466.\n\n\nIlya Sher, Coding-Knight LTD.\n+972 54 8166121\nhttp://coding-knight.com/\n. This workaround can interfere with another existing package ( http://packages.debian.org/squeeze/node ) which has the \"node\" binary.\n. @ooxi : I'm not sure we want to get into distribution sniffing - this can get ugly very quickly. I think binary file lookup is much simpler and can be as easily eliminated by packagers.\n. ",
    "gllmhyt": "Workaround : \nupdate-alternatives --install /usr/bin/node node /usr/bin/nodejs 10\n. I have the same issue, and no proxy configured. Problem appeared when I updated to 1.7.0 this morning.. Note: I also tried to install the plugins from the web admin interface, I'll try your steps asap, thank you.. Thank you @GenJin, I did quite the same (with git clean after having saved settings) and it worked right after it!. ",
    "ksikka": "Couldn't the value of transports be switched based on the IE version? And if this is a socket.io problem, is it filed as a known issue with them? To properly decouple, the solution should lie only in the socket.io file.\nAlso, is there a rationale for why websockets is not one of the default transports?\n. ",
    "yvangodard": "Thanks a lot.\nMaybe you integrate in your introduction and installation instructions on the wiki references https://github.com/visionmedia/n.\nThis solution has the advantage of being able to easily choose the version of node to use.\n. I had already tried the command chown -R  \nAfter a plugin install via npm command it solves the problem.\nBut, via the Web App (/admin) it's still impossible to list available plugins \"EACCES: /root/.npm/-/all/.cache.json)\"\n& it's still impossible to modify online the settings (/admin/settings) : \"YOUR JSON IS BAD AND YOU SHOULD FEEL BAD\"\nI tried to solve this by \n- sudo npm cache clean\n- npm config set unsafe-perm true\n- chmod -R g+w /root\nAny idea ?\n\nMy npm config :  npm config ls -l\n; cli configs\nlong = true\nregistry = \"https://registry.npmjs.org/\"\n; userconfig /root/.npmrc\nunsafe-perm = true\n; default values\nalways-auth = false\nbrowser = null\ncache = \"/root/.npm\"\ncache-lock-retries = 10\ncache-lock-stale = 60000\ncache-lock-wait = 10000\ncache-max = null\ncache-min = 0\ncolor = true\ncoverage = false\ndepth = null\ndescription = true\ndev = false\neditor = \"vi\"\nengine-strict = false\nfetch-retries = 2\nfetch-retry-factor = 10\nfetch-retry-maxtimeout = 60000\nfetch-retry-mintimeout = 10000\nforce = false\ngit = \"git\"\nglobal = false\nglobalconfig = \"/usr/local/etc/npmrc\"\nglobalignorefile = \"/usr/local/etc/npmignore\"\ngroup = 0\nhttps-proxy = null\nignore = \"\"\ninit-module = \"/root/.npm-init.js\"\ninit.author.email = \"\"\ninit.author.name = \"\"\ninit.author.url = \"\"\ninit.version = \"0.0.0\"\njson = false\nlink = false\nloglevel = \"http\"\n; long = false (overridden)\nmessage = \"%s\"\nnode-version = \"v0.8.16\"\nnpat = false\nnpaturl = \"http://npat.npmjs.org/\"\nonload-script = false\noptional = true\nparseable = false\npre = false\nprefix = \"/usr/local\"\nproduction = false\nproprietary-attribs = true\nproxy = null\nrebuild-bundle = true\nregistry = \"https://registry.npmjs.org/\"\nrollback = true\nsave = false\nsave-bundle = false\nsave-dev = false\nsave-optional = false\nsearchexclude = null\nsearchopts = \"\"\nsearchsort = \"name\"\nshell = \"/bin/bash\"\nsign-git-tag = false\nstrict-ssl = true\ntag = \"latest\"\ntmp = \"/root/tmp\"\numask = 18\nunicode = true\n; unsafe-perm = false (overridden)\nusage = false\nuser = 0\nuser-agent = \"node/v0.8.16\"\nuserconfig = \"/root/.npmrc\"\nuserignorefile = \"/root/.npmignore\"\nusername = \"\"\nversion = false\nversions = false\nviewer = \"man\"\nyes = null\n. No, EPL runs as etherpad-lite user.\nIt starts by a start script (as you recommend in the wiki).\n. No ... any solution ...\n. ... Strange, strange ... \nI'll try to re-install EPL ...\n. OK. I tried to reinstall EPL as non root user.\nI made a \"sudo -u etherpad-lite -s -H\" before Git Clone & Install.\nEPL working fin ... but now, via the Web App (/admin) it's still impossible to list available plugins or access other settings \n- xxxxxxx.xxx:9001/plugins --> Cannot GET /plugins\n- xxxxxxx.xxx:9001/settings Cannot GET /settings\n  Any idea to solve this ?\n. OK, all is OK thanks.\nThe last thing is that the settings.json is unreadable via WebApp (/admin/settings) : YOUR JSON IS BAD AND YOU SHOULD FEEL BAD\nchmod + chown are OK\n. ok thanks a lot !\n. ",
    "qubicle": "I think it was a problem with the iframe and the ssl certificate of the server. problem is fixed.\nthis can be closed.\n. Cleared the cache and tried various version of ie on diffrent operating systems. same error\n. both, beta.etherpad and mine.\n. I'm using browserstack to be sure to get a browser without any cache.\n\nas you can see on this screenshot the error is there every time. (screenshot shows ie 8 on windows xp)\n. yes, opening the console ones fixes the error\n. you're welcome!\nthanks for your confirmation on this one.\n. that didn't solve the problem, socket.io is installed, but other dependencies seems to be missing.\ni don't know why these errors are there, i tried many times to install from scratch.\ncan't find the error\nthanks for your time\nServer:\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2013-02-13 16:25:35.475] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production.\n[2013-02-13 16:25:36.337] [INFO] console - Installed plugins: ep_etherpad-lite\n[2013-02-13 16:25:36.378] [INFO] console - Your Etherpad Lite git version is 602d603\n[2013-02-13 16:25:36.379] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2013-02-13 16:25:36.408] [INFO] console -    info  - 'socket.io started'\n[2013-02-13 16:25:36.467] [INFO] console - You can access your Etherpad-Lite instance at http://0.0.0.0:9001/\n[2013-02-13 16:25:36.468] [WARN] console - Admin username and password not set in settings.json.  To access admin please uncomment and edit 'users' in settings.json\n[2013-02-13 16:25:41.470] [INFO] http - 304, GET /p/B1wzLpfJey\n[2013-02-13 16:25:42.794] [INFO] http - 307, GET /javascripts/lib/ep_etherpad-lite/static/js/rjquery?callback=require.define\n[2013-02-13 16:25:42.847] [INFO] http - 304, GET /locales.json\n[2013-02-13 16:25:42.894] [INFO] http - 304, GET /locales/de.json\nChrome Console:\nUncaught Error: Attempt to load undefined module. require-kernel.js:203\nV require-kernel.js:203\ni require-kernel.js:226\nT require-kernel.js:193\nW.g require-kernel.js:230\nW require-kernel.js:234\nY require-kernel.js:245\nbb require-kernel.js:283\nbc require-kernel.js:298\nbd require-kernel.js:303\nc require-kernel.js:334\n(anonymous function) B1wzLpfJey:524\n(anonymous function) B1wzLpfJey:552\n. yeah, something. but I can't find the error.\nnode version is v0.8.19\n. 9001 or via proxy is no diffrence, the result is the same.\n. root@edyou2:/usr/share/nginx/www/etherpad-lite# bin/installDeps.sh\nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\nnpm WARN prefer global npm@1.1.71 should be installed with -g\nnpm WARN package.json methods@0.0.1 No README.md file found!\n\nws@0.4.25 install /usr/share/nginx/www/etherpad-lite/src/node_modules/socket.io/node_modules/socket.io-client/node_modules/ws\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nmake: Entering directory /usr/share/nginx/www/etherpad-lite/src/node_modules/socket.io/node_modules/socket.io-client/node_modules/ws/build'\n  CXX(target) Release/obj.target/bufferutil/src/bufferutil.o\n  SOLINK_MODULE(target) Release/obj.target/bufferutil.node\n  SOLINK_MODULE(target) Release/obj.target/bufferutil.node: Finished\n  COPY Release/bufferutil.node\n  CXX(target) Release/obj.target/validation/src/validation.o\n  SOLINK_MODULE(target) Release/obj.target/validation.node\n  SOLINK_MODULE(target) Release/obj.target/validation.node: Finished\n  COPY Release/validation.node\nmake: Leaving directory/usr/share/nginx/www/etherpad-lite/src/node_modules/socket.io/node_modules/socket.io-client/node_modules/ws/build'\nsecurity@1.0.0 node_modules/security\nasync-stacktrace@0.0.2 node_modules/async-stacktrace\ntinycon@0.0.1 node_modules/tinycon\nasync@0.1.22 node_modules/async\nresolve@0.2.3 node_modules/resolve\nejs@0.6.1 node_modules/ejs\nrequire-kernel@1.0.5 node_modules/require-kernel\nlanguages4translatewiki@0.1.3 node_modules/languages4translatewiki\nunorm@1.0.0 node_modules/unorm\nslide@1.1.3 node_modules/slide\nformidable@1.0.9 node_modules/formidable\nrequest@2.9.100 node_modules/request\nunderscore@1.3.1 node_modules/underscore\nyajsml@1.1.6 node_modules/yajsml\nsemver@1.0.13 node_modules/semver\nuglify-js@1.2.5 node_modules/uglify-js\nnpm@1.1.71 node_modules/npm\ngraceful-fs@1.1.5 node_modules/graceful-fs\n\u00e2\u00e2\u00e2 fast-list@1.0.2\nclean-css@0.3.2 node_modules/clean-css\n\u00e2\u00e2\u00e2 optimist@0.1.9\nlog4js@0.5.6 node_modules/log4js\n\u00e2\u00e2\u00e2 async@0.1.15\nwd@0.0.31 node_modules/wd\n\u00e2\u00e2\u00e2 vargs@0.1.0\n\u00e2\u00e2\u00e2 q@0.8.12\n\u00e2\u00e2\u00e2 underscore@1.4.4\n\u00e2\u00e2\u00e2 request@2.12.0\njsdom-nocontextifiy@0.2.10 node_modules/jsdom-nocontextifiy\n\u00e2\u00e2\u00e2 cssom@0.2.5\n\u00e2\u00e2\u00e2 htmlparser@1.7.6\nnpm-registry-client@0.2.10 node_modules/npm-registry-client\n\u00e2\u00e2\u00e2 chownr@0.0.1\n\u00e2\u00e2\u00e2 graceful-fs@1.1.14\n\u00e2\u00e2\u00e2 rimraf@2.0.3\n\u00e2\u00e2\u00e2 retry@0.6.0\n\u00e2\u00e2\u00e2 mkdirp@0.3.4\n\u00e2\u00e2\u00e2 couch-login@0.1.15\n\u00e2\u00e2\u00e2 request@2.9.203\n\u00e2\u00e2\u00e2 semver@1.1.3\n\u00e2\u00e2\u00e2 npmlog@0.0.2 (ansi@0.1.2)\nconnect@2.4.6 node_modules/connect\n\u00e2\u00e2\u00e2 fresh@0.1.0\n\u00e2\u00e2\u00e2 pause@0.0.1\n\u00e2\u00e2\u00e2 bytes@0.1.0\n\u00e2\u00e2\u00e2 cookie@0.0.4\n\u00e2\u00e2\u00e2 crc@0.2.0\n\u00e2\u00e2\u00e2 debug@0.7.2\n\u00e2\u00e2\u00e2 formidable@1.0.11\n\u00e2\u00e2\u00e2 qs@0.5.1\n\u00e2\u00e2\u00e2 send@0.0.4 (range-parser@0.0.4, mime@1.2.6)\nexpress@3.1.0 node_modules/express\n\u00e2\u00e2\u00e2 methods@0.0.1\n\u00e2\u00e2\u00e2 range-parser@0.0.4\n\u00e2\u00e2\u00e2 cookie-signature@0.0.1\n\u00e2\u00e2\u00e2 buffer-crc32@0.1.1\n\u00e2\u00e2\u00e2 cookie@0.0.5\n\u00e2\u00e2\u00e2 commander@0.6.1\n\u00e2\u00e2\u00e2 mkdirp@0.3.3\n\u00e2\u00e2\u00e2 fresh@0.1.0\n\u00e2\u00e2\u00e2 debug@0.7.2\n\u00e2\u00e2\u00e2 connect@2.7.2 (pause@0.0.1, bytes@0.1.0, formidable@1.0.11, qs@0.5.1)\n\u00e2\u00e2\u00e2 send@0.1.0 (mime@1.2.6)\nueberDB@0.1.92 node_modules/ueberDB\n\u00e2\u00e2\u00e2 channels@0.0.2\n\u00e2\u00e2\u00e2 node-redis@0.1.5\n\u00e2\u00e2\u00e2 dirty@0.9.6\n\u00e2\u00e2\u00e2 async@0.1.15\n\u00e2\u00e2\u00e2 mysql@0.9.5 (hashish@0.0.4)\nsocket.io@0.9.13 node_modules/socket.io\n\u00e2\u00e2\u00e2 base64id@0.1.0\n\u00e2\u00e2\u00e2 policyfile@0.0.4\n\u00e2\u00e2\u00e2 redis@0.7.3\n\u00e2\u00e2\u00e2 socket.io-client@0.9.11 (xmlhttprequest@1.4.2, active-x-obfuscator@0.0.1, ws@0.4.25)\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\n. ubuntu 12.04.2 lts\nwas already on development, as it said:\nAlready on 'develop'\n. errors resolved, deleted all versions of nodejs + dependencies and reinstalled nodejs.\nserver output stays the same, but it works now.\nthanks for your time and wisdom!\n. I just ran into another problem with my setup.\netherpad works fine with the dirtydb but when switching to redis I get the following error message:\n[2013-02-13 18:11:16.172] [ERROR] console - Failed to load '/usr/share/nginx/www/etherpad-lite/node_modules/ep_etherpad-lite/node/hooks/express/socketio:expressCreateServer' for 'ep_etherpad-lite/socketio/hooks/expressCreateServer': TypeError: Object [object Object] has no method 'findKeys'\nI already know that this has happens because of ueberdb, but I just can't find a way to resolve it.\n. \"ueberDB\"   \"0.1.9\",\ni also tried the version from develop, i think that was 0.1.92\n. i have a existing redis database which i need to import, is there a version i can use, without the requirement of findKeys?\n. thank you!\n. ",
    "jefferai": "I was running into a similar problem, and I think I figured out what the bug is:\nIf I go to the URL (with the appropriate domain name, of course):\nhttp://example.com/admin\nThen the links for plugins and settings are relative to the root, e.g. http://example.com/plugins and http://example.com/settings\nIf I go to the URL:\nhttp://example.com/admin/   <-- note the trailing slash\nThen the links for plugins and settings are relative to /admin/ e.g. http://example.com/admin/plugins and http://example.com/admin/settings\nIt seems that some logic is not checking for a trailing slash before generating a base path.\n. ",
    "poscar": "Fixed by: https://github.com/ether/etherpad-lite/pull/1336\n. ",
    "rycks": "Hello,\nhere is my settings.json:\n```\n/\n  This file must be valid JSON. But comments are allowed\n  Please edit settings.json, not settings.json.template\n/\n{\n  // Name your instance!\n  \"title\": \"etherpad test pad\",\n// favicon default name\n  // alternatively, set up a fully specified Url to your own favicon\n  \"favicon\": \"favicon.ico\",\n//Ip and port which etherpad should bind at\n  \"ip\": \"127.0.0.1\",\n  \"port\" : 9001,\n//The Type of the database. You can choose between dirty, postgres, sqlite and mysql\n  //You shouldn't use \"dirty\" for for anything else than testing or development\n  //  \"dbType\" : \"mysql\",\n  //the database specific settings\n  /\n  \"dbSettings\" : {\n                   \"filename\" : \"var/dirty.db\"\n                 },\n                 /\n  / An Example of MySQL Configuration /\n   \"dbType\" : \"mysql\",\n   \"dbSettings\" : {\n                    \"user\"    : \"etherpad-lite\", \n                    \"host\"    : \"localhost\", \n                    \"password\": \"xxxxxxxxxxxxx\", \n                    \"database\": \"etherpad-lite\"\n                  },\n  //the default text of a pad\n  \"defaultPadText\" : \"Welcome here!\\n\\n\",\n/ Users must have a session to access pads. This effectively allows only group pads to be accessed. /\n  \"requireSession\" : false,\n/ Users may edit pads but not create new ones. Pad creation is only via the API. This applies both to group pads and regular pads. /\n  \"editOnly\" : false,\n/ if true, all css & js will be minified before sending to the client. This will improve the loading performance massivly, \n     but makes it impossible to debug the javascript/css /\n  \"minify\" : true,\n/ How long may clients use served javascript code (in seconds)? Without versioning this\n     may cause problems during deployment. Set to 0 to disable caching /\n  \"maxAge\" : 21600, // 60 * 60 * 6 = 6 hours\n/ This is the path to the Abiword executable. Setting it to null, disables abiword.\n     Abiword is needed to enable the import/export of pads/\n  \"abiword\" : null,\n/ This setting is used if you require authentication of all users.\n     Note: /admin always requires authentication. /\n  \"requireAuthentication\": false,\n/ Require authorization by a module, or a user with is_admin set, see below. /\n  \"requireAuthorization\": false,\n  / Users for basic authentication. is_admin = true gives access to /admin.\n     If you do not uncomment this, /admin will not be available! /\n  / /\n  \"users\": {\n    \"admin\": {\n      \"password\": \"xxxxxxx\",\n      \"is_admin\": true\n    },\n    \"user\": {\n      \"password\": \"xxxxxxxx\",\n      \"is_admin\": false\n    }\n  },\n/ The log level we are using, can be: DEBUG, INFO, WARN, ERROR /\n  \"loglevel\": \"INFO\"\n}\n```\nand yes, this is a good news, i've just tried on beta.etherpad.org with my computer it is :\n43 requests  \u2758  699.33KB transferred  \u2758  17.49s (onload: 14.14s, DOMContentLoaded: 11.72s)\nthe \"old\" etherpad stats comes from a french pad: http://framapad.org/abuledu_les_histoires_de_chloe and html code looks like an old etherpad ... (example:  \n<script type=\"text/javascript\" src=\"/static/compressed/967f0d793efd2c2099fbd631b04a9d03.js\"></script>\nThanks,\n\u00c9ric\n. Okay, i m THE bug :-(\nep_sketchspace plugin is very very big and slow ... this is the problem, i've removed this plugin and now everything is ok on my etherpad-lite ....\nsorry !\nit's not a bug, but a feature :)\n\u00c9ric\n. ",
    "micah": "yes, I have access to the pad code on the server. I set minify to 'false' and I restarted the server. I then went into firefox and cleared the cache and restarted the browser and then loaded the page, it didn't look very different, so I held down shift and hit reload, it looks pretty similar:\nAn error occured\nThe error was reported with the following id: 'saLGDwEFwgIVdiYtsrdX'\nPlease send this error message to us:\n'ErrorId: saLGDwEFwgIVdiYtsrdX\nUserAgent: Mozilla/5.0 (X11; Linux x86_64; rv:10.0.11) Gecko/20100101 Firefox/10.0.11 Iceweasel/10.0.11\nunterminated string literal in https://pad.example.com/socket.io/1/jsonp-polling/10852482062076930918?t=1357595616317&i=0 at line 1'\n. I just attempted to clear the cache/reload in chromium, and I get a slightly different message:\nAn error occured\nThe error was reported with the following id: 'gkrAezEOq4LTO0d6pOiM'\nPlease send this error message to us:\n'ErrorId: gkrAezEOq4LTO0d6pOiM\nUserAgent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.94 Safari/537.4\nUncaught SyntaxError: Unexpected token ILLEGAL in https://pad.example.com/socket.io/1/jsonp-polling/11517679981138815652?t=1357595725461&i=0 at line 1'\n. Yes! padURL/export/txt does work! That is a pretty useful thing to know about!\nThere is a 'checkPad.js' in bin, I just tried that:\nnode bin/checkPad.js 457R0V4ND4L15745\n/srv/etherpad-lite/src/static/js/pluginfw/hooks.js:73\n  if (exports.plugins.hooks[hook_name] === undefined) return [];\n                     ^\nTypeError: Cannot read property 'hooks' of undefined\n    at Object.callAll (/srv/etherpad-lite/src/static/js/pluginfw/hooks.js:73:22)\n    at Object.callback (/srv/etherpad-lite/src/node/db/Pad.js:378:11)\n    at /srv/etherpad-lite/src/node_modules/ueberDB/CloneAndAtomicLayer.js:95:17\n    at [object Object].get (/srv/etherpad-lite/src/node_modules/ueberDB/CacheAndBufferLayer.js:142:5)\n    at [object Object].doOperation as operatorFunction\n    at iterator (/srv/etherpad-lite/src/node_modules/ueberDB/node_modules/channels/channels.js:46:15)\n    at /srv/etherpad-lite/src/node_modules/ueberDB/CloneAndAtomicLayer.js:98:7\n    at /srv/etherpad-lite/src/node_modules/ueberDB/CacheAndBufferLayer.js:183:7\n    at /srv/etherpad-lite/src/node_modules/ueberDB/mysql_db.js:98:5\n    at Query. (/srv/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/client.js:108:11)\n. Thanks for the help, getting the pad content was the most important part. \nI noticed that I am actually using an older version (1.1.5), so I think updating to the latest is the way to go before any more chasing around happens. \nthanks for the super quick replies!\n. This is debian stable, using mysql. \nI did attempt to look at the database structure to see if I could extract the data from there, but I could not understand how it was stored there, it is unlike anything I've seen before in a database layout.\n. unfortunately, i've read through the docs and I've been staring at the database for hours and I can't seem to figure out how to do this, if someone out there has done this and knows how, I'd love to hear about it.\n. > Did you try https://github.com/ether/etherpad-lite/blob/master/bin/checkPad.js ?\nYes, you suggested it in the first issue, and I tried it and it failed, you then suggested I file this bug :)\n. Ouch, I was counting on the links not being sent as referrers when https was being used. I should have tested this! Option C, as Wikinaut has described would be the more complete solution and would enable a lot more for the future, but could take a long time to get there. It seems to me that option D is the easiest to implement and would resolve this security issue fast, in terms of not letting the perfect be the enemy of the good. A fast resolution to this issue seems more important at this point.\n. John McLear notifications@github.com writes:\n\nWhat version of Etherpad?\ngit status\n\nbasically 1.2.6: 6b13bfa1e8fc9b69fc80bf4b8531c1a578aaee34\n. John McLear notifications@github.com writes:\n\nTry pull latest, see if that helps.\n\nI pulled the latest checkPad.js from the HEAD, but that gives me the\nsame result. Would I need to update the rest of the code as well?\n. John McLear notifications@github.com writes:\n\nYessir\n\nAlrighty then... I did that, and then run the checkpad.js again and I\nget:\n[2013-03-27 15:40:43.061] [ERROR] console - Bad changeset at revision 101 - exports: mismatched apply: 58095 / 58094\n[2013-03-27 15:40:43.121] [ERROR] console - Bad changeset at revision 201 - exports: mismatched apply: 58020 / 58019\n[2013-03-27 15:40:43.161] [ERROR] console - Bad changeset at revision 301 - exports: mismatched apply: 60621 / 60620\n[2013-03-27 15:40:43.393] [ERROR] console - Bad changeset at revision 501 - exports: mismatched apply: 60391 / 60390\n[2013-03-27 15:40:43.588] [ERROR] console - Bad changeset at revision 701 - exports: mismatched apply: 60595 / 60593\n[2013-03-27 15:40:44.522] [ERROR] console - Bad changeset at revision 1301 - exports: mismatched apply: 60770 / 60768\n[2013-03-27 15:40:44.902] [ERROR] console - Bad changeset at revision 1601 - exports: mismatched apply: 60665 / 60664\n[2013-03-27 15:40:45.358] [ERROR] console - Bad changeset at revision 1901 - exports: mismatched apply: 60532 / 60531\n[2013-03-27 15:40:45.393] [ERROR] console - Bad changeset at revision 2001 - exports: mismatched apply: 60656 / 60654\n[2013-03-27 15:40:45.630] [ERROR] console - Bad changeset at revision 2201 - exports: mismatched apply: 60611 / 60610\n[2013-03-27 15:40:45.666] [ERROR] console - Bad changeset at revision 2301 - exports: mismatched apply: 60602 / 60601\n[2013-03-27 15:40:45.709] [ERROR] console - Bad changeset at revision 2401 - exports: mismatched apply: 60700 / 60698\n[2013-03-27 15:40:45.750] [ERROR] console - Bad changeset at revision 2501 - exports: mismatched apply: 60699 / 60698\n[2013-03-27 15:40:46.105] [ERROR] console - Bad changeset at revision 2701 - exports: mismatched apply: 60686 / 60685\n[2013-03-27 15:40:46.141] [ERROR] console - Bad changeset at revision 2801 - exports: mismatched apply: 60698 / 60696\n[2013-03-27 15:40:48.364] [ERROR] console - Bad changeset at revision 3801 - exports: mismatched apply: 60596 / 60595\n[2013-03-27 15:40:48.404] [ERROR] console - Bad changeset at revision 3901 - exports: mismatched apply: 60588 / 60587\n[2013-03-27 15:40:48.436] [ERROR] console - Bad changeset at revision 4001 - exports: mismatched apply: 60548 / 60547\nnote: i was able to extract the pad text with /export/txt and\ninterestingly found out that using the chromium console I can actually\nsee the pad text even though it says 'Loading...'\nThis document is full of pictures, links, and other media which is fed\ninto the pad via copy+paste, so it is probably related to\nhttps://github.com/ether/etherpad-lite/issues/1500\n. John McLear notifications@github.com writes:\n\nDefine \"is still there\"? \n\nI can load the pad in the browser, it has its contents, chat and\ntimeslider shows all changes.\n. John McLear notifications@github.com writes:\n\nThe pad might be cached in UeberDB, can you check by restarting Etherpad and seeing if the pad still exists?  Thanks\n\nI restarted, but it is still there (contents, chat and history)\n. I forgot a couple lines from the log:\n[2013-04-02 08:28:40.973] [INFO] socket.io - transport end by forced client disconnection\n[2013-04-02 08:28:40.973] [INFO] socket.io - transport end (booted)\n. It seems to me that if whoever pastes into the pad, the pasted text should be attributed to the person who pasted the text, because that person made the change. Who cares where the text originally came from? When I copy text from a web page written by someone else, I do not expect the author of that web page text to be attributed in Etherpad... in the same way I would not expect that if I pasted something in the pad that someone else wrote somewhere else in the pad, should that original author retain the authorship annotations (which is how it is now, although with the rather rude booting)\n. I agree, I dont know of any reason why that behavior should be kept, but if someone were convinced me otherwise with a good case for it to exist, then I would say an option would be fine, but defaulted off.\n. Marcel Klehr notifications@github.com writes:\n\nLooks familiar. I think we fixed that long ago. You run v1.2.10 i take it, so you might wanna update to v1.2.11\n\nAm I reading the git history wrong? \nI'm at c8e2278afcb4f75d52af6e55ebe1e979461c63fc and that seems to be\nbasically 1.2.11.\n. Thanks, I've updated to 1.2.11 now. I'll close this issue as I haven't seen it in a few days.\n. marcelklehr is right, we are getting this problem as well. We have a regular job that runs every hour to clean out any old pad that hasn't been touched in 30 days. When we have one of these buggers, it causes etherpadlite to crash every hour until I go in and manually remove it from the database. I've had to remove maybe 6-7 of them in the last 2 weeks now that I've discovered why things were crashing and how to fix it. This regular job uses the API to connect and delete the pad.\nWe are running ef4e0d0eb0ba6f3f54b724cb160470d902a48696, which I guess is 1.2.12\n. I'm having this problem as well, I already have this set in my settings.json:\n// restrict socket.io transport methods\n  \"socketTransportProtocols\" : [\"xhr-polling\", \"jsonp-polling\", \"htmlfile\"]\nI think that means I have removed websocket from the list of transports, but i'm not very clear on that.\n. @Gared seems like @JohnMcLear was ready for the release to go and was just notifying you to go ahead\n. This version of etherpad is running the 1.4.0 release.\n. I set minify to false, and maxAge to 0, and restarted nginx and etherpadlite, but I am still getting quite a lot of these.\n. John McLear notifications@github.com writes:\n\nGive it a few days and if they persist let me know.\n\nIt looks like it is still happening:\nESC[33m[2015-04-20 12:30:35.901] [WARN] client - ESC[39mUncaught TypeError: Cannot read property 'className' of undefined -- { errorId: 'xxx',\n  msg: 'Uncaught TypeError: Cannot read property \\'className\\' of undefined',\n  url: 'padurl',\n  linenumber: 65,\n  userAgent: 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.90 Safari/537.36' }\nESC[33m[2015-04-20 12:30:39.533] [WARN] client - ESC[39mTypeError: $(...).closest(...).get(...) is undefined -- { errorId: 'xxx',\n  msg: 'TypeError: $(...).closest(...).get(...) is undefined',\n  url: 'padurl,\n  linenumber: 65,\n  userAgent: 'Mozilla/5.0 (X11; Linux x86_64; rv:37.0) Gecko/20100101 Firefox/37.0' }\n. Is this solved by the pull request merged in #2743?\n. 83597562c1dd8f9d284cc68a8a94b63cdac039a1\n. I tried to cherry-pick 1ee1f818dbe29e09a4733d0248663e52451e90dc to start, but got a conflict that I was not sure how to resolve. I suspect your version is based off of a different place than the 1.5.7 release?\n. thanks, cherry-picked both of those and restarted the server, will report back\n. Just got another restart:\n[2015-11-17 09:51:37.247] [ERROR] console - TypeError: Cannot read property 'substring' of undefined\n    at Object.insert (/srv/etherpad-lite/src/static/js/Changeset.js:794:44)\n    at Object.exports.mutateTextLines (/srv/etherpad-lite/src/static/js/Changeset.js:966:11)\n    at /srv/etherpad-lite/src/node/handler/PadMessageHandler.js:1517:19\n    at /srv/etherpad-lite/src/node_modules/async/lib/async.js:610:21\n    at /srv/etherpad-lite/src/node_modules/async/lib/async.js:249:17\n    at iterate (/srv/etherpad-lite/src/node_modules/async/lib/async.js:149:13)\n    at /srv/etherpad-lite/src/node_modules/async/lib/async.js:160:25\n    at /srv/etherpad-lite/src/node_modules/async/lib/async.js:251:21\n    at /srv/etherpad-lite/src/node_modules/async/lib/async.js:615:34\n    at /srv/etherpad-lite/src/node_modules/async/lib/async.js:254:17\nRESTART!\n. Do you mean in the function, like this:\nfunction handleChangesetRequest(client, message)\n{\n+  return;\n  //check if all ok\n  if(message.data == null)\n  {\n    messageLogger.warn(\"Dropped message, changeset request has no data!\");\n    return;\n  }\nBecause I tried that and the timeslider is still working.\n. Just wanted to add some additional missing information here... we were also getting restarts/crashes when the export was done. Not always, but probably with certain pads with characters/character sets that were not filtered properly. This was causing us such a problem that we had to disable pad exports... but this is something people need so we would like to be able to re-enable it!\n. @webzwo0i - great! I'd love to give them a try, but I'm currently running the latest release (1.5.7), and not the tip of master. Unfortunately, I dont want to move the code to master on the live instance. I tried to cherry-pick the commits onto that release, but it wouldn't apply. Are those commits easy to rebase onto that release?\n. Thanks @webzwo0i ! I've applied the export fixes patch as described, and am running it now, so far so good... but I'll need to wait a little bit to see if the original issue comes back.\n. Since applying that patch from @webzwo0i we haven't experienced that issue!\n. Well... I spoke too soon. I had a webserver config line that just denied exports.\n. ",
    "xwolfde": "I got the message on: Firefox 17.0.1 , Opera 11.64, Chrome 23, IE9. On IE9 in Dokumentmodus IE7 the error wasnt displayed. \ngit status: \"nothing added to commit but untracked files present\".\n. sure: node_modules  and settings.json\n. had no affect :(\n. ah, yes, you are right. it changed to line 11579. \nI am running etherpad-lite on SLES 11\n. master \n. didnt help :(\nAlso after I made a completly new fork ...\n. didnt help either :(\n. Works! No error anymore. \n. not yet, got something else which have to be done first. I will try to find the bad commit tommorrow\n. ",
    "spcsser": "Alright, thanks for info.\nFrom my understanding, to provide \"legacy\" support, I would have to introduce some sort of find functionality to ueberDB.\nDo you know if there are any limitations on extending this to provide a find feature?\n. Ok, implemented the basic functionality for some dbs (dirty, mysql and mongo). \nhttps://github.com/spcsser/ueberDB/tree/feature/findKeys\nHow it works is in the wiki: https://github.com/spcsser/ueberDB/wiki/findKeys-function\nFor my desired feature - to list all pads - this would suffice. (Having only to call it once on startup and work later with live data.) For other use, especially heavy searching this might not perfom, since it has to rely on regex to retrieve data - at least for some dbs. \n+1 @marcelklehr For the future - especially to provide better search functionality - the use of some dbal to gain native db functionality back would be a good thing.\n. Yepp, the test file is called findKeysTest.js. https://github.com/spcsser/ueberDB/blob/feature/findKeys/findKeysTest.js\n. While we're waiting: I created a lil' epl addon that lists the pads - https://github.com/spcsser/ep_adminpads.\n. I'm not sure what you mean, so I'm trying to guess: If I'm not mistaken, getPads is to retrieve all pads for a certain groupID. The api function to list all pads I called getAllPads.\nIs that what you meant?\n. So, API version == EPL version? I always thought they'd be kept separated.\nEdit: @marcelklehr Thanks for clarifying :)\n. This pull request should fix that: https://github.com/Pita/ueberDB/pull/26.\n. ",
    "nhatchu": "I use the latest code from the master branch\n. I'm using Ubuntu. Oki, i can try to reinstall on a new Ubuntu machine to test this issue\n. ",
    "KnowledgeGarden": "ping localhost resolves thus:\nPing statistics for ::1:\ntrying to figure out what that means\nThanks\n. Did a ping 127.0.0.1 with these results\nPinging 127.0.0.1 with 32 bytes of data:\nas before, it got data.\nThis is win7\n. Right now, I am guessing that localhost does not resolve to 127.0.0.1 on my win7 box\none answer on the web suggests to uninstall security essentials.\nlots of chatter here: http://serverfault.com/questions/4689/windows-7-localhost-name-resolution-is-handled-within-dns-itself-why\nStill digging...\n. Windows hosts file reads thus:\nlocalhost name resolution is handled within DNS itself.\n127.0.0.1       localhost\n::1             localhost\nI made a backup of it, uncommented the line for 127.0.0.1, and pinged localhost, saw 127.0.0.1 in the ping, and still the same results.\n. Browsing http://127.0.0.1:9001 is same results.\nThanks for clarifying ipv6.\nI am wondering about this. I boot node first, just to be sure,then make the rest of the call in start.bat: here is my console result\nc:\\projects\\StructuredEtherPad\\1.2.1\\etherpad-lite-win>node\n\nnode_modules\\ep_etherpad-lite\\node\\server.js\n...\n\nThe cursor is resting one space to the right of the three dots\n. Ok. It's running! I have no clue what was going on. Sigh...\n. ",
    "runam0K": "I had the same error last week.\nThe screen continues with \"Loading...\" forever.\nNewly added text wasn't saved.\n. Sorry i meant the latest version v1.2.4\n. I have checked the Logfile. This is the only entry when I try to import an document: \n[2013-01-22 13:17:52.397] [INFO] http - 405, POST /p/2013-01-01-Morgen?noColors=true/import\nGives the execution of bin/run.sh more debugging informations as the logfile?\n. It works without noColors statement. \nCan this problem to be fixed or is there another way to disable the colors?\n. Many thanks for the fast bug fix, it work's well.\nWith the latest develop version I have other errors. I make a new Issue for this.\n. This error message occurs after an hour working on a pad:\nAn error occured\nThe error was reported with the following id: 'hEGj7vucKNTJblknCU4N'\nPlease send this error message to us: \n'ErrorId: hEGj7vucKNTJblknCU4N\nUserAgent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; Trident/4.0; .NET CLR 1.1.4322; .NET CLR 2.0.50727; .NET CLR 3.0.04506.30; OfficeLiveConnector.1.5; OfficeLivePatch.1.3; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET4.0C; .NET4.0E)\n'length' ist Null oder kein Objekt in http://lwt-vm-031.landeswelle.de:9001/javascripts/lib/ep_etherpad-lite/static/js/ace2_common.js?callback=require.define at line 6' \n. Unfortunately we currently have no other choice ... (: \n. I tested it. \nIE 8 and 9 I cant see the star for the revisions. Also no text appears. \n\nPicture of firefox for comparison:\n\n. strange, I've just looked again at the current master v1.2.7. It's all as it should be in IE 8. Better than after the fix.\n. with opened console, it works for me too.\n. can you explain that in more detail? I do not understand what you mean.\n. Ok I have commented out #if(window.console) console.log(message);\n\nError MSG: \n\n. ah... thats better :D\nI have no text without console string. When I press F12 the text comes. \n\n\n. EP Plugins: ep_headings\nChrome Plugins: IE Tab Multi (Enhance)\nThe problems also occurs when I insert the text without formatting.\n. Ok, but I didn't found an open issue which match. \n. ",
    "DrWhax": "I migrated pad content between servers and since the latest version I pulled yesterday I have the same problem :-/\nMeh nvm, it seems the apache rewrite messes things up, it all seems to work with the normal node http server..\n. ",
    "sdague": "Using MySQL. The underlying OS is Ubuntu 12.10 x86_64.\n. I have active pads where this is still the case. Is there something else I should be doing to re-replicate?\n. I'll see if I can get something whipped up this weekend.\nOn Jan 21, 2013 7:51 PM, \"John McLear\" notifications@github.com wrote:\n\nWell if you can create a test spec that fails that would be the ideal\nscenario for us to debug, it should be relatively easy to do, check out the\ntimeslider spec, it already has something in for creating 100 revisions.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1380#issuecomment-12525580.\n. That's definitely not the case in real world usage\nOn Feb 3, 2013 12:39 PM, \"dmitryuv\" notifications@github.com wrote:\nInteresting, if you're not using timeslider, there should be no difference\nif the pad has 100 or 100k revisions, because the latest state required to\nopen pad is always stored in the main pad record.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1380#issuecomment-13050358.\n. In our environment, Ubuntu 12.10 x86_64 host, with MySQL. node 0.8.x (compiled from source on the platform). ~20 editors, up to 10 simultaneous editors.\n\nOnce we pass 10k changesets there is noticable latency in key strokes. Once we get to 25k changesets the noticable latency turns into unbearable latency (you'll often be at least a word ahead of your keystrokes).\n. Doesn't work in Chrome 25 or 26 under Linux (Ubuntu 12.10 64bit).\nWorks fine in Firefox latest on Linux.\n. This may very well actually be the issue I've seen for 25k+ edits, as those are largely long files. In all cases those pads were 700 - 1000 lines long as well.\n. So I would call this - https://github.com/ether/etherpad-lite/issues/1380 a dupe bug\n. mysql database\n. No, it works on beta.etherpad.org. Rolling back to 1.2.8.1 made things work locally, so somewhere between there and 1.2.10 seems to have been the issue.\n. Actually it looks like 1.2.8.1 didn't help either. I've just started with an entirely clean db, now things work again. So my db is apparently corrupted in a way that breaks etherpad. Any tools or thoughts on how to recover the contents of the old db to a usable state by etherpad?\n. Fixed by going to top of develop\n. No\n.   \"requireAuthentication\": false,\n/* Require authorization by a module, or a user with is_admin set, see below. */\n  \"requireAuthorization\": false,\n. ep_fintest and ep_headings\n. removed ep_fintest still an issue. It will make me a sad panda if we loose ep_headings though. :)\n. removed ep_headings as well, still an issue. The refresh is fast enough that I can't capture it there, but I've got this in my log.\n[2013-06-05 19:53:32.491] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"JMiFCeAsWGfiMKjNfc4Y\",\"msg\":\"Uncaught TypeError: Type error\",\"url\":\"http://morbo.linux.ibm.com:9001/p/NewPad\",\"linenumber\":46,\"userAgent\":\"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.93 Safari/537.36\"}\n. I'm on cd277e5810a0ed2f2dac204a340e588fc329669b which is the last commit on develop\n. ",
    "duk3luk3": "Just ran into this one as well.\n. Latest git -\n[2013-02-12 09:27:39.464] [INFO] console - Your Etherpad Lite git version\nis 2448528\nueberdb dependency:\n\"ueberDB\"                 : \"0.1.9\"\n2013/2/12 John McLear notifications@github.com\n\n@duk3luk3 https://github.com/duk3luk3 version of etherpad? ideally the\ngit rev\nalso if you can tell me the version of ueberdb from src/packages.json\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1381#issuecomment-13408596.\n. \n",
    "cebe": "Just sent a pull request for redis findKeys support. Pita/ueberDB#37\n. Documentation is here: https://github.com/ether/etherpad-lite/wiki/How-to-migrate-the-database-from-Etherpad-to-Etherpad-Lite\n. you're welcome :)\n. ",
    "SHADOW6": "To be more exact, I'm just looking to see all documents ever made, not interested in edits to those said documents.\nBut say you have a group that makes several documents:\ncooking 1\ncooking 2\ncontent for home page\nideas for art contest\nstaff issues\nuser reports\netc. \nI want to be able to pull those up in an admin panel where we can view or delete documents. \nI thought there was a way through  http://127.0.0.1:9001/admin/etc.? \nto access all of this. but maybe I need to use another method.\n. Define what you mean \"Are you willing to sponsor this development?\"\nAt the moment I'm trying to run and manage Etherpad-lite along side vbulletin for a website.\nThis would be used for staff and possibly users to access in aims to better develop our site.\nAs far as supporting your project, I have no problem with a donation here and there for all your help.\nBut as far as contributing goes, I'm not the best with developing these kinds of things. \nI'm still learning programing languages,since my work revolves around building web pages this is a bit new to me.\n. links are appreciated \nlocalhost:9001/admin/plugins\n\nResponse i get is : cannot GET /admin/plugins\n\nI'm using this as a reference: http://mclear.co.uk/2012/04/05/how-to-enable-or-disable-plugins-in-etherpad-lite/\nbut since this all JavaScript editing files and adding plugins for JavaScript is a bit new to me.\nI'm assuming once admin is set up things become much easier.\nUPDATE PENDING: im running a version of etherpad-lite from 2/22/2012 \nperhaps this could be part of my problem\n. THANK YOU!!!!!!!!!!!!\nYUSH!!!! IT WORKS!!!!\n. ",
    "grepx": "I don't know if its related to the plugin or not. For future reference, when etherpad instructs me to report an error where should I send it?\n. ",
    "pierrechtux": "Yes, clearChatHistory would be very handy.  Sometimes you share a document with a colleague, you chat, and later you invite more people to participate to the pad.  If, say, you were working on a commercial proposal, and you invite your client to participate, you wouldn't want the client to be able to read through your comments about him...\n. ",
    "icanb": "My \"usability studies\" show that people get confused when there is no save button. People generally don't seem to realize there is a star button nor have any idea about what it's doing.\nGoogle Docs solves this by putting \"Save x mins ago\", but it's not the case with etherpad.\nEspecially non-techie users who are used to software like MS Word don't understand that it gets saved automatically and looks for a save button. I replaced the star with a save icon on my version and it seems to work well.\n. Sure, I'll send a pull request soon.\n. ",
    "sesam": "+1 changing star to \"save\" and rewording on hoover texts to match\n/Simon\nOn Mon, Feb 4, 2013 at 1:58 PM, Ilter notifications@github.com wrote:\n\nSure, I'll send a pull request soon.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1422#issuecomment-13075658.\n. \n",
    "Michael2222": "I have installed the ep_linkify too, but the ep_copypad does not load and bring the error:\nError: Cannot find module 'async-stacktrace'\n. ",
    "sabl0r": "Ok, will do that later :)\n. Turns out, it was an issue with my apache config. After updating the mod_proxy config, everything works fine again. But adding semicolons, as already done by disk-mk, is reasonable. Thanks!\n. ",
    "moodlebeuth": "Sorry, but I don't have a file bin/build.sh only bin/installDeps.sh\nI have replaced my hostname by localhost. ;-)\nThank you,\nMichael\n[update] I made a reinstall, but same same! ;-(\n. Hello John,\nI did it like you proposed. \n/etc/init.d/etherpad-lite stop\nrm -rf src/node_modules\nbin/run.sh\nBut with the same result. I've got the same error message in the IE browser.\nHere you can find the log:\nhttp://pastebin.com/s4R4HaaW\nThank you for your help!\nMichael\n. Hello John,\nI am using etherpad-lite together with moodle. I installed moodle on one server and etherpad-lite on an other server. For the connection between both installations I use the moodle plugin from goldquest/moodlehu [1] and try to allow  the access of etherpad-lite pads only thru moodle.\nMy modifications of the settings.json are:\n-  \"title\": \"Etherpad Lite @ ... \",\n- \"ip\": \"x.x.x.x\",\n- \"dbType\": \"postgres\", dbsettings: ...\n- \"defaultPadText\" : \"something in german ...\",\n- \"requireSession\" : true,\n- \"editOnly\" : true,\n- \"abiword\" : \"/usr/bin/abiword\", &\n- I commented out the basic user-authentication part.\nThank You for your help!\nMichael\n[update]: Both sites run with https.\n[1] https://github.com/moodlehu/moodle-mod_etherpadlite\n. Hello John,\nsorry but I've got still the same error message in the IE 9.\nI re commenting out the basic user auth part and changed requireSession to false.\nAnd restarted etherpad-lite.\nHere ist the log-output:\nsnipp\n[2013-02-12 14:53:37.310] [INFO] http - 304, GET /p/g.UVp625VFzlJvren2$moodlelms\n[2013-02-12 14:53:37.323] [DEBUG] socket.io - served static content /socket.io.js\n[2013-02-12 14:53:37.383] [INFO] http - 307, GET /javascripts/lib/ep_etherpad-lite/static/js/colorutils?callback=require.define\n[2013-02-12 14:53:37.390] [INFO] http - 200, GET /javascripts/lib/ep_etherpad-lite/static/js/ace2_inner.js?callback=require.define\n[2013-02-12 14:53:37.474] [DEBUG] socket.io - authorized\n[2013-02-12 14:53:37.474] [INFO] socket.io - handshake authorized 'KOLaSPdr4lxMQBzcp6NX'\n[2013-02-12 14:49:21.539] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"Z9CxCmwLHvvknTFkbvAs\",\"msg\":\"Der Vorgang konnte aufgrund des folgenden Fehlers nicht fortgesetzt werden: c00ce56e.\",\"url\":\"http://myhosturl/etherpad/socket.io/socket.io.js\",\"linenumber\":2,\"userAgent\":\"Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.1; WOW64; Trident/5.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E; BRI/2; InfoPath.3)\"}\nsnapp\nIs there somthing wrong with my server-configuration or with env. settings of node,js/npm or ehterpad-lite?\nThanks a lot,\nMichael\n. Ok, I will try the complete reinstall tomorrow.\nMy path is now /var/lib/nodejs and /var/lib/nodejs/node-apps/etherpad-lite.\nyes cleared th browser cache each time! ;-)\nThanx,\nMichael\n. Hello John,\nsorry but same same. I made a complete reinstall of nodejs/nmp & installed the etherpad-lite develop branch.\nHere is the error-message again:\nsnipp\n[2013-02-13 16:59:10.788] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"StSKnMTlOJUQ6WMfw5bD\",\"msg\":\"Der Vorgang konnte aufgrund des folgenden Fehlers nicht fortgesetzt werden: c00ce56e.\",\"url\":\"http://localhost/etherpad/socket.io/socket.io.js\",\"linenumber\":2,\"userAgent\":\"Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.1; WOW64; Trident/5.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; InfoPath.3)\"}\nsnapp\nAnd with a FF under Linux it works fin but in the log-file I found the following message:\nsnipp\n[2013-02-13 17:02:56.375] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"l3CncYUQjVaxDumKBHBM\",\"msg\":\"Script error.\",\"url\":\"http://localhost/etherpad/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define\",\"linenumber\":0,\"userAgent\":\"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:18.0) Gecko/20100101 Firefox/18.0\"}\n[2013-02-13 17:02:56.376] [INFO] http - 200, POST /jserror\nsnall\nDo I have to check the start-script and the sites-eneabled-config for etherpad for errors?\nThank you!\nMichael\n. Hello John,\nsorry, but I used the compatibility mode of the IE 9 to test the pad. I also tested the pad with different Windows machines and with different browser versions of IE. But I've got always the same error as above.\nThank you!\nMichael\n. Hello John,\nhere is the error output of the IE 9 without any compatibility mode:\nsnipp\n[2013-02-18 16:52:32.745] [DEBUG] socket.io - authorized\n[2013-02-18 16:52:32.746] [INFO] socket.io - handshake authorized '3G9TWRzlJ4fopTTp9gkW'\n[2013-02-18 16:52:32.825] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"8WUOvdTISUmtqpSSvLeo\",\"msg\":\"Der Vorgang konnte aufgrund des folgenden Fehlers nicht fortgesetzt werden: c00ce56e.\",\"url\":\"http://localhost/etherpad/socket.io/socket.io.js\",\"linenumber\":2,\"userAgent\":\"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)\"}\nsnapp\nThank you!\nMichael\n. hi John,\nI set minify to false & maxAge to 0 in the seetings.json, but nothing really changed, only the linenumber:\nsnipp:\n[2013-02-19 09:47:44.116] [DEBUG] socket.io - authorized\n[2013-02-19 09:47:44.116] [INFO] socket.io - handshake authorized 'bs6qnLF2X07tEHKUnkHg'\n[2013-02-19 09:47:44.154] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"SuqVr7aESygwYpHvhoEw\",\"msg\":\"Der Vorgang konnte aufgrund des folgenden Fehlers nicht fortgesetzt werden: c00ce56e.\",\"url\":\"http://localhost/etherpad/socket.io/socket.io.js\",\"linenumber\":1650,\"userAgent\":\"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)\"}\n[2013-02-19 09:47:44.155] [INFO] http - 200, POST /jserror\nsnapp\nThank you!\nMichael\n. Hello John,\nSorry, but not to rewrite did not help and I can't use nginx in my server environment.\nWhat do you mean exactly with changing the transport-config?\nThanx,\nMichael\n. Hello John, Hello Marcel,\nAt first I played with the transport methods xhr-polling, jsonp-polling & htmlfile by removing one value after the other.\nBut but unfortunately without any success.\nThen I turned of the rewrite rule of the apache config. And this was the result:\nFrom time to time the service hung:\n[2013-02-22 15:19:53.090] [DEBUG] socket.io - setting request 'GET' '/socket.io/1/xhr-polling/DQ9fV3yw1jNQQI80Q6KY?t=1361542792975'\n[2013-02-22 15:19:53.090] [DEBUG] socket.io - setting poll timeout\n[2013-02-22 15:19:53.090] [DEBUG] socket.io - discarding transport\n[2013-02-22 15:19:53.090] [DEBUG] socket.io - cleared close timeout for client 'DQ9fV3yw1jNQQI80Q6KY'\n[2013-02-22 15:19:56.720] [DEBUG] socket.io - clearing poll timeout\n[2013-02-22 15:19:56.724] [ERROR] console - Error: socket hang up\n    at createHangUpError (http.js:1360:15)\n    at ServerResponse.OutgoingMessage._writeRaw (http.js:507:26)\n    at ServerResponse.OutgoingMessage._send (http.js:476:15)\n    at ServerResponse.OutgoingMessage.write (http.js:749:16)\n    at XHRPolling.doWrite (/var/lib/nodejs/node-apps/etherpad-lite/src/node_modules/socket.io/lib/transports/xhr-polling.js:67:17)\n    at XHRPolling.HTTPPolling.write (/var/lib/nodejs/node-apps/etherpad-lite/src/node_modules/socket.io/lib/transports/http-polling.js:132:8)\n    at XHRPolling.Transport.packet (/var/lib/nodejs/node-apps/etherpad-lite/src/node_modules/socket.io/lib/transport.js:515:15)\n    at Object. (/var/lib/nodejs/node-apps/etherpad-lite/src/node_modules/socket.io/lib/transports/http-polling.js:79:12)\n    at Timer.list.ontimeout (timers.js:101:19)\nOr epl told me from the moodle-site that the authentication failed:\n[2013-02-22 15:20:58.484] [DEBUG] socket.io - discarding transport\n[2013-02-22 15:20:58.484] [DEBUG] socket.io - cleared close timeout for client 'giK4pHiH-FlGWfeyRod0'\n[2013-02-22 15:20:58.485] [DEBUG] ueberDB - GET    - token2author:t.5w8NKFLiISgUvSBiqKW8 - \"a.4WT6QZbBTqJocRFb\" - from database \n[2013-02-22 15:20:58.485] [DEBUG] ueberDB - SETSUB - globalAuthor:a.4WT6QZbBTqJocRFb[\"timestamp\"] - 1361542858485\n[2013-02-22 15:20:58.485] [DEBUG] ueberDB - GET    - pad:g.viEwy9OqzsC51YbL$moodlelms - {\"atext\":{\"text\":\"Welcome to Etherpad Lite!!\\nThis pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!\\n\\\",\"attribs\":\"|6+cu\"},\"pool\":{\"numToAttrib\":{},\"nextNum\":0},\"head\":0,\"chatHead\":-1,\"publicStatus\":false,\"passwordHash\":null,\"savedRevisions\":[]} - from cache\n[2013-02-22 15:20:58.486] [WARN] message - Authentication try failed:{\"component\":\"pad\",\"type\":\"CLIENT_READY\",\"padId\":\"g.viEwy9OqzsC51YbL$moodlelms\",\"sessionID\":null,\"password\":null,\"token\":\"t.5w8NKFLiISgUvSBiqKW8\",\"protocolVersion\":2}\n[2013-02-22 15:20:58.486] [DEBUG] message - to giK4pHiH-FlGWfeyRod0: {\"accessStatus\":\"deny\"}\n[2013-02-22 15:20:58.486] [DEBUG] socket.io - clearing poll timeout\nDo I hvae to write in the seetings.json the ip number or the dns name?\nThanks for your help,\nMichael\n[update]: I am still on the develop branch of epl.\n. Yes.\n. Ok I switched back to node version 0.8.19 and turned of the rewrite rule again. Now the server dont crash anymore but the rest is still same same. See below:\n[2013-02-22 16:38:59.794] [DEBUG] socket.io - authorized\n[2013-02-22 16:38:59.795] [INFO] socket.io - handshake authorized 'V-HiP2zssbF6sRFWhiX7'\n[2013-02-22 16:38:59.841] [INFO] http - 200, GET /locales/de.json\n[2013-02-22 16:38:59.841] [DEBUG] socket.io - setting request 'GET' '/socket.io/1/jsonp-polling/V-HiP2zssbF6sRFWhiX7?t=1361547539730&i=0'\n[2013-02-22 16:38:59.842] [DEBUG] socket.io - setting poll timeout\n[2013-02-22 16:38:59.842] [DEBUG] socket.io - client authorized for \n[2013-02-22 16:38:59.842] [DEBUG] socket.io - clearing poll timeout\n[2013-02-22 16:38:59.842] [DEBUG] socket.io - jsonppolling writing 'io.j0;'\n[2013-02-22 16:38:59.842] [DEBUG] socket.io - set close timeout for client 'V-HiP2zssbF6sRFWhiX7'\n[2013-02-22 16:39:00.156] [DEBUG] socket.io - jsonppolling received data packet '4:::{\"component\":\"pad\",\"type\":\"CLIENT_READY\",\"padId\":\"g.9GokfnMeze24safb$moodlelms\",\"sessionID\":null,\"password\":null,\"token\":\"t.FoIzrqM5wlFYnTUXvXBH\",\"protocolVersion\":2}'\n[2013-02-22 16:39:00.156] [DEBUG] ueberDB - GET    - pad:g.9GokfnMeze24safb$moodlelms - {\"atext\":{\"text\":\"Welcome to Etherpad Lite!!\\nThis pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!\\n\\n\",\"attribs\":\"|6+cu\"},\"pool\":{\"numToAttrib\":{},\"nextNum\":0},\"head\":0,\"chatHead\":-1,\"publicStatus\":false,\"passwordHash\":null,\"savedRevisions\":[]} - from cache\n[2013-02-22 16:39:00.157] [DEBUG] ueberDB - GET    - token2author:t.FoIzrqM5wlFYnTUXvXBH - null - from database \n[2013-02-22 16:39:00.158] [DEBUG] ueberDB - SET    - globalAuthor:a.nM5omSPOFITRILyU - {\"colorId\":29,\"name\":null,\"timestamp\":1361547540158} - to buffer\n[2013-02-22 16:39:00.158] [WARN] message - Authentication try failed:{\"component\":\"pad\",\"type\":\"CLIENT_READY\",\"padId\":\"g.9GokfnMeze24safb$moodlelms\",\"sessionID\":null,\"password\":null,\"token\":\"t.FoIzrqM5wlFYnTUXvXBH\",\"protocolVersion\":2}\n[2013-02-22 16:39:00.158] [DEBUG] message - to V-HiP2zssbF6sRFWhiX7: {\"accessStatus\":\"deny\"}\n[2013-02-22 16:39:00.158] [DEBUG] ueberDB - SET    - token2author:t.FoIzrqM5wlFYnTUXvXBH - \"a.nM5omSPOFITRILyU\" - to buffer\n[2013-02-22 16:39:00.163] [DEBUG] socket.io - setting request 'GET' '/socket.io/1/jsonp-polling/V-HiP2zssbF6sRFWhiX7?t=1361547539884&i=0'\n[2013-02-22 16:39:00.163] [DEBUG] socket.io - setting poll timeout\n[2013-02-22 16:39:00.163] [DEBUG] socket.io - clearing poll timeout\n[2013-02-22 16:39:00.163] [DEBUG] socket.io - jsonppolling writing 'io.j0;'\n[2013-02-22 16:39:00.164] [DEBUG] socket.io - set close timeout for client 'V-HiP2zssbF6sRFWhiX7'\n[2013-02-22 16:39:00.164] [DEBUG] socket.io - discarding transport\n[2013-02-22 16:39:00.164] [DEBUG] socket.io - cleared close timeout for client 'V-HiP2zssbF6sRFWhiX7'\n[2013-02-22 16:39:00.232] [INFO] ueberDB - Flushed 2 values\nThanks!\nMichael\n. What should I do?\n. Hi,\nHow can I set the cookie or check if the cookie is set?\nThese are the settings:\nnode v0.8.19\nepl develop branch\nrewrite on apache2 is of\n\"requireSession\" : true,\n\"editOnly\" : true,\n\"minify\" : false,\n\"maxAge\" : 0,\n\"abiword\" : \"/usr/bin/abiword\",\n\"requireAuthentication\": false,\n\"requireAuthorization\": false,\n\"socketTransportProtocols\" : [\"jsonp-polling\", \"htmlfile\"]\nBut I still get the same error message only with the IE 9:\n[2013-02-22 17:18:24.918] [INFO] http - 200, GET /p/g.pERNuwvOtegAgXCa$moodlelms\n[2013-02-22 17:18:24.976] [INFO] http - 200, GET /static/custom/pad.css\n[2013-02-22 17:18:24.977] [INFO] http - 200, GET /static/css/pad.css\n[2013-02-22 17:18:24.983] [INFO] http - 200, GET /static/img/connectingbar.gif\n[2013-02-22 17:18:24.984] [INFO] http - 200, GET /static/img/loading.gif\n[2013-02-22 17:18:24.984] [INFO] http - 200, GET /static/js/l10n.js\n[2013-02-22 17:18:24.984] [INFO] http - 200, GET /static/js/html10n.js\n[2013-02-22 17:18:24.985] [INFO] http - 200, GET /static/img/leftarrow.png\n[2013-02-22 17:18:25.008] [DEBUG] socket.io - served static content /socket.io.js\n[2013-02-22 17:18:25.011] [INFO] http - 200, GET /static/js/require-kernel.js\n[2013-02-22 17:18:25.051] [INFO] http - 200, GET /javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define\n[2013-02-22 17:18:25.051] [INFO] http - 200, GET /javascripts/lib/ep_etherpad-lite/static/js/ace2_common.js?callback=require.define\n[2013-02-22 17:18:25.054] [INFO] http - 200, GET /static/custom/pad.js\n[2013-02-22 17:18:25.056] [INFO] http - 200, GET /static/img/etherpad_lite_icons.png\n[2013-02-22 17:18:25.058] [DEBUG] ueberDB - GET    - pad:g.pERNuwvOtegAgXCa$moodlelms - {\"atext\":{\"text\":\"Welcome to Etherpad Lite!!\\nThis pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!\\n\\n\",\"attribs\":\"|3+5x\"},\"pool\":{\"numToAttrib\":{\"0\":[\"author\",\"a.eo3wE5XI4HBu3NG1\"]},\"nextNum\":1},\"head\":3,\"chatHead\":-1,\"publicStatus\":false,\"passwordHash\":null,\"savedRevisions\":[]} - from cache\n[2013-02-22 17:18:25.078] [INFO] http - 200, GET /p/g.pERNuwvOtegAgXCa$moodlelms\n[2013-02-22 17:18:25.170] [INFO] http - 200, GET /javascripts/lib/ep_etherpad-lite/static/js/jquery_browser?callback=require.define\n[2013-02-22 17:18:25.175] [INFO] http - 200, GET /javascripts/lib/ep_etherpad-lite/static/js/jquery_browser.js?callback=require.define\n[2013-02-22 17:18:25.183] [INFO] http - 200, GET /pluginfw/plugin-definitions.json\n[2013-02-22 17:18:25.190] [INFO] http - 307, GET /javascripts/lib/ep_etherpad-lite/static/js/colorutils?callback=require.define\n[2013-02-22 17:18:25.255] [INFO] http - 200, GET /javascripts/lib/ep_etherpad-lite/static/js/ace2_inner.js?callback=require.define\n[2013-02-22 17:18:25.323] [INFO] http - 200, GET /locales.json\n[2013-02-22 17:18:25.812] [INFO] http - 200, GET /javascripts/lib/ep_headings/static/js/index?callback=require.define\n[2013-02-22 17:18:25.819] [INFO] http - 200, GET /javascripts/lib/ep_headings/static/js/index.js?callback=require.define\n[2013-02-22 17:18:25.824] [INFO] http - 200, GET /javascripts/lib/ep_headings/static/js/shared?callback=require.define\n[2013-02-22 17:18:25.829] [INFO] http - 200, GET /javascripts/lib/ep_headings/static/js/shared.js?callback=require.define\n[2013-02-22 17:18:25.872] [INFO] http - 200, GET /locales/de.json\n[2013-02-22 17:18:25.881] [DEBUG] socket.io - authorized\n[2013-02-22 17:18:25.882] [INFO] socket.io - handshake authorized 'i9O4M9HZPEfWhLwmq5Q0'\n[2013-02-22 17:18:25.941] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"6utO4wgXU42HIdcMabUP\",\"msg\":\"Der Vorgang konnte aufgrund des folgenden Fehlers nicht fortgesetzt werden: c00ce56e.\",\"url\":\"http://localhost/etherpad/socket.io/socket.io.js\",\"linenumber\":1650,\"userAgent\":\"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)\"}\n[2013-02-22 17:18:25.942] [INFO] http - 200, POST /jserror\nThanks!\nMichael\n. Hello John,\nyou are right! ;-)\nNow I've installed the latest version of etherpad-lite (git version is\n14f9c91) based on debian wheezy, node.js version 0.10.30/np version\n1.4.21 and postgresql version 9.3 together with moodle (+ etherpad-lite\nplugin for moodle and remove_embed).\nAnd: Everything seems to work as expected. Also using etherpad-lite via\nmoodle with IE 11, FF 31 or Opera 12 under Windows 7. ;-)\nIE 9 we don't have any more\nThanks a lot for the great work!\nMichael\nAm 15.03.2014 um 21:10 schrieb John McLear:\n\nI'm 99% sure this was admin error as he silently solved it..\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/1441#issuecomment-37736592.\n. Hello tiblu,\n\nthanks for your answer!\nGreetings,\nMichael\nAm 22.10.2014 um 16:22 schrieb tiblu:\n\nIdeal solution would be log filters, but Log4JS does not support them\nright now.\nCreated a feature request to Log4JS to implement log filters -\nnomiddlename/log4js-node#253\nhttps://github.com/nomiddlename/log4js-node/issues/253\nWhile this is not implemented, I guess changing log level > INFO or\n\"monkey patching\" Log4JS is the way to go.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/2216#issuecomment-60092159.\n. Hello,\n\nok, now I installad the latest develp version again from github without any plugins. But same same!\nBTW: I am using node version 0.10.33 & npm version 1.4.28.\nThanks,\nMichael\n. I did it, but same same\nm.w.\n. sorry, but how or where can I clean the install time?\nm.w.\n. Hello John,\nmy etherpad installation works now with git version 6080de9 and with the plugins ep_headings and ep_remove_embed.\nThanks for your help & Greatings,\nMichael\n. Hallo John,\nunfortunately yes!\nMichael\n. Hello John,\nsorry it was my mistake, but I checked out the master branch. With the \ndevelop branch the export works again with my settings. ;-)\nGreat! Thanks a lot!\nCould you give me please a hint, what is changed in the develop branch \nsince 1.5.6?\nGreetings,\nMichael\n. ",
    "samruby": "Thank you for your reply, i dit it from settings object , \nIn the index.html page , \n<%  var settings = require (\"ep_etherpad-lite/node/utils/Settings\"); >\n  so\n<% settings.requireAuthentication>\nreturn true or false depending if authentication is activated or not.\n. thank you for your replay\n. ",
    "Mic92": "I can confirm this bug with v1.2.7. \n. Wrapping the html-Code inside a div helps.\nIt would be helpful, if getHtml() would return such html. So somebody can just copy the content of one pad to a different one.\n. Could this problem not be solved by API-Versioning?\n. ",
    "dooug": "I am also getting this bug. I tried both the master branch and the develop branch. \n. Thanks for working on this!\nI tested the dont-die-on-bad-html branch. Any setHTML() API call no longer crashes with an error. However, the pad content is always set to be blank. \n. I tried with simple html tags, like <h1>, and without any html tags. Nothing I have tried with setHTML() has insert content into the pad. \nOn invalid HTML, i see the warning in the log: [WARN] ImportHtml - HTML was not properly formed\n. @Miserlou, thanks for the suggestion. Can you provide a example that works for you? \n. Here is what I've tried that still isn't working. \n[2013-02-13 18:50:48.386] [INFO] API - REQUEST, v1:setHTML, {\"apikey\":\"xxx\",\"padID\":\"test2\",\"html\":\"<html><strong>word</strong></html>\"}\n[2013-02-13 18:50:48.391] [INFO] API - RESPONSE, setHTML, {\"code\":0,\"message\":\"ok\",\"data\":null}\n[2013-02-13 18:50:48.392] [INFO] http - 200, GET /api/1/setHTML?apikey=xxx&padID=test2&html=%3Chtml%3E%3Cstrong%3Eword%3C/strong%3E%3C/html%3E\n[2013-02-13 18:50:48.408] [INFO] ueberDB - Flushed 3 values\n[2013-02-13 18:50:48.834] [INFO] http - 304, GET /favicon.ico\n[2013-02-13 18:50:53.672] [INFO] socket.io - transport end (close timeout)\n. Ah! I tried the example HTML from @JohnMcLear. That worked.  Maybe my problems were because I was lacking the DOCTYPE or body?\n. @JohnMcLear \n\nAwesome :) btw a GET will work too afaik\n\nRight, I was just testing with a POST because it was easier at the moment. Thanks much!\n. ",
    "lebrinkma": "@JohnMcLear \nI'm still hitting this issue in current develop.\nI think dont-die-on-bad-html wasn't merged into develop, was it?\nAdditionally, setHTML() lacks input validation for the html param, like in setText(). If html param is not given, it throws a 500 instead of a normal apierror. Something like the following should help:\n//html is required\n  if(typeof html != \"string\")\n  {\n    callback(new customError(\"html is no string\",\"apierror\"));\n    return;\n  }\n. After ether:dont-die-on-bad-html was merged into ether:develop I think this issue can be closed now, can't it?\n. @JohnMcLear \nIt's a basic input validation. :)\nIt fixes the server crashes if setHTML is called with no html parameter.\nI stumbled across this issue when calling setHTML with the parameter text instead of html as the doc in current develop states.\nThe doc is already fixed in this branch.\nYou are welcome to propose a better fix for this issue.\n. ",
    "7Moses": "John, I am an utter newbie, wish I could help with the cache but it would be a scary outcome.\nOn the above, thank you for the guidance, when I run:  etherpad-lite/bin/run.sh\nI get:\nLast login: Tue Feb  5 00:32:14 on ttys000\nserver:~ $ etherpad-lite/bin/run.sh\nEnsure that all dependencies are up to date...\nnpm WARN package.json ep_etherpad-lite@1.2.7 No README.md file found!\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2013-02-05 00:34:58.850] [ERROR] console - There was an error processing your settings.json file: Unexpected string\nserver:~ $ \nAnd the settings.json file looks like this, which is the unexpected string. Thanks:\n/*\n  This file must be valid JSON. But comments are allowed\nPlease edit settings.json, not settings.json.template\n*/\n{\n  // Name your instance!\n  \"title\": \"Etherpad Lite\",\n// favicon default name\n  // alternatively, set up a fully specified Url to your own favicon\n  \"favicon\": \"favicon.ico\",\n//IP and port which etherpad should bind at\n  \"ip\": \"0.0.0.0\",\n  \"port\" : 9001,\n/*\n  // Node native SSL support\n  // this is disabled by default\n  //\n  // make sure to have the minimum and correct file access permissions set\n  // so that the Etherpad server can access them\n\"ssl\" : {\n            \"key\"  : \"/path-to-your/epl-server.key\",\n            \"cert\" : \"/path-to-your/epl-server.crt\"\n          },\n*/\n//The Type of the database. You can choose between dirty, postgres, sqlite and mysql\n  //You shouldn't use \"dirty\" for for anything else than testing or development\n  \"dbType\" : \"mysql\",\n  //the database specific settings\n  \"dbSettings\" : {\n                   \"filename\" : \"var/mysql.db\"\n                   \"user\"    : \"user\",\n    \"port\"    : \"/var/run/mysqld/mysqld.sock\",\n    \"password\": \"secret\",\n    \"database\": \"database\"\n                 },\n/* An Example of MySQL Configuration\n   \"dbType\" : \"mysql\",\n   \"dbSettings\" : {\n                    \"user\"    : \"root\", \n                    \"host\"    : \"localhost\", \n                    \"password\": \"\", \n                    \"database\": \"store\"\n                  },\n  */\n//Logging configuration. See log4js documentation for further information\n  // https://github.com/nomiddlename/log4js-node\n  \"logconfig\" :\n  { \"appenders\": [\n      { \"type\": \"console\" }\n  ] },\n//the default text of a pad\n  \"defaultPadText\" : \"Welcome to Etherpad Lite!\\n\\nThis pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!\\n\\nGet involved with Etherpad at http:\\/\\/etherpad.org\\n\",\n/* Users must have a session to access pads. This effectively allows only group pads to be accessed. */\n  \"requireSession\" : false,\n/* Users may edit pads but not create new ones. Pad creation is only via the API. This applies both to group pads and regular pads. */\n  \"editOnly\" : false,\n/* if true, all css & js will be minified before sending to the client. This will improve the loading performance massivly, \n     but makes it impossible to debug the javascript/css */\n  \"minify\" : true,\n/* How long may clients use served javascript code (in seconds)? Without versioning this\n     may cause problems during deployment. Set to 0 to disable caching */\n  \"maxAge\" : 21600, // 60 * 60 * 6 = 6 hours\n/* This is the path to the Abiword executable. Setting it to null, disables abiword.\n     Abiword is needed to advanced import/export features of pads*/\n  \"abiword\" : null,\n/* This setting is used if you require authentication of all users.\n     Note: /admin always requires authentication. */\n  \"requireAuthentication\": false,\n/* Require authorization by a module, or a user with is_admin set, see below. */\n  \"requireAuthorization\": false,\n/* Users for basic authentication. is_admin = true gives access to /admin.\n     If you do not uncomment this, /admin will not be available! /\n  /\n  \"users\": {\n    \"admin\": {\n      \"password\": \"changeme1\",\n      \"is_admin\": true\n    },\n    \"user\": {\n      \"password\": \"changeme1\",\n      \"is_admin\": false\n    }\n  },\n  */\n/* The log level we are using, can be: DEBUG, INFO, WARN, ERROR */\n  \"loglevel\": \"INFO\",\n// restrict socket.io transport methods\n  \"socketTransportProtocols\" : [\"xhr-polling\", \"jsonp-polling\", \"htmlfile\"]\n}\n. Thanks for the guidance,\n. With respect to 1) and 2) above, in my effort to navigate MySQL, this was this was very useful, Setting a MySQL password in XAMPP Mac OSX - Lucid Nerd Tutorial http://www.youtube.com/watch?v=BPjpRzdrug8&feature=youtube_gdata_player\nAnd see: Creating a MySql Database using XAMPP, http://complete-concrete-concise.com/web-tools/creating-a-mysql-database-using-xampp#comments, much better than doing it from Terminal,\n. ",
    "shirayuki": "This is not only on timeslider but also on the other pages.\nAfter reloading a page, most messages are empty:\n\n. ",
    "nelsonsilva": "@JohnMcLear I added a json import. Not sure this is the right way to this. To make it simpler I just add the text and the apool and then loop through the attributes and create a changeset for each. \n. @JohnMcLear I also added this to the API\n. This is something I quickly put together since John said he was looking for a way to export pads between etherpad instances. This allows to control the history you want to export.\nThe other pull request I sent focuses on a pure JSON export for a single revision.\n. When I added this the idea was for it to be more of a low level import/export only available in the API not the UI.\nIn https://github.com/ether/etherpad-lite/pull/1515 you get a more high level export which can be later be processed to produce other export formats.\n. How about changing APIHandler to check for the existence of api.version[apiVersion][functionName] ?\nThis way you use exports.version = {}; and add overrides as needed like exports.version[\"1.2.7\"] = require(./api_1.2.7)\n. @JohnMcLear  Please checkout my pull request for a couple of different takes on this issue:\nhttps://github.com/ether/etherpad-lite/pull/1528\nI think my last commit is the best approach for now.\nBasically now you specify semver based rules when exporting API methods, so for the getHTML case you have:\nAPI[\"*\"].getHTML = ;\nAPI[\">=1.2.7\"].getHTML = ;\nIn my pull request I just added a boolean flag to the getHTML function to decide whether to wrap the body or not and both of there rules delegate to your getHTML function.\nWith this in place I made API export a function:\nmodule.exports = function(apiVersion) {\n  ....\n}\nnow we can just require the proper version using: require(\"../db/API\")(apiVersion);\nThis functions goes through each of the semver rules and returns an object with all the functions that satisfy the requested version. I also added some cache to prevent having to recalculate this each time.\nHope this is something along what you're looking for.\n. I don't have a publicly available Etherpad instance so you have to run etherpad locally and put your api key in the text input.\n. I added a first version of a java client code generator here: https://github.com/nelsonsilva/etherpad-lite-codegen\n. Yes i am. I'm using it for now.\nBut I had to try swagger-codegen (https://github.com/wordnik/swagger-codegen) to see if this works.\nSwagger gives you a cool REST UI so you can document your endpoints and play with them (have you played with my version yet?).\nAlso, by using swagger-codegen you can automatically create clients for Scala, Flash, Java, Objc, PHP, Python, Python3 and Ruby which would be nice since these can be built using any CI service and would always be up to date. For instance for my first java client version i'm using drone.io.\n. I think it would be nice way to start shaping a new REST API for Etherpad Lite. I grouped the operations in resources (similar to what you have in the docs). I also moved the stuff that was under \"data\" in the responses to the top level object ex: {\"code\":0, \"message\":\"\", \"padId\":\"dsdsds\"}. This was because swagger does not support nested containers (lists) and I wanted to have proper JSON schema for the responses.\n. @jhollinger This is still WIP so it'll probably be a while before this is merged (if it's even merged)\nStill, the codegen uses mustache templates so we still need someone to make nice templates for each of the clients... so I guess the factory worker gets to keep its job ;)\n. I came up with a quick \"hack\" to have a REST endpoint per version (instead of a single one for the latest version).\nBasically I load the swagger module once per version by removing it from the require.cache. This allows me to have several swagger \"instances\" which would otherwise be impossible since node caches the modules and swagger's not wrapped in a function.\nThis is cool since we can generate a client for each API version (see here for an example: https://github.com/nelsonsilva/etherpad-lite-codegen).\n. @marcelklehr this is served in a different endpoint /rest/ so the current API is still usable\n. @JohnMcLear done. Rebased to develop.\n. @JohnMcLear \n1. Start etherpad-lite\n2. Go to: http://nelsonsilva.github.com/etherpad-lite-rest-ui/\n:P\n. The long term plan is to resort to something like I've done in https://github.com/ether/etherpad-lite/pull/1528\nI do not want to tie the API specification to the swagger structure but having:\nAPI[\">=1.2.7\"].getHTML = {\nparameters:[...],\nresponse:{...},\nmethod:[\"GET\"],\ndescription:\"....\",\naction: function(...){...}\n}\nshould allow us to have everything in a single place.\nThe versioning uses semver and the full list of methods for each API version is determined at runtime based on the rules.\nI just need some feedback on the JSON schema for the responses. I've removed the \"data\" atribute and now have proper models for the responses. This is also due to some limitations in swagger where nested \"typed\" list are not supported so I ended up flattening the models as much as possible.\nThis move is especially interesting to allow automatic client generation based on the API spec.  \nI've added a simple Java client example here: https://github.com/nelsonsilva/etherpad-lite-codegen\n. In https://github.com/ether/etherpad-lite/pull/1638 you provide another way to tackle API versioning, by concating the list of functions explicitly: \nAPI_V1_1   =  apiConcat(API_V1,     API_V1_1) ;\n  etc... \nwhich I've done in https://github.com/ether/etherpad-lite/pull/1528 :\n// got through each of the semver rules\nfor(var version in API) {\n  // if the rule satisfies the required version\n  if (semver.satisfies(apiVersion, version)) {\n    // Add these functions\n    for (var fn in API[version]) {\n      _CACHE[apiVersion][fn] = API[version][fn];\n    }\n  }\n}\nI'm not by any means saying that my way is the way but these two PR serve the same purpose and we must agree on an approach for this. Personally I prefer the semver rules approach as you have a more semantic specification...\n. @disy-mk The plan is to remove the that list. \nWith the semver rules in each of the functions we'd just need a list of released versions with their numbering\nversions = [\"1\", \"1.1\", ...]\nSo the getVersions function would just have to return that list...\n. Everything is working as expected but i agree that we should update APIHandler.js to have the API <-> function mapping generated based on the semver rules and on a set of predeiined versions (1, 1.1, 1.2, 1.2.1, 1.2.7, etc...).\nI did not add this in this PR since if we go with swagger it would make sense to use its spec format to add more metadata to the operations (parameters, description, request/response types, method, etc..)\n. Yes. I could also clean this up and send a new PR. We need to add some more info to each of the functions so perhaps we should have something like :\nAPI[\"*\"].getHTML = {\nparameters:[...],\nresponse:{...},\nmethod:[\"GET\"],\ndescription:\"....\",\naction: function(...){...}\n}\nthis would be independent of swagger but would provide all the needed info.\nStill perhaps it would be best to keep require(\"../db/API\")(apiVersion) returning an object with functions so we'd need a way to get to the functions metadata... I could :\n- use an optional param in the function require(\"../db/API\")(apiVersion, true)\n- add the meta to the functions API[\"*\"].getHTML.meta = {...} \n-  just add another key to the returned Api object so you would use require(\"../db/API\")(apiVersion).meta to get to the info....\n  What do you think?\n. @marcelklehr Just made this a bit less 'wet' ;)\n. @marcelklehr I'd like to merge this asap but i really need some input on https://github.com/ether/etherpad-lite/pull/1528#issuecomment-13700178\nIt would be nice to have all the info in API.js then in APIHandler I can just get the meta from the exports... just not sure how to expose the meta\n. Ok. I can make the exported functions have a \"meta\" property with the description, etc... but do you think that in API.js it would look nicer something like:\nAPI[\"*\"].getHTML = {\nparameters:[...],\nresponse:{...},\nmethod:[\"GET\"],\ndescription:\"....\",\naction: function(...){...}\n}\nor should API.js look like:\nAPI[\"\"].getHTML = function() {}\nAPI[\"\"].getHTML.meta = {\n  method:[\"GET\"],\n  description:\"....\",\n}\nIf we had annotations we could make this cooler or perhaps some sort of jsdoc... \n. @disy-mk Please take a look at https://github.com/ether/etherpad-lite/pull/1528\n. @disy-mk I still haven't merged #1528 So I'll leave this as is until we decide how to proceed with the API versions.\nI need some feedback on #1528 so feel free to chip in. The plan is to have everything in one place so if we go with the semver rules most of the stuff in APIHandler.js will be refactored.\n. @JohnMcLear Are the import issues related to my changes for adding the json stuff?\n. @JohnMcLear  I think I'm not relying on bodyParser anywhere since all the params are query params so just removing args.app.use(express.bodyParser()); should make it work\n. @JohnMcLear Sorry for not submitting a PR... was not near a PC.\nWith the bodyParser removed are you sure this is still related to swagger ?\n. @JohnMcLear How are you testing ? I'll use your testing procedure to understand what's going on...\nHave you tried disabling the swagger hook to see everything still works ? \n. Yes. But it's not really a problem since this still relies on APIHandler which maps versions to operations.\nRight now the rules are only relevant when a function has the same name but a different behaviour (like getHTML).\n. I agree with you. Please read my last comment in this PR.\n. ",
    "googleEffectiveAltruism": "Thanks, @nelsonsilva!\nAlso, +1 on @JohnMcLear's import request.  (Obviously that would be nice to have.  The export half seems more urgent to me though.)\nI agree with John that import should not delete anything, unless a) deletion is an intended feature, indepent of importing, and b) there is a warning/confirmation before anything gets deleted.  If appending is too complicated, you could have every import create a new copy of the pad.\n. ",
    "aendrew": "Ha, cool -- hadn't seen that. Seems like that's in the right direction. Thanks!\n. ",
    "aseemk": "\nIn most apps, you can usually treat ECONNRESET as roughly the same as a graceful close. Just make sure that you actually stop using that socket, since it's now closed. However, it's not a graceful close, since it's not in any sense \"graceful\". Prior to v0.8.20, node would happily buffer all writes to reset sockets, causing memory explosion death.\n\nHey @isaacs, can we prevent the memory explosion pre-0.8.20 somehow too? E.g. should we be listening for error events, and in those cases, stop writing? Should we also be manually closing the socket somehow?\n. Awesome, thanks! We're seeing occasional hangup errors on requests to our db too (which we need to investigate), but in that case, I assume it's the same thing with req instead of res?\n. Thanks @isaacs!\n. ",
    "ddidderr": "Just wanted to say that I use Etherpad Lite v.1.2.7 and nodejs 0.8.20 and it happens really often. The whole pad is more or less unusable because of this.\n. latest version (1.2.11) and nodejs 0.10.12\n. ok I will prepare one, maybe not tomorrow, but this week for sure\n. ",
    "mindplay-dk": "Looks like 0.8.21 fixes some issues with sockets:\nhttp://blog.nodejs.org/2013/02/25/node-v0-8-21-stable/\nLooks like Etherpad closes without problems on timeout now - maybe this fixed it?\n. ",
    "desci": "I am also getting the Socket Hang Up everyday now.\nSwitching to debug mode and logging the output.\n. And as if that's not enough, some npm plugins doesn't explicitly tell which changes are mandatory or recommended on settings.json (not to mention that they don't even provide the README.md in the package).\n. Indeed you're one of the main ones who like to do that:\n- https://npmjs.org/package/ep_previewimages\n- https://npmjs.org/package/ep_embedmedia\n- https://npmjs.org/package/ep_fileupload\n- https://npmjs.org/package/ep_sketchspace\n- https://npmjs.org/package/ep_help_bubbles\n- https://npmjs.org/package/ep_fintest\n- https://npmjs.org/package/ep_googleanalytics\n- https://npmjs.org/package/ep_sketchspace\n- https://npmjs.org/package/ep_right_to_left\n- https://npmjs.org/package/ep_sociallinks\n- https://npmjs.org/package/ep_embedmedia\n- https://npmjs.org/package/ep_monospace_default\n- https://npmjs.org/package/ep_draw\nBut there are some others as well:\n- https://npmjs.org/package/ep_authornames\n- https://npmjs.org/package/ep_headings\nIf I find more I'll let you know.\n. These issues are kind of related to each other, I don't see why we should open a new one.\nAs to solve it, yes, I am willing to improve documentation and the wiki.\nConsider this as a contribution. I am one very interested, since I spent all this time searching through source code because of the lack of documentation.\n. I'm gonna checkout the wiki and send a pull request, this should improve it rather than destroy mluto's work.\n. Actually I am proposing one solution. I believe that if things are well documented these kind of issues shall not appear at all. Yes, I am saying that documentation should be improved.\n. Actually I was the one talking about sessionKey on irc, not sure if that's related to marcel's issue.\n. settings.json content:\n``` json\n/*\n  This file must be valid JSON. But comments are allowed\nPlease edit settings.json, not settings.json.template\n*/\n{\n  // Name your instance!\n  \"title\": \"Padeiro\",\n// favicon default name\n  // alternatively, set up a fully specified Url to your own favicon\n  \"favicon\": \"favicon.ico\",\n//IP and port which etherpad should bind at\n  \"ip\": \"0.0.0.0\",\n  \"port\" : 9001,\n//The Type of the database. You can choose between dirty, postgres, sqlite and mysql\n  //You shouldn't use \"dirty\" for for anything else than testing or development\n  \"dbType\" : \"sqlite\",\n  //the database specific settings\n  \"dbSettings\" : {\n                   \"filename\" : \"var/sqlite3.db\"\n                 },\n//Logging configuration. See log4js documentation for further information\n  // https://github.com/nomiddlename/log4js-node\n  \"logconfig\" :\n    { \"appenders\": [\n        { \"type\": \"console\" }\n    ] },\n//the default text of a pad\n  \"defaultPadText\" : \"Bem vindx ao Padeiro!\\n\\nEste texto \u00e9 sincronizado em tempo real para qualquer umx que estiver acessando esta p\u00e1gina.\\n\\nIsto permite editar documentos de forma colaborativa!\\n\\nAgora apague este texto e come\u00e7e a escrever!\\n\",\n/ Users must have a session to access pads. This effectively allows only group pads to be accessed. /\n  \"requireSession\" : false,\n  \"sessionKey\" : \"RANDOMSTUFF\",\n/ Users may edit pads but not create new ones. Pad creation is only via the API. This applies both to group pads and regular pads. /\n  \"editOnly\" : false,\n/ if true, all css & js will be minified before sending to the client. This will improve the loading performance massivly, \n     but makes it impossible to debug the javascript/css /\n  \"minify\" : true,\n/ How long may clients use served javascript code (in seconds)? Without versioning this\n     may cause problems during deployment. Set to 0 to disable caching /\n  \"maxAge\" : 21600, // 60 * 60 * 6 = 6 hours\n/ This is the path to the Abiword executable. Setting it to null, disables abiword.\n     Abiword is needed to advanced import/export features of pads/\n  \"abiword\" : \"/usr/bin/abiword\",\n/ This setting is used if you require authentication of all users.\n     Note: /admin always requires authentication. /\n  \"requireAuthentication\": false,\n/ Require authorization by a module, or a user with is_admin set, see below. /\n  \"requireAuthorization\": false,\n/ Users for basic authentication. is_admin = true gives access to /admin.\n     If you do not uncomment this, /admin will not be available! /\n\"users\": {\n    \"admin\": {\n      \"password\": \"RANDOMSTUFF\",\n      \"is_admin\": true\n    },\n    \"user\": {\n      \"password\": \"RANDOMSTUFF\",\n      \"is_admin\": false\n    }\n  },\n/ The log level we are using, can be: DEBUG, INFO, WARN, ERROR /\n  \"loglevel\": \"INFO\",\n// restrict socket.io transport methods\n  \"socketTransportProtocols\" : [\"xhr-polling\", \"jsonp-polling\", \"htmlfile\"]\n}\n```\n. \"Troubleshotting information\" content:\nInstalled plugins\nep_authornames\nep_invite_via_email, ep_monospace_default, ep_linkify, ep_headings, ep_signature, ep_etherpad-lite\nInstalled parts\nep_etherpad-lite/swagger\nep_etherpad-lite/adminsettings\nep_etherpad-lite/adminplugins\nep_etherpad-lite/admin\nep_etherpad-lite/tests\nep_etherpad-lite/socketio\nep_etherpad-lite/errorhandling\nep_etherpad-lite/importexport\nep_etherpad-lite/apicalls\nep_etherpad-lite/webaccess\nep_etherpad-lite/padreadonly\nep_etherpad-lite/padurlsanitize\nep_etherpad-lite/specialpages\nep_etherpad-lite/i18n\nep_etherpad-lite/static\nep_etherpad-lite/express\nep_signature/signature\nep_headings/main\nep_linkify/main\nep_monospace_default/monospace_default\nep_invite_via_email/invite_via_email\nep_authornames/authornames\nInstalled hooks\nServer side hooks\nexpressCreateServer\n    ep_etherpad-lite/node/hooks/express/swagger:expressCreateServer from ep_etherpad-lite/swagger\nexpressCreateServer\n    ep_etherpad-lite/node/hooks/express/adminsettings:expressCreateServer from ep_etherpad-lite/adminsettings\nexpressCreateServer\n    ep_etherpad-lite/node/hooks/express/adminplugins:expressCreateServer from ep_etherpad-lite/adminplugins\nexpressCreateServer\n    ep_etherpad-lite/node/hooks/express/admin:expressCreateServer from ep_etherpad-lite/admin\nexpressCreateServer\n    ep_etherpad-lite/node/hooks/express/tests:expressCreateServer from ep_etherpad-lite/tests\nexpressCreateServer\n    ep_etherpad-lite/node/hooks/express/socketio:expressCreateServer from ep_etherpad-lite/socketio\nexpressCreateServer\n    ep_etherpad-lite/node/hooks/express/errorhandling:expressCreateServer from ep_etherpad-lite/errorhandling\nexpressCreateServer\n    ep_etherpad-lite/node/hooks/express/importexport:expressCreateServer from ep_etherpad-lite/importexport\nexpressCreateServer\n    ep_etherpad-lite/node/hooks/express/apicalls:expressCreateServer from ep_etherpad-lite/apicalls\nexpressCreateServer\n    ep_etherpad-lite/node/hooks/express/padreadonly:expressCreateServer from ep_etherpad-lite/padreadonly\nexpressCreateServer\n    ep_etherpad-lite/node/hooks/express/padurlsanitize:expressCreateServer from ep_etherpad-lite/padurlsanitize\nexpressCreateServer\n    ep_etherpad-lite/node/hooks/express/specialpages:expressCreateServer from ep_etherpad-lite/specialpages\nexpressCreateServer\n    ep_etherpad-lite/node/hooks/i18n:expressCreateServer from ep_etherpad-lite/i18n\nexpressCreateServer\n    ep_etherpad-lite/node/hooks/express/static:expressCreateServer from ep_etherpad-lite/static\nexpressCreateServer\n    ep_invite_via_email/server_invite_via_email:expressServer from ep_invite_via_email/invite_via_email\nsocketio\n    ep_etherpad-lite/node/hooks/express/adminsettings:socketio from ep_etherpad-lite/adminsettings\nsocketio\n    ep_etherpad-lite/node/hooks/express/adminplugins:socketio from ep_etherpad-lite/adminplugins\nexpressConfigure\n    ep_etherpad-lite/node/hooks/express/webaccess:expressConfigure from ep_etherpad-lite/webaccess\ncreateServer\n    ep_etherpad-lite/node/hooks/express:createServer from ep_etherpad-lite/express\nrestartServer\n    ep_etherpad-lite/node/hooks/express:restartServer from ep_etherpad-lite/express\neejsBlock_editbarMenuLeft\n    ep_signature/hooks from ep_signature/signature\neejsBlock_editbarMenuLeft\n    ep_headings/index from ep_headings/main\neejsBlock_scripts\n    ep_signature/hooks from ep_signature/signature\neejsBlock_styles\n    ep_signature/hooks from ep_signature/signature\ncollectContentPre\n    ep_headings/static/js/shared from ep_headings/main\ncollectContentPost\n    ep_headings/static/js/shared from ep_headings/main\nClient side hooks\npostAceInit\n    ep_monospace_default/static/js/monospace:postAceInit from ep_monospace_default/monospace_default\ncollectContentPre\n    ep_headings/static/js/shared from ep_headings/main\naceGetFilterStack\n    ep_linkify/static/js/index:aceGetFilterStack from ep_linkify/main\naceCreateDomLine\n    ep_linkify/static/js/index:aceCreateDomLine from ep_linkify/main\nacePostWriteDomLineHTML\n    ep_authornames/static/js/index from ep_authornames/authornames\n. For future searches, if anyone like me keep installing and removing npm packages / etherpad plugins, you should be aware which procedures you should take care of.\nI'm not sure if I didn't read the proper manuals or if the changes that packages make to the filesctrucure of the etherpad-lite server instance aren't properly documented.\nNot knowing which exactly files are created/altered/removed in an easy, well exposed way makes me feel like I'm dealing with Windows XP softwares being installed without me knowing what is happening under the hood. Or like I said I'm not reading the proper pages.\nThis issue seems solved for now.\n. ...and it seems that it came back again.\n. I've seen smaller pads forcing disconnect of a single client when trying to clear autorship colors on the entire document, would this be related or would be a different issue?\n. @JohnMcLear I did my best to describe on the pad, I could copy the text here or screencast myself replicating.\n. ",
    "mullrich": "Solves it for me. Good job, guys!\n. I tried both Master/Develop.\nFor the test, it looks good in Firefox, but the number of passes is always 1. In IE, the left side of the test looks somewhat crippled, passes is also 1, but trying to insert a newline fails (only line numbers increasing). Local cache is clean.\n. OK. I'll re-install first to make sure everything is clean. What version of nodejs do you suggest? I think I read about an issue in connection with the latest v0.8.20...\n. okay, for some reason, IE9 was in compat mode - stoooopid\n. I think it's \"--settings file\", not \"--settings=file\". (That way, the logic in installDeps.sh makes sense.)\n. Maybe an improvement here: arguments should be passed from safeRun.sh to run.sh...\n#start the application\n  bin/run.sh $* >>$1 2>>$1\n. Thanks, John. I'll will have a look. I already went back to our old EPL version, to no avail. There seems to be some kind of database inconsistency, and I'm not sure if it's related to the new version. We're always on master branch. And yes, I do have daily db backups.\nI'm an idiot when it comes to all this node stuff. So I even did a clean node reinstall and EPL git checkout on our development system to make sure it's not some stupid cache problem. Is there any way to clean the caches? Thanks!\n. Thanks again, John. I do know the config settings, but my question was related to server-side caching. I remember something about cleaning a directory... but don't bother, that's a different matter.\nBack to my main problem: After looking through the API docs, I don't really understand under what circumstances listSessionsOfGroup is answered with code: 1, message: sessionID does not exist.\n. Ok, now that was an easy fix! It turned out we had some orphaned sessions. Is there any built-in cleanup-o-matic for occasions like this? Thanks!\n. ",
    "zendozerris": "Ok \nSorry for disturbing\nIn fact it's the module ep_authornames who killed my IE 9\nsorry\nZZ\n. ",
    "leighp": "Thanks for the info... and great to see that updating will provide a good solution!\nBut just so I am clear - in older versions of etherpad - is there nothing logged when a user exits a pad?  I'm not seeing anything obvious in the log file but am hoping I'm just missing something...grasping at straws I think :)  \nAnd forgive me if this is a silly question...I am very much an etherpad newbie.  Cheers! \n. ",
    "ryansnowden": "Confirmed, happens to me as well.\n. I have not gone further but if I switched between tags and HEAD the problem didn't occur so I think it's session relayed given that sessionKey is something new? \n. In git\n. ",
    "ObiKenobi": "Well, I get that error everytime I try to use the standard authentication in settings.json.\n. Where do you switch between tags and HEAD?\n. ",
    "freddyb": "I really laughed out loudly @ \"watapan\". Thank you for this :)\n. ",
    "tiblu": "+1 - Created the vote, please review it - http://etherpad.idea.informer.com/proj/etherpad?ia=88629\n. Why I like the KVS\n- Easy to set up.\n- Easy to follow what is going on in the DB as data is not distributed across several tables. \nWhy I do not like the KVS\n- All the info in one table makes it impossible to scale. Ideally we could have separate SessionDB, ChatDB, PadDB... and n+1 instances of each and do some partitioning logic. Right now the only way I see to scale is to duplicate the whole stack (Node + DB) and create some kind of load balancing logic to call the right server for specific Author/Group/Pad and that now limits us to restricting access of Pads to Groups that are in the same server with the Pad itself.\n- Data duplication leads to bigger DB.\nIdeas to have best of both worlds\n- Use RDMS with ORM like Sequelize (http://sequelizejs.com/) - with that I agree with @s1341 - SQLite is easy enough to set up, can be done in installDeps.sh and has possibility to store data in the memory. \nIs there a quick win solution?\nMaybe it is an idea to write a new dbType \"rdbms\" which has key/value interface but inside parses the key on set and distributes data to tables/DB-s according to the key, on get it will do the reverse. With Sequelize it still enables to use whatever underlying RDBMS.\nIt might be that this idea is about as much work as writing the whole Etherpad to use Sequelize, but would be BW compatible - could be used for existing deployments.\n. @JohnMcLear  - Thank you for the quick response. Could you please provide some numbers of the \"huge deployments\". How many concurrent Users on a Pad, avg Pad size (chars) and whatever else you consider important numbers?\nAnd yes, I'm being hypothetical here in my concerns. I have not used Etherpad yet, but trying figure out if we would hit the limits of Etherpad, mainly because of the DB in our project. The numbers would be great.\n@JohnMcLear - When it comes to the DB and you on the hook - what do you think about merging Authors changeset-s in the DB to reduce DB size? The topic actually belongs to  - https://github.com/ether/etherpad-lite/issues/2006 and I would be glad to discuss it there.\n. @JohnMcLear  - NP, thank you for the time and effort put into Etherpad. Will check into the load testing tools (https://github.com/ether/etherpad-lite/tree/develop/bin/loadTesting)\n. Not happening for me. Can you give more details on the environment?\nMy env:\n- Etherpad (grep version src/package.json) 1.4.1 \n  - branch develop @ 086bf83e6ccd4e576b579b3fb718ed10e5f6daee\n- OS - Ubuntu 13.10\n- Node - (node --version) - 0.10.29\n- NPM - (npm --version) - 1.4.14\n. When it comes just to the logging issue, the ideal solution would be log filters, but Log4JS does not support them right now.\nCreated a feature request to Log4JS to implement log filters - https://github.com/nomiddlename/log4js-node/issues/253\nWhile this is not implemented, I guess changing log level > INFO or \"monkey patching\" Log4JS is the way to go.\nWhen it comes to the users/passwords being plain text - this is related https://github.com/ether/etherpad-lite/issues/1650\n. @Pita @JohnMcLear  This is a very novel effort.\n. Closing, managed to include same fix in https://github.com/ether/etherpad-lite/pull/2871\n. Thanks, fixed!\n. @lpagliari  @Gared Forgot to mention that I only tested this on Chrome. Not sure what other browsers think of trying to write non-secure cookie with the same name on the same domain.. @Gared @lpagliari Created a PR (https://github.com/ether/etherpad-lite/issues/3187), but Travis seems to hang due to some kind of build script issue.\nhttps://travis-ci.org/ether/etherpad-lite/builds/229899045?utm_source=github_status&utm_medium=notification\n$ tests/frontend/travis/sauce_tunnel.sh\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100 6033k  100 6033k    0     0  7430k      0 --:--:-- --:--:-- --:--:-- 8023k\nexpected argument for flag `-u, --user', but got option `--key'. Pull request merged, waiting for Ueberdb2 release and then will PR this. \nUeberdb2 PR - https://github.com/Pita/ueberDB/pull/106. Closing, as John released Ueberdb2 0.3.8, upgraded package.json and marked https://github.com/ether/etherpad-lite/issues/3348 as resolved. . @muxator Thanks for the quick response.\nI can PR the documentation change once the information has been collected but before that I would need the information to be correct. \nCan you comment on any of the cookies mentioned above?. ",
    "thatdesignguy": "git revision 2b62e9\nUbuntu 12.10 (GNU/Linux 3.5.0-25-generic x86_64)\nyes, just did a test dump.\nJohn I am really confused cause I have setup etherpad lite on various OS and never a problem in the past.\nI am also having problems with the plugin manager page crashing the app\nWARN Building the local index for the first time, please be patient\ninfo trying registry request attempt 1 at 19:47:31\nhttp GET http://registry.npmjs.org/-/all\nWARN Building the local index for the first time, please be patient\ninfo trying registry request attempt 1 at 19:47:31\nhttp GET http://registry.npmjs.org/-/all\nhttp 200 http://registry.npmjs.org/-/all\nKilled\n. nodejs/node-v0.8.21 is the current version\n. ",
    "matsch-o0": "I forgot to mention that in Chrome as well as in Firefox on the phone it works. Let me know if I can assist with more debugging.\nmatsch\n. 33 passed, 7 failed. there it stopped, at 93%. nothing seems related.\nfailed tests:\n- helper.js --> the test helper --> the newPad method --> gives me 3 jquery instances of chrome, outer and inner\n- helper.js --> the test helper --> tthe waitFor method --> takes an interval and checks on every interval\n- keystroke_chat.js --> send chat message --> opens chat, sends a message and makes sure it exists on the page\n- language.js --> Language select and change --> makes text german\n- language.js --> Language select and change --> changes direction when picking an rtl lang\n- timeslider_labels.js --> timeslider --> Shows a date and time in the timeslider and make sure it doesn't include NaN\n- timeslider_revisions.js --> timeslider --> \"before each\" hook\nmatsch\n. actually, minus the keystroke_chat.js test the other 6 also failed in Chrome on my Mac. Can try Chrome on the Android now.\n. Chrome on Android\nsimilar, but different. not sure this helps.\npassed: 34, failed: 6, 93%\n- change_user_name.js --> change username value --> Own user name is shown when you enter a chat\n- helper.js --> the test helper --> the newPad method --> gives me 3 jquery instances of chrome, outer and inner\n- language.js --> Language select and change --> makes text german\n- language.js --> Language select and change --> changes direction when picking an rtl lang\n- timeslider_labels.js --> timeslider --> Shows a date and time in the timeslider and make sure it doesn't include NaN\n- timeslider_revisions.js --> timeslider --> \"before each\" hook\n. Have you used the stock browser in a vanilla Android? If so, which version?\n. Strange. It may have been introduced in newer versions of the browser.\nAnyone else who can confirm or disconfirm the bug?\n. ",
    "juuxstar": "Nice find.  Out of curiosity, how did you find this so quick?  Do you have older versions of Etherpad running somewhere?\n. Confirmed.  Works on test branch.\nNice job on the quick fix!  And thanks for the tip on git bisect; I learned something new today (I'm coming from the SVN world so still relatively new to Git but never going back....)\n. ",
    "Rush": "I just installed etherpad from latest commit@develop and I have the same problem. Ctrl+Z and Ctrl+Y do not work on Chrome, they do on Firefox though.\n. Seemingly. Undo in chrome always goes to next line for me.\n. ",
    "Gallaecio": "I can confirm this with version 1.4, even if extracted on C:\\\nSince all failing files and foders were tests, I simply skipped those.\n. ",
    "tamaskan": "Option E: Rewrite the URLs with a Dereferer-Service like http://www.dereferer.org\nhttp://www.google.de -> http://www.dereferer.org/?http%3A%2F%2Fwww%2Egoogle%2Ede\n. ",
    "anarcat": "i can't reproduce the problem described by elijh here, i get this as a referer:\nhttps://github.com/ether/etherpad-lite/issues/1603\nthis is Chromium Version 27.0.1453.93 Debian 7.0 (200836)\n. ",
    "joelpurra": "Here's a test page, showing leaking pad URL to external links through HTTP referer.\nhttps://etherpad.mozilla.org/eFJXwtxPJu\n. @JohnMcLear: is the problem fixed in the latest etherpad then?\n. @JohnMcLear: and where is a more recent public version I can test this on?\n. @JohnMcLear: guess it's not fixed:\nhttps://beta.etherpad.org/p/http-referer\n. @JohnMcLear: so the problem is ~~money~~ time? I see.\n. Applied rel=\"noreferrer\" in #2498. It's better than nothing and is a very simple patch, as you can see.\n. ",
    "xshadow": "Could there be an option as described in https://github.com/ether/etherpad-lite/issues/2731 ?\nThere won't be many changes to do:\nIt would be great to set two options in settings.json \n\n/* Privacy: enable dereferring */\n  \"enableDerefering\" : True,\n  \"derefererUrl\": \"https://dereferrer.foobar.org/\"\n\nand an adjustment in the link constructor accordingly.\nAt the moment I use @JohnMcLear ep_hide_referrer but that requires a user interaction ( a click ) - if you could use your own refererrer that would not be necessary and the users weren't bothered with it :) \n. ",
    "dkg": "Ther'es also Referrer-Policy, https://www.w3.org/TR/referrer-policy/. ",
    "macboy012": "That fixed it. Thanks\n. Importing with this branch reports the following: (failure)\n[2013-03-14 09:59:01.639] [WARN] console - Uploading Error: Error: MultipartParser.end(): stream ended unexpectedly: state = START\n    at MultipartParser.end (/home/mackenzie/git/ether_latest/src/node_modules/formidable/lib/multipart_parser.js:306:12)\n    at IncomingMessage.IncomingForm.parse.fields (/home/mackenzie/git/ether_latest/src/node_modules/formidable/lib/incoming_form.js:98:30)\n    at IncomingMessage.EventEmitter.emit (events.js:123:20)\n    at IncomingMessage._emitEnd (http.js:366:10)\n    at IncomingMessage._emitPending (http.js:338:16)\n    at process.startup.processNextTick.process._tickCallback (node.js:244:9)\n[2013-03-14 09:59:01.640] [INFO] http - 200, POST /p/c2PmSHIOoV/import\nThat is importing a txt file, having abiword set to the abiword binary consistently causes the error, and having it set to null either causes the above error or causes the POST to hang for forever, it seems inconsistent.\n. Current status: All importing works, however, the original problem has resurfaced.  \n[2013-03-19 10:13:32.792] [ERROR] console - TypeError: Cannot read property 'stack' of null\n    at exports.doImport.async.series.knownFileEndings (/home/mackenzie/git/ether_latest/src/node/handler/ImportHandler.js:63:49)\n    at IncomingForm.parse (/home/mackenzie/git/ether_latest/src/node_modules/formidable/lib/incoming_form.js:117:9)\n    at IncomingForm.EventEmitter.emit (events.js:90:17)\n    at IncomingForm._maybeEnd (/home/mackenzie/git/ether_latest/src/node_modules/formidable/lib/incoming_form.js:377:8)\n    at MultipartParser.IncomingForm._initMultipart.parser.onEnd (/home/mackenzie/git/ether_latest/src/node_modules/formidable/lib/incoming_form.js:320:10)\n    at MultipartParser.write.callback (/home/mackenzie/git/ether_latest/src/node_modules/formidable/lib/multipart_parser.js:102:31)\n    at MultipartParser.write (/home/mackenzie/git/ether_latest/src/node_modules/formidable/lib/multipart_parser.js:259:15)\n    at IncomingForm.write (/home/mackenzie/git/ether_latest/src/node_modules/formidable/lib/incoming_form.js:139:34)\n    at IncomingMessage.<anonymous> (/home/mackenzie/git/ether_latest/src/node_modules/formidable/lib/incoming_form.js:91:12)\n    at IncomingMessage.EventEmitter.emit (events.js:93:17)\nI tested this on the develop branch, I also merged in the fix-import-error branch (606f27a0a089f2e59053127f8243821b58e247ff), it didn't fix it and didn't change the location of the error.\n. @marcelklehr Was not trying to mimic pad creation.\nI have finally gotten back to looking into this, and I haven't been able to reproduce the problem. Thanks for the rapid responses, and sorry for raising a false alarm.\n. Just loaded it, still pulled nginx page up, did ctrl+f5 (hard refresh), and it loaded etherpad correctly. I'm scratching my head. \nWhat I saw isn't happening now. I suppose no bug then.\n. ",
    "chrisballinger": "I'd like to see this as well! Is there anything actively broken or can I just comment out the v0.8 checks?\n. It looks like perhaps ueberDB just needs the pg dependency and not the root project itself. My settings.json file is customized with my deployment settings, and I'd like to avoid having to complicate my deploy by additionally installing the pg module separately after installDeps has run.\n. https://github.com/Pita/ueberDB/pull/40\n. ",
    "mmccarn": "I'm having no (more) trouble (than usual) with etherpad-lite and node 10 (but then I don't do anything very exciting with etherpad-lite). It's possible that node 10 broke my timeslider, but that didn't work on my server until recently anyway.\nIn order to update etherpad-lite from 1.2.8 to 1.2.9, I had to allow node 10 in bin/installDeps.sh.\nI changed line 47 from this:\nif [ ! $NODE_V_MINOR = \"v0.8\" ] && [ ! $NODE_V_MINOR = \"v0.6\" ]; then\nto this:\nif [ ! $NODE_V_MINOR = \"v0.10\" ] && [ ! $NODE_V_MINOR = \"v0.8\" ] && [ ! $NODE_V_MINOR = \"v0.6\" ]; then\n. No, I don't have the table plugin installed\nSent from my mobile\nOn Mar 16, 2013, at 1:13 PM, Manuel Knitza notifications@github.com wrote:\n\nYou got the table plugin installed? \n\nIt's possible that node 10 broke my timeslider, but that didn't work on my server until recently anyway.\n\u2014\nReply to this email directly or view it on GitHub.\n. \n\n",
    "diolwe": "Changing the lines bin/installDeps.sh didn't work for me. EPL threw the following errors when running bin/run.sh:\nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\nnpm WARN prefer global jshint@0.9.1 should be installed with -g\nnpm WARN unmet dependency /opt/etherpad/local/etherpad/etherpad-lite/src/node_modules/ueberDB requires async@'0.1.15' but will load\nnpm WARN unmet dependency /opt/etherpad/local/etherpad/etherpad-lite/src/node_modules/async,\nnpm WARN unmet dependency which is version 0.1.22\nwd@0.0.31 node_modules/wd\n\u251c\u2500\u2500 vargs@0.1.0\n\u251c\u2500\u2500 q@0.8.12\n\u251c\u2500\u2500 underscore@1.4.4\n\u2514\u2500\u2500 request@2.12.0\nswagger-node-express@1.2.3 node_modules/swagger-node-express\n\u2514\u2500\u2500 docco@0.4.0 (commander@1.1.1)\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\npath.js:360\n        throw new TypeError('Arguments to path.join must be strings');\n              ^\nTypeError: Arguments to path.join must be strings\n    at path.js:360:15\n    at Array.filter (native)\n    at Object.exports.join (path.js:358:36)\n    at Object.reloadSettings (/opt/etherpad/local/etherpad/etherpad-lite/src/node/utils/Settings.js:145:40)\n    at Object. (/opt/etherpad/local/etherpad/etherpad-lite/src/node/utils/Settings.js:204:9)\n    at Module._compile (module.js:456:26)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Module.require (module.js:364:17)\n. ",
    "dshadowwolf": "Testing under 0.10.2 on my personal machine - appears to have gotten stuck during initial pad load. Going to hit the \"stop\" button and try and get a generic new pad instead of a named one. Hrm... first attempt nets me a warning about a failed json parse. Killed and restarted the server process and now I seem to be stuck at load, period.\nOkay, confirmed - I can't even get to the admin pages. I'll retest if the \"features/support-node-0.10\" branch updates. So far all I'm getting is a hang - might have to do with some dependent modules claiming to not support node > 0.9... hrm - says all the bits loaded... got a prompt for a username and password this time when accessing /admin/plugins and now nothing - looks like another timeout.\nI'd make the logs of these last two runs available, but I can't seem to find much of anything that is actually useful in them. I will definitely try to keep up-to-date on this, though.\n. Looks like first request is accepted and everything works. Restarted the etherpad process and the admin page came right up, but has bits stuck on \"loading\". (ie: fetching data from server about loaded plugins and available plugins)\nAnnotated SessionStore.js a bit to get more information. None of the prints have been hit after creating a new pad. However, I did get the following as the new pad was created:\nAn error occured\nThe error was reported with the following id: '48jKd5KLUGvL2mjPKOwJ'\nPlease send this error message to us:\n'ErrorId: 48jKd5KLUGvL2mjPKOwJ\nURL: http://127.0.0.1:9001/p/testing\nUserAgent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:19.0) Gecko/20100101 Firefox/19.0\nScript error. in http://127.0.0.1:9001/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define at line 0'\nThe above error MIGHT have been caused by the load of socket.io.js returning 404 - I'm going to hit the refresh button and check the logs to see what happens... Different error-id, same apparent cause. Tried directly viewing socket.io/socket.io.js (reported path for the script) and got a page that said \"Cannot GET socket.io/socket.io.js\".  Going to go undo the modifications to SessionStore.js and give up trying to figure out what is going on for the night.\n. the problem is, apparently, somewhere in the session system - when a session existed in <install dir>/var the pad would come up and then have the error I reported. Without the session existing there it will freeze after building the session and putting it in the db. (For testing purposes I've been using dirtydb because I don't have mysql running on my laptop)\n. Tested against latest dirty git and it still doesn't work. However things work fine with mysql as long as the \"Authorname\" plugin and the \"Authorname with marks\" plugin are not active - when they are there is a json parse error.\n. Can't seem to get at a version 0.8.x of node and the version 0.6.x (installed as /usr/bin/js) shipped as a package for Ubuntu 12.10 does not run thanks to a version requirement in a dependent package. So yes, I'll try as soon as I get a v0.10 of node built on my laptop\n. tested features/support-node-0.10 branch - seems to break at page-load. I'm going to see if one of the noted bits from the commentary on #1623 helps out.\n. Have updated running code to df8a31f2 of 'develop' - issue still exists. Next step is to add some logging via FireBug and see where the resize triggers.\n. I'm wondering if it might be one of the plugins I've turned on, since the problem does not seem to exist on http://beta.etherpad.org.\nBut for an example of the problem, open a full-height (sticky) chat window on any pad on my server - http://shades.keil-draco.com:9001/ and start typing some text into the chat input box. I've tried Chrome and Firefox and the issue happens with both. I'm going to try turning off plugins one at a time to see if it is a plugin causing the issue. But from what I have seen, it changes the CSS of the one element so it goes from 'width: 100%' to 'width: 50%'. \n. ",
    "timmmmyboy": "I can access that URL in the browser and interestingly enough when I\nran the service as root and went to the site now it worked. I was doing\nthat to get a better readout of the error in the terminal but it was\nsuccessful. Just tried again as a service and it loads the page. Now I'm\nreally confused. Maybe after I cleared the memory cache yesterday I\nhadn't tried running it as root again? Does the plugin list get cached\nonce it pulls the full list for the first time? \n. Yesterday after installing etherpad when I would run the service\nboth as root and as a service it would crash. The crash indicated that\nthe memory was being exhausted and when looking at top the memory looked\nlow, however most of that is buffered as disk cache. So I ran echo 3 >\n/proc/sys/vm/drop_caches to clear the cache (although my basic\nunderstanding of unix is that services are still supposed to take\npriority over buffered memory). Even after clearing the cache the\nservice would still crash. This morning I kept trying and the crash was\nstill occurring and with the memory being ruled out I submitted this\nissue. But then about 5 minutes ago I decided to try running it as root\nagain instead of a service and instead of getting an error it pulled in\nthe list. So I'm not entirely sure but the best I can think is perhaps I\nhad to run as root the very first time, but clear out the memory buffer\nfirst and it's possible I was only trying as a service with the regular\nuser after clearing that memory. \n. ",
    "JasonLocklin": "In case anyone is struggling with this I just want to leave this hint here (even though its strictly a npm issue):\nI had this issue, even while just running \"npm search\" from the command line. My virtual machine only had 256mb of ram (but lots of swap), but when I bumped it up to a gig, it started working. It seems npm just crashes on memory limited systems. See: https://github.com/isaacs/npm/issues/3867\n. ",
    "s7726": "sudo yum install npm\nnpm search test\nRunning those commands solved this issue for me. The plugins screen in etherpad now loads and doesn't crash etherpad.\n. ",
    "loadavg": "yes its a npm issue - i had to turn swap on on my system to get it to work otherwise it dies... good tutorial here for enabling swap\nhttps://www.digitalocean.com/community/tutorials/how-to-add-swap-on-centos-6\n. well i am using the latest from head grabbed yesterday and everything works fine but if i install these plugins etherpad starts up but doesnt get past loading the plugins and hangs :\nnpm install ep_headings ep_font_color ep_font_family ep_font_size ep_superscript ep_subscript\nwhen i uninstall them it works fine... page_view works fine however\n[2014-07-06 09:09:37.860] [INFO] console - Installed plugins: ep_etherpad-lite, ep_page_view\n[2014-07-06 09:09:37.898] [INFO] console - Your Etherpad git version is 03ead38\n[2014-07-06 09:09:37.898] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2014-07-06 09:09:37.944] [INFO] console -    info  - 'socket.io started'\n[2014-07-06 09:09:37.993] [INFO] console - You can access your Etherpad instance at http://0.0.0.0:9001/\n[2014-07-06 09:09:37.993] [INFO] console - The plugin admin page is at http://0.0.0.0:9001/admin/plugins\n[2014-07-06 09:09:39.308] [INFO] ueberDB - Flushed 1 values\n. from further checking the ep_page_view is the only one that works using git head... all others on this page lock etherpad up\nhttp://mclear.co.uk/2014/01/04/top-10-etherpad-plugins-2014/\n. tried to change to develop but seems i am already there\n[root@xxx etherpad-lite]# git checkout develop\nAlready on 'develop'\nso how can I get the plugins to run ?\n. tried to go install via the admin and that also crashes:\n[2014-07-06 09:24:30.589] [INFO] console - Installed plugins: ep_etherpad-lite, ep_page_view\n[2014-07-06 09:24:30.628] [INFO] console - Your Etherpad git version is 03ead38\n[2014-07-06 09:24:30.629] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2014-07-06 09:24:30.682] [INFO] console -    info  - 'socket.io started'\n[2014-07-06 09:24:30.738] [INFO] console - You can access your Etherpad instance at http://0.0.0.0:9001/\n[2014-07-06 09:24:30.739] [INFO] console - The plugin admin page is at http://0.0.0.0:9001/admin/plugins\n[2014-07-06 09:24:34.101] [INFO] socket.io - handshake authorized 'BrJmVAUAtpme6Mw32Ola'\n[2014-07-06 09:24:39.186] [INFO] ueberDB - Flushed 1 values\n[2014-07-06 09:24:40.604] [INFO] socket.io - handshake authorized 'DG7WmW0H0Ge3TIGB2Olb'\nnpm WARN Building the local index for the first time, please be patient\nnpm WARN Building the local index for the first time, please be patient\nnpm WARN Building the local index for the first time, please be patient\n[2014-07-06 09:25:54.715] [INFO] socket.io - transport end (close timeout)\n./etherpad-lite/bin/run.sh: line 38:  2348 Killed                  node $SCRIPTPATH/node_modules/ep_etherpad-lite/node/server.js $*\n[etherpad@editopia ~]$ \n. added a swap file on my box and now we die with the following error when building search index:\nnpm WARN Building the local index for the first time, please be patient\n[2014-07-06 09:46:29.159] [ERROR] console - RangeError: Invalid array length\n    at /home/etherpad/etherpad-lite/src/node_modules/npm/node_modules/npm-registry-client/lib/get.js:97:15\n    at Array.forEach (native)\n    at /home/etherpad/etherpad-lite/src/node_modules/npm/node_modules/npm-registry-client/lib/get.js:96:26\n    at cb (/home/etherpad/etherpad-lite/src/node_modules/npm/node_modules/npm-registry-client/lib/request.js:57:9)\n    at RegClient. (/home/etherpad/etherpad-lite/src/node_modules/npm/node_modules/npm-registry-client/lib/request.js:133:16)\n    at cb (/home/etherpad/etherpad-lite/src/node_modules/npm/node_modules/npm-registry-client/lib/request.js:158:9)\n    at RegClient. (/home/etherpad/etherpad-lite/src/node_modules/npm/node_modules/npm-registry-client/lib/request.js:312:12)\n    at Request._callback (/home/etherpad/etherpad-lite/src/node_modules/npm/node_modules/npm-registry-client/lib/request.js:238:65)\n    at Request.self.callback (/home/etherpad/etherpad-lite/src/node_modules/npm/node_modules/request/request.js:123:22)\n    at Request.emit (events.js:98:17)\n[2014-07-06 09:46:29.160] [INFO] console - graceful shutdown...\n[2014-07-06 09:46:29.161] [INFO] console - db sucessfully closed.\n. ",
    "frdmn": "@marcelklehr thanks for letting me know. :)\n\u2014\nSent from Mailbox for iPhone\nOn Mon, Mar 18, 2013 at 12:54 PM, Marcel Klehr notifications@github.com\nwrote:\n\nAs stated on the blog, we're aware of problems with import \nfunctionality.. still, thanks for reporting this!\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/issues/1639#issuecomment-15050903\n. Yes. Please!\n. @marcelklehr doesn't work for me :/\n\nStill the same error message as soon as i hit the import button:\n[2013-03-19 07:56:48.712] [INFO] access - [CREATE] Pad \"asdssss\": Client Croyn0h81RhEFZMHbyR7 with IP \"192.168.1.114\" created the pad\n[2013-03-19 07:56:48.779] [INFO] ueberDB - Flushed 5 values\n[2013-03-19 07:56:48.802] [INFO] http - 307, GET /javascripts/lib/ep_etherpad-lite/static/js/pluginfw/hooks?callback=require.define\n[2013-03-19 07:56:48.873] [INFO] http - 307, GET /javascripts/lib/ep_etherpad-lite/static/js/ace2_inner?callback=require.define\n[2013-03-19 07:56:48.879] [INFO] ueberDB - Flushed 1 values\n[2013-03-19 07:56:59.330] [WARN] console - Uploading Error: Error: MultipartParser.end(): stream ended unexpectedly: state = START\n    at MultipartParser.end (/usr/share/etherpad.bak/src/node_modules/formidable/lib/multipart_parser.js:306:12)\n    at IncomingMessage.IncomingForm.parse.fields (/usr/share/etherpad.bak/src/node_modules/formidable/lib/incoming_form.js:98:30)\n    at IncomingMessage.EventEmitter.emit (events.js:115:20)\n    at IncomingMessage._emitEnd (http.js:366:10)\n    at IncomingMessage._emitPending (http.js:338:16)\n    at process.startup.processNextTick.process._tickCallback (node.js:244:9)\n. Well, i will clone reinstall it for you: Here's what i type:\n```\nroot@jabber:/usr/share# git clone git://github.com/ether/etherpad-lite.git\nCloning into etherpad-lite...\nremote: Counting objects: 16547, done.\nremote: Compressing objects: 100% (5127/5127), done.\nremote: Total 16547 (delta 11884), reused 15631 (delta 11100)\nReceiving objects: 100% (16547/16547), 4.33 MiB | 3.63 MiB/s, done.\nResolving deltas: 100% (11884/11884), done.\nroot@jabber:/usr/share# chown -R etherpad:www-data etherpad-lite/\nroot@jabber:/usr/share# chmod -R 775 etherpad-lite/\ntechnik@jabber:~$ su - etherpad\netherpad@jabber:~$ cd /usr/share/etherpad-lite/\netherpad@jabber:/usr/share/etherpad-lite$ bin/run.sh\nCopy the settings template to settings.json...\nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\nnpm WARN prefer global npm@1.1.71 should be installed with -g\n\npg@0.14.1 install /usr/share/etherpad-lite/src/node_modules/ueberDB/node_modules/pg\nnode-gyp rebuild || (exit 0)\n\n/bin/sh: pg_config: not found\nTraceback (most recent call last):\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp_addon\", line 38, in \n    rc = gyp.main(gyp_args)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/init.py\", line 471, in main\n    options.circular_check)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/init.py\", line 111, in Load\n    depth, generator_input_info, check, circular_check)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 2289, in Load\n    depth, check)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 387, in LoadTargetBuildFile\n    build_file_path)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 1010, in ProcessVariablesAndConditionsInDict\n    build_file)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 1025, in ProcessVariablesAndConditionsInList\n    ProcessVariablesAndConditionsInDict(item, is_late, variables, build_file)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 984, in ProcessVariablesAndConditionsInDict\n    ProcessConditionsInDict(the_dict, is_late, variables, build_file)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 861, in ProcessConditionsInDict\n    variables, build_file)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 1010, in ProcessVariablesAndConditionsInDict\n    build_file)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 1029, in ProcessVariablesAndConditionsInList\n    expanded = ExpandVariables(item, is_late, variables, build_file)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 696, in ExpandVariables\n    (contents, p.returncode))\nException: Call to 'pg_config --libdir' returned exit status 127. while trying to load binding.gyp\ngyp ERR! rebuild error Error: gyp_addon failed with exit code: 1\ngyp ERR! rebuild error     at ChildProcess.onCpExit (/usr/lib/node_modules/npm/node_modules/node-gyp/lib/configure.js:280:16)\ngyp ERR! rebuild error     at ChildProcess.EventEmitter.emit (events.js:91:17)\ngyp ERR! rebuild error     at Process._handle.onexit (child_process.js:674:10)\ngyp ERR! not ok\n\nws@0.4.25 install /usr/share/etherpad-lite/src/node_modules/socket.io/node_modules/socket.io-client/node_modules/ws\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nsecurity@1.0.0 node_modules/security\nasync-stacktrace@0.0.2 node_modules/async-stacktrace\ntinycon@0.0.1 node_modules/tinycon\nasync@0.1.22 node_modules/async\nresolve@0.2.8 node_modules/resolve\nejs@0.6.1 node_modules/ejs\nrequire-kernel@1.0.5 node_modules/require-kernel\nlanguages4translatewiki@0.1.3 node_modules/languages4translatewiki\nunorm@1.0.0 node_modules/unorm\nformidable@1.0.9 node_modules/formidable\nslide@1.1.3 node_modules/slide\nrequest@2.9.100 node_modules/request\nunderscore@1.3.1 node_modules/underscore\nyajsml@1.1.6 node_modules/yajsml\nsemver@1.0.13 node_modules/semver\nuglify-js@1.2.5 node_modules/uglify-js\nnpm@1.1.71 node_modules/npm\njsdom-nocontextifiy@0.2.10 node_modules/jsdom-nocontextifiy\n\u251c\u2500\u2500 cssom@0.2.5\n\u2514\u2500\u2500 htmlparser@1.7.6\nlog4js@0.5.7 node_modules/log4js\n\u251c\u2500\u2500 dequeue@1.0.3\n\u2514\u2500\u2500 async@0.1.15\nwd@0.0.31 node_modules/wd\n\u251c\u2500\u2500 vargs@0.1.0\n\u251c\u2500\u2500 q@0.8.12\n\u251c\u2500\u2500 underscore@1.4.4\n\u2514\u2500\u2500 request@2.12.0\ngraceful-fs@1.1.5 node_modules/graceful-fs\n\u2514\u2500\u2500 fast-list@1.0.2\nclean-css@0.3.2 node_modules/clean-css\n\u2514\u2500\u2500 optimist@0.1.9\nnpm-registry-client@0.2.10 node_modules/npm-registry-client\n\u251c\u2500\u2500 chownr@0.0.1\n\u251c\u2500\u2500 graceful-fs@1.1.14\n\u251c\u2500\u2500 rimraf@2.0.3\n\u251c\u2500\u2500 retry@0.6.0\n\u251c\u2500\u2500 mkdirp@0.3.5\n\u251c\u2500\u2500 couch-login@0.1.15\n\u251c\u2500\u2500 request@2.9.203\n\u251c\u2500\u2500 semver@1.1.4\n\u2514\u2500\u2500 npmlog@0.0.2 (ansi@0.1.2)\nswagger-node-express@1.2.3 node_modules/swagger-node-express\n\u2514\u2500\u2500 docco@0.4.0 (commander@1.1.1)\nconnect@2.4.6 node_modules/connect\n\u251c\u2500\u2500 fresh@0.1.0\n\u251c\u2500\u2500 pause@0.0.1\n\u251c\u2500\u2500 bytes@0.1.0\n\u251c\u2500\u2500 cookie@0.0.4\n\u251c\u2500\u2500 crc@0.2.0\n\u251c\u2500\u2500 debug@0.7.2\n\u251c\u2500\u2500 formidable@1.0.11\n\u251c\u2500\u2500 qs@0.5.1\n\u2514\u2500\u2500 send@0.0.4 (range-parser@0.0.4, mime@1.2.6)\nexpress@3.1.0 node_modules/express\n\u251c\u2500\u2500 methods@0.0.1\n\u251c\u2500\u2500 fresh@0.1.0\n\u251c\u2500\u2500 range-parser@0.0.4\n\u251c\u2500\u2500 cookie-signature@0.0.1\n\u251c\u2500\u2500 buffer-crc32@0.1.1\n\u251c\u2500\u2500 cookie@0.0.5\n\u251c\u2500\u2500 debug@0.7.2\n\u251c\u2500\u2500 commander@0.6.1\n\u251c\u2500\u2500 mkdirp@0.3.3\n\u251c\u2500\u2500 connect@2.7.2 (pause@0.0.1, bytes@0.1.0, formidable@1.0.11, qs@0.5.1)\n\u2514\u2500\u2500 send@0.1.0 (mime@1.2.6)\nsocket.io@0.9.13 node_modules/socket.io\n\u251c\u2500\u2500 base64id@0.1.0\n\u251c\u2500\u2500 policyfile@0.0.4\n\u251c\u2500\u2500 redis@0.7.3\n\u2514\u2500\u2500 socket.io-client@0.9.11 (xmlhttprequest@1.4.2, active-x-obfuscator@0.0.1, ws@0.4.25)\nueberDB@0.1.95 node_modules/ueberDB\n\u251c\u2500\u2500 channels@0.0.2\n\u251c\u2500\u2500 node-redis@0.1.5\n\u251c\u2500\u2500 dirty@0.9.6\n\u251c\u2500\u2500 async@0.1.15\n\u251c\u2500\u2500 pg@0.14.1 (deprecate@0.1.0, generic-pool@2.0.3)\n\u2514\u2500\u2500 mysql@0.9.5 (hashish@0.0.4)\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2013-03-19 14:09:13.170] [WARN] console - You need to set a sessionKey value in settings.json, this will allow your users to reconnect to your     Etherpad Instance if your instance restarts\n[2013-03-19 14:09:13.170] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production.\n[2013-03-19 14:09:14.224] [INFO] console - Installed plugins: ep_etherpad-lite\n[2013-03-19 14:09:14.263] [INFO] console - Your Etherpad Lite git version is 07adb45\n[2013-03-19 14:09:14.263] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2013-03-19 14:09:14.302] [INFO] console -    info  - 'socket.io started'\n[2013-03-19 14:09:14.449] [INFO] console - You can access your Etherpad-Lite instance at http://0.0.0.0:9001/\n```\n. @JohnMcLear Not sure what do you mean? Did i done something wrong?\n. @JohnMcLear don't you just rename the output folder of your cloned repo with that? So instead of \"ethernet-lite\" its called \"develop\"? Isn't the \"clone -b \" switch to clone a specific branch?\n. I just cloned the normal way and the way you told me, made a diff, here's the result:\nroot@etherpad:/tmp# mkdir test\nroot@etherpad:/tmp# cd test/\nroot@etherpad:/tmp/test# git clone git://github.com/ether/etherpad-lite.git develop\nCloning into develop...\nremote: Counting objects: 16547, done.\nremote: Compressing objects: 100% (5127/5127), done.\nremote: Total 16547 (delta 11884), reused 15631 (delta 11100)\nReceiving objects: 100% (16547/16547), 4.33 MiB | 3.87 MiB/s, done.\nResolving deltas: 100% (11884/11884), done.\nroot@etherpad:/tmp/test# git clone git://github.com/ether/etherpad-lite.git\nCloning into etherpad-lite...\nremote: Counting objects: 16547, done.\nremote: Compressing objects: 100% (5127/5127), done.\nremote: Total 16547 (delta 11884), reused 15631 (delta 11100)\nReceiving objects: 100% (16547/16547), 4.33 MiB | 1.44 MiB/s, done.\nResolving deltas: 100% (11884/11884), done.\nroot@etherpad:/tmp/test# diff etherpad-lite develop\nGemeinsame Unterverzeichnisse: etherpad-lite/bin und develop/bin.\nGemeinsame Unterverzeichnisse: etherpad-lite/doc und develop/doc.\nGemeinsame Unterverzeichnisse: etherpad-lite/.git und develop/.git.\nGemeinsame Unterverzeichnisse: etherpad-lite/src und develop/src.\nGemeinsame Unterverzeichnisse: etherpad-lite/tests und develop/tests.\nGemeinsame Unterverzeichnisse: etherpad-lite/tools und develop/tools.\nGemeinsame Unterverzeichnisse: etherpad-lite/var und develop/var.\nroot@etherpad:/tmp/test#\n. root@etherpad:/tmp/test/develop# git checkout develop\nAlready on 'develop'\n:/\n. Here's my session transcript, again:\n```\netherpad@etherpad:~$ git clone -b develop git://github.com/ether/etherpad-lite.git\nCloning into etherpad-lite...\nremote: Counting objects: 16547, done.\nremote: Compressing objects: 100% (5127/5127), done.\nremote: Total 16547 (delta 11884), reused 15631 (delta 11100)\nReceiving objects: 100% (16547/16547), 4.33 MiB | 3.86 MiB/s, done.\nResolving deltas: 100% (11884/11884), done.\netherpad@etherpad:~$ cd etherpad-lite/\netherpad@etherpad:~/etherpad-lite$ bin/run.sh\nCopy the settings template to settings.json...\nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\nnpm WARN prefer global npm@1.1.71 should be installed with -g\n\npg@0.14.1 install /home/etherpad/etherpad-lite/src/node_modules/ueberDB/node_modules/pg\nnode-gyp rebuild || (exit 0)\n\n/bin/sh: pg_config: not found\nTraceback (most recent call last):\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp_addon\", line 38, in \n    rc = gyp.main(gyp_args)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/init.py\", line 471, in main\n    options.circular_check)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/init.py\", line 111, in Load\n    depth, generator_input_info, check, circular_check)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 2289, in Load\n    depth, check)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 387, in LoadTargetBuildFile\n    build_file_path)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 1010, in ProcessVariablesAndConditionsInDict\n    build_file)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 1025, in ProcessVariablesAndConditionsInList\n    ProcessVariablesAndConditionsInDict(item, is_late, variables, build_file)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 984, in ProcessVariablesAndConditionsInDict\n    ProcessConditionsInDict(the_dict, is_late, variables, build_file)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 861, in ProcessConditionsInDict\n    variables, build_file)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 1010, in ProcessVariablesAndConditionsInDict\n    build_file)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 1029, in ProcessVariablesAndConditionsInList\n    expanded = ExpandVariables(item, is_late, variables, build_file)\n  File \"/home/etherpad/.node-gyp/0.8.1/tools/gyp/pylib/gyp/input.py\", line 696, in ExpandVariables\n    (contents, p.returncode))\nException: Call to 'pg_config --libdir' returned exit status 127. while trying to load binding.gyp\ngyp ERR! rebuild error Error: gyp_addon failed with exit code: 1\ngyp ERR! rebuild error     at ChildProcess.onCpExit (/usr/lib/node_modules/npm/node_modules/node-gyp/lib/configure.js:280:16)\ngyp ERR! rebuild error     at ChildProcess.EventEmitter.emit (events.js:91:17)\ngyp ERR! rebuild error     at Process._handle.onexit (child_process.js:674:10)\ngyp ERR! not ok\n\nws@0.4.25 install /home/etherpad/etherpad-lite/src/node_modules/socket.io/node_modules/socket.io-client/node_modules/ws\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nsecurity@1.0.0 node_modules/security\nasync-stacktrace@0.0.2 node_modules/async-stacktrace\ntinycon@0.0.1 node_modules/tinycon\nasync@0.1.22 node_modules/async\nresolve@0.2.8 node_modules/resolve\nejs@0.6.1 node_modules/ejs\nrequire-kernel@1.0.5 node_modules/require-kernel\nlanguages4translatewiki@0.1.3 node_modules/languages4translatewiki\nunorm@1.0.0 node_modules/unorm\nformidable@1.0.9 node_modules/formidable\nslide@1.1.3 node_modules/slide\nrequest@2.9.100 node_modules/request\nunderscore@1.3.1 node_modules/underscore\nyajsml@1.1.6 node_modules/yajsml\nsemver@1.0.13 node_modules/semver\nuglify-js@1.2.5 node_modules/uglify-js\nnpm@1.1.71 node_modules/npm\ngraceful-fs@1.1.5 node_modules/graceful-fs\n\u2514\u2500\u2500 fast-list@1.0.2\nlog4js@0.5.7 node_modules/log4js\n\u251c\u2500\u2500 dequeue@1.0.3\n\u2514\u2500\u2500 async@0.1.15\nclean-css@0.3.2 node_modules/clean-css\n\u2514\u2500\u2500 optimist@0.1.9\njsdom-nocontextifiy@0.2.10 node_modules/jsdom-nocontextifiy\n\u251c\u2500\u2500 cssom@0.2.5\n\u2514\u2500\u2500 htmlparser@1.7.6\nwd@0.0.31 node_modules/wd\n\u251c\u2500\u2500 vargs@0.1.0\n\u251c\u2500\u2500 q@0.8.12\n\u251c\u2500\u2500 underscore@1.4.4\n\u2514\u2500\u2500 request@2.12.0\nnpm-registry-client@0.2.10 node_modules/npm-registry-client\n\u251c\u2500\u2500 chownr@0.0.1\n\u251c\u2500\u2500 graceful-fs@1.1.14\n\u251c\u2500\u2500 rimraf@2.0.3\n\u251c\u2500\u2500 retry@0.6.0\n\u251c\u2500\u2500 mkdirp@0.3.5\n\u251c\u2500\u2500 couch-login@0.1.15\n\u251c\u2500\u2500 request@2.9.203\n\u251c\u2500\u2500 semver@1.1.4\n\u2514\u2500\u2500 npmlog@0.0.2 (ansi@0.1.2)\nconnect@2.4.6 node_modules/connect\n\u251c\u2500\u2500 fresh@0.1.0\n\u251c\u2500\u2500 pause@0.0.1\n\u251c\u2500\u2500 bytes@0.1.0\n\u251c\u2500\u2500 cookie@0.0.4\n\u251c\u2500\u2500 crc@0.2.0\n\u251c\u2500\u2500 debug@0.7.2\n\u251c\u2500\u2500 formidable@1.0.11\n\u251c\u2500\u2500 qs@0.5.1\n\u2514\u2500\u2500 send@0.0.4 (range-parser@0.0.4, mime@1.2.6)\nexpress@3.1.0 node_modules/express\n\u251c\u2500\u2500 methods@0.0.1\n\u251c\u2500\u2500 fresh@0.1.0\n\u251c\u2500\u2500 range-parser@0.0.4\n\u251c\u2500\u2500 cookie-signature@0.0.1\n\u251c\u2500\u2500 buffer-crc32@0.1.1\n\u251c\u2500\u2500 cookie@0.0.5\n\u251c\u2500\u2500 debug@0.7.2\n\u251c\u2500\u2500 commander@0.6.1\n\u251c\u2500\u2500 mkdirp@0.3.3\n\u251c\u2500\u2500 send@0.1.0 (mime@1.2.6)\n\u2514\u2500\u2500 connect@2.7.2 (pause@0.0.1, bytes@0.1.0, formidable@1.0.11, qs@0.5.1)\nswagger-node-express@1.2.3 node_modules/swagger-node-express\n\u2514\u2500\u2500 docco@0.4.0 (commander@1.1.1)\nsocket.io@0.9.13 node_modules/socket.io\n\u251c\u2500\u2500 base64id@0.1.0\n\u251c\u2500\u2500 policyfile@0.0.4\n\u251c\u2500\u2500 redis@0.7.3\n\u2514\u2500\u2500 socket.io-client@0.9.11 (xmlhttprequest@1.4.2, active-x-obfuscator@0.0.1, ws@0.4.25)\nueberDB@0.1.95 node_modules/ueberDB\n\u251c\u2500\u2500 channels@0.0.2\n\u251c\u2500\u2500 node-redis@0.1.5\n\u251c\u2500\u2500 dirty@0.9.6\n\u251c\u2500\u2500 async@0.1.15\n\u251c\u2500\u2500 pg@0.14.1 (deprecate@0.1.0, generic-pool@2.0.3)\n\u2514\u2500\u2500 mysql@0.9.5 (hashish@0.0.4)\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2013-03-19 15:26:43.289] [WARN] console - You need to set a sessionKey value in settings.json, this will allow your users to     reconnect to your Etherpad Instance if your instance restarts\n[2013-03-19 15:26:43.291] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production.\n[2013-03-19 15:26:44.074] [INFO] console - Installed plugins: ep_etherpad-lite\n[2013-03-19 15:26:44.109] [INFO] console - Your Etherpad Lite git version is 07adb45\n[2013-03-19 15:26:44.109] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2013-03-19 15:26:44.149] [INFO] console -    info  - 'socket.io started'\n[2013-03-19 15:26:44.301] [INFO] console - You can access your Etherpad-Lite instance at http://0.0.0.0:9001/\n[2013-03-19 15:26:44.301] [WARN] console - Admin username and password not set in settings.json.  To access admin please uncomment     and edit 'users' in settings.json\n[2013-03-19 15:26:50.069] [INFO] http - 404, GET /asdasdasd\n[2013-03-19 15:26:54.777] [INFO] http - 304, GET /\n[2013-03-19 15:26:54.825] [INFO] http - 200, GET /static/custom/index.js\n[2013-03-19 15:26:54.825] [INFO] http - 200, GET /static/custom/index.css\n[2013-03-19 15:26:54.863] [INFO] http - 304, GET /locales.json\n[2013-03-19 15:26:54.876] [INFO] http - 304, GET /locales/de.json\n[2013-03-19 15:26:56.882] [INFO] http - 200, GET /p/asdasdyxcxc\n[2013-03-19 15:26:57.863] [INFO] http - 200, GET /pluginfw/plugin-definitions.json\n[2013-03-19 15:26:57.873] [INFO] http - 307, GET /javascripts/lib/ep_etherpad-lite/static/js/colorutils?callback=require.define\n[2013-03-19 15:26:57.904] [INFO] http - 304, GET /locales.json\n[2013-03-19 15:26:57.959] [INFO] http - 304, GET /locales/de.json\n[2013-03-19 15:26:57.965] [INFO] socket.io - handshake authorized 'FCBcUiExyLjOv6WnC4k2'\n[2013-03-19 15:26:58.136] [INFO] access - [CREATE] Pad \"asdasdyxcxc\": Client FCBcUiExyLjOv6WnC4k2 with IP \"127.0.0.1\" created the pad\n[2013-03-19 15:26:58.223] [INFO] http - 307, GET /javascripts/lib/ep_etherpad-lite/static/js/pluginfw/hooks?callback=require.define\n[2013-03-19 15:26:58.294] [INFO] http - 307, GET /javascripts/lib/ep_etherpad-lite/static/js/ace2_inner?callback=require.define\n[2013-03-19 15:27:03.331] [ERROR] console - TypeError: Object [ null ] has no method 'getAttribute'\n    at Object.domInterface.nodeAttr (/home/etherpad/etherpad-lite/src/static/js/contentcollector.js:69:16)\n    at Object.cc.collectContent (/home/etherpad/etherpad-lite/src/static/js/contentcollector.js:378:23)\n    at Object.setPadHTML (/home/etherpad/etherpad-lite/src/node/utils/ImportHtml.js:41:6)\n    at exports.doImport.async.series.fileExists (/home/etherpad/etherpad-lite/src/node/handler/ImportHandler.js:145:20)\n    at async.series.results (/home/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:486:21)\n    at _asyncMap (/home/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:185:13)\n    at async.forEachSeries.iterate (/home/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:108:13)\n    at async.forEachSeries.iterate (/home/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:119:25)\n    at _asyncMap (/home/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:187:17)\n    at async.series.results (/home/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:491:34)\n[2013-03-19 15:27:03.331] [INFO] console - graceful shutdown...\n[2013-03-19 15:27:03.331] [INFO] console - db sucessfully closed.\n```\n. @JohnMcLear Yeah! It worked. At least the import of the document... There is still the error message \"Import failed - use copy and paste\". But the import apparently succeeded.\n. ",
    "quenenni": "I created a new issue here: https://github.com/joyent/node/issues/5121\n@redhog \nTo answer to what you said.\nThe ep_heading plugin that put a dropdown list in the menu.\nWhen I copied (not moved) the plugin from inside the ep_slideshow plugin into the EPL node_modules dir, I still had only 1 dropdown list.\nI don't know how it managed it, but that's what I had.\n. Hmm.. What exactly did you say.\nYour post before last is not really clear (TLDR?). It does seem to have been cut when sent (or not..).\nBut, as I say on the \"Issue #5121: peer-dependencies problems \" , I don't have the problems anymore as I install dependencies plugins before the plugins.\nIn that case, they work directly (and the dependencies plugins are not installed a second time).\nIt's only when you install a plugin that itself install another plugin.\n. npm install inside the ep_slideshow dir doesn't do anything and nothing in the npm-debug.log\n. No. I removed all the plugins to test that. \nThe purpose is to see is npm will install the plugin ep_headings in the node_modules dir of EPL or node_modules dir inside ep_slideshow dir.\n(as etherpad user or root user) \nnpm install node_modules/ep_slideshow/\n```\nnpm ERR! git Appears to be a git repo or submodule.\nnpm ERR! git     /home/etherpad/etherpad-lite/node_modules/ep_slideshow\nnpm ERR! git Refusing to remove it. Update manually,\nnpm ERR! git or move it out of the way first.\nnpm ERR! System Linux 2.6.38.2-grsec-xxxx-grs-ipv6-64\nnpm ERR! command \"/usr/local/bin/node\" \"/usr/local/bin/npm\" \"install\" \"node_modules/ep_slideshow/\"\nnpm ERR! cwd /home/etherpad/etherpad-lite\nnpm ERR! node -v v0.8.11\nnpm ERR! npm -v 1.1.62\nnpm ERR! path /home/etherpad/etherpad-lite/node_modules/ep_slideshow\nnpm ERR! code EISGIT\nnpm ERR! Error: EACCES, open 'npm-debug.log'\nnpm ERR!  { [Error: EACCES, open 'npm-debug.log'] errno: 3, code: 'EACCES', path: 'npm-debug.log' }\nnpm ERR! \nnpm ERR! Please try running this command again as root/Administrator.\nnpm ERR! System Linux 2.6.38.2-grsec-xxxx-grs-ipv6-64\nnpm ERR! command \"/usr/local/bin/node\" \"/usr/local/bin/npm\" \"install\" \"node_modules/ep_slideshow/\"\nnpm ERR! cwd /home/etherpad/etherpad-lite\nnpm ERR! node -v v0.8.11\nnpm ERR! npm -v 1.1.62\nnpm ERR! path npm-debug.log\nnpm ERR! code EACCES\nnpm ERR! errno 3\nnpm ERR! stack Error: EACCES, open 'npm-debug.log'\nnpm ERR! \nnpm ERR! Additional logging details can be found in:\nnpm ERR!     /home/etherpad/etherpad-lite/npm-debug.log\nnpm ERR! not ok code 0\n```\nAfter having removed the .git folder, inside ep_slideshow dir\nnpm install (doeas nothing)\nand from EPL root dir:\nnpm install node_modules/ep_slideshow/\nep_slideshow@0.1.9 node_modules/ep_slideshow\n(just that sentence, but nothing installed)\n. No need for a) as if you install first the dependencies then the plugin, it works well (the dependencies won't be installed inside the plugin node_modules dir)\nBut but.. I found a way..\ncd EPL_root_dir\nrm -Rf ../.npm/ep_slideshow\ncd node_modules\ngit clone the_repo\nvim ep_slideshow/package.json (change dependencies by peerDependencies)\ncd ..\nnpm install node_modules/ep_slideshow\n... text telling you it went wrong...\n(but it copied the plugin in ../.npm with the modified package.json)\nrm -Rf node_modules/ep_slideshow\nnpm install ep_slideshow\n(this installation get the plugin package from ../.npm and so with the packages.json with 'peerDependencies)\nConclusion:\nep_slideshow works directly\nep_headings is installed as a dependency, but is not active in EPL (no heading dropdown list)\nep_headings is not anymore listed as an installed plugin in the plugin page.\nEverything's perfect except, in the case of this plugin, in order to use it, you need to have the heading dropdown list.\nSo, peerDependencies is the way to go in general.\nFor ep_slideshow plugin, you'd better say in the description that the users must installed ep_headings first.\n. Ok guys..\nIt seems the best way is for you all to be in the same room and discuss the matter in order to find a solution because @domenic & @Isaacs are not sure the problem comes from npm.\nAnd for my part, I don't know what to think. It's too far for my current understanding. I'm merely playing with plugins. Sorry\n. I noticed too that when having installed or updated a plugin, I have to restart myself the server.\nIf not, I receive errors on pads load.\n. More debugging infos..\nWhen a new plugin is installed, something is restarted (express server??)\n[INFO] console - ep_syntaxhighlighting@0.1.4 node_modules/ep_syntaxhighlighting\n[INFO] console - Restarting express server\n[INFO] console - info: 'socket.io started'\nThen, when loading a pad, there are 2 times the same Js error:\n```\nTypeError: pad.collabClient is null\npad.collabClient.setChannelState(\"CONNECTED\");\nhttp://SERVER/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define (line 232)\n```\n. I don't have postgreSQL installed.\nMy EPL works fine.\n. I \"git pull\" my EPL.\nI removed all the plugins.\n- With browser preferred languages set to fr-fr (first) and fr (second), I have this js error on pad load:\n```\nError: Couldn't find translations for fr-FR\ncb(new Error('Couldn\\'t find translations for '+lang))\nhttp://SERVER/static/js/html10n.js (line 138)\n```\n- If only fr, no error\n- If en-gb (first) and en (second):\n```\nError: Couldn't find translations for en-GB\ncb(new Error('Couldn\\'t find translations for '+lang))\nhttp://SERVER/static/js/html10n.js (line 138)\n```\n- If only en, no error\n. But, with fr-fr as first language, my pad is now in french.\n. It generates a problem with jquery functions.\nBecause of it, \u00e0\n$('.ep_email_settings').slideToggle();\nmakes it going down and up (instead of just going down) the first time it is called.\nYour code throws an error. Isn't there a way to throw a warn or an info instead of an error?\n. Hmmm...\nI changed and tested with console.log, then console.info, then console.error, then came back to console.warn and the problem isn't there anymore.\nI don't understand what's happening, but I guess we can say that the problem isn't one.\nSorry for the cold sweats\n. Well well well..\nIt was in fact my fault.\nI discovered that when several emails are subscribed to the same pad for the same authorId, the server send back several times the data and each time, slideToggle is called.\nIn my case, 2 emails subscribed, so I let you imagine the rest.\nSorry.\nCase closed.\n. This idea is very good. \nI'll look into that asap if no one else wants to do it . \nBut, unfortunately, for the next days (few weeks max), I have to work on another application and I won't be able to start new things with EPL..\n. use ep_tables2 (https://github.com/quenenni/ep_tables2).\nI fixed and improved it.\n. Damned... You are right.. :)\nIt's a plugin I'm presently trying to fix: 'ep_tables'\nI just discovered that I couldn't make it multi-language (i12n). \nNormally, the system to use locales is quite simple, but I have errors when I try this.\nI think the cause may be the use of the Yahoo Js libraries in the plugin.\nAnd maybe this problem with the cursor is also because of these yahoo libraries.\nDamned..\nAnyway, this issue can be close.\nSorry for the fright.\n. Sorry to come back to this problem, but it seems something is wrong with your change.\nI found that the problem comes from this hook:\nexports.aceStartLineAndCharForPoint = function (hook, context) {\nIn this function, the context doesn't have the right values for rep.selStart and rep.selEnd.\nBefore your change, I had:\ncontext.rep.selStart: array[2]\n  0: 8\n  1: 41\n  length: 2\ncontext.rep.selEnd: array[2]\n  0: 8\n  1: 41\n  length: 2\n(the values change when you click on a different line..)\nAfter your change:\n```\ncontext.rep.selStart: array[1]\n  0: null\n  length: 1\ncontext.rep.selEnd: array[1]\n  0: null\n  length: 1\n```\n(the values are always 'null' wherever you click)\n. I checked 2 other hooks I'm using in my plugin, same problem:\nexports.aceEndLineAndCharForPoint\nexports.aceKeyEvent\n\u00b4\u00b4\u00b4\n. @luto any news about this problem?\n. They are indeed all client hooks.\nThe plugin ep_tables2 where the problem appeared only has client hooks (until last version from today where it use its first server hook).\nAnd I logged the value of selStart & selEnd in the first line of the function / hook.\nIf I remove your change, everything's working like expected.\nIn my dev session, I'm using ep_tables2, ep_email_notifications and ep_user_pad.\nThe last 2 don't have any problems, but they don't use these selStart & selEnd vars in their codes.\n. Don't search anymore, I've found the problem.\nFirst, sorry for having taken your time. The ep_tables2 plugin is a plugin I took over to fix because it was broken and no longer maintained. \nSo I need time to understand what it's doing before being able to adjust.\nHere is the explanation.\nThe problem came from these 2 functions:\n```\nexports.aceStartLineAndCharForPoint = function (hook, context) {\n        var selStart = null;\n    try {\n        Datatables.context = context;\n        if (Datatables.isFocused()) {\n          selStart = Datatables.getLineAndCharForPoint();\n        }\n    } catch (error) {\n    }\n    return selStart;\n};\nexports.aceEndLineAndCharForPoint = function (hook, context) {\n        var selEndLine = null;\n    try {\n        Datatables.context = context;\n        if (Datatables.isFocused()) {\n          selEndLine =   Datatables.getLineAndCharForPoint();\n        }\n    } catch (error) {\n    }\n    return selEndLine;\n};\n```\nIn the pad, when outside a table, and so \"Datatables.isFocused()\" return false, those 2 functions return null.\nApparently, before your change, the normalize function didn't consider null as undefined (with 2 =) and returned x.\nBut now, with 3 =, it's considered as undefined and so the call to normalize return [].\nAnd that destroys the selStart & selEnd values.\nNot easy to find, but I'm happy it's ok now.\nAgain, sorry to have taken your time.\n. I have the combo Etherpad-lite with proxy / Apache / Debian Wheezy working perfectly.\nThe difference I see between your conf and mine is that I have \"\"trustProxy\": false,\" in my settings file.\nIt's worth a try to see if it resolves your problem.\n. I checked into API.js, PadManager.js, SessionManager.js, Pad.js in hope of getting the right attributes, but everytime it seems I need a PadID to do anything.\nAnd I don't know where I can find it as it's not in the arg content.\nSo, I was wondering if getLineHTMLForExport arg content shouldn't contain more infos.\nWhen I compare with the arg of the server hook 'handleMessage', I have much more data (like the PadId).\n. Sorry, was busy with an attack on our server.. always fun :)\nI discovered that I could find the right index to get the correct numToAttrib for each line by checking the attribLine value.\nHere are exemples of attribLine and the index I was able to calculate:\n*0*d1+2r*0|1+1  -> d1 -> (13 x 36) +1 = 469\n*0*d3+i*0*ba*d3+17*0*d3+19*0|1+1  -> d3 -> (13 x 36) + 3 -> 471\n*0*11+1w*0|1+1  -> 11 -> 36 + 1 -> 37\n*0*v+23*0|1+1 -> v -> 31\n*0*u+e*0*u*h+b*0*u+3*0*i*u+1*0*u+3*0*j*u+1*0*u+15*0|1+1 -> u -> 30\nAll the found indexes were the right ones.\nBut isn't there a way, an existing function, something to calculate it for me?\nOr do I have to do it myself?\nCan the blob hook do that? \nWhat is this hook? I couldn't find any hook with blob in the name..\n. I made my own function to manage that problem.\nHere it this in case someone else need it.\nJust keep in mind that I'm no expert with the Changeset stuff.\nFor my tables, it's always 0..., but I'm not sure it's always the same format.\n```\nexports.getLineHTMLForExport = function (hook, context) {\nvar attribIndex = retrieveIndex(context.attribLine);\nvar lineAttributes = context.apool.numToAttrib[attribIndex][1];\n...\n\n};\nretrieveIndex = function (attribLine) {\n  var arr_indices = {0 : 0, 1 : 1, 2 : 2, 3 : 3, 4 : 4, 5 : 5, 6 : 6, 7 : 7, 8 : 8, 9 : 9, 'a' : 10, 'b' : 11, 'c' : 12, 'd' : 13, 'e' : 14, 'f' : 15, 'g' : 16, 'h' : 17, 'i' : 18, 'j' : 19, 'k' : 20, 'l' : 21, 'm' : 22, 'n' : 23, 'o' : 24, 'p' : 25, 'q' : 26, 'r' : 27, 's' : 28, 't' : 29, 'u' : 30, 'v' : 31, 'w' : 32, 'x' : 33, 'y' : 34, 'z' : 35};\n  var attribIndex = 0;\nattribLine = attribLine.split(\"*\");\n  attribLine = attribLine[2].split('+');\n  attribLine = attribLine[0] + \"\";\nfor (var i = 0; i < attribLine.length; i++) {\n    if (i == attribLine.length - 1) {\n      attribIndex += arr_indices[attribLine[i]];\n    } else {\n      attribIndex += 36 * arr_indices[attribLine[i]];\n    }\n  }\nreturn attribIndex;\n}\n```\n. It's the ep_user_pad plugin that causes the problem:\nhttps://github.com/aoberegg/ep_user_pad/issues/6\n. I agree to that.\nBut when using \"../../src/node/db/DB\", it then calls \"var db = new ueberDB.database\" that load \"node_modules/ueberDB/mysql_db.js\", and there, you can only query the table 'store', it's hardcoded in the functions get, set, findKeys, ..\nSo how can I use DB and choose the table I need?\n. Well.. it's not that easy.\nIt's not my plugin, I'm only trying to fix it as the author gave it up.\nIt's a really nice plugin that manages users & groups to have public / private pads.\nHe creates several tables to manage the users & groups credentials.\nPersonally, I find it right to use other tables than 'store' to keep that kind of informations.\n'store' is about the pads, not the access infos.\nI know there is a project by.. hmm.. a french organization I forgot momentarily the name... to create a similar plugin more robust and official (hopefully), but in the meantime, I would like to have this one working as, except this error because of the wait_timeout, it works very nicely.\nAnd that's also why I don't want to remake it completely.\nSo, is it possible, by using DB & ueberDB to query other tables?\n. Well, after having taking some times to think about this, I must say that I understand and agree completely with your point of view.\nI found a fork to that plugin that fixed the error.\nUnfortunately, they also use the mysql lib instead of the Db lib.\nIf the plugin from the french organization is not what I hope it will be, I guess I'll create a new fork to do it with the Db lib (the owner of the fork is not intereted by portability it seems)\n. I know I'm a late responder, but indeed that was the trick.\nThanks for your help.\n. ",
    "guacamoli": "Hey John, the wrapped lines plugin doesn't fix this issue on firefox. We need to add word-wrap: break-word; as well for lines without spaces.\n. Was going to make this my first contribution but if you're on it, I'll start with something else :)\n. What about using CSS to fix this? By adding the style word-wrap: break-word; to the doesWrap rule, the problem gets solved for me. Not sure if it has any side effects though. \n. Ignore the first commit - the second one is the one I've made a pull request for. \n. can you send me the pad link?\n. Can you make sure that the doesWrap class is present on your pad's innerdocbody? Also, what version of chrome are you using? Chrome/Safari always worked for me, I was only noticing this on FF. \n. Tested on ff, safari, chrome, IE9 - seems to work. Since it's a CSS3 property, older browsers won't support it.\n. That might work, I'll try it out but I'd like to see if I can solve the root cause. It might just be default behavior on the android browser but I'm no android expert. Regardless, thanks for the quick response.\n. Yeah, it doesn't happen on chrome. It happens only on the default browser - chrome isn't the default browser on most android devices. \n- Sahil\nOn Mar 22, 2013, at 9:53 AM, John McLear notifications@github.com wrote:\n\nI don't get this behavior in chrome on an android tablet. Just FYI. Enter doesn't close soft keyboard\n\u2014\nReply to this email directly or view it on GitHub.\n. I'm trying on a HTC Evo, and it's closing :(\n. Hey Pita/John, any luck on finding the reason behind this issue?\n. Hey John, I'm actually concerned with the temporary fix. When collaboratively editing, this issue will occur quite frequently and the temp fix throws an error (which causes the server to crash). It helps in the sense that the revisions don't keep incrementing but it highlights the core problem to the user even more - since they lose all functionality when they run into it.\n. \n",
    "LaKing": "This patch of the authenticate function will add an optional possibility to log in with a hashed password, defined in settings.json.\n``` javascript\n //// etherpad-lite/src/node/hooks/express/webaccess.js - Line 31:\n  var authenticate = function (cb) {\n    // If auth headers are present use them to authenticate...\n    if (req.headers.authorization && req.headers.authorization.search('Basic ') === 0) {\n      var userpass = new Buffer(req.headers.authorization.split(' ')[1], 'base64').toString().split(\":\")\n      var username = userpass.shift();\n      var password = userpass.join(':');\n  // first check if hash is defined in settings.json\n  if (settings.users[username] != undefined) {\n     if (settings.users[username].hash != undefined) {\n        // it is defined therfore it has priority, create the hash variable of the input password\n        var crypto = require('crypto');\n        var hash = crypto.createHash('sha512').update(password).digest('hex');\n        // authenticate against that hash\n        if (settings.users[username].hash == hash) {\n           settings.users[username].username = username;\n           req.session.user = settings.users[username];\n           return cb(true);\n        }\n     } else {\n        // no hash was defined in settings.json, do normal password based authentication\n        if (settings.users[username].password == password) {\n           settings.users[username].username = username;\n           req.session.user = settings.users[username];\n           return cb(true);\n        }\n     }\n  }\n  return hooks.aCallFirst(\"authenticate\", {req: req, res:res, next:next, username: username, password: password}, hookResultMangle(cb));\n}\nhooks.aCallFirst(\"authenticate\", {req: req, res:res, next:next}, hookResultMangle(cb));\n\n}\n//// Continiue @ / Authentication OR authorization failed. /\n```\n. Hi, ..\nI'm thinking of adding certificate authentication, as an additional possibility to this plugin. \nThis is released as ep_hash_auth, as plugin ..\nWhile I will work on that, I can add some salt - however if you want you can submit a patch or something to speed things up.\n. Your syntax seems to be wrong.\n\"users\": {\n    \"Bud\": {\"hash\": \"6c98..66d2\",\"is_admin\": true},\n    \"Al\":  {\"hash\": \"c7r2..b72c\",\"is_admin\": true}\n  }\n. @muxator, I don't really plan to maintain the plugin further. \nI think this functionality should be built-in into etherpad out of the box, especially with the new regulations from the EU. .... I will. Only a question of time.\nThe modularisation process is not complete yet, but ....\nIn ep_codepad all javascript for the pad-search-and-replace is located clean in one file. /static/js/padsearch.js\nThe UI elements are defined in /templates/menuLeft.ejs\n. Sorry for coming late, .. as far as I see this is still an issue with chrome. Any progress on this?\n. I see the issue exists in the latest, the 1.5.6 release, but does not exists on the current git clone.\n. I'm not sure what that means. ...\nCan I do something to get things rollin?\n. Currently the font color for the icons is #888, if you guys want I can set them #666, that is no problem.\nAs for the timeslider. I can propably spend some time with the icons, but I don't feel comfortable with the underlaying background, as it is an image. The biggest issue I see is that when a slider appears on the right - due to pad content larger then the frame - the background image moves to the left a little. (Depends on browser / and os). That should be also replaced with some vector-based or CSS based solution. \ntimeslider.css\n/* IE 6/7 fixes */\n* HTML #ui-slider-handle {\n  background-image: url(../../static/img/current_location.gif)\n}\n* HTML #timeslider .star {\n  background-image: url(../../static/img/star.gif)\n}\n* HTML #playpause_button_icon {\n  background-image: url(../../static/img/play.gif)\n}\n* HTML .pause#playpause_button_icon {\n  background-image: url(../../static/img/pause.gif)\n}\nSorry, but I have no windows, and no IE around. Can someone test if this is still needed?\nI guess I should prepare an updated pull request?\n. The disadvantage of this would be that plugins can not use the full range of fonts, if we exclude the others, they would have to include the fonts again, which is possible of course.\nThe plugin I'm developing now, ep_codepad uses many more characters from Font Awesome.\n. At the moment I'm a bit busy with ep_codepad. I implement a curly brace tracing feature and finishing it in the next days, along with much better syntax highlighting. It is a more complex job then I thought. ...\nAfter that I will turn to the look of etherpad-lite, check the reduced fonts, and fix the timeslider frame and the buttons. My first attempt to fix the buttons and the frame failed, actually I'm more a backend guy then a frontend developer, but I will return to it if no one else does.\nIf the timeslider's text view does not fit in the window, the scroll-bar on the right is for the whole page, whereby it is sufficient to have it only on the text area. Also, I would like to get rid of the background images, .. however, my solutions might not be compatible with older browsers, or IE. ...\nAnother question, the import-export icons. I left them as they are but Font Awesome has some file-icons for that too. ...\nI brb asap, but if someone is faster, eventually more experienced with more routine in the frontend dev process, feel free not to wait for me. .) \nSorry for the delayed response,...\n. No idea what \"US launch\" is. :)\nSure, .. I might also run a sandbox site on my server, .. once its ready for production.\nOne more question for the timeslider page. \nSometimes I want to revert to a revision, in that case I just copy all text/code and paste it back on the pad. This is ok, but eventually there could be a button for it in the timeslider button set. I guess it is possible to add it with hooks with the plugin, .. I just wonder why this is not part of etherpad-lite already. IMO it would make sense even on plain text ...\nOne click, and the selected old revision is the actual most recent revision - so nothing is lost.\n. @JohnMcLear .. I see what you mean. The main difference is that text can be in a new pad, but code should reside on the same file, therefore on the same path.  .. Thanks. I'm new to those design decisions, sorry if that has been discussed already.  .)\n. Sure, I don't mind at all! \nThe main page / toolbar icon work is super-easy. If you take a look at the pull request I sent, you will see the changes that belong there. Possibly the Font Awesome CSS can be minimized as well.\nYes, we can merge with small steps, but please include the fonts needed for the time-slider page right away. The star, the bar, step and play buttons. ...\n. Bug caused missing value of project_path in setting.json interpreting the path as the file-system root.\nFixed in 0.9.8, missing project_path defaults to /tmp now - by design.\n@sedrubal  there is no security design fail. \nEtherpad and codepad is run in the name of some user, and the application will have limitations given by the operating system for that user. Non-root users typically do not have write access, but can read even system files. Bugs in any layer, eg.: node, express, ..  etherpad or codepad may expose files.\nThe functionality of codepad requires filesystem access, and execution of commands.\nAuthentication/Authorization is mandatory for codepad from that point of view, as settings.json can be edited through the admin page, along with usernames and passwords or hashes.\nEventually you can deny write access for the user etherpad is run as ...\nAs the developer of codepad, I assume you configure your settings.json, especially before deploying on a mission-critical server, and check plugins for their functionality. I can not give you any guarantee for security holes, bugs, issues, - or even usefulness of any kind - especially for software in beta status.\nWith that said, thank you for reporting the issue, and as you see it got fixed asap. \nYour contribution is appreciated. \n. I was reading a bit about this, but still have no clue what EtherPlant is or should be.\nIf it is a bad implementation, then it wont make it to etherpad. You should implement it as a plugin.\n. Hmm. On another pad, that I didn't have open ,.. \n```\n[2015-01-03 03:33:11.610] [INFO] ueberDB - Flushed 1 values\n[2015-01-03 03:33:11.812] [INFO] ueberDB - Flushed 1 values\n[2015-01-03 11:33:11.819] [ERROR] console - Error: Connection lost: The server closed the connection.\n    at Protocol.end (/srv/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/Protocol.js:103:13)\n    at Socket. (/srv/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/Connection.js:88:28)\n    at Socket.emit (events.js:117:20)\n    at _stream_readable.js:938:16\n    at process._tickDomainCallback (node.js:463:13)\n[2015-01-03 11:33:11.819] [INFO] console - graceful shutdown...\n[2015-01-03 11:33:11.829] [INFO] console - db sucessfully closed.\n```\n. Yes, ..\nIt seems to fix it.\n. Okay, this is clearly a codepad thing. ( #files is used by codeapd .... )\nAs far as I remember I was able to patch etherpad to use a 100 character filename-length, but this patch does not seem familiar to me - however might have done the same. ...\n@adelriosantiago \nYou can overcome this problem with several approaches.\nBest is to use shorter file/dir names.\nAnother option would be to use symlinks.\nI hope this problem gets a solution on etherpad-level, if not, and it becomes a serious issue, I might think what to do on the plugin level. ....\n. I used this patch for API import.\n``` bash\n!/bin/bash\nfunction sed_file {\n    ## helper function - used to replace a line in a file\n    ## filename=$1 oldline=$2 newline=$3\ncat $1 > $1.tmp\nsed \"s|$2|$3|\" $1.tmp > $1\nrm $1.tmp\n\n}\nincrease filesize limitation\nsed_file /srv/etherpad-lite/src/node/db/PadManager.js '    if(text.length > 100000)' '    if(text.length > 1000000) / customization for longer texts/'\nThe line containing:  return /^(g.[a-zA-Z0-9]{16}\\$)?[^$]{1,50}$/.test(padId); .. but mysql is limited to 100 chars, so patch it.\nsed_file /srv/etherpad-lite/src/node/db/PadManager.js '{1,50}$/.test(padId);' '{1,100}$/.test(padId); / customization for longer padnames/'\n```\n. @JohnMcLear  I would need help on that. The bug is propably backend side, but it shows up on the frontend when using the test plugin. ...\n. I also experience this as a bit problematic, the sourced folders should not be writable.\n. Okay, I tryed to reproduce it in a more blank, enviroment, and the error didnt show up, ..\nHowever, I still get issues on my development enviroment. Messages like:\nError: Failed assertion: line assembler not finished:Z:j>27s|1-j|2g+289+2$\n. Well, the blank enviroment was using the latest zip release, and there is no such problem.\nSomething broke between the latest release and the current git version.\nSteps to reproduce the problem.\nInstall etherpad from the latest git release.\nInstall the unreleased ep_test ... here is a bash script that will do it.\n``` bash\n!/bin/bash\nset this directory according to your enviroment\ntp=\"/srv/etherpad-lite/node_modules/ep_test\"\ncreate the plugin directory\nmkdir -p $tp\nep.json with a server side hook\ncat > $tp/ep.json <<EOF\n{\n    \"parts\": [ \n        {\n            \"name\": \"ep_test\",\n            \"hooks\": {\n                \"padCreate\": \"ep_test/index:padCreate\"\n            }\n        }\n    ]\n}\nEOF\non pad-creation we set TEST as text, and update the pad.\ncat > $tp/index.js <<EOF\nvar padManager = require(\"ep_etherpad-lite/node/db/PadManager\");\nvar padMessageHandler = require(\"ep_etherpad-lite/node/handler/PadMessageHandler\");\nexports.padCreate = function(hook, context) {\ncontext.pad.setText(\"TEST\");\npadManager.getPad(context.pad.id, null, function(err, value) {\n    if (err) throw err;\n    padMessageHandler.updatePadClients(value, function() {});\n    });\n};\nEOF\nif there is no package.json, etherpad crashes so we make one\ncat > $tp/package.json <<EOF\n{\n  \"name\": \"ep_test\"\n}\nEOF\nrun this script as etherpad user, or chown the created files\nchown -R codepad:srv $tp\nrestart etherpad\n```\nYou will see the bug instantly, when creating a new pad.\nExisting pads tend to break too.\nAs far as I see, some assertion error breaks something in the database, and once the database-entry of the pad is broken, the mismatch error shows up when loading the pad.\nThe assertion error is IMO server side.\n. I did a regression test manually / written in bash. \nBROKEN: HEAD is now at ee0368f Merge pull request #2649 from xavidotron/develop\nWORKIN: HEAD is now at a1893ec Merge pull request #2650 from ether/iframe-issues\nSo if I step back 26 steps from the current, it's still broken and at 27 steps back from current it works ok. \n. .. looks much better. .)\nThank you. :+1: \n. Thank you guys.\nSeems its fixed, That's all folks!\n. ",
    "b-meson": "Hi @LaKing I think the hashing of the password is good but the passwords are still unsalted which is a problem. \n. I don't think this is quite resolved, namely because the plugin doesn't seem to work quite as expected. For example, the installer warns about a pluingw mismatch between node_modules/async as an unmet dependency (using the lastest build of etherpad).   I manually created a \"users\": { \"username\" : { \"hash\" : {\"hash_value\", \"is_admin: false,} entry and whenever i try to login it just spins on login (i.e. no password reject for being wrong, no connection timeout and no feedback to the end user).  I can login using the unhashed usernames so i don't know if the problem is in the settings.json. \nThoughts? @LaKing ?\n. ",
    "ldidry": "@Gared : I just got this problem, thanks for the workaround.\n. No, I didn't had the time to experiment it, sorry. I can't tell you if it's working (but I'll tell you as soon as I'll try it)\n. Hi.\nWe, at the Framasoft association, have exactly the same problem !\nWe used to run an old version of etherpad and node.js and wanted to update. A server crash made us reinstall all the stuff in a hurry and we did the update in the same time (because we wanted to take advantage of the forced downtime).\nSo, we got the problem and thought it was due to our high level of pads (more than 55,000 at http://lite.framapad.org) and our MySQL database (we encountered some scalability problems with MySQL on other apps).\nWe decided to create other instances of etherpad, with MongoDB instead. Seemed to work, but encountered the problem later. We thought that the problem was to Apache as reverse proxy and took Nginx instead. Again, it looked good for a few hours/days (don't remember exactly) => we took Varnish, looked good again for a few days and today : bug again.\nI was planning to open this issue in the evening (didn't see this one, although I looked over and over).\nSo, if you need any help, testing, logs, anything that can help you troubleshooting this damn' bug, I'll be happy to contribute (unfortunately, I'm not very comfortable with node.js programming).\n. Well, the problem is that the problem does'nt appear all the time.\nI'm trying to git bisect, but the bug occured only\u2026 on a commit that updated the README.md :(\n. Testing this patch too. If somebody wants to try, go to http://beta.framapad.org\nSince the the bug is unpredictible, more tests is better. (and don't forget to say here if there is a problem, of course)\n. Got it on high trafic instance. We'll know quickly.\n(1.2.11 have this bug (#1895), 1.2.10 have #1734\u2026 I didn't want to go lower)\n. Got the branch. Sorry, I wasn't very clear. And since my instances have a lot of users every day, we'll see if the branch fixed the bug reaally soon I think :smile: \n. No, I'm on the version from the #1902 PR.\nThis version fixed an fraking bug, but I could'nt continue on develop branch since we got a big amount of users (like 2,500 to 3,500 unique visitors per day in workweek, around 1,000 in the week-end).\nI can't use a potentially buggy version (before using the #1902 PR, I tried to downgrade to 1.2.11, but it prevented users to be more than one (!) on a pad).\nSo when the blocking bug was smashed, I decided to wait the 1.2.13 release.\n. I just asked the tech team (we're an association) to ask them what they think of using develop in production.\nFor me, it's ok, but I need to ask.\nSince it's a quantum bug, It may take a long time before we could say that develop fixed the problem. I'll keep you in touch.\n. Sure. I will do it tonight.\n. Seems like I made a mistake while pushing to my repo.\nI will redo all that.\n. No pb :smiley: \n. EDIT: I forget to say that etherpad crashes when getRevisionChangeset is called without the rev argument. If called with rev, it works well.\n. ping @JohnMcLear @marcelklehr ?\n. ? Didn't got a mail when you responded 14 days ago. I'll take a look tonight.\n. > Doesn't this change the format a changeset is returned? It looks like before it was...\n\n{\"changeset\": changeset}\nwith yours it's a changeset object?\n\nWell, since it never returned anything to me since it's buggy when you don't ask for a revision, I can't tell.\nI duplicate the code called when you ask for a revision, changing the revision number by pad.getHeadRevisionNumber(): it returns the same type of message than when you ask for rev. Seems a good thing to me, don't you think ?\n. @JohnMcLear : what about adding a pre-commit hook preventing adding tab ?\nIn .git/hooks/pre-commit:\n``` shell\n!/bin/bash\nvim:set sw=2 ts=2 sts=2 expandtab:\nFILES=$(git diff --cached --name-only --diff-filter=ACM HEAD)\ngrep -P \"^ \\t\" $FILES >/dev/null 2>&1\nif [[ $? -eq 0 ]]\nthen\n  echo \"Tabs indentation detected (see below)\"\n  echo\n  grep --color=auto -T -P \"^ \\t\" $FILES\n  echo\n  echo \"Aborting commit\"\n  exit 1\nfi\n```\n. Should I include it in this pull-request ?\n. Mmh, it's not possible to push a hook to the bare repo. All we can do is to put the script in the repo and to ask people to do:\nshell\nln -s git-hooks/pre-commit .git/hooks/pre-commit\n. yup, I'm already working on a new branch for the hook. Please, merge ;-)\n. In the same spirit of having same coding style everywhere, it could be a good thing to have vim modelines (http://vim.wikia.com/wiki/Modeline_magic) in every file (and the emacs equivalent, but I don't know how to write them), don't you think ?\nWith modelines, it would be easier for the developers to code. And the pre-commit hook would avoid problems for those who don't use vim or emacs or ignore modelines.\n. Mmh, not a bad idea, but it asks to install a plugin and doesn't allow to change tabsize in different files, while we have 4 spaces for html and 2 for js and css.\nBut it's right that modeline asks to have set modeline in .vimrc (I don't know for emacs).\nAny pro/con for editorconfig versus modeline, guys ?\n. Well, we have html, js and css together in tests/frontend, but that's all.\nMaybe we could use both solutions: modeline and editorconfig.\n. I got a problem importing a 4.4Mio .etherpad file, containing 14999 revisions. I have no \"Maximum range exceeded\" error or any other error but import failed. Do you think it can be related to this issue ?\n. Erratum : I got the RangeError: Maximum call stack size exceeded error with a pad with only 5159 revisions. Any idea?\nI use MongoDB as database, for info.\n. What if it was the size of the file which matters? I'm able to import files up to 1000Kio, but one of 1004Kio failed, as one of 1.1M with only 4378 revisions.\n. What if it was the size of the file which matters? I'm able to import files up to 1000Kio, but one of 1004Kio failed, as one of 1.1M with only 4378 revisions.\n. I have no idea about that, sorry :disappointed: \n. I have no idea about that, sorry :disappointed: \n. You're welcome :-)\n. I'll try.\n. I got a problem. It's up to you to say if I have to fix it : we can't save revisions through API right now. So if I want to test if the saved revisions count and list vary, I have to add a saveRevision(padID, [rev]) API function. It's pretty easy and I can do that, except for one parameter of addSavedRevision : savedById. I think it's not ok to add an empty parameter or a random string.\nWould it be ok for you if I create an author \"API\" before saving the revision and use it? Or should I just stay with one test for my methods?\n. I didn't wait for your answer, I created a saveRevision API function\n. ping @JohnMcLear\n. It works on my computer. Strange. Did you run the test or is it continuous integration?\n. I just tested on the develop branch (with my commit merged): it worked.\n. rm var/dirty.db\n ./bin/safeRun.sh /tmp/t.log\n./bin/backendTests.sh\nAll tests passed well.\n. I applied the patch, and it's better, but it is still not perfect. I'm now able to import file up to 1.5Mio, but after that, it says the import was successful, but the pad is still empty :disappointed: \n. No, I use curl to import the pad (I have a lot of pads to import), and I got an \"ok\" message. If I go to the pad with my browser, the pad is still an empty pad.\nIf I try again to import the pad, I got the \"ok\" message instead of a \"padHasData\" message (which  happens when you try to import a pad on a pad which already has data). So I think the import doesn't work at all.\n. Upgrading to node 12+ did the job, without checkouting develop branch, thanks!\nDo I really need to checkout develop branch? (We have 8 different etherpad instances on the same server and I don't really want or have time to checkout all the instances right now)\n. Well, I thinked you say to checkout develop branch because of incompatibilities, and I wanted to be sure it was needed. As it seems it's not mandatory, I will not.\nAnyway, big thx for your really quick and working answer! You're my etherpad hero ! :blush: \n. Hum. I just got the Cannot set property 'colorId' of null from #2454, so I checked out develop branch, and now I got:\nTypeError: Cannot set property 'writingInProgress' of undefined\n    at /var/www/mensuel.framapad/src/node_modules/ueberDB/CacheAndBufferLayer.js:488:56\n    at /var/www/mensuel.framapad/src/node_modules/ueberDB/mongodb_db.js:150:29\n    at /var/www/mensuel.framapad/node_modules/mongodb/lib/mongodb/collection/core.js:716:7\n    at /var/www/mensuel.framapad/node_modules/mongodb/lib/mongodb/collection/core.js:640:7\n    at Server.Base._callHandler (/var/www/mensuel.framapad/node_modules/mongodb/lib/mongodb/connection/base.js:453:41)\n    at /var/www/mensuel.framapad/node_modules/mongodb/lib/mongodb/connection/server.js:487:18\n    at MongoReply.parseBody (/var/www/mensuel.framapad/node_modules/mongodb/lib/mongodb/responses/mongo_reply.js:68:5)\n    at null.<anonymous> (/var/www/mensuel.framapad/node_modules/mongodb/lib/mongodb/connection/server.js:445:20)\n    at emit (events.js:107:17)\n    at null.<anonymous> (/var/www/mensuel.framapad/node_modules/mongodb/lib/mongodb/connection/connection_pool.js:207:13)\nAny idea ?\n- Etherpad version: develop\n- NodeJs version: v0.12.3\n- MongoDB version: 2.4.10\n. Maybe UeberDB could check that the key exists, no?\nIn  ueberDB/CacheAndBufferLayer.js, line 488:\n//set the writingInProgress flag to false\n  for(var i in operations)\n  {\n    db.buffer[operations[i].key].writingInProgress = false;\n  }\nto\n//set the writingInProgress flag to false\n  for(var i in operations)\n  {\n    if (operations[i].key !== undefined)\n    {\n        db.buffer[operations[i].key].writingInProgress = false;\n    }\n  }\nBut I don't know what that could do if writingInProgress is not set.\n. Well, our stress tests is our users, and they are very good at it :sob:\nAfter shutting down one big instance and restarting another, it works, but 2 big instances at once, it crashes. The culprit is the disk access time, slowing mongodb, and thus, etherpad.\nAnyway, I think it could be useful to, at least, put a warning in logs if operations[i].key === undefined. We can let etherpad crashes if the admins can see a message like \"It seems that your database doesn't respond correctly. It may be caused by timeout or slow disks\" or anything else useful.\nWhat do you think of that?\n. Do you think my phrase is OK or do you want something else? Your choice, I'll do the pull request as soon as I know what to put in the warning.\n. Yes, but I think it's beyond my power (I'm more a Perl guy)\n. I will, many thx.\nFor the record, I moved the VM to nodes with SSD disks and very low load (this is the only VM on these nodes), so there is no more timeout or slow answer. I get the same error, even with not visiting pads, just looking at a stat page (from ep_pad_stats plugin).\nI had to apply my \"if defined\" patch to have etherpad stopping crashing. If I understand the code, writingInProgress is only used by the cache garbage collector, so my patch allows me to take the time to contact Pita.\n. More infos: with aceEditEvent, we expect to have an event only if there is an edition. The aceEditEvent is fired with idleTimeworker type.\nIs it wanted? If yes, maybe the documentation need some more explanation about when this event is fired.\n. > \"Edit\" events can be a lot of things (changing the text, adding an attribute to one line or a piece of text, etc)\nOr, as I said, idleTimeworker, which occurs every second :smiley: \n\nThe issue reported by @rugk is indeed as an issue with the plugin, as it should not update the values if no changes were made.\n\nYes, we know that (and it's fixed, but by using different hook), but the lack of doc didn't help to understand aceEditEvent behavior.\n\nCould you submit a PR with more details on the documentation of aceEditEvent? :-)\n\nSure, I will. Could you please tell me where I can find the code of the callstack, to know what's in it?\nThank you.\n. >  -I get some empty bullets for a reason I do not understand.\nI think I do understand: when importing an OO file (or whatever format that is not .html or .txt), the file is first converted to HTML, using Abiword or LibreOffice.\nUnfortunately, with Libreoffice (Abiword not tested) bullets points are converted to\n<ul><li><p style=\"margin-bottom: 0.28cm; line-height: 108%\">Bullet 1</p>\n    <li><p style=\"margin-bottom: 0.28cm; line-height: 108%\">Bullet 2</p>\n</ul>\nYou can see two new lines, that are unfortunately interpreted by Etherpad as Enter key\u2026 that creates an empty bullet\nManually converting the OO file with\nsoffice --headless --convert-to html pad.odt\nThen changing the list to\n<ul><li><p style=\"margin-bottom: 0.28cm; line-height: 108%\">Bullet 1</p><li><p style=\"margin-bottom: 0.28cm; line-height: 108%\">Bullet 2</p></ul>\nmakes the import working as expected.\nI don't know how to deal with this problem:\n- removing all new lines in the html file before calling importHtml.setPadHTML in src/node/handler/ImportHandler.js?\n- modifying importHtml.setPadHTML to deal with that?. Up? This is a serious confidentiality issue.. Ping\u00a0!. Where is the code of the script please? I could have a look.. Thank you for your suggestions, they're indeed very good :slightly_smiling_face: \n(and now integrated). ping @lpagliari ?. Oh, sorry.\nI was just that you answered on #3338 really quickly, and this PR is quite on the same scope than #3338, I wondered why you didn't reviewed it.\nEnjoy your vacations \ud83d\ude0a. ping @lpagliari ? (if you have time). Hello, can someone look this PR please?. > It would be nice if it also looked good with ep_mypads.\nSince MyPads shows Etherpad in a iframe, I can't see a reason that would alter the good look of Etherpad in it.\n. @muxator I used Centos7, Etherpad 1.6.5, LibreOffice 5.2 (or 5.3) and read the output with LibreOffice 6.1, but also reproduced on Debian 9, Etherpad 1.6.5, LibreOffice 5.2 (or 5.3).\nI think you need to enable \"Track Changes\" (in menu: \"View\" > \"Track Changes\") in your LO to see it.. Do you have a similar behavior when exporting multiple files with LO? (I think you should, but it's better to be sure)\nIt seems to be caused by the queue system used to prevent system overload (since the LO utils spawns a new LO process each time it's used).\nWe may use unoconv to mimic Abiword behavior (one listening process, and use the same process for convertions), like I did in ep_unoconv (abandonned plugin since some time after I wrote it, LO became native in Etherpad).\nWhat do you think?. > How do I do this? Not via the web interface, I suppose. Any hints?\nSet libreoffice in settings.json, then export two pads in odt, doc or pdf format at the same time (with curl maybe? Easier to do it at the same time than switching tab and press another button). But it does not really matter, that was just for curiosity.. \".htm\" is used with Abiword for a very long time (like more than 6 years), I don't know if it's required for Abiword, but I know that LOffice does not like it and want \".html\" to work properly.. It seems that I deleted the fork (or the branch) I used for that PR, I'm not able to push new code to it.\nI close this PR and will create a new one in a moment.. See #3507 for the new PR, sorry for the mess.. ",
    "tipabu": "Seems to have been fixed with 4377f7a2e4b1a368f4deb9ea9e7565d4c53947f9.\n. ",
    "DanielBickley": "Hi,\nI'm using the API to create users, groups, and sessions so I can more easily pipe my app's users into a secure pad. I've noticed that something similar is occuring where the sessionstorage is being set multiple times even though there is ever only one API call to create the session. You can see from my screenshot where the basic creation of a user, group, and session clutters the db with sessionstorage records. Has anybody made any headway on this apparent bug?\nThanks!\n\n. I've been digging into this a bit, but with limited knowledge on the configuration specifics.\nI noticed that simply using the API will trigger a db.set(\"sessionstorage:\" + sid, sess) routine. My added db cruft is the result of using AJAX in conjunction with the API to return periodic results to my application. With my application, all session stuff is handled via the API, so in theory, according the code comments, no \"sessionstorage\" type db records should be kept on those requests at all.\nI'm having a good bit of difficulty in tracing out exactly how the API requests are tied into all this. However, I think it still circles back to the what @JohnMcLear writes above in regards to \"express is creating a bunch of sessions for each get request, prolly need a way to specify to create a session if one doesn't exist.\" Might I add, determine if the API is making the request, and suppressing any type of db record insert, particularily where the express_sid is not altered in this instance anyway.\nRight now I'm running a nightly CRON to rip all the \"sessionstorage\" stuff out of my DB, but I'll try to get back to this in the coming weeks. I suppose it'll just be some trial/error stuff in terms of adjusting the socket-io express session code to look for existing session before proceeding. This is occurring in src/node/hooks/webaccess.js exports.expressConfigure(), I believe.\nI'm not asking anybody to hunt/peck this out for me, but please do provide any insight if you have some ;)\nThanks! \n. I tried to update this all locally and ended up my browser console crowing about missing font-awesome, and the ep_comments as icons doesn't seem to work at all, even with the JSON clause in my settings. I thought I'd pull down fresh, before I made mention, but even after that I'm having the same issue.\nVersion number: 1.5.6\nGit sha: a0aa947\n. @JohnMcLear,@lpagliari: Thank you both. I'll update to the latest dev branch in an effort to help me run the comments-as-icons feature (and use bin/cleanRun.sh in conjunction), and I'll try temp adding a softlink '/font -> /static/font' locally to see if that will suffice for now on the icon front, as clearing my cache during my previous trials did not help. The last time I disabled minify, I could actually see the performance lags, so that's going to be my last ditch effort. Thanks again. I love the plugin, and I really like this comment icon idea and can't wait to get it folded into my setup.\n. @rugk @Gared \nYou're getting the \"cookies could not be found message\" because the cookie test is failing on \"prefs\" basically because it doesn't exist at that point. You could conduct the test after the \"prefs\" cookie is actually attempted to be created, or you could do what I do and just create the test cookie, and if found to exist, then promptly delete the cookie.\n. Note that this seems to have come up AFTER I changed it so that my containing application did the following.\nBefore:\n(php) session_set_cookie_params(0, '/', 'www.mysite.com', false);\nAfter\n(php) session_set_cookie_params(0, '/', 'mysite.com', true);\nNotice that I removed the 'www' and also set the https flag to true. I'm reverting to the previous to see if that gets me fixed up. However, I'd sure prefer to use the secure cookie flag if possible. I think there is another bug open on that one already out there.\n. So php session cookie didn't make any change. However, I updated my settings.json so that I could see the DEBUG logging. My Safari console says:\n\nWebSocket network error: OSStatus Error -9807: Invalid certificate chain \n[Error] Failed to load resource: An SSL error has occurred and a secure connection to the server cannot be made. (socket.io, line 0)\nFORCED TO DISCONNECT\n{disconnect: \"userdup\"}\n\nSo, I'm gonna futz around with the  \"ssl\" : { \"ca\" a bit and see what happens.\n. FWIW, I was able to resolve this issue. I had issues entering the \"ssl:ca\" setting initially and most browsers didn't seem to have an issue, including my initial version of Safari. I'm guessing that I updated Safari and something unique to that installation was crowing about the lack of intermediate cert on SSL. Not having a great understanding of SSL I wasn't able to find much doc help on that front. Most of the SSL documentation in regards to Etherpad that I found were relating to self-signed certs. Anyway, for anybody else out there who may have a similar problem, all I did was take my SSL ca-bundle and crack it open. I separated out the individual intermediate certs there and put them into their own unique files. I then called the two in using the \"ssl:ca\" array var in the settings JSON. That seemed to do the trick.\n. Bingo! Thank you much.\n. Turns out this is only in regards to the API. For example, I have ajax scripts that periodically probe Etherpad for details. I have since adjusted this so the API is not hammering to the extent it was. However, there is still the issue of the API requests using db.set(\"sessionstorage:\" + sid, sess) when it seems completely uneccessary. There is another bug open in regards to dealing with the Express session checks. I'll add my findings there.\n. Did you just dump into a directory? You'll need to follow the install instructions at https://github.com/ether/etherpad-lite#installation for your particular environment.\nTo get up and running, you won't need to be too concerned with \"node\" per se, but just follow the instructions and it should get you going. The service will most likely run on a diff port than your web server (i.e. :9001 vs :80), and then you'll either need to proxy in a pad, or use an iframe. There are instructions for that as well.\nHope that helps.\n. The jquery plugin merely assists in piping your Etherpad-lite installation at port 9001 into a web page via an iFrame. So, if you aren't proxying Etherpad-lite into your web app, then you're left to pull it in via iFrame, and using the jquery plugin is handy because it helps you set up all the parameters via the iFrame's URL query string.\nIn terms of the API, that is server-side directives, having nothing to do with the manner in which you embed Etherpad-lite into your web page (jquery plugin or proxy) - as far as I know. For example, I use the plugin to pull in my Etherpad-lite installation from port 9001 into my web app, and then I use server-side API calls using Php. That way, I can setHTML using a server-side API call during page creation, and then when the pad loads up in my iFrame, it will have done so with the content I plugged in just prior to page load using the setHTML call. I take this further by then using AJAX to run more server-side API calls behind the scenes. As @lpagliari pointed out, compare your API URL to what the specs require, and it should give you a hint. Make sure you are plugging your API KEY into your API call - that's crucial.\nI'm not certain how well trying to run Etherpad-lite out of Froala will be. I mean, would you set/getHTML via API on every keypress in the Froala instance? Also, the tools offered in Froala vs Etherpad-lite are not synonymous. You may try simply using Froala throughout your web app, and then for real-time collaboration, pipe in an Etherpad-lite iFrame with a customized toolbar - that mimics your Froala styles. I've done something similar with TinyMCE.\n. Once your mysql installation is configured for SSL connections, you'll probably have to hunt/peck for the connection call in the etherpad code. Edit or hook from there.\nhttps://dev.mysql.com/doc/refman/5.5/en/using-secure-connections.html\n\"To establish a secure connection, use the mysql_ssl_set() C API function to set the appropriate certificate options before calling mysql_real_connect(). See Section 23.8.7.67, \u201cmysql_ssl_set()\u201d.\n. Sorry, I don't have time, but am currently attempting a plugin that better manages database connections, mainly in an effort to see if I can assign entire etherpad databases to individual etherpad users. It's slow going, but I'll try to add in SSL connectivity as an option, and update this post at completion. I'm not entirely certain how you'd go about editing your local installation of etherpad, but if you can just do a conditional check in there to see if the pad is loaded over https, then tack on the mysql_ssl_set() or something. Just thinking aloud here.\n. Currently, I'm using a daily cron task to remove the sessionstorage pollution in the db.\nI don't necessarily think the expiration is an issue. Rather, the logic just needs to first do a conditional to check. Has an express session already been started? Yes? Okay, no need to do it again, or add the entry to the db.\nif(!currentSession)\n db.set(\"sessionstorage:\" + sid, sess);\nObviously the above conditional will not work, I'm simply putting it there to demonstrate my theory. I did take several hours and attempt to add a check. However, my efforts were unsuccessful, added my cron task, and I will return to it at a later date. I was hoping somebody with knowledge of the express session creation would be able to easily hammer that out. Doesn't seem to be on anybody's radar, so if I get it figured out at some point, I'll make sure to notify you here.. See also https://github.com/ether/etherpad-lite/issues/1659\n\" \n@JohnMcLear writes above in regards to \"express is creating a bunch of sessions for each get request, prolly need a way to specify to create a session if one doesn't exist.\" Might I add, determine if the API is making the request, and suppressing any type of db record insert, particularily where the express_sid is not altered in this instance anyway.\n\"\nsrc/node/hooks/webaccess.js exports.expressConfigure() - think that is where this needs to be adjusted. ",
    "nebulade": "Since I debugged another session issue when using ep_cloudron, I came across this thread. In my case the plugin order was not always consitent causing different session behavior across restarts. Explicitly specifying the order fixed it. Luckily the order is printed when using DEBUG logging. This might not be related, but just thought it might reveal some more information also in this case, given how much plugins can do in etherpad, they might easily interfere with session as well.. Perfect, thanks!\n. ",
    "harbulot": "Just a suggestion, perhaps integrating this plugin with a tool like Hallo.js would provide a good WYSIWIG Markdown interface. Having a two-side page or a mode to toggle between editing in MD or rendered format would be good too (a bit like on the demo page), since this would also enable the users to edit directly in MD format, for more complex formatting.\n. My guess would be that the proxy directives are not used and that you're falling back on the DocumentRoot you've set. This would typically happen if the mod_proxy module wasn't loaded. A quick way to check this is to remove the lines with <IfModule mod_proxy.c> and its closing </IfModule> (whilst keeping the directives that are within this section): if it complains it doesn't know about the Proxy* directives, then mod_proxy isn't enabled (so enable it).\n(I suppose the mailing list might be a better place to discuss this, since this doesn't seem to be an issue in Etherpad itself.)\n. ",
    "pmalek": "I did not install any plugins just went to etherpad.org and downloaded latest version ( 1.2.9 )\nI am using Windows 7 enterprise 32 bit. Chrome 26.0.1410.43\nI cannot replicate this on http://beta.etherpad.org (it works fine ).\nSome pieces of log file : \n```\n[2013-04-02 15:36:41.941] [WARN] console - You need to set a sessionKey value in\n settings.json, this will allow your users to reconnect to your Etherpad Instanc\ne if your instance restarts\n[2013-04-02 15:36:41.943] [WARN] console - DirtyDB is used. This is fine for tes\nting but not recommended for production.\n[2013-04-02 15:36:43.089] [INFO] console - Installed plugins: ep_etherpad-lite\n[2013-04-02 15:36:43.151] [INFO] console - Your Etherpad Lite git version is a31\n6052\n[2013-04-02 15:36:43.151] [INFO] console - Report bugs at https://github.com/eth\ner/etherpad-lite/issues\n[2013-04-02 15:36:43.229] [INFO] console -    info  - 'socket.io started'\n[2013-04-02 15:36:43.307] [INFO] console - You can access your Etherpad-Lite ins\ntance at http://0.0.0.0:9001/\n[2013-04-02 15:36:43.307] [WARN] console - Admin username and password not set i\nn settings.json.  To access admin please uncomment and edit 'users' in settings.\njson\n[2013-04-02 15:36:51.893] [INFO] http - 200, GET /\n...\n// HERE IT FAILS \n[2013-04-02 15:39:08.174] [INFO] socket.io - handshake authorized 'cKTNQk08cwAnt\nxPm9sbi'\n[2013-04-02 15:39:08.341] [INFO] access - [CREATE] Pad \"qwerty\": Client cKTNQk08\ncwAntxPm9sbi with IP \"127.0.0.1\" created the pad\n```\nThis time I got this error: \n```\nAn error occured\nThe error was reported with the following id: 'qVFDLsLbcBRoI9pqmvZO'\nPlease send this error message to us:\n'ErrorId: qVFDLsLbcBRoI9pqmvZO\nUserAgent: Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.31 (KHTML, like Gecko) Chrome/26.0.1410.43 Safari/537.31\nUncaught TypeError: Cannot call method 'setChannelState' of null in http://localhost:9001/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define at line 3'\n```\n. The one that comes with the bundle.  (I can check that tomorrow when I have access to the machine that I have installed it on) \n. ",
    "b3": "The --settings is mentionned in the main README.md file in the \"Tweak the settings\" subsection.\n. ",
    "robbi5": "For others who experienced the same problem: --settings doesn't accept absolute paths.\nSee utils/Settings.js#L145 - they get merged with the root installation path\n. ",
    "kdmon": "A third option would be to set the async and defer script tags attributes to make javascript loading non-blocking.\nBut this strategy can cause hickups if a function gets called before it is loaded, or if the DOM gets/need to be modified. So understanding execution order is important. Here's what the attributes do:\nIf async is present: The script is executed asynchronously with the rest of the page (the script will be executed while the page continues the parsing)\nIf async is not present and defer is present: The script is executed when the page has finished parsing\nIf neither async or defer is present: The script is fetched and executed immediately, before the browser continues parsing the page\n(http://www.w3schools.com/tags/att_script_async.asp)\n. ",
    "kai2002": "I also troubled with this problem\n2013/4/7 fixinghomer notifications@github.com\n\nHello!\nI run EPL 1.2.91 with Node 0.10.3 on a Debian Wheezy.\nWhen I try to copy some Text, the Pad hangs (reconnection). Plese read the\nlogentry below. Maybe it helps to solve the problem. Any other information\non request, of course!\nCheers,\nHomi\n^[[33m[2013-04-07 11:19:38.902] [WARN] console - ^[[39mCan't apply\nUSER_CHANGES\nZ:1wr>69|1l=1wm=1_0+1_1+j_0+18_1|1+1_1_2_3_4+1_0+1_1+k_0+9_1|1+1_1_2_3_4+1_0+1_1+h_0+o_1|1+1_1_2_3_4+1_0+1_1+p_0+d_1|1+1_1_2_3_4+1$\ninhaltliche Varianten erprobt,\nexterne Lernbez\u00fcge herstellt und vertieft,\nzeitliche Flexibilisierung anstrebt und\nBinnendifferenzierung bei Bedarf einsetzt., because: Trying to submit\nchanges as another author\n^[[32m[2013-04-07 11:19:38.951] [INFO] ueberDB - ^[[39mFlushed 1 values\n^[[32m[2013-04-07 11:19:38.963] [INFO] socket.io - ^[[39mtransport end by\nforced client disconnection\n^[[32m[2013-04-07 11:19:38.963] [INFO] socket.io - ^[[39mtransport end\n(booted)\n^[[32m[2013-04-07 11:19:38.964] [INFO] access - ^[[39m[LEAVE] Pad\n\"g.Ma5aOTJSyWwOeVhY$qiozyz24mtq176mfp08w\": Author \"a.SwkdhBkPuYE3STj0\" on\nclient CdHNRRMoTPj_OFhnwOqL with IP \"128.127.66.21\" left the pad\n^[[32m[2013-04-07 11:19:38.974] [INFO] console - ^[[39mDIAGNOSTIC-INFO:\n{\"padId\":\"g.Ma5aOTJSyWwOeVhY$qiozyz24mtq176mfp08w\",\"socket\":{\"sessionid\":\"CdHNRRMoTPj_OFhnwOqL\",\"closeTimeout\":60000,\"heartbeatTimeout\":60$\n^[[32m[2013-04-07 11:19:39.050] [INFO] ueberDB - ^[[39mFlushed 1 values\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1714\n.\n. \n",
    "otetard": "Yes the very same problem is also present on http://beta.etherpad.org (tested with browserstack.com) : \n\nOlivier;\n. Hum, in my case displaying the developer tools doesn't help. I'm redirected to a blank page, but I'm neither able to read the pad's content nor update it.\n. Thanks for committing a fix for this bug, but it does not appear to solve the problem (#1724), at least for me. The issue is still here on beta.etherpad.org and on my personal installation, with the patch applied.\nHere is the error log with minification disabled:\n\nCLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"slUtgOlR8B2E8chwEy8F\",\"msg\":\"'this.language' is null or not an object\",\"url\":\"https://pad.XXX.org/p/Y8tL0K0EPc\",\"linenumber\":903,\"userAgent\":\"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.2; Trident/4.0; Data Center; .NET CLR 1.1.4322; .NET CLR 2.0.50727; .NET CLR 3.0.04506.648; .NET CLR 3.5.21022; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729)\"}\n. This PR fixes #2781.\n. I\u2019ve use this patch on a production Etherpad-lite instance for a few months and it works good with Mozilla Firefox (at least, there are no double spaces inserted).\n. This issue exists since 58ab17bf9e21cd5c5266f3f7c1de80eedc1821dd. I find a way to fix this issue (see that a pull-request on ep_tasklist : JohnMcLear/ep_tasklist#18).\n. We can close this bug since the pull request was merged (#2739).\n. #3368 was merged, close this issue.. \n",
    "smlavoie": "Since our upgrade to 1.4, pads are not rendered on I.E. 9 or below.  Any clues?\n. I tried emptying the cache, I tried the developer\u00e9's console. Either it stays on loading on get to a similir screenshot  of Olivier  (April 10th 2013).\nUninstalling the few plugins we have didn't change a thing. \n. Unfortunately, we do not have the required resources to accomplish the bisect operation. \nFYI, we're running 1.5.1 not 1.4 as stated earlier and the problem is related to 1.5.1 not 1.4\n. Here is the error message : \nAn error occured\nThe error was reported with the following id: 'flT4BTTWYZ6SwVaMJYpf'\nPlease press and hold Ctrl and press F5 to reload this page, if the problem persists please send this error message to your webmaster: \n'ErrorId: flT4BTTWYZ6SwVaMJYpf\nURL: http://epad.ticfga.ca/p/27fev2015-3\nUserAgent: Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; WOW64; Trident/6.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E; InfoPath.3) Impossible d'ex\u00e9cuter le code \u00e0 partir d'un script lib\u00e9r\u00e9 in http://epad.ticfga.ca/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define at line 2618'\n. Thanks for your assistance! It is appreciated.\n. Hi John, I know you told me to bisect but we don't have the resources to do it. Our sysadmin is on a per hour basis, we're a public school, so money is not abondant.\nBut, maybe you could look into the beta version? https://beta.etherpad.org/ I do have exactly the same problem with the beta version. Using IE 9 or 10, it stays forever on loading (chargement) and sometimes get to an error.\nSo, why should I bisect our instance (which runs the latest version of etherpad lite) if even the beta version is not working correctly with IE 9 or 10?\nThank for your understanding!\n. I'm not a CLI guy and I don't have time for this (bisect). I'm a etherpad user, not a programmer nor a linux user. I made more tests though on two differents etherpad instances (besides ours and beta) and they all behave the same way with IE 9. So, as a good opensource software user, I report the problem.\nAs for sending you a machine to test IE9, may I suggest you try a virtual machine (VM)? Take a look at https://www.modern.ie/en-us/virtualization-tools#downloads , you'll have what you need to test Etherpad on IE 9.\nMy actual users are from different school districts in Canada, and I unfortunately have more than 35% requests coming from IE browser! It is really out of my control, I have to work with this reality. And I would very much like my teachers and students to use etherpad.\nAgain, thanks for your understanding and your help.\n. ",
    "JackPo": "yup same issue here on both my personal installation and on beta site.  Etherpad IE8 does not update content, but will display update content from others.\n. yup, same problem here. \nOSX // nodejs v 0.10.4\n. it works now for me!\n. now a second problem shows up.  It doesn't happen when one user is connected, but when a second user is connected to the same pad, etherpad instantly crashes:\n[2013-04-15 08:26:28.913] [INFO] access - [CREATE] Pad \"bronx\": Client llmovxoCOXAmJbqXqNMx with IP \"160.39.240.27\" created the pad\n[2013-04-15 08:26:28.916] [ERROR] console - Error: Not sending the same event twice...\n    at Object.exports.prepareForWire (/opt/etherpad-lite/src/static/js/Changeset.js:1671:11)\n    at /opt/etherpad-lite/src/node/handler/PadMessageHandler.js:991:40\n    at /opt/etherpad-lite/src/node_modules/async/lib/async.js:486:21\n    at /opt/etherpad-lite/src/node_modules/async/lib/async.js:185:13\n    at iterate (/opt/etherpad-lite/src/node_modules/async/lib/async.js:108:13)\n    at /opt/etherpad-lite/src/node_modules/async/lib/async.js:119:25\n    at /opt/etherpad-lite/src/node_modules/async/lib/async.js:187:17\n    at /opt/etherpad-lite/src/node_modules/async/lib/async.js:491:34\n    at /opt/etherpad-lite/src/node_modules/async/lib/async.js:190:13\n    at /opt/etherpad-lite/src/node_modules/async/lib/async.js:94:25\n[2013-04-15 08:26:28.935] [INFO] console - graceful shutdown...\n[2013-04-15 08:26:28.947] [INFO] ueberDB - Flushed 1 values\n[2013-04-15 08:26:29.049] [INFO] console - db sucessfully closed.\n. I pull down a new clone from git and it doesn't change the error above.\n. ",
    "snan": "It only worked fine for like half an hour, we haven\u2019t installed any plugins.\nStill, I removed src/node_modules (leaving the node_modules in the root in place) and re-ran run.sh.\nSame behavior, same message.\n. Oh, apparently I already am at develop\u2014and I still get that same message (after the same, very long, delay).\n. I installed the newest version of Firefox, deleting ~/.mozilla. I installed node.js 0.10.4. I installed etherpad fresh from git, not touching settings.json. It just stands at Loading, permanently\u2014that\u2019s how it has looked for the last three hours. I can\u2019t edit or write anything, it just says Loading.\n. (An aside: With this new Firefox, at least beta.etherpad.org is working\u2014a sign that my issues there were client side.)\nThe browser console list a bunch of CSS nits but also this:\nError: Couldn't find translations for en-US\nA locale issue?\nIt points to html10n.js.\nI guess it\u2019s a call to Loader.prototype.parse\n. etherpad-lite@strumpor:~/etherpad-lite$ git status\n  # On branch develop\n. A new error appears!\nScript error. in http://[our url]/socket.io/socket.io.js at line 0\n. ",
    "kwies": "Thanks for your quick response.\nI cleared the browser cache, but there a still errors, when I open http://beta.etherpad.org.\nE.g. on the start page the button text \"New Pad\" is not displayed.\nWhen I open a pad this text is displayed:\nAn error occured\nThe error was reported with the following id: 'hotPXNLQi4hGRS2PtjcA'\nPlease send this error message to us:\n'ErrorId: hotPXNLQi4hGRS2PtjcA\nURL: http://beta.etherpad.org/p/tJP7kQ0Cwq\nUserAgent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C)\nObject doesn't support this property or method in http://beta.etherpad.org/static/js/html10n.js at line 1'\nWebpage error details\nUser Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C)\nTimestamp: Thu, 11 Apr 2013 18:00:03 UTC\nMessage: Browser does not appear to be WebRTC-capable\nLine: 1\nChar: 2272\nCode: 0\nURI: http://simplewebrtc.com/latest.js\nMessage: Object doesn't support this property or method\nLine: 1\nChar: 6614\nCode: 0\nURI: http://beta.etherpad.org/static/js/html10n.js\nThanks.\n. ",
    "marla47": "yes, i checked it, it changed the iframe link to http://beta.etherpad.org/p/test, see here:\nhttp://www.transition-regensburg.de/test/\nsome smartphones have the same problem.\nfirefox & co. can access the beta.etherpad.org link directly without problems\n. thanks for the fast response...\nit's, the same problem with primary pad:\nhttp://www.transition-regensburg.de/test/\nI included http://free.primarypad.com/p/rDbdAhdlte. \n. thanks for today... for me the iframe also works well in Safari, but not in Firefox\nbtw, primarypad is super-fast, is it possible to install it myself on my server?\n(I just used the 'standard' ether pad lite installation from my provider, but it's not that fast: http://uberspace.de/dokuwiki/cool:etherpadlite)\n. I don't think that there is something broken with my test machine.\nPlease try to execute this in firefox: http://www.transition-regensburg.de/test.html ... for me this stucks in firefox but not in safari, chrome and opera. \nhere is the code: \n\n\n\n \n\n\n \nthis must be really a global problem if this doen't work in every browser, that is up-to-date (Firefox 20.0 and smartphones see the etherpad loading forever...)\n. which firefox version?\n. ",
    "rddaz2013": "Fedora 18 // nodejs v0.10.4 // chrome Version 26.0.14.10.63\nEtherpad Lite git version is 08b54ef\nsame thing\nEtherpad stop's at loading text on screen.\n. everything works now, after updating..thx\n. ",
    "rgbkrk": "Freshly setup nvm (tried node 0.8.23, 0.10.4) and etherpad-lite, running into same problem. I can't get past a loading screen in the browser.\nAre the Travis tests misreporting success?\n. Looking at what protocols are in the regex, I'm surprised we support gopher. Built in support for Gopher was dropped from Firefox 4.0+ (as well as IE6+).\n. Thanks for the nudge. :smile: #1804 \n. Maybe it's a lame attempt at doing SMTP.\n. Sorry, lame joke (HELO -> EHLO). If I had a Windows Mobile phone I would totally help debug this.\n. @pzyWorld The way I've installed some plugins (without using the admin page) is to go into the etherpad-lite directory and install via npm:\nbash\n~/etherpad-lite$ npm install ep_cursortrace\nOn a side note, issues aren't really the place for howto questions. I'm happy to help, but StackOverflow and Reddit are better avenues for questions like these. It's worth noting that no one asked the question on S.O. yet, so the points are all yours!\n. @marcelklehr I've used the admin panel and it is quite awesome. :+1:\nIf I do it from the command line though, I can create scripted installs/deploys. :heart: :shell:\n. You so fast John.\nAs for the other protocols/URL schemes I'm less familiar with:\n- AFP: Apple Filing Protocol - Wikipedia states it is unsupported, but was around as far back as OS X 10.5 (Leopard). Pardon me as I am not a mac user (yet).\n- txmt: TextMate Protocol\n- man: No idea what this is. Man pages? :confused: \nDoes anyone have a take on these?\n. Okee doke. I'll go by the list of official IANA registered schemes with an RFC.\n. Curses! I even knew this from my previous commits, I just let GitHub's browser editor guide me down the path of evil.\n. This time for real.\n. @Wikinaut Your white space differences are the good kind. The old file had Windows style line endings (^M).\nYou can see this by running diff -R:\nbash\n~/code$ git clone git@github.com:Wikinaut/etherpad-lite.git\n~/code$ cd etherpad-lite\n(develop) ~/code/etherpad-lite$ git checkout c3bffc262358fb066c58df229033db3eff6d1fc9\n((c3bffc2...)) ~/code/etherpad-lite$ git diff -R HEAD^^ src/templates/admin/index.html\ndiff --git b/src/templates/admin/index.html a/src/templates/admin/index.html\nindex 36b5262..4877651 100644\n--- b/src/templates/admin/index.html\n+++ a/src/templates/admin/index.html\n@@ -1,24 +1,24 @@\n-<!doctype html>\n-<html>\n-  <head>\n-    <title>Admin Dashboard - Etherpad</title>\n-    <meta name=\"viewport\" content=\"width=device-width\">\n-    <link rel=\"stylesheet\" href=\"../static/css/admin.css\">\n-    <script src=\"../static/js/jquery.js\"></script>\n-    <script src=\"../socket.io/socket.io.js\"></script>\n-  </head>\n-  <body>\n...\n-  </body>\n-</html>\n+<!doctype html> ^M\n+<html>^M\n+  <head>^M\n+    <title>Admin Dashboard - Etherpad</title>^M\n+    <meta name=\"viewport\" content=\"width=device-width\">^M\n+    <link rel=\"stylesheet\" href=\"../static/css/admin.css\">^M\n+    <script src=\"../static/js/jquery.js\"></script>^M\n+    <script src=\"../socket.io/socket.io.js\"></script>^M\n+  </head>^M\n+  <body>^M\n...\nTrimmed the diff there so this post wouldn't be too long, but you can see the difference.\n. There is still the old etherpad project, which is why etherpad-lite has a different name (in addition to being more lightweight).\n. Rad. I'm glad for that then! :+1: \n. Very true.\nAn even better practice is to use #!/usr/bin/env bash so it finds the appropriate version of bash in the PATH. Some systems have /usr/bin/bash.\n. ",
    "Djcd": "can also confirm this problem with nodejs 0.8.9 and ubuntu 12.04 with a fresh installed system, stuck on loading screen\n. Hi John,\ndeleted the complete etherpad folder and cloned it again. Your commit fixed the error on my installation (Ubuntu 12.04 and Nodejs 0.8.9), the package.json shows\n \"express\"                 : \"3.1.0\",\ntherefore it contains your fix ;)\nThank you\n. ",
    "unshorn": "Same problem OS X nodejs  v0.10.4\n. ",
    "interbr": "Struggled with this too after updating on ubuntu 10.04\nCommenting out \n//  if (err || !session) return accept('Bad session / session has expired', false);\nin\nsrc/node/hooks/express/socketio.js\nmakes it load again.\nAdmin-Panel is still not functional after this.\n. ",
    "svrkispm": "I am still having this problem, my system is CentOS 6.4, node.js 0.10.4,\nI am not sure how to view current version, but I have done git pull origin and git show lists:\ncommit 2c8699506d3c1a46a9fd1afae8ec1dcb69811905\nAuthor: John McLear john@mclear.co.uk\nDate:   Mon Apr 15 12:21:10 2013 +0100\npush express back as it breaks sessions\n. I have deleted whole folder, cloned from git again and now it works fine\n. ",
    "keyndark": "Thanks, now can access pads, but update page with opened pad got this error:\nbash\n[2013-04-15 15:18:17.332] [INFO] socket.io - handshake authorized 'XgbW4vQo9rGQqNtXoXgD'\n[2013-04-15 15:18:17.350] [INFO] ueberDB - Flushed 1 values\n[2013-04-15 15:18:17.451] [INFO] ueberDB - Flushed 1 values\n[2013-04-15 15:18:17.468] [INFO] access - [ENTER] Pad \"test\": Client XgbW4vQo9rGQqNtXoXgD with IP \"127.0.0.1\" entered the pad\n[2013-04-15 15:18:17.470] [ERROR] console - Error: Not sending the same event twice...\n    at Object.exports.prepareForWire (/usr/share/etherpad-lite/src/static/js/Changeset.js:1671:11)\n    at /usr/share/etherpad-lite/src/node/handler/PadMessageHandler.js:991:40\n    at /usr/share/etherpad-lite/src/node_modules/async/lib/async.js:486:21\n    at /usr/share/etherpad-lite/src/node_modules/async/lib/async.js:185:13\n    at iterate (/usr/share/etherpad-lite/src/node_modules/async/lib/async.js:108:13)\n    at /usr/share/etherpad-lite/src/node_modules/async/lib/async.js:119:25\n    at /usr/share/etherpad-lite/src/node_modules/async/lib/async.js:187:17\n    at /usr/share/etherpad-lite/src/node_modules/async/lib/async.js:491:34\n    at /usr/share/etherpad-lite/src/node_modules/async/lib/async.js:190:13\n    at /usr/share/etherpad-lite/src/node_modules/async/lib/async.js:94:25\n[2013-04-15 15:18:17.470] [INFO] console - graceful shutdown...\n[2013-04-15 15:18:17.551] [INFO] ueberDB - Flushed 1 values\n[2013-04-15 15:18:17.651] [INFO] console - db sucessfully closed.\nChrome 26.0.1410.64 m\n``` bash\nAn error occured\nThe error was reported with the following id: 'f91UD3vj6wjX5JZyCZGV'\nPlease send this error message to us:\n'ErrorId: f91UD3vj6wjX5JZyCZGV\nURL: http://mypad/p/test\nUserAgent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.31 (KHTML, like Gecko) Chrome/26.0.1410.64 Safari/537.31\nUncaught TypeError: Cannot call method 'setChannelState' of null in http://mypad/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define at line 3'\n```\nOpera 12.15.1748\n``` bash\nAn error occured\nThe error was reported with the following id: 'Hj9fRINYGTYYkl3NsE9r'\nPlease send this error message to us: \n'ErrorId: Hj9fRINYGTYYkl3NsE9r\nURL: http://mypad/p/left4dead2\nUserAgent: Opera/9.80 (Windows NT 6.1; Win64; x64) Presto/2.12.388 Version/12.15\nUncaught exception: TypeError: Cannot convert 'pad.collabClient' to object in http://mypad/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define at line 3'\n```\n. ",
    "ali": "Thanks, @JohnMcLear. Updated my install and everything works now.\n. ",
    "ding444": "I'm still seeing the same error off of the current version.  I just pulled it down about 5 min ago and see \n[2013-04-15 15:51:00.969] [WARN] socket.io - handshake error Bad session / session has expired\nAlso plugins never load on the admin screen\n. I did a clone off of the development branch.  I've cleared the cache, tried 3 different browsers, and restarted the server multiple times.  I also deleted the whole folder, re-cloned it and tried it before modifying any settings.\nThis was a fresh install.\n. It works now!\n. ",
    "LongHairedHacker": "I ran into this problem this weekend, latest commit seems to have fixed it.\nDidn't get a lot of sleep beacause of this nasty bug .... so thanks a lot !\nI'm running ubuntu 11.10 with node v0.10.4.\n. ",
    "spruce": "I will add this tomorrow\n. I have added it to both express and Socket.io.\nFor express I use the standard method enable('trust proxy'). so that req.ip get's set to the original IP.\nBut for socket.io I haven't found anything. There was once a pull request but it got never merged: https://github.com/LearnBoost/socket.io/pull/397 so I added a quickfix for that. will do a pull request there too.\n. ",
    "nicolaasmatthijs": "I don't, which indicates that the error is probably an issue with our local deployment. Any idea what the cause of this error message could be?\n. We're using ep_headings\n. @marcelklehr : Our application uses the standard language_country locale format (e.g. en_GB, nl_NL, etc.). Based on the locale set by the user in our application, we automatically specify which languages Etherpad needs to be shown in. This is done by taking the first part of that locale code (e.g. en, nl, etc.). Unfortunately, Chinese is the only one for which that doesn't work, as zh doesn't exist.\n. +1. Being able to fall back from zh-hans to zh would be very useful.\n. Sorry, that is what I meant as well. The logical one to fall back to would probably be zh-hans.\n. The alphabetical approach sounds more straightforward\n. I've been able to reproduce this on an iOS device as well. When I try to scroll down through the document, I keep getting flipped back to the top of the document.\n. ",
    "bemeric1": "@marcelklehr I had the same thought. To be completely honest, I'm unable to fully explain why not copying the attribs works. The Changeset library is rather confusing without comments, but I'm assuming Changeset.follow is meant to be a merge of two changesets. In this case, one would expect that a merge of a CS with attribs and an identity CS would preserve those attribs. However, here's a few observations:\n1. Notice in Changeset.follow how the '+' opcode is handled at the start of the newOps applyZip function. It has a conditional check against op2's opcode (checking whether op2.opcode != '+'). In this case, Changeset.follow() ends up not copying op1 and deliberately unsetting opOut attribs [see whichToDo == 1 case]. Compare this to when (op1.opcode != '+'), where the function goes ahead and does copy op2 [see whichToDo == 2 case].\n   - This may be why the changeset spam issue is not experienced when just character addition is involved.\n   - My fix to not copy op1 when op2.opcode is empty is similar in logic. In the case we're resolving with this bug, cs1 is the CS with new attribs, and cs2 is the identity. cs2 being the identity means op2 has no opcode (op2.opcode === ''). So, in our case we again special case and when op2.opcode is not desirable, we don't copy the op.\n2. A fix one level up from Changeset.follow appears to also possibly resolve the issue. In changesettracker.js : applyChangesToBase() you can modify userChangeset after the issue is encountered:\n   - Observe the line in applyChangesToBase():\nuserChangeset = Changeset.follow(c2, oldUserChangeset, preferInsertingAfterUserChanges, apool);\n- Add a conditional immediately after:\nif (Changeset.oldLen(oldUserChangeset) === Changeset.newLen(userChangeset))\n{\n  userChangeset = Changeset.identity(Changeset.newLen(userChangeset));\n}\n- this fix detects when applyChangesToBase applies an attrib-only change (and thus will end up leaving the client's document CS in a non-identity state). It then forces that CS back to an identity state so the client doesn't think it made the change.\n- However, this fix feels more like a bandaid then a true solution. I believe Changeset.follow() is still the heart of the issue and would prefer the full fix at the lowest level.\n1. I've been heavily testing the proposed fix myself and with other users - upwards of 15 people all acting on a pad at once doing excessive text and attrib changes.\n   - Not once have we experience any strange/adverse effects - attrib changes, text changes, deletion, selection, full document attrib changes, line attrib changes, etc. all continue to work as expected.\n   - There's been an extremely notable performance increase. Before this fix, with individuals hammering on a single pad, browsers would crash after 5-6 users started acting aggressively on it. Tons of DOM nodes would be constantly recreated as a result of compounding changeset spamming.\n   - With the fix, 15+ users and no browser or server performance issues are hit at all. Also, no changeset spamming (and thus no extreme/constant DOM redrawing) is encountered.\nIn closing, I wish I could give a 100% definitive reason, but after dozens of hours I still can't put into words an exact reason as to why this fix works; the best I can do is present the observations above. If you guys are able to help make sense of this for pinpoint reasoning, I'd greatly appreciate it. In the meantime, I'm going to continue running this fix on my repo while developing as it definitely has fully resolved the issue for my team and I.\nThanks for any help you guys can continue to provide on this!\n. ",
    "ercankk": "The etherpad lite process crashed while apache kept running. The error log in /var/log/etherpad-lite/ is empty, the one in /var/log/apache2/ has a lot of the following \n[Sun Apr 21 15:36:11 2013] errorConnection refused: proxy: HTTP: attempt to connect to 127.0.0.1:9001 (localhost) failed\n[Sun Apr 21 15:36:11 2013] [error] ap_proxy_connect_backend disabling worker for (localhost)\n[Sun Apr 21 15:36:11 2013] [error] proxy: HTTP: disabled connection for (localhost)\nIs there any other log that I should have a lock at?\nthx for your help!\n. Oh sorry, I wasn't very clear on that. /var/log/etherpad-lite/error.log is literally empty. There a couple entries in older logs but they seem to be unrelated. After searching through the access logs, however, I managed to find this:\n\u001b[32m[2013-04-19 16:36:55.607] [INFO] message - \u001b[39mfrom x296QwWa5JjOVHY2zNf2: {\"type\":\"COLLABROOM\",\"component\":\"pad\",\"data\":{\"type\":\"USER_CHANGES\",\"baseRev\":13585,\"changeset\":\"Z:2jb<1|14=19q=e-1$\",\"apool\":{\"numToAttrib\":{},\"nextNum\":0}}}\n\u001b[31m[2013-04-19 16:36:55.640] [ERROR] console - \u001b[39mError: exports: mismatched follow\n    at Object.error (/var/lib/nodejs/node-apps/etherpad-lite/src/static/js/Changeset.js:39:11)\n    at Object.assert (/var/lib/nodejs/node-apps/etherpad-lite/src/static/js/Changeset.js:53:13)\n    at Object.follow (/var/lib/nodejs/node-apps/etherpad-lite/src/static/js/Changeset.js:2013:11)\n    at Object.callback (/var/lib/nodejs/node-apps/etherpad-lite/src/node/handler/PadMessageHandler.js:559:35)\n    at /var/lib/nodejs/node-apps/etherpad-lite/src/node_modules/ueberDB/CloneAndAtomicLayer.js:120:17\n    at /var/lib/nodejs/node-apps/etherpad-lite/src/node_modules/ueberDB/CacheAndBufferLayer.js:345:7\n    at [object Object].get (/var/lib/nodejs/node-apps/etherpad-lite/src/node_modules/ueberDB/CacheAndBufferLayer.js:142:5)\n    at [object Object].getSub (/var/lib/nodejs/node-apps/etherpad-lite/src/node_modules/ueberDB/CacheAndBufferLayer.js:317:8)\n    at [object Object].doOperation as operatorFunction\n    at [object Object].emit (/var/lib/nodejs/node-apps/etherpad-lite/src/node_modules/ueberDB/node_modules/channels/channels.js:38:11)\n\u001b[32m[2013-04-19 16:36:55.640] [INFO] console - \u001b[39mgraceful shutdown...\n\u001b[32m[2013-04-19 16:36:55.664] [INFO] console - \u001b[39mdb sucessfully closed.\n\u001b[32m[2013-04-19 16:47:35.468] [INFO] console - \u001b[39mInstalled plugins: ep_etherpad-lite\n\u001b[32m[2013-04-19 16:47:35.576] [INFO] console - \u001b[39mYour Etherpad Lite git version is 344e8be\n\u001b[32m[2013-04-19 16:47:35.576] [INFO] console - \u001b[39mReport bugs at https://github.com/ether/etherpad-lite/issues\n\u001b[32m[2013-04-19 16:47:35.649] [INFO] console - \u001b[39minfo: 'socket.io started'\n\u001b[32m[2013-04-19 16:47:35.785] [INFO] console - \u001b[39mYou can access your Etherpad-Lite instance at http://0.0.0.0:9001/\n\u001b[32m[2013-04-19 16:47:35.785] [INFO] console - \u001b[39mThe plugin admin page is at http://0.0.0.0:9001/admin/plugins\nIs this in any way useful?\n. Perfect! Thx very much :)\n. ",
    "dlongley": "This bug might be related to: https://bugs.webkit.org/show_bug.cgi?id=92594\nThat bug makes it sound like the way the editor is currently implemented may result in a page layout for every key press on webkit browsers.\n. @dirkcuys, it helps but does not solve this issue. It decreases the rate at which rapid successive keystrokes reduce responsiveness. This increases responsiveness by an order of magnitude in the common case. There are more notes in the PR.\n. @dirkcuys, downgrading isn't likely to help. If you have enough content in your pads it's going to be slow, period. The PR helps mitigate the problem a bit (the performance degradation rate is slower), but it's not the real fix. The problem can only be solved in one of two ways: a fix for webkit so that it doesn't layout the page so often or a change to the design of etherpad so that it doesn't use a separate DOM element for every character in the pad. Really, both of these fixes should happen at some point. The combination of redoing the page layout for every key press and having a ton of elements that need to be laid out is the killer.\nA bug has been filed with webkit to change its behavior so that it does more lazy/consolidated updates, it's just unclear if anyone will get around to working on that any time soon. Here, with etherpad lite, we could take a similar  lazy approach by only splitting up content into separate DOM elements when multiple people were editing the same area of a pad. We might see some real performance gains for most large pads in this case, but it is a more complicated design to get right.\n. > Is there a separate DOM element for each character? looking at a pad in chrome developer tools looks like there's just a div for each line, then a span for each author's contribution in each line.\nYeah, sorry, it is per line. To give an overview of my understanding of what's going on (on webkit browsers):\n1. User presses a key while typing.\n2. Etherpad-lite (ace) adds a letter to the existing span.\n3. Etherpad-lite updates the window selection which causes webkit to layout the page.\n4. Etherpad-lite calculates changes.\n5. Etherpad-lite generates and inserts a new DOM line (div+span+etherpad-lite specific attribute stuff) that includes the just-typed letter and then removes the old one (triggering more layouts).\nIf you have thousands of lines on the page, then every time you hit a key while typing the above happens very slowly. Deferring page layouts in webkit or doing some DOM combination or more-lazy updating on the etherpad-lite side should correct this problem.\n\nThe only way i could see to cut down on DOM elements would be to combine lines with the same author (or stripped author-less lines) into the same div. The problem would still persist with highly collaborative documents until the author colors were cleared.\n\nCombining DOM elements would help, as would delaying updates and redesigning how the updates occur, eg: reducing unnecessary inserts/deletes.\n\nThat may be why I can't easily reproduce the issue just by myself. I'm using ubuntu and Chromium Version 28.0.1500.71 Ubuntu 13.04 (28.0.1500.71-0ubuntu1.13.04.1), and pasted the whole text of Hamlet (4741 lines in total) into a pad with the PR and, while the lag was noticeable after that paste, it was still very usable.\n\nThe PR may have helped a bit with that too. But, yes, having a pad that has only been edited by a single person will not result in a slowdown as quickly as one with lots of changes by different people. The slowdown increases with the number of DOM elements that need to be laid out.\n\nCould a faster fix be to soft-limit the number of different author color spans in a pad? There could be some periodic background task that could remove the oldest author color spans until we're under the limit.\n\nYes, it would help mitigate the problem a bit. I'm not sure that's a fix that people who are experiencing this problem would like, however. Even so, if the pad is large enough, a single editor slows things down more than should really be considered acceptable (or as \"good performance\").\n. > Which tasks could be put into a web worker? Nothing DOM-related.\n@marcelklehr, I don't think web workers would address the problem here -- particularly because it is (perhaps entirely) DOM-related. This is a solvable problem; it isn't that there are just so many tasks that we simply can't get good performance. The problem is that the editor triggers an unnecessary number of layouts and the layouts take far too long. Both of these issues can be addressed to a reasonable degree by redesigning the core editor code to reduce the number of DOM operations required per edit and reducing the number of DOM elements used in general.\nFor instance, we can avoid removing an entire DOM line and reinserting a new one for every key press (see point 5). The code should be smart enough to know when you're typing into a span that you already \"own\" so it doesn't have to do extra work. I assume the current code was written the way it was because it was easy and consistent; it simply hasn't been optimized. However, it may be that some other redesign work could help avoid having to make these sorts of special optimizations altogether. It would be helpful if the original author of that code could comment, but he/she may not be available.\nThere's not much we can do (without editing webkit code) to improve the layout code itself (note that Firefox doesn't have this same problem), but the frequency of layouts could be reduced.\n\nWhat sort of help is needed to make this move?\n\n@nemobis, there needs to be a proposal put forth that would change some of the core editor design to avoid extra layouts and to reduce the number of DOM elements used to something more scalable. To solve the problem properly, there's probably a decent amount of work that needs to be done to refactor how the main editor works and preserves authorship in the DOM. The code itself is hard to follow and needs to be reorganized and better commented so design choices (and resulting limitations) are well-understood.\n. @nemobis, what @JohnMcLear said ... I figured as much. It's \"legacy\" code that I don't think anyone working on etherpad-lite is all that familiar with (at least doesn't have ownership over). Perhaps for that reason alone it needs some attention and refactoring (and commenting) so a situation like this one doesn't arise again where it's difficult for anyone to take it over without a lot of effort. I'd say that's the biggest barrier to getting a fix. I'd like to go in and fix it and do some redesign work, but I simply don't have the time right now.\n. @JohnMcLear, I think there are some areas to look into for improving the situation (as noted in https://github.com/ether/etherpad-lite/issues/1763#issuecomment-27576051), unfortunately, it's unlikely that I'll personally have much time to address them until next year at the earliest. I've got a number of deadlines on other projects to deal with this year.\nSomething else the community here could do is lobby hard to get these bugs fixed:\nhttps://code.google.com/p/chromium/issues/detail?id=423170\nhttps://code.google.com/p/chromium/issues/detail?id=138439\nhttps://bugs.webkit.org/show_bug.cgi?id=92594\nGetting those fixed might bring performance in Chrome on par with Firefox. Ultimately, it would be best to address the above mentioned design issues, but getting these blink/webkit bugs fixed could go a long way towards improving performance.\n. From that first chromium bug -- see this fiddle: http://jsfiddle.net/eJeQC/\nI'm pretty sure that's the same problem (with the same cause) we see here with etherpad. Note it's fast in Firefox (alerts with ~0ms when you click in the result area) and very slow in Chrome (~100ms+, depending on hardware).\n. I'm still time strapped at the moment. However, I'm thinking the right approach to solving this, probably a number of other bugs, and getting maintenance into a better state would be:\n1. Rewrite the core editor using a new version of Ace. I think etherpad-lite should have more of a dependency-based relationship with Ace (install via module vs. what appears to be highly-modified check-ins of a very old version (2009)). This would let us pull in fixes from Ace independently of etherpad-lite and off-load a ton of maintenance-related bugs, reduce etherpad-lite's code base size, keep concerns limited to etherpad-lite's value-add and therefore keep things simpler for devs, etc.\n2. Etherpad-lite's core design should be around tracking, storing, and transmitting changes to an Ace document (from multiple users), nothing more. On top of the core should be the same sort of feature set that exists now (basic UI stuff, picking colors, viewing history, etc.; hopefully changing core wouldn't require us to make too many changes elsewhere). In short, after a rewrite of core, we should still have all the features and a similar feel to what we had before, but core's scope would be appropriately limited, the code would be easier to understand, and we could focus on etherpad-lite features instead of worrying about the underlying editor itself.\n3. As I'm always short on time, I've only briefly looked at Ace's APIs, but it seems like the first cut at a redesign would involve writing an EditSession that tracked changes, communicated them to the server, and received changes from other users from the server. Each user would  just get their own EditSession on a document. Changes would be serialized to/from JSON and, at least it seems, could be applied as a change set via a simple call to applyDeltas on the shared Document. I haven't looked into all of what goes into an Ace change object or what etherpad-lite is currently serializing for changes; we may/may not need to update the format or write something to convert legacy pads. We'd still need a way to leave meta tags on elements that were changed when applying each delta (to colorize for different users) -- but, maybe something easy/clever can be done here as well. I didn't look into it; maybe there's even a way to abuse a custom syntax highlighter to accomplish it.\nThere are more details than this to work through, but this is just a starting point for considering a redesign that would free etherpad-lite from its old and seemingly-unmaintainable core code base. Hopefully the new core can be engineered at a much higher-level of abstraction as proposed above, delegating all of the input event handling, rendering, messing with ranges and so forth to Ace. I think doing this sort of rewrite of core is probably the best approach for the long term health of etherpad-lite. And, it may turn out, that it's actually the easiest way to solve this \"black hole\" problem.\nI would like to get to doing this myself at some point, but if there's anyone out there that can get to it before me, by all means, please do so. I'll also respond to comments and give design feedback/help if I can should someone else feel like working on this.\n. @JohnMcLear, ah, I see that now (see also: https://groups.google.com/forum/#!topic/etherpad-lite-dev/0uU_LXp_iPg). It seemed like perhaps we were just using a very outdated version. Perhaps we should consider switching to c9's ACE editor. I'll have to do some more research into the differences; ultimately, the end goal was to push all of the editing, low-level event handling, etc. into another package and let etherpad-lite focus on real time tracking and syncing changes from multiple users in the same document. Right now, etherpad-lite requires us to get into low-level editor engineering and it would be a huge improvement if that could be avoided altogether.\nSo, while I haven't reviewed the differences between c9's ACE editor and (ACE - AppJet Code Editor), I do know that c9's ACE is quite modern, actively maintained, and seems like it has an API we can take advantage of to implement etherpad-lite's features at a higher level of abstraction.\n. It seems like it is still lacking in mobile support, despite the incredible interest in this issue: https://github.com/ajaxorg/ace/issues/37\n. Regardless, I think etherpad-lite is only going to become maintainable if we strip out any core low-level editing stuff and rely on another popular project/module for it. If mobile support is a deal breaker, then we should either see if we can help add it to ACE or choose a different editor as a dependency.\nACE has great performance, is popular (== good maintenance), and has a good API. We can check to see how other editors match up, but we must avoid projects that lack strong communities around them or that require significant custom low-level editing code to implement etherpad-lite's core features. Basic editing bugs, like this one in particular, shouldn't fall into etherpad-lite's domain.\nIf etherpad-lite doesn't do this already, it should also have a clear break between how it stores/serializes changes to documents and the editor it uses. IOW, there should be a simple translation layer that converts serialized changes to/from whatever editor we end up using. We should be able to swap editors out if necessary with as few changes as possible. This is just an ideal; it may not be that easily achievable.\n. Related to #1763.\nThis isn't a perfect fix, but it should make etherpads with a lot of lines more usable on webkit browsers like chrome. This patch essentially prevents the really slow webkit selection and node-querying code from running on every keyup event. Instead, the code will run whenever the idle worker runs, which is scheduled to run immediately after each keyup event. This translates into a maximum of every 4ms in most browsers (as mandated by HTML5).\n. @JohnMcLear, I'll try to adapt the test you created here: https://github.com/ether/etherpad-lite/blob/slow-chrome/tests/frontend/specs/responsiveness.js\nI'm pretty sure that test isn't actually simulating sending keyup events. Editing is still slow with that many lines on the screen (with the above patch) in chrome, but it isn't completely unusable as it is currently. Profiling also no longer reveals that the browser is waiting on browser selection functions, instead it just places all of the time in \"(program)\" ... which isn't particularly helpful.\nI think a major redesign (or bug fixes to webkit browsers) are necessary to fully resolve this issue. The above patch is just meant to help alleviate some of the pain. It's also more helpful when there are fewer characters per line (but still many lines), which is probably a more common case than what the test is currently doing. In any event, I'll try to make some changes and get a reasonable test working that at least demonstrates the improvement.\n. So on my test machine (Intel(R) Core(TM) i7-3770 CPU @ 3.40GHz), that new test sends 100 simulated key strokes (with all three key events, 'keyup', 'keypress', and 'keydown') to a pad with a lot of lines and does so in under 200ms (sometimes around 100ms). Without the patch, it takes over 1000ms. If you change it to do 1000 key strokes, it takes a little over 300ms with the patch and over 8000ms without. So there is clear improvement here, but, like I said above, it's non-optimal.\n. @JohnMcLear, sure! :)\n. ",
    "dirkcuys": "Does the pull request #1833 help with this issue?\n. @dlongley thanks. I tried applying the changes in the pull request on a server running at http://pad.p2pu.org/, but I still get almost unusable performance using Chromium 28.0.1500.71 on Ubuntu 12.04.\nAny suggestions? I'm considering downgrading to version 1.1.5? Is that advisable/possible?\n. Cool, I added it to https://github.com/ether/etherpad-lite/wiki/How-to-setup-Etherpad-on-Ubuntu-12.04-using-Ansible and linked it under the Set up subsection.\n. Code is here: https://github.com/ether/etherpad-lite/blob/develop/src/templates/pad.html#L38.\nI don't know why the favicon for pads is different from the favicon for the index page (https://github.com/ether/etherpad-lite/blob/develop/src/templates/index.html#L34), that was already in the code.\n. Ok. Does that mean that in src/node/utils/Settings.js we need to check if favicon is set to a custom URL and then correctly set faviconPad and faviconTimeslider if it is?\n. ",
    "DanBeard": "Is there a separate DOM element for each character? looking at a pad in chrome developer tools looks like there's just a div for each line, then a span for each author's contribution in each line. The only way i could see to cut down on DOM elements would be to combine lines with the same author (or stripped author-less lines) into the same div. The problem would still persist with highly collaborative documents until the author colors were cleared.\nThat may be why I can't easily reproduce the issue just by myself. I'm using ubuntu and Chromium Version 28.0.1500.71 Ubuntu 13.04 (28.0.1500.71-0ubuntu1.13.04.1), and pasted the whole text of Hamlet (4741 lines in total) into a pad with the PR and, while the lag was noticeable after that paste, it was still very usable.\nOf course I was the only one in the pad and all the pasted text was from me, so it makes sense that the performance would be much worse in large documents with a large number of authors per line (Since there would be many more author color spans in the DOM).  Could a faster fix be to soft-limit the number of different author color spans in a pad? There could be some periodic background task that could remove the oldest author color spans until we're under the limit. \n. ",
    "elnabo": "To replicate:\n-Click somewhere after \"http://tools.ietf.org/html/rfc488\"\nIt only works on this line for me.\n. Doesn't seem to happened there.\n. Thanks a lot for that. Gonna look at that.\n. ",
    "steveprentice": "Reproduced with newly created pad at http://beta.etherpad.org/p/r2iPklPySS. Resize your window so that one of the URLs on line 5 wraps to a new line. The 'http://' of the URL must be the first word on that wrapped line. After that, if you cursor is positioned after the URL on that line, it'll walk to the left on column every second or so.\n. @JohnMcLear, yes I initially saw this on a clean local instance (git clone; bin/run.sh) and reproduced on beta.etherpad.org.\n. ",
    "rchllc": "Hi John.  Thank you so much for the quick reply.  I suspect that this isn't a \"feature\" that many users would find helpful if moved to a setting, so I would suggest not even considering this as a project.  Rather, do you happen to know where the actual insertion of the filename into the .htm file happens?  That way, I could simply remove it on our installation of your great program.  As I mentioned, I know where the file is named, but despite an hour or so of searches, I can't find where it is inserted as text into the DestFile.\n. Hi John and Marcel.\nJohn, it's good to hear (in a really bad way, of course) that you've seen this issue, as it makes us seem less \"alone\" in this problem.  \nMarcel, the issue is server side.  But, one of the things that is making this so hard to figure out is that etherpad \"thinks\" that everything is okay even after the loss of sync.  Additionally, the logs aren't showing what is causing the disconnect.\nFor example, here is the log from when one disconnect occurred.  All of these errors are client side, but during this period, the whiteboard for all pads became \"unsynced.\"\n[2013-09-04 20:05:16.188] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"Tm3vUq5laihE0cf3y0ix\",\"msg\":\"TypeError: 'null' is not an object\",\"url\":\"http://XXXXXXX/p/XXXPAD\",\"linenumber\":0,\"userAgent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_8) AppleWebKit/534.51.22 (KHTML, like Gecko) Version/5.1.1 Safari/534.51.22\"}\n<te_export_918718535.html /tmp/eplite_export_918718535.doc doc               rror: convert /tmp/eplite_export_918718535.html /tmp/eplite_export_918718\n[2013-09-04 21:16:33.960] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"VDkvUv9k9x5tZM0koJKY\",\"msg\":\"ReferenceError: Can't find variable: chat\",\"url\":\"http://XXXXXXX/p/XXXPAD\",\"linenumber\":1,\"userAgent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_3) AppleWebKit/536.28.10 (KHTML, like Gecko) Version/6.0.3 Safari/536.28.10\"}\n[2013-09-04 21:21:34.853] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"fZFGpcidx71RPPYbJnYo\",\"msg\":\"ReferenceError: Can't find variable: chat\",\"url\":\"http://XXXXXXX/p/XXXPAD\",\"linenumber\":1,\"userAgent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/536.30.1 (KHTML, like Gecko) Version/6.0.5 Safari/536.30.1\"}\nA day later, after another disconnect, we found the following log entry:\n[2013-09-05 13:50:23.738] [INFO] console - DIAGNOSTIC-INFO: {\"disconnectedMessage\":\"slowcommit\",\"padId\":\"XXXPAD\",\"socket\":{\"sessionid\":\"I7g6DzNknjTD5ALZGDOV\",\"closeTimeout\":60000,\"heartbeatTimeout\":60000,\"heartbeatTimeoutTimer\":5,\"connectTimeoutTimer\":8}}\nUnfortunately, while the pads all disconnect several times a day, we can't find anything consistent in the logs.  I am willing to provide, of course, any information that you need... and I do truly appreciate your help.  Just let me know what to do to help you!\nRichard\n. Hi Marcel.\nI have no idea how to do a \"git bisect.\"  I'm happy to do so, though, so if you can point me in the right direction, I'll get to work.  I'm willing to do about anything to resolve this issue!\nRichard\n. ",
    "tykeal": "Apologies, I didn't realize there was a wiki page dedicated to something like this. Just seemed to make sense to add a fairly generic SysV init script to it.\n. ",
    "phoebebright": "Settings looking better:\n\"ssl\" : {\n            \"key\"  : \"/path-to-your/epl-server.key\",\n            \"cert\" : \"/path-to-your/epl-server.crt\"\n          },\n// An Example of MySQL Configuration (/\n   \"dbType\" : \"mysql\",\n  \"dbSettings\" : {\n                    \"user\"    : \"etherpad\", \n                    \"host\"    : \"localhost\", \n                    \"password\": \"honeycup\", \n                    \"database\": \"etherpad-lite\"\n                  },\nBut still on bin/run.sh\nroot@vividlogic:/home/etherpad-lite# bin/run.sh\nYou shouldn't start Etherpad-Lite as root!\nPlease type 'Etherpad Lite rocks my socks' or supply the '--root' argument if you still want to start it as root\nEtherpad Lite rocks my socks\n[: 29: Etherpad: unexpected operator\nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2013-05-08 17:23:10.328] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production.\n. Was only one version out but still getting [: 29: Etherpad: unexpected operator\nHowever, using the mysql database now, it was just my screwed up comments.\nThanks for your  help and looking forward to using Etherpad again.  Nothing better on the web in my view!\nPhoebe.\n. Feeling silly!  Thanks.\n. Only able to test on OSX Chrome 50 and Firefox 45.  On pasting in some indented text I find that:\nChrome - salmon - ignores indents of both spaces and tabs\nFirefox -pink - shows correct indents but is changing tabs to spaces (not a problem for me)\nHave attached the test text that I pasted\ntestindent.txt\n\n\n. Great!\n. Have posted a job on upwork in case anyone has time to have a go at this: https://www.upwork.com/jobs/~01baf402f29d7e810b\n. Thanks to Klaus Hessellund for sorting this out for me.  There is still work to be done to make it thoroughly secure but what I wanted was to use etherpad only within an iframe and only on subdomains of a particular domain.  \nThis code was added to express.js:\n```\n// Check if we are coming from mydomain. Exit if not\nvar ref = req.headers.referer; // get the referer\nref = ref + \"\"; // Make it a string so we can use regex\n// Make a clean origin address\nref = ref.replace ( /(https?:\\/\\/.?.mydomain.com)./,'$1');\n// Set the header, so the browser will allow the iframe\nres.header(\"Access-Control-Allow-Origin\", ref);\n```\n. ",
    "simonmysun": "Seems to be a SSL error...\n. @JohnMcLear Thanks for your concerning. We are now sure it works here. The phenomenon must be caused by the bad network.\n. everything goes well early in the morning, when there's hardly anyone surfing the internet... \n. ",
    "pzyWorld": "Thank you.\nCould you tell me where to get the plug-in?\n. Greatly appreciate all the above comments.\nProblems solved.\nadmin panel is very nice.\n. ",
    "stevegt": "Easy to reproduce.  Clear your beta.etherpad.org cookies, stick this in a local HTML file, and set something unique for XXX below.  On first load, your color will say \"Enter your name\" instead of whatever you replaced XXX with.  Reload the page, and everything's happy.\nChromium 25.0.1364.160 (Developer Build 25.0.1364.160-0ubuntu0.12.04.1) Ubuntu 12.04\n<head>\n    <title>\n        foo\n    </title>\n</head>\n<body>\n    <iframe\n        src='http://beta.etherpad.org/p/foo?showChat=false&showLineNumbers=false&userName=XXX' width=600 height=400></iframe>\n</body>\n. ",
    "pankajghadge": "@marcelklehr  Sorry for late reply, Suppose i have created group for each pad and Author2 is writing into pad, at the same time Author1 wants to change the pad permission to read, then your solution will not work here,  because session has already been created and in middle of writing into pad  Author1 changes permission of pad to read. On google drive my friend was writing into the my shared document while i changed his permission to read-only for that particular document , at the same time google drive pop ups error that your permission has been changed.  So  you can't write. So i want to know that Etherpad provide any API,  that allow to change the permission  of pad to read while write action is going on. \n. @marcelklehr : How could i delete session of other user?\n. @marcelklehr I have deleted cookies of pad user through Firefox web developer, but still it does not kick user from pad.  Etherpad still write into pad and save content till page is refreshed.  Once refreshed it shows \"You do not have permission to access this pad\". \n. @marcelklehr  You were right , after deleting session from server side, Etherpad doesn't allow user to write into pad, But what if next time user start session with pad group (create a group for each pad as you said). I will return him readonly URL and suppose user had previously copied URL which has write permission. User can copy paste URL into browser and start writing into pad. I think it is not possible to check through portal, Which user is writing into which pad. I Think Etherpad session does not check user is opening pad for read and write.\n. @marcelklehr Thank you for your valuable suggestions. You changed my way of thinking and because of you i will be able to come up with some solution that i know.\n. ",
    "osamak": "When will it be pushed to stable master? Also, how stable is the current develop?\n. ",
    "bee-keeper": "\"However, taking the contents of any revision and creating a new revision on top of the pad's history could be allowed for anyone\".\nDoes this functionality exist anywhere?  I don't see why a user shouldn't be able to do this.  Also, forking a pad doesn't make sense when all you need to do is create a new revision.\n. Isn't that like having a revision system which doesn't allow you to actually revert?  \nIn this case I'm not sure I see the point in letting users save revisions - can they do anything with them or are they simply lulled into thinking they can go back to some previous state?\n(By revert I mean to create a new revision from a previous revision.)\n. No, I'm happy to make this as a plugin, in fact I probably will have to now :)\nI'm interested in exactly what you mean by 'because in theory you could destroy a pads linear state' - how in theory could you do this by creating a new version from a previous revision?\nThanks for taking to the time to answer by the way, I'm just trying to scope out the problem here.\n. ",
    "pdinc-oss": "I started naively by\nexportHtml.getPadHTML(pad, rev, function(err, html)\n{\n  importHtml.setPadHTML(pad, html, callback);\n  padMessageHandler.updatePadClients(pad, callback);\n}\nbut I quickly discovered the import an export looses fidelity.\nNow I am looking to call appendRevision(aChangeset, author), but I need to make a changeset from a getInternalRevisionAText\nAny suggestions?\n. Why does this happen only on every 100 revisions?\nif(newRev % 100 == 0)\n{\n  newRevData.meta.atext = this.atext;\n}\n. There is no problem with that, it is just that the formatting gets lost.\n. I have been looking at the Changeset Builder, but I am not sure how I should be building it from an existing atext and attributes. I was hoping there was a Changeset.from(v1,v2) function.\n. A side note: Ctrl-A, Ctrl-C from the time slider then Ctrl-A, Ctrl-V works for my simple test document.\n. essentially any change set can start from nothing (Z:0) and clobber the cumulative changes.\n. I will put it in Pad then, I was adding restore(padID,rev) in the API.\n. increasing the ram from 1GB to 2GB\n. still crashes...\n. 4GB ram and no users, still crashes. I do not think this is a \"running out of ram\" issue.\n. running as root works.... hmm is this a non-root user limit issue?\n. running as root with 1GB works\n. centos 6 64bit selinux enabled latest patches\n. ",
    "dcht00": "For anyone just looking to simply restore contents of a pad - see \"ep_cristo_restore_revision\" plugin. Install via /admin.\nWhen installed, you get a button in Timeslider, or you can also restore with a link, for example:\nhttp://sometherpad.org/restore/[pad_name]/[revision_no]\n. Update on my case: I was also saving HTML exports, and it turns out a copy-paste into a new pad works perfectly.\nHowever I'm still wondering if it's possible to put in Markdown and have it interpreted?\n. For anyone just looking to simply restore contents of a pad - see \"ep_cristo_restore_revision\" plugin. Install via /admin.\nWhen installed, you get a button in Timeslider, or you can also restore with a link, for example:\nhttp://sometherpad.org/restore/[pad_name]/[revision_no]\n. OK @JohnMcLear that makes sense. fyi I did my best effort for responsible disclosure, if somebody would inform me back that the issue has been adressed I wouldn't have posted here.\nA simple writeup on disclosure on Etherpad site would do as well. Thanks a lot for solving the problem.\n. Hi, I'm recently having problems on both of my instances and they seem to be related to encoding.\nCould somebody please give clarity to this - what's the current settings in full?\n\nWhat does a proper show variables where Variable_name like 'character_set%' or Variable_name like 'collation%'; show for you?\nWhat's a proper my.cnf / way to get there (for a new DB / for existing DBs with \"latin\" or \"utf8\" collation/character sets)?\nIs it necessary for older installs to \"migrate\" / change encodings? Should the procedure above from @webzwo0i be followed, is it safe, or not? I used to run without \"charset\" : \"utf8mb4\" in settings.json, should I just add that, what else do I need to do / make sure? \n\nThis would be good to have at\nhttps://github.com/ether/etherpad-lite/wiki/How-to-use-Etherpad-Lite-with-MySQL\nThanks, I'm a bit confused.. @Gared thanks for reply - you're right of course. But \"character_set_database\" and \"collation_database\" describe the DB's settings, and as I asked I'd like to see somebody answer my questions above, to have a sanity check. Like this:\n```\nmysql> show variables like 'char%';\n+--------------------------+----------------------------+\n| Variable_name            | Value                      |\n+--------------------------+----------------------------+\n| character_set_client     | utf8                       |\n| character_set_connection | utf8                       |\n| character_set_database   | latin1                     |\n| character_set_filesystem | binary                     |\n| character_set_results    | utf8                       |\n| character_set_server     | latin1                     |\n| character_set_system     | utf8                       |\n| character_sets_dir       | /usr/share/mysql/charsets/ |\n+--------------------------+----------------------------+\n8 rows in set (0.00 sec)\nmysql> show variables like 'collation%';\n+----------------------+-------------------+\n| Variable_name        | Value             |\n+----------------------+-------------------+\n| collation_connection | utf8_general_ci   |\n| collation_database   | latin1_swedish_ci |\n| collation_server     | latin1_swedish_ci |\n+----------------------+-------------------+\n3 rows in set (0.00 sec)\n```\nThis really should make it to the wiki as well...\n. Oh hai, came here to report this issue and found this thread.\nMy collation is, for some reason, also \"latin1_swedish_ci\". In my install notes I've marked the need to change to UTF8... Maybe I was sloppy.\n(Using Mysql on Ubuntu + latest Etherpad version.)\n. Hi all, is there maybe any status update on this?. ",
    "monton": "I use API directly and get the same result as java client call. The browser also waits for the etherpad server all the time.\n. May you inform me before delete the message?  I just type long time and the message lost soon.I don't want to type any more.\nThe bug is in padUsers method of PadMessageHandler.js \ncallback(null, {padUsers: result});  // this line must move out from  async.forEach() statments.\n. I don't know. I'm a greenhand to github. Who would confirm the bug? \n. ",
    "kradan": "Hey Eric,\nI would like to test your code with sockjs. \nRecently with around 20 participants we ran into issues with a 200 kb pad.\nFor my slow connection (40KB/s) SocketIO.js just took 90% of the cpu (assumingly waiting for data).\nSo I would love to help improving the performance of etherpad.\nThanks for all your great work!!!\n. Great! To keep you motivated, i will send some friends here to cry for performance improvements from time to time.\nI did some auditing some time ago and found that socketIO.js takes most of the cpu:\ndp -> 80%\ndk\nbr\nbs\n(anonymous function)\nAce2Inner.a.withCallbacks\nI.applyChangesToBase\nAce2Inner.z.ace_applyChangesToBase\npad.js:22                (anonymous function)\npad.js:22                g -> 79%\npad.js:22                (anonymous function)\npad.js:22                (anonymous function)\npad.js:25                I -> 74 %\npad.js:3                (anonymous function)\nsocket.io.js:2        c.emit\nsocket.io.js:2        c.onPacket\nsocket.io.js:2        d.onPacket\nsocket.io.js:2        c.onPacket\nsocket.io.js:2        c.onData\nsocket.io.js:2        b -> takes 74% cpu load (389s/390s)\nThe used version was something around 1.2.10.\n. ",
    "vid": "in case this is helpful: https://medium.com/the-build/22af5c94a922\n. ",
    "v0lkan": "Hey, just jumping out of nowhere, to give my 2c:\nUsing engine.io might be another option; it looks like the whole socket.io team has focused their efforts on it; and it also looks like sock.js doesn't have too much activity for the last 3-4 months.\nI'm also in between engine.io and sock.js for a high-throughput realtime project; and still haven't decided yet.\n. ",
    "dummys": "As written in my issue, i use it but still not working... But in my access log I see the correct ip it's only on the logs of etherpad-lite.\n. No apache is doing it correctly because I see the correct ip in\naccess_log...\nMY_REAL_IP - - [09/Jun/2013:17:11:03 +0200] \"GET /\nsocket.io/1/xhr-polling/YNF6U0UZFGN4orLiaBm6?t=1370790664017 HTTP/1.1\" 200\n3 \"http://mywebserv/p/eddwdwdd\" \"Mozilla/5.0 (Macintosh; Intel Mac OS \"\nI think it's etherpad that use an incorrect headers to setup the ip in logs.\n2013/6/9 John McLear notifications@github.com\n\nWell if Etherpad is seeing the wrong IP then apache isn't rewriting\nproperly. Try the #apache channel on IRC?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1800#issuecomment-19167623\n.\n. Yes I see my real ip if i connect directly to the port\nI just made some custom logging and my X-Forwarded-For ip is the real ip\nWhich http headers do you use to find the ip ?\n. I want to have the correct ip in etherpad-lite. Don't want to look in apache logs...\n\nMarcel Klehr notifications@github.com a \u00e9crit\u00a0:\n\nWell, etherpad logs the IP of the connection's other end. If that \nhappens to be the reverse proxy, it logs the loopback. If apache logs \nthe correct IPs for you, what's your problem? (Some people intentionally \nput a reverse proxy in front of their etherpad installation to stop it \nfrom logging the users' ips.)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/issues/1800#issuecomment-19172308\n. I updated the package.json for etherpad-lite and now log4js works.\n. yes but how can i pull this ? Because i didn't clone the repository, I used\nthe .gz files...\n\n2013/6/13 Marcel Klehr notifications@github.com\n\nawesome. could you submit a pull request?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1806#issuecomment-19384559\n.\n. Yes, how can I git clone without overwritting my files ?\n. I've cloned the directory, now how can I commit the package.json change ?\n\n2013/6/13 Marcel Klehr notifications@github.com\n\ngit pull -r\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1806#issuecomment-19388060\n.\n. gaia src # git config --global user.name \"dummys\"\ngaia src # git config --global user.email dummys1337@gmail.com\ngaia src # git commit -m \"added log4js version 0.6.6 in package.json\"\n[develop 710a6df] added log4js version 0.6.6 in package.json\n 1 file changed, 1 insertion(+), 1 deletion(-)\ngaia src # git pull\nAlready up-to-date.\n\nHow can I send you the pull request then ?\n. ok done, thx =)\n2013/6/13 Marcel Klehr notifications@github.com\n\nyou need to create your own fork repo of epl on github (by forking this\nrepo). Then you push your changes (which are ideally in a separate\nbranch) to your repo and click \"send pull request\" on your github repo\n-- voil\u00e0.\nOn 13.06.2013 14:39, dummys wrote:\n\ngaia src # git config --global user.name \"dummys\"\ngaia src # git config --global user.email dummys1337@gmail.com\ngaia src # git commit -m \"added log4js version 0.6.6 in package.json\"\n[develop 710a6df] added log4js version 0.6.6 in package.json\n1 file changed, 1 insertion(+), 1 deletion(-)\ngaia src # git pull\nAlready up-to-date.\nHow can I send you the pull request then ?\n2013/6/13 dumMY's dummys1337@gmail.com\n\nI've cloned the directory, now how can I commit the package.json\nchange ?\n2013/6/13 Marcel Klehr notifications@github.com\n\ngit pull -r\n\u2014\nReply to this email directly or view it on\nGitHub<\nhttps://github.com/ether/etherpad-lite/issues/1806#issuecomment-19388060>\n.\n\n\n\u2014\nReply to this email directly or view it on GitHub\n<\nhttps://github.com/ether/etherpad-lite/issues/1806#issuecomment-19388862>.\n\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1806#issuecomment-19390288\n.\n. yes =) sorry for delay I'm quite new in git stuff\n. \n",
    "lizzard": "I  will not have a chance for another week or so, but thank you for the idea John!  I'm not sure what the exact issues are but maybe can work with others to collect info on what makes it so unworkable at the moment (compared to other collaborative editors) \n. I don't know the details and am not a screen reader user. But have had reports from friends who are blind and use screen readers that Etherpad is not accessible for them.  For me this is a problem because it's a collaboration tool that we use often at work at Mozilla!  I love Etherpad, and was using it for bug triage meetings --- but unless it's useable for screen readers I don't want to leave out any of my community.  So, I've been using wiki pages or Google Docs instead.   I would be happy to work with dbolter to try to find testers or developers at least to report or explain what doesn't work as well as to outline what might be done to fix the DOM structure for screen reader navigation. \n. ",
    "dbolter": "Hi John, could you elaborate on what you mean by \"you can do text to speech\"? Of course screen readers already employ TTS as part of their solution - is this what you mean - or do you mean that there is some TTS option built into etherpad-lite (which would make it a \"self-voicing\" app in accessibility terms)?\nI may be able to help with this issue but I want to make sure I fully understand the current status of things.\n. :)\nSo I think Lizzard filed this issue because existing screen readers can't currently work well with etherpad. The problem is that browsers are exposing the DOM structure and mutations but they are atypical for text areas/editors so the screen reader can't correctly make sense of them. The work to fix this would likely involve similar work to what they did in the orion editor (I have contacts)...\n. ",
    "MarcoZehe": "Hi all! To re-kindle this: The markup inserted into the contentEditable that is the text area must be compliant. So if somebody formats something as an ordered list, an ol and li elements must be inserted. Same for headings: A heading of a certain type is h1 through h6. Paragraphs are p elements etc.\nWhen I tried EtherPad last, I got a lot of differently styled divs, or at least I assume they're differently styled, but no semantic markup that I could make sense of. So I didn't know what were headings, what were list items etc. Also, the tool bars would need keyboard accessibility and markup work so they register as toolbar containers, buttons etc. and react to key presses in the same way they react to mouse clicks.\nI can help test and comment on patches. My blog at http://www.marcozehe.de has a lot of examples and articles on the WAI-ARIA and HTML5 accessibility topics, too (in English).\n. ",
    "sathomas": "As an FYI, here's some info on how Google Docs handles accessibility\n. Hi John. I'm definitely interested in working on this. I'm swamped at work for the next week or so, but might have some time to help after that. I have no knowledge of the Etherpad code base, but, as a user, I do have some ideas on how to improve its accessibility.\nOne suggestion I'd make is to first worry about the single user case (saving the live collaboration case for the second phase.) Even though one of Etherpad's major features is collaboration, I suspect there are plenty of folks that use it, at least some of the time, alone. There are also some relatively \"low hanging fruit\" for the single user case. If you like, I can try to put together a quick list now or a more reasoned and thoughtful list next week.\n. Some initial thoughts:\n- CKEditor is really strong on accessibility and, in general, probably serves as a great model.\n- Probably the biggest accessibility problem with Etherpad is that it traps the keyboard user in the main textarea. Once a user navigates to the textarea, there is no way (using the keyboard) to navigate out. A first step here would be to define a special key combination (I like Esc, but other online editors seem to have settled on Alt-F10) that shifts the focus from the main textarea to the first toolbar button. From there, the user should be able to Tab to other toolbar buttons (but see below).\n- Whatever the key combination(s) that support this behavior, there needs to be a way to tell the keyboard user that they exist. Perhaps a pop-up that's \"visible\" to screen readers, though that does introduce it's own i18n issues.\n- A related issue for those sites that embed Etherpad documents in iframes is how to let a keyboard user \"escape\" from the iframe and get back to the main page. That will probably require some kind of plugin that enable postMessage communication between the Etherpad iframe and the main page. Since Etherpad seems to use a lot of nested iframes, this might not be as trivial as it first appears.\n- Probably the number two issue is that the toolbar itself isn't currently navigable via the keyboard. I realize this is strictly a plugin issue and not a core Etherpad issue, but, of course, users don't care about that distinction. The simplest way to improve this would be to use <button> elements instead of <span> elements for the toolbar buttons.\n- There are also some ARIA attributes that could be added to the toolbar to make it more accessible.\nThose are probably the low hanging fruit. Beyond that, there are a couple of broader areas that hinder accessibility:\n1. When rendered on the page, the document is just a simple textarea without any structure. For a couple of paragraphs, that's no big deal. For something more substantial, though, it's really challenging for a visually impaired user to \"navigate\" the document without benefits of structures such as headings. I don't know that it's possible to address this, but perhaps there's a way.\n2. Live collaboration. This one's a real challenge. Google has obviously spent a lot of effort on making this work for Google Docs, and even they haven't been all that successful. A possible approach would be to take a look at what Google has done and see if anything is easily replicable.\n. Alas, I'm not at all familiar with the etherpad codebase. Any patch I might submit would probably cause more harm than good.\n. Both Chrome and Firefox do a better job with the toolbar, but in neither case is Etherpad usable since the toolbar and keyboard obscure the content area:\n\n\n(Not sure I'd refer to either as \"commonly used\". Most browser stats show Android is by far the most common browser on Android.)\n. Following up for @bp323, so far I can't reproduce the problem with iOS 8.1; however, there does appear to be a scrolling issue with iOS 8.1. If it looks real after a bit more investigation, I'll create a new issue. (I'll also continue trying to reproduce the original issue.)\n. I was able to reproduce the problem (finally). Unfortunately, commenting out the indicated lines did not help.\n. Using 1.4.1 (with minify false and no cacheing), load a large-ish (half a dozen printed pages) in an iPad. Try to scroll to the bottom of the document using touch scrolling and the document keeps jumping to the top. You can reach the bottom of the document using the (down) arrow key. Once there, hit Enter and the document scrolls to the top.\n. FWIW, Just checked the iOS 9 beta and the problem is still present.\n. BTW, CKEditor has also flagged this as an issue\n. @JohnMcLear Have you filed a bug/issue with webkit or Apple Radar?\n. Since Apple bug reports aren't public (and duplicates help increase the priority), I went ahead and created a simple (no dependencies, no JavaScript) test case and filed a bug report with Apple. It's number 21321546\n. No it does not. You can continue typing and continue hitting Enter and the text input remains hidden.\n. As an FYI, the problem also exists if you use an external keyboard, so it's not that the pop-up keyboard is obscuring the input. (It just takes a little more typing to reach the bottom of the viewable area ;^)\n. I don't think the OAE project has that in the budget alas.\n. The bitwise or does seem out of place, but in my specific scenario the code never reaches that conditional anyway. Same thing for the conditional that begins if(caretOffsetTop){ (it's never reached). At least that's what Dr. console.log says.\n. > Obviously without a device I'm stuck!\nWell, the bug can be easily reproduced in the iOS Simulator.\nAlso, as a clarification: When using an external keyboard, pressing the Enter key has no effect, but typing actual characters does move the scroll position appropriately. It's only the soft keyboard where neither works.\n. Or https://appetize.io/demo\n. ",
    "MrSchism": "Preface: I am sighted and have not used a screen reader.\nMy interest is in how it scales.  It's chaotic visually, but a reader sounds even more so.  It seems like it would be fine being between two people, but exponentially crazier after that, largely due to the limits of the reader.\n. ",
    "pvagner": "Heh guys I think it's amazing. I have created an example pad with my comments. Once it disappears I can restore it later from a backup.\nhttps://beta.etherpad.org/p/pvagner%27s_test\nEdit: The major issues is that I don't know how to manipulate the timeline slider. Other than this I have only found some minor issues so far.\n. Hello,\nSorry for my late reply.\nI apologise but I fail to make use of time slider accessibility. I don't know how to make it work so I can see multiple revisions of the same pad. Do I need to explicitly save some revisions or does it allow me to navigate all the revisions as I am editing a pad?\nMy testing pad at beta.etherpad.org is now gone because of possible upgrades. I do have 1 MB backup file. And I can't import it either to beta.etherpad.org nor to my own install of etherpad.\nAlso admin UI is working like a webpage I haven't found nothing breaking usability so far although I have only tested a few plugins up to now. My confusion with time slider is my biggest issue at this point. Otherwise I like it all.\n. Thank you for the explanation and a test pad. I have finally got the idea hopefully.\nI can move back / forward a revision by pressing left / right arrow key however nothing changes when I focus the buttons and press the enter key. Also as I am moving with arrow keys I am getting no feetback that something has changed on linux with Firefox 37 and orca. I will test on Windows later.\nDo you remember my comments on sliders from that testing pad. Have you looked for some keyboard usable sliders just to try comparing how these are working please?\nAlso I am a bit curious have you received some more comments from other disabled people via other means or am I just the lucky one speculating a lot here?\n. ",
    "ndarilek": "Should this be available on the Sandstorm demo?\nI'm blind and just tried this. The edit area is nicely accessible, but the toolbar is a bunch of unlabeled buttons/links. Arrowing through just says \"button button button link clickable clickable clickable\"...\nNice work so far!\n. Should this be available on the Sandstorm demo?\nI'm blind and just tried this. The edit area is nicely accessible, but the toolbar is a bunch of unlabeled buttons/links. Arrowing through just says \"button button button link clickable clickable clickable\"...\nNice work so far!\nEdit: Ah, I see the issue. Toolbar buttons read when tabbed through, but not when arrowed past. It might be wise to use aria-label rather than the title attribute for those, as that should address both use cases.\nSee this thread on the Discourse forum for more details:\nhttps://meta.discourse.org/t/accessibility-software-and-discourse/13711/21\n. Check out my edit below. Looks like all the controls use title rather\nthan aria-label. They work fine if I tab between them, but not so well\nif I arrow through the controls outside of the edit field. Should be a\npretty simple fix.\nThanks!\n. Sorry, the reference to Sandstorm was a bit of a red herring. I'd tried\nit in Sandstorm and had assumed that maybe the version Sandstorm shipped\nmight be lagging behind the released version, but it looks pretty\nup-to-date. The issue isn't Sandstorm, it's just the use of the title\nattribute rather than aria-label. Sandstorm itself is already pretty\naccessible, but that's tangential to this issue. :)\n. Yes, because it still uses the same code. I.e.:\n<button class=\" buttonicon\nbuttonicon-insertunorderedlist\" data-l10n-id=\"pad.toolbar.ul.title\" title=\"Unordered\nList (Ctrl+Shift+L)\">\nWhat you need is:\n<button class=\" buttonicon\nbuttonicon-insertunorderedlist\" data-l10n-id=\"pad.toolbar.ul.title\"\naria-label=\"Unordered List (Ctrl+Shift+L)\">\nOr possibly both the title and aria-label attributes. Please see the\nDiscourse thread. In short, screen readers don't reliably present the\ntitle attribute because it's been abused for years. In the case of my\nuse (NVDA, Windows 8.1) I get two different presentations of the same\ncontrol. The first, when I tab between the buttons, is correct. The\ntitle attribute is spoken as it should be.\nThe second is a bit non-standard. I can arrow through the controls as if\nthe webpage was a document. This is often a faster way for me to scan a\npage. When you tab around, you're focused just on that particular\nelement. By contrast, when I arrow, I can get a larger glimpse of how\nthe page is laid out independent of keyboard focusability/order. In this\ninstance, I just hear \"Button Button Button Button...\" which is less\nthan ideal. :)\nThe way to fix this is to use aria-label instead of, or in addition to,\nthe title attribute. Any situation where this isn't the case will still\nexhibit this behavior. It isn't a huge deal, but it would certainly be\nvery helpful.\nThanks.\n. ",
    "kentonv": "I think that Etherpad in Sandstorm should be the same accessibility-wise as Etherpad outside of Sandstorm.\nOf course, Sandstorm itself introduces an additional top bar with some more buttons, and we haven't had a chance to think about accessibility yet (in fact, the UI is still pretty bad even for those who can see).\n. Random thoughts:\n- Be sure to test on a network with some latency. This is all about removing network round trips so if you test against a localhost server you won't see much benefit. :)\n- Prefetching plugin Javascript is the most important thing, since otherwise they are loaded serially. But will that need help from the plugins to declare their dependencies? In my case I simply brute-forced it by recording exactly the files that were normally loaded using my particular plugin set.\n- It's probably preferable to use HTTP Link headers over <link> tags as a SPDY or HTTP/2 proxy can probably do nice optimization with it. I only used <link> in my hack because Sandstorm currently drops Link headers (something I should fix).\n- You could prefetch on on the root page, but keep in mind that Sandstorm skips that page. For Sandstorm I'll need prefetching on the pad page.\n- Also note that if you prefetch on the root page, you'll want to make sure that caching headers (specifically max-age) are set correctly so that the browser doesn't have to ping the server again to check that nothing has changed when the user browses to the pad page. (Maybe you've already done this; I didn't check.) Of course, setting a non-zero max-age always has the down side of causing staleness problems immediately after a server upgrade.\n- If you prefetch directly on the pad page, then I think you don't have to set a cache max-age; the browser's behavior is that it will fetch the resource to cache, and then serve the resource from cache once during the page load, even if it is not otherwise cacheable.\n- Notice the once part. Currently, at least with my plugin set, ace2_common.js and ace2_inner.js actually get loaded twice during pad load. If the resource has no caching max-age, then only the first of these two will be served by the prefetch, and the second will go back and hit the server again. These files are quite large so this is pretty bad. I'm not sure why it happens but it seems like a bug!\n. > Use header instead of link IE <meta http-equiv=\"Link\" content=\"</images/big.jpeg>; rel=prefetch\">\nTo be clear, I don't think there's any advantage of <meta> over <link>. The advantage of the HTTP Link header is that if it is actually delivered as an HTTP header (not a meta-equiv) then HTTP/2 bridges which don't know how to parse the HTML can act on it.\n. Honestly I've never used the header before so your guess is as good as mine.\nIncidentally I am looking at some Chrome network traces of my HTML-level hack right now and seeing that only some resources are being served from prefetch and not others. I'm not sure I totally understand the rules here.\n. Well, their docs claim it's supported:\nhttps://www.chromium.org/spdy/link-headers-and-server-hint/link-rel-subresource\nBut yeah, if you're having trouble, I say just stick with the HTML approach.\n. @JohnMcLear FYI I'll probably get a chance to look at this on Friday.\n. Hmm this currently doesn't help Sandstorm, but that's Sandstorm's fault: We aren't passing through the Link header. (We operate on a whitelist since we need to examine the security implications of each header before allowing it.)\nWe also don't pass through Cache-Control, which would be a good idea to implement as well so that the Ace files aren't double-fetched.\nBut I think once we fix these, this change should help!\n. (For Sandstorm I am switching over to minification at build time, so this doesn't affect us, but I thought I'd point it out.)\n. Yeah, Sandstorm Etherpad has everything from the Etherpad 1.6.1 release.\nIt's possible that Sandstorm is introducing its own mobile viewing bugs by forcing Etherpad into an iframe. iOS Safari is notoriously weird in its handling of iframes. Unfortunately I don't have an iPhone to test on.... The Sandstorm build of Etherpad does not include any docx converter plugins. I did look at enabling the abiword integration some years ago but found that the conversion quality was unacceptably poor. If there's a better plugin these days that people recommend I'd be happy to integrate it.\n(Unfortunately Sandstorm's architecture currently doesn't provide any way to install plugins without rebuilding the whole Etherpad package, but as this is a very valuable feature I'm happy to update the official build... if it works.). Yeah, it's clearly valuable, the problem is that it's hard. :). Well, I would assume an exporter would be developed as a plugin independently of Sandstorm, and then I'll throw it into the Sandstorm build.\nIs there an existing importer/exporter plugin you recommend?\nIf there isn't a good one currently available then there's nothing I can do on the Sandstorm side.. ",
    "smags": "This issue was fixed by disabling compatibility mode for intranet sites in IE8. That's why it worked fine on beta.etherpad.org.\n. ",
    "ljoets": "Hi,\nI would like to use andika font (http://www.dafont.com/fr/andika-basic.font) by default on pads. Where do I place ttf file, and what should the easiest way to proceed ?\nThanks ;-)\n. Ok, thanks ;-)\n. Hi,\nSo I am able to change font on everything around the writing area by modifying /home/etherpad/etherpad-lite/src/static/css/pad.css & iframe_editor.css, but the text typing zone still stay with Tahoma, but I don't found Tahoma font in any css file !\nShould I create a iframe_editor.css in /home/etherpad/etherpad-lite/src/static/custom/ folder ?\n. Andika font was already installed on my client. Your solution is useful if the font isn't installed on the client.\nBut it doesn't solve my problem.\nI am able to change font in parameters window, line numbers and everything displayed but not in the pad writing zone !\nPlease help ! ;-)\n. So I tested in src/static/custom/pad.css\n```\ninnerdocbody {\nfont-family: Andika !important;}\n```\n-> not working\nbody#innerdocbody {\n  font-family: Andika !important;}\n-> not working\nIt seems that an inline 'font-family' element overrides the css even if I use !important.\n. Sorry, it works fine !\nSo for my dyslexics users, I added in src/static/custom/pad.css\nbody#innerdocbody {\n  font-family: Andika !important;\n  font-size: 14px;\n  line-height: 20px\n}\nBut you need to both restart etherpad-lite and refresh browser with CTRL+F5 to see changes ;-)\nThanks !\n. Hi,\nThanks for that idea.\nYou should be right, but I can't test it before september :-(. ",
    "bit": "would be good to fix the docs in that case, i.e. doc/api/hooks_server-side.md notes that one should pass null not [null].\n. works with [null] as expected, docs mention null\n``` patch\ndiff --git a/doc/api/hooks_server-side.md b/doc/api/hooks_server-side.md\nindex 0486f7d..ed95bd1 100644\n--- a/doc/api/hooks_server-side.md\n+++ b/doc/api/hooks_server-side.md\n@@ -156,7 +156,7 @@ Things in context:\n 1. message - the message being handled\n 2. client - the client object from socket.io\n-This hook will be called once a message arrive. If a plugin calls callback(null) the message will\n+This hook will be called once a message arrive. If a plugin calls callback([null]) the message wi\nPlugins may also decide to implement custom behavior once a message arrives.\n@@ -168,7 +168,7 @@ Example:\n function handleMessage ( hook, context, callback ) {\n   if ( context.message.type == 'USERINFO_UPDATE' ) {\n     // If the message type is USERINFO_UPDATE, drop the message\n-    callback(null);\n+    callback([null]);\n   }else{\n     callback();\n   }\n```\n. rebased\n. so require allows you to access variables without explicit export?\n. setting right: 0 should even work in IE6, will look at your test sepc setup, not familiar with it so far.\n. ",
    "vercha": "has this feature been completed now? I encountered the same issue as #8 \nis there any solution to this?\nthanks!. I'm afraid that I'm not too familiar with its source code to implement it. \nbut I'd like to make an effort ,if there is anything I can do.\nThanks again!. yeah, that issue fixed. \nthe present issue is :  etherpd arrange toolbar plugin after loading toolbar menu. I want to change the button order. Now,I can use plugin \"pre/post\" to define toolbar plugin buttons' order.   But fail to let plugin button display in the middle of menubar.\nDO you have any possible advice?\nThanks!\nId like to make a pull request if It helps. And thanks for etherpadteam!. ",
    "mrvisser": "Yea I learned a bit more about it tracking it down. 0.1.0 certainly is a busted version, but it's ancient. The only trace I can find is in jsdom-nocontextifiy and it specifies *. Explicitly changing that to 0.6.0 doesn't seem to fix the problem.\nMust be a change in NPM's lookup in 1.3? The output isn't really telling me who is request optimist 0.1.0. I'll keep investigating, but please let me know if something jumps out at you.\n. The clean-css@0.3.2 dependency require optimist@0.1.x, and for some reason npm 1.3 is treating that as wanting 0.1.0 instead of latest 0.1.x.. that sounds like a bizaar npm bug.\n. This is a bug in npm 1.3.0, or more specifically the version of semver it links to, where \"0.1.x\" does not resolve to the latest. Ouch!\nUpgrading to npm 1.3.1 would fix this.\nThanks for the help @JohnMcLear !\n. ",
    "donalddavidson": "It appears socketio connection is only called on server start and not user connection\n. ",
    "FarmerJack": "Thank you guys for responding.\nSo it seems like a non-starter. I am now attempting to use Nginx as a reverse ssl proxy and trying to set request headers with the certificate information instead. Once there i think i can access it a bit better...\n. Ok Nginx was a bad idea. After reading about how you guys added SSL into etherpad-lite to avoid being forced to do reverse-proxy i figured i would avoid it myself.\nthis seems to be getting my cert data as a plugin but only because i had to change your ssl options like so\n\noptions = {\n    key: fs.readFileSync(path/to/key),\n    cert: fs.readFileSync(path/to/cert),\n    requestCert: true\n}\n\nI attempted to write a hook into exports.restartServer but this does not seem to be available? Or atleast i cant seem to get it do do anything or respond in any way. I guess etherpad-lite does not give an option to have the exress server request client certs? Maybe i can get this into the expressConfigure Hook... but that is next step.\nfor now i have this \n\nexports.expressConfigure = function(hook, context, cb) {\n    context.app.get(\"/p/*\", function(req, res, next) {\n        var subject = req.connection.getPeerCertificate().subject;\n        res.header('X-Forwarded-User', subject.CN);\n        console.log(subject.CN);\n        next();\n    });\n\nNow i need to figure out how to get X-Forwarded-User into clientVars and disable name editing... but almost there!\n. I actually got it to work. I will post code after I get back from vacation.\nJack\nOn Jul 3, 2013 5:28 AM, \"John McLear\" notifications@github.com wrote:\n\nI dont think a hook exists to do that\nJack Farmer notifications@github.com wrote:\nI am creating a plugin so i can pull the Certificate data of users\nconnecting to an SSL enabled etherpad-lite instance and put it as the\nusername.\nSo far setting the userName on start by hooking into exports.clientVars\nworks fine but i am not sure what hook to use that will give me access to\nthe SSL session data.\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/ether/etherpad-lite/issues/1819>.\nThis email and its attachments may be confidential and are intended solely\nfor the use of the individual to whom it is addressed. Any views or\nopinions expressed are solely those of the author and do not necessarily\nrepresent those of the organisation from which this email originated. If\nyou are not the intended recipient of this email and its attachments, you\nmust take no action based upon them, nor must you copy or show them to\nanyone. Please contact the sender if you believe you have received this\nemail in error. This email was sent by School Email - Safe Webmail and\nHosted Email for Schools\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1819#issuecomment-20404537\n.\n. \n",
    "gnulinuxguy": "Yes, you are right. In node/db/PadManager.js there's an object with all Pad IDs.\n```\nvar globalPads = {\n    get: function (name) { return this[':'+name]; },\n    set: function (name, value)\n    {\n      this[':'+name] = value;\n      padList.addPad(name);\n    },\n    remove: function (name) { delete this[':'+name]; }\n};\nvar padList = {\n  list: [],\n  sorted : false,\n  init: function()\n  {\n    db.findKeys(\"pad:\", \"::\", function(err, dbData)\n    {\n      if(ERR(err)) return;\n      if(dbData != null){\n        dbData.forEach(function(val){\n          padList.addPad(val.replace(/pad:/,\"\"),false);\n        });\n      }\n    });\n    return this;\n...\n```\nThe problem is that this list will get much bigger in future - we have to get rid of this or else we'll run into serious trouble. Now besides the store database we also have a meta database with all pad keys and associated properties (such as the owner, deadlines, supervisors, etc.). So the problem could be easily fixed if we could have an option to specify the name of a second database (either with a custom or fixed table that contains all Pad IDs). This second database could then be queried in the get function of globalPads (that should perform well if the key is indexed). Btw, we never delete any pads.\nOr is there another way to fix this (besides dumping all our pads)?\n. Ok I think I found a quick (and dirty) fix. I tested this on a database with about 24K pads and the startup is now just a matter of seconds. Beware though, I did NOT test every feature of ep (only startup, reading pads, and changing pads).\nAnyways, this is what I did:\n1. in mysql I created a new table:\nCREATE TABLE IF NOT EXISTS `pads` (`key` VARCHAR( 100 ) NOT NULL COLLATE utf8_general_ci, PRIMARY KEY ( `key` ) ) ENGINE = INNODB;\n1. then I shut down ep (to prevent anyone from creating a new pad during this process) and copied the pad keys into the new table\nINSERT INTO `pads` (`key`)\nSELECT `key` FROM `store` WHERE `key` LIKE 'pad:%' AND `key` NOT LIKE '%:%:%';\nNote this step is only required once. Remember the keys in the 'pads' table must correspond to the pad IDs in the 'store' table at all times. Actually it would be better for me to use the meta database which already contains these keys - on the other hand it is perhaps better to use a separate table so that the developers of ep can code a permanent solution for everybody (see last comment).\n1. on line 50 in '..../etherpad-lite/src/node/db/PadManager.js' I made the following change\n/*db.findKeys(\"pad:*\", \"*:*:*\", function(err, dbData)*/\n    db.findKeys(function(err, dbData)\nThe reason for this is that I replaced the db.findKeys function in step 4 (btw, there's no need to include parameters).\n1. in '..../etherpad-lite/src/node_modules/ueberDB/mysql_db.js' I DELETED the 'exports.database.prototype.findKeys' function and INSERTED\nexports.database.prototype.findKeys = function (callback)\n{\n  this.db.query(\"SELECT `key` FROM `pads`\", [], function(err,results)\n  {\n    var value = [];\n    if(!err && results.length > 0)\n    {\n      results.forEach(function(val){\n        value.push(val.key);\n      });\n    }\n    callback(err,value);\n  });\n}\nNote: I am using mysql so I only changed the mysql file. If you are using another db software then you will have to do something similar in the file that corresponds to your db. The syntax of the SQL might be slightly different too (single quotes or no quotes at all).\nThat's it. Now just start etherpad-lite and you should be running ep within a few seconds.\nHere are a few comments:\n1. this fix does NOT take into account other features of ep which might use the findKeys function. For instance, the plug in 'ep_adminpads' will probably not work anymore because it needs a list of all pads. However, I guess it should be easy to fix this (simply replace the function call in the 'ep_adminpads' script, just like in step 3).\n2. maybe someone could make a more permanent solution by including the following changes:\n   a. the 'exports.database.prototype.init' functions (for each database engine) might implement the creation and copying of keys into the 'pads' table (if this does not already exist). So the very first time ep is started we might still have to wait a long time - but I guess that is not a problem.\n   b. every function which creates or deletes a pad should also create/delete the key from the 'pads' table\n   c. there should be a 'checking' function which determines whether the keys in 'store' and 'pads' are the same. Note: this query can be run while being in production without lag - I did a few tests and found no problem.\n   d. add a configuration parameter which turns the 'pads' table on or off\n3. the only thing I still don't like about this quick&dirty fix is the fact that the pad IDs are loaded into memory - if we want to display a list of pad IDs on screen we can simply read from the 'pads' table or am I missing something?\n. @JohnMcLear yes I agree that we need to know why it was changed. I just needed a quick fix :-)\n. No problem with rekonq 2.2.1 here. I tried this under Gnome3 and KDE4 (epl and nodejs are both the latest versions).\nHowever there seems to be a problem when the pad is embedded in an iframe - it seems to be unable to complete the loading process (no text is displayed and the browser just times out). Never seen this behaviour in any other browser before. \n. My access.log is full of these:\n[2013-10-11 05:32:00.579] [ERROR] console - CLIENT SIDE JAVASCRIPT ERROR: {\"errorId\":\"fHSFGEiHVKUqHEaearOZ\",\"msg\":\"Script error.\",\"url\":\"http://***IP ADDRESS***:9001/p/C8286617-72FC-40F9-B554-438E3925DCB2?showControls=true&showChat=true&showLineNumbers=true&useMonospaceFont=false&userName=***USER ID***\",\"linenumber\":0,\"userAgent\":\"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:24.0) Gecko/20100101 Firefox/24.0\"}\nAny ideas?\nOh and sometimes I also get something like this:\n[2013-10-11 09:42:10.149] [ERROR] console - Error: Lock wait timeout exceeded; try restarting transaction\n    at Function.Client._packetToUserObject (/home/etherpad-lite/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/client.js:387:11)\n    at Query._handlePacket (/home/etherpad-lite/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/query.js:33:33)\n    at Client._handlePacket (/home/etherpad-lite/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/client.js:312:14)\n    at Parser.EventEmitter.emit (events.js:95:17)\n    at emitPacket (/home/etherpad-lite/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/parser.js:71:14)\n    at Parser.write (/home/etherpad-lite/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/parser.js:576:7)\n    at Socket.EventEmitter.emit (events.js:95:17)\n    at Socket.<anonymous> (_stream_readable.js:746:14)\n    at Socket.EventEmitter.emit (events.js:92:17)\n    at emitReadable_ (_stream_readable.js:408:10)\n    at emitReadable (_stream_readable.js:404:5)\nThe users are forced to reconnect but no changes are stored (they can read the pads though). I have to restart EPL almost every day now. \nI don't think that these messages are connected but it would be great if someone could explain what is going on.\n. That would be awesome! \nIf it is not possible then maybe you could point me to the file(s) that need to be changed?\n. But that's what I did a couple of days ago. Or did you fix it after the release? \n. Ok thanks. This looks quite promising! I have been testing this for a couple of hours and it seems to do the job.\nBefore using this version in production, however, I would like to point out something -- while doing a couple of simple tests (like copying text repeatedly etc.) I noticed that etherpad started to consume a lot more memory. I am only doing stuff in one pad and the etherpad process is already consuming more than three times of what mysql needs in the production environment. Of course I am a bit worried about what would happen when we install this version on production servers with hundreds of simultaneous users and lots of pads being edited on a weekly basis.\nDo you have any idea whether memory consumption depends on the number of users & pads versus the number of transactions? It also looks like memory is not cleared after heavy load. The old version always consumed the same amount of memory.\n. @JohnMcLear The load testing tools are nice but they don't tell us much about the load on the server (IO, CPU, RAM, etc.). Besides, memory consumption did not change a lot during the automatic load test - however, it changed considerably when I tested it manually (e.g. rapid copy/paste operations, changing font style for large chunks of text, etc...).\n@marcelklehr Yes indeed: I changed to develop and started the server. I used a clean database and only 1 pad. Memory seemed to increase when I started to copy/paste random text. The same thing happened when I used the admin tool to add and remove a few extensions. \nAnyways, tonight I will do another test with a copy of the production database - I will report back if I find anything of interest.\n. I think I have good news. The test with the copy of the production database went smoothly. No errors and memory consumption was very stable (sometimes it goes up by 10-20% but it always returns to the same level again). Startup is very fast (hurray!) and changeset problem did not occur (yay!).\nSo this got me thinking why my first experiment seemed to have caused memory problems. I haven't pinned it down but the only differences (that I can think of) are the following:\n1. the first experiment had many extensions installed (they were removed using the admin panel). Among those extensions, I noticed problems when using \"alignment\" and \"pad lists\" ...\n2. when I created a fresh database I forgot to set it to utf8  -- doh (maybe this is related to #1914 ?)\n3. in the first setup I used the normal etherpad homepage to create pads (editOnly = false). In the production setup I use editOnly=true and use the API to create pads. I don't think that this setting makes any difference though.\nAnyways, I have switched production to the latest version with only three plugins installed: ep_headings, ep_remove_embed, and ep_disable_change_author_name.\nThe plugin ep_align was dumped because it seems to cause some strange behaviour when combined with ep_headings (maybe a bug?).\nSince startup (some three hours ago) everything runs fine. Currently we have about 60 simultaneous users but I expect it will grow to a few hunderd by this evening (CET). Keeping fingers crossed...\n. I had some strange behaviour when I marked some text as heading and then used alignment to change its position (center and then left again). For some reason it created a copy of the title (one with big fontsize) and one with normal fontsize. The weird thing was that I couldn't make corrections - the only thing that worked was to delete the title and start over again. \n. Problem solved -- the issue was caused by another process that has nothing to do with Etherpad.\n. ",
    "nikhilben": "Yes bug #1822 seems to be mentioning the same issue. \nAlso noticed, sometimes we couldn't select the notes using ctrl+a in Opera (for the ordered list). The note simply does not get selected. \n. ",
    "Fohsap": "Actually, altering the file as described in the error has no effect on the error.\n. ",
    "bubluy": "I just went to 127.0.0.1/pad/admin (on my local install) and the page loads up fine. But going to example.com/pad/admin doesn't (on my server). \nI turned \"requireAuthentication\" back to false because the page just wouldn't load (epl doesn't come with a default plugin that utilizes the \"authenticate\" hook?). However, I left the \"authenticateAuthorization\" as true. \nAccessing /admin should work on the server since it worked locally on my machine. Am I missing something else?\n. I'm not sure if it matters, but I access everything under /pad subdirectory (as noted in the nginx file).\n. ",
    "sudeeshr": "hi, \nI am having similar issue with etherpad lite -\nUserAgent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:30.0) Gecko/20100101 Firefox/30.0\nTypeError: pad.collabClient is null in http://hostname/javascripts/lib/ep_etherpad-lite/static/js/pad.js\nHow do fix this? Please help.\n. ",
    "kesyn": "Thanks, I've fixed this issue, because I am using https://github.com/ja-jo/EtherpadLiteDotNet this library to access the api, which encodes the query of url.\n. ",
    "TheThirdOne": "I know what it is; setChannelState needs to be defined as a method. It is only occasional because only occasionally is it called.\n. I don't know what setChannelState should do. If you know, I could wrap up a pull request. \n. ",
    "paslasks": "Hello,\nAny idea when this part of the develop branch will be stable enough for a release (of if it already is)?  We just started using etherpad-lite for the semester and students are seeing this error so we would like to perhaps update to the most current stable version, provided that it would be fixed there or stable enough for release soon.  For now our solution is to ask students not to use IE, but this is of course a sub-ideal solution.\nThank you,\nStephen\n. ",
    "frlan": "Any chance to get in contact with him? Only found the export plugin inside etherpad code tree... \n. On 1.2.12 it appears HTML-export does, but both, mediaWiki and Dokuwiki, doesn't\n. ",
    "anushaallam": "Can you please give me more detailed explanation of your comment so that we can contact the maintainer. \n. Thank you and the issue has been reported to etherpad-plugins.\nThe link to the issue reported is https://github.com/fourplusone/etherpad-plugins/issues/29 for reference. \n. ",
    "Sandroux": "Thanks!! I found the solution.\nBut is it possible for each participant to write with a specific font size that is independent of the other participant's size? \n. We are speaking of IE8\n. ",
    "derveloper": "i can confirm that\n. using a fresh 1.2.11 or develop has the same problem, the stresstest is a very helpful tool.\ni will try to tackle down the problem since this is a showstopper for us. i bet someone could kill some public epl instances with that :)\n. yes, with no logging it crashes too.\n. i have increased the stack_size to 3936, multiplied the default by 4, really don't know if this is a bad idea, but it seems to help :)\n. for the moment, this fixed our problem, we had about 40 people in a pad last week with no problems.\n. ",
    "tykling": "Please dont change this - using == for string comparison in bourne sh is the correct way to do it, and it works as intended. \nChanging this script to use bash would introduce a new dependency (not all systems have bash installed as default). \nNot sure why the script doesn't work for @Karunamon but changing it to use bash is not the solution.\n. yes, I even yanked out the relevant part of the script to make a test, results here:\n```\n$ cat test.sh\n!/bin/sh\nignoreRoot=0\nfor ARG in $*\ndo\n  if [ $ARG == '--root' ]; then\n    ignoreRoot=1\n  fi\ndone\necho \"ignoreRoot is $ignoreRoot\"\n$ ./test.sh\nignoreRoot is 0\n$ ./test.sh --root\nignoreRoot is 1\n$\n```\nThis test was done on FreeBSD with a bourne sh. \n. Might that be because centos uses dash? dash is more strict wrt. posix. \nThe comparison should be with just one = to be posix, and it is also a good idea to enclose both sides in quotes, so the if line should read:\nif [ \"$ARG\" = \"--root\" ]; then\ninstead of what is currently there. This has been tested and works on freebsd so if you can confirm it also works on centos I believe that is the correct change to make.\n. yes please :+1:  :)\n. I also have this issue and have tried a bunch of times to get a dirty.db migrated to Postgres using bin/migrateDirtyDBtoRealDB.js\nThe output from the migration script looks promising, it counts down to 0 and then waits a while and says it has flushed a bunch of lines:\n[etherpad@pad2 ~/etherpad-lite]$ node bin/migrateDirtyDBtoRealDB.js \n[2018-02-26 22:13:31.094] [INFO] console - Waiting for dirtyDB to parse its file.\n[2018-02-26 22:13:51.278] [INFO] console - Loaded 153755 records, processing now.\n[2018-02-26 22:13:51.281] [INFO] console - Records not yet flushed to database:  153700\n[2018-02-26 22:13:51.283] [INFO] console - Records not yet flushed to database:  153600\n...\n[2018-02-26 22:13:53.533] [INFO] console - Records not yet flushed to database:  200\n[2018-02-26 22:13:53.533] [INFO] console - Records not yet flushed to database:  100\n[2018-02-26 22:13:53.534] [INFO] console - Records not yet flushed to database:  0\n[2018-02-26 22:13:53.534] [INFO] console - Please wait for all records to flush to database, then kill this process.\n[2018-02-26 22:17:25.677] [INFO] ueberDB - Flushed 153755 values\nThis is with 1.6.3 but I had this same issue when I tried to migrate about a year ago. After faffing about with it for a few days I just gave up and stuck with dirty.db.\nI am very interested in getting this working. It seems like not all the data is making it to Postgres for some reason. This means that many of the pads are created as new pads when I open them on the new server.\nAny suggestions?. ",
    "Karunamon": "@tykling Using the script as is works for you if you specify --root on the command line?\n. This is odd.. I can get it to work on my mac too (even with the original script unchanged). The machine I was encountering this on was CentOS 6, maybe they're doing some kind of shell symlink shenanigans. I'll let you know after I get into work today. Thanks!\n. Yup, you called it! Also applies on Ubuntu as well.\n```\n[root@ubuntubox ~]# ls -l /bin/sh\nlrwxrwxrwx 1 root root 4 Mar 29  2012 /bin/sh -> dash\n./test.sh --root\n./test.sh: 5: [: --root: unexpected operator\n```\nAnd we change the quoting and equals the way you say:\n```\ncat test.sh\n!/bin/sh\nignoreRoot=0\nfor ARG in $*\ndo\n   if [ \"$ARG\" = \"--root\" ]; then\n      ignoreRoot=1\n   fi\ndone\necho \"ignoreRoot is $ignoreRoot\"\n./test.sh --root\nignoreRoot is 1\n```\n.. and all is well. Thanks again for pointing this out!\n. ",
    "offerman": "Sorry, can't reproduce...\n. And a debug log:\n[2013-08-18 22:15:11.872] [DEBUG] http - 200, GET /pluginfw/plugin-definitions.json -- 4ms\n[2013-08-18 22:15:11.880] [DEBUG] SessionStore - GET z8dpFP6pxOm6FAgwCSYUazgb\n[2013-08-18 22:15:11.880] [DEBUG] ueberDB - GET    - sessionstorage:z8dpFP6pxOm6FAgwCSYUazgb - {\"cookie\":{\"path\":\"/\",\"_expires\":null,\"originalMaxAge\":null,\"httpOnly\":true},\"user\":{\"password\":\"************\",\"is_admin\":false,\"username\":\"********\"}} - from cache\n[2013-08-18 22:15:11.885] [DEBUG] SessionStore - SET z8dpFP6pxOm6FAgwCSYUazgb\n[2013-08-18 22:15:11.885] [DEBUG] ueberDB - SET    - sessionstorage:z8dpFP6pxOm6FAgwCSYUazgb - {\"cookie\":{\"path\":\"/\",\"_expires\":null,\"originalMaxAge\":null,\"httpOnly\":true},\"user\":{\"password\":\"************\",\"is_admin\":false,\"username\":\"********\"}} - to buffer\n[2013-08-18 22:15:11.885] [DEBUG] http - 307, GET /javascripts/lib/ep_etherpad-lite/static/js/colorutils?callback=require.define -- 6ms\n[2013-08-18 22:15:11.968] [INFO] ueberDB - Flushed 1 values\n[2013-08-18 22:15:12.038] [DEBUG] SessionStore - GET z8dpFP6pxOm6FAgwCSYUazgb\n[2013-08-18 22:15:12.038] [DEBUG] ueberDB - GET    - sessionstorage:z8dpFP6pxOm6FAgwCSYUazgb - {\"cookie\":{\"path\":\"/\",\"_expires\":null,\"originalMaxAge\":null,\"httpOnly\":true},\"user\":{\"password\":\"************\",\"is_admin\":false,\"username\":\"********\"}} - from cache\n[2013-08-18 22:15:12.041] [DEBUG] SessionStore - SET z8dpFP6pxOm6FAgwCSYUazgb\n[2013-08-18 22:15:12.041] [DEBUG] ueberDB - SET    - sessionstorage:z8dpFP6pxOm6FAgwCSYUazgb - {\"cookie\":{\"path\":\"/\",\"_expires\":null,\"originalMaxAge\":null,\"httpOnly\":true},\"user\":{\"password\":\"************\",\"is_admin\":false,\"username\":\"********\"}} - to buffer\n[2013-08-18 22:15:12.041] [DEBUG] http - 307, GET /javascripts/lib/ep_etherpad-lite/static/js/colorutils.js?callback=require.define -- 3ms\n[2013-08-18 22:15:12.069] [INFO] ueberDB - Flushed 1 values\n[2013-08-18 22:15:12.218] [DEBUG] SessionStore - GET z8dpFP6pxOm6FAgwCSYUazgb\n[2013-08-18 22:15:12.218] [DEBUG] ueberDB - GET    - sessionstorage:z8dpFP6pxOm6FAgwCSYUazgb - {\"cookie\":{\"path\":\"/\",\"_expires\":null,\"originalMaxAge\":null,\"httpOnly\":true},\"user\":{\"password\":\"************\",\"is_admin\":false,\"username\":\"********\"}} - from cache\n[2013-08-18 22:15:12.220] [DEBUG] SessionStore - SET z8dpFP6pxOm6FAgwCSYUazgb\n[2013-08-18 22:15:12.220] [DEBUG] ueberDB - SET    - sessionstorage:z8dpFP6pxOm6FAgwCSYUazgb - {\"cookie\":{\"path\":\"/\",\"_expires\":null,\"originalMaxAge\":null,\"httpOnly\":true},\"user\":{\"password\":\"************\",\"is_admin\":false,\"username\":\"********\"}} - to buffer\n[2013-08-18 22:15:12.221] [DEBUG] http - 307, GET /javascripts/lib/ep_etherpad-lite/static/js/colorutils/index.js?callback=require.define -- 3ms\n[2013-08-18 22:15:12.269] [INFO] ueberDB - Flushed 1 values\n[2013-08-18 22:15:12.408] [DEBUG] SessionStore - GET z8dpFP6pxOm6FAgwCSYUazgb\n[2013-08-18 22:15:12.408] [DEBUG] ueberDB - GET    - sessionstorage:z8dpFP6pxOm6FAgwCSYUazgb - {\"cookie\":{\"path\":\"/\",\"_expires\":null,\"originalMaxAge\":null,\"httpOnly\":true},\"user\":{\"password\":\"************\",\"is_admin\":false,\"username\":\"********\"}} - from cache\n[2013-08-18 22:15:12.409] [DEBUG] SessionStore - SET z8dpFP6pxOm6FAgwCSYUazgb\n[2013-08-18 22:15:12.409] [DEBUG] ueberDB - SET    - sessionstorage:z8dpFP6pxOm6FAgwCSYUazgb - {\"cookie\":{\"path\":\"/\",\"_expires\":null,\"originalMaxAge\":null,\"httpOnly\":true},\"user\":{\"password\":\"************\",\"is_admin\":false,\"username\":\"********\"}} - to buffer\n[2013-08-18 22:15:12.409] [DEBUG] http - 304, GET /locales.json -- 1ms\n[2013-08-18 22:15:12.470] [INFO] ueberDB - Flushed 1 values\n. ",
    "coderhs": "Has anyone worked on this yet? How would you build it, can we use jquery.autocomplete for this purpose? \n. Well I am using the ruby-etherpad-lite, to communicate with etherpad \nThe pad_id or title that i gave had 104 characters. it had alphanumeric characters and the symbol -, : and } \n. It seems the error i am receiving at my end was wrong, the actual error from the etherpad logs is. \" is not a valid padId\" \nBut when i try shorted names, it works fine. Can you tell me why this error could have occurred. \nRESPONSE, createGroupPad, {\"code\":1,\"message\":\"g.kpFi1CzrsSpHRMdD$123123123111111111111111111111111111111111111111111111111111111111111-HsPS_525ad450a363b8f1560000d3} is not a valid padId\",\"data\":null}\n. the regex limits the pad_name part of the id to be of size 50, where as my pad_name alone had an size of 104 characters. \nIs there any specific reason for such a limit? \n. The pad doesn't start at all. \n. Well i am hosting my etherpad in a subdomain, and embedding it in the main domain. But i haven't seen the error you mentioned in my logs. So i am not sure if it the same error. \nWhat would be the best possible fix if it is that issue, create a proxy url from the main domain to the subdomain? \n. @marcelklehr I missed out a detail, embedded pad was working before with same domain, sub domain setup. The etherpad in another domain and the pad being embedded in the main domain. It started failing just recently. \nDue to an issue with user permissions, we reinstated the etherpad. \nOur head is at this commit e725113\n. ",
    "fosils": "Anyone up for some freelance work? I am willing to sponsor (maybe just symbolic sponsoring for you experts) the development of this feature. You can find the project here: https://www.freelancer.com/projects/Javascript/Modify-Etherpad-the-editor-used.html\n. @JohnMcLear What does \"bump me directly\" mean. It does not have to be via Freelancer.com I am flexible. How much would it cost to fulfill the requirements of the freelancer.com project I linked to? I am hoping your pricing will be gentle. \n. The approach I imagine is to first get it to work in a fork, and then it\ncan be turned into a plugin if it works and we want to continue utilizing\nit. So for this first part, I am just expecting a quick and dirty \"make it\nwork\" approach, and we can beautify it later.\nOn Tue, Dec 17, 2013 at 4:43 PM, John McLear notifications@github.comwrote:\n\nFYI @fosils https://github.com/fosils your feature request should be a\nplugin, not a core modification... You mention on freelancer.com to fork\nand edit, that would be pointless as we wouldn't accept it as a core\nfeature :)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1853#issuecomment-30761475\n.\n. JohnMcLear, gave me a quote of 640$ (8 hours of work) to complete this. As this is too much for us we will put this on hold. If others are willing to sponsor this feature, I would be interested in hearing from you, so we can share the cost. \n. @jdittrich In 1,5 months we would probably have 200$ to sponsor such a feature. Can you also put down a third of the cost?\n. This is great news, jdittrich. I am completely blank myself. What I could\ndo is to hire someone to test it on a specific platform. Would that be of\nany help?\nOn Mar 3, 2014 10:58 PM, \"jdittrich\" notifications@github.com wrote:\nhad a tryhttps://github.com/jdittrich/ep_autocomp/blob/master/ep_autocomp/static/js/autocomp.jsto write such a function. Works on a prototype level. Whoever wants to help\nto clean away the bugs is welcome to do so :-)\n\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1853#issuecomment-36565312\n.\n. \n",
    "jdittrich": "I'd be interested in an autocomplete option too. \n\nmake it just paste the rest of the string, see what happens. If you can get this part right try to keep it modular and abstract because it could be useful for other plugins :)\n\nWhat is the problem with inserting text?\n. @fosils currently I don\u2019t consider myself to be enough into etherpad\u2019s inner mechanics. Not the money, but too few knowledge about the text-insertion is the main problem here. \nIf anyone of you knows more, please add to this google-groups post I created for collecting information on that topic (as I think that the list suits better) \nI'll post there (and here) when I know more.\n. Anybody who wants to have a look at the caretX issue? I am struggeling there.\n\nworry about getting caretX later, I have to work on that anyway.\n\n@JohnMcLear did you find a reasonable solution to the caretX problem?\n. @JohnMcLear \n\nep_author_hover plugin.  Feel free to re-use that code.\n\nThanks! I had a look at the code. It seems that the position of the indicator is relative to the mouse cursor (thus the position of the event the mousemove triggers). I'm unable to get the connection to finding out the caret-position (both are independent, except for the moment when I click in the text). (Maybe the text that your phone refused to send could enlighten me)\n. had a try to write such a function. Currently more a protoype than production ready. Whoever wants to help to clean away the bugs is welcome to do so :-)\n. @fosils sorry for not getting back earlier\u2026\nCurrently I'm happy if it runs smoothly on current desktop browsers. So if it is tested there it would be great. Testing on other platforms, aka iOS or Android is nice, though not (yet?) a central concern. \n. doing an npm update underscore in /etherpad-lite/node_modules/ep_etherpad-lite/node_modules I always get the same 1.3.1 version of underscore; sadly I dont know about the \"proper\" method here; I could just replace it manually. I see if that works. \n. I changed the dependencies.underscore (in etherpad-lite/node_modules/ep_etherpad-lite/package.json) from 1.3.1. to 1.5.0, 1.5.1, 1.5.2 and 1.6.0 (which did indeed affect the underscore version used, contrary to my previous trials)\nResults: Up to 1.5.1 the tests pass. Above (starting with 1.5.2) they fail or rather, etherpad does not start at all; the editor shows an error message: \"An error occured while loading the pad\nUncaught Error: The module at \"underscore\" does not exist. in  URL /static/js/require-kernel.js (line 569)\" \nSo from this tests it seems that without further changes, underscore could be updated to 1.5.1\n. @JohnMcLear I was just about to make it before I saw it exists already: https://github.com/ether/etherpad-lite/pull/2116\nSorry, I assume I did not communicate this properly when I made it.\n. I assume I had a look at the cause back in March and could not figure it out (between .5.1 and .5.2. nothing changed that I seems to link to the breaking) . I'll give it a next try though.\n. I don\u2019t remember exactly but:  I probably found the same line (broadcast_slider.js:169) and I remember that it seemed rather non-breaking and small. I looked at the underscore code as well and it was neither complicated nor did it have any significant changes between the versions concerned here. hmm.\n. I did not know what LibreJS is, so for the ones that might work on this issue (or not): LibreJS \n- defines a way to tell that your javascript(s) are free software. \n- Provides an extension for firefox that blocks scripts that do not tell that extension that the code is free. \nIf you use the extensions, many websites will break, since they rely on non-free libraries (It would not break an etherpad installation, I assume, since etherpad code is free. However, this might not be the case for all addons, which could cause problems again)\n. Thanks, thats good to know!\n. Thanks!\nI just tried it with the demo and got: \n\nError: remote exception: remote exception: remote exception: remote exception: remote exception: remote exception: expected headersComplete; HTTP response from sandboxed app had incomplete headers.\n    at Error (native)\nC++ location:(remote):??\ntype: failed\n\nHave not tried it locally yet. \n. @Gared With your change, I don't get a crash and I can continue to write. Minor problem: The page now continues to show the \"reloading\" indicator.. @Gared: I think teh reload indication is a non-harmful edgecase, so I'd leave this issue closed. . It seems that the called page can't load any files like scripts or stylesheets. \nAlso, I can't access any of the files manually too: Usually I could go to an instance like \n\"foobar.bar/pad/p/someetherpad\" \nand if I substitute the part behind pad, I could get to the javascript files, like \n\"foobar.bar/pad/socket.io/socket.io.js\". \nOn the server you linked I get only a git list page with\n \"No route found for \"GET /socket.io/socket.io.js\"\n. As far as Ia am concerned you can combine ep_fileupload and ep_previewimages; Both should be available in the admin UI. . ",
    "bcorrero": "Is there any way to have Etherpad automatically refresh/delete the cache as needed?\nI am getting the same error after running Etherpad as a service for a few hours.  I get this exact initial error once and then after that it returns a simple \"connection refused\" error.  Because of this, we simply cannot leave it running on the server since it crashes after a few hours.  This would require multi-daily restarts of the service which defeats the entire purpose of having it permanently running on a server.\nAn error occured while loading the pad\nUncaught Error: The module at \"ep_etherpad-lite/static/js/colorutils\" \ndoes not exist. in http://***:9001/static/js/require-kernel.js \n(line 596)\nBrian\n. I notice I can only see that error one time before the instance gets killed and then doesn't even display that error - just a straight up \"page not found\"/\"connection refused\" error.\nI am trying to run Etherpad in the background using a Linux screen.  This works for several hours but then eventually crashes every time.  I notice you mentioned a \"cache\" error on the original Github issue - do you have any idea if there's a way to automatically clear the cache on a regular basis?\nAside from that, any information around what types of \"scripts\" might be running/killing the instance?  Is there a default log that would have this?  \nI'm not seeing anything in the standard directory locations.\nEDIT - To clarify, I'll be using Etherpad just fine, try to do something and get the error, then try to refresh immediately after that and that's when it moves to the page not found error permanently.  Definitely seems like the instance is being killed immediately after the error shows up once.\n. Sure thing - will try those changes and keep you posted if the error returns.  Usually takes less than 24 hours to get the error so we should have a good idea whether that worked or not by tomorrow.\n. So far so good.  The above changes appear to have resolved our issues.  The instance was consistently crashing after 4-5 hours of light-moderate usage but has now been going strong 40+ hours without any issues.\nThanks for your help John!\nBrian\n. Yeah I was thinking about a permission issue as well and tried changing permissions on a few folders but probably not the right ones.\nDo you know the specific directory it tries to write to?\nI noticed an error with user 'etherpad' trying to delete files in /var/ or /tmp/ when I kick off /run.sh so I changed permissions on those folders but don't think that captured it fully.\n. Hey John,\nEtherpad has been running flawlessly for us the last month since setting minify to false and MaxAge to 0 so I'm hesitant to tweak them.\nWhat are the long-term impacts for leaving minification off and maxage at 0?  Will certain aspects of the server eventually max out and crash or am I mostly just doing things less efficiently than I could?\nIf the trade-off is only an increase in I/O, costs, etc, then we're probably willing to sacrifice that in favor of 100% uptime.  We're running this on a very small EC2 instance (m3.medium) that costs about $500 for an entire year of 24/7 uptime so even a significant % increase over that is fine for us.\nBrian\n. Continuing to happen - another error log below:\n[2016-07-22 13:09:49.908] [ERROR] console - Error: EMFILE, open '/home/etherpad/var/minified_L2phdmFzY3JpcHRzL2xpYi9lcF9ldGhlcnBhZC1saXRlL3N0YXRpYy9qcy9hY2UyX2NvbW1vbi5qcz9jYWxsYmFjaz1yZXF1aXJlLmRlZmluZQ'\n[2016-07-22 13:09:49.908] [INFO] console - graceful shutdown...\n[2016-07-22 13:09:49.942] [ERROR] console - Error: EMFILE, open '/home/etherpad/src/static/favicon.ico'\n[2016-07-22 13:09:49.976] [INFO] ueberDB - Flushed 1 values\n[2016-07-22 13:09:50.076] [INFO] ueberDB - Flushed 1 values\n[2016-07-22 13:09:50.177] [INFO] console - db sucessfully closed.\n[2016-07-22 13:27:22.635] [INFO] console - Installed plugins:\n[2016-07-22 13:27:22.649] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\nIs there no fix for this?  Am I the only one having this issue?  Please advise if there's a better way to go about error resolution.\n. Thanks @Gared .  Here are my current configurations.\nOS:\nLSB_VERSION=base-4.0-amd64:base-4.0-noarch:core-4.0-amd64:core-4.0-noarch:graphics-4.0-amd64:graphics-4.0-noarch\nRed Hat Enterprise Linux Server release 6.7 (Santiago)\ngrep node:\nnode      29580     root   11u  IPv4 6484954      0t0  TCP 127.0.0.1:43378->127.0.0.1:3306 (ESTABLISHED)\nnode      29580     root   12u  IPv4 6484965      0t0  TCP *:9001 (LISTEN)\nnode      29580     root   13u  IPv4 6643733      0t0  TCP 10.205.73.227:9001->10.210.10.28:64633 (ESTABLISHED)\nnode      29580     root   14u  IPv4 6487570      0t0  TCP 10.205.73.227:9001->10.120.155.116:57706 (ESTABLISHED)\nnode      29580     root   15u  IPv4 6485634      0t0  TCP 10.205.73.227:9001->10.210.219.71:51227 (ESTABLISHED)\nnode      29580     root   16u  IPv4 6522654      0t0  TCP 10.205.73.227:9001->172.28.56.74:50714 (ESTABLISHED)\nnode      29580     root   17u  IPv4 6525896      0t0  TCP 10.205.73.227:9001->10.250.111.233:63677 (ESTABLISHED)\nnode      29580     root   18u  IPv4 6486135      0t0  TCP 10.205.73.227:9001->10.120.155.244:59983 (ESTABLISHED)\nnode      29580     root   19u  IPv4 6484977      0t0  TCP 10.205.73.227:9001->10.120.35.92:64861 (ESTABLISHED)\nnode      29580     root   20u  IPv4 6530337      0t0  TCP 10.205.73.227:9001->10.250.40.136:61741 (ESTABLISHED)\nnode      29580     root   21u  IPv4 6548326      0t0  TCP 10.205.73.227:9001->10.250.0.79:63570 (ESTABLISHED)\nnode      29580     root   22u  IPv4 6488220      0t0  TCP 10.205.73.227:9001->10.250.0.79:50092 (ESTABLISHED)\nnode      29580     root   23u  IPv4 6484983      0t0  TCP 10.205.73.227:9001->10.222.246.112:49158 (ESTABLISHED)\nnode      29580     root   24u  IPv4 6484985      0t0  TCP 10.205.73.227:9001->10.120.35.92:64864 (ESTABLISHED)\nnode      29580     root   25u  IPv4 6497257      0t0  TCP 10.205.73.227:9001->10.120.154.53:59995 (ESTABLISHED)\nnode      29580     root   26u  IPv4 6485959      0t0  TCP 10.205.73.227:9001->10.210.220.105:54252 (ESTABLISHED)\nnode      29580     root   27u  IPv4 6489337      0t0  TCP 10.205.73.227:9001->10.210.31.107:63074 (ESTABLISHED)\nnode      29580     root   28u  IPv4 6485715      0t0  TCP 10.205.73.227:9001->10.210.4.179:61860 (ESTABLISHED)\nnode      29580     root   29u  IPv4 6501458      0t0  TCP 10.205.73.227:9001->10.120.152.78:65078 (ESTABLISHED)\nnode      29580     root   30u  IPv4 6492719      0t0  TCP 10.205.73.227:9001->10.210.222.40:58889 (ESTABLISHED)\nnode      29580     root   31u  IPv4 6639341      0t0  TCP 10.205.73.227:9001->10.250.58.57:63889 (ESTABLISHED)\nnode      29580     root   32u  IPv4 6485001      0t0  TCP 10.205.73.227:9001->10.120.35.92:64865 (ESTABLISHED)\nnode      29580     root   33u  IPv4 6494619      0t0  TCP 10.205.73.227:9001->10.120.28.160:55699 (ESTABLISHED)\nnode      29580     root   34u  IPv4 6552986      0t0  TCP 10.205.73.227:9001->172.28.42.1:64493 (ESTABLISHED)\nnode      29580     root   35u  IPv4 6485007      0t0  TCP 10.205.73.227:9001->10.114.225.128:50371 (ESTABLISHED)\nnode      29580     root   36u  IPv4 6494668      0t0  TCP 10.205.73.227:9001->10.210.221.237:64706 (ESTABLISHED)\nnode      29580     root   37u  IPv4 6488558      0t0  TCP 10.205.73.227:9001->10.210.11.211:62487 (ESTABLISHED)\nnode      29580     root   38u  IPv4 6500524      0t0  TCP 10.205.73.227:9001->172.28.10.190:53400 (ESTABLISHED)\nnode      29580     root   39u  IPv4 6496417      0t0  TCP 10.205.73.227:9001->10.210.221.237:64980 (ESTABLISHED)\nnode      29580     root   40u  IPv4 6497044      0t0  TCP 10.205.73.227:9001->10.222.223.103:58995 (ESTABLISHED)\nnode      29580     root   41u  IPv4 6547934      0t0  TCP 10.205.73.227:9001->10.250.0.79:62986 (ESTABLISHED)\nnode      29580     root   42u  IPv4 6487664      0t0  TCP 10.205.73.227:9001->10.120.155.116:58419 (ESTABLISHED)\nnode      29580     root   43u  IPv4 6487596      0t0  TCP 10.205.73.227:9001->172.28.26.117:60667 (ESTABLISHED)\nnode      29580     root   44u  IPv4 6486771      0t0  TCP 10.205.73.227:9001->10.120.153.188:50641 (ESTABLISHED)\nnode      29580     root   45u  IPv4 6485837      0t0  TCP 10.205.73.227:9001->10.120.155.76:64664 (ESTABLISHED)\nnode      29580     root   46u  IPv4 6565380      0t0  TCP 10.205.73.227:9001->172.28.61.3:55132 (ESTABLISHED)\nnode      29580     root   47u  IPv4 6490097      0t0  TCP 10.205.73.227:9001->10.120.147.149:63130 (ESTABLISHED)\nnode      29580     root   48u  IPv4 6498209      0t0  TCP 10.205.73.227:9001->10.210.10.55:59283 (ESTABLISHED)\nnode      29580     root   49u  IPv4 6485032      0t0  TCP 10.205.73.227:9001->10.210.218.154:53327 (ESTABLISHED)\nnode      29580     root   50u  IPv4 6554690      0t0  TCP 10.205.73.227:9001->172.28.42.1:50793 (ESTABLISHED)\nnode      29580     root   51u  IPv4 6568935      0t0  TCP 10.205.73.227:9001->172.28.120.119:52405 (ESTABLISHED)\nnode      29580     root   52u  IPv4 6620732      0t0  TCP 10.205.73.227:9001->10.250.84.146:57130 (ESTABLISHED)\nnode      29580     root   53u  IPv4 6496447      0t0  TCP 10.205.73.227:9001->10.217.8.38:54391 (ESTABLISHED)\nnode      29580     root   54u  IPv4 6487668      0t0  TCP 10.205.73.227:9001->10.120.155.116:58421 (ESTABLISHED)\nnode      29580     root   55u  IPv4 6490121      0t0  TCP 10.205.73.227:9001->10.120.155.247:60822 (ESTABLISHED)\nnode      29580     root   56u  IPv4 6493702      0t0  TCP 10.205.73.227:9001->10.120.154.234:60907 (ESTABLISHED)\nnode      29580     root   57u  IPv4 6485048      0t0  TCP 10.205.73.227:9001->10.210.218.126:59963 (ESTABLISHED)\nnode      29580     root   58u  IPv4 6497275      0t0  TCP 10.205.73.227:9001->10.120.154.53:61032 (ESTABLISHED)\nnode      29580     root   59u  IPv4 6485052      0t0  TCP 10.205.73.227:9001->10.120.155.82:50546 (ESTABLISHED)\nnode      29580     root   60u  IPv4 6486838      0t0  TCP 10.205.73.227:9001->10.120.28.160:51472 (ESTABLISHED)\nnode      29580     root   61u  IPv4 6488026      0t0  TCP 10.205.73.227:9001->172.28.39.66:49463 (ESTABLISHED)\nnode      29580     root   62u  IPv4 6493406      0t0  TCP 10.205.73.227:9001->172.28.25.148:62524 (ESTABLISHED)\nnode      29580     root   63u  IPv4 6490838      0t0  TCP 10.205.73.227:9001->10.120.28.160:63675 (ESTABLISHED)\nnode      29580     root   64u  IPv4 6494963      0t0  TCP 10.205.73.227:9001->10.210.10.236:63450 (ESTABLISHED)\nnode      29580     root   65u  IPv4 6488645      0t0  TCP 10.205.73.227:9001->10.222.223.103:58709 (ESTABLISHED)\nnode      29580     root   66u  IPv4 6485066      0t0  TCP 10.205.73.227:9001->10.222.246.43:56915 (ESTABLISHED)\nnode      29580     root   67u  IPv4 6489422      0t0  TCP 10.205.73.227:9001->10.210.222.34:54991 (ESTABLISHED)\nnode      29580     root   68u  IPv4 6497279      0t0  TCP 10.205.73.227:9001->10.120.154.53:51722 (ESTABLISHED)\nnode      29580     root   69u  IPv4 6495785      0t0  TCP 10.205.73.227:9001->10.210.219.19:58939 (ESTABLISHED)\nnode      29580     root   70u  IPv4 6491795      0t0  TCP 10.205.73.227:9001->10.120.153.188:52331 (ESTABLISHED)\nnode      29580     root   71u  IPv4 6485076      0t0  TCP 10.205.73.227:9001->10.210.218.154:53329 (ESTABLISHED)\nnode      29580     root   72u  IPv4 6485078      0t0  TCP 10.205.73.227:9001->10.210.218.154:53330 (ESTABLISHED)\nnode      29580     root   73u  IPv4 6560347      0t0  TCP 10.205.73.227:9001->10.250.45.73:56668 (ESTABLISHED)\nnode      29580     root   74u  IPv4 6493420      0t0  TCP 10.205.73.227:9001->172.28.25.148:62527 (ESTABLISHED)\nnode      29580     root   75u  IPv4 6485084      0t0  TCP 10.205.73.227:9001->10.210.10.55:56842 (ESTABLISHED)\nnode      29580     root   76u  IPv4 6497303      0t0  TCP 10.205.73.227:9001->10.221.154.191:58082 (ESTABLISHED)\nnode      29580     root   77u  IPv4 6489701      0t0  TCP 10.205.73.227:9001->10.120.155.247:60752 (ESTABLISHED)\nnode      29580     root   78u  IPv4 6485090      0t0  TCP 10.205.73.227:9001->10.222.246.121:53211 (ESTABLISHED)\nnode      29580     root   79u  IPv4 6487711      0t0  TCP 10.205.73.227:9001->10.250.7.51:64464 (ESTABLISHED)\nnode      29580     root   80u  IPv4 6490226      0t0  TCP 10.205.73.227:9001->10.210.10.129:62527 (ESTABLISHED)\nnode      29580     root   81u  IPv4 6494269      0t0  TCP 10.205.73.227:9001->10.210.222.150:58958 (ESTABLISHED)\nnode      29580     root   82u  IPv4 6499878      0t0  TCP 10.205.73.227:9001->10.210.10.28:54024 (ESTABLISHED)\nnode      29580     root   83u  IPv4 6665887      0t0  TCP 10.205.73.227:9001->172.28.4.131:49518 (ESTABLISHED)\nnode      29580     root   84u  IPv4 6657370      0t0  TCP 10.205.73.227:9001->172.28.125.60:53385 (ESTABLISHED)\nnode      29580     root   85u  IPv4 6490300      0t0  TCP 10.205.73.227:9001->10.210.216.208:56930 (ESTABLISHED)\nnode      29580     root   86u  IPv4 6497285      0t0  TCP 10.205.73.227:9001->10.120.154.53:51729 (ESTABLISHED)\nnode      29580     root   87u  IPv4 6490932      0t0  TCP 10.205.73.227:9001->10.219.26.3:55657 (ESTABLISHED)\nnode      29580     root   88u  IPv4 6491703      0t0  TCP 10.205.73.227:9001->10.120.147.149:65489 (ESTABLISHED)\nnode      29580     root   89u  IPv4 6492414      0t0  TCP 10.205.73.227:9001->10.210.221.227:59778 (ESTABLISHED)\nnode      29580     root   90u  IPv4 6598651      0t0  TCP 10.205.73.227:9001->172.28.80.246:57183 (ESTABLISHED)\nnode      29580     root   91u  IPv4 6490659      0t0  TCP 10.205.73.227:9001->10.210.222.34:55211 (ESTABLISHED)\nnode      29580     root   92u  IPv4 6554728      0t0  TCP 10.205.73.227:9001->172.28.42.1:50849 (ESTABLISHED)\nnode      29580     root   93u  IPv4 6641417      0t0  TCP 10.205.73.227:9001->10.250.9.141:55040 (ESTABLISHED)\nnode      29580     root   94u  IPv4 6497804      0t0  TCP 10.205.73.227:9001->10.210.223.108:50314 (ESTABLISHED)\nnode      29580     root   95u  IPv4 6490673      0t0  TCP 10.205.73.227:9001->10.120.155.244:60795 (ESTABLISHED)\nnode      29580     root   96u  IPv4 6495091      0t0  TCP 10.205.73.227:9001->10.250.6.210:49574 (ESTABLISHED)\nnode      29580     root   97u  IPv4 6492854      0t0  TCP 10.205.73.227:9001->10.210.221.227:60194 (ESTABLISHED)\nnode      29580     root   98u  IPv4 6554707      0t0  TCP 10.205.73.227:9001->172.28.42.1:50833 (ESTABLISHED)\nnode      29580     root   99u  IPv4 6659105      0t0  TCP 10.205.73.227:9001->172.28.72.83:51748 (ESTABLISHED)\nnode      29580     root  100u  IPv4 6661771      0t0  TCP 10.205.73.227:9001->10.250.125.189:54470 (ESTABLISHED)\nnode      29580     root  101u  IPv4 6661660      0t0  TCP 10.205.73.227:9001->10.250.4.79:54918 (ESTABLISHED)\nnode      29580     root  102u  IPv4 6497448      0t0  TCP 10.205.73.227:9001->10.210.223.197:49682 (ESTABLISHED)\nnode      29580     root  103u  IPv4 6661815      0t0  TCP 10.205.73.227:9001->10.250.118.150:55149 (ESTABLISHED)\nnode      29580     root  104u  IPv4 6665889      0t0  TCP 10.205.73.227:9001->172.28.4.131:49522 (ESTABLISHED)\nnode      29580     root  105u  IPv4 6647111      0t0  TCP 10.205.73.227:9001->172.28.25.148:58543 (ESTABLISHED)\nnode      29580     root  106u  IPv4 6489755      0t0  TCP 10.205.73.227:9001->10.219.18.223:57119 (ESTABLISHED)\nnode      29580     root  107u  IPv4 6665891      0t0  TCP 10.205.73.227:9001->172.28.4.131:49520 (ESTABLISHED)\nnode      29580     root  108u  IPv4 6665893      0t0  TCP 10.205.73.227:9001->172.28.4.131:49521 (ESTABLISHED)\nnode      29580     root  109u  IPv4 6660696      0t0  TCP 10.205.73.227:9001->172.28.29.119:54459 (ESTABLISHED)\nnode      29580     root  110u  IPv4 6485152      0t0  TCP 10.205.73.227:9001->10.210.10.200:55060 (ESTABLISHED)\nnode      29580     root  111u  IPv4 6665894      0t0  TCP 10.205.73.227:9001->172.28.4.131:49519 (ESTABLISHED)\nnode      29580     root  112u  IPv4 6665896      0t0  TCP 10.205.73.227:9001->172.28.4.131:49523 (ESTABLISHED)\nnode      29580     root  114u  IPv4 6664306      0t0  TCP 10.205.73.227:9001->10.250.4.79:55955 (ESTABLISHED)\nnode      29580     root  117u  IPv4 6485166      0t0  TCP 10.205.73.227:9001->10.210.221.3:62486 (ESTABLISHED)\nnode      29580     root  119u  IPv4 6485170      0t0  TCP 10.205.73.227:9001->10.119.221.162:65194 (ESTABLISHED)\nnode      29580     root  123u  IPv4 6485178      0t0  TCP 10.205.73.227:9001->10.120.153.188:49505 (ESTABLISHED)\nnode      29580     root  124u  IPv4 6485482      0t0  TCP 10.205.73.227:9001->10.222.247.119:61184 (ESTABLISHED)\nnode      29580     root  125u  IPv4 6485182      0t0  TCP 10.205.73.227:9001->10.114.225.128:50373 (ESTABLISHED)\nnode      29580     root  127u  IPv4 6485186      0t0  TCP 10.205.73.227:9001->10.210.222.34:54514 (ESTABLISHED)\nnode      29580     root  130u  IPv4 6485192      0t0  TCP 10.205.73.227:9001->10.210.10.55:56844 (ESTABLISHED)\nnode      29580     root  133u  IPv4 6485198      0t0  TCP 10.205.73.227:9001->10.120.147.149:52472 (ESTABLISHED)\nnode      29580     root  134u  IPv4 6485200      0t0  TCP 10.205.73.227:9001->10.250.127.103:61087 (ESTABLISHED)\nnode      29580     root  137u  IPv4 6485206      0t0  TCP 10.205.73.227:9001->172.28.89.182:52188 (ESTABLISHED)\nnode      29580     root  154u  IPv4 6485238      0t0  TCP 10.205.73.227:9001->10.210.10.236:62180 (ESTABLISHED)\nnode      29580     root  158u  IPv4 6485579      0t0  TCP 10.205.73.227:9001->10.210.216.214:52253 (ESTABLISHED)\nnode      29580     root  164u  IPv4 6485257      0t0  TCP 10.205.73.227:9001->10.210.218.170:56575 (ESTABLISHED)\nnode      29580     root  168u  IPv4 6485265      0t0  TCP 10.205.73.227:9001->10.210.11.74:58338 (ESTABLISHED)\nnode      29580     root  172u  IPv4 6485273      0t0  TCP 10.205.73.227:9001->10.210.221.89:63377 (ESTABLISHED)\nnode      29580     root  180u  IPv4 6485289      0t0  TCP 10.205.73.227:9001->10.210.221.89:63381 (ESTABLISHED)\nnode      29580     root  188u  IPv4 6485306      0t0  TCP 10.205.73.227:9001->10.210.10.236:62182 (ESTABLISHED)\nnode      29580     root  190u  IPv4 6485310      0t0  TCP 10.205.73.227:9001->10.210.10.236:62183 (ESTABLISHED)\nnode      29580     root  194u  IPv4 6485318      0t0  TCP 10.205.73.227:9001->10.120.153.188:49506 (ESTABLISHED)\nnode      29580     root  196u  IPv4 6485322      0t0  TCP 10.205.73.227:9001->10.210.222.150:57093 (ESTABLISHED)\nnode      29580     root  200u  IPv4 6485330      0t0  TCP 10.205.73.227:9001->10.210.218.170:56577 (ESTABLISHED)\nnode      29580     root  207u  IPv4 6485344      0t0  TCP 10.205.73.227:9001->10.210.221.227:59132 (ESTABLISHED)\nulimit -a:\ncore file size          (blocks, -c) 0\ndata seg size           (kbytes, -d) unlimited\nscheduling priority             (-e) 0\nfile size               (blocks, -f) unlimited\npending signals                 (-i) 31355\nmax locked memory       (kbytes, -l) 64\nmax memory size         (kbytes, -m) unlimited\nopen files                      (-n) 1024\npipe size            (512 bytes, -p) 8\nPOSIX message queues     (bytes, -q) 819200\nreal-time priority              (-r) 0\nstack size              (kbytes, -s) 10240\ncpu time               (seconds, -t) unlimited\nmax user processes              (-u) 31355\nvirtual memory          (kbytes, -v) unlimited\nfile locks                      (-x) unlimited\n. ",
    "zessx": "I mean like comments you show on your website ( http://mclear.co.uk/2013/04/07/comments-in-etherpad/ ). Can we already find a plugin for that, or is it still in work / under a bounty ?\n. ",
    "jibe-b": "\nI released this plugin up as open source\n\n@JohnMcLear I couldn't find it, may I ask if you can help?. ",
    "flgcloud": "Thanks for your fast reaction.\nWhen I print it changes the web page (suppresses Etherpad interface, buttons etc...) and it prints but it works only on Internet Explorer when I make a Ctrl-P.\nOn Firefox he prints only the header and footer, on Interner Explorer it's the same if I use the print menu and it's the same on FB and IE for the print preview.\nSomething else to do for it works well ?\n(formats applied with others plugin aren't recognized  : align, margin, headings, colors, tasklist)\n. Thanks\nFor a pad with formatting (with plugins) it's better to export it in Html before print it.\nAfter some tests, exports in Pdf, Odf or Doc don't respect the presentation (all margins is replaced by the dot of a tasklist)\nThe better way for me :\n- export in html (open it directly in the browser) and print the new page\n- the formatting with the plugins \"align\" and \"colors\" are lost\n- but the formatting with the plugins \"margin\", \"heading\" and \"tasklist\" work very well\nI hope that this post will help others\nSo, I thinks that it would be a good things to complete the export in html to conserve the formatting of \"align\" & \"colors\".\n. I'm learning Php, a day perhaps I'll able to do that o;)\nIt's a good advice, I'll do that.\n. Thanks\n. Hi harbulot,\nThanks for your post.\nYou're right for the mailing list but I don't know how use it and where.\nI think it's a good way for help others to solve their https configuration to their etherpad if we write about it here.\nI had to execute :  sudo a2enmod proxy_http \nNow it runs on https\n. This morning I re-installed etherpad and all plugins and it works !\nWhat I had to do :\nDesactivate my ssl config :\n  sudo a2dissite etherpad-ssl (etherpad-ssl is my config file for reverse-proxy)\n  sudo service apache2 reload\nUninstall my old etherpad :\n  stop etherpad service (it runs like daemon) : sudo service etherpad stop\n  rename my old opt/etherpad-lite folder to opt/old.etherpad-lite\nInstall a new etherpad : \n  opt/sudo git clone git://github.com/ether/etherpad-lite.git\n  opt/sudo chown -R etherpad /opt/etherpad-lite\n  copy my old settings.json from my last install to the new one\n  opt/etherpad-lite/sudo bin/run.sh (without sudo it didn't work)\n  .. > it works o;)\nInstall all plugins like that : \n  opt/etherpad-lite/sudo npm install ep_ (without sudo it didn't work)\nExecute etherpad : \n  with : opt/etherpad-lite/bin/run.sh \n  or like a deamon : sudo service etherpad start\n  .. > etherpad works and all my pads work like before o;)\n  .. > I CAN ACCES TO MY ADMIN PAGE yessss\n...\nRe-install my ssl config : \n  sudo a2ensite etherpad-ssl\n  sudo service apache2 reload \n  .. > I CAN ACCES TO MY ADMIN PAGE even with SSL > it's great\n. ",
    "fviard": "Hum, patch formatting is broken when pasted here, so you can find it in the following paste bin page:\nhttp://paste.debian.net/38003/\n. ",
    "siebrand": "Some background info: The Wikimedia Language Engineering team is giving up on Etherpad-lite. We will most probably be using open Google Docs. Our experience with Etherpad-lite has been generally worse than with Etherpad. The frequent corruption, occurring more often in Etherpad-lite than Etherpad, is the primary reason for abandoning the use of Etherpad.\n. @JohnMcLear \n- Can you point me to the fix/bug you're referring to?\n- Is there a released version I can request an update to?\n- Are there any upgrade concerns for existing pads if the current version is that of https://etherpad.wikimedia.org/ ?\n. The translation are Probsbly already in... https://github.com/ether/etherpad-lite/commit/04e8b0c184f64332b69e97be173b0a7b9e6a3f86\n. ",
    "tobiaskluge": "Marcel, thanks for your feedback! \nAccording to the api doc ( http://etherpad.org/doc/v1.2.11/#index_deletegroup_groupid ), the api response is ok:\nRESPONSE, deleteGroup, {\"code\":0,\"message\":\"ok\",\"data\":null}\nSearching for the groupid in the admin panel using ep_adminpads, I do not get a match.\nWhat happens if there is an open session for the group - could this be problematic?\n. Wow - this is great news. Any chance that this could get fixed? Sorry, I don't feel capable to fix it my self.\n. Thanks a lot, Marcel! This works, bug is fixed.\n. Thanks Marcel, this works! I can now \"re-create\" the group after deleting it.\n. ",
    "joelrebel": "Thanks for looking at this! I just tested it on the latest HEAD, both instances results in a crash.\n- Improper html <html><body><p>asdf</p></body></html><br/>\n[2013-09-18 15:59:16.129] [ERROR] console - Error: Hierarchy request error\n    at Object.core.Document.appendChild (/var/www/etherpad-lite/src/node_modules/jsdom-nocontextifiy/lib/jsdom/level1/core.js:1337:13)\n    at setChild (/var/www/etherpad-lite/src/node_modules/jsdom-nocontextifiy/lib/jsdom/browser/htmltodom.js:173:17)\n    at HtmlToDom.appendHtmlToElement (/var/www/etherpad-lite/src/node_modules/jsdom-nocontextifiy/lib/jsdom/browser/htmltodom.js:77:9)\n    at Object.innerHTML (/var/www/etherpad-lite/src/node_modules/jsdom-nocontextifiy/lib/jsdom/browser/index.js:453:27)\n    at Object.core.HTMLDocument.write (/var/www/etherpad-lite/src/node_modules/jsdom-nocontextifiy/lib/jsdom/level2/html.js:403:22)\n    at exports.jsdom (/var/www/etherpad-lite/src/node_modules/jsdom-nocontextifiy/lib/jsdom.js:67:9)\n    at Object.setPadHTML (/var/www/etherpad-lite/src/node/utils/ImportHtml.js:34:13)\n    at async.series.fileExists (/var/www/etherpad-lite/src/node/handler/ImportHandler.js:169:20)\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:486:21\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:185:13\n- No html in file\n[2013-09-18 15:59:52.530] [ERROR] console - TypeError: Object [ null ] has no method 'getAttribute'\n    at Object.domInterface.nodeAttr (/var/www/etherpad-lite/src/static/js/contentcollector.js:69:16)\n    at Object.cc.collectContent (/var/www/etherpad-lite/src/static/js/contentcollector.js:377:23)\n    at Object.setPadHTML (/var/www/etherpad-lite/src/node/utils/ImportHtml.js:41:6)\n    at async.series.fileExists (/var/www/etherpad-lite/src/node/handler/ImportHandler.js:169:20)\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:486:21\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:185:13\n    at iterate (/var/www/etherpad-lite/src/node_modules/async/lib/async.js:108:13)\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:119:25\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:187:17\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:491:34\n. Thank you for fixing this!\n. Hey John, \nIf I name a file as .html, with no content at all, and attempt to import it, etherpad-lite crashes.\nThe crashfix for malformed HTML import like - <html><body><p>asdf</p></body></html><br/> works fine.\n. @JohnMcLear , fix works! no more crashes.\nThanks for the prompt response and fix :)\n. I imagine this is the same crash I saw today, although I wasn't logged into the admin panel.. not sure what might have triggered it.\nI'm running off the latest from git.\nTypeError: Cannot set property 'auth' of undefined\n    at /var/www/etherpad-lite/src/node/handler/PadMessageHandler.js:220:40\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:486:21\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:185:13\n    at iterate (/var/www/etherpad-lite/src/node_modules/async/lib/async.js:108:13)\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:119:25\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:187:17\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:491:34\n    at /var/www/etherpad-lite/src/node/handler/PadMessageHandler.js:172:25\n    at Object.exports.aCallAll (/var/www/etherpad-lite/src/static/js/pluginfw/hooks.js:84:62)\n    at handleMessageHook (/var/www/etherpad-lite/src/node/handler/PadMessageHandler.js:163:11)\n. ",
    "rafacantoni": "Hi Marcel, sorry for the late answer.\nI guess I've managed how to do it, thanks for your help! I was trying to require db stuff from my ep_comments/static/js/comment.js, and it wouldn't work. I've created an index.js at the plugin root and it worked. Same for the second issue :)\n. Hey John! Sorry for the misunderstanding... Yes, I am trying to develop some code here. :-) hehehe\nActually, I am working on a project where we're developing a platform that universities can submit a book proposal, and they will be able to produce a book. We were thinking of using TinyMCE, but it wouldn't allow concurrency.\nSo we thought of Etherpad Lite. The thing is that teachers would like to comment various sections of their book and I wasn't able to find something quick enough (and free, given that our budget is limited) to accomplish this. But I will take a look at Nicolas' ep_comments, it may turn out to be what I really need.\nThanks and sorry one more time! :-P\n. No problem! :-D hahaha\n. ",
    "nilaydswt": "Sir I checked and its proper. \n\"abiword\" : '../abiword/',\nI am only able to export in ODT and MsWord if its matches path in settings.json.\nYou can also see export with ODT or Ms Word if its proper configure other wise its not show me this two export option. \n. I am on wamp server. So I do not have command. Do you have any idea regarding it that how to start the command.?\n. Thank you for your prompt help sir. Its now working but I am also get some extra name in ma  etherpad area and also export to PDF is not available. \nPlease see attached image. \nThanks\n\n. I already use latest version of abiword. it is abiword-2.8.6. Is there any other version of abiword or etherpad that I need to update. \nI also found PDF in one of the site.  please check attached image. \n\n. any luck sir?\n. ",
    "objarni": "Observation: the insert of the space does not happen instantly on paste but some milliseconds after, upto 0.5 seconds I would say, which makes this even more odd. I just tried to reproduce on Chrome, but could not.\n. Related to this bug in Firefox? https://bugzilla.mozilla.org/show_bug.cgi?id=280579 (duplicate of this, better described issue: https://bugzilla.mozilla.org/show_bug.cgi?id=89780)\n. The result of the whole fat issue history (nr #2 above, 89780) on mozilla was the spawning of a couple of other issues, of which only one had been fixed. The other was completely deserted (no comment, no nothing, marked as \"New\" even though created 2005... - https://bugzilla.mozilla.org/show_bug.cgi?id=281409)\n. Confirmed has to do with strings >128, nice one.\nAnother observation: it does not happen for strings >128 if copied from Notepad, WordPad or Sublime Text 3.\nGuess: may it only be when both copying and pasting inside Firefox, no other software involved?\n. ",
    "amire80": "Thanks for the TLDR :)\nSetting pad direction as a pad setting: that's the most immediate important thing to do, because setting the direction according to each user's language is definitely a bug.\nSetting the direction per paragraph: consider it a feature request.\n. @marcelklehr Looking at the chars is a possibility. That's what GMail, Twitter and Facebook try to do, with varying degrees of success. Notably, Google Docs and desktop word processors don't do automatic text direction detection (Microsoft Word does it a bit, and it has some issues). It's definitely not a high priority. Adding toolbar buttons that change the paragraph direction is just enough.\n. It's OK to do it, but if it's done, it should be optional. Maybe it's OK to make it on by default, but there needs to be a way to disable it. Desktop Linux text editors, like Kate and gEdit, do automatic detection, and this often makes editing very hard (I deal with code that involves RTL chars all the time). And again, it's not the most important thing.\n. ",
    "nomiddlename": "The options that the log4js file appender passes to the write stream are as follows: \n{ encoding: \"utf8\", \n          mode: parseInt('0644', 8), \n          flags: 'a' }\nWhich should mean that it appends to any existing files (according to this: http://nodejs.org/api/fs.html#fs_fs_open_path_flags_mode_callback). If this isn't happening, please open a bug for it :) \n. ",
    "filipeportes": "sorry about the issue duplication, was not my intent... \n. I'm experiencing the same issue... i'm using a local etherpad server in each developer station.\n. ",
    "deleuzer": "I too have this issue and have traced it back to the way socket.io.js handles handshakes in chromium (chrome?).  Firefox will load the pad correctly, but not chromium.  Here's an example of socket.io.js (version 0.9.11) and socket.io.js (version 0.9.16) that helps show the different behavior.\n<iframe id=\"epframemfplpad\" src=\"https://pad.riseup.net/socket.io/1/?t=1386880888146\"></iframe>\nThis results in handshake error using socket.io.js 0.9.11.\n<iframe id=\"calc-socket\" src=\"https://calc.mayfirst.org/socket.io/1/?t=1386882618241\"></iframe>\n</html>\nThe above, using socket.io.js 0.9.16 results in a successful handshake response, something like:\nSB0FUJuJqYE7TZFleVRd:60:60:websocket,flashsocket,xhr-polling,jsonp-polling\nI'm making the assumption that it's socket.io.js causing this problem, but I've tested it on three different etherpad instances so it seems like a fairly likely culprit.  Though it's not clear why it started happening in chromium browsers or exactly when.\n. Also note that the successful response I posted does include \"websocket\" as a socketTransportProtocol.\n. I confirm enabling third party cookies fixes the user level problem.  However, it's not clear to me what changed so that embedded pads stopped working with third-party cookies disabled.  Can anyone speak to what might have caused this change? \n. I actually support the patched version of chromium to disallow third party cookies, and yes I'm running debian jessie.  The relation between ep-lite and ethercalc is a particular one, since I have both embedded on the same page.  ep-lite stopped working and ethercalc did not.  Since they used different versions of socket.io.js, I made the, perhaps, faulty assumption that the version of socket.io.js was the culprit.  After this discussion, it seems more likely that ethercalc does not require cookies.\nAbove, you suggest not using cookie-based sessions if a pad is embedded.  I'm a bit newbish re ep-lite.  Could you suggest a particular way to implement such a thing?\n. ",
    "jaraco": "I think we've encountered this issue with 1.5.7 and 1.6.0. The content was pasted into the Etherpad from the clipboard. I'm not sure what content was there. I'll continue to investigate.\n. I've tried debugging in Firefox, but I run into #2723.\nThe document that's triggering these errors appears to be trivially simple in the database:\n$ mongo ourdb/etherpad\nMongoDB shell version: 3.2.9\nmongos> db.store.find({key: {$regex: \"pad:Converting_Angular_Factories\"}})\n{ \"_id\" : ObjectId(\"57c8f23e593990e071a3ef2e\"), \"key\" : \"pad:Converting_Angular_Factories_to_Providers\", \"val\" : \"{\\\"atext\\\":{\\\"text\\\":\\\"\\\",\\\"attribs\\\":\\\"\\\"},\\\"pool\\\":{\\\"numToAttrib\\\":{\\\"0\\\":[\\\"author\\\",\\\"a.Q9ogrSFZs7OYAKlU\\\"]},\\\"nextNum\\\":1},\\\"head\\\":1,\\\"chatHead\\\":-1,\\\"publicStatus\\\":false,\\\"passwordHash\\\":null,\\\"savedRevisions\\\":[]}\" }\n{ \"_id\" : ObjectId(\"57c8f23e593990e071a3ef30\"), \"key\" : \"pad:Converting_Angular_Factories_to_Providers:revs:0\", \"val\" : \"{\\\"changeset\\\":\\\"Z:1>6b|5+6b$Welcome to Etherpad!\\\\n\\\\nThis pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!\\\\n\\\\nGet involved with Etherpad at http://etherpad.org\\\\n\\\",\\\"meta\\\":{\\\"author\\\":\\\"\\\",\\\"timestamp\\\":1472787006471,\\\"atext\\\":{\\\"text\\\":\\\"Welcome to Etherpad!\\\\n\\\\nThis pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!\\\\n\\\\nGet involved with Etherpad at http://etherpad.org\\\\n\\\\n\\\",\\\"attribs\\\":\\\"|6+6c\\\"}}}\" }\n{ \"_id\" : ObjectId(\"57c8f248593990e071a3ef35\"), \"key\" : \"pad:Converting_Angular_Factories_to_Providers:revs:1\", \"val\" : \"{\\\"changeset\\\":\\\"Z:6c<6c|6-6c$\\\",\\\"meta\\\":{\\\"author\\\":\\\"a.Q9ogrSFZs7OYAKlU\\\",\\\"timestamp\\\":1472787016277}}\" }\nOpening another document by the same author has no issues.\n. I've also launched against the latest develop head and the issue persists.\n. ",
    "pabelenda": "It is happening to me as well.\nAnyway, it is not something I can easily replicate. How can I turn on some more debug on my side?\nUncaught Error: mismatch error setting raw text in setDocATextsetDocAText @ VM218:778\nsetDocumentAttributedText @ VM218:199\n(anonymous function) @ VM218:10325\n(anonymous function) @ VM218:195\ninCallStack @ VM218:472\ninCallStackIfNecessary @ VM218:541\nwithCallbacks @ VM218:192\nsetBaseAttributedText @ VM218:10311\nAce2Inner.editorInfo.ace_setBaseAttributedText @ VM218:998\n(anonymous function) @ pad.js?callback=require.define:2881\naction @ pad.js?callback=require.define:2841\n(anonymous function) @ pad.js?callback=require.define:2861\n_.each._.forEach @ ace2_common.js?callback=require.define:11298\ndoActionsPendingInit @ pad.js?callback=require.define:2860\ninfo.onEditorReady @ pad.js?callback=require.define:2985\nreadyFunc @ test-pad-8nvw2m?&auth_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJsb2dpbiI6In\u2026:17\n(anonymous function) @ VM218:5537\n. Same here.\nCopying from:\nFirefox 48.0\nChrome 53.0.2785.89\nChromium 52.0.2743.116\nEvolution 3.12.9\nGedit 3.14.0\nPasting to all the browsers above fails.\nCopying from icedove 45.2.0, works just nice.\n. This is a quite serious issue, tbh.\nIt could be duplicated, though. See #2625 \n. Do you need me to do any further testing on this? I am willing to see this fixed on my etherpad deployment :-)\n. Yes, I have some.\nep_author_hover\nep_list_pads\nep_activepads\nep_etherpad-lite\nep_adminpads\nep_delete_empty_pads\nep_small_list\nep_user_font_size\nep_linebreak\nep_pad-lister\nep_mypads\nI've deployed the instance on another server and removed all the plugins. The error is exactly the same on the affected pads.\n. Copy + Paste + Reload (after few secons) -> crash\nBTW, thanks for answer me back on this :-)\n. Finally I decided to remove ep_linebreak on the production environment and, since then, no issues were reported.\nAnyway, on the testing environment, with ep_linebreak installed, I am not able to reproduce the thing.\nAt this point I think we can close this issue. Many thanks for the help :-). Finally I decided to remove ep_linebreak on the production environment and, since then, no issues were reported.\nAnyway, on the testing environment, with ep_linebreak installed, I am not able to reproduce the thing.\nAt this point I think we can close this issue. Many thanks for the help :-). ",
    "arieljlira": "Hi John, I don't know you say it will hurt instances that run on /p/\nI have the same ep instance behind another proxy, with /p, and it looks fine. It also works with no proxy at all. \nI can send you both urls if you find it useful.\n. I've tried several routes with 2 or more levels and worked ok. For example In apache2 with mod_proxy+mod_proxy_html: \nRewriteRule ^/hosted/etherpad/pads/(.*)$ http://localhost:9001/p/$1 [P,L]\n        RewriteRule ^/hosted/etherpad/(.*)$ http://localhost:9001/$1 [P]\nPerhaps I'm missing something else, however regexp /.*\\/[^\\/\\?]+/ always seems to get the correct request-uri for any uri.\nI guess it would be better to a unique function to get the padId and use relative paths. But I can't help you with that because I know almost nothing about epl nor nodejs. \nRegards\n. ",
    "Yaco": "I am using Nginx with this config file: https://github.com/ether/etherpad-lite/wiki/How-to-put-Etherpad-Lite-behind-a-reverse-Proxy#hosted-at--with-rewrite-rules-to-allow-padname\nExport is broken if I access without \"/p\" in the URL. Any fix?\n. ",
    "yyoz": "Hi John,\nI didn't, but I was already on develop. Disabling ep_small_list did the trick though. Thanks for the tip.\nThe next question is, how do I show my users the list of pads then ;-) ?\n. ",
    "eyesonlyhack": "Great, thanks\nThis fixed  Issue #1551 \n. I could try do it as a regular expression, something like what is mentioned here:\nhttp://www.webdeveloper.com/forum/showthread.php?233064-RESOLVED-regex-all-URL-protocols\nShould I rewrite it?\n. I've changed this to not use inline JavaScript\n. ",
    "akosiaris": "Ah yes... I am sorry about that. Release 1.2.11 downloaded as a zip from github.\n. Hello, we 've just had this occur. We run 1.5.7, that is the last released version. Backend is a MySQL database. I have no indications as to user actions that might have caused this. \nPad in question: https://etherpad.wikimedia.org/p/iOS-iteration-planning\nGetting the pad data out via the timeslider trick works fine. The pad however will never load. \nAnything in the database can be dumped and provided for debugging if it helps.\n. @webzwo0i \nYeah, I noticed that mutante talked to you. I just decided to follow up on the github issue as well. I 'll track down who \"Brian\" is and what browser they are using for you.\nSo, the store table is utf8mb4 for quite some time now. It was utf8 but we converted to utf8mb4 due to a different set of problems back in Jun. Specifically on Jun 23, 2015 \nhttps://github.com/ether/etherpad-lite/issues/2522#issuecomment-114441189 ;-)\n. I 've repaired the pad as you 've instructed. Interesting to find out that 4 question marks in a row would corrupt a PAD in such a way. And that the corrupting changeset would be so old compared to the tip of the pad. But your explanation makes sense, thanks for that.\nI 've updated the configuration with \"charset\": \"utf8mb4\" as well.\n. And of course the above worked. AWESOME! I can not thank you enough. I am hoping that with the configuration fix in place this wont happen again. \nI was wondering if the debugging you are doing is manually btw. Getting and comparing the changesets and their lengths one by one manually or if you have some more automated way of doing that. I suppose I can create one of my own anyway, just being curious\n. > The error can easily be reproduced by creating a new pad with a single emoji (e.g. panda_face) and restarting etherpad, see also #3340.\nI can not reproduce this, doing exactly what described above. See https://etherpad.wikimedia.org/p/ohmy for an example (yes I 've restarted etherpad multiple times already). Hitting the same bug as well. Stacktrace below. Would love to be able to find out the pad easily in order to delete it. \n```\n[2015-06-22 18:44:09.758] [ERROR] console - JSON-PROBLEM:{\"atext\":{\"text\":\"Anybody here come on at 7:15\\n\\n\u2764\n[2015-06-22 18:44:09.762] [ERROR] console - Async Stacktrace:\n    at /usr/share/etherpad-lite/src/node/handler/PadMessageHandler.js:1312:5\n    at /usr/share/etherpad-lite/src/node/handler/PadMessageHandler.js:1047:16\n    at /usr/share/etherpad-lite/src/node/db/PadManager.js:171:10\n    at Object.callback (/usr/share/etherpad-lite/src/node/db/Pad.js:400:8)\nSyntaxError: Unexpected end of input\n    at Object.parse (native)\n    at /usr/share/etherpad-lite/src/node_modules/ueberDB/CacheAndBufferLayer.js:164:24\n    at Query._callback (/usr/share/etherpad-lite/src/node_modules/ueberDB/mysql_db.js:115:5)\n    at Query.Sequence.end (/usr/share/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/sequences/Sequence.js:96:24)\n    at Query._handleFinalResultPacket (/usr/share/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/sequences/Query.js:144:8)\n    at Query.EofPacket (/usr/share/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/sequences/Query.js:128:8)\n    at Protocol._parsePacket (/usr/share/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/Protocol.js:271:23)\n    at Parser.write (/usr/share/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/Parser.js:77:12)\n    at Protocol.write (/usr/share/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/Protocol.js:39:16)\n    at Socket. (/usr/share/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/Connection.js:82:28)\n    at Socket.emit (events.js:95:17)\n```\n. Got a dump of the pad as well\nselect `key`, value from store where `key`='pad:ips' into outfile '/tmp/ips.sql';\ncat /tmp/ips.sql\npad:ips {\"atext\":{\"text\":\"Anybody here come on at 7:15\\\\n\\\\n\u2764\nI am getting the distinct feeling that little heart is the problem. You might wanna raise priority on this. It's a possible DoS\n. @JohnMcLear utf8_general_ci. Anything else you need from me to reproduce, please let me know\n. Already killed that pad. It took a while to find it. We host a pretty large etherpad installation. As far as utf8mb4_bin goes, it's a superset of utf8 with an extra byte to support all the UTF8 supplemental characters and planes. I suppose we should do it.\n. @elijh OK, good to know. We 'll start the process ourselves as well. We will be doing it with the service online. Let's see how long that takes. I 'll report back here afterwards.\n. @JohnMcLear I think they are already documented by @elijh at https://github.com/ether/etherpad-lite/wiki/How-to-use-Etherpad-Lite-with-MySQL , step 7.\nThat should help people fix their database installation so that they no longer get bit by this. That being said, not getting bit by this ever would be great. I suppose https://github.com/ether/etherpad-lite/commits/issue-2522-broken-json may be a fix ?\n. @Gared, show table status said 55M rows. It's InnoDB so that's an approximation. I am not doing an select count(*), sorry. Hardware is a PowerEdge R510 with 64G of RAM. This is not a dedicated etherpad database, but rather hosted with other projects, but it is a rather idle box. Disks are 15K RPM 300GB drives. Total conversion time with \nALTER TABLE etherpadlite.store \nCHANGE `key` `key` varchar(100) CHARSET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '', \nCHANGE `value` `value` longtext CHARSET utf8mb4 COLLATE utf8mb4_bin NOT NULL, \nCHARSET=utf8mb4 COLLATE=utf8mb4_bin;\nwas about 15 mins. Your milleage will probably vary.\n. We have the exact same problem right now.  Frequency is 4 secs apart, most of which is etherpad-lite dying and systemd is restarting it and then we are in a loop. I am trying to figure out if it is pad specific but I have no culrpits yet.\nSteps to replicate ? I have none unfortunately.\n. So various things we tried:\n- Restrict access  to one client (namely me) - via firewalling and visiting various pads as collected from the logs during the previous crashes. No crashes.\n- Trying with a new clean DB. No crashes.\n- Restoring the database to a day old snapshot. No crashes.\nThe above meant to us our DB was corrupted somehow. Unfortunately there was no way to figure out what exactly has happened since we can't really reproduce it and logs even at DEBUG level were not useful.\nSince we wanted to restore access to the service, we 've stayed with the 1 day old database. That means some people may have lost some data and our old and new databases are diverging, making reconcilliation impossible. We are working on providing users with a way to access PADs from the  corrupted database so they can selectively restore stuff. \nFWIW, we are now at a stable state and trying to figure out what happened.\n. utf8mb4. old/new database is the exact same thing btw, it's just old is a snapshot of new\nArbitrarily:\nold == the database we 've restored from the backups. 1,5 day old backups that is\nnew == the one that crashed and was allegedly corrupted. We still have it around, but no instance of etherpad is running using it. \n. FWIW, we have disabled the etherpad export endpoint for this specific reason. As I was reading through the code I realized that the etherpad export endpoint does not use the padmanager as the e.g. txt endpoint does, but rather calls db functions directly. I 'll admit 0 knowledge of ethepad's internals from this point on, but since the export txt endpoint does not have this problem, maybe it's worth it to amend the etherpad endpoint to use the padmanager as well instead of fighting this at the DB level ?. I can not reproduce this on https://etherpad.wikimedia.org/p/ohmy. Per https://github.com/wikimedia/puppet/blob/production/modules/etherpad/templates/settings.json.erb charset is set to utf8mb4. Backend db is 10.0.23-MariaDB.. ",
    "mrwacky42": "Please do not release this as 1.2.13. You guys need to fix your versioning scheme.\nFor those of us that deploy software as packages, it is very difficult to convince our package managers (deb, rpm) that 1.2.81 is NOT newer than 1.2.13.\nNow would be a fine time to make the jump to Semantic Versioning.\n. :heart:\n. ",
    "KenanSulayman": "@s1341 Looks like you're commenting for the sake of it (5 notifications in the last 20 minutes^)\nMy word on this: no, please don't. Just don't.\nLet's have a look at this: the level ecosystem is thriving, quite some NoSQL solutions are out there. The performance of these, at least in the level landscape, are outstanding. For instance, LMDB (and Sophia, which's binding is currently in development), Hyper-LevelDB et al. and Level itself provide hundred of thousands of reads and writes per second. (depends on the workload, of course). MySQL and MSQLite are legacy; many of the relations can be applied efficiently on-top of NoSQL. For instance, quite some things have been developed by the level-community and other NoSQL people. That includes Graph database implementations, search engines (some by @eugeneware and other people; one by me), highly efficient and replicable data stores shred over the wire with minimal overhead (really); zero config, at last, is important for automated scalability (AWS ftw?) in the enterprise.\nSo here's mine: we internally forked etherpad (it's now called L3, because that sounds sexy) and rebuild nearly everything which correlates to the data store. Some things are simply bad: f. i., the out-of-the-box readability of etherpad-lite is really great (comments! [\"//get the session entry\"] descriptive errors! [\"new customError(\"L3ID does not exist\",\"apierror\")\"] descriptive checks! [\"//skip session if it doesn't exist\", \"err && err.message == \"L3ID does not exist\"\"]) but the overhead for that readability cannot be justified in a scalable environment. I could go on with discussing some issues we had, but alas, the time flies.\nIf you want to see etherpad-lite really evolve, let's restart on the way we adapt to the data stores. UeberDB could be written much simpler, cleaner and even more adaptive (etherpad broke when using my lmdb adapter in UeberDB because it expected cryptic responses; particularly in the API). Async should be simplified; what is the issue with all the callbacks? The database management, finally, should be crafted more accessible.\ntl;dr :v: \n. Oh, I wasn't aware of that. Are these among the more popular ones?\n. @JohnMcLear Wouldn't do this since the next stable will be 0.12.\n. Ah, yes. Indeed. It's taking so long for .12 already that I hope it happens at all :smile: \n. Sure it will! There's that list @trevnorris wants to complete before they'll kick off 0.12 AFAIK. I'm looking forward to quite some performance improvements!\n. ",
    "copiesofcopies": "I'm new to Etherpad and was poking around the API and thought \"one API key with access to everything is not very useful\" ;) Glad to see this issue has been raised. \n. ",
    "RalfJung": "\n@ralfjung-e do you have any plugin settings in your settings.json?\nNo, I don't even have any plugins installed. (The only time I did, it\nwould break my entire installation + the database, but that's\nunrelated^^). It's the default settings file. If that's of any help, I\ncould upload it somewhere (after wiping the passphrases).\n. We just had a pad break with this error as well. Curiously, checkPad,js does not find any problem, and repairPad.js runs to completion without fixing it. Is there any way to determine which revision is at fault?\n\nEDIT: Ah, I found https://gist.github.com/marcelklehr/a78d293571e7f06e3cf9 which pointed me the right way. Any chance this could be included in etherpad itself? It has been infinitely helpful right now, thanks a ton! (However, I had to replace console.log by console.error to even see any revision numbers. I have no nodeJS experience whatsoever, but I couldn't figure out another way to actually see all the logging.). Indeed doing the \"replace ???? by ??\" helped here as well. :) Seems like the last changeset was someone inserting an emoji (it ended in $????).\nHowever, I do not understand why this is classified as a \"minor bug\". This bug leads to total loss of a pad (until someone notices the /timeslider thing, which took a week in our case, and even then history is lost).. > FWIW, this bug appears to be due a limitation of the easysync library, which I'm speculating does not to support all of utf-8. (UTF-8 may encode one character as multiple bytes, which each add to the length of a string in javascript, even though it's just one character.)\nActually we have umlauts (\u00e4\u00f6\u00fc) in our pads all the time, which are also multi-byte in UTF-8. Based on what has been said above, I think the issue is actually about UTF-16 -- which, when originally designed, was intended to have exactly 2 bytes per character (codepoint, really), but now that we have more than 2^16 codepoints there are some that need 4 bytes, like emojis. And now length() no longer matches the number of codepoints, and everything gets confused.\nSo maybe a better fix is to outright reject any surrogate pairs (4-byte codepoints)? That would make it impossible to use etherpad with characters from the supplementary plane, but that's likely broken anyways it seems? And it should protect the DB.  There seem to be ways to test for surrogate pairs in JS (but I have zero experience in modern JavaScript).. npm/npm#3299 seems to be about \"npm shorthands for updating your JSON\". Is etherpad using those when being started, or how is that related?. Thanks :). ",
    "salehe": "I am aware of https://github.com/JohnMcLear/ep_right_to_left, but it works on whole document. This PR allows to change direction of individual parts of text (hence, allows mixed direction document)\n. ",
    "aaronpk": "Any idea when this will make it into a release version?\n. Oh, didn't realize that! Will check it out, thanks!\n. ",
    "Amstutz": "I was able to find the issues concerning the timeline. But there was no mention of colors of authors also disappearing. Are these problems connected?\n. ",
    "EndruK": "Hi, is somebody working on this problem?\n. Hi, I solved the problem:\njust change line 73 (in innerdocbody) in etherpad-lite/src/static/css/iframe_editor.css\nfrom     font-family: monospace;     to  font-family: Helvetica, Arial, sans-serif;\nthat will fix the problem of the changing font-family after paste.\nGreetings\n. Hi John,\nI found a solution to fix this problem: #1979 \n. I got the same problem.\nI need to deactivate the user colors by using ?noColors=true but when someone wants to use the timeslider it won't work until the noColor parameter is removed. The button for the timeslider just adds /timeslider at the end of the URL.\nIs it possible to add /timeslider in front of all the addidional URL parameters?\nGreetings, Andr\u00e9\n. Hi,\nI know that this topic is closed but why does it loose the line breaks only when copy paste from a specific IDE/texteditor?\n- copy from https://raw.githubusercontent.com/hammerjs/hammer.js/master/hammer.js keeps line breaks\n- copy from atom/sublime/notepad++/msword loses the breaks and paste it into only one line\nthis is really weird \n. Database is on a different server\nmysql 5.5.31\n. Hi John,\nI tried the latest develop branch.\nIt still crashes after some time but now the reconnect works.\nhere the logprint:\nlog\n[2014-12-05 15:10:35.657] [ERROR] console - Error: Connection lost: The server closed the connection.\n    at Protocol.end (/var/www/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/Protocol.js:103:13)\n    at Socket.<anonymous> (/var/www/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/Connection.js:88:28)\n    at Socket.EventEmitter.emit (events.js:117:20)\n    at _stream_readable.js:920:16\n    at process._tickDomainCallback (node.js:459:13)\n[2014-12-05 15:10:35.657] [INFO] console - graceful shutdown...\n[2014-12-05 15:10:35.668] [INFO] console - db sucessfully closed.\nRESTART!\nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\nnpm WARN package.json async-stacktrace@0.0.2 No repository field.\nnpm WARN package.json channels@0.0.4 No repository field.\nnpm WARN package.json tinycon@0.0.1 No repository field.\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nEnsure custom css/js files are created...\nStarted Etherpad...\n[2014-12-05 15:10:48.540] [INFO] console - Installed plugins: ep_etherpad-lite, ep_headings\n[2014-12-05 15:10:48.566] [WARN] console - Can't get git version for server header\nENOENT, no such file or directory '/var/www/etherpad-lite/.git/HEAD'\n[2014-12-05 15:10:48.567] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2014-12-05 15:10:48.602] [WARN] console - setAppHandler is deprecated!  Pass it to the constructor instead.\n[2014-12-05 15:10:48.608] [WARN] console - setAppHandler is deprecated!  Pass it to the constructor instead.\n[2014-12-05 15:10:48.611] [WARN] console - setAppHandler is deprecated!  Pass it to the constructor instead.\n[2014-12-05 15:10:48.614] [WARN] console - setAppHandler is deprecated!  Pass it to the constructor instead.\n[2014-12-05 15:10:48.618] [WARN] console - setAppHandler is deprecated!  Pass it to the constructor instead.\n[2014-12-05 15:10:48.623] [WARN] console - setAppHandler is deprecated!  Pass it to the constructor instead.\n[2014-12-05 15:10:48.626] [WARN] console - setAppHandler is deprecated!  Pass it to the constructor instead.\n[2014-12-05 15:10:48.630] [WARN] console - setAppHandler is deprecated!  Pass it to the constructor instead.\n[2014-12-05 15:10:48.635] [WARN] console - setAppHandler is deprecated!  Pass it to the constructor instead.\n[2014-12-05 15:10:48.687] [INFO] console - You can access your Etherpad instance at http://0.0.0.0:9001/\n[2014-12-05 15:10:48.687] [INFO] console - The plugin admin page is at http://0.0.0.0:9001/admin/plugins\n. ",
    "MrOrz": "Encountered exactly the same problem and this PR saved me. Is there any luck that this can be merged? @JohnMcLear \n. ",
    "rushiagr": "Google chrome, on Ubuntu 13.04. Not facing this issue while using Firefox.\nOn Sat, Nov 9, 2013 at 12:43 AM, John McLear notifications@github.comwrote:\n\nI tried to replicate this problem but I'm unable to, please provide steps\nto replicate.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1986#issuecomment-28089221\n.\n\n\nRegards,\nRushi Agrawal\nPh: +91 99 4518 4519\n. Looks like it is an issue only on my laptop. I tested on my friend's laptop\n( he has the same laptop as mine), and it is working fine!\nYou can close this bug I guess. Thanks, and sorry.\n-Rushi\nOn Sat, Nov 9, 2013 at 9:47 PM, John McLear notifications@github.comwrote:\n\nNot able to replicate on Chromium on Linux Mint. Can you record video\nfootage of you re-creating this issue And/or exact steps to replicate?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/1986#issuecomment-28130506\n.\n\n\nRegards,\nRushi Agrawal\nPh: +91 99 4518 4519\n. ",
    "prtksxna": "Trying to resolve this issue I added some trivial code to src/static/js/ace2_inner.js but I am not able to see changes in my instance. I tried restarting the server but still nothing. Is there a build process that I am missing?\n. Turned out to be a caching issue :frowning: \n. @JohnMcLear We haven't added a shortcut to Clear Authorship Colors yet. You can either assign this issue in its current state to me or close this one and we'll open another issue with just this request.\n. I have added #2267 to fix the extended toolbar issue. #2254 will make the icons look sharp, even though this doesn't directly affect the experience I think it makes a large difference. \n. > Svg is available on etherpad.org, use that? \nThe SVG in the img/ directory of the  etherpad.org repository is of a broadcast tower and not a colorful clipboard that is used in the favicon. Are there any other sources?\n. @LaKing Do you mind if I take over this. I was thinking we should do the toolbar first and then move to the time slider. Incremental progress :smile: Would that be ok? I've created a subset of icons from Font Awesome using Fontello as suggested by @0ip, so it should be a smaller patch to review and merge.\n. > The main page / toolbar icon work is super-easy. If you take a look at the pull request I sent, you will see the changes that belong there. Possibly the Font Awesome CSS can be minimized as well.\nYup, it seemed simple enough \u2014 here is the new PR #2269. I didn't minify it so that its easy to find the code-point that is required for a particular icon. Maybe later we can have a concatenation and minification build process, possibly using grunt? I am willing to implement this.\n\nYes, we can merge with small steps, but please include the fonts needed for the time-slider page right away. The star, the bar, step and play buttons. ...\n\nDone!\n. I am not sure but things might change a little with #2254.\n. I did some testing and this should play well with #2269 \n. Resolves part of #1987\n. > If toggle is the behavior this is good to be merged..\nYep, toggle seems to be the behavior. Tested with keyboard shortcut and clicking the button multiple times.\n. Rebased my commit on top of recent changes.\n. I am not sure why the rebased commit isn't showing in this PR. Will wait for a while and then will probably submit a different one :frowning: \n. I think this is going to cause problems for extended toolbars though. Giving a slightly less than desktop experience on mobile is a good idea according to me. We might as well let users do some things properly rather than everything poorly.\nThus, should we explicitly hide the extra toolbar elements?\n. > Mobile tends to have swipe/touch, so having a swipable (To the left/right) editbar would be the apt UX here.\nMobile does have gesture based UI controls but I've never seen one on the toolbar. I referred to Apple's and Android's design pattern documents and they both seem to suggest that these gestures should be for content navigation and not for toolbars. A pattern that seemed interesting was of hiding the toolbar altogether if the keyboard is open\u2014I wonder how consistently we can detect that. I was also thinking of moving the icons on the bottom toolbar in to an overflow menu to increase the editing area.\nIs there a place to propose such design changes? The mailing list and IRC channel both seem more development oriented.\n\nbtw I doubt this would get merged, it will probably break quite a few other things afaik,\n\nYup, I guess so. I'll test with different settings and plugins and get back to this.\n. http://pastie.org/pastes/9647230/text\n. @JohnMcLear I am not able to add labels or assign it to myself. Do you need to give me some kind of rights to be able to assign it to me?\n. Implementing Ctrl+Shift+C for now. Suggestions are welcome.\n. @Gared I've added it for the en locale for now. Others will start coming in from TW in a while.\n. @JohnMcLear I think you forgot to merge this. Does it need a rebase?\n. @JohnMcLear, are you referring to #2055?\n. ",
    "joshuakwan": "Find this should be the plugin issue\n. ",
    "trevnorris": "@KenanSulayman That list is actually for v1.0. We have plenty of performance improvements coming down the pipe in v0.12, but most of that list is pretty radical in terms of implementation. So it's going to wait for its own development cycle. :)\n. ",
    "bp323": "Yes we are using abiword. The document can be found at https://drive.google.com/file/d/0B6LZEk5tFS0-RThoNWRLZ3BPUG8/edit?usp=sharing\n. Correct\n. I reproduced the issue on W7 IE11\n. 1.4.0 @ 14f9c91\nHaven't been able to pinpoint exact steps as it seems to happen at random. On a mobile device it's more obvious because the jumps happen about every second.\n. This is what's happening on iOS: https://www.youtube.com/watch?v=i9dRyZvZrWw\nWhen at the bottom of a document and 'enter' key is pressed, the pad jumps to the top.\n. ",
    "beaugunderson": "I added this upstream as well, but the issue seems to be that require-kernel doesn't support modules that specify an entry point in package.json instead of using index.js. async used to have an index.js but no longer does after the commit identified in the upstream bug, instead relying on the main attribute in package.json to specify an entry point (which require-kernel fails to find).\nNo idea how hard it would be but are you interested in using something like browserify instead of require-kernel? If so I could investigate that avenue.\n. That is very understandable! :) What about adding support for the main attribute to require-kernel? I'd be happy to look at doing that too.\n. I'm also setting up etherpad today behind an Apache instance; this worked for me:\n```\n        \n                ProxyPass http://domain.org.org:9001/ retry=0 timeout=30\n                ProxyPassReverse http://domain.org.org:9001/\n        \n    <Location /socket.io>\n            RewriteEngine On\n            RewriteCond %{QUERY_STRING} transport=websocket    [NC]\n            RewriteRule /(.*) ws://localhost:9001/socket.io/$1 [P,L]\n\n            ProxyPass http://domain.org.org:9001/socket.io retry=0 timeout=30\n            ProxyPassReverse http://domain.org.org:9001/socket.io\n    </Location>\n\n```\nBut I do get a crash on the fix-socket-admin-etc branch:\n[2014-11-18 13:28:19.973] [ERROR] console - SyntaxError: Unexpected token <\n    at Object.parse (native)\n    at Request._callback (/home/www/botpad.org/src/static/js/pluginfw/installer.js:69:20)\n    at Request.self.callback (/home/www/botpad.org/src/node_modules/request/main.js:109:22)\n    at Request.<anonymous> (/home/www/botpad.org/src/node_modules/request/main.js:481:18)\n    at Request.EventEmitter.emit (events.js:95:17)\n    at IncomingMessage.<anonymous> (/home/www/botpad.org/src/node_modules/request/main.js:442:16)\n    at IncomingMessage.EventEmitter.emit (events.js:117:20)\n    at _stream_readable.js:920:16\n    at process._tickDomainCallback (node.js:459:13)\nI also don't see how to disable websocket transport in settings.json.\n. Oh, that crash is because etherpad.org is down and thus plugins.json returns an error page. :)\n. This is due to the legacy IP brownout.\netherpad.org's A record points to 204.232.175.78, which is a legacy IP address.\nIt should instead have two A records that point to:\n192.30.252.153\n192.30.252.154\nThese are the new addresses. Alternate methods (ALIAS, ANAME) are listed here.\n. cc @redhog, since they're listed as the technical contact for the domain. :)\n. Awesome! Verified that it's up (and also noting that it can several hours for DNS to propagate for anyone who finds this today).\n. ",
    "rstory": "Hmm. I can see privacy risk, but not so much security risk. In my case, I'm not concerned about privacy for my etherpad instance because it is a private one just for me and a handful of folks and I don't want to provide anonymous service.\nThe prompt for name might work, but I would like it to prompt them before they join so I can see who the lurkers are too. That way I can keep track of who attended the meeting/edit session and who didn't. I was hoping for something in-between requiring authorization for all users (to strict) and not knowing who is attending a session (too permissive).  But I understand if this is outside your normal use case.\n. marcelklehr do you mean an existing one, or would I have to develop it on my own?\n. ",
    "kristiank": "yes i have, the problem is that my added language doesn't even show up in the Pad Settings Language list.\n. I closed and re-started my browser, now it works for me too. Maybe some local cache problem.\nThank you vvery much for quick help!\n. ",
    "rsertelon": "Hi,\nYou could also use the Editor Config (http://editorconfig.org/) file. This seems to gain popularity in JS world. It provides plugins for several IDEs and text editors.\nThought this might help ;)\nCheers,\n. I know that you can have several .editorconfig files in your project, each will be applied in the folder it's in and all subfolders. Maybe it is the right solution for the 2 vs 4 spaces.\nAs of which is better, I don't know, but it seems that editorconfig is more generic.\n. ",
    "gabrielliwerant": "Not sure if this is the same issue, but etherpad seems to require being in a top level directory. If etherpad is installed in a subdirectory, such as applications/libs/etherpad, the server cannot locate the settings.json file. Moving the settings file does not work because this confuses the database directory...\nThis is less than ideal. I'm working on another project in git and I'd like to share a modified settings file with other coders. Under this arrangement, I cannot do this in my existing project. It should be possible to treat etherpad as a part of another application for source control and development purposes, but etherpad does not seem to be set up this way.\n. Possible mitigation for this issue: https://github.com/ether/etherpad-lite/pull/2477\n. Hey, thanks for the feedback.\nI may not have been clear about a few things, so I will attempt to restate some of my findings.\nThe installation instructions for windows indicate, \"Now, run start.bat...\" to finish the process. The first problem is that start.bat fails when the etherpad-lite is installed in a non-root directory. E.g. my_project/application/lib/etherpad-lite.\nAll start.bat does is run the node server: https://github.com/ether/etherpad-lite/blob/develop/start.bat. So my instructions are to run it from the CLI instead of using start.bat so the developer can input the proper path. Since start.bat loads the node server via a node command, I suggest doing the same via CLI. The instructions to run bin/run.sh are given for running multiple instances of etherpad with multiple settings files. This is not what I want. All I want to do is bypass the single command in start.bat. It's easy enough, but the point here is to modify the instructions to make them more idiot-proof. If the instructions fail when the path is changed, at the very least, this should be indicated to prevent confusion and save developer time.\nI give instructions for changing the path to the database file. Absolute paths might cause issues when migrating to a production environment. At the very least, it will make deployment more complicated. Is there any reason to prefer it over relative here when the relative works just fine?\nAlso, the Travis CI build seems to have failed due to \"Missing required arguments USERNAME, API_KEY.\" Not sure how to handle that since I have only modified text in the README.md.\n. Ok, so I think I'm gaining a better understanding. Is it the case that cloning etherpad-lite to a subdirectory of an existing project is not supported? I understand that I can track a settings file separately by passing an argument to the settings parameter of run.sh but does this still require that the library itself live on a root directory? Basically, a lot of things seem to break if the project is cloned to and installed from a subdirectory of an existing project, whether or not the settings file is loaded. If needed, I can be more specific when I have the time.\nEither way, I think the documentation could make the case more clear, and I can work on that if I know which situation is correct.\n. ",
    "llaurent": "If this feature request is about a new path option to make it work on http://host:port/path/ instead of http://host:port/ I'm all for it ! :-)\nThat would make reverse far more simpler when you don't want to use a dedicated vhost...\n. ",
    "Nontenda": "Just posted on mailing list but thank's for re-open it :)\nSo the config file has :\n\"key\"  : \"pad.key\",\n\"cert\" : \"pad.crt\"\n(in the ssl section of course, I just uncommented the session)\nI tried with admin user (Windows Server) so not a permissions problem.\nIn the log I see :\n[2013-12-10 14:49:24.014] [INFO] console - SSL -- enabled\n[2013-12-10 14:49:24.015] [INFO] console - SSL -- server key file: pad.key\n[2013-12-10 14:49:24.017] [INFO] console - SSL -- Certificate Authority's certificate file: pad.crt\n[2013-12-10 14:49:24.089] [INFO] console -    info  - 'socket.io started'\n(... you can access...)\nBut nothing appears in the console when I access it with a web browser.\n. ",
    "0x46616c6b": "Sorry,\ni use the release/1.3 branch\n. I have a vagrant box for this enviroment: https://github.com/0x46616c6b/vagrant-eplite-redis\nI will test it with other backends and on the develop branch.\n. Okay, I have found out, that it is not a problem with the API. But I migrated a sqlite database to redis and this pads are not listed over the api, only the new pads i created after the migration. On redis I can't see any difference between the \"old\" pads and the new pads (after i migrated). \nHere my migration script: https://github.com/0x46616c6b/etherpad-lite-console/blob/master/src/EtherpadLite/Console/Command/MigrationSqliteToRedisCommand.php#L43\n. Yes, this works well\n. Wheres the required values stored when not on the db \"store\" in sqlite? \n. I only find the \"new\" pads in ueberDB:keys:pad:*. Is it possible that I must extract all the old pad ids and insert it in ueberDB:keys:pad?\n. Many thanks! I will extends my migration script and hope this solves my problem.\n. +1\n. ",
    "cnbeining": "Hi,\nI have the exact same problem... tried npm cache clean, not working.\nCan you provide me with more details that how you solve this problem? Thanks in advance.\n. ",
    "WobIntosh": "yes, I changed the port and defined a MySQL Database.\nAnd no, I deleted/made \", comments or something like that ;)\n. ",
    "sunilkumarc": "Hi @JohnMcLear ,\nI would like to work on this request feature. But I need some help in understanding the code before making changes. Where can I get started ?\nThanks,\nSunil\n. Hi @JohnMcLear \nAfter some research I found out that this -->https://github.com/ether/etherpad-lite/blob/develop/src/static/js/ace2_inner.js#L845 is where I need to make changes to fix this issue. Unfortunately the changes I'm doing are not being reflected when i reload the app in my browser. Am I missing something here ?\nPS: My bin/run.sh is running when I make the changes and reload the app.\nAlso can you confirm once that the above mentioned file is the one I need to make changes in or not ?\n. Thanks :smile: \n. Why can't we just update the document ? That would be the easiest way and I don't see anything wrong in doing that.\n. I'm sorry. I think I haven't understood the issue clearly. Can you explain a little bit more about the issue ?\n. ",
    "vsevolod-droids-digital": "nginx config is fine. Same problem if try to open without nginx.\nAlso I has this messages in console:\n[2014-01-11 00:07:24.148] [INFO] console - Installed plugins: ep_etherpad-lite\n[2014-01-11 00:07:24.195] [INFO] console - Your Etherpad git version is a35254c\n[2014-01-11 00:07:24.196] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2014-01-11 00:07:24.296] [INFO] console -    info  - 'socket.io started'\n[2014-01-11 00:07:24.387] [INFO] console - You can access your Etherpad instance at http://0.0.0.0:9123/\n[2014-01-11 00:07:24.388] [INFO] console - The plugin admin page is at http://0.0.0.0:9123/admin/plugins\n[2014-01-11 00:07:26.688] [ERROR] console - path.existsSync is now called fs.existsSync.\n[2014-01-11 00:07:26.734] [INFO] ueberDB - Flushed 1 values\n. Thank you very much! After that all work fine!\n. ",
    "amalfahad": "You saved my life, man!! \nMany thanks!\n. I have followed the installation process given in:\nhttps://help.ubuntu.com/community/Etherpad-liteInstallation\n. Amm.. I'm working on a paper deadline right now, in which I'm using Etherpad as my testing application.\nI will try to do what you've asked, once I'm done with this, sounds good? :)\n. ",
    "michaelkarrer81": "Same for me - timeslider is broken:\nwhat could i do in v14 to make it work again? or is this just broken at all right now?!?\n. Also tried the \"patch\" from \nhttps://github.com/fzimmermann89/etherpad-lite/commit/7f73bd2100b6b678a92e22425f3673b9fd9d35a7 \nbut with no success - timeslider is simply doing nothing.\nAny hack, patch or other voodoo to make this work in 1.4.0 ?\n. hm i am new to etherpad-lite - does this mean that the timeslider is currently broken? completely ?!? i am on version 1.14 (sorry if this is the wrong place to ask this)\n. ",
    "jmesmon": "Also relevent:\n[2014-01-29 13:11:23.180] [INFO] console - Your Etherpad git version is b6f354a\nFurther: no plugins are installed, sqlite is setup as the backend, and the site is proxied via varnish->nginx->etherpad.\n. ",
    "medioevo": "me too, exactly the same\n. see here\nhttps://github.com/npm/npm/issues/3318\n. ",
    "loelkes": "Hi,\nmine crashes too if i go to the plugins page but apparently for a different reason:\nnpm http GET https://registry.npmjs.org/-/all/since?stale=update_after&startkey=1393204549688\nnpm http GET https://registry.npmjs.org/-/all/since?stale=update_after&startkey=1393204549688\nnpm http 200 https://registry.npmjs.org/-/all/since?stale=update_after&startkey=1393204549688\n[2014-02-24 02:19:51.037] [ERROR] console - TypeError: Object.keys called on non-object\n    at Function.keys (native)\n    at stripData (/home/etherpad-lite/etherpad-lite/src/node_modules/npm/lib/search.js:89:28)\n    at Array.map (native)\n    at filter (/home/etherpad-lite/etherpad-lite/src/node_modules/npm/lib/search.js:73:6)\n    at /home/etherpad-lite/etherpad-lite/src/node_modules/npm/lib/search.js:63:21\n    at /home/etherpad-lite/etherpad-lite/src/node_modules/npm/node_modules/npm-registry-client/lib/get.js:89:14\n    at /home/etherpad-lite/etherpad-lite/src/node_modules/graceful-fs/graceful-fs.js:95:5\n    at Object.oncomplete (fs.js:107:15)\nnpm http 200 https://registry.npmjs.org/-/all/since?stale=update_after&startkey=1393204549688\nRESTART!\nI have:\nnpm 1.4.3\nnode v0.10.26\n[2014-02-24 02:26:55.262] [INFO] console - Your Etherpad git version is ca8dce1\n. @vvision That was quick! Thank you very much.\n. ",
    "vvision": "@loelkes #2095 This should fix your problem.\n. ",
    "christianpbrink": "Yes, and that fixes the problem - but then it reappears after a while. Any\nidea why that might happen?\nOn Thursday, January 30, 2014, John McLear notifications@github.com wrote:\n\nSounds like maybe some code hasn't minified properly..\nHave you tried restarting etherpad?\n\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2076#issuecomment-33744490\n.\n. Turns out EL is getting restarted every time our managed hosting provider does a security scan.  See this ticket.  My current hunch is that sometimes when it gets restarted the minification fails.\n\nI've now disabled minification.  We'll see how it fares over the coming days.\n. Sorry for lack of explicit follow-up.  Indeed, we haven't encountered the\nissue since disabling minification.\nOn Wed, Mar 12, 2014 at 8:50 PM, John McLear notifications@github.comwrote:\n\nClosed #2076 https://github.com/ether/etherpad-lite/issues/2076.\n\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2076\n.\n. My organization is considering doing work to fix this.  (Not yet likely, but under consideration.)  It would be our first time contributing to EL, though, so I imagine it would be an investment of at least a day or two just to get our bearings.\n\nDoes anyone else think they're in a position to fix it easily?\n. Many thanks!\nOn Wed, Apr 30, 2014 at 4:40 PM, John McLear notifications@github.comwrote:\n\nThanks buddy!\n----- Reply message -----\nFrom: \"Marcel Klehr\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nCc: \"John McLear\" John@mclear.co\nSubject: [etherpad-lite] fix color (#2138)\nDate: Wed, Apr 30, 2014 13:35\ndone. :)\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/ether/etherpad-lite/pull/2138#issuecomment-41846911>.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/pull/2138#issuecomment-41847464\n.\n. I just scanned through the open issues and didn't spot it.\n\nOn Sun, Apr 27, 2014 at 9:59 PM, John McLear notifications@github.comwrote:\n\nPretty sure this is a bug with an issue already open?\n----- Reply message -----\nFrom: \"Christian Brink\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] Always show the user list (#2141)\nDate: Sun, Apr 27, 2014 17:19\nI just upgraded from an old version of EL (1.0.1) to the current HEAD, and\nI found that the chat bar no longer displays the list of pad users by\ndefault. It seems a user has to click the little silhouette icon to see the\nlist of users, and while the user list is visible it overlays (i.e.\nobscures) whatever chat content is near the top of the chat bar.\nIs there a way to have the user list display permanently without obscuring\nthe top of the chat bar, the way it worked in 1.0.1? Even some hacky CSS\nwould be fine.\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/ether/etherpad-lite/issues/2141>.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2141#issuecomment-41517451\n.\n. Just to double-check -- no typo here?  At first glance, at least,\nimport/export functionality doesn't seem to have much to do with the\nin-browser presentation of the list of pad users.\n\nOn Mon, Apr 28, 2014 at 12:53 PM, John McLear notifications@github.comwrote:\n\nI think it's related to this #238https://github.com/ether/etherpad-lite/issues/238\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/ether/etherpad-lite/issues/2141#issuecomment-41583209\n.\n. Thanks :)\n\nI went ahead and tweaked some CSS locally to get the effect I wanted.  Just don't know enough about the EL codebase to be able to help with that existing issue.\n. I'll try to get around to it at some point -- we are working on something\nelse at the moment.  Thanks for the heads-up.\nOn Sun, Jan 18, 2015 at 8:50 PM, John McLear notifications@github.com\nwrote:\n\n@christianpbrink https://github.com/christianpbrink check out this pull\nrequest: #2467 https://github.com/ether/etherpad-lite/pull/2467\nPlease test.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/2141#issuecomment-70437553\n.\n. Relevant: http://socket.io/docs/migrating-from-0-9/#log-differences\n. Also relevant: https://github.com/Automattic/socket.io/issues/1482\n. I meant the second link as background for anyone else who comes across this ticket.\n\nThe first link is what you're asking for, no?\n. What do you mean by upgrade docs?\n. Sorry about that, the anchor was confusing.\nOn Tue, Jul 22, 2014 at 9:05 AM, John McLear notifications@github.com\nwrote:\n\nAh I just noticed you posted the right page but put an anchor in the\nlink.. Yea this is the correct page\nhttp://socket.io/docs/migrating-from-0-9\nApologies..\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/2145#issuecomment-49735598\n.\n. I haven't tried this yet but want to.  How long does switching pads take, compared to navigating to a new pad URL?\n. Thanks.\n\nOn Thu, Jul 31, 2014 at 12:38 PM, Mike DeRosa notifications@github.com\nwrote:\n\nI haven't done much formal testing but it feels significantly faster. It's\ndue to not having to reconnect to socket.io and other loading. At lot of\nthe speed will depend on your server/network connections but I'd still say\nit's at least 2x faster.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/pull/2180#issuecomment-50784668.\n. Yes, see below about stress testing.\n\nOn Wed, Jun 18, 2014 at 2:33 PM, John McLear notifications@github.com\nwrote:\n\nHave you tried doing any load testing using the load testing tool?\n----- Reply message -----\nFrom: \"Christian Brink\" notifications@github.com\nTo: \"ether/etherpad-lite\" etherpad-lite@noreply.github.com\nSubject: [etherpad-lite] 40-user pads / may need a consultant (#2182)\nDate: Wed, Jun 18, 2014 18:01\nWe use EL to let groups of users perform competitive timed tasks involving\ncopying out passages of text in a shared pad. All users arrive in a pad at\nthe same time, and the tasks usually last 5 to 15 minutes, with everyone\nactively typing throughout. Pads usually grow to between 5k and 30k\ncharacters.\nWe're seeing sporadic severe issues with as few as 20 users on a pad, and\nconstant issues with 40 users on a pad. The issues tend to start within a\nminute or two of the users arriving. Users report a range of issues,\nincluding:\n- the pad loading but being unresponsive\n- the pad hanging on the 'Loading...' message\n- the pad failing to load, an error message showing up in its place\nThey almost always report that refreshing the page doesn't help.\nOur sense is that others have been able to use EL with this many users.\nBut since our users are all typing actively during a short period of time,\nit's hard to compare our use case with cases where the edits are more\nspread out, for instance when coworkers are collaboratively reviewing and\nediting a document over a period of hours or days.\nDoes anyone have a sense of how many simultaneous constantly-active\neditors a pad can handle?\nSome details about what's happening on our server. We suspect a\nperformance bottleneck is part of the problem, and we are seeing worrying\nerrors in our EL log that may be a contributing or even the dominant\nfactor.\nThe nature of any performance bottleneck isn't clear. Most of the time,\neven with 40 active users, we see very low CPU utilization. But there are\nsporadic spikes to 100%, and the load average can end up above 1.5. We\naren't entirely sure what causes these spikes or whether they are in fact\nbad enough to be causing the crippling issues users report. (See the bottom\nof this post for a note about this.)\nWe regularly see errors in our server-side EL log. It's possible that\nthese errors are at the root of the problem, and that performance issues\nare a secondary effect, or perhaps even irrelevant and insignificant on\ntheir own. This error shows up every couple of minutes during a real-world\nsession:\n[2014-06-12 16:02:19.281] [ERROR] console - Auth was never applied to a\nsession. If you are using the stress-test tool then restart Etherpad and\nthe Stress test tool.\nWe have no idea what causes it. We do know that the same error predictably\nshows up when we try to use the stress test tool with more than about 50\nvirtual users, and as soon as it appears the stress test session is totally\nderailed and must be restarted. This suggests that the error doesn't\nnecessarily indicate any auth-related issue at all, but we don't know what\nit does indicate.\nWhat we need is to (1) get clear on whether the demands we're putting on\nthe software are reasonable in principle (assuming an appropriate server\nconfiguration) and, if so, (2) work through our issues, making necessary\ntweaks to our environment and/or the code. If anyone has immediate insight\nand can share it here, we'd love to address the issues ourselves. However,\nwe are ready to get an outside consultant involved if it would speed things\nup, particularly if any of the major EL contributors is available. Please\nping me at cbrink[at]podconsulting[period]com.\n\nA note about performance: The only thing we've been able to correlate with\nCPU usage spikes is the ueberDB's cache garbage collection. Using the\nstress test utility, we've noticed that that GC routine seems to be called\nquite often once a pad's content grows past a certain threshold. But the\nthreshold seems pretty high, and we don't think we're reaching it in most\nof our real-world pads -- certainly not within the first minute after users\narrive, which is when they start reporting issues.\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/ether/etherpad-lite/issues/2182>.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/2182#issuecomment-46475189\n.\n. I can provide the client-side error reports that made it into our server log.  We're actually in the unfortunate position of not having had a member of our technical team observing any of the affected pad sessions and experiencing the issues firsthand; if we had, that person would have been in the browser console gathering more information about each reported error, particularly which file was involved.\n\nWe get quite a few of these:\nclient - TypeError: 'null' is not an object -- { errorId: 'PyJs4x9WnDbhLGC2OKD9',\n  msg: 'TypeError: \\'null\\' is not an object',\n  url: 'host:443/p/g.Hreu9Qvc3vxtAa8Z$3303da0fd3fe4d80b5bf678701121310?client=true&showLineNumbers=false&alwaysShowChat=true',\n  linenumber: 0,\n  userAgent: 'Mozilla/5.0 (iPad; CPU OS 5_1_1 like Mac OS X) AppleWebKit/534.46 (KHTML, like Gecko) Version/5.1 Mobile/9B206 Safari/7534.48.3' }\nA good number of these:\n[2014-06-12 16:04:44.429] [WARN] client - Uncaught TypeError: Cannot read property 'replace' of undefined -- { errorId: 'UEDUeHIoV9HWqGipQF2o',\n  msg: 'Uncaught TypeError: Cannot read property \\'replace\\' of undefined',\n  url: 'host:443/p/g.Hreu9Qvc3vxtAa8Z$370a0f9e650c4457af5b8d794d07160a?client=true&showLineNumbers=false&alwaysShowChat=true',\n  linenumber: 4548,\n  userAgent: 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/35.0.1916.114 Safari/537.36' }\n[2014-06-12 16:04:44.446] [WARN] client - Uncaught TypeError: Cannot call method 'replace' of undefined -- { errorId: '2bX1Odi1Hw9yCCOPwDna',\n  msg: 'Uncaught TypeError: Cannot call method \\'replace\\' of undefined',\n  url: 'host:443/p/g.Hreu9Qvc3vxtAa8Z$370a0f9e650c4457af5b8d794d07160a?client=true&showLineNumbers=false&alwaysShowChat=true',\n  linenumber: 4548,\n  userAgent: 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.57 Safari/537.36' }\nThese:\n[2014-06-12 16:01:20.747] [WARN] client - Uncaught SyntaxError: Unexpected token : -- { errorId: 'FQaifBGurKTKv5chogvD',\n  msg: 'Uncaught SyntaxError: Unexpected token :',\n  url: 'host:443/p/g.Hreu9Qvc3vxtAa8Z$4a3a8e7216b0423c893aaf6eba57af6c?client=true&showLineNumbers=false&alwaysShowChat=true',\n  linenumber: 29,\n  userAgent: 'Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/35.0.1916.114 Safari/537.36' }\nThese:\n[2014-06-12 16:01:25.605] [WARN] client - Uncaught TypeError: Cannot read property 'length' of undefined -- { errorId: 'X5kIS7vRkgXFJ81DKDQZ',\n  msg: 'Uncaught TypeError: Cannot read property \\'length\\' of undefined',\n  url: 'host:443/p/g.Hreu9Qvc3vxtAa8Z$4a3a8e7216b0423c893aaf6eba57af6c?client=true&showLineNumbers=false&alwaysShowChat=true',\n  linenumber: 2004,\n  userAgent: 'Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/35.0.1916.114 Safari/537.36' }\nAnd some of these:\n[2014-06-12 16:01:47.224] [WARN] client - Script error. -- { errorId: 'y9lIzMyJmveibY2XaVst',\n  msg: 'Script error.',\n  url: 'host:443/p/g.Hreu9Qvc3vxtAa8Z$4a3a8e7216b0423c893aaf6eba57af6c?client=true&showLineNumbers=false&alwaysShowChat=true',\n  linenumber: 0,\n  userAgent: 'Mozilla/5.0 (Windows NT 6.3; Win64; x64; rv:24.0) Gecko/20140608 Firefox/24.0 PaleMoon/24.6.1' }\nFinally, here's a repeated server-side error I'd forgotten to mention.  This one never appears except immediately after an Auth was never applied error (though not every Auth was never applied error has one after it).\n[2014-06-12 16:02:19.284] [WARN] console - Error: Can't apply USER_CHANGES, because Trying to submit changes as another author in changeset Z:2>1=1*0+1$f\n    at /project_dir/etherpad-lite-1.4/src/node/handler/PadMessageHandler.js:667:25\n    at /project_dir/etherpad-lite-1.4/src/node_modules/async/lib/async.js:486:21\n    at /project_dir/etherpad-lite-1.4/src/node_modules/async/lib/async.js:185:13\n    at iterate (/project_dir/etherpad-lite-1.4/src/node_modules/async/lib/async.js:108:13)\n    at /project_dir/etherpad-lite-1.4/src/node_modules/async/lib/async.js:119:25\n    at /project_dir/etherpad-lite-1.4/src/node_modules/async/lib/async.js:187:17\n    at /project_dir/etherpad-lite-1.4/src/node_modules/async/lib/async.js:491:34\n    at /project_dir/etherpad-lite-1.4/src/node/handler/PadMessageHandler.js:622:9\n    at /project_dir/etherpad-lite-1.4/src/node/db/PadManager.js:174:7\n    at Object.callback (/project_dir/etherpad-lite-1.4/src/node/db/Pad.js:408:5)\n. Just as a reminder, we're happy (eager, really) to pay good money to anyone with deep EL experience who can help us sort through this quickly.\n. We'll try that.  Thanks @marcelklehr.\n. It's kind of a bundle of separate issues, as you can tell.\nSwitching to the redis storage backend dramatically increased our capacity.\nSome of the bugs have continued to show up.  The one that has frustrated us\nthe most is the \"Auth was never applied to a session\" one.  We've tried\napplying the change Marcel suggested above (commenting out the callback\ncall), but since then we haven't been able to reproduce the case -- i.e.\nthe case in which the bug would have appeared hasn't been encountered since\nthen, so that we don't know whether the fix would work and whether it would\nhave any nasty side effects.  We'll check back in once we run into it.\nOn Sat, Nov 1, 2014 at 10:32 AM, John McLear notifications@github.com\nwrote:\n\n@christianpbrink https://github.com/christianpbrink did you get\nanywhere with this?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/2182#issuecomment-61369936\n.\n. Thanks for jumping right in to discuss this, John.  To help me understand the terrain here, can you clarify for me, are static assets served through socket.io or is there separate machinery for serving them?\n. We haven't made any progress against this; it never appeared again after\nour last correspondence on this thread.  Weird, I know.\n\nOn Sat, Nov 1, 2014 at 8:43 AM, John McLear notifications@github.com\nwrote:\n\n@christianpbrink https://github.com/christianpbrink did your logs show\nanything more?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/2238#issuecomment-61367054\n.\n. \n",
    "rfjakob": "I am also seeing this issue, etherpad version 1.3.0. Affected are Chrome 32 and Safari 6, Firefox works.\nThis seems to be a regression, as it works fine on http://etherpad.wikimedia.org/ , which is probably running an older version.\n. ",
    "linuxundich": "Btw, when i work with Firefox and copy a text from within etherpad with double line breaks like...\n...\nLorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.\nCum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\nDonec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim.\n...\n...back to a different editor like kile or kate, one of the line breaks is lost. It it looks like...\n...\nLorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.\nCum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\nDonec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim.\n...\n. ",
    "axelcdv": "I tried bisecting, and it seems like it dates back before v1.2.12 (commit 76bd25ac21609bf5f4674e7d06298b7dd033ad29). I tried going further but I'm having some trouble with node and npm.\n. ",
    "frogsquire": "I am also having this issue, though I do not have it with very old versions of Etherpad, such as on http://piratepad.net/. \nEdit: As a note, I can also confirm that this is not happening on Firefox. \n. That appears to have fixed it if run as http://last-outpost.net:9001, but if I try to run it through http://txt.last-outpost.net, I still get: \"An error occured while loading the pad\nUncaught Error: The module at \"ep_etherpad-lite/static/js/rjquery\" does not exist. in http://txt.last-outpost.net/static/js/require-kernel.js (line 1)\"\n. ",
    "spiffomatic64": "Is there any workaround for this in the meantime?\n. ok thanks, is this planned on being fixed? or is this an issue with the browser that might be resolved in the future?\n. Just confirmed this is still occurring in 1.5.7, as well as on current git clone \nUsing chrome Version 44.0.2403.155 m\n. This in unrelated-ish (I can make a new issue if needed) But as a work around, is there a way to create a pad with html (formatted) content remotely? (from another server via post/get requests?)\n. ok Thanks :)\n. ",
    "NotSqrt": ":+1: \n. Tested 3115da78802a1e0c5c57cfc201ab41ce3b3a4cc6, still broken on chrome 38.\nI will stay on branch 1.3 for now.\n. Here are the computed rules of innerdocbody, let me know if you need the details:\ncss\n{\nbackground-image: url(data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==);\ncursor: text;\ndisplay: block;\nfont-family: monospace;\nfont-size: 12px;\nheight: 14768px;\nline-height: 16px;\nmargin-bottom: 0px;\nmargin-left: 0px;\nmargin-right: 0px;\nmargin-top: 0px;\noverflow-x: hidden;\noverflow-y: hidden;\npadding-bottom: 8px;\npadding-left: 1px;\npadding-right: 10px;\npadding-top: 1px;\nwhite-space: pre-wrap;\nwidth: 1618px;\nword-wrap: break-word;\n}\n. @JohnMcLear it works in chrome (I also checked in Firefox) !!\n. Well, not so sure ...\nFor some content, it's ok, for other things, it does not work, but it is the same behaviour under firefox.\nCopying the diff from the page https://github.com/ether/etherpad-lite/commit/ac2e949c3ef1e73b19f3a8bdcd1575ed563311f0 fails. (but it is detected as multiple lines in any text editor ..). \nSo I guess further improving this is no longer in the scope of etherpad-lite !\n. See the details in my updated comment :\n- it works\n- except on some texts where it also fails on firefox\n. @JohnMcLear FYI, no problem related to line breaks to report with that branch for the past 3 weeks, apart from some texts that also fail on other browsers.\n(as a side note, monospace pads, even with the monospace_default plugin, are rather eratic : some pasted texts show up as not monospace, and a page reload is necessary to fix it.)\n. Created separate issue #2311 \nHowever, I retested copy-paste, and it seems that the fix is not perfect yet.\nI have no problem with multiple pastes of the same copied text from a pad, but for instance, if I copy the content of this form (when writing it), the first paste works, the second and following ones lose line breaks.\nAmong my browsers, it seems specific to Chrome.\n. It seems specific to Chrome.\n. Thanks John.\nYes, this is indeed a minor annoyance.\n. Should I test on the \"develop\" branch ?\n. Status :\n- ok on firefox\n- still buggy on chrome (steps : open pad, with \"force monospace\" plugin and monospace font, copy current url from url bar, paste into pad)\n. ",
    "sue445": ":+1: \n. ",
    "hiracy": ":+1:\n. ",
    "benoittgt": "Having the issue on http://etherpad.mozilla.org also. \n. ",
    "claytono": "I'm also seeing the issue on Safari on 1.5.7\n. ",
    "blinry": "Just wanted to mention @JohnMcLear's workaround again. Maybe it helps someone else:\nSurround your text with HTML tags before copying it, for example \" \".\n. ",
    "svillar": "BTW this bug also affects WebKit (Safari, epiphany...) and the <pre> workaround does not work for me at all.\n. ",
    "psaavedra": "Looks like the problem in Safari and epiphany is inducted by the workaround introudced in #1766. I just reverted this one and the copy&paste works well now in Epiphany:\n``` diff\n--- ./etherpad-lite/node_modules/ep_etherpad-lite/static/css/iframe_editor.css.orig 2017-02-02 10:21:45.201005469 +0100\n+++ ./etherpad-lite/node_modules/ep_etherpad-lite/static/css/iframe_editor.css  2017-02-02 10:23:02.612889597 +0100\n@@ -120,8 +120,6 @@\n }\n\nbody.doesWrap:not(.noprewrap) > div{\n/ Related to #1766 /\nwhite-space: pre-wrap;\n}\n\n#innerdocbody {\n```. I can still reproduce it in Epiphany 3.22, but it seems to be gone from FF 50 or Chromium 55.. Looks like the problem in Safari and epiphany is originated by the workaround introduced in #1766. I just reverted this one and the copy&paste works well now in Epiphany:\n``` diff\n--- ./etherpad-lite/node_modules/ep_etherpad-lite/static/css/iframe_editor.css.orig 2017-02-02 10:21:45.201005469 +0100\n+++ ./etherpad-lite/node_modules/ep_etherpad-lite/static/css/iframe_editor.css  2017-02-02 10:23:02.612889597 +0100\n@@ -120,8 +120,6 @@\n }\n\nbody.doesWrap:not(.noprewrap) > div{\n/ Related to #1766 /\nwhite-space: pre-wrap;\n}\n\n#innerdocbody {\n```. Related: https://github.com/ether/etherpad-lite/pull/3134. I don't think. My patch was for Mozilla browsers not sure about the status in Webkit. ",
    "mluzitano": "Hey MarkTraceur,\nWhat OS were you running when you received this error? Have you noticed it on any other system or browser?\n. ",
    "tbayer": "Hi, this is Tilman. Mark was correct about the OS - I was using Ubuntu 13.10 (now 14.04). \nCursor down is now working for me correctly in this pad, using Chomium Version 37.0.2062.94 Ubuntu 14.04 (290621) (64-bit). Thanks to whoever fixed this (which might of course be a Chrome developer).\nBut cursor up is not working correctly:  If I place the cursor somewhere within \"Wiki Loves Monuments]]\" or before, and press the cursor up key, the cursor does not move one line up, but instead jumps behind \"Wiki Loves Monuments]]\", at the position before the comma which happens to be the first character with a different author color. And it then gets stuck there, even though that comma is not located in the top line.\nThe behavior appears to vary by width of the browser window - I observe this with a wide browser window where the whole part until \" initiatives]] \" only takes up around two and a half screen lines. If I narrow the window, the cursor moves up correctly in some places, but not in others. I was even able to make the cursor go around in a circle of sorts by constantly pressing cursor up (in a window width where  it correctly moves up from the position before that differently colored comma, but then jumps back to it again from a position further up) ;)\nPS: The cursor up problem does not seem to occur in Firefox.\n. @JohnMcLear : I can still observe this bug (in the form observed above on September 23) on Chromium 39.0.2171.65 under Ubuntu. (FWIW, it works fine for me using Chrome 38 under Mac OS X.)\n. ",
    "williamoverstreet": "I had the same issue under CentOS 6.4 / node 0.10.26 / npm 1.4.3\nI commented out line 89 from etherpad-lite/src/node_modules/npm/lib/search.js\n         //, version: Object.keys(data.versions)[0] || []\nseems to have temporarly resolved the issue letting me play with it more.\n. ",
    "clst": "Maybe this is an npm bug... I did not have time to look further. But etherpad crashing was a bit weird.\nManual plugin installation works fine btw.\n. Works great. Now I seem to get this warning (I guess it's harmless)\n```\n[2014-02-27 11:37:13.320] [WARN] pluginfw - /usr/local/share/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npm-registry-client requires semver@'^2.2.1' but will load\n/usr/local/share/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/semver,\nwhich is version 2.2.1 'unmet dependency'\n[2014-02-27 11:37:13.513] [INFO] console - Installed plugins: ep_adminpads, ep_etherpad-lite, ep_syntaxhighlighting\n[2014-02-27 11:37:13.523] [INFO] console - Your Etherpad git version is 6940106\n```\n```\n$ npm ls semver\n/usr/local/share/etherpad-lite\n\u251c\u2500\u252c ep_adminpads@0.0.5\n\u2502 \u2514\u2500\u252c log4js@0.6.10\n\u2502   \u2514\u2500\u2500 semver@1.1.4\n\u2514\u2500\u252c ep_etherpad-lite@1.3.0 -> /usr/local/share/etherpad-lite/src\n  \u251c\u2500\u252c log4js@0.6.6\n  \u2502 \u2514\u2500\u2500 semver@1.1.4\n  \u251c\u2500\u252c npm@1.4.4\n  \u2502 \u2514\u2500\u2500 semver@2.2.1\n  \u2514\u2500\u2500 semver@1.0.13\n$ npm -g ls semver\n/usr/local/lib\n\u2514\u2500\u252c npm@1.4.4\n  \u2514\u2500\u2500 semver@2.2.1\n```\n. looks like I spoke too soon. It worked once. Now I get:\nnpm WARN Building the local index for the first time, please be patient\nnpm http GET https://registry.npmjs.org/-/all\nnpm http 200 https://registry.npmjs.org/-/all\n[2014-02-27 12:39:44.413] [ERROR] console - RangeError: Invalid array length\n    at /usr/local/share/etherpad-lite/src/node_modules/npm/node_modules/npm-registry-client/lib/get.js:93:15\n    at Array.forEach (native)\n    at /usr/local/share/etherpad-lite/src/node_modules/npm/node_modules/npm-registry-client/lib/get.js:92:26\n    at cb (/usr/local/share/etherpad-lite/src/node_modules/npm/node_modules/npm-registry-client/lib/request.js:26:9)\n    at RegClient.<anonymous> (/usr/local/share/etherpad-lite/src/node_modules/npm/node_modules/npm-registry-client/lib/request.js:101:16)\n    at cb (/usr/local/share/etherpad-lite/src/node_modules/npm/node_modules/npm-registry-client/lib/request.js:124:9)\n    at RegClient.<anonymous> (/usr/local/share/etherpad-lite/src/node_modules/npm/node_modules/npm-registry-client/lib/request.js:268:12)\n    at Request.self.callback (/usr/local/share/etherpad-lite/src/node_modules/npm/node_modules/request/request.js:123:22)\n    at Request.EventEmitter.emit (events.js:98:17)\n    at Request.<anonymous> (/usr/local/share/etherpad-lite/src/node_modules/npm/node_modules/request/request.js:893:14)\n[2014-02-27 12:39:44.413] [INFO] console - graceful shutdown...\n[2014-02-27 12:39:44.414] [INFO] console - db sucessfully closed.\nRESTART!\n. the content of ~/.npm/-/all/.cache.json was \"[]\" (2 bytes)\nI deleted it and now it updated fine again. Now every access to the plugin page is really fast.\nThanks for the help.\n. ",
    "gonium": "Confirmed. The proposed patch above worked for me. \n. ",
    "SkoricIT": "This is not trivial as it occurs by chance on the prod server with many users  and I cannot reproduce it.\nI can only test if broken pads stay broken on develop, if that helps.\n. I will get the db copied to dev next week. Will report as soon as possible. Thank you for the fast response.\n. Unfortunately moving to develop has not repaired the damaged pads. Interestingly, moving servers (simple sql export/import) has \"repaired\" one of the pads. It works on the new server (even on 1.3.0) but other damages pads don't. Still the same error.\nThis is a really strange bug and pads seem to sometimes just \"self-repair\" even on PROD and with no change whatsoever from us.\n. What do you mean with \"fresh data\" ? Do I need to put PROD on develop and try to get new broken pads?\n. We might do that. Thanks a lot.\n. I am right now in the process of upgrading to 1.4 and hopefully going live with the new version, so I can check if new defects come up in fresh pads after running on the new version.\n@usabilidoido you can tell your users to export-import the pad. You can access controls by adding /timeslider to the url like this: http://etherpad.usabilidoido.com.br:8080/p/07318a9b2b5666637d870fc50656323620af4df4/timeslider\nExport as html and then import into a new pad.\n. I have upgraded everything to 1.4. and yesterday we had a broken pad again. Might still be one that broke before update, but I am not sure. I will keep on looking.\n@marcelklehr Unfortunately, I can't move production server to a dangerous version. And I can't mirror requests to a secondary server because I don't have the resources. :-/\n. @marcelklehr I just did, and unfortunately it did not help.\nProcess: \ngit fetch\ngit checkout try/client-init-remove-checkRep\ngit status\nOn branch try/client-init-remove-checkRep\nYour branch is up-to-date with 'origin/try/client-init-remove-checkRep'.\nI confirmed the change is actually in the file system. (comment and new line are there) Error is still the same. \n\nI did get the error that @ericpedia mentioned, and it did not occur on pads other than the corrupted one. \nconsole on server:\n[2014-05-09 16:55:39.152] [WARN] client - Uncaught TypeError: Cannot read property 'length' of undefined -- { errorId: 'dTtndCRA5gonLZyvMlqw',\n  msg: 'Uncaught TypeError: Cannot read property \\'length\\' of undefined',\n  url: 'http://localhost:9001/p/OkTJWMYVNs',\n  linenumber: 15,\n  userAgent: 'Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/34.0.1847.131 Safari/537.36' }\nWhen I kill the server the message is displayed in the client, also:\n\nI might be able to give you an SQL import of the broken pad, but you would need to tell me what exactly you need extracted from the database first. :-)\n. Nice work so far Marcel. Sounds like you are close to solving this.\n. @marcelklehr Will that make EP rebuild the pad from revision 0 on load? I guess I should not go around deleting all atext properties from all revisions then... :-) Any hope for a \"regenerate Pad\" script that rebuilds key revisions with a correct algorithm?\n. Cool, I look forward to it. Right now we get only about one broken pad a week, so I am inclined to wait for a proper fix. :-) Thanks.\n. @marcelklehr We had etherpad crash and recover a few times because of a plugin that was not well coded, could this be the cause? Strange that it's just one letter that got corrupted every time.\n. @marcelklehr It probably just made the problem more visible, because the correct memory value was lost for us in those cases.\n. ",
    "usabilidoido": "I also have that problem, with the same strange randomness. I updated to etherpad-lite 1.4 and it is still there. URL for one of the pads http://etherpad.usabilidoido.com.br:8080/p/07318a9b2b5666637d870fc50656323620af4df4\n. The repairPad.js script from @Gared is fixing my broken pads. Any chance of this fix being incorporated in the next etherpad-lite version?\n. ",
    "ericpedia": "I am experiencing this issue in 1.4. On broken pads, command line shows [WARN] client - Uncaught TypeError: Cannot read property 'length' of undefined when browser shows the Failed assertion error.\nHat tip to @Ra1d3n for the /timeslider workaround. Glad to see pad content is still accessible there.\n. ",
    "vieville": "My etherpad is running on 1.4.1 and I have got 3 times the same problem described above : the pad is not able to load but /timeslider works well.\n2 of them are now rerunning without doing nothing.\nOn the third pad, I tried unsuccessfully the repairPad.js. Its url is :+1: http://portail.univ-lille1.fr/etherpad/link.jsp?groupID=g.jfobkKVrkydeTwLY&padID=SES_Grp8_Macroeconomie (you ave to click on \"utilisez le pad avec l'invitexy\" to access to the paditself.\nMaybe there is a changeset with an anormal value which is not taken into account by repairPad or is there any new release of reparPad.js I have not seen on git ?\n. Hi,\nYou closed my issue probably because it had no thing to do there.\nPlease could you send me a link where I can get help on etherpad-lite \nmostly on deployement issues\nThank you\nClaude\nLe 10/11/2014 13:08, John McLear a \u00e9crit :\n\nClosed #2306 https://github.com/ether/etherpad-lite/issues/2306.\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/ether/etherpad-lite/issues/2306#event-190731466.\n\n\nClaude Vi\u00e9ville\nResponsable du p\u00f4le WEB-ENT\nCentre de Ressources Informatiques\nUniversit\u00e9 Lille 1 - Sciences et Technologies\nB\u00e2timent M4 - F-59655 Villeneuve d'Ascq cedex, France\nT\u00e9l. +33 3 20 43 69 57\nFax  +33 3 20 43 66 25\n. I tested again my new installed release 1.5.7 with a blank database and it works fine.\nIs it required to updgrade the database when upgrading from release 1.4.1 to 1.5.7 ?\nI yes, what is the procedure to run ?\nThank you for your help\n. ",
    "caugner": "The error can easily be reproduced by creating a new pad with a single emoji (e.g. \ud83d\udc3c) and restarting etherpad, see also #3340.. I wanted to check all pads, so I added a checkAllPads tool (see PR #3342).. I can confirm this issue with etherpad-lite 1.6.3 and MariaDB 15.1 with utf8mb4 / utf8mb4_general_ci.. > Etherpad crashes:\nWhat exactly do you mean by crash? For me, the emoji \"only\" corrupts the current pad, which cannot be loaded anymore after restarting etherpad (which is obviously due to caching, see #2107).. @JohnMcLear Do you have advice on how to avoid/fix this problem? In #2107 you mentioned that there might be a fix.. I have taken a closer look at the logs:\n```\n// Paste emoji.\npad:emoji-test:revs:6 - {\"changeset\":\"Z:1>2*0+2$\ud83d\ude0e\",\"meta\":{\"author\":\"a.7O43iZgpsTGm4cFi\",\"timestamp\":1520601291592}} - to buffer\n// Backspace.\npad:emoji-test:revs:7 - {\"changeset\":\"Z:3<1=1-1$\",\"meta\":{\"author\":\"a.7O43iZgpsTGm4cFi\",\"timestamp\":1520601296408}} - to buffer\n// Backspace again.\npad:emoji-test:revs:8 - {\"changeset\":\"Z:2<1-1$\",\"meta\":{\"author\":\"a.7O43iZgpsTGm4cFi\",\"timestamp\":1520601298102}} - to buffer\n```\nAs far as I can see the problem lays in the changeset of adding the emoji, which is recorded as adding two characters: Z:1>2*0+2$\ud83d\ude0e. I would expect the changeset to be Z:1>2*0+1$\ud83d\ude0e. Then the first backspace could/should remove the whole character: Z:2<1-1$.. Okay, I wasn't aware that\njs\n\"\ud83d\ude0e\".length == 2\nSo it depends whether changesets are supposed to operate on code points or characters. Two solutions:\n\nMake changesets operate on characters. Adding an emoji would add one character and backspace would remove one character.\nLet changesets operate on code points, but fix removing characters with multiple code points (see below).\n\nRemoving one character seems to currently assume a length of 1:\nhttps://github.com/ether/etherpad-lite/blob/454f539561a8d9de51ed107a29d974eb79198bc6/src/static/js/ace2_inner.js#L3577\nFollowing solution 2, the fix might be applied here ...\nhttps://github.com/ether/etherpad-lite/blob/454f539561a8d9de51ed107a29d974eb79198bc6/src/static/js/ace2_inner.js#L2271-L2304\n... ore more precisely here:\nhttps://github.com/ether/etherpad-lite/blob/454f539561a8d9de51ed107a29d974eb79198bc6/src/static/js/ace2_inner.js#L2290-L2295\nUpdate: And yet, digging deeper, the bug might actually be in Changeset.remove:\nhttps://github.com/ether/etherpad-lite/blob/7ecf240d9e46ac41259100bf83242ca7b8fc205b/src/static/js/Changeset.js#L744-L760\njs\n\"\ud83d\ude0e\".substring(1, 2);\n// \"\\ude0e\"\n\"\ud83d\ude0e\".substring(0, 1);\n// \"\\ud83d\"\nSummary: Somewhere along this call stack, determination of the emoji character length should be corrected:\nAce2Inner.doDeleteKey -> Ace2Inner.performDocumentReplaceCharRange ->Ace2Inner.performDocumentReplaceRange -> ChangesetUtils.buildRemoveRange -> ChangeSet.textLinesMutator.remove. > In our case, Etherpad crashed completely, ie the node process terminated.\nIf your Etherpad instance crashes, while mine doesn't, I assume that etherpad-lite has been made more robust between your version (1.5.7) and mine (1.6.3). Have you considered updating to the latest version (which includes security fixes)?\n\nHm, but for some reason, this time it didn't log anything:\n\nHave you tried setting \"loglevel\": \"DEBUG\", in settings.json while reproducing the issue? I have obtained my logs by running journalctl -f | grep <name-of-pad>.. It would be ideal to extract common parts of checkPad.js and checkAllPads.js to src/node/utils.. ",
    "louvois": "Hi,\nI am testing this example :+1:  https://github.com/TomNomNom/etherpad-lite-client/blob/master/example_big.php\nOn line 52, sessionID is created :\n$validUntil = mktime(0, 0, 0, date(\"m\"), date(\"d\")+1, date(\"y\")); // One day in the future\n$sessionID = $instance->createSession($groupID, $authorID, $validUntil);\n$sessionID = $sessionID->sessionID;\nsetcookie(\"sessionID\",$sessionID); // Set a cookie\n1) So When my etherpad setting is with requireSession : True\nI am able to create, access and edit  pads ( but can't export)\nwith this message error :\"export : 403 - Can't touch this\"\n2) When my etherpad setting is with requireSession : False\nI am able to create, access, edit  and EXPORT pads\nBut i need RequireSession: true,\nDo you have any idea ? thanks\n. Maybe it's a bug. \nWhile waiting for a correction, i have changed my etherpad to \"requireSession : false\" \nand made some change to my apache :+1: \n\n```\n     # REWRITE rules \n      RewriteEngine On\n      RewriteLog \"/var/log/httpd/rewrite.log\"\n      RewriteLogLevel 1\n      RewriteOptions Inherit\n      RewriteRule ^/admin - [F]\n      SetEnvIf Request_URI \"^/api/$\" valid_access=1\n      SetEnvIf Request_URI \"^/socket.io/.$\" valid_access=1\n      SetEnvIf Request_URI \"^/javascripts/lib/.$\" valid_access=1\n      SetEnvIf Request_URI \"^/locales/fr.json$\" valid_access=1\n      SetEnvIf Request_URI \"^/locales.json$\" valid_access=1\n      SetEnvIf Request_URI \"^/static/.$\" valid_access=1\n      SetEnvIf Request_URI \"^/pluginfw/plugin-definitions.json$\" valid_access=1\n      SetEnvIf Request_URI \"^/p/g.[0-9a-zA-Z]\\$[0-9a-zA-Z]$\" valid_access=1\n      SetEnvIf Request_URI \"^/p/g.[0-9a-zA-Z]\\$[0-9a-zA-Z]/export/.$\" valid_access=1\n      SetEnvIf Request_URI \"^/p/g.[0-9a-zA-Z]\\$[0-9a-zA-Z]/timeslider.$\" valid_access=1\n      SetEnvIf Request_URI \"^/p/r.[0-9a-zA-Z]\\$[0-9a-zA-Z]$\" valid_access=1\n      SetEnvIf Request_URI \"^/p/a.[0-9a-zA-Z]\\$[0-9a-zA-Z]$\" valid_access=1\n      SetEnvIf Request_URI \"^/p/s.[0-9a-zA-Z]\\$[0-9a-zA-Z]$\" valid_access=1\n  <Location \"/\" >\n    Order allow,deny\n    Allow from env=valid_access\n  </Location>\n\n```\n\nI can now prevent anybody using our etherpad\nThanks\n. My Etherpad git version now  is 31c45bc, but i face the same problem.\n\n\n. that is the message now, thanks :\n403 - Can't touch this: deny\n. Hello Marcel Klehr,\nI think the problem is solved !\nI misused the php setcookie() function.\nActually, I ran https://github.com/TomNomNom/etherpad-lite-client/blob/master/example_big.php on my host like this\nhttp://plouvois.in.ac-paris.fr/example_big.php\nAnd my etherpad is running on my virtualhost :\nhttp://plouvois2.in.ac-paris.fr:9002/\nSo now :+1: \nEtherpad and the frontend run on the same host:\nhttp://plouvois.in.ac-paris.fr/example_big.php\nhttp://plouvois.in.ac-paris.fr:9002/\nand i also changed the setcookie function on line 55 \nbefore:\nsetcookie(\"sessionID\",$sessionID); \nafter:\nsetcookie(\"sessionID\",$sessionID, time()+3600,\"/\",\"plouvois.in.ac-paris.fr\",0); \nAnd it works now\nThanks\n. ",
    "alekiy": "Hey, I'm facing the exact same problem. I use release 1.5.6 and nearly the same Proxy configuration.\n@louvois do u have any advice for me how to fix it?\nI also tried to use ur modified setcookie and SetEnv config for apache, but no success.\n. ",
    "sealence": "You can reproduce the error by using the embed URL provided by the \"\" button to create an simple html test page. Pad inside an iframe seems to have issues switching to timeslider view. Rollback to 1.3.0 fixed that...\n. commit 8cd9b98b767a8bcf938e3314bb609ce85d6e1437 break this \n\"Merge pull request #2110 from ether/modularize-toolbar\"\nI rolled back to commit cd0f5742f606e7310f735cb879aa0f19595ac023 \"Merge pull request #2108 from goldquest/dev_deleteSessionBug\" and it works again.\n. ",
    "jiaoma90": "Server log provide theses details . \nConverting Error: 'convert /tmp/f911befb8614d90c9c998dab8579ed87.htm /tmp/eplite_import_1 \\r27563198.htm htm\\nlibrdf error - HTML parser error: htmlParseEntityRef: expecting \\';\\'\\nlibrdf error - HTML parser error: htmlParseEntityRef: expecting \\';\\'\\nlibrdf error - HTML parser error: htmlParseEntityRef: expecting \\';\\'\\nlibrdf error - HTML parser error: htmlParseEntityRef: expecting \\';\\'\\nlibrdf error - HTML parser error: htmlParseEntityRef: expecting \\';\\'\\nlibrdf error - HTML parser error: htmlParseEntityRef: expecting \\';\\'\\nAbiWord: could not open the file [/tmp/f911befb8614d90c9c998dab8579ed87.htm]\\nerror -1 \\nAbiWord:> '\n. After I installed abiword,  .doc and .txt can work quite well for both import and export, but for html ,this is lots of trouble. For me , I just can not import html. Client always say \"Import failed: We were not able to import this file. Please use a different document format or copy paste manually\" .\n. ",
    "diskman": "It doesn't work only  in etherpad editor. See http://screenpresso.com/=K2h5e I created etherpad with \"\u015b\" character (it works in simple  ) but I can't write in etherpad editor word \"\u015bciana\"\n. just Alt S\nTemat: Re: [etherpad-lite] ALT+S in chrome 33.0.1750.154 m not works for polish letter \"\u015b\" (#2134)\nAre you trying to use a compose key or just Alt S?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/issues/2134#issuecomment-61413737\n. no, RALT+S is not shortkey ( https://support.google.com/chrome/answer/157179?hl=en ). In all browseres for PL localization ALTGr + S is \"\u015b\" char.\n. Sorry for inconvenience, I changed issue title.\n1. Set keyboard layout to polish [programmer]\n2. Open chrome\n3. Enter etherpad lite\n4. Try to type word \"\u015bciana\" where \"\u015b\" = AltGr + S\n. ",
    "eholzinger": "Sure. Was trying to figure out how to checkout just that bit when it wasn't part of the overall project yet. Can you tell this github noob how? Also saw that it failed the Travis checkin\n. Doh. Nevermind. I found the right branch ... will holla back in awhile.\n. To close the loop -- was back-and-forth with Marcel on the thread attached to #2174  -- upshot is it's fixed and works as expected now. Please merge into project... \n. I've finally played around with this and have run across some issues. Could well be it's something I'm doing wrong, but here's what's happening on my server (ubuntu 10.04, db is mongo), followed by log data:\nWhether attempting to copy a pad from one group to another or within a single group, the operation fails and kills the etherpad daemon. The groups all exist, so the error \"destinationID false\" isn't because of that.\nLogs:\n[2014-07-07 14:20:48.779] [INFO] API - REQUEST, v1.2.9:copyPad, {\"sourceID\":\"g.79eMPApQaMz5OHxt$newone\",\"destinationID\":\"g.lAnpebt6twMXEv8A$anewone\",\"apikey\":\"bunchofrandomchars\"}\n[2014-07-07 14:20:48.787] [INFO] console - destinationID 'g.lAnpebt6twMXEv8A$anewone' false\n[2014-07-07 14:20:48.794] [ERROR] console - ReferenceError: padID is not defined\n    at async.series.callback.padID (/var/www/etherpad-lite/src/node/db/Pad.js:555:66)\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:486:21\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:185:13\n    at iterate (/var/www/etherpad-lite/src/node_modules/async/lib/async.js:108:13)\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:119:25\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:187:17\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:491:34\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:190:13\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:94:25\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:187:17\n[2014-07-07 14:20:48.794] [INFO] console - graceful shutdown...\n[2014-07-07 14:20:48.868] [INFO] ueberDB - Flushed 2 values\n[2014-07-07 14:20:48.981] [INFO] console - db sucessfully closed.\nSame result with movePad. \nAnd here it is copying within a group, with a new name:\n[2014-07-07 14:24:02.369] [INFO] API - REQUEST, v1.2.9:copyPad, {\"sourceID\":\"g.79eMPApQaMz5OHxt$newone\",\"destinationID\":\"g.79eMPApQaMz5OHxt$newonecopy\",\"apikey\":\"randomcharshere\"}\n[2014-07-07 14:24:02.379] [INFO] console - destinationID 'g.79eMPApQaMz5OHxt$newonecopy' false\n[2014-07-07 14:24:02.385] [ERROR] console - ReferenceError: padID is not defined\n    at async.series.callback.padID (/var/www/etherpad-lite/src/node/db/Pad.js:555:66)\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:486:21\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:185:13\n    at iterate (/var/www/etherpad-lite/src/node_modules/async/lib/async.js:108:13)\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:119:25\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:187:17\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:491:34\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:190:13\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:94:25\n    at /var/www/etherpad-lite/src/node_modules/async/lib/async.js:187:17\n[2014-07-07 14:24:02.385] [INFO] console - graceful shutdown...\n[2014-07-07 14:24:02.448] [INFO] ueberDB - Flushed 2 values\n[2014-07-07 14:24:02.561] [INFO] console - db sucessfully closed.\nGroups all exist: \n[2014-07-07 14:26:19.210] [INFO] API - REQUEST, v1.2.9:listAllGroups, {\"apikey\":\"yada-yada-yada\"}\n[2014-07-07 14:26:19.215] [INFO] API - RESPONSE, listAllGroups, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupIDs\":[\"g.rerY4LxVbm1dHkQv\",\"g.dqfIuiwjoGrC3Kd9\",\"g.cUOXDdjjcAzwDYy3\",\"g.KIfEkNcmJuriOXX9\",\"g.jKwXnKzzZhDWIMTP\",\"g.lTrhdGftCEf8ayAX\",\"g.L9TTde9yL8OXSKrW\",\"g.6uyrLW19zC4m9MyC\",\"g.p4y9okQH08vLpMUU\",\"g.EEOuXf5zmmYzYTAj\",\"g.kWg8MpehWyiQlZs1\",\"g.1KZlwarofi0CImjr\",\"g.HZedyiQiEhbzB6yq\",\"g.duudsNxEUA5iOBi8\",\"g.FwRRYZ9NunVnjFJL\",\"g.lAnpebt6twMXEv8A\",\"g.4O3fS2lyd1rMcXZf\",\"g.Pk1UNBSWddgGXRl9\",\"g.m8E6nymfRKC3dnYO\",\"g.qQxAZiEX3I6crYh1\",\"g.1fyJ174bWD7VuTV1\",\"g.v8N7CM3QnacjTD5k\",\"g.bF43prYsGqQyvFCi\",\"g.3hmYcrLzU7sjte4S\",\"g.xGUP1mwUOg6X65pQ\",\"g.vcC8szjNVAQUFyo0\",\"g.iu3mDIFU1QlWQpLj\",\"g.JLNz7F48X9WTca3x\",\"g.dORj5rS1og0sY94s\",\"g.UzVf9SAHB2p1pjiA\",\"g.vAoxWxao9yrNfC2R\",\"g.NhrOUdzQcaWXTScw\",\"g.A6MAMk7oH3a8SRjE\",\"g.MkpswtnOjk2f8EEk\",\"g.mby44YsIJXGQvXfa\",\"g.koT4DWYjAIvKcG8Z\",\"g.uqZp5ej5J1NuD26C\",\"g.sBdqDlSEBhSHuCEF\",\"g.Yah7wk6DYTGpt5qV\",\"g.tH4gttm3feCP4gKZ\",\"g.YPlKfmRoLdPokqRa\",\"g.aeEmBmmLqlOuukRt\",\"g.yCQJqUJXkNtx7pod\",\"g.5acWG5bZebfNHPbC\",\"g.RrtiQ8qLAihYjlZF\",\"g.OuKYSqdGmfQoeOhK\",\"g.1lJrJuDkm2lAzbJC\",\"g.dApM9NN8jKXzzcnb\",\"g.xiKU1Pj0px2AKJJD\",\"g.ZKtby7wShtaIj00E\",\"g.vplBdZoUktsqFfWe\",\"g.rQMpmez2uVMR2oDZ\",\"g.W8HH3TPjw6wRCsFt\",\"g.23bb56liZEh8Myq1\",\"g.TkgAfB52fKT1AFKg\",\"g.79eMPApQaMz5OHxt\"]}}\nAlso, it seems that the api call listAllPads is now broken -- returning nothing when the listPads(groupID) call shows all the pads in the group identified by groupID. \nSorry it took me so long to get to this... \n. No, I'm not 100% sure. But it's working on a production server running 1.4.0-9-g20c32de... \nMeanwhile, i'll give the copy/move another go. Thanks for working on this, btw, especially so quickly. (am a little chagrined that you jumped right on it after I let it slide for a few weeks!)\n. Works like a champ! Both for copying between different groups and within groups as well as moving from one group to another, renaming or not. Thanks much! \n. ",
    "Quomar": "Thanks Stefan!\n. ",
    "vavoor": "Thanks and sorry for bothering!\nGerd\n\nSee ep_comments plugin\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/issues/2143#issuecomment-42002839\n. \n",
    "asvaghasiya": "@guille we also move from 0.9.6 to 1.0.2 and facing same problem. http://192.168.0.100:3000/socket.io/1/?time=282778 {\"code\":0,\"message\":\"Transport unknown\"} do you have any document which shows us to move from 0.9.x to 1.0.2?\n. ",
    "joezeng": "Will do.\n. ",
    "darkuncle": "issue does not occur when using DB type dirty; the ECONNRESET appears to be coming from the MySQL connection (which, FWIW, is actually a connection to an F5 load balancer, which front-ends 3 nodes in a Percona active-active cluster, where a number of other infrastructure mgmt-type databases live - gitlab, nictool, etc. etc.)\nI'm wondering if I just need to enable some kind of keepalive on etherpad's database connection socket (or possibly, change something on the F5 side, although etherpad is the only app that's having this issue, out of the half dozen or so that we run that use this database cluster).\n. thanks - I'll try these various approaches (probably starting with #3; our connection volumes for this are so low that I see no reason to kill off idle connections).\nwhat I was hoping for was for etherpad to:\n1. not die when it gets a connection reset from the DB (this does not seem to be an unavoidably fatal condition);\n2. verify DB connection prior to a read/write, and if necessary, re-establish;\n3. log more clearly what the problem is (the error that appears is fairly vague)\nin the meantime, I'll try some things and report back for the benefit of posterity. thanks!\n. easiest fix in our case turned out to be the health checks built into the load balancing solution in the first place (they weren't working initially, but once fixed, they query every few seconds to ensure the backend service is still up, which is actually what keeps the backend service up).\nbut really, we shouldn't treat a connection reset as a fatal event - re-establish when required, and move on.\n. will take a look as soon as I'm back to a console - thanks!\n/sf\n\nOn Dec 30, 2014, at 03:20, John McLear notifications@github.com wrote:\n@darkuncle please test the patch and let us know if it works, if so I can get it into 1.5\n\u2014\nReply to this email directly or view it on GitHub.\n. this looks good from my end (limited testing, no apparent adverse effects)\n\n/sf\n\nOn Dec 30, 2014, at 10:43, Scott Francis darkuncle@darkuncle.net wrote:\nwill take a look as soon as I'm back to a console - thanks!\n/sf\nOn Dec 30, 2014, at 03:20, John McLear notifications@github.com> wrote:\n\n@darkuncle https://github.com/darkuncle please test the patch and let us know if it works, if so I can get it into 1.5\n\u2014\nReply to this email directly or view it on GitHub https://github.com/ether/etherpad-lite/issues/2148#issuecomment-68348989.\n. \n\n",
    "dfct": "I can throw a +1 in here. I run a small instance of Etherpad and had this same issue. \nI actually didn't originally realize what was triggering it. I thought things were breaking whenever I clicked \"Force Reconnect\" in the browser. (Usually after returning to the browser tab after an extended period). Examining the logs though the ECONNRESET issue here is what's actually bringing things down. \nI will also work around it, but hopefully we can handle the reset cleanly in the future! Thanks everyone :)\n. Definitely! Thanks again :)\n. ",
    "liuliming2008": "Plugin manager page always fetching,,,untill show:No plugins found\n. It's ok now, do nothing! because of node repos,maybe\n. my error\uff1a\n.com\"},\"repository\":{\"type\":\"git\",\"url\":\"git://github.com/oJshua/servitude-conne\nct.git\"},\"time\":{\"modified\":\"2012-03-14T06:44:16.314Z\"},\"versions\":{\"0.0.2\":\"lat\nest\"},\"keywords\":[\"javascript\",\"css\",\"connect\",\"middleware\",\"sugar\"]},\"servlet\":\n{\"name\":\"servlet\",\"description\":\"Single thread, multiple host node application s\nerver\",\"dist-tags\":{\"latest\":\"0.0.7\"},\"maintainers\":[{\"name\":\"dschwen\",\"email\":\"\nnode@schwen.de\"}],\"author\":{\"name\":\"Daniel Schwen\",\"email\":\"node@schwen.de\"},\"re\npository\":{\"type\":\"git\",\"url\":\"https://github.com/dschwen/node-servlet.git\"},\"ti\nme\":{\"modified\":\"2013-11-11T18:45:23.579Z\"},\"versions\":{\"0.0.7\":\"latest\"},\"keywo\nrds\":[\"server\",\"watch\",\"multiple\",\"reload\"]},\"servlr\":{\"name\":\"servlr\",\"descript\nion\":\"Tiny HTTP server for development. Does livereload and opens in the browser\n.\",\"dist-tags\":{\"latest\":\"0.2.0\"},\"maintainers\":[{\"name\":\"kavanagh\",\"email\":\"ltk\navanagh@gmail.com\"}],\"readmeFilename\":\"README.md\",\"homepage\":\"https://github.com\n/kavanagh/servlr\",\"keywords\":[\"livereload\",\"HTTP Server\"],\"repository\":{\"type\":\"\ngit\",\"url\":\"https://github.com/kavanagh/servlr\"},\"author\":{\"name\":\"Luke Kavanagh\n\",\"email\":\"ltkavanagh@gmail.com\"},\"bugs\":{\"url\"\n    at Object.parse (native)\n    at RegClient.<anonymous> (F:\\liming\\app\\etherpad-lite-develop\\etherpad-lite-\ndevelop\\node_modules\\ep_etherpad-lite\\node_modules\\npm\\node_modules\\npm-registry\n-client\\lib\\request.js:266:23)\n    at Request._callback (F:\\liming\\app\\etherpad-lite-develop\\etherpad-lite-deve\nlop\\node_modules\\ep_etherpad-lite\\node_modules\\npm\\node_modules\\npm-registry-cli\nent\\lib\\request.js:238:65)\n    at Request.self.callback (F:\\liming\\app\\etherpad-lite-develop\\etherpad-lite-\ndevelop\\node_modules\\ep_etherpad-lite\\node_modules\\npm\\node_modules\\request\\requ\nest.js:123:22)\n    at Request.EventEmitter.emit (events.js:98:17)\n    at Request.<anonymous> (F:\\liming\\app\\etherpad-lite-develop\\etherpad-lite-de\nvelop\\node_modules\\ep_etherpad-lite\\node_modules\\npm\\node_modules\\request\\reques\nt.js:893:14)\n    at Request.EventEmitter.emit (events.js:117:20)\n    at IncomingMessage.<anonymous> (F:\\liming\\app\\etherpad-lite-develop\\etherpad\n-lite-develop\\node_modules\\ep_etherpad-lite\\node_modules\\npm\\node_modules\\reques\nt\\request.js:844:12)\n    at IncomingMessage.EventEmitter.emit (events.js:117:20)\n    at _stream_readable.js:910:16\nnpm ERR! registry error parsing json\nnpm WARN Building the local index for the first time, please be patient\nnpm WARN Building the local index for the first time, please be patient\nnpm WARN Building the local index for the first time, please be patient\nFATAL ERROR: JS Allocation failed - process out of memory\n. Plugin manager page always fetching,,,untill show:No plugins found\n. On windows 7, IE 11.0, https://beta.etherpad.org/p/QcgJXaX9DN\n1 click the pad content, such as line 5 char 6th\n2 press backspace, not delete a character\n3 press enter, not add new line\n. At least two of my colleages have the same question as me, they are On windows 7, IE 11.0.\nAnd https://beta.etherpad.org/p/QcgJXaX9DN or my own installation of git's lasted version, the result is the same.\nNo errors when init or input but warn: \nCouldn't find translation key pad.noCookie\nCouldn't find translation key pad.importExport.exportetherpad\nAnd I even notice that, on IE 10,  I type char or number, there isn't any debug info as usual, and the input not sended to server. The Enter and Backspace input sended to server, and synced to other client, but it not displayed on  local IE 10.\nI dont do further regression test.\nI open https://beta.etherpad.org/p/QcgJXaX9DN or other beta.etherpad.org with error:\nAn error occured while loading the pad\nSyntaxError: missing } in compound statement in https://beta.etherpad.org/static/js/require-kernel.js (line 7189)\nSee attaches.\n\n\n. Basically ok now\u3002But installed comments_page and page_view\uff0c the comment cant display on firefox 35 and ie 11.\n. And,the request url will changed after install comments_page and page_view, from xxx.cc:9003/socket.io to xxx.cc/socket.io:\n200 OK      39ms\nsocket.io.js ( 2919 line)\nGET http://www.xxx.cc:9003/socket.io/?EIO=3&transp...lling&t=1421909553127-3&sid=Jc-4cli0cuBiLiKVAAAE\n200 OK      85ms\nsocket.io.js ( 2919 line)\nObject { type=\"CLIENT_VARS\", data={...}}\npad.js?....define ( 302 line)\nGET http://www.xxx.cc:9003/socket.io/?EIO=3&transp...lling&t=1421909553820-4&sid=Jc-4cli0cuBiLiKVAAAE\n200 OK      124ms\nsocket.io.js (2919 line)\nGET http://www.xxx.cc/socket.io/?EIO=3&transport=polling&t=1421909555747-5\n404 Not Found       110ms\n. ie 11\uff0cfirefox 35\uff0cchrome39\uff0c act the same, cant see the comment\nI wlll attach the error screen at ep_comments_page repo \n. ",
    "bognerf": "Same here. Clicking the timeslider button kills etherpad.\n. I couldn't :-)\nIt was a problem of folder permissions.\nSorry for bothering.\n. ",
    "stuartf": "I'm still seeing those characters replaced with ??\n. Looks good:\n\n. ",
    "baskinsy": "I have the same error. It appeared after an update on the latest version from git and restarting. It had happened also before and don't know how it recovered (possible after an update also...).\n. ",
    "sfabel": "Chrome 34.0.1847.137 and FF 29.0, both under Ubuntu 14.04.\nI continue getting these errors even when circumventing pound and I'm getting them on every pad.\nI also forgot to list the plugins:\naa_file_menu_toolbar 0.1.2\nadminpads 0.0.6\nalign 0.0.6\nauthor_hover 0.0.5\nauthor_neat 0.0.31\ncolors 0.0.3\ncopy_paste_images 0.0.2\ncursortrace 2.0.5\ndoi 0.0.2\ndraw     0.0.6\nembedmedia 0.0.3\nfont_color   0.0.7\nfont_family 0.0.2\nsyntaxhighlighting 0.1.4\nHaven't tried switching back to dirtyDB. Will do so if you think it's not plugin-related? Thanks.\n. Oh yeah, and the File Menu Toolbar doesn't work. No reaction.\n. OK found it. Was the draw plugin. Now my menu shows again as well.\n. ",
    "Akendo": "Please try to reproduce it with my vagrant environment:\nshell\ngit clone git@github.com:Akendo/vagrant-skel.git -b etherpad-lite\ncd vagrant-skel/\nlibrarian-puppet install\nvagrant up\nPlease note: This will take some time, depending on you environment and internet connection.\nWhen it's done, please connect to http://192.168.56.201/\nTry to do this with Chrome and Firefox, I hope you can see the issue.\nBest regards\nAkendo\n. Update: I did this today with Chromium in version 35. Same issue.\n. ",
    "porg": "Glad to read that this works in etherpad-lite (the newer version/fork of EtherPad).\nIs there a pubclically accessible installation of etherpad-lite, which you could refer me to, in order to test it myself?\n. Thanks. Tested at https://beta.etherpad.org/test-import-indendation\n1) Sadly plaintext file import does not work as desired.\nEtherpad, from line beginnings, converts tabs to 8 spaces, and keeps 4 spaces as 4 spaces.\nIt does NOT interpret the tabs/spaces as depth indicator (aka \"bullet list\" aka \"bubbles\").\n2) Also export fails badly.\na) Etherpad exports files with the filename scheme  the content being the default welcoming text but not the actual content!\nb) Besides this the export functions are not trigger-able from all places! Toolbar > import/export icon > dialogue > \"DokuWiki\" is clickable, \"HTML\" and \"Plain text\" not even clickable. File > Export > \"Text\" and \"HTML are clickable\".\nSee my test files below.\nAttaching .TXT files is prohibitted in this issue tracker here, thus I pasted them as code, not sure whether no tab/spaces en/decoding takes place here, but you get the idea from the filename I guess.\nplaintext-indented-tabs.txt\n```\nHeadline\nA\n    a1\n    a2\n    a3\nB\n    b1\n        b1.1\n        b1.2\n        b1.3\n    b2\nC\n    b1\n        b1.1\n    b2\n    b3\n    b4\nD\n```\nplaintext-indented-spaces4.txt\n```\nHeadline\nA\n    a1\n    a2\n    a3\nB\n    b1\n        b1.1\n        b1.2\n        b1.3\n    b2\nC\n    b1\n        b1.1\n    b2\n    b3\n    b4\nD\n```\n. I am merely a user, but not a developer (have basic programming skills, but am not good at it). I am an interaction designer by profession, so I hope that my description was concise. But I cannot fix any code myself, I guess you did not address me, but the general audience here. Right?\nAny volunteers?\n. My inquiry was all about \"Import/convert text indentation as list depth (numbered or unordered)\"!!\nSo what else was discussed and eventually fixed?\nAnd why is it \"not a good idea\"? Some reasoning please!\nUse cases where indentation\u2014>list-depth is desired, and where not. I start with it:\n- + Importing to EtherPad from outlining and mindmap software\n- - Screenplay/theatre author where indentation is part of semantics\n- - Source code where indentation is a critical part of the language or at least good practise/style.\nShould we come to the inclusion that both use cases are valid for the target audience, and we want to support both needs, then within the import dialogue we could offer the:\n- option \"[\u221a] Interpret tab/space indentation as hierarchical list?\"\n- and the setting \"Tab size: 4 \u25be spaces\".\n. ",
    "dhanrajsvu": "Stefan,\nI'm using etherpad from \"https://notes.typo3.org/\". If there is plugin for\nchat notifications, could you please let me know how to add that plugin.\nwaiting for your help\nThanks & Regards,\nDhanraj EP\nOn Thu, Jun 12, 2014 at 1:50 AM, Stefan notifications@github.com wrote:\n\nThere is a plugin for chat notifications:\nhttps://www.npmjs.org/package/ep_desktop_notifications\nIs that what you were searching for?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/2173#issuecomment-45794272\n.\n. Stefan,\n\nWho'll have admin permissions. Could you please install that plugin if you\nhave the permission/someone who you know can do that.\nThanks & Regards,\nDhanraj EP\nOn Sun, Jun 15, 2014 at 9:50 PM, Stefan notifications@github.com wrote:\n\n@dhanrajsvu https://github.com/dhanrajsvu You must have admin\npermissions to install server-side plugins\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/2173#issuecomment-46120104\n.\n\n\n. ",
    "LucasCioffi": "Reading through the Google Group, I found \"NPM Error on Fresh Install\" at https://groups.google.com/forum/?fromgroups#!topic/etherpad-lite-dev/J-RhHJR4J34\nWhen I tried \"sudo bin/run.sh\" instead, I was told this is not ideal, but it does work and I can access the Etherpad instance at http://0.0.0.0:9001/\nSo, is this still an issue or should it be closed?\n\u279c  etherpad-lite git:(develop) sudo bin/run.sh\nYou shouldn't start Etherpad as root!\nPlease type 'Etherpad rocks my socks' or supply the '--root' argument if you still want to start it as root\nEtherpad rocks my socks\nbin/run.sh: line 24: [: too many arguments\nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\nnpm WARN package.json async-stacktrace@0.0.2 No repository field.\nnpm WARN package.json channels@0.0.4 No repository field.\nnpm WARN package.json ejs@0.6.1 No repository field.\nnpm WARN package.json formidable@1.0.9 No repository field.\nnpm WARN package.json jsdom-nocontextifiy@0.2.10 'repositories' (plural) Not supported. Please pick one as the 'repository' field\nnpm WARN package.json tinycon@0.0.1 No repository field.\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nensure custom css/js files are created...\nstart...\n[2014-06-12 13:16:21.741] [WARN] console - You need to set a sessionKey value in settings.json, this will allow your users to reconnect to your Etherpad Instance if your instance restarts\n[2014-06-12 13:16:21.745] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production.\n[2014-06-12 13:16:22.137] [WARN] pluginfw - /Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/fstream requires graceful-fs@'^3.0.2' but will load\n/Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/graceful-fs,\nwhich is version 3.0.2 'unmet dependency'\n[2014-06-12 13:16:22.140] [WARN] pluginfw - /Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/glob requires minimatch@'^0.3.0' but will load\n/Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/minimatch,\nwhich is version 0.3.0 'unmet dependency'\n[2014-06-12 13:16:22.140] [WARN] pluginfw - /Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/glob requires once@'^1.3.0' but will load\n/Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/once,\nwhich is version 1.3.0 'unmet dependency'\n[2014-06-12 13:16:22.141] [WARN] pluginfw - /Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/inflight requires once@'^1.3.0' but will load\n/Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/once,\nwhich is version 1.3.0 'unmet dependency'\n[2014-06-12 13:16:22.141] [WARN] pluginfw - /Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/init-package-json requires glob@'^4.0.2' but will load\n/Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/glob,\nwhich is version 4.0.2 'unmet dependency'\n[2014-06-12 13:16:22.142] [WARN] pluginfw - /Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npm-install-checks requires semver@'^2.3.0' but will load\n/Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/semver,\nwhich is version 2.3.0 'unmet dependency'\n[2014-06-12 13:16:22.143] [WARN] pluginfw - /Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npm-registry-client requires npm-cache-filename@'^1.0.0' but will load\n/Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npm-cache-filename,\nwhich is version 1.0.1 'unmet dependency'\n[2014-06-12 13:16:22.143] [WARN] pluginfw - /Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npmconf requires ini@'^1.2.0' but will load\n/Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/ini,\nwhich is version 1.2.1 'unmet dependency'\n[2014-06-12 13:16:22.143] [WARN] pluginfw - /Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npmconf requires osenv@'^0.1.0' but will load\n/Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/osenv,\nwhich is version 0.1.0 'unmet dependency'\n[2014-06-12 13:16:22.144] [WARN] pluginfw - /Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npmlog requires ansi@'^0.3.0' but will load\n/Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/ansi,\nwhich is version 0.3.0 'unmet dependency'\n[2014-06-12 13:16:22.144] [WARN] pluginfw - /Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/read-package-json requires glob@'^4.0.2' but will load\n/Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/glob,\nwhich is version 4.0.2 'unmet dependency'\n[2014-06-12 13:16:22.145] [WARN] pluginfw - /Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/fstream-npm/node_modules/fstream-ignore requires minimatch@'^0.3.0' but will load\n/Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/minimatch,\nwhich is version 0.3.0 'unmet dependency'\n[2014-06-12 13:16:22.146] [WARN] pluginfw - /Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/read-package-json/node_modules/normalize-package-data requires github-url-from-username-repo@'^0.2.0' but will load\n/Users/lucas/Desktop/ruby/bbpad4/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/github-url-from-username-repo,\nwhich is version 0.2.0 'unmet dependency'\n[2014-06-12 13:16:22.655] [INFO] console - Installed plugins: ep_etherpad-lite\n[2014-06-12 13:16:22.686] [INFO] console - Your Etherpad git version is 71c7dee\n[2014-06-12 13:16:22.686] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2014-06-12 13:16:22.753] [INFO] console -    info  - 'socket.io started'\n[2014-06-12 13:16:22.855] [INFO] console - You can access your Etherpad instance at http://0.0.0.0:9001/\n[2014-06-12 13:16:22.855] [WARN] console - Admin username and password not set in settings.json.  To access admin please uncomment and edit 'users' in settings.json\n. John, by the way, I love Etherpad-Lite.  Thanks so much for steering the ship all these years.\n1. I'll get back on this thread when I can get the JS console info from the user.  I can't make this happen on my system so this will take a few days.\n2. I'm not familiar with SHA, but I looked up what to do here: http://git-scm.com/book/en/v2/Git-Internals-Git-Objects\nI typed this into the console:\n\u279c  find .git/objects -type f\nand these are the last few lines of the output:\n.git/objects/fa/2ecc9cef340e56c8948ae78ba1515c0c821cd0\n.git/objects/fa/422e6dc2d6a13df04a14b8766eae58f1469a1a\n.git/objects/fb/6b1f64d816d28e8ac1207eb12d8005d7c2af74\n.git/objects/ff/5aeef92dadfd38dfb0a7a84bbe5033e858be18\n.git/objects/pack/pack-fc096c7515f5a1f61deb87a08d54919388134e28.idx\n.git/objects/pack/pack-fc096c7515f5a1f61deb87a08d54919388134e28.pack\n. Thank you.  I see this:\nServer  Etherpad d4a35bd (http://etherpad.org)\nThis is git origin:\ngit://github.com/ether/etherpad-lite.git\n. John, thanks for the prompt response.  I found a work around.  \nHere's what I found in case it's helpful.  The reason I'm using HTTParty is to get the HTML for a pad so that I can parse it with Nokogiri and email the pad contents to a user from time to time.\nEntering the following command into the console was still hiding the head and body in the returned results with the phrase \"head and body had been removed intentionally\":\nHTTParty.get(\"https://beta.etherpad.org/p/test\")\nIt seems that the phrase \"head and body had been removed intentionally\" is coming from Etherpad, because Google search results on that phrase only turn up websites related to Etherpad.\nWhen I changed the URL to be the HTML export URL, I was able to successfully see the header and body in the returned results:\nHTTParty.get(\"https://beta.etherpad.org/p/test/export/html\")\nI never saw the phrase \"head and body had been removed intentionally\" when I tried this on Mozilla's non-lite (I think) version of Etherpad:\nHTTParty.get(\"https://etherpad.mozilla.org/GzI9USKR6W\")\nSo there's no issue here, but this might be helpful for others trying to screen scrape their pads.  Thank you!\n. Thank you; I should have thought to get the HTML export rather than the pad.  I'll give it a try.\n. ",
    "AriaMinaei": "Hey @LucasCioffi, I may have phrased my answer in our session poorly, and what I meant was that the maintainers of this package could probably be able to help with this problem, whether or not there is a problem with the code. So I apologize if my answer wasn't accurate, and thank you for your very generous tip.\n/ Folks, please ignore my comment. I didn't have another way to reach @LucasCioffi :)\n. ",
    "derosm2": "Thanks dmitryuv for your comments. I cleaned up the code per your suggestions. We now just send one message to the server to switch the pad instead of two and we are also clearing the chat in pad.js when we initiate the switchToPad call.\n. I haven't done much formal testing but it feels significantly faster. It's due to not having to reconnect to socket.io and other loading. At lot of the speed will depend on your server/network connections but I'd still say it's at least 2x faster.\n. I am not familiar with how to add test coverage for this or documentation.\nThe basic idea to call switchToPad with the new pad id from your own\nserver's javascript. Can you point me in the right direction for testing\nand documentation? I don't have a ton of time, but will knock it out when I\nget a chance.\nOn Sat, Nov 15, 2014 at 11:41 AM, John McLear notifications@github.com\nwrote:\n\n@derosm2 https://github.com/derosm2 I fixed this up here:\nhttps://github.com/ether/etherpad-lite/tree/switch-to-pad\nHow is this even supposed to work? Can you please provide docs and test\ncoverage so we can merge it??\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/pull/2180#issuecomment-63178521.\n. Sorry for taking so long. there's not much once you have a version of etherpad with these changes. You can call \"pad.switchToPad('123')\" anywhere in your javascript, where '123' in this case is the pad id. There's no plugin or anything else necessary. Very simple.\n. Haven't had a chance to write up the tests yet, but will do so when I get some free time!\n. \n",
    "ProfSIOBP": "Ok, Thanks.\nI will try to use nginx but actually all my web service run with Apache 2.\n. ",
    "qknight": "-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA1\nonly tested on linux and it works there\nOn 06/22/2014 10:40 PM, John McLear wrote:\n\nTested on Windows?\n\u2014 Reply to this email directly or view it on GitHub \nhttps://github.com/ether/etherpad-lite/pull/2184#issuecomment-46792228.\n\nJoachim Schiele\n0176 3090 333 7\n\nblog: http://blog.lastlog.de\nwiki: http://lastlog.de\njabber: josh@jabber.ccc.de\nGPG: C6AC8770\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v2.0.22 (GNU/Linux)\nComment: Using GnuPG with Thunderbird - http://www.enigmail.net/\niQIcBAEBAgAGBQJTp071AAoJEJhk1bLGrIdwydwP/iU3/VRfonZiykcPi2V8vUZs\nqf6ZPOmJWmNBVQ5HYqNzkeNyCZkGI0sfVslIvFxvBpd6oqTa/9tz3VzdhfCAsL5+\nscfeJDjlMbXVZ7upl2+Z9+na3oRQMgc5E8g7xNXNFPEqgIkPQ6Pu2Uil8iCydbiZ\n3apHXz+8t3cPpmzBGN6+OUcacF9UMiYI8lAtQOcmt+uV9HUIr8Yapm3wmVRBJd5Q\niU2Hi98CDcgRJVTroTQJqx8vn72pT8kByzlyO4ynh6GBhrIByzdNX7LQ6J5w2gav\nyAxeTQETh71ey7qXxsLdPApwhK1ovo/dBdgWbIVDi9F+bh5bBM2nDvigudzA/Enw\nR5AJUctARmLO3UBKsClwVBf9qZsZOeuVywXBIkbJ8bYKJQrwaX0VdpYcI/VBrPSF\nR1BdMZ+1qW5Vr6jTprEc/t2ZrPMUu6CTqie+rRJskJ6B/w6i9paqfPQKoWxRG4/L\nxpjjSgUZe4O0ybcnYwdiIIhA0/qBpqxjnIgn2UeSi2wvcRgdVbcoP2PCODyyL0iy\niAfW6haSa3MeIJTpAGOo4D2NT/yDokIy2SI85Vt8IE4SwDPV5Z109SbRglCdzcSs\nMi5adxFNprfO/OVPkzC8V61UIgSNJj84Utpk7YuDLZkqFhlVNKXXQeDBl8NejpG5\nudDxmYaQJuMk1JnyOLrZ\n=rClv\n-----END PGP SIGNATURE-----\n. ",
    "nicopaez": "I found that this issue is fixed on develop branch but it is not merged into master yet. (I used master for my installation)\n. ",
    "Greyshaun33": "[2014-06-27 15:00:44.716] [ERROR] console - ReferenceError: fileName is not defined\n    at Query.mySqlErrorHandler (C:\\etherpad-lite-win\\node_modules\\ep_user_pad_frontend\\hooks.js:42:9)\n    at Query.EventEmitter.emit (events.js:115:20)\n    at Query.Sequence.end (C:\\etherpad-lite-win\\node_modules\\ep_user_pad_frontend\\node_modules\\mysql\\lib\\protocol\\sequences\\Sequence.js:70:12)\n    at Query.ErrorPacket (C:\\etherpad-lite-win\\node_modules\\ep_user_pad_frontend\\node_modules\\mysql\\lib\\protocol\\sequences\\Query.js:93:8)\n    at Protocol._parsePacket (C:\\etherpad-lite-win\\node_modules\\ep_user_pad_frontend\\node_modules\\mysql\\lib\\protocol\\Protocol.js:172:24)\n    at Parser.write (C:\\etherpad-lite-win\\node_modules\\ep_user_pad_frontend\\node_modules\\mysql\\lib\\protocol\\Parser.js:62:12)\n    at Protocol.write (C:\\etherpad-lite-win\\node_modules\\ep_user_pad_frontend\\node_modules\\mysql\\lib\\protocol\\Protocol.js:37:16)\n    at Socket.ondata (stream.js:38:26)\n    at Socket.EventEmitter.emit (events.js:115:20)\n    at TCP.onread (net.js:403:14)\n. Didn't work. Forever is working but it wont reboot etherpad upon crashing. (Maybe the way i configured it but i forever with another application and it worked fine.)\n. ",
    "tmikaeld": "I can confirm this using the latest git version and the latest version of node.js\n. Even listing the plugins cause this error:\n[2014-07-01 13:48:38.775] [ERROR] console - RangeError: Invalid array length\n    at /var/www/etherpad-lite/src/node_modules/npm/node_modules/npm-registry-client/lib/get.js:97:15\n    at Array.forEach (native)\n    at /var/www/etherpad-lite/src/node_modules/npm/node_modules/npm-registry-client/lib/get.js:96:26\n    at cb (/var/www/etherpad-lite/src/node_modules/npm/node_modules/npm-registry-client/lib/request.js:57:9)\n    at RegClient.<anonymous> (/var/www/etherpad-lite/src/node_modules/npm/node_modules/npm-registry-client/lib/request.js:133:16)\n    at cb (/var/www/etherpad-lite/src/node_modules/npm/node_modules/npm-registry-client/lib/request.js:158:9)\n    at RegClient.<anonymous> (/var/www/etherpad-lite/src/node_modules/npm/node_modules/npm-registry-client/lib/request.js:312:12)\n    at Request._callback (/var/www/etherpad-lite/src/node_modules/npm/node_modules/npm-registry-client/lib/request.js:238:65)\n    at Request.self.callback (/var/www/etherpad-lite/src/node_modules/npm/node_modules/request/request.js:123:22)\n    at Request.emit (events.js:98:17)\nMaybe related?\n. ",
    "martinvonwittich": "Would it be possible to add a special key combination like Shift+Return that inserts empty lines without resetting the numbering? For example, when you have the following list:\n1. foo\n2. bar\n3. foobar\n4. barfoo\nand someone points the cursor behind \"2. bar\" and presses Return, the list should be split up in two separate lists (as it currently does):\n```\n1. foo\n2. bar\n\nfoobar\nbarfoo\n```\n\nBut when the user presses Shift+Return, it should insert an empty line without splitting the list:\n```\n1. foo\n2. bar\n\nfoobar\nbarfoo\n```\n\nThat way no heuristics would need any changing, and the default behaviour wouldn't change. Also, any text inserted between the list elements shold be indented, like this:\n```\n1. foo\n2. bar\nfoobarfoo\n\nfoobar\nbarfoo\n```\n. We use etherpad-lite 1.5.7 with both postgres 9.4 and postgres 9.6, so it's most probably not database-dependant.. > What exactly do you mean by crash? \n\nIn our case, Etherpad crashed completely, ie the node process terminated.\n\n\nBefore reproducing the issue:\n```\nstable.iserv.eu ~ # systemctl status etherpad-lite.service \n\u25cf etherpad-lite.service - LSB: starts etherpad lite\nLoaded: loaded (/etc/init.d/etherpad-lite)\nActive: active (running) since Do 2018-03-08 16:42:26 CET; 22h ago\nCGroup: /system.slice/etherpad-lite.service\n        \u251c\u250018834 node node_modules/ep_etherpad-lite/node/server.js\n        \u2514\u250018844 /usr/bin/abiword --plugin AbiCommand\nM\u00e4r 08 16:42:26 iserv.stable.iserv.eu etherpad-lite[18830]: Starting Etherpad Lite...\nM\u00e4r 08 16:42:26 iserv.stable.iserv.eu etherpad-lite[18830]: done\nM\u00e4r 08 16:42:26 iserv.stable.iserv.eu systemd[1]: Started LSB: starts etherpad lite.\nstable.iserv.eu ~ # ps aux|grep etherpad\nroot      2813  0.0  0.1  14220  2268 pts/1    S+   15:01   0:00 grep --colour=auto etherpad\netherpa+ 18834  0.2  5.0 1024284 104476 ?      Sl   M\u00e4r08   2:52 node node_modules/ep_etherpad-lite/node/server.js\npostgres 18843  0.0  0.5 107592 11920 ?        Ss   M\u00e4r08   0:00 postgres: etherpad etherpad [local] idle                                                                                    \nstable.iserv.eu ~ # tail /var/log/etherpad-lite/etherpad-lite.log\nstable.iserv.eu ~ # \n```\n\n\nAfter reproducing the issue:\n```\nstable.iserv.eu ~ # systemctl status etherpad-lite.service\n\u25cf etherpad-lite.service - LSB: starts etherpad lite\nLoaded: loaded (/etc/init.d/etherpad-lite)\nActive: active (exited) since Do 2018-03-08 16:42:26 CET; 22h ago\nM\u00e4r 08 16:42:26 iserv.stable.iserv.eu etherpad-lite[18830]: Starting Etherpad Lite...\nM\u00e4r 08 16:42:26 iserv.stable.iserv.eu etherpad-lite[18830]: done\nM\u00e4r 08 16:42:26 iserv.stable.iserv.eu systemd[1]: Started LSB: starts etherpad lite.\n```\nstable.iserv.eu ~ # ps aux|grep etherpad                  \nroot      2954  0.0  0.1  14220  2092 pts/1    S+   15:04   0:00 grep --colour=auto etherpad\nHm, but for some reason, this time it didn't log anything:\nstable.iserv.eu ~ # tail /var/log/etherpad-lite/etherpad-lite.log\nstable.iserv.eu ~ #\n\n\nWe then have to restart Etherpad to get it running again (systemctl restart etherpad-lite.service). The pad itself doesn't seem to be damaged; I can open it after having restarted Etherpad, and the emoji looks fine again. Apparently it crashed before it was able to save the damaged UTF-8 data.\n. > Have you considered updating to the latest version (which includes security fixes)?\nYes, we're planning to replace our old etherpad-lite installation with the official docker image soonish :)\nWhat about beta.etherpad.org? I assumed it would use the most recent version, but as far as I can tell, it's still broken since I reproduced the issue there yesterday. Maybe it needs updating too ^^. ",
    "averi": "Is there a way to extend the timeout for the slowcommit value at all?\n. Just ep_adminpads which I tried to disable by removing it from the relevant node_modules directory (is that enough for disabling a plugin or is it registered somewhere else?) with no luck.\n. Same issue, what I did was:\n1. git reset to the old working HEAD\n2. uninstalled ep_adminpads\n3. git pulled again\n4. ran the app\n5. see the app crashing again at startup\n. Starting from scratch (new tree, dependencies fetched again) seems to have fixed the issue. Let me know if you are interested in a diff of specific files between the two trees to find out more.\n. ",
    "julpec": "Yes, that's it.\nIn my settings.json I have : \n\n\"abiword\" : \"/usr/bin/abiword\",\n\nand it make the error occuring\nWithout the abiword path, there is no problem.\n. Ho yes ! It was an abiword issue !\nI try to run abiword, for example : \n\nabiword --help\n\nand I get : \n\n(abiword:5866): Gdk-ERROR **: error: XDG_RUNTIME_DIR not set in the environment.\n\nand abiword fail to start\nSo, I fill the variable, for example : \n\nexport XDG_RUNTIME_DIR=/tmp/\n\nand after that, abiword is able to run.\nTo make it permanent, put this line into /etc/profile\n. Note that when I launch etherpad by an init script, the XDG_RUNTIME_DIR variable was not found.\nI edit this script like this and it works : \n\nstart() {\necho \"Starting $DESC... \"\n  export XDG_RUNTIME_DIR=/tmp/\n  start-stop-daemon --start --chuid \"$USER:$GROUP\" --background --make-pidfile --pidfile /var/run/$NAME.pid --exec $EPLITE_DIR/$EPLITE_BIN -- $LOGFILE || true\necho \"done\"\n}\n. To run properly etherpad-lite, you have to change the last line in bin/run.sh : \nnode $SCRIPTPATH/node_modules/ep_etherpad-lite/node/server.js $*\n\nto : \n\nnodejs $SCRIPTPATH/node_modules/ep_etherpad-lite/node/server.js $*\n. \n",
    "Kozlov-V": "I have too:\nrunning as root works.... a non-root user have this same error\n. ",
    "cmcavoy": "Thanks for the suggestion @JohnMcLear \nThe issue is in the export command though, not the share url. I tried the plugin, and it actually broke the share url's (which work just fine) and didn't fix the export.\nThat said, I'm learning from your plugin, hoping I can fix this on my own. Thanks for the link!\n. @JohnMcLear I didn't fix this. It's still an issue. Some of my motivation to fix it was removed, so I'm not sure I'll get to it anytime soon.\n. ",
    "Vladmax": "Isn't it a developer who's making sure that app developed for the device is supposed to work on the device? But you might be right, it might be just me\n. ok, must've been developed by a third party then and got nothing to do with etherpad. Developer listed within the app description is etherpad.org and the etherpad.org lists this forum as an Issue Tracker for their product....\n\ni'm just trying to find out where to get the support from....\n. ",
    "toksea": "Thank you Gared, I tested again and found links does work when not in edit mode on my iPhone.\nAnd I use Firefox 28.0 on desktop, links work both in edit mode and view mode.\n. ",
    "drewlesueur": "Thank you. Etherpad rocks by the way :smiley: \n. ",
    "mmitsui": "I've used 0.0.0.0, the hostname, the IPv4 of the host, and 127.0.0.1 (last-resort option) as my IP in my settings.json, and I've used the server's IP address and hostname in my browser.  These work fine with my simple Java clients but not with Etherpad.\n. ",
    "lenod": "A first solution would be to use appcache:\nhttps://developer.mozilla.org/en-US/docs/Web/HTML/Using_the_application_cache\nthat add a \"manifest\" attribute to  along with a file listing all the files which can be cached.\n. I'm not sure but I think this cache is cleared when the browser is closed (and anyway, the maxAge seems only about a few hours).\nin about:cache, firefox shows them in disk cache and not appcache, where I believe it would be more persistent.\n. You can change maxAge in settings.json, but it is still online caching and not offline.\n. Oh great, it seems to be exactly to be what I am talking about.\nIs there a reason why this is only a plugin?\n. Closing the issue since this plugin seems to be a good answer.\n. Fair enough. \nI just found out this page listing some plugins including this one.\nhttps://github.com/ether/etherpad-lite/wiki/Plugin,-a-list\nThanks!\n. ",
    "d10r": "Thanks!\nRegarding sqlite: Thanks for the information. I opened a dedicated ticket in this regard: #2221\n. sqlite too buggy? That surprises me, it's one of the most tested pieces of Software I know. However I've never used it with node, so I can't really comment on that.\nI didn't know about dirtydb before. Is it supposed to work reliably with EP? Because if performance is the only concern, I would stick with it for my installation (for now).\n. > FWIW this bug report is mostly FUD\nWhy do you think so?\nI had data loss with the default config.\nThe install section doesn't mention that the default config is not safe.\nThe README mentions only MySQL as an alternative to the unsafe default option.\nYou yourself seem to be unsure about if sqlite is a safe option or not.\nI still think my question / suggestion is valid and would like to understand why you think it's not.\n. I don't know. In the browser I've always the same URL. In fact I even keep the same tab open and just refresh. So if it's a case sensitivity issue, it's somewhere in the backend. \nHow can I find out?\nMaybe also worth mentioning: about 2 weeks ago Etherpad crashed, leaving the var directory with several files (while when shutting down gracefully only dirty.db is left). Back then I also lost pads. However I regarded that as my fault because dirtydb usage is discouraged and one reason seems to be that it doesn't handle crashes well (I guess the files left were some kind of cache or so).\nHowever the pad which is missing now was created after that incident and as I mentioned, the data is there (which was not the case for the pads I lost last time).\n. I am familiar with MySQL, but I don't quite get what query you want me to run.\nThe way i checked if the content is there was with this query:\nselect * from store where value like \"% Finnder wireframe%\";\nbecause I know that string was in the Pad. That query returned several changesets containing the lost content. As an example, the header of one of this changesets:\npad:Nice_Rides:revs:2800 | {\"changeset\":\"Z:4ac>5|3p=2s1=c*4+5$ting \",\"meta\":{\"author\":\"a.xgBdb0DlrjZl1S04\",\"timestamp\":1415784697990,\"atext\":{\"text\":\" ...\nThe URL for that pad is http://ep.somedomain.net/p/Nice_Rides\nI don't know the internals of EP, thus I don't know what queries it uses to determine if the pad already exists / has content or not.\n. ",
    "DonCarlosGraz": "Hi there!\nI have the same (or related) issue running EPL 1.5.2 (We've upgraded today from EPL 1.4.3).\nHere is an example url/pad: http://tiny.cc/pmldwx\nWhen I open the timeslider, it always shows the latest content, no matter, where the slider is. \nMaybe the problem occurs only if there a large number of revisions?\nThanks in advance,\n. thanks! :)\n. ",
    "stefan2904": "(Wow, this issue is from 2014 ...)\nI have the same problem ... \nI am trying to migrate from dirtydb to MySQL\nusing node bin/migrateDirtyDBtoRealDB.js\nThe script runs for ~3 hours (for 600k records) and after it reports successful flushing, the store table in MySQL is still empty. No errors are displayed. \n(maybe this is related to Pita/ueberDB#74 ?). Quickfix, which did the job for me: disable ueberdb's cache.\nIn dbWrapperSettings set \"writeInterval\": 0\nIn addition, I needed to increase node's maximum memory size by calling \nnode --max-old-space-size=4096 bin/migrateDirtyDBtoRealDB.js \n(source).. @muxator, I am not entirely sure. It fixed the problem for me, but I am not sure what was wrong in the first place (except too little ram, which was fixed with the mentioned node option) and I also don't know what the implications of disabling the cache are (except higher database load).\nI can only report the following: without setting writeInterval to 0 (= cache enabled) it flushed forever (>3 hours) and then nothing changed in the database. After setting it to 0 (= cache disabled) if wrote every record directly to the database, which worked (and took ~15 minutes). \nBut since the script apparently works for other people without the change, I am not sure what was going on  - maybe a ueberDB maintainer knows? Or maybe other people had the same/similar problem, but did not report it? (Or maybe the script is not needed that much and thus no one noticed a problem.)\nSo maybe adding the line as remark/comment to the code makes sense?\n(Also I suggest to add the for larger dbs, call node the following way: node --max-old-space-size=4096 bin/migrateDirtyDBtoRealDB.js remark somewhere.). ",
    "heinzK1X": "Hi JohnMcLear, many thanks a lot for taking care of this. We have an etherpad app on arkos (http://arkos.io), the slow plugins page is really something that gave me a headache. Thanks again!\n. ",
    "cetra3": "@JohnMcLear I looked within contentcollector.js for a hook but I don't think there is one specifically for the block elements, as it looks like an internal variable.\nI'm not too sure about how I would add a new hook.  Is there any guidance in this area?  Any snippets of code to point me in the right direction?\n. Ok, yeah there should be one of those pretty much identical in contentcollector.js.  I think there'll need to be a change in both the ep_headings plugin and content collector.  I'll see if I have time to work on another pull request to sort this out.\nThanks for the help\n. ",
    "xeor": "This is happening what looks like randomly for me as well. I've made a docker image of etherpad-lite, and it suddenly started happening all the time. Then I started disabling some plugins (ep_list_pads and ep_public_view), and the bug was gone. Then I tried to enable the plugins again, and the error is still not there and I can't reproduce it anymore..\nBuilding etherpad from the develop branch. The bug was reproducible at least in 2e6348b8aa7f02c9fd5203f5e90feb148e47661f\n. ",
    "alexzautke": "I've filed a bug with Apple regarding the issue #2293, but contentEditable divs are still broken :/\n. ",
    "ebarry": "I also experienced this on the etherpad-lite installation on publiclab.org. I've seen the occasional hiccup on our installation over the years, but what happened yesterday was notable. \ni started working on a new pad, and it was fine for about half an hour until i pasted in a link. \nThen the cursor started losing its position. As i typed new letters, the characters would insert several characters to the left of the cursor location. This effect worsened until i stopped typing completely. Then, without touching the keyboard at all, I watched the blinking cursor move itself backwards in a line of text, one character for every blink.\nExample http://pad.publiclab.org/p/test\n. Thanks @lpagliari !!! I am using Chrome on OSX 10.11.3. It is hard to replicate because the behavior doesn't show up right away, but rather after some sustained typing/editing over some minutes. To answer the plugin question, i'm cc-ing @jywarren\n. ",
    "jywarren": "No plugins, sorry! I have seen this behavior too after a long period of typing, also in Chrome, but it was a while ago so I don't know if that's helpful except that it's not just Liz's settings.\n. Thank you all - we had an almost identical issue and did the same -- many thanks!!! \ud83c\udf89 . ",
    "robinpaulson": "Thanks, I will check them out.\n. ",
    "noerw": "this feature exists now, can be closed. feature is implemented in #2991 - can be closed now?. ",
    "GeorgeXc": "why? \n. ",
    "baelmyhu": "Do you think a first step could be to add an image base64 encoded ?\n. ",
    "dandv": "@JohnMcLear: is it challenging to paste an image from the clipboard into Etherpad because of its collaborative nature, or into any WYSIWYG editor, period, although Imgur, Slack, GitHub, Google Docs, StackExchange and others do just that?\nI'm comparing WYSIWYG editors and have been looking for this feature.\n. ",
    "mhugot2": "problem solved:\nFirst Etherpad-Lite need to run on a DNS Name. \nSo just add in /etc/hosts something like:\nIP (your IP)            DNS Name( like: local.server.com)\nthen if you get sessionID null in your logs, its because you have a IP under ilias -> plugins -> etherpad-lite administrate -> Configure -> Host (there should be the DNS Name of the Etherpad-Server) \nIf \"you don't have permission to access this pad\" still occurs, then you have to reinstall the system and when you install the etherpad-lite server, dont start it with bin/run.sh, first go into settings.json.template and set \"minify\" to false. then you can start it and it should work in ilias. \n. ",
    "protonpopsicle": "should point out that export as text & api/getText has same issue.\n. ",
    "mnoorenberghe": "If the source favicon image is around I can easily create the higher-res ICO file.\n. ",
    "ArthurHlt": "Hum nope, but i think if you want integrate it i will need to remove some plugins that i put by default, this PR is more to have a feedback\n. Well it's better to say that I contribute to Settings.js code and with no incidence with the original one.\n. Well, i didn't wanted you to merge this, i juste wanted to know if i should make effort to make it works with cloudfoundry and heroku and if it can be something or not.\nOf course it should not work with your dev branch cause my branch is based on release/1.4.0 and i've also removed test from it cause i needed travis for something else (see my blog post: http://arthurh.fr/blog-Install-etherpad-lite-with-cloudfoundry ) and i didn't need your test steps cause i'm plugged on release and at first didn't wanted to change any lines from original repo.\n. Thanks @JohnMcLear for your time reviewing this PR, and sorry I did not look enough at contribution guidelines. I'd appreciate your suggestion on how to properly integrate support for cloudfoundry, Is this more suited for discussion on the google group ? If not, more details follow:\nOne issue when trying to push the original etherpad-lite repo to cloudfoundry is that the nodejs buildpack fails to find the package.json located at ... in the repo is not found, and fails with the following error: I had worked around this by moving the package.json to the root directory.\nA second element was the need to include a ProcFile for the nodejs buildpack to specify the server start command.\nLast element is related to binding of database. When a database service is bound, its credentials are injected by cloudfoundry through environment variables in a json format, See http://docs.run.pivotal.io/devguide/deploy-apps/environment-variable.html#VCAP-SERVICES. This would allow automatic push of the original etherpad-lite repo without manual changes.\nIn the attempt made in the files changed in this PR, I tried the approach described at http://docs.pivotal.io/pivotalcf/buildpacks/node/node-service-bindings.html and namely the use of the cfenv library.\nAlternatives that I was considering for these changes are:\n- a dedicated fork, but that's hard to maintain and will deprecate\n- a fork with git submodules\n- find a solution to contribute/integrate parts of changes that make sense into etherpad-lite, hence this PR. Does the plugin lifecycle would enable a plugin to intercept the settings loading, or would plugin load too late? \nThanks in advance for your time and effort to consider how to enable native cloudfoundry and heroku support for etherpad-lite\n. ",
    "theres-waldo": "\nMozilla etherpad is not running etherpad. \n\nWhat is it running, out of curiosity?\n\nCan you replicate this on beta.etherpad.org ?\n\nYes, I can. It happens in fewer situations, but it does happen in the case where the cursor starts at the top, and I press Page Down repeatedly - once I get to the bottom, the next Page Down jumps up to the top.\n. I can't reproduce this issue any more, either. Looks like it was fixed!\n(And yes, I did mean caret.)\n. ",
    "akiellor": "I'm also having this issue.\n. ",
    "mitjajez": "hmm, don't know. Can you point me where can/should i write this down?\nand could in README be inserted link to wiki?\nLp, Mitja\n_www._duh-casa.si/mitja-jez http://www.duh-casa.si/mitja-jez\n_www._freeworldcharter.org/sl\n2014-09-27 22:33 GMT+02:00 John McLear notifications@github.com:\n\nI think wiki would be more apt for this no?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/pull/2250#issuecomment-57064842.\n. \n",
    "hartwork": "Hi!\nI suppose you refer to commit 3ebcaad31fc217e8ef77c940d414cb55ea99fa6d to the fix?\nThe line for Debian/Ubuntu (and actually also for Fedora/CentOS) still lacks installation of npm (while FreeBSD has it).\nAlso it seems, that README.md shown at the project home page is not taken from branch master but something else. So there might be a merge needed to fix the problem, also.\nPlease re-open.\n. > npm is installed with nodejs\nThe other way around. npm depends on nodejs, not nodejs on npm.\nSo without an explicit command to install npm, there will be no npm.\nhttps://packages.debian.org/de/jessie/nodejs\nhttps://packages.debian.org/de/jessie/npm\n\nFeel free to send through a pull request with a better fix.\n\nTo offer a pull request, I would need to make decisions that only the etherpad-lite project can do.\nThis is not about better wording. The installation instructions are incomplete/broken and you shouldn't need me to fix that.\n. > Or just follow the instructions and install nodejs from source? Which instructions are you referring to btw? If you mean the README I don't see how they are broken.\nI'm referring to https://github.com/ether/etherpad-lite#gnulinux-and-other-unix-like-systems .\nThe FreeBSD part includes installation of npm, the Linux ones don't. That's the bug and my main concern.\n\nFeel free to make decisions for the etherpad project, by contributing you ARE the etherpad team.\n\nI do not want to decide about the recommended way to obtain npm for use with etherpad-lite.\nI'm not the right person to do that.\n. Maybe, I didn't do that. The FreeBSD part still mentions npm, though.\n. Actually, if npm is a direct dependency of etherpad-lite the right fix would be to keep it in the FreeBSD part and to add it for Linux too.\n. ",
    "hustlzp": "Oh, I find it.\nI have multi etherpad-lite processes on my VPS.\nWhen I kill the extra processes, everything works well.\nThank you all the same!\n. ",
    "phr0nak": "\n. You're right. Seems that this issue is with Sublime Text, but I have the same issue if I paste some from the browser, from terminal,.. (not in raw).\n. I'm experimenting also different behaviors between a copy paste with Ctrl+c and Ctrl+v, and copy selecting the text and paste with middle mouse button.\n. ",
    "puneetxc": "Thanks , \n. ",
    "Celaira": "It's supposed to show all those warnings? Give me a few minutes, I have the Apache errors too (not sure you'll be able to help with those, s'worth a shot.)\n. ",
    "astruck": "I've seen this on two installations. The one I had administrative access to had no plugins installed and is version v1.3 according to the CHANGELOG.md\nI've asked the admins of the other installation, where the screenshot was taken, to provide helpful details.\n. Sorry, only the version number v1.3 is known. I saw this problem first in early 2014 and I only use Mozilla Firefox with Etherpads, always the latest version.\n. ",
    "sedrubal": "Ok, I detected, that (ep_)codepad was the reason...\nBut if etherpad allows this, I think, there must be a hard security-design fail.\n(attaching screenshots didn't work... :/ )\n. Hi,\nMaybe this isn't a (in German ;) ) \"Pfusch\", but one have to set this option.\nBut I think, it's a fail by design, that a plugin can show the rootfs (and it's a fail of the plugin, that it does show the rootfs by default)\n. Maybe it's a good idea to run it in a VM.\nBut I think it's a big security issue, if etherpad has no control on what the plugins do. And obviously the developers of the plugins didn't think about this issue and so there is a big security gap in etherpad. And I wonder, why you people don't react. Maybe it would be an idea, if you have a permission system or something like that...\nI really like etherpad and I find it great, that you made such a wonderful application, but I don't want to risk anything, when I have etherpad installed on my server...\n. Did you try to edit or create a list? Then immediately everything breaks. I tried many versions of fireforx and many android configurations and ROMs and many etherpad versions and I never experienced that this would work... so I'm somehow surprised that it is working for you...\n. ",
    "RGuerreroC": "Hi, i see that issue too i made a (in spanish) \"chapuza\" \nin settings.json \n\"ep_codepad\":{\n\"project_path\": \"/srv/project\"\n}\n/srv/project --> is an empty path\nThis isn't the best solution, but it's working!\nSorry for my english!\n. @sedrubal Well i think this is partially unsafe, because you can turn true 'Authentication/Authorization' option in settings. \nThis is a way to prevent access to your etherpad ;)\n. ",
    "AlainKnaff": "Not that I'm lazy, but I probably do not (yet) have the knowledge how to fix this myself. So I'd rather let somebody else do it... Thanks :-)\n. I just checked with Firefox 47. On the demo page ( http://html5demos.com/contenteditable ) the cursor keys now work ok, but on Etherpad the issue still exists.\n. Actually, I also checked it with the builtin browser (Internet) that shipped with my Galaxy Note 10.1, and the issue is exactly the same.\n. ",
    "cristo-rabani": "I added new api version\n. It is annoying when name of function and even its comment\nprovides to mislead!\nexample:\ngetAtribute doesn't really do what is sugested by name. \nThis function should have name: 'getAttributeValue' because this is what this function do.\nIn version 1.4 function removeAttributeOnLine doesn't use declared parameters. \nand even description misstell.\nIf something is not done or doesn't have full functionality it should have in comment a notice or even such of function should be prefixed by '_'.\nSorry, but formatting of code is ugly and mark  ';' always should be used, code should be clear. Please take a look on meteor repository (https://github.com/meteor/meteor) this is how should be...\nAdditionaly: I think that probably jsHint will be good option. \nproposed settings:\n\"bitwise\": true,\n    \"curly\": true,\n    \"eqeqeq\": true,\n    \"freeze\": true,\n    \"immed\": true,\n    \"newcap\": true,\n    \"noarg\": true,\n    \"noempty\": true,\n    \"nonbsp\": true,\n    \"quotmark\": true,\n    \"undef\": true,\n    \"unused\": true,\n    \"strict\": true,\n    \"trailing\": true,\n    \"maxcomplexity\": 12,\n    \"maxlen\": 120,\n    \"globalstrict\": true,\n    \"devel\": true,\n    \"node\": true,\n    \"browser\": true,\n    \"jquery\": true\nPlease consider, to enter an attribute object. \nSuch object can have much more information than array of name value pairs.\nfor example attribute can have remove function or information about where is located. \nI have such object and i can make pull request with it.\n. Hello, \n1. Take a look on function removeAttributeOnLine.\n   Do you see if(hasMarker)? What if you haven't hasMarker ?\n   //Etherpad allows for such situations, otherwise this 'if' would have been unnecessary. Correct?\n   This function worked only for line with hasMarker!\n2. I added support for unused parameter \"attributeValue\" declared in arguments of this function.\n   All declared parameters should be supported. \nYou sound to me like this:\nfunction getSumOfArray(arr, length){\n  return arr[1]+ arr[2]+arr[3];\n}\ngetSumOfArray isn't broken for me, I'm using it fine.\nFunction works for my all cases because I always have only 4 items in array and first always is equal 0\n. Yes, this method removes line attributes and local too.\nI don't know if this is bug because this function worked in that way by a lot of time and changing this behavior can spoil some plugins. Maybe better will be add new argument \"excludeLocalAttributes\"\n. Yes, I made test with other plugins.\nMy function doesn't change any logic it works like before.\nI only added support for unsupported cases like support for last parameter which was defined before but never used by this function. And for situation where we haven't marker or if we have less that 3 parameters or we want remove one of those three.\nJohnMcLear if you don't want my pull requests, please tell me. \nI haven't time to banter.\nAnd you don't understand that implementing functions with defined but don't supported parameters is very bad thing. (because all works for your)\n I do not wanna explain to you that opposite cases should be handled or documented. \nThis function is called by other with parameters whose this function don't support!!!\nAnd if someone doesn't know about this,  will be wasted time for debugging.\nAnd you tells me, in answer that:\n\nremoveAttributeOnLine isn't broken for me, I'm using it fine. What problem are you facing with it?\n. Hello,\nYes, there was a bug.\nindex is started from 1 not from 0.\nI think that this should be correct now.\n\nCould you fix travis configuration?\n@marcelklehr Could you check it again and confirm?\n. Hello guys, \nNow It should be good. \nThe problem was in variable 'lineAttributes'\nI made my own list, I found list of line attributes in setAttributeOnLine method.\nPlease consider to make a getter or something else for those attributes. \nI checked it with list atribute, headings, headings 2.\nI made mixed few attributes and always this function removes only attribute from parameter.\ncountAttribsWithMarker checks if we have only those that what it should be\n. Sorry, I copied and pasted it from my local version.\nI used github editor for this for now.\nIt will be helpful if you prepare editorconfig file ( http://editorconfig.org/ )\nIn my bitbucket repository I have many core changes,\nmostly for optimization like caching in indexedDB for long texts.\nDon't serializing data to json for mongo and storing in a few collections instead just in one (This is new database type for ueberDB [I really don't know why someone wants to serializing data to json before save it to mongodb. This slows down loading about ~20%])\nSometimes I change formatting of some files because I hate if '{' is in new line.\nThis breaks folding of code in webstorm and makes code is too lengthy and is harder to reading for many people but this can be an 'de gustibus'.\nWhen I will be have free moment, I am going to fix formatting.\n. check now\n. lineAttributes is defined in this file on line 11\n```\nvar lineMarkerAttribute = 'lmkr';\n// If one of these attributes are set to the first character of a \n // line it is considered as a line attribute marker i.e. attributes\n // set on this marker are applied to the whole line. \n // The list attribute is only maintained for compatibility reasons\n var lineAttributes = [lineMarkerAttribute,'list'];\n```\nAnd I make list of attributes, which are attached currently to the line.\nIn other place I seen that the attributes without values are deleted automatically but they can existed a while\nAnd this is the reason why I checked !!a[1] in underscore filter.\nBut I see possibility of having local attributes in line which does not have marker.\nMaybe is some logical reason to separate line attributes from local attributes (applied on fragment of line). But currently and and before this was never controlled. \n. ",
    "formwandler": "Well, I am running the new openSUSE 13.2 which also ships Abiword 3.\nI tested on CLI but it seems that Abiword is strange. I could not succeed in running something like\n# abiword -t test.pdf index.html\nAborted\nWith another HTML file:\n# abiword -t test.pdf contextbrowser.html\nAbiWord: could not open the file [contextbrowser.html]\nThe could not open the file mostly means that the HTML is somehow \"broken\". Very strange. I am not familiar with Abiword.\nHowever, even starting Etherpad fails for me.\n. ",
    "Ryuno-Ki": "Since my draft depends on only one size (font-size of html that is), the images need to be responsive as well. Shall I open a ticket once I'm ready so far?\n. Looks a bit rude to me to quickly close the issue.\nAnyway, when browsing to 0.0.0.0:9001/tests/frontend I am facing:\n\"before each\" hook\nError: the string \"Uncaught TypeError: Cannot set property 'window' of undefined\" was thrown, throw an Error :)\n    at Runner.fail (http://0.0.0.0:9001/tests/frontend/lib/mocha.js:3786:11)\n    at Runner.uncaught (http://0.0.0.0:9001/tests/frontend/lib/mocha.js:4059:8)\n    at uncaught (http://0.0.0.0:9001/tests/frontend/lib/mocha.js:4089:10)helper.new Pad(cb);\nthis.timeout(60000);\nWithout touching anything! Just ran bin/run.sh as per CONTRIBUTION and README.\n- Commit f0423349b5f07d75dde593129583d0d914b8194d\n- Linux Olivier 3.12.29-1-MANJARO #1 SMP PREEMPT Wed Oct 1 20:00:52 UTC 2014 i686 GNU/Linux\n- Chromium 37.0.2062.120 \nI want to write down this here for the record.\n. The info log of etherpad may confuse new contributors.\nIf it is invalid, just close it. But this way, maybe other people can find it through a search.\n. I do.\nHowever, I am missing an automatic check on this, since it improves reading in my opinion.\nDo you have a task runner (e.g. Grunt), where I could hook it up?\nOtherwise I'm looking into a git commit hook and run css lint on my machine.\nYou wrote \"put something in the guide\". Do you refer to CONTRIBUTING.md? Or do you handle that by a wiki?\n. ",
    "willnix": "Yep, I do. Thank's for the immediate response! :-)\n. Don't worry about me, my installation is of very low importance...\nI'll wait for your OK, pull, test and let you know of my results.\n. Well it does list the plugins now, but I still get the following error:\n\nGET https://pad.tinkerfool.org/socket.io/ [HTTP/1.1 400 Bad Request 50ms]\nFirefox can't establish a connection to the server at wss://example.com/socket.io/?EIO=3&transport=websocket&sid=[reducted]\n\nThe settings file is not displayed and the FF developer console shows the following error:\n\nTypeError: io.connect(...).of is not a function settings.js:1\nFirefox can't establish a connection to the server at wss://example.com/socket.io/?EIO=3&transport=websocket&sid=[reducted]\n. It's running behind an Apache HTTPS proxy btw.\n. Looks like Apache is in fact causing trouble. Works flawless without the proxy.\n. I'll look into it, but I might just have bad luck. There is an Apache mod for it, but it's supposed to be configured like that:\nProxyPass /ws2/  ws://echo.websocket.org/\nProxyPass /wss2/ wss://echo.websocket.org/\n\nAs I understand it, the etherpad websocket request don't go to a separate subdirectory, which makes them indistinguishable for Apache. \n. That looks good, I'll give it a try. Thank you!\nOn November 18, 2014 10:30:26 PM CET, Beau Gunderson notifications@github.com wrote:\n\nI'm also setting up etherpad today behind an Apache instance; this\nworked for me:\n```\n       \n              ProxyPass http://domain.org.org:9001/ retry=0 timeout=30\n               ProxyPassReverse http://domain.org.org:9001/\n       \n   <Location /socket.io>\n           RewriteEngine On\n           RewriteCond %{QUERY_STRING} transport=websocket    [NC]\n          RewriteRule /(.*) ws://localhost:9001/socket.io/$1 [P,L]\n\n ProxyPass http://domain.org.org:9001/socket.io retry=0 timeout=30\n           ProxyPassReverse http://domain.org.org:9001/socket.io\n   </Location>\n\n```\nBut I do get a crash on the fix-socket-admin-etc branch:\n[2014-11-18 13:28:19.973] [ERROR] console - SyntaxError: Unexpected\ntoken <\n   at Object.parse (native)\nat Request._callback\n(/home/www/botpad.org/src/static/js/pluginfw/installer.js:69:20)\nat Request.self.callback\n(/home/www/botpad.org/src/node_modules/request/main.js:109:22)\nat Request.<anonymous>\n(/home/www/botpad.org/src/node_modules/request/main.js:481:18)\n   at Request.EventEmitter.emit (events.js:95:17)\nat IncomingMessage.<anonymous>\n(/home/www/botpad.org/src/node_modules/request/main.js:442:16)\n   at IncomingMessage.EventEmitter.emit (events.js:117:20)\n   at _stream_readable.js:920:16\n   at process._tickDomainCallback (node.js:459:13)\nI also don't see how to disable websocket transport in settings.json.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/issues/2318#issuecomment-63548542\n. \n",
    "l-y-n-x": "develop.\nrelease/1.4.0 is working.\n. Well, I'm no JS developer so I'm not so sure whether I'd be able to track down the problem...\n. @luto Great! Danke!\n. It is indeed used elsewhere! I'll fix and test.\n. Ok, three additional 'resource's changed.\nNo more 404s, pad works, time slider works... doesn't look too bad.\n. ",
    "timrchavez": "John,\nThanks for the quick response and raising the question.  I looked into a Pad.copy, Pad.getInternalRevisionAText, and Pad.appendRevision.  The first two had various problems while Pad.appendRevision was nearly what I wanted - most of the code to append a revision in my script is taken from this function -- but it did not quite fit because Pad.appendRevision generates a new timestamp for the revision which is not what we want here.  The fact that I'm not using Pad.appendRevision here is probably just an artifact of a development goal of not modifying etherpad-lite code locally if it could be avoided, but now that I'm thinking upstream maybe it makes sense to do so.\nI am also playing around with another strategy which simplifes the code even more and gets rid of the \"append revision\" steps all together.\nAnyway, I'll refresh the patch later today with what I come up with.  Thanks once again.\n. Please have another look when you have a chance.  Thanks!\n. Thanks for the comments @dmitryuv -- I'll spend some time looking into your feedback and responding later today.\n. Oh, really quick, @dmitryuv, I noticed you left comments on the first commit, but the second commit simplifies the process a bit and removes some of the code you commented on... should I be re-basing my pull request and overwriting the branch on github so there is only one commit to review?\n. Hello, sorry it took me so long to get back.  I had some vacation and then work got in the way :) I've pushed a new commit which makes (what I hope) are all the changes you recommended in your code review @dmitryuv.  Thanks for the taking the time to look it all over.\n. ",
    "manvari": "@JohnMcLear: which issue are you refering to?\n. Yes, I'm using the latest develop version.\nThe latest commit I've got is the current one:\n```\n$ git log\ncommit ff9a2a687f8c76a0c26327111b3a898abb7d2d6a\nAuthor: John McLear john@mclear.co.uk\nDate:   Wed Nov 19 18:27:55 2014 +0000\nwhoops fix animation not to look broken\n\n``\n. @luto: I've setminifytofalseinsettings.json, and switched to thetmp-socketio-debug-resource`. The Chromium console reports the following:\n\nIn case the image can't be displayed: the first line is !!!!!!!!!!!!!!!!!!!! Resource: etherpad/socket.io.\nnginx still returns 404s because it keeps looking for socket.io in the root directory of the server (as indicated earlier, /usr/nginx/share/html). My take on this is that either Etherpad indicates a wrong path to nginx (but there should still be some log when running bin/run.sh?) or there's a proxying issue with nginx.\n\nI've changed the port from 9001 to 9005, btw.\n/var/log/nginx/error.log:\n2014/11/21 23:44:50 [error] 10299#0: *145 \"/usr/nginx/share/html/socket.io/index.html\" is not found (2: No such file or directory), client: xx.xx.xx.xx, server: domain.com, request: \"GET /socket.io/?EIO=3&transport=polling&t=1416609890947-53 HTTP/1.1\", host: \"domain.com\", referrer: \"https://domain.com/etherpad/p/testsup\"\n2014/11/21 23:44:56 [error] 10299#0: *142 \"/usr/nginx/share/html/socket.io/index.html\" is not found (2: No such file or directory), client: xx.xx.xx.xx, server: domain.com, request: \"GET /socket.io/?EIO=3&transport=polling&t=1416609895987-54 HTTP/1.1\", host: \"domain.com\", referrer: \"https://domain.com/etherpad/p/testsup\"\nEDIT: I hadn't cleared my cache. Updated, the screenshot contains the exclamation marks now.\n. ",
    "patrickhoefler": "@iceTwy Just in case this hasn't been resolved yet: I'm pretty sure that your nginx root path should be /usr/share/nginx/html instead of /usr/nginx/share/html.\n. ",
    "mabe-at": "I had the same behaviour with nginx as reverse proxy and etherpad-lite in a subdirectory.\nI am using the latest commit right now.\nFollowing nginx-config solved it for /socket.io and some asset-files of plugins requested at /static.\nlocation /socket.io {\n  rewrite /socket.io/(.*) /socket.io/$1 break;\n  proxy_pass http://localhost:9001/;\n  proxy_set_header Host $host;\n  proxy_buffering off;\n}\nlocation /static {\n  rewrite /static/(.*) /static/$1 break;\n  proxy_pass http://localhost:9001/;\n  proxy_set_header Host $host;\n  proxy_buffering off;\n}\nDoesn't look nice, but works.\n. @JohnMcLear wiki updated\n. Hi!\nWe have experienced the same problem.\nUninstalling the tasklist plugin solved it.\n. Installed the bugfix of ep_tasklist and it's working now for us.\nThanks.\n. ",
    "mkmelin": "I wouldn't really consider this resolved. A \"solution\" of forcing manual mappings for each subdirectory is just wrong. (And doesn't work out, e.g. when you already have /static for other use, so you can't remap.)\nIt appears to me etherpad needs to allow configuring the mountpath.\nThen in nginx you'd only have to set proxy_pass and nothing else.\n. ",
    "CodeMichael": "https://github.com/ether/etherpad-lite/pull/2748\nI think this fixes the problem.\n. ",
    "gmathers": "@JohnMcLear - i installed etherpad lite from GitHub yesterday. And i just did a git pull today. So i now have version b4ddeff. I'm still experiencing the same socket.io not re-directed issue.\n@luto - i am trying to run etherpad-lite from a subdirectory. It works normally if i run it from root.\n. ",
    "wamatt": "try downgrade to nginx 1.4.x - I've seen somewhere else that helped someone with the same issue.\nI recently upgraded to 1.7.10 (from 1.4) and started having this issue\n. ",
    "thiagodemellobueno": "I'm not sure that I was clear.\nI'm not trying to use an alternate node_modules folder to run the pad.\nI have node dependencies in my plugin, specified in the plugin's package.json\n(and so I have a PAD_DIRECTORY/node_modules/MYPLUGIN/node_modules folder).\nHowever when i run \nPAD_DIRECTORY/bin/run.sh\nI get the rangeError above.\nIn my experience with node so far, most other packages/apps it's pretty common for dependencies to have their own dependencies without causing this wouldn't halt the running of the app... \nAm I missing something?\n. Makes sense, thanks.\nJust adding this link here in case anyone ends up here\nhttps://github.com/ether/etherpad-lite/wiki/Manipulating-the-database\n. @JohnMcLear are there any examples of plugins that have admin pages that could link here?\n. ",
    "BjarniRunar": "Does it make sense to update the docs before this has been merged (assuming it will be merged). It seems like pointing people towards tools that don't-quite-exist yet isn't helpful.\n. Done! Thanks, and thanks for Etherpad.\n. ",
    "kreativ-software": "Looks like https://github.com/faradayio/etherpad-lite-heroku has solved this, but that fork is not up-to-date...\n. ",
    "brecke": "Any solution to this? I get this error even without apache in front of 9001. Help?\n. Tried it, same result. I get the following on the console:\n[2015-02-03 12:02:34.484] [WARN] client - Error: The module at \"ep_etherpad-lite/static/js/pad.js\" does not exist. -- { errorId: 'faGK1A9Oq43jSbcSEvj9',\n  msg: 'Error: The module at \"ep_etherpad-lite/static/js/pad.js\" does not exist.',\nThe weird thing is, ep_etherpad-lite/static/js/pad.js does exist if you're following symlinks, via etherpad-lite/node_modules/ep_etherpad-lite. Any ideas?\n. ",
    "sebschrader": "I'm affected by the same issue, but only with some pads. I did a clean install and imported pads from the original Etherpad to Etherpad-Lite using convert.js. Debugging using Firefox shows that the exception is triggered by this import:\nhttps://github.com/ether/etherpad-lite/blob/b9802616b6cab99a43b470972f62f24fcc21f473/src/static/js/pad.js#L266\nSo it appears that the module tries to require itself.\n. It's rather difficult to export a broken pad if i can't access it using the UI. I queried the database to get a pad:\nhttps://gist.github.com/sebschrader/4fb19140bacd129cdc4f\nI used the following where clause:\n`key` LIKE \"%<PADID>%\"\n. If I try to export broken pads I get a\n403 - Can't touch this\nerror. \n. Probably unrelated, but exporting a working pad, is actually crashing the server. This can even be demonstrated using the example link you posted yourself. After using that link you get a \n502 Bad Gateway\nfrom https://beta.etherpad.org for a few seconds.\nHere's a traceback from the instance I run:\n[2015-02-16 23:20:01.838] [ERROR] console - TypeError: Cannot set property 'padIDs' of null\n    at Object.callback (/srv/web/etherpad-lite.ifsr.de/src/node/utils/ExportEtherpad.js:51:36)\n    at /srv/web/etherpad-lite.ifsr.de/src/node_modules/ueberDB/CloneAndAtomicLayer.js:100:17\n    at /srv/web/etherpad-lite.ifsr.de/src/node_modules/ueberDB/CacheAndBufferLayer.js:185:7\n    at Query._callback (/srv/web/etherpad-lite.ifsr.de/src/node_modules/ueberDB/mysql_db.js:116:5)\n    at Query.Sequence.end (/srv/web/etherpad-lite.ifsr.de/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/sequences/Sequence.js:96:24)\n    at Query._handleFinalResultPacket (/srv/web/etherpad-lite.ifsr.de/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/sequences/Query.js:143:8)\n    at Query.EofPacket (/srv/web/etherpad-lite.ifsr.de/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/sequences/Query.js:127:8)\n    at Protocol._parsePacket (/srv/web/etherpad-lite.ifsr.de/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/Protocol.js:271:23)\n    at Parser.write (/srv/web/etherpad-lite.ifsr.de/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/Parser.js:77:12)\n    at Protocol.write (/srv/web/etherpad-lite.ifsr.de/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/Protocol.js:39:16)\n. I tried your commit and it allowed me to successfully export a working pad after a small fix. See my note on the commit.\n. ",
    "relecand": "Bug still exists in master branch: cbfc833\n. ",
    "Daniel451": "Which branch should I use?\n. Thank you very much!\nFixed the problem! :)\n. ",
    "lid2000": "This is very odd. I just pasted in something that crashed the local pad\nhere without fail yet it's working fine on that one.\nOn Tue, Dec 23, 2014 at 11:13 AM, John McLear notifications@github.com\nwrote:\n\nI made a .html file with the contents you stated above.\nOpened it in firefox\nCopy/pasted to http://beta.etherpad.org/p/ukLEfZmebR\nI am not disconnected\nPerhaps you can provide exact steps to replicate?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/2387#issuecomment-67907852\n.\n. Firefox/Win7 however it also happens Chrome/Win7 and (so far)\nFirefox/MacOS. I'm not running any plugins. I'm searching through my\nsettings file to see if I can find anything that could cause something\nweird to happen.\n\nOn Tue, Dec 23, 2014 at 11:23 AM, John McLear notifications@github.com\nwrote:\n\nNope that's not the case.\nOkay what browser / OS?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/2387#issuecomment-67908504\n.\n. I won't be able to for another 4 hours or so, but I'll let you know what\nhappens, thanks.\n\nOn Tue, Dec 23, 2014 at 11:28 AM, John McLear notifications@github.com\nwrote:\n\nIf so try to comment out L62 through to L67\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/2387#issuecomment-67908949\n.\n. Another example would be to go to the Etherpad homepage, hit Ctrl+A to select everything then paste it in Etherpad. I would expect the text of the page to be pasted in, however it generates an error. I'll try and come up with a minimal test case but I don't know how long that will take as I'm not really sure what is causing this.\n. It's lists. Pasting in an unordered list from anywhere causes the error. Ordered lists seem to work fine, but \n\n<ul>\n<li>blah</li>\n</ul>\nwill make it break.\n. Yep, looks like it's working. Thanks!\n. Yep, it seems to work with that change.\n. Huh. Weird. I am certain the above change fixed the problem the other day (the people complaining said it was all good now) yet checking it again it appears it isn't fixed after all. Sorry for the false confirmation.\n. Yep you could do that - this way is just neater for me.\n. ",
    "StephenKing": "Thanks @JohnMcLear, I'm using EP 1.4.1 and other than the restarts it works perfectly fine. (you can see that also on https://notes.typo3.org)\n. Thanks for your feedback. I'm just spinning up a VM to give it a try.\nAm I correct that bin/backendTests.sh is the correct thing to run? (as described here).\n. Those tests (46) do all pass..\n. Thanks @JohnMcLear. That also worked fine\n\n[2014-12-29 13:56:06.251] [INFO] progress - 6000/6000\n[2014-12-29 13:56:06.252] [INFO] progress - finished\n. Yes\n. \n",
    "BlackyFox": "Hi all ! I still have this issue with the latest version of EP and ep_user_pad and ep_user_pad_frontend.. \nI try updating the MySQL NPM package for those two plugins but it doesn't help.. I know this is caused by those plugins, but you might know how to solve it !\nThe only trick I found was in the /etc/mysql/my.cnf file. \nI changed the wait_timeout time to something bigger to make it loose the connection on a longer time.\nFYI, I'm running last github version on a Debian 7, passing 100% of frontend tests. On the backend tests, 73 passing and 2 pending. \nAnd the error is :\nbash\n[2015-07-30 14:33:46.086] [ERROR] console - Error: Connection lost: The server closed the connection.\n    at Protocol.end (/home/antoine/Bureau/test_ep_etherpad/etherpad-lite/node_modules/ep_user_pad_frontend/node_modules/mysql/lib/protocol/Protocol.js:103:13)\n    at Socket.<anonymous> (/home/antoine/Bureau/test_ep_etherpad/etherpad-lite/node_modules/ep_user_pad_frontend/node_modules/mysql/lib/Connection.js:88:28)\n    at Socket.emit (events.js:129:20)\n    at _stream_readable.js:908:16\n    at process._tickDomainCallback (node.js:381:11)\n[2015-07-30 14:33:46.087] [INFO] console - graceful shutdown...\n[2015-07-30 14:33:46.130] [INFO] console - db sucessfully closed.\n. I have the same error on EtherPad 1.5.6 (e1406b8).\nIs there any news about it ?\n. @JohnMcLear Of course.\nIt is installed on an offline server (local network only). So I got all the sources and recompiled them on the server. EtherPad Lite 1.5.6 is installed and working. \nI have the several plugins on it :\n- ep_aa_file_menu_toolbar\n- ep_padlist\n- ep_adminpads \n- ep_etherpad-lite\n- ep_page_view\n- ep_align\n- ep_font_color\n- ep_print\n- ep_comments_page\n- ep_font_family\n- ep_public_view\n- ep_copy_paste_images\n- ep_font_size\n- ep_set_title_on_pad\n- ep_copy_paste_select_all\n- ep_headings\n- ep_tables2\n- ep_desktop_notifications\n- ep_list_pads\n- ep-user_pad\n- ep_user_pad_frontend\nWhen I shutdow EtherPad I have the following error :\n^C[2015-06-03 10:29:05.675] [INFO] console - graceful shutdown...\n[2015-06-03 10:29:05.688] [ERROR] console - TypeError: object is not a function\n    at ChildProcess. (/home/antoine/nodejs/node-v0.12.2/etherpad-lite/src/node/utils/Abiword.js:94:7)\n    at ChildProcess.emit (events.js:110:17)\n    at Process.ChildProcess._handle.onexit (child_process.js:1074:12)\n[2015-06-03 10:29:05.707] [INFO] console - db sucessfully closed.\n. No no, it's not crashing, it is when I hit Ctrl+C. I had it running for few days without a crash. It was just to report the error.\n. ",
    "gorn": "I got it from README in master branch. Sorry I  do not know what is PEep. Should I fork docs on develop and resubmit?\n. I will try to explain that again: Instructions in README.md on Debian are wrong. The mistake is in step \"Now, run bin/run.sh \" which complains about missing npm.\nIt has nothing to do with the way you install nodejs. \n. ",
    "YesThatAllen": "Really detrimental effects in Chrome 67\nhttps://bugs.chromium.org/p/chromium/issues/detail?id=848210. It seems to be set here\nhttps://github.com/ether/etherpad-lite/blob/d42393dc939c32789813ff478388bf42ccc1cffc/src/static/js/pad.js#L146-L151\nand here\nhttps://github.com/ether/etherpad-lite/blob/d42393dc939c32789813ff478388bf42ccc1cffc/src/static/js/timeslider.js#L45-L46\nSo my questions becomes:\n\n[ ] can some custom js override those?\n\nhttps://github.com/ether/etherpad-lite/blob/d42393dc939c32789813ff478388bf42ccc1cffc/src/static/custom/js.template#L3\ndiff\n/src/static/js/pad.js\n@@ -147,7 +147,7 @@ function sendClientReady(isReconnect, messageType)\n   {\n     var titleArray = document.title.split('|');\n     var title = titleArray[titleArray.length - 1];\n-    document.title = padId.replace(/_+/g, ' ') + \" | \" + title;\n+    document.title = title + \" | \" + padId.replace(/_+/g, ' ');\n   var token = readCookie(\"token\");\nand\n```diff\n/src/static/js/timeslider.js\n@@ -43,7 +43,7 @@ function init() {\n     padId = decodeURIComponent(urlParts[urlParts.length-2]);\n //set the title\n\n\ndocument.title = padId.replace(/_+/g, ' ') + \" | \" + document.title;\n\ndocument.title = document.title + \" | \" + padId.replace(/_+/g, ' ');\n//ensure we have a token\n```\n\n\n. ",
    "kaystrobach": "i have the same effect, that etherpad dies during imports, is there anyway to avoid that?\n. mhmm after some testing there seems to be a general problem, when i import a 90kb .etherpad file the server stops ... any idea?\n. mhmm the crazy thing is, that after crashing and restarting the server the content is available in the pad ...\n. i did it with exporting a document and trying to reimport it ...\n. damit it crashed again ... argg see http://notes.schullogin.de/ ... that's the message when etherpad is down\n. i also tried it with no plugins at all, but i can post the message from the latest git master in some minutes\n. maybe related to #2481 :) had this once again ...\n. @JohnMcLear i just upgraded to the git master and seems to work now for me :smile: thanks a lot!\n. Client Configs tried:\n- Windows 8.1/7\n  - Chrome Version 40.0.2214.91 (64-bit)\n  - Firefox 35.0\n  - latest IE 10 and 11\n- OSX 10.10. latest\n  - with Chrome Version 40.0.2214.91 (64-bit)\n  - Firefox 35.0\n  - Safari Version 8.0.2 (10600.2.5)\nHost system:\n- Debian GNU/Linux 7.0 \\n \\l\n- latest updates installed via aptitude\n- abiword 2.9.2 installed and configured\n- npm 1.4.28\n- nodejs v0.10.35\n- etherpad branch develop\n- Apache with proxypass (http / https on port 80 and 443)\n- etherpad listening on port 9001 (default)\n- etherpad extensions installed (made no difference for reproducing the issue if installed or not)\n  - ep_align\n  - ep_expiration\n  - ep_headings2\n  - ep_markdown\n  - ep_prompt_for_name\n  - ep_slideshow\n  - ep_draw\n  - ep_headings\nSteps to reproduce\n- https://www.youtube.com/watch?v=TLWoEwAZxWo&feature=youtube_gdata\nStack trace (and i think the failed object access is the problem) see [2015-01-23 07:43:25.723] [ERROR]\n[2015-01-23 07:43:05.594] [INFO] ueberDB - Flushed 6 values\n[2015-01-23 07:43:06.027] [DEBUG] SessionStore - SET VXNfmyuSOIMr1OVw4NkzBbzc\n[2015-01-23 07:43:06.027] [DEBUG] ueberDB - SET    - sessionstorage:VXNfmyuSOIMr1OVw4NkzBbzc - {\"cookie\":{\"path\":\"/\",\"_expires\":null,\"originalMaxAge\":null,\"httpOnly\":true}} - to buffer\n[2015-01-23 07:43:06.028] [DEBUG] http - 304, GET /favicon.ico\n[2015-01-23 07:43:06.100] [INFO] ueberDB - Flushed 1 values\n[2015-01-23 07:43:16.101] [INFO] console - ping\n[2015-01-23 07:43:25.613] [DEBUG] SessionStore - GET 67NKAGJLvu7cD0IgEtZFGR0G\n[2015-01-23 07:43:25.614] [DEBUG] ueberDB - GET    - sessionstorage:67NKAGJLvu7cD0IgEtZFGR0G - {\"cookie\":{\"path\":\"/\",\"_expires\":null,\"originalMaxAge\":null,\"httpOnly\":true},\"user\":{\"password\":\"supersecret\",\"is_admin\":true,\"username\":\"admin\"}} - from cache\n[2015-01-23 07:43:25.614] [DEBUG] ueberDB - GET    - pad:tVK1tGzVkY - {\"atext\":{\"text\":\"  TEXT REMOVED    \",\"attribs\":\"|6+89\"},\"pool\":{\"numToAttrib\":{},\"nextNum\":0},\"head\":0,\"chatHead\":-1,\"publicStatus\":false,\"passwordHash\":null,\"savedRevisions\":[]} - from cache\n[2015-01-23 07:43:25.614] [DEBUG] ueberDB - GET    - token2author:t.vJJUVFgXpzuDMb5jTvOF - \"a.XgxZlxXVm9YMEJmz\" - from cache\n[2015-01-23 07:43:25.615] [DEBUG] ueberDB - SETSUB - globalAuthor:a.XgxZlxXVm9YMEJmz[\"timestamp\"] - 1421995405614\n[2015-01-23 07:43:25.622] [DEBUG] ueberDB - GET    - globalAuthor:a.XgxZlxXVm9YMEJmz - {\"colorId\":\"#a9d9d9\",\"name\":\"asd\",\"timestamp\":1421995385580,\"padIDs\":{\"j3YL2xvoLV\":1}} - from cache\n[2015-01-23 07:43:25.622] [DEBUG] ueberDB - SET    - globalAuthor:a.XgxZlxXVm9YMEJmz - {\"colorId\":\"#a9d9d9\",\"name\":\"asd\",\"timestamp\":1421995405614,\"padIDs\":{\"j3YL2xvoLV\":1}} - to buffer\n[2015-01-23 07:43:25.652] [INFO] ueberDB - Flushed 1 values\n[2015-01-23 07:43:25.718] [DEBUG] ueberDB - SET    - pad:tVK1tGzVkY - {\"atext\":{\"text\":\"   TEXT REMOVED    \"},\"pool\":{\"numToAttrib\":{\"0\":[\"author\",\"a.nwpMrcILx43MLU1W\"],\"1\":[\"author\",\"a.KR1cH23dzMUP8N0T\"],\"2\":[\"author\",\"a.hkhbDa9qn0EWIb8H\"],\"3\":[\"bold\",\"true\"],\"4\":[\"author\",\"a.aTvqZu1FgD5pScBH\"]},\"nextNum\":5},\"head\":423,\"chatHead\":32,\"publicStatus\":false,\"passwordHash\":null,\"savedRevisions\":[]} - to buffer\n[2015-01-23 07:43:25.719] [DEBUG] ueberDB - GET    - globalAuthor:a.nwpMrcILx43MLU1W - {\"colorId\":\"#e62323\",\"name\":\"KT2\",\"timestamp\":1421937776157,\"padIDs\":{\"t_kt1\":1,\"test_kt1\":1}} - from cache\n[2015-01-23 07:43:25.723] [ERROR] console - TypeError: Object #<Object> has no method 'push'\n    at Object.callback (/export/home/etherpad-lite/builds/src/node/utils/ImportEtherpad.js:37:25)\n    at /export/home/etherpad-lite/builds/src/node_modules/ueberDB/CloneAndAtomicLayer.js:100:17\n    at exports.database.get (/export/home/etherpad-lite/builds/src/node_modules/ueberDB/CacheAndBufferLayer.js:144:5)\n    at doOperation [as operatorFunction] (/export/home/etherpad-lite/builds/src/node_modules/ueberDB/CloneAndAtomicLayer.js:94:18)\n    at exports.channels.emit (/export/home/etherpad-lite/builds/src/node_modules/ueberDB/node_modules/channels/channels.js:38:11)\n    at exports.database.get (/export/home/etherpad-lite/builds/src/node_modules/ueberDB/CloneAndAtomicLayer.js:62:17)\n    at /export/home/etherpad-lite/builds/src/node/utils/ImportEtherpad.js:34:10\n    at iterate (/export/home/etherpad-lite/builds/src/node_modules/async/lib/async.js:149:13)\n    at /export/home/etherpad-lite/builds/src/node_modules/async/lib/async.js:160:25\n    at /export/home/etherpad-lite/builds/src/node/utils/ImportEtherpad.js:64:5\n[2015-01-23 07:43:25.724] [INFO] console - graceful shutdown...\n[2015-01-23 07:43:25.754] [INFO] ueberDB - Flushed 1 values\n[2015-01-23 07:43:25.856] [INFO] console - db sucessfully closed.\nanything else needed to fix it :smile: \n. BTW: after restarting etherpad the Pad content is completly available ...\n. i was asked not to send the etherpad file to public, even if the content is useless i send it to your github mailadresse (from the profile)\nthanks a lot\n. ok, should a truncate DB fix that?\n. will check, need some minutes to get another project ready for production\n. [2015-01-23 15:09:43.038] [DEBUG] ueberDB - GET    - globalAuthor:a.nwpMrcILx43MLU1W - {\"colorId\":\"#e62323\",\"name\":\"KT2\",\"timestamp\":1421937776157,\"padIDs\":{\"t_kt1\":1,\"test_kt1\":1}} - from cache\n[2015-01-23 15:09:43.038] [INFO] console - { colorId: '#e62323',\n  name: 'KT2',\n  timestamp: 1421937776157,\n  padIDs: { t_kt1: 1, test_kt1: 1 } }\n[2015-01-23 15:09:43.044] [ERROR] console - TypeError: Object #<Object> has no method 'push'\n    at Object.callback (/export/home/etherpad-lite/builds/src/node/utils/ImportEtherpad.js:38:25)\n    at /export/home/etherpad-lite/builds/src/node_modules/ueberDB/CloneAndAtomicLayer.js:100:17\n    at exports.database.get (/export/home/etherpad-lite/builds/src/node_modules/ueberDB/CacheAndBufferLayer.js:144:5)\n    at doOperation [as operatorFunction] (/export/home/etherpad-lite/builds/src/node_modules/ueberDB/CloneAndAtomicLayer.js:94:18)\n    at exports.channels.emit (/export/home/etherpad-lite/builds/src/node_modules/ueberDB/node_modules/channels/channels.js:38:11)\n    at exports.database.get (/export/home/etherpad-lite/builds/src/node_modules/ueberDB/CloneAndAtomicLayer.js:62:17)\n    at /export/home/etherpad-lite/builds/src/node/utils/ImportEtherpad.js:34:10\n    at iterate (/export/home/etherpad-lite/builds/src/node_modules/async/lib/async.js:149:13)\n    at /export/home/etherpad-lite/builds/src/node_modules/async/lib/async.js:160:25\n    at /export/home/etherpad-lite/builds/src/node/utils/ImportEtherpad.js:65:5\nIMHO the problem is, that padIDs: { t_kt1: 1, test_kt1: 1 } } is an object rather than an array\nso it should be tested if that is an array and if it is an object convert it:\nvar arr = Object.keys(o).map(function(k) { return o[k] });\nhttp://stackoverflow.com/questions/20881213/converting-json-object-into-javascript-array\n. ok, after truncating the database, the import works smoothly.\nPerhaps one of the plugins caused that scary entry ... i will try to reproduce that, but close the issue for now\n. ",
    "e-it": "Hi John,\nit was a clean install :-(\n. Hm, it was my second attempt, but I'll try it a third time..\n. Followed this doc: https://github.com/ether/etherpad-lite/blob/master/README.md\nSame result. :-(\n. Hi John,\nthanks for your fast response. Sorry, English is not my mother language so pardon me, if I don't understand everything... \nWhat exactly do I have to change?\nShould I edit something in src/packages.json?\nMaybe this \n\"ejs\"                     : \">=1.0.0\",\n?\n. ",
    "zougoulou59": "Hi\nI have the same error on ubuntu 12.04\nIt happened today after updating my fonctionnal etherpad-lite. I tried a fresh install, same error.\nI went back to a backup.\nAny ideas ?\n. Worked for me.\nthanks everyone.\n. ",
    "btwe": "Sry, but same issue here:\n``` bash\n$ node --version\nv0.10.35\n$ git describe\n1.5.0-1-gcbfc833\n$ ./bin/run.sh \nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\nnpm WARN package.json async-stacktrace@0.0.2 No repository field.\nnpm WARN package.json channels@0.0.4 No repository field.\nnpm WARN package.json tinycon@0.0.1 No repository field.\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nEnsure custom css/js files are created...\nStarted Etherpad...\n[2015-01-04 20:09:40.482] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production.\n[2015-01-04 20:09:42.147] [INFO] console - Installed plugins: ep_etherpad-lite\n[2015-01-04 20:09:42.182] [INFO] console - Your Etherpad git version is cbfc833\n[2015-01-04 20:09:42.183] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2015-01-04 20:09:42.375] [INFO] console - You can access your Etherpad instance at http://0.0.0.0:9001/\n[2015-01-04 20:09:42.376] [INFO] console - The plugin admin page is at http://0.0.0.0:9001/admin/plugins\n[2015-01-04 20:09:55.051] [ERROR] console - ReferenceError: ejs:1\n\n\n1| <% e._init(buf); %><%\n    2|   var settings = require(\"ep_etherpad-lite/node/utils/Settings\");\n    3| %>\n    4| <!doctype html>\n\n\nbuf is not defined\n    at eval (eval at  (/home/etherpad/local/src/etherpad-lite/src/node_modules/ejs/lib/ejs.js:281:12), :2:8000)\n    at /home/etherpad/local/src/etherpad-lite/src/node_modules/ejs/lib/ejs.js:307:17\n    at Object.exports.render (/home/etherpad/local/src/etherpad-lite/src/node_modules/ejs/lib/ejs.js:166:13)\n    at Object.exports.require (/home/etherpad/local/src/etherpad-lite/src/node/eejs/index.js:122:17)\n    at /home/etherpad/local/src/etherpad-lite/src/node/hooks/express/specialpages.js:15:19\n    at callbacks (/home/etherpad/local/src/etherpad-lite/src/node_modules/express/lib/router/index.js:164:37)\n    at param (/home/etherpad/local/src/etherpad-lite/src/node_modules/express/lib/router/index.js:138:11)\n    at pass (/home/etherpad/local/src/etherpad-lite/src/node_modules/express/lib/router/index.js:145:5)\n    at Router._dispatch (/home/etherpad/local/src/etherpad-lite/src/node_modules/express/lib/router/index.js:173:5)\n    at Object.router (/home/etherpad/local/src/etherpad-lite/src/node_modules/express/lib/router/index.js:33:10)\n```\n. ",
    "wetterfrosch": "SPQRInc,\nyes - remove the \">=\" and say \"make\" in the base-directory of etherpad-lite/\nworked for me, thanks John\n. ",
    "amalba21": "Worked also for me.\nThanks a lot John.\n. ",
    "mikowi": "Worked for me as well, thank you John.\nbtw: I have another instance running in a VM on exactly the same Env and it works without the change....\n. ",
    "mde": "Apparently what's happening here is that the EtherpadLite bootstrapping code is actually using the internals of the EJS lib -- directly accessing the internal buf variable which is used to build the output. I've put in a shim (in v2.0.6) to unbreak your app, but obviously relying on undocumented internals of any library is not a great idea and you probably shouldn't do it.\nAs a side note, you might also consider locking down the versions for your dependencies, to either MINOR or PATCH, depending on whether you want just bugfixes, or backward-compatible new features. http://semver.org/ has a good summary of what to expect from changes at each version. I've been bitten in the ass by unceremonious upgrades myself, so I know how frustrating this stuff can be. Sorry this change broke your app.\n. I have no idea why you'd be needing to access the EJS internals for just rendering a template. That code is pretty dense -- any idea who wrote that code, and why they couldn't use the documented API? If it's genuinely doing something special (I'm trying to imagine -- rendering template chunks in a series or something?) that needs to be supported, then there should be a tested API for you to use.\nI'll do a minor version rev if I remove that shim or add any new functionality, so you should be good with your current code with either \"~2.0.0\" or \"2.0.x\".\n. I've just started a brand-new job and it's unlikely I'll have a ton of time for the deep-dive into EtherPad Lite codebase needed to debug the use of the EJS v1 internals. A much easier fix for you would be to freeze your EJS version to \"1.0.0\" exactly. That version of the lib in NPM is never going away.\n. Does this include the issue with plugins not showing up? Our initial fix unbroke the build, but I'm not sure it was a total fix.\n. ",
    "baptistedonaux": "It's possible to tag the current version with a tag 1.5.0-rc1 for example ? The current tag 1.5.0 is unusable.\n. Yeah, great ! Thank for your job !\n. I added the CHANGELOG (I hope that it's good). I wait your return.\n. Others comments ?\n. ",
    "jmkolbe": "Maybe ejs should be set to \"=1.0.0\" in the release branches too?\n. ",
    "debaetsr": "I have the same issue. Clean install per instructions with git pull, I can add plugins, but they don't show up in the interface.\nRegards,\nRuben\n. Tried that also. Restarting, reinstalling, downloading plugin with npm or with admin/plugins : neither thing works.\nPlugins show up as registred in the log, but nothing is shown.\n. I have a log at hand if you need it :-)\n. Yep, it works! Thanks!\n. ",
    "badboy": "Sorry about the \"typo\" thing. ggrep is indeed the right command on Solaris.\nThe other does not really \"fix\" anything but just cleans up the command used to extract the version.\n. ",
    "ochristi": "Are you using the plugin hide_referrer? Make sure to update. For me it works as expected, the path will be something like /redirect#https%3A//my.external.link/, not /p/redirect.\n. I do not have any rewrite rule for my setup, just somthing like\n<Location />\n  ProxyPass http://localhost:9001/\n  ProxyPassReverse http://localhost:9001/\n</Location>\nHowever, I suggest adding RewriteCond %{REQUEST_URI} !^/redirect before RewriteRule that should prevent rewriting of your /redirect path.\n. ",
    "skillz-xx": "also after the update of the plugin it does not work. I am using Etherpad Lite as a service and have configured the proxy pass settings in the config of my virtualhost...\nRewriteEngine On\n            RewriteRule /p/*$ https://xxx/ [NC,L]\n            RewriteCond %{REQUEST_URI} !^/locales/\n            RewriteCond %{REQUEST_URI} !^/locales.json\n            RewriteCond %{REQUEST_URI} !^/admin\n            RewriteCond %{REQUEST_URI} !^/tests\n            RewriteCond %{REQUEST_URI} !^/p/\n            RewriteCond %{REQUEST_URI} !^/static/\n            RewriteCond %{REQUEST_URI} !^/pluginfw/\n            RewriteCond %{REQUEST_URI} !^/javascripts/\n            RewriteCond %{REQUEST_URI} !^/socket.io/\n            RewriteCond %{REQUEST_URI} !^/ep/\n            RewriteCond %{REQUEST_URI} !^/minified/\n            RewriteCond %{REQUEST_URI} !^/api/\n            RewriteCond %{REQUEST_URI} !^/ro/\n            RewriteCond %{REQUEST_URI} !^/error/\n            RewriteCond %{REQUEST_URI} !^/jserror\n            RewriteCond %{REQUEST_URI} !/favicon.ico\n            RewriteCond %{REQUEST_URI} !/robots.txt\n            RewriteRule ^/+(.+)$ https://xxx/p/$1 [L]\nis ther anything missing=?\n. thx, this worked!\ncheers\n. what if I can't do that on this server for now?\n. I have moved my installation to a different VM, since it seemed impossible to run it in Squeeze.\n. ",
    "TimothyGu": "Note that I decided to use ^2.0.0 which is equivalent to 2.x.x, so that future minor version bump would still be matched.\n. I'm fine with reverting this commit for now. Just wanted to help.\n. ",
    "hgillani": "Hi,\nJust write 2 lines and then apply anchor color. I think its the issue with the height of highlighter which is covering some part of the line above. Because if I clear the Anchor color, the lines looks fine.\n. ",
    "nturner": "Well, cool. This appears to be fixed (no silent data loss) in the current tip (cbba7876c9c9dd633279968d813af889b7340513).\n. ",
    "tombriles": "Is there an update on this issue?  I've tried various version combinations of node and centos 6 and etherpad-lite, but I can't get pads to load in IE8, 9 or 10 (though I don't care much about 8).  IE11 seems fine (though I also see the problem in emulation mode). Chrome, FF and Safari seem fine. Here is my latest try:\ncat /etc/redhat-release\nCentOS release 6.6 (Final)\nnode:\nnode --version\nv0.12.0\netherpad-lite:\ngit status\n On branch develop\nnothing to commit, working directory clean\nAt first I thought it was due to my settings (editOnly and requireSession both true), but it turns out it seems broken out-of-the-box.\nLet me know if there's anything else you'd like me to try.\n. On beta.etherpad.org:\nIE8 - \"An error occured while loading the pad - Expected identifier in https://beta.etherpad.org/static/js/require-kernel.js (line 226)\"\nIE9 - Hangs on \"Loading...\" with nothing in the console\nIE10 - Hangs on \"Loading...\" with just a few \"HTML1512: Unmatched end tag.\" warnings in the console.\nIE11/FF/Chrome/Safari - Works fine\n. This allows pads to load in IE9/10 (at least), but I'm assuming will re-expose a bug...?\ndiff --git a/src/static/js/ace2_inner.js b/src/static/js/ace2_inner.js\nindex be54b0c..55a2ce0 100644\n--- a/src/static/js/ace2_inner.js\n+++ b/src/static/js/ace2_inner.js\n@@ -1920,7 +1920,7 @@ function Ace2Inner(){\n     if (charsLeft === 0)\n     {\n       var index = 0;\n-      browser.msie = false; // Temp fix to resolve enter and backspace issues..\n+      //browser.msie = false; // Temp fix to resolve enter and backspace issues..\n       if (browser.msie && line == (rep.lines.length() - 1) && lineNode.childNodes.length === 0)\n       {\n         // best to stay at end of last empty div in IE\n. This is happening to me as well.\nIt only seems to occur directly after an 'Authentication try failed' message, so it isn't a huge deal (though the 'pad.permissionDenied' error would of course be preferable).\nI'm on etherpad-lite v1.5.1, running on CentOS 6, node v0.10.28.\nLet me know if you'd like any additional info.\n. Thanks for the quick response!\nIt is indeed fixed on develop.\nIs there an ETA for a new tagged version?\n. You need a 'api/' just before the version number.\n. ",
    "maidentaiwan": "I can confirm that this bug is still present for IE8 in 1.5.6.\nIt's also present on beta.etherpad.org.\n1. In IE8, visit https://beta.etherpad.org.\n2. The UI looks messed up: the \"New Pad\" button is to the right of the text input, instead of above it.\n3. Click \"New Pad\" and get this error:\nAn error occured while loading the pad\nExpected identifier in https://beta.etherpad.org/static/js/require-kernel.js (line 226)\n. ",
    "arnowelzel": "I can confirm this.\nI use Etherpad 1.5 with ep_headings2 (https://www.npmjs.com/package/ep_headings2). When I try to open the drop down list to choose a format (regular, heading 1, heading 2. etc) the list will be closed automatically after 1 second (or sometimes even faster) and there is no chance to select anything.\nBut this effect only occurs, if the text editor is focused. When opening the chat and clicking the the message input field or the autor name field to focus it, the select box is useable without any problems.\nTest environment: IE 11.0.9600.17420 running in Windows 7 Pro x64.\n. ",
    "Shino-": "I launched it while in the bin directory, so ./run.sh is actually bin/run.sh. So that's precisely the script that's having a problem. Sorry for not making this clear.\nEDIT: tried with bin/safeRun.sh and it gives a slightly different message:\n./safeRun.sh: 22: cd: can't cd to .\n./safeRun.sh: 26: cd: can't cd to ../\n. This is what I get:\n```\netherpad@console:/www/hq/etherpad-lite$ bin/run.sh \nbin/run.sh: 4: cd: can't cd to bin\nbin/installDeps.sh: 4: cd: can't cd to bin\nbin/installDeps.sh: 50: bin/installDeps.sh: iojs: not found\nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\nbin/installDeps.sh: 75: cd: can't cd to node_modules\nbin/installDeps.sh: 77: cd: can't cd to ep_etherpad-lite\nError: EACCES, readdir '/www/hq/etherpad-lite'\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nEnsure custom css/js files are created...\nStarted Etherpad...\nmodule.js:340\n    throw err;\n          ^\nError: Cannot find module '/www/hq/etherpad-lite/node_modules/ep_etherpad-lite/node/server.js'\n    at Function.Module._resolveFilename (module.js:338:15)\n    at Function.Module._load (module.js:280:25)\n    at Function.Module.runMain (module.js:497:10)\n    at startup (node.js:119:16)\n    at node.js:929:3\n```\n. Nailed it! It was indeed a permission problem, but then I encountered an error because I tried to put on port 81 and it is apparently reserved to root like all lower ports. Thank you all for your input !\n. ",
    "ilmartyrk": "Had a look inside the code and found why this issue is accuring. The fix is quite simple, but most of the plugins will need a little update also.\nin https://github.com/ether/etherpad-lite/blob/develop/src/node/utils/ExportHtml.js#L454\nas getLineHTMLForExport stacks all the return values we get a new line from each plugin that returns a value from it and it is handeled as if something is returned from getLineHTMLForExport then add it instead of the original lineContent. But as each of the plugins gets in the context param as a original value and it's not altered then we get these multiple lines each differing from another in some way.\nTo really make it work in every ep_ plugin it should set context.lineContent = 'whatever you change on the line' and return true if anything was changed  and in  the ExportHtml.js use \nif (lineContentFromHook)\n      {\n        pieces.push(context.lineContent, '');\n      }\n      else\n      {\n        pieces.push(lineContent, '<br>');\n      }  instead of\nif (lineContentFromHook)\n      {\n        pieces.push(lineContentFromHook, '');\n      }\n      else\n      {\n        pieces.push(lineContent, '<br>');\n      }\nJust to confirm this solution I tried it in my own project using ep_align, ep_headings, ep_font_size and ep_font_color plugins. @lpagliari your work around was quite close and it helped me a little as it was one of the plugins my etherpad setup is using. But as https://github.com/ether/etherpad-lite/blob/develop/src/node/utils/ExportHtml.js expects something back from the  getLineHTMLForExport hooks then yeah it didn't work before. \nActually I was about to drop this check and instead:\nif (lineContentFromHook)\n      {\n        pieces.push(lineContentFromHook, '');\n      }\n      else\n      {\n        pieces.push(lineContent, '<br>');\n      } use: pieces.push(lineContentFromHook, ''); But then I understood that this <br> is used to break line if lineContentis just plain text. I also thought about iterating through the concatenated result string in lineContentFromHook, so that it would work with all the existing plugins without changing any of them, but then there might be some corner cases where it's hard to estimate what code should go where in the final result. @lpagliari I didn't think through that returning true from each hook ended up in a value 'true true true', just added an updated to get pass that and created a new pull request. Will do that. Fixes html export and issues related to that:\n3129\n2997\n2630\n2486. @Gared  I think it's ok, it doesn't change anything in this fixes behaviour so I added it. @JohnMcLear Could you merge this now?. Thank you @JohnMcLear !!! Can you please make a new release on it too. I've also listed all the issues that I know of, that this update fixes.. @muxator I have to say that I downloaded all the plugins, that I could find from the official plugins lisy, that had html export hook and most of them were not working anyway. But I believe that 1.7.x would be the correct way to move forward because update isn't backwards compatible.. @muxator Sorry for not reacting, now I finally created a new test that will blow up in the previous version and works fine in the updated one. This test shows how bad the final result was when two different types of lists were inserted one after another. Hope that you are good with it.. Actually it is a branch from release 1.6.5 and only file changed is src/node/utils/ExportHtml.js so why not merge all of it?. Of course I can submit another version, it just seemed more logical to submit all these changes. Added basic regexp support to ep.json post and pre values. That means that if a plugin should be run after all other plugins then, it can be done by using:  pre: [\"ep_*\"] . If there is a conflict for example pre: [\"ep_*\", post: [\"ep_etherpad-lite/static\"] then value that is stricter is used in that case all other plugins will be loaded before except for \u00b4ep_etherpad-lite/static\u00b4. @muxator, thank you. @muxator sorry for not updating the test. Not adding </li> was intentional as it is not required by standart. Also <ul> element is not allowed as child to <ul>. If you pass both results into https://validator.w3.org/nu/#textarea you'll see. So i'll update the expected value and it will be ok.  Created new pull request https://github.com/ether/etherpad-lite/pull/3408. @muxator I'll have to agree with you.\n\nDuring my time being involved with EP project I have found many places where code is written not following standards etc. For example many plugins that use buttons have hard coded html insertions instead of using register button/method functionalities, but yes that doesn't mean it is acceptable.\nI'll write new test. Not sure how yet, but I'll try to make something acceptable\n. \n",
    "rebborodin": "yes!\n. ",
    "j8r": "I don't know why the build failed :-/\n. ",
    "e-nemo": "I've made some search on Google and GitHub on this error but I found only old messages not exactly about the same problem. I've tried the user_pad plugin to manage users and groups but it doesn't seems to work on my etherpad (I can't create nor see API created users). The adminpads seems to work correctly. I see my group pad but when I click on it (http://localhost:9001/p/g.fxGo0Yr1gcpMVtQd$test2), I've got the same error.\nI've got another question. I want to share my instance of etherpad between several websites using a group per website. I've to pass the sessionID to etherpad. It works well when I set a cookie but I need to be on the same domain to do that. Is there a way to pass the sessionID from different domains?  (I saw things using reverse proxy but it's not a satisfying solution).\n. Ok, this is what I've done:\n1. I've installed etherpad-lite from the github repository\n2. I've configured it on host localhost and port 9001 with mysql backend\n3. I've test it on public pads and everything was ok\n4. Then I created a group, an author and a group pad using the etherpad-lite API thought the PHP etherpad-lite-client library (https://github.com/0x46616c6b/etherpad-lite-client) with a simple script:\n$eth = new \\EtherpadLite\\Client($ethkey, \"http://localhost:9001\");\ntry {\n  $mappedGroup = $eth->createGroupIfNotExistsFor(\"mygroup\")->getResponse();\n  $groupID = $mappedGroup['data']['groupID'];  \n} catch (Exception $e) {}\ntry {\n  $author = $eth->createAuthorIfNotExistsFor(\"myuser\", \"Captain Nemo\")->getResponse();\n  $authorID = $author['data']['authorID'];\n} catch (Exception $e) {}\ntry {\n  $pad = $eth->createGroupPad($groupID, \"mypad\", \"This is a group pad\")->getResponse();\n} catch (Exception $e) {}\nEverything was ok at this point. The group pad was successfully created. When I try to access to the pad by the url http://localhost:9001/p/g.fxGo0Yr1gcpMVtQd$mypad, I get the error\nError: The module at \"ep_etherpad-lite/static/js/pad.js\" does not exist.\nSource File: http://localhost:9001/static/js/require-kernel.js\nLine: 588\nI've got the same error on each group pad I've created. I also tried the perl client API with the same result...\n. Yes, I create a session to have a sessionID to pass to etherpad throught a cookie but that's not the point. If I don't have a valid sessionID cookie, I should have a message \"You do not have permission to access this pad\" not a js error.\n. It was just a part of the script. If you want the complete script you have to install 3 github libs:\ngit clone https://github.com/0x46616c6b/etherpad-lite-client.git\ngit clone https://github.com/guzzle/guzzle3.git\ngit close https://github.com/symfony/EventDispatcher.git\nThen the complete php script is:\n```\n<?php\nrequire('EventDispatcher/EventDispatcherInterface.php');\nrequire('EventDispatcher/EventSubscriberInterface.php');\nrequire('EventDispatcher/EventDispatcher.php');\nrequire('EventDispatcher/Event.php');\nrequire('guzzle3/src/Guzzle/Common/HasDispatcherInterface.php');\nrequire('guzzle3/src/Guzzle/Common/AbstractHasDispatcher.php');\nrequire('guzzle3/src/Guzzle/Common/ToArrayInterface.php');\nrequire('guzzle3/src/Guzzle/Common/Collection.php');\nrequire('guzzle3/src/Guzzle/Common/Version.php');\nrequire('guzzle3/src/Guzzle/Common/Event.php');\nrequire('guzzle3/src/Guzzle/Parser/UriTemplate/UriTemplateInterface.php');\nrequire('guzzle3/src/Guzzle/Parser/UriTemplate/UriTemplate.php');\nrequire('guzzle3/src/Guzzle/Parser/ParserRegistry.php');\nrequire('guzzle3/src/Guzzle/Stream/StreamInterface.php');\nrequire('guzzle3/src/Guzzle/Stream/Stream.php');\nrequire('guzzle3/src/Guzzle/Http/Message/MessageInterface.php');\nrequire('guzzle3/src/Guzzle/Http/Message/AbstractMessage.php');\nrequire('guzzle3/src/Guzzle/Http/Message/Response.php');\nrequire('guzzle3/src/Guzzle/Http/EntityBodyInterface.php');\nrequire('guzzle3/src/Guzzle/Http/EntityBody.php');\nrequire('guzzle3/src/Guzzle/Http/Curl/CurlMultiInterface.php');\nrequire('guzzle3/src/Guzzle/Http/Curl/CurlMulti.php');\nrequire('guzzle3/src/Guzzle/Http/Curl/CurlMultiProxy.php');\nrequire('guzzle3/src/Guzzle/Http/Curl/RequestMediator.php');\nrequire('guzzle3/src/Guzzle/Http/Curl/CurlHandle.php');\nrequire('guzzle3/src/Guzzle/Http/Curl/CurlVersion.php');\nrequire('guzzle3/src/Guzzle/Http/Url.php');\nrequire('guzzle3/src/Guzzle/Common/Exception/GuzzleException.php');\nrequire('guzzle3/src/Guzzle/Common/Exception/RuntimeException.php');\nrequire('guzzle3/src/Guzzle/Common/Exception/ExceptionCollection.php');\nrequire('guzzle3/src/Guzzle/Http/Exception/HttpException.php');\nrequire('guzzle3/src/Guzzle/Http/Exception/RequestException.php');\nrequire('guzzle3/src/Guzzle/Http/Exception/MultiTransferException.php');\nrequire('guzzle3/src/Guzzle/Http/Exception/CurlException.php');\nrequire('guzzle3/src/Guzzle/Http/Exception/BadResponseException.php');\nrequire('guzzle3/src/Guzzle/Http/QueryAggregator/QueryAggregatorInterface.php');\nrequire('guzzle3/src/Guzzle/Http/QueryAggregator/PhpAggregator.php');\nrequire('guzzle3/src/Guzzle/Http/QueryString.php');\nrequire('guzzle3/src/Guzzle/Http/Message/Header/HeaderFactoryInterface.php');\nrequire('guzzle3/src/Guzzle/Http/Message/Header/HeaderFactory.php');\nrequire('guzzle3/src/Guzzle/Http/Message/Header/HeaderCollection.php');\nrequire('guzzle3/src/Guzzle/Http/Message/Header/HeaderInterface.php');\nrequire('guzzle3/src/Guzzle/Http/Message/Header.php');\nrequire('guzzle3/src/Guzzle/Http/Message/RequestFactoryInterface.php');\nrequire('guzzle3/src/Guzzle/Http/Message/RequestFactory.php');\nrequire('guzzle3/src/Guzzle/Http/Message/RequestInterface.php');\nrequire('guzzle3/src/Guzzle/Http/Message/Request.php');\nrequire('guzzle3/src/Guzzle/Http/ClientInterface.php');\nrequire('guzzle3/src/Guzzle/Http/Client.php');\nrequire('guzzle3/src/Guzzle/Http/RedirectPlugin.php');\nrequire('etherpad-lite-client/src/EtherpadLite/Client.php');\nrequire('etherpad-lite-client/src/EtherpadLite/Request.php');\nrequire('etherpad-lite-client/src/EtherpadLite/Response.php');\n$ethkey='changeme';\n$eth = new \\EtherpadLite\\Client($ethkey, \"http://localhost:9001\");\ntry {\n  $mappedGroup = $eth->createGroupIfNotExistsFor(\"mygroup\")->getResponse();\n  $groupID = $mappedGroup['data']['groupID'];\n} catch (Exception $e) {}\ntry {\n  $author = $eth->createAuthorIfNotExistsFor(\"myuser\", \"Captain Nemo\")->getResponse();\n  $authorID = $author['data']['authorID'];\n} catch (Exception $e) {}\ntry {\n  $pad = $eth->createGroupPad($groupID, \"mypad\", \"This is a group pad\")->getResponse();\n} catch (Exception $e) {}\n?>\n```\nDon't forget to change the value of $ethkey with your API key. If you have the \"adminpads\" plugin, you will see the created group pad\n. I'm sorry but the script works well. The url to the api id handled by the etherpad php client. If you have another way to create a group pad, then use it instead of the php test script.\n. I followed the example at\nhttps://github.com/0x46616c6b/etherpad-lite-client\n. I try to set the cookie for sessionID and then it suppresses the error. I will be ok for the moment but I think the message \"You do not have permission to access this pad\" will be a better answer to the client than a js error when he didn't set the sessionID cookie.\nConcerning the etherpad php client, both 0x46616c6b and TomNomNom are cited in the official etherpad API page (https://github.com/ether/etherpad-lite/wiki/HTTP-API-client-libraries). I've tested the TomNomNom client and it works well too. The TomNomNom client is marked to support version 1.0 to 1.1.1 of etherpad and the 0x46616c6b is marked to support version 1.3. Maybe the API page have to be updated...\n. I've tried the fix and it suppresses the error.\n. correction: (we can't set cookie for a domain different than the web application one)\n. Yes reverse proxy is a solution but it's not simple for maitenance. When you deploy a web application on a server, you have to configure a reverse proxy for each application and open an extra port (ie. 9001 on the server). It's not necessairly possible on some client servers where you're just allowed to install your app on the 80 or 443 port.\nMaybe etherpad could check the cookie and if not present try to read an optional POST parameter sessionID (to avoid sessionD in webserver logs)? Could it be an alternative?\n. In fact, this is a little bit complicated to handle post parameters inside etherpad-lite as it's not persistent like cookie (for example when you switch to timeline. I've found a better way to solve the problem:\nInstead of editing directly the pad in the iframe, I use a kind of wrapper. It's a webserver on the same domain as the etherpad server but on port 80 or 443. I post a form with the wrapper as action and iframe as target like this:\n\n\n\n\n\n\ndocument.ep_form.submit();\n\n\nThe wrapper contains just an index.php (it could be coded with another language) that set the cookie and do the redirection:\n\nphp\n\n$sessionID = $_POST['sessionID'];\n$padURL =  $_POST['padURL'];\n\nif ($sessionID && $padURL) {\n  print '<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"'.\"\\n\";\n  print ''.\"\\n\";\n  print ''.\"\\n\";\n  print ''.\"\\n\";\n  print ''.\"\\n\";\n  print ''.\"\\n\";\n  print ''.\"\\n\";\n  print 'document.cookie = \"sessionID='.$sessionID.';path=/;\";'.\"\\n\";\n  print 'document.location.href=\"'.$padURL.'\";'.\"\\n\";\n  print ''.\"\\n\";\n  print ''.\"\\n\";\n  print ''.\"\\n\";\n }\n\nYou can now use the myetherpad wrapper from several domains.\n\nI hope it could help...\n. Sorry for the bad inline code, this is the correct one\n\n```\nphp\n\n$sessionID = $_POST['sessionID'];\n$padURL =  $_POST['padURL'];\n\nif ($sessionID && $padURL) {\n  print '<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"'.\"\\n\";\n  print ''.\"\\n\";\n  print ''.\"\\n\";\n  print ''.\"\\n\";\n  print ''.\"\\n\";\n  print ''.\"\\n\";\n  print ''.\"\\n\";\n  print 'document.cookie = \"sessionID='.$sessionID.';path=/;\";'.\"\\n\";\n  print 'document.location.href=\"'.$padURL.'\";'.\"\\n\";\n  print ''.\"\\n\";\n  print ''.\"\\n\";\n  print ''.\"\\n\";\n }\n```\n.",
    "danneu": "Trivial to reproduce: \n- Launch server: git clone https://github.com/ether/etherpad-lite.git && cd etherpad-lite && bin/run.sh\n- Create an author, group, and pad for that group via API\n- Navigate to pad: http://localhost:9001/p/g.f3cfA9ziX13rbQBX$Initial_Pad\nCrash:\n[ERROR] console - Error: Cannot find module 'ep_etherpad-lite/templates/pad.html'\n- Create session between author and group\n- Set sessionID cookie: document.cookie = 'sessionID=...'\n- Refresh the pad's page: http://localhost:9001/p/g.f3cfA9ziX13rbQBX$Initial_Pad\nNo more error. The pad loads.\n. @JohnMcLear Yes. Whoops, I just realized @e-nemo confirmed this.\n. ",
    "mwarner": "Sorry, I had the url in there, but edited it out when I removed the info about IE10 not loading.    This malformed tag is there as soon as the page loads.  I've found it in IE10, FF35, and Chrome whatever's-the-latest.\nThe url is https://beta.etherpad.org/p/12345.  It's not in https://v.etherpad.org/p/12345, so I guess that it's part of the text alignment code.  Is that a plugin, so I should enter the bug in a different place?\n. Will do, John.  I wasn't sure that it was a plugin issue at first, as I'd\nstarted to report that Etherpad won't load in my IE10, but changed topics\nonce I found that issue.\nMike Warner\nDirector of IT Services\nMindEdge, Inc.\n2015-02-08 9:53 GMT-05:00 John McLear notifications@github.com:\n\nIn the future please create issues on plugin repos :) Thanks!\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/2506#issuecomment-73414007\n.\n. \n",
    "Matael": "Actually, my database doesn't seem to have issues. Even if EPL crashes, the first character you type is inserted in the database record too.\n. @webzwo0i I'll try that as soon as i have a little bit of time. Actually i'm pretty new to node and i don't have the time to dive in the different versions and stuff. I read in the EPL doc \"Additionally, you'll need node.js installed, Ideally the latest stable version, we recommend installing/compiling nodejs from source (avoiding apt).\" I tried 0.12, and it didn't work, so I switched back to 0.11...\nI'll try with 0.10 and see what happens. Thanks for your help.\n. ",
    "sohilfynd": "@Yaco Did you solve the issue?. ",
    "RubenKelevra": "My Pad-Installation seems to have some serious bugs now, how do I fix this:\n# mysql -u user -D database -h dbserver -p -e 'select key from store where key like \"pad:%:revs:1\";'|sed -e 's/:revs:[0-9]*$//g'|sed -e 's/^pad://g'|xargs -L1 node ./bin/checkPad.js\nEnter password: \n[2015-09-13 13:00:00.994] [ERROR] console - Pad does not exist\n[2015-09-13 13:01:14.509] [ERROR] console - Bad changeset at revision 334 - Cannot read property 'changeset' of null\n[2015-09-13 13:01:14.635] [ERROR] console - Bad changeset at revision 464 - Cannot read property 'changeset' of null\n[2015-09-13 13:02:45.444] [ERROR] console - Bad changeset at revision 3562 - Cannot read property 'changeset' of null\n/usr/share/webapps/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/Parser.js:82\n        throw err;\n              ^\nTypeError: Cannot read property 'meta' of null\n    at /usr/share/webapps/etherpad-lite/bin/checkPad.js:103:64\n    at done (/usr/share/webapps/etherpad-lite/src/node_modules/async/lib/async.js:135:19)\n    at /usr/share/webapps/etherpad-lite/src/node_modules/async/lib/async.js:32:16\n    at Object.callback (/usr/share/webapps/etherpad-lite/bin/checkPad.js:85:11)\n    at /usr/share/webapps/etherpad-lite/src/node_modules/ueberDB/CloneAndAtomicLayer.js:100:17\n    at /usr/share/webapps/etherpad-lite/src/node_modules/ueberDB/CacheAndBufferLayer.js:185:7\n    at Query._callback (/usr/share/webapps/etherpad-lite/src/node_modules/ueberDB/mysql_db.js:115:5)\n    at Query.Sequence.end (/usr/share/webapps/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/sequences/Sequence.js:96:24)\n    at Query._handleFinalResultPacket (/usr/share/webapps/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/sequences/Query.js:144:8)\n    at Query.EofPacket (/usr/share/webapps/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/sequences/Query.js:128:8)\n[2015-09-13 13:05:51.575] [ERROR] console - Pad does not exist\n[2015-09-13 13:06:05.726] [ERROR] console - Pad does not exist\nxargs: unmatched einfache quote; by default quotes are special to xargs unless you use the -0 option\n. Copy n Paste seems to work only in 1.5.2 in 1.5.7 is it nearly completly broken. I had to downgrade my pad, please fix it!\nIn the ctrl+v the text appears but it seems that the server connection is never been notified by the change, and any following one. So the text and any following changes will be lost.\n. No comments?\n. Thanks, created there a bug as well...\nhttps://github.com/Pita/ueberDB/issues/86\n. Since this seems so clear to you, that you close the bugreport without waiting for a response please spot out the missing button here:\nhttp://i.imgur.com/NoY1D3P.png\n. Well, I didn't change anything between 1.5.2 and 1.5.7, especially not on the translations ... so this bug has to be caused by changes in the german translation between this two versions.\n. Well I don't want to change anything in the design-code. I'm waiting for the next update, which I think is going to be released soon, since this bug here is a blocker. :)\nI think in my setup the back to pad-button is used very rarely... so I think in my case it's not that important.\n. This seems to be a broken pad which causes the error ...\nAn error occured\nThe error was reported with the following id: 'MBceVEPUIHYjLdFoVpV4'\nPlease press and hold Ctrl and press F5 to reload this page, if the problem persists please send this error message to your webmaster:\n'ErrorId: MBceVEPUIHYjLdFoVpV4\nURL: https://padurl.com/p/padname\nUserAgent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/45.0.2454.85 Safari/537.36\nUncaught TypeError: Cannot read property 'setChannelState' of null in https://pad.freifunk.net/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define at line 254'\nI removed the url\n. Still this Bug is a BLOCKER for our Etherpad-Lite installation, is it restarted several HUNDRED TIMES a day... a fast fix for this issue is very much appreciated!\nBest regards and thanks in advance\nRuben\n. Nope. No loggs while opening the pad or scrolling thru the empty timeline...\n. ",
    "mikkorantalainen": "Any progress with UNICODE characters above U+FFFF? Newer mobile OS versions provide an easy input method for emotions and other characters above U+FFFF so this is getting pretty normal.\n. I didn't either. Fortunately ueberDB is an open source project so I just read enough source code to understand the \"supported\" features. Mysql-lib was documented well enough that the only thing required was to figure out which configuration parameter to modify.\n. I didn't either. Fortunately ueberDB is an open source project so I just read enough source code to understand the \"supported\" features. Mysql-lib was documented well enough that the only thing required was to figure out which configuration parameter to modify.\n. ",
    "cboylan": "We just hit this ourselves. Would it also be possible to not kill the entire server when etherpad-lite runs into issues like this? Can it return an HTTP 500 error for the specific etherpad but otherwise let the rest of the server continue running? As is it got into a restart loop where JSON-PROBLEM occurs, etherpad-lite gracefully shuts down, init starts it up again only to run into the same JSON-PROBLEM.\n. I am not sure this completely fixes the issue. After upgrading to MySQL 5.6 and performing the DB conversion as described in https://github.com/ether/etherpad-lite/wiki/How-to-use-Etherpad-Lite-with-MySQL I see console errors from the client running in chromium:\nUncaught Error: Failed assertion: Invalid changeset (checkRep failed) VM747:5871\nerror VM747:5871\nassert VM747:5885\nexports.checkRep VM747:6116\nsetDocAText VM747:765\nmakeChangesetTracker.withCallbacks.f.setDocumentAttributedText VM747:198\n(anonymous function) VM747:10197\n(anonymous function) VM747:194\ninCallStack VM747:471\ninCallStackIfNecessary VM747:540\nmakeChangesetTracker.withCallbacks VM747:191\nself.setBaseAttributedText VM747:10183\neditorInfo.ace_setBaseAttributedText VM747:997\n(anonymous function) VM747:5476\nThis is running the latest commit on the develop branch (2bf16fe09fe9a6af804666d15ff4704620369d9f). It looks like the client is breaking on the encoding if the pad has 4 byte utf8 characters. The chat window does load and works properly but the pad content and the control bar over the top do not load, instead we just get the \"Loading...\" text.\nI do note that the service itself continues to run rather than restarting in a loop and pads without the 4 byte characters work fine. So this is an improvement but it doesn't fix all of the issues and can still DoS specific pads.\n. Pull request made at https://github.com/ether/etherpad-lite/pull/2675 (there was probably a better way to link the request and issue but I fail, sorry).\n. This should be fixed by Pull Request #2675 so closing this issue now.\n. Awesome, are you looking for me to do those additional things? I am a bit busy right now but can take a stab at them this weekend if no one else beats me to it.\n. The frontend tests pass for me but the backend tests do not:\n\n[2015-05-26 11:15:47.133] [INFO] console -   1) listSavedRevisions gets saved revision list of Pad:\n     Error: Incorrect Saved Revisions List\n      at tests/backend/specs/api/pad.js:136:58\n      at _stream_readable.js:908:16\n[2015-05-26 11:15:47.134] [INFO] console -   2) listSavedRevisions gets saved revision list of Pad:\n     Error: Incorrect Saved Revisions List\n      at tests/backend/specs/api/pad.js:259:59\n      at _stream_readable.js:908:16\n\nSo I guess next step is debugging that.\n. Sorry had some family things that sidelined me for a while (still a bit busy with that but starting to get back to normal), will try to pick this up again soon. My initial results seemed to indicate that the tests run against HEAD failed too, so maybe a setup issue, or HEAD is broken, or my test env tickles things in a funny way.\nIs anyone else at least able to confirm that backend tests run against HEAD work for them? That would help prevent me chasing unrelated failures if they do fail against HEAD.\n. I had to rebase onto the latest version of develop. The previous HEAD~1 was not passing backend tests either but current develop does as does this patch atop current develop.\nSo at this point we have working frontend and backend tests. For load testing looks like I flip the settings.json boolean then run a load tester against the service. Any particular load tester you prefer?\nI am not sure what you mean by \"Test Read Only pad Ids (including changing name when on read only pad)\", have a larger doc I can look at to figure that out?\n. Load testing looks good to me:\nLoad Test Metrics -- Target Pad http://localhost:9001/p/vJypSdtZVb \nClients Connected: 468\nAuthors Connected: 117\nLurkers Connected: 351\nSent Append messages: 33359\nCommits accepted by server: 33258\nCommits sent from Server to Client: 78529\nNumber of commits not yet replied as ACCEPT_COMMIT from server 101\n. And group pads seem to work:\ncurl http://localhost:9001/api/1/createGroup?apikey=secret\n[2015-06-24 16:29:36.159] [INFO] API - REQUEST, v1:createGroup, {\"apikey\":\"secret\"}\n[2015-06-24 16:29:36.160] [INFO] API - RESPONSE, createGroup, {\"code\":0,\"message\":\"ok\",\"data\":{\"groupID\":\"g.ZD9b7HVSx6qgDZ9Q\"}}\ncurl 'http://localhost:9001/api/1/createGroupPad?apikey=secret&groupID=g.ZD9b7HVSx6qgDZ9Q&padName=clarkbTestPad&text=foobar'\n[2015-06-24 16:31:06.984] [INFO] API - REQUEST, v1:createGroupPad, {\"apikey\":\"secret\",\"groupID\":\"g.ZD9b7HVSx6qgDZ9Q\",\"padName\":\"clarkbTestPad\",\"text\":\"foobar\"}\n[2015-06-24 16:31:06.987] [INFO] API - RESPONSE, createGroupPad, {\"code\":0,\"message\":\"ok\",\"data\":{\"padID\":\"g.ZD9b7HVSx6qgDZ9Q$clarkbTestPad\"}}\n. ",
    "simsasaile": "Also hitting this issue. Is there any way to rescue the pads data? It's quite important for me.\n. Hi webzwo0i,\nthank you for your advise, unfortunately this leads also to a shutdown of etherpad in my case. But it's ok, I used a two day old backup of my database to recover most information of my pad.\n. ",
    "danfowler": "Ran into this myself.  Have a backup, so I tried to use the deletePad API method, but it failed, too.\n[2016-09-07 21:18:30.395] [INFO] API - RESPONSE, deletePad, {\"code\":2,\"message\":\"internal error\",\"data\":null}\n. ",
    "helioloureiro": "From times to times I'm hit by this problem as well.  It would be nice if etherpad could handle the error and display some message instead just crash.  It kills all other pads just because of one.. Hi,\nI just tripped in this problem today, upgrading etherpad-lite.  The proposed solution didn't work.\nI just commented the line w/ such statement in src/templates/timeslider.html and it worked.\n[root@server etherpad-lite]# cat -n src/templates/timeslider.html | grep kernel\n   222   <script type=\"text/javascript\" src=\"../../static/js/require-kernel.js\"></script> \n[\n. Hi,\nThanks for the prompt response.  I got this.\nUncaught ReferenceError: require is not defined(anonymous function) @ timeslider:241(anonymous function) @ timeslider:271\nhtml10n.js:173 XHR finished loading: GET \"http://etherpad/locales.json\".window.html10n.Loader.fetch @ html10n.js:173window.html10n.Loader.load @ html10n.js:137(anonymous function) @ html10n.js:897asyncForEach @ html10n.js:717window.html10n.html10n.build @ html10n.js:895window.html10n.html10n.localize @ html10n.js:689(anonymous function) @ l10n.js:7window.html10n.MicroEvent.trigger @ html10n.js:104window.html10n.html10n.index @ html10n.js:963(anonymous function) @ html10n.js:968\n. It can be closed.  For some reason someone (maybe me) commented the line on timeslider.js which was importing require-kernel.js.\n <script type=\"text/javascript\" src=\"../../static/js/require-kernel.js\"></script> \n./src/templates/timeslider.html\n. Facing the same issue.  I just wrote a perl script to parse the logs and check the number of active pads between crashes, as enters and leaves:\nREPORTING AT CRASH\nTotal pads: 11\nTotal enters: 365\nTotal leaves: 344\nREPORTING AT CRASH\nTotal pads: 76\nTotal enters: 696\nTotal leaves: 566\nREPORTING AT CRASH\nTotal pads: 102\nTotal enters: 930\nTotal leaves: 681\nREPORTING AT CRASH\nTotal pads: 121\nTotal enters: 1050\nTotal leaves: 735\nSo it is quite active.  My errors:\n[2018-12-10 05:09:47.332] [ERROR] console - RangeError: Maximum call stack size exceeded\n    at writeToEngine (/var/etherpad-lite-1.6.6/src/node_modules/socket.io/lib/client.js:149:17)\n    at /var/etherpad-lite-1.6.6/src/node_modules/socket.io/lib/client.js:157:9\n    at Encoder.encode (/var/etherpad-lite-1.6.6/src/node_modules/socket.io/node_modules/socket.io-parser/index.js:134:5)\n    at Client.packet (/var/etherpad-lite-1.6.6/src/node_modules/socket.io/lib/client.js:156:20)\n    at Socket.packet (/var/etherpad-lite-1.6.6/src/node_modules/socket.io/lib/socket.js:223:15)\n    at Socket.emit (/var/etherpad-lite-1.6.6/src/node_modules/socket.io/lib/socket.js:168:12)\n    at Socket.send.Socket.write (/var/etherpad-lite-1.6.6/src/node_modules/socket.io/lib/socket.js:207:13)\n    at Socket.client.send (/var/etherpad-lite-1.6.6/src/node/handler/SocketIORouter.js:76:14)\n    at /var/etherpad-lite-1.6.6/src/node/handler/PadMessageHandler.js:1238:25\n    at iterate (/var/etherpad-lite-1.6.6/src/node_modules/async/lib/async.js:149:13)\n[2018-12-10 05:09:47.333] [INFO] console - graceful shutdown...\n[2018-12-10 05:09:47.344] [INFO] console - db sucessfully closed.\nSo running on etherpad-lite-1.6.6, node 8.11.3 and npm 5.6.0.  And very often crash/restarts.. ",
    "smartmouse": "Thank you, You are right, If I use different browser, a chrome, a firefox and an IE, it will not disconnect.\nInteresting design, Thanks for letting me know.\n. Thank you so much for your prompt reply.\n. ",
    "Kurounin": "I created a plugin that solves this problem, by adding a new route which accepts as parameters sessionID and padName https://www.npmjs.com/package/ep_auth_session\n. ",
    "kostaspa": "The above code does not work on most of safari browsers due to their default option for cookies, which is not to accept cookies from other websites. So, now, the only solution I guess is to run etherpad under the same domain name that your website that embeds etherpad is.. Do you have set the minify option in settings to true? If yes, then set it to false, restart your etherpad from the server and then try again. Maybe this is the cause of the problem.. Hi @lpagliari ,\nthat is pretty close to what I'm looking for, but i need to download through the API, the exact file that is being generated from that link < your domain >/p/< padID >/export/etherpad ,  which i can find it only when i'm accessing the pad. \nThank you,\nCostas. ok, to be honest im not in a hurry, cause i found another way to take this file, but i thought it would be nice implementation for the api and much more convenient.. @raybellis Yes, this is what am I doing, I am accessing the export url directly, but there is a cost for that, i have to create a user through the api that has access to the pad and after that, i am able to take the content. Despite that, the functionality already exists, so maybe it's not a big deal to add an entry, on the api. Other than that, i'm ok with that. Thanks for your interest!. Do you think that there is any temporary solution?\nI tried the below code on the file src/static/custom/pad.js but still does not  work.\n```\nfunction customStart()\n{\n  var urlParams = new URLSearchParams(window.location.search);\n  var showChat = urlParams.get('showChat');\nif(showChat == 'true'){\n    document.getElementById('chatbox').style.display = 'none';\n    document.getElementById('chaticon').style.display = 'none';  \n  }\n}\n```\nCan someone help me?\nThank you in Advance.\n. I found a temporary solution, I comment out the lines with he following code from the file /src/static/js/pad.js\nif(padcookie.getPref(\"chatAlwaysVisible\")){ // if we have a cookie for always showing chat then show it\n        chat.stickToScreen(true); // stick it to the screen\n         $('#options-stickychat').prop(\"checked\", true); // set the checkbox to on\n      }\nIf you a better solution, it would be great,\nthank you in advance!. @JohnMcLear  thank you! What do you think about the solution, can this code be in some kind of plugin?. ",
    "marcgebauer": "already tried. no changes.\n. i installed a new instance of node.js and did ad git-clone of the etherpad-repo right now. The error remains.\n```\nAn error occured while loading the pad\nNS_ERROR_FAILURE: in http://10.34.10.90:9001/static/js/require-kernel.js (line 293)\nChat 0\n```\nHere is the output of the initial startup - there is an error compilng a module, i don't know if this is important (because etherpad in the admin-section is working without any error)\n```\n-bash-4.1$ bin/run.sh\nCopy the settings template to settings.json...\nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\n\nws@0.5.0 install /usr/local/etherpad/etherpad-lite/src/node_modules/socket.io/node_modules/engine.io/node_modules/ws\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nmake: Entering directory /usr/local/etherpad/etherpad-lite/src/node_modules/socket.io/node_modules/engine.io/node_modules/ws/build'\n  CXX(target) Release/obj.target/bufferutil/src/bufferutil.o\n  SOLINK_MODULE(target) Release/obj.target/bufferutil.node\n  SOLINK_MODULE(target) Release/obj.target/bufferutil.node: Finished\n  COPY Release/bufferutil.node\n  CXX(target) Release/obj.target/validation/src/validation.o\n  SOLINK_MODULE(target) Release/obj.target/validation.node\n  SOLINK_MODULE(target) Release/obj.target/validation.node: Finished\n  COPY Release/validation.node\nmake: Leaving directory/usr/local/etherpad/etherpad-lite/src/node_modules/socket.io/node_modules/engine.io/node_modules/ws/build'\n\nws@0.4.31 install /usr/local/etherpad/etherpad-lite/src/node_modules/socket.io/node_modules/socket.io-client/node_modules/engine.io-client/node_modules/ws\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nmake: Entering directory /usr/local/etherpad/etherpad-lite/src/node_modules/socket.io/node_modules/socket.io-client/node_modules/engine.io-client/node_modules/ws/build'\n  CXX(target) Release/obj.target/bufferutil/src/bufferutil.o\nmake: Leaving directory/usr/local/etherpad/etherpad-lite/src/node_modules/socket.io/node_modules/socket.io-client/node_modules/engine.io-client/node_modules/ws/build'\n\nmicrotime@0.4.0 install /usr/local/etherpad/etherpad-lite/src/node_modules/ueberDB/node_modules/helenus/node_modules/microtime\nnode-gyp rebuild\n\nchild_process: customFds option is deprecated, use stdio instead.\nmake: Entering directory /usr/local/etherpad/etherpad-lite/src/node_modules/ueberDB/node_modules/helenus/node_modules/microtime/build'\n  CXX(target) Release/obj.target/microtime/src/microtime.o\n../src/microtime.cc:40: error: ISO C++ forbids declaration of \u2018Arguments\u2019 with no type\n../src/microtime.cc:40: error: expected \u2018,\u2019 or \u2018...\u2019 before \u2018&\u2019 token\n/usr/local/etherpad/.node-gyp/0.12.0/deps/v8/include/v8.h: In function \u2018v8::Handle<v8::Value> Now(int)\u2019:\n/usr/local/etherpad/.node-gyp/0.12.0/deps/v8/include/v8.h:816: error: \u2018v8::HandleScope::HandleScope()\u2019 is protected\n../src/microtime.cc:41: error: within this context\n../src/microtime.cc:47: error: \u2018ThrowException\u2019 was not declared in this scope\n../src/microtime.cc:50: error: \u2018class v8::HandleScope\u2019 has no member named \u2018Close\u2019\n../src/microtime.cc:50: error: no matching function for call to \u2018v8::Number::New(double)\u2019\n/usr/local/etherpad/.node-gyp/0.12.0/deps/v8/include/v8.h:1999: note: candidates are: static v8::Local<v8::Number> v8::Number::New(v8::Isolate*, double)\n../src/microtime.cc: At global scope:\n../src/microtime.cc:53: error: ISO C++ forbids declaration of \u2018Arguments\u2019 with no type\n../src/microtime.cc:53: error: expected \u2018,\u2019 or \u2018...\u2019 before \u2018&\u2019 token\n/usr/local/etherpad/.node-gyp/0.12.0/deps/v8/include/v8.h: In function \u2018v8::Handle<v8::Value> NowDouble(int)\u2019:\n/usr/local/etherpad/.node-gyp/0.12.0/deps/v8/include/v8.h:816: error: \u2018v8::HandleScope::HandleScope()\u2019 is protected\n../src/microtime.cc:54: error: within this context\n../src/microtime.cc:60: error: \u2018ThrowException\u2019 was not declared in this scope\n../src/microtime.cc:63: error: \u2018class v8::HandleScope\u2019 has no member named \u2018Close\u2019\n../src/microtime.cc:63: error: no matching function for call to \u2018v8::Number::New(double)\u2019\n/usr/local/etherpad/.node-gyp/0.12.0/deps/v8/include/v8.h:1999: note: candidates are: static v8::Local<v8::Number> v8::Number::New(v8::Isolate*, double)\n../src/microtime.cc: At global scope:\n../src/microtime.cc:66: error: ISO C++ forbids declaration of \u2018Arguments\u2019 with no type\n../src/microtime.cc:66: error: expected \u2018,\u2019 or \u2018...\u2019 before \u2018&\u2019 token\n/usr/local/etherpad/.node-gyp/0.12.0/deps/v8/include/v8.h: In function \u2018v8::Handle<v8::Value> NowStruct(int)\u2019:\n/usr/local/etherpad/.node-gyp/0.12.0/deps/v8/include/v8.h:816: error: \u2018v8::HandleScope::HandleScope()\u2019 is protected\n../src/microtime.cc:67: error: within this context\n../src/microtime.cc:73: error: \u2018ThrowException\u2019 was not declared in this scope\n../src/microtime.cc:76: error: invalid conversion from \u2018int\u2019 to \u2018v8::Isolate*\u2019\n../src/microtime.cc:76: error:   initializing argument 1 of \u2018static v8::Local<v8::Array> v8::Array::New(v8::Isolate*, int)\u2019\n../src/microtime.cc:77: error: no matching function for call to \u2018v8::Integer::New(int)\u2019\n/usr/local/etherpad/.node-gyp/0.12.0/deps/v8/include/v8.h:2012: note: candidates are: static v8::Local<v8::Integer> v8::Integer::New(v8::Isolate*, int32_t)\n../src/microtime.cc:77: error: no matching function for call to \u2018v8::Integer::New(__time_t&)\u2019\n/usr/local/etherpad/.node-gyp/0.12.0/deps/v8/include/v8.h:2012: note: candidates are: static v8::Local<v8::Integer> v8::Integer::New(v8::Isolate*, int32_t)\n../src/microtime.cc:78: error: no matching function for call to \u2018v8::Integer::New(int)\u2019\n/usr/local/etherpad/.node-gyp/0.12.0/deps/v8/include/v8.h:2012: note: candidates are: static v8::Local<v8::Integer> v8::Integer::New(v8::Isolate*, int32_t)\n../src/microtime.cc:78: error: no matching function for call to \u2018v8::Integer::New(__suseconds_t&)\u2019\n/usr/local/etherpad/.node-gyp/0.12.0/deps/v8/include/v8.h:2012: note: candidates are: static v8::Local<v8::Integer> v8::Integer::New(v8::Isolate*, int32_t)\n../src/microtime.cc:80: error: \u2018class v8::HandleScope\u2019 has no member named \u2018Close\u2019\n/usr/local/etherpad/.node-gyp/0.12.0/deps/v8/include/v8.h: In function \u2018void init(v8::Handle<v8::Object>)\u2019:\n/usr/local/etherpad/.node-gyp/0.12.0/deps/v8/include/v8.h:816: error: \u2018v8::HandleScope::HandleScope()\u2019 is protected\n../src/microtime.cc:85: error: within this context\n../src/microtime.cc:87: error: no matching function for call to \u2018NODE_SET_METHOD(v8::Handle<v8::Object>&, const char [4], v8::Handle<v8::Value> (&)(int))\u2019\n../src/microtime.cc:88: error: no matching function for call to \u2018NODE_SET_METHOD(v8::Handle<v8::Object>&, const char [10], v8::Handle<v8::Value> (&)(int))\u2019\n../src/microtime.cc:89: error: no matching function for call to \u2018NODE_SET_METHOD(v8::Handle<v8::Object>&, const char [10], v8::Handle<v8::Value> (&)(int))\u2019\nmake: *** [Release/obj.target/microtime/src/microtime.o] Error 1\nmake: Leaving directory/usr/local/etherpad/etherpad-lite/src/node_modules/ueberDB/node_modules/helenus/node_modules/microtime/build'\ngyp ERR! build error\ngyp ERR! stack Error: make failed with exit code: 2\ngyp ERR! stack     at ChildProcess.onExit (/usr/local/etherpad/node-v0.12.0-linux-x64/lib/node_modules/npm/node_modules/node-gyp/lib/build.js:267:23)\ngyp ERR! stack     at ChildProcess.emit (events.js:110:17)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (child_process.js:1067:12)\ngyp ERR! System Linux 2.6.32-504.8.1.el6.x86_64\ngyp ERR! command \"node\" \"/usr/local/etherpad/node-v0.12.0-linux-x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\" \"rebuild\"\ngyp ERR! cwd /usr/local/etherpad/etherpad-lite/src/node_modules/ueberDB/node_modules/helenus/node_modules/microtime\ngyp ERR! node -v v0.12.0\ngyp ERR! node-gyp -v v1.0.2\ngyp ERR! not ok\nnpm WARN optional dep failed, continuing microtime@0.4.0\nchannels@0.0.4 node_modules/channels\nsecurity@1.0.0 node_modules/security\nasync-stacktrace@0.0.2 node_modules/async-stacktrace\nslide@1.1.6 node_modules/slide\ngraceful-fs@3.0.5 node_modules/graceful-fs\ntinycon@0.0.1 node_modules/tinycon\nformidable@1.0.16 node_modules/formidable\nasync@0.9.0 node_modules/async\nunderscore@1.5.1 node_modules/underscore\netherpad-require-kernel@1.0.8 node_modules/etherpad-require-kernel\nlanguages4translatewiki@0.1.3 node_modules/languages4translatewiki\nunorm@1.3.3 node_modules/unorm\nsemver@4.2.0 node_modules/semver\nejs@1.0.0 node_modules/ejs\nmeasured@1.0.0 node_modules/measured\n\u2514\u2500\u2500 inherits@2.0.1\nresolve@1.1.0 node_modules/resolve\netherpad-yajsml@0.0.2 node_modules/etherpad-yajsml\nsupertest@0.15.0 node_modules/supertest\n\u251c\u2500\u2500 methods@1.1.1\n\u2514\u2500\u2500 superagent@0.21.0 (extend@1.2.1, methods@1.0.1, cookiejar@2.0.1, component-emitter@1.1.2, reduce-component@1.0.1, qs@1.2.0, mime@1.2.11, debug@2.1.2, readable-stream@1.0.27-1, form-data@0.1.3, formidable@1.0.14)\nlog4js@0.6.22 node_modules/log4js\n\u251c\u2500\u2500 semver@1.1.4\n\u251c\u2500\u2500 async@0.2.10\n\u2514\u2500\u2500 readable-stream@1.0.33 (isarray@0.0.1, inherits@2.0.1, string_decoder@0.10.31, core-util-is@1.0.1)\nclean-css@3.0.8 node_modules/clean-css\n\u251c\u2500\u2500 commander@2.5.1\n\u2514\u2500\u2500 source-map@0.1.43 (amdefine@0.1.0)\nconnect@2.7.11 node_modules/connect\n\u251c\u2500\u2500 fresh@0.1.0\n\u251c\u2500\u2500 cookie-signature@1.0.1\n\u251c\u2500\u2500 pause@0.0.1\n\u251c\u2500\u2500 buffer-crc32@0.2.1\n\u251c\u2500\u2500 qs@0.6.5\n\u251c\u2500\u2500 bytes@0.2.0\n\u251c\u2500\u2500 cookie@0.0.5\n\u251c\u2500\u2500 debug@2.1.2 (ms@0.7.0)\n\u251c\u2500\u2500 send@0.1.1 (range-parser@0.0.4, mime@1.2.11)\n\u2514\u2500\u2500 formidable@1.0.14\nuglify-js@2.4.16 node_modules/uglify-js\n\u251c\u2500\u2500 uglify-to-browserify@1.0.2\n\u251c\u2500\u2500 async@0.2.10\n\u251c\u2500\u2500 optimist@0.3.7 (wordwrap@0.0.2)\n\u2514\u2500\u2500 source-map@0.1.34 (amdefine@0.1.0)\nmocha@2.1.0 node_modules/mocha\n\u251c\u2500\u2500 escape-string-regexp@1.0.2\n\u251c\u2500\u2500 diff@1.0.8\n\u251c\u2500\u2500 growl@1.8.1\n\u251c\u2500\u2500 commander@2.3.0\n\u251c\u2500\u2500 debug@2.0.0 (ms@0.6.2)\n\u251c\u2500\u2500 mkdirp@0.5.0 (minimist@0.0.8)\n\u251c\u2500\u2500 glob@3.2.3 (inherits@2.0.1, graceful-fs@2.0.3, minimatch@0.2.14)\n\u2514\u2500\u2500 jade@0.26.3 (commander@0.6.1, mkdirp@0.3.0)\nrequest@2.53.0 node_modules/request\n\u251c\u2500\u2500 caseless@0.9.0\n\u251c\u2500\u2500 json-stringify-safe@5.0.0\n\u251c\u2500\u2500 forever-agent@0.5.2\n\u251c\u2500\u2500 aws-sign2@0.5.0\n\u251c\u2500\u2500 form-data@0.2.0\n\u251c\u2500\u2500 stringstream@0.0.4\n\u251c\u2500\u2500 oauth-sign@0.6.0\n\u251c\u2500\u2500 tunnel-agent@0.4.0\n\u251c\u2500\u2500 isstream@0.1.1\n\u251c\u2500\u2500 node-uuid@1.4.2\n\u251c\u2500\u2500 qs@2.3.3\n\u251c\u2500\u2500 combined-stream@0.0.7 (delayed-stream@0.0.5)\n\u251c\u2500\u2500 mime-types@2.0.9 (mime-db@1.7.0)\n\u251c\u2500\u2500 http-signature@0.10.1 (assert-plus@0.1.5, asn1@0.1.11, ctype@0.5.3)\n\u251c\u2500\u2500 bl@0.9.4 (readable-stream@1.0.33)\n\u251c\u2500\u2500 tough-cookie@0.12.1 (punycode@1.3.2)\n\u2514\u2500\u2500 hawk@2.3.1 (cryptiles@2.0.4, sntp@1.0.9, boom@2.6.1, hoek@2.11.1)\njsonminify@0.2.3 node_modules/jsonminify\ncheerio@0.18.0 node_modules/cheerio\n\u251c\u2500\u2500 dom-serializer@0.0.1 (domelementtype@1.1.3)\n\u251c\u2500\u2500 entities@1.1.1\n\u251c\u2500\u2500 htmlparser2@3.8.2 (domelementtype@1.1.3, domutils@1.5.1, entities@1.0.0, domhandler@2.3.0, readable-stream@1.1.13)\n\u251c\u2500\u2500 CSSselect@0.4.1 (domutils@1.4.3, CSSwhat@0.4.7)\n\u2514\u2500\u2500 lodash@2.4.1\nswagger-node-express@2.1.3 node_modules/swagger-node-express\n\u2514\u2500\u2500 lodash@1.3.1\nwd@0.3.11 node_modules/wd\n\u251c\u2500\u2500 vargs@0.1.0\n\u251c\u2500\u2500 q@1.0.1\n\u251c\u2500\u2500 underscore.string@2.3.3\n\u251c\u2500\u2500 lodash@2.4.1\n\u251c\u2500\u2500 request@2.46.0 (caseless@0.6.0, json-stringify-safe@5.0.0, aws-sign2@0.5.0, forever-agent@0.5.2, stringstream@0.0.4, tunnel-agent@0.4.0, oauth-sign@0.4.0, qs@1.2.2, node-uuid@1.4.2, mime-types@1.0.2, bl@0.9.4, http-signature@0.10.1, tough-cookie@0.12.1, form-data@0.1.4, hawk@1.1.1)\n\u2514\u2500\u2500 archiver@0.12.0 (buffer-crc32@0.2.5, lazystream@0.1.0, readable-stream@1.0.33, zip-stream@0.4.1, tar-stream@1.0.2, glob@4.0.6)\nexpress@3.8.1 node_modules/express\n\u251c\u2500\u2500 parseurl@1.0.1\n\u251c\u2500\u2500 merge-descriptors@0.0.2\n\u251c\u2500\u2500 cookie@0.1.2\n\u251c\u2500\u2500 debug@0.8.1\n\u251c\u2500\u2500 cookie-signature@1.0.3\n\u251c\u2500\u2500 fresh@0.2.2\n\u251c\u2500\u2500 range-parser@1.0.0\n\u251c\u2500\u2500 methods@1.0.0\n\u251c\u2500\u2500 buffer-crc32@0.2.1\n\u251c\u2500\u2500 commander@1.3.2 (keypress@0.1.0)\n\u251c\u2500\u2500 proxy-addr@1.0.0 (ipaddr.js@0.1.2)\n\u251c\u2500\u2500 send@0.3.0 (debug@0.8.0, mime@1.2.11)\n\u251c\u2500\u2500 mkdirp@0.5.0 (minimist@0.0.8)\n\u2514\u2500\u2500 connect@2.17.3 (response-time@1.0.0, pause@0.0.1, method-override@1.0.2, connect-timeout@1.1.0, vhost@1.0.0, qs@0.6.6, on-headers@0.0.0, basic-auth-connect@1.0.0, bytes@1.0.0, serve-favicon@2.0.0, morgan@1.1.1, errorhandler@1.0.1, serve-static@1.1.0, cookie-parser@1.1.0, body-parser@1.2.2, csurf@1.2.0, type-is@1.2.0, compression@1.0.2, express-session@1.2.1, serve-index@1.0.3, multiparty@2.2.0)\nnpm@2.4.1 node_modules/npm\nsocket.io@1.3.3 node_modules/socket.io\n\u251c\u2500\u2500 debug@2.1.0 (ms@0.6.2)\n\u251c\u2500\u2500 has-binary-data@0.1.3 (isarray@0.0.1)\n\u251c\u2500\u2500 socket.io-parser@2.2.3 (isarray@0.0.1, debug@0.7.4, component-emitter@1.1.2, benchmark@1.0.0, json3@3.2.6)\n\u251c\u2500\u2500 socket.io-adapter@0.3.1 (object-keys@1.0.1, debug@1.0.2, socket.io-parser@2.2.2)\n\u251c\u2500\u2500 engine.io@1.5.1 (base64id@0.1.0, debug@1.0.3, engine.io-parser@1.2.1, ws@0.5.0)\n\u2514\u2500\u2500 socket.io-client@1.3.3 (to-array@0.1.3, indexof@0.0.1, debug@0.7.4, component-bind@1.0.0, backo2@1.0.2, object-component@0.0.3, component-emitter@1.1.2, has-binary@0.1.6, parseuri@0.0.2, engine.io-client@1.5.1)\nueberDB@0.2.12 node_modules/ueberDB\n\u251c\u2500\u2500 channels@0.0.2\n\u251c\u2500\u2500 felix-couchdb@1.0.7\n\u251c\u2500\u2500 redis@0.12.1\n\u251c\u2500\u2500 dirty@0.9.9\n\u251c\u2500\u2500 async@0.1.15\n\u251c\u2500\u2500 mysql@2.5.5 (require-all@1.0.0, bignumber.js@2.0.0, readable-stream@1.1.13)\n\u251c\u2500\u2500 pg@4.3.0 (packet-reader@0.2.0, pg-connection-string@0.1.3, buffer-writer@1.0.0, generic-pool@2.1.1, pg-types@1.7.0, pgpass@0.0.3)\n\u2514\u2500\u2500 helenus@0.6.10 (node-uuid@1.3.3, helenus-thrift@0.7.4)\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nEnsure custom css/js files are created...\nStarted Etherpad...\n[2015-03-02 09:22:41.735] [WARN] console - You need to set a sessionKey value in settings.json, this will allow your users to reconnect to your Etherpad Instance if your instance restarts\n[2015-03-02 09:22:41.740] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production.\n[2015-03-02 09:22:44.036] [INFO] console - Installed plugins: ep_etherpad-lite\n[2015-03-02 09:22:44.084] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2015-03-02 09:22:44.084] [INFO] console - Your Etherpad git version is cc0eaba\n[2015-03-02 09:22:44.331] [INFO] console - You can access your Etherpad instance at http://0.0.0.0:9001/\n[2015-03-02 09:22:44.332] [WARN] console - Admin username and password not set in settings.json.  To access admin please uncomment and edit 'users' in settings.json\n```\n. not at the moment - this is a \"clean\" install without any modifications.\nAfter editing the settings.json-file (enabling users, inserting session.key, a rm -rf src/node_modules , git-pull-origin, and a new bin/run.sh i get\n```\n-bash-4.1$ bin/run.sh\nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\n\nws@0.5.0 install /usr/local/etherpad/etherpad-lite/src/node_modules/socket.io/node_modules/engine.io/node_modules/ws\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nmake: Entering directory /usr/local/etherpad/etherpad-lite/src/node_modules/socket.io/node_modules/engine.io/node_modules/ws/build'\n  CXX(target) Release/obj.target/bufferutil/src/bufferutil.o\n  SOLINK_MODULE(target) Release/obj.target/bufferutil.node\n  SOLINK_MODULE(target) Release/obj.target/bufferutil.node: Finished\n  COPY Release/bufferutil.node\n  CXX(target) Release/obj.target/validation/src/validation.o\n  SOLINK_MODULE(target) Release/obj.target/validation.node\n  SOLINK_MODULE(target) Release/obj.target/validation.node: Finished\n  COPY Release/validation.node\nmake: Leaving directory/usr/local/etherpad/etherpad-lite/src/node_modules/socket.io/node_modules/engine.io/node_modules/ws/build'\n\nws@0.4.31 install /usr/local/etherpad/etherpad-lite/src/node_modules/socket.io/node_modules/socket.io-client/node_modules/engine.io-client/node_modules/ws\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nmake: Entering directory /usr/local/etherpad/etherpad-lite/src/node_modules/socket.io/node_modules/socket.io-client/node_modules/engine.io-client/node_modules/ws/build'\n  CXX(target) Release/obj.target/bufferutil/src/bufferutil.o\nmake: Leaving directory/usr/local/etherpad/etherpad-lite/src/node_modules/socket.io/node_modules/socket.io-client/node_modules/engine.io-client/node_modules/ws/build'\nchannels@0.0.4 node_modules/channels\nsecurity@1.0.0 node_modules/security\nasync-stacktrace@0.0.2 node_modules/async-stacktrace\nslide@1.1.6 node_modules/slide\ngraceful-fs@3.0.5 node_modules/graceful-fs\ntinycon@0.0.1 node_modules/tinycon\nformidable@1.0.16 node_modules/formidable\nasync@0.9.0 node_modules/async\nunderscore@1.5.1 node_modules/underscore\netherpad-require-kernel@1.0.8 node_modules/etherpad-require-kernel\nlanguages4translatewiki@0.1.3 node_modules/languages4translatewiki\nunorm@1.3.3 node_modules/unorm\nsemver@4.2.0 node_modules/semver\nmeasured@1.0.0 node_modules/measured\n\u2514\u2500\u2500 inherits@2.0.1\nejs@1.0.0 node_modules/ejs\nresolve@1.1.0 node_modules/resolve\netherpad-yajsml@0.0.2 node_modules/etherpad-yajsml\nsupertest@0.15.0 node_modules/supertest\n\u251c\u2500\u2500 methods@1.1.1\n\u2514\u2500\u2500 superagent@0.21.0 (extend@1.2.1, methods@1.0.1, cookiejar@2.0.1, component-emitter@1.1.2, reduce-component@1.0.1, qs@1.2.0, mime@1.2.11, debug@2.1.2, form-data@0.1.3, readable-stream@1.0.27-1, formidable@1.0.14)\nlog4js@0.6.22 node_modules/log4js\n\u251c\u2500\u2500 semver@1.1.4\n\u251c\u2500\u2500 async@0.2.10\n\u2514\u2500\u2500 readable-stream@1.0.33 (isarray@0.0.1, inherits@2.0.1, string_decoder@0.10.31, core-util-is@1.0.1)\nclean-css@3.0.8 node_modules/clean-css\n\u251c\u2500\u2500 commander@2.5.1\n\u2514\u2500\u2500 source-map@0.1.43 (amdefine@0.1.0)\nconnect@2.7.11 node_modules/connect\n\u251c\u2500\u2500 fresh@0.1.0\n\u251c\u2500\u2500 pause@0.0.1\n\u251c\u2500\u2500 cookie-signature@1.0.1\n\u251c\u2500\u2500 qs@0.6.5\n\u251c\u2500\u2500 bytes@0.2.0\n\u251c\u2500\u2500 buffer-crc32@0.2.1\n\u251c\u2500\u2500 cookie@0.0.5\n\u251c\u2500\u2500 debug@2.1.2 (ms@0.7.0)\n\u251c\u2500\u2500 send@0.1.1 (range-parser@0.0.4, mime@1.2.11)\n\u2514\u2500\u2500 formidable@1.0.14\nuglify-js@2.4.16 node_modules/uglify-js\n\u251c\u2500\u2500 uglify-to-browserify@1.0.2\n\u251c\u2500\u2500 async@0.2.10\n\u251c\u2500\u2500 optimist@0.3.7 (wordwrap@0.0.2)\n\u2514\u2500\u2500 source-map@0.1.34 (amdefine@0.1.0)\nrequest@2.53.0 node_modules/request\n\u251c\u2500\u2500 caseless@0.9.0\n\u251c\u2500\u2500 json-stringify-safe@5.0.0\n\u251c\u2500\u2500 aws-sign2@0.5.0\n\u251c\u2500\u2500 forever-agent@0.5.2\n\u251c\u2500\u2500 form-data@0.2.0\n\u251c\u2500\u2500 stringstream@0.0.4\n\u251c\u2500\u2500 oauth-sign@0.6.0\n\u251c\u2500\u2500 tunnel-agent@0.4.0\n\u251c\u2500\u2500 isstream@0.1.1\n\u251c\u2500\u2500 node-uuid@1.4.2\n\u251c\u2500\u2500 qs@2.3.3\n\u251c\u2500\u2500 combined-stream@0.0.7 (delayed-stream@0.0.5)\n\u251c\u2500\u2500 mime-types@2.0.9 (mime-db@1.7.0)\n\u251c\u2500\u2500 http-signature@0.10.1 (assert-plus@0.1.5, asn1@0.1.11, ctype@0.5.3)\n\u251c\u2500\u2500 bl@0.9.4 (readable-stream@1.0.33)\n\u251c\u2500\u2500 tough-cookie@0.12.1 (punycode@1.3.2)\n\u2514\u2500\u2500 hawk@2.3.1 (cryptiles@2.0.4, sntp@1.0.9, boom@2.6.1, hoek@2.11.1)\nmocha@2.1.0 node_modules/mocha\n\u251c\u2500\u2500 escape-string-regexp@1.0.2\n\u251c\u2500\u2500 diff@1.0.8\n\u251c\u2500\u2500 growl@1.8.1\n\u251c\u2500\u2500 commander@2.3.0\n\u251c\u2500\u2500 debug@2.0.0 (ms@0.6.2)\n\u251c\u2500\u2500 mkdirp@0.5.0 (minimist@0.0.8)\n\u251c\u2500\u2500 glob@3.2.3 (inherits@2.0.1, graceful-fs@2.0.3, minimatch@0.2.14)\n\u2514\u2500\u2500 jade@0.26.3 (commander@0.6.1, mkdirp@0.3.0)\nueberDB@0.2.13 node_modules/ueberDB\n\u251c\u2500\u2500 channels@0.0.2\n\u251c\u2500\u2500 felix-couchdb@1.0.7\n\u251c\u2500\u2500 redis@0.12.1\n\u251c\u2500\u2500 dirty@0.9.9\n\u251c\u2500\u2500 async@0.1.15\n\u251c\u2500\u2500 mysql@2.5.5 (require-all@1.0.0, bignumber.js@2.0.0, readable-stream@1.1.13)\n\u2514\u2500\u2500 pg@4.3.0 (packet-reader@0.2.0, pg-connection-string@0.1.3, buffer-writer@1.0.0, generic-pool@2.1.1, pg-types@1.7.0, pgpass@0.0.3)\njsonminify@0.2.3 node_modules/jsonminify\ncheerio@0.18.0 node_modules/cheerio\n\u251c\u2500\u2500 dom-serializer@0.0.1 (domelementtype@1.1.3)\n\u251c\u2500\u2500 entities@1.1.1\n\u251c\u2500\u2500 htmlparser2@3.8.2 (domelementtype@1.1.3, domutils@1.5.1, entities@1.0.0, domhandler@2.3.0, readable-stream@1.1.13)\n\u251c\u2500\u2500 CSSselect@0.4.1 (domutils@1.4.3, CSSwhat@0.4.7)\n\u2514\u2500\u2500 lodash@2.4.1\nsocket.io@1.3.3 node_modules/socket.io\n\u251c\u2500\u2500 debug@2.1.0 (ms@0.6.2)\n\u251c\u2500\u2500 has-binary-data@0.1.3 (isarray@0.0.1)\n\u251c\u2500\u2500 socket.io-parser@2.2.3 (isarray@0.0.1, debug@0.7.4, component-emitter@1.1.2, benchmark@1.0.0, json3@3.2.6)\n\u251c\u2500\u2500 socket.io-adapter@0.3.1 (object-keys@1.0.1, debug@1.0.2, socket.io-parser@2.2.2)\n\u251c\u2500\u2500 engine.io@1.5.1 (base64id@0.1.0, debug@1.0.3, engine.io-parser@1.2.1, ws@0.5.0)\n\u2514\u2500\u2500 socket.io-client@1.3.3 (to-array@0.1.3, indexof@0.0.1, component-bind@1.0.0, debug@0.7.4, backo2@1.0.2, object-component@0.0.3, component-emitter@1.1.2, has-binary@0.1.6, parseuri@0.0.2, engine.io-client@1.5.1)\nswagger-node-express@2.1.3 node_modules/swagger-node-express\n\u2514\u2500\u2500 lodash@1.3.1\nwd@0.3.11 node_modules/wd\n\u251c\u2500\u2500 vargs@0.1.0\n\u251c\u2500\u2500 q@1.0.1\n\u251c\u2500\u2500 underscore.string@2.3.3\n\u251c\u2500\u2500 lodash@2.4.1\n\u251c\u2500\u2500 request@2.46.0 (caseless@0.6.0, json-stringify-safe@5.0.0, forever-agent@0.5.2, aws-sign2@0.5.0, stringstream@0.0.4, oauth-sign@0.4.0, tunnel-agent@0.4.0, qs@1.2.2, node-uuid@1.4.2, mime-types@1.0.2, form-data@0.1.4, tough-cookie@0.12.1, bl@0.9.4, hawk@1.1.1, http-signature@0.10.1)\n\u2514\u2500\u2500 archiver@0.12.0 (buffer-crc32@0.2.5, lazystream@0.1.0, readable-stream@1.0.33, zip-stream@0.4.1, tar-stream@1.0.2, glob@4.0.6)\nexpress@3.8.1 node_modules/express\n\u251c\u2500\u2500 parseurl@1.0.1\n\u251c\u2500\u2500 merge-descriptors@0.0.2\n\u251c\u2500\u2500 cookie@0.1.2\n\u251c\u2500\u2500 debug@0.8.1\n\u251c\u2500\u2500 cookie-signature@1.0.3\n\u251c\u2500\u2500 fresh@0.2.2\n\u251c\u2500\u2500 range-parser@1.0.0\n\u251c\u2500\u2500 methods@1.0.0\n\u251c\u2500\u2500 buffer-crc32@0.2.1\n\u251c\u2500\u2500 commander@1.3.2 (keypress@0.1.0)\n\u251c\u2500\u2500 proxy-addr@1.0.0 (ipaddr.js@0.1.2)\n\u251c\u2500\u2500 send@0.3.0 (debug@0.8.0, mime@1.2.11)\n\u251c\u2500\u2500 mkdirp@0.5.0 (minimist@0.0.8)\n\u2514\u2500\u2500 connect@2.17.3 (response-time@1.0.0, method-override@1.0.2, connect-timeout@1.1.0, pause@0.0.1, vhost@1.0.0, qs@0.6.6, on-headers@0.0.0, basic-auth-connect@1.0.0, bytes@1.0.0, morgan@1.1.1, serve-favicon@2.0.0, errorhandler@1.0.1, serve-static@1.1.0, cookie-parser@1.1.0, body-parser@1.2.2, csurf@1.2.0, express-session@1.2.1, compression@1.0.2, type-is@1.2.0, serve-index@1.0.3, multiparty@2.2.0)\nnpm@2.4.1 node_modules/npm\nEnsure jQuery is downloaded and up to date...\nClear minfified cache...\nEnsure custom css/js files are created...\nStarted Etherpad...\n[2015-03-02 10:03:13.929] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production.\n[2015-03-02 10:03:16.121] [INFO] console - Installed plugins: ep_etherpad-lite\n[2015-03-02 10:03:16.172] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2015-03-02 10:03:16.173] [INFO] console - Your Etherpad git version is 4e0353b\n[2015-03-02 10:03:16.417] [INFO] console - You can access your Etherpad instance at http://0.0.0.0:9001/\n[2015-03-02 10:03:16.417] [INFO] console - The plugin admin page is at http://0.0.0.0:9001/admin/plugins\n^C[2015-03-02 10:04:48.648] [INFO] console - graceful shutdown...\n[2015-03-02 10:04:48.649] [INFO] console - db sucessfully closed.\n```\nbut the error in the pad is still there.\n```\nAn error occured while loading the pad\nNS_ERROR_FAILURE: in http://10.34.10.90:9001/static/js/require-kernel.js (line 293)\n```\n. ",
    "fuero": "I ran into this issue too. It seems that etherpad works fine if accessed via localhost. Firefox and Chrome complain if accessed via IP and Port.\n. ",
    "cjb": "@JohnMcLear Yep, seems to work fine for both the author and viewers immediately.\n. No, don't think I can reproduce that -- is it easy for you to share a screencast?\nIt's a little weird to call doDeleteKey() when no key was pressed down, so it might be related to that, but I wasn't able to find any misbehavior with it here.\n. @JohnMcLear Just took a look and can't figure out what's wrong here -- I don't see anywhere we're hitting preventDefault.  :/\n. Yes please!\n. ",
    "SergioMartinezIngelmo": "Thanks a lot!! I will be aware for the new fixed version.\n. Thanks for the fast response, you know if there is a plugin to do this? I mean, remember the color until the session cookie is deleted. If not, in what files is the code who manage colors?\n. ",
    "XoR-42": "Hi, \nI tested on http://beta.etherpad.org and the issue remains.\nTo my knowledge there are no dead keys on the standard UK layout. However you can reproduce the bug by switching to an international layout with dead keys such as \"English (Macintosh)\" or \"English (UK, international with dead keys)\" (these names are how they appear on Gnome) which allow you to type accents using dead keys. For example on the latter, Meta+[ followed by e should produce the character \u00eb (Meta is usually mapped on right alt key). You can also try the french layout that has a dead key for ^ (the [ key on a standard qwerty keyboard): [ followed by e should produce the character \u00ea.\nThanks for the work done on this wonderful piece of software.\nBest regards, \nXoR\n. I just re-tested across several OSs and it seems to work with Firefox 36 on OSX (10.8.5) and with Firefox 34 on Windows (Server 2008). I'm only able to reproduce on Linux systems (Debian, Archlinux, Ubuntu) with different desktop environments (Gnome, Enlightenment, Unity).\n. I just retried with Firefox 35 on Ubuntu + Unity, french keyboard and I was still unable to type a \u00ea.\nIt starts looking like a Heisenbug :/\nEDIT: after updating to Firefox 36, I'm still able to reproduce...\n. On my current machine (macbook pro running Gnome/Arch) with the \"English (Macintosh)\" layout, it's the right alt key. meta+e followed by e produces \u00e9, meta+` followed by a gives \u00e0 etc. For the tests on the other machines I used the french layout and tried [ followed by e that is expected to produce \u00ea (no meta key) or shift+[ followed by i that should produce \u00ef.\n. By polling around, I found a Mint+Firefox 35+Gnome and a Gentoo+Firefox 31+xfce that do not exhibit the issue (french keyboard both of them)...\nWe also tried with a clean Firefox profile without any addon on one of the affected machines and it didn't help, so I think we can rule out that explanation :/\n. I tried to reproduced in a controlled environment. I ran untouched Ubuntu live isos in  kvm-qemu virtual machines, added the french layout and tried to type \u00ea with the virtual keyboard (onboard) - to avoid any interference linked to hardware or emulation - into a pad on http://beta.etherpad.org.\nWith the 14.10 iso everything's fine, after updating firefox too.\nWith the 15.04 daily build (http://cdimage.ubuntu.com/daily-live/current/) the bug appears and the dead keys to produce \u00ea and \u00eb characters do not work.\nI hope that it will help to circumvent the bug, I'll try to find the time to dig into the code to understand its origin in the following weeks.\nBest regards.\nXoR\n. I spotted a js warning in the console that seems related:\nKeyboardEvent.key values starting with \"Dead\" are obsolete and will be merged into just \"Dead\". For more help https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent.key\nI'm trying to find where the code responsible for the KeyboardEvent is.\n. Hi, \nthe patch seems to fix the issue for me when I'm using the french keyboard (to type \u00ef and \u00ee for example), but the issue remains with the \"english (macintosh)\" keyboard and the combinations of keys including meta (meta+e e to get \u00e9, meta+` e to get \u00e8 etc.)...\nWell done for the partial fix at least!\n. I don't think it's specific to mac, but rather general to the layouts using meta keys: I'm using this layout on a thinkpad which exhibits the same error.\n. @tgirod @JohnMcLear , that was what I was trying to explain, the fix seems to do the job for the \"standard\" dead keys, but doesn't seem to work for dead keys typed with a combination of meta+another key (like my \"english (macintosh)\" example or @tgirod 's \"altgr-intl\" example). \n@JohnMcLear : \"Dead keys seem to work fine for me now @XoR-42 . I tried your French example and got \u00ea which was expected.\" \nThat's what I was saying at 11pm yesterday, it works fine with the french keyboard (dead keys without modifiers) but not with the \"english (macintosh)\" layout (dead keys typed with combination involving meta, nothing to do with mac hardware).\n. ",
    "tgirod": "Same problem here with firefox 37 on archlinux. My keyboard layout is altgr-intl, which uses dead keys quite a lot.\n. any accent followed by a letter will miss the accent. For example:\nalt- + ewill give meeinstead of\u00e8.alt-^ + awill give meainstead of\u00e2`\nbut alt-e will give me \u00e9 as it should.\n. okay, my bad. As I said earlier, my keyboard layout variant is altgr-intl. This turns the right alt key into AltGr. To see my problem, you have to set the XKbVariant (see my xorg.conf excerpt below) and use the right alt key.\nSection \"InputClass\"\n        Identifier \"system-keyboard\"\n        MatchIsKeyboard \"on\"\n        Option \"XkbLayout\" \"us\"\n        Option \"XkbOptions\" \"terminate:ctrl_alt_bksp\"\n    Option \"XkbVariant\" \"altgr-intl\"\nEndSection\n. It didn't change anything with my us altgr-intl keyboard layout. Just in case I missed something, here is what I did:\ngit clone https://github.com/ether/etherpad-lite.git\ncd etherpad-lite\ngit checkout fix-dead-keys\nbin/run.sh\n. ",
    "morallo": "I am suffering the same problem with a Spanish keyboard, which uses dead keys for accents (\u00b4,`,^,\u00a8)\nIf I type the dead key and then the character key at a normal pace, the accent is \"lost\" and I get \"a\" instead of \"\u00e1\".\nHowever, if I do it quickly enough, the accent is preserved. It feels like if Etherpad does not have time to sync in between the pressing of the two keys, the input interprets the character code correctly.\nMy specs: Ubuntu 14.04 LTS, Firefox 37.0.1\n. Could you try this?\n1. Change keyboard config to Spanish\n2  Open a terminal or text editor\n3. Press and release the \"'\" key (two keys to the right from the L key, just besides the enter key).\n4. Press and release the \"a\" key. You should get \"\u00e1\" printed on screen.\n5. Repeat in etherpad-lite.\n6. Find out why it didn't work \u263a\nLet me know if I can try anything for debugging.\n. No alt-gr needed for Spanish keyboard accents.\nFor me, the behaviour depends on your quickness. If you press both keys with a short enough period in between, it works. Try withoug AltGr, it's probably easier to be quick enough.\n. Did you switch your keyboard layout to Spanish?\n. Do you get a \u00d1 if you press ; key?\n. Then your kb layout is not changed, I'm afraid :-)\n. It's an improvement, but does not fix the problem at normal typing speed.\nIf you type \u00b4 and then a, you get the right \u00e1.\nHowever, if you type a+\u00b4+a, you sometimes get aa, instead of a\u00e1.\nThe behaviour is inconsistent. Again, it seems like some kind of sync timing issue.\n. ",
    "pyropeter": "I can still reproduce this problem on https://beta.etherpad.org/, but it is possible to input dead keys if you are quick. It's actually kind of usable for me, because I type quite fast, but it might be unusable for others and is certainly an usability nightmare.\nI'm using the US International keyboard layout.\nArchLinux, Firefox 38.0.\nSteps to reproduce:\n1. run in terminal: setxkbmap us intl\n2. enjoy all the nice umlauts in every other text input, like \u00f6, \u00e4, \u1ebd, etc. (you can input these by pressing \", ', ~, ^ or ` and then a compatible character (like a, o, u, sometimes e).\n3. go to https://beta.etherpad.org/ and try it there\n. ",
    "smonff": "+1, same as @pyropeter , same OS, Firefox 40.0.3\n. ",
    "320x200": "Same issue on FreeBSD 10.2-STABLE, Firefox 40.0.3.\nLast tested on at 442f2a08f7bdc3692afde2b70f8760f4e2fcddba (16/09/15).\n```\nLANG=en_GB.UTF-8\nLC_CTYPE=\"en_GB.UTF-8\"\nLC_COLLATE=\"en_GB.UTF-8\"\nLC_TIME=\"en_GB.UTF-8\"\nLC_NUMERIC=\"en_GB.UTF-8\"\nLC_MONETARY=\"en_GB.UTF-8\"\nLC_MESSAGES=\"en_GB.UTF-8\"\nsetxkbmap -layout us -option compose:ralt -option ctrl:nocaps -option terminate:ctrl_alt_bksp\n```\n. ",
    "skupfer": "So you say the rule is fine?\nIs it a SSL related problem? What do you think?\nEDIT: i.e. error\n2015/03/12 15:22:41 [error] 5390#0: *618 connect() failed (111: Connection refused) while connecting to upstream, client: 127.0.0.1, server: etherpad.dev, request: \"GET /socket.io/?EIO=3&transport=polling&t=1426170161596-17&sid=O2KXtXXV0a_lmtwBAAAE HTTP/1.1\", upstream: \"http://[::1]:9001/socket.io/?EIO=3&transport=polling&t=1426170161596-17&sid=O2KXtXXV0a_lmtwBAAAE\", host: \"etherpad.dev\", referrer: \"https://etherpad.dev/p/test\"\n. But outgoing from this error it is related to socket.io, isn't it?\nSo it could be an nginx problem, too. I don't know, thats why I am asking here...\nAnd tbh, i doubt these plugins are maintained and controlled as this repository, thats why I asked here, first. There are several nginx rules, somehow mixed up for me in the wiki... maybe I forgot something, I just don't know... And I doubt someone at nginx forums/support whatever would help me if there is an etherpad community/git ...\nSorry for bothering you\n. I will... in nearly every single one :) \n. Doesn't fix this for me. edited src/static/js/ace2_inner.js to \nfunction handleCut(evt){\n  inCallStackIfNecessary(\"handleCut\", function()\n  {\n    doDeleteKey(evt);\n  });\n  return true;\n}\n. I posted because I can't fix it myself :( My pad keeps restarting over and over again...\nEDIT1:\nps ax | grep node\n15472 ?        Sl     0:03 node /usr/share/nginx/www/etherpad-lite/node_modules/ep_etherpad-lite/node/server.js\n15913 pts/1    S+     0:00 grep node\nsudo netstat -punta | grep 9001\ntcp        0      0 127.0.0.1:9001          0.0.0.0:*               LISTEN      15472/node\nsudo netstat -punta | grep 80\ntcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      4181/nginx\nEDIT2: You are too fast closing things... Some users are not pro at these things and for sure I did some googling before :/\nEDIT3: restarted my whole server, even if never touch a running system tells me other :) working for now\n. I haven't updated but I am receiving the same errors since today\n^[[33m[2015-04-20 13:59:02.616] [WARN] client - ^[[39mUncaught TypeError: Cannot read property 'className' of undefined -- { errorId: 'my error ID',\n  msg: 'Uncaught TypeError: Cannot read property \\'className\\' of undefined',\n  url: 'MYPADURL',\n  linenumber: 65,\n  userAgent: 'Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.90 Safari/537.36' }\n^[[33m[2015-04-20 14:03:22.663] [WARN] client - ^[[39mTypeError: undefined is not an object (evaluating '$(span.target).closest('span').get(0).className') -- { errorId: 'my error ID',\n  msg: 'TypeError: undefined is not an object (evaluating \\'$(span.target).closest(\\'span\\').get(0).className\\')',\n  url: 'MYPADURL',\n  linenumber: 65,\n  userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_3) AppleWebKit/600.5.17 (KHTML, like Gecko) Version/8.0.5 Safari/600.5.17' }\n. The biggest problem is t he span.target error... If I resize the window nothing happens with line break!\nOnly Safari on OS X / iOS is affected by this.\nI can reproduce this error consistently\n. Sorry for this question, but how do I update? Is a simple git clone enough?\nInstalled via\ncd /usr/share/nginx/www\ngit clone git://github.com/ether/etherpad-lite.git\ncd etherpad-lite/\n. Ok. Updated to most recent version via git pull origin. Using the latest settings.json, too now\nclassName error still persistent. span.target, too... How to find out which addon it could be? this error wasn't there before :(\n. Alright. Removed some Plugins... Restarted the pad several times...\nI can resize now and line break works. Worked before I removed some Plugins. Don't know what the error was.\nTypeError is gone.\nspan.target still persistent... I don't know which Plugin could cause it.\nMissing sessionID within the new settings.json ... But maybe we don't need it anymore.\nFurthermore the Font is very thin now. I don't know what is causing this behavior....\n. Still happening. The error isn't very helpful. It is ALWAYS linenumber 65. Pad doesn't matter because it happens in all pads.\nIs there a way to identify the cause of span.target error?\n^[[33m[2015-04-21 12:29:35.851] [WARN] client - ^[[39mUncaught TypeError: Cannot read property 'className' of undefined -- { errorId: 'Xd0C5eEneRgClQaIg7gn',\n  msg: 'Uncaught TypeError: Cannot read property \\'className\\' of undefined',\n  url: 'URL',\n  linenumber: 65,\n  userAgent: 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.90 Safari/537.36' }\n^[[32m[2015-04-21 12:29:35.860] [INFO] ueberDB - ^[[39mFlushed 1 values\n^[[32m[2015-04-21 12:29:36.275] [INFO] ueberDB - ^[[39mFlushed 3 values\n^[[33m[2015-04-21 12:29:44.842] [WARN] client - ^[[39mUncaught TypeError: Cannot read property 'className' of undefined -- { errorId: 'V9gidD9pLsX1PyOqSLk4',\n  msg: 'Uncaught TypeError: Cannot read property \\'className\\' of undefined',\n  url: 'URL',\n  linenumber: 65,\n  userAgent: 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.90 Safari/537.36' }\n. Can't replicate today... I don't know how to replicate. I simply enter a pad or refresh and the error occurs. Not that often today as yesterday...\nThe span.target-error is still a mystery to me... Even in a Pad without addons used (simply text) I get this error...\nOK: I can reproduce the span.target error when using \"unsorted lists\" (these bubble thingys). Even without any depth this error is reproducible\nEDIT: span.target-error reproduced as described above. TypeError: Cannot read property ... Don't know. Using Headings no error, using bold, no error, line through text, no error... But if I access an existing pad -> error ...\nI cannot give you an URL. It is password protected and our live system... Would have to PM you or whatever\n. I cannot see it... I created a new pad, horizontal line isn't used at all.\nupdated, removed and reinstalled several modules... restarted pad again... working for now... thanks and sorry\n. Still relevant ... Cannot export my pads. This isn't related to the last line only because the last 20 lines are text\n[2017-06-29 14:37:35.992] [ERROR] console - Abiword File failed to convert Error: convert /tmp/etherpad_export_196131594.html /tmp/etherpad_export_19^M<rpad_export_196131594.html /tmp/etherpad_export_196131594.pdf pdf\nAbiWord: could not open the file [/tmp/etherpad_export_196131594.html]\nerror -1\nAbiWord:>\n    at module.exports (/usr/share/nginx/www/etherpad-lite/src/node_modules/async-stacktrace/ERR.js:46:13)\n    at /usr/share/nginx/www/etherpad-lite/src/node/handler/ExportHandler.js:182:36\n    at /usr/share/nginx/www/etherpad-lite/src/node_modules/async/lib/async.js:254:17\n    at /usr/share/nginx/www/etherpad-lite/src/node_modules/async/lib/async.js:151:21\n    at /usr/share/nginx/www/etherpad-lite/src/node_modules/async/lib/async.js:251:21\n    at Object.callback (/usr/share/nginx/www/etherpad-lite/src/node_modules/async/lib/async.js:615:34)\n    at stdoutCallback (/usr/share/nginx/www/etherpad-lite/src/node/utils/Abiword.js:135:14)\n    at Socket.<anonymous> (/usr/share/nginx/www/etherpad-lite/src/node/utils/Abiword.js:116:11)\n    at emitOne (events.js:96:13)\n    at Socket.emit (events.js:188:7)\n<rpad_export_196131594.html /tmp/etherpad_export_196131594.pdf pdf\nAbiWord: could not open the file [/tmp/etherpad_export_196131594.html]\nerror -1\nAbiWord:>\n    at module.exports (/usr/share/nginx/www/etherpad-lite/src/node_modules/async-stacktrace/ERR.js:46:13)\n    at /usr/share/nginx/www/etherpad-lite/src/node/handler/ExportHandler.js:182:36\n    at /usr/share/nginx/www/etherpad-lite/src/node_modules/async/lib/async.js:254:17\n    at /usr/share/nginx/www/etherpad-lite/src/node_modules/async/lib/async.js:151:21\n    at /usr/share/nginx/www/etherpad-lite/src/node_modules/async/lib/async.js:251:21\n    at Object.callback (/usr/share/nginx/www/etherpad-lite/src/node_modules/async/lib/async.js:615:34)\n    at stdoutCallback (/usr/share/nginx/www/etherpad-lite/src/node/utils/Abiword.js:135:14)\n    at Socket.<anonymous> (/usr/share/nginx/www/etherpad-lite/src/node/utils/Abiword.js:116:11)\n    at emitOne (events.js:96:13)\n    at Socket.emit (events.js:188:7)\nEDIT: Weird... made a VM, same database, export is working for the pad not working on live...\nEDIT2: As with most stuff, probably reverse proxy related, too ... not working with it (even in a vm). Tried this with no plugins installed if I remember correctly. If I encounter such an error (in this case crashing etherpad) I always try a clean setup in a virtual machine or new docker instance. Unfortunately I have no interest in ep anymore because we needed things working properly and changed to another project. I wish you all the best for the future and thanks for your support!. So, has this been fixed? Just curious. This is not related to plugins (I mean you offer the functionality via config) but a simple reverse proxy.... not fixed, but guess it's dead anyway. This project is very outdated (starting with node modules and security warnings) and is not actively developed anymore... As far as the error message says some node modules (standard ones) might not work properly with node >= 7.0, so try downgrading node... or look for another project. No, not officially.\nAs I said, try to downgrade node first please. But from what I can see the install script is weird. I suggest you use the latest windows package, not the Fancy install variant.\nTry the following installOnWindows.bat if you prefer the fancy install variant... It is not fancy but I tried it and it was working. You have to start the installOnWindows.bat as Administrator. I hope I made no mistakes :-)\n```@echo off\n:: change directory to etherpad-lite root\ncd /D \"%~dp0..\"\n:: Is node installed?\ncmd /C node -e \"\" || ( echo \"Please install node.js ( http://nodejs.org )\" && exit /B 1 )\necho _\necho Ensure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\nmkdir node_modules\ncd /D node_modules\nmklink /D \"ep_etherpad-lite\" \"..\\src\"\ncd /D \"ep_etherpad-lite\"\ncmd /C npm install --loglevel warn || exit /B 1\ncd /D \"%~dp0..\"\necho _\necho Copying custom templates...\nset custom_dir=node_modules\\ep_etherpad-lite\\static\\custom\nFOR %%f IN (index pad timeslider) DO (\n  if NOT EXIST \"%custom_dir%\\%%f.js\" copy \"%custom_dir%\\js.template\" \"%custom_dir%\\%%f.js\"\n  if NOT EXIST \"%custom_dir%\\%%f.css\" copy \"%custom_dir%\\css.template\" \"%custom_dir%\\%%f.css\"\n)\necho _\necho Clearing cache...\ndel /S var\\minified*\necho _\necho Setting up settings.json...\nIF NOT EXIST settings.json (\n  echo Can't find settings.json.\n  echo Copying settings.json.template...\n  cmd /C copy settings.json.template settings.json || exit /B 1\n)\necho _\necho Installed Etherpad!  To run Etherpad type start.bat\n```\nOfftopic\n\nBut look at your warnings. They exist for a very long time (deprecated dependencies). Ok if it works why update. But there are warnings about a \"RegEx DoS\" issues in some modules and that you should update.\nStandard features like import/export with abiword/soffice or tidyhtml crashing the whole instance because of long known bugs. And there is more.\nMost plugins are outdated and if you need more features you have to rely on those outdated plugins. A lot are not working properly if you use a reverse proxy or are not being developed anymore (stated by their respective dev). There is one dev who is actively trying to improve some plugins and has a lot of his own but I guess it is simply too much.. @BenaeSan You can make the pull if you want. I am not sure whether this is the proper way to do it because you need admin rights (as I said) for the \"mklink\" command. Maybe one can do that better?\n\n@lpagliari I am sorry if you felt offended because this definitely wasn't my intention! It is easy to say such things I know, especially if you are not able to contribute because you are not a js-dev.\nI have seen the commits but that's something automated, right? I am using etherpad since 2013 if I remember correctly and since 2014 on my own server. The bugs never have been fixed since and the errors remained. I am not sure how to raise attention if there are even issues open/closed where those are mentioned (not only by myself).\nSince this is a open source I was and am sure that you are spending your free time to develop and improve the project. Just like I did for the past weeks trying to dockerize this \"properly\" (mostly done but unsure whether I should publish it). I would gladly help you but I am neither a dev with enough knowledge nor a js-dev (I... hate this dom stuff). Even if I get started, it won't be in time and \"we\" (my fellow students and I) need a collaborative editor for shortening lecture documents and preparation. We love it despite having google docs or similar webapps because this is open source and self-hosted!\nI love etherpad for what it is and I was searching for a month now for an alternative but wasn't happy with what I found. I just wish some plugins (like tables) or the other \"standard\" editor stuff would be implemented right into the code to make sure it is always working properly (you could use settings to activate them). E.x. ep_tables2 got abandoned the second time and is buggy (no pdf export compatibility, top rows line vanishing if you insert some into the top row...). Others like fileupload not working with a reverse proxy (security error) despite \"fixed\" as per commits. And there is so much more I wish I could fix :-)\nEDIT: As you said yourself etherpad is \"good open source editor that is also flexible to be customised\". But this is the big problem here because devs of plugins might stop their development and bugs won't get fixed. The user cannot know this because they are still available for install.\nMaybe this project gets more attention due to Mozilla, I really hope so!\nHope I didn't make it worse now... At first I only wanted to say sorry because it seemed like you felt offended by me. But I felt the need to explain myself :-) I wish you good luck with your project in the future. Maybe some day I am able to contribute more.. Something went wrong there. There are several backslashes \"\\\" missing.. Line 4, 19, 25, 26. Happens as of commit https://github.com/ether/etherpad-lite/commit/f6456c0aa71f7d232e96db5b95ef4e1d3317e749. Chrome 65. on Mac OS,\nChrome 65. on Windows 10,\nChrome 66.* on Windows 7\nconfirmed using https://beta.etherpad.org/\nChrome 58.* on Windows 7,\nSafari * on Mac OS,\ncannot confirm\nEDIT: sorry, forgot to mention that as soon as you refresh the page everything is back to normal. This seems to be a browser bug!. Would have been faster to install it or use a portable version ...\nBug disappeared with Chrome v67 / or maybe earlier (non updated etherpad, dunno which git rev I am at and too lazy to look for that). ",
    "danyill": "Yes, if I add it to compatibility mode.\n\n\n. Not sure what update I could provide here? Seems like Mar 17 post above confirmed the behaviour.\n. Thanks very much John for looking into this and applying a fix. \nI have done 'git pull origin', shut down the service and restarted using run.sh as the root user. The behaviour seems the same as that reported above (i.e. with compatibility mode I do not get a site displayed, just banded lines on the etherpad home page).\nShould I be concerned about unmet dependencies (I seem to have many newer versions of modules than etherpad-lite requires)? A log from running run.sh can be found here: http://pastebin.com/x0UKZnfB\nWith compatibility mode on I am able to load the home page but I get an error when I click create new pad:\n\nThis is different behaviour to what I get if I open https://beta.etherpad.org/ in compatibility mode. I get the text box for new pad, the OK button and a dark band without the words 'New Pad'.\n\nWhen I click new pad I receive a different error to that above:\n\nUnfortunately this upgrade has also resulted in etherpad-lite not working in Chrome. The home screen loads fine. When I click 'New Pad' the screen displays one error and then another, screenshots for both below:\n\n\nI am able to load beta.etherpad.org in Chrome without any problems.\nPossibly these errors are caused by lack of appropriate dependencies? Happy to provide more information.\n. Thank you very much. I confirm that the latest github pull solves this issue.\n. ",
    "sabarisan-gopinath": "i too have this error please try to change the port number manually in settings file\nif you did so your port will be changed so that you will not be interrupted by the port 9001\ni switched to port 9002\n. ",
    "nouyang-curoverse": "Oh, fascinating, I hadn't thought about using \"comments\" that way. Obviously not ideal from a UI perspective (I'd imagine something more like clicking the \"bold\" button, but for \"highlight\"), and also doesn't show up in the Export to HTML, which is what I care about. I was hoping someone had a \"quickfix\" solution, and if not I'll might dig around the source code for these plugins in a few weeks. Thanks!\n. @JohnMcLear  I feel meh about pulling out cash for learning to write etherpad-lite plugins (and it's not a feature I actually need at all), but happy to trade hardware (meche/ee) expertise if you feel inclined anyway to write a plugin + document it as a Real-Life Example at https://github.com/ether/etherpad-lite/wiki/Creating-a-plugin (as a more useful example than the otherwise excellent https://github.com/ether/etherpad-lite/wiki/Creating-a-plugin#creating-your-first-plugin).\nOtherwise, we can both just backlog this feature request ^^\n. ",
    "DjSlash": "From switching branches, I didn't. I have recently updated the settings according to the template. Below my current settings.\n```\n{\n        \"title\": \"NLLGG Etherpad\",\n        \"favicon\": \"favicon.ico\",\n        \"ip\": \"---\",\n        \"port\" : 9001,\n        \"sessionKey\" : \"---\",\n    \"dbType\" : \"mysql\",\n    \"dbSettings\" : { \n            \"user\"    : \"---\", \n            \"host\"    : \"localhost\", \n            \"password\": \"---\", \n            \"database\": \"etherpad\"\n    },\n\n    \"defaultPadText\" : \"\", \n    \"requireSession\" : false,\n    \"editOnly\" : false,\n    \"sessionNoPassword\" : false,\n    \"minify\" : true,\n    \"maxAge\" : 21600, \n    \"abiword\" : \"/usr/bin/abiword\",\n    \"allowUnknownFileEnds\" : true,\n    \"requireAuthentication\": false,\n    \"requireAuthorization\": false,\n    \"trustProxy\" : true,\n    \"disableIPlogging\" : false,  \n    \"users\": {\n            \"me\": {\n                    \"password\": \"---\",\n                    \"is_admin\": true\n            }   \n    },  \n    \"socketTransportProtocols\" : [\"xhr-polling\", \"jsonp-polling\", \"htmlfile\"],\n    \"loglevel\": \"INFO\",\n\n    \"logconfig\" :\n    { \"appenders\": [\n            { \"type\": \"console\"\n            },  \n            { \"type\": \"file\"\n                    , \"filename\": \"etherpad.log\"\n                    , \"maxLogSize\": 10240\n                    , \"backups\": 3 \n            }   \n    ] }\n\n}\n``\n. @JohnMcLear Are you saying this issue is depending on the mysql-db configuration? Sounds weird, as long as collation is set to an case insensitive, it would not make a difference, right?\n. Actually, reading into it, I see that it just as well might. But then again, thevalue` column is set to utf8_bin also.\nEdit: the key column was set to latin_swedish_ci and according to ueberdb it should have changed to utf8_generic_ci along the way, so I've altered that column to that - to no avail, however.\n. ",
    "chaodoze": "Thanks, John. I just figured that out by looking at the source too. It looks like $('#editbar').show() is called after the parameter arguments are processed (in line#158 static/js/pad_editbar.js). \nThe next line then calls hooks.callAll(\"postToolbarInit\"...). I'm not familiar enough with the source: Is there a way to subscribe to the \"postToolbarInit\" event, and then call $('#editbar').hide() when that event is fired?\n. ",
    "daicaca311": "Here is my ngnix config:\nlocation /pad {\n    rewrite                /pad/(.*) /$1 break;\n    rewrite                ^/pad$ /pad/ permanent;\n    proxy_pass             http://localhost:9001/;\n    proxy_pass_header Server;\n    proxy_redirect         / /pad/;\n    proxy_set_header       Host $host;\n    proxy_buffering off;\n    }\nCould you tell me where is the URL rewrite after importing?\n. Your case 1 work fine. Thank you\nThis should be applied to the code\n. ",
    "rdubigny": ";)\n. ",
    "disturbio": "Hi again,\nIt took me sometime as i was really busy with irl stuff.\nSo, first the data. Im using Debian testing, my main browser is iceweasel/firefox 37.0.1, which seems to be the problematic one. So, i setted up a VM of debian testing and i was unable to reproduce the problem with the iceweseal package it had (31.6.0esr-1)... then i upgraded to latest version and there it was! then checked if it was an iceweasel issue and tested latest firefox which had the same problem.\nI'm not able to reproduce this with chrome.\nI have no issues with http://html5demos.com/contenteditable in my local environment or the VM in firefox or chrome.\nI use a latinoamerican spanish layout (latam)\nIf there is another thing to track this error (or even to know if i have to bug mozilla) let me know!\nthanks\n. ",
    "jaredzimmerman": "@prtksxna yo!\n. ",
    "adelriosantiago": "I don't know if it this is somehow related to the issue but file paths with around 100 characters or more throw this error. Quick checking the regex at https://github.com/ether/etherpad-lite/blob/9d1eca42b385373bcd6a05d77cfcebbdd9596e91/src/node/db/PadManager.js#L237 it does not seem to make any reference to this number.\n. I solved this issue with this patch: https://github.com/a-delrio/etherpad-lite/commit/0c7f985ac5c15f38b07cd77b801ac5d1258ed805, the file now loads fine however I don't really know if it will break another part, was there a purpose on the 50 characters limit?\n. @Gared, I do change the \"files#\" to \"p\" to see what the error message says more clearly, however it is not always necessary to do that. Note that, on \"files#\" window you can also open files to edit by double-clicking on a file, that way you keep the file viewer open.\nI don't have to use such long names actually, I can shorten them, thats what I currently do, however with the time I consider that padnames greater than 50 characters will be common to many users.\nI propose creating a second field on the database that will handle the file path without the file name, then we can leave the 50 characters restrictions to only file-names (without the directories), that way we don't break functionality with older DB's which is, I believe, the reason why the number 50 hasn't been increased\n. I just found this conversation: https://github.com/ether/etherpad-lite/issues/1116, I was understanding the issue the wrong way. @JohnMcLear what do you think about doing a hash (32 chars max) to store the key on ueberDB? DB keys shouldn't include complex characters, special chars like \u00f6, \u00ef, \u00e7, \u00e8, \u00e9, etc, might cause issues too.\n. As a side note: @akshat-g running Etherpad on sudo is not exactly very recommended (unless you are on a testing environment).\nAbout the original subject @p3k, I recommend you trying with nvm (https://github.com/creationix/nvm) for your Node's virtual environments, I don't know nave (I will try it someday, looks cool), thats a way to \"reduce noise\" for the issue you are having.\nHere are the specs of my running etherpad-lite instance: Ubuntu 12.04, NVM 0.23.3, Node 0.11.16, NPM 2.3.0; works like charm!\n. As a side note: @akshat-g running Etherpad on sudo is not exactly very recommended (unless you are on a testing environment).\nAbout the original subject @p3k, I recommend you trying with nvm (https://github.com/creationix/nvm) for your Node's virtual environments, I don't know nave (I will try it someday, looks cool), thats a way to \"reduce noise\" for the issue you are having.\nHere are the specs of my running etherpad-lite instance: Ubuntu 12.04, NVM 0.23.3, Node 0.11.16, NPM 2.3.0; works like charm!\n. ",
    "p3k": "Sorry, what plugins do you mean? Where should they be located?\n. OK, I completely removed my etherpad-lite directory, made a fresh clone, checked that both, etherpad-lite/node_modules and etherpad-lite/src/node_modules are empty/gone, ran nave use stable and then bin/run.sh and still get the error.\n. nave is a virtual environment manager for Node. Apologies for assuming this is already well-known.\n\nThat's not in the docs. Please follow the docs.\n\nOK, I am trying to:\n\nAdditionally, you'll need node.js installed, Ideally the latest stable version, we recommend installing/compiling nodejs from source (avoiding apt).\n\nnave use stable actually installs and activates the latest stable version of Node.\n~~Which way is the recommended one to compile Node, then?~~ OK, I am going to try  it now with a Node version compiled by ./configure; make; make install.\n. Same error.\n``` bash\n\u26a1  git clone https://github.com/joyent/node.git\n\u26a1  git checkout -b v0.12.2-release origin/v0.12.2-release\n\u26a1  cd node\n\u26a1  ./configure --prefix=/home/tobi/local\n\u26a1  make\n\u26a1  make install\n\u26a1  which node\n/home/tobi/local/bin/node\n\u26a1  node -v\nv0.12.2\n\u26a1  npm ls\n/home/tobi/Install/node\n\u2514\u2500\u2500 (empty)\n\u26a1  npm -g ls\n/home/tobi/local/lib\n\u2514\u2500\u2500 npm@2.7.4\n\u26a1   cd ../etherpad-lite\n\u26a1  ./bin/run.sh\npath.js:439\n      throw new TypeError('Arguments to path.resolve must be strings');\n            ^\nTypeError: Arguments to path.resolve must be strings\n    at Object.posix.resolve (path.js:439:13)\n    at loadPlugin (/home/tobi/Install/etherpad-lite/src/static/js/pluginfw/plugins.js:121:26)\n    at /home/tobi/Install/etherpad-lite/src/static/js/pluginfw/plugins.js:79:9\n    at /home/tobi/Install/etherpad-lite/src/node_modules/async/lib/async.js:125:13\n    at Array.forEach (native)\n    at _each (/home/tobi/Install/etherpad-lite/src/node_modules/async/lib/async.js:46:24)\n    at Object.async.each (/home/tobi/Install/etherpad-lite/src/node_modules/async/lib/async.js:124:9)\n    at /home/tobi/Install/etherpad-lite/src/static/js/pluginfw/plugins.js:76:11\n    at /home/tobi/Install/etherpad-lite/src/static/js/pluginfw/plugins.js:116:5\n    at /home/tobi/Install/etherpad-lite/src/static/js/pluginfw/read-installed.js:128:5\n```\n. @akshat-g Unfortunately, running as root did not help. Thanks, anyway.\n@a-delrio Thanks for your specs. I tried it one last time with NVM and Node 0.11.16 (Ubuntu 14.10, though) \u2013 still getting the error. I think I am going to look for a docker image now\u2026 or something :smirk_cat: \n. ",
    "akshat-g": "./bin/run.sh was also throwing error in my system.So I tried with sudo ./bin/run.sh , it will ask to type some random text and it will work. You can try the same\n. I have mutiple Etherpad instances on a single webpage. Every Etherpad instance is an iFrame and has its own set of plugins. Some plugins like ep_tables use YUI libraries which initially take time but later they get loaded from cache.\nBut native css files and other JS files of every Etherpad instance gets loaded and this causes high loading time.How can I improve loading time for multple instances? How can I load css and native JS files only once and make Etherpad instances use those css and JS files rather than loading their own?\n. @lpagliari i tried to run backendTests.sh but terminal throws error - \n(without sudo)./backendTests.sh: line 1: src/node_modules/mocha/bin/mocha: No such file or directory\n(with sudo)./backendTests.sh: 1: ./backendTests.sh: src/node_modules/mocha/bin/mocha: not found\nmocha is installed in my etherpad directory.Also mocha file inside mocha/bin exists. How to get around with this? Do I have to include mocha path in PATH? How did you do that?\n. @JohnMcLear  - yeah I did the same but above errors were thrown.\n. @JohnMcLear - \n(without sudo)./backendTests.sh: line 1: src/node_modules/mocha/bin/mocha: No such file or directory\n(with sudo)./backendTests.sh: 1: ./backendTests.sh: src/node_modules/mocha/bin/mocha: not found\nmocha is installed in my etherpad directory.Also mocha file inside mocha/bin exists. How to get around with this? Do I have to include mocha path in PATH?\n. @JohnMcLear @lpagliari ok Sorry. I thought ./backendTests.sh should run too. Now it is working thanks. Actually I opened mocha file and found that path relative to root folder is used.\n. @JohnMcLear - I looked into all the open issues but could not find this sorry. Can you please throw some light whether this issue is still prevailing or what can be done eradicate this bug? Thanks\n. yeah there are two features which I think should be there - \n1) Inline equation support\n2) Resizing of equation image\nAlso I was bugged that is image the only solution for equation? Also right now that * which is inserted for every image is also a problem. Sometimes that * mark becomes visible in the text editor.\n. yeah done that. Thanks :)\n. ",
    "adammawson": "These are both fine in IE 11 for me.\nCtrl+shift+L is fine for normal list in chrome, need a replacement for ctrl+shift+n.  Would suggest ctrl+alt+n or ctrl+alt+L\nTested rest of accessibility buttons in chrome + IE11:\nAlt+f9 not working (should go into toolbar)\nAlt+c in IE opens favourites list.  Also opens etherpad chat and focuses but doesn\u2019t un-focus\nAlt+c  in chrome focuses on chat but doesn\u2019t un-focus\n. ",
    "mic-e": "I see; then it's just a configuration issue with the server I'm using.\nAn other equally valuable feature would be the ability to add view settings to the URL.\n. Oh, sorry...\nfor the record, the param is ?useMonospaceFont=true, and my install simply seems to be horribly outdated. Also, what manual? I found that info in pad.js line 110.\n. ",
    "shaker": "Standalone Node is in the archive etherpad-lite-win-1.5.5-24b0712d77.zip and has version 0.10.38.\nHave I tried a clean install of Node or Etherpad? Etherpad - I've tried (as actually in the message above), Node - I haven't.\n. I don't mind the wait. :-) An older 1.2.7 version of Etherpad works well.\n. Thanks guys!\nNightly-build works well.\n. ",
    "SamuelMoraesF": "I use adduser etherpad --system --create-home --home-dir /var/etherpad\n--system to don't allow login as this user(you need to use sudo su etherpad to change to this account)\n--create-home and --home-dir to create and set the home folder\n. ",
    "MartinDelille": "Shall I add it to the doc for further doubt?\n. done!\n. I just changed the command you gave me because it didn't work for me: https://github.com/ether/etherpad-lite/wiki/How-to-deploy-Etherpad-Lite-as-a-service\n. Done: https://github.com/ether/etherpad-lite/wiki/How-to-put-Etherpad-Lite-behind-a-reverse-Proxy#lighttpd\n. ",
    "aultuser": "Hi,\nYes your guess seems right on, disabling the style below appears to correct the issue in Chrome:\nbody.doesWrap>div {\n  white-space: pre-wrap;\n}\ne.g. When the style is enabled, the pasting issue is observed, and when it is disabled (unchecked in Dev tools), the paste works correctly.\n. Thanks for the update.  We are finishing up a release at the moment, I'll post back when I can try out a test and make patches.\n. ",
    "shawnhwei": "Fix doesn't work for me, result is still the same.\n. ",
    "m0urs": "Same here. Still not working in Chome unfortunately :-(\n. That looks very good to me. Tested both with Chrome and Firefox and both seem to work correctly now. Thanks a lot for that!\n. Yes, I have set that to true. Just tried to set it to false, but with the same error. With the official 1.7 version everything works even with minify set to true.. Not sure if it is about minification as I think on beta.etherpad.org minification is not enabled, right? At least there I get a real line number for the error whereas I get line 1 on my own site as all seems to be packed in one long line.\nOn the beta.etherpad.org I get:\nAn error occurred while loading the pad\nSyntax error in https://beta.etherpad.org/static/js/require-kernel.js (line 226)\n. Does work for me now on https://beta.etherpad.org/ \nUnfortunately cannot test it currently by upgrading my local installation. Need some time but I guess it will then work also, als https://beta.etherpad.org/ did not work before.\nThanks a lot.. ",
    "laowantong": "Same problem with Safari on Mac OS X.\n. ",
    "arunbasillal": "Firefox 57.01 still has this issue. . ",
    "lightweight": "Wow, that was quick!  I've set minify to false in settings.json, but I don't see a maxage setting except down deep in the js files - assuming it needs to be set somewhere higher?\n. Sorry, didn't mean to close that. \n. Hmm - just tried rebuilding the src/node_modules and npm-debug.log says the following (which I haven't been able to interpret):\n\"0 info it worked if it ends with ok\n1 verbose cli [ '/usr/bin/node', '/usr/bin/npm', 'install', '--save-dev' ]\n2 info using npm@1.4.28\n3 info using node@v0.10.37\n4 verbose node symlink /usr/bin/node\n5 error install Couldn't read dependencies\n6 error package.json ENOENT, open '/home/etherpad/local/etherpad/etherpad-lite/package.json'\n6 error package.json This is most likely not a problem with npm itself.\n6 error package.json npm can't find a package.json file in your current directory.\n7 error System Linux 3.0.20-xenU\n8 error command \"/usr/bin/node\" \"/usr/bin/npm\" \"install\" \"--save-dev\"\n9 error cwd /home/etherpad/local/etherpad/etherpad-lite\n10 error node -v v0.10.37\n11 error npm -v 1.4.28\n12 error path /home/etherpad/local/etherpad/etherpad-lite/package.json\n13 error code ENOPACKAGEJSON\n14 error errno 34\n15 verbose exit [ 34, true ]\"\nDo I need to update npm or node itself? I note there's no package.json file in the top level etherpad-lite dir... that's the way it should be, right? Seems like I've seen this sort of problem elsewhere in the etherpad-lite issues... \n. I've replaced the entire etherpad-lite directory with a fresh git clone (although I would've thought a git pull would accomplish the same thing) and simply transferred my settings.json to the new directory and then restarted etherpad-lite. The same errors mentioned previously result... I'm suspecting that there's something wrong with system npm or node library versions... The same dependency build errors seem to occur, namely: \n\nws@0.5.0 install /home/etherpad/local/etherpad/etherpad-lite/src/node_modules/socket.io/node_modules/engine.io/node_modules/ws\n(node-gyp rebuild 2> builderror.log) || (exit 0)\nws@0.4.31 install /home/etherpad/local/etherpad/etherpad-lite/src/node_modules/socket.io/node_modules/socket.io-client/node_modules/engine.io-client/node_modules/ws\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nAny further suggestions for what I could change, or things I could try to help narrow down the problem?\n. For what it's worth, I'm running 0.10.37-1chl1~precise1 (installed via Ubuntu package manager from the Chris Lea PPA - http://ppa.launchpad.net/chris-lea/node.js/ubuntu). The error log output from the latest run of etherpad-lite (with the freshly cloned repo): \n```\nnpm@2.7.6 node_modules/npm\nEnsure jQuery is downloaded and up to date...\nClearing minified cache...\nEnsure custom css/js files are created...\nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\n\nws@0.5.0 install /home/etherpad/local/etherpad/etherpad-lite/src/node_modules/socket.io/node\n_modules/engine.io/node_modules/ws\n(node-gyp rebuild 2> builderror.log) || (exit 0)\nws@0.4.31 install /home/etherpad/local/etherpad/etherpad-lite/src/node_modules/socket.io/nod\ne_modules/socket.io-client/node_modules/engine.io-client/node_modules/ws\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nchannels@0.0.4 node_modules/channels\nsecurity@1.0.0 node_modules/security\nasync-stacktrace@0.0.2 node_modules/async-stacktrace\nslide@1.1.6 node_modules/slide\ngraceful-fs@3.0.6 node_modules/graceful-fs\ntinycon@0.0.1 node_modules/tinycon\nformidable@1.0.17 node_modules/formidable\nasync@0.9.0 node_modules/async\netherpad-require-kernel@1.0.9 node_modules/etherpad-require-kernel\nunderscore@1.8.3 node_modules/underscore\nlanguages4translatewiki@0.1.3 node_modules/languages4translatewiki\nunorm@1.3.3 node_modules/unorm\ncookie-parser@1.3.4 node_modules/cookie-parser\n\u251c\u2500\u2500 cookie-signature@1.0.6\n\u2514\u2500\u2500 cookie@0.1.2\nsemver@4.3.3 node_modules/semver\nmeasured@1.0.0 node_modules/measured\n\u2514\u2500\u2500 inherits@2.0.1\nexpress-session@1.11.1 node_modules/express-session\n\u251c\u2500\u2500 utils-merge@1.0.0\n\u251c\u2500\u2500 on-headers@1.0.0\n\u251c\u2500\u2500 parseurl@1.3.0\n\u251c\u2500\u2500 depd@1.0.1\n\u251c\u2500\u2500 cookie-signature@1.0.6\n\u251c\u2500\u2500 cookie@0.1.2\n\u251c\u2500\u2500 crc@3.2.1\n\u251c\u2500\u2500 uid-safe@1.1.0 (base64-url@1.2.1, native-or-bluebird@1.1.2)\n\u2514\u2500\u2500 debug@2.1.3 (ms@0.7.0)\nresolve@1.1.6 node_modules/resolve\netherpad-yajsml@0.0.2 node_modules/etherpad-yajsml\nejs@2.3.1 node_modules/ejs\nsupertest@0.15.0 node_modules/supertest\n\u251c\u2500\u2500 methods@1.1.1\n\u2514\u2500\u2500 superagent@0.21.0 (extend@1.2.1, methods@1.0.1, cookiejar@2.0.1, component-emitter@1.1.2, reduce-component@1.0.1, qs@1.2.0, mime@1.2.11, debug@2.1.3, form-data@0.1.3, formidable@1.0.14, readable-stream@1.0.27-1)\nexpress@4.12.3 node_modules/express\n\u251c\u2500\u2500 merge-descriptors@1.0.0\n\u251c\u2500\u2500 utils-merge@1.0.0\n\u251c\u2500\u2500 cookie-signature@1.0.6\n\u251c\u2500\u2500 methods@1.1.1\n\u251c\u2500\u2500 cookie@0.1.2\n\u251c\u2500\u2500 fresh@0.2.4\n\u251c\u2500\u2500 escape-html@1.0.1\n\u251c\u2500\u2500 range-parser@1.0.2\n\u251c\u2500\u2500 finalhandler@0.3.4\n\u251c\u2500\u2500 vary@1.0.0\n\u251c\u2500\u2500 content-type@1.0.1\n\u251c\u2500\u2500 parseurl@1.3.0\n\u251c\u2500\u2500 serve-static@1.9.2\n\u251c\u2500\u2500 content-disposition@0.5.0\n\u251c\u2500\u2500 path-to-regexp@0.1.3\n\u251c\u2500\u2500 depd@1.0.1\n\u251c\u2500\u2500 on-finished@2.2.0 (ee-first@1.1.0)\n\u251c\u2500\u2500 qs@2.4.1\n\u251c\u2500\u2500 debug@2.1.3 (ms@0.7.0)\n\u251c\u2500\u2500 etag@1.5.1 (crc@3.2.1)\n\u251c\u2500\u2500 proxy-addr@1.0.7 (forwarded@0.1.0, ipaddr.js@0.1.9)\n\u251c\u2500\u2500 send@0.12.2 (destroy@1.0.3, ms@0.7.0, mime@1.3.4)\n\u251c\u2500\u2500 accepts@1.2.5 (negotiator@0.5.1, mime-types@2.0.10)\n\u2514\u2500\u2500 type-is@1.6.1 (media-typer@0.3.0, mime-types@2.0.10)\nclean-css@3.1.9 node_modules/clean-css\n\u251c\u2500\u2500 commander@2.6.0\n\u2514\u2500\u2500 source-map@0.1.43 (amdefine@0.1.0)\nlog4js@0.6.22 node_modules/log4js\n\u251c\u2500\u2500 semver@1.1.4\n\u251c\u2500\u2500 async@0.2.10\n\u2514\u2500\u2500 readable-stream@1.0.33 (isarray@0.0.1, inherits@2.0.1, string_decoder@0.10.31, core-util-is@1.0.1)\nuglify-js@2.4.19 node_modules/uglify-js\n\u251c\u2500\u2500 uglify-to-browserify@1.0.2\n\u251c\u2500\u2500 async@0.2.10\n\u251c\u2500\u2500 yargs@3.5.4 (camelcase@1.0.2, decamelize@1.0.0, window-size@0.1.0, wordwrap@0.0.2)\n\u2514\u2500\u2500 source-map@0.1.34 (amdefine@0.1.0)\nrequest@2.55.0 node_modules/request\n\u251c\u2500\u2500 caseless@0.9.0\n\u251c\u2500\u2500 json-stringify-safe@5.0.0\n\u251c\u2500\u2500 aws-sign2@0.5.0\n\u251c\u2500\u2500 forever-agent@0.6.1\n\u251c\u2500\u2500 form-data@0.2.0\n\u251c\u2500\u2500 stringstream@0.0.4\n\u251c\u2500\u2500 oauth-sign@0.6.0\n\u251c\u2500\u2500 tunnel-agent@0.4.0\n\u251c\u2500\u2500 isstream@0.1.2\n\u251c\u2500\u2500 node-uuid@1.4.3\n\u251c\u2500\u2500 combined-stream@0.0.7 (delayed-stream@0.0.5)\n\u251c\u2500\u2500 qs@2.4.1\n\u251c\u2500\u2500 mime-types@2.0.10 (mime-db@1.8.0)\n\u251c\u2500\u2500 http-signature@0.10.1 (assert-plus@0.1.5, asn1@0.1.11, ctype@0.5.3)\n\u251c\u2500\u2500 bl@0.9.4 (readable-stream@1.0.33)\n\u251c\u2500\u2500 tough-cookie@0.12.1 (punycode@1.3.2)\n\u251c\u2500\u2500 hawk@2.3.1 (cryptiles@2.0.4, sntp@1.0.9, boom@2.7.1, hoek@2.12.0)\n\u2514\u2500\u2500 har-validator@1.6.1 (commander@2.8.0, chalk@1.0.0, is-my-json-valid@2.10.1, bluebird@2.9.24)\nmocha@2.2.4 node_modules/mocha\n\u251c\u2500\u2500 escape-string-regexp@1.0.2\n\u251c\u2500\u2500 supports-color@1.2.1\n\u251c\u2500\u2500 diff@1.0.8\n\u251c\u2500\u2500 growl@1.8.1\n\u251c\u2500\u2500 commander@2.3.0\n\u251c\u2500\u2500 debug@2.0.0 (ms@0.6.2)\n\u251c\u2500\u2500 mkdirp@0.5.0 (minimist@0.0.8)\n\u251c\u2500\u2500 glob@3.2.3 (inherits@2.0.1, graceful-fs@2.0.3, minimatch@0.2.14)\n\u2514\u2500\u2500 jade@0.26.3 (commander@0.6.1, mkdirp@0.3.0)\nueberDB@0.2.15 node_modules/ueberDB\n\u251c\u2500\u2500 felix-couchdb@1.0.7\n\u251c\u2500\u2500 redis@0.12.1\n\u251c\u2500\u2500 dirty@0.9.9\n\u251c\u2500\u2500 async@0.1.15\n\u251c\u2500\u2500 cassandra-driver@2.0.1 (async@0.9.0, long@2.2.3)\n\u251c\u2500\u2500 mysql@2.6.1 (require-all@1.0.0, readable-stream@1.1.13, bignumber.js@2.0.5)\n\u2514\u2500\u2500 pg@4.3.0 (packet-reader@0.2.0, pg-connection-string@0.1.3, buffer-writer@1.0.0, generic-pool@2.1.1, pg-types@1.7.0, pgpass@0.0.3)\njsonminify@0.2.3 node_modules/jsonminify\nsocket.io@1.3.5 node_modules/socket.io\n\u251c\u2500\u2500 debug@2.1.0 (ms@0.6.2)\n\u251c\u2500\u2500 has-binary-data@0.1.3 (isarray@0.0.1)\n\u251c\u2500\u2500 socket.io-adapter@0.3.1 (object-keys@1.0.1, debug@1.0.2, socket.io-parser@2.2.2)\n\u251c\u2500\u2500 engine.io@1.5.1 (base64id@0.1.0, debug@1.0.3, engine.io-parser@1.2.1, ws@0.5.0)\n\u251c\u2500\u2500 socket.io-client@1.3.5 (to-array@0.1.3, indexof@0.0.1, component-bind@1.0.0, debug@0.7.4, object-component@0.0.3, backo2@1.0.2, component-emitter@1.1.2, has-binary@0.1.6, parseuri@0.0.2, engine.io-client@1.5.1)\n\u2514\u2500\u2500 socket.io-parser@2.2.4 (isarray@0.0.1, component-emitter@1.1.2, debug@0.7.4, benchmark@1.0.0, json3@3.2.6)\nswagger-node-express@2.1.3 node_modules/swagger-node-express\n\u2514\u2500\u2500 lodash@1.3.1\ncheerio@0.19.0 node_modules/cheerio\n\u251c\u2500\u2500 entities@1.1.1\n\u251c\u2500\u2500 dom-serializer@0.1.0 (domelementtype@1.1.3)\n\u251c\u2500\u2500 css-select@1.0.0 (boolbase@1.0.0, css-what@1.0.0, nth-check@1.0.1, domutils@1.4.3)\n\u251c\u2500\u2500 htmlparser2@3.8.2 (domelementtype@1.3.0, domutils@1.5.1, entities@1.0.0, domhandler@2.3.0, readable-stream@1.1.13)\n\u2514\u2500\u2500 lodash@3.7.0\nwd@0.3.11 node_modules/wd\n\u251c\u2500\u2500 vargs@0.1.0\n\u251c\u2500\u2500 q@1.0.1\n\u251c\u2500\u2500 underscore.string@2.3.3\n\u251c\u2500\u2500 lodash@2.4.1\n\u251c\u2500\u2500 request@2.46.0 (caseless@0.6.0, json-stringify-safe@5.0.0, forever-agent@0.5.2, aws-sign2@0.5.0, stringstream@0.0.4, oauth-sign@0.4.0, tunnel-agent@0.4.0, qs@1.2.2, node-uuid@1.4.3, mime-types@1.0.2, bl@0.9.4, tough-cookie@0.12.1, http-signature@0.10.1, hawk@1.1.1, form-data@0.1.4)\n\u2514\u2500\u2500 archiver@0.12.0 (buffer-crc32@0.2.5, lazystream@0.1.0, readable-stream@1.0.33, zip-stream@0.4.1, tar-stream@1.0.2, glob@4.0.6)\n```\n. The builderror.log files contain: \n```\nin src/node_modules/socket.io/node_modules/socket.io-client/node_modules/engine.io-client/node_modules/ws/builderror.log\n--\n/usr/lib/node_modules/npm/node_modules/node-gyp/lib/node-gyp.js:54\n    throw new Error(\n          ^\nError: node-gyp requires that the user's home directory is specified in either of the environmental variables HOME or USERPROFILE\n    at new Gyp (/usr/lib/node_modules/npm/node_modules/node-gyp/lib/node-gyp.js:54:11)\n    at gyp (/usr/lib/node_modules/npm/node_modules/node-gyp/lib/node-gyp.js:43:10)\n    at Object. (/usr/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js:20:12)\n    at Module._compile (module.js:456:26)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Function.Module.runMain (module.js:497:10)\n    at startup (node.js:119:16)\n    at node.js:935:3\nand in src/node_modules/socket.io/node_modules/engine.io/node_modules/ws/builderror.log\n/usr/lib/node_modules/npm/node_modules/node-gyp/lib/node-gyp.js:54\n    throw new Error(\n          ^\nError: node-gyp requires that the user's home directory is specified in either of the environmental variables HOME or USERPROFILE\n    at new Gyp (/usr/lib/node_modules/npm/node_modules/node-gyp/lib/node-gyp.js:54:11)\n    at gyp (/usr/lib/node_modules/npm/node_modules/node-gyp/lib/node-gyp.js:43:10)\n    at Object. (/usr/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js:20:12)\n    at Module._compile (module.js:456:26)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Function.Module.runMain (module.js:497:10)\n    at startup (node.js:119:16)\n    at node.js:935:3\n```\n. Ok - I was triggering the dependency build by running (as root), service etherpad-lite start... Running bin/run.sh as the etherpad user, I get a somewhat different builderror.log (/node_modules/socket.io/node_modules/engine.io/node_modules/ws/builderror.log) - all warnings as far as I can tell:\n../src/bufferutil.cc: In static member function 'static void BufferUtil::Initialize(v8::Handle<v8::Object>)':\n../src/bufferutil.cc:32:17: warning: 'v8::Local<v8::String> NanSymbol(const char*, int)' is deprecated (declared at ../node_modules/nan/nan.h:1048) [-Wdeprecated-declarations]\n../src/bufferutil.cc:32:39: warning: 'v8::Local<v8::String> NanSymbol(const char*, int)' is deprecated (declared at ../node_modules/nan/nan.h:1048) [-Wdeprecated-declarations]\n../src/validation.cc: In static member function 'static void Validation::Initialize(v8::Handle<v8::Object>)':\n../src/validation.cc:112:17: warning: 'v8::Local<v8::String> NanSymbol(const char*, int)' is deprecated (declared at ../node_modules/nan/nan.h:1048) [-Wdeprecated-declarations]\n../src/validation.cc:112:39: warning: 'v8::Local<v8::String> NanSymbol(const char*, int)' is deprecated (declared at ../node_modules/nan/nan.h:1048) [-Wdeprecated-declarations]\n. Stilll seeing the same problems with the admin/plugins/info and trying to view existing pads... \n. I appreciate your help. I'd be happy to have you take a look - to get your email, you can email me at githubspam@sound.org.nz :) (going to bed now, though)\n. Ok, because I need to get the Etherpad-lite instance back up and running fairly urgently, I've resorted to returning to a backup of the code I had in place prior to the most recent git pull... It's now working, however, I'm keen to upgrade it at some point. I will try running an upgraded version elsewhere prior to deploying it on the live site. Thanks very much for your help, John - at this stage, the problem hasn't been fixed, but I've worked around it for the time being. \n. Ok, then I need to work out how to upgrade without munting my installation :) Any suggestions welcome.\n. If you're willing/able, let me know - perhaps provide me with your public key via email, and I'll give you ssh access as the etherpad-lite user on the server... would that work?\n. Thanks again for your help, John. For posterity, what John did was to create a brand new install (via git clone) of the etherpad-lite codebase, and simply copy the settings.json file to the new directory... Thought I'd tried that, but apparently didn't clear everything out properly. Anyway, it works now. \n. Thanks for following up, Gared. Apologies - I'm trying to work out how to debug etherpad-lite (and node.js in general). I've now got my etherpad running with a log file, and running it manually rather than via my etherpad-lite.conf... I'll report back once I've identified any pattern in the crashes. Previously, all I knew was that etherpad-lite would stop responding to nginx, and that a restart of etherpad-lite was required.\n. Useful, thanks Cyrille37 - I also had ep_author_hover on my 1.5.7 instance (wasn't experiencing your specific problem, but general instability, with etherpad-lite crashing for unknown reasons)... Removed and now testing stability...\n. For the record, stability has been much better since that change... still the occasional crash, but only every month or so as opposed to every few hours. Thanks for your hard work on this all, especially you, @JohnMcLear!\n. ",
    "cdauth": "I have the same problem when trying to run Etherpad through different Docker images, for example fuerst/etherpad-docker and tvelocity/etherpad-lite.. It turns out that for me this was a simple browser caching issue! After reloading with Ctrl+Shift+R, everything loads fine again.. ",
    "shanukus98765": "Thanks. This would be of great help. I will cross check for more edge cases.\n. @webzwo0i: I had earlier mentioned 2 cases where the \"getHTMLFromAtext\" within ExportHTML.js is generating wrong HTML output.\nAs far as I can see, putting indentation as a  tag is causing problems. If you immediately start with an indented paragraph after finishing a list, the list tag is not being closed and an extra  tag comes in for indentation.\n. ",
    "a1exus": "while running run.sh, I got following errors\nnpm ERR! fetch failed https://registry.npmjs.org/express/-/express-4.12.3.tgz\n$ rpm -q npm\nnpm-1.3.6-5.el7.noarch\n$\nother then that, I was able to start it and use it!\nThanks!\n. ",
    "joafri": "Silly me - found it in the Api-requests.\n. ",
    "emilyxxie": "Thanks. Sorry for the delayed response on this --- but I tried removing all the plugins. This did not work. However, commenting out the plugins in the etherpad root level package.json file did somehow work.\n. Yeah, no clue.\n. Hi Pita. Good point--I've made the changes (on the same commit). Let me know if there's anything else you'd like me to do.\n. Hey just wanted to check on the ETA for merging this pull request.\n. ",
    "akuckartz": "Thanks for the quick reply. In parallel I had already executed this:\n$ npm install -g npm\nThat resolved the issue and Etherpad is running now !\n. @Salamandar Which problems do you see with etherpad-lite on a phone (and intend to solve using native Android technoloigies) ?\n. Those issues can be resolved using web technologies.\n. @Salamandar No, I do not care if a native app is developed or not. But I think that the issues you listed should be resolved in the web app.\n. \"Dokument\" is word known by every German speaker. \"Pad\" is neither a German word nor one offen used by Germans.\n. Strange hoster.... ",
    "stefanschauer": "ah thanks!\ni checked if i have any plugins installed and deleted ep_ldapauth and I can access now the admin area.\nmany thanks!\n. ",
    "fortysevenlabs": "Stopped etherpad-lite. Updated the etherpad-lite code base. Re-started etherpad-lite. \nStill the same error.\n\nError in Logs\n[2015-04-30 12:55:33.883] [ERROR] console - Failed to load 'ep_etherpad-lite/node/hooks/express/socketio:expressCreateServer' for 'ep_etherpad-lite/socketio/hooks/expressCreateServer': TypeError: object is not a function\n\nError when creating a new pad\nAn error occured\nThe error was reported with the following id: 'vp3p8YhL29yv7sK9Q5Sq'\nPlease press and hold Ctrl and press F5 to reload this page, if the problem persists please send this error message to your webmaster:\n'ErrorId: vp3p8YhL29yv7sK9Q5Sq\nURL: http://etherpad.domain.com:9001/p/test\nUserAgent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.90 Safari/537.36\nUncaught ReferenceError: io is not defined in http://etherpad.domain.com:9001/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define at line 232'\n. Etherpad works as expected after the cleanRun. Thanks!\n. ",
    "xavidotron": "Thanks!  The tests did depend on the old behavior, so I added a commit to fix them.  The tests also revealed that my change broke setPadHTML(), which seems to depend on setText('') leaving a single newline character in the pad.  I don't understand the implementation of setPadHTML() enough to understand the failure, but changing that line to setText('\\n') seems to fix the test.\n. Frontend tests pass without issue.  Thanks!\n. I ran the backend tests and they passed.\n. Is there an example of a test that registers a hook?  I tried to figure out how to write a test, but wasn't sure the best way to register a hook.\nI updated the documentation in doc/api/hooks_server-side.md.  I don't think there's anything to update with the API endpoints, since this is just changing a server-side hook, not an endpoint.  Is there anywhere else I need to document this?\n. I think Etherpad assumes some places that a pad will always end with a newline.  (Which I guess is the reason for the behavior before my #2649, though I didn't realize this at the time.)  Possibly the right behavior is for setText() to only add a newline if the parameter doesn't already end with a newline.  I expect that would fix this issue while still avoiding my problem where a series of getText() and setText() calls would keep adding additional newlines to the end of the pad.\n. Ok, abandoning this in favor of a plugin (https://github.com/xavidotron/ep_sync_status).\n. Any status on this pull request?  Anything I need to do to get it merged?\n. Any chance of getting this pull request looked at?\n. Added a frontend test and ensured that frontend tests pass. Thanks!\n. The plugin I intend to use this hook uses the attribute manager to look at the attributes of the current cursor to show the current style in a UI element.  Other hooks pass the documentAttributeManager in this way, so I thought that would be fine.\n. ",
    "allan-simon": "ok thanks for your feedback i'm going to check that tomorrow morning and tell you the result.\n. @JohnMcLear  thanks for the upstream patch\n. ",
    "MoGray": "You should be able to do it to just one table if you want like this,\nALTER TABLE table_name\n    [[DEFAULT] CHARACTER SET charset_name]\n    [COLLATE collation_name]\nIf you wanted you could do it for your entire database by,\nALTER DATABASE database_name DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci;\n. ",
    "jgranduel": "Sorry, my big mistake, I had missed that listAllPads was available from API >= 1.2.1. My brain was stuck with pad.domain/api/1/createGroupIfNotExistsFor?apikey=secret&groupMapper=7 trying testing 1.1, then 1.2 without realising I could query the API with GET /api.\nThanks.\n. ",
    "theredcat": "No, unfortunatly it doesn't fix it : the.red.cat:9001/p/fghfgh\n. My windows language, windows keyboard language and etherpad language are all French\n. Thank you! Works for me too now\n. ",
    "snolahc": "Maybe you could switch to a real OS and a real keymap ?\n  sorry :)\n. ",
    "stefanmintert": "No. It's a fix for Chrome ;-)\nTested with FF and Chrome as described at https://github.com/tm-linkwerk/ep_linebreak/blob/WR-72-linebreak-cursorverhalten/static/hooks.js#L212\n(Un)fortunately I can't install MSIE on my linux :-)\nBut, what do you think about \nfunction nodeText(n) {\n  if (browser.msie) {\n    return n.innerText || n.textContent || n.nodeValue || '';\n  } else {\n    return n.textContent || n.nodeValue || '';\n  }\n}\n?\nThat wouldn't change anything for browser.msie. \n. ",
    "falanster": "it was cleaning up var/dirty.db file because it was written incorrectly with overflow space in a root part.\nabout increase space for system is here\nraspberrypi.stackexchange.com/questions/499/how-can-i-resize-my-root-partition\n. @JohnMcLear thanks\n. ",
    "othiym23": "From https://github.com/npm/npm/blob/master/CHANGELOG.md#peerdependencies:\n\nThis shifts the responsibility for fulfilling peer dependencies from library / framework / plugin maintainers to application authors, and is intended to get users out of the dependency hell caused by conflicting peerDependency constraints. npm's job is to keep you out of dependency hell, not put you in it.\n\nSo, in the case of ep_slideshow, it looks like it depends directly on ep_headings2, and the simplest way to handle the case where plugins are depending on other plugins is to express that as a simple dependency. I think in this case, it'll work fine. There are two more complicated aspects of this problem:\n1. A plugin is written in such a way that it needs to be a singleton, either because of its own state or resources that it needs exclusive access to, or because of how EtherPad's plugin architecture works. The position of the npm team is that this is an architectural anti-pattern that depends on an implicit behavior of Node's module loader. Code written this way should probably be rewritten to use globals explicitly, or to use a dependency injection strategy that doesn't depend on the module being at any particular position in the tree.\n2. A plugin may end up in the tree multiple times. If the dependency is being installed by npm@3, then this should happen relatively infrequently, and in the cases in which it does, it's almost inarguably the right thing to happen, because this is exactly the situation that would have led to a peerDependency conflict in older versions of npm (due to conflicting semver ranges). Most of the time, the hoisting of dependencies in npm@3 will mean that plugins declared as dependencies will end up as peers.\nSo, the simple solution is for plugins depending on other plugins is to move the dependencies from peerDependencies to dependencies. In which cases will this not work for EtherPad?\n. ",
    "LukasBombach": ":+1: \n. ",
    "RoyiAvital": "Where is the request for MathJax Plug In?\n. ",
    "tudorilisoi": "Hello, John!Travis says I have no valid key/pass \nOn Saturday, May 16, 2015 10:03 PM, John McLear <notifications@github.com> wrote:\nDoes this pass the backend and frontend tests?\u2014\nReply to this email directly or view it on GitHub. \n. Thanks, I will do that. I submitted the patch in a late morning, you know... \nI'll try a few hundreds of CKEditor generated html docs, and if this and the tests go fine I believe we may have something here.\n. @pita this is no feature branch, but a heavily customized EP. I would like to contribute some atomic pull requests, but there's never enough time. One of the highlights is the use of gulp, browserify for bundling and a more proper static assets server for monofication\n. Minification, sorry, I'm on Android\n. Okay. I'm not disciplined enough to do atomic feature branches\n. ",
    "cherifya": "You can work around this patch by pointing etherpad to this commit of ueberDB.\nIn the package.json, replace\n\"ueberdb2\"                : \"0.3.0\",\nwith\n\"ueberdb2\"                : \"https://github.com/cherifya/ueberDB.git#issue-2669\",\n. ",
    "NathanNeff": "The problem with relying on a browser to manage font sizes\nis that when I increase the fonts using using Cmd + \"+\" button in my browser,\nall the fonts on the page (including menus, buttons, etc) are increased.\nIn many cases, buttons, menus, etc are pushed off the page -- see this screenshot:\nhttps://www.evernote.com/l/AOKImWCeSdZPF4rG-i3ovO4UgJyIuHkBieU\nAm I missing a simple way to use my browser to increase the font size for the Etherpad\ntext?\nThanks,\n--Nate\n. This plugin looks like exactly what I want on primary pad.com\nI don't want to configure font sizes for individual portions\nof text.  I would simply like a drop-down-box at the top of the page, would\nhave something like 100% 125% 150%, etc.  When a user selects a size, the\nfont of the Etherpad text on the page is increased by a certain margin.\nThis feature was on older versions of Etherpad, and is now missing.\nOn Wed, Sep 16, 2015 at 9:06 AM, Markus notifications@github.com wrote:\n\nSorry, my fault.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/2671#issuecomment-140735760\n.\n. \n",
    "markusk": "Hm, isn't this resolved by this plugin?\nhttps://npmjs.org/package/ep_user_font_size\n. Sorry, my fault.\n. ",
    "Mte90": "With the high resolutions monitor it is very difficult to see properly text with a resolution 1920x1080 and his option today will be very useful. Sometimes I have a crash on https://public.pad.fsfe.org/p/wproma-tday-2016, like now on chrome and firefox i cannot access to the content\n. ",
    "joassouza": "@Mte90 I can work on it. Stupid question, does the ' /* */' wrap your db config? It seems so...\n. What version of node are you running? \n. I guess you're having the same error reported in #3074 .\nCan you downgrade the node version and try again? \n. Do you have admin access? You can try to get html of the pad using the API.. Sure @lpagliari. I'm gonna work on it.. I'm close this one to create a new one. For me it seems everything is ok!\nMac OS 10.12.6 (16G29)\nFirefox 55.0.3 (64-bit)\nCan you test it in this pad?\nhttps://beta.etherpad.org/p/joas123. Are there any errors on the Firefox inspector console? If so, can you paste it here?. Good @ocdtrekkie! =). To make clear we use two definitions of line: browser line and rep line. This is representation of it.\n\n. can you test with an HTML like \n<html><body><div><span>test</span></div></body></html>?. As it seems to be an issue of the plugin, not the Etherpad, can you close it? Feel free to report the error on the ep_page_view =). this function is called in 3 cases: \nWhen user presses arrow up, arrow down or make an edition. In these three cases we don't keep the selection (rep.selStart !== rep.selEnd). I totally agree but this code was already there. You'd get an error. This function is called twice\ngetPositionOfRepLineAtOffset(firstRootChildNode, 1)\ngetPositionOfRepLineAtOffset(lastRootChildNode.node, lastRootChildNode.length)\nIn both cases is not possible to get the inner node as the example. . actually it's not the same but it's quite similar. It does. We consider the height of the current line to validate if it has space to another line of the same height. When it changes the height of a part (e.g. a word, as the example) it changes the height of the all line.  . I guess it's a code not used anymore. good idea!. ",
    "slel": "It is a common user interface problem to separate the magnification of\na whole webpage vs just a text portion of it.\nNote that this very problem is solved in the CoCalc\n\"Collaborative Calculation in the cloud\" platform, where the CoCalc menu bar\ninside the browser window has icons \"small A\" and \"large A\" that let the user\ndecrease or increase the font size for the text part of the interface, without\naffecting the menu parts.\nI wish a similar solution was implemented in Etherpad-Lite.\nIn Software Carpentry workshops, the\ninstructors, helpers and attendees use an etherpad to keep track of issues,\ncomments, links, discussions that arise during the workshop. In the\nJanuary 2018, ENES Morelia\nSoftware Carpentry workshop, I was acting as a helper, maintaining the\netherpad and displaying a portion of it to a large screen on the wall at\nthe front of the room, and had to increase size a lot for it to be readable.\nBecause of doing that with cmd-+ or ctrl-+, most of the screen ended\nup being eaten by the etherpad top and side parts (menu, chat, author names).\nFinally, note that this issue has some relation to other etherpad-lite issues:\n\n\nkentonv/etherpad-lite#24: Can the font size be a little bigger?\n  https://github.com/kentonv/etherpad-lite/issues/24\n\n\netherpad-lite/#3233: Improved readibility in default font size and highlight colors\n  https://github.com/ether/etherpad-lite/issues/3233\n\n\netherpad-lite/#2671: User-configurable font size\n  https://github.com/ether/etherpad-lite/issues/2671\n. Maybe rename this issue:\n\nTwo incositent version with %20 at the end.\nTwo inconsistent versions with %20 at the end. Thaanks!!. See #3378. Possibly duplicate of #3354 which was solved very recently (09 Jul 2018).\nPlease check if the fix there solves it, or if your issue is after the fix there.. Some people have had success installing the Fedora RPM package:\nhttps://www.linuxquestions.org/questions/linux-software-2/is-it-possible-to-install-abiword-on-centos-7-a-4175582704/#post5564359. Please fix the typo \"se\" -> \"set\" in the title/summary and first comment of this issue.\nThis will prevent wondering if \"se\" is a typo for \"set\" or \"see\" and having to dig in.. No worries. Thanks for fixing and sorry for the noise.. The way CoCalc does it is that chat files and the side chat\nof any file have a button to start a video or audio chat (formerly using\nappear-in, presently using jit-si).. \n\n\n",
    "shimaore": "@JohnMcLear The error happens because remove is enumerated by for( var i in operations ) at line 488 of ueberDB/CacheAndBufferLayer.js. The modification to Array.prototype in b662d5c61802d42ee4214799520e7c3ed95a3ef5 is what causes that issue.\nTo reproduce I simply installed HEAD, modified settings.json to use sqlite (and did the required npm install sqlite3), and tried to access /p/test. Using a dumb console.log(i) in ueberDB/CacheAndBufferLayer.js I can see the enumerated entries have indexes 0 and remove.\n. I suspect it'll just enumerate removeItem instead of remove, let me check ;)\n. ",
    "SpamapS": "That's really great, thank you for directing me to it!\n. ",
    "Natim": "I search for compose before creating this ticket and didn't find anything, I search with dead key and keys without success either. Coud you please add a link to the issue you are talking about?\nThanks.\n. Related:\n- https://github.com/ether/etherpad-lite/issues/2539\n- https://github.com/ether/etherpad-lite/pull/2621\n. It seems to work well on https://beta.etherpad.org/ though.\n. ",
    "R1kk3r": "https://beta.etherpad.org works fine. When you have settings.json with \"alwaysShowChat\" and \"chatAndUsers\" set to \"true\" then the user's preferences are overwrited each time the user access to a new/existing pad, regardless if a cookie contains other preferences.\nFrom my point of view, these settings should apply only when you first connect to a pad. Afterwards, if the user change these settings (saved in the cookie), they should overwrite the default one (from settings.json) when accessing any pad during the user session.\n. I made some testing (last version 7e38e2c2b1876a1f03b32824495f747ea16d3eb2)  with many different padOptions:\n\"padOptions\": {\n    \"noColors\": false,\n    \"showChat\":false,\n    \"showLineNumbers\": true,\n    \"useMonospaceFont\": true,\n    \"userName\": true,\n    \"userColor\": false,\n    \"rtl\": false,\n    \"alwaysShowChat\": true,\n    \"chatAndUsers\": false,\n    \"lang\": \"en-gb\"\n  },\nnoColors\nEnable/Disable the possibility to have user color in Etherpad.\nBut it does not disable the checkbox inside user preference. So the user can try to check/uncheck it without making any difference.\nimprovement : Mark the checkbox as greyed inside user preference box. Maybe specify in comments that this option overwrite the \"userColor\" option.\nshowControls\nDisable/Enable the toolbar. \nIf disable, an user can activate it with Firebug for example (by modifying HTML). If a plugin like \"fileupload\" was used before setting this option to \"false\", then an attacker can reactivate the toolbar and upload file (php?). Seems dangerous...\nimprovement : Don't just hide the toolbar, but remove it from the HTML source.\nshowChat\nEnable/Disable a minified chat window in case of \"alwaysShowChat\" or/and \"userAndChat\" set to false.\nIf the goal was to disable the whole chat system, it does not work. The user can always (even if \"showChat\" set to \"false\") enable the \"alwaysChat\" or \"userAndChat\" in his preference box and use the chat.\nimprovement : Add this option in the user preference box to have 3 different Chat view (no chat, minified chat windows, sticky chat, sticky chat with user). Add a real \"showChat\" that allow to enable/disable the whole chat system from etherpad.\nshowLineNumbers\nEnable/Disable line numbering.\nIf set to \"true\", user can override it through the user preference box and the choice is saved between pad.\nIf set to \"false\", user can override it through the user preference box but the choice is not saved between pad.\nimprovement : Keep the user choice about showing line number even if set to \"false\" as default value.\nuserName\nNo idea what this option is doing... Seems to have no effect at all.\nuserColor\nEnable/Disable user color.\nCan be overrided by user in both case (\"true\", or \"false\").\nHave no effect if \"noColor\" is set to \"true\".\nimprovement : Add a comment about the dependence with \"noColor\" option.\nrtl\nEnable/Disable right to left.\nIf set to \"true\", the checkbox in user preference is not checked.\nimprovement : Fix the bug in user preference by enabling the checkbox if this option is set to true.\nalwaysShowChat\nEnable/Disable the chat panel.\nIf set to \"false\", user can overwrite the value and it's saved between pad.\nIf set to \"true\", user can overwrite the value for the current pad only (not saved between pad).\nimprovement : Keep the user preference between pad for both case.\nchatAndUsers\nEnable/Disable both chat and user panel.\nIf set to \"false\", user can overwrite the value and it's saved between pad.\nIf set to \"true\", user can overwrite the value for the current pad only (not saved between pad).\nimprovement : Keep the user preference between pad for both case.\nGeneral\nSome options are just default value for the user preference while other options disable completely an etherpad functionnality. It should be nice to add comments to make the difference between these two kind of option clear.\n. No time right know but in a few weeks yes I will.\n. ",
    "yurivict": "When piped to file, log looks like this\nStarted Etherpad...\n^[[33m[2015-05-30 21:26:58.721] [WARN] console - ^[[39mDirtyDB is used. This is fine for testing but not recommended for production.\n^[[32m[2015-05-30 21:27:00.402] [INFO] console - ^[[39mInstalled plugins:\n^[[32m[2015-05-30 21:27:00.439] [INFO] console - ^[[39mReport bugs at https://github.com/ether/etherpad-lite/issues\n^[[32m[2015-05-30 21:27:00.442] [INFO] console - ^[[39mYour Etherpad version is 1.5.6 (b049f4b)\n^[[32m[2015-05-30 21:27:00.622] [INFO] console - ^[[39mYou can access your Etherpad instance at http://0.0.0.0:9001/\n^[[33m[2015-05-30 21:27:00.622] [WARN] console - ^[[39mAdmin username and password not set in settings.json.  To access admin please uncomment and edit 'users' in settings.json\n. This same issue came up with git ~6 mo ago, in relation with pager. You might want to look up that discussion in archives. I remember this was very tough to guess if pager can handle colors. They ended up insisting on colors, but involved guess work makes system error prone.  No general way to do this accurately.\nYou need to either go this hard way. Or just disable colors when output isn't the terminal, which is 100% easy.\n. Now when I looked, you have a lot of copy-pasted code with terminal sequences.\nYou need to use some standard js package (like this one https://github.com/sindresorhus/chalk) Then either this package will handle printing correctly, or it will be easy to fix it. But not with the current hard-coded style.\n. If the new settings values aren't set behavior doesn't change, so the old files will work.\nNot tested across multiple OS'.\n. It can be to the left of \"Import/Export\" button, or on the \"Pad Settings\" box.\n. ",
    "leegee": "One solution might be to look at this in reverse: only render in colour if requested to do so.\n. Using this solution, how can I also use a custom layout pattern? Why not just #2685 ?\nOne solution might be to look at this in reverse: only render in colour if requested to do so.\n. ",
    "cbarillet": "Ok : It was a bad use.\n. ",
    "rabanti-github": "One could consider to separate the settings for SSL and CA support like this:\n\"ssl\" : {\n            \"key\"  : \"/path-to-your/epl-server.key\",\n            \"cert\" : \"/path-to-your/epl-server.crt\"\n          },\n/*\n  \"ssl-ca\" : {\n            \"key1\"  : \"/path-to-your/epl-intermediate-cert1.crt\",\n            \"key2\" : \"/path-to-your/epl-intermediate-cert2.crt\"\n          },\n*/\nIt is a little bit confusing at the moment. The CA part could remain commented, whereas the common SSL part would be a separate block. The documentation for the CA part could also be (kind of) separated.\n. ",
    "g-borgulya": "Thank you, John.\nHowever, I still don't see the solution. I created a very simple plugin that shows my problem: https://github.com/g-borgulya/ep_lineattribute-test\nIf you write anything in etherpad using this plugin, it sets a lineattribute for the currently edited line, which causes the caret to continuously \"walk\" to the left while it's in the line. I don't know if this is an etherpad bug or if I'm doing something wrong.\n. OK, found the problem.\nI wanted to decorate the lines with span elements, but it simply doesn't seem to work either with or without registering span with aceRegisterBlockElements. It seems that one needs to register a new html tag and use it, otherwise there's a problem with the caret.\nAs soon as I registered for example 'x-whatever' with aceRegisterBlockElements and used aceDomLineProcessLineAttributes to add it as pre/postHTML, it stopped the unwanted behavior of the  caret. \nI updated the simplified plugin mentioned above, so it's basically a very simple plugin to demonstrate styling a line.\nhttps://github.com/g-borgulya/ep_lineattribute-test\n. I've been experimenting with a plugin that I wrote from scratch so it's not that easy for me to provide a step-by-step. But the basic concept is that I try to highlight lines of pads based on some data coming from a different server.\nSo after fetching the data from the remote server I tried to call setAttributeOnLine for the relevant lines. And at this point I experienced that in some cases it only worked for the user who wrote the original pad content because of the issue mentioned above. With the fix I proposed above it started to work correctly.\nI didn't try using removeAttributeOnLine so I have no info about that.\nLet me know if I can provide you with some more info.\n. I'm only using the plugin I wrote myself, and I can't be sure that it's 100% correct and uses every hook/method as intended. This plugin of mine is too complicated and special for simply sharing here. If I manage to find a simple to demonstrate the problem, I'm going to share that.\nAlthough I don't understand the etherpad code deep enough, this solution seems to make sense for me as currently\n1. there's no check for the author when the attribute is being changed\n2. so it's taking the original author of the attribute, (THIS IS THE PROBLEM)\n3. which can differ from the current author some cases,\n4. which causes a bad changeset.\nIf we submit the change specifying the correct author then there's no problem at all.\n. ",
    "charakterziffer": "A correction: Palladio (fallback for Palatino) has to be reference with URW Palladio L in the CSS.\nWould really have been great to discuss a) and b) more factual \u2013 not just \u201cridiculous\u201d or \u201cbad idea\u201c. Why is it bad to kick out some fonts? Backwards compatibility? It would make the font list more concise, clearly and therefore more useful. You seem to have a strong opinion about it, would be nice to know why.\nI would also be interested if you know some ressources about OpenDyslexic. I\u2019ve only found a publication about it, which had no significant results. What was your motivation to include it?\nI\u2019ll try a pull request in the next days. I\u2019ve never done that before with an other project but I\u2019ll figure it out.\n. I\u2019m sorry that you feel to be trolled, that\u2019s really not my intention. I just can\u2019t understand how this font selection was made. I think it\u2019s annoying to have at least three options which aren\u2019t usable at all.\nWebdings and Windings would make sense, if you could format single characters. But if you only could set the whole text in this fonts: Seriously, what\u2019s the point? Yu can\u2019t read anything anymore and the fonts aren\u2019t combatible to each other or any other font, because they don\u2019t use standardized Unicode points (like \u263a \u2713 \u2665 or \u03a3).\nThe font Symbol doesn\u2019t even contain a single latin character (no a\u2013z, no A\u2013Z)! It was developed in times before the Unicode standard and only contains a greek alphabet, mathematical symbols and some punctiation. Nowadays these 190-something symbols are integrated in one font file (Times New Roman shipped with Windows 7 contains all the Symbol characters and a lot more). So using the font Symbol will almost always result in getting something else.\nIt\u2019s like having a menu to choose from where two dishes are inedible and one consists of an empty blade. That\u2019s what I meant with \u201cnot professional\u201d.\nConcerning OpenDyslexic I got your point. Just wondered if you have information about that font I didn\u2019t have.\nIt\u2019s not comfy when your decisions are questioned. But believe me: Answering with only \u201cThat\u2019s a bad idea\u201d will bring us nowhere. (I know that sounds so trolling again, sorry) Please at least think about having less but more useful options.\nRemoving these three fonts, would this destroy documents set in Wingdings, Webdings or Symbol? Or would it assign the Normal font?\n. If you have thought about having three useless options in the list and don\u2019t find that annoying \u2026 I\u2019m not fully convinced.\nAt least you have fallbacks now, so that the working fonts are presented more true to original on different systems.\n. I guess the following proposal is too much, isn\u2019t it?\nHide these three fonts for all and remove them in six months unless someone who misses them files a bug report before. So every user would still have the same functionality independent of the browser s/he uses (I think browser hacks are bad).\nBut of course, if there\u2019s really someone out there who likes his/her texts in nothing but icons, removing these fonts is not the best idea.\nSo even while it collywobbles me \u2013 hiding Wingdings, Webdings and Symbol only for non-IE users should be okay.\n[An IE user writes to a Chrome user: \u201cHey, look how funny, you could make little images by choosing the font Webdings. The ! is a spider!\u201c. What\u2019s the better pointe? 1) Chrome user: \u201cCan\u2019t find Webdings\u201d or 2) \u201cHas no effect here\u201d \u2013 I know, I\u2019m bad and love discussing too much. Just ignore this and have a nice day! \ud83d\udd77]\n. I just don\u2019t get it. I\u2019ve deleted my fork and forked it again (so I have the very up-to-date files). Then I edited the relevant files, cloned them locally, tested them successful in Opera, Chrome and Firefox on Ubuntu \u2013 but I don\u2019t find the button to make a pull request so that they could be merged to your development branch. The edited files with differences are listed here:\n[https://github.com/ether/etherpad-lite/compare/develop...charakterziffer:5c025dbde2d38ca8ecb76e3dcd09fb52bb4fe737]\nIs that useful for you or what do I have to do?\nI only commented out the three fonts so that they could be restored easily. I\u2019ve prepared a bug report, so that IE users who miss the fonts could leave a comment there (I\u2019ll publish the report when the files are merged). The report also contains hints what has to be done to remove the fonts completely and get clean code (so in December 2015 or July 2016, depending an how long we should wait for complaints). Is that okay so?\n. And now, what\u2019s the next step? How can this bug be closed? By the way, here\u2019s the text of the new one which will be the reminder to remove the fonts completely:\n\nRemove the fonts Symbol, Wingdings and Webdings completely\nNote to the Reader\nAre you an user of Internet Explorer and miss the fonts Symbol, Wingdings and Webdings in the font selection menu of Etherpad? Then you\u2019ve found the right bug report. Just comment below that you wish to have these font options back. Because I\u2019m curious it would be nice if you could describe for what you use the fonts in Etherpad.\nNot an user of Internet Explorer? Then you\u2019ve probably never seen Wingdings, Webdings or Symbol on the Etherpad anyway. All three fonts use a propriatery character setting of Microsoft which is not compatible with any other font or the Unicode Standard. Only Internet Explorer shows the fonts correctly \u2013 as unreadable icons. Any other browser shows a fallback. Effectively without these three fonts the font selection is more usable to all users.\nRelated bug report: #2713\nWhy Weren\u2019t These Fonts Removed Completely?\nThere may be Internet Explorer users out there who really love these fonts and work with them. At the moment the fonts only where hidden in the menu (pull request ##NUMBER##) and could be brought back easily if anybody misses them. Users whose browser has a cookie containing one of the three fonts are able to keep their display setting (until they change it in the menu).\nWhat Is yet to Be Done?\nIf nobody misses these fonts in a reasonable time (maybe wait until December 2015, July 2016?) the following files should be edited to remove Webdings, Wingdings and Symbol completely:\nsrc/static/js/pad_editor.js\nline 35 \u2192 'useTrebuchetFont',\u2026\nand lines 175\u2013177 \u2192 if(font === \"symbol\")\u2026\nsrc/static/js/timeslider.js\nlines 181\u2013183 \u2192 if(font === \"symbol\")\u2026\nsrc/static/js/pad.js\nline 609 \u2192 'useTrebuchetFont',\u2026\nsrc/templates/timeslider.html\nremove the comments in line 181\u2013183\nsrc/templates/pad.html\nremove the comments in line 174\u2013176\nsrc/locales/en.json\nlines 54\u201356 \u2192 \"pad.settings.fontType.symbol\"\nThen this bug report can be closed.\n. Sorry, after not hearing anything for more than a year I deleted my branch. It felt that noone was interested. I just tried to recreate my changes but don\u2019t know anymore how to test them. I\u2019m very sorry but am no longer interested in solving this bug. At least there are better fallback fonts.\n. I tested it only in Firefox at Ubuntu. If I download my fork, the file I changed wasn\u2019t changed. Maybe I have to accept my own pull request anyhow \u2013 I though I had pressed this green button \u2026? When I edited the file locally, it seems to get ignored when I run run.sh. Because of that I wasn\u2019t sure if it\u2019s the correct file \u2013 but could find any other then this (but for timeslider.js, also in the static folder) where the font names appear.\n\nSo: I couldn\u2019t get it work yet. Do you know any other place where the CSS font-family value is set?\n. Yeah, now it works! I have saved it online the wrong way (and it still ignores local editings \u2026). How can I send you the file now?\nIt\u2019s enough to test in one browser, because all other interpret such basic CSS the same. I only can\u2019t see fonts like Impact, Wingdings, etc. because they are not (freely) available for my system and therefore I haven\u2019t installed them. But I can see in the CSS that they would be there.\nSorry that I don\u2019t know much about collaborating with GitHub \u2013 my knowlegde in CSS and typography is much better \u263a\n. I\u2019ve now tested my cloned online fork also in Opera and Chromium \u2013 works fine. I have a friend with Windows, but I\u2019m sure he won\u2019t be very amused if I install anything on his PC. (And I\u2019m not sure if I\u2019m able to run my fork there \u2026 or is it enough to take my local cloned folder without having to install anything more and starting the start.bat?)\nUPDATE: I see, you need node.js on Windows. I\u2019ll ask him if I could install this temporarely.\n. That would be really great! In the best case you won\u2019t see any differences but for the font setting Monospace, Serif and Sans-Serif, which honours your browser settings now \u2013 and maybe with Lucida, because now it uses Lucida Bright as a fallback (the fonts \u201cLucida\u201d and \u201cLucida Serif\u201d are normally not installed, you couldn\u2019t get it before).\n. Symbol has never worked before, because it doesn\u2019t contain latin characters. But if you have Webdings and Wingdings installed, they should give you the same result as IE \u2026 just googled: Firefox and Opera seem to not accept these non-standard fonts. So they also never work before.\nFor Serif you should get the serif font defined in your browser, e.g. in Firefox Settings > Content > Fonts & Colors > Advanced > Serif That does not have to be the same font as in your other browsers.\n. ",
    "Spirantz": "Addition: I also randomly get this message:\nAn error occured\nThe error was reported with the following id: 'flGCmYLbR138U5vSioyr'\nPlease press and hold Ctrl and press F5 to reload this page, if the problem persists please send this error message to your webmaster:\n'ErrorId: flGCmYLbR138U5vSioyr\n. My apologies. I've updated the main post. \n. ",
    "miketran777": "I have found that the changes in the settings.json file do not take affect until I run the screen utility for node.js...\n. It's working!  Thank you!\nOn Sat, Aug 29, 2015 at 9:09 AM, Stefan notifications@github.com wrote:\n\n@miketran777 https://github.com/miketran777 Is it working for you now\nor do you have still problems to access the admin backend?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/2719#issuecomment-135983989\n.\n. \n",
    "khovansky-al": "Had same problem. Changing 'localhost' to local IP (192.168...) fixed this for me.\n. ",
    "nilsfr": "I consistently get this error when I have Firebug active. There is no difference if I access it through localhost or through my local IP.\n. ",
    "evitalis": "As an update to this, which I forgot to post yesterday. I was able to set this up in a x64 Debian VM and rsync the cloned etherpad directory to the Pi and it then started to work. I am unsure what is different though but may be an issue with one of the scripts not playing nice on Raspbian.\n. ",
    "wrought": "I submitted a patch here: https://github.com/JohnMcLear/ep_hide_referrer/pull/12\n. ",
    "nlac": "/src/static/js/ace2_inner.js, line 3904: add this extra condition: && !evt.altKey to the end of the long conditional expression that handles key \"b\"\n. ",
    "bhldev": "Completed in #2923 \nOnly saves initial key as read only, ex. saves the following\n{\"key\":\"pad2readonly:DbNoSave4\",\"val\":\"r.bbea3ea68384826a1456f6edc2ab9ed7\"}\n{\"key\":\"readonly2pad:r.bbea3ea68384826a1456f6edc2ab9ed7\",\"val\":\"DbNoSave4\"}\nDoes not save the following until first revision\n{\"key\":\"pad:DbNoSave4:revs:1\",\"val\":{\"changeset\":\"Z:bj>1|7=bi_0|1+1$\\n\",\"meta\":{\"author\":\"a.B7o63QPh4YbRdTs8\",\"timestamp\":1457914152598}}}\n{\"key\":\"pad:DbNoSave4\",\"val\":{\"atext\":{\"text\":\"Welcome to Etherpad!\\n\\nThis pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!\\n\\nGet involved with Etherpad at http://etherpad.org\\n\\nWarning: DirtyDB is used. This is fine for testing but not recommended for production. -- To suppress these warning messages change suppressErrorsInPadText to true in your settings.json\\n\\n\\n\",\"attribs\":\"|7+bi_0|1+1|1+1\"},\"pool\":{\"numToAttrib\":{\"0\":[\"author\",\"a.B7o63QPh4YbRdTs8\"]},\"nextNum\":1},\"head\":1,\"chatHead\":-1,\"publicStatus\":false,\"passwordHash\":null,\"savedRevisions\":[]}}\n. Please see #2891 for workaround, configuration in settings.json\nPlease give bounty for UI/plugin development \"enable/disable shortcut keys\", UI will look like this\n\n. Fixed in #2887\n. This is confirmed see pad.js line 124 (and fixed in my pull request), thanks \n. Please see #2891 for workaround, disable shortcut in settings.json\nPlease give bounty for UI/plugin development \"enable/disable shortcut keys\", UI will look like this\n\n. @tiblu please get latest develop and confirm, thanks\n. Also deals with #2800\n. Please give bounty for UI/plugin development \"enable/disable shortcut keys\", UI will look like this\n\n. Added server side check, user can send a chat message by default\nWhen readOnlyCanCommentAndChat is set to false in settings.json, chat is disabled in etherpad according to feature request #2672 \n. Hello,\nCan this be approved and merged or closed?\nThanks,\n~ B. Hi, just dug into db code yesterday for #2923\nEvery time a key is pressed is a complete write to the database, at least to dirtydb\nWhy not just do complete replacement of all the text and do some fancy string replaces?\nHave not looked so don't know if that is possible, just an idea\n. Please see pull #2891 for potential workaround, disable pgup/pgdown through settings.json\n. Please give bounty for UI/plugin development \"enable/disable shortcut keys\", UI will look like this\n\n. Checked latest develop branch, cannot reproduce issue currently outputs \"Such a pad name is forbidden\" when typing in slash in either the pad name at the intro screen or typing it into the browser as escaped\n. Can't get the frontend tests to work with localhost, cross origin error\nAlso using dirtydb, real tests should use a real database\nI will have to look at this later in the month, if someone else hasn't\n. Closing, will resubmit if/when I can think of a better solution\n. ",
    "niedzielski": "I have the same problem. When I copy and paste a body of text, I lose all newlines and formatting of any kind.\n. ",
    "bjonnh": "same here\n. tried with Version number: 1.5.7\nwith and without plugins\n. AbiWord:> convert /tmp/etherpad_export_976394458.html /tmp/test.odt odt\nAborted (core dumped)\nLikely to be related to my AbiWord install\u2026\n. My solution has been to make a patch allowing the use of pandoc instead of abiword. But I had to move to another project at work and couldn't allow more time on it. It was not working perfectly but it did the job. The last changes in the master branch broke the compatibility with it, so it is still stuck there\u2026\n. ",
    "Mayccoll": "same here. version 1.5.7\n. ",
    "johamha": "Same here.\nGoogle Chrome Linux Version 55.0.2883.75 \nwith Firefox 50.1.0 it's working. . ",
    "danzek": "Same problem here in Firefox 56.0.1 on Windows -- makes Gist painful to use when it won't preserve newlines from plain text.. ",
    "amodig": "Same problem with Firefox 56.0 on Fedora. But Chrome 62.0 works fine!. ",
    "monokles": "@Gared I was dumb enough to pull a new version before checking the current one, so I don't know which version I was using. It was the latest develop branch as of 2 weeks ago though. I haven't tested this with the newest version which I just pulled, but if you want I can do so\n. Hey, I did a quick check...\n$ npm list | grep ueber\n\u2502 \u251c\u2500\u252c ueberDB@0.2.15\nnpm ERR! extraneous: lodash._basetostring@3.0.0 /home/mono/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npmlog/node_modules/gauge/node_modules/lodash._basetostring\nnpm ERR! extraneous: lodash._createpadding@3.6.0 /home/mono/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/npmlog/node_modules/gauge/node_modules/lodash._createpadding\nnpm ERR! extraneous: async@0.9.0 /home/mono/etherpad/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/npm/node_modules/request/node_modules/async\nnpm ERR! not ok code 0\nNow, I'm no node expert, but those error messages look like they have to do with npm's log or something. In any case, I'm not sure so I left them in.\nThanks for looking into this issue, I love etherpad :smile: !\n. It doesn't occur anymore, that fixed it!\nHowever while setting mysql's global wait_timeout to very low values I noticed that no keep-alives are sent to the database while etherpad is waiting for me to fill in my PEM password, as it crashed if it took me longer than wait_timeout amount of seconds. Personally I don't really consider this an issue at all anymore though,  as the default wait_timeout is 8 hours. \n. ",
    "keachi": "This is a good objection. So I fully rewrote the pull request and set all variables in the settings.json.\n. I put the variables to the settings.json file, so e.g. you can define the node binary. Not on every linux system the node binary has the same name.\n. ",
    "fread": "Yes, that fixes the problem for me. Thank you.\n. ",
    "derunterstrich": "hi i have the same problem. \nthe table pro_domains exist and the user is root (dev-system)\n/root/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/Parser.js:82\n        throw err;\n              ^\nTypeError: Cannot read property 'subDomain' of undefined\n    at Query._callback (/root/etherpad-lite/bin/convert.js:292:37)\n    at Query.Sequence.end (/root/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/sequences/Sequence.js:96:24)\n    at Query._handleFinalResultPacket (/root/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/sequences/Query.js:144:8)\n    at Query.EofPacket (/root/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/sequences/Query.js:128:8)\n    at Protocol._parsePacket (/root/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/Protocol.js:271:23)\n    at Parser.write (/root/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/Parser.js:77:12)\n    at Protocol.write (/root/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/protocol/Protocol.js:39:16)\n    at Socket.<anonymous> (/root/etherpad-lite/src/node_modules/ueberDB/node_modules/mysql/lib/Connection.js:82:28)\n    at Socket.EventEmitter.emit (events.js:95:17)\n    at Socket.<anonymous> (_stream_readable.js:746:14)\n    at Socket.EventEmitter.emit (events.js:92:17)\n. ",
    "neffs": "Issue was with ep_tasklist. Thanks!\n. ",
    "Salamandar": "Well :\n- somehow \"laggy\"\n- some \"bugs\" related to the browser zooming when we click on the text area\n- loading the whole page (not only text) can be slow on a slow connection\n- no responsive design for the chat.\n- the small window gives a crappy look (line wrapping, etc)\nThat is for the problems.\nSome features can be added :\n- Notifications\n- well\u2026 we'll see :p\n. It seems that you just don't want to see a native app for etherpad. What's the matter ?\n. Got it. I may start to work on it then.\n. ",
    "SimonClavier": "Hi,\nFirst of all, thanks for this tool, etherpad-lite is just great !\nI was looking for this feature too (shortcuts for heading) but it still seems not to be implemented (or am I wrong ?)\nDoes anybody know if there is any plugin or workaround to do it ?\nThanks !. ",
    "Marc-Whiteman": "That is very interesting, I've done clean reinstalls and it still is not working for me. I'll see what I can find, thanks!\n. I narrowed it down to the nginx proxy settings, Thank you for the help!\n. ",
    "Liz-Gtz": "When I try to save, show me error\nStatus: \u00a1Error! (Mensaje: 0x34 (Server is unavailable; 00000000: LdapErr: DSID-0C090F7B, comment: Error initializing SSL/TLS, data 0, v2580): 192.168.1.6:389)\n. ",
    "aspiers": "Great idea. Also, connected users should appear at the top of the list, otherwise they could be buried deep in a long list if the etherpad had many editors over a long time.. ",
    "quydang": "Hi @bjonnh,\nI have same issue with you. Have you find the solution to fix it?\nI see a ticket relative: https://github.com/AbiWord/abiword/commit/ed9856d44bdf4ee1885b571d3464e49e888f1b91. \nBut I installed abiword from packet (abiword 3.0.0). So I still not fix it.\n. ",
    "Steffov": "With the latest update it's seems to be fixed! Thanks a lot. \nVersion number: 1.5.7\nGit sha: 9c8c3de\n. Sure. Thanks for the good work on this project.\n. ",
    "rvalente": "Would love to see this added in. :+1: \n. ",
    "jincreator": "Today I upgrade from 1.4.0 to 1.5.0 and notice same error message.\nSometimes removing node_modules is not enough for all users.\nFor me, pressing Ctrl + F5 solve it ;)\n. ",
    "JonTheNiceGuy": "So, this is not me saying I have or haven't (I'm struggling to get some other tasks completed today), but for anyone else following along at home ;)\nOn Windows, you perform this by running (note, replace $PATH_TO_EP with your own path to etherpad):\ncd $PATH_TO_EP\nnode src\\node_modules\\npm\\bin\\npm-cli.js config\nI'll get my ntlm proxy stood back up this afternoon and check to see if it works.\nThanks for your help thus far @Gared.\n. ",
    "ratmole": "just tested and seems to work.\nthank you Gared.\n. ",
    "fcassin": "Thanks for looking into this !\nSorry I couldn't get back to you earlier, looking forward to reading more about what was the cause :)\n. The problem seems to be that the client receives an ACCEPT_COMMIT message but there was no submittedChangeset created beforehand. This is what causes the uncaught error.\nIf you have two users connected on the same pad when the API call is made, the user not \"impersonated\" by the API sees the changes immediatly, but with no author color. Only the impersonated user loses its session after the API call. Maybe a NEW_CHANGES message is required, instead of a ACCEPT_COMMIT message.\n. I still need to check for API_APPEND messages in the messageQueue handling, should be a quick change, I'll look into it today.\nIf I have a bit more time I'd like to get the colors displaying properly.\n. ",
    "dvzrv": "You have this problem because of a configuration problem. Add\n    \"socketPath\": \"/var/run/mysqld/mysqld.sock\"\nto your \"dbSettings\" and all should be fine.\nThis needs to be added to the default configuration file shipped with etherpad-lite!\n. @MorrisJobke can you post your current output of etherpad-lite, when running with the above mentioned settings?\nJust asking, because I suspect something else here, as we seem to be running the same software, but for me it's working!\n. Ha! still on nodejs 4.1.2 here!\nMaybe it's a nodejs > 4.2 issue then.\n. This seems to be resolved with nodejs>=6.2\n. @Gared that looks to more than enough changes to me already.\nAlso, there must be a new version, to fix deprecations, such as #3111.. Oh, nevermind. I found the issue.\nThe folder /opt/etherpad-lite is readonly. As such the APIKEY.txt and SESSIONKEY.txt can not be written to. I now symlinked them to the var folder, which itself is a symlink to a dynamically created persistent directory, thanks to systemd>235. However, I made the mistake to create the two files in the packaging process, which led to them being readonly.\nThe (now working) PKGBUILD for Arch Linux (facilitating systemd's DynamicUser) and systemd service file is below:\n```\npkgname=etherpad-lite\npkgver=1.6.2\npkgrel=1\nepoch=1\npkgdesc=\"Lightweight fork of etherpad based on javascript\"\narch=(any)\nurl=\"http://etherpad.org\"\nlicense=('Apache')\ndepends=('curl' 'python2' 'openssl' 'nodejs' 'npm' 'git' 'npm' 'icu')\noptdepends=('sqlite: to use sqlite as databse'\n            'mariadb: to use mariadb as database'\n            'postgresql: to use postgresql as database')\nconflicts=('etherpad-lite-git')\nbackup=(\"etc/${pkgname}/settings.json\")\nsource=(\"${pkgname}-${pkgver}.tar.gz::https://github.com/ether/${pkgname}/archive/${pkgver}.tar.gz\"\n        \"${pkgname}.service\")\nsha512sums=('58e996bde1992b9a05d27f2d56b15107c1eadf40164ed5e0645f245fe9040dcd40f6bd78feb842a9e1a8a44a232bbbeb80686e8d1564a8e67f74b44f942c0e55'\n            'ddf91b6849f4b29746d51b52833f7cc5d1c2ebe3191afc0a72a3fb039f4c708d59ef5b557fde1f7df554b441a1c936e78ff0629ea120881637a82f200a751352')\nprepare() {\n  cd \"${pkgname}-${pkgver}\"\n  touch src/.ep_initialized\n}\ncheck() {\n  cd \"${pkgname}-${pkgver}\"\n/usr/bin/sh bin/backendTests.sh\n}\nbuild() {\n    cd \"${pkgname}-${pkgver}\"\n    # installing modules\n    export PYTHON=python2\n    bin/installDeps.sh\n    # generating html documentation\n    node bin/doc/generate doc/index.md --format=html \\\n      --template=doc/template.html > documentation.html\n}\npackage() {\n    cd \"${pkgname}-${pkgver}\"\n    install -t \"${pkgdir}/opt/${pkgname}/bin\" -Dm0755 bin/.{sh,js,py,template}\n    install -d \"${pkgdir}/opt/${pkgname}/\"{node_modules,src}\n    mv node_modules/ \"${pkgdir}/opt/${pkgname}/node_modules/\"\n    mv src/* \"${pkgdir}/opt/${pkgname}/src/\"\n    mv src/.ep_initialized \"${pkgdir}/opt/${pkgname}/src/\"\n    ln -s /var/lib/etherpad-lite/SESSIONKEY.txt \"${pkgdir}/opt/${pkgname}/SESSIONKEY.txt\"\n    ln -s /var/lib/etherpad-lite/APIKEY.txt \"${pkgdir}/opt/${pkgname}/APIKEY.txt\"\n# documentation\ninstall -Dm0644 CHANGELOG.md \"${pkgdir}/usr/share/doc/${pkgname}/CHANGELOG.md\"\ninstall -Dm0644 CONTRIBUTING.md \"${pkgdir}/usr/share/doc/${pkgname}/CONTRIBUTING.md\"\ninstall -Dm0644 README.md \"${pkgdir}/usr/share/doc/${pkgname}/README.md\"\ninstall -Dm0644 documentation.html \"${pkgdir}/usr/share/doc/${pkgname}/documentation.html\"\n\n# configuration\ninstall -Dm0644 settings.json \"${pkgdir}/etc/${pkgname}/settings.json\"\nln -s \"/etc/${pkgname}/settings.json\" \"${pkgdir}/opt/${pkgname}/settings.json\"\n\n# var directory\nln -s \"/var/lib/${pkgname}/\" \"${pkgdir}/opt/${pkgname}/var\"\n\n# systemd service\ninstall -Dm0644 \"${srcdir}/${pkgname}.service\" \"${pkgdir}/usr/lib/systemd/system/${pkgname}.service\"\n\n}\n```\n```\n[Unit]\nDescription=Etherpad-lite\nAfter=syslog.target network.target\n[Service]\nType=simple\nDynamicUser=yes\nRuntimeDirectory=etherpad-lite\nStateDirectory=etherpad-lite\nCacheDirectory=etherpad-lite\nLogsDirectory=etherpad-lite\nWorkingDirectory=/opt/etherpad-lite\nExecStart=/usr/bin/node /opt/etherpad-lite/src/node/server.js\nRestart=always\nNoNewPrivileges=yes\nPrivateDevices=yes\n[Install]\nWantedBy=multi-user.target\n```\nI like this approach more, than constantly running installDeps.sh because of run.sh (which rather feels like a hack).\nThe installation is static this way, but way more secure.. One consideration I forgot to mention regarding the modules:\nOther distributions such as Debian (afaik) started packaging node modules system wide. This however is not something a small scale distribution such as Arch Linux can offer and additionally, I'm not sure whether etherpad-lite is able to recognize and facilitate those anyways.\nMeeting half-way could be the installation of the ep_* by means of separate packages (but those would be plenty), installing below /usr/share/etherpad-lite/src/node_modules/.\nThis would still not be ideal, as the internal installation process could not be used.\nSo, ideally a (settable) separate installation directory for plugins would be the way to go. . @pluehne suggested symlinking the APIKEY.txt and SESSIONKEY.txt files to /etc/etherpad-lite instead of /var/lib/etherpad-lite.\nAs it seems, that they should be settable, is this a good idea?. hey @lpagliari,\nboth issues are packaging issues (in some ways), as packagers (should) care about where things are going in the local filesystem and what they are supposed to be able to do there.\nHowever, #3293 is about problems with file and folder permissions, when trying to install etherpad-lite as a package. They result from the assumption, that the application is able to write to its installation folder. This is contrary to what is supposed to happen in a package. \nThis here issue is about - what seems to me - a historically grown way of installing etherpad-lite and its components to a folder (i.e. src), which then still requires an out of tree folder with a symlink in it for it to work (i.e. node_modules). For further evaluation check out run.sh and (by proxy) installDeps.sh.\nI know this is the current recommended way of installing and starting etherpad-lite for users, but I think it could use some improvements.. the pointless use of resources during inactivity?. @JohnMcLear Maybe you need a little more background on this, but I think this should really not be closed:\nIf etherpad-lite is packaged on Linux, it has never run, therefore the file will not be around.\nHowever, to keep track of the file with a package manager, it needs to be created for the package (even if that's an empty file then).\nDue to FHS the SESSIONKEY.txt is symlinked from /etc/etherpad-lite/SESSIONKEY.txt to /usr/share/etherpad-lite/SESSIONKEY.txt to make it configurable from one location.\nCurrently I can only create the symlink (to a non-existent file), but the packaging environment complains about the missing files.\n. @wikinaut what are the versions of your npm packages after npm audit fix and does etherpad still run as intended afterwards?\nFrom a Linux packaging standpoint this problem can only be solved by a new release of etherpad-lite, which requires those new versions. For Arch Linux there is no way of updating the npm packages of etherpad-lite after they were installed as a package, as they are static and owned by root.\nWhoever is in charge now: Please cut a new release for this!. @muxator thanks for the heads up! Will push a package update asap. ",
    "MorrisJobke": "I just tested it. Doesn't work either.\nhttps://github.com/Pita/ueberDB/wiki/MySQL-Sockets\nI also couldn't find socketPath in the code: \nhttps://github.com/Pita/ueberDB/search?utf8=%E2%9C%93&q=socketPath\nhttps://github.com/ether/etherpad-lite/search?utf8=%E2%9C%93&q=socketPath\nI used \"port\" to specify the socket, as it is written in the documentation. Or is the documentation out of date? :see_no_evil:\n. This is the output for nodejs 0.12.x:\n```\n$ sudo -u etherpad /usr/share/webapps/etherpad-lite/bin/run.sh -s /etc/webapps/etherpad-lite/settings.json\nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\n\nws@0.5.0 install /usr/share/webapps/etherpad-lite/src/node_modules/ws\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nmake: Verzeichnis \u201e/usr/share/webapps/etherpad-lite/src/node_modules/ws/build\u201c wird betreten\n  CXX(target) Release/obj.target/bufferutil/src/bufferutil.o\n  SOLINK_MODULE(target) Release/obj.target/bufferutil.node\n  COPY Release/bufferutil.node\n  CXX(target) Release/obj.target/validation/src/validation.o\n  SOLINK_MODULE(target) Release/obj.target/validation.node\n  COPY Release/validation.node\nmake: Verzeichnis \u201e/usr/share/webapps/etherpad-lite/src/node_modules/ws/build\u201c wird verlassen\nnpm WARN EPACKAGEJSON ep_etherpad-lite@1.5.7 No license field.\nEnsure jQuery is downloaded and up to date...\nClearing minified cache...\nEnsure custom css/js files are created...\nStarted Etherpad...\n[2015-10-13 13:18:49.275] [WARN] pluginfw - /usr/share/webapps/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/has-cors requires global@'https://github.com/component/global/archive/v2.0.1.tar.gz' but will load\n/usr/share/webapps/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/global,\nwhich is version 2.0.1 unmet dependency\n[2015-10-13 13:18:49.281] [WARN] pluginfw - /usr/share/webapps/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/engine.io-client requires xmlhttprequest@'https://github.com/rase-/node-XMLHttpRequest/archive/a6b6f2.tar.gz' but will load\n/usr/share/webapps/etherpad-lite/node_modules/ep_etherpad-lite/node_modules/xmlhttprequest,\nwhich is version 1.5.0 unmet dependency\n[2015-10-13 13:18:49.926] [INFO] console - Installed plugins: ep_tasklist@0.0.11, ep_adminpads@0.0.9\n[2015-10-13 13:18:49.949] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2015-10-13 13:18:49.949] [WARN] console - Can't get git version for server header\nENOENT, no such file or directory '/usr/share/webapps/etherpad-lite/.git/HEAD'\n[2015-10-13 13:18:49.951] [WARN] console - Can't get git version for server header\nENOENT, no such file or directory '/usr/share/webapps/etherpad-lite/.git/HEAD'\n[2015-10-13 13:18:49.951] [INFO] console - Your Etherpad version is 1.5.7 ()\n[2015-10-13 13:18:50.076] [INFO] console - You can access your Etherpad instance at http://127.0.0.1:9001/\n[2015-10-13 13:18:50.076] [INFO] console - The plugin admin page is at http://127.0.0.1:9001/admin/plugins\n```\nAnd this is the output for nodejs 4.2.0\n```\n$ sudo -u etherpad /usr/share/webapps/etherpad-lite/bin/run.sh -s /etc/webapps/etherpad-lite/settings.json\nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\n\nws@0.5.0 install /usr/share/webapps/etherpad-lite/src/node_modules/ws\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nmake: Verzeichnis \u201e/usr/share/webapps/etherpad-lite/src/node_modules/ws/build\u201c wird betreten\n  CXX(target) Release/obj.target/bufferutil/src/bufferutil.o\nbufferutil.target.mk:92: die Regel f\u00fcr Ziel \u201eRelease/obj.target/bufferutil/src/bufferutil.o\u201c scheiterte\nmake: Verzeichnis \u201e/usr/share/webapps/etherpad-lite/src/node_modules/ws/build\u201c wird verlassen\nnpm WARN EPACKAGEJSON ep_etherpad-lite@1.5.7 No license field.\nEnsure jQuery is downloaded and up to date...\nClearing minified cache...\nEnsure custom css/js files are created...\nStarted Etherpad...\n[2015-10-13 13:19:46.772] [ERROR] console - ERROR: Problem while initalizing the database\n[2015-10-13 13:19:46.775] [ERROR] console - Error: Handshake inactivity timeout\n    at Handshake. (/usr/share/webapps/etherpad-lite/src/node_modules/mysql/lib/protocol/Protocol.js:154:17)\n    at emitNone (events.js:67:13)\n    at Handshake.emit (events.js:166:7)\n    at Handshake._onTimeout (/usr/share/webapps/etherpad-lite/src/node_modules/mysql/lib/protocol/sequences/Sequence.js:116:8)\n    at Timer.listOnTimeout (timers.js:92:15)\n    --------------------\n    at Protocol._enqueue (/usr/share/webapps/etherpad-lite/src/node_modules/mysql/lib/protocol/Protocol.js:135:48)\n    at Protocol.handshake (/usr/share/webapps/etherpad-lite/src/node_modules/mysql/lib/protocol/Protocol.js:52:41)\n    at Connection.connect (/usr/share/webapps/etherpad-lite/src/node_modules/mysql/lib/Connection.js:109:18)\n    at Connection._implyConnect (/usr/share/webapps/etherpad-lite/src/node_modules/mysql/lib/Connection.js:387:10)\n    at Connection.query (/usr/share/webapps/etherpad-lite/src/node_modules/mysql/lib/Connection.js:174:8)\n    at exports.database.init (/usr/share/webapps/etherpad-lite/src/node_modules/ueberDB/mysql_db.js:74:6)\n    at exports.database.init (/usr/share/webapps/etherpad-lite/src/node_modules/ueberDB/CacheAndBufferLayer.js:110:18)\n    at exports.database.init (/usr/share/webapps/etherpad-lite/src/node_modules/ueberDB/CloneAndAtomicLayer.js:48:11)\n    at Object.exports.init (/usr/share/webapps/etherpad-lite/src/node/db/DB.js:41:6)\n    at /usr/share/webapps/etherpad-lite/src/node/server.js:62:8\n```\nAlso connecting to the socket works:\n```\n$ mysql -u etherpad -p etherpad-lite -S /var/run/mysqld/mysqld.sock\nEnter password: \nWelcome to the MariaDB monitor.  Commands end with ; or \\g.\nYour MariaDB connection id is 6878\nServer version: 10.0.21-MariaDB-log MariaDB Server\nCopyright (c) 2000, 2015, Oracle, MariaDB Corporation Ab and others.\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\nMariaDB [etherpad-lite]>\n```\nI just noticed following line during the startup:\nbufferutil.target.mk:92: die Regel f\u00fcr Ziel \u201eRelease/obj.target/bufferutil/src/bufferutil.o\u201c scheiterte\nThis means something like \"the rule for targe 'Release/obj.target/bufferutil/src/bufferutil.o' failed\". I think that this is the problem.\n. > Ha! still on nodejs 4.1.2 here!\n\nMaybe it's a nodejs > 4.2 issue then.\n\nLet me check that.\n. Yes. Works just fine with 4.1.2. I used a version from the Arch Rollback Machine: http://seblu.net/a/arm/packages/n/nodejs/\n\\o/\n. Just upgraded to 4.2.1 and it works :+1: Thanks :)\n. ",
    "lufeihaidao": "plugins.js:147 parts[part.full_name] = part; parts is initialised as Array(in line 84) therefore it doesn't take effect, too.\n. ",
    "bujatt": "I'd expect de-indentation, too.\n. #2812 looks to be a related issue.\n. Thanks @Gared for the note. Just tested it, works well!\n\nThank you!\n. Might be. Unfortunately I can't tell as I am not a developer.\n\u2014\nCEO, cofounder at opp.io\nOn Thu, Nov 26, 2015 at 6:54 PM, Luiza Pagliari notifications@github.com\nwrote:\n\nIsn't this an issue of https://github.com/johnmclear/ep_headings2?\nReply to this email directly or view it on GitHub:\nhttps://github.com/ether/etherpad-lite/issues/2845#issuecomment-159969379\n. Thank @lpagliari, did so. https://github.com/JohnMcLear/ep_headings2/issues/7\n. \n",
    "Aur0r": "The etherpad-lite version that I used for both instances was 1.5.6\n. If you go to the Wiki in the \"For developers\" section you can find the \"EasySync documentation\". I think this is what you are looking for.\n. Just if someone didn't know: In the meanwhile if you can't figure out the name of a plugin there is a json blob that can be used to figure out the needed plugin names. I hope this one is up-to-date.. ",
    "maximerinna": "\n. ",
    "Dubidubiduu": "This changed in between but I still don't know how to configure it with cpanel. \nNode.js is installed on my cpanel, but I still don't get Etherpad to work, due my lack of experience, but it should work somehow I guess. Hoster: serverprofis.de. ",
    "ocdtrekkie": "According to HostGator this has not changed and is still not possible, though I found an article on how to do it: https://www.dzeta.biz/add-nodejs-hostgator-shared-hosting-server/. Is this solving a problem this software is currently burdened by? This seems like... an advertisement more than an \"issue\". Maybe because you're spamming it on a bunch of the repositories I watch.\n. Same behavior.\nNote that I am on Windows 10.15063 64-bit, and Firefox 55.0.3 32-bit. But another Sandstorm user confirmed they are having the issue on Mac OS with FF 55.0.3, though they didn't detail exact version and build info. They also said it is fine in Safari.. Synchronous XMLHttpRequest on the main thread is deprecated because of its detrimental effects to the end user\u2019s experience. For more help http://xhr.spec.whatwg.org/  require-kernel.js:284:4\nunreachable code after return statement[Learn More]  require-kernel.js:580:4\nunreachable code after return statement[Learn More]  require-kernel.js:2172:4\nTypeError: ERROR.captureStackTrace is not a function[Learn More]  joas123:81:7\nUse of getPreventDefault() is deprecated.  Use defaultPrevented instead.  ace2_common.js:3751:28\nXML Parsing Error: syntax error\nLocation: https://beta.etherpad.org/jserror\nLine Number 1, Column 1:  jserror:1:1\nObject { type: \"CLIENT_VARS\", data: Object }  pad.js:314:27\nObject { type: \"COLLABROOM\", data: Object }  pad.js:3402:25\nSynchronous XMLHttpRequest on the main thread is deprecated because of its detrimental effects to the end user\u2019s experience. For more help http://xhr.spec.whatwg.org/  joas123:299:4\nunreachable code after return statement[Learn More]  joas123:580:4\nunreachable code after return statement[Learn More]  joas123:2172:4\nunreachable code after return statement[Learn More]  joas123%20line%20241%20%3E%20Function:2172:4\nunreachable code after return statement[Learn More]  joas123%20line%20241%20%3E%20Function:580:4\nUse of getPreventDefault() is deprecated.  Use defaultPrevented instead.  ace2_common.js:3751:28\nObject { type: \"COLLABROOM\", data: Object }  pad.js:3402:25\nunreachable code after return statement[Learn More]  require-kernel.js%20line%20226%20%3E%20Function:580:4\nunreachable code after return statement[Learn More]  require-kernel.js%20line%20226%20%3E%20Function:2172:4. The Mac user has stated that they both have one computer that it does work and one computer that it doesn't, and that both are running 55.0.3 64-bit.. Tested without Privacy Badger installed. I think we may have a culprit. Privacy Badger detects no trackers, and the issue occurs even with it \"disabled for this site\". But it is version 2017.09.12 which indicates it changed in the last day.. They just released a point release to fix \"major site breakages in Firefox\" including Google Sheets. So with that little bit of testing, that changelog, and some common sense, I'm going to call this solved.\nhttps://github.com/EFForg/privacybadger/commit/8bd780fe4274799341e6f5e0079a18d7a3a6c69b. @timmc-bcov I do not see the error screen at all on 2017.07.24.. This is a regression in Privacy Badger 2017.09.12 which has been pulled from the Firefox Add-ons page. Uninstall and reinstall Privacy Badger, which will give you the previous version, or wait until 2017.09.12.1 comes out sometime today.\nSee also the duplicate: #3254 . Yup, I had originally tried that as well. ;). \"You can choose between dirty, postgres, sqlite and mysql\"\nSQLite works pretty well with Etherpad, and is a lot lighter/thinner than MySQL.. @mrquivousveuxdubien Etherpad Lite itself, to my knowledge, has no real authentication system, however, some platforms which DO support Active Directory and permissions implement Etherpad.\nFor instance, Sandstorm.io supports LDAP and SAML authentication, user permissions, and includes Etherpad, EtherCalc, Wekan, and Rocket.Chat by default. I know Cloudron.io also has Etherpad, and uses LDAP amongst it's own apps, but I'm not sure it's possible to interface a Cloudron server with AD.. @jrmuizel Not exactly \"Etherpad hosting\" persay, but Sandstorm.io offers a paid hosting service (Sandstorm Oasis) which includes containerized Etherpad documents, as well as EtherCalc, Wekan, etc.. For some reason I thought https://github.com/ethersheet-collective/EtherSheet was loosely more based on Etherpad. It's JS at least, though it looks to be dead and the site is gone.\nMy question is: Why not contribute to making EtherCalc less \"terrible\"? I suspect it would be vastly easier to improve an existing spreadsheet application than try to turn a word processor into a spreadsheet. Bear in mind, a good spreadsheet application is more than just \"cells you can type text in\", you want formulas and charts and the ability to reference data in one cell from another cell.\nYou could give a spreadsheet program a toolbar and UI that mimics Etherpad's (which would be cool), but it's a lot more than swapping one container for another, it'd be a wholly different application.. ",
    "Netmage-76": "Hi, \nwhat I did was:\n-- Compile and download\nportmaster www/node www/npm\nportmaster devel/git-lite\nmkdir /usr/local/www/\ncd /usr/local/www/\ngit clone git://github.com/ether/etherpad-lite.git\n-- Create etherpad-lite user\npw adduser etherpad -d /nonexistent -s /usr/sbin/nologin -c \"etherpad user\"\n-- Rename Dir and change rights\nmv etherpad-lite etherpad\ncd etherpad\nchown -R etherpad:etherpad \nchown -R etherpad:etherpad .\n--- Configure settings.json\n-- Check system with root rights, afterward with etherpad user\nbin/run.sh --root\nchown -R etherpad:etherpad *\nsu -m etherpad -c \"bin/run.sh\"\n\nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\nnpm WARN package.json ep_etherpad-lite@1.5.7 No license field.\nEnsure jQuery is downloaded and up to date...\nClearing minified cache...\nEnsure custom css/js files are created...\nStarted Etherpad...\n[2015-10-31 10:59:08.294] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production.\n[2015-10-31 10:59:10.268] [INFO] console - Installed plugins:\n[2015-10-31 10:59:10.275] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2015-10-31 10:59:10.277] [INFO] console - Your Etherpad version is 1.5.7 (ba1f9c2)\n[2015-10-31 10:59:10.536] [INFO] console - You can access your Etherpad instance at http://0.0.0.0:9001/\n[2015-10-31 10:59:10.537] [WARN] console - Admin username and password not set in settings.json.  To access admin please uncomment and edit 'users' in settings.json\n--- Create a start script\ncd /usr/local/etc/rc.d/\nvim etherpad\n/// Create start script\nchmod +x /usr/local/etc/rc.d/etherpad\nmkdir /var/run/etherpad; chown etherpad /var/run/etherpad\necho etherpad_enable=YES >> /etc/rc.conf\n--- Installation and configure Mysql\nportmaster databases/mysql56-server databases/mysql56-client\n...\n--- Configure settings.json\n--- Install and configure apache \nportmaster www/apache24\nnode -v\nv4.2.1\nTried to install plugin:\nnpm install ep_author_neat\n\n[2015-11-01 10:21:10.412] [WARN] console - { [Error: EACCES: permission denied, open '/root/.npm/ep_adminpads/0.0.9/package/package.json']\nerrno: -13,\ncode: 'EACCES',\nsyscall: 'open',\npath: '/root/.npm/ep_adminpads/0.0.9/package/package.json' }\nError: EACCES: permission denied, open '/root/.npm/ep_adminpads/0.0.9/package/package.json'\nat Error (native)\n[2015-11-01 10:21:10.413] [INFO] console - Restarting express server\nI hope this helps\nBR\n. Hello,\nthank you very much for your feedback.\nWhile I was trying your suggested procedure I received different error messages, therefore I used git in order to clone etherpad-lite from github again.\nIn order to avoid that files are still created in the root directory I didn't use the --root option.\nBut this is the error I received.\nsu -m etherpad -c /usr/local/www/etherpad/bin/run.sh\nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\nmkdir: node_modules: Permission denied\ncd: node_modules: No such file or directory\nln: ep_etherpad-lite: Permission denied\ncd: ep_etherpad-lite: No such file or directory\nnpm ERR! install Couldn't read dependencies\nnpm ERR! FreeBSD 10.2-RELEASE\nnpm ERR! argv \"/usr/local/bin/node\" \"/usr/local/bin/npm\" \"install\" \"--loglevel\" \"warn\"\nnpm ERR! node v4.2.1\nnpm ERR! npm  v2.14.7\nnpm ERR! path /usr/local/www/etherpad/package.json\nnpm ERR! code ENOPACKAGEJSON\nnpm ERR! errno -2\nnpm ERR! syscall open\nnpm ERR! package.json ENOENT: no such file or directory, open '/usr/local/www/etherpad/package.json'\nnpm ERR! package.json This is most likely not a problem with npm itself.\nnpm ERR! package.json npm can't find a package.json file in your current directory.\nnpm ERR! FreeBSD 10.2-RELEASE\nnpm ERR! argv \"/usr/local/bin/node\" \"/usr/local/bin/npm\" \"install\" \"--loglevel\" \"warn\"\nnpm ERR! node v4.2.1\nnpm ERR! npm  v2.14.7\nnpm ERR! path npm-debug.log.d85b62c8dabd5b24e4227125351cd446\nnpm ERR! code EACCES\nnpm ERR! errno -13\nnpm ERR! syscall open\nnpm ERR! Error: EACCES: permission denied, open 'npm-debug.log.d85b62c8dabd5b24e4227125351cd446'\nnpm ERR!     at Error (native)\nnpm ERR!  { [Error: EACCES: permission denied, open 'npm-debug.log.d85b62c8dabd5b24e4227125351cd446']\nnpm ERR!   errno: -13,\nnpm ERR!   code: 'EACCES',\nnpm ERR!   syscall: 'open',\nnpm ERR!   path: 'npm-debug.log.d85b62c8dabd5b24e4227125351cd446' }\nnpm ERR!\nnpm ERR! Please try running this command again as root/Administrator.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /usr/local/www/etherpad/npm-debug.log\nUnfortunately there is no npm-debug.log available, therefore I would like to ask you where etherpad-lite tries to create the \"node_modules:\" directory. If I would use the --root option the directory would be created in the root directory.\n. Hello,\nthank you very much for your help.\nYou are right I forgot to change the user rights after I fetched the files from github. Now I am able to use the \"npm install\" command in order to install the files via cli.\nUnfortunely I am not able to fetch the available module from the admin interface.\nI receive the following error message:\n* etherpad.log *\n[2015-11-04 21:38:36.748] [ERROR] console - { [Error: connect ETIMEDOUT 104.130.77.39:443]\n  code: 'ETIMEDOUT',\n  errno: 'ETIMEDOUT',\n  syscall: 'connect',\n  address: '104.130.77.39',\n  port: 443 }\nError: connect ETIMEDOUT 104.130.77.39:443\n    at Object.exports._errnoException (util.js:874:11)\n    at exports._exceptionWithHostPort (util.js:897:20)\n    at TCPConnectWrap.afterConnect as oncomplete\n[2015-11-04 21:38:36.797] [WARN] console - { [Error: connect ETIMEDOUT 104.130.77.39:443]\n  code: 'ETIMEDOUT',\n  errno: 'ETIMEDOUT',\n  syscall: 'connect',\n  address: '104.130.77.39',\n  port: 443 }\nError: connect ETIMEDOUT 104.130.77.39:443\n    at Object.exports._errnoException (util.js:874:11)\n    at exports._exceptionWithHostPort (util.js:897:20)\n    at TCPConnectWrap.afterConnect as oncomplete\nI thought the issue could be caused by an rights problem for the etherpad user but when I use the su -m etherpad -c telnet x.z.s.d 80\" command I am able to connect to an website without any problems.\n. In addition to my last comment I tried to connect to the ip mentioned in the error log, but I was not able to connect to the IP.\nsu -m etherpad -c \"telnet 104.130.77.39 443\"\nTrying 104.130.77.39...\nHowever the same issue exists from my home pc and if I telnet from the server via root user\n. ",
    "teran": "Not sure since UeberDB is slightly about another thing and works as expected here.\nAnd the issue is mostly about scaling particular application.\n. ",
    "Jmainguy": "ran into this today trying to scale etherpad. Awesome project, would be great to see this feature added.\n. ",
    "joergludwig": "I have got the same problem over here:\n[2016-01-11 13:17:46.347] [ERROR] console - TypeError: Cannot call method 'substring' of undefined\n    at Object.insert (/usr/share/etherpad-lite/src/static/js/Changeset.js:794:45)\n    at Object.exports.mutateTextLines (/usr/share/etherpad-lite/src/static/js/Changeset.js:966:11)\n    at async.series.callback.forwardsChangesets (/usr/share/etherpad-lite/src/node/handler/PadMessageHandler.js:1540:19)\n    at /usr/share/etherpad-lite/src/node_modules/async/lib/async.js:610:21\n    at /usr/share/etherpad-lite/src/node_modules/async/lib/async.js:249:17\n    at iterate (/usr/share/etherpad-lite/src/node_modules/async/lib/async.js:149:13)\n    at /usr/share/etherpad-lite/src/node_modules/async/lib/async.js:160:25\n    at /usr/share/etherpad-lite/src/node_modules/async/lib/async.js:251:21\n    at /usr/share/etherpad-lite/src/node_modules/async/lib/async.js:615:34\n    at /usr/share/etherpad-lite/src/node_modules/async/lib/async.js:254:17\nI was able to reproduce the problem on a different server by exporting and importing the affected etherpad. Unfortunately I cannot publish the file as it contains data of our customers.\n. I was able to remove all custom text from the etherpad while preserving the error.\nSteps to reproduce:\n1. Download and unzip attached file.\n2. Create new pad.\n3. Import etherpad file.\n4. Open history.\n5. Jump back some time.\n6. Etherpad crashes.\n. ",
    "chao-mu": "Was a fix for this ever applied? Found the following in my logs and I'm assuming it's a manifestation of this bug:\n[2018-03-13 19:26:00.885] [ERROR] console - TypeError: Cannot read property 'substring' of undefined\n[2018-03-13 19:26:00.886] [INFO] console - graceful shutdown...\nI am running version 1.5.7.  Curious if a newer version will fix this.. ",
    "Billaboong": "Hello I also have the above problem and earlier it was working fine but after installing some plugins I got the above error.\nThe plugins I have installed are:disable change author name,offlibe_edit,pad+tracker,page_ruler,page_view,previewimages,real_time_chat,simpletextsearch,spellcheck,sticky_attributes,themes_ext and word_edit.\nPlease assist.\nThank you.. Thank you @lpagliari  for your response....I have set up the service as per the wiki but after a day the service seems to stop working and I am forced to run run.sh command for it to work again.So I am wondering why what could be the problem.. I have changed the debug mode to debug and I am now waiting for the output and as soon as I get the output I will surely post here.\nThank you.. Hello @lpagliari \nI changed the debug mode and all I can see is alot of information but when the terminal is closed etherpad stops running.. I exec run.sh. The OS I am using is CentOS 6.8 and I used the instructions of CentOs 6 from the wiki.. Good morning @lpagliari...What I did was to reinstall etherpad again.The error log is attached below:\n\n. Hallo @lpagliari  let me contact my administrator about it then I will inform you.\nThank you.. @lpagliari How was the above issue resolved?. okay thanks alot.... @lpagliari Thank you. ",
    "meetbryce": "Try manually deleting the last plugin you installed from etherpad-lite/node_modules/ep_<plugin name>.. ",
    "jplatte": "What? No, it's definitely not. Have you tried reproducing it? It's under Preferences > Content > Colors... in Firefox, but there doesn't seem to be a setting in Chromium / Chrome. But there are probably other browsers out there that derive the background and text color from the system theme or that kind of thing.\nNeither the HTML or the CSS standard guarantees the default colors to be black for text and white for background, so if a webapp wants to control the coloring of the page, it should set set both a background color and a text color.\nI also attached a screenshot of the settings and how EtherPad looks for me, to be absolutely clear.\n\n\n. Yeah, it's fixed now, thanks!\n. ",
    "canyon289": "Found that I had an issue with the sqlite arch. Not a problem with Etherpad. My apologies\n. Hi @pauschuu \nIt's been so long I really can't remember. My apologies. ",
    "pauschuu": "@canyon289 could you reveal how you exactly solved the problem? I have the same problem after updating and I struggle with finding a solution. Thank you.. No worries I found the solution.\nAs the error message states: \n\n[...]If you still want to use sqlite, do a 'npm install sqlite3' in your etherpad-lite root folder\n\nThat worked. I just was in the wrong folder before. . ",
    "yukito8000": "Dear All,\nThis issue is the same to: https://github.com/ether/etherpad-lite/issues/2522.\nWe will reinstall our mysql to a later version to solve this problem.\nThanks a lot.\nBest wishes,\nLina\n. ",
    "cmbirk": "The soffice setting is already in there\n. ",
    "vnc-rainer-schuth": "I am also having this bug.\nRelated to #2782\n. ",
    "jainendra": "Does anyone have a fix for this or any follow up?. @JohnMcLear @quydang Can you help me with this issue?. Do you guys have any workaround or fix for this issue or any info would be very helpful.\nOr Can you suggest a version that works on node 6.10.0 which doesn't have this issue or with least issue.. Please close this issue if resolved. At present if anyone tries uploading a PDF and doc will work until someone uploads a text file.\nThere was a logic error, abiword object was being used as a flag. abiword variable gets assigned when ImportHandler.js is loaded now when a text file gets uploaded we change the abiword variable value to false so as to not use the abiword plugin. Now on second attempt when we try to upload a PDF or a Doc uploading fails as abiword was assigned to false. . I agree with this, currently etherpad doesn't have good readability. I agree with @Dhwty. @joaobarcia It will be awesome if you do something like @Dhwty mentioned and raise a PR. @lpagliari I know it works on release/1.3 but its not working in release/1.6.1. I specifically don't know when it stopped. I'll have to take a close in that case. Do you have any idea?. Yeah, this looks promising. It would be great to see etherpad running in cluster. It could be next big thing for etherpad.\nSome suggestion:\nI see there's a problem with ueberDB caching when running etherpad in cluster, one alternative could be to use redis or memcache for storing cache.\nI am not sure if socket.io-reddis is reliable or not. What do you think about all this @Gared ?. Okay I'll update it. ",
    "mverleg": "(For the remote chance that someone is seeing actual characters, I mean to say that they appear as question marks to me, on several computers.)\n. It's been hosted for a long time and the server has rebooted many times, but I personally didn't start typing a lot of Chinese until recently. I can't verify for sure that any restart happened which didn't cause this problem...\nI'll test with and without that fix whether the problem occurs again.\nSince the database values are also ??? now, I imagine it's mostly for future pads, I don't suppose I'll get my old pads back?\n. I've verified that the problem doesn't reoccur even without that fix. Though I've updated Etherpad and changed database collation since the problem occured, so it doesn't necessarily mean that it wasn't what caused the problem the first time. (I'm fairly sure the connections were set to utf8mb4 from MySQL's end all along).\n. In case it's any use, I'll mention that the problem applies to usernames as well. (Perhaps it was likely that they'd be treated the same, given the database structure, but I'll confirm it anyway).\n. ",
    "mnolae": "Thanks to both!\n. ",
    "umairriaz90": "I just renamed ueberdb2 directory to ueberDB ;-) . It was so easy, took a day for me to understand. \n. ",
    "timisch3k": "But then \nfoo.com/bar%20 \nshould be empty, \n(if one had only written something in foo.com/bar). \nWhich it is not.\nThis is the feature (or bug). \nAlso firefox bookmarks foo.com/bar%20 as  foo.com/bar,\n which was the reason I was confused.\n. ",
    "xjtluapp": "Your mysql version is too old, place it with the 5.6\n. ",
    "IVI053": "@skillz-xx have you tried changing to a clean tag e.g. with\ngit checkout -b myBranch 1.5.7\nworked for me\n. ",
    "lb1a": "Same problem on CentOS after upgrading via git pull (on branch develop).\nMysql-Server version: 5.1.73-log Source distribution\nDowngraded therpad to pre-upgrade version via git reset --hard HEAD@{1} . \nBut I couldn't find a mysql minimum version in the docs. Could anyone give me a hint which mysql version is compatible?\n. ",
    "rschiang": "Installing fonts on server would not make the font available on client.\nSee https://css-tricks.com/snippets/css/using-font-face/ \n. I suggested @font-face since the original question has mentioned that \n\n... I installed Andika font on my debian server ...\n\nBut I think I've understood your question. By inspecting DOM elements, it seems the style of #innerdocbody was overridden by style attribute. You could see if [Font Settings] is interfering with that, or simply override the style with font-family: Andika !important.\n. ",
    "reedacartwright": "Which version do you want me to test on?  I'm using a version from eight days ago, https://github.com/ether/etherpad-lite/tree/855bd270bd9cbbdc7349f8e2ac58323ad5a1d93c . There has been two commits since then, neither of them appear to address the issue.\n. - In settings.json set padOptions.lang=\"en\" and restart etherpad.\n- Clear language cookie if it is present. \n- Create a new pad.\n- Open Pad settings.  Language should be listed as British English.\nMy installation is http://pad.cartwrig.ht/ if that helps.\n. Can you explain this concern in more detail?   I've been running with this\npatch for about 2 months and haven't seen any breakage.\nOn Feb 14, 2016 8:37 AM, \"John McLear\" notifications@github.com wrote:\n\nI feel like it will break the init etc. scripts\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/pull/2889#issuecomment-183906317.\n. Exec replaces the shell process with the node process.  Therefore,  the\nnode process will exist.  Using exec is the recommended way to start a\nprogram at the end of a wrapper script.\nOn Feb 14, 2016 9:02 AM, \"John McLear\" notifications@github.com wrote:\nafaik the ubuntu init scripts look for a running node process, I dunno if\nthis will break that or not..\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/pull/2889#issuecomment-183907979.\n. \n",
    "Halibutt": "In the closed thread referenced above I explained why this issue is important. The fix mentioned in this thread is not really usable for your average user, who has no access to server settings. \nAlso, this issue is not really a duplicate since my system language is set to Polish, yet the chat hijacks the keyboard when I hit Right Alt + c anyway. I wonder if changing the shortcut to Left Alt + c is that complicated... Any ideas how to do that?\n. @lpagliari , thanks a lot for your comment above, but it seems I'm way dumber than I thought and I have no idea what you suggest. I'm an end user, not a programmer. \nFrom what I understand, the workaround might be cool for someone who hosts an instance of etherpad and has access to all the files (and could change ace2_inner.js, wherever it is). I'm but a guy who used to use Etherpad quite frequently, and now cannot. Because it doesn't work as expected, because of a conflict that most likely is easy to fix for some code ninja (say, fix it for ALL people out there instead for me only), but for an end user like me is pure magic. \n. Cool, thanks a lot. :)\n. Holding my thumbs :)\n. Yeah, kind of. Replied in the other thread. \n. ",
    "joemcnamee": "Hello, \nWe run the following plugins on our pad:\n-adminpads  v0.0.9\n-authornames    v0.1.3\n-copy_paste_images  v0.0.13\n-user_pad v0.1.3\n-user_pad_frontend v0.1.3\nThanks,\nJoe\n. ",
    "toddself": "We have forked require-kernel to try and resolve this quickly on our stable release (which is based on etherpad-lite), although we did some heavy surgery for our next version dropping require-kernel and yajsml entirely (since they are unsupported) in favor of a browserify-based build.\n. They've reverted the breakage, thankfully.  But synchronous XHR will be removed from the platform at sometime in the near future.\nFor reference, the way require-kernel is implemented in the loading sequence will only use synchronous XHR to retrieve modules (as implemented here in the code: https://github.com/ether/etherpad-lite/blob/develop/src/templates/pad.html#L392-L416), as well as when any require statement is used with any file in /static/js.\n. I would be happy to help implementing browserify (the solution we went with).  This removed the dependencies on yajsml and require.kernel.  Caching is provided by storing pre-built bundles on disk and streaming them to the client.\n. Yeah this was a surprise to our clients. Being that require kernel and yajsml are also abandoned (there are some bugs we have had to work around in yajsml especially regarding caching) it might make sense to find solutions now. \nAlso our load times are down to sub 15ms for all pages after the transition due to a lack of blocking requests. \n\nOn Feb 3, 2016, at 06:47, Code Hugger (Matthew Jones) notifications@github.com wrote:\nLooks like the fix/bug in Chrome mentioned was filed as\nhttps://code.google.com/p/chromium/issues/detail?id=570622\nSeems to be working for me this morning.\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "dscso": "Yes you are right. But even the french translation of etherpad-lite uses \"Nouveau pad\" or the spanish translation: \"Nuevo pad\". So I think German is the only language which uses \"Dokument\" (german document) instead of pad.\n. Me too. Most popular languages are using \"pad\". I think it looks better in german.\n. root@vs:~# grep ip /srv/etherpad-lite/settings.json\n  \"ip\": \"\",\nroot@vs:~# curl http://[::1]:8001/\ncurl: (7) Failed to connect to ::1 port 8001: Connection refused\nroot@vs:~# curl http://127.0.0.1:8001/       \n<!doctype html>\n<html>\n...\nAs you can see, it doesn't work.\nI am using GNU/Linux Debian 8 x86_64 (systemd) nodejs 0.10.29 npm 1.4.21\n. I've also tried it before.\n. You are right... It depends on the Node version. Thank you for your answer.\nGreat Work with Etherpad-lite. Thank you and all other contributors \ud83d\udc4d.\nSummary: If somebody want to use both (IPv6, IPv4) he/she just have to set the value of \"ip\" in settings.json to an empty value (\"ip\":\"\",) and have to use a newer version of Node.\n. ",
    "thmsjkn": "To me a document (Dokument) is more static than a Pad. I would go with the term \"Pad\". \n. ",
    "c-martinez": "Thanks for the suggestion @lpagliari but I don't think this will do what I need. If I understand correctly, I still need to do getHTML / setHTML to add the comment tags to the main body of the text.\nWhat I would really want is for my bot to be able to \"type\" on the pad itself and for other user's to see the text from the bot appear in the same way as it does when another user types. \n. Hi @Gared -- so it would be a useful feature then. I'll also give it a go at implementing it then. I thought it was better to ask before I started trying to implement it myself. Now that I know it is not yet there and it may be useful, I'll have a go at it.\n. Nothing yet, sorry @Gared -- I was distracted by another project, but I should get back to it this week.\n. Ah, yes -- I started by adding it to every version while I was figuring it out. Removed.\n. Better?\n. @Gared, thanks for feedback. lineNum now is a required parameter.\nI'm adding authorID also as a required parameter -- but I'm not sure how to test this -- createAuthor doesn't seem to have tests either, and I'm not sure how to get a authorID to use in the tests. Any tips?\n. Hi -- added a \"real author\" (via authorMapper -- not sure if this is the most logical way), and added tests for it as well.\nAlong the way, added tests for createAuthor and createAuthorIfNotExistsFor.\ncomments?\n. Well spotted @Gared , thanks!\n. Hi @Gared , thanks for comments. (Sorry, it looks like you spent quite a bit of time fixing issues which I should have seen before -- really thanks for that). I'll address them and send a new commit.\n. Hi @Gared -- yes, sorry, I've been distracted with other things. I'll make these changes later today.\n. Done!\nBut I get the impression that I'm still doing something not-quite-right... I'm using createAuthorIfNotExistsFor but I don't think I should be creating a new author. Is there a checkIfAuthorExistsForMapper function (or something similar?)\n. Would it be a potentially useful feature?\n. I guess using an authorID makes more sense then.\n. @Gared -- I'll look into it.\n. @Gared -- reproduced the issue you mentioned. It seems like the API call itself is working fine, but the browser session gets disconnected or something.\nWe could avoid this by not using a normal author to insert text via the API (i.e. do not have an authorID as a parameter). Instead we could create a 'special' author (via createAuthorIfNotExistsFor for instance), and always use the same author for API calls. This should solve the issue, right? What do you think?\n. Following @Gared suggestion on #2950, this should add the colour to the text according to the colour set by the user. (Maybe need to check if author already has attributes set for this pad).\n. I think this works.\n@Gared -- what do you think ?\n. ",
    "raj15feb": "Hi Gared,\nI want to use etherpad with multiple port for same IP. For example: 0.0.0.0:9001, 0.0.0.0:9005, 0.0.0.0:9006 etc. not different sorry for my mistake in my question. Because I'm using multiple databases on same ip with database filter. And need all databases etherpad. So i need Etherpad on multiple Port.\nThanks\n. Hi Gared,\nOne more question, Can we run etherpad server like: bin/run.sh --port=9005 or any command that we can assign server with port.\nThanks.. \n. ",
    "flyingrub": "i greped run.sh and saw that npm was missing from the module. I installed it by hand and it works now. :)\n. ",
    "JeremyPlease": "I dug into the ace editor code some more and this is the method I came up with that appears to work. It inserts the new line and changeset is triggered and saved to pad immediately.\ncontext.editorInfo.ace_inCallStackIfNecessary('lineInsert', function() {\n    var lineIndex = 3;\n    var line = context.rep.lines.atIndex(lineIndex);\n    var endOfLine = line.width - 1;\n    context.editorInfo.ace_performSelectionChange([lineIndex, endOfLine], [lineIndex, endOfLine], true);\n    context.editorInfo.ace_doReturnKey();\n    var newLineIndex = lineIndex + 1;\n    context.editorInfo.ace_replaceRange([newLineIndex, 0], [newLineIndex, 0], 'Test line to insert');\n});\nAnyone see any potential issues with doing it this way?\n. Replacing all of the text would result in loss of proper author highlighting.\nThe approach in my last comment worked fine, but I eventually ended up moving things to Quill.js with Socket.io.\n. ",
    "sheesh": "+1\n. ",
    "mikesterlingw": "Oh, that's special. I had branched off of an old branch. Deleting issue now.\n. @Gared What is the problem with creating a pad with a \"$\" character?\n. Closing as issue is actually resolved and was a result of an error on my end\n. ",
    "michael-dev": "I have etherpad lite mod_proxied in an subdirectory as well and see in access.log requests for /ep/pad/connection-diagnostic-info, which cannot be proxied due to missing subdirectory prefix.\n. See https://github.com/ether/etherpad-lite/pull/3360. ",
    "girgen": "Yes, this change is correct. If Etherpad is proxied, this fixed is absoutely requried for EP to work correctly. Please merge.. Well, something needs to be done. We saw access to apache for /ep/pad/connection-diagnostic-info before changing that, although we root etherpad at /etherpad. Stick to single strategy sounds great, but it need need be applied here in that case. Seems it is not happening just now?. ",
    "damongant": "This has been requested by rms.\nSomething you'd consider in a PR?\n. ",
    "nashe": "It is a security issue but honestly, phishing scenarios with Etherpad are pretty limited. \nMaybe the mitigation could be one of ep_hide_referrer's feature (see templates/redirect.html)?. I think this issue should also be created in https://github.com/Pita/ueberDB. The library implement and exports methods to escape operators depending of the database we are working with (for instance, regex operators should be escaped when working with dirtydb).. Should be fixed in https://github.com/ether/etherpad-lite/commit/806c9207e365304ef0f3130d7d3ec59f362f8f9d, since it's not calling findKeys anymore. Can you confirm?. Do you still have this issue with the 1.6.3 release? A signal handler for SIGTERM was added.. This is not documented in Etherpad but it seems to be supported by the database layer. Can you try to add a password member to the dbSettings object in your configuration?. Let me know the result and I'll update the documentation accordingly :-). Do you think of the go2Name function from src/templates/index.html? If yes, this code is only client-side and does not seem to create any risk.. As far I know, the setting padOptions is what you are looking for:\nhttps://github.com/ether/etherpad-lite/blob/cb856ea6246f2db206eae9f9e9b6e4193612f01d/settings.json.template#L61-L74. Which version of Etherpad are you using? Which database backend?\nFrom what I see, only import and export features are likely to write things in /tmp.. May also be linked to IncomingForm, but can't reproduce for now. Your instance is public?. I get a \"502 Bad Gateway\".. Is it happening without your plugins ep_list_pads and  ep_codepad?\nSorry if it sounds dumb but without any reproduction step, I can only try to guess the origin of your issue.. OK, I accessed your supervisord logs (https://pad.polonkai.eu/files#/v/etherpad-stdout---supervisor-dMRLb8.log ; you may want to put them elsewhere) and found the exact error message (ODEPAD ERR - INIT PAD FAILED to read: /tmp//Hello_World!). This message comes from https://github.com/LaKing/ep_codepad/blob/82a7eeb8241768eb69eefed6ef0aedb333812419/index.js#L32, so I would advise you to open an issue here instead. . Good luck with your issue, don't hesitate to open one here again if you think that an API changed and broke ep_codepad.. cc @muxator @JohnMcLear ;-). Which database backend are you using?. Somehow related: https://github.com/ether/etherpad-lite/issues/1957. Anyway, I think this issue belongs to https://github.com/Pita/ueberDB/ :-). You were trying to export a pad with a lot of history?. Can't reproduce it at home. Can you show us the context around this stacktrace, like 10 lines before and 10 lines after?. \ud83d\udc4d . It is likely that something is already attached to this port. Can you please run lsof -i :9001, kill the process it gives you and then try starting etherpad again?. Can we stick to using ` around arguments, as in setting's example?. ",
    "ber8749": "Yes, this problem seems to be browser agnostic.\n. Still seeing a variation of this issue in version 1.6.0. Updated replication instructions:\n\nSelect unordered list\nEnter text\nPress enter/return TWICE\nSelect ordered list\nEnter text\nPress enter/return\nAll subsequent items will be labeled \"1.\"\n\nScreenshot:\n\n. ",
    "theredfish": "Hi, \nI don't experience this issue with FF 49.0.2.\n. Thank you for your work!. Ok thanks for your answers. Let me know when it's ok. I will follow #3090 too. Thank you! . Hi @Gared / @lpagliari ,\nIt seems that beta.etherpad.org is down again. I got a timeout.. Up again :) thanks!. ",
    "j0ker-222": "same problem. \nsorry, how can i renew certificate?\n. ",
    "wolfskaempf": "@j0ker-222 You can not. The certificate is on a server owned by (I assume) one of the maintainers of the project. He or she will have to renew the certificate.\n. @JohnMcLear Is it a certificate issued by Let's Encrypt? In that case I could send you a handy cronjob which automatically renews the certificate on a regular basis.\n. I'll take care of it!\n2016-05-04 22:41 GMT+02:00 John McLear notifications@github.com:\n\n@wolfskaempf https://github.com/wolfskaempf sorted this :)\nbeta.etherpad.org still needs doing :) though @wolfskaempf\nhttps://github.com/wolfskaempf if you fancy it?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly or view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/2955#issuecomment-216996361\n. Fixed as well. Should renew automatically now.\n. @JohnMcLear I think you can close this bug.\n. \n",
    "twinshadow": "I can confirm that a downgrade to node 5.9.0 did work around this issue. To do this with homebrew on OSX 10.10.5, running brew switch node 5.9.0 and brew pin 5.9.0 should keep the workaround in place.\n. ",
    "Treverix": "I can confirm that. I had the same error, received node 6.2.1 after a brew upgrade and now it works.\n. ",
    "pmontrasio": "I'm using node v6.9.2.\nJade is a dependency of mocha\n$ npm ls jade\n/home/me/etherpad/etherpad-lite\n\u2514\u2500\u252c ep_etherpad-lite@1.6.1 -> /home/me/etherpad/etherpad-lite/src\n  \u2514\u2500\u252c mocha@2.4.5\n    \u2514\u2500\u2500 jade@0.26.3\nThe version of graceful-fs that triggers the warning is also a dependency of mocha. There are other newer versions of it used by other modules.\n$ npm ls graceful-fs\n/home/me/etherpad/etherpad-lite\n\u2514\u2500\u252c ep_etherpad-lite@1.6.1 -> /home/me/etherpad/etherpad-lite/src\n  \u251c\u2500\u2500 graceful-fs@4.1.3 \n  \u251c\u2500\u252c mocha@2.4.5\n  \u2502 \u2514\u2500\u252c glob@3.2.3\n  \u2502   \u2514\u2500\u2500 graceful-fs@2.0.3 \n  \u2514\u2500\u252c npm@4.0.2\n    \u2514\u2500\u2500 graceful-fs@4.1.10\nThe other problems have been fixed as of 1.6.1.. I also get this\nnpm WARN deprecated minimatch@0.2.14: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue\nnpm WARN deprecated minimatch@1.0.0: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue\nThere are many versions of minimatch used by all the modules required by etherpad but minimatch@1.0.0 is not among them.\n$ npm ls minimatch\n/home/me/etherpad/etherpad-lite\n\u2514\u2500\u252c ep_etherpad-lite@1.6.1 -> /home/me/etherpad/etherpad-lite/src\n  \u251c\u2500\u252c mocha@2.4.5\n  \u2502 \u2514\u2500\u252c glob@3.2.3\n  \u2502   \u2514\u2500\u2500 minimatch@0.2.14 \n  \u2514\u2500\u252c npm@4.0.2\n    \u251c\u2500\u252c fstream-npm@1.2.0\n    \u2502 \u2514\u2500\u252c fstream-ignore@1.0.5\n    \u2502   \u2514\u2500\u2500 minimatch@3.0.3 \n    \u251c\u2500\u252c glob@7.1.1\n    \u2502 \u2514\u2500\u2500 minimatch@3.0.3 \n    \u251c\u2500\u252c init-package-json@1.9.4\n    \u2502 \u2514\u2500\u252c glob@6.0.4\n    \u2502   \u2514\u2500\u2500 minimatch@3.0.3 \n    \u251c\u2500\u252c node-gyp@3.4.0\n    \u2502 \u2514\u2500\u2500 minimatch@3.0.3 \n    \u2514\u2500\u252c read-package-json@2.0.4\n      \u2514\u2500\u252c glob@6.0.4\n        \u2514\u2500\u2500 minimatch@3.0.3\nDigging into the output of npm install I got it\n\u2514\u2500\u252c wd@0.3.11 \n  \u251c\u2500\u252c archiver@0.12.0 \n  \u2502 \u251c\u2500\u2500 buffer-crc32@0.2.13 \n  \u2502 \u251c\u2500\u252c glob@4.0.6 \n  \u2502 \u2502 \u251c\u2500\u252c graceful-fs@3.0.11 \n  \u2502 \u2502 \u2502 \u2514\u2500\u2500 natives@1.1.0 \n  \u2502 \u2502 \u251c\u2500\u2500 minimatch@1.0.0\n. ",
    "Perflyst": "I can't see the version in the settings of a pad.. I just upgraded to v1.7.5 and there is now only \"Server: Etherpad (http://etherpad.org)\" without commit hash or tag. What changed?. Installed today, my audit has more\n[!] 48 vulnerabilities found - Packages audited: 5997 (258 dev, 158 optional)\n    Severity: 20 Low | 17 Moderate | 11 High. It is a clean install without any plugins.. I updated to v1.7 today.\nfound 13 vulnerabilities (10 low, 3 high)\nWay better! Thanks.. ",
    "fisx": "Erm...  you closed it, but i am still seeing the old text without TZ info in the FAQ?\n. ",
    "xjer": "\nHas anyone a RegExp for parsing the Etherpad log file, so it can be added to Fail2Ban?\n@fail2ban\n\nDid you by any chance found a workaround for this?. ",
    "Hobbabobba": "```\n */\n//The Type of the database. You can choose between dirty, postgres, sqlite and mysql\n  //You shouldn't use \"dirty\" for for anything else than testing or development\n  //\"dbType\" : \"dirty\",\n  //the database specific settings\n  //\"dbSettings\" : {\n                 // \"filename\" : \"var/dirty.db\"\n                 //},\n/ An Example of MySQL Configuration\n   \"dbType\" : \"mysql\",\n   \"dbSettings\" : {\n                    \"user\"    : \"etherpad\",\n                    \"host\"    : \"localhost\",\n                    \"password\": \"xxx\",\n                    \"database\": \"etherpad-lite\",\n                    // \"charset\" : \"utf8mb4\"\n                  },\n  /\n```\n. I tried without it, the same result. \n. found a working Etherpad Lite docker-container. Easier to fix this way! Thanks for your ideas and support! Etherpad rocks!\n. ",
    "cdparra": "Solved. For some reason, my first running of npm install dirty didn't work but after it did. \n. Thanks @lpagliari \nI was looking at this documentation page, which apparently was not updated. I added the parameter there for future references. . We are still having this issue @webzwo0i Do you have any news on this? . Any news regarding this issue? . @lpagliari yes, we are using the Java client. I will try your solution Today and see if it works (I can trie to do it directly in the client code and then submit a pull request) . Just tried this out and it works. I created a pull request for the java-etherpad-client I am using (not sure if there is another one). ",
    "yoonyoungkim": "I tracked down that. It used in 'setWraps'. 'setWraps' called when ace_setProperty initialized for setting in setting.json. But 'setting.json' don't have using it.\n. Besides, when it removes, it speed up. . ",
    "raimann": "The export doesn't work when the last line ist a nested list on the 2nd level. There is a timeout after waiting a time, but no error message in the browser.\nI got the error on my server, but I was able to reproduce it on piratenpad.de.\nOn my Server I got error messages like this:\n898607.pdf pdf:11:09.339] [ERROR] console - Abiword File failed to convert [Error: convert /tmp/etherpad_export_2474898607.html /tmp/etherpad_export_2474 \nAbiWord: could not open the file [/tmp/etherpad_export_2474898607.html]\nerror -1 \nAbiWord:> ]\n898607.pdf pdf /tmp/etherpad_export_2474898607.html /tmp/etherpad_export_2474 \nAbiWord: could not open the file [/tmp/etherpad_export_2474898607.html]\nerror -1 \nAbiWord:> \n    at module.exports (/opt/etherpad/src/node_modules/async-stacktrace/ERR.js:46:13)\n    at /opt/etherpad/src/node/handler/ExportHandler.js:224:36\n    at /opt/etherpad/src/node_modules/async/lib/async.js:254:17\n    at /opt/etherpad/src/node_modules/async/lib/async.js:151:21\n    at /opt/etherpad/src/node_modules/async/lib/async.js:251:21\n    at Object.callback (/opt/etherpad/src/node_modules/async/lib/async.js:615:34)\n    at stdoutCallback (/opt/etherpad/src/node/utils/Abiword.js:135:14)\n    at Socket.<anonymous> (/opt/etherpad/src/node/utils/Abiword.js:116:11)\n    at Socket.EventEmitter.emit (events.js:95:17)\n    at Socket.<anonymous> (_stream_readable.js:746:14)\n. ",
    "poVoq": "yeah... still happens :(. Ok seems like this plugin was causing it:\nhttps://github.com/JohnMcLear/ep_tasklist\nalthough that one by itself was working fine.... Sorry, can't test it for now as I am migrating my VPS. But thanks for looking into it, seems like it should work indeed.. There are already some unofficial Docker images that support this. Maybe worth a look?\nImportant would be to be able to set the API key secret via an ENV variable so that on redeployment of the Docker image one doesn't have to manually change all external services to a new random API key. Thanks!. That looks great already.\nAny chance to also implement setting the APIKEY.txt (as explained here: https://github.com/ether/etherpad-lite/wiki/HTTP-API ), similar to how this Docker image does it: https://github.com/tvelocity/dockerfiles/tree/master/etherpad-lite ?\nOr is there another way (with a volume?) to prevent the API key changing when recreating/updating the docker image?\nMy use-case: I have Etherpad integrated in Dokuwiki and Nextcloud, and both require setting the API key, and ideally I would not have to change it manually every time the Docker image is updated.\nThanks a lot!. ",
    "ziyaointl": "Yep it worked! Thank you so much for helping me out. I can close this issue now.\n. Thanks for reminding me. This does make a lot of sense. I'll reopen this issue.\n. @Gared Yes, it seems to work with me.\n. ",
    "milan-w": "The problem has been introduced by this commit: https://github.com/ether/etherpad-lite/commit/835bca7967473dc21fa6de4eb56357c92e4f43a3\nfs.statSync can't be used synonymously to fs.exists. fs.statSync throws an exception if the file/direcotry does not exist. See https://blog.raananweber.com/2015/12/15/check-if-a-directory-exists-in-node-js/\n. ",
    "felixboehm": "Installing a plugin does a npm install <plugin> in the backend - how could you persist the installed plugins with a docker volume ?. ",
    "Jamesits": "I maintain a working Etherpad Docker image which configures itself (including auto-installation of plugins) using environment variables. This is optimized to deploy using docker management service. \nGitHub repo: https://github.com/Jamesits/docker-etherpad-lite\nDocker Hub: https://hub.docker.com/r/jamesits/etherpad-lite/. @arogozhnikov Because it is \u201cproduction ready\u201d :)\nAnd you can configure MySQL connection use envs; you don\u2019t really need to put MySQL in container.. ",
    "arogozhnikov": "@lpagliari \nseems like a good solution, but the image does not exist on docker hub:\n$sudo docker pull leibnitius/etherpad-docker\nUsing default tag: latest\nError response from daemon: pull access denied for leibnitius/etherpad-docker, repository does not exist or may require 'docker login'\n@Jamesits  good job! \nWhy did you decide to keep a separate container for mysql? (what's wrong with sqlite?). ",
    "snakeye5": "Thanks I have updated to latest API version which is 1.2.13 and still same error!! Any other ideas?\n. ",
    "LOB-PatrickT": "here's the link: http://s1.coranetsolutions.com:9001/api/\nIt has a version of {\"currentVersion\":\"1.2.13\"} \n. @lpagliari This is the full link I used previously is why it did not work:\nhttp://s1.coranetsolutions.com:9001/api/1/getText?apikey=secret&padID=test_test\nI tried your solution to change 1 to 1.2.13 and it now works.\n. yes we can close the issue now @lpagliari \n. Just an update. I removed \"padID=\" and change it to\nhttp://s1.coranetsolutions.com:9001/p/test_test instead. \n. ",
    "martindale": "Please delete and disregard this pull request. :)\n. ",
    "andreamald": "And how did you solve it with Thx ??? . I have a problem identical to yours I could not solve it ... you could help me. ",
    "shuyanglin": "hi, is there anyone working on this feature? can't wait  to use it :p\n. 1.6.1 \nLast Updated was Mar 8. just accessed on beta.etherpad.org with iPhone SE and it works fine as well.\nbut most of the time I use etherpad on sandstorm, not sure if that's the reason?\n. Sure! Will do that. Thank you very much!. ",
    "gramakri": "If you want to try a demo, https://my-demo.cloudron.me (username: cloudron password: cloudron). A direct link to the app itself is https://cloudron.io/appstore.html?app=org.etherpad.cloudronapp.\n. Bump :-) Did any contributor/maintainer have a comment on this?\n. @muxator thanks! Will there be a new release that has this change? Would be good to have a new release as we need to pull in the previous release's security fixes as well.. We hit this in the Cloudron Etherpad package. The exact error is:\n23:52:09 [main] [2018-04-08 06:52:09.382] [ERROR] console - Failed to load '/app/code/node_modules/ep_etherpad-lite/node/hooks/express/swagger:expressCreateServer' for 'ep_etherpad-lite/swagger/hooks/expressCreateServer': Error: Cannot find module './isValidJsonPName'. ",
    "xsbear": "Got it, thanks!\n. ",
    "MikaMaracuja": "2019, still an issue on Server version: 10.1.26-MariaDB-0+deb9u1 Debian 9.1\nwith ueberdb2 0.4.0. same error on Server version: 10.1.37-MariaDB-0+deb9u1 Debian 9.6\nSteps to reproduce:\nMysql Password stored and defined with .... IDENTIFIED by ('mysupersecretPA$$WORD').\nthen settings.json:\n\"dbSettings\" : {\n                   \"user\"    : \"etherpaduser\",\n                   \"host\"    : \"localhost\",\n                   \"port\"    : 3306,\n                   \"password\": \"mysupersecretPA$$WORD\",\n                   \"database\": \"etherpad_lite_db\",\n                   \"charset\" : \"utf8mb4\"\n                 },\n[2019-01-29 16:42:16.937] [ERROR] console - Error: ER_NOT_SUPPORTED_AUTH_MODE: Client does not support authentication protocol requested by server; consider upgrading MariaDB client\n    at Handshake.Sequence._packetToError (/var/www/etherpad-lite/src/node_modules/mysql/lib/protocol/sequences/Sequence.js:52:14)\n    at Handshake.ErrorPacket (/var/www/etherpad-lite/src/node_modules/mysql/lib/protocol/sequences/Handshake.js:130:18)\n    at Protocol._parsePacket (/var/www/etherpad-lite/src/node_modules/mysql/lib/protocol/Protocol.js:279:23)\n    at Parser.write (/var/www/etherpad-lite/src/node_modules/mysql/lib/protocol/Parser.js:76:12)\nat startup time.. also same issue on \nServer version: 10.1.26-MariaDB-0+deb9u1 Debian 9.1. ",
    "danfuzz": "Hi! Just a quick little PR I put together to test the waters for the contribution process. Thanks for your consideration.\n. Not sure what's going wrong with Travis. The build worked for me locally, but also the only changes I made were in comments.\n. @lpagliari: Thanks for the info, and thanks for the merge!\n. I just noticed that I did inadvertently change the result if noDocType is passed as true to getPadHTMLDocument: In the original, that would also cause it to not emit the <head> section. But that said, the only two call sites to getPadHTMLDocument pass noDocType as false, so my PR is still semantics-preserving with respect to the actual uses.\nIf you think I should update the PR, then please let me know. If anything, I'd be inclined to just remove the noDocType argument and thereby keep the code a bit simpler.\n. (I squashed the branch to remove my separate whitespace fix commits.)\n. Thanks for the feedback. Done!\nIt wasn't clear to me if you wanted me to change getPadTXTDocument() or just getPadHTMLDocument(). I made both changes, but kept them as separate commits in case you only wanted the latter in this PR.\n. You're welcome! Glad to be of service.\n. This passed all local FE test cases.\n. This is a follow-on to https://github.com/ether/etherpad-lite/pull/3045. I noticed the pre-existing typos when I was working on that change, but figured it would be more appropriate to fix them in a separate PR.\n. Note: PR #3053 incorporates some of the same typo fixes that I addressed in this PR. If you merge that PR, then this one will have to be rebased/merged; likewise vice versa. I'd recommend merging the other one first, as this one is considerably simpler.\n. Here's a trio of screenshots, editor view, timeslider before this PR, and timeslider with this PR. It shows a numbered list example, but to be clear this PR also addresses similar problems with the other kinds of lists / indents.\nPad Editor\n\nTimeslider Without This PR\n\nTimeslider With This PR\n\n. PR passes both front-end and back-end tests on my machine.\n. As an example, with the following pad content:\n\n(where the second line is a numbered list), upon initial load, the DOM for the two lines is as follows without this PR:\n<div id=\"magicdomid2\" class=\"\">...</div>\n<div id=\"magicdomid3\" class=\" list-start-number1\">...</div>\nBut with this PR, the corresponding DOM is:\n<div id=\"magicdomid2\" class=\"ace-line\">...</div>\n<div id=\"magicdomid3\" class=\"ace-line list-start-number1\">...</div>\nThis (latter) is notably what the DOM is upon initial entry of the document (from scratch), and also what the DOM turns out to be if you make edits on the lines.\n. Okay. Seems like the status quo violates the (implicit) design of the system, but YMMV. (I've long since given up trying to work on this codebase, but left this PR open in case it would be of use.). @muxator Please go right ahead.. ",
    "mjdeslongchamps": "The plugin did not address my issue. Are there any limitations when using the setHTML and inserting html code to a pad. I am able to see content, but the table tags are being stripped.\n. ",
    "hugoroy": "\u21aa ao\u00fbt 15, 2016 12:49 \u2014 Luiza Pagliari:\n\nThis looks like an issue with contenteditable, as suggested on Litewrite issue.\nWhich browser are you using? Chrome has an open issue for that, for example.\n\nAs far as I can tell, I have the same issue on Firefox 48.0 and Chromium 52.\n. ",
    "kuldeepdhaka": "maybe this is also related to above:\n[2016-08-27 02:12:18.519] [WARN] message - Authentication try failed:{\"component\":\"pad\",\"type\":\"CLIENT_READY\",\"padId\":\"bla-bla\",\"sessionID\":\"null\",\"password\":null,\"token\":\"t.0WWVLKdkFOOyJcrBAR4e\",\"protocolVersion\":2}\n``\n. [2016-08-27 02:06:44.102] [INFO] console - Your Etherpad version is 1.6.0 (8ad9d4f)\n. I can locally reporduce the problem with:\ndiff settings.json settings.json.template\n```\n41c41\n<   \"dbType\" : \"sqlite\",\n\n\n\"dbType\" : \"dirty\",\n44c44\n<                    \"filename\" : \"var/data.db\"\n\n\n\n               \"filename\" : \"var/dirty.db\"\n\n80c80\n<   \"requireSession\" : true,\n\n\n\n\"requireSession\" : false,\n113c113\n<   \"requireAuthentication\" : true,\n\n\n\n\"requireAuthentication\" : false,\n126c126\n<   \n\n\n\n/\n136a137\n  /\n169c170\n<   \"loglevel\": \"DEBUG\",\n\n\n\n\"loglevel\": \"INFO\",\n\n```\n. tried in two browser: (same problem)\n- Firefox 48.0\n- Chromium Version 52.0.2743.116 (64-bit)\n. ",
    "fralix": "I got this very same problem. It happens sometimes - I tried installing and removing plugins and the problem persisted.\n. Yeah this is the problem we said. I would call this \"important\" as it is not fixed yet AFAIK\n. I think this problem is important is it makes parts of etherpad not useable.\n. What about a rewrite (or parts of it) in Rust? It appears to be a hype and it has a lot of advantages for systems that have to be safe and fast .... If people are only looking for an etherpad service to use (non-paid):\nI'd always recommend Wikimedia: etherpad.wikimedia.org. Related?\nTypeError: pad.collabClient is null in https://pad.fralix.ovh/javascripts/lib/ep_etherpad-lite/static/js/pad.js?callback=require.define at line 3'\nThis is shown for to me instead of the Uncaught line. This problem persisted for me for years (!) with default installation, i just had another try with a fresh install, but still experience the same problem using Firefox (Nightly). Hey, I can no longer reproduce the issue with a proper proxy setup:\nhttps://github.com/ether/etherpad-lite/wiki/How-to-put-Etherpad-Lite-behind-a-reverse-Proxy \nhttps://github.com/ether/etherpad-lite/issues/2318#issuecomment-63548542 \nSo i guess the issue is really down to the socket connection and reading all the guides may help? :joy:  . ",
    "Choco-Bo": "So there's nothing to do about it ? Just keep reloading the page till it works ? :(\nEdit : I'm having this problem more often with Firefox and less with Chrome\n. @fralix Think so too as people are going to complain when having this error :/ and may not be as patient as me when reloading 10 times there page for it to work\n. ",
    "StruBE-KAUST": "I propose this patch to remove the colors :\n```\ndiff --git a/bin/safeRun.sh b/bin/safeRun.sh\nindex 519a0b6..6a4854a 100755\n--- a/bin/safeRun.sh\n+++ b/bin/safeRun.sh\n@@ -55,7 +55,7 @@ do\n     TIME_SINCE_LAST_SEND=$(($TIME_NOW - $LAST_EMAIL_SEND))\n if [ $TIME_SINCE_LAST_SEND -gt $TIME_BETWEEN_EMAILS ]; then\n\n\nprintf \"Server was restarted at: $(date)\\nThe last 50 lines of the log before the error happens:\\n $(tail -n 50 ${LOG})\" | mail -s \"Pad Server was restarted\" $EMAIL_ADDRESS\n\nprintf \"Server was restarted at: $(date)\\nThe last 50 lines of the log before the error happens:\\n $(tail -n 50 ${LOG} | sed 's,\\x1B[[0-9;]*[a-zA-Z],,g')\" | mail -s \"Pad Server was restarted\" $EMAIL_ADDRESS\nLAST_EMAIL_SEND=$TIME_NOW\n fi\n```\n. Do you prefer a pull request instead of the patch ?\n. \n\n",
    "dunatotatos": "Done.\nSee here.\n. ",
    "darcykenworthy": "Ah, got it; I'd misconfigured Nginx location, and it was sending requests for .js files to the wrong directory.\n. ",
    "tbe": "Forget it, i should read the documentation better, its another issue ... \n. ",
    "kwang1971": "It works now , thanks.\n. ",
    "fsch2": "This looks great, I didn't know about that plugin. Will give it a try! Best, z-beeblebroxx, fsch2. ",
    "neynah": "There's a temporary issue that affects people who have new versions of Etherpad installed (compared to the available version on the app market). We'll be fixing it over the next few days, however, it does work for those using the available Etherpad version from the App Market; you can test this by opening the link in incognito. We are fixing this in the next few days so I'll keep you posted.\nThanks for the suggestion. I will also add a link to that wiki.\n. ",
    "guillaume-uH57J9": "@lpagliari You're right, HTML export also discards alignement, as shown below. \nDoes that mean this is an issue with ep_headings2, or Etherpad ? \nI'm not sure I follow the relation with ep_headings2, but I will close/move the issue if you think it's caused by a different piece of code/plugin. \nEtherpad view : \n\nExported HTML view : \n\n. ",
    "EPEffects": "Well, i tried all steps on the issue, but at least the error has changed ^^\n```\netherpad@root596541:~/etherpad-lite/bin$ ./run.sh\nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\nEnsure jQuery is downloaded and up to date...\nClearing minified cache...\nEnsure custom css/js files are created...\nStarted Etherpad...\nmodule.js:474\n    throw err;\n    ^\nError: Cannot find module 'internal/fs'\n    at Function.Module._resolveFilename (module.js:472:15)\n    at Function.Module._load (module.js:420:25)\n    at Module.require (module.js:500:17)\n    at require (internal/module.js:20:19)\n    at evalmachine.:17:20\n    at Object. (/home/etherpad/etherpadlite/src/node_modules/npm/node_modules/graceful-fs/fs.js:11:1)\n    at Module._compile (module.js:573:32)\n    at Object.Module._extensions..js (module.js:582:10)\n    at Module.load (module.js:490:32)\n    at tryModuleLoad (module.js:449:12)\n```\nI tried to install graceful-fs, but it's still the same error:\n```\netherpad@root596541:~/etherpad-lite/bin$ npm install graceful-fs\n/home/etherpad/etherpad-lite\n\u2514\u2500\u2500 graceful-fs@4.1.9\nnpm WARN enoent ENOENT: no such file or directory, open '/home/etherpad/etherpad-lite/package.json'\nnpm WARN etherpad-lite No description\nnpm WARN etherpad-lite No repository field.\nnpm WARN etherpad-lite No README data\nnpm WARN etherpad-lite No license field.\n```\nAny clues?\n. Still getting the same error...\n. After 2 hours, I was able to fix this error... I don't know how, though ^^\n. ",
    "kernelfreak": "@Gared : Hi, This is what we did afterwards, and still we are getting the same error. First, for the GroupAccount which we have in our GroupAdmin. So, In Etherpad I create a Group, author object with the admins first name, then for the admin I created a session. This sessionData was saved in GroupMembers object. Similarly, by keeping GroupID same, I created new authors and session for every member. Then a cookie was set for the same in front-end when loading groups. Now, when a groupPAd was created, the GroupID is same throughout, but more than 1 user still doesn't have access, permissionDenied error.\nCode :\n```\nList<GroupAccount> groupAccountList = this.groupAccountService.getAllGroupAccounts();\n            for(GroupAccount groupAccount : groupAccountList){\n                Person person = this.personService.findPersonByUsername(groupAccount.getAdminUsername());\n                Map group = client.createGroup();\n                System.out.println(\"Group to string is \" + group.toString());\n                Map author = client.createAuthor(String.valueOf(person.getFirstName()));\n                System.out.println(\"Author is \" + author.toString());\n                DateFormat dfm = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n                dfm.setTimeZone(TimeZone.getTimeZone(\"Europe/Berlin\"));\n                Date longTime = dfm.parse(\"2099-01-15 20:15:00\");\n                Map sessionData = client.createSession(String.valueOf(group.get(\"groupID\")), String.valueOf(author.get(\"authorID\")), longTime);\n                if (sessionData != null) {\n                    sessionData.put(\"groupID\", group.get(\"groupID\"));\n                    sessionData.put(\"authorID\", author.get(\"authorID\"));\n                    GroupMembers adminMember = this.groupMembersService.returnMembersMatchingUsernameAccountId(person.getUsername(),groupAccount.getGroupId());\n                    adminMember.setSessionData(sessionData.toString());\n                    this.groupMembersService.directUpdateGroupMembers(adminMember);\n                    List<GroupMembers> groupMembersList = this.groupMembersService.returnGroupMembers(groupAccount.getGroupId());\n                    for(GroupMembers groupMember : groupMembersList){\n                        if(!groupMember.getMemberUsername().equals(person.getUsername())){\n                            System.out.println(\"GroupMember memberuserbname is \"+groupMember.getMemberUsername());\n                            Person authorPerson = this.personService.findPersonByUsername(groupMember.getMemberUsername());\n                            if(authorPerson!=null) {\n                                System.out.println(\"Author person uis \" + authorPerson.getUsername());\n                                Map etherpadAuthor = client.createAuthor(String.valueOf(authorPerson.getFirstName()));\n                                DateFormat authorDFM = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n                                authorDFM.setTimeZone(TimeZone.getTimeZone(\"Europe/Berlin\"));\n                                Date authorLongTime = authorDFM.parse(\"2099-01-15 20:15:00\");\n                                Map authorSessionData = client.createSession(String.valueOf(group.get(\"groupID\")), String.valueOf(etherpadAuthor.get(\"authorID\")),\n                                        authorLongTime);\n                                if (authorSessionData != null) {\n                                    authorSessionData.put(\"groupID\", group.get(\"groupID\"));\n                                    authorSessionData.put(\"authorID\", etherpadAuthor.get(\"authorID\"));\n                                    groupMember.setSessionData(authorSessionData.toString());\n                                    this.groupMembersService.directUpdateGroupMembers(groupMember);\n                                }\n                            }\n                        }\n                    }\n                    //return client.createGroupPad(String.valueOf(group.get(\"groupID\")),String.valueOf(noteId),noteText);\n                }\n            }\n```\n. The problem was with how Tomcat was returning the cookie data in comma separated strings. We encoded the entire string and then it was fine. \n. I had to remove the CA line and then it worked. \n. @lpagliari  : No, In CSS preview of the object, I see it correctly as it's retrieved from PostgreSQL DB, but not in Etherpad, that's the actual problem we are facing. Thank you.\n. @Gared Our DB is encrypted, so I cannot be sure. . @lpagliari Problem happening in chrome as well(confirmed by tester). No error in browser or server. Any ideas. Thank you. . Thanks @Flakebi : This solved the problem. :-). @blunckr : I get an option for reopening, do you want me to reopen this? Please tell me the text I should add when reopening. Thanks.. Can anyone tell me what do you guys mean by encoding plain text before saving it in Java? Thanks. . I encoded the text with URLEncoder.encode(\"text\",\"UTF-8\") and then it worked. Thank you. . @ravinet : Author A is removed from etherpad as an author. That's the step you missed. . ",
    "subhashdasyam": "Thanks @lpagliari for the link, i have already referred to the above link, unfortunately i was not able to find anything related to the SSL connectivity \n. thanks @DanielBickley i don't think i can use hook to pass the connected ssl connection, as i am new to nodejs. \nIf you have time, or when every you can, would you be willing to write a small example for me\nThanks in advance\nRegards,\n. ",
    "DocMAX": "please fix that stupid error!!!\n. ",
    "2Belette": "no idea to solve this one ?\n. thanks yes it is working I just downgraded to 6.9\n. ",
    "thomwiggers": "FYI: I've tried updating only Mocha and npm, but a lot of things broke. For example, in a lot of random places the recursion limit was reached. I don't know enough js to fix it.\n. ",
    "antonfrolovsky": "Sorry, miss click. \n. ",
    "matbgn": "With pleasure : \n1\u00b0 Only one plugin is installed : ep_adminpads\n2\u00b0 Unfortunately no message at all on the browser console...\n3\u00b0 On the server side I have logically that : \n[2016-11-12 11:15:30.418] [INFO] access - [ENTER] Pad \"Z7WzkB5xDa\": Client AcktCzbMDQfcf6_VAABL with IP \"194.230.159.101\" entered the pad\n[2016-11-12 11:15:30.441] [INFO] ueberDB - Flushed 1 values\n[2016-11-12 11:15:40.636] [INFO] access - [LEAVE] Pad \"Z7WzkB5xDa\": Author \"a.1VTy8NnZaRuc2upf\" on client AcktCzbMDQfcf6_VAABL with IP \"194.230.159.101\" left the pad\n4\u00b0 It was precisely the idea to test a minimal configuration without plugins (except adminpads). Do you really think it's necessary to throw out this one too ? I will recompile without in thos case.\n5\u00b0 No trigger at all quiet random and disturbing. The only thing I can say is that if a infinitely click the mouse it didn't appear... (but not really sure of that).\n. On a real DEBUG lvl I have this, does this talk to anyone ? \n[2016-11-12 12:44:38.453] [DEBUG] ueberDB - GET    - globalAuthor:a.1VTy8NnZaRuc2upf - {\"colorId\":\"#2d8e80\",\"name\":\"\",\"timestamp\":1478954668241,\"padIDs\":{\"Z7WzkB5xDa\":1,\"XiwrhMxtzK\":1}} - from cache\n[2016-11-12 12:44:38.454] [DEBUG] ueberDB - GETSUB - globalAuthor:a.1VTy8NnZaRuc2upf[\"colorId\"] - \"#2d8e80\"\n[2016-11-12 12:44:38.454] [DEBUG] message - to VvSLLtq2NY3-psl7AAB6: {\"type\":\"COLLABROOM\",\"data\":{\"type\":\"USER_LEAVE\",\"userInfo\":{\"ip\":\"127.0.0.1\",\"colorId\":\"#2d8e80\",\"userAgent\":\"Anonymous\",\"userId\":\"a.1VTy8NnZaRuc2upf\"}}}\n[2016-11-12 12:44:39.743] [DEBUG] SessionStore - GET onjgOHqNOgfXWepxkSvGsumBRXxxpAOm\n[2016-11-12 12:44:39.744] [DEBUG] ueberDB - GET    - sessionstorage:onjgOHqNOgfXWepxkSvGsumBRXxxpAOm - {\"cookie\":{\"path\":\"/\",\"_expires\":null,\"originalMaxAge\":null,\"httpOnly\":true}} - from cache\n[2016-11-12 12:44:39.900] [DEBUG] ueberDB - GET    - token2author:t.d8JODxlvRF9b6fMOtXja - \"a.1VTy8NnZaRuc2upf\" - from cache\n[2016-11-12 12:44:39.900] [DEBUG] ueberDB - SETSUB - globalAuthor:a.1VTy8NnZaRuc2upf[\"timestamp\"] - 1478954679900\n[2016-11-12 12:44:39.901] [DEBUG] message - from uHiOD12OF5BgH6CdAAB8: {\"component\":\"pad\",\"type\":\"CLIENT_READY\",\"padId\":\"XiwrhMxtzK\",\"sessionID\":\"null\",\"password\":null,\"token\":\"t.d8JODxlvRF9b6fMOtXja\",\"protocolVersion\":2,\"client_rev\":26,\"reconnect\":true}\n[2016-11-12 12:44:39.902] [DEBUG] ueberDB - GET    - token2author:t.d8JODxlvRF9b6fMOtXja - \"a.1VTy8NnZaRuc2upf\" - from cache\n[2016-11-12 12:44:39.903] [DEBUG] ueberDB - GET    - globalAuthor:a.1VTy8NnZaRuc2upf - {\"colorId\":\"#2d8e80\",\"name\":\"\",\"timestamp\":1478954668241,\"padIDs\":{\"Z7WzkB5xDa\":1,\"XiwrhMxtzK\":1}} - from cache\n[2016-11-12 12:44:39.903] [DEBUG] ueberDB - SET    - globalAuthor:a.1VTy8NnZaRuc2upf - {\"colorId\":\"#2d8e80\",\"name\":\"\",\"timestamp\":1478954679900,\"padIDs\":{\"Z7WzkB5xDa\":1,\"XiwrhMxtzK\":1}} - to buffer\n[2016-11-12 12:44:39.904] [DEBUG] ueberDB - SETSUB - globalAuthor:a.1VTy8NnZaRuc2upf[\"timestamp\"] - 1478954679902\n[2016-11-12 12:44:39.904] [DEBUG] ueberDB - GET    - globalAuthor:a.1VTy8NnZaRuc2upf - {\"colorId\":\"#2d8e80\",\"name\":\"\",\"timestamp\":1478954679900,\"padIDs\":{\"Z7WzkB5xDa\":1,\"XiwrhMxtzK\":1}} - from cache\n[2016-11-12 12:44:39.905] [DEBUG] ueberDB - SET    - globalAuthor:a.1VTy8NnZaRuc2upf - {\"colorId\":\"#2d8e80\",\"name\":\"\",\"timestamp\":1478954679902,\"padIDs\":{\"Z7WzkB5xDa\":1,\"XiwrhMxtzK\":1}} - to buffer\n[2016-11-12 12:44:39.907] [DEBUG] ueberDB - GET    - pad2readonly:XiwrhMxtzK - \"r.3ded4f06ab840d2f0015cd35b5391bb4\" - from cache\n[2016-11-12 12:44:39.908] [INFO] ueberDB - Flushed 1 values\n[2016-11-12 12:44:39.909] [DEBUG] ueberDB - GET    - token2author:t.d8JODxlvRF9b6fMOtXja - \"a.1VTy8NnZaRuc2upf\" - from cache\n[2016-11-12 12:44:39.911] [DEBUG] ueberDB - SETSUB - globalAuthor:a.1VTy8NnZaRuc2upf[\"timestamp\"] - 1478954679911\n[2016-11-12 12:44:39.911] [DEBUG] ueberDB - GET    - globalAuthor:a.1VTy8NnZaRuc2upf - {\"colorId\":\"#2d8e80\",\"name\":\"\",\"timestamp\":1478954679902,\"padIDs\":{\"Z7WzkB5xDa\":1,\"XiwrhMxtzK\":1}} - from cache\n[2016-11-12 12:44:39.912] [DEBUG] ueberDB - SET    - globalAuthor:a.1VTy8NnZaRuc2upf - {\"colorId\":\"#2d8e80\",\"name\":\"\",\"timestamp\":1478954679911,\"padIDs\":{\"Z7WzkB5xDa\":1,\"XiwrhMxtzK\":1}} - to buffer\n[2016-11-12 12:44:39.912] [DEBUG] ueberDB - GET    - globalAuthor:a.1VTy8NnZaRuc2upf - {\"colorId\":\"#2d8e80\",\"name\":\"\",\"timestamp\":1478954679911,\"padIDs\":{\"Z7WzkB5xDa\":1,\"XiwrhMxtzK\":1}} - from cache\n[2016-11-12 12:44:39.913] [DEBUG] ueberDB - GET    - pad:XiwrhMxtzK:revs:26 - {\"changeset\":\"Z:8>1=7*0+1$H\",\"meta\":{\"author\":\"a.1VTy8NnZaRuc2upf\",\"timestamp\":1478954271785}} - from cache\n[2016-11-12 12:44:39.913] [DEBUG] ueberDB - GETSUB - pad:XiwrhMxtzK:revs:26[\"meta\",\"timestamp\"] - 1478954271785\n[2016-11-12 12:44:39.913] [DEBUG] ueberDB - GET    - globalAuthor:a.1VTy8NnZaRuc2upf - {\"colorId\":\"#2d8e80\",\"name\":\"\",\"timestamp\":1478954679911,\"padIDs\":{\"Z7WzkB5xDa\":1,\"XiwrhMxtzK\":1}} - from cache\n. ",
    "MartB": "This is still around, is there any workaround besides removing this from the html ?\nTbh the exporters should ignore all display:none elements.. ",
    "7feilee": "npm version 3.10.9 \nnode version 7.0.0\n. Thanks ,but i solve the problem by npm install xxx@xxx. Then problem raises where i run the xx.js. \n. So i think it's not about dependencies.\n. Thanks\n. I already have the answer for myself. Because at first, I install nodejs which version is v6.9.1,so do npm install i got the v48,the i unistall nodejs ,and try nodejs v0.10.x ,so there {node_api} will be v11. \nhttps://nodejs.org/en/download/releases/. half right?. ",
    "epheo": "This, at least, fix the issue on my build.\nMany thanks !. ",
    "renebrain": "So any ideas here? It is still prelevant in the latest version.. As you can already see on the top, this is already the test case on https://beta.etherpad.org/. It happens everywhere. On your instance aswell as on our own. For us it happens on Firefox. On Linux, aswell as Windows and Mac. For all the other browsers he just skips the last word in the first row.. Any results here?. Anything?. Yes it does.. #3125 was excactly this problem, solved it back then, by ignoring that message.. We have experienced the same problem on our side aswell. It is not only for setHTML.  It is also for setting the default text in the createGroupPad method aswell. We are using the Java API to connect with the node.js server. Can someone of the developer try to create a pad with one of those characters over the api and explain why this encoding issue happens? \u00f6, \u00e4, \u00fc, \u00df. For us non pluign user it screws the entire line count, so we removed that line locally on our side. I guess there are errors getting thrown so ethepad goes back to default line heights/margins/Paddings. why is this closed? i don't understand. I don't want that functionality  but what i can see is, that dropping into the etherpad contenteditable the drop is getting prevented, but not on the header, which means a user can break an etherpad app by accidentally dropping something on the header. shouldn't that behaviour be forbidden? What is the intention behind accepting the drop event on the header in the first place?. ",
    "eviltel": "It seems to be the same problem with the plugin list link http://static.etherpad.org/plugins.html which I found on the Wiki page https://github.com/ether/etherpad-lite/wiki/Plugin,-a-list.\nstatic.etherpad.org resolvs to the same address.. ",
    "Thireus": "Still down, is there another alternative?. Also, \"https://www.npmjs.com/search?q=ep_\" is where you get the plugin list. Anything starting with \"ep_\" should be for Etherpad.. ",
    "dbareiro": "Hi!\nIt looks like the service is down again:\nJan  9 18:49:39 conference node[392]: #033[33m[2017-01-09 18:49:39.272] [WARN] console - #033[39m{ Error: connect ETIMEDOUT 104.130.77.39:443 \nJan  9 18:49:39 conference node[392]: at Object.exports._errnoException (util.js:1022:11) \nJan  9 18:49:39 conference node[392]: at exports._exceptionWithHostPort (util.js:1045:20) \nJan  9 18:49:39 conference node[392]: at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1087:14) \nJan  9 18:49:39 conference node[392]: code: 'ETIMEDOUT', \nJan  9 18:49:39 conference node[392]: errno: 'ETIMEDOUT', \nJan  9 18:49:39 conference node[392]: syscall: 'connect', \nJan  9 18:49:39 conference node[392]: address: '104.130.77.39', \nJan  9 18:49:39 conference node[392]: port: 443 } \nJan  9 18:49:39 conference node[392]: Error: connect ETIMEDOUT 104.130.77.39:443 \nJan  9 18:49:39 conference node[392]: at Object.exports._errnoException (util.js:1022:11) \nJan  9 18:49:39 conference node[392]: at exports._exceptionWithHostPort (util.js:1045:20) \nJan  9 18:49:39 conference node[392]: at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1087:14)\nKind regards,\nDaniel. Thanks for the prompt resply, Gared. I'll be watching the news on #3092.\nKind regards,\nDaniel. ",
    "Unifex": "Hello @lpagliari,\nThanks for the reply. Just a heads up. My less that prompt response is due to living in the future and most of the world is sleeping while we're up here in New Zealand.\nI believe that we only have one DB. We definitely only have one DB server for it.  I've put in a request with the sysadmins to verify that this is the case. I'm hoping to find that one is pointing at the DB server and the other is misconfigured (default dirtyDB still in place perhaps...)\nShould have a response within half an hour.\nThanks again for the reply.\nRegards,\nGold. Okay, Have just heard back and both of the load balanced servers are indeed pointing at the same database on the same database servers. We verified in on the postgres server and can see both servers with a connection to the DB. I asked that the sysadmin actually eyeball the settings.json file too and they're the same. He went one step further and checked the hash on the file and they're identical.\nWhat we have noticed though, APIKEY.txt are the same on both, but SESSIONKEY.txt are different.\nLooking at that now.. SESSIONKEY.txt didn't appear to play any significant role.\nWe did notice that the \"head\" parameter had different values for each server and that it is used in building the key for the key:value store.\ne.g.\n`eth1\npad:58483aee8a6dd9.65340416          | {\"atext\":{\"text\":\"Test\\n\\nUntest?\\n\\n\\n\",\"attribs\":\"4+45|4+b|1+1\"},\"pool\":{\"numToAttrib\":{\"0\":[\"author\",\"a.kFcgC1Xr1xVyK6VP\"],\"1\":[\"author\",\"a.KokfEaKFHuLOrj8Q\"],\"2\":[\"author\",\"a.XqjPbBqDZM7WEIv6\"],\"3\":[\"author\",\"a.UTXpIyYgqxjhQBJN\"],\"4\":[\"author\",\"a.6adq2JkT7Yv40gBK\"],\"5\":[\"author\",\"a.vPuSKAf3Gx2voZlH\"]},\"nextNum\":6},\"head\":95,\"chatHead\":-1,\"publicStatus\":false,\"passwordHash\":null,\"savedRevisions\":[]}\neth2\npad:58483aee8a6dd9.65340416          | {\"atext\":{\"text\":\"Test\\n\\nTest\\n\\nWTH\\n\\n...\\n\\n\\n\",\"attribs\":\"4+45|8+i|1+1\"},\"pool\":{\"numToAttrib\":{\"0\":[\"author\",\"a.kFcgC1Xr1xVyK6VP\"],\"1\":[\"author\",\"a.KokfEaKFHuLOrj8Q\"],\"2\":[\"author\",\"a.XqjPbBqDZM7WEIv6\"],\"3\":[\"author\",\"a.UTXpIyYgqxjhQBJN\"],\"4\":[\"author\",\"a.6adq2JkT7Yv40gBK\"],\"5\":[\"author\",\"a.VImJzfCalZs11fia\"]},\"nextNum\":6},\"head\":105,\"chatHead\":0,\"publicStatus\":false,\"passwordHash\":null,\"savedRevisions\":[]}\n`\nWe're at the point of giving up on load balancing this and going for a failover approach. High availability is the primary goal for us.\nIt would be good to have an official statement from the project leads about this though. It will save others a lot of time hunting out the answer.. ",
    "deloeuw": "@lpagliari \nThanks a lot for your answer !\nI've got several pads but just this one was concerned by the problem. I had no access to the menus : juste the comment box. So your advice can't be my solution... \nHowever, after your answer, I checked my pad and all oh them are KO. Error 504 : \n\"504 Gateway Time-out\nnginx\"\nAn ether idea ? ^^. @joassouza \nThank you very much for your answer... that I try to understand ^^\nGet the sense from English to French when we are not a wizard of computers is a challenge ^^\nLike I wrote in the message I sent just before your answer, I've no pannel to enter the controls, juste the comment box. \nAnd since some hours, I've just the white out error page : \"504 Gateway Time-out\nnginx\"\nBut maybe is there an element where I'm wrong... When I use etherpad, do I use an object supported by several devices or is it everywher the same platform ? Because I just found your forum to help me, but it seems to be dedicated for etherpad-lite and I'm a French user who use etherpad.fr on Internet...\nIs there something wrong with my presence here or this place is the best to find something's good to fix my issue ?\nThanks for your help and advices !. @Ipagliari\nWow ! You're fantastic ! Do you know it ?\nThanks to your explanations, I could see my text again, but I don't know what I can do to make etherpad work again... \nAre my pads totally frozen without any hope to get back to the normality ?. Thanks to you for your explanations ! I wrote too fast !. Thx ! You were very helpfull !. @Ipagliari : your explanations were very clear but it doesn't work properly : the version which is exported/imported isn't the version I'I've chosen... Have you an ether idea !. Don't be sorry ! You've been an angel into this jungle !\nThank you very much !\nI hope I'll be lucky again next time I'll have an issue and I'll fall on you !\nI wish tou a good continuation !. ",
    "simevo": "Another question I have is about the dependency on swagger-node-express version 2.1.3 (based on  src/package.json). While this is the current release on npm registry, upstream has moved on to version 0.7.3.\nAnd BTW is this a node module you are using (that gets installed in /usr/lib/nodejs/foo) or a javascript library (that gets installed in /usr/share/javascript/foo/) ?. The repo is here: https://anonscm.debian.org/git/pkg-javascript/etherpad-lite.git, but there's not much there yet to see.\nThe main thread on the Debian package in this phase is the ITP bug (https://bugs.debian.org/576998).\nI'll notify major news here as well.. Alright we just missed the stretch freeze window so let's relax !\nThere is still a lot of work required, particular on packaging socket.io stuff & its requirements.\nMy new goal is to target the next Debian release (testing i..e buster). Creating a version for stretch-backports is also a possibility.. Do you mean clicking on \"this bug affects me\" in launchpad ? I have just done that.\nBut there's more you can do. For example here is an (incomplete) list of dependencies we need to package before we get etherpad-lite in debian:\n- node-socket.io http://bugs.debian.org/707166\n- node-socket.io-client https://bugs.debian.org/781412\n- node-engine.io https://bugs.debian.org/781426\n- node-socket.io-adapter https://bugs.debian.org/781405\n- node-express-session http://bugs.debian.org/751885\nAny help is welcome, just join the debian javascript packaging team and start hacking !. ",
    "jonasstein": "@simevo Will you develop the package on github? Please document the problems and solutions well. It will be a great help for other distributions too. We wish to have it in gentoo too. You can find our results here: https://bugs.gentoo.org/show_bug.cgi?id=328897 Let me know, if you need betatesters for your debian package and I will ask in our linux user group.. ",
    "yileye": "ok, my server is Centos 6.4  and Mysql version is 5.1.\nWhen I input command './run.sh --root', etherpad is running,but after a period of time in the past, the etherpad service is stoped\nvim  /var/log/etherpad-lite.log\n[2016-12-23 23:34:10.231] [ERROR] console - Error: Connection lost: The server closed the connection.\n    at Protocol.end (/data/tools/etherpad/etherpad-lite/node_modules/mysql/lib/protocol/Protocol.js:73:13)\n    at Socket.onend (_stream_readable.js:498:10)\n    at Socket.g (events.js:260:16)\n    at emitNone (events.js:72:20)\n    at Socket.emit (events.js:166:7)\n    at endReadableNT (_stream_readable.js:913:12)\n    at nextTickCallbackWith2Args (node.js:442:9)\n    at process._tickDomainCallback (node.js:397:17)\n[2016-12-23 23:34:10.275] [INFO] console - db sucessfully closed.\n[root@bogon ~]# vim  /var/log/etherpad-lite.log \n[root@bogon ~]# vim  /var/log/etherpad-lite.log \nat Socket.onend (_stream_readable.js:498:10)\nat Socket.g (events.js:260:16)\nat emitNone (events.js:72:20)\nat Socket.emit (events.js:166:7)\nat endReadableNT (_stream_readable.js:913:12)\nat nextTickCallbackWith2Args (node.js:442:9)\nat process._tickDomainCallback (node.js:397:17)\n\n^[[32m[2016-12-23 23:34:10.227] [INFO] console - ^[[39mgraceful shutdown...\n^[[31m[2016-12-23 23:34:10.231] [ERROR] console - ^[[39mError: Connection lost: The server closed the connection.\n    at Protocol.end (/data/tools/etherpad/etherpad-lite/node_modules/mysql/lib/protocol/Protocol.js:73:13)\n    at Socket.onend (_stream_readable.js:498:10)\n    at Socket.g (events.js:260:16)\n    at emitNone (events.js:72:20)\n    at Socket.emit (events.js:166:7)\n    at endReadableNT (_stream_readable.js:913:12)\n    at nextTickCallbackWith2Args (node.js:442:9)\n    at process._tickDomainCallback (node.js:397:17)\n^[[32m[2016-12-23 23:34:10.275] [INFO] console - ^[[39mdb sucessfully closed.\nI must to restart the service again and again to keep the etherpad worked, in this case, I do my best,but the result is bad . ok.I will try. Thank you for you help.. ",
    "dereckson": "Can repro on \ud83d\udd17: \\xF0\\x9F\\x94\\x97\\n.... ",
    "faelnor": "I\u00a0encounter the same problem where there is a transparent loss of synchronisation with the server when manipulating lists and even when copy/pasting without reason. So nothing gets saved after that.\nEDIT: problem seems to be solved now. ",
    "MarcWeber": "```php\n<?php\n$pad_names = [ ];\necho \"DELETE FROM store WHERE KEY LIKE \\\"pad:%:%\\\" AND NOT (\".implode(\" OR \", array_map(function($x){ return \"KEY LIKE \\\"pad:$x:%\\\"\"; }, $pad_names)).\");\\n\";\necho \"DELETE FROM store WHERE KEY LIKE \\\"pad2readonly:%\\\" AND NOT (\".implode(\" OR \", array_map(function($x){ return \" KEY LIKE \\\"pad2readonly:$x\\\"\"; }, $pad_names)).\");\\n\";\necho \"DELETE FROM store WHERE KEY LIKE \\\"readonly2pad:%\\\" AND NOT (\".implode(\" OR \", array_map(function($x){ return \" VALUE = \\\"$x\\\"\"; }, $pad_names)).\");\\n\";\necho \"DELETE FROM store WHERE KEY LIKE \\\"pad:%:chat:%\\\" AND NOT (\".implode(\" OR \", array_map(function($x){ return \"KEY LIKE \\\"pad:$x:chat:%\\\"\"; }, $pad_names)).\");\\n\";\n````\nworked for me for dropping all but those pats.. ",
    "wojtas911": "BWT\netherpad is starting but\nI got a lot of warning, did i mess up something?\n/opt/etherpad$ bin/run.sh \nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\nEnsure jQuery is downloaded and up to date...\nClearing minified cache...\nEnsure custom css/js files are created...\nStarted Etherpad...\n[2017-01-04 22:15:00.047] [ERROR] console - (node:20422) DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.\n[2017-01-04 22:15:02.301] [WARN] pluginfw - /opt/etherpad/node_modules/ep_etherpad-lite/node_modules/has-cors requires global@'https://github.com/component/global/archive/v2.0.1.tar.gz' but will load\n/opt/etherpad/node_modules/ep_etherpad-lite/node_modules/global,\nwhich is version 2.0.1 unmet dependency\n[2017-01-04 22:15:02.320] [WARN] pluginfw - /opt/etherpad/node_modules/ep_etherpad-lite/node_modules/engine.io-client requires xmlhttprequest@'https://github.com/rase-/node-XMLHttpRequest/archive/a6b6f2.tar.gz' but will load\n/opt/etherpad/node_modules/ep_etherpad-lite/node_modules/xmlhttprequest,\nwhich is version 1.5.0 unmet dependency\n[2017-01-04 22:15:05.771] [INFO] console - Installed plugins: \n[2017-01-04 22:15:05.776] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2017-01-04 22:15:05.777] [WARN] console - Can't get git version for server header\nENOENT: no such file or directory, lstat '/opt/etherpad/.git'\n[2017-01-04 22:15:05.778] [WARN] console - Can't get git version for server header\nENOENT: no such file or directory, lstat '/opt/etherpad/.git'\n[2017-01-04 22:15:05.778] [INFO] console - Your Etherpad version is 1.6.0 ()\n[2017-01-04 22:15:06.160] [INFO] console - You can access your Etherpad instance at http://127.0.0.1:9001/\n[2017-01-04 22:15:06.161] [WARN] console - Admin username and password not set in settings.json.  To access admin please uncomment and edit 'users' in settings.json\n. @lpagliari \nHi, thanks You for info.\nsorry i didn't notice that Issue (#3074)\nThanks for explain.\nI will do upgrade right away. \n. ",
    "MonMohonSingha": "yes......... thank you. windows 7\nnot working, lots of error\nI tried etherpad 1.6.1 form http://etherpad.org/\nnot working for me.\ni pull from https://github.com/ether/etherpad-lite\nerror log4js\ni'm trying for the last five days still no hope.\ncan you please send me the link of working version. I need it for my project\nThanks. windows [version 6.17601]\ni install the latest nodejs\nnpm: 4.0.5\nnode: 6.6.4\n. thanks again\ni'll try and get back to you, if issue found. thanks a lot, working without error\njust want to know.\nNow etherpad running on localserver\nto start etherpad i've to run stat.bat or (node\\server.js) every time if so\nhow to run on host server?. ",
    "Flakebi": "I had the same output. The issue was brianc/node-postgres#1000 and I was able to fix it like it was mentioned in that issue: brianc/node-postgres@77560fe. ",
    "blunckr": "Could this be re-opened? requiring users to patch some code by hand isn't the best solution. I think just updating the ueberdb2 dependency to 3.5.0 will fix it. I was wrong, ueberdb2 needs to update their dependency too.\nSee: https://github.com/Pita/ueberDB/pull/93. Well, really the issue is in ueberdb, so I'm not sure it does any good to re-open it at this point. Thanks though.. ",
    "grinapo": "Apart from the fact that etherpad is completely unuseable as it is now with psql and password. And if someone's not familar with the packaging/deps mechanism of etherpad it seems absolutely hopeless to get it started. I may go and try manually patch all the buggy files..... . I have manually patched all client.js [with the patch in brianc/node-postgres@77560fe] in the various libs and it works, as long as I disable the whole updating mechanism. This is ugly.. (same as #3128 ? is there any way to permanently fix it? editing the file vanishes on updates... I ain't no familiar w/npm.). ",
    "e-lisa": "Writing to confirm that we are seeing this too. We can connect to the database fine, but etherpad-light cannot. (bad username/password). ",
    "offlinehoster": "We got the same issue...our etherpad would like to save files to /tmp instead to the database.\nAre we missing a setting inside the config? What's the use for \"push\" ? . ",
    "undermink": "hmm sorry this seems to be related to the ep_codepad plugin.\nchanging:\nif (adat !== text.slice(0, -1)) {\nto\nif (adat !== text) {\nin handleButtonMessage.js seems to fix it for me.\nhttps://github.com/LaKing/ep_codepad/blob/master/handleButtonMessage.js#L108. ",
    "beerpal243": "turns out, I was missing a setting in my moodle configuration for the padName value.  If you don't type anything in, then it will be blank.. ",
    "pageYe123": "@lpagliari \nI know what's it! \nThe key Error is Can't find module: etherpad-lite/node_modules/express-session which remind me to npm install\nso\uff0cwe should npm install in */etherpad-lite/node_modules/ep_etherpad-lite. @hanwenbo I met the same question. Please tell me how u solve the problem? Although I set the sessionID in the cookie, but when I entered the etherpad iframe, the etherpad created it's own authorID(according to the client,which means different client is different author and the same client is always the same author). @lpagliari  sorry,but I'm not mean to install Etherpad. I just want to transfer all the .md files in /doc to .html and I got trouble doing that.\nso please do me a favor~ ^_^. @lpagliari  well it helps~\nFinally the out.html comes out .\nbut the CLI should be \nnode bin/doc/generate doc/index.md --format=html --template=doc/template.html > out.html\nI think it should be revised.\nhowever, I am still curious about the make command~. @lpagliari sure, of course~https://github.com/ether/etherpad-lite/pull/3160. I know what's wrong. Look at the URI-Paths\niframe.src = \"http://localhost:9001/p/\" + padID;  //the iframe src padName should be padID\nand createGroupPad method' callback should be changed to following to cope with the condition that padID has already existed:\nif(data.data){\n    padID = data.data.padID;\n}else{\n        // There is a warning of \"padName has already exist\" in `data.message`;\n    padID = groupID + \"$\" + padName;\n}\n. ",
    "pajaro23": "ok.I will try. Thank you for you help.. Does not send me any type of error in the administration console of etherpad and if I followed all the steps.. ",
    "dam660": "I'm running EtherpadLite threw a Docker container (Linux), and the version runinng is 1.6.1.\nIf it can helps, here is the plugin list I installed:\n[2017-03-22 10:22:33.185] [INFO] console - Installed plugins: ep_align@0.0.23, ep_better_pdf_export@0.0.3, ep_comments_page@0.0.35, ep_copy_paste_select_all@0.0.4, ep_font_color@0.0.11, ep_font_family@0.2.7, ep_font_size@0.1.11, ep_headings2@0.0.9, ep_horizontal_line@0.0.4, ep_line_height@0.0.4, ep_mammoth@0.0.7, ep_markdown@0.0.10, ep_monospace_default@0.0.3, ep_page_view@0.5.23, ep_print@0.0.9, ep_spellcheck@0.0.3, ep_subscript_and_superscript@0.0.3, ep_table_of_contents@0.1.15, ep_unoconv@0.0.1\nIn fact the container totally stopped, so neither the API or the interface were accessible ...\nThank's for help!. Ho, i undestrand what you mean.\nUnfortunately I can't know this. \nI developped a website wich allows my users to list, create, update, export or delete their own pads.\nThis is based on the EtherpadLite API.\nSo my users have two ways to export their pads: \n\nStraightly from the EtherpadLite interface\nWith this website I developped\n\nSo well, I guess it was exported from my website (so via the API), but i'm not sure :/\n. Hello!\nI had some time to work on it.\nSo I found something: when you select \"export\" then \"PDF\" in the interface, a proxy error is shown and the Etherpad container dies (the log of the container says \"TypeError: callback is not a function at....\").\nMaybe there is something here?\n. ",
    "stanley89": "I am having similar problem on current etherpad version. Read-only export returns default pad text\nhttps://pad.pirati.cz/p/r.08b4e397ab943b83dda649e3621a61f9\nP\u0159\u00edli\u0161 \u017elu\u0165ou\u010dk\u00fd k\u016f\u0148 \u00fap\u011bl \u010f\u00e1belsk\u00e9 \u00f3dy.\nhttps://pad.pirati.cz/p/r.08b4e397ab943b83dda649e3621a61f9/export/txt\n```\nWelcome to Etherpad!\nThis pad text is synchronized as you type, so that everyone viewing this page sees the same text. This allows you to collaborate seamlessly on documents!\nGet involved with Etherpad at http://etherpad.org\n```. ",
    "farizluqman": "up. ",
    "pauldatta": "Found out that Etherpad does not map group_id with author_id internally which means that this has to be managed elsewhere like within the Etherpad API calling app for example.\nSee https://github.com/ether/etherpad-lite/blob/develop/src/node/db/SecurityManager.js#L69. ",
    "chicol": "@JohnMcLear . @webzwo0i thanks for your reply.\nOS: centos 7.3.1611\nI cann't have a try with 0604649 because the environment doesn't exsit now.\nI tried install etherpad 3.1 on ubuntu, it's ok. . ",
    "EricTiger1986": "Thank you for your help.. ",
    "whohoho": "When using a sql backend, having a pad named for ex. ___ will export all pad's with a 3 letter name.\nSee:\nhttps://dev.mysql.com/doc/refman/5.7/en/pattern-matching.html\nhttps://github.com/Pita/ueberDB/blob/5c2ef4dc1476ef24bc475885817816c3e602ec8b/mysql_db.js\nWhat ueberdb will do to find the key (* and % are filtered out in the patched etherpad, but _ is also a special character):\nSELECT key FROM store WHERE  key LIKE ?\n. At least sqlite and postgresql will have the same problem.\nNot sure about the other database backends.. hi,\nWhats the status of this bug?\n. https://github.com/Pita/ueberDB/issues/107. This issue is not so much about crashing node (which happens when your query happens to match too much entries) , but about being able to export the complete contents of the etherpad server without knowing the names of the pads.\nSo in my opinion it makes sense to filter out all sql LIKE special characters untill this is fixed in ueberDB.\n. ",
    "rabeharkab": "bonjour, m\u00eame probl\u00e8me mais un peut diff\u00e9rant \ndes que je ouvre un pad, le node devient tros gourmand 100% utilisation du CPU, koi faire ???? . ",
    "magicbelette": "Nice work ! . ",
    "parceldesign": "@lpagliari I could probably implement this feature. Let me take a look at some similar plugins and see the level of complexity. This could be my first contribution to an open source project :). We're thinking alike\u2014I'm looking at that plugin right now.. Shouldn't it be wrapped in a link tag, though? Giving a span element a hyperlink attribute wouldn't make the link work. Or is that assumption incorrect?. ",
    "inicio": "Me again. Here's what I've got. ep_embedded_hyperlinks\nThe only instance of Etherpad I have running is on Heroku, so I haven't a way to test it yet. If you can add it to the plugin list I'll try it out.. Ok, I've got a way to test it now, and it's not working. (The button is not registering in the editbar.) You can resolve this thread, if you'd like and I'll take the conversation to my repository.. Just wondering if I could open this issue up again for support. I have developed the basic logic to handle adding embedded hyperlinks, however I'm lost at how to integrate it with Etherpad's plugin hooks. \nPerhaps someone can take a quick read over my code here and see if I'm on the right track. \n. Thanks, Luiza. With your help I tracked down the error to somewhere between aceCreateDomLine and collectContentPre. Turns out I had forgotten to pass along the cls variable to my modifier. \nhttps://github.com/inicio/ep_embedded_hyperlinks/blob/master/static/js/index.js#L45\nAll good now! Glad to have contributed to this awesome project. . You can close it, @lpagliari. . @jekuno Yes, that's the repository I forked. To get it working, all I had to do is pull the upstream etherpad-lite changes. If you're unfamiliar with git submodules, see here.. ",
    "jekuno": "@inicio Short question: You wrote that you run etherpad on Heroku. How did you deploy it? I only know of https://github.com/bright-star/etherpad-lite-heroku which is quite outdated.. ",
    "mark19891107": "I've tried https://beta.etherpad.org/ on my iPhone, it's working fine for me\nWe run etherpad on sandstorm, use iPhone try to edit document and got the issue\nI try to use demo on etherpad website (demo as sandstorm app too),  and did run into the same problem\nhttps://oasis.sandstorm.io/appdemo/h37dm17aa89yrd8zuqpdn36p6zntumtv08fjpu8a8zrte7q1cn60\nMaybe the problem is related to sandstorm wrapping?. It looks like it's merged the PR of issue?\nhttps://github.com/kentonv/etherpad-lite/commit/0677501d0bb2bf552f739599af3cd3f99682bfdd\n. ",
    "javierpf": "After the refresh i can check that the first line in the second image has accents. The database stores it correctly. I'm thinking about the encoding of the request from the backend when i create the pad. There's a header in the API to set it as a parameter or something?. ",
    "ToniIltanen": "the actual problem was with the etherpad client which was in use, which had to have a withCredentials: false parameter set to allow wildcards in cors.. ",
    "DCOATOS": "Thank you for the reply. We control.. ",
    "00SteinsGate00": "Overall some more modern fonts would be nice. For a non-monospaced font Montserrat is very pretty and free.. Thanks for the help! I actually got Montserrat running and working here, somewhat ready for a Pull request.\nOne issue remains though. When you download the Montserrat Font you do not receive one big font file but numerous (22 I think) ranging from something like Hairline over Regular to Bold.\nI chose Light because it just looks nice (had a hard time deciding between Light and ExtraLight), but when I press the Bold or Italic Button obviously nothing happens. Not sure if that is good behaviour. Any suggestions?\nMaybe there is a way to combine more than one font file to one?\n\nMontserrat is published under the SILOpen Font Licence v1.10 by the way.. Genius! Sorry you had to do the Googleing for me \ud83d\ude05 \nI'll be right at it!. Sorry for the double commit confusion. Somehow the package.json was altered by Atom and I accidentally included that in the commit. Instead of doing some weird stuff with removing stuff from an already pushed commit, I thought it is just cleaner to do an all new commit on a new branch.\nThanks for the help with the font by the way \ud83d\ude04. Sure will do :)\nMight have conflicts because they were both branched from the same commit and I didn't base this one on the other.\nDon't worry, I can imagine it's a lot of work to maintain a project this big.. Done :). Okay all the fonts are back in order.. By the way @Samurai88, what do you think?. Oh it seems like it, sorry. I was merging the lines were the two fonts were added together and I guess those 2 lines kinda slipped. Very sorry about that.\nGonna add them again (hope there's some --amend functionality here on github ), as soon as I can, I'm in class right now and don't have my laptop with me.. ",
    "LAfricain": "what are you speaking about? What kind of plugin?. ",
    "contra": "Yeah, it's been down for almost a week now and I don't think anyone has noticed. 504.. ",
    "Samurai88": "Hi!\nIm am in \"spectator\" mode and just watching the conversation without \npolluting it with my talks, which I usually do\nI myself like the Liberation Mono font alot which I found online \nsomewhere for my DreamWeaver.\nAnd the other problem keeps me at the moment from using Etherpad:\nWhen setting a font size, then creating new text or copy pasting \nanything, in other words any new text creation, defaults back to the old \nfont size. Really annoying. Im using FireFox 50.\nThis is what I think at the moment :)\nCheers\nSam\nir. Sam Eftegarie\n/architect\u2014ingenieur\u2014ontwerper\u2014onderzoeker/\nOn do 22-6-2017 09:41, Jan Holub wrote:\n\nBy the way @Samurai88 https://github.com/samurai88, what do you think?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub \nhttps://github.com/ether/etherpad-lite/pull/3206#issuecomment-310301846, \nor mute the thread \nhttps://github.com/notifications/unsubscribe-auth/Ab-LfH1SBxwwa5W_bM2xWuoo83NwjyKiks5sGhqkgaJpZM4OBkC-.Web \nBug from \nhttps://github.com/notifications/beacon/Ab-LfEDHfPFd_pgMoEHwW1B0u-xGmfVzks5sGhqkgaJpZM4OBkC-.gif\n{\"api_version\":\"1.0\",\"publisher\":{\"api_key\":\"05dde50f1d1a384dd78767c55493e4bb\",\"name\":\"GitHub\"},\"entity\":{\"external_key\":\"github/ether/etherpad-lite\",\"title\":\"ether/etherpad-lite\",\"subtitle\":\"GitHub \nrepository\",\"main_image_url\":\"https://cloud.githubusercontent.com/assets/143418/17495839/a5054eac-5d88-11e6-95fc-7290892c7bb5.png\",\"avatar_image_url\":\"https://cloud.githubusercontent.com/assets/143418/15842166/7c72db34-2c0b-11e6-9aed-b52498112777.png\",\"action\":{\"name\":\"Open \nin \nGitHub\",\"url\":\"https://github.com/ether/etherpad-lite\"}},\"updates\":{\"snippets\":[{\"icon\":\"PERSON\",\"message\":\"@00SteinsGate00 \nin #3206: By the way @Samurai88, what do you \nthink?\"}],\"action\":{\"name\":\"View Pull \nRequest\",\"url\":\"https://github.com/ether/etherpad-lite/pull/3206#issuecomment-310301846\"}}}\n\n. ",
    "gberche-orange": "thanks @DanielBickley for yours updates !. ",
    "P-D-": "needed to add an env variable because of running soffice process...\nhttps://github.com/ether/etherpad-lite/pull/3482. Thanks for your answer,\n\nchanged the patch. Use now os.tmpdir()\n${user} creates /tmp/LibreOffice_Conversion_myname, works on Linux, but maybe not with M$\nAs far as I see, this would be the best. I encounter the same problem with other plugins that uses soffice (ep_export_documents_images (the problem with soffice was solved there already in the same way, as I saw in the meantime), ep_export_cp_html_image and ep_document_import_hook). Anyway I don't know much about nodejs. I had an error message which I could use to find the problem. I know a bit js and that's it. Sorry, but I think this will not be \"my task\". I could test some patches and give feedback, but thats it.... \n",
    "lennyli": "Thanks, I can access your web interface, but now after I input a username and click ok, I see the message an error occurred while loading the pad. Expected identifier in http://10.33.98.130:9001/static/is/require-kernel.js line 226\nWhat should I do??\nSent from my iPhone\n\nOn 11 Jul 2017, at 22:17, Luiza Pagliari notifications@github.com wrote:\nand replaced 0.0.0.0 with the server's IP address\nIf you've changed 0.0.0.0 by another IP you need to access that IP on your browser, not localhost\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Hi\nI now created a new text that has the sample\nWelcome to Etherpad!\n\nOn right hand top corner I input my name\nAnd started typing. Meanwhile I asked a coworker to goto same URL but he cannot see my typing in real time.\nPlease advise how I can test this coediting software\nSent from my iPhone\n\nOn 12 Jul 2017, at 10:42, Lenny Li lennyli@yahoo.com wrote:\nThanks, I can access your web interface, but now after I input a username and click ok, I see the message an error occurred while loading the pad. Expected identifier in http://10.33.98.130:9001/static/is/require-kernel.js line 226\nWhat should I do??\nSent from my iPhone\n\nOn 11 Jul 2017, at 22:17, Luiza Pagliari notifications@github.com wrote:\nand replaced 0.0.0.0 with the server's IP address\nIf you've changed 0.0.0.0 by another IP you need to access that IP on your browser, not localhost\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. my coworker tried to use a different windows username to access the client computer that has access to our intranet servers. he can access http://10.33.98.130:9001.\u00a0If he clicks the button to start a new document, he sees the basic sample template as mine but cannot see changes i made. i tried to give him the same url with the random alphanumeric that follws, still cant see edits in real time. we have already tried to use different names on the right top corner so we are represented by different colours.my expectation is that we should be able to see each others real time edit in different colours. please enlighten me.\n\n\n  \u5bc4\u4ef6\u4eba\ufe30 Luiza Pagliari <notifications@github.com>\n\n\u6536\u4ef6\u4eba\ufe30 ether/etherpad-lite etherpad-lite@noreply.github.com \n\u526f\u672c(CC)\ufe30 lennyli lennyli@lennyli.com; Author author@noreply.github.com\n \u50b3\u9001\u65e5\u671f\ufe30 2017\u5e7407\u670812\u65e5 (\u9031\u4e09) 5:32 PM\n \u4e3b\u984c\ufe30 Re: [ether/etherpad-lite] cannot access the product website (#3217)\nDoes your co-worker have access to the same server you're using? Can he/she access http://10.33.98.130:9001? What does he/she sees when accessing the URL you provided to him/her?\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.  \n. ",
    "clayu": "I am also experiencing the same issue.\nnode v9.6.1\nnpm 5.6.0\n. also experiencing \n. For a quick fix, I removed all the \"devDependencies\" from the package.json file.\n\"devDependencies\": {\n    \"mocha\": \"5.2.0\",\n    \"nyc\": \"^12.0.2\",\n    \"supertest\": \"3.0.0\",\n    \"wd\": \"1.10.3\"\n  },. ",
    "nooitaf": "Had the same problem ... using nginx as proxy (as should be done anyways (ssl and all)) made it work instantly.\n. ",
    "Reneeeee": "Hi Kentonv (thanks for the CC Ipagliari!),\nThis indeed would be a valuable feature. But if there's a different editor available offering these options, it'll also work for the Sandstorm fans.. Thanks for the feedback @kentonv & @lpagliari !\nIs there anyone else aware of an existing/working/suitable plug-in for import/export .doc(x) files? If so, please share.\nThanks!. ",
    "iMactool": "\u4e2d\u6587\uff1a\u5f88\u5e0c\u671b\u63d0\u4f9b\u8fd9\u4e2a\u5bfc\u5165\u5bfc\u51fa word\u6587\u6863\u6216\u8005\u662fExcel\uff0c\u53e6\u5916\u53ef\u5426\u63d0\u4f9b\u56fe\u7247\u4e0a\u4f20API\n\u82f1\u6587\u6c34\u5e73\u6709\u9650\uff0cGoogle \u7ffb\u8bd1\u5982\u4e0b\uff1a\nIt is desirable to provide this import and export word document or Excel, in addition to provide picture upload API. ",
    "HairyFotr": "Added fixes for docs as well.. I've noticed that English, as the source language, is not editable on translatewiki. Should I instead make a PR with just the English fix, and then (I'm guessing) translatewiki will mark all other translations as \"outdated\", and they'll eventually get fixed?. Ok, updated.. @Dhwty If you want to darken the icons as well, add this to etherpad's pad.css. I haven't checked if/how it could be added to ep_themes, and it seems some plugin icons don't have the same attribute.\n#editbar [data-type=\"button\"] {\n  filter: invert(100%);\n}.\n",
    "joaobarcia": "Great, will try to find some time to work on it the coming week.\n@Dhwty , just to make sure I come up with a good proposal it would be nice to understand your user case as well. Why do you think it would impact your ability to read documents? The letters get too big in a low resolution screen? And about the dark theme, is it the theme of your os/browser, or does etherpad have themes that I didn't know of? And how would the highlights affect your readibility?\nThanks. Wow, interesting user case, @Dhwty ! Always learning :) Ok, will try to take all that info in consideration.. @muzzol , not from my side. Still have it on my backlog to try to submit a PR but haven't had any spare time lately.. ",
    "muzzol": "any news on this feature request?\njust installed my first instance and first thing I notice is how bad the default readability is.\njust an option for default size and font could do it for me.\n. ",
    "BenaeSan": "So, i've tried without cache, and i've tried too to install etherpad on another computer, that definitively doen't work.\nIt's strange : \nI've installed nodejs -v 8.2.1\nthen clone the repo\nlaunch installOnWindows.bat:\n\nlaunch start.bat:\n\n i've got the welcome page where we can create pad, but after that:\n\nTypeError: Cannot read property 'language' of undefined\n   at c:\\Repositories\\etherpad-lite\\src\\node\\hooks\\express\\specialpages.js:46:20\n   at Layer.handle [as handle_request] (c:\\Repositories\\etherpad-lite\\node_modules\\express\\lib\\router\\layer.js:95:5)\n   at next (c:\\Repositories\\etherpad-lite\\node_modules\\express\\lib\\router\\route.js:131:13)\n   at Route.dispatch (c:\\Repositories\\etherpad-lite\\node_modules\\express\\lib\\router\\route.js:112:3)\n   at Layer.handle [as handle_request] (c:\\Repositories\\etherpad-lite\\node_modules\\express\\lib\\router\\layer.js:95:5)\n   at c:\\Repositories\\etherpad-lite\\node_modules\\express\\lib\\router\\index.js:277:22\n   at param (c:\\Repositories\\etherpad-lite\\node_modules\\express\\lib\\router\\index.js:349:14)\n   at paramCallback (c:\\Repositories\\etherpad-lite\\node_modules\\express\\lib\\router\\index.js:401:21)\n   at c:\\Repositories\\etherpad-lite\\src\\node\\hooks\\express\\padurlsanitize.js:28:11\n   at Object.exports.sanitizePadId (c:\\Repositories\\etherpad-lite\\src\\node\\db\\PadManager.js:208:5) \n\nto fix the missing dependencies:\n\n\nrelaunch the start.bat and then I got the underscore error.\nDid I do something wrong ?. Is the Etherpad-lite project stopped ? . Thanks a lot, it working for now. For the project status, it a shame cause, it's a really useful project. I'll tried to help, if I can find some time, but my js and nodejs skills are a bit low for the moment. . Yeah totally agree with you.\nI'm also integrating it in my project, that why I've been surprise to listen that the project is stopped, I have checked the commit activity before to choose Etherpad.\nReally if I can help, i'll try, the Etherpad project is really cool and is definitively upper than the others pads that I tried.. @skupfer do you make the pull request or Do I do it ?. ok done. That can help for now. Huh, where? I've paste the provide code, and it'is the one that I use and it work fine on 2 computers for test purpose. You're right, sorry. I don't understand what's happened. ",
    "houstonj1": "Found the ep_remove_embed plugin lol\nCheers. ",
    "SvenAbels": "We are impacted by this as well (inc traefik crash). I can confirm that this push resolves the problem.. I assume that this would be fixable by https://github.com/ether/etherpad-lite/pull/3241\nEdit: I can confirm that this push resolves the problem.. ",
    "dpomt": "same issue here. Please fix. Thanks!. ",
    "tsmithe": "I also experience this issue, and it seems to make those plugins unusable... ",
    "GrooveOperator": "To whom it may concern: Found the error myself, reason was a mistake in the configuration of my reverse proxy. I used the wrong protocol to access the websocket (had to use \"wss:\" via ssl instead of \"ws:\"). ",
    "njoyard": "I have not tried that indeed, will give it a go when we reach a few 1000s revisions.. Here is a backup made using the API. Unfortunately, upon restoration, it produces the dreaded Error: Failed assertion: Invalid changeset (checkRep failed) \ud83d\ude22 \naffaires-courantes.zip\n. ",
    "sdkrum": "Hello @lpagliari \nThanks for the suggestion, i tried it out, but unfortunately it does not fix my problem. No new folder in src/node_modules, and the migrate script exits with the same error. Wondering if that is coming from that i used puppet to install etherpad-lite. \nI am wondering a bit about a line in the script: \nvar dirty = require(\"../src/node_modules/dirty\")('var/dirty.db');\nLooks a bit strange for me, but it may be perfect valid js syntax. \nDoes anyone know which libraries are supposed to be stored under dirty?. Yes, i have that folder, with plenty of modules: \n/opt/etherpad/src/node_modules$ ls\nasap              cheerio        core-util-is             etherpad-yajsml  fs-write-stream-atomic  imurmurhash  languages4translatewiki  normalize-git-url   path-is-absolute           request      semver            string_decoder        ueberdb2     unorm\nasync             clean-css      dezalgo                  express          graceful-fs             inherits     log4js                   npm                 process-nextick-args       resolve      slide             supertest             uglify-js    util-deprecate\nasync-stacktrace  concat-map     ejs                      express-session  hosted-git-info         isarray      measured                 npm-install-checks  readable-stream            safe-buffer  socket.io         swagger-node-express  underscore   wd\nchannels          cookie-parser  etherpad-require-kernel  formidable       iferr                   jsonminify   mocha                    npm-package-arg     realize-package-specifier  security     spdx-license-ids  tinycon               unique-slug  wrappy\nAnd you are probably right, i checked, the syntax seems valid. \nAny chance to patch my instance? I have not really found a hint where this folder and its content is coming from. Hm, found some sources under another path... /opt/etherpad/src/node_modules/ueberdb2/node_modules/dirty and after adding a symlink from that place to src/node_modules/dirty it seems to work smoothly!\nThanks for the help! :-)\n. ",
    "timmc-bcov": "Note that Privacy Badger 2017.07.24 produces the initial error screen, but does not block editing.. ",
    "timmc": "2017.9.12.1 fixes both issues for me as well. Good find.. ",
    "cataclysmic": "Is there a way to fix this?\nI'm on Windows Firefox 52.7.3 32bit ESR. Company policy and I kinda have to use it.\n. Thanx. Will have access to the system again on Monday. Will report back then.. I apologize for the hassle.\nEtherpad-lite is fine. The 'ep_fullscreen' module caused the error.\nI will talk to the module maintainer.\nThank you for the quick reply and help.. ",
    "mcantsin": "Thanks @ocdtrekkie\nI actually did diable Privacybadger for the specific domain, as I suspected it could be one of the activated add-ons. Seemingly only uninstalling helps here.... ",
    "klausweiss": "Yes, updating socket.io to 1.7.3 helped. Thanks!. ",
    "Matombo": "I currently don't have etherpad up and running so i can't check. well i will install it in the future again, but don't have time today\ni will look into it later this week. ok installed it on a test server and the supervisored issues are gone,\nthx ^^. ",
    "platu": "Hello, thanks for this tip but this was not an option for me as I was unable to issue 'npm install ep_etherpad-lite@1.6.0' with success due to missing dependencies.\nI can run ./bin/run.sh with success after moving away the package.json file from the etherpad-lite directory.\nI'm not sure to understand where dependencies should stand.\nWhen I run 'npm -g list' the result looks correct but when I run 'npm list' from the etherpad-lite directory I get many many 'npm ERR! extraneous' messages.\n. ",
    "fungs": "Thanks, this looks good. However, I was thinking about simple syntax highlighting as for the other programming languages. This should be easy to add for the default installation.. Sorry, didn't know that but the instance I'm referring to is at https://public.etherpad-mozilla.org. If I know the plugin, I can report at the right place, of course. Thanks for the fast responses.. Thanks, since this was the wrong place, you can close the issue.. I did not know this package. It seems easy to fork the package and change the human readable names to a more systematic way, but since the descriptions are given in native format, this requires native speakers for some of the languages. However, I don't get which language codes they are using, it seems to be a mixture of two and three letter iso codes and others.\nThis official ISO language list has three letter codes and a third column with systematic (English) language descriptions. How are the codes used for mapping in etherpad?. Mmm, too bad that TranslateWiki has done such a bad job on structuring their data. I can only offer to modify the auxilary JSON/JS to include a column as specified in the three-letter ISO list and maybe include the three-letter codes in another column as well. I would also keep the native language descriptions, so there would be four columns and a mapping for future conversions. . ",
    "dessalines": "Go into etherpad and click the text type, and change it to header. . The demo site. There's a button that says markdown.. Just running bin/run.sh twice in a row fails with current etherpad. . Not sure why this needs to be closed, especially if people would like to work on it and see the issue. Handsontable looks like it'd be a great candidate. . I agree, ideally it wouldn't have to be a fork, it could just be an option when you make a new pad, to either choose between word / text pad or spreadsheet pad. I'll research into plugging it in but I'm not familiar with the codebase yet. The big concerns to me are if we'd need different websocket messages to correspond to the spreadsheet actions. . How do we use / enable this skin?. This appears to still be broken. Also, I've noticed I can't change the text style on mobile with this either, so no lists, headings, etc. . \nThe original: \n. ",
    "Rillke": "Note this also affects \"normal\" non-docker installations: When SIGTERM is received, 2 additional log lines display: \"graceful shutdown ...\" and \"db successfully closed.\" Though, I think it is generally a good idea to perform graceful shutdowns, closing connections and writing buffers to disk.\nI am by no means a UNIX or Etherpad professional so please double-check.. Agreeing to and signing Apache Contributor license.. ",
    "raybellis": "The documentation for getLineHTMLForExport is now out of date with respect to this change.\nhttp://etherpad.org/doc/v1.7.0/#index_exporthtmladditionaltags\nIt's also unclear now how (for example) one might even fix the ap_export_authors plugin, since its internal author.chars property is indexed based on the .text property of the context and not the lineContent.\n(By the time the hook is called the lineContent already has HTML elements wrapped around the individually styled chunks of text, but the previous method of wrapping a <span> with an author-specific colour uses the author.chars array).. I'd like this too, so that we can archive off formatted copies of historic pads (including authorship colours) and trim down our database.. I might be able to work on this - it's a desirable feature because:\n\nthe HTML generated from an export has better headers / styles than getHTML() provides\nthere's no access to formats other than .txt and .html - I need .etherpad myself\n\nThen again, if you've got access to the server over HTTP, why not just access the export URL direct instead of through the API ?. I've had a quick look, and the largest impediment to implementation is that the function that performs exports (DoExport) requires the HTTP req and res objects but the REST API handler doesn't pass those to the functions it calls.  I'm still considering what might be the best way around that.. @lpagliari the easiest \"fix\" I can see is to have APIHandler.handle() automatically add the req and res parameters to the functionParams array passed to every API call, after the callback parameter.  \nExisting API functions would ignore the extra parameters, but it would then be possible to write an API wrapper for DoExport that would work.\nWhat do you think?   If that approach is acceptable I don't mind having a go at it.. @muxator if I understand correctly, what you propose would resolve my requirement to be able to export raw pads, but doesn't do anything to support exports in other formats, nor  fix the mismatch between the HTML output format from the API getHTML() call and a UI exported HTML pad.    The latter has the proper CSS template applied so looks much more like a pad as seen in the UI.\n. but @Kostapa's issue was getting nice HTML pads (in \"export\" format).   Exporting the raw .etherpad file was my use case for adding a more generic exportPad() API hook.. It appears that this messes up PDF export, I think because the function getHTMLFromAtext() adds a <style> block to the body of the HTML (instead of to the <head>) which is not legal HTML.. p.s. this turns out to be similar to #1638 although it's up-to-date with the latest API revision.  . I plan to investigate this - I'll look into it and report back in a few days.\n. I'm working on this at https://github.com/raybellis/etherpad-lite/tree/async. Please note that I've added a couple of extra commits to the async branch which relate to import and export.\n. @muxator The only issue I'm currently aware of is a possible problem (to be confirmed) with importing \".etherpad\" format files.. The first one is easily fixed (commit c5a633d5ca3c6c53f88fbf65d87537a1ec3e59d0 in my async branch).   I don't know what I was thinking there, but the double assignment of authorEntry is clearly incorrect.\nThe second one is going to require more investigation.   padMessageHandler was one of the harder modules to convert, and I expect this bug only becomes evident if there are multiple users editing a pad.. I can't see how to replicate the USER_CHANGES issue - do you have some of the preceding log messages?\n. @Wikinaut thanks for the report - fixed in commit f8a26cbf44a2a2aa090e65d4c1a05a2fe31f82cb in my async branch. @Wikinaut I'll take a look, but my suspicion is that 1.8 will be incompatible with most (if not all) existing plugins because none of the exposed functions take a final callback parameter any more.    For those, a simple solution is to use the nodeify module to turn a Promise-based API back into a NodeJS style callback(err, result) one.  \nSee, for example, the way that channels.channels is now invoked in line 63 of src/node/handler/PadMessageHandler.js.. @Wikinaut that would be useful, but on the other ticket (#3566) please.. Back-end test failures with the SessionManager on the async branches were mentioned (and resolved) at https://github.com/ether/etherpad-lite/issues/3567#issuecomment-468613960\n. The same pattern is in src/node/hooks/express/swagger.js.. I think your author === null check may result in a similar to the bug that I caused inadvertently with the SessionManager.\nIf you like, I'm happy to audit all calls to db.get* and ensure that they work with either undefined or null values, given that we can't be sure which will be returned by ueberDB.\nI was going to suggest that just testing for if (!value) would suffice, but on reflection that may cause issues if the result value can legally be 0 or \"\", so an explicit check for val === null || val === undefined may be preferred.   The alternative is to explicitly require that loose checks are annotated to indicate that they are intentionally loose.. I've got time to do that audit.     How (and where) would you prefer to see any relevant commits made?. For reference, here's a comparison of ueberDB2's behaviour with dirty vs mysql:\nDirtyDB\nget undefined (random) key\n-> undefined\nset explicit value and verify\n-> pass\nset value to undefined\n-> undefined\nset value to null\n-> undefined\nMySQL\nget undefined (random) key\n-> null\nset explicit value and verify\n-> pass\nset value to undefined and get\n-> undefined\nset value to null and get\n-> null. I found an alternate solution - see 32cebc4298ad9261f068dc635065c2044014d5b4\n. I think this needs to be tested with the async version to see whether it still even causes any freezes.\nThe new code doesn't explicitly wait for any of the db.remove() operations to complete before returning, they're all just sent to the backend database engine asynchronously.. Sorry, I was talking about the new async code in the develop branch, not the new code in your patch.. Here's an example of how an existing plugin has been modified to provide backwards compatibility:\nhttps://github.com/raybellis/ep_small_list\nand also an example of how that same plugin would now be written if backwards compatibility is not required:\nhttps://gist.github.com/raybellis/0a99d4762364605223bb79f84e4d59cf\nNB: I would expect to be able to write a cleaner method to achieve the backward compatibility such that if multiple functions are to be wrapped it wouldn't take that amount of code for each function, perhaps even adding a module to the core distribution to handle the bulk of it for them.. We should probably add some sort of Etherpad API versioning to the internal modules (collectively, not per module) so that the /admin page can indicate which plugins are compatible.. @Wikinaut see my forked version of your plugin, which does just that.. Oh, I see - the other way around?    That's kind of what I meant by a versioning system, i.e. an expectation that each plugin's ep.json file specifies its minimum required Etherpad version.  It would be very difficult to actually programmatically figure out whether a plugin is using callbacks or not.. I've made good progress writing some additional code that adds callback compatibility back into all of the exported functions that are now async, such that the ep_small_list plugin now works again without modification.\nThe code is slightly hacky, insomuch as it uses eval to create a new wrapper function that has the same arity as the existing functions.   It's committed to my async branch (commit 64fdc73cdc47829fcb19f3e82c878a5f94e00f0d) so that it can be cherry picked if you want it.\nFurther testing is however stalled due to #3567.. The eval hack is only necessary to preserve the arity of the original functions, and was added to allow clients of the API elect to probe the arity to check whether the API is callback or promise -based (per my first attempt to show how to support either model).\nSince the patch adds back in the ability to use either method based on the arguments received the support for arity testing could be dropped, and the wrappers generated as simple closures.. Ah-ha!  If I run EP 7.x with Node 8.9.0 it works.   If I run with NodeJS 8.15.0 it doesn't.  I'll attempt to bisect on the node version to confirm what that is.\nIn the meantime, your test failures with the async branches are resolved in commit d03da2c8eb36f94a53621566e7cc0cfef8a493e5.   (I'm wondering if this wasn't detected before because of a difference between the MySQL backend engine I was testing with vs DirtyDB?). I've bisected the regression as starting with NodeJS 8.14.0.   It's OK with NodeJS 8.13.0 (which was the only 8.13 release).. @Wikinaut it passes all 75 backend tests for those versions for you?   I just tried 11.10.1 here and it still failed.   OTOH, I did a git bisect and got this, from between 8.13.0 and 8.14.0\n```\n93dba83fb0fb46ee2ea87163f435392490b4d59b is the first bad commit\ncommit 93dba83fb0fb46ee2ea87163f435392490b4d59b\nAuthor: Matteo Collina hello@matteocollina.com\nDate:   Tue Aug 21 17:26:51 2018 +0200\ndeps,http: http_parser set max header size to 8KB\n\nCVE-2018-12121\n\n``. @Wikinaut You said \"works with 11.1.0\", but I think you're conflating testing the async work (per the other ticket) with this one which was intended to be specifically about back end tests that are failing even on thedevelopbranch (those tests done by going into thesrc/folder and runningnpm test, with the server running, as described above by @muxator). The referenced NodeJS commit (93dba83fb0fb46ee2ea87163f435392490b4d59b) preventsGETdata from being submitted with URL parameters that exceed 8kB.   The back end tests appear to exceed that.. The implication of this is that some methods in the HTTP API will become unusable for larger pads unless they migrate toPOSTfor bulk content instead ofGET(whilst perhaps still using URL parameters for the non-bulk parameters such as the API key). On further inspection, the API already has _some_ support forPOST, but it's not documented.. Potential fix in branchhttp-post(commit 882b93487fe2bbd47a1cbab1b7d7b4b16bae5015) which allows all backend tests to pass, firstly by merging the body parameters into the request parameters in theapp.posthandler, and secondly by updating two of the backend tests to actually use.postinstead of.get`.\nPlease advise if the preference is to allow only body parameters in an HTTP POST and if so I'll amend the patch and tests accordingly.    Also, the EP docs make no mention of HTTP POST support nor how to use it.   I'll wait to submit a PR until I hear back.. ",
    "ctizen": "Also I've filed a chromium bug for minimal reproducible example, please confirm if this is the source of the problem. https://bugs.chromium.org/p/chromium/issues/detail?id=777456. Confirmed as a bug of chrome. https://bugs.chromium.org/p/chromium/issues/detail?id=774222\nIf there is any workaround for current chrome version, please let me know.. ",
    "caitp": "I\u2019m not sure (I\u2019ve only used my org\u2019s ep-lite), but it\u2019s certainly the case there.. Here's a reproduction you you can try https://pads.igalia.com/mypads/?/mypads/group/igalia-all-6veuyqq/pad/view/ep-lite-bug3270-c7p7ww6\nWebkit:\n\nChromium:\n\n. > Do you get the problem if you don't embed in iFrame? IE access https://beta.etherpad.org directly?\nyes\n\nCan it be replicated on Safari or Chrome Canary on Windows?\n\nChrome/Blink doesn't seem to suffer the problem (as mentioned above) --- I don't know of a WebKit-based browser that's available on Windows, or at least not a contemporary one (so it's hard to check there).. This seems to be fixable with the following change:\n```diff\nindex 757bfa96..3fdc9936 100644\n--- a/src/static/css/iframe_editor.css\n+++ b/src/static/css/iframe_editor.css\n@@ -43,7 +43,7 @@ body.grayedout { background-color: #eee !important }\n }\nbody.doesWrap {\n-  / white-space: pre-wrap; /\n+  white-space: unset;\n/*\n     Must be pre-wrap to keep trailing spaces. Otherwise you get a zombie caret,\n```\n(however, this doesn't add the trailing space at the end, so... why not just uncomment the white-space: pre-wrap bit?). ",
    "hajika": "But its also sql DB, and because textbased slower than mysql. True, dirty DB is key/value, maybe that is the reason why the data is stored in key/value format?! That would be really weird to tie the data format to a DB that is recommended not to be used. Or was is planned to support another DB in the future? Looks like Redis would be a good way, it is also used by Ethercalc by the way... ",
    "vedantparchulkar": "@lpagliari here is the screenshot:\n\n. Previously, I was using readOnlyID which I got using the API getReadOnlyID(padID).\nWhen I used the Readonly link from \"Share this pad\" option then the toolbar displayed properly with a read-only pad.\n@lpagliari : Now, for readOnly pad Import/Export, Timeslider, Settings, Share and embed this pad, Show the users on this pad these options are displaying. I want to hide/disable Import/Export and Timeslider options for a readOnly pad. Is there any way to make enable/disable these options for readOnly pads?\nThanks in advance.\n. Okay.. I am displaying a readOnly pad inside iframe so I will write a CSS code inside src/static/custom/pad.css. \nIs that right?. I made those changes but CSS is not reflecting. Restarted the ethernet. Still, CSS is not reflecting.\nAm I missing anything?\nAnd one more thing, Is this a correct (secure) way to not allowing readers to use those hidden options from the toolbar?. @lpagliari Thank you very much for the explanation. It really helped.\nPreviously I had added CSS to the root/src/static/custom/pad.css\nNow I have added CSS to root/node_modules/ep_etherpad-lite/static/custom/pad.css. It is working now.\nThanks once again.. ",
    "jinbullsushil": "@lpagliari , I have created mssql which connect to etherpad with mssql.\nI want to share mssql file to etherpad, How can share it with etherpad.\n. Hi @rhelmer - My Pad Version is : etherpad-lite-win-1.6.2.\nBrower: chrome, firefox, safari and IE.. ",
    "a-raccoon": "How do I check which version of Etherpad someone else is using?  I also suspect all the Non-HTTPS links got shoved down there, and some of them have since become HTTPS now.. It's difficult to update the wiki without specific steps to identify which servers are vulnerable and why.  Can you give me details on how these servers were initially identified as being vulnerable, and how I can confirm and re-validate that information?. ",
    "vvalembois": "Sorry for the late reply, and thank you for your suggestions. We will work on it with @lmagniez and @lisonferez when we will be free.. ",
    "fungi": "Any chance to get a new release for this sometime soonish? We're trying to stick to released versions in production deployments, but have gotten a number of complaints about the font size and line number misalignment since upgrading to deal with the recent vulnerabilities.. The previews show rather a lot of wasted space on the left and right sides. Will that be configurable? I much prefer that the current theme allows the editing area to fill the entire browser window when the nicklist/commentbox are minimized or floated. This is especially important on smaller devices or for projecting onto screens at conferences (a primary use of Etherpad by communities in which I'm involved).. Projection screens, like the majority of computer screens, are landscape format. As a result, wasted space in sidebars means that much less information you can fit on the projection screen at a reasonable enough font size to be readable at the back of a large conference room. The main thing I'm finding problematic about this design is that, while I can \"zoom\" in to make the margins disappear so the editing area is the full width of the display/window, it's doesn't seem to be possible for a browser to also scale the font size independent of the line width (unlike the current traditional Etherpad interface).\nI personally find the wasted space here on the sides of GitHub's WebUI and similar sorts of sites a plague on computing, and the \"fake paper\" rendering style of Google's documents product similarly terrible, but that's likely a matter of personal preference. I'm still old enough to remember when every row and column on your terminal had some value and I continue to avoid proportional fonts on-screen, so I understand my opinions are going to be written off as those of a Luddite. ;). After some fiddling I was able to work out a browser solution where I can scale the font independently of the editable line width, so can probably make it work for my needs with a separate screen scaler (or as you suggested, by editing the CSS).\nHowever I noticed at least the version currently deployed on https://beta.etherpad.org has lost the ability to turn off line numbers (the checkbox is still there but doesn't seem to be respected).. ",
    "Carl4": "Using LDAP Auth to an active directory server, I can get as far as \"user doesn't exist\" errors. Has anyone solved this issue yet?. ",
    "majoscho": "Thanks for your answer and sorry for late response.\nI tried to configure it as subdomain. But to do so, i need a new DNS entry and a new certificate. That's not so easy in my organisation, and this just for testing.\nMy guess it is about proxing the websocket.  And that would mean to alter something in the code.\n. ",
    "SPQRInc": "Hi :)\nnode -v\nv0.12.18. ",
    "Drc-DEV": "Same problem, with node v0.12.18 and updated to latest git. ",
    "Jan-E": "Same problem here with the CentOS 6 supplied node.js from EPEL\nPackage nodejs-0.10.48-3.el6.x86_64 already installed and latest version\nPackage npm-1.3.6-5.el6.noarch already installed and latest version\nThese are the messages when starting Etherpad:\n[etherpad@vps etherpad-lite]$ ./bin/run.sh\nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\nnpm WARN package.json async-stacktrace@0.0.2 No repository field.\nnpm WARN package.json channels@0.0.4 No repository field.\nnpm WARN package.json tinycon@0.0.1 No repository field.\nEnsure jQuery is downloaded and up to date...\nClearing minified cache...\nEnsure custom css/js files are created...\nStarted Etherpad...\n[..................] - :\n/home/etherpad/domains/example.com/public_html/etherpad-lite/src/node_modules/request/node_modules/hawk/node_modules/boom/lib/index.js:5\nconst Hoek = require('hoek');\n^^^^^\n[2018-01-31 00:14:45.128] [ERROR] console - Failed to load '/home/etherpad/domains/example.com/public_html/etherpad-lite/node_modules/ep_etherpad-lite/node/hooks/express/adminplugins:expressCreateServer' for 'ep_etherpad-lite/adminplugins/hooks/expressCreateServer': SyntaxError: Use of const in strict mode.\n[2018-01-31 00:14:45.132] [ERROR] console - Failed to load '/home/etherpad/domains/example.com/public_html/etherpad-lite/node_modules/ep_etherpad-lite/node/hooks/express/adminplugins:socketio' for 'ep_etherpad-lite/adminplugins/hooks/socketio': SyntaxError: Use of const in strict mode.\n[2018-01-31 00:14:45.548] [INFO] console - Installed plugins:\n[2018-01-31 00:14:45.555] [ERROR] console - Failed to load 'ep_etherpad-lite/node/hooks/express/adminplugins:expressCreateServer' for 'ep_etherpad-lite/adminplugins/hooks/expressCreateServer': SyntaxError: Use of const in strict mode.\n[2018-01-31 00:14:45.558] [ERROR] console - Failed to load 'ep_etherpad-lite/node/hooks/express/adminplugins:socketio' for 'ep_etherpad-lite/adminplugins/hooks/socketio': SyntaxError: Use of const in strict mode.\n[2018-01-31 00:14:45.592] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2018-01-31 00:14:45.594] [INFO] console - Your Etherpad version is 1.6.2 (d7c93b0)\n[2018-01-31 00:14:45.824] [INFO] console - You can access your Etherpad instance at http://0.0.0.0:9001/\n[2018-01-31 00:14:45.824] [INFO] console - The plugin admin page is at http://0.0.0.0:9001/admin/plugins\nThis is the JS, that is causing troubles:\n```\n[etherpad@vps etherpad-lite]$ head -n12 /home/etherpad/domains/example.com/public_html/etherpad-lite/src/node_modules/request/node_modules/hawk/node_mo\ndules/boom/lib/index.js\n'use strict';\n// Load modules\nconst Hoek = require('hoek');\n// Declare internals\nconst internals = {\n    STATUS_CODES: Object.setPrototypeOf({\n        '100': 'Continue',\n```\nEtherpad seems to run OK, except for the fact that /admin/plugins does not load ('Cannot GET /admin/plugins') and the troubleshooting info also returns Cannot GET /admin/plugins/info. See https://stackoverflow.com/a/46526045/872051\n\nYour project is currently using Node version 0.12.6 which is extremely out of date. The current LTS version of Node is 6.11.3 and the current version is 8.6.0.\n\n~~Solution: build node.js from source.~~ See https://github.com/ether/etherpad-lite/issues/3291#issuecomment-361781442. The README.md does not seem up-to-date anymore:\n\nEtherpad works with node v0.10+ (except 6.0 and 6.1).. > Solution: build node.js from source.\n\nWhich was not easy. This was the easy way (for my CentOS 6 server):\nhttps://www.hugeserver.com/kb/install-nodejs-npm-centos-debian-ubuntu/\nResult:\n[root@vps src]# node -v\nv7.10.1\n[root@vps src]# npm -v\n4.2.0\nIt ain't the most recent version, but it solves the problems:\n```\n[etherpad@vps etherpad-lite]$ ./bin/run.sh\nEnsure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.\nEnsure jQuery is downloaded and up to date...\nClearing minified cache...\nEnsure custom css/js files are created...\nStarted Etherpad...\n[2018-01-31 01:21:43.073] [INFO] console - Installed plugins:\n[2018-01-31 01:21:43.082] [INFO] console - Report bugs at https://github.com/ether/etherpad-lite/issues\n[2018-01-31 01:21:43.083] [INFO] console - Your Etherpad version is 1.6.2 (d7c93b0)\n[2018-01-31 01:21:43.374] [INFO] console - You can access your Etherpad instance at http://0.0.0.0:9001/\n[2018-01-31 01:21:43.374] [INFO] console - The plugin admin page is at http://0.0.0.0:9001/admin/plugins\n[..................] - :\n```. On CentOS 7, Debian 8 and Ubuntu 16 this is the way to go:\nhttps://www.hugeserver.com/kb/install-nodejs8-centos7-debian8-ubuntu16/. ",
    "moretocome": "I have just added a similar issue. Please see the syslog errors in #3349 \nThanks in advance :). I used native ssl instead of the proxy.. ",
    "ArcticSnowman": "Maybe there's a problem in using npm 5.x with etherpad.. npm 4.0.2 works ..  so maybe this needs to be a request to update the dependencies again or add a warning in the docs about npm 5.x. Do you per-chance have the ep_simpletextsearch plugin?. We got a similar error but I think that was due to the large number of Pads we have, been running for 4+ years..   For your case, how many authors are there on the pad?. ",
    "Doemela": "@lpagliari Did not work \"delzago\" error still there and prevent etherpad to run\nnpm version: 5.6.0\nnode version: 8.9.4\nDebian 9\n. I removed all package-lock.json files and run bin/installDeps.sh with success. ",
    "fspc": "@lpagliari I am wondering whether a better solution would be to modify bin/installDeps.sh to use yarn rather than npm? An earlier version of npm (5.5.1) was working without a glitch, that isn't the case with 5.6.0. I shall experiment with it, and tell you my results.. @lpagliari Yes, that does the trick.  I will send a pull request that alters installDeps.sh so that if npm >= 5.6.0, yarn will be used, instead.. ",
    "revolunet": "to make it work with npm@5.6.0 : remove the src/package-lock.json. ",
    "MPW1412": "Yes, that's it. The require session seems to be something else. Just require authentication does the trick.\nThank you. ",
    "pluehne": "@Gared, @lpagliari: Thanks for taking care of this quickly \ud83d\ude04! I\u2019ll notify the Arch Linux maintainers.. ",
    "iia": "Hi @muxator,\nAlready looking into the requests.\nCheers.. Hi,\nSorry for the late reply. While trying to follow the instructions of this PR on the branch of this PR I couldn't make the API POST to work. GET seems to work OK.\nI'm getting a, 405: Only the HEAD or GET methods are allowed.\nI suspect it has something to do with the order of things in ep.json hooks and how they are loaded.\nAny ideas?\nCheers.. ",
    "bennidi": "Hi guys,\nI just stumbled upon this thread while staring the repo (I have a running installation of etherlite and love it). Many thanks for creating this awesome tool.\nIf you consider a rewrite with a modern web framework, specifically react, I encourage you to look at preact instead (much faster vdom diffing/rendering) and absolutely compatible with entire react ecosystem. See https://github.com/Rich-Harris/js-framework-benchmark for some numbers.\nAlso have a look at common component libraries like react-material-ui, react-bootstrap or the like. You get responsiveness for free then and don't have to meet and mingle to much with SASS,LESS whatever.\nDefinitely use web-pack for bundling (currently best dev xperience with hot-reloading and debugging with sourcemaps and babel support).\nAlso, before using REDUX or similar tool: Check out mobx for state management. With ES7 decorators in place (very commonly used babel plugin) it gets rid of a lot of state management boilerplate. You get back to coding your models, define observables and all your ui is reactively update on state changes by mobx.\n. ",
    "robertpmansion": "@Pita any update on this?. ",
    "anugu-chegg": "@muxator The reason they were out of sync is because the pad on the right did not reconnect. Can you try this once again and you might want to look at the browser's console for errors if there are any.\nAs for testing, you can use this command while :; do sleep 5; kill -9 $(lsof -i:9001 | awk '$1 == \"node\" { print $2 }'| uniq); bin/run.sh --root; done which restarts etherpad server after 5s. During the restart you need to add as much text as possible into both the pads.. @muxator Yes, you are right. I have removed the leftover code from previous commits.\n. I have raised a PR for handling this case https://github.com/ether/etherpad-lite/pull/3318. ",
    "ezzra": "Does this only affect the overview or does it mean, that all installed plugins are always out of date? Does it help, not to install via web frontend but via npm install?. @lpagliari no I was asking, if just the plugin overview list shows the wrong versions, or if plugins are actually out of date already at the moment of installation. I just sorted the webfrontend pluginlist by last_update, and the most current plugin is ep_padwiki from 2017-05-04 !\nAs I now have found out, there is a more recent version of padwiki. So, I would like to try what happens when I click install, if it will try to install te most recent version or the one from 2017. Unfortunately it doesn't work at all because of an error, so I would need to check that out first before testing what version is installed.. @Gared mh, now the last-updated row is empty in my etherpad instance :)\nbut the version numbers look better now!. ",
    "AzhukOffi": "thanks you very much\nit's works. ",
    "Aster-the-Med-Stu": "Same thing happening here.... Yup after the 1.7.0 release EtherPad works fine with pm2, the Advanced Node.js process manager. Thanks!\nBesides, it is still worthwhile to note that if someone is trying to execute pm2 without setting the correct working path, it would throw error messages as follows:\nError: Cannot find module '/www/wwwroot/[redacted]/etherpad-lite/node_modules/ep_etherpad-lite/node/server.js'\n    at Function.Module._resolveFilename (module.js:548:15)\n    at Function.Module._load (module.js:475:25)\n    at Object.<anonymous> (/www/server/nvm/versions/node/v8.12.0/lib/node_modules/pm2/lib/ProcessContainerFork.js:75:21)\n    at Module._compile (module.js:653:30)\n    at Object.Module._extensions..js (module.js:664:10)\n    at Module.load (module.js:566:32)\n    at tryModuleLoad (module.js:506:12)\n    at Function.Module._load (module.js:498:3)\n    at Function.Module.runMain (module.js:694:10)\n    at startup (bootstrap_node.js:204:16). ",
    "SeanShubin": "I managed to fix an error message regarding dezalgo by disabling the package-lock file.\nI created a file named .npmrc in the src directory, with contents:\npackage-lock=false\nThis worked because in my case etherpad-lite started up fine the first time and would complain about delzago if I ever tried to restart it.  Probably not an ideal solution, but I am not familiar with the code base, I am just trying to get it to work.. ",
    "sevu": "It does. I thought it's the more modern way to just write apt.. Then the script won't work because the print statement is a function in v3. ",
    "TangXT": "Could you tell me what plugins it uses\uff1f . While I upload a .doc or a .docx files, It shows that Import failed,Please copy paste. That's why? @lpagliari @0ip . @lpagliari Thank you for your reply. I had done this as https://github.com/ether/etherpad-lite/wiki/How-to-enable-importing-and-exporting-different-file-formats-with-AbiWord\non Debian, with sudo installed and www-data being the web server, one can edit /etc/sudoers and add the following for an AbiWord installation folder of /usr/bin/abiword.\nwww-data ALL = NOPASSWD: /usr/bin/abiword\nBut it also dosen't work, While I upload a .doc or a .docx files, It shows that Import failed,Please copy paste. \nand My  files:\nDefaults    env_reset\nDefaults    mail_badpass\nDefaults    secure_path=\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\"\nroot    ALL=(ALL:ALL) ALL\n%sudo    ALL=(ALL:ALL) ALL\nwww-data ALL = NOPASSWD: /usr/bin/abiword\nincludedir /etc/sudoers.d.",
    "Kosyne": "I am a complete idiot. There is totally a config option especially for this.\nWell, in case anyone comes here from google: I needed to set trustProxy to true. ",
    "mihalis68": "I'll happily re-test this weekend and provide an update.\nChris\nOn Fri, Aug 17, 2018 at 5:31 PM muxator notifications@github.com wrote:\n\n@mihalis68 https://github.com/mihalis68, this bug report is from last\nMarch. At the time, latest Etherpad version was 1.6.3.\nToday, looking at https://etherpad.openstack.org/p/TYO-ops-meetup-2018\nserver header, it reads:\nServer: Etherpad 275f1b1 (http://etherpad.org)   <== this should mean Etherpad 1.6.6\nDo you still observe this issue?\nI ask this because I have no Mac at my disposal to test it, so reproducing\nit is on the hard side.\nThanks.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/ether/etherpad-lite/issues/3337#issuecomment-413993595,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AEOVEAf3eNVVNJpnNGqMSTC5BSy-YHYPks5uRzZMgaJpZM4Sh1qQ\n.\n\n\n-- \nChris Morgan mihalis68@gmail.com\n. Just to confirm, this did happen again to me recently. I try to remember to just fire up Chrome instead which does not have the same problem in my experience.. ",
    "kaldonia": "Can reproduce the issue with 1.6.2 with Safari 12.0.\nI just updated to 1.6.6 and will observe and report later.... ",
    "alexis-renard": "Hi, any updates here ? It seems (after some tests on multiple pads), that it makes all the pads crash when one pad is corrupted by an emoji. And that produces a lot of reloading + 502 errors that makes the use of the pads pretty difficult on real time note taking. It seems that fixes had been found around, but not up to date here. Thanks for any information \ud83d\ude42 !. ",
    "pichouk": "I successfully reproduced the bug on my Etherpad instance.\nThen I checked this documentation page where it is recommended to add \"charset\" : \"utf8mb4\" to database settings on settings.json. It worked for me, I am not able to reproduce now.. I got the exact same issue. Thanks a lot for your PR :). ",
    "Evadon-Nathan": "Yes, sorry I should have mentioned that too.\nIt was the Fancy install on Windows (2012r2 Server) using git clone.\nI did run bin\\installOnWindows.bat\nFor some reason it still needed the \"npm install\" to be run inside the .\\node_modules\\ep_etherpad-lite\\ folder.\nThanks. ",
    "poafernandes": "@joassouza it still gives me the same error\n@lpagliari 0.5.24 is the version that I'm using. So, I've just downgraded ep_page_view to 5.23 and now it works. :+1: . ",
    "jeyca": "exactly, it was a problem because of apache 2.4. One need to set \nDirectoryIndex disabled\n\nin .htaccess. I know, I normally would have done it and still had it in mind to report here, but just forgot it after I discovered the solution. Sorry for that, it first did not look for me like an apache problem, so I opened up the issue after searching for it in the existing issues.\nI am afraid you will always have problems like this in your issue tracker, thats why I am happy that you show your appreciating for contributing. I hope you find a way, still encouraging people to contribute with issues but lighten your work with managing it. \nSee it this way: now the next person who will meet the same problem and searches within the closed issues will find the solution himself :) Thats why I contributed my solution here.. No, thats not what I meant. I want to save configs for single pads, not to change the global Etherpad settings (the issue title was misleading). Currently, changed settings are only saved for the user session, not for the single pad itself.. > This sounds like a horrible use case.\ndon't think so. Most pad users are unexperienced with the software and servers behind it. People who set up a Pad could personalize it this way for their specific usecase.\n\nYou can share a URL with pad settings\n\nthats quite ok workaround, just uglifys urls. But well, works. ",
    "gergelypolonkai": "Sorry, I\u2019m not familiar with debugging Node apps. If you give some guidance I can provide details; without that, the issue will be reported again and again, even though by someone else\u2026. I\u02bcm familiar with this.\nI try to add some details, although it\u02bcs not easy given I barely know Node.js (hence my request for guidance).. I use 1.6.3 with PostgreSQL as a backend.. Yes, https://pad.polonkai.eu/. Yes, the server was rebooted and I forgot to set etherpad to start automatically. It is up now.. Those were the types of pointers I was hoping to get initially: where to look for more info so I can provide a better issue report. Thanks for tracking it down, I go and report it at the correct place.. ",
    "timapril": "@JohnMcLear I have just re-read the list of open issues and I cant find anything that makes me think this is a duplicate issue. I also looked more closely at the results for searching for \"color\" and \"author\" with no luck finding a dup.. ",
    "benlind": "@lpagliari, this is frustrating many of my colleagues. Do you have any updates?. ",
    "dgoldfein": "Hi @lpagliari,  Have you had a chance to look at the line author issue?  We could really use a fix for this even if you haven't had a chance to look at the second issue.. @lpagliari, Thanks for fixing this!  We tested the dev code in our test environment and the fixes worked.  Can't wait for the next official release!. @lpagliari Any change of getting this rolled into an official release?  Who should I contact about that?. ",
    "kuba-orlik": "We're on 1.6.3. ",
    "fcecagno": "I see the same error here while exporting to ODT:\n[2019-01-22 15:44:11.239] [INFO] console - req.params.pad 8ec713e1_1\n[2019-01-22 15:44:11.250] [INFO] ueberDB - Flushed 1 values\n[2019-01-22 15:44:11.252] [ERROR] console - Not a PDF\n[2019-01-22 15:44:11.400] [INFO] console - queue continue\n[2019-01-22 15:44:11.401] [ERROR] console - Abiword File failed to convert Error: Abiword died with exit code null\n    at module.exports (/app/src/node_modules/async-stacktrace/ERR.js:46:13)\n    at /app/src/node/handler/ExportHandler.js:182:36\n    at /app/src/node_modules/async/lib/async.js:254:17\n    at /app/src/node_modules/async/lib/async.js:151:21\n    at /app/src/node_modules/async/lib/async.js:251:21\n    at Object.callback (/app/src/node_modules/async/lib/async.js:615:34)\n    at stdoutCallback (/app/src/node/utils/Abiword.js:135:14)\n    at ChildProcess.<anonymous> (/app/src/node/utils/Abiword.js:94:7)\n    at ChildProcess.emit (events.js:180:13)\n    at ChildProcess.emit (domain.js:422:20)\nError: Abiword died with exit code null\n    at module.exports (/app/src/node_modules/async-stacktrace/ERR.js:46:13)\n    at /app/src/node/handler/ExportHandler.js:182:36\n    at /app/src/node_modules/async/lib/async.js:254:17\n    at /app/src/node_modules/async/lib/async.js:151:21\n    at /app/src/node_modules/async/lib/async.js:251:21\n    at Object.callback (/app/src/node_modules/async/lib/async.js:615:34)\n    at stdoutCallback (/app/src/node/utils/Abiword.js:135:14)\n    at ChildProcess.<anonymous> (/app/src/node/utils/Abiword.js:94:7)\n    at ChildProcess.emit (events.js:180:13)\n    at ChildProcess.emit (domain.js:422:20)\nThe other formats work fine (PDF, MS DOC, HTML, ...). I'm using 1.7.0.. Never mind - I was using Etherpad inside Docker based on Node 9, then I changed to Node 8 and it worked well, so I believe it was something in my Docker image.. Agreed, I do not quite understand why it uses supervisord, since as far as I understand, it's a node app, and that's it.\nThis is how we do it: https://github.com/mconftec/etherpad-lite/blob/mconf/Dockerfile\nAnd this is our entrypoint: https://github.com/mconftec/etherpad-lite/blob/mconf/docker-entrypoint.sh\nWe use jq to be able to modify settings.json using environment variables.\nHaving the Dockerfile in the same repository enables us to enable automated builds more easily.. There's a work in progress to integrate Etherpad with BigBlueButton, which is an open source webconferencing system, so it will provide not only an audio channel but also video channels, polls, recordings, among other collaboration features. See: https://github.com/bigbluebutton/bigbluebutton/pull/6510. ",
    "hrefhref": "Sorry, forgot to tell. I use MySQL.. ",
    "marcovtwout": "Having the exact same error, reproduced on 1.6.6. This could be related to: https://github.com/ether/etherpad-lite/issues/2836. @muxator Yes, I can still trigger this error in a specific document. Unfornutately I cannot give you the exact content, but the stacktrace hopefully provides enough information:\n[2018-08-20 09:10:12.186] [ERROR] console - TypeError: Cannot read property 'substring' of undefined\n    at Object.insert (/opt/etherpad/etherpad-lite/src/static/js/Changeset.js:794:45)\n    at Object.exports.mutateTextLines (/opt/etherpad/etherpad-lite/src/static/js/Changeset.js:966:11)\n    at /opt/etherpad/etherpad-lite/src/node/handler/PadMessageHandler.js:1614:19\n    at /opt/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:610:21\n    at /opt/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:249:17\n    at iterate (/opt/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:149:13)\n    at /opt/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:160:25\n    at /opt/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:251:21\n    at /opt/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:615:34\n    at /opt/etherpad/etherpad-lite/src/node_modules/async/lib/async.js:254:17. ",
    "PhKi": "I use Chrome Version 65.0.3325.181 64bit on linux mint 18.3 if that helps\nwithout addons. ",
    "homeworkprod": "\nBug disappeared with Chrome v67 / or maybe earlier (non updated etherpad, dunno which git rev I am at and too lazy to look for that)\n\nI have recently observed this on Chromium 68.0.3440.75 (Developer Build) built on Debian 9.5, running on Debian 9.5 (64-Bit), though.. And, since I just updated Chromium: I can reproduce this on https://beta.etherpad.org/ with version 69.0.3497.81 as well.. ",
    "roman-soft": "Just to clarify. Before upgrade, line numbers were exactly at the same high as the corresponding text line.. Yes, it's dupped from #3378. Sorry.\nI checked issues few days ago, and it didn't exist but till now I hadn't had time to write the ticket and didn't re-check, so... race condition! ;-)))\nI'm closing this ticket. Thank you.. ",
    "masayuki-nakano": "\nThis will not just apply to tab key, but also to other combinations (like ctrl-b for bold), right?\n\nRight.\n\nCould you please point to some documentation about how to keep up with this change? I guess a lot of products will need to handle this.\n\nHere is an unofficial document:\nhttps://www.fxsitecompat.com/en-CA/docs/2018/non-printable-keys-will-soon-stop-firing-keypress-event/\nThere are some points:\n\nFirefox will stop dispatching \"keypress\" event when user presses non-printable keys (e.g., 'Tab', 'ArrowLeft', 'Escape', etc) and non-printable key combinations (e.g., Ctrl+'B', etc) except Enter/Shift + Enter/Ctrl + Enter for compatibility with backward and the other browsers.\nThe other browsers have already behaved so (so, basically, using same path as other browsers should work fine even on both new and current Firefox).\nFirefox does not stop dispatching non-printable keypress events immediately in Beta and Release channels (until major web apps fix their bugs).\nUnfortunately, web apps cannot detect if Firefox uses legacy behavior or standardized new behavior at least for now.\n\nIf you have some reasons to listen keypress events only on Firefox, let me know. We're thinking that web apps can listen to keydown events instead of non-printable keypress events as running on the other browsers.\nFYI: If you need to distinguish if received keypress event is non-printable (i.e., won't be fired with new Firefox), you can check as:\nfunction isRedundantKeyPressEvent(aEvent) {\n  if (aEvent.type != \"keypress\") {\n    return false;\n  }\n  if (aEvent.key === \"Enter\") {\n    // Enter, Shift + Enter, Ctrl + Enter causes keypress.\n    if (aEvent.altKey || aEvent.metaKey || aEvent.getModifierState(\"OS\")) {\n      return true;\n    }\n    return aEvent.ctrlKey && aEvent.shiftKey;\n  }\n  // charCode is 0, it's not printable.\n  // ctrlKey, altKey, metaKey of \"keypress\" event are always false if it's printable.\n  // Currently, Windows Log key state is checkable with getModifierState(\"OS\") on Firefox.\n  return !aEvent.charCode ||\n         aEvent.ctrlKey ||\n         aEvent.altKey ||\n         aEvent.metaKey ||\n         aEvent.getModifierState(\"OS\");\n}\nNote that this function shouldn't be used on the other browsers because this logic does not conform to local rules of the other browsers.. Now, I included a lot of URIs of public Etherpad instances into our blacklist to making Firefox Nightly testers can use Etherpad.  However, this blacklist mechanism won't go to release channel even if we enable the new strict keypress event behavior in release channel.\nWhen you test Etherpad, please check \"dom.keyboardevent.keypress.hack.dispatch_non_printable_keys\" settings in about:config in today's or newer Nightly builds.. ",
    "mantaroh": "The 'ace2_inner.js' of etherpad-lite uses the 'keydown' if UA is not chrome/safari/IE. [1] As far as I can see, this code is exist from first commit of etherpad-lite.\n[1] https://github.com/ether/etherpad-lite/blob/develop/src/static/js/ace2_inner.js#L3711\n[2] https://github.com/ether/etherpad-lite/blame/2fa1d8768b52ebf7483a4ecb41c2a0ad007efaef/static/js/ace2_inner.js#L3025\nIf I added 'firefox' to above code, I confirmed that Firefox 63 work well without \"dom.keyboardevent.keypress.hack.dispatch_non_printable_keys\" preference.. Thanks muxator,\nSorry for late my reply.\nYes, I checked ESR, then I confirmed that I can handle to the non-printable key on ESR 52/60. (Tab / Delete / Alt+s ...etc)\nFurthermore, this changes will not affect other UAs. (like Chrome/Safari..etc) I tried these browser just in case.\nThanks!. ",
    "birtles": "@muxator I'm having a little trouble making sense of the status of this issue. Is it fixed? If not, what still needs to happen? It seems like 42e0646327527ff0db7bcbd93fb9d16ff738905b added the frontend test fixes?. Thank you!. ",
    "xulayen": "\n. ",
    "icedwater": "@xulayen could I help with translation? Maybe you could post more details about your issue here.. ",
    "karstengit": "I am using debian jessie and nodejs v8.10.0\n. There where many warnings installing log4js!\nnpm install log4js\nnpm WARN engine log4js@2.5.3: wanted: {\"node\":\">=4.0\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN deprecated nodemailer@2.7.2: All versions below 4.0.1 of Nodemailer are deprecated. See https://nodemailer.com/status/\nnpm WARN engine streamroller@0.7.0: wanted: {\"node\":\">=0.12.0\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine date-format@1.2.0: wanted: {\"node\":\">=4.0\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN deprecated mailcomposer@4.0.1: This project is unmaintained\nnpm WARN deprecated socks@1.1.9: If using 2.x branch, please upgrade to at least 2.1.6 to avoid a serious bug with socket data flow and an import issue introduced in 2.1.0\nnpm WARN engine request@2.85.0: wanted: {\"node\":\">= 4\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN deprecated buildmail@4.0.1: This project is unmaintained\nnpm WARN engine form-data@2.1.4: wanted: {\"node\":\">= 0.12\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN deprecated socks@1.1.10: If using 2.x branch, please upgrade to at least 2.1.6 to avoid a serious bug with socket data flow and an import issue introduced in 2.1.0\nnpm WARN deprecated node-uuid@1.4.8: Use uuid module instead\nnpm WARN engine form-data@2.0.0: wanted: {\"node\":\">= 0.12\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine hawk@3.1.3: wanted: {\"node\":\">=0.10.32\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine form-data@2.3.2: wanted: {\"node\":\">= 0.12\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine har-validator@5.0.3: wanted: {\"node\":\">=4\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine hawk@6.0.2: wanted: {\"node\":\">=4.5.0\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine request@2.85.0: wanted: {\"node\":\">= 4\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine har-schema@2.0.0: wanted: {\"node\":\">=4\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine sntp@2.1.0: wanted: {\"node\":\">=4.0.0\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine cryptiles@3.1.2: wanted: {\"node\":\">=4.0.0\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine boom@4.3.1: wanted: {\"node\":\">=4.0.0\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine hoek@4.2.1: wanted: {\"node\":\">=4.0.0\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine escodegen@1.9.1: wanted: {\"node\":\">=4.0\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine esprima@3.1.3: wanted: {\"node\":\">=4\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine boom@5.2.0: wanted: {\"node\":\">=4.0.0\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine form-data@2.3.2: wanted: {\"node\":\">= 0.12\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine har-validator@5.0.3: wanted: {\"node\":\">=4\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine hawk@6.0.2: wanted: {\"node\":\">=4.5.0\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine har-schema@2.0.0: wanted: {\"node\":\">=4\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine cryptiles@2.0.5: wanted: {\"node\":\">=0.10.40\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine hoek@2.16.3: wanted: {\"node\":\">=0.10.40\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine boom@2.10.1: wanted: {\"node\":\">=0.10.40\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine sntp@2.1.0: wanted: {\"node\":\">=4.0.0\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine hoek@4.2.1: wanted: {\"node\":\">=4.0.0\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine boom@4.3.1: wanted: {\"node\":\">=4.0.0\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine cryptiles@3.1.2: wanted: {\"node\":\">=4.0.0\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine boom@5.2.0: wanted: {\"node\":\">=4.0.0\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine co@4.6.0: wanted: {\"iojs\":\">= 1.0.0\",\"node\":\">= 0.12.0\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nnpm WARN engine co@4.6.0: wanted: {\"iojs\":\">= 1.0.0\",\"node\":\">= 0.12.0\"} (current: {\"node\":\"0.10.29\",\"npm\":\"1.4.21\"})\nlog4js@2.5.3 node_modules/log4js\n\u251c\u2500\u2500 date-format@1.2.0\n\u251c\u2500\u2500 circular-json@0.5.3\n\u251c\u2500\u2500 semver@5.5.0\n\u251c\u2500\u2500 debug@3.1.0 (ms@2.0.0)\n\u251c\u2500\u2500 redis@2.8.0 (double-ended-queue@2.1.0-0, redis-commands@1.3.5, redis-parser@2.6.0)\n\u251c\u2500\u2500 streamroller@0.7.0 (mkdirp@0.5.1, readable-stream@2.3.6)\n\u251c\u2500\u2500 axios@0.15.3 (follow-redirects@1.0.0)\n\u251c\u2500\u2500 nodemailer@2.7.2 (nodemailer-shared@1.1.0, socks@1.1.9, mailcomposer@4.0.1, nodemailer-smtp-transport@2.7.2, libmime@3.0.0, nodemailer-smtp-pool@2.8.2, nodemailer-direct-transport@3.3.2)\n\u251c\u2500\u2500 loggly@1.1.1 (json-stringify-safe@5.0.1, timespan@2.3.0, request@2.75.0)\n\u251c\u2500\u2500 amqplib@0.5.2 (safe-buffer@5.1.2, buffer-more-ints@0.0.2, bitsyntax@0.0.4, readable-stream@1.1.14, bluebird@3.5.1)\n\u251c\u2500\u2500 hipchat-notifier@1.1.0 (request@2.85.0, lodash@4.17.10)\n\u251c\u2500\u2500 mailgun-js@0.7.15 (is-stream@1.1.0, tsscmp@1.0.5, inflection@1.10.0, q@1.4.1, debug@2.2.0, path-proxy@1.0.0, form-data@2.1.4, proxy-agent@2.0.0, async@2.1.5)\n\u2514\u2500\u2500 slack-node@0.2.0 (requestretry@1.13.0)\n. I tried\nnpm install npm\nbut this leads only to bigger problems.\nNow\nnpm -v\n/usr/node_modules/boom/lib/index.js:5\nconst Hoek = require('hoek');\n^^^^^\nSyntaxError: Use of const in strict mode.\n    at Module._compile (module.js:439:25)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Module.require (module.js:364:17)\n    at require (module.js:380:17)\n    at Object. (/usr/node_modules/hawk/lib/index.js:5:33)\n    at Module._compile (module.js:456:26)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\nnode -v\nv8.10.0\nI have no idea to handle this java-script engine ... ?\nThe original node package of the distribution is to old - the new node engine is running - but not this npm stuff. :-(\n. I tested it again today and i can only start etherpad, when i use the windows package on linux, where all the needed npm packages are included.\nI start it with run.sh and of course nodejs of linux is used.\nFor this i downloaded nodejs V 8.10.0 from the homepage https://nodejs.org/en/ and placed it in /usr/local/bin.. Sorry - this bug can be closed.\nThe additional intermediate files are not needed.\nIt's working when they are deleted in the config.. ",
    "noppelmax": "About 600 points of history, yes.. ",
    "GenJin": "Same issue for me.\nFor testing I rollback from 1.7.0 to 1.6.6, here is the procedure I use :\ngit checkout .\ngit checkout tags/1.6.6\nrm -rf ./src/node_modules\nrm -rf ./node_modules\n./bin/installDeps.sh\nnpm install ep_adminpads\nError appear with the last command.\nI resolve it using this : \nnpm cache clean --force #Not sure if this help\nrm -rf ./src/node_modules\nrm -rf ./node_modules\nrm package-lock.json\nrm src/package-lock.json\n./bin/installDeps.sh\nnpm install ep_adminpads. ",
    "antsar": "I think 48 is the right number (as of 2 days ago, without any plugins). I may have tried updating some packages before capturing that output.. @Wikinaut I just ran the command offered up by npm audit output, similar to this one:\n```\nRun  npm install socket.io@2.1.1  to resolve 11 vulnerabilities\n```\nBut there are two issues:\n\nSome of the dependencies require a major version update to resolve the vulnerability, and major version updates may require changes to etherpad code.\nSome vulnerable dependencies might not have a viable upgrade path, possibly needing to be replaced / removed.\n\nI haven't had a chance to look at the vulns in much detail yet. Hope to give it a shot soon.. I think this will cause dependencies to be reinstalled the next time you run bin/run.sh:\nrm -r src/node_modules\nThat doesn't solve this issue though, since it seems the currently required versions (per src/package.json) are vulnerable. For example:\n\netherpad-lite depends on ueberdb2 0.3.8\nueberdb2 depends on pg 6.1.3\npg >= 6.1.0 < 6.1.6 is vulnerable to RCE. \n",
    "xyNNN": "Some update about this topic? \nThanks in advance!. ",
    "maniackcrudelis": "Here a complete log, https://paste.yunohost.org/jifaqasugu\nI reinstall an etherpad instance and tried to install the first available plugin (activepads) from the admin interface. This action crashed my etherpad at the line 39 of the given log.\nThis instance is running on a virtual machine, I keep the current state aside in case you want me to try anything on this etherpad instance.. I confirm that upgrading to node 6 instead of 4 fix the issue on our side as well.\nThanks for finding a solution to that :). ",
    "anmol26s": "Any update on it?. Someone reproduced this? The plugins are not getting installed.. ",
    "fdellwing": "Can confirm this with newest develop version.. I solved the problem after installing node 6 (it's ubuntu 12, so don't judge..) and all updates for the node modules.\nWould be nice, if the error message could hint in this direction?. It ran completely fine with node 4, just the plugin install was not working. So I remembered that it complained about an outdated node version.. ",
    "SimJoSt": "Funnily enough, only the translations of the font names rely on the browser language. They are missing when running into this error, everything else is in the settings.json defined language.\nUnifying that, would probably also be a good idea :-)\nI always assumed the browser language takes precedence, but if it fails, the default language is chosen.. ",
    "anoymouserver": "In my opinion the l10n handler should fallback to a default language (probably english) if a translation for a specific property doesn't exist. Currently the text seems to be empty in the ui.\nFor example in german most of the font names are missing in the de.json. (\"pad.settings.fontType\")\nHowever, I think it is unnecessary to copy such strings into every language, because they are always the same.. You could use a bookmarklet to open a new pad on a certain Etherpad instance.\nFor example you could use this generator.\n\nStep-by-step instructions\n\npaste the following code into the 'Enter your javascript code here:' field\nedit the last code line to match your Etherpad instance (replace https://beta.etherpad.org)\nenter a name for your bookmarklet at 'Name:'\nclick the 'Convert to bookmarklet' button\ndrag the light blue button to your bookmark bar or use the right-click menu to create a bookmark\n\n\n\n\njs\n(function(e){\n  var c = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\n  var l = 10;\n  var pad = '';\n  for (var i = 0; i < l; i++) {\n    var rnum = Math.floor(Math.random() * c.length);\n    pad += c.substring(rnum, rnum + 1);\n  }\n  window.open(e + '/p/' + pad, '_blank');\n})('https://beta.etherpad.org')\n. This / depends on whether your URL itself has a / at the end or not.\nIf this issue is solved for you, please close this ticket. :). Instead of deleting the whole ep_etherpad-lite/node_modules folder, it would probably be better to run npm prune in ep_etherpad-lite, which deletes all packages that are not in the package.json.. ",
    "RAZA-ABBBASI": "@nashe you were right, that port was blocked. I fixed it by unblocking that port. Thanks. ",
    "diesocke": "Etherpad version\nVersion number: 1.6.6\nGit sha: 7e69a82\nInstalled plugins\nep_align, ep_adminpads, ep_author_hover, ep_chatdate, ep_auth_author, ep_clear_formatting, ep_email_notifications, ep_embedmedia, ep_bookmark, ep_authornames, ep_better_pdf_export, ep_linkify, ep_mypads, ep_etherpad-lite, ep_mailexport, ep_pad-lister, ep_search, ep_padlist, ep_resizable_bars, ep_user_font_size, ep_set_title_on_pad, ep_rss, ep_table_of_contents. ",
    "xpilgrim": "I think, I've a similarly problem with the plugin mypads Issue on gitlab\nIt seems, that using etherpad itself in a virtual subdirectory works, but not several plugins?. Hm, I think, that's already the case:\nsudo ls -la /opt/etherpad\ndrwxr-xr-x 7 etherpad etherpad 4096 Jul  4 10:00 .\ndrwxr-xr-x 3 root     root     4096 Jun 28 10:28 ..\n-rw------- 1 etherpad etherpad  332 Jun 28 13:28 .bash_history\ndrwx------ 3 etherpad etherpad 4096 Jun 28 10:30 .config\ndrwxrwxr-x 9 etherpad etherpad 4096 Jul  4 11:03 etherpad-lite\ndrwxrwxr-x 2 etherpad etherpad 4096 Jun 28 10:48 .nano\ndrwxrwxr-x 5 etherpad etherpad 4096 Jun 28 10:30 .npm\ndrwxrwxr-x 2 etherpad etherpad 4096 Jul  4 10:38 ssl-key\nthe copied ssl key\n```\nsudo ls -la /opt/etherpad/ssl-key\ntotal 20\ndrwxrwxr-x 2 etherpad etherpad 4096 Jul  4 10:38 .\ndrwxr-xr-x 7 etherpad etherpad 4096 Jul  4 10:00 ..\n-rw-r--r-- 1 etherpad etherpad 2187 Jul  4 10:02 cert.pem\n-rw-r--r-- 1 etherpad etherpad 1647 Jul  4 10:38 chain.pem\n-rw-r--r-- 1 etherpad etherpad 3834 Jul  4 10:02 fullchain.pem\n```. Sorry for the delay. I havn't figured out this issue. \nBut for a while, I'm using EPL with the MyPads PlugIn and the ssl settings for apache. \nThis works for me.. ",
    "Adorfer": "i would highly recommend to put nginx as reverse-proxy in front, for performance reasons. \nthis then can deal with the ssl as well. . @rlegene: because nginx does do some good caching as reverse proxy. \nthe security aspect: There are no user logins on the host. and etherpads listens only on ::1. the name \"etherpad/lite\" (it's second part) should stand for something.\nmumble exists and coexists. And there are alread a ton of different WebRTS-Solutions available.\nJust another platform (with registration, credentials etc) will create so much trouble and even scare users away. \n(up to now, the pad was really the lowtech approach. If people want stylish stuff with login, there is already other platforms. But there you get trapped in a tool discussion between compatiblity, ease of use, mobile dataplans, 2FA-logins etc.). ",
    "rlegene": "Why would adding more processing make the performance better? Also, I would highly discourage unwrapping SSL before its final destination, for privacy reasons (internal networks are not secure).. ",
    "Paulpatou": "I finally found the problem, I had first followed the tutorial that asked to install Nodejs9 that was not working.\nThen I tested Nodejs6 which solved my problem\ncurl -sL https://deb.nodesource.com/setup_6.x | sudo -E bash -. @muxator \nThank you for taking the time \nI can't find the following folders to create the symbolic links!\n/.local/bin/node\n/.local/bin/npm\n/.local/bin/npx\nI only have that :\n/home/etherpad/etherpad-lite/\n\n./\n../\nAPIKEY.txt\nbin/\nCHANGELOG.md\nCONTRIBUTING.md\ndoc/\n.git/\n.gitignore\nLICENSE\nMakefile\nnode_modules/\npackage-lock.json\nREADME.md\nSESSIONKEY.txt\nsettings.json\nsettings.json.template\nsrc/\nstart.bat\ntests/\n.travis.yml\nvar/\n\nIn the documentation I had not seen that it was necessary to make symbolic links!. @muxator I finally solved my problem by running the command :\nsudo -E bin/run.sh\nTo keep my user's environment variable and it works fine.\nThanks for your help\n. ",
    "LingaTigeen": "I'm having the similar error in etherpad 1.7.0 with node V10.14.2. Any idea?. ",
    "sgimeno": "Maybe I can help. Are there any backend tests regarding the server settings configuration?\nThe version and commit id are also leaked in the logs in https://github.com/ether/etherpad-lite/blob/develop/src/node/hooks/express.js#L17\nShould that be configurable as well?. ",
    "ukcb": "Just as a suggestion: Debian/stable (stretch) has a backport of Debian/testing (stretch-backports) with version 8.11.1 -> https://packages.debian.org/search?keywords=nodejs\ndeb.nodesource.com comes with version 10.7 for Debian/stable (stretch) -> https://deb.nodesource.com/node_10.x/dists/stretch/main/binary-amd64/Packages. https://deb.nodesource.com has a package nodejs version 10.8 including npm for Debian 8 aka jessie.. It would be nice if it also looked good with ep_mypads. That would be important to me. Many Thanks.. @cloudhary I have no solution but abiword works with ep-lite 1.7.5.. ep_hash_authneeds bcrypt. bcrypt needs a g++ compiler for installation. Will ep_hash_auth also work correctly without bcrypt? You do not really want to have a compiler on the server.\nFor me, I still see the problem that ep_hash_auth does not work with ep_mypads.\nhttps://framagit.org/framasoft/Etherpad/ep_mypads/issues/88. Etherpad could optionally create an extra table for administrators in the database. My_Pads could then optionally use this for his administration. You both need to discuss this. It would be good if there was exactly one interface for it.. @JedMeister Etherpad always needs a database. SQLite is also SQL. I myself use postgrespool. It would be conceivable to say look into the database if you can find the admin account or look in settings.json. Plugins then have to deal with it, and adjust if necessary.. For a book, I would rather use LaTeX. https://www.latex-project.org/\nThe text can always be written in etherpad. :-). Here is my database configuration:\n/* postgrespool - connection via postgresql socket */\n    \"dbType\" : \"postgrespool\",\n    \"dbSettings\" : {\n        \"user\"    : \"etherpad\",\n        \"host\"    : \"/run/postgresql\",\n        \"password\": \"\",\n        \"database\": \"etherpad\",\n        \"max\": 20,\n        \"min\": 8,\n        \"charset\" : \"utf8mb4\"\n    },. Here I found something: https://github.com/Pita/ueberDB/issues/117. @muxator The error occurs only after a few days runtime. The database table is of course already there, because the pad has been used for some time. I use postgresql 9.6.. ",
    "Porkepix": "Well, I can't just clone everything, I guess some event trigger the issue, but I've not idea how could I know what the trigger is.\nIs there a way to know what was going on when the crash occured?. No, this plugin isn't installed. Do you think it could have been a cause?. Well, I can't tell as I have no way to know for sure if a pad is particularly causing this.\nBut yes, our instance have a lot of pads for years, and the amount of users that goes with.. We use very few plugins and don't use this one.\nSome plugins might be mandatory depending on use case, for example MyPads one for private pads en user management :). ",
    "kero242": "are you using the ep_delete_after_delay plugin with \"loop\": true option?\nWe have about 3000 pads and i suspect it crashes because of this plugin option. \nBest way is to use no plugins at all. . are you using the ep_delete_after_delay plugin with \"loop\": true option?\nWe have about 3000 pads and i suspect it crashes because of this plugin option. \nBest way is to use no plugins at all. . ",
    "muhmuhten": "Yes, that's essentially the configuration I'm using.\nI've amended the commit to include the detailed explanation in the PR in the commit message and added a brief comment at both \"invalid.invalid\" sites.. ",
    "mrflos": "Hi @muxator ! Thank you for your quick reply.\nI'm aware that we need a lot of discussions and a lot of small changes in order to get this theme generic enought to be accepted as default.\nTo answer your 2 first questions:\n - the plugin list is indeed the exact configuration to obtain the whole UX, if you install it without them, it would this be OK and look like this : https://pad.coop.tools/p/YkZw5nw1GI \n - you are right, the license of this Geomanist font seems not to allow redistribution, but we could change it for example with Montserrat, which is quite similar and under compatible licence\nOther things that we would have to discuss:\n - the home background image (it contains a specific logo): i could ask to remove the logo\n - the titles colors (the green may be too specific)\n - what to do with the extra plugin styling\n...\nIf the etherpad community sees an interrest on working on doing something more generic, we would be happy to contribute!\nBest regards. HI @petrk94 AND @muxator ,\nI have updated https://framagit.org/colibris/etherpad-custom-colibris in order to use a free licence.\nI translated the readme in english and clarified licence. I also gave basic instructions to change fonts and other customs.. Ok, i changed the licence to apache 2 to solve this first issue.\nI think that we must work with @seballot on a branch based on the dev branch of etherpad, in order to test in the best conditions, solve frontend tests and tune design for mobile phones.\nIf we add a setting to enable the theme, maybe we should discuss what would be the optimal directory structure, for example (we should discuss this to find the best plan, this is just a draft in my mind) :\n- the themes should be in one folder in static/themes/<mytheme> containing\nthe css and js (as i can understand, the templates are global and cannot be customised in a theme).\n- if the setting parameter theme_folder exists and the folder exists, the value is saved in the settings, otherwise it's saved as an empty string\n- in the templates, all js and css paths are changed to include the file in the theme directory (if the setting is on and if the file exists), or fallback to the default old etherpad theme file otherwise\nThis solution may be messy if the default theme is in the root of static while other themes are in subfolders, maybe it would be better to have the default theme in static/themes/default folder.\nWhat would you think of this plan?. > I agree that the default theme should become just another theme named default. What would remain under static?\nThere would still be favicon.ico, robots, test.html and the fonts folder.\nAs for the custom folder, it could also be kept there, but it may be confusing as it would be more logical to do a new theme for doing some custom changes... I have no problems to keep it for backward compatibility, just we should add somewhere a documentation that explains that anything in custom will be used in priority...\n\nCould we use the existing ejs mechanism for doing this?\n\nSure! I haven't studied the etherpad core's code now, but better not to re-invent the wheel!. @muxator : very good plan, i also started some POC, but its quite a chalenge to do themes without the templates, so skins is a better idea... \nI will wait for your poc, or tell me if your prefer that I do something.. @petrk94 : you can find the code that respect free licence (published under the apache licence) here : https://framagit.org/colibris/etherpad-custom-colibris/\nIn the readme of this repository, there are some instructions how to install it (TL;DR: place the files in the src/static/custom folder).\nIf you are not in a hurry, I would suggest to wait for the official release of the skins, but we don't know when exactly this will be (i'm hoping for this to happen before 2019 but we don't know yet!). Great job! I'll be trying to solve the last issues and implement our skin into the right place this week.  \nThank you again for this amazing change in such a short time!. hi @mrquokka i'm not sure the pull-request from @seballot was merged into the upstream develop branch of etherpad. see https://github.com/ether/etherpad-lite/pull/3496 . Apparently the font icon had some new icons added, i suppose the table icon is part of it..\nMaybe try to use the fork of etherpad from sebbalot's repository?. Hello, if I may suggest 2 classical behaviours  : \n - option 1 (would probably need to write more code...) : on mobile and on small screens (let's says less than 600px) the line numbers and author disappear but on the bottom left or right, the information for current cursor position (line and column) could appear\n - option 2 : on mobile and on small screens (let's says less than 600px) the author info on the left disappears so that the line numbers are the smallest possible, like in codemirror\nEdit: as for the scrolling, i'm personnaly not a fan of it, because it's not very common behaviour, and i would prefer to be able to see the full information of the text, which has more value to me then the information about the line numbers and authors.. option 3 sounds great, but may also involve a lot of code to handle finger gestures..\nthe fourth option :)  to automaticaly hide the lines on small resolutions sounds good and simple. ",
    "petrk94": "@mrflos \nI really like the new theme design, it give me more a feel like in google docs, and this would be even from my team mates make it more suitable to use. Thanks for sharing, I want to use it, but how to change the font manually?. Can the theme already be used or is there some copyright problem?. I would like to bring my own pad on my server online for public with the new theme, what I have to replace, so there are no problems with copyright?. @mrflos well, I have it already running successfully ;) \nBut I dont want to share it to the public people, if there are problems with the law.\nThe license is in general nothing I care really, due I dont share the software or sell it. \nI just want to know, whether its legal to let people use it or whether there are legal things, which I should avoid, before I share it with another people.\nThanks. Personally I think it were the best to make it available to choose the skin on the admin configuration without hassle with the code and folders. Like the Plugins make a list of available themes with a link to demo or screenshot and than the admin of it, just can click and apply it on the instance.\nSure, it makes some work, but would reduce the problem for long term. Even me as advanced admin, I would prefer the admin board apply theme option, due its faster. And who really want to customize it, than here should not be a problem.. What the \"star\" in the slider is saying?\nPs. Just my opinion, but I think the rename box is pretty long, can not be reduced to the size of the text itself and containing the title while editing?\nPPs. great and thanks for making that possible @seballot :). I have tested it and I have noticed the same problem when resizing the window in Chrome 67. Here is my screenshot incl. size of browser window (might help)\nSome components of plugins like text align disappear, but some not. Maybe it would help to reduce it on mobile devices only for the most necessary formatting option or make it like google docs on mobile and make a menu, where the function are located when the mobile size is detected\n\n. Just tested via Chrome Developer Tools, the textfield can be extended by just disabling the css components:\nin pad.css and in the /html/head/style of the loaded pad.\nouterdocbody {\n/* padding-right: 200px; */\n\n}\nThan it will look this way. It doesnt solve the format section, but I hope this will help you too :) \n\n. @muxator \nI have tested it with deleting the ep_author_neat, but the issue still exist.\nPs. Admin board where nice to add functionality to disable functions instead of uninstall only.. @seballot \nHey, no, I have made the change over the Chrome Developer on my Laptop in Google Chrome 69. Not via phone, maybe its a Browser Agent thing. I dont have tried it in my running installation.. @seballot if you have tested it on your phone and its working, than Im fine with it :)\n@muxator can be closed, Im fine with it. Didnt have recently time to test it again, looking for the next release to use the new design . @muxator \nyes, works well, the just the port parameter was necessary, now it works fine with MariaDB.\nThanks for the help.\nPs. It were nice if the database can be checked/switched in the backend or adjusted there manually without typing all in the settings.json.\n. The problem is, my hoster doesnt want to install it due its not in the official CentOS7 repositories.\nThats why I need a alternative solution. I could run a CentOS6 Server at my hoster, but than I have to pay twice, only because I need one program for something like export functionality.. @muxator\nThe admins at Uberspace gave their final decision, even after providing them the CentOS7 rpm pkg, they doesnt reacted on it. :/ \nIm really thinking about going to a Virtual Host, but for my projects I dont get money, and I want to save as possible, thats why Im using the shared host for 1\u20ac.\nDo you can provide a link to a static binary? I have heard about Nix, but even have to get in.. ",
    "seballot": "Hi everyone, I'm Sebastian, I've been working on this new theme.\nI'm happy to see that your are also enthusiastic about changing etherpad default theme :)\n@muxator, your plan seems good to me ! And as I commented in a dedicated ticket, this theme was a quick first shot, only applying css rules on top of etherpad code. if I can change a bit the core etherpad code, I would be able to increase much more the user experience. \nI'll be happy to participate improving this great tool !\nSee ya !. Hello everyone,\nJust to let you know that I'm currently working on implementing a clean colibris skin into the etherpad. I made the basic UI, now working on the commons plugins to make then work properly !\n@muxator, re the skins directories, that is really nice thank you, but I think we also need to keep the old static/custom folder, cause if someone choose one skin, they will not be able to add some lines of css to fit their needs in top of the skins. WDYT? I could add it if you want.\nAlso, I'm wondering why there is some fonts included in the etherpad css code (opendyslexic, robotoMono, Montserrat)? Will not be better to let each people import they own font?\nAnd finally, re the icons and fontawesome, they are a bit old no? would be nice to update the font. Do you know why the fontawesome lib is used with this font/config.json and using the icon code in css instead of using the classic \"fa fa-icon\" classes in html? Does the fontawesome-etherpad font is the entire fontawesome or only a subset of the icons used by etherpad?\nThanks for you help !. oh great, thank you @lpagliari !. ok sounds fine :)\n. Btw, @muxator , In the template pad.html, I would like to add to #editorcontainerbox all the activated plugins as classes, so I will have something like\nhtml\n<div id=\"editorcontainerbox\" class=\"ep_comments ep_author_neat\"></div>\nSo I would be able to change the css depending on which plugin is activated.\nCould you please help me with that? :)\nI checked how the admin page was doing this, something like\njavascript\nvar pathComponents = document.location.pathname.split('/');\n    var baseURL = pathComponents.slice(0,pathComponents.length-2).join('/') + '/'\n    var room = url + \"pluginfw/installer\";\n    var resource = baseURL.substring(1) + \"socket.io\";\n    var socket = io.connect(room, {path: baseURL + \"socket.io\", resource : resource});\n    socket.emit(\"getInstalled\");\n    socket.on('results:installed', function (data) {\n      console.log(data);\n    });\nBut I don't know where to put this code.... Thanks @muxator ! did you manage something ?\nFrom my part, I'm almost ready, just need to fix the main layout depending on the plugins activated\nI've styled the following plugins\n\nbrightcolorpicker\ncomments_page\nfont_color\nset_title_on_pad\ntables2 (I also get the ownership of this repo (which was dead for 3 years), and I fixed some critical bugs, working fine now !). Here we are ! #3496. Thanks for the deploy to https://beta.etherpad.org !\nWould it be possible to adds others plugins so we can perform better tests?\n\nnpm install ep_brightcolorpicker ep_comments_page ep_embedded_hyperlinks2 ep_font_color ep_set_title_on_pad ep_tables2 ep_headings2 ep_author_neat\nThanks for the code review. This is mainly Css files, so it should not be too much work for you I hope !. could you also remove the \"useMonospaceFont\" option which seems to be activated on this instance? :). checkout the brand new timeslider ! https://beta.etherpad.org/p/testslider/timeslider#59. @petrk94 the star is when you save a revision (in the toolbar, on the right, just next to timeslider button)\n. FYI, the fonts for text and titles in this PR are just as example, I think the default theme should not use a specific font for titles (here I used opendyslexic). Hi @mrquokka, I did not understood all your comments, but regarding ep_tables menu, why you say it is horrible? You have the same than me?\n\n. @mrquokka can you please provide a screenshot how it looks for you?. thanks @mrquokka !\nIt seems that you don't have the new icons, cause you should have the table icon, and also the link icon on the right (you got just some underscore). Can you please refresh clearing the cache? shift + F5 or ctrl + shift + R ?. If you don't mind, could you continue investigate with me ?\nHere is what I have when checking for the table icon in the developer tools :\n\nDo you have same \n```css\ntbl-menu:before {\ncontent: \"\\F0CE\";\n\n}\n```\n?\nAlso, what kind of font is used for you ? for me it is the WOFF extension, and you? it is not loaded from cache right?\n\n. Oh, I though @mrquokka was speaking about http://beta.etherpad.org ?. Ok, so it's just you don't have the latest verison of ep_tables2 in your local server ! Or maybe your are using ep_tables instead of ep_tables2. Ok ep_tables2@0.3 is fine !\nSo it seems that the colibris skins tables2.css is not applied correctly. \nCan you check the value of etherpad-lite/src/static/skins/colibris/src/plugins/tables2.css ?\nIt should begin with\n```css\n/ MENU ICON/\neditbar #tbl_menu_list {\nwidth: auto !important;\n}\ntbl-menu {\nbackground: none !important;\n  width: 18px !important;\n  padding-left: 2px !important;\n}    \ntbl-menu:before {\ncontent: \"\\F0CE\";\n}\n```\nCheck that this file is the correct one loaded\n\n. So you just don't have my lastest code from etherpad, https://github.com/seballot/etherpad-lite or see #3496 . hi @fungi, no it's not planned to be configurable, sorry ! But you would be able to customize it with some css rules.\nThe theme si responsive so on smaller device there is no margin ;)\nFor projecting onto screens, I don't understand what is the problem of having a centered page instead of a full width page. Actually for me it have better readability on centered page (and I assume I am not the only person thinking this because I don't no a single website using a full width text ! :) ). . Ok that's good if you found how to fit your needs :)\nI create a ticket for line number issue #3510, thanks for the report. @dessalines, use the skinName property in settings.json\n/*\n   * Skin name.\n   *\n   * Its value has to be an existing directory under src/static/skins.\n   * You can write your own, or use one of the included ones:\n   *\n   * - \"no-skin\":  an empty skin (default). This yields the unmodified,\n   *               traditional Etherpad theme.\n   * - \"colibris\": the new experimental skin (since Etherpad 1.8), candidate to\n   *               become the default in Etherpad 2.0\n   */\n  \"skinName\": \"colibris\",. Hi, I fixed the font test (and refactor a bit the code related to fonts)\nFor scrolling, I don't understand at all what those tests are about... It seems to me that they are failing just because of different line-height or padding used for the pad. I cannot understand how css changes would have affected this scrolling behavior (which, again, I don't fully understand). Hi,\nI have better result on chromium 68 and firefox 61, but yes it can be improved :)\n\nActually it was difficult for me to adapt everything just applying css rules on top of the Etherpad code. If you are interesting on using this as default theme, and if I can change a bit the core Etherpad code to fit my need, we could have much better UI experience :)\n. Hello there,\nI think this has been solved, but I don't have a smartphone so I cannot test properly (but with mobile simulator on firefox and chromium it's working great)\nCan someone do a real test please on beta.etherpad.org ?. @petrk94 what is your phone model? and your browser? you have the same screen as your previous screenshot?. \"When ep_author_neat is enabled there is still an issue, but I'll open another ticket for that one.\"\nCould you open this issue please @muxator ?\nBtw, I made it on purpose that the pad screen will be larger that the device screen, so we can still see the line numbers and the authors name if we want to, by scrolling to the left\nSo when you land on the page, you can see the line numbers and the author names, but the text on the right is cropped. You can scroll to the right and then you will see only the text in full with. If you want anytime to see again line numbers or author, you can scroll again to the left.\nWDYT with this behaviour?. @petrk94 Havn't tried with a real phone, only with chrome agent tool, so I'm not sure we need to take this in account.\nI have recently tried with a Samsung galaxy and everything was working fine. Hi @muxator, that is great thank you ! Good idea to use only client side hooks, I think the definition of a client side plugins fits my needs :)\nRe \"when an administrator installs or removes a plugin, the connected clients will not be notified, and they will have to refresh the page\"\nI think that is fine :) Of course it could break a bit the UX, but not too much, I mean the users will still be able to use the main functionality : writing in the pad !\nThanks again !. Hello @muxator !\nSorry for the late reply...\n\nThanks !\nyou mean you added some comment in the code I wrote? I don't understand how to see them...\nI only added two icons (for the link and for table).. Maybe fontello now use a different way of encoding the fonts? I just double check and downloaded again the fonts, but still same size.\n4 and 5. I fixed the default text color and title font with a new commit\nre git history, I don't know anything about that, and not sure I have the motivation to learn about it :) Is that okay if I let you do it? You seems to be quite confortable with this :p\n. Hello !\nOk the \"allow edits from maintainers\" is checked (was already checked btw)\nRe the review, maybe you need to add me as a reviewer in the pullrequest ?\n\n\nThank a lot of git history :)\n. Yes it is a typo sorry ! I can now view your review, I'm answering them !. \"If you are going to do other commits, please clone again and work from there.\"\nNot sure to understand, clone from which repo and which branch?. Great ! Thanks for the explanations, I understand it better now :). Great work !\nExcept \"pad.css: group togheter three very similar rules.\" which I just comment, I think everything is fine\nRegarding the compatibility with old theme, of course some conflict might appear cause now we\n- import pad.css into timeslider\n- prioritize the skin style over the plugin style\nBut should be minor conflicts, hopefully without any consequence\nBtw, for old theme compatibility, having deleted the \"custom\" folder will break all the custom theme. Users will need to move their code in a skins folder and update the settings.json\nI think this could be a major argument to keep the custom folder logic re #3498 :). Thank you too !!. Hi !\nAs I already expressed here, I think we should keep the old custom folder. But I also understand your arguments about not having too much levels of customization :)\nFrom a user perspective, what I would like to do is\n1. Choose a theme from a list of themes (I don't want to know how those theme works)\n2. If I want to changes small things to fit my needs, editing a custom file is easy understandable\nFrom a developer perspective, if I want to developp a new theme, or fix some issue with an existing theme, I can contribute with a PR\nI think what you are proposing is acceptable, the only inconvenient is that in both cases we could not get the updates from the theme. If I have locally customize a theme to fit my need, then upgrading my version of etherpad could (respectively to your two options)\n1. Overwrite my customization if I am not careful or if I don't know so much about git\n2. Not affect my customization because I am using an old version copied locally. After investigating a bit, I see that assets are already minified when settings \"minify\" is set to true. On beta.etherpad.org, \"minify\" is probably set to false, that's why assets was so heavy and numerous !\nIt could be a bit more optimized, concatenating the plugins files and the core files, but not sure this worth the effort, it does not seems to be a straight forward job.\nSo I prefer close this ticket, and spend time on the ep_tables2 which need a lot of fixs and improvements !\nBtw, thanks muxator for the history, that's really important to know !. Hi @lpagliari !\nre \"376 request 3.7Mb transfered\"\nDo you have the settings \"minify\" to true in your settings.json?\nWhat plugins did you enabled to rich this value?\nI know for example that the old ep_tables was using a very heavy library and only this plugin was like 1.2Mo (but now it's better, as I refactored it!). Maybe there is also some plugins like this...?\nThe number of request is also very high. My only guess is that you have the minified option to false, which makes load each piece of css separatly, instead of loading one concatenated file.\nCan you investigate what are the mains requests (in number and in weight) ?\nThank you !. \"On a small screen on Desktop I find it difficult to use.\" \nI doubt anyone use a Desktop with only 600px width.. no?\n\"In general, on mobile, I vote for not showing the line numbers pane at all (this is what the current skin does, btw).\"\nYes this is another option. We could consider set \"display line number\" to false by default on mobiles.\nIt just seemed to me that it is pretty convenient to use the line numbers sometimes, and I think few people know that it can be activated/disactivated from the cog settings. So my idea was to let know the user directly that this line numbers are available by scrolling. But I'm open to the discussion !. Option3 : line numbers and authors are hidden by default. Draging from the left to the right make appears them on top of the pad, like a classic menu opens on mobile. Finger mouvement can be tracked with library like hammer.js. I already made this for another project, but needs to import this library, and do some work\nPersonally now I'm thinking the best should be not display line numbers and author at all, like @muxator suggested. There is still the \"cogs\"+\"show line numbers\" for those who want to display line numbers\nOption 1 is tricky because we need to make a pull request on ep_author_neat, and hope that the maintainer is still active etc.... Great let's go this way !. Oh sorry, quite busy last days ! I will do it this afternoon, this is just few lines of code. Done ! . Hi @dessalines, can you please provide screenshots? \nhttps://beta.etherpad.org/p/test Works fine for me. Sure will have a look asap !\n@muxator: don't hesitate to directly assign me such issues. Yes sorry, I changed my mind and forgot to remove it !. I just moved the skins/pad.css out of here to put it after the plugins css inclusion. \nFor now, we are not using anymore custom script and style, so this if(!clientVars.disableCustomScriptsAndStyles){ can be safely removed. If with #3498 we decide to put it back, we could restore this disableCustomScriptsAndStyles (but making it work properly this time, here it was just preventing one css inclusion, but there are custom css inclusions in other places, and also custom script inclusions...). Don't remember exactly, but this is for handle icon like \nhtml\n<span class=\"icon-table\"></span>\n/* OR */\n<span data-icon=\"table\"></span>\nSo content: attr(data-icon); should not go with rules b) [class^=\"icon-\"]:before\nSo you can group rule a) and b) without content: attr(data-icon); and then add new rule\ncss\n[data-icon]:before { content: attr(data-icon); }. Done ! Finally I did some test, and this content: attr(data-icon); is not used and does not work, so I just removed it, everything work fine. It is used in some plugins, like ep_tables2\nIn order to not change each plugin, sometimes I needed to do things like that : introducing a rule only for a plugin. But actually now I'm the owner of ep_table, so if you want you can remove that line (only 1327) and I will change ep_tables for my needs !\nBtw, sorry about all those messy commits, it's the first project I contribute where someone pay as much attention to commits. In my next contributions I'll make them cleaner !!. ",
    "mmuman": "Btw, how does it react vis-\u00e0-vis a dark theme (ie. default dark grey background in the browser settings) ?\nFor example, the current one stays with white background even when using Owl, and it's about the only thing that can't be made to work with it. I since then found Dark Reader which does seem to apply correctly though.. ",
    "philippeponge": "SUPER\nLes \u00e9volutions sont attirantes. Cela donne envie de revenir vers cette solution ;-)\nMerci.. ",
    "mrquokka": "I tried use them, it cool! \nBut have some bugs:\n- need 2 copies on symlink for colibris,\n a) folder name \"custom\" in src/static\nb) folder name \"colibris\" in src/static/skins\n- anyway not enought \"index,js\" file on colibris (used on main page of etherpad)\n- i think that etherpad need ep_adminpads - drop pads with api non-confortable\nAnyway:\n- export to PDF does not work(server crushed)(with abiword);\n- ep_tables2 is horrible menu now.\nBut this bugs not important, product is really good.\n. > Hi @mrquokka, I did not understood all your comments, but regarding ep_tables menu, why you say it is horrible? You have the same than me?\n\n\n\nHi!\nI have some another symbol behind table icon. Fonts on this menu and ui  are different, cannot change table background without join menu-table properties.\nThat is just a wish -  Integeration with toolbar. > @mrquokka can you please provide a screenshot how it looks for you?\nYes, that's it.\n\n. > thanks @mrquokka !\n\nIt seems that you don't have the new icons, cause you should have the table icon, and also the link icon on the right (you got just some underscore). Can you please refresh clearing the cache? shift + F5 or ctrl + shift + R ?\n\nThanks for tip. But i already tried \"hard refresh\".\nAll members have simular screen (at our team). No errors in console.\nMaybe you can help me, how can i set new icons for this?\n. > Oh, I though @mrquokka was speaking about http://beta.etherpad.org ?\non this site all works, but on local server i have this problems\nYeap, font fontawesome-etherpad.woff is loading not from cache (with ctrl+f5), from cache without this combination.\nHTML code is\n<a title=\"Table options\">\n   <div class=\"tbl-icon\" data-icon=true id='tbl-menu' >&nbsp;</div>\n</a>\ntbl_icon_before code\n[data-icon]:before {\n    content: attr(data-icon);\n}\n. > Ok, so it's just you don't have the latest verison of ep_tables2 in your local server ! Or maybe your are using ep_tables instead of ep_tables2\ni have a ep_tables2@0.3.0\nAll list of packages\n/work/etherpad-lite-develop\n\u251c\u2500\u2500 ep_adminpads@0.0.12\n\u251c\u2500\u2500 ep_author_neat@0.0.31\n\u251c\u2500\u2500 ep_brightcolorpicker@0.0.7\n\u251c\u2500\u252c ep_comments_page@0.0.35\n\u2502 \u251c\u2500\u2500 formidable@1.2.1\n\u2502 \u2514\u2500\u252c socket.io-client@2.1.1\n\u2502   \u251c\u2500\u2500 backo2@1.0.2\n\u2502   \u251c\u2500\u2500 base64-arraybuffer@0.1.5\n\u2502   \u251c\u2500\u2500 component-bind@1.0.0\n\u2502   \u251c\u2500\u2500 component-emitter@1.2.1\n\u2502   \u251c\u2500\u252c debug@3.1.0\n\u2502   \u2502 \u2514\u2500\u2500 ms@2.0.0\n\u2502   \u251c\u2500\u252c engine.io-client@3.2.1\n\u2502   \u2502 \u251c\u2500\u2500 component-emitter@1.2.1 deduped\n\u2502   \u2502 \u251c\u2500\u2500 component-inherit@0.0.3\n\u2502   \u2502 \u251c\u2500\u2500 debug@3.1.0 deduped\n\u2502   \u2502 \u251c\u2500\u252c engine.io-parser@2.1.2\n\u2502   \u2502 \u2502 \u251c\u2500\u2500 after@0.8.2\n\u2502   \u2502 \u2502 \u251c\u2500\u2500 arraybuffer.slice@0.0.7\n\u2502   \u2502 \u2502 \u251c\u2500\u2500 base64-arraybuffer@0.1.5 deduped\n\u2502   \u2502 \u2502 \u251c\u2500\u2500 blob@0.0.4\n\u2502   \u2502 \u2502 \u2514\u2500\u2500 has-binary2@1.0.3 deduped\n\u2502   \u2502 \u251c\u2500\u2500 has-cors@1.1.0 deduped\n\u2502   \u2502 \u251c\u2500\u2500 indexof@0.0.1 deduped\n\u2502   \u2502 \u251c\u2500\u2500 parseqs@0.0.5 deduped\n\u2502   \u2502 \u251c\u2500\u2500 parseuri@0.0.5 deduped\n\u2502   \u2502 \u251c\u2500\u252c ws@3.3.3\n\u2502   \u2502 \u2502 \u251c\u2500\u2500 async-limiter@1.0.0\n\u2502   \u2502 \u2502 \u251c\u2500\u2500 safe-buffer@5.1.2\n\u2502   \u2502 \u2502 \u2514\u2500\u2500 ultron@1.1.1\n\u2502   \u2502 \u251c\u2500\u2500 xmlhttprequest-ssl@1.5.5\n\u2502   \u2502 \u2514\u2500\u2500 yeast@0.1.2\n\u2502   \u251c\u2500\u252c has-binary2@1.0.3\n\u2502   \u2502 \u2514\u2500\u2500 isarray@2.0.1\n\u2502   \u251c\u2500\u2500 has-cors@1.1.0\n\u2502   \u251c\u2500\u2500 indexof@0.0.1\n\u2502   \u251c\u2500\u2500 object-component@0.0.3\n\u2502   \u251c\u2500\u252c parseqs@0.0.5\n\u2502   \u2502 \u2514\u2500\u252c better-assert@1.0.2\n\u2502   \u2502   \u2514\u2500\u2500 callsite@1.0.0\n\u2502   \u251c\u2500\u252c parseuri@0.0.5\n\u2502   \u2502 \u2514\u2500\u2500 better-assert@1.0.2 deduped\n\u2502   \u251c\u2500\u252c socket.io-parser@3.2.0\n\u2502   \u2502 \u251c\u2500\u2500 component-emitter@1.2.1 deduped\n\u2502   \u2502 \u251c\u2500\u2500 debug@3.1.0 deduped\n\u2502   \u2502 \u2514\u2500\u2500 isarray@2.0.1 deduped\n\u2502   \u2514\u2500\u2500 to-array@0.1.4\n\u251c\u2500\u2500 ep_embedded_hyperlinks2@1.1.1\n\u251c\u2500\u252c ep_etherpad-lite@1.7.0 -> /work/etherpad-lite-develop/src\n\u2502 \u251c\u2500\u2500 async@0.9.0 extraneous\n\u2502 \u251c\u2500\u2500 async-stacktrace@0.0.2 extraneous\n\u2502 \u251c\u2500\u2500 channels@0.0.4 extraneous\n\u2502 \u251c\u2500\u2500 cheerio@0.20.0 extraneous\n\u2502 \u251c\u2500\u2500 clean-css@3.4.19 extraneous\n\u2502 \u251c\u2500\u2500 cookie-parser@1.3.4 extraneous\n\u2502 \u251c\u2500\u2500 ejs@2.5.7 extraneous\n\u2502 \u251c\u2500\u2500 etherpad-require-kernel@1.0.9 extraneous\n\u2502 \u251c\u2500\u2500 etherpad-yajsml@0.0.2 extraneous\n\u2502 \u251c\u2500\u2500 express@4.16.3 extraneous\n\u2502 \u251c\u2500\u2500 express-session@1.15.6 extraneous\n\u2502 \u251c\u2500\u2500 find-root@1.1.0 extraneous\n\u2502 \u251c\u2500\u2500 formidable@1.2.1 extraneous\n\u2502 \u251c\u2500\u2500 graceful-fs@4.1.3 extraneous\n\u2502 \u251c\u2500\u2500 jsonminify@0.4.1 extraneous\n\u2502 \u251c\u2500\u2500 languages4translatewiki@0.1.3 extraneous\n\u2502 \u251c\u2500\u2500 log4js@0.6.35 extraneous\n\u2502 \u251c\u2500\u2500 measured-core@1.11.2 extraneous\n\u2502 \u251c\u2500\u2500 mocha@5.2.0 extraneous\n\u2502 \u251c\u2500\u2500 npm@6.4.0 extraneous\n\u2502 \u251c\u2500\u2500 nyc@12.0.2 extraneous\n\u2502 \u251c\u2500\u2500 object.values@1.0.4 extraneous\n\u2502 \u251c\u2500\u2500 request@2.83.0 extraneous\n\u2502 \u251c\u2500\u2500 resolve@1.1.7 extraneous\n\u2502 \u251c\u2500\u2500 security@1.0.0 extraneous\n\u2502 \u251c\u2500\u2500 semver@5.1.0 extraneous\n\u2502 \u251c\u2500\u2500 slide@1.1.6 extraneous\n\u2502 \u251c\u2500\u2500 socket.io@2.1.1 extraneous\n\u2502 \u251c\u2500\u2500 supertest@3.0.0 extraneous\n\u2502 \u251c\u2500\u2500 swagger-node-express@2.1.3 extraneous\n\u2502 \u251c\u2500\u2500 tinycon@0.0.1 extraneous\n\u2502 \u251c\u2500\u2500 ueberdb2@0.4.0 extraneous\n\u2502 \u251c\u2500\u2500 uglify-js@2.6.2 extraneous\n\u2502 \u251c\u2500\u2500 underscore@1.8.3 extraneous\n\u2502 \u251c\u2500\u2500 unorm@1.4.1 extraneous\n\u2502 \u2514\u2500\u2500 wd@1.10.3 extraneous\n\u251c\u2500\u2500 ep_font_color@0.0.11\n\u251c\u2500\u2500 ep_headings2@0.0.9\n\u251c\u2500\u2500 ep_set_title_on_pad@0.1.4\n\u2514\u2500\u2500 ep_tables2@0.3.0\n. > Ok ep_tables2@0.3 is fine !\n\nSo it seems that the colibris skins tables2.css is not applied correctly.\nCan you check the value of etherpad-lite/src/static/skins/colibris/src/plugins/tables2.css ?\nIt should begin with\n```css\n/ MENU ICON/\neditbar #tbl_menu_list {\nwidth: auto !important;\n}\ntbl-menu {\nbackground: none !important;\n  width: 18px !important;\n  padding-left: 2px !important;\n}    \ntbl-menu:before {\ncontent: \"\\F0CE\";\n}\n```\nI have a \"etherpad-lite-develop/src/static/skins/colibris\"\nOn this folder i didn't have a \"src\" subfolder\n\n. ",
    "tobit6795": "ouch.... Thanks, I just looked for sth like that. ",
    "OnGle": "I'm not connected to this project in anyway however this issue is likely caused by attempting to start the etherpad server as the root user, if this is the case then this would almost certainly be intended behaviour. I'm not 100% sure how the permissions for etherpad are supposed to look like nor do I know your specific system configuration so don't take this as best practice and do some more research when/if setting up a production server, but try the following in bash.\n```bash\nadduser etherpad # create new etherpad user\nyou'll be asked to fill in a password and possibly some other values, feel free to leave these blank\nchown -R etherpad:etherpad  # overzelously allow all permissions to etherpad user\nsu etherpad # create a bash subshell with altered permissions\n```\nAfterwoulds in the same bash session start the etherpad server. If you no longer get that error then then this is a non-issue and it exists to prevent you from allowing a potential attacker administrator access to your server in the event they are able to break in through etherpad, this is standard practice in most tools on linux that don't require explicit root (administrator) privileges.. ",
    "c526537207": "@OnGle Thank you for your reply. The problem has been solved.. Thank you for your reply. The problem has been solved!. ",
    "zorrikon": "An example HTML is:\n<html><body><ol class='list-number1' start='1'><li>a</li></ol><ol class='list-number1' start='2'><li>b</li></ol><ol class='list-number1' start='3'><li>c</li></ol><ol class='list-number1' start='4'><li>d</li></ol></body></html>\nI'm on the develop branch.. Btw, exported TXT lists start with with whatever level indent they are. So all items indented once start with \"2.\" and those indented twice start with \"3.\" etc.\n. ",
    "mnagaku": "Thanks your comments, muxator.\nI wanted to add a test. However, there was no example of helper function test.\nI wrote a plugin that uses getPadPlainText().\nhttps://github.com/mnagaku/ep_autotxtexport/blob/master/ep_autotxtexport.js#L21\ngetPadPlainText() shows the following behavior.\n[2018-08-11 08:58:59.583] [WARN] console - TypeError: pad.atext is not a function\n    at exports.getPadPlainText (/root/etherpad-lite/src/node/utils/ExportHelper.js:25:84)\n    at Object.exports.autotxtexport [as hook_fn] (/root/etherpad-lite/node_modules/ep_autotxtexport/ep_autotxtexport.js:21:15)\n    at normalizedhook (/root/etherpad-lite/src/static/js/pluginfw/hooks.js:15:27)\n    at hookCallWrapper (/root/etherpad-lite/src/static/js/pluginfw/hooks.js:21:14)\n    at /root/etherpad-lite/src/static/js/pluginfw/hooks.js:76:14\n    at Function._.map._.collect (/root/etherpad-lite/src/node_modules/underscore/underscore.js:172:24)\n    at Object.exports.callAll (/root/etherpad-lite/src/static/js/pluginfw/hooks.js:75:24)\n    at Pad.appendRevision (/root/etherpad-lite/src/node/db/Pad.js:110:11)\n    at /root/etherpad-lite/src/node/handler/PadMessageHandler.js:775:13\n    at /root/etherpad-lite/src/node_modules/async/lib/async.js:610:21\nI addressed three issues including TypeError. These fixes were formal. These were not logical. I got the desired result with a simple fix.\n. ",
    "cloudhary": "Gosh, facing the same issue too. @ukcb did you figure out a fix?\n. ",
    "zeer15398376": "I find the installation is successful on Google, but it not works on AWS EC2.... Thanks for reply, here is the information\n Ubuntu version: \nDistributor ID: Ubuntu\nDescription:    Ubuntu 16.04.4 LTS\nRelease:        16.04\nCodename:       xenial\n(IMAGE: ami-ba602bc2)\n Node version: 9.11.2  Npm version: 6.4.0\n* Procedure (operate as root):\nsudo su\ncd ~\napt-get update\napt install gzip git curl python libssl-dev pkg-config build-essential\ncurl -sL https://deb.nodesource.com/setup_9.x | sudo -E bash -\napt-get install -y nodejs\ngit clone https://github.com/ether/etherpad-lite.git\ncd etherpad-lite\nbin/run.sh --root \n\nWhen I type the following command:\nroot@ip-172-31-31-136:~# cd <BASEDIR>/src/node_modules/wd\nbash: BASEDIR: No such file or directory\n\n. thanks, I have tried again on a clean machine, but I still find there is no wd inside the node_modules folder.. ",
    "treysp": "I am getting a very similar (but not identical) error related to node_modules/wd on CentOS 6\nError in shell:\n```\n\nwd@1.10.3 install /opt/etherpad-lite/src/node_modules/wd\nnode scripts/build-browser-scripts\n\n/opt/etherpad-lite/src/node_modules/mkdirp/index.js:90\n                    throw err0;\n                    ^\nError: EACCES: permission denied, mkdir '/opt/etherpad-lite/src/node_modules/wd/build'\n    at Object.mkdirSync (fs.js:729:3)\n    at sync (/opt/etherpad-lite/src/node_modules/mkdirp/index.js:71:13)\n    at Object. (/opt/etherpad-lite/src/node_modules/wd/scripts/build-browser-scripts.js:6:1)\n    at Module._compile (internal/modules/cjs/loader.js:689:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)\n    at Module.load (internal/modules/cjs/loader.js:599:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:530:3)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:742:12)\n    at startup (internal/bootstrap/node.js:266:19)\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! wd@1.10.3 install: node scripts/build-browser-scripts\nnpm ERR! Exit status 1\n```\nError-related content from npm log:\n1400 silly install wd@1.10.3\n1401 info lifecycle wd@1.10.3\\~install: wd@1.10.3\n1402 verbose lifecycle wd@1.10.3\\~install: unsafe-perm in lifecycle false\n1403 verbose lifecycle wd@1.10.3\\~install: PATH: /usr/lib/node_modules/npm/node_modules/npm$\n1404 verbose lifecycle wd@1.10.3\\~install: CWD: /opt/etherpad-lite/src/node_modules/wd\n1405 silly lifecycle wd@1.10.3\\~install: Args: [ '-c', 'node scripts/build-browser-scripts'$\n1406 silly lifecycle wd@1.10.3\\~install: Returned: code: 1  signal: null\n1407 info lifecycle wd@1.10.3\\~install: Failed to exec install script\n1408 timing action:install Completed in 121ms\n1409 verbose unlock done using /root/.npm/_locks/staging-4d108950646ee67b.lock for /opt/et$\n1410 timing stage:rollbackFailedOptional Completed in 203ms\n1411 timing stage:runTopLevelLifecycles Completed in 7760ms\n1412 verbose stack Error: wd@1.10.3 install: \\`node scripts/build-browser-scripts\\`\n1412 verbose stack Exit status 1\n1412 verbose stack     at EventEmitter.<anonymous> (/usr/lib/node_modules/npm/node_modules$\n1412 verbose stack     at EventEmitter.emit (events.js:182:13)\n1412 verbose stack     at ChildProcess.<anonymous> (/usr/lib/node_modules/npm/node_modules$\n1412 verbose stack     at ChildProcess.emit (events.js:182:13)\n1412 verbose stack     at maybeClose (internal/child_process.js:961:16)\n1412 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:2$\n1413 verbose pkgid wd@1.10.3\n1414 verbose cwd /opt/etherpad-lite/src\n1415 verbose Linux 2.6.32-696.18.7.el6.x86_64\n1416 verbose argv \"/usr/bin/node\" \"/usr/bin/npm\" \"install\" \"--no-save\" \"--loglevel\" \"warn\"\n1417 verbose node v10.9.0\n1418 verbose npm  v6.2.0\n1419 error code ELIFECYCLE\n. ",
    "your1p": "Yes, of course. \ngit log -1 : \n```\ncommit 275f1b1fef88333b0d8a0bcc1f36fe28f244add9\nMerge: e4a8581 7e69a82\nAuthor: muxator a.mux@inwind.it\nDate:   Fri May 4 23:47:44 2018 +0200\nMerge new release into master branch\n\n```\ngit status : \n```\nHEAD detached at 1.6.6\nUntracked files:\n  (use \"git add ...\" to include in what will be committed)\n.npm/\n\nnothing added to commit but untracked files present (use \"git add\" to track)\n```\nI use npm 3.8.6 anf nodejs 5.12.0 on a Ubuntu 16.04.03 LTS full stock on vagrant. \n. Fixed. In my environnement, Etherpad need Nodejs 8.x minimum to work. . ",
    "christian-momon": "Hi. We also have the bug. We found the workaround solution (thanks QGull): \n-  add \"/export/txt\" to the URL and then save the pad content;\n- delete the pad with admin page;\n- create again the pad and copy/paste the content.\nHoping that it can help somebody.. ",
    "tarbib": "@anoymouserver \nYay! Thanks a lot\nI just had to remove this \"/\" to make it work\n\nperfect now\nThanks a lot !\n. Marvelous solution . ",
    "HamzaKhait": "Hello,\nI am using etherpad version 1.6.6 behind nginx reverse proxy and I have the same configuration \n```\n  / Users must have a session to access pads. This effectively allows only group pads to be accessed. /\n  \"requireSession\" : false,\n/ Users may edit pads but not create new ones. Pad creation is only via the API. This applies both to group pads and regular pads. /\n  \"editOnly\" : true,\n/ Users, who have a valid session, automatically get granted access to password protected pads /\n  \"sessionNoPassword\" : false,\n/ if true, all css & js will be minified before sending to the client. This will improve the loading performance massivly,\n     but makes it impossible to debug the javascript/css /\n  \"minify\" : true,\n/ How long may clients use served javascript code (in seconds)? Without versioning this\n     may cause problems during deployment. Set to 0 to disable caching /\n  \"maxAge\" : 21600, // 60 * 60 * 6 = 6 hours\n/ This is the absolute path to the Abiword executable. Setting it to null, disables abiword.\n     Abiword is needed to advanced import/export features of pads/\n  \"abiword\" : null,\n/ This is the absolute path to the soffice executable. Setting it to null, disables LibreOffice exporting.\n     LibreOffice can be used in lieu of Abiword to export pads /\n  \"soffice\" : null,\n/ This is the path to the Tidy executable. Setting it to null, disables Tidy.\n     Tidy is used to improve the quality of exported pads/\n  \"tidyHtml\" : null,\n/ Allow import of file types other than the supported types: txt, doc, docx, rtf, odt, html & htm /\n  \"allowUnknownFileEnds\" : false,\n/ This setting is used if you require authentication of all users.\n     Note: /admin always requires authentication. /\n  \"requireAuthentication\" : false,\n/ Require authorization by a module, or a user with is_admin set, see below. /\n  \"requireAuthorization\" : false,\n/when you use NginX or another proxy/ load-balancer set this to true/\n  \"trustProxy\" : true,\n```\n. This issue was fixed when I updated my etherpad to 1.7.5. > I believe so. There's an API method to do that.\nWell, not really, setPassword is only available for group Pads ... . Hello @lpagliari \nAny news about this feature ? . > Please fix the typo \"se\" -> \"set\" in the title/summary and first comment of this issue.\n\nThis will prevent wondering if \"se\" is a typo for \"set\" or \"see\" and having to dig in.\n\nDone. Sorry about that!. Hello and thanks for the answer.\nIf I am not mistaken, this will be fixed in Etherpad 1.8 right ? . ",
    "ge-fa": "Thanks, and sorry for the noise. I've overlooked that I made my own commits on top of the upstream release branch which are obviously not part of the public git. Therefore, closing.. ",
    "duven87": "Oh thanks.\nIts there any website where is already installed this plugin? I dont have a server to install it. ",
    "ndum": "Hello there\nIs there already an news on this topic or a workaround? My Etherpad page with the latest version and the test page: https://beta.etherpad.org/ still doesn't work with an ie11 (no matter if win7 or win10).\n\nThanks for a fast reply.. Thanks for the quick answer and reaction. Is there an ETA when the bug will be fixed?. ",
    "adamprocter": "Its easy to reproduce :(  have a pad open in browser and then terminate etherpad as a service / or running on a screen like me CTRL-C  and the same thing happens to that pad\n. The crash was related to 'max_allowed_packet' bytes - so I have increased this to 128M and turned production on.. cant seem to crash now and even if I close the service while pad is open the broken loading doesnt happen...\nnot sure if the broken loading thing could be fixable if someone hits the bytes crash.... will see how It goes over the next few days. [2018-11-01 11:31:45.208] [ERROR] console - Error: ER_NET_PACKET_TOO_LARGE: Got a packet bigger than 'max_allowed_packet' bytes\n    at Query.Sequence._packetToError (/root/etherpad-lite/src/node_modules/mysql/lib/protocol/sequences/Sequence.js:52:14)\n    at Query.ErrorPacket (/root/etherpad-lite/src/node_modules/mysql/lib/protocol/sequences/Query.js:77:18)\n    at Protocol._parsePacket (/root/etherpad-lite/src/node_modules/mysql/lib/protocol/Protocol.js:279:23)\n    at Parser.write (/root/etherpad-lite/src/node_modules/mysql/lib/protocol/Parser.js:76:12)\n    at Protocol.write (/root/etherpad-lite/src/node_modules/mysql/lib/protocol/Protocol.js:39:16)\n    at Socket. (/root/etherpad-lite/src/node_modules/mysql/lib/Connection.js:103:28)\n    at Socket.emit (events.js:127:13)\n    at Socket.emit (domain.js:421:20)\n    at addChunk (_stream_readable.js:269:12)\n    at readableAddChunk (_stream_readable.js:256:11)\n    --------------------\n    at Protocol._enqueue (/root/etherpad-lite/src/node_modules/mysql/lib/protocol/Protocol.js:145:48)\n    at Connection.query (/root/etherpad-lite/src/node_modules/mysql/lib/Connection.js:208:25)\n    at /root/etherpad-lite/src/node_modules/ueberdb2/mysql_db.js:214:18\n    at /root/etherpad-lite/src/node_modules/ueberdb2/node_modules/async/lib/async.js:462:21\n    at /root/etherpad-lite/src/node_modules/ueberdb2/node_modules/async/lib/async.js:194:13\n    at /root/etherpad-lite/src/node_modules/ueberdb2/node_modules/async/lib/async.js:97:13\n    at Array.forEach ()\n    at _forEach (/root/etherpad-lite/src/node_modules/ueberdb2/node_modules/async/lib/async.js:26:24)\n    at async.forEach (/root/etherpad-lite/src/node_modules/ueberdb2/node_modules/async/lib/async.js:96:9)\n    at _asyncMap (/root/etherpad-lite/src/node_modules/ueberdb2/node_modules/async/lib/async.js:193:9)\n[2018-11-01 11:31:45.208] [INFO] console - graceful shutdown...\n[2018-11-01 11:31:45.213] [ERROR] console - Error: Connection lost: The server closed the connection.\n    at Protocol.end (/root/etherpad-lite/src/node_modules/mysql/lib/protocol/Protocol.js:113:13)\n    at Socket. (/root/etherpad-lite/src/node_modules/mysql/lib/Connection.js:109:28)\n    at Socket.emit (events.js:132:15)\n    at Socket.emit (domain.js:421:20)\n    at endReadableNT (_stream_readable.js:1101:12)\n    at process._tickCallback (internal/process/next_tick.js:152:19)\n[2018-11-01 11:31:47.617] [INFO] access - [LEAVE] Pad \"Testing123\": Author \"a.5HA7VHQC7GgRuPv8\" on client ymshg78FhMr7vquAAAAE with IP \"XXX.XX.XX.XXX\" left the pad\n. How can I export? Do I add a plug in?. thanks will do, noted another type of crash this week, which did the same to the pad.\netherpad version\n1.7.0 (20be994)\nDB\nmysql\nplug ins\nadminpads | 0.0.12 \nheadings | 0.1.6\nbrowser\neverytime crash has occured we have had a mix of firefox / chrome on mac and pc\n. [2018-12-04 22:49:14.037] [INFO] console - req.params.pad daytwo\n[2018-12-04 22:49:14.066] [ERROR] console - Error: Failed assertion: newlineEnd <= 0 in splitAttributionLines\n    at Object.error (/root/etherpad-lite/src/static/js/Changeset.js:39:11)\n    at Object.assert (/root/etherpad-lite/src/static/js/Changeset.js:53:13)\n    at Object.exports.splitAttributionLines (/root/etherpad-lite/src/static/js/Changeset.js:1285:15)\n    at getTXTFromAtext (/root/etherpad-lite/src/node/utils/ExportTxt.js:80:31)\n    at /root/etherpad-lite/src/node/utils/ExportTxt.js:58:12\n    at fn (/root/etherpad-lite/src/node_modules/async/lib/async.js:641:34)\n    at Immediate.<anonymous> (/root/etherpad-lite/src/node_modules/async/lib/async.js:557:34)\n    at runCallback (timers.js:757:18)\n    at tryOnImmediate (timers.js:718:5)\n    at processImmediate [as _immediateCallback] (timers.js:698:5)\n[2018-12-04 22:49:14.066] [INFO] console - graceful shutdown...\n[2018-12-04 22:49:14.067] [INFO] ueberDB - Flushed 1 values\n[2018-12-04 22:49:14.069] [INFO] access - [LEAVE] Pad \"daytwo\": Author \"a.EDFxja7Y1wnPdqOJ\" on client QeWgNIJUQSAdaf6FAAAD with IP \"109.148.17.163\" left the pad\n[2018-12-04 22:49:14.169] [INFO] console - db sucessfully closed.. another recent crash when trying to back up some of the broken pads using /export/txt. ",
    "fpoulain": "\nHey guys, just a reminder about responsible disclosure. Posting publicly without giving us chance to pick can be quite dangerous.\n\nHum ... actually it has been already disclosed because it is used by some nasty guys.\nAlso, I don't see how to report it in a non public way. The project description don't mention anyway private feedback loop for security issues. How do you think would I had reported it?. It could be a good idea to add some invitation \"found a security issue? tell us about it via ...\". Before opening this issue I spent few minutes on github's readme and on etherpad.org without finding such an invitation. Also, as a non native english reader, I could have missed the good terms to seek for.. ",
    "marksteward": "I couldn't find one either, but I did find you requesting a PR to add one https://github.com/ether/etherpad-lite/issues/2499.\nPerhaps consider just creating a https://securitytxt.org/ as a quick fix?. ",
    "ziofat": "I simply removed the limitation, no issues found yet.. ",
    "drebs": "Here's a PR for this: https://github.com/ether/etherpad-lite/pull/3517. @muxator, thanks for the input, i have updated the PR (and marked conversations as resolved, i hope that's ok).\n@Gared, do you think it makes sense to propose the same changes made here to the \"new pad\" plugin? At the very lease, the cryptographic quality of the randomness of the pad name provided by the server would be increased and would prevent possible collisions with pad names generated by outdated or malicious clients. Makes sense?. Great, fixed in: c83846d49b0157069ddf7bc396533cf7d23357a1. Fixed in: c83846d49b0157069ddf7bc396533cf7d23357a1. ",
    "fabin5": "\nIf you want to debug files on static/ folder, you can debug them. Now, if you want to debug files on server-side you need to run Etherpad on debug mode and have Node Inspector installed\n\nthanks. ",
    "miracleflame": "Hello @muxator,\nsounds fair, thank you for your response. \nSo I was looking for somewhat private means to share a text document with closed group of people... just like google docs but without being monitored. I've stumbled upon this.\nRunning Windows 10 just like majority of population as sad as it may sound. Following these steps:\n\nPrebuilt Windows package\nThis package works out of the box on any windows machine, but it's not very useful for developing purposes...\nDownload the latest Windows package\nExtract the folder\n\nNow, run start.bat and open http://localhost:9001 in your browser. You like it? Next steps.\n\nDone and looking into the next steps as what I see in the brower does not seem to offer some intuitive means to invite anyone to the contribution.\nEverything under Next steps sounds like technical mumbo jumbo with no hint indicating anything about sharing the doc. Okay looking into the Wiki.... FAQ.... Docs... All of which just contains more and more complex technical mumbo jumbo covering topics which are nowhere near to the very elemental first step of sharing the doc with someone online... Am I so dumb not having any clue after so much wasted time?. Ahhahhaha... so it was all about this. You know each time someone fails to figure things out by himself the reason is he expects it to be more complicated. Still consider adding some more elemental sentences regarding this to the first steps explanation. \nSimilarly I was wondering how do I create a pad named mypad and similarly gave up on searching through the articles and tried the most easiest possible way.\nStill I believe there is considerable number of people giving up entirely without asking just because those steps are not explicitly explained in common-folk language anywhere nearby.\nThank you for your support muxator. Close as you see fit.. ",
    "RickvLeeuwen": "Indeed, thank you!. Okay will do. \nI changed the translation on the wiki. When will that get pulled?. ",
    "lerugray": "Just another note, I've tried the solutions mentioned here and elsewhere for similar issues but none of them have worked. I have a feeling it is maybe a permissions issue but I have no idea how to check, not a developer myself. thanks. more errors\n```\nC:\\Users\\lerug\\Downloads\\etherpad-lite-win-1.7.0-96ac381afb>npm i ep_spellcheck\nnpm ERR! code ENOENT\nnpm ERR! errno ENOENT\nnpm ERR! enoent request to https://registry.npmjs.org/ep_spellcheck failed, reason: connect ENOENT /]localhost.org\nnpm ERR! enoent This is related to npm not being able to find a file.\nnpm ERR! enoent\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\lerug\\AppData\\Roaming\\npm-cache_logs\\2018-12-30T17_58_49_862Z-debug.log\nC:\\Users\\lerug\\Downloads\\etherpad-lite-win-1.7.0-96ac381afb>\n```\n. ",
    "msongz": "@muxator  I run etherpad on raspberry pi2 and with Dietpi image clean installed. then I config the mysql and not works with 10.1.37-MariaDB. . ",
    "wbt": "\nthe name \"etherpad/lite\" (it's second part) should stand for something.\n\nLike \"let's invent together engaged?\" \n\nthere are alread a ton of different WebRTS-Solutions available.\n\nAllowing one of those to be easily integrated is the target solution here.\n\nJust another platform (with registration, credentials etc) will create so much trouble and even scare users away. (up to now, the pad was really the lowtech approach. If people want stylish stuff with login, there is already other platforms. But there you get trapped in a tool discussion between compatiblity, ease of use, mobile dataplans, 2FA-logins etc.)\n\nWhy do you assume that adding an audio channel must necessarily require logins, registration, 2FA, etc.?\nAuthentication control for Etherpad collaboration is or at least should be a completely independent question.    \nUnfortunately, by not having an audio channel directly in Etherpad, people who want to collaborate together do have to find another platform and go through its registration/auth process separately and in addition to any that may apply to the EtherPad they're working on, so they might be less likely to participate in a collaborative effort that could benefit from their contributions.  If Etherpad supported an easy audio channel among current collaborators who want to use it, maybe fewer people would be \"scared away\" by the technology chosen by their collaboration hosts.\n. ",
    "akshaysgithub": "\n\nAlso, I have some default pad options, which I would like to completely remove. For example, the RTL option, I would like to remove it from pad-options. How can I do that?\n\n@akshaysgithub on pad.js of your skin, you can remove it using jQuery:\n$('#settings p:has(#options-rtlcheck)').remove()\n\nHi,\nAs you can see in the screenshot below, I have added the option you mentioned in my pad.js. But that has not changed anything. Can you also please tell me how I can increase the width of text area . Thank you. \nhttps://imgur.com/a/ASiQ4BR\nSkin link : https://framagit.org/colibris/etherpad-custom-colibris. ",
    "AirQuick": "Thanks, @muxator,\nUsing the exact same steps above but this time using you PR branch, the manual installation started to work:\n```console\n...\nC:>git clone --branch develop https://github.com/muxator/etherpad-lite.git\n...\nC:\\etherpad-lite>start.bat\nC:\\etherpad-lite>node node_modules\\ep_etherpad-lite\\node\\server.js\n[2019-02-11 09:55:35.389] [DEBUG] console - Running on Node v10.15.1 (minimum required Node version: 6.9.0)\n[2019-02-11 09:55:35.655] [INFO] console - All relative paths will be interpreted relative to the identified Etherpad base dir: C:\\etherpad-lite\n[2019-02-11 09:55:35.671] [DEBUG] AbsolutePaths - Relative path \"settings.json\" can be rewritten to \"C:\\etherpad-lite\\settings.json\"\n[2019-02-11 09:55:35.671] [DEBUG] AbsolutePaths - Relative path \"credentials.json\" can be rewritten to \"C:\\etherpad-lite\\credentials.json\"\n[2019-02-11 09:55:35.671] [INFO] console - Settings loaded from: C:\\etherpad-lite\\settings.json\n...\n[2019-02-11 09:55:40.296] [WARN] console - Etherpad is running in Development mode.  This mode is slower for users and less secure than production mode.  You should set the NODE_ENV environment variable to production by using: export NODE_ENV=production\n```\n. ",
    "gnd": "hi ! i have the same q .. . ",
    "Chocobozzz": "@raybellis yes we wait: https://github.com/ether/etherpad-lite/pull/3562/files#diff-89eec47c9f1563e5a2c346b4a649a7f0R680. ",
    "fgomezotero": "Image for docker enviroments. ",
    "jwevhn": "hi, @lpagliari, i have only the adminpads plugin installed.. First of all, many thanks for your support. I tried your pad https://beta.etherpad.org/p/LFP and found that if you export the part from line 1 to 14 there are different results in numbers when exporting to txt or exporting to pdf or word. Wrote it on the pad itself to show you, so when you're exporting again it's propably cascading.\nIn my own installation i found out, it's working when i'm accessing the pad directly with :9001.\nBut list's are not working when accessing with nginx-proxy. That narrows the problem, but doesn't solve it till now.. I'm sorry, i am not very confirme with CSS Styles. I found something like:\n\nI think it must be something wrong inside the nginx-proxy config. I' ll try to find that out, probably not until the beginning of next week, because lack of time now.. After some strange effekts i started with a new clone of git ep version 1.7.5 and it seems to work now as it should. I guess there was something left from former tests with the headings2 plugin and that doesn't seem to be ready for ep 1.7.5 or even not for 1.7.0 as described here:\nhttps://github.com/ether/ep_headings2/issues/19\nNevertheless many thanks for help.. ",
    "thegcat": "We noticed this when trying to see the history of a pad. There was no error in the interface, but the pad content shown was only the most recent version and not the history.. ",
    "leodeuhh": "Works perfectly, thank you for the quick reply!. ",
    "Eluminae": "Here what curl say:\n```\neddie@Terminator:~ 18:51\n$ curl https://pad.misterbanal.net/p/reedwade-glossaire -v\n   Trying 163.172.91.207...\n TCP_NODELAY set\n Connected to pad.misterbanal.net (163.172.91.207) port 443 (#0)\n ALPN, offering h2\n ALPN, offering http/1.1\n successfully set certificate verify locations:\n   CAfile: /etc/ssl/certs/ca-certificates.crt\nCApath: none\n TLSv1.3 (OUT), TLS handshake, Client hello (1):\n TLSv1.3 (IN), TLS handshake, Server hello (2):\n TLSv1.2 (IN), TLS handshake, Certificate (11):\n TLSv1.2 (IN), TLS handshake, Server key exchange (12):\n TLSv1.2 (IN), TLS handshake, Server finished (14):\n TLSv1.2 (OUT), TLS handshake, Client key exchange (16):\n TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):\n TLSv1.2 (OUT), TLS handshake, Finished (20):\n TLSv1.2 (IN), TLS handshake, Finished (20):\n SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256\n ALPN, server accepted to use h2\n Server certificate:\n  subject: CN=pad.misterbanal.net\n  start date: Mar  2 08:59:59 2019 GMT\n  expire date: May 31 08:59:59 2019 GMT\n  subjectAltName: host \"pad.misterbanal.net\" matched cert's \"pad.misterbanal.net\"\n  issuer: C=US; O=Let's Encrypt; CN=Let's Encrypt Authority X3\n  SSL certificate verify ok.\n Using HTTP2, server supports multi-use\n Connection state changed (HTTP/2 confirmed)\n Copying HTTP/2 data in stream buffer to connection buffer after upgrade: len=0\n* Using Stream ID: 1 (easy handle 0x558e78b95f20)\n\nGET /p/reedwade-glossaire HTTP/2\nHost: pad.misterbanal.net\nUser-Agent: curl/7.64.0\nAccept: /\n\nConnection state changed (MAX_CONCURRENT_STREAMS == 250)!\n< HTTP/2 502\n< content-type: text/plain; charset=utf-8\n< content-length: 11\n< date: Tue, 19 Mar 2019 17:53:07 GMT\n<\nConnection #0 to host pad.misterbanal.net left intact\nBad Gateway\n```\nI really have no logs anywhere. Traefik doesn't show anything in debug log mode. The etherpad container too but supervisord restarted the process sometimes:\n\n\n$ sudo docker service logs -f etherpad_app\netherpad_app.1.tbhdkf3fbc8d@prodb    | 2019-03-17 13:03:01,377 CRIT Supervisor running as root (no user in config file)\netherpad_app.1.tbhdkf3fbc8d@prodb    | 2019-03-17 13:03:01,400 INFO RPC interface 'supervisor' initialized\netherpad_app.1.tbhdkf3fbc8d@prodb    | 2019-03-17 13:03:01,400 CRIT Server 'unix_http_server' running without any HTTP authentication checking\netherpad_app.1.tbhdkf3fbc8d@prodb    | 2019-03-17 13:03:01,400 INFO supervisord started with pid 1\netherpad_app.1.tbhdkf3fbc8d@prodb    | 2019-03-17 13:03:02,404 INFO spawned: 'etherpad' with pid 8\netherpad_app.1.tbhdkf3fbc8d@prodb    | 2019-03-17 13:03:04,005 INFO success: etherpad entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\netherpad_app.1.tbhdkf3fbc8d@prodb    | 2019-03-17 17:04:47,869 INFO exited: etherpad (exit status 1; not expected)\netherpad_app.1.tbhdkf3fbc8d@prodb    | 2019-03-17 17:04:48,873 INFO spawned: 'etherpad' with pid 19\netherpad_app.1.tbhdkf3fbc8d@prodb    | 2019-03-17 17:04:50,476 INFO success: etherpad entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\netherpad_app.1.tbhdkf3fbc8d@prodb    | 2019-03-18 13:27:59,406 INFO exited: etherpad (exit status 1; not expected)\netherpad_app.1.tbhdkf3fbc8d@prodb    | 2019-03-18 13:28:00,454 INFO spawned: 'etherpad' with pid 30\netherpad_app.1.tbhdkf3fbc8d@prodb    | 2019-03-18 13:28:01,872 INFO success: etherpad entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\netherpad_app.1.tbhdkf3fbc8d@prodb    | 2019-03-18 19:41:17,858 INFO exited: etherpad (exit status 1; not expected)\netherpad_app.1.tbhdkf3fbc8d@prodb    | 2019-03-18 19:41:18,861 INFO spawned: 'etherpad' with pid 41\netherpad_app.1.tbhdkf3fbc8d@prodb    | 2019-03-18 19:41:20,470 INFO success: etherpad entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\netherpad_app.1.tbhdkf3fbc8d@prodb    | 2019-03-19 08:31:35,707 INFO exited: etherpad (exit status 1; not expected)\netherpad_app.1.tbhdkf3fbc8d@prodb    | 2019-03-19 08:31:36,727 INFO spawned: 'etherpad' with pid 52\netherpad_app.1.tbhdkf3fbc8d@prodb    | 2019-03-19 08:31:37,852 INFO success: etherpad entered RUNNING state, process has stayed up for > than 1 seconds (startsecs)\n. I leave the server running, if someone want to test.. ",
    "jaseg": "Everyone who has access to the pad (since otherwise session2pad should not exist). I guess it would not work to simply limit this to the pad's creator due to the volatile nature of session/author ids in etherpad-lite. If for some reason the creator's session is invalidated, there would be nobody to change the pad password anymore. I think without getting a full-fledged user account system with passwords and stuff this is the most simple solution.\n. Indeed it is not useful for giving untrustworthy people access to your pad. But it works e.g. if you want to share a pad with a some people: One creates a pad, sets a password, and tells this password to everyone who shall access it.\n[edit] The password is not meant to protect the pad against its users but to protect it against \"vandals\" and other people you do not want to access it in the first place. [/edit]\n. ",
    "kpcyrd": "Are you sure that's correct?. "
}