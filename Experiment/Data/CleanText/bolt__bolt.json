{
    "hansfn": "OK, I can't do attachments on Github. Here's the patch:\n``` diff\ndiff --git a/app/app_backend.php b/app/app_backend.php\nindex 7c9b268..eb59f9f 100644\n--- a/app/app_backend.php\n+++ b/app/app_backend.php\n@@ -308,7 +308,7 @@ $backend->get(\"/prefill\", function(Silex\\Application $app) {\n    $content = $app['storage']->preFill();\n\n\n$content .= \"Go back to the Dashboard.\";\n\n$content .= \"Go back to the Dashboard.\";\n$app['twig']->addGlobal('title', \"Fill the database with Dummy Content\");\n```\n. Yes, GitHub is nice. I'm just used to attaching stuff ;-)\n\n\nPS! I tried with \"path\" first, but path('/') and similar didn't work (of course). Didn't think of path('dashboard').\n. Sorry, pvankouteren, didn't mean to step on your toes.\nShort explanation: htmlspecialchars should not encode already encoded characters. (If \"\u00e5\" is written as &aring, it should leave it alone. It's of course better to never use HTML entities for such characters. It's not needed since Bolt is using UTF-8, but some editors insists on using them.) Anyway, setting double_encode to false in htmlspecialchars fixes this\n. And, related, you need to fix this on bolt.cm too - try http://bolt.cm/whatever \n. > You have enabled debugging in your config, which results in the backtrace. If you set debug to false, you won't get it. That's desired behavior.\nA visitor should never see a full backtrace no matter if debug is turned on or not. This is about security. (And in the configuration it says: \"Show the 'debug' nut in the lower right corner for logged-in user.\") Secondly, of much less importance, I haven't enabled debugging - it's apparently the default.\n\nThe website is running an older version of bolt.\n\nOf course I understood that, but it needs to be fixed now. Either by upgrading or just removing the printing of backtraces.\n. No, not really - it's currently more of a feeling than a fact. It also depends what you mean with simple - simple code or simple to use? I mean, an advance feature can be simple to implement in code ... I'll be more specific (if I can) when I have played more with Bolt - it's a month or two since the last time.\n. > I wonder if there really should be a CDATA tag on row 586 in bolt/app/src/Bolt/Content.php? The html-code will not be parsed in some RSS-readers then. \nYes, it should be CDATA. However, the HTML inserted in the CDATA  section shouldn't be escaped. The HTML code is parsed by the RSS readers (but since it's escaped it looks as nothing happened). It probably works just fine if you remove the htmlspecialchars line. Replace\n``` php\n                $value = strip_tags($value, '<' . implode('><', $allowedTags) . '>');\n            $result = htmlspecialchars($value, ENT_COMPAT | ENT_XML1, 'UTF-8', false);\n\n```\nwith\nphp\n                $result = strip_tags($value, '<' . implode('><', $allowedTags) . '>');\n. Both fixes are correct - either you keep CDATA (as in my fix) or you use htmlspecialchars. The problem with the current code is that both is used. (The reason my fix didn't work was the signature for trimText which caused tags to be stripped.) My current patch.\ndiff\ndiff --git a/app/src/Bolt/Content.php b/app/src/Bolt/Content.php\nindex 56681d7..478f57c 100644\n--- a/app/src/Bolt/Content.php\n+++ b/app/src/Bolt/Content.php\n@@ -496,11 +496,9 @@ class Content\n                 // Strip other tags\n                 // How about 'blockquote'?\n                 $allowedTags = array('a', 'br', 'hr', 'h1', 'h2', 'h3', 'h4', 'p', 'strong', 'em', 'u', 'strike');\n-                $value = strip_tags($value, '<' . implode('><', $allowedTags) . '>');\n-\n-                $result = htmlspecialchars($value, ENT_COMPAT | ENT_XML1, 'UTF-8', false);\n+                $result = strip_tags($value, '<' . implode('><', $allowedTags) . '>');\n                 if ($excerptLength > 0){\n-                    $result = trimText($result, $excerptLength);\n+                    $result = trimText($result, $excerptLength, false, true, false);\n                 }\n                 return '<![CDATA[ ' . $result . ' ]]>';\n             }\nThere is still a serious problem with trimText - it can trim in the middle of tag breaking links and more. This is in addition to the removal of \"http://\" as reported by mattiaslundback.\nFinally, there is a problem with the guid - a line break - and a problem with the feed entry link (repeating parts of the URL). These two problems I'll fix myself.\nPS! Whenever we work with the feeds, don't forget to run it through the validator at http://validator.w3.org/feed/ \n. Just a quick remark: Another problem with trimming HTML is that we really want to trim the displayed text and not the HTML code. \n. Whatever Drupal uses is fine with me ;-) Anyway, I agree that two\nlevels is sufficient.\nHans\nPS! How much complexity/additional code is this fix adding to Bolt?\nMaybe it's better to always produce stripped text and if people need an\nexpcert/summary for an RSS feed, they add an expcert field to their\ncontent type?\n. Yes, it's open on purpose. I fixed the link element (in the feed item), but not links in the description element. \nPS! Regarding commit be7a44f: \"{{ paths.hosturl }}\" is wrong in the link element (in the feed channel info). It should be \"{{ paths.rooturl }}\" as it was.\n. One more thing. We/Bolt should not try to find/guess the region (territory) part of a locale. It's the user setting up Bolt that needs to enter this, the correct locale, in the configuration. \nPS! We can help the user and tell him if the locale isn't supported since setlocale returns an empty string for unknown locales.\n. You might want to review the code that sets the cookie domain - server name might be incorrect if you are visiting the domain using one of it's aliases. Ref http://sourceforge.net/p/pivot-weblog/code/4268/\n. I'm probably stealing this issue, but the title is perfect ... I just installed version 1.3.1 - http://bolt.cm/distribution/bolt_latest.zip - and it doesn't use htmlmaid, but I still get a fatal error related to Xliff loading: No DTD found when running Symfony\\Component\\Translation\\Loader\\XliffFileLoader->parseFile()\nI just commented out \n'xlf' => new TranslationLoader\\XliffFileLoader(),\n\nin src/Bolt/Provider/TranslationServiceProvider.php since Bolt currently seem to use YAML files for translations. (The XLIFF files I have seen contain one translation which is also present in the YAML fil.)\nAdded: Forget it. I get the same error from Symfony which of course isn't solved by uncommenting above. It's probably related to my old PHP - 5.3.10 - but Bolt claims to run with 5.3.3. Hm, if you are going to drop 5.3 support it might not be worth it tracking this down.\n. Why 128?\nphp\n$slug = makeSlug($slug, 128);\nI understand that 128 is chosen to be big enough to handle a slug that has an appended number (because of collisions), but I think it would be much better to use -1 (for example) to indicate no substr-ing at all. I suggest\nphp\n$slug = makeSlug($slug, -1);\nand then in the makeSlug function:\nphp\nif ($length > 0) {\n    $str = substr($str, 0, $length);\n}\n. ",
    "bobdenotter": "In this case path('dashboard') would be better. The frontend in Bolt has some custom functionality, but in the backend, i'd like to keep it as much in the Silex way as possible. \nAnyhow, consider it fixed!\n. Actually, this github stuff works pretty smooth. I just did a commit with 'fixes #1'  in the description, and it's automatically linked here, and it closes the issue. Sweet. :-)\n. ~~Seems to work for me. What browser/OS are you using? And what is the .js error?~~\nNevermind, i could reproduce in Firefox. Will fix. \n. Hi, thanks for the suggestion, but we'll stick with the util::var_dump output we have now. It's simple (in the browser at least), and as such it fits with the scope of the project: simplicity. :-)\n. Agreed: The 'simple' one we have now suffices for Bolt. If people want more options, feel free to create an extension for it. :-)\n. Unit tests (and/or automatic testing) is definitely on the list of things\nwe'd like to add. I'm not sure when we'll be able to start doing this, but\nideally somewhere before the 1.0 version in january.\nOn Wed, Oct 3, 2012 at 3:21 PM, Jean Pimentel notifications@github.comwrote:\n\nI really like this idea but I didn't see any tests.\nI work with many websites made with Wordpress and the biggest problem for\nme is when they release an update and I have to check all my sites to\nverify that it is working. Nowadays, given the quantity of lines of code,\nwrite these tests for Wordpress is very close to impossible.\nAnother standpoint is for contributions on code. I need to verify what is\nworking correctly before I add some codes and verify that it still works\nafter this.\nWhat do you think about it?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bobdenotter/bolt/issues/5.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\n. I think closing this one would be best, and break it down into smaller issues \"add tests for X\", \"add tests for Y\". \n. I'm working on this, this week. \nBasically, it'll allow for simple relations between content types. Not parent/child, just yet.\nWhat it'll do, is allow for any content-type to allow linking to one or more other records. For example, say you have 'books' and 'authors'. You'll want to be able to link a book to its author. In the template you can then access it using {{ book.related.author }}, which gives a new Bolt\\Content object, just like if you would have fetched it using {{ setcontent }}.\nExpanding it to more complex relations will be an 'after 1.0' feature, if there's demand for it. \n. This is fixed.\n. True. But, should it be in \"the Bolt core\", or should it be in an extension? \n. Currently there are three levels: \n- Developer (the person(s) who build a site using Bolt)\n- Admin (the person(s) who administrate a website, built with Bolt)\n- Editor (the person(s) who write/edit content in a Bolt site)\nObviously, these roles can overlap and often these will be the same people. What i think the different levels should be allowed to do:\n- Editor: edit (add, change, delete) records in the content-types that the user is allowed. This means that it should be possible to have an editor that can edit 'news', but not the 'pages' in a site. I think i'd like to keep this simple: if a user is allowed for a certain contenttype, he/she will be able to edit all records in that content-type, regardless of who created the record initially. Editors are allowed to upload images/documents to go along with the content they create.\n- Admin: allowed to edit records in all contenttypes. Allowed to administrate the users of 'editor' level. This means an admin can add or disable an 'Editor', but not add or modify other 'Admin' users. Admin users can upload files, but they can also use the 'uploaded files' screen, and delete uploaded files. Editors are not allowed to modify the .yml files in app/config, nor the templates in theme/\n- Developer: Can do everything. \nThat's basically it, I think. Do you agree? :-)\n. The users are only for people who have access to the backend. And yes, let's hardcode them. :-)\nAs for comments: Just use Disqus or Facebook comments, as they work just fine. \nThat said, we are working on an extension for a site for a client, that allows authentication for visitors using either facebook, openid, twitter or google. \n. Well, the current functionality is OK, I guess. Some things that we need to verify:\n- Is what we do now safe: \n  - Can bolt be tricked into believing a session is active, when it's not? (don't think so)\n  - Can sessions be 'stolen' by using an otherwise valid cookie/session-id on another client/address? (nope, doesn't work)\nApart from that: Bolt now always does a start_session, which means that a bolt_session cookie is set, even for visitors on the frontend of the website. We should check if it's possible to only start a session for users in the backend, and not for 'regular visitors' \n. yes, i guess so. And also: Let's make extra sure one more time that the way we do authentication is secure.\n. Agreed. \n. I think this is related to #52.\n. I don't know Pixlr, but it looks nice. Definitely a good candidate to use.\n. Information added in original description. \n. Cool! Might as well assign it to yourself, then. ;-)\n(i've been off the radar for a couple of days, by the way. Had a bit of the flu. #sneeze #cough )\n. Sorry, busy, busy, busy.. Writing a reply right now! :-)\n. This is already done. \n. As an extra layer of security, i'd like to make it so that only files with certain extensions can be accessed in files. \nSay, for instance, a \"hacker\" has managed to upload a file called info.php to files/, then i want that file to be served as 'plain/text' or something similar as long as it's nog executable. \nSee the second paragraph under 'PHP' here: https://github.com/blueimp/jQuery-File-Upload/wiki/Security \n. I like option 2 best, I think.\n- If somebody uploads a .php file intentionally, you can at least view it. \n- Option 3 is the wrong way around: what if the server allows .php3 files? Or something else exotic. Imho it's better to whitelist the allowed extension.\n(if you disagree, feel free to open the issue again. ;-) )\n. Please use our forum for support questions: http://forum.pivotx.net/viewforum.php?f=17. We're trying to use Github's issue tracker for bugs and new features only. \nTo make it easier to help you, include as much relevant information as possible. What error message are you getting? What DB-setup are you using? What version of Bolt?\n. After thinking about this, i figured it was indeed an issue with the code. Grab the updated file from the site, of follow the instructions here to fix it manually: \nhttp://forum.pivotx.net/viewtopic.php?p=15323#p15323\n. @jaitsu87 Thanks for the PR, but i'm not sure what this fixes. According to the Silex docs having just a number should work, and in my tests it doesn't change the behavior as far as i can tell.\n. I've noticed the {{limit}} issue too, but i ignored it until now, because it wasn't a showstopper for me. Anyhow, you changes didn't make a change for me: it still outputs the 'broken' message. Did your change fix it for you? See screenshot: \n\n. The second error for the password is because of the additional manual check, below:\nif (!empty($pass1) && strlen($pass1)<6 ) {\n        $form['password']->addError(new FormError('This value is too short. It should have 6 characters or more.'));\nRegardless, I can't seem to get {{ limit }} to display the limit as a number. If it works for you, let me know. I wrote this part of the code a few months ago, and i believe the Silex/Symfony forms component did change quite a few things. I might have to  go over it thoroughly, to find what I'm doing wrong here. \n. The error that you're seeing now is fixed in Git. Make sure you have a recent checkout.. Or, replace the relevant section in app_backend.php, around line 483.\n// If we're adding the first user, add them as 'developer' by default, so don't\n// show them here..\nif ($firstuser) {\n    $form->add('userlevel', 'hidden', array(\n        'data' => key(array_reverse($userlevels)) // last element, highest userlevel..\n    ));\n} else {\n    $form->add('userlevel', 'choice', array(\n            'choices' => $userlevels,\n            'expanded' => false,\n            'constraints' => new Assert\\Choice(array_keys($userlevels))\n        ))\n        ->add('enabled', 'choice', array(\n            'choices' => $enabledoptions,\n            'expanded' => false,\n            'constraints' => new Assert\\Choice(array_keys($enabledoptions)),\n            'label' => \"User is enabled\",\n        ));\n}\nIn composer.json we're using the version as per the Silex documentation: \n\"require\": {\n    \"symfony/form\": \"2.1.*\"\n}\nSo, I'm pretty sure we're using the correct version of the Form Component.\n. .. Especially for geolocation and markdown fields. \nAdd geolocation to contenttypes.dist, too.\n. Done! \n. Done!\n. Thanks, I'll probably have some time available tomorrow to check and merge, but at first glance it looks fine. \n. Your code gives a menu with one subitem a class \"firstlast\". I'm going to merge in, and tweak the spaces. Thanks!\n. See also 9316e6cc011e27f928e2517616e0c902eb19a791\n. Thanks. At first glance your fix seems fine. I'll probably check it tomorrow, and merge in your pull request.\n. I'm not sure whether I should pull this, into the bolt repo, or whether we should just go ahead and make a provision for extensions to be installed from their own repo's, with Composer/Satis. What do you think?\n. The other extensions will be taken out of the basic distribution, and probably go into their own (small) repo's. \nIdeally, i'd like for Bolt to have a system for installing and updating extensions that works smoothly for both users that prefer the commandline, as well as users that like to download .zip files and upload them through FTP. \nPerhaps we should make a seperate extensions.yml file? There has to be a centralised list of extensions somewhere, that could be made to serve tailormade composer.json files for the extensions. \n. This was on the \"to do eventually list\", but you make a good point. I'll add it for 0.9\n. Would be nice to have, but not very high on my personal list. IMHO, spending time on documentation and bugs is more important, at the moment. I'm not stopping you though, if you do have time for it. :-)\n. Oh, ok. If that's all, we should definitely do it. :-) \n. I tried tagging earlier, but for some reason it 'didn't work'. No feedback, no error messages, the tag was just ignored by Github for some reason. \nIf you want to try: feel free. I'm packaging a 0.8.5 regardless, since the .zip contents are different from what's in Git anyway..\n. @richardhinkamp I'm aware that it would be slightly better if vendor/ and app/ were outside the webroot, but the way that it currently is, was a very deliberate choice. Bolt is meant to be simple, and as such i really feel that it should be easy to setup for people. Even if they are not as technically versed as you, or simply because they're stuck on shared webhosting, where you can't put things outside the webroot. If you feel like discussing how to fix this without sarificing ease of use or locking out types of users, please open a new issue for it, and we'll talk about it. :-)\nOr, did i completely misread what you're doing? did you add bolt to an existing composer.json file? \n. @pvankouteren FYI, just tagged 0.9.5\n. Aren't most of them 'locked down' already? Currently the ones that aren't are Guzzle (will fix that) and Silex (which we should lock down, one they finally declare it to be stable)\nWith regard to that last point, see: https://groups.google.com/forum/?fromgroups=#!topic/silex-php/4AhR85GToeQ\nFor most of the others, I just used the 'recommended' version, according to the Silex docs. For example: \nhttp://silex.sensiolabs.org/doc/providers/form.html\nWe need Doctrine DBAL 2.3.2, though, mostly because of this: https://github.com/doctrine/dbal/pull/226 (which landed in 2.3.2)\n. I've submitted it. Might take a short while to show up: \nhttps://packagist.org/packages/bolt/bolt\n. Looks like it's done! :-)\n. This has been done. :-)\n. See also: https://github.com/bobdenotter/bolt-docs/commit/b777a1c2e5ffed04e2c9aa628d0418dfd290d38f\n. Awesome! Will merge this later today!\n. I sort of prefer it without the double extension, but you are right that is like a convention to include it. :-)\n. I know, this is a weird one. I haven't been able to get it right, even though I think the code is how it should be. See also this pull-request, where we tried to fix it (unsuccessfully): https://github.com/bobdenotter/bolt/pull/22\n. This is an odd issue. I think it's a bug, but we can't be sure. If i can find some time, i'll try to set up a basic test case, so we can file a bug on the silex repo. (Unless you have other ideas, that is)\n. No, I haven't spent any time on this yet. \n. So, you're saying you don't know either why it's not working as it should? ;-)\nI guess i'll just have to strip it down to a bare bones example, so we can either pinpoint where we did it wrong, or it might be a bug in silex. \n. No, i haven't looked into it yet. I've been working on fleshing out\nTaxonomies and Relationships, mostly.\nOn Thu, Jan 3, 2013 at 3:58 PM, Patrick van Kouteren \nnotifications@github.com wrote:\n\nJup and the only thing that could be done is indeed strip it down and\ncheck by trial-and-error what is causing this to happen. I got some time to\nspend again, so I can try and start stripping it down (unless you have\nalready started that is..?)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bobdenotter/bolt/issues/36#issuecomment-11846227.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\n. After you've mentioned bootstrap/wysihtml5 on Twitter, i've looked into it. Some of my thoughts:\n- It's definitely lightweight. This is a big plus.\n- Its Look and feel would make it fit in with Bolt smoothly. \n- It has problems when pasting from Word or other sources, because it doesn't strip the HTML. CKeditor strips all unwanted Word-HTML to clean, simple <p>'s and other basic, semantic HTML.\n- It inserts unwanted elements in the HTML it generates: things like <span id=\"_wysihtml5-undo\" class=\"_wysihtml5-temp\"></span> and random <p>&nbsp;</p> blocks between paragraphs or lists.\n- It doesn't have an 'view source' option. Which is problematic, especially considering the points about the odd HTML it inserts. I notice that wysihtml5 itself does support 'view source', so we could probably add that easily.\n- The current version of wysihtml5 is '0.3.0', and was released over half a year ago. I'm worried about whether there will ever be a version that's considered to be stable, and at which timeframe. I wouldn't want to invest in a tool that is not going to be developed further.\nAll things considered, I think we should stick with CKEditor for the time being. The fact that is has been around for something like 10 years, does show that it's a mature product, and it's not going to be abandoned anytime soon. \nThe only issue with CKEditor that i currently have is its size: It's big, because it has way more features than we need. I've stripped most of these from the toolbar, but that means it's still in the code. Once CKeditor 4 gets closer to release, i'd like to look into its build scripts, to see if we can use that to compile a slimmer version.\n. See also: https://github.com/bobdenotter/bolt-docs/commit/eb2e02ab9f3530273138c75bcd69382e39774c1c#source/templatetags.md\n. Hi,\nThat would be awesome. The current english and dutch versions are written by us, simultaneously. I think some things might change in the structure of the documentaiton itself before the 1.0 version in january, so perhaps it would be best to wait for a bit, just so you're sure the structure won't change. \nWe'd be very gratefyl if you would provide a spanish translation, but i'd hate for you to do work that you'll partially have to redo if we change stuff. :-)\n. Hi Dakanca, \nI've replied in the other thread, but i'll copy it here, for people who might find this through search.. If you'd like to help provide an additional translation, read the brief documentation: https://github.com/bobdenotter/bolt/wiki/Adding-a-translation\nPlease let me know if you get stuck, because we'll gladly help you get started. \n. Nope, let's close this one. \n. I actually bumped into the same issue today, so i'll most likely be able to reproduce and fix it. \n. Note: this doesn't solve the issue yet. Just helps me pinpointing it. Expect a fix soon. :-)\n. So, the issue might be fixe now, and it might not be. Regardless, if you could try updating, then it will either have fixed the problem, or it gives you a better error, or at the very least it will give us a hint where to continue looking. \nSee the screenshot:\n\n. So, for some reason there's no message about the missing template, but bolt still falls back to the error template. \nThe (contenttype) in the notification means that you've set entry.twig in your contenttype.yml, which should be OK.\nAre you positive that the file /theme/svbtle/entry.twig exists, and is readable by the webuser? \nDoes the 'log entries' box in the debug bar mention anything? \n. Yes, if i could have access to the ssh (and Bolt itself, of course), i'm pretty sure i can figure out what the bug is. Feel free to mail me at bobdenotter@gmail.com.\n. You should check your config.yml. There should be a line record_template: blabla... in it. If not, copy it over from config.yml.dist. \n. Since we're already using a lot of Symfony components, Assetic is an obvious option to use. However, like you say: It's a bit 'heavy' for Bolt. \nBesides that, I want to provide an option that allows for minifying transparently to the user. With assetic, you'll have to make sure your templates are set up to use it. Using Minify or Munee, we can just group and minify the files, without the need for any modifications to the templates or any effort by the user.\n. I'm still leaning towards Munee, since it looks less wieldy and it also parses Less files. I believe neither parses Sass files, right? That's a shame, because that'd be great to have.\nRegardless, whichever option we choose, it should be implemented as an extension. That way it's optional, and it can always be replaced by something else. \n. The thing is, while I absolutely agree that Assetic is more powerful than Munee or Minify, the motto of Bolt is \"simple and sophisticated\", so I'm partial to a solution that 'just works'. I think we'll probably end up implementing two extensions for this: one 'fire and forget', and one that provides more options for tweaking and configuring. :-)\n. Another possible option: https://github.com/matthiasmullie/minify\n. Because we shouldn't be reinventing the wheel: Should we do even do this? Isn't Grunt/Gulp better suited for this? \n. I'm on it. Pretty easy to fix. :-)\n. The next push will fix part 1 of this request.. You'll be able to do this: \n{% setcontent entries = \"entries\" limit 10 orderby 'RANDOM' allowpaging %}\nWhat it doesn't do yet is exclude a 'current' item. You can fake that in the loop itself, while it hasn't been resolved properly though, using a simple {% if %} in the {% for %} loop. \nTo fix this properly, i'll need to change the parser for {% setcontent %}, because apparently you can't pass variables, yet. See also #49.\n. So, this is mostly fixed in 98f69d77ef. Closing this issue, the other part is dependant on #49.\n. Wasn't really a bug, but i did make the docs more descriptive.. See: https://github.com/bobdenotter/bolt-docs/commit/7848307f480fb6aef0929e955419ebd7f7b4f5a6\n. Crap! I'll fix it! \n. I agree. But, if it's up to me, this is an 'after 1.0' feature. \n. If you have the time, and want to work on it, you're of course more than\nwelcome. :-)\nOn Tue, Dec 18, 2012 at 9:53 AM, Patrick van Kouteren \nnotifications@github.com wrote:\n\nI find it a nice to have, so IF I have some time in the next couple of\nweeks I might try to slip it in :)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bobdenotter/bolt/issues/52#issuecomment-11478265.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\n. This has been implemented this week by @doertedev.\n. Hi, that's odd indeed. I'd like to see it, before i can say anything sensible about it. \n. Sure. You can also email me at bobdenotter@gmail.com .\nOn Fri, Dec 7, 2012 at 3:27 PM, EleonoreD notifications@github.com wrote:\n\nCan I give you the url of my website in a private message ?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bobdenotter/bolt/issues/54#issuecomment-11131568.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\n. Should be fixed. :-)\n. This is fixed in git. I'll repackage an 0.8.5 this afternoon. \n. Yes, this needs to be fixed. I'll assign it to myself. \nWhile this is not 'a big deal' by itself, it is good practice to not allow any leaking of sensitive information, regardless of how harmless it might seem by itself. Most security issues in the wild are usually a combination of issues that might seem irrelevant by itself, but combined they might allow for a serious security threat. \nSo, in short: Let's just fix this, because it can be prevented, ande there's no reason not to, just to be sure. :-)\n. I replied just a second before you. ;-)\n. I've been killing darlings left and right.. ;-)\nAnything in particular that you think that has outgrown the 'lightweight & simple' part of our motto? \n. Primarily \"simple to use\", but also \"keeping features as simple as possible, while keeping them useable\". It's a gray area, though. \nYou're right: Something complicated (for a user) can be easy to code, just as something simple for a user could be very, very hard to do right in code. If you bump into things that you feel could be simpler, or should be moved to an extension, let me know. \n. Yes, let's focus on the last few issues for now, and not introduce new stuff before 1.0. \nYou are both right that extensions can be very powerful and flexible in Silex/Bolt. Let's just keep doing what we're doing now until we hit 1.0. After that, we should discuss the focus, and determine the course for 2.0. \nPerhaps we should then decide to split config files, perhaps not. Perhaps feeds should be an extension, perhaps not. \n. @pvankouteren Yes, exactly. Let's keep on the current track for 1.0. After 1.0 we will discuss and re-evaluate the direction and scope of Bolt, and go from there. :-)\n. Actually, putting it on a wiki-page sounds like a good idea. :-)\nPerhaps we should discuss what \"our motto\" is, and then the scope of the project and preventing feature-creep are aspects of staying true to our motto. \n. I'll fix this. Should be no more difficult than adding an extra check in lowlevelchecks.php.\n. Aha, I remember why i didn't do this, before. If you're using mysql or postgresql, the folder app/database is irrelevant. But, when the checks are done, the config.yml isn't loaded yet, so we don't know if we should check it. \n. I think I agree, but i am a bit cautious. Let's try this after 0.9 is released, so we have time to fix what's broken in time for the new release. \n. I'm quite sure that 19051f3ae97f54b233d5c9aed76cb0546ae71c49 was the last part of the broken output. Closed. \n. Hmm, that might be simpler than using: return new \\Twig_Markup($output, 'UTF-8');. :-)\n. This is done for now. The remaining ones are in 'nut' and 'lib'. Will be phased out later. \n. You're right. :-)\nBut, we're going to refactor the extensions, so they're in classes, and at the same time we'll phase out the global $app's there. I'm going to make seperate issues for that.\n. Fixed in several earlier commits today. \n. Use Symfony\\Component\\HttpFoundation\\Request instead. \n. So, the consensus is on shipping extensions with a config.yml.dist.\nFollowup question: Let's say there are no write-rights on a specific extension folder, when it's enabled. Should Bolt either:\n1. Ignore it, and just show a warning in logs\n2. Ignore it, and use config.yml.dist in a 'read only' manner, as if nothing is wrong\n3. Use config.yml.dist in readonly and show a warning in the logs\n4. Use config.yml.dist in readonly and complain loudly on the dashboard.\n5. Break down, and demand for it to be fixed before continuing\n6. Use another folder to save the config.yml. i.e. app/config/extensionname/config.yml\n7. Something else.\nI think option 2 would be the most \"forgiving\" to the user, but it would enable bad behaviour: Lazy people  would just edit the config.dist.yml and never copy it. Then, when the extension is updated, they lose their settings, and start complaining. \nOption 3 would be similar, since logs are easy to ignore. \nMy personal choice would be option 4. \n. I went for my own suggestion number 4. :-)\nI didn't reference a specific push, but most of the work was done in cfd84cb5284eca64facf64e4dd9ca340d326d664.\n. @pvankouteren Can you check if you agree with @mattiaslundback and @hansfn's fixes? If so, let's commit them. :-)\n. This was broken after ArrayAccess was implemented. The pseudo-magic __call is bypassed, preventing {{ record.gallery }} from returning decoded JSON. \nAssigned to @marcelfw \n. nevermind that, it seems to be fixed after all. \n. Perhaps we could use something like htmlawed? Using that we could just trim the string to the desired length, and use htmlawed to fix any broken HTML. \n. True, but when you're trimming text with HTML in it, you should be aware that it'll always be an approximation, depending on how much HTML is in it, and how the HMTL influences the 'flow' of the trimmed text. \nIn my opinion this is fine. If you want to be sure you get the exact amount of characters, you should use excerpt(), which returns flat text of the exact requested length. \n. Well, i think we're still discussing what it should do. And if 'good enough' is OK, or whether it should be ideal. In short, the ideal case should be:\n```\ntrimtext(\"123456789012345678901234567890\", 20) =>\nstr(27) \"12345678901234567890\"\n```\nSo, it should make sure that tag-wellformedness is maintained (no 'open' tags remaining), and also that the $length you specify is the length of the text, and does not necessarily include any html tags. \n. Ah, sorry, missed this one.. The output should be:\n<a href=\"http://www.example.org\">This is an</a> and http://www\n. Just a guess: Does it trim <i> and <b> because it is set to XHTML, and <em> and <strong> is passed through? Nevermind, i didn't read all theway through, and missed that you've moved on to HTMLawed.\nAlso: two levels is fine with me. It's two more than zero. ;-)\n@hansfn The excerpt function itself is used in quite a few places inside Bolt itself, so i'd rather not removed it. \n. Is this still open on purpose? It seems like you've fixed this already. \n. Oops. Changed it back! \n. I say: let's close it. I haven't heard complaints about the RSS feeds in a while, so I think we're good. \n. If we can set the locale easily, that'd be pretty handy. :-)\nOn Fri, Jan 4, 2013 at 12:49 PM, Patrick van Kouteren \nnotifications@github.com wrote:\n\nProbably yes, I'll take a look at it asap\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bobdenotter/bolt/issues/79#issuecomment-11880646.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\n. Definitely the latter! \nIf we use strftime() we probably can format dates according to the locale: setting in config.yml, without having to translate them ourselves. \n. Thanks for the link.. That should make it pretty trivial to add. :-)\n. Yes, a mapping would do fine for now.. It might not be the most elegant, but i don't think it's a big issue..\nOne option that i was thinking about, what would happen if we let the locale in config be defined as locale: \"nl, nl_NL\" ? Shouldn't that allow for fallbacks? If not, let's just go with the mapping! :-)\n. Depending on the request's locale is wrong anyhow. We should never, ever do that. The locale should be set by the people building the site.\n. Multi-language: I'm not ruling that out. If the site is explicitly designed to handle i.e. english and dutch, that's fine. \nHowever, if you have a default Bolt setup with just english configured, and you visit it using a dutch browser/OS, we should never try to be 'helpful' and translate dates and stuff. \n. Posted on vrijdag Januari 18th, by ..\n__shudder**\n. Because 'large' also enlarges the font (for titles, etc), while 'wide' only makes it wider. \nWhen Bootstrap 3.0 is released we'll do some refactoring and maintenance on the backend. For now: Meh, whatevs. ;-)\n. I like this. To agree with Patrick: Let's put stuff where it should be. \nI'm not quite sure about the extensions, though. I made them as simple as could be, and i think this will add a (small) extra layer of complexity to them. But, if implementing them as classes is better, then i'm fine with that too.\nAs for making these changes: I think it'd be wiser to pull them all in now, and iron out the kinks before 1.0. That way the 1.0 version will be relatively stable for a while. If we rush 1.0 now, and say \"don't write any extensions, because in 2 months it will all be different\", that will send a wrong message. :-)\nMy suggestion is this: \n- Later this week, i'll release beta 0.10 (or 0.9.5 or whatever)\n- Right after, i'll pull the changes by @GromNaN \n- Before the weekend we'll make a definitive list of what's planned for 1.0 (and we'll stick to that)\n- We'll take three weeks to fix issues, and finalize the last pieces of functionality\n- one week of RC\n- 1.0 release by feb 15. \nHow does that sound?\n. @pvankouteren Let's make a separate thread about extension distribution. See issue #85.\n. What the ..! This is not what i meant to do. :-/ Will try again! \n. Allright. I think it's OK now. Nobody saw me do this, right?\n. Bolt 2.0 will have this. (using composer, even!)\n. Basically because people sometimes expect it. For simple things like this: \n\nImho, there's no harm in allowing this: people who don't know HTML just won't use it, but those who do know a bit about HTML can use it. In Twig (and thus the Bolt frontend) this is no issue, but we can't allow random HTML in Feeds.\n. Well, since we will have to go over all of the current extensions after we pull GromNaN's changes, might as well go ahead and do that. So, are you going to turn Feeds into an extension, before 1.0? If so, i will fix this (small) issue, and we'll create a new for that.\n. I've made an issue for that in advance. So we don't forget. See #88.\n. Refactoring extensions is as good as done. I'll tidy up the default extensions, and then you can refactor the feeds into an extensions. \n. Resolved by #171.\n. Thanks!\n. Added some minor comments in the code. Looks good otherwise. \nI'd like to release another update tomorrow or thursday, and after that i'll pull this in, to iron out quirks before 1.0.\n. Patrick, is it easy for you to sync with master again? If not, i'll have to merge in these changes manually. Fine with me, either way. :-)\n. Twiddles thumbs patiently :-p\n. No worries, if we can merge this weekend that'd be fine too. I was just going through the issues to make the list of \"need to do before 1.0\" \n. @patrick: This probably changed when we changed the way we detect which 'end' is currently active. \nBut, this doesn't just apply to Feeds, but rather to all extensions that add their own controllers. We should decide how/when things like the debug toolbar are added, but also the 'insertSnippet()' stuff. \nMy suggestion would be: \nDebugbar: \n- on by default in the Backend\n- on by default in the Frontend\n- always off in asynv controllers\n- off by default in controllers added by extensions\n- new controllers in extension can enable the debug bar explicitly.\nIf the global setting for debug / debugbar is off, the debugbar is never shown. \nSnippets etc:\n- disabled in the backend and async\n- enabled in the frontend\n- disabled by default in controllers added by extensions\n- new controllers in extension can allow the insertion of snippets explicitly\n. Since this is a pretty vague/broad problem description, i've split it into three distinct issues: #101, #102 , #103. \n. This is not the \"docs\" repo. See here: https://github.com/bobdenotter/bolt-docs/issues\nAlso: remember that you're not posting these issues for me necessarily, but potentially for anyone to pick them up and fix them. \n. Thanks, Richard! \n. Great! Thank you! :-)\n. Looking good. Thanks! \n. Why did you comment out this part? On my setup it no longer verifies the length of the password anymore..\nI know the Assert\\MinLength(array('limit' => 6) should take care of that, but for me it doesn't. Does it work for you? There's a logic error when you're editing an existing user. nvm, will fix it. \nThe translation works fine, though. :-)\n. The thing is, you are right that it should be deleted, but there's a\nlogical error when you're updating an existing account. So, it should stay\nremoved, but we should fix the requirements on the field when editing an\nexisting user. :-)\nOn Thu, Jan 10, 2013 at 9:37 PM, Patrick van Kouteren \nnotifications@github.com wrote:\n\nHmm I'll check tonight. Can't recall exactly at the moment!\n\nMet vriendelijke groet,\nPatrick van Kouteren\nOp 10 jan. 2013 om 20:21 heeft bobdenotter notifications@github.com het\nvolgende geschreven:\n\nWhy did you comment out this part? On my setup it no longer verifies the\nlength of the password anymore..\nif (!empty($pass1) && strlen($pass1)<6 ) {\n$form['password']->addError(new FormError('This value is too short. It\nshould have 6 characters or more.'));\n} elseif ($pass1 != $pass2) {\n\u2014\nReply to this email directly or view it on GitHub.\n\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bobdenotter/bolt/pull/97#issuecomment-12117336.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\n. There is one now: #105.\n. Fixed yesterday. (And I didn't do anything awesome with it either.. Just used the Bootstrap form errors :-) )\n. From the command line, you can do php app/nut cache:clear.  \nThis, however, is not documented yet. Thanks for reminding me, i've just made an issue so i will write docs for it. See https://github.com/bobdenotter/bolt-docs/issues/4\nFrom the command line, use php app/nut to see the available commands. \n. True. That isn't mentioned here, because the <meta>-tag is in fact inserted as a snippet, and that's covered in #102.\n. This was fixed a while ago. \n. Hi, what problem does this fix? Isn't UTF-8 the default already? \nWhat happens if you set this for sqlite DB's?\n. The tables are created with a UTF-8 charset, so I just assumed it would be UTF-8 implicitly. Maybe we should reverse this: Always specify UTF-8 in $dboptions['charset'] by default, unless configured differently in config.yml? \n. I'm going to pull this, and then reverse the behaviour. Let me know if it causes any side-effects! It shouldn't, but you never know. \n. To expand on @jadwigo's reply: We - the people on github - are only part of the target audience of Bolt. If it's remotely possible, we should make installation easier for people who have no notion of encodings, charsets, unicode and whatnot. The more failproof (and yes: idiotproof) we can make it, the better. \n. Now that I've slept on this for a few days, I don't think we should do this. Not now, at least. Our tables are UTF-8, the connection is UTF-8, that should be good enough. \nWe should not try to modify the database itself. It's not necessary (since our tables are UTF-8, as is our connection), and it might cause other applications to have side effects, that we can't possibly foresee. We simply can't have Bolt causing potential problems in other applications. \n. Thanks. Will fix it! \n. Thanks! Looks good at first glance, I'm going to merge it in later today! :-)\n. Fixed in ad4e1290387dcab3797f49568146e2209fb2cdfa.\n. Oops.. Will fix it! \n. Thanks! \n. Just unsetting the 'user' from the session ought to do the trick. I just figured 'better safe than sorry', and invalidate the entire session. I think we should test if unsetting 'user' in the session is enough, and if so, we'll use that. \n. Looking good after testing for a while, so i'm going to close it. It it keeps giving problems, feel free to re-open. \n. Neat! We're treading in unfamiliar territory (for me) here, so I'm going to check this out and merge it this weekend! :-)\n. Bolt is definitely intended as a 'simple CMS'. That doesn't mean people should be deterred from using it however they wish, but for me the primary focus is undoubtedly to have a system that's as easy as possible to set up and use, on a wide range of server environments. \nI think 'inheritance' is out of scope for now. At least for 1.0. I'm all open for wild ideas after that. ;-)\n. Yes, that'd be great! \n. Excellent! Thanks.\n. Actually, i want to refactor the extensions before 1.0. After that we can move RSS and this to extensions. For now, this is fine. :-)\n. @pvankouteren Yes, if it's up to me. Hopefully i'll get the structural changes to extensions done this weekend, which should leave us a bit of time to convert them\n@richardhinkamp I'd say: leave it like it is for now, we'll change it to an extension, when that's sorted out. \n. This is a bug, as far as i'm concerned. The datepublish desc should be a fallback, for when there's no order set. \n. Nah, rewriting the formats would be too much of a hassle for now. Let's leave it, and if people are bothered by it, we can always change it. \nGithub says i can't merge automatically, so i'm going to merge it in manually. \n. Some very basic sample code to do something like this. Just create and mount a controllercollection in the init() function of the extension. Note that this is going to change in the coming week or so. So, depending on how quickly you need it, you might want to 'hack' it for now, and do it properly when the refactored extensions are in. \n``` php\n/\n\n/\nfunction init(Silex\\Application $app)\n{\n// other stuff here.\n\n$foo_controller = $app['controllers_factory'];\n\n$foo_controller\n    ->match('', '\\Foo\\Controller::view')\n    ->bind('foo')\n    ;\n$foo_controller\n    ->match('/login', '\\Foo\\Controller::bar')\n    ->bind('foo')\n    ;\n\n$app->mount(\"/foo\", $foo_controller);\n\n}\n```\n. @richardhinkamp Why not just create an extension, and define a new Router(Collection) in that? Works very well, and keeps the code much more maintainable? \n. @richardhinkamp For a good example of how to do Controllers in extensions, see Patrick's RSSFeed extension: \nhttps://github.com/bobdenotter/bolt/blob/master/app/extensions/RSSFeed/extension.php\n. :-p\n. I've moved the discussion about phpunit to a seperate issue, here: #138. I think I slightly agree with @maxfierke, but i'd be fine with it if more people want to require it in composer.\nRegardless: thanks for the fix, @jtreminio. Going to merge it in. (including the require-dev for phpunit, for now)\n. Those reasons are all good. And I really, really like the idea of being able to run tests from app/nut. We should do that after 1.0 for sure!\n. Thanks! \n. The reason I used truncate instead of delete, is that when using truncate the 'autoincrement' of the index gets reset to 1. When using delete, it doesn't. If you can reset the 'autoincrement', i'm fine with this. \n. Thanks!\n. Fixed by #142.\n. Thanks! \n. I was afraid that commit would mess with your setup. :-) \nThanks! \n. I liked the name 'localdate'. Like PHP's 'date' function, only localised. Date itself also can be use for dates as well as times. I'm open for suggestions, so if you have better name, let me know! :-)\n. Actually, did some testing, and this doesn't seem to be a problem anymore. Oh, well.\n. Tentative fix was OK. \n. Awesome! Will pull this tomorrow.. \n. Yup, it's fixed. \n. Resolved by #173. (Why didn't this one close itself after the merge?)\n. Thanks! \n. This was fixed in #183.\n. Fixed in 35784cfec8415a1fa17f0017a06fc82bcfc9c3e0 \n. Number is deprecated. Use 'float' or 'integer'.\nSee also: https://github.com/bobdenotter/bolt-docs/issues/16\n. I'm not yet sure how this is done in the cleanest way. I'm going to bump it to \"after 1.0\".\n. I've looked into this, and there's no proper way to do this correctly. Say, a record has a relation with different contenttypes, and one is order by 'title' and the other one by '-id'. What order should the result of {{ record.related() }} have? What if the order of the incoming and outgoing relation is different?\nSo, I'm going to change that the results are sorted by the order of creation, for consistency. (instead of 'whatever order the DB wishes to serve the results in'). Then, I'm going to close this for now. \nIf you want to order the results in your templates, use the order() filter: \n{% set relatedrecords = record.related() %}\n            <ul>\n                {% for related in relatedrecords|order('title') %}\n                    <li><a href=\"{{ related.link }}\">{{ related.contenttype.slug }} {{ related.id }}. {{ related.title }}</a></li>\n                {%  endfor %}\n            </ul>\n. I think this is not really an issue anymore. Bolt needs write-rights on app/cache, but all others are optional. If they're not writable, you'll just see a notice that you'll have to edit them another way. If config.yml.dist files for extensions can't be copied it's the same: You'll get a notice telling you to do it manually. \nSee also #202. \n. Thanks! :-)\n. I agree. There's no good reason to use MySQL without a password. I'm going to fix this.\n. The reason that it's in now, is mainly so we can use {{ localdate }} in the frontend. After 1.0 we might start using it for the backend as well. Especially if others want to use Bolt in different localisations.\n. This is fixed in 'master': The entire backend can be localised now.\n. Currently, we've got English, dutch and french translations. I don't know which languages you speak, but if you'd like to help translate Bolt to other languages, your help would be appreciated. ;-)\n. I disagree, but if others feel the same way, I'm open to changing it. \n. This was changed a while ago. It's {{ dump() }} now. \n. I have a feeling this  is going to break for when Bolt is not installed via Composer. I'm going to pull it, and shuffle a few lines around. :-)\n. In a few minutes i'm going to commit a fix for the 'cdata' and 'guid' issues. Whether or not the 'teaser' should be used is up to the user, i guess. To me it would seem logical to include a teaser or introduction, and for full feeds also a body. \nHowever, since people can change their contenttypes how they like, we can't really say for sure how somebody needs it. Perhaps @pvankouteren has an opinion on this? \n What did you mean with the last part? \n > And I think the configuration should have a default blog_description, otherwise the feed will not validate properly. \n. I believe that in the current, default setup the RSS feeds are OK. Like you say: once you start changing stuff, who knows. \n\nWe need to provide the user a correctly working configuration, but don't get in the user's way when configuration is being done by 'trying to be smart and correct'.\n\nI think that's a nice way of putting it, yes. \n. Then I'm going to close it for now. If you bump into other issues with RSS, feel free to either open a new issue, or re-open this one. \n. not really an issue. nvm. \n. This should convey my feelings on safe_mode in a subtle and graceful manner, right?  \n\n. I saw this as well, looks really cool. imho, we have two options:\n- incorporate the profiler in Bolt, as default and replace our own debug bar. \n- Add this one as an extension, for people who want it. \nHaven't looked into it in detail yet, so i've no idea which would be better. \n. Now that I've slept on it, I'm leaning towards adopting Symfony's profiler too. \"Not re-inventing the wheel\", and all that. \n. This issue is resolved by #637 \n. Thanks! I see no reason why it shouldn't be raised to 12, so we'll fix it. \n. I think this is one of these things that would be 'nice to have' if we had infinite amounts of time. In fact, the number of external libraries that aren't from composer and/or directly from github has already been reduced over the past few months. There are a few libs to which this might apply: HtmlLawed and PHP-markdown, but also markdownify, phpass and timthumb.\nSomething similar applies to some of the javascript libs we use. For instance, we've dropped Redactor in favor of CKeditor. However, we do still include it 'manually', while it's on github. Might as well make it so ckeditor is pulled from its own repo. \nI think it'll be unrealistic to remove all of the code that's not directly maintained by us, but i think it'd be good to strive for having as little of it as possible. :-)\n. That's all of the external libraries that can be moved to composer. Timthumb has some modifications of our own. \nI'm closing this issue for now, if there are any issues with this, just re-open it. \n. Thank you! \n. Resolved by #861.\n. Looking good! I'll see if i can set it up. \nOn a more general note: we should start a discussion on \"where to go from here\". Set a roadmap for 2.0? decide what features we want? how to set up better/more testing? stuff like that. :-)\n\nVerstuurd vanaf mijn iPad, dus kort & bondig.\nOn Feb 21, 2013, at 11:45 AM, Patrick van Kouteren notifications@github.com wrote:\n\nJust came across this one, from which I think we could benefit:\nhttps://scrutinizer-ci.com\nThis way we can get some metrics on the code base, identify points that need attention as well as some quick wins to gradually improve the code quality and maintainability.\n\u2014\nReply to this email directly or view it on GitHub.\n. Maybe their service is a bit overwhelmed at the moment.. https://scrutinizer-ci.com/g/bobdenotter/bolt/inspections\n. I'm guessing that it only shows for you when debug=false, because when debug is on, the warnings/notices are handled by Bolt, and displayed in the 'log' section of the debug toolbar.\nI'll fix this issue in a bit. \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Apparently PHP does a very bad job of compressing .png files. Not much we can do about it, but:\n- Use .jpg where possible\n- If your server supports it, enable pngcrush or optipng in the timthumb config.\n. That's a pretty stupid bug. Expect a fix real soon. \n. Wow, this must've been a lot of work. At first glance this looks good. I'm going to merge it in, and we'll fix thing, should anything break. Thanks a lot! \n\n(on a slightly related note: I saw some notices that setFlash is deprecated. We'll have to fix those. That's what we get for using a framework that's not even 1.0. :-) )\n. Actually, I've created an '1.0.x' branch, in which we'll do the minor patches. This change should go in 1.1, and as such 'master' is the correct place for it. \nIf you're going to do more changes, should I perhaps wait a bit, before I merge this in?\n. Ah, ok. I'll merge this one in, hopefully tomorrow if i can find some time to do so.\n\n1) move phpass and markdown and htmlawd to composer, getting it out of classes (less code to version, always a good thing)\n\nDidn't know those two were on composer. This was already discussed briefly, that we should do this as much as possible. See #195. \n\n2) using doctrine query builder instead of the sql that is there because it seems like there could be some injection issues\n\nIf you could work on that, that would be awesome! This one is high on the list of things to fix. See #203.\n. There already are 'master', 'develop' and '1.0.x' branches. We should move to a setup like this, or perhaps a slightly simplified version of that. \nAbout the inclusion of these in this pull: \n\"htmlawed/htmlawed\": \"dev-master\",\n\"hautelook/phpass\": \"dev-master\",\n\"dflydev/markdown\": \"1.0.*@dev\",\n\"taha/timthumb\": \"dev-master\"\nI'm not happy about htmlawed (like Patrick) this way, and our version of timthumb is slightly modified. (timthumb has it's own cache cleanup checks), and i think that shouldn't be part of an image resizer. We should discuss this more, probably, because i'm really not looking forward to maintaining extra repo's, just for htmlawed, timthumb, etc.. If we can't use it from a decent source, i think that'd be worse than including our own version. At least then we'll be able to control when/if it is updated.\nI'd like to merge these changes, but without your composer.json changes. Can you undo 1bf0b664a0b899750d20039dae8234be3f712122, easily? if not, i'll merge manually. \n. Ok, I'm going to close this one, then.. \nPlease don't forget to also do a new pull request for the other changes ($this->app-['session']->.. to $this->app->session->..). :-)\n. Could you post your contenttypes.yml here? (or as a gist)\n. Awesome! Less code to maintain!! \\o/ \n. Hmm. I think that's one of those things that were planned, but we didn't get around to fixing those for the 1.0 launch. It'll be fixed soon! \n. Thanks! :-)\n. Check! :-)\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. > Satis repository\nI did not know about that, but that seems to be _exactly_ like what i want. :-)\n. Ok, maybe not exactly, but it's pretty close! I really want the option for extensions to be 'self contained' in their own folder, and we shouldn't have to modify the 'global' composer.json file. (since it will be updated with new bolt releases). It does look pretty neat, though. \nThere are so many cool things to try out, these days. :-D\n. @anlutro We'd like to do that, but that will not work for people who can't (or won't) use the commandline. We can't exclude that group, so it's a hard requirement that it will work from the browser as well. \n. Bolt 2.0 will have this. (using composer, even!)\n. Fixed!\n. Fixed!\n. This shouldn't be hard to fix. I wonder why I haven't spotted these notices. Are they new in 1.0.2, that you know of?\n. Hi, I have no objections to adding it. I see there's a 4.0.2 release as well. We should just do these things all at once: \n- update to 4.0.2,\n- add the filebrowser plugin\n- update our build-config.js, so we don't forget it for the next update.\nIf you have the time, feel free to do a pull request for this. :-)\n. Excellent! \nBy the way, in the editor fields you can insert the image directly in the HTML, but since 1.0.2, you can also use a tag like this: {{ showimage('2013-03/foo.jpg', 300, 300) }}. \n. Why isn't this closed automatically? Your pull-request is in, so i'm closing manually. :-)\n. Works as expected for me. But, perhaps i'm looking in the wrong place. Can you illustrate with a screenshot? Is this what you mean:  \n\n. Now THAT's what I call a bugreport! :-)\nI will look into it, and fix it. Thx.\n. Hi, \nl18n is something we'd definitely want to add, so I'd love to merge this once it's done. I'm going to comment on some places in the code. I haven't yet tested the code itself, so I might say things that aren't completely correct. ;-)\n. I had missed that you had already reverted the change in content.css. Thanks! :-)\n. Richard, I've put this under milestone '1.x'. If you know when you can/want to work on this, we'll set it to the correct version! :-)\n. Hi, \nAre you sure your server is running at least PHP 5.3.3? It seems __DIR__ doesn't work, indicating you might be on  PHP 5.2. \n. I'm pretty sure he did not install it through composer, since Composer requires PHP 5.3.3 ;-)\n. There's a check for PHP 5.3.3 in lowlevelchecks.php. However, that error is never shown if your version is below that. sigh\nYeah, we'll need to fix that. :-/\n. Glad you've solved it! \nCheers, Bob. \n. The fact that the permalink isn't autofilled is a known issue. Since Russian characters have no literal translation to ascii, we can't autogenerate the slug. As far as I know it's common to create a slug by hand, right? At least: Lenta and Pravda both do this, judging by the URLs for the articles.\nOr, if you have other suggestions how Bolt should handle this for non-western european languages, let me know. :-)\nThe teasers should work, however. It does for me, at least: \n\n- Are you using Bolt 1.0.2? We did some fixes to handle multibyte character sets better.\n- What database are you using? MySQL / SQLite? Do you know the version?\n- What version of PHP?\n. > Why so? Javascript transliteration ru->ascii example (plugin):\n\nhttp://snowcore.net/synctranslit\n\nAh, that's neat. We'll add that. \n\nOr slug (optional) may contain cyrillic letters /[\u0430-\u044f\u0410-\u042f\u0451\u0401]/u\n\nMaybe this could be an option in config. I'll look into it, because it'd be nice if we could just do that. \n\nProblem in htmlLawed, function hl_tidy - it is not unicode safe.\nFunny to see symfony with $GLOBALS usage in htmlLawed. May be its time to drop this lib and switch to \nsomething else? like http://php.net/manual/en/book.tidy.php\n\nThe problem with Tidy is, that it's not built-in. We need to either use something that's built-in or that we can distribute with Bolt. Otherwise it would give too many untraceable support issues. I'll see it we can fix that. Since we use htmlawed mainly to create html-safe excerpts, perhaps we could just check for trailing 'broken' half characters. \n. Hmm, that workaround seems like a pretty hackish solution. I'm going to see if we can make HtmlLawed behave correctly in a proper way, before using a solution like this. I'll keep you notified! \n. First problem is working better already: \n\n\n. I'm not able to reproduce the 'broken characters' in the excerpts anymore.. Is anyone else able to? \n. No responses, so I'm going to close this for now. If new issues regarding this pop up, feel free to re-open. \n. Don't worry about closing the old one. I'm going to check it out, and test it! Thanks for your efforts, so far! :-)\n. I'm still not too enthousiastic about the 'doubles', like this: \n+\"No recent Br\u00e8ves.\": #\n  +\"No recent Entries.\": #\n  +\"No recent Entry.\": #\n  +\"No recent Kitchensink.\": #\n  +\"No recent Kitchensinks.\": #\n  +\"No recent Page.\": #\n  +\"No recent Pages.\": #\nFor people who want to help localise Bolt and provide a new language file, there would be a lot less lines to translate, if we kept '%contenttype%'. If anything, \"No recent Br\u00e8ves.\" should not be in the list, and we need to have a 'generic label' we can use to fall back on, when somebody adds their own content-type. \nDon't mistake my remarks as criticism, though. I'm grateful for the tons of work you've obviously put in, we'll just iron out the kinks before everyone get to use it. ;-)\n. Ah, I've missed that, yes! Excellent! :-)\n. In another thread here I've been rambling about why I'm hesitant to just merge in any non-trivial code.\n@pvankouteren and I have been talking about this, and we really appreciate the obvious amount of effort you've put into these changes, we just hope that we will not be the only ones having to do bugfixes and continuing development on a pretty large change like this. \nHow about this: We're going to merge in your changes, and if any issues pop up down the road, you'll help us tackle them. All within reason of course. We're also going to be setting up some basic tests for this, and we'll ask you to help us with extending the test-cases for this. Would that be OK with you?\n. That's great to hear. :-)\nI don't want to wait too long before pulling it, because the longer we wait, the more changes you'll have to fix 'upstream'. Should we keep it here for a day or two more, and then we merge it this weekend?\nAnother reason i'd like to merge it is because the sooner it's in 'master', the sooner we can identify issues. For '1.0.x' updates we have the '1.0.x' branch, so even if we pull it now, it's not like it's going to be in an upcoming 1.0.3 release without thorough real-world testing.\n. Very cool! i hopefully have some time tomorrow to do the merge, and then this weekend i will add a full dutch translation.\nBy the way, I really like the fact that the translation files are in yml. Since we also do the config in yml, it makes so much more sense to me than doing it in XML. \nFor 'extensions' we should perhaps think of something different. In not too long we'll have a way to install/update extensions from the command line, and i'm going to remove all current extensions from 'core'. Ideally we'll have a way for extensions to provide their own translation files. \n. So far, it's working like a charm, I'm going to finish the dutch translation this weekend! Awesome! \n. Hi, \nWe're working on better support for non-western european languages, and also localisation of the back- and frontend. For now, at least, full blown support multi-language is considered out of scope. You can always fake it by creating duplicate contenttypes, of course. \nI don't know which languages you speak, but pretty soon we could use help translating the file with labels. ;-)\n. Hi, \nThanks for asking that, I'll gladly elaborate on why I said \"out of scope!\", without explaining exactly why. \nIt's primarily a resources issue, like you mentioned. I want Bolt to stay focused, and I want the functionality that we do have to be done well. I'm afraid that if we spread ourselves too thin, it will lead to half-baked solutions, and that will lead to a lot of support requests that we'll have to deal with. \nI'm not at all against adding full multilingual support, but if we choose to do so, it will not merely be \"accepting a pull request\". We will have to do it properly, and that takes time. The first things that come to mind, that we should consider:\n- How is this going to work in the UI? What's it going to look like?\n- Can we make this work smoothly, but without annoying or confusing users who don't need the functionality? \n- Any non-trivial functionality is not finished once it landed initially. There's going to be support issues, ongoing development and maintenance.\n- Regardless of how well any new feature is done, it's going to raise the overall complexity of the system. Are we willing to accept that?\n- Documentation. Who's going to write it? From my own experience, I know coding new stuff is much more fun than writing docs for users. \n- Tests. We're very well aware that we're currently lacking enough tests, but we're going to change that. We'll probably also require any non-trivial new functionality to have tests. \nSo, if somebody wishes to help develop this, i'm going to be requiring much more than a 'pull request'. We'll need to discuss how it's going to work and what it's going to look like. I need to know whoever is doing this is well aware that it's not going to stop once the commit has landed. You'll be expected to support and maintain it as well as providing documentation for users. \nI've seen it happen first hand that somebody builds a neat feature, and then moves on. This left me having to support an inherently cool but incomplete feature, that I had to support, and I had to fix and document. If I let these things happen, it will actually lead to a lesser product overall, and I'll not have that. \nTo answer your question: We'll be happy to accept new features, but for things as large as this, we'll need to first discuss how it should be done, what's it going to look like, how it's integrated, things like that. I hope i'm not coming across as being a dick, but we're not going to accept a pull-request for this unless i'm fairly confident that who's working on it will be around for continued development and support. \n. Richard, that goes without saying as far as I'm concerned: If we do this, we will have to do it well, and that means this would absolutely be a 2.0 feature. \n. I'd be interested to see these proposals when you have solid ideas. I don't think i've ever seen a CMS where i thought they did multilingual support right, so this sounds like a nice challenge. ;-)\n. To get back to your question: I've built one multi-lingual site with Bolt, and what I did was this: I duplicated the content-type for the 'pages' to 'paginas' for Dutch, and then I added a 1:1 relation from 'pages' to 'paginas'. That way the user could easily toggle between /page/about-us and /pagina/over-ons.\nI also wrote a small extension to keep track of the current language, based on (sub)domain and the current contenttype, so {{ lang }} would always be 'nl' or 'en'. If that's something that might be useful, i can clean it up a bit, and release it. \n. If anybody would like to help provide translations for the backend, read the brief documentation: https://github.com/bobdenotter/bolt/wiki/Adding-a-translation\nPlease let me know if you get stuck, because we'll gladly help you get started. \n. @harm10 You're correct. that link was from before the move to bolt/bolt. \n@fmanaya I'll write an article about it soon. There's no real multilingual functionality in bolt, but with a bit of effort, you can fake it. :-)\n. If you have time to do that, great! It's still an often requested feature, so we will have to do this properly sometime. :-)\n. Hi Slowwie, \nWe actually use that Provider in Bolt for the Internationalisation of the backend. It's still a big, complicated task to expand on that to make Multilingual content possible, in a user-friendly way. It will de done, someday. We're not sure when, though. :-)\n. This is an intriguing approach, i've never done it this way.. \nMan, I really should make the time to set up a few pages with documentation of best practices on doing stuff like this. I'm sure examples like yours would be interesting to a lot of people. :-)\n. I can't merge these automatically. Github complains about conflicts. At first sight it seems messages.fr.yml contains some old strings, like: \n\n\"<br><br><p>Go <a href=\\\"%url%\\\">back to the Dashboard</a>.<br>\": \"<br><br><p>Retour au <a href=\\\"%url%\\\">tableau de bord</a>.<br>\"\n\"<p>Modifications made to the database:<p>\": \"<p>Modifications apport\u00e9es \u00e0 la Base %:<p>\"\n\"<p>Your database is already up to date.<p>\": \"<p>Votre base de donn\u00e9es est d\u00e9j\u00e0 \u00e0 jour.<p>\"\n\nCan you fix this easily? (if not, no problem: I'll do a manual merge, then)\n. Thanks! :-)\n. Good catch. \nCurrently, no. it's not hardcoded to be that way, because some pages need to be accessible without being logged on. (for instance the 'log on' page itself. :-) )\nI considered coding it the other way around, by making an exception for that, but it felt hackish. \n. I'm going to pull this,and fix the access.. I'll also add that the options won't be shown in the menu if you're not supposed to see them. \n. Yes, sounds like a good idea. I don't know how it should behave yet, though..\nPerhaps, when you use it from the 'update database' screen, there should be an option to select which contenttypes it should fill.. \nThe option shown on the dashboard for new users with an empty DB should just fill all available types, i think.\n. Fixed by pull-request by Electrolinux. I'm going to leave it open for now, because i want to tweak the positions ofe the buttons a bit. :-)\n. Works like a charm! Thanks again. :+1: \n. Hop!\n. This has been implemented for a while now. Closing..\n. Hi, if you'd like to help provide a russian translation, read the brief documentation: https://github.com/bobdenotter/bolt/wiki/Adding-a-translation\nPlease let me know if you get stuck, because we'll gladly help you get started. \n. Niceurls just does from -> to redirects. Just configure it to be what you want. It doesn't support translations.\n. @dakanca , @jekill We just switched from a half-baked homemade solution to Urlify, which is extensible. Since it has a set of characters for 'ru', i was hoping it would be better already. It is extensible, but since i don't know russian i'm afraid i won't be of much help. If either of you could expand on the set in urlify, i'll gladly merge it in. \nAnother option is to allow non-latin chars in the slug itself, but i'm wary to introduce that. Adding chars can go in 1.0.x, changing the way it works would have to be an 1.1 job. \n@carlosleopoldo Cool! We'll gladly merge in the files, when you're done. \n. The fact that there are no other indices is just pure laziness on my part. We should absolutely add indices on datepublish, status and perhaps others. \nMaking bolt smart enough to figure out which indices to add for a contenttype will be tricky, i guess.. \nPerhaps add an optional field in the contenttype.yml, for 'powerusers':\n\nentries:\n    name: Entries\n    singular_name: Entry\n    fields:\n        (snip)\n    taxonomy: [ categories, tags ]\n    indices: [ title, slug ]\n\nThis seems like a worthwhile thing to look into. Once we've sorted it out for MySQL, adding the same for SQLite and Postgres won't be hard. \nCheers, Bob.\n. \"sometime next week\" sounds good to me! :-)\n. Why is this issue not closed? closing it now. \n. Thanks for looking into it! Merging it right now. :-)\n. Currently caching is not used for that. So, when using {% setcontent %} you should always get the current results from the DB. Unless something else is wrong. Are you having a problem, seeing old stuff? \n. That's really odd, because Bolt absolutely does not cache content. Is there anything else that might cache it? A reverse-proxy like varnish? APC? mysql-query-caching? \nIf you use settings > clear cache in Bolt, does it show the new contents, then?\nAdd this to your frontpage: random number: {{ random(100) }}.. Does the number change on every refresh?  \n. I think 've found it. In app/src/Bolt/Controllers/Frontend.php, around line 102, change:\nreturn new Response($body, 200, array('Cache-Control' => 's-maxage=3600, public'));\nto \nreturn $body;\nDoes that help?\n. Good to hear. I'll have this fixed for all front-end controllers in the next maintenance release. \n. Looking good. Thanks! \n. Great! Thank you! :-)\n. Can you do a merge upstream? \n. Hoppa! \n. Merci!\n. You could probably just remove those three lines to make it work, but I didn't put them in for nothing. ;-)\nIt's really bad practice to use 'root' with a blank password. Just create a new user, and use that one. \n. I'm not too keen on making an option for this. In my opinion, this is a fringe case, promoting bad practice. At the same time, if we added an option for this, like allow_empty_root_password: true, that will likely be confusing for the vast majority of users. \nAnd this case: \n\nOr maybe you dont have enough privileges on the environment to change it...\n\nThis can't happen. If you're root, you obviously have the privileges to add another user. \n. Closing this one, unless somebody feels really strongly about this. :-)\n. Ah, 4.1 is out? Neat! I'll merge it in tomorrow. \n(I'm looking forward to the 'content filter' myself. Finally, to get rid of the crappy code when clients paste content from websites and MS Word)\n. Just wondering, since we already ship with Codemirror, do we need to include the entire thing again, or can we just re-use the one we already have? \n. \n. Thanks again! :-)\n. I think we all agree on this: We're striving for PSR1 and PSR2 compliance. Which should be a bit easier, when we've got scrutinizer configured properly. \n. Whoohoo! :+1: \n. Closing this one. Discussion takes place in #693.\n. Thanks! I'm going to merge it in, and will see if i can get it working from the template folder (#268)\n. Good to see you on Github, Harm! ;-)\n. As it does. :-) \n\n. Closed via #319.\n. As far as I can tell this works as it should. If there is no jquery present in the page, setting add_jquery to true will add it. It will not add it, if it's already present in the template itself. So, if the foundation theme alread has it in the footer, it works correctly. \nThe one that gets inserted bu the debug bar is a bit different: \n<script type=\"text/javascript\">!window.jQuery && document.write('<script src=\"/app/view/js/jquery-1.9.1.min.js\"><\\/script>')</script>\nThis line gets inserted by the debug bar, and it checks if the 'jQuery' object is present, and if it isn't, it includes jquery. So, this is basically a failproof fallback to make sure we can use jquery in the debug toolbar. \n. This has been fixed in 'master' already. \n. This is intentional: A \"developer\"can create content in all contenttypes by design. It could be made clearer, though. And it should be documented..\n. I'm going to add an option to set the default status. I'm not going to set the default to 'draft', because that would severely change the current behaviour, and would confuse users. :-)\n. Yes, \"Draft\" is currently the default, unless you specifically set it to something else. When we redesigned the \"save\", \"preview\", \"save & return\" options, we asked a bunch of clients what makes more sense from their point of view. And they almost all said that they preferred draft to be the default. \n. @Largo IMHO it's only confusing if you're conditioned to Wordpress' illogical way of doing it. ;-)\n. Perhaps try multiple: true instead? \nAlso: please post support questions on the forum: http://forum.pivotx.net/viewforum.php?f=17\n. This was fixed in 69e0a49d4f1dd82029b496eae1025542b17ff4f7\n(at least, it now always shows the site-defined, friendly page. It still shows an error when there's no page defined) \n. Fixed by @magabriel in #356 \n. I like it! :+1: \n. Is this still an issue that requires fixing?\n. Yes, let's close this for now, and re-open it if more people bump into this issue. \n. :+1: \n. Thanks again! :-)\n. Thanks! going to pull it now, and add one more line, so that {{ pages }} or {{ entries }} will also work, alongside {{ records }}.\n. I think there's two seperate issues here: \n-  For Bolt 2.0 we're going to re-do the backend (most likely in Bootstrap 3). It will most definitely use template inheritance instead of includes. \n- We also need a new 'base' theme. Foundation 5 is out, and we should have a new theme. The current one was made by me using includes, because I figured that's what people would want (and what I was most familiar with). I've asked three frontend-devs why they're still using {% include %} instead of {% extends %}, and they all said something along the lines of \"because that's what I'm used to\" and \"because the default theme does it\". \nSo, I think we should just do the 'base-2014' theme in Bootstrap 5, using template inheritance. Now we just have to find the time to do so. :-)\n. Most of the hard work for this was done by @rarila. Closing up this issue!\n. They are deprecated now, they were once used to add dividers between fields. What you can now do with postfix: \"<hr>\".\nWe should probably remove the last few references to them from the code. \n. We already have that, right? \n\n. @mablae You reopened this issue. Can you describe what you're missing? \n. Yup, would be cool. If you'd like to take this on, you're welcome. ;-)\n. This has been fixed a short while ago. \n. Thanks! I'll fix this. \n. Very cool! Can't wait to try it and merge it in! \n. Works very nicely already! I'm really happy about this. I'm just wondering how we could make it so that you can create links to any contenttype. Or, at least multiple contenttypes. Perhaps like this?\nbrowseUrl: /bolt/filebrowser/pages,entries,foo\n. Oh, one other thing: The controller for this should be /async/filebrowser/, don't you think?\n. Hmm. That's not ideal, no.\nPerhaps we could add an option, next to the \"browse on server\" button?\n(and then we could also give it a more logical name, perhaps. :-) )\n. :+1: \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Fixed by #344.\n. Thanks. Fixed in b74dfd88b90012d9ab15773215eea5b2af94815b\n. This same issue was reported by @harm10, but I couldn't reproduce it then. I will take another look. :-/\n. Yes please. If i can see it, i'll probably be able to fix it. You know how to reach me! :-)\n. The issue was that you had:\nhomepage: /page/home\ninstead of \nhomepage: page/home\nI've changed the regular expression to match it to the correct record, and now it works correctly in your case. Thanks!\n. Hi, thanks for looking into this. I wouldn't be too thrilled to use \"doctrine/dbal\": \"2.4.*@dev\" in our composer.json, but it seems like we do need that functionality to prevent silly workarounds for sqlite. If all goes as planned, doctrine 2.4.0 should be out in April, which is right on time for Bolt 1.1.\nSo, i'm going to change composer.json, but we must be sure to remember to set it to 2.4.x before Bolt 1.1 is released. \n. Going to mark it as 'fixed' for now, as 2.4@dev seems to work fine for us. \n. Thanks! And you even managed to make scrutinizer stop complaining. Well done! :-)\n. in vendor/silex/silex/src/Silex/Application.php, change \nuse Silex\\RequestContext;\nto: \nuse Symfony\\Component\\Routing\\RequestContext\nThis is obviously very hackish. I'm sure we'll have a proper fix soon.\nUpdate: Do not do this, see below for a better fix. \n. Hi Igor, \nI know it's not a fix, since it's effectively reversing the last change. I just mentioned it as a stop-gap measure so people can keep it working for now. :-)\nThe entirety of the error message (and output) is this:\nFatal error: Cannot use Symfony\\Component\\Routing\\RequestContext as RequestContext because \nthe name is already in use in /[snip]/vendor/silex/silex/src/Silex/LazyUrlMatcher.php  on line 14\nSince it fails during bootstrap, no error handlers were set up yet. So far, i've seen it happen on a machine with MAMP, and PHP 5.3.6, PHP 5.3.14 and 5.4.4. and on Ubunutu with PHP 5.3.10.\nStack trace with error reporting E_ALL:\n\nFatal error: Cannot use Symfony\\Component\\Routing\\RequestContext as RequestContext because the name is already in use in /[snip]/vendor/silex/silex/src/Silex/LazyUrlMatcher.php on line 14\nCall Stack:\n    0.0002     642272   1. {main}() /[snip]/index.php:0\n    0.0005     713512   2. require_once('/[snip]/app/bootstrap.php') /[snip]/index.php:9\n    0.0951   10212880   3. require('/[snip]/app/app.php') /[snip]/app/bootstrap.php:112\n    0.1070   12479672   4. Silex\\Application->before() /[snip]/app/app.php:24\n    0.1070   12479896   5. Pimple->offsetGet() /[snip]/vendor/pimple/pimple/lib/Pimple.php:0\n    0.1070   12479976   6. {closure}() /[snip]/vendor/pimple/pimple/lib/Pimple.php:83\n    0.1070   12480056   7. Silex{closure}() /[snip]/vendor/pimple/pimple/lib/Pimple.php:122\n    0.1077   12573768   8. Composer\\Autoload\\ClassLoader->loadClass() /[snip]/vendor/composer/ClassLoader.php:0\n\nYou can see it here: http://bolt.twokings.eu/\nPHPinfo: http://bolt.twokings.eu/phpinfo.php \nLet me know if you need any other info. \n. If you're having trouble with this, and @nean 's pull-request isn't merged yet, you can fix this manually in vendor/silex/silex/src/Silex/LazyUrlMatcher.php:\nhttps://github.com/nean/Silex/commit/081a05b20cb17294154ac3f4a79a9086672a0e73\n. Fixed. Thank you, @nean. \n. Looks like there's an issue with how Bolts figures out the paths to the app/ and theme/ folder in combination with your server. Are you using something like Xampp, or did you configure and set up apache yourself? \n. I'll check on my windows machine to see if i can reproduce the issue. Will let you know! :-)\n. So far, it works fine on my test machine with Apache. Could you try the following two things, please? \n1) Edit app/view/_header.twig, and right at the top insert {{ print(paths) }}. If you open the page in your browser, you should see something like this: \n\n2) create a small script, to print the server vars: \n\n<?php\nvar_dump($_SERVER);\n\nI'm guessing Bolt assumes a certain value to be present in $_SERVER which isn't there. If you could post the results, hopefully i can see what's going wrong. \n. > variable $_SERVER is present in my server\nHeheh, but what does it contain? Could you post the entire output of var_dump($_SERVER), please?\n. > C:/index.php\nThis is obviously wrong. Could you still post the entire output of var_dump($_SERVER), please?\n. Sorry, can't find it.. Just to be sure, I don't mean the output from {{ print(paths) }}, but var_dump($_SERVER). \nAh, there it is! :-)\n. Ah, i see you just beat me to it. I think the proper solution should be: \nphp\n    // Set the root\n    $path_prefix = dirname($_SERVER['PHP_SELF']).\"/\";\n    $path_prefix = preg_replace(\"/^[a-z]:\\//i\", \"/\", $path_prefix);\n    $path_prefix = str_replace(\"//\", \"/\", str_replace(\"\\\\\", \"/\", $path_prefix));\nThis way it should keep working for other drivenames than just 'C'. Could you check if it works for you?\n. because of the /i flag, [A-Za-z] really shouldn't be necessary. Anyhow, thanks a lot for pinpointing this issue! I'll fix it in the code! \n. Glad you like it! :-)\n. Thank you! :-)\n. That's what you get for living on the edge, and using 'master'. ;-)\nBut, joking aside, we've just started using the 'whoops' library, and we're\nstill ironing out the kinks. I'll check your suggestion, and commit the fix\nin github.\nOn Tue, Apr 2, 2013 at 6:47 PM, Julian Reyes Escrigas \nnotifications@github.com wrote:\n\nif i've changed in app/config/config.yml\nhomepage: page/1\nto\nhomepage: ~\nthis \"fix\" the problem but i get \"(untitle) | sitename\" in the title bar\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/325#issuecomment-15787624\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\n. Closed by #326 \n. Good catch.. I must have introduced this issue in this commit: https://github.com/bolt/bolt/commit/36801655562bc62b4b442cc17218a9adcc79d315\nI used quote, but it shouldn't be used on tablenames, like you say. Let's just remove the quote().\n. Fixed by #329. \n. Your pull requests seem to overlap a bit. I'm going to merge this one tomorrow morning, so all of your fixes will be merged at the same time. Thanks! \n. Thanks! I'll check it later, and merge it in! :-)\n. Looking good! :-)\n. I think it should go in the 'main' repo. We currently use a small script to package a version for distribution, and it already strips out stuff that's unneeded for an 'end user'. If we make a separate repo for Vagrant/Puppet stuff, it'll be one more repo we have to maintain. And it's not like it is in the way, when you don't need it, right?\n@pvankouteren You should make the call: Feel free to merge it in, when you want to! \n. > put this stuff in the composer.json's require-dev part to make it available to the people who want to work on bolt.\nI have no idea if this would complicate the Vagrant/Puppet setup, but that seems like a good solution.\n. It's listed for Bolt 1.2 at the moment. See here: http://bolt.cm/newsitem/whats-next-for-bolt\nI think it'll be really important to have, and it will be my top priority once 1.1 is out of the door. \n. How it's going to work: When a user requests a new password, a new (strong) password is generated for them, and stored in the DB after hashing. A unique token is generated, based on a random seed and their current IP. That is stored in the DB as well, together with the maximum time the new shadow password is valid.\nThe user receives an email on their email-account, with their new password, and a link to reset the password. That link is only valid from the users' current IP, and only for a short while (say, an hour or two). If the user clicks the link and it passes the checks, only then will the emailed password become the new password. \n. Thanks, again! :-)\n. Which version are you doing this on? 1.0.x or a checkout from github? I've tried copying your contenttype.yml, but I can't reproduce the error yet.\n. ping @rkmax ;-)\n. Ok, but can you be more specific about what goes wrong? I can't reproduce it, so I'm not able to fix it. \n. Cool! Just in time for 1.0.4, too :-)\n. Looks good! This will also be incredibly useful for users of non-western-european languages, so the slug can use either the id or a date field. :+1: \n. You changed: \n$('#'+usesfield).bind('propertychange input', function() {\nto \n$('#'+this).bind('change.bolt', function() {\nCurrently, the field is no longer updated when typing in the title field, only when you leave the field. Was there a problem with propertychange input ?\n. I consider this a bug. I can't think of a reason why you would want to have an empty slug. :-)\n. Excellent! :+1: \n. I'm thinking something like this:\nyaml\nthumbnails:\n  default_thumbnail: [ 160, 120 ]\n  default_image: [ 1000, 750 ]\n  quality: 80\n  cropping: c\n  notfound_image: view/img/thumb_notfound.png\n  error_image: view/img/thumb_error.png\n. > What is meant by default_image? The max width and height?\nYes.\n\nAnd the c after cropping stands for the number chosen for the zoomcrop value (e.g. 3)?\n\nYes, as listed here: http://docs.bolt.cm/templatetags#filter-thumbnail\nI'm using letters, because for people who are not familiar with timthumb, something like \"zc: 2\" is meaningless. Maybe i should make it so the full words can be used as well: crop: fit.\n. Thanks! \n. Good catch!\n. Great! But why all the changes from $app['foo']-> to $app->foo-> ? I know it works, but to me, it doesn't make it more readable. But, maybe that's just my personal opinion, and I should get over that. \nWhat do you think, @pvankouteren?\n. The properties in Application.php where put there for this purpose yes. At that time I just wasn't convinced that we should follow through on that. If we do, we should refactor all of it, to be consistent. And that will be pretty easy to do, but will be a massive amount of changed code. \nLet's hear what others think about this. My suggestion would be to not do this now, but if the consensus is that it's easier, we'll change all of it for 1.2. Thoughts?\n. pinging @jadwigo, @marcelfw, @pvankouteren \n. Ok, so like @jadwigo says, there are two separate issues: \n\nmoving the db repair out of storage \n\nWe all agree this is good. And with Richard's latest changes, I don't see a reason not to merge it. I'll do so later today. \n\nchanging the code style\n\nBasically, there is one major reason to change it (easier autocomplete in IDE's), and one reason not to (We'd be moving away from Silex's DI principle/style). Changing it will modify a lot of code, because once we do that, we should change all of it. \nSo, I'm going to make a new issue for this, and once we reach consensus we will do this (or we won't), but at the earliest for Bolt 1.2.\n. @richardhinkamp Can you do a merge upstream on your branch? Currently, your changes would undo most of these changes: https://github.com/bolt/bolt/commit/b6e4d1d6d48d286e87731d7abd71260d22ff6550\n. Maybe this is a lingering side-effect of our Git-issue of last week. If you\nlook here, you'll see that this merge would undo a lot of later changes:\nhttps://github.com/bolt/bolt/pull/353/files\nOn Mon, Apr 15, 2013 at 2:28 PM, Richard Hinkamp\nnotifications@github.comwrote:\n\nMaster is merged as far as I know, see:\nhttps://github.com/richardhinkamp/bolt/commits/extract-db-repair\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/pull/353#issuecomment-16381740\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\n. Looking good! :-)\n. You're working on a localhost-like setup I guess, right? What's the address in the address bar when you're doing an upload? And what do you get if you go to http://localhost/app/classes/upload/? (of course, replace localhost with the correct hostname)\n. Derp! Thank you! :-)\n. Good catch! Thanks! \n. Seems to work fine, but what does the .bolt after the events signify? I'm not familiar with something like that. \n. I did not know that. Neat. :-)\n. Oversight on my part, I guess. We should fix this. \n. I've answered this on the forum. :-)\n. Agreed. I feel that 'sticking to the standard' is the main argument to not do this refactoring. I'm going to leave it open for a short while, because I believe there are some stray $app->foo->bar's that wound up in the code, over time. I'd like to fix those, so that the use is consistent everywhere. \n. (I did make an account on youtrack though, for the sole purpose of upvoting this issue: http://youtrack.jetbrains.com/issue/WI-17116 ;-) )\n. The actual $app->foo->bar uses have all been removed as far as I know. Like patrick says: we should deprecate support for it from application.php. \n(and while i was typing this, Patrick already closed it. :-) )\n. Thanks again! You're on a roll! :-)\n. Neat! I am currently working on #334, Probably going to commit that tonight. \n. Thanks! \n. I'm going to release 1.0.5 this weekend, with two minor fixes. I'll be sure to tag it, so it shows up on packagist. \nThat said: If installing via composer (as opposed to just installing the other packages with composer) is something we support, we should have it documented in the right place: docs.bolt.cm. :-)\n. I just silently released 1.0.5 and tagged it. Should show up on packagist soon. \n. I'd like to remove this, but it should be paired with a fix for this: https://github.com/bolt/bolt-docs/issues/37\n. Closing this one.. The related issue in bolt/bolt-docs is stil open. \n. This is why: https://groups.google.com/forum/?fromgroups=#!topic/silex-php/NjjIoBWRAgI\n. This is an issue in CKEditor 4.0, and is fixed in 4.1. (so, will be in bolt 1.1)\n. PEBCAK error. \n. Whoops! thank you! \n. Yup. I get it too, when using sqlite. Marked for milestone 1.1, because we should fix this soon. \n. I think i've found it. On my machine, the command-line version of PHP uses Sqlite 2, and the Apache version uses Sqlite 3. Hence, it works in the browser, not on the command line. Can you confirm this is the same for you?\n. I'm glad it works for all settings. So, you can overwrite the sitename, or whatever setting you want. :-)\n. Sounds like a good idea. Added it to milestone 1.2, so it will get done sometime soon-ish.\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. The mail-sending is done via Swiftmailer, in app/extensions/SimpleForms/extension.php, around line 180. Currently it used pretty basic settings, but it shouldn't be too hard to add a transport, that can be configured via the config.yml file. If you do so, we'll gladly acceppt a pull-request. :-)\n. I haven't had the time to look into this yet. If somebody implements it in a good way, i'll gladly accept a pull-request. \n. This has been fixed for a while. Closing..\n. Thanks! \n. I think we should merge in both your fixes. Richard's fix prevents all access to those folder, and @toin0u's prevents listing any other folders. I thought that directory listings were disabled by default, but it sure doesn't hurt to make sure. Thanks, both! \n. I put it in so you can override the default 'tweet' label with something of your choosing. \nIs there a good reason to remove it? Users without javascript will not even see a simple 'tweet' link now? If anything, we should hardcode it, to accomodate users without Javascript. \n. Agreed. Closing this one. \n. Agreed. \n. Great. I wasn't able to look into this properly, so i'm glad you found it! :-)\n. This is done.\n. This can be done after sort_order for 'grouping' taxonomies is properly implemented.\n. This has been implemented for a while now. \n. This looks to be more of an issue with Whoops than with Bolt. I'd rather we either find out why it clashes in Bolt, or fix it in Whoops. Disabling it because it doesn't do exactly what you want seems like a cop-out. \n. This has been fixed for a while. Closing..\n. This seems to be fixed already..\n. I thought I made sure I didn't break that, but apparently not good enough. Thanks! :-)\n. Confirmed. I'm going to fix this. \n. No? I think 9940c02 takes care of that. It does for me, at first glance.. If i create a new record now, without a 'default' setting, it uses the current date, and that gets stored in the database as well. \n. Thanks! Will test and let you know! \n. Fixed !\n. If you have another way of telling our users that the web-user needs write-access to those folders, in a way that's\n- clear, \n- easy to understand, \n- foolproof \n- concise\n.. then, I'm open for suggestions. We're fully aware that the current wording is not the best practice, but there's simply no alternative. In fact, as long as I've been working on open source, people are saying \"Grunt.. 777 BAD!!\", but not one single time did somebody come up with a proper alternative. \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. This is an interesting problem. And i agree that it absolutely needs to be fixed. Ideally, whereever something is saved to the DB, the tablename is passed through a function like @helderco's makeDbSug. \nTo do this properly, we'll have to do some refactoring.. \nThe easiest \"fix\" is to prevent using dashes in contenttypes for now, avoiding the issue.\nphotogallery:\n    slug: photogalleries\n    singular_slug: photogallery\n    name: Photo Galleries\n    singular_name: Photo Gallery\nI admit this is a non-solution, and I will fix this properly for Bolt 1.2. (as bolt 1.1 is almost finished, and i want to release it soon)\n. > contenttype key (e.g. photogallery) is replaced with makeSlug('Photo Galleries') making it photo-galleries.\nThis should be fixed in 1.1. What version are you running? \n. Ok. I'll add this issue to 1.1. I'll make sure at least the 'workaround'\nworks, and we'll take a bit of time for the proper fix.\nOn Thu, May 2, 2013 at 4:39 PM, Helder Correia notifications@github.comwrote:\n\nI'm running 1.0.5 :)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/397#issuecomment-17341730\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. Fixed! \n. Well, we 'support' postgresql, because it's in Doctrine. It seems to be in serious need of some serious love, though. \nWhat should we do? Remove it from the docs for now, and schedule it for 1.2? Or, perhaps keep it in with the caveat that it's supported experimentally, and that we suggest MySQL or SQLite for now? \n. Let's keep it in, but mark it as 'experimental'. Sounds like a good idea to me. :-)\n. In Bolt 1.1 this is made more explicit. Basically: If you're an admin user, you have access to all contenttypes. If you want to restrict users to certain contenttypes, you must make them editor. \n. do the prefix/postfix texts contain invalid HTML? My first guess is an unclosed <div> or something like that.. If not, can you post a screenshot? \n. Found it. And it's not a bug. Your code says: \nprefix: \"<hr><Moet er een sidebar item op deze pagina worden getoond?\"\nThis works: \nprefix: \"<hr>Moet er een sidebar item op deze pagina worden getoond?\"\n;-)\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. I can't automatically pull this. Can you do a quick merge upstream? (if not, no probs, i'll merge manually)\n. Seems like i can, now! :-)\n. Spring cleanup! \\o/\n. This thursday (ascension day == day off == working on Bolt all day) I'm going to fix this, as well as releasing Bolt 1.1 beta.\n. I'm thinking about this.. Since we use \"prefer-stable\": true,, we're already getting the latest _stable version of Silex, since 1.0.0 meets the requirements of \"1.0.*@dev\", right? Still going to change it to \"~1.0\" though.\n. I'm not at all against implementing something like this, but can you give a detailed example of when you might need this?\n. Ah, now i understand what you mean. :-) \nFor 1.2 i'm planning a new rendering/caching pipeline, that will group and minify .css and .js files. As a side effect this will make sure that changes in these files will directly be seen in the browser. \n. See also #47 \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Good catch! Thanks! \n. Oops. Looks like i missed this one, when i changed the other ones to not use the cache. The caching as it was, wasn't really working properly, so i removed it altogether. For 1.2 i'm planning a proper rendering/caching pipeline for the frontend, that will speed things up massively. \n. Personally, i'd say \"no\". 'editors' should not be able to delete files uploaded by other users. \n. The only reason it was still using the 'old way', was laziness on my part. Thanks! (and just in time for 1.1, too. ;-) )\n. :+1: \n. I see! I'll fix this in the code. Thanks! \n. I've never seen this issue. What happens when you do resubmit the form? Does your browser get redirected to a different URL when trying to setup Bolt? Did you setup the server yourself, or is it hosted with a hosting company somewhere?\n. Did you set up the _server yourself? it seems there's an issue with the session cookies: No session cookie is set by the server, hence it can't validate the CSRF. See screenshot below. \n\n. Regardless, no sessions are saved, which is something that must be fixed on the server level. ;-) \nIs there a phpinfo.php available? \n. Could you create the 'example 1' and 'example 2' scripts as mentioned here: http://php.net/manual/en/function.session-start.php ? \nI'm curious to find out why sessions don't work on your server... Phpinfo seems correct at first glance. \n. I see, the example is working correctly..\nIs it possible for me to get temporary (s)ftp access? I'm sure I can figure uit what's happening if i can debug hands-on. Feel free to email me at bob@bolt.cm.\n. Where exactly did you get this error? Please post the entirety of the error messages, so we can see where it goes wrong. \n. \"this one\" ? As opposed to which other one?\nAlso, please post the entirety of the error messages, so we can see where\nit goes wrong.\nOn Sun, Dec 8, 2013 at 9:01 PM, pubconcept notifications@github.com wrote:\n\nWhen session admin is saved\nWe are creating a shopping cart with PHP in front office with session this\none doesn't save data anymore\nand the admin is working fine wen fixing session_path in HTACCESS\nIs there a solution ?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/418#issuecomment-30091150\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. I'm repeating myself here, but: \n\nHave you asked your webhoster / sysops person about this? It really should\nNOT be necessary to manually fiddle with the session.save_path at all. You\nshould ask them why this isn't working.\nIf they can't help you, please try to be as extensive as possible with the\ndescription of your problem. Saying \"I've tried this and that\" is not very\nhelpful, if you haven't described the actual problem that made you try\nthose things. Screenshots, description of the server you're using. Link to\na phpinfo.php output. Things like that.\n\nI'd really like to help you, but we need more information to determine what's wrong. \n. Thanks.. Re-opening this issue, so we can't forget it.. I'll take a look, and I will let you know if I need any other info..\n. I've been thinking about what could cause this, and if we can fix it. But, I can't think of a good way, without access..\nIf I can have temporary FTP-access, I can take a look, and either I'll be able to fix it, or i will be able to pinpoint what's wrong and you'll be able to tell the systems administrator what to fix.. Feel free to email me at bob@bolt.cm about this! :-)\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Can't reproduce this. \n. That's odd. Could you post your contenttype.yml here?\n. I haven't been able to reproduce this yet. Your contenttype.yml seems fine. \nIs the error reproduceable? If so, can you describe the steps to do so? \n. Thanks for the video. I see it breaking, but the same actions work fine for me. Which version of Bolt are you running? (If from git, are you up to date with 'master'.. If you installed from a 'beta zip', can you update to the latest?)\nWhich version of PHP are you running? \nCan you make a screenshot of the inserted bit of javascript, right below the <span class='sluglocker'>? It should look like this: \n\nAnd, can you also check which ajaxy request is made in the network tab? I'm particularly interested if the contenttypeslug=entries part is filled. It should look like this: \n\nSorry for the many questions, but this issue is really puzzling. :-)\n. If you have 1.0.4, there's a good chance that it will work, if you update\nto the (unofficial) beta, which is actually pretty stable already. Get it\nfrom git, or download a .zip/.tgz here: bolt.cm/distribution. \"1.1 beta 4\"\nis the latest.\nOn Wed, May 22, 2013 at 9:52 PM, outrunthewolf notifications@github.comwrote:\n\nSure is a puzzle, but the CMS is great. So thanks for all the help.\nYes the JS matches\nHeres a network activity screenshot during the issue:\n[image: screenshot from 2013-05-22 19 52 43]https://f.cloud.github.com/assets/814246/550417/2f6a51fc-c311-11e2-8b8d-cf3d30e28784.png\nI have version 1.04, but it could be a malformed installation. What I will\ndo is update everything as you suggested,\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/420#issuecomment-18303444\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. Yes, let's leave it open for now. Or, would it possible for me to get temporary access to your site? If so, maybe I can poke it to see where it goes wrong? Feel free to email me at bob@bolt.cm. \n. I'm pretty sure this is fixed in the meantime. If there's still a problem with this, feel free to re-open the issue, and we'll investigate further.\n. Just copy/paste the relevant section in app/config/contenttypes.yml. Bolt will then create the tables for this new contenttype. \n. Then you edit contenttypes.yml in the backend, under \"settings\" -> \"contenttypes\". ;-)\n. Hi, \nAt first glance it seems to work OK. See my screenshot. It seems it goes wrong on your site, because it gets redirected to another URL, instead of displaying a 404 or 'missing image'. For example: http://benjaminb.fr/labs/traiteur/thumbs/310x135crop/2013-04/bloc_2%20%281%29.png gets redirected to http://benjaminb.fr/ \nCould there be another .htaccess interefering with it? \n\n. If you just did an update from github, perhaps it's related to the last change I made..\nCould you try removing this line from your .htaccess? \nRewriteRule cache/ - [F]\nIf that doesn't work, could you try reverting to this version, see if that works? https://github.com/bolt/bolt/blob/aeb41dc56cef6aed06755a04cb2119f3b1849bcf/.htaccess\nAre you sure you didn't make modifications to the RewriteBase line earlier? \n. Those lines shouldn't be in there at all.. Any idea where they came from? \n. Ah, I see. Anyhow, those lines don't work as they should, and they're not in the current 'master', so everything works correctly for you now, right? \nI'm closing the issue for now. Feel free to re-open it if you have more issues.. \n. Related to #245 \n. Just a heads up: @marcelfw is working on this, because we need it for a site we're working on. \n. Note to self: We're going to do this, when we're upgrading to Bootstrap 3. \n. Hatseflats! \n\n. I haven't thoroughly tested this fix in combination with NiceUrls. Please let me know if @jkazimir's fix works as expected for this issue, so we can close it! :-)\n. Looks like a good fix. Thanks again!\n. Thanks! :-)\n. Good catch! Thanks! :-)\n. Not to my knowledge. It works for me, at least. \nWe did make some changes to how sessions are handled. Try clearing bolt's cache, logging off, clearing your browser's cache and cookies, and log on again. Does the problem persist?\n. Actually, i think this might be related to memory issues. The debug-bar can take up some memory, but this happens after the rest of the page is output. Is the memory limit in PHP set to something lower than 32mb? \n. I thought I replied to this, but apparently I didn't. Sorry about that. \nAnyhow, we'll have to see if we can attach the debug bar to $app->after() instead of $app->finish() as it is now. I've made a new issue for this: #438.\n. I wonder what you were doing to encounter this, but seems like a good change. ;-)\n. Closed, because fixed for 1.1. \n. I haven't had time do do so, yet. But eventually we're going to make all file- and image selection stuff consistent with eachother. :-)\n. I can fix this properly for \"image\" and \"imagelist\" fields. In the wysiwyg field i can make it a bit better, but like you say: When you start moving sites around on servers, it will still go wrong. Once something is stored in a field in a certain way, Bolt can't automagically update those paths. \nThat said. I'm working on some improvements, and I'll do a commit later. \n. This is planned for Bolt 1.2, as part of #47. \n. I've hardly any experience with ESI, but if we can support it, sure. \n. Closing this one, because the caching works like a mo'fo.\n. My guess is that this is a browser-issue. What browser/version and OS are you using. Have you tried another browser as well?\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Yup, looks like something went wrong there! Thank you! \n. Excellent! Thank you, again! :-)\n. Correct. Closing this one. \n. Cool! Thank you! \n. cough\nThanks! ;-)\n. Thank you yet again! :-)\n. Will be done soon. :-)\n. pinging @pvankouteren \n. Cool! Merging in, thank you! :-)\n. Thanks! \n. I'd like to postpone pulling this for a short while. It seems that nothing about this would break, but i'm wary about changing files that aren't strictly \"ours\". For example, pulling this would make it harder to merge in updates for timthumb, if we change their way of indentation. \n. In your contenttypes, you mean? Like a height: 10 for instance? If so, should be pretty easy to add. Will do so!\n. Linked to #442. \n. Yes, that's a good idea. :-)\n. Pinging @richardhinkamp : Is this something you could look into? It's sort-of the last showstopper for Bolt 1.1 stable. :-)\n. Great! thanks! :-)\n. I think this pull-request didn't go as planned. There's a lot of changed files in here. :-) \nCould you do a pull request for just messages.ru.yml ? If not, no problem, then i'll merge it in manually. \n. Closing this one, because I just merged in the other one. \n. Will check this out sometime during the weekend, and I'll let you know! Thanks!\n. Your changes look good. I'm going to postpone pulling them for a short while. I'm reluctant to add new features this close to the 1.1 final. Will add it as soon as 1.1 is out of the door! \n. 1.1 is released.. Merging now. Thanks again! \n. Thank you! :-)\n. This has been fixed.\n. :-)\n. Great! Thank you!\n. Great! Thank you! \n. My opinion is only my opinion, nothing more. Me and everybody who has contributed code to Bolt has done so to improve Bolt. In most cases by far I could be convinced to do things in a way that wouldn't be my personal choice, as long as a case can be made that the other way would be better. The only thing that I am real firm on, is that it's my job to keep things consistent: No feature creep, maintainable codebase, valuing quality over quantity. \nThat said: I think that the way Richard uses Composer to use Bolt as a component is great, and any modifications to the code that are necessary to keep that working will be merged in. As long as it doesn't break anything, or as long as it doesn't confuse users who might not need that functionality. \nWhat we should do is make it so that Bolt becomes a bit more flexible about where it's installed (in the webroot, or just outside it) and how (as 'the app' or a 'module' in vendor/). \nAnd, we should probably split up the page in the documentation about the installation, so we can properly describe the various ways you can install Bolt, depending on your needs and level of expertise. \n. Moving vendor and app outside of the webroot is a big hassle. Especially with all the files in app/ like js and css files. Since we don't have something like assetic, we can't easily 'dump' them. \nAfter 7f20befdd42f3b416cc0db6961a32a93984c8680 and d2b6aa898c9c589d9e0928b0e0e154b29116e363 it is at least possible to put config/ in another location. \n. We can't assume symlinks to work or be available for all setups. If this is the road we decide to go, I think we should split app/ into an app/ and assets/ folder. \n. This is possible using Bolt 2.0's install skeletons. \n. 1.1.0 is never officially released. I had it wrapped up and ready to go, and then i found two pretty serious bugs (one of which was fixed by you, in fact. ;-) ). The numbers and screenshots on the site were already updated, so i couldn't easily revert it. \n1.1.1 or 1.1.2 will be released tomorrow, with a proper write-up on the site. And I will tag it accordingly. \n. Would be good to have. :+1: \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Looks good to me! Thank you! \n. Is this one still needed? Just in time for the 'official' release, i made a change to include browscap.ini, instead of auto-updating it. See: https://github.com/bolt/bolt/commit/502f8061050b5a9bfb7bd213395880b6245fb90a#app/classes/lib.php\n. I guess so. As far as i know it works as it should. Closing the issue for now, feel free to re-open, if you think action is required! :-)\n. I've tried it on a bunch of shared hosting accounts, and so far they all seemed to work. As long as it's running PHP 5.3.3+ with magic_quotes set to off.\nThe snippet at app/bootstrap.php, around line 85 acts as a fallback for when intl / IntlDateFormatter isn't available. Or at least, it should. \nI've made the switch to ~2.3 in composer when 2.3.0 came out, as that is the LTS version. 2.2 will reach 'end of maintenance' in november this year, while 2.3.x will be maintained for a ling time. See http://symfony.com/blog/which-version-of-symfony-should-you-use\n. I'm leaning towards merging this now, into 'master'. That means it will probably wind up in 1.1.3, before i make a branch for \"1.1.x\" and \"master\" for 1.2. Unless somebody has a compelling argument not to, i'm going to merge it in. :-)\n. Hi, that's odd. You two are getting this problem with both the composer-version as well as the 'bolt_latest.zip' version, if i understand correctly? \nWhat i'm guessing is, that your browser redirects you to /bolt/users/edit/, and for some reason Bolt can't find the template to display that page, which is edituser.twig. I have no idea yet why this would happen. Could either of you verify that app/view/edituser.twig exists and is readable by the webserver? \nAlso, do either one of you have a phpinfo.php online, so i could see what the server is running?\n. So, what exactly did you change to make it work? The getWhichEnd function might seem like magic, but it used to work fine until now. \n$scripturi = str_replace(\"#\".dirname($_SERVER['SCRIPT_NAME']), '', \"#\".$_SERVER['REQUEST_URI'])\nThis replaces the SCRIPT_NAME with REQUEST_URI. This is correct, but it shouldn't end up with a '#' in the $scripturi.\nLike I asked before: I'm still curious to find out what types of servers you guys are running, to bump into this. Could somebody please put a phpinfo.php up? ;-)\n. So, you're on windows with xampp, right?  I've just tried it on my test-setup using xampp, and it works as expected. I would really appreciate it, if i could see it somewhere. Just \"delete \"#\". from replace string\" isn't really a solution. It might work in your case, but I didn't put it there for no reason. We need to test it, to see if we can find a solution that won't introduce more issues. \n. I've been digging into the code, and i've found the issue. It's a case of \"PHP is acting retarded\". From the page at http://nl1.php.net/dirname :\ndirname('c:/x'); // returns 'c:\\'\ndirname('c:/Temp/x'); // returns 'c:/Temp'\nNote the direction of the slashes in those two examples. I'm writing a fix for it now, expect an update in git shortly, as well as an 1.1.3 release. \nSorry for the inconvenience! \n. Neat! Thanks! \n. Thanks! :-)\n. Very nice! Especially @harm10 will be happy to see this feature. \n. I've hardly any experience with nginx, so it's perfectly possible that the docs for it are a bit scarce. I have added your suggestion to the docs. See here: https://github.com/bolt/bolt-docs/blob/master/source/setup.md\nPlease let me know if this is correct. :-)\n\nSeems like uploads should be moved to a route/controller, rather than going through a file?\n\nWe're using the jQuery file upload library, and it comes as a standalone upload.php, which has been modified to check for a valid session. Ideally, yes, we would move this to a proper Silex route. \n. bump :-)\n. Good catch! Thank you! :-)\n. Ssshh! That's my evil plot to gather email-addresses, and become filthy rich by selling exclusive lists to spammers! \n. Just noticed this myself. Thanks! :-)\n. I've been thinking about this for a short while. I knew it would only be a matter of time until a feature like this would be needed. \nOption 1 would be my preferred choice, but ideally i'd like to limit it a bit, to prevent the backend from becoming a mess. Perhaps something like this, that your extension can add items to a predefined menu-item: \n$this->addMenuItem('foo', 'bar');\nin this case, 'foo' would be the label that shows on the menu, and 'bar' would be the name you used in the bind() when adding the route. \nIn the main menu, there would be a single new menu-item for 'Extensions', which contains all the items added by extensions. That way we can ensure it won't mess up the backend, if six or seven extensions want to add their menu-items. \nIf you'd like to help code this feature: You know we're always grateful for code contributions. :-)\n. > Now I get a problem with twigpath, it hard-coded in lib.php\nIf you want to use templates in your own extension's assets/ folder, use this: \n$this->app['twig.loader.filesystem']->addPath(__DIR__);\n        return $this->app['twig']->render(\"assets/myextensionname_base.twig\", $twigvars);\nSince this adds a path, in those templates, it will still be able to find Bolt's own header and footer. Just copy base.twig, and modify the part between header and footer. Be sure to use a name like myextensionname_base to prevent potential clashes.\n. No, you can not override current pages in the backend. Assuming you mean to replace the current dashboard with your own one. Things like that, correct? \n(My apologies for the slow replies. I've been really busy with the last few days at work, and i'm on holiday next week) \n. Closing this one. We've added functionality for adding menu-items here: ff9b8a92d2592fb82bedd55dd78a07ef9b67ab7a , and additional fixes will be done there.\n. Is there a need for this? Dutch doesn't have nearly as much umlauts or other diacritics as german does, but on my sites letters like '\u00eb' and '\u00e9' work as expected.\nAt the same time, adding a 'htmlentities' filter or somesuch would be prette easy to add, if it makes people's lives easier. :-)\n. Ah, yes! German letters with umlauts are all within standard western-european, but those turkish characters aren't. \nI did a quick test with some copy-paste text from a turkish newspaper, and i didn't see any immediate issues with special characters: \n\nAre you sure that both: \n- Your theme has <meta charset=\"utf-8\" />? \n- The font you're using has those characters? \n. bump :-)\n. Is this still an issue? (you might've noticed i'm cleaning up old issues in the tracker. ;-) \nIt works as expected for me: \n\n. bump \nIs this still an issue? If not, i'd like to close it. \n. The answer to this rhetorical question is \"no\". This is a hassle, and has hardly an added benefit over the current caching. \n. In your contenttypes, what do the slugs look like? I'm guessing there's something going wrong with the slugs. If you could post your contenttype.yml, i can probably figure it out. :-)\n. Could you check if it's fixed if you add a slug for 'home_items'? I'll fix this properly later.\n. Could you email me? So far, I have no idea why this is happening. I'd like to get temporary access to the site, so I can figure out what's going on. \n. These issues have been fixed. Closing.\n. Thanks! :-)\n. For now, this is considered \"out of scope\". What is it that you're missing, exactly?\n. You can already do this: edit any user with level 'editor', and you can select which contenttypes he/she can edit. \n. Yes, this is most certainly a feature that will be added in the near future. \n. Nothing solid at the moment, but I don't see why not. If you have ideas on how we should do this best, i'm open for discussing it. :-)\n. I'll get back to you on that after my holiday-break in two weeks. :-)\nOn Fri, Jun 28, 2013 at 12:07 PM, Martin Rademacher \nnotifications@github.com wrote:\n\nI might have a go at a few things. Suggestions welcome here too ;)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/487#issuecomment-20180247\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. @pvankouteren I don't think 'loosely coupled' is the correct term. I do kwow that evertything on the 'frontend' of the website is controlled by app/src/Bolt/Controllers/Frontend. \nIt could be replaced by an other controllercollection, that treats it more like an API, which could be mounted under /api, for instance. That way we could actually create an API to get/set/delete Bolt content for other purposes than simple websites. \nAbout @DerManoMann 's questions: \n1) Yes, i can see how that would be useful.\n2) Check this: http://dev.richardhinkamp.nl/blog/installing-bolt-with-composer\n. @DerManoMann It is a seperate issue now. See #512.\n. I have a really, really basic extension that retrieves a bunch of records\nas JSON(and/or 'p'). That's all. A better thought-out extension would be\nnice to have.\nOn Wed, Sep 25, 2013 at 6:01 PM, Patrick van Kouteren \nnotifications@github.com wrote:\n\nIs someone working on an API thingy already? I've just started some\ndevelopment on an API proposal in the form of an extension..\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/487#issuecomment-25100408\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. See this: https://gist.github.com/bobdenotter/6732168\n. We do have a JSON API now. \nClosing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Sounds like a bug. We'll fix this. \n(I'm on vacation next week, so my apologies for slow response and fixes)\n. Checking for tables should be done only once an hour, i think.. I'll be back from my vacation on mondat, and I'll pick up the backload of work on Bolt. Will check this soon! \nBest, Bob. \n. I'm cleaning up the issue-list, and as such I'm closing this issue due to inactivity. If you feel this is still a problem, feel free to re-open the issue, and we'll help you out. \n. Thanks again! \n. Hi, This monday I'll be back from my vacation, and I'll pick up the backload of work on Bolt. Will check (and merge) this soon! \nBest, Bob. \n. Whoops. Thanks!\n. This was a deliberate change by me. I prefer it closed. You do not, I guess? If more people prefer open, I'll be willing to revert it. \n. Nobody else objected. Closing this issue. \n. This might be helpful: https://gist.github.com/bobdenotter/6732168\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Hi, This monday I'll be back from my vacation, and I'll pick up the backload of work on Bolt. Will check (and merge) this soon! \nBest, Bob. \n. Isn't this a bit too much magic? What if you have columns that actually contains values like \"yesterday morning\"? \nYou should be able to do things like this, by the way: \n{% setcontent varname = 'contenttype' where { status: 'published', datefield: \">2013-07-01,<2013-08-01\" } %}\n. I agree. But don't you think we should extend upon the cases we now have, instead of using this pullrequest, which could cause unforeseen results.\nYou might be able to use a hackish solution like this too: \n{% set daterange = \"<\" ~ \"tomorrow\"|date('Y-m-d') ~ \",>\" ~ \"last monday\"|date('Y-m-d') %}\n{% setcontent varname = 'contenttype' where { status: 'published', datefield: daterange } %}\n. We've just landed a refactored implementation of {% setcontent %} by @marcelfw. If you're still missing these extra filters, perhaps it will be easier to add them in a proper way, now. \n. Now that the refactored setcontent is done and seemingly bug-free, we can get back to this one. Could you fix the indentation to match the rest? \nAlso, could you add this functionality to the relevant page in the documentation?\n. Are you sure the files/ folder is writable? \n. If you do a checkout from Git, you'll see Bolt now comes with an ImportWXR extension. It's a bit rough around the edges, and it needs to be documented, but I've already used it to import some big WP sites (several thousand pages/posts).\nIf you have the chance, please try it out, and let me know where/if it breaks. \nI'm going to leave this issue open for now, as a reminder to myself that I'm going to have to document it. \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. If this doesn't work, this is a bug. I'll look into this. \n. Work on Bolt has been a bit slow, because of my summer holiday. I'm working on the backload of things to do, and will get around to this shortly. :-)\n. Hi Acrueid,\nExcellent! Want to make a pull-request for this, so you get 'credits'? Or\nshould i just merge in your changes?\nAnyhow, thanks a bunch! :-)\nCheers, Bob.\nOn Mon, Aug 19, 2013 at 7:38 PM, Arcrueid notifications@github.com wrote:\n\nHiya\nI made this work\ncheck my code in bolt.js\nonly replace this var!\nvar ImagelistHolder = Backbone.View.extend({\ninitialize: function(id) {\n    this.list = new Imagelist();\n    var prelist = $('#'+this.id).val();\n    if (prelist != \"\") {\n        var prelist = $.parseJSON($('#'+this.id).val());\n        _.each(prelist, function(item){\n            var image = new Imagemodel({filename: item.filename, title: item.title, id: this.list.length });\n            this.list.add(image);\n        }, this);\n    }\n    this.render();\n    this.bindEvents();\n},\nrender: function() {\n    this.list.sort();\nvar $list = $('#imagelist-'+this.id+' .list');\n$list.html('');\n_.each(this.list.models, function(image){\n    var html = \"<div data-id='\" + image.get('id') + \"' class='ui-state-default'>\" +\n        \"<img src='\" + path + \"../thumbs/60x40/\" + image.get('filename') + \"' width=60 height=40><input type='text' value='\" +\n        _.escape(image.get('title'))  + \"'><a href='#'><i class='icon-remove'></i></a></div>\";\n    $list.append(html);\n});\nif (this.list.models.length == 0) {\n    $list.append(\"<p>No images in the list, yet.</p>\");\n}\nthis.serialize();\n},\nadd: function(filename, title) {\n    var image = new Imagemodel({filename: filename, title: title, id: this.list.length });\nthis.list.add(image);\nthis.render();\n},\nremove: function(id) {\n    _.each(this.list.models, function(item) {\n        if (item.get('id') == id) {\n            this.list.remove(item);\n        }\n    }, this);\n    this.render();\n},\nserialize: function() {\n    var ser = JSON.stringify(this.list);\n    $('#'+this.id).val(ser);\n},\ndoneSort: function() {\n    var list = this.list; // jQuery's .each overwrites 'this' scope, set it here..\n    $('#imagelist-'+this.id+' .list div').each(function(index) {\n        var id = $(this).data('id');\n        var title = $(this).find('input').val()\n        list.setOrder(id, index, title);\n    });\n    this.render();\n},\nbindEvents: function() {\n    var $this = this,\n        contentkey = this.id,\n        $holder = $('#imagelist-'+this.id);\n```\n$holder.find(\"div.list\").sortable({\n    stop: function() {\n        $this.doneSort();\n    },\n    delay: 100,\n    distance: 5\n});\n$('#fileupload-' + contentkey).attr('name', 'files[]')\n    .fileupload({\n        dataType: 'json',\n        dropZone: $holder,\n        done: function (e, data) {\n            $.each(data.result, function (index, file) {\n                var filename = decodeURI(file.url).replace(\"/files/\", \"\");\n                $this.add(filename, filename);\n            });\n        }\n    });\n$holder.find(\"div.list\").on('click', 'a', function(e) {\n    e.preventDefault();\n    if (confirm('Are you sure you want to remove this image?')) {\n        var id = $(this).parent().data('id');\n        $this.remove(id);\n    }\n});\n$holder.find(\"div.list\").on('blur', 'input', function() {\n    $this.doneSort();\n});\n// In the modal dialog, to navigate folders..\n$('#selectImageModal-' + contentkey).on('click','.folder', function(e) {\n    e.preventDefault();\n    $('#selectImageModal-' + contentkey + ' .modal-body').load($(this).attr('href'));\n});\n// In the modal dialog, to select a file..\n$('#selectImageModal-' + contentkey).on('click','.file', function(e) {\n    e.preventDefault();\n    var filename = $(this).attr('href');\n    $this.add(filename, filename);\n});\n```\n}\n});\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/500#issuecomment-22889799\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. Hi Arcrueid,\nJust commited your fix! Thanks again.\nPD: Need remove the paste event when u have multiple fileupload's.\n\nCould you expand on that? Is there an issue with multiple file-uploads?\n. Is this still an issue? If so, what should we do to resolve it? \n. Hmm, 100 is a bit low for the sitemap, yes. It should retrieve all records. \n\nAlso, shouldn't we move this functionality to an extension as well? (just thinking out loud?) That way we could make it use its own config.yml, allowing people to set the contenttypes and amount of records to show. \n. In 719dcb463abd6cbd864dfc0f14898bd91ed99c4c I've refactored the Sitemap functionality into an extension. Functionality-wise nothing has changed yet. \n. (wait nevermind, i was thinking about the RSSFeeds..)\n. Ah, yes. I had to make some modifications to how {{ tags }} are parsed inside the content. I'll see if i can fix this. \n. This issue has been fixed. You can either patch it manually, or wait for 1.1.3 to be released (soon!).\n. It's getting to be pretty annoying, currently. Since it breaks every single time, it's just more email notifications i need to throw away. :-/\n. Great. :-)\nOn Mon, Aug 5, 2013 at 1:44 PM, Patrick van Kouteren \nnotifications@github.com wrote:\n\nI know, sorry for that. I'm setting up a VM to fix this. Had quite some\nsetbacks last week, so I didn't get to it. I hope to be able to do some\nwork on it tonight or tomorrow night.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/508#issuecomment-22100955\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. Can we exclude files on a 'per file' basis? If we can't exclude the files that we're not going to fix, we'll always get errors on those (for example: timthumb.php or ckeditor).\nOther than that: enable whatever you think is realistically fixable, preferably by php-cs-fixer, so we can just do it, and get it done. \n. That's a good idea. Let's do that! \n. Agreed, let's close this one. :-)\n. Thank you again! :-)\n. You are correct. It's fixed in the docs now. Since it's \"plain\" markdown, I can't easily make it a dynamic include. \nNote that there's also a new small fix in the timthumb line. \nhttp://docs.bolt.cm/setup#apache-tweaking-the-htaccess-file\n. I feel that this should really be an extension, and not part of core functionality. \n. Closed, because \"out of scope\".\n. @hansfn Thanks! Will look into it. \n. @DerManoMann absolutely. In the mean time i've moved a few, and I will move a few more. This refactoring is an ongoing process. ;-)\n. Closing this one. \n. This one pops up regularly. I know it's something a lot of people would like, but i know from experience that doing multilingual is hard if you want to do it right. I mean, we could kludge together something quickly, but I know that doing that will only lead to more support and frustration down the road. Either we do it properly, or we don't do it all for now. \nSee this issue for a lot more thoughts about this: #234\n. That code is hopelessly outdated. :-)\nHow I should do it now, is like this:\n- create contenttypes, like 'pages' and 'paginas' or 'seiten' or whatever localised version of the contenttypes you'd like.\n- The contenttypes themselves can be identical, with regards to the used fields\n- Optionally create a 'relationship' between the contenttypes, so that it's easier to link between them. \nNow, in the backend you'll have the different contenttypes and the possibility to link them together. However, using this you will get clunky URLs like example.org/pagina/over-ons and example.org/page/about-us. In bolt 1.2 we have introduced proper routing, so we can change the URLs to nl.example.org/over-ons or example.org/en/about-us. \nTo make a language-switch, you should add a bit of code in the templates that checks if the page has a relation to a page in one of the other contenttypes. If so, you can link to the matching page directly, or otherwise just link to the frontpage in the other language. \nIf you use menu.yml, you can just add more menus, one each per language, and use that in the templates. \nI know I've promised to write a bit about this. I'd like to get 1.2 out of the door soon, so that I can actually tell people to use the new routing to set up multilingual pages. \n. What you've described, should work. That is, as long as all of the pages have a language set. You should add perhaps add a requirement for the languages to the routing: \npages:\n  path: /{language}/{contenttypeslug}/{slug}\n  defaults: { _controller: 'Bolt\\Controllers\\Frontend::record', 'contenttypeslug': 'page' }\n  requirements:\n    language: 'nl|en|de'\n  contenttype: pages\nOr, when you're developing, and like to throw less errors when developing, allow 'empty' as option:\nlanguage: 'nl|en|de|'\n. @helderco Interesting! This looks pretty good! You're still using different contenttypes for different languages, I assume? \n. Closing. Use only #234 for discussion on this. \nSee also this informational page on the docs: https://docs.bolt.cm/howto/building-multilingual-websites\n. This was fixed in 11b1719af28a1045a870a6abf4fb4d9c4669bd5b\n. Before we proudly show the badge, shouldn't we first make it at least work sometimes? ;-)\n. Okido! Here we go! \n. Thank you! This is the results of my refactoring the 'config' array into an object. I'll fix this soon. I think the following will work, but i'll need to test it: \n$dboptions = array(\n                'driver' => 'pdo_sqlite',\n                'path' => __DIR__ . \"/../../database/\" . $basename,\n                'randomfunction' => \"RANDOM()\"\n            );\n. Apparently, we can't. \n. For example, this doesn't work: \n{% setcontent records = \"entries\" allowpaging printquery %}\n. Looking good! whoop whoop!\n. I'm going to update composer.json. Please let me know if this solves the problem.\n. Derp. Thank you! \n. If a site goes live, you should set debug: false, and you should get waaaay less of those screens. It's really meant for the development phase only. \nIf you're referring to the one that says: \nMessage: The page could not be found, and there is no 'notfound' set in 'config.yml'. Sorry about that.\nCode: 0\nYou should set up a 404 page for your site. \n. I can't easily reproduce this. I assume that $value[0] will give a notice when $value is empty, so replacing it with substr() might fix it. On the other hand, are you sure that tag was not empty in your {% setcontent %} statement? \n. Well, that's odd then.. No idea. :-) \nCould you fix it on your end, and do a pull-request? I'll gladly merge it in. \n. The Roadmap is actually changing a bit all the time. Basically we're doing demand driven development: We have a pretty good idea where we're going, but sometimes certain functionality gets prioritized if we need it, for a specific (paying) client. \nThat said, 1.2 is out soon. It contains some neat features, and we'll update the roadmap accordingly.\nAt the same time, we really try to keep things backward compatible. If you bump into anything specific, don't hesitate to open an issue for it! \n. Hi, \nI think I agree that varchar(256) is a bit low. With a multi-select, this can end up larger than 256 chars quickly. Let's fix that!\nApart from that, I think a select might not be the best way to do this, in your case? Why not use a taxonomy that acts like a category: \nyml\nservices:\n    name: Services\n    singular_name: Service\n    behaves_like: categories\n    multiple: true\n    options: \n      - legs-behind-head: \"I can put my legs behind my head\"\n      - likes-spanking: \"I like to be spanked\"\n      - has-whip: \"I have my own assortment of whips\"\n      - etc: Etcetera..\nThis way you can make the list as long as you want, use 'short sluglike names' to address them, and I imagine it will be less likely for the editors to break it. \n. I completely agree with you. The select-fields should listen to class: wide. I'll fix that. Together with changing the column in the database to 'TEXT'. That's why i left the issue open, so we could address the bug. \nNevertheless, in your specific case, I'd change it to a taxonomy, instead of a plain field. ;-)\n. Thanks for the compliment! \n(going to re-open it for now, because otherwise I might forget to fix the class: wide and TEXT thingies. :-) )\n. Confirmed. Expect a fix shortly. The fix will prevent empty slugs in the database, but you might have to manually edit empty slugs that are already in.\n. I'm wrapping up some loose ends so we can release 1.2 soon. ;-)\n. As far as I know titles (and other content) with accents all work fine. Which version of Bolt are you running? on SQLite or Mysql? Is it publicly accessible, so i can take a peek? \n. Ok. Please let me know if you find anything. It should work, as far as I can tell..\nIf the < shows up in the upper left corner, can you inspect the 'view-source' in your browser for a clue where it might go wrong?\n. Hi, I thought i fixed this one already. It's related to the new object for $app['config']. \nCould you post the output of var_dump($_SERVER) ? Which PHP version are you on?\n. Thanks. I'll commit a fix for this later tonight! \n. Could you let me know if this makes the issue go away? If not, does it trigger on a different line number?\n. Should be fixed in a3fd6e5034645e851cc2914c3796aefdce7864ec. Can you confirm it's working again for you?\n. Whoops. Should be fixed in bc0d77bcb9a16f8784ab409acab0f2b696102bba.\n. OK, closing this issue.\n. Your fix would fix it for Russian, but i think other languages will still have issues. \n@marcelfw Do we really need to use safestring? \n. That's what i was thinking. Let's fix it properly then, instead of fixing your case for russian, and then next week somebody has a broken search for swedish. :-)\n. I think i'd be fine with Bolt having a decent-but-not-perfect search engine out of the box. Ideally we'll have extensions that implement good search using optimized engines like Solr, Lucene or Elastic. \nYour change looks good to me, for now. \n@leonbobster: Could you check if this solves your problem for now? If not, please update your pull-request so we can merge it. \n. Bump. @leonbobster does it work for you now? If so, we can close this issue. :-)\n. Yup, that looks good. Thanks! \n. Looks good! Thank you! \n. Any thoughts to how it should be reimplemented? Keeping both in mind that a proper rewrite without doctrine's schemeManager would probably be a lot of work, before we ironed out all of the kinks..\nAlso, have you tried a recent version of Bolt from our repository? I've re-implemented the entire $app['config'] to be an object, that caches the read config files. An additional benefit of this is that the integrity checker ONLY need to be run, is when we detect a change in the config files. As long as the config stays the same, the integrity checker is not run. \n. Since you re-opened it. Any thoughts? :-)\n. I'm cleaning up the issue-list, and as such I'm closing this issue due to inactivity. If you feel this is still a problem, feel free to re-open the issue, and we'll help you out. \n. Definitely related. Should be fixed in a3fd6e5034645e851cc2914c3796aefdce7864ec.\n. The 'base-2013' theme is built on Foundation 3.2. Mainly because Foundation 4 wasn't out yet at the time. \nBolt itself is pretty much agnostic about how HTML is structured in the templates. For clients we're actually mostly using foundation 4 with Bolt, without issues. \nWhen I (or someone else) has the time, we should get a new base theme that uses foundation, but in the meantime nothing's stopping you from using it in your own themes. \n. Thanks. I'm not sure we should pull this into core. It'll add composer packages for a specific use-case, and most people will just see this as bloat. Ideally, this should be implemented as an extension. \n. I'm doing a big cleanup in the issue list, so i'm closing this one. There hasn't been any activity in this issue for a while. If you think this should still be resolved, feel free to re-open this issue, or open a new one.\n. And in the case of this one: It'd be great to have this as an extension, but this should not be in core. \n. I'm not sure why it doesn't work. I'm guessing it's because there's a conflict between two different contenttypes, that suddenly want to serve a page for a /foo link. \nIn other news: Bolt 1.2 (due out in a week or two) will have proper routing, so it will be much easier to change the routes to how you want them to be. \n. @mike-anthony You're the same Michael that emailed me, right? Did you see my reply? ;-)\nAnyhow: \n\nIn that case, will I be able define each and every single route for a content type? In other words, if I have a page content type, will I be able to remove the /page/ slug, so that I can just use /about-us?\n\nYes, you can either define routes for a whole contenttype, or for individual pages if you wish. Or for a specific category, tag, or whatnot. \n\nAlso, do you think content type structures will be implemented at some point?\n\nYes, someday. If we do that, we'll need to do it properly, and it will take some thought how to do it in the best way. \n\nI understand that Bolt is meant to be simple and straight-forward, however I feel that, if implemented correctly, it could work well, and can be easily understood - making it simple, and straight-forward.\n\nYes, i completely agree. 'implemented correctly' is the key here. If we do something half-assed, it will only be more confusing to other people. :-)\n. > How would I do that?\nFrom the top of my head:\nyml\nfoo:\n    path:     /foo\n    defaults: { _controller: 'Bolt\\Controllers\\Frontend::record', 'contenttypeslug': 'page', 'slug': 'about' }\nor:\nyml\nclient-philosophy:\n    path:     /about-us/client-philosophy\n    defaults: { _controller: 'Bolt\\Controllers\\Frontend::record', 'contenttypeslug': 'page', 'slug': 'about-client-philosophy' }\nObviously, foo can be whatever you want, and you can map it to a contenttype and slug of your choice. \n. Okido. Closing this issue, then. \nJust an FYI: We're going to rename 'routes.yml' to 'routing.yml' one of these days. To keep it more in line with how Symfony does it. \n. Yes, I suppose the functionality of the NiceUrls extension has been\nreplaced by Routing and/or the Redirector extensions. :-)\nOn Fri, Sep 13, 2013 at 2:45 PM, Patrick van Kouteren \nnotifications@github.com wrote:\n\nCan't we just leave out the NiceUrls plugin now? :)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/542#issuecomment-24391740\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. I think this could be handled by routes.yml, without the need for an extra .yml file. \nYour example could be done in routes.yml like this: \nyml\noldpages:\n    path:     /{slug}.html\n    defaults: { _controller: 'Bolt\\Controllers\\Frontend::record', 'contenttypeslug': 'page' }\n    requirements:\n        slug:    '[a-z0-9-_]+'\nThis would make a request for foo.html map to the page with slug foo. \n. Hmm, perhaps we should add an option to not just 'map' it, but redirect instead. What does it look like in Laravel? Perhaps we can make it behave in a similar way in Bolt..\n. Perhaps we should add a simple option like this: \nyml\noldpages:\n    path:     /{slug}.html\n    defaults: { _controller: 'Bolt\\Controllers\\Frontend::record', 'contenttypeslug': 'page' }\n    enforce_canonical: true\n    requirements:\n        slug:    '[a-z0-9-_]+'\nIf the redirect is set, the browser/user will automatically be redirected to the actual canonical of the page. This should be the desired behviour in most cases, and it will prevent duplicate content in search engines. \nFor those cases that you might need more flexibility in redirecting, i'd think an extension would be best. This extension can use its own config.yml, and intercept calls like the _before handler. \n. I think i agree. Yes, let's not do redirects in routing.yml, but in an extension. If you have the time to get one setup this afternoon, that'd be great. \n. Great! \n\nAre extensions called upon before Bolt kicks off?\n\nYes, the initialize() function is called always, before a request is actually handled by a Controller. You can use this to 'intercept' the requests that should be redirected. \nI'm not sure if it'd be best to add a very generic $app->match() to catch all requests (which will be handled after the routes in routes.yml), or to use the initialize() phase to add some specific routes to handle the redirects. \nYou could take a look at the RSSFeed extension (for adding routes), and to NiceUrls (for adding a bunch of routes).\n. Yes, if you do a fresh 'git pull', you can then do this: \n$contenttypes = $this->app['config']->get('contenttypes'); \n    $routing = $this->app['config']->get('routing');\nto see the contenttypes and routing. \n. Ok, there should be a packaged 'beta' of 1.2 in a few days. \n. The 0.3 version is looking good! I'm going to put it in the Bolt repo, and\nrelease 1.2 tomorrow with the Redirector extension included.\nCheers!\nOn Thu, Sep 12, 2013 at 7:21 PM, Mike Anthony notifications@github.comwrote:\n\nOkay, I had to reboot the repo - lots of conflicts, etc. New to git, so\nwas not sure how to go about fixing it. Anyways, 0.3 is live at\nfoundry-code/bolt-redirectorhttps://github.com/foundry-code/bolt-redirector.\n:)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/544#issuecomment-24339207\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. I'll squeeze those in for the release! Thanks!\n. Closing this issue!\n. Hi, currently checkbox and select can be used as field types. Checkboxes are simple on/off toggles, and select can be used as either single or multiple select. Check the 'kitchensink' in the default contenttype.yml for examples. \nI'm not sure what it is that you're missing. :-)\n. Don't worry about it. I'll gladly answer any questions. :-)\nClosing this issue. \n. Hi, \n\"relations\" are a bit different than regular fields or taxonomies. In the sense that they actually need to retrieve other records from the database, and that related records can also have relations themselves. \nIf you use foo.related() the data is retrieved from the database, and returned in your template. Not unlike setcontent. In fact, these two statements return a similar array:\n{% setcontent foo = \"pages\" %}\nor:\n{% set foo = bar.related(\"pages\") %}\nIf you're having issues with returned values and what's in them, always use {{ print( foo ) }} as it will print out what's in a variable. \nIf you're using .related() and you're certain you only have one result, you can use foo|first instead of foo[0], if you wish. \nDoes that make it clearer? If not, let me know how i should improve the docs. :-)\n. > But using print() I saw that all the complete object data is retrieved, with its own relations details, when we often just need a string.\nIn my tests the amount of time/memory save when retrieving just one column versus the entire record is negliable, but it would mean more code to write, test and maintain. We're going to leave it like this. \n. I'll just need to write the docs, and do some more testing. In short, edit the config.yml so the fields in your wordpress-xml match the fields in your bolt contenttype, and you should be good to go. If you can't get it to work, feel free to send me your xml file, and i'll tell you how to set it up. \n. ImportWXR has been included for a short while now. \nClosing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Sometimes issues like this pop up, but I haven't been able to reproduce this, yet. It's not much help to you, but this is one of those \"works for me\" type of things. See the screenshots below.\nCan you verify the data is in MySQL correctly, if you use PHPMyadmin or something like that? On the website itself, does the page have a utf-8 encoding?\n<meta charset=\"utf-8\" />\n\n\n. Closing this issue, as it it resolved.\n. Looks good! Thank you! \n. The fix for this will be in Bolt 1.2. Thanks for bringing it to my attention! \n. Are you sure this happens? The function that handles this, in /app/Src/Bolt/Content.php, explicitly adds spaces between the fields: \n```\n    $excerpt = implode(\" \", $excerpt);\n$excerpt = trimText(strip_tags($excerpt), $length) ;\n\nreturn new \\Twig_Markup($excerpt, 'UTF-8');\n\n```\n. Ah, I see. I can improve that!\nOn Fri, Aug 30, 2013 at 10:52 AM, Evert Albers notifications@github.comwrote:\n\nYou are correct, I looked wrong: it was not the point between 2 fields,\nbut it was the point between a h3 /h3 and the following p /p within one\nhtml field. I can solve this by putting a space at the end of the h3 in\nthis page of course.\nWould still be good if Bolt could catch (most of) these occurrences, but I\ndon't know if that's difficult to implement.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/551#issuecomment-23548279\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. Ah, only noticed this one now.. Related to #553. \n. I'm cleaning up the issue-list, and as such I'm closing this issue due to inactivity. If you feel this is still a problem, feel free to re-open the issue, and we'll help you out. \n. That's not rude at all. I just closed this because someone said \"add a line to the comments\" without giving any context. I had no idea it had to do with two-step verification. \nCan you verify that following the mentioned link fixes it? If so, I'll gladly add a comment about it. \n. This turned out to be an issue with two-factor authenticaion, if memory serves me right. \nClosing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. What is this DisplayUnlockCaptcha for? I can't seem to find much information about it..\n. bump :-)\n. I guess, but what for? How does using that link (from your own computer, i suppose) affect using this service that's used from a webserver.. \nI also wonder why/when you would need this. I haven't had any problems using the Google analytics extension. \n. I'm cleaning up the issue-list, and as such I'm closing this issue due to inactivity. If you feel this is still a problem, feel free to re-open the issue, and we'll help you out. \n. Not to sidetrack the broader aspects of this question, but one thing: \n\nLink url (with typical validation function for missing http:// for example)\n\nThis is possible in Bolt 1.2\nyml\n  fields:\n    urlinkthingy:\n      type: text\n      required: true\n      pattern: url\n. I'm cleaning up the issue-list, and as such I'm closing this issue due to inactivity. If you feel this is still a problem, feel free to re-open the issue, and we'll help you out. \n(discussion can also be done in #574 )\n. This has been fixed for 1.2. In issue #509, to be precise. \n. Hi, \nI'm not sure what's happening. If i understand correctly, uploaded images are not saved in the Database, correct? \nAre the files themselves uploaded and placed in the files/2013-09 folder? Do you get any specific errors?\nAre you sure the folder files and everything in it is chmodded to 777? \n. I'm cleaning up the issue-list, and as such I'm closing this issue due to inactivity. If you feel this is still a problem, feel free to re-open the issue, and we'll help you out. \n. Thanks for reminding me, I almost forgot! Will fix this ASAP. \n. Changing line 209 in app/classes/lib.php to this, ought to fix it: \n$path = str_replace(\"\\\\\", \"/\", stripTrailingSlash($path));\n. Can't really say what's happening without seeing the entire HTML and CSS, but it looks like either a missed  or some quirk in the css..\nTry running the HTML through the validator on http://validator.w3.org/ to see if you can spot issues. At the same time, see if you can isolate it better on screen:\n```\n\n\n  {{ pager('', 5, '_sub_simplepager.twig') }}\n\n\nThat should put the pager in a nice red box, with lines around it. If it doesn't something might be wrong in the HTML. \n```\n. I'm cleaning up the issue-list, and as such I'm closing this issue due to inactivity. If you feel this is still a problem, feel free to re-open the issue, and we'll help you out. \n. I can't reproduce this yet.. So, some questions:\n- Which version of PHP are you using? Mysql or sqlite?\n- Does this happen before you even get a chance to set up the first user or after?\nCould you try editing line 834 in app/src/Bolt/Users.php to this?\nreturn (is_array($validContenttypes) && in_array($contenttype, $validContenttypes));\nThis should add a check to precent that specific notice. Let me know if it helps. \n. Ah, 5.4 would explain it. Let me know if the suggested fix solves it for you, @dolcy and @mike-anthony.\n. Thanks. Closing this issue, then. \n. Actualy, it is used, but the output is never sent to the client. This is a \"feature\", not a bug. Nevertheless, this means we will need to add the debugbar on $app->after() instead of $app->finish().\n. Fixed by #580 \n. Thanks again! \n. Looks good. Thanks again! :-)\n. I think i might know what causes this. Expect a fix later today. \n. > In addition, and if using id is possible, does it help with duplicate checking?\nIn bolt 1.2 I should've fixed the duplication of slugs. Are you sure this is still an issue? \n. This feature was added for bolt 1.2. If you're using Bolt 1.1.x, it will not work yet. If you need this feature, either use the bolt 1.2 beta from here or wait for the release (later this week)\n. Ok. closing this issue, then. :-)\n. Nope. I'd rather take some time to fix this properly. I'm going to work on this, but do a couple of things while i'm at it: \n- Currently, the 'contenttype' is fixed in the front of the slug's preview. This shouldn't be the case anymore.\n- We don't use the proper links: If somebody set up the routing to look like /foo/{slug}/bar, the preview should reflect that\n- We don't want a simple 'prompt' asking for a new slug, but inline editing\n- See if we can do something about the perceived delay that you mentioned earlier\n- And, obviously, fix the issue when you have uses: [ id, title ].\nTogether this will require some work, and i didn't want to do it in a hurry. Introducing new bugs right before a release sucks. :-)\n. I'm not worried about that, since there's always things people want better or just plain 'differently'. \nIf we keep tinkering until we feel it's perfect, we'd never be able to release. The 1.2 as-is is pretty stable, is better than 1.1, we're just going to release and fix this in 1.2.1 or 1.3. \n. Yeah, the showcase needs an update. We need to do more with it, both with how the showcase itself looks, as well as its contents. It's pretty outdated. \n. Great! :-)\n. No, we should not do that. It's bad enough that you can change them one at\na time, but URI's aren't supposed to change. See:\nhttp://www.w3.org/Provider/Style/URI.html\nOn Tue, Oct 1, 2013 at 4:50 PM, Mike Anthony notifications@github.comwrote:\n\n@bobdenotter https://github.com/bobdenotter: Just something that's come\nup. If we implement this all properly, will there be a facility to make all\nrecords published in the past update themselves to match the format? I\nwouldn't want to be in a position where I have some posts that just use\ntitle and others that use title and id or datepublish.\nI'm quite keen on the formating of the slug. Perhaps some presets, like\nyear and month?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/567#issuecomment-25456066\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. @hqmatics Have you read the docs on routing? You can already make links / paths like /blog/2013-10-01/foo-bar\n. Closing this one. This has been fixed a while ago.\n. See also #567.\nAbout it being sluggish: You are correct. It's generated on the server, so every update is an 'ajax' call to the Bolt backend to fetch the new slug. When I fix that issue, i'll see if i can lower the delay, so it updates a bit more snappy. For me, it's a lot quicker though: it updates every 0.4 or 0.5 seconds.\n\nWhile I'm at it, I also think that, for the manual slug editor, we should not have a popup dialog. Like Wordpress, we should use an overlapping text field. It's just much easier to work with; in-place editors are just awesome, anyway.\n\nI agree. The popup was merely a placeholder for a feature I implemented quickly. Since people seem to like this issue, we'll fix that properly. These things probably won't make it into 1.2, but more like into 1.3. I'd really like to keep the release cycle going. :-)\n. Confirmed. Will fix this. \n. The next version after it's fixed. ;-)\nBut, seriously.. I've looked into this for a short while, and as far as I can tell, there's no way to set the height of individual CKeditor instances. In bolt.js, we can set the height for all of them, or set them to 'autogrow', but we can't set the size for a specific editor field. \n. CKeditor still doesn't support this. \nClosing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Thanks again! I'm going to change the OR to ||, though, to keep it consistent with the rest of the code. :-)\n. I'm not too familiar with zend server on OSX, but it looks like it's missing the json extension. If you have a script with <?php phpinfo();, is there a JSON section in the output? \nGoogling the error indicates that the json.so you have is compiled for 32-bit, while your OS is 64-bit. Is there a newer version of Zend server available? \n\n. I have no idea about this one. I can't seem to replicate it, yet. \nI did notice that there's a newer version available, so I've upgraded it. Could you see if replacing the file app/view/js/moment.min.js with this one Solves the issue for you? If it doesn't, does your console give a backtrace? And could i get a screenshot of it? Which browser/version? \n. 1.2 is the version-in-development in Master. I plan to release it publicly this friday. The \"1.2 RC\" / master version from Github should be pretty stable. \n. The main reason that \"images\" is TEXT and \"image\" isn't, is that a 'list of files' quickly is greater than 256 chars. However, i have no issues making 'image' TEXT as well. The DB migration code updates this seamlessly. \nBuilding a proper media library that can be used in 'image' is on my long list of things i'd like to have in Bolt. But, I was thinking about doing this slightly different. I was thinking about having a bolt_media table that contains all the data and attributes for the image, video or soundclip. Then the image field could be just a foreign key with the bolt_media's id. Schema.org's MediaObject could be a good starting point, although it might be a bit overkill. \n. We should absolutely look at how other projects do this.. Perhaps there is a composer / packagist module that does some of the heavy-lifting? Maybe there's another CMS that already \"did it right\"?\n. Quick search yields these: \n- http://symfony.com/doc/master/cmf/bundles/media.html\n- http://sonata-project.org/bundles/media/master/doc/index.html\nHaven't tried either, but my gut feeling says they are \"out of scope\" with our motto of trying to stay simple..\nThese seem to be less feature-rich, but also only parts of what we need: \n- http://intervention.olivervogel.net/image\n- https://github.com/Sybio/ImageWorkshop\n- https://github.com/davidpersson/mm\n- https://code.google.com/p/php-reader/\n. (i took the liberty of editing the title of this issue, to make it easier to find)\n. Some progress on this was made last week.. Going to leave this one open for a while, though..\n. Just bumping the thread.. :-) \nPerhaps there should be a config setting, that allows you to set the default path for uploads, directly from editing (or the stack), like:\nupload_format: \"%month%/%filename%\"\nor:\nupload_format: \"%contenttype%-%extension%/%year%/foo-%filename%\"\n. I haven't had much time to look into the cli-server myself, but good to hear that it works with these changes! Thank you. \n. Nothing in the works yet, but i'm open to suggestions. :-)\n. I'm personally a big fan of foundation, especially version 4. The current default theme in Bolt is still Foundation 3, but I wouldn't swapping it for a theme based on Foundation 4. Perhaps we could incorporate this into the theme, to show how it can work. \n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nOn 13 sep. 2013, at 09:26, Evert Albers notifications@github.com wrote:\n\nHaving this functionality in the CMS rather should have a clear advantage over doing the same in a frontend solution. Your example looks good, but so does http://foundation.zurb.com/docs/components/interchange.html, at first sight.\n\u2014\nReply to this email directly or view it on GitHub.\n. timthumb is on the way out.. We're working on that! \n\nClosing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Thanks! Just in time for the 1.2 release. ;-)\n(I know it's called without an argument, because in lowlevelchecks the Config object isn't initialized yet. I've added a default for it, for now)\n. Thanks. ;-)\n. I'm not sure what you mean exactly? which object do you mean? \nYour code could be a bit simpler though. if you know you need one item, you could do this:\ntwig\n        {% setcontent gallery = 'galleries/front-gallery' returnsingle %}\n                {% for image in gallery.slider %}\nYou can't really add a slider for a single gallery. I'd suggest using a slider or something in jQuery, so you can solve it in the frontend. \n. It is in the docs, in the section with 'setcontent'.. It's not a standard twig tag/filter, but rather an attribute that i've made specifically for the {% setcontent %} tag. \n. Here it is: http://docs.bolt.cm/content-fetching#one-record-or-multiple-records\n. Closing this issue to keep the list clean. If this is still a problem, feel free to re-open it, or open a new issue.\n. Great! Thanks! \n. It would also help to know which file is broken, according to you. \n. If you do a direct download of http://bolt.cm/distribution/bolt_latest.zip , how many bytes is the file? It should be 5,801,084 bytes. \n. That's strange, that you can't download them properly.. :-/\nIf i put it on dropbox, can you download it from this link? https://www.dropbox.com/s/tgztwgc8dul0nsl/bolt_latest.zip \n. I have no idea what could cause this (or if i can solve it). I'm going go keep an eye on it, and see if other people report issues with downloading the file. \n. @mike-anthony No issues with the distro as far as I know. In fact, the one i put on dropbox, is a file i've downloaded from bolt.cm to re-upload to dropbox. :-)\nRegardless, I'm still clueless what could cause this problem. \n. Closing this one, as it seems irreproduceable at the moment. If other people are plagued by this, please re-open this issue, or open a new one. \n. Copy/paste from my reply on #548:\nSometimes issues like this pop up, but I haven't been able to reproduce this, yet. It's not much help to you, but this is one of those \"works for me\" type of things. See the screenshots below.\nCan you verify the data is in MySQL correctly, if you use PHPMyadmin or something like that? On the website itself, does the page have a utf-8 encoding?\n<meta charset=\"utf-8\" />\n\n\n. That all seems to be correct. I'm not sure what's causing this.. Could you try the following, to see if one of them produces the correct output?\n{{ record.datepublish|localdate(\"%e %B %Y\")|raw }}\n{{ record.datepublish|localdate(\"%e %B %Y\")|convert_encoding('UTF-8', 'Windows-1250') }}\n{{ record.datepublish|localdate(\"%e %B %Y\")|convert_encoding('Windows-1250', 'UTF-8') }}\nDoes the 'broken character' also show up if you do 'view source'? \n. Your english is fine. Don't worry about it. ;-)\nWhat exactly did you set as your locale in config? If i set it to pl_PL, i get this output: \n\nAre you sure that locale is installed on your system or server?\n. Oh, wait: Your screenshot above: The line in the middle shows it correctly, right? \"15 wrzesie\u00f1 2013\" \n. It's not really a \"module\" you need to install. It's a \"locale\". What kind of server are you using? If you're using something linux-like, you can check the installed locales by doing locale -a on the command line. \n. Glad you've figured it out. I'll remeber this for when other people bump into an issue like this.  :-)\n. Thank you! :-)\n. Confirmed. I will fix this! \n. Whoop! \n. Are you both sure the folder files/ is chmodded to 777?\nAlso: please post screenshots of errors if possible, and in karfau's case: information on whatever server setup you have. Otherwise we can only guess about what might be wrong. \n. There are no missing javascript files. You haven't actually read the article about maps i've posted in the other thread, have you? ;-)\nIn any case: Is it possible for me to get temporary access to your site? If so, i'd like to debug your issues, to figure out what's causing your troubles. Feel free to mail me at bob@bolt.cm \n. Closing this issue, as it seems this was an issue with the hosting party.\n. If it doesn't respond to \"click\" at all, i'm sure something else is wrong. What does the inspector's console say in Chrome or Firefox, when you click the button? \n. The '.map' file is not related. That's just something your developer tool thingy does. See here for more info: http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/\nOther than that, the + and - buttons ought to work. Are you sure you're not getting other javaacript errors? Also: screenshots? browser? what version of Bolt? \n. I'm going to look into it, will let you know. \n. Derp! Thanks. (odd that i never bumped into this before, though..)\n. Ah, good one. \nI'm not sure how to handle this best.. Should 'editors' have access to all files? If we decide they shouldn't (as is the case now), we should fix the \"browse files\" option.\n. I think I agree. I'm going to change it like this. \n. @ntomka Looks like we'll fix that by checking which one is set. Which server are you using?\n@mike-anthony  I'm not a fan of doing this. In fact, i'd like to eventually have Bolt actually write the cached thumbnail files to /files/[dimensions]/filename.jpg. Doing so would allow us to still have 'JIT' thumbnails, but if they're actual files on the server, they will be MUCH faster than a request that's processed by the app-layer. \nAlso, I don't think being able to customize the paths for the thumbnails has much benefit. I've never heard a request for that before.\n. @ntomka Could you check if this change fixes the issue for you?\n. Ok, closing the issue, then.\n. Thanks! :-)\n. You can do this, which is almost what you want: \n{% setcontent scores = 'games' where { 'game': '1', 'played': '1', 'team': '1234 || 1235 || 1236' } %}\nAdd the printquery to see the query that Bolt generates for internal use: \n{% setcontent scores = 'games' where { 'game': '1', 'played': '1', 'team': '1234 || 1235 || 1236' } printquery %}\n. In that case: No, you can't do that in one query. If you need this, you can do it in the templates: \n{% setcontent foos = bar ... %}\n{% for foo in foos %}\n  {% if foo.bla == \"..\" .. %}\n     .. \n  {% endif %}\n{% endfor %}\n. Closing this issue, solved by pull request.\n. Thanks again! :-)\n. Glad you've solved it. :-)\n. Awesome! Thanks! :-)\n. Hey, Tobias! \nAwesome! Will quickly review these tonight, but at first glance they all seem like good changes. \n. Whoohoo! Thank you! \n. How would this work? If I do this, I get an error: \n{% setcontent entries = \"entries\" where { \"title\": \"foo ||| bar\" } printquery %}\nIf you want this merged in, please also append a paragraph to this page in the documentation, explaining the new option. (source)\n. Ah, now I understand. I'm not too keen on the syntax though. I'm going to sleep on it, see if i can think of something more elegant. If not, I'm going to merge this as-is. Thanks!\n. I thought of a syntax, that might be more fitting: \n{% setcontent entries = \"entries\" where { \"column1 ||| column2\": \"value1 ||| value2\" } printquery %}\nMight be a bit harder to parse, but I think it would be a bit more straightforward. What do you think?\n. Looking good! Thanks! \n. You can access a page using {contenttype}/{slug} or {contenttype}/{id}, regardless of how the routing is set up. (that is, if you didn't mess with the default routes) \nIMHO this is no big issue, since the canonical in the <head> has the correct link, which prevents duplicates in Google. \nIf we fix this, we should do it properly. Not just check for {contenttype}/{id}, but for any access where the request is different than the canonical, Bolt could/should redirect to the correct page. \nThe reason that I haven't implemented this, is that you can't be sure of external factors that do redirections as well. I thought it would be too easy to get stuck in an infinite loop.\nSo, I'm not against this, we just need to test it well. And, it should be an optional flag in config.yml, I think.\n. Spring cleaning! Closing this one, due to inactivity. Feel free to re-open this issue, if this is still an issue. \n. Thank you! :-)\n. Whoohoo! thank you!\n. This is currently not possible. But, that should be possible to add to the routing component. I'm not sure yet what the best way to do that would be, though. \n. I've thought about this, and I feel there should (by design) be only one 404 page. For pages that don't exist. You can't make distinctions between different pages that don't exist.. :-)\nClosing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Awesome. Thank you! (I haven't tested this one extensively yet, but if i bump into any issues, i'll let you know! :-) )\n. Ooops. Thank you! \n. Currently not. We're planning a refactor of the userlevels and permissions, though. For now you'll have to make do with the limited permissions. \n. I see your change reverts a few whitespace changes (for PSR-2 coding styles). I'm going to merge this, and fix those manually. \nThanks! \n. Good catch. But, why did you choose to iterate over the columns in the DB to check for DateTime fields? In similar situations we always iterate over the field definitions in the contenttype. I think I'd prefer to do something like this:\nforeach ($contenttype['fields'] as $key => $field) {\n   // if type is date or datetime, set it to the fields 'default', or to 'now'\n}\n. So, are you going to update your pull request, so you get the 'contributor credits', or should I? ;-)\n. I'm looking into this, but I don't yet see where it goes wrong. If you duplicate a record, all its datetime and date fields are copied alongside. When exactly did you get an error?\n. bump :-)\n. BUMP! \n. I've been thinking about this too, a while ago, and I couldn't think of a real, genereic solution, that at the same time didn't introduce all kinds of black magic, to unsuspecting users. I could imagine current being more forgiving, with cases like this:\n- Current is true, when the slug matches exactly\n- Current is true, when the slug matches the beginning of the current page's slug\n- Current is true, when the slug matched the current page's 'contenttype'\n- Current is true, when the slug matched the current page's 'chapter'\nHowever, if we just assumed these things, you'd get a site where a page like /page/newsroom would trigger the 'current' for the entire 'news' section in the menu. \nPerhaps we could extend the syntax of menu.yml? something like: \nyml\nmain:\n  - label: Home\n  - label: Second item\n    path: entry/1\n    active_if:\n      - contenttype: entry\n      - slug: slug-one, slug-two\n      - some_other_criteria: some_other_value\nBut, would that be comprehensible for people? Would we need regular expressions to be able to match most common cases? \n. One other thing I just thought of: Would the problems be solved (or, at least, less significant), if we added something like 'currentsub'? For instance, if you have a menu like:\n- Main 1\n- Main 2\n  - Sub 1\n  - Sub 2\n  - Sub 3\nThen, if you're on 'sub 2', that item would have 'current()' true, and at the same time currentsub() would be true for 'Main 2'. \n. Shouldn't be too hard to implement. currentsub() could just iterate over the page.yml file, I guess.\n. See #864\n. There's been some efforts towards that. Personally, I think of bolt as \"the product\" and not as \"a bundle\", so I haven't spent much time doing so. This doesn't mean that I don't think it could be worthwhile for other people, just that I think i'd better spend my time on Bolt-as-a-product. If we spread ourselves too thin, we'll do two things half-assed. I'd rather we do one thing well.\nThat said, I do know of people who use Bolt as a whole in their composer.json, so that they can use Bolt inside of a bigger project.\n. Awesome! Thank you!\n. Thanks! \n. Thank you! \n. Hi, \nAbout your two suggestions: \n\nI think this should be this way:\n\nYes, I agree. Let's put the .utf8 variant first.\n\nThen the database is also have to force utf8 connection as we use utf8 collated tables:\n\nI've always found encoding in MySQL to be a hassle, but I guess you're right. But, this should only be added for MySQL, right. Not for SQLite I think. \n. That's really strange, because I run Bolt on a lot of servers with PHP 5.3, without issues..\nIs it possible for me to get temporary access (via FTP and Bolt) to see what's going on? I'd like to get to the bottom of this. \n. Thanks! I've taken the liberty of removing the data you posted here publicly. I will take a look tomorrow, and will let you know what i find! \n. Ok, It seems to have to do with you running on a 'lightspeed' server. I've never seen that before. Anyhow, please try it again on jadenworld.com.\n. Thank you! \n. Thank you! :-)\n. Good catch! We missed this when implementing the new Config object. Thanks!\n. Thanks! :-)\n. Thanks! Going to pull this now, but i'm going to make one change. We'll make it only use \"magic\" strtotime equations if the field is either a date or datetime field. If we keep it like this, you can't do this:\n{% setcontent pages = \"pages\" where { \"title\": \"tomorrow\" %}\n. Yes, use this:\n{% setcontent records = \"pages\" where { 'categories' : 'news' } %}\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Good catch! Thank you! \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. I have never seen that.. What do you mean by \"the whole bottom fallback Translation Block\" ?\n. Now that I think about it.. Could it be related to this #615 ?\n. Yup, definitely introduced in Silex 1.1.1. Composer uses the stable version, and 1.1.1 was released last friday.. I get the same error now.\n. I just pushed a simple fix. Let me know if that solves the issue without introducing regressions. I've only tested english and dutch. \n. @fesor True, but at the same time, Silex shouldn't introduce breaking changes in a 0.0.1 version. ;-)\nI thought we'd be fine with using \"prefer-stable\". The people who use Bolt straight from composer (as opposed to the distro .zip). In fact: the sooner we discover issues like this, the better. \n. Closing this, as it has been fixed.\n. /me blames @tdammers ;-)\nIt should actually be an array, but we support PHP 5.3, so it should be array($contentid). Expect a fix in half an hour! \n. Bolt's debugbar was added before Silex/Symfony's webprofiler became a standalone component. In the spirit of \"less own code is better\", I'm glad you've done this. Will check it out this weekend, and let you know if everything works OK. One detail (that can be fixed quickly) is that it seems you've used tabs instead of spaces for indentation. We try to adhere to PSR-2 as much as possible. \n. I've done some quick testing. This is a great improvement for Bolt, IMHO. A few things that need to be done:\n- We need to add some \"bolt\" branding. I've no idea yet how easy/hard that is, without breaking stuff\n- Our old debug bar had a nice view with \"used templates\". We need to add those, somewhere.\n- I'd like to filter the db-queries to show only relevant queries, and not the SELECT DISTINCT k.CONSTRAINT_NAME .. ones.\n- Our own 'debug log' isn't shown. Perhaps we should replace it with Monolog?\n- The new bar does add some significant overhead, but i don't really see that as a problem. (It's not enabled for regular visitors, on production sites)\nWould you like to help on any of these issues? If you do, i'm going to merge this in as it is right now, and we'll fix these issues as we go along. \n. Great! I'm going to merge this in.\n\nI'll look into trying to narrow those down somehow. \n\nAwesome. \nI'll look into how we can modify it to have - for example - the Bolt logo in it. \n\nI note that there is plans to use a PSR logger, which monolog is based off. Perhaps when that idea is accomplished then the logging will then be available to the profiler?\n\nAgreed. I suppose this would be a good time to do this. \n. It took a little while to figure out how it works, but I'm making good progress on putting together a datacollector for the used templates and a Bolt logo to brand it for our own.\n. Oh, that would also be great to have! :-)\n. This one seems super-useful too: https://github.com/Elao/WebProfilerExtraBundle/pull/49\n. If you do a current checkout, I think you'll see that I've already\nincorprated a few of these things..\nOn Thu, Oct 24, 2013 at 2:20 PM, donottumbledry notifications@github.comwrote:\n\nLooking at the re-branind of the toolbar.\nI've figured out how to override the default templates used by Symfony and\npoint them to what is effectively a re-worked version using the same basic\nlayout/concepts but applying Bolt colours, fonts, logos etc. I'm also\nlooking at incorporating Bolt-specific information in the profiler such as\ncurrent version number and hopefully extensions that have been loaded.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/pull/637#issuecomment-26987273\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. :+1: Looks good to me.\n. Awesome! \nI can't merge automatically, though. Could you do a merge upstream? (If not, I'll merge manually, no problem)\n. No probs.. I'll merge it manually. The only thing is that you don't get \"credits\" on github for the pull request, if you care about those things. \nThanks again! This is again a good improvement to a good new feature! \n. Merging in! \n. Bolt currently doesn't support more than two levels in menus. You can always use multiple menus in your .yml, and use one for each \"main\" menu option in your site. \n. Closed by #754 \n. I don't really understand what you mean.. Could you give an example? \n. You can use type: select for this usecase now. (since 1.5, i believe)\nClosing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Not yet. I could see someone making an extension for this, but there's no \"out of the box\" solution for that. \n. Well, if you know a bit of PHP, it shouldn't be too hard.\n- Create an extension (by copying one of the available ones)\n- add a twig snippet to check for a session. If not present, redirect to a log in page.\n- On the log in page, have someone log in, and set the session.\n- Have the user go back to the secured page .\nIf you're going to work on this, I'd be happy to help you get started. :-)\n. > @bobdenotter can you tell us more about this new functionality?\nHi, roles and permissions are strictly for the backend yes. The docs need to be written still, but if you look at the permissions.yml, you can get a good idea of what it will accomplish. https://github.com/bolt/bolt/blob/master/app/config/permissions.yml.dist\nAbout the original question: I've been getting a few requests for this, so I think I'm going to have to bite the bullet, and make a simple extension for this, one of these days. :-)\n. This new extension will be included in Bolt 1.4, which is going to be released later this month. It should also work on Bolt 1.3, though. Anybody eager to test it out, grab it here: https://www.dropbox.com/s/rsobr9knnn1jvto/PasswordProtect.zip\nThe Readme with instructions is here: https://github.com/bolt/bolt/blob/master/app/extensions/PasswordProtect/readme.md\n. OK. Closing this issue, then! \n. Closing this one. The referenced issue is still open. \n. Good catch! thank you!\n. Does it really break? In my experience, if you do consequent pulls, you\njust get a new version of the config.yml.dist files, right?\nOn Mon, Oct 28, 2013 at 10:09 AM, Alexandru Bucur\nnotifications@github.comwrote:\n\nI was setting up bolt for local development (so i can do more pull\nrequests hopefully :P) and the one thing that happens after an install that\n\"breaks\" gif is the removal of the default files.\nI've noticed that in drupal, and a few others, they keep the default\nconfig files around in case you miss-manage the proper ones, or you just\nwant to compare them.\nThis would also make it easier to do contributions since somebody doesn't\nhave to have a separate branch with the default dist files.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/647\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. What is your suggestion to fix this? Simply do a 'copy' instead of a\n'rename' for the .yml.dist files?\nOn Mon, Oct 28, 2013 at 3:02 PM, Alexandru Bucur\nnotifications@github.comwrote:\n\nWell, no, since my local branch is going to be more advanced than the\nremote branch. I could do a re-base though i guess.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/647#issuecomment-27213595\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. I've quickly asked my colleagues, and the consensus seems to be that we'd prefer doing a copy, instead of a move. We're going to change this.. \n. I thought all issues with encoding were all fixed. But, for some reason the '\u00e0' doesn't work correctly. I can reproduce this, so I'm going to look into this. Weird...\n. It looks like that, yes! I'll have to check why we changed that recently,\nand fix it!\nOn Mon, Oct 28, 2013 at 9:42 PM, Fabien D. notifications@github.com wrote:\n\nHi,\nThe HtmLawed library is causing the problem. When you set the HtmLawed\nconfiguration directive \"tidy\" to 0 (in the lawText method), the encoding\nissue goes out.\nFabien\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/648#issuecomment-27254256\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. Looking good! Thx!\n. No, this is not possible directly. We recommend using Facebook Comments or Discus. Both have a Bolt-extension, for easy setup.\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. And, shouldn't there be a \"/bolt/changelog\" page, where you can browse all changes?\n. If you publish an item, and change the title at the same time, I still think changing the status is most important.\n. Not a bug, a feature. ;-)\nOn Thu, Oct 31, 2013 at 12:31 PM, tobias2k notifications@github.com wrote:\n\ne.g. pressing down arrow in the \"username\" box does not show a list of\npreviously entered usernames.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/657\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. Some explanation: This is a deliberate choice, to disable autofill on usernames and password. It's really annoying, if you're editing or adding a user, and the browser \"helpfully\" autofills the username and/or password. :-)\n. Hi Mike,\nWhat bolt.cm does, is iterate over the contenttypes in contenttypes.yml,\nand fetch the items accordingly. If you just want the contenttype of the\ncurrent record, you can do a {{ print(record.contenttype) }} and you should\nget the data that you need.\nIf you meant something else, let me know. :-)\nCheers, Bob.\nOn Mon, Nov 4, 2013 at 3:09 PM, Mike Anthony notifications@github.comwrote:\n\nSo, I hope I'm missing something really simple here.\nI need to show a title for my listing templates. I have a 'Journal'\ncontent-type. With it, comes a 'journal-entries.twig' template.\nHow do I show the name of the content-type in the listing's title? (I see\nthat bolt.cm uses a page to list the news items, but I don't particularly\nthink that's such a great idea. Afterall, content listing templates are\nthere for a reason.)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/658\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. In that case, {{ record.contenttype.name }} should be what you need, right?\nOn Mon, Nov 4, 2013 at 5:44 PM, Mike Anthony notifications@github.comwrote:\n\nHi Bob :)\nWell, the listing templates are specific to the content type. So, for\nexample, I have a listing template for journal entries (journal_entries,\nas defined in the contenttypes.yml file). Of course, the name for the\ncontent type is Journal Entries. I would want this to be displayed in the\n tag.\nEx: Journal Entries - My Site - My Payoff\nAt the moment, I'm having to do this:\nIn the listing template: {% include 'partials/header.twig' with\n{'aspect': 'Journal Entries'} %}\nAnd then in the header.twig file:\n{% spaceless %}\n    {% if record.title is defined %}{{ record.title|striptags }} - {% endif %}\n    {% if aspect is defined %}{{ aspect|striptags }} \u2022 {% endif %}\n    {{ app.config.get('general/sitename') }}\n    {% if record.title is not defined and app.config.get('general/payoff') %} - {{ app.config.get('general/payoff') }}{% endif %}\n{% endspaceless %}\nSure, it works, and I may land up sticking with it. But, I think it should\nbe handled automatically. (Okay, in this specific case, I will be trimming\nit down to just \"Journal\", but it isn't like that for all my content-types.)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/658#issuecomment-27700484\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. Because tags really are \"free form\", it makes less sense to list 'all tags'. That said, this should do what you need: https://github.com/axsy/bolt-extension-tagcloud\n. Oh, and you found the bolt snippets site. I was planning on working some more on it, before making it public. ;-)\n. What do you mean by \"display the topics in the sidebar\" ? Is this different than a \"linked list of all categories\"? :-)\n. Ah, I get it.. \nThe easiest way would be to use the slug filter: {{ topic|slug }}, except for the fact that there is no such filter. Give me half an hour. ;-)\n. There's a slug filter now. Manually patch it in from a01c7b91f611e336333031b654faef9f026e5ac5, or do a checkout of master, or get the 1.3 RC from bolt.cm/distribution\n. Which version of Bolt are you on, that you're having this problem with? \nCould you also post the part of your contenttype.yml, that has this problem?\n. Hi, this issue should be fixed by @xiaohutai. Can you verify?\n. Hi, as I mentioned on twitter, you can contact me at either bob@twokings.nl or bob@bolt.cm. The issue you mentioned before you edited this was a debug statement that slipped in a beta build. It has been fixed already: https://github.com/bolt/bolt/commit/519913be5b0b648999b42f876b50255596d7e0d2\nIf you have any other concerns, please let us know! :-)\n. I'm going to investigate for a bit, and I'll get back to you. Thanks!\nOn Wed, Nov 6, 2013 at 8:17 AM, Sebastian Klier notifications@github.comwrote:\n\nI just sent you an email about this, but it doesn't seem to be the issue\nyou mentioned.\nI downloaded the latest build from the website yesterday and had it happen\non that. I then updated my local install from Master and have it happen\nstill.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/661#issuecomment-27847238\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. Partial fix: ac045d28580b95910fce9c432e77bd079c24fad9\n. And the other partial fix: 5d8d30af872544692653c299a7761a3dad94c9c6\n. This has been fixed -> closing.\n. Yay! \n. Is this really true? If you're logged on, you get the whoops error page for a 404, but if you're logged out of Bolt, you should always get the \"maintenance\" page, even for 404's. I can't reproduce what you're describing yet. \n\n. Ah, thanks! I can reproduce it now.\nI'm going to fix it slightly different than your suggestion, though. I'm\ngoing to place a slightly modified version of the check in the global\nbefore() handler, instead of just the handler for the 'frontend'.. The\nproblem is that an error page is triggered, and strictly speaking, the\nerror page itself is part of neither the frontend or backend.\nThanks again! You've brought two bugs to our attention, that I'm glad we\ncould fix, just in time for the 1.3.0 version. :-)\nOn Thu, Nov 7, 2013 at 5:31 AM, Sebastian Klier notifications@github.comwrote:\n\nJust as a test, if I move maintenance mode to the top of app.php and\nchange it like so, then it works as expected. But that is probably not the\ncorrect way to do it?\n<?php\nuse Symfony\\Component\\HttpFoundation\\Request;\nuse Symfony\\Component\\HttpFoundation\\Response;\n// If we are in maintenance mode and current user is not logged in, show maintenance notice.\n$request = Request::createFromGlobals();\nif ($app['config']->get('general/maintenance_mode')) {\n```\n$user = $app['users']->getCurrentUser();\n$template = $app['config']->get('general/maintenance_template');\n$body = $app['twig']->render($template);\nif ($user['userlevel'] < 2) {\n    $response = new Response($body, 503);\n    $response->send();\n    $app->terminate($request, $response);\n    die();\n}\n```\n}\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/664#issuecomment-27937237\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. Whoop! whoop! \n. See an example here: http://snippets.bolt.cm/s/cg1z8kha\n. This is a slightly different case than what we talked about earlier. There's an inherent difference between defining the keys yourself or not: \noptions: { main: \"The main chapter\", meta: \"Meta Chapter\", other: \"The other stuff\" }\nvs. \noptions: [ news, events, \"something different\", movies, music, books, life, love, fun ]\nWhat ought to work is this: \n% for taxonomy in app.config.get('taxonomy') if taxonomy.options %\n    <ul>\n    {% for link, value in taxonomy.options %}\n        <li>\n            <a href=\"{{ link }}\">{{ value }}</a>\n        </li>\n    {% endfor %}\n    </ul>\n{% endfor %}\nI just tried this on the default taxonomies, and it almost works. I'll have to fix that, obviously. \nI'll have to fix two things: \n- The automatically generated links should be sluggified properly\n- \"naively\" creates links with {{value|slug}} should be accepted by the router as a fallback as well.\n. @braaam Where do you see that link? as far as i can tell, all links in the default theme are generated correctly as /chapters/main ?\n. That example was more complex than it needed to be. I simplified it to use {{ link }}. \n{% if record.taxonomy is defined %}\n\u00a0\u00a0\u00a0\u00a0{% for type, values in record.taxonomy %}\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<em>{{ type }}:</em>\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{% for link, value in values %}\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<a href=\"{{ link }}\">{{ value }}</a>{% if not loop.last %}, {% endif %}\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{% endfor %}\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0{% if not loop.last %} - {% endif %}\n\u00a0\u00a0\u00a0\u00a0{% endfor %}\n{% endif %}\n. Note: The issues I mentioned before still need to be fixed: \n- The automatically generated links should be sluggified properly\n- \"naively\" creates links with {{value|slug}} should be accepted by the router as a fallback as well.\n. Nothing will break. In fact, {% filtered %} was just lazyness on my part. I'll fix it! \n. We have a JSON API ouput. \nClosing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. I wonder if this feature is actually needed.. I know a lot of sites have this, but nobody ever uses this. No visitor thinks \"I read this aricle in may last year, let's find it again\". If people want to find something again, they either use the 'previous page' option, or they search for it. \n. Yes, that's a good idea. :-)\n. Haha, I actually laughed out loud! :-)\n. Most of your points here should be fixed by 6cefe8bc22cced3eb598ec22939fd3b03d9e624c\nExcept for this one: \n\nI think that we should have overview templates for taxonomies specific to a particular content-type. For example, If I wanted to see all the blog posts tagged with the awesome tag, I would request /blog/tags/awesome\n\nThat'll be really hard to do in a generic, fail-proof way. You could make custom routes for these things. As you know, the routing is pretty awesome. ;-)\ncontenttaxonomylink:\n    path:     /{contenttype}/{taxonomytype}/{slug}\n    defaults: { _controller: 'Bolt\\Controllers\\Frontend::taxonomy' }\n    requirements:\n        taxonomytype:   'Bolt\\Controllers\\Routing::getAnyTaxonomyTypeRequirement'\n        contenttype:    'Bolt\\Controllers\\Routing::getAnyContentTypeRequirement'\nNow, if you get /blogs/tags/awesome/, you would get the normal tag-page for tag 'awesome'. Edit the template used for taxonomy listing to have this: \n```\n        {% set contenttype = app.request.get('contenttype')|default(false) %}\n    {% for record in records if (not contenttype or record.contenttype.slug == contenttype) %}\n\n```\nNote: you must use the proper plural 'slug' version of the contenttype. So, 'pages' and not 'page'.\n. I've tested it with Bolt 1.3.1, and for me it works as it should. Did you notice this:\n\nNote: you must use the proper plural 'slug' version of the contenttype. So, 'pages' and not 'page'.\n\nMy guess is that you'd have to use /journalS/by-topic/publications. If not, post your routing.yml, contenttype.yml and taxonomy.yml somewhere, and i'll take a look. \n. Ah, sorry.. This one slipped under the radar.. \nLooking at your yml, i'd say this should work: /journal/topics/publications. I think you'll have to use plural for both the contenttype as well as the taxonomytype. \nWhere in routing.yml is the taxonomylink defined? It's order is 'top down', so place it near the top so bolt attempts to match it before others. \n. Well, that's odd.. Is it online somewhere, so you can give me temporary\naccess, so I can debug it?\n. I think this is a bug: \n\nsets the canonical like so: .\n\nThe links that Bolt generates should really be sluggified. Could you post the used Route from routing.yml? I've re-opened this issue, so we can fix this. \nOn the test-site I noticed the 'journal' contenttype still needs to be set to a default template, right? See here: http://aaakee2014.cwp.foundrybusiness.co.za/journal-entry/10-10-2013-spring-charity-golf-challenge\nOther than that: The site does look great! :-)\n. I still can't reproduce your issue with this.. :-/\n\n<link rel=\"canonical\" href=\"[local-domain]/journal/by-topic/Fundraising%20Events\">.\n\nIt seems to work correctly for me. See screenshot: \n\n\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. My first thought is that this is something that's a very specific need, and as such, I think it's better suited as an extension. \nYou can raise or lower the search weights of one taxonomy by a lot, but i'm not sure if that's a solution for you. If not, an extension will be the way to go. You could take a look at app/extensions/RelatedContentByTags, to see if that could serve as basis for a custom extension. \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Hey Richard! Good to see you using Bolt again! Thanks! :-) \n. Agreed. We should do that. :-)\n. The difference is in the way it's called. Usually, we use {{ record.foo }} for both attribute-getting, as well as function-calling. In this case, you could use either {{ record.link() }} or {{ record.get('link') }} to either call the function, or to get the value explicitly. \nGranted, this is obscure and bad practice. How to fix this, though? Disallowing fields named link is an option, but that seems kind of strict...\n. Moved this to milestone 1.4. showing a notice when this is detected in contenttype.yml isn't too complicated, and should clear things up for most cases. \n. This is by design, actually. The listings on the dashboard don't follow the setting in contenttype.yml, because (imho) the dashboard should be an overview of the latest changes in all contenttypes. Which might be different than an alphabetical order on an overview screen. \n. Perhaps, perhaps not. Do you really think it's important? ;-)\nhttp://seriouspony.com/blog/2013/7/24/your-app-makes-me-fat\n. Yes, that's a good suggestion. We should do that: Change the labels to match the current functionality! :-)\n. We have to update the docs for that, but here is a sample that might be helpful: \nhttp://snippets.bolt.cm/s/1r1u1\n. Hmm, this is going to be tough to debug, I'm afraid. I have no experience with pfSense (or actually, firewalls in general). My guess is that the firewall strips some headers, or it blocks cookies, or perhaps some part of the session. \nTwo things you could try.. In app/config/config.yml, set these to false:\ncookies_use_remoteaddr: false\ncookies_use_browseragent: false\ncookies_use_httphost: false\nThen log out, clear your cookies/cache and try to log on again.\nIf that doesn't help, try setting the cookies_domain to a sensible value, a few lines lower. \n. Glad you got it working! Changing those settings will make the session validation checking less strict, but there's no immediate security issues with it. You should try toggling them on or off one by one, to pinpoint which setting is giving you problems. \n. I'll fix this! \n. Ah, you responded just before me. If you can fix it, great.. :-)\n. Is this in the 1.3.0 final version? I know we've fixed a very similar bug shortly before 1.3.0. See #660 and #666. \n(pinging @xiaohutai)\n. I can reproduce it. We'll look into it! \n(assigning to @xiaohutai)\n. I love foundation, but I think Bootstrap is better suited for user interfaces, where Foundation is a solid base for frontends. \n. I haven't looked into the new grid thing closely yet. Is it bad?\nOne of the things I'd really like to have in the new UI is better\nresponsiveness, so it looks good and useable on all widths. Not just at the\n1024, 768 and 480 breakpoints, but also in between. I know Foundation can\ndo this, but I thought they improved this in Bootstrap 3 as well.\nOn Tue, Nov 12, 2013 at 12:06 PM, J\u00e9r\u00e9my Barbe notifications@github.comwrote:\n\nyeah, if you want to rapidly create an UI without big customization,\nbootstrap is cool (except the new grid thing)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/686#issuecomment-28285005\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. Hmm, perhaps I should do a quick prototype to see if we could do Bolt's backend in Foundation. \n. To make the choice slightly harder: Foundation 5 will be released tomorrow. \\o/\n. @braaam I have no experience with Semantic UI, but judging by the number of commits and activity in their repo, it's pretty evident that it's not just somebody's hobby-project.\n. @rarila: Perhaps something like inuitcss would be more to your liking? https://github.com/csswizardry/inuit.css\n. > It was very satisfying to be able to style a page using nothing other than html element tags [..] but in the real world, time is money and a mortgage tends to focus one's thoughts on the business of running a business rather than worrying about whether or not a class name could be two characters shorter or not.\nThere is a lot of truth in that, right there! \n. @tobias2k I think I agree with you, but the matter of fact is that we're \"stuck\" with HTML for the time being. And, since that's the case, striving to have the backend be at least somewhat semantic and thus \"readable\" is better than just making tag soup. :-)\n@losttheplot A lot of the things you mentioned could be long discussions in seperate threads. ;-) The main reason I want to do work on the backend is not to make it prettier or \"more designed\". I want to make it more useable for the people who actually spend a lot of time working with it (i.e. the editors). Currently too much of it has 'grown organically', and isn't as consistent as it could/should be. Add to that that I really want it to work better on a wider range of devices (phones, tablets and phablets), makes this a priority for me. It's not window dressing, it's all about making it more user-friendly and at the same time making it a more consistent base to build new functionality on. \nBriefly, about the points you mentioned: \n- The menu is pretty basic now. We need to fix that sometime. \n- \"content providers to edit a 'techy-file-thing'. \" -> The yml isn't going anywhere, I think. Ideally content-editors should never have to touch it, but in my experience neither Frontend nor Backend developer mind using yml for configuration. In fact, I'm convinced that doing configuration for a lot of things in yml is much more efficient and expressive than clicking checkboxes on some back-end page. \n- \"picture editing facility\" -> would be great to have, but should be an extension. Granted, we'd have to provide the base for the extension to hook into, but I don't think editing images should be in the Bolt core. \nIf you'd like to discuss about these things, feel free to open an issue about them, so we can keep this thread on-topic. :-)\n. > You're doing a great job with the project, and whilst it may appear that I am being critical, I am in fact just trying to help :)\nThanks, and much appreciated!\n\nthe ability to simply add a page to a menu without touching anything that looks like a script is right up there on the list, alongside an easy way of editing uploaded images.\n\nI completely agree on that. As you mentioned earlier: Our main limitation is the amount of time we can spend on building Bolt. We use Bolt for quite a few of our clients, and the feedback from them is a big factor in determining how I (personally) feel we should prioritise stuff. That said, after the things we're working on now, I'm sure one or more of points you mentioned will be on the top of the list. Also, if you'd like to help implement any of them, you're very welcome to do so. :-)\n. > @helgvor-stoll I must agree with @CoolGoose. Those particular UIs are a) old-fashioned, and b) they do not conform to new development methods.\nI agree with this.. As far as I know Sencha also isn't very developer-friendly. And that EasyUI looks like they are actually tyring to make stuff look like Microsoft Office. Not what we're looking for. \n\nSo, those are a no go for me. Bootstrap looks like the best option. As it is, a concept is being built at the moment on Bootstrap. https://github.com/bolt/bolt-backend\n\nYes, but that's a very, very rough concept. I'm just trying out stuff. It'll start taking shape after we've spent a weekend tinkering on it, during our hackathon weekend. \n. This is basically done. Closing this issue. Bugs with the new backend, are labelled [UX/UI] https://github.com/bolt/bolt/labels/UX/UI\n. Yes, this will take quite a bit of work. That's why we should do it for 2.0, and not sooner. The truth is, there's too much going on in Storage.php, so we'll need to do something. \n. \"schema.xml, which could replace the contenttypes.yml\" \nAs far as i'm concerned, that's a very big downside. I'm no fan of XML for configs that are to be edited by human beings.\n. Ah, that'd be better, if it can be a generated intermediate file. Still, what benefits would Propel bring over Doctrine's DBAL?\nThe main reason we use DBAL instead of Doctrine's ORM is that the \"table names\" are hard baked in it. i.e. I couldn't figure out how to have the .yml generate the DB structure, without having to have actual PHP code for each of the \"entities\". Would Propel allow this, that you know of? \nAnother option that might be interesting is Paris/IdiORM. \n. Should we decide that Propel is the way to go, we need to realize that we'd be making the choice to drop PHP 5.3 support. Personally, i'd love to do that, but i'm not sure we're ready for that: http://w3techs.com/technologies/details/pl-php/5/all\nCurrently, about 40% of Bolt sites are running on PHP 5.3.\n. At the moment, not very much. We should get started on this soon. See also #1319 \n. Bolt 2.0 will have this. (using composer, even!)\n. In addition to what Peter said: We're probably going to make a list of stuff that needs to be done, and such. We're going to put up the tasks on Github, so we can discuss them, and who would like to take on what part of the work that needs doing. \n. Bolt 2.0 will have this. (using composer, even!)\n. Merged in, and I did some finetuning. Works pretty good, overall, IMHO.\n. @jkazimir Are you suggesting that we split the functionality, and keep one logger for bolt-specific stuff, and use Monolog for generic errors / notices? I don't think that's a good idea. We already have a \"changelog\" which keeps a record of changes to the content. If we split the logging in two, we'll have three logs. This feels like overdoing it. \n. I'll close the other one, so we can keep the discussion in this thread only. \n. I kind of like the __FILE__ and __LINE__, but it's now big deal either war, as far as I'm concerned :-)\n. The best ways to go about this, would be to create a 'nut' command, like \"app/nut run-periodic-tasksor justapp/nut cron`. Ideally you could run it (via cron) every few minutes, and then it checks if any tasks needed running.\nThe tasks itself could perhaps be done using Silex's event dispatcher? that way it would be simple for extensions to add tasks as well.\nSome (perhaps) relevant links: \n- http://gonzalo123.com/2013/10/14/using-the-event-dispatcher-in-a-silex-application/\n- http://symfony.com/doc/current/components/console/events.html\n. I'm taking a look right now. Will let you know when I find something. \n. Sent you an email!\n. Link for the lazy: https://github.com/GawainLynch/bolt/tree/feature/Cron\nAs for things that need to go there permanently: \n- clearing the cache (weekly)\n- trimming the logfiles (weekly, also)\n- and in the near future: Checking for updates (daily)\nWe should also try to make it so that anything thats \"weekly\" or longer, gets run at 3:00 am, if possible. \n. > 03:00 would be a good thing for a config.yml.dist\nAgreed. :-)\n. Closing this one, because the PR was merged in :-)\n. Is this still an issue? \n. Hi, glad you like Bolt so far. :-)\nThere is currently no way to do bulk operations on records. Would be a very nice feature to have though, so we'll keep this issue opened. \nI think the time before the planned release of 1.4 is too short, so we'll probably do this together with the re-style of the backend UI for 2.0.\n. Part of this was resolved in #804. We should add more options instead of just \"delete\" though.. \n. I was thinking mostly of \"publish\", \"depublish\" yes. changing/adding/removing taxonomies might be slightly trickier to do.. \n. This is included in 2.0.\n. Should we leave this issue open until we've phased out recursiveTrimText? \n. > how do I insert a pdf in my text\nclick \"link\", \"browse on server\", select a file from the stack. Easy as pie. \n\n. Closing this one. \n. Good idea. I've implemented it, but slightly different. I think the Stack should literally be a list of the items last used or added. And, as such, is it really needed to remove them? \nI've made it so that the button is grayed out when clicked. If people find this to be confusing, we'll change it! :-)\n. Hi, \nEventually we'd like to be able to move all of /app as well as /vendor out of the webroot. This is going to take some more work, though.\nIf you're going to make this change, and do a pull request, I'd be happy to pull it. I'd prefer BOLT_CACHE_DIR and BOLT_DATABASE_DIR constants over config.yml settings, though.\n. If you mail me the changed files, I can merge it in. (easier than using a copy/pasted diff). You can mail me at bob@bolt.cm. Thanks!\n. bump ;-)\n. Haven't seen any of the changes made by Quemasda. If you'd like to step in and help, you're welcome! \n. Hi, and welcome! \nThese issues should be fixed upstream to CKeditor as well, as these files aren't modified by us. I can pull them, but (as you mentioned) they will likely get overridden by the update to 4.3. If these errors are present in CKEditor itself, you should also make a pull request here: https://github.com/ckeditor/ckeditor-dev\nUpdating to 4.3 would be better. In fact, I've made an issue for that, here: #707.\nIf you'd like to take a go at it, check app/view/lib/ckeditor/build_config.js, as it should help you get the correct package at ckeditor.com. The only file that's changed from a default distribution is app/view/lib/ckeditor/config.js. It should stay blank. :-)\n. I'm going to pull these now, while we wait until we can update to CKEditor 4.3 (see #707) \n. Remember to merge your changes upstream to the CKeditor people as well! :-)\n. Currently blocking this is the non-availability of the MediaEmbed plugin for CKEditor 4.3. http://ckeditor.com/addon/mediaembed\n. This has been done recently. Closing.\n. I have never heard of this problem. Are you using files with complex names that are very much alike? Or, to put it differently, does it also occur if you have files with simple names like image1.jpg and 'image2.jpg`.\nSo, to answer your question: There are no known issues with image caching. But, that doesn't mean that it's not possible that there's a bug somewhere. If you can provide more info on how we could reproduce it, then we'd be happy to investigate. \nAbout your other question: \n\nOne other thing: can anyone provide any links to any non-simple websites built on Bolt, as an example of what can be achieved with a bit of creative modification?\n\nSome recent ones: \n- wikimedia.nl\n- ekko.nl\n- acjur.nl & acwet.nl\n- routeplanner.fietsersbond.nl\n- tejoure.nl\n. Just replied to your email. It seems like your server is due for some maintenance. ;-)\n. Actually, I currently think it's APC that's causing the issues, not PHP 5.3.3, itself. I'm curious to find out what it is, so let me know if the sysadmin finds anything. \n. Timthumb is almost gone. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. @chujong: What do you see on /bolt/users/edit? It should look like this:\n\nIf it does, just use that form to set up the first user. If it does not, something might be wrong with your set up. Please post a screenshot of what you see instead..\n. So, how did you install bolt? Could we get a link to see the entire error message? Is there a phpinfo.php somewhere, so we can see what server/php version you're running on? \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Did some minor clean-up on the docs in b294d46b67d5562efd7faf1ea21227a85e9720f8\n\nI'd also make clear that the script-links below are just examples. They didn't seem to work out of the box anyway \n\nCould you expand on that? It ought to work, if $(\".fancybox\").fancybox({}); is called somewhere..\n\nAs for the functionality, I would like to be able to add a title to the link, to replace the filename in the default Fancybox caption. Is that possible? That would make the fancybox tag more usable.\n\nNot yet, but it shouldn't be too hard to add a 'title' option to the fancybox tag. I'll leave this open for now. \n. I'm going to do a commit in a few minutes, that allows for an extra, optional title parameter:\n{{ content.image|fancybox(width=320, height=240, title=\"My Image\") }}\n. Looks good at first glance! Will test it better tomorrow. One thing I'll have to look into, is the license. Recaptcha's license looks a lot like it might be a slightly modified MIT license, but i'm not sure. I wouldn't want to break their license by incorporating their library in our product. :-)\n. Works without issue, for me! Thank you! :-)\n. Looks good to me! Merging in! \n. Closing this. If this remains an issue, feel free to re-open it. \n. Cool. I'll take a good look at these changes tomorrow! :-)\n. Looks good to me! Thanks!\n. Thanks again! Looks good! :-)\n. It's not really common practice to put the <script>-tag for analytics in the top of the body, right? I've never seen this, as far as i can recall. Do you have any sources that confirm this is beneficial? Most sources I can find say that the end of <head> is the recommended location.\nLinks: \n- http://stackoverflow.com/questions/6824095/best-place-to-insert-the-google-analytics-code\n- http://stackoverflow.com/questions/3173571/should-i-put-the-google-analytics-js-in-the-head-or-at-the-end-of-body\n- http://yoast.com/wordpress/google-analytics/manual-placement/\n- http://searchenginewatch.com/article/2249537/Is-Your-Google-Analytics-Code-Up-to-Date\n- http://wordpress.org/support/topic/where-should-i-paste-the-google-analytics-code\n. Thanks! Going to merge this in now.. I'll keep my eyes open, and if i come across a reputable source that explains the location for the script should be anywhere else than at the end of </head>, we'll change it! :-)\n. You can allow uploading of svg, if you want in the config.\nClosing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. This seems to be a duplicate of #716 \n. You just beat me to it. ;-)\n. Thank you! :-)\n. Cool! Thanks again! :-)\n. Looks good at first glance. Could you make it use POST instead of GET? If you do, we can merge it in!\n. Cool! Thank you! Going to merge this in. \n. Awesome. Thank you! \n. Nope, we've phased it out, since the fallback is always english.. I'll push a fix in two minutes. Thanks! \n. pinging @peterboorsma \n. Thanks again! You're on a roll! :-)\n. Thanks again! :-)\n. True, maybe we should make it a configurable list someday. For now, this change looks good. Thanks. \n. Thank you! :-)\n. I'm not sure if I feel that there's a significant difference between /tag/kjhgfds, /page/kjhgfds or /kjhgfds.. Shouldn't these all be treated the same? As in: they should all throw 404's.\nWouldn't it be better to handle these cases in the template for the 404? (note that you're probably getting the 'Whoops' error page, because you're logged in. Normal users will actually see the 404 template)\n. Let me know if you can't get it to work! :-)\n. Closing this one for now, to keep the list clean.. Feel free to re-open, if it keeps bugging you. \n. This is because we've added this in app/bootstrap.php: \n// Add the string loader..\n$loader = new Twig_Loader_String();\n$app['twig.loader']->addLoader($loader);\nIf you uncomment those lines, I think it will work for you. \nWe do this, because we need to be able to parse pieces of HTML on the fly. For example in app/src/Bolt/Content.php, we parse the fields. If we didn't do this, you wouldn't be able to use {{ thumbnail }} inside your content, which is not very convenient. \nIf this is an issue, we should see if we can add the stringloader when needed in function preParse($snippet) in app/src/Bolt/Content.php.\n. When I implemented this, I didn't read this: \n\n\u2026 This loader should only be used for unit testing as it has many limitations \u2026\n\nThat makes me doubt it's the best way to do this..\nI'm not a big fan of a configuration option for this, because either way, it would limit the ways you can use Bolt. I'm going to see if i can fix it in another way..\n. Once again, thank you! :-)\n. Merci beaucoup! ;-)\n. Much better now. :-)\n. We'll look into this! \nWhen you say \"1 or 2 results on my page\", do you mean search results, or '1 or 2 records of a certain contenttype'?\n. bump I've tried to reproduce this, but it works as expected for me. \n. Assuming you're using the version directly from github: I did quite a bit of refactoring in bootstrap.php and application.php yesterday, which caused some quirks that should be fixed by now.. Have you done a 'git pull' in the last two hours or so?\n. Actually, that's exactly what I did. ;-) Silly databases with their different rules for what is and what isn't allowed! \n. Hi, looks good at first glance. \nThe only thing i'm not too keen on, is that you're adding the custom files to app/config/. I'd much prefer if they were put in either app/view, app/theme_defaults or perhaps just in the current theme. Bolt would be able to find those files there without problem.. I'm not sure which location i'd prefer, but we should keep app/config for the .yml files only, i think..\n. > Ok, back to this issue here. Perhaps if you like my idea (at least a little bit) we could open up another issue for 2.0, see what the others here think about it and work out the whole concept.\nYes, I like it. This is probably one of those improvements that not everybody would need, but the good thing about it is: It will not bother somebody who doesn't need it.. \nOne of my pet peeves is a piece of functionality that benefits maybe 10% of people, but slightly confuses the other 90% of the users. I really try to prevent things like that from sneaking in to Bolt. This change on the other hand is not like that: It's an added benefit for some, and the rest of the users will simply not be bothered by it. :-)\nIn regard to your latest change: app/view/custom is a good folder for these things, I think. \nFor the remainder of the week, i'll probably be busy finetuning the 'roles & permissions' feature, and the 'page caching'. I'm going to merge in your changes this weekend, so they'll be included in 1.4. For 2.0 we're going to do some major refactoring of the backend, so we can discuss bigger changes after 1.4 is released. \n. I had to merge in your changes manually. There were some changes, because of the new permissions&roles functionality, that we've added to 'master', but weren't in your branch yet. As far as I can tell, your changes are working as it should. Looks good! :-)\n. Should be fixed earlier today in 6a91b5472eca116ca3b2ed2b79e5b3ef75f55ffb \nIs this still an issue? \n. Thanks! \n. As you've noticed, I'm still fleshing out this functionality.. ;-)\n. Thanks! \n(I think .txt would be useful for some people. I hardly ever use it on websites, but that's also the case for .webm ;-) )\n. Cool! I know a few people that will be very happy with this! I'm going to check it later, and merge it in! \n. Merging in! Thanks! \n. Thanks! I'm only not sure about 'root', since it's a hardcoded role.. Wouldn't it be confusing for some users, if the backend mentions 'Superadministrador', but when they go edit the permissions.yml, they have to look for 'root'.. Maybe we should leave \"root\" untranslated, what do you think?\n. Ok, good.. Can you update your pull-request to reflect this?  \nOf course, you can always clarify it in the translation.. like this: \n\nSiempre debe haber al menos un usuario 'root' (superadministrador).\n. That was quick! :-D\n\nI'll merge this in later! Thanks. \n. Good catch! I'd say there should be a break there. Going to fix it straight away, thanks!\n. Yeah, that's a bit weird.. I'll fix it! \n. Looks good! Thanks.\n. This is indeed not working at the moment. I'll need to adapt that functionality to take into account the new functionality for Roles and Permissions. \nMy first thought would be to make it accept an array of roles, instead of an old 'userlevel'.. Something like this: \nPHP\n    $this->addMenuOption(\"Men\u00fas\", $this->url, \"icon-cog\", array('root', 'developer');\nQuick question.. Why did you use a seperate $this->url? This ought to work in your case, I think: \n``` PHP\n        $this->path = $this->app['config']->get('general/branding/path') . '/menu-editor';\n        $this->app->match($this->path, array($this, 'menu-editor'));\n    // Add a menu option, only for users with 'settings' permission\n    $this->addMenuOption(\"Men\u00fas\", $this->path, \"icon-cog\", null);\n\n```\nDoes that not work for you? If not, that's a bug we should fix. \n. This is something that needs to be documented better. You can use it like this: \n$this->addMenuOption(\"Men\u00fas\", $this->url, \"icon-cog\", 'extensions');\nWhere extensions must be an existing permission in permissions.yml. So, you can either use an existing one, like dashboard or extensions, or you can add a specific one in permissions.yml.\nSame goes for: \n$this-> requireUserLevel('extensions');\n(note, this function will be deprecated, in favor of: \n$this->requireUserPermission('extensions');\nAbout the other issue: \n\nTo answer your quick question: that's true, I'm testing bolt under http://localhost/bolt-test/ so if I use $this->path instead $this->url I got that a broken link pointing at http://localhost/bolt/menu-editor instead the expected http://localhost/bolt-test/bolt/menu-editor\n\nHmm, I see. Your solution works, but that is not very elegant. We'll have to figure out something to make that more straightforward. \n. Congrats on your very first pull-request. Looking good! :-)\n. Thanks!\n. Derp! :-)\n. I agree that this is something we should think about. How are we going to keep that straightforward for the frontend-developers who make templates? To them something like {{ brpaz_ceil(0.6) }} would be less intuitive than {{ ceil(0.6) }}. Any idea how to solve that, yet?\nNot to distract from the discussion, but this isn't a very good example. In Bolt 1.4 this tag is already present: http://docs.bolt.cm/templatetags#filter-round-ceil-and-floor\nAnd about a week after I made those, Twig 1.15 came out, that has this: http://twig.sensiolabs.org/doc/filters/round.html ;-)\n. I think @rarila's idea is a good one. At least: it's a good start.. If we can track which extensions introduce certain tags, we can detect potential conflicts. \nThere's alread an (unused) placeholder for 'priority', that we could use to determine which one gets preference in case of a real conflict.. \n. This was decided in a later issue #. closing this one.\n. In old tables, the 'username' is still present, but we're moving towards 'ownerid', like @tobias2k said. The best way  to fix this is to make sure it isn't inserted anymore. Will fix. \n. Hmm.. I've put the 'username' back for now. It's not a very clean solution, but for now (close to the 1.4 release) I think 'less chance of issues' is more important. Let me know if this solves it for you. \n. The commit said \"Hopefully fixes #766\", and it auto-closed. re-opening until confirmed.\n. Glad it works.. Closing. \n. I'm not against this, but I don't want to make it too crowded.. I think this screen is due for a complete redesign, not just an added button. \nQuick tip: When I want to insert a lot of records, I just press the button 6 or 8 time very quickly. ;-)\n. Your suggestion is removing the 'if' statement, right? That's not a very clean suggestion, because currently the button is only shown after the DB is updated. \nAdding a modal with extra parameters (like a number input) would be nice to have. It's not the highest priority at the moment though, for me personally ;-)\n. Thanks, hans! \n. Hi Nic, \nThanks for bringing this to our attention. I wasn't aware of this issue. If it's not a big issue for you to upgrade your PHP version, you should definitely do so. \nI took a quick look at our stats, and ~ 6% of new installs since november 1st were done on PHP <= 5.3.5. I'm not sure if we can consider that number low enough to raise the PHP requirement. But, if we can't make a workaround for this, we'll have to. (Pinging @tobias2k)\n. Ok, after a brief discussion with @tobias2k, we decided that writing a hackish workaround for saveHTML($node) would not be preferable. We started using Domdocument to trim HTML to get rid of nasty regex-parsing of HTML. If we would have to write a workaround for this, we'd have to re-introduce that, and we'd rather not do that. \nSo, we're going to raise the minimum requirement to PHP 5.3.6 for Bolt 1.4, and if a lot of people complain about it, we'll see if we can write a workaround. \nFor now: If you want to check out bolt quickly, you can use the pre-packaged distro from bolt.cm, or do a checkout of 3a4318d1, which will work on PHP 5.3.2.\nEdit: Not even ten minutes after I typed this, a client asked us to put a site live on a server that has '5.3.3' (apparently XS4all still runs 5.3.3, as that is still the default on redhat Centos). We need to think this through some more, before making rash decisions. :-/\n. I found this issue in Symfony's repo: \nhttps://github.com/symfony/symfony/pull/8013 (related: https://github.com/symfony/symfony/pull/7963 )\nWe'll have to test that, but so far that looks most promising to me. Better than just using XML, and saying that's 'good enough'.\nThey had the same issue in Silverstripe, but I really don't like their solution: \nphp\n        // Then, call saveHTML & extract out the content from the body tag\n        $res = preg_replace(\n            array(\n                '/^(.*?)<body>/is',\n                '/<\\/body>(.*?)$/isD',\n            ),\n            '',\n            $doc->saveHTML()\n        );\n. Note: Run composer.phar update after pulling this fix! \n. This looks good at first glance! Will check it out, and merge it in later.. \n\nI have not yet had an Idea how to display the file types properly. Maybe split into Documents/Videos/Music? Little Divs with icons? Or use the existing filebrowser and add features there?\n\nYeah, when 1.4 is out, we should rethink those things. See how we can make it more simple and evident for endusers. :-)\n. I think you've mixed up 'page/about' as an identifier for a specific record, and 'page/about' as an URL. In most cases, we map the {contenttype}/{slug} to the URL of a record, but it doesn't have to be. The other way around goed for the menus: It might look like a URL, but it needs to be a contenttype/slug combination.. Is that what's causing your issues? If not, please post some .yml here, so we can see what's going on. \n. One rigorous change we could make, is change the way it works in menu and {% setcontent %}. Perhaps change the format to page::about or something?\n. I took the liberty of editing the title of this issue, so we can find it again.. I'm leaning towards changing this for Bolt 2.0. \n. You're right! Thanks for noticing (and fixing)! \n. Closed by #773 \n. Thanks again! \n. I'm not a big fan of that. There's already a select-input for the \"status\" in the left column. I would like to keep a strict separation between DATA (on the left) and ACTIONS and RELATED stuff (on the right).. As soon as we move something that's data to the right, we start making it messier (in my opinion)..\nAnd, just because \"Wordpress does it\", is a horrible reason. Is this something that's just because they are used to it, or is it good Interaction Design? \nSomething I really dislike in WP is that there's no 'save & return' option. I know it's personal, but I think it's just a very, very bad design to not have something like that. \nUp until a month or so ago, we only had \"save\" and \"preview\". We've talked with a couple of people (endusers as well), how they would like it to work, without trying to just repeat what they were used to, and the current setup is what we came up with. \nThat said, I'm sure there's still room for improvement on this. As you might know, after 1.4 is out, we'll be focusing on Bolt 2.0, with a re-built backend. If you'd like to help out with things like this (either working on the backend itself, of helping design the IA of things like this), you're more than welcome!\n. @kuzvac @carlosleopoldo I like the split-button on the Magento screenshot too. We should make something like that for Bolt 2.0. Ideally, it would remember the user's preference, for one-click actions.\n. This has been fixed for a while now. Closing..\n. Thanks! This is a leftover from before, when we were actually using 'en' as the fallback, but it wasn't hardcoded. :-)\n. Noice! thank you! \n. Same goes for the new \"filelist\" I guess..Yeah, we should write some docs for those. :-)\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. We can do two things: \n- Just make it configurable, so you can set it to 256, and create very long urls that nobody can type or remember.\n- Keep it at 64 and tell people to make more sensible slugs, creating better links. \nFor example, I'd think your example could use this as a perfectly valid, semantic slug: congreso-internacional-de-odontolog\u00eda-de-verano. \n. > But by now Bolt generates 66 characters slugs but when it's requested a slug with 66 characters Bolt cuts to 64 characters and serves the wrong entry. It's a Bolt bug that need to be patched.\nYes, that's a bug for sure. I'm looking forward to the pull-request. Just in time for Bolt 1.4. ;-)\n. Thanks again! :-)\n. Good suggestion, @hansfn. Thanks for the patch, @carlosleopoldo.\n. What went wrong with this?\n. It's not the cleanest solution, but I've set the default to 1900. It doesn't trigger the 'auto-depublish', and it works on all databases.\n. It's always been a bit fickle. We try to have DBAL abstract away the differences between different databases, but especially in things like this, it's clear that they are different under the hood.. \nThanks for the patch! \n. > Remove the if condition and set $requesturi = $SERVER['REQUESTURI'] solves the problem.\nThat might solve it for you, but we added that for a reason. If you're behind a proxy, or you have to support IE8, or the website is behind Varnish, you'll see weird values for those parameters. We've made quite a few modifications, until it seemed to work for everybody. \nThe current version should work, though: https://github.com/bolt/bolt/blob/master/app/classes/timthumb.php\n. Thanks again! :-)\n. You forgot $this->getRemoteAddress(); at line 372 in 1963555ca4. If you fix that, I can merge this! \n. Looking good! Thanks! \n. Sweet! I'll check this tomorrow, and if nothing unforeseen pops up, i'll merge it in for 1.4.0!\n. The other time it came up was here: #760 \nWe should make something more elegant for this sometime, though. :-)\n. I did some quick testing.. This is awesome! \n. Three questions: \n1) Shouldn't this: \n$this->config['permission'] = array('root', 'admin', 'developer');\nbe:\n$this->config['permissions'] = array('root', 'admin', 'developer');\n2) You call $this->getConfig() manually. It ought to do this automatically, so the statement could be removed. Unless you did this for a specific purpose. \n3) Finally, since you're trying to load config.yml, and refer to it in the readme.. Shouldn't there be a config.yml.dist included? \n. Thanks in advance.. Looking forward to it. \n. Agreed, there should be an \"Edit my profile\" page in the backend. \n. One extra small feature-request: A button that says \"Clear the stack\". When clicked, the user's stack will be cleared. [imagine a picture of Captain Obvious here]\n. Has been added to 2.0. Closing this issue.\n. Thanks! :+1: \n. Good catch on the 'app.php'.. Thank you! \n. Thanks! \n. Hi,\ncan you tell me what version of MySQL you're using? It works on the\nversions i've tested it with.\nAlso, are you doing an update, or a fresh install?\nTo perhaps fix it, could you try the following: Edit the file\napp/src/Bolt/Database/IntegrityChecker.php, line 385. It should currently\nbe:\n$usersTable->addColumn(\"roles\", \"text\", array(\"default\" => \"\"));\nTry to change this to:\n$usersTable->addColumn(\"roles\", \"text\", array(\"default\" => \"\", \"notnull\" => false));\nor perhaps:\n$usersTable->addColumn(\"roles\", \"text\", array(\"notnull\" => false));\nLet me know how it goes for you!\n. If you have an idea how to tackle it: Great! :-)\n. Please try this, like I mentioned before: \n\nTo perhaps fix it, could you try the following: Edit the file\napp/src/Bolt/Database/IntegrityChecker.php, line 385. It should currently\nbe:\n\n$usersTable->addColumn(\"roles\", \"text\", array(\"default\" => \"\"));\n\nTry to change this to:\n\n$usersTable->addColumn(\"roles\", \"text\", array(\"default\" => \"\", \"notnull\" => false));\n. We originally used dirname(__FILE__), so we could show a descriptive warning to people who try to set up Bolt on a server with PHP 5.2. You'd be suprised how many people completely neglect to read any sort of documentation, and complained about how Bolt must obviously be broken because they got an error like Notice: Use of undefined constant __DIR__ - assumed '__DIR__. Maybe it's time now to let go of that though, and just use __DIR__.. \n. > It took me a few tries to get Bolt up and running in my VM... and I'm a developer!\nReally? I did not expect that. Could you expand on what problems you had? \nI'm not at all against making an install-script or anything, but the 'normal' install should be as simple as possible too. One doesn't exclude the other. ;-)\n. I agree that would be nice to have.. I'm going to merge this in, and open a new Issue for \"We need a simple 'check requirements' script.\". \n. Thanks! :-)\n. Hi Juan, I'll be back at work tomorrow, and I'll take a closer look at this pull-request and merge it in. Looks good, though. Thank you! \n. Thanks! :-)\n. Shouldn't that be ~2.4 with the added tilde? \n. Thanks! \n. Looks good! Thank you, again! \n. Hi, \nI don't think commenting out that line is the right thing to do, but you're definitely on the right track.. I'm going to dig in. Thanks for the pointer! :-)\n. I'm looking into this.. What you changed basically is: \nif (in_array($result->id, $current)) {\nto\nif (in_array($result[\"id\"], $current)) {\nI'm not yet sure how that could make a difference..\nAnd this is a slightly different issue:  \n\nclear the cache and it will work if your contenttype has a title field.If your contenttype does not have a title (ex speaker should use name) it will only display the number.\n\nI see, it uses {{ item.title|escape }}, it should be {{ item.title()|escape }}. I will fix that!\n. Found it.. There was a bug in hydrateRows().. Please try out the fix i'm about to commit, and let me know if it solves the issue for you! Again, thanks for pointing me in the right direction! :-)\n. Glad it works! :-)\n. Seems like more issues with the same bug. See #782. We're working on it.\n. Just checking.. Is this particular issue still present after applying this fix: e7439f798eb9b2ddee496cc07b82ce57b782e5ae\n(don't forget to 'check database' after doing so)\nAbout you other points: \n\n3) Overall I think there are couple of issues relating fields.\n\nSame ones as these? See: #802 \n\n4) There is track changes or history implemented, is there any possibilities I can bring back my last changes or retrieve changes. Wordpress have good example of comparing changes by date.\n\nNo, currently there is no way to do that. We only log the changes, no functionality (yet) to revert or rewind to old versions. \n. Closing this one due to inactivity.. If there's still an issue with one of these things, feel free to re-open it! \n. I think I'm going to pull this one, as soon as we get started on 2.0 for real. Some of these changes are too big to be included in a 0.0.1 update.\nBy the way, have you seen this? http://bolt.cm/newsitem/bolt-sprint-in-january-or-boltcamp-2014 \nIf you've missed it, you're more than welcome to join in remotely. One or more of the features in this pull-request might need some tweaking and/or additional coding. We could do these, and merge them in immediately.\n. There's some more practical information here: https://github.com/bolt/bolt/wiki/Things-to-work-on%2C-during-B%C3%B6ltcamp\nThat page lists most of the things we'll be working on, of you'd like to code along, remotely ;-)\n. I'm going to pull this manually into the feature/bolt2 branch. \n. It's been manually merged into the feature/bolt2 branch. A few comments: \n- \"RelationView\" takes over the click on the 'title' in the overview. I'm not sure that's a good thing. I can image people getting really confused if that can't click that anymore to edit the records.. Perhaps add a \"related to\" link in the contextual pull-down on the right side of the line?\nThe 'view kitchensink' link in the main menu is cool, but I can imagine that would be confusing for people. Im not sure the 'main menu' is the right place for such a contextual link.. hmmz. \nAs for the other changes: good stuff! Everything seems to work as it should.. \n. Closing this. If this remains an issue, feel free to re-open it. \n. Thank you! :+1:\n. Hi, I would happily accept a pull-request for that. :-)\n\n(1) modify timthumb to prevent upsizing or\n\nI think that would be the preferred way. It would be nice if it could be set in the config.yml, too:\nyml\nthumbnails:\n  quality: 80\n  cropping: crop\n  ..\n  allow_upscale: false\nYou can check this value in timthumb.php by using $config['general']['thumbnails']['allow_upscale'].\n. You know what, just going to pull this as-is, and add that one line myself! Thanks! \n(i'm a bit impatient, because I want to release 1.4.1., with this fix included. ;-) )\n. As you can see, I took the liberty to change the name of the setting to allow_upscale. With prevent_upscale you'd get double negatives, and that's always confusing: \"Set prevent_upscale to false, to disable preventing images to be not larger than their original\".. See how that can be confusing? ;-)\n. Good catch! Thanks again! :+1:\n. Thanks again! :-)\n. I think what we would need is a real standalone script.. A single .php file, someone can download (wget, curl, ftp, whatever) and put it on their server to check the requirements, before they go through the \"trouble\" of downloading the entire Bolt app. \nOtherwise, these check can be built-in (for those that aren't already) in our lowlevelchecks.php.\n. > Hmm, this is interesting. In my honest opinion, those checks should be performed internally.\nThis really isn't a tool for everybody. It's exactly for those who do think downloading the entire package is a lot of work. It really isn't, but try to convince people of that. \n\nas most people check the requirements before downloading (I hope).\n\nHaha! No way! ;-)\n. But, there already is a set of checks integrated. If your server is OK, you'll just never see them.. For shits and giggles, just enable 'magic_quotes' in your PHP config, or remove your 'vendor/' folder and try to load the backend. \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Could you post a screenshot, or the entire error message? \n. Closing this one, because it's not a bug. \n. Thanks! I'm going to update Bolt 1.4.2 as well! \n. Whoop! \n. Which version of PHP is it? A screenshot of phpinfo would help: \n<?php phpinfo();\nI'm wondering if this is Bolt acting up, or something else. Could you try changing the following line in your app/config/config.yml: \nyml\ndebug_enable_whoops: false #\nDoes that change the errors you're getting? \n. > Is it possible this problem occurs when your site is empty?\nThat should be no problem. If you set up a new install, it's always empty by default.. Here's a screenshot of a fresh install using SQLite: \n\n\nAnother question: is Sqlite somehow still queried, used or touched when it is installed even though you have configured Bolt to use Mysql?\n\nNope. Quite sure it doesn't. The one place in the code where the DB-connection is established, it uses the credentials from the config.yml. \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. I'm afraid not. Currently there's no viewcount or anything like that integrated in Bolt. This would be a perfect candidate for an extension, as far as I'm concerned. \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Hi, \nI think that would only make it more confusing for a lot of people.. We've made it so that there is no distinction between \"upgrading\" and \"installing\".. You can just download the zip, and overwrite everything. That's pretty simple, right? \nThe only thing that's missing is files that have been removed or deleted in later releases.. But, you wouldn't prevent that with different packages. \n. I admit that having something like this can be beneficial to people, but I don't think we can make time time to prioritize this. If you think this is worthwhile, and you have time available to work on this, I would gladly accept a pull-request for it :-)\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. > using propel would never solved my wish using mongodb as well \nWhy would we want to use NoSQL with Bolt? Buzzword compliance, or is there an actual reason why you'd think this would be useful? I'm not sure we'd benefit from this. \n\nGenerating entity classes is an easy task, cause they are easy build, but i understand you don't want doctrine2 orm\n\nWe don't want code generation when building sites with Bolt. This would seriously diminish the usability of Bolt for users who don't have commandline access (either because their host doesn't allow it, or because they simply have no experience with it).\nI'm not at all against using either Doctrine's ORM or Propel or whatever, but I'm very strict about that whatever we choose, it must not make Bolt harder to use for people. The way we currently use our .yml to update the DB-structure works easy enough for most users. \n. I think we'd need to take a small step back, and take a good hard look at why we'd want this.. What current problem would code-generation solve? What use-cases would it allow that are currently problematic?\n. I'm all up for discussion, and it sometimes might sound like i'm against changes, but I'm really not. I am however very much in favor of changes that would be true improvements, and not just change for the sake of change, if you know what I mean. For some background on why I feel this way, read this and this.\nOne of the reasons I'm trying to be a bit conservative is exactly for the reason @marcj mentions: We're probably all very busy, and working on Open Source software is great and all, but we should really try to spend our time as effectively as possible. We should build stuff that yields the greatest benefit for all. Building two full prototypes and discarding one of them would be a shame, IMHO. \n\nWhat i like to have, is that data can be reused outside the cms in a common way, for example for builing an ecommerce solution based on bolt.\n\nThat - to me - is a completely different use-case. An API to access Bolt's data would be great to have. But, IMHO, we wouldn't need an ORM just for that. :-)\n. See #687 for ongoing discussion about refactoring storage.php.\nClosing this. If this remains an issue, feel free to re-open it. \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Uncomment the 'mailoptions' section in your config.yml. See: https://github.com/bolt/bolt/blob/master/app/config/config.yml.dist#L165\n. The server had a freeze. It's working again! \n. Are you wondering if it is possible to theme the backend for Bolt in such a way that it won't get overwritten when doing an update to a newer version? \nIf so, you can't do that yet.. In Bolt 2.0 we're going to re-do the backend, and we'll make sure there's a way you can add your own additional styles to brand the backend. \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. I've bumped into this once or twice as well. Although, mostly with \"news\" or \"media\".. I've never tried to create a contenttype for \"sheep\". ;-)\nI'm not sure yet how we should fix this. The reason that Bolt complains about it, is to prevent the routes from getting confused:\nhttp://example.org/pages - an overview listing of pages\n  http://example.org/page/foo - a specific page, identified by 'foo'\nIf we allow the singular and plural version to be the same, these routes would get messed up. To be specific: \n\nSuggestions how we should fix this? \n. I've looked into this a bit more.. If we decide that we will allow 'slug' and 'singular_slug' to be the same, we need to fix the routing. Not just for the frontend, but also for the backend. So, it's slightly more work than just fixing routing.yml, but it should be do-able. \n. ~~I think I'm going to merge this in, and make a small addition: If the record that is set in 'homepage' does not exist (or it is depublished), it should do a fallback to something that does exist.~~\nNevermind about that. If the page set in 'homepage' does not exist, it's highly unlikely that the index.twig template is even used. The addition mentioned here would make no sense. \n. Good catch! Thank you. \n. With \"categories\" we already do something like this, in the DB: the 'slug' field has a sluggified version, while 'name' has a value that can have capitals and spaces. We should expand this to tags, IMHO. \nThen, you can use 'PHP' as a tag, but the generated URL will stil be lowercase, as it ought to be: /technologies/php \nIf we made that change, that would solve your issues, right? \n. I don't think it will be that much work.. From the top of my head, it can be split in the following: \n- Make the frontend controller (taxonomy() in src/Bolt/Controllers/Frontend.php) accept both 'php' and 'PHP'. \n- Make the frontend controller search for the case-insensitive version (ie 'php', even if called with 'PHP'), and have it search in the db for the sluggified version.\n- When editing a page and storing it, change the current behaviour to store the user-supplied version in the 'name' column and a sluggified version in the 'slug' column.\n\nI assume there would have to be a new interface in the admin panel for letting users set \n\nAt first I think that's not needed. you said the backend already picks up the version with captialisation like you first supplied, so that should keep it from getting messy. \n. Well, the same goes for \"categories\" and \"groupings\".. You can change them in the .yml, but you can't easily change the values of already created records. I fully agree that this would be a nice thing to have, but it isn't just because of these proposed changes alone that we would want to have it. :-)\n. Keeping #868 open, but closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. If you can specify in your contenttype.yml whether or not you want to have the 'alt' and 'title' fields in the \"edite record\" screen, that'd be cool to have. \nI'd favor 'title' over 'caption', though.. Just to keep it in line with the attributes in the <img> tag. \nIs this something you could do, and make a pull-request for? \n. If we were to split up the work that needs to be done for this, the following things come to mind:\n1) Update app/view/_sub_editfields.twig to edit the form fields that are displayed depending on whether or not 'title' and 'alt' are set. When developing, you can use {{ print(field) }} to dump the current field definition with its properties. These new properties in the .yml file should be available here, without needing to change any other files. Check out how the 'geolocation' and 'video' field types add multiple fields.\n2) when storing a posted record, update the image fields. Since they will contain some meta-info, we'll probably need to save them serialized in the database. Just like the 'geolocation' and 'video' field types. Check 'saveContent()' in app/src/Bolt/Storage.php. \n3) when retrieving a record, for displaying in a template, we'd need to add some magic to keep the old 'images' working, while at the same time we'd need to be able to access the new fields if available. This might be tricky to get right.. Breaking backwards compatibility should really be avoided if at all possible. I think this could be done either in get() or setValues() in app/src/Bolt/Content.php. \n4) Update the documentation. :-)\nLet me know if you get stuck. I'll gladly help! \n. I wonder how useful \"usemap\" and \"crossorigin\" would be in this context, though..\n. Fair enough! :-)\n. \\0/\n. Sure, take a look at the default _sub_menu.twig: https://github.com/bolt/bolt/blob/master/app/theme_defaults/_sub_menu.twig\n{% if item.submenu is defined %}\n   (do something)\n{% endif %}\n. 1) You can't do that currently. Could you give an example of why this would be beneficial to have? \n2) You can't do that either at the moment.. In a future release, we'll make it so that all fields can be powered by extensions, so then you could write custom validation for your fields. At the moment you can't, though.\n. Perhaps this is something we could include in Bolt 2.0? It might be good to have an option for this, that's configurable in permissions.yml.\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. We're aware of this. Unfortunately, this is not something we can fix easily. We could advise people to \"make /extensions/ world-writable for all!\". But, that would not be smart, since it is very bad practice to place executable code in folders that are world-writable. \nI agree it's a bit of a hassle, but we don't readily know how to make this easier, without advocating bad practice. :-)\n. Originally we chose to do it the way it is now, but if the consensus is to \"keep all config files together\", I could see the point. Perhaps we could change this for Bolt 2.0? \n. Has been fixed for 2.0. Closing this issue.\n. I know, but it's hardcoded in the Symfony code in /vendor. I'd rather not modify files in there, so I'm not sure how we could fix this. I agree it would be nicer if we could show a Bolt logo there..\n. > --optimize-autoloader\nI hadn't heard of that before. Looks like a good option to add! \nWhat the current script does, is remove a lot of stuff that most people won't need. Mostly .git files and tests. The build script is here: https://github.com/bolt/bolt-distribution/blob/master/package.sh\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Thanks!\n. This issue is resolved by #838 \n. This looks good, but maybe it should take into account that the 'contenttype' can change, after you've used {% setcontent %}.\nI'm going to merge this in. Feel free to make an additional pul request that updates the {{ contenttype }} variable. ;-) \n. I don't quite follow you. Isn't this just a matter of updating the variable, somewhere in the code for setcontent?\n. Just use $app['twig']->setGlobal('contenttype', $foo).. Or, am I missing something?\n. Closed by ccfcd90.\n. Is this still an issue? If so, we should label it properly. \n. Rajeevan, Your issue should be solved by #848, right? \n. Yes, it seems like you're both right. Merging this one in as well. Thanks! \n. Fixed in 7828a8b096ccb3d2f4c73d0d7e33884f361a2277\n. Loading ~50 users for every request should have a really minimal impact on the performance of Bolt. I can imagine that having hundreds or thousands of users will be a problem. But, Bolt really wasn't meant to be used that way. If you'd like to have that many users in the frontend, I'd suggest looking into making an extension for that, so that the users are stored in a different table than the \"backend users\". \n. I've always learned that you should optimize what needs optimizing most. The bottlenecks, so to say. I agree fully that it would be better to not load the users, unless needed, but I think that doing that would yield little benefit. In my humble opinion, it's not lazyness, it's a matter of cost/benefit when taking developer-time into account.\nI've thrown together a very simple example:\n1) this is the bolt frontpage on a default install on my small mac mini. Hardly the most capable webserver. The page takes 318 ms, of which 45ms is spent doing database queries. \n\n2) I'm going to change the users table to literally have 100 users: \n\nHere are the results for that same page as before: \n\nActually, refreshing the page a few time gives varying results, but never significantly more than when I'm only using 1 user. \n3) Let's step it up: Add 1300 users to the db.\n\nResults: \n\nAs you can see, the memory footprint increases drastically, but it's still a lot less than what Drupal or Wordpress would need to do this. The time to do the queries increases hardly, though.\nSo, in conclusion: I completely agree that it would be better to use lazy loading or something like that for this, but on the other hand: In most cases by far, the benefit would be negligible. So, wouldn't you agree that it's best to just say \"nah, just leave it\", and instead focus our attention on areas that can benefit more from optimization? :-)  \nAt the same time, if somebody were to make a pull-request that would introduce lazy-loading for the user-table, without any added complexity for the average user, I would merge it in a heartbeat. \n. Actually, now that I've thought about it some more: The largest increase in memory happens because of the assignment to Twig. \nA really simple meet-halfway-in-between-solution would be to still retrieve all the users, but just don't assign them to the global Twig handler. We can then add a simple Twig function to return the user needed, and we'll be able to have 1.000 users with maybe ~1mb extra memory at the most, and no performance impact at all. \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Closing it now! (sometimes Github doesn't automatically close an issue, when a fix is merged in)\n. \"Showcase\" sounds good to me.. Let's leave this for a few days, to see if other suggestions come in. Otherwise, we'll rename to \"Showcase\".\n. Thanks! \n. Closed by #1636\n. Closed by #861. \n. Whoop! \n. What you describe can already be done. However, that would work very different between themes and how people set that up.. If we allow for a config.yml in the theme folder, we can keep it consistent which is easier for people to use. \n. Well, you can use the stack to upload images. \nStill, for now we should do this using a .yml file. It will be the easiest and most consistent to implement.. :-)\n. If you'd like some pointers on how to get started, Just let us know! \n. :+1: \n. I agree. It's perhaps not something that we should advocate openly, but you can't deny that it'd be very convenient for people, if a Theme can be changed in some key aspects, just by changing some values in a .yml file. \n(maybe in the near future we could allow less/sass for themes, and have Bolt parse them. Then we could do these things properly though)\n. > I'm wondering if we should add the ability to edit this file from the backend, since that will be an open advocacy?\nWell, we want people to edit this file.. However we should be cautious to advocate bad practices. If a theme developer sets up the theme to have this: \nbackground_color: #E2E2E2\nThe template would probably have some inline CSS somewhere, to set the background. Better would be to set this in the \"external css file\", but we can't do that currently, since the CSS isn't parsed. \nThere's no problem using this for things like \"amount of items on the page\" or \"location of the logo image\" :-)\n. Resolved by issue #856 \n. Merci beaucoup!\n. That's quick! And looks good at first glance. :-)\nOne question: Does this->parseConfigYaml fail gracefully if the file doesn't exist? Or should we add a fileexists() before attempting to load it? \n. Ok. Cool! \nOne latest follow-up question: Should we set this as a \"theme\" global var in twig? So theme authors can use {{ theme.foo }} instead of {{ app.config.get('theme/foo') }}?\nI'm slightly leaning towards \"yes\". \n. This looks perfect! Thanks!! :-)\n. Great! We're looking forward to it!!\n. Really? Is that in the .tgz file? When I download bolt_latest.tgz from here, I see this: \n\nExactly what file did you download?\n. I've tested in winrar myself, and I know my colleagues use 7zip. Does the bolt_latest.zip file have the same behaviour for you? \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Hi Michael,\nYes, that'd be great to have. As you've seen, we have some Codeception\ntests, but we could sure do with more rigorous testing. If you have any\nquestions about how we've set things up in bolt, or any peculiarities you\nmight find, please get in touch!\nCheers, Bob.\nOn Sun, Jan 26, 2014 at 12:42 AM, Michael Bodnarchuk \nnotifications@github.com wrote:\n\nHi there! Great to see that bolt already have some of Codeception tests. I\nwas planning to develop a Silex module for writing functional tests in\nCodeception and was looking for a Silex app I can try them on.\nAre interested in this? I could try some basic tests within new module and\nsend you a PR. I will need some feedback from you and maybe some help with\nSilex.\nThanks.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/860\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. Hi Rix, \nThere are some unit and functional tests already, that are integrated with TRavis CI. (see the .travis.yml in the root of the repository), but we need much more. If you'd like to help get the automatic tests on track, you're very welcome! :-)\nBig refactorings of the codebase are not planned at the moment.. In fact, Bolt 2.0 will mostly have a re-done backend (bootstrap 3 + sass) and the marketplace. The current internals will not change much. \n. @DavertMik Sure, let's see it! :-)\n. Closing this. If this remains an issue, feel free to re-open it. \n. Looking good! \n. Thanks! \n. I think having a blank password for MySQL is just plain stupid, regardless of the feasibility of @gawainlynch's example. It's just bad practice, no matter which way you spin it. \nAnyhow, since this issue keeps popping up, I think i'm just going to give in, and we're going to change the behaviour to allow blank passwords. If you don't want to be safe, you should have the right to do so. :-/\n. I've made a small change, so that Bolt will now allow empty passwords for all users, except root. There is really, really no good reason ever to want to have an empty password for root. \nAt the same time, if you're stuck in the hypothetical situation that you're trying out Bolt on a system and you only have 'root' and can't change the password, you should simply add a new user with a password. You are root, after all. ;-)\n. > So you didn't solved the issue and instead of listening to your users\nThat is absolutely not true. Just because I disagree with you on this subject, does not mean I'm not listening to what you have to say. \nAnd, I think this issue is actually 'solved' as it is. As far as i can tell, there are four different possibilities:\n- Root with password: Bolt works\n- User with password: Bolt works\n- Root with empty password: Bolt won't work, but you can easily add another user. Or, just use SQLite for testing. \n- User with empty password: Bolt works. \nSo, that leaves no cases where you can't use bolt, right? \nAlso, it would've been much easier to just give in, and allow an empty password for Bolt. But, that's just bad practice, and (imho) would've made bolt a worse product overall because of it. To make a good and consistent product, unfortunately sometimes we have to say \"no\" to suggestions. If you're interested, read this excellent article on the matter: http://insideintercom.io/product-strategy-means-saying-no/\n\nyour project is promising.\n\nThanks, we think so too. I hope this little disagreement about a minor issue isn't going to make you go away. We really are a friendly bunch, most of the time. :-)\n. Some quick googling gave me these sources: \n- \"When installed, MySQL enables any user with physical permissions to the server to connect to the MySQL via unauthenticated users. MySQL also provides complete access to all super user privileges via the \u2018root\u2019 user with no default password.\" -  very first point to fix\n- \"Do not have an empty root password. Otherwise anyone can connect as root without a password and be granted all privileges.\" source\n- \"The default administrator username on the MySQL server is \"root\". Hackers often attempt to gain access to its permissions. To make this task harder, rename \"root\" to something else and provide it with a long, complex alphanumeric password.\" - source\n\nYou should focus on being a CMS not a teacher for admins\n\nYou're right about that. However, we take security very seriously with Bolt. So far we've had no significant security-issues, and we intend to keep it that way. However, it's totally possible that one day a security issue would be discovered, or there's an (other, unrelated) security issue with an extension. There's always a possibility that one tiny issue could be escalated to a huge issue, because potential issues are left open. I consider \"blank root password\" to be one of such \"potential issues\". \nTherefore we consider this not something that's \"let them be lazy\", but \"we will not allow it, to prevent possible issues in the future\" instead.\n. Agreed, we need to implement some solution for this. My old suggestion still seems OK to me, even though i'm not quite sure how to implement this properly. \nIf that seems like a good solution to all, we'll do that! \n. Marking as duplicate of #610\n. There's no really clean way to do so, but you can with a little bit of overhead. Just use related() to get all of the related items, and then in the for-loop to display them, use this: \ntwig\n{% for movie in relatedmovies if ( movie.eventdate > \"now\"|date(\"Y-m-d\") ) %}\n ..\n{% endfor %}\nLet me know if that works for you! \n. That sounds like a neat solution. I think it will not be useful in a wide range of websites, but the option  would be good to have. I'll gladly accept a pull-request for this. ;-)\n. Closing this. If this remains an issue, feel free to re-open it. \n. I'm not too familiar with softaculous, so I can't give you a straight answer to fix this issue. Which version of Bolt does Softaculous install? \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Looking good, so far! Thanks! \n. > I think a better option here would then be to allow the users to add new categories on the fly from the content-type editor.\nNo, absolutely not. We already have a name for \"categories you can add on the fly\", which is \"tags\" ;-)\nChanging the behaviour of tags to allow tags with spaces in them is fine by me, though. We should do that! See also related issue #826.\n. It appears that the DB-check ignores field-types that aren't in the list of our defined fieldtypes. Specifically: type: textera. If you change that to textarea, the check will pick that up. \nI'm going to add a notice to the dashboard to check for typos in fieldtypes. :-)\n. Looks good! thanks!\n. Good catch. \n. Thanks.\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Well, we could change all \" to ' if that solves the issue, but i'm wondering if there isn't something else going wrong. I will look into it, and if what you say is indeed the problem, we'll change it. Let me know if this issue pops up in different places! :-)\n. Thanks! Did this happen when importing a WXR from Wordpress or PivotX? \nRegardless, we'll check it out, and fix it in the source. \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Hi, \nI've never seen this issue before. Peculiar. :-)\nCan you give me some more info please?\n- What version of Bolt is this? downloaded from the site, or installed via Composer?\n- What version of PHP are you running? on what kind of server?\n- Is this the entire error message, or is it part of a trace with more errors? if so, please post the entire thing. \n. Yes, please do that. :-)\nJust create a small script that says: \nphp\n<?php\nphpinfo();\nAnd post the link here, so we can check it out. \n(so far, i'm clueless as to why this would happen for you, with the information we have so far)\n. Glad it works now! :-)\n. Great, thanks! \n. You should look into the redirector extension. It comes bundled with Bolt, just need to enable it in config.yml. It does exactly what you need. \n. Could you check the following:\n- Is the files/ folder chmodded to be writable by the webuser? (you're not sure what that means exactly, make sure it and its contents are chmodded to 777)\n- Are the files actually uploaded? The should be placed into a files/2014-02/ folder..\n- If you edit the page/record again, does it still show the items you've put in the file and filelist fields?\n. I'm not sure how we'd do this, if we wanted to. We can't use the same strategy as with the .yml files, because we really can't assume the web-user is allowed to write in the website's base folder. \nThe other alternative is to not include a robots.txt at all, but I wouldn't like that: I think it's good practice that we exclude app/ and vendor/ from spiders by default. \n. > Failing that, configuring the server to serve a 404 response\n\n(rather than a 200 or 500 or 403), ideally one that is identical to a\n\"real\" 404, when someone tries to access anything in them, is a valid\nplan B.\n\nLet's go with this option, for now at least. We should remove robots.txt from the distro, and add .htaccess files to app/ and vendor, to serve 404-responses for anything else than valid assets (css, js, jpg, png, gif and svg).\n. This has been included for a while now. Closing :-)\n. Closing this one. Most of this has been added to 2.0 in some way or another. \n. Closed by #907.\n. In this case, the probem isn't a predefined column named link in the database, but rather a utility function in the Content object. {{ content.link }} maps to a function if it exists, or otherwise a value. See the subheader \"implementation\" here: http://twig.sensiolabs.org/doc/templates.html#variables\nWe could rename our functions to something like {{ content._link }}, or require the values in the templates: {{ record.values.title }} instead of {{ record.title }}. Both are equally ugly, imho. \n. Well, that depends on whether there are privacy/security implications. If not, just set the data in the cookie, and use that. json_encode() what you need to keep around, and that should work just fine.\nIf there are privacy/security things you need to take into account, there's really no other option than using a cookie to store a session-id, and keeping track of those yourself on the server or in the DB. Basically, doing slightly the same as we do with bolt_authtoken. \n. Interesting. :-)\nIf it works well, I don't even think it should be a setting in config.yml. Every bolt site has access to a DB, so we could just decide to use that. If it works well, that is.\nAlso, the new Authenticate extension might also be intereseting for this: https://github.com/bolt/bolt/tree/master/app/extensions/Authenticate\nLet user authenticate once, and you have a handler / id to reference them by from that point on. See it in action here: http://snippets.bolt.cm \n. I haven't tried out your code, but my guess would be that it's getting confused because you're mixing up two forms.. I've never used the 'collection' type, but at first glance it seems like a piece of really confusing functionality. \nWhy not just do this? (in copy/pasted pseudocode! beware!)\n``` php\n        $builder = $this->app['form.factory']->createBuilder('form', null, array('csrf_protection' => true));\n    $builder->add('name', 'text', array());\n    $builder->add('email', 'text', array());\n    $builder->add('running', 'checkbox', array());\n    $builder->add('swimming', 'checkbox', array());\n    $builder->add('walking', 'checkbox', array());\n\n```\nand then just structure the form yourself in HTML:\nhtml\n        {{ form_row(form.name) }}\n        {{ form_row(form.email) }}\n<li>\n     <label>Interests</label>\n    <ul>\n        <li>{{ form_row(form.running) }}</li>\n        <li>{{ form_row(form.swimming) }}</li>\n        <li>{{ form_row(form.walking) }}</li>\n    </ul>\n</li>\nI'd think that would save you from a lot of hair-pulling to get 'collections' to work. :-)\n. Also of interest to you might be the new 'authenticate' extension. See: https://github.com/bolt/bolt/tree/master/app/extensions/Authenticate\n. Bolt uses tps://github.com/blueimp/jQuery-File-Upload internally, check out app/classes/upload. As far as I know it's secure, but you probably mean that you want more control over what files are uploaded, right?\nIf so, I think you could easily make your own piece of code that uses the library, and then you can add your own checks, and the like. \n. In app/classes/upload/index.php the allowed filetypes are defined. Obviously only authorised users should be allowed to upload at all. \nI would advise changing these filetypes to anything that's executable through the webserver. For example, if a 'low level' user is allowed to upload files, but they are allowed to upload .php files, they could easily upload their own backdoor, so to say.\n. oh, wait! Now I understand. What you're looking for is in app/src/Bolt/Controllers/Backend.php, around line 1113. Turns out you can upload .php files there, if you're logged in. They're still not executable, but, this is not advisable. \nI'm going to make a config variable for that, to limit the types of files you can upload there.\n. I made the filetypes configurable in this commit: ca68895b8. \nI think checking for max width and heights will be a bit more difficult. You would need to upload the image first, and then bolt would have to check if the file is OK. \n. > This file name still valid for bolt, can we control file names?\nCurrently it does not. Should we automatically clean up filenames when uploading? \n\nit's still uploading files which is not on the list, for example i uploaded one exe file, and it saves it as \nClassicShellSetup_4_0_2 (1).exe.file\n\nThat is on purpose. If the filename's extension isn't on the allowed list, it gets .file appended, as an extra precaution to make sure it won't get executed. \n. Filenames can't be changed yet. What would you want to change?\n. In 1.6 you have more options to limit the types of files that can be uploaded. Closing this one for now. \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. We are aware of this. This is basically a consequence of the decision that once you trust a user enough to place content, you basically allow them to insert javascript. So, by proxy, you trust them enough to not break the site. \nPerhaps we should add extra options to either the permissions or the contenttypes:\nyml\n        body:\n            type: textarea\n            height: 300px\n            allow_html: [false|none|basic|full]\n            allow_script: [true|false|yes|no]\n. This has been fixed in Bolt 1.6\n. You're right on both points. Thanks for bringing these to our attention. \n1) The session ID has to be reset when logging on or off.\n2) we'll convert those to POST only, so they're not in the URL. \nThese points will be fixed soon!\n. Why post this here, and not in #906 ?\n. Yes. :-)\n. from config.yml: \n``` yml\nEnforce SSL: if set, all but the front-end pages will enforce an SSL\nconnection (and redirect to HTTPS if you attempt to visit the backend over\nplain HTTP).\nNOTE: if you set this, you probably also want to set the cookies_https_only\noption; without it, users can still be tricked into sending session cookies\nover plain HTTP, which could allow a MITM attacker to hijack their sessions.\nenforce_ssl: true\n```\n:-)\n. It should really only enforce that on the backend. Not the frontend.. If it does both, it's a bug, and we should fix that. Did you try it out?\n. Toppie! \n. Please keep the discussion of this together with the rest, in issue #905. :-)\n. Looks good now! Thank you! :-)\n. This fix will also be in the upcoming 1.4.6 release. \n. Hi, \nDo you need this in the backend, or in your frontend templates? In case it's the latter, this workaround might be useful: Select based on one sorting, and use the order filter to sort again: \ntwig\n{% setcontent pages = \"pages\" orderby 'state' %}\n{% for page in pages|order('town') %}\n  .. {{ page.title }} etc ..\n{% endfor %}\n. You should do it in the other order: First sort on town, then on state. \nHowever, it seems that you are correct that something is not exactly right. Under the hood, the order filter uses PHP's uasort() function, and it states:\n\nNote:\nIf two members compare as equal, their relative order in the sorted array is undefined.\n\nThis means we'll have to redo that function in app/src/Bolt/TwigExtension.php, so it doesn't re-arrange those items. \n. I've changed the order function. In the next update of Bolt, you'll be able to do this:\n{% for page in pages|order('town', 'state') %}\nAnd it will give the output you want. \n. Hopefully the minor release (1.4.6) will be out this weekend!\n. The order filter is used for ordering any types of arrays, and is used mostly for sets of 'content'.. What you're referring to is ordering when fetching records from the database. In {% setcontent %} you can already do order on multiple columns. :-)\n. You are correct, this is currently hardcoded: \n{{ item.title|escape }} <span>(\u2116 {{ item.id }})</span>\nFor the next release of Bolt, you will be able to add it to your contenttype.yml:\nyml\n    relations:\n        entries:\n            multiple: false\n            label: Choose an entry\n            order: -id\n            format: \"{{ item.name|escape }} <span>(\u2116 {{ item.id }})</span>\"\n. Thanks again! :-)\n. Two options: \n{% for key, category in app.config.get('taxonomy/categories/options') -%}\n    <li><a href=\"/categories/{{ key }}\">{{ category }}</a></li>\n{% endfor %}\nor: \n{{ \"food & drink\"|slug }} -> \"food-drink\"\n. Take a look at this example.. http://www.scala-architecten.nl/pagina/gerealiseerd \nThat's what you mean, right? If so, i'll make a short writeup of how to do that. It's pretty simple. :-)\n. Ah, glad you figured it out. I didn't get around to doing this yet, since I didn't create that site. :-)\n\nHowever when filtering down by category there isn't a pager variable. So I can't distinguish how many pages are available. \n\nit should show the pager, as long as there's a {{ pager() }} tag in your listing template. I believe the jquery script that does this, takes a portion of the page, and inserts it in the current page, right? Perhaps you can tweak it to make sure the pager is inside the part of the page that get used? \n\nI also don't appear to be able to set the number of records to list per page in taxonomies.\n\nYou can do that globally, in config.yml: \n``` yml\nThe default template and amount of records to use for listing-pages on the site.\nCan be overridden for each contenttype.\nlisting_template: listing.twig\nlisting_records: 6\nlisting_sort: datepublish DESC\n``\n. Be my guest! And let us know if you manage to break it. ;-)\n. Looks good to me. I'm going to leave this open for a short while, to see if @jcracknell has any comments. \n. In that case: Merging in! Thanks!\n. Thanks for fixing it! :+1: \n. Well, sort of. There are a few portions of Bolt that actually use this. For example,{{ menu }}. You can use your own template, or place your own_sub_menu.twigin your theme folder, or it ill fall back to the default in/app/`. Also, some extensions that are callable in the frontend, might use a template from the backend.. \nIn practice, this is not a big issue, right? If you're theme doesn't exist, you will want to fix that, making this problem go away. Or am i overlooking something?\n. This shouldn't occur anymore, now that twig has it's own separate context for parsed content.\n. Curious.. Does it happen on different browsers? The first thing i'd like to pinpoint if this is something that goed wrong in your browser, or in Bolt/on the server..\n. > Cache-free (CTRL + F5) refresh always returns the correct page\nCould it be that Varnish and/or APC are messing with the output? Or perhaps even something like Cloudflare, squid or some other proxy?\nWhich version of Bolt is this, exactly? \n. This is an interesting problem. I don't really have an idea what would cause this. We're going to release bolt 1.5 very soon. If possible, pleasy update to that version, to make sure you're on the latest stable. \nIf the problem persists, let me know, and we'll dig deeper to find the cause of this. :-)\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. @ehsonbek I'm going to close this, to keep the list a bit tidy.. If you're still stuck, feel free to re-open the issue! :-)\n. Which 1.4.x version exactly? Have you tried shift-reloading the page?\n. Ah, right.. I didn't see that! \nIs javascript enabled in your browser? If so, and you open Firebug and releoad the page, does the console print any errors (on loading, or when pressing the 'save' button)?\n. My guess is that your Firefox has an old cached version of that file. Check http://example.be/app/view/js/jquery.plugins.js. Around line line 444 you should see this: \n``` js\n// Small jQuery plugin to detect whether or not a form's values have been changed.\n// @see: https://gist.github.com/DrPheltRight/4131266\n// Written by Luke Morton, licensed under MIT. Adapted for Bolt by Bob.\n(function ($) {\n$.fn.watchChanges = function () {\n\n```\nIf not, something went wrong with the update. \n. What DB are you using? \nIn MySQL LIKE is case insensitive, if the DB collation is set correctly. I believe using lower will be bad for performance. Perhaps we could even force the correct collation, with something like this : \nsql\nSELECT *\nFROM trees\nWHERE trees.`title` LIKE '%elm%' COLLATE utf_general_ci\n. Pinging @ehsonbek ;-) bump\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Yes, the docs have their own repo, so feel free to open new issues there. For now, I'm going to fix this right away. Thanks for bringing this to my attention! \n. Fixed in 84596ae81606e3605881814434ce51f6ada64570. \n. Ugh, so this means that they completely broke backwards compatibility between Apache 2.2 and 2.4, if I read this right? If so, they're frakking morons. I'm really not looking forward to having to support different versions of .htaccess, where using one version COMPLETELY breaks. I can already see how much support-issues this will cause. :-/\nDo you know by chance if we can solve this with an if statement?\n<IfVersion < 2.4>\n      Order deny,allow\nDeny from all\n    </IfVersion>\n    <IfVersion >= 2.4>\n      Require all denied\n    </IfVersion>\n. Followup question: Is this an apache version you've built yourself? what version exactly? Our dev machine has 2.4.6, and i've not bumped into this issue yet. Perhaps some module for BC?\nbob@jannie:~$ apache2 -v\nServer version: Apache/2.4.6 (Ubuntu)\nServer built:   Dec  5 2013 18:32:22\n. Relevant: https://github.com/puppetlabs/puppetlabs-apache/issues/337\nI'm still trying to wrap my head around who the fuck would think it's a good idea to completely break the API in a minor version? Have they never heard of Semantic versioning? \n. Other relevant links:\n- https://github.com/symfony/symfony-standard/pull/621\n- https://drupal.org/node/1599774\n. @may I just pushed a commit that ought to fix it. At least, it works on both my 2.2 and 2.4 setups. Could you check if it works for you too? \n. @bacbos Hopefully the change i just pushed will keep it working on both. :-)\n. Using gravatars could work for some, but as a site-builder you'll have less control over what kind of image you'll get.\nAnother workaround could be simply to use this: \n<img src=\"/images/{{ blog.user.username }}.jpg\">\nYou can't yet extend the user section via extensions. Might be a good idea to make one day, though. \n. That's a pretty good workaround, I think.. just create a 'biography' contenttype that contains whatever you want it to have, and in your templates, just do: \n{% setcontent bio = \"biography\" where { 'username': page.user.username } returnsingle %}\n{{ bio.description }} \n{% if bio.image!=\"\" %}\n    <a href=\"{{ image(bio.image) }}\">\n        <img src=\"{{ thumbnail(bio.image, 400, 260) }}\">\n    </a>\n{% endif %}\nThis way you can check if values are set, and you can as many fields as you might need. \n. Once again, thank you! :-)\n. Well, looks like you're right! I'll prepare an 1.5.1 release, which fixes that.. Will let you know when it's up! \n. I've just put up a new distribution here: http://bolt.cm/distribution \nThis should fix the problem for you, hopefully! My apologies for the inconvenience :-)\n. Good point! We'll do that! \n. This has been fixed today. :-)\n. Awesome! Thank you! :-)\n. Thanks! \n. So far, uses is only useful in slug. \n\nSo content listing for this contenttype shows no title and it is impossible to order it, as far as it doesn't display dates nor relations. Actually, it displays an almost empty line for each record.\n\nThis is not entirely true. It should fall back to any text in the record, and it is only blank if it has no text at all. \nYou could perhaps define your own listing_view template for this: copy app/view/custom/listing/pages.twig.dist to calender.twig or whatever your contenttype is called. Then you can edit the HTML to suit your needs.\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. This is a different issue. just use 'page/1' in menu.yml, since it is used only to reference the records, it is not an URL. \nWhat you're looking for is in routing.yml:\n``` yml\nExample override for a specific contenttype\npagebinding:\n  path: /{slug}\n  defaults: { _controller: 'Bolt\\Controllers\\Frontend::record', 'contenttypeslug': 'page' }\n  contenttype: pages\n```\n. Closing this. If this remains an issue, feel free to re-open it. \n. You could create a single contenttype named \"blocks\" for managing these kinds of things. This is what we usually do. \n{% setcontent block = \"block\" where { 'slug': record.contenttype.slug } returnsingle %}\n{{ block.description }}\nblock is now the block that has the same slug as the contenttype of the record.\n. I re-opened the referenced issue for now. We'll take a look! :-)\n. @mike-anthony Argh, I did see that mail, but didn't get around to it.. It's a particularly hectic week, here. :-)\n. Hi Anderson, \nLooks good at first glance. The only thing I'm not sure about is the removal of the \"/thumbs/\" lines from the .htaccess. I could see this change having a performance impact on sites with many thumbnails.\n. > the timthumb.php was requiring the app/bootstrap.php and now is the just the index calling app/bootstrap and then the timthumb.php.\nYes, you're right! No real difference! Thank you!\n. Thanks! \n. Two things that come to mind, right now: \n- Does this work well with the 'edit config' links when you're on the 'extensions' screen in the backend? \n- Does this try to copy the config.yml.dist to the right location as well? \n. Awesomeballs! Thank you. \n. This is a limitation of the current 'active' filter. We're aware of that, and we'll implement a better version. Soonish, hopefully. See also: #864\n. Looks good! Thank you, yet again! \n. It seems you're right. The \"order\" only makes sure the list in the content-edit page is sorted according to whatever it's set to. When retrieving them it seems like you get them in random order.\nI'll look into it! \n. This was fixed a while ago. Closing this. If this remains an issue, feel free to re-open it. \n. @GawainLynch \n\nI can't answer your question. But I want to add that logging on with either a username or email address would be a nice addition to core code\n\nThat sounds like an option we should have. This should go into the core, IMHO.\n. @diggersworld \nExtending the backend is currently not possible, and I'm not sure if this is something we want. I mean, overriding the built-in functionality might make it pretty easy to break stuff. Do you want this to have extra fields for users? See also this related issue: #927 \n. > Maybe one day down the line you could have a config file for user records and specify which credentials to use for login, and also any additional fields.\nYes, It's absolutely something that we one day wish to have. Can't make any promises on when, though. :-)\n. Is it only logged on the server? If you turn on error reporting in the browser, do you get a trace of the error? \n. Dammit.. Looks like I was a bit too enthousiastic cleaning up the Authenticate extension for release. Will fix! \n. There was a function page() in Authenticate\\Controller, but it was removed by me. This is really odd, because I don't understand how snippets.bolt.cm is still working, while it's running a vanilla Bolt 1.5.0. \n. I just committed the fix. This fix will also be in the upcoming 1.5.2 release, of course.\n. Closing this. If this remains an issue, feel free to re-open it. \n. Looks good! Thank you! \n. Perhaps this is connected to #955? I will look into it, thanks for noticing! \n. Closed by #1127 \n. Good catch! Thank you! :-)\n. Good catch! Thank you.\n. Looks good to me. Thank you. \n. > I'm not a fan of Disqus as an example and would love to use bolt to handle my comments. \nI'm curious.. Why not? Is it just because it's not self-hosted, that it feels \"out of your control\"? I can imagine that being an issue, but apart from that, I think Disqus works pretty smooth. :-)\n. That's undestandable. \nI do think though that \"comments\" should really be an extension, and not part of the core. (basically: in my view it would have the same the current sitemap or simpleforms extensions). Bolt provides all the means to do everything a commenting system needs to do, including adding/updating the correct tables in the database. \nI just don't think I will do it, mostly because of available time. This might change sometime, though. If we ever have a client who needs this functionality, these things tend to get bumped to the front of the queue. No promises, though! :-)\n. Check out the 'WaffleOrders' extension for a good example of an extension that does stuff with the database. Also, read these two pages:\n- http://docs.bolt.cm/internals\n- http://docs.bolt.cm/extensions\n. Closing this. If this remains an issue, feel free to re-open it. \n. Hi Tolu, \n\ni get this feeling that there is a \"developer\" guard protecting its functionalities.\n\nIf we come off that way, it's merely because we try to stay focused. And with \"staying focused\" comes \"saying no\". This is not because we try to discourage contributions (au contraire!!), but we try to streamline efforts, to maintain consistency. If we did not do this, it would get more confusing for the end-user, and nobody benefits from that. Read this interesting article: http://insideintercom.io/product-strategy-means-saying-no/\n\nDoes Bolt have a hard-line against a UI for configuration files? (Since this will be a brick wall for casual users. Period.)\n\nNope, we do not. However we disagree that it's a \"hard line\". It all depends on who the casual users are. As listed on our frontpage, there are three target audiences:\n- Backend Developers (who know PHP, and assumingly HTML/CSS)\n- Frontend developers (who know HTM/CSS)\n- Editors who know writing content. \nWe make sure the first two of those groups will be able to set up bolt using FTP, SSH, composer or whatevers. These groups have no trouble whatsoever using yml. In practice, we-the-developers set up Bolt for a client, and the client happily uses it, and in practice never has the need to touch the yml files. And the few clients who do want to do this, have never expressed qualms about the yml files. \n\nWill there ever be ability to customise or add Global settings to the backoffice (Site logo, Description, theme options and settings, etc)\n\nI think so. It's currently not very high on my agenda, but i'm not at all against it. \n\nWill there ever be the ability to manipulate content through \"blocks\" or widgets through the backoffice \n\nYes, please! \n\nIn other words, is Bolt aiming to be THE developer's CMS and nothing else? I know \"keep it simple\" is a big moto around here...but simple for who?\n\nWe're not even trying to be \"THE developer's CMS\". There's always the matter of the right tool, for the right job. We're not strving to replace Wordpress for those that like use a blog with a bazillion wonky plugins.. We're not trying to replace Drupal, if you need a complex site with Organic Groups, Faceted / Exposed filters.. But, there's a lot of room in between, and we're firmly placing ourselves there. \n. A good example of this is the MenuEditor extension, by the way. It takes the menu.yml file, allows the user to drag'n'drop the changes, and writes it back to .yml. This is ideal, IMHO: people who prefer yml can use it, people who like dragging/dropping can use it, and it is still stored in a readable text-based format that can go into your versioning system. :-)\n. That shouldn't be the case.. Could you give us some more info? As in: where did you set the sort? In contenttype, or in the template in {% setcontent %}? In case of the latter, post your {% setcontent %} statement, please. \n. I did some testing, but I couldn't reproduce this just yet.. What output do you get when you add a printquery:\n{% setcontent records = \"works\" orderby \"-datechanged\" printquery %}\n. That query is not quite correct.. It should be ORDER BY\ndatechanged DESC.. I'll see if i can reproduce it..\nOn Sun, Mar 2, 2014 at 4:50 PM, Vineet Choudhary\nnotifications@github.comwrote:\n\nThe query looks correct:\nSELECT bolt_works.* FROM bolt_works WHERE ( \"bolt_works\".\"status\" =\n'published' ) ORDER BY -datechanged LIMIT 100 OFFSET 0\nHmm, I wonder if the sqlite db I'm using is somehow corrupt. I'm printing\nthe datechanged value as I render each element -- the order is:\n2014-01-31\n2014-02-27\n2014-02-10\n\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/955#issuecomment-36457360\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. I've just pushed the fix for this, I hope. This line needs to be changed in your case: https://github.com/bolt/bolt/commit/45b18cabf73832b652a8c0a9fccc3c29af90dd79#diff-6ef5ef5eb2bfa427ae9ae38fcc702ed1L1633\nCan you check this, and let me know if it is indeed fixed?\n. :+1: \n. :+1: \n. I added some nit-picky comments to the code. Perhaps you could also explain in the readme.md where somebody would get their \"YOUR-WIDGET-ID-HERE\". \n. You don't need to send a new pull-request, though.. If you push the changes to the same fork / repo, it'll update this one. \nedit: And as i was typing this, I see the first change appear already. :-)\n. Looks good now! Merging in! :+1: \n. I believe that it only does this when you limit the length. If you have the entire introduction/body in the feed, the links are kept intact as well. To do this, just set 'content_length' to 0 in the config.yml\nyml\nentries:\n    enabled: false\n    feed_records: 1\n    feed_template: rss.twig\n    content_length: 0\n. PHPQuery is a really quirky thing, with really old-fashioned code. Were you looking at it, because you need it's functionality? I am considering removing it, if nobody objects. \n. The wat this happened is probably, that I needed the functionality, copied the twitter-button extension, and hacked it together.. I'm going to remove it for now. If somebody ever needs it, I'll need to fix it up, and write some docs. \nThanks for noticing! :-)\n. Good catch! \n. Excellent! Thank you! :-)\n. Hi, \n1. Agreed\n2. Agreed as well, addint the time is pointless in most cases by far, I assume.\n3. Hmm. good one.. Perhaps just insert a placeholder like {id} like you suggest. However, it can be replaced once saved for the first time. No need to wait until published. :-)\n. number 1 has been fixed. I don't know about the second, and i'm sure the third is still an issue. \n. Closing this. If this remains an issue, feel free to re-open it. \n. I've disabled the functionality for now, because it was annoying me very much.. \nLet's see if somebody comments on it not being enabled anymore. If so, we'll see if we can do a better implementation. \n. My reasoning for doing the whole 'catchpaste' thing was that sometimes you'd like to paste a long piece of text from some other source.. If you paste one or two sentences, it shouldn't even trigger, imho.. I mean, it'd be pretty annoying if i'm editing a text, and it keeps pasting stuff at the end only.. \nI wonder if we should even do this type of black-box magic at all? Perhaps it'd be better to treat the textarea as plain text, and add a button below it that says \"Paste HTML -> markdown\", that would trigger a prompt to paste your HTML, and have that appended. Hmm, what do you think?\n. Looks good at first glance.. Hopefully I'll have a bit more time tomorrow, so I can check it properly! \n. I have one comment, for something which I think is an unrelated issue, right? I tried out the changes, and it seems to work fine. \n. One other remark: This breaks backwards compatibility, if somebody used <img src=\"files/{{ record.image }}\"> in their templates.. I know they shouldn't, but I'm sure quite a few people do that.. \n. > Is this something we can actually avoid with this change?\nYes, now that I've thought about it.. In app/src/Bolt/Content.php, we use the pseudo-magic 'get' for stuff like {{ record.image }}. in public function get($name) we should be able to check for this. In cases where we do need the array, we'd need to use {{ record.values.image }} to get it. \n. Thank you! :-)\n. Looks good, thank you! \n. Yes, this is better! thank you! \n. I seem to be able to refresh the page and vote again. Is that intentional? After a few votes, it just displays the average score of my votes.\nI noticed that a cookie is set for me, but at first glance it doesn't seem to do anything. :-)\n. There is no such functionality yet, unfortunately. You can add a tagcloud using this extension, though: https://github.com/axsy/bolt-extension-tagcloud \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Good catch! This is a definite improvement. Should I paste this in manually, or are you going to do a pull-request, so you'll get the 'credits'? :+1: \n. Closed by #894.\n. Hi, \nIt seems you're correct, and we should fix this.\n\nWhy not use the symfony forms and validators?\n\nMainly because the \"form\" for editing a record is quite specific, with many different types of fields. When I just started working on Bolt I did make them as symfony forms, but they quickly got in the way, and started to limit the flexibility I wanted. :-)\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Looks good! mergin' in! \n. Since it's the Symfony toolbar, I don't think we can tweak where to append it. In jour own controller or templates you can specifically disable it, though: http://docs.bolt.cm/internals#debug-bar-print-and-dump\n. This location looks good to me. Thank you! :-)\n. I'm looking into this a bit better, but something strange is going on.. For me, it works without this change: \n\nAnd if i use your changes, I get an error: \nFatal error: Class 'Symfony\\Bundle\\WebProfilerBundle\\Twig\\WebProfilerExtension' not found in /[snip]/bolt/app/src/Bolt/Application.php on line 207\nSomething's odd there.. Your code has: \nuse Symfony\\Bundle\\WebProfilerBundle\\Twig\\WebProfilerExtension;\nBut, according to the classmap and the file /vendor/symfony/web-profiler-bundle/Symfony/Bundle/WebProfilerBundle/DependencyInjection/WebProfilerExtension.php, the correct namespace should be Symfony\\Bundle\\WebProfilerBundle\\DependencyInjection: \nuse Symfony\\Bundle\\WebProfilerBundle\\DependencyInjection\\WebProfilerExtension;\nHowever, that gives me the following error: \nFatal error: Class 'Symfony\\Component\\DependencyInjection\\Extension\\Extension' not found in /[snip]/bolt/vendor/symfony/http-kernel/Symfony/Component/HttpKernel/DependencyInjection/Extension.php on line 22\nSo, I'm not sure your solution is entirely correct. What version of PHP are you on? I only tried 5.4.4, and the versions of Symfony/Silex/Webprofiler, as I got them from Composer, according to our composer.json. \n. I did a manual revert of this, so we can fix it properly. :-)\n. Euhm. What do you mean? :-)\n. Aha, i get it. We shall never mention this issue again. ;-)\n. :+1: \n. This change will not match </script>, nor <script bla bla> </script .., which are two valid cases.\nPerhaps something as simple as this: \nif (preg_match_all(\"~</script>~mi\", $context, $matches)) {\nit should work in those two cases as well. However, this would break if you have a commented line, like: \n<!-- dont use <script></script> -->\nBut, i guess that would break the current cases as well. Hmmz.. \n. Now that I think about it, I think they're two separate problems:\n- Correctly catch  (which this PR is about)\n- Ignore any commented code, when doing snippet-replacements. \nMy guess is that my suggestion would fix the replacement, and thus fix your problem. And \"ignoring commented code\" should be an issue on its own. \n. Thanks! Looks like you're right. And I think your assumptions about where the changes should go are spot on. Should I change this manually, or will you make a PR, for some github-karma?  ;-)\n. @infodebrid What you mention works fine on a separate page. What @flrvt means is an overview-page like /categories/movies. :-)\n. Sure! Check out this video, for a quick tutorial. Let me know if you get stuck, I'll gladly help! :-)\nhttp://www.youtube.com/watch?v=YTbRzhQju4c\n. Which IDE is that? I'm using PHPstorm, and I didn't see it complain about these issues. \nRegardless, these changes look good to me. Thanks! \n. Hi, \nThese all look like good changes to me. If you could change from tabs to spaces for indentation, I'll gladly merge these in. Thanks! :-)\n. No problem! Thanks for the quick fixes! :-)\n. Two ideas for further improvement of this: \n- The <input type=\"file\"> \"buttons\" should also get this accept attribute, to keep them consistent.\n- Should we set 'default' values for 'image' and 'file' fields? like extensions: [gif, jpg, jpeg, png], perhaps..\nWhat do you think?\n. > But I have a question concerning the tests, would not it be better to test the MIME type instead of extensions?\nSince the MIME is set by whomever sends it, wouldn't that be pointless in this case? I mean, if I were to rename a .js file to .png, and upload it, my browser will just report \"image/png\" to the server, and upload it als a png file. \n. Ah, yes! That's a classic! (thankfully, we're just replacing bits of code, and we're not trying to parse HTML with regexes)\nThere's also this gem: \n\nSome people, when confronted with a problem, think \"I know, I'll use regular expressions.\" Now they have two problems.\n. What Steven did there, closely mimics \"insertEndOfHead()\". That's obviously OK to do, but it doesn't solve the problem we have here. Since we provide a 'insertAfterJs()', we should make sure it functions as expected. :-)\n\nWorking on it now!\n. Actually, this is a non-issue.. The example i've mentioned above is already filtered out. I made that change a while ago already. Maybe I need a vacation ;-)\naround lines 446 and 511: \n// First, gather all html <!-- comments -->, because they shouldn't be\n        // considered for replacements. We use a callback, so we can fill our\n        // $this->matchedcomments array\n        $html = preg_replace_callback('/<!--(.*)-->/Uis', array($this, 'pregcallback'), $html);\n// Finally, replace back ###comment### with its original comment.\n        if (!empty($this->matchedcomments)) {\n            $html = preg_replace(array_keys($this->matchedcomments), $this->matchedcomments, $html, 1);\n        }\nThis handles comments flawlessly. \nSo, closing this issue, on to the next! :-)\n. Drinks! My favorite!! :-)\n\n. I've looked into this, and it's slightly different than what Gawain describes. If you change the link to the stylesheet, this line is still run: \nif (!empty($this->config['stylesheet'])) {\n            $this->addCSS($this->config['stylesheet']);\n        }\nHowever, that function only inserts the file if it actuallt exists. So, the following will work, but make sure the file /theme/yourthemename/myform.css exists. \nyml\nstylesheet: myform.css\ni have to admit the lack of feedback is not correct. Please leave this open, because we should change Bolt's handling of addCSS and addJavascript to include a helpful message like <!-- css file 'pompidom.css' couldn't be found -->\n. > I was wondering if SimpleForms can use hidden fields,\nYes, like this: \nyml\n    some_other_field:\n      type: hidden\n      value: Pompidom\n\nif there is another trick to customize the mail a bit\n\nYou can set mail_template: for each form separately:\ncontact:\n  recipient_email: info@example.org\n  recipient_name: Info\n  mail_template: assets/simpleforms_mail.twig\n  fields:\n    name:\n      type: text\n      required: true\n. Another thing to note: YML is a great format, but it is really picky when it comes to whitespace and indentation. If you comment/uncomment parts of that file make sure that the indentation is correct. \n. > BTW, the site uses bolt 1.1.0. I'm kinda hesitant to update the bolt.\nI agree with @mike-anthony: You should upgrade to 1.5! It's been improved in many ways, since 1.1. :-)\n. > whilst HTML5 would automatically use it's browser based validation.\nIs that the case? If you have a 'submit' button, and you catch it before it actually sends it to the server, does it still trigger validation? If so, that could be a simple solution. \n. Ok. Cool! Do you want to make a Pull-request for that?  ;-)\n. This was fixed a while ago. Closing this, but if you feel this is still an issue, feel free to re-open it. \n. Hi, \nWhat version of Bolt are you using? This issue should've been fixed very recently. (ie. not in 1.5.1, but it is in 'master' from github)\nSee also: https://github.com/bolt/bolt/commit/bc2f0bbcde4ef0766c584007fa50f8697f324613\n. No problem! If you wait a few more days, you can update to 1.5.2, that has the fix for this issue baked in. :-)\n. Cool. Looking forward to the pull-request. ;-)\n. These features have been implemented for 1.6.\nClosing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. :+1: \n. You are on fire, man! Looks awesome at first glance. Hopefully I'll have some time tomorrow to check it out, and merge it in! :-)\n. For some reason github says I can't merge automatically, so I'm going to merge this one in by hand. Thanks! \n. Haha! That wasn't meant as some sort of hint for you to fix it. ;-)\nThanks anyway.. \n. There was a stray ';' in application.php left behind. fixed it, one minute ago. \n. I'm going to sumbit a fix in a minute. Let me know if it doesn't work for you, and we'll reopen the issue.. :-)\n. Looks good to me.. I see that Travis failed, but it seems to be an issue on Travis' side: https://travis-ci.org/bolt/bolt/jobs/20630801\nMerging in, thank you!! :-)\n. Currently we have a sort of \"honor\" system in place: If you give someone access to bolt, and also give access to edit files, this person will already be able to pretty much break everything, if they wish. But, you wouldn't give someone this high level access, if you expect them to do this. \nThat said, i think your suggestion is a good one. I can't think of a valid reason why somebody would have to edit a file outside of those folders. :-)\n. I agree with Gawain that having a slug is always preferable, but it is not the cause of this issue. I tried it out, and got the following error instead: \nNotice: Undefined index: singular_name in /Users/bob/Sites/bolt/app/src/Bolt/Config.php on line 258\nWhich made me take a better look at your code. If you use singular_name instead of signular_name, it will surely work. \nI'm going to leave this open for a bit, because I will make a better error message for this!\n. Looks good! Thank you! :+1: \n. Congrats on issue #1000! ;-)\n. But, in all seriousness: How would this work? Is this different than a non-published field? I think this is probably a good idea to have for some, but I can't picture it just yet. :-)\n. Ah, ok.. And what should it look like? Like a \"block\" in the right sidebar, that lists previous comments? Something like this: \n```\nBob - 2014-03-13 18:26\nWell, I think this page is done! \nGawain - 2014-03-14 18:27\nSTFU, Noob! Learn how to english, first!\n```\nAnd then an option to add a small text yourself, which gets stored in the DB, in a seperate table. bolt_annotations or something?\n. This is being worked on. See #1289 and #1296 \n. Closed by #1065 \n. I'm afraid not. There is no option for this currently. The location where files are uploaded is fixed. \n. Sweeeet! :-)\n. Could you write a short blurb for http://docs.bolt.cm/content#field-definitions as well? \n. This sounds like a good idea, and something I've wanted for a while now.. Howevers, if we do this, shouldn't we just make it a bit more generic, and allow extensions to add \"widgets\" to the sidebars? In practice: the entire <section>..</section> part. \nIf you take a look at the 'google analytics' extension, you'll see i've made a half-baked attempt at that for the dashboard already. It should be cleaned up and made more generic, though. And it should be 'targetable', where you want it:\n- on the dashboard\n- on the \"overview\" pages for contenttypes [x, y, z]\n- on the \"edit record\" pages for contenttypes [x, y, z]\n. Cool, looking forward to it.. :-)\n. Functionality added a while ago. \n. Looks good! Thank you! :-)\n. Which version of bolt are you using? 1.5.1? from github?\nThis ought to be handled in index.php: \nif (preg_match(\"^thumbs/[0-9]+x[0-9]+[a-z]*/.*^i\", $_SERVER['REQUEST_URI'])) {\n    // If it's not a prebuilt file, but it is a thumb that needs processing\n    require __DIR__ . '/app/classes/timthumb.php';\n} else {\n    // Here we go!\n    $app->run();\n}\nThe change itself should be good, and it makes it so that Apache and Nginx need less specific tweaking. \nCould you try changing lines 40-42 in app/lib/timthumb.php from this: \nif (empty($matches[1]) || empty($matches[2]) || empty($matches[4])) {\n    die(\"Malformed thumbnail URL. Should look like '/thumbs/320x240c/filename.jpg'.\");\n}\nto this:\nif (empty($matches[1]) || empty($matches[2]) || empty($matches[4])) {\n    echo \"<pre>\";\n    print_r($matches);\n    print_r($parsed_url);\n    print_r($_SERVER);\n    echo \"</pre>\";\n    die(\"Malformed thumbnail URL. Should look like '/thumbs/320x240c/filename.jpg'.\");\n}\nIf it goes wrong, and you coul post the output you get, hopefully that'll tell us what's wrong. \n. Thanks for the response. I can't reproduce this by myself, but I see where it goes wrong. I'm going to push a fix in 2 minutes. Could you check if this fixes the issue for you?\n. >  It should always use the $_SERVER['REQUEST_URI']\nI agree that it should but we've added it because in some cases it doesn't. :-/ \nIt should also work in your case, if it were: \nif (!empty($_SERVER['REDIRECT_URL']) &&\n    (strpos($_SERVER['REDIRECT_URL'], 'index.php') === false)) {\n    $requesturi = $_SERVER['REDIRECT_URL'];\n} else {\n    $requesturi = $_SERVER['REQUEST_URI'];\n}\nBecause since the change in .htaccess timthumb isn't called directly. I'm going to leave it in, though, for people who have an old .htaccess\n. Meh, I see. The ordering should obviously be done when getting the actural records, and not when getting the taxonomies itself.. I'm on it.\n. Ugh, because we fetch content based on tags, regardless of what contenttype it is, it's virtually impossible to both sort them, and have paging as well. I think we'll have to revert #999. :-/\n. Thank you! :-)\n. :-)\n. bumpedibump :-)\n. Haha, no, that's not correct ;-) \nI'm going to merge this in, and remove the [] immediately ;-)\n. > preparing a last-minute conference paper\nThat's an odd euphemism for \"out, drinking beers while i'm in Amsterdam\".\n:-p\nOn Fri, Mar 21, 2014 at 6:17 PM, Gawain Lynch notifications@github.comwrote:\n\nI was in the middle of preparing a last-minute conference paper at the\ntime. Dank u wel.\n\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/pull/1010#issuecomment-38299864\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. Thank you! \n. Confirmed.. You'd have to use the 'slug' now, which isn't always very intuitive. I'm going to make some changes to make this a bit more tolerant. Thanks! \nTo prevent possible flukes, it's best to be as descriptive as possible. If you specify the slug and use that value, it will always work: \n``` yml\nnice_entry:\n    name: Nice Entries\n    slug: nice-entries\n    singular_name: Nice Entry\n    relations:\n        nice-entries:\n            ..\n```\n. I agree that the performance impact will be small.. One addition to this: \n\n\nUI-wise, you're looking at a disaster. The Bolt back-end displays two\n  entries per content type in the \"Content\" menu; 50 content types means\n  there will be 100 entries in the menu. Not what you want, probably.\n\n\nif you have more than 5, it shows one line per contenttype. But still. :-)\nAbout you reasoning to do this, couldn't you create a generic \"block\" contenttype, and use a taxonomy to assign it to \"header\", \"image\", etc? \n. Closing this one, as it seems you've figured out how to work around it. :-)\n. That's odd. It should function as a placeholder, and when typing something it ought to overwrite the __:__. Which browser/platform are you using? \n. I see, i can reproduce it now! \n. Looks good to me. Thank you! \n. I - personally - don't work with Bolt installed vias Composer, so I can't really say if these changes are needed. The code you're changing was introduced by @andersonamuller. \n@andersonamuller, do you have an opinion about this change? \n. Thanks, all! :-)\n. Thanks! We'll fix it!\n. Are you sure this is not a result of the recent changes in the accept_file_types settings in config.yml? Are you getting this message: \n\nIf so, check config.yml.dist for the correct way accept_file_types should be set now. \nOther than that, I can't reproduce your error, and I've tried on Firefox 25, 27 and 28. \n. > Only thing affects if I add extensions: [ \"doc\", \"pdf\", .... ] in corresponding content type definition.\nSo, it does work if you add them to the contenttype itself? If so, we might need to check if those settings work there as well.\n\nBut I think that is very important we have a browser - FF - that struggling with a century old bug that can't be reproducing but in some indeterminable circumstance.\n\nI'm still hesitant to make code-changes for that: You are the only one that has this issue. We've tried it out at the office, and can't reproduce it. I tried it out at home and can't reproduce it there either. That's 5 machines (mac, windows, linux) where it works as expected, and one case where it doesn't.\n. This issue has been fixed. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. We can't pull this one, as-is. There are three main issues with it: \n- The changes in timthump.php might be correct, but it should really be a separate issue/pull request. Like @GawainLynch noticed: we've been moving that code around a bit, and if there's an issue with it, we should fix it, without lumping it in with another changeset.\n- We use PSR-2 as much as possible. Please use spaces instead of tabs for indentation.\n- I'm not sure we want this much code specifically to work around a 7-year-old firefox specific bug, that we haven't been able to reproduce so far. \nI'm going to leave this open, so people can find it if they have the same issue. If it turns out to be an issue we need to fix (or wokraround) in Bolt, I'm going to ask you to clean it up, before merging it in. \n. > Anyway, don't we want to make timthumb.php a bit more psr-2 compliant? It is really tricked me just because I was tracking a while when I put thousands of tabs into. \nI'd rather not. Currently, it's relatively painless to keep it in sync with the original code, here: http://timthumb.googlecode.com/svn/trunk/timthumb.php. If we do this, we can't keep it in sync anymore.\nIdeally, we completely phase out timthumb altogether, and replace it with a component we manage via Composer. :-)\n. At first glance, that looks like something we could use! Will take a closer look later.\n. Just to state the obvious: Even though it has the same name, this is not the ancient PHPthumb, which has been around for ages:\n- The old one: http://phpthumb.sourceforge.net/ / https://github.com/JamesHeinrich/phpThumb - is procedural and contains a lot of stuff that has nothing to do with thumbnailing, like 'function PasswordStrength(). \n- This newer one: https://github.com/masterexploder/PHPThumb - PSR-2, and seems a lot cleaner. \n. That looks nice indeed, at first glance.. :-)\n. Rix, is this an issue for you? I've yet to see someone else report this problem, so I'm still not sure we should merge this in.. \n. Personally I've never had the need for this, but I can imagine this could be useful. \nThis, IMHO should not be a feature of bolt in the core, but i'd rather have a way for extensions to add fieldtypes in the editor. If we had this, you could easily create a custom extension for this. \n. In the branch for 2.0 we've made a start on this, by splitting all of the fields. \nClosing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Needs to be fixed! \n. Sounds like a good thing to have. Going to leave this open, to see if more people want this. \n. haha, GDmac. You actually duplicated yourself in #1023. \n. See #2046 \n. There is none, currently. Personally, I've never felt the need to have, though. :-)\n. This feature has been implemented last week. \n. Haven't tested this out yet, but what are the consequences of this change for people who don't have /theme/foo/ set as their webroot? \n. Thanks for the clarification! Merged in! :-)\n. ~~Is this on an up-to-date version from Github? I can't reproduce this, but I know we've tweaked a few thing with ordering recently.~~\nConfirmed! I'll fix this!!\n. Are you sure? tried clearing the cache in Bolt? What is the exact URL you get redirected to, when clicking the \"title / URL\" link?\n. Could you post section of the contenttype.yml that has this problem?\n. No problem! Glad it works! :-)\n. I completely agree with @cdowdy's explanation. In fact, the isMobileClient that we currently have is a hack, and it should be replaced. \nHowever, i can imagine that tags like these might be handy sometimes, but it should really be done in an extension, not in core. IMHO, of course.\n\nBolt already uses a mixture of Foundation/Bootstrap in its core (from what I've seen poking around) and Skeleton for Simpleforms. Unifying the core to one one framework across all Bolt extensions and core could go a long way in my opinion.\n\nThat's not entirely true:\n- The Bolt backend uses Bootstrap 2.3 for Bolt 1.x and Bootstrap 3 for Bolt 2.\n- Simpleforms uses basic HTML, and has some styles, that apparently have been taken from Skeleton. Yuck. We need to make this more generic! \n- The default theme is done in bootstrap. However, the Bolt frontend is completely framework-agnostic! There's nothing on the frontend that requires you to use Foundation, or any other framework whatsoever. \nThat's basically how I think it should be: Extensions for the backend can use bootstrap-specific markup, because you know it's there. For the frontend, it should always be agnostic. \n. Whoop whoop! \n. I wouldn't mind having those, since they won't be in the way at all. You should add extensions/ to both of the paths, though. ;-)\n. Looks good now! :+1: \n. I'm aware that placing js at the bottom is slightly better for performance, however it's also more prone to errors.. Basically, it works if all of the js is at the bottom. If one extension inserts any jQuery code before the jquery.js include for example, the whole page will break. That's why we don't do this by default. \n. Of course, if you know what you're doing, this is fine! :-)\n(could you add a short note about this to the extension docs as well?)\n. This is a tough problem, I think.. Doing it the right way is way too fragile for everyday use. Doing it in a more robust way, makes the HTML uglier, and is (slightly) worse for performance.. :-/ \n. > so at some point we are\n\ngoing to have to break things to make them better, it is a question of\n current userbase or larger userbase.  That kind of breakage is major\n version attached though, maybe for a Bolt 3.0 with deprecation\n warnings and documentation in 2.0.\n\nI don't mind breaking things for a major version. At all. There was this huge fallout a while ago about people getting miffed that Drupal 8 breaks all sorts of shit, \"just because\" they're moving parts to Symfony. At the same time, I'm sure the only reason that Drupal is still relevant (as opposed to PHPnuke or CodeIgniter) is that they do this, instead of staying with old stuff, just for the sake of not breaking anything. This is a good post about it: http://buytaert.net/why-the-big-architectural-changes-in-drupal-8\n. > So do we create this as a task for 2.0 or 3.0? \n2.1 or 3, as far as i'm concerned. If we keep adding big features to 2.0, we'll never ship it. \n. Looks good to me! \n. Whoop! \n. Yes. in routing.yml, use something like this: \nyml\nchapterbinding:\n   path: /{chapters}/{slug}\n   defaults: { _controller: 'Bolt\\Controllers\\Frontend::record', 'contenttypeslug': 'kitchensinks', chapters': 'kitchensink' }\n   requirements:\n     chapters: [ 'Bolt\\Controllers\\Routing::getTaxonomyRequirement', ['chapters', 'kitchensink'] ]\n   contenttype: kitchensinks\nor:\nyml\ncategorybinding:\n  path: /{categories}/{slug}\n  defaults: { _controller: 'Bolt\\Controllers\\Frontend::record', 'contenttypeslug': 'kitchensinks', 'categories': 'none' }\n  requirements:\n    categories: [ 'Bolt\\Controllers\\Routing::getTaxonomyRequirement', ['categories', 'none'] ]\n  contenttype: kitchensinks\n. Could you post the code for the function that does the truncate_words ? \n. Thanks! :-)\n. :-)\n. We are aware of this. See #982. If you have a good idea how to fix this, we're all ears. \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Thanks! \n. Looks good to me! Thank you! :-)\n. In the branch for 2.0 we've made some progress on this: All fields have at least been split into separate files.\nClosing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Ah, apparently only admins can re-open. I reopened it just now. :-)\n. Well, I missed that too. :-/\n. Yay, beer for everyone! \n. This is not possible, unfortunately. See here: https://github.com/bolt/bolt/commit/c7c825112db1cdd68b9dcaa703994b31ba556dfc#diff-6ef5ef5eb2bfa427ae9ae38fcc702ed1 and #982\n. Agreed, Closing this one, because there's already a bit more info in #1060. We'll fix it. :-)\n. If you use the version from github (as in \"this repository\") you need to use composer to fetch the vendors: http://docs.bolt.cm/installation#option-3-the-developer-way-using-git-and-composer\n. No, currently there is'nt a way to do this. Bolt loads the relations as-needed. We only use the Doctrine DBAL, not the ORM. \nIf you're interested, there's a huge thread about the merits of switching to a proper ORM here: #817 :-)\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. I appreciate the effort in this, but we can't accept it, as-is. Quite a few of the changed files are not ours, and automatically running a code-fixer on them, will make it so much harder for us to keep them up-to-date with fixes in their code. (for example, the stuff in app/classes, extensions/Authenticate/lib). \nCode-style fixes in our code will be happily accepted, though :-)\n. Per-folder seems like a good middle ground. \n. Looks good! :-)\n. Whoohoo! This is a cool feature.. \nSome quick testing: \n1) if you're not logged in yet, you get this error: \n\nYou should make sure a function editable is defined always:\n``` php\n        if ($this->authorized) {\n        $this->addTwigFunction('editable', 'twigEditable');\n\n    } else {\n        $this->addTwigFunction('editable', 'twigEditableNonAuthorised');\n    }\n\n```\nand \nPHP\n    function twigEditableNonAuthorised($record, $fieldname, )\n    {\n        $html = .. just the plain field.. \n        return new \\Twig_Markup($html, 'UTF-8');\n    }\n2) A small nitpicky thing \"EdIt\" is a difficult name.. Is that an 'L' or an 'i' in the middle? ;-)\n3) I changed the order of the javascripts to be: \nphp\n            $this->addJquery();\n            $this->addCSS(\"assets/{$editorcss}\");\n            $this->addJavascript(\"assets/{$editorjs}\", true);\n            $this->addJavascript(\"assets/{$startup}\", true);\nand then it worked for me..\n4) If it were up to me, i'd like a lot less buttons in the editor by default. Just the basics preferably. Not \"align\", \"subscript\", etc.. \nBut, overall, this will be very cool! \n. > Isn't that if you've not enabled the extension but added the theme code?  i.e. works fine for me.\nThat is when i have enabled the extension, and i have it added to the template, just not being logged on. \n. > By something caching reasons it doesn't work because either session is \"authorized\" or not always the first cached twig function will be executed.\nDo you have more info on this? Is this a bug in Bolt with caching, you think?\n\nAs I see CKEditor is also can be used for inline editing. Do I try to implement as a default alternative for Raptor in the extension?\n\nIf possible, that would be preferable to me.. If it works just as well..\n. Thanks! I'm going to look into the caching thing.. I seem to have bumped into something similar before, but couldn't pinpoint it..\nAbout CKeditor: Excellent!! This is a great extension.. I will merge it in, when I have some time to test it! \n. > Are we able to use the Bolt built-in CKEditor for consistency or is that too old?\nI never got a reply from the guy about the blocking issue that prevents upgrading the internal editor.. Maybe it's about time to start looking into an alternative for that...\n. An old one.. I previously discussed it with gawain, but you didn't know. :-)\nThis one: #707 \nHere's the repo that's the blocking issue: https://github.com/frozeman/MediaEmbed\n. Ok, so, let's dump the 'mediaembed' extension, replace it with this one: http://ckeditor.com/addon/oembed\nThen, we can update CKeditor in Bolt to the latest version, and this extension can use Bolt's built in version.. \n. Well, that's agreed then.. I'll see if I can make a bit of time tomorrow to update CK tomorrow! Will keep you guys posted!!\n. CKeditor updated to 4.3.4! See: c801171a5f7c7b270dff136ac2861974fbfa692f\n. Agree with Gawain.. Do you know what's missing from the bundled CKeditor? \n. 'a11yhelp' : 1,\n'autosave' : 1,\n'elementspath' : 1,\n'floatingspace' : 1,\n'horizontalrule' : 1,\n'htmlwriter' : 1,\n'indentblock' : 1,\n'magicline' : 1,\n'maximize' : 1,\n'scayt' : 1,\n'stylescombo' : 1,\n'tab' : 1,\n'wsc' : 1,\nThese are the ones included in Rix's build, that are not in Bolt.. If we can figure out which ones are essential for this, i'll include them in Bolt. :-)\n. Here you go! 0cf3118de937042a30de416ac1a0ad7ba5a19a0f\n. This extension is really getting there! I'm loving the new, smaller toolbar! :-)\nNow that CKeditor works, is there a need to keep Raptor? At least until Bolt 2.0 is out, i'd like to include this in the Bolt release, but with Raptor included it would add about 1.5mb in total, which is 25% of the entirety of Bolt. \nI've noticed that if you do this: \n<h2>{{ editable(title) }}</h2>\nit adds a <p> tag, to the editable content: \n<h2><p>Lorum ipsum bla bla</p></h2>\nCould we tell CKEditor to not mess with the HTML too much? :-)\nSee screenshot: \n\n. Very cool! Looks to work fine for me too, now! \nI'm going to merge this in, now. Probably, over the next week after using it for a short while, we'll bump into some minor refinements with regards to how it works. But, we should fix those when we get there! Thanks again, great addition to Bolt!\nThe first things I might like to tweak in the near future are:\n- Add a slight, subtle hint for fields that are editable.\n- When saving, perhaps briefly highlight the area in green as a confirmation, and then just hide the toolbar again. When using this a lot, the \"alert\" might get annoying, perhaps..\n. Looks good! \n(see also #1049 for a similar effort.. :-) )\n. (deleted my original comment.. I'm stupid)\nYes, Tried it for a few sites, and it looks correct!! \n. No, I was just looking wrong... Your suggestion was correct! :-)\n. Nothing wrong with that quote. :-)\n. We had a similar issue a while ago, but it turned out to be an issue on windows servers we could work around. See #468 \nIs this on a windows machine as well? it would help if you could give us more to work on. Also, make sure that all files are present and readable properly. \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. @richardhinkamp Has this been resolved for you in the mean time? I know that you use Bolt in a slightly different way than we use it, but it is never our intention to break BC for anyone. \n. No, to be honest I wasn't aware of this. Of course, I know we've been changing things around with the paths, but not that it breaks existing cases. Some sort of fallback would be fine with me!\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. The built-in PasswordProtect extension does what you need, i think: https://github.com/bolt/bolt/tree/master/app/extensions/PasswordProtect\n. Agreed, If you're not logged in, you shouldn't see this message, preferably. \n. You can \"hack\" something like this in your templates if you don't mind a bit of 'logic' in your 'view': in twig you have app.request.get('datepublished') available if it is set. Use it to set it into a variable, and subsequently pass into your {% setcontent %}. \n. Still, it should without the HTML tags, and currently it does. :-) \nHTML/Twig: \n<p>{{ __('The settings for roles and permissions are stored in %permissions%.', {'%permissions%': '<code>permissions.yml</code>'}) }}</p>\n. I think I agree with @chubakur. Or to flip it around in this example: If you want to just get 'red' in the frontend, do not use this, but stick to the regular syntax. To use the correct terminology: By default these are defined as regular sequences (arrays) in YML, but if you wish, you can now also use a mapping (hash). \nThanks for this PR! \n. See this thread, for a very similar question: #844 \nIn short: No, adding 300 users will be no big problem. :-)\n. Bolt doesn't really do anything with the mimetype. Is this a problem? In my tests uploading a .svg seems to work fine. \n. After it's been uploaded, and it gets served again by the webserver, it is the webserver's responsibility to set the correct mime-type. \nOr, to put it differently: Bolt does not do anything with mime-types.. A file gets uploaded, and if it is accepted (by checking the filename extension) it is saved in the files/ folder. If it is inserted in your HTML it is served by your server.. Bolt doesn't try to influence the mime-types it serves. \nPerhaps it's a setting in your (local) webserver? \n. Ah, I got it, i think.. It's not Bolt that changes it, it's the .htaccess in files/. I'll push a fix in two minutes!\n. Github auto-closed it.. Let me know if it isn't fixed yet, and i will reopen it. :-)\n. No problem! Just glad it works now! :-)\n. Not that I don't think that this isn't a worthwhile idea, but the example you chose isn't the best. In this case, we've added a default in Config.php: https://github.com/bolt/bolt/blob/master/app/src/Bolt/Config.php#L540\nPerhaps a good option would be to add new and unset options to the file, if possible? \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Link for the lazy: 0fa8e1c8df913d659f5aa43130b26203b81afd88\n. Hi there to you to. :-)\nBasically, because YML needs to have some way of grouping stuff together.. \nI'm all for changing things for more consistency, but i'd rather reverse it: try to phase out the key altogether, and make it clear that the 'slug' is always used as the prime identifier. Now that I'm thinking about it, maybe we can change the contenttypes.yml to look like this: \n``` yml\n-:\n    name: Entries\n    slug:  entries\n    singular_name: Entry\n    fields:\n        title:\n            type: text\n            class: large\n        ...\n-:\n    name: Pages\n    slug: pages\n    singular_name: Page\n    fields:\n        title:\n            type: text\n            class: large\n        slug:\n            type: slug\n            uses: title\n        ....\n```\nAlso, the identifier is only a 'sluggified' version of the name, if the slug isn't explicitly defined.. Perhaps we should define those in the contenttypes.yml.dist, to make that distinction more clear? \n. I seem to remember there was an issue with doing that. I can't recall the exact reason though.. \nPerhaps we should try it out, and if it doesn't crash and burn, I'm not against changing it that way.\n. I'm going to change this as follows: From now on, the slug will be defined in this order: \n- If explicitly set as 'slug', use that \n- otherwise, use the 'key' of the contenttype, if set\n- Otherwise use a sluggified version of 'name'\n- otherwise throw an error.\nThe 'singular_slug' will be set as follows: \n- If explicitly set as 'singular_slug' \n- Otherwise use a sluggified version of 'singular_name'\n- otherwise throw an error. \nThis will only require one extra rule (the \"use the 'key' of the contenttype\" one), and it will allow for the following cases: \n``` yml\nfoo:\n  name: Bars\n  singular_name: Bar\nslug is 'foo', name is 'Bars'\nfoo:\n  name: Bars\n  slug: bars\n  singular_name: Bar\nslug is 'bars', name is 'Bars'\n-\n  name: Bars\n  singular_name: Bar\nslug is 'bars', name is 'Bars'\n```\n. > But something like Otherwise use a singular version of 'name' ?\nThat sounds scary. Pluralizer seems to work well on english, but not so much on other languages, I would bet. It seems tricky to rely on that. \n. Closing, because this has been fixed. \nNote: There will be a 1.6.0 version shortly, and we'll announce that people need to check if the contenttypes will not be changed. \n. The option to have extensions for fieldtypes has been on our wishlist for some time now! I haven't delved into the code very deeply, but this is absolutely something that we'd like to have. \nI imagine it will take some work to refactor the current fields into \\Field classes, but it would make a lot of sense to do so. \n. Sweet! Looking forward to it. \nThis should go into feature/bolt2, I think. This is a big change, and it feels right to add it for Bolt 2.0. \n. We're making progress on this, in the feature/bolt2 branch. Alle fields are at least separate files now.\nClosing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. No, unfortunately not. \"Relations\" are by definition bidirectional.\nYou can use a regular field, and use it to set the values to that of a\ncertain contenttype, but it might not be what you need. See here, for\nexample: http://docs.bolt.cm/content (see 'Lookup existing Contenttype\nrecord fields')\nOn Wed, Apr 2, 2014 at 6:05 PM, Andrey notifications@github.com wrote:\n\nHas bolt some way for realizing unidirection relation? This is very\nimportant for example for document hierarchy.\nfor example set to page one \"parent page\" and many \"child page\"\n\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/1073\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. Your example should work, I think.. If you can't get it to work, please post your entire contenttype.yml, and I can try it out for myself. \nAlso: are you on Bolt 1.5.something? \n. if you upgrade to the latest version, you'll get \"1.5.5-dev\". This feature was added shortly after 1.5.1, I believe. :-)\n. Closing, because this has been fixed already. \n. Hi, \nThat's an unfortunate issue that snuck into that update.. If you download a new version, you'll get 1.5.3, in which this bug should be fixed. Sorry for the inconvenience!\n. Just a note on the side: To get the correct function for RAND() for the used Database, use this:\n$opt = $app['config']->getDBOptions();\n$opt['randomfunction'];\n. Have you updated your routings from routing.yml.dist lately? We made some changes with regard to this in Bolt 1.5.0: \n\nBolt is now more consistent when it comes to trailing slashes in URLs. Bolt will generate URLs like /pages/ and /page/about , but it will accept both with or without trailing slash.\n\nFor me both examples work just fine. If there's an issue with this, we should fix it in Bolt's routing rather than in the .htaccess. \n. > Which means weaker result strength as its split across two URLs depending on how the crawler finds it each time.\nNot in our case. The canonical in the source takes care of that: \n<link rel=\"canonical\" href=\"http://bolt.localhost/fund/falli-igitur-possumus\">\n. I don't think this one is correct, right? (it contains a lot of stuff that's in master already)\n. This is a hard one.. On the one hand, i'm no big fan of \"hypercorrect\" translation. If the contenttype's name is \"Page\" there's no problem in just calling it that. No need to translate it. On the other hand, if you have a language with gendered pronouns (like German or Dutch) you'd sometimes get quirky labels like \"Neue News\".  \n\nwhat's the reason for using sprintf() here?\n\nTwo parameters is the tipping point, I think. With more parameters, using sprintf looks a lot more legible.\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. > I started refactoring some stuff, but it turns out it is a lot easier to simply start over.\nThat is a very bold statement to make. You should read this classic article:  http://www.joelonsoftware.com/articles/fog0000000069.html\nAll joking aside, I know the feeling. But, \"rewriting Bolt from scratch\" will be a huge effort. By my estimation, there's about 3.000 man-hours in Bolt now, and that is not including any of the external libraries. If you think you could rewrite this with all the current functionality in a few weeks, you're underestimating the amount of time spent fine-tuning, iterating stuff and general unexpected things. \nI'm all in favor for piece-wise refactorings, and I like most of the ideas that you've posed here, but we really should do them one by one. \nAlso, I really don't want to take another 6 months longer before we could release 2.0. :-)\n. > I don't want to do any disrespect to your work.\nNo worries, no offense taken!\n\nBut yeh, perhaps it's better to plan this for 3.0 or something\n\nOr parts of it for 2.1, 2.2 etc. ;-)\nAs far as I can tell, the parts you'd like to refactor most is the \"Fieldtype\" things, which is great. But I don't think it warrants a full rewrite. We could do these things for a 3.0 version, but realistically, that will take about one whole year for a major release. (Looking at the history: it took about 9 months from the first commit to 1.0, and we're almost one year past that, with 2.0 on the horizon). \n. > EDIT: I thought SimpleForm was using a 3th party library, apparantly it's using the Core, still quite a lot of code do render a form but yeh, not as bad as I thought it was =)\nThat's basically just Symfony's form class ;-)\n. > Yeh, I think it's a good idea to let this code live beside the application and slowly change code to use this new Core package, I'll do some experiments this weekend and let you know how it turns out\nSure, looking forward to it! If you need to discuss things you'd like to change, or are wondering why certain things are the way they are, feel free to ask! \n. See also: #1187\nClosing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. No. I think if we added something like that would be a \"false sense of security\".. If something is encoded in the DB, but the website can decrypt it, it's not really safe. If a hacker can access the DB, chances are that they can access the code in the webfolders too. \n. Whoop! \n. I had the same issue a week or so ago. In my case it was resolved when I cleared the caches (both in my browser and in Bolt)\n. Found it! :-)\n. Turns out that codemirror now requires config.extraPlugins = 'codemirror';. At least, that's the solution I found. Same for you? \n. Let me know if this still causes trouble for either of you!\n. About the Missing icons: in the current build in Bolt, those icons are 'baked in' into the sprite: https://github.com/bolt/bolt/blob/master/app/view/lib/ckeditor/skins/moono/icons.png \nOr, is something else missing? \n. Are you sure? I did a fresh checkout, and this is what I get on Chrome and Firefox: \n\n\n. I'm just going to change it to 'text', like 'video' and 'geolocation'. This field actually resembles that, being able to store some fields json_encoded together.. Bumping it to 512 would only postpone the issue for a while. :-)\nWe should definitely add some more checks for this: We can limit the 'title' field (and future ones) in the interface to 255 chars. To me, this would make sense. \n. Closing, because fixed.\n. Why not just have a \"pages\" contenttype, and put all of these 'one-off' pages in there? Or do these content types need specific fields for each separate page?\n. Try this: \n{% setcontent some = 'pages' orderby '-id' printquery %}\nPlease post the queries for both cases, an hopefully we can see what's going wrong.\n. That's a bug, I suppose.. '-datepublish' should be converted to 'datepublish DESC' by bolt. We'll fix this! \n. Which version of Bolt are you using? In 1.5.5. I can't reproduce this: \n{% setcontent records = \"entries\" orderby '-datepublish' printquery %} correctly produces \nSELECT bolt_entries.* FROM bolt_entries WHERE ( `bolt_entries`.`status` = 'published' ) ORDER BY `datepublish` DESC LIMIT 100 OFFSET 0\nWe recently made some modifications to this, so if you're using an older version, try to update. \n. If you update to the latest version, you should get 1.5.6-dev, in which this issue should be fixed. \n. Is this still something you think would be useful to have? :-)\n. Closing this, but if you feel this is still an issue, feel free to re-open it. \n. The factor that makes upgrading to a new 4.4 harder is the availability of third-party plugins (like codemirror and such). If they are updated quickly, we could update to 4.4 in bolt quickly as well. \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Thanks for the info, I can reproduce this.. Will fix! \n. It's slightly different: if you remove all existing relations, the relations aren't properly initialised as an empty set, and therefore the relations aren't removed when storing the updated record in the DB. I'm going to push a fix in 1 minute, which is literally one changed line. Could you let me know if this fixes the problem for you?\n. Closing this, but if you feel this is still an issue, feel free to re-open it. \n. Thanks! \n. No, there's currently no way to do it visually. You can use the 'order' value in a 'grouping' taxonomy: \nyml\nchapters:\n    slug: chapters\n    singular_slug: chapter\n    behaves_like: grouping\n    options: { main: \"The main chapter\", meta: \"Meta Chapter\", other: \"The other stuff\" }\n    has_sortorder: true\n\n. Use the branding options in config.yml for a better way to do this, by changing /bolt to something like /admin\n``` yml\nIf you want to 'brand' the Bolt backend for a client, you can change some key variables\nhere, that determine the name of the backend, and adds a primary support/contact link\nto the footer. Additionally you can change the mount-point for the backend, either for\nconvenience or to obscure it from prying eyes. The Bolt backend is accessible as /bolt/\nby default, if you change it here, it will only be accessible through the value set in\n'path'. Keep the path simple: lowercase only, no extra slashes or other special characters.\nbranding:\n  name: SuperCMS\n  path: /admin\n  provided_by: [ supercool@example.org, \"Supercool Webdesign Co.\" ]\n```\n. Ah, ok.. if you really want to keep it seperate, you should create an extension for it. Extensions can have routes that aren't mounted on the 'backend' collection, so they can have any path. If i recall correctly, we made some changes, to prevent possible XSS: You shouldn't be able to craft malicious links to log somebody else out of Bolt. :-)\n. No, unfortunately not. \n. You didn't mention the version of Bolt, but I'm sure that if you update to the latest version, it'll be fixed. This bug was briefly present in the downloadable distro, after we added some extra checks to prevent the uploads of filetypes that might be undesirable. \n. I'm looking for a bit of spare time, so I can \"officially\" release the update with these fixes, along with a nice posting about the fixes and new stuff since 1.5.0. Will do so, soon! :-)\n. Another option could be to add small \"select all\" and \"select none\" buttons, next to the select, perhaps?\n. Fixed: \n\n. Thank you! \n. What were you doing when you got this error? Which version of Bolt? Remember: The more info you give, the quicker we can say anything useful about it..\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. I know, I know! :-)\n(I've pushed out some minor version the past few weeks. I'm putting the wraps on a new 1.6.0 release, which will get a write-up on the site and all.)\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. No, we do not have a process for it, yet. We recently did do a bunch of changes as a result of the outcome of a security-audit by an external party. No directly exploitable issues, but issues we wanted to have fixes nonetheless. (for instance, you might have noticed that logout requires a POST request now, and user-editable fields are more strictly sanitised.\nIf you're planning on doing more tests like these, be sure to let us know if you find anything that's concerning. \nOf course there's one thing that's probably going to come out of tests like these: If you're logged in and edit a page, and insert Javascript, then that javascript will be shown on the frontend. Some might see this as a bug, others might see it as a feature. \n. Yes, we've got Tobias' htmlmaid module at our disposal, and it cleans and sanitizes HTML. \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Schweeet! \n. Whoop! \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. I also bumped in to this yesterday, but I fixed it slightly different. I don't think your patch is still needed, right? \nSee: 72e48bd512035f4\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. I also can't visualize it very well yet, either. I've never been into \"portal\" type sites, so the terminology is a bit foreign to me. I'm interested to see it, when you've got something to show, though! \n. Is this something you'd like to pursue further (in 2.0?) \n. Rix, is this still something you're working on? \nClosing this, but if you feel this is still an issue, feel free to re-open it. \n. I don't think this will be easy to fix, because the uploaded filenames can be used in URLs. To keep it concsistent we should normalize the filenames. \n. Thank you! (i noticed there's a stray label in dutch in the readme.. I'll fix that as well)\n. So, what were you doing? How were you uploading? Stack or in the field itself? \nWhat filetype was it? Where did you get the version of Bolt from? Please try to be as specific as possible when reporting things like this. \n. That's odd.. I though we've fixed all the quirks with uploading, and checking for filetypes. Have you tried: \n- Uploading through the stack (not as a solution, just to see if that works)?\n- cleared the cache in your browser?\n- cleared the cache in Bolt?\n. Argh, I think I found the problem.. The drag/drop uploader wants the 'accept' file-types in a different format than a 'real' input type=\"file\" form. :-(\nI'll post a patch in a short while! \n. Thanks, That is good to hear! \nI've just committed a patch. Let me know if this works for you! :-)\n. Thanks for testing! Glad it works, too. \n. I, too, would like this. I'm curious how you define the tabs? By adding a tab: to the contenttype fields, perhaps?\nHowever, this should really go into 2.0. If possible, try to do a checkout of Bolt 2.0 -> https://github.com/bolt/bolt/tree/feature/bolt2\nIf you make the changes for the tabs there, do a pull-request for feature/bolt2, and then I'll gladly merge them in. \n. Are you still working on this idea? \n. Yes, if you could do it to feature/bolt2, that'd be great! Will save some hassle merging in.\n(and I hope you had a good vacation! :-) )\n. Bump. We'd still like to have this feature.. :-)\n. That'd be great! And don't hesitate to get in touch if you get stuck. We'll gladly talk you through it! ^_^\n. @serweb-labs Glad you're still around these parts. ;-) \nIf you need any help to get started on making pull-requests on github, don't hesitate to ask! We'll gladly lend a hand! :-)\n. Closing this one: Tabs are in! \n. \u0421\u043f\u0430\u0441\u0438\u0431\u043e!\n. Closing this, but if you feel this is still an issue, feel free to re-open it. \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Nope, this can't be done yet, at once. Bolt also (eagerly) loads all related content, when fetching it. The simplest way to do this, is like this: \ntwig\n{% set relatedoffers = record.related('offers') %}\n{% for offer in relatedoffers if offer.memberstatus == \"public\" %}\n.. \n{% endif %}\n. I like how you answered your own question. :-)\n. In your case, you should add your binding after the defaults. Like @diggersworld says: They are parsed top-down, and the first one that matches is used. Because you do not want to override the default ones, add yours after. \nIn case you've upgraded from a slightly older version, check out the structure of routing.yml as it is by default: \nhttps://github.com/bolt/bolt/blob/master/app/config/routing.yml.dist\n. > This should always be /welcome if i setup the pagebinding to /{slug} , should it ?\nYes. The concept of a 'canonical' is that those pages that display the same contents on a different URL, share the same 'canonical'. I'll investigate, and if they differ, then that's a bug. \n. I agree! Travis is complaining about this build, but it looks good to me! \n. Excellent addition! Thank You\n(Travis is complaining about the build, but that's because of the addition of a submodule.. Doesn't seem to be related to this!)\n. /me whistles inconspicuously..\n. I hadn't bumped into this myself, because for most site I make, the 'name' is pretty close to 'slug', only with a capital letter. This looks like a better/safer option though. Thank you!\n. (Travis is complaining about the build, but that's because of the addition of a submodule.. Doesn't seem to be related to this!)\n. Yes, we will phase out timthubm sooner or later, but if somebody makes a patch to allow skipping width or height, i'll gladly merge it in for the time being. :-)\n. Closing this issue, as part of our \"spring cleaning\". If you feel this issue is still relevant, feel free to open it again. \n. Easter is over! Back to business!! :-)\n. I've been looking at your patch, but no, I haven't yet..  What was it?\n(have you by the way ever seen the easter-egg in Bolt itself?)\n. Ah, ok then.. ;-)\n(try the konami code)\n. Easter is over! Back to business! ;-)\n. The 'aftermeta' setting still does what it is supposed to do, right? It adds after the last meta-tag. You shouldn't have any <meta> tags in your body to begin with. :-)\n. Closing this issue, as part of our \"spring cleaning\". If you feel this issue is still relevant, feel free to open it again. \n. Adding Assettic is considered \"out of scope\". And when doing the 'hook' that inserts the css, we can't easily check if there was a simpleform tag earlier. \nWe could do some detection to see if the code that inserts a form was used earlier, but that will give issues with caching, I'm afraid. So, i don't think this could be solved easily, and the benifits would be minor, and on top of that: you can work around it. \nClosing this issue, as part of our \"spring cleaning\". If you feel this issue is still relevant, feel free to open it again. \n. Yes, the image field is now stored as an array (or as JSON in de db) to facilitate meta-fields, like title. We tried to make it backwards compatible if you use $content->get('image'), $content->image or {{ content.image }}. However, if you use ->values() you always get the raw values. Hope this isn't too much of a hassle for you to work around.. :-)\n. I'm not against allowing other characters in URLs, but it seems that this patch would have a lot of unwanted side effects. The makeSlug() function is used for the value in <option> tags, setting database-safe key names and the like. \nAlso, I'm not sure we can just include a chunk of GPL-licensed code into our MIT-licensed project. We'd need to look into that. \n. Closing this issue, as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Your extension has a classname and a namespace. If possible, you should use that to just instantiate a new object: \nfor example: \n``` php\nphp\n// Disqus comment thread Extension for Bolt\n\n<pnamespace Disqus;\nuse Bolt\\Extensions\\Snippets\\Location as SnippetLocation;\nclass Extension extends \\Bolt\\BaseExtension\n{\n```\nuse: \n$foo = new \\Disqus\\Extension;\n$foo->bar(); // your functioncalls here..\nIf you need the same object, perhaps this would work, perhaps not: $this->app['extensions']['Disqus']->bar();. \n. Yes. :-)\n. > Let me know if there's a better way. I imagine their is.\nHmm probably, but I don't know one from the top of my head. Perhaps @tobias2k does? Otherwise, I'm going to make a note in the docs about this. :-)\n. Is this still an issue we need to tackle? If so, could we formulate it in a more actionable way? :-)\n. Fixed by rewrite in 2.0.\n. > When cache is cleared via admin it deletes dbcheck_ts file\nYes, this is the intended behaviour. \n\nand causes below error to show up when trying to access front/back-end\n\nThis is not intended behaviour. :-)\nI couldn't reproduce this yet. The @ in isValid() is there to suppress these notices. What does your server setup look like? is it configured extra strictly, perhaps?\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Do you have a separate listing_vehicles.twig template? If not, make one. :-)\nIn that template, do this: \n``` twig\n{% if app.request.get('sort') == \"manufacturer\" %} \n  {% set sortorder = 'manufacturer' %}\n{% else %} \n  {% set sortorder = 'model' %} \n{% endif %} \n{% setcontent vehicles = 'vehicles' orderby (sortorder) %}\n```\nThen, call your listingpage with a url like /vehicles?sort=manufacturer or /vehicles?sort=model. \nMake sure you upgrade to the 1.6.0 beta, because the functionality to sort on a variable has been added only very recently. \n. Closing this one. :-)\n. Link for the lazy: 0c18498c\n. Yes, but that's not very easily implemented. The way relations work is (by design) very naive: No direction, no ordering.. If you need to output them in a certain order, use the order() filter: \n{% for ro in relatedoffers|order('title') %} \n...\n{% endfor %}\n. Neat! Thank you! \n. You can both add more images in the contenttype, as well as add images directly into the editor. Check the settings in app/config/config.yml:\nyml\nwysiwyg:\n  images: true\n  anchor: false\n  tables: true\n  fontcolor: false\n  align: false\n  subsuper: false\n  embed: true\nYou can add images with this button: \n\n. No probs! Glad it works. :-)\n. > whether $this->app['render']->render() needs to be passed through new \\Twig_Markup($html, 'UTF-8') before being returned.\nNo, not necessary. :-)\n. Just because simpleforms does it a certain way, that is no guarantee at all that that is the best way. ;-)\nSome other remarks: \n- Why not use call_user_func instead of the (deprecated) call_user_method?\n- I see the placeholders for the GithubFork() and alike functions. Any chance of those getting implemented? If so, I can update Bolt.cm for the 1.6.0 release, and use your extension for all the twitter, facebook and github stuff. :-)\n. > Absolutely. I will get right on them, but might need until tomorrow night to finish this.\nSweet! :-)\n. Looking pretty good, to me! This is another neat addition for Bolt 1.6!\n. Going to merge this in, and fix the typo's myself. No need to bother you with that. ;-)\n. This submodules thing is fairly new to me as well, so I hope I set it up correctly. The idea is that 'base-2014' is a submodule, and in that submodule, we've included Foundation as another submodule. If you're doing a normal checkout of Bolt, you should get the 'base-2014' with compiled CSS, but not the entire Foundation repo, unless you specifically say that you want to recursively update modules. \nFor me, git pull and git submodule update works fine, without fetching the entire Foundation, or throwing errors..\nAny clues as to why it doesn't work for you?\n. Just tested this again.. The following works without errors for me: \ngit clone git@github.com:bolt/bolt.git testbolt\ncd testbolt/\ngit submodule init\ngit submodule update\n. Hmm.. Would that mean, that if we specify the protocols in .git, it would work better for you?\nMy intent was that submodules for certain things would make life easier.. If it turns out to be unstable or buggy, we'll revert that. :-)\n. > Without the requested keys I don't think it can be pulled. Am I wrong?\nAfter a bit of tweaking here: https://github.com/bolt/bolt/commit/927259198ef550049d53b2a5c6e986e0c75e5c2b#diff-8903239df476d7401cf9e76af0252622 , \nI got it working in Travis: https://travis-ci.org/bolt/bolt/builds/23761842\n. That wasn't possible either, earlier. :-)\nDo you know you can also use type: select to pick from other contenttypes? Scroll down to \"Lookup existing Contenttype record fields\": http://docs.bolt.cm/content\n. > Bob, you have the best overview over the sources. Do you think that functionality could be implemented without too much hassle? \nIt would require a (slight) refactor of the relationship code, because they really are onesided and not labeled in any way. This would need to be added, and I think it'll be quite a bit of work.\n\nAnyone else here would find it useful?\n\nI'm sure people would find it useful. Having \"directional relations\" has been requested before. \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Might be a race condition somewhere, where the cache is cleared, and you still have a session, which get invalidated as soon as you try to access the page.. Hmm, odd. \n. Can you reproduce it? If so, we should keep it open and fix it. \n. Please give more info. \nWhich version of Bolt?\nDoes it matter which browser you use? \nServer settings? (apache? nginx? built-in server?)\nScreenshots, plz.\n. First of all, I would upgrade to the latest stable version (1.6.10 at the time of this writing), because a lot of quirks have been fixed in the mean time. \nIf the problem persists after that, we'll dig in deeper. \n. Looks like it could be useful to some, so I wouldn't mind adding it. As an optional option in config.yml. ;-)\n. Are you planning on tackling this issue? If so, i'll leave it open. ;-)\n. This was (very recently) fixed in 2ce9cef0645ac1c47a7266c168f893415d6d325c :-)\n. Twig compiles templates down to PHP, and that is cached. Not the output of the templates. So, your code should work. \nIf you set the 'request' option under 'caching' in config.yml, then Bolt caches the entire request, and your code will not work. \n. By the way, I made a recent fix, that might solve this issue for you: a3df8e96bd6e5750b59a8f7bc999cbe61339fcd3\n. Pinging @xiaohutai to the thread. :-)\n. > Frankly, I don't quite see the point of doing this, since there is also a response cache which pretty much does it right, and a compiled-template cache built into Twig that caches the output of the Twig-to-PHP compilation.\nCorrect. The \"caching templates\" option is handled in Application.php#L138, so this is indeed unneeded. \nI've removed the troublesome code, and while there's a minimal performance impact (~20 ms on my mac mini), this should prevent the issue that you described. \nCould you try the patch I've just pushed, with templates: true set?\n. Yup, closing this one, since it has been fixed already.\n. First of all: Don't panic! :-)\nYour content is fine, the name of the table just changed. Read here how to set it, so you can see them again: https://github.com/bolt/bolt/wiki/Bolt-changelog---1.5.0-to-1.6.0\n. Hmm, I'm still not sure what happened here. I haven't been able to reproduce it either. I'm going to leave this open for now, to see if someone else bumps into this issue. \n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. The only time I've seen that happen, is when the debug bar has an error. In my case it was because I was messing with the \"blocks\" shown on the toolbar to adapt them for Bolt. \nCould you try using your browser's developer tools, and checking the response?\n. Closing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again. \n. Whoop! whoop! \n. Cool, thank you! \n. Yeah, basically what @GawainLynch said. :-)\nI'm just going to merge this in, but one of these days we're going to replace timthumb, though. \n. Looks good to me! Thanks!\n. Can this one be closed? :-)\n. > I can see the contenttype it belongs to. However I can't figure out how to access this in my extension.\nYou can check $record->contenttype in your extension, or did you mean something else?\n. Is this still an issue? If not, i'd like to close it. :-)\n. In that case, I'm closing the issue. Let me know if it pops up again! :-)\n. I know a lot of people (and i've done this myself too) like to be able to use tags like {{ simpleforms() }} inside of their pages. So, we could say it's not a bug but a feature. \nOn the other hand, I'm sure that my colleague @tobias2k will agree with you. :-)\n\nI believe it's a good idea to add a {{ verbatim }} (http://twig.sensiolabs.org/doc/tags/verbatim.html) to the default template, but if there's a backend solution it would be better, don't you think?\n\nThat won't be a good solution I think. That way you'd depend on a theme to do it right. Templates are often written by frontend-devs, and they shouldn't have to be responsible to enforce security. \n. @erikaheidi FYI: we've discussed this, and we're going to fix it properly. Besides the stop-gap committed earlier, we're going to make sure you won't be able to (accidentally or not) dump the entirety of app to the screen, which contains youd DB-credentials. \nThanks for bringing this to our attention. Just in time to include in the upcoming 1.6.0. ;-)\n. Closing, because resolved.\n. Thank you! \n. Sweet! Thank you!\n. Looks good, thank you! :-)\n. Awesome! Thank you, again! :-)\n. I've fixed it differently.. This works for Postgres, Mysql and SQLite alike. :-)\n. Whoop!\n. We'll fix this together with #1158!\n. When looking at this a bit better, this is a different issue than #1158.\n\nWhat would possibly be a good compromise (unless I have missed it's present existence) is a key at the top of config.yml such as environment: with the options development and production (default) that allow Whoops and friends to run or not \u2014 and a default fall-back that doesn't.\n\nThere is no such switch yet, but you should always set debug: false on production environments. If you do this, you will not see this backtrace, with the info you don't want to share. \nWe're going to change it, so that this info will only be shown when debug is enabled and you're an authenticated user. \nAdding \"environments\" is something we might do later, sometimes.. What we currently to do is that we have a specific config_local.yml: Whatever you set there overrides the normal app/config/config.yml, so you can use it to set the DB-credentials for 'live' as well as disable debug and stuff like that. \n. Oops.. Thank you! :-)\n. If you don't want to jump to the top, I assume you're using some ajaxy-type thing to handle the form, right? If so, you should be able to do an event.preventDefault(); or return false; in your code somewhere. \nIf that doesn't work, I'm going to have to see some code. ;-)\n. Hi, yes, we're aware of this. This is a direct result of our decision to keep it simple. In short: If you're allowed to edit users, you can grant 'root' to yourself or someone else.\nI'm going to make this more clear in the docs, but I don't think we should change this on a whim. For  a later release we might re-think this, but I can't readily think of a way we could do this, without making the roles/permission structure much more complex. \n. Another option we could consider is: You can only grant permissions to someone else, that you have yourself. \nLet's leave this issue open for a while, so we can discuss ideas. :-)\n. Oops! Thank you! \n. Looks good for now.. Eventually we're going to phase out timthumb for a more managaeable solution, by the way. \n. This has been added to the \"to do for Bolt 2.0\". I'm still not sold on this, though. ;-)\n. Because I (personally) don't feel the need to make it possible for people to white-label Bolt in order for people to pass it off as their own to their clients. \nI (again, personally) would prefer for it to be always evident that a webdev is using bolt for a client. If this is obvious, this will be good for the brand recognition in general, which is beneficial to all users of Bolt in the long run.\nIt'll also be a major pain in the ass to maintain: Once somebody has changed the backend, we have no way whatsoever to guarantee that a minor Bolt update will not seriously screw up one's layout. At the same time, I'm pretty sure that we will be the ones who will get blamed for \"breaking the backend\" by people who have this happen to them. I predict a lot of support issues for us, should we provide this feature. \nI'd much rather expand on the current \"branding\" options in config.yml. That way we can keep it under control, and we can actually make sure Bolt updates will not break the backend. \n. There's absolutely nothing that prevents people from doing this, and that's the way it should be because of the MIT license.\nThe point I was trying to make, is that if we make it an actual feature by providing this functionality, people will assume that we provide support and accountability for it working properly. \nRight now, people can change the themes, but it's evident that doing so will be strictly at your own risk. \n. Leaving this one open for now, but i am removing the \"Milestone 2.0\" flag. Perhaps this should be a \"Boltcamp '14\" issue? \n. See also #1269 \n. I'm going BDFL on this. Wontfix. \n. Try resetting routing.yml to the default values in routing.dist.yml. Make sure you've updated the .htaccess as well. If that doesn't work, I'd like a bit more info. :-)\n. Fixed! :-)\n. FYI: I don't know to what version you're upgrading, but i'm finishing up the last few tidbits for 1.6.0.. In an hour or so, you'll be able to download the final version.. \n. Merging in! Thank you! :-)\n. I like what you're doing here, but in our work for Bolt 2.0 a lot has been changed already. We're probalby going to switch \"feature/bolt2\" over to \"master\" soon, and if I pull this change, it will cause major conflicts when merging with \"feature/bolt2\" \nIn other words: If you could make this change on the \"feature/bolt2\" branch, I'll gladly merge it in! Sorry for the inconvenience! :-)\n. > So when you talk about \"soon\", do we talk about days, weeks, years, \u2026 ? :-)\nA week or two, hopefully! :-)\n. Sure, I'll merge this in. Thanks! :-)\n(but, why not use the 'first' field instead of the 'last'? I could imagine that if you use 'id, title' that it would make sense for most people if it were sorted on 'id', and not on 'title')\n. True.. This way behaviour will stay the same for most cases. If people start complaining about it, we'll discuss how to change it! Thx again! \n. > I also always wondered, why the extension of the database is forced to be .db (Bob?). Why not simply use what's given in the config file and save that extra basename code\nBecause by forcing it to be .db, it's extra simple to make sure it can't be accessed in the .htaccess file. \n\nI would prefer .sqlite for example.\n\nAs far as i know there's no real standard for sqlite file extensions, so it all comes down to personal preference: http://stackoverflow.com/questions/808499/sqlite-extension-name\nI'm not opposed to changing this for 2.0, though. \nI'm working hard to get 1.6.0 final out of the door, and then I'll merge in this change, together with the backlog of other pull-requests that piled up over the weekend. :-)\n. > @bobdenotter what's the best way to discuss this further? maybe I could put together a wiki page that addresses path / resources configurability and we can discuss further off that?\nOr open a new issue for that, perhaps? I'm going to do some major spring cleaning on the issues list one of these days, to shrink it by a lot. I was thinking about adding a [Proposal/discussion] tag, so we can easily find threads like these. \nFor now, i'm going to merge in your change, and Github will auto-close this issue because of that, so we'll continue the discussion on how to go ahead with this in a new thread. :-)\n. So, should this be some sort of \"custom field\"? I.e. will it be a moot point, once extensions can add their own fieldtypes? \n. Maybe I would just need to see a valid use for this, but currently I'm leaning towards \"Yeah, that should be an extension\", as soon as field-types are actually extensible. :-)\n. Extensions can create their own fields now. Closing this one.\n. I don't have much experience with AWS, so i can only answer your questions superficially.. :-)\n\nIs it possible to configure this path?\n\nCurrently no, but try setting session_use_storage_handler: false in config.yml: \n// Disable Silex's built-in native filebased session handler, and fall back to\n        // whatever's set in php.ini.\n        // @see: http://silex.sensiolabs.org/doc/providers/session.html#custom-session-configurations\n        if ($this['config']->get('general/session_use_storage_handler') === false) {\n            $this['session.storage.handler'] = null;\n        }\n\nesp. in the thumbnail making code\n\nYeah, timthumb is becoming a pain in the ass, and it will be removed sooner or later. See #1155 \nI just haven't been able to find the time for it, yet. \n. Done, thank you! \n. Cool. Let's find out! :-)\n. Thanks, glad you like it! \n\nCan I limit this dashboard overview to only one text field from content type? \n\nWith a bit of tweaking, yes. If you create a file app/view/custom/listing/entries.twig, you can define the listing view for that specific contenttype. In that folder you'll see a pages.twig.dist you can copy stuff from. \n. I haven't tested this thoroughly, but this looks good to me! I'm going to work hard to get the \"feature/bolt2\" branch a bit more tidied up, and then we should merge it back into \"Master\", and we can merge this in. Cool!\n. Merging this in, working on the rest. :-)\n. I'm afraid not. That is considered to be firmly \"out of scope\".\n. I don't think that went as planned. :-)\nI'm guessing you did a checkout of \"feature/bolt2\", made your changes, and then made a pull-request to \"master\". is that right? If so, it's probably easiest to just close this one, and make a new PR, this time make sure you want to do it against \"feature/bolt2\" \n. Agreed. What would be the easiest way to fix this? Wrap it with a if (isset($this->app['stopwatch'])) ?\n. Looks good to me! No comments, please continue. :-)\n. Merging in! \n. Thanks! In an attempt to make it a bit simpler, we might've broke some things along the way, intentionally. The more ways people can use to install Bolt, the more we have to keep track of them. :-)\n. @symm Looks good at first glance. Though, I think we should decide which library would suit us best. If we left the choice to the user, it'd mean more support-issues for us. Do you have a preferred one, after testing? \n@rossriley Well, now that you mentioned it: I think a bolt/thumbnails package would be a very good idea indeed! Code could live in its own repo, other people/projects might be able to use it, and we can have tests for it separately from Bolt. \n. The replacement for Timthumb by @rossriley works like a charm, as far as I can tell. I've gone ahead and removed timthumb.php. If no issues pop up in the coming days, I'm going to close the related issues as resolved! \nThank you, Ross! \n. Looking good. Thank you! :-)\n. I'll review this tomorrow, when I have less blood in my alcohol. \n@rixbeck Which part is problematic, do you think? \n. > We so badly need a decent test infrastructure :(\nYes, we do need to improve that. This is definitely not my area of expertise, though. :-/\n. Looks good at first glance. I'll test this later today, and merge it in. Thank you! \n. Which version of Bolt are you using, exactly? Which Browser/OS? On what page are you trying to upload, and using what method? \n. I think I've fixed the other upload issue. If it's confirmed, i'll package an 1.6.2 release. If you upgrade to that, I have good hopes that your issue is fixed too. \n. Very soon. Hopefully today, even. \n. @taylorren Could you update to the '1.6.2 RC' version, and let me know if this solves the problem for you? It's not announced on the site just yet, but you can get it here: http://bolt.cm/distribution/bolt_git_5ba3f00.zip or http://bolt.cm/distribution/bolt_git_5ba3f00.tgz \n. Closing this, but if you feel this is still an issue, feel free to re-open it. \n. Probably related to #1204 \nWhich version of Bolt are you using, exactly? \n. This change seems to fix it: 5cf2697897d7f9bd6c3641280ca5d7f691496ca6\nI've tested on IE, Chrome, both with an empty stack, and with items on it. If this fixes it for you guys too, I'll package 1.6.2 for release. \n. I am not a lawyer or anything, but as far as I'm aware we're good. Bolt is non-commercial, and the use of Fancybox is attributed in the 'about' page: \n\nIf you think otherwise, let me know, and we'll look into it. I wouldn't want to include a library/component that we're not allowed to use. \n. Magnific popup looks pretty sweet!! Let's replace fancybox for magnific popup!\n. Closing this one. Fancybox is gone!\n. You're using has_sortorder on your taxonomy, and also sort: title in your contenttype. Just remove the sort: title from your pages contenttype, and you'll be fine. \n. You're welcome! Glad you like Bolt.\n. Looks good to me! Thank you! \n. Cool. Thank you! \n. Whoop! \n. Merging in these three PR's.. I see some minor code-style tweaks i'd like to change, so I'll push a commit in a few minutes. \n. Good catch. This wasn't used anymore! :-)\n. Did you know that if you go to http://example.org/bolt/tr, http://example.org/bolt/tr/infos, http://example.org/bolt/tr/contenttypes, that Bolt will gather all the untranslated strings andlabels for you?  \n\n. Lol! :-)\n. Thanks! :-)\n. Sounds like a reasonable thing to have baked into the Bolt core. :-)\n. This is something @jadwigo is working on: https://github.com/jadwigo/TaxonomyList\n. Bumping for visibility. This should be added to marketplace for when Bolt 2.0 is released. \n. Closing this one, since it's an extension for bolt 2.0 now. \n. From github? Or using the distro downloaded from the site? Could you do {{ dump(app.paths) }} in a template somewhere, and post the output? \n. @GDmac Can you confirm the issue is fixed for you, now? \n. Is this issue resolved? If so, i'd like to close it. :-)\n. Cool. Thanks! \n. Github auto-closed this one. re-opening.\n. Derp. Thank you. \n. This is shaping up really nicely, if you ask me! :-)\n. woop woop! \n. I'm outside, enjoying the weather, but still found the time to merge your PR. On my phone no less! \n. I've just pushed a fix that should fix it for you. If not, please let me know! \n. We support (and test on) PHP 5.3.3 and up. 5.4.28 should be fine. \nJust to be sure, does the file /home7/modemmus/public_html/app/bootstrap.php exist, and is it readable for the webuser?\n. Yes, the first part is just the path to your home folder. \nIf you'd want me to, I could take a look for you, on your FTP. Feel free to get in touch at bob@bolt.cm!\n. Update: problem solved, closing this issue. \n. PHP was configured to not display any errors in the browser. I temporarily changed this with an override, and then I got an error-message about an indentation-error in the config.yml. Fixed that, and then it worked as it should. :-)\n. Pinging @rarila : weren't we talking about this, yesterday? :-)\n. Is this still an issue? If not, please close this one, @rarila or @GawainLynch \n. Also, setting it globally will not solve the issue. Personally, I'd like to have the option to set the height of the fields individually, but it still isn't possible in CKeditor. \nThere might be a hackish workaround for this problem, detailed here: http://stackoverflow.com/questions/11124182/how-to-set-up-ckeditor-for-multiple-instances-with-different-heights\n. I've been toying with this for a while today, but I wasn't able to get it to work. \nUnless somebody else can take a go at it, I think we'll be closing this as \"won't fix\" soon. \n. If you do manage to get it to work, that'd be great. :-)\n. That sounds a bit hackish, but that just might work. :-)\n. Yes, we need to improve this. Do you want to make a Pull Request for this, so you'll get listed as a contributor? :-)\n. I think it's good enough. It's an improvement on what we currently have. \n. Thanks again! :-)\n. Thank you! \n. Thanks! \n. For starters, I think i can merge without conflicts. As it happens, I've spent some time today merging \"master\" back into \"feature/bolt2\", so I'm probably going to be doing some minor tweaks here and there for things that couldn't be merged automatically. \nYour changes seem fine, though. \n. Thanks! \nI'm going to merge this into feature/bolt2 as well, while I'm at it. :-)\n. Thanks! :-)\n. I wonder if adding a permission for this isn't overkill.. Maybe it's a good idea to do so. \n. This is fixed now, right? If so, we can close this issue. :-)\n. Closing this, but if you feel this is still an issue, feel free to re-open it. \n. Thank you, once again! \n. I think you're right! Thanks, will fix! :-)\n. I was looking at the file, but I it has been fixed already. Which version of Bolt are you using? \nThe current version of the file bolt.js doesn't have  !pattern.test(file.name), at least: https://github.com/bolt/bolt/blob/master/app/view/js/bolt.js\n. Whoooop!\n. Yes, it is! Thank you! \n. Thank you! \n. There's no way to do this yet. Going to leave it open, to see if more people want this. Or, you know, until somebody does the hard work and builds this. ;-)\n(if somebody does: This should go into feature/bolt2, not into master)\n. If we merge in this one, the change in #1256 isn't needed anymore, right? \n. :+1: Merging this one in, now. I see the other one is closed already. \n. Closing this one, because I think it's been resolved. \n. :+1: \n. @rixbeck Could you look into this? \n. Merged in, closing! \n. I'd like to get this one pulled as well: https://gist.github.com/GDmac/0a22abba5327511e650c\nThat extension will give a bit more freedom, when it comes to closing off certaint content types for users. \nThat said: \n\nDoes this mean, however, that out-of-the-box, any content created in Bolt can be viewed in the fronted by any user?\n\nBy design, yes. I'm not sure if I would advise to payments as CONTENTTYPES in Bolt. If you do stuff like that, store it in a table that's not a content type. \n. It's not counter-intuitive, you just have to realize that the backend is different than the frontend. The frontend usually knows nothing about logged-in users. \n\nThis seems like a glaring security issue.\n\nNope. It's by design. If you do not want this, there's three options: \n- Override the routing for this contenttype, so it can't be accessed. \n- Set up a template: empty.twig in the contenttype.yml for that contenttype, so it shows nothing. \n- Don't use a contenttype, but a regulare table, like @GawainLynch pointed out. \n\n'viewing' refers to the frontend: If user can 'view', then they can access the record in the frontend. Without 'view' permission, they do not have any access to the record, anywhere (not in the front, not in the back).\n\nIf we made this change that you suggest, that would mean that users who aren't logged on will not be able to see any page on the frontend. None. \nThe \"use case\" here is that it's possible for logged in users in the backend to view those pages, including any fields that might not be visible in the frontend. \n. I could see us adding a standard permission for this, though: \ncontenttype-default:\n    edit: [ editor ]\n    create: [ editor ]\n    change-ownership: [ owner ]\n    view: [ anonymous ]\n    frontend: [ anonymous ]\nThen, in the controllers in Frontend.php we'd need to add checks for this, as well in the code for {% setcontent %}. \n. > the \"view\", \"edit\", \"create\", \"delete\" permissions should not only be checked in the backend, but also in the frontend. If a user does not have the right permission, regardless of whether they are in the backend or the frontend, they should not be able to access certain records or templates, if that is what the system needs.\nAs I mentioned before: No, this will absolutely not happen. That would mean that a visitor to a Bolt website wouldn't be able to see any pages until he's logged in. \nI'm open to adding a new permission for \"frontend\", but that's it. We will not change the way we've been doing things for a year and a half, just because it fits your particular usecase better. \n. > permission to view everything in the frontend, you just keep on doing what you are doing now:\nWe can't do that, because the \"view\" permission already means something different.We shouldn't alter existing behaviour, because that will be really confusing for people. \n\nIf that is the case, either approach should enable us to achieve what is desired - they are just coming from different points of view.\n\nYes, I think that's correct. I think we mean the same thing by this, but i'm just approaching it from another way so that current functionality will not change. Using this new frontend permission, you can optionally limit access to specific contenttypes in the frontend. \n. Pinging @tobias2k You were going to do something with this, right? \n. > Add a \"frontend\" permission, which grants front-end read access to content, by the same logic as the backend permissions (global/per-contenttype/ownership/...).\nYes.\n\nAdd a check for that permission in the front-end controller.\n\nYes.\n\nSensible default: front-end permissions granted to \"anonymous\" (i.e., everyone whether logged in or not).\n\nYes.\n\nA fully-fledged access control system with details ACLs and all that will easily lead to bloat and feature creep, and we really don't need that.\n\nAgreed. Do not want.\n\nRestricting front-end permissions is highly questionable because right now, the permission checks mostly happen at the page level, that is, the permission check for \"the\" content type happens at the start of the request handler,\n\nYes, this change should be done in the controller for the routed page only. Anything else that's fetched in the page itself is solely the responsibility of the developer of the site. \n. Sounds good to me. \n. Closing this one for now. We can re-open if somebody need this feature, and can make the time to work on it. \n. > This is aimed at essential functionality so as yet there isn't an implementation for some of the many extras in timthumb, though it may be decided that this isn't necessary.\nI don't think so. I've been asked once or twice about the \"filters\", but they work spotty at best. This essential functionality would be fine with me! \n\nCaching is delegated to the very simple Gregwar/cache composer package it has a simple single command integration to handle caching.\n\nDidn't know about that one. Looks good to me. Any particular reason you didn't use \\Bolt\\Cache which is basically a wrapper for Doctrine's cache?\n. :+1: \n. Yes, I think that'd be great. Having it as a seperate component will make maintenance easier as well. :-)\nI'd like to get it integrated with \"master\" quickly as well. We'll iron out any kinks as we go! ~~Yolo.~~ Euhm, I mean \"Carpe Diem!\" \n. I've just added it to Packagist. Travis is still complaining, though: \nLoading composer repositories with package information\nInstalling dependencies (including require-dev)\nYour requirements could not be resolved to an installable set of packages.\n  Problem 1\n    - Installation request for bolt/thumbs 1.0.*@dev -> satisfiable by bolt/thumbs[1.0.x-dev].\n    - bolt/thumbs 1.0.x-dev requires bolt/bolt dev-master -> no matching package found.\nShouldn't it just be \"bolt/bolt\": \"dev-master\", in https://github.com/bolt/bolt-thumbs/blob/master/composer.json ?\n. See #1295 \nYou're welcome to join the discussion there. \n. > I've customized the look of the backend as well and I would like to prevent the CSS from being updated as well.\nWhat Ross said is correct, however do this strictly at your own risk: Modifying the backend is not supported in any way. IMHO there's no legitimate reason why one should be able to modify the login screen. (unless, of course, you're trying to hide the fact that it's Bolt that's powering your site/app) \n. Duplicate, see #1173 \n. Can't reproduce, WFM.\n. Thanks! :-)\n. Thanks! \n. Looks good to me! Hopefully i have a little bit of time today, so I can merge this in. :-)\n. Merci! :-)\n. Two possible options, perhaps..  (if i understand correcty)\n- Use the 'filelist' field. It's basically an imagelist, only for other types of files. \n- Create a small extension, and have the user upload files in a specific folder, like files/downloads/12/ for the record with id 12, etc. Your extension would then list the files in that folder, and display them as required. \n. Not really. It's just used less than the 'imagelist'. :-)\n. Fixed by #1278\n. Thx! \n. Made it look like this, to prevent visual clutter: \n\n. Thanks! \n. This I probably snuck in, in a previous version. I've seen that happen on a few occasions. We could simply add a replace for /files/files/ to /files/ somewhere, perhaps? \n. Yeah.. Could you be a bit more descriptive about what's going on? :-)\n. > mapping the utf8 string to ascii. The same doesn't happen in the update query so we have the correct utf8 slug in the database but the fetch query looking for the ascii version.\nWe have separate \"slug\" and \"name\" columns in the DB. IMHO we should store an ascii-fied version in the \"slug\" column, and the proper UTF-8 value in \"name\". That shouldn't be too hard to make it work properly for the short term. \nIn the long run, we should think about when the time is ripe to start allowing non-US-ASCII characters in URLs. \n. I've made some changes to make Tags work a bit more like other taxonomies: A sluggified version is stored, together with the proper 'name'. You'd get this result now: \n\n. Less code! \\0/ \n. Thanks! \n. Thanks so far! If somebody comes along that can improve on the 'br' part, we'll fix those! :-)\n. It's been suggested before, to have some sort of \"note\" attached to the changelog. \n. There probably is one, but I can't find it at the moment. \n. Took a real quick look. I think it's a good start. I think i'd like to discuss some more about how it should actually be visualized. But, let's get this feature in, and we'll take it from there! :-)\n. This has been added a while ago. \n. Thanks! I'll keep you informed if any issues pop up! :-)\n. Ok, the things that I think should be worked on are: \n- The textarea for comments is pretty big, and it's in the main column, together with the rest of the actual content. I think it ought to be smaller, and in the right column, together with the other \"meta\" stuff. Perhaps label it a bit clearer, like \"Add a comment to this change\", and the textarea itself could have a placeholder attribute like \"Write a brief comment here, so other editors can tell get a quick overview of what's changed..\" \n- The \"changelog\" itself could be reworked perhaps. If there's a comment with a change, I think that should be the most important piece of information inside that small block in the sidebar. \nDo you agree on these points? :-)\n. Cool. Let's see how it goes now. :-)\n. ~~So, it didn't break, but some of the tests failed: https://travis-ci.org/bolt/bolt/jobs/27784804~~ \nOh, wait. I was too quick.. That's an old one still. \n. I bumped packagist, and set up both bolt/bolt and bolt/thumbs to auto-update. \nThis didn't work yet, though: \n```\nUpdating dependencies (including require-dev)\nYour requirements could not be resolved to an installable set of packages.\nProblem 1\n    - The requested package bolt/thumbs ~1.6 could not be found.\n```\nI should really read up on composer, though. There's probably a really simple solution for this. :-/\n. If I change bolt's composer.json to say \"minimum-stability\": \"dev\",, I'm getting the following errors:\n```\nUpdating dependencies (including require-dev)\nYour requirements could not be resolved to an installable set of packages.\nProblem 1\n    - Conclusion: remove bolt/bolt dev-master\n    - bolt/thumbs 1.7.x-dev requires bolt/bolt ~1.6 -> satisfiable by bolt/bolt[v1.6.0, v1.6.2, v1.6.3, v1.6.3.1].\n    - bolt/thumbs 1.7.x-dev requires bolt/bolt ~1.6 -> satisfiable by bolt/bolt[v1.6.0, v1.6.2, v1.6.3, v1.6.3.1].\n    - Can only install one of: bolt/bolt[v1.6.0, dev-master].\n    - Can only install one of: bolt/bolt[v1.6.2, dev-master].\n    - Can only install one of: bolt/bolt[v1.6.3, dev-master].\n    - Can only install one of: bolt/bolt[v1.6.3.1, dev-master].\n    - Installation request for bolt/bolt dev-master -> satisfiable by bolt/bolt[dev-master].\n    - Installation request for bolt/thumbs ~1.6 -> satisfiable by bolt/thumbs[1.7.x-dev].\n```\nHmmz..\n. I made another minor tweak to composer.json, and now it installs again. Something's still going wrong with the tests, though:\n1) Bolt\\Tests\\ResourceManagerTest::testBoltAppSetup\nfopen(/home/travis/build/bolt/bolt/app/tests/Bolt/Tests/app/cache/config_cache.php): failed to open stream: No such file or directory\n/home/travis/build/bolt/bolt/app/classes/lib.php:904\n/home/travis/build/bolt/bolt/app/src/Bolt/Config.php:669\n/home/travis/build/bolt/bolt/app/src/Bolt/Config.php:38\n/home/travis/build/bolt/bolt/app/src/Bolt/Provider/ConfigServiceProvider.php:16\n/home/travis/build/bolt/bolt/vendor/pimple/pimple/lib/Pimple.php:126\n/home/travis/build/bolt/bolt/vendor/pimple/pimple/lib/Pimple.php:83\n/home/travis/build/bolt/bolt/app/src/Bolt/Application.php:51\n/home/travis/build/bolt/bolt/app/src/Bolt/Application.php:31\n/home/travis/build/bolt/bolt/app/tests/Bolt/Tests/ResourceManagerTest.php:65\n. Yay! \\o/ \nhttps://travis-ci.org/bolt/bolt/jobs/27800123\n. Ross beat me to it, but that's my first thought as well. Ask your hosting provider, if you don't have access to php.ini yourself.\nSee also: http://www.webhostingtalk.com/showthread.php?t=1096375\nhttp://www.somacon.com/p520.php\n. Has this been fixed yet?\n. Thanks! I've noticed some pecularities in the pager recently, but I didn't get around to digging in, yet. :-)\n. > @mike-anthony - ah that's a shame.\nThe main issue with this is not that I do not want this. I'm just convinced that it'll be a hard problem to solve. Why do people want this? for the \"pretty paths\"? For content to match their mental model of said content? To generate sitemaps? Menu's? The reason why people say they want hierarchical content is very important for the how. I've been thinking about this for a while now, and I don't know a straightforward solution. \nI am certain that this is not something that we can do properly in an afternoon or two. The things I can think of from the top of my head are: \n- Displaying this in a robust way in the backend. How are nested / childpages displayed? What happens if it's in the middle of a \"paging\"-break?\n- What will the UI look like? How can we make it user friendly to re-arrange pages under eachother\n- Can we integrate it in Silex/Symfony's routing? Both in mapping an URL to the correct controller in \\Bolt\\Frontend(), but also for creating an URL from a given piece of content. \n- How can we integrate this in menu's, so that the hierarchy is preserved. \n- We need some auxillary functions, to easily display lists of \"sibling pages\", but also \"parents\" and \"breadcrumbs\"\n- These things will need to be iplemented transparently. By this I mean that it should be completely invisible for those that do not need this functionality. Users who don't need it shouldn't be bothered by it, but also within a single Bolt-setup the 'flat' contenttype shouldn't become any less straightforward because of this. \nThat said: I'm not against this at all. I'm just pushing back, because I'm not going to make a half-baked solution for this, and we will not accept any half-baked solutions as pull-requests either. We either do this well, or we won't do this at all. If someone has need for this functionality and the time to work on it, we'll gladly help. \n. That looks like a nice library to at least handle the database connections of the whole thing.  \nLet's leave this issue open for now. I'm sure other people will chime in, and we'll see if this is something we should implement for Bolt. :-)\n. Thanks! :-)\n. This has been fixed by @xiaohutai in feature/bolt2.\n. Exactly the same. Closing this one as a duplicate. \n. Looks good to me! Some comments: \nI haven't checked it yet, but I'm assuming that this will break on PHP < 5.3.3. One of the reasons that we had the quirky way of doind this, so we could present a user-friendly message on PHP 5.2. On the other hand, we're one year further along, and maybe it's time to let that go. \n\nThe downside may be that styling choices wont automatically cascade to the error templates.\n\nNot a problem, as far as I'm concerned.\n\nit seems harsh to fatal error the app if you don't have an .htaccess file present,\n\nYes, this is silly. We should at least check if we're actually on Apache, if we do a check for .htaccess.. \n. > What do you reckon, check the SERVER_SOFTWARE value to see if it contains Apache. For more advanced users we can then provide a hook on $app['resources'] to ignore this error if they want to run without .htaccess\nSounds good to me! \n. My trusty old MAMP still has a php 5.2. I'll check it in a bit! :-)\n. Hehehe.. \n\n. Computer says no: \n\n\nI've made some minor tweaks, and I'm going to merge it in now! :-)\n. Travis is complaining: https://travis-ci.org/bolt/bolt/jobs/28251864\n. Closing this, but if you feel this is still an issue, feel free to re-open it. \n. Thanks! I'm going to merge this in, and tweak the indentation a bit. :-)\n. Thanks! You're really on fire, lately. I'm out of town for one weekend, and immediately there's a huge backload of Pull-requests waiting for me. ^_^\n. Whoop! \n. Thanks! \n. > (I already have a FlysystemContainer coded and nearly tested that allows access to AWS S3, Rackspace, Dropbox, Ftp, Sftp, Zip and WebDAV ).\nThat is fucking awesome! :-)\n. ^^\n. Thanks! \n. No change, it seems: https://travis-ci.org/bolt/bolt/jobs/28290740\n. Closing this one! If it's still an issue, feel free to re-open it. \n. Travis is showing the green lights here as well. :-)\n. Huzzah! https://travis-ci.org/bolt/bolt/builds/28326375\n. Unfortunately, I don't have Elasticsearch running, so I wouldn't be the best person to test the code. Hopefully somebody else can do this for you. :-)\n. _bumping for visibility. :-)\n. Please update your extenion for Bolt 2.0, and add it to extensions.bolt.cm if you haven't yet. \nSee the docs on how to proceed:  https://docs.bolt.cm/extensions/config\n. Whoop!\n. I initially moved it into a submodule, because i thought it would be convenient. In fact, I wanted to move all extensions out of \"core\" as well, as long as there was a convenient way of fetching a bunch of them, and keeping them updated. There's a (slightly outdated) outline here, of how we originally planned it. I'm still not sure what would be the best way forward to make this work smoothly. My ideal would basically be a system that could easily: \n- Fetch and enable a bunch of 'default' extensions and a theme\n- Allow for fetching new extensions and themes from the commandline\n- Allow for fetching new extensions and themes from the browser\n- Notify users about updates, and subsequently do these updates. \nAs it turns out: Submodules are, well, suboptimal. I'm just not sure that moving base2014 back into core will be beneficial in the long run. On the other hand, I don't yet know what will work best for us. \nFor Bolt 2.0 (see the feature/bolt2 branch) we're using Grunt to fetch bootstrap and fontawesome. I think it works really well, but then again: only for people using the command-line, and probably not so much for Bolt Extensions. \n. > That sounds like a good idea. I don't think we need to worry about non-command line users in this instance since this is pretty much composer specific\nThat's the major thing holding me back on going in this direction: We can't ignore users who do not have command-line access. It would mean doing double work: Composer for those with commandline access, and another home-baked solution for those without. \n. > On the bigger question I was suggesting that we still use Composer under the hood but put a UI layer on top so that users can generate their composer.json file via a UI.\nOh, that sounds very interesting!! :-)\nYeah, if we could make that work, that'd be a good candidate to look into, to handle things like this.. \n. Looking forward to it! ^_^\n(by the way: as of this saturday i'll be out of town for one week, so response times from me might be a bit slower than usual.)\n. > but I'm more than happy to put together a quick proof of concept for the composer ui once we've shifted a few of the more immediate issues outstanding.\nThis looks interesting: http://stackoverflow.com/questions/17219436/run-composer-with-a-php-script-in-browser\n. Reopening this one. We'll move base-2014 back into core for now.  I think I've done git submodule update a thousand times today when i was switching between branches. This madness has to end! \n. Closed via 0304806\n. Fixed by @tonicospinelli in #1322. \n. Awesomeballs. Thank you! :-)\n. Just in time for 1.6.6 ;-)\n. thanks!\n. Thanks! ^^\n. You can - with some poking and prodding - use simpleforms to insert records into a table which doubles as a contenttype. Just make sure you add the field that will allow you to have control over what gets published on the site. :-)\n. Closing this, but if you feel this is still an issue, feel free to re-open it. \n. Thanks! \n. Thank you! ^^\n. I wouldn't call 'Allow users to edit their own password, email, and displayname.' a small change. ;-) Thanks!\n. Just merged this one in from mobile. If you have minor tweaks or fixes like this, you're welcome to merge them in yourselves. :-)\n. I have no personal experience with Heroku, but Bolt works fine on Nginx and PHP 5.4.x.. Which version of Bolt are you using, exactly? \n. I'm guessing you're using Postgres, and it's choking because somewhere a timestamp is compared to a string. Perhaps we could add a default timezone to the column for Postgres?\nSee: http://stackoverflow.com/questions/16609724/using-current-time-in-utc-as-default-value-in-postgresql\n. Closing this, but if you feel this is still an issue, feel free to re-open it. \n. I haven't been able to reproduce this either. :-/\n. closing this one, since the bolt 2.0 dashboard has been redone. I doubt it's still an issue. \n. Closing, because fix was merged.\n. Since you've posted some other questions later, I'm going to assume this can be marked as 'fixed'. :-)\n. Since we're working on a way to install and update 3rd party extensions from within Bolt, I've labeled this as '3rd party extension' for now.\n. Please update your extenion for Bolt 2.0, and add it to extensions.bolt.cm if you haven't yet. \nSee the docs on how to proceed:  https://docs.bolt.cm/extensions/config\n. Fixed in 2.0. \n. Closing, because fixed.\n. Closing this, because fix is merged in. \n. Closing this, but if you feel this is still an issue, feel free to re-open it. \n. > The template is located at app/view/editconfig.twig \nThat is the correct location.\n\nbut somehow not used by my twig.\n\nThat's odd. Does the rest of the bolt backend work as it should? \n. Have you checked that the file editconfig.twig is readable to the webserver? \nThis is a peculiar issue, because there's no reason that this should be any different than the \"edit content\" pages, which use editcontent.twig for example.\n. To add to this: Yes, we will fix this. Tobias and I are still discussing exactly how we will fix this. \n. Closing this, since it is a bug in PHP, not in Bolt. \n. Too vague! There are plenty of issues open in bolt/bolt-docs. ^_^\n. We'll look into this.. It might be a small bug. \n. Thank you! :-)\n. Or, alternatively, Move base-2014 back into core, until we get a proper solution for handling themes and extensions. :-)\n. See #1319. I'm making the call now that we'll be moving \"base-2014\" back into core, until we have a proper solution for the whole \"marketplace\" thing. \n. Closed via 0304806\n. Yes, this is the intended behaviour. Symfony's routing component does this, to keep the 'index.php' part of the URL, because otherwise /page/foo will not be picked up by the app, but will instead give a 404, or will be routed through index.php.\nIs there an issue with this? As far as I can tell with some quick testing, it works fine: \n\n. I didn't know about this. Seems like a clever trick! Thanks.\n. This is a duplicate of #457, and has been under consideration for a while now. A lot of work has been done lately to make paths less rigid, but we're not quite there yet. \n. You're welcome! Thanks! \nYou can actually use Bolt in its entirety as a vendor package. Just use \"bolt/bolt\": \"dev-master\" in your composer.json\n. And also.. Doesn't setting up the tables only take, like, 4 seconds or so?\n. Well, it could be that the page had been open too long, Bolt's cache had been flushed in the meantime,  the person doing this switched from WIFI to cellular, moved between two celltowers, or any other silly reason. \nThere is no security issue involved in this. If anything, the CSRF tends to err on the safe side: It's more likely that a valid submission might require an extra 'submit', than that a non-valid submission will get through. \n. Thanks!\n. The error goes away once you've added a page with one of those categories, right? You only see that page because you're logged in to Bolt. If you log off, and try again, you'll most likely see the \"normal\" 404 page, that users are supposed to see.. \n. That code is there for when there are no results when searching.. Showing the '404' when trying to access a non-existant tag or an empty tag is the desired behaviour. It would be inconsistent if we made a distinction between \"non-existing\" or \"empty\" taxonomies.\n. This would be helpful, but we're not going to do this for 2.0. Leaving it open, but removing the \"milestone 2.0\" flag. \n. This is in 2.0\n. Ah, sorry.. I meant to say config_local.yml, instead of config.yml.dist! \n. I've changed my fickle mind. ;-)\n. @tobias2k Could you test this a bit, so we can close it?\n. Thank you, yet again! :-)\n. Much! :+1: \n. Merging in! \n. Thanks! \n. This line seems to suggest this is \"2.3.0-dev\", and not \"2.2.2\".. https://github.com/bolt/bolt/pull/1389/files#diff-d2290b1e799bec10b9b7913119a035eaR17\nI haven't tested it yet, but are we sure this is a stable release of HybridAuth? \n. Yes, I agree that the list of updates seems like a good bunch of fixes, but I'd prefer that we'd stick to their latest stable version, instead of 'dev'. :-)\n. I just got back from a few days out-of-town, and I can't wait to try this out. This looks like it's a very viable option to go with.. Sweet! \n. > @bobdenotter if we go ahead with this approach what's the eta/strategy with version 2 do we wait for v2 to be merged into master or would you prefer me to rebase this onto the feature/bolt2 branch.\nI've been merging master into feature/bolt2 often, so it's pretty much up to date with the latest changes. I know some people use master often, so I think i'd prefer for this to go into feature/bolt2 immediately. \nAt the same time, we should call a 'feature freeze' for v2. We're falling (once again) into the same trap as Open Source projects tend to do: We keep adding new stuff and we keep on refactoring. So, unless we draw a line somewhere, we'll never get to the big 2.0. IMHO with all the refactoring in master, together with the new backend-in-progress in feature/bolt2 and obviously this Marketplace functionality, it'd be good to stop adding more stuff, and push towards 2.0. Agreed?\n. > I'd agree with this, from the stuff I know about I think we could get to 2.0 beta in 5/6 weeks, off the top of my head this would mean sorting out the following.\nSeems like a good timeframe. I could get behind that with the stuff I need to do for the new backend. Let's pick a date in a week or so, when we're a little bit further along. \nAlso, Let's compile the stuff we're discussing in this thread into a separate wiki-page, so we have all information about the marketplace together in one place. \nAbout the mentioned points: \n\n\nThis approach gets all the extensions required into a folder but we need to make sure that they can be autoloaded in the same way they are currently. \n\n\nYes. The closer it behaves to the current extensions, the better. At least, as far as it makes sense: We should not force composer into doing odd things, just because we don't want to break stuff. By this I mean that once we're done, and an outsider looks at the code, they shouldn't get confused about odd stuff we've done for the sake of backwards compatibility. :-)\n\n\nWe need to work out a way to distinguish between themes / extensions (any other types to support?) and maybe support install scripts to copy assets into public.\n\n\nExtensions and themes are the only ones I can think of.. An install script to dump assets should be an extension itself, methinks. \n\n\nFor the repository side, need to add support for Git hooks add some auth for extension owners and and admin auth so the submitted extensions can be managed.\n\n\nYes. I think we'd need to scale up our hosting, so we can make this more robust once we start doing stuff like this. \n\n\nSomeone with an ounce of design talent should probably do something with it too.\n\n\nWe're working (slowly but steadily) on a new site, which we should launch alongside 2.0. Pinging @peterboorsma and @anketwokings, to put this on their list of things to do. \n\n\nWrite some documentation about how to submit an extension, how to format composer.json file.\n\n\nYes. This should go into the main docs on how to write extensions. \n\n\nFigure out a way to make the transition from ad-hoc extensions to composer-managed ones as painless as possible (ideally with some sort of compatibility shin that you can just slap onto your extension rather blindly)\n\n\nIMHO this goes closely together with points 5 and 3. \n\n7., 8. and 9. \n\nWhilst I agree that these things should be done, we shouldn't overdo this. We just decided on a feature freeze, and this is becoming a gray area. \nI do agree on most of these points too, so if we can squeeze parts of this in before we go beta, I'm all for it.. \nAlso, we need a \"setup()\" function in extensions, that will set up any required DB-tables or other stuff. Like Bolt can set up and update it's own tables between version updates. \n. > How's this? I've tried to pull in whatever tickets are relevant to ship v2 and we can close them off as we go. If everyone drops in the stuff they know about we can have a final todo list.\nSeems good to me to have a single place to keep the status on the open issues for 2.0. We should make it match with the current v2 milestone, as well: https://github.com/bolt/bolt/issues?milestone=13&state=open\nI'm going to spend time getting a bunch of the smaller issues on those lists resolved and out of the way, to make them a bit more manageable. \n. Marketplace is in! Closing this issue! \n. Is this still something we'd want? If so, please label and assign it appropriately :-)\n. Actually, {{ records|first.contenttype.slug }} is the correct way to do this. \n. Blame suggests this is an issue for @tobias2k to take a look at. ;-)\nhttps://github.com/bolt/bolt/blame/master/app/src/Bolt/Permissions.php#L421\n. Closing, because fixed.\n. That would seem logical. spock-emoticon\n. @rossriley I've taken the liberty of assigning this to you. ;-)\n. I did a \"force update\", and I also had another go at setting up the auto-update hook. For some reason it didn't work after I tried to do so last time. \n. I'm a fan of \"cleanup and refactor\", without adding more features. Simpleforms must stay simple(ish). :-)\n. This is in 2.0. Closing. \n. I think only a few functions in util.php are used anyway. Let's check which those functions are, and move that handfull to our own lib.php, so we can get rid of it. \n. I've refactored out some dead code, unused calls, and replaced util.php with the variant that's stored in vendor. If anything, it's not directly our problem anymore. ^_^\nIf somebody feels like refactoring out the remaining functions, be my guest. I think this will do for now. ^_^\nRemaining uses are in: \napp/extensions/Authenticate/src/Controller.php:        $provider = \\utilphp\\util::get_var('provider', false);\napp/extensions/RelatedContentByTags/extension.php:                $ids      = implode(' || ', \\utilphp\\util::array_pluck($queryResults, 'id'));\napp/src/Bolt/Controllers/Async.php:                        'permissions' => \\utilphp\\util::full_permissions($fullfilename)\napp/src/Bolt/Controllers/Backend.php:                        'permissions' => \\utilphp\\util::full_permissions($fullfilename)\napp/src/Bolt/Stack.php:                'permissions' => \\utilphp\\util::full_permissions($fullpath)\napp/src/Bolt/Storage.php:            $ids = implode(' || ', \\utilphp\\util::array_pluck($results, 'id'));\napp/src/Bolt/Storage.php:            if (\\utilphp\\util::array_first_key($results)) {\napp/src/Bolt/Storage.php:                return \\utilphp\\util::array_first($results);\napp/src/Bolt/Storage.php:        $ids = \\utilphp\\util::array_pluck($content, 'id');\napp/src/Bolt/Storage.php:        $contenttype = $content[\\utilphp\\util::array_first_key($content)]->contenttype['slug'];\napp/src/Bolt/Storage.php:        $ids = \\utilphp\\util::array_pluck($content, 'id');\napp/src/Bolt/Storage.php:        $contenttype = $content[\\utilphp\\util::array_first_key($content)]->contenttype['slug'];\napp/src/Bolt/Storage.php:        $fulluri = \\utilphp\\util::str_to_bool($fulluri);\napp/src/Bolt/TwigExtension.php:            $name = strtolower(\\utilphp\\util::array_first_key($menus));\napp/src/Bolt/TwigExtension.php:            $menu = \\utilphp\\util::array_first($menus);\n. Pinging @bacbos to the thread. ;-)\n. As it happens, I'm working on a fresh 1.6.x release today. \nI'm a bit confused now, should I merge the relevant section in TwigExtension.php related to the menu into 1.6.x from master, or shouldn't I? :-)\n. Cherry-picked into 1.6.x: 4d799601163d4b17a79336b0068170def46e9150\n. Hey, why did you close this one? ;-)\n. Looks good to me! ^_^\n. /tests/ is used exclusively for tests.. I think just / would be fine, because that's where we keep all of the .travis.yml, codeception.yml and the like. If we put it there, we should add it to the list of files to be deleted in package.sh in bolt-distribution as well.\n. Yes, it should be PSR-2.\n. Pinging @bacbos to the thread. ;-)\n. > 1. There are perfectly legit reasons for not using .htaccess.\nThe most common of these reasons is using Nginx. ;-)\n. I'm not sure how we could fix this. Please close the issue, or self-assign, if you'd like to work on it.\n. In fact: once we're sure that all the work that's been put into the current 'master' has been incorporated into what is now feature/bolt2, we can just delete it.. \nI'd just like to keep it around (under whatever name) for a short while, until we're sure that we haven't missed anything. \n. > Do we even need to worry about branching HEAD as it is now? If we need patches in releases/1.6 it's not like we can't cherry-pick them in.\nAgreed. That's basically what I was doing now for the 1.6.x release.\n. It's done! master now contains our work-in-progress for Bolt 2.0.\n. Bigfixes for the stable release (1.6.x) must go into release/1.6. This is also the branch you ought to use, if you're running sites straight from git. ;-)\nAnd, now that i've thought about it for a few days: \n- After 2.0 we'll switch to Semver properly. we've been doing this mostly, but we should formalize it. I do like the quirky ubuntu version numbering, but If we take into account that we do this project not just for the nerds like us, but also for frontend devs (who build sites with bolt) and editorial user (who write content), the concept of naming the next Bolt 2014.10.0 would be pretty confusing. At the same time, i think we should not introduce breaking changes in a minor version, but IMHO something like \"completely new backend\" is also considered a change that warrants a major version bump. Even though - strictly speaking - it doesn't \"break\" anything.\n- For our github workflow, I'm leaning more and more towards adopting gitflow. If anything, it'd be very nice to know you can do a checkout of master, and know it's supposed to be stable. \n. Closing this one!\n. Sweet! Just merge it in when you're done with it (for now) :-)\n. Coincidence or not, both today and yesterday people were asking about an IRC channel. So, maybe it was about time that we get that set up properly.. ^_^\nAlso: No real need to wait.. The backend interface for Bolt 2.0 will be redone, but we're trying hard to make the actual upgrade as painless as possible. No required changes in either the templates or config files when moving from 1.x to 2 as of yet. \n. @rixbeck I'm using www.irccloud.com at the moment, as it doesn't require any extra software to be installed.. \nOnce you're logged on, you should be able to join the server irc.freenode.net, and from there go to the channel #boltcms\n. Ok, so now that we've had the IRC for over a week, and there are actually people haning out there.. What locations should we use to promote its existence? Twitter profile of @boltcm ? http://bolt.cm ? http://docs.bolt.cm ? other places?\n. Closing this. New page has been added to the docs!\n. More tests, excellent! Thank you! \n. This is something i've been thinking about occasionaly for a while now. Like Ross says: When \"fields\" can be added with extensions, this is a prima candidate for a well designed extension. \nSome related reading on how this could be done, perhaps: https://the-pastry-box-project.net/jason-santa-maria/2014-june-15\nhttp://alistapart.com/blog/post/longform-content-with-craft-matrix\n(i think the Craft example is a bit overdone, though.. There has to be a simpler way to set it up, and get it going)\n\nThe groups of fields would be a little trickier to implement, since at the moment one field maps to one database column, (including the list fields which comma separate values) whereas these would need a fair bit of thought to integrate smoothly.\n\nAn extension can do with this as it pleases, but from the perspective of \"simple and straightforward\" we shouldn't start concatenating fields like this. \nAn extension could simply do it using a separate table using linked fields with a 1:N relation. \n\nSo, the extensions repository feature will be launched with version 2 of Bolt, I don't think the admin templating will make 2.0 but since it can be done in a non-breaking way it can be added to the next point release.\n\nExactly. We've already made big progress splitting up the current fields, and cleaning them up. \n. \"Because Wordpress has it\" will never, ever be a reason why we should or shouldn't do something. ;-)\n. Honestly, I think quite a few people would like this. We are currently working hard on v 2.0 though, and we shouldn't add more features right now. Otherwise we'll fall into the age-old open source trap, that we keep adding features, and we'll never get to release anything. \n. Yes, I know I was being a bit facetious. Let me explain my stance on this a bit further. But first, read this: http://insideintercom.io/product-strategy-means-saying-no/ \nI agree that this is a feature worth having, but we're only human, and as such have a limited amount of resources. To keep the momentum with Bolt going, we have to make decisions about what gets prioritised, and what gets put on the backburner. Getting v 2.0 stable and released is my absolute top priority at this moment. \nIf we would say right now \"this is a good idea, we'll do it!\", then i'd just be lying to you. The truth is that we will probably not get around to doing this in the next two or three months. Three things can happen in the near future:\n- We (as the bolt core dev team) think this is something we need to have, we'll put it on the list for 2.1, 2.2 or 3.0 or whatever\n- Somebody who needs this and is proficient in PHP puts his money where his mouth is, and creates this. We will gladly merge this in, when the kinks are ironed out. \n- We see that this could be useful for some people, but we decide that other functionality is more important, and we focus our limited resources on that. (perhaps multi-lingual sites? hierarchical content? who knows!)\nWhatever happens, we (you, me, other bolt devs) will decide this based on the feature's own merits. Saying \"because Wordpress does it\" is a non-argument in my opinion. \n. Oh, one final note.. This statement: \n\nWhile some people dislike its source code quality I think there's no doubt that having feature parity with WP is a minimum for any CMS to be successful.\n\nreminded me of this saying by Ford: \u201cIf I had asked people what they wanted, they would have said faster horses.\u201d. We are not going for a niche, but we are going for a different audience than WP. \nIf you're going to be using Bolt to set up a website, but know nothing about HTML and you need a \"plugin\" to add two lines of JS for Google Analytics, you should stick with WP. ;-)\n. > Regarding the model we can't operate database field arrays in a native way that supported by Pgsql because others doesn't support. It should be come up in a higher level of abstraction that is assumes of using any ORM solution, because I wouldn't be happy something other hackish solution.\nAgreed, if we would just JSON or serialize the repeating fields and cram them in a single database field, that will be terribly hackish. We'd need at least an extra table to create 1:N relations with. This will make gathering content more complex, as well as searching and the like. \nWe've talked about switching to an ORM before, and if we should decide to implement this feature, we will undoubtedly have that discussion again. ;-)\n. I agree that functional changes should aways be atomic => one change, one pull-request.. With style-changes like this I don't mind so much.. I'm just wondering if the cleanup isn't being a bit overzealous. I mean, are these 7 lines really more legibly, than the original 4? \noriginal: \nphp\n        $this->set('general/wysiwyg/ck/contentsCss', array(\n            $this->paths['app'] . 'view/lib/ckeditor/contents.css',\n            $this->paths['app'] . 'view/css/ckeditor.css'\n        ));\nproposed change: \nphp\n        $this->set(\n            'general/wysiwyg/ck/contentsCss',\n            array(\n                $this->paths['app'] . 'view/lib/ckeditor/contents.css',\n                $this->paths['app'] . 'view/css/ckeditor.css'\n            )\n        );\n. Additional note: Today we'll be switching the branches around.. Hopefully it won't break this PR. :-)\n. Could you do a merge upstream? Github says it can't merge automatically. (probably because of the merge of feature/bolt2 into master. \n\nAs I always say, better a bad standard then none. So I personally really dislike the use of spaces instead of tabs, but better to have spaces everywhere than a wild mix.\n\nI agree with that. At the same time, I always have to laugh when I see online flame-wars about \"tabs vs. spaces\". Go do something useful with your time! \nAnyhow, I slightly prefer spaces myself, but we picked PSR-2, because it's as good or bad as any standard. :-)\n\nI would prefer to split up calls with too many arguments anyway (of course with a more meaningful naming):\n\nI actually would really like that! If (like in your example) you give $setting a good name, it immediately doubles as an explanation of what the code does. \n. Whoop! \\o/\n. Closing this, but if you feel this is still an issue, feel free to re-open it. \n. Ok, then let's just cut the cord, and decide that we shouldn't be updating 1.7 anymore. I mean, nobody ought to be using 1.7 in production, right? \n. The fact that textual content without <p>-tags is less semantic is not my opinion. That's a fact. ;-)\nHowever, like you say, you're free to do whatever you want. You can use the textarea fields, or use something like {{ record.body|strip_tags }} or {{ record.body|excerpt }}\n. Looks good to me! :+1: \n. Woop!\n. Your suggestion seems a bit more solid than mine. I'm going to push that now.\nWe still might want to thoroughly refactor the entire paging thing, though. Someday.. When everything with a higher priority has been done. :-)\n\nis $decoded['parameters']['paging'] always set when the pager needs to show?\n\nI think it's set where it needs to be. Primarily in the overview screens in the backend, and in the 'listing' view in the frontend. If it should be set elsewhere, we should add the paging in the relevant {% setcontent %} or ->setcontent(). \n. This has beenfixed. \n. 50 less lines of code to maintain! \\0/ \n. Whoop! \n. This looks like it's truly higher-level code. I can understand now that Fabien didn't want this in the Twig Core. ;-)\n. Travis had an error, but it looks fine to me.. Thanks! \n. Hi, \nCould it be that your system doesn't have the correct locales installed? Do locale -a on the command line, and see if es_ES is included. \n. Closing, because fixed. \n. See also #1454\n. I'm going to work on #1453, so i'll look into this one as well.\n. Is this still an issue, or should we close this? \n. I think this was fixed by @rixbeck a while ago. \nClosing this, but if you feel this is still an issue, feel free to re-open it. \n. :-1: It would break people's themes when upgrading. They're not really in the way, so I vote we leave them in for now.\n. Just because we can break BC, doesn't mean we should. ;-)\n. Closing this one! For now, at least ;-)\n. I want to have both the teaser and the body in the output CDATA tag: \n{{ record.rss_safe('teaser,body')|raw }} \n. Whoop! \n. Looks good at first glance. Will try it out soon, to do some field testing as well! :-)\n. :+1: \n. Looking good! merging in. \n. If you can confirm the update came through as planned, I'm going to release a new 1.6.x maintenance version. \n. sweet-ass motherfucker. I'm going tomerge this in tomorrow. We'll fix anything that breaks as we go along. \n. \\o/\n. Fixed by rarila.\n. :+1: \n. :+1: \n@jadwigo Should this go into 1.6 as well?\n. Fixed by #1520 \n. :+1:\n. Looking good! \n. Is this an ongoing thing, or should we merge this in?\n. Ok! Merging it in now! \n. Good catch. Thank you! \n. Good riddance! \n. I think they are wrapped in __(), right? editcontent.twig, around line 82: \n{% set status_names = { \"published\": __(\"Published\"), \"held\": __(\"Not published\"), \"timed\": __(\"Timed publish\"), \"draft\": __(\"Draft\") } %}\n. No probs. Does that mean we can close this issue? \n. I've changed the kitchensink, because this makes no sense.. Should we still fix this? \n. I've fixed the slug: uses: in contenttypes.yml.dist, and am going to close this issue. \nUsing a select in the slug makes no sense, so if doing that leads to a senseless slug, so be it. ^_^. \n. Is this ongoing work, or can we merge this in ? \n. I'd say that now is the time for this. Don't see any apparent drawbacks, as this will be a relatively small refactor. Let's go for it! \n. Closing this one. \n. > Suggestions? \nWe should fix these. :-)\n\nAny problems to expect?\n\nNot if we refactor it with a modicum of care. ;-)\n. Closed by #1580 \n. Whoop!\n. I'm getting conflicts on this one. Could you do a merge upstream? \n. Note that the current 1.6.x release does not have this problem. Only when you do a checkout of release/1.6 from github. \nAs soon as Symfony 2.5.4 is released this will be fixed by doing a composer update. Until that time, use the patch mentioned above, or else temporarily modify your composer.json, and change the following before doing a composer update again. \n\"symfony/***\": \"~2.4\",\nto: \n\"symfony/***\": \"2.5.2\",\nNote: do not a global search/replace, because you'll change the line for doctrine as well, and you don't want that. \n. I've temporarily changed the composer.json in both master (2.5.x-dev) and release/1.6 (2.5.2) to include working versions. We'll revert this once Symfony 2.5.4 is out. \nSee: 9cbec9e and 8ec66c4.\n. Closing, because fixed. \n. Thanks! Merging in! \n. What happened was that the \"lorem ipsum\" generator was creating faulty slugs for taxonomies. This was fixed by the commit mentioned above, but the DB would still have these faulty slugs if they were added before. \n. Rix: Delete all \"pages\", and create some new ones, using the loripsum generator. Then it should work. \n. Off the top of my head, there are three options: \n- Keep \"ours\" inside the Bolt org. ie. github.com/bolt/Authenticate\n- Move as many as possible to their respective owners. ie. github.com/tobias2k/JSONAccess\n- Create a new org with the same members, and place most of them there. ie. github.com/bolt-extensions/Disqus\nThe advantage of option 1 is that we're keeping the current ones together. The downside might be that the bolt org will get a bit crowded. But, is that really a problem? An additional benefit is that they will be seen as \"sort of official\" \nThe second option might be nicer for people to have them in their own repo's. The major downside is ongoing maintenance. For example, what happens if Tobias is too busy to maintain his extensions? nobody will be able to fix these, then. \nThe third one might solve the \"too crowded\" argument for option 1, but it feels contrived. \nI'm leaning towards option 1, with the exception that for some extensions their respective original authors might want to \"reclaim\" ownership. (for example, I can imagine @bacbos wanting to have and maintain his menu-editor in his own account) \n. New org seems like a hassle to me, personally. :-)\n. Hey Mike, \nThere's some preliminary documentation on it here: https://github.com/bolt/bolt/wiki/Bolt-Extensions:-Converting-1.x-extensions-to-work-in-version-2\nedit: Derp! Gawain beat me to it! shakes fist\n. I believe all (or at least most) extension have been moved to their own repos. I'll check and remove them from the main repo. \n. poof!\n. Just butting in here. For what it's worth: I agree. With all of it. Sounds cool, and I want this. ^_^\n. Merging in! \n. I've answered one more question. How exactly does one \"subscribe\" to a S.O. tag?\n. Cool. I did not know that. :-)\n. So, this thread coupled with Xiao who said this morning: \"Say, we do spread out the resources for Bolt a lot.\", made me realize he's right. \nWe have: \n- The bolt website\n- docs.bolt.cm\n- snippets.bolt.cm\n- Some pages on the wiki at https://github.com/bolt/bolt/wiki\n- The issue tracker here\n- since a few weeks always a few people in #boltcms on IRC\n- the old forum at http://forum.pivotx.net/viewtopic.php?f=17\nVery least we should do is add a page to the docs about \"Other resources\", so people can at least find them. \n. I wrote a page. Suggestions? http://docs.bolt.cm/otherresources\n. > on the right column to the new page \nWhich right column?\nI fixed the typo! \n. I'll add it to the homepage thanks!\n\nEdit: Though, I'm sure there are plans for a new site, yes?\n\nYes. Will need a ton of work, but we're absolutely planning a new website for 2.0. \n. Thanks! ^^\n. Whoop!\n. Merging in! \n. We used to have the save_files option in config.yml. That would _save the file in a /thubms/ folder, so that on subsequent request, it would just use the static image. Seems like that feature got lost during the refactor of thumbs.. We'll add it again! \n. Should fix #1495 \n. Mergin' in. We'll refine as we go along..\n. Closing! ^^\n. ^^\n. Sweet! I'm going to merge it in, this afternoon. Thanks! \n. Do you want to see these fields in the backend? If it's ok to not see them at all, just leave them out of the contenttype.yml. Bolt will not remove those columns. \nIf you want to see them, we should perhaps make a 'readonly' flag for fields.\nyml\n    user:\n      type: integer\n      readonly: true\n. Actually, I think this is legitimate here, as it is more of a feature-request.. It's a bit of a grey area thought, and we do need to make sure people can find their way to S.O. ^_^\n. > Either way I hope my post didn't offend.\nNo worries. We don't get offended quickly around these here parts. ;-)\nAnd, you're right though. When somebody posts a question like \"How do I [X]?\" it should def be posted on SO instead. \n. Closed by 9569beb6625c4aede493db2bd5885b11c431f679\n. Yes, that one too. It was stuffed in with the rest. :-)\n. Whoop! \n. Lookin' good! \n. Thanks! :+1: \n. These are the \"lowlevelchecks\", right? Perhaps it would already be a nice improvement if we did a strip_tags on the output, if we detected we're on CLI?\n. Yes, we should fix this. Like you mention, if called from app/nut, it breaks in bootstrap.php, line 12. \nrequire_once $checker->autoloadCheck(getcwd());\n. Maybe i'm underestimating this, but isn't this merely a matter of replacing the getcwd() with something that's correct? \nI'm not a fan of adding another pre-bootstrap-loaded script like your load.php. Or, am I missing the point? I agree that reducing the pollution of the global scope is a good thing, but shouldn't that be done in a separate issue? \n. :+1: \n. Closed by #1537 \n. Closed by #1537 \n. Closing, because fixed. \n. This looks like an issue with the configuration of Swiftmailer. Check the mailoptions: section in config.yml, and configure it to use your SMTP server, which is always better than relying on PHP's built-in mail() function.\nIn the future, please post support questions like this to Stack Overflow, using the bolt-cms tag. We'd like to keep the Github issue tracker for bugs only. \n. Looks good to me. Will check it out, and merge it in! Thank you! :+1: \n. I'm still curious about the reasons for the separate load.php.. I did some quick testing with your code, and if i change bootstrap.php to this (in pseudocode), it seems to work fine.. \n```\n<?php\n// Very low level runtime environment checks\n// See: https://github.com/bolt/bolt/issues/1531\n// Check if we're at least on PHP 5.3.3. We do this check here, because as soon as\n// we require any other files, we'll get a fatal error, because the parser chokes\n// on the backslashes in Namespaces.\nif (version_compare(PHP_VERSION, '5.3.3', '<')) {\n    require DIR . '/legacy.php';\n    exit;\n}\n// PHP -S (built-in webserver) doesn't handle static assets without a return false\n// For more information, see: http://silex.sensiolabs.org/doc/web_servers.html#php-5-4\nif ('cli-server' == php_sapi_name()) {\n    $filename = DIR . preg_replace('#(\\?.*)$#', '', $_SERVER['REQUEST_URI']);\n// If it is a file, just return false.\nif (is_file($filename)) {\n    return false;\n}\n\n}\n// Do bootstrapping within a new local scope to avoid polluting the global\nreturn call_user_func(\n  function () {\n      mb_internal_encoding('UTF-8');\n      mb_http_output('UTF-8');\n  defined('BOLT_PROJECT_ROOT_DIR') or define('BOLT_PROJECT_ROOT_DIR', realpath(__DIR__ . DIRECTORY_SEPARATOR . '..'));\n\n  // First, do some low level checks, like whether autoload is present, the cache\n  // folder is writable, etc.\n  require_once __DIR__ . '/lib.php';\n  require_once __DIR__ . '/src/Bolt/Configuration/LowlevelChecks.php';\n\n  $checker = new Bolt\\Configuration\\LowlevelChecks;\n  require_once $checker->autoloadCheck(BOLT_PROJECT_ROOT_DIR);\n\n  if (strpos(__DIR__, '/vendor/') !== false) {\n      $config = new Bolt\\Configuration\\Composer(BOLT_PROJECT_ROOT_DIR);\n  } else {\n      $config = new Bolt\\Configuration\\Standard(BOLT_PROJECT_ROOT_DIR);\n  }\n  $config->verify();\n  $config->compat();\n\n  // Create the 'Bolt application'\n  $app = new Bolt\\Application(array('resources' => $config));\n\n  // Initialize the 'Bolt application': Set up all routes, providers, database, templating, etc..\n  $app->initialize();\n\n  return $app;\n\n}\n);\n```\nWouldn't that give the same benefits, only without the extra stage for load.php? \nI am going to merge this in now.. Should we decide we don't need load.php after all, we'll fix it as we go along. :-)\n. Ah, yes. the \"5.3.3 check\" is a very good argument. Lets leave it like this! \n. Have you tested this thoroughly with debug_error_level: -1? ;-)\n. I would expect nothing less!\n. Double-check that you've write-rights to the images folder. Also check the inspector (Firebug / Chrome Dev Tools) in your browser, to see if if gives an error. \n. Using Chrome's or Firefox's developer Tools, you can inspect the request that's going on. That should perhaps give you an error message. See this example, where I made the files/ folder non-writable.. \n\n. Glad it's resolved! :-)\n. > In the first case we could add this to the low level checks, but it is possible to run an install of Bolt without a writable extensions dir, until you come to the point where you install an extension and erroring out the entire app for something potentially unnecessary seems overly harsh.\nWhat are the chances you'll make a non-trivial Bolt 2 website without any extensions? I'd think every site will have at least one or two extensions. So, is it a bad thing to require the folder to be writable? non-writable means we also won't be able to update the ones that _are present. \nMy suggestion would be to add it to lowlevelchecks, and throwing a fatal. If too many people complain and make a valid point, we can always see if we can do it in a better way. \n\nWould it be feasible to adapt the LowLevelChecks class to be more of a generic BoltException handler and refrain from dying fatally until the application needs to?\n\nI'm not saying i'm pertinently against this, but doesn't this sort of defeat the purpose of having the lowlevelchecks in the first place? I mean, we use it to do some critical checks before the entire app is loaded and bootstrapped. \n. hf? :-)\n. whistles inconspicuously\n. Let's go with Adrian's suggestion. For extensions we'll use the following namespaces.\nUser contributed: \\Bolt\\Extension\\<AuthorName>\\<PackageName>\nOfficial: \\Bolt\\Extension\\Bolt\\<PackageName>\n. Closing this issue, because it's sorted. \n. Haven't bumped into any issues with this in a few days. Closing for now. \n. Whoop! \n. Merging in! \n. :+1:\n. Behold! You can override the \"listing\" view for items on the dashboard. \nTake a look at app/view/custom/listing/pages.twig. Copy it to app/view/custom/listing/openingtimes.twig or whatever the (plural) slug of your contenttype is, and tweak that. Bolt should pick it up automatically. \n. I would opt for another option: in the contenttype definition for a specific field, to \"prioritize in excerpt\". If you can do this, you can make sure that this field will be used in the 'excerpt' function, and as such, make it show up on the dashboard with the default settings. \n. something like this, perhaps: \nentries:\n    ..\n    fields:\n        ..\n        foo:\n            type: html\n            in_excerpt: true\n. Unless someone is going to step up and do this soon, I suggest closing this for now. (or, at least removing the \"2.0 milestone\" flag. \n. last call! \n. This was fixed in 2.0 (see \"viewless\" contenttypes)\n. :+1: Closed by #1676 \n. Looks good, merging in! \n. Looks good to me!\n. I've not seen this, but i haven't used Postgres that much.. If this is reproducible, we ought to fix it. \n. The easiest solution would be to create a page called nieuwsitems, and create a nieuwsitems.twig template for that. In that template, simply set {% setcontent nieuwsitems = \"nieuwsitems/latest/5\" allowpaging %}, and you should be all set. \n. Well, that was a brief answer, let me know if you're still stuck. \nAlso: please consider posting support questions like this to Stack Overflow, using the bolt-cms tag. We'd like to keep the Github issue tracker for bugs only. ^^\n. Closing this, but if you feel this is still an issue, feel free to re-open it. \n. In that case, merging in! ^^\n. :+1:\n. Yes, thank you! \n. I'll merge this in, if you'll document it here: https://github.com/bolt/bolt-docs/blob/master/source/content.md ;-)\n. Thanks! \n. Cool. Merging in! \n. :+1:\n. Looking good! :-)\n. Looks good at first glance! Thanks. I'll merge it in tomorrow. \n. :+1: Merging in! \n. \n. Seriously though, looks good at first glance.. Also, you've made the discussion in #1420 moot, because we now can tell people to just make an extension for that. ;-)\n. Looks good! I'm going to merge this in, and right after fix the issue i made a comment about. Thanks! \n. Merging in! Looking forward to seeing a working example of how to use this in an Extension. :-)\n. Thanks! \n. Fixed by #1604\n. For some reason his Firefox assumes there's a touch device connected. The script in Bolt.js should be changed in it's behaviour, so it doesn't depend on touch or click-events, but rather on which version of the sidebar is shown.. Maybe @rarila can fix this easily? \n. I know how to fix this! :-)\n. Fixed  in #1614\n. I was thinking.. Do we actually need the \"allowed filetypes\" to be displayed so prominently? I think most websites will have at least a few of these fields, and for every single one we have this extra line of clutter. We could remove it? Or perhaps add it as the placeholder='' attribute instead?\n. Fixed by #1676 \n. See #1496 \n. See also #1496 \n. See also #1496 \n. Closed.\n. @jadwigo is working on this one.\n. You, actually. Redirector is Mike's, though. :-)\n. Like a charm! \n\n. Closed by #1613 \n. Fixed by #1612\n. Closes #1598. Thanks\n. Thanks! \n. LESS CODE! \\o/ \n. :+1:\n. Better, but i'm going to leave the issue open. :-)\n. :+1:\n. This looks like it's a partial double. Im just going to merge in, because Git doesn't seem to mind.\n. Thanks! \n. shakes fist at Grunt\n. Working on this! \n. Working on this! \n. So simple, I love it. Thank you! \n. Going to look into this, thanks.. \n\nif you want to use this you would need to either use Modernizr or a conditional class ( yes its a hack ) to support < IE 10.\n\nWe already use modernizr, so that's no problem. :-)\n. I think we should move this to \"low priority\".. Now that at least the sidebar behaves OK, i'm not nearly bothered as much as before. ^^\n. Removing the 2.0 milestone flag for now. \n. :+1:\n. In Bolt 2.0 you can at least upload multiple images at once. ^^\n. Closing this one due to inactivity.. If this is still an issue, feel free to re-open it. \n. Not easily, because it's in CKeditor, not our own. \nClosing this, but if you feel this is still an issue, feel free to re-open it. \n. We did make the change a while ago (around bolt 1.1 or so) to no longer include the version number. However, removing this altogether for the sake of safety is not going to do much. Every web-app and CMS has ways of figuring out what's under the hood. \nIf anything, should we do this, it will be the the other way around: Show it by default, and optionally disable it in the config. \n. Closing this one due to inactivity.. If this is still an issue, feel free to re-open it. \n. No, you should have a prefix, the prefix can't be empty. \n. You're welcome! ^_^\n. > Greater amount of error checking/logging\nYay!\n\nExtension config files now are app/config/{ExtensionName}.yml\n\nShouldn't we add a folder in between? app/config/extensions/{ExtensionName}.yml\nI can imagine the app/config/ getting really cluttered otherwise..\n\nPositive side effect is that extension configs will now survive extension uninstall/reinstall\n\nThat's pretty cool! \n. I think it won't be too much of an issue.. chmod -R on app/config covers any folders within it as well. ^_^\nLet's wait until @rossriley chimes in. \n. :+1: on Gawain's suggestion. \n. Woop woop! \n. Fixed by Rarila in #1644 \n. Good catch, thank you! \n. Small regression here: \n\nI'm looking into it. ^^\n. yes. ^^ fixed already. \n. Hi, thanks! As you might know we're really hard at work on getting Bolt 2.0 released. In 2.0 it'll be pretty easy to have an extension in your own Git repo, and people will be able to install it from the backend of Bolt. Once the docs are done, you should definitely update your extensions, and put them in the extensions marketplace! ^_^\n. v2 docs (WIP) can be found here as well: https://docs.bolt.cm/v20/\n(because i put them there, like, a minute ago)\n. Please update your extenion for Bolt 2.0, and add it to extensions.bolt.cm if you haven't yet. \nSee the docs on how to proceed:  https://docs.bolt.cm/extensions/config\n. Please update your extenion for Bolt 2.0, and add it to extensions.bolt.cm if you haven't yet. \nSee the docs on how to proceed:  https://docs.bolt.cm/extensions/config\n. Looks good, but we should definitely have some documentation to go with this at https://github.com/bolt/bolt-docs/blob/master/source/extensions-essentials.md \n. Thanks, @jkazimir and @GawainLynch. Merging in! \n. merging in! \n. Merging in! \n. Travis is having a bad day, but I think this is OK.. merging in. :-)\n. OK, i can confirm what @jadwigo says: if i just let it sit for 10 or 15 minutes it continues, and i get a working install :-)\n. Closing because \"composer's gonna compose\", i guess :-/\n. Awesomeballs!\n. Merging in! \n(I see you couldn't resist the urge to add icons for \"content\" and \"settings\" in the sidebar. ;-) )\n. :+1: \n. :+1: \n. It should probably get a class like class='btn btn-tertiary'. \n. Ok, this is what i'm getting: \n\nSo, in commandrunner, i inserted this on line 247 instead: \n``` PHP\n    echo \"<pre>\";\n    echo \"Name = $name\";\n    print_r($this->app['extensions']->composer);\n    die();\n\n```\noutput: \n```\nName = bolt/helloworld \nArray\n(\n    [bolt/HelloWorld] => Array\n        (\n            [name] => Hello World\n            [json] => Array\n                (\n                    [name] => bolt/HelloWorld\n                    [description] => \n                    [type] => bolt-extension\n                    [keywords] => Array\n                        (\n                        )\n                [require] => Array\n                    (\n                        [bolt/bolt] => >=2.0.0,<3.0.0\n                    )\n\n                [license] => MIT\n                [authors] => Array\n                    (\n                        [0] => Array\n                            (\n                                [name] => Bob den Otter\n                                [email] => bob@twokings.nl\n                            )\n\n                    )\n\n                [autoload] => Array\n                    (\n                        [files] => Array\n                            (\n                                [0] => init.php\n                            )\n\n                        [psr-4] => Array\n                            (\n                                [HelloWorld\\] => \n                            )\n\n                    )\n\n                [extra] => Array\n                    (\n                        [branch-alias] => Array\n                            (\n                                [dev-master] => 1.7.*\n                            )\n\n                    )\n\n            )\n\n    )\n\n)\n```\n. it gets dumber! \n\n. if i change line 247 to this, it works for me: \n$configfile = $paths['extensionsconfig'] . '/' . $this->app['extensions']->composer[ $pack['name'] ]['name'] . '.yml';\nBut, should there really be both a name and names key in the $pack array? \n. Yes, only having 'names' would seem logical. \n. No, wait i'm dumb. I meant: Yes, only having 'name' would seem logical.\n. I did not know that. :-)\n. Should be fixed by #1666. If not, please reopen the issue.\n. :+1:\n. My first guess would be that somewhere a stopwatch is started, but never stopped.\n. Merging in! \n. See also this: https://snippets.bolt.cm/s/yrzml and this: https://snippets.bolt.cm/s/36agu\n. I'm not adverse to adding this. :+1:\n. Ugh, I hate that these things are still needed. Good catch, though! :-)\n. Travis is giving the yellow light, but to me it seems OK: https://travis-ci.org/rossriley/bolt/builds/34123994\n. Thank you! \n. Should be fixed by #1666. If not, please reopen the issue. \n. Are you suggesting functionality to make an 'asset dumper', like for instance Assetic? If so I think that'd be 'out of scope' for a project like Bolt. \n. Ah, right. Then i can see how this could be beneficial. ^_^\n. Whoop!\n. I'm all open to suggestions regarding the sidebar. What we have now is basically something I threw together, and then it was re-done by @Rarila. \nSome comments about the things suggested in this thread:\nYeah, I really dislike all-caps labels. I know it's a personal thing, but to me it feels crude and unrefined. \nThe reason I initially added the white chiclets was to ensure a visual consistency. I agree that they might be seen as distracting, but without them, it's just a line of random icons, IMHO. \nMaybe we could change the used colors around, to still have the visual consistency, without distracting too much? Maybe the sidebar should be a tiny bit lighter, and the chiclets should be black, with white (or light-blue) icons? \n\nI wonder, too, if the icons before the headings could be taken out to differentiate headings (Content, Settings) from their children. On a certain level, too many icons might produce clutter rather than organization.\n\nActually, that's what we had, up until last weekend. Turned out that people thought the broken off labels like \"Cor\" and \"Se7\" looked broken to people. So, hence the icons there. \n. > If this is reason for using the chiclets, I would opt for investing some time (I can certainly contribute) into curating or even creating some icons that are more cohesive.\nI would like that idea, but that would mean that we can't mix'n'match with Font Awesome icons anymore. We'd have a dozen or so good icons, but we'd lose the option to easily add a sort-of-suitable icon from FA when whipping up the contenttypes for a site. I'm not sure the benefits outweigh that loss. \n\nThere are bigger UI issues in the back-end at the moment, for example the keyboard navigation (tabbing to the submenu's) is not working just to get one of my pet peeves out of the bikeshed\n\nThis is a valid point as well. IMHO we should focus on this now, and leave itrative tweaking for later. 17-19 october a bunch of us will get together for Boltcamp, and we'll be able to discuss stuff like this. \n(if you want to come, you're welcome @danielgamage. :-) )\n. Marking this as \"boltcamp '14 topic of discussion\" :-)\n. We tweaked these a lot, and for now they are fine. Closing issue for cleanup. \n. Merging in! Thanks, again. \n. Looks good to me altogether!! Let's think about how we want to handle the \"allowed filetypes\", but I'm going to merge this in at the meantime. Have to keep up with the queue! ^^\n. Must've been my mistake! Apologies! \n. Looks good to me! Thank you! :-)\n. Less code! \\0/ \n. So this is what you meant on IRC this afternoon. ^^\n. Merging in! \n. Just installed \"Stable version 1.0.0\" of Redirector from the Bolt backend. Awesome! ^^\n. In that case, isn't this a codemirror bug? \n. _bump pinging @rossriley \n. Living on the edgecase! YOLO! \n:-p\n. I've never bumped into this one, but i can see how this might be annoying. Merging in! \n. Looks good at first glance, but I cant really test this at the moment. Being on an island and all that. :-)\nYou or @rossriley can merge this in, if you want to. ;-) \n. I've seen this once or twice, but not consistently. This is one of those \"we're working on it!\"-things, i guess. Leaving it open for now, but I think we'll just close this once it hasn't been seen for a while :-)\n. Closing this one for now. \n. Haven't reproduced this yet. Anyone else?\n. Is this still an issue, or has it been solved in the meantime? :-)\n. I'm against allowing extensions to add top-level items. Every single extension will add it's own menu-item, and soon issue #1588 will become moot, because the left sidebar will be the longest item on any screen. ;-)\nBut, slightly more serious: \n\n\nThere is now an 'Extensions' menu and an 'Extend' menu. Which is supposed to do what?\n\n\nThis is no good, indeed. We should fix this. Somehow.\n\n\n\"What do you mean BoltBB is an 'extension', I just want to edit someone's reply\"\n\n\nCan be prevented by better naming. Why not label it \"Manage BoltBB forum posts\" ?\n\n\nWhat if the extension wants to have a 'Do Foo' and an 'Edit Bar' menu:\n\n\nTwo big buttons on the extension's one config screen. IMHO.\n. How about (ascii-art alert) this:\nExtensions     -> Magic extension foo\n               -> SEO black hat extension\n               -> --------------------\n               -> Install / update extensions\n. If we allow it now, there will be no reverting it. I'd say we do it the simple way, and we'll see if we have to cave in later, for those legitimate use cases you mention. \n(dibs on \"Bolt commerce\")\n. > How do you see allowing a small-set of core-defined top level menus, e.g. Commerce, CRM, Forums & Tools \u2014 latter being a 'catch-all'?\nAlthough Jadwigo firmly disagrees with me, my suggestion is \"we don't\". At least not until we come up with a proper way to prevent any one-trick-pony extension from adding their top-level items. \nI really think it'll be a clusterfuck of options in the sidebar if we allow it. Perhaps we'll take the time to think of something better for 2.1 or 2.2 or whatever, but I'd really like to keep it simple for now, and stick with \"one extension, one menu-item\". \n(of course: Stuff like BoltCRM, BoltBB and BoltCommerce can just add a Dashboard widget, briefly displaying the most important information and providing quick access to a few options)\n. I'm going to commit some changes to this, and for v 2.0 we should leave it at that. We'll discuss this (undoubtedly at length) at a later time. \n\nBeyond the background discussion panels humbly would like to see \"collapsible auto\" style bootstrap 3 in the sidebar, this would eliminate or minimize the undesirable sensation produced nested menus.\n\nThis looks very nice, but it doesn't yet solve my main concern: If any extension can add a menu-item at the top-level, the sidebar will soon become very crowded. I understand why this might be useful to have for larger extensions, but we should figure out a way that it doesn't get misused. \n\nP/D I congratulate the team for the '14 Boltcamp really have a healthy envy as I would like to be there :-D.\n\nYou should join in remotely, using skype or IRC. ;-)\n. Closing for now. \n. Does this happen with any image? Or just the specific one? \n. We've rewritten the entire thumbnail library, so i wager this is fixed now.\nClosing this, but if you feel this is still an issue, feel free to re-open it. \n. I know quite a few people that will appreciate this! \n. Better! :+1:\n. Good catch! \n. We're wondering.. Is this broken, or merely confusing? As in false indicating \"No, the pager is not Empty\". Perhaps change it to hasPager() to prevent confusion? \n. It should get called only if allowpaging is added to the {{ setcontent }} tag. if it gets called always, we should start with fixing that, I assume. \n. > Note: Third party extensions will need to be changed to extend Bolt\\AbstractExtension.\nI'm not a fan of this. I'm all for naming standards (if only for the sake of \"picking one, and being consistent\". However: In regard to the case of Bolt\\Extension\\Base, this might actually make it less confusing for third-party extension devs. \n. Thanks! \n. Good catch! Thanks. \n. I think we should treat this the same as - for example - app/config. Bolt should still work if it's non-writable, but (obviously) will refuse to install extensions from the browser-interface. \n. This is already the case on Apache. The problem only appears when running nginx. The solution is to add the sections with 'yml' and 'twig' to your nginx config: \n```\nBolt virtual server\nserver {\n\u00a0\u00a0\u00a0\u00a0server_name mycoolsite.com www.mycoolsite.com;\n\u00a0\u00a0\u00a0\u00a0root /home/mycoolsite.com/public_html;\n\u00a0\u00a0\u00a0\u00a0index index.php;\n\u00a0\n\u00a0\u00a0\u00a0\u00a0location / {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0try_files $uri $uri/ /index.php?$query_string;\n\u00a0\u00a0\u00a0\u00a0}\n\u00a0\n\u00a0\u00a0\u00a0\u00a0location ~ /thumbs/(.)$ {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0try_files $uri $uri/ /index.php?$query_string;\n\u00a0\u00a0\u00a0\u00a0}\n\u00a0\n\u00a0\u00a0\u00a0\u00a0location ~ /async/(.)$ {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0try_files $uri $uri/ /index.php?$query_string;\n\u00a0\u00a0\u00a0\u00a0}\n\u00a0\n\u00a0\u00a0\u00a0\u00a0location /app/classes/upload {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0try_files $uri $uri/ /app/classes/upload/index.php?$query_string;\n\u00a0\u00a0\u00a0\u00a0}\n\u00a0\n\u00a0\u00a0\u00a0\u00a0location ~* .(?:ico|css|js|gif|jpe?g|png|ttf|woff)$ {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0access_log off;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0expires 30d;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0add_header Pragma public;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0add_header Cache-Control \"public, mustrevalidate, proxy-revalidate\";\n\u00a0\u00a0\u00a0\u00a0}\n\u00a0\n\u00a0\u00a0\u00a0\u00a0location = /robots.txt { access_log off; log_not_found off; }\n\u00a0\u00a0\u00a0\u00a0location = /favicon.ico { access_log off; log_not_found off; }\n\u00a0\n\u00a0\u00a0\u00a0\u00a0location ~ .php$ {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0fastcgi_pass 127.0.0.1:9000;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0fastcgi_index index.php;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0include fastcgi_params;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0fastcgi_param HTTPS off;\n\u00a0\u00a0\u00a0\u00a0}\n\u00a0\n\u00a0\u00a0\u00a0\u00a0location ~ /.ht {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0deny all;\n\u00a0\u00a0\u00a0\u00a0}\n\u00a0\n\u00a0\u00a0\u00a0\u00a0location /app {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0deny all;\n\u00a0\u00a0\u00a0\u00a0}\n\u00a0\n\u00a0\u00a0\u00a0\u00a0location ~ /vendor {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0deny all;\n\u00a0\u00a0\u00a0\u00a0}\n\u00a0\n\u00a0\u00a0\u00a0\u00a0location ~ .db$ {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0deny all;\n\u00a0\u00a0\u00a0\u00a0}\n\u00a0\n\u00a0\u00a0\u00a0\u00a0location ~ .yml$ {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0deny all;\n\u00a0\u00a0\u00a0\u00a0}\n\u00a0\n\u00a0\u00a0\u00a0\u00a0location ~ .twig$ {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0deny all;\n\u00a0\u00a0\u00a0\u00a0}\n}\n```\n. pinging @GawainLynch : update your nginx config. ;-)\n. Yes, it does: \n<FilesMatch \"\\.(yml|db|twig)$\">\n  <IfModule mod_authz_core.c>\n    Require all denied\n  </IfModule>\n  <IfModule !mod_authz_core.c>\n    Order deny,allow\n    Deny from all\n  </IfModule>\n</FilesMatch>\n. I've updated the docs already, by the way. ^_^\n. yay!\n. \\0/\n. :+1: Would be convenient, if there'd be a way to locally work on extensions, without having to composer them in, somehow. \n. Closed by #1847\n. > Additionally what are the thoughts on stripping composer support then from the app/bootstrap.php file and reserving this for the standard distribution.. all in all there's over 100 lines of bootstrap code at the moment which seems really excessive since in principle it should be only a few lines.\nYes, mainly because there's too many exceptions, different usecases, etc in there. I'm in favor of this too! \n. You're correct! We should clean them up! (and add a proper example in one of the default contenttypes. \n\nAlso would be great to add documentation funcionamionto of \"group\" in a comment.\n\nI didn't quite follow this one. ^_^\n. Thanks for noticing! We're still ironing out the kinks in v2, as you've undoubtedly noticed.\npinging @rarila to the thread. ;-)\n. I did make them a slight bit wider recently, and i'm not against making them a tiny bit wider still, but this looks like it's too much. Do you know russian, or were you just testing with it? Using Google translate, 'edit' gives me '\u043f\u0440\u0430\u0432\u0438\u0442\u044c', which would fit much better than '\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c'. Perhaps there's a synonym that will fit better. :-)\n. > display: -ms-inline-flexbox; \nHow does this behave in IE 8 or IE 9? \n. I will try at the office, tomorrow! ^^\n. Merging this in. The Bolt 2.0 backend is _really broken on IE 8, so this won't make it worse. :-(\n. Thanks! :+1: \n. Thanks again! ;-)\n. You can't do this currently, but perhaps this workaround is what you need: https://snippets.bolt.cm/s/nzf0o\n. :+1: \n. :+1: \n. Do you use your own {% setcontent %} tag? If so, add the allowpaging attribute to it. \n. @ArdKuijpers do a git pull, and it ought to be fixed. \n. English. I can't even.. \n. Gaaaahhhh! ;-)\n\n. I'm going to fix this in the most pragmatic way I can think of. \n. No, with this one: 276704e701d7bd647b9cfe52e516e2ba81db8d3a\n;-)\n. Pinging @rarila and @sbonardt. Think this is fixable? \n. Not optimal, but better: \n\n. > IE8? What's that? \nA browser that some clients still are forced to use, unfortunately. :frowning: \n. Current state of this issue: Well, it sort of works.. Leaving it open for a short while, because we might want to tweak minor things. \n\n\n. @sbonardt That particular thing you mentioned in your screenshot was fixed by me in 511b5b5. ^_^\n. Closed by #1796\n. This should be an issue in bolt/bolt-docs. ;-)\n. Closing this one\n. Yup, something derpy going on! On it! \n. :+1:\n. I suggest adding this too: \n$json->{'prefer-stable'} = true;\n. :+1:\n. Like a charm! \n. I'm going to leave this open. @GawainLynch should be the one to merge this one in, since it caused him so much headache. ;-)\n. Ok, ok, i give in.. ;-) \n:+1: \n. A followup question.. What happens to files that are added? For example, if I have simpleforms running, and I added my own template in assets/. Will it be removed? \n. How exactly do you use this? Do I need some PEAR package?\n. Thanks! \n. :+1: \n. Good stuff! :+1: \n. :beer: :beer: \n. It shouldn't matter in most cases, but it's just sloppy of me. thx!\n. This re-introduces 'slug: Kitchensink'. I'm just going to merge it in, and change it to 'showcase' anyways. ;-)\n. Merged manually in 63d6a4c4b9438fb0aab98a4a9a580876c320ab2b\n. :+1: \n. Closed by #1796\n. Fixed in #1822 \n. Thank you! :-)\n. Should we do this for 2.0, still? Or right after?\n. > Ha. I have been trying to chip away at it, just that the translate ones are woven very deep throughout the code.\nUgh, yes. The entire translation stuff should move to its own class, at the very least. :-)\n. Joe! \n. I have been thinking about this as well, and I'm not sure if we should do it. Currently, if you're working on a bolt site, you know the contenttypes are defined in contenttypes.yml, and nowhere else. This seems like a good thing to have (esp. for advanced extensions), but it'll also require a lot of thought on how to do it well. \nI'm going to leave this open for other people to chime in. ^^\n. Ok, I'm going to call this as \"wontfix\" now. Adding _contenttypes in extensions will severely complicate the model of \"simple\" contenttypes, and is considered out of scope. \nYou can add custom fields in extensions, though. ;-)\n. Seems fine to me! :-)\n. :+1:\n. Looks good to me! \n. :+1: \n. Hi, \n\n\u2013 name variable doesn't change anything, it's still bolt in top-left corner\n\nThis was fixed by Ross. \n\n\u2013 changing the path to admin seems not working properly\n\nI can't confirm this yet. For me it works as expected. When i change it to 'admin', i get an No route found for \"GET /bolt/\", as it should. Are you sure this doesn't work for you?\n. Looks good to me! \n. :+1: \n. Looks good to me! :-)\n. +1\n. Your fork has been forked. https://github.com/bolt/composer-wrapper\n. Opening again, because this was only the first step. \n. closing, because Eviweb merged in @tobias2k's changes. \nSee https://github.com/eviweb/composer-wrapper/pull/4\n. Fixed by #1769\n. hurry, hurry! Must merge!\n. Hi, i took the liberty of editing your post for readability. My initial guess would be that \nDocumentRoot /data/www/www.bolt.local\nshould be: \nDocumentRoot /data/www/www.bolt.local/16902\nand likewise: \n<Directory /data/www/www.bolt.local/>\nmight need to be: \n<Directory /data/www/www.bolt.local/16902>\n. Closing due to inactivity. If this is still an issue for you, feel free to re-open the issue. \n. What @versh23 says is correct. If this bothers you, you can use the Redirector extension to '301' the '/about/about-us' to '/about'.\n. Add listing_records: 10 if you want more than the default that's defined in config.yml. \n. Indeed! Closing! \n. Merging this in by @rarila's request, He's going to do some additional tweaks to this. \n. Looks good to me! Have you tested this on IE already? I seem to remember it was mainly IE that has trouble with \"accept\".. \n. Like i was afraid, messing with 'accept' is really fickle.. Chrome on OSX doesn't accept my uploads anymore in imagelist and filelist.\nUploading a .jpg to imagelist: \n\nUploading a .pdf to filelist: \n\nNote that image and file work fine. It's just imagelist and filelist that don't work. \n. Behaviour is the same on IE: image and file work. imagelist and filelist don't. \n\n. Another vote for ExtensionInterface. \n. Either give your editor a decent browser, or update to the latest 1.6.x. It should not be possible to input '0:00', because it's an HTML 5 <input type='time'>.\n\n. Ah, yes.. It seems that they don't recognize the type=\"time\". :-/ Will look into it. \n. This fix will be in the upcoming 1.6.12 release ;-)\n. Should we do the same for the global config.yml and config_local.yml?\n. Disregard Travis, acquire Merge.\n. How does one even do that? \"Disable Flock\". If they'd read up on it, Flock has nothing to do with security. \nI'm really puzzled here. To me, this feels like your host is trivially deciding to turn of integral features of PHP, and the users (i.e. you) are left with a broken set up. If I were you, i'd ask them to revert it, or else go somewhere else. \nTo answer your question: No, we can't fix this in Bolt. It would require us to rewrite major parts of the underlying Symfony framework. I hope your host can revert this. \n. #tumbleweed ;-)\n. Closing this one. I don't think this is something we should fix, but should be fixed by your provider. If you have new information, feel free to re-open it. \n. :+1: \n. Fixed by Rix!\n. :+1:\n. Could you paste the entire permissions.yml file here, so we can see what's going on here? \n. In that case, i'm closing the issue. If the problem shows itself again, feel free to re-open it. \n. Oh well. turns out that restarting nginx properly did the trick. Nothing to see here, please move along.\n. Looks good, as far as i can see! merging in! :-)\n. Duplicate of #693. ;-)\n. Manually merged in, in f6d3b7dcbe7edbb312e1b4afefe0a17b037611cf\n. I'm against changing this. However, we should be clearer in how it should be used. We (us, and extensions developers) should always work with \ndebug_error_level: -1\nstrict_variables: true\nThis also means that Pull requests need to be tested with these settings. \nHowever, I don't think we should set these as defaults, or remove the options entirely. The entry barrier for novice users will be higher, which is a bad thing. It will confuse people, and it will annoy them to the point that they'll move away to another CMS that isn't anal about trivialities like this. I think @tobias2k's example of xhtml strict is a good one.\n. Rarila: I don't think it's parts of the code for which it differs.. It's more about when.. \nWhen you or I are working on core or an extension, it should be set to \"strict\". When somebody downloads the zip from the site and starts tweaking templates for the first time, it should be \"lenient\". \n. BDFL says no. \n. Fixed by me, in 993dcf137c34814e3e53694f58419b724b371e44\n. Seems to WFM. Can you narrow down what's causing this? \nMy first guess would be to comment out all of the contenttypes except for one at a time. Or, perhaps throw a proper exception on linke 1691, to see the backtrace and determine where it's coming from.\n. Merging in, thank you! \n. Closed by #1802 \n. Looks good! Thank you, yet again! :-)\n. Ok this is issue is a little less straightforward than I hoped it would be. In the backend the <select> is created in twig, and it makes no distinction between a regular [array] and a {hash}. So, if i'd change that, all current Bolt sites using a select would break. \nI do have a workaround for you, though. Only slightly hackish. ;-)\nUse the field like in your example: \nblock:\n            type: select\n            values: { '1': 'Left', '2': 'Middle', '3': 'Right'}\nThen in your template, use :  \n{% for key, value in record.contenttype.fields.block.values if value == record.block %}\n    selected: {{ key }} / {{ value }}\n{% endfor %}\nThis will output \"selected: 2 / Middle\" if you've selected the \"Middle\" option. \n. Closing this one due to inactivity.. If this is still an issue, feel free to re-open it. \n. Thank you! ^^ \n. Ha, this is because the second one is a <button>, so we can ensure the request is POST, to prevent Cross-site scripting. :-D\n. Thanks. I'm going to add an additional tweak to make sure it doesn't exceed 'length', if the title is too long. \n. :+1: good catch.\n. I'm slightly in favor of leaving things as they are now, but If the concensus it that we change this, that'd be fine with me too.\n. Let's leave this as-is.  Closing this, but if you feel this is still an issue, feel free to re-open it. \n. Thank you!\n. Whoop!\n. :ribbon: indeed! Thanks!\n. :+1: Thanks! \n. Closed by #1819, #1816 \n. Thank you! :+1: \n. Aaaight. \n. Yes, this is a bug. We'll fix it. Thank you!\n. Yes, I am going to merge in this bugfix now! ^^\n. New screenshot: \n\n. Whoop! \n. Thanks! Someday we should really refactor this to it's own Class / file, though. :-)\n. Looks good to me. Thank you! :-)\n. Looking forward to it. Thank you in advance. :-)\n. Hi Petra, \nWait, what? I can't imagine why that would make a difference all of a sudden. I did some quick tests on a few locations, and reversing the order doesn't break it elsewhere. So, yes: Please make a PR for this! \n(not that i'm lazy or anything, but you did the hard work in finding the problem, so you should take credit for it) \n. Fixed by #1829 \n. Thank you! :+1: \n. Did some quick testing.. These two both work as expected: \n{% if record.filelist is not empty %} \nor\n{% if record.filelist %}\n. Hmm, indeed it seems that this doesn't work properly.. Will look into it! \n. Closed by 35c1de7.\n. This is a good idea, and should be pretty simple to add to the taxonomies itself. Adding them to the contenttyps with a different description per contenttype is a bit more tricky, though. We need to break the format in contenttypes: \ntaxonomies: [ categories, tags ]\nneeds to become: \ntaxonomies: \n    categories: \n        description: Lorum Ipsum..\n    tags:\n        description: Lorum Ipsum..\nSo, yeah, that'll give us some headaches to do properly. \nI'm leaning towards adding a single description to taxonomies for now. It's simple, and we can sneak that in for v2.0. \n. Cleanup! Fixed the first part of this. If after 2.0 this remains an issue, feel free to re-open it. :-)\n. I'm a bit confused. Is this something we still need to take care of? \n. @GDmac Good point. We should either check using a regex, of at least also check the length. :-)\n. ping @GawainLynch, @rossriley or @GDmac \nOk, since the three of you seem to know what this is about, please self-assign this to either one of you. :-) \n. Thanks for noticing! \n. Re-opening, because of a regression. now it doesn't work anymore to create a new record and save it for the first time. \n. These are working now!\n. Hi Lexislav, I thought we fixed this issue. It's because the composer version fetches the wrong version of Flysystem. We'll look into it, to solve it properly. \n. Fixed by @rossriley in #1837 \n. Great, thank you!! :-)\n. Yay! \n. I believe @rarila had an opinion on this, on IRC.. Pinging Rarila! :-)\n. Need to have less Yoda Conditions we must, yes.\n. Awesome! :ribbon: \n. This can't be done in Bolt 1.6, i'm afraid. See also #1420.\n. Closing issue to keep the list manageable. If this is an issue you'd like to discuss further, feel free to re-open it. \n. Closing issue to keep the list manageable. If this is an issue you'd like to discuss further, feel free to re-open it. \n. We're still working on ironing out the kinks with 2.0. In your case: Make sure the webserver is allowed to write to C:\\Moje\\WWW\\honzamikula/extensions.\n. I think it doesn't, because it's complaining about it. Try drwxrwxrwx to see it if makes a difference. \n. Yes, there's progress, but it turns out it's not as simple to fix as we'd hoped. See: #1929\nA simple fix might be this, though: 3a9d0f18e\n. This has been fixed recently in #1831. either apply the fix manually, or wait for Bolt 1.6.13 :-)\n\nUfff.\n\nUff indeed! ^_^ \n. Fuckin' A! \n. Merging in! :ribbon: \n. Sweet! :-)\n. I'm in favor of this. Is this here as a \"RFC\" or just a reminder that somebody should get around to doing this? :-)\n. This is fixed, right? \nClosing this, but if you feel this is still an issue, feel free to re-open it. \n. Closing this, but if you feel this is still an issue, feel free to re-open it. \n. Thanks! ^_^ \n. Merging in! Thanks! \n. I think this is something i added when I was developing, and accidentally found its way into github.. We should remove this! :-)\n. Closing, because fixed.\n. Thanks! :+1: \n. Ah, yes! readme button too!\n. Closing!\n. I'm working on this right now! \n. I chose to name them the same as in the global config.yml. I think we should keep them consistent. \n. Modal will not fit, I think. Perhaps later, but the current extensions website will look bad in a modal. \n. Which version are you using? This should be fixed already, so either do a git pull (for version 2), or wait a short while for bolt 1.6.13. \nOr, fix it manually, if you're so inclined: https://github.com/bolt/bolt/commit/35c1de7fd321e8c58dd63d6c9e8445d282646987\n. You're welcome! ^^\n. Fresh repo here: https://github.com/bolt/composer-install\n. Closed by #1890 \n. Closing thanks for looking into this! \n. Yes! I know what this should do! ^^ \n. > (don't appear on firefox)\nFirefox doesn't support input=\"time\" yet.\n. Thanks!\n. If you output errors to display, it will look like this: \n\nPerhaps we could add a error_reporting(0); somewhere as well?\n. A\u0312\u0306\u0305\u0314\u030b\u0365\u0310\u0351\u0350\u034ew\u030e\u034c\u0343\u0357\u0489\u0328\u0325\u034d\u031e\u035ae\u0306\u0338\u0334\u0362\u0333\u0359\u0347\u0329\u0316\u0318\u0325s\u030f\u033d\u0311\u0351\u030c\u030d\u0352\u0309\u0328\u034e\u0317\u032d\u0329o\u0346\u0310\u030c\u033d\u0343\u034c\u0369\u0310\u0343\u0315\u0359\u0329\u0320\u0348\u033c\u033a\u033c\u0331\u0354m\u0344\u0344\u0314\u0302\u030e\u0314\u0309\u033e\u035c\u035a\u032c\u0326\u0319\u035ae\u033d\u0352\u0337\u0321\u033b\u0356\u033c\u0317\u0331\n. You can do this in routing.yml, with a bit of tweaking. See this example: \ncontenttaxonomylink:\n    path:     /{contenttype}/{taxonomytype}/{slug}\n    defaults: { _controller: 'Bolt\\Controllers\\Frontend::taxonomy' }\n    requirements:\n        taxonomytype:   'Bolt\\Controllers\\Routing::getAnyTaxonomyTypeRequirement'\n        contenttype:    'Bolt\\Controllers\\Routing::getAnyContentTypeRequirement'\nDoing this you can mix a contenttype with a taxonomy. You cannot, however, add a variable number of taxonomies (like tags) to a URL, because the routing will have trouble picking up on that. \n. Right. just closing this issue then.. If something breaks again feel free to re-open it, or start a new issue. \n. Looking good, merging in! \n. Sweet!\n. Merging in! \n. Hah! \n. Amazeballs!\n. Thx!\n. Whoop whoop! \n. Whoop! \n. Thank you! ^_^\n. Whoo, lots of work done!\n. So, you manage to update it in the DB, but in the template on the same request, it still shows the old value? \n. Closing this, but if you feel this is still an issue, feel free to re-open it. \n. Great, thanks! \n. Looks good to me. Thank you! \n. Whoop!\n. And, thanks again! \n. Whoohoo! \n. :+1: \n. Also whoohoo\n. > for 2.1 speed optimisation round. \nI would like that. Just do a minor version with no features at all. Only bugfixes and optimization. \n\nMove compat-checks to backend. not needed for every pagehit.\n\nThe compat-checks are literally 2 or 3 microseconds. I dont think there'd be much benefit in this. \n. > we could look at Silex 2.0-dev \nAs soon as it's somewhat stable, yes. We should not use an unstable version for our system. I'm a bit saddened about the slow development of Silex 2, though. And the lack of updates from the developers does not help with that. For example, see: https://github.com/silexphp/Silex/issues/915\n. This will solve it for one them yes. I wonder if there's a way to fix this for every case at once. \n. :+1: \n. Rarila: Travis was fixed by gawain. Go ahead, and merge in! :-)\n. Composer? Who mentioned Composer? :-)\n. Merging in this bugfix! \n. Whoop! \n. Hmm, seems to work for me at the moment.. Sure it's broken? \n. > @bobdenotter if there was a reason for using this dirname construct instead of $paths['apppath'] \nProbably an old leftover from before. We should fix it. \n. Thanks, Jared! Looks good at first glance, i'll merge it in tomorrow! \n. > As I read it - and I've loaded enough coffee yet - it can't be good. On a path like this /A//B///C would fail.\nActually, I think it does work on paths like that.. That bit of code removes 'empty' atoms, right?\n\nregarding with the packages it requires\n\nOnly this one, i think? Or is it more: \n\"icecave/isolator\": \"~2\"\n. Is this issue resolved, or does it need further work. \n. Yes, thanks for the good work, all! ^_^\n. I'm going to merge this in now, but I can see us moving to a solution like Pathogen in the near future. Thanks!\n. Merging this in now, but we should also update the relevant sections in the docs. \n. Did some testing, i'm pretty sure it's fixed. @gwbonline and @mattiaslundback: Are you a version from git, or on the packaged beta? we'll release an updated package. \n. Aaaaa-ight!\n. Fixed by #2004 \n. Is this still an issue for you? Which version are you on exactly (from .zip or git clone)? \nI've tried to reproduce it, but wasn't able to. If this still happens, can you post some screenshots? \n. Will be fixed forthwith, post haste!\n. :+1: \n. Well, this is twofold. We need an export from PivotX to WXR format. And, we need an import from WXR into Bolt. \nBoth are available, but need field-testing and finetuning. We're working on it. \n. The importWXR extension works well, now. The exporter in PivotX has been upated too..\nClosing this, but if you feel this is still an issue, feel free to re-open it. \n. Cool, will check this out later! \n. I think i'd like to change this behaviour slightly. Sorting them is a really, really minor overhead, so for simplicity's sake we should just do this all the time. It will mean one less setting, and slightly less code. \n. Merging in! \n. Excellent work, Rix!\n. Should be easy enough to fix, but let's wait until #1947 has landed, to prevent merge problems. \n. Merging in! \n. I was pretty sure I fixed this a short while ago. Still see the error though.. Will re-fix! :-)\n. Probably got un-fixed when doing the PSR-4 move, then. ^_^ \n. Nope. Extensions should be built to be \"silent\" when not applicable.\nThis would give way to a LOT more complexity? would the extensions be loaded in the backend? What if it's defined as a contenttype that gets fetched on {% setcontent %} in a sidebar, or as a 'related' item. \nThe benefits of this will not outweigh the added complexity.\n. Whoop! \n. Awesome! Merging in!\n. :+1: \n. Thanks! \n. Sayanora! \n. :+1: \n. This was fixed shortly after we packaged the beta.zip. There will be an updated .zip shortly, which will contain the fix. \n. Fresh \"beta 2\" tar and zip here: http://bolt.cm/distribution/\n. Bonus points for branch name! :-)\n. \\0/\n. Merging in! \n. Thanks! \n. Merging in! \n. Thanks! :-)\n. Sweet! \n. Whoop! \n. This is great! Thank you!\n. Sounds like a good idea. \n. Bolt already does this. Closing this, but if you feel this is still an issue, feel free to re-open it. \n. Great, as usual!\n. Some clarification: \n\n. 2.0 is out. \n. Looking good! Thanks!\n. Thanks!\n. @mattiaslundback The fix is detailed here: https://github.com/bolt/bolt/commit/2fbe17ef9c464a86c2a5ccfcd300a7a51c81c973\n. Whoop! Should be at least two or three fixed issues in Insight! :-)\n. This has been fixed in the meantime. \n\n. Earth shattering! ^^\n. Fixed in #2009\n. How about icon_one and icon_multiple? The latter is also for \"two\", and i wouldn't call that \"many\" just yet. :-)\n. Let's just make a choice, so we can fix this. icon_one and icon_many it will be, as rarila suggested. \n. Fixed in #2012\n. Thanks, Rix! \n. Whoop! \n. Merging in! \n. ^^\n. \\o/\n. For a moment, I thought the same applied here, as it did here: https://github.com/ircmaxell/RandomLib/pull/16 \nBut, that's not true. We can (and should) fix this. \n. Fixed by Rarila!\n. > why not \n@versh23 Then we'd miss out on the catch-all for 'desc' as well as 'DESC'. \n@jackmakiyama Thanks!\n. @versh23 \nIf we use this: \n$order = $this->app['config']->get('general/taxonomy_sort', 'ASC');\nIt's a possible attack vector for people to perhaps inject SQL, if they manage to set general/taxonomy_sort to desc; DROP TABLE bolt_users, so we need to restrict it thoroughly. \n. Sweet! Thank you. \n. Merging in! \n. Sweet! :-)\n. Excellent! :shipit:\n. > Also found excerpt an truncate, without having checked if it does multibyte and handles entities correct as the one above seems to do.\nThat looks interesting. Especially for search results.. We should look into that for 2.1 ;-)\nThis is the cake 2.0 version of it: http://book.cakephp.org/2.0/en/core-libraries/helpers/text.html#TextHelper::excerpt\n. Looks good to me, merging in! \n. Whoohoo! Merging in. \n. Is this actionable? If so, please self-assign, if you'd like to work on it. \n. I think I can merge this in. Either it will work, or stuff will go up in flames!\n. I think it worked \\o/\n. Sweet!\n. :+1:\n. Thanks! :-)\n. Whoop!\n. Sweet! \n. > autoincrement id is reset after item delete (seen with sqlite)\nCan you expand on this? \n. Is any of this actionable right now? If not, we should close this. (and/or open issues for a single problem)\n. Closing for now. We'll revisit this later, if it pops up again.\n. Is this still an issue? We've fixed a bunch of windows-related quirks in the past few weeks. \n. Ugh. Why would it do that? We will investigate!\n. Looking at the code that causes it: \n``` php\n        case 'eval':\n            return eval(current($arguments));\n\n```\nO_o\n. This \"Isolator\" thing is weird: \nhttps://github.com/IcecaveStudios/isolator\nIt's only used in one place, though, in pathogen: https://github.com/eloquent/pathogen/blob/develop/src/FileSystem/Factory/AbstractFileSystemPathFactory.php\nI wonder how hard it would be to factor it out. Silly Isolator. \n. Sorry to butt in here, all of a sudden.. I think I'm pretty sure the issue is not with @gwbonline's bolt install, but with the stupid Isolator. We're going to refactor that one out, and then it ought to work again. \n. @vimishor Unless you have the unholy Ioncube extension in your PHP install, you probably can't reproduce. \nReally, we need to factor out Isolator, so this becomes a problem of the past. ;-)\n. > If I look in http://bolt.cm/distribution/ I see \"2.0.0-beta\" and \"2.0.0-beta2\", so I assumed that \"2.0.0-beta\" = \"beta 1\". Is that correct ?\nYes. :-)\n. @gwbonline Hi, could you try the \"2.0.0 beta2-pl1\" version, see if it works correctly for you?  http://bolt.cm/distribution/ \nIf it does, we'll release a beta 3. :-)\n. @GawainLynch: judging by the screenshot, he did. Screenshot says \"2.0.0 beta2-pl1\". \nI'm guessing some files did not overwrite correctly, perhaps.. boggles\n. @gwbonline Don't feel bad about that in the least bit. Because you bumped into issues, and were willing to describe them and answer our questions, we've managed to fix two particularly tricky bugs, that would've popped up eventually. :-)\n. :+1: \n. Thank you! This is very nice! \n\nIf I add extensions:config: [ developer ] in test/_data/permissions.yml the error is fixed, but I don't know exactly why is missing that from config. It is intended ? Please advice.\n\nNo, this is an omission. I will fix this straight away. Thanks again! \n. Ah, yes! I will now merge in this \"bugfix\". ;-)\n. > The sorting in Backend of 2.0 beta 2 does not follow sort in contenttypes.yml \nCan you post the entire contenttype, to see if we can reproduce it?\n. @rompcik Thanks! I've just pushed a change that fixes it. There will be a beta 3 with this fix very soon! \n. Really? We don't even ship the composer.json with the distribution version.\n. Seems like a :-1: then! \n. We might want to revisit this later, but for now we will not add composer.lock to the repo. \n. Ok, bundling it is, then! \n(with perhaps an option to override the setting, and use google fonts, alternatively.)\n. > or just use open sans for headings and body copy gets default sans-serif like @GDmac mentioned \nWe already do that! There are a few stray buttons in Source Sans left, but we'll fix those\n. > Uhm, whether you fetch the font from Google or from whatever environment Bolt is on, it's going to be one request either way, and Google probably responds faster. \nActually, the Googlefonts version makes 9 requests (normal, semibold and italic, times \"latin\", \"latin-ext\" and \"vietnamese\"). Our current setup does only 3. \n. I have to look over the commit log, when I am back home later tonight. Somewhere in there vimishor explained what was happening.\n. More info here: https://github.com/bolt/bolt/commit/6c690eb7945cab5b58#commitcomment-8382000\n. :+1: \n. DANGER!! DANGER!!\n\n. > while there is no directory bolt within the bolt directory. \nThis is correct. There is no folder Bolt. It's a route in the application. (just like a fictional \"/page/about\" on the site doesn't mean there's an actual folder called \"about\")\n\nwhen I enter http://localhost/bolt/index.php/bolt/users/edit/ I get the following result:\n\nDoes this work: http://localhost/bolt/bolt/users/edit/ ?\nIf it does not, you should extra double check if mod_rewrite is working correctly :-)\n. Hmm, ok.. So the current situation is that, AllowOverride None is set fot the folder Bolt resides in, making Bolt not use the .htaccess? \nI don't think there's a 'security' issue in and of itself, by having AllowOverride All in the ht-conf. In fact, I'm pretty sure that it'll be less secure, because our .htaccess makes sure files like config.yml can't be retrieved. If you disable .htaccess, you will not have this benefit. \n. The department of redundancy department is inclined to agree with @gdmac, who is also correct about it being a bit too long. And redundant. \nMy suggestion: \nWelcome to the #boltcms community IRC channel! | Site: http://bolt.cm/ | Documentation: \nhttp://docs.bolt.cm/ | Git: https://github.com/bolt/bolt | Latest news: Bolt 2 beta 2 is here!\n. Glad you figured this out! Hopefully it'll be helpful if somebody bumps into the same problem. :-)\n. Methinks it ought to be in the already present \"actions for showcases\". 'Filter by status' and 'filter by category' could be useful. The others.. date range? \"75 results\", meh :-)\nAlso, how would it handle it you have no behaves_like: categories taxonomy? Or if you have two?\n. This has been brought up a few times. Going to leave this one open, as it has nice mockups. \nAlso, the filters should be in the sidebar. Not at the top. \n. By the way, what are the odds? 1023 * 2 = 2046.. Did you do this on purpose? ;-)\n. All good, then? Merging in! :train: \n. :+1:\n. Closing this. This is a micro-optimisation that will only cause trouble in the long run. \n. @DevonshireCow Really? You're no longer interested in Bolt, because we don't implement every single suggestion made by people? That sounds mature. \nRegardless, I wish you the best of luck finding a half-decent Open Source CMS that caters to your every whim, and somehow has managed to not turn into an enormous inconsistent mess because of that. waves\n. I'll take this one on.\n. Sure! I wasn't going to jump on this right away. :-)\n. I'd be more worried how it would respond if either of the sidebars are taller than the screen. How would you reach the bottom options, if it's fixed? \nOr, should it behave like this? http://www.directlyrics.com/code/lockfixed/demo.html\n. Closing this for spring cleaning. \n. Closing this as a duplicate of #574 \n. poof\n. Sweet!\n. Marking as \"wontfix\" \n. Thank you! ^_^\n. Thanks, Rix!\n. Whoop! \n. I packaged the bolt-2.0.0-beta2-pl1.tar.gz today, so it's relatively new. I just removed the old ones to prevent confusion (hopefully) :-) \n. I often add a config_local.yml file, that has the (live) DB connection credentials, and a few other things like debug: false. There's no file-logging yet. Might add that later, when we move the home-baked logging to Monolog. See #693\n. Sweet! :-)\n. Thanks! ;-) \n. Looks good! :ship: \n. There's still something wrong with this.. \nFor example, if i go to /bolt/file/edit/theme/base-2014/css/app.css, I see: \n\nI would expect to see: \"Path: theme / base-2014 / css\", like on bolt/files/theme/base-2014/css/ :\n\nSecondly, when I go here: /bolt/file/edit/theme/base-2014/index.twig, I don't see a path at all: \n\n. Looks good to me! Merging in! \n. Merging in! \n. Merging in! \n. Before the discussion got sidetracked to be about ORM, it was about the labeling of the \"taxonomy tab\". I'm going to push a change that corrects this. After 2.0 we'll discuss whether or not to shift towards ORM. \n. I would like to once again spam two of my favorite articles. ;-) \n- http://seriouspony.com/blog/2013/7/24/your-app-makes-me-fat\n- https://www.evernote.com/shard/s1/sh/b7492613-2e1d-4d0a-b3a1-5de9f6426ec9/7960dc9a134d360e32cbee88161cb5c4\n. This file needs to be updated: https://github.com/bolt/bolt/blob/master/app/resources/translations/nl_NL/messages.nl_NL.yml\nI've added some more, but it's not complete yet. If you want to help, you're more than welcome. ;-) \nYou can either edit them from Bolt's backend (\"Vertalingen > Meldingen\") or editing the file app/resources/translations/nl_NL/messages.nl_NL.yml\n. @GawainLynch In dutch it really should be \"Extra's\". Silly dutch. ;-)\n. I will merge these in manually! Thank you! \n. I wouldn't consider this blocking. You only use \"prefill\" to quickly get some dummy data, not in production. \nAlso, I'm not sure how to magically transform a regular expression to check a pattern onto programming logic to create a string that conforms to that pattern. \nie. checking if a string conforms to ^[^@]+@[^@]+\\.[^@]+$ is easy. Now try writing a function that takes any valid regex, and produces a string that matches. \n. But, how will that help? We have a field, and we can check if the input corresponds to the pattern. Which is either true or false. If it's false, then what? \n. Closing this for spring cleaning. \n. As far as i can tell, this patch makes no difference. \n. Thanks!\n. Sweet! :-)\n. good catch!\n. Closed by #2095 \n. Rarila, If you have pressing issues that you feel should be fixed for 2.0, please add them as issues, and tag them as \"Blocking release\". Then we'll have them on a list to cross off. \nThere is always work to be done. We're not exactly \"release early, release often\", but if we keep tweaking until it's perfect, we'll never release, as @GawainLynch points out. :-)\n. \n. Good catch.. I (naively) assumed that we were good, based on this: http://caniuse.com/#feat=woff and \nhttp://css-tricks.com/snippets/css/using-font-face/\n\nOr even just WOFF.\n\n(although that is woff, not woff2). \nI was initially reluctant to add all variants, to keep filesize down. Shouldn't woff(1) be \"good enough\"?\n. whoops! did not mean to close it!\n. > Yeah woff alone is ok as long as you are OK with no ie8, opera mini or android >4.3 support.\nBecause these users will fall back to a \"regular\" sans-serif font, I think that's good enough. If you make is just woff /woff2 support, that'd be great! :-)\n. Cool! It's bedtime on this side of the big pond, but I'm looking forward to merging it in tomorrow. :-)\n. > I don't know how you would want to handle this so. woff2 isn't set in the latest Apache mime.types (2.4 or 2.5)\nI did some quick monkey-testing, and I didn't notice any problems. Don't modern browsers just silently accept it, even though it's not served with the correct mime-type?\n. Hmm, there's a small regression here, somewhere. The italics aren't really cursive, but faux-italics. See screenshot: \n\nThis is what it should look like. Note the 'a' and 'g'.\n\n. Heh, that does not make it any better. That would mean any <em> or <i> gets to be Source Sans, even if it's not in a header of any sort. :-)\nI think I know how to fix it, though. I'm manually going to merge in your patch (can't merge automatically because of a conflict in the .css files) and then I'll immediately commit the fix. Then we can check if if works correctly, and otherwise fix it. Thanks!\n. @cdowdy Exactly. Check how it is currently in 675d6a9,  I think it works OK now. \n. NP! Glad it's working smoothly now. :-)\n. Whoop!\n. Nope, this is not correct. \nI will make a new PR in a few minutes, hopefully you can check it out, if it works for you. :-)\n. Nothing in Bolt requires flash. If something asked to install flash, could it be a banner ad, embedded movie, or some script pulled in from a remote source?\nPerhaps you have one of those \"copy to clipboard\"-scripts? They tend to require flash in order to function cross platform. \n. Thanks! :-)\n. @Rarila is that a question? :-) I'm not home right now, but it looks good to me, together with gdmac's other pr. I will be back home later tonight.\n. Moved #2084 to \"Closed\" \n. Thank you! \n. Danger! danger! \n\n. Let's not forget that the same applies to CSS loading, and RequireJS does not support CSS.. IMHO that would make RequireJS less than ideal. We should get one solution that will fix this for both JS and CSS\n. Pinging @rixbeck : Could you check if this works for you? \n. Merging in! :-)\n. I believe it was you who wrote that, Ross ;-) \n. Regardless, we should factor that out, sooner or later. But not very soon. ;-) \n. I think our primary target is to make them work correctly, in the most pragmatic way. We should do refactorings (like localising it in the translation files) after 2.0. I cant oversee the implications of this approach fully, but at first glance it feels like we'd be doing refactorings, and not merely bugfixing. \n. Closing! Should be resolved now. (if not, we'll open a new, more sepcific issue)\n. @mattiaslundback There's a fix by @GawainLynch that might not necessarily fix it, but it might give more info as to what's going on: #2119\nI'll package a new release tomorrow morning, and hopefully you can check it out. \n. Looks good at first glance! :ship:\n. Merging in! :shipit: \n. :+1: \n. Haven't checked the pr yet, but I just wanted to say hi. Hi Richard!\n. Thanks! :ship:\n. Thanks, made the same change in the v2.0 extension: https://github.com/bolt/Sitemap \n. Closing! Should be fixed now. (if not, we'll open a new, more sepcific issue)\n. Neat!\n. Merging in! :-)\n. :-D\n. Should go hand in hand with #691\n. whistles inconspicuously\n. Topkek! :top: \n. I see! We'll fix this.. \n. The templates fields are defined in app/view/twig/editcontent/fields/. \"_file.twig\" is missing the 'select from server', but \"_image.twig\" does have it. There is where i would start looking. \n. Silly DBAL migration! :-)\n. yes! :ship: \n. Awesome. This will make @GDmac happy. :-)\n. :ship: \n. Whooop! \n. Is this still an issue? \n. Basically, they are sorted by 'id', which is the best we can do with our current database-model without actually hydrating them.\nWhen fetching them, sure we can sort them. :-)\nSee the screenshots. Also note that it takes quite a bit less queries this way, as an added benefit! \nBefore: \n\nAfter (might seem random, but actually sorted by -datepublish)\n\n. Merging in for now.. Still have tto check if it can be deleted altogether.\n. Nice! :-)\n. DANGER ZONE!\n. :+1: for viewless: true, but i could live with template: null too. \n. Ok, we will make it viewless: true \n\n. Awesomeballs, this is.\n. Schweet!\n. We fixed this for the 2.0 branch.. Not sure if backporting to 1.6 is feasible, because it was a lot of work altogether. \n. > Question is, why do we insert after the last <script> tag instead of just inserting before </head>\nBecause if somebody put their jquery in the footer, as some people recommend, all will break if we do that. \n. Thx!\n. Nope. Datepublish should reset after an automatic depublish. \n. Le sigh. ;-)\n. Whoop! \n. Whoop! \n. Merging in! \n. > also check that datechanged <= dateDEpublish\nThat should be \"also check that datechanged < dateDEpublish\". Otherwise it might trigger multiple times in the same second. Because if datedepublish is now, it triggers, and datechanged is also set to now. Having a < will prevent this. \nAlso, less discussing, more bugfixing and working towards release. Please do it as you suggested, because that'll work fine I think. ;-)\n. Closed by #2162\n. Thanks! \n. @rossriley Is this something you could take a look at? I'm a bit stumped as to how it works. \n(some more commenting in bolt-extend.js might also be useful, hint, hint. ;-) )\n. That's basically it. just a copy of it.. Like gawain says though, maybe it should do a check to prevent overwriting a theme. This should be done in either case, both when just installing, and when clicking the button later. \n. gentle bump \n. Fixed in #2248 \n. I agree, but wouldn't datechanged make more sense? That's how the dashboard sorts too. \n. Grazi! \n. Whooop!\n. Whoooooop!\n. Oh, i get a conflict.. Can you do a merge upstream? If not, i'll merge manually\n. Ok, the solution is to set the timezone correctly in config.yml. In my case: timezone: \"Europe/Amsterdam\".\n. This should be documented, in the bolt/bolt-docs repository ;-) \n. Yes, they're all documented here: https://docs.bolt.cm/v20/templatetags :-)\n. So, you just merged it in yourself? Please write some documentation for it. \n. Is this issue resolved now?\n. Is this still an issue? And if so, is it actionable? \n. That looks like there's an error there.. What does the very bottom part of the HTML-source on that page say? \nOtherwise there might be a clue in the errorlog on the server. \n. :+1:\n. Closed by #2199 \n. Schweet. :-)\n. Whoooop! \n. :+1: on a simple confirmation. \nbig fat :-1: on \"sweetalert\"\n. I know @GawainLynch was only kidding on the sweetalert thing, but i'd like to be clear that we should stick to fixing stuff at the moment. ;-)\n. :+1: \n. In most cases \"set\" is what you want.  Users don't want to see five notices.. If something is persistant, it'll pop up again. \n. Yes, but in that one place you do it deliberately, so that's fine. However, should we switch them all from set to add, it'll cause a bunch of issues, i'm sure.\n. Mmm, :beer: \n. Thank you. That was a bit sloppy of me. :-)\n. Muchos gracias. \n. Ugh, can't merge automatically... Can you do a merge upstream on your end? :-)\n. I see what's happening. Mainly because i suck at regular expressions. I'll see how we can fix this. Thanks! \n. Fixed on the docs. I had to temporarily disable the yellow highlighting, though. \n. @gwbonline Post screenshots with arrows, so we can see what you mean. Note that \"Pages\" and \"Showcases\" is not translated by default, because they are content. ;-)\n. Should be fixed with @rarila's recent work. \n\n. I'm having a hard time pinning down where this goes wrong.. Haven't forgotten about it, though. :-) \n. Sweet! \n. Hi, you can contact me at bob@bolt.cm. Thanks.\n. Closing this one. One issue has been fixed, one couldn't be reproduced, and the third was \"Not a bug, but a feature\". \n. Whoop, whoop! \n. @rarila I made some tweaks, so bolt doesn't Try to translate actual content. I think if somebody sets a custom contenttype, that bolt shouldn't attempt to translate it. Right?\n. Whoop! \n. Thanks, Steven! \n. Works for me..  What are you trying to do? What exactly is broken?\n\n. Ok, is the de_DE locale installed on your system? Try locale -a on the command line, and see it it's listed. \n. in your code you said:  {{ record.date|localedatetime(\"%e. %B %Y\") }}.. You can edit that 'date' field to say december, right? \n. @blockmurder This will hopefully fix your issue: #2219 / 54c68d313a6\n. Ping @blockmurder \n. Only one way to find out. ;-)\nI set it up for a client recently like this: https://github.com/europeana/Europeana-Professional/blob/master/app/config/permissions.yml \n. This is fixed in the next update!\n. Fixed by 6d0ba8b9242fd8dc84f37e326e5eae9dc3d134a6\n. Can reproduce! Will fix! :-)\n. The tagging strategy is mainly \"i'm a lazy bum\". I just tagged a release, and I'll try to get in the habit of doing this, whenever we release a new beta version as well.\nhttps://github.com/bolt/bolt/releases/tag/v2.0.0-beta4pl3\n. In this case {{ link }} is probably not set. record.taxonomy.categories is an array which has both the links and the names, so I guess it will work if you update the {% for %}.\n{% if record.taxonomy is defined %}\n   {% for link, category in record.taxonomy.categories %}\n      <a href=\"{{ link }}\">{{ category }}</a>{% if not loop.last %}, {% endif %}\n   {% endfor %}  \n{% endif %}\nDid you find this example somewhere? If so, we should update it there as well. ;-)\n. Closing to keep the list manageable.. Feel free to re-open if you feel this is a bug. \n. Sweet!\n. Is this still an issue? And if so, is it actionable? \n. Looks good at first glance.. :-)\n. Right after 2.0 final is released, we'll switch to using SemVer, and we'll also start using some sort of Git flow. Then we'll make sure that 'master' will always be in a deployable state. Only then it will make sense to do this change. \nSo, i'm going to close it for now. Not because we don't want to, but because it's a bit too early to do so. :-)\n. Nothing that can be done about that. I suggest using a real editor to edit the files, like Sublime, Atom or Notepad++ :-)\n. Whoop! Thx\n. You can use a tool like phpmyadmin, adminer or sequelpro for this. :-)\n. Is this still an issue? And if so, is it actionable? \n. So, just remove it? Ok..\n. Fixed in the extension. https://github.com/bolt/GoogleAnalytics/commit/ed62b081e174a6655d26f0a08f4ff505b3ddf6fa\n. Does everything else on /admin work as expected? \n. Let me guess? Using PHP's built in server? There's a known bug in it, that would cause this. \n. Glad it works. Closing the issue now. :-)\n. Thanks! pew pew pew :gun: \n. This has been fixed. \n. You can't do this in {% setcontent %}, but you can skip the first items in your {% for %} loop. see here: http://twig.sensiolabs.org/doc/tags/for.html\nAlso, the issue tracker is meant for bugs. Not user questions. Could you post these things to stackoverflow in the future? :-)\nhttp://stackoverflow.com/questions/tagged/bolt-cms\n. Looking into this.. The 'isSafe()' is something else. It marks your twig functions safe to use inside user-supplied content (i.e. to allow tags in an HTML area in a page).\nIn BaseExtension, the 'options' parameter is passed on to the new \\Twig_SimpleFunction(), so i'm not sure why it doesn't work correctly. This workaround should work though: \n$html = $this->app['render']->render('@bandsintown/bandsintown.twig', array('events' => $events));\nreturn new \\Twig_Markup($html);\n. I've been thinking about this for a while as well.. It's one thing to replace the maps, but does OpenStreetMap also have a good reverse lookup API now? \n. Is this still an issue? And if so, is it actionable? \n. That's a chapter taxonomy, not a relation. You can add it to the URL, like this: https://github.com/bolt/bolt/blob/master/app/config/routing.yml.dist#L96\n. Thanks! :-)\n. Whoo!\n. bump \nIs someone going to work on this, on should we close it for now? \n. some more info.. This is what the ajaxy request returns: \n\nSo, like the two of you already figured out, it indeed does return a date only, without the \"00:00:00\" \n. Wouldn't the simplest solution (for now at least) be to simple make the 'date' fields use '2014-11-27 00:00:00' in the ajaxy return? \n. > The eight ball points to this regex https://github.com/bolt/bolt/blob/master/app/view/js/src/obj-datetime.js#L50\nDing! Ding! Ding! The prize goes to @GDmac \n. I left it 'open' on purpose for that reason. My fix will not break anything, but we might want to consider additional work on this item. For me, it works now, though. \n. Closed by @rarila in #2251.\n. Thanks! :-)\n. Awesome! \n. Is this still an issue? And if so, is it actionable? \n. Sweet! I am on the road right now, can't wait to try it! :-)\n. /me takes off trucker hat, tests PR..\n. Works for me! \n. Pinging @rarila \n. Closing.\n. I'm having some trouble reproducing this yet. I've added a 'tools_groups' contenttype, and added a relation to 'pages':\nrelations:\n        tools_groups:\n            multiple: true\n            order: title\n            label: \"Select a group of tools\"\nNow, i've added some relationships both to and from this page, which looks like: \n\nWhen I go to this page in the frontend, and add {{ dump(record) }}, it shows this:\n\nFetching them using {{ dump(record.related()) }} shows this: \n\nAh, there are some records missing there!! Now i see! I will dig in, see if i can fix it! :-)\n. Well, that's a stupid bug on my part. Please check if this patch fixes it. Note that you can always get one relation type, if you want, using this: record.related('tools_groups')\n. I'm trying to reproduce what's going on here, but haven't been able to do so yet. \n\nIn this case, single element in relatedrecords array should be an object with relation property equal to null. I'm trying to get tools objects in the next step.\n\nRelations work both ways. If a page is related to  a tools_group, it will also show up as related the other way around. In your example, try dumping both: \n{% set relatedrecords = page.related() %}\n{{ dump(relatedrecords) }}\n{{ dump(page.relation) }}\nDoes it show up in page.relation? Also note that page.related() will only show records that have status = published.\n. Maybe i'm dumb, but I just don't see what the problem is. :-(\nCan you narrow it down to \"Here i see 'this', and i expect 'this'\" ? Making all these screenshots must cost you a lot of time, but i simply can't oversee it all, and have no idea what's wrong. \n. > change the parameter value hydrate to true solved the problem.\nAha! Now I get it! Thanks for finding that, now it all makes sense. ^_^\n. Closed by @plodyga in #2267 \n. Quick testing: \n\nuse default only for new entries - not for existing entries\n\n:+1: \n\nnot setting a default, should not default to today (you can click calendar anyway)\n\nFor date this is true. datetime still defaults to 'now' for me. \n\nFill in time input field, when fieldtype has changed from date to datetime\n\n:+1:\n. Ping @GDmac Is this done? ready for testing and merging? \n. Merging in! :-)\n. That was quick! :beers: \n. Merging in! \n. Yes, yes it should absolutely.. Playing \"hunt and peck\" to pick today is horrible. \n. I politely disagree. I'm still not a fan of this, though. \n. Geez, all right. But if it turns out to be annoying, I might reverse it after all. ;-)\n. Travis is complaining about this, but that's probably because of the composer outage this afternoon. Will take a better look at this later! Thx! \n. Should we just leave this open then, so you can work on it some more? :-)\n. Whoop! Thx!\n. Merging in! \n. Thx! \n. Whoops, will fix. \n. :+1: \n. Heh!\n. Aaight! \n. Ideally, it would indeed output the correct dimensions in the HTML, but in practice it's not an issue, right? Modern browsers will display it correctly. \nFixing this properly would require the image to be processed twice on the server, which might cause a performance penalty. \nI'm going to leave this open for now, because ideally we should fix this. \nYou are right about the docs too. I will fix that. \n. Additional comment: \n\nIt would actually be nice to pass the image array instead of filename. Or both.\n\nYes, agreed. \n. I was just testing it, and for me, this works as expected. I get to see the image just fine.\n{{ record.image|showimage(800, 600) }}\nDoes it really not work on your setup?\n. thanks again..\n\nBy the way, in a single image record context, maybe it could be better to always return an array of image information so they can be accessed an used without any other function calls like imageinfo?\n\nYou are not the first to suggest this. For an upcoming release we might refactor the way images work, and do this, amongst other things.\n. Not at the moment, i'm afraid. The way our current pager works, really doesn't allow us to fix this in a proper way. Perhaps someday. \n. Woooot! Merging in!\n. Ah, yes. It was right before beertime. :-)\n. Thank you, yet again! :-)\n. Nice!\n. Do you mean this? {% setcontent records = \"pages\" where { 'tag': 'movies' } %}\n. @rossriley Oh, ha! I didn't even see your reply. :-)\nRight, in the backend you can't filter on taxonomies yet. \n. Duplicate of #2046 \n. Merging in! \n. Seems to work for me. Can you try curl -I https://extensions.bolt.cm on the command line? Obviously from the same machine as your Bolt install is on. \n. Your interpretation of \"works fine\" is a bit wonky. ;-)\nIt gives this message, which is not fine. \ncurl -I https://extensions.bolt.cm\ncurl: (60) SSL certificate problem, verify that the CA cert is OK. Details:\nerror:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed\nMore details here: http://curl.haxx.se/docs/sslcerts.html\nLooking into it. \n. A quick workaround (for now) is to change these two lines in src/Controllers/Extend.php:\n$app['extend.site'] = 'http://extensions.bolt.cm/';\n        $app['extend.repo'] = 'http://extensions.bolt.cm/list.json';\n. Tried it quickly, but on this server it still gives the same notice: \ncurl: (60) SSL certificate problem, verify that the CA cert is OK. Details:\nerror:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed\nMore details here: http://curl.haxx.se/docs/sslcerts.html\n. It works on a couple of servers for me as well, just this one where it doesn't. Time is OK: Sun Dec  7 10:48:50 CET 2014\n. It's an old-ish CentOS 5.0 machine. \n\ncould be that it's the 1024 vs 2048 bit key length support\n\nHow would one tell? Asking for a friend. \n. Gentle bump. @GawainLynch @rossriley \n. More bumps for @GawainLynch @rossriley\n. :ship: \n. Thx!\n. \n. :+1: \n. (mentally insert beaker.gif)\n. Good catch, thank you!\n. @rossriley Is this function used anywhere? If it is, I can't find it. \n. Closing this, but if you feel this is still an issue, feel free to re-open it. \n. Yes, this is because of a change you made earlier. Namely that after depublication, the datedepublish is not reset. \n. @GDmac: Ah, my apologies! I misunderstood.. A friendly notice is fine with me! \n\nHmm, shouldn't it be reset if depublished? Database is hit then anyway.\n\n@rarila: No, the check for depublishing takes this into account. That was part of the change mentioned before. \n. Thanks! I'm still in doubt whether we should merge this now, so close before \"the big 2.0\", or do it right after. \n. Sheeesh, did I really commit that? bows head in shame\n. Herp Derp!\n. :+1:\n. I had to merge this manually, because of a conflict caused by #2296.\n. Whoooop!\n. I have an RSS importer in the works. Should be released shortly. @HorlogeSkynet Do you have a link to the RSS feed weebly generates? \n. The button should be in the \"users\" screen, together with the Roles overview screen. \n. My line of reasoning was that it was rarely used.. For example, we have only 2 or 3 bolt sites that have custom permissions. Do you use it a lot? \nPinging some people for more opinions: @rarila, @rossriley, @GawainLynch, @GDmac, @rixbeck \n. > how about rename the menu item itself to users & permissions \nI think I like this suggestion. \n. Closing this, but if you feel this is still an issue, feel free to re-open it. \n. Sweet! Thank you!\n. I'm guessing the CKeditor just doesn't get initialized. I don't have a Lumia device, so it's hard to test for me.. Does the demo on ckeditor.com work on your phone? \n. If the demo at CKeditor doesn't work on your phone either, I'm afraid there's not much we can do about that. Are the letters really that small? Take a look at the bottom of this page for comparison on iphone. It should look similar: \nhttps://docs.bolt.cm/screenshots\n. Closing this, but if you feel this is still an issue, feel free to re-open it. \n. This is quite broad i think. How do you want to handle this? I feel like it should be broken down into more manageable issues. Or, alternatively, how do you see this is \"fixed\" in a proper way?\n. I'm not sure what the question is.. This is something you can just configure in your contenttype.yml, right? \n. Closing this, then. :-)\n. > symfony 2.6 goes stable\nIsn't the latest stable 2.6.1 already? http://symfony.com/blog/symfony-2-6-1-released\n. Bump @rossriley \n. I'm not sure if this fix is correct.. I think the response should be the same, regardless of when you're attempting to request a non-existing taxonomy, versus an empty one. Additionally, what should it do for tags, when there's no conceptual difference between one that doesn't exist and one that has no results.. \nTo be specific, I think these should all give the same result:\n/tag/foo (an empty, but valid tag)\n/tag/jhgfsdfer74ggerge (an empty, nonsensical tag)\n/category/movies (an existing but empty category)\n/category/hfghs45y645 (a non-existing category)\n. > Would you consider the PR if I add some code to deal with this difference?\nYes, that'd be great.\n. Looks good to me.. I'm not too keen on the change from$taxonomyslug to $taxonomy_slug, though.. Is there a specific reason you made this change? \n. > Do you adhere to a particular standard on variable naming?\nWe use PSR-1 and PSR-2, but neither enforces anything about variable names. However, this close to the big 2.0 i'd like to keep changes minimal, so i'd like to leave them as is, now. \nAfter 2.0, we can discuss refactoring variable names. ;-)\n. SInce I'm working on it now, I'll merge in your PR, and manually revert these variable names. Thanks for the fix! \n. @rarila We only have camelCase for functions and methods. We have no coding standard for $variables at the moment. \n. for $vars? surely not. \n. Since the javascript files aren't generated by the system (unlike the HTML for the pages), it's alwasy a bit more tricky to use translations in these. We'll fix this! But, it won't be for 2.0, though. Slightly after that. \n. Great! Closing this issue, then. :-)\n. Is there a significance to the 4 w's in $wwww, or just a silly variable name?\n. :beers: \n. I think this should be safe, and would alleviate some annoyance for some people.. I'll see if I can break it, and otherwise, we might as well merge this in.\n. I didn't notice any oddities with this. Merging in. \n. Broken install, was fine after update. Nothing to see here.. \n. Amazeballs! \n. It seems we need to fix our tests for this as well: https://travis-ci.org/bolt/bolt/jobs/44181391 \n. Related to this, we need to check all occurrences of \"upload file\" functionality. From the top of my head: \n- Image field\n- File field\n- Image list field\n- File list field \n- Stack (in the sidebar)\n- \"uploaded files\" screen.\n. Ugh, we really should not change any of this, imho. This can only lead to more trouble. \n\nand there is a risk that Bolt could break at any time when our YAML implementation changes\n\nLet's not do that, then. \n\nwe cannot reasonably claim that \"we use YAML for our configuration files\"\n\nSo, there's no PHP project in the whole wide world whatsoever that uses YAML, if you're that strict. Symfony, Laravel, Silex, Drupal, and the few others i've checked all use the same yaml parser as we do. In all of them, ordering is important, so i think we're safe in calling it \"yaml\".\n\nChange the configuration file format\n\nWould be very bad for end-users like frontend-devs and editors that have access to yml files. We chose YML because it's easy to read and understand, even for those less tech-savvy. Replacing it with another file format would not be beneficial to end-users. \n\nContenttypes in the menu, for example, could be ordered alphabetically (which, incidentally, would make a lot of sense IMO)\n\nNo, I think a lot of people would find that confusing. To me it seems very logical that the contenttypes (and fields, and taxonomies) appear in the order you've put them in the files. Not any other order. \n. >  So who knows if symfony yaml might or might not update.\nCall me an opportunist, but I doubt the symfony people would change an implementation they rely on in many aspects like this. if they would do that, they'd do it no sooner than Symfony 3.0.\n\nps i find it lacking that symfony yaml doesn't support multi line items.\n\nDoesn't it? You mean these? They are supported: https://github.com/bolt/cheatsheet/blob/master/cheatsheet.yml#L38\n. Is this still an issue? And if so, is it actionable? \n. Whoop! \n. See #586. Fixed in #2324.\n. This was fixed, like, half an hour ago. ;-)\n. Ah, that is something that ought to be fixable! Will look into it. :-)\n. Merging in! \n. This probably has nothing to do with a recent change, but rather with the extension you picked. I've just tagged it as a stable release, which makes it easier to install on certain servers. Please try it again, and this time pick the \"v1.0.0\" version. Chances are it works correctly now.\n. You're in the profiler in your browser, i see.. can you screenshot what the response is now? Or is it still the escapesellarg() thing? Is this your server, so you can change the PHP setting?\n. in your php.ini, look for this:\n\nIf you can edit php.ini then open it, find the disable_functions field, and remove escapeshellarg from the list. Then restart the server.\n. I think we should \"reverse engineer\" escapeshellarg(). Shouldn't be too hard to do, since we only use it in a very limited setting. \n. The source code looks straightforward enough: \n\nhttps://github.com/php/php-src/blob/4b943c9c0dd4114adc78416c5241f11ad5c98a80/ext/standard/exec.c#L419\nhttps://github.com/php/php-src/blob/4b943c9c0dd4114adc78416c5241f11ad5c98a80/ext/standard/exec.c#L336\n. Thanks for the heads-up. \nI think that for now this isn't very actionable, unless we want to do some major work on the twig files. I'm wondering if there's any information on when Twig 2.0 would be scheduled? Perhaps it will come in the same timeframe as Symfony 3.0? I can't seem to find any information on it. \n. As mentioned in the reddit thread, please check if the logfiles mention anything. You could also try right-clicking an image, opening it in a new tab, and see if you get an error in the browser. \n. I meant opening a thumbnail in a new tab. So, could you try going to http://competent.bolt/thumbs/400x260c/california-foggy-golden-gate-bridge-2771.jpg and see what happens?\n. Hmmz, for some reason the webhook isn't triggering anymore. I've reset it, and it seems to work again. Thanks! \n. I'm not too familiar with how the built-in server works, but I think i get what's going on.. Can't we roll this check into index.php? I'd prefer that over adding another file in the root. \n. @mrjgreen ah, yes.. It seems @jkazimir is correct. See: https://github.com/bolt/bolt/blob/master/app/load.php#L28\nIf the check in app/load.php isn't working, can we fix that instead? \n. Oh, and as an aside: Travis is throwing a hissyfit, but that's because of this (unrelated) issue: #2334 \n. bump \nI think this should be merged with the similar code in load.php. Is someone going to work on this, or should we close it for now? \n. Closing this.\n. We'll look into this. \n. Looking good, merging in! \n. Merging in! Thanks!\n. Why would you want to disable the pretty stack? :cry: \n(backend would be the better name, i think)\n. Merging in! \n. Whoop! merging in!\n. :shipit: \n. Thanks! :-)\n. Thaaanks! \n. Please say what tablet it is.. Ipad? android? brand? screen resolution? os version?\n. We'll take a good look at this. :-)\n. I'm personally not a fan of this, but i've heard this request. Well, because it's almost Christmas. ;-)\n. There's a difference between \"saying no\" and deciding that what a bunch of people want it is more important than my personal preference. \n. I can't even git! Merged manually in 1826b0954983cb754912394fa7d52fac4ead39a5\n. Yeah, the changelog was the merge conflict. Could've been avoided if I asked you to do a merge upstream, but then it would take longer.. Let's see how this goes. If it causes trouble too often, we'll have to look into seeing how we improve this. \n. @GawainLynch That's what I normally do when there's a small conflict like this. I thought i did so too, this time, but apparently Github thought otherwise. \n. I... what? \n. Yup, seems like a goo idea.\n. Hi, \ncan you give a bit more information about what server you're using, what version of bolt, what version of PHP, which Database and what version of the database?\n. I'm not too familiar with Arabic, but I tried it on two test setups (both with mysql and sqlite, on PHP 5.4.x), and for me it seemed to work as expected. see screenshots: \n\n\nSo, i'm not sure how and if we can fix this. Could you try switching to sqlite? Or use chrome, instead? If we can figure out when it breaks, we might be able to fix it.\n. YML is lovely. Seriously, you should try it, and in no time you'll never want to configure a CMS using clunky checkboxes again. \nAdditionally, the YML config can be stored in git. This is even less error prone. ;-)\n. The built-in editor has a validator.. The files won't be saved, unless they're valid yml. \n. If you're a developer it shouldn't be too much effort to grok yml. I assume you write CSS (or Sass) and HTML by hand too? I think this is similar. \nClosing this, but if you feel this is still an issue, feel free to re-open it. \n. Whoop, whoop! Merry christmas, Rix, to you and your loved ones. :gift: \n. ;-)\n. Isn't this a duplicate of one of the other menu-related issues? #771. The issue here is that page/home is not a link or URL. It just refers to a single record. \n. Great! I'll try it out, and merge it in, if nothing odd pops up. Thank you! ^_^\n. Looks good to me, so far! The only thing i'm not too thrilled about is the 'remove' button. It seems a bit out of place at the top, and it seems to be too prominent. I'm going to merge this in as-is, but i'm going to move the 'remove' button to the bottom of the list view. \nThanks for your contribution! \n. Oh, one more small thing: Next time, please try to use 'spaces' instead of 'tabs' for indentation. We like to stick to PSR-2. :-)\n\n(I'll fix these now, while i'm at it)\n. Closing this one. (it is fixed, right?)\n. I wonder if GD (the library used to make thumbnails) is able to parse exif data. If so, we could fix it there. \n. As for \"keeping\" EXIF data.. If we have the chance, I'd rather we err on the safe side, and Bolt should strip it all, unless specifically told not to. \n. The original bug (rotation of thumbs) was fixed in #2370 and https://github.com/bolt/bolt-thumbs/pull/8. Leaving this open, to see if we should do anything with Exif data or not.\n. Nice .gif :-)\n. Do you remember who it was that suggested the workaround? \nAnd is this something that needs fixing in the code, or just better documentation?\n. Bump @jacobtolar \n. What browser are you using? I don't have this problem. \n. Duplicate of #2013\n. Merged it in, thanks! \n. Heh, i had never seen this. I usually don't provide a height, and it's \"automatic\", because not defined in HTML. I actually think your little snippet is quite clever :-)\nAt the very least, we could add 'ratio' to the imageinfo, so it could be simplified as: \n{% set info = imageinfo(record.thumbnail) %}\n{{ record.thumbnail|showimage(400, (400 * info.ratio)) }}\nAlso, isn't it rounded automagically? if not, we should fix that in Bolt, because images should always have integer numbers for the width and height.\n. Ok, so.. two actionable points, then: \n- update docs to clarify this. \n- check image, showimage, thumbnail and popup tags to make sure they round the width and height.\n. Fixed in #2375. Leaving this open for now, because I need to update the Documentation for this. \n. Let's change it to 0. :-)\n. @bodyflex It effectively does that now, right?\n. I'll look into this, though I heven't seen it myself yet. You might want to try tweaking the relevant settings in config.yml, to see if you can make it go away, until we fix this properly..\n```\ndebug_error_level: 6135 # equivalent to E_ALL &~ E_NOTICE &~ E_DEPRECATED &~ E_USER_DEPRECATED\ndebug_error_level: 30719 # equivalent to E_ALL\n```\nSet it to 0 to supress all errors, just to see if it helps.. \n. Pinging @opb \nAny more info on this?\n. Ah, yes: \n\nI guess we still need option 2 even with option 1 as we perhaps need option 1 with option 2 as the later won't solve multiversion clashes.\n\nWe need to do option 2 regardless. Let's do it! :bus: \n. You should get used to updating the changelog as well. ;-)\n. \\o/\n. :+1: \n. :100: \n. I recall seeing some discussion on this, last week. Perhaps @GawainLynch of @jadwigo remember, because I can't seem to find it anymore. \n. I'm not sure how to check it beforehand, but i think this change will break our silver medal on Insight. \n. I was thinking of this one: https://github.com/bolt/bolt/commit/a5970b24d290ec0ce83fc891eca3dd09baeed405#diff-828e0013b8f3bc1bb22b4f57172b019dL15\nBut, I actually think it should be ok. Let's find out what Sensiolabs Insight says! ^^\n. Still the silver medal: https://insight.sensiolabs.com/projects/4d1713e3-be44-4c2e-ad92-35f65eee6bd5/analyses/40\n. Cool! ^^\n. :+1: \n. Happy MMXV, all! \n. SPRING CLEANING!!1!?one!!\n. I was actually thinking about that, the other day.. I'm going to work on an update to Bootstrap 3.3, but it will break a few minor things, until I find and fix them.. So, :+1: \nOh, and Happy new year!! ^_^\n. So, now that we agree on this, how exactly should we word this? Basically, we'll have three branches:\n- master (aka \"2.x stable\")\n- canary (\"2.x bleeding edge\")\n- legacy (\"1.x stable)\"\nAll new features should be merged into Canary. Bugfixes and minor tweaks go directly into Master, right? \nBut, how will we manage to keep these in sync? Let's say i'm working on \"feature X\", and Ross on \"Feature Y\". My first batch of commits is merged into canary, and Ross's is too. Mine has a bunch of bugs, and Ross's has a few less bugs. Ross fixes them, and they are merged into canary. How are we then going to merge Ross's feature into Master, without also merging my half-baked work? \n. This isn't really fixable by us. PHP's 'backtrace' get's lost once you start traversing into anonymous functions. Which is what happens, when Twig parses another template from within a template. So, wontfix, i'm afraid. \n. Cool! Glad we could fix that relatively easy. :+1: \n. Sweet! \n. I don't see anything that could break with this! Merging in!\n. \n. See! I knew there was a reason why i originally took 1900 as default dates for everything. :-)\nHowever, is \"0001-01-01\" acceptable too in postgres? That might be better, if only for people's ease of mind.  http://www.postgresql.org/docs/9.1/static/datatype-datetime.html\n. Woot~\n. ah, plz to merge upstream. :-)\n(silly changelog)\n. I'm no big fan of this construction.. We should make sure this is in a file that's require_once'd. If some other library already defines it, we're screwed anyway because the implementation probably is a bit different. \n. I think this shouldn't be in app.php, because app.php just sets up some controllers. app/classes/lib.php would be better, since it already contains a random assortment of functions. \n. There shouldn't be HTML in these files, I think. Ideally all HTML should be in the templates. Sometimes an <a> or <em> tag can be fine, but we should at least avoid  <br> and <p> tags.\nSwitching to yml instead of xlf is fine with me. We should convert the other files as well. \n. We were planning on adding \\Finder sooner or later anyway, so i'm fine with adding it now.\n. We should strive for consistency: no matching of {{ 'foo'|__ }} and {{ __('foo') }} tags. And while we're at it, spacing should be consistent, too. \nI propose we always use {{ __('foo')) }}.\n. We should really avoid lines like this. Even though currently 'pages' and 'entries' are provided by the default contenttypes.yml, Bolt should in no way treat these different than any contenttype added by a user. That means we shouldn't use them literally in the translated phrases. If it's up to me, i'd say we just use Duplicate %contenttype%\": Dupliceer %contenttype%, and leave it at that. \n. I'm not sure if we really want to translate the contenttypes. 'page' and 'entries' are provided by the default contenttypes.yml, but they shouldn't be treated any other way than any that we might add ourselves. Also, if we start down this path, we'll open a huge can of worms .Dutch has male/female like French, but German adds neutral, Russian has nominative/dative, and Polish does something completely else. There's no way we can even begin to get this right with the contenttypes people will add themselves. \nI think we should translate contenttypes in other languages in URL's, but not in strings and labels in the backend. i.e.: http://example.org/article/bonjour-monde and http://example.org/entry/hello-world is fine, but use one (gender neutral) form for labels: Cette 'kitchensink' ne peut \u00eatre enregistr\u00e9e. It might not be ideal, but at least it'll be realistically doable.\n. I'm looking forward to it. Like i said: l18n is a feature we do want in Bolt, so your contributions are welcomed. ;-)\n. I'm not sure how that would work in practice, but I'll just wait and see for myself. ;-)\n. Actually, they're back because i added them. ;-)\nI think i makes more sense with two spaces. Otherwise, you'll click and type, and end up with this:\nfoo: bar#\nThis gets parsed into this:\nfoo: \"bar#\"\nSo, by adding the extra space, it's easier to keep a space between the label and the '#'.\n. Should this \"select\" be in the default contenttypes.yml.dist?\n. Ah, I misread: Thought this was in the 'entries' contenttype, but it is in 'kitchensinks'. That's cool with me! \n. Spaces, not tabs, please. :-)\n. We should require POST on this, to prevent possible XSS.\n. Didn't know you could do this. Neat! \n. Shouldn't this have an isset(), for when prevent_upscale is not defined? (i.e. people having old config.yml's) \n. Are you sure we don't need the gettype in ($this->app['session']) == 'object' ?\n. Are both of these & really necessary? According to us, it would work the same without them. The & before the the function name shouldn't be needed, because you create and return a new array $params. \n$route is not modified, so it doesn't need to be a reference, right?\n. No linebreak ;-)\n. Typo: Extension\n. Optional braces are not optional! \n\nThe body of each structure MUST be enclosed by braces. This standardizes how the structures look, and reduces the likelihood of introducing errors as new lines get added to the body.\n\nhttps://github.com/php-fig/fig-standards/blob/master/accepted/PSR-2-coding-style-guide.md#5-control-structures\n. Too much indent. That's what you get for using TABS instead of SPACES. ;-) \nWe prefer to stick to PSR-2 guidelines\n\nCode MUST use 4 spaces for indenting, not tabs. \n. That's my go-to excuse too. ;-)\n. This will not match </script>, because of the space.. Nor would it match <script bla bla></script>, because it needs to start on a line with only optional whitespace in front of it. \n\nWhen did this go wrong, that it needs to be changed? \n. This shouldn't be here! (I don't really mind, but it will give merge conflicts..)\n. same here.\n. We try to stick to PSR-2. Please use spaces, instead of tabs. See section 2.4.\n. same here. :-)\n. Tabs. :-)\n. I'd suggest using $retval = array('');, because then we'll be sure it throws no notices.\n. Since this change makes sure a slash gets added before and after, wouldn't it make sense to use trim($theme_path, '/') instead?\n. ~~Should this be here? :-)~~\nAh, I'm a dumbass. Now I get it! \n. Typo 'oranisation' :-)\n. Ditto. \n. Pet peeve alert: There's no such thing as 'optional braces' ;-)\nWe try to stick to PSR-2 as much as possible, so every if should have braces: https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-2-coding-style-guide.md\n. You've used tabs instead of spaces.. We try to stick to PSR-2 as much as possible, so please use spaces for indentation: https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-2-coding-style-guide.md\n. Whoa, why have I never seen this before? \nStill, are you sure line 961 needs to be deleted? $path will not be defined, right?\n. I'm getting a \"Fatal error: Can't use method return value in write context in /Users/bob/Sites/bolt/app/src/Bolt/Configuration/ResourceManager.php on line 137\" here.\nWe still support PHP 5.3.3+ :-)\nShould be easy enough to fix, though: \nif ($request->server->get(\"SERVER_PROTOCOL\") == \"\" ) {\n. Why not pick an icon from Font Awesome? I'd rather use a vector icon, for thos of us who are on smartphones, tablet or retina displays. ;-)\n. This bit is still needed, i'm afraid. Records with \"filelist\" or \"imagelist\" made before 1.5 still have it stored serialized. \n. This shouldn't be required, because is_readable is case-insensitve, even on filesystems that are. LOLPHP to the max. On my OSX machine is_readable('REadmE.mD') returns true for 'readme.md`, and i can even file_get_contents it. right? \nhttp://stackoverflow.com/questions/3964793/php-case-insensitive-version-of-file-exists\n. btw, as opposed to include or require, that are case sensitive. :-)\n. Should be a label: {{ __(\"Note, this file has related files:\") }} \n(and perhaps a native speaker could make a suggestion about less awkward phrasing)\n. No try/catch needed anymore, for this bit of code?\n. Have you tested this with \ndebug_error_level: -1\nstrict_variables: true\nIn app/config/config.yml? ;-)\n. I just did, seems to work fine. ;-)\n. So, did you make this file empty? \n. ahem\n. Nice! ^^\n. \"Wrapper\" is not needed anymore, right?\n. datechanged and datepublish? It looks like it's the same in the previous code, but that's a bug, right? \n. There's no such thing as optional braces! PSR-2 FTW! ;-)\n. @rossriley Can you do a merge upstream? This PR would undo #2324 otherwise. \n. Here, and in a few other places you've omitted the braces. I know this is javascript and not PHP, but we'd like to keep the coding standards the same, where they apply. So, please use braces here, and in the other few places where you've omitted them. :-)\n. I fixed this a while ago. It should be Image. Are you still working on an old branch?\n. I don't think omitting the parentheses makes it more legible.. Is this something jshint requires?\n. Typo: \"objects\"\n. Typo: record\n. Yes, I like generatePath too. :+1: \n. If they uncomment both, the YML breaks, and an error is shown. If you combine them, i'm not sure it would be easier to grok for people. Neither is really very good.. Hmm..\n. Thanks, Nicolas. I was wondering about that! :-)\n. Reading this, I _think it's not bad to set this: http://silex.sensiolabs.org/doc/providers/swiftmailer.html#usage-in-commands\n. Lol! :wave: \n. The one we had troubles with specifically was with 'cookies' in the request object, I believe. But, In general, we should be really wary to change the few leftover $_SERVER's, because in most cases there's a reason they're still there. \n. Nope, works just fine. $canonical['scheme'] will just be unset. \n. Nope, because the canonical always drops the 'path' part, because we know it'll give this kind of trouble if we keep it around. \n. Now that i look at this.. Is 404 the correct response code for this?\n. Nah, won't work. \nThe way our stupid getdefaults works with regard to merging, prevents this.. For example, if i set in config:\nhtmlcleaner:\n  allowed_tags: [ x, y, z]\nAnd the default is a, b, c, d, e, f, you would end up with x, y, z, d, e, f. Not what somebody would want. \n(this had me puzzled for a while, because i didn't understand why this was happening ;-) )\n. I want to refactir this soon, probably using parse_url(). For now, fixing bugs is fine. :-)\n. It would, if i had known about it. :-)\n. \"Amount\" is with one 'm'. ;-)\n. The last time we did this, we had to revert it, I seem to recall. Are you sure this won't give any weird issues?\n. No, no, no need for dropping anything.. Just wanted to check that it wasn't an oversight. ^_^\n. small nitpick: Seems like the indentation is a bit off, here. :-)\n. s/thier/their\n. I agree with gawain, we shouldn't include this in the config, where it might be \"stuck\" long after it's removed. :-)\n. Shouldn't we keep this around, only bump it to 5.5.x, or whatever Bolt 3 will be? \n. Does this work always? i did not know that..\n. I use this a lot.. Faster, and three lines less of code. Awesome. :-)\n. Hmm.. Any suggestions on how we should fix this differently? \n. @GawainLynch I'm not sure I follow.. When I use this, $path already is a full path, that's used for the hash: \nie: \n\"/Users/bob/Sites/bolt-origin///extensions/vendor/bobdenotter/seo/assets/seo.css\"\n\"/Users/bob/Sites/bolt-origin///extensions/local/bobdenotter/gridviewfield/assets/handsontable.full.min.css\"\n\"/Users/bob/Sites/bolt-origin///extensions/local/bobdenotter/gridviewfield/assets/handsontable.full.min.js\"\n\"/Users/bob/Sites/bolt-origin///extensions/local/bobdenotter/gridviewfield/assets/start.js\"\nWhat should be added? \n. The main reason I added this, is that I was getting errors when trying to log in, that were caused when switching between 2.2 and 2.3. The value of the 'stack' column happened to be null on my 2.2 setup and when I switched, I was getting fatal errors, and couldn't log in. There's a screenshot in #3925\n. > Tired and probably wrong\u2026 again!\u2026 but shouldn't we break; here?\nI tried that at first, but couldn't get it to work.. break; only breaks out the inner loop. break 2; gives this error message: \nFatal error: Cannot break/continue 2 levels in /Users/bob/Sites/bolt-origin/src/Controller/Frontend.php on line 271\nCannot break/continue 2 levels\nSo, i gave up, and did it like this. If you can get it to work, That'd be cleaner than this solution.\n. It throws the error, when i simply do this: \nif ($taxonomies[ $contenttypetaxonomy ]['has_sortorder']) {\n                        // We have a taxonomy with a sortorder, so we must keep $order = false, in order\n                        // to let `getContent()` handle it. We skip the fallback that's a few lines below.\n                        $hassortorder = true;\n                        break 2;\n                    }\n. That just adds the one line with the 'break', right? Doesn't make it much clearer, and the micro-optimisation doesn't make much difference.. \nHow 'bout this? ;-)\n``\n        if ($order === null) {\n            $taxonomies = $this->getOption('taxonomy');\n            $hassortorder = false;\n            if (!empty($contenttype['taxonomy'])) {\n                foreach($contenttype['taxonomy'] as $contenttypetaxonomy) {\n                    if ($taxonomies[ $contenttypetaxonomy ]['has_sortorder']) {\n                        // We have a taxonomy with a sortorder, so we must keep $order = false, in order\n                        // to letgetContent()` handle it. We skip the fallback that's a few lines below.\n                        goto end;\n                    }\n                }\n            }\n            $order = $this->getOption('general/listing_sort');\n        }\n    end:\n\n``\n. I had that at first, but sinceaddTwigFunctionandaddTwigFilterdon't check for this either, I thought I wouldn't have to here either. I'll fix this, and add checks at the other two functions as well. \n. This comma shouldn't be here. \n. typo in \"if\" \n. Ah, no.. I used the checkout from _before_ the version bump to do the backport.. Will fix these numbers. \n. Go home, Nitpick-CI!\n. If it didn't break without theuse`, is it really needed, then? \n. Ah, all good then! \n. My precious \u2116! \n. And here! \n. Seriously?! If it returns here, it's no wonder the other options are missing. :fire: \n. Call me dumb, but isn't that literally the same as just doing this?\n})(jQuery, Bolt, CKEDITOR);\n. \"vlaue\"\n. Here, you dropped this: \\\n. Shouldn't this be: \n$bVal = (is_array($b) ? $b[$this->order_on_secondary] : $b->{$this->order_on_secondary});\n. I think this is still not right. One order_on left. :-)\n. This is a change that moves away of what's outlined in #5232. For now, this is no big deal to me, but in the near future, i'd like someone (me? rarila?) to go over all of our twig templates and apply \"CS for Twig\", so to say.\n. Ah, that's #4161 rearing it's ugly head again. I'll remove that line! \n. I guess because during the refactor they didn't actually work as deferred in the backend. I did some monkey-testing, and at the moment it seems to work fine in my tests. \n. Currently, all 'ajaxy' requests that will redirect will fail silently. What happens is that it gets redirected, and returns an HTML page of the login screen, with a 200 status. As far as I can tell these just fail silently, and in javascript the .done() or .success() will be triggered, which is not correct. \nThis change will send a 500, so in the requesting javascript it can be caught. At the very least it'll trigger the .fail() method, allowing us to give feedback to the user. \n. That space makes my OCD itch. ;-)\n. If this stuff gets documented, I'm fine with it. \n. Ah, yes.. When poking around with how to add a query to the URL I started out with google.com, but it must've been \"helpful\" by changing it to NL. :-)\n. But what if $app['request_stack'] doesn't exist yet? \nI believe that was the issue Carson was encountering, when this is triggered too early in the request cycle. \n. Is this on purpose, or an oversight? . Same for this one. . Doesn't matter. In the off chance your domain is locahost.org, you just won't see the notice, no harm done. . No, the opposite of that. If you want to get rid of the message, add your dev domain here. . Same as it does two lines above. I assumed this would work, because i couldn't find a case to trigger it. . Those were already there. Wonder where they came from? I removed 'bolt_stable' from there. . Ah, I see.. They snuck in from here.. https://github.com/bolt/bolt/blob/release/3.2/src/EventListener/ConfigListener.php#L165-L167\nI'll remove them. . It should, unless somebody explicitly deletes it from their config.yml. I know, but I made it in line with the dozen or so other similar statements in that file. If we change this one, we should change all of them to keep it consistent.. Interesting read, but i am not convinced it will block: \n\nThe script is not hosted on the same site. In other words, Chrome will not intervene for scripts with a matching eTLD+1 (e.g. a script hosted on js.example.org inserted on www.example.org).. @cdowdy I am happy you're letting us know, and i'll happily consider alternatives.\n\nI'm just not convinced that this is a problem yet. It says all criteria need to be met:\n\nSpecifically Chrome will not execute the ",
    "leeoniya": "btw, no styles are inline. it's all in the embedded stylesheet, so can be 100% tweaked.\n. ",
    "pvankouteren": "If this is something you'd like to see this in Bolt, you are invited to create an extension and submit a pull request for it of course.\nFor the sake of cleaning I suggest this issue is closed so the issue list actually reflects the work to be done for the next release(s).\n. I've started working on this. At a first glance, functional tests can be created, whereas real unit tests are a little bit harder on the code in the Bolt namespace.\n. Should we keep this issue open or not? In theory it could be open for as long as there's no 100% code coverage (so that'll be nearly forever). I suggest this issue is closed as the first unit tests are written and the issue is basically too general. For specific unit tests, specific issues should be created which can actually be resolved.\n. Agreed :)\n. What kind of relationships are we looking for? Hierarchical where a particular content type is a child / category / ? of another content type? Or should there be relationships which can be described? Or perhaps a couple of pre-defined relationships (like parent-child, resemblance or something, synonym, more?)\nI think if we use pre-defined relationships, we have something to rely on and we can visualize this in a graph. We cannot do this in a proper way if we allow user-defined relationships.\n. I'd say it would be a nice feature to publish entries through an RSS feed.\n. As entries are part of Bolt core, I'd say it should be in the core as well. It should be configurable I think, and disabled by default.\n. I've started working on this. Halfway done I think.\n. Which userlevels should be present and how many 'layers' would there be? (Admin, Moderator, User in three layers or something alike?)\n. What about regular users? Or do you only want the CMS to be able to create a website and not leave room for a community functionality?\nAnd do we hardcode these roles?\n. What are the desired functionalities?\n. Okay, so basically the issue has changed into 'Try to only use sessions for backend visits', am I right?\n. Is any work on this already done? If not, I'd suggest, when thinking about the time it will probably cost to implement this feature, moving this feature to 1.0 to keep up the speed of releases.\nDone a quick search.. would this be worth looking at? https://github.com/nathanaeljones/studiojs\n. Yeah, and it has some docs. Those need some work though. But, it seems like a nice UI, so I think we should look closer at it.\nI don't know about image editors and stuff, are there some more candidates?\n. Please elaborate so people can help. You mean a search bar which can be used to search through all content types?\n. Looking into this one asap!\n. I've been quite busy myself as well and I don't know how much time I'll be having in the next week, so I didn't want to create expectations ;-)\n. Made some progress. Will try to add it in the next couple of days.\n. @bobdenotter please check your main on this one, I'd love to progress on this one!\n. Fixed by PR #53\n. The question is: what is 'properly'? What is the desired behavior?\n. I've taken a look at this and there are multiple options here:\nOption 1:\n\n# Force downloading files\n  ForceType application/octet-stream\n<FilesMatch \"(?i)\\.(gif|jpe?g|png|zip|tgz|txt|md|docx?|pdf|xlsx?|pptx?|html?)$\">\n  ForceType none\n</FilesMatch>\n\nOption 2:\n\n# Force plain text showing\nForceType text/plain\n<FilesMatch \"(?i)\\.(gif|jpe?g|png|zip|tgz|txt|md|docx?|pdf|xlsx?|pptx?|html?)$\" >\n  ForceType none\n</FilesMatch>\n\nOption 3:\n\n# Disallow script execution\nAddHandler cgi-script .php .pl .py .jsp .asp .sh .cgi\nOptions -ExecCGI\n\nOption 1 is the current solution. I don't know what is preferred? I think Option 3 is the most strict one. Option 2 just shows the file content of (for example) php files. But does it also prevent execution?\nUnfortunately combining is not an option. Would be nice to disallow execution of a malicious file and just show the contents of it.\n. Tough one.. the other extensions are (still) in as well. It might be a good idea to further explore the possiblities of how to provide extensions for future versions of Bolt.\nWhen looking at the symfony bundles idea, these are installed through Composer/Packagist. Then again, the extensions are included in the composer.json and not in a backend like in Bolt.\nI think it all depends on the direction you'd like Bolt to go. Going to think about this a little further, to be continued..\n. Additional info. THE example: installing symfony through composer\n    php composer.phar create-project symfony/framework-standard-edition path/ 2.1.3\nwill install the v2.1.3 from packagist\nWould be awesome to install bolt from command line by just performing\n    php composer.phar create-project bolt/bolt myproject/ 0.9\n. This is just using tagging as it should be in github. Only thing that should be done once is registering it with Packagist. Not much to do.\n. @bobdenotter You could already try tagging the 0.8.5 release this afternoon :-)\nRegistering with Packagist can of course be done later, or if you have 5 minutes to spare\n. Yay! Tagging! Only thing left is registering at Packagist :)\n. How about stuff like this:\n\"extra\": {\n    \"symfony-app-dir\": \"app\",\n    \"symfony-web-dir\": \"web\"\n}\n(see: https://github.com/symfony/symfony-standard/blob/master/composer.json)\n. @bobdenotter Important notes for releasing:\n- Lock the dependencies as much as possible. There should basically be no 'dev-master' version dependencies and as specific as possible versions, but not restraining (if something works on v2.2.2, but also on v2.2.3, make it 2.2.*, if is also works on 2.3, make it >= 2.2 and <= 2.3. We should make sure users always end up with a working project when running 'composer.phar install' or 'composer.phar update'.\n- Tag v1.0\n- Add to packagist\nFrom then on, composer.phar create-project (just like symfony2 has, see the download page for the full command) can be used to create a Bolt 1.0 project skeleton :)\n. Still needs to be done. Adding it is just a one-time action. After that, tagging the releases in the repo should be part of the publishing workflow. Packagist will automatically pick up the tags, so there's no work on that any more.\n. Just updated / bumped the commit message to be more informative\n. Was looking into this one during lunch. Found these resources:\n- http://stackoverflow.com/questions/13108184/silex-translation-stops-working-when-validation-is-registered\n- https://gist.github.com/1845379\nAlso tried\n\n$app['translator']->addLoader('xlf', new \\Symfony\\Component\\Translation\\Loader\\XliffFileLoader());\n$app['translator']->addResource('xlf', __DIR__ . '/../../../../vendor/symfony/validator/Symfony/Component/Validator/Resources/translations/validators.' . $app['locale'] . '.xlf', $app['locale'], 'validators');\n\nAlso unsuccessful. However, it looks like the validation translations aren't loaded or so..\n. I'll give it another try, unless you already have your test case..?\n. I use the following fragment in my bootstrap of another Silex application:\nphp\n$app->register(new Silex\\Provider\\FormServiceProvider());\n$app->register(new Silex\\Provider\\ValidatorServiceProvider());\n$app->register(new Silex\\Provider\\TranslationServiceProvider(), array(\n    'locale' => 'nl',\n    'translator.messages' => array()\n));\n$app['translator']->addLoader('xlf', new Symfony\\Component\\Translation\\Loader\\XliffFileLoader());\n$app['translator']->addResource('xlf', __DIR__ . '/../vendor/symfony/validator/Symfony/Component/Validator/Resources/translations/validators.nl.xlf', 'nl', 'validators');\nIt translates the validation messages in Dutch in that application.\nWhen applying the same to Bolt, the translations are still in English.\nAll messages stay in English, no matter if I define $app['locale'] = 'nl' as well as the above fragment in the bootstrap as well as putting my browser to use the Dutch locale.\n. Jup and the only thing that could be done is indeed strip it down and check by trial-and-error what is causing this to happen. I got some time to spend again, so I can try and start stripping it down (unless you have already started that is..?)\n. Okay, I have to check with the code where it works when I get home, but I got a bare setup which works. Unfortunately not in the Bolt-way just yet.\n. I got this one covered. Will look at issue #79 after I fixed this one. Looks kind of related.\n. Got this one fixed. However, there are multiple ways to do this each with their own elegance, so I'd like some input on the pull request :)\n. Closed by the merge\n. Looks nice and clean. How does it compare to CKEditor in terms of features?\n. Yes, if there's no progression on the project and versioned < 1, I agree the tool should not be used in this project.\n. There are only two ways of ensuring this:\nThe first one is to always fill in the correct canonical url in the config.\nThe second one is to create a new path. I can't use the paths.hostname as this doesn't include the protocol, which results in invalid RSS.\nAs the Disqus, FacebookComments, FacebookLike and TwitterButton extensions also use this canonical url, I think the first way is the way to go. This prevents confusion over which url to use / diversities in urls contained in the app.paths data.\nFor solving this issue I've slightly adjusted the config dist file. Also removed some unneeded code from the Frontend.\n. Any \"issues\" left here?\n. Hi! Some questions regarding the issue:\n- Do you run the latest version of Bolt?\n- What's the difference between the entries?\n. I'll try and reproduce your issue\nOh AND I (or somebody else) will try to solve it as well ;-)\n. Ah, that'd be great. Be sure to also take a look at issue #20 :)\n. Could you please elaborate in which cases would this be handy? What kind of feature do you have in mind?\n. Taken a closer look. Would be nice to be able to upload files, set permissons perhaps and create directories. It might be worth refactoring it to use the symfony2 filesystem component.\n. I find it a nice to have, so IF I have some time in the next couple of weeks I might try to slip it in :)\n. I'll have a look at this. Thanks for reporting!\n. That's no problem :) I'm just glad that it's solved! Onwards to Bolt 0.9 \\o/\n. Regarding your first post: \nAgreed, we should look at a nice error page implementation. You have enabled debugging in your config, which results in the backtrace. If you set debug to false, you won't get it. That's desired behavior.\nFor your second post: The website is running an older version of bolt. It should be updated to a newer version which will solve the problem (actually: transform it to the issue mentioned in your first post).\n. > A visitor should never see a full backtrace no matter if debug is turned on or not.\n\nThat's why debugging should only be set to true in a development environment.\nI haven't enabled debugging - it's apparently the default.\nYes, maybe the default should be false\n\nThe only things I see here which are important is that the default 'debug' setting should be set to false and that there is some nicer way to treat errors when in 'production mode'.\nThis is just my view on the situation of course, so it might be interesting to see what @bobdenotter thinks of it. And of course everyone's invited to contribute to the project to fix issues and improve the quality of the product.\n. Yeah yeah, you beat me ;) haha\n. More and more features get 'configurable' and I would like to argue if it's still simple and, more important, clear enough how to configure Bolt.\nI have two suggestions I'd like to discuss:\n1: Perhaps we should spread out the config over a couple of files. This might make it a little harder to grasp as 'there are so many files I should touch to configure the system', but the files itself are clearer and can be more specific.\nExample: a separate config file for debugging options. debugging.yml. This file should only consist of options which allow or disallow debugging of particular parts of the application.\n2: Environment configurations. I think the idea of Symfony2 is a nice one: you can have a development configuration, test configuration and a production configuration. This allows a faster deployment procedure and takes away the hassle of reconfiguring before going live (and the possibilities of forgetting one or more options)\n. Comment of @marcelfw in issue #64: \nAnother thing for could be to move the feed stuff into a separate extension. It's quite easy to add controllers in an extension and since feeds are not always necessary it keeps Bolt more simple.\n. I think the point is valid and the extensions could be far more powerful by doing that. As for the project I think we're not yet at the point where we start moving stuff around because the project is stable. I think, for the moment, it's better to focus on getting a stable Bolt 1.0 version and take a closer look on how to restructure stuff for newer version. However, that's my opinion and I'd sure like to hear the thoughts of @bobdenotter on this. \n. As the DI container is passed along to the extensions, you can basically do anything. It's even possible to split Bolt in a couple of parts and create extensions for particular functionalities. I can imagine some great use cases for that and it offers a lot of potential.\nBut, looking at the current open issues, there's a focus on functionality, most of them being kind of 'core functionality', so I think at this moment it's important to stick to the focus of the product and put a stable first version out. Once that's done, it would be cool to do a reflection on the software and its design to adjust the focus for v2.\nFrom what I've seen, the aim of Bob is to release Bolt v1 in January 2013, so a change in focus might cause the release to be delayed (as is v0.9) even more.\n. I find the view of @marcelfw very interesting and there sure is a lot of potential in it. One could also strip out the full admin section and provide it as an extension to be able to 'add CMS backend functionality'. This, however, would exceed the aim of Bolt I think. Would it be an idea to determine 'core' functionality' when Bolt 1.0 is released and put more effort in extensions after that?\n. What should we do with this discussion? It valuable, but at the other hand it pollutes our issue tracker. Can we perhaps put it on the wiki being a discussion on a particular topic? (In this case: how to keep it clean and simple)\n. Todo: put discussion on wiki\n. Added the actual information to this wiki page.\nSuggesting to close this issue.\n. I agree. If it's possible, we should try and do this\n. The feed method in the Frontend controller sets debug to false. This prevents the debugbar from showing, right?\n. My personal opinion is that we are trying to put too much into one big config file. But I'd like to continue that discussion in issue #58.\nRegarding the pull request you've made, could you update the feed method as well then? That way the whole pull request can be merged or declined without any functionality implications.\n. Do please join the thread there to discuss the best solution :)\n. Closed with pull request #63 \n. I'm against that. This way you cannot have drop-in extensions.\nRegarding the issue: I'd say extensions may only be provided with a config.yml.dist which contains the config of the latest version. The user can use this for adjusting the active config.\n. config.yml.dist +1\nThis also shouldn't be too hard to implement. Like I said earlier: It keeps the extension drop-in without having to adjust something in the layer outside it (meaning: Bolt itself). Removing the extension dir = total removal of the extension = win :)\n-1000 for checking config.yml.dist if a parameter is not found in config.yml. This should never ever be done. You potentially have twice as much configs and you'll lose the overview on which config param comes from where. Next to that, the .dist files are clearly example files for DISTribution and nothing more than that.\n. What was the outcome of this?\n. I'm with @hansfn's fix. Could you create a pull request for this containing the fix above and the guid and feed entry link fixes?\nAlso an issue should be opened on the trimText method to solve the http:// removal and the breaking. Perhaps this requires an different method for trimming stuff like HTML, but we can discuss that further in the specific issue.\n. Can someone define what the method should do? I.e. write a unit test for it? Then this issue can be solved\n. ideal o/\nOkay, so you've now described a unit test, which describes the wanted behavior.\nThere should be some more of course, like handling nested tags etc, but it's a start :-)\n. Will pick this issue up when I'm done with the strftime filter. Unless someone else is willing to write the unit tests and implement the feature before I get the chance to.\n. It won't be the ideal case as strip tags is true by default, but I get what you mean ;-)\nCooking up the unit tests at the moment.\n. @hansfn Could you give some more details on how to handle links?\nWhat would be the result of $output1 and $output2 in:\n``` php\n// with a href=\"... etc\n$string1 = 'This is an example and some more text.';\n// just literally http://www... \n$string2 = 'http://www.example.org'; \n// don't replace spaces, don't add the '...', don't strip tags\n$output1 = trimText($string1, 10, false, false, false);\n$output2 = trimText($string2, 10, false, false, false);\n```\n. (or perhaps @bobdenotter) I'd like to finish the tests and get to coding. Got some more issues to take on after this one :-)\n. Check, I can wrap up my unit tests now and start fixing this one :)\n. For nested tags I need an HTML fixer. HTML tidy doesn't work (you can omit the doctype, but it will always output body tags around the tidy-ed output. Found a \"solution\" here: http://www.barattalo.it/html-fixer/ however, this does not work correctly for correctly nested tags.\nExamples:\n```\ncorrectly nested\ninput: 123456789012345678901234567890\noutput: 123456789012345678901234567890\nI would expect: 123456789012345678901234567890\nincorrectly nested\ninput: 123456789012345678901234567890\noutput: 123456789012345678901234567890\nWhat should we expect? \n123456789012345678901234567890?\n123456789012345678901234567890?\n```\nCurrently looking at the htmlawed lib which Bob suggested earlier. ~~It won't allow for p-tags out of the box, but it seems to do a better job~~. It does allow for p-tags out of the box, but introduces a PHP_EOL after that. This can be fixed :)\n. Okay, a little bit of progress was made. htmlawed cannot a nesting larger than 2.\n<b>1<p>2</p>3</b> // works\n<b>1<i>2<p>3</p>4</i>5</b> // doesn't work\nIt's the best currently available, also used in Drupal, and the probability that people use nesting larger than 2 is not that high, so I'd say we go with it.\n. It includes the lib. Furthermore the trimText method will be replaced. In the case where $strip_tags = false and the string contains HTML in the part that will be in the resulting string the lib should be applied combined with a regex to get to the resulting string (an add complexity). In all the remaining cases it should not be applied and therefor doesn't contribute to complexity.\n. Yeah!! Finally I've been able to fix this (well.. according to my unit tests that is, but as far as I can see they're pretty complete). Have to clean up the stuff and create a PR out of it.\n. PR couldn't be merged. Will update the main branch and redo the code. No problem at all.\n. If this should be done, this would mean the content should be traversed and all relative links should be replaced. In a normal editor 9/10 cases, a full url is supplied.\n. Is this still needed / relevant?\n. Yeah, that's what I was thinking too!\n. Probably yes, I'll take a look at it asap\n. @peterboorsma Could you please define what your expectations are: what kind of input and output?\n. Hmm although the JS library seems to work nicely I'm not sure if we should depend on JS for this. As we already use the locale in the code itself to translate texts, I think the dates should work the same way.\nBasically there are two options: \n- passing the locale of the app and let the javascript do the rest. This would, however, split the translation process in two: text is translated in Bolt, where the date translation is done through JS\n- translating the dates in Bolt. This requires some more coding, but results in a unified translation process\nThe latter seems to be more consistent, so I'd opt for that.\n. Check. On it :)\n. The thing is: strftime requires setlocale to be called first. And setlocale uses a different input than the Translation component which is used for all other stuff in Silex and Bolt. Where the Translation component uses 'nl', setlocale needs 'nl_NL' to work.\nAlthough the $app['locale'] is set, still setlocale needs to be called.\nOf course, there is a quick way around it, but it's not the nicest. I'll try to find out if there's another way\n. @bobdenotter I've been thinking about this for a couple of days now. The solution for this specific problem isn't that trivial so it seems. There is a (sub-optimal) solution by using a locale mapping. This will certainly do for a while. Are you okay with that so we can get on with the rest and pick this up again when it becomes an issue again?\n. I've slept a night over you last comment and we cannot use nl, nl_NL because:\nThe locale might be set by the request, this returns nl and not nl_NL. In that case we'd still need a mapping, while we make the code less clear (as the locale may be nl or nl, nl_NL). In the first case, we still need mapping in the TwigExtension. In the latter case we need to extract the nl_NL part.\nLet's keep the locale consistent and only apply the mapping where it's needed: in the TwigExtension.\n. It can be done shorter, which will also make it application-wide, just as it currently is:\n\ntranslation:\n  language: nl\n  territory: NL\n\nThe name can be obtained from the translation component itself based on the language.\n. The only issue still remaining is how to determine the territory. This is what is causing the strftime to break.\nI can add an optional argument to set it manually in the template. However, this would mean there's no option to rely on the request's locale as we cannot get the territory from that.\n. The incoming Request results in a Symfony2 Request. This returns a locale which can be handled. So that's a finite set of locales for which we don't have to convert anything in Bolt itself. The thing is: we need the territory, which is not added by any Symfony2 component. So only for that we'd need a mapping.\n@bobdenotter so you're now ruling out a multi-language (auto-translating that is) site, right?\n. I can read that ;-) haha\nBut roger that, I'll cook up the fix then. With the config values. So that means a solid fix, no mapping, no hassle :)\n. Yes, that latter is a good point :)\n. Okay, I got the functionality covered, but I think there's some room for improvement on overall locale/territory/translation handling. Working on that right now :)\n. I support this idea. It puts stuff where it belongs.\nAt a glance I don't think the extensions will break (although I haven't tested it yet), as the app is passed over there and it doesn't matter whether it's a Silex\\Application or a Bolt\\Application.\nNext to that the required_bolt_version and highest_bolt_version aren't taken into account yet if I'm not mistaking.\nRegarding the work and the modifications which need to be done on the extensions I think we need an indication how much time it will take to modify the code + docs and we need a timeline for the release of Bolt and which issues must be solved before it, which are nice to haves etc.\nMy idea would be: Let's set a realistic release date, stick to it, finish the issues and pick this up if we got time to spare\n. I'm in o/\n. Oh, by the way, @bobdenotter: we should also have an idea about distributing extension then and how to deal with the version numbers for checking extension compatibility\n. @bobdenotter Be sure to tag each release. Currently only 0.8.4 and 0.8.5 are tagged ;-)\n. I like this one! Quite new, but allows for more simplicity this way\n. Extensions need to have their own tests folder. The tests should be excluded from the Bolt testsuite.\n. I've seen a kind of similar issue and solution on PHPBenelux. Need time to recall it and check it out though. Have to finish other issues first.\n. Would it be an idea to create the extensions stuff first and then implementing this en put it into an extension (as suggested earlier) in the same pass?\n. Yeah, if the new way of extensions is done in time I can put the RSS feeds into an extension\n. Related to issue #101 \n. Regarding initializing the route(s): Stuff like '/pages/feed.xml' is getting matched to earlier routes.\nSo either the routes should be unique or the frontend routes should be more tight (e.g. Not allowing dots so the .rss / .xml routes fall through to be picked up by the extensions)\n. Url would now be 'pages/rss/feed.(xml | rss)\n. I'll try when I have access to my computer\nOp 9 jan. 2013 om 19:59 heeft bobdenotter notifications@github.com het volgende geschreven:\n\nPatrick, is it easy for you to sync with master again? If not, i'll have to merge in these changes manually. Fine with me, either way. :-)\n\u2014\nReply to this email directly or view it on GitHub.\n. Haha yeah yeah.. I know.. I haven't got time for it just yet. I can do it tonight (if you're patient enough that is.. :-p)\n. Working on it right now :)\n. See new pull request #97\n. In my initial pull request of the RSS feeds I prevented the insertion of this, so one of the other pull requests on RSS items must have re-enabled it :(\n. You got a point there\n. Hmm I'll check tonight. Can't recall exactly at the moment!\n\n\nMet vriendelijke groet,\nPatrick van Kouteren\nOp 10 jan. 2013 om 20:21 heeft bobdenotter notifications@github.com het volgende geschreven:\n\nWhy did you comment out this part? On my setup it no longer verifies the length of the password anymore..\nif (!empty($pass1) && strlen($pass1)<6 ) {\n        $form['password']->addError(new FormError('This value is too short. It should have 6 characters or more.'));\n    } elseif ($pass1 != $pass2) {\n\u2014\nReply to this email directly or view it on GitHub.\n. Should there be an issue for this or did you sneak your fix in a commit/push already?\n. Yes, I saw this already when making the changes. However, I'm not an expert on UI / UX. (I try to be one, but often fail miserably ;-))\n. Awesome. I'll take a look at it tomorrow as well :-)\n. @richardhinkamp I've read your blog article and see where you're going. It's nice to be able to install through composer and manage your bolt dependency through it as well.\n\nCould you please elaborate on what my file structure will look like and how to create a Bolt-based CMS with a composer-managed Bolt dependency? Where do I put my application logic, themes etc?\n. What is the inheritance behavior of this? And does this work for Controllers as well?\nShould I mimic the Bolt directory structure for allow the inheritance to work?\n. We should document this well if this is merged. I wouldn't understand how to use it without these comments or any docs.\n. Adding to packagist is easy. Already explained that to Bob, but seeing the activity and what is changed between minor versions currently, I don't see the urge to do this before Bolt 1.0. It's a nice to have, true dat.\n. Packagist in the issues list. It makes Bolt reach a wider audience, so I think it will be included :-)\n. Would this be better off in an extension or in Bolt itself (where to draw the line?). RSS feeds will be an extension as well, so linear to that I'd say extension.\n. The particular RSS to extension issue is labeled 1.0 RC, is that still valid then?\n. Agreed :)\n. (Pull request merged)\n. I vote for the latter too. Don't think this should belong in the config\n. Afaik there is no inheritance structure for such things yet. That's exactly why I was wondering earlier if installing Bolt in the vendor dir is a good idea at this moment: no inheritance for controllers and with that: for extensions.\nOf course everything can be built, but seeing the tight schedule and the stack of issues I think this whole issue should be an after 1.0 issue.\nThese are just my 2 cents of course, I'm not deciding ;-)\n. Regarding the acutal issue: For redirection you could also see if the NiceUrls extension can be of any use for you\n. The pull request is not okay as well :( (lots of old pushes in it)\n. @richardhinkamp What you're saying is true: the extension dir is specific currently. I'd say this is a different type of issue than what this PR is meant for. Could you create some use cases for what you are trying to accomplish? These type of things are exactly what we need to discuss for Bolt > 1.0.\n. It should indeed be there. Well, now that it's there, I'm expecting an i$h-load of unit test pull requests! ;-)\n. I'd say create a clear issue for this, with a reference to this one and close this one as being decided upon.\n. Working on a Nut command for this :)\n. PHPUnit is already require-dev in the composer.json for some time now. Closing this issue.\n. I think the name doesn't cover it all as the time is also taken into account and printed. It's not translated, but the name suggests that I have to provide a date and not a date and time.\n. Will fix the PR later today!\n. I don't see why this cannot be merged automatically :S\n. Hmm.. I didn't get notified correctly on this or I missed it, so I'm somewhat slow in reacting..\nMy opinion on this is basically that the feed should validate on a 'stock Bolt install'. If it currently doesn't, it's b0rken. On a Bolt install which is configured / altered, there's no control on what the user does and automated 'correcting' for / reacting to user-defined configuration is limited. The RSS template is included and configurable, so I think the user should be able to fix this when problems arise.\nWhat I'm trying to say is: we need to provide the user a correctly working configuration, but don't get in the user's way when configuration is being done by 'trying to be smart and correct'.\n. Okay, this is becoming a little bit of a mess. We need a clear overview on this, but this will take some time to get this all straight. I don't have the time to do that currently, but will look at it asap!\n. Hmm.. could you try to reschedule it? Hoping for some statistics to prioritize the QA improvements / issues I can work on.\n. I'll add the link to the docs and close this issue with that PR.\n. Putting this a milestone further as this is part of a dependency flow.\nThe remaining stuff do be done is in the search methods. I first need a database layer for unit tests, then I need unit tests for the search method. After that I can rewrite the search method(s) and use prepared statements.\n. I'm not too fond of (at least I know from htmlawed since I included it myself) requiring dev-master because it's the only branch available. dev-master can change without notice. That's the main reason why I included it in the classes: to ensure that the behavior stays the same.\nRequiring dev-master is okay in beta versions, but not in production / alpha versions.\n. Yes, I agree on that one. This was already discussed about a month ago. Perhaps it would be wise to plan this for the next release and update composer.json with the repos by then. How does that sound @bobdenotter ?\n. Passes unit tests and delegates maintenance to Doctrine. Win o/\n. Last time I checked it was fixed. Closing this one.\n. \\o/ hooray for unit tests :P\n. Personally, I think a Satis repository should do and is in line with Packagist publishing. On the other hand, the extensions must (<- although I don't know for sure) be installed by modifying the composer.json file. That means the extension managing screen should be adjusted and there should be a way for end-users to do this.\nThe latter is easier by managing extensions yourself as no file on the webserver should be changed..\n. How did you install Bolt? By zip or through composer?\n. Ah, I see the autoload stuff of composer uses __DIR__ too, so jup, no composer.\nAs installing through zip is possible, would it be an idea to check the php version and output an error if < 5.3.3?\n. Harrrr a bug. Shame on you :P haha\n. @electrolinux Take the time you need. If you need any assistence on unit testing, don't hesitate to drop me a line!\n. Related to issue #203\n. Related to #203\n. Working on this one atm!\n. Okay, so I'm encountering some PHPUnit / Doctrine related issues at the moment, preventing the unit test suite to properly run. I'm not sure (yet) if this has to do with the testcase class itself or the instantiation of the Bolt\\Application class later on.\n. Interesting. And important. Who's working on this one? This is a quick win (basically :))\n. Jup, go for it :)\n. On it\n. There you go :)\n. Need to rename this one as I've already got an issue regarding the refactoring.\n. Related to #203\n. Hmm.. I agree with Bob. This is really bad practice, BUT perhaps it's an option to allow this on dev environments? (And trigger a notice / info whatsoever in the Bolt log?)\n. (This was a critical quickie)\n. These are standards which Symfony and most decent frameworks are using: http://www.php-fig.org, this is also which is checked (or should be checked) by Scrutinizer. (Which I need to configure better at the moment)\n. Developing on a live server would not be my preferred approach, but I see what you mean.\n. Harm10: that's correct. If it was, this issue would also have been closed.\n. This suggests to also send back a HTTP status 503.\n. According to this thread, the lang should be a valid bcp47 string. There for, it would become nl-NL\n. @mattiaslundback do you happen to have the HTML source code of this? I would like to check if it's the HTML which makes htmLawed giggle or if it's just that htmLawed is such a memory hog that it can be used for only short strings.\nFrom what I've seen htmLawed is a pretty complex beast. That's no spectacular news, but it might force us to look at other options. These are.. ehm.. limited.. so we might have to find a way for this\n. Thanks for the input, I'll check it out asap\n. The trimText method also fixes the HTML. If you publish it as is and your HTML is sane, you don't necessarily need to call it.\n. Well.. it seems like the complexity of htmlawed is quite high which makes it consume lots of resources. This is the only issue I've seen on it and only one reporter. Would it be best to fix this if there's more need for this?\n. Could be me, but why have you also removed lines 18-21 instead of just fixing the line that was the actual problem?\n. Yeah, we don't need default values, but our code base contains not only php files. However, we first need a configuration which does what we want and gradually work our way to completely 'scrutinizing' our complete codebase, that's why the current value is equal to the default value.\nCould you put the lines back (of course with the quote fix) so I can accept and merge this pull request?\n. Btw, I'm currently working on this scrutinizer stuff, if you want to work on this specific part too that's fine of course. In that case I suggest that we discuss some stuff so we don't put (and waste) effort in the same area :)\n. Okay, thank you very much :)\n. And merged.\n. Wow, thanks very much!\n. I haven't done anything on this extension lately. As there were some developments on routing handling, I wasn't sure the extension would keep working. Apparently it doesn't. Will check it out as soon as I have finished some other issues which have my name on it\n. @rkmax Thanks, I'll check it out. The line is there since bolt 0.7.x. The reason it was there was to place the short routes higher than the regular routes in the routing hierachy. Without the line, the routes were placed after the regular routes and the regular routes already matched the url, so it didn't work.\n. Awesome! I also was thinking about a tag cloud at some point, but haven't had the time to realize it. Great job!\nWe do have plans on an extension list, but in such a way that developers can easily add extensions and users can manage their extensions through Bolt itself. However, we need some time to get this into Bolt. Last time I checked with Bob, we agreed on getting it in as soon as possible in one of the next minor releases (1.2 / 1.3).\nIn the meanwhile, the extension is listed in the readme. \nThanks for your addition!\n. What @richardhinkamp is saying is true. It would be ideal if we could put it in require-dev. Perhaps we could create a repo bolt/bolt-dev-tools or something, so we can put this stuff in the composer.json's require-dev part to make it available to the people who want to work on bolt.\nI mean: it's not that you use vagrant in production. You could use these puppet scripts in production, but it's not advised. I'm not 100% sure it's platform-agnostic, so we could only guarantee the workings on CentOS 6.3.\n. What do you mean by setup a webserver is pretty easy? A VPS or something? Because that's completely missing the point. (Or it exactly IS the point).\nWhy you need it: for development. The intention is that you can adjust some parameters to mimic your production server and/or to test with other components in a disposable virtual box. With one command you have a working environment and you can start working. Next to that: when an issue is created, we should be able to reproduce it fairly easy when using the same configuration.\n. The reason that it is more than 250+ files is that I didn't submodule it. It's an option, but perhaps for a later stage. We need most of the attention on issues and features at this point.\n. This does not complicate the Vagrant/Puppet setup.\nPutting it in require-dev is a kind of political question. On one hand we don't want to force people to work in a particular way that they don't believe in. On the other hand, making it optional by just mentioning it won't trigger people to try and use it and potentially gets us more issues which are related to f-ups by people in their own development environment. It will also make complexer pull requests harder to check. Basically what I think this offers is a disposable solution (f-ups happen, face it, but the box can be destroyed) and a way that we rule out dependencies on particular PHP/Apache/PEAR extensions which people have installed on their development environment which they also use for other projects.\nI find this a hard one..\n. How about this: I'll create a repo for this, mention it in the docs under 'contributing to Bolt' and we'll see how far we get?\nI still think this approach is a better way to separate dev environments and minimize the side-effects of dependencies of other projects, but I don't want to prescribe how our contributors should work.\nAnyone not up for this?\n. I'll leave room for comments for just a couple of days before realizing. Really liking the discussions so far :)\n. Okay, I'll create a separate repo for this and link to it in the docs\n. Created separate repo: https://github.com/pvankouteren/Bolt-Dev-VM\n. Thanks! \nYes, we are aware of the fact that a central respository becomes increasingly important and we're working on the central repository :) (hopefully bolt 1.2 or 1.3)\nFor now, I'll list your link in the readme for exposure.\n. +1\n. Hmm I like the autocompletion benefit as well. If the docblocks are set correctly this will make it more easy for people using IDEs.\nI don't have a preferences regarding readability.\nOne thing that concerns me a little is that we'll be moving a little more away from the DI principle and with that, from the heart of Bolt, knowing Silex and Symfony components. That might mean that for updates on those frameworks/components we need to do some extra work to make it work for this new structure (add/update/remove accessors etc), whereas we don't need to do that now.\nWe should aim for a situation where the only thing we add is Bolt-specific code. Although I'm an IDE user and a big fan of autocompletion, I'm not yet fully convinced we should take this road.\n. Hmm.. I'd say all or nothing. It doesn't make things clearer when using both $app->db and $app['cache']\n. @marcelfw that's what I tried to explain in my earlier comment as well: I think that argument outweighs the code completion argument\n. I don't know the reason, but I think that, when applicable, we should use signed integers to prevent unwanted/unpredictable behavior.\n. I would think PhpStorm would be one of the first IDEs to support this.\nNot only Silex uses this, but also Pimple and there are more reasons to support this.. like custom code.. Everywhere there's a DI container, a similar construction would be used and this feature would be great to have.\nAs this issue is now on the radar I think there's a decreased benefit of refactoring all and moving away from the standard. Time for closing @bobdenotter?\n. So this issue can be closed?\n. Resolution required, @bobdenotter?\n. Yeah, I thought everything was reverted to the array way again, wasn't it?\n. Check, new issue just created. Let's close the discussion as it's resolved and awaiting implementation.\n. There are two types of public: developers and users. These groups may overlap, so I think that the group of users not using Packagist is smaller. With that, I suggest that we leave it in and make a better separation for 'ways of installing'.\n. These are just suggestions done by the dependencies which are installed, but not needed for Bolt.\n. Do you have access to a vhost on OpenShift? Otherwise you could put it in there.\n. Personally I've been waiting for an opportunity to mix in cloud hosting support for Bolt. It should be possible to host files in an object store like Amazon S3 / OpenStack Swift, so work needs to be done on this feature.\nI understand what you're aiming for. Can't promise it'll be available very soon, but it's one of the things on my list for the near future!\n. Good one. I really need to finish the database test layer. Kind of blocking my own progress at the moment :(\n. Nice! Does it also include prepared statements for issue #203 and issue #259? :)\n. @marcelfw Regarding thing/question 1: you mean the $parameters['filter'] in the searchContentType method?\n. Ah, yeah. As far as I know I didn't use it yet.\n. Easy to read. Just the way I like code to be :)\n. Next to this, would it be an option to allow for Varnish ESI tags as well?\n. I thought Symfony had buit-in support for this, so there should be a service provider for this.\n. Functionality looks good, phpcs improvements is nice-to-have. I'd say give it a go.\n. I agree with @bobdenotter. I think files that are coming from 3rd party should not be re-indented. Also, when checking for smelly code, strictly Bolt code should be checked. If that passes, our job is done.\n. @doertedev That last commit wasn't related to this issue, right? Wrong branch? ;)\nDo I understand it correctly that you need some unit tests on a feature? Would be great if you could specify the tests in an issue and/or supply them by PR :)\n. I think we are having two discussions in one issue here:\n1. particular directories outside webroot\n2. installing Bolt as a dependency of your project\nDirectories outside webroot\nI'm all for this. I feel more secure with this than I do with .htaccess files (especially for files like the config yml files which would be displayed as raw text)\nInstalling Bolt as a dependency of your project\nIt would be great to have, sure. That would allow people to upgrade 'the dependency Bolt' in their project. However, this means that a different file structure is required and more checking needs to be done in the code for how Bolt is installed and reacting upon this check. We've discussed earlier that we wanted to keep Bolt simple and not do this (yet). If this can be done in parallel to the regular Bolt development, I think it's really good for advanced users.\n. Bolt uses Swiftmailer, you can also see this in the composer.json\nYou can find more info about using Swiftmailer in Silex here\n. You're welcome.\n. All up for this as well! I hope it to be pretty easy and straighforward. Would be great if there would be a solid plan for this.\n@bobdenotter: is the view completely loosely coupled? That way Bolt could even serve as a decent API platform with models and all such without even using templates (and if not you can make simple data outputting templates :))\n. All up for that!\n. Is someone working on an API thingy already? I've just started some development on an API proposal in the form of an extension..\n. Thanks for reporting that! For my understanding: how slow did it perform?\n. Yep, will do. Might need a couple of iterations to discuss configuration of the checks. We should think well of which metrics are important for the code base and check those.\n. Related to issue #216 \n. I know, sorry for that. I'm setting up a VM to fix this. Had quite some setbacks last week, so I didn't get to it. I hope to be able to do some work on it tonight or tomorrow night.\n. Ran CodeSniffer..\nScanned Files: 7012, Comments: 92048\nGot to narrow down a little, but it's a start ;-)\n. @bobdenotter Which checks would we like at first? I currently have php-cs-fixer enabled, phpcpd and php code sniffer. Especially the latter returns quite some work to be done, so would it be useful to only have these currently enabled, fix the issues and add the rest after a while so that we won't drown (directly) in all messages?\n. Would also be great to have PDepend in there so we can use the new Code Rating System\n. Well currently, for code sniffer and php cs fixer I check the app/ directory. For phpcpd I check from the root, but exclude the vendor directory and the files directory.\n. Of course we could also start with app/src and work our way gradually to the point to where all the Bolt code is checked. That way we can keep the amount of messages maintainable such that it's not demotivating.\n. Is this issue still worth being open? I mean: it's hard to define a true 'end' / 'completed' for this. It's an ongoing process I'm trying to do from time to time..\n. Automatic merge not possible any more. Will make new PR.\n. Let's merge in issue #515 then :P\n. How about this @bobdenotter? :)\n. Can't we just leave out the NiceUrls plugin now? :)\n. (Dutch) Toegang tot uw Google-account toestaan\nGoogle kan als veiligheidsmaatregel vereisen dat u deze extra stap uitvoert wanneer u inlogt op een nieuw apparaat of bij een nieuwe app.\nAls u toegang wilt toestaan, klikt u hieronder op de knop 'Doorgaan'.\nSo isn't it just a confirmation step?\n. Wow.. a decision on this is already an issue. This would drastically change stuff throughout the whole code base.\n. Looks like related to #271 \n. I think this could be solved in various ways. You could create a new Doctrine handler and put this on the stack to insert a formatted record in the database. This way you could redirect the calls to Log the appropriate Monolog methods.\nOf course you could also completely refactor out the Log class..\n. Good addition :)\n. ",
    "gido": "If any, Pixlr.com as an API, so we can write an Extension to enable Image Editing online.\n. :+1: \n. This represent more than +250 files...\nVagrant and Puppet are very nice tools but here we are talking about a \"Simple\" PHP App that even works with SQLite. I don't really get the point why you need it ?\nActually setup a webserver (Apache, Nginx) with PHP is pretty easy, no?\n. ",
    "motionVector": "Aviary could be another one. There is a free standard version\n. ",
    "GawainLynch": "Ha!I asked @bobdenotter the same thing a couple of days ago about this one! \n. Documented by @pvankouteren in the wiki, so we'll close as part of autumn cleaning.  Please file a new issue if you feel there is new discussion required.\n. Documented by @pvankouteren in the wiki, so we'll close as part of autumn cleaning.  Please file a new issue if you feel there is new discussion required.\n. Added to 2.1-alpha.\n. Added in 2.1-alpha\n. You could implement a custom controller to handle it, but it isn't something that makes sense as a default. \nSymfony/Silex define the parts in between the / as route parameters, so you could match a route on $year, $month, $day, $slug and do a lookup based on that.\n.  OK\u2026 so you are on track more or less, but the Bolt controllers won't do it for you. You would need to add one in an extension\u2026 the extended extension starter has some examples.\nThe key is the path, above you're using YAML (and that is also one way to go) so if you were pointing at a custom controller you'd end up with something like:\nyaml\ncustom_route:\n  path:           /{year}/{month/{day}/{slug}\n  defaults:       { _controller: 'Bolt\\Extension\\Author\\MyFooBar::myStaticFunction' }\nThe controller's PHP route function would looks something like:\nphp\npublic static function myStaticFunction($request, $year, $month, $day, $slug)\n{\n    // Do stuff here\n}\n(all typed out pseudo-code off the top of my head, no promises that I didn't derp)\nIt is all very do-able\u2026 but you're starting to hit a learning curve here\u2026 and it is fun\u2026 seriously! Just don't be put off by it at first\u2026 once it clicks you'll be pumping this stuff out in no time! :grin:\n. Closing as answered.\n. Closing as answered.\n. @sofly here is a screenshot from the current master.  Things coming along very nicely :-)\n\n. @sofly here is a screenshot from the current master.  Things coming along very nicely :-)\n\n. NOTE: what follows is intended for Bolt 2.1 (or later) and should be considered a Work in Progress\u00ae\nI have made a first pass in my feature/monolog branch. There are providers for the Bolt system logging, content/storage change logging and Silex debug logs.  The latter to a file in the Bolt cache directory.\nNagging, whinging and complaining in a constructive manner most welcome and encouraged.\n. NOTE: what follows is intended for Bolt 2.1 (or later) and should be considered a Work in Progress\u00ae\nI have made a first pass in my feature/monolog branch. There are providers for the Bolt system logging, content/storage change logging and Silex debug logs.  The latter to a file in the Bolt cache directory.\nNagging, whinging and complaining in a constructive manner most welcome and encouraged.\n. Any objections to file and line being dropped from the system logging?\nIt is extracted from debug_backtrace() (which feels dirty \u2014 hand me some SOAP someone) and I am not seeing the value in it myself for most log messages, those logger calls that need them could add __FILE__ . '::' . __LINE__ to the message.  Two less columns...\n. Any objections to file and line being dropped from the system logging?\nIt is extracted from debug_backtrace() (which feels dirty \u2014 hand me some SOAP someone) and I am not seeing the value in it myself for most log messages, those logger calls that need them could add __FILE__ . '::' . __LINE__ to the message.  Two less columns...\n. @rarila I have added FirePHP support now, e.g:\ntwig\n{{ firebug(record.values) }}\nor\ntwig\n{{ firebug(record.values, 'some text') }}\nor\nphp\n$app['logger.firebug']->addInfo($msg, $var);\nIt all Works For Me\u00ae but I still want to write up an RFC when I get back to the EU, and have a few of us discuss results against a solid proposal.\n. @rarila I have added FirePHP support now, e.g:\ntwig\n{{ firebug(record.values) }}\nor\ntwig\n{{ firebug(record.values, 'some text') }}\nor\nphp\n$app['logger.firebug']->addInfo($msg, $var);\nIt all Works For Me\u00ae but I still want to write up an RFC when I get back to the EU, and have a few of us discuss results against a solid proposal.\n. This is now in 2.1-alpha.\n. I'm putting a hand up for this, I need it :-)\nDid you have any thoughts on how/where with respect to code?\n. I'm putting a hand up for this, I need it :-)\nDid you have any thoughts on how/where with respect to code?\n. TYVM...  I'll look deeper early next week.\n. TYVM...  I'll look deeper early next week.\n. Curiosity got the better of me...  I've made a start in the feature/Cron branch of my tree :-)\nOne question though...I've create/registered a CronServiceProvider (copy of CacheServiceProvider with text changed) and a 'Cron' class, however when I call it from the Nut I get:\n Class 'Bolt\\Provider\\Cron' not found \n...yet the 'Cron' class is in 'Bolt' namespace.  I've read through the links mention on the Internals of Bolt page (and committed a PR for a URL ;-) ), but the missing part is not obvious to me.\n. Curiosity got the better of me...  I've made a start in the feature/Cron branch of my tree :-)\nOne question though...I've create/registered a CronServiceProvider (copy of CacheServiceProvider with text changed) and a 'Cron' class, however when I call it from the Nut I get:\n Class 'Bolt\\Provider\\Cron' not found \n...yet the 'Cron' class is in 'Bolt' namespace.  I've read through the links mention on the Internals of Bolt page (and committed a PR for a URL ;-) ), but the missing part is not obvious to me.\n. Le'sigh...  It was caching.  Anyway, progress is now being made and looking forward to this one being closed :+1:  :-)\n. Le'sigh...  It was caching.  Anyway, progress is now being made and looking forward to this one being closed :+1:  :-)\n. OK...  Ready for a first round review.\nAs documented in app/src/Bolt/Controllers/Cron.php, to create a listener you need to something similar in your class:\nuse Bolt\\CronEvents;\n    $this->app['dispatcher']->addListener(CronEvents::CRON_INTERVAL, array($this, 'myJobCallbackMethod'));\nWhere CRON_INTERVAL should be replace with one of the following:\n- CRON_HOURLY\n- CRON_DAILY\n- CRON_WEEKLY\n- CRON_MONTHLY\n- CRON_YEARLY\nThis works for either internal code or an extension just fine.\nNow there is an (empty) event class where I figure we can put the stuff that we deem belongs there permanently, just need to decide on what and then I will add it in the next round of commits.\nComments/constructive criticisms welcome!\n. OK...  Ready for a first round review.\nAs documented in app/src/Bolt/Controllers/Cron.php, to create a listener you need to something similar in your class:\nuse Bolt\\CronEvents;\n    $this->app['dispatcher']->addListener(CronEvents::CRON_INTERVAL, array($this, 'myJobCallbackMethod'));\nWhere CRON_INTERVAL should be replace with one of the following:\n- CRON_HOURLY\n- CRON_DAILY\n- CRON_WEEKLY\n- CRON_MONTHLY\n- CRON_YEARLY\nThis works for either internal code or an extension just fine.\nNow there is an (empty) event class where I figure we can put the stuff that we deem belongs there permanently, just need to decide on what and then I will add it in the next round of commits.\nComments/constructive criticisms welcome!\n. Thank you, this confirms my thinking.\nI was thinking the 03:00 would be a good thing for a config.yml.dist\n. Thank you, this confirms my thinking.\nI was thinking the 03:00 would be a good thing for a config.yml.dist\n. Oh, and I was already thinking in terms of the update service provider...  down to mirroring of chosen file permissions :-)\n. Oh, and I was already thinking in terms of the update service provider...  down to mirroring of chosen file permissions :-)\n. PR #994 submitted with compulsory jobs, clean ups and configuration option.\n. > in 2014 this should not exist locally on a host machine\nYes and no.  Scale is key here. \nIf you're using a web hosting service and you just want to run a simple website (something that Bolt is very good at), you're almost certainly stuck with your database on the same host.  I certainly have a couple of sites that fall into that category and it wouldn't make economic sense to deploy a host simply for SQL.\n. > I've never tried to create a contenttype for \"sheep\". ;-)\nAll manner of laughter and further jokes went through my head reading this late on a Friday afternoon!\nI'm only a day into reading Bolt documentation and code, so an immediate suggestion is beyond me.  Especially considering that the above is also already mentioned in the \"Templates and routing\" document page (it's Friday) ;-)\nHaving said that and further thinking out aloud, contentlink and contentlisting theoretically should still somehow route separately as they may be similar, but not identical.  But I was a victim of reading the WordPress codebase, so I am still recovering.\nHowever, others might have better insight.\n. OK, so I just noticed that this is already implemented for imagelist field types.  So really the issue/question is solely related to image field types.\n. It is, I am still learning the Bolt code base though so any quick pointers would speed this up for me.\nAgreed on 'title' too.\n. You, Sir, are awesome...  That is exactly what I need. \nI agree about backward compatibility, and is largely why I filed this instead of just trying something myself first.  I shall make a start tomorrow morning (GMT) and see where I get to!\n. RFC/TOL\nWorking through some experiments here and initially I worried using 'title' in the YAML file might be a bit confusing so I looked at the HTML5 spec and noted that there are some attributes that we may or may not want to include in future.  \nSo for the Contenttype part I am thinking something like this:\nimage:\n            type: image\n            attrib: [ alt, usemap, crossorigin ]\nAdvantage I see to this approach is that if we start from the beginning by using an array of attributes, extending how we implement them in Bolt later on is less painful.\n. In current context, \"tits on a bull\" as we say in Australia.  My thought was to do something that was forward compatible with anything that may be introduced into HTML5 that we haven't thought of yet and in turn not have to jump though hoops with Bolt in the future... \nSort of \"Why would anyone need more than 640KiB of RAM?\" thing\n. Nitpicks very welcome on that patch...  It should be a very clean try albeit any tabs or the like that snuck in.\nObviously documentation will need to be updated, but give it took me 7 weeks to the day to get this done in a couple of hours, I am sure I can remove one more finger from said spot and write that up too :-)\n. Feature submitted in #996 \n. Looking at something else, I ran into this and @mike-anthony seems to be 100% correct, extensions don't get a look-in with a $this->app->match() if the routing controller is already found a match.\nBut for the life of me, I can't as yet see how extensions could be init'd any earlier...  It would be a nice to have though.\n. My guess would be that if you're using well planned server-side fast-cgi and database caching, you will be talking a large number of users before you hit problems...  \nI too am looking at an implementation with a reasonable number of backend users, though I am talking sub-50 concurrent (with a very busy frontend) and Bolt kicks butt when it comes to low resource use in my testing. Server with 1GB RAM, Nginx, and already hosting several WordPress sites.\nJust my two Euro cents.\n. :+1: for :sparkles: \"Showcase\" :sparkles:\n. Hi William,\nI have some good news for you, and it is one of the things that made me fall in love with this work myself recently.  A default and unmodified install of Bolt will create its own flat database file...  You can, out-of-the-box set it up and avoid using MySQL/Postgres, which is the configuration that is discussed in your linked issue.\nSo test away as you desire on your own machine and see how awesome this CMS is :-)\n. @marcj, good news is that thread and the experience I have had.\nWhen you look in app/config/config.yaml.dist (which gets copied minus the .dist on install), you will see that the default database driver is flat file and security agnostic....   I will simply say that a password-less database is a bad idea, if you don't know why then you should try to enter the USA in my escort ;-) however, if you won't it in a simple form, this product makes it pleasantly simple for you.\nP.S. I am on a cross-country train, I can't look (easily) at the code base to give references, but following @bobdenotter 's documentation, this is all very easy to achieve.  Again, the people that make this software make it worth using \n. @marcj, What I was trying to say in my sideways comment was that the US border control is interested in me and what they know is inside my head, not my laptop...  the reason for being vague is that most of what I have to say can't be said publicly.  My contact details can easily be found on the Internet however, and I am happy to sit with you one day and expand on it over a coffee or glass of wine.  \nMy initial response is to the fact that @WilliamVercken made the comment that:\n\nI really want to test this CMS\n\nThe reply I gave to that was that he can, as by default Bolt will set up an SQLite database file in app/database/bolt.db that doesn't require a database password.  That is true, and I saw that as a helpful response from someone trying to contribute to a community.\n@marcj I also want to say that your comment(s) do have a lot of accurate information/concern and I was not trying to argue that down.  However, speaking for myself, my professional concerns with having a password free option is that is that it has the potential to create/encourage bad practice, and have lost count of the amount of time that my auditing has uncovered security holes created by brain-dead laziness as far down the track as UAT and even production.\n. +1 and I had been meaning to add this request myself...  Of course because I wanted to tag 'Belgian Beers'\n. I'm having a look at this one at the moment @bobdenotter, it must be my week or something.\nMaking the change to Select2 is a two-line change in sub_edittaxonomies.twig, but tags are written/retrieved in the slug field of bolt_taxonomy table...  I _am looking in Storage.php and Content.php, and I think that the retrieval point is at sortTaxonomy():\nphp\nif ($taxonomytype['behaves_like'] == \"tags\") {\n                continue;\n            }\nIs there an existing function in Storage that looks up the tag slug in the db that can be used/enhanced?  And of the top of your head, where is the setting done for write back to the db?\n. @tobias2k: The person with an OCD for nomenclature :+1:  this \n. Yeah, I am grasping at time to continue to bang-my-head-against-the-wall for a similar workaround in #827 \n. One idea that just sprang to mind.  Create a single field 'version' table in the database that tracks Bolt versions and runs update scripts (at the user prompting) upon recognising that 'current > old' version?\nPro\nFlexibility in database impacting changes in the future \nCon\nImmediately breaks rollback, the prompt to the user should be one to backup the database for just that need.\n. You're right, and K.I.S.S. wins every time.  Ugh, coffee first, thinking second.\n. A work around (at least for the photo) could be to use Gravatars.\n@bobdenotter can the user section be extended via an extension?\n. Gah, sorry @mike-anthony I only looked at open issues.  But thanks both of you :-)\n. I can't answer your question.  But I want to add that logging on with either a username or email address would be a nice addition to core code \n:+1: myself :-P\n. The other advantage is that it would make single-sign-on easier to implement...\n. The bolt.db file is the SQLite database that Bolt uses for a default install if you're not using MySQL or the like.\nThe database schema, as far as my code reading goes so far is done in app/src/Bolt/Database/IntegrityChecker.php\n. How did you go with it?\n. Le d'oh...\nPHP message: PHP Stack trace:\nPHP message: PHP   1. {main}() /var/www/bolt/index.php:0\nPHP message: PHP   2. Silex\\Application->run() /var/www/bolt/index.php:28\nPHP message: PHP   3. Silex\\Application->handle() /var/www/bolt/vendor/silex/silex/src/Silex/Application.php:493\nPHP message: PHP   4. Symfony\\Component\\HttpKernel\\HttpKernel->handle() /var/www/bolt/vendor/silex/silex/src/Silex/Application.php:516\nPHP message: PHP   5. Symfony\\Component\\HttpKernel\\HttpKernel->handleRaw() /var/www/bolt/vendor/symfony/http-kernel/Symfony/Component/HttpKernel/HttpKernel.php:66\nPHP message: PHP   6. call_user_func_array() /var/www/bolt/vendor/symfony/http-kernel/Symfony/Component/HttpKernel/HttpKernel.php:126\nPHP message: PHP   7. Authenticate\\Controller->login() /var/www/bolt/vendor/symfony/http-kernel/Symfony/Component/HttpKernel/HttpKernel.php:126\" while reading response header from upstream, client: 192.168.122.1, server: bolt.example.com, request: \"GET /authenticate/login HTTP/1.1\", upstream: \"fastcgi://127.0.0.1:9000\", host: \"bolt.example.com\"\n. After running grep -rn page across the whole code base I came to the same conclusion...  Seems the word page is used more than a few times!\n. My gut response, having done similar things myself, is file cut&paste...\n. :+1: Thank you!\n. I am using Bolt for many of the same reasons, and I will (as an outsider) pitch in and offer people help where I can. I also agree, most conversation that is not directly emailed is conducted here on Github issue tracker and that is far from ideal as it is incredibly distracting for core developers to keep track of real issues.\nI also have issues with Disqus, but while I am capable of writing a workaround, it is a lot of work for what it does \u2014 and does well \u2014 so I am sticking with it...  But that is my call and my side-effects are my own to manage.\nAs for in-built forums...  I am currently migrating away from the Voldemort of web software and one of the mistakes I made in the former implementation was to try and integrate forum software (again, my own personal problem and insight).  I have contributed hundreds of lines of 3rd party code to said project solution and while my code is good, the problems it is trying to solve are not worth the effort or maintenance as a) forums are hard to do right, and b) most people don't do it anywhere near right.\nWhen approaching possible solutions, the question I like to clarify is \"What is really the problem I/we are trying to solve?\", that often provides useful insight.  :-)\n. TBH, the best place I found to get my head around it was reading through existing extensions first, then building a simple template and also looking though pull requests as they tend to mention what/why is the change...  \nSeriously, there is some elegant stuff in there if you look and take some time to understand, and for PHP code that is saying something ;-)\n. Twig documentation...  Bolt is built on Symfony and Twig.  If I am in a .twig file and don't understand the way forward \u2014 for example for loops \u2014 I have been Googling \"twig for loop\" and the docs come up :-)\nWaffleOrders is a good sample example of how to use extension specific tables.\nFor idiots like me (too), more of it still needs to be written I guess ;-)\n. I'll reserve the redhead, if no one has objections...  :+1: \nI too would like to see an easier approach for some things, but @tobias2k is correct, some of this stuff takes a lot of work for a questionable ratio of benefit and we don't want to open security holes, as much fun as they are for trolling your co-workers with.\nI think Bob made a good point earlier about the parts of the backend that need raw YAML editing should not be exposed to end users anyway...  An example being a management type doing this without telling anyone:\nbranding:\n  name: MyCoolestCSM\n  path: /blondes2myroom\n...all of a sudden network admin are being yelled at by marketing as http://example.com/bolt/ no longer lets them log on and do work.  :-)\n. Ol\u00e1 @andersonamuller \nI overwrote my timthumb.php with the gist linked, emptied Bolt's cache and restarted php-fpm and the problem still persists...\nThe problem itself is easy enough to produce though, you only need to clone and checkout as of the previous merge (without using Composer) and you can encounter it.  I tried on several fresh installs to make sure it wasn't me :-)\n. Nnnnnnginx...\n. If it is of any use, I am using the (mostly) unmodified conf file from http://bolt.cm at present...  The mostly part is just adjusting directory paths.\n. /facepalm\nI am going to go and hang my head in shame and then re-test with both changes (nginx and timthumb)...  Be right back!\n. Not for one second do I doubt you, but I am having no luck when removing the following:\nlocation ~* /thumbs/(.*)$ {\n        try_files $uri $uri/ /app/classes/timthumb.php?$query_string;\n    }\nCan you paste in \u2014 for a tired Sunday coder \u2014 your host.conf file that you are using and I will adapt that.\n. Hmmm...  OK, your does work, however it introduces something I am not sure is a good idea.\nThese first two sections, are 'whatever'...\nlocation ~* /thumbs/(.*)$ {\n        try_files $uri $uri/ /app/classes/timthumb.php?$query_string;\n    }\nlocation ~* \\.(?:ico|css|js|gif|jpe?g|png|ttf|woff)$ {\n        access_log off;\n        expires 30d;\n        add_header Pragma public;\n        add_header Cache-Control \"public, mustrevalidate, proxy-revalidate\";\n    }\nThis however raises an eyelid:\nlocation /app {\n        deny all;\n    }\nI know @bobdenotter is planning to move /app/ and /vendor/ out of web root, but opening them up doesn't sound like a good idea...  Of course I may be missing something obvious here, I am really tired right now :-)\n. Reading though Nginx.org documentation and performance stuff, I am also a little more quirked about the lack of expiry being set on static objects.  \nOn a quiet day we really don't have more than 1,000 visitors a day, when we publish something that 'starts a conversation' we can have 80-100,000 unique IPs in 24 hours...  Not exactly Slashdot in the 90s, but still bring our server to its knees and that is the sole reason we switched to Nginx, scalability and working around the tsunami effect.\nI do really like what you're working to achieve here @andersonamuller, but a better approach is needed I think.\n. Oh yes, obsolescing that rule I agree with. :-)\nI am happy to email gawain.lynch@gmail.com you some more details configs, they are a bit large for here...\n. NIt-picky is very welcome in my book...  I will fix these up and send a new pull request\n. Yeah, having a brain fail day today...  Just pushed requested changes up.\n. :+1: \n. Tr\u00e8s bien ami.  Your language is your joy...  and I am tired too :-)\nP.S. sorry if I got the French wrong\n. No, it is two years of learning French (badly) and two sisters who are university level fluent in French (one was born and grew up in Paris)...  My partner says I can eat and drink in 6 languages, program in 12...  But still struggle to speak the first one :D\nI was looking at it now, not as easy as Twitter and friends.  If I wasn't wanting to head-butt my keyboard I probably would have finished it, but I can see Bob's nitpicks now so I am working harder ;-)\n. Nah, Dutch is cool when you get a bit of an idea why things hang together in really long ways.  Anyway, I was born in Australia so I can't criticise any other language/accent!\n. :+1: \n. Closing this now as extensions are now external to core.\n. Yes, I hadn't gotten back into the habit of branching and the commits got combined in the PR >.<\n. Didn't think of that...\nBearing in mind it is Friday afternoon-brain...  Is this something we can actually avoid with this change?\n. On to it, going to put it into a different branch while I am there\n. OK, maybe a \"I shouldn't be tackling this with a-glass-of-wine-in-hand\" question, but {{ record.image }} refers to the current record with a field named image rather that a field type?\nIt is just that get() works magic on $this->values[$name] and at this time of the day that looks like a field name operation.\n. Updated version submitted in #996 \n. Sans knowing better, I am (currently) using:\n$content = $this->app['storage']->getContent('mycontenttype')\n. I don't think it is possible to test without coffee...  So 'either' is not suitable in this context ;-)\n. Yeah, a 1.1 thing I was 'hoping'...  Vote stuffing is possible, but I had to think about how the DB query should be done and at what expense, but I guess we're querying anyway........\n. Closing this one so I can at the very least sync with master and submit without conflicts\n. Fwoar :+1: \n. Yep, it need the following added to the top of the extension.php file:\nuse Bolt\\StorageEvents;\n. What error was logged?\n. Gah, don't worry about me...  I'm just wrong in the head...\nYou need to also find the line:\n$app['dispatcher']->addListener(StorageEvents::postSave, function (StorageEvent $event) use ($app) {\nAnd change it to:\n$app['dispatcher']->addListener(StorageEvents::POST_SAVE, function (StorageEvent $event) use ($app) {\n. I've submitted a PR to the author of TagCloud with those fixes here: https://github.com/GawainLynch/bolt-extension-tagcloud\nCloning that tree Works For Me \u00ae\n. OK, yeah there seems to be a few internal changes.  I want to use it in production too, so I am going to have a look and try and sort the rest out tomorrow (GMT).\n. @trigau I have found and fixed the problem, pull from git@github.com:GawainLynch/bolt-extension-tagcloud.git\nTested and works just fine for me.with {{ tag_cloud(record|contenttype, {view: \"raw\", link_options:{class: \"tag pretty\"}}) }} \n. ...and was just now merged into the authors repo, so you can pull from there too :-)\n. :+1: \n. Re-adding under a real branch to properly separate PRs\nBob, I know you see a problem with this... But the problem is valid and we need to find an optimal way to fix it :-)\n. Ouch... good call :+1: \nMy regex is so-so, but with PHP's 'implementation' I suck.  But I would pose the question what is the most likely burn case \u2014 either we have a corner case as you highlight, or a definite?\n. Roger that, I'll amend the commit/PR\n. Done\n. @flrvt I have done plenty of stupid Git stuff-ups lately... I am also here to help where I can (just another member a good community)\n. Worth a look, just for the genius: http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\n. :+1: \nI hadn't seen that one, I'll tell you who sent it to me when we get that drink!\n. Just looking through the code in MenuEditor extension and I am wondering if the approach Steven has taken with injectAssets() is the right way to go, and we should just do insertions of CSS/JS before the </head> or </body> tags.  I just figure we're far less likely to get caught with those ones commented out than <script></script>\nAlso reference #987 \n. Agreed, just pointed to as a non-core example of a way of getting there... Plus I hoped it might rope him into the conversation (with a possible solution) ;-)\n. I'll but the first drink!\n. :+1: \n. Ah, yes, it is...  I actually ran into this when developing the RateIt extension as I was looking at how SimpleForms does it's injection, the regex is not matching quite correctly and I forgot to open an issue for addCSS() as well when I filed/fixed #981 \n. Hi Benjie,\nHave a look at the Routing section at http://docs.bolt.cm/templates-routes that will give you what you want to  know.\nThe section you are looking for it the bit with:\npagebinding:\n    path:           /{slug}\n    defaults:       { _controller: 'Bolt\\Controllers\\Frontend::record', 'contenttypeslug': 'page' }\n    contenttype:    pages \n. > Do I need to restart the server after every changes\nDefinitely not.  For me it \"Just Works \u00ae\"\nThe .yml files should get auto created from the matching .yml.dist template files in the same directory, you shouldn't need to go to git.  Can you access the \"Routing setup\" menu item under the \"Settings\" menu in the backend?\nOne thought, did you check the file permissions on routing.yml are accessible by the web server's UID?\n. Gah, if I'd known that it was so far out, I would have fixed it up yesterday...  Thanks though.\n. Looking into it now though\n. Conflict resolved and pushed\n. No problem, not taken as a hint... Just thought that I should have kept a closer eye on a big change like that :-)\n. I blame the squawking geese next door...  and last nights wine.\n. Just a random thought, but try this under fields:\nslug:\n            type: slug\n            uses: title\n. @bobdenotter, your error is covered in my hotfix from yesterday.  The solution I sent just takes slug if there is no singular_name set.\n. > as this content should never be viewed alone and I don't want the end user to get confused about the slug if they notice it.\nI do this with 'resource' contenttypes too\n. > Congrats on issue #1000! ;-)\nYeah, it got a \"What the?\" and a laugh here\nOK, so a good (typical) use-case is how we do things on our site and a number of colleague larger community sites, is that there is a chief editor, editors and 'authors'*.  The 'authors' submit something for publication, the editors analyse it for various things \u2014 conversationally, currently in a forum \u2014 and then when the chief editor is happy that the content meets publishing guidelines, copyright, layout, etc., they hit the 'Publish' button.\nSo the meat of the request is to do with workflow and communication.  To some extent, much in the same way as Google Docs/Drive works with comments on documents that are a non-published part of the document development.\n. Yes, yes and yes!  That is exactly how I had envisioned it.\n. P.S. English is my first language, your second and you have spell checked me...  So I am not going to call you a noob on that one ;-) :-D\n. To my knowledge, not yet.  But I've had more than one thing like that pointed out to me lately.  \nI would like to have it too, as well as content lookup/retrieval for select options much in a similar way to how 'Relationships' works.\n. Most of it is on this page: http://docs.bolt.cm/content\nBut when I was learning Bolt (recently I might add), I used the Kitchen Sink contenttype as a reference for each field type and parameters.\n. Or 'hidden'...  \nI know Bob (lead dev) is more than keen to accept PRs for documentation updates on bolt-docs.  He's done a pretty good job so far, but Bolt 2 work has most of his time right now.\n. Ugh...  Use case would be useful here.\nSite has a content type 'parts' with all the information fields to do with machine parts, and 'manual' which when using its template has a specifications section that you show data from the relevant part...\nSo in contenttypes.yml:\nmanuals:\n    name: Manuals\n    singular_name: Manual\n    fields:\n        title:\n            type: text\n            class: large\n        part:\n            type: select\n            label: \"Part\"\n            values: parts/title\n. Yep, just made sense to do documentation after any impending changes in the PR discussion :-)\n. In https://github.com/bolt/bolt-docs/pull/61\n. Cool, I really thought I was going to have to come up with better use-cases to get buy-in, so I limited the request based on what I thought would be acceptable, but we are actually very much on the same page!\nI'm off to the Netherlands this week (/wave), but when I am back I will try to follow up this with some better baked plans.\n. OK, I've had a bit of a poke around and would be interested on some feedback on what I am thinking now.\nFirstly, I think widget/widgets would be better served with a class of their own, there is a lot of bouncing around going on at the moment and I found the current implementation hard to follow \u2014 on a Friday night with a glass of wine in hand ;-)\nSo something like class Widgets {} and class Widget extends Widgets {}.  Widgets is probably a controller, and in extensions we create a Widget instance and have a bunch of setters for things like (source obvious):\nphp\n    public $type;\n    public $location;\n    public $callback;\n    public $extensionname;\n    public $twigtemplate;\n    public $additionalhtml;\n    public $defer;\n    public $cacheduration;\n    public $extraparameters;\nThe widgets class probably lives in $app['widgets'] etc...  Thoughts and suggestions very welcome!\n. @tobias2k your input is, as always, very generous and helpful!  Collaborating with you and Bob :+1: \nI need to think about this a bit more (obviously) and this week is dedicated to writing customised migration code from WordPress/bbPress, so I don't right now I want to mix _cough poetic code / principles _cough with this ;-) (P.S. Yes I know there is an extension in Bolt that does some of this, but knot nearly enough and the results for heavily customised types/taxonomies from WP is... well...)\nAnyone else with thoughts, or template code, would be very much appreciated too.\n. > I guess what I'm trying to say is that since we'll be rewriting quite a lot of core Bolt stuff, we should try to get this right, keep it simple, but not too simple. Also, think first, then code.\nK.I.S.S is probably my favourite acronym.  So, 'yes' to all of your points there too\n. Apache or Nginx?\n. JACM (just a community member), but Anderson (#937) did mention a problem with .htaccess not being updated causing problems...  Past that I am just being a JACM that hit a similar problem.\n. Le d'oh...  Missed the comment...  Trying a git push now via https... and done!\n. \nI was in the middle of preparing a last-minute conference paper at the time.  Dank u wel.\n. I had two wines over lunch to calm my nerves...  :-D\n. I've only quickly looked before I head out for coffee, but that is nice stuff, and you saved me some work I was going to do myself next week!  :+1: \n. I did have an issue and am stuck without SSH access until next week, at which time I can look...  But I am very sympathetic toward your problem and workload @andersonamuller, hence why I mentioned you when I saw this one :-)\n. > Ideally, we completely phase out timthumb altogether, and replace it with a component we manage via Composer. :-)\n:+1: \n. @bobdenotter what about https://github.com/masterexploder/PHPThumb as it is PSR/Composer compliant?\n. Yep, I almost eye-gouged myself looking at TimThumb yesterday trying to fix a workaround for something, but happened on this by accident this morning.\nOne of the things that I thought might make this suitable for Bolt is the plugin system, so we don't have to carry out of tree modifications like we do with TimThumb.  That and from reading the documentation the author at least seems to be open to collaboration (that would obviously need to be human-tested).\n. My one concern, maintainer status.  His domains don't seem to be active, but I've pinged him on Twitter, and shall update if I get a response.  However there are some PRs gaining the age of a drinkable wine...  \nBut @tobias2k makes a perfect point, and if you could convince someone that forking it would forgive recent 'commit oversights' he might just say \"Oh, fork-it, I'll forking do it\"\n. For the purpose of freely breaking/testing, I've set up https://github.com/GawainLynch/PHPThumb and added both of you as contributors, so you have write access, and merged what looked to be the correct PRs.\n. :+1: \n. @rixbeck has a copy of the cset and it is conflicting with master now.  \nClosing and curing the OCD attack for @rossriley and @gawainlynch\n. > ORDER BY Array\nDon't know SimpleForms to well, but somewhere you are passing something in as an array for the ordering, maybe a ['value'] thing?\n. > Going to leave this open, to see if more people want this.\n:+1: \n. @cdowdy that is a legendary response, thank you.  I'll read up further.  My history is in backend so frontend principles are not always well understood in my head.\nI'm doing front-end in Foundation, not Bootstrap, but many of your points don't change because of that.  TBH my need is to work around a shortfall in Foundation-meets-TWIG code duplication, hence the RFC tag on the issue.\n. Looks like something that is begging to be replaced with some upstream code...  ;-)\n. Thank you both for comments, closing as [NOTNEEDED]\n. ...and apparently some white-space clean-up\n. OK, that one I will blame on Dutch beer >.<\n. Will get back and actually test again this afternoon.\n. OK, so this time I used Czech beer instead and tested it with a {{ print(app.paths) }}\n. http://developer.yahoo.com/blogs/ydn/high-performance-sites-rule-6-move-scripts-bottom-7200.html\n. Added a github issue on bolt-docs to remind myself when I get back to Portugal.\nInterestingly my current set-up does do exactly what you describe and there is jQuery inserted which seems to work fine...  I will test further when I get home tomorrow and see if I can identify a safeguard.\n. @bobdenotter, your given example, do you mean the breakage to happen if jQuery is inserted after the extension (or the like) inserts in-line JavaScript (i.e. an ordering issue)?\n. [chair-table-quiet-environment]\nNever mind, Bob, I get your point now.  Big week, doco on its way soon enough\n[/chair-table-quiet-environment]\n. OK, commenting as I go, @bobdenotter, et al.\nUsing addJavascript('my_extension_jQueryAction.js') in an extension in the current HEAD with base-2013 including jQuery on its own fails regardless:\nhtml\n<script src=\"/app/extensions/my_extension_jQueryAction.js\"></script>\n<script src=\"/theme/base-2013/javascripts/jquery-1.10.2.min.js\"></script>\n. So $this->addJquery(); is the only safe way to include a bundled jQuery and preserve correct inheritance/inclusion...  Starting to smell like where/why VoldemortPress does things the (wrong) way they do.\nMy head hurts and wp_enqueue_script() is nothing short of a freakin' disaster for MVC instrumented output, but I am having trouble imagining something past a warning in the documentation  \nI know I wasn't asked for anything but that, but does anyone have some wisdom toward an elegant solution?  (@tobias2k I am also looking at your OCD now in hope)\n. [GooglePagespeedNerdism]\nWhen you are talking to me about HTML, really, at the end of the day I care about one thing...\n[/GooglePagespeedNeridsm]\nHowever real people have real problems, I think I will just do my best (in the light of a new day) to spell that out in a documentation update.\nWhat I was envisioning today was extensions that were enabled by themes, as I forgot to enable a new extension on staging and when I pushed the theme up I got a 500 error...  Less than ideal for something that could have turned {{ myfunction() }} into a bit of whitespace if I had missed a config option!  This however is its own RFC!\n. To finish what I meant, a compulsory extension could be enabled by a/the theme to call $this->addJquery();\n. > Problem is, I don't see how we'd change Bolt to the point that it'd be require-js-able without utterly breaking any existing sites.\nThat one is really a Bob call.\nI feel that we need to do something, this project feels like one that is going to continue to grow and grow ;-) so at some point we are going to have to break things to make them better, it is a question of current userbase or larger userbase.  That kind of breakage is major version attached though, maybe for a Bolt 3.0 with deprecation warnings and documentation in 2.0.\nI haven't used require.js so I don't know if you can use both side by side to allow for a period of time to give developers the chance to migrate to the new way before it becomes standardised in 3.0 (or whatever version).\n. > I don't mind breaking things for a major version. At all.\nSo do we create this as a task for 2.0 or 3.0?\n. > This is a pretty big thing\n:+1: for 3.0\nIt would also give the advantage of warning people now about what is going to change and mindset/expectations can be adjusted accordingly.\n. Git Flow style?\n. I haven't moved on it myself, real life can be like that...  But if you put something down Bob and Tobias can comment in their available time (not meaning to put them on the spot, they're just good at doing that \u2014 well).\nTBH, I am really looking forward to seeing something come of this one as I am a performance junkie, and like my scripts/etc called in the right order and at the right time...  at the very least I'll give you what feed back I can :-)\nOh and one of us should open an RFE for that (and reference this PR) rather than continuing the conversation here... /wink\n. OK, beer all around then!\n. So a 04:30 am start might have me misunderstanding this, but for my breadcrumbs I am just using:\n{% if record.contenttype is defined %}\n. @kix I made a similar effort on another project a few years ago and had the most success with keeping committed changes limited to single directories so the changes were easier to review.  I don't know Bob's preference, but it certainly made merging/reviewing much quicker in my instance.\n. I know that Bob would appreciate a PR: https://github.com/bolt/bolt-docs :-)\n. Installing now, but I saw in the readme.md that you want the 'record' passed to the TWIG function.  You could possibly use something like this in the extension so avoid that:\n``` php\n    private function getRecord()\n    {\n        if (isset($this->record)) {\n            return $this->record;\n        }\n    $globalTwigVars = $this->app['twig']->getGlobals('record');\n\n    if (isset($globalTwigVars['record'])) {\n        $this->record = $globalTwigVars['record'];\n    } else {\n        $this->record = false;\n    }\n}\n\n```\n...yet to read your code though!  Back in touch soon.\nOh and yes, you are alive and have a welcomed sense of humour :-)\n. Oh and one other thing, is there any reason it couldn't use the jQuery bundled with Bolt?\n. I may need beer too :+1: \nI've added a $this->addJquery() to the initialise method (almost called it a function then, see I do need beer), and set this to a late call like so:\n$this->addJavascript(\"assets/{$editorjs}\", true);\nHaven't got it working yet though :-/\n. Uncaught Error: Error in Rangy Serializer module: serializeRange(): range [WrappedRange(\"This is the field text\":0, <H6>[9][11][\n        Written by <em>G]:0)] is not wholly contained within specified root node <EDITABLE id=\"ruid-1396017603346-39038...<omitted>...o]\n. No problems, just trying to be useful on a Friday afternoon...  Not my most useful day :-D\n. I just used a _cough bolt standard _cough base-2013\n. Chrome 33.0.1750.152 on Linux\n. Confirmed it works in Firefox 28.0...  and it is LOVELY!\n. > 1) if you're not logged in yet, you get this error:\nIsn't that if you've not enabled the extension but added the theme code?  i.e. works fine for me.\n\n3) I changed the order of the javascripts to be:\n\nSame, but still no joy here\n. > This way I'm gladly having my evening beers for your health... and mine...\nIn Australia they have a rather awful beer called 'VB', locals refer to it as Vitamin Beer. ;-)\n. > > Isn't that if you've not enabled the extension but added the theme code? i.e. works fine for me.\n\nThat is when i have enabled the extension, and i have it added to the template, just not being logged on.\n\nWeird, OK though.  I had it bork for me with extensions that are not enabled but the filter/function is is set in a template and have been trying to think of a constructive way to report/fix it inside Bolt in the case that an extension author is not impacting the template developer/admin.\n. Well, it would have the benefit of less code and a more consistent user experience.\n. Rix, that is beautiful...  Just beautiful!\nMy only question, can we move from {{ editable('body', record) }} to {{ editable('body') }}?  It does still seem counter intuitive to include record in the TWIG function as that should already exist for us in the backend if we're editing records, ergo my previous example:\nphp\n$this->app['twig']->getGlobals('record');\n. Also, random thought...  Are we able to use the Bolt built-in CKEditor for consistency or is that too old?\n. Oh and the non-technical wife just had a look at it working in the front end and got really excited :+1: /salute\n. > I never got a reply from the guy about the blocking issue that prevents upgrading the internal editor.. Maybe it's about time to start looking into an alternative for that...\nMe either, the exact thought crossed my mind.\n\nEhh! What issue was that?\n\n@bobdenotter beat me to the explanation :-)\n. :+1: :+1: :+1: \n. That one also has Github activity, always a good sign...  Just watch out for ex-patriot Australians and awesome Hungarians ;-)\n. Don't worry, I am stalking you both on Github, I'll know :-D\n. Today is a big edit day for me, so it's going to get a good test at my desk, thank you very kindly, Bob!\n. Coffee...  I need alcohol today!  :-)\n. If you upload app/view/lib/ckeditor/build-config.js to http://ckeditor.com/builder you can make new builds to try and figure out what works (just drop the results over the existing Bolt files)...  If what we need added is only a small addition it makes more sense to add to core than to carry a second CKEditor I would say.\n. I'm only getting blank CKEditor boxes...  :-(\n. I think I owe you a beer...  Well your girlfriend too, if she is still talking to you!  ;-)\nI'll test now and let you know!\n. Oh, no updates in your tree...  Just humour here :-D\n. OK, so for some reason I couldn't git pull git@github.com:rixbeck/bolt.git from your tree, so I started with a fresh clone and that finally got the latest commit (c7844ed), but still nada.\nOh and the first rule of Bolt\\Storage is that you don't talk about Bolt\\Storage...  :-P\n. Just so we're on the same page, I got the https://github.com/bolt/bolt/commit/c7844ed commit (eventually) but that doesn't seem to fix things on my end...  If you have something new, try a new tree, let me know what it is and I will pull your branch...  \n...Just don't tell my wife, or your girlfriend :-D\n. You're not on a Mac are you!?!?\n. Win7, is that like when you play 7 football matches and win them all?  :-D\n. On a serious note, Firefox was worse, I didn't even get the edit box\n. THAT worked...  Check the results though...\n. Working very sexily for me my friend...  Thank you so much for the effort on this one, it is going to make two people in this office happy!\n. :checkered_flag: :beers: \n. You're not going to believe this mate...  It works perfectly on base-2013, but fails to even return the field HTML on my theme...  The major difference being Foundation 5 vs Bolt's F4 and in turn my jQuery is 2.1...  I've tried swapping out jQuery but nothing in the browser console or fast-cgi logs.\nI've peppered the TWIG function with debugs and the best I can give you is the value passed back to $html: \nhtml\n\"<section class=\"bolt-ext-editable\" data-content_id=\"ext_edit_articles_74\" contenteditable=\"true\" data-parameters=\"{&quot;id&quot;:&quot;74&quot;,&quot;contenttypeslug&quot;:&quot;articles&quot;,&quot;token&quot;:&quot;2c6137a1&quot;,&quot;fieldname&quot;:null}\"></section>\"\n. This is from the browser:\nhtml\n<section class=\"bolt-ext-editable cke_editable cke_editable_inline cke_contents_ltr cke_show_borders\" data-content_id=\"ext_edit_articles_74\" contenteditable=\"true\" data-parameters=\"{&quot;id&quot;:&quot;74&quot;,&quot;contenttypeslug&quot;:&quot;articles&quot;,&quot;token&quot;:&quot;2c6137a1&quot;,&quot;fieldname&quot;:null}\" tabindex=\"0\" spellcheck=\"false\" role=\"textbox\" aria-label=\"Rich Text Editor, editor1\" title=\"Rich Text Editor, editor1\" aria-describedby=\"cke_34\"></section>\n. Interesting while digging around that element, the JavaScript is working and CK is there, just no HTML  (obviously)\n. {{ editable(intro) }}\nWhere changing it to {{ record.intro }} works fine :-(\n. Oh, well, if you change it to that then the world comes to an end........... :bomb: \nActually that works and I need alcohol.  My shout!\n. Might want to update the docs, I just cut & paste & edited (lazy typist)\n. I am wondering if it is new console versus old...  You many not have chosen to go new or been given the opportunity...  My guess anyway :-/\n. :+1: \n. Ingl\u00eas funciona melhor do que espanhol:-)\nSays me in Portu\u00f1ol...  ;-)\n. Please don't apologise for using your native language, especially when talking to someone who make as many mistakes in Latin based languages as I do :-)\n. You might also want to cover the front end.  This works for me in the backend, but displaying the field in the front end doesn't show the 'nice' value, but the integer instead.\n. > Sorry, I have some problems with language\nNo problem, me too :-)\nIn contenttypes.yml I have:\ntype: select\nvalues: [[0,green], [1,red], [2,blue]]\nIn the editor I see:\n<select>\n<option value=\"0\">green</option>\n<option value=\"1\" selected>red</option>\n<option value=\"2\">blue</option>\n</select>\nWhen I go to http://mysite.com/kitchensink/myrecord where the select field is rendered I see\nhtml\n<p>1</p>\nInstead I should see:\nhtml\n<p>red</p>\n. Someone else may have better help, but look at getDecodedValue() in app/src/Bolt/Content.php that may be where you need to make the second change...\n. > Example?\ncontenttypes.yml\nyaml\narticles:\n    name: Articles\n    singular_name: Article\n    fields:\n        title:\n            type: text\n            class: large\n        slug:\n            type: slug\n            uses: title\n        image:\n            type: image\n            attrib: title\nEnter this and save:\n\nBecomes:\n\n. Yeah, sorry mate...  If I wasn't running on 4 hours sleep I would have gone looking myself :-(\n. No problems, I temporarily worked around the problem with patch -p1 -R < $(git show 0fa8e1c8) :-)\nAnyway, that sounds like a really good solution if it works out, I'll await the day you have more time and if I get some sleep I may have a look tomorrow myself.\n. Excellent, thanks!  You even got one of my indent typos :-)\n. ROFL, I call Godwin! :-)\n. Oh, on a serious note, I updated 15 records and it works beautifully!\n. Got me too, had a minor heart attack until I got my head straight. it's from: https://github.com/bolt/bolt/commit/f0647f4fa5b116db35e421e340c9d7a0834c6771\nBob said he's going to add it to the release notes.\n. No problems, I'm just passing on what Bob pointed me at :-)\n. If you get this done, and merged, you'll have a new Github fan here! :+1: \n. Yep, was more looking to start a conversation rather than just push a (bad) solution (need more coffee). In my case, I need to have this to finish the jump from VoldermortPress, so will happily work to get this right.\nBack soon!\n. BTW, I have used RAND() on 1,000,000+ row sets just fine...  I don't quite buy what is being said in that article.\n. > We want the decoupling anyway, if only for security and compatibility reasons.\nThat part I buy, and firmly agree with :-)\n. What about this?\nphp\nif ($order = $request->get('order')) {\n    if (!preg_match('/^([a-zA-Z][a-zA-Z0-9_\\\\-]*)\\\\s*(ASC|DESC)?$/', $order, $matches)) {\n        return $this->app->abort(400, 'Invalid request');\n    }\n    if (strtoupper($order) == 'RAND' || strtoupper($order) == 'RANDOM') {\n        $order = $order . '()';\n    }\n    $options['order'] = $order;\n}\n. Ah OK, I will update the PR and give Tobias a nudge :-)  \nSome days I wish I could have a seat next to you at work, Bob, as I am often sure there is an easier way already coded into Bolt but have to spend a while digging to find it :-)\n. What do you think about that @tobias2k?  I thought I'd cover a few possible input types to cover peoples differing habits...  Always happy to change though!\n. Attention to detail is important for me too @tobias2k, no need to apologise.  I was just trying to get something achieved simply at this stage.\nI've forked the extension now anyway as I need it for go-live and in turn I will close this PR and open an RFE for your proposed work.  Thanks very much for your time and input though :-)\n. Not to mention the other one returns a 301 \n. I have the same problem with the first, I want to look into it post go-live.\nWith the 301s, that is really a low cost thing.  To the best of my knowledge Google doesn't penalise them unless your server response is low and in that case you've got a different problem that Google is punishing you for.\nMatt Cutts has a video on this, I think on the Google Web Teams YouTube channel somewhere, but it has been 4 years\u2014or more\u2014since I last looked at/for them.  Anyway, long story short, 301s are there for a reason and used for that reason is OK.\n. A good example of how this is implemented site wide is Facebook:\nIf you try to access http://facebook.com you're first redirected to  http://www.facebook.com\n$ curl -I http://facebook.com\nHTTP/1.1 301 explicit_header_response_code\n[...]\nLocation: http://www.facebook.com/\n[...]\nThen to  https://www.facebook.com\n$ curl -I http://www.facebook.com\nHTTP/1.1 301 Moved Permanently\n[...]\nLocation: https://www.facebook.com/\n[...]\nNo shortage of 301s all day long there.\n. > It just seems a little inconsistent.\nAgreed.  But I would be looking at your sitemap.xml, because between that and inbound links is where your indexing is going to be driven from.\n. Hey Koen,\nI'm just a new Bolt user like you and I have come to love the software in the short time since I started using/working on it.\nI tend to be easily distracted and like looking at stuff like yours when I am supposed to be fixing things of my own, so just update here and I will happily look at and test (when I can) your changes...  I don't think a refactor hurts and looking at the history of Bolt, I think there has been at least one already so :+1: for being brave enough to make the effort.\nAll the best,\nGawain\n. BTW, just a quick heads up...  This is a PSR2 styled project, so setting spaces instead of tabs will go a long way :-)\n(I learned that at the \u2014 very kind \u2014 pickiness of Bob)\n. > Also, I really don't want to take another 6 months longer before we could release 2.0. :-)\n:+1: Good, some of us want it this afternoon ;-)\n. > This is the proof that Bolt's core is hard to use outside of Bolt\nEvery time I think that, Bob comes out with a method or function that is already there...  I have gotten in the habit of just facepalming myself every morning on Bob's behalf.\nWhich I think brings me to the point that I wish to make, I think one of the things missing from core is developer documentation...  So much is stuck in Bob's head but he has a limited time budget to get 2.0 out and try and do something like that.\n. Every layer is a good thing with security. Crackers don't go straight for the golden egg unless it is already low hanging fruit.\nI am guessing you could do what you want with a simple extension, but your clients need to be informed that this is just a layer and not a solution...\n. @bobdenotter and @rixbeck this (also) is on a clean install...  That persists with Editable extension folder removed.\n. Problem occurs as soon at 0cf3118 is applied, however I was ahead of this previously and worked on it all day yesterday and today.\n. Manually deleted cache directories in Chrome and both web servers, no luck >= 0cf3118\n. I am not sure that it is Editable if that wasn't clear in my dribbling melodrama :-D\nI managed to checkout an earlier CKeditor and that worked on first refresh without touching caches, so I went back to the content editing job that I somehow ended up with...  If CKEditor is a woman, she is one not to be taken lightly, she deserves respect I think :-)\n. No, you made perfect sense.  What I was trying to add was that all my updates on this were, in their own way, a form of melodrama...  Keeping the humour going ;-)\nI know what you mean about the debugging, I started on my own before filing the issue and determined that I would forget everything really quickly if I didn't log it here, hence the 'melodrama'\n. Sent you a private email...\n. A screenshot example for those either on the same issue or trying to reproduce it.\n\n. Done... even via filesystem with browsers and Nginx shut down.  I can literally swap out themes and it comes and goes.  \nRix is looking at it in a test environment I set up for him, but yeah any Bob-wisdom is always welcome by both of us!\n. /cheer :beers: \n. I will have a look soon, I am listening to http://www.bbc.co.uk/iplayer/episode/p01w7jzc/The_Documentary_Crypto_Wars/ and my laptop can't start a VM with iPlayer running.\n. Works For Me \u00ae :-)\n. Very much so, I am just hellishly time constrained presently due to almost-finished circumnavigation of the Plant Earth \u00ae.\nHaving said that if anyone else has the time, I don't think it is too hard to do ;-)\n. I think this and a couple of other things will get taken care of in the refactor...  Let's see what that brings out.\n. :+1: Yes please.\nI have need to add some things too, but I don't know for sure if they belong in Bolt core before CK 4.4 next month (let alone when it makes it to Bolt)\n. Roger that.  You've highlighted the source of my frustration, i.e CKeditor plugins not Bolt ;-)\n. My father used to say to me:\n\n\"Admit your mistakes and laugh at yourself...  Or someone will do it for you\" \n\n:-)\n. 1.5.6 is the latest, @maaike and there is lots of goodness in there\nhttp://bolt.cm/distribution/\n. We really need to clone you @bobdenotter :-)\n. Just a guess, but you're missing this from config.yml:\n```\nThe following is the default list of file-types that can be ulpoaded through the 'files' screen.\naccept_file_types: [ twig, html, js, css, scss, gif, jpg, jpeg, png, ico, zip, tgz, txt, md, doc, docx, pdf, epub, xls, xlsx, ppt, pptx, mp3, ogg, wav, m4a, mp4, m4v, ogv, wmv, avi, webm, svg]\n```\n. c.f. #1068 \n. Had been looking for weeks for 15 minutes to do the doco for this, improvements will come later ;-)\n. Oh, quite possibly.  I just woke up to the response for @maaike and thought I'd go ahead and fix something :-D\n. :+1: \nThis would win me points with my editors!\n. Partial incompetence with Twig on my side and partial time pressure (about to circumnavigate the globe for 3.5 weeks starting today).\nBut as per usual, that is really helpful @tobias2k.  I will attempt to address when I get to Australia later this week.\n. I should be packing, but your suggestions always get me thinking hard...  \nIs this the sort of thing you mean @tobias2k?\n``` php\n$html = $this->app['render']->render($this->config['twig']['twitter_share'], array(\n    'url' => $url,\n    'align' => $this->config['twitter_share_align'],\n    'count' => $this->config['twitter_share_count'],\n    'size' => $this->config['twitter_share_size'] \n));\nreturn new \\Twig_Markup($html, 'UTF-8');\n```\n. :+1: I struck this and just worked around it...  It was the start of me wanting to see the end of TimThumb (possibly unfairly in this case) in Bolt.\nhttps://github.com/bolt/bolt/pull/1020#issuecomment-38377713\n\nIdeally, we completely phase out timthumb altogether, and replace it with a component we manage via Composer. :-)\n\nI think there are a few that want TimThumb to be replaced, just someone needs to find the time.\n. Oh yeah, Easter...  I wondered where everyone was :-D\n. :+1: \n. > My only concern with this is that we'd be opening the door to all sorts of cross-dependencies between extensions, which would require quite some discipline from extension authors and users\nI've lived through this nightmare with WP, it is not fun and often blame is immediately aimed at core developers instead of plugin authors.  I'd really like to have this too, but I have to agree with @tobias2k that \"Thar be dragons, capt'in\"\n. No problems, will amend tomorrow.  My reservation was based on how it is done in SimpleForms and figured that I missed an obvious point.\n. > Why not use call_user_func instead of the (deprecated) call_user_method\nBrain failure.  I thought I had, but apparently not.\n\nI see the placeholders for the GithubFork() and alike functions. Any chance of those getting implemented\n\nAbsolutely.  I will get right on them, but might need until tomorrow night to finish this.\n. Try the latest commits on and see how that works.  Feedback and criticisms always welcome :-)\n. Really random thought, but are you firewalling outbound connections?  If so you need to add 9418/tcp to the access list.\n. Worth keeping open?\n. It hasn't presented itself in an obvious fashion, and I was hoping to have someone shake their head and tell me I was making an obvious mistake.  Closing until it reoccurs and can be reproduced.  \nEither way there is a thought in peoples head about it\n. OK, gathering a hint there :-D\nI'm totally useless with CKEditor backend.  On the plugin's page they make the note:\nNote: If you want to use this plugin for image handling, remove the built-in Image \nplugin from your CKEditor build.\nI've tried adding both and changing the follow line in bolt.js without any luck in the way of fallback to the original image plugin.\nconfig.toolbar = config.toolbar.concat({ name: 'image', items: [ 'Image' ] });\nSo unless someone has a better clue how to make these two work side-by-side, I think this RFE might be dead in the water...\n. > Are you planning on tackling this issue? \nGiven that nobody put a hand up with any ideas as to how to achieve that I don't think is actually possible, I say spring has sprung and revisit in the future if the demand is there.\n. Hi Narendra,\nI am presuming that you're basing your design off the base-2013 theme, which uses Foundation 4 and based on my trials here, a modified version.  \nHowever, I just tried with base-2014, which is Foundation 5 based, and that works as expected:\nhtml\n<ul class=\"title-area\">\n    <li class=\"name\"><h1><a href=\"{{ paths.root }}\">{{ app.config.get('general/sitename') }}</a></h1></li>\n    <li class=\"toggle-topbar menu-icon\"><a href=\"#\"><span>Menu</span></a></li>\n</ul>\nNote that class=\"show-for-small\" is not required as the toggle-topbar is only triggered on small screen sizes anyway\n. Have you come across this conversation?\nJust need to identify a suitable replacement and someone to ~~be the victim~~ do the work :-)\n. I'm just guessing at Bob's response based on that, and also hoping that someone who has the time can step up and replace TimThumb  :-)\n. > I wish I have the time to do this... :)\nMe too, I am trying to convince just about anyone right now to attempt it :-D\n. I use this (or similar) to get the record in my extensions that need it, you can then pass that back to the Twig function\nphp\nfunction getRecord()\n{\n    if (isset($this->record)) {\n        return $this->record;\n    }\n    $globalTwigVars = $this->app['twig']->getGlobals('record');\n    if (isset($globalTwigVars['record'])) {\n        $this->record = $globalTwigVars['record'];\n    } else {\n        $this->record = false;\n    }\n}\n. I want to use this soon, can you create a PR with this in it?\n. >  Never done a pull request before.\nNot as scary as I thought my first time.\nThe rest up to the peeps who know what they're doing :-)\n. Thought they might have common roots, but logged this for visibility nonetheless :+1: \n. I am mostly with you @tobias2k, I've spent a lot of time in years gone past dealing with the fallout of these sort of things in large environments...  \"Yes Mr Risk Manager, that blank database password you allowed your developers made it all the way to production due to oversight.\"\nWhat would possibly be a good compromise (unless I have missed it's present existence) is a key at the top of config.yml such as environment:  with the options development and production (default) that allow Whoops and friends to run or not \u2014 and a default fall-back that doesn't.\nI've argued endlessly with afore mentioned \"we-need-a-blank-password-developers\", and in the end everyone needs features/things to get their work done, but balance needs to occur \u2014 which is what I assume @bobdenotter is working/advocating hard to provide and something that Bolt make wonderful ground in achieving.  I'd be happy seeing a smart and workable balance that doesn't alienate developers, nor endanger the inexperienced.\n. > There is no such switch yet, but you should always set debug: false on production environments \nYeah, no prizes for guessing who was in a dev environment and not thinking in those terms /whistle\nThe config_local.yml thing looks cool.  \nIs c9e4575fc5e3de5d238d68f751b098be99ee8943 commit enough to close this?\n. Forward compatibility issues aside... :+1:  :+1:  :+1: \n. @doertedev I have a PR in on bolt-docs for this already: https://github.com/bolt/bolt-docs/pull/70/files\n. :+1: \nYeah thanks for your work, @rossriley.  Really appreciated here!\n. Not that I specifically have any objections, even a backend person like myself notices the \"missing\" stuff in the current thumbnailer, but php-pecl-imagick pulls in a tonne of dependencies that I personally wouldn't want on my servers and in turn I can see innumerable webhosts not implementing.\n. Ensure you have read/write access to the files and subdirectories in bolt/files/ (chmod 777 if required).\n. Confirmed that ca0bb0c5d2bdc4a4dbdddcdd9d49221ac44bede2 introduces the problem for me and reverting it fixes it.\nNote to self: cache flushing is a good thing when testing :-P\n. Also, if we're looking at makeSlug() can we increase the default length from 64 to 128?\n. @rarila I may be brain dead tired right now, but wouldn't the standard call be better using a false parameter?\nphp\nfunction makeSlug($str, $truncate = false)\n. @rarila is this covered now with recent changes and can we close?\n. > Could it be you mistake Transliterator with Translator\nYes! :-)\nI was thinking about the removal of the DOMDocument processing that (for some reason) I thought we removed from the String::slug() path...  Need coffee.\n. > Is there a way to manage tables in Bolt NOT through a contenttype?\n@tobias2k's WaffleOrders extension gives a nice outline example to create your own db grinding extension from :-)\n. :+1: This is something that I have been trying to find the time to submit an RFE/RFC on myself as it is my \"missing piece\" in the current outstanding work I have here.\n. Covered in #1317\n. > Have you run a composer update?\nI am running the packaging script from bolt/bolt-distribution which does this during packaging:\nphp\nphp composer.phar self-update\nphp composer.phar update --no-dev\nIt's really annoying in the sense that the obvious cause should be hitting me in the face, but I just can't connect the dots today.\n. > If we're just checking off the obvious have you restarted nginx after removing the old route stuff?\nRestarted the whole VM, cleaned cache dirs by hand, etc.\nI re-ran the packaging script and composer pulled in a new bolt/thumbs and the problem still occurs, but has morphed so slightly.  Hang with me here...\nLet's start with http://bolt.example.com/thumbs/files/picture.jpg\nIf I go tohttp://bolt.example.com/thumbs/80x60c/ I get a Whoops! from ThumbnailProvider / ThumbnailResponder.  To be expected response from Bolt.\nThe file \"/var/www/sites/example.com/files\" does not exist\nYet, if I go to http://bolt.example.com/thumbs/80x60c/files/picture.jpg I get a 404 from Nginx, not Bolt.\nAs for php-fpm/error.log and the nginx/example.com.error.log, neither get anything related in there, well anything at all unless you force it.\n. Here you go!\n``` nginx\nBolt virtual server\nserver {\n    server_name bolt.example.com;\n# Logging\naccess_log   /var/log/nginx/bolt.example.com.access.log;\nerror_log    /var/log/nginx/bolt.example.com.error.log;\n\nroot /var/www/sites/bolt.example.com;\nindex index.php;\n\nlocation / {\n    try_files $uri $uri/ /index.php?$query_string;\n}\n\nlocation /app/classes/upload {\n    try_files $uri $uri/ /app/classes/upload/index.php?$query_string;\n}\n\nlocation ~* \\.(?:ico|css|js|gif|jpe?g|png|ttf|woff)$ {\n    access_log off;\n    expires 30d;\n    add_header Pragma public;\n    add_header Cache-Control \"public, mustrevalidate, proxy-revalidate\";\n}\n\nlocation = /robots.txt { access_log off; log_not_found off; }\nlocation = /favicon.ico { access_log off; log_not_found off; }\n\nlocation ~ \\.php$ {\n    fastcgi_pass 127.0.0.1:9000;\n    fastcgi_index index.php;\n    include fastcgi_params;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    fastcgi_param HTTPS off;\n}\n\nlocation ~ /\\.ht {\n    deny all;\n}\n\nlocation /app {\n    deny all;\n}\n\nlocation ~ /vendor {\n    deny all;\n}\n\nlocation ~ \\.db$ {\n    deny all;\n}\n\n}\n.\ntry_files $uri $uri/ /index.php?$query_string;\n```\nWorks perfectly, thanks!\n\nIncidentally does anyone know if there is some documentation for nginx config we need to amend to reflect this?\n\nNginx: Configuring the virtual host\n. Comment on this.  The block you've chosen is more suited to what is already does, mine actually gets quite long and I have my doubts that passing exe files to index.php is really the right way to go in good practice. \nnginx\nlocation ~* ^.+\\.(?:atom|bmp|bz2|css|doc|eot|exe|gif|gz|ico||jpe?g|jpeg|jpg|js|mid|midi|mp4|ogg|ogv|otf|png|ppt|rar|rtf|svg|svgz|tar|tgz|ttf|wav|woff|xls|zip)$ {\n    access_log          off;\n    log_not_found       off;\n    expires             max;\n    add_header          Pragma public;\n    add_header          Cache-Control \"public, mustrevalidate, proxy-revalidate\";\n}\nWhat works and makes more sense to me, is to simply change the line try_files $uri $uri/ /app/classes/timthumb.php?$query_string; in the /thumbs/ location like this:\nnginx\nlocation ~* /thumbs/(.*)$ {\n    try_files           $uri $uri/ /index.php?$query_string;\n}\nIt also makes it a 'one liner' in the release notes for upcoming versions.\n. Now the 'no workie' part... I hit a slight problem when I moved from a pure test environment to my development one...  Both on the same Nginx server, with different web root file system directory and nginx/conf.d/ files.\nI am getting a 404 on the thumbnail and a 505 accessing the thumbnail's URI:\nThe file \"/var/www/sites/bolt.example.com/files/files/sub-dir/sample1.jpg\" does not exist\nNotice the /files/files/.  If I shorten that manually down to 1 files/ it resolves and display the image.\nI don't know why, but for some reason a lot of older record images in one content type were inserted/saved as having the file path /files/sub-dir/image.jpg instead of just /sub-dir/image.jpg and changing them works.\nProbably also another gotcha for the release notes.\n. In my case PERL came in handy to clean up.  Database upgrade scripts would be really nice to have too :-)\n. Just curious @bobdenotter, does that allow for there to also be a pt_PT component? (My pt_PT sucks too badly to attempt it).  \nI just know people from both Portugal and Brazil that are very proud of the differences in the dialects :-)\n. @rossriley, you're a machine :-)\n. Nah @rixbeck, I reckon he's cloned himself 7 times!\nThanks @rossriley :+1: \n. I maybe missing your point too, but if it is front end commenting you need, what about the Disqus extension?\n. Sweet, thanks!\n. I was using a zoom thing under the previous library, but haven't but that code over yet.\n. Gold, thanks mate!\n. You will also need to tell Twig where to look via addPath().  \nIn your initialize function add.\nphp\n$this->app['twig.loader.filesystem']->addPath(__DIR__);\nNote  If your design.twig file is in a subdirectory of your extenstion, just add that in render() like so\nphp\n$app['render']->render('assets/design.twig', $renderVars);\n. Closing as part of a spring clean.  Please reopen if still required.\n. Closing as part of a spring clean.  Please reopen if still required.\n. Closing as part of a spring clean.  Please reopen if still required.\n. > Was there another reason for leaving the .dist file in the filegroup?\nI know @bobdenotter was keen to leave the .dist files in that array.  So I would deal with the logic in Twig to avoid them.\n. Moving this to the bolt/thumbs issue tracker.\n. > This line seems to suggest this is \"2.3.0-dev\", and not \"2.2.2\"..\nUgh, my git-fu is failing...  again >.<\n\nI haven't tested it yet, but are we sure this is a stable release of HybridAuth?\n\nI was running off their Github page, so not sure.  It does have a stack of fixes that were preventing it from working properly for me and past an ItWorksForMe\u00ae I haven't tested much either due to fatal lack of available time.  Excuses, excuses!\nConsidering that, I might pull this for now and come back with a more confident effort.\n. Yeah really nice, @rossriley.  On fire as usual mate!\n. Question from the Composer clueless guy at the back of the room...  \nHow will this work with 'private' extensions (those that are site-author specific)? \n. What would be really handy for me (as you also mentioned in IRC) would be to have a contenttype.field control.  e.g. \nyaml\nsales:\n    name: SalesPeople\n    singular_name: SalesPerson\n    fields:\n       ...\n        image:\n            type: image\n            upload: files/salespeople\n. @jadwigo I was a bad developer and accidentally started work on this, somehow... \nWelcome to the Bolt-iverse, BoltForms.  \nNo docs yet, but have a look at src/Twig/BoltFormsExtension.php as to how the API can be interfaced (c.f. rewriting/replacing what is now SimpleForms)...  \nStill considering this alpha quality and feedback/patches/beer most welcome!\n. > Will the new forms be ajax ?\nAs this second no.  But the motivation behind building this was to provide an extension we can do this kind of stuff in, while allowing SimpleForms to be 'simple'.\n\nI\u2019d love to help but simply don\u2019t have the knowledge needed\u2026\n\nYeah, Symfony Forms is a big beast, a beautiful beast, but it certainly took me time just to get the fundamentals (somewhat) down. :-)\n. The thing I don't like about a releases/1.6-security is it may give the impression that it's a \"more secure\" branch of 1.x when in fact it is just a bunch of fixes and features that didn't make an 1.6 release.\nMaybe branch releases/1.7 and at the top of the readme.md have a disclaimer?\n. > still mopping up the spillage and the fallout\nVery fair point.  \nDo we even need to worry about branching HEAD as it is now?  If we need patches in releases/1.6 it's not like we can't cherry-pick them in.\n. If I can add \u20ac0.02...\n\nAdditionally, I'd love to see a more formal / solid version numbering policy. \n\nYes, yes please very much!\n\nNot necessarily SemVer (that's more suitable for libraries and such), but I'd like a more rigid definition of version number components than \"we changed a lot of stuff\" or \"it looks different\".\n\nI made sure to re-read Tom's definition document (suggested reading), but I am not sure that Bolt doesn't fit into this.  \ne.g. Changing {% setcontent %} to {% lookup_content %} would qualify as a breaking public API change (major version bump), adding the new file-upload functionality would qualify as a non-API-breaking yet new feature (minor version bump), and \"fix to missing slash in path #1387\" would be a patch (patch version bump).  \nRelease early, release often :+1: \n. > The thing is, Bolt exposes several interfaces with user-supplied components, and what constitutes a breaking change in one is completely opaque to the other.\nI get the sense we are (one way or another) making the same point, just in different ways.  What I am thinking is that my templates shouldn't break between 2.0.x and 2.9.x, but upgrading to 3.x.x gives no guarantees.\n. If only we could git clone @rossriley. McFreakingAwesome mate :-)\n. > But we could also take the decision to say: new version 2.0 old extensions break unless they move to the new system.\n:+1: \n. @rossriley's patch WorksForMe\u00ae\n. Fixed in #1440 \n. Works for me too!\n. Love your work mate :-)\n. app/src/Bolt/Content.php\nphp\npublic function rss_safe($field = '', $excerptLength = 0)\n/app/extensions/RSSFeed/assets/rss.twig:\ntwig\n{{ record.rss_safe('body', content_length)|raw }}\nOr am I missing the point of what argument is needed?\n. :+1: \n. Related to and probably will be closed by work done in #1617\n. Can someone cherry pick 8f43f254242838c2e518f07aef6fe3f92264bdbe from #1473 for this.\n. require(/var/www/sites/example.com/extensions/vendor/composer/autoload_psr4.php): failed to open stream: No such file or directory in /var/www/sites/example.com/app/src/Bolt/Extensions.php on line 102\"\n. Last 2 fixed that error...  Looking really nice mate, well done!\n. :+1: \n. It is a UX thing, and still not sure if we should try.  \nThe none- is from selectfield being empty, I wonder if a compromise would be to set fields in uses: to be required?\n. ClientLogin\nClientProfiles\n. > Sorry, did it again :-)\nhttp://youtu.be/CduA0TULnow\n. Ping @rossriley \n. Solved by @rossriley in IRC\nWhat used to be extension.php now needs to be Extension.php to account for case-sensitive operating systems such as UNIX & Linux.\n. Yeah, I found it a couple of days ago.  @bobdenotter is working on a new commit/release \n. Fixed in f02388035a451480b975b9a60c81ca0fcfc430c1\nNeeded to purge records and taxonomy and regenerate Lorem Ipsum\n. @rixbeck the fix was committed by @bobdenotter in master 2 days ago...  Master should be fine...  I just happened to have pulled @rossriley current changeset.\n. This was the change, @rixbeck  f02388035a451480b975b9a60c81ca0fcfc430c1\n. Ugh...  I've switched back to master and am getting this again too when generating Lorem Ipsum.\n. Confirmed fixed in #1509\n. > Are we also going to have an official Bolt Github for extensions\nThere was mention of that in IRC, but I was hoping to get a more solid confirmation via this thread myself..\n. Options 1, 2 & 3 can all work together.  @rossriley's Marketplace relies on a VCS repo for the extension.\nPersonally I see great advantage to a 'blessed' org with repos for Authticate -> RateIt, etc.  The advantage as I see it is:\n- Single issue tracker for most extensions\n- Authors can be given commit access to the extension that they are considered 'In-charge-of' \n- Others can still spot and fix bugs\n. @mike-anthony the brief summary for the extension code is in Ross' wiki page.\nThen you can submit the VCS URL and details to the test extension site (BIG SCARY ALPHA/BETA WARNING).\nAlso a number of us are now hanging out on FreeNode IRC in #boltcms if you get stuck.\n. In your composer.json you have \"name\": \"xiaohutai/bolt-Disqus\" it should be just \"name\": \"bolt/Disqus\" in this case to match what is set on beta.extensions.bolt.cm\n. @mike-anthony Yes, the contents in root.\nAlso extensions.php should be renamed to Extensions.php, but other than than it looks good at first glance.\n. Yes mate.  Just be aware that @rossriley has reserved the right to empty the database on the beta site before we go live.  So you might need to resubmit closer to release but it is about 15 seconds worth of work each time anyway :-)\n. Oh @mike-anthony one more thing, the info() block is not needed \u2014 doesn't do anything any more \u2014 so if you're OCD like me, feel free to remove.\n. Yeah, I'd gather @rossriley is working on it at the moment or something, looks to be all extensions are showing the same.\n. @bobdenotter some of mine are still yet to be done, but I can grab them from release/1.6 so nuke away\n. Cool @mike-anthony, updated the table.\nAlso feel free to submit a PR removing the old extension from master, alternatively just let use know and we'll handle it.\n. @xiaohutai You just beat me to commenting the same!  :beers: \nJob done, thanks to all :-)\n. OK, for me (and I may be off the mark), this is a barrier-to-entry thing.\nRight now, I (the token newbie) can cp -a theme/base-2014/ theme/myawesometheme and update app/config/config.yml and my super-easy-to-use-CMS... Well, it Just Works\u00ae\nWhile I am increasingly seeing Composer in a light that doesn't involve it harming kittens, it is still something that is not as obvious in the learning scale as Bolt/Twig is (while I happily admit I suck at PHP/JS, I've been programming for longer than a lot of adults have been alive).\nComposer makes a tonne of sense for extensions, \u2014 the afore mentioned newbie like myself wants someone else to actually do that work \u2014 but I want to make my Bolt site look cool in My Way\u00ae and the barriers to entry should continue to be as low as they are in 1.x.\nNot indicating that you're suggesting otherwise @rossriley, just that I see that moving directories and requiring composer.json composition/changes might make things counter-intuitive, but I am happy to admit that I am missing the obvious too :-)\n. I was just thinking this over, added to what we discussed on IRC and just want to brain-dump here.\nMain point of my thinking (I was slow to get it, I know) is that downloadable themes are really just template for users to 'fine' tune to their own liking, so:\n1. User selects bolt/awesometheme from Marketplace\n2. Composer downloads in the same way/place as extensions\n3. In the list of downloaded template-themes, the user is presented with a \"Generate Theme\" button\n4. Pressing the \"Generate Theme\" button asks the user what is to be the name of the theme, and copies the contents to bolt/theme/UserChosenName\n5. Bonus points for post-install customisation script as added by template-theme developer\nDon't know if this adds value to the conversation, or repeats what you're already saying @rossriley. As I said, just a brain-dump :beers: \n. Same problem...\nMouse-hover over the 'bolt-cms' tag an you get  JS modal\n. I tore my hair out trying to figure it out :-)\n. There may be someone working on BoltBB forum code as we speak that might be useful for that ;-)\n. @mike-anthony I sent you a direct email with details :-)\n. Have a look at what I am doing in doNewTopic() function here\nBasically using Symfony Forms and \\Bolt\\Storage\n. Just to add, in case it isn't obvious, that is saving to Contenttypes defined in contenttypes.yml\n. Awesome! :+1: \n. @serweb-labs These are just fantastic...  I am going to have some very happy users at my end, thank you!\n. @bobdenotter: 7e135d1?\n. We're trying to get rid of that file anyway...  It is slowly dying, but still some stuff needed.\n. Bye bye app/classes/ !\n. @serweb-labs I have started the refactoring of Authenticate here: https://github.com/GawainLynch/bolt-extension-clientlogin\nI am also moving the profile part into its own extension at the request of @jadwigo, but I also need that.  If there if functionality you need, please let me know.\n. Hi @Seraf :-)\nIf you're using Bolt 1.6, you should use the Authenticate addon that is included with Bolt.  \nThe ClientLogin extension that I rewrote is working beautifully, but it is for Bolt 2 where is replaces Authenticate...  Bolt is approaching beta status, but not ready for production use yet.\n. No problems, just be aware that we are shaking things around in master at the moment so some things might break unexpectedly :-)\n. @serweb-labs check back with me in a few days...  I am working on a 'members' extension that hooks into ClientLogin and I think does what you want.\n. @serweb-labs, the Members extension (bolt/members) for Bolt 2 is ready for beta testing.\n[Warnings]\n- Please consider it beta quality\n- Needs current master branch of Bolt\n- I will be away on a vacation for 5 days from tomorrow\n- Needs the Client Login bolt/clientlogin extension\n- The documentation is very sparse :-)\n\u00a1Ahora, voy de vacaciones!\n. Nut now runs from anywhere!  Happy camper here, thanks @adrianguenter \n. > Have you tested this thoroughly with debug_error_level: -1\nYeah, it broke everything!\n. Some updates from work going on in IRC.\nTracked the trigger down to a 404 for non-logged in users where a \"notfound: page/not-found\" is not set up.\n@rarila committed PR #1561 \nI have done a git clone && composer update to a fresh directory but the problem still persists.\n. I know there was some talk on IRC about 'Ext' vs 'Extension' due to length, but I don't see that \n\\Bolt\\Extension\\rossriley\\TweetWidget\n...is worse than:\n\\Symfony\\Component\\Form\\Extension\\DataCollector\\Proxy\\ResolvedTypeFactoryDataCollectorProxy\n. Moved review to your error tracker, @mike-anthony \n. Personally I like Bob's suggestion, caveat (obvious maybe) that the defaults mirror how it currently is but 'in_excerpt' can set/override.\n. Perfect... Works For Me\u2122\n. Solved by @bobdenotter \nThis occurs when addCSS() or addJavascript() are required to be called in custom routes.\nSolution: add $this->app['htmlsnippets'] = true;\n. @sbonardt Are you using a user agent switcher?  FF31 here displays normally.\n. :+1: \nThe image field layout is still bugging me.\n1.  Should \"Image path\" be just \"Path\" and follow the same alignment as \"Title'\n2. The three button thing makes me twitch...  Would it be possible to have a top-level \"Select\" with the drop downs giving the option of  \"From server\" and \"From stack\" \n3.  The \"Allowed file types\" text, would that look better below the \"Title\" field\n. > Yeah, I know. However, in wide view it already looks much better. \nAh OK, was just going off the screenshot :-)\n\nWe actually need one more, the Alt attribute\n\nSee #827.  They are the same, @bobdenotter liked the idea of keeping the label generic and easy to refer to either with the same field.value in Twig\n\nThe \"allowed file types\" seems good to me in it's place under the input field\n\nYeah, I guess if the label and field are inline it would less ugly (to me)\n. @bacbos in my dev environment, I set up {boltdir}/extensions/composer.json to look similar to this:\njson\n{\n    \"require\": {\n        \"bolt/menueditor\": \"dev-master\"\n    },\n    \"repositories\": {\n        \"menueditor\": {\n            \"type\": \"git\",\n            \"url\": \"https://github.com/bacbos/bolt-menu-editor.git\"\n        },\n        \"bolt\": {\n            \"type\": \"composer\",\n            \"url\": \"http://beta.extensions.bolt.cm/satis/\"\n        },\n        \"packagist\": false\n    },\n    \"provide\": {\n        \"bolt/bolt\": \"2.0.0\"\n    }\n}\nThen run Composer from the command line:\nbash\n$ cd /var/www/boltdir/extensions/\n$ curl -sS https://getcomposer.org/installer | php\n$ composer.phar update\nIn the case of the above composer.json you're just defining an additional repository and explicitly listing your package.\nThere were some oddities early on, so I just got used to doing things this way for extension development.  Also beware of the exception handler, in can do weird stuff (#1661)\n. I am not sure how @rossriley had our Satis set up...  and yeah, it is a moving target at present.  \nThe { \"packagist\": \"false\" } thing is very deliberate.  We're trying to limit what can be done/defined by packages that are in the extensions repo.  What I would say though, is that the three packages you list aren't going anywhere WRT Bolt, so it would be safe to leave them off your bolt/menueditor 's composer.json.\nAlso, good to see you found us on #boltcms, it's a bit quiet this weekend as everyone is on holidays, but I am around most days as is Ross...  and happy to help!\n. Removed from master in #1698 \n. Done in #1625 \n. Closed in #1620\n. Done in #1609\n. Are you meaning to ping @mike-anthony or me?\n. Yep, cool.\n. Closing as this ended up in #1616 \n. Actually it is more Windows...  It just makes a default assumption that you want to use your platforms line-endings so that if you open your generated CSS in NotePad it doesn't all appear on one line when not compressed :-)\nTL;DR It's all Bill Gate's fault \n. Found the root cause:\n$this->app['extensions']->insertSnippet($name, $callback, $this->namespace, $var1, $var2, $var3);\nAnd $this->namespace is set in BaseExtension::setBasepath()\nprivate function setBasepath()\n{\n    $reflection = new \\ReflectionClass($this);\n    $this->basepath = dirname($reflection->getFileName());\n    $this->namespace = basename(dirname($reflection->getFileName()));\n}\nWith a Composer installed extension the dirname() will be lowercase.\n. So changing BaseExtension::addSnippet() to use getName() works and fixes the problem, i.e.\n$this->app['extensions']->insertSnippet($name, $callback, $this->getName(), $var1, $var2, $var3);\nJust not sure if this is the right approach, but I have hit issues with other Twig functionality being funny about the case that getName() returns.\nThoughts @bobdenotter & @rossriley?\n. Fixed in #1631 \n. Thanks @ansborisov!  Confirmed the fix, and have submitted \nhttps://github.com/bolt/bolt-docs/pull/81\nhttps://github.com/bolt/bolt-docs/pull/82\n. > Shouldn't we add a folder in between? app/config/extensions/{ExtensionName}.yml\n\nI can imagine the app/config/ getting really cluttered otherwise..\n\nI did raise this with @rossriley in IRC.  He noted that is it one more directory to worry about permissions with...  I am for a subdir and happy to update if you feel it the better solution\n. Mind you we do say in the docs:\nchmod -R 777 files/ app/database/ app/cache/ app/config/ theme/\nSo if we have an app/config/extensions/ directory in git with just a index.php or something in there, that should avoid most scenarios where this is a problem. \n. I am thinking as a compromise of adding this to ResourceManager:\nphp\n$this->setPath(\"extensionsconfig\", $this->root.\"/app/config/extensions\");\n1. app/config gets really cluttered really quick\n2. Our install docs already advise chmod -R 777 app/config/ (don't get me started on the 777)\n3. It gives advance installations control over where they end up\n. Updated, plus an extra (missed) clean up.\nNote: Fixes #1624\n. Hi @choomz, I second what @bobdenotter said, thank you!\nWe're still getting documentation in order for 2.0 extensions but some useful links (if you're interested):\nhttps://github.com/bolt/bolt/wiki/Bolt-Extensions:-Converting-1.x-extensions-to-work-in-version-2\nhttps://github.com/bolt/bolt/issues/1556\nhttps://github.com/bolt/bolt-docs/blob/master/source/extensions-essentials.md\nNot everything is correct, but most of it is pretty close.  Call out if you get stuck!\n. Oops... https://github.com/bolt/bolt-docs/pull/84\nGreat going, @jkazimir :-)\n. Ugh, can you add this in to \\Bolt\\Configuration\\Composer, I forgot Composer users while spending the day in Composer API land\n$this->setPath(\"extensionsconfig\", $this->root.\"/app/config/extensions\");\n. @bobdenotter & @jadwigo <joking> \"Welcome to development branch, patches welcome\" </joking>\nYes, when running composer -vvv install it will show you that it is reading in all versions of the required packages hence the version bounce.  What it looks like your hitting is what @rossriley is battling with on the Satis instance where the GitHub API locks you out.\nWhen you're running off the command line, Composer should then ask GitHub for a token that is stores in ~/.composer/ to work around the API limits...  Shall try to reproduce!\n. OK, $this->app['extensions']->composer is supposed to be an array and $this->app['extensions']->composer[$name]['name']should returnHello World. Oh, I see now!\n. For those reading along... The composer name can't be CamelCase\n. Yes, the basename when you install a Composer package getsstrtolower()by Composer itself, which is what we're using to get ->basename and one of the reasons @rossriley made Satis check and reject composer.json with a CamelCase\"name\" :`\n. > But, should there really be both a name and names key in the $pack array?\nI think there should only be the singular...\n. Me either, until git status told me that I needed to commit app/config/config.yml and friends...\n. One last nit pick, you might want to strip the HTML:\nbash\n./app/nut extensions:enable gawain/cord 2.0.0\n  - Installing gawain/cord (2.0.0)<br>    Downloading: 100%\n. It seems that errors caused by an extension, but occurring outside of said extension are still confusing the error handler.\nPing @rossriley \n```\nBolt - Fatal error.\nMaximum function nesting level of '100' reached, aborting!\nFile \n[sinp]/vendor/symfony/stopwatch/Symfony/Component/Stopwatch/StopwatchEvent.php\nLine: 217\nThere is a fatal error in one of the extensions loaded on your Bolt Installation. You will only be able to continue by manually deleting the extension that was initialized at: extensions/vendor/bolt/Disqus/init.php\n```\n. Yes, the error itself is my fault...  I have a loop happening in a dispatcher that is totally unrelated...  But it is not triggered from the Discuss extension.\n. Just a further example of how this is not working properly, create an error condition in Bolt core and it will still report that the first extension loaded is the responsible.\nIt is probably wise to call this a blocker on beta...  New issue tag needed :-D\n. Ugh got this running Nut:\nPHP Notice:  ob_end_flush(): failed to delete and flush buffer. No buffer to delete or flush in /var/www/sites/example.com/app/src/Bolt/Extensions.php on line 142\nEDIT: was testing an extensions cron interface at the time, that might be related to getting the error.\n. Yeah, I had to have a stern work with the original author about that one :-P\n. [disclamer] I failed drawing stick people as early as primary school art class so my opinions matter 0% [/disclaimer]\nTBH, I like the icon layout that you propose.  It really make a point about what to focus on visually, and what to is just to reference/indicate.\nBut for the OCD person in the room the Title-case 'Dashboard' against the (logical and Gawain-visually-pleasing) UPPERCASE section titles makes me twitch.  But the use and location of the dashboard is, um, logically located.\nDid I mention my disclaimer(s)?\n. It is called when content is being updated, but the check to see if it is a create or update is done in saveContent() where is checks for the existence of an id field.\n. @rixbeck I might have missed the first question...\nIf you're thinking of this:\n$oldContent = $this->findContent($tablename, $content['id']);\nIt is passed to the logging where a diff is done to log what was changed between the two versions.\n. Just as a follow up \"Just In Case\" question, this doesn't block multiple listeners on this dispatch events\nphp\n$this->app['dispatcher']->addListener(StorageEvents::POST_SAVE, array($this, 'hookPostSave'));\nIt just means if one of the listeners does:\nphp\n$content = $input->getContent();\n$this->app['storage']->saveContent($content);\nI won't loop endlessly.\n. > So this is what you meant on IRC this afternoon\nYes, and yesterday...  This little one made kittens cry, and I don't like it when kittens are upset...  They're too cute for that!\n. I'll give @rossriley a bit of time if he has it, to have a look and merge, otherwise I'll merge later.  I have tested on a clean sandbox and all combinations of save Work For Me\u00ae\n. OK, pulled to a normal install and got:\nCall to a member function getStorageType() on a non-object\nFile [snip]/app/src/Bolt/Database/IntegrityChecker.php\nLine: 618\n. Correct errors on un-writeable directories \u2014 Check\nThe only thing was, after doing the mkdir -p xxx && chmod 0777 dance, I forgot to chown nginx:nginx the directories and was presented with the same prompt.\n. > OK, pulled to a normal install and got:\nThis actually/obviously looks unrelated, but only occurred after a git pull into a separate branch.\n. To test this:\n1. Create fill in and save a Kitchensink with the ID of 1\n2. Set up a sample extension with the code below\n3. Create and save a separate Kitchensink! (save in place, i.e. not Save and Return)\n``` php\n    public function initialize()\n    {\n        $this->app['dispatcher']->addListener(\\Bolt\\StorageEvents::POST_SAVE, array($this, 'hookPostSave'));\n    }\npublic function hookPostSave(\\Bolt\\StorageEvent $event)\n{\n    // Get contenttype\n    $contenttype = $event->getContentType();\n\n    if (empty($contenttype) || $contenttype != 'kitchensink') {\n            return;\n    }\n\n    // Get the content\n    $record = $event->getContent();\n\n    $other = $this->app['storage']->getContent('kitchensink', array('id' => 1, 'returnsingle' => true));\n\n    // Set the values to be saves\n    $values = array(\n        'title'  => \"Partial copy of: \" . strtoupper($other['title']),\n        'html'  => $other['html'],\n        'video'  => $other['video'],\n        'geolocation'  => $other['geolocation'],\n        'image'  => $other['image'],\n        'imagelist'  => $other['imagelist'],\n    );\n\n    // Save the record\n    $record->setValues($values);\n    $id = $this->app['storage']->saveContent($record);\n}\n\n```\n. @nchpmn I am getting a red light on Travis testing so I might have messed up...  \nIf you're brave enough test for me as it is late here and I need to go to bed...  But otherwise will look at it in 8-10 hours :-)\n. Fixed.  Some people shouldn't be allowed to submit after dinner...  The irony being the change was labelled \"Composer CDO\".\n. Do you mean something that looks like this:\n```\nExtra\n\nBoltBB     -> Menu 1\n           -> Menu 2\nMenuEditor -> Menu 1\n           -> Menu 2\n```\nCaveat being that Menu 1 and Menu 2 for each item is the popout balloon and (obviously) only one shows at a time?\nIf so, yes, that is what I am thinking.  But I know there was previously some resistance.  I just don't think the present way works in Bolt 2 UI...  \nBut I can't even draw stick people so visuals are not my area.\n. > because the left sidebar will be the longest item on any screen. \nYes fair point\n\nCan be prevented by better naming. Why not label it \"Manage BoltBB forum posts\" ?\n\nAlso a fair point.  It really depends on the context.  If the top-level menu has a better name this is probably a moot point on my original part\nLeaving open so we can address point 1. :-)\n. I am not sure I get your conclusion 100%, @bobdenotter so excuse me if what follows is just repeating what you said.\nHow do you see allowing a small-set of core-defined top level menus, e.g. Commerce, CRM, Forums & Tools \u2014 latter being a 'catch-all'?\n. > I really think it'll be a clusterfuck of options in the sidebar if we allow it.\nYes!  You're very right in the description of the potential. It drives me nuts (pun not intended) with WP...  Every plugin+dog has something added and it is just a minefield of confusion.\nMy point (that I am drifting away from anyway) is that there are legitimate reasons that we would want more than we have now \u2014  our UX suffers \u2014 However, opening the door to a massive WP-style Charlie Foxtrot is worse UX behaviour by a long way! :+1: \n\nStuff like BoltCRM, BoltBB and BoltCommerce can just add a Dashboard widget\n\nYeah someone has an [RFE] in here that he needs to address (ping @GawainLynch on #1004).\nNonetheless, that raises an interesting point, but have you installed JetPack on a WP site lately?  You end up with what you're worried about anyway, just not on the left-hand-side of the screen.\nI do agree that sans a brilliant solution this is post-2.0.x stuff.  I mean we could implement something in a few lines of code, but yeah we need to think about what that 'something' is :-)\n. Are you running Nginx per chance?\n. bash\n$ cd $BOLTDIR && composer update && chown -R nginx:nginx $BOLTDIR\nRunning Nut:\n./vendor/bolt/bolt/app/nut cache:clear\nPHP Fatal error:  Cannot redeclare cleanPostedData() (previously declared in [snip]/vendor/bolt/bolt/app/lib.php:17) in [snip]/vendor/bolt/bolt/app/lib.php on line 39\nPage load:\n```\nBolt - Fatal error.\nClass: Twig_Error_Loader\nMessage: Template \"index.twig\" is not defined ().\nCode: 0\nTwig_Loader_Chain->getCacheKey()\n[root]/vendor/twig/twig/lib/Twig/Environment.php, line 265\nTwig_Environment->getTemplateClass()\n[root]/vendor/twig/twig/lib/Twig/Environment.php, line 323\nTwig_Environment->loadTemplate()\n[root]/vendor/twig/twig/lib/Twig/Environment.php, line 292\nTwig_Environment->render()\n[root]/vendor/bolt/bolt/app/src/Bolt/Render.php, line 54\nBolt\\Render->render()\n[root]/vendor/bolt/bolt/app/src/Bolt/Controllers/Frontend.php, line 103\nSymfony\\Component\\HttpKernel\\HttpKernel->handleRaw()\n[root]/vendor/symfony/http-kernel/Symfony/Component/HttpKernel/HttpKernel.php, line 66\nSymfony\\Component\\HttpKernel\\HttpKernel->handle()\n[root]/vendor/silex/silex/src/Silex/Application.php, line 538\nSilex\\Application->handle()\n[root]/vendor/silex/silex/src/Silex/Application.php, line 515\nSilex\\Application->run()\n[root]/index.php, line 9\n``\n. I'm a bit fuzzy on this right the sec, but form memorysetPager()always get called ongetContent()` and that creates the pager array.\nI think you can put a debug check in TwigFunctions past the initial isEmptyPager() and it always gets hit...\n. > It should get called only if allowpaging is added to the {{ setcontent }} tag.\nUgh, your right...  Naming is just confusing, along with too many hours trying to fix something related.\nA nice to have \u2014 beyond the scope of this issue \u2014 would be to know in Twig if there is actually a pager in motion, e.g.:\n{% if pager_exists() %}\n    </i>You can click this:</i> {{ pager() }}\n{% endif %}\n. > Note: Third party extensions will need to be changed to extend Bolt\\AbstractExtension.\nI felt a great disturbance in the Force, as if millions of voices suddenly cried out in terror and were suddenly silenced\n:-)\n. \"Ugh, why is this always my fault?\"\nYeah, good catch though.  Doe the a-patchy .htmlaccess we ship cover this?\n. Lovely, won't PR it then :+1: \n. :beers: \n. McAwesome \n. > Use skeletons for Composer installs\nMake sense I think.  Does this affect how someone finding Bolt on Packagist would go trying to install it?\n\nstripping composer support then from the app/bootstrap.php file and reserving this for the standard distribution\n\n+1\n. Cool, only thing I noticed is that you've removed sourcemap: true, we're using them.\n. Nevermind, @bobdenotter filled me in :-)\n. @rossriley declares fixed and I haven't seen it in ages!\n. @Seraf I think this has been fixed, can you confirm that you're not seeing it any longer?\n. > Not possessive, but eventually possessed\n:beers: \n. Yes, but last time I checked there was at least a little bit of a difference between Latin and Dutch...  \n...Or Latin and anything!\n. With an apostrophe?\n. Upside down cake ;-)\n. I am (probably) going to really hate myself for asking this...  But have you tested in-place saves for a complete Kitchensink...  AJAX and all?\n. Cool @sbonardt, that one is not my fault.  :-)\nFor contextual relevance, I recently added a JSON response to the save event that re-queried the database after the POST_SAVE handler is processed, returned the updated content to the browser and had it update any fields in-place.\nThe in-place stuff is done in jQuery, so should be OK with IE8 given the version of jQuery we're running, but IE is IE.\n. I love that song/album!\nOn to it...\n. OK, so tracing in vendor/doctrine/dbal/lib/Doctrine/DBAL/Schema/Schema.php shows Schema::createTable() being called twice, but only for extension tables.\n. Cheers @bobdenotter and @rossriley \nFixes #1739 \n. This is now handled by something that @rossriley committed!\n. OK, so this is back, as identified in #2174.  I might just have sucked at testing. \nMy suggestion is to add this to extensions/composer.json\n\"config\": {\n    \"discard-changes\": true\n},\nThis will force overwrites.\nI know in IRC there was some objection, but for the record I will repeat my opinion here.:\n\nAn installed extension should be considered the same as any other core Bolt file.  If you update, it will get overwritten.\n. That can/does happen now, and is why I submitted a PR to have extension configs moved to app/config/extensions/ as I kept nuking them on uninstall/reinstall.\n\nHaving said that, I just did:\nfor d in vendor/bolt/*; do touch $d/me; done\nFollowed by\ncomposer update && chown -R nginx:nginx /var/www/sites/\n...and the me files stayed around.\nRegardless of the setting though, anything in vendor/ is volatile and an uninstall will remove.  What I have been doing is creating a themes/<theme name>/extensions/ directory, adding override assets in there and ensuring that extensions have an override in their config files that lets me set a directory. c.f. How I am  doing it in BoltBB\n. Really nice stuff, @sbonardt !\n. > This re-introduces 'slug: Kitchensink'.\nMe git good know...\n. I see a similar problem on desktop too, when there are numerous extensions already installed.  Maybe the approach for both is to have the search's drop-down push down on what is below it?\n. > I could also think of forking this sniff and exclude those filesystem functions in general \u2026\nThat would be nice, code is going to get ugly and harder to follow otherwise IMHO.\n. Yeah, layout disasters limited to one place would be much nicer.\nI think this might be more pleasing to the eye though:\nphp\nif (LibYoda::thereIsNoTryOnlyDo($currentfolder.\"/\".$entry)) {\n. Actively maintained wins for me.\n. I am voting +1 one on this, providing we have a strategy for alerting users who may use deploy scripts\n. Done!\n. +1 \nI had this in the back of my mind too for a possible BoltCamp task. \nK.I.S.S for sure, but I find it counter intuative that a page I bookmark for quick regular access may have a fatal error instead of redirecting me in a user friendly way.\n. What @tobias2k is trying to achieve is very valid, but I am in the IsX() is a method camp.\nI don't have a constructive solution past ExtensionInterface though.\n. Covered as best as we can in #1882\n. > Just realised I'm using 2.0.0 as I cloned master. Is there a compatibility issue between this and Simpleforms?\nPlease note that master is still considered pre-beta,  number of us are using it in pre-prod environments, but if it breaks...  :-)\nThat said, are you using SimpleForms installed via the 'Extras' page?  If so, then it should Just Work\u00ae \u2014 I have it running in a test environment just fine.\nYour description certainly sounds weird though... Are you using custom routing (YAML or webserver)?\n. > Perhaps app/config/extensions/{vendorname}-{ext_name}.yml would be better?\nPersonally, I am easy.  I can see the old-skool UNIX approach and it has merit...  Lots.  But when we did this in the first place, there was worry about extra directories being a limit/issue for Composer advanced installs...  Or maybe they weren't in the end?\nOn the second point, that is addressed in #1786, and \u2014 if OK \u2014 fixes this point.\n. Just hit one of the 'whys' in the lack of directories under app/config/extensions/ was that git under (I think) 1.7.2 doesn't support subdirectory gobbing properly, so now my git flags app/config/extensions/bolt/ as untracked.\n. Issues all addressed as of #1788\n. Probably not a bad idea as a typo'd config_local.yml could be quite confusing :-)\n. OK, this Works For Me\u00ae quite nicely now and makes the error that @rixbeck was hitting yesterday go away...\n. This closes #1785\n. Ta\n. While I love the idea and core devs should always have this set that way, it does give ease-of-use to people starting with Bolt and learning Twig.\n. Compromise...  If debug: true is set in config.yml then override and set strict_variables: true ?\n. OK, replaces 1691 with\nphp\ntrigger_error ( \"Yeah, nah: \" . $textquery, E_USER_NOTICE );\nAnd $textquery returns entry/1, yet that contenttype doesn't exist...\nDigging deeper...\n. OK, so that took no time at all...  It is the default menu.yml, it expects entry/1 - entry/5.\n. This is totally a @rarila PR, full of awesome! :ribbon:\n. Hold off on this one for a bit, I found another logic bug that I'll add to this\n. OK, tests pass here and Travis is happy.  Will prepare/test a backport for release/1.6\n. This is, of course, just a bug fix ;-)\n. That is soooo much better!  :+1: \n. I know what you did last summer, but that was not today!\n. @stakisko we are getting close to releasing beta and would love to include your work if it is close to finished :-)\n. Not sure if it is online, but we are at Boltcamp this weekend and working towards the beta release is one of our goals...  ;-)\nNo firm date for 2.0.0 stable release, that will not be too far away though.\n. @stakisko yes, what is missing will just default to English...  But 90% is better than 0% :-)\n. Potential workaround from @rossriley, copy pasted from IRC:\nphp\n$app->get($this['config']->get('general/branding/path'), function() use ($app) {\n    return $app->redirect($this['config']->get('general/branding/path').\"/\");\n});\n. Yes, you are correct it is by design \u2014 the Siliex issue was an interesting read \u2014 and a lot of the current conversation was held on IRC so some of that context is missing here :-)\nAt a minimum we just want to ensure that it's less likely that someone will b0rk the route to their admin area.\nWhat had us scratching our head is how the URL matcher is getting worked around in this instance, as the logic in the class that you wrote is fine. \n. Assigned, but it is not an easy fix...  Will require patience and :beers: \n. @stakisko Yes, @rarila develops on Windows, but I don't believe he uses Windows for the server component.\n. Is this still a problem after #1947 and related updates?\n. @rixbeck They are not related to your patches...  I spotted them at Boltcamp\n. If you can figure it out, yes...  More just point out that is wasn't your fault :-)\nThey're kinda weird, it seems to be related to an empty $app object, but that is as deep as I dug at the time.\n. Depending on if you want to aggregate other peoples feeds or create your own, there are two extensions:\n- bolt/rssfeed\n- bolt/rssaggregator\nYou can also view the current list of available extensions for Bolt 2 (pre-beta) on our extension site\n. @rixbeck I believe this is by design.  What is copied to theme/ is meant to simply be a starting point for you to develop you own theme on as what is distributed has to make assumptions about things like contenttypes that are not going to be valid across different CT set ups.\n. Yeah, I had thought about it from this perspective too...  Maybe in the future some system of notifications would be nice for this that you can subscribe to.\n. > CKEeditor spricht nun :de: :-)\nAber was sagt sie?\n. Readme button is also missing\n. I know we're in feature freeze and all, but it might be nice to have a modal...\n. Yeah, good point.\n. Just curious, but with your comments on IRC today, is it safe to assume there is Ross-Magic about to land for this, or are we already there?\n. That is what I was hoping you were going to say :-)\n. Called from:\nCommandRunner.php:349:            'post-package-install' => \"Bolt\\\\Composer\\\\ScriptHandler::extensions\",\nCommandRunner.php:350:            'post-package-update' => \"Bolt\\\\Composer\\\\ScriptHandler::extensions\"\n. Interestingly this is also getting called when an update fails\n. Please tell me you didn't mention #1555....  The universe might implode! :-P\n. Fixed in #1910 \n. > Porting Bolt to Go.\nThe bot is not going to be happy with you, @bobdenotter \n. We ran out of beer, @GDmac ;-)\n. Nice, looks like a great idea to me +1\n. Just one thing, you need to wrap:\nphp\nif ($app['dispatcher']->hasListeners('content_edit.load')) {\n    $app['dispatcher']->dispatch('content_edit.load');\n}\n. Yep.  We need to compile a list of places to trigger the dispatcher that makes sense...  Further suggestions welcome!\n. While we are at it we should probably use the Bolt\\Event\\ namespace and move CronEvent(s) and StroageEvent(s) as well to get them into src/Event/\n. > I think this feature can be added much sooner than 3.0.\nYes, I would think that we could start on this for 2.1 as soon as 2.0 is out...  @bobdenotter might have other ideas, but it is not feature/function breaking .\n. > Sooner than 3.0. I would address it in a next release as it is possible.\nYeah, only tagged it as 3.0 at Boltcamp as a starting point.\n. > I'm more in favor of feature detection \nYou mean like we're already doing in Storage and Cron? \ne.g. for StorageEvents::PRE_SAVE\n. Legendary, thank you :-)\n. s/Composer/Travis/\n. I did a small bit of documentation over the Boltcamp weekend that might help.\n. We discussed this over the weekend, especially after we hit that exact line of code on on of the developer machines.\nYou are right, it is ugly and problematic to use DIRECTORY_SEPARATOR everywhere, and each approach that has come up has expense attached.\nThere may be further comments from others though.\n. No surprises, but I agree totally with Tobias' idea.  Anything else is just a nightmare and starting to dot constants all over the codebase is messy and begging for hard to debugness.\nI will have some time tomorrow morning, and can raise my hand to look at this... Unless someone has time \u2014 or ideas \u2014 beforehand.\n. Just for clarity, I was for the reuse idea too...  More that I was willing to look at the problem/solution :-)\n. Well Pathogen was just a (nearly) first hit when @rossriley searched and put forward as a suggestion...  So I would say, if you have the time, have a bit of a search for what other libraries are out there.\nThat said, I am with @bobdenotter I couldn't see the problem with the loop, but I need more #coffee\n. Ah, I see...  Yeah, that is a problem.  But even good code has bugs and if they take fixes without drama, then that is a +1 for me for any project.\n. I think that @tobias2k's points are quite good...  It is a hard problem to solve and there is just tonnes of boilerplate.\nPersonally, I would persist and see if it solves our problem(s) in a few use cases, notably in ResourceManager.\n. OK, that error is a bug...  Composer should be being set to Bolt's cache dir and it is not.\nThe translations, @rarila is still working on those and is aware.  It is also partly my fault due to me pushing him to get those changes in early as we moved a lot around on the weekend.\n. @rossriley & @tobias2k side note on this, composer.phar on my test system doesn't get updated.  My copy was 2 months old...  We probably want to check file date < 1 month as Composer itself does.\n. Tracking #1930 here too.  Both problems looked to have been fixed now.  Landing in master soon.\n. Are you doing \"in-place\" saves by chance?\n. Unable to reproduce\n. Hi, that one was a typo on the config.yml.dist file that snuck under my radar. See here\nBut for now, in app/config/extensions/boltbb.bolt.yml you need to update:\nyaml\n  navigation:\n    crumbs: boltbb_breadcrumbs.twig\nTo:\nyaml\n  navigation:\n    crumbs: boltbb_crumbs.twig\n. Concatenation does not strictly impose types, and for me it looks cleaner.\n. That said, I was just getting us an easy win. :-)\n. Yeah, I thought it was taken care of during Boltcamp 2, but got it on bleeding-edge master just now.\n. /me darts eyes from side to side\n. Speaking strictly personally here, I think that as a global it carries more liability that benefit.\nThat said, it is already possible to achieve this inside an extension, should the extension be targeted in such a way.\n. Fixed in ba16a077b7de5378a3156e22ce9140565b125be7 @bobdenotter was too quick for me, he must have known I was going to hit this one today.\n. tar xf $TARFILE --strip-components=1\n. Showcases has the same icon on my example.com install\n. Good find! :-)\n. Yeah, I know, but while it was on the scale of #1555...  I was willing to take the risk.\n. Legendary @jkazimir! I am going to miss stripTrailingSlash() though, it reminds me of WordDepress ;-)\nAgreed on the services...  This is the first thing I ran into when moving lib.php and why I dropped back to statics.  Also I am all for a staged approach that can be discretely tested and understood.\n. Again, getting dangerously close to #1555\n. Jump!\n. This is by design, and is due to the extension(s) requiring autoloading.  As in the documentation, local extensions are not autoloader enabled.\nInstalling this via the Extend page in your Bolt Admin will however work.\n. Ah yes, I had a bad feeling I closed this in a rude way... I am sorry!  I was just trying to be efficient :-)\nWith local extensions that you are developing, you just need to ensure you use an include_once for any class files you need exists in Extension.php.  The local extension installer will first require Extension.php and then init.php, so it mostly mimics how most simple extensions need to work.  The problem becomes when classes need to be magically included.\nThere are a lot of very friendly people online in #boltcms on Freenode during GMT work hours... there are still more people in USA hours...  So please feel very free to talk to us there for more help.\n. Should be $app['paths'] and you can demonstrate in Twig by using {{ dump(app.paths) }}\n. Yer, @rixbeck fixed it with #2001\n. Nginx configuration error...  Nothing to see here, move along.\n. Not quite #1555, but still...\n. Make sense to me :+1: \n. OK...\n\nMultiple: Consisting of, requiring, including, or involving more than one\nOne: Having a value of 1, referring to a singular instance\n\nThat being said, icon and icon_singular reflect how we are naming things throughout our configuration parameters already.\n. Can you update to current master?  A lot has changed in that class in the last couple of days.\n. Yeah, a couple of cycles for an is_readable() or the like will kill this.\n. Fixed in #2079\n. > autoincrement id is reset after item delete (seen with sqlite)\nFrom http://sqlite.org/autoinc.html: \n\nOn an INSERT, if the ROWID or INTEGER PRIMARY KEY column is not explicitly given a value, then it will be filled automatically with an unused integer, usually the one more than the largest ROWID currently in use. This is true regardless of whether or not the AUTOINCREMENT keyword is used.\n\nThat particular one is is NOTABUG\n. Regarding:\n\ndatepublish seems to be forced > 1970 (what about older dates)\nother dates seem to be forced > 1900 (what about entering historic events)\n\nFrom http://dev.mysql.com/doc/refman/5.5/en/datetime.html (got to pick one of the DB engines :-P)\n\nThe DATETIME type is used for values that contain both date and time parts. MySQL retrieves and displays DATETIME values in 'YYYY-MM-DD HH:MM:SS' format. The supported range is '1000-01-01 00:00:00' to '9999-12-31 23:59:59'.\n\nI wish to assert 'feature' rather than 'bug' on those two.  Not arguing validity, just relevance.\n. First guess \u2014 Check file permissions/ownership...  From there, see what gets written to the server logs and we can help you debug/fix from there.\n. > I already had the file permissions set the right way\nCool, just wanted to rule it out...  I trip up on this one all the time.\n. \"Dependency injection for global functions.\"...  Please tell me I didn't just read that?\n. @gwbonline we have forked the Pathogen library and @GDmac has removed Isolator, we're testing now and should have a version out soon to fix this.\n. OK, this shouldn't be happening... I pushed a change for this a few weeks ago to composer.phar to Bolt's cache directory instead of /tmp/\nLooking deeper!\n. @gwbonline con you confirm that you got either one of these files:\n- http://bolt.cm/distribution/bolt-2.0.0-beta2-pl1.tar.gz\n- http://bolt.cm/distribution/bolt-2.0.0-beta2-pl1.zip\nI've checked them both and both should be creating the composer.phar in {bolt_web_dir}/app/cache/composer/\n. > @GawainLynch: judging by the screenshot\nHigh stress levels and missed the obvious :-/\nThat parameter was changed in this cset a40dde85 2014-10-21, so if the original install was beta1, there should be none of these files coming into play...  confused\n. @gwbonline we have found the source of the problem, kudos to @GDmac for tracking it down.  @bobdenotter is testing my patch and he'll push a beta-3 soon after!\n. @gwbonline what @bobdenotter said, totally!\n. #karma @rixbeck \u2014 This has been on my TODO!\n. I agree with @rossriley \n. > While in development, composer.lock should be commited in VCS so that all the developers can be on the same page.\nWhile there is benefit in this, there are circumstances recently where not having the same composer.lock file has worked in our favour by highlighting to someone that something has broken before it hit everyone else.\n. > However, RTFM\nWe have read the manual, several times, and I have also spent a lot of time reading the API at the code level too... Thank you very much!\nHaving composer.lock in master would have been a nightmare at a couple of points, during this dev cycle alone. We set version constraint for a reason, please RTFM.\n. As I mentioned in IRC...  If the use case is to assist local development where 'net access is limited, sure.  The article however is full of questionable, na\u00efve, assertions...  \nThey also run Google Analytics yet worry about Google spying on you.\n. #karma @cdowdy \nYeah, honestly I am starting to lean more towards bundling and defaulting to local, however having a config.yml setting that lets those of us that care about performance to use Google Fonts.\n. ping 192.168.0.@bobdenotter \nConsistent with the your point here, I can't see a problem in the tests themselves, are you sure that we need isallowed: 'extensions:config in _secondary-extensions.twig?\n:nut_and_bolt:  2.0.0 is calling and it has this blocker's number on its list.\n. Fixed in #2048\n. Hi Danny!\nMy personal, and immediate, guess is that your DocumentRoot is not set  properly.  The trigger for me is /bolt/bolt/users/edit/ rather than /bolt/users/edit/...  While both paths can be achieved, I am guessing that the former is not what you're trying to achieve.\nAlso happy to admit that I am missing something obvious myself here :-)\n. Bolt expects nothing past the .htaccess in the root directory and a DocumentRoot (all this for Apache).\nIn C:\\DataApache\\Apache 2.4\\htdocs\\bolt do you see a bolt directory, or something that looks like:\napp  extensions  files  index.php  README.md  serve  src  theme  vendor\nIf the former, you need to move things down to C:\\DataApache\\Apache 2.4\\htdocs\\bolt\n. Yeah, you have me scratching my head too...  But I am confident that this is an Apache issue.  One thing that I also noticed is thie: http://localhost/bolt/index.php/bolt/users/edit/.\nApache pathing is all wrong for some reason, but the last time I used Apache was in 2009 (I have been an Nginx convert since).  Someone with more current Apache knowledge might be able to chime in to help.\n. OK, found a cause of this behaviour.\nIt is indeed AllowOverride.  There were overlapping <Directory> definitions, one had AllowOverride None, the other AllowOverride All. Fixing either both of them to AllowOverride All, or removing the overlapping definitions fixes the problem.\n. Going with @rarila's suggestion ;-)\n. Looks good to me, I might finally get to use Clippy in try.bolt.cm ;-)\n. A few things not quite right...\n\n\n\n. So apparently, while I wasn't looking, someone snuck in and changed the permissions on my testbed server instance...\n. Do the incompatible changes hit us?\n. Just these listed in the 2.8.0 changelog\n- #1761: moments created without a language are no longer following the global language, in case it changes. Only newly created moments take the global language by default. In case you're affected by this, wait, comment on #1797 and wait for a proper reimplementation\n- #1642: 45 days is no longer \"a month\" according to humanize, cutoffs for month, and year have changed. Hopefully your code does not depend on a particular answer from humanize (which it shouldn't anyway)\n- #1784: if you use the human readable English datetime format in a weird way (like storing them in a database) that would break when the format changes you're at risk.\nThey don't look like a problem for us, but you'd be way more familiar with that part of Bolt that me :-)\n. > Was hoping anyone knows someone who knows.\nI'm thinking it is coming down to you and I and our l33t grep skillz.\n. I have a branch already!\n. @bobdenotter I have a whole new feature branch incoming for the logger...  Can we coordinate?\n. I was waiting until I got back to the EU, circa 12th.  It should be good to go as-is, but I wanted to have a discussion (when Ross is back too) on a finalised approach.\n. Currently there are logging interfaces for:\n- Record changes $app['logger.change']\n- Internal system events $app['logger.system']\n- Silex event debugging $app['monolog'] (standard out-of-the-box Monolog for Silex)\n. Well that sort of thing is what I wanted to discuss with everyone...  Monolog comes with the FirePHPHandler handler class, so it is a trivial addition.\n. Tagging #693 so I won't lose this!\n. @vimishor no, this is due to a change that just hit.  @rarila is still changing how custom translations are stored so our distribution files don't overwrite end user ones.\n. You have an old copy of the beta.  We are aware of this one and the problem with the backticks is that is breaks other DB engines.\nDBAL does handle this in the latest update, so if you can ensure you're on beta-2 files, or if you're on git please do a git pull && composer update.\n. @credomane I can't reproduce this here, can you let me know what DB engine and version you're using?\n. @credomane I have reproduced it now, thanks for the info...  Looking into it now.\n. OK...  I know why this is happening now!\nIn Bolt 1.6.13 we added an interim column alongside the interval column, but as our testing showed that the interval column could be dropped on our master codebase, we removed it.\nOK, so the \"quick\" workarounds are either:\n1. Update to Bolt 1.6.13 before updating to Bolt 2.\n2. Manually remove the column from the database.\n@bobdenotter we need to (obviously) reconsider the best approach for v2.\n. Fixed in #2133\n. Follow up fix to effectively allow for column removal in #2134\n. @vimishor closing this now.  Please feel very free to re-open if you have additional queries on this.\n. This seems to have been fixed with @rossriley's latest push.  Can no longer reproduce here.  Please reopen if you're still getting it.\n. Confirmed here. Tried the following, all apparently looking correct in terms of UTF-8 handling:\n{{ \"Will this work properly\"|excerpt(4) }}<br>\n{{ \"\u8bf7\u95ee\u8fd9\u6b63\u5e38\u5de5\u4f5c\"|excerpt(4) }}<br>\n{{ \"S\u1ebd l\u00e0m vi\u1ec7c n\u00e0y \u0111\u00fang\"|excerpt(4) }}<br>\n{{ \"\u0427\u0438 \u0431\u0443\u0434\u0435 \u0446\u0435 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438 \u043d\u0430\u043b\u0435\u0436\u043d\u0438\u043c \u0447\u0438\u043d\u043e\u043c\"|excerpt(4) }}<br>\n{{ \"\u0647\u0644 \u0647\u0630\u0627 \u0627\u0644\u0639\u0645\u0644 \u0635\u062d\u064a\u062d\"|excerpt(4) }}<br>\n{{ \"\u092f\u0939 \u0920\u0940\u0915 \u0938\u0947 \u0915\u093e\u092e \u0915\u0930\u0947\u0917\u093e\"|excerpt(4) }}<br>\n{{ \"\u6b63\u3057\u304f\u3053\u306e\u4f5c\u54c1\u306f\u30a6\u30a3\u30eb\"|excerpt(4) }}<br>\n. That tab can contain \"Relationships\" and/or \"Taxonomy\".  \nHow about \"Classifications\"?\n. > how about breaking the relations out of the same tab as taxonomy?\nVisual clutter\n\nI think taxonomies should be put in whatever tab you want.\n\nYes, good idea, but sensible defaults need to exist :-)\n. Yes, but having a tab for everything across the screen soon makes life hell for people on smaller screens and trying to follow content.  One could argue that title has nothing to do with slugs, so we should break that out too...\n. > @GawainLynch So... you're advocating that every field should be located under the taxonomy tab because tab sorting makes no sense?\n@DevonshireCow it is funny I should find this first thing this morning as I spent a bit of time thinking about this last night.\nWe are in agreement insofar as a developer should be able to insert 'n' number of tabs \u2014 their choice.\nThe single point of objection I raise is in unwittingly forcing a multitude of tabs on a Bolt user.  From our manifesto:\n\n\nBolt aims at three groups of users: Editors (content writers and editorial staff), Frontend developers (HTML/CSS specialists and implementers) and Backend developers (coders, devops and sysops). All three are equally important.\nWe will never add new features, if they detract from any of the points mentioned above. If a proposed feature makes the system harder to use, it will not be accepted. If a proposed feature is for the benefit of one of our groups of users, but disadvantageous to another, it will not be accepted.\n\n\nThat said, what I am hearing is a lot of very constructive problems, but not a constructive and workable solution that matches our project goals. :nut_and_bolt:\n. > Well, taking relationships outside of taxonomy and being able to place them wherever is a solution, I thought that was agreed?\nThat is a suggest approach, and yes, there is agreement.\n\nWhy try to create a custom ORM\n\nNobody here is trying to create a custom ORM.  The only thing I can think of you referencing here is that (at this stage) Doctrine's ORM has been ruled out as a candidate for a bunch of technical reasons that are not relevant here (i.e. separate issue #)\nAll I am asking for in this conversation is a workable and practical solution to the problem that you have (correctly) highlighted.  We're in a late-beta phase and feature freeze and need to get 2.0.0 out the door... ORM \u2014 Doctrine or not \u2014 is not on the cards for 2.0 :-)\n. If it is frontend, use the Bolt Forms extension, if backend then Symfony Form validators...  which is what Bolt Forms is using.\n. > In the main menu: 'Extras' has to be written as 'Extra's' (according language rules)\nAlso, this is not a possessive plural.  I don't know if that is handled differently in Dutch as English though...  If it is, that would explain the way to @bobdenotter added it initially :-)\n. Nah, not silly.  Culture is culture and that is valid enough :-)\n. Confirmed working here with zh_CN\n. Yeah, I want to try and get a 5.4 instance to dig deeper\n. This is redundant with #2138\n. The good news @lexislav is they haven't gone far...  We're in the process of moving to locale based language file and we must have missed this one :-)\n. Fixes #2094\n. Just to add a note for visibility of the reason we have PHP 5.3.3 as a requirement, Red Hat Enterprise Linux and CentOS 6.x are tied to PHP 5.3.3 and don't reach full end of life until November 30, 2023.\n. @rarila that is one of my point on IRC, but the @rossriley magic in #2097 at least gives us breathing room.\nThe other point is one of @bobdenotter's that the continual refactors are certainly fixing bugs, but introducing now ones and if we're not careful Drupal 9 will be released before we're done with 2.0.0.  So I guess the question is what do you see that we need to cover @rarila?\n. I'm sold...  Tested a bunch of stuff (PHP 5.5/5.6) including Clippy, BoltBB, Bolt Forms, Socialite, Menu Editor, Client Login & Members and nothing breaks (that didn't already have a bug).\n. Seems fixed by #2101\n. Adding #2098 to the list to test post-merge\n. Most importantly, we now only get one instance of Clippy on the Extend page!  This is a win-win! \n. Moved #2085 to \"Closed\"\n. #1555 warning!\n. Sounds good... But it also sounds like one of those strings that once pulled leaves a disaster in its wake.  Code talks though ;-)\n. Yo dawg, I saw your globals and added some globals!\nUgly, but Codeception tests now pass...  I'll take visibility over some thing that some person said somewhere that means something...\nSeriously though, little and continuous steps.\n. Also worth keeping in mind that @rarila has a bunch of work on this about to land.\n. A silly one liner, kudos to @GDmac for finding it.\n. Is there anything outputted to the webserver error log?\n. If I had to guess, I would say it is an extension...  One thing you could try is to remove the directories under extensions/vendor/ one at a time to see which one is causing the issue.\n. Oh, a totally clean install...  Sorry, I missed your point there, and yes if you haven't installed any, there would be non installed.\nOnly other thing I can think of is file permissions.  \nWithout error logs it is really hard to know what is going on. :-(\n. > Is it safe to set them all to 777?\nThat is a tricky question to answer.  I would only do that on a non-public environment.  However what you could do is this:\ncd /your/bolt/directory\nfind . -type d -print0 | xargs -0 chmod 755\nfind . -type f -print0 | xargs -0 chmod 644\nchmod -R 777 files/ app/database/ app/cache/ app/config/ theme/ extensions/\nWhat that will do is ensure that the directories and files are \"world readable\", and only certain public directories are 777.\n. I just had a quick look at the Synology forums and found these two links that may be helpful with logging information:\n- Enable web logs\n- Viewing web logs\n. There is one more change that I just pushed to fix a stupid oversight, but there may have been other small fixes...  The easiest thing will be to grab the new file that @bobdenotter posts in the morning (CET).\n. Thanks, @mattiaslundback this gives us a lot to work with.  I had secretly wondered how this would work/fail in the case you describe.  I'll have a look at the approach today and try to come up with something.\n. There is a patch awaiting approval that will handle this more gracefully, you will only get a notification and Bolt will continue to work but not allow you to install extensions...\nHowever what I forgot to mention earlier was the problem occurs due to your webserver not being able to access https://getcomposer.org/composer.phar.  So to be able to install any extensions, you will need to fix the server's network access (firewall maybe?).\n. No problem.  Something else that landed in the patch-set that @bobdenotter just merged was the removal of using composer.phar and just using the libraries that ship with Bolt.  Either way, the next beta/release candidate will handle this gracefully for you :-)\n. Travis passes and it works for me. \nAddresses #2114 \n. 'Addresses' was not mean to say 'fixes', but rather have GitHub link them in a logical way that stuff links\n. Fixed in #2124, 'cause I am a dufus!\n. > IMO initialise is for initialise\nYes, agreed.  However, adding getContent() further down won't prevent what is happening here.  It is a question of where in the execution path you need stuff to happen.  Anyhow, it only becomes an academic debate past here :-)\n. I'll figure something out...  But right now, lets just close it.  The column will get removed from databases at some point, so no harm, no foul I say.\n. > Awesome. This will make @GDmac happy. :-)\nMy thoughts exactly!\n. Latest update finally nukes the Composer wrapper and just does the call directly...  \nNo more composer.phar in the cache directory, and one less library to deal with...  let alone the way it made @tobias2k wince.\n. > \"Wrapper\" is not needed anymore, right?\nBut it...  um... just magically disappeared ;-)\n. Agreed.  I am already working around it in a \"don't look here, please\" way in one extension.  Would be good to have.\n. Yes\n. I must object to this patch on two grounds:\n1. I am the one to blame for that block of code\n2. There is a definite connection between this and #1555 \n3. I can't count\n. This has been on my wish list forever.  I currently have hackish workarounds for it, but something simple and formal would be awesome!\n. I would expect viewless: true to take precedence myself... :confused:\n. > \"Why my template doesn't gets run?\" situations.\nThinking out loud, but there is an updated logging system that will hit the ground circa 2.1 and one thing I want to do it look at what we're logging and how that is relayed to the site admins...  Maybe this is just something we can log?\n. Works for me\n. :beers: \n. @evertalbers you're probably thinking of #1778...  \nThis issue has been a fun week or so for @rarila & @GDmac :-)\n. > I only hope that migrating SimpleForms won't be too difficult, but that's another story.\nSimpleForms should work out of the box, installed with the v2 version from the Extend page in the admin area...  \nHowever, I have also written Bolt Forms extension for 2.0 that gives access to much more Symfony Forms features, plus you can use contenttypes as a target for submitted forms, etc.\n. You probably want to set the late flag:\naddJavascript('myfile.js', true);\n. Interesting.  This actually turned out to be bad ->bind()'s.  Full credit to @rossriley for identifying it :-)\n. Also it should check if target exists and prompt if an overwrite is taking place\n. gentle addition of :beers:\n. Both initialize() and getName() need to be public as part of the loading. The PHP function names have a different namespace so that won't cause a collision for you either, and the Twig functions are different (they do become global, but not a problem in this case).  I have looked at the Autolink code and can't see anything obvious that would be causing it.\nAt the top of the extension Twig functions of each (e.g. twigRssAggregator()), can you put this in to test/show if they are being hit:\n\\Dumper::dump('I am being called from: ' . __FUNCTION__);\n. Ah, OK.  This is on the Extend page in the backend admin.  Do each of them show up in the \"Installed Extensions\" table above the console log where you're seeing this?\nAlso, could you produce a screenshot of that page and post it here?  That might help us a bit :-)\n. Ah ha!  I think I know where the problem is...  There is a problem with Composer when there are files that have been modified by the user.  On the command line Composer asks questions like:\n- Updating mattiaslundback/autolink dev-master (4618835 => aa86312)\n    The package has modified files:\n    M Extension.php\n    Discard changes [y,n,v,s,?]?\nBut Bolt currently doesn't have a way of handling this.  The easiest fix is to remove/rename extensions/vendor/ directory and click the \"Install all Packages\" button on your Bolt Extend page.\n. @mattiaslundback ah, I see.  This is a problem with us not having set git tags yet on our extensions, and therefore requiring git itself.\n\nif is it on conflicting changes then may we put \"preferred-install\" : \"dist\"\n\n@rixbeck it is now your turn to buy the next beer for you and me! I actually went and read Composer API code again...  :-)\nMaybe.  I am not 100% sure... But for a dev-master version there will be no tarball(?).  I am not a fan of saying that you need git installed on a production server, it goes against good practice.  But if you are installing dev-master versions, then to be honest, you shouldn't be doing that in a \"full production\" type environment that doesn't actually have git installed anyway.\n_cluck _cluck said the chicken to the egg...  :-)\n. Yes and no.  If git is not installed, we still get some irregular behaviour with dev-master extension installs...  They will eventually download a tarball from GitHub and once that is in the Composer cache the uninstall/reinstall works just fine.\n. Not one that we can fix specifically.  With extensions tagged and stability requirement moved off dev this doesn't affect standard users.  We might be wanting to look at better UI interaction in the future, but that should be a separate issue.\n. @mattiaslundback this is due to your server not being POSIX compliant and therefore not having the PHP function fnmatch().  I'll have a think about the best way to approach this.  @bobdenotter used to have a wrapper function for this use case but we didn't think that there were any valid reasons to keep it...  :-)\n. There is no stress either way, fnmatch() is now gone... well as soon as @bobdenotter approves #2181 it will be :-)\n. A regression is a regression...  Kill it with fire!\n. You probably want to attack app/view/js/src/init.js as app/view/js/bolt.js is the generated file...  I did the same thing recently :-/\n. :beers: \n. There has been some recent changes on this, are you on git master or beta4?\n. There was a beta3-pl2, but we are currently up to beta4 tar.gz and zip, could you update to one of these as I think the issue you have is fixed :-)\nOf course, if it's not, we'll get on to it.\n. ...and @bobdenotter just informed me that the linked files are beta4-pl2...  my bad :-(\n. We are switching to proper SemVer behaviour with the release of 2.0.0.  :-)\nWe are also finalising our branching strategy.  GitFlow seems to make the most sense, but decisions are still pending.\nThe tags strategy I will leave to @bobdenotter to answer.\n. @teohhanhui, Ross' repo has been merged into the Bolt organisation here: https://github.com/bolt/composer-install\nAlso, yes if you're using the v2 beta from master as it is at the moment you are much better off with dev-master.  Don't worry though, there are a lot of people working on cleaning this up, it just needs to be staged and done properly :-)\n. > So, just remove it? Ok..\nYes, had a long talk with @rarila about it, and neither of us could identify where it actually did anything at all.  However its presence was ultimately problematic as there are points in the execution life cycle where $app['request'] doesn't exist yet.\n. Thanks @mattiaslundback, I had noticed this too yesterday and meant to ping someone to find out if it was just me.\n. Or using Nginx... If so, see the installtion docs, specifically:\n# If you set a custom branding path, you will need to change '/bolt/' here to match\n    location ~* /bolt/(.*)$ {\n        try_files $uri $uri/ /index.php?$query_string;\n    }\n. Ha!  You just beat me, @webching :-)\n. Funny story. A few years ago we were at a conference in Montreal and when we met our good Parisian friend at our hotel...  I said to her, thinking I was making a joke, \"Isabelle, how are you finding the language her?\"... She made a very sad face and said, \"I don't understand a thing people are saying. In France we stopped talking this way 400 years ago!\"\n. My bet is that the object type that is returned by getContent() is not being converted to a string before the json_encode() in Backend\n. Yes, it is Finder b0rking...  Looking deeper while I have a few minutes spare.\n. Fixed in #2258\n. > That was quick!\nA regression that I introduced requires fast action ;-)\n. So we're on the verge of releasing 3.3.0-stable and this is still a visual, and logical, mess. Adding as a 3.4 blocker.. Fixed in #6898. Should be fixed now @peterboorsma, could you be so awesome as to try again on your end please?\n. Should be fixed now @peterboorsma, could you be so awesome as to try again on your end please?\n. I saw something in the API today (can't remember exactly) about using downgraded SSL that I don't think the console app uses... Either way. I flagged it to look at when I get home next week.\n. You know that moment...  When you're looking into a problem like this...  And you think, \"Hmmm, I have an idea\"...  and you re-read the original issue......................... and realise you've been misreading it the whole time!  @peterboorsma many apologies!\n\nThe extension log screen and all buttons are inactive\n\nThis happens when http[s]://extensions.bolt.cm doesn't return a HTTP 200, 301 or 302.  I am in the process of heavily refactoriing the Composer code, so taking this into account I might try and get it to give more feedback.  In the meantime, commenting out lines 376-380 in src/Composer/CommandRunner.php will work around this for you!\n. OK, so a fix for this has landed in the canary branch (#2503) which will become 2.1.  I'll leave open for testing results from other and eventually @peterboorsma \n. > right now I'm working as Active Directory architect and AD is one user DB containing lot of different kind of users.\nThat is completely incorrect. \nAs much as it is easy to pull apart AD, it is still susceptible to poor implementation design, such as exposing internal catalogues. It's been a while since I did an MCSA, but this is a key concept in passing the exam.\n\nI'm now using CMSMS\n\nWhich lacks pretty much any security, it simply implements obscurity mechanisms. Seriously, have a look at their internal code :wink: \n\nAs said, I don't understand. So if anyone as an explanation better than \"it is not a good idea\", that would be great.\n\nDecades of established research and advancement in software science & engineering, e.g. \n- Domain \n- SOLID\n- Separation of Concerns\n- \u2026\n. By the way, please take my response(s) with good humour and engagement \u2026 reading yours and mine to this point it would be easy to pick up otherwise \u2026 but a healthy debate is fun so lets go :smile: \n\nAD, without ADAM/LDS, is not one LDAP tree hosting almost everything?\n\nYour assertion was \"and AD is one user DB containing\" \u2026 I stand by my response and your refutation of your own.\n\nExcept to tell us you have MCSA I don't see the point of that remark. I mean AD is complex and implies security. Complex + Security = You can do bull shit. No need of MCSA to understand that : )\n\nApart from nearly 20 years of work experience leading architecture & security teams, not much I guess. :wink: \nActually my simple point has less to do with the usual Nerd Ego Stroke, and more with just trying to highlight what the vendor themselves document, including require answering in their industry based exams.\n\nHere, again, I don't understand you. You punch CMSMS for what purpose?\n\nWhatever was latest as of November 2015. It took no time to compromise. There is so much technical debt in that codebase that it isn't economically viable to fix.\nIt isn't a punch, just an observation of fact.\n\nMan, I wrote that patch and I take lot of time because I'm not a dev at all.\n\nYou know what \u2026 and please note all jokes/fun/ribbing are aside at this point \u2026 but that annoys me. Not for a second because you did any thing wrong, but because I honestly think we (Bolt team) failed in communicating the \"why\" and \"what for\".\n\nFinally, in two words: Bolt don't want privacy in front end.\n\nWe do want privacy, we just know that tying that into the backend as it is currently is a bad idea. We have bolt/members that is leading the charge to bring that to a usable state for 3.x and is getting close to a stable release. It is just a lot of work, authentication systems are hard (again, why we want the separation) and we want to do a good job.\nFinally, in two word: Thank you :+1: \n. > First thank you no taking too bad my bad mood.\nAll good, we had a good, and constructive, exchange \u2026 everyone wins :smile: \n\nNice to see some day Bolt would have private pages\n\nWe have them in production now, I just wouldn't call the code ready for the general public as there are still some edge cases to clean up, and most importantly I haven't had the time to write usable documentation.\n\nPerhaps one day I would try Bolt again.\n\nWe'll be waiting with open arms :+1: \n. I am officially mounting an @rarila style princess tantrum! :-P\n. I am officially mounting an @rarila style princess tantrum! :-P\n. BTW, we need to give @bobdenotter git merge lessons...\n. BTW, we need to give @bobdenotter git merge lessons...\n. I believe via IRC, etc, all issues resolved here :-)\n. Closing as part of a general issue clean up.\n. > I think something should be done to fix this if we can manage it\nOK, so I have been playing around with this a bit today.  And with or without this PR, I can't get static files to load.  We definitely have a problem!\n\nIt seems like an odd place to put this functionality\n\nYes and no.  Having such a functionally diverse codebase means we have to make compromises. On one hand, you are 100% correct @mrjgreen that this shouldn't be in the regular code path.  However the other side to that coin is that we run the risk of having Filemageddon\u00ae in the root directory :bomb: \nMethodology\nSo having time to do nothing today, I thought I would empirically test the impact of having the CLI exception in the codepath... To establish a baseline, I ran the following PHP file 50 times:\nphp\n$i = 0;\nfor ($i; $i < 10000000; $i++) {\n    if (php_sapi_name() == 'cli-server') {}\n}\nThis showed an average of 0.0000062 seconds for each iteration of the loop. Assuming \u2014 very generously \u2014 that there are 200 GET calls on a page render, then we're looking at 0.00124 seconds of additional time having that check there. \nNOTE: Performed on an Intel i5 with 4GiB RAM (150MiB free before runs) and PHP 5.5.20.\nConclusion\nI need :beers:\n. > I think something should be done to fix this if we can manage it\nOK, so I have been playing around with this a bit today.  And with or without this PR, I can't get static files to load.  We definitely have a problem!\n\nIt seems like an odd place to put this functionality\n\nYes and no.  Having such a functionally diverse codebase means we have to make compromises. On one hand, you are 100% correct @mrjgreen that this shouldn't be in the regular code path.  However the other side to that coin is that we run the risk of having Filemageddon\u00ae in the root directory :bomb: \nMethodology\nSo having time to do nothing today, I thought I would empirically test the impact of having the CLI exception in the codepath... To establish a baseline, I ran the following PHP file 50 times:\nphp\n$i = 0;\nfor ($i; $i < 10000000; $i++) {\n    if (php_sapi_name() == 'cli-server') {}\n}\nThis showed an average of 0.0000062 seconds for each iteration of the loop. Assuming \u2014 very generously \u2014 that there are 200 GET calls on a page render, then we're looking at 0.00124 seconds of additional time having that check there. \nNOTE: Performed on an Intel i5 with 4GiB RAM (150MiB free before runs) and PHP 5.5.20.\nConclusion\nI need :beers:\n. Progress...  Running php -S localhost:8000 from the Bolt root loads assets just fine. Turns out that when index.php was not returning a boolean false itself, then static requests were just left hanging in limbo.\n. Progress...  Running php -S localhost:8000 from the Bolt root loads assets just fine. Turns out that when index.php was not returning a boolean false itself, then static requests were just left hanging in limbo.\n. Fixed in #2391\n. > Why would you want to disable the pretty stack?\nIt drives my CDO mental, but Erin loves it...  Out of scope but I'd love to see it per-user.\n. > Why would you want to disable the pretty stack?\nIt drives my CDO mental, but Erin loves it...  Out of scope but I'd love to see it per-user.\n. @bobdenotter why don't you just fetch into a local tree, git merge, resolve and push?\n. @bobdenotter why don't you just fetch into a local tree, git merge, resolve and push?\n. Ah, OK...  \nNOTE TO SELF: \n1. Coffee\n2. GitHub\n3. GOTO 1\n. Ah, OK...  \nNOTE TO SELF: \n1. Coffee\n2. GitHub\n3. GOTO 1\n. > Deadset dedicated\nDedication in an absolute sense...  In this case \"deadset\" could be translated as either \"total\", \"100%\",  or \"absolutely\".\n\nridgy-didge\n\nUsually \"genuine\", also can be \"the real deal\", \"true blue\"...  and a few others not suitable for a public issue tracker ;-)\n\nBullamakanka\n\nMiddle of nowhere...  Furthest point from anywhere...  Slang only, place doesn't exist.  More often you'd hear \"back of Burke\" in its place.\n\nShe\u2019ll be Apples\n\n\"There is nothing to worry about\".  Sometimes \"She'll be right, mate\", or \"No worries, mate\", \"No wuckers\", \"All good, mate\" and most often \"No fu##king worries\" or \"No wucking furries (sic)\"\n. > Deadset dedicated\nDedication in an absolute sense...  In this case \"deadset\" could be translated as either \"total\", \"100%\",  or \"absolutely\".\n\nridgy-didge\n\nUsually \"genuine\", also can be \"the real deal\", \"true blue\"...  and a few others not suitable for a public issue tracker ;-)\n\nBullamakanka\n\nMiddle of nowhere...  Furthest point from anywhere...  Slang only, place doesn't exist.  More often you'd hear \"back of Burke\" in its place.\n\nShe\u2019ll be Apples\n\n\"There is nothing to worry about\".  Sometimes \"She'll be right, mate\", or \"No worries, mate\", \"No wuckers\", \"All good, mate\" and most often \"No fu##king worries\" or \"No wucking furries (sic)\"\n. This should be covered with the Composer API revamp in 2.1-alpha\n. Works for me and looks good!\n. Works for me and looks good!\n. Loved the branch name, btw :+1: \n. Loved the branch name, btw :+1: \n. Fixed :grin: \n. All I want for Christmas is Bolt 3 :ship: \n@rixbeck I am having some issues trying to reproduce your problem. Mainly that, the step be happy and surprised seem to not return a proper surprised\nI looked at the Bolt\\Christmas library and I think this is where something is going wrong:\nphp\nelseif ($this->app['location'] === 'South Pole') {\n    $this->app['santa']->sleigh()->reindeer()->sack()->hohoho();\n}\nStepping though in the debugger, I noticed that, firstly, $this->app['location'] does actually contain 'South Pole' and secondly, when I dumped $this->app['santa'] I found it contained penguins.\nI am unsure how to proceed from here, but I think the solution might be :joy: :beers: :christmas_tree: \n. All I want for Christmas is Bolt 3 :ship: \n@rixbeck I am having some issues trying to reproduce your problem. Mainly that, the step be happy and surprised seem to not return a proper surprised\nI looked at the Bolt\\Christmas library and I think this is where something is going wrong:\nphp\nelseif ($this->app['location'] === 'South Pole') {\n    $this->app['santa']->sleigh()->reindeer()->sack()->hohoho();\n}\nStepping though in the debugger, I noticed that, firstly, $this->app['location'] does actually contain 'South Pole' and secondly, when I dumped $this->app['santa'] I found it contained penguins.\nI am unsure how to proceed from here, but I think the solution might be :joy: :beers: :christmas_tree: \n. To be honest, I would prefer we had gone, or go with, something like this:\nyaml\npages:\n    name: Pages\n    slug: pages\n    singular_name: Page\n    singular_slug: page\n    fields:\n        field_m1:\n            type: text\n        field_m2:\n            type: image\n        field_m3:\n            type: text\n        field_f1:\n            type: html\n        field_f2:\n            type: html\n        field_b1:\n            type: html\n        field_m4:\n            type: image\n    field_groups:\n        media: [ field_m2, field_m4 ]\n        foo: [ field_f1 ]\n        bar: [ field_b1 ]\nWith the first array element key of field_groups being the default landing place for anything not in one of those array elements.\nSeparation of concerns/logic etc.\n. > So we had to refactor and deprecate anyway. My proposal was to get into 2.1 and disarm the situation a bit without (major) breaking stuff.\nPersonally, I wouldn't be against a change like that, if it is not too far away and the code changes weren't large.\n. I'm going to knock this one on the head\u2026 Bolt extensions now (even local) build autoloaders\u2026 there is, as pointed put by @caseyamcl, the Symfony option\u2026 Composer has libaries for this as well and all are reasonably well documented.\n. Muito bom!\n. Muito bom!\n. All tests fine for me.\n. All tests fine for me.\n. Tests fine here\n. What about $this->app['config']->getWhichEnd()?\nRegardless, this raises a bigger problem...  There isn't total consistency to what qualifies as frontend, backend and async.\n. A whole bunch of NYE awesome here...  Tests and works fine\n. AJAX request/response will be coming to Bolt Forms soon(ish).  This is out of scope for Simple Forms either way. \nPlease feel free to log it on the Bolt Forms issue tracker though.  I just need to find the hours in my day at the moment :-)\n. :beers:\n. Totally in favour. This is one reason why I was pushing for GitFlow over an agile approach like GitHib Flow. \n. Happy New Year while we're at it :-)\nYes, I agree @rossriley, the carany branch idea as proposed sound really good to me.\n. > But, how will we manage to keep these in sync?\nGitFlow would be the obvious retort here, but not really useful.\nThe obvious way to deal with this actually gets a bit complicated for new contributors, but pretty straight forward for core devs...  Basically we could/would assume Canary branch can be wiped and resynced with master at any point.  In the meantime the person merging into Canary just gets to deal with conflicts, but what is PR'd to master is the individual feature branch itself.\nHaving said that, I want to cry at the idea of continuously managing and communicating that to/with most contributors. I think we're venturing into trying to combine agile and waterfall, and they not really compatible methodologies.\n. Nice catch, thank you!\n. Could you be more specific about which browsers (and versions) are not working for you. \n. Strange, it worked here for me...  @rarila any further ideas?\n. Nothing to see here...\n. This has to be one of my all time favourite responses, @bobdenotter!\n. > However, is \"0001-01-01\" acceptable too in postgres\nHonestly, I find it quite offensive that all major database engines don't measure the Planck epoch.\nOCD aside, 1900-01-01 00:00:00 is our defacto standard for date minimums, and this particular one is used to determine last logon (or something like that - it's late here)...  If we are going to change this, can we RFC and do it across the board in a standard fashion instead, as this is a breaking bug for PostgreSQL users in the mean time :sob:\n. LGTM...  Nitpicks though:\ntweakDatabaseDefaults() over setupDatabase()\n- Are these really defaults?\n- Are 'tweaking' them?\n- setDatabaseParams(), setDatabaseOpts(), etc?\n. > Where were you yesterday when we were talking about this on IRC\nWorking. :grin:\n\nFeel free to suggest something else or change it yourself\n\nYeah, @bobdenotter touched on this on IRC today.\n. Not sure I am seeing the valid use case here, can you possibly expand a bit?\n. > what's your reasoning for not wanting them to be protected\nYou said you were open to discussion but hadn't provided any reference here. I hadn't stated an opinion one way or the other lacking that.\nBut your later explanation is fine with me and I agree.\n. > Merged manually, and I accidentally stole the credits! Whoops, sorry!\nShouldn't be a problem, this branch will be re-pulled into master when ready...  Don't delete it, @CarsonF :grinning: \n. Yes, keep your feature branch until it lands in master please :-)\n. You're, like me with the Composer stuff, dependant on Ross' tests merging down to master first.\n. In my case, I need to modify tests.  So I guess I really am not dependant, as I am pushing that to @rossriley's testing branch anyway.  Either way, we figured that, on the overall, these are corner cases.  \nWe could design process perfection, but it would be impossible to use :grinning: \n. Confirmed here!.\n. Here is an example of how I am doing it at the moment:\n``` php\nuse Bolt\\Events\\StorageEvent;\nuse Bolt\\Events\\StorageEvents;\nclass MyClass\n{\n    public function initialize() {\n        $this->app['dispatcher']->addListener(StorageEvents::PRE_SAVE, array($this, 'hookPreSave'));\n    }\npublic function hookPreSave(StorageEvent $event)\n{\n    // Get contenttype, ignore 'foo' and 'bar' types\n    $contenttype = $event->getContentType();\n    if (empty($contenttype) || !(\n        $contenttype == 'foo' ||\n        $contenttype == 'bar')) {\n            return;\n    }\n\n    // Get the content\n    $record = $event->getContent();\n\n    // For this example, we'll just set the variables we need here\n    $title = 'My Nice Stuff';\n    $whiz = 'Swoosh!';\n    $bang = 'Where was the KABOOM!?';\n\n    // Updated values\n    $values = array(\n        'slug'  => String::slug($title, 128),\n        'title'  => $title,\n        'whiz'  => $whiz,\n        'bang'  => $bang\n    );\n\n    // Merge over default/existing values\n    $values = array_merge($record->values, $values);\n\n    $record->setValues($values);\n}\n\n}\n``\n. That indicates there is something wrong with the way the object(s) passed to StorageEvent are passed, or passing back changes.\n. Oh wait, that might be the point you're making!  Either way, I shall look soon.\n. Apologies for this taking as long as it did...  Wasn't a straightforward fix!\n. No stress, sorry again it took so long :grin: \n. First comment is that I would consider this in need of time incanarythat @rossriley is setting up. Ross is adding the upcomingtesting` feature branch.\n. Getting this in the UI, alignment not right on the fieldname addition:\n\n. LGTM\n. Fixed in #2852\n. We have each other's back covered. Team work for the win! :+1: \n. Looks fine to me. Wait on @rossriley's next PR to land in canary first?\n. > Holy beer! It's magic!\n\nYou told me you were working on this. This is really, really cool.\n\nI'd just like to thank the Australian Government for stressing me out so much, I needed a hard distraction...  :beers: \n. I get b0rkage in it with current canary.\nMy immediate (and probably) incorrect thought is that we've changed the events that are called by interacting on a different code path... Composer internals and all :grin: \n. Something weird here:\n$ phpunit\nBolt - Fatal Error\nPostgres was selected as the database type, but the driver does not exist or is not loaded. \nPlease install the pdo_pgsql driver.\n. Travis failure is testSaveSerializeErrors(), so nothing to see here.\nCode looks good though.\n. Fixed in #2512\n. Don't understand why this is now popping up:\nPHP Fatal error:  Class 'Symfony\\Component\\Console\\Helper\\Helperset' not found in \n[snip]/tests/Nut/ExtensionsTest.php on line 38\n. OK, just need the HelperSet change and this is good to merge.\n. Gold\n. R.I.P. PHP 5.3 :wine_glass:\n. Pfft, logic...  it's overrated.\n. Thanks mate :+1: . My bad for not cleaning that up.\n. What if the issue needing upgrade was introduced in 2.1.2, but the user is running 2.1.1?\nOther than how we'd handle that, very much like the idea. It could integrate nicely with the updater when that lands.\n. > There's a slim chance that would happen, but in that case we'll still urge people to update to the latest. \nEither way, I am not fazed. Kill this bug with :fire: \n. The box title would be translated though.  That would at least give the user context.\n. :+1: \n. I've just #2853 merged, can those seeing the issue please re-test.\n. Its not not built-in\u2026 It's just um\u2026 <Double negative alert>\u2026 Ugh, hand me a jar of Marmalade!\nAs @tobias2k said there is Waffles, and as he once pointed out to me; \"Who doesn't like waffles, right!\"\nThere are several other, far more complex and convoluted, um,  examples that were derived from those waffles! He makes good waffles!\nNutshell\u2026 Be very careful, you can open yourself up to a world of pain\u2026 and carbohydrates!\n. > I had to read that reply several times lol\nSorry, I was in a playful mood.  One of the things I love about this project is we still conduct our business with a sense of humour where we can.\nAnyway\u2026\n\nDoes your BoltForms allow me to create records of a content type\n\nIf you are using BoltForms contenttype insertion, yes you need matching fields.  BoltForms is smart enough to fill out some of the ones for you, but if your form as a filed foobar and that doesn't exist in the contenttype, then if will just be ignored during database write.  The table write setting uses similar logic, in that it checks the table's column names and doesn't try to insert fields that don't exist.\n. :wind_chime: \n. You have no idea how much it stressed me to see Clippy causing these to fail!\n. :clipboard: \n. :paperclip: \n. :fire: \n. > The -Guy thing is an existing Codeception convention\nI realise that, but it does not make it inclusive nor correct.  Just because one party behaves in an unacceptable fashion doesn't excuse the propagation of that behaviour.\nThat said, I have no firm opinion on Tester versus Person, with the exception of the niggle that it would create a TestTester :-P\n. Done: s/Person/Tester/\n. Your choice of gender identification is your own, and those that appreciate inclusion will also (hopefully) appreciate it :+1: \n. :+1:\n. :cake: \n. Duplicate of #2409 and being looked at as part of the upcoming refactor.\n. Logged in versus not when I was testing it here.\n. Ah, OK. Yes reading it hard.\nWhat I did (and I am guessing the same is true for @xiaohutai) was to click on the links that @peterboorsma included in that issue, got the errors (as that site now has more content) and made the assumption that the errors were the problem.\nEither way, can we also move this to 2.2 as there is quite a bit of work involved in fixing this?\n. > Sorry, I don't get this thread. Will it be solved in 2.1?\nYes, @xiaohutai committed the fix 3 hours ago\n. :traffic_light: \n. It's a time thing\u2026 I made a bunch of changes to the cache provider during the v3 extensions work to restore the proper interface\u2026 but given we're aiming to go beta on v3 soon, it's going to have to wait until a later 3.x to be properly fleshed out as a supported feature.\n. @CarsonF and I have come to an agreement on approach here and we'll probably RFC & then PR for 3.4. The job isn't massive, but does require some more work in, and about to land in, 3.3 & master.\nBumping to 3.4.\n. Bumping to 4.0. Already implemented in the Flex branch. Thank you!\nOne request for modification though, you're actually better off adding this around line 38:\nphp\n        $options = $this->app['extend.manager']->getOptions();\n. Awesome, thank you! :+1: \n. @GDmac, I think having an option to toggle the mailservice is a reasonable approach, as long as we don't make PHP mail() the default. It will cause too many problems, is platform dependant, etc.\n\nfix code-comments and documentation\n\nYep, that's probably the biggest problem here. :+1: \n. Curious, but is it on PHP 5.3?\n. @bobdenotter can you try the archive on 5.3, I don't have anything to test on any longer.\nMy initial suspicion was Guzzle, but both versions are present, valid, and passing unit tests.\n. @gwbonline do you have access to the server error logs for this on install?  I would guess that there is a bigger clue in there if you can see them.\n. Argh\u2026 OK, thank you I can see what's happening.  It's a third-party library.\n. @gwbonline I have uploaded a PHP 5.3 specific tarball that will fix this for now.\n. We've added a patch for the zip/tarball version of 2.2-beta to that build so that the unused library is patched.\n. That depends entirely on your install method.\nIf this is a concern for you, please install Bolt as a Composer project:\ncomposer create-project bolt/composer-install <MYPROJECT> --prefer-dist\n. We feel that's not the best approach, it's also not as significant as dropping PHP 5.3 :grin: \nThe break is a small one and corner case, and I can help @bacbos make the change in MenuEditor if he needs, and the other two are mine.\nOne advantage of staying in a 2.x is that we can spend the rest of the series marking out what we want/need to change and have a clear view when we start on 3.0\n. For anyone wanting to pull this branch into a local, and are not a master of the git-fu ways:\nsh\ngit checkout -b feature/controller-refactor master\ngit pull https://github.com/CarsonF/bolt.git feature/controller-refactor\n. @bobdenotter just an additional thought on the BC break. It only affects backend, which is something we've not guaranteed BC on anyway.\n. > Also I've always been a friend of the Oxford comma.\nOxford comma is \"For the Win\", in my book :+1: \n. This sounds like a job for\u2026 Super @Rarila :rocket: \n. This one do, Anke?\n\n. :koala: says \"merged\"\n. Yes, it depends on the 2.3 bits... I tagged it as such, in my defence :grin:\n. Just thinking about it, if you're happy it's low enough risk, I can just rebase against master, amend the PHP comment and it can go into 2.2... Easy. \nI just thought it was late in the game for 2.2, but it would give us consistency of this two functions.\n. This should have been fixed in #3508. Could you be a champ and let us know if that commit is in your install, i.e. working as expected :grin: \n. That's good news, and zero stress here!\n. Including them is a bad idea, they are massive and slow backend loading for everyone while only providing a benefit to a tiny group of core (?) developers.\nThe good news is that current master no longer, by default, generates the 404 as the default compile has sourcemaps turned off :grimacing: \n:+1: for @rarila on that one!\n. Yeah, it was driving us all nuts\u2026 an nobody could blame the :koala: for that one!\n. If I wasn't both flying and on an iPad, I'd so meme that one, @bobdenotter\n. \n. There is, but the location of that button, top or bottom, has always annoyed me from a UX perspective... We have our other action buttons on the right side bar, why not that one too?\n. > That's a quite long issue\nNah, it's :+1:. Thank you for such thorough detail, it's always welcome and helpful :grin: \nFor whomever PRs fixes for this note that a lot has changed with recent refactoring work in master and 2.2 is LTS, so changes will need to address both branches and the commits won't be compatible.\n. > Would love to see the roadmap up to date btw, and big thanks to the team for Bolt!\nThe current roadmap is up to date, we just need to figure out how to merge the old and new ones.\n. Also what I will say, the people doing the v4 refactor have quite strong opinions on making things accessible so I would expect that the v4 backend will be a different ballgame in this regard anyway :wink: . Putting a hold on this, as it requires this PR to be merged upstream and a new version tagged (1.0.7?).\n. I've updated this to use a temporary, patched, WebProfilerServiceProvider until upstream patches and releases their currently broken version.\nThis will get it in and working for now, but we won't go to release (unless Fabien takes a couple of months) with this patched class.\nOh\u2026 and, why are we using Scrutinizer again?\n. You really think @CarsonF would let me forget? :stuck_out_tongue: \n. The composer branch alias was missed for update, hence the fails on this at the end\u2026 Pass is good, merging.\n. It definitely was applied\u2026 and definitely has been removed/refactored at some point\u2026 might have been a later PR as there was a lot of churn around then.\n. Strange\u2026 I spend ages \"hashing\" it out on IRC with you and @rarila too:\n```\nJun 18 08:52:18  it's catching up with the issue queue\nJun 18 08:52:54    Bopp: So I am about to PR that snippet branch (today), only outstanding question is if we add any sort of Twig function\u2026 rarila is against generating full HTML (for valid reasons) but do we want a function/filter to allow passing in a file name and adding a unique hash query?\nJun 18 08:53:38   gawainlynch: yes, i think so.. \nJun 18 08:53:45    rossriley: Yeah, fortunately a lot of the issue queue is questions and feature requests\nJun 18 08:53:52    Bopp: Filter or function then?\nJun 18 08:54:26   perhaps even make the filename optional.. if empty, it does a generic magic hast.. \nJun 18 08:54:59   i'm leaning towards function.. bla.js?v={{ magic('app/view/js/bla.js') }} \nJun 18 08:56:11    Bopp: It would probably make more sense to do: \nJun 18 08:57:07     gawainlynch: yep, then we could switch to that cache thing\nJun 18 08:57:23    Just not seeing where an optional file name makes a lot of sense as you'd only get an MD5 of the salt and that in itself is a risk\nJun 18 08:57:32    (slight)\nJun 18 08:57:39    rarila: Cool\nJun 18 08:58:01    {{ filehash() }}  ?\nJun 18 08:58:39     {{ koala() }}\nJun 18 08:58:41   gawainlynch: yeah, true\nJun 18 08:58:59     {{ hashme() }}\nJun 18 08:59:11    {{ hasbrown() }}\nJun 18 08:59:21    *hashbrown()\nJun 18 08:59:34  {{ hashhashhash() }}\nJun 18 09:03:14   {{ leeloo_multihash() }} \nJun 18 09:03:43    Bopp: Gold!\n``\n. I laughed so hard (again) when I re-read the{{ leeloo_multihash() }}bit :laughing: \n. Haha\u2026 actually I think there was, but I removed it as it wasn't relevant to the issue\n. This is already implemented in core\u2026{{ cachehash() }}`\n. :+1: \n. @rossriley does :beer: merges\u2026 :koala: does conference merges :stuck_out_tongue_winking_eye: \n. @CarsonF and I found this earlier today and we have a branch almost ready to go\u2026 result soon\u2026 watch this space.\n. Fixed in #4959\n. Fixed in #4956\n. \u00a1Muchas gracias!\n. :+1: \n. Thanks @cdowdy that's useful for v2 users for sure.\n. Yeah\u2026 I was going to implement Symfony Asset 6 months ago when we did the queue work\u2026 but someone talked me out of it\u2026 I think said person just wanted to do the PR themselves\u2026 6 months later :stuck_out_tongue_winking_eye: \n. Forgive me if I am totally wrong, but doesn't this only happen after you delete/truncate the user table, ergo logging you out?\n. Thanks!\n. This isn't a regression... It only works in v2 due to every request querying the database.\nSo we need to decide if we re-add the queries, or stick with a session time out (currently 10 minutes, but I always figured we'd end up making it configurable at some point).\n. Chicken vs egg\u2026 we can store session IDs in the database, but b) kinda defeats the porpoise :dolphin:  of a)\n. > I think i'd like fuzzyDate.\nBut there is nothing fuzzy about it.\nThis sounds like half the conversations that @CarsonF and I have about naming PHP classes/functions/parameters only to realise after an hour long discussion that the first name we chose was the best one :laughing: \nOur approach is usually, \"What does 'it' do in a practical sense\", and in this sense it is taking a time/data value and formatting it\u2026 as @SahAssar says, in a \"human readable\" format.  So for me that is the base logic for choosing a name.\n. :fire: :fire: :fire: :fire: :fire: :fire: :fire: :fire: :fire: :fire: :fire: :fire: \n. Also when an extension doesn't provide a proper \"require\": {\"bolt/bolt\": \"^x.y.z\"}, we add the current version to the UI:\n\n\u2026which looks UX fail as it implies a really strict requirement\n. :+1: \n. This alone makes me want to say \"no\" :stuck_out_tongue_winking_eye: \nphp\n        return 'yolo';\nI'm not seeing the benefit of this though, why would we want this?\n. The 2.x series supports PHP 5.3.3+\nBolt 3 uses Symfony 2.8 and requires PHP 5.5.9+\n. Yeah, we should be going into beta very shortly for v3 and help is always appreciated :smiley: \n. > Related to #4288, and should be forward-ported to master too.\nYou're on that?\n. Fixes #4980 \n. > Can we get a failure reason in there?\nYeah, that actually sounds like a good call :+1: \n. @ToBe998: Update mate, can you have another look for me.\nNote to merger/reviewer(s)\u2026 this looks a bit larger than it is due to PhpStorm \"cleaning up\" :wink: \n. > Ah, stumbled about users with empty pw counted as disabled, but that's absolutly ok.\nWell that is the assumption. Currently there shouldn't be any way of a user having an empty password, but we may allow this in the 3.x cycle for creating new users by \"invitation\". Nothing set in stone there.\n\nSomething that puzzled me a bit however: You defined your failure reasons to work bitwise,\n\nSpot the digital electronics engineer :wink: \nI couldn't see any reason to have them stackable now, but it just left the door open to it, without breaking BC.\n. This section breaks thumbnail routing for me\n. I blame a lack of coffee...\n. When I called insertAfterJs().  It pasted my JS inside the script block of that inserted by the Google Analytics extension (not the extensions fault).\n. P.S.  Sorry this wasn't branched away from the image stuff\n. WTB brain...  Holy cow, that is embarrasing.\n. i.e. will fix when other thing is looked at\n. I'd be interested to know if this fixes the revert in #937 for @andersonamuller \n. {%- spaceless %} vs {% spaceless %}\nErrant minus sign?\n. Yep, I think you can blame my comment on not fully knowing Twig syntax as well as I should\n. OMG, you are a legend! Thank you @jadwigo \n. Is resolves them not being found on my Linux host...  /shrug\n. Just tried:\nphp\n$filename = 'test.txt';\nif (is_readable($filename)) {\n    echo 'The file is readable';\n} else {\n    echo 'The file is not readable';\n}\nWith a file called Test.txt in the same directory on my Linux laptop and it returns The file is not readable\n. $result seems to always be a returned string\n. Derp...  Good catch!\n. Wondering if we shouldn't go further:\nphp\nif (is_readable($configdistfile) && is_dir(dirname($configfile)) && is_writable(dirname($configfile)))\n. Copy/pasta mess up?\n. OCD alert!\n. Thank you, this so very much needed to die! :-)\n. Wondered how long this would take to trigger your OCD!\n. You missed an OCD mistake!!!\n<!--[if gte IE 9]><!--> to <!--[if gte IE 9]>\n and \n<!--<![endif]--> to <![endif]-->\n. Would at least be 1+ more commit(s)\n. Smart arse :-P\n. What about s/interface/admin/ and flipping the logic:\nyaml\nadmin:\n  stack:\n    enable: true  # Enable stack usage. Defaults to true\n. Agreed on backend.  I thought interface was too ambiguous.\nWith enabled versus disabled, we can set defaults in Config.php anyway if needed.  My thought is that using the key enabled is more obvious to a non-technically savvy user\n. You beat me to it\n. Ah, I see. Line 94 and 100 are the wrong way around.\n. s/Helperset/HelperSet'g\nCase sensitive filesystem users will love you\n. s/Helperset/HelperSet'g\n. This is causing a dump storm that is halting Travis.  Not sure why as yet.\n. s/from/FROM/\ns/where/WHERE/\n. Isn't this assuming *NIX?\n. This isn't valid for PHP 5.3, hence the Travis error. Try this:\nphp\n$theme = $this->app['config']->get('theme');\nif (isset($theme['template_directory'])) {\n. ping @rossriley \n. Just kill it already :-)\n. Ooops...\n. > Ooops\u2026 this has to stay or Ooops\u2026 why was this here?\nAs in \"Oooops, I forgot to remove that\"\n. Intended as un-classed?\n. Changing the behaviour here doesn't make sense.\n. Commenting before coffee doesn't ether\u2026  \nWhat I meant was that if the parent directory is writeable, and the directory being ensured doesn't exist, we should create it.\n. I agree with @bobdenotter's reasoning for a safeguard of 777, but I know there are lots of us that find 777 totally unacceptable for production systems.  Wondering if it isn't better to have a config option for this to keep the paranoid happy? :guardsman: \n. About the coffee\u2026 Tell me about it :eyes: \n. Like the idea, not sure if the name isn't too ambiguous though (per IRC discussion)\n. That is actually pretty valid reasoning.\n. Whoopsie :see_no_evil: \n. I know this to some extent belongs in our discussion about the 2.2 refactor, but while adding a Bolt\\Storage namespace, should we also namespace the services, i.e. $app['storage.prefill']?\n. Consensus on IRC was this is a 2.2-dev discussion. :nut_and_bolt: \n. This turns of the in-memory spooler. Not sure that is a good \"default\" approach, or am I missing something? :grin: \n. Ah well caught, I was looking directly as the Swiftmailer codebase.\n. OCD fail :-P\n. One step further:\nphp\n$app->abort(Response::HTTP_SEE_OTHER, \"Redirecting to '$path'.\");\n. Alphabetical order on the use statements\u2026 Last time I checked 'B' came before 'M' and 'S'.\n. This will break some keys\n. array_replace_recursive() will overwrite/remove stuff in multidimensional arrays.  We had a really bad case of this in 2.0-dev that took us ages to track down.\n. Pseudo example:\n``` php\n$a = array(\n    'foo' => array(\n        'cow' => 'moo',\n        'dog' => 'whoof'\n    )\n);\n$b = array(\n    'foo' => array(\n        'cow' => 'steak'\n    )\n);\n```\nMerging those would wipe the 'dog' key.  You might need to go one deeper, can't remember.\n. Positive\n. This is from Composer's implementation of the class. I didn't want to remove it until I had a chance to talk to Jordi about it.\n. Ugh, something I haven't finished properly. Log the issue please.\n. Log please\n. ``` php\n    public function setRequest($name, $value)\n    {\n        $this->request[$name] = $value;\n    }\npublic function getRequest($name)\n{\n    if (! array_key_exists($name, $this->request)) {\n        throw new \\InvalidArgumentException(\"Request componenet $name is not available\", 1);\n    }\n\n    return $this->request[$name];\n}\n\n```\n. This is what is breaking Travis. For some reason nothing in getting returned.\n. It's not costing us anything, let's just leave it for now and axe the TODO :-P\n. Still no :crying_cat_face: \n1) Bolt\\Tests\\Logger\\ChangeLogTest::testGetChangelogEntry\nDoctrine\\DBAL\\Exception\\SyntaxErrorException: An exception occurred while executing 'SELECT log.*p FROM bolt_log_change log LEFT JOIN bolt_pages content ON content.id = log.contentid WHERE (log.id = ?) AND (log.contentid = ?) AND (contenttype = ?) LIMIT 1' with params [1, 1, \"pages\"]:\nSQLSTATE[HY000]: General error: 1 near \"p\": syntax error\n/home/travis/build/bolt/bolt/vendor/doctrine/dbal/lib/Doctrine/DBAL/Driver/AbstractSQLiteDriver.php:74\n/home/travis/build/bolt/bolt/vendor/doctrine/dbal/lib/Doctrine/DBAL/Connection.php:825\n/home/travis/build/bolt/bolt/vendor/doctrine/dbal/lib/Doctrine/DBAL/Query/QueryBuilder.php:206\n/home/travis/build/bolt/bolt/src/Logger/ChangeLog.php:303\n/home/travis/build/bolt/bolt/src/Logger/ChangeLog.php:161\n/home/travis/build/bolt/bolt/tests/Logger/ChangeLogTest.php:77\n. My immediate feeling is one of unease at having this in two places, people could uncomment both and then not understand the reason that mail() isn't firing.\n. Hence my use of \"unease\". Either way, just flagging it :flags: \n. That is in master, not in current Silex.\n. Unless you want to use the PHP mail()er and you're sending multiple emails.\nNote: Why someone would chose to use the default mailer is beyond me, but still :grinning: \n. So much #1555 here it's not funny \n. I've committed this change before too, doesn't it break CLI @bobdenotter>\n. One of the reasons I've changed these! It makes one look a bit closer :+1: \nBut, yeah I'll update this one to HTTP_UNAUTHORIZED and yell if any others don't look right.\n. Shouldn't we also:\nphp\n} else {\n    return;\n}\n\u2026 to prevent anything else randomly b0rking, if we've missed something, or Composer changes.\n. Yottabyte is covered\u2026 that's forward planning!\n. PHPDoc blocks on these would be awesome!\n. Travis' default composer is most often out of date. This is extremely valid to make sure we're testing against a current release.\n. We dropped using Ocular as it was causing us too many problems, this should probably just be removed. @rossriley?\n. See comment below. The coverage reports are now done locally as they are intensive to run and with a long queue of PRs things slow down unacceptably.\n. This Travis run:\nPHP 5.[345]: ~ 4 minutes\nPHP 5.6: 18 min 17 sec\n. Might be safer to set the defaults for those in Config::getDefaults() in case someone updates one set, but forgets the other \n. 3 t's here\u2026 test fail one\n. Isn't 'templatefields' is a serializedFieldTypes value\u2026 add it to the array above, no?\n. Changing to this passes acceptance tests:\ntwig\n{% for taxonomy in context.contenttype.taxonomy|default([]) %}\n. Would this be simpler:\nphp\n$response->headers->clearCookie('bolt_session');\n. It aslo does the headers_sent()\n. Pluralisation and possession is out slightly. Probably better with \"Bolt's backend/frontend\" \n. Yeah, totally understand. Please see my comment as doing just that not nitpicking. I really hate having to correct non-native speakers English.\nA native speaker on the other hand\u2026 them I nitpick :grin: \n. I think the last time(s) that we did, we tried using $app['request'] and that's where we ended up out-of-scope.  \nI was able to reproduce it in my testing today, and using the data from Request::createGlobals() caused the behaviour to be correct(ed), which is logical as it just builds a correct data from the super globals. The downside, as documented by Fabien, is that you miss out on modifying the class data on construct, but that isn't relevant to our need here.\nThe whole thing needs to move out to middleware, but there are BC implications that we need to handle until we branch v3 and go nuts on this stuff :grin: \nI am happy to drop the patch though. Alternatively, it is confined to a single cset and can easily be reverted in git.\n. Not always valid. If someone has installed via an archive and for some reason that file doesn't exist they would get a confusing error.\n. I am unsure about this. @bobdenotter and @Pinpickle are talking about making this dynamic post 2.2.0 and my concern is that this will end up in new install config files and we can't remove it.  This might confuse people.\nThoughts?\n. We could\u2026 it was originally intended just for this\u2026\n. Yeah, easy\n. It was, but that involved passing in $app\n. Ugh\u2026 what was I thinking\u2026 on to it!\n. Not sure I agree\u2026 It's a namespace that can/will grow\u2026 unless we make the namespace Bolt\\KernelEventListener then it's make more sense.\n. Done\n. Yeah, that's one we differ on to some extent.\n. OK, so the problem is this. If you're going to build a form using the DI:\nphp\n$this->app['form.factory']->createNamedBuilder($formname, $type, $data, $options)\n    ->getForm();\nThat's all fine. The problem is that when the form is built, it accesses the current session, which by default sets the session cookie path to /, which applies it over the whole site\u2026\nSo you need to pass a new storage provider to session, and that needs to have the cookie_path set to the relative URL you want the session cookie to apply to\u2026\nNow the fun part, Symfony Forms requires you to use $builder->addEventSubscriber() as unlike kernel events, they're not \"on\" by default.\n. Why add the 'h'?\n. But how are we going to get to the end now?\n. Hand in your programmer's licence! \n. \n. Mine has flying squirrels\u2026 but Ross' is hard to beat!\n. \n. While this is 100% correct, it's unfair to tell people  that are new(ish) to the game that following our advice a week ago was great, but now \"you're doing it wrong\"\u2026 just kinda feels brash.\nOtherwise\u2026 code looks good, just the comment needs toning down though\u2026 Oh and I'm the only perfect one here\u2026 well, me and the :koala: \n. This part is correct\n. This part isn't correct, and also breaks the command. Drop that part and we have merge material :grin: \n. With just the ->getMessages() fix, my output is this:\n+------------------+---------+----------------+-------------------------------------------------------+\n| Name             | Version | Type           | Description                                           |\n+------------------+---------+----------------+-------------------------------------------------------+\n| bolt/boltbb      | v2.0.2  | bolt-extension | A bulletin board extension                            |\n| bolt/clientlogin | v2.1.0  | bolt-extension | OAuth login for a Bolt site's clients in the frontend |\n| bolt/geoip       | v2.0.2  | bolt-extension | Adds MaxMind GeoIP lookup ability to your templates   |\n| bolt/members     | v2.1.1  | bolt-extension | Membership creation and management for Bolt           |\n+------------------+---------+----------------+-------------------------------------------------------+\nWith the second part it error with this:\n[Symfony\\Component\\Routing\\Exception\\RouteNotFoundException]                           \n  Unable to generate a URL for the named route \"fileedit\" as such route does not exist.\nAnd we very deliberately use objects.\n. Ta! Copy/pasta derp\n. Damn it, since when doesn't GitBookHub not have a \"Like\" button!\n. 'foo' will be cast to ['foo']\n['foo'] will stay ['foo']\n1 will be cast to [1]\ntrue will be cast to [true]\n\u2026and so on\nWhen I benchmarked it for 10,000,000 iterations the difference in performance was significant. :grin: \n. Just a minor point\u2026 and stuff\u2026 but 2.2 still supports PHP 5.3.stupid \n. PHP 5.4+ array syntax please\n. PHP 5.4+ array syntax please\n. No stress\u2026 apologies if that came out rudely, I worked though the night am was in automatic :grin: \n. Doesn't this one break PHPDoc?\n. Note to self: grep '@param Table' | wc -l also counts TableDiff\n. Ha! I never thought of something so obvious! :+1: \n. Not sure why yet, but dropping this gets the tests passing again.\n. Narrowed it down to this line. Tests pass without it\u2026 With it, somehow the value \"on\" gets inserted.\n. This will break BC\n. This is wrong\u2026 At the very least add the full path to the hashed string.\n. You can't do this for json_array\u2026 It breaks some platforms.\n. Yes\u2026 By ignoring me, partially\u2026 It was the default array key that broke stuff.\nThe bigger question is, however, why is this needed? Is this just something that popped up while stack was broken in master (I only fixed it in the session merge)?\n. Try it:\n``` php\nclass A{}\nclass B extends A{}\nclass C extends B {}\nclass_alias('A', 'AAA');\n$a = new A();\n$b = new B();\n$c = new C();\n$aaa = new AAA();\nif ($a instanceof A) { echo \"a is an instance of A\\n\"; }\nif ($b instanceof A) { echo \"b is an instance of A\\n\"; }\nif ($c instanceof A) { echo \"c is an instance of A\\n\"; }\nif ($aaa instanceof A) { echo \"aaa is an instance of A\\n\"; }\nif ($aaa instanceof AAA) { echo \"aaa is an instance of AAA\\n\"; }\n```\n. Derp\u2026\n. Correct\n. This whole thing is just a first step in transitioning this stuff so it isn't stuck in someone's branch\n. @Pinpickle can you remember what this was supposed to be for/doing? \nThe function itself never got committed\u2026 very obviously the :koala: snuck in and messed with things :wink: \n. Tired and probably wrong\u2026 again!\u2026 but shouldn't we break; here?\n. I just tested this here and the only way I could trigger this is due to the break being outside the foreach ergo inside the if instead.\nAgain, re-enforcing the Ultra Level Gawain Derp today, but do you have a simple reproducible test case I can start with?\n. Ah, you don't need to break 2 as you're only in one loop, correct?\nThis alone should work:\nphp\n        if ($order === null) {\n            $taxonomies = $this->getOption('taxonomy');\n            $hassortorder = false;\n            if (!empty($contenttype['taxonomy'])) {\n                foreach($contenttype['taxonomy'] as $contenttypetaxonomy) {\n                    if ($taxonomies[ $contenttypetaxonomy ]['has_sortorder']) {\n                        // We have a taxonomy with a sortorder, so we must keep $order = false, in order\n                        // to let `getContent()` handle it. We skip the fallback that's a few lines below.\n                        $hassortorder = true;\n                        break;\n                    }\n                }\n            }\n            if (!$hassortorder) {\n                $order = $this->getOption('general/listing_sort');\n            }\n        }\n. > goto end;\nDid we just end up back in 1982 :stuck_out_tongue_winking_eye: \n. What\u2026 no goto here either :stuck_out_tongue_winking_eye: \n. So we should always return true?\n. Hang on, let me git blame that for you ;-)\n. Ah, you might want to check for a string first, as you can (and I already do) pass in a callback that is not in Extension.php.\nAlso probably worth checking if the string is a method in $this as is can also be parsed a pre-built html element.\n. Ah yeah, that's right. That is why I started using $this->app['twig']->addExtension()\n. Per PSR-2 the booleans should be lower case.\n. Per PSR-2 the booleans should be lower case.\n. @param\n@throws\n@return\n@see\n. Per PSR-2 Section 5 can you update this to:\nphp\n        if ($this->isMultiOrderQuery($order)) {\n            $separatedOrders = explode(',', $order);\n        }\n. This one makes Scrutinizer unhappy, you're better off with:\nphp\n        $separatedOrders = [$order];\n. Per PSR-2 Section 5 can you update this to:\nphp\n        if ($this->isMultiOrderQuery($order)) {\n            $separatedOrders = explode(',', $order);\n        }\n. Same as below:\nphp\n        $separatedOrders = [$order];\n. It's what we call a :koala: derp\u2026\n. class DateTimeType extends DateType\nclass DateType extends FieldTypeBase\nabstract class FieldTypeBase implements FieldTypeInterface\n. Too long ago to remember and you're the Carbon expert\u2026 I do remember there was something weird coming from DBAL with this though, but I can't remember what.\n. You're expecting PHP to act rationally? json_decode() just fails silently and you need to check json_last_error()\u2026 hence the reason json_last_error() is called below :stuck_out_tongue_winking_eye: \n. http://php.net/manual/en/function.json-decode.php\n. Should be:\nphp\n} else {\n. Should be:\nphp\n} elseif (isset($filename['title'])) {\n. The OCD is strong in this one, Master! :wink: \n. During the controller refactor we decided that Bolt\\Users needed to be free of such things\u2026\n. I can\u2026 But I don't know that I made a completely accurate representation of our discussion in my comment, ergo I don't know we are specifically deprecating it or not\u2026\nThe discussion went something along the lines of \"request cycle in Bolt\\Users === bad\u2026 stop using outside classes/things/stuff\" and we then moved a lot/most of the permission calls directly to the permission class. \nKnocking it on the head without a clear direction feels a bit wrong to me\u2026 so we probably need to step back and look at that\u2026 and not in a tiny bug-fix branch\u2026 but more than happy to hash it out!\n. This one still needs to go, or you will end up with hashed password hashes, that have hashes in their hash-hash\u2026 it would be like Hashception :grin: \n. Before the coding :cop: gets here :police_car: \u2026 Yoda conditions avoid we do.\n. The standards we use are:\nphp\n        } elseif ($usersEntity->getId() === null) {\n. Not meant as code review, just flagging\u2026 But it looks like some :koala: copy/pasta \n. Isn't utf8mb4 a MySQL only work around for their own design mistakes? \nWe support Sqlite, PostgreSQL and MySQL is all.\n. > is it ok to have a default \"collate\" here?\nI believe it is OK. If I understand correctly, the parameter just gets ignored for other platforms.\n. And that should be done at the Twig Extension end\u2026 the API parameters should be required.\n. Small favour\u2026 can we go for camelCase on $wrapperTemplate and $holderTemplate to keep in-line with PSR-2 and the way we're taking our code standards. \n. On that last one, yes\u2026 but $holderTemplate should be required or default to null, and certainly be required in the protected function.\n. Could of points:\n- master (to be v3) is PHP 5.4+ and we've switched to short array syntax\n- We're also sticking with fluent interfaces for things like this\u2026 can you switch to something like:\n``` php\n            $age = $this->cacheDuration() / 2;\n            $response->setMaxAge($age)->setSharedMaxAge($age);\n\n``\n. So we can remove this in master :wink: \n. \"\u2026you're drunk!\"\n. Ha! Not @bobdenotter but @Nitpick-CI has had a few :beers: (just joking, on all points)\n. Can you nuke these, or turn them into proper PHPDoc class blocks just above the class declaration, please :+1: \n. Not sure that changing the signature on this is a good idea. This whole class is deprecated, but we're trying to make the transitional in 3.x and remove it all in 4.0\n. :fire:@packageuse\n. This, and the other uses should be defaulting tonull. As above, comparison should be against anull, or whatever type$contextId` should be. \n. PSR-2:\nphp\npublic function makeLink($linkFor = null)\n. Are these supposed to be @method docs?\n. $this->manager isn't a property and if \"magic\" should be checked as an object before use.\n. I am pretty sure you didn't want to remove this\u2026 it is the legacy bridge for $app['storage'] to that function.\n. If it needs to go, can we remove please.\n. I  know we've ripped the head off a lot of stuff, but this class is kind of central. Probably better to leave these as empty functions so that they don't throw an exception on deprecated use.\nCan we :fire: this class already :grin: \n. Can you use $app['request_stack']->getCurrentRequest() and check if it is null before using to prevent use out of cycle.\n. \u2026and below\n. The constructor seems to only need $app['request_stack']. Also that request itself almost certainly doesn't exist at the point this is instantiated and we shouldn't be building class parameters now, only as needed later in the cycle.\n. Sure, but if someone does:\n``` php\n$textquery = 'pages';\n$parameters = 'foo';\n$whereparameters = ['status' => 'hello'];\n$content = $app['storage']->getContent($textquery, $parameters, [], $whereparameters);\n```\nThey are going to lose their $whereparameters. One of many reasons to pass around objects and not arrays. Unless someone has a brilliant idea, I would think we'd need it for BC until we remove that class.\n. Want to catch that missing space before @rarila :cry: \n. This is incorrect, as it is for Guzzle3 and has the function signature:\nphp\npublic function get($uri = null, $headers = null, $options = array())\n. This one is correct :+1: \n. You can keep the array, only the ' needs to go on the contants\n. CURLPROXY_HTTP is also a constant and needs to be changed\n. As with #4734 this is for Guzzle 3 and is not correct\n. It gets the PHPDoc in-line so that when you're extending or typehinting, it doesn't show as an error in the IDE\n. This is introducing a new dependency on a deprecated class/function.\nWould be much better to use the SP directly.\n. Also, just came back and noticed this, we should catch \\Symfony\\Component\\Routing\\Exception\\RouteNotFoundException as a general exception could point to other problems in the stack that would be silently buried. \n. Can you please not use loose comparison, and true should not be a string but a boolean, e.g.\nphp\nif (is_numeric($slug) && $contenttype['allow_numeric_slugs'] !== true) {\n. Look\u2026 :koala:\u2026 and he ate the third =\n. FYI: Undid this one\n. I don't think you want this here :wink: \n. ```\nRunning \"jshint:boltJs\" (jshint) task\njs/widgets/buic/buicBrowser.js\n     71 |                allChecked = false;\n                         ^ 'allChecked' is defined but never used.\n\n\n1 error in 52 files\n```\n. Pretty sure you don't want this either\n. \u2026or this :wink: \n. This should be a boolean, as that's what you're parsing from the controller\n. Boolean here too\n. You probably just want:\n\n\nphp\n        $context = [\n            'namespace'    => $namespace,\n            'files'        => $files,\n            'directories'  => $directories,\n            'pathsegments' => $pathsegments,\n            'multiselect'  => $request->query->get('multiselect'),\n        ];\nBut no parameters are being passed into the request currently, so that's why you need to hardcode.\n. That is gone very soon\u2026 like very soon\u2026 like 3.1.0 soon.\n. Kernel event listener event objects have the request object\n. If you're tackling stuff like this in v3/master, a note that these really should default to null and checked accordingly. We've spent a lot of effort removing this behaviour.\nWhile in this case it is highly unlikely that someone would want a file name that is '' or  width/height that is 0, it is a slippery slope of assumption\u2026 and we know what Samuel L. Jackson says about assumption. That said, there are time this is valid, but I don't think this is one of those.\n. > I'll remove the defaults from them all :)\nWell, be careful there too\u2026BC\u2026 I'm more flagging the approach for master.\n. Far out\u2026 I was coding while sober!\n. I might be missing something here, but isn't this already done in \\Bolt\\Helpers\\Image\\Thumbnail? \nThe point of that class was to abstract, and centralise all of this :wink: \n. Well, yes. That would be why the function is called showImage()\u2026 :koala: \n. This should be handled in the ListingOptions setter.\n```\n    /\n     * Set the filter.\n     \n     * @param string|null $filter\n     \n     * @return ListingOptions\n     */\n    public function setFilter($filter)\n    {\n        $this->filter = $filter ?: null;\n    return $this;\n}\n\n```\n. The ArrayAccess is for BC and really should be avoided internally (not to mention the nesting)\u2026 Try:\nphp\n        // Build list of incoming non inverted related records.\n        $incomingNotInverted = [];\n        /** @var Relations $relation */\n        foreach ($content->getRelation()->incoming($content) as $relation) {\n            if ($relation->isInverted()) {\n                continue;\n            }\n            $fromContentType = $relation->getFromContenttype();\n            $record = $this->em->getContent($fromContentType . '/' . $relation->getFromId());\n            if ($record) {\n                $incomingNotInverted[$fromContentType][] = $record;\n            }\n        }\n. https://www.youtube.com/watch?v=WWaLxFIVX1s\n. The 5 minute version https://www.youtube.com/watch?v=nF_lJTGKFP0\n. No, it will always exist:\nphp\nprivate function createJsonUpdate(Entity\\Content $content, $flush)\n. It could\u2026 just a very tired team at the end of a year long development cycle :smile: \nYou're, or course, most welcome to PR something.\n. Just flagging before tonight's meeing\u2026 but if we're going to add this to the API, can we at least mark it @internal as there is a :dart: :gun:  on the Config class for ^3.1\n. Just say \"NO!\" to loose comparison. :wink: \n. Might want to go for something like:\nphp\n            $request = Request::createFromGlobals();\n            if ($request->server->get('HTTP_HOST', false)) {\n                $hostHeaders = explode(':', $request->server->get('HTTP_HOST'));\n                $hostname = reset($hostHeaders);\n            } elseif ($request->server->get('SERVER_NAME', false)) {\n                $hostname = $request->server->get('SERVER_NAME');\n            } else {\n                $hostname = '';\n            }\n. Also the outer () isn't needed\u2026 but that is just OOE OCD :stuck_out_tongue_winking_eye: \n. First one\u2026 \n$app['paths'] is Bolt v1 and we were going to remove in 3.0 but ran out of time.\nFrom v2 onwards you should be using either $app['filesystem'] (recommended for core stuff) or $app['resources'] until the former takes over. e.g.\n$app['resources']->getPath('extensions/ . $fileInfo->getPath());\n. Might want to update the docblock :wink: \n. With $app['translator'] you should be extending the service, not simply calling it here.\n```\n        $app['translator'] = $app->share(\n            $app->extend(\n                'translator',\n                function ($translator) {\n                    // $translator is $app['translator'] \u2026 do logic\n                return $translator;\n            }\n        )\n    );\n\n``\n. In line with the other functions, the should be named something more likeextendTranslatorService. This trait doesn't needgetName()` so can be safely dropped as-is\n. So\u2026 this is legacy, but I can't help but think given everything we're dealing with here it would be easier to:\n```\n    public function getContentType($contentTypeSlug)\n    {\n        // Return false if empty, can't find it.\n        if (empty($contentTypeSlug)) {\n            return false;\n        }\n    $contentType = $this->app['config']->get('contenttypes/' . $contentTypeSlug);\n\n    // See if we've either given the correct contenttype, or try to find it by name or singular_name.\n    if (!$contentType) {\n        // Also check for the slugified version of the content type\n        $slugifiedContentType = $this->app['slugify']->slugify($contentTypeSlug);\n        $contentType = $this->app['config']->get('contenttypes/' . $slugifiedContentType);\n\n        if (!$contentType) {\n            foreach ($this->app['config']->get('contenttypes') as $key => $ct) {\n                $isCtPlural = isset($ct['slug']) && ($contentTypeSlug === $ct['slug']) || ($slugifiedContentType === $ct['slug']);\n                $isCtSingle = isset($ct['singular_slug']) && ($contentTypeSlug === $ct['singular_slug']) || ($slugifiedContentType === $ct['singular_slug']);\n                $isCtPluralMod = $slugifiedContentType === $this->app['slugify']->slugify($ct['name']);\n                $isCtSingleMod = $slugifiedContentType === $this->app['slugify']->slugify($ct['singular_name']);\n\n                if ($isCtPlural || $isCtSingle || $isCtPluralMod || $isCtSingleMod) {\n                    $contentType = $ct;\n                    break;\n                }\n            }\n        }\n    }\n\n    if (!empty($contentType)) {\n        return $contentType;\n    } else {\n        return false;\n    }\n}\n\n```\nOn one hand we lose OoE on the condition (and it is covering edge-case), but on the other it becomes a lot more readable. \n. s/Seo/SEO/\n\u2026and, um\u2026 we don't use that string, do we?\n. $app['extensions'] no longer implements getEnabled()\n. Yes, we still have much to do\u2026 3.0 was over a year to get this far, and more iterations are needed. All continued help most welcome.\n. Just updating my above point \u2026 before I get jumped on :laugh: \u2026 please also note that, process-wise, direction changes should first be discussed in an RFC. \nWe're pretty open to improving things generally, just not without direction and oversight.\n. Please drop this change\n. Please use short array syntax\n. This should be generated server-side, no? \n. If we do agree to a separate table, I would suggest that \"Token\" is too generic and we'd be better off with something like \"Invitations\" \nSee https://github.com/bolt/bolt/pull/5496#issuecomment-230203753\n. @rarila What is you preferred forward approach with all this in-line JS?\n. Could you also catch the remaining array() use and convert to [] please :smile: \n. Re-read my comment and thought it might lack context\u2026\nMy thinking is that the expiration time should be a policy decision, and the person entrusted with issuing these invitations might not have policy delegation rights. More-so, having invitations that are valid (and un-monitored under normal use) with long expiration dates are a big security no-no.\n. This doesn't behave the way you might think. It still uses the spooler, and things like unavailable SMTP servers likely won't show up depending on PHP setting for script timeout, etc.\nI've found the best way is to use \n$mailer = $app['mailer']->newInstance($app['swiftmailer.transport']);\n$mailer->send( \u2026 );\n. Cool \u2026 I'll update in a minute!\n. Flagging this\u2026 inline styles generally shouldn't be used. \n. Typo here, should be gc_probability\n. Do we really want to disable this as a default?\n. Typo?\n. Ah, no stress\u2026 running on 2 hours sleep here :laughing: \n. 'session.storage.random_generator' isn't defined\n. $app['paths'] is a hangover from 0.x days and should not be used.\nSee $app['resources']->getPath()\n. Style nitpick, but could you flip the and to && for code base consistency.\n. These are throwing problems in Travis:\nPHP Notice:  Indirect modification of overloaded element of Bolt\\Application has no effect in /home/travis/build/bolt/bolt/src/Application.php on line 92\nPHP Stack trace:\nPHP   1. {main}() /home/travis/build/bolt/bolt/tests/phpunit/nutty:0\nPHP   2. Bolt\\Tests\\Nutty->getApp() /home/travis/build/bolt/bolt/tests/phpunit/nutty:21\nPHP   3. Bolt\\Tests\\BoltUnitTest->getApp() /home/travis/build/bolt/bolt/tests/phpunit/nutty:12\nPHP   4. Bolt\\Application->initialize() /home/travis/build/bolt/bolt/tests/phpunit/unit/BoltUnitTest.php:44\nPHP   5. Bolt\\Application->initSession() /home/travis/build/bolt/bolt/src/Application.php:101\n. I know, right :wink: \n. Hmm\u2026 OK, but previously it would/could never be true.\n$rand will always be an integer, and by default $probability is 1 \u2026 so 1 is never going to be less than 1.\nSeems this is one to break both our brains :smile: \n. Are we sure we need loose comparison?\nAlso the outer () isn't needed.\n. In Twig, you don't need the get part \u2026 Twig will always internally check for a function name that matches either , is*(), has*(), and get*(), so item.toid would be fine.\n. Not relevant. The object property is to_id, the function name is getToId() :wink: \n. OK\u2026 now going into COD mode \u2026 and would just ninja this but figure it's better to make it part of the dialogue.\nWe probably should put a {{# comment #}} explaining the \"why\" one vs the other \u2026 will happily do if your dance card is full though :+1: \n. Sanity check only\u2026 but there was a reason you didn't want deferred widgets in the backend, can you remember what that was?\n. Should be null to indicate that there wasn't deliberately a string there\n. CDO nitpick: The comparisons here don't need to be loose\n. PSR-2 on the variable name case.\nAlso the nesting is a tad aggressive\u2026 Does this read better to you on review?\n``` php\n    public function checkTaxonomy()\n    {\n        foreach ($this->data['taxonomy'] as $key => $taxonomy) {\n            if (empty($taxonomy['options']) || !is_array($taxonomy['options'])) {\n                continue;\n            }\n        foreach ($taxonomy['options'] as $optionKey => $optionValue) {\n            if (strpos($optionKey, '/') === false) {\n                continue;\n            }\n\n            $error = Trans::__(\n                'general.phrase.invalid-taxonomy-slug',\n                ['%taxonomy%' => $key, '%option%' => $optionValue]\n            );\n            $this->app['logger.flash']->error($error);\n        }\n    }\n}\n\n```\n. Just flagging for the a.m. \nThis is not the place to be doing/firing this \u2026 \n. Not sure yet, was mid-wife-night and just noticed this walking past my screen \u2026 let me look post- :coffee: \n. OK \u2026 so after looking at it, and thinking about it \u2026 probably best for now to put that at the end of checkConfig() as that is one of the things on my :fire: list for the 3.2 exception/request work.\nShort version is that we're checking on every request the configuration of the configuration  \u2026 ConfigCeption \u2026 that is already cached \u2026 if it is cached, then we know it's already passed checks.\n. Also moving the call means we can make that function private and not expose another API\n. c.f. https://github.com/bolt/bolt/compare/master...GawainLynch:hotfix/config-check-request\nNote that branch is for master (3.2), but you should get the idea on direction.\n. @rossriley do you have an easily reproducible test case for the double hydration?  The Symfony debug handlers in 3.2 can convert the error into an exception and we should get ready to catch that.\n. \"Do do do do\u2026 do do do do\u2026 You can't handle this!\"\n. \u00bfporque no los dos? As in, if it is a concrete Silex\\Application, then is_subclass_of() will return false, so an instanceof check should follow (also to avoid deprecation notice on is_a()).\n. You raise good points kind sir. :+1: \n. PHP isn't defined for all paths \u2026 Travis go bye bye \n. G-pick \u2026 could you push that down on to of the class declaration and drop the @package\n. Given it is uncertain the life time of the one, could you also tag it @internal\n. Wrong approach mate. This will affect all AJAX requests requiring a redirect and none would be valid.\n. Typo?\n. Is switching to BK killing flashes?\nThis, and a few of the other checks for flashes, were to catch a recurring problem where a change in the code base \"somewhere\" would stop some messages being displayed, or in some way interfered with, and get missed during regular \"monkey tests\".\n. Nit pick \u2026 I don't get many chances to make them in your direction :wink: \nWouldn't a PHPDoc @deprecated be a better option here, it makes regex searching a bit easier during major version Rip & Replace sessions, skipping the need to check git blame & Co.\n. Did you do a \"Gawain\" and forget that we're on PHP 5.5+ now :stuck_out_tongue_winking_eye: \nZero stress & changes needed here btw\u2026 just woke up in a very good, and very cheeky, mood :wink: \n. Just flagging this for others, as per @CarsonF's  comment on the PR itself.\nMy concern with \"public facing\" use of bolt:// is that to a large part of our target audience of implementers, it might appear that bolt:// is the prefix for all Bolt files, rather than the root of the code.\nI personally don't have a merge-blocking concern, but did want to flag it for those advocating for other target user groups \u2026 ping @bobdenotter \n. Did \u2026 not \u2026 work\n. :tada: :balloon: :birthday: :beers: \n. Adding as a required change, 'cause playing with approval system. :smile: \n. In before Carson :laughing: \n\u2026 but $app['request'] is on Fabien's TODO headed for Dodo Land. To ensure we're in request cycle you should attempt to retrieve from $app['request_stack']->getCurrentRequest(), e.g.\n$request = $app['request_stack']->getCurrentRequest() ?: Request::createFromGlobals();\n. If one doesn't, the other doesn't. The sole difference being that the request gets added to the stack during the request cycle\u2026\nThe request stack is added in the Application constructor so if we don't have it, we've crashed in bootstrap and \u2026 all \u2026 hope \u2026 is \u2026 lost! :laughing: \n. Wait, we don't have left-pad in our build chain? How can this have happened! #1555? :stuck_out_tongue_winking_eye: \n. Just flagging this for coordination when we get our branches closer to merge \u2026 but this is going to be handled in the config loading https://github.com/GawainLynch/bolt/tree/feature/configuration-loader/src/Configuration/Definition\nSo the question is which is the better point to handle it? The loader's approach/goal is intended to be a single point of configuration, validation, and caching \u2026 c.f. Symfony. \nI'm personally not married to any one approach at this stage, just where I was heading when I started that branch in August.\n. Small style consistency request\u2026 can you use comparison rather than functions:\nif ($repo === null && $this->getMapper()->resolveClassName($className) === 'Bolt\\Storage\\Entity\\Content') {\nWe're pretty much locked in on PSR-2 + Symfony Coding Standards \u2026 the main difference is that we still use spaces around concatenation operators. \n. s/is_a/instanceof/\n. W00t!\n. I'm still laughing at my own stupidity over that one \u2026 thanks for catching it :smile: \n. Re-add\n. Remove\n. One line, or an assignment\n. Revert spacing\n. Revert spacing\n. Remove\n. Re-add\n. Remove\n. Remove\n. Remove\n. Revert spacing\n. Remove\n. Remove\n. Remove\n. One line\n. Revert spacing\n. Revert spacing\n. Remove\n. One line, or an assignment\n. Revert spacing\n. Revert spacing\n. Revert spacing\n. Remove\n. Revert spacing\n. Revert spacing\n. Revert spacing\n. Revert spacing\n. Revert spacing\n. Is this condition needed for something? \n. On purpose. On purpose. This has changed in 3.3, and this will nuke that \u2026 https://github.com/bolt/bolt/blob/release/3.3/src/Legacy/Storage.php#L2383-L2384. FWIW \u2026 we should avoid (re)using anything from the utilphp ~~crap~~ library. Yeah, one of the things I wanted to go over with you actually. I doesn't exist before Silex 2, so it was more of a placeholder for now. \nIf your preference for an !isset() that just creates an empty closure, and then outside ofthat condition we just extend()?. Yeah, other thing I was wanting to ping you on, but family commitments got you yesterday. Fabien has everything under one namespace in symfony/twig-bridge and wondering if we shouldn't head in that direction too?\nThe problem I had was all but one runtime/definition separate, and that being confusing. But so very open to discussion on this.. I know, but still deliberate. Again, zero aversion to removing, but \u2026 it is a clean indicator to those that are not familiar with Twig internals where they should put tests/filters/functions by having them all in \u2026 with that considered, still remove them?. Thought you'd love that one \u2026 it was done partially with you in mind, and partially as it is simpler (IMHO) to see/change when we make the Pimple 3 switch in master. Hmm \u2026 this kinda is uncertain. Your sandboxing branch removes it, and I was getting tests across the line for this one, so that yours can land as I know the exact same line changes to (I think) your new safeRender().\nWe need to check with @bobdenotter as to design intent, as what I discvussed with him yeterday is a valid use-case, but doesn't work the way that is assumed :wink: . And if you're production domain legitimately uses one of these?. So the people that can't remember to run it off, are going to remember to configure this? Yeah, nah!. This is probably purely just for humour's sake \u2026 'cause awesome day away from computer \u2026 but if config isn't available, then how are you going to use it to ->get() :wink: . These, and bolt_stable, are being set here. This is so shy, it blushes like I do :smile_cat: . > This could still be a ternary operation:\nTernary works for me. \n\nAlso doesn't |default skip the defined check?\n\nWasn't happening any longer in master on Twig 2.x-dev \u2026 I did look into the code upstream at the time, but yeah \u2026 would have to again \u2026 'cause :steam_locomotive: :boom: . I don't know what you're talking about :wink: . Got this one. Yeah, this one just got unreadable. Something \u2026 finger \u2026\nBack up in searchContent() the passed in fields are ContentType field arrays.\nThe foreach ($fields as $field => $fieldconfig) { loop then wants $fieldconfig['type'] and $fieldconfig is a boolean.. This one can go. Moved down. But it is called 3 lines down, and needs to be after the register(). \"extensions\". \"extensions\". Won't these break tests in 3.3+?. Would be nice. . No buts \u2026 \n\n. Can this and the one above be strict compared?. Moved the unset() down \u2014 as it's harmless regardless \u2014 to avoid the need for more condition(al)s. FWIW this was to stop a lot of mess on the console when exceptions landed \u2026 This would be a regression? . I am literally sitting here with my mouth wide open \u2026 how \u2026 on \u2026 Earth \u2026 did you track that one down :laughing: . Tried that already \u2026 breaks everything :wink: . @rossriley Do we want to be changing type hints on a stable branch?. That is not correct.. Add to Application::initProviders() at the end:\nthrow new \\Exception('Koala');\nrelease/3.3:\n```\n$ ./app/nut database:check -v\n[Exception]\n  Koala        \nException trace:\n () at [snip]/src/Application.php:243\n Bolt\\Application->initProviders() at [snip]/src/Application.php:119\n Bolt\\Application->initialize() at [snip]/src/Application.php:64\n Bolt\\Application->__construct() at [snip]/app/bootstrap.php:172\n Bolt{closure}() at n/a:n/a\n call_user_func() at [snip]/app/bootstrap.php:213\n require() at [snip]/app/nut:14\n```\nThis commit:\n```\n$ ./app/nut database:check -v\nhtml\n\n\n\n\n",
    "zeuben": "new code worked.\n. ",
    "jameshalsall": "It didn't work in my installation of Bolt. I followed these steps (before making my commits) which is how I discovered the problem...\n1. Make fresh install of Bolt\n2. Run through setup until you get to the \"Create first user\"\n3. Enter a password shorter than 6 characters and submit the form\nThe validation message was reading as..\n\nEnter a value greater than {{ limit }} characters\n\n...or something similar, I can't remember exactly. The problem was that without passing an array with the \"limit\" key it was never replacing the {{ limit }} twig placeholder.\nMaybe the assertion still behaves as expected, but the message didn't appear correctly.\n. That's strange. Your password validation message has both the fixed version and broken one in your screenshot. It worked fine for me but I'll double check tomorrow morning\n. It might actually be worth mentioning that the Constraint/MinLength class is now deprecated in Symfony 2.1 so maybe there's a better approach? \nIll investigate and get back to you\nSent from my iPhone\nOn 12 Oct 2012, at 07:05, bobdenotter notifications@github.com wrote:\n\nThe second error for the password is because of the additional manual check, below:\nif (!empty($pass1) && strlen($pass1)<6 ) {\n    $form['password']->addError(new FormError('This value is too short. It should have 6 characters or more.'));\nRegardless, I can't seem to get {{ limit }} to display the limit as a number. If it works for you, let me know. I wrote this part of the code a few months ago, and i believe the Silex/Symfony forms component did change quite a few things. I might have to go over it thoroughly, to find what I'm doing wrong here.\n\u2014\nReply to this email directly or view it on GitHub.\n. Strange, now I'm getting problems when trying to add a user from via the users page...\n\n\nI'm wondering whether you're running an older version of the Symfony form component? \n. Ah cool. After a pull I can now create a user, and I can confirm that the twig placeholder is still appearing in the validation messages. I'll look into it.\n. ",
    "richardhinkamp": "I'm trying a install of Bolt with composer directly from Github which works. Problem is that Bolt expects itself to be the root of the project and after the composer install, it's in vendor/bobdenotter/bolt. Now config files, themes, etc should be added here too to work, but those file are for my project so they should be outside /vendor/. Will look into some refactoring to support this.\n. You read correctly :)\nI'm working on a test install now and will try to find a solution which works like it does now, but can be configed with other paths. Probably gonna fork and will open a pull request when done.\n. Is it stil possible to tag version 1.0.1, 1.0.2 and 1.0.3? Now it's not possible to install those with packagist\n. Too bad Twig doesn't have a filter for strftime, only for date, or did I miss that one?\nPretty easy to add the extension though: https://github.com/fabpot/Twig/issues/378#issuecomment-4698225\n. Would also be great if they can be used as post-install-cmd/post-update-cmd in Composer\n. I have some utf8 data converted from another database and it was displayed malformed.\nAdding utf8 text in the CMS resulted in malformed data in the DB. Since reading has the same \"problem\", it's correctly shown in the site.\nThe patch is not for sqllite, might need adoption for only mysql (and others?)\nSee:\n\n. @bobdenotter Maybe, I don't know the internals good enough to make that call. If tables are created with utf8 by default, using a utf8 connection sounds reasonable.\n@jadwigo It's not just the collation of the database or table. It has to do with the charset used in the connection. If that not's utf8, utf8 data will not be correctly saved in a utf8 table.\n. This should need some checking because with some shared hosting environment you do not always have the necessary privileges to do this.\nI personally never had a problem with the database collation as long as the tables had the right collation.\n. +1 tables+connection in utf8 should be enough as far as I know.\n. Never mind, is already fixed...\n. One thing I noticed is that the message \"You have been logged out.\" appears even when you logged in, seems like it passed the logout() function in other cases (when not yet logged in) too. May need some checks.\n. Maybe the repo for my site in which I developed this shows some more info: https://github.com/richardhinkamp/zobriuz\nProject has 3 folders at this moment:\n- /config/ config files\n- /app/ templates, scss files in my case, may contain a src dir with local code\n- /web/ public folder containing images/css/etc\n  I don't have a theme dir, because I don't like the fact that it mixes public files (css) en templates. That's why my templates are in /app/templates/ and css etc is in /web/\n. I did not focus on that technical level. I thought Bolt is more a simple CMS and not a framework to extend all kinds of code/controllers etc but maybe I'm mistaken?\n. I think I can create some docs for this. Just clone bolt-docs and add a chapter?\n. Do you know when this will be merged? If it's merged and a new version is tagged it can be added to Packagist as far as I know. I'll sort that out if needed. If that's done, I would have a good case to describe in the docs. I will start with some assumptions for packagist.\n. I just noticed that app/classes/upload/index.php needs to be in the public webroot to have a working image upload, so need to fix that. Will fix that first.\n. No problem if it's pushed back to after 1.0.\nI will keep using this myself and updating for now.\n. Ah ok, seems reasonable. I followed the current RSS implementation for this. Which extension is a good example to follow to create this in an extension?\n. So should I change the code or can this be merged for now and changed to an extension later?\n. So how do I add an extension which is not in the Bolt directory since I installed Bolt with composer and cannot change code there? Or is that coming in the refactored extensions?\n. But I still can't add an extension not located in the Bolt dir. Since my extension is specific to my project and not Bolt, I want the extension located somewhere else. Extensions only work when added to the app/extensions/ dir. But this may be a case not really intended for Bolt, since it's not possible to override something in Bolt without hacking in Bolt itself, or am I missing something?\n. My workaround is a own index.php which adds a before() handler with high prio which handles old urls and redirects those. It works and no hacks in Bolt needed.\nSo this PR may be closed without merging.\n. I agree \"print\" should just print a value, nothing more.\n. I'm on master, updated today don't know which version i was on. 1.0.0 or 1.0.1\n. Working on it, probably tomorrow. \n. I'm working on it, need some feedback.\nAt this moment there is 1 css file. it's the ckeditor one with some Bolt specific lines added. I'm thinking of pulling those apart, so it loads the ckeditor contents.css and a Bolt ckeditor.css file.\nIt's also possible to specify a custom css file to use. IMHO this should be a CSS file instead of the Bolt CSS file, but always in combination with the base file from ckeditor because that has some basic styling for the editor.\nSo no specific config is CKEditor CSS file + Bolt CSS file.\nWith specific contentCss config is CKEditor CSS file + custom CSS file.\nSince this is different than the current way @mablae implemented it, I would like to get some consensus on this.\n. The .htaccess hacks don't work with PHP in CGI mode, so more reason to not use that. In a project I once had to add UTF8 support to, I had to add these lines:\nphp\nini_set( 'default_charset', 'utf-8' );\nini_set( 'mbstring.internal_encoding', 'UTF-8' );\nini_set( 'mbstring.http_input', 'UTF-8' );\nini_set( 'mbstring.http_output', 'UTF-8' );\nini_set( 'mbstring.encoding_translation', '1' );\nI really dislike mbstring.func_overload for all the added magic, but you have to make sure you use the mb_... functions instead of the normal string functions. So when using other projects, like HtmlLawed, they too have to be mulitbyte safe.\n. Maybe create a \"i18n\" branch in this repo and pull changes to that branch? That way others will be able to play with it and send pull requests to that branch. When that's stable enough you can merge it into master. Or would that be too much branching/merging/etc? Alternative would be to send pull request to @electrolinux his branch.\n(yes I might be able to play with this i18n stuff in the coming week, would like to if I have time)\n. I would vote for no multi language content in bolt. As you said, it's no small thing development wise. My experience is that a multi language CMS is often obscure to the non technical user. I think the current backend is beautiful in it's simplicity and that will deteriorate when adding multi language to the interface.\nOf course it's possible to add config options to keep the current interface when multi language is disabled, but that would add more technical complexity.\nIt may be something for Bolt, but I think it's too big an impact at this moment, just after the 1.0 release. Maybe for a 2.0?\nJust my 2 cents.\n. I would like to tackle this, but that will be some time next week. If someone can beat me to it, no problem\n. With my previous job we used this a lot. When the site is in development and not live yet (test version for the customer, not live development!), but also when we performed an upgrade. During the upload/deploy, database repair, cache clean etc, it would be better to have some sort of message to users that the site is under maintenance. IMHO that's better than some site that displays errors or something because the upgrade is only halfway done.\nThe message should give HTTP 503 so it will not be indexed.\n. Too bad it (ab)uses the filebrowser which I use for file management with kcfinder. Maybe some sort of plugin in ckeditor would be an option. Don't know if that's possible or easy/hard to do. Anybody more familiar with ckeditor and cases like this?\n. It would be great to be able to use this and kcfinder but thats not possible right? \n. Shouldnt this be in it's own repo? Is not needed for bolt. Nice work though!\n. :+1:\n. But when you install bolt through composer you still get this which you definitely don't need in live environments. Furthermore the vagrant files belong somewhere else because those files will not be in the webroot in any case I know.\nThis is one possible vagrant setup, I have a different one with ubuntu and other pacakages, if you don't use mysql but sqlite you may want a different config. Should all those variations end up in bolt too?\nI really don't see any reason why this should be in the bolt repo. That there is a script to strip it out is a reason why not, not a reason why IMHO.\n. I have my own homebrew vagrant/puppet config for some development to mimic just my own hosting provider. I have less than 30 files. 250+ files seems all but a basic setup. Even more reason to put it in it's own repo.\nI do really like the idea to have this setup to give people a very easy way to have a working server running Bolt. I really think it deserves it's own repo, just like bold-docs for instance. I would like to work on this to add the config for my own hosting to it, to have more different setups available.\n. It should not complicate anything as far as I know about vagrant/puppet.\nI don't know if it belongs in require-dev. It's very good possible to development on Bolt without this. So maybe just mentioned it in docs etc for those who need it?\n. Good way to start this off!\n. Change is needed for generating a slug based on a select, readded the original events too in #357 \n. Would it be a correct fix if it uses the id as slug if no slug/uses is defined? That way the link will always work. If so I will create a pullrequest for that.\n. Its for autocompletion in the IDE. If the syntax is unwanted I would suggest to remove the properties from Application. I personally love the autocomplete possibilties they provide.\n. I changed the  $app->db back to $app['db'] to match the current coding style. Maybe open a new issue to discuss whether to use the properties or not?\n. Master is merged as far as I know, see:\nhttps://github.com/richardhinkamp/bolt/commits/extract-db-repair\n. Hmm, I have these lines in my code...\nI'll try a new branch and cherry-pick my changes into that.\n. Should be OK now\n. Those are namespaced events. When you trigger an event like this:\njavascript\n$(\"...\").trigger('change');\nYou trigger all binded listeners for the \"change\" event.\nUsing change.bolt it also binds to the change event, but it's possible to trigger just our own change handler by using:\njavascript\n$(\"...\").trigger('change.bolt');\nThis works great because there is no real change, we just want to trigger our handler.\nSee: http://docs.jquery.com/Namespaced_Events\n. :+1: \nI really like the autocompletion it provides.\nI think i might be a good idea to make them @property-read (just __get()) and not write. That way it's just the autocompletion it provides.\n. @jadwigo @marcelfw @pvankouteren care to continue the discussion we started in #353?\n. It's not really Silex but Pimple that this concerns (on which Silex is built).\nPimple as DI can contain all kinds of services, so you never know what's in $app so you cannot add the properties for autocompletion. Silex is flexible as well, based on the config of the project it might have a Doctrine connection but does not have too, same for Twig, etc. So adding properties in Silex is not possible either.\nIn Bolt we always have Doctrine, Twig, Session, etc. So those could be made accessible through the properties for autocompletion. Somebody may create some custom code for Bolt and add something else to $app which does not have a property, unless they also create a custom Application class which extends the Bolt\\Application class and add properties there.\nIn Silex projects I created, I always created a custom Application class with the properties based on my config just to have autocompletion.\nSo no, it's not the default Silex way, because it's not possible in Silex (generic).\n. For other people using PhpStorm like I do, there is an issue opened about this several days ago:\nhttp://youtrack.jetbrains.com/issue/WI-17116\nIt may very well be up to the IDE to support Silex and understand the code to support autocompletion etc. I don't know if Silex is big enough to get that kind of attention from the IDE creators and how long it will take.\nI understand if we do not add code for IDE's, adding phpdoc so IDE's understand should be enough. Unfortunately mine does not (yet?) support phpdoc for array access. \n. I guess so\n. Consesus was to not to this. So remove the current props?  Deprecate them first en remove in 1.3?\n. The properties aren't used anymore as far a I know, but they do still exist in code and docs in https://github.com/bolt/bolt/blob/master/app/src/Bolt/Application.php, those should be removed (deprecated first) too so nobody will start using them.\n. I would say packagist is not for novice users, but is a great way to install Bolt. I would really like to keep it, but we really need to tag releases so new versions are available in packagist. At the moment 1.0.0 is the latest. @bobdenotter is it possible to add tagging to your release process?\n. There is a second config file option. If you have a file named config_local.yml that will be loaded after config.yml. This way it's possible to have different settings for every environment. I use this to have settings for the site in config.yml which is committed in git and in every environment a config_local.yml with database setting, debug settings, etc. I don't know if this is documented anywhere. I only created the code for this if I remember this correctly.\n. What is the problem with those folders being accessible? Config files and the database are not accessible, php files are not a problem. What files/folders might be a problem?\n. I have not checked them all no...\nSo a rewrite line like:\nRewriteRule ^vendor/(.*)?$ / [R=301,L]\nMight not be a bad idea?\n. Hmm except /app/view/, that contains css,js,etc\n. /app/classes/ also contains some files which should be accessible. This folder may need some cleanup since it contains different kind of files.\n. Hmm that's not a complete fix. When you have no default in the config, the input field has the current date as value, but it does not get saved.\nWill look into this myself and try to fix my case.\n. I have merged those commits in my branch (see #399). The no password error is another discussion. I feel it's valid to keep it.\n. Fixed in #404 so can be closed\n. That would be your own config. Cache gets written by the webserver (as would things like uploaded files), if you have problems with that being apache user, perhaps config apache to run as an other user.\n. If someone has a host where uploaded files are owned by a certain user and files written by the webserver are a different user, I don't see any possibility for Bolt to fix that. That's something not controllable by code.\n. Yeah it does, is that a problem? Those packages are suggested, not required, so we can do without right?\n. Fixed in #404 so can be closed\n. Fixed in #404 so can be closed\n. I have it working for most parts, could be listed as experimental for 1.1, up to you. I have no production postgres setup, so can only test in my dev env, will need more people to test to get it to stable I guess.\n. See the pull request. Needed some work in different parts, dbcheck/update, but also saving an entry did not work. Got some stuff working now.\n@bobdenotter might not be ready to merge yet, I just tested postgres, did not yet test mysql/sqlite after changes, so will need to do that\n. Mysql and sqlite look good too, so good to merge if you ask me\n. Closed by #404\n. Which bolt version?\n. No problem, will do!\n. I merged upstream master, now I see some commits here which are already in upstream master, don't know if you can pull it now?\n. But if you install bolt as dependency with composer, you might have development as preferred and get a dev version, which might be incompatible with bolt some time in the future. I think bolt should require stable versions if possible. \n. Looks like every request just returns the output from $app['twig']->render() but the homepage request returns a Symfony\\Component\\HttpFoundation\\Response object:\nreturn new Response($body, 200, array('Cache-Control' => 's-maxage=3600, public'));\nIn Frontend.php:109\nWhen this is changed to just return the output of $app['twig']->render() this works just like the rest.\nIs there any reason why the homepage is cached explicitly for an hour and the rest isn't?\n. A cronjob for reading data from a webservice, combined with some data from the database and saving it in a contenttype to show in the website\n. Will do tomorrow!\n. I think the correct way is to see Bolt (the CMS) as a dependency so local code does not mix with Bolt code (php, views or themes). It's possible as I described here: http://dev.richardhinkamp.nl/blog/installing-bolt-with-composer To make it easy to create a new project, I created a skeleton project to make this easy http://dev.richardhinkamp.nl/blog/introducing-bolt-skeleton kinda like Symfony Standard edition (https://github.com/symfony/symfony-standard).\nWe discussed this some months back and this was seen as to advanced for Bolt, which aims to be simple.\n. As long as a complete zip is available for download I also think we got the less advanced users covered. But its up to Bob to set directions for Bolt.\n. Ah ok, did not know that.\n. Hmm I guess not, this is the better solution. Closing.\n. Hmm I guess not, this is the better solution. Closing.\n. 1.1.2 is available in packagist now, so maybe packagist was just slow to pick it up?\n. 1.1.2 is available in packagist now, so maybe packagist was just slow to pick it up?\n. Yeah I know it works. I install Bolt as a dependency with composer and that means we get the requirement on php-intl and can't install without that, even though it would work.\nI got my shared host working with a small fix in the config, so I'm ok.\nLTS with 2.3 is a good point I did not yet think about. I think the LTS is more important then the dependency on php-intl. So that validates the 2.3 versions as far a I'm concerned.\n. Yeah I know it works. I install Bolt as a dependency with composer and that means we get the requirement on php-intl and can't install without that, even though it would work.\nI got my shared host working with a small fix in the config, so I'm ok.\nLTS with 2.3 is a good point I did not yet think about. I think the LTS is more important then the dependency on php-intl. So that validates the 2.3 versions as far a I'm concerned.\n. Hmm this worked with a new column but apparently not with new table. I will check it out since I made the change for this.\n. Hmm this worked with a new column but apparently not with new table. I will check it out since I made the change for this.\n. Hmm that query works in my MySQL server. Which mysql version are you using? I use 5.5.\nHmm seems like mysql on linux will give a warning about this and on windows it will give an error.\nI'll change it so it only uses default values in sqlite.\n. Hmm that query works in my MySQL server. Which mysql version are you using? I use 5.5.\nHmm seems like mysql on linux will give a warning about this and on windows it will give an error.\nI'll change it so it only uses default values in sqlite.\n. It does not copy the .dist file. It only uses this location if the file already exists. I don't to force the usage of the this, just make it optional.\nI have not checked the edit config option in the backend. I personally dislike the option to edit config from the backend, so did not think about it. I will have a look at it and create another pullrequest if needed.\n. It does not copy the .dist file. It only uses this location if the file already exists. I don't to force the usage of the this, just make it optional.\nI have not checked the edit config option in the backend. I personally dislike the option to edit config from the backend, so did not think about it. I will have a look at it and create another pullrequest if needed.\n. Yeah that's what I did. I just wondered why it's changed because the change breaks every Bolt install with a custom theme path.\n. Yeah that's what I did. I just wondered why it's changed because the change breaks every Bolt install with a custom theme path.\n. Well I know how to fix it yes, but I gotta manually fix it for every install when it's upgraded. I just wondered if you are aware of the BC break this change causes in certain installs. Maybe good to provide a fallback to the old directory and give a warning if the theme does not exist in the new dir but does in the old? \n. Well I know how to fix it yes, but I gotta manually fix it for every install when it's upgraded. I just wondered if you are aware of the BC break this change causes in certain installs. Maybe good to provide a fallback to the old directory and give a warning if the theme does not exist in the new dir but does in the old? \n. Is already fixed in 1.7, don't know about 2.0\n. Is already fixed in 1.7, don't know about 2.0\n. The tests won't run on my machine, but that seems unrelated to these changes:\n```\n$ ./vendor/phpunit/phpunit/phpunit  -c phpunit.xml.dist\nNew value for theme: base-2014 was successful. File updated.\nDeleted 0 files from cache.\nCache cleared!\nPHPUnit 4.8.14 by Sebastian Bergmann and contributors.\n...............................................................  63 / 535 ( 11%)\n............................................................... 126 / 535 ( 23%)\n............................................................... 189 / 535 ( 35%)\n................PHP Warning:  filemtime(): stat failed for /home/richard/www/bolt/vendor/phpunit/phpunit-mock-objects/src/Framework/MockObject/Generator.php(290) : eval()'d code in /home/richard/www/bolt/vendor/twig/twig/lib/Twig/Environment.php on line 769\n............................................... 252 / 535 ( 47%)\n..........FEPHP Fatal error:  Call to a member function setInstallType() on a non-object in /home/richard/www/bolt/src/Extensions.php on line 197\n``\n. Ah, a clean checkout finishes phpunit, but this is still in the output:PHP Warning:  filemtime(): stat failed for /home/richard/www/bolt/vendor/phpunit/phpunit-mock-objects/src/Framework/MockObject/Generator.php(290) : eval()'d code in /home/richard/www/bolt/vendor/twig/twig/lib/Twig/Environment.php on line 769`\n. I thought the kitchensink is for showing all possibilities for a contenttype. Therefor I added the multiple uses field to it. No problem to delete if it's not wanted.\n. ",
    "sirlancelot": "Good points :)\n. Would it make more sense to move each extension's config file in to the main config folder? extension.[name].yml perhaps?\n. ",
    "codev0": "Can I help to translate on Russian?\n. Ty @bobdenotter .\nAnd how I'm making cyrilic support in \"Nice URL\" extention?\n. @bobdenotter if I'm adding text in title field on cyrillic symbols, in editslug input don't work. But it's nice work latin symbols.\nI don't understan why? :)\n. @bobdenotter thx. Good Job\n. ",
    "gmoigneu": "Running on cf847aa12976bfea2197e73e6b2891872133da7b (Sun Nov 18 16:46:59 2012 +010)\nI can't see any differences between the entries. Here is the SQL dump : http://pastebin.com/Lw05MmJ2\nAnd my contenttypes : \nentries:\n    name: Entries\n    singular_name: Entry\n    fields:\n        title:\n            type: text\n            class: large\n        slug:\n            type: slug\n            uses: title\n        image:\n            type: image\n        teaser:\n            type: html\n            height: 150px\n        video:\n            type: video\n        body:\n            type: markdown\n            height: 300px\n        kudos:\n            type: number\n    taxonomy: [ categories, tags ]\n    record_template: entry.twig\n    listing_template: listing.twig\n    listing_records: 10\n    sort: datecreated DESC\n    recordsperpage: 7\n    rss:\n      enabled: true\n      feed_records: 10\n      feed_template: rss.twig\n      content_length: 250\n. Just updated to f42ccdde4c48e6c487c4b620b3ff86fffe6854c5 and I got the same error.\n. After update, problem is still happening :\n```Primary template: svbtle/entry.twig (contenttype)\nUsed templates:\n1. view/error.twig\n2. view/_header.twig\n3. view/_footer.twig\nRoute: /_contenttypeslug_slug\nRequest URI: /entry/migrating-from-wordpress-to-bolt\nParameters: \narr(2) \n[\n    \"contenttypeslug\" => str(5) \"entry\"\n    \"slug\"            => str(32) \"migrating-from-wordpress-to-bolt\"\n]```\n. Yes, the entry.twig is present and readable. And it's correctly working for another entry. The log doesn't contain anything.\n/var/www/nls.io/web(branch:master*) # ls -la theme/svbtle/entry.twig\n-rwxrwxr-x 1 web13 client7 943 21 nov.  21:19 theme/svbtle/entry.twig\nDo you want a direct SSH access to the files if it can help ?\n. ",
    "djoeybodenstaff": "After publishing an entry, I get the same error as mentioned above. I'm working with Bolt 0.95.\nLog entries:\n\". PHP-Notice: Undefined offset: 1.\nin: /public_html/vendor/doctrine/dbal/lib/Doctrine/DBAL/Schema/SqliteSchemaManager.php::166 \n2. PHP-Notice: Undefined index: record_template.\nin: /public_html/app/src/Bolt/Content.php::550 \n3. Template \"\" is not defined ().\nin: /public_html/app/app_backend.php::217 \n4. PHP-Notice: Undefined index: file.\nin: /public_html/app/app_backend.php::230 \"\n. Is there a way for auto select the template you want? So 'page.twig' for pages and so on. \n. ",
    "maxfierke": "Perhaps this is a little too heavy, but you could check out Assetic, which allows for asset management, LESS/SASS compilation, and image optimization in addition to asset minification. It also comes with a Twig extension.\n. +1 on @jadwigo's idea. Perhaps if a parameter is not found in config.yml, config.yml.dist should be checked.\n. I guess I was thinking about providing a set of sensible defaults to\nprevent the extension from breaking, but I suppose that should probably be\ndone internally by the extension developer if they so choose.\nOn Jan 23, 2013 1:36 AM, \"Patrick van Kouteren\" notifications@github.com\nwrote:\n\nconfig.yml.dist +1\nThis also shouldn't be too hard to implement. Like I said earlier: It\nkeeps the extension drop-in without having to adjust something in the layer\noutside it (meaning: Bolt itself). Removing the extension dir = total\nremoval of the extension = win :)\n-1000 for checking config.yml.dist if a parameter is not found in\nconfig.yml. This should never ever be done. You potentially have twice as\nmuch configs and you'll lose the overview on which config param comes from\nwhere. Next to that, the .dist files are clearly example files for\nDISTribution and nothing more than that.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bobdenotter/bolt/issues/73#issuecomment-12584669.\n. I think Option 4 is the way to go, as people can still use the hopefully sensible defaults provided by the config.yml.dist but have an incentive to copy it over. I think it's probably good to \"punish\" the users with Dashboard access with loud complaints, rather than visitors complaining loudly when they get errors, or blank pages because the maintainer of the site didn't update the plugin's config.\n. The thing about requiring phpunit in composer is that you have to access it from the vendor directory and then use relative paths to reference back to bolt to run the tests. I think it's safe to say that anyone needing to run tests is probably capable of installing and using phpunit globally and will continue to use their global install instead of the one located in vendors.\n\nUnless the vendor phpunit is somehow integrated into nut as a convenient function, I don't see how adding it as a development dependency is helpful.\n. If it is put as a development dependency, it should to be integrated into nut as nut tests:run or something so that it's as easy to use as simply calling phpunit. All of the above reasons are valid reasons but it's rather tedious to have to run it from the vendor directory.\n. Perhaps the dashboard should issue a loud complaint instead, as there is no good reason, in a production site, not use a password for a MySQL user.\n. +1 for Symfony profiler\n. Perhaps a bolt-deployment-tools repository?\n. ",
    "awildeep": "The other benefit to Assetic is the other options it grants.  For instance compiling LESS files.  As for how to use it in templates, I think this could very simply be handled in the documentation with a section on using Assetic.\nAssetic may seem \"heavy\" but when you get down to what it does I personally believe it is the best PHP based solution for things like this.\nPerhaps Assetic should be optional?\n. Assetic can be configured to use Sass, SCSS, STYL, and Less.  Not to mention it has a number of other filters available (It is not just for styles):\nhttps://github.com/kriswallsmith/assetic#filters \nWhile it may seem like a daunting library, it is very good at doing what it does.  It provides Coffeescript -> javascript compilation as well, mustache, etc.  \nOther built in features that may help sway your position:\n- Built in cache https://github.com/kriswallsmith/assetic#caching\n- Static compiling (Assetic can compile once and be done, or run continuously.   Think dev vs. prod: https://github.com/kriswallsmith/assetic#static-assets\n- Extendable.  For instance SASS and LESS are great, but what happens when someone comes up with a new format that becomes all the rage?\n- Tested, and well maintained.\nUltimately, this is your project.  I can only give my opinion. I am obviously partial to Assetic, but then again I use it in almost every project I build these days.\n. @bobdenotter I am completely okay with an extension based solution.  Default it to whatever you think is the easiest, and provide a way for users to add Assetic support if they need it.  That way you're are also not tied to one system or another. \n. Maybe a simple wiki page to outline the existing extensions would be good enough?  I know I for one have a hard time finding any definitive listing.\n. @tobias2k I believe you'll need to take this up with the PHP core, but I also do not believe that the email RFC allows for emails usernames (the username is the portion of the address previous to the at \"@\" symbol) to end with a period \".\".  The RFC specifically mentions using periods \".\" in the username as a separator.  For example: value1.value2.value3@host.tld \nAt least that is how I read the RFC, it could be the subject of some debate as it is slightly ambiguous.   Either way, unless bolt impiments its own method for email validation, or a way to customize it, the issue ultimately remains with the PHP core team.\n. ",
    "peterboorsma": "In fact, these are two feature requests :)\n1) Random order in a loop\n2) Get get content and exclude the current active one\nFor instance:\nI have an contenttype called \"newsitems\". On an entrypage I want to show a list \"more news\" with items ordered randomly and I want to exclude the current item in that list.\nSee http://popfabryk.peterboorsma.nl/nieuwsitem/seeljocht-krijgt-vervolg-op-oerol (Bolt site in progress) for an example.\n. About the 'keep it simple' remarks: I am already sort of a power user, building most of my new sites with Bolt. I talk to Bob a lot about features and my wishes for Bolt. I think you've reached the point that Bolt is powerful enough to use for most small websites and simple/compact enough for non-developers like myself. Just about right form my point of view.\n. I would like to choose the language in date notations (Mostly Dutch for me). Translation for day names en month names (i.e.: friday > vrijdag, january > januari).\nBolt uses http://momentjs.com/ in the backend so maybe this can be used?\n. voil\u00e0: https://gist.github.com/peterboorsma/5037959\n. Like this...\n\n. The 'marketplace' will be discussed in january at 'Bolt Camp': http://bolt.cm/newsitem/bolt-sprint-in-january-or-boltcamp-2014\n\n. To place a file in a textfield, for example. There is no good option to upload, select and link to files other than images. I get a lot (a lot!) of questions like \"how do I insert a pdf in my text\". Or am I missing something here?\n. Thanks, that works nice.\n. Sounds good. Thank you.\n. A code snippet for this would be nice to add to snippets.bolt.cm\n. Bob is almost finished with the snippets site and it will be redesigned this month.\nI'm already collecting useful content, so yeah please. It's a great addition.\n. It seems changing the form name from 'order' to 'orderform' solved my problem. I guess you can't name your form 'order'...\n. That's great!\n. O.K.\n. Whoops. Sorry.\n. That works fine. Weird. \nI have multiple installs running on the same server. I get the same message on all of them.\n. Yes! Tnx-a-lot!\n. ",
    "doertedev": "Also: It would be awesome not only to manage the contenttype \"file\" but rather \"files\". My current client wishes to upload multiple mp3-files to a \"page\". On it.\n. https://github.com/bolt/bolt/pull/770 there we go. Some Ideas on \"The Stack\"? Maybe it really makes sense to feature up the file browser.\n. Also here: Crosslink to https://github.com/bolt/bolt/issues/574 ...\n. What was the issue here? Running into the same right now with php5.5 and nginx (fpm)\nEdit: Enclosing: Check your varnish config (returning in vcl_fetch) !\n. Sure thing, just did not whant to keep it for me :P\n. I completely screwed here. And I didnt know I edited externals in the first place. I was drunk. At a conference. Sorry :P\nOpened a new pull request.\n. Awesome. Thanks buddy.\n. Yeah I had a problem with Turkish, where things like the uppercase i with a Dot and the lowercase i without one didnt work. Just whanted to share a thought :P\n. Yeah it was my fault. Didn't have the files utf8'd. \nStill, if I put the Umlauts in say the menu.yml, I have no chance to get html special chars put out. Am I overseeing something? \n. Everything is clear now :3 Thanks m8.\n. An idea just popped up. If I only check one date field I can use the current filter. The problem here are the two fields :-/\n. :+1: \n. Yupp. Still, if this date needs to be relative to the current date within the twig file you're screwed.\n. But you say it yourself. Hackish ways. Okay let me find another way to solve this. .......... Maybe a Twig filter?\n. On it. \n. On my way to the docs.\n. Done. See https://github.com/bolt/bolt-docs/pull/45. If one can think of a cleaner solution please let me know. Be patient, I just read/work my way into symfony :+1: \nLet me say it again: You guys do awesome work.\nClosing. Thanks :3\n. I had a similar problem within the templates, setting relative dates, but in the Twig tempaltes. MySQL does not support this kind of setting a default date. \n\"The DEFAULT clause specifies a default value for a column. With one exception, the default value must be a constant; it cannot be a function or an expression. This means, for example, that you cannot set the default for a date column to be the value of a function such as NOW() or CURRENT_DATE. The exception is that you can specify CURRENT_TIMESTAMP as the default for a TIMESTAMP column. See Section 11.3.5, \u201cAutomatic Initialization and Updating for TIMESTAMP\u201d.\"\n( http://dev.mysql.com/doc/refman/5.5/en/create-table.html )\nFurther reading: http://dev.mysql.com/doc/refman/5.5/en/date-and-time-types.html\nMeaning that if you whant to implement this, you would have to manipulate each DB-Write and insert the data with in-time-generated strtotime() dates. I think this could be implemented, but I wouldn't think it would make sense to make a core feature out of this.\n. Idea: DATE DEFAULT NULL, create a trigger that sets the date. Simplest solution.\n. Yeah but what is the exact syntax here? swiftmailer: options: host... didnt get swiftmail to work from config.yml, only from bootstrap.php.\n. My first question would be: where do the \"productos\" come from that you question for length?\n. Well I think that, even for small amounts of options, larger string just break it. Silently. And this is my problem. The silence. Your database entry just has a broken string. This is crap.\nI agree that from today's point of view this solution makes more sense. But silently cutting the strings is just not a acceptable behaviour. Lets rather talk about another option? Like for class: small class: large etc it might be the best way. Or even giving the user a notice that he might reach a certain threshold... You know what I mean...\nI'd simply say change it to TEXT but I'm not a core guy so I put this up for discussion here.\n. You, dearest of sirs, are awesome and deserve all the beers in the world! Except.. Wait I'm thirsty.\n. Did you copypasta that content into the editor?\nSHOW VARIABLES LIKE 'character_set_%';\nWhat does 'SELECT Body FROM your_table_name' output on the mysql console?\n. I've spent half a year in a past project running ZF1 to give i10n'able Image descriptions for one image in N languages. This is a complex topic. Create one image, translate it to 2 languages: german and english. The British can inherit english as is, image n+1 needs a different word in a description.... I find that topic funny to talk about.\n. What the... Am I right that we support this feature for images but not for image?\nEDIT: Right. We actually use the said format there. What about extending it for Links?\n. Awesome.\nAs said, you'll need the meta informations for any type of image/video/* so integrating a special kind of \"media asset management\" into the administration system is an awesome idea. Yeah Overkill. Right. But some SEO goodness ;)\nBrainstorming anyone? :P\n. Hm. Media asset management holds a very large set of components. I'd first go for i10n descriptions, later focussing on stuff like watermarks. But i10n is still a thing to do for bolt. \nAlso: HTML5 Video holds a set of 4 formats to satisfy each browser + mobile. I've had my troubles back in my large project days...\nLets ask the community for recommendations ;)\n. Someone fancy a discussion about deprecating the Year-Month/same-filename-as-on-uploading-pc.fileextesion for another approach? Hit me on doertedev@jabber.bastard-networks.de :)\n. Yeah mate we might whant to add sub records from the current contenttype.\nerm.. okay let's guess we administrate a website for Whisky just for fun and profit and it's the most awesome tasting drink on this planet...\nyaml\nwhiskies:\n    name: \"Whiskies\"\n    singular_name: \"Whisky\"\n    fields:\n         manufacturer: \"Bruichladdich frikkin awesome whisky distillery\"\n         title: \"Octomore 06.1\"\n         taste: \"Peated goodness flooding your mouth with Irish goodness\"\n         category: \"singlemalt\"\nIn order to have a decent image path we might whant to urlify certain things from this contenttype, like the manufacturer, the product name, ...\n/files/whiskies/singlemalt/bruichladdich/octomore/2014-06-23-octomore06-1.png\n/files/%contenttype.name%/%contenttype.category%/%contenttype.asdf%/....\nNot the best solution but gives you so much freedom :3\n. You, dearest of sirs, deserve all the hugs/pugs/whiskies in the world.\n:+1:\n. Just spotted the forums. Thanks anyways :3\n. TranslationServiceProvider Line 63:80\n. :+1: Nailed it !\n. Thanks guys :3\n. Feel free to engage to https://github.com/bolt/bolt/issues/574 and close this :)\n. Oh well, seems like composer create-project bolt/bolt --stability=\"dev\" suppressed the latest 6 commits. Thanks for the rapid feedback m8 :3\n. Left a comment inside the Integrity checker yesterday. Cropping the default value got me rid of the error message. Which does not seem like a decent decision to throw in a PR to me.\n. Yapp Merge failed. My bad. Thanks :P\n. - postProces (typo)\n- killed fetchCachedPage $html -> works.\n- killed fetchCachedRequest $html -> works.\n. ping @tdammers maybe? :3\n. bash\ncomposer licenses : tdammers/htmlmaid              0.4.0                BSD-3-Clause\n``` PHP\n                $value = $this->preParse($this->values[$name]);\n                error_log(var_export(\"raw: \" . $value,true));\n\n                // Parse the field as Markdown, return HTML\n                $value = \\Parsedown::instance()->parse($value);\n                error_log(var_export(\"parsedowned: \" . $value,true));\n\n                $maid = new \\Maid\\Maid(array('output-format' => 'html'));\n                $value = $maid->clean($value);\n                error_log(var_export(\"maided: \" . $value,true));\n\n                $value = new \\Twig_Markup($value, 'UTF-8');\n                error_log(var_export(\"twigged: \" . $value,true));\n\n```\nOutput:\nbash\n[Thu Dec 12 05:12:59 2013] [error]  'raw: # \\xc3\\x9cberschrift\\r\\n\\r\\nSeiteninhalt\\r\\n\\r\\n* Auflistung\\r\\n** Zweite Ebene\\r\\n\\r\\n[Typischer Link](http://www.google.de)'\n[Thu Dec 12 05:12:59 2013] [error]  'parsedowned: <h1>\\xc3\\x9cberschrift</h1>\\n<p>Seiteninhalt</p>\\n<ul>\\n<li>Auflistung\\n** Zweite Ebene</li>\\n</ul>\\n<p><a href=\"http://www.google.de\">Typischer Link</a></p>'\n[Thu Dec 12 05:12:59 2013] [error]  'maided: <h1>\\xc3\\x83\\xc2\\x9cberschrift</h1>\\n<p>Seiteninhalt</p>\\n<ul>\\n<li>Auflistung\\n** Zweite Ebene</li>\\n</ul>\\n<p>Typischer Link</p>'\n[Thu Dec 12 05:12:59 2013] [error]  'twigged: <h1>\\xc3\\x83\\xc2\\x9cberschrift</h1>\\n<p>Seiteninhalt</p>\\n<ul>\\n<li>Auflistung\\n** Zweite Ebene</li>\\n</ul>\\n<p>Typischer Link</p>'\nsadpanda\nBTW: Same result with dev-master.\n. LOL. Okay I have the solution. the http-equiv fails, the meta charset=\"\" works Oo. No idea why. \n. Bitbucket htmlmaid discussion: https://bitbucket.org/tdammers/htmlmaid/commits/eed76907883c3e1203c12a250963f8ee\nPull request post-fix: https://github.com/bolt/bolt/pull/755\n. He just released 0.4.1. Packagist didn't notice yet. But after, Time to merge. :3\n. Thanks @bobdenotter, thanks @tobias2k. :+1: \n. :D Lol best workaround ever :D :+1: \nThe old suggestion alert is neat and small, and most importantly: disappearing with just one click. I am suggesting a modal window, listing the contenttypes with number input boxes and a submit button. Does this seem \"too crowded\"? My guess: it wouldn't get \"more useful\" than this.\n. Fair enough. Let me see if i can shovel in some time within the holidays. Thanks for the feedback. :3 :+1:\n. Sorry on that one, the i10n stuff shouldn't belong here...\n. Fixed it.\n. :+1: but triggering this AFTER letting composer pull the dependencies would be nice. Because when working with a Vagrant VM one could not just easily pull and install bolt from the host machine right now as it would check for mysql, and in 2014 this should not exist locally on a host machine (exceptions may vary).\n. I have a web hosting company running 30 bolt sites on the same host, but since we have multile servers with different OS/PHP/MySQL versions running I do use vagrant. \nThis is exactly the thing vagrant is made for. And I think triggering the script after the installer shouldn't be a problem. You could even check if vagrant is running in the current or one of its parent directories and I think we could beat this single issue pretty easily. Just a suggestion though.\nDid we talk about yeoman yet? :P\n. Self-reminder: https://github.com/bolt/bolt/blob/master/app/view/js/bolt.js#L597\n. https://github.com/bolt/bolt/pull/966 As I've posted, this can become a real PITA. References are supposed to go to the bottom of the document, but we also need to find out where in the document something was actually pasted. Anyone having an idea how to rapidly resolve this?\n. Permalink: https://github.com/bolt/bolt/pull/966#issuecomment-36531247\nGoal for now is to do this magic onSave and skip this damaged implementation for now.\n. Pasting the HTML and letting it be reformed to Markdown on the push of the save button seams more responsive to me than letting the user wait for about a sec and presenting maybe unexpected results. Let's do this onSave shall we? I'll close this for now.\n. :+1:\n. Guess I screwed up with github's workflow again. Forgot to create a feature branch to stop github adding commits to the open PR. Sry.\n. Fixed. Sorry on that one. \n. Backend bro...\n. I rather thought about upgrading the select field. But then again this would become tricky because the select field has its values stored within the contenttypes.yml. It's just a thing that came into my mind as frikkin useful. Not sure about the implementation details so I've put it up here for discussion...\n. TL;DR Post:\nUpgrade select field:\n- Contra: has its values within contenttypes.yml, upgrading them while accepting new input seems stupid.\n- Pro: Useability\nOwn field:\n- Contra: no explainable difference to a taxonomy type \n- Pro: Makes sense (see first contra).\nTo be updated while discussion!\n. Rudimentary \nlocation / {\n    try_files $uri $uri/ /index.php?$query_string;\n}\ndoesn't do it here sadly. In order for it to work properly I had to\nlocation ~* /thumbs/(.*)$ {\n        try_files $uri $uri/ /index.php?$query_string;\n    }\nbecause of the additional \nlocation ~* \\.(?:ico|css|js|gif|jpe?g|png|ttf|woff)$ {\nblock.\n@rossriley can you please drop an Apache Config? I'll do the NginX part then.\n. L\u00e9 awesome, thanks buddy :+1: \n. We so badly need a decent test infrastructure :(\n@rixbeck I installed via composer create-project -s dev on a side-installation and found the missing use definitions. Apart from that, it works.\n. Well f*** ... Okay you got me mate :D\n. I do some kind of like the year-month approach. We really need to see if semver or something else makes sense for us.\n. Erm... just because I'm drunk again merging branches into my frontend repos ... Do we bugfix @ release/1.(6 || 7)?\n(and yes I know it's 9am)...\n. Who is awesome? YOU are awesome! \n@bobdenotter plx link on finish.\nLove you guys...\n. Yapp. Got that. But I'd rather see this solution in user- (contenttypes.yml) than system-(/app)land.\nI'll do this, just tell me what you guys would pick.\nc: :+1:\nd: :+1:\n. Okay what do the other guys think:\na) leave it in \"system-land\" (/app)\nb) deviate from slug'd / index'd fields\nc) bob's \"in_excerpt\" or find another name\nd) regexish / scriptish weird syntax to define it per-contenttype (outside the field definitions)\n. ARGH!!! sorry, my fault. I was very drunk :P\n. ",
    "EleonoreD": "Can I give you the url of my website in a private message ?\n. In fact, I had a problem with curl.\nCurl was enabled in my Wamp but it was not correctly installed. \nWhen I tried to get the curl version, a Fatal Error was fired. \nI replaced the php_curl.dll and now everything works fine !\nThanks a lot !\n. Ok. Thank you for your answer.\n. Hi,\nThe error was on the taxonomy listing page but I found an other way.\nI don't know if the error was my bad or not but it's ok now.\nThank you. I can close this Issue.\nEl\u00e9onore\n. ",
    "marcelfw": "I'm working on Bolts' big brother, so I try to keep out of most\ndiscussions. I think extensions can already do more than you and Bob think\nat the moment. At least I didn't have any problem creating my own\nasynchronous controllers ;-)\n(well, that's besides the debugbar inclusion;-)).\nIf the big brother is beta-released, I'll have more time for Bolt stuff :)\nOn Thu, Dec 20, 2012 at 1:58 PM, Patrick van Kouteren \nnotifications@github.com wrote:\n\nI think the point is valid and the extensions could be far more powerful\nby doing that. As for the project I think we're not yet at the point where\nwe start moving stuff around because the project is stable. I think, for\nthe moment, it's better to focus on getting a stable Bolt 1.0 version and\ntake a closer look on how to restructure stuff for newer version. However,\nthat's my opinion and I'd sure like to hear the thoughts of @bobdenotterhttps://github.com/bobdenotteron this.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bobdenotter/bolt/issues/58#issuecomment-11572443.\n. Yes it probably does.\n\nBut now I made a pull-request for a new property 'debugbar'. If you set it\nto false the debugbar doesn't get added any more. This is better because\nregular debugging remains possible in controllers where you don't want a\ndebugbar.\nBy default debugbar is 'false', only the default Bolt Frontend and Backend\nControllers enable it again. So it should be disabled again because the\nfeed is implemented inside the frontend controller.\nOn Thu, Dec 20, 2012 at 11:32 AM, Patrick van Kouteren \nnotifications@github.com wrote:\n\nThe feed method in the Frontend controller sets debug to false. This\nprevents the debugbar from showing, right?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bobdenotter/bolt/issues/64#issuecomment-11568705.\n. I updated it, but I couldn't test it. I'll let Bob test it :)\n\nAnother thing for #58 could be to move the feed stuff into a separate\nextension. It's quite easy to add controllers in an extension and since\nfeeds are not always necessary it keeps Bolt more simple.\nOn Thu, Dec 20, 2012 at 11:49 AM, Patrick van Kouteren \nnotifications@github.com wrote:\n\nMy personal opinion is that we are trying to put too much into one big\nconfig file. But I'd like to continue that discussion in issue #58https://github.com/bobdenotter/bolt/issues/58\n.\nRegarding the pull request you've made, could you update the feed method\nas well then? That way the whole pull request can be merged or declined\nwithout any functionality implications.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bobdenotter/bolt/issues/64#issuecomment-11569165.\n. Added a getDecodedValue() method which is now used by __call() and offsetGet(). The method always returns the decoded value.\n. I didn't dig into the specific of the issue, just reading this thread.\nBut why not create a tiny config section for it, just to group\ndifferent language/translation settings together?\n\nnl:\n  name:        Dutch\n  translation: nl\n  locale:       nl_NL\nIt's a bit confusing to have 2 identifiers with the same name and\ndifferent meaning (the first and second 'nl'). But it's a logical to\ngroup these together. Internally you can refer to the first 'nl' and\nwhen you need translation.\nYou could do -in pseudo code-:\n  $config['language']['nl']['translation']\nand for locale:\n   $config['language']['nl']['locale'].\nAlso, in other code where you have to select a language you can use\nthe 'name' value, even nicer for users.\njust my 2 cents.\nOn Fri, Jan 18, 2013 at 8:28 AM, Patrick van Kouteren\nnotifications@github.com wrote:\n\nI've slept a night over you last comment and we cannot use\nnl, nl_NL\nbecause:\nThe locale might be set by the request, this returns 'nl' and not 'nl_NL'. In that case we'd still need a mapping, while we make the code less clear (as the locale may be 'nl' or 'nl, nl_NL'). In the first case, we still need mapping in the TwigExtension. In the latter case we need to extract the 'nl_NL' part.\nLet's keep the locale consistent and only apply the mapping where it's needed: in the TwigExtension.\n\u2014\nReply to this email directly or view it on GitHub.\n. Locales are tricky things, because not every server has been configured in\nthe same way. On your dev server it might be different from your production\nserver. I think you will always need a function to convert a browsers'\naccept-language into a language/territory Bolt understands, you can never\nassume it matches.\n\nOn Fri, Jan 18, 2013 at 8:56 AM, Patrick van Kouteren \nnotifications@github.com wrote:\n\nThe only issue still remaining is how to determine the territory. This is\nwhat is causing the strftime to break.\nI can add an optional argument to set it manually in the template.\nHowever, this would mean there's no option to rely on the request's locale\nas we cannot get the territory from that.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bobdenotter/bolt/issues/79#issuecomment-12411113.\n. I would still say. Let's only do anything magic when somebody activates it\nfor a particular controller. Just like de debugbar. These things bite you\nagain and again if they are hardcoded.\n\nOn Tue, Jan 8, 2013 at 4:08 PM, Lodewijk Evers notifications@github.comwrote:\n\nfor now the simple fix is to do this stuff somewhere in the /async/* route\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bobdenotter/bolt/issues/91#issuecomment-12000579.\n. The same goes for any automagic stuff. So no adding -stuff unless\nenabled.\n\nOn Fri, Jan 11, 2013 at 12:29 PM, bobdenotter notifications@github.comwrote:\n\nCurrently the debug bar is shown in the frontend and the backend, not in\nasync. For controllers added by extensions the beheviour isn't properly\ndefined. It should behave like this:\n- Controllers added by extensions should have the option for the\n  debugbar to be added, but this has to be an active choice: off by default,\n  turn on if needed.\n\u2014\n  Reply to this email directly or view it on GitHubhttps://github.com/bobdenotter/bolt/issues/103.\n. I don't use autocompletion but I do understand why you would want it.\nHowever I would argue that you would only complicate the DI part of the Application class. Using $app['..'] it's very clear in the code you are using the service architecture.\nHowever to contradict myself, 'db' is not really dependent on anything, I mean it is always included, so in that sense it could be a fixed property of the $app. If there is absolutely no way an application could exists without 'db' then $app->db makes sense to me. I would suggest to keep the number core properties to a very minimum. \nI'm not too familiar with the Bolt code, but:\n$app->db\n$app->storage\n(and maybe some others)\nAny 'service' not in the Bolt core should use the regular DI (Pimple) container code.\n. Oh and like @jadwigo said, moving the database verify/check code, elsewhere is much better!\n. @pvankouteren also true. I would opt to leave it at $app['...'] because that keeps it in line with standard Silex.\n. I wonder if there isn't a Silex discussion about this as well?\nBecause in the grand-scheme of logical code I would still like to keep on following the Silex logic.\n. I am a much more formal kind of guy. And I would say that there are legitimate reasons to have actual properties in the Application object and it would be confusing to mix in services there (imo). \nIDE's should not be a factor in this discussion. And btw, they also evolve so your next version might support it anyway.\nBut, like I said, I like formal code more and I don't use autocompletion normally (Vim-user :-)).\n. Can the sort_order if activated also be used in the backend? \n\nWhen 'behaves_like' == 'grouping' you would expect the backend view of the content to group in order as defined in the taxonomy.yml (as opposed to alphabetical)\n. Two things:\n1.\nPatrick, in the search code I see that the search query can use extra 'filters'. But I don't exactly see how this should work. Does this work? Or was this planned? I would like to replace the code with my code but I don't have this functionality yet (but I also plan to have it..). Do you see any problems?\nSee commit: https://github.com/bolt/bolt/commit/1016eb3009471dec6874123571f53165c6a0bdf9\n2.\nI wish to rewrite the { setcontent } to allow it to be more extendable. For instance, I would like something like {% setcontent results = 'page/search' where { 'q': 'my-search' } %}. But there are many more uses for this ofc. Doing this, should also make it more easy to use prepared statements.\n. Hehe, no but I get the confusion. I mean the '$where' part (just above the !empty($parameters['filter'])) line.\nThese parameters can only work correctly (for multiple contenttypes) if you call searchContentType directly. \nHowever that is never done, because searchAllContentTypes is called in Frontend. $parameters make less sense in such context unless you defined a way to divide them between contenttypes.\nAnyway, the only question I have, if you already used that actually. The current new search will already allow filtering for specific contenttypes. Eg. /search?q=happy&entry_onfrontpage=1 (where 'onfrontpage' is an actual field in contenttype 'entry').\nHope this makes any sense?\n. Ok, then it shouldn't be an issue. Still working on the getContent\nreplacement, but it should be finished soon.\nOn Wed, Aug 7, 2013 at 4:07 PM, Patrick van Kouteren \nnotifications@github.com wrote:\n\nAh, yeah. As far as I know I didn't use it yet.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/422#issuecomment-22253567\n.\n. getContent() now has a new implementation. It's not ideal yet, but it is a bit easier to add your own 'textual queries', including custom sorting, grouping, pagination.\n\nFor now I just added the ability to perform an actual search (just like from the Frontend), just try:\n{% setcontent results = 'page/search' where { 'filter': 'something' }  %}\nor even:\n{% setcontent results = '(page,entry)/search' where { 'filter': 'something' }  %}\nlimit is also possible:\n{% setcontent results = 'page/search/5' where { 'filter': 'something' }  %}\nAt this moment you cannot add extra filters per contenttype, but this should be possible to add in the future.\nAlso the Frontend/search and the setcontent/search both can search on multiple words, which wasn't really possible in the previous one (unless the words were next to each other).\nI'll see the issues coming in..\n. @bobdenotter\nsafeString was only used because the old search used it. I started just\nwanting the code to work and break as little as possible.\n@leonbobster\nYes, the logical thing to do is remove safeString and properly escape it\nfor the database.\nBut for the future, you might even consider some form of transliterating.\nThat way words like 'caf\u00e9' would be found with searches like 'cafe'. This\nprobably works in many other languages as well?\nHowever this could be too much for standard Bolt. I'm not sure since I\nhaven't investigated this option for all the databases Bolt supports.\nOn Thu, Aug 22, 2013 at 9:37 PM, bobdenotter notifications@github.comwrote:\n\nThat's what i was thinking. Let's fix it properly then, instead of fixing\nyour case for russian, and then next week somebody has a broken search for\nswedish. :-)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/pull/535#issuecomment-23118799\n.\n. I changed the code to use proper database escaping for now. This seems more logical to me anyway.\n. \n",
    "thedumbtechguy": "This discussion is dear to my heart. As a programmer, I have been searching for something like bolt for a long time. I'll simply post my comment from the blog.\nI do hope we don't end the ways of drupal, joomla and wordpress. There is a reason I use bolt, because it gets out of my way when I am designing. It does the hard part of building a site which is the heavy lifting in terms of the content management (just as a real cms should) and gives me all the flexibility when it comes to what I want to do with that content while providing me the right tools and a simple way to access it. Therefore, my sites have a totally custom feel. Boltcms is the cms for a programmer.\n. I think https://github.com/bolt/bolt/issues/610?source=cc#issuecomment-25370613 is a good proposal. Can we decide on this?\n. I am not in favor of \n- some_other_criteria: some_other_value\nas that would introduce a lot more complexity, but \n- contenttype: entry (could be contenttypes: type1, type2)\n  - slug: slug-one, slug-two\nseem perfectly okay since these are common use cases.\nIf we agree, I can proceed to implement this feature (I actually need it :) )\n. I agree with you bob, implementing your suggestion with the way it works now is tricky. The filter is not context aware. It needs to know which particular menu is being used as well as the actual menu item in order to read the active_if.\nI think we might need to create a completely new filter or extend the current one to allow the passing of a context.\n. Currently the relations are using many to many. What StevenKleist is asking for is strict one to many relationships. So once a record (the many end) has a relation, that record cannot be related to any other record of the same type. \nI think a simple way to do it would be to simply not let that record show up in the dropdown.\n. Just opened another ticket with a similar issue here https://github.com/bolt/bolt/issues/846\n. Judging by his patch, this relates to a different area of the code. Referenced this in mine before I noticed it.\n. Ok, I can't say this is the best way,but this is what I am using\n$this->app->match($config_path, array($this, 'controllerJcartConfigController'));\n//naturally, I made the path configurable\nNow my controller does this\n/**\n * Controller for requests to /bolt/extensions/jcart.\n */\nfunction controllerJcartConfigController()\n{\n    echo json_encode($this->config);\n    exit; \n}\nelse, bolt wraps the content in the usual code.\n. Patch https://github.com/bolt/bolt/pull/848 submitted\n. Can this issue be closed please\n. Duplicate of #198 \n. I'd like to work on this feature. It should give me a good way to learn the internals properly.\nCan I be assigned to it?\n. Thanks guys. I'm already on it. When I send a pull request, I guess we can\ndiscuss it then.\nOn Sat, Jan 25, 2014 at 6:48 PM, Bob den Otter notifications@github.comwrote:\n\nIf you'd like some pointers on how to get started, Just let us know!\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/854#issuecomment-33296512\n.\n\n\nRegards,\nStefan Froelich.\n. Okay, the code for adding the config is done.\nI'm wondering (based on https://github.com/bolt/bolt/issues/854#issuecomment-33297299) if we should add the ability to edit this file from the backend, since that will be an open advocacy?\n->assert('file', '.+')\nmight be a problem though.\n. No error is thrown. I tested it to be sure.\n. if (is_readable($filename)) {\nhandles that alright.\n. I think that makes loads of sense. Keep it simple for theme writers. \nI just tested the code below in BeforeHandler and it works. Should I update and send another pull?\n$this['twig']->addGlobal('users', $this['users']->getUsers());\n    $this['twig']->addGlobal('config', $this['config']);\n    $this['twig']->addGlobal('theme', $this['config']->get('theme'));\n. Sure. I'm hoping to make bigger contributions as I Iearn the internals better!\n. well, I am on a windows machine. It could be that the software I am using\nis not properly untarring it.\nIf I am the only one to complain, then that must be it.\nOn Sat, Jan 25, 2014 at 9:00 PM, Bob den Otter notifications@github.comwrote:\n\nReally? Is that in the .tgz file? When I download bolt_latest.tgz, I see\nthis:\n[image: screen shot 2014-01-25 at 21 59 08]https://f.cloud.github.com/assets/1833361/2002591/a3d0aee6-8603-11e3-8eaf-6c51fcb73e31.png\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/857#issuecomment-33300511\n.\n\n\nRegards,\nStefan Froelich.\n. I saw #610 but didn't pay heed. Today, it came to bite me. I think we really need to implement an official solution for this.\n. That's how I am doing it now actually, what do you think of extending the related method to add an optional parameter?\nrelated('showing-times', '{showing_time > \"now\", relations: {cinema: 4} }')\n. Good then.\nI will work on this as soon as I am able.\nOn Sun, Feb 2, 2014 at 12:50 PM, Bob den Otter notifications@github.comwrote:\n\nThat sounds like a neat solution. I think it will not be useful in a wide\nrange of websites, but the option would be good to have. I'll gladly accept\na pull-request for this. ;-)\n\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/865#issuecomment-33899592\n.\n\n\nRegards,\nStefan Froelich.\n. ",
    "arsenetar": "Enabled Autoescape in the twig options, I did not see any visible issues in the back-end, or  default front-end (with generated content). \n. ",
    "GromNaN": "To mark function output as safe HTML : http://twig.sensiolabs.org/doc/advanced.html#automatic-escaping\n. There is still in extensions.\nhttps://github.com/bobdenotter/bolt/blob/master/app/extensions/Disqus/extension.php#L38\n. My opinion is that bolt extensions should be classes (like Silex Service Providers).\nThen, when you \"load\" an extension, you have to pass the $app.\n. You should remove the last 4 commit:\ngit reset --hard HEAD^4\ngit push -f\nAnd merge the PR using GitHub ;)\n. Why do you allow HTML tags in titles ?\n. ",
    "jadwigo": "config.yml.dist makes more sense.\nThat way the instructions are: \n- Copy config.yml.dist to config.yml in your extension dir and change the appropriate settings in the file.\nInstead of something fuzzy like:\n- Locate the config template in your extension dir and copy it to the global config dir etc.\n. May I propose one of the other options:\nThe extension has built-in sensible defaults.. which means all options should have a default fallback in code if possible. \nThe config.yml.dist works as a template, and is never used/read. It's only there to show the options and be copied. It should also not be modified by anyone but the developer.\nIf there is no writable config.yml possible, the dashboard should complain loudly, but still try to work with the builtin defaults in code.\nThere are some situations where this won't work, for example a google analytics extension that needs a unique id to work. And in that case there are 3 options to get working:\n1. In those cases the extension complains on the dashboard, and does not generate any output and generally does not work, but also does not break the site - which is similar to 5 in Bob's options, but less invasive\n2. The extension could use variables in the global config.yml of the site - which is ugly, and only included here for completeness\n3. The extension could fallback to {extensionname}.yml in the global config directory - which would be writable anyway.\nThe third of those looks cleanest to me.\nSo fixing an error is simple: either copy a config.yml.dist to a writable config.yml in your extension dir, or copy it to a writable {extensionname}.yml in the global config dir.\n(maybe even switch to {extensionname}.yml for local and/or global configuration)\n. I like the basic idea for this.\nBut what will the impact be for stuff like bolt extensions\n. Making all extensions into clean classes could be a plan, but that means that all existing extensions and the extension docs and http://extension-wizard.bolt.cm/ should be rewritten. Which takes time. And I'm always nagging Bob about having up-to-date documentation and extensibility - so any breakage at that point is a priority for me.\nWould existing extensions break?\nIf this change is done now, will building extensions be easier / faster / cleaner?\n(I know, I could setup a test enviroment for this, but I'm not a my dev machine at the moment)\n. Nope.. that still works..\nthe problem is that there are checks for XML, not for JSON or MYOWNOUTPUT\nthe RSS solution is no sufficient\n. for now the simple fix is to do this stuff somewhere in the /async/* route\n. there is this annoying behavior of mysql to default to latin1_swedish for new databases... on most installations\nwhen you have an empty database maybe bolt should try to make the database utf8 before creating tables\nand maybe we should create a script somewhere to update a full db to a desired charset\n. true, but the fact that you're on github means that you know how to fix this manually\nPersonally I've encountered sites where it went wrong (not in bolt... yet), and even a try or die action like this would help prevent a lot of \"my search does not work on special characters\" support questions\nand as stated: this is friday afternoon code, untested and very dirty, it's more of an idea of what might be done and needs a lot of docs and don' t fail if it does not work code\n. This means we have to make sure that on creation of the tables utf8 is set, even if the database has another characterset.\nAlso that our documentation and examples for extensions mention this.\n(If you create a table manually in a database with a latin1 charset and you don't specify utf8 you're in trouble already. And since we don't have a mechanism to automate table creation for extensions yet, manually happens often)\n. is it an idea to replace spaces and transliterate filenames to ascii on upload or import anyway? (I'm a proponent of that since the mess win95's long filenames. Hey look kids, I'm old too)\nfor most situations that will help prevent a lot of problems...\nunfortunately for those other 3% we still need this working reliably\n. \nand from 2 up goes to 2.000000001\nThe relevant content type config is :\n``` yaml\nalbums:\n    name: Albums\n    singular_name: Album\n    fields:\n        title:\n            type: text\n            class: large\n        slug:\n            type: slug\n            uses: title\n        image:\n            type: image\n        weight:\n            type: number\n        description:\n            type: html\n            height: 150px\n```\n. I worked out a specialized case in my photoalbum extension:\nhttps://github.com/jadwigo/bolt-photoalbum\nThe queries to do it at the moment are not really straightforward, and probably need some polishing to become really universal. \nLook in the getRelatedPhotos function for the queries.\n. I know that its not a bug, but it's a poorly implemented feature that should be better - bolt aims to be simple to use and not everyone has his own server with a environment that is under full control (shared hosting mostly)\nthe install instructions indicate that you should chmod some directories to 777, but in this scenario a chown would be needed too, unless bolt can be less \"greedy\"\na few possibilities to fix or mitigate it\n- append the docs for troubleshooting in this situation\n- less locations that need full read write rights\n- fallback scenarios (like the ones for config.yml in extensions)\n- the filsystemchecks and situations where files and dirs are created should workaround access quirks - this last one is hard, because a lot of scenarios are possible\n. I think #202 fixes most of this and the explanation in the docs is improved.\nClosing this so we don't end up with an endless discussion\n. The autocomplete is actually something that I was missing from the array based approach - so I like that\nMoving from $app['foo'] to $app->foo in general: yes please \nIt makes it more readable and codeable for me, because having to switch thinking between arrays an objects within one operation always annoys me - it's like the inconsistent param order in some native php functions.\nAlso $app->foo is two chars shorter\nI think moving the table integrity check outside of storage is also a good idea - it makes storage smaller and gets one of those \"you only do it during development anyway\" tasks out of the daily used codebase\nThe timing - anytime would be nice so 1.2 sounds like a good plan.\n. So we're discussing two issues:\n- moving the db repair out of storage -> seems most people agree\n- changing the code style\nI like the other style, but I don't know what the impact is.\nTo me it only looks like different syntax at the moment, and the changes in the code are not complicated.\nThere is some benefit for autocomplete in IDE's with $app->foo and there is a drawback because the Pimple default is $app['foo'] .. which might be just as unimportant as the benefit, and why are we wasting our time discussing it then? \nIs there another benefit?\nWill there be incompatibilities later?\nWhat's the reason Pimple does DI with $app->['foo'] and is there a structural difference to $app->foo?\nIf there are more benefits and if there are no incompatibilities on the horizon: do it\nOtherwise: don't do it\n. If every release is tagged for packagist it would help.. but even then it's not good to have the instructions for packagist only in readme.md, and not on the docs install page - and vice versa the git and zip install instructions not in the readme but only in the docs.bolt.cm page\nI would vote for all installation instructions on docs.bolt.cm and the readme.md mostly like my proposal\n. please don't hijack old threads .. it's jarring to have a new question in a very old issue.\nIn response to your question\nYou're asking to add a feature for a specific use-case on a very specific extension. Of course it is possible, and I see the practical use in this particular situation, I've had the same situation in many drupal sites.\nBut what you will get here is a workflow that will only get more complicated every time you change anything in your content. Soon you will need redirects for redirects for redirects to some page that probably is something completely different than what you started out with. \nYour site will get really messy soon, and all those redirects will interfere with the current site because a page that was http://example.com/about.html in the old site was renamed to http://example.com/about-us in the new one, and then something like http://example.com/company and after that somebody tries to create http://example.com/about.\nAt that point you try to override a redirect with a new page, and it is almost impossible to find out what will happen, maybe a black hole is created and the whole earth is sucked into it.\nOr your client is wondering why you're always redirected to http://example.com/company when you try to reach http://example.com/about.html and you have to backtrace through all the redirects that are generated automatically to find out what happened.\nTL:DR - you probably do not want to take the support call for the problems that arise from this - so it's probably better to tell the end-users that this is impossible and they have to live with the fact that some pages will not be available anymore after a while.\n. Well, next time, just create a new issue and we'll tag it with a feature request.\nand you can always link to old issues in another issue :)\n. We should at least give a heads up in the docs, maybe even on saving the contenttypes.yml\n. I'm not sure if this is within the scope of bolt\nif you try you can easily build an extension that crashes bolt, but fixing that is the responsibility of the extension developer\n. I happen to know of a similar discussion in another garden https://drupal.org/node/12274\nThat discussion is not resolved in roughly 10 years..\nI vote we close this issue because we'll never get a perfect solution and just keep validation on a \"good enough level for 99.9% of normal use cases\"\n. try RewriteBase / instead of RewriteBase /bolt/\nbut I'm a little rusty on all the different default settings for apache in ubuntu\n. disreagard my previous advice -- you should indeed be redirected to localhost/bolt/bolt/users/edit \nand your actual problem: the 404 you get should not happen\nhave you tried the above\n\n\n+. make sure you gave the right permissions to bolt for all neccessary files and folders\n\n\nif that does not work, you will have to look into your apache errorlogs what exactly is requested, and why it is not getting there\nsometimes the default apache on ubuntu is loaded without the necessary rewrite modules\nin that case sudo a2enmod rewrite on a console should do the trick\n. This should say: \"uploading SVG is not allowed\" until we have a parser that cleans up svg\n. You cannot have two fields that have the same internal name, so you will have to rename one or both:\nanalyse:\n    name: Analyses\n    singular_name: Analyse\n    fields:\n        startdate:\n            label: Starting date\n            type: date\n        enddate:\n            label: Ending date\n            type: date\n. A save button is a primary function .. if you make that a multimodal/functional/optional/dropdown/whatever button you're doing it wrong\nIn other words I'm not a fan of split buttons because they are confusing - they should only be used to group functions or if there really is no space - but that only counts if you are building cheap hardware where every button you add adds 30% manufacturing costs.\nTo me it is similar to a play button on a music player that switches mode to a pause button - it's efficient in terms of used space, but not of cognitive overhead. When you jump into a browser tab that was in the background with a set of controls it's not clear what is goina on if the only way you can see that it is playing is that the play button is changed into a pause button.\nmaybe a better way to say what I mean is: if \"magento does it\" is the only reason to copy it we should go back to the drawing board\n. But please rename it to something more generic.. else we'll end up with extensions named \"chaos tools\" cough-drupal-cough\n. A simple message in the latest activity perhaps\n. I guessed for some languages what would be sensible\n. anything hidden gets an automatic -1 from me\nand wysiwyg for themes is trouble waiting to happen - we do not want to build a complete css/responsive web editor inside of bolt\n. (quoting myself from irc)\nany hidden magic is bad... because then we have to support and document the invisible stuff too\nfor a typical site the usecase is: a designer builds the theme or customizes a theme\nif the theme can be configured with a .yml file that should be easy - because the rest of bolt also does that\ncreating a form interface that does the same is overkill and a waste of our precious manpower at the moment\n. @frostymarvelous just go ahead, we will see your pull request when you have something :)\n. try 7-zip  for untarring... if you're already using it you should check if you set some weird options for the display\n. I also checked the .tgz and compared it to the .zip and I don't see any difference\nIt looks like your archive manager is unable to display the contents of a .tgz correctly\n. I'm checking out the 3 options listed here aand another option that was mentioned in the issues above https://github.com/masterexploder/PHPThumb\nMy superficial gutfeeling after looking at the docs is:\n1. imagine: looks good but has a complicated model for resizing (box and point stuff) most popular on github (stars, forks, commits)\n2. phpimageworkshop: also not bad, has a layers interface which might be complicated, feels a little bit incomplete because the displaying of images is not abstracted\n3. intervention: looks very complete and because it has documented laravel integration the setup in bolt should not be hard, also promising is that they have already thought about caching images http://image.intervention.io/advanced/url\n4. phpthumb: the syntax feels like we're back in 2005, and the domain they use is not working, so the docs are unknown\nbased on this intervention looks the most promising.. next step download them all and look into the code\n. After a quick code review:\n1. imagine: this library loads a lot of dependencies and complexity. It has an extensive set of filters. Supports Metadata, palettes and colour profiles. It is the only one of the four that supports more than just gdlib (it supports imagemagick and gmagick). Tries to be Photoshop. Feels like tw layers of abstraction too many for Bolt This added complexity means there are more classes to keep track of. No builtin cache.\n2. phpimageworkshop: very abstract, everything is a layer and layers are supposed to be good, feels like one step of abstraction too many for Bolt. No builtin cache.\n3. intervention: this library has several looong functions, but they are easily understandable and generally useful. Still looks simple. Has a plugin for caching (did I mention this might be a big point in favour of this library).\n4. phpthumb: this one feels old fashioned, but I don't know why when I look at the code. There is no builtin cache stuff. And the docs are missing because the server is dead.\nIt should be obvious that I would choose intervention\n. @DevonshireCow I think the best way forward would be building an extension for thumbnailing and image manipulation that overrides the default behaviour.\nThe built in thumbnailer is a minimum viable product and works well enough for many use cases, which is what it should be for the core distribution of bolt \n. Actually, it should resolve all your questions - except it being in bolt-core\nPlease try it and comment back with your results :)\n. My first reaction is checking for\n\n$this->status=='published'\n\n. nope.. let me retry this\n. my bad - you're right\nI'll look into this - because the possibility should be there\n. I thought it was cleaner this way, until I got to the details\nhttps://github.com/bolt/bolt/pull/1323\n. @jmschelcher \nThe basic stuff was easy to fix. but the details like matching a username to an emailaddress and repeating code are messy\nThis needs a lot of refactoring to clean the code up. But that is out of scope. (I want a new forms extension that is not called simpleforms, because the extension we have now is not really simple anymore)\nYou can see what I did in the referenced pull request: https://github.com/bolt/bolt/pull/1323\n. there is a solution in https://github.com/bolt/bolt/pull/1323\nit's working, but needs some work for an elegant solution\n. mwah.. lets retry this\n. this looks like a php configuration error... the sqlite library is probably not installed correctly\n. I can't reproduce this in MSIE11 with the MSIE10 compatibility mode. I know this is not a real good way to determine that because the behaviour is not 100% identical to a real MSIE10 but it's close enough.\nWhat version of Bolt are you using? \n(I'm testing it using the master from github, so that will be 1.7 instead of 1.6.x)\n. Do you use apache 2.4 or apache 2.2?\nHave you tried uncommenting the RewriteBase?\nRewriteBase /\n. Cool :)\nSome minor details though:\nIt's best practice to remove the config.yml from the repository and only leave the config.yml.dist.\nAlso do not leave any personal keys in the config, so you should replace your appid with something like 'insert key here'.\nThe config.yml.dist will automatically be copied to a new config.yml file when you enable the extension\nTo be included you should also change your code style a bit.. we use 4 spaces for tabs and no space in $var['key']\n. That looks great.\nI'm not really sure how @bobdenotter usually determines how to add extensions to bolt so we'll have to wait until he's back from vacation for that.\n. We're using flysystem for the filebrowser - and as far as I can find there's no ready made pagination for that.\nThis might be a problem with sites that have a lot of files because the file browser will run out of memory when you have thousands of files.\n. or - have a basic fallback theme (like some of the _sub templates) in 'app/theme_defaults'\n. This is related to https://github.com/bolt/bolt-docs/issues/75\nif your global config.yml allows .mp3 files it is possible to also add them to your file field in contenttypes.yml with something similar to:\nyml\nattachments:\n   type: file\n   label: Upload something\n   extensions: [ gif, jpg, jpeg, png, zip, txt, odt, ods, doc, docx, pdf, epub, xls, xlsx, ppt, pptx, mp3 ]\n. It is a lot of overhead to make a system that keeps tabs on the progress for stuff like creating some tables in a database .. which would become something like the drupal batch api https://api.drupal.org/api/examples/batch_example!batch_example.module/group/batch_example/7\nBuilding something like this would take a lot of resources away at the moment, and then we would have to rewrite all our install scripts to call that api - which in the end will only be used once per site.\nI don't think that this is worth the effort at the moment.\n. Have you looked at https://github.com/jadwigo/TaxonomyList\nIt's an extension that counts the entries associated with a taxonomy term and you can make a template depending on the item count.\n. this is fixed in the current development version\n. and the name and singular_name as well\n. @cdowdy yes, a honeypot is certainly an option\nalso server side validation is something that we'll have to look into, I would like to have it, but @bobdenotter is leaning more towards looking outside our box for external formbuilder things and not reinventing something ourselves.\nAn external library, similar to a rich text editor for html fields, is not a bad idea in itself, because form builders tend to be complicated, feature creepy and dangerous\n- see webforms in drupal which is a consistent UX nightmare and security concern\nunfortunately I don't know an api/editor I would want to use for that yet\n. By the way.. the builtin SimpleForm extension has moved to https://github.com/jadwigo/SimpleForms for bolt 2.0 (because we removed all extensions from core)\n. please lets get rid of it - it would mean we have less documentation to maintain\n. it might be possible to have fallbacks in index.htm, index.html and index.php file that check for the worst case scenario for bolt out of the box - so the setup of the site will still work somehow\n. I'm talking about a default apache server without a .htaccess and a virgin install of bolt that only has a .htaccess.dist in that case a small text or a meta refresh in index.html would do the trick.\nAnd in index.php a message explaining what to do next.\n. I refer to my first post: \"I suppose this also happens with other servers than apache\" because there you might also need another configuration than the default\nSo I think we have the following problem cases:\n- the default .htaccess is broken (because of reasons, really, some hosters disable options that cause 500 errors - example: Options -Indexes is disallowed in your .htaccess on one.com hosting)\n- the default .htaccess is not allowed (because the admin said so)\n- the default .htaccess is not working (because they are using nginx or foo)\n- .htaccess was customized and the site will be broken after an update because the default is restored\n. People who are changing their .htaccess are people who need to do this to get bolt working and because some tutorial or trial-and-error told them so. \nThat does not mean they are aware that upgrading will break their changes again - because for the config files changes will not be overwritten on an upgrade.\nAnd even if they are aware, it's easy to forget and then your site is broken after an upgrade and you don't know what those changes were and you have to go through the whole process again to fix it.\nA .htaccess.dist would mitigate that, but it would add an extra step to the installation for first time installs. If that first step can be automated by something in the index.php (similar to the checks that are done now for creation of users etc.) the setup and upgrade of a new bolt site would be a lot easier and bulletproof\n. we made that mistake in pivotx once where we prepared for a release that never happened (3.0), and are still mopping up the spillage and the fallout\nso that's why I don't want to have a release/1.7 that's never going to happen\nif there still will be updates to 1.6 then lets just use releases/1.6\n. didn't we register some irc channels during boltcamp?\n. this would be great if you can have a field like this\nbody:\n    type: repeater\n    subtypes: [html, aside, responsiveimage, linklist, videoembed, ...]\n    default: html\n    limit: 10\nthis would solve the problem of responsive images in the text, multiple asides and other nice html5 stuff\nthe new campaignmonitor editor would be a nice template for the way it should look in an editor (the drupal way only works for single field subtypes at the moment)\nI don't know how we are going to add this to the datamodel, but it should not be as overengineered as drupal fields, and not serialized like the imagelist is now\n. => tested in version 1.6.10\n. i have no real problems with some extension breakage because it forces us to review all old extensions - which we need to do anyway\n. I can only find one other instance where the $pager and $wherecontent might be used, and that is in app/SetcontentNode.php - and there it's hard to predict what will happen because it is controlled from the twig templates\n. probably... lets check into that tomorrow though\n. I like it,\nbut lets not stop here :)\nthe showvisitorprofile(), settingslist() and the checkvisitor() have partially the same function so we should refactro those to be more uniform and clear about which one does what\n. this should work in 1.6 now\nso yes, this can be merged\n. for things like the filebrowser I would keep the default - this means you can call it without any arguments\nfor addstack it wouldn't matter, as long as there will be no errors/warnings arising from empty arguments\nand omnisearch should handle the default value in the function (ping @xiaohutai )\n. pinging myself for https://github.com/jadwigo/TaxonomyList\n. as many to their owners + a new org for the official / recommended / maintained by core team extensions?\n. I've got a pull request ready for this https://github.com/bolt/bolt/pull/1567\n. just mentioning #1566 because it's related\n. The extension is moved to a (temporary) repository \nhttps://github.com/jadwigo/SimpleForms\nIt can be moved/forked/cloned to the main bolt if needed\n. simple and to the point, havent tested it, but it looks good\nall we need now is some examples of what you can do with it\n. I tried running it with composer.phar install -vvv\nlodewijk@jannie:html$ php composer.phar install -vvv\nReading ./composer.json\nLoading config file ./composer.json\nExecuting command (CWD): git describe --exact-match --tags\nExecuting command (CWD): git branch --no-color --no-abbrev -v\nLoading composer repositories with package information\nDownloading https://api.github.com/repos/rossriley/flysystem\nDownloading https://api.github.com/repos/rossriley/flysystem/contents/composer.json?ref=master\nDownloading https://api.github.com/repos/rossriley/flysystem/commits/master\nDownloading https://api.github.com/repos/rossriley/flysystem/tags?per_page=100\nDownloading https://api.github.com/repos/rossriley/flysystem/git/refs/heads?per_page=100\nReading composer.json of league/flysystem (0.5.3)\nReading /home/lodewijk/.composer/cache/repo/github.com/rossriley/flysystem/4cc7495ae84cc05e8ab2d388dacee93cb724f98a from cache\nImporting tag 0.5.3 (0.5.3.0)\nReading composer.json of league/flysystem (0.5.2)\nReading /home/lodewijk/.composer/cache/repo/github.com/rossriley/flysystem/9b0b94fb10bbe20d68538186896725435dcedd5a from cache\nImporting tag 0.5.2 (0.5.2.0)\nReading composer.json of league/flysystem (0.5.1)\nand a lot  more of those \nthen it starts looking for 0.3.0 and fails for some of them\nReading composer.json of league/flysystem (0.3.0)\nDownloading https://api.github.com/repos/rossriley/flysystem/contents/composer.json?ref=f5d9978f38828cdfa18da5930df7ebc4d30fa1da\nDownloading https://api.github.com/repos/rossriley/flysystem/commits/f5d9978f38828cdfa18da5930df7ebc4d30fa1da\nSkipped tag 0.3.0, no composer file was found\nReading composer.json of league/flysystem (0.2.15)\nDownloading https://api.github.com/repos/rossriley/flysystem/contents/composer.json?ref=fd261fa2950deba75eb53f7a941282f7aba5c72e\nSkipped tag 0.2.15, no composer file was found\nReading composer.json of league/flysystem (0.2.14)\nDownloading https://api.github.com/repos/rossriley/flysystem/contents/composer.json?ref=b6cdd3922fdb4836d4e88afa56980773c3e7c6f6\ngoing on for a long time\nuntil it hits the rate limit\n```\nReading composer.json of league/flysystem (0.2.3)\nDownloading https://api.github.com/repos/rossriley/flysystem/contents/composer.json?ref=073bcbd3af4553ea65af3cf91d1de12795b14711\nDownloading https://api.github.com/repos/rossriley/flysystem/commits/073bcbd3af4553ea65af3cf91d1de12795b14711\nCould not fetch https://api.github.com/repos/rossriley/flysystem/commits/073bcbd3af4553ea65af3cf91d1de12795b14711, enter your GitHub credentials to go over the API rate limit\nThe credentials will be swapped for an OAuth token stored in /home/lodewijk/.composer/auth.json, your password will not be stored\nTo revoke access to this token you can visit https://github.com/settings/applications\nUsername: jadwigo\nPassword:\nDownloading https://api.github.com/authorizations\n```\nand this goes on for a while\nwhere some of the tags are not found again and until it gets to 0.1.0\n. and after a lot of minutes waiting it completes\n. I'm getting a bikeshed feeling here http://en.wikipedia.org/wiki/Parkinson%27s_law_of_triviality\nYes, the visual consistency is important, but endlessly iterating the icons might be a bit pointless\nThere are bigger UI issues in the back-end at the moment, for example the keyboard navigation (tabbing to the submenu's) is not working just to get one of my pet peeves out of the bikeshed\n. we can fight against extensions in the top level menu or we can join them..\n- there will always be some legitimate use case for it - be it a webshop, a CRM or a forum extension\n- and there will always be a lot of bad use cases - like the SEO extension in wordpress that's just adding marketing and affiliate stuff to your menu\nstill I'm in the +1 camp - because you cannot stop stupidity anyway, and if we do not allow it, someone will find a way around it and terrible hacks and bad practices will follow\nwe will just have to tag extensions on the extensions site with \"Adds stupid menu link to your back-end\" or make the back-end menu more configurable for admins (hide link/move link)\n. fight it or join it \n- if we allow all we don't have to fight and are done\n- if we start making exceptions now, we'll have to add stuff later\n- if we deny now we get hacks and workarounds now\n. oh @bobdenotter : you get Bolt\\Commerce .. so who cares about Bolt\\Extensions\\Someone\\Commerce\n. adding https://github.com/bolt/bolt/issues/1879 to this list - extend page drops fatal error when extension directory is not writable\n. Due to some bad experiences in older systems I'm not a fan of hidden warnings and loose variables\nPivotX quickly became undebuggable due to logs with hundreds of warnings\nSome drupal sites are also unworkable because the errorlog is full of useless noise\nSo only if I'm allowed to LART each and every developer who programs core and extensions with warnings off then I might be okay with hiding warnings by default, otherwise please leave it strict.\n. If it's a new text style I would vote for inline-html .. because it will not be titles only\nAt the moment a title of a html document (in the <head>) cannot have any inline styles because browsers won't read that - only titles in the document body (headings <h1-6> or <title> tags) might have inline html.\nIf we have inline html in the head it should be cleaned by doing {{ record.title|striptags }} in the template.\n. Hi Lexislav\nThank you for your feedback.\nRegarding your first point you are right that the gap is big. AlsPartly that is because that space is reserved for the progress bars when a file is uploaded.\nThe HTML code for that part of the code uses a fieldset and the postfix is added after that, if we want to change that the layout would become a lot more complex for all responsive layouts. At the moment we do not have plans to change this, but I agree that this can be improved a lot.\nThe second question .. You can click on the \"Entries\" label or on \"View Entries\" to get back to the overview for all items. You can also use the search box in the top of the page to jump directly to any entry you can find by just typing in a keyword.\nA clean working solution for next and previous is hard to do, because it has to respect the sorting and filtering you have used. We have not had time to work on that and adding persistent sorting behavior is a low priority at the moment.\nYou third question has the same response, we have not had time to work on bulk-editing features other than the delete function yet. So changing categories, adding tags etc. is not possible yet.\nThe point I am trying to make is that all the features you propose are valid, but unfortunately we do not have the manpower and time to implement them immediately. At the moment we have a feature freeze until version 2.0 is ready and after that we will gladly work on features like this, or accept any code that addresses these features.\nI will close this issue for now, and after we have released 2.0 we will take these features into account for further development.\n. much rejoicing\n. @horus68 means it should be:\n<source>Passwords must match.</source>\n<target>Slapta\u017eod\u017eiai nesutampa.</target>\nThe <source> probably needs to be the original english text. that would make that special 'alt text' case even weirder?. ",
    "mattiaslundback": "Didn\u00b4t work, unfortunately. The CDATA seems to be a problem, at least for me. And the trimText function removes the http-part of the address, which makes Google Reader interpret the links as relative. Have managed to get it working now, though. Probably not correct in every way, but it seems to work.\n``` php\n   public function rss_safe($field = '', $excerptLength = 0)\n    {\n        if (array_key_exists($field, $this->values)){\n            if ($this->fieldtype($field) == 'html'){\n                $value = $this->values[$field];\n                // Completely remove style and script blocks\n                // Remove script tags\n                $value = preg_replace('/)<[^<])<\\/script>/i', '', $value);\n                // Remove style tags\n                $value = preg_replace('/)<[^<])<\\/style>/i', '', $value);\n                // Strip other tags\n                // How about 'blockquote'?\n                $allowedTags = array('a', 'br', 'hr', 'h1', 'h2', 'h3', 'h4', 'p', 'strong', 'em', 'u', 'strike');\n                $value = strip_tags($value, '<' . implode('><', $allowedTags) . '>');\n                $result = htmlspecialchars($value, ENT_COMPAT | ENT_XML1, 'UTF-8', false);\n            if ($excerptLength > 0){\n                $result = trimText($result, $excerptLength);\n            $result = str_replace('href=&quot;', 'href=&quot;http://', $result);\n            }\n            return ' ' . $result . ' ';\n        }\n        else {\n            return $this->values[$field];\n        }\n    }\n    return \"\";\n}\n\n```\n. It\u00b4s probably better to keep the CDATA, if it\u00b4s possible. Foreign characters could otherwise still cause problem in some RSS-readers. So I'm also voting for hansfn's version.\n. Thanks. I managed to fix it myself, so its quite easy to correct. But I just wanted you to know.\nThe last part is about the description in the channel-part of the feed (not the item). If the blog description is not defined (I don\u00b4t think it is by default) the field will be left blank and the feed will not validate.\nMattias\nFrom: bobdenotter \nSent: Saturday, February 16, 2013 4:21 PM\nTo: bobdenotter/bolt \nCc: mattiaslundback \nSubject: Re: [bolt] RSS-extension again (#188)\nIn a few minutes i'm going to commit a fix for the 'cdata' and 'guid' issues. Whether or not the 'teaser' should be used is up to the user, i guess. To me it would seem logical to include a teaser or introduction, and for full feeds also a body. \nHowever, since people can change their contenttypes how they like, we can't really say for sure how somebody needs it. Perhaps @pvankouteren has an opinion on this? \nWhat did you mean with the last part?\nAnd I think the configuration should have a default blog_description, otherwise the feed will not validate properly.\n\u2014\nReply to this email directly or view it on GitHub. \n. Now, after the changes, it's ok as far as I can tell. An alternative to having html in description is using content:encoded, but then the namespace has to be defined in the header. Not sure what is the prevailing standard.\nAn Atom-version would of course also be welcome, but it\u00b4s not an acute thing at this time. \n. It works for very short feeds, but breaks for longer feeds (about 500 char). If that info is of any help.\n. The HTML is below. The results are different depending on how the limits are set for lenght and number of items. The result above was, I think, for about 500 char. For shorter feeds than 400 and only one item the feed is OK.\nNothing strange about the HTML I think, it just seems to be too much to handle for htmLawed. If the memory use error code is correct (Allowed memory size of 268435456 bytes exhausted) it seems to be way to much for this kind of task.\nMattias\n<p>Precis tillbaka fr\u00e5n <em>Timbro </em>d\u00e4r min forskarkollega <em>Anders Lundberg</em> presenterade sin rapport \"<em>Skandalen Nya Karolinska</em>\". Seminariet g\u00e5r att se nedan.&nbsp;Det \u00e4r en intressant och v\u00e4lunderbyggd rapport som redan har v\u00e5llat debatt.</p><p>Tycker det blev en intressant och saklig diskussion mellan <em>Anders Lundberg,</em> forskaren <em>Bj\u00f6rn Hasselgren</em> och landstingsdirekt\u00f6ren <em>Toivo Heinso</em>. <em>Offentlig privat samverkan</em> (PFI), som det heter, \u00e4r en intressant l\u00f6sning inf\u00f6r framtiden och de lite negativa erfarenheterna fr\u00e5n <em>\nNya Karolinska</em> beh\u00f6ver f\u00f6rst\u00e5s inte betyda att modellen \u00e4r utesluten fram\u00f6ver. Dock \u00e4r det f\u00f6rst\u00e5s viktigt att nu - precis som man gjort i <em>Storbritannien </em>- ta nya tag och fundera \u00f6ver vilka villkor som ska vara uppfyllda f\u00f6r att modellen ska komma i fr\u00e5ga.</p><p>Det mest intressanta inl\u00e4gget fr\u00e5n publiken tycker jag kom fr\u00e5n <em>Arne Bj\u00f6rnberg</em> fr\u00e5n <em>Health Consumer Powerhouse</em> som pekade p\u00e5 att man m\u00e5ste ha ett rimligt pris f\u00f6r de v\u00e5rdinsatser som genomf\u00f6rs. \nMycket talar ju f\u00f6r att produktionen p\u00e5 <em>Nya Karolinska</em> kommer att bli dyrare \u00e4n normalt och det \u00e4r h\u00f6gst tveksamt om en s\u00e5dan investering hade g\u00e5tt att r\u00e4kna hem om man ser till den v\u00e5rdproduktion som man v\u00e4ntar sig f\u00e5 ut av sjukhuset.&nbsp;</p>\n<p><a target=\"_blank\" href=\"http://www.dn.se/debatt/nya-lakemedel-ger-hopp-i-kampen-mot-tuberkulos\">DN</a>&nbsp;<a target=\"_blank\" href=\"http://www.svd.se/opinion/brannpunkt/valfrihet-hjalper-inte-infor-doden_8024276.svd\">SvD</a>&nbsp;<a target=\"_blank\" href=\"http://sverigesradio.se/sida/gruppsida.aspx?programid=83&amp;grupp=10974&amp;artikel=5478258\">SR</a>&nbsp;<a target=\"_blank\" href=\"http://www.aftonbladet.se/ledare/ledarkronika/evafranchell/article16486529.ab\">AB1</a> <a target=\"_blank\" href=\"http://www.aftonbladet.se/ledare/ledarkronika/ingvarpersson/article16468074.ab\">AB2</a>&nbsp;<a target=\"_blank\" href=\"http://www.aftonbladet.se/ledare/ledarkronika/evafranchell/article16455257.ab\">AB3</a>&nbsp;</p>'''\n. Just a question. Is it necessary to call trimtext at all if you publish the feed as it is, or can I skip this part in content.php? Thought I'd make a quick fix until the trimtext part works.\n. Ok, thanks. It seems to work without trimtext.\n. Don't want to be rude, but I think this issue should be opened again. One has to be rather proficient in programming to understand that the two-step verification process is behind the error; especielly when you just get a GAPI-error. At first I had no clue at all that this was the problem. Most users would probably not even get that far.\nUnfortunately I don't have a good solution, but as I think as more people are switching to two step verification after the Adobe hack, there should be some information about this problem in the configuration file. If it can't be solved some way.\nMattias\n. Yes, you can follow the link to create an application specific password; bypassing the two step verification process. It works. It may not be very straightforward. But I guess it\u015b the only possible way, since you can't use your mobile phone every time you log in on a new computer.\nI am not sure whether it\u015b possible to use the two step verification process with just one step if the computer is already verified. Should also be possible, but probably technically complicated.\nThe third way would perhaps be to have a very explicit error message and a link to google's page about application-specific one step verification. \nBut even the first option would be of great help, I think. Just so users don't think there is an error in the CMS.\n. Thank you very much. Difficult to judge if its a only a problem with my \nsetup. But this time i guessed correctly.\nKind regards,\nMattias\n2014-02-22 12:37, Bob den Otter skrev:\n\nWell, looks like you're right! I'll prepare an 1.5.1 release, which \nfixes that.. Will let you know when it's up!\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/bolt/bolt/issues/929#issuecomment-35800615.Web \nBug from \nhttps://github.com/notifications/beacon/3066568__eyJzY29wZSI6Ik5ld3NpZXM6QmVhY29uIiwiZXhwaXJlcyI6MTcwODYwMTgyMywiZGF0YSI6eyJpZCI6MjYyMjk4Nzl9fQ==--3a1e202f355cceac596176c43bc87031e3d27220.gif\n. Yes, it is ok now. Thank you very much.\n\nMattias\n2014-02-22 12:59, Bob den Otter skrev:\n\nI've just put up a new distribution here: http://bolt.cm/distribution\nThis should fix the problem for you, hopefully! My apologies for the \ninconvenience :-)\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/bolt/bolt/issues/929#issuecomment-35800966.Web \nBug from \nhttps://github.com/notifications/beacon/3066568__eyJzY29wZSI6Ik5ld3NpZXM6QmVhY29uIiwiZXhwaXJlcyI6MTcwODYwMzE4OCwiZGF0YSI6eyJpZCI6MjYyMjk4Nzl9fQ==--45ad7a2b01ec50439b1a482127d3eec0e1fe5ddc.gif\n. I'll try that. Thanks.\n\nMattias\n2014-03-02 11:43, Bob den Otter skrev:\n\nI believe that it only does this when you limit the length. If you \nhave the entire introduction/body in the feed, the links are kept \nintact as well. To do this, just set 'content_lengt' to 0.\nentries:\n     enabled:  false\n     feed_records:  1\n     feed_template:  rss.twig\n     content_length:  0\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/bolt/bolt/issues/959#issuecomment-36451066.Web \nBug from \nhttps://github.com/notifications/beacon/3066568__eyJzY29wZSI6Ik5ld3NpZXM6QmVhY29uIiwiZXhwaXJlcyI6MTcwOTM3NjE5MiwiZGF0YSI6eyJpZCI6MjY3NDQ2NjJ9fQ==--f902822cd734b9ad53d8b874f8f38245f860afbf.gif\n. I get this error message on latest activity in dashboard:\n\n/Couldn't initialize @eaDir: 'extension.php' doesn't exist////(//om \nn\u00e5gra sekunder//)/\nIt probably also explains why the RSS-feed doesn't include the links.\nI use https in the backend and the latest version of Bolt 1.5.1\nThis might be something else than an error in the RSS-extension.\nMattias\n. -----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA1\nIt seems as if it always strips the links. I've set the length to 0\nnow and it still removes all links from the output.\nMattias\n2014-03-02 11:43, Bob den Otter skrev:\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1.4.14 (GNU/Linux)\nComment: Using GnuPG with Thunderbird - http://www.enigmail.net/\niQEcBAEBAgAGBQJTG3U6AAoJEPMKGGXTAUq+o+AH/jn8bxn1fXpxRyx/qyOLkF07\nv/uuNPT0jCHtPQ0NvAm3mtm1sAx8eoj6gylVBmbwrL1sZjwtzErdaPVV/IacqZXo\non7ecel6PhEkzA1jDlP33tYxMcNeVHbeeBzdr0+aq+WOQ+TW/9GMBBUTkgbvQe6A\nFPKQ61nwvejg7HLHDMXSlbj1+sYwMl0GbgkguumiKzOuYktNOgL9tfoNKugETVTn\nh8qwZlXZ2HVrlBaHbqr4E3KtG0gfTlK+NBuTHND2icyQDR1FDQi+ezhcpvziqTTo\ncUxKGHzzUIwfeJYGB5vHMw7DFRN3Gvk7yyoNnFPATNS0EZXp98yhxRt/58iyV+Q=\n=ll1w\n-----END PGP SIGNATURE-----\n. This error (similar one) oocurs not only in View/Install extensions. But it does seem to be related to translations somehow. Anyway, it prevents med from running Bolt 2.0 at all. Had to uninstall and go back. Sorry, I didn\u00b4\u00b4t do a screendump, but it was late and I had to fix it.\n. It was the packaged beta.\nMattias\n\n24 okt 2014 kl. 12:35 skrev Bob den Otter notifications@github.com:\nDid some testing, i'm pretty sure it's fixed. https://github.com/gwbonline @gwbonline\nand https://github.com/mattiaslundback @mattiaslundback\n: Are you a version from git, or on the packaged beta? we'll release an updated package.\n\u2014\nReply to this email directly or https://github.com/bolt/bolt/issues/1935#issuecomment-60370884 view it on GitHub\n. https://github.com/notifications/beacon/AC7KyNV49uRz6PzuDR7Tt7Oxcky-klTOks5nGiMFgaJpZM4CxD2x.gif\n. I'm using 1.6.13 and RSS feed-extension. I also think the solution is to add attributes, but I haven\u00b4t managed to make it work yet. But I'm probably missing something, not an expert in .php.\n. Thank you so much. It works perfectly now.\n. I have never used the log, unfortunately. Its an Apache server on a Synology and I have never been into the file system other than via the regular interface. Not even sure about how to access the log. But I could try the next beta and see if it is ok.\n\nTried to fix the file-permissions, if that might be the problem. But that didn't help.\nIt looks just like when execution of a .php-file is terminated due to some error, e g a blank page.\n. I could try. But it was a clean install, so I'm not sure there were any extensions. I'll get back if the error repeats itself on the next beta-version. \n. I will try to learn how to do that. I also suspected file permissions. Is it safe to set them all to 777?\n. Thank you very much. I'll try them. And sorry for ringing the alarm. It is probably something wrong with my settings. But I'll get back when I have tested again.\n. Ah, that's nice. Do I just replace the three files? Oh, now I saw about the release. Then I just wait.\n. This happens to start with. I have more, but it might be a first clue.\nWhoops \\ Exception \\ ErrorException (E_WARNING)\nfile_get_contents(https://getcomposer.org/composer.phar): failed to open stream: No route to host\n/volume1/web/vendor/eviweb/composer-wrapper/src/evidev/composer/Wrapper.php\n```\n            is_readable($this->composer) &&\n            filesize($this->composer)) {\n            return true;\n        }\n    $this->pharLoaded = true;\n\n    $phar = file_get_contents(static::PHAR_URL);\n    if ($phar === false) {\n            trigger_error(\n\n```\n. The path to the file that breaks is: /volume1/web/vendor/eviweb/composer-wrapper/src/evidev/composer/Wrapper.php line 91. Not sure if this is related to the other error. This error only occurs the first time, after that is is like before - only a blank page.\nAnd I forgot to mention, this is the new beta.\n. Thanks a lot. Also forgot to mention that I did the first run of Bolt disconnected from the net (from a computer on the internal network) and when the first user was created I connected the server to Internet. So I guess that at the time when this connection was needed the computer could not get out. But even when I connected the computer to the net the problem remained. So Bolt can have saved some variable that block access even when the net was available later on. \nI have no outbound firewalls installed. Inbound most ports are blocked, but not e g 443 and 80.\n. I randomly, but most of the time, get this error when installing extensions \n\"Package bolt/rssfeed not found\"\nNot sure if its related to this bug. I also have problems installing my own extensions Autolink. But that might be that I\u00b4ve done something wrong when uploading it to extensions.bolt.cm. Tried to do exactly like RSS aggregator. Aggregator sometimes refuse to install, but sometimes not. But Autolink I have never got to work in Bolt 2.0.\n. I can only do it for Autolink at the time\n\u2026 str(47) => I am being called from: twigAutolink_aggregator\nThat seems ok. But I guess, if there is an error, that it must occur when initialization takes place. It is not only Autolink and RSS Aggregator I discovered, but also Twitterbutton, RSS feed and Twitterfeed.\nThe error-code is this. \n[command/12:46:28] > composer show -N -i 'bolt/twitterbutton' 'dev-master' -d /volume1/web/extensions -n --no-ansi\n[error/12:46:28] \n[InvalidArgumentException] \nPackage bolt/twitterbutton not found \n. Yes, they show up. But as \"not yet installed\". I will get back with a screenshot.\n. Thanks. I'll try that.\n. \nThis is a typical result. Since I cleared the extensions directory no extension will load at all. But they usually come back after a while. But some of them can never exist at the same time.\n. \nThis is also showing up - without exception. But then, after a while, some of the extensions load anyway. But the version number in this case is between 1.6.3 and 3.0.0 so it can't be the actual problem.\n. I've actually found a way to install the extensions. I first install a random extension like Facebook like and then the extension that I really want. When I delete Facebooklike, the other extension installs. Then I can repeat this procedure, i e installing Facebook like, a new extension and then deleting Facebook like. So I found a systematic behaviour in it. The procedure is a little strange, but it works.\n. I don't know yet. Personally I have no problem since I found a way around it, but I can check in the next beta if the problem remains. Those who know more about what caused it might be able to tell already.\n. Its a lot of code, but there is a \"whoops\" in the bottom part. Does it give any clue?:\n```\n    \n  <div class=\"stack-container\">\n    <div class=\"frames-container cf \">\n        <div class=\"frame active\" id=\"frame-line-0\">\n  <div class=\"frame-method-info\">\n    <span class=\"frame-index\">0.</span>\n    <span class=\"frame-class\"></span>\n    <span class=\"frame-function\"></span>\n  </div>\n\n<span class=\"frame-file\">\n  \u2026/&shy;src/&shy;TwigExtension.php<!--\n\n-->663\n\n\n\n\n\n\n\n                  Whoops \\                        Exception \\                        ErrorException\n(E_ERROR)\n\nWhoops\\Exception\\ErrorException thrown with message \"Call to undefined function Bolt\\fnmatch()\"\nStacktrace:\n0  in /volume1/web/src/TwigExtension.php:663\n\n\n\n    Call to undefined function Bolt\\fnmatch()  \n\n\n\n\n\n/volume1/web/src/TwigExtension.php\n\n \n            if (in_array($file, $ignored) || substr($file, 0, 2) == \"._\") {\n                continue;\n            }\n        if (is_file($foldername . &quot;/&quot; . $file) &amp;&amp; is_readable($foldername . &quot;/&quot; . $file)) {\n\n            if (!empty($filter) &amp;&amp; !fnmatch($filter, $file)) {\n                continue;\n            }</pre>\n\n            <div class=\"frame-comments empty\">\n              </div>\n\n  </div>\n\n\n```\n. I think the server is rather much a standard configuration. It's just an ordinary Synology webserver with Apache 5.5.16. But I can try to check if it's POSIX-compliant. Have never heard about this term, however.\n. Found this:\nhttp://forum.synology.com/enu/viewtopic.php?f=7&t=88368\n. Yes, you\u00b4re right. Thought it was set in stone. Thanks.\nhttp://docs.ckeditor.com/#!/api/CKEDITOR.config\n. Yes, it's not a issue at this time. I have to figure out how to do it myself. But some examples in the documentation of how to change the editor in the documentation might be useful when you or someone else get some time over. \n. ",
    "franz-josef-kaiser": "Something like packagist would be nice...\n. I'll leave it open as well as a reminder to give Bolt a test run :)\n. @bobdenotter Could you point me at the importer script/file? I got some WP importers for other systems laying around and maybe one of them is close enough so that I can at least link it as reference for others who want to jump in on cleaning it up.\n. ",
    "ghost": "erm... data-url-attribute must be \"{{ paths.app }}classes/upload/\" instead of \" app/classes/upload/\n. I found a solution: https://accounts.google.com/DisplayUnlockCaptcha\nPlease add a comment in config file. Thanks\n. I still do not know what the problem is.\n\n\n\nAny suggestions? \nThanks in advance for your trouble.\n. \n\nI'm sorry that I'm a little talkative but my English is very low\n. No, it should be 15 wrzesie\u0144 2013\nI have the set locale: pl_PL\n\nThe module is called who have to install?\n. It's a linux server. I do not have remote access to host via ssh :( \nI manage it by cPanel. demo: https://az0067.srv.az.pl:2083/frontend/x3/index.html\n. I wrote to my hosting support to run: locale -a\n...\npl_PL\npl_PL.iso88592\npl_PL.utf8\n...\nand i changed locale to:\nlocale: pl_PL.utf8\n\nIt works :) Problem is solved. Thanks for help.\n. {% setcontent records = 'strony/latest/4' where { hide: 'off' } allowpaging %}\nProblem is solved.\n. An example:\ni have some tv series, entered as an content-type, with some information about it. Next i add a content-type for the episodes and fill it with the actual story course.\nThe relation of the content-type 'episodes' to 'series' is marked as multiple, so when i edit them, in series i can select multiple episodes, in episodes i can select a single series. So, when i edit an other series, i don't wan't the already assigned episodes selectable, because there assigned to the earlier series.\nsql\nSELECT * FROM `bolt_episodes` \n  WHERE `bolt_episodes`.`id` NOT IN `bolt_relations`.`to_id`\n  OR `bolt_episodes`.`id` NOT IN `bolt_relations`.`from_id`\n...as a foolish example.\n. What about Propel2? It already have a Silex service provider, and uses a schema.xml, which could replace the contenttypes.yml and use instead Propel behaviors for content types.\n. Yeah, not a bad idea @marcj. Another advantage is that some requested behaviors for content, e.g. Sortable are already built for Propel, they also have version and state (publishing) behaviors.\n. But any way to at least disable this? It has been impossible to develop and test with this exception.\n. Maybe for now you should revert the PR #713 ? \n. I updated with your commit and I'm still getting the error sometimes. But I don't need to restart PHP anymore, a refresh works. But the problem is not fully solved yet.\n. Well, I reloaded my virtual machine and I did some more tests, now I can't reproduce it anymore, it seems is solved.  If I see this error again I will provide more details on how to reproduce. Thanks for the fix. \n. Sorry, duplicated of #716.\n. The server was running eAccelerator for PHP.\nTurned off and everything works.\n. Cripes! I'd looked and looked and still hadn't found it. Thanks for taking the time.\n\nOn Apr 26, 2014, at 8:29 AM, Bob den Otter notifications@github.com wrote:\nYou can both add more images in the contenttype, as well as add images directly into the editor. Check the settings in app/config/config.yml:\nwysiwyg:\n  images: true\n  anchor: false\n  tables: true\n  fontcolor: false\n  align: false\n  subsuper: false\n  embed: true\nYou can add images with this button: \n\u2014\nReply to this email directly or view it on GitHub.\n. I'm using 1.6.1, and fixed it manually, thank you ! ;-)\n. \n",
    "jtreminio": "You were calling $this->config before actually setting it.\nAlso, PHPUnit is in packagist, should require-dev it in composer!\n. A few reasons for wanting to put PHPUnit into Composer:\n- Keeps all developers on the same version; keeping PHPUnit system installs on the same version is a hassle\n- Not everyone has access to PEAR\n- Updating the unit tests to use new PHPUnit assertions is easy if you require-dev PHPUnit, as all developers can easily upgrade\n- Older versions of PHPUnit, which many developers may have installed on system, will not have some popular new features, like getMockBuilder()\n- Future-proof your unit tests, keeping up to date with releases as they come out\n- If you could do this with PHP, you would!\n. Accidentally posted this to wrong issue:\nHi @bobdenotter - imho what's needed is an install script, or at least a requirements checker.\nIt took me a few tries to get Bolt up and running in my VM... and I'm a developer!\nA page that checks required PHP version and required modules (like cURL) would be perfect.\nThoughts?\n. curl wasn't installed on the VM I setup for Bolt, got a page of exceptions which makes sense but is not as user friendly as it could be.\nSomething like what Kohana has would be simple and effective enough, imo:\nhttps://jtreminio.com/assets/posts/2012-03-14_getting-started-with-kohana-3-part-i/kohana.install.png\n. @bobdenotter yes it should my bad.\n. ",
    "mablae": "Not a Bug. \nEvery webapp has to get proper file permissions. That is documented in the Setup Section of Bolt. \nHow should Bolt.cm fix this, @jadwigo ?\n. I did not touch the added CSS lines... But since we are able to load contentsCss now, we should externalize these changes like you proposed. :+1: \n. Great improvement!\n. For me disabling APC did the trick. Works fine without APC. No code changed.\n. Not an error in first place here. Close. Good n8\n. Sorry, that was a Mistake. Everything is fine with ImageList :)\n. @richardhinkamp It is just an built-in options for people not using kcfinder. \nYou can still use kcfinder as before. Just change the URL in config to your kcfinder one. \n@bobdenotter Yes multiple option would be fine. And pagination is also missing. I'll do some work on this and commit new PR.\n. @bobdenotter It is not really an AJAX call. Response is also text/html. Because of this I thought Backend.php was the right place :smile: \n. Because it was a copied default template. We don't need to set default values like -names: '*.php'\nBtw, the *.php also was wrong, it needs quotes... \n. If your are already on the Scruntinizer stuff, that's fine. I just wanted to get it to work. :-) I'll update this PR now.. :)\n. @pvankouteren Okay, pushed\n. Here we can parse the new wsiywg.ck config array right to ckEditor config\n. ",
    "magabriel": "The problem (and its solutions, by the way) is well documented in the Symfony documentation:\nhttp://symfony.com/doc/current/book/installation.html#configuration-and-setup\nMay be Bolt could have something similar in its install and setup documentation.\n. Further findings: \nBolt is using Doctrine DBAL 2.3.*, and it seems the missing method has being implemented in current master: \nhttps://github.com/doctrine/dbal/commit/38bd06935a6e596a61a15cdf34f576d9a952ac09 \nhttp://www.doctrine-project.org/jira/browse/DBAL-370\nSo perhaps Bolt dev/master should switch to DBAL 2.4 beta now.\n. That's indeed a better solution. I just tried and it works like a charm. Thanks!!!\n. Yeah, I did not think on the \"no javascript\" issue... And it seems a legit use case, as long as the rest of the site do work without javascript (the reason for the removal was in fact that the javascript call would overwrite it)\nSo it ts better to discard this PR and let the label be. Thx!\n. Closing because I'm working on a wider PR.\n. Sorry, guys. I'm the author of this extension and I'm aware of the need to upgrade the code, but I have been unable to find the time to fix it. Hopefully late this week!!\n. @revollat, No worry, I'm going to integrate your PR real soon. \n. ",
    "WilliamVercken": "Hi,\nI have a good reason to use MySQL without a password : sometimes, we don't have the choice !\nI use a cloud hosting service, Gandi Simple Hosting, that provide me a securised access to my database with host : \"localhost\" / user : \"root\" / password : \"\". And I can't change it !\nI just discovered Bolt, and I wanted to install it for testing, and... I can't. :)\nEven with my local Wamp, I don't have any password (just the same localhost / root / ...), and I can't test this CMS...\nCan you do something for people like me ? :)\n. No I can't, I only have MySQL, pgSQL and MongoDB. ( https://www.gandi.net/hebergement/simple?language=php )\nEven if I had the choice, all my website on this server are on MySQL.\nI understand I can be a problem to not have password for the database, but in my case it is not, and I just want to have the choice... I wanted to test Bold without changing my configs. It not about \"promoting bad practice\". ( https://github.com/bolt/bolt/issues/262#issuecomment-15292383 ) :)\n. I've bumped into this once or twice as well. Although, mostly with \"news\" or \"media\".. I've never tried to create a contenttype for \"sheep\". ;-)\n@bobdenotter : how did you manage to solve this problem ?\nI want to name my \"News Item\" -> News, because I want the path to be : foo.com/news/title-news-slug (for the SEO, \"newsitem\" is not very clean...)\nBut when I go to foo.com/news, I have an error page.\nAnd there is another problem : we don't have any hand on the \"plural_name\". (or maybe yes and I didn't see it yet ! :) ). And for some words in french :\nIn english : animal -> animals.\nIn french : animal -> animaux (journal -> journaux, cheval (horse) -> chevaux...)\nIs there a way to fix theses two problems ?\n. Oh, I didn't know that ! Great !\nI always think that we should have the choice to use MySql without a password (so I will not close this issue :p ), but for now I will test it without using any database system, thank you very much @gawainlynch for the information !!  :+1:\n. Yeah... So you didn't solved the issue and you instead of listening to your users, you prefer tell them what to do because \"this is stupid\". (Every others CMS are stupid, by the way.) Ok, nevermind. I think a simple warning message was enough to explain people why you think we should have database password. \nI hope you'll change your mind one day, your project is promising. \n. ",
    "tobias2k": "Hi,\nDoes your PHP install support SQLite? If so, you could try that.\nOn Sun, Jan 19, 2014 at 11:25:28AM -0800, William Vercken de Vreuschmen wrote:\n\nHi,\nI have a good reason to use MySQL without a password : sometimes, we don't have the choice !\nI use a cloud hosting service, Gandi Simple Hosting, that provide me a securised access to my database with host : \"localhost\" / user : \"root\" / password : \"\".\nI just discovered Bolt, and I wanted to install it for testing, and... I can't. :)\nEven with my local Wamp, I don't have any password (just the same localhost / root / ...), and I can't test this CMS...\nCan you do something for people like me ? :)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/184#issuecomment-32717195\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Might want to add that there is more than one way to do multi-language, and because it's a multi-faceted beast by its very nature, there is no single correct solution to this. You have to decide, per project, how you want to structure your content in order to facilitate this. A few crucial questions you might ask yourself in this process are \"Do I need to reference pages across languages?\", \"Do I need translation (languages), localization (countries/cultures), or both, and how do I want to connect them?\", \"Do I split first by language/culture and then by content node, or the other way around?\", \"How do I track a visitor's language and culture? Do I want to remember? Auto-detect? Guess?\", \"Do I need to use different data structures for different cultures (address fields, names, bureaucratic things...)?\", etc.\nNone of these have easy answers, they're all a matter of weighing concerns and finding the sweet spot between pragmatism and correctness. If we want to do internationalization, we would have to support a wide range of answers for any of these questions, otherwise we'd be limiting users too much; or we could have a generic infrastructure and useful bits and pieces that people could use to build their own i18n support. IMO, we are almost there for the second approach - we have a powerful framework in place, and we have a bunch of bits and pieces laying around, such as snippet translations etc. I feel that by adding just a few more bits (probably in the form of extensions; stuff like tracking a user's selected language, reading accept-language headers, IP geolocation, parsing languages from a URL, tagging and selecting content with languages, that kind of thing), streamlining the existing ones to work together flawlessly, and providing more documentation (like a \"I18n how-to for Bolt\"), we could pretty much solve the problem without touching too much of Bolt's fundamentals, and without prescribing how you should solve your problems.\n. Simple solution: Full-page postback, redirect to editcontent/id instead of overview. Caveat: need to drag scroll position around to avoid disrupting the editing flow on page load.\n. The tidy setting seems to have been in place since at least 2013-31-01, but I recently started using htmLawed for more things; specifically, fields of type 'markdown' are now run through htmLawed after expanding the markdown, to prevent XSS attacks (markdown is defined as a superset of HTML, so any valid HTML is by definition passed through unchanged). IMO, the sanest value for the tidy option would be -1 (compact), I'll run some tests to see how that works out.\n. By design. Sort of.\nString contents are escaped (json-encoded, actually) to make string constants unambiguous; this will allow us to parse changelog entries back out later, should the need arise. Without the escaping, we could end up with strings like this:\ntext: \"foobar \" -> \" -> \" baz\"\nBy comparison, the following is unambiguous:\ntext: \"foobar \\\" -> \" -> \" baz\"\nJSON-encoding also allows us to store things in the changelog that are not strings, e.g. NULL values, numbers, and booleans. For some reason, PHP's json_encode implementation decides to also escape forward slashes, which is legal but unnecessary.\n. Alright, fixed in 75690c9 e.a.\nI have completely rewritten the storage mechanism for the changelog diff; it is now one JSON blob which is easy to parse back out, and the template renders it as a nice little table instead of a raw dump of the blob.\n. Hmm, that should be TEXT... I'll look into it.\n. Correct; these things are not stored in the content tables themselves, so the content changelogger doesn't \"see\" them.\n. What if both the status and some other field change?\n. Fair enough; in that case, we could even do the transformation\non-the-fly, based on the diff contents...\nOn Wed, Oct 30, 2013 at 08:04:57AM -0700, bobdenotter wrote:\n\nIf you publish an item, and change the title at the same time, I still think changing the status is most important.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/655#issuecomment-27396851\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Code now does this on the fly; if the status was changed and the logging action is \"UPDATE\", the listings will report it appropriately (put on hold, published, etc.) instead of just saying \"changed\".\n. Let me just throw in that HTML/CSS were originally designed for\ndocuments, not user interfaces.\nAs long as you are using HTML to write rich-text documents, semantic\nHTML with CSS is perfectly appropriate - a  is a paragraph, a\n is a section, etc., and you can style them as such, and stuff\nwill make sense. But with a GUI, the document approach doesn't work too\nwell; you need to do stuff that doesn't fit the document model,\nconceptually speaking, and what makes sense in a document doesn't make\nsense in a GUI.\nHence, compromise. Semantic is great, and for those parts of a website\nthat are documents, it's a great thing to strive for, but for the parts\nthat are GUI elements, it doesn't usually work so well.\nOn Thu, Nov 21, 2013 at 08:00:47AM -0800, Bob den Otter wrote:\n\n\nIt was very satisfying to be able to style a page using nothing other than html element tags [..] but in the real world, time is money and a mortgage tends to focus one's thoughts on the business of running a business rather than worrying about whether or not a class name could be two characters shorter or not.\n\nThere is a lot of truth in that, right there! \n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/686#issuecomment-28996409\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. But then, having a less messy codebase to work with would make those\nthings easier to implement...\nOn Thu, Nov 21, 2013 at 08:12:05AM -0800, losttheplot wrote:\n\nThere sure is, Bob. For what it's worth, given that your admin area does the job as it stands, I would be focussing on some of the more obviously missing CMS features before I worried about the finer points of presentation. Like menu control, for example, which requires content providers to edit a 'techy-file-thing'. Or some form of picture editing facility so that content providers without Photoshop can carry out basic crop and scale actions. Or a more logical and configurable uploaded pictures directory so that content providers can start to organise their file uploads as their site grows. I understand that all these things take time, I truly do, but things like this are far more important than window dressing (unless I've misunderstood something here).\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/686#issuecomment-28997446\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Oh, yes, absolutely. I didn't mean to say \"Making GUIs in HTML is\nbroken, so we should just give up and make it all in Flash\" or \"We can't\nget it right anyway, so let's go full-on wrong\". I'm just saying (and\nthis is remarkable coming from me :D) that we shouldn't be over-zealous\nabout \"semantic HTML\", because we're building a GUI, not a document.\nMany of the reasons why semantic HTML is a good idea for documents don't\napply in this situation, such as SEO, degrading gracefully, allowing\nfurther processing, etc. The stuff that does matter, i.e., things like\nmaintainability, separation of concerns, DRY, etc., should of course\nstill be supported through somewhat semantic HTML. I just think that for\na GUI, class=\"left-float red\" is not as big a sin as it is for a\npublic-facing content-serving document.\nTL;DR: I think we actually agree on this one ;)\nOn Thu, Nov 21, 2013 at 08:47:18AM -0800, Bob den Otter wrote:\n\n@tobias2k I think I agree with you, but the matter of fact is that\nwe're \"stuck\" with HTML for the time being. And, since that's the\ncase, striving to have the backend be at least somewhat semantic and\nthus \"readable\" is better than just making tag soup. :-)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/686#issuecomment-29000721\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. On Thu, Nov 21, 2013 at 04:42:10PM -0800, braaam wrote:\n\nA visually well designed lib will make things easy. It means\neverything looks good out of the box, and not much tweaking is\nnecessary on a component level.  I believe that libraries like BS and\nSemantic UI should be used as is. Their power lies in what they offer\nout of the box: well designed Interface elements that can be used for\napp-like applications. My experience is that once you start\ncustomizing individual components you loose some of these advantages. \n\nIt's a balancing act, I guess - OTOH, something that works perfectly\nout-of-the-box would give us a huge head start, and we certainly don't\nwant to reinvent the wheel, but on the other hand, a framework that is\ntoo restrictive (or too complicated, which basically boils down to the\nsame thing) means we'd pay back for that later on, when we want to add\ncustom things that the framework designers didn't anticipate. I think\ngoing with something minimal yet polished would fit Bolt's philosophy\nbest.\n\nI suppose the best way from here is just hacking together some quick\ndemo's to see which library deals best with the main requirement:\nimproved mobile accesibility through a 100% fluid interface.\n\nAgree in principle, but we should also keep mid/long-term\nmaintainability in mind, instead of just going with what looks best\nright now.\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/686#issuecomment-29039584\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. It would change some things, but mostly for the better. Depending on how we do it, most of the \"public\" interface to the Storage class could even remain intact, which would make for an easier transition.\n. A version that seems to work and do what we want is in the role-based-permissions branch. I'd love to get some feedback before we merge it into master.\n. Add configuration option; if enabled, the following needs to happen:\n- Session cookie set to SECURE\n- Any non-SSL request to the backend is denied (HTTP 400 or 500), redirected to SSL login page, and any session invalidated\n. This seems to be a bug in Symfony itself...\n. Oh, nevermind... it's a bug in PHP itself.\nFrom the symfony source:\n$valid = filter_var($value, FILTER_VALIDATE_EMAIL);\nFurther investigation shows us:\ntobias@nibbler:~/ > php -r 'var_dump(filter_var(\"tobias...@example.org\", FILTER_VALIDATE_EMAIL));'\nbool(false)\ntobias@nibbler:~/ > php -r 'var_dump(filter_var(\"tobias.@example.org\", FILTER_VALIDATE_EMAIL));'\nbool(false)\ntobias@nibbler:~/ > php -r 'var_dump(filter_var(\"tobias@example.org\", FILTER_VALIDATE_EMAIL));'\nstring(18) \"tobias@example.org\"\ntobias@nibbler:~/ > php -r 'var_dump(filter_var(\"tobias+@example.org\", FILTER_VALIDATE_EMAIL));'\nstring(19) \"tobias+@example.org\"\ntobias@nibbler:~/ > php -r 'var_dump(filter_var(\"tobias+1111@example.org\", FILTER_VALIDATE_EMAIL));'\nstring(23) \"tobias+1111@example.org\"\ntobias@nibbler:~/ > php -r 'var_dump(filter_var(\"tobias+1111@example.museum\", FILTER_VALIDATE_EMAIL));'\nstring(26) \"tobias+1111@example.museum\"\ntobias@nibbler:~/ > php -r 'var_dump(filter_var(\"tobias@1111@example.org\", FILTER_VALIDATE_EMAIL));'\nbool(false)\nThe PHP community seems to be struggling with this particular thing:\nhttps://duckduckgo.com/?q=site%3Abugs.php.net+email+filter_var\nNow what?\n. No, turns out you are right. The RFC is perfectly unambiguous: the local-part is a sequence of words, separated by periods, and a word is either a quoted-string or a sequence of one or more word-characters, that is, any characters except a list of 'special' characters. In this context, period and @ are special characters, so the examples I gave where the validation fails are actually invalid, strictly speaking.\nHowever, the RFC also states that forwarding and transporting agents must not modify the local part in any way, so real-world implementations are almost always more lenient than that - for strict RFC compliance, they would have to parse the local-part into words in order to detect the domain part, but AFAIK, most agents actually just find the last @ and split the address there. Mail services, then, seem to abuse this by accepting some technically invalid addresses like the above (e.g., GMail will happily deliver mail to addresses with periods inserted into the local part at arbitrary locations). This, in turn, means that even though RFC822 is still valid, it doesn't accurately reflect real-world usage (or, looking at it from the other side, people are using e-mail addresses wrong).\nMy opinion is that making e-mail address validation too strict is much worse than making it too lenient - if it's too lenient, the worst that can happen is that someone mistypes an address, and the mail doesn't get delivered. This can be fixed - just change the address once you notice. But if it's too strict, the worst case is that someone tries to sign up, address gets rejected, person is annoyed and takes business elsewhere. And frankly, it doesn't really do a lot to avoid typos anyway: typical typos I've come across often don't make the address invalid at all - people skip a period or a dash in the local part, capitalize wrong, flip some letters, add 'www.' to the domain, that kind of thing - the validation doesn't catch those at all, but it rejects some real-world addresses that actually work and are being used.\n. Well; I don't want >99% accuracy, but if in doubt, I'd prefer false\npositives (i.e., addresses reported as valid when they're not) over\nfalse negatives. And PHP's built-in functions aren't suitable for that.\nI'd say we use something like /^[^@]+@[a-z_0-9-.]+$/ and call it a day.\nOn Sat, Jan 25, 2014 at 01:40:03PM -0800, Lodewijk Evers wrote:\n\nI happen to know of a similar discussion in another garden https://drupal.org/node/12274\nThat discussion is not resolved in roughly 10 years..\nI vote we close this issue because we'll never get a perfect solution and just keep validation on a \"good enough level for 99.9% of normal use cases\"\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/696#issuecomment-33301498\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Not one that's worth bickering about, I guess. If anyone happens to complain still, we'll reopen.\n. Great, now the recursiveTrimText() thing recurses too deeply... I think we should tackle that one, too.\n. Just checked whether recursiveTrimText is ever used without strip_tags(); turns out it is, so we'll need a proper implementation rather than trimming plain text.\n. Yes, probably. I'll see if I can get to it this week.\nOn Thu, Nov 21, 2013 at 09:04:07AM -0800, Bob den Otter wrote:\n\nShould we leave this issue open until we've phased out recursiveTrimText? \n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/699#issuecomment-29002268\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. I'll chime in here... I just tried Bolt on an up-to-date CentOS system,\nabout as vanilla as you can get. Images work flawlessly. Haven't tried\nwith APC though, but if the problem persists with APC disabled, it's\nlikely that APC is not the culprit anyway.\nOn Tue, Nov 19, 2013 at 02:47:21AM -0800, losttheplot wrote:\n\nUpdate: Bob thinks my problem might be due to running php 5.3.3 and suggested an update, but was unaware that 5.3.3 (albeit heavily backported with bug/feature/security fixs) is the 'current' distro for RHEL6, which is a very popular Linux OS. I have tried disabling APC but FSA (fault still apparent). My sysadmin will investigate further when he gets chance.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/708#issuecomment-28780603\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. This is by design. A fresh install doesn't have any users yet, so you\nneed to create one first. That's what the user/edit screen does; it\nshould say something like \"create the first user\". Once the database\ncontains at least one user, you'll be redirected to the login screen\ninstead.\nOn Mon, Nov 18, 2013 at 01:46:42AM -0800, cjuhong wrote:\n\nHi,\nI followed the instruction to setup the bolt project;\nhttp://docs.bolt.cm/installation\nwhen all was done, I opened the browser to access localhost, but it redirected to localhost/bolt/users/edit\nAnyone can help?\nThanks a lot.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/709\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Bolt will take care of that all by itself. If you haven't changed\nanything, creating a first user and logging in will create an empty\ndatabase with one user and three content types (Pages, Entries, and\nKitchen Sinks). You can create, delete and modify content types by\nediting the configuration file app/config/contenttypes.yml - either\ndirectly on the server, or the through Bolt's backend interface.\nOn Mon, Nov 18, 2013 at 02:53:20AM -0800, cjuhong wrote:\n\nThat's OK,  but   the tutorial does not tell how generate database schema.\nMy database schema is empty when I open the browser\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/709#issuecomment-28689018\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. If rewriting weren't supported (e.g. mod_rewrite not installed, not\nenabled, or rewriting not allowed as per overrides), Bolt wouldn't go to\n/bolt/users/edit in the first place.\nOn Tue, Nov 19, 2013 at 10:13:37PM -0800, Mike Anthony wrote:\n\nPerhaps your version of Apache does not support rewriting?\nPerhaps you could try this in your <Directory /> config:\nAllowOverride All\n        Order Allow,Deny\n        Allow from all\n        Require all granted\nAlthough, if that were the problem, it wouldn't be throwing a 404. Nonetheless, it's worth a try. Unless I'm missing something, everything looks okay on your server.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/709#issuecomment-28866194\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. No, forget what I said. This particular redirect comes from the PHP code\ndirectly.\nOn Tue, Nov 19, 2013 at 10:13:37PM -0800, Mike Anthony wrote:\n\nPerhaps your version of Apache does not support rewriting?\nPerhaps you could try this in your <Directory /> config:\nAllowOverride All\n        Order Allow,Deny\n        Allow from all\n        Require all granted\nAlthough, if that were the problem, it wouldn't be throwing a 404. Nonetheless, it's worth a try. Unless I'm missing something, everything looks okay on your server.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/709#issuecomment-28866194\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Top!\nWe still need to take the last step BTW: replacing recursiveTrimText()\nentirely.\nOn Thu, Nov 21, 2013 at 07:55:55AM -0800, Bob den Otter wrote:\n\nMerged #713.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/713\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. I think I can explain this.\nPHP's DOMDocument defaults to resolving external entities when parsing\nXML; this is a documented valid XML feature.\nUnfortunately, it is also a security risk if you don't control the\ninput, which is why Maid disables it right before parsing a document -\nit's the only way really to prevent malicious XML from accessing\nexternal sources and injecting untrusted XML/HTML/JS into documents.\nSince Maid is supposed to prevent exactly this kind of thing, it has\nto disable external entity loading.\nUnfortunately, PHP's libxml bindings can only set settings, not\nread the current settings, so I can't really restore previous settings\nafter I'm done loading a document.\nThe way things are, I would assume that it's the responsibility of any\ncode that uses libxml to make sure the correct settings are used, but it\nseems that whatever code triggers this behavior relies on the defaults.\nNot sure how to fix this; a pragmatic solution would be to turn external\nentity loading back on after running Maid, but I'm a bit wary about\nthis, and I wonder if there isn't a better solution.\nOn Sat, Nov 23, 2013 at 07:57:35AM -0800, braaam wrote:\n\nTried to get Bolt running with HEAD. Everything went well untill going into the /bolt environment and refreshing the main page. It starts throwing following error. The only way to recover is restarting PHP. First I thought it had something to do with my local configuration (NGINX/PHP-FPM on OSX), but it's happening on a production Apache2/PHP setup as well. \nThis is at 64f36a0965521b3ea85d5ace34718eb631a7249b \nSymfony \\ Component \\ Translation \\ Exception \\ InvalidResourceException\n[ERROR 94] Validation failed: no DTD found ! (in n/a - line 2, column 21) [WARNING 1549] failed to load external entity \"file:////www/bolt/vendor/symfony/translation/Symfony/Component/Translation/Loader/schema/dic/xliff-core/xml.xsd\" (in n/a - line 0, column 0) [WARNING 3084] Element '{http://www.w3.org/2001/XMLSchema}import': Failed to locate a schema at location 'file:////www/bolt/vendor/symfony/translation/Symfony/Component/Translation/Loader/schema/dic/xliff-core/xml.xsd'. Skipping the import. (in in_memory_buffer - line 33, column 0) [ERROR 3004] attribute use (unknown), attribute 'ref': The QName value '{http://www.w3.org/XML/1998/namespace}lang' does not resolve to a(n) attribute declaration. (in in_memory_buffer - line 1661, column 0) [ERROR 3004] attribute use (unknown), attribute 'ref': The QName value '{http://www.w3.org/XML/1998/namespace}space' does not resolve to a(n) attribute declaration. (in in_memory_buffer - line 1676, column 0) [ERROR 3004] attribute use (\n unknown)\n , attribute 'ref': The QName value '{http://www.w3.org/XML/1998/namespace}lang' does not resolve to a(n) attribute declaration. (in in_memory_buffer - line 1770, column 0) [ERROR 3004] attribute use (unknown), attribute 'ref': The QName value '{http://www.w3.org/XML/1998/namespace}space' does not resolve to a(n) attribute declaration. (in in_memory_buffer - line 1879, column 0) [ERROR 3004] attribute use (unknown), attribute 'ref': The QName value '{http://www.w3.org/XML/1998/namespace}space' does not resolve to a(n) attribute declaration. (in in_memory_buffer - line 1925, column 0) [ERROR 3004] attribute use (unknown), attribute 'ref': The QName value '{http://www.w3.org/XML/1998/namespace}lang' does not resolve to a(n) attribute declaration. (in in_memory_buffer - line 1964, column 0) [ERROR 3004] attribute use (unknown), attribute 'ref': The QName value '{http://www.w3.org/XML/1998/namespace}lang' does not resolve to a(n) attribute declaration. (in in_memory_buffer - line\n  1987, c\n olumn 0) [ERROR 3004] attribute use (unknown), attribute 'ref': The QName value '{http://www.w3.org/XML/1998/namespace}lang' does not resolve to a(n) attribute declaration. (in in_memory_buffer - line 2013, column 0) [ERROR 3004] attribute use (unknown), attribute 'ref': The QName value '{http://www.w3.org/XML/1998/namespace}lang' does not resolve to a(n) attribute declaration. (in in_memory_buffer - line 2053, column 0) [ERROR 3004] attribute use (unknown), attribute 'ref': The QName value '{http://www.w3.org/XML/1998/namespace}space' does not resolve to a(n) attribute declaration. (in in_memory_buffer - line 2056, column 0)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/716\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Nah, found the culprit, and a solution.\nSome rubber duck debugging turned up a useful return value of\nlibxml_disable_entity_loader(). I patched both htmlmaid and bolt; the\nfix is going to be in master in a few minutes.\nOn Mon, Nov 25, 2013 at 03:30:43AM -0800, andersonvemt wrote:\n\nMaybe for now you should revert the PR #713 ? \n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/716#issuecomment-29194689\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. I see. I did fix the 'obvious' culprit, but this is pretty hard to\nreproduce, so I'm afraid there's not a lot I can do right now without\nmore detailed hints on how I might reproduce the problem.\nOn Mon, Nov 25, 2013 at 05:07:15AM -0800, andersonvemt wrote:\n\nI updated with your commit and I'm still getting the error sometimes. But I don't need to restart PHP anymore, a refresh works. But the problem is not fully solved yet.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/716#issuecomment-29199886\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. As a user, I would hate that - Ctrl-S is a browser key binding, and I\nstrongly object against web applications hijacking those. If anything, I\nwould prefer to have this as a per-user setting (but AFAIK, we don't\nhave any existing infrastructure to support those yet).\nOn Mon, Nov 25, 2013 at 12:04:56AM -0800, Bob den Otter wrote:\n\nI was thinking about doing this for the .yml editors, but also when editing\na \"normal\" record. I've heard from a lot of people that they press ctrl-s a\nlot to save a page, but then the browser shows a (useless) dialog to save\nthe page to disk. Now that we have the new 'save' and 'save & return' flow,\nit's hardly obtrusive. At least, that what I think. :-)\nOn Sun, Nov 24, 2013 at 11:41 PM, braaam notifications@github.com wrote:\n\nAre you sure you want to do this? it can be quite disruptive overriding\ndefault browser behaviour, especially while most of /bolt behaves more like\na normal, scrollable web page than a web-app.\nHowever, it would make sense when editing the YML from Bolt, since it's\nbehaving like an actual text-editor there. Or maybe that's what you were\naiming for anyway, in case you can ignore this comment :)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/717#issuecomment-29168523\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/717#issuecomment-29183327\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Well, I do actually use Ctrl-S every now and then; probably not on a\npage like this though. It's a bit of a principle thing, I admit this\nmuch, but still. Other apps have annoyed me greatly with this kind of\nthing, e.g. hijacking '/'; when that happens, it usually takes me a\nwhile to figure out why the hell my browser is \"broken\" - \"search in\npage\" is a strategy I use a lot. You never know what kind of workflow\nusers have that you could be breaking.\nI agree that users who don't really care about the difference between a\nweb app and a browser and a desktop app and \"the internet\" will probably\nprefer Ctrl-S to behave like it would if Bolt were a desktop app, which\nis why I suggested we make it configurable.\nOn Mon, Nov 25, 2013 at 12:40:39AM -0800, Bob den Otter wrote:\n\n@tobias2k How often do you press CTRL-S on those pages, with the intent of\nsaving the HTML to your local machine? I bet it's \"almost never\". As such,\nthis change would hardy affect you. In fact, if it weren't for this issue,\nyou porbably would never even know. ;-)\nOn Mon, Nov 25, 2013 at 9:33 AM, tobias2k notifications@github.com wrote:\n\nAs a user, I would hate that - Ctrl-S is a browser key binding, and I\nstrongly object against web applications hijacking those. If anything, I\nwould prefer to have this as a per-user setting (but AFAIK, we don't\nhave any existing infrastructure to support those yet).\nOn Mon, Nov 25, 2013 at 12:04:56AM -0800, Bob den Otter wrote:\n\nI was thinking about doing this for the .yml editors, but also when\nediting\na \"normal\" record. I've heard from a lot of people that they press\nctrl-s a\nlot to save a page, but then the browser shows a (useless) dialog to save\nthe page to disk. Now that we have the new 'save' and 'save & return'\nflow,\nit's hardly obtrusive. At least, that what I think. :-)\nOn Sun, Nov 24, 2013 at 11:41 PM, braaam notifications@github.com\nwrote:\n\nAre you sure you want to do this? it can be quite disruptive overriding\ndefault browser behaviour, especially while most of /bolt behaves more\nlike\na normal, scrollable web page than a web-app.\nHowever, it would make sense when editing the YML from Bolt, since it's\nbehaving like an actual text-editor there. Or maybe that's what you\nwere\naiming for anyway, in case you can ignore this comment :)\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/bolt/bolt/issues/717#issuecomment-29168523>\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/717#issuecomment-29183327\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/717#issuecomment-29184518\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/717#issuecomment-29184863\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Just a quick thought on user-uploaded SVG images:\nSVG is a very versatile vector graphics format, but part of that\nversatility is that it hooks deeply into the XML/HTML/CSS ecosystem.\nSpecifically, an SVG can include JavaScript and external entities (both in\nthe form of XML entity definitions and through the XLink standard). Both\nthese can be a serious security problem; they allow for relatively easy\nXSS and/or CSRF attacks. Sanitizing SVG is possible in theory, but it\nwould require quite a bit of extra work in order to provide this\nfunctionality safely without sacrificing too much functionality.\nBy contrast, other image formats are typically designed as strictly\ndata-only formats, and while hacks exist for some of them, these\ntypically exploit design oversights that can be fixed (e.g., given a\nsufficiently small JPG image with a sufficiently large portion of\ncomments that look like HTML, some versions of Internet Explorer will\ntreat the file as HTML rather than JPG, regardless of what the server\nsays it is... but I digress).\nCome to think of it, htmlmaid could probably be extended to handle\narbitrary XML formats, since it uses DOMDocument for parsing already.\nOn Mon, Nov 25, 2013 at 12:02:28AM -0800, Daniel Gamage wrote:\n\nWhen uploading an SVG file through the image field type, Bolt throws a \"Oops! There was an error uploading the image. Make sure the image file is not corrupt, and that the 'files/'-folder is writable.\" error.\nNot sure how cropping and resizing should be handled here, though I'd expect Bolt to handle getting the image into the filesystem. Perhaps cropping and resizing should be done by just modifying the viewbox and w/h attributes.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/720\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. No, this is due to the way thumbnails are generated. Unlike BMP, GIF, JPG and PNG, SVG images are vector graphics; our thumbnailer cannot handle those (and that wouldn't make sense anyway, because vector images are resolution-independent by design). Your upload is working just fine, it's the rendering part that breaks.\nThe right solution for this is to fix Bolt's thumbnail() function such that it passes SVG images through as-is instead of trying to thumbnail them; the thumbnailing can then be addressed in the browser, simply by adding \"width\" and/or \"height\" tags to the image.\nMeanwhile, a workaround is to change your templates such that SVG images aren't run through the thumbnail function, and add widths and/or heights to the <img> tags manually.\n. Hmm, either '@' isn't working, or there's a permission problem.\nI could check if the file exists and is writable before attempting the\nunlink() call, which would solve the problem except that we'll still be\ndealing with race conditions (another request deleting the file between\nus checking for its existance and attempting to delete it).\nThe proper way would be to just attempt the unlink, and catch \"file not\nfound\" errors (but not \"insufficient permission\" e.a., as those would be\nactual errors), but doing this is kind of hairy, given that all errors\nget translated to ErrorExceptions (so we'd have to parse the error\nmessage, and if that changes for certain PHP versions or even platforms,\nwe're screwed...)\nOn Sun, Dec 01, 2013 at 04:03:34AM -0800, Bob den Otter wrote:\n\nsee screenshot: \n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/732\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Fixed the problem, both in its current incarnation (DOM loader didn't know the encoding and defaulted to the wrong one) and on a global level (default character encoding was not UTF-8, but codebase assumes UTF-8).\n. Yeah, I saw it - I assumed that Doctrine's DBAL would somehow iron out\nthese details, but apparently it doesn't. Which is a shame...\nOn Mon, Dec 09, 2013 at 06:29:49AM -0800, Bob den Otter wrote:\n\nSee screenshot:\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/745\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Ah, right, I think I know how to fix this. I used the same trick\nsomewhere else in Bolt, where I pass a DOMDocument to Maid; however,\nwhen Maid makes her own DOMDocument, this trick isn't used, so she'll\ndefault to, idk, latin-1 or something. Not really what we want; I think\nMaid should default the wrapper HTML to UTF-8, just like Bolt does.\nThis should be a quick fix, stay tuned...\nOn Wed, Dec 11, 2013 at 10:27:46AM -0800, Stefan Staudenmeyer wrote:\n\nTest run:  \n``` YAML\nconfig.yml: \n    locale: de_DE\n    database:\n        driver: mysql\n\ncontenttypes.yml: \n        body:\n            type: markdown\n            height: 300px\n            label: Seiteninhalt\n        content:\n            type: html\n            height: 300px\n            label: Seiteninhalt\n```\nShell\nroot@asdf:~# locale\nLANG=de_DE.UTF-8\nLANGUAGE=\nLC_CTYPE=\"de_DE.UTF-8\"\nLC_NUMERIC=\"de_DE.UTF-8\"\nLC_TIME=\"de_DE.UTF-8\"\nLC_COLLATE=\"de_DE.UTF-8\"\nLC_MONETARY=\"de_DE.UTF-8\"\nLC_MESSAGES=\"de_DE.UTF-8\"\nLC_PAPER=\"de_DE.UTF-8\"\nLC_NAME=\"de_DE.UTF-8\"\nLC_ADDRESS=\"de_DE.UTF-8\"\nLC_TELEPHONE=\"de_DE.UTF-8\"\nLC_MEASUREMENT=\"de_DE.UTF-8\"\nLC_IDENTIFICATION=\"de_DE.UTF-8\"\nLC_ALL=\nTest result:\n\nTest backtracked:\n``` PHP\nclass \\Bolt\\Content {\npublic function getDecodedValue($name) {\n    ...\n\n        switch ($fieldtype) {\n            case 'markdown':\n\n                error_log(var_export(\"Raw, DB incoming string: \" . $this->values[$name], true));\n\n                $value = $this->preParse($this->values[$name]);\n                error_log(var_export(\"Bolt_Content - preparsed: \" . $value, true));\n\n                // Parse the field as Markdown, return HTML\n                $value = \\Parsedown::instance()->parse($value);\n                error_log(var_export(\"\\Parsedown - parsed: \" . $value, true));\n\n\n                $maid = new \\Maid\\Maid(array('output-format' => 'html'));\n                $value = $maid->clean($value);\n                error_log(var_export(\"\\Maid - cleaned: \" . $value, true));\n\n                $value = new \\Twig_Markup($value, 'UTF-8');\n                error_log(var_export(\"returned Twig-Markup: \" . $value, true));\n\n                break;\n\n    ...\n}\n\n}\n```\nBacktrack Output: \n[Wed Dec 11 13:21:16 2013] [error]  'Raw, DB incoming string: # \\xc3\\x9cberschrift\\r\\n\\r\\nSeiteninhalt\\r\\n\\r\\n* Auflistung\\r\\n** Zweite Ebene\\r\\n\\r\\n[Typischer Link](http://www.google.de)'\n[Wed Dec 11 13:21:16 2013] [error]  'Bolt_Content - preparsed: # \\xc3\\x9cberschrift\\r\\n\\r\\nSeiteninhalt\\r\\n\\r\\n* Auflistung\\r\\n** Zweite Ebene\\r\\n\\r\\n[Typischer Link](http://www.google.de)'\n[Wed Dec 11 13:21:16 2013] [error]  '\\\\\\\\Parsedown - parsed: <h1>\\xc3\\x9cberschrift</h1>\\n<p>Seiteninhalt</p>\\n<ul>\\n<li>Auflistung\\n** Zweite Ebene</li>\\n</ul>\\n<p><a href=\"http://www.google.de\">Typischer Link</a></p>'\n[Wed Dec 11 13:21:16 2013] [error]  '\\\\\\\\Maid - cleaned: <h1>\\xc3\\x83\\xc2\\x9cberschrift</h1>\\n<p>Seiteninhalt</p>\\n<ul>\\n<li>Auflistung\\n** Zweite Ebene</li>\\n</ul>\\n<p>Typischer Link</p>'\n[Wed Dec 11 13:21:16 2013] [error]  'returned Twig-Markup: <h1>\\xc3\\x83\\xc2\\x9cberschrift</h1>\\n<p>Seiteninhalt</p>\\n<ul>\\n<li>Auflistung\\n** Zweite Ebene</li>\\n</ul>\\n<p>Typischer Link</p>'\nOuch. Someone got a hint?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/753\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Alright, I updated Maid to use the same kind of HTML5 wrapper when parsing HTML fragments; it should now always default to UTF-8. @doertedev Could you pull in Maid 0.4.0 and re-run your tests?\n. We want to get rid of the username column eventually, yes, but\nmeanwhile, we don't know for certain if there is any code relying on it.\nCustom templates are the most likely candidate for this, and there is no\nway to know for sure whether any of those make use of the username\ncolumn, which is why I haven't removed the column entirely yet.\nOn Mon, Dec 16, 2013 at 01:02:18AM -0800, rarila wrote:\n\nOk, found it. In Content::setValues() I changed unset($values['username']); to $values['username'] = ''; which should work.\nI wonder if it would be better to cycle through all tables while checking the database and set all user id columns and after this remove the username columns from the database completley?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/766#issuecomment-30644955\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. I think trying to not insert it is what's causing the issue here...\nOn Mon, Dec 16, 2013 at 05:11:30AM -0800, Bob den Otter wrote:\n\nIn old tables, the 'username' is still present, but we're moving towards 'ownerid', like @tobias2k said. The best way  to fix this is to make sure it isn't inserted anymore. Will fix. \n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/766#issuecomment-30659256\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. The problem with this approach is that AFAIK it only works for nodes\nthat are proper elements - but we also need to process other things,\nmost notably text nodes...\nOn Wed, Dec 18, 2013 at 05:47:52AM -0800, Bob den Otter wrote:\n\nI found this issue in Symfony's repo: \nhttps://github.com/symfony/symfony/pull/8013\n(related: https://github.com/symfony/symfony/pull/7963 )\nThey had the same issue in Silverstripe, but I really don't like their solution: \nphp\n      // Then, call saveHTML & extract out the content from the body tag\n      $res = preg_replace(\n          array(\n              '/^(.*?)<body>/is',\n              '/<\\/body>(.*?)$/isD',\n          ),\n          '',\n          $doc->saveHTML()\n      );\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/769#issuecomment-30842424\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Actually, a separate SQL host makes a lot of sense in a shared-hosting\nsituation - you're going to have a large number of servers anyway, so\nspecializing them makes sense and will give you some interesting\nadvantages. However, things are moving towards virtual hosting these\ndays, and if you're running one or two websites on a cheap VPS, it makes\nmuch more sense to keep the database and the web server code together,\nif only so you can backup and restore the VM as a whole - but also\nbecause typically even a small VM is plenty for a little site, and\nbuying two VMs when you could easily run on one would be overkill. And\nif you run a server on some cheap commodity hardware from under your\ncouch, then you definitely want to keep the database local.\nOn Mon, May 26, 2014 at 05:43:45AM -0700, Gawain Lynch wrote:\n\n\nin 2014 this should not exist locally on a host machine\n\nYes and no.  Scale is key here. \nIf you're using a web hosting service and you just want to run a\n simple website (something that Bolt is very good at), you're\n almost certainly stuck with your database on the same host.  I\n certainly have a couple of sites that fall into that category and it\n wouldn't make economic sense to deploy a host simply for SQL.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/805#issuecomment-44185699\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. And, back OT: Such a test has two downsides. One, it needs to be maintained, and preferably in such a way that it is automatically correct. I don't think we can afford to have a separate list of requirements encoded in a format that the system check can understand, and keep making sure it is still up-to-date, considering how the documentation already significantly lags behind the actual code. And problem two is that we really really want to avoid false negatives - if there is any way at all that Bolt might work, we want the tests to pass, throwing no more than a warning. Few things turn people off more than a compatibility test that says you can't run the code when you know you do meet the requirements.\nPersonally, I think a much more useful addition would be to take the things that people tend to run into, document them, make Bolt aware of them, and provide better / more helpful error messages when they occur. In any case, an optional sanity check can't hurt, but I don't see the benefit of making it mandatory.\n. IMO, ActiveRecord is terribly clever approach that makes for\nslick-looking, easy-to-read code, but unfortunately, it is wrong. It\nprovides an inconsistent abstraction over relational data, and requires\nlots of not-so-elegant trickery to work around the deficits of the\nabstraction.\nI much prefer a simpler, more transparent solution that simply\nrepresents various database-related objects as, well, objects;\nespecially, I like it when the record classes are just dumb data-bearing\nclasses, instead of injecting persistence logic into them.\nI've worked with a lot of different approaches to this, and my\nexperience is that ActiveRecord is not worth the potential trouble. It\nmay be appropriate for RAD prototypes and the like, to quickly whip up\nsomething that mostly works, but I believe that Bolt deserves a more\nsolid and truthful solution.\nOn Thu, Mar 27, 2014 at 06:58:17AM -0700, Marc J. Schmidt wrote:\n\nYou don't have to hack anything. If your model has interfaces that\nchanges you just have to adjust the model. In doctrine you have to\nrewrite your php class in propel you have to rewrite the xml. But if\nit's really unstable you don't even have to rewrite the xml but can\noverwrote/add stub methods to you model class at any time.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/817#issuecomment-38805187\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. I could, but I think this discussion has long ceased to be productive,\nand it'd blow up the scope even further.\nMaybe I'll blog about it some time.\nOn Thu, Mar 27, 2014 at 07:11:32AM -0700, Marc J. Schmidt wrote:\n\n@tobias2k, you should not just claim something but also some examples which support this thesis.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/817#issuecomment-38806788\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. I don't think permissions.yml is the place for this - we already have\npermissions for publishing / depublishing, and I think it's wise to keep\nsomething like a permissions definition file as clean as we can,\nstrictly using it for authorization control purposes.\nWe could add a setting in the general settings file that disables\npublication features entirely, plain and simple.\nAnother idea would be a setting that hides more UI elements from users\nwho lack the permissions to alter publication state instead of just\ndisabling them, but this is tricky to get right - if we remove too much,\nuser will be puzzled why some things are visible and others aren't.\nOn Tue, Jan 21, 2014 at 04:41:33AM -0800, Bob den Otter wrote:\n\nPerhaps this is something we could include in Bolt 2.0? It might be\ngood to have an option for this, that's configurable in\npermissions.yml.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/831#issuecomment-32870558\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. I'll look into it. One thing, though:\ncreate: [ owner ]\n...this doesn't make a lot of sense; in order to own a record, you have\nto create it yourself first, so you need to be allowed to create it by\nvirtue of some other role - but then when you do, being the owner isn't\nrequired anymore anyway.\nOn Sun, Jan 19, 2014 at 04:38:43AM -0800, Bob den Otter wrote:\n\nThis doesn't work as expected: \nyml\ncontenttypes:\n    entries:\n        edit: [ owner ]\n        create: [ owner ]    \n        change-ownership: [ owner ]\nThe expected behaviour is that the 'owner' of a specific record would be allowed to edit their own records, but they aren't.\nSee: http://forum.pivotx.net/viewtopic.php?f=17&t=4432\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/834\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Will look into this. Probably a bug.\n. Probably twofold:\nOne, a matter of practicality/pragmatism/YAGNI: just preloading all\nusers is much easier to implement than a good lazy-loading mechanism,\nand since a typical Bolt install seldom has more than a handful of\nusers, it doesn't matter much performance-wise anyway.\nTwo, for some things Bolt needs data from users other than the current\none - e.g. when you want to display the name of some content item's\nowner.\nEither way; I agree that lazy-loading would be a more efficient\nsolution, but I'm not sure whether it'd be worth the effort.\nOn Thu, Jan 23, 2014 at 03:25:51AM -0800, sergio marchesini wrote:\n\nThis is just a question and I apologize if I am missing something.\nI noticed that in  Bolt\\Application::BeforeHandler there is a call \n$this['twig']->addGlobal('users', $this['users']->getUsers());\nI was wondering what is the reason to preload all users, especially if the user base is large.. would not it be better to lazy load them  when needed?\nTIA\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/844\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Could be a bit more specific - what is the exact problem we're trying to solve? The Kitchensink name not being descriptive enough? Or is there a more general need for human-readable contenttype descriptions? And what are \"the\" settings for templates you want to display?\n. The debug bar shows the current version in any case; IMO it would be a useful addition to also display it somewhere in the backend, e.g. the menu bar or the footer. @bobdenotter, thoughts?\n. On Sun, Feb 16, 2014 at 03:12:12AM -0800, Bob den Otter wrote:\n\nI'm not sure how we'd do this, if we wanted to. We can't use the same strategy as with the .yml files, because we really can't assume the web-user is allowed to write in the website's base folder. \nThe other alternative is to not include a robots.txt at all, but I wouldn't like that: I think it's good practice that we exclude app/ and vendor/ from spiders by default. \n\n...except that putting /app and /vendor in robots.txt is actually bad\npractice, because by doing so, you are telling malicious crawlers where\nthe interesting stuff is - robots.txt is a suggestion for friendly\nrobots, but security wise, it is completely useless. The proper term is\n\"information disclosure\". Well, actually it does a tiny bit for\n\"security\", in that it prevents the big search engines from indexing\ncontent they shouldn't be allowed to see anyway, so if the other\nsecurity measures fail, at least Google won't tell anyone. That's\nsecurity-by-obscurity at best though.\nThe recommended way to go about this is to keep these directories\noutside the doc root altogether - we're not linking to them anyway, and\nif they're not publicly accessible, there is no way for a spider to know\nabout them. Failing that, configuring the server to serve a 404 response\n(rather than a 200 or 500 or 403), ideally one that is identical to a\n\"real\" 404, when someone tries to access anything in them, is a valid\nplan B.\nNot sure what we should do with Bolt in this context though. Thoughts?\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/882#issuecomment-35194150\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. A rather radical but effective solution would be to prefix Bolt's system columns with an underscore, and forbid leading underscores in user-defined column names...\n. Problem is, it'll break existing installs badly...\nOn Tue, Feb 18, 2014 at 12:58:59AM -0800, Gawain Lynch wrote:\n\n@tobias2k: The person with an OCD for nomenclature :+1:  this \n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/890#issuecomment-35364173\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. So... what are we going to do about this, if anything?\n. It seems that Doctrine has somehow magically solved this issue for us - a recent install makes me go \"CNR\", and the migration tool we're using just renames columns appropriately, without losing any data. I haven't taken the time to investigate much deeper, but all my testing efforts so far show that it \"just works\". Closing.\n. From a quick glance, I don't see how this would affect us.\nWhen you upload a file, Bolt checks the file extension, not the MIME\ntype reported by the browser, and it will store the file with its\noriginal extension (after checking it against a whitelist). When serving\nthe file, its MIME type is derived from the stored extension, and as far\nas I can tell, the Content-type header is set to\n'application/octet-stream'; Firefox 24 happily accepts this as a PDF\ndocument.\nIf you can provide a step-by-step description of how to reproduce the\nerror, we'll look into it.\nOn Thu, Mar 20, 2014 at 03:21:27AM -0700, Rix Beck wrote:\n\nBad news guys! I'm afraid we need a workaround for this Firefox issue: https://bugzilla.mozilla.org/show_bug.cgi?id=373621\nI hit this just now and it's seems serious problem.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/902#issuecomment-38151881\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Ah, OK, I thought you were talking about uploading via Settings /\nUploaded files. My bad.\nStill, I'm not convinced that the Firefox bug has anything to do with\nit. \nOn Thu, Mar 20, 2014 at 03:48:45AM -0700, Rix Beck wrote:\n\nActually I have a content with a file type field in. First of all no\nmatter what kind of acceptable file type I choose, Firefox will serve\nthe mime-type of the file in file.type in\nhttps://github.com/bolt/bolt/blob/master/app/view/js/bolt.js#L382.\nMoreover it is text/html when pdf has selected.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/902#issuecomment-38153805\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. On Sun, Feb 16, 2014 at 07:20:46AM -0800, ehsonbek wrote:\n\n1) When I'm loged in as root user, why do i need to change me own permissions to admin or editor. I do not think for root user you should allow to change their own permission.\n\nRoot users should be able to do anything they want; the 'root' role is\nhard-coded and automatically grants all permissions. If it doesn't,\nthat's a bug, and I'd love to see a detailed bug report about this.\nHowever, 'all permissions' also includes changing the roles for any user\nin the system, including one's own, which is why root users can do that.\nFor normal operation, you shouldn't be using a root user anyway;\ninstead, configure a regular user who has the needed permissions. This\nuser can still edit their own permissions (see below), but it's a first\nstep.\n\n2) When I loged in as admin I can change my own permission as root or lower than admin permission. What is logic behind to set my own permission lower than I have at the moment. Even I can set my permission higher as root.\n\nThere is no higher permission than root. You can assign other roles\nbeside root, but that doesn't do anything at all, because root already\ngives you all possible permissions.\nThat said, the fact that any role that grants user permission assignment\nalso allows such users to change their own roles pretty much means that\nif you have permission to alter roles, you can trivially gain root\naccess. We are aware of this, but decided that since typical Bolt\ninstallations are small and only feature a handful of users, who are\neither trustworthy or not user administrators, this shouldn't be a top\npriority. If, at some point, we change this, my take is that we should\nstart with some extra checks that prevent users from editing their own\nroles (unless you have root permission, in which case allowing anything\nis still the right way to go). We still have to do a bit of thinking\nabout this, as there are quite a few scenarios to consider.\n\nWhere and how can I fix that issues? Can you help e to find right php source codes to fix it.\n\nThe relevant code is mainly in app/src/Bolt/Users.php and\napp/src/Bolt/Permissions.php.\nHowever, before \"fixing\" things, it's probably a good idea to discuss\nwhat you are about to implement. But don't let that stop you :)\n\nMany thanks\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/903\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Hold on, content editing also needs to use a CSRF token...\n. The reasoning behind this is that 1) if you enable this setting, you\nhave a valid SSL cert for your site; 2) there are benefits to serving\nthe front-end over SSL, too, like preventing third-party tracking\nthrough MITM attacks or network sniffing; 3) it's easier / simpler to\nimplement this way; 4) in making the distinction, it is more difficult\nto get things mixed up and ending up with mixed content, which is a\nsecurity problem in itself, because it's hard to avoid sensitive\ninformation bleeding into the unencrypted parts of such a mixed-content\npage, and just serving everything over SSL unconditionally is the\neasiest way of avoiding that.\nSo basically, this is part laziness, part by-design.\nOn Mon, Feb 17, 2014 at 02:03:13PM -0800, ehsonbek wrote:\n\nyes, it forces both sites, if you find a bug can you let me know pull id pls\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/906#issuecomment-35327012\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. That is correct.\nOn a side note, I recently added a feature that allows extensions to\nhook into this mechanism; look into the WaffleOrders extensions (ships\nwith recent Bolt versions) for an example. You might be able to provide\nthe desired functionality as an extension, although I'm not entirely\nsure how you'd hook that into the backend controller.\nOn Mon, Mar 03, 2014 at 07:00:53AM -0800, Gawain Lynch wrote:\n\nThe bolt.db file is the SQLite database that Bolt uses for a default install if you're not using MySQL or the like.\nThe database schema, as far as my code reading goes so far is done in app/src/Bolt/Database/IntegrityChecker.php\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/943#issuecomment-36517572\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Indeed.\nYAML is the configuration file format of choice, because:\n1. It is simple\n2. A good PHP implementation exists\n3. It maps well onto PHP data structures, especially the kind we need in\n   Bolt\n4. It is utterly human-readable\n5. It is text-based, so we get a few hundred (if not more) excellent\n   mature tools for free to edit, manage, compare, search, version-control\n   and otherwise process our configuration files.\n6. We can provide a reasonable UI in the form of an HTML textarea with a\n   \"Save\" button.\n7. Easy to keep forward- and backwards-compatible\n8. Comment syntax means we can (and do) provide self-documenting\n   configuration files\nWe could still make fancier UIs on top of that, or (I think @bobdenotter\nwould prefer that) find an existing structural web-based YAML editor and\nhook that up with Bolt, but as it stands, I don't think the benefit\nwould outweigh the cost.\nOn Sat, Mar 01, 2014 at 04:37:01AM -0800, Bob den Otter wrote:\n\nA good example of this is the MenuEditor extension, by the way. It takes the menu.yml file, allows the user to drag'n'drop the changes, and writes it back to .yml. This is ideal, IMHO: people who prefer yml can use it, people who like dragging/dropping can use it, and it is still stored in a readable text-based format that can go into your versioning system. :-)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/954#issuecomment-36423669\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. On Mon, Mar 03, 2014 at 05:53:40AM -0800, Tolu Sonaike wrote:\n\nBut i love YAML  :-)\nMy main things where\n- UI for config files (Yes, YAML)\n\nI don't sense a lot of opposition here, it's more a matter of manpower\nand cost vs. benefit.\n\n\nAbility to add custom config that are editable through the back office\n\n\nThat would be nice, I guess. I don't see any principal show stoppers for\nexposing the textual YAML editor we already have for other config files;\nthe only thing worth giving a thought here is security. You really don't\nwant to expose a text editor that can put arbitrary text files in\narbitrary locations, for a whole lot of reasons, so this would have to\nbe properly whitelisted and checked.\n\nPresumptions like: \n\n\nIt is simple\nIt is utterly human-readable\n\n\n...scare me though :-)  But yes, YAML is a great underlying configuration format\n\nWell, the subset we're using is. Of course YAML has dark corners...\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/954#issuecomment-36511401\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Well, I can see a use case for privileged editors changing content\ntypes; I'm not sure how that would fit into the existing model though.\nAfter all, it's fairly easy to wreak at least moderate havoc just by\nediting that one file...\nOn Mon, Mar 03, 2014 at 06:53:38AM -0800, Gawain Lynch wrote:\n\nI'll reserve the redhead, if no one has objections...  :+1: \nI too would like to see an easier approach for some things, but @tobias2k is correct, some of this stuff takes a lot of work for a questionable ratio of benefit and we don't want to open security holes, as much fun as they are for trolling your co-workers with.\nI think Bob made a good point earlier about the parts of the backend that need raw YAML editing should not be exposed to end users anyway...  An example being a management type doing this without telling anyone:\nbranding:\n  name: MyCoolestCSM\n  path: /blondes2myroom\n...all of a sudden network admin are being yelled at by marketing as http://example.com/bolt/ no longer lets them log on and do work.  :-)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/954#issuecomment-36516859\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Closing this issue, I think we're done discussing this one. Feel free to reopen if things are still unclear.\n. If you think Dutch is bad, try German.\nWe use monsters like \"Strassenverkehrszulassungsordnung\" on a regular\nbasis.\nNobody says it better than Mark Twain though:\nhttp://www.twainquotes.com/German.html\nNow back to our scheduled discussion.\nOn Sun, Mar 02, 2014 at 02:30:57PM -0800, Gawain Lynch wrote:\n\nNah, Dutch is cool when you get a bit of an idea why things hang together in really long ways.  Anyway, I was born in Australia so I can't criticise any other language/accent!\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/963#issuecomment-36469816\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. I've said this before, but it's worth repeating: If you give someone\nthis kind of access, you have to trust not only the person, but also the\ncomputer they use with all the software on it. People keep access\npermissions low not in the first place to prevent users from breaking\nthings, but to mitigate the damage that is possible once such a user's\naccess has been compromised. Honor systems keep users honest, but they\ndon't help against attacks that exploit excessive access grants.\nOn Thu, Mar 13, 2014 at 10:44:18AM -0700, Bob den Otter wrote:\n\nCurrently we have a sort of \"honor\" system in place: If you give someone access to bolt, and also give access to edit files, this person will already be able to pretty much break everything, if they wish. But, you wouldn't give someone this high level access, if you expect them to do this. \nThat said, i think your suggestion is a good one. I can't think of a valid reason why somebody would have to edit a file outside of those folders. :-)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/997#issuecomment-37563190\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. This kind of looks still a bit over-engineered to me.\nAnyway, here's my take:\nFollowing \"separation of concerns\", I think a custom field type should\nbe split up into three parts: \"Value Type\", \"Widget\", and a \"Field Type\"\nthat does nothing other than unify the two.\nIn terms of data domains, we have:\nraw POST data -> plain values (scalars, arrays, dictionaries) -> SQL\nValues\nand:\nSQL Values -> plain values -> HTML forms\nAnd on the frontend:\nSQL Values -> plain values -> HTML presentation\nThe Value Type class does the following:\n- Marshalling between SQL values and plain values (for scalars, this is\n  a no-op; arrays and dictionaries may be marshalled as JSON,\n  comma-separated lists, etc., as appropriate)\n- Validation at the plain value level\nThe Widget needs to do:\n- HTML form element rendering (possibly hooking into Twig and/or some\n  sort of forms library; SimpleForms may or may not be sufficient)\n- Client-side validation\n- Marshalling between POST values and plain values\nThe Field Type class would take care of:\n- Reading a configuration file\n- Loading the appropriate Widget and Value classes\n- Wrapping the Widget and Value into a common interface\nFor each of these, a generic base class would probably be useful,\nalthough the FieldType class probably doesn't need polymorphism at all -\nit just wraps implementations of the other two.\nAnyway, what I envision is that an extension would implement a value\ntype class and a widget class, and then do something like this in its\ninitialize() method:\n$app->registerValueType('foobarAmount', function($app){ return new FoobarAmountValueType($app); });\n$app->registerWidgetType('foobarWidget', function($app) { return new FoobarWidgetType($app); });\n$app->registerFieldType('foobar', 'foobarAmount', 'foobarWidget');\nAnd then you could use 'foobar' as a field type in your\ncontenttypes.yml, and Bolt would call into the appropriate methods.\nObviously, the devil is in the details...\nOn Sat, Mar 29, 2014 at 03:18:30AM -0700, Gawain Lynch wrote:\n\nOK, I've had a bit of a poke around and would be interested on some feedback on what I am thinking now.\nFirstly, I think widget/widgets would be better served with a class of their own, there is a lot of bouncing around going on at the moment and I found the current implementation hard to follow \u2014 on a Friday night with a glass of wine in hand ;-)\nSo something like class Widgets {} and class Widget extends Widgets {}.  Widgets is probably a controller, and in extensions we create a Widget instance and have a bunch of setters for things like (source obvious):\nphp\n    public $type;\n    public $location;\n    public $callback;\n    public $extensionname;\n    public $twigtemplate;\n    public $additionalhtml;\n    public $defer;\n    public $cacheduration;\n    public $extraparameters;\nThe widgets class probably lives in $app['widgets'] etc...  Thoughts and suggestions very welcome!\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1004#issuecomment-38991768\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Yes, all very good points.\nI guess what I'm trying to say is that since we'll be rewriting quite a\nlot of core Bolt stuff, we should try to get this right, keep it simple,\nbut not too simple. Also, think first, then code.\nOn Mon, Mar 31, 2014 at 02:15:51AM -0700, Gawain Lynch wrote:\n\n@tobias2k your input is, as always, very generous and helpful!  Collaborating with you and Bob :+1: \nI need to think about this a bit more (obviously) and this week is dedicated to writing customised migration code from WordPress/bbPress, so I don't right now I want to mix _cough poetic code / principles _cough with this ;-) (P.S. Yes I know there is an extension in Bolt that does some of this, but knot nearly enough and the results for heavily customised types/taxonomies from WP is... well...)\nAnyone else with thoughts, or template code, would be very much appreciated too.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1004#issuecomment-39068238\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. You could try the JSONAccess extension that ships with newer Bolt\nversions. Not sure if that's what you're looking for, but it's worth a\nshot.\nOn Tue, Mar 18, 2014 at 04:24:12AM -0700, diggersworld wrote:\n\nIs it possible to create a URL that goes directly to a PHP script / extension?\nFor example let's say you have a widget on the the page which updates with server status every minute. You wouldn't want to keep refreshing the whole page just to do this, so instead you'd make an AJAX request.\nSo far though I have found the need to create contenttype objects to return the results which of course come accompanied by templates etc.\nIs there a way to bypass this so that I can AJAX directly to PHP and it return the result data without the need to print it to a template?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1011\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Oh, sorry, I had things confused. That extension isn't part of the bolt\ndistribution. Let me check on that...\nOn Tue, Mar 18, 2014 at 07:44:58AM -0700, diggersworld wrote:\n\nWould you be able to link me to the JSONAccess extension? I believe I'm on the latest Bolt version, I also just checked the Git repo and could not see the extension you mention.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1011#issuecomment-37940648\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. I just added the JSONAccess extension to Bolt Core. You can find the\nrelevant code in app/extensions/JSONAccess in the current git HEAD.\nFeel free to come back with any questions that may arise.\nOn Tue, Mar 18, 2014 at 07:44:58AM -0700, diggersworld wrote:\n\nWould you be able to link me to the JSONAccess extension? I believe I'm on the latest Bolt version, I also just checked the Git repo and could not see the extension you mention.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1011#issuecomment-37940648\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. On Wed, Mar 19, 2014 at 05:17:10AM -0700, diggersworld wrote:\n\nI'm trying to create a similar thing in another extension but keep getting the following error:\nThe controller must be a callable (Array(0 => Object(MyExtension\\Extension)) given).\n``` php\nnamespace MyExtension;\nuse Symfony\\Component\\HttpFoundation\\Request;\nuse Symfony\\Component\\HttpFoundation\\Response;\nclass Extension extends \\Bolt\\BaseExtension\n{\n    function info()\n    {\n        return array();\n    }\n/**\n * Initialize Solihull BID. Called during bootstrap phase.\n * \n */\nfunction initialize()\n{\n    $this->app->get(\"/ajax/func/\", array($this))\n              ->bind('ajax_func');\n\n```\n\nTry this instead:\n$this->app->get(\"/ajax/func/\", array($this, 'ajax_func'))\n                ->bind('ajax_func');\n\n```\n}\nfunction ajax_func(Request $request) \n{\n    // ...\n}\n```\n```\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1011#issuecomment-38043971\n```\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. I am not familiar with how joomla modules work internally; however, a\nfew thoughts:\n- Having more tables in your database does not influence the performance\n  of the database itself at all.\n- The Bolt front-end does not touch any of the tables it doesn't need\n  for a particular page, so the number of content types will most likely\n  not affect performance significantly.\n- The back-end does touch all the content types though, so there will\n  be a bit of a performance impact there. Bolt is still fairly modest in\n  terms of SQL load, compared to other systems, so this may or may not\n  be a problem.\n- UI-wise, you're looking at a disaster. The Bolt back-end displays two\n  entries per content type in the \"Content\" menu; 50 content types means\n  there will be 100 entries in the menu. Not what you want, probably.\nThat said, I am genuinely curious why you'd need this. If it's something\nlike grouping content into categories and showing records selectively,\nthen I suggest you look into Bolt's taxonomy features - they are made\nfor exactly that. But again, I am not really all that familiar with\nJoomla, so it's hard to tell if that's what you want.\nOn Tue, Mar 18, 2014 at 11:36:02AM -0700, serweb-labs wrote:\n\nI would like to create something like the joomla modules, for this I\nwill add around 50 types of content, but were not used more than 5 or\n6 per page. Is this going to slow down bolt?\nBetter alternative exists?\nThanks.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1014\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Fixed!\n. I've tested this on a local Bolt install, but can't seem to reproduce\nthe error. Uploading PDF documents works fine, as does downloading them\nthrough /files/.../filename.pdf; Firefox 24 downloads the document and\ndisplays it in the default PDF viewer. I've uploaded PDF files both\nthrough the file manager and by editing a \"kitchensink\", and both ways\nwork fine.\nMaybe you could provide us with the following:\n- A step-by-step description of what you are doing\n- What you expect to happen\n- What you observe\nAdditionally, in order to reproduce this, some technical information\nabout your system would be nice - what platform you are hosting on, PHP\nversion, browser version, OS.\nOn Thu, Mar 20, 2014 at 05:46:55AM -0700, Rix Beck wrote:\n\nI have a content with a file type field in. Because of Firefox bug https://bugzilla.mozilla.org/show_bug.cgi?id=373621 the chosen file type should contains text/html mime type in https://github.com/bolt/bolt/blob/master/app/view/js/bolt.js#L382. Therefore uploading PDF is impossible. Workaround is necessary.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1019\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. And then what happens? Does Bolt indeed treat the file as text/html?\nWhen I test this, the PDF file gets uploaded and saved as-is, and when\nyou download it back from Bolt, it's served as PDF, not HTML.\nOn Thu, Mar 20, 2014 at 09:13:25AM -0700, Rix Beck wrote:\n\nWin7/x64/Firefox 27.0.1\nNew Content (that has file field). Put JS breakpoint at L382. Click file button, select a pdf file, OK. At break inspect file object:\n{ \nlastModifiedDate: \"Date {Mon Jun 11 2012 22:29:22 GMT+0200}\",\nmozFullPath: \"D:\\install\\books\\High Quality PHP Frameworks.pdf\",\nname: \"High Quality PHP Frameworks.pdf\",\npath: \"\",\nsize: 51332135,\ntype: \"text/html\",\nconstructor: [object File],\nmozSlice: mozSlice(),\nslice: slice(),\nproto\n}\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1019#issuecomment-38186942\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. On Thu, Mar 20, 2014 at 09:32:04AM -0700, Rix Beck wrote:\n\nDoesn't accept it because input type accept just predefined types are testing against regexp.\n\nI'm sorry, my brain fails to parse this sentence. Maybe I'll try again\non monday.\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1019#issuecomment-38189313\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Apart from the slightly embarrassing fauxpas of performing filesystem\noperations in a constructor, it looks like decent enough code, from a\nquick glance at least. Looks much better than timthumb in any case.\nOn Mon, Mar 24, 2014 at 12:54:28AM -0700, Gawain Lynch wrote:\n\n@bobdenotter what about https://github.com/masterexploder/PHPThumb as it is PSR/Composer compliant?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/1020#issuecomment-38418817\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. On Mon, Mar 24, 2014 at 02:44:23AM -0700, Gawain Lynch wrote:\n\nOne of the things that I thought might make this suitable for Bolt\nis the plugin system, so we don't have to carry out of tree\nmodifications like we do with TimThumb.  That and from reading the\ndocumentation the author at least seems to be open to collaboration\n(that would obviously need to be human-tested).\n\nAnd even if not, phpthumb looks a lot more forkable than timthumb.\n. I'm certainly not looking forward to WP-esque situations, or, worse yet,\nASP.NET style ScriptManager nonsense.\nrequire.js is really really nice. I use it for a few personal projects;\npretty much fixes javascript's lack of a module system, takes care of\navoiding multiple inclusions, vendor script versioning, resolving naming\nconflicts, and asynchronous script loading.\nProblem is, I don't see how we'd change Bolt to the point that it'd be\nrequire-js-able without utterly breaking any existing sites. In any\ncase, we'd probably want some infrastructure in Bolt to somehow glue\nscript management in the backend together with requirejs. But the\nexisting scripts would also have to be bashed into a suitable module\nformat, and probably heavily refactored from \"YOLO, let's make\neverything global for convenience\" to actually doing things right (read:\nmodular). Either way, we'd still break existing themes and extensions,\nand I don't really have a clue how we'd solve that.\nOn Mon, Mar 24, 2014 at 12:31:24PM -0700, Gawain Lynch wrote:\n\nSo $this->addJquery(); is the only safe way to include a bundled jQuery and preserve correct inheritance/inclusion...  Starting to smell like where/why VoldemortPress does things the (wrong) way they do.\nMy head hurts and wp_enqueue_script() is nothing short of a freakin' disaster for MVC instrumented output, but I am having trouble imagining something past a waning in the docs...  I know I wasn't asked for anything but that, but does anyone have some wisdom toward an elegant solution?  (@tobias2k I am also looking at your OCD now in hope)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/1030#issuecomment-38489866\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. On Tue, Mar 25, 2014 at 03:01:19AM -0700, Gawain Lynch wrote:\n\n\nProblem is, I don't see how we'd change Bolt to the point that it'd be require-js-able without utterly breaking any existing sites.\n\nThat one is really a Bob call.\n\nAgree.\n\nI feel that we need to do something, this project feels like one that\nis going to continue to grow and grow ;-) so at some point we are\ngoing to have to break things to make them better, it is a question of\ncurrent userbase or larger userbase.  That kind of breakage is major\nversion attached though, maybe for a Bolt 3.0 with deprecation\nwarnings and documentation in 2.0.\n\nYeah, it's certainly not something you'd add in a whim.\n\nI haven't used require.js so I don't know if you can use both side\nby side to allow for a period of time to give developers the chance to\nmigrate to the new way before it becomes standardised in 3.0 (or\nwhatever version).\n\nI don't think so, really. Not without a lot of pain. IMO, if we want to\ndo this, we have to do it as part of a breaking-change release, because\nfrankly, I don't see a way of doing this smoothly.\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/1030#issuecomment-38547181\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. As much as I hate admitting that the Drupal folks did anything right\nwhatsoever; this is spot-on. I do normally favor evolution over\nrevolution, but when a design is wrong, inappropriate, or insufficient,\nI'd rather rewrite and break things earlier than too late.\nOn Tue, Mar 25, 2014 at 04:13:38AM -0700, Bob den Otter wrote:\n\n\nso at some point we are\n going to have to break things to make them better, it is a question of\n current userbase or larger userbase.  That kind of breakage is major\n version attached though, maybe for a Bolt 3.0 with deprecation\n warnings and documentation in 2.0.\n\nI don't mind breaking things for a major version. At all. There was this huge fallout a while ago about people getting miffed that Drupal 8 breaks all sorts of shit, \"just because\" they're moving parts to Symfony. At the same time, I'm sure the only reason that Drupal is still relevant (as opposed to PHPnuke or CodeIgniter) is that they do this, instead of staying with old stuff, just for the sake of not breaking anything. This is a good post about it: http://buytaert.net/why-the-big-architectural-changes-in-drupal-8\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/1030#issuecomment-38552508\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. The problem, as far as I understand, is that there are basically three\nthings in Bolt that may rely on external JavaScript being loaded:\n- Bolt core (especially the backend)\n- Themes\n- Extensions\nThe problem is, however, that there is overlap between these, and\ntypically things like jQuery don't like being loaded twice - especially\nnot two different, incompatible versions.\nSo if we now have an extension that wants jQuery 1.8, another one that\nwants 2.0, and Bolt provides 1.9 (hypothetical example), we need to\nsomehow manage this mess, and I don't really see a nice solution for\nthis that wouldn't break existing code.\nRequire.js would solve this because it has explicit mechanisms for\nloading modules into a namespace; it is the elegant solution, but it\nwould break everything.\nThe alternative is some sort of script registry in Bolt; each module\nwould register its required scripts, and Bolt would provide a Twig\nfunction that would inject script tags as needed. This would avoid\nloading scripts twice, but it wouldn't fix version conflicts, name\nclashes, and probably not dependency order either.\nOn Tue, Mar 25, 2014 at 05:29:02AM -0700, Rix Beck wrote:\n\nI love bolt because I have enough freedom to decide using require.js or server side templating or almost anything. This open minded approach let me integrating my whole web application into bolt without pain and that is because I didn't use Drupal, Joomla or other mainstream CMS at all. I'm not sure that I understand the problem exactly so if you guys can help me understand I'll be glad.\nJust because I'm currently using requirejs intensively in my webapp that served via twigs from bolt. I'd rather be suggesting let's write use case examples about preferred ways to apply approaches to do this or that.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/1030#issuecomment-38557917\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Yes. 3.0 please. This is a pretty big thing, don't want to rush it.\nOn Tue, Mar 25, 2014 at 06:05:29AM -0700, Bob den Otter wrote:\n\n\nSo do we create this as a task for 2.0 or 3.0? \n\n2.1 or 3, as far as i'm concerned. If we keep adding big features to 2.0, we'll never ship it. \n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/1030#issuecomment-38561304\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Indeed. And while we're at it, maybe 3.0 is a good moment to start\nworking on a \"current\" and a \"next release\" branch in parallel? That is,\nmaintain a stable release (at feature freeze or whatever) and work on\nthe 3.0 version at the same time.\nOn Tue, Mar 25, 2014 at 06:44:36AM -0700, Gawain Lynch wrote:\n\n\nThis is a pretty big thing\n\n:+1: for 3.0\nIt would also give the advantage of warning people now about what is going to change and mindset/expectations can be adjusted accordingly.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/1030#issuecomment-38565204\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. I assume your function returns a string. Strings and HTML are different\nthings, and Twig treats them as such - that is, any strings you\ninject into the template will be converted to HTML (by applying\nHTML-encoding). If you want to pass something to Twig that is HTML\nalready, you need to wrap it in a Twig_Markup object, e.g.:\nfunction truncate_words($txt, $num_words) {\n    $txt_truncated = however_you_do_the_truncating($txt, $num_words);\n    return new \\Twig_Markup($txt_truncated);\n}\nThis way you signal to Twig that whatever you're passing is pre-encoded\nHTML.\nHOWEVER, THIS IS NOT SOMETHING YOU WOULD NORMALLY WANT TO DO.\nThe problem with this approach is that your truncating function now\nworks on HTML, not strings, and unlike strings, HTML cannot be split at\narbitrary points without risk of making it malformed. Take, for example:\nsubstr('<strong>Hello, world!</strong>', 3, 22);\nThe result is not well-formed HTML, and inserting it into an HTML\ntemplate can have a number of undesirable consequences:\n- Your page structure will become undefined; this means that the user\n  agent will try to take a best guess at what you meant, but it'll be a\n  guess - you do not have control over the result, and it could change\n  with the next browser update. It won't be portable across user agents\n  either.\n- Likewise, your CSS may or may not keep working.\n- You're introducing a security flaw - broken HTML is easier to exploit,\n  and by purposefully breaking the page structure, an attacker can\n  possibly inject malicious scripts and other undesirable things.\nTo solve this, you have three choices.\n1. Do the truncating on plain text. This means, however, your data\n   cannot have any markup in it - just plain text. If your data is\n   currently HTML, you need to convert it to text first (this is what\n   trimToText() in lib.php does - do NOT use strip_tags() for this, this\n   function merely removes tags, but it doesn't convert HTML entities).\n2. Do the truncating in the HTML DOM. This is quite tricky, but you may\n   have some success adapting the trimToHTML() function in lib.php to your\n   needs. The general procedure is to recursively walk through the DOM\n   tree, keeping track of the text length of the current node and the total\n   of all nodes visited so far; once the text length exceeds the truncate\n   threshold, stop iterating and collect the node tree visited so far,\n   discarding any subsequent branches at any level of the DOM tree.\n3. Brutally truncate the HTML itself anyway, then run it through Maid to\n   make it well-formed again and avoid security problems. The downside of\n   this, obviously, is that you can still get artifacts and strange edge\n   cases, e.g. if you split in the middle of an HTML entity, Maid treats it\n   as a plain character sequence and HTML-encodes it, so you might see\n   things like \"&am\" at the end of the outputted HTML occasionally.\nCome to think of it, word-based truncating actually sounds like a useful\nfeature; if you complain loud enough, maybe someone can add it to Bolt\nproper.\nOn Mon, Mar 24, 2014 at 10:26:14AM -0700, diggersworld wrote:\n\nI have a custom function which takes in a string of text and truncates it, then returns it to the front-end. It's slightly different to the one included as it only truncates after a space or grammatical character.\nHowever when using the function any special characters such as ampersands come out double encoded... i.e. &amp; on the page and &amp;amp; in the source. My function doesn't do any character encoding.\ntwig\n{{ truncate_words(record.summary, 100) }}\nI assume its the way I pass an escaped string to the function and then print it, so it results in double encoding. How do I solve this problem?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1034\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Because it contains \"generated\" code, that is, code that can be\nreproduced based on information present in the repository.\nJust like you don't include the contents of your cache directory in the\nrepository, you don't include anything else that can be generated or\nautomatically rebuilt in any way.\nThe vendor directory is where composer puts its dependencies; we do\ninclude composer.json, which is enough to completely reproduce the\nentire /vendor directory, provided you have a working internet\nconnection and a copy of composer itself.\nIf we were to include the /vendor directory, we would cause more\nproblems than we'd solve:\n- pulling in new versions through git would overwrite the /vendor\n  directory, which might confuse composer\n- two people working on the same code, but pulling in the dependencies\n  at different times, would end up having two different versions of the\n  files in /vendor, and having those in git would cause \"phantom\"\n  conflicts, that is, we'd have to resolve conflicts in code that isn't\n  ours to begin with\n- /vendor is no longer guaranteed to match composer.json after a\n  pull/merge\n- people who use a highly automated workflow would be more likely to\n  accidentally commit things that aren't related to their current work\n  at all, just because they happen to have updated their dependencies\n  since the last commit\n- selectively merging commits would be considerably more difficult\nBut the core problem, really, is that it is wrong to commit generated\ncontent into a source repository.\nOn Thu, Mar 27, 2014 at 07:06:50AM -0700, serweb-labs wrote:\n\nWhy the \"vendor\" folder is not included in this repository?\nThanks.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1047\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Are you sure it really does get different HTML? Or does the JS generate\ndifferent HTML based on feature detection, and what you're looking at is\nthe DOM as seen by the browser after the script has initialized\neverything? Also, certain FF versions aren't completely honest when you\nask them to \"show source\". If you really want to dig deep into this, you\ncould use curl or wget, spoofing the User-Agent header as needed to see\nBolt's raw response.\nBut AFAIK, Bolt does not do any browser sniffing, so what you get served\nshould be exactly identical for any browser.\nOn Fri, Mar 28, 2014 at 08:34:19AM -0700, Rix Beck wrote:\n\nGood to hear. It's very strange to me, how Chrome gets completely different Html than FF. (Theme contains just nothing form me but head, body and the editcontent(). I don't eat more mushroom... %)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/1053#issuecomment-38932443\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. That does make sense; AFAIK, the template cache gets invalidated when\nthe template changes, but not when different functions get assigned to\nTwig functions or filters.\nMy guess is there are two reasons for this: first, detecting such\nchanges would require deeply self-inspecting code, and second, code\nchanges are less frequent, more likely to come from someone who knows\nhow to clear the cache, and typically happen during core or extension\ndevelopment, and pushing to production systems hopefully takes care of\nclearing template caches too.\nTL;DR: if in doubt, clear all caches when deploying any code changes.\nOn Tue, Apr 01, 2014 at 12:32:36PM -0700, Rix Beck wrote:\n\nFirst I tried to assign different php methods under same twig function name as you suggested. As I experienced twig has written the compiled file and next time - no matter which php method was assigned - just processed the stored, cached script. I didn't dig deeper, sorry...\nRegarding the extension, default CKEditor based version is already in the updated PR. :-)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/1053#issuecomment-39248290\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Not exactly ugly, just quite heavy on resources. Conceptually, there's\nnot a lot of difference between an image thumb and a PDF preview, but\nmaking PDF previews is computationally more expensive. But then, if we\ncan find a library that can do this in a timely and reliable fashion, I\ndon't really see why not.\nOn Tue, Apr 01, 2014 at 03:23:29AM -0700, anketwokings wrote:\n\nBob asked me to add this as an issue, since we will implement it soon for a client. :) But good point on the previews of the pdf's That is indeed really ugly, and adding a preview would be nice, but a hell of a job, possibly an overkill..\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1062#issuecomment-39190516\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. This might work:\nhttp://stackoverflow.com/questions/467793/how-do-i-convert-a-pdf-document-to-a-preview-image-in-php\nTwo obstacles here:\n1. hooking it up with existing thumbnail infrastructure\n2. feature-testing whether imagemagick and ghostscript are available on\n   the server\nPerformance, I believe, is not going to be a huge issue, considering how\nwe're caching all the thumbnails, and there are not going to be massive\namount of simultaneous uploads.\nOn Tue, Apr 01, 2014 at 07:33:36AM -0700, Mike Anthony wrote:\n\nI agree - if it can be done, then it should be.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1062#issuecomment-39212200\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Well, obviously if you pass something into that function that is HTML-encoded already, treat it as a raw string and then convert it to HTML, you'll get HTML-encoded HTML... hmm...\n. The parameters are HTML-encoded, but the template isn't. Passing HTML into the parameters adds HTML-encoding.\nI'll fix it.\n. Well, I am aware of the defaults, but they only solve the issue\npartially, and not all that elegantly at that. It's good to have them,\nbut they don't cover the following cases:\n- moving and renaming settings (e.g. from foo/bar_baz to foo/bar/baz)\n- changing the data type of a setting (e.g. from a regular expression to\n  a proper list ;)\n- deleting settings\nOn top of that, I believe that providing some sort of structural\nverification on the config file would help prevent facepalm moments\nduring development.\nBut I also realize that this is not a trivial task, so feel free to\nclose.\nOn Wed, Apr 02, 2014 at 12:37:38PM -0700, Bob den Otter wrote:\n\nNot that I don't think that this isn't a worthwhile idea, but the example you chose isn't the best. In this case, we've added a default in Config.php: https://github.com/bolt/bolt/blob/master/app/src/Bolt/Config.php#L540\nPerhaps a good option would be to add new and unset options to the file, if possible? \n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1068#issuecomment-39373890\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Example?\n. Ah, right. Hmm. Gotta look into this then.\n. NP. I broke it, I'll fix it.\n. I'm kind of low on time, but the 'is iterable' check in twig looks like\na promising candidate. Now that we're json-decoding everything into\narrays instead of deserializing what may have been an object that\nimplements Iterable, my theory is that Twig's is iterable check only\ndoes $value instanceof Iterable, but not || is_array($value). I may\nbe wrong, will check later.\nOn Wed, Apr 02, 2014 at 04:33:51AM -0700, Gawain Lynch wrote:\n\nYeah, sorry mate...  If I wasn't running on 4 hours sleep I would have gone looking myself :-(\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1070#issuecomment-39319709\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Ah, it was something else after all. Something in the Content code checks whether something is a serialized array by looking at the first two bytes - if those are 'a:', then it tries to deserialize the value. Obviously JSON does not tend to start with those two bytes...\n. Of course. I am the indentation nazi.\nOn Wed, Apr 02, 2014 at 06:24:03AM -0700, Gawain Lynch wrote:\n\nExcellent, thanks!  You even got one of my indent typos :-)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1070#issuecomment-39329078\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Great! Now on to the bug I discovered while fixing this one...\nOn Wed, Apr 02, 2014 at 06:38:29AM -0700, Gawain Lynch wrote:\n\nOh, on a serious note, I updated 15 records and it works beautifully!\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1070#issuecomment-39330656\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. The way I see it we need 3 mandatory fields: Singular and Plural Name\n(both strictly for human consumption only), and a \"Machine Name\" (excuse\nthe drupal lingo). The Machine Name should be used for anything that\nneeds a unique identifier for the content type - table names,\npermissions, twig, cache, etc.\nSlugs sit somewhat in between the domains of machine-readable and\nhuman-readable identifiers; the most sensible way for those, IMO, is to\ndefault to the Machine Name, but provide an optional \"slug\" property\nthat overrides the Machine Name.\nAnd that should be all we could possibly ever need (see also: \"640 kB\nshould be enough for anyone\").\nOn Wed, Apr 02, 2014 at 01:37:01PM -0700, Bob den Otter wrote:\n\nI seem to remember there was an issue with doing that. I can't recall the exact reason though.. \nPerhaps we should try it out, and if it doesn't crash and burn, I'm not against changing it that way.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1071#issuecomment-39380202\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Having a \"guess\" is definitely not always better. It's great in the\n\"present potentially malformed data to a human\" scenario, but if you\nneed a machine to process things, I prefer the \"better safe than sorry\"\nstrategy.\nRegarding pluralization, it's one of those things that appear simple and\nstraightforward, until you actually implement it. In short: natural\nlanguages are weird and quirky. Even English.\nOn Fri, Apr 04, 2014 at 08:22:17AM -0700, Koen Schmeets wrote:\n\nIsn't the config \"always english\" and then translated by the language\nfiles?\nHaving a \"guess\" is always better than having nothing =), but perhaps\nit should just be a required property?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1071#issuecomment-39576823\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Nice! I've been doing some background-processing thinking about this\nmyself, but haven't gotten around to writing any code. Feel free to pick\nmy brain for thoughts/ideas/critique though.\nOn Wed, Apr 02, 2014 at 01:33:21PM -0700, Koen Schmeets wrote:\n\nGood to know!\nI guess I will spend some weekend-time on this and make it happen.\nExpect a PR ;)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1072#issuecomment-39379810\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. I don't think this is how we should do it.\nApart from the somewhat gaping security hole, there are more problems\nwith this approach:\n- you are bleeding SQL syntax into the query string, but since we\n  support more than one SQL backend, people might start using SQL\n  functions that are specific to one backend\n- it's easy to produce invalid SQL this way, in non-obvious ways:\n  debugging nightmare.\nA better way, IMO, is to special-case \"RANDOM\" for ordering, both in the\nvalidation regex and the underlying code that handles it; or,\nalternatively, introduce a \"randomize\" query string parameter.\nOh, and btw, ORDER BY RAND() has some nasty performance implications -\nit basically makes all your indexes useless, causing a full table scan.\nSee this article:\nhttp://www.webtrenches.com/post.cfm/avoid-rand-in-mysql\nAs that article states, this is not a problem if you have a handful of\nrecords and the entire table fits into the available RAM comfortably,\nbut it doesn't scale at all. Even if it's OK for now, it's nice to\nseparate the implementation details from the JSON front-end, so that we\ncan change the SQL implementation later if required.\nAnd then there's another conceptual problem: allowing random results\nfrom GET means our response no longer meets HTTP semantics; if we want\nto play this right, we would have to detect the RAND() parameter and set\ncache expiration headers etc. appropriately at least, to indicate that\nwhatever you're GETting is going to be invalid immediately after you\nfetch it. OTOH, I would consider this mostly acceptable, especially\nsince the alternatives would require fetching ALL the ID's from the\nparticular table, doing the random selection on the client, and then\nfetching the records one by one. Not nice.\nOn Thu, Apr 03, 2014 at 01:54:43AM -0700, Gawain Lynch wrote:\n\nUse case:\nObtaining a random set of results e.g. http://mysite/articles/?order=RAND%28%29&limit=5\nRisk:\nPossible injection vector.\nPossible other options:\nChecking 'order' for RAND and RANDOM and inserting them in code.\nWill update PR if better idea put forward\nYou can merge this Pull Request by running:\ngit pull https://github.com/GawainLynch/bolt hotfix/JSONAccess\nOr you can view, comment on it, or merge it online at:\nhttps://github.com/bolt/bolt/pull/1075\n-- Commit Summary --\n- Allow for use of '()' in json_list 'order'.  \n-- File Changes --\nM app/extensions/JSONAccess/extension.php (2)\n-- Patch Links --\nhttps://github.com/bolt/bolt/pull/1075.patch\nhttps://github.com/bolt/bolt/pull/1075.diff\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/1075\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Yeah, it's a \"YMMV\" situation I guess. Which is why I suggest we use\nORDER BY RAND() anyway, but decouple it from the JSON interface.\nWe want the decoupling anyway, if only for security and compatibility\nreasons.\nOn Thu, Apr 03, 2014 at 02:28:38AM -0700, Gawain Lynch wrote:\n\nBTW, I have used RAND() on 1,000,000+ row sets just fine...  I don't quite buy what is being said in that article.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/1075#issuecomment-39431329\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Still assumes that the RAND and RANDOM functions are available on the\nbackend.\nI'd prefer facilitating shuffling in the $options field separately,\nsomething like:\nphp\nif ($order = $request->get('order')) {\n    if (!preg_match('/^([a-zA-Z][a-zA-Z0-9_\\\\-]*)\\\\s*(ASC|DESC)?$/', $order, $matches)) {\n        return $this->app->abort(400, 'Invalid request');\n    }\n    if (strtoupper($order) == 'RAND') == 'RANDOM') {\n        $options['shuffle'] = true;\n    }\n    else {\n        $options['order'] = $order;\n    }\n}\n...and, obviously, read the 'shuffle' key from the options in whatever\ndark corner we're building our SQL queries.\nOr maybe even:\nphp\nif ($order = $request->get('order')) {\n    if (!preg_match('/^([a-zA-Z][a-zA-Z0-9_\\\\-]*)\\\\s*(ASC|DESC)?$/', $order, $matches)) {\n        return $this->app->abort(400, 'Invalid request');\n    }\n    $options['order'] = $order;\n}\nif ($request->get('shuffle')) {\n    $options['shuffle'] = true;\n}\nOn Thu, Apr 03, 2014 at 02:42:07AM -0700, Gawain Lynch wrote:\n\nWhat about this?\nphp\nif ($order = $request->get('order')) {\n    if (!preg_match('/^([a-zA-Z][a-zA-Z0-9_\\\\-]*)\\\\s*(ASC|DESC)?$/', $order, $matches)) {\n        return $this->app->abort(400, 'Invalid request');\n    }\n    if (strtoupper($order) == 'RAND' || strtoupper($order) == 'RANDOM') {\n        $order = $order . '()';\n    }\n    $options['order'] = $order;\n}\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/1075#issuecomment-39432456\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Sorry for being anal, but the way I see it, you're bleeding\nimplementation details (SQL syntax, mainly) from getContent into the\nJSONAccess user code and back.\nI'd strongly prefer a solution that passes the information \"use random\nordering\" into getContent() in a more structured way. Either way, the\npart where you determine which SQL function to use for the random\nordering really belongs in a deeper layer, most likely getContent() or\neven Storage.\nOn Fri, Apr 04, 2014 at 12:52:02AM -0700, Gawain Lynch wrote:\n\nWhat do you think about that @tobias2k?  I thought I'd cover a few possible input types to cover peoples differing habits...  Always happy to change though!\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/1075#issuecomment-39539889\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Second that. Even if we do rewrite, I prefer doing it one part at a\ntime, not everything from scratch.\nI could go on for ages about this, but Joel Spolsky pretty much says it\nall.\nOn Fri, Apr 04, 2014 at 05:24:42AM -0700, Bob den Otter wrote:\n\n\nI started refactoring some stuff, but it turns out it is a lot easier to simply start over.\n\nThat is a very bold statement to make. You should read this classic article:  http://www.joelonsoftware.com/articles/fog0000000069.html\nAll joking aside, I know the feeling. But, \"rewriting Bolt from scratch\" will be a huge effort. By my estimation, there's about 3.000 man-hours in Bolt now, and that is not including any of the external libraries. If you think you could rewrite this with all the current functionality in a few weeks, you're underestimating the amount of time spent fine-tuning, iterating stuff and general unexpected things. \nI'm all in favor for piece-wise refactorings, and I like most of the ideas that you've posed here, but we really should do them one by one. \nAlso, I really don't want to take another 6 months longer before we could release 2.0. :-)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1079#issuecomment-39559094\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Well, you can define classes in your extension and have other extensions\nuse those; AFAIK, the inclusion order in config.yml must be just right\nfor this to work correctly, and there is no dependency resolution worth\nmentioning yet, but other than that, extensions can just use each\nother's code.\nRegarding encrypted user data: Encrypted data storage does make sense,\nbut for it to actually mean something, you need to store the encryption\nkeys separate from the database. For example, one setup that would\nincrease security would be to use a logged-in user's password as part of\nthe encryption key; Bolt doesn't store passwords, only hashes, but since\nthe user enters a password when logging in, this information can still\nbe used to generate or unlock a key, and even though the encryption and\ndecryption happens server-side, no information is leaked if both the\napplication code and the database get exposed. OTOH, the key needs to be\npersisted across requests, which means it will have to stay in a\nsession, a temp file, or some sort of in-memory cache like memcache, and\nattacking those would still leak the key.\nI agree, in any case, that encrypting the personal data using a key that\nthe application can access without any further authentication from the\nuser's side (e.g. an entry in a config file) is relatively pointless,\nespecially if you consider that all the plausible attack vectors either\ngo through the application code itself (SQLi, XSS, CSRF, RCE,\nbrute-forcing, timing attacks, etc.), or by gaining a shell on the web\nserver; either way, a key that is accessible to the application is easy\nto read or use this way.\nOn Wed, Apr 09, 2014 at 03:02:19AM -0700, diggersworld wrote:\n\nIf I write my encryption code into an extension. Is there a way I can\nall that extension from the internal Bolt files? It will most likely\nbe Users.php as that's where the majority of user data is filtered and\nI will obviously need to both encrypt it and decrypt it.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1080#issuecomment-39947318\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. On Wed, Apr 09, 2014 at 06:58:20AM -0700, diggersworld wrote:\n\nThe password method is an interesting one - not seen that suggested\nbefore. It does a have a few problems though such as if the user ever\nchanged their password via a forgotten password method then you\nwouldn't be able to decrypt the existing data (because the password\nfor the encryption key would be unknown).\n\nWell, obviously you would have to re-encrypt the data when the password\nchanges. Or you could have the user enter a separate passphrase to\nunlock their private key on the server. It's kind of a compromise\nbetween real end-to-end encryption (which would require doing the\nencryption and decryption on the client) and no encryption at all.\nOf course, finding a JavaScript GPG implementation and actually\nencrypting and decrypting on the client would also work (but it would\nrequire somehow exposing the GPG private key to the JavaScript part,\nwhich in turn would have a whole slew of other security implications).\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1080#issuecomment-39966557\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Ah, right. Well yes, that's kind of how encryption works - you lose the\npassword, your data is gone. Not really something you can mitigate IMO.\nOn Wed, Apr 09, 2014 at 07:28:40AM -0700, diggersworld wrote:\n\nYou have misunderstood my previous response. By \"forgotten password\" I imply that they do not know the password with which the stored data has been encrypted. Therefore when they do the reset the system would not be able to re-encrypt it because it doesn't know the original password it was encrypted with.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1080#issuecomment-39970168\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. There must be something else going on here though. Passing \"\" as a\ndefault argument does work, and has been for quite a while, even in\nPHP versions long before 5.3. I wrote a little test to confirm that this\nis also true for this specific case (default argument in a constructor).\nI agree that PHP \"sux\", but it definitely doesn't suck in the way this\nparticular \"fix\" suggests.\nHowever, this change does seem to fix \"something\", but rather than\nassume that it'll be alright, I'd prefer figuring out what exactly\nfailed and why this change fixes it, if only to make sure you haven't\njust exchanged one undocumented edge case for another.\nOn Thu, Apr 10, 2014 at 09:38:52AM -0700, Rix Beck wrote:\n\n... 'new Cache()' won't initializes with correct BOLT_CACHE_DIR\nYou can merge this Pull Request by running:\ngit pull https://github.com/rixbeck/bolt master-org\nOr you can view, comment on it, or merge it online at:\nhttps://github.com/bolt/bolt/pull/1099\n-- Commit Summary --\n- PHP sux: Empty argument never be overriden with \"\" default parameter, so 'new Cache()' won't initializes with correct BOLT_CACHE_DIR\n-- File Changes --\nM app/src/Bolt/Cache.php (4)\n-- Patch Links --\nhttps://github.com/bolt/bolt/pull/1099.patch\nhttps://github.com/bolt/bolt/pull/1099.diff\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/1099\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Oh, I had \"results\" all along, confirming that indeed the default\nargument does work as expected. So my point stands, there must be\nsomething else going on here.\nOn Mon, Apr 14, 2014 at 02:35:26AM -0700, Rix Beck wrote:\n\n\nThere must be something else going on here though. Passing \"\" as a default argument does work, and has been for quite a while, even in PHP versions long before 5.3. I wrote a little test to confirm that this is also true for this specific case (default argument in a constructor). I agree that PHP \"sux\", but it definitely doesn't suck in the way this particular \"fix\" suggests. \n\nTrue. I did also a test now under 5.3 and 5.4 and you're right. Moreover also regarding our knowledge about PHP it should be working... :)\nPlease let me know the results. Thanks.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/1099#issuecomment-40348146\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. A bit of explanation here:\nWhen you change contenttypes.yml, the database check changes the schema\nof the underlying database to match the content types. However, if you\nremove a field, the corresponding column is kept around in order to\navoid losing any data; Bolt merely ignores the field altogether, but the\ncolumn still exists. For most of the fields you create, this is not a\nproblem, because they are nullable or come with a sensible \"empty\"\ndefault, but for a non-default NOT NULL field, the leftover column in\nthe database is required for INSERT queries - but Bolt doesn't know it\nexists anymore, so it doesn't appear in the INSERT query, and the\ndatabase (rightfully) complains about the missing value.\nOn Mon, Apr 14, 2014 at 10:27:23AM -0700, diggersworld wrote:\n\nThe solution is to go into your db, find the categories table, and delete the title column then.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1100#issuecomment-40393835\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. We don't have any built-in functionality for this, but we do have a\nlibrary in Bolt called \"htmlmaid\" (or \"maid\" for short) that might be\nable to do what you want, with a bit of glue code.\nOn Fri, Apr 11, 2014 at 08:10:21AM -0700, Evert Albers wrote:\n\nSince Bolt does a check anytime when the contenttypes.yml is updates anyway, is it easy to add a basic HTML validation  for stray < or /> signs - or even better, unclosed HTML tags - within in postfixes/prefixes? \nA well-placed < can really screw up the back-end, as I just experienced (don't ask).\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1102\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Well, there are many ways to Rome, a lot depends on what you want to do\nwith the answers.\nA simplistic solution is to make, well, a poll contenttype with a\ntitle, question text, and a number of answers, and then provide a\npoll.twig template to render that as an HTML form. That part is easy;\nthe hard part is handling POSTs from that form, and I'm afraid Bolt\ndoesn't come with anything built into it for that.\nYou can, however, write an extension that does that - it should be\nfairly straightforward, but it does require some programming. A rough\noutline what I imagine you would do:\n- create a class for your extension\n- define a table schema for storing poll responses (the database check\n  will take care of actually creating the table for you)\n- define a POST handler that reads the question ID and given answer from\n  the request and stores them in the poll responses table\n- define a Twig function that fetches poll responses for a given\n  question ID (you'll use this to display poll responses in the\n  front-end).\nThe WaffleOrders extension that ships with recent Bolt versions\nimplements a simple CRUD cycle and touches pretty much all the concepts\noutlined above.\nAnother option is to just use an existing poll solution, and embed it\ninto your page; how exactly you do that depends on the particular\nsolution, but I imagine it'd be something like an iframe or a bit of\njavascript.\nOn Sun, Apr 13, 2014 at 09:44:46AM -0700, leonardothizon wrote:\n\nHi!\nI'd like to create something like a poll, where I can define a question and the possible answers. Can someone give me a tip for doing that?\nThanks.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1108\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Not sure I understand what you want (not familiar with portal\nterminology, mind you), but from what I do understand, my guess would be\nthat vanilla Bolt can get you a long way. You'd need some data\nstructures to describe the page layout, areas, and things that can go\ninto those areas, but I believe that's something Bolt can handle fine;\nfor the rest, Twig might actually have everything you need. It's pretty\nmuch a complete programming language after all.\nThe only thing I think might require custom PHP coding is the part where\nusers create layouts and pages; you probably want somethine more visual\nthan Bolt's standard backend UI here.\nOn Mon, Apr 14, 2014 at 05:15:25AM -0700, Rix Beck wrote:\n\nBecause I had to replace a working resource vampire java based portal and decided to implement it under Bolt, I have to make try to extend Bolt's functionality with layout editing. Because it is a quite large bite I think it is a good idea talk about it 'cause I don't want to reinvent any warm water. Is there a work in progress under this chapter? Do you have better idea, or suggestions? Please share...\nCurrent status: under development \nFeature draft\nTerminology\nUnits are HTML fragments of any of next items.\nContent is a Bolt contettype element which describes a specific visual unit to be displayed. Contents can be placed on a layouted webpage within a container element called portlet. \nPortlets has some attributes that can control visual look of its content instance. Portlet instances can be placed in a container area.\nAreas are placeholders in a layout.\nLayouts are HTML fragments may have multiple areas should be ordered and layouted by different ways.\nEach page can be addressed by a URI and should contain a layout that finally determines the look of each contained portlets that can be sorted as you like.\nStructure\n\nThis feature is planned to implement as a Bolt extension\nBecause of some kind of HTML structural requirements - like being of portlet and area units - it will shipped with a portal theme and it won't work without.\nRequired schema of any unit is described as Bolt contenttype, therefore whole data structure is handled by the core.\n\nFrontend\n\nEarly versions I'm focusing on constructing pages via templates as much as possible. Then could see weaknesses...\nNext versions the user logged in has option to adjust properties of portlets on the frontend, remove or reposition them with drag&drop too.\n\nBackend\n\nCurrently I have a working structure and each unit can be managed by hand on the backend now.\nJust planning a visual admin interface to manage page-layout-portlets-contents assignement and there is good chance for a D&D style interface.\nContainer units should be switched off from backend menu (either by permissions' view option) when once DD ui begins to work.\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1111\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Well, the drag & drop UI is mostly a client-side thing, really. On the\nserver, there isn't going to be an awful difference IMO.\nOn Tue, Apr 22, 2014 at 03:03:34AM -0700, Rix Beck wrote:\n\nThanks Tobias,\nI thought that I would make a try to describe what I plan to do just because It was some kind of request before here about such feature like this. And it's quite large task to doing it parallel with somebody else, if may somebody has similar plans. Although I had experiences portal systems and it's a little help me not to build just from the ground. So we have a good chance to have a drag and drop style layout builder in Bolt. I'd finished to build first version of db structure in bolt and templates that makes view in front so next GUI comes in backend now. If I have something I will show you regarding opinions. \n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1111#issuecomment-41022832\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Correct me if I'm wrong, but I think the idea is that you have some\nlayout templates, and some \"widgets\" (which could be anything from a\nsimple read-only view into the application's data up to something highly\ndynamic), and users can customize pages by selecting a layout template\nand dragging widgets into various slots. A bit like how block-based\nlayout works in Drupal, except it's per-user rather than global. It's\nactually quite a common UI paradigm for intranet platforms and such, the\nidea being that users know best. Think \"customizable dashboard\", and\nyou're close.\nOn Tue, Apr 22, 2014 at 08:59:30AM -0700, Bob den Otter wrote:\n\nI also can't visualize it very well yet, either. I've never been into \"portal\" type sites, so the terminology is a bit foreign to me. I'm interested to see it, when you've got something to show, though! \n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1111#issuecomment-41058372\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. On Mon, Apr 14, 2014 at 02:51:19PM -0700, serweb-labs wrote:\n\nI like that the language file (message.XX.yml) supports overwriting\nthe update version (message.es.yml.dist example) of the problem is to\n\"translate\" custom content types and other things I must add lines to\nthese files, but to update I get the unpleasant surprise that these\nlines were lost completely because the file was overwritten.\n\nHave you tried diff-ing the two files? There are lots of diff/merge\ntools out there, pick your favorite one and use it to merge\nmessage.es.yml.dist into message.es.yml. I like vimdiff, but then, I'm a\nUnix beard, you might prefer something more visual.\n\nOr create a separate file that is customizable and not overwritten.\nMuch we escribimimos code words in English to share and reuse\nregardless of the language of the next project.\n\nThat does sound like a decent enough idea - I'm thinking it could be\ndone similar to how we have config.yml and config_local.yml: two files,\none of them provided by Bolt, the other by the local install, and the\nlocal one overrides the one from Bolt.\n\nAlso would be interesting to define a language for each user if\ndesired.\n\nI've been wondering, but yes, that does sound like a useful thing to\nhave. Not sure about the implications though.\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1117\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Took little more than a quick glance, but... is there a reason why\nyou're not using Twig here?\nOn Wed, Apr 16, 2014 at 08:17:07AM -0700, Gawain Lynch wrote:\n\nYou can merge this Pull Request by running:\ngit pull https://github.com/GawainLynch/bolt hotfix/Socialite\nOr you can view, comment on it, or merge it online at:\nhttps://github.com/bolt/bolt/pull/1124\n-- Commit Summary --\n- urlencode() href'd attribute strings...  Nothing to see here ;-)\n- One too many\n-- File Changes --\nM app/extensions/Socialite/extension.php (6)\n-- Patch Links --\nhttps://github.com/bolt/bolt/pull/1124.patch\nhttps://github.com/bolt/bolt/pull/1124.diff\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/1124\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Yep, pretty much. Although I would expect ->render() to return a\nTwig_Markup already, not 100% sure though.\nOn Tue, Apr 22, 2014 at 03:23:42AM -0700, Gawain Lynch wrote:\n\nI should be packing, but your suggestions always get me thinking hard...  \nIs this the sort of thing you mean @tobias2k?\n``` php\n$html = $this->app['render']->render($this->config['twig']['twitter_share'], array(\n    'url' => $url,\n    'align' => $this->config['twitter_share_align'],\n    'count' => $this->config['twitter_share_count'],\n    'size' => $this->config['twitter_share_size'] \n));\nreturn new \\Twig_Markup($html, 'UTF-8');\n```\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/1124#issuecomment-41024256\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. On top of what @bobdenotter notes, there are quite a few problems here:\n1. You have non-ascii characters in your source code. Don't do that, it can cause all sorts of problems - your IDE and PHP are not the only things that have to process your code. If you have to use non-ascii, limit it to the comments.\n2. Your lookup tables are incomplete. It seems to me that you want to strip out undesired characters, but I strongly suggest you use a whitelist for this, not a blacklist, or better yet, find an existing Unicode API and do it right (i.e., filter characters using their actual Unicode properties).\n3. Your code is non-optional, and your function looks somewhat costly to me. Not wildly inefficient, but enough to matter, considering that makeSlug is used a lot.\n4. I don't see any tests. We don't have an awful lot of test coverage as it stands, but we do have unit testing and end-to-end testing infrastructure in place; use it, especially for changes like these, that are easy to get wrong. In addition to preventing regressions, such tests would also document by example what your code is supposed to do. (Note that Travis, which installs the code in a VM and runs it through the paces, including all unit and end-to-end tests, fails, which is a sign of a regression).\n5. seemsUtf8() suffers from the \"reinventing the square wheel\" antipattern. Have you tried this function?\n6. seemsUtf8() is, basically, guesswork, and expensive at that. It's also rather unnecessary IMO: utf-8 is a superset of ASCII, and those are the only sensible encoding we should cater for in URLs/slugs. ASCII being a subset of utf-8 means that any utf-8 aware string processing function will also process ASCII correctly. Now, if 8-bit encodings (say, latin-1) were involved, guesswork would be appropriate, but I don't know of a situation where those would be used for URLs.\n7. lib.php is awfully crowded as it is, and if anything, I would like to evolve towards a situation where it doesn't exist, moving stuff out into separate classes and namespaces as we work on them (\"Boyscout Rule\"), not make it longer and more complex.\n8. Licensing issues. As I understand, the code you pasted is released under GPL; Bolt is MIT-licensed, which makes GPL code license-incompatible. In order to accept this patch we would have to change Bolt's license to GPL, which, I think, is impossible at this point, because we don't have contributors sign over their copyright, so we would have to get permission to change the license from each and every contributor, and undo the contributions of those who do not agree. Or we would have to ask the copyright holder of the pasted code to change their license to MIT. But that's not going to happen either.\nSo, where do we go from here? My suggestion is as follows:\n1. Factor your code out into a Bolt extension.\n2. Modify Bolt core such that it provides the hooks you need for that extension, without breaking existing installs, and keeping Bolt fully functional without the extension.\n3. Release that extension separately, under a license that is compatible with GPL.\nI still think you should address the other points I raised, but as it stands, the license and making this code mandatory are the biggest stumbling blocks IMO.\n. IMO, the clean way to go about this would be to have the $app object\nexpose the loaded extensions, something like:\n$disqus = $app['extensions']->get('Disqus');\nif ($disqus) {\n    $disqus->whateverMethodYouNeed();\n}\nelse {\n    error_log(\"Disqus extension not loaded\");\n}\nI don't know whether this is supported ATM though; if it's not, I'd\nconsider it a neat feature to have.\nCreating a new instance of an extension like @bobdenotter suggested\nworks for trivial cases, but it can be inefficient (if the initialize()\nmethod does nontrivial amounts of work), and it will create a separate\nobject with its own state, so any state changes you perform on that\nobject will not be seen by the \"real\" extension (the one that Bolt\nitself hooks into).\n-- UPDATE --\nJust checked the source; there is no such mechanism yet, but it would be\nfairly trivial to add one. My only concern with this is that we'd be\nopening the door to all sorts of cross-dependencies between extensions,\nwhich would require quite some discipline from extension authors and\nusers - right now, an extension's public methods are only called by Bolt\ncore, which means their scope is relatively limited, and they won't be\ncalled in arbitrary contexts. Exposing them to the world would be a bit\nlike making a formerly private method public, so more responsibility and\nmore surface for bugs and edge cases.\nOn Sun, Apr 27, 2014 at 01:30:46AM -0700, Bob den Otter wrote:\n\n\nLet me know if there's a better way. I imagine their is.\n\nHmm probably, but I don't know one from the top of my head. Perhaps @tobias2k does? Otherwise, I'm going to make a note in the docs about this. :-)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1133#issuecomment-41491132\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. So here's the model I have in my head about how it should work.\nTwig templates (.twig) get compiled into PHP files (.php); these are cached, which is perfectly fine, because we don't typically change templates after deploying them; the only hassle this should cause is that you have to clear the template cache when deploying a new version. This mechanism only caches the template compilation; run-time variables should not be affected.\nHowever, it seems that there is more caching going on, based on whether you are logged in or not, and this makes sense - anonymous users should never cause any changes to the server's state, and they don't send or receive any sensitive information, so aggressively caching GET requests is perfectly reasonable. I am however unsure where this caching happens; a little test run showed that it's neither the browser nor varnish or some intermediate caching proxy, because apache still logs an access on every request. I'll dive into it a bit deeper and try to figure out where and why it caches things.\n. I think I can whip up a test to check this.\nOn Tue, Apr 29, 2014 at 07:02:09AM -0700, xiaohutai wrote:\n\nIt seems to me that twig (now?) caches the return values of the twig functions.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1147#issuecomment-41679206\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Alright, I think I've figured out why this happens.\nThere's a function in app/src/Bolt/Render.php that caches \"rendered templates\" (which is basically just a way of saying \"full page cache\"). It takes the template name and the current request URI into account to build a cache key, but it disregards any side effects the template may use (such as an RNG, changes to the database, various HTTP headers [including cookies], current time, etc.).\nFrankly, I don't quite see the point of doing this, since there is also a response cache which pretty much does it right, and a compiled-template cache built into Twig that caches the output of the Twig-to-PHP compilation.\nI'm tempted to say \"let's remove the rendered-templates caching altogether\", but I'd like a second opinion on this before I do it.\nPing @bobdenotter...\n. This is definitely a highly undesirable thing. I'll look into it ASAP.\n. Plain and simple: That error screen should never be visible on a production site, ever. There are all sorts of situations where Bolt is \"helpful\" and dumps internal program state to the HTTP response stream, and that is never OK, except during development, when you are running locally or behind a decent firewall.\nPersonally, I would prefer to stay on the side of caution and disable fancy debugging features (like Whoops) by default, but I'm pretty sure our benevolent leader would disagree.\n. This is likely to become very complex very quickly. In order to grant\npermission X, you need permission meta-X. Which means we haven't solved\nthe problem, just moved it up one level, because who is allowed to grant\npermission meta-X? Whoever has meta-meta-X permission. And so on. You\nhave to draw a line somewhere, and if we look at other examples of\npermission systems, practically all of them draw it at the concrete\nlevel (e.g. Unix permissions: you need to be root to assign users to\ngroups), or at one level of meta-permissions (e.g. MySQL: root can GRANT\nanything, users with GRANT X can grant permission X to other users).\nConsidering that typical Bolt installs have no more than a handful of\nusers, and that keeping things simple is one of the top priorities, I'd\nvote for going with just one level of permissions and one \"super\npermission\", that is, exactly what we have now.\nUnless someone can come up with a good use case that warrants trusting a\nuser enough to autonomously grant certain permissions to other users,\nbut not enough to trust them with root access.\nOn Thu, May 08, 2014 at 12:32:43AM -0700, Tam\u00e1s Nagy wrote:\n\nMaybe permissions on role changing should be introduced so only the user with proper permission could change one's role. This way the behaviour changes like this: If you're allowed to edit ~~users~~ users' roles, you can grant 'root' to yourself or someone else. \n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1169#issuecomment-42520834\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. I haven't tried it, but I don't see why not. The following procedure\nsholuld work, more or less:\n- dump the SQLite database to a file (e.g. using the sqlite command-line\n  client)\n- perform a few strategic search-and-replaces (SQLite is mostly\n  compatible with MySQL, but there may be a few things you want to fix\n  anyway, if only to introduce the required MySQLisms)\n- create a MySQL database and import the dump\n- change Bolt's config.yml to point to the MySQL database\nAlternatively, you can dump only the data, not the structure, and have\nBolt generate the tables on the MySQL end before importing; then the\nprocedure becomes:\n- dump the data from the SQLite database\n- edit to taste\n- create MySQL database\n- point config.yml to the newly-created empty database\n- run a database check & upgrade (using app/nut, since you can't log in\n  at this point)\n- import the dump\nIt's probably a good idea to put Bolt in maintenance mode during the\nmigration to avoid losing data.\nOn Mon, May 19, 2014 at 01:36:14AM -0700, Evert Albers wrote:\n\nThe title says it all. Is that possible?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1206\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. I think you're wrong here.\nFancybox is released under a non-free license that is incompatible with\nBolt's license; we cannot legally redistribute fancybox as part of Bolt,\nunless we adhere to the fancybox licensing terms regarding\nredistribution. Bolt itself may be non-commercial (whatever that may\nmean anyway), but its license explicitly allows commercial use and even\nredistribution as part of a non-free/proprietary release.\nHere's the full license text:\nhttp://creativecommons.org/licenses/by-nc/3.0/legalcode\nAnd this is the human-readable form, capturing the \"spirit\" of the\nlicense:\nhttp://creativecommons.org/licenses/by-nc/3.0/\nParticularly, this means that we are free to redistribute fancybox, but\nonly if we keep to the original licensing terms, that is, when\nredistributing fancybox, we must attribute it, and the license under\nwhich we redistribute must also demand attribution and forbid commercial\nusage. Additionally, we cannot add any other restrictions. This boils\ndown to the license being \"viral\", that is, if we redistribute, we must\ndo so under pretty much exactly the same license, because we have to\npass along the same restrictions (attribution and non-commercial use\nonly), and at the same time cannot introduce any new restrictions.\nThe way I see it, we have the following options:\n1. Ask for a Bolt-specific license that allows us to redistribute\n   fancybox under an MIT license (which I think is unlikely to happen).\n2. Remove fancybox from the Bolt release and have people install it\n   separately (not very tempting, because it would make installing Bolt a\n   hassle, and it wouldn't really solve anything, because a working Bolt\n   install would still be non-free).\n3. Relicense Bolt to CC-BY-NC 3.0 (not really tempting, because this\n   would rule out commercial use of Bolt itself, rendering Bolt non-free).\n4. Find a replacement for fancybox (or build one ourselves... ugh...).\n5. Downgrade fancybox to an old version that is still compatible with\n   our license.\nOn Tue, May 20, 2014 at 01:05:45AM -0700, Bob den Otter wrote:\n\nI am not a lawyer or anything, but as far as I'm aware we're good. Bolt is non-commercial, and the use of Fancybox is attributed in the 'about' page: \n\nIf you think otherwise, let me know, and we'll look into it. I wouldn't want to include a library/component that we're not allowed to use. \n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1208#issuecomment-43597036\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. I think there's actually a good reason why some things are not in PSR:\n- \" vs. ' introduces a syntactical difference - \"\" does string\n  interpolation, '' doesn't. Sometimes you want one, sometimes the\n  other, although I do think '' is the saner default.\n- && vs and also introduces a difference (precedence); there is a\n  sane default here, too (&&, because it binds tighter than\n  assignment), but occasionally, using and may be useful.\nSo, long story short; I think style guides are great and should be used\neverywhere, but only for things that are really just a matter of\nstylistic preference; they should not contain rules that restrict the\nlanguage's expressiveness, even if that language is PHP.\nOn Thu, May 22, 2014 at 06:51:24AM -0700, rarila wrote:\n\nIf I had time to do some auditing...\nCode-style: perhaps it would be a good idea to put some code style\nguidelines up for things not catched by PSR:\n\" vs. '\n&& / || vs. and / or\n\u2026\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/1219#issuecomment-43890270\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. On Mon, May 26, 2014 at 01:32:52AM -0700, rarila wrote:\n\nAnother thing: both doesn't seem to handle umlauts right/nice. I'd\nlike to have the slug bratwuerste when I input Bratw\u00fcrste.\nInstead I get bratwurste.\n\nThe problem with this is that it requires extra information - the \u00fc\ncharacter has (at least) two different meanings: u-umlaut, and u-trema,\nand the ascii substitution conventions are different for either.\nThis isn't restricted to umlaut/trema; accented characters are also\nsubject to language/culture-specific substitutions. For example, it is\ncommon in Italian use to turn \u00e0 into a' (\"citt\u00e0 -> citta'\"), whereas\nthe French convention is to just drop the accent (which makes some sense\nin that the Italian accent marks stress, whereas the French accent\nchanges vowel quality).\nLong story short, you cannot do this correctly without telling Bolt\nwhich language rules it should apply - worse yet, there might even\nlanguages where the substitution rules differ per word origin, which\nwould require a etymology lexicon of sorts (though I'd be hard pressed\nto come up with an example language).\nOTOH, I can absolutely see how this would be useful, considering how\nslugs are supposed to make URLs pretty, and you really want to go all\nthe way there instead of settling for something that is only a bit less\nugly but still wrong.\n. IIRC, there has been some vague talk about making a more rigid\nseparation between user-defined fields and built-in fields to avoid name\nclashes (and thus maintain forward compatibility). One solution would be\nto use different prefixes, e.g. prefix internal column names with\nbolt_ and user-defined ones with user_. Three issues with this though:\n1. Migration is going to be hairy.\n2. I don't trust our codebase to never mix up column names and field\n   names.\n3. We would have to expose internal fields through different names, or\n   add some sort of namespacing (e.g., record.datepublished would use the\n   built-in field unless there was a user-defined field of the same name to\n   shadow it; record.internal.datepublished would always yield the\n   built-in field, while record.fields.datepublished would explicitly get\n   the user-defined one).\nIt would, however, be a much cleaner solution overall.\nOn Thu, May 29, 2014 at 02:55:57AM -0700, Rix Beck wrote:\n\nLow level priority feature request for possible defining more detailed description message about using a field in contenttype that would shows exactly same as internal Bolt templates usually generating. I mean info area beside Relation field for example that informs the user in a popup about an internal field usage.\nIf I'm correct we have prefix and postfix fields for similar function but keeping a clean and consistent GUI it may worth to extend option that exists in core.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1241\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. In the default configuration, the \"everyone\" role is already supposed to\nguarantee a logged-in user. Visitors that are not logged in at all\nmerely get the \"anonymous\" role, but not \"everyone\".\nIn other news:\n\"anonymous\" \u2192 (login) \u2192 +\"everyone\" \u2192 (role membership) \u2192 +regular roles \u2192 (is record owner?) \u2192 +\"owner\" \u2192 (is root user?) \u2192 +\"root\"\nOn Mon, Jun 02, 2014 at 08:15:02AM -0700, GDmac wrote:\n\nI added a new role \"member\" to permissions.yml that should only be\nable to login/logout (for the purpose of member-only content on the\nfront-end).\nWhen a user with \"member\" role visits the dashboard, he/she still sees\nthe latest activity in the sidebar. The member-role has no access to\nactivity log, so should not see latest activity on the dashboard too. \nThere are a couple of other small issues: - when changing the global\ndashboard access (everyone), Bolt is stuck in a redirect loop.  - when\nmember role has no access to any contenttype, Bolt notifies on the\ndashboard: \"the database seems to be empty\"\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1247\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Pinging @rossriley - you've been working on uploads right?\n. I'm not 100% sure what the desirable solution would be; my take is that we should do it like so:\n- Add a \"frontend\" permission, which grants front-end read access to content, by the same logic as the backend permissions (global/per-contenttype/ownership/...).\n- Add a check for that permission in the front-end controller.\n- Sensible default: front-end permissions granted to \"anonymous\" (i.e., everyone whether logged in or not).\nDiscuss. (Meanwhile, I'll look into the view permission vs. ownership issue)\n. One more thought, though: The way I see it, Bolt is designed to be a CMS for a public-facing content-heavy website. While its contenttypes data model can be abused into building all sorts of dynamic web applications, sometimes with great success (I've seen forum-like websites, a pastebin clone, etc.), I believe the focus should be on the core use case. A fully-fledged access control system with details ACLs and all that will easily lead to bloat and feature creep, and we really don't need that.\n. And another thing: Restricting front-end permissions is highly questionable because right now, the permission checks mostly happen at the page level, that is, the permission check for \"the\" content type happens at the start of the request handler, and then the entire request is either denied or granted. There's a bit more logic than that, but that's the basic idea; in any case, there is no check at the data access level - if your template decides to retrieve certain content (e.g. through {% setcontent %}), then no permission check will be performed. If we want to introduce a \"front-end\" permission, and make it such that it reliably blocks restricted content, we'd have to add such checks to the data access code. I'm not sure yet how difficult this would be, and how it would affect performance, but I'll look into it.\n. > Yes, this change should be done in the controller for the routed page only. Anything else that's fetched in the page itself is solely the responsibility of the developer of the site.\nIf I do that, I do want to give the developer the tools to handle that responsibility though. Which probably means I'll expose the permission check ($app['users']->isAllowed) in the Twig context, extend the permission query syntax a bit, and sanitize its input better to catch malformed permission queries.\n. Alright, I conjured up something that should work now. Here's what I added:\n- A frontend permission. This new permission is granted to the anonymous role by default (which means everything is visible in the frontend at all times, whether you're logged in or not); this is to avoid regressions on existing installs.\n- A frontend_permission_checks configuration setting; this needs to be set to \"true\" in order to activate permission checks in the front-end. The default is \"false\", because a) I want to avoid regressions, and b) permission checks aren't free, and since most real-world sites do not need this feature, it would be wasteful to always go through all the permission checks just to conclude that everything is to be granted.\n- Extensions to the permission query syntax; you can now combine permission checks by using the and and or operators, short-circuit them with true and false literals, and group with parentheses to override default precedence. Ex.: is_allowed(\"(contenttype:pages:edit or contenttype:entries:view) and contenttype:pages:view\")\n- A crude caching mechanism for parsed queries (mapping raw query strings to permission query syntax trees), and a per-request caching mechanism for permission checks (to avoid running the same check more than once per request). This could use some improvement, but I don't want to lose how permission changes take effect immediately, which wouldn't work anymore if we'd cache permissions more aggressively, unless we'd add some complex-ish cache invalidation.\n- Some mild refactoring on the permission check code.\nOne more note: Front-end permissions are only checked on the content item that is referenced through the slug; any other content is still loaded and displayed uncritically, regardless of permissions. If you need to check permissions on secondary items displayed as part of some other response, you need to manually add suitable checks in your templates. The twig function is_allowed does expose all the features outlined above, though, so this shouldn't be too difficult.\n. Original author of the permission system here.\nThe documentation is correct, in that everyone implies login, whereas\nanonymous is also granted to visitors who are not logged in.\nThe confusing part is that the maintenance-mode permissions means\n\"view the site even if it's in maintenance mode\", not \"view the\nmaintenance mode placeholder page\". The latter wouldn't really make\nsense, because the whole point of maintenance mode is so that only\nselected users can view the site, whereas anyone else gets the\nmaintenance mode placeholder.\nAnd the reason why this is configurable, rather than just checking\nwhether anyone has logged in, is because it might be desirable to have\nonly administrators access the site while in maintenance mode, and lock\nregular editors out.\nOn a side note, the documentation for \"everyone\" is actually a bit\nmisleading, fixing it as we speak.\nOn Fri, Jun 06, 2014 at 05:20:06PM -0700, luxlogica wrote:\n\nBeing a 'newbie' to Bolt, I'm finding it difficult to understand the\ndifference between the 'anonymous' and 'everyone' roles. \nThe documentation page on 'Permissions' makes it a bit confusing.\nThere, in describing the 'everyone' it says: \"everyone, the\n'anonymous' role\" - kind of implying that they may be one and the\nsame. Further down, for the 'anonymous' role it says: \"this role is\nautomatically assigned at all times, even when no user is logged in at\nall\". So what I deduct is that:\n- an 'everyone' user is a LOGGED IN user * an 'anonymous' user\n  is a visitor that has not logged in\nLooking at the default 'permissions.yml' file, however, I came across\nthis:\nmaintenance-mode: [ everyone ] # view the frontend when in\nmaintenance mode\nThat would imply then that only logged-in users would be able to see\nthe site in maintenance mode...\nSo, I'm left not really understanding what the 'everyone' role does. \nCould someone shed a light?...\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1264\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Automatic logout is desired behavior; but a nicer error page and/or a redirect to the login page would be better than failing with a hard error.\n. Checked the sources; apparently this is just how Silex \"works\". What happens here is this:\n- The Twig render() function is called in the template; Silex implements this by sending an actual HTTP request to itself to render the desired HTML fragment (which IMO is wrong on many many levels, but that aside).\n- Upon receiving the request, Bolt goes through the normal permission checks; and since the session is no longer valid, aborts with an appropriate HTTP error.\n- Back in the original request, Silex receives the error and converts it into an exception, which then gets dumped instead of the regular template output. This is what you're seeing.\nThe problem is that we can't just redirect instead of failing with an error, because the HTTP request that Silex makes is the same as what the asynchronous calls from within the browser do, and there is no obvious reliable way of telling them apart. If we were to issue a redirect, Silex would do something silly, like display the login page inside the overview page or some such.\nI'm not sure what the correct solution is in this case, but either way, I believe that if the render() call fails due to insufficient permissions, but the containing page starts rendering, then something else is wrong anyway.\n. I'm having some trouble understanding what it is you want, but it looks\nto me that what you are looking for is some sort of visual YAML editor.\nIn designing Bolt, we considered this option, but decided against it,\nbecause we feel the required effort and the potential problems would not\nweigh up against the advantages.\nYAML is designed to be human-friendly, intuitive, and easy to learn; the\nadded benefit of a more graphical UI would be very small. Adding such a\nUI, however, would be a massive undertaking, as well as a maintenance\nburden and a potential source of bugs in a critical part of the\ncodebase.\nAnd, needless to say, it would be against Bolt's spirit of simplicity.\nIf you really really want this, your best bet, I think, would be to find\na JavaScript-based YAML editor that you can plug into Bolt, and rig it\nup to attach itself to the configuration file textareas. It can be done,\nno question there, but again, I think the benefit would be marginal, and\nnot worth the effort. I'm not sure whether you can do this with a\nnon-intrusive plugin; it's entirely possible that you'll have to patch\nBolt itself to achieve this.\nOn Tue, Jul 01, 2014 at 03:24:58AM -0700, skanel wrote:\n\nI want to create an extension that can render all the .yml file to user interface.\nFor example:\nif we are in config.yml  from this url localhost/bolt_latest/bolt/file/edit/app/config/config.yml\nthe plugin will trigger the form(input, select, check box ) base on value inside the *.yml ,\nand  I think  it will allow user to input those value in easy way.\nCan someone here propose me the solutions to achive this?\nThanks in advance.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1345\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Correct. The default theme is a git submodule, maintained\nsemi-independently. The idea behind this is, AFAIK, that themes should\nbe developed separate from Bolt core; the same would ideally go for\nextensions, but migrating towards this situation is a work in progress,\nand not spectacularly high on the priority list.\nOn Tue, Jul 01, 2014 at 11:04:33PM -0700, Ross Riley wrote:\n\nI think you also need to run a git submodule update --init to fetch the default theme.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1347#issuecomment-47740233\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. You're probably using the base-2014 theme, which is now a git submodule. Pull in the submodule using the following commands (from your install base path):\ngit submodule init\ngit submodule update\nThis should clone the base-2014 theme into the themes/base-2014 subdirectory.\n. I'm actually running into this myself now. Very strange; the editconfig.twig file is there, right next to the other templates, and everything else works fine. Will dig deeper.\n. It looks like Bolt directs Twig to the front-end theme paths (theme/base-2014 and app/theme_defaults) for editconfig, rather than to the back-end paths. Investigating further.\n. After shedding copious amounts of blood, sweat and tears over this, we've found that PHP's built-in server (the php -S thing) behaves unlike mod_php and other PHP flavors in filling $_SERVER['SCRIPT_NAME'], which we use to detect which mount point we're currently in (frontend, backend, or async). As a result, the mount point detection (Configuration::getWhichEnd()) fails, and incorrectly reports \"frontend\" whenever the PHP server misbehaves.\n. Filed a bug, for the time being:\nhttps://bugs.php.net/bug.php?id=67671\n. Could be a matter of is defined vs. is not empty. The defined filter is fairly strict in what it considers \"undefined\" - basically it only rejects missing properties and null, IIRC. I'll look into it.\n. @NetLancer, does this solve your problem?\n. Yes and no.\nProgress bars look nice, and they give a sense of, uhm, progress, sure.\nBut in reality, many progress bars are a lie, more so on the web, where\na reliable ETA prediction is usually impossible, and even a semi-correct\nsolution for a server-side process requires significant overhead in the\nform of extra network traffic, and detecting whether a process is still\nrunning or has failed is often a matter of timeouts. The most famous\nexample is the original Windows 95 installer: it would rapidly progress\nto about 95%, then crawl to 98%, and then sit there for anywhere between\n5 and 30 minutes, but often it would just hang, staying at 98% forever,\nuntil you force-rebooted and restarted the installer. A wrong progress\nbar is worse than none at all.\nAn activity bar would be slightly less wrong, in that it would only lie\nabout activity, but at least it wouldn't give the user any false ETAs or\npercentages.\nBut there's one more thing: There is a progress indicator already, it's\nbuilt into the browser in the form of a spinner icon. Whenever you send\na request to the server, it'll start spinning, and many browsers even\nhave different icons for the first phase (connecting to the server and\nsending the request) and the second one (reading the response and\nrendering it). Functionally speaking, this is as good as it can possibly\nget without going all Ajax on the UI just to deliver wrong estimates.\nThe truth is, we simply can't tell how long it'll take to create tables\nor create a user or log in; the best information we can give at that\npoint is \"we've sent your request to the server, it'll take as long as\nit takes, and we'll tell you when it's done\". I don't think a fake\nprogress bar would change it for the better.\nOf course, if anyone has any compelling arguments against my case, I'll\nconcede :)\nOn Wed, Jul 09, 2014 at 09:35:36AM -0700, wolframiac wrote:\n\nHi,\nBolt does not show any progress indicator when first setting up (e. g.\n\"Please wait, creating tables\"). Neither it does show a progress\nindicator when creating the first user. Or when logging in. And it's\nonly as far as I got with Bolt yet. I think that's a UX issue you\nshould address.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1362\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Yes. Depends on the host system, but shouldn't take long at all. Network\nlatency and rendering overhead might be a bigger factor than the\ndatabase.\nOn Thu, Jul 10, 2014 at 12:26:09AM -0700, Bob den Otter wrote:\n\nAnd also.. Doesn't setting up the tables only take, like, 4 seconds or so?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1362#issuecomment-48573085\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Two bugs, actually:\n1. Permission checks did not catch the NULL case, so checking for a NULL permission query would stringify NULL, and send the resulting empty string into the parser, which would fail because it would expect at least one query.\n2. The lexer for \"atomic\" queries was too strict, rejecting permission names containing dashes or digits.\nFixed those, now I need to convince the end-to-end tests that everything is peachy again...\n. Fixed!\n. Really? Are you sure? And, uh... why? The .dist file is supposed to be a template, and it's part of the Bolt distribution - why would you want to modify it from within Bolt?\n. Related to #1377.\n. Appears to work. Needs a bit more testing though.\n. Better?\n. The new permission parser is a bit stricter wrt invalid permission queries than the old code. Previously, it'd split the permission query by ':' characters, and just use the result. The new parser, however, is a bit stricter at the lexer level, demanding non-empty sequences of \"word characters\" between every two colons. I could change the lexer to support queries like this one, but I'm unsure whether this would be desirable: queries like 'contenttype::delete:' could mean \"delete permission for any record in content type ''\", or \"delete permission for any record in any content type\", or \"delete permission for any record in one or more content types\". The second one makes the most sense to me, but then, they're all pretty useless, because I can't imagine a reason why you'd want to check for content delete permission when you don't know which content type to delete from.\nI'll dive into the code and see why this query looks the way it does; my guess this isn't intentional, but rather a bug that causes the \"contenttype\" field to be empty upon query construction.\n. Ah, found it. Turns out passing contenttype objects into the isallowed() Twig function is now broken. Will fix.\n. Agree with @rossriley - this is a general PHP configuration issue, not specific to Bolt. It just happens to end up in Bolt's exception handler.\n. Nice.\nBit rough around the edges still, and a shell injection vulnerability (CommandRunner:75; need to escape $version and $package, ideally in the method itself, or otherwise make the method private and escape in all callers).\nOther than that, love the minimalist / standing-on-shoulders-of-giants approach.\n. Oh, I haven't checked if it is actually exploitable - it might not be.\nBut in-depth security says you should escape, or at least sanitize, the\ninputs to your method right there and then, especially since it is\npublic and thus accessible from pretty much anywhere in the codebase.\nThis is important because when someone audits the code, they only have\nto take this one method into account instead of the whole codebase to\ntell whether it's safe or not. It's also important because code evolves,\nand while all calls might be safe now, someone might add a call that\nisn't somewhere down the road, and the only thing you can do to prevent\nthat is to add a warning in the comments and hope for the best. I much\nprefer a function that keeps bad stuff out, especially when it's as\ntrivial to do as it is in this case.\nOn Mon, Jul 21, 2014 at 05:45:56AM -0700, Ross Riley wrote:\n\n\nand a shell injection vulnerability (CommandRunner:75; need to escape $version and $package, \nideally in the method itself, or otherwise make the method private and escape in all callers).\n\nI'm going to get some unit tests in place for this to make sure but I think that because this gets passed through Symfony\\Console StringInput it already validates it as string only characters.\n@bobdenotter if we go ahead with this approach what's the eta/strategy with version 2 do we wait for v2 to be merged into master or would you prefer me to rebase this onto the feature/bolt2 branch.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1392#issuecomment-49600687\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Adding my 0.02\u20ac:\n1. Figure out a way to make the transition from ad-hoc extensions to\n   composer-managed ones as painless as possible (ideally with some sort of\n   compatibility shin that you can just slap onto your extension rather\n   blindly)\n2. While we're at it, clean up the way extensions work, and expose the\n   full comfort of Bolt core to extension code (e.g., lenient configuration\n   values with defaults, somewhat better template integration... I'm sure\n   there's more things)\n3. Sort out dependencies and loading order. Lots of platforms get this\n   wrong; I think it would be cool to have a really solid solution for\n   this. I bet composer has us at least partially covered here, but I think\n   we need a bit of extra effort to fully piggy-back there.\n4. Clean up the info() stuff, or maybe even offload it to composer\n   entirely. Some of those fields are ignored completely, and it's kind of\n   an ad-hoc thing anyway.\nOn Mon, Jul 21, 2014 at 08:08:52AM -0700, Ross Riley wrote:\n\n\nIMHO with all the refactoring in master, together with the new backend-in-progress in feature/bolt2 and obviously this Marketplace functionality, it'd be good to stop adding more stuff, and push towards 2.0. Agreed?\n\nI'd agree with this, from the stuff I know about I think we could get to 2.0 beta in 5/6 weeks, off the top of my head this would mean sorting out the following.\n1. This approach gets all the extensions required into a folder but we need to make sure that they can be autoloaded in the same way they are currently.\n2. We need to work out a way to distinguish between themes / extensions (any other types to support?) and maybe support install scripts to copy assets into public.\n3. For the repository side, need to add support for Git hooks add some auth for extension owners and and admin auth so the submitted extensions can be managed.\n4. Someone with an ounce of design talent should probably do something with it too.\n5. Write some documentation about how to submit an extension, how to format composer.json file.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1392#issuecomment-49617802\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. On Mon, Jul 21, 2014 at 09:59:19AM -0700, Bob den Otter wrote:\n\n\nI'd agree with this, from the stuff I know about I think we could\nget to 2.0 beta in 5/6 weeks, off the top of my head this would mean\nsorting out the following.\n\nSeems like a good timeframe. I could get behind that with the stuff I\nneed to do for the new backend. Let's pick a date in a week or so,\nwhen we're a little bit further along.\nAlso, Let's compile the stuff we're discussing in this thread into a\nseparate wiki-page, so we have all information about the marketplace\ntogether in one place.\nAbout the mentioned points:\n\n\nThis approach gets all the extensions required into a folder but\n   we need to make sure that they can be autoloaded in the same way\n   they are currently.\n\n\nYes. The closer it behaves to the current extensions, the better. At\nleast, as far as it makes sense: We should not force composer into\ndoing odd things, just because we don't want to break stuff. By this I\nmean that once we're done, and an outsider looks at the code, they\nshouldn't get confused about odd stuff we've done for the sake of\nbackwards compatibility. :-)\n\n\nWe need to work out a way to distinguish between themes /\n   extensions (any other types to support?) and maybe support install\n   scripts to copy assets into public.\n\n\nExtensions and themes are the only ones I can think of.. An install\nscript to dump assets should be an extension itself, methinks.\n\n\nFor the repository side, need to add support for Git hooks add\n   some auth for extension owners and and admin auth so the submitted\n   extensions can be managed.\n\n\nYes. I think we'd need to scale up our hosting, so we can make this\nmore robust once we start doing stuff like this.\n\nOh, so does this mean we'll be hosting the extensions ourselves? Also, I\nthink we discussed security-related issues earlier; if we do host\nourselves, we absolutely need to figure out package verification,\nownership, and trust. Something along the lines of signed packages\n(verifying the integrity and authorship of an extension package) and\nsome sort of honor/rating system that should hopefully prevent abuse\nthrough social means at the author level. IIRC that was what we thought\nup so far. I'm not familiar enough with composer to judge how much work\nwe'd have to do ourselves to get this off the ground though.\n\n\n\nSomeone with an ounce of design talent should probably do\n   something with it too.\n\n\nWe're working (slowly but steadily) on a new site, which we should\nlaunch alongside 2.0. Pinging @peterboorsma and @anketwokings, to put\nthis on their list of things to do.\n\n\nWrite some documentation about how to submit an extension, how to\n   format composer.json file.\n\n\nYes. This should go into the main docs on how to write extensions.\n\n\nFigure out a way to make the transition from ad-hoc extensions to\n   composer-managed ones as painless as possible (ideally with some\n   sort of compatibility shin that you can just slap onto your\n   extension rather blindly)\n\n\nIMHO this goes closely together with points 5 and 3.\n\nYes, in part it does; I'm aiming at the technical side of things though.\nI think it would be great if we could have it such that converting an\nexisting old-style extension into a managed one would be an absolute\nno-brainer - some sort of web UI where you can upload your raw extension\ncode, fill a few form fields, and it'd build all the required meta\ninformation for you (composer.json and whatever else is required); or a\nlittle tool that you could run on your extension package to add the\nmetadata. Either way, some kind of one-click thing. And ideally,\nold-style extensions would keep working happily alongside managed ones.\n\n\n7., 8. and 9.\n\nWhilst I agree that these things should be done, we shouldn't overdo\nthis. We just decided on a feature freeze, and this is becoming a gray\narea.  I do agree on most of these points too, so if we can squeeze\nparts of this in before we go beta, I'm all for it..\n\nAh, I was assuming we weren't merging this until after the release. My\nbad. Yes, let's just pick the low hanging fruit there and keep the rest\nfor later.\n\nAlso, we need a \"setup()\" function in extensions, that will set up any\nrequired DB-tables or other stuff. Like Bolt can set up and update\nit's own tables between version updates.\n\nDoesn't the regular database stuff we have now already more or less do\nthat? Extensions can already hook into Bolt's database schema\ndescription, and they will signal required schema migrations as it is,\nwithout the need for a setup() method.\nThat said, having a well-defined hook to allow an extension to do its\ninitial setup is not a bad idea in general.\n. I guess there will be three ways of getting your own extensions in:\n1. Make them \"public\" (i.e., publish them)\n2. Run your own repository and add it to composer's sources (do we need\n   to facilitate this?)\n3. Install manually (I think we should still keep this option around,\n   allowing people to install extensions outside of the marketplace)\nOn Tue, Jul 22, 2014 at 01:06:26AM -0700, Gawain Lynch wrote:\n\nQuestion from the Composer clueless guy at the back of the room...  \nHow will this work with 'private' extensions (those that are site-author specific)? \n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1392#issuecomment-49709735\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. On Tue, Jul 22, 2014 at 01:35:23AM -0700, Ross Riley wrote:\n\nSummarising the composer/satis questions above.\n\nOh, so does this mean we'll be hosting the extensions ourselves?\nAlso, I think we discussed security-related issues earlier; if we do\nhost ourselves, we absolutely need to figure out package verification\n\nWe don't actually host the code, our setup will be identical to\nPackagist, in that users submit the Bolt extension, we query the\nsource code repo, index all the available packages and then add this\nto our distribution server. \n\nRight. So we'd just host the metadata. Fair enough.\n\n\nwe absolutely need to figure out package verification, ownership,\nand trust. Something along the lines of signed packages\n\nAt the moment I've setup an approval / disapproval status on the\npackage, this means we can either allow them to be submitted freely\nand only disable when there's a problem or alternatively if we wanted\nto we could disable all by default and wait for a manual review until\nthe extension is live. The only problem with this is that, as is the\ncase with composer currently, there's not really a way to stop someone\npushing bad code into a newer version which would be fetched when the\nuser updated their extensions.\n\nSeveral attack vectors are possible here, but I think if we do the\nfollowing, we're pretty good:\n- No anonymous uploads (i.e., people need to authenticate before adding\n  package versions). This part, I think, should be obvious.\n- Everything served over HTTPS or SSH (including the source\n  repositories), absolutely no exceptions (i.e., do not expose the\n  satis repo nor the web frontend over plain HTTP, and do not accept\n  plain-HTTP repository URLs - this shouldn't be a problem, since all\n  the major git hosting services default to either HTTPS or SSH). We\n  would need an SSL cert for the satis server, but we should have that\n  anyway I reckon.\n- Display author info on every package.\n- Allow blocking authors in case they misbehave, as well as malicious\n  packages individually.\n- A \"flagging\" feature that people can use to flag bad/malicious\n  packages. Maybe even some sort of star rating system, or a reviews\n  section.\nSome police work, I think, will be inevitable; maybe we can crowdsource\nthat though (a bit like how StackOverflow gradually gives users more and\nmore administrative rights as they gather karma). The rating system\nwould contribute to the effect of rewarding trustworthiness with better\nvisibility.\n\n\nI think it would be great if we could have it such that converting\nan existing old-style extension into a managed one would be an\nabsolute no-brainer\n\nThis should be fairly straightforward, we only need to scan the\nexisting extension info file and use it to generate a composer.json.\nWe could maybe do this on the docs area, eg paste your info function\nand it will generate the correct composer.json file.\n\nIf we're using the info function, why not just call it to extract the\ninformation? This would have to happen in some sort of sandbox, but I\nthink it'd still be easier than parsing the actual PHP. Just a detail\nthough.\n. I pretty much figured this much by myself :)\nOn Tue, Jul 22, 2014 at 08:25:56AM -0700, Bob den Otter wrote:\n\nBlame suggests this is an issue for @tobias2k to take a look at. ;-)\nhttps://github.com/bolt/bolt/blame/master/app/src/Bolt/Permissions.php#L421\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1396#issuecomment-49754496\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Right; those are remnants of a previous iteration of the code, where\nmuch of it would still depend on a sort-of-global-but-not-quite $app\nobject. I have since moved this reference to a private field of the\nPermissions object, so the only place where we need to reference that is\nin the constructor.\nOn Tue, Jul 22, 2014 at 08:44:20AM -0700, rarila wrote:\n\n\nLine 134: \n\nphp\nfunction ($roleName) use ($app) {\nwhere $app isn't defined.\n- Line 120:\nphp\n$allRoles = $this->getDefinedRoles();\nhere $allRoles is never used\n- Line 120:\nphp\nuse Silex;\nyet another unused statement.\n\nHmm, Application is supposed to come from the Silex namespace, because\nwe're not using any of the Bolt-specific Application features, but the\nway I wrote the namespace declarations is actually sort of wrong, so the\nApplication identifier resolves to \\Bolt\\Application after all -\nthis works, but it's not what I meant.\n\nThat's it for now, theres already a PR for another typo in there.\nSeems like I have to give my code sniffer a kick over the whole sourcetree. :smiling_imp:\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1396#issuecomment-49757245\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Refactoring artifact. Will fix.\nOn Tue, Jul 22, 2014 at 07:54:45AM -0700, rarila wrote:\n\nIn bolt/app/src/Bolt/Permissions.php line 421\n\u2026\n(intval($content['ownerid']) === intval($user['id']))) {\n\u2026\nthere's $user used which doesn't seem to be defined anywhere\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1396\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Off the top of my head, I think our version has diverged from the\noriginal one, and the goal is to get rid of it entirely rather than\ncement the dependency. I could be wrong though.\nOn Tue, Jul 22, 2014 at 01:06:35PM -0700, rarila wrote:\n\nI just read the header of util.php and saw that this one is hosted on github and installable by composer. So I wonder if there's a reason that it's not put into the vendor tree?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1400\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Some cleanup might be in order at some point, but until then, / is the\nmost suitable candidate IMO.\n/tests has some \"magic\" attached to it, better not mess with that.\nOn Wed, Jul 23, 2014 at 07:59:50AM -0700, Bob den Otter wrote:\n\n/tests/ is used exclusively for tests.. I think just / would be fine, because that's where we keep all of the .travis.yml, codeception.yml and the like. If we put it there, we should add it to the list of files to be deleted in package.sh in bolt-distribution as well.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1404#issuecomment-49885716\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. A common solution is to include .htaccess.dist in the distribution\nrather than .htaccess itself, similar to how we're shipping\nconfig.dist.yml instead of config.yml.\nThe obvious downside is that Bolt will then never work out-of-the-box\nwithout creating a .htaccess manually. Still, I believe this would be\nbetter than borking on update, as long as it's well documented.\nOn Wed, Jul 23, 2014 at 02:57:00AM -0700, Lodewijk Evers wrote:\n\nif you update a bolt to a new version your .htaccess will be overwritten\nthis will reset all customizations like the RewriteBase, custom redirects, always https, memory flags\nI supose this also happens with other servers than apache\nI'm not sure how this could be solved, but it's something that should be improved\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1406\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Not really, I think - the index page works with a borked or missing\n.htaccess already, but anything else relies on rewrites to even reach\nindex.php; failing that, there isn't much we can do, because Apache\nitself serves the 404 or 500 that ensues.\nUnless we change the routing in Silex, that is, to allow for hideousness\nlike http://my-bolt-site.org/?path=/bolt/login. I think we can spend our\ntime more wisely than that.\nOn Wed, Jul 23, 2014 at 03:09:13AM -0700, Lodewijk Evers wrote:\n\nit might be possible to have fallbacks in index.htm, index.html\nand index.php file that check for the worst case scenario for bolt\nout of the box - so the setup of the site will still work somehow\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1406#issuecomment-49855421\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Detecting the absence of .htaccess would be useful, but also wrong, for\ntwo reasons:\n1. There are perfectly legit reasons for not using .htaccess. It's\n   really a dangerous and inefficient kludge, and the only valid reason why\n   people use it on production systems is because that's the only way to do\n   stuff when you can't touch the apache configuration itself.\n2. Any check we could do would introduce a small performance penalty, on\n   every request. OTOH, we already have a dozen or so checks of the same\n   kind, so who knows, maybe this is an acceptable tradeoff.\nOn Wed, Jul 23, 2014 at 03:17:54AM -0700, Lodewijk Evers wrote:\n\nI'm talking about a default apache server without a .htaccess and a\nvirgin install of bolt that only has a .htaccess.dist in that case a\nsmall text or a meta refresh in index.html would do the trick.  And\nin index.php a message explaining what to do next.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1406#issuecomment-49856206\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. On Wed, Jul 23, 2014 at 07:43:52AM -0700, Bob den Otter wrote:\n\n\n\nThere are perfectly legit reasons for not using .htaccess.\n\n\nThe most common of these reasons is using Ngingx. ;-)\n\nThat's not what I had in mind though ;)\nBut yeah, it's a very good reason.\n. @jadwigo:\n\nwe made that mistake in pivotx once where we prepared for a release that never happened (3.0), and are still mopping up the spillage and the fallout\n\nIf we adopt the \"Successful Branching Model\", and release a lot more frequently, then this will be an absolute non-problem. Publishing a release, ideally, is a routine task that we could perform every hour if need be; it should certainly not be a big deal with a lot of risk attached to it. That's why there's a development branch and a master branch, and that's why each release gets its own branch.\n. My $0.02:\n- Successful Branching Model, yes please.\n- 2.0 as master: yes, please.\n- Additionally, I'd love to see a more formal / solid version numbering policy. Not necessarily SemVer (that's more suitable for libraries and such), but I'd like a more rigid definition of version number components than \"we changed a lot of stuff\" or \"it looks different\".\n. On Mon, Jul 28, 2014 at 03:07:59AM -0700, Gawain Lynch wrote:\n\nIf I can add \u20ac0.02...\n\nAdditionally, I'd love to see a more formal / solid version\nnumbering policy.\n\nYes, yes please very much!\n\nNot necessarily SemVer (that's more suitable for libraries and\nsuch), but I'd like a more rigid definition of version number\ncomponents than \"we changed a lot of stuff\" or \"it looks different\".\n\nI made sure to re-read Tom's definition document\n(suggested reading), but I am not sure that Bolt doesn't fit into\nthis.\n\nWell, it's not like it doesn't fit at all; the question is more whether\nsemver is the best version number scheme for Bolt.\n\ne.g. Changing {% setcontent %} to {% lookup_content %} would\nqualify as a breaking public API change (major version bump),\nadding the new file-upload functionality would qualify as a\nnon-API-breaking yet new feature (minor version bump), and \"fix to\nmissing slash in path #1387\" would be a patch (patch version\nbump).\n\nThe thing is, Bolt exposes several interfaces with user-supplied\ncomponents, and what constitutes a breaking change in one is completely\nopaque to the other. For example, we could introduce a change that\nbreaks existing extensions, but doesn't affect existing installs (as\nlong as you update extensions along with Bolt itself). Conversely, a\nrelease might change the underlying database structure, but it might\nleave extensions and templates unaffected.\n\nRelease early, release often :+1:\n\n100% utterly absolutely yes please.\n. The bolt2 branch applied cleanly on master, so most likely it won't be a\nbig issue.\nOn Tue, Jul 29, 2014 at 01:02:26AM -0700, Ross Riley wrote:\n\nwoohoo. time to do some merging.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1415#issuecomment-50446648\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. My $0.02: the whole login/password reset area could use a thorough overhaul. Something in between a complete rewrite and a refactoring.\n. Oh, and one more thought: I like \"Base\" better than \"Abstract\", because\nit covers the meaning rather than a technicality. \"Base\" says \"this\nclass serves as a base class to derive specific implementations from\",\n\"Abstract\" says \"you cannot instantiate this class because some methods\nmay be abstract\". The latter is irrelevant for both Bolt's architecture\nas for extension authors (if we provided stub or default implementations\nfor all methods, the impact would be negligible), we're interested in\nthe former.\nOn Tue, Sep 09, 2014 at 07:50:23AM -0700, Bob den Otter wrote:\n\n\nNote: Third party extensions will need to be changed to extend Bolt\\AbstractExtension.\n\nI'm not a fan of this. I'm all for naming standards (if only for the\nsake of \"picking one, and being consistent\". However: In regard to the\ncase of Bolt\\Extension\\Base, this might actually make it less\nconfusing for third-party extension devs. \n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/1706#issuecomment-54980580\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Part 1 (not perform the check) pushed.\nPart 2 (lock the extension UI into read-only mode) is going to be a bit\nmore work :P\nOn Tue, Sep 09, 2014 at 08:19:07AM -0700, Bob den Otter wrote:\n\nI think we should treat this the same as - for example - app/config. Bolt should still work if it's non-writable, but (obviously) will refuse to install extensions from the browser-interface. \n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1709#issuecomment-54985146\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. When I said \"a bit\", I actually meant \"much\".\nAnyway, it works; when the /extensions directory is not writable or doesn't exist, Bolt no longer crashes, and the extensions UI is reduced to just some useless static placeholders and appropriate messages (text open for discussion).\n. > A browser that some clients still are forced to use, unfortunately.\n\"forced\" is relative... people always have a choice, they just aren't always willing to deal with the consequences ;)\n. I was referring to the lack of phpdoc for this method; mentioning it in bolt-docs would of course also be helpful.\n. @bobdenotter fork my fork please?\n. Nice :D\n. On Wed, Sep 24, 2014 at 02:19:28AM -0700, Ross Riley wrote:\n\nNot keen on the IsXxxx. If we do rename I'd personally go with\nBolt\\Extensions\\ExtensionInterface.\n\nIsXXXX isn't pretty, but neither is XXXXInterface. IExtension is a\nsomewhat dated but useful convention (popular in Java and .NET land),\nbut it's still \"wrong\" for the same reason XXXXInterface is - it\ndescribes a technicality, not a concept in the domain we're modeling.\nI feel pretty strongly about leaving the illustration of implementation\ntechnicalities to the language itself (that's what keywords and syntax\nconstructs are for!), encoding domain concepts in identifier names, and\nexplaining the \"why\" in comments. That's an \"Ideal World\" situation of\ncourse, so if there is consensus that it should be ExtensionInterface,\nI'll succumb.\n\nAlthough I think we should continue to maintain the existing one and\nput it through a deprecation cycle since there's already a lot of\nextensions out there and it seems a bit over the top to make a lot of\nexisting code redundant purely for aesthetic reasons.\n\nAFAIK, the overwhelming majority of extensions extend BaseExtension\nrather than implementing the Extension interface themselves, so I don't\nthink it's going to be a big problem like renaming BaseExtension would\nhave been.\nOther than that, I think the name should be left alone in the legacy\n(1.6.x) branch, in order to not break any extensions for the \"old\" way,\nand to include a rename in whatever migration instructions we provide.\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/1777#issuecomment-56644858\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. > Currently only tested on a single version of PHP, do we need multiple?\n\"Need\" I don't know, but I think it would be nice to cover the same range that we use for TravisCI tests on Bolt itself (5.3, 5.4 and 5.5 IIRC).\n\nTests are basic as discussed. Does the homepage load, can we login to the dashboard, and is the extension/version requested installed correctly. any others? and....\n\nI think basic tests are fine. The goal is to avoid bricking Bolt completely; anything beyond that is going to be pseudo-security anyway unless we add manual audits into the mix IMO. Just checking if one can log into the dashboard and access the extensions UI is enough IMO (although checking of the homepage loads is convenient and easy to implement, so yeah). One more check I can think of would be to test whether installing and then uninstalling the extension is functionally a no-op (i.e., the extension uninstalls cleanly and doesn't leave any litter behind, give or take some cache files, configuration, and maybe database tables).\n\nCould we perhaps provide some custom test functionality that allows authors to specify additional tests? if so format/config/requirements discussion is needed.\n\nI think this should be a separate feature. All we need for the use case at hand is a smoke test that tells people \"we have verified that this extension won't brick your Bolt install\". Besides, running tests from within Bolt - I don't really see a lot of benefit there. Testing frameworks exist already that work well enough, and extension authors can already leverage them. IMO integrating them into Bolt would give extension authors a tiny bit of extra comfort (though not much), but it would make Bolt more complex, increase attack and bug surface, and basically add a feature that users have no use for.\n\nShould we hook into github post commit hooks to retest, is it too much hassle to ask ext authors to add a hook for each extension?\n\nMy philosophy is that the \"known-good\" rating should be given on a per-version basis. Demanding that authors add hooks to their git repositories is probably asking too much though, so we'd have to find another way. Composer and satis must have some logic already to see whether a new version is available, so maybe it's possible to have a cron job hook into that and re-run tests on all new versions it finds, and then have Bolt refuse to update packages where the new version hasn't been flagged yet.\nEither way, what we need to prevent is that someone installs an extension that is flagged as \"good\", and then a while later a broken version is shipped, and Bolt installs it and bricks itself - if the known-good flag is to be useful, it must be enforced for updates just like for the initial install.\n. Another vote for function (). It makes a lot of sense to me to visually distinguish between function_name() { ... } and function () { ... }. Both in JS and PHP, btw.\nThey're both ugly IMO, but that's because of the function keyword, and (barring the introduction of something like coffeescript or hack), there is nothing we could do about that.\n$my_lambda = ($foo) => { return $foo . \"bar\"; } // oh, the beauty!\n$my_lambda = ($foo) => $foo . \"bar\"; // even nicer...\n$my_lambda = (. \"bar\"); // perfection.\nBut I digress.\nTL;DR: space after function keyword, no space after function name, that'd be my vote.\n. Wait, didn't we discuss this a few months ago, concluding that it'd\ncause confusing behavior? Or am I missing something here?\nOn Fri, Sep 26, 2014 at 08:06:17AM -0700, Bob den Otter wrote:\n\nMerged #1786.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/1786#event-170762305\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. :-1: from me.\nStrict variables are great for development, because they can catch typos by failing early and loudly. But on a production system, it's better to render what we can and limit the breakage to the individual spot where the value is missing. And from a security perspective, the risk of bleeding internal information into the response (in the form of template errors) is undesirable too.\nAnyone who remembers XHTML will know what I'm talking about - a single invalid entity anywhere in your document, and you don't get anything at all, instead of still being able to read the rest of the document.\nFurther, I believe the defaults should be aimed at production systems, not development, because this way people who don't bother configuring anything at all are still safe, and those who do would have had to change configuration settings on one system anyway.\nAnd, one more thought; tagging every optional value with |default('') can add considerable boilerplate, not sure if that's a good thing...\n. On Wed, Oct 01, 2014 at 03:25:38AM -0700, rarila wrote:\n\n@GawainLynch  We help people who just learn Twig more if we help them to do it in a correct way, not the lazy way. (i remember learning it that in Turbo Pascal many eons from now :-)\nIgnoring warnings and notices is always a great source of possible errors and then you spend much more time on finding out why something doesn't work than you need for just adding a default() or checking a is defined.\n@tobias2k If you catch errors already in devolopment then everything should do fine on production. The correct way would be not to display those message on production machines (doesn't do setting debug: false this already?) \u2013 Perhaps integrating this with the debug setting makes sense. debug:true would implicitly use strict variables, debug: false won't care and strict_variables could be removed.\n\nIn theory, there is no difference between theory and practice...\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1797#issuecomment-57444999\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. One observation; you made two changes, swapping the order of the\ncommands, and dropping the quotes around utf8.\nIt would be interesting to find out which one of the two did the trick\nbefore we apply any patches.\nMy guess is that dropping the quotes is the real fix... I'll run a\nquick test on my local mysql server to see if I can tell for sure. Stay\ntuned.\nAnother thing that may be of influence here is that MySQL has two syntax\nmodes: ANSI and non-ANSI; the two modes cause different behavior wrt.\nquotes and escaping. Not sure if that would make a difference here\nthough.\nOn Wed, Oct 08, 2014 at 01:44:36PM -0700, Petra Dreisk\u00e4mper wrote:\n\nHi all,\nI'm not exactly sure why, but a new install straight out of the box, and switching the database to mysql, did not work for me.\nAttempting to load any page or  running the  php app/nut database:check command resulted in a pdo error:\nPHP Fatal error:  Uncaught exception 'PDOException' with message 'SQLSTATE[42000]: Syntax error or access violation: 1115 Unknown character set: 'utf8'' in /usr/share/nginx/html/bolt.dev/vendor/doctrine/dbal/lib/Doctrine/DBAL/Connection.php:801\nI figured out the problem and it lies in the order of the MySQL SET commands in the Application file:\nChanging this:\n$this['db']->query(\"SET CHARACTER SET 'utf8';\");\n$this['db']->query(\"SET CHARACTER_SET_CONNECTION = 'utf8';\");\nTo this:\n$this['db']->query(\"SET CHARACTER_SET_CONNECTION = 'utf8';\");\n$this['db']->query(\"SET CHARACTER SET utf8;\");\nSolved the error.\nMySQL server version is 5.5.38-0ubuntu0.14.04.1 \nI'm not sure why this didn't show up earlier or isn't a problem in other MySQL versions, so I'm not sure whether I should create a PR for it?\nCan someone check this on a different setup?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1828\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Hmm, yeah, I've tried to reproduce the problem on my local setup, but\nneither the quotes nor the order of the commands seems to make any\ndifference whatsoever.\nAccording to the documentation, however, \"SET CHARACTER SET\" does not\nwant the quotes, while \"SET NAMES\" does. Go figure.\nOn another side note, I believe just \"SET NAMES utf8\" would be a better\nway, because it sets all the character encodings for the session in one\ngo, as opposed to two separate queries - if only because there can be\nabsolutely no confusion about the ordering of that query :o)\nOn Thu, Oct 09, 2014 at 12:45:45AM -0700, Petra Dreisk\u00e4mper wrote:\n\nHi Tobias2k,\nThe quotes actually don't make any difference at all. They were just left in the example because that was the first thing I tried ;-)\nYou can of course re-check, but there's no need.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1828#issuecomment-58474100\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Still; those tests fail in unpleasant ways. This is definitely not\nsomething we'd want to happen in the wild, although I have no idea what\nthe practical consequences would be.\nOn Tue, Oct 14, 2014 at 04:41:39AM -0700, rarila wrote:\n\nHmm, opinion\u2026 that is, Windows nice as desktop, don't use as server!!! ;-)\nDid run tests on Windows only for bolt/thumbnails sofar and I'm a bit short of time at the moment. Gonna perhaps investigate later.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1838#issuecomment-59029389\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. As long as the dispatche mechanism itself is solid and extensible, we\ndon't need a list before we start - just make it reasonably generic\n(but not overly so), hook it into a few crucial places (say, record\ncreation, update, deletion), and see what we can do with it. Feature\nrequests for more hooks will come our way all by themselves :)\nOn Sun, Oct 19, 2014 at 05:04:46AM -0700, Gawain Lynch wrote:\n\nYep.  We need to compile a list of places to trigger the dispatcher that makes sense...  Further suggestions welcome!\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1914#issuecomment-59647734\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. I'm more in favor of feature detection - sth like if\n(!is_null($app['dispatcher'])) { ... }\n...or even, Python-style: try { $dispatcher = $app['dispatcher']; }\ncatch (\\Exception $e) { /* dispatcher mechanism not available */ }\nOn Tue, Oct 21, 2014 at 12:47:44AM -0700, Andreas Lutro wrote:\n\nYou could test $app['bolt_version'] using version_compare, no?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1914#issuecomment-59890926\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Oh, wait, dispatcher is already there... mkay, forget what I said then.\n. I think there's a slightly deeper problem at play here: lack of\nabstraction, and insufficient separation of the \"URL\" and \"Path\"\nconcepts. Apache is at least partially to blame here for muddying the\ndistinction, but that's a weak excuse IMO. What we need, IMHO, is two\nsmall abstraction layers for URLs and filesystem paths, that allow us to\nwork with those in a structured way, rather than passing bytestrings\naround and manipulating those with regular expressions directly. Such\nabstraction layers would also take care of things like trailing slashes\nfor us, so joining two paths would always be safe whether the first one\nhas a trailing slash or not. I'm envisioning this abstraction layer to\nbe used a bit like this:\n$this->setPath(\"extensionspath\", $this->root->append(\"extensions\"));\n(where $this->root is a FilePath object).\nWe'd also get lots of niceness for URLs, such as:\n- safely adding / overwriting GET parameters (with automatic\n  encoding/decoding)\n- safely modifying the path part without bleeding into the GET\n  parameters\n- setting the protocol, hostname, port, etc. directly, without any nasty\n  regex voodoo, and without bleeding into other parts\n- avoiding double slashes and other irregularities\nE.g.:\n$url = URL::fromString(\"http://www.example.org:12345/foo/bar?baz=12&quux=1\");\necho $url->protocol; // \"http\"\necho $url->params['baz']; // \"12\"\n$url->params['baz'] = 55;\n$url->host = \"private.example.org\";\n$url->protocol = \"https\";\necho (string)$url; // \"https://private.example.org:12345/foo/bar?baz=55&quux=1\"\n$url->protocol = \"https://malicious.com/\"; // Exception: not a valid protocol\n$url->port = \"80?foo=bar\"; // Exception: not a valid port\nIdeally, someone would just find two suitable existing packages for this\nthat we can use without too much hassle (I'd actually be surprised if\nthis didn't exist yet), but writing them ourselves wouldn't be an awful\nlot of work either - the biggest part is changing our own code to work\nwith these. But then, if the FilePath and URL classes have toString()\nmethods, they would pretty much be backwards compatible at least for the\nusage case (though not creation).\nOn Sun, Oct 19, 2014 at 11:35:20PM -0700, Sergey wrote:\n\nThere are many compatibility problems with Windows OS in particular DIRECTORY_SEPARATOR.\nToday i catch a problem with creating extensions with own assets. BaseExtension->getBaseUrl() not work correctly on windows, because str_replace() recieve strings with a different slashes. Path to extensions hardcoded for nix OS  $this->setPath(\"extensionspath\", $this->root . \"/extensions\");\nbetter is $this->setPath(\"extensionspath\", $this->root . DIRECTORY_SEPARATOR .  \"extensions\");\nIts solve a problem, but url of assets look not pretty http://192.168.6.85:8800/extensions//local/versh23/bolt-code-field/assets/styles/shCore.css\nI feel it`s not a last problem with slashes.. \nCan we make a full support for Windows host machine or it is bad idea, because windows not for servers? (from comments in @1838\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1929\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Oh, and: as much as I dislike Windows, I don't think we can afford to\nignore the platform entirely. Lots of businesses and gov't agencies run\non a Microsoft stack, and I can totally see a use case where Bolt would\nbe the right tool for a task within such an ecosystem. I'd even go so\nfar as to say that SQL Server support would probably be a nice-to-have\nfor a lot of people.\nOn Sun, Oct 19, 2014 at 11:35:20PM -0700, Sergey wrote:\n\nThere are many compatibility problems with Windows OS in particular DIRECTORY_SEPARATOR.\nToday i catch a problem with creating extensions with own assets. BaseExtension->getBaseUrl() not work correctly on windows, because str_replace() recieve strings with a different slashes. Path to extensions hardcoded for nix OS  $this->setPath(\"extensionspath\", $this->root . \"/extensions\");\nbetter is $this->setPath(\"extensionspath\", $this->root . DIRECTORY_SEPARATOR .  \"extensions\");\nIts solve a problem, but url of assets look not pretty http://192.168.6.85:8800/extensions//local/versh23/bolt-code-field/assets/styles/shCore.css\nI feel it`s not a last problem with slashes.. \nCan we make a full support for Windows host machine or it is bad idea, because windows not for servers? (from comments in @1838\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1929\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Oh, absolutely agree. I just mentioned writing one ourselves in case\nnone of the existing solutions are of a quality that would be wise to\naccept.\nOn a side note, boy do I wish this was Haskell and we could just define\nour own Path type, have it implement the Monoid typeclass, and\nconcatenate paths just like you'd concatenate strings, lists, or\nanything else that's concatenable...\nBut I digress.\nRegarding Pathogen: looks like a useful enough library to cover the\n\"filesystem paths\" part (though it does not give us the smooth\ntransition I was hoping for out-of-the-box: we'd have to rip out the\npath handling we have now and rewrite it using Pathogen). Some things\nI'm wondering:\n- Encoding? Does Pathogen handle filename character encoding at all, and\n  if so, how?\n- Sanitizing? Does Pathogen sanitize filename portions, e.g. making sure\n  that there are no slashes or otherwise undesirable characters in\n  \"atoms\"? If so, how is it done?\n- The thing contains an impressive amount of boilerplate - has anyone\n  found the actual code yet? Because I haven't, but I'm sure it's\n  somewhere under the /src directory.\nOn Mon, Oct 20, 2014 at 03:14:59AM -0700, Ross Riley wrote:\n\nLikewise I agree. But I think we shouldn't write it ourselves there seems to be plenty of existing packages addressing the same, how about we make a simple service around this package: https://github.com/eloquent/pathogen#file-system-paths\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1929#issuecomment-59722716\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. My thoughts so far: pathogen looks pretty solid, but there's a lot of\nboilerplate - a bit like what someone would write who has just read the\nDesign Patterns book.\nInterestingly, this is once again an example of a problem that looks\ntrivial, but is full of edge cases and unexpected gotchas, and at the\nsame time, a very boring thing to build, so there might actually not be\na really good solution after all.\nOn Tue, Oct 21, 2014 at 02:24:15AM -0700, Rix Beck wrote:\n\nI have fears about using pathogen since I checked it deeper. I think if we use a lib it must be bullet proof. The first thing I flinched is in its factory here:\nhttps://github.com/eloquent/pathogen/blob/develop/src/Factory/PathFactory.php#L73-L78\nAs I read it - and I've loaded enough coffee yet - it can't be good. On a path like this /A//B///C would fail. Do I continue?\nSecondly - as Gawain is also mentioned - a bit overkill, regarding with the packages it requires...\nSo I would search another. Suggestions are welcome...\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1929#issuecomment-59901072\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Maybe if I can find the time I'll play with it a bit.\nOn Tue, Oct 21, 2014 at 02:44:41AM -0700, Rix Beck wrote:\n\nTrue. Question is we have trust in it is just one and only or we're gonna beta test it\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1929#issuecomment-59903271\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. More like an unforseen edge case.\nThe 'owner' role is an artificial one, i.e., it is set on-the-fly when\nyou edit or view an individual record, but it won't be available at\nall when you list things, or check permissions for a contenttype as a\nwhole. Running a permission check on all the individual records for\nlisting would likely kill the performance of the backend.\nSo, IMO, while this is kind of surprising behavior, and probably not\ndesirable, I don't see how we could change it into something more\nlogical without impacting performance, so I suggest we solve this with\ndocumentation... :P\nOn Wed, Oct 29, 2014 at 08:57:23AM -0700, rarila wrote:\n\nFrom my understanding the following entry\ncontenttypes:\n    kitchensink:\n       view: [ owner ]\nin permissions.yml should list all kitchensinks the logged in user owns. Instead the kitchensink entry in the menu disappears and no list at all is shown. Is the the intended behavior or is that a bug?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/2021\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Probably, but it would require adjustments through several abstraction layers. Sounds like a cheap excuse, I guess, but anyway. Right now, the permission system is built on top of the Storage abstraction, that is, permissions are checked after fetching content from the database. If we were to rewrite the storage layer (which, I believe, we should do at some point down the road, but not now), we should definitely integrate permissions with it, so that the content fetching queries have permission checks baked into them. As it stands, however, the checks are done in PHP, after the fact.\nAnyway, the \"view\" permission is hardly useful anyway, because the idea is that in the end, all content is supposed to be visible - we don't do any permission checks on the frontend, so the whole permission system is mostly built around controlling content modification, not protecting sensitive information.\n. Uhm, whether you fetch the font from Google or from whatever environment\nBolt is on, it's going to be one request either way, and Google probably\nresponds faster.\nOn Fri, Oct 31, 2014 at 10:17:47AM -0700, Cory Dowdy wrote:\n\nyeah a benefit of not actually having a request to el goog is not bad.\nit cuts down on well... requests haha... Since you're already using\nOpen sans might as well just download the files, use fontsquirrel\ngenerator.  you\ncould go even as far as inlining the stylesheet but I haven't thought\nabout how that would work for localization and in themes so that might\nbe completely out of the question (which is why just loading it from\ngoogle is nice they do that for you and only send that stylesheet for\nthose languages).  \nor just use open sans for headings and body copy gets default\nsans-serif like @GDmac mentioned\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/2038#issuecomment-61295187\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. Just thought that while we're at it, we might as well add (optional) cache busting in there as well - run a quick hash on every script file that goes into the require config, and cache-bust-tag the script URL with that hash. Foolproof automatic cache busting.\n. And one more thought; for production use, it may be desirable to consolidate the whole script business and maybe even run it through the require.js optimizer...\n. @rixbeck I prefer to leave this choice to the user. A popular use case for Bolt is to have a small blog or website, where all the changes are made more or less directly on the production system. Installing extensions, for example, should \"just work\" without the need to recompile anything. Compiling for production means that changes post-deploy will not work properly, so this should absolutely not be the default; anyone who wants to use this feature should be aware of the implications, and install extensions on development systems before building the compiled JS and deploying everything.\nAutomatically triggering a recompile after installing an extension would be an option, but that would require having Bolt drive the whole optimizer toolchain, and I don't think having Rhino or Node.js as dependencies would contribute to Bolt's popularity.\n. I don't think I understand what you're trying to say here.\n. Ah, fair enough. So default to not optimizing anything, but provide the stuff you'd need to run the optimizer over it, and a config setting to bypass dynamic JS in favor of the precompiled one?\n. We'd need two separate JS contexts: one for the frontend, one for the backend. The 'dynamic' dependencies would only end up in the frontend; the backend would have its own stack of dependencies, including one or more startup scripts. Both of these could, independently, be run through the optimizer, or not, depending on needs. JSONP (apart from the fact that JSONP itself is a terribly hack that needs to die) doesn't really change anything; the /async handlers just serve HTML fragments, and they should never include any scripts themselves. Other than that, both situations would be handled identically.\nThe backend could probably ship with a precompiled script in the tarball, but if we ever decide to allow extensions to mess with the backend, then we'd have to change that.\n. Oh, right, I get it. But then, only 8 lines of that script are hard-coded, and most of those are just ({}) stuff. I doubt spending an extra JSONP request on those would be worth it. Besides, who makes the JSONP request? ;)\n. With twig? Why? The dynamic parts are all JSON; rigging up a full twig environment just to inject two JSON values into a bit of otherwise static javascript is going to be overkill, and it'll make my life harder, not easier. This is one of those situations where PHP is an appropriate template language, sort of.\n. Haha, missed the :D part... damn you for making me say \"PHP is an appropriate template language\"...\n. @DevonshireCow: maybe, although I don't see it supporting require.js, which I would really like to see in Bolt because of how it handles modularity and versioning. I could totally see assetic as part of the toolchain though, if only to provide stuff like minification, cache busting.\n. > a replacement for assetic could be Gassetic but that is gulp and bolt uses grunt (just here for reference)\nTwo thoughts here:\n1. I actually don't think assetic would add all that much in terms of features / comfort, compared to a solution that uses just plain require.js and a little bit of glue code for the routing and the requirejs configuration; in fact, we'd probably end up with two systems solving highly overlapping problem areas, which IMO is seldom a good thing. KISS.\n2. While we use grunt now, I would love to see Bolt in a position where things like minification and SASS compilation are integrated into Bolt itself in a transparent way. Grunt is impressive, but it relies on somewhat brittle setups for development, and this leads to all sorts of inconveniences and barriers. What I imagine is that Bolt would ship with SASS and a JS minifier built into it, and a configuration setting that would determine whether Bolt would generate things on-the-fly, either always, or with caching (just like it does with templates now), or always serving from precompiled sources. For heavy-duty usage, one could even optimize this such that the development setup does the compilation, and then the production setup has Apache (or nginx or whatever) bypass Bolt for assets and just serve the compiled files directly. Which means we don't need to sacrifice any performance at all, but we can get a workflow similar to what Grunt produces, but without any extra tools outside of Bolt itself.\n\nI myself tried requirejs but it ended up being a bigger pain than it was worth when I wanted to load scripts async or some jquery plugins werent in an AMD/UMD manner (or commonjs for browserfy) so as long as we have the option on the client side /template side to not use it or turn it off I'm good with whatever you all decide :)\n\nWell, require.js is pretty painless if you build your project for it from the get-go, writing all your JS in a modular fashion. It takes some getting used to, but the results are absolutely worth it. You don't need to worry about async loading yourself, btw, because requirejs does that for you - just wrap your dependent code in a function, and pass it to a suitable require() call. And if you want to write old-style JS, you can still do that, just need to set up suitable shims in your require config.\nStill, an option to turn off script management for the frontend is of course something worth considering (and not very intrusive IMO), if only because you may want to port existing HTML to Bolt. It might break extensions relying on the script manager though.\nAlternatively, we could look into \"auto-shimming\", i.e., an option to register old-style scripts, and automatically wrapping them in an AMD module that imports the script's dependencies. Not sure how feasible this would be though.\n. Re assetic vs. requirejs; one of the big reasons why I would like to push for require is because it provides the tools for modular JS, which I believe is not something assetic does. But maybe the two can be combined, who knows.\n. @rossriley that was pretty much exactly my line of thought - template = null is elegant but magical, viewless = true is obvious but redundant.\n. > I was just meant about \"Why my template doesn't gets run?\" situations.\nWell, that question would rather surface as \"why does my content not show up at all?\"\nIn that context, maybe it would be somewhat confusing to see the route disappear when you set the template to null, so maybe we should go with the explicit \"viewless property\" solution after all.\n. This is because of the way JavaScript is being injected - the code that does this isn't DOM aware, it does a naive regular expression search for what looks like the appropriate place, and just injects the script tag directly into the HTML source. I could write a book about why things are the way they are, but anyway:\n- When, at some point, the whole script management stuff gets rewritten (using require.js if my proposal goes through), this is going to be a non-issue (or rather, there will be more elegant ways to solve this). See #2109 for the full discussion.\n- For now, a workaround is to fiddle with the position of the elements in your HTML head, especially the conditional comments. Kind of a shotgun approach, but you should be able to get the script injecter to latch onto the right thing.\n. What happened to \"learn to say 'no'\"?\nOn Mon, Dec 22, 2014 at 06:36:53AM -0800, Bob den Otter wrote:\n\nI'm personally not a fan of this, but i've heard this request. Well, because it's almost Christmas. ;-)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/2349#issuecomment-67843317\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n. ",
    "marcj": "Forcing the user/dev to have a password set is really not a good idea. Many many developers have mysql locally installed to debug/test etc. They usually don't have a password set because the server is bound to loopback interface or hostname is restricted to \"localhost\" and therefore its useless to set a password. Also some cloud provider do not set a mysql password but limit the access on TCP level, which is usually more secure. (which is sometimes needed to automatically boot new load-balancer slave instances while not saving the password in the repository/image)\nMySQL and PostgreSQL do support also more authentication methods than the good old password login. Restricting that isn't a good idea IMHO.\n. @bobdenotter, there's no need to replace that file. You might convert your contenttypes.yml to the schema.xml structure only at buildtime. Don't think that kind of onthefly converter would be that big/complicated as you already have some sort of a structured entity definitions and propel needs only very basic information to build a model.\n. Why Propel over Doctrine: https://github.com/propelorm/Propel2/issues/478#issuecomment-28193826\nPropel needs only the schema.xml which contains of course for each entity a table name. It generates then for all entries active-record and query classes you should add to your repository. Those classes are per default only place-holders and contain a empty php class definition that extends from base classes (so you're able to overwrite generated code). The actual code (base classes) is generated on buildtime. Those (maybe big) classes should not be a part of the repository and should be updated each time the schema.xml (respectively your .yml file) has been changed (new column, table name change, etc).\nThe migration (database schema/structure update) needs no php files at all - only the schema.xml.\nWriting own SQL is easy with Propel as well:\nphp\n   $con = Propel::getWriteConnection('database_name');\n   $smt = $con->prepare('bla')\nBut you can create almost all queries with the Query classes of your model.\n. A ORM is definitely a big plus. How about other ORMs like Propel? Is not that slow/memory-hungry as Doctrine.\n. Related to #687.\n. Can you define why doctrine is more \"modern\" and \"professional\"? Which criteria do you use?\nRegarding slow/memory: there's actually no subjective view here https://dl.dropboxusercontent.com/u/54069263/php-orm-benchmark.png\n. To me only arguments are important that are also important for the most ORM users, not only me or in theory.\nMeans, if you don't have a benefit in the decoupled dbal/orm or the entity manager you just don't have a \"better\" library at the end of the day.\nSo, decoupling stuff (dbal/orm or entitymanager) does not mean per se more modern or even more \"professional\".\nI've had never the need of that separation in my countless projects - and that does not mean they are not modern or not professional.\nFor most users is important: Performance, efficiency and simplicity. Doctrine's simplicity suffers through the heavily separation in it. The performance: see my image. Of course your architecture arguments are important for users that have a need for it, but let be honest: most users just don't have, and would probably prefer to have more simplicity and efficiency. Exactly what Propel provides.\n. You should really read all features of the other ORMs first before you start argumenting in a contemptuous way against other ORMs. With that base it makes no sense to me to discuss this further now.\n. @dominikzogg, well I got mongodb working with Propel. I can promise you, there'll be (probably as external repo) noSQL support in Propel someday. But however, it's at the moment only your wish to support noSQL databases in Bolt. We do not know the aim of Bolt.\n@pivotx, @dominikzogg I distinctly disagree here. When you have already meta data about a object (contenttypes.yml) you (as a user of Bolt) should not write object definition twice. In Doctrine you've to write your PHP model class yourself and update every time you change the contenttypes.yml file. Admittedly, Doctrine supports a kind of \"Entity Generation\", but they say about it:\nThis command is not suited for constant usage.\nIt is a little helper and does not support all the mapping edge cases very well.\nYou still have to put work in your entities after using this command.\nSo, that would not make sense.\nPropel's architecture instead is based on code generation. That means you only have to write a little helper to convert the contenttypes.yml into a readable schema for Propel (XML or PHP) and Propel will generate everything that is needed.\nThat definition conversion of the contenttypes.yml into the target ORM schema/definition is however in all ORMs necessary, so it's not Propel specific.\n@pivotx, sure other ORMs would fit too for the basics. I only think that schema migration should be a must have (which is not supported in all ORMs, especially not for SQLite&Postgres)\n. @dominikzogg, if it would that easy, you can encourage Doctrine guys to remove those sentences:\nThis command is not suited for constant usage.\nIt is a little helper and does not support all the mapping edge cases very well.\nYou still have to put work in your entities after using this command.\nWe will see then what they'd say.\n. @bobdenotter, it's possible to call both generators (Doctrine and Propel) inside PHP, without having access to the console. I totally agree with you: that would otherwise be a heavy usability issue.\n. Biggest: auto-completion in IDEs and big performance benefit (the latter only in Propel. In Doctrine the generated classes are \"stupid\").\nAlso: less error-prone as the class definitions comes from your contenttypes.yml and you don't have to write getters/setters/relation-stuff again and again (which is actually always the same).\n. I don't think that is a competition here. I just write down here my experiences/preferences. Bob might then decide which makes sense at all. Building a prototype just to discuss about it and throw one of them then away is not worth the time (for me).\n. Jupp, I'm a core developer @ propel and trying to help to find the best solution here. As bob mentioned, code(entity class) generation (in the background) is the only way to go, as he doesn't want to make it harder to use. For Doctrine you would have to write your php entity classes on your own, which would not be very clever since you already have your objects defined in contenttypes.yml.\n. Entity code generation isn't so easy like you're trying to say here. getters/setters for scalar types are simple, indeed, but writing the correct encapsulation for relations (n-1, n-n, bi-directional/back-references, foreign/local composite pk, etc) isn't. That's also the reason why doctrine says about the build-in code generation:\nThis command is not suited for constant usage.\nIt is a little helper and does not support all the mapping edge cases very well.\nYou still have to put work in your entities after using this command.\nYou are not going to write it just quickly. If it would not a problem to write as you're always saying then it would already be part of Doctrine. Since you'd need to write that big stuff first is another con for Doctrine.\n. > Using a DI container does not comply well with using an ORM that has static method factories.\nNot true, as most static method factories are just helper, so you can write stuff into one line. Most is optional and the few static methods is easy to mock/set in unit tests.\n\nHaving a static method-based ORM also leads to untestable code\n\nNot true too. It's not harder to test those things. Look at laravel, which is full of static methods and is well tested. We at Propel have also no issues with testing such code. You should not just believe anything you've read.\n\nAlso, if you want to assure that the separation of concerns principle is not violated\n\nSeperation of concerns is not a silver bullet. You should not use it because it exists, but only if you have a benefit. Look at Doctrine for example. Its full of almost all principles you can find. This makes it hard to use, slow and memory hungry. But well, if you just want to follow principles because they exist, do it and pay the price.\n\nyou just cannot have an ORM that allows you to deal with data persistence literally anywhere in your PHP code.\n\nSOC doesn't mean you should split anything up, but only where it makes sense in your project. If Doctrine separates repository and models doesn't mean it becomes automatically best practice and everyone should do the same. The average user has no benefit of separate those things, which makes it useless and rather a big drawback for userland code. And even if you have to deal with a issue where you have to dip deep in the ORM you can do it in both, one way or the other.\n. You don't have to hack anything. If your model has interfaces that changes you just have to adjust the model. In doctrine you have to rewrite your php class, in propel you have to rewrite the xml. But if it's really unstable you don't even have to rewrite the xml but can overwrote/add stub methods to you model class at any time.\n. It makes no sense to implement a interface in a model which obvious doesn't satisfied it's requirements. You don't have to write wrappers in the final version of your model. You wrote about a unstable interface, so you write those methods only for the beginning and of course remove those temp stub methods if you have adjusted the xml. I don't think this is dubious. It's almost the same way in doctrine, though you have to write php code instead of xml.\nHowever, this is the wrong place to discuss some cases you have with model and interfaces and you haven't found a good solution yet. Feel free to ask in our mailing list for help, before you proclaim there's no good solution and the approach is in general bad.\n. @tobias2k, you should not just claim something but also some examples which support this thesis.\n. @gawainlynch, you should read the quoted comment. Those issues there aren't fixed with that 'flat database file' (whatever this is)\n. @gawainlynch, erm, what are you trying to say? Having a password does not protect you from direct access of the database. When you say, USA opens your notebook and want see what's inside your database then a password is not necessary because mysql's binary files are not encrypted. Making your data on your notebook secure is not a question about mysql's credentials but about a protection of the whole system. (bios/operating system level)\nIt makes no sense to me what you're saying at all.\nHowever, it is still not useful to force the user to use a database password. Your 'case' with entering the USA etc etc is ... quite a stretch.\n. Do you have more information about \n\nBut, that's just bad practice\n\n? I disagree here.\nIt should be up to the developer how they configure their system. You should focus on being a CMS not a teacher for admins. I want to setup my system how I want and not how others want it to be. Of course, would it be a requirement to be able to run your system then I'd do it, but it isn't. If you'd strictly follow your argumentation of this is bad practice then the next logical step would be to allow only passwords with min length of X or something like that.\nAlso those developers who don't want to setup a password use then passwords like root or password. I don't think that is better. Please, just let lazy developers be lazy and don't try to dictate your personal best practices. No one benefits from being forced to do it. \n. Yes, your links are about productive systems. However, I think we're talking at cross-purposes here. You're arguing for productive systems/usage, I'm talking about dev/evaluation/testing environments like the intention of the thread creator here. Would you extend your test suite in travis you'd see that even travis does not have root/postgres passwords set because it makes not much sense in such environments. When I test/evaluate some software, I do have a kinda equal virtual machine for that - without passwords. I won't change that only for Bolt as almost all other systems allow me to use no passwords.\nOk, nevermind, I give up as I see it's pointless to discuss with people who don't pick up my argumentations and do not discuss about it but bring in arguments of personal best practices from a complete different use case.\n. ",
    "vjnrv": "Great, thank you.\n. I speak Brazilian Portuguese, would be nice to help translating Bolt, i think in few weeks i can start it.\n. ",
    "fabpot": "I think that integrating the \"default\" Symfony profiler would be better. And of course, you can then new panel for things that are specific to Bolt.\n. ",
    "geopal-solutions": "Ok, really, cool. Sorry if I broke anything I thought this might go in a\ntest branch.\nIf I have time later this week and its not already done then the db\nabstraction layer needs to go in along with caching layer and the removals\nof global $app\nOn 25 Feb 2013 17:14, \"bobdenotter\" notifications@github.com wrote:\n\nWow, this must've been a lot of work. At first glance this looks good. I'm\ngoing to merge it in, and we'll fix thing, should anything break. Thanks a\nlot!\n(on a slightly related note: I saw some notices that setFlash is\ndeprecated. We'll have to fix those. That's what we get for using a\nframework that's not even 1.0. :-) )\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bobdenotter/bolt/pull/207#issuecomment-14055602.\n. ok if you are happy to merge in because the next bits I was planning on\ndoing were unrelated\n\n1) move phpass and markdown and htmlawd to composer, getting it out of\nclasses (less code to version, always a good thing)\n2) using doctrine query builder instead of the sql that is there because it\nseems like there could be some injection issues\nSean\nOn 25 February 2013 18:31, bobdenotter notifications@github.com wrote:\n\nActually, I've created an '1.0.x' branch, in which we'll do the minor\npatches. This change should go in 1.1, and as such 'master' is the correct\nplace for it.\nIf you're going to do more changes, should I perhaps wait a bit, before I\nmerge this in?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bobdenotter/bolt/pull/207#issuecomment-14063055.\n. Ok will commit using those ticket numbers\nOn 25 Feb 2013 19:26, \"bobdenotter\" notifications@github.com wrote:\nAh, ok. I'll merge this one in, hopefully tomorrow if i can find some time\nto do so.\n1) move phpass and markdown and htmlawd to composer, getting it out of\nclasses (less code to version, always a good thing)\nDidn't know those two were on composer. This was already discussed\nbriefly, that we should do this as much as possible. See #195https://github.com/bobdenotter/bolt/issues/195.\n2) using doctrine query builder instead of the sql that is there because\nit seems like there could be some injection issues\nIf you could work on that, that would be awesome! This one is high on the\nlist of things to fix. See #203https://github.com/bobdenotter/bolt/issues/203\n.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bobdenotter/bolt/pull/207#issuecomment-14068568.\n. hi i have just included #195 here I got rid of a few things.\n\nNew composer.json now has:\n\"htmlawed/htmlawed\": \"dev-master\",\n        \"hautelook/phpass\": \"dev-master\",\n        \"dflydev/markdown\": \"1.0.*@dev\",\n        \"taha/timthumb\": \"dev-master\"\n. yes which is why i think you should make a second repo in bobdenotter\nsomething like bobdenotter\\boltutils. This could contain forks of htmlawed,\nmarkdown, utils and other badly versioned projects. This way you get the\nbest of both worlds. You get to stop versioning unnecessary code and you\nget to keep using composer because if you keep managing all\nyour dependencies in the bolt master branch you are probably going to have\na bad time.\nOn 27 February 2013 10:38, Patrick van Kouteren notifications@github.comwrote:\n\nI'm not too fond of (at least I know from htmlawed since I included it\nmyself) requiring dev-master because it's the only branch available.\ndev-master can change without notice. That's the main reason why I included\nit in the classes: to ensure that the behavior stays the same.\nRequiring dev-master is okay in beta versions, but not in production /\nalpha versions.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bobdenotter/bolt/pull/207#issuecomment-14167069\n.\n. I dont think you should merge this then even manually, because even if I\nundid 1bf0b66https://github.com/bobdenotter/bolt/commit/1bf0b664a0b899750d20039dae8234be3f712122\n, I think the problem is that most of these commits are about deleting\nfiles from \"classes\" and it would messup your master branch. If you have\nbeen modifying the sources of timthumb and htmllawed then then its best to\nconsider them part of your code base now. I think its best to reject this\npull request and close this ticket, I have two more branches for pull\nrequests than the first is better bolt cache and the second is new sql bind\nstuff.\n\nOn 27 February 2013 17:29, bobdenotter notifications@github.com wrote:\n\nThere already are 'master', 'develop' and '1.0.x' branches. We should move\nto a setup like thishttp://nvie.com/posts/a-successful-git-branching-model/,\nor perhaps a slightly simplified version of that.\nAbout the inclusion of these in this pull:\n\"htmlawed/htmlawed\": \"dev-master\",\n\"hautelook/phpass\": \"dev-master\",\n\"dflydev/markdown\": \"1.0.*@dev https://github.com/dev\",\n\"taha/timthumb\": \"dev-master\"\nI'm not happy about htmlawed (like Patrick), and our version of timthumb\nis slightly modified. (timthumb has it's own cache cleanup checks, and i\nthink that shouldn't be part of an image resizer. We should discuss this\nmore, probably, because i'm really not looking forward to maintaining extra\nrepo's, just for htmlawed, timthumb, etc..\nI'd like to merge these changes, but without your composer.json\nchanges. Can you undo 1bf0b66https://github.com/bobdenotter/bolt/commit/1bf0b664a0b899750d20039dae8234be3f712122,\neasily? if not, i'll merge manually.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bobdenotter/bolt/pull/207#issuecomment-14187051\n.\n. \n",
    "helderco": "As of now, if you install bolt itself via composer, the extensions folder becomes vendor/bolt/bolt/app/extensions. My vendor folder is in .gitignore, though.\nDo my extensions need to be in that folder, or can I put them elsewhere such that bolt can find them, and without messing around with bolt's folder structure?\n. @evertalbers Yeah, I did that with my own site that was in Wordpress (now in Pelican) but I manage more then one multilingual site in Drupal and Drupal does it right.\nIt's not viable to have one site per language in my use case for Bolt. That's why I also request Multi-language support of some sort, or at least ideas on how to do it on my own.\n. Exactly, I get the same.\n. I've been looking at the code and makeSlug() is being called at every turn.\nI'd suggest something like:\nphp\nfunction makeDbSlug($str) {\n  return str_replace('-', '_', makeSlug($str));\n}\nOr a second parameter to makeSlug() and call one or the other when dealing with database tables and fields or URLs.\n. Thank you @bobdenotter but I don't think that fix will work for now because even with a slug set, when the configuration is read, the contenttype key (e.g. photogallery) is replaced with makeSlug('Photo Galleries') making it photo-galleries.\nSo I think this works for writing the tables be when reading it'll still have this problem.\n. I'm running 1.0.5 :)\n. I agree with @mduplouy, it's how Django does it too.\n. My solution to this has been #894.\n. Here's how I solved this.\nI take advantage of Symfony's locale in routes: http://symfony.com/doc/current/book/translation.html#book-translation-locale-url\nTo avoid adding a requirements for this in every route, I added the enforcement in my before, using a list of accepted locales in config.\n``` yml\nconfig.yml\nlocale: pt_PT\ni18n_locales:\n  - en\n  - pt\n  - es\n  - fr\n  - de\n```\n``` php\n// My\\Controller.php\nnamespace My;\nuse Bolt\\Application;\nuse Bolt\\Controllers\\Frontend as BoltFrontend;\nuse Symfony\\Component\\HttpFoundation\\Request;\nuse Symfony\\Component\\HttpFoundation\\Response;\nclass Controller\n{\n    /*\n     * Enforce locale requirement\n     /\n    public static function before(Request $request, Application $app)\n    {\n        BoltFrontend::before($request, $app);\n        $locales = $app['config']->get('general/i18n_locales', NULL);\n    if ($locales && $request->getLocale()) {\n        if (!in_array($request->getLocale(), $locales)) {\n            $app->abort(404, $app['translator']->trans('Unknown or unsupported locale.'));\n        }\n    }\n}\n\n/**\n * Redirect / to /{default_locale}\n */\npublic static function i18nFront(Request $request, Application $app)\n{\n    $locales = $app['config']->get('general/i18n_locales', NULL);\n\n    if ($locales) {\n        return $app->redirect($app['paths']['root'] . $request->getPreferredLanguage($locales));\n    }\n}\n\n}\n```\nNotice how in i18nFront(), $request->getPreferredLanguage($locales) sets the locale from the user's browser preference, but for one in my accepted list.\nI have this on a BaseController so it works in multilingual sites or not. On non-multilingual sites I just don't set i18n_locales in config.yml so this code isn't run.\nHere's my routes:\n``` yml\nrouting.yml\nhomepage:\n  path: /\n  defaults:\n    _controller: 'My\\Controller::i18nFront'\nExample for your own pages (notice how simple it is)\nsomepage:\n  path: /{_locale}/somepage\n  defaults:\n    _controller: 'My\\Controller::test'\n...\ncontentlink:\n  path: /{_locale}/{contenttypeslug}/{slug}\n  defaults:\n    _controller: 'Bolt\\Controllers\\Frontend::record'\n    _before: 'My\\Controller::before'\n  requirements:\n    contenttypeslug: 'Bolt\\Controllers\\Routing::getAnyContentTypeRequirement'\n...\ni18n_homepage:\n  path: /{_locale}\n  defaults:\n    _controller: 'Bolt\\Controllers\\Frontend::homepage'\n    _before: 'My\\Controller::before'\n```\n. @bobdenotter Oh, forgot about that. No, as of now I'm adding internationalised fields to the same content type, which is easier to implement.\nExample:\nyaml\nproducts:\n    name: Products\n    slug: products\n    singular_name: Product\n    singular_slug: product\n    fields:\n        title_en:\n            type: text\n            label: Name (English)\n            class: large\n        title_pt:\n            type: text\n            label: Name (Portuguese)\n            class: large\n        slug:\n            type: slug\n            label: URL\n            uses: title_en\n        body_en:\n            type: html\n            label: Description (English)\n            height: 150px\n        body_pt:\n            type: html\n            label: Description (Portuguese)\n            height: 150px\n        image:\n            type: image\n            label: Image\n    record_template: product.twig\n    listing_template: products.twig\n    listing_records: 200\n    sort: title\nIn Drupal you translate fields now, but behind the scenes it creates translations associations by have a table per field and having a column with the language and another with the translation set id.\nSo you can create a \"node\" in a specific language, and then translate to another when you're ready and the association between them, as well as knowing which fields are \"synchronised\" or not, are handled behind the scenes.\nWould be interesting if we could the the following:\nyaml\nproducts:\n    name: Products\n    slug: products\n    singular_name: Product\n    singular_slug: product\n    fields:\n        title:\n            type: text\n            label: Name\n            i18n: true\n            class: large\n        slug:\n            type: slug\n            label: URL\n            uses: title_en\n        body:\n            type: html\n            label: Description\n            i18n: true\n            height: 150px\n        image:\n            type: image\n            label: Image\n    record_template: product.twig\n    listing_template: products.twig\n    listing_records: 200\n    sort: title\nThe available languages for translation could be the i18n_locales config variable. Translating labels (e.g., Name, Description....) and content type name (e.g., Product) would be done through the translator service. Slugs (URLs, e.g. product) could also be translated through the translator service.\n. @klickreflex You're missing the / route from my example above:\nyml\nhomepage:\n  path: /\n  defaults:\n    _controller: 'My\\Controller::i18nFront'\nAlso, the Controller that I gave, can be extended, so it can be reused between projects and keeping it clean from your project specific controller code.\nAs for the local field, I concatenate the field name with the locale, something like:\ntwig\n{{\u00a0object['field_' ~ app.locale] }}\n. I took another look and I see you added the / route, but it was out of the code block so I didn't notice.\n. Is your Esperanto namespace loading correctly?\nI mean, is it in your autoloader?\nHere's my composer.json:\njson\n{\n    \"require\": {\n        \"bolt/bolt\": \"dev-master\"\n    },\n    \"minimum-stability\": \"dev\",\n    \"prefer-stable\": true,\n    \"scripts\": {\n        \"post-install-cmd\": [\n            \"Bolt\\\\Composer\\\\ScriptHandler::installAssets\"\n        ],\n        \"post-update-cmd\": [\n            \"Bolt\\\\Composer\\\\ScriptHandler::installAssets\"\n        ]\n    },\n    \"extra\": {\n        \"bolt-dir-mode\": \"0755\"\n    },\n    \"autoload\": {\n        \"psr-4\": {\n            \"Morfose\\\\\": \"app/src\"\n        }\n    }\n}\nHere, Morfose = My\\Controller in my example above. So I have my classes in app/src.\n. Also, do you have the i18n_locales setting in config.yml? Can you show?\n. It's your project's root composer. I assume you're using composer and have not downloaded Bolt with the full vendors included.\nI have Bolt in the vendor dir, so if you're using Bolt the default way (download from the site or git clone), then you're seeing Bolt's composer.json which will be different then mine.\nIn the latter case, you'll have something like the following at the end:\njson\n    \"autoload\": {\n        \"psr-0\": {\n            \"Bolt\": \"app/src/\",\n            \"Bolt\\\\Tests\": \"app/tests\"\n        }\n    }\nJust add yours there. If you have your Esperanto class in Bolt's app/src then your namespace should really be Bolt\\Esperanto, in which case you don't need to do anything to composer.json.\n. Bolt itself, if installed in vendor would be in bolt/bolt. Dumper is another project from the Bolt team.\nSo, in your case, if you want to keep Esperanto.php in app/src/Bolt/Controllers, then change your namespace to: Bolt\\Controllers.\nThat is, at the top of the Esperanto.php file and anywhere you call Esperanto, such as in your routing.yml:\nyml\nhomepage:\n    path: /\n    defaults: { _controller: 'Bolt\\Controllers\\Esperanto::i18nFront' }\n. Show the code.\n. The namespace should represent the folder it's at (i.e., namespace Bolt\\Controllers;), and the class name should be the same as the file (i.e. class Esperanto).\n. I actually think we should keep this open for discussion because I've been using Bolt in vendor for a while and I've hit a lot of bumps because of Bolt's assumptions on paths, so this isn't \"ready\" in my opinion.\nI very much prefer to keep Bolt as a dependency in vendor and keep my own code separate, while also leaving this code out of the public web folder.\nI've just started a new project on 1.5.1 and I have broken stuff so this time around I think I'm ready to contribute back and fix some of the assumptions to allow Bolt to be used as a vendor app for those who want it.\n. There are some issues, which are hardcoded in parts of Bolt's code. You can't go past them without making hacky code or changing core. I'll send a PR with some fixes and you'll understand.\nHere's my web/index.php:\n``` php\n<?php\n// \"Installing Bolt with Composer: http://rayofsolaris.net/blog/2013/installing-bolt-with-composer\"\nrequire_once realpath(DIR.'/../vendor/bolt/bolt/app/bootstrap.php');\n// Register service providers\n$app->register(new \\My\\Provider\\TranslationServiceProvider());\n$app->register(new \\My\\Provider\\AuthServiceProvider());\n// Register an error handler for 404 aborts\n$app->error(array(new \\My\\ErrorHandler($app), 'http'), -7);\n// Enable extensions\n$extensions = new \\My\\Extensions($app);\n$extensions->enable(\"MyExtension\");\nif (preg_match(\"~^/thumbs/(.*)$~\", $_SERVER['REQUEST_URI'])) {\n    // If it's not a prebuilt file, but it is a thumb that needs processing\n    require DIR . '/bolt-public/classes/timthumb.php';\n} else {\n    // Here we go!\n    $app->run();\n}\n```\nMy custom code:\napp\n|-- extensions\n|   `-- MyExtension\n|       `-- extension.php\n|-- resources\n|   `-- translations\n|       `-- pt\n|           `-- messages.pt.yml\n`-- src\n    |-- Auth.php\n    |-- BaseController.php\n    |-- Controller.php\n    |-- ErrorHandler.php\n    |-- Extensions.php\n    `-- Provider\n        |-- AuthServiceProvider.php\n        `-- TranslationServiceProvider.php\nI replace my vendor name with \"My\" when pasting here. That namespace is targeting app/src in composer.json.\nYeah, share your case. Maybe there's something I can use :)\n. Man, just now noticed from travis the mess on the $config instanceof \\Bolt\\Config stuff in classes/lib.php.\n. ",
    "anlutro": "Feels like you should be able to just composer require the extension, add it to a config file and that's it. Let composer handle the version constraints.\n. The two should not be mutually exclusive, though. You could start by checking if the extension's \"core\" class is defined, and if not, include files from the extensions directory - or the other way around. Utilizing Composer's version check for the non-CLI method may be more difficult for the latter.\nIt should also be possible to tell Composer to install certain packages (maybe those from a Satis repository as suggested) into a directory that's not vendor - app/extensions for example.\nComposer is PHP after all, so it should even be possible to call a PHP class method from a HTTP request to the admin panel to install a package and regenerate the autoloader.\n. Is it necessary to have two different git repositories for the different setups? Alternatively, you could create a class that interactively guides the user that does composer create-project through the installation process, where he/she picks which installation to use.\n. You could test $app['bolt_version'] using version_compare, no?\n. ",
    "ckhampus": "For managing extensions via composer you could use composer/installers. This package will install packages to the correct location based on the specified package type.\nFor example you could have a package type bolt-extension that gets installed to app/extensions.\n. ",
    "DQvsRA": "Hello.\n1. Now i update PHP version to 5.3\n2. Install through zip\nAfter i change version of PHP from 5.2 to 5.3 all start working fine.\nThanks you for response!\n. ",
    "rustyJ4ck": "\n\nSince Russian characters have no literal translation to ascii\n\n\nWhy so? Javascript transliteration ru->ascii example (plugin):\nhttp://snowcore.net/synctranslit\nOr slug (optional) may contain cyrillic letters /[\u0430-\u044f\u0410-\u042f\u0451\u0401]/u\nfor example: \u043f\u0440\u0438\u043c\u0435\u0440\nTeasers chopping is probably sqlite issue. \nBolt 1.0.2 (downloaded bolt-latest.zip) with default config.\nPHP Version 5.4.3, sqlite 3.7.7.1 \n. Figured out issue with teaser cropping:\nProblem in htmlLawed, function hl_tidy - it is not unicode safe.\nFunny to see symfony with $GLOBALS usage in htmlLawed. May be its time to drop this lib and switch to something else? like http://php.net/manual/en/book.tidy.php\n. Workaround for htmlLawed (.htaccess)\nphp\nphp_value mbstring.func_overload 2\nphp_value mbstring.internal_encoding UTF-8\n. ",
    "electrolinux": "I totally agree with you, and if you look closer, you'll see that all the contenttypes related translations can be simply ignored : they are in a separate file, and only used if found. Otherwise, the generic sentence with %contenttype% (in the general messages.yml file) will be used.\nWe can add a config parameter that switch on or off the 'translate content-type', for example.\nThere is an almost easy way to reduce the doubles, by using two placeholders for contenttype:\n%contenttype% -> singular_name\n%contenttypes% -> name (plural)\nbut it put the burden on the developper to choose the correct placeholder to use when writing a sentence related to content-type...\n. Sure, I'm going to put a lot of efforts to have a sophisticated-light-simple CMS in French, and i've chosen bolt !!\nAs mentioned in my first pull request, it was not initially a request for merging, more of seeking an agreement of how it could be done the right way.\nThanks git, i can keep up with your master branch while continuing working on this i18n stuff... \nSo merge if you want, when you want, i'll be with you for tracking bugs. But sure we can wait a bit, and set up some tests before any merging, i'm Ok.\nIn fact, i'm a bit reluctant for a merging right now, and would appreciate having a little bit more time to provide a better work.\n. Ok for merging ;-)\nThere is some more to come, but it will be on another branch, as it need a bit more code in the ui. It'll be about translating larger blocks of text, as all the \"info\" tooltips in editcontent.twig, and storing them in another format, or at least having another means of editing them than the current yaml editor...\nUpdated the i18n proposal wiki page to reflect the current proposal.\n. This last commit make Bolt translation (almost) complete, yes !!\n(not yet looked at extensions, for example)\nI've added a third domain, 'infos', also in YAML format, for the missing larger strings (info tooltips or larges block, as in the about.twig)\nFor this domain, only the keys are written in templates, and the content is in the infos.{locale}.yml file.\nModified the Bolt\\TranslationServiceProvider to load the locale_fallback version of the file for providing the default strings when there is not yet a translation in the current locale.\nWill add some more preliminary doc in the wiki.\nHope you'll have as much fun as I had playing with this stuff. Thanks you for launching such a project, guys !\n. I'm glad that it's works well!\n. Indeed, an old fix. I'll try to redo it right now...\n. This should merge easily now...\n. I agree for no Html in text strings ( these comes from Backend.php, and finally are not used in the template)\nyml was just the easier for me at that time, and are a good candidate for easy online editing too...\n. All this variants are generated from the generics strings containing a '%contenttype%' placeholder. That's the main point of my implementation. As new contentype is added, bolt will just be able to generate a new set of translatable strings for the end user to fill if he/she want to translate them. :-)\n. That's fine for me too, yes.\n. Except if people have a smart tool helping them to translate whatever their content-type is... Hope i'll show it'll be \u00bbrealistically doable\u00bb\nThanks for your review and notes. I'll come back soon with some improvements !\n. Don't know from where this spaces went back... Was sure you had already removed them !? And git say my branch is already up-to-date\n. Ok, i'll put them back.\n. You want at least this one line, for preventing sentences identical as keys in contenttypes not to be asked again and again :-)\n. ",
    "gagarine": "@bobdenotter when you say \"out of scope\" it's a problem of resources and you will eventually accept a pull request or it's because you feel like this feature will make the CMS bloated?\n. Thanks for this very clear answer, I totally understand. At http://antistatique.net/ we looking for a  small CMS but because in Switzerland multi-language is a must have.\nWe will first try your CMS deeply to see if it's what we want. \nYour 100% right it's not a simple pull request.  So we will start to think about the UX/UI and the options we have to implement this features. We will make some public proposition to get feedback.\nI don't think is going to be made in the next months, but I want to start some experiment now as for us this is a needed feature.\nWe have about 15 clients by year than have the need for a small platform like that, so if we start using it we will provide support about the code we made.\n. ",
    "davidromani": "totally agree, I hope that Bolt can reach i18n without extra complexity\n. ",
    "fmanaya": "Hi all.\nI'm starting with bolt (silex, etc) and I know is not elegant start asking for something in the first message, but..\nI would like to see your implementation (extension) for the multi-lingual site with Bolt.\nfyi: I started to transtlate bolt messages to spanish\n. Thank you Bob. I know what you mean.\nI'll keep working on my own extension and learning Bolt/Silex while waiting your article\n. Depending on how sophisticated and simple you want it, I have a  first approach  :-)\nIn the login page I have a checkbox to demand reset the password, that sends an email to the user with a new password.\nThis new password is sent in plain text, so the user must be able to change it. I played in menu, in wich last option  become a dropdown menu where the first submenu is \"My profile\" and the second for Logout.\nIn My Profile, a user can only change their details, name, pwd and email, not permissions.\nI tried everything possible reuse components, hence I have used a checkbox in the login and \"user edit\" elements.\nPending the mail delivery (I have used simple mail() not SwiftMailer) and the generation of the new password(now fixed text)\n. ",
    "Harm10": "Documentation link should be: https://github.com/bolt/bolt/wiki/Adding-a-translation \n. Seems like a good idea!\n. I am fairly new at Github. Is my conclusion right that my enhancement request was not incorporated into the latest version?\nFor me personally this enhancement is a prerequisite for starting to use Bolt.\n. I guess your explanation is satisfactory. I will not go so far to exclude it from the theme and test whether it is inserted. I didn't study the debug bar code thoroughly enough. Thanks for the heads up for that!\n. OK thanks for the change. I can live with it having another default.\n. I agree!\n. Nice feature to have!\n. Perhaps you can describe which ones?\n. What is meant by default_image? The max width and height?\nAnd the c after cropping stands for the number chosen for the zoom crap value (e.g. 3)?\n. I think only using words would be even clearer to the users. As you say those numbers seem meaningless.\n. Is this documented?\n. This sounds very promising..........\n. ",
    "bichotll": "Hi Bob! Really cool project! \nBut I need the multi-language feature as well.\nMaybe I can do a draft n disqus later. What do you thing?\n. ",
    "evertalbers": "Just had a chat with a WordPress developer who told me that they don't use WPML anymore, but just make new instances of WordPress for every language. They (and I) already had some management and usability issues, but lately the SEO folks convinced them (URL's, localized filenames, etc) and now they dropped WPML altogether. Just so you know.\n. I was just thinking about Bolt multilinguality when your post came in, Kickreflex.\nI am still thinking in a different direction, based on existing functionality - one Bolt installment for each language in a subdomain, based on the same theme for every language.\nPut all localized stuff in a properly abused menu.yml file for each language - this way you can change all localized words & links in one spot. \nNot saying that this is a universal solution, but what I produce here is usually limited to 2-3 languages and this saves me from building complicated taxonomies or contenttypes. It also works better if the content in the used languages doesn't exactly match.\n. Respectively:\n- Not in this solution. I did make on of those switches a while back, based on 'related content' taxonomy, but that requires a single installment.\n- Not that I know of.\n- No, as long as you can use shell access to update Bolt. Additionally, it only takes a couple of extra FTP actions for the theme.\nAbout the first bullet: the time that I made switcher, I ended up having LOTS of if-then's in my code, that's why I am now considering other methods. \nThe switcher itself looked like this: \n{% set relatedrecords = record.related() %}\n      {% if relatedrecords is not empty %}\n        {% for related in relatedrecords %}\n        {% if record.language==\"nl\" %}{# the current page is nl #}\n          <li class=\"language\"><a href=\"{{ related.link }}\" alt=\"English: {{ related.title }}\">EN</a></li>\n          <li class=\"language active\"><a href=\"#\"  alt=\"Nederlands: {{ record.title }}\">NL</a></li>\n          {% else %}{# the current page is en #}\n          <li class=\"language active\"><a href=\"#\" alt=\"English: {{ record.title }}\">EN</a></li>\n          <li class=\"language\"><a href=\"{{ related.link }}\"  alt=\"Nederlands: {{ related.title }}\">NL</a></li>\n        {% endif %}\n        {%  endfor %}\n      {% else %}{# no relation specified  #}\n        <li class=\"language {% if record.language==\"en\"%} active{% endif %}\"><a href=\"/homepage/en\" alt=\"English\">EN</a></li>\n          <li class=\"language {% if record.language==\"nl\"%} active{% endif %}\"><a href=\"/homepage/nl\"  alt=\"Nederlands\">NL</a></li>\n      {% endif %}\n. So far I have used 2 different methods to make multi-language sites, both with their advantages and limitations.\nThe first is within 1 Bolt site with use of taxonomies and (quite a lot of) nested queries.\nThe second method is using multiple Bolt installations, both using the same templates but a different config.yml, and a special contenttype where editors can change language-specific strings.\nEspecially the 2nd one may be interesting, since it does not require a lot of extra coding. May become a long story to describe. Shall I give it a try here?\n. Allright then:\nThis is a method to use and maintain 1 theme in multiple instances of Bolt with different languages.\nAdvantages\n- Keeps the amount of extra code to a minimum\n- Maintenance is not as bad as it looks, once you have your Grunt setup ready, upgrade Bolt with SSH, etc.\n- SEO fanatics can rename their assets for every language\nDrawbacks\n- No related content from one language to the other (but this can also be an advantage, if content varies per language)\n- Multiple sites with user accounts, assets, etc, so:\n- Not a good idea for sites with many languages\n1 set of templates - and a separate config.yml for each site\nStuff that is different per site that you want hard-coded in your template use e.g:\n{% set locale = config.get('general/locale') %}\n<!DOCTYPE html {% if locale == 'en_GB' %}lang=\"en\"{% else %}lang=\"nl\"{% endif %}>\n{# or to use separate template files that you keep in one project #}\n% if locale == 'en_GB' %}\n    {% set include_directory='language_includes/en/' %}\n{% else %}\n    {% set include_directory='language_includes/nl/' %}\n{% endif %}\nUse language strings\nMake a special contenttype for UI stuff that is different in each language. The contenttype can look like this, offering a description (sorry about the Dutch), a plain text field, and a HTML field for when HTML is needed:\nlanguage_strings:\n    name: Language_strings\n    singular_name: Language_string\n    fields:\n        title:\n            type: text\n            label: Titel ( hiermee wordt slug/permalink gegenereerd - let op dit is niet de content)\n            postfix: \"De slug of permalink hieronder moet corresponderen met die in de template.\"\n        slug:\n            type: slug\n            uses: title\n        content:\n            type: text\n            postfix: \"De content van het item - moet altijd gevuld zijn.\"\n        html:\n            type: html\n            prefix: \"Bij sommige items kan/moet HTML worden toegepast\"\n    sort: title\n    default_status: publish\n    recordsperpage: 100\nWhen you refer to a Language_string item from your template, use:\n{% include '_language_string_content.twig' with {'slug': 'leesmeer'} %}\nIn the example above, Bolt will look for a language_string with slug  'leesmeer'.\nThe .twig file that is referred to is automatically produces a legible error as long as the item with the required slug does not exist yet, so you know what needs to be filled in when you create a site based on the same template with a new language:\n_language_string_content.twig\n{% set lan_item='language_string/'~slug %} {# glue contenttype and slug - I don't know why, but it did not work without #}\n{% setcontent language_item = lan_item %}\n{{ language_item.content }}{% if language_item.content is empty %} Missing language content for item slug: \"{{slug}}\"{% endif %}\nThe HTML include is the same, but uses the html field from the Language_string contenttype. Only the check for empty fields changes, actually.\n_language_string_html.twig\n{% set lan_item='language_string/'~slug %} {# glue contenttype and slug - I don't know why, but it did not work without #}\n{% setcontent language_item = lan_item %} \n{{ language_item.html }} \n{% if language_item.html is empty %} Missing language content (html) for item slug: \"{{slug}}\"{% endif %}\nWell, that's it, I think.\nNow make build your site and make language_string items with the proper slug for all localized/translated items in your site.\nI am not pretending to be the best developer on this forum - open for suggestions and improvements!\n. Hey, the 'official' Bolt docs now have a how-to on multilanguage websites as well: https://docs.bolt.cm/howto/building-multilingual-websites\n(have not read it thoroughly at the moment of posting this)\n@abelafonte I don't entirely understand what you want to accomplish. \nIf all the sites use the same corporate identity and structure you might get quite far with a combination of well-defined editors/groups/rights etc. and routing settings for all the used domain names. \n. Let me know if you want ftp and/or Bolt access to the aforementioned server - it's a test environment so you can play around if you want to.\n. OK. Closed, then.\n. Attached a partial yml file (the part that may have caused the error). \nBelow, the generated html generates some errors from W3C validator too - but I get lost in the nested divs of the HTML here. \nScreenshot: \n\nContenttypes:\nhttps://dl.dropboxusercontent.com/u/17945939/1305_bolt_code/part-of-contenttypes.yml\nSource from backend:\nhttps://dl.dropboxusercontent.com/u/17945939/1305_bolt_code/backend.html\n. PS Chrome shows everything OK.\n. Yes I have custom contenttypes, but this error only appeared after the upgrade. \nSome more details:\n- When I re-save my custom unchanged contenttypes.yml in the backend I do not get any error notifications in the backend, just the familiar \"File 'app/config/contenttypes.yml' has been saved. / Your database is already up to date. \". \n- I see that the error only shows when I'm not logged in to the backend\n. Contenttypes: https://dl.dropboxusercontent.com/u/17945939/1302_ItyHardy/contenttypes.yml\nSome more details:\n- I noticed that in one case, an accent was used in one of the slugs (which also showed up in my browser URL, while I thought that URLS are ASCII. I removed the accents now. \n- The home_statements and home_items are elements used on the homepage - maybeI  should add fields here?\n-  Filezilla showed some upload errors (\"mislukte overdrachten\") when updating Bolt - reden/reason: \"map aanmaken\" =create directory.\n  \n. No luck: current contenttypes file is https://dl.dropboxusercontent.com/u/17945939/1302_ItyHardy/contenttypes_2.yml\n. Tried a few things, but the error remains. Still wondering what's going on here - and why the error is not visible when your browser is logged in to the backend. Anyone?\n. Email sent. \nI have an eerie feeling that it will turn out out to be a human error by yours truly, but if it's too emberassing, I can always enlist here: http://www.legion-etrangere.com/\nThanks for your help anyway. \n. I was aware of the 404 option (it might still be a good suggestion to make this a H3 instead of a H1), but not of the debug setting.\nThanks -  I'll close this issue.\n. Hi Jeevan,\nA roadmap is here: http://bolt.cm/newsitem/whats-next-for-bolt\n. You are correct, I looked wrong: it was not the point between 2 fields, but it was the point between a h3 /h3 and the following p /p within one html field. I can solve this by putting a space at the end of the h3 in this page  of course. \nWould still be good if Bolt could catch (most of) these occurrences, but I don't know if that's difficult to implement.\n. Having this functionality in the CMS rather should have a clear advantage over doing the same in a frontend solution. Your example looks good, but so does http://foundation.zurb.com/docs/components/interchange.html, at first sight.\n. ...is that \"returnsingle\" a Bolt-specific filter (which should be in the docs somewhere) or is it \"normal\" Twig (that I  cannot seem to find with Google)?\n. While you're at it, I wouldn't mind similar functionality (being able to easily change the order) for file downloads. But I don't know if that's tricky/much work or not.\n. With the current Bolt functionality, can already make 80% of what you (and I) want in twig templates -  the only missing things here are a custom login page and a redirect page after login/logout.\nI'm afraid that my marginal php skills are unsufficient here, though.\n. Thnks. \nI already suspected that this was something that I misunderstood, and I was satisfied when I found what works and what doesn't.\nI posted this because I may not be the only one that apparently mixes up identifiers and URLs.\n. Yeah, that would certainly clearify the difference for dumbos like me. \nI would say leave {% setcontent %} as it is and change menu.yml - hopefully backward compatibility won't be an issue.\n. Filelist?  :+1: \n. Of course, should 've known... Thanks, works like a charm now. \n. Works as described indeed, thanks guys. \nAnd while I'm at it, I was wondering if SimpleForms can use hidden fields, or if there is another trick to customize the mail a bit, depending on which form was sent. (using multiple forms on one site)\n. That's a better idea.\n. Thanks for the tip, I was already doubting wether or not to put the simpleforms css into the general css of my site. This made the decision easy.\n. It's just vanilla Simpleforms with some css. The [event.preventDefault();] doesn't seem to work and [return false;] blocks sending (Firefox).\nExample is below, form is in testmode, so any generated mail will arrive at my place.\nhttp://profin.nl.greenhost.nl/pagina/formulier-testpagina\n. Wait, this works: \n$('form').get(0).setAttribute('action', '#mailform');\ncombined with a \n<hr id=\"mailform\"> in the HTML right above the form. \nAlternatively, you can also change the action into a URL, but then the user won't see if sending the form has given an error or not.\nI would suggest to change the simpleforms action into #something by default and extend the documentation a bit.\n. Looks like the trouble is being caused in the .htaccess apartment somewhere, but the default files do not work. I'll send you ftp access via bob@bolt.cm - but make sure that you finish 1.6 first ;-)\n. Thanks!\nIt's a shared hosting environment indeed, but not the proverbial cheapo. I've notified the hoster's helpdesk. They will look into it, I'll update (and close, hopefully) this issue when I know more.\n. One more thing that I notice: the errors only seem to take place when I log in to the backend. When I log out of the backend, all pages on the front render perfectly. I'll wait for the hosting company's reply first, but this may provide some extra info.\n. Half, I'll reopen this issue if we need any help.\n. Thanks! I'll close this issue and contact the hosting company.\n. Sounds reassuring, thanks. Closed, as far as I'm concerned.\n. Brilliant, thanks.\n. Sorry Bacbos, I tried to do so, but I got syntax errors and since I'm not into php at all, I won't be able to tackle this :-(\nThe only thing thay I can help you with: I doublechecked that the pages referenced in my menu exist with the slug that was mentioned. \nMaybe if you have a test-site somewhere, you can recreate a 3-submenu-level deep menu and see if you can reproduce the error.\n. You have mail. \nThe menu.yml looks fine indeed, it is what Bolt does with it that seems to create the empty links.\n. @bacbos I am about to use this patch as well on a live server (running Bolt 1.6.10) but was wondering whether it will be merged into a next version of Bolt (either 1.6.11 or 2.0) or that I will have to keep-on-a-patchin'.\nI'm not a 'real' developer or very familiar with the Bolt/GitHub-dev process yet, so it may be a dumb question - but I'm asking just to be on the safe side. \n1.6.10 is from August, while the patch was made in May, so I would have expected it to be merged by now, and you also made this spooky remark about me \"being behind in the codebase\". \nFYI I usually use the SSH update method. \nThanks anyway.\n. I just downloaded the latest release from the site again (1.6.10) to make sure that I am peeking into the right version. But app/src/Bolt/TwigExtension.php in that package still contains the old code. \nYour comment seems confident, so am I doing something wrong?\n. @credomane if you don't want to go through all the above, I did have a problem (with 'almost infinite' levels of submenus) that was fixed by https://github.com/bolt/bolt/commit/8617ae1a3ab01c4e277a7b42a5fd0ffd2d72c1a5 so if I have any right to vote, please leave it where it is :-)\n. Hold on - I did get a similar thing to work on another site. Now figuring out what the difference between the 2 sites is.\n. Ah - that other site I used a special contenttype for the listing page. This is an option indeed, but I'd prefer a 'normal' listing solution without a separate contenttype. Possible?\n. I tried the solution that you mentioned before I posted the question: this only worked when I omitted the routing settings. The problem is not in the first page, but in the following page, with the URL that ends with the ...?page=2 \nI now made a separate contenttype for the listing, which solves it and also makes it possible for my client to manipulate SEO fields of the blog overview pages herself. \n(And: I could have checked whether any existing deeplinks exist - maybe deleting the routing settings would not affect any external links, since it is still a relatively new site)\nWas not aware of the Stack Overflow section, I'll go there next time I have a question. But this is still a 'semi-bug', if you ask me ;-)\n. Update: it turns out that aforementioned editor did fill in the time-field, but used the wrong notation (0:00), which caused the same error. Another thing to keep in mind when patching this.\n. With Bolt 1.6.10 / OSX: \nFF 32 and Safari 7.0.6 don't automatically fill in / correct the date. \nChrome does.\n. Thanks - should I just wait for the next 1.6.x release?\n. Then I might as well wait for 2.0. The site where this is an issue will benefit a lot from grouping contentitems in tabs anyhow - and till then I offered my client to manually edit dates with a MySQL tool when they need it. \nI only hope that migrating SimpleForms won't be too difficult, but that's another story.\nFeel free to (reassure me and) close this issue.\n. Sounds good!\n. Never mind. Just thought I should let you know.\n. ",
    "klickreflex": "I'm also thinking about getting multi lingual content done with bolt, as this is something I need quite often.  \nI don't fancy the idea of multiplying content types too much, because it would get really messy with lots of languages and content types and I'm afraid of creating a maintenance hell. \nI was wondering if we couldn't use a taxonomy for language selection in combination with content relation. \nSo the workflow would be: create a page \"foobar\", select language taxonomy \"english\". Duplicate this page as \"foobar de\", change taxonomy to \"german\", set relation to \"foobar\". \nIs there any chance to get a taxonomy's URL slug in front of the content that uses this slug? For pages that have the German taxonomy term assigned there would be an url scheme like /de/pages/foobar-de\"? \nThis still wouldn't solve the problem of not having localized URL slugs for the content type though.\n. Thanks @evertalbers for sharing your way.\n- How do you manage to create a language switcher (page-to-page), if you do have one?\n- Is there a way to have a shared user base (with single sign on) across multiple installations or do you manually create multiple user accounts for one editor and they have to log in separately on each subdomain?\n- isn't it cumbersome to maintain 2 or more themes that are basically the same? Could Bolt maybe be told to use a theme that is located outside its own installation directory?\nI'd be glad if you prove me wrong, but on a first thought maintaining multiple installations seems not really an option for my use case(s).\n. @helderco This looks cool and I'm very interested in getting it running myself. \nHow did you manage to only show the correct local field depending on the active language?\nAnother question regarding your configuration: \nI managed to get language prefixes working, but only if I access my site with a prefix. \ne.g. bolt.dev/en works correctly, but calling the root bolt.dev  the following error is thrown\n/Users/Daniel/sites/bolt.dev/vendor/symfony/http-kernel/Symfony/Component/HttpKernel/Event/FilterControllerEvent.php\n\nLogicException\nThe controller must be a callable (Array(0 => Esperanto\\Controller, 1 => i18nFront) given).\n\n*\n * @api\n */\npublic function setController($controller)\n{\n    // controller must be a callable\n    if (!is_callable($controller)) {\n        throw new \\LogicException(sprintf('The controller must be a callable (%s given).', $this->varToString($controller)));\n    }\nHere's my Controller:\n```\n<?php\nnamespace Esperanto;\nuse Bolt\\Application;\nuse Bolt\\Controllers\\Frontend as BoltFrontend;\nuse Symfony\\Component\\HttpFoundation\\Request;\nuse Symfony\\Component\\HttpFoundation\\Response;\nclass Controller\n{\n    /*\n     * Enforce locale requirement\n     /\n    public static function before(Request $request, Application $app)\n    {\n        BoltFrontend::before($request, $app);\n        $locales = $app['config']->get('general/i18n_locales', NULL);\n    if ($locales && $request->getLocale()) {\n        if (!in_array($request->getLocale(), $locales)) {\n            $app->abort(404, $app['translator']->trans('Unknown or unsupported locale.'));\n        }\n    }\n}\n\n/**\n * Redirect / to /{default_locale}\n */\npublic static function i18nFront(Request $request, Application $app)\n{\n    $locales = $app['config']->get('general/i18n_locales', NULL);\n\n    if ($locales) {\n        return $app->redirect($app['paths']['root'] . $request->getPreferredLanguage($locales));\n    }\n}\n\n}\n```\nAnd my routing.yml\nhomepage:\n      path:               /\n      defaults:             { _controller: 'Esperanto\\Controller::i18nFront' }\n```\nsearch:\n  path:               /search\n  defaults:           { _controller: 'Bolt\\Controllers\\Frontend::search' }\npreview:\n  path:               /preview/{contenttypeslug}\n  defaults:           { _controller: 'Bolt\\Controllers\\Frontend::preview' }\n  requirements:\n    contenttypeslug:  'Bolt\\Controllers\\Routing::getAnyContentTypeRequirement'\ncontentlink:\n  path: /{_locale}/{contenttypeslug}/{slug}\n  defaults:\n    _controller: 'Bolt\\Controllers\\Frontend::record'\n    _before: 'Esperanto\\Controller::before'\n  requirements:\n    contenttypeslug: 'Bolt\\Controllers\\Routing::getAnyContentTypeRequirement'\ntaxonomylink:\n  path:               /{_locale}/{taxonomytype}/{slug}\n  defaults:         \n    _controller: 'Bolt\\Controllers\\Frontend::taxonomy'\n    _before: 'Esperanto\\Controller::before'\n  requirements:\n    taxonomytype:     'Bolt\\Controllers\\Routing::getAnyTaxonomyTypeRequirement'\ncontentlisting:\n  path:               /{_locale}/{contenttypeslug}\n  defaults:         \n    _controller: 'Bolt\\Controllers\\Frontend::listing'\n    _before: 'Esperanto\\Controller::before'\n  requirements:\n    contenttypeslug:  'Bolt\\Controllers\\Routing::getPluralContentTypeRequirement'\n------------------------------------------------------------------------------\nPlace your own routes here, that have a LOWER priority than the default routes.\ni18n_homepage:\n  path: /{_locale}\n  defaults:\n    _controller: 'Bolt\\Controllers\\Frontend::homepage'\n    _before: 'Esperanto\\Controller::before'\n```\nI'd be grateful for any help.\n. I guess just dropping my own controller into app/src/Bolt/controllers is not enough. Where should this go to?\n. Hi @helderco and thanks a lot for your help.\nNo, I guess my Esperanto namespace is not loading correctly. Which composer.json should it be added to? Sorry, this is a bit of new terrain for me.\nAnd yes, I've added i18n_locales to config.yml:\n```\nlocale: de_DE\ni18n_locales:\n  - de\n  - en\n  - ru\n```\nKind regards,\nDaniel\n. Okay, I did not install via composer but just downloaded the archive. \nNow I'm all confused about the directory structure. I can find tens of composer.json files, but none of them themes like Bolt's composer.json. \nAlso, I do have Bolt in the vendor directory, but inside that there's only a sub directory called Dumper. I did put Esperanto.php inside /app/src/Bolt/Controllers. So if I move it up to /app/src/it should be auto loaded? (Update: no, I moved it up and nothing changed)\nHere's a screenshot of my dir structure: \n\n. I'm feeling like I have to ask stupid question, sorry.\nI changed the namespace as suggested in both Esperanto.php as well as in my routing and now I get:\n\nFatal error: Cannot redeclare class Bolt\\Controllers\\Esperanto\\Controller in /Users/Daniel/sites/bolt.dev/app/src/Bolt/Controllers/Esperanto.php on line 13\n. app/src/Bolt/Controllers/Esperanto.php\nhttps://gist.github.com/klickreflex/10021185\n\n/app/config/routing.yml\nhttps://gist.github.com/klickreflex/ec9e57bbeccc51b69415\n/app/config/config.yml\nhttps://gist.github.com/klickreflex/10021165\n. That solved it, thanks a lot!\n. > Filenames can't be changed yet. What would you want to change?\nI was searching the issues to find existing topics regarding file renaming upon upload, so I hope this is kinda right.\nI'm looking for a way to sanitize file names upon upload. I want to get rid of spaces and special characters for files uploaded by editors. Is there a way to achieve this?\n. Correct me if I'm wrong, but that would allow me to have hard-coded filters for a list. What I'm asking is to have a form in the frontend that allows visitors to narrow down the list to certain taxonomy terms (or field values). \nI have a feeling it could be done somehow by creating a twig filter, but I have no experience with twig yet, so maybe somebody has already done that?\n. Thanks for clearifying @Damienov. That sums it up exactly.\n. Thanks a lot for sharing your extension @diggersworld, will try it on my first project with Bolt :)\n. ",
    "Slowwie": "Yes, I want also use this CMS. Shortly before I wanted to download it, I decided against it. My customer said, he needs multilanguages, because he is an international artist. So, I go back to Contao. Such a pity. But I have no time to search for a suitable solution. I wondering, why its not inside this nice CMS because of SILEX has this feature.\n. I found this : http://silex.sensiolabs.org/doc/providers/translation.html\n. I know thats not a very simple task. If it where like this, I would do it for myself. But perhaps in the next versions. I think, to know about the translation features of Silex make things a bit easier ;) . I will follow your CMS and if it has this important feature for me - I can\u00b4t wait using it :)\n. All browsers doesn't work. Safari, Firefox, Chrome, Opera. All newest versions. I work on a Mac (if its important to know). \nThe picker is flashing up. But instead of putting the selected value in the select-field it is deleting it. And in the database is also no effect...\n. I updated bolt now, and it doesn't work :( . I cleared the cache and all the stuff. Have I something forgotten? In the #2394 was the _geolocation.twig changed. I can't see the connection to the _date,twig and the _datetime.twig problem ... \n. ",
    "mikerockett": "@Slowwie - Silex is a PHP Micro Framework that Bolt is built on top of. It does not have built-in/native multi-language support.\n. Okay, my apologies - did not know that (well, at least the built in simple routing). Nonetheless, there's much to build on top of that, from database implementations to changing the routing system - it's not a very simple task. @bobdenotter believes that if you're going to do something, do it well, and don't just create a quick solution... See this earlier comment.\n. A second the motion - this is a must have.\n. Apologies, I see this has already been covered. Though, I think it should be considered so that nobody runs into this problem.\n. > Bolt 1.2 (due out in a week or two) will have proper routing...\nIn that case, will I be able define each and every single route for a content type? In other words, if I have a page content type, will I be able to remove the /page/ slug, so that I can just use /about-us?\nAlso, do you think content type structures will be implemented at some point? For example, I'd be able to have /about-us/client-philosophy for a sub page, and perhaps /services/web-design/quote as a child content type (say, page of service).\nI understand that Bolt is meant to be simple and straight-forward, however I feel that, if implemented correctly, it could work well, and can be easily understood - making it simple, and straight-forward.\n. @bobdenotter Yup! Sorry, I only checked now... I think the routing system will solve most of my issues. Nonetheless, having looked at the routes.yml.dist file, I doesn't look like I can specify explicit record mappings, like /about-us/client-philosophy would map to /page/about-client-philosophy, for example. This would be a good interim implementation for page hierarchies. Well, you did say that I can map to individual pages (now that I'm re-reading your comment...) How would I do that? (Oh, and I'll respond to your email on Monday - I'm out of office, and responding on my mobile is kinda tedious...)\n. I see, that's pretty much how I saw it. Just wanted to make sure... :)\nroutes.yml is a great addition to Bolt. :+1: \n. Sounds good to me - especially if you will be implementing #544 \n. Surely that's only a 'map', and not an actual 301-redirect? I mean, that example is defaulting to a record object, which does not perform any redirection...\nI do, however, think that it's not a bad idea to have redirects in the routing configuration. It keeps things simple, and straight-forward. In addition, and if one was working with Laravel, redirects would commonly go in a Route controller anyway. So, it makes sense.\n. Well, Laravel uses a more direct approach, where you map a route to a controller, or an inline method. So, a standard redirect would look like this:\nphp\nRoute::get('test', function()\n{\n    return Redirect::to('//google.com');\n});\nI had actually written a library for Laravel 3 and CodeIgniter that handled them in a before hook. It basically scanned a JSON file for any redirects (with named params) and redirected them accordingly.\nFor the sake of simplicity, it would be fine to add it to routes.yml. For example, you could just add the option redirect: 301 and redirect_location: <whatever>... Of course, you would then not use defaults: { _controller: 'Bolt\\Controllers\\Frontend::record', 'contenttypeslug': 'page' } as no mapping would need to take place.\nEven better:\nyml\noldpages:\n    path:     /{slug}.html\n    requirements:\n        slug:    '[a-z0-9-_]+'\n    redirect:\n        code: 301\n        location: <whatever>\n. Perhaps that could work - and it's a lot more controlled. I assume that the defaults param will return the URI to direct the browser to?\nJust a side note: I'm actually now starting to think that routes.yml (or routing.yml) would not be the best place for this. As you said, an extension would be better. I'd be prepared to make one up this afternoon (and make it as flexible as possible).\n. I'm busy working on it as we speak. :+1: \n. > I'm not sure if it'd be best to add a very generic $app->match() to catch all requests (which will be handled after the routes in routes.yml)\nI think the objective is for such redirects to happen way before anything is done with routing. My idea is to catch them using the extension's config.yml file first, and do the 301 immediately.\nI'll be making the extension compatible with the uses: clause in the content type setup, as well as any routing that occurs in the routing.yml file. Everything shall be explained in the readme. I'll try and repo by tomorrow. :)\n. Need a bit of help here: As part of being able to generate a destination based on a particular content type's slug or a route in routing.yml, I need to know how I can obtain that data. Is there a built in method for obtaining all the content types and routes?\n. Great, thanks :+1: \n. Okay, I'm holding back on the extension for now. I'd rather test it on the final release of 1.2.\n. Okay, I had to reboot the repo - lots of conflicts, etc. New to git, so was not sure how to go about fixing it. Anyways, 0.3 is live at foundry-code/bolt-redirector. :)\n. Cool, glad you like it :)\n. I've made a few doc changes to make my life easy. I don't think it's necessary to push it to 1.2, as the extension works anyway. Just thought I'd mention it. :)\n. Yeah, that did it. Wish Windows and Unix systems had the same damn slash-policies. Unix systems do a better job... Thanks, Bob. I can finally get that extension up and running, and start migrating my sites over. :)\n. Okay, just confirmed. I did a fresh pull, and it failed. Perhaps it has something to do with Symfony? Composer reported that the composer.json params and the lock params differed. The Symfony components are on 2.3.4, but Bolt is configured to use 2.3.4.\n(I do apologise if I'm being silly... I'm quite new to this Composer and Git thing...)\n. Hi Bob :) I'm using PHP 5.4 with the default database setting on SQLite.\nIt happens just after the install, when it changes to URI to /bolt/users/edit/. The error shows then.\nI'll give that a try as soon as I get back home. :)\n. Same here :) Thanks @bobdenotter \n. I haven't gone through the Bolt source, but perhaps that's maybe happening because as a work object is edited, its ID changes? That's common in systems that use revisions and histories. Not sure if Bolt does that, but it seems to be a plausible explanation. @bobdenotter will probably pick it up a lot faster than I would.\n. In addition, and if using id is possible, does it help with duplicate checking?\n. @bobdenotter Well, I never checked. Was just checking to see if that was the case. :)\nThanks for the fix - will patch later and test it out. :)\n. What build are you using? Try using the latest beta from http://bolt.cm/distribution. I'm using required: true for 13 content types, and it works just fine.\nAre there any errors or exceptions? What more can you tell us about why it doesn't work?\n. Is this not gonna make it into 1.2?\n. I see, cool stuff. I agree though, and like you say, \"If we're gonna do that, we need to do it properly\". Let's just hope that nobody complains that it doesn't sync up nicely...\n. Indeed. I'm happy with 1.2 as it stands. Gonna start building sites with it this weekend. (I'll also submit them to the showcase, which needs a serious update.)\n. Agreed - at least I know I'll be submitting two sites in the next month or two, once for the charity I work for (which will be content-type heavy), and then a site for my firm. :)\n. @hqmatics What I really think, for now, is that, once you have the ID showing in the content editor, you should manually add it using the slug editor. Alternatively, create another field called the_id, and then base the slug on that. Though, it's better to use the first option. When the issue gets fixed (@bobdenotter should be on it soonish), the slugs will be able to work properly.\nAs for the date time thing, its best to have one field for date, and another for time. I don't think there's a way to format it, though I have not yet tried (I use ID's and note dates).\n. Let's see what @bobdenotter says... The problem with it is that it isn't user-friendly for everyone, and is not as simple as it could be.\n. @bobdenotter: Just something that's come up. If we implement this all properly, will there be a facility to make all records published in the past update themselves to match the format? I wouldn't want to be in a position where I have some posts that just use title and others that use title and id or datepublish.\nI'm quite keen on the formating of the slug. Perhaps some presets, like year and month?\n. True - I'm just a sucker for consistency...\n. I must also note that this may be difficult to reproduce, but, for some, it may cause issues. I think it's worthwhile to look into it.\n. Ah, okay. I understand. :)\n. What version are we looking at for this?\n. Weird indeed - I'm actually not the biggest fan of rich text editors for the web. I don't recall ever seeing a \"perfect\" one out there. (My 2 cents: Markdown does it for me - but, of course, not for the majority of content creators/editors).\nI wonder why they never included that functionality...\n. I have got to +1 this entire thread. :+1: and +:100:\n. Have you tried doing a normal download from http://bolt.cm/distribution?\n. The files themselves are not broken at all, at least not for me anyway. Did you try with a fresh git pull? Or perhaps a composer create-project bolt/bolt ...?\n. @bobdenotter: Good idea. Perhaps there was a build-issue with the distro archives?\n. It could only then be an HTTP-related issue with @nanotime's PC...\n. This is quite an interesting point to bring up. @bobdenotter: I'm beginning to think that \"thumb-pressing\" (yes, that sounded cool as I wrote it) should be handled internally, ie. It should go through the routing system. That way, users can customise their thumb URIs. What do you think?\n. I see - I understand that speed is quite a concern. I then think it'll be better to stick to that.\n. I see - I can understand that. I've never really trusted Google when it comes to canonical redirects. I've had a few instances where it ignored becuase the encoding was wrong.\nAnyways, I think this is something we can look at later on. Besides, nobody really provides links for type/id anyway.\n. I actually think that's a very good idea. :) The only issue then would be the fact that some sites may not be able to use menu.yml, like my site.\nJust to give you an idea (and I know this is a bit much), this is the markup I'm using for my menu:\n<nav class=\"siteMainMenu\"><div class=\"line\"></div><div class=\"container\"><div class=\"full menuPlaceHolder\">\n        <ul>\n            <li><a class=\"current\" href=\"/\">Home</a></li>\n            <li><a href=\"/about/the-foundation\">Who We Are</a><div>\n                <ul class=\"borderRight\">\n                    <li class=\"groupTitle\">Foundation Information</li>\n                    <li><a href=\"/about/the-foundation\">About the Foundation</a></li>\n                    <li><a href=\"/about/the-team\">About the Team</a></li>\n                    <li><a href=\"/about/our-offices\">Our Fairview Offices</a></li>\n                    <li class=\"break\"></li>\n                    <li class=\"groupTitle\">Join us!</li>\n                    <li class=\"largeItem\"><a href=\"/about/vacancies-for-fundraisers\">Vacancies for fundraisers\n                        <span class=\"descriptor\">Interested in joining our fundraising team? See the vacancies that are available.</span>\n                    </a></li>\n                </ul>\n                <ul class=\"borderLeft borderRight\">\n                    <li class=\"groupTitle\">Further Information</li>\n                    <li class=\"largeItem\"><a href=\"/resources\">Resources and downloads\n                        <span class=\"descriptor\">Download our certificates, publications, and other related documentation.</span>\n                    </a></li>\n                    <li class=\"largeItem\"><a href=\"/about/making-donations\">About making donations\n                        <span class=\"descriptor\">Learn about donating to our cause and the legal information associated with doing so.</span>\n                    </a></li>\n                    <li class=\"largeItem\"><a href=\"/internal-policies\">Internal policies\n                        <span class=\"descriptor\">We adhere to a strict set of internal policies to ensure that we conduct our business legally and ethically.</span>\n                    </a></li>\n                </ul>\n                <ul class=\"borderLeft\">\n                    <li class=\"groupTitle\">Certification and Registration</li>\n                    <li class=\"largeItem\"><a href=\"/resource/npc-registration-certificate\">Non Profit Company (NPC)\n                        <span class=\"descriptor\">Learn more about NPCs, and see our certification.</span>\n                    </a></li>\n                    <li class=\"largeItem\"><a href=\"/resource/sars-section-18a-certificate\">SARS Section 18A\n                        <span class=\"descriptor\">Learn more about SARS Section 18A PBO Tax Exemption.</span>\n                    </a></li>\n                    <li class=\"largeItem\"><a href=\"/resource/black-economic-empowerment-certificate\">Black Economic Empowerment (BEE)\n                        <span class=\"descriptor\">Learn more about earning BEE points for donations made, via your Corporate Social Investment/Responsibility initiatives.</span>\n                    </a></li>\n                </ul>\n            </div></li>\n            <li><a href=\"/funds\">What We Do</a><div>\n                <ul class=\"borderRight\">\n                    <li class=\"groupTitle\">The Funds</li>\n                    <li><a href=\"/fund/excursion-fund\">Excursion Fund</a></li>\n                    <li><a href=\"/fund/active-education-fund\">Active Education Fund</a></li>\n                    <li><a href=\"/fund/food-fund\">Food Fund</a></li>\n                    <li><a href=\"/fund/uniform-fund\">Uniform Fund</a></li>\n                    <li><a href=\"/fund/christmas-fund\">Christmas Fund</a></li>\n                    <li class=\"break\"></li>\n                    <li class=\"largeItem\"><a href=\"/about/fund-history\">History of our Funds\n                        <span class=\"descriptor\">Learn about how it all started, what's happened since it did, and where we're going.</span>\n                    </a></li>\n                </ul>\n                <ul class=\"borderLeft\">\n                    <li class=\"groupTitle\">Events</li>\n                    <li class=\"largeItem\"><a href=\"/about/fundraising-events\">Fundraising events\n                        <span class=\"descriptor\">Learn about the events we hold to raise funds for our various causes.</span>\n                    </a></li>\n                    <li class=\"largeItem\"><a href=\"/events\">See the events calendar\n                        <span class=\"descriptor\">Check out what's happening next in our events calendar and, where applicable, make bookings for them.</span>\n                    </a></li>\n                    <li class=\"largeItem\"><a href=\"/journal/events\">See previous events on our Journal\n                        <span class=\"descriptor\">View articles on our blog about previous events that we've held to raise funds for our cause.</span>\n                    </a></li>\n                </ul>\n            </div></li>\n            <li><a href=\"/beneficiaries\">Who We Help</a><div>\n                <ul class=\"borderRight\">\n                    <li class=\"groupTitle\">Our Beneficaries</li>\n                    <li><a href=\"/beneficiary/ithembelihle-lsen-school\">Ithembelihle Lsen School</a></li>\n                    <li><a href=\"/beneficiary/jumma-musjid-educational-institute\">Jumma Musjid &amp; Educational Institite</a></li>\n                    <li><a href=\"/beneficiary/lerato-child-youth-care-centre\">Lerato Child &amp; Youth Care Centre</a></li>\n                    <li><a href=\"/beneficiary/ng-welfare-catherine-robson-kinderhuis\">NG Welfare: Catherine Robson Kinderhuis</a></li>\n                    <li><a href=\"/beneficiary/reamogetswe-resource-centre\">Remogetswe Resource Centre </a></li>\n                    <li><a href=\"/beneficiary/salvation-army-strathyre-girls-home\">Salvation Army: Strathyre Girl&#039;s Home</a></li>\n                    <li class=\"break\"></li>\n                    <li><a href=\"/beneficiary/communities-individuals-and-families\">Communities, Individuals and Families</a></li>\n                </ul>\n                <ul class=\"borderLeft\">\n                    <li class=\"groupTitle\">For Beneficiary Applicants</li>\n                    <li class=\"largeItem\"><a href=\"/resource/beneficiary-enlistment-application-form\">Apply for enlistment\n                        <span class=\"descriptor\">Download the application form needed to apply for enlistment.</span>\n                    </a></li>\n                    <li class=\"largeItem\"><a href=\"/about/beneficiary-selection-process\">Beneficiary selection process\n                        <span class=\"descriptor\">Learn more about how we review enlistment requests and select beneficiaries.</span>\n                    </a></li>\n                </ul>\n            </div></li>\n            <li><a href=\"javascript:void(0);\">News</a><div>\n                <ul class=\"borderRight\">\n                    <li class=\"largeItem\"><a href=\"/journal\">View our Journal\n                        <span class=\"descriptor\">See what we've been up to lately.</span>\n                    </a></li>\n                    <li class=\"largeItem\"><a href=\"/press\">Media and press releases\n                        <span class=\"descriptor\">See news features from around the web, as well as other press releases.</span>\n                    </a></li>\n                </ul>\n                <ul class=\"borderLeft\">\n                    <li class=\"groupTitle\">Subscriptions</li>\n                    <li><a href=\"/journal/feed/rss\">Journal feed</a></li>\n                    <li><a href=\"/press/feed/rss\">Press release feed</a></li>\n                </ul>\n            </div></li>\n            <li><a href=\"/contact/form\">Contact Us</a><div><ul>\n                <li class=\"largeItem\"><a href=\"/contact/form\">Use the contact form\n                    <span class=\"descriptor\">Write to us using our contact form</span>\n                </a></li>\n                <li class=\"largeItem\"><a href=\"/contact/details-and-location\">Details and location-map\n                    <span class=\"descriptor\">See our contact details and an interactive map to our offices.</span>\n                </a></li>\n                <li class=\"largeItem\"><a href=\"/contact/webmaster\">Get in touch with our webmaster\n                    <span class=\"descriptor\">Do you have something to say to our webmaster? Let him know using this form.</span>\n                </a></li>\n            </ul></div></li>\n            <li><a class=\"donate\" href=\"/donate\">Donate</a></li>\n        </ul>\n        <form id=\"siteSearch\" method=\"POST\" action=\"/search\">\n            <input type=\"text\" name=\"search\" placeholder=\"Search the site...\"><input type=\"submit\" value=\"\">\n        </form>\n    </div></div></nav>\nThink of it as a Mega Menu (my word that term is so old). With that markup, it wouldn't be 100% simple to incorporate into menu.yml.\nI do think your idea is good though. Also, it should be opt-in, so comprehensible or not, it's worth it. Also, think about this: you've designed Bolt for designers and developers. If designers have a sense of coding, then this should be another ball in the park. It's not too heavy at all.\n. Mmm, could work. But, as a filter, how would that work? How would currentsub() check for sub 2?\n. Oh I see - sorry, wasn't looking at it that way...\n. @Atriedes, please tell us what version of Bolt you're using, and where exactly you got it from?\n@bobdenotter This seems weird - why would it work in 5.4 but not on 5.3?\nI thought this was fixed in #468\n. Then it's definitely a 5.3 thing - I, for one, don't know the full differences or where the problem could be. @bobdenotter will have to take a look.\n. Hi Bob :)\nWell, the listing templates are specific to the content type. So, for example, I have a listing template for journal entries (journal_entries, as defined in the contenttypes.yml file). Of course, the name for the content type is Journal Entries. I would want this to be displayed in the <title> tag.\nEx: <title>Journal Entries - My Site - My Payoff</title>\nAt the moment, I'm having to do this:\nIn the listing template: {% include 'partials/header.twig' with {'aspect': 'Journal Entries'} %}\nAnd then in the header.twig file:\n<title>{% spaceless %}\n    {% if record.title is defined %}{{ record.title|striptags }} - {% endif %}\n    {% if aspect is defined %}{{ aspect|striptags }} &bull; {% endif %}\n    {{ app.config.get('general/sitename') }}\n    {% if record.title is not defined and app.config.get('general/payoff') %} - {{ app.config.get('general/payoff') }}{% endif %}\n{% endspaceless %}</title>\nSure, it works, and I may land up sticking with it. But, I think it should be handled automatically. (Okay, in this specific case, I will be trimming it down to just \"Journal\", but it isn't like that for all my content-types.)\n. True, indeed. Didn't see that. Thanks.\n. Not to worry - I have stumbled upon the solution, on page I never even knew existed: http://snippets.bolt.cm/s/cg1z8kha\n. Okay, but now, if Bolt uses taxonomy listing templates, why can I not get taxonomy slugs?\n. Darn, well, I found the link on Twitter. ;-)\nWell, I'm more interested in the topics side of things, to be honest. As for tags, that will be used for filtering from the side bar.\n. I'll use the extension for now - it looks decent enough. :)\n. Wait, I'm really being silly here. That only applies to tags. What can I do for other taxonomies?\nI have two primary content-types that use them: journal_entries and press_releases. For each of those types, I'd like to display the topics in the sidebar.\n. Can I make slugs live from within the template? I see that makeSlug is not available to Twig. Any other way I can do that?\n. Okay, to clarify:\nMy topics taxonomy definition looks like this:\ntopics:\n    name: Topics\n    slug: topics\n    singular_name: Topic\n    singular_slug: topic\n    behaves_like: categories\n    multiple: true\n    options: [ \"Donation\", \"Consignments\", \"Events\", \"Food\", \"Clothing\", \"Uniforms\", \"Education\", \"Learning Materials\", \"Charities\", \"News\", \"Press Releases\" ]\nI need those to be displayed in the sidebar, as links. Right now, it comes out like this:\n<ul class=\"navigation\">\n    <li><a href=\"/topics/Donation\">Donation</a></li>\n    <li><a href=\"/topics/Consignments\">Consignments</a></li>\n    <li><a href=\"/topics/Events\">Events</a></li>\n    <li><a href=\"/topics/Food\">Food</a></li>\n    <li><a href=\"/topics/Clothing\">Clothing</a></li>\n    <li><a href=\"/topics/Uniforms\">Uniforms</a></li>\n    <li><a href=\"/topics/Education\">Education</a></li>\n    <li><a href=\"/topics/Learning Materials\">Learning Materials</a></li>\n    <li><a href=\"/topics/Charities\">Charities</a></li>\n    <li><a href=\"/topics/News\">News</a></li>\n    <li><a href=\"/topics/Press Releases\">Press Releases</a></li>\n</ul>\nNotice the href tags? Those need to be slugged. I'm using this snippet right now:\n{% for topic in app.config.get('taxonomy/topics/options') -%}\n    <li><a href=\"/topics/{{ topic }}\">{{ topic }}</a></li>\n{% endfor %}\n. Cool! Thanks a ton! It's actually quite helpful :) Will patch my install shortly.\n. I'm going to close this now, as it solves the problem in the short run. However, I really do think that we need to look at the option of changin how this all works for, say, 1.4.\nFirst, I'm thinking that taxonomies should be stored in the database with their applicable slugs for overview pages. As usual, they should be created automatically when one does a database check.\nThen, on taxonomy and content-type listing pages, they should be available to the view in that format. More specifically, however, I think that each content-type listing template should be able to call up the taxonomies associated with it, the same way you would for a record. For example, let's say I have press releases and blog posts. I wouldn't want to show the press release categories in the blog.\nWhich brings me to this: I think that it would be nice if we could pull up all used taxonomies (specifically categories here) for a particular content type. So, if I request the /blog content-type listing page, I'd like to be able to show, in the sidebar for example, the categories and chapters that have been used in the content-type.\nLastly, I think that we should have overview templates for taxonomies specific to a particular content-type. For example, If I wanted to see all the blog posts tagged with the awesome tag, I would request /blog/tags/awesome\nWhat do you think?\n. I think it's quite a good idea. I also like the fact that it keeps <p> tags together in the markup. Seems to be much more standards-driven. I vote yay.\n. And what about chapters/the-main-chapter? v1.3 introduced the slug Twig filter so that you can create slugs for taxonomies (and other things) on the fly.\n. Okay, I did a database check/update, and now I get this:\nVariable \"filtered\" does not exist in \"_sub_lastmodified.twig\" at line 4\n. I have changed {% if filtered %} to {% if filtered is defined %}. It seems to work now, but I hope it doesn't break anything else...\n. (Note: strict_variables was set to true...)\n. Cool :) Looks like everything else is working great!\n. True that. I might write an extension for it, for those who need it (including myself).\n. Then I shall close this, until the day comes when people need it. ;)\n. Haha! It's actually quite an interesting debate - If nobody uses it, why does WordPress have it?\n. Anyways, because the client wants it on the website, I have simply decided to create a taxonomy for it, and create a special route. So, I can now see all journal entries posted in 2012 by visiting /journal/by-year/2012. I also have a similar routing setup for tags and topics. Looks quite nice. :)\n. Ah, I see. That looks about right. I forget that this runs on Silex sometimes. I shall give that a try tomorrow. :) And thanks for the fixes.\n. Okay, sorry this took so long. Me's been busy.\nThe site I'm building uses this URI structure for journal topics: /journal/by-topic/<topic>\nUnfortunately, after updating to 1.3.1, visiting /journal/by-topic/publications, for example, goes whoopsy, saying that no content is found for topics/publications. It seems now that it won't accept anything. It can't be anything to do with the routing, as it is specifically talking about a content-fetch problem. Any ideas?\n\nSymfony \\ Component \\ HttpKernel \\ Exception \\ HttpException\nContent for 'topics/publications' not found.\n. journal technically is the plural version of it, so to speak. journal-entry is the singular. Here are my config entries:\nRouting - (note: I did not use the one mentioned above - in my case, it's only the one content type that needs it.)\nyml\ntaxonomylink:\n  path:               /journal/{taxonomytype}/{slug}\n  defaults:           { _controller: 'Bolt\\Controllers\\Frontend::taxonomy' }\n  requirements:\n    taxonomytype:     'Bolt\\Controllers\\Routing::getAnyTaxonomyTypeRequirement'\nJournal Content Type\nyml\njournal:\n    name: Journal Entries\n    slug: journal\n    singular_name: Journal Entry\n    singular_slug: journal-entry\nTopics Taxonomy\nyml\ntopics:\n    name: Topics\n    slug: topics\n    singular_name: Topic\n    singular_slug: by-topic\n    behaves_like: categories\n    multiple: true\n    listing_template: topic.twig\n    options:\n        - \"Around the web\"\n        - \"Day Trips & Excursions\"\n        - \"Donations & Consignments\"\n        - \"Events\"\n        - \"Fundraising Events\"\n        - \"Health & Welfare\"\n        - \"Publications\"\n        - \"Standard School Compliance\"\n        - \"Sustainable Education\"\n. Hi Bob - have you had a chance yet to look into this?\n. Doesn't getAnyTaxonomyTypeRequirement not care for singular or plural?\nIt's on my laptop (not near me right now), but I think it's just below the normal taxonomy declaration... I'll have to get back to you on that.\n. Have just tried /joutnal/topics/publications, and it didn't work.\nHere is my entire content-type definition:\nyml\njournal:\n    name: Journal Entries\n    slug: journal\n    singular_name: Journal Entry\n    singular_slug: journal-entry\n    fields:\n        title:\n            label: Entry Title\n            type: text\n            class: large\n            required: true\n        slug:\n            label: Permalink\n            type: slug\n            uses: title\n        featureimage:\n            label: Feature Image\n            type: image\n        intro:\n            type: textarea\n            height: 85px\n            required: true\n        body:\n            label: Entry Content\n            type: html\n            height: 800px\n            required: true\n        photographs:\n            label: Photo Gallery\n            type: imagelist\n    relations:\n        funds:\n            multiple: false\n            order: name\n            label: Fund related to this entry\n        events:\n            multiple: false\n            order: name\n            label: Event related to this entry\n        beneficiaries:\n            multiple: false\n            order: name\n            label: Beneficiary related to this entry\n    taxonomy: [ topics, tags, years ]\n    record_template: journal-entry.twig\n    listing_template: journal-entries.twig\n    listing_records: 10\n    sort: datepublish DESC\n    recordsperpage: 10\n. Unfortunately, it isn't. Yet. It's currently on my local dev-server. I'll try and upload it later for you, and give you a temp address. :)\n. Sorry this has taken so long. You can access the dev mirror here: http://aaakee2014.cwp.foundrybusiness.co.za/\nClicking on 'news' will take you to the journal. Then, the topics are listed on the right, as well as within each entry. I have tried using the proper slugs.\nhttp://aaakee2014.cwp.foundrybusiness.co.za/journal/by-topic/Sustainable%20Education\nand\nhttp://aaakee2014.cwp.foundrybusiness.co.za/journal/by-topic/sustainable-education\nboth return an error.\nI have also put the site in open debug mode for you.\n. @bobdenotter - Have you had a chance to have a look at this yet?\n. I have also just upgraded my local install to 1.4.4. I hope I'm just missing something small here...\n. Okay, not to worry - I now see that the DB has two columns. One for name, and one for slug. So, I'm manually updating it to reflect what I already have, and it all works fine now. :)\n. The only problem is that I can now access a topic either by it's slug, or by it's name (URL). In addition, the canonical URL is exactly the same as my request.\njournal/by-topic/fundraising-events and journal/by-topic/Fundraising Events both show the results, and journal/by-topic/Fundraising Events sets the canonical like so: <link rel=\"canonical\" href=\"[local-domain]/journal/by-topic/Fundraising%20Events\">.\n. It's above\nThat version is behind - template hadn't been made for journal-entry. My local install has it.\n. Just so that you know, I have removed topics for now. I'm on a tight deadline, and there a few small things that need to be ironed out. One of them is the fact that I cannot access the current taxonomy name on the listing template (topics.twig) - I can only access slug. So, where the topic is 'Fundraising Events', I can only get the template to show \"Showing journal entries for 'fundraising-events'\".\n. Are you manually calling makeSlug in the template?\nI can't reproduce it on my side as I've completely removed it - I'm only using tags now. If it works on your end, then that's great - I might give it a go later on.\n. Perhaps an option in config.yml to choose what you want?\n. Well, okay. I just found it to be a tad irritating because it is inconsistent with the Overview pages. The titles should then say \"Recently edited Blog Posts\", for example.\n. Cool :):)\n. It looks quite nice indeed. Are there any downfalls to using it?\n. I've actually been quite interested in finding out exactly why BS3 is mobile first. Surely one should look at the big-picture first, and then scale down? I don't full understand why it's now the other way around. See, BS3's feature load caters more for the desktop anyway. Think about column swapping (pushing, pulling). You would hardly need it on mobile. Many of the JS modules work better (and look better) on a desktop.\nSure, tablets are more like desktops due to their screen size, but hardly any of it is for mobile [first].\nI do think that Bolt should use BS3 - I think it's a great idea. I've been looking at Foundation 4, which I'm now starting to doubt. As said before, it's more for front-end design. It also has a few quirks that I don't like. BS3 FTW!\n. @bobdenotter Foundation 5 actually looks pretty cool. After consideration, I think it might just be better than BS3 for Bolt's backend. I'm quite liking Interchange. Off-canvas is pretty damn-well built. Etcetera...\nNonetheless, @braaam is quite right. I think we should whip together some demo pages using different frameworks, and see which one will work best for Bolt's needs.\n. @braaam - I must agree with you there on the off-canvas things.I'm sure it can be used on desktop mode as well (no, I haven't yet fiddled with it). That could work quite well because Bob once mentioned to me that he wants the backend to be as clutter free as possible, so that the editing experience is a good one. We could put certain things that are not often used into an off-canvas 'menu' for easy accessibility. I think it is something that can be put up for discussion as the design process has begun. With F5, I can actually see some amazing things happening with Bolt's backend.\nHowever, decisions with regards to a framework aside, I'd like to mention a little something here. Whilst the current backend is quite functional, I feel that, overall, it could do with a major visual boost. When I say visual, I'm specifically referring to the smaller things that make admin panels look aesthetically pleasing. Clear, light lines. Light fonts and dark fonts in the necessary places (think labels vs input and headings). Light colors. Solid, structured, and unique design. With all these things (and more; I'm not a professional) Bolt's backend could be the maker of the CMS.\nSee, I've never been fully satisfied with all the admin panels out there - In use or not (Themeforest). If we look at the WordPress admin panel, we see that, whilst functional and friendly (to a degree), it is really bloated. I'm sure that it will change over time, as everything in this world does. But that admin panel is one of the reasons I cannot use WordPress. ExpressionEngine did a reasonably good job. However, it's quite a cluttered interface. I'm not going to mention everything here, but I feel my point should be shared. Bolt has the opportunity to create an excellent UX experience by incorporating the best design/development principals and practices, whilst being unique at the same time.\n(Just out of interest, I found Bolt in an attempt to look for a multi-content-type CMS that doesn't get in my way. Bolt came up on the first page of my results, and I immediately fell in love with it. I'm a designer and a developer, and I feel that the tools Bob has brought into the project are the best for it. It's for that reason, and that reason alone, that I see so much opportunity. So, when this backend - I prefer 'Admin Environment', for some reason - is designed, it needs to be done well. And I'm sure it will. I think we should discuss this in this thread. In fact, I think that that was Bob's intention for the thread in the first place. Yes?)\n. @helgvor-stoll I must agree with @CoolGoose. Those particular UIs are a) old-fashioned, and b) they do not conform to new development methods.\nSo, those are a no go for me. Bootstrap looks like the best option. As it is, a concept is being built at the moment on Bootstrap. https://github.com/bolt/bolt-backend\n. Indeed. However, why would you need to copy the file path?\n. Also seems like a good idea - nothing wrong with that. :+1:\n. Step one: Create the first user. When you are on bolt/users/edit, you will need to provide the information required to create this user. Bolt cannot operate without this user.\nStep two: Once your user is created, you can then edit your content types. Pages, Entries and Kitchensinks are the defaults. You can remove them if you wish, and create new ones of your choosing. Follow the documentation at http://docs.bolt.cm/content\n(There is no point in making responses to your question detailed, as they really are simple.)\n. @losttheplot : I also had that same thought.... Lets see what @cjuhong posts.\n. Thank you for posting that. Please could you also post the contents of your .htaccess file, as well as a screenshot of your bolt directory structure? I think that that is where your problem lies.\n. Perhaps your version of Apache does not support rewriting? Or, it is simply not turned on. To test whether or not your server has proper access to Bolt, navigate to //test.bolt.com/index.php/bolt/users/edit/. It may show you the page, or try and redirect you back to //test.bolt.com/bolt/users/edit/ (Bolt does that as it wants to enforce pretty URIs).\nPerhaps you could try this in your <Directory /> config:\nAllowOverride All\n        Order Allow,Deny\n        Allow from all\n        Require all granted\nAlthough, if that were the problem, it wouldn't be throwing a 404. Nonetheless, it's worth a try. Unless I'm missing something, everything looks okay on your server.\n. Hmm, this is interesting. In my honest opinion, those checks should be performed internally. I wouldn't bother with an external download as most people check the requirements before downloading (I hope).\nNonetheless, I would also create a separate checker for those who prefer that option. Such a script would be simple. If everything is okay, the script would simply return a styled message that says, \"We're all good here. Bolt will run flawlessly on your server. [Download it now]\". If there is an error, however, it should list it in a simple table.\n. It looks like the entire server is down. Not just the bolt.cm site.\n. Nawty server. ;-)\n. Oh I see - didn't realise that.\n. @CoolGoose I'm beginning to think that it was designed this way. Symfony would want their logo stamped on it. However, what I think would better is this: the option to change the logo, and have \"Powered by Symfony\" when a panel is expanded. Or, a light grey Symfony logo at the top right, or something like that.\n. I was thinking about this yesterday as well, as the site I'm building is content-type-heavy. In your case, are you not using separate templates for each content-type? If you are, you may as well hard-code it as your template's name is hard-coded, ex: posts.twig.\n. Adding the following to app/src/Bolt/Controllers/Frontend.php @ listing() [after line 225] does the trick:\nphp\n$app['twig']->addGlobal('contenttype', $contenttype['name']);\nI'll submit a pull request to see if it's worthwhile.\n. I see what you mean. No way to make it 'reserved'? Or perhaps just change it to contenttype_name?\n. Oooh, okay. I just don't see how it can change once it's already been passed to the template. Am I missing something there?\n. I'm just confused because of your first comment:\n\nThis looks good, but maybe it should take into account that the 'contenttype' can change, after you've used {% setcontent %}.\n\nSo, how would the global contenttype change after setting content within a template? Or is that not what you're getting at?\n. I know this is up for discussion at Boltcamp, but do you think there's any side-fix that I could use, just for now?\n. Well, there's always a workaround - not going to make this a problem. Closing for now.\n. The routing code can be added to the initialisation part of the extension - see the other built-in extensions that use $app->match(...).\nAs an example, the Sitemap extension does this:\n``` php\n    /*\n     * Initialize Sitemap. Called during bootstrap phase.\n     /\n    function initialize()\n    {\n        // Set up the routes for the sitemap.\n        $this->app->match(\"/sitemap\", array($this, 'sitemap'));\n        $this->app->match(\"/sitemap.xml\", array($this, 'sitemapXml'));\n    ...\n\n}\n\n```\nAs you can see, the declaration specifies that when the route is matched, the function within the extension.php file (using $this) should be called.\nI have never tried to do it with external files, but I'm sure you can. For example, you could create a namespaced controller in your extension's folder, make sure it's auto-loaded, and then match it up.\n. > It will be easier to upload the logo with the stack system\nThe stack system is simply used to refer to previously uploaded images...\n. > Well, you can use the stack to upload images. \nAlso true - my bad.\n. I've already brought this up - see #610. Specifically, this looks quite nice: Comment #25370613\n. I'd never thought of this myself. I've always considered tags to be more like the tags you find on Stackoverflow, which are lower case, and separated by dashes. But I can see why one would want them in a site/blog.\nI see that the documentation does not specify what kind of tags are recommended for Bolt either. However it makes reference to Delicious, which uses lower case tags.\nThis should go up for discussion as no specific rules have been defined. One thing that may be mentioned is that tags do not allow spaces as a) it makes them easier to slug, and b) it makes them less like categories.\n. > Spaces would make them harder to slug, but would a 'space to dash' conversion for the slug make sense? \nDidn't say it was harder, just said it was easier. It's just one of those things that separates tags from categories.\n\nMy current 'problem' is I want my client to be able to add tags/categories 'on the fly' to a taxonomy when creating content. So I kind of need a category type taxonomy which allows for easy adding items/options to it through the interface when creating/editing a piece of content (like using tags) and I am currently (probably) misusing the tags taxonomy type for that.\n\nI think a better option here would then be to allow the users to add new categories on the fly from the content-type editor. However, it would be difficult as these are not stored in the database at first. One day it may become a feature, depending on how many developers would prefer it.\nHaving said that, I do agree with you. Tags should be quite flexible and much more natural to a user who is not familiar with the current specific setup.\nLet's see what @bobdenotter thinks about this.\n. Side note: Just to double check, it seems to be ignoring the entire content-type. I added another field, as well as a label to funds, but no change.\n. Please see #841 - I don't remember closing it though - perhaps I pressed the wrong button. Whoops!\nEdit: It was assigned to Boltcamp, which means a fix must be on it's way... I hope...\n. It's cool - my mistake.\n(Side note: @bobdenotter I have two issues open in bolt-redirector - did send emails to let you know that I'd like your opinion, if you don't mind...)\n. Ah, okay. No problem. Just had a suspicion that you didn't get it.\n. Hi :)\n(3) Indeed - that is also true. :)\n. You mean, like this: http://snippets.bolt.cm/s/cg1z8kha\n. True, I see what you mean.\n. That's actually quite right. Just tested it.\nIf you create a new record, and hit \"Save \" (even after setting it to \"Published\"), it'll publish to the database, and the front-end will see it.\nIf you hit \"Save & return to overview\", however, the standard validation is performed.\nThanks @odlex for pointing this out. :+1: \n. To add to that, a generic slug is created for it, for example: /journal/slug-68aahq\n. Thought so... I have disabled it, since it doesn't do much with my app.\n. I did try it with mine. But, for some reason, it reloaded the page when it got to doing so...\n. It's the usual text/html.\n. @benjaminbasa - Okay, Bolt 1.1 does not support custom routing - so you'll need to upgrade if you want to use it. In addition, roles and permissions were introduced in version 1.4.\nUpgrading is easy, and I doubt it will break anything on your site. The update is highly recommended, as there are also plenty of security fixes involved. It is definitely worth it.\n. I posted #673.\n@bobdenotter posted:\n\nI wonder if this feature is actually needed.. I know a lot of sites have this, but nobody ever uses this. No visitor thinks \"I read this aricle in may last year, let's find it again\". If people want to find something again, they either use the 'previous page' option, or they search for it. \n. Mmm. Interesting.\n\nI wonder if there is a suitable library that can take snapshots of these file-types? Albeit, if one does exist, I can only imagine that it would take a while to process. If that is the case, then I don't think it would be an option.\nIn my opinion, however, I really think that the stack should be for images only... Perhaps renaming it to \"Image Stack\"?\n. I agree - if it can be done, then it should be.\n. Please also see #610\n. This feature has been requested often, but is not scheduled as yet, per this roadmap article.\nAs the article says, this feature will be implemented at some point - it has not been scrapped.\n. I also wish it was available now. It's just one of those things that takes time to think out and prepare. Rush-jobs for the sake of introducing the functionality just don't work.\nA while ago, it looked like something that could be done for 2.0, but each part of developing such a structure and keeping the current process-flow needs careful consideration.\nAs mentioned on the roadmap, you can contact @bobdenotter if you need the feature urgently.\n. You're welcome.\n. +1 for Magnific Popup :+1: \n. I've already brought this up: #569 \n\nI've looked into this for a short while, and as far as I can tell, there's no way to set the height of individual CKeditor instances. In bolt.js, we can set the height for all of them, or set them to 'autogrow', but we can't set the size for a specific editor field.\n\n...\n\nCKeditor still doesn't support this.\n\n...\n\nClosing this issue as part of our \"spring cleaning\", because there hasn't been any activity on this for a while now. If you feel this issue is still relevant, feel free to open it again.\n. > IMHO there's no legitimate reason why one should be able to modify the login screen. (unless, of course, you're trying to hide the fact that it's Bolt that's powering your site/app)\n\nIn my honest, and humble, opinion, I think this is false. I'm the kind of developer who would create a custom login screen with the customer's logo and branding, possibly my own as well, and the Powered by Bolt signature. It would by a custom style, and would primarily match the customer's branding. Bolt is also unique in that it shows a quote underneath the box - I would be inclined to leave that there too.\n. Highly requested, but not scheduled yet: http://docs.bolt.cm/roadmap#not-scheduled\n. Right, so all I need to do with Redirector is implement the Composer autoloader thingy? Sorry, haven't been following all the threads about the new Marketplace.\n. Thanks guys - I did see that :) Will convert Redirector over the weekend.\n. Right, I hope I've done the right thing here... Please check foundry-code/bolt-redirector to see if I've done the right thing... :smiley:\nEdit: Do I need to move the contents of Redirector to the root, and get rid of the rest?\n. @GawainLynch Cool, thanks. Shall commit shortly. Then I assume its safe to submit to the Marketplace?\n. No worries there - just for testing :+1: \n. Done!\n. Right, shall remove.\n. Extensions site is just showing Array ( [] => Array ( [dev-master] => ) ) :open_mouth: \n. Ah, right! Didn't even check. Thanks @GawainLynch :+1: \n. Site is now throwing this fault:\n\nNo valid composer.json was found in any branch or tag of https://github.com/foundry-code/bolt-redirector, could not load a package from it.\n\nHere's my composer.json file.\nI'm not very familiar with the inner working of these files, because I've never really used them before, so there's a good chance that something's wrong with it.\n. Thanks @rossriley. :+1: \n. Redirector seems done to me. Works on my local install, and the marketplace is also happy (albeit a silly little hack).\n. Shall do so shortly :smiley: \n. And done :+1: \n. @bobdenotter  - Agreed, a page like that would be quite valuable, because people are always looking for answers. :+1:\nAny plans for an integrated forum on the site?\n. Sound interesting - would love to see it in the dev stages...\n. Thanks, got it! :+1: \n. Great! :+1: Perhaps a link on the right column to the new page?\n~~:pencil: - \"It\u2019s like Pastebin, only powerer by Bolt\"~~\n. On the home page, third column.\nEdit: Though, I'm sure there are plans for a new site, yes?\n. Lovely! Was going to suggest this a few days ago, but got pre-occupied. :+1: :smile: \n. @bobdenotter - Look what I've started. Hehe! :wink: Then again, if I didn't, somebody would have...\nAs for this post, in particular, it could be worded more like a feature request to make it fit in, if you know what I mean. In this format, it would be better suited to SO. Then, somebody could add in a comment there: \"This isn't possible with Bolt right now. Please submit a feature request on the GitHub Issue Tracker [here].\" (or something like that).\n. @diggersworld - Well, as it is here already, @bobdenotter can just ~~tag~~ label it as one, and we'll discuss it further. :smiley: \n. Must be honest - I prefer the one suggested by Adrian. More structurally sound to me. Also prefer to name the class, not the namespace.\n. Well, the class is currently called Extension, where it would be better to give it a proper name, so long as it is namespaced.\nIn my case ...\\Extension\\Redirector is better than ...\\Redirector\\Extension. Wouldn't you agree?\n. Great, will patch mine up shortly :+1: \n. Please check foundry-code/bolt-redirector to see that I've done the right thing... (Silly me making sure... hehe)\n. Yeah, I think this deserves a :+1: from me. The white square seem to stare at my peripheral vision when editing content - but that's just me. I would also remove the icons from the section headings, but I'd also keep the text alignment as is - i.e. don't move the heading to the left, where the icon was.\n. IE8? What's that? :stuck_out_tongue_winking_eye:\n. > A browser that some clients still are forced to use, unfortunately.\nIndeed. Sad world... Funny how quickly time flies by. So many people are beginning to treat IE8 as they did IE6. :wink: \n. :+1: \n. I'm going to +1 this - I've always preferred to serve my fonts locally. I know it's safe, and I know it's efficient.\n. Plus, how often do you really need to add/edit content types? Most developers are using Bolt to build a site. Such a build only happens once. So YML can't be such a headache.\nAs far as I'm concerned, it is the perfect balance for developers and designers.\n. You actually don't need to look into the docs for that... This is what Kitchensinks are for. Everything is in one place. Not hard to learn from that, right?\nI do get you, though - but I truly believe that it isn't such a hassle for most developers.\n. :laughing: :+1: :beers: Happy New Year everyone! :smiley: \n. ",
    "lexislav": "Yes Please. Give it a try here :-)\nI'am looking for some solution for multilang sites with bolt as well. Hopefully there will be an extension soon, but since\u2026 I'm interested in every method :-) thanks\n. Bolt's Best practices documentation sounds great :-)\nAnd \"Yes\" for multilingual extension as well :-)\n. Works for me too, thanks.\nIs there any soultions how to localize content slug?\n. I have one more question about this:\nI have site in three languages cs/en/it, main-configuration set to cs_CZ.\nI use some strings in my theme this way: {{ __('czech string') }}\nI have translations in messages.en.yml, but they work correctly only when site is switched trought mainconfiguration to en_GB.\nWhen the locale is set trought path from the tutorial above, the bolt doesn look into messages.en.yml for translation :-( It seems to check just contenttypes.en.yml, not into messages.en.yml.\nAny idea how to make botl look to messages.en.yml too?\nThanks\n. well, I would like to start some activity about this as svg upload is not working (Bolt 2 dev yesterday build). Even if svg upload allowed in config. See the error bellow.\nIs that related to the parser mentioned above? When the same file is attached trought html directily, it works just fine\u2026\n\nThanks for letting know if there is a hope for svg file uploads :-)\n. understood, thx\n. Is there a solution to skip empty categories in that snippet? (categories with no entries in it)\nOr is neccesery to add {% setcontent categorycount = 'entries' where { categories: 'category' } %} and than verify if categorycount is 0?\n. Thanks for info, it is working\u2026 somehow.\nClosing issue, I have a bit of tweaking to do :-)\n. I am afraid that this issue continues on Bolt 2 dev:\nPop up window appears. It is not possible go trought folders, selecting files does exactly nothing. No error on js console.\n. Hi,\nI have reinstalled bolt and both issues are gone.\nEven the path to admin.\nClosing issue, thanks.\n. Hmm, and You are correct, that solved the problem. Thanks &\u00a0sorry\n. Yes, thanks \u2013 I need to work on my twigging  :-(\n. Yes they are! thanks :-)\n. \u2026and solved thanks to Stackoverflow by setting composer\n    \"league/flysystem\": \"0.5.3\"\n. Just updated to the latest beta, thanks for Your work.\nIn backend, some translations seems not working as well. I have no idea if that is related to big moving\u2026\nBut for example instead of button \"Select from server\" I see this :\n\n. OK, got it. Thanks.\nI was confused about this.\nIn previous versions the label for this specific label to translate was \"Select from server\" and we have translated it. Even in Bolt 2 dev.\nToday label to translate \"field.general.select-from-server\" is a bit suprising :-) But I see the new structure in messages.en, so again, got it, thanks :-)\n. @rarila it's czech translation.\nwell\u2026 I was working on cs translation before this change, so\u2026  I need to change it manually, I guess\n. Not sure this is related, but some messages are not in messages.XX.yml, so far:\nPlease log on.\nYou've been logged on successfully.\n. Hmm, interesting. May be browser related? Right now using firefox. I will try another one :-)\nHowever, I am using latest built. On daily basis\u2026\n. In place saves, You mean with Editable extension? Nope. I haven't tried that one yet.\nAnd I have tried Chrome and the bug seems to be quite consistent thought different browsers :-/\n. Unfortunately yes, it's still an issues and easy to reproduce, for me :-/\nI gave it try and it seems to be related to language setting, in my case cs_CZ.\nthese are steps, how I can reproduce that issue:\n1) install fresh bolt via git (option 3 in docs), create first user (in english), login\n2) publish new \"Showcase\" content type (in English), set both fields, Datetime and Date to May, 1st, 2014\n3) save, go to overview and reopen just edited showcase\u2026 and You are right, it works in english  As You can see, the date in the filed match the date on calendar.\nThis correct behavior is on first two screenshots.\n\n\nhere comes the bug (second two screenshots)\n4) switch to cs_CZ lang (tested also in fr_FR)\n5) reopen saved showcase content and here it is: in the date (and datetime) field, I see the setting in english: thursday, 01 May 2014. But, In calendar I see todays date \u2013 \u0159\u00edjen (october), 27 (2014). When saved, it is saved with date showed on calendar. So date set by user is replaced with actual date.\n6) when opened again, set calendar to may 1st, it will be saved with may 1st date, but reopening will reset date and datetime fields to todays date again.\n\n\nI have tested the bug in French version and it is a issue for french too. So probably for all languages except english.\nRelated behavior could be, that when date is set during session in czech, I see czech version of the date in the date field. When reopened, it is in english. Screenshot 5, datetime field has just being set\u2026\n\n. Huray. That was kind an urgent for me too. Thanks!\n. #1930 seems to be fixed. However, every problematic field.xxxx message has been translated by new mapping, so I haven't had a chance to try those beasts. Thanks!\n. Those \\\" where already in the file when opened. So I left them inside, as I thought that is an intention. I will fix it later.\n. done \u2013 unused messages deleted\n. Yes, merge it first, please, I will delete them later.\n. Yes, You are correct. That fixed the issue. Thanks.\n. Thanks all for advices and support for Czech translations :-)\n. The pagenav feature seems to be really bugy:\nIf filtered by setcontent (to except some category for example), it shows wrong results.\nIn my case, there is 520 projects, by 20 records per page that is 26 pages. When one category is excluded, pagination still shows 26 pages (last two are empty) for 480 records after exluding the category by setcontet.\nI know there is more issues about pagenav, maybe describing the same issue from different perspective\u2026 not sure about that.\n. ",
    "revskill10": "Does Bolt have its way to modify config.yml at runtime ?\n. ",
    "rixbeck": "Yes, in the backend (admin page) you can edit config.yml therefore you can also read and write it by programmatic. \n. Please don't mention Wordpress. I had a great lunch... :D\n. Karma for @GawainLynch\n. Hi @bobdenotter, do you plan refactoring some of the codebase and implementing unit tests at php side? I really like the project and asking just because it seems may be the only weakness it has the moment. In a case of any changes necessary in the core, contributor can hardly imagine now how his changes affects other parts of code. I know that it's so much work but I'm new in the project and can't see your vision about. If you think it would be necessary I would glad to be cooperating this. \n. I've been succesfully managed this. I made just my own index.php with defines in and everything runs fine while Bolt is dependency in my project config and finally takes place in vendor folder. Does it helps if I share my case with you?\n. Do I understand right, you're going to hold your extensions, resources, etc. separately from Bolt? I didn't care about too much so I'm using composer's post-install-cmd to relocate some necessary resources. I think extensions has right place under bolt at runtime while your customized controllers could be loaded from outside of vendor dir. Config dir location can be define in index.php. Do I miss something? \n. Tomorrow I can compare to my situation and I'll send more details. \n. I've been updated my Bolt to the latest master.\nThis is my index.php:\n``` php\n<?php\nuse core\\Common\\LightWork;\n// If you wish to put the folder with the Bolt configuration files in another location than /app/config/,\n// define it here as a constant. If you do not define it here, the default location is used.\ndefine('BOLT_PROJECT_ROOT_DIR', dirname(DIR));\ndefine('BOLT_COMPOSER_INSTALLED', true);\ndefine('BOLT_WEB_DIR', DIR);\ndefine('BOLT_CONFIG_DIR', BOLT_PROJECT_ROOT_DIR . '/brix/bolt/config');\ndefine('BOLT_CACHE_DIR', BOLT_PROJECT_ROOT_DIR . '/vendor/bolt/bolt/app/cache');\nif ('cli-server' === php_sapi_name()) {\n    $filename = DIR . preg_replace('#(\\?.*)$#', '', $_SERVER['REQUEST_URI']);\n// If it is a file, just return false.\nif (is_file($filename)) {\n    return false;\n} elseif (preg_match(\"~^/thumbs/(.*)$~\", $_SERVER['REQUEST_URI'])) {\n    // If it's not a prebuilt file, but it is a thumb that needs processing\n    require dirname(__DIR__) . '/vendor/bolt/bolt/app/classes/timthumb.php';\n    return true;\n}\n\n}\nrequire dirname(DIR) . \"/vendor/autoload.php\";\nrequire_once dirname(DIR) . \"/brix/core/Common/LightWork.php\";\n// bootstrap for host project\n$lightWork = new LightWork();\n$lightWork->init();\nrequire_once dirname(DIR) . '/vendor/bolt/bolt/app/bootstrap.php';\n$lightWork->installService($app);\n// Here we go!\n$app->run();\n```\nThis is part of my config from /brix/bolt/config/config.yml\n``` yml\n...\nThe theme to use. Be sure to copy the theme/base-2013 folder, and change the\nname here accordingly. Don't edit the templates in theme/base-2013, because\nthey will get updated in next releases\ntheme: base-2013\ntheme_path: /web/theme/\n...\n```\nMy project structure:\n/\n\u251c\u2500\u2500 brix\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 bolt\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 config\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 core\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Common\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Components\n...\n\u251c\u2500\u2500 tests\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 brix\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 core\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Common\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 Components\n...\n\u251c\u2500\u2500 vendor\n...\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 bolt\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 bolt\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 app\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 cache\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 classes\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 config\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 database\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 extensions\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 resources\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 src\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 tests\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 theme_defaults\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 view\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 files\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 tests\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 theme\n...\n\u2514\u2500\u2500 web\n \u00a0\u00a0 \u251c\u2500\u2500 bolt-public\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 classes\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 upload\n \u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 view\n...\n \u00a0\u00a0 \u251c\u2500\u2500 files\n \u00a0\u00a0 \u2514\u2500\u2500 theme\nBOLT_PROJECT_ROOT_DIR name is a bit misleading in this situation because it is refers to root folder of entire project. I'm using Bolt's HTTP routing and implemented my own controller for serving HTTP and Ajax requests. At this moment I have no issues found regarding this.\nupdate:\nAlthough I haven't used Nut yet but as I can see your patch seems to be correct. \nI'm going to check how does lib.php mods affects behavior.\n. Helder, I checked it with your lib.php patch and seems working as expected. \n. Bad news guys! I'm afraid we need a workaround for this Firefox issue: https://bugzilla.mozilla.org/show_bug.cgi?id=373621\nI hit this just now and it's seems serious problem.\n. Actually I have a content with a file type field in. First of all no matter what kind of acceptable file type I choose, Firefox will serve the mime-type of the file in file.type in https://github.com/bolt/bolt/blob/master/app/view/js/bolt.js#L382. Moreover it is text/html when pdf has selected.\n. If I could achieve that Firefox should provide file extension type, not content-type it should be fine.\n. Okay, I checked also in Chrome. type property is always a file mime-type that is really bad news because of Firefox bug mentioned before. I'm going to take as a new issue that needs a workaround on FF.\n. see issue: #1019 \n. Also: Error 'Template \"index.twig\" is not defined ().' in twig/lib/Twig/Loader/Chain.php:115 if template_path defined in config.yml\n. Of course it is necessary. Somehow it has been lost, sorry... corrected.\n. May be the snippets.bolt.cm using? I mean is it official placeholder of snippets or just under testing?\n. So may I post? :)\n. :+1: \n. I see now. With your clarification about differences I can already understand. Altough 'themepath' doesn't gets the right value at initialization phase when it is customized while template is relative. so tomorrow I'm going to modify accordingly your explanation.\n. Okay, changes has reverted and modified themepath in getPaths() to be containing to expecting actual theme path. Please check it. \nThanks\n. Hi, I think documentation related issues may better goes here: https://github.com/bolt/bolt-docs/issues as it has a github repository as well.\n. Hi Tolu,\nI think that focusing for Developers is very important first in earlier lifecycle of a sw product. Developers can do later all needs that you mentioned too. If base of the product is strong, flexible and comfortable enough it should be generating many fork that could contains special needs. Bolt is very close to this.\nOn February 28, 2014 11:42:02 PM CET, Tolu Sonaike notifications@github.com wrote:\n\nThanks for the response, just what i was looking for.\n\nWe make sure the first two of those groups will be able to set up bolt\nusing FTP, SSH, composer or whatevers. These groups have no trouble\nwhatsoever using yml. \n\nI guess we could consider Bolt Developer-centric then? Btw sorry for\nthe confusion, when i said \"Developer\" guard i was alluding to\n\"Developer first\" behavior.\nI guess in my mind the 3rd target audience , the editor, is what i am\nconsidering a casual user. I see myself setting up a Bolt site for a\nclient who wants a simple CMS but id hate to hardcode custom data like\nphone number, address, email,logo inside of the template because there\nisn't any way to do this from the backoffice. But i see this\nfunctionality has been added for yaml\nhttps://github.com/bolt/bolt/pull/856 and it could probably be added\nand edited through the menu.\nI am also against a bazillion wonky plugins, but at least some custom\noptions (e.g. for the editor) and the ability to provide these custom\noptions ( by the developer, for the editor ) is pretty important in any\nCMS, even if Bolt is sitting snuggly somewhere in between Wordpress and\nDrupal.\nSeriously though, awesome project here.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/954#issuecomment-36402234\n\n\nSent from my Android device with K-9 Mail. Please excuse my brevity.\n. I'm also working on my bolt integrated ajax based webapp and I'm gonna to take try to catch and place debugbar. I should let you know if any progress.\n. Hi Mike!\nJust a question. As I see debugbar is generating automatically when HTML content requested by the client. What is your accept header do you send via ajax requests?\n. Something differences should be in dependent Symfony versions...\n. Sorry Bob, it was my fault. Last time I've installed via composer and made a wrong modification from \"stable\" to \"dev\"... it pulled down a non-stable Symfony. Do I continue? Shame on me... :-)\nclosed is a right state of this issue ... :)\n. I made a line comment something confusing here: c1cb5bc\n. Diigo has similar functionality on any web page. Of course if \ncorresponding bookmarklet or toolbar installed in browser... Just saying \nfor collecting impressions about.\nOn 2014-03-13 14:37, Gawain Lynch wrote:\n\nNumerous sites have review of posts, it would be useful for editors to \nbe able to log comments about the pre-published record.\nIf you're happy for this to go in @bobdenotter \nhttps://github.com/bobdenotter then by all means assign to me.\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/bolt/bolt/issues/1000.\n. Please don't forget about lines 1362-1368\n. Win7/x64/Firefox 27.0.1\n\nNew Content (that has file field). Put JS breakpoint at L382. Click file button, select a pdf file, OK. At break inspect file object:\n{ \nlastModifiedDate: \"Date {Mon Jun 11 2012 22:29:22 GMT+0200}\",\nmozFullPath: \"D:\\install\\books\\High Quality PHP Frameworks.pdf\",\nname: \"High Quality PHP Frameworks.pdf\",\npath: \"\",\nsize:   51332135,\ntype: \"text/html\",\nconstructor: [object File],\nmozSlice:   mozSlice(),\nslice: slice(),\n...\n}\n. Doesn't accept it because input type accept just predefined types are testing against regexp.\n. NP bro! Also neither my native language English, Javascript, PHP, etc. :-)\nAnyway is important exploration to me how file.type contains no file extension but mime type. So regarding this must set contenttype type: file and extensions in contenttypes.yml\n. No I got this: Oops! There was an error uploading the file. Make sure that the file type is correct.... with acceptable extensions. Moreover it is no matter what I should change in config.yml accept_file_types. Only thing affects if I add extensions: [ \"doc\", \"pdf\", .... ] in corresponding content type definition.\nBut I think that is very important we have a browser - FF - that struggling with a century old bug that can't be reproducing but in some indeterminable circumstance. I think last two comments here are not joke as I have the same case. http://mzl.la/1l9Tl2M\n. Sorry about the mess. I'm surfing across a few IDE and Git clients and sometimes I lose control... :-). I'll clean it up soon...\n. Bob, I did a few git related mistake, made a few knots on branches but it finally contains just the FF related solution. :-)\nAnyway, don't we want to make timthumb.php a bit more psr-2 compliant? It is really tricked me just because I was tracking a while when I put thousands of tabs into. Finally I find out they were always in.\n. Agree!\n. Bob, I'm affraid I can't check it again in the same environment because since I've been migrated from Windows to Ubuntu. So everything has changed. But when I was experiencing I checked multiple times what is it and I'm sure it can be happen in some circumstances. Since I used to patch my production sites with this... anyway I'm going to check it soon, but I think I have little chance to catch.\n. That is I also mentioned here: https://github.com/bolt/bolt/commit/c1cb5bcdd704222f24bfd4212cbea543a11d188a\n. The problem is boys wants to pull out sensitive theme files (twigs) from public http access. But this way if we want contain them together with resources that must accessible by public (html resources) some url rewrite is necessary.\n. I love bolt because I have enough freedom to decide using require.js or server side templating or almost anything. This open minded approach let me integrating my whole web application into bolt without pain and that is because I didn't use Drupal, Joomla or other mainstream CMS at all. I'm not sure that I understand the problem exactly so if you guys can help me understand I'll be glad.\nJust because I'm currently using requirejs intensively in my webapp that served via twigs from bolt. I'd rather be suggesting let's write use case examples about preferred ways to apply approaches to do this or that.\n. Thanks for clarification! I vote for require.js and no for backward compatibility between major versions. I share your opinion about.\n. :+1:  for 3.0\n. Exciting! I'm pretty new in this kind of Git collaboration but I'm hungry for it... >:)\n. Any proposal, how could we start it? I was checking affected parts and trying to imagine how it can be solved. I've ideas and maybe I could introduce some draft about.\n. I found the answer so I'm going to make a PR for...\n. Resolved in #1039 \n. Because of haven't find the way like addJquery() to add Jquery UI that required by Raptor so rather I was embed into. But I think JQ is added by the extension's script. If I wrong then I need some beer. :)\nIf I understand right your example I'm passing not the current record but any Bolt\\Content type record to the twig function. Just because let use any record that may be selected by {% setcontent ... %}. ...should I misunderstand?\n. ...but you're right. record parameter could be optional for the twig function by this way you wrote...\n. Eh! It came from Raptor for sure... trying to find out what's missing...\n. Maybe try to find differences in my theme's script loading order:\n!edit1\n. I must tell I'm using an emasculated base-2013, so I'm going to making it just really plain one...\n. Browser?\n. As I see Chrome doesn't loads startup.js... checking why... strange...\n. Good to hear. It's very strange to me, how Chrome gets completely different Html than FF. (Theme contains just nothing for me but head, body and the editcontent(). I don't eat more mushroom... %)\n. Thanks Gawayn! (or Bob... LOL)\nThis way I'm gladly having my evening beers for your health... and mine...\nand happy for the bugs, because it's a good sign! :-)\n. Guys, I must going to workout... at evening I'll dig more under...\nthanks for everyone\n. Bob,\nduring the refactoring discovered something about this:\nphp\nif ($this->authorized) {\n   $this->addTwigFunction('editable', 'twigEditable');\n} \nelse {\n   $this->addTwigFunction('editable', 'twigEditableNonAuthorised');\n}\nBy something caching reasons it doesn't work because either session is \"authorized\" or not always the first cached twig function will be executed. \n. As I see CKEditor is also can be used for inline editing. Do I try to implement as a default alternative for Raptor in the extension?\n. No, it was just because of no authenticated testing in Chrome from me. It was end of the week enough... ;-)\nBut it's okay now in html5 browsers, but I confess, no tested in IE at all.\n. First I tried to assign different php methods under same twig function name as you suggested. As I experienced twig has written the compiled file and next time - no matter which php method was assigned - just processed the stored, cached script. I didn't dig deeper, sorry...\nRegarding the extension, default CKEditor based version is already in the updated PR. :-)\n. Thanks! :-)\n. You may use {{ editable('body') }}, record parameter is optional and it gets from app as you suggested. But you may pass any other record that fetched with {{ setcontent .... }} before, in template. \nTheoretically built-in version should just work... but doesn't... I don't know how it was built and maybe are missing plugins from. If a fresh one will grabbed from CKEditor site and updated into Bolt, it will work for sure and may wiped out from the extension. \nBest wishes and VB for the wife too. :-)\n. > I never got a reply from the guy about the blocking issue that prevents upgrading the internal editor.. Maybe it's about time to start looking into an alternative for that...\nEhh! What issue was that?\n. Deal :+1: \n. LOL\n. Bad news guys! It doesn't works as expected. It looks very similar than before.\nHow to check:\n- rename Editable/assets/ckeditor folder on server to Editable/assets/ckeditor.bkp\n- create folder Editable/assets/ckeditor\n- copy Editable/assets/ckeditor.bkp/startup.js to Editable/assets/ckeditor/\n- uncomment Editable/assets/src/Ckeditor.php line 18-23\nIt seems just something should be configured right, but I missed a few years from FCkeditor school... anybody else?\n. Stop! Everybody drink a coffee! I'd screwed up... my keyboard faster than my brain... soon back with a second report...\n. Unfortunately something missing from this CK build to be able to work inline. If I overwrite with bundled in extension (and give autosave and inlinesave plugins) it's okay.\n. No. I'm just comparing build-config.js 's at the moment. Bolt based on the basic package, extension has standard. \n. Fine! floatingspace is that... >:-/\nHere is the build config: http://bit.ly/PiLC4U\n. Updated!\n. Sad. Investigating...\n. CKEditor is a bitch! She has a nice face, and altogether looks good enough but has a dark and ugly soul that inherited from her nasty mother, FCKEditor. It seems I'll spend some time with her and won't enjoy this effort...\n. My girlfriend CK swallows exceptions... :-)\nWhat do you think now, Gawain?\n. :-D\nI think you'll have error too on save - if you can edit either - ... new bugs in Bolt\\Storage...\n. I'm gonna make a fresh merge to bolt/bolt maybe... moment...\n. Already merged so can't more... \n. Yes, it is. What about Firefox? As I see Chrome is also hates my girlfriend... \n. No I'm wrong. Chrome is also OK at my side... but now I must go home, because I have a wife... :-D\nLater check on Linux...\n. No... Win7 or Linux\n. :-D ... you can't win by Win\n. Could you try this please? http://btest.neologik.hu/entry/test-editable\nUser: test/boltest\n. :-D\n. Okay, I'm gonna prepare so.\n. Updated\n. The pleasure is mine! \n\n. Could you post the html source responded by the server please?\n. Somehow your fieldname is null...\n. What if is it {{ editable('intro') }} ?\n. Cool! :+1: \n. Hi, does Chrome try to load ckeditor.js? \n. config.yml must contain an entry editor: ckeditor. If it has and your user is logged in and authorized then extension.php takes care about insert corresponding script tag into the page html. Please check these conditions then whether the referred ckeditor.js is accessible.\n. How is your configuration and folder structure looks? Have you installed with composer or as has built in downloaded package?\n\nPS: What do we think of a simple plaintext version of this that saves basic text fields without the need for raptor or ckeditor?\n\nI'm not sure it is so simple. As I remember contenteditable implementation of html are quite different on browsers so something js code should be necessary anyway. But it's worth to see what's the situation around.\n. Hi Richard, \nI changed theme_path in config.yml to /../themes and it is fine for me. It is take out twigs from puplic web.\n. There was a long discuss about somewhere here and some views was clashing what would be more preferable. Because theme pack (html assets and templates) would be better keep together and it has been moved out from webroot at least something rewrite should be necessary. Otherwise twigs would remaining readable. As I read right it was a kind of middle way solution. You have the choice to pick them out or not finally.\n. Login protected pages on frontend do you mean?\n. Did you check Authenticate plugin? I haven't used yet but it may be for you.\n. Oops! Screwed up something with merge... correcting soon.\n. No problem with using bolt as dependency in composer.json. Me and others are using the same way. Some public folders should be moved from under vendor folder but is okay.\nAfter than you may implement your own index.php and a bootstrap for your routes and providers then the magic happens... :-)\n. Almost sure it is a melodrama of current build of CKEditor. I dont trust her. I try to check if will have a pc...\n. Im just wondering she drops an error message. Used to swallow them.\n. I was not clear I think. Expression \"melodrama\" tried to cover the behaviour of CK. I had a deep effort with her and didn't like what I saw. Debugging the source was a kind of near death experience... \n. I'm playing with but can't reproduce. I made a fresh instance and trying. It's the standard theme and no extra JSs though. \n. After debugging CK I can tell can't see other option than to revert a previous build of CK.\nThe problem is, CodeMirror plugin doesn't gets control after mode change to source mode therefore doesn't instantiated. (That's why Gawain got a null object error). Somehow it is collides with SourceEditor. Tomorrow I try to build an older one if no better idea.\n. Me too just now...\n. Yess! But therefore I made it to real external plugin, which is may not necessary.\n. Of course it happened after I was trying to make it working with version downgrades and builds... just a few hours... :-D\n. I made the PR here #1084 just for compare. I'm not sure about missing icons in the trunk. Bob, please close if already doesn't needed.\n. At my site it isn't good. I receive tons of errors in Firefox. Chrome says just one error like before. \nIn Iron browser (chrome fork) is the same.\nIcons are fine but no codemirror.\n. I'm not... double check...\n. Sorry Bob, you're right! The difference was because of I'm installing bolt as a vendor app and /view folder must be mirrored for me. I missed it...\nI'm closing the PR.\nThanks\n. A traditional way to achieve if we make a CK plugin for this.\nIt can be an external CK plugin that should be configured into CKEditor in bolt.js, or it can be embed in the CKEditor boundle.\n- If it is an external plugin, the original image plugin must be disabled and an extra http request will be generated when CKEditor loads it.\n- If we want to embed in, we should have ckeditor/ckeditor-dev github project and must be used for compile a CKEditor pack.\nThe plugin itself isn't a big challenge because original image plugin can be extended a button which should does the same as a Bolt image field.\n...I think\n. I suggest let's create an extension that contains custom Ckeditor extensions. So they could be used along with the core, later we can decide which is so essential should be embed on. Opinions?\n. :+1: thanks\n. > There must be something else going on here though. Passing \"\" as a default argument does work, and has been for quite a while, even in PHP versions long before 5.3. I wrote a little test to confirm that this is also true for this specific case (default argument in a constructor). I agree that PHP \"sux\", but it definitely doesn't suck in the way this particular \"fix\" suggests. \nTrue. I did also a test now under 5.3 and 5.4 and you're right. Moreover also regarding our knowledge about PHP it should be working... :)\nPlease let me know the results. Thanks.\n. Cool! :+1: \n. Thanks Tobias,\nI thought that I would make a try to describe what I plan to do just because It was some kind of request before here about such feature like this. And it's quite large task to doing it parallel with somebody else, if may somebody has similar plans. Although I had experiences portal systems and it's a little help me not to build just from the ground. So we have a good chance to have a drag and drop style layout builder in Bolt. I'd finished to build first version of db structure in bolt and templates that makes view in front so next GUI comes in backend now. If I have something I will show you regarding opinions. \n. I never used Drupal but it seems it is almost the same except terminology. Widgets are \"Portlets\", slots can be \"Areas\" but it doesn't really matter just making clear what we're talking about.\nAnyway I'm glad about you're all guys thinking about this subject. \n. It will goes in extension because can work along with correspondent themes. Soon how 2.0 is finalizing I'm return to finishing drag and drop part.\n. Like it. I would define tab boudaries with a html pattern in postfix or prefix field. :)\nOn April 14, 2014 6:49:15 PM CEST, Gawain Lynch notifications@github.com wrote:\n\n:+1: \nThis would win me points with my editors!\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/1115#issuecomment-40389613\n\n\nSent from my Android device with K-9 Mail. Please excuse my brevity.\n. @bobdenotter, just assing this one to me if @serweb-labs isn't against. I can do this now. (just for progress...)\n. @serweb-labs, you may also fork this: https://github.com/rixbeck/bolt/tree/tabbed-contentediting\nIt uses config like this but has still some problem with the defaults:\nentries:\n    name: Entries\n    singular_name: Entry\n    tabs:\n        basic:\n            title: Basic settings\n            fields: [ title, slug, image, teaser ]\n        details:\n            title: Detailed content\n            fields: [ video, body ]\n    fields:\n        title:\n            type: text\n            class: large\n        slug:\n            type: slug\n            uses: title\n        image:\n            type: image\n        teaser:\n            type: html\n            height: 150px\n        video:\n            type: video\n        body:\n            type: html\n            height: 300px\n    relations:\n        pages:\n          multiple: false\n          order: title\n          label: Select a page\n    taxonomy: [ categories, tags ]\n    record_template: entry.twig\n    listing_template: listing.twig\n    listing_records: 10\n    default_status: publish\n    sort: datepublish DESC\n    recordsperpage: 10\n. I'm out for this weekend but will check soon as I returned. Thanks @serweb-labs\n. > That does sound like a decent enough idea - I'm thinking it could be done similar to how we have config.yml and config_local.yml: two files, one of them provided by Bolt, the other by the local install, and the local one overrides the one from Bolt.\nIt would be fine. Something I was really loved in LifeRay for example - beside others I hate - that is a cool config overriding mechanism. It looked config at per user first then did a fallback to different levels, finally to base config. Something similar generic logic would be nice around all config.yml, I think.\n. I suppose you think of accessing config in template context. Well, if I'm correct there is no api method in Bolt that provides config file processing from twig. But I'm not sure it is necessary anyway. In global scope you may use config_local.yml for separation from system config. In theme and extension context there are also own configuration files.\n. Oh, sorry! I see now it is from script... As I remember Bolt loads config.yml as array and get() is a utility to help using that multidimensional array. What if you try dump() what is in? YML may trick you with indentation...\n. Yes...\n. :+1:  Necessity is mother of invention... :)\n. The pleasure is mine, Sir!\n. Easter is a good reason to say goodbye to my last Windows too. That was it... :-)\n. I'm not sure I understand this subject correctly so if I talk stupid just shut me up... :)\nI think it is about we want to delegate extension objects in a controlled way. I'm not a fan for creating foreign extensions directly because like Tobias said. \nWhat if extensions would be reorganized a bit like this...\n- extensions should be under ext namespace \n- an extension may delegate its services via registering a service provider\n- if we are strict, optionally BaseExtension's constructor denies instantiating an extension directly form another extension namespace? \n. With a fresh clone have no problem - of course with https. It comes when I try to make fetch or pull later for merge with other forks. Some docs says git tries to access submodules via git: protocol handler if nothig else defined in .gitmodules. I think you have no error anyway with git: proto as project owner. But this deepness of git is new to me as well.\n. No, I prefer to use technologies invented to support such thing like submodules. (DRY) I just feel noob still with git. As I remember it was a similar situation with Scrutinizer CI before. It was unable to access the theme until it has defined in .gitmodules with https. But it just an idea, I'm not sure...\n. Thanks Bob, with a completely new clone on the forks I can manage all the stuff. But anyway I'm curious about does the CI can test the project without problem?\n. I think It would be better to change theme/base-2014/.gitmodules content to \n[submodule \"modules/foundation\"]\npath = modules/foundation\nurl = https://github.com/zurb/foundation.git\nWithout the requested keys I don't think it can be pulled. Am I wrong?\n. Thank guys! I was confused about purpose of github's rsa keys. Since I was installing one I can reach repos with git@ user also. It is better now... :)  You know \"if everything fails RTFM\". :)\n. Yes, that was it. It is the same situation for Travis. He has no rsa key for user @git like I had no before. \n. I'm using an extension for extending DashBoard functions just for fun and testing what future useful functions can be recommended for bolt. It will be named as DashboardPlus and I'm going to publish if I will see drawbacks and advantages. In the extension.php initializes like this\nphp\n    protected function initTemplating()\n    {\n        $side = $this->app['config']->getWhichEnd();\n        if ($side == 'backend') {\n            $this->app['twig.loader.filesystem']->prependPath(__DIR__ . '/view/');\n        }\n    }\ntherefore twigs in the extension will be higher priority over the core templates. \n. I think backend templates has built for just doing his job. It hasn't intended for complex extendability mostly because of current state of the project life cycle. We may also thinking about this regarding overall client side module management (AMD) as well, which can be a very important step I think. It can dramatically simplifies currently applied HTML/JS dependency handling approaches in php.\n. Agreed with @rossriley.\nAnother example is \"Tabbed grouping of backend options\" at #1115. If I would developing this feature I wouldn't overwrite core templates but override them until they has been tested and approved. So it seems to me better if we have a non-public feature and a preferred way how to do this.\nBut while templates are tightly bound to the core so rules are valid like extending the core, strictly for one's own risk.\n. I think it can be right direction. Because I'm using with composer it is always a pain if something changes in part of the sources that manipulating paths. I suppose it's because some heritage is still in the code which is normal a project like this.\nAlthough I suggest if we decide to step quite big like this let us do in next major version release.\n. I was updating just now and it seems everything is slipped away... When bolt is a subproject in another composer project it won't work as before. I'm going to open a new issue about but trying to resolve... :(\n. The place where no IE called heaven.\n. Another vote for the simplest solution, with little or no magic. Just for resizing the requested image. There are many better option than php for this task otherwise. Webserver modules (http://bit.ly/1nYCrW5, http://bit.ly/1nYCx07), may combining caching proxy services (Cloudflare) and so on, as you like. But something minimal internal solution obviously needed that complies aspects of Bolt.\n. Another old thread but relates for this what if we are managing Bolt extensions too as @rossriley suggested. By this way they can exists in external git repo tags that corresponding to the right Bolt version. Moreover I can imagine a runtime extension manager - extension :) - that can pull extensions from Git repos via customized repository definition file. I\n. Aaand, the cold beer goes to @rossriley! ;-) thanks\n. IMHO may the best way to channel in pixlr.com into an extension.\n. :D \nSorry guys, I made a quick review and it was a false alert by me. I didn't remember that classes/ folder has been also relocated under BOLT_WEB_DIR when BOLT_COMPOSER_INSTALLED. So if they both (files/ and class/) is under BOLT_WEB_DIR it must be OK. \n. Oh! Guys, I must finishing the work on Bolt! I'm gonna read that book now! In native Nynorsk of course... :D \n. Resolved in #1575\n. Actually I'm investigating, but true, theme loading is the main problem. At the moment it seems it may comes from misconfigured BOLT_CONFIG_DIR maybe. Or it is another aspect of the issue, I don't know at the moment.\nAltogether I have problem with that too by this way, I can't override some paths in early stage of initialization. (config dir eg.) In index.php or a custom bootstrap.php I can't do this without extending ComposerResources class which I wouldn't like to do.\n. As I see we had a constant before BOLT_PROJECT_ROOT_DIR. That pointed to the root of the whole project, that is different than Bolt's root. It seems it has been eliminated without regarding this. \n. Thanks Ross, I'm going to try this then feedback goes.\n. It's fine at my side. More smaller issues I have but it is not related to path configs.\nThanks Ross!\n. Hi,\nI hope this helps some: #894 \nJust wave if more questions you have :)\n. ...because I can close too...\n. There is a feature req here: #1241 Until postfix/prefix fields can help.\n. No doubt I missed something because I don't understand still. As I know we always come from index.php, no direct route to bootstrap.php. If it is true, in bootstrap.php the project base has already defined. This case it seems a bit complicated not using it. Although it's possible I'm wrong... @rossriley ?\n. Now I checked test reports and I can see that constant missing from test config not from any deployed code so I understand by this way. What can I say? Ehh ... Bob, please close #1256 - never mind, this called low brain activity that is enough to control my low level functions such as breathing... :-)\n. Yepp, I've got it. Just checking right now with a new setup. ;-)\n. @ahi, I'm afraid I need more information. I did a new setup and modified these lines in theme-2014 and theme-2013's entry.twig at line 23:\n{% elseif record.teaser %}\n                {{ editable('teaser') }} {#{ record.teaser }#}\n            {% else %}\nThen it was working fine with editing functions after selecting the Second Item/Sub1 menu at demo site.\nCould you describe how did you produced? Bolt version and a detailed instructions would be welcomed.\n. Thanks Ahmet, by this way I was able to resolve. An option to handle images somehow was missed in CKeditor toolbar. Because handling images by default is off, please use like this\n{{ editable(key, record, [ 'images' ] }}\nSee PR #1271 or wait for merged in soon.\nThanks \n. It's cool, Ross! \n. I think the most important part of Bob's comment is \"do strictly at your own risk\". Just like if some wants to modify anything in core. It can be leads to false, unreproducible bug reports and so on.\nBut, many reasons may have to modify templates with above. SSO implementation or third party logins or modifications other part of backend templates... (For example turning off Bolt News panel that maybe won't work in some intranet environment.) \nFortunately Bolt is expansible enough to do the most even in extension context. Currently I'm working on some backend related improvements too by this practice. I think it will be easier to decide it is worth or not integrating into the core later.\n. I like the block/embed way idea. It is about a kind of refactoring going to do on backend templates. Right?\n. Never heard Elasticsearch before, so let me say thank you first. :) I'm interested in what functions do you like to implement in bolt?\n. That's fine Ross!\n@revollat, currently I'm building an extension that search and lists items or contents in the filesystem. It is based on Symfony Finder component (http://bit.ly/1lcgprV) that is in dependency of Bolt. It is doing his job already but is under development still. The component has different adapters and may implement your own Elastic based adapter as well. This can help you with you may not need to build some layer already is on top Finder component and between Bolt's extension handling. Soon I can publish on my repository if you may interested.\n. Basic Finder adapters are supporting search contents on items or content can be reach any supported URL, like these: http://www.php.net/manual/en/wrappers.php\nThen you may implement other streamwrapper that wraps for Elastic. This solution is for you if you think you need uniform interface on top different underlying layers. Or just for inspiration.\nI'm going to let you know soon where the code will be reached.\nUntil: http://bit.ly/1lcgprV\n. @revollat, maybe a possible starting point:\nhttps://github.com/rixbeck/bolt-extpack/tree/master/extensions/Finder\nWorking but in a very early stage it is so if anybody has recommendations are very welcomed!\n. I'm reading it just now. :) A quick question: where base.twig comes from at L:240?\n. I like to answer for myself.... it should be in the default backend view... :)\n. :D \n. Man, you're living 28 hours a day for sure! :) Like it!\n. No shame here buddy! \n. Would you clarify just a bit more what we like to do? I don't understand the challenge clearly.\n. \"Workflow of publication\" means this stuff goes back end. Right? Or do you want to wire in some admin function to front end?\n. Made it with the zoom option. Soon up.\n. Also did a few file manager and composer related corrections\n. In Eclipse you can set to PSR-2. It will be fine enough.\n. I think best if check Sitemap extension for example. https://github.com/bolt/bolt/blob/master/app/extensions/Sitemap/extension.php#L93\n. It is possible I'm afraid... :) \nTwig rendering is working the same in the whole app. You can append or prepend additional paths to the rendering engine where templates can be stored. Then it will be served by the first path is the higher precedence order. I think there is no more importance to know about this no matter if it is in extension context or in the core. You must place templates where twig will search them.\n. Fix is in PR #1341.\n. Hi,\ndo you have any reason using this version? It is updated already since as I remember.\n. I think that is you linked above is a very early version. As I see in the repository tag 1.6 we have ver.0.611 that should be working fine. Although I checked the content of the ZIP can be downloaded from the bolt.cm site and it contains not the latest version of Editable.\nTo simplify the situation here is a zip file with the actual Editable. https://www.dropbox.com/s/g14jkqytd7t9902/Editable0611.zip\nPlease put content in your extensions  folder and let me know about the experiences please.\nCheers\nRix\n. I realized just right now Bob has made distribution download page here: http://bolt.cm/distribution/\nMaybe better for you to download v1.6.6 here http://bit.ly/TVFt07. It is with latest Editable.\n. Sorry Kirill, I can't reproduce. Here are the steps I did.\n- Unpacked and deployed 1.6.6 zip\n- Created a file app/config/config_local.yml containing\ntheme: base-2013\nenabled_extensions: [ Editable ]\n- opened bolt cms, user setup then login to Backend.\n- filled with some content in the backend\n- edited theme/base-2013/entry.twig lines 25-28 like this\ntwig\n            {% elseif record.teaser %}\n                {#{ record.teaser }#}\n                {{ editable('teaser', record) }}\n            {% else %}\n- visited the site generatied\n- click on an item in 'Recent Entries'\n- hovered then clicked on teaser area and CK toolbar is on\n. Ckeditor is bundled in Bolt and the extension tries to load that when you're authorized. \nCKEDITOR is not defined in Javascript if it is not loaded. First you have to check whether the browser tries to load ckeditor.js at all. If tries but can't be found you have something path settings problem in your local config - that is possible based on you tell above. I suggest you to check it first before you getting into hacking the code. Firefox / Tools / Web developer / Network or Chrome F12 may help you analyze what request has failed and why.\n. Wow, that's cool!!! \n. @GawainLynch Seeing package definition I bet somehow should do via composer repository definitions. https://getcomposer.org/doc/05-repositories.md\n. I'm interested in plugin dependency management that @xiaohutai mentioned. I can imagine that based on composer way but it can throw up some funny questions I think. \n. Sounds good to me too...\n. Funny, but I never used IRC but anything else. I truly hope I'm not the only one... :) ... so where should I start to find the channel?\n. Thanks Bob, will check tomorrow \n. +1 for docs\n. Do I interpret right we are talking about arrays of field and arrays of structures (contentypes) are stored in one table? (By the aspect of programming)\nIf we do so I suppose we must not to getting in this challenge just because we have no this feature still.\nSeparating the problem by View (UI) and Model (Storage)...\nWith the UI I have mixed feelings. Although sometimes this would be a comfortable feature most of the implementations in CMSs are uncomfortable. Repeated fields, moreover field groups are causes long, never ending pages with unclean overview for most of the users. But anyway sometimes it is useful.\nIf we are thinking about implement this / in my opinion / we have to thinking with a very clean way of UI, that is a quite big challenge.\nRegarding the model we can't operate database field arrays in a native way that supported by Pgsql because others doesn't support. It should be come up in a higher level of abstraction that is assumes of using any ORM solution, because I wouldn't be happy something other hackish solution.\nAt the UI part we have good foundations in 2.x to achieve this but the storage section needs restructuring a lot, which is not in balance with the feature we would win at the moment.\n. Don't sure we mentioned this before at all, but how do we plan to handle extensions currently shipped with bolt? Will they hosted under github.com/bolt/extensions or bolt/bolt or under developers' vcs or what? Just because they should be upgraded and some directions may necessary...\n. It's okay for me too.\n. Can be merged. To be continued then.\n. closing via #1577\n. finished now\n. Hm... I have also this on current master. After click on Dashboard / Extend.\n. I did it but doesn't work. @GawainLynch says a working branch of @rossriley will fix it.\n. Ehh! Bad news. Actually I'm on master... going to make a double check with reverting to a clean master and coming back to report...\n. Checked changes you referred and those are in. I've staged my sandbox, switched on the actual master, and deployed. Cache and DB was clean. Made first user, after login I hit 'Extend Bolt' with no error. Then DB was filled up with \"Loren Sucksum\". Back again to 'Extend Bolt' then got the error.\n. Solved, so can be closed...\n. Closing because fixed in marketplace and in extension.\n. Issue experienced under Firefox while Chrome is ok. Seems related to MouseEvent interface handled differently on browsers. Going to implement a cleaner solution though.\n. closing by #1574\n. @adrianguenter, I don't like global $app at all, I would prefer a refactoring of affected util.php functions, but it seemed to me a quite large bite to take.\n. Fix has cleaned up now.\n. It is refers to #1241 \n. Bob, this is a dirty trick but no doubt it works. :) \n. Ross, that's great! Thanks!\n. I wasn't sure about \"<?php \" thing... Thanks for fixing.\n. ...sad once, this is ungrateful task... ;-)\n. Table prefixes can be changed in config.yml / database/prefix.\nFor 'almost bug' questions we have other channels too, please see http://docs.bolt.cm/otherresources\n;-)\n. In config.yml try this\ndatabase:\n  driver: sqlite\n  databasename: bolt\n  prefix: cont_\nalthough prefix must contain something or bolt_ will be by default.\n. Odd, maybe something strinct variable handling? \n. Okay, thanks. BTW this may be appear in different places in code 'cause there are some similar situation in the codebase. I propose let's pick'em out.\n. Checked, it's okay now with composer installed Bolt.\n. Returning to repair later...\n. Because of the composer/non-composer paths misery I've reviewed bootstraps, and the first thing we've always load that is classloader. Therefore many path information can be read from if we using class loader of the app.\n@rossriley, I had no idea how to push ClassLoader obj to unittests so it is now global in tests. But it is not ideal for separation I think... :-) If you know how to, please\n. ...still not perfect with tests. Later I'm gonna run a next round...\n. Done. Travis can't pull because of github quota now but it's okay for me.\n. Daniel, may we take a try with something other visual emphasis than versal text? \n. true, cross merging happened\n. Oh, haven't seen before, that is a parameter later...\n. Yes, I pointed that, but never mind, we are talking about a question now that was originally a stupid question. :-)\n. Tested on latest master but can't reproduce. If it is also the latest at your side please try to disable other plugins maybe we're catching some collision we haven't experienced before.\n. I don't remember now what redirection did that I found myself then at /index.php/bolt/user/edit...\nCurrently can't reproduce, so closing then.\n. Closing because @rossriley has applied some changes on composer related stuffs...\n. What if they are grouped under a new category? Content - Settings - e.g. Extra (or something else)\nThen each extension that extends the menu appears under Extra with a label that it was defined by itself. All of its functional menu items would be popping over like currently 'Configuration', 'File management', etc. does... ?\n. I thought that exactly same.\nI think it's a functional question. Bad implementation means working two times that I don't like. :)\n. I don't really like endless mainmenu like don't like clicking endlessly on nesting submenues. What about some similar like stack images but with menues that often used?\n. Vote++ for the skeletons and shrinking bootstrap. Next week I like to check some reasonable special case with composer.\n. Hm... It's may cause by the latest mod by @rixbeck. I need a few days until I'm back and will ckeck it.\n. With this change pager can be addressed in url both ways\nhttp://box/categories/events?page_categories_events=2\nand\nhttp://box/categories/events?page=2\nif only one paging object on the page.\n. In which version are you? Did a test but haven't experienced any problem under 2.0\n. I'm not in peace with ignoring \"error silencing\" warnings this way therefore I'm going to revert them to previous state, letting codesniffer to scream for that until we decide what we're gonna do with.\n. Closing by #1760\n. :+1: \n. It is short enough to need no much maintenance I hope\n. > Hi, i took the liberty of editing your post for readability\nHeh, now I'can also understand the problem... :-)\n. At first glance \"IsAnything\" may seems like a method that checks a state. We are referencing code parts also in discussions so mentioning by this name may be confusing, I think. I'm also don't like containing \"AbstractXXX\", \"XXXInterface\" prefix/suffix things but obviously somehow must distinguish them from ordinary classes, but I'm not sure for \"Is\" prefix.\n. For me \"IExtensions\" is also acceptable because of my humble Java/.NET past, but regarding to different PHP code styling and naming recommendations it may would be practical to use \"XXXInterface\". Just thinking of fresh joining developers are feeling more familiar maybe with this convention.\nBecause of my EN language lack I'm not sure I understand exactly what you @tobias2k try to explain with \"domain modelling concept\", so I'm excuse if I'm wrong direction. \nPersonally I'm preferring self-explaining coding rather than commenting and describing that why we are diverging from recommendations and \"standards\" (yeah I know that \"standard\" sounds funny in PHP world still). Finally PHP developers recognized standardizing is important so while I'm not really conservative that's why I would not use strange or unusual conventions unless if it brings some kind of breakthrough.\n. Completely agree with @tobias2k \n. Same as at /bolt/activitylog ...\n. closing for now... something slipped away...\n. corrected...\n. We have new ones:\n```\n..............E................................................  63 / 109 ( 57%)\n.......EEE....................................\nTime: 7.73 seconds, Memory: 18.50Mb\nThere were 4 errors:\n1) Bolt\\Tests\\FilesystemProviderTest::testDefaultManagers\nInvalid argument supplied for foreach()\nC:\\Users\\rix_2\\Documents\\bolt-comp\\src\\Extensions.php:123\nC:\\Users\\rix_2\\Documents\\bolt-comp\\src\\Extensions.php:217\nC:\\Users\\rix_2\\Documents\\bolt-comp\\src\\Application.php:288\nC:\\Users\\rix_2\\Documents\\bolt-comp\\src\\Application.php:104\nC:\\Users\\rix_2\\Documents\\bolt-comp\\tests\\Bolt\\Tests\\FilesystemProviderTest.php:90\nC:\\Users\\rix_2\\Documents\\bolt-comp\\tests\\Bolt\\Tests\\FilesystemProviderTest.php:57\n2) Bolt\\Tests\\UploadControllerTest::testResponses\nInvalid argument supplied for foreach()\nC:\\Users\\rix_2\\Documents\\bolt-comp\\src\\Extensions.php:123\nC:\\Users\\rix_2\\Documents\\bolt-comp\\src\\Extensions.php:217\nC:\\Users\\rix_2\\Documents\\bolt-comp\\src\\Application.php:288\nC:\\Users\\rix_2\\Documents\\bolt-comp\\src\\Application.php:104\nC:\\Users\\rix_2\\Documents\\bolt-comp\\tests\\Bolt\\Tests\\UploadControllerTest.php:145\nC:\\Users\\rix_2\\Documents\\bolt-comp\\tests\\Bolt\\Tests\\UploadControllerTest.php:39\n3) Bolt\\Tests\\UploadControllerTest::testUpload\nInvalid argument supplied for foreach()\nC:\\Users\\rix_2\\Documents\\bolt-comp\\src\\Extensions.php:123\nC:\\Users\\rix_2\\Documents\\bolt-comp\\src\\Extensions.php:217\nC:\\Users\\rix_2\\Documents\\bolt-comp\\src\\Application.php:288\nC:\\Users\\rix_2\\Documents\\bolt-comp\\src\\Application.php:104\nC:\\Users\\rix_2\\Documents\\bolt-comp\\tests\\Bolt\\Tests\\UploadControllerTest.php:145\nC:\\Users\\rix_2\\Documents\\bolt-comp\\tests\\Bolt\\Tests\\UploadControllerTest.php:62\n4) Bolt\\Tests\\UploadControllerTest::testInvalidFiletype\nInvalid argument supplied for foreach()\nC:\\Users\\rix_2\\Documents\\bolt-comp\\src\\Extensions.php:123\nC:\\Users\\rix_2\\Documents\\bolt-comp\\src\\Extensions.php:217\nC:\\Users\\rix_2\\Documents\\bolt-comp\\src\\Application.php:288\nC:\\Users\\rix_2\\Documents\\bolt-comp\\src\\Application.php:104\nC:\\Users\\rix_2\\Documents\\bolt-comp\\tests\\Bolt\\Tests\\UploadControllerTest.php:145\nC:\\Users\\rix_2\\Documents\\bolt-comp\\tests\\Bolt\\Tests\\UploadControllerTest.php:89\nFAILURES!\nTests: 109, Assertions: 135, Errors: 4.\n```\nGoing to bugging out...\n. @GawainLynch, and doesn't worth I trying to bug them out?\n. Okay, I see! Looking in... \n. Now with #1998:\n```\nConfiguration read from C:\\Users\\rix_2\\Documents\\bolt-comp\\phpunit.xml\n...............................................................  63 / 109 ( 57%)\n..............................................\nTime: 3.73 seconds, Memory: 20.75Mb\nOK (109 tests, 144 assertions)\n```\n. LF is goood\n. The truth might be at your side... however it makes sense that theme developer updates because of something bug in base theme. Just don't we forget to mention it for the user somewhere about that fact his theme components are not automatically refreshed... or something...\n. Disaster I am today... trying to find myself :)\n. This achievement is coming up to the league of #1555 :)\n. next try...\n. Checking benefits and drawbacks of using RequireJs or similar client side AMD or dependency loader.\n. Sooner than 3.0. I would address it in a next release as it is possible.\nI'm just dreaming now what kind of event types would be fine...\nWe could win performance at extension init process on backend side if we could track whenever a configuration file of the extension has changed. (extconf_postsave) This case may the extension init can be returned early assuming that no changes happened, no checking necessary.\nThat would be also great if got an event before extension uninstall. While no others like the extension itself knows about modifications did on install, so the rollback process is also the business of the extension. It could be important if config files of the core has modified by the extension.\n. Thinking loud, trying to summarize, please correct my if and where I'm wrong...\nUnder Windows we faces this problem in two cases:\n- if we get a file system path from the file system - it will contain backslashes\n- if someone or some library uses DIRECTORY_SEPARATOR to constructing paths\nAccessing file paths with string contains slashes is okay.\nBecause we can't rule out to use DIRECTORY_SEPARATOR by any PHP subsystem (extension/package) and can't guarantee that our stored paths won't play a part in any string comparison, we have to handle our path strings windows path compatible. (I share Tobias' views about win platform can't be disregarded)\nTwo ways we have further:\n- we store paths like just now and converting them on getPath() - I think it's not a long term option, however fits KISS principle :)\n- we store paths in actual OS style concatenating with DIRECTORY_SEPARATOR - I try to avoid this, it's hateful - or using some abstraction layer like @tobias2k suggested. \n...any other option?\n. One more option of course I forgot, if using setPath() everywhere in core and the setter method converts and stores the string in a OS safe string format.\n. +1 @rossriley\n. I have fears about using pathogen since I checked it deeper. I think if we use a lib it must be bullet proof. The first thing I flinched is in its factory here:\nhttps://github.com/eloquent/pathogen/blob/develop/src/Factory/PathFactory.php#L73-L78\nAs I read it - and I've loaded enough coffee yet - it can't be good. On a path like this /A//B///C would fail. Do I continue?\nSecondly - as Gawain is also mentioned - a bit overkill, regarding with the packages it requires...\nSo I would search another. Suggestions are welcome...\n. Maybe I really need more coffee, but before calling creatFromAtoms() I have this in $numAtoms and $atoms\nint(3) array(4) { [0]=> string(1) \"A\" [1]=> string(1) \"B\" [2]=> string(0) \"\" [3]=> string(1) \"C\" }\nif I have $path = '/A///B///C'; it much worse...\n. True. Question is do we trust in it is just one and only or we're gonna beta test it?\n. The time I have now if others also say let's take a try.\n. Closable, I think. Almost sure we'll meet problems in this subject but let's focusing them one by one when it appears.\n. @versh23 I'm not sure we're already fine under windows. It's just a first step but I'm on it.\n. Now unit tests can run fine under windows. @versh23 could you check please how is Bolt now working on a Windows deployment if Travis has passed it?\n. Sorry @versh23, been off all day long. Tomorrow morning gonna check it again. I had test errors in my Win box so will double check what is it.\n. I've pulled up a webserver on my win box and no problems felt. Bolt installed, user settings done properly, lorem db filled up, disqus extension went up correctly.\n\n@bobdenotter, I'm going to merge with master then can be pulled in, I think.\n. @bobdenotter, can be pulled now. \n. Okay, now I can see different problems still that suffers Bolt under windows and requires resolution. Although this Pathmanager based path handling is fine so next tasks we have to do, reading thru the code and changing with regard to that all platform critical path manipulation should be going thru Pathmanager. I'm keep on doing it...\n. It is sprintf style parameter binding I think. It is against somewhat injections with filtering by type. Personally I much prefer PDO type binding with prepared statements.\n. Checking soon...\n. Okay, but what object is this and when?\n. :+1: \n. ...\n. Good news is author is open for contributions - if necessary. Last PR has quickly pulled in.\n. But if that Isolator stuff is used for testing, how is came to perspective here? Don't we have a stack trace or something? Pinging @gwbonline\n. I really don't understand that Isolator magic Pathogen has. Anybody else?\n. Gimme a phpinfo() result pls...\n. Just because it's more than weird. I think you may have restricted functions in PHP.INI by the provider. or something similar magic.\n. It might be a possible reason\n. Honestly I haven't got the knowledge of the truth but as I remember Bolt \nhas been advertising as a CMS from the beginning. What a shame of me I \ndidn't believed that and still using much more than a CMS. All I want to \nsay we are different. Different with thinking, planning, and living with \nthe possibilities inside Bolt. No restrictions for using, forking or \ncontributing or saying judgement. All is free but latter is the chiepest \nchoice.\nSent with AquaMail for Android\nhttp://www.aqua-mail.com\nOn November 27, 2014 8:30:54 PM DevonshireCow notifications@github.com wrote:\n\nI enjoyed reading your passive aggressiveness - so common amongst \nprogrammers. If you think implementing database relationships is a \"whim\", \nyou may as well... take up gardening. As it stands, bolt is useful for no \nmore than a basic blog or basic content site (like the gazillions of CMS's \nalready out there) and until your lack of relations handling is resolved, \nthat will always be the case.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/2056#issuecomment-64824642\n. I was wrong. It is when trying to create 'lorem ipsum' records.\n. I was afraid so. Closing this one.\n. :D \nI was hesitating to make all private member variables to protected but that seemed to be an extreme effort that might endanger my aspiration of winning Bolt-1555 competition.\n. @tobias2k's last one is an important note because it means that in this way we have scripts for developing and an optimized, production version of compiled script.\n. However I'm gonna think about a dynamically generated - rather than on the fly - js bootstrap for extension modules. Just because it can be processed by require.js optimizer and one, static js file can be compiled by this way.\n. We're just writing parallel. But yes, I meant just an option - as you suggested too - generating optimized extensions bootstrap script together with extension scripts. It can be act mostly when you have preinstalled extension set with Bolt. It's just a \"think-ahead caching\" from me...\n. Yes, I think not optimizing anything, except backend in production. But backend needs a dev and prod config and prod must be built by build.js. That won't include those dynamic dependencies like __startup_scripts[] if it is fetched by JSONP e.g. so extension dependencies would remain dynamic.\n. I think we are talking about the same. I just mentioned JSONP - what is a domain independent JSON in this context - because we don't need to generate that whole script you wrote above, just the modules array. Technically is not a significant difference but better if we loading and generating  loading just data rather than code. But I'm saying it's just a remark, I like the direction.\n. Agree, that is an extra request... Then generate that JS script above with twig at least, please :D\n. Really sorry @tobias2k, it's intended for a joke. Was trying to emphasize it with that miserable laughing symbol with little success... ;) \n. :D \n@tobias2k You just said the truth. Strictly it's just a \"Hypertext Preprocessor\", he just wants to break out.\n. @DevonshireCow I don't think so. Better saying, I hope so not. Obviously it is my opinion but I don't believe PHP can manage by the right way that is not his business. We want to manage things that is business of client side. We don't have to considering the critical SEO chapter that is a main reason we are creating the HTML content at server side. PHP is able to manage his own class loading etc. but it is always a struggle when he wants to know about what modules will need at client side scripts.\n. @cdowdy what is you're saying it is worth for me a deeper check on assetic. It is interesting for me regarding the SASS rather than requirejs still. I would be glad if we could lower our developer environment requirements in this context. Like Ruby... I'm gonna check what assetic can do for us.\nThanks\n. Thanks, this works!\n. :+1: \n. +1 and other +1 for template:=null\n. ... and what happens if dummy user conf like this?\n\nyml\n...\n    template: list.twig\n.. bla-bla ...\n    viewless: true\n...\nJust because a contenttype record can be long enough and could be long distance between that rows to be able realize easily what's the problem with.\n. @GawainLynch it is of course. I was just meant about \"Why my template doesn't gets run?\" situations.\n. @GawainLynch that's fine I think. Entry in log something like this Viewless config option takes precedence over template... ?\n. > Ah ha! I think I know where the problem is... There is a problem with Composer when there are files that have been modified by the user.\n@GawainLynch, if is it on conflicting changes then may we put\njson\n\"config\" : {\n        \"preferred-install\" : \"dist\"\n    }\nin our generated composer.json?\n. > @rixbeck it is now your turn to buy the next beer for you and me! I actually went and read Composer API code again... :-)\nHehe, now I see in #1743 ... :beers: \n. :beer: for @GawainLynch \n. Hi @HorlogeSkynet,\nsince our community currently working hard on release v2.0 we can't serve you with a complete solution with. Although it is a very good idea that can be achieve via a corresponding Bolt extension. We hope that whenever we fix that release soon some burst will be happen at extension development and this one may be there. :)\n. You're welcome at the gallery of the quickest solutions by Bolt! ;)\n. Personally I'm also tuning permissions rarely so it is fine on Users page for me although didn't bother me neither in configuration menu. If something I wouldn't be like it is both place. \n. :muscle::joy::+1: \n. :laughing::+1: \n. Since it seems can't and won't be fixed at all I'm going to close this issue now. Although I'm afraid it will be reopened next time when it appears... \n. I had a strange behaviour with addAsset() just now that affected extensionsion-editable. Adding two JS block, one with $late=false, other $late=true did the same when both has default $priority. Both went to after <body>. I had to change a higher value of priority to that one I wanted to inject before </body>\nhttps://github.com/rixbeck/bolt-extension-editable/commit/0831d3e6e147d3d60a4dc26867a33ab41d5c690e\n. Okay, my previous is not true by this way. But right is that I was just able to set expected order with priority. Was that the reason why $priority has introduced?\n. Happy New Year! :+1: \n. Hi Gawain,\nI was installing bolt via composer so it is sits under /vendor folder.\nThis is my /web/index.php:\n<?php\nif (preg_match ( \"~^/thumbs/(.*)$~\", $_SERVER ['REQUEST_URI'] )) {\n    // If it's not a prebuilt file, but it is a thumb that needs processing\n    // define('OPTIPNG_ENABLED', true);\n    define ( 'FILE_CACHE_DIRECTORY', __DIR__ . '/../cache/thumbs/' );\n    require __DIR__ . '/../vendor/bolt/bolt/app/classes/timthumb.php';\n} else {\n    require_once ('../src/bootstrap.php');\n    // Here we go!\n    $app->run ();\n}\nThumbnails are working as expected now for me.\n. Haven't until now, but can't see differences... do I need coffee you suppose? :)\n. Okay, seems I going mad... How does it appear there? \n\n. Excuse me! Damned rush!\nSent with AquaMail for Android\nhttp://www.aqua-mail.com\nOn October 27, 2014 6:09:01 PM Bob den Otter notifications@github.com wrote:\n\n\npublic function getPaths()\n {\n-        return array_merge($this->paths, $this->urls, $this->request);\n-        $paths = array_map(\n-            function ($item) {\n\nNice! ^_^\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/2001/files#r19419581\n. LMAO! Mercy, gentlemen.... \n. Yess \n. It is reasonable..\n. I'm not sure what do you suggest. Because it is a reference we'll have declared but unused variables on calls if we leave intact.\n. Wait! No, this was for purpose because magic __call() will work on if we don't use &$pager as argument anymore. So I would remove that parameter from signature... Thoughts?\n. If we can agree should we use or not that &$pager parameter then will remove... or not. :-) \n. Damn! Copy/pasta... sorry...\n. Sorry guys... I'm really shredded apart... I will focus and givin a next \ntry. Promise... \ud83d\ude00\n\nOn 29 April 2016 18:14:29 Bob den Otter notifications@github.com wrote:\n\n\n@@ -110,8 +110,8 @@ private function orderHelper($a, $b)\n                 return 0;\n             }\n-            $aVal = $a[$this->order_on_secondary];\n-            $bVal = $b[$this->order_on_secondary];\n-            $aVal = (is_array($a) ? $a[$this->order_on] : \n  $a->{$this->order_on_secondary});\n-            $bVal = (is_array($b) ? $b[$this->order_on] : \n  $b->{$this->order_on_secondary});\n\nI think this is still not right. One order_on left. :-)\n\nYou are receiving this because you were mentioned.\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/pull/5257/files/9a692740b54b30f41524977f3e20deee558091c3#r61602975\n. \n",
    "GDmac": "\nI'm sure examples like yours would be interesting to a lot of people. :-)\n\nBolt recipies - cookbook\n. Some tool to organise large sets of images and files would be nice. it seems Bolt already automatically generates date-based sub-directories in the files dir. Managing assets with something like (searchable) tagging, and/or being able to rename and create directories for PDF, etc. would be a welcome addition.\n:+1: For a (sub)set of meta-data (alt, title, maybe even some taxonomy/tags?)\n. Can you point me to where the directories are created automagically? I see some things are in upload.class but where is the date directory created, i'ld like to be able to alter the behaviour (e.g. news contenttype files into files/news directory etc.)\n. Basic managing directories is included, yeah! \nIn app/classes/upload/index.php the subdir is ALWAYS created with\n$fileSystem->mkdir(__DIR__.'/../../../files/'.date('Y-m'));\n(ps. date('Y-m') is called three times to set a path, although unlikely to happen on a month turnover, i'ld suggest read it once and set it into a variable) (ps2. why the 4 times dirname(dirname(dirname( ??)\n@rarila upload/index.php is probably the ticket to be able to set the uploaddir. Somehow figure out the contenttype that is uploading (e.g. via hidden input?) and somehow fetch the contenttype field attribute uploaddir, and feed both to the Uploadhandler(). doable.\n. I'll revisit this after 2.0 beta / release. But, ps. there is no option to re-open this issue.\n. fixed in 2.0 beta\n. Okidoki\n. Ok, it seems the canonical part of the docs doesn't work out.\nI tried to put the 'pagina' pagebinding on top to make sure the head canonical is set correctly.\nWhat happens is: On /pagina/welcome the head link rel canonical is /pagina/welcome and\non /welcome the link rel canonical is /welcome\nThis should always be /welcome if i setup the pagebinding to /{slug} , should it ?\n. I agree with @rarila, keep it simple ... however, a drop in package is nice because \"it just works\"\n. Cloudflare, AmazonS3, .... Maybe a good idea is to abstract it away a bit. That way you can choose to use a local solution (Timthumb, whatever) or/and create some cloud options thru a library. \n. Image manipulation is something you could / should do in an extension.\nFor being able to so, make this FR a good candidate for #1914 to fire some events \n. \"Something with imagick\" ... imagick is indeed a bit top-heavy and also not as commonly installed as GD2. Also i think watermarking and filters is not something that Bolt (core) should provide. \nFor now the best is to make an image-filter extension. There are several events dispatched already, where you can add listeners to (pre- and post-save of an entry).\n@DevonshireCow If you look at the original discussion above, you can see that the thumbnail generation is delegated to the new https://github.com/bolt/bolt-thumbs which was made by ross. Maybe a simple imagecreator/manipulator based on GD can be made next to the thumbnailcreator in that repo. \n. > what would be the purpose of the imagecreator / manipulator in GD\nThe same as it would be with imagick. \nGD2 has a bunch of filters http://php.net/manual/en/function.imagefilter.php\nand even convolution http://nl1.php.net/manual/en/function.imageconvolution.php\nwatermark is not to difficult either http://php.net/manual/en/image.examples-watermark.php\nWhat functions are you looking for specifically?\n. yes, @rossriley - resourcemanager construct \nI have bolt installed in a subdir, so root not necessarily is \"/\"\n```\n        $this->setUrl(\"root\", \"/\");\n        $this->setPath(\"rootpath\", $this->root);\n    $this->setUrl(\"app\", \"/app/\");\n    $this->setPath(\"apppath\", $this->root.\"/app\");\n\n```\n. Yes, 99% there :-) Styles and scripts restored\none 404 left: asyncpath in footer.twig is set to {{ paths.async }} \nwhich resolves to \"/\" instead of \"/subdir/\"\nedit: also 404 on:\n/app/view/css/ckeditor.css\n/app/view/lib/ckeditor/contents.css\n. It looks like config.php method setCKPath() calls app[resources]->getpaths() and somehow in another context it seem ->initializeRequest() is used, which corrects for subdirs? (is this what's happening?).\nedit here is a dump of the app->getpaths() from inside setCKPath();\narray (size=16)\n  'rootpath' => string '/Users/gdmac/Sites/devsite/subdir'\n  'apppath' => string '/Users/gdmac/Sites/devsite/subdir/app'\n  'extensionspath' => string '/Users/gdmac/Sites/devsite/subdir/app/extensions'\n  'filespath' => string '/Users/gdmac/Sites/devsite/subdir/files'\n  'web' => string '/Users/gdmac/Sites/devsite/subdir'\n  'webpath' => string '/Users/gdmac/Sites/devsite/subdir'\n  'cache' => string '/Users/gdmac/Sites/devsite/subdir/app/cache'\n  'cachepath' => string '/Users/gdmac/Sites/devsite/subdir/app/cache'\n  'config' => string '/Users/gdmac/Sites/devsite/subdir/app/config'\n  'configpath' => string '/Users/gdmac/Sites/devsite/subdir/app/config'\n  'root' => string '/'\n    'app' => string '/app/'\n    'extensions' => string '/app/extensions/'\n  'files' => string '/files/'\n    'async' => string '/async/'\n    'bolt' => string '/bolt/'\n. Ok, i'm lost. the frontend theme files try to access /theme/view/.... instead of /subdir/theme/... etc. I'm trying to dig back from frontend.php and backend.php. here is a dump from {{ print(paths) }}\n// frontend\nrootpath => /Users/gdmac/Sites/devsite/subdir\napppath => /Users/gdmac/Sites/devsite/subdir/app\nextensionspath => /Users/gdmac/Sites/devsite/subdir/app/extensions\nfilespath => /Users/gdmac/Sites/devsite/subdir/files\nweb => /Users/gdmac/Sites/devsite/subdir\nwebpath => /Users/gdmac/Sites/devsite/subdir\ncache => /Users/gdmac/Sites/devsite/subdir/app/cache\ncachepath => /Users/gdmac/Sites/devsite/subdir/app/cache\nconfig => /Users/gdmac/Sites/devsite/subdir/app/config\nconfigpath => /Users/gdmac/Sites/devsite/subdir/app/config\nthemepath => /Users/gdmac/Sites/devsite/subdir/theme/base-2014\nroot=> /subdir/\napp => /subdir/app/\nextensions => /subdir/app/extensions/\nfiles => /subdir/files/\nasync => /subdir/async/\nbolt=> /bolt/\ntheme => /theme/base-2014/\ncurrent=> /\ncanonicalurl => http://devsite.dev/\ncurrenturl => http://devsite.dev/\nhosturl => http://devsite.dev\nrooturl => http://devsite.dev/subdir/\ncanonical => devsite.dev\nprotocol=> http\nhostname => devsite.dev\n. Yes, async can be added to initializeRequest() i was looking into setting 'theme' too, but then there's setThemePath()\n. Hmm, somewhere a subdir to many. Editting kitchensink results in\nTwig_Error_Runtime\nAn exception has been thrown during the rendering of a template (\"dir(/Users/gdmac/Sites/devsite/subdir/subdir/theme/base-2014): failed to open dir: No such file or directory\") in \"_sub_editfields.twig\" at line 182.\nEdit that should be from app/view/ dir alltogether, hmm\n. everything looks ok.\n. Except config.php method setCKPath() which calls app['resources']->getPaths() which still results in /app/view/css/ckeditor.css instead of \"/subdir/app/...\"\n. So i thought i just fetch $this->app['request']->getBasePath(); in setCKPath();\nRuntime exception ... Accessed request service outside of request scope.\nWhy does it have to be so convoluted? set the app, root etc. dirs as constants in index.php or bootstrap and be done?\n. Yes, looks like it is resolved. I do have a request to be able to override CKeditor, which content.css is loaded. E.g. in the fieldtype specify content.css from theme directory. That way you can have basic styling for a field type, so that it more or less matches the style of the website.\n. Note: the mailer uses smtp by default, not the php mail() function (as suggested).\nfix 2. point bolt config to a real smtp server \nor enable smtp on your dev-machine (mac: sudo postfix start)\n. Ah, autogrow is for the inline editing? (editted)\nThen maybe an option to set config.autoGrow_minHeight and maxHeight in config?\n. Also, a mechanism to override the css file (preferably per html field) would be nice.\nI can't edit /app/view/css/ckeditor.css or /app/view/lib/ckeditor/content.css because of updates.\n. I use another CMS as well, and that does have multiple editors with different heights on page. \nFrom your StackOverflow link: \n// The easiest way to initialize two editors with custom heights is:\n$('#editor1').ckeditor({ height: 100 });\n$('#editor2').ckeditor({ height: 200 });\nedit: this can be extended with the custom css\n{ ... , \"contentsCss\": [\"\\/theme\\/base\\/css\\/ck_textstyles.css\"] }\n. i'll leave it on my local want-list and look into it.  (for the other CMS it was more easy to deduce as CK is implemented as a separate plugin)\n. $('#cke_1_contents').height(400) via webinspector does work :-)\n. The fix is disable autogrow on startup /app/view/js/bolt.js\n// config.autoGrow_onStartup = true\nthen it respects the height setting.\nAs soon as you click inside the field, it will autogrow then.\n(edit: quick check, this is what the other cms does as well)\n(edit2: seems to make sense to then set config.autoGrow_minHeight = config.height;)\n. e.g. https://github.com/bolt/bolt/blob/master/app/view/js/bolt.js#L249\nphp\n    config.height = 250; // preferably get this from content_type config\n    // config.autoGrow_onStartup = true;\n    // config.autoGrow_minHeight = 150;\n    config.autoGrow_minHeight = config.height;\n    config.autoGrow_maxHeight = 400;\n. fixed\n. Yes (the \"everyone\" role is already supposed to be logged-in), but a logged in user should not see the latest activity widget in the sidebar on the dashboard by default. Logged-in does not mean \"access to activity log\".\n(editted for clarity)\n. Hya rarila, can you explain what the problem is? e.g. strict_variables?\n. Nope, the default in config.yml is, strict_variables: false, So haven't bumped into that one.\nDoes the same go for javascript?\nBecause var custom = $('[name='+this.name+']').data('ckconfig'); is also undefined.\n. Google for flock alternative, http://stackoverflow.com/a/6967839/25286\nAlternatively you can create your own locking mechanism, however you must ensure it's atomic. That means, you must test for the lock and if it does not exists, establish the lock while you need to ensure that nothing else can acquire the lock in-between\nBut this is re-inventing the wheel\nedit: p.s. does your host support php sessions? because if i recall, that uses file locking as well.\n. if you really absolutely have no other option, you can maybe monkey-patch / duck-punch it,\nor replace the function calls with ones from the SE page \n(looks like, one blocking, the other non-blocking).\nI only see around three flock() usages in the whole Bolt tree,\nhowever not something Bolt should pursue\n. also, config getwhichend does a substring match with substring strlen mountpoint (branding path)\nThis will match /bolt in /boltisawseome or /admin in /admininstructions as being backend\n. (the latter issue is fixed in #2227 )\n. for 2.1 speed optimisation round. Move compat-checks to backend. not needed for every pagehit.\n. Now, see what happens when you send a bunch of devs on camp...\nPorting Bolt to Go.\nM\u033f\u0308\u0307\u0366\u0300\u0333\u0332\u0323\u031c\u035a\u034d\u0324\u0318\u031do\u033e\u036a\u0300\u036b\u0305\u0310\u034b\u035c\u0315\u035a\u0356r\u0306\u0342\u033b\u0353\u0348e\u0306\u0351\u036c\u036c\u034a\u0344\u0301\u0360\u0361\u0330\u031f\u032a\u0354\u0329 \u0365\u0357\u030d\u035b\u0300\u036e\u0351\u0350\u031b\u0354\u0330C\u033d\u0351\u0489\u031c\u0333t\u0352\u030a\u030b\u0337\u0341\u033a\u035a\u0355\u032c\u033a\u031fh\u0351\u0364\u033e\u036f\u030b\u0363\u0368\u0302\u0334\u0489\u0323\u0345\u0318\u0329u\u0314\u0310\u0357\u030b\u033d\u0489\u0316\u035a\u034d\u0353\u032f\u032c\u0325l\u030e\u0369\u034c\u0301\u031f\u035a\u033a\u032f\u032b\u0349\u0320\u0354u\u0314\u0334\u0316\u032b\u033ch\u033d\u036d\u030a\u0344\u033f\u0314\u0307\u0323\u0316u\u0309\u030a\u0313\u036f\u030c\u034c\u0367\u0369\u0360\u0321\u0329 \u0306\u030f\u0364\u0303\u036a\u0321\u033a\u0347\u031d\u0331\u0331\u0356\u0325\u0359-\u0367\u034a\u0313\u0322\u035e\u0337\u032d\u0355\u0325\u033b\u032e\u035a\u034d \u0306\u034f\u035e\u0348\u0355\u0318\u0316\u0359t\u034b\u036c\u031a\u0321\u0336\u035c\u032b\u0329h\u0302\u0314\u030f\u0315\u0339\u0355\u033a\u0326\u034d\u0354\u034e\u035ae\u0300\u0369\u0313\u036a\u030f\u0489\u034f\u033b\u035a\u0317\u0347\u0339\u033b\u0320\u0330 \u0311\u033d\u035b\u0303\u0302\u0362\u0345\u033b\u031dI\u030c\u030b\u036a\u0313\u0304\u0332\u0324c\u0350\u0344\u0308\u0305\u0307\u0350\u0311\u036a\u034f\u0489\u0319\u0349\u0345\u0359\u0330\u034d\u032ch\u0300\u0365\u0342\u036b\u033f\u030b\u030f\u0344\u0335\u0334\u032d\u032d\u032a\u033c\u0359o\u035b\u034a\u0305\u0357\u036c\u0357\u0302\u0315\u0338\u0349r\u036a\u0344\u036b\u0327\u032c\u031d,\u0346\u0369\u033f\u0363\u0335\u031e \u0367\u0312\u0307\u0351\u0327\u0338\u0359\u0316\u032d\u034d\u0347\u032ci\u0312\u0306\u0350\u0364\u035f\u035f\u0328\u0356\u0319\u034d\u0316\u0316t\u030a\u0363\u034b\u0357\u030d\u031a\u034f\u031f\u0359\u0345\u0348\u033b \u0350\u033e\u034e\u032a\u033b\u032b\u032e\u0316p\u0366\u036d\u034c\u030f\u030b\u0314\u0308\u0358\u033c\u032d\u0316\u034d\u0326\u033a\u0354\u031ce\u0365\u0365\u035f\u032e\u032b\u033b\u0339\u032e\u0333r\u034a\u0305\u0315\u0325\u0353\u0325\u032dm\u0304\u035b\u0338\u034e\u032c\u0355\u0323\u0319\u0354e\u036a\u036c\u0314\u036b\u0307\u030b\u0368\u0344\u035f\u0330\u0348\u031d\u0329\u0330\u032a\u035a\u0325a\u0310\u0368\u036b\u0342\u035e\u0347\u0323\u034e\u031e\u035a\u0359t\u0306\u0305\u0302\u034f\u033c\u032fe\u036d\u0302\u0365\u0364\u0344\u0335\u0333\u034d\u034d\u032fs\u0301\u030a\u034b\u034a\u031b\u0321\u0327\u0355\u032b.\u030c\u036c\u0344\u0312\u0311\u0321\u035d\u031d\n. With optimisations, we could look at Silex 2.0-dev (which uses pimple 3.0, which is speed-optimised)\ne.g. see: http://pimple.sensiolabs.org/ (emphasis mine)\n\nThis is the documentation for Pimple 3.x. If you are using Pimple 1.x, read the Pimple 1.x documentation. Reading the Pimple 1.x code is also a good way to learn more about how to create a simple Dependency Injection Container (_recent versions of Pimple are more focused on performance_).\n. For fieldtype extensions, not add/load assets on each pagehit.\nin backend.php method editContent(). after \"make sure user is allowed conditional\"\n\nphp\n        // ~ Line: 675\n        // Signal extensions we're loading content_edit\n        $app['dispatcher']->dispatch('content_edit.load');\nin your extension you can defer the addCss() etc. from initialize()\n``` php\n    public function initialize() {\n        // always do this\n        // ...\n    // Do this on the content_edit page only\n    $this->app['dispatcher']->addListener('content_edit.load', array($this, 'load_assets'));\n}\n\npublic function load_assets($event)\n{\n    $this->addCss('assets/colourpicker.css');\n    $this->addJavascript('assets/colourpicker.js', true);\n    $this->addJavascript('assets/start.js', true);\n\n}\n``\n. (updated)\n- [ ] SetupBoltEventsandBoltEventclasses\n- [ ] Test with simple extension on init and dispatchcontent.edit.start`\n- [ ] Migrate cron events to uses BoltEvents\n- [ ] Migrate storage events to use BoltEvents\n- [x] completed\nClass BoltEvents\n\nStatic events class (see 1.)\n  Mainly for reference and documentation, contains all event-names and descriptions\n  e.g. const STORE_ORDER = 'store.order';\n\nClass BoltEvent\n\nThe event object that is passed around by the dispatcher (see 2.).\n(if any) contains data for the listener\n(if any) can contain return-data from the listener\nVariable names and data types should be described in the BoltEvents class\n\nreferences:\n- (1) \"Creating and Dispatching an Event\"\n  http://symfony.com/doc/current/components/event_dispatcher/introduction.html\n- (2) \"the Generic Event Object\"\n  http://symfony.com/doc/current/components/event_dispatcher/generic_event.html\n. I think this feature can be added much sooner than 3.0.\nBeing able to load fieldtype assets late (on dispatch from edit_content),\nand events like pre-email-send (to be able to override used mail-service to mandrill in certain cases),\nare to important to postpone so long until 3.0\n. Ideally, for extension to be able to migrate over to this mechanism,\nthere needs to be some kind of tests. (e.g. test Bolt version or test for events-class)\nphp\nfunction initialize() {\n  if ( class_exists('Bolt\\BoltEvents') ) {\n    // addListener[edit_content.start] ... this->load_assets\n  }else{\n    // Older Bolt, load assets now\n    $this->load_assets()\n  }\n  // ...\n}\n. Hello tobias, see the links in my comment above, https://github.com/bolt/bolt/issues/1914#issuecomment-59647616\ndispatcher is somewhat a core function of silex/symfony.\n. @Mikescops css classes for ckeditor? where do they go into?\n. Hello Mikescops, i'm looking into this, \nthe css can easily be added to Bolt base theme, if that is all, \nbut i have a couple of follow-up questions:\n(1) your screenshots show ckeditor - are you inserting the video's with a plugin?\nWhich plugin are you using, can you share your toolbar config?\n(2) There might be an issue with Bolt video fieldtype, for width it\ndoesn't accept 100% for width (defaults to 640px)\n. (1) upload button - right side - doesn't work (upload to stack)\nin devtools network i see a 301 redirect from /upload/ to /upload (without trailing slash)\ni suspect BoltUrlMatcher agressivly redirecting\nindeed if i just return $this->wrapped->match($path); i get 404\nthe 301 looses the post stuff\n. Which version of Bolt are you using? \nAnd are you using an extension or generating the rss yourself in a twig-template?\nThe allowed tags also probably needs attributes.\n'allowed-attribs' => array('id', 'class', 'name', 'value', 'href', 'src')\n(copied from markdown, Line 415 twigextension.php)\n. form validation should probably move to webshim (comes with i18n) \nbut that is rather much at the moment for me to chew on.\nhttp://afarkas.github.io/webshim/demos/demos/forms.html\n. Yes, parsley or webshim is probably a good option.\nI would tend to go with webshim, as it extends/implements the html5 constraints\n(e.g. type=email, type=date) but is probably more work to implement (correctly)\n. This is on the table for post 2.0 release, \nas we hope to modularise / compartmentalise users, content and fields\n. grmbl - it also includes my commits on the javascript validation\n. mergeception\n. > autoincrement id is reset after item delete (seen with sqlite)\nCreate item = No. 1\nCreate item = No. 2\nDelete item 2\nCreate item = No. 2 (instead of 3)\n. +1 for rarila's suggestion: depublish == null\nThe mysql datetime range is better than mysql timestamp, but still a bit silly 1000 ad - 9999 ad ? \nA contenttype where you keep historic events is not unusual, for instance, research on historic buildings, cathedrals etc. (800 - 1100 ad period). Or even for on a geologic scale (give or take a few billion).\nThe php datetime object seems to have less of a problem on 64 bit systems, BIGINT ?\n```\n$dt = new DateTime('@'.PHP_INT_MAX);\necho $dt->format('Y-m-d H:i:s');\n// 292277026596-12-04 15:30:07\n$dt = new DateTime('@'.~PHP_INT_MAX);\necho $dt->format('Y-m-d H:i:s');\n//-292277022657-01-27 08:29:53\n```\nIn this regard it might be interesting to look at the Carbon-library.\n(it extends DateTime). Your thoughts?\nhttps://github.com/briannesbitt/Carbon\n$dt = new DateTime('1st January -0024 07:36 CEST');\n$dt->add(DateInterval::createFromDateString('-1 day'));\necho $dt->format('Y-m-d H:i:s'); // 0023-12-31 07:36:00\necho $dt->format('U'); // -61409903040\n. Putting a die('foobar');, or even better a throw, on line 44 of that file, \nshows that it is indeed called on frontend and backend.\n```\nFatal error: Class 'Icecave\\Isolator\\Exception' not found in /boltdir/vendor/icecave/isolator/src/Isolator.php on line 45\nCall Stack\nTime    Memory  Function    Location\n1   0.0011  237968  {main}( )   ../index.php:0\n2   0.0012  241984  require_once( '/boltdir/app/load.php' ) ../index.php:13\n3   0.0014  254848  require_once( '/boltdir/app/bootstrap.php' )    ../load.php:39\n4   0.0014  255280  call_user_func ( )  ../bootstrap.php:83\n5   0.0014  255280  Bolt{closure}( )   ../bootstrap.php:83\n6   0.0081  1033584 Bolt\\Configuration\\Standard->__construct( ) ../bootstrap.php:55\n7   0.0089  1108024 Eloquent\\Pathogen\\FileSystem\\Factory\\AbstractFileSystemPathFactory->__construct( )  ../Standard.php:25\n8   0.0099  1183064 Icecave\\Isolator\\Isolator::get( )   ../AbstractFileSystemPathFactory.php:47\n9   0.0099  1183096 Icecave\\Isolator\\Isolator::getIsolator( )   ../Isolator.php:83\n10  0.0376  1964608 Icecave\\Isolator\\Generator->generateClass( )    ../Isolator.php:134\n11  0.0584  2025184 Icecave\\Isolator\\Isolator->eval( )  ../Generator.php:38\n12  0.0584  2025536 Icecave\\Isolator\\Isolator->__call( )    ../Generator.php:38\n```\n. rixbeck - could it be something like this?\nphp 5.3.11 Fixed bug #60968 (Late static binding doesn't work with ReflectionMethod::invokeArgs()).\nedit: from http://php.net/ChangeLog-5.php\n. Stuff is shifting towards WOFF ?\nhttp://css-tricks.com/snippets/css/using-font-face/\nI'm +1 for including all needed stuff with the bolt-app\nthis will remain problematic for the geolocation fieldtype...\nEDITED\nAlso, i generally use the tip to just use sans-serif for that mentioned font-stack.\nThis will use helvetica on mac and arial on win. Otherwise Helvetica (if present) looks mostly sub-optimal on win, and if you put arial before helvetica, then arial looks sub-optimal on mac. I don't know if these assumptions are still correct.\nhttp://css-tricks.com/sans-serif/\n\nI heard about the ugly rendering of Helvetica on PC\u2019s so I\u2019ve been using the font stack \n\"Helvetica Neue\u201d, Arial, sans-serif;\" This will show Helvetica Neue on Macs \n(all of them have it) and Arial on Windows since most PC\u2019s don\u2019t have it...\n. Edited my comment, sans-serif will pick the user setting.\nStill, i'm also for either bundling everything (no third-party website) or use default available fonts.\n. The irony department thinks that it is redundantly departmentalised into ironic redundancy\n\nBolt 2.0 - Yes it's \u00dfeta\n. i had a similar issue in another project.\nTip for who picks this up, check if after each resize the resource is really unset/destroyed.\n. (1) datarange - filter by \"puppies\" 2013-01-01 - 2013-04-01 to get that 2013 article about puppies\n(2) number of results per page for pagination - later this could add an edit-multiple feature.\n\n. > I'd love it if the top navbar and both side bars stayed frozen on screen and just the center column scrolled. :D\nneed to take in account the display for responsive layout (e.g. mobile / tablet)\n. what are those dots the arrows point at? top of characters on line 3?\nhiding those? how about adding 8px with a fade\n. Same for run update check\n. Colourpicker\nWhen an extension is uninstalled, ../bolt/extend/uninstall?package=bolt/colourpicker is called.\nHowever, the addCss() and addJavascript() do get thru from the init, just before uninstall.\nThe extension is uninstalled, and the browser gets a 404 on the js.\nThe js is (i guess) handled by the browser, which in turn borks on Unexpected token < of the 404 html message body. \nps. this causes the bolt/colourpicker successfully removed ............................ \ndots being added to continue forever.\nOptions: \n- pass the extension info that it is being uninstalled so it can ignore further actions it wants to take\n- in general don't addCss() or addJavascript() in the init, delegate those to the dispatcher, or check that a route is being matched that you actually want to link into (e.g. editcontent, dashboard, whatever)\nDisquss extension\nThis one causes the whoops exception, please test it out if it causes exception for you too.\nThis all probably because extensions install listeners, providers, services in init, just before uninstalling.\n. also when installing disquss dev-master\n```\n- Installing bolt/disqus (dev-master d95c383)\n    Cloning d95c38345623399376ee1af7fcc471ab20fce10f\n    Failed to download bolt/disqus from source: Failed to clone git@github.com:bolt/Disqus.git, git was not found, check that it is installed and in your PATH env.\nsh: git: command not found\nNow trying to download from dist\n\n\nInstalling bolt/disqus (dev-master d95c383)\n    Downloading: connection...\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b    Downloading: 100%         \b\b\b\b\b\b\b\b\b\n```\n. this does work \n\ntoolbar: [{'name':'styles','items':['Format']},{'name':'Basic','items':['Bold', 'Italic']}]\nthis doesn't seem to work because symfony yaml doesn't allow multi line.\ntoolbar: [\n                {'name':'styles','items':['Format']},\n                {'name':'Basic','items':['Bold', 'Italic']}\n             ]\nedit added that symfony Yaml parser doesn't support multiline\n. yes, maybe not to much work, but i rather have 2.0 released, and make a good solution for 2.1.\nbecause parts are in config, under wysiwyg now.\n. Hya gwbonline, yes you can edit the file on your own computer if a pull-request on github is not an option. You can copy the following file, section  untranslated messages from line 81 and untranslated keyword based messages from line 119\nIf you could do a couple of them, that would be great. You can store and edit the result on gist.github.com, which is a bit more easy than making a pull-request or save the result at a service like pastebin.\nThe dutch messages file is here (you can click of Raw if needed):\nhttps://github.com/bolt/bolt/blob/master/app/resources/translations/nl_NL/messages.nl_NL.yml\n. The time-out for correct date/times on last-seen and changed xxx-ago messages should be fixed in beta3\n. Ha, Because if you share the link here, when you're done, then someone can fetch a copy from your gist and manually merge it in :-)\n. Edit infos (lange vertalingen)\n    app/resources/translations/nl_NL/infos.nl_NL.yml not found\n    fallback: app/resources/translations/en/infos.en.yml ALSO not found\nWhoops Exception\n. partial #2093\n. pfff \ncatch (\\Symfony\\Component\\Translation\\Exception\\InvalidResourceException $e)\n\\Symfony\\Component\\Translation\\Translator.php line 275 load resource\n. The language stuff also interacts on a low level, there should be more better try/catches.\nIf messages.yml is borked - it probably can't localize the error message and - double - fail ?\nDoes this follow coding style? I have a hard time following what's going on.\nhttps://github.com/bolt/bolt/blob/master/src/Translation/Translator.php#L80\n. There is another issue lurking here and around #2093 \n\nIf you make a mistake in the translate textarea, and press save,\nthen correctly, you get a notice that the yml is not parsable.\nHowever, the submit button to retry is not shown, probaly because of the error\n\nedit: #2105 \n. What we could do (what the original regex does) is follow the maxlength=\"480\" html5 constraint\n(which cough is currently not yet implementent on the text/html/markdown/ect. fieldtypes)\n. No, i mean: not check the pattern, because of the reasons you mention.\nBut, fieldtype and html5 could follow a maxlength: 480 setting \n(which i'll then have to implement).\nTerwey is merely using the pattern currently to max the field to 480 chars.\nThis (and the current pattern implementation) comes with a big warning anyway:\nfor the docs\n_patterns and html5 constraints are (for the moment) only advisory constraints, \nThese constraints are currently only checked with javascript,\nusers who have edit-privileges can always change the page in their browser before submitting_\n. @lexislav for the time being, if you don't work with github, you can \nrename app/resources/translations/cs to cs_CZ\nand rename each of the files in there also to .cs_CZ\nBolt now uses the full locale, to be able to distinguish between \nlanguage-variations, like nl_NL and nl_BE (Dutch for Netherlands and for Belgium)\n. The fallback (en_GB) is loaded into the form if infos.nl.yml is not found\n. ping @rarila \n. i have tested this with non-present file, non-writable file, non-writable dir and non-present-fallback\n(the latter because i stumbled on the fallback was en_GB \nbut the dir/files until recently still was still en)\n. This RFC takes a very pragmatic approach, mainly for the display of dates in the form. For this 2 variables for the locales are used to define this dateformatting. Note: With a phpStrftimeToDatepicker() function, it can even be a single dateformatting in php strftime format, to prevent any issues with non-matching formats. Adding this to the twig/javascript view-layer is not the huge refactoring by any means.\nedit: addendum - this is mostly in the view layer (twig/form/javascript) and from what i hear, the changes and issues on date handling that rarila is working on are important and difficult changes to the backend handling. So hopefully these solutions could very well add to eachother and work together.\n. > Addresses #2114\nYou mean: customizing dateformat is defered to a future version ?\n. - Time field is in US notation (can't enter 16:44, AM/PM choice is hidden on right side)\n\n. IMO initialise is for initialise - don't do other work in there.\ninitialize() is called on every request, IMO extensions should listen\nfor their designated tasks being called with the dispatcher #1914 \ncreate a method you want called in certain situations - \ne.g. on a route being called, an entry being stored, whatever.\n. Nice ! \nSo, let me get this, \nwhere is the interval column? is it automatically added by DBAL to the removed columns?\n. see it from the positive side too\nthe blame will now also point at me :-)\nhttps://github.com/bolt/bolt/blame/22b2afbed86f2a7744caef2946a5afe976ba1fb5/src/Controllers/Backend.php#L893\n. +1\n. One moment - last issues\n- When automatically depublished - the depublish date is emptied\n_fixed by #2156\n- Date fieldtype has a time input\n  (somehow opt.has_time doesn't seep thru from editcontent/fields/date.twig to _macro)\n_should be fixed with #2158\n. No, no, no\nyou don't change / remove user input.\nIt is also a means to see why and when it was depublished.\n. Don't merge - i'll rework from #2169\n. So, simple confirm() - and update to sweetalert() later - or no candy for us at all?\n. Yes if it's persistant -\ni just hate it like hating form validation in multiple distinguished steps -\n(1) field is required (enter it, submit)\n(2) new notice - field is not a valid email - sigh -\nIt should present all requirements (or in this case, all flash-notices) at once, and only once\n. using add() instead of set() does indeed mean that you have to keep track of the fact that you already have set the notice during this request, and not add it multiple times.\nThis approach is used in src/translation/translator.php ( set $app[translationyamlerror] once)\n. (p.s. (pre scriptum)) @rarila - i noticed that translationfile.php only searches for __() tokens, not searching for Trans::trans() (nor for app[translator]->trans() before that change).\nMaybe @bobdenotter can have a look too at the menu issue on mobile / tablet. Because, i was going to mention that with all the different platforms, good old suckerfish.js did the job for me in the end, on a different project. But when i fire up devtools there seems to be a bigger issue with the dashboard. Is it intentional that using emulation on DevTools shouldn't work?\n\n. If you paste this in the template (just before or after your snippet from above) what does it output?\n<p>\n    {{ htmllang() }} <br>\n    {{ record.date|localedatetime(\"%e. %B %Y\") }}\n</p>\n. Can you set that particular record to December temporarily,\ni get \"Dezember\" as expected\n. If you look at /src/TwigExtension.php, the localeDateTime() function only does a simple strftime().\nThe only thing i can think of, is that locale is somehow not supported,\nbut then it would output something like 2014-12-07 11:32:22 and not the month name at all.\nDoes your php commandline output de_DE, Dezember for the following?\nphp -r 'var_dump(setlocale(LC_ALL, \"de_DE\"));var_dump(strftime(\"%B\",1417906800));'\n. Wait, your output for locale shows you have not de_DE installed, only de_DE.UTF-8\nTry that in config.yml -> locale: de_DE.UTF-8\n. On the command line, does the following output bool(false) ?\nphp -r 'var_dump(setlocale(LC_ALL, \"de_DE\"));'\nand the following outputs string(de_DE.UTF-8) ?\nphp -r 'var_dump(setlocale(LC_ALL, \"de_DE.UTF-8\"));'\n. Ok, i think i have found the issue.\nWill discuss this with Rarila, our translation-engineer, and be back shortly.\n. Note to self: we need a way to circumvent locale as we only use it for date names. Firstly as shown by this thread there are many conditions on what's available on systems, secondly, especially on windows, setting locale is not thread/process safe. Maybe add some custom things to Bolt localisation:\nmonths : [ 'januari', ..., 'dezember' ]\ndays: [ 'montag', ..., 'freitag' ]\nstrtotime: [ 'n\u00e4chste woche' => '+7 days', '\u00fcbermorgen' => '+2 days', ... ]\n. I have a similar setup, but i don't use the htaccess to forward the request to the subdir.\ne.g. just browsing to example.com/bolt_dev/boltdir/ and bolt recognizes it is ran from a subdir.\nI tested your htaccess setup (have put it in '/bolt_dev/') to test forwarding requests \nfrom /bolt_dev/ to /bolt_dev/boltdir and it won't even load anything \nand only displays 404 - Critical Error.\nThis pops up a bonus-issue: string /bolt_dev begins with /bolt so backend is always assumed.\nI tested a bit, and for me the only reliable way was to subtract SCRIPT_NAME from PHP_SELF to extract the requested path(1). Even though this solves the getWhichEnd for me, the routing is still in the blue b\u00f6rked. var_dump on the request-object shows it too is confused about the path...\n(1) http://stackoverflow.com/questions/279966/php-self-vs-path-info-vs-script-name-vs-request-uri\n(edit. deleted the comment on REDIRECT_URL, because it only works when RewriteBase is defined)\n. Request object\n/local.dev/bolt_dev/subdir/index.php/foo/bar (no mod rewrite, works correct)\nphp\n  protected 'pathInfo' => string '/foo/bar' (length=8)\n  protected 'requestUri' => string '/bolt_dev/subdir/index.php/foo/bar' (length=34)\n  protected 'baseUrl' => string '/bolt_dev/subdir/index.php' (length=26)\n/local.dev/bolt_dev/foo/bar\nphp\n  protected 'pathInfo' => string '/bolt_dev/foo/bar' (length=17)\n  protected 'requestUri' => string '/bolt_dev/foo/bar' (length=17)\n  protected 'baseUrl' => string '' (length=0)\nNot the same, but somewhat related https://github.com/stackphp/url-map/issues/9\n. Instead of installing with composer - until 2.0 hits the streets - pull from github\n. Yes, hack the core and create a pull request. Best way in is, add an option to set minwidth: xx in contenttypes.yml - and you can pick those values up in /app/view/editcontent/fields (see for instance the required and pattern constrains on existing fields) and then add extra processing it in /app/view/js/src init.js or preferably, in helpers, where there already is a custom validation class. Currently there is only JS validation (advisory - e.g. non blocking at the server level), we hope to extend it to full backend validation in a later version.\n. side note - if that was to heavy a hint to commit - you could always add simple custom validation by adding some own javascript file to the backend, and do validation in javascript yourself.\n. Maybe i've been a bit enthusiastic about adding this to the core system, as Bolt is currently close to release and holding back on new features. This feature is probably best added as an extension, as it's not a quick addition on the html5 validation part. \nThe most easy way to implement it, at the moment, is to make an extension for Bolt to add the javascript to the edit page, and watch/bind to a particular image field. i've been contemplating a somewhat similar solution, but people will still just try and select images straight from their 12 megapixels camera memory card. I had the idea to make a fieldtype that uses a html canvas element to do the resizing client side before uploading.\n. It seems the template html is not escaped, however, the $vars are escaped !\nphp\n$this->addTwigFunction('foobar', 'foobar', array('is_safe' => array('html')));\n// function foobar() ...\n$vars = array('myname' => '<del>super</del>');\n$this->app['twig.loader.filesystem']->addPath(__DIR__ . '/views', 'bandsintown');\nreturn $this->app['render']->render('@bandsintown/bandsintown.twig', $vars);\n. This pull request can be closed if the issue goes onto the roadmap.\n\nnormalise user authentication to use app flow (and not use globals)\n. Can't reproduce, tested with a couple of locales. \nGawain, wrong bet (it's a string alright)\n\nBob, \n- have you (force) reloaded in browser (stale js file?)\n- what is your locale set to in config\n- in devtools, any errors? And what is returned from the ajax call?\n. ajax call returned \"2014-11-27\" according to Bopp,\nwhich is strange, as for me it returns the time also, \neven for a date only field \"2014-11-27 00:00:00\"\n. Confirmed, when i rtrim(datefield, '00:00:00') - which makes it return testdate: \"2014-12-05\"\nthen momentJS borks and i get the noticed behaviour.\n(edit: SQLite does say DATE column, but still stores and returns the time part,\nthat's why it works on my DEV setup)\n. The eight ball points to this regex \nhttps://github.com/bolt/bolt/blob/master/app/view/js/src/obj-datetime.js#L50\n(edit: where two question marks would make the time part optional http://regex101.com/r/yO5iG1/1 )\n1. Rarila is checking we should check, if after form/ajax/post submit, \n   if \"backend, content and storage\" can and do correctly handle the short date format for the content.\n2. check that the html hidden fields for time, moments and date and picker all keep working with this change\n3. verify that frontend can and does work with short date formats\n. yes, that is my proposal fix addressing - but all of JS, backend and frontend and storage should be able to handle it (the 3 points in my previous comment) \n_edit: moment(\"2014-12-05\") gets correctly parsed by momentJS - now it needs to seep through to the other parts.\n. ok - delegated to the night shift - see you when i get there too :-)\n. Well, that's not time, that's space-time\n/^(\\d{4}-\\d{2}-\\d{2})( \\d{2}:\\d{2}:\\d{2})?$/\n. I could have made it a one char commit @GawainLynch (which it theoretically is) :-)\n. Elsewhere text/javascript is suggested.\nvia: http://stackoverflow.com/questions/477816/what-is-the-correct-json-content-type\n(2008 !) http://www.entwicklungsgedanken.de/2008/06/06/problems-with-internet-explorer-and-applicationjson/\n. ??? default: 2002-12-31 gives 2002-12-30 23:00:00 \n_cough timezone bites UTC != Europe/Amsterdam\n_Edit_\nClearing out the the date with [x] - stores now() as selected date\n. Currently an emtpy string is stored (looking at the SQLite column).\n. rarila and i busy working on this.\nThere is another edge case - when setting default: 2002-12-31,\nit should only set the default for a new entry. When you clear out the value [ X ],\nit correctly (with the new changes) will store NULL\nHowever, when editing a older entry where the value was cleared out, it inserts the default again.\ne.g. this means you have to always manually clear out the field :(\n. thanks\n. Styling suggestion (point 4) because of custom dateFormat and awkward pre- and postfix positioning\n- see testdate vs testdate2\n\n\n. :+1: \n. +1 merge - you can set default to today or now.\n(without merge there is a bug that:\nopening the datepicker does fill in the date input field, but\nin fact does not SET the date, it is not saved)\n. Also should maybe allow multiple files as well\n. Kludge when you've changed a date type field to a datetime field.\nThis will fill in the time before pressing save.\nThese kind of things should actually go into backend\nwhen changing a fields type\n. bopp cough CommandRunner.php L399 \n'post-package-install' => \"Bolt\\\\Composer\\\\ExtensionInstaller::handle\"\nif it's a dispatched event, at least a Symfony\\Component\\EventDispatcher\\Event ?\n(sorry for barging in)\n. I know, just thought to give a friendly notice.\n. i think that was the way it was, before i changed it rarila. \nI was baffled that bolt would remove content that is \nexplicitly set by a user (the datedepublish value) and with \nthat it also removed the possibility for chief-editors to audit trail entries.\n. NOTE\ninserting content=null in the middle of the isAllowed() method parameter list will be problematic\n. A simple alternative would be to use an extension,\nlike (a modified version of) protectedpage() extension1. \nfor listings (list views) and pagination either solution would be \nmore or less problematic.\npseudo code\n{% if (viewers.roles) %}\n    {{ protectedpage( viewers.roles ) }}\n{%endif %}\n(1) https://gist.github.com/GDmac/0a22abba5327511e650c\n. yes\n. i think if you mention #2296 in the pull request title, \nit will auto-close this issue on mergeing it in :-)\n. no blame/fault just a remark - thanks for the pick up of the issue - much appreciated\n. @rossriley will have a last-minute pull-request with a BIG test-suite for Bolt. I'ld suggest merge the tests first (and possibly add tests for the methods/functions that this pull request modifies) and go from there.\n. :+1: \n. > X-rated extensions only on that url\nBecause, \"Apache is functioning normally\", wink, wink.\n. Maybe you can make a screencast,\nif you want it can be a screenplay too.\n. The current setup is quite ok with me (i seldom edit those from the backend)\nMaybe / how about rename the menu item itself to users & permissions\n. I get error for any preview from \"entries\".\npreview a \"showcase\" does seem to work.\n. By the way, i don't get a 404 but a whoops\nline 26 of theme/entry.twig - key 'responsive' is not in the 'video' array\n```\n{{ dump(record.video) }} \n  arr(9) \u2026\n  url str(0) => \n  width str(0) => \n  height str(0) => \n  ratio str(0) => \n  title str(0) => \n  authorname str(0) => \n  authorurl str(0) => \n  html str(0) => \n  thumbnail str(0) =>\n{% if record.video is not empty %}\n  \n    {{ record.video.responsive }}            <== ERROR\n{% endif %}\n//TEST\n{{ dump(record.video is empty) }}\n\u2026 bool => FALSE                                <== AHUM\n``\n. When i actually put a video url in (nb: entry or showcase), i get a console.log warning:The XSS Auditor refused to execute a script in 'http://local.dev/bolt/preview/entry' because its source code was found within the request. The auditor was enabled as the server sent neither an 'X-XSS-Protection' nor 'Content-Security-Policy' header.`\n. This is documented here:\nhttps://docs.bolt.cm/contenttypes-and-records#required-and-patterns\nWhen setting a pattern and the required option, you can add a custom error: message to show when a field does not validate. This can of course be in the language and wording of your own choice.\n. isn't upload controller itself only called via ajax ?\nIf so, then no redirect necessary \n. Well, i did a composer update and all kinds of new symfony stuff found its way into Bolt (e.g. started updating from 2.6.0 to 2.6.1) So who knows if symfony yaml might or might not update.\n_ps_ i find it lacking that symfony yaml doesn't support multi line items.\n. Not multi-line strings but multi-line definitions, mainly for readability.\nLike for instance CKeditor toolbars\nmyarray: [\n  String1, String2, String3,\n  String4, String5, String5, String7\n]\ndoesn't work with Symfony YAML \nhttp://stackoverflow.com/questions/23657086/yaml-multi-line-arrays\nWorse, wontfix http://trac.symfony-project.org/ticket/5902\n. It does show the need to process the (ajax) response for error handling.\nThe continuing walking dots/ants should stop after a timeout.\n. that's your own from 2012\nhttps://github.com/bolt/bolt/blame/master/src/Content.php#L128\n. The new DateTime() is not stored?\n. ",
    "abelafonte": "I'm interested in mult-site features, but not (specifically) for use with multiple languages.  We build lots of multi-site projects for property management companies and larger organizations that have several smaller entities within them.  \nWould something like this be feasible any time in the near future?\n. ",
    "jekill": "@dakanca, @bobdenotter \nI, too, had faced such a problem and a little looked into the code.\nCyrillic characters deteriorate in function makeSlug after the function call safeString.\nThat would correct this, you must have an extensible slug Builder, so you can use it for a variety of non-Latin languages.\nAnd now the function makeSlug is used not only to build a url, but in one case for escaping  values in sql query.\n. mysql version 5.6 \nthe error accured when was enabled STRICT_TRANS_TABLES in sql_mode\n. @richardhinkamp yes it fix #470 \ntnx \n. +1\n@ntomka \nI also try to expand  bolt's backend. \nNow I get a problem with twigpath, it hard-coded in lib.php\nMay be i will help you in the contribute?\n. @bobdenotter thanks \n. ",
    "carlosleopoldo": "Nice, I will start a spanish translation\n. I'm using Bolt 1.3 RC\nThis problem happens with many contenttypes, here is one of them:\n``` YAML\nFormatos\nformatos:\n    name: Formatos\n    singular_name: Formato\n    slug: formatos\n    singular_slug: formato\n    fields:\n        title: \n            type: text\n            class: large\n            label: \"Nombre\"\n        slug:\n            type: slug\n            uses: title\n        no_control:\n            type: text\n            label: \"No. de control\"\n        objetivo:\n            type: textarea\n            height: 100px\n            label: \"Objetivo\"\n        descripcion:\n            type: textarea\n            height: 150px\n            label: \"Descripci\u00f3n\"\n        requisitos:\n            type: html\n            height: 150px;\n            label: \"Requisitos\"\n    relations:\n        departamentos:\n            multiple: departamentos\n            order: nombre\n            label: \"Selecciona las departamentos responsables\"\n    record_template: formato.twig\n    listing_template: formatos.twig\n    listing_records: 20\n    sort: nombre DESC\n    recordsperpage: 20\n```\n. Thank you very much! Now it works fine.\n. I'm having the same problem\n\n. Now I'm using POST method\n. Ok, I will try with conditionals to handle this in 404 page error.\n. You are correct, but in Spanish using 'root' is not as common as the use of 'Super Admin' that's why I thought it would be good to translate it, but on the other hand, this really is going to be confusing. So I'm in favor of leaving 'Root' untranslated.\n. Ok, I'll wait until that functionality work for roles and permissions.\nTo answer your quick question: that's true, I'm testing bolt under http://localhost/bolt-test/ so if I use $this->path instead $this->url I got that a broken link pointing at http://localhost/bolt/menu-editor instead the expected http://localhost/bolt-test/bolt/menu-editor\n. @bobdenotter and @kuzvac I hate WordPress too, this is why I'm using Bolt now.\n@bobdenotter I understand that if we move the data to the right we can start making it messier, but in my opinion to have a Publish button is a Good interaction design, because endusers not always understand that the status of the entry is stored on the database table, they only know that there are actions like, save draft, publish entry, schedule publish, delete entry, etc.\nI think that this topic should be discussed deeply for Bolt 2.0\n. Looking the magento implementation, I like how Magento 2 does it, a save button with dropdown options for more actions.\n. I know, it's ugly to have very long URLs, I have encouraged users to make short urls, but sometimes it's hard to accomplish that.\nBut by now Bolt generates 66 characters slugs but when it's requested a slug with 66 characters Bolt cuts to 64 characters and serves the wrong entry. It's  a Bolt bug that need to be patched.\nI will make a pull request whit the fix, maybe with the configurable slug length\n. That's a good suggestion, I choose 128 because is the varchar length of the slug field in database\n. Ok, When I click on duplicate entry button, it takes me to the edit screen, but when I click on save y got this error:\n\n. I'm using modern versions of PHP and MySQL\n\n. ",
    "CaporalDead": "Yes, I tried many times to publish new contents and everytime I have to wait (don't know exactly how long) to see my new content on my index using setcontent. On the other side, it's currently displaying my new content on the /albums pages which lists all my entities.\n2013/3/20 bobdenotter notifications@github.com\n\nCurrently caching is not used for that. So, when using {% setcontent %}you should always get the current results from the DB. Unless something\nelse is wrong. Are you having a problem, seeing old stuff?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bobdenotter/bolt/issues/251#issuecomment-15161594\n.\n\n\nThomas SIEFFERT\nIng\u00e9nieur Informatique\n\u00ab Le peuple n'a jamais eu autant de pouvoir que sur Internet. \u00bb\nValentin Lacambre\n\u00ab Un grand pouvoir implique de grandes responsabilit\u00e9s. \u00bb\nBenjamin Parker, Spider Man\n____**\nAdoptez l'\u00e9co-attitude.\nN'imprimez ce mail que si c'est vraiment n\u00e9cessaire\n. You can see the case on my test plateform : https://morgane.devitek.fr/ & https://morgane.devitek.fr/albums \n. No cache system on the machine. I put the random number in the same twig file as my index and it's displaying the same number every time. I had to clear the cache manually with an admin account to make it works.\n. Yes it works like a charm\n. ",
    "toin0u": ":+1: \n. :+1: \n. Thanks again for Bolt.\nI use it so I'll contribute as much as I can :)\n. :+1: \n. I totaly understand sorry for that. I just reverted the file.\nBtw, what about to adopt the symfony2 CS ? http://symfony.com/doc/current/contributing/code/standards.html\nIf you're ok, I can work on it :)\n. @pvankouteren exactly :) so you agree right ? \n@bobdenotter WDYT ?\n. Sounds good :+1: \n. Good catch! I will try this asap and report it her.\n\n/antoine\nLe 25/04/2013 \u00e0 22.42, bobdenotter notifications@github.com a \u00e9crit :\nI think i've found it. On my machine, the command-line version of PHP uses\nSqlite 2, and the Apache version uses Sqlite 3. Hence, it works in the\nbrowser, not on the command line. Can you confirm this is the same for you?\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/bolt/bolt/issues/370#issuecomment-17037124\n.\n. php -v:\nPHP 5.4.13 (cli) (built: Apr  9 2013 08:50:04)\nCopyright (c) 1997-2013 The PHP Group\nZend Engine v2.4.0, Copyright (c) 1998-2013 Zend Technologies\n    with Xdebug v2.2.1, Copyright (c) 2002-2012, by Derick Rethans\nphp -i | grep -i sqlite:\nPDO drivers => mysql, odbc, sqlite\npdo_sqlite\nPDO Driver for SQLite 3.x => enabled\nSQLite Library => 3.7.7.1\nsqlite3\nSQLite3 support => enabled\nSQLite3 module version => 0.7\nSQLite Library => 3.7.7.1\nsqlite3.extension_dir => no value => no value\nI use Nginx + PHP-FPM 5.4.13, phpinfo:\n\nAll looks normal to me..\n. Fixed by https://github.com/bolt/bolt-docs/pull/31\n. Hi,\nI'm an NginX user and the configuration written here works well: http://docs.bolt.cm/setup\nI guess you use Apache and you're right we need to improve the .htaccess file I think: https://github.com/bolt/bolt/blob/master/.htaccess\nWith the  directive maybe ? http://httpd.apache.org/docs/2.0/mod/core.html#directory\n. Did you tried to add something like this in the .htaccess file ?\n<Directory /app>\n    Order Deny,Allow\n    Deny from All\n</Directory> \n<Directory /vendor>\n    Order Deny,Allow\n    Deny from All\n</Directory>\n. @richardhinkamp I think it's a good idea - let's do the same for app folder as well.\n. You're right.\n@bobdenotter What do you think ?\n. :+1: \n. I got the same exception when creating a new page / entry / kitchensink.\nI'm using php 5.3.5. Which version do you use ?\n. I use the master branch and I have tested with SQLite and MySQL. I got the same error.\n. Thanks @Luceos \nI made a PR to the doc https://github.com/bolt/bolt-docs/pull/31\n. ",
    "damarev": "You are right, its a bad practice to leave database password to blank, but I think its a quite common setup on developing environments. I was looking forward users that maybe dont have enough knowledge (or confidence) to change mysql users. Or maybe you dont have enough privileges on the environment to change it...\nOf course, you can alwalys simply comment this line.\nThank you for your feedback and ultra-fast response!\n. ",
    "adampatterson": "I actually use CKE 4.1 with Code mirror in http://tentaclecms.com and removed Code Mirror on its own as the CKE version worked fine with it. \n. ",
    "jkazimir": "Copied from #693 in case it's closed as a duplicate:\nI actually started poking at implementing the PSR-3 interface in the logger awhile back.  It seemed simple enough, but I got caught up on the custom types used to define how the actions were logged to the back end (and the weekend ended, and I lost track :/ ).  It seems it could be done a few ways.\n- Implement logger with an additional interface such as an ActionLoggerInterface\n- Have backend actions/levels passed in through the log context parameter of PSR-3\n- Have a separated action logger from the general logger\n- Refactor how actions are logged to the back end using the PSR log levels\nI'm thinking implementing an additional interface would be the way to go for ease of use / flexibility, but none of these strike me as bad.  Let me know if you have a preferred method here.\n. I've seen the same thing when using the Pretty URLs extension, as the form is generated from an internal request for the full URL, the post doesn't validate properly.\nIf you're using that extension, it's more an issue with it, than with Bolt.  I was able to get around the issue by removing it, then extending the Bolt Frontend controller for my URL needs, so to avoid the internal request.  It's a bit of a hack, though, as refactoring the extension may be the better way to go.\n. Sure.  But worth noting again, it's a hack:\nIn app/src/Bolt/Controllers/Frontend.php:\n```\n56c56,58\n<\n\n\n    $ctr->match('/{slug}', array($this, 'record'))\n        ->before(array($this, 'before'))\n    ;\n\n113c115\n<     function record(Silex\\Application $app, $contenttypeslug, $slug)\n\n\n\nfunction record(Silex\\Application $app, $contenttypeslug=null, $slug)\n\n114a117\n        $contenttypeslug = $contenttypeslug ?: 'page';\n``\n. Just took a look at theNiceUrlsextension.  It's assuming theGET` method in the sub-request.  I should have a pull request with a fix for this soon.\n. Seems like this was handled by #580.\n. Nice! :+1: \n. I actually started poking at implementing the PSR-3 interface in the logger awhile back.  It seemed simple enough, but I got caught up on the custom types used to define how the actions were logged to the back end (and the weekend ended, and I lost track :/ ).  It seems it could be done a few ways.\n- Implement logger with an additional interface such as an ActionLoggerInterface\n- Have backend actions/levels passed in through the log context parameter of PSR-3\n- Have a separated action logger from the general logger\n- Refactor how actions are logged to the back end using the PSR log levels\n\nI'm thinking implementing an additional interface would be the way to go for ease of use / flexibility, but none of these strike me as bad.  Let me know if you have a preferred method here.\n. Right, the issue I'm seeing is the log level inconsistency between the current implementation, and PSR-3/Monolog.  For example, in PSR-3, there no log level for user login, although it's currently tracked.  I'm assuming we'd like all errors to be tracked to the database viewable in the admin, although that would leave out DB errors.  Maybe separation is indeed best in this case, using monolog to do it's thing, writing to a file for basic code warnings/errors/etc depending on debug level, and have a new ActionEvent object, factored out from what the logger is currently doing for tracking user/cms events.\n. Ahh, true, didn't even think of the changelog.\nOk, so since logging should be combined app + action logging, what's your view on how the actions are defined to the logger?\n- Add custom methods on top of PSR-3 to satisfy what's already in place\n- Use PSR-3's context parameter to determine if there's a custom action\n- Modify how the log viewer manages log level (right now it'll trim/clear depending on int comparison, which would have to change if using only the PSR log levels, and it'd have to be worked out what levels custom actions use)\n. I can jump on this in the next day or so. AbstractBase seems a bit redundant, though. Any objections if I drop the Base in these cases?\n. @rarila Yea, since the content is used directly in twig, there's no great place for translation. I also tested with twig first, since it'll allow accessing $obj->getName(), as obj.name for example, but unfortunately it doesn't take into account the underscore conversion.  Adding the coding standards annotations to the pull now, good call on that.\n. Oh, I didn't know this had much more discussion than was in #1488...  Either way, it makes sense to at least use class_alias to allow for the usage of BaseExtension for the time being.  The naming never bothered me either (I actually prefer Base if anything), but the milestone of the ticket was for 2.0, so I figure sooner's better than later for a breaking change. :)\n. Uh oh.  Be very careful if merging this in.\n. There's a cli-server check in app/load.php where this is already going on, no?\n. Nope. The only doc references are either TableDiff, or FQCNs.\n. The :koala: approves of this change!  Just beware of the :droplet: :bear:!\n. It\u2026 very well may be!  I just went with what the ckeditor.js module had, assuming it was done for a reason. \u00af_(\u30c4)_/\u00af\n. Isn't string escaping fun! \ud83d\ude04 \n. ",
    "Largo": "@bobdenotter Actually 'draft' seems to be the new default. You are right. It is confusing, I guess it would be less confusing with an extra button to publish.\nI just wanted to give you a heads-up if this was unintentional.\n. I'm against changing the default behaviour of the current filter.\nit might be improved like this: current($contenttype) => same contenttype = true.\nI'm already pretty happy with Bolt Menus, but I'm also running in a similar issue often.\nOn almost every page, I've made, I had to put the menu and submenu in different places.\nThere's no way to get the current Item of the menu without a loop.\nIt feels like a bit like a hack.\nExample:\ntwig\n{% for parentItem in menu %}\n    {% if parentItem|current %}\n        {% if parentItem.submenu is defined %}\n                  {% for item in parentItem.submenu %}\n                  <ul>\n                       <li>{{ item.label }}</li>\n                  </ul> \n                 {% endfor %}\n              {% endif %}\n      {% endif %}\n{% endfor %}\nIs there a way to get the current Submenu? Thoughts on how you'd liked that solved?\nI think it would be great to have at least something like\nmenu.currentItem or something.\n. Thanks @rossriley for pointing me to that discussion.\nI worked in a startup, where we put some less important user configuration values together as json data directly into a mysql db (datatype varchar). It works and we didn't have any issues. I see that there are some downsides to using json for that and Bob called it hackish. \nHowever I'm in favour for that, because the alternative is to flood the database with many tables.\nThat will make everything more complex and lead to bigger problems.\nAlso I think this shouldn't get to complicated. There's no need for another drupal / typo3 etc.\nI think, that can be achived by using serialization and sticking to just key value arrays.\nOk, I'll try to come up with something. I'm not sure if it's feasible, because I haven't studied the internals properly. Don't count on it tough. :)\nHowever I just saw that and it makes me hopeful: \nhttps://docs.bolt.cm/v20/extensions/customfields\n. ",
    "axsy": "=)\n. Thanks! =)\n. Thanks a lot! Keep up the good work, thanks again! =)\n. Thank you for the response, unfortunately this did not help.. I decided to profile an application and found out an interesting thing. Debug bar is being built synchronously and this process is being performed in the finish middleware. The request handler executor of Silex (Silex\\Application::run()) looks like the following:\n``` php\n    public function run(Request $request = null)\n    {\n        if (null === $request) {\n            $request = Request::createFromGlobals();\n        }\n    $response = $this->handle($request);\n    $response->send();\n    $this->terminate($request, $response);\n}\n\n```\nResponse renderer (\\Symfony\\Component\\HttpFoundation\\Response::send()) is:\n``` php\npublic function send()\n    {\n        $this->sendHeaders();\n        $this->sendContent();\n    if (function_exists('fastcgi_finish_request')) {\n        fastcgi_finish_request();\n    } elseif ('cli' !== PHP_SAPI) {\n        // ob_get_level() never returns 0 on some Windows configurations, so if\n        // the level is the same two times in a row, the loop should be stopped.\n        $previous = null;\n        $obStatus = ob_get_status(1);\n        while (($level = ob_get_level()) > 0 && $level !== $previous) {\n            $previous = $level;\n            if ($obStatus[$level - 1] && isset($obStatus[$level - 1]['del']) && $obStatus[$level - 1]['del']) {\n                ob_end_flush();\n            }\n        }\n        flush();\n    }\n\n    return $this;\n}\n\n```\nSo, the reason I don't see the debug bur is that then somebody use php-fpm (like me) he won't see debug bar because of call of fastcgi_finish_request(). It seems like the intent of the finish middleware is some asynchronuos-like processes (sending email etc.) but non FastCGI users still will see something echoed.\nSo, seems like php-fpm means no debug bar :) \n. No problem ) Thank you for the response.\n. ",
    "brpaz": "I made exactly the same question when starting using bolt for the first time.\nIts true that using includes would be probably easier to understand for someone moving from wordpress for example, but using extends in clearly a step forward. Also twig is really simple to learn. I dont think the learning curve would be much bigger. And when that frontend developers see the power of extend and blocks they would never want to go back to includes again :)\n. Yes, I have found out later that the ceil function was already present in bolt. My mistake. I should have read the docs more carefully :)\nI agree namespacing  twig functions like this is less intuitive and its not very elegant. I havent a solution for that yet. Maybe we can think another way to at least minimize possible conflicts.\nAnyway, bolt is awsome.\n. ",
    "WedgeSama": "I'm agree to use inheritance in twig template. I made the same question then @brpaz and @thi3rry too.\nNow we just have to find the time to do so. :-) If it the only \"problem\", I will contrib to the project!\n. Yes, the \"honor\" system can work in a normal use of bolt, but like @tobias2k said, if somebody else can get an access with edit perms, honor system does not work anymore.\nI think I will take a look to the code and submit a pull request to set some rules on the file editor. Just to be sure, the list of files to be accessible is:\n- app/config\n- files\n- template\n- config.yml in extension folders\n. ",
    "rkmax": "@pvankouteren you can do work with small trick\nin the file vendor/silex/silex/src/Silex/EventListener/MiddlewareListener.php change the line 54 to\nphp\n$ret = @call_user_func($callback, $request, $this->app);\nthat ignore the warning and work fine. the warning is throwed because the method Bolt\\Controllers\\Frontend::before() is not static maybe the developers are refactoring things.\n. @pvankouteren i have a question:What is the purpose of the line ->before('Bolt\\Controllers\\Frontend::before')  in the NiceUrls/Extension::initialize if a comment this line everything work fine without the previous hack\n. check this #325 maybe is the same \n. my final solution was in file vendor/silex/silex/src/Silex/LazyUrlMatcher.php remove the line use Symfony\\Component\\Routing\\RequestContext; from top and change setContext to\nphp\npublic function setContext(\\Symfony\\Component\\Routing\\RequestContext $context)\n. installed by my self I have many projects with symfony 2.x and works excelent\nApache .zip downloaded from http://www.apachelounge.com/download/. \nPHP zip downloaded from http://windows.php.net/download\n. curiously now when i'm going to test i get same error but now with C:/theme/base-2013/* path.\n1. variable $_SERVER is present in my server\n2. I put {{ print(paths) }} in theme/base-2013/_header.twig\nphp\narr(17) \n[\n    \"hostname\"     => str(23) \"local.bolt.example\"\n    \"root\"         => str(3) \"C:/\"\n    \"rootpath\"     => str(44) \"C:\\Code\\local.bolt.example\"\n    \"theme\"        => str(19) \"C:/theme/base-2013/\"\n    \"themepath\"    => str(60) \"C:\\Code\\local.bolt.example\\theme\\base-2013\"\n    \"app\"          => str(7) \"C:/app/\"\n    \"apppath\"      => str(48) \"C:\\Code\\local.bolt.example\\app\"\n    \"bolt\"         => str(8) \"C:/bolt/\"\n    \"async\"        => str(9) \"C:/async/\"\n    \"files\"        => str(9) \"C:/files/\"\n    \"filespath\"    => str(50) \"C:\\Code\\local.bolt.example\\files\"\n    \"canonical\"    => str(18) \"local.bolt.example\"\n    \"current\"      => str(1) \"/\"\n    \"hosturl\"      => str(30) \"http://local.bolt.example\"\n    \"rooturl\"      => str(28) \"http://local.bolt.exampleC:/\" <-- here seems to be the problem\n    \"canonicalurl\" => str(26) \"http://local.bolt.example/\"\n    \"currenturl\"   => str(31) \"http://local.bolt.example/\"\n]\n$_SERVER\narray\n  'PATH' => string 'C:\\Perl64\\site\\bin;C:\\Perl64\\bin;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Python27\\;C:\\Python27\\Scripts;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Windows Kits\\8.0\\Windows Performance Toolkit\\;C:\\Program Files\\Microsoft SQL Server\\110\\Tools\\Binn\\;C:\\MinGW\\bin;C:\\Program Files\\Oracle\\VirtualBox;D:\\mysql-5.5.29-winx64\\bin;C:\\Program Files\\nodejs\\;D:\\mongodb\\bin;D:\\php5.3;D:\\mysql-5.6.10-winx64\\bin;D:\\Apache2\\bin;C'... (length=577)\n  'SYSTEMROOT' => string 'C:/Windows' (length=10)\n  'COMSPEC' => string 'C:\\Windows\\system32\\cmd.exe' (length=27)\n  'PATHEXT' => string '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.py;.pyw' (length=62)\n  'WINDIR' => string 'C:\\Windows' (length=10)\n  'PHPRC' => string 'd:/php5.3' (length=9)\n  'SYSTEMDRIVE' => string 'C:' (length=2)\n  'TEMP' => string 'C:/WINDOWS/Temp' (length=15)\n  'TMP' => string 'C:/WINDOWS/Temp' (length=15)\n  '_FCGI_SHUTDOWN_EVENT_' => string '684' (length=3)\n  'FCGI_ROLE' => string 'RESPONDER' (length=9)\n  'HTTP_HOST' => string 'local.bolt.example' (length=23)\n  'HTTP_CONNECTION' => string 'close' (length=5)\n  'HTTP_CACHE_CONTROL' => string 'no-cache' (length=8)\n  'HTTP_ACCEPT' => string 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8' (length=63)\n  'HTTP_PRAGMA' => string 'no-cache' (length=8)\n  'HTTP_USER_AGENT' => string 'Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.31 (KHTML, like Gecko) Chrome/26.0.1410.43 Safari/537.31' (length=108)\n  'HTTP_DNT' => string '1' (length=1)\n  'HTTP_ACCEPT_ENCODING' => string 'gzip,deflate,sdch' (length=17)\n  'HTTP_ACCEPT_LANGUAGE' => string 'es-419,es;q=0.8' (length=15)\n  'HTTP_ACCEPT_CHARSET' => string 'ISO-8859-1,utf-8;q=0.7,*;q=0.3' (length=30)\n  'HTTP_COOKIE' => string 'PHPSESSID=fth9b65r7udoq34nvhtrb49cu0; bolt_session=iru2b31oc29ka321gse7c75ol3' (length=77)\n  'SystemRoot' => string 'C:\\Windows' (length=10)\n  'SERVER_SIGNATURE' => string '' (length=0)\n  'SERVER_SOFTWARE' => string 'Apache/2.2.23 (Win32) mod_fcgid/2.3.7' (length=37)\n  'SERVER_NAME' => string 'local.bolt.example' (length=23)\n  'SERVER_ADDR' => string '127.0.0.1' (length=9)\n  'SERVER_PORT' => string '80' (length=2)\n  'REMOTE_ADDR' => string '127.0.0.1' (length=9)\n  'DOCUMENT_ROOT' => string 'C:/Code/local.bolt.example' (length=44)\n  'SERVER_ADMIN' => string 'admin@example.com' (length=17)\n  'SCRIPT_FILENAME' => string 'C:/Code/local.bolt.example/index.php' (length=54)\n  'REMOTE_PORT' => string '50640' (length=5)\n  'GATEWAY_INTERFACE' => string 'CGI/1.1' (length=7)\n  'SERVER_PROTOCOL' => string 'HTTP/1.1' (length=8)\n  'REQUEST_METHOD' => string 'GET' (length=3)\n  'QUERY_STRING' => string '' (length=0)\n  'REQUEST_URI' => string '/' (length=1)\n  'SCRIPT_NAME' => string 'C:/index.php' (length=12)\n  'PHP_SELF' => string 'C:/index.php' (length=12)\n  'REQUEST_TIME' => int 1364914794\n. looking where is set the paths.rootUrl i found in app/classes/lib.php in line 977\n//...\n$path_prefix = dirname($_SERVER['PHP_SELF']).\"/\";\nnow in my server this variable is C:/index.php i dont know why, but maybe  have to do with fast_cgi configuration. if i change the line app/classes/lib.php:977 to \n$path_prefix = \"/\";\nthe error disappears\n. look previous post for var_dump($_SERVER)\n. ### $_SERVER\narray\n  'PATH' => string 'C:\\Perl64\\site\\bin;C:\\Perl64\\bin;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Python27\\;C:\\Python27\\Scripts;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Windows Kits\\8.0\\Windows Performance Toolkit\\;C:\\Program Files\\Microsoft SQL Server\\110\\Tools\\Binn\\;C:\\MinGW\\bin;C:\\Program Files\\Oracle\\VirtualBox;D:\\mysql-5.5.29-winx64\\bin;C:\\Program Files\\nodejs\\;D:\\mongodb\\bin;D:\\php5.3;D:\\mysql-5.6.10-winx64\\bin;D:\\Apache2\\bin;C'... (length=577)\n  'SYSTEMROOT' => string 'C:/Windows' (length=10)\n  'COMSPEC' => string 'C:\\Windows\\system32\\cmd.exe' (length=27)\n  'PATHEXT' => string '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.py;.pyw' (length=62)\n  'WINDIR' => string 'C:\\Windows' (length=10)\n  'PHPRC' => string 'd:/php5.3' (length=9)\n  'SYSTEMDRIVE' => string 'C:' (length=2)\n  'TEMP' => string 'C:/WINDOWS/Temp' (length=15)\n  'TMP' => string 'C:/WINDOWS/Temp' (length=15)\n  '_FCGI_SHUTDOWN_EVENT_' => string '684' (length=3)\n  'FCGI_ROLE' => string 'RESPONDER' (length=9)\n  'HTTP_HOST' => string 'local.bolt.example' (length=23)\n  'HTTP_CONNECTION' => string 'close' (length=5)\n  'HTTP_CACHE_CONTROL' => string 'no-cache' (length=8)\n  'HTTP_ACCEPT' => string 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8' (length=63)\n  'HTTP_PRAGMA' => string 'no-cache' (length=8)\n  'HTTP_USER_AGENT' => string 'Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.31 (KHTML, like Gecko) Chrome/26.0.1410.43 Safari/537.31' (length=108)\n  'HTTP_DNT' => string '1' (length=1)\n  'HTTP_ACCEPT_ENCODING' => string 'gzip,deflate,sdch' (length=17)\n  'HTTP_ACCEPT_LANGUAGE' => string 'es-419,es;q=0.8' (length=15)\n  'HTTP_ACCEPT_CHARSET' => string 'ISO-8859-1,utf-8;q=0.7,*;q=0.3' (length=30)\n  'HTTP_COOKIE' => string 'PHPSESSID=fth9b65r7udoq34nvhtrb49cu0; bolt_session=iru2b31oc29ka321gse7c75ol3' (length=77)\n  'SystemRoot' => string 'C:\\Windows' (length=10)\n  'SERVER_SIGNATURE' => string '' (length=0)\n  'SERVER_SOFTWARE' => string 'Apache/2.2.23 (Win32) mod_fcgid/2.3.7' (length=37)\n  'SERVER_NAME' => string 'local.bolt.example' (length=23)\n  'SERVER_ADDR' => string '127.0.0.1' (length=9)\n  'SERVER_PORT' => string '80' (length=2)\n  'REMOTE_ADDR' => string '127.0.0.1' (length=9)\n  'DOCUMENT_ROOT' => string 'C:/Code/local.bolt.example' (length=44)\n  'SERVER_ADMIN' => string 'admin@example.com' (length=17)\n  'SCRIPT_FILENAME' => string 'C:/Code/local.bolt.example/index.php' (length=54)\n  'REMOTE_PORT' => string '50640' (length=5)\n  'GATEWAY_INTERFACE' => string 'CGI/1.1' (length=7)\n  'SERVER_PROTOCOL' => string 'HTTP/1.1' (length=8)\n  'REQUEST_METHOD' => string 'GET' (length=3)\n  'QUERY_STRING' => string '' (length=0)\n  'REQUEST_URI' => string '/' (length=1)\n  'SCRIPT_NAME' => string 'C:/index.php' (length=12)\n  'PHP_SELF' => string 'C:/index.php' (length=12)\n  'REQUEST_TIME' => int 1364914794\n. I think than line app/classes/lib.php:977 does is determine if bolt is installed on the host root or any other folder.\nphp\n$path_prefix = dirname($_SERVER['PHP_SELF']) .\"/\";\nSo I applied this little hack\nphp\n$path_prefix = dirname(ltrim($_SERVER['PHP_SELF'], 'C:')) .\"/\";\nObviously this needs more work, and I'll have to determine exactly what is in my php and apache configutacion that makes this behavior\n. works with this\nphp\n$path_prefix = preg_replace(\"/^[A-Za-z]:/i\", \"\", $path_prefix);\n. Thank you very much to you for helping me with this fix, I found Bolt very interesting. Almost but almost write a basic CMS for a client but now with bolt will save lots of work. with bolt I feel quite comfortable because it is made with components that I know (Symfony)\n. if i've changed in app/config/config.yml \nyaml\nhomepage: page/1\nto \nyaml\nhomepage: ~\nthis \"fix\" the problem but i get \"(untitle) | sitename\" in the title bar\n. if i change the homepage logic \nBolt/Controllers/Frontend.php\n``` php\nfunction homepage(Silex\\Application $app)\n{\n    if (!empty($app['config']['general']['homepage_template'])) {\n        $template = $app['config']['general']['homepage_template'];\n        $content = $app['storage']->getContent($app['config']['general']['homepage']);\n    if (is_array($content)) {\n        $first = current($content);\n        $twigvars = array(\n            'records' => $content,\n            $first->contenttype['slug'] => $content\n        );\n    } else if (!$content) {\n        $twigvars = array();\n    } else {\n        $twigvars = array(\n            'record' => $content,\n            $content->contenttype['singular_slug'] => $content\n        );\n    }\n\n//...\n```\nworks fine even without content and with the default homepage: page/1\n. the master i think that the last commit fetched was d8365563a847178b5622f6edd57e239e4ca4c978\n. @bobdenotter that was the problem, the filename in sort property\n. i found that the problem was the 'tag' needs to be 'tags'\n. @bobdenotter  thank you very much\n. @bobdenotter  tag variable is not empty\n. I solved changing the Bolt\\Storage::logUpdate signature to \nphp\nprivate function logUpdate($contenttype, $contentid, $newContent, $oldContent = \"\")\nbut need a real fix, i think here need a previous query for get the old content to change (that's what I think)\n. @tonicospinelli it is even better. yeah i'm lazy :+1: \n. ",
    "claborier": "Hi ! Got the problem too. Any advice to solve it ? \n. Yes, thank you, it works for me too ! Tricky but I can go on :)\n. ",
    "legadulab": "Got the same and fix works ! Thanks a lot !\n. ",
    "igorw": "That's not a real fix. Please post the full error message and stack trace.\n. ",
    "dayofr": "Yes it's on a localhost setup.\nI try to upload an image from http://bolt.fr.dev/bolt/editcontent/entries/\nWhen I use the web console I can see the following call : [15:28:35,018] POST http://bolt.fr.dev/app/classes/upload/ [HTTP/1.1 404 Not Found 96ms]\nAnd when I call directly the web address I have the following output:\nBolt - Fatal error.\nClass: Symfony\\Component\\HttpKernel\\Exception\\NotFoundHttpException\nMessage: The page could not be found, and there is no 'notfound' set in 'config.yml'. Sorry about that.\nCode: 0\nSymfony\\Component\\EventDispatcher\\EventDispatcher->doDispatch()\n[root]/vendor/symfony/event-dispatcher/Symfony/Component/EventDispatcher/EventDispatcher.php, line 53\nSymfony\\Component\\EventDispatcher\\EventDispatcher->dispatch()\n[root]/vendor/symfony/http-kernel/Symfony/Component/HttpKernel/HttpKernel.php, line 110\nSymfony\\Component\\HttpKernel\\HttpKernel->handleRaw()\n[root]/vendor/symfony/http-kernel/Symfony/Component/HttpKernel/HttpKernel.php, line 73\nSymfony\\Component\\HttpKernel\\HttpKernel->handle()\n[root]/vendor/silex/silex/src/Silex/Application.php, line 504\nSilex\\Application->handle()\n[root]/vendor/silex/silex/src/Silex/Application.php, line 481\nSilex\\Application->run()\n[root]/index.php, line 10\narr(0)\nIs this the correct url app/classes/upload/?\n. Ok I found what was the cause of this error. In my .htaccess file I use the config: FallbackResource /index.php\nWhen I revert back to the original content and uncomment RewriteBase / everyting works fine.\nSorry for the false issue.\n. Hi,\nI guess you use bolt 1.0.x? I create this functionality and it will be available in bolt 1.1 see https://github.com/bolt/bolt/pull/389\n. ",
    "jmontoyaa": "@bobdenotter I did that too. \n. ",
    "EzeRangel": "Well I did something basic. Based on the SwiftMailer library http://swiftmailer.org/docs/sending.html I just added some lines in the extension.php.\n// Select server configuration options\n$serverconfig = $this->config['server'];\n//Check for server configuration and change it if proceed\n$transport = \\Swift_SmtpTransport::newInstance()\n     ->setHost($serverconfig['host'])\n     ->setPort($serverconfig['port'])\n     ->setEncryption($serverconfig['encryption'])\n     ->setUsername($serverconfig['username'])\n     ->setPassword($serverconfig['password']);\n//Create the Mailer using the created Transport\n$mailer = \\Swift_Mailer::newInstance($transport);\nAnd then we need to use the Mailer we created for send the mail\n[...]\n$res = $mailer->send($message);\nconfig.yml like this, more or less\n// Server configuration\nserver:\n  port: 25\n  encryption: \n  auth_mode: \n  host: localhost\n  username: \n  password:\nPD: How can I style the code?\n. @pongstr The code I posted before worked for me :)\n. Hello.\nThe data IS IN the proper database table, the table character encoding is utf-8. I did not copy/paste the information into de editor, I wrote the data as it has to be shown.\n. The problem seemed to be in the server, I changed to another server and now the information is shown correctly.\n. Thanks for the answer, I think you can close this :)\n. Nice!\nThanks for the advice!\n. ",
    "pongstr": "any updates on this one?\n. @Chekelin is there any chance I can check out how you did it?\n. :+1: \n. thanks @pvankouteren \n. ",
    "benjaminb-": "Yes i'm an Apache user :)\nI'm the only one to have this problem ?\n. Not working in .htaccess file.\nI put it on the httpd.conf and now it's ok. With a 404 redirection instead of a 403 .. :)\n<Directory \"C:/wamp/www/bolt/app\">\n    Order Deny,Allow\n    Deny from All\n</Directory>\nRedirectMatch 404 ^/app(/?|/.*)$\n<Directory \"C:/wamp/www/bolt/vendor\">\n    Order Deny,Allow\n    Deny from All\n</Directory> \nRedirectMatch 404 ^/vendor(/?|/.*)$\nThank for your help\n. Hmm it's not ok lol :)\nNow all files like  /app/view/js/bolt.js  are not availables.. !\n. Are you sure about non-vulnerabilty in PHP files ?\n. Hey guys it's not working cause the css, js files in the ADMIN are called from app/ folder !!!\n. Hello thank you for your answer :)\nYesterday morning it was ok ! I didn't edit enything but after i pulled latest bolt from github this problem appeared.\n. http://benjaminb.fr/labs/traiteur/thumbs/310x135crop/2013-04/bloc_2%20%281%29.png\nmust be rewrited like this for working :  http://benjaminb.fr/labs/traiteur/files/2013-04/bloc_2%20%281%29.png\nit seems this rule not working since i updated bolt ? It's strange !\nRewriteRule ^thumbs/(.*)?$ ./app/classes/timthumb.php [L]\n. It's working when removing\nRewriteRule ^vendor/(.*)?$ / [R=301,L]\n    RewriteCond %{REQUEST_URI} !^/app/view/\n    RewriteCond %{REQUEST_URI} !^/app/classes/\n    RewriteRule ^app/(.*)?$ / [R=301,L]\n. This is my .htacess file i commented theses lines\n```\nSet the default handler.\nDirectoryIndex index.php index.html index.htm\nPrevent directory listing\nOptions -Indexes\n\n    Order deny,allow\n    Deny from all\n\n\n  RewriteEngine on\nRewriteRule cache/ - [F]\n# Some servers require the RewriteBase to be set. If so, set to the correct folder.\n  # RewriteBase /\n# RewriteRule ^vendor/(.*)?$ / [R=301,L]\n  #RewriteCond %{REQUEST_URI} !^/app/view/\n # RewriteCond %{REQUEST_URI} !^/app/classes/\nRewriteRule ^app/(.*)?$ / [R=301,L]\nRewriteRule ^thumbs/(.*)?$ ./app/classes/timthumb.php [L]\nRewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteCond %{REQUEST_URI} !=/favicon.ico\n  RewriteRule ^ ./index.php [L]\n\n```\n. from this : \nhttps://github.com/bolt/bolt/commit/f276533fd8d58cc638d853fac8ebe0a1f8701f7b\n. ",
    "ddebernardy": "https://github.com/ddebernardy/bolt/commit/592d574765c78d0f43807fdd6f195e0b96796c3a\nhttps://github.com/ddebernardy/bolt/commit/8b918479e343d5f994e2f682dc69fbc23cf20b3a\n. I'm quite aware, and I could fix that on my laptop, but that wouldn't help a customer who uses a poorly configured shared host and who runs into the same issue.\n. There is, actually. Some php apps check who the file's owner and group are, vs those of the cache folder, and chmod g+w or go+w accordingly. I'm pretty certain WP does this, for instance:\nfunction group($file) {\n    $gid = @filegroup($file);\n    if ( ! $gid )\n        return false;\n    if ( ! function_exists('posix_getgrgid') )\n        return $gid;\n    $grouparray = posix_getgrgid($gid);\n    return $grouparray['name'];\n}\nI'm guessing this ought to be fixed upstream in Symfony or Silex, though.\n. Tbh, I've no idea. This was the first time I used Composer, so I figured it might be worth mentioning in the event you kept the composer file pointing to the latest stable of upstream packages. Feel very free to close the ticket if not...\n. I traced it to this: https://github.com/ddebernardy/bolt/commit/ed303dfd414661e25229dea201c142a6e07d74aa\n. But then it's still complaining thereafter, due to your schema... Will open a separate ticket.\n. @richardhinkamp -- I'm curious to know how you got it to work at all... I didn't get past the schema creation errors when I tried it. I admittedly didn't try very hard, by I'd give it a second look if it's straightforward enough.\n. ",
    "tystr": "+1 777 permissions are terrible for production\n. ",
    "tyz910": "got this error on 1.1.4\n. ",
    "gitnik": "I still get this error on 1.4.4\n. and also a bunch of other postgres related errors\n. ",
    "hellomedia": "I have the exact same issue.\nOne precision tho.\nWhen I explicitely add the slug\nphotogallery:\n    slug: photo_galleries\n    singular_slug: photo_gallery\n    name: Photo Galleries\n    singular_name: Photo Gallery\nthe table creation works fine\nModifications made to the database:\nCreated table bolt_photo_galleries.\nAdded column title to table bolt_photo_galleries.\nAdded column sortorder to table bolt_photo_galleries.\nAdded column images to table bolt_photo_galleries.\nYour database is now up to date.\nIt is when reading from the table that the error occurs:\nAn exception occurred while executing 'SELECT id FROM bolt_photo-galleries WHERE status = 'timed' and datepublish < :now': SQLSTATE[HY000]: General error: 1 near \"-\": syntax error\nNotice it is looking for the bolt_photo-galleries table which does not exist. bolt_photo_galleries does.\n. I have looked at Storage.php file where the errors point to, but it's kind of hard to track things in there.\nApparently, the erroneous slug is written in the contentype in the db, as this seems to suggest:\n```\nBolt\\Storage->publishTimedRecords()\n[root]/app/src/Bolt/Storage.php, line 1144\narr(1) \n[\n    0 => arr(10) \n        [\n            \"slug\"              => str(15) \"photo-galleries\"\n            \"singular_slug\"     => str(13) \"photo-gallery\"\n            \"name\"              => str(15) \"Photo Galleries\"\n            \"singular_name\"     => str(13) \"Photo Gallery\"\n```\n. I don't understand the inner workings of bolt enough to have a strong opinion on that, but your suggestion is probably the quickest fix.\nWould be nice to have the dev's opinion on this.\n. Thanks !\n. ",
    "luceos": "PHP 5.4.9-4ubuntu2\nI have it on all create pages.\n. the latest master from github: about says \"Bolt 1.1 - beta 2\"\n. Have been debugging the code. Seems that Async.php:206 get's an empty Request variable. The contenttypeslug is not provided for.\n. Seems like nginx is not passing the GET's to the script.\n. I'll just post my nginx config, because the one in the docs blocks all requests to app etc. This issue got fixed by adding $args to index.php:\nlocation / {\n                try_files $uri $uri/ /index.php?$args;\n        }\n```\nserver {\n        listen   80; ## listen for ipv4; this line is default and implied\n    server_name .domain.com;\n\n    #listen   [::]:80 ipv6only=on; ## listen for ipv6\n    if ( $host ~* ^www\\.(.*) ) {\n            set $host_nowww $1;\n            rewrite ^(.*)$ $scheme://$host_nowww$1 permanent;\n    }\n\n    root /domains/domain.com/public_html;\n    index index.php;\n\n    access_log              /domains/domain.com/logs/access.log;\n    error_log               /domains/domain.com/logs/error.log notice;\n\n    # deny iframe calls from other domains\n    add_header X-Frame-Options SAMEORIGIN;\n\n    location ~ ^favicon\\.ico$ {\n            access_log off;\n            log_not_found off;\n            expires 30d;\n    }\n    location ~ \\.(eot|woff|ttf|otf)$ {\n            expires 1y;\n            log_not_found off;\n            access_log off;\n            add_header Cache-Control \"public\";\n            add_header Access-Control-Allow-Origin *;\n    }\n    location ~* /thumbs/(.*)$ {\n            try_files $uri $uri/ /app/classes/timthumb.php$query_string;\n    }\n    location ~ /\\.ht {\n            deny all;\n    }\n\n    location /app {\n            if ( $request_uri !~ ^/app/(view|classes) ) {\n                    return 404;\n            }\n    }\n\n    location ~ /vendor {\n            deny all;\n    }\n\n    location ~ \\.db$ {\n            deny all;\n    }\n\n    location / {\n            try_files $uri $uri/ /index.php?$args;\n    }\n\n    # pass the PHP scripts to FastCGI server from upstream phpfcgi\n    location ~ \\.php$ {\n\n            fastcgi_pass 127.0.0.1:9001;\n            include fastcgi_params;\n\n            fastcgi_param  SCRIPT_FILENAME $document_root$fastcgi_script_name;\n            fastcgi_param  HTTPS off;\n    }\n\n}\n``\n. Yes, take a look inapp/cache`\n. ",
    "dindinet": "No access to vhost. Just cloud hosting. I want to tell bolt a different\nlocation to store files uploaded by users.\nThat location is outside the normal path to the bolt app.\nthe path to the bolt app is*                app-root/runtime/repo/php\nthe path to the persistent storage is * app-root/data/\n\n\nI need to tell bolt to store and retrieve images to/from app-root/data/\nI can see in bootstrap.php\n        define('BOLT_COMPOSER_INSTALLED', false);\n        define('BOLT_PROJECT_ROOT_DIR', dirname(DIR));\n        define('BOLT_WEB_DIR', BOLT_PROJECT_ROOT_DIR);\n        define('BOLT_CONFIG_DIR', DIR.'/config');\nso should it be possible to  define a BOLT_FILES_DIR variable?\nIf I defined BOLT_FILES_DIR where else in the app would I need to make reference to it?\nI can see that perhaps app/classes/upload/index.php is one probable location.\nWhere else would I need to tell bolt to use my new BOLT_FILES_DIR  var?\nDave L\n*\nOn 3 May 2013 13:26, Patrick van Kouteren - notifications@github.com \ngithub.dklongley.b3f47768d1.notifications#github.com@ob.0sg.net wrote:\n\nDo you have access to a vhost on OpenShift? Otherwise you could put it in\nthere.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/403#issuecomment-17391543\n.\n\n\n\u00b8 ...      _____\n\u00b7\u00b4\u00ba o\u00b7, /__/ _/\\_ ____/\\\n```)\u00a8(\u00b4\u00b4\u00b4 | | | | |  | | || |l\u00b1\u00b1\u00b1\u00b1|\n \u00b0\u00b4 \u00b8,.-\u00b7~\u00b7~\u00b7-.,\u00b8\u00b0\u00b7-. :\u00ba\u00b0 \u00b7~\u00b7~\u00b7-..,\u00b8\nProperty South Costa Blanca\nhttp://www.MaxGoldHouse.com\n. That's good to hear that you are having cloud thoughts. take a look at these two git repos https://github.com/openshift/drupal-quickstart and https://github.com/openshift/wordpress-example which show how the standard installs have been changed to work so that what needs to be persisted is persisted. Of particular interest are the bash files in the .openshift/action_hooks directory. I am not a php guru and could not identify the points in the bolt source I needed to change to use an environment variable to point to the persistent data folder. I did manage to upload to 'persistent data' folder from bolt but then could not get bolt to display the uploaded images. Making a bolt repo available for use on openshift would help spread your good work to a wider audience also.\n. ",
    "LeonB": "For example: I change screen.css to remove a border: 1px solid red because the client was annoyed by it. So I change the file and upload it. But because of the cache headers the css file is cached at the client's side and they \"get\" the old file. I have to tell them: hit Ctrl+refresh to see the new style. The same goes for image that get changed. \nAnother example. Because of koninginnedag I had to change some logo's on a client's page and change them back the next day. I couldn't just replace the image files with another one because then visitors that already had visited the site would have seen the old logos. I had to change the filename in the html to work arround this.\nIt would be nice if bolt could assist in this by doing same cache busting when a file changes. By adding ?=md5 or, maybe even better, by doing something like filename.md5.ext.\nIt's by no means high priority but if there's going to be worked on an asset manager it would be nice if cache busting could be a part of it.\n. ",
    "sidneywidmer": "Hahah, I tought i'd better hurry :)\n. ",
    "bero4x4": "If i resubmit the form just go to the same URL ( bolt/users/edit/#) \nI did the setup my self via curl, putted the right premission to the folders,  configurated the mysql database, added php_value magic_quotes_gpc off tot the .htaccess file\nyou can do a test if you like at www2.belsshoeservice.nl\n. yes i did setup the server myself. On onther project on the server, there are no cookie problems..\n. yes at info.php..\n. i made the pages (page1.php and page2.php) both works fine. The session is saved and passed to the next page.\n. done :)\n. ",
    "pubconcept": "Hi,\nI have nearly the same problem\nWhen login to admin i have this error\nini_set() [function.ini-set]: open_basedir restriction in effect. File(/var/lib/php5) is not within the allowed path(s): (/home/httpd/dutyfree/:/usr/local/dbAdminScripts/) ....\nafter fixing this by HTACCESS with setting the session directory to a specific path in the frontend i can't save session anymore\nAny help please ?\n. When session admin is saved \nWe are creating a shopping cart with PHP in front office with session this one doesn't save data anymore \nand the admin is working fine wen fixing session_path in HTACCESS \nIs there a solution ?\n. When I remove this line from HTACCESS \nphp_value session.save_path '/home/httpd/dutyfree/html/v2/session/'\nI Get this Error \nini_set() [function.ini-set]: open_basedir restriction in effect. File(/var/lib/php5) is not within the allowed path(s): (/home/httpd/dutyfree/:/usr/local/dbAdminScripts/)\nAnd When I ADD it my session in the shopping Cart doesn't save data anymore...\n. \nwhat is the solution of this problem in dashboard ?thnx\n. Hi,\nOk I'll try to be precise as possible as i can\nThis is the link to view the phpinfo()\nhttp://www.dutyfree.com.tn/php.php\nnotice the value of this variables :\nsession.save_path = /home/httpd/dutyfree/html/v2/tmp/\nopen_basedir = /home/httpd/dutyfree/:/usr/local/dbAdminScripts/:/home/httpd/dutyfree/html/v2/tmp/\nIn front office we are creating an inflight magazine that people can book articles to receive during their flight travel and can pay directly. We are creating a php Cart.\nAfter the correction done by the webhosting service, now we can save the content of the cart in session but we have this error in the admin interface after a while (may be 3 seconds) this message is printed in the error exception Frame\nis_file() [function.is-file]: open_basedir restriction in effect. File(Unknown) is not within the allowed path(s): (/home/httpd/dutyfree/:/usr/local/dbAdminScripts/:/home/httpd/dutyfree/html/v2/tmp/)\nCan you help please ? Is it more clear ?\nI can give the the code PHP of cart if you want by mail or FTP if you need it also\n. \n. ",
    "pivotx": "I'm having a really hard time understanding what's wrong. You do things\nwith session.save_path in .htaccess, but you don't post the entire message\n(it really ought to contain a filename and line number where the error\noccurs)\nHave you asked your webhoster / sysops person about this? It really should\nNOT be necessary to manually fiddle with the session.save_path at all. You\nshould ask them why this isn't working.\nIf they can't help you, please try to be as extensive as possible with the\ndescription of your problem. Saying \"I've tried this and that\" is not very\nhelpful, if you haven't described the actual problem that made you try\nthose things. Screenshots, description of the server you're using. Link to \na phpinfo.php output. Things like that.\n. Not really a solution, buy some googling returned this: (in dutch)\nhttp://helpdesk.ikdoeict.be/index.php?/Knowledgebase/Article/View/38/6/solution-silexsymfony-an-exception-has-been-thrown-during-the-rendering-of-a-template-error-94-validation-failed--no-dtd-found--in-na---line-2-column-21-warning-1549-failed-to-load-external-entity-loaderschemadicxliff-corexmlxsd\nI'll have to check if it's related, because i have no idea yet.. I can't\nreproduce it for now, at least..\nOn Sat, Nov 23, 2013 at 4:57 PM, braaam notifications@github.com wrote:\n\nTried to get Bolt running with HEAD. Everything went well untill going\ninto the /bolt environment and refreshing the main page. It starts\nthrowing following error. The only way to recover is restarting PHP. First\nI thought it had something to do with my local configuration (NGINX/PHP-FPM\non OSX), but it's happening on a production Apache2/PHP setup as well.\nThis is at 64f36a0https://github.com/bolt/bolt/commit/64f36a0965521b3ea85d5ace34718eb631a7249b\nSymfony \\ Component \\ Translation \\ Exception \\ InvalidResourceException\n[ERROR 94] Validation failed: no DTD found ! (in n/a - line 2, column 21)\n[WARNING 1549] failed to load external entity\n\"file:////www/bolt/vendor/symfony/translation/Symfony/Component/Translation/Loader/schema/dic/xliff-core/xml.xsd\"\n(in n/a - line 0, column 0) [WARNING 3084] Element '{\nhttp://www.w3.org/2001/XMLSchema}import': Failed to locate a schema at\nlocation\n'file:////www/bolt/vendor/symfony/translation/Symfony/Component/Translation/Loader/schema/dic/xliff-core/xml.xsd'.\nSkipping the import. (in in_memory_buffer - line 33, column 0) [ERROR 3004]\nattribute use (unknown), attribute 'ref': The QName value '{\nhttp://www.w3.org/XML/1998/namespace}lang' does not resolve to a(n)\nattribute declaration. (in in_memory_buffer - line 1661, column 0) [ERROR\n3004] attribute use (unknown), attribute 'ref': The QName value '{\nhttp://www.w3.org/XML/1998/namespace}spacehttp://www.w3.org/XML/1998/namespace%20%7Dspace'\ndoes not resolve to a(n) attribute declaration. (in in_memory_buffer - line\n1676, column 0) [ERROR 3004] attribute use (unknown), attribute 'ref': The\nQName value '{http://www.w3.org/XML/1998/namespace}lang' does not resolve\nto a(n) attribute declaration. (in in_memory_buffer - line 1770, column 0)\n[ERROR 3004] attribute use (unknown), attribute 'ref': The QName value '{\nhttp://www.w3.org/XML/1998/namespace}space' does not resolve to a(n)\nattribute declaration. (in in_memory_buffer - line 1879, column 0) [ERROR\n3004] attribute use (unknown), attribute 'ref': The QName value '{\nhttp://www.w3.org/XML/1998/namespace}space' does not resolve to a(n)\nattribute declaration. (in in_memory_buffer - line 1925, column 0) [ERROR\n3004] attribute use (unknown), attribu te 'ref' : The QName value '{\nhttp://www.w3.org/XML/1998/namespace}lang' does not resolve to a(n)\nattribute declaration. (in in_memory_buffer - line 1964, column 0) [ERROR\n3004] attribute use (unknown), attribute 'ref': The QName value '{\nhttp://www.w3.org/XML/1998/namespace}lang' does not resolve to a(n)\nattribute declaration. (in in_memory_buffer - line 1987, column 0) [ERROR\n3004] attribute use (unknown), attribute 'ref': The QName value '{\nhttp://www.w3.org/XML/1998/namespace}lang' does not resolve to a(n)\nattribute declaration. (in in_memory_buffer - line 2013, column 0) [ERROR\n3004] attribute use (unknown), attribute 'ref': The QName value '{\nhttp://www.w3.org/XML/1998/namespace}lang' does not resolve to a(n)\nattribute declaration. (in in_memory_buffer - line 20 53, column 0) [ERROR\n3004] attribute use (unknown), attribute 'ref': The QName value '{\nhttp://www.w3.org/XML/1998/namespace}space' does not resolve to a(n)\nattribute declaration. (in in_memory_buffer - line 2056, column 0)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/716\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. I was thinking about doing this for the .yml editors, but also when editing\na \"normal\" record. I've heard from a lot of people that they press ctrl-s a\nlot to save a page, but then the browser shows a (useless) dialog to save\nthe page to disk. Now that we have the new 'save' and 'save & return' flow,\nit's hardly obtrusive. At least, that what I think. :-)\nOn Sun, Nov 24, 2013 at 11:41 PM, braaam notifications@github.com wrote:\n\nAre you sure you want to do this? it can be quite disruptive overriding\ndefault browser behaviour, especially while most of /bolt behaves more like\na normal, scrollable web page than a web-app.\nHowever, it would make sense when editing the YML from Bolt, since it's\nbehaving like an actual text-editor there. Or maybe that's what you were\naiming for anyway, in case you can ignore this comment :)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/717#issuecomment-29168523\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. @tobias2k How often do you press CTRL-S on those pages, with the intent of\nsaving the HTML to your local machine? I bet it's \"almost never\". As such,\nthis change would hardy affect you. In fact, if it weren't for this issue,\nyou porbably would never even know. ;-)\nOn Mon, Nov 25, 2013 at 9:33 AM, tobias2k notifications@github.com wrote:\n\nAs a user, I would hate that - Ctrl-S is a browser key binding, and I\nstrongly object against web applications hijacking those. If anything, I\nwould prefer to have this as a per-user setting (but AFAIK, we don't\nhave any existing infrastructure to support those yet).\nOn Mon, Nov 25, 2013 at 12:04:56AM -0800, Bob den Otter wrote:\n\nI was thinking about doing this for the .yml editors, but also when\nediting\na \"normal\" record. I've heard from a lot of people that they press\nctrl-s a\nlot to save a page, but then the browser shows a (useless) dialog to save\nthe page to disk. Now that we have the new 'save' and 'save & return'\nflow,\nit's hardly obtrusive. At least, that what I think. :-)\nOn Sun, Nov 24, 2013 at 11:41 PM, braaam notifications@github.com\nwrote:\n\nAre you sure you want to do this? it can be quite disruptive overriding\ndefault browser behaviour, especially while most of /bolt behaves more\nlike\na normal, scrollable web page than a web-app.\nHowever, it would make sense when editing the YML from Bolt, since it's\nbehaving like an actual text-editor there. Or maybe that's what you\nwere\naiming for anyway, in case you can ignore this comment :)\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/bolt/bolt/issues/717#issuecomment-29168523>\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/717#issuecomment-29183327\n\n\nTobias Dammers - tobias@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m donderdag van 9.00 tot 17.30\nVoor dringende vragen, mail naar support@twokings.nl\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/717#issuecomment-29184518\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. Ah, Somebody els had a problem with that too, the other day.. I'll dig up\nthe workaround for you!\nOn Sun, Dec 22, 2013 at 8:26 PM, Steven W\u00fcthrich\nnotifications@github.comwrote:\n\nWell actually something did pop up - assets can't be loaded when bolt runs\nin a subdir, e.g. bolt/dev/myBoltInstallation\nSeems like a general issue i might fix till tomorrow. If too much code is\ninvolved, it'll just be a patch for the extension :)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/pull/788#issuecomment-31093935\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. Hi, is it accessible from the outside? If so, I'd love to take a look to find out why it's doing those things. :-)\nVerstuurd vanaf mijn iPhone\n\nOp 3 jan. 2014 om 22:02 heeft fschaap notifications@github.com het volgende geschreven:\nYep, did all those things. I followed the installation instructions to a tee. Mod rewrite is enabled.\nIt's just a test server, I have installed some 6 blog/cms'ses side by side, one of them Wordpress. Everything runs fine, just not Bolt.\n\u2014\nReply to this email directly or view it on GitHub.\n. I'm not at all against an ORM. For me the most important part would be to\nkeep Bolt as straightforward to use as possible. If we can implement an ORM\nwhilst keeping our current .yml structure for contenttypes, that'd be\ngreat.\n\nPerhaps something as lightweight as Idiorm(\nhttp://j4mie.github.io/idiormandparis/) might be suited as well?\nOn Mon, Jan 6, 2014 at 10:23 PM, Marc J. Schmidt\nnotifications@github.comwrote:\n\nYou should really read all features of the other ORMs first before you\nstart argumenting in a contemptuous way against other ORMs. With that base\nit makes no sense to me to discuss this further now.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/817#issuecomment-31688413\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. No probs! :-)\nOn Tue, Jan 7, 2014 at 8:26 PM, Joey Gartin notifications@github.comwrote:\n\nThanks, sorry I did not see that in config, I certainly do not want to\nwaste your time.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/819#issuecomment-31770013\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. No problem! Glad I could help to sort it out! :-)\nOn Thu, Feb 20, 2014 at 2:14 PM, Maaike notifications@github.com wrote:\n\nClosed #923 https://github.com/bolt/bolt/issues/923.\n\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/923\n.\n\n\nBob den Otter - bob@twokings.nl - 070-3457628 - www.twokings.nl\nMaandag t/m vrijdag van 9.30 tot 18.00\nVoor dringende vragen, mail naar support@twokings.nl\n. ",
    "outrunthewolf": "Yah sure.\n\n# This file defines the contenttypes on the website. See the documentation for\n# details: http://docs.bolt.cm/content#defining-contenttypes\n# Entries can be used for things like 'news' or 'blogpostings'. They have a 'teaser',\n# which can be used for a short blurb on listing-pages, allowing visitors to\n# click-through to the rest of the entry. It also has fields for an image and an\n# optional video.\n# A relation is defined to the pages contenttype. This way you can refer to a page\n# from your news-item.\n# This contenttype defines 'categories' and 'tags' as taxonomies, allowing the\n# editor to use both to categorize a specifig entry.\n# The 'sort' is set to \"datepublish DESC\", which means that newer entries will\n# show above older entries.\nentries:\n    name: Entries\n    singular_name: Entry\n    fields:\n        title:\n            type: text\n            class: large\n        slug:\n            type: slug\n            uses: title\n        teaser:\n            type: html\n            height: 150px\n        body:\n            type: markdown\n            height: 300px\n    taxonomy: [ categories, tags ]\n    record_template: entry.twig\n    listing_template: listing.twig\n    listing_records: 10\n    sort: datepublish DESC\n    recordsperpage: 10\n# Pages can be used for the more 'static' pages on your site. Things like\n# 'about us', 'contact' or a 'disclaimer'. This content-type has a 'templateselect'\n# field, which allows you to override the record_template setting for an\n# individual page.\n# The taxonomy for this contenttype is defined as 'chapters', which is a so-called\n# \"grouping\" taxonomy. This way you can easily group sets of pages that logically\n# belong together. If your site has a 'services' section, in which you'd like to\n# list the different types of services a company provides, you can group these\n# together.\npages:\n    name: Pages\n    singular_name: Page\n    fields:\n        title:\n            type: text\n            class: large\n        slug:\n            type: slug\n            uses: title\n        image:\n            type: image\n        teaser:\n            type: html\n            height: 150px\n        body:\n            type: html\n            height: 300px\n        template:\n            type: templateselect\n            filter: '*.twig'\n    taxonomy: [ chapters ]\n    sort: title\n    recordsperpage: 100\n    show_on_dashboard: false\n# The 'Kitchensink' is not particularly useful in most cases, but it does a good\n# job of showcasing most of the available fieldtypes. Feel free to delete it, or\n# copy some fields to your own contenttypes.\n# Since no templates are defined for this contenttype, the default record_template,\n# listing_template, and related settings are used from config.yml\n#kitchensink:\n#    name: Kitchensinks\n#    singular_name: Kitchensink\n#    fields:\n#        title:\n#            type: text\n#            class: large\n#        slug:\n#            type: slug\n#            uses: [ selectfield, title ]\n#        video:\n#            type: video\n#        html:\n#            type: html\n#            height: 150px\n#        geolocation:\n#            type: geolocation\n#        image:\n#            type: image\n#        imagelist:\n#            type: imagelist\n#        file:\n#            type: file\n#        markdown:\n#            prefix: \"This short text comes before the actual field.\"\n#            type: markdown\n#            postfix: \"\"\n#        textarea:\n#            type: textarea\n#        template:\n#            type: templateselect\n#            filter: '*.twig'\n#        datetime:\n#            type: datetime\n#        date:\n#            type: date\n#        integerfield:\n#            type: integer\n#            index: true\n#        floatfield:\n#            type: float\n#        selectfield:\n#            type: select\n#            values: [ none, foo, bar ]\n#        multiselect:\n#            type: select\n#            values: [ A-tuin, Donatello, Rafael, Leonardo, Michelangelo, Koopa, Squirtle ]\n#            multiple: true\n#            postfix: \"Select your favourite turtle(s).\"\n#    relations:\n#        entries:\n#            multiple: false\n#            label: Choose an entry\n#            order: -id\n#        pages:\n#            multiple: true\n #           order: title\n ##           label: Select zero or more pages\n #   taxonomy: [ categories, tags, chapters ]\n #   show_on_dashboard: true\n #   default_status: draft\n#\n# possible field types:\n# text - varchar(256) - input type text.\n# integer - integer - Input field for integer numbers.\n# float - double - Input field for floating numbers, stored as 'Double'.\n# geolocation - text (65kb) - Input field for geolocation. Enter an address, and the location is geocoded to latitude/longitude coordinates\n# imagelist - text (65kb) - Input type for imagelists. Add multiple images with a description. Useful for image sliders, galleries, etcetera.\n# image - varchar(256) - image select/upload widget, stored as filename.\n# file - varchar(256) - file select/upload widget, stored as filename.\n# video - varchar(256) - Video embed widget, stored as filename.\n# html - text (65kb) - wysiwyg element.\n# textarea - varchar(32768) - Simple, plain < textarea > field.\n# datetime - datetime - date and time selector widget.\n# date - datetime - date selector widget.\n# select - varchar(256) - select with predefined values\n# templateselect - varchar(256) - select with template filenames\n# number (deprecated) - input type decimal(18,9), useful for storing number that need to be sortable\n# Custom aside links\ncustomlinks:\n    name: Customlinks\n    singular_name: Customlink\n    fields:\n        title:\n            type: text\n        text:\n            type: textarea\n        link:\n            type: text\n    show_on_dashboard: false\n    default_status: draft\n# custom footer links\nfooterlinks:\n    name: Footerlinks\n    singular_name: Footerlink\n    fields:\n        title:\n            type: text\n        link:\n            type: text\n    show_on_dashboard: false\n    default_status: draft\n\n. yes, I can reproduce it repeatedly.\nI create a new entry, click the permalink lock icon without first entering a title, and the error is thrown. I've created a little vid to show you my process:\nhttp://screencast-o-matic.com/watch/cIh32nVu4s\nLet me know if you can't view this and i'll send you it some other way\n. Sure is a puzzle, but the CMS is great. So thanks for all the help.\nYes the JS matches\nHeres a network activity screenshot during the issue:\n\nI have version 1.04, but it could be a malformed installation. What I will do is update everything as you suggested, \n. OK, so I updated to 1.1 beta 4 and I'm still having the same issue.\nAt the moment I have no idea why the issue is happening, or of a fix for it. Do you want to leave this open for the meantime, and i'll update it when I have time to look into it further / someone else has the problem and can refer back to these comments?\nThanks for your help btw,  you've been great.\n. ",
    "mohamedelkamel": "how can i duplicate a contenttype\n. and if i want to make it from the backoffice !!!\n. ",
    "omgmog": "@jkazimir do you have a diff for your controller changes that you can share? I am using the NiceUrls extension to remove /page/ from my slugs, using Bolt in a very flat manner. If it's NiceUrls that is causing SimpleForms to fall on it's face, that might be a nice quick fix\nThanks\n. Works nicely for my use case (single 'contact' form instance)\n. Yeah I'm on 1.0.x. That's good news about 1.1!\nI had a look at implementing it, but ckeditor didn't look very nice to mess with... in the mean time I've cobbled some functionality in to the files list page:\n- upload files\n  \n- copy the url of a file to clipboard\n  \n- copy the url of existing files to clipboard\n  \nThen it's easy to just paste the file URL in to the current dialog :-)\n. ",
    "egoentoro": "Hello, my bad. \nIt's working. The only problem is, there is no progress bar while image is being uploaded (like the image/file upload), that I didn't know that it was actually in the process of uploading image. Would be nice if you could include progress bar.\nThanks!\n. ",
    "Tomarnst": "Hi,\nI'm on Mac osx 10.7.5 \nTried this with:\nfirefox v. 21.0\nchrome v. 20.0.1132.57\nThanks\n. ",
    "sachbearbeiter": "+1 for required fields\n. super :)\n. oh sorry forget everything i wrote - i overlooked in the kitchensink the checkbox possibility - i didn't want to waste your time ... i have some more issues, but i try to investigate better before posting here ...\nthanks sb\n. +1 have this problem now for (flexible) room tags like: \"Exhibition area\"\n. thanks a lot for answering ...\nso it should be something like\ndatabase:\n  prefix:\n?\nor totally wrong ;)\ni find nothing in the comments about this?!\n. ah - ok ;)\nwe have a special usecase - so an installation without a prefix would be optimal but not required and you can close this issue ...\nthanks again\n. ",
    "leonbobster": "Hi! Not a problem ;-)\n2013/6/7 bobdenotter notifications@github.com\n\nI think this pull-request didn't go as planned. There's a lot of changed\nfiles in here. :-)\nCould you do a pull request for just messages.ru.yml ? If not, no problem,\nthen i'll merge it in manually.\n\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/pull/450#issuecomment-19098890\n.\n\n\n\u00ee\u00c1\u00c9\u00cc\u00d5\u00de\u00db\u00c9\u00c5 \u00d0\u00cf\u00d6\u00c5\u00cc\u00c1\u00ce\u00c9\u00d1! leonbobster\n. Thank you! I like Bolt.\n07.06.2013 14:45 \u00d0\u00cf\u00cc\u00d8\u00da\u00cf\u00d7\u00c1\u00d4\u00c5\u00cc\u00d8 \"bobdenotter\" notifications@github.com\n\u00ce\u00c1\u00d0\u00c9\u00d3\u00c1\u00cc:\n\nThank you! :-)\n\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/pull/452#issuecomment-19102409\n.\n. Off course, the better way is using parameterized SQL queries (placeholders) rather than constructing SQL queries out of string manipulation. Or we can use just a simple \n$filter = mysql_real_escape_string($parameters[\"filter\"]);\n\nI do nott think you need to use actually this regexp filter at all.\n. Hi! the answer in the pull request\n2013/8/25 bobdenotter notifications@github.com\n\nBump. @leonbobster https://github.com/leonbobster does it work for you\nnow? If so, we can close this issue. :-)\n\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/pull/535#issuecomment-23225529\n.\n\n\n\u00ee\u00c1\u00c9\u00cc\u00d5\u00de\u00db\u00c9\u00c5 \u00d0\u00cf\u00d6\u00c5\u00cc\u00c1\u00ce\u00c9\u00d1! leonbobster\n. ok, it's all right, and what the best way to develop extensions for bolt?\nlike this ...\n2013/9/14 bobdenotter notifications@github.com\n\nAnd in the case of this one: It'd be great to have this as an extension,\nbut this should not be in core.\n\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/pull/541#issuecomment-24437772\n.\n\n\n\u00ee\u00c1\u00c9\u00cc\u00d5\u00de\u00db\u00c9\u00c5 \u00d0\u00cf\u00d6\u00c5\u00cc\u00c1\u00ce\u00c9\u00d1! leonbobster\n. like plug & play\n2013/9/14 leon bob leonbobster@gmail.com\n\nok, it's all right, and what the best way to develop extensions for bolt?\nlike this ...\n2013/9/14 bobdenotter notifications@github.com\n\nAnd in the case of this one: It'd be great to have this as an extension,\nbut this should not be in core.\n\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/pull/541#issuecomment-24437772\n.\n\n\n\u00ee\u00c1\u00c9\u00cc\u00d5\u00de\u00db\u00c9\u00c5 \u00d0\u00cf\u00d6\u00c5\u00cc\u00c1\u00ce\u00c9\u00d1! leonbobster\n\n\n\u00ee\u00c1\u00c9\u00cc\u00d5\u00de\u00db\u00c9\u00c5 \u00d0\u00cf\u00d6\u00c5\u00cc\u00c1\u00ce\u00c9\u00d1! leonbobster\n. Sorry its coz off upstream merging I think\n29.09.2013 13:13 \u00d0\u00cf\u00cc\u00d8\u00da\u00cf\u00d7\u00c1\u00d4\u00c5\u00cc\u00d8 \"bobdenotter\" notifications@github.com\n\u00ce\u00c1\u00d0\u00c9\u00d3\u00c1\u00cc:\n\nI see your change reverts a few whitespace changes (for PSR-2 coding\nstyles). I'm going to merge this, and fix those manually.\nThanks!\n\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/pull/608#issuecomment-25317746\n.\n. thx a lot!\n. \n",
    "ntomka": "Ok, thank you! :+1: \n. @bobdenotter I like your idea. Calling that method multiple times should create a sub-dropdown menu in the 'Extensions' menu, but just one level down. Multiple levels would be a mess. :) Maybe the sub-menu's number of items should be also limited.\n@jekill so you want to create your own backend templates? Maybe you should change lib.php in a way you can set admin's template in the config like for frontend.\nI'm just planning for now, but every help are welcome. I think backend custom templating is a good idea, but it should be done in a way that core functionality can't be broken.\n@bobdenotter any plan/idea for custom backend templating?\n. @bobdenotter I thought @jekill wants to override the whole backend template, but this way you can't. Am I right? :)\n. Yes. So if anybody wants to do this, needs to change the core admin template, which makes upgrading versions difficult.\n. I'm trying to implement methods in Extensions and BaseExtension classes to add menu items. It is ok so far, but I'm stucked at registering callback methods using bind(). Can you give some advice where or how to do this?\nWhen I call the specified route, the application simply says it doesn't exists.\n. My bad. I figured out the correct way. Lesson learned: don't work late night. :) \n. Sorry for the multiple replies. :)\nHere is my initial version. Check it out: link\nThe only problem with this aproach, if the developer leaves out the after middleware when defining the routes, he can override the whole admin template, which I think is not desired. Any idea how to prevent this?\n. Actually there is a small documentation section for this: http://docs.bolt.cm/internals#app8216mailer8217\nIf you see the SwiftmailerServiceProvider documentation you can find what you are looking for. If I understand you... :)\n. If you develop an extension, then you can access $app there through $this->app, so you can set your config like:\nPHP\n$this->app['swiftmailer.options'] = array(\n    'host' => 'host',\n    'port' => '25',\n    'username' => 'username',\n    'password' => 'password',\n    'encryption' => null,\n    'auth_mode' => null\n);\nThen you can compose and send your message like this:\n``` PHP\n$message = \\Swift_Message::newInstance()\n        ->setSubject('[YourSite] Feedback')\n        ->setFrom(array('noreply@yoursite.com'))\n        ->setTo(array('feedback@yoursite.com'))\n        ->setBody('message');\n$this->app['mailer']->send($message);\n```\n. But you are right. I searched for swiftmailer.options in app directory if there is an option to set system wide config for swiftmailer, but no sings for this. There should be one, I think so.\n. Option to set mailer parameters in config.yml would do the trick. Like\nYML\nmailer_options:\n    host: host\n    port: 25\n    username: username\n    password: password\n    encryption: null\n    auth_mode: null\nThis can be read in bootstrap.php and can be set application wide.\n. PHP 5.4.9\nThis is the console output of var dump.\nPHP\narray(66) {\n  'SSH_AGENT_PID' =>\n  string(4) \"3946\"\n  'KDE_MULTIHEAD' =>\n  string(5) \"false\"\n  'GPG_AGENT_INFO' =>\n  string(34) \"/tmp/gpg-bbYghK/S.gpg-agent:3947:1\"\n  'SHELL' =>\n  string(9) \"/bin/bash\"\n  'TERM' =>\n  string(5) \"xterm\"\n  'XDG_SESSION_COOKIE' =>\n  string(61) \"2bd87379fde0e1a4cda668d551dc2206-1377152271.142129-1600522160\"\n  'DERBY_HOME' =>\n  string(29) \"/usr/lib/jvm/java-7-oracle/db\"\n  'GTK2_RC_FILES' =>\n  string(85) \"/etc/gtk-2.0/gtkrc:/home/nagytom/.gtkrc-2.0:/home/nagytom/.kde/share/config/gtkrc-2.0\"\n  'KONSOLE_DBUS_SERVICE' =>\n  string(5) \":1.67\"\n  'KONSOLE_PROFILE_NAME' =>\n  string(18) \"Parancs\u00e9rtelmez\u0151\"\n  'GS_LIB' =>\n  string(20) \"/home/nagytom/.fonts\"\n  'GTK_RC_FILES' =>\n  string(73) \"/etc/gtk/gtkrc:/home/nagytom/.gtkrc:/home/nagytom/.kde/share/config/gtkrc\"\n  'WINDOWID' =>\n  string(8) \"46137370\"\n  'SHELL_SESSION_ID' =>\n  string(32) \"9db1438978e74000aeda9183b1d4d6d1\"\n  'KDE_FULL_SESSION' =>\n  string(4) \"true\"\n  'USER' =>\n  string(7) \"nagytom\"\n  'LS_COLORS' =>\n  string(1302) \"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arj=01;31:*.taz=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lz=01;31:*.xz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.axv=01;35:*.anx=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.axa=00;36:*.oga=00;36:*.spx=00;36:*.xspf=00;36:\"\n  'XDG_SESSION_PATH' =>\n  string(40) \"/org/freedesktop/DisplayManager/Session0\"\n  'XDG_SEAT_PATH' =>\n  string(37) \"/org/freedesktop/DisplayManager/Seat0\"\n  'SSH_AUTH_SOCK' =>\n  string(32) \"/tmp/ssh-FFNSkdcQ4aSN/agent.3899\"\n  'SESSION_MANAGER' =>\n  string(77) \"local/nagytom-noti:@/tmp/.ICE-unix/4052,unix/nagytom-noti:/tmp/.ICE-unix/4052\"\n  'DEFAULTS_PATH' =>\n  string(40) \"/usr/share/gconf/kde-plasma.default.path\"\n  'XDG_CONFIG_DIRS' =>\n  string(32) \"/etc/xdg/xdg-kde-plasma:/etc/xdg\"\n  'DESKTOP_SESSION' =>\n  string(10) \"kde-plasma\"\n  'PATH' =>\n  string(213) \"/usr/lib/lightdm/lightdm:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/jvm/java-7-oracle/bin:/usr/lib/jvm/java-7-oracle/db/bin:/usr/lib/jvm/java-7-oracle/jre/bin\"\n  'PWD' =>\n  string(13) \"/var/www/bolt\"\n  'JAVA_HOME' =>\n  string(26) \"/usr/lib/jvm/java-7-oracle\"\n  'KONSOLE_DBUS_WINDOW' =>\n  string(10) \"/Windows/1\"\n  'KDE_SESSION_UID' =>\n  string(4) \"1000\"\n  'LANG' =>\n  string(11) \"hu_HU.UTF-8\"\n  'MANDATORY_PATH' =>\n  string(42) \"/usr/share/gconf/kde-plasma.mandatory.path\"\n  'UBUNTU_MENUPROXY' =>\n  string(13) \"libappmenu.so\"\n  'KONSOLE_DBUS_SESSION' =>\n  string(11) \"/Sessions/3\"\n  'GDMSESSION' =>\n  string(10) \"kde-plasma\"\n  'SHLVL' =>\n  string(1) \"1\"\n  'HOME' =>\n  string(13) \"/home/nagytom\"\n  'COLORFGBG' =>\n  string(4) \"15;0\"\n  'KDE_SESSION_VERSION' =>\n  string(1) \"4\"\n  'LANGUAGE' =>\n  string(5) \"hu:en\"\n  'XCURSOR_THEME' =>\n  string(9) \"oxy-white\"\n  'LOGNAME' =>\n  string(7) \"nagytom\"\n  'XDG_DATA_DIRS' =>\n  string(62) \"/usr/share:/usr/share/kde-plasma:/usr/local/share/:/usr/share/\"\n  'DBUS_SESSION_BUS_ADDRESS' =>\n  string(72) \"unix:abstract=/tmp/dbus-xcvvkvIS86,guid=80a36b35b259e8ba3a5b97d35215ad0f\"\n  'J2SDKDIR' =>\n  string(26) \"/usr/lib/jvm/java-7-oracle\"\n  'LESSOPEN' =>\n  string(22) \"| /usr/bin/lesspipe %s\"\n  'TEXTDOMAIN' =>\n  string(9) \"im-config\"\n  'PROFILEHOME' =>\n  string(0) \"\"\n  'XDG_RUNTIME_DIR' =>\n  string(17) \"/run/user/nagytom\"\n  'DISPLAY' =>\n  string(2) \":0\"\n  'QT_PLUGIN_PATH' =>\n  string(59) \"/home/nagytom/.kde/lib/kde4/plugins/:/usr/lib/kde4/plugins/\"\n  'XDG_CURRENT_DESKTOP' =>\n  string(3) \"KDE\"\n  'J2REDIR' =>\n  string(30) \"/usr/lib/jvm/java-7-oracle/jre\"\n  'LESSCLOSE' =>\n  string(23) \"/usr/bin/lesspipe %s %s\"\n  'TEXTDOMAINDIR' =>\n  string(18) \"/usr/share/locale/\"\n  'XAUTHORITY' =>\n  string(30) \"/tmp/kde-nagytom/xauth-1000-_0\"\n  'OLDPWD' =>\n  string(34) \"/mnt/stuff/lampp/htdocs/kiskershop\"\n  '_' =>\n  string(12) \"/usr/bin/php\"\n  'PHP_SELF' =>\n  string(7) \"app/nut\"\n  'SCRIPT_NAME' =>\n  string(7) \"app/nut\"\n  'SCRIPT_FILENAME' =>\n  string(7) \"app/nut\"\n  'PATH_TRANSLATED' =>\n  string(7) \"app/nut\"\n  'DOCUMENT_ROOT' =>\n  string(0) \"\"\n  'REQUEST_TIME_FLOAT' =>\n  double(1377190347.2346)\n  'REQUEST_TIME' =>\n  int(1377190347)\n  'argv' =>\n  array(2) {\n    [0] =>\n    string(7) \"app/nut\"\n    [1] =>\n    string(9) \"tests:run\"\n  }\n  'argc' =>\n  int(2)\n}\n... and before the notice is thrown:\nPHP\narray (size=28)\n  'HTTP_HOST' => string 'localhost' (length=9)\n  'HTTP_CONNECTION' => string 'keep-alive' (length=10)\n  'HTTP_ACCEPT' => string 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8' (length=63)\n  'HTTP_USER_AGENT' => string 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1547.57 Safari/537.36' (length=104)\n  'HTTP_DNT' => string '1' (length=1)\n  'HTTP_ACCEPT_ENCODING' => string 'gzip,deflate,sdch' (length=17)\n  'HTTP_ACCEPT_LANGUAGE' => string 'hu-HU,hu;q=0.8,en-US;q=0.6,en;q=0.4' (length=35)\n  'HTTP_COOKIE' => string 'bf785b8afb30b676c103f4e260d3b8be=1a7b36a7b9b9ca9e7447eb6e5e79eeeb; bolt_session=mcvi6bqns4vpeilv31rd4ivcm2; PHPSESSID=l5mov8l35cu2so713jubhh2ua4; bolt_authtoken=34688cee31beebadc76e9980742a3801' (length=193)\n  'PATH' => string '/usr/local/bin:/usr/bin:/bin' (length=28)\n  'SERVER_SIGNATURE' => string '<address>Apache/2.2.22 (Ubuntu) Server at localhost Port 80</address>\n' (length=70)\n  'SERVER_SOFTWARE' => string 'Apache/2.2.22 (Ubuntu)' (length=22)\n  'SERVER_NAME' => string 'localhost' (length=9)\n  'SERVER_ADDR' => string '::1' (length=3)\n  'SERVER_PORT' => string '80' (length=2)\n  'REMOTE_ADDR' => string '::1' (length=3)\n  'DOCUMENT_ROOT' => string '/var/www' (length=8)\n  'SERVER_ADMIN' => string 'webmaster@localhost' (length=19)\n  'SCRIPT_FILENAME' => string '/var/www/bolt/index.php' (length=23)\n  'REMOTE_PORT' => string '46115' (length=5)\n  'GATEWAY_INTERFACE' => string 'CGI/1.1' (length=7)\n  'SERVER_PROTOCOL' => string 'HTTP/1.1' (length=8)\n  'REQUEST_METHOD' => string 'GET' (length=3)\n  'QUERY_STRING' => string '' (length=0)\n  'REQUEST_URI' => string '/bolt/' (length=6)\n  'SCRIPT_NAME' => string '/bolt/index.php' (length=15)\n  'PHP_SELF' => string '/bolt/index.php' (length=15)\n  'REQUEST_TIME_FLOAT' => float 1377190477.452\n  'REQUEST_TIME' => int 1377190477\n. Now I get a very strange error from browser (from console, it's ok):\nApache log:\n[Fri Aug 23 11:23:03 2013] [error] [client ::1] PHP Catchable fatal error:  Argument 1 passed to Bolt\\\\Config::set() must be an instance of Bolt\\\\string, string given, called in .../app/classes/lib.php on line 695 and defined in .../app/src/Bolt/Config.php on line 60\n[Fri Aug 23 11:23:03 2013] [error] [client ::1] PHP Stack trace:\n[Fri Aug 23 11:23:03 2013] [error] [client ::1] PHP   1. {main}() .../index.php:0\n[Fri Aug 23 11:23:03 2013] [error] [client ::1] PHP   2. require_once() .../index.php:13\n[Fri Aug 23 11:23:03 2013] [error] [client ::1] PHP   3. getPaths() .../app/bootstrap.php:111\n[Fri Aug 23 11:23:03 2013] [error] [client ::1] PHP   4. Bolt\\\\Config->set() .../app/classes/lib.php:695\n. It's ok now! Thank you @bobdenotter !\n. @bobdenotter PHP 5.3.3, Apache 2.2.16\n. It's ok, thank you @bobdenotter !\n. Ok, I made a pull request for this: #621 \nAnd you are right, the last one is for mysql only. :)\n. I think it's not @bobdenotter . I've just updated to silex 1.1 and got the same error. After downgrade to 1.0.x there is no error. \nI think its related to this: fabpot/Silex#791\n. It's ok for me @bobdenotter but a really dirty fix. :)\n. Yes, you are right. What do you suggest then?\n. I can understand the conception of Bolt session handling now. I will use one of the suggested method.\nThank you, I close this issue then. :)\n. May I reopen this a bit? :)\nI found this: Using PdoSessionStorage to store Sessions in the Database\nI think if there is no security, performance or some reason to not implement this, it would be the best solution to all the above. Through config.yml one should set if he/she wants to use NativeSessionHandler or PdoSessionHandler. Then raising the session lifetime through a config variable would be a good reason.\nAnd maybe bolt_authtoken can use this session handler also (just an idea). :)\nWhat do you think?\n. Now I have had some time to think about this. Storing all session data near bolt tables can be a security issue. I also understand your concerns about this issue.\nI have to solve my problem in another way. Closing this issue then so it won't disturbe you in the future. :)\n. This affected me on older versions, but not on recent releases. Now I'm not using bolt's caching option, but when this happened I definitely used it.\n@semkath have you tried disable caching?\n. You should take a look at this extension: WaffleOrders  :)\n. Have you tried setcontent tag? http://docs.bolt.cm/content-fetching\n. I used that method somewhere, I just can't find it for you to write an example but if you look the implementation you can add filtering options by Storage::getContent parameters:\nhttps://github.com/bolt/bolt/blob/master/app/src/Bolt/Storage.php#L1871\n. Recent changes on this made a backward incompatibility for me. This is unwanted on minor versions I think.\nWhat I talk about: I have content type like this:\nYAML\ncontent-key:\n  name: Super contents\n  singular_name: Super content\n  [...]\nAfter the change[s] Bolt warns me about missing table 'bolt_content_key' and not looking for the existing 'bolt_super_contents' table with lots of data. This is undesired. Users must be warned to use slug and set it to existing table name as before the sluggified name (eg. super_contents) or some safety checks to ensure the compatiblity backwards. :)\n. :+1:  I had looking at that change I just wasn't sure. :) Thanks!\n. This had been solved in pr #1136. What version of Bolt do you use?\n. No, I haven't.  I've just faced this issue and solved it. I will read that issue then. :+1: \n. Thank you!\nI wish I have the time to do this... :)\n. Maybe permissions on role changing should be introduced so only the user with proper permission could change one's role. This way the behaviour changes like this: If you're allowed to edit ~~users~~ users' roles, you can grant 'root' to yourself or someone else. \n. Or both. :)\n. @rossriley Yes, you are right. I didn't noticed prependPath method, but it basically does the same thing I did.\nI'm aware how twig renders templates, but I don't (and probably nobody) want to override whole templates but parts of it, because as I see Bolt backend template doesn't define too much blocks for this.\n@rixbeck :+1: \n. @rixbeck You are right, but some widget calls and blocks not that much to change and can improve customization.\nI'm glad there are many open mind for this discussion. :)\n. Why do you think this is not a needed feature? :-)\n. @bobdenotter \n\nBecause I (personally) don't feel the need to make it possible for people to white-label Bolt in order for people to pass it off as their own to their clients. \n\nWhat prevents people doing this now? Even MIT licence allows modifying the source and redistribute it. I agree with @rossriley this should be a feature for advanced developers. Through extensions there is a way to override backend templates but it's a rough way. What is needed is mentioned here: small separate twig blocks, so the developer don't need to overwrite whole template files just parts of it.\n. I'm still interested in this. :)\n. :beers: \n. I think I've got something. With thimtumb version we can generate thumbs from two paths at least: /files and /theme. The @rossriley version only accepts /files only. Here is the specific lines for this: thimthumb.php#L76\n@rossriley can you make to work this way? I have templates works this way, maybe others have too.  If we should use any path that would be awesome! :)\n. I've just tested it. Works well and very convenient to use. Thanks!\n. This is wrong news. Some alternatives I can recommend:\n- https://github.com/lokesh/lightbox2 - It has CCA licence, but allows commercial use.\n- https://github.com/brutaldesign/swipebox - It has MIT licence, which is great for Bolt.\n. Superb plugin! :+1: \n. In my opinion versioning should serve the projects needs, which is obvious, but I agree with @tobias2k in that semver is better for libraries, etc. We, the top contributors see often that some PRs and changes brings minor breakages.\nI believe in that if a project changes very fast, version numbers is just for end users like a \"hey there, there's a new version, but it can break things\" notice. I also encourage that development milestones should break things all the way, so users can upgrade easily.\nAt my workplace we decided that the time based milestone versioning (like ubuntu's year.month numbers) is the best for us. Master branch holds the development, we use tagging as releases and if we need patches for releases, we make them in branches.\nSo there is no Holy Grail of Versioning, the project itself decides what is the best.\nBut please, don't make 1.6's fix releases as 1.7. Follow semver (because it is used in 1.x releases), so release patches under 1.6.x tagging.\n. ~~Thumbnail generation is fully automatic so I think it should be regenerated when the original file changed (filemtime) or thumbnail file doesn't exists.~~\n~~If developer/user do something on them manually then he/she have to solve the consequences.~~\nSorry, I ignored the fact static thumbnail files served by the web server. :)\n. Yes, it has a purpose. :)\n. Thank you anyway! ;)\n. ",
    "prodigitalson": "I'd also like to see Bolt isolated to vendor/bolt/bolt... app/src should be reserved for project specific code IMO. My questions is if you want to support both FS layouts, how do you envision this working? Is it a manual move on the developers part, or is there a new CLI command, or is it a Composer script or custom installer? I'd be open to working on this but I'd need some direction on how you want to handle it.\n. @richardhinkamp: I agree completely and I don't think that route terribly advanced. Either you download the archive distro which is like \"symfony-standard with vendors\" and pre-configured, or you do a composer create-project, or add bolt as a dep to an existing project. The less advanced people are probably going to D/L the zip anyhow, and the advanced devs are going to want a space for site specific code that is completely isolated from the core but uses some kind of internal convention/fs-layout.\n. ",
    "mduplouy": "What about symlinks so we can keep twig templates and assets in the same dir ?\n. then maybe a copy behaviour if needed, just like symfony asset install command ?\n. ",
    "rihards": "It's actually quite easy to add this functionality for ckeditor actually, all you need is this plugin:\nhttps://github.com/w8tcha/CKEditor-WordCount-Plugin\nAnd it works pretty great out of the box:\n\n. Could it be that the curl version that you are running is older than 7.4.2? As that is the version when CURLOPT_CAINFO was introduced.\n. This can be closed as the solution provided does work, and it has been added to the docs now. However having that proper Silex route would be an idea for a feature request / fix though.\n. ",
    "krysttof": "It's good for the HTML fields :+1: \nBut not for the text or textarea fields !\n. ",
    "mhartinger": "I've the some problem. I've downloaded bolt_latest.zip and tried it on Win 7 and Win 8 (both Apache and PHP 5.4). I've copied the edituser.twig into theme/base-2013 and the form to register the first user is coming up. After registering i can see the homepage but it's not possible to make a login to the backend -> just 'login.twig'. (I'm also missing the folder 'default' in the folder 'theme')\n. ",
    "ybensacq": "it's seems we have the same problem.... :( \n. no solution ? :(\n. ",
    "marktastic": "I have this problem too. I installed the composer way. I tried with sqlite and mysql.\nJust getting auto redirected to /bolt/users/edit/ and the only output is \"edituser.twig\"\n. ",
    "xbreaker": "I tried dump a twig after render edituser.twig and in twig paths I saw only:\n\n\\vendor\\bolt\\bolt\\theme\\base-2013\n\\vendor\\bolt\\bolt\\app\\theme_defaults\n\nHm.... Bolt can't differ backend and frontend? I'm think some problems in this code (lib.php), where $end always == \"frontend\":\n\n$end = getWhichEnd($config['general']);\n\nYeah, I'm find this magical function getWhichEnd, and some string in:\n\n$scripturi = str_replace(\"#\".dirname($_SERVER['SCRIPT_NAME']), '', \"#\".$_SERVER['REQUEST_URI']);\n\nOk, my $_SERVER contains:\n\n\"REQUEST_URI\"                   => str(17) \"/bolt/users/edit/\"\n\"SCRIPT_NAME\"                   => str(10) \"/index.php\"\n\n$scripturi contains /#/bolt/users/edit/ and function can't return \"backend\" of course. I'm delete \"#\". from problem string and Bolt start work fine!\n. I'm delete \"#\". from replace string. \nI'm running xampp windows local server, and can't show full phpinfo, but here is my server variables:\n\n    \"REDIRECT_PHPRC\"                => str(10) \"\\xampp\\php\"\n    \"PHPRC\"                         => str(10) \"\\xampp\\php\"\n    \"SystemRoot\"                    => str(10) \"C:\\Windows\"\n    \"COMSPEC\"                       => str(27) \"C:\\Windows\\system32\\cmd.exe\"\n    \"SERVER_SIGNATURE\"              => str(90) \"Apache/2.4.3 (Win32) OpenSSL/1.0.1c PHP/5.4.7 Server at Port 80\"\n    \"SERVER_SOFTWARE\"               => str(45) \"Apache/2.4.3 (Win32) OpenSSL/1.0.1c PHP/5.4.7\"\n    \"DOCUMENT_ROOT\"                 => str(15) \"C:/xampp/htdocs\"\n    \"REQUEST_SCHEME\"                => str(4) \"http\"\n    \"CONTEXT_PREFIX\"                => str(0) \"\"\n    \"CONTEXT_DOCUMENT_ROOT\"         => str(15) \"C:/xampp/htdocs\"\n    \"SCRIPT_FILENAME\"               => str(25) \"C:/xampp/htdocs/index.php\"\n    \"REMOTE_PORT\"                   => str(5) \"55843\"\n    \"REDIRECT_URL\"                  => str(6) \"/bolt/\"\n    \"QUERY_STRING\"                  => str(0) \"\"\n    \"REQUEST_URI\"                   => str(6) \"/bolt/\"\n    \"SCRIPT_NAME\"                   => str(10) \"/index.php\"\n    \"PHP_SELF\"                      => str(10) \"/index.php\"\n\n. Yes, I don't suggest my code as solution, I'm just write what I do to\ncorrect this error in my server. It may be helpful for others :-)\n. ",
    "sekl": "The code I added to the frontend controller should probably be moved to the top of the \"before\" function. We also need a notice for logged in editors/admins that maintenance mode is on, I guess. I will have another look at this soon.\n. Did you define your own content types or modify the default ones? I think it's happening because of a wrong content type definition, so maybe check them against the default contenttypes.yml\nNot sure if it's a bug to be honest.\n. I just sent you an email about this, but it doesn't seem to be the issue you mentioned.\nI downloaded the latest build from the website yesterday and had it happen on that. I then updated my local install from Master and have it happen still. \n. Oh, yes, it is the issue you mentioned, but the base-theme is not updated, so it is still happning there.\nbase2013/record.twig\n. I'm logged out, debug mode is off. If I visit the homepage I get the maintenance screen.\nIf I visit for example /entry/2 (which also doesn't exist!) I get the maintenenance screen.\nBut if I visit /asdf or any other, it shows me the not-found template.\n/search or /pages however will properly show the maintenance screen again.\nSo maybe it's the routing, as it doesn't happen when it can match a content type to the request, even if that entry doesn't exist.\nI just tried it again with a completely fresh install. The only thing I did was turn on maintenance mode and turn off debug mode. Without a not-found template, visiting /asdf at this point will give me a fatal error screen. If I create the not-found page, visiting /asdf will show me the not-found page instead of maintenance screen.\n. Just as a test, if I move maintenance mode to the top of app.php and change it like so, then it works as expected. But that is probably not the correct way to do it?\n```\n<?php\nuse Symfony\\Component\\HttpFoundation\\Request;\nuse Symfony\\Component\\HttpFoundation\\Response;\n// If we are in maintenance mode and current user is not logged in, show maintenance notice.\n$request = Request::createFromGlobals();\nif ($app['config']->get('general/maintenance_mode')) {\n$user = $app['users']->getCurrentUser();\n$template = $app['config']->get('general/maintenance_template');\n$body = $app['twig']->render($template);\n\nif ($user['userlevel'] < 2) {\n    $response = new Response($body, 503);\n    $response->send();\n    $app->terminate($request, $response);\n    die();\n}\n\n}\n```\n. Ok. I assumed you meant something that would just show as an extra step before the installation/creating the first user.\nThe problem I think with having a separate download is that many people might just skip it? Not sure.\nI can have another go at this when I have time again next week, unless someone else gets to it first.\n. ",
    "chrisguitarguy": "Your solution is correct.\nThis would be the culprit in the docs.\nlocation /app {\n    deny all;\n}\nSeems like uploads should be moved to a route/controller, rather than going through a file?\n. ",
    "gilkudik": "Hi. I want to create users and limit his permissions over content types.\nFor example: Pages only could be created or edited by user1 and user2 but entries only for user1\n. thanks man, i close this now\n. I figured it out how to do it.\nSo I close this issue.\n. BTW this hosting use cgi-fcgi\n. ",
    "DerManoMann": "Cool, great to hear. I'll leave this issue open for reference, but feel free to close if this is already managed elsewhere.\n. I might have a go at a few things. Suggestions welcome here too ;)\n. My hope was and still is that it would be possible to re-use bolt service providers and models in other silex apps.\nI had a look at some of the code and it seems that a lot of the code (and really deep down the stack) depends on \\Bolt\\Application, and that, in turn, does require the full bootstrap, right now.\nSo,I see two major issues:\n1) If the dependency on \\Bolt\\Application can't be avoided, there should be a way to bootstrap by injecting certain things like db config, etc, to allow to share things with the original app.\n2) Managing bolt as a dependency in my project via composer. My feeling is that the actual source should not live under app/src, but probably in a separate package.\n. That config refactoring looks promising. Maybe there should be an issue for that? Or refer to this issue (assuming it is related...)?\n. Thanks.\nAs an idea, how would it be to introduce interfaces for all the stuff in Bolt\\Application? That way external code would just need to implement those?\n. Another question [i had lots of time cycling home today...]: Would it be possible to use a different layout on the fly?\nThe way I would like to use bolt is to use it to manage content and display that in a different app. That means for creation of content and preview a nice layout would be used and when I pull the content from external I would like to get just the actual content either as data or fragment without a layout...\n. Thanks, good work. I will have to review the changes first, however my actual question was for something that worked in PHP, not via HTTP requests.\nThe point it that I'd like to load bolt as dependency and then use some bolt service providers to load data from my own app.\n. Just a general question about style while looking at the last commit here - wouldn't it be easier to move functions like the ones in lib.php and others as static methods into some utility classes?\nThe outcome would be mostly the same, but there wouldn't be need to explicitly load files since the classloader would take care of that.\nAlso, IMHO it further reduces the chance of conflicting names as all global bolt functions are then in the right namespace.\n. Thanks a lot. I rather suspected your answer might go that way....\nAny chance of getting my hands on the extra code / extension you mentioned in the other issue? That might be enough for me to close this issue ;)\n. @ bobdenotter So, any change to you releasing that extension code you mentioned in on #234?\n. Thanks. sounds good to me. I am happy to wait for 1.2 for now :)\n. :+1: \n. Just a simple related question - is there any documentation on how to use bolt via composer? bootstrap/autoloader - that sort of thing?\n. comment looks like a cut&paste leftover?\n. ",
    "michaelmezger": "I\u00b4ve debugged that strange behavior. Bolt\\Storage::tableExists() calls internally Bolt\\Storage::getTables(). That functions catchs the SchemaManager and fires Doctrine\\DBAL\\Schema\\PostgreSqlSchemaManager::listTables(). That function on the other hand does a bunch of magic queries, it fetches all columns, foreign keys, indices, and so on. for the tableExists() is this absolutely overkill. listTableNames() should be sufficient for this purpose.\nthe other problem is, that in Bolt\\Controllers\\Frontend::before() the user integritycheck every request runs. the integrity check seems to has a similar problem. (i didnt analyzed that)\n. ",
    "HeleenE": "Thanks! Makes sense. I've decided that the date shown in a blog post can be the same as the always featured publication date.. So I don't need the extra date function anymore. But thanks anyway, good to know for future reference.\n. Hi Bob, any news on this front?\n. Strange! It does work for me on my localhost, but not on my domain. I had more problems than usual with disabling the magic quotes, could it have to do anything with that? I run two other bolt sites with the same hosting and they work fine, they do run on older versions though. \nhttp://emanuel.nl/phpinfo.php\n. Yes 100% sure! I don't get any errors, it just never finishes uploading. Could the missing js files have to do anything with this?\n\n. ",
    "Arcrueid": "Hiya\nI made this work\ncheck my code in bolt.js\nonly replace this var!\nvar ImagelistHolder = Backbone.View.extend({\n```\ninitialize: function(id) {\n    this.list = new Imagelist();\n    var prelist = $('#'+this.id).val();\n    if (prelist != \"\") {\n        var prelist = $.parseJSON($('#'+this.id).val());\n        _.each(prelist, function(item){\n            var image = new Imagemodel({filename: item.filename, title: item.title, id: this.list.length });\n            this.list.add(image);\n        }, this);\n    }\n    this.render();\n    this.bindEvents();\n},\nrender: function() {\n    this.list.sort();\nvar $list = $('#imagelist-'+this.id+' .list');\n$list.html('');\n_.each(this.list.models, function(image){\n    var html = \"<div data-id='\" + image.get('id') + \"' class='ui-state-default'>\" +\n        \"<img src='\" + path + \"../thumbs/60x40/\" + image.get('filename') + \"' width=60 height=40><input type='text' value='\" +\n        _.escape(image.get('title'))  + \"'><a href='#'><i class='icon-remove'></i></a></div>\";\n    $list.append(html);\n});\nif (this.list.models.length == 0) {\n    $list.append(\"<p>No images in the list, yet.</p>\");\n}\nthis.serialize();\n\n},\nadd: function(filename, title) {\n    var image = new Imagemodel({filename: filename, title: title, id: this.list.length });\nthis.list.add(image);\nthis.render();\n\n},\nremove: function(id) {\n    _.each(this.list.models, function(item) {\n        if (item.get('id') == id) {\n            this.list.remove(item);\n        }\n    }, this);\n    this.render();\n},\nserialize: function() {\n    var ser = JSON.stringify(this.list);\n    $('#'+this.id).val(ser);\n},\ndoneSort: function() {\n    var list = this.list; // jQuery's .each overwrites 'this' scope, set it here..\n    $('#imagelist-'+this.id+' .list div').each(function(index) {\n        var id = $(this).data('id');\n        var title = $(this).find('input').val()\n        list.setOrder(id, index, title);\n    });\n    this.render();\n},\nbindEvents: function() {\n    var $this = this,\n        contentkey = this.id,\n        $holder = $('#imagelist-'+this.id);\n$holder.find(\"div.list\").sortable({\n    stop: function() {\n        $this.doneSort();\n    },\n    delay: 100,\n    distance: 5\n});\n\n$('#fileupload-' + contentkey).attr('name', 'files[]')\n    .fileupload({\n        dataType: 'json',\n        dropZone: $holder,\n        done: function (e, data) {\n            $.each(data.result, function (index, file) {\n                var filename = decodeURI(file.url).replace(\"/files/\", \"\");\n                $this.add(filename, filename);\n            });\n        }\n    });\n\n$holder.find(\"div.list\").on('click', 'a', function(e) {\n    e.preventDefault();\n    if (confirm('Are you sure you want to remove this image?')) {\n        var id = $(this).parent().data('id');\n        $this.remove(id);\n    }\n});\n\n$holder.find(\"div.list\").on('blur', 'input', function() {\n    $this.doneSort();\n});\n\n// In the modal dialog, to navigate folders..\n$('#selectImageModal-' + contentkey).on('click','.folder', function(e) {\n    e.preventDefault();\n    $('#selectImageModal-' + contentkey + ' .modal-body').load($(this).attr('href'));\n});\n\n// In the modal dialog, to select a file..\n$('#selectImageModal-' + contentkey).on('click','.file', function(e) {\n    e.preventDefault();\n    var filename = $(this).attr('href');\n    $this.add(filename, filename);\n});\n\n}\n```\n});\n. Ohh nice... don`t worry only merge I just help.\nAnything I can help just let me know!\nPD: Need remove the paste event when u have multiple fileupload's.\n. ",
    "diije": "If moving to an extension, it would be nice to add options for some specific sitemaps as well : news, images, video ;)\n. ",
    "terwey": "Hi,\nI've been playing with Bolt for a bit now but really running into some issues with multi-language content. It could be a bug, it could be the way I'm using it... not sure yet.\nBasically if I have a {language} parameter in the route with a {slug} in the same URL it has serious issues. It suddenly throws crazy errors on how it can't generate the correct Route URL.\ne.g. the following:\npath:               /{language}/{contenttypeslug}/{slug}\nIs not possible to use, it basically throws a crazy tantrum.\nIf I add 'language': 'nl' to the defaults for the Route it works, but it then always uses the Defaults for the language in the URL generation. Kinda defeats the purpose...\nIt finds the correct page because it of course uses the {slug} but on the arrived page the Language is set wrong and the Menu doesn't make sense anymore.\nAny ideas?\nOf course things always 'suddenly' work if you start reporting an issue. I will continue with this and see if it actually works now or if I was just lucky for 5 minutes...\n. @bobdenotter the\nlanguage: 'nl|en|de' requirement is a nice touch, I didn't know I could define the requirement like this. I'll let you know how it turned out.\n. This is my current routing.yml\n``` yml\nhomepage:\n  path:               /{language}\n  defaults:           { _controller: 'Bolt\\Controllers\\Frontend::homepage', 'language': 'nl' }\nsearch:\n  path:               /search\n  defaults:           { _controller: 'Bolt\\Controllers\\Frontend::search' }\npreview:\n  path:               /preview/{contenttypeslug}\n  defaults:           { _controller: 'Bolt\\Controllers\\Frontend::preview' }\n  requirements:\n    contenttypeslug:  'Bolt\\Controllers\\Routing::getAnyContentTypeRequirement'\ncontentlink:\n  path:               /{language}/{contenttypeslug}/{slug}\n  defaults:           { _controller: 'Bolt\\Controllers\\Frontend::record' }\n  requirements:\n    contenttypeslug:  'Bolt\\Controllers\\Routing::getAnyContentTypeRequirement'\n    language:         'nl|en'\ntaxonomylink:\n  path:               /{taxonomytype}/{slug}\n  defaults:           { _controller: 'Bolt\\Controllers\\Frontend::taxonomy' }\n  requirements:\n    taxonomytype:     'Bolt\\Controllers\\Routing::getAnyTaxonomyTypeRequirement'\ncontentlisting:\n  path:               /{language}/{contenttypeslug}\n  defaults:           { _controller: 'Bolt\\Controllers\\Frontend::listing' }\n  requirements:\n    contenttypeslug:  'Bolt\\Controllers\\Routing::getPluralContentTypeRequirement'\n    language:         'nl|en'\n```\nAnd currently I am unable to reach the Backend. After I managed to login I get:\n\n\nTwig_Error_Runtime\n\n\n                An exception has been thrown during the rendering of a template (\"Parameter \"language\" for route \"contentlink\" must match \"nl|en\" (\"\" given) to generate a corresponding URL.\") in \"_listing-base.twig\" at line 109.              \n\nWhen I set language:         'nl|en|' the backend loads but then the frontend again can just randomly accept another parameter.\nI should probably reduce the scope that the {language} parameter is required in. The reason I need {language} for the / Route is simply because else I can't render the correct page. I could work with global vars but who wants to do that? ;)\n. Hi,\nYes to all of the above.\nThe file gets properly uploaded and appears in the directory on the server.\nOn the content editor page you can also see the correct filepath.\n. ",
    "evan70": "GreaT!\n. ",
    "odlex": "Excellent ! I am very interested in it\nMaybe  \\Bolt\\Content can extend a new class like \\I18NContent to add i18n field support\nin contenttype.yml\n\nproducts:\n    class: \\I18NContent\n    name: Products\n    slug: products\n    singular_name: Product\n    singular_slug: product\n    fields:\n        title:\n            type: text\n            label: Name\n            i18n: true\n            class: large\n        slug:\n            type: slug\n            label: URL\n            uses: title_en\n        body:\n            type: html\n            label: Description\n            i18n: true\n            height: 150px\n        image:\n            type: image\n            label: Image\n    record_template: product.twig\n    listing_template: products.twig\n    listing_records: 200\n    sort: title\n\n. Hi all, what are the news for these improvements?\n. I think a solution to this problem should be found and it would be a real benefit for Bolt and notament problems for CRUD and validation in php for entities and of course for extensibility and modularity of those above .. .\n. I made a pull-request (https://github.com/bolt/bolt/pull/984) with other things, or you can manually paste that is not a problem.\n. Changes are done ( https://github.com/odlex/bolt/commit/56c7d907375cef9318925e24b488b98a436c740d )\u200b\u200b, sorry for the mistake :-)\n. I agree with both of your ideas, \nBut I have a question concerning the tests, would not it be better to test the MIME type instead of extensions?\n. @CoolGoose yes I agree with that, it is the same on a security perspective with other file types ( a .js renamed to .jpg ... )\n. I think this is related to https://github.com/bolt/bolt/issues/976\n. @bobdenotter that's done https://github.com/odlex/bolt/commit/2e3c5c663713ba437e7a3a960ff3dbb4d4db25f0 :)\nedit: (cleaning two oversights) https://github.com/odlex/bolt/commit/fbc03b46e6d8001dcf63ac83f1d82de03be14728\n. ",
    "revollat": "That was quick ! Thanks :)\n. I'm using GIT version of Bolt (1.2) with MySQL (5.5.29-MariaDB) but unfortunately I can't easily give you access ... I'll do some tests \nThanks :)\n. I just make a \"git pull\" this morning (I also suppressed the content of app/cache/*) and now I have an error :\nFatal error: Call to a member function set() on a non-object in [...]/app/classes/lib.php on line 690\n. I don't understand because I have set() method in app/src/Bolt/Config.php Oo strange ...\n. I I do this just before the error :\n    \\util::var_dump($config);\n$config is an array\n. For the moment I just filled the \"canonical\" value in config.yml (but if it's not present there seems to be a problem) ... \n. Yes it works thanks :)\n. Ok thanks :)\n. Hi i'm currently writing a newsletter extension (to send actual newsletter) ... for the front (subscription) i'm going to use NewsletterSubscription extension, so I will fix the code when I have the time (this week or next week) :)\n. So it's a powerful full text search engine like solr for example, and it's very flexible (it follows RESTful architecture)\nit's widely used in symfony2 applications via FOSElasticaBundle I would like to make an extension that would add the bolt content (contenttype) in elasticsearch index.\nI need this because I'm building a website with a custom \"person\" contenttype and I want to be able to offer a full text search engine in the front (\u00e0 la Google) so for example a misspelled name will still be found ... (but elasticsearch is a lot more powerful than that, and I think it worth to work on a Bolt plugin integration )\nwhat do you think ?\n. Thanks for the tips :)\n. sound great ! \nSo it's only for content such as uploaded images or PDF, right ?\ncan I use your extension to go through database content ?\n. OK thank you !\n. I have some code :) see #1317 \n. :)\n. Yep, but there is also a publish date concept, etc ... so I thought there was a method (in the \"Content\" Class for example) to check this .. but I can't find it.\n. I'll check this. thank you !\n. I have a custom content type and I want to display some \"comments\" associated with it and let anonymous users to add comments to the content type detail page (in front).\nSo I could create an associated content type \"Comments\" and make it editable in front with \"Editable\" extension ... ?\nOr I create a completely independent form on the content type detail page to add a comment : Then, I programmatically create a \"Comment\" and insert it in DB dynamically (calling Storage API) ...\nWhat do you think ?\nAm I clear ? :)\n. I need to customize the workflow of publication and I don't think that Disqus will fit my need.\nBut thank you for your idea :)\n. I want to be able to moderate the comment and also to attach some document (upload file) with a comment ...\n. ",
    "felagund18": "I tried bolt version 1.1.4, ofcourse it will take lot of time if reimplementing without schemeManager. Caching the config files is a good idea.\nI will to try to reimplement integrity checker and let you know when i found a good idea.\n. ",
    "jhice": "Hi there,\nI'm looking into Bolt since a few weeks in order to use it at my job (to use it instead of WP). I like what you've done here ;)\nWell, I dig up this issue to ask a question about SEO, 301 and slugs as you are concerned about it, and I didnt find answers in the issues :\n- could we add a 301 when renaming a slug ? (automatically or by questionning the user)\nThe problem is when you update your SEO slug, the old slug becomes a 404... the best would be to auto-update the .yml in the Redirector extension or something like that.\nI looked at the Redirector documentation and found the \"autoslug\" option. Perhaps at this level we could have an option \"autoredirectoldslug\" or something like that.\nOr perhaps it is useless to 301 all the renamed pages and let Google eliminate them ? I use to do it personnaly not to break an actual SEO work.\nWhat do you think about it ?\nThanks.\n. Sorry the hijack... will not to do it again.\nThanks for your long response. Indeed it could lead to a messy mix of redirections. Perhaps the best way would be to do the redirects manually on specific slugs. And a maximum of two redirects for one page.\nIf this discussion continues, where could it take place ? (ie is this an interesting feature to talk about or not). Thanks\n. ",
    "prdurand": "Hi Bob\nThanks for your answer, it's very clear, yes.\nIt's maybe just a use case improvement wish :)\nI finally understood how it works, it's a very nice and useful functionality, thanks!\nBut using print() I saw that all the complete object data is retrieved, with its own relations details, when we often just need a string. \nWe maybe miss a method retrieving only specified fields of the selected linked object?\nFor the documention, is it updated with the last version? It seems that the exemple didn't work by me, while we need this foo|firt parsing\nthanks once more for your work\n. wonderfull, thanks a lot !!\n. ",
    "interlan": "Create an empty cache folder where app, files, theme and vendor folders reside.\nI had the same problem and Bob bailed me out!\n. ",
    "dolcy": "I have this error as well during fresh install.\n. Great work Bob. This happens when I pull master from git. Doesn't happen with 1.1.4 zip file (no composer). Looks like a problem with array syntax in PHP 5.4. I get the same /bolt/users/edit error as well. Using Xampp on Windows 7, MySQL. PHP 5.4\n. Thanks @bobdenotter Latest patch fixed it.\n. +1 same issue\n. ",
    "vineet": "Thanks a lot Bob!\n. That's a good point.  Will explore simply using a front-end only solution.  Also looking to see if we can simply swap out the timthump.php library with something like this: http://matthewruddy.github.io/Wordpress-Timthumb-alternative/ which would allow for an additional \"retina\" parameter.  Have everything work transparently with a combination of the front-end logic and the .htaccess for thumb generation.\n. Here's the snip:\n{% setcontent records = \"works\" orderby \"-datechanged\" %}\n. The query looks correct:\nSELECT bolt_works.* FROM bolt_works WHERE ( \"bolt_works\".\"status\" = 'published' ) ORDER BY -datechanged LIMIT 100 OFFSET 0\nHmm, I wonder if the sqlite db I'm using is somehow corrupt.  I'm printing the datechanged value as I render each element -- the order is:\n2014-01-31\n2014-02-27\n2014-02-10\n. ahh, yes, that makes sense..\n. Works!  Thanks a lot for the patch...!\n. ",
    "vienlemai": "Thanks for your reply. I used bolt 1.1.4 so that's why it wasn't working very well. I'm looking forward to the release of bolt cms 1.2. \n',\n. ",
    "hqmatics": "It seems this issue is also present after saving the item. The slug will never contain the id field.\nIs it also possible to add a slug with a format ? For example a datetime field that will use only date part in the slug.\n. Okay, will wait for the fix as for the ID, not needing it.\nAs for the format of slug fields, I have a suggestion:\nin Bolt/Storage.php function saveContent add around line 339:\n$uses = '';\nforeach ($values['uses'] as $usesField) {\n    $hasFormat = false;\n    if (!empty($values['format'][$usesField])) {\n        $params = $values['format'][$usesField]['params'];\n        foreach ($params as $key => $param) {\n            if ((string) $param == '%field%')\n                $params[$key] = $fieldvalues[$usesField];\n        }\n        if ($format = @call_user_func_array($values['format'][$usesField]['function'], $params)) {\n            $uses .= $format . ' ';\n            $hasFormat = true;\n        }\n    }\n    if (!$hasFormat)\n        $uses .= $fieldvalues[$usesField] . ' ';\n}\nThis should be places in a function but it works to apply simple format functions on a slug uses field.\ncontent config:\nslug:\n    type: slug\n    uses: [ date, title ]\n    format:\n        date:\n            function: substr\n            params: [ %field%, 0, 10]\nI could make a pull request if this is the way the project managers want to go....\n. https://github.com/hqmatics/bolt/commit/0025b7cbd0b63888e055ed85d5117a48302be150\n. Not simple indeed, but one does not have to use it.\nThe code above is not enough, since the javascript also builds the slog. But that can also be changed.\n. Some filtering or formats on the slug would be great for blog and calendar entries..\nLet me know if I can help with some new implementation.\nFor my current project I just set it aside.\n. @bobdenotter You are right, for blogs that would work. For my calender item contenttype is doesn't because it cannot use my custom date column, which makes sense for a calender item instead of datecreated.or datepublish\n. It seems that OR is not possible if you want the OR to use multiple columns.\nI would like to suggest a simple fix for this:\n// get content\n$this->app['storage']->getContent('games', array('team_1' => 'team_1 ||| 1234 ||| team_2 ||| 1234 ||| team_1 ||| 12345 ||| team_2 ||| 12345');\nChange Storage.php function parseWhereParameter:\nSee https://github.com/hqmatics/bolt/commit/4cfc28e3e4b5c3de2d7c47a09a93969fe36cfc35\n. Hi Bob,\nThe query you suggest will not work in my situation because I have multiple columns that can contain the value I'm looking for.\nI known I can use that kind of queries. But it will not create an OR part that spans multiple columns.\nWhat do you think of my suggested fix for that by using |||, if we also add &&& we can make any kind of query\nSo;\nX || Y: AND (column = X OR column = Y\nC1 ||| X ||| C2 ||| Y: AND ((col1 = X) OR (col2 = Y))\n. Hopefully this will explain what I'm trying to do;\nhttps://github.com/hqmatics/bolt-docs/commit/7754da78292c2c3bafb6ecd42f0a8cf879fca72c\n. I know it's not very elegant.. It's an easy fix but it provides a lot more flexibility in creating queries.\nLet me know if I can do anything to make it better.\n. Little bit more code but you are right, it make a bit more sense.\nhttps://github.com/hqmatics/bolt/commit/eb7eddda802678de2ae2d80221a6769079c03205\nDocs:\nhttps://github.com/hqmatics/bolt-docs/commit/3aa1800ce847689a5fa7141791ce3ed881d8efd0\n. https://github.com/bolt/bolt/pull/630\n. I implemented a custom twig function tries to match at content slug or router so it also works for custom routes.\nThe slug match is similar to the one already implemented in the current function but allows an array.\nmenu.yaml (see matches section)\nmain:\n  - label: Nieuws\n    path: nieuws\n    class: first\n    matches:\n        content: [ artikel ]\n  - label: Agenda\n    path: agenda\n    matches:\n        routes: [ _agenda_displayType_dateInput ]\n        content: [ kalender-item ]\nCustom filter:\n```\npublic function matchesCurrent($content)\n    {\n        $route = $this->app['request']->get('_route');\n        $route_params = $this->app['request']->get('_route_params');\n    if (isset($content['matches'])) {\n        if (isset($content['matches']['content']) && is_array($content['matches']['content'])) {\n            if (in_array($route_params['contenttypeslug'], $content['matches']['content']))\n                return true;\n        }\n        if (isset($content['matches']['routes']) && is_array($content['matches']['routes'])) {\n            if (in_array($route, $content['matches']['routes']))\n                return true;\n        }\n    }\n\n// bolt 'current' checks here\n// ...\n\n}\n```\n. ",
    "iamgoodbytes": "I'm unsure what the problem was (enabling and disabling the json module made no difference) but now I'm using your master branch (instead of the download from your site) as the base for my project and everything works fine. Thanks for looking into this so quickly!\n. Thanks for looking into this! I am now using your git repo master branch as the base for my project and that solves the problem above (before I used the download from your site). \nWhat's weird is that the master branch contains version 1.2 and the download was at 1.1.4, probably because you didn't have time yet to update the website, or does the master branch contain unstable code?\nThis issue can be closed.\n. ",
    "andreaswarnaar": "I was thinking about a kind of assets-contenttype\"ish\" with the default fields like :\n- asset/fileID\n- mime type\n- ect.. \n  and can be extend with all the available bolt fields. \nWhen thats available is up to others to do whatever they want. \n. ",
    "rossriley": "Hopefully going to address some of these options as part of https://github.com/bolt/bolt/pull/1306, which covers support for multiple namespaces and configurable prefixes.\nWhat we could do is optionally pass the content type and id along with the upload and then do the transform to whatever is set in the config file.\n. @diggersworld I haven't tested this, but maybe give it a try, note, do this in your factory/bootstrap file just after $app->initialize();\nuse Symfony\\Component\\Yaml;\n    $parser = new Yaml\\Parser;\n    $custom = $parser->parse(file_get_contents(\"/path/to/custom.yml\"));\n    $app[\"config\"]->set(\"mailchimp\", $custom);\n. As well as using setPaths you also have addPath and prependPath methods so you can easily add an additional path to search. Twig renders the template from the first version found, so if you prepend you can override specific templates, but if it isn't found it will carry on to the next path.\n. > This has been added to the \"to do for Bolt 2.0\". I'm still not sold on this, though. ;-)\nI only added it because it was still open and tagged to 2.0. Personally I'd see it as a  plus point, obviously most of the time you don't need to change the backend template, but if everything is in small separate blocks then more advanced users only have to add a tiny bit of extra html to their override folder to replace.\nThere's been a few cases where I've needed this, I think I mentioned when you need to add a contact phone number / email to the login screen and I can envisage a few other cases. \nI'd suggest that this should not  be a 'public' feature in that anyone that uses it obviously takes responsibility for the new block, but for advanced users or maybe even extension writers if we can split everything into smaller logical blocks then it reduces the overhead of customising.\n. Closed for now, not really compatible with current bootstrap file which includes the files agian.\n. Ignore this for now, depending on outcome of discussion in https://github.com/bolt/bolt/pull/1187\n. Yes, sounds fine to me... I'll amend for now to enforce a .db suffix, though for when we are looking at 2.0 and possible BC breaks then I'd go along with allowing fuller configurability.\nI'm a bit uneasy about whitelist security in general and most people who know what they are doing will want to host it outside of the web root, though I appreciate that we need to be beginner friendly for those that still use basic shared hosting. \nThis is probably part of a wider discussion though, because as I've found a lot of things start to become complicated when you try and do things properly and move most things out of the standard filesystem layout.\n@bobdenotter what's the best way to discuss this further? maybe I could put together a wiki page that addresses path / resources configurability and we can discuss further off that?\n. Yes, I should have mentioned that this is definitely targeted at 2.0 since it has a fairly big surface area, although it can be made fairly backwards compatible by doing two things, replacing the global function getPaths with one that calls $app['resources']->getPaths(); and secondly by defining all the required constants from the manager class, eg.. \ndefine('BOLT_PROJECT_ROOT_DIR', $app['resources']->getPath('root'));\ndefine('BOLT_CACHE_DIR, $app['resources']->getPath('cache'));\nand so on.. this could be phased out once the dependencies were removed elsewhere, but gives us a bit of flexibility to fallback on previous behaviour.\n. Just further to the above, the extra commits should now be working, there's still some work to do in making sure everything uses the master path configuration, though the main offender currently is the thumbnail and upload section, if we can get them routed as part of the same app as is under discussion now, then this problem goes away.\nSo this is now working on a basic install and a composer install the basic install works off the standard bootstrap file as follows.....\n$config = new Bolt\\Configuration\\ResourceManager(__DIR__.\"/../\");\n$config->compat();\n$app = new Bolt\\Application(array('resources'=>$config));\n$app->initialize();\nThe compat makes sure the constants are set until these can be rewritten to use $app['resources']->getPath(.....);\nThe bootstrap for a composer installed app with some customisations looks like this...\n$config = new Bolt\\Configuration\\ComposerResources(__DIR__.\"/../\");\n$config->setPath('cache', 'tmp/cache');\n$config->setPath('web', 'public');\n$config->compat();\n$app = new Bolt\\Application(array('resources'=>$config));\n$app->initialize();\nAgain this is functioning correctly after basic testing, but it would be good if I could have some more testing on a wider variety of installs.\n. I've not had a chance to review the other options yet, but I've often used: https://github.com/Gregwar/Image/ in the past which features a simple, good architecture and caching included too.\nMaybe worth putting on the list.\n. @bobdenotter How shall we get moving on this, do you want to setup a repo bolt/images or bolt/thumbs that we can start sending in PRs to.\nI was thinking about getting started with a test suite that defines the current url structure / responses, that way we can make sure that any new work passes at least replicates the current functionality.\n. @ntomka Thanks for spotting that, what I'll do is allow the thumbnail service to register multiple paths with prefixes, and then fallback to the files directory, then we can add files/ and themes/ as the default, but also expose the interface to the app so we can do...\n$app['thumbnails']->addPath('mystuff', '/path/to/mystuff');\nwhich will be served as /thumbs/200x200c/mystuff/file1.jpg\n. Ok, pushed and the amend to bolt covered by https://github.com/bolt/bolt/pull/1288\nthe theme url will work just by running a composer update\nI've tested it on a basic install but let me know if you have any problems.\nOne other thing if anyone has any ideas. It's been mentioned that some of the files people's databases have an extra files prefix in the file. eg filename is stored as files/files/directory/example.jpg is this an eventuality that we need to cover or is this just a case of something being implemented wrongly. Was wondering if anyone had an example.\n. I can spot the problem with this one. Fix coming up.\n. Yes, apologies, it was just a test case scenario I didn't cover.. adding it now\n. Ok. I've just pushed a fix for async. I'll get onto the async urls now.\n. Yes, that was a bit more complicated, since the theme needs config and request loaded before it can calculate.\nSo I've fixed this by re-calling the setThemePath() function again after the request is initialised.\nGot the tests passing, here they are. Hopefully that should cover it.\n$this->assertEquals('/sub/directory/',                            $config->getUrl('root'));\n$this->assertEquals('/sub/directory/app/',                     $config->getUrl('app'));\n$this->assertEquals('/sub/directory/app/extensions/',   $config->getUrl('extensions'));\n$this->assertEquals('/sub/directory/files/',                     $config->getUrl('files'));\n$this->assertEquals('/sub/directory/async/',                  $config->getUrl('async'));\n$this->assertContains('/sub/directory/theme/',             $config->getUrl('theme'));\n. Ok, I think that's fixed now. Let me know if you can spot anything else.\n. Sorry about that, been a while since I worked on windows and I forgot to test for it. As of the moment this was dropped in for future flexibility and I'm pretty sure nothing uses as yet.\nWhat I have been doing is getting together a fairly comprehensive test suite from the bug reports, so if you could give me the output of your $app['resources']->getPaths() for a windows install, I'll add them to the test suite so that we don't neglect it in the future.\n. @bacbos There's hopefully a fix for windows systems merged in now. When you get a chance, let me know if this works for you and we can close this issue.\n. Have you got any extra info about the errors thrown, I've got a couple of versions running locally and not spotted a problem but maybe I've missed something. thanks\n. In fact I think I can spot it. Are the problems do with theme loading? I assumed it was just me missing the submodule but there is a bug in the setting of the theme path. Just putting a pull request up now,\n. Yes. This is pretty much under control, uploads through a File or Image / Imagelist field already go through the new system, the uploads on the /bolt/files/files/ page accessible via the settings menu still needs to be moved over but should hopefully have this done this week.\nOnce done there's some configuration for file naming and overwrites eg:\nhttps://github.com/bolt/bolt/blob/master/src/Controllers/Upload.php#L63\nIf everyone is happy this could also be controlled via a setting in the config file too.\n. @DerManoMann once we've smoothed out these patches I'll try and do some more indepth documentation on it, because this should greatly simplify bootstrapping an app. Here is one of the test cases I'm working against which might help, it is Bolt running as a composer package and bootstrapped via a Dependency Injection container.\nFirst up here is the relevant parts of composer.json\n\"require\": {\n        ........\n        \"bolt/bolt\": \"dev-master\"\n        ........\n},\n\"scripts\": {\n        \"post-install-cmd\": [\n            \"Bolt\\\\Composer\\\\ScriptHandler::installAssets\"\n        ],\n        \"post-update-cmd\": [\n            \"Bolt\\\\Composer\\\\ScriptHandler::installAssets\"\n        ]\n},\n\"extra\":{\n        \"bolt-web-dir\": \"public\"\n}\nThose scripts take care of installing the necessary assets to the web directory, in my case it's called public but adjust to your setup.\nFinally bootstrapping at the moment is:\n$config = new Bolt\\Configuration\\ComposerResources(__DIR__);\n$config->compat();\n$app = new Bolt\\Application(array('resources'=>$config));\n$app->initialize();\nThe compat call is necessary at the moment since it sets the constants that are still used in many places but eventually this won't be necessary.\n. It depends on how clever you want it to be, but you can put a route that overrides the defaults. So for example if your contenttype produces the url slider/xxxx then you can put this at the top of your routing.yml file.\nslideroverride:\n  path: /slider/{slug}\n  defaults: { _controller: 'Your\\Controller\\Frontend::unavailable' }\nThen in your own front controller make an action called unavailable that returns whatever response you like, a very simple example.\n<?php\nuse  Symfony\\Component\\HttpFoundation\\Response;\nclass Frontend\n{\n    public function unavailable()\n    {\n        return new Response(\"denied\");\n    }\n}\nOr you can do something more complicated depending on what you want to happen.\n. The app will try and load the controller using normal autoload techniques, so all you need to do is make sure that your controller that you specify in that route setting can be autoloaded (much easier if you use composer to manage your projects). \nSo there's certainly no need to do it as an extension. I'd argue that it makes a lot more sense to have it as part of your primary app.\n. No they aren't content types, users are provided by a built in Bolt class.\nIf you want to modify the functionality you'll need to swap out the Bolt\\Users class for your own class (which could simply extend the base class and make the modifications you need).\nYou'll also need to provide your new class as a service that can then replace $app['users'].\n. > Didn't know about that one. Looks good to me. Any particular reason you didn't use \\Bolt\\Cache which is basically a wrapper for Doctrine's cache?\nThat's just me not knowing the codebase too well. If this is available and already installed then that's much better than requiring another package. I'll get it altered to use that.\n. Updated to defer to $app['cache'] with a namespace of bolt.thumbs all tests still passing too.\n. @bobdenotter do you want me to transfer the repo to bolt on github? Then we can link it as a composer package.\nIt would be good to get more people to test on sites with lots of images etc.\n. Cool, I transfeered it to your account because only admins can transfer into an org (which bolt is) so you should be able to transfer it into the bolt org now.\n. @bobdenotter When you get a chance can you add bolt/thumbs to the bolt packagist account.\nIt will download ok from the github repo when it's the primary package but not if you have bolt as an installed package.\n. Yes it is now, I think that's from an old build, it seems to be building ok for me now from both the distribution and as a composer sub-package.\n. As long as you are comfortable modifying your bootstrap file you can do the following just after the call to app->initialize():\n$app->initialize();\nif($app['config']->getWhichEnd()=='backend') {\n    $app['twig.loader.filesystem']->prependPath(__DIR__.\"/path/custom/templates\");\n}\nThen making a login.twig file in your specified directory will supercede the built in one.\n. @rixbeck I've got one site where I've had todo it for genuine reasons, to add a custom message and some contact telephone / email for users to get in touch for problems. \nWhat's the plan? I was thinking if each of the template fragments were defined as twig blocks then you could use the above trick but only override the small block that you need to change. That way there's much smaller impact to be affected if you need to make small modifications.\n. It could feasibly be done as an extension, but if you install the elasticsearch api as your own composer dependency then to add content to the elasticsearch index you can just listen to the content save event. eg:\n$app['dispatcher']->addListener(StorageEvents::POST_SAVE, array($elastic, 'indexMethod') );\nand then handle the indexing in your $elastic object. There's also a POST_DELETE event to de-index documents as well.\n. Have you run a composer update? \n. I've checked through the distribution repo and I can't spot anything that would impact with the thumbs.\nIf we're just checking off the obvious have you restarted nginx after removing the old route stuff?\nIf you're getting a 404 then I'm assuming it's that something is still pointing to the old timthumb.php file, but I can't spot anywhere where it's still mentioned. Maybe if you could get the error from the nginx log that would help narrow it down?\n. Ok. I think I may be slowly getting to the bottom of this, I've managed to recreate it using the built in PHP server with exactly the same symptoms you've got. Any chance you can paste me your nginx config so I can get a setup the same as yours.\n. Got it.\nAdd this line to the top of the location ~images block:\ntry_files $uri $uri/ /index.php?$query_string;\nso the block overall looks like:\nlocation ~* \\.(?:ico|css|js|gif|jpe?g|png|ttf|woff)$ {\n        try_files $uri $uri/ /index.php?$query_string;\n        access_log off;\n        expires 30d;\n        add_header Pragma public;\n        add_header Cache-Control \"public, mustrevalidate, proxy-revalidate\";\n    }\nThe problem being that the thumbnail request looks like an image file so is served by that block, but that block doesn't do the check to ensure that the url is servable, so it was never getting forwarded onto bolt.\nLet me know if that's ok.\nIncidentally does anyone know if  there is some documentation for nginx config we need to amend to reflect this?\n. I can spot the problem with this, just not sure which is the correct way to deal with it. \nThe database query that looks up the tag passes the url through makeSlug() which in turn calls URLify::downcode() mapping the utf8 string to ascii. The same doesn't happen in the update query so we have the correct utf8 slug in the database but the fetch query looking for the ascii version.\nSo, both ways of fixing are straightforward, I'm just not sure of the rationale behind transliteratiing utf8 urls to ASCII, is this something that was there by design or could it have a knock on effect elsewhere in the codebase?\n. We might need to wait for packagist to update too, but i think it should work like this.\n. Ok, I'll take the bolt/bolt dependency out of thumbs for now until I can get it working properly. \n. I'd guess this is more to do with your PHP installation rather than anything specific to Bolt. You're usually looking for a php module being loaded in twice. First place to look is your php.ini file for a line like:\nextension=imagick.so if you have two similar lines then comment one out.\n. > One of the reasons that we had the quirky way of doind this, so we could present a user-friendly message on PHP 5.2.\nThat's a good point, I think the class being namespaced will break that message, I'll test and make sure. I don't don't think it hurts to add in a message, if we include a single file from the bootstrap then this can sit separately from the main checker and we can then just drop it when we no longer think it's necessary.\n\nYes, this is silly. We should at least check if we're actually on Apache, if we do a check for .htaccess.. \n\nWhat do you reckon, check the SERVER_SOFTWARE value to see if it contains Apache. For more advanced users we can then provide a hook on $app['resources'] to ignore this error if they want to run without .htaccess\n. Ok, I've made those changes, haven't actually tested it on 5.2 yet but it should be ok since it uses the same version check code, if anyone has a 5.2 box handy feel free to give it a go, otherwise I'll get one sorted soon and confirm.\n. Yes, I'm working on it now, really strange this one, all tests run fine locally but not on travis. Think it's to do with the way phpunit handles globals. Should have a fix soon.\n. I haven't tested this, but as far as I can see, you are ok checking for status published. If the record falls under the future date strategy it has a separate 'timed' status that is handled separately.\n. That sounds like a good idea. I don't think we need to worry about non-command line users in this instance since this is pretty much composer specific, in that the theme folder is empty after install so we need a way to run an additional script to fetch it, though I thought it might be nicer to have it available as a composer package....\nOn the bigger question, I'm pretty sure that using composer is going to be the fastest way to get it built, however what we could do is use Satis (https://getcomposer.org/doc/articles/handling-private-packages-with-satis.md) which would act as an approved registry of bolt extensions. There could be a front end to allow people to add their own extensions / themes to the Bolt satis repo.\nThat way we don't have to build anything else to do the versions / installs etc but what we can do is put a UI wrapper on it so that beginners and users that don't want to use the command line can use the same engine underneath. It could be something like https://puphpet.com where users pick what they want and the outcome is a custom composer.json file.\nthoughts.\n. With that comment, i meant purely for the original problem of allowing composer downloads to fetch the theme.\nOn the bigger question I was suggesting that we still use Composer under the hood but put a UI layer on top so that users can generate their composer.json file via a UI.\nThe only thing we would need to do is include a composer binary as part of the overall Bolt download. Alternatively there's some useful projects that abstract this away.. https://github.com/eviweb/composer-wrapper takes care of downloading and storing the binary locally.\nI can't think of any other problems, we've even got access to --dry-run to see what updates are available, so we can do an updates available style check when an admin user first logs in. \n. I'll close this for now, since it's not directly an issue, but I'm more than happy to put together a quick proof of concept for the composer ui once we've shifted a few of the more immediate issues outstanding.\n. That's cool. I'll try and help out with dealing with issues etc. If that will help out. \n. I think this is an error in the code comment here. The accept_file_types setting only applies to uploads that are posted to /upload/.........\nIn the case of file fields it is computed a little differently, the logic goes like this:\nOption 1: Use an array - extensions - passed in the contenttype definition, so if you want to have control over allowed extensions set this eg:\nfile:\n    type: file\n    extensions: ['pdf','doc','docx']\nIf this value is empty the logic says. Allow any of: 'doc', 'docx', 'txt', 'md', 'pdf', 'xls', 'xlsx', 'ppt', 'pptx', 'csv' unless any of these are not present in the config accept_file_types.\nI'll try and get a note added to the documentation to make this clearer.\n. Just given it a whirl and got a demo version running ok: http://bolt-demo.herokuapp.com/. One thing to check, did you do the git submodule update to install the theme and commit this into your repo?\n. What database are you using?\n. Yes, that was my mistake, forgot that the CLI doesn't have it set, there's already a pull request waiting to fix this one, should be merged soon.\n. In fact should be merged on master now.\n. It's not possible to do as yet, the backend code is all ready to handle it, but the frontend javascript needs a rewrite to handle it. It's definitely on the todo list shortly, if you wanted to update it yourself you could write some js to swap out the existing upload widget, as long as the /upload/files post is the same, the files should all get uploaded ok.\n. Which directory have you got setup as your web root (in apache)?\n. If your path in the database looks something like... /files/files/image.jpg then to work it just needs changing to /files/image.jpg.\nAs discussed in https://github.com/bolt/bolt/issues/1282 it seems there was a previous version that wrote the wrong path in the database. We'll try and get a fix in the next version but to get it working immediately have a go at the step above.\n. I think you also need to run a git submodule update --init to fetch the default theme.\n. It is a bug, thanks for spotting that. Fix coming up shortly.\n. Hey thanks for this, the uploads from this page are still being ported to the new upload system (See: https://github.com/bolt/bolt/pull/1306) so when this is finished it will fix number 2.\nNumber 3 is intentional, we allow the user to edit html files, eg in the theme directories.\nI think also number 4 will be fixed when this upload form points to the new system.\nWith regards to number 1, what exactly do you mean, there isn't currently any paging on the files listing page or are we talking about something else?\nthanks.\n. Nice, I was getting this error too.\n. Hey. \nIt should be very nearly production ready. If you do spot any bugs let us know. Here's the provisional documentation:\nhttps://github.com/rossriley/bolt-docs/blob/advanced-installation/source/installation-advanced.md\nNote that if you pass in a relative path it will automatically base it on root. so:\n$config->setPath('config', 'custom/config');\nWill work without the need to prefix with root.\n. Hey. This is one you'll need to pass on to your hosting company, it looks like php is trying to load the opcache extension, which isn't in the folder where it should be.\nIf you forward the details to them they should be able to help out.\n. Hey.\nThis one is a little less ready for production because there's a little more work to finish on it.\nIn principle it's quite simple, before you could only upload files to the files directory since this was hardcoded. The situation now is that you can define in the ResourceManager where your files directory is and this will work ok.\nThe backend is mostly rewritten to allow you to upload to any namespace defined in ResourceManager, eg if you use '$config->setPath(\"myuploads\");` you will then be able to use myuploads as a namespace and upload to and edit / use files from there.\nProblem is, the frontend ui isn't complete yet there's quite a lot of async requests that need to be rewritten to check namespaces etc.\nNext on my todo list so shouldn't be too long or shout if you are able to help out.\n. Ah I see. In that case we've already merged prefix support into the application uploader. All we'd need to get this working is to agree on a config format for contenttypes.yml and then add a hook to set the prefix depending on the value for the current content type.\nIf you could start a separate issue thread to get feedback from the rest of the developers on the format then once we're agreed I can get the feature coded up.\n. Closing this one as it is covered now by: https://github.com/bolt/bolt/issues/1393\n. > and a shell injection vulnerability (CommandRunner:75; need to escape $version and $package, \n\nideally in the method itself, or otherwise make the method private and escape in all callers).\n\nI'm going to get some unit tests in place for this to make sure but I think that because this gets passed through Symfony\\Console StringInput it already validates it as string only characters.\n@bobdenotter if we go ahead with this approach what's the eta/strategy with version 2 do we wait for v2 to be merged into master or would you prefer me to rebase this onto the feature/bolt2 branch.\n. > IMHO with all the refactoring in master, together with the new backend-in-progress in feature/bolt2 and obviously this Marketplace functionality, it'd be good to stop adding more stuff, and push towards 2.0. Agreed?\nI'd agree with this, from the stuff I know about I think we could get to 2.0 beta in 5/6 weeks, off the top of my head this would mean sorting out the following.\n1. This approach gets all the extensions required into a folder but we need to make sure that they can be autoloaded in the same way they are currently.\n2. We need to work out a way to distinguish between themes / extensions (any other types to support?) and maybe support install scripts to copy assets into public.\n3. For the repository side, need to add support for Git hooks add some auth for extension owners and and admin auth so the submitted extensions can be managed.\n4. Someone with an ounce of design talent should probably do something with it too.\n5. Write some documentation about how to submit an extension, how to format composer.json file.\n. > Also, Let's compile the stuff we're discussing in this thread into a separate wiki-page, so we have all information about the marketplace together in one place. \nHow's this? I've tried to pull in whatever tickets are relevant to ship v2 and we can close them off as we go. If everyone drops in the stuff they know about we can have a final todo list.\nhttps://github.com/bolt/bolt/wiki/Bolt-v2.0\n. Summarising the composer/satis questions above.\n\nOh, so does this mean we'll be hosting the extensions ourselves? Also, I think we discussed security-related issues earlier; if we do host ourselves, we absolutely need to figure out package verification\n\nWe don't actually host the code, our setup will be identical to Packagist, in that users submit the Bolt extension, we query the source code repo, index all the available packages and then add this to our distribution server. \n\nwe absolutely need to figure out package verification, ownership, and trust. Something along the lines of signed packages\n\nAt the moment I've setup an approval / disapproval status on the package, this means we can either allow them to be submitted freely and only disable when there's a problem or alternatively if we wanted to we could disable all by default and wait for a manual review until the extension is live. The only problem with this is that, as is the case with composer currently, there's not really a way to stop someone pushing bad code into a newer version which would be fetched when the user updated their extensions.\n\nI think it would be great if we could have it such that converting an existing old-style extension into a managed one would be an absolute no-brainer\n\nThis should be fairly straightforward, we only need to scan the existing extension info file and use it to generate a composer.json. We could maybe do this on the docs area, eg paste your info function and it will generate the correct composer.json file.\n\nQuestion from the Composer clueless guy at the back of the room...\nHow will this work with 'private' extensions (those that are site-author specific)?\n\nThere'd be nothing stopping the user adding their own config to the extensions composer.json file. Nothing so far takes complete control of the file, only reads from and adds to, so I can't see any problems there.\n. As discussed in IRC a suggestion to support multiple namespaces and eventually multiple destinations.\nStandard Prefixes\nimage:\n    type: image\n    upload: salespeople\nSupport for namespaces\nimage1:\n    type: image\n    upload: \"files://salespeople\"\navatar:\n    type: image\n    upload: \"avatars://salespeople\"\nOptional Multiple Namespaces\navatar:\n    type: image\n    upload: [\"avatars://salespeople\",\"s3://avatars\"]\nThe format is essentially, namespace://prefix. Namespace can be optional and default to the files namespace so 99% of Bolt installs that use the local filesystem can use the simpler version 1.\nupload: 'salespeople' will automatically alias to upload: 'files://salespeople' and by default will result in the file being uploaded to files/salespeople/xxxxx.jpg\nIf no upload parameter is set in contenttypes.yml then the default will be to carry on as now and write to files://YYYY-MM/\n. Hey.\nWe're returning a standard Symfony/Silex response object with the image content and I'm guessing that this is the default behaviour.\n100% agree that this should be configurable. At the moment the thumbnail service creates the Response object manually which isn't really the best way, what I'd suggest is that we'll amend the ThumbnailProvider service to use a configurable $app['thumbnail.response'] object which would then allow you to add any headers you like to the Response object before it gets rendered.\nI'll make sure this refactor gets done for the next release.\n. Ok. This change has been pushed up to the bolt-thumbs package. @bobdenotter can we update the package on packagist (or add the github hook to auto update if possible)\n@cdowdy once this is available you'll need to do a composer update to get the latest thumbs version. Then to customise the response you can do the following, after you've initialised your app.\n$app['thumbnails.response']= $app->extend('thumbnails.response', function($response, $c) {\n    .......\n    return $response;\n});\nBefore you return the response you can modify to whatever you need eg.. $response->setExpires(...)\n. woohoo. time to do some merging.\n. @xiaohutai yes no worries, there's a few ui changes I need to make to allow cross-platform thumbnail support, but I'll wait till we've merged 2.0 and get it all fixed up.\n. Ok. I'll merge in now since I think it's pretty stable with a local filesystem. There'll be some conflicts when Bolt2 gets merged in, but we can sort that at the time.\n. A couple of things probably need to happen for this to be viable, first up is the work on admin theme templating: https://github.com/bolt/bolt/issues/1173 \nIf this is implemented then users/extension writers can simply add additional field types without the need to replace the entire _sub_editfields.twig file which is obviously a non-starter.\nPersonally I'd suggest that ideas like the above are ideal to be installed as extensions, since it's more advance functionality that doesn't need to be in the core, and once all the hooks are there then it should be very simple.\nThe groups of fields would be a little trickier to implement, since at the moment one field maps to one database column, (including the list fields which comma separate values) whereas these would need a fair bit of thought to integrate smoothly.\nSo, the extensions repository feature will be launched with version 2 of Bolt, I don't think the admin templating will make 2.0 but since it can be done in a non-breaking way it can be added to the next point release.\n. Yes I actually agree, just someone asked in IRC and this one wasn't too tricky but as the branches diverge it is going to get too complicated to be worth the effort.\n. Think that should be good now.\n. I'm not sure about this. Technically there's been nothing done that will break any existing extensions so they can continue to function as is. The new system will work out of a clean empty ./extensions folder in the project root. \nBut we could also take the decision to say: new version 2.0 old extensions break unless they move to the new system. The benefit of this would be that we could clear out a lot of code that scans the extensions folder etc since this responsibility is now delegated to the extension.\nIf we do this, the process to upgrade is pretty simple but they will need to move to their own repo. In this case the upgrade process will involve adding a composer.json file in the format discussed and adding an init file that registers the extension.\n. Closing this since we are well along with implementation.\n. This seems to occasionally break things, I get the odd Undefined index: paging error showing up on some templates.\nI think altering the block on line 2033 of Storage.php to this:\n// Set up the $pager array with relevant values, but only if we requested paging. \n        if (isset($decoded['parameters']['paging'])) {\n            $pager_name = $decoded['contenttypes'][0];\n            $pager = array(\n                'for' => $pager_name,\n                'count' => $total_results,\n                'totalpages' => ceil($total_results / $decoded['parameters']['limit']),\n                'current' => $decoded['parameters']['page'],\n                'showing_from' => ($decoded['parameters']['page'] - 1) * $decoded['parameters']['limit'] + 1,\n                'showing_to' => ($decoded['parameters']['page'] - 1) * $decoded['parameters']['limit'] + count($results)\n            );\n            $this->setPager($pager_name, $pager);\n            $this->app['twig']->addGlobal('pager', $this->getPager());\n        }\nfixes the errors that I see but not sure if that is going to break elsewhere, is $decoded['parameters']['paging'] always set when the pager needs to show?\n. Also: Note added to upgrade guide.\nhttps://github.com/bolt/bolt/wiki/Bolt-Extensions:-Converting-1.x-extensions-to-work-in-version-2\n. > What does this part mean and what's supposed to be in there?\n\"extra\": {\n    \"branch-alias\": {\n        \"dev-master\": \"1.7.*\"\n    }\n}\nThis is optional, it allows you to specify a version that the current master branch is equivalent to. Most extension publishers can ignore this, in fact we could take the decision to allow Bolt to only download stable extensions and not the dev-master branch.\n\nAnd, is this necessary for all new extensions now?\n\n\"files\": [\n        \"init.php\"\n    ],\nYes. Responsibility for loading is now given to the extension, this is the equivalent in the current version of adding an extension to the enabled_extensions config. The init file just calls $app['extensions']->register($extensionObject);\n. > I've been converting some extensions. I just saw that you can't submit too many extensions within a certain timespan\nI do know about that, we're just hitting the Github API limit, I've got an auth token to add to it and then this should go away. \nWe're using the API to do it because it's more complicated that just fetching the single composer.json, we need to also scan branches and tags to get the different versions of the extension.\n. These should all be sorted now. The problem was the build script was throwing an exception on one of the extensions which had an error in the composer.json. I've added a skip-errors to the script which continues the build but marks the affected extensions as unavailable, so this should fix any problems with adding extensions.\nNote also that since we've bumped the master version to 2.0 now any extensions require setting need to fall within this range. something like:\n\"require\": {\n    \"bolt/bolt\": \">1.9,<3.0.0\"\n},\n. Hi Mike.\nThe only problem is this line: \n\"bolt/bolt\" : \">2.0,<3.0.0\"\nthe current version is 2.0.0 so what you will need is:\n\"bolt/bolt\" : \">=2.0.0,<3.0.0\"\n. Summing up the IRC discussion for those that missed out. Since most of the userbase probably version control their themes, it might be a better idea for the install process to involve optionally copying the theme to /theme where they currently live. So the config can work exactly the same as it currently does. \nThis can all be done in the UI so noone needs to know that composer is doing the downloading. \n. We've probably got a bit of a divergence here between what more experienced users would want versus what someone using an out-of-the-box install would need.\nPersonally I'd install themes into the extensions folder, run updates as they are released and then add an additional twig path inside the app source code where I'd add any modifications to the installed theme and keep only these mods under source control.\nBut that is too big a divergence from the current setup for most users, @GawainLynch idea seems to be the most logical for this group.\nMore advanced users can then get the more powerful functionality via:\n```\n// config.yml\ntheme_path: extensions/vendor/bolt\ntheme: base-2014\n//bootstrap.php\nif($app['config']->getWhichEnd()=='frontend') {\n    $app['twig.loader.filesystem']->prependPath(\"/path/to/override/Templates\");\n}\n```\n. Since this is pretty much what is implemented now I'm closing this.\n. Subscribed and started answering some of the unanswered questions.\n. I've pushed up basic support for the save_files config setting now. If set to true the thumbnail producer will attempt to write out the file to the web root.\nIt will currently only work if you have a writable thumbs directory in the web root and fail silently if not. I've also not implemented any way to expire these static files. From what I can think, there's two approaches we could take:\n1. Add something to the cron that clears all static images by looking for file mtime and deleting.\n2. Add something to the file manager that globs the statics directory for affected files whenever the original is modified or deleted.\nMethod 2 would only really work when the modifications were done within Bolt. Downside of method 1 is that these statics would be getting cleared regularly whether they needed to or not.\n. All looks good. I'm going to merge this in so I can rebase the new stuff I've done today.\n. No that's fair enough. I'll add it to the lowlevel checks for now and we can see if anyone has a problem with it.\n. For reference this was an incompatibility between using Doctrine migrations alongside the Bolt integrity checker. Since they both do the same job using the schema diff tool there was a conflict. For now it's best not to use Doctrine migrations to manage any Bolt tables (exclude bolt_ using the table filter.)\n. ha. Purely selfish.. I need to make an extension for that.\n. Tricky this. The catcher assumes that if anything is going to cause an error it will be an extension rather than the core. Note it only intercepts fatal / parse errors. \nI guess one solution since we can read the file the error happened in, is to just pass through anything that isn't inside the extensions directory, then other fatal errors will continue to the default behaviour.\n. Looks fine to me. The $app->redirect inside the catch can also go, originally i was going to let the user try and remove but the occasions where it's stable enough to do so were very few, so the fatal error was the best solution.\n. Tested as above and all works ok for me.\n. Just a missing comma in composer.json.. after: \"brandonwamboldt/utilphp\": \"1.0.*\"\n. This is unrelated but had a bug testing this on sqlite and postgres because the old interval column that got renamed to interim is still throwing a not null sql error. Other than that, which I'll log as a separate issue, all works well.\n. And all good\n. Sorry, that is a bit of a recurring bug on the beta site... just fixing now, try again in a minute or two.\n. Yes, I think if we did this it would need to be a two step, process where we keep both options around for at least one more major version.\nI thought the consensus at the last discussion was Bolt\\Extension\\Base rather than AbstractExtension, not that naming things really bothers me personally ;-)\n. Closing this RFC implementation and bugs will continue in https://github.com/bolt/bolt/issues/1873\n. Problem is that a lot of the functions that are just bundled in lib.php need to be split up and moved to relevant places. That's not really any point in moving functions into a class just for the sake. I'd guess the strategy is something like this...\nThe path functions can be moved to the $app['filesystem']\nThings like path / redirect can be killed and we just use the $app[....] equivalents.\nSerialze / Unserialize can either be in cache or filesystem of we want to make it non cache specific.\nThen the translate functions can be moved into the translation service provider.\n. Ha. I have been trying to chip away at it, just that the translate ones are woven very deep throughout the code.\nI don't think it's a 2.0 beta job, but maybe soon after. What would be nice is to move lib into the src/Bolt folder and require it via the composer autoloader so we don't have any non autoload.php included files anywhere.\n. Not keen on the IsXxxx. If we do rename I'd personally go with Bolt\\Extensions\\ExtensionInterface. \nAlthough I think we should continue to maintain the existing one and put it through a deprecation cycle since there's already a lot of extensions out there and it seems a bit over the top to make a lot of existing code redundant purely for aesthetic reasons.\n. Thought 4 implemented.\nIssues/decisions to make.\n1. Currently only tested on a single version of PHP, do we need multiple?\n2. Tests are basic as discussed. Does the homepage load, can we login to the dashboard, and is the extension/version requested installed correctly. any others? and....\n3. Could we perhaps provide some custom test functionality that allows authors to specify additional tests? if so format/config/requirements discussion is needed.\n4. Should we hook into github post commit hooks to retest, is it too much hassle to ask ext authors to add a hook for each extension?\nPlus any other thoughts... if anyone spots any bugs or has feature requests, make them new issues and we can start fine-tuning.\n. I know what this is, just haven't got around to a fix, there's two blocks of code that listen on data-action, which the extend ui does, unfortunately this clashes with another block that evaluates everything in a data-action block as js, hence the error above.\n. For reference this is currently line 1603 of bolt.js - inside the dataActions method. \n. Yes it is. We need to add a route before we load any others that effectively reserves the /bolt (or branding path) route and redirects it to /bolt/ (or again branding path).\n. I think this looks like a windows DIRECTORY_SEPARATOR problem the path looks wrong to me: C:\\Moje\\WWW\\honzamikula/extensions/composer.json\nFix hopefully coming up.\n. Sorry about that fixed in PR.\n. Well all of the build system for extension testing uses the new composer skeletons so it's working pretty well. Just need to spruce up the documentation which has change a bit since here: https://github.com/bolt/bolt-docs/blob/master/source/installation-advanced.md\nThen I think we move these: \nhttps://github.com/rossriley/bolt-composer-webroot \nhttps://github.com/rossriley/bolt-composer-singleroot\nto be official Bolt repos and everything should be good.\n. implemented in #1890 \n. First thoughts as hinted in the list above is that we rely on extensions and extension developers to drive the direction for 3.0. The foundations for most of the list are already in place, for example now the filesystem is on Flysystem we can add native support for more media locations, eg Youtube, Vimeo or anything else really.\nI'd echo that it's better if we modularise more and try and do less, eg can we use other libraries for logging, caching, user management etc. But I don't think any of that needs to wait for 3.0 since we can make it all non-breaking.\nThe only suggestion that I have which will be a major one is that we have a look at the data structure and think about moving to an Entity -> Attribute -> Value structure, one of the problems I've had with putting a Doctrine front-end in front of Bolt (which will be an issue if we do want to move to ORM) is that the joins can't be described in a normal ManyToMany way without writing custom join queries.\nThe other thought I have which builds on extensions is the concept of Application Bundles which is effectively a way to package a Bolt app as a bundle (extension) that is installed on top of the core and that can encompass a custom theme a set of extensions and config/data modifications all in one bundle.\nFinally we desperately need to have more tests in place for the core, there's too much that doesn't really have even basic coverage and we have a tendency to modify the core and then the tests after to satisfy Travis. \n. Likewise I agree. But I think we shouldn't write it ourselves there seems to be plenty of existing packages addressing the same, how about we make a simple service around this package: https://github.com/eloquent/pathogen#file-system-paths\n. There's actually no magic going on with extensions other than a call to $app['extensions']->register(ExtensionObject);\nSo in your bootstrap file you could do some selective registering based on the route in the request.\nBecause we expose all the app lifecycle to extensions anyway this would be fairly straghtforward to implement without an addition to core. \n. it's beautiful\n. No, although you could argue that it could be bundled with the distribution version of Bolt.\n. This is an important distinction between dealing with a project and a dependency, when you manage your own application you should always commit your composer.lock to the repo, when you are developing a library (as Bolt is) then committing a lock file into the repo makes it almost unusable as a library.\nThe reason is that libraries need to be flexible in terms of library versions they support, for instance you could include Bolt and Swiftmailer in a project, both require twig/twig, but Bolt is locked to 1.1.5 and Swiftmailer 1.1.4, if you include them both your dependency install fails because the versions are too strict. That is why in libraries we always specify ~1.1 which means we accept any version up to the next significant release, then the dependency resolver can do its thing and decide on a version of Twig that all the libraries can work with.\nIf any library were to include a composer.lock this whole process would break. \n. Switched to using the same macro\n. Yes, to be fair I'd agree with this, there are a few jargon words around the interface that wouldn't really be in common usage amongst general users, taxonomy, slugs, meta etc.\n. Look, the globals now have disguises....\n. There isn't currently a way to do this in the built in resizer but we have made it fairly easy for you to swap out the resizer to use your own custom class. If you don't need this in a hurry then feel free to make a feature request over on the thumbs repo https://github.com/bolt/bolt-thumbs as it would be a fairly nice feature addition to the built in library.\nIf you're in a hurry and want to implement it yourself this can get you started, you'll need to replace the default resizer with your own class (which you can extend from the default and only change what you need) before the call to $app->initialize() in your Bolt bootstrap file.\nIt will need to look something like this:\n```\n// new resizer class\nclass CustomCropResizer extends Bolt\\Thumbs\\ThumbnailCreator {\n   protected function doResize($src, $width, $height, $crop=false, $fit = false, $border = false)\n   {\n        if (!$crop) {\n            return parent::doResize($src, $width, $height, $crop=false, $fit = false, $border = false);\n        } else {\n            // implement your own crop method here creating an imageresource called $new and a $type\n        return $this->getOutput($new, $type);\n    }\n\n}\n}\n// Then in your bootstrap file or index.php, wherever your Bolt app is created\n$app = new Bolt\\Application($config);\n// Insert your override here\n$app['thumbnails'] = $app->share(function ($app) { \n    $responder = new Bolt\\Thumbs\\ThumbnailResponder($app, $app['request'], new CustomCropResizer());\n    return $responder;\n});\n// And carry on\n$app->initialize()\n$app->run();\n```\n. I actually like the simplicity of setting the template to null but then I guess that can be a bit magic in that it does much more than just not have a template.\nSo my vote would be for an explicit setting (although by convention it might be nice to set the template to null too) not sure the best name for it, viewless and viewable seem a bit awkward.\n. yes no worries. I'm not 100% sure what the desired functionality is, am I guessing correctly in that this is a duplication of what we do on install (for when the user doesn't do the copy at the time and wants to do the same thing later) or is there some extra functionality needed here?\n. Correction the image does get uploaded ok, just the js that handles the response doesn't seem to do anything, ie inserting new item into the imagelist.\n. I think this is the problem: https://github.com/blueimp/jQuery-File-Upload/wiki/Setup#content-type-negotiation\nThe cause is the done() method not being called after the ajax upload. The response type is set to application/json which it seems is wrong for IE9, we'd need to change it to text/plain.\n. Doing a bit of debugging on it seems this line from the dropdowns js:\n// Prevent breakage on old IE.\n            if (typeof mouseEvt === \"undefined\" || mouseEvt === null) {\n                return false;\n            }\nDoes just return false for IE9 so nothing gets shown.\n. Just a note on this, we shouldn't default any dates to 0000-00-00 since it's not a valid date and will fail if used for an insert. Defaults should be null or something else that's a valid date.\n. Hi @Largo it's something we've already discussed a bit see a proposed implementation here: https://github.com/bolt/bolt/issues/1420#issuecomment-50470837 \nOnce we've shipped version 2.0 in a couple of weeks we can think about working on it for 2.1. \nThe downside of it is the way we need to store serialized json in the database, which is fine for Postgresql which supports json fields but not ideal for the other databases we support. So we may need to discuss from an internals point of view how we adapt the data structures to support this.\n. No probs. It was on my todo list post 2.0 so if you get started and need a hand give me a shout. The custom fields doc is the way to go. If you look at the imagelist field it already does this and serializes to json so that should give you some pointers.\n. Sorry that was my fault. We tagged thumbs to match the version number of Bolt ready for the 2.0 release and dev-master hasn't been switched to 2.0 yet.\nI've tagged 1.7 now so this should be back working again.\n. @bobdenotter I posted that initially but if you check the title I think it's referring to the admin area.\n. I've just tried on a bunch of servers and local machine and it all seems ok. Is it a problem with system time on the machine? That can lead to errors with SSL cert validity.\n. What OS is the server, it could be that it's the 1024 vs 2048 bit key length support.\n. Yes, for now ignore that one.. it's deliberately not typehinted because the type of event varies depending on the context it's called from.\n. To go into a little more detail, it's a Composer event, however, in the context where this script gets run, there's no autoloader because its base is in extensions/ not the normal project root.\nHence why that installer is designed to be completely self-sufficient and not link to any other libraries..\nSo I'm sure there's a way to do it, we could cheat and use \\StdClass if that works... but it's not as simple as it looks\n. X-rated extensions only on that url\n. Hi @nlemoine I'm fighting with this one at the moment so it's a known issue. Just having trouble with some dependency clashes. Should hopefully have a fix up later today.\n. Ok. it's fragile but the latest RC version works ok now. I'm leaving this open to tackle for next version though since latest packages of composer/composer and symfony/console are incompatible, we're getting around it at the moment by adding prefer-stable to the composer.json but once symfony 2.6 goes stable we'll have the problem again.\nThe incompatibility is between composer/composer: https://github.com/composer/composer/blob/cec1627acf7ea66799ec43116b460fb52cf0ce75/src/Composer/Command/Helper/DialogHelper.php#L15\nWhich uses DialogHelper which is deprecated ass of Symfony 2.5 to be replaced with QuestionHelper.\n. Yes sorry wrong version. it works ok in 2.6 but is gone in 2.7\n. can't type properly\n. There's one bug.. on imagelists and filelists if you don't have permission to view the upload button, the list is also collapsed.\nI assume this is a JS error since there shouldn't be any dependency between the field and the upload block\n. I can pick it up later when I have a decent connection. If you get to it before: https://github.com/bolt/bolt/commit/32a4e1c\nWe need to use $request->server->get() rather than accessing the $_SERVER globals directly, that allows us to pass in our own mock request.\n. I can add a quirk to this too. If you try and add an item to the built-in 'meta' group then you seem to get two duplicated meta tabs.\n. Hey @Pinpickle There may be a couple of issues here. The immediate one is that I'm pretty sure you haven't got the gd library loaded correctly since that would be the cause of the undefined function for imagecreatefrompng().\nHave a look here for installation guides for linux or windows: http://stackoverflow.com/questions/13338339/imagecreatefromjpeg-and-similar-functions-are-not-working-in-php\nOnce that is sorted then the thumbnails should create correctly.\nYou are right in that Bolt doesn't impose any file limits on uploads by default, what you are probably hitting is PHPs max_upload_size limit, if that is set to 2mb then the post request will never be received by Bolt.\n. Happy new year too. :-)\nSo am i right in that the best way to manage this  is to create the branch but treat it the same as master in that no changes are ever pushed to it directly and no merges are made using this branch. \nInstead PRs are made and merged from our own feature branches and then once decided as stable we create a PR using the same feature branch on master. \nThat way the canary branch is effectively a way to test many various feature branches in conjunction, but we don't run into a situation where we need to do big merges since the feature branches will have proven themselves pretty stable.\nAs a nice side effect we should have a situation where it's easy to scan the changes to master by looking purely at which feature branches have been merged in.\n. Agree with @GawainLynch canary needs to track master, but i'm not seeing how this is vastly more complex to what we have done previously.\nBugs / Fixes need to happen on the feature branch. Once the feature branch is proved stable via testing for a few weeks on canary, then it becomes a candidate for merge onto master, once the branch is merged onto master it gets deleted and any other further fixes / features would need to start with a new feature and on a new feature branch.\nFor cases where a few contributors want to collaborate on a feature then an RFC could lead to the creation of a a feature branch on the bolt repo itself rather than an individual fork, and bug fixes / simple fixes could bypass the canary branch altogether if deemed suitable for a minor point release.\n. I'm happy to look after getting this into core, just needed to get the storage PR in first, since this can hopefully be one of the cool features that persuades people to switch the old layer off.\n@bob I might need some input on the UI side but we can iron those things out at the testing phase.\nOne suggestion for discussion, I wondered whether in choosing the field names that end users set in contenttypes, we might pick something simpler to spell than hierarchical and parentid I was thinking perhaps we could go just with type: parent and type: child or maybe tree and child .. just thought that  might save some typos in people's day to day use but any other thoughts?. Found the problem fix incoming.. That is the correct behaviour, we only update rows that have changed and the query that fetches the blocks orders by grouping so there shouldn't be a problem.\nDo you get any errors of ordering either in the backend UI or a frontend template?. hmm, ok in that case we must be missing an order by grouping in the query. I'll take a look at that now.. ok, I can't reproduce this because for some reason despite seeing the same row order in mysql and using the same contenttype definition by database always seems to pull the rows out in the right order although I'm not sure why it does do this. All I can think is that different versions of MySQL behave differently.\nAnyway, since I can't reproduce I can't really test this but in theory it should work, do you reckon you can test this....\nFile: Field/Type/RepeaterType.php\nmethod: hydrate \nAround line 134 there's a block that can be changed to this...\nif (isset($values[$key]) && count($values[$key])) {\n            ksort($values[$key]);\n            foreach ($values[$key] as $group => $refs) {\n                $collection->addFromReferences($refs, $group);\n            }\n        }\nAll I've done is added the ksort command to the array which should force them to be sorted by grouping order. Let me know if that works and I'll get a PR in if so.. Yes I remember I didn't take account of sortorder when I fixed this last time. On it now.. It is doable now but you need to provide your own Repository class to do it...\nThe default repo is defined by default as:\n$app['storage.repository.default'] = 'Bolt\\Storage\\Repository\\ContentRepository';\nIf you replace that with a pointer to your custom class (and just make the class extend the ContentRepository class)\nThen the only method you need to change in your new class is this one that's in there.\n/**\n     * @return string\n     */\n    public function getEntityName()\n    {\n        return $this->entityName;\n    }\nBy default that will return the Bolt\\Storage\\Entity\\Content but you can change that to return the fully qualified name to your replacement.\n. yes, I don't see any reason why we can't continue to support the class config on contentypes for when we switch over.. OK, good to go.\nFor testing this remember you need to make the below addition to config.yml\ncompatibility:\n    setcontent_legacy: false. @bob I've had a bit of an attempt at fixing this in the storage layer but because we need to get it to work in both legacy and new storage I'm thinking that you were probably correct in suggesting fixing this at the template level.\nWe have a method in the storage.metadata service getFieldTypeFor($contentType, $column, $field = null) which pulls back the field type info for any ct/field combination and optionally with the third parameter for the sub-field of a repeater.\nWhat I would suggest is that we expose this method via a Twig function and then rather than calling: {% set fieldtype = repeaterfield.fieldtype() %} as we currently do in the _sub_fields template (which fails when repeaterfield is an array) we call the new function using the contenttype/field/repeatername and avoid this error.\nI can either add this to this PR or we can handle separately, whatever works best.. ok, the new filter/function is included here and I've tested with the base-2016 theme and all seems to be ok. Here's what needs to be modified...\nFirstly in the outer loop: {% for key, value in record.values if (key not in omittedkeys) %}\nany call to record.fieldtype(key) simpley gets changed to record|fieldtype(key)\nSecondly in the inner loop for repeaters and blocks we need to keep access to the original key variable so one minor change to the for loop: {% for repeatkey, repeaterfield in repeater %} that is using repeatkey instead of key.\nThen final changes, to get the fieldtype now in this repeater loop: \n{% set fieldtype = record|fieldtype(key, repeatkey) %} same as above except we also pass in the sub-field name.\nFinally to get the value we need to check whether we have an object or array so the final block looks like:\n```\n                {% for repeater in value %}\n                    {% for repeatkey, repeaterfield in repeater %}\n                    {% set fieldtype = record|fieldtype(key, repeatkey) %}\n                    {% if attribute(repeaterfield, 'getValue') is defined %}\n                        {% set value = repeaterfield.value() %}\n                    {% else %}\n                        {% set value = repeaterfield %}\n                    {% endif %}\n                    {{ block('common_fields') }}\n                    {{ block('extended_fields') }}\n\n                {% endfor %}\n            {% endfor %}\n\n```\n. @JarJak Once this is merged into 3.6 I'll revisit, there's been some changes to the default theme since and I'm guessing a few things have broken since.. I am almost certain that this issue has been fixed already the PR was #7312 \nThat made it into the 3.4.7 release, but of there's still an  issue then feel free to reopen.. For reference, the docs that introduced the multiple contenttype syntax indicate the feature was brought in here: https://github.com/bolt/bolt/pull/6299/ have we messed up a merge somewhere or was this broken when it was merged in?. Not sure if this will work but by way of a quick proof of concept. In FormResolver\\Choice I tried amending the get entities method to look like this:\nphp\n        $ctCount = count($entities->getOriginalQueries());\n        foreach ($entities as $entity) {\n            /** @var Content $entity */\n            $id = $entity->get($field->get('keys', 'id'));\n            if ($ctCount > 1) {\n                $values[(string)$entity->getContenttype() . '/' . $id] = $entity->get($queryFields[0]);\n            } else {\n                $values[$id] = $entity->get($queryFields[0]);\n            }\n            if (isset($queryFields[1])) {\n                $values[$id] .= ' / ' . $entity->get($queryFields[1]);\n            }\n        }\nSo we append <ct>/ to the id if the query is on multiple contenttypes.\nNot really done any major testing on it though so not sure how reliable this is?. Looks like this is another bug since the beginning of time that has slipped through the net. \nPrintquery is only run on a normal getContent query and not on a searchContent query.\nFor reference this is fixed in the new storage layer but it probably should be done here too since it's a relatively simple fix.. There's a fix already in for this in 3.5. I'm not sure whether it's going to be back-portable but I suspect not so we'll have to wait for the release to drop.. For the future once we've fully migrated to Symfony Config component we'd already talked about utilising the resource import feature so you'd be able to have:\nimports:\n    - { resource: another_contenttype.yaml }\nwithin the main contenttypes.yaml file and this would get included. Obviously this won't be available until the 4.x release series, personally I wouldn't be against having something simple in the 3.x branch now but I don't think we should spend too much effort on getting UI/perms for something that will probably be obsolete once 4.0 comes about.. I had another thought, we already support dynamic replacement in the config.yml file, would it be feasible to pass contenttypes through this so the value is provided by a service, eg:\npages: %contenttype.loader:contenttype_pages.yaml%\nReference for the config vars: https://docs.bolt.cm/3.4/configuration/reading#providing-variables-with-a-service. Just to confirm that the update in #7333 does fix this issue.. I believe this is a duplicate of #7303 if anyone else wants to test the proposed solution in that ticket I'll turn it into a proper PR.. @cndforster thanks for that, I'll get a PR in today hopefully.. I'm just going to look at the test failures, but one minor code style issue, can you add use statements at the top for the Runtime / Exception classes and not use the \\ absolute reference.. I can potentially see the problem, the current code only catches a RuntimeError and at least according to PHPStorm that Twig resolveTemplate call throws other types of exceptions too.. Have a look in your config.yml and adjust these options.\nhttps://github.com/bolt/bolt/blob/3.4/app/config/config.yml.dist#L233-L236. actually haven't tried that, does it work?. can you try in the getStorageOptions returning:\n['notnull' => false]\nAs far as i can see this gets passed to the schema creator, you can possibly add default => '' but if you allow null values hopefully that won't be necessary.. OK, been thinking about this one a bit. I think the crux of this is that we probably won't deprecate the getStorageOptions()at least until we've got something viable to replace it with.\nThe overall goal for Bolt 4.0 and beyond is to try and reduce the amount of work that each field has to do, because there's a danger of them turning into the mini-God objects of Bolt since fields like blocks, repeaters and relations etc end up doing a lot of work at each stage of the lifecycle.\nThat being said, it's essential that a field is able to specify whether it is written to the DB and what happens when it needs to be so when we finally get around to deprecating the current setup it will probably be enhancing the current getStorageType() to be able to return a more descriptive type than what we currently do via mapping directly to DBAL Types.\nSo for now consider getStorageOptions() fine to use until we announce that there's a new way to start using.. stalebot, you're drunk. Assuming #7291 is in 3.6 then I also have some work in progress on optimising loads for relationship joins. ref: #7183 . Thanks. Fixed\n. I think this is twig syntax for don't escape? \n. Actually strip whitespace: http://twig.sensiolabs.org/doc/templates.html#whitespace-control\n. Sorry, yes you're right.. i misread implode as explode. Fixing now\n. This is only an access interface, if you ask for getPath(\"cache/test\") you will still get back an OS specific path, just we're using forward slashes as a divider, the same as we do in config->get('general/branding')\n. Yes it can be, it's only needed along with the code coverage report which we've dropped so not relevant any more.\n. \n. Delicacy Injection:\n\n. eek, I don't think I meant to touch that file, must have rebased something wrong etc.\n. done\n. I think if it gets to this block it's already not a concrete Silex\\Application if you look up to line 95 then it returns.\nI guess there's an argument for allowing Silex\\Application as a string but I'm not sure how that would work out in terms of interface.\n. Travis the fascist. \n. No, just for decoration.... removed now\n. That's the one I've just put in.. It boots the new extension queue. Should this be part of the PR?. Can you also add this line underneath:\nthis.element.find('.duplicate-button').prop('disabled', 'disabled');. and this line underneath here:\n\nthis.element.find('.duplicate-button').prop('disabled', false);. sorry, yes missed a commit from my local version. talk about failing at the basics.... I might still have a rethink about how to do this better, but yes, the problem it solves is that calling `record.taxonomy` on the legacy content objects gives a very specific key/value array structure that it's impossible to patch in without ruining the concept of having proper collections for taxonomies.\n\nBut at the same time, the taxonomy_links twig templates depend on them being this way, so I can't make it BC, so the next best option as far as I can think is to provide a filter to standardise until a time the theme author can rewrite the Twig.\nSo for this reason, it's new, but immediately deprecated so that we can remove in 4.0 by which time themes can have been tweaked to use the new structure.\nFinally, I just thought it was better not to add the legacy config stuff into existing extensions but I don't mind either way, I started doing it in RecordRuntime and just thought it might be more isolated as a separate extension that we can throw away as soon as it's time has passed.. Where do you reckon? It was in the actual content record before, which is a bit of a nightmare because we would have to inject all the config into the content entities.\nThat info is all available in the controller and it seems like the sort of thing that can/should be done there because you're using that info to decide which template to show etc.. cool, that sounds fair enough. \nOnly other strategy I can think of since the goal of this is to add some metadata to the request object is to do something with an event that can have the selected record passed in along with the $app['config'] and $app['request'] services passed in as dependencies.\nIf we did that though it would probably have to be up to the controller to trigger the event, unless we already have an event we could hook into.. Yes, this is only a legacy feature and I don't think the query parser is the right place for it. We have HTTP status exceptions and they can look after logging 404 errors if so needed. As with everything in this PR legacy stays exactly as is and we can decide for 4.0 onwards what we want to keep and drop. If in this testing phase a feature is found to be missing, then we will happily add it in, but there's no need to automatically include existing features if we think they don't fit.. Updated. ",
    "nanotime": "@mike-anthony yep i'm tried but nothing.\n@bobdenotter humm, that's the problem, i don't know what it's broken, the log just say me \"unexpected end of file in the file\" ... then, the process are stopped and the unique file descompressed is \"app\". let me try to get some other log\n. @bobdenotter Well, weighs just 315 kb when it finishes, bolt_1.2.1.zip = 1.2 mb and tar.gz (in latest version or 1.2.x) 1.7 mb ... i use firefox, chrome, chromium, Opera ... same results with Curl \n@mike-anthony Once upon a time I used it, but ... when running on the server threw me some strange problems, may be more my fault, I'm not a PHP developer and I know little about composer, i most use PIP for Python, but Bolt is better when it comes to putting together quickly and make deploy sites in any server, so it pleases me.\n. Ok, that's weird @bobdenotter the Dropbox Download works fine ._. \n. Try the installation via composer as soon as possible and tell them that this is the\n. Could be a problem with my PC, but i don't know what\n. ",
    "bungcip": "try download bolt using a download manager.\n. ",
    "karfau": "I also had this experience, but wget just started a second try and continued where the download stopped, and after that the file was complete.\nbut at another time when I tried to download the file a second time from windows, the 1.2.1.zip only had about 300k (if I remember correctly). After some confusion why I couldn't unpack it, the second try worked.\n. same for me, at least with 1.2.1\n. The good news first: When trying to reproduce this on a fresh setup in my target environment (shared hosting), this works fine.\nBut it still doesn't work on localhost using a vhost-config, using Chrome 29.0.1547.66 and Firefox 21\nThere is nothing (else) in the js console of both browsers that points to anything obvious.\nAs this is very diffucult to give you access to, I uploaded the source of the page:\nhttp://karfau.de/test/broken-pre.zip\nyou could also visit it directly if it helps:\nhttp://karfau.de/test/broken-pre.htm\nI know things might behave differently when opened via file://, \nbut for me this behaves the same as when reguested via http://andrea-lauer.local/zu-wort-gekommen.\n(The only strange thing I recognized: I can't set a breakpoint (that gets triggered when clicking)into those js-blocks that handle opening/closing of the buttons, not even for the button that works.)\nIf any other info would help to debug this, I would be glad to help.\n. I took a closer look at the file I uploaded with a proper IDE:\nit told me that the ids for those spans where all duplicate.\nI tried the changes in the pull request locally and it works.\n(I'm running XAMPP 1.8.2 on a windows XP machine for local development)\n. I solved this by publishing them ;)\nThey where not shown when the state is draft even when being logged in as the owner of the page...\nIs there some documentation I missed, how to preview drafts or unpublished stuff in the context of other pages and not only via \"Preview\"-link?\n. ",
    "namli": "I have same problem in 1.6 and 2.0 version. In Google Chrome upload button is work properly  but in FF, FF dev, IE 11 upload button don't react on click. \n\n. I'm take screencast for Chrome https://yadi.sk/i/swXytvOSdQFzf and Firefox https://yadi.sk/i/AKFuCjgDdQG35 . In FF uploading button don't react just when you add new entries\\page.\n. ",
    "rarila": "Bug confirmed, working on it\n. Solved by https://github.com/bolt/bolt/pull/2324\n. I was looking for a CSS framework the last few days and I must say, I'm a bit disappointed. There are hundreds out there but I found none I really like. From a optical point of view Semantic UI is really nice. But despite its name, it's not really semantic and the responsive part seems a bit missing.\nAt the moment I have switched to Foundation and it seems that there you can be semantic by using SASS mixins. I don't really like to have the HTML polluted with classname lists that are longer than the other HTML code. I think that stuff belongs into the stylesheet.\nYesterday I kicked out Bootstrap 3 (for SASS) as I think it's overly complicated. You can perhaps get fast results, but you always get the same result. I think it's not easiliy customizable. Take whats there or leave it. I don't know what people like about it.\nAnother point where it often lacks is documentation. A technical super framework doesn't help you, if you don't know how to use it.\nSo I have mixed feelings these frameworks. I'm looking forward for Foundation 5, let's see how that improves...\n. @bobdenotter: inuit.css... thanks, but this one seems to be quite limited when it comes to docu\nAnyway, Foundation 5 is out, let's see... :-)\n. :+1: \n. Karma^2 for @GawainLynch\n. I'm a bit out of time at the moment :-(\nI'll put it on my todo list. Perhaps those errors aere gone in 4.3 anyway.\n. ok, that's it.\nin short I wanted to make the listing tables in dashboard and content configurable as title and excerpt works nice for blogs and articles but is rather useless for e.g. managing a employees list (where like to have listed name, telephone number, ...) or other more database like stuff.\nIn my implementation I went the convention over configuration way and simply used the array includes to see, if there's something like specialfolder/_rowdata-contenttype.twig and use it when it's there and otherwise just use the standard title/excerpt template. Works quite nice with the lines above commented out.\nSofar I haven't got the time to get a deeper knowledge of how twig and bolt work internally and at the moment I don't have the bigger picture of why and when this is needed. But I just had a look at the twig docu and it says\n\u2026 This loader should only be used for unit testing as it has many limitations \u2026\nso I wonder if there would be another way to achieve the goal. But as i said, sofar I know almost nothing about bolt/twig internals and what e.g. the unconvinient way would be.\nFor my \"problem\" the configuration way would work. Perhaps a directive in contenttypes.yml would do the job and then the template to load could be injected as variable. (hmm, there is already listing_template, ok, but a name could be found).\nBut the convention way has a bit more charme to me. also if it would be possible without too much difficulties to lower the impact of the string loader or perhaps find another way to achieve the goal would also give the template developer more possibilites.\n. Hmm, I would prefer a strict separation of developer/user generated stuff and bolt code. This would make backups installations and updates much easier. At the moment things I generate are much spread about the whole installation. Let's see where things I create/generate ake located:\n- /app/config\n- /app/extensions/\n- /app/database\n- /app/resources/translations/xx/\n- /theme/\n- /files/\nAt least with the translations and in a minor degree teh files folder I'm in danger of deleting my work when I'm copying over a new bolt installation.\nPerhaps in the long term (2.0) an additional level /user or /custom or whatever it would be named could be added and some default folders named /dist or /app/dist\n- /user/config\n- /user/translations\n- /user/database\n- /user/extensions\n- /theme\n- /files\n- /dist/config\n- /dist/translations\n- /dist/files\n- /dist/theme\nThe user folder would be \"freely\" locateable, so that it could be moved outside the webroot. With the first start of bolt things are copied from the /dist location to the user location and is save from being overwritten in the future. I think it wouldn't be too difficult to parse two extension and theme folders also as the theme folder is switched anyway. In the theme dialog there could be a \"copy theme\" that copies over a standard theme to the usertheme folder with a new name  to have a easy start.\nWhat do you think?\nOk, back to this issue here. Perhaps if you like my idea (at least a little bit) we could open up another issue for 2.0, see what the others here think about it and work out the whole concept.\nI think the curent theme folder would not be suitable (although a bit better in the sence of separation) as I think it's more a frontend thing and switching themes shouldn't change backend behavior.\nSo perhaps we have to live with a /app/view/custom/listings/ allthough I don't like to mix in another custom folder in the codebase. Perhaps the whole thing could stay in 1.4 as an undocumented feature.\n. Fine! -- Yes, I'm still fighting against git. Tried to rebase the patch and finally ended with a detached branch. :-(\n. No reason to thank me, I introduced this bug ;-)\n. How about anouncing the provided function names in the info() part. So at least bolt could warn or even prevent the user from activating another extension with an already used function name.\n. Ok, found it. In Content::setValues() I changed unset($values['username']); to $values['username'] = ''; which should work.\nI wonder if it would be better to cycle through all tables while checking the database and set all user id columns and after this remove the username columns from the database completley?\n. Hmm, ok. But as it seems the username column isn't created for new tables so won't they break anyway?\nAny idea how to fix my problem as it seems the patch above doesn't do it.\n. Had to to a database cleanup. Now it works. Can be closed. Thanks!\n. I also had this problem (with german words). I \"solved\" it by using the english words for the contentypes and some german routing that translated to the correspondending datatype. In another case I used \"news\" and \"newsitem\".\nBut I don't know why this could confuse the routes anyway. Without knowing anything about the internals of routing some simple regex would solve the problem:\nhttp://example.org/sheep -> \"/sheep$%\" an overview listing of sheep\nhttp://example.org/sheep/shaun -> \"/sheep/(?<slug>.+)$%\" - a specific page, identified by 'sheep'\nSimply said, if the URL ends with the contenttype then listing is selected and if the contenttype is followed by an \"selector\" the selected item is displayed. Am I overseeing here something?\n. @tchebb: sounds good to me\n. --optimize-autoloader generates an > 289kb map file. I somehow doubt if loading such a big file in advance really makes anything faster :-)\nOk, I also removed .git files and tests (in my synchronized directory, measured the uncleaned dir above) so the resulting difference seems to be these .res files. So the question is why. Your script doesn't seem to do some symfony localisation step (so that there's only en.php left). Perhaps I should try to find out which symfony version is used in 1.4.4 and if there was something changed in the lib between versions.\n. As one wrote in the forum renaming Kitchensink to Generic Example would help a lot.\n. Sorry for reopen, but I still would prefer renaming Kitchensink to something more selfexplaning and serious (when even our lovely :penguin: and :monkey_face: images get killed for that reason), like Example, generic Example, Sample, Showcase or whatever.\n:sparkles: Showcase :sparkles: sounds nice and descriptive to me.\n. See how the advertising industrie works. Add some shiny sparkling and the thing gets bought like cold beer ;-)\n. In my opinion things like\ncolor: #F00\nbackground_color: #E2E2E2\nbelong into a .css file. And as you can't put twig variables into css\u2026\n. @trigau Your suggested patch seems right to me. It principally changes \n$order = $app['request']->query->get('order', '');\nto\n$order = $app['request']->query->get('order', 'id');\nas sort defaults to id but i don't think this should be a problem. Bob? Is the result unsorted if not set otherwise? But why defaulting to id and then not using it?\nSo, :thumbsup: to this patch!\n@trigau Do you wanna make the pull request to get the kudos or should I (or Bob)?\n. @GDmac :thumbsup:\nThat's also high on my todo list. (If my day only had 48 hours :alarm_clock:)\nI thought of having an optional  attribute named uploaddir or something similar for all fields that can upload files. That way you can place images on another path than say downloads attached to an article. And that way you can generate pretty urls like www.example.com/downloads/flyer.pdf, something you can't with that naming on dates.\n. Hmm, you mean I had to call this contenttype Seiten then? Then you get strange looking identifiers like \"Actions for Seiten\" in the translation yml's. I somehow prefer having variable names, table and column names and so on in English, as PHP itself, the fieldtype names and everything else programmed is in English. What do you think?\n. Perhaps a notice (\"unused column\") in the database check would be usefull then?!\n. Absolutely the same with me. But as sometimes the contenttype name isn't translated in the backend I had to change it in the definition and so finally bumped into it.\n. Hope you found the easter egg in this patch! :egg: :yum:\n. Your joke detector seems to need a patch, too :wink:\n(No, I haven't!)\n. hehe, actually found it a few hours ago in the sources while looking for another issue :-)\n. Ok, now I know :-)\nBut it doesn't help with the two described problems above. It's more of an ultralight oneway relation.\nAnyway, for me the problem is solved (halfway) as for now I can life with having the boss connected. But I think that could be a useful future feature. I suggest the following: \nrelations:\n        employees/executive:\n            multiple: false\n            label: Executive employee\n        employees/standard:\n            multiple: true\n            label: Employee\nThen you could easily access it by\n{% set relatedrecords = record.related('employees/executive')%}\nin the template.\nBob, you have the best overview over the sources. Do you think that functionality could be implemented without too much hassle? Anyone else here would find it useful?\n. @ntomka from 2014-04-16, not that old \u2026 when you don't update every day ;-)\nAlthough I read all commit messages and issues I somehow missed that one \u2026 getting old ;-)\nThanks!\n. Ouch!\nSo when you talk about \"soon\", do we talk about days, weeks, years, \u2026 ? :-)\nPerhaps I better wait until then. Let's see\u2026\n. As I've started anyway... :-)\n. @rossriley Of course you're right. I somehow was in the missconception that the databse is searched at path/databasename. I should have looked at your patch with two eyes :-)\n@bobdenotter Ah, ok, that's a valid reason. (Allthough I prefer having all stuff that's not for being served outside the webroot anyway). I would prefer .sqlite because .db is quite general and used for quite all kind of formats so it's difficult to associate a program to open the database by double click or make an IDE open it with the correct program.\n@rossriley So (allthough I like to use another extension) perhaps I would be a good idea to change the behavior of your patch to also force .db as extension for security and consistency reasons. perhaps by simply let \u00b4\u00b4path\u00b4\u00b4 default to app/database and use the path & name combination.\nFor simplicity I think it would be good to use .sqlite for 2.0 and combine both options into one (path) so when it's only a file name, app/database is prepend, otherwise it is used as path.\nAnother thing: I wonder if the option path should be renamed to  databasepath for consistency reasons (allthough the other way round would be nicer: name +  path)\n:sweat: hu, that was quite some text. Anyone still awake?\n. \u039cy two cents: I had no time sofar to investigate the thumbnail thing in bolt deeper so perhaps I'm wrong. First we should summarize what is really needed (not only because I don't know :-).\nBesides creating a smaller version of an image that fits into W x H pixels. That should be a few lines of calculation and a few lines of GD code. What else? Some caching? As the files should be quite small I think it would't be a big deal to save the thumb as filename.thumb.jpg or filename.100x50.jpg (if there are more than one size is needed) along the original image. Or to make a long story short: keep it simple :-)\nThe packages above look more like complete image manipulation packages. Allthough I don't quite know what is needed, I doubt the answer is a Photoshop light.\n. @GDmac Sometimes (=> TimThumb ;-)\n. If I had time to do some auditing...\nCode-style: perhaps it would be a good idea to put some code style guidelines up for things not catched by PSR:\n\" vs. '\n&& / || vs. and / or\n\u2026\n. Nether wanted to restrict something or change PSR.\n- \" vs. ': I know the difference. I my code I strictly use ' when there's no interpolation needed and that way you see at the first look that you can't screw things up when editing that string by mistakenly changing some variable names. If I see a \" string I always know to be careful.\n- && vs and: thing is, in a project with several people working on not little syntactical differences makes the decision what to use (where perhaps some brackets would be better to make things real clear). It's simply personal preference. It is used what the coder is used to (same as echo vs. print). So we get nice mix from line of code to line of code.\n. @GawainLynch yep\nAlso I would change the function from\nphp\n   function makeSlug($str, $length = 64) {\nto\nphp\n   function makeSlug($str, $truncate = true) {\nas the only call with length parameter seems to be makeSlug($slug, -1). And if the length parameter is only misused as truncate indicator, we could also name it that way to make things easier to understand.\n. @GawainLynch Hmm, at the moment the string is always truncated except in that one case when -1 is used as length parameter. So with using false you were forced to add an true to every function call made in bolt.\nAnd if you like something really brain dead you should have a look at the ICU documentation. Lot's of text but far away from being helpfull (same as php intl documentation). :confused:\n. @tobias2k Yep, i assumed a language depency already while investigating the Transliterator class. Anyway as you always can set the slug by hand it's better having to set it in those 2% special cases you mentioned instead having to do this in 98% of the normal case.\nYour citt\u00e0 -> citta' example is no problem at all, as ' is eliminated anyway so French and Italians should be happy.\nWe have already a locale setting in config so perhaps this one is usable for our case. If we look at bolt/app/resources/translations/ I think there is not much need to think about Chinese or Kiswahili users yet. :relieved:\nAnd multi language isn't Bolts top feature yet either. So I would vote for making it easier for the majority.\nThe bad thing is it seems, the function is also used for creating tables so this leaves the backward compatibilty problem. Perhaps renaming changed tables while db checking or using the old slug version just for non visible things like table names\u2026 only Bob can tell\u2026 :pray:\n. I experimented a bit with the Transliterator class and it seems it can handle almost the complete slug generation in a very nice way. But I didn't manage to solve my two letter problem. The docs say you can use language identifiers like de_DE in the rule definition but I didn't get that to work (sofar). Perhaps something like \nphp\n    switch ($app['config']->get('general/locale')) {\n        case 'de_DE':\n            $str = strtr($str, array(\n                '\u00c4' => 'Ae',\n                '\u00d6' => 'Oe',\n                '\u00dc' => 'Ue',\n                '\u00e4' => 'ae',\n                '\u00f6' => 'oe',\n                '\u00fc' => 'ue',\n                '\u00df' => 'ss',\n            ));\n            break;\n    }\nin front of it would help here. Other languages with two letter conversions could be added here.\nOne caveat: the Transliterator class is PHP 5.4 and intl and icu must be installed. But some class_exists() magic with the old version as fallback would do the trick.\nLeaves us with the compatibility issue. Would it be possible to split the usage to internal static usage and external link creation usage?\n. Sure, we did :-)\n. Don't think anyone did any changes there?!\nCould it be you mistake Transliterator with Translator?`:-)\n. Perhaps we should move that point to the roadmap?\n. I think we have a nice start now to go on.\nThere's already a fieldset.checkbox {}. So what do you think would be better: :question:\n1. Rename my fieldsets to fieldset.type-checkbox {}\n2. Rename existing fieldset to fieldset.widget-checkbox {}\n3. Use a selector (have to look if already one exists) like this (Of course the other one must be treated the same.):\ncss\n    #editfields {\n        fieldset.checkbox {\n        }\n    }\nI prefer the last one :thumbsup:\n. I would like to have that feature, too. :thumbsup: \n. @rossriley It would be really cool if there would be some progress on porting the new upload system on Boltcamp, so that at least using local folders apart from /files could be used without a problem. :pray: \n. We should think about using one of these for MySQL:\nsql\nSET sql_mode = 'ANSI_QUOTES';\nSET sql_mode = 'ANSI';\nSET sql_mode = 'POSTGRESQL';\n. Isn't a big thing anyway as this is temporary anyway. Just wanted to know.\nInteresting is, that none of the following routes matches:\n```\nindexbinding1:\n  path: /index.php\n  defaults: { _controller: 'Bolt\\Controllers\\Frontend::record', 'contenttypeslug': 'page', 'slug': 'index' }\n  recordslug: page/index\nindexbinding2:\n  path: /{slug}.php\n  defaults: { _controller: 'Bolt\\Controllers\\Frontend::record', 'contenttypeslug': 'page' }\n  contenttype: pages\nrequirements:\nslug: index\n```\nAlways the homepage binding gets the match. Seems like index.php is handled someway special and you have to change the rewrite rule to some other php file if you really need to have index.php.\nMeanwhile I solved my \"problem\" with simply using home.html instead of index.php. How simple life can be :-)\n. thanks for the docu link. Seems my assumptions were right. Gonna test \u2026 :grinning:\n. Ah, ok. perhaps this isn't the thing I'm in need of anyway. I could live with one upload dir. Perhaps those upload prefixes would do the trick for me. What I need is assigning different upload dirs to different contentype fields (instead of that not really usefull date('Y-m')). Something like this in contentypes.yml:\ncontentype:\n    fields:\n        docs:\n            type: file\n            upload_dir: downloads\n        gallery:\n            type: imagelist\n            upload_dir: images\n        blahfasel:\n            type: html\n            upload_dir: inlineimages\nthat would get me the following file structure\n/files/downloads/\n/files/images/\n/files/inlineimages/\nSomething like the upload_format mentioned in #574 would be nice.\nIs something like that planned or even already (partly) done?\nTell me, if I can help somehow.\n. done. #1393 \n. :thumbsup:\n. hehe, seems like there are quite some more errors like this in that file. I'm just about to list them. Stay tuned :-)\n. - Line 134: \nphp\nfunction ($roleName) use ($app) {\nwhere $app isn't defined.\n- Line 120:\nphp\n$allRoles = $this->getDefinedRoles();\nhere $allRoles is never used\n- Line 120:\nphp\nuse Silex;\nyet another unused statement.\nThat's it for now, theres already a PR for another typo in there.\nSeems like I have to give my code sniffer a kick over the whole sourcetree. :smiling_imp:\n. Hmm, could be that I messed things up while trying to rebase the whole stuff and didn't want to slip possible errors into the code base. Still in war with git workflow somehow. Finally the rebase failed because the patch was missing email and trying to make an empty commit ammend with just email changed produced some strange results so that I finally pulled the plug for savety reasons.\nPatch will be back soon* although I will perhaps break it down in several thematically pieces as it is perhaps makes it easier to review.\n- Seems phpcsmd has a bug eating up 100% of the 4 cores when opening a file, so \u2026\n. ok then\n. At the moment I prepare a PR with PSR-2 based Symfony ruleset. I thought that would fit as we are somehow based on Symfony.\n. Ok, read a lot about branching models now and I must say, I prefer a nice brunch :cake::coffee: over any branch \u2026 but I'm fine with any decision you make.\nOn one hand I like to see the switch to 2.0 as I prefer coding into one branch instead of sitting between two of them. On the other hand I'm just about to finish a project and I would have liked to have one feature in there, that now probably goes into the 2.0 tree. But I always live on the edge, so perhaps I could give 2.0 a try in production and see if it's mature enough for my needs right before it's released.\nSo, go for 2.0 master :checkered_flag:\n. Hehe, about 10 years I was the last time on IRC. twenty years ago I was on IRC the whole day :-)\n. Ok, just spaces or linebreaks, so nothing special here. Things that would change change code I have left fo later.\nAs for the example above, PSR-2 states:\n\nArgument lists MAY be split across multiple lines, where each subsequent line is indented once. When doing so, the first item in the list MUST be on the next line, and there MUST be only one argument per line.\n\nAs I always say, better a bad standard then none. So I personally really dislike the use of spaces instead of tabs, but better to have spaces everywhere than a wild mix.\nI would prefer to split up calls with too many arguments anyway (of course with a more meaningful naming):\nphp\n    $setting = array(\n        $this->paths['app'] . 'view/lib/ckeditor/contents.css',\n        $this->paths['app'] . 'view/css/ckeditor.css'\n    );\n    $this->set('general/wysiwyg/ck/contentsCss', $setting);\nEspecially with multiline if clauses it helps to pull out long conditions out the if clause as you can document the condition with a meaningful variable name.\n. Ok, I finally managed to merge upstream into it (at least github now says it can be merged). I wish you had merged this patched before switching branches. Found out, that NetBeans isn't able to do a rebase and a forced push doesn't seem to doable also. Did it the cli way now :-)\n. Coming back to multiline formatting (as I found another example while reviewing). :\nThe original lines. Quite compact, if you know the code:\nphp\n$app['db.logger'] = $app->share(function ($app) {\n    return new DebugStack();\n});\nPSR-2-formatted. Quite better readable, especially when you think of longer inline functions:\nphp\n$app['db.logger'] = $app->share(\n    function ($app) {\n        return new DebugStack();\n    }\n);\nI my opinion much better and self-explanatory, especially when there's more than one function parameter:\nphp\n$db_logger = function ($app) {\n    return new DebugStack();\n}\n$app['db.logger'] = $app->share($db_logger);\nAnother thing I did change (once), although I really like the ?: operator:\nphp\n$cachetimestamp = file_exists($this->app['resources']->getPath('cache') . '/config_cache.php')\n    ? filemtime($this->app['resources']->getPath('cache') . '/config_cache.php')\n    : 0;\nIf it gets multiline in my opinion it's better to do it this way:\nphp\nif (file_exists($this->app['resources']->getPath('cache') . '/config_cache.php')) {\n    $cachetimestamp = filemtime($this->app['resources']->getPath('cache') . '/config_cache.php');\n} else {\n    $cachetimestamp = 0;\n}\n. Most style work should be done (except of the extensions folder which I left out by now) and as soon as I add the codesniffer rules perhaps one or another will use them :pray: there shouldn't be such big commits anymore. But if, what would the prefered way:\n- one commit for one changed file\n- sorted by what was changed, multiple files in one commit (as in this PR)\nand\n- one commits in one PR\n- multiple commits in one PR (as in this PR)\nFor the missing extensions perhaps one PR per extension with single thematical commits perhaps would be best?\n. Hmm, the starting position doesn't seem to have changed.\n. Isn`t increasing first level version number time to break things? ;-)\nBut ok, leave that for 3.0 if you like\n. Yes we can! (Did work for Obama;-)\n. Hehe! \u2013 As we talk of brains\u2026 doing brainless changes like this is the easiest way to win the committer of the month price :euro: ;-)\n. done\n. Additional bugfix in #1521 commit https://github.com/rarila/bolt/commit/012485b9f4f6bf0d3396f9213bc1f2f7d5582ce2. The needed changes in backend.php got lost somehow.\n. I wonder if Bolt/CodeSniffer is the right location and the right name.I can think of possible adding of configuration files for messdetector and copy paste detector.\n. I wonder, if there's a possible backdoor deeply hidden in that pull request. Could be a variation of that dangerous cross site docblock annotation whiskey injec5tion vulnerability threat. I vote for a deep audit! We should hire some experianced security experts for this.\n. > Got that. But I'd rather see this solution in user- (contenttypes.yml) than system-(/app)land.\nThat was also what I wanted when I introduced that feature (#746). My plan was to put that somewhere inside the config folder, as I don't like user generated stuff mixed with system stuff. But Bob suggested to put it where it is now. Perhaps we should consider moving it for 2.0.\n. Nice!\nConcerning rss_safe(): I was hoping there was some translation layer like in TwigExtensions::getFunctions(). Doesn't seems so, but I haven't had the time to investigate this further.\nIf we have to life with it I would prefer (as you did) consistancy with twig to have it nice for the enduser. maybe we could add\n// @codingStandardsIgnoreStart\n...\n// @codingStandardsIgnoreEnd\nto remove this issue from warnings.\n. @sbonardt yes, I'm working on the sticky footer and doing so address this problem also\n. Gonna check tonight\n. And I know what you did last summer! :wink:\n. No, there are no borders at all. I assume you have Chrome?! Doesn't happen on Firefox. Has something to do with the selection, as it only happens there. Have to investigate further \u2026\n. Ah, found it, PR coming soon!\n. Fixed yesterday her in my local branch\n. Oh, I thought you had forgotten to re-add them ;-)\nNo, it simply looks better in collapsed mode than just \"Co\" and \"Se\" \u2026\nAnd now, that the other content icons are gone \u2026\n. Would be good as k.i.s.s. variant for usecase: one site, one developer, one theme, one private extension to enhance things. (perhaps upload only per ftp)\n. If it works with $app['extensions']->register(new Any\\Ext\\Class) in a homebrew boostrap index.php (as a dev in mentioned usecase would create anyway to adjust paths) it would be ok for me.\n. Just about to test the method mentioned above.\nI'm curious if it would be much hassle or a performance impact to have all extensions in /extension/local/ automatically usable without any interaction (as it was before, just without activation in config). That would be even more k.i.s.s. like and they could be listed as \"readonly\" in the exension list.\nPing master of extensions @rossriley :-)\n. Did you test with IE < 11 (not that I care) :stuck_out_tongue_winking_eye:\n. Not possessive, but eventually possessed :smiling_imp:\n. Bobdenotterus locuta, causa finita.\n. Looks like IE8 has a problem with media queries as it is in small screen mode. Then there's only the top menu bar background color problem (also happens in IE9).\n. Thanks I'm not, I think I would :rage2::gun: then\n. @mike-anthony: Being agonized by IE6 for so many years\u2026 IE8 starts to act the same as seens here\n. The first time I wrote some documentation \u2026 :disappointed:\nCodesniffer can be installed in many ways. PEAR, composer, download, \u2026 or just use the one that is installed with bolt-dev anyway.\nFor PHPStorm see here and enter Bolt/CodeSniffer/Bolt as described here.\nFor Sublime Text and others I'm sure it must be similar.\nI hope ppl with editors/IDEs not mentioned yet the documentation add a short howto to there. :pray:\n. :+1: \n. Oh, the thing with\n/* @codingStandardsIgnoreStart */\ninstead of \n// @codingStandardsIgnoreStart\nis my fault, as I wasn't clear about what I meant on IRC. I needed it with \\* \u2026 *\\ for a function declaration. Codesniffer ignored the function parameters otherwise and then gave strange errors inside the function itself.\nWhat I was thinking of was something like this:\nif (/* @codingStandardsIgnoreEnd */@rmdir/* @codingStandardsIgnoreEnd */($currentfolder.\"/\".$entry)) {\n+\nto restrict switchig of to the minimum. Quite ugly, perhaps\n$success = @codingStandardsIgnoreEnd */@rmdir/* @codingStandardsIgnoreEnd */(\n    $currentfolder.\"/\".$entry)\n);\nif ($success) {\nOr it's all overkill at all. I could also think of forking this sniff and exclude those filesystem functions in general \u2026\n. :warning: btw, in app/src/Bolt/Cache.php it should be\n/* @codingStandardsIgnoreStart */\nif (@rmdir($currentfolder.\"/\".$entry)) {\n/* @codingStandardsIgnoreEnd */\ninstead of\n/* @codingStandardsIgnoreStart */\nif (@rmdir($currentfolder.\"/\".$entry)) {\n/* @codingStandardsIgnoreStart */\n. @GawainLynch yes, it's ok a few times, but if i gets used too often \u2026\nAnother solution would be putting them in the tool class (lib.php), we have to create anyway. Then we have\nclass Lib {\n    static function rmDir($path) {\n        /* @codingStandardsIgnoreStart */\n        return @rmdir($Path) {\n        /* @codingStandardsIgnoreEnd */\n    }\n}\nand \nif (Lib::rmDir($currentfolder.\"/\".$entry)) {\nLooks like a nice solution to me.\n. @GawainLynch LOL\nNot even it would be limited to one place, it would also be more clearly, as it's just on little command in that function.\n. Shouldnt take too much effort?! Creating classfile, copy over function, rename it, found occurrances and rename, next \u2026\n. We found a volunteer ;-))\n. Ok, I think this is fixed by #1960. Beloved lib.php, we will miss you!\n. Don't blame the browsers, it's just our code in ImagelistHolder and FilelistHolder which splits on|instead of,for some odd reason. Gonna fix that.\n. For me ExtensionInterface is ok. IsExtension sounds to method like for me, too. IExtension is to javaish to, we live in a PHP world ;-)\n. The corrected formatting is now finally in with #1794.\n. Just for notice, there's a problem with this patch. Good oldstrict_variables:-)\nFix is already done and will hit tomorrow\n. Did you have setstrict_variablesin config.php to true?\n. @GDmac Sorry for the delay, my VM run out of space and I had to set up a new one.\nIt's always good for devs to setstrict_variablesto true. (IMHO that setting should be removed anyway, is this programming or kindergarten ;-))\nFor the JS-question,data()just returnsundefined(or something like that) if the attribute is not set. So no problem there. I even added anif ($.isArray(custom)) {although that seems to be unneccesary asfor (key in custom) {` does not seem to have a problem with an undefined custom so even a short\nfor (key in $('textarea[name=' + this.name + ']').data('ckconfig')) {\nshould be no problem.\n. I really would like to know what security reasons that would be as I can't think of any. I don't think we should bloat the code with such things.\nWhat does the hosting support say on this?\n. @GawainLynch  We help people who just learn Twig more if we help them to do it in a correct way, not the lazy way. (i remember learning it that in Turbo Pascal many eons from now :-)\nIgnoring warnings and notices is always a great source of possible errors and then you spend much more time on finding out why something doesn't work than you need for just adding a default() or checking a is defined.\n@tobias2k If you catch errors already in devolopment then everything should do fine on production. The correct way would be not to display those message on production machines (doesn't do setting debug: false this already?) \u2013 Perhaps integrating this with the debug setting makes sense. debug:true would implicitly use strict variables, debug: false won't care and strict_variables could be removed.\n. Is there a way to set it to true for the core and set by config for the rest?\n. Dont's merge for now, as there could be problems with html in text fields (as discussed in IRC)\n. Will be fixed in another way\n. :+1: \n. Guess what I have done this afternoon :-)\n. @versh23 Good point. Gonna move that probably in next PR.\nSure there's things to optimize but this is also a backend routine that you won't call that often so time is better spent in making it better read and maintainable and perhaps make things working, like multi line strings inside _(\u2026).\n. Hmm, without testing, if it's an array then it should be simply {% if record.filelist %} or if you like it longer {% if record.filelist|length == 0 %}. Doesn't make sense to me to compare an array with a string.\n. Yep, wanted to make an issue on that, too. But it is saved. Looks a bit like it functions like save and create new entry\n. Hmm, opinion\u2026 that is, Windows nice as desktop, don't use as server!!! ;-)\nDid run tests on Windows only for bolt/thumbnails sofar and I'm a bit short of time at the moment. Gonna perhaps investigate later.\n. @GawainLynch Yes, Bolt runs on debian here.\nBeing quite busy with a project and working hard on changing translations from real to keybased in my spare time (extracting JS from templates waiting to be completed) this is on low priority for me at the moment, sorry. Perhaps next week \u2026\n. both.\n. So, as it happens again I like to finally bring that back on the table. As I don't see any advantage on converting to CRLF in working directory on Windows (are there any serious \u2013 that excludes Notepad \u2013 editor out there, that has problems with LF?) and I don't think setting these things globally and not project based inside git I would like to force this as mentioned above. Don't know if this would solve all issues in the future but it sounds like the best option to me.\nSo the question is, would there be any reason not to force LF on windows? (editors, tools, servers?)\n. Still an issue: #2393 :-(\n. In this case I guess it has to to with new grunt-sass using libsass\u2026\n. #karma bopp\n. Nat\u00fcrlich Freibier! :beer: :beers: :beer:\nphp\n$this->app['beer']->serve('everyone')->sendBillTo('GawainLynch');\n. Sorry for reopening, I somehow would prefer:\ntemplate_maintenance: maintenance_default.twig\ntemplate_homepage: index.twig\ntemplate_record: record.twig\ntemplate_listing: listing.twig\ntemplate_search_results: listing.twig\n. Ah sorry, read only with one eye thinking these are new :-)\nSo as we can't change them in the global one (who invented that dam... compability?!) \u2026 :(\n. Thanx! \u2013 We now have a \"little\" problem. We are in a change from real to keybased translations and about 70 of them have already moved (more to follow). You see that, when you edit the translations inside Bolt (Translations/Messages). Then you see the new hierachical keybased view at the end of the generated file. How can we handle this situation now. Could you be so kind and do the mapping? :pray:  That would be great! :clap:\nIf you do so, we should time that here or IRC, as all other strings will changes to the new scheme, too. If the translations is merged in, I will do further remapping.\nAnd then there seems to be a little error:\nShouldn't \u2026/translations/el/messages.cs.yml be named \u2026/translations/el/messages.el.yml?\n. No problem with the typo!\nGuess you did the translations just using an testeditor or inside bolt using an older version. (hat change was just merged in yesterday)\nHave a look at the new English translaton. That's how the translations are organized now. (I did the change to keys in the other languages just in flat format sofar and you can find no untranslated ones in the English version sofar)\nBtw, there's a bug in there at the moment, so translations inside bolt don't work.\nYou can find me on IRC if you like. Perhaps we can discuss that there faster.\n. Just saw, these translations are new anyway. So I will merge them in and change the typo myself. That way further changes I'll do will be \"automatically\" mapped by me. Perhaps the best way to solve his.\n@bobdenotter Can we merge that, as Scrutinizer failed?\n. @GawainLynch however this guy is called, don't care. I'll merge it in :-)\n. @lexislav That`s because non of the translations except the german one is complete - so no bug, just not done\n. @lexislav hmm, if it was translated already, then it should work as I mapped all translations in repo to the new value. Have a look at it later\n. @bobdenotter still a problem. It's in line 49 of TranslationServiceProvider.php\nDon't know why that dirname construct is used there. The path is set wrong for sure. Don't know why it works for you.\n. @lexislav ah, what language is that? :-)\n. ok, cs. Translation is in:\n\"field.general.select-from-server\": \"Vybrat na serveru\"\nPlease check if it is your messages.cs.yml\n. @versh23 Sure, I just wanted to know from @bobdenotter if there was a reason for using this dirname construct instead of $paths['apppath']\n@lexislav I'm sorry for inconvenience\n. Move them to /extensions/local/{author}/{extension}/\nSee #1847\n. afaik it's activated automatically\n. That is quite strange. Btw. here it's also field.slug.* and field.video.*. So the question is, what's the difference between the ones that get save and the other ones \u2026\n. Don't think so,it is. Finally found out. All keys starting with field.* don't work\n. That was a hard one. Finally the bug is found. Problem was, there is a old style \"field\" translation that did of course overwrite all field.* translations. Not that trivial to fix though \u2026\n. pinging @lexislave hopefully fixed now with #1955\nGive it a try and report issues\n. Known bug: => #1930 \nWorking on it :sweat:\n. No problem. Sorry if I sounded harsh, I'm just a bit bugged by this bug :-)\n. pinging @peterboorsma hopefully fixed now with #1955\n. pinging @gwbonline hopefully fixed now with #1955\n. Hmm, may I ask, what's the advantage of using sprintf over concatenating?\n. Sure, prepared statements are a good thing. But I see functionally no difference in using sprintf or concatenation. But I'm always willing to learn :-)\n. Hmm, does sprintf impose types? Isn't whatever parameter you put there simply converted to string, same as with string concatenation?\n. There seems to be something wrong with \\\" spreaded all over. Did Bolt insert these or did something went wrong on your side?\n. Ok, was a bug, sorry. Gonna fix that \u2026\n. Btw, you can remove those \"unused messages\" if they aren't could be used elsewhere (as it sems to be the case here as everything is translated)\nShould I merge first?\n. I'm sure the commit/pull request ratio is the highest in Bolts history. :ribbon: \n. Fixed in #1973\n. Just to have it written down for reference: It looks like __toString() isn't triggered automatically in all cases. Using \u2026->string() as in this patch helps then.\n. Not reproducable here. Others with that problem?\n. The thing what wonders me more is, why are the icons of kitchensinks different and why is there an icon at all\n. Should be an S, shouldn' it?\n. Fix on #1975\n. Ok, there is an icon and an icon_singular setting in contenttypes.yml. Didn't know that.\n. Wanted to wait for travis to finish\u2026\n. Call you Gawain \"The Edge\" Lynch from now on\n. @jkazimir Nice, but I would suggest renaming Arr to Array as the others aren't called Inp or Str either.\nEDIT: forget my comment, keyword.\n. Implementation done: #2009\n. icon_more_than_one ;-)\n. Hmm, looking on http://dict.leo.org multiple doesn't seem get it also. For me many seems to be ok. Think of one-to-many relations, they can even be one-to-one relations in reality. Perhaps we should ask some native speakers (yes, even certain not to be named Australians;-) on their opinion.\n. hmm, if that is a point it had to be singular_icon\n. Ok, Bo(p|ss) has spoken. Gonna make a PR.\n.oO(If the USA had two or more presidents, would their plane be called Airforce Many then;-)\n. Hmm, perhaps it would help to use mb_strlen() inside Html::collectNodesUpToLength().\n. In a short test that didn't help. But I didn't had the time to investigate this further.\n. Just stumpled upon this on: http://pastie.org/3084080 which looks at least interresting.\nAlso found excerpt an truncate, without having checked if it does multibyte and handles entities correct as the one above seems to do.\n. Yes, had the same thought about that radius thing and it's MIT.\n. Without checking how this is handled inside and so perhaps totally wrong , something like if view-permission is owner then add \"where owner = name\" to the select query would do the job quite nicely and without performance hit.\n. Pinging @rossriley \nI think that should fix that but you should know better :-)\n. Could it be that SQLite does some max(id)+1 instead of real autoincrement?\n. As for dates I don't see a problem with datepublish, except you have a time machine (McFly?) Haven't tested with other dates though, but they shouldn't be restricted that way.\nAnother oddity, datepublish with value 1900-01-01 00:00:00 seems to mean no depublish. My OCD doesn't really like such magic numbers. The column should simply be datedepublish DATETIME DEFAULT null and then set to null if there's no date set. Seems we can have some fun with v3 springbreak cleaning, or :crying_cat_face:\n. It's called icon_one:and icon_many: and you have to namespace it with fa: now.\nSee #1995 and #1996\n. Has anyone checked if and how long googles font is cached? Perhaps our own served font with good caching setting won't slow down anything, makes netless development easier and would as an extra prevent privucy issues, if there any.\n. Can't await to switch to en_AU so adding this is a must :+1: \n. Guess when you read the topic you already know that you are on #boltcms and that this is an irc channel.\nHaving found http://bolt.cm your are one click away from documentation and github that are prominently presented on top of the page.\nWith these two gone it's easy to conclude that something starting with http:// could be a \"site\".\nSo what's left?\nWelcome to the Bolt CMS community | http://bolt.cm/ | Latest news: Bopps 2nd beer is \u2026\nGreetings from the department of k.i.s.s.\n. Wait for #3069\u2026\n. :warning: My bugs have a delayed detonator ;-)\n. Which ones? Looks like deprecations hit with 3.0\n. The language shouldn't change anyway and the others look rather minor to me. But I had only a periphere contact to what this lib does in Bolt. That's why I did this issue instead of just updating :-)\nWas hoping anyone knows someone who knows.\n. Ok, that was your chance to get some commits. Gone\u2026 :-)\n. :+1: \n. @GawainLynch when can we expect it to hit?\n. @GawainLynch is this just for internal event logging or does this make monolog useable for dump/krumo so that these can be redirected to eg. Firebug?\n. @GawainLynch Is a \u00b4\u00b4dump()\u00b4\u00b4/\u00b4\u00b4krumo()\u00b4\u00b4 refactoring planned so we can get their output somewhere not in html?\n. So it's weekend, nothing to do in the land of nowhere except squashing empty beer cans \u2026 ;-)\n. :+1: \nChanging handling of media is already discussed for 3.0\n. Fixed by #2063\n. Thanks, but no need to invest further time here. My plan is to have these files in /config use the ones in resources/translations as dist files. That way your personal changes won't be overwritten by Bolt updates. So code for creating these folders will change anyway.\n. That's a problem of how the grouping has to be defined in contenttypes.yml. I think that part was made a bit with a hot needle and I'm not quite happy with it at all. But I guess nobody want's change that now that we're in beta.\n. @xiaohutai :+1: :+1::+1:\nIf I have e.g. have articles to sell and have relations color and material and say a relation postal services or something like that then perhaps I like to have the first two together with the article description and the latter one on the tab with size of the box, weight and what i costs to send. Most relations do only one thing in common: they are related to that contenttype but that's a very bad thing to sort.\nYou won't sort your clothes for color (red ones this drawer, green ones that drawer, \u2026), you will certainly put trousers to trousers, socks to socks, \u2026 :)\n. In another example I have I have staff of the offices a business as relation. Explain the editor why this is to find under Tab \"Relationship\" and not under \"Staff\". The kind of the office is another relation (I used a select popup instead then). Both relate not a bit but appear under the same Relationship tab instead of Staff and Office details tab.\n. That should be done like that\ntoolbar:\n    styles: ['Format']\n    Basic: ['Bold', 'Italic']\nanyway and translated to those name/items thing\n. That whould be just a few lines of code\u2026 switch for toolbar keyword\u2026 loop through existing settings\u2026 if name/item array found, set it, otherwise create it. Ready.\n. yes, that's the global setting - naming should be deprecated and adjusted to be the same as in options.ckeditor\n.  I would choose cake independently of number of digits to remember. So what tells us this? ;-)\n. => #2095\n. Aren't there still a lot of things to solve. Better a good v2 that not breaks things soon again that is a bit later than the other way round.\n. Why not merge it. It takes no time to through it out again when translations mutate to dist files.\nAlso I haven't put much thought in the info part sofar and left it like it was before. There have to be a few things to consider\u2026 could be that these will be moved to the generic contenttype messages and will be overwritten by contenttype aware info messages that live in contenttype.xx.yml. So putting too much effort into this is bit waste of time.\n. :+1: \n. Question is, why do we insert after the last <script> tag instead of just inserting before </head>  inExtensions::insertAfterJs() which would be faster and circumvent this problem. Is there a reason for that extra work?\nBtw, is that 1.6 or 2.0?\n. @bobdenotter I meant for the $insidehead = true case\n. Done!\n. No, that's a supersecret dev only function ;-)\nDidn't found any of the other available filters there documented. Are they?!\n. My OCD mate beat me to the punch :hammer:\n. Please use a single issue for every issue in the future, I guess that makes handling easier :-)\nAs for the first one, translations are still in flow so I guess there were just some changes made. You can simply find out by opening the translations editor inside Bolt. If that doesn`t help, please tell us which pages are missing translations.\n. @GDmac Yes, I know. There are some that should changeand some there this behavior is somehow intentionally\n. @gwbonline Bob did some additions to the dutch translation. Does this solve your issue yet?\nAnd don't forget to check for untranslated strings inside Bolt and not just the translation files. They are not updated to display strings to be translated automatically. That would take too much time.\n. @gwbonline no need to screenshot \u2026 that was what I just typed\u2026 too late .-)\nNo, there does not exist any dutch translation concerning the contentypes at the moment. See \"Vertalingen / Contenttypen\"\n. As I said, open \"Vertalingen / \u2026\" inside Bolt an you see, what's missing.\n. AHHHRRGGL :punch:\nSure I want to translate actual content. Please roll back and merge #2201!!\n. No columns are removed sofar automatically to prevent data loss. But I've added some hints on what columns are not used anymore. You can get them displayed by calling Configuration / Check database. You have to remove them manually using some external database tool.\n. Let's have a look at my crystal ball :sparkles:\u2026 no, it's out of duty at the moment and the replacement (:beer:) is somewhat difficult to see throuh so I can't see recognize what language that is (or better should be)\u2026  :wink:\nSeriously, only the German translation is (almost) complete sofar. All others are in a varying shape (I guess NL and PT in the best one). So volunteers are welcome\u2026\n. Ah, the crystal ball did come back from repair and it tells me, that with great probability it is FR :fr:\nFor resources/translations/fr/messages.fr.yml I get :\n```\n41 unused messages\n174 untranslated messages\n59 untranslated keyword based messages\n187 translations\n73 keyword based translations\n```\nFor resources/translations/fr/contenttypes.fr.yml I get :\n```\n78 unused messages\nno untranslated messages\n103 untranslated keyword based messages\nno translations\nno keyword based translations\n```\nSo I guess, there's much to do. If you want to volunteer and need help, feel free to contact me heree or on IRC.\n. Not \"no more\", but \"not yet\".\nIt`s up to the translator to do or propose this kind of changes as I won't be able to do this decision. I couldn't even tell if there were any differences in say fr_FR, fr_BE and fr_CA except from perhaps date and number formatting sothat all translation files would be the same.\nIf you set the locale to fr_BE in config it should fall back to fr_FR. Question is if makes sense to add s9me extra config to specify that directly or if this is some micro optimation that isn't worth it.\n. \u0421\u043f\u0430\u0441\u0438\u0431\u043e!\n. RFC: let's make date fields real date fields without time on client and on server side. That's what I would expect when define a date field. Having 00:00:00 time makes no sense\n. @GDmac the regex above would just be a small part of the client side changes. I will see if I can find some time this night to fix that.You could point me to the places on storage side (input and output) where date has to get a special handling. Starage should output dateionyl for dates and should expect dates only for input.\n. Easy to find in well written code ;-)\nWould be simple but perhaps break templates that expect datetimes from date fields or switch databases. Better probably break something with 2.0 and make it correct than later with bigger userbase and 2.1\n. For the correct regex have a look here: #2251 ;-)\n. :+1:\n. Oh, you switched from software to trucker business :truck: \u2026 a wise decision, much more fun there ;-)\n\u2026 and don't forget: don't type and drive!\n. I suggest adding a comment so that in far and better future, when IE9 support is removed, we can easily find it and switch back.\n. Not much hunting as today is marked\u2026 As we don't have a cancel functionality other than clicking outside the datepicker\u2026\n. So what do the others think?\n(Btw, pressing Enter selects today without hunting and pecking.)\n. That was a hard one :-)\n. Missed the button? ;-)\n. Mi mi mi mi mi\u2026\n. Hmm, shouldn't it be reset if depublished? Database is hit then anyway.\n. I wouldn't display a text, just show a moment that says something like \"12 days ago\" or \"In 3 weeks 2 days 4 hours\"\n. I guess we have camel case in php and underscore in twig. I have plans adding a code sniff for this so having this unique through the codebase will be a snap. As soon as I find some time \u2026 ;-) (Is there nobody who want's to pay for working on Bolt ;-)\n. But I have the feeling that camelCase is used most of the times\n. Just want to mention that these will be translatable in contenttypes.xx_XX.yml sometime in the future. (If my day would only have 48h ;-)\n. I doubt that would be an easy job\n. Hmmm\n. Guess it's not a big deal\n. Not a problem as big as it seemed. Just on usage in both of the themes. Backend is without _self usage.\n. @bobdenotter too many ways to handle images (can) confuse non tech-savy users. Could even be that they don't understand the concept behind it. Also there's a problem when you try to enforce upload directories. Using the stack you can get images from other locations in.\n. Now you've translated the thing twice. See definition of label in line 32.\nFor translation see contenttypes translation not messages. There key contenttype.<contenttypename>.name.singular|plural.\nFor translation of labels in edit content (I guess you did mean this in your last sentence) you can do this in contenttypes.yml without hacking by now.\n. Ah, you're right. Little bug in there. Thanks!\n. What device? Works here as advertised.\nDesktop-like submenus (on the right side) or mobile version (below clicked entry)?\n. Having that news thing is good when you build a site for yourself but if you build it for a customer that's probably something he doesn't care for. Another thing is, that news are always in English. Perhaps you don't want this for a non english site.\nAs for merge conflict, I guess it was the changelog. So as nice the changelog is, I guess it will give us more merge headaches in the future.\n. I'm sure @GawainLynch will happily help translating :-)\n. @carmelg there's perhaps a solution to be found here\n. Did you just create a new db or did you fiddle with the locale?\n. For me it is ok as in my workflow I edit all configurations from an IDE editor anyway. I think there are lots of other things that needs to be touched and there the rare development time is better spent for now.\n. :joy: :christmas_tree: :gift_heart: \n. Shouldn't simply setting height to 0 do the job?!\n. Ok, I implemented this for thumbnail creation here and so it should work for TwigExtension::thumbnbail() out of the box and quite fine.\nAs TwigExtension::showImage() outputs html attributes the calculation has to be done there also. Guess that's the reason it isn't documented as it simply doesn't work as expected.\n. won't fix, as height has already 100 as default. So either showimage(x, 0) or showimage(x, '') and of course showimage(0, y), \u2026\n. Yes and yes :-)\n@bobdenotter. Keep default 100 or set it to more logically \u2019\u20190\u2019\u2019?\n. Ok! I doubt someone really used these defaults as they don't make sense. (Only if you have quadratic images ;-)\n. Not knowing much about RequireJS I guess we still need option 2 even with option 1 as we perhaps need option 1 with option 2 as the later won't solve multiversion clashes.\n. Next year ;-)\n. Through the Force, things you will see.\n. :+1: \n. @bobdenotter ok, so 5,5 hours left to implement. ;-)\n. So what is $app in this case?\n. Go for gold!\n. I think we have a problem when writing to MySQL here as it seems to be the same problem as described in #2352.\n. Do you still have the old database? We could compare both schemes then. Also, with what version of Bolt was the non working db created?\n. Both structures are exactly the same? Hmm, strange things happen. Were both created with the same Bolt version?\n. Sounds reasonable (the thing with the locale, not the year;-)\nSo do you think we can close this?\n. n.p.\nHappy new year!\n. @GawainLynch Thanx ;-)\nBug confirmed\u2026\n. Probably fixed by #2394\n. Confirmed\u2026\n@Slowwie  Thanks!\n. I was also wondering\u2026 but it didn't work before and did work after that change so I didn't care anymore. Perhaps a newly generated bolt.js did the trick\u2026 investigating\u2026\n. Works quite nice here (now)\u2026\n@bobdenotter: Could you please check on a Mac?!\n. LOL\n. Oops. Created a new netbeans project as i stuck in a rebase mess and forgot to adjust editor preferences.\n. Didn't want spaces before <doctype...\n. You never stop learning :)\n. yes, now I can sleep again. :-)\n. That would be wrong!\n. Look up downlevel-hidden and downlevel-revealed conditional comments. Allthogh it shoul be <!--[if !IE]>-->\u2026<!--<![endif]--> - But if I change this I had to open IE to test ;-)\n. No, checked again, this is ok as it is. \u2013 I could change it an rechange it then. would be 2 commits ;-)\n. Hmm, I would rather prefer backend as admin for me doesn't makes clear enough that the interface is meant.\nI've choosen disabled because enabled is the standard. If there's no setting in config you get null as value that's an equivalent of false. So having enabled not set in config would mean the same as standard enabled: false to me.\n. I don't think you are on the wrong branch. A few lines above there's correct Image in the switch statement. You simply changed case for whatever readon, perhaps by mistake.\n. Ah, you're right! Doing just a fast check on tablet/web only I didn't notice it was in bolt.js. Chances are that even I'm to blame for it (eaa609f554dc3d5daccaf1ab96e7226e27924821).\nAnyway, it should be changed to Image on the right location.\n. @bobdenotter have a look here ;-)\n. I had mixed feelings, too. Even made an exception in one case for it. But most of the time it removed unnecessary parentheses. And in rare cases like this it's. Perhaps a code smell where where things should be split up into named variables to get better readability and documentation. For free.\n. Ooops\u2026 this has to stay or Ooops\u2026 why was this here?\n. Big Insight is watching you!\n. And nobody noticed that for a long time. Is this as with TODOs. If that nobody notices for half a year the function can be removed? ;-)\n. Oh, I wasn't in the mood of writing documentation yesterday. I was hoping someone with a mother tongue would be \u2026 ;-)\n. Ah, btw, this readme is only there out of one reason: npm complains if it is missing :-)\n. yep\n. See folders\n. Typographically stuff has no place in this file\n. ",
    "rajeevan": "Given that editors could browse images already, and the complexity involves making file browser's files type specific to ACL; I would give the editors rights to to browse the files same way as ajax contents. ! Just my thoughts :) \nPS: Currently this does not affect me as I could simple create users with Admin rights (CMS is being used internally in my Company, hence no need for me to worry too-much about ACL restrictions)\n. ahh... damn that merge commits.. closing this.. I will open another.. Sorry!\n. This fix #848 will make the error goes away; but it will not capture the order as meta_parameter. I added the order as meta parameter and make created default order with false value.\n. ",
    "simondeeley": "In the Symfony routing component you have a variable that looks for the file extension of a given route. In examples I've written in the past you would simply write into the routing a match for either .html or (in this example) .json. There is also a default option giving you the flexibility to explicitly provide a JSON response when the URL matches a .json ending but revert back to regular text/html output if either no ending was given or .html was explicitly given. \n. Running an older version of PHP so it throws a wobbly. See you've fixed it now :+1: \n. Tabs = my bad. I've got my editor set up to make tabs instead of spaces. \nPlease test extensively and see if anything breaks.\n. Thanks for the feedback.\nAgreed on the numerous DB queries. I'll look into trying to narrow those down somehow. Showing used templates might be possible because (so far as I can tell) everything in in the profiler uses classes extended from a Symfony debug base class so if we were to extend that for logging template usage it should then be possible to integrate it with the profiler.\nWith regards to logs. As you may know the logger in the profiler does automatically use monolog if you have the symfony/monolog-bridge dependency. I note that there is plans to use a PSR logger, which monolog is based off. Perhaps when that idea is accomplished then the logging will then be available to the profiler?\n. Good news that is :)\nI've also been looking today at porting the Twig part of Elao/WebProfilerExtraBundle into a Silex module. I've made good progress but I'm now stuck at the point of hooking into logging each template. My mistake is probably not noting what code you had already used to log each template render. I'll ponder on it over the weekend and see. If in the mean time you get further then all is good :+1: \n. Looking at the re-branind of the toolbar.\nI've figured out how to override the default templates used by Symfony and point them to what is effectively a re-worked version using the same basic layout/concepts but applying Bolt colours, fonts, logos etc. I'm also looking at incorporating Bolt-specific information in the profiler such as current version number and hopefully extensions that have been loaded.\n. Ah yes... I see :) Very good :+1: \n. Not sure if I can do an upstream merge? \nSorry about the tabs - I had a kernel panic Monday afternoon and I think some of the recovered files lost their de-tabification.\n. ",
    "livsi": "Yes, you're right: iterate over the field definitions in the contenttype is more simple.\n. ",
    "bacbos": "Interesting topic. While https://github.com/bolt/bolt/issues/610#issuecomment-25370613 would be highly customizable, I don't see a real reason to make things too sophisticated. As far as I'm concerned, I was so far able to handle even complex menus with the current toolset (sometimes by using multiple menues, sometimes applying a few hacks in the menu-template...)\nhttps://github.com/bolt/bolt/issues/610#issuecomment-25378813 however looks very promising and keeps things comprehensive for the dev\n. @Chekelin see #754 \n. Out of curiosity, what  mysql and php versions are you running @carlosleopoldo ?\nAs for the fix in this PR, I don't think we should just uncomment lines without eliminating the source of the error. My guess is that it's got to do with mysql not liking what is being tried to insert (\"\" in this case), so maybe we should insert a proper value\n. I think at some point the defaults with which mysql ships were changed and we're both running a very strict mysql-server that is not very suitable for the ordinary web-development. \nI got myself a new dev-macbook last week and set up everything needed for development from scratch, thus I'm now running mysql 5.6.15. My mysql now runs with sql_mode = STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION\nFurther reading: http://dev.mysql.com/doc/refman/5.0/en/server-sql-mode.html#sqlmode_strict_trans_tables\nDoes this sql_mode setting apply to your isntallation too? (run SHOW VARIABLES to see the server config)\nI just checked my old macbook, sql_mode is not defined there and I can neither reproduce your error nor mine ( #785 )\nSo I guess we should consider re-configuring our mysql-servers instead of fixing these alleged issues.\nOn the other hand, it's probably not best practice to just assign an empty string to a datetime field in the hopes that mysql will take care of it on its own, but honestly I never coded differently... =)\nDoes anyone know more on this topic? \n. There were some major changes in 5.6.6 and 5.6.7: http://dev.mysql.com/doc/refman/5.6/en/server-default-changes.html\n... which leads to: http://dev.mysql.com/doc/refman/5.6/en/server-default-configuration-file.html\nWith one exception, the settings in the default option file are commented and have no effect. The exception is that the file changes the sql_mode system variable from its default of NO_ENGINE_SUBSTITUTION to also include STRICT_TRANS_TABLES:\n\nWith one exception, the settings in the default option file are commented and have no effect. The exception is that the file changes the sql_mode system variable from its default of NO_ENGINE_SUBSTITUTION to also include STRICT_TRANS_TABLES: ... sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\nThis setting produces a server configuration that results in errors rather than warnings for bad data in operations that modify transactional tables.\n. Well actually something did pop up - assets can't be loaded when bolt runs in a subdir, e.g. bolt/dev/myBoltInstallation\n\nSeems like a general issue i might fix till tomorrow. If too much code is involved, it'll just be a patch for the extension :)\n. Thanks @pivotx - turns out it was just my coding fatigue, nothing wrong with bolt.\nUpdated branch fixes it, ready to review :)\nThe issue you're referring to concerns \n$this->app['config']->get('general/branding/path') . 'link_to_extension'\nvs\n$this->app['paths']['bolt'] . 'link_to_extension'\nThe route matcher expects something else than the addMenuOption-method. Something we might have to optimize at some point later.\n. > But please rename it to something more generic.. else we'll end up with extensions named \"chaos tools\" cough-drupal-cough\nYou're absolutely right @jadwigo , we'll stick with MenuEditor\n@bobdenotter \n1) Right, missing s there. That's what code-reviewing is all about, right? =) thanks for pointing it out\n2) I need to have access to config in initialize() already, in order to be able to translate the Menu-Editor navigation element\n3) There is one in my repo, must've gotten stuck somewhere in between\nI'll push the following changes tonight:\n- name change to MenuEditor\n- 1) + 3)\nThanks for the input guys\n. Have a look @ #782 @ehsonbek \nYour mySQL servers configuration might be set-up too strict.\nI think we'll inevitably run into more of these issues in the future when people with mySQL >=5.6.6 show up. Worth fixing it... Please leave this ticket open, I'll take care of it.\n. Hi - maybe not the sexiest approach, but try something like this within the template that generates your menu (e.g. _sub_menu.twig)\n```\n{% set subCurrent = false %}\n{% if item|current == false and item.submenu is defined%}\n    {# check if subitem is active so we can mark top level nav as active #}\n    {% for subitem in item.submenu %}\n        {% if subitem|current %}\n            {% set subCurrent = true %}\n        {% endif %}\n    {% endfor %}\n{% endif %}\n\n```\n. Conditionals are unfortunately not possible within htaccess.\n@bobdenotter: you might be running apache with mod_access_compat enabled, see http://httpd.apache.org/docs/trunk/mod/mod_access_compat.html\nOther than that, I'd suggest we just stick with the Apache 2.2 version for the time being - most hostings still run on Apache 2.2x and those who set-up their own dev-machine with anything out of the ordinary would mostly know of the changes and have already run into this issue...\n. Offtopic, but I figured you know what you're doing when it comes to ckEditor so I'd give it a shot: I'm looking for a way to implement a basic grid-system into one of my templates and it should be editable within ckeditor (adding beginning and closing tag of a shortcut maybe?).\nI can imagine that this additional feature could easily be added through a custom bolt-extension that injects some javascript.\nI've been googling a long time and couldn't come up with a solution yet - have you seen anything like it yet and could you point me in a direction?\n. No worries, thanks for the heads-up!\nBolt has been running well so far with only one issue so far: the randomizer bundle (used to create random slugs) didn't work, so I had to make sure to add the slug field explicitly for every content-type. Thus I think we could try to keep Bolt working on Win as long as it's not too much extra-work.\nThose are the paths in my set-up:\n[\"paths\":\"Bolt\\Configuration\\ResourceManager\":private]=>\n  array(7) {\n    [\"rootpath\"]=>\n    string(29) \"D:\\www\\domain\\docs\"\n    [\"apppath\"]=>\n    string(33) \"D:\\www\\domain\\docs/app\"\n    [\"extensionspath\"]=>\n    string(44) \"D:\\www\\domain\\docs/app/extensions\"\n    [\"filespath\"]=>\n    string(35) \"D:\\www\\domain\\docs/files\"\n    [\"web\"]=>\n    string(29) \"D:\\www\\domain\\docs\"\n    [\"cache\"]=>\n    string(39) \"D:\\www\\domain\\docs/app/cache\"\n    [\"config\"]=>\n    string(40) \"D:\\www\\domain\\docs/app/config\"\n  }\nThe issues occurs because your check in ResourceManager:66 will always match on Windows systems (e.g. D:... ) and thus the $this->getPath(\"root\") will result in the exception a bit further below because \"root\" will never be able to be set in the first place.\n. @rossriley Just tried pulling in the latest changes to try out your path-fix on the mentioned Windows server, but failed to update vendors using composer, caused by recently introduced bolt/thumbs:\n- Installation request for bolt/thumbs 1.0.*@dev -> satisfiable by bolt/thumbs[1.0.x-dev].\n    - bolt/thumbs 1.0.x-dev requires bolt/bolt dev-master -> no matching package found.\nI currently lack the time to fiddle around with this, and since the affected site is running well with my dirty hack, I'll update bolt - including your path-fix - some other time.\nYour fix looks good to me though so I'll close this issue. Thanks for your work, much appreciated.\n. Not currently as far as I know. I agree though, this could be an awesome feature.\nAdditional remark: instead of having father and mother, you could create a \"parents\" content-type and add an additional field like so:\nsex:\n            type: select\n            values: [ Female, Male ]\n. Can't confirm this:\n```\n    [0] => Array\n        (\n            [label] => lvl1\n            [path] => homepage\n            [submenu] => Array\n                (\n                    [0] => Array\n                        (\n                            [label] => lvl2\n                            [path] => homepage\n                            [submenu] => Array\n                                (\n                                    [0] => Array\n                                        (\n                                            [label] => lvl3\n                                            [path] => homepage\n                                            [submenu] => Array\n                                                (\n                                                    [0] => Array\n                                                        (\n                                                            [label] => lvl4\n                                                            [path] => homepage\n                                                            [link] => /\n                                                        )\n                                            )\n\n                                        [link] => /\n                                    )\n\n                            )\n\n                        [link] => /\n                    )\n\n            )\n\n        [link] => /\n    )\n\n```\nYour menu.yml looks good to me and _sub_menu.twig hasn't changed since base-2013 (see @6e2dcc49a84bdd8639068cb6ac18066eb798ce0a) , could it be that the pages you reference in your menu don't exist or have a different slug?\nCan you maybe try to debug by adding\n(...)\n        $menu = $this->menuBuilder($menu);\n        print_r($menu); die;\n(...)\nin app/src/Bolt/TwigExtension.php at around line 1120 or by\n(...)\n            if (preg_match('#^([a-z0-9_-]+)/([a-z0-9_-]+)$#i', $item['path'])) {\n                $content = $this->app['storage']->getContent($item['path']);\n                var_dump($content); die;\n            }\n(...)\nin the same file in private function menuHelper($item) a bit further down ?\n. > Maybe if you have a test-site somewhere, you can recreate a 3-submenu-level deep menu and see if > you can reproduce the error.\nIt's what I tried (see my last post), but unfortunately, I'm unable to reproduce the error.\nAs far as I can tell, the menu-editor extension does nothing but read and write your menu.yml file. The syntax of your menu.yml looks perfectly good to me, so given that the referenced slugs exists, there must be some underlying issue with the rendering of the menu-items before displaying them from within _sub_menu.twig.\nAre you able to deploy your current installation to an accessible server and provide me with sftp access so I can look into this issue within your specific environment? steven.wuethrich@bacbos.ch\n. @evertalbers I took a look around on your server and it seems that you're behind the current codebase. \nWeird, nested submenus used to work at the time I submitted the MenuEditor extension, but it seems that at some point that wasn't the case anymore. Looks like @credomane 's contribution in #1211 brought things back to normal though.\nTake a look at this patch: @8617ae1a3ab01c4e277a7b42a5fd0ffd2d72c1a5\nAs a quick-fix, you can apply the changes manually (delete the red lines and add the green lines) to the file /app/src/Bolt/TwigExtension.php and you're all set.\nAs a less dirty alternative though, I'd recommend you update your Bolt installations by pulling the latest code. (for testing, I applied the patch to /boltnation on your server already, the rendered menu looks good now)\n. @evertalbers I remember when I looked around on your server that your current bolt installation was not up to date. To sum things up, my guess was that you were somewhere in between the version when the submenus broke and when they got fixed again.\nThat's why I applied the changes of https://github.com/bolt/bolt/commit/8617ae1a3ab01c4e277a7b42a5fd0ffd2d72c1a5 manually on your server to get things working again.\nSo if you update your bolt installation to any recent version, you should be good to go (because that will include patch https://github.com/bolt/bolt/commit/8617ae1a3ab01c4e277a7b42a5fd0ffd2d72c1a5).\n. Wow, how weird. You're right, that code is still the same in the current 1.6 branch https://github.com/bolt/bolt/blob/release/1.6/app/src/Bolt/TwigExtension.php#L1100 \nIn master (bolt 2.x), the patch is included https://github.com/bolt/bolt/blob/master/app/src/Bolt/TwigExtension.php#L1117\n. I think I've found the error - seems like somehow not the most current branch was used to split off 1.6 at the time. Basically the patch got introduced to the master branch at that time, but didn't find its way into 1.6\n\nAnyway, still leaves us with the fact that when I pull in a clean release/1.6 (where indeed the above patch has not been applied), submenus work perfectly fine. Maybe someone else can join this issue and confirm if submenus are working correctly or not? @credomane , can you maybe elaborate why the patch was needed in the first place when it seems to be working fine without it?\n. I'm equally confused @bobdenotter :)\nSubmenus are working for me without the patch, but @evertalbers is right, he did have issues on his end that were gone after we applied the patch manually.\nSo ye I guess you could cherry-pick https://github.com/bolt/bolt/commit/8617ae1a3ab01c4e277a7b42a5fd0ffd2d72c1a5 \n. Cool, thanks\n. It's not supposed to translate the localized readme, but instead the file with the translated locale-strings.\nI'll look into this later today, thanks for reporting\n. No clue @bobdenotter, it seems to me that your $this->app['locale'] is empty, thus https://github.com/bolt/bolt/blob/master/app/extensions/MenuEditor/extension.php#L83 reads out the translated readme files.\nIs this happening in bolt 2.x or in the master branch?\n. FYI: refactorings of MenuEditor are done, it's now fully compatible with 2.0.0 for those interested\n. On it.\nBy the way, just pulled in clean bolt codebase (master) and getting the following error when trying to access to extensions tab\n\n. PR to remove extension from main repo pending (see #1698)\nExtension is now available through https://github.com/bacbos/bolt-menu-editor (submitted to marketplace and showing up properly). \nAs far as I can recall, the extension will need a massive update to reflect changes made to the bolt backend during the major make-over in preparation for 2.x. However, I can't figure out\n- how to install / link my extension in my dev env to activate, test and update it for bolt 2.0 (see https://github.com/bolt/bolt/issues/1596#issuecomment-53502503). Error occurs when accessing extensions through bolt's backend, as well as through app/nut extensions:install\n- or how to install / activate any extension for that matter.\nPinging @bobdenotter and @rossriley in desperate need of help =)\n. Thanks a lot @GawainLynch , exactly what I was looking for - got it working for now (sort of).\nI'll keep an eye on the exception handler, thanks for the hint. \nAnother question came up, although it might be irrelevant until the new extension system is somewhat more stable: my extension requires\n\"symfony/http-foundation\": \"2.5.x-dev\",\n\"symfony/translation\": \"2.5.x-dev\",\n\"symfony/yaml\": \"2.5.x-dev\"\nThose libs are already available because bolt requires them, too - manually \"providing\" them within extensions/composer.json currently does the trick. However, accessing \"View / Install extensions\" through the backend sort of resets the composer.json to disable packagist (packagist: false), obviously making it impossible to resolve those dependencies. Shouldn't bolt's satis be able to identify and provide a way to resolve such dependencies?\n. Hm, bigger whitespace kind of sucks with english locales now:\n\nFeel free to reject if you come up with a more appropriate fix to adress localization-related layouting issues (german and russian translations usually take up the most space).\n. Ye, exactly my thoughts.\nI don't know russian, I just stumbled upon this issue on one of my clients Bolt sites which is in german. After applying above patch, I quickly ran through all translations and realized that the russian translation is even longer. Give me a minute, I'll try to fix this with some sort of dynamic width\n. Done, turns out that listening to \"Ghetto Superstar\" on the 90's channel did the trick =)\nPR rebased and updated.\n. Tested it with IE 10 and 11, looking good.\nI stopped bothering about ancient browsers some time ago (mostly) :unamused: \nIf anyone still has a test-setup for IE < 10, could you please verify? Worst that can happen, imo, is that it looks like before the patch.\n. Thanks :+1: \n. ",
    "praswicaksono": "I tried 1.2.1\nI got in admin page. All admin menu will return the filename login, add entry, etc\nhere is the output $app['config']->get('twigpath')\n Array ( [0] => /home/jadenwor/public_html/theme/base-2013 [1] => /home/jadenwor/public_html/app/theme_defaults ) \nIt seem admin view never loaded in twig path. But when I add admin view path, dashboard.php will use _header.php in theme path instead using _header.php in admin view path. it work well when I rename _header.php in admin view path to something else.\n. Just an update I installed on different hosting provider it result same, I try to host at openshift using php 5.3 also dont work\n. Recently I just have moved to PHP 5.4 hosting but also didnt work. It seem bot not work with shared hosting environment\n(edit)\n. ",
    "danigonza": "I create a pull request solving this\n. ",
    "fesor": "actually it's quite bad idea to use versions like 1.* or dev-master in composer.json. Maybe it will be better to specify version of dependencies more accurate?\n. ",
    "tdammers": "Right... I actually remembered today that I'd used [] syntax somewhere,\nbut going through the codebase, I couldn't find it anymore. D'oh!\nOn Thu, Oct 17, 2013 at 10:58:52AM -0700, bobdenotter wrote:\n\n/me blames @tdammers ;-)\nIt should actually be an array, but we support PHP 5.3, so it should be array($contentid). Expect a fix in half an hour! \n\nReply to this email directly or view it on GitHub:\nhttps://github.com/bolt/bolt/issues/634#issuecomment-26532229\n. \n",
    "Martiii": "Thank you for the answer. \nCan you give some advices, if i try to make this by myself?\"\n. I will try to start this next month.\nWhat i really need is a site with public pages and private pages depending on the user (i.e : a page for customer 1, and another page for customer 2)\nI have to attach some rights (group or user) to the 'Page' object\nI will contact you soon if i can't manage to do it by my own.\n. As i said in my previous message, i will try to make this on my own soon.\nI will let you know! ;)\n. Hi apieceofbart\nI'm waiting for the v1.4 of bolt who is announcing : Permission-based roles. (read: More userlevels, more options)\nMaybe, it will match our needs.\n@bobdenotter can you tell us more about this new functionality?\nThanks\n. Yes this is my need\nUnfortunately i didn't have the time to work on this\n. Thanks to you both.\nThe steven's solution is better for me because it work even if a\ncontributor change the menu\n2014-01-28 Mike Anthony notifications@github.com\n\nI've already brought this up - see #610https://github.com/bolt/bolt/issues/610.\nSpecifically, this looks quite nice: Comment #25370613https://github.com/bolt/bolt/issues/610?source=cc#issuecomment-25370613\n\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/864#issuecomment-33466834\n.\n. \n",
    "apieceofbart": "Hi Martiii - any news on progress? \nPerhaps you can use some help?\n. Well, as I understood v1.4 will introduce additional roles on the backend not frontend. Which is of course great but what I would love to have is a simple frontend password validation for certain pages (contenttypes). This is what you meant, right?\nI could try writing the extension but would need more guidance - especially for the 'redirecting' part.\n. Thanks Bob, works like charm on 1.3! I will only add 'remember me' option for my needs.\n. ",
    "CoolGoose": "Well, no, since my local branch is going to be more advanced than the remote branch. I could do a re-base though i guess.\n. Yes, that's about it, I've only opened an \"issue\" not a pull request since I wanted to know first if it's an accepted idea by everybody.\n. @helgvor-stoll I hate javascript generated UI's. I don't find them as easy to use, and it usually rises the barrier for contributing.\nI would say +1 for bootstrap. I think that bootstrap's documentation is way better, they usually have better backwords compatibility than Foundation and their javascript components are pretty decent.\nPPS:\n- Jquery UI with Bootstrap 3 support https://github.com/jquery-ui-bootstrap/jquery-ui-bootstrap/issues/130\n- Prettier themes by default from http://bootswatch.com/\n. Just a proposal, but i assume publish / unpublish / maybe apply / change taxonomy ?\n. Maybe we can have a \"preferred\" function name, but with a namespaced fallback.\n. I think i did it (since i'm doing most of the edits from git's web interface)\n. I'd say a +1 on having it integrated. I bet most people would just skip that and download the whole package.\n. Got it, then we're good :P\n. Why don't we think it \"rest\" like\nso it's /pages for all of the item and /pages/ means we want a specifc item.\nAdding query strings /pages?page=1 will keep it on /pages with the whole listing,\nPS:\nI'm an idiot, i was meaning exactly what @rarila said \n. @bobdenotter I assume that he wants to hide it, I have clients that aren't smart enough to even have a publish field (eg: they're used only with using title / body from wordpress, never using any extra option)\n. @bobdenotter I would say fill a bug report directly to symfony ? Is a decoupling issue imho.\n. @rduinmayer do a phpinfo();\n. @odlex Imho I would say both the mime and the extension, and if they're not matching, it should fail (although i know a bunch of people that save png files as .jpg's)\n. I'd +1 this, the thing is that although nobody will search an article based on year, they'll most likely try to filter articles by author / maybe a content type.\nOr for eg, have a list of \"team members\" filtered by country taxonomy dynamically :)\n. @bobdenotter \nIf you want to quickly check out something similar in Drupal the Panels (https://drupal.org/project/panels) module is what you want.\nBasically you have a collection of pre-defined layouts, in which you can drag widgets and put some path / context rules on which urls to be.\n. @bobdenotter for further reference, what was the issue ?\n. ",
    "FabienD": "Hi,\nThe HtmLawed library is causing the problem. When you set the HtmLawed configuration directive \"tidy\" to 0 (in the lawText method), the encoding issue goes out.\nFabien\n. ",
    "meget": "Still have similar excerpt issue.\nSame errors on windows/xampp and local LAMP on debian.\nThis is in russian language.\n\n. ",
    "braaam": "My bad, It's only supposed to show the tags that are used in the specific node, which it does. I should read the documentation better.. \nDoes anyone know how I can show a list of all available taxonomy items within a vocabulary/category? \n. Thanks!\n. I used the following snippet in index.twig (or record.twig)\n{% if record.taxonomy is defined %}\n    {% for type, values in record.taxonomy %}\n        <em>{{ type }}:</em>\n        {% for value in values %}\n                <a href=\"{{ paths.root }}{{ type }}/{{ value }}\">{{ value }}</a>{% if not loop.last %}, {% endif %}\n        {% endfor %}\n        {% if not loop.last %} - {% endif %}\n    {% endfor %}\n{% endif %}\ncopied from the documentation\nwhich outputs\n<em>chapters:</em>\n            <a href=\"/chapters/The other stuff\">The other stuff</a>\n. Yes, I'll probably go that route in the near future. Planning to import a media library (18k of images) which will need some advanced filtering. \nThanks for the pointers\n. Ah, didn't mean to put the extension in a bad light, sorry if it looked like that. Maybe Bolt could do some basic checks so it doesn't go blank on loading a non-compatible extension?\nLooking forward to using the extension!\n. Yes, it is 1.3, fresh install - downloaded from the site. \nThose fixes are in there. Anything specific I should test? \n. Just tested it more thoroughly - works great!\n. Have you considered Semantic UI? It's comparable to bootstrap as a UI library, but with scaling mechanisms like Foundation 4. And quite pretty if you ask me. \nComes packaged with Font Awesome as well. \n. I haven't really used it yet. A quick look shows that there's not much use of mixins in the sass/less files, so changing things like colors/shadows, etc might not be straightforward. And It's a new library so there isn't as much adoption (yet) as with bootstrap/foundation. \n. Yes, they mean business :) I think with foundation you'll still have to get some UI kit to go with that. The current admin interface is already a zillion times better than whatever I've had to use the past 5 years. And there are still hardly any CMS-es that work half decent on mobile devices without dedicated apps. \nAre you sure it's worth the effort moving away from what is there now, seeing that there is so much other stuff to work on? Also we're still editing a lot of things through text files anyway, which is working just fine from a usability POV.\nIt seems like many of these libraries are trying to cover every possible use case these days, which overcomplicates them. Just look at those BS3 (no pun intended) classnames. For sites with different/nested column layouts I do like using foundation though.\n. Many good points here, I agree it's hard to keep semantic values in more complex UI's but the Bolt's CMS interface doesn't use or need many complex paradigms. Personally I don't think semantic value of CSS is that important, as long as styles are applied completely seperate from the markup and re-using parts in an OO way. All libraries mentioned here should be able to do that. \nA visually well designed lib will make things easy. It means everything looks good out of the box, and not much tweaking is necessary on a component level.  I believe that libraries like BS and Semantic UI should be used as is. Their power lies in what they offer out of the box: well designed Interface elements that can be used for app-like applications. My experience is that once you start customizing individual components you loose some of these advantages. \nI suppose the best way from here is just hacking together some quick demo's to see which library deals best with the main requirement: improved mobile accesibility through a 100% fluid interface.\n. @mike-anthony Have to agree, F5 looks like a very nice release. \nInterchange, coupled with javascript hooks, could offer nice reusability of components. The off canvas menus are so awesome. They can be used for much more then just menu's - like quick access to lists of content. Building forms seems very straight forward and they scale back beautifully. \n. @mike-anthony I'm in the same boat - being mostly involved with UI design and web development. Bolt provides extensibility and stability through proven back-end libraries and at the same time a very pleasant and uncomplicated editing experience. Something I've been looking for for ages. \nMy prime interest is that it stays straight forward like it is now, without feature creep. Something that can be presented to end users without CMS experience, without having to go through extensive training, and still very easy to manipulate for power users. I think this is exactly what @bobdenotter is aiming for as well. \n@bobdenotter I wouldn't mind giving it a 'hack' with F5 - to see how well F5 adapts to the requirements that have been voiced in this threat - If that's something you wouldn't mind delegating to someone else off course. I'd suggest to use SCSS to keep it easily maintainable in the future.\n. @tobias2k Maybe I used the wrong wording (hacking?). What I meant was getting one ore more prototypes up to have a quick look how it would behave with existing Bolt templates - then factoring that in  with the final decision. \nWhen you look at the amount of CSS, F5 is pretty heavy, weighting in at around 100KB compressed. In that aspect it's become one of the heavier solutions. I think this is partially because of the extensive support for different sized screens that's build in. \nTaking flexibility in account, Foundation is a good contender though. from their FAQ page: \n\nWe purposely left our styles sparse. We didn't want to end up with a world where all the sites looked like Foundation \u2014 that's why we left out a lot of complex styles so you can add to our defaults easily without having to override a bunch of styles baked in. It also helps with integration and alleviates code bloat.\n\nWhat Foundation doesn't provide is a polished set of (form) widgets, which means some effort might be needed to get it at the level the current interface is at (and surpass it). \n. Personally I like the possibility to use plain sql queries in cases where full abstraction gets in the way of getting things done effectively. It's the 80/20 rule where for the 80% it's nice to use an abstraction. \nI've been working with Redbean ORM for some projects and it has facilitated both cases pretty well. For small scale projects it's a lot more resource friendly than something like Doctrine. And the fluid mode is awesome (no configuration needed!)\n. I just did a clean install, with the same result. The pattern is a bit weird: \nAfter reloading PHP, the 1st, 3rd, and 5th request serves the page correctly. The 2nd, 4th, 6th and all subsequent request deliver the error.. \nBelow are the suggestions that composer gives me after doing a php composer.phar install.\nsymfony/intl suggests installing ext-intl (to use the component with locales other than \"en\")\nphpunit/php-code-coverage suggests installing ext-xdebug (>=2.0.5)\nphpunit/phpunit suggests installing phpunit/php-invoker (>=1.1.0,<1.2.0)\nsymfony/event-dispatcher suggests installing symfony/dependency-injection ()\nsymfony/debug suggests installing symfony/class-loader ()\nsymfony/twig-bridge suggests installing symfony/templating ()\nsymfony/twig-bridge suggests installing symfony/security ()\nsymfony/http-kernel suggests installing symfony/class-loader ()\nsymfony/http-kernel suggests installing symfony/dependency-injection ()\nmonolog/monolog suggests installing mlehner/gelf-php (Allow sending log messages to a GrayLog2 server)\nmonolog/monolog suggests installing raven/raven (Allow sending log messages to a Sentry server)\nmonolog/monolog suggests installing doctrine/couchdb (Allow sending log messages to a CouchDB server)\nmonolog/monolog suggests installing ruflin/elastica (Allow sending log messages to an Elastic Search server)\nmonolog/monolog suggests installing ext-amqp (Allow sending log messages to an AMQP server (1.0+ required))\nmonolog/monolog suggests installing ext-mongo (Allow sending log messages to a MongoDB server)\nmonolog/monolog suggests installing aws/aws-sdk-php (Allow sending log messages to AWS services like DynamoDB)\nbehat/mink suggests installing behat/mink-zombie-driver (fast and JS-enabled headless driver for any app (requires node.js))\ncodeception/codeception suggests installing codeception/phpbuiltinserver (Extension to starts and stops PHP builtin web server for your tests)\n. It gets even better.\nWhen I remove all clean up done by Maid in lib.php, the error happens exactly every one out of 4 times i reload the page. Both in frontend and backend.\n. Fixed as well here, thanks!\n. Are you sure you want to do this? it can be quite disruptive overriding default browser behaviour, especially while most of /bolt behaves more like a normal, scrollable web page than a web-app. \nHowever, it would make sense when editing the YML from Bolt, since it's behaving like an actual text-editor there. Or maybe that's what you were aiming for anyway, in case you can ignore this comment :)\n. Building on @tobias2k comments: \nCurrently, in Bolt, pages look like normal HTML pages and they act like it. In that light, to me, it would be unexpected if an item would be saved by pressing CTRL+S. I agree this is a case where that's hardly going to ever happen, but it's a slippery slope. \nTo me, as a user, being able to predict how something works means that I get to trust it. Saving a perfectly normal HTML page on presssing CTRL+S feels disturbing. I would not like it if this happened, because it's unexpected and it makes me feel unsafe - what else will Bolt override that I don't know about?\nThere are many discussions about this, like this one. General consensus is: don't do it, unless it's 100% natural to have such shortcut available, like in a text editor.\nThere's nothing against it if it would be exposed through a user setting though. \n. ",
    "diggersworld": "Yeah I could do with something like this.\nRegarding your earlier point, you're right in that users won't add it into the URL manually. But they won't add anything else in manually either, except perhaps the domain. That's why websites plaster themselves in menus and hyperlinks to help the user around.\nWith regards to why does Wordpress have /2012/12/03 structure. It's a RESTful approach. If you imagined all the articles arranged into folders on your computer you might do something similar. So a folder for the year, then a folder for the months, then a folder for the days - if you wanted to go down that far.\n. Ace cheers. Yeah the thing about the default/simple forms templates is the usage of divs. I prefer to have my forms as a list of questions/criteria. Looking at the simple forms twig template I can now see how all the fields come together and produce the output.\n. Is there a way to create an array of checkboxes which the form builder? For example:\nhtml\n<input type=\"checkbox\" name=\"interests[]\" value=\"biking\">\n<input type=\"checkbox\" name=\"interests[]\" value=\"running\">\n<input type=\"checkbox\" name=\"interests[]\" value=\"swimming\">\n. I think I may have found the answer to my own question with the collection type: http://symfony.com/doc/current/reference/forms/types/collection.html\n. Hmmm... struggling to get the desired results, here's my form builder:\n``` php\n        // set the directory for assets\n        $this->app['twig.loader.filesystem']->addPath(DIR);\n    // messages\n    $message = null;\n    $error = null;\n    $sent = null;\n\n    // initialise form builder and request CSRF token\n    $builder = $this->app['form.factory']->createBuilder('form', null, array('csrf_protection' => true));\n\n    // sub-form interests\n    $interests = $this->app['form.factory']->createBuilder('form', null, array('csrf_protection' => false));\n    $interests->add('running', 'checkbox', array());\n    $interests->add('swimming', 'checkbox', array());\n    $interests->add('walking', 'checkbox', array());\n\n    // add primary fields\n    $builder->add('name', 'text', array());\n    $builder->add('email', 'text', array());\n    $builder->add('interests', 'collection', array('type' => 'checkbox'));\n    $builder->add($interests, 'collection', array('label' => 'Interests'));\n\n    // get form\n    $form = $builder->getForm();\n\n    // create output object\n    $formhtml = $this->app['render']->render('assets/form.twig', array(\n        \"submit\" => \"Send\",\n        \"form\" => $form->createView(),\n        \"message\" => $message,\n        \"error\" => $error,\n        \"sent\" => $sent,\n        \"formname\" => 'Tom\\'s Form',\n        \"button_text\" => 'Send'\n    ));\n\n    // return html output\n    return new \\Twig_Markup($formhtml, 'UTF-8');\n\n```\n... and the output twig files, which I've for the most part duplicated from simple forms:\ntwig\n{% form_theme form 'assets/fields.twig' %}\n{{ form_start(form) }}\n    <ul>\n        {{ form_row(form.name) }}\n        {{ form_row(form.email) }}\n        <li>\n            <ul class=\"interests\">\n                {# iterate over each existing tag and render its only field: name #}\n                {% for interest in form.interests %}\n                    <li>{{ form_row(interest.name) }}</li>\n                {% endfor %}\n            </ul>\n        </li>\n    </ul>\n    <input type=\"submit\" name=\"submit\" value=\"{{ button_text }}\" class=\"simpleform-submit\" />\n{{ form_end(form) }}\n``` twig\n{% block checkbox_widget %}\n{% spaceless %}\n    \n    {% if attr.placeholder is defined %}{{ attr.placeholder|raw }}{% endif %}\n{% endspaceless %}\n{% endblock checkbox_widget %}\n{% block form_row %}\n    {% spaceless %}\n        {{ form.vars.attr.prefix|raw }}\n        \n            {{ form_label(form) }}\n            {{ form_errors(form) }}\n            {{ form_widget(form) }}\n        \n        {{ form.vars.attr.postfix|raw }}\n    {% endspaceless %}\n{% endblock form_row %}\n```\nThe interests are being output at the bottom of the form, rather than under the interests collection. Also I have another label appearing above them which just says \"form\" and have no idea what's generating that. Any pointers would be appreciated. I'm  basically trying to achieve a structure like:\nhtml\n<li>\n     <label>Interests</label>\n    <ul>\n        <li><input type=\"checkbox\" name=\"interests[]\" value=\"running\"><label>running</label></li>\n        <li><input type=\"checkbox\" name=\"interests[]\" value=\"walking\"><label>walking</label></li>\n        <!-- ...etc... -->\n    </ul>\n</li>\n. Glad I'm not the only one who thought it looked confusing.\nYour solution does seem like the easiest way out, and I had considered doing that, which is fine if the form is non-dynamic. However if I want to go more dynamic in a similar fashion to simpleforms using a config file it's not a viable solution.\nCheers for the idea though. I know I'm quite close to figuring it out. If I crack it, I'll let you know.\n. That's brilliant, nice and clean. Thanks.\n. I thought I'd elaborate in case my initial message wasn't clear enough as to what the problem is.\nBasically if I have a contenttype let's call it news. Then I also have taxonomies which I associated with the news, let's call them regions which options being [UK, Europe, Rest of World].\nNow I create three news stories and specify two with UK and one with Europe. On the listing page you then see these three news stories listed. The right hand side bar has a filtering menu with UK, Europe and Rest of the World.\nIf I select UK or Europe, then I get a more specific list of news. However if I select Rest of the World then Bolt treats it as a 404. In my opinion this should still return the user to the listing page but present a message saying there's no matching content for the filter.\n. My issue comes down to this line here in Frontend.php:\nphp\nif (!$content) {\n    $app->abort(404, \"Content for '$taxonomyslug/$slug' not found.\");\n}\nWould be nice to have a configurable way to override this, for now I'm just going to comment it out and modify the target template should records be empty.\n. Yep, exactly that. I'll need to be able to pass through the category filters as well if one has been provided.\n. I've got a version working  based off the example you listed above. Currently it makes a request to the current URL and appends the page parameter and number. This works well for the overview of a content type.\nHowever when filtering down by category there isn't a pager variable. So I can't distinguish how many pages are available. I also don't appear to be able to set the number of records to list per page in taxonomies.\n. The way I've prepared my page for JavaScript is as follows using the pager object (which is what the pager() twig function uses.\ntwig\n<ul class=\"records\" data-pages=\"{{ pager.totalpages }}\" data-page-current=\"{{ pager.current }}\" data-page-url=\"{% if slug is not empty %}/TAXONOMY_SLUG/{{ slug }}{% else %}/CONTENT_TYPE_SLUG{% endif %}\">\nWhere the two uppercased slugs are strings matching a contenttype and taxonomy in the configs. This basically makes a GET request via AJAX to the page like you would through a browser with a basic hyperlink.\nMy next step is to add a wrapper around the template's twig includes which will exclude them should the incoming call be via AJAX. Because really and truly I'm only interested in the records content in such a request.\n. The only way I've managed to limit my taxonomy filter so far is to modify the global listing_records setting. I've pasted my configs below in case I'm making a newbie error.\ncontenttypes.yml\nyaml\nshops:\n    name: Shopping\n    slug: shopping\n    singular_name: shop\n    singular_slug: shop\n    fields:\n        title:\n            type: text\n            class: large\n        slug:\n            type: slug\n            uses: title\n    taxonomy: [ shops ]\n    record_template: record.twig\n    listing_template: shopping.twig\n    listing_records: 3\n    sort: datepublish DESC\n    recordsperpage: 3\ntaxonomy.yml\nyaml\nshops:\n    name: Shop Categories\n    slug: shops\n    singular_name: shop-category\n    singular_slug: shop-category\n    behaves_like: categories\n    multiple: true\n    options: [ amusements, antiques & markets, arts & crafts, booksellers & stationers, ...]\n    listing_template: shopping.twig\nSo shopping gives me all records with the shopping contenttype and pager is present if there's overflow. With the above config, I get three per page.\nshops/amusements gives me shops that have been linked to amusements. However they're not limited to three per page, it instead shows them all. The only way I've managed to cut that down is with the global listing_records attribute.\n. That sounds like a better solution, cheers.\n. I've created an extension to produce the menu instead, using the following code. It's pretty basic and is open to potentially highlighting the incorrect option should a record slug ever match a path. Should be okay for my use-case though.\n``` php\n// get parts of current url\n$parts = explode('/', $this->app['paths']['current']);\n// get menu config\n$main_menu = $this->app['config']->get('menu/main');\n// find active menu item\nforeach ($main_menu as &$menu_item) {\n    if (in_array($menu_item['path'], $parts)) {\n        $menu_item['active'] = true;\n        break;\n    }\n}\n// render the menu, and show it to the visitor.\n$this->app['twig.loader.filesystem']->addPath(DIR);\n$html = $this->app['twig']->render('assets/menu/template.twig', array('menu' => $main_menu));\nreturn new \\Twig_Markup($html, 'UTF-8');\n```\n. Ace, nice one. :)\n. I've got this so far in a .php file. I am however unsure where the best place is to put it.\n``` php\n<?php\n// to extend Bolt's Backend\nnamespace Backend;\nuse Symfony\\Component\\HttpFoundation\\Request;\nuse Symfony\\Component\\Form\\FormError;\nuse Symfony\\Component\\Form\\FormEvent;\nuse Symfony\\Component\\Form\\FormEvents;\nuse Symfony\\Component\\Validator\\Constraints as Assert;\nuse Bolt\\Permissions;\nclass Backend extends \\Bolt\\Controllers\\Backend\n{\n    public function useredit($id, \\Bolt\\Application $app, Request $request)\n    {\n        // ... \n    }\n}\n``\n. Hi Bob, I had a look at the related issue. It is a similar circumstance, although I need my users to be able to log in and out. So the details need to be tied to the active user when they login. That could get messy if using a separatecontenttype`, as I imagine the person adding them would need to specify a user id to tie to.\nSecond to that I'm wanting to alter the login requirements to email and password. Everyone has an email address and best practice is not to reveal them on the front-end. Whereas with a username / display name someone could easily accidentally put the username out there, or set both to the same value. In turn giving an attacker half the information he needs to get into that account.\nMaybe one day down the line you could have a config file for user records and specify which credentials to use for login, and also any additional fields.\n. That doesn't leave me with much choice for now, so I've started extending the Backend and Users classes. I've also added my additional columns to the bolt_users table. However the CM is now running it's database check and finding the schema doesn't match and asking me to update it, thus removing my new columns.\nI assume the schema is defined in the app/database/bolt.db and this is what the check happens against. However whichever editor I try and open the file in just complains it's not UTF-8. When I finally get the file open the formatting is all over the shop including artefacts.\n. I see it, cheers guys.\n. I tried to make as few changes to the original class as possible. I renamed the classes by adding a Core suffix on the end. So Users became UsersCore and Backend became BackendCore. I then created my class at the bottom of the same script and extended the class, e.g:\nphp\nclass Backend extends BackendCore\n{\n}\nI then copied the function I need to modify into my new empty classes and made my changes. When working with the Users class I had to change some functionality from private to public so they could be accessed.\nIt is working though.\n. Cheers guys, my searches might not be limited to one contenttype, so I assume I may need to communicate with the db directly, and then process the results ready for display. Gawain's suggestion looks like a good place to start though.\n. I'm trying to do an advanced search which involves contenttype, keywords, and also a taxonomy option. So far I have got the search working with the contenttype and keywords involved. I'm not sure how to go about adding the taxonomy to filter. Here's what I've got in my extension (minus all the form input processing):\n``` php\n// example data\n$keywords = 'lorem';\n$contenttypes = array('news');\n$filters = array();\n// search\n$this->app['storage']->searchContent($keywords, $contenttypes, $filters);\n```\nI was hoping it would be as simple as adding it to the filters array but it looks like they only filter against the table structure for the specified contenttype.\nI found this near the where clause, that explains it. :)\nphp\n// @todo make relations work as well\n. Never mind... I wrote some custom queries into an extension to do it.\n. Just did a test and yes it's the same issue. Using the Save & return to overview button catches the error, but using the Save button does not.\nI imagine this is because both the Save and Preview options are both button elements whereas as Save & return to overview is an actual input[type=submit].\nThere's a few ways the Bolt developers could handle this. One would be to make the options all input[type=submit] and name them individually, i.e:\nhtml\n<input type=\"submit\" name=\"save\" value=\"Save\">\n<input type=\"submit\" name=\"preview\" value=\"Preview\">\n<input type=\"submit\" name=\"save-return\" value=\"Save &amp; return to overview\">\nYou could then check which one was used (as only the selected one will populate POST or GET) and continue to process the data from there, whilst HTML5 would automatically use it's browser based validation.\n. The fact it's caught and the request is AJAXified does raise an interesting question. It would be fairly easy to implement a quick test and find out. I'll give it a go later on.\n. Yeah it still works, I tried both with catching the individual submit click and also catching the form submission:\nhtml\n<form action=\"\" method=\"POST\">\n    <input type=\"email\" name=\"email\" required=\"required\">\n    <input type=\"submit\" name=\"save\">\n    <input type=\"submit\" name=\"preview\">\n    <input type=\"submit\" name=\"save-return\">\n</form>\n``` js\n$(document).ready({\n$('input[type=submit]').click(function(event) {\n    event.preventDefault();\n});\n\n$('form').submit(function(event) {\n    event.preventDefault();\n});\n\n});\n```\nIn both cases HTML5 validation is triggered. :)\n. Sure, never done one before, but there's always a first time for everything. \nReading the GitHub docs it looks straight forward enough.\n. Interestingly enough, if I use the {{ pager() }} function on a taxonomy page it does show the pagination. I will look into how the extension does this.\nI still find it strange though how with contenttype the pager variable is present without needing to call pager() and yet with taxonomies it is not.\n. Would you be able to link me to the JSONAccess extension? I believe I'm on the latest Bolt version, I also just checked the Git repo and could not see the extension you mention.\n. Nice, looks good.\n. I'm trying to create a similar thing in another extension but keep getting the following error:\nThe controller must be a callable (Array(0 => Object(MyExtension\\Extension)) given).\n``` php\nnamespace MyExtension;\nuse Symfony\\Component\\HttpFoundation\\Request;\nuse Symfony\\Component\\HttpFoundation\\Response;\nclass Extension extends \\Bolt\\BaseExtension\n{\n    function info()\n    {\n        return array();\n    }\nfunction initialize()\n{\n    $this->app->get(\"/ajax/func/\", array($this))\n              ->bind('ajax_func');\n}\n\nfunction ajax_func(Request $request) \n{\n    // ...\n}\n\n}\n```\n. Hehe yep, I figured it out. Cheers.\n. This was in Chrome on Windows 7.\n. My function looks like this. It strips HTML tags and then parses the plain text.\n``` php\n    public function truncateWords($string, $limit, $append = ' \u2026')\n    {\n        // remove html\n        $string = strip_tags($string);\n    // split into parts\n    $parts = preg_split('/([\\s\\n\\r]+)/', $string, null, PREG_SPLIT_DELIM_CAPTURE);\n    $parts_count = count($parts);\n\n    // find where the limit is hit\n    $length = 0;\n    $last_part = 0;\n    for (; $last_part < $parts_count; ++$last_part) {\n        $length += strlen($parts[$last_part]);\n        if ($length > $limit) { break; }\n    }\n\n    // produce a new string using parts before the limiter kicks in\n    $return = implode(array_slice($parts, 0, $last_part));\n    $return = rtrim($return, ' ');\n\n    if ($length >= $limit) {\n        // trim any grammatical marks\n        $last_char = substr($return, -1);\n        if (in_array($last_char, array(',','.',':',';','!'))) {\n            $return = rtrim($return, $last_char);\n        }\n        $return .= '...';\n    }\n\n    // return truncated string\n    return $return;\n}\n\n```\n. I've changed the return to...\nphp\nreturn new \\Twig_Markup($return, 'UTF-8');\n.. and it works now.\n. Just done a quick phpinfo() to double check and it's set as follows:\npost_max_size: 8M\nupload_max_filesize: 128M\n. Turns out this was an issue caused by an Nginx timeout setting where the upload was reset after 30 seconds.\n. I think that only works if you have an actual record, what about if the list of records is empty?\n. Yeah I had a look in the code and DB and thought this might be your answer. In my scenario my taxonomies are tied to specific contenttypes, so it's a 1-to-1 relationship as such. Does Bolt have any form of categorisation for a single contenttype, which inherits its qualities, such as sort order in this case?\n. You can use taxonomies to achieve filtering of record lists: http://docs.bolt.cm/taxonomies#taxonomies\n. Not sure I fully understand your concept. \nAre there any examples of what you wish to achieve on existing websites?\n. Ace, cheers.\n. Ah, this looks like the result of the contenttypes changing - as they aren't removed from db if changed.\n. Interesting, it could be that my custom routes have broken it a bit. Either way if you support both trailing and non-trailing the search engines will index both. Which means weaker result strength as its split across two URLs depending on how the crawler finds it each time.\nWhereas if it is always a trailing slash (or non-trailing slash) then it's more concise and always indexed with the same URL. If you use webmaster tools and have a site with this problem you will see it complain about multiple pages having the same title, description, content etc.\nIn my experience it's best to pick one method and keep it consistent. I always veer towards the non-trailing slash personally as it's one less character to deal with.\n. Ah OK. That's cool.\nFor anyone reading this, there's an interesting example of the canonical url use here: http://moz.com/blog/canonical-url-tag-the-most-important-advancement-in-seo-practices-since-sitemaps\n. So which of these is better, and why?\nThis first one works when I don't include a trailing slash, but throws an error if I do:\nyaml\nmembers:\n    path:           /members\n    defaults:       { _controller: 'Bolt\\Controllers\\Frontend::record', 'contenttypeslug': 'page', 'slug': 'members' }\n    recordslug:     page/members\nThis second one works both with and without the trailing slash. However without the trailing slash it appears to cause a 301 redirect to the trailing slash version.\nyaml\nmembers:\n    path:           /members/\n    defaults:       { _controller: 'Bolt\\Controllers\\Frontend::record', 'contenttypeslug': 'page', 'slug': 'members' }\n    recordslug:     page/members\n. The interesting thing about the canonical URL though (from Bolt's paths) is that it's the non-trailing slash version. So if it tells the search engines to index everything without a slash but then when receiving a non-trailing slash URL automatically redirects to trailing slash version. \nIt just seems a little inconsistent.\n. Oddly, I seem to have some routes which redirect to the trailing slash version and some that don't.\nThe following redirects when called without trailing slash.\nyaml\nactivities:\n    path:           /activities/\n    defaults:       { _controller: 'Bolt\\Controllers\\Frontend::listing', 'contenttypeslug': 'activities' }\nThe following does not redirect when called without trailing slash.\nyaml\nshops:\n    path:           /shops/\n    defaults:       { _controller: 'Bolt\\Controllers\\Frontend::listing', 'contenttypeslug': 'shops' }\nI commented out any child links of the shops page but it still doesn't do the redirect. =|\n. I got it. Missed the following (original route):\nyaml\ncontentlisting:\n  path:               /{contenttypeslug}/\n  defaults:           { _controller: 'Bolt\\Controllers\\Frontend::listing' }\n  requirements:\n    contenttypeslug:  'Bolt\\Controllers\\Routing::getPluralContentTypeRequirement'\n. It's worth remembering to point forms to the correct URL too. It appears the redirect does not happen on POST requests, and if it did it would probably drop the data (unless Bolt was going to reconstruct the POST and forward it - but that's a bit of a performance overhead).\n. There's something wrong with the routing implementation here. If I have a contenttype shops and use the default routing for a contenttype:\nyaml\ncontentlisting:\n  path:               /{contenttypeslug}\n  defaults:           { _controller: 'Bolt\\Controllers\\Frontend::listing' }\n  requirements:\n    contenttypeslug:  'Bolt\\Controllers\\Routing::getPluralContentTypeRequirement'\nThen I can pass use either non-trailing or trailing slash and it will serve both, without any redirect.\nHowever if I set a route for the specific contenttype I can either have the non-trailing slash by matching a path of /shops in which the trailing slash equivalent throws and error. Or I can match a path of /shops/ which 301 redirects /shop to /shops.\n``` yaml\nshops:\n    path:           /shops\npath:           /shops/\ndefaults:       { _controller: 'Bolt\\Controllers\\Frontend::listing', 'contenttypeslug': 'shops' }\n\n```\nNeither of these produces the same outcome as the original /{contenttypeslug} route.\n. Turns out I was on 1.4.4. I've now updated to 1.5.5. and it works better now.\n. I do agree with this statement. However working with several clients previously they've expressed the desire for this even with me highlighting the point you've made. It's an awkward one.\n. If I write my encryption code into an extension. Is there a way I can all that extension from the internal Bolt files? It will most likely be Users.php as that's where the majority of user data is gathered and processed, I will obviously need to both encrypt it and decrypt it.\n. The password method is an interesting one - not seen that suggested before. It does a have a few problems though such as if the user ever changed their password via a forgotten password method then you wouldn't be able to decrypt the existing data (because the password for the encryption key would be unknown).\n. You have misunderstood my previous response. By \"forgotten password\" I imply that they do not know the password with which the stored data has been encrypted. Therefore when they do the reset the system would not be able to re-encrypt it because it doesn't know the original password it was encrypted with.\n. Bit of additional info for you. \nI looked into the PHP updateRelation() and updateTaxonomy() functions. It appears that both receive the remaining item id which has been removed from the edit content view. So my guess is that when it's removed from view it's either still held in the JavaScript or HTML on the edit content form somewhere, and gets POSTed when submitting.\n. Excellent, that works thanks.\nMy first thought was along these lines, but then seeing the data still coming through pushed me in the JS/HTML direction.\n. You might need to do the same when processing multiple taxonomies too.\n. Yeah I had this issue too. I created an extension and basically used the current URL to determine what was active by matching it to the paths from my menu config. It's not bulletproof and won't work in every circumstance but it did the job for me.\n``` php\n    public function mainMenu()\n    {\n        // get parts of current url\n        $parts = explode('/', $this->app['paths']['current']);\n        $main_menu = $this->app['config']->get('menu/main');\n    // find active menu item\n    foreach ($main_menu as &$menu_item) {\n        if (in_array($menu_item['path'], $parts)) {\n            $menu_item['active'] = true;\n            break;\n        }\n    }\n\n    // render the form, and show it it the visitor.\n    $this->app['twig.loader.filesystem']->addPath(__DIR__);\n    $html = $this->app['twig']->render('assets/menu/template.twig', array('menu' => $main_menu));\n    return new \\Twig_Markup($html, 'UTF-8');\n}\n\n```\nPay particular attention to how the path is matched against the URL parts. My URL structure is very consistent but if you had something like... /example and /some/path/example it would match both of those.\n. Oh nice, not quite what I'm after though.\nMy reset password area is not intended to appear as an admin section, but rather a section on the front of the website. I have several users who can login and administer the website (so those are the admin users). I then have a further 200 users who are members of the website and have a login to access a 'members' area of the site (but not the backend).\nSo ideally I want them to hit reset password without it looking like their in the admin/backend section.\n. OK, cheers.\n. I've added the following to my extension.\nphp\n$this->app->get(\"/resetpassword\", array($this, 'resetpassword'))\n                  ->bind('resetpassword')\n                  ->method('GET');\nBut when hitting /resetpassword I just get shown my 404 page.\nNo route found for \"GET /resetpassword\"\nI've got another request listener setup in this extension for AJAX requests and that's working fine at the moment.\n. I got it... adding the slash in the bind() function did the trick.\nphp\n$this->app->get(\"/resetpassword\", array($this, 'resetpassword'))\n                  ->bind('/resetpassword')\n                  ->method('GET');\n. Have you removed or renamed the title field from your contenttype in the contenttypes.yml?\nI've found that fields hang around with their original settings and then when you submit the form for that content the database is still expecting the data to come through.\n. The solution is to go into your db, find the categories table, and delete the title column then.\n. I assume the back-end has some form of html purification script which checks the html is formatted correctly? If so, it might be worth providing the option of including or excluding <script> elements and any attributes such as onclick when purifying.\n. Ah I got it... you just set them to the same value.\nThe plural and singular of a contenttype can now be the same. \nFor example, you can now use 'news' for the contenttype, \nand 'news/lorum-ipsum' for a single record.\nMight it be worth Bolt inheriting from the plural when the singular isn't set?\n. My guess is because you've given the new user the everyone permission, which basically defines the user as a guest. To gain access to the back-end you may require a higher permission such as admin. Because of this the back-end redirects to login (because of low permission), and your login redirects to back-end (because they're authenticated), thus creating the loop.\nCan someone verify this?\n. It's a debatable topic. 401 is unauthorized, your user however is authorized. 403 would be more suitable as you don't have the required permissions and therefore access is forbidden.\nSome developers prefer to redirect and some prefer to return the user to login. The chances are that if you've modified Bolt/Users you have broken then intended flow which is why you're stuck in a loop.\n. Yeah I tried that but I find it then affects the canonical URL of all pages rather than just those available from about/....\n. I'll try this when I get back to the code in question and let you know.\n. Hi @vespakoen, I know how to access info from the main config file. What I'm asking is how I could access info from a custom config file. If it helps imagine the directory like this:\n/config/\n    config.yml\n    contenttypes.yml\n    custom.yml\n    ...\n. OK, that was my temporary fix. Ha!\n. The routing works on a first come first served basis (I remember reading this somewhere).\nTherefore without your news binding route entries is interpreted as a slug of pages rather than a content type (the route for that is further down in the do not edit section). As a result my routing config file is crammed full of overrides. =|\n. You don't need to use meta in your body for schema markup. In truth whatever the property is, it should have a HTML element wrapped around it (for a number of reasons). You can then stick your schema properties onto that element.\nhtml\n<time itemprop=\"datePublished\" datetime=\"2011-03-25\">March 25, 2011</time>\nIn your meta fashion above you'd have things like this:\nhtml\n<h1>An article title</h1>\n<meta itemprop=\"title\" content=\"An article title\">\n...which could simply be:\nhtml\n<h1 itemprop=\"title\">An article title</h1>\n. No worries... I basically have an is_string() check and an is_array() check to toggle.\nI just had a quick look at switching to $content->get('image') but that has the mixed response for me too. Anyway, I'll close as I have a workaround.\n. Cheers dude, I haven't got used to namespaces yet. The penny dropped as soon as I saw your reply.\nSo in the class where I need to call my extension from I could theoretically have this at the top:\nphp\nuse \\Disqus\\Extension as Disqus;\nand then when I need to use it:\nphp\n$foo = new Disqus;\n$foo->bar();\n. Having some weirdness with this error (obviously the table name is not set):\nAn exception has been thrown during the rendering of a template (\"An exception occurred while executing 'SELECT * FROM `` LIMIT 1' with params [\"12345678\"]: SQLSTATE[42000]: Syntax error or access violation: 1103 Incorrect table name ''\") in \"form.twig\" at line 14.\nBut why is that?\nUsing:\nphp\nuse \\MyExtension\\Extension as MyExtension;\nwith:\nphp\n$foo = new MyExtension($this->app);\n$foo->register();\nNow for some reason when the function in my class is called register() it gets called without me even needing the $foo->register() line. So I changed it to something else for now create().\nProblem I'm having is that my function in the extension needs some data which it usually gets from the config like this:\n``` php\nnamespace MyExtension;\nclass Extension extends \\Bolt\\BaseExtension\n{\n    protected $table_codes;\npublic function info()\n{\n    // general info\n}\n\npublic function initialize()\n{\n    $this->table_codes = $this->config['tables']['codes'];\n}\n\npublic function create()\n{\n    // query db\n    $query = \"SELECT * FROM `$this->table_codes` LIMIT 1\";\n    $record = $this->app['db']->executeQuery($query, array(), array(\\PDO::PARAM_STR))->fetch();\n    return ( ! empty($record)) ? $record : false;\n}\n\n}\n```\nCalling create() alone causes the error above because the value for $this->table_codes is null.\nI did stick a var_dump() in the initialize() function and can see the values are initially set.\nYet as soon as I call the method, they're gone again.\nWhat am I forgetting?\n. I got it working by overriding the construct, loading the config, then running the initalize function again like so:\nphp\npublic function __construct(\\Bolt\\Application $app) {\n    parent::__construct($app);\n    $this->config = $this->getConfig();\n    $this->initialize();\n}\nLet me know if there's a better way. I imagine their is.\n. OK, cheers.\n. Ace, yep, works for me. Closing issue.\n. Hmm... I still seem to be having the issue even with your recent fix.\nMy config has:\nyaml\ncaching:\n  config: true\n  templates: true\n  request: false\n  duration: 10\n  authenticated: false\nWhilst template: true it appears to cache the template with whatever conditions are match at the time for the page in question. So if I login from the home page the button is always \"login\". Yet if I visit another page the button says \"logout\". If I then logout the home page continues to say \"login\" but now the other page I visited still says \"logout\".\nIf I set template: false the issue goes away.\nI'm not sure whether the following information will help with diagnosis but its worth a go. In order to get the login/logout button on the page I use an extension. So there is a call to the login functionality from within my header.twig file. The function decides the status of the user, whether they're authenticated or not, creates the login area template accordingly, and returns it for inclusion in the header.twig template.\n. Oh ace, cheers.\nLooks like it works with contenttype and taxonomytype too.\nphp\n$globalTwigVars['contenttype'];\n$globalTwigVars['taxonomytype'];\n. I'll just leave it open for a moment in case I need something more.\n. With the contenttype one it only returns the name of the contenttype. Is there a way to get all the options etc associated with it. Or do I just use:\nphp\n$this->app['storage']->getContentType();\nAlso, when I print() a record from the record page, I can see the contenttype it belongs to. However I can't figure out how to access this in my extension. \n. I was trying that but it came back null.\n. It could be, I'm no longer working on the website where I had this issue though.\n. To fix edit:\n/app/view/_sub_editfields.twig.\nOn line 619.\n. K, done. I think. Never done a pull request before.\n. Actually having read up on the matter some email systems are case sensitive. Ignore my rambling.\n. Oh, I didn't realise there was a filelist option, is that a new addition?\n. Ha OK, cheers Bob.\nI can't see it in the documentation: http://docs.bolt.cm/content which is probably why I've missed it.\n. @mike-anthony - ah that's a shame.\n@cfsgeeks - cheers. I've just been having a play with that setup. I still have to mess about with the routing a bit but it was much better than targeting each URL individually.\n``` yaml\nsectionbinding:\n   path: /{sections}/{slug}\n   defaults: { _controller: 'Bolt\\Controllers\\Frontend::record', 'contenttypeslug': 'pages', 'sections': 'page' }\n   requirements:\n     sections: [ 'Bolt\\Controllers\\Routing::getTaxonomyRequirement', ['sections', 'page'] ]\n   contenttype: pages\npagebinding:\n  path: /{slug}\n  defaults: { _controller: 'Bolt\\Controllers\\Frontend::record', 'contenttypeslug': 'page' }\n  contenttype: pages\n```\nI'm not sure if the requirement part works as I expect it to. I can still access pages that aren't part of the about sections via /about/not-an-about-page.\n. Fair points.\nThe best method I've come across for doing this would be to use Modified Preorder Tree Traversal as described here: http://www.sitepoint.com/hierarchical-data-database-2/\nIt has an unlimited depth so you could have children within children within children. It can be used to generate menus, breadcrumbs, sitemaps, listings, etc. It can look down, and it can also look up, so could also generate the slug paths.\n. I've realised it allows me to upload .mp3 files anyway, even though they're not in the specified allowed types.\n. Yes, you're correct, thanks.\nSeems a bit weird though how when you've set specific extensions for the specific file uploader it will still take whatever is in the config.\n. That looks exactly like what I want to do. Cheers dude.\nI'll close this once I've tried it out.\n. Cool... I've got the record being created. \nI've used the following function to relate to another contenttype record too\n$record->setRelation($contenttype, $id);\n. I think it would be useful to see them. I suppose it depends on situation though, so maybe do something like this:\ntwig\n    user:\n        type: integer\n        readonly: true\n        visible: true\n. So shall I create a feature request for this?\nAlso, I don't appear to be able to label any of my posts. I would have labelled the majority as questions previously. Seems like only you guys have the power to do that.\n. OK, cheers.\n. ",
    "halcon6": "Great, that fixed it.\nNow, how is that going to affect the session? (security wise).\n. I'll do that, thank you for your help.\n. ",
    "xiaohutai": "Hope this is fixed now. Changed the WHERE part of the query, from:\nWHERE bolt_entries.status = \"published\"\n    AND bolt_taxonomy.contenttype = \"entries\"\n    AND ( bolt_entries.title LIKE '%quisque%' OR bolt_entries.teaser LIKE '%quisque%' OR bolt_entries.body LIKE '%quisque%' OR bolt_taxonomy.slug LIKE '%quisque%' )\nto:\nWHERE bolt_entries.status = \"published\"\n    AND ( ( bolt_entries.title LIKE '%quisque%' OR bolt_entries.teaser LIKE '%quisque%' OR bolt_entries.body LIKE '%quisque%' )\n        OR\n        ( bolt_taxonomy.contenttype = \"entries\" AND ( bolt_taxonomy.slug LIKE '%quisque%' ) ) ) )\n. Have you tried uncommenting the RewriteBase / part in your .htaccess file?\n```\nSome servers require the RewriteBase to be set. If so, set to the correct folder.\nRewriteBase /\n``\n. Hm,&`-prefix is used for repeated nodes in yaml files. Try using quotes around your password?\npassword: '&CPSV9736U'\n. Hm just some thoughts. In the future, wouldn't you want something like:\norder by username asc, then town asc, then state desc, ...\nSo multiple fields and specify ascending/descending per field? \nIn Doctrine:\n```\n$qb->orderBy('column1 ASC, column2 DESC');\n$qb->addOrderBy('column1', 'ASC')\n   ->addOrderBy('column2', 'DESC');\n```\nsources:\n- http://stackoverflow.com/questions/11575325/order-by-multiple-columns-with-doctrine\n- http://doctrine-orm.readthedocs.org/en/latest/reference/query-builder.html#high-level-api-methods\n. If you made an override in your routing.yml, then you can add contenttype: <contenttypename>.\nI have something like this:\nabout-pagebinding:\n  path:               /about/{slug}\n  defaults:           { _controller: 'Bolt\\Controllers\\Frontend::record', 'contenttypeslug': 'page' }\n  contenttype:        pages\n. I've used something like:\nuse Symfony\\Component\\Yaml\\Yaml;\n$data = Yaml::parse(__DIR__.'/config/data.yml');\n. It seems to me that twig (now?) caches the return values of the twig functions.\n. Don't merge yet. I think something is still broken.\n. Use this instead:\n...\n$content->setTaxonomy('chapters', 'some-chapter-name#10');\n$storage->saveContent($content);\n. Try {{ paths.files }}{{ m.uri }} in your template, see http://docs.bolt.cm/internals#app8216paths8217\n. Awesome, @rossriley !\n. I get the same error with the latest Bolt. This error only occurs when my stack is empty. Once I had one (or more) item(s) on it, it works again.\n. Your homepage is based on a record. See your app/config/config.yml. There's probably something like:\nhomepage: page/1\nhomepage_template: index.twig\nIn Twig, you can check if you are on the homepage with:\n{% if app.request.get('_route') == 'homepage' %} ... {% endif %}\nor\n{% if paths.current == '/' %} ... {% endif  %}\n. There's a rule in app/config/routing.yml which gives clean URLs like www.example.com/some-page-slug. \npagebinding:\n  path: /{slug}\n  defaults: { _controller: 'Bolt\\Controllers\\Frontend::record', 'contenttypeslug': 'page' }\n  contenttype: pages\n. Hm, I've noticed something similar today. Have you tried using the singular slug?\ne.g. {{ print(work.related('slide')) }}\n. You could try something like:\n{% set foo = config.get('general/locale') %}\n{% include foo ~ '/_template.twig' %}\nMulti-language can be tricky, because you also need to translate the content.\n. Whoa, just checked the videos. This is awesome work! :+1: \n. With the new Marketplace, we could add dependencies. Then if you want custom stuff, just add SimpleForms as a dependency and extend the class. For truly custom forms, you probably want a custom extension anyway.\nSymfony forms does have some twig features that we need to document for SimpleForms, such as custom widgets (this gives users more control over the html of their forms).\n+1 for clean and simple. \n. Once again, awesome stuff :+1: \nEarlier today, I fixed some Bolt 2 issues regarding the files.twig (#1414) because of a quick merge. Perhaps a good idea for you to look at that when @bobdenotter merges this in Bolt 2, as I might possibly have overseen certain features.\n. For the Omnisearch, I think refactor it to\n( $query, $folder = '/theme', ... )\nThough, nothing will break if you remove the default value (perhaps add an extra check). I personally like useful default values, so I'd prefer re-ordering the arguments if it isn't much of an hassle.\n. I reverted the change temporarily using https://gist.github.com/bobdenotter/beef4d430dc025816964\n. Hm, nice. Are we also going to have an official Bolt Github for extensions. Or do we put them all under our user accounts?\nI'll probably convert these:\n- https://github.com/xiaohutai/bolt-MetaTags\n- https://github.com/xiaohutai/bolt-RelatedContentByTags\nAs far as I know, Omnisearch can be removed. Since it's in the new Bolt.\n. A few questions.\nWhat does this part mean and what's supposed to be in there?\n\"extra\": {\n        \"branch-alias\": {\n            \"dev-master\": \"1.7.*\"\n        }\n    }\nAnd, is this necessary for all new extensions now?\n\"files\": [\n            \"init.php\"\n        ],\nThanks!\n. Many thanks for the answers, @rossriley. I guess I'll keep the \"extra\" stuff in, so you can see it when editing.\n. So, I've been converting some extensions. I just saw that you can't submit too many extensions within a certain timespan on beta.extensions.bolt.cm. If you try to update one of your extensions, you'll see a\n\nFailed to execute git clone --mirror ...\n\nNot sure what this is for, but perhaps we can just fetch the raw composer.json directly from github instead?\n\nConverted these:\n- Disqus\n- FacebookComments\n- FacebookLike\n- GoogleAnalytics\n- HelloWorld\n- ImportWXR\n- PasswordProtect\n- Sitemap\n- TestSnippets\n- TitleCase\n- TwitterButton\n- WaffleOrders\nI haven't converted Authenticate and SimpleForms yet, because I sense that people are still working on those at the moment.\n. Not sure what I did wrong with the extensions for Bolt:\nI keep getting the following output when trying to install them:\n```\nLoading composer repositories with package information\nUpdating dependencies (including require-dev)\nYour requirements could not be resolved to an installable set of packages.\nProblem 1\n    - The requested package bolt/disqus could not be found in any version, there may be a typo in the package name.\nPotential causes:\n - A typo in the package name\n - The package is not available in a stable-enough version according to your minimum-stability setting\n   see https://groups.google.com/d/topic/composer-dev/_g3ASeIFlrc/discussion for more details.\nRead http://getcomposer.org/doc/articles/troubleshooting.md for further common problems.\nInstallation failed, reverting ./composer.json to its original content.\n```\nBut xiaohutai/bolt-MetaTags and xiaohutai/bolt-RelatedContentByTags work fine.\n. I have made multiple tests, I first tried with the repo bolt/Disqus, later forked a test under my user account. See https://github.com/bolt/Disqus , not sure what is wrong with this.\n. Whoop! JSONAccess has its own repo now, at https://github.com/bolt/jsonaccess\n(see also #1595 and #1711)\n. Interesting topic. What happens when you want to update a theme (if that would be a possibility)?\n\nBonus points for post-install customisation script as added by template-theme developer\n\nThis could be awesome.\n. Awesomesauce! :+1: \nBig plus for end-users!\n. Hm, something went wrong. Going to re-make this pull request\n. Done.\n. This is what the default theme (base-2014) does. It takes all the fields in the record and outputs them as name-value pairs. Usually, you want something like:\n<h1>{{ record.title }}</h1>\n{{ record.body }}\netc.\n(see record.twig.).\ninstead of just dumping every field.\n. Is the item published?\n. > ```\n\n$record->values['body'] = str_replace(\"[token]\", \"token replacement text\", $record->values['body']);\n```\n\nMaybe something like http://twig.sensiolabs.org/doc/filters/replace.html \nOtherwise, you could specify a class for your contenttype. Then you can write a function that changes the output and then call that function in the template, {{ record.myCustomFunction()  }}. See 0c18498c498d6bf0eb33fea04cfa7d83f3cb7b24 for more info on custom classes. I don't think that there is much documentation about this at the moment though.\n. I think taxonomies should be put in whatever tab you want.\n. It would make sense to add a tab Relationships, because taxonomies are defined in taxonomy.yml, why would relationships suddenly fall under Taxonomy?\nI think allowing taxonomy and relationships in custom groups would be more suitable. See @rarila's example :+1: .\nA name like Taxonomy or Relationships only makes sense for developers, not necessarily for content editors. Such an editor doesn't see the difference between a normal field and a taxonomy field anyway; but might question why all these \"special\" fields are under the tab \"Taxonomy\" instead. A List Apart has an interesting article about content strategy: Training the CMS.\nI think this feature would benefit Bolt. Plus, it fits with catering the \"three target audiences\" philosophy, specifically content editors. The question would be: what's a nice way to specify groups for taxonomies and relationships in contenttypes.yml.\n. Same as @GawainLynch . I usually call them Blocks, then use {% setcontent block = 'blocks/some-item' %}. Something like, https://snippets.bolt.cm/s/5vkxt\n. Yes, that makes more sense. I used -datepublish because that was the default ordering when using printquery.\n. I like this :+1: \n. I've made a pull request in bolt/cheatsheet, see https://github.com/bolt/cheatsheet/pull/2.\nClosing this for now. Cheatsheet issues can be opened at https://github.com/bolt/cheatsheet/issues\n. Looking good.\n. Reburied? \ud83d\udc80 \nrequried -> reburied -> required. Don't you prefer:\n$paths = [\n    '.bolt.yml',\n    'composer.json',\n    'composer.lock',\n    'src/Site/SiteBundleLoader.php',\n];. Not sure if we can get varying contenttypes here, then this part would be troublesome for getting the correct sortorder.\ni.e. pages/1 and entries/1 in the results. Is that a PSR-2 thing? Sure, I can amend.. This one still says Support Question instead of Security Issue.. For documentation issues \ud83d\ude04 . See what? https://github.com/bolt/bolt/issues/7753?. ",
    "CapMousse": "Or Foundation ?\n. yeah, if you want to rapidly create an UI without big customization, bootstrap is cool (except the new grid thing)\n. Bootstrap 3 has a really powerful grid system, but I think it's to heavy.\nhtml\n<div class=\"row\">\n  <div class=\"col-xs-12 col-sm-6 col-md-8\">.col-xs-12 .col-sm-6 .col-md-8</div>\n  <div class=\"col-xs-6 col-md-4\">.col-xs-6 .col-md-4</div>\n</div>\n- .col-md-* is for desktop\n- .col-sm-* is for tablet\n- .col-xs-* is for mobile\nSo you can create really cool responsive grid layout but with huge time amount !\n. ",
    "losttheplot": "Bootstrap 3's new grid system is the dog's danglies - very powerful once you understand it, and the extra code required is totally insignificant to the average webpage ...smaller than a minuscule thing trying to hide. BS3 allows one to alter column/div proportions and even swap column positions (like a horizontal flip) at different viewport widths. It's fabulous. You just have to get into a new mindset whereby your base styling is for a smartphone, then you add your custom changes for widths as they scale up. I'm as impressed with BS3 as I am with Bolt after an initial play.\n. @mike-anthony: As I understand it, the whole point of mobile-first is that fast and endless bandwidth is not usually freely available on mobile networks, especially if one lives outside of a city. The traditional responsive scaffolding behaviour has been to ask the browser to compute and draw the full-size web page, then to recompute and scale it down if the viewport size triggers any media width break points. This all takes time and browser resources which desktops have in abundance, but which mobile devices generally don't. By switching the scaffolding's emphasis to mobile-first (as Foundation did before BS), the browser is asked to compute and construct the web page for the tightest width first, whereby mobile devices do not have to go any further so they load slightly quicker. Desktops have plenty of resources so the extra time needed to scale the page up is negligible.\nAs for all BS sites looking the same; of course they will if you leave the default styling in place. As with any css framework, that styling is just a starting point for css exponents, or an end point for css novices who don't know any different. If one understands css, it takes just minutes to alter the page to exactly how you want it to look, which can be a million miles away from the default look - if that's what you want. Un-customisable it most definitely is not.\nAs for documentation; it is more than ample, IMHO, for the average css coder to use as a production tool, in the same way as php frameworks assist php coders who understand their craft. If one doesn't understand anything about css then one is going to find it a steep learning curve, but you can't have your cake and eat it!\nAs for polluting the html with non-semantic style-names; I used to be a purist of this sort some years ago, but I soon realised that the only people I was impressing were other purists. It was very satisfying to be able to style a page using nothing other than html element tags (i.e. no class names whatsoever) but in the real world, time is money and a mortgage tends to focus one's thoughts on the business of running a business rather than worrying about whether or not a class name could be two characters shorter or not. Yes, code bloat is to be discouraged, but BS3 adds minimal code for what it brings to the table, if you understand how to use it properly.\n. There sure is, Bob. For what it's worth, given that your admin area does the job as it stands, I would be focussing on some of the more obviously missing CMS features before I worried about the finer points of presentation. Like menu control, for example, which requires content providers to edit a 'techy-file-thing'. Or some form of picture editing facility so that content providers without Photoshop can carry out basic crop and scale actions. Or a more logical and configurable uploaded pictures directory so that content providers can start to organise their file uploads as their site grows. I understand that all these things take time, I truly do, but things like this are far more important than window dressing (unless I've misunderstood something here).\n. ...which is why I qualified my opinion. I thought this was about the GUI, not the codebase. I'll get back in my box now ;)\n. @bobdenotter I wasn't trying to highlight any particular issue; I was just questioning your priorities. I have a very good understanding about projects growing organically and the problems this brings, but I would still offer the opinion that the other features mentioned are definitely more important to the project's usefulness than whether or not the admin area works well on a smartphone.\nI'll leave you to open issues on those points if you feel it appropriate, but generally speaking I have a good understanding of what end-users/content-editors want from a CMS and the ability to simply add a page to a menu without touching anything that looks like a script is right up there on the list, alongside an easy way of editing uploaded images.\nYou're doing a great job with the project, and whilst it may appear that I am being critical, I am in fact just trying to help :)\n. \"Also, if you'd like to help implement any of them, you're very welcome to do so. :-)\"\n...if I decide to use Bolt, I will :)\n. I strongly suspect that BS3 or F5 will both be more than capable of doing the job just fine, and what one lacks over the over will soon be corrected as they continually leapfrog each other with new features (as is the way of such things). Just bear in mind that one good way to push your project up the popularity charts at a later date is to encourage theme/template designers to build great themes for it and market them on Themeforest and suchlike. Some people look for a great CMS or ecommerce theme first, then download the app it was built for, as crazy as that sounds. From what I've seen, BS seems to be significantly more popular among theme designers than Foundation, although this is just my observation, not based on any hard metrics   ...just a thought.\nPS: the more advanced themers sometimes extend their designs to the admin area as well as the front-end.\n. Hi Bob,\nThanks for responding and for the site list :)\nAll the files have simple names such as bro_loft.jpg and worthing.jpg. I have checked all the dir permissions and have tried three different browsers. Feel free to explore my test site which I have set up purely to play with Bolt. I have emailed you the front and back-end URLs together with developer login details. It only contains test data.\nView the uploaded files; clear the cache; look at the three pages which should each have different pictures; click on the pictures to see what they should look like (as in the original files). If everything looks okay to you then I will give you my sincere apologies and will scratch my head some more.\nI also repeatedly get thrown to an un-css-styled 'Latest activity' page when navigating about the admin area, which corrects itself if I force-refresh the browser.\n. Update: Bob thinks my problem might be due to running php 5.3.3 and suggested an update, but was unaware that 5.3.3 (albeit heavily backported with bug/feature/security fixs) is the 'current' distro for RHEL6, which is a very popular Linux OS. I have tried disabling APC but FSA (fault still apparent). My sysadmin will investigate further when he gets chance.\n. I suspect that the OP is seeing a blank page at localhost/bolt/users/edit - possibly due to an .htaccess issue or suchlike ...just a thought.\n. ",
    "helgvor-stoll": "Hi,\nWhy not ExtJs (http://docs.sencha.com/extjs/4.2.2/) or jQuery EasyUI (http://www.jeasyui.com)  for the backend as Pimcore (pimcore.org) do?\nBest regards.\n. Ok, I bow. In that case, I think Bootstrap is the best choice too compared to Foundation. For the front & backoffice.\n. ",
    "joeygartin": "+1 for Bootstrap\n. Are there any specs on this somewhere?\n. I cannot remember the exact errors I got, but when I first installed on Ubuntu, I made a couple of the following mistakes:\n1) giving the apache usergroup (www-data) proper privileges to some of the /app directories (like cache, database (if using sqlite), etc).\n2) Turning on mod_rewrite (a2enmod rewrite).\nAfter that all worked fine.\n. Thanks, sorry I did not see that in config, I certainly do not want to waste your time.\n. Where do you add your routing code?  I did not see if there was a way to do it other than adding to bootstrap.php the route call and loading of my own controllers in my namespace under /src.  Am I on the right path or is there a different way to do this with Bolt (i.e. register my routes/controllers)?\n. Thanks a lot that worked great!\n. ",
    "schwarzmedia": "Ideas for the new Backend\nI experimented a bit to let the interface simple as it is, but allow it to use it for more complex needs. The big question behind  is: does it need a left menubar or is it possible to put all in the topbar?\nHere some ideas to solve some needs with the existing navigation concept.\nGroup Contenttypes added by Extensions\nFor example you add some Event-Extension with some contenttypes like Locations, Events, Guestbook/Registers the Content dropdown is to simple. Or for example a shop Extension with Products and Orders\nIs optional and should only groups if one extension shows more than one additional contenttype (by user-rights) \n\nAdd contenttypes in Mainmenu\nTo fit the menu better in the needs of a custom project, it would be nice to show some Contenttypes directly in the mainmenu\n\nAccount options in Mainmenu\nAdd the possibility to change password/Userdata/Logout an some stuff.\n\nWhat do you think about? \nSorry for my swiss-english ;)\n. I absolutely agree!\nJust wanted to share the code and give inspritation for future releases.\nThanks for your notice about boltcamp. That sounds really interesting\n. Thanks! I prefer to help you with the new Bootstrap 3 Backend\n. Thanks bob! That would be nice adding this to version 2.0!\nTo choose a common folder structure would be easier for developers find files always on same place and for example allowing the extensionloader, loading some things automaticly. \n\"Convention over configuration\"\n. ",
    "fabianmarz": ":+1: for Bootstrap update or general UI-refreshment :)\n. Nice! Looks awesome! Thanks for information :)\n\nAm 13.08.2014 um 06:25 schrieb Gawain Lynch notifications@github.com:\n@sofly here is a screenshot from the current master. Things coming along very nicely :-)\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "dominikzogg": "@bobdenotter it's not ready atm, but i am working on a model generator for doctrine orm. It's not meant for initial build only, its mean't to rebuild the entities on each configuration change. There are much to less tests, and a yaml to php configuration converter is missing, but this could be a possibility to use doctrine2 orm with nearly the same configuration as now.\nhttps://github.com/saxulum/saxulum-model-generator\nUsage: https://github.com/saxulum/saxulum-model-generator/blob/master/tests/DoctrineOrmGeneratorTest.php#L39\nDocumentation will follow\n. In my view doctrine is by far the most modern and professional ones (with the biggest community).\nEntity/Document are simple to understand, doesn't have any logic within which makes it easy to learn.\nWithin my 2 year experience with doctrine orm, it  wasn't slow and memory hungry until you don't handle to many data at ones. (Thx to lazy loading).\nI see there is a big future for mongodb and using the doctrine orm would make it easy to switch on doctrine mongodb odm for those who like (like me)\n. @marcj Its more decoubled than every other (doctrine dbal / orm), got support for multiple mapping types (xml, yml, annotation). Uses a service (entity manager) for handling records, so there is no need for any static repository methods within an entity. The querybuilder is very powerfull...\nWhat is important for you (a benchmark isn't in most real life examples)?\n. @marcj Well to have something simple and very powerfull at onces is the key for a solutions works for each size of projects. Most of the time i work with symfony2 and my coworkers and me often needed, those architecture benefits. But yeah for little projects, probably it looks like the other orm projects are competitors.\nLazy loading for example makes it possible a frontend dev can call a relation dynamically within a template, where the programmer doesn't need to join something within the controller, which makes it very powerfull for those too.\n. @marcj https://github.com/propelorm/Propel2/issues/356 it looks like using propel would never solved my wish using mongodb as well\n. @pivotx i see no problem with using the contenttypes.yml with doctrine orm (or others), but if would make sense that the defaults of the possible orm implementation based on the contenttypes.yml could be override with a key within yaml\n. @marcj Generating entity classes is an easy task, cause they are easy build, but i understand you don't want doctrine2 orm\n. @bobdenotter The only thing i dlike to discuss atm is if its an option, and if yes, which are the rules for. If you give it a chance based on the contenttypes.yml i will do a prototype working based on the doctrine orm and @marcj could create one with propel. Then we can discuss about likes/dislikes and changes and which implementation could be the way to go\n. I do not want make anything is more complicate in use as it is, for the features there are and will be from bolt itself.\nWhat i like to have, is that data can be reused outside the cms in a common way, for example for builing an ecommerce solution based on bolt.\n. @odlex: @marcj and i, would prefere a different solution. I would prefere doctrine orm and he like propel (he is a propel contributor). I didn't make a prototype, cause its not wished by @bobdenotter at the moment. What i dlike to solve with is not solvable by an api, cause i dlike to build a e-ccommerce solution as a part of bolt (module/extension..), this would mean products could be managed as a content types.\n. @marcj I know your opinion about doctrine, but to lie can't be a solution, it would not end in writing entities (what i allready explained you). The Generator from doctrine itself could solve most of the needed parts. The implementation i am thinking about (and its not a problem to write, masde allready prototypes, but had not the time/priority to write it) generates entities bases on the contenttypes.yml as i mentioned at the beginning of this discusion\n. i use code samples (that i could generate) which works since over a year of testing (methods for each type of relation (unidirection/bidirectional)\n. @odlex true\n. Would be cool, if bolt would run with lighttpd too. But to be honest, i didn't tried it since then again.\nAs long there is noone expect me, with this wish, its ok to stay it closed.\n. ",
    "tonicospinelli": "Does anyone working on it? \n. does have a issue number?\n. so... last night I worked on it, I get a good result :smirk: \nI going to make a PR and could you make code review?\nif you get a look before https://github.com/tonicospinelli/bolt/tree/changelog-comment\n. no problem for me, is the quick start :smile: \nwe can discuss more :+1: and get a great solution about it\nPR #1289 \n. great! :smile: \n. I agree with you, I'll do this change and make a new PR. Thanks!\n. Just saying, the Doctrine has extensions to implement tree, translations and others DoctrineExtensions.\nI don't use anything yet, but we can try introduce it in Bolt. Right? :smile: \n. @bobdenotter I removed avatar image and I added icon-user :wink: \n. @bobdenotter this issue is related to change log. I know what happens here.\nOn entry list, has a action to change entry status and when click on, it explodes.\nI can fix it really quickly I could put a automatically message and solve it.\nOther issue can be opened and at this moment, when change log is enabled, we can open a dialog with comment field (like on insert/edit mode) and chief-editor can put a message to publish (or not) the entry.\n. Hmm I not sure, but I think the correct is use the method saveContent() to centralize it. I fixing it right now :smirk: \n. For now, icon-user is ok, but I think bolt can use a gravatar user images (so, it is another issue).\nI'll change it.\n. shell\n[Symfony\\Component\\Routing\\Exception\\RouteNotFoundException]\n  Unable to generate a URL for the named route \"fileedit\" as such route does not exist.\nI don't know why, but the fileedit route was not defined. Any way, in command line this data not make sense to show :wink: \n. this part is showing all packages from command line as in Backend\\Extend::installed\nI don't get your point :confused: \n. ow, I the got the same error and send a new commit fixing it :wink:\nshell\n+------------------+---------+----------------+----------------------------------------------------+\n| Name             | Version | Type           | Description                                        |\n+------------------+---------+----------------+----------------------------------------------------+\n| bolt/boltforms   | v2.1.1  | bolt-extension | Symfony Forms API for bolt                         |\n| bolt/extension   |         | bolt-extension | A description about your extension should go here. |\n+------------------+---------+----------------+----------------------------------------------------+\nNow working good :smile: \n. ",
    "skanel": "I can join the project.\n. Yes, I am using apache.\n. Okay,  thank for guideline .\nfor the   formatter (code style) I use the default from eclipse. However I will follow your convention.\n. Okay, Thanks\n. GawainLynch, Could give me more details , what is \" initialize function \" in your term?\n. rixbeck, you have confused my question . it is about the Bolt Internals .\n. Okay, I see. for now bolt have no official document to develop a extention or we can say a bolt component yet.\n. tobias2k, yes that what I mean.:) \nThanks\n. Okay, that works now , \nThanks\n. @rossriley ,what I mean is the pagination ( is the process of dividing (files) into discrete pages) of the file list in the page (http://localhost/bolt/bolt/files/files/)\n. ",
    "quemasda": "Hi Bob. I have no idea about pull request using github. Can i copy & paste here a diff?\n. Sorry, i was busy. Tomorrow i will update my bolt git dir and i will do the changes again. If all is ok, i will email you the changed files.\n. ",
    "andersonamuller": "What is the status of this? I could use this change. I may help with the pull request.\n. You have to thanks PHPStorm :wink: \n. The problem is that the timthumb.php was being called without having the constants evaluated. THe constants need to be set outside the bootstrap. But I don't see what the difference may be, because the timthumb.php was requiring the app/bootstrap.php and now is the just the index calling app/bootstrap and then the timthumb.php.\n. Well, now my install (dependency package in composer) is not working anymore with the thumbnails. I  think I found another solution, @GawainLynch could you please replace your timbthumb.php with this one (https://gist.github.com/andersonamuller/9307797#file-gistfile1-php) and check if this one works for you? \n. @GawainLynch \nBefore doing that pull request, I also did a clean install, I tested the thumbnails and they were fine. I think there is another difference between our setups.\nAre you using apache or nginx?\n. OK, that is the difference.\n. I'm also using a clean version, I just forked the repository and start using. Just to clarify, in my PR i removed a rewrite rule from the .htaccess file. Did you removed this rewrite rule from your nginx configuration?\n. I created another VM with nginx (without any rewrite rule), tested with my changes and it worked just fine\n. I just started using nginx, so maybe I will not be of much help, but this is the host.conf I'm using. My bolt install is in the /var/www root. I really did a quick install :smile: \n```\nserver {\n  listen                *:80;\nserver_name           bolt.dev;\naccess_log            /var/log/nginx/bolt.dev.access.log;\n  error_log             /var/log/nginx/bolt.dev.error.log;\nlocation / {\n    root  /var/www;\n    try_files  $uri  $uri/  /index.php?$args ;\n    index  index.html index.htm index.php;\n  }\nlocation ~ .php$ {\n    root  /var/www;\n    try_files  $uri  $uri/  /index.php?$args ;\n    index  index.html index.htm index.php;\n    fastcgi_index index.php;\n    fastcgi_param PATH_INFO $fastcgi_path_info;\n    fastcgi_param PATH_TRANSLATED $document_root$fastcgi_path_info;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    fastcgi_param APP_ENV dev;\nfastcgi_pass unix:/var/run/php5-fpm.sock;\nfastcgi_split_path_info ^(.+\\.php)(/.+)$;\ninclude fastcgi_params;\n\n}\nsendfile off;\n}\n```\n. For sure we need cache, but I don't think we need this rule to achieve that.\nlocation ~* /thumbs/(.*)$ {\ntry_files $uri $uri/ /app/classes/timthumb.php?$query_string;\n}\nLike I said, my host.conf was really a simple one to test if my changes would work with nginx, I need more time to configure it properly, and I don't have much right now.\n. @bobdenotter, I guess the problem is in this line https://github.com/bolt/bolt/blob/master/app/classes/timthumb.php#L28.\nWhen the redirect from .htaccess is removed, this is not necessary anymore? It should always use the $_SERVER['REQUEST_URI']\nI may have missed this in my previously PR.\n. Actually, I removed this whole part in my PR #937\nphp\nif (substr(__DIR__, -20) == DIRECTORY_SEPARATOR.'bolt-public'.DIRECTORY_SEPARATOR.'classes') { // installed bolt with composer\n    require_once __DIR__ . '/../../../vendor/bolt/bolt/app/bootstrap.php';\n} else {\n    require_once __DIR__ . '/../bootstrap.php';\n}\nBut @GawainLynch had some problems with it. \nThe thing is, the docs should be updated to remove the  thumb rule in the webserver, as I did with the .htaccess.\nIf you look the https://github.com/bolt/bolt/blob/master/index.php#L21 you see that the application is bootstrapped before including the timthumb.php script, so it should not the done again inside the script. And I think that is the way it should be.\n. I'm sorry I don't have much more time to look further as I am really busy at work ATM and now I just found out that the recent Bolt version breaks my project (I will probably submit another issue), so I have my hands full :anguished: \n. Yes @rixbeck they look fine by me.\n. The default value for BOLT_WEB_DIR is /, right? And the default value for the theme_path is theme, so it should not have any consequences event if you set another directory in theme_path, if is still inside the BOLT_WEB_DIR. The only issue you may have is if you have BOLT_WEB_DIR as e.g. /web, but you have your theme outside the BOLT_WEB_DIR, e.g. BOLT_PROJECT_ROOT_DIR/my-theme-root/theme. But still, why would you have this if the web server cannot provide these files without a special rule in your web-server. \n. @rixbeck Yes, you probably have the same setup as I, and you got the error before me :)\n. Any chance of merging this fix soon?\n. Well, before was fixed title, so I think the second field makes more sense.\n. I have the same issue, for now I need to use the version 1.6.2 in the composer.json\n. This happens in the 1.7 as well.\n. ",
    "X4": "Maybe worth a look how they do Editing: http://respondcms.com/page/tour\n(I personally don't like CKEditor and TinyMCE)\n. ",
    "cjuhong": "That's OK,  but   the tutorial does not tell how generate database schema.\nMy database schema is empty when I open the browser\n. Sorry, I can not get you point about how to create first user yet. ( \u02c7\u02cd\u02c7 ). \nCould you wirte something more detail about that?\nThanks a lot.\n. ( \u02c7\u02cd\u02c7 ). ( \u02c7\u02cd\u02c7 ). ( \u02c7\u02cd\u02c7 ). \nI feel confused about how to create the first user? where or which file is need to be modified to create the user?\nForgive me for asking such a silly question.\nThanks a lot.\n. The following capture  is my server setting:\n\n\n\n. \n\nI touch nothing in the .htaccess.\n. ",
    "razmous": "Hi \nI ran into a similar issue during the installation. In my dev environment, I use multiple applications and I don't create a VirtualHost for each one (only Alias and Directory directives) to access to my application \"http://localhost/bolt\".\nTake a look into your Apache2 log file in \"/var/log/apache2/error.log\" (default). \nIn my case, it says that it doesn't find /var/www/home ... it looks like bolt is looking for a path depending on your \"DocumentRoot\" instead of the real path !\nWhat I did is just moving the bolt directory to /var/www of my web server.\n. I tried just now with a new fresh install but no way it still looking for /var/www/myapp\nAlso I uncomment \nRewriteBase /\ntried with \nRewriteBase /myapp\nbut no way\napache log\n[Fri Nov 22 18:58:19 2013] [error] [client 127.0.0.1] File does not exist: /var/www/myapp\nFor me, I can continue working with a VirtualHost or change DocumentRoot of the server since I have full access to the server. However if someone works with a hosting providers\nis this related to these two variables ? BOLT_WEB_DIR,  BOLT_PROJECT_ROOT_DIR \n. Thanks for you quick answer !\nI misunderstood the meaning of the field parameter \"name=date\" from the Kitchensink contenttype example.\nSo it is more understandable for me now\nThanks again !\n. ",
    "izakman": "I'm currently having this same issue; getting a index.php not found when trying to do the setup.\nMy htaccess looks the same except I've set RewriteBase (my bolt is in a \"bolt_test' dir) I tried commenting it back out, but then I get a bolt fatal error.\nI'm running it on a web host.\n. Ok, I've been an idiot, sorry.  Just started going through and taking some screen shots and realised I had the wrong freakin RewriteBase path >_<.  Was really scratching my head for over an hour on this.  Got it up now, thanks.\n. ",
    "MarshalJoe": "Hi,\nI'm having the same problem. After getting a sqlite error and switching to mysql in config.yml, I get a 404 error on \"bolt/users/edit\". I've tried uncommenting my RewriteBase path (it's in the root of /var/www) but to no avail. I'm getting the same apache error as razmous\n[Fri Nov 22 18:58:19 2013] [error] [client 127.0.0.1] File does not exist: /var/www/myapp\nAny suggestions? It's a LAMP setup on a DigitalOcean Droplet. \n. ",
    "mim-Armand": "Hi, had the same issue and got it solved, you just need to:\n- 1. uncomment the RewriteBase / in htaccess\n- 2. correct the path (if for example you have bolt in a folder named bolt it should be RewriteBase /bolt/)\n- +. make sure you gave the right permissions to bolt for all neccessary files and folders\nfor me it worked, I hope it does for you too, gl :+1: \n. ",
    "andyjessop": "I'm having this same problem. I have AllowOverride All for my /var/www/ folder in /etc.apache2/apache2.conf.\nI have RewriteBase /bolt/ in my otherwise default .htaccess, as it is in the /var/www/html/bolt subfolder. (The localhost domain is mapped to /var/www/html/ in this version of apache...).\nI get 404 not found when redirected to localhost/bolt/bolt/users/edit.\nI'm trying to run this on Ubuntu 14.04.\nCan you give me any pointers?\nEdit: I have also tried replacing the mod_rewrite block with FallbackResource /index.php as suggested here: https://docs.bolt.cm/installation#apache-tweaking-the-htaccess-file\n. Same result. It seems I've tried everything recommended so far.\n. Thanks - that last comment solved it. I was missing the rewrite module....\n. Thanks - that's worked.\n. ",
    "iSimonWeb": ":+1: \n. ",
    "adrianguenter": "This can be enhanced by requiring a security question to be answered before the \"password reset token\" is issued and mailed, although this is not completely foolproof either. It can be beneficial in the case where an attacker has already gained access to the target's mailbox, though.\n. Can we please post questions such as these to Stack Overflow? SO is much better suited to this type of discussion and would make it easier for others to find the answer in the future.\nhttp://stackoverflow.com/tags/bolt-cms/info\nThanks!\n. Sorry, just trying to be helpful. If the title is a question about whether or not something is possible (and not regarding whether or not something is a bug), would it not be better for SO to begin with? If the discussion on SO comes out to \"not currently possible, sorry\", then that is definitely a candidate for a feature request. Reading the original post in this thread it just sounds very much like something I would expect to see on SO, not an issue tracker.\nIf the consensus is that it belongs here then I'm happy to follow that, but I thought I remembered a conversation on IRC where it was said that (paraphrasing) more separation and organization of threads was needed between the issue tracker and Stack Overflow. I also checked http://docs.bolt.cm/otherresources, and it seemed to support this idea.\nThat being said, if that's not the case then my apologies! Either way I hope my post didn't offend. \ud83d\ude33\n. I've edited my original comment to be less de facto and instead be more of a suggestion, as there still seem to be questions and differences of opinion surrounding the topic.\n. \ud83d\udc4d\nI would like this too.\n. Merged into #1537\n. Merged into #1537\n. Merged into #1537 \n. @bobdenotter, the clue is in the comment above the version check. If you\nplace that in bootstrap.php a parser error will be thrown in < 5.3.3, which\nis why that code originally existed in the front controller itself and\nwasn't part of bootstrapping to begin with. (Because namespaces with \\ are\nneeded in bootstrap.php)\nload.php is meant for very simple (highly-portable) pre-boot checks shared\nacross entry points.\nEdit: Oops, GMail quoted everything and GitHub didn't parse it out, apologies.\n. See, this is what I like about this project. Always willing to take risks and push the envelope, even when the threat of total meltdown lurks just around the corner.\nYou guys alright? Pls...\n. I don't know what you're talking about...\nNothing to see here...\n. I can neither confirm nor deny that I accidentally posted a garbage comment to this thread. Hey, what's that over there?\n. I would like to vote for:\nUser contributed: \\Bolt\\Ext[ension]\\<AuthorName>\\<PackageName>\nOfficial: \\Bolt\\Ext[ension]\\Bolt\\<PackageName>\nReasoning:\n- Code which is meant to interface directly with, and only with, a larger piece of software should reside under that software's root (avoid polluting other root/higher-level namespaces with Bolt-specific code)\n- The \\<AuthorName> root namespace belongs to the author, therefore Bolt should not make assumptions about nor force conventions on its structure (e.g., \\<AuthorName>\\Extension\\<PackageName>)\n- Author and Package namespaces should not be mixed and reside under the same parent; this seems to me to be in violation of core namespacing principles as they are two different types\n- This would follow the vendor/<author>/<package> paradigm/structure employed by Bolt's dependency manager, with \\Bolt\\Ext[ension] as the package root (\"vendor directory\")\n. @mike-anthony, what do you mean by\n\nname the class, not the namespace\n\n?\n. Ah OK, I see. I would say an extension could contain as many classes as needed, but it needs one that either extends a superclass or implements an interface that Bolt provides for hooking into the extension and configuration. So \\Bolt\\Ext[ension]\\<AuthorName>\\<PackageName>\\Extension(.php) extends \\Bolt\\Ext[ension]\\Base(.php), for example.\nThoughts?\n. \ud83d\udc4d\n. [redacted, I was wrong]\nAfter toying with this some more I noticed that even though $app is assigned within a global scope in index.php, we are calling $app->initialize() from the local bootstrap context before this happens. It appears that in some cases initialize() calls functions within lib.php which rely on $app being available within the global scope at that time.\nSo until we rework those functions (__(), in this case) and get rid of lib.php altogether, @rixbeck's solution will have to do, unless we want to call initialize() from the entry point.\nIn index.php, for instance, we could do:\n``` php\n<?php\n/* @var \\Bolt\\Application $app /\n$app = require_once DIR . '/app/load.php';\n$app->initialize();\n$app->run();\n```\nBut I don't see any real gain there, so marking it global in the bootstrap works just as well until we can actually fix the root of the issue by moving the legacy code from lib into the core and inject its dependencies.\n. Agreed. It will need to be done eventually, but your fix should hold us over until then.\nThanks! \ud83c\udf7a\n. ~~Per my comment in #1571 I do not believe this PR fixes this bug~~\nScratch that, it does \ud83d\ude33\n. ",
    "kesar": "the travis error is in composer, not related to this pull request\n. If you think that it's too much for a pull request I can split the issues, I tried to do different commits for different issues :-)\nThanks!\n. Thanks! its a pleasure to colaborate in this project :-)\n. ",
    "julianxhokaxhiu": "Added a little fix for MetaTags extension, which would not always remove new lines on strings. This would make them one-line only.\n. Changed the position of Google Analytics, better to add it after the body tag, since we want to load if AFTER the DOM is ready, but BEFORE the content has been loaded. This gives to us better analytics results (for eg. when we're surfing from a slow network).\n. Honestly no link for that but I got this in my best pratice when I built up the Maserati Mobile website, when stats were not loading because we always put it at the end of the body.Placing it at the end of the head force load it before displaying the page, rather than loading it while the rendering is processing (just like placing it at the end of the body).\nJust my own suggestion but you can keep it at the end of head, it's ok :)\n//EDIT: Reading SO make me think that probably the OLD code was better to be places at the begin of the body, while the new one can be placed at the end of head, so ok, let's keep it there!\n. Added the correct commits to fix this :)\n. ",
    "nicwortel": "I did a bit more research and found some suggestions to replace $newDoc->saveHTML($node); with $newDoc->saveXML($node);. For instance this one at Stack Overflow. (because for saveXML(), the node paramater was added at the beginning, PHP 5.0)\nThis should obviously be tested thoroughly, and still feels a bit dirty/hackish but at least it let's me see the dashboard, fill the site with lorem ipsum content, etc.\n. ",
    "kuzvac": "@bobdenotter +2 :) I hate WP because he does not have 'save & return' option.\nAbout \"Publish Entry\": magento product edit page has \"save\" and \"save and continue edit\" buttons on top, and \"status\" select in content. http://prntscr.com/2ce56m/direct I like it implementation.\nBut in magento 2 this is implemented even better: http://prntscr.com/2ce8pc/direct \nHere is my opinion.\n. ",
    "mr-klaatu": "Hi, \nI am seeing the same issue on new versions for OSX 10.9.1.\nMYSQL version string is \"mysql  Ver 14.14 Distrib 5.6.15, for osx10.9 (x86_64) using  EditLine wrapper\"\nSQLite is working fine.\nThanks\n. I used the following fix from your earlier post and its working fine.  \n$usersTable->addColumn(\"roles\", \"text\", array(\"notnull\" => false));\nTHANKS...\n. Will the new forms be ajax ?\nSeems so old, now to be rewriting the screen just to send a small contact message\u2026\nI\u2019d love to help but simply don\u2019t have the knowledge needed\u2026\nOn 2 Oct 2014, at 21:19, Gawain Lynch notifications@github.com wrote:\n\n@jadwigo I was a bad developer and accidentally started work on this, somehow...\nWelcome to the Bolt-iverse, BoltForms.\nNo docs yet, but have a look at src/Twig/BoltFormsExtension.php as to how the API can be interfaced (c.f. rewriting/replacing what is now SimpleForms)...\nStill considering this alpha quality and feedback/patches/beer most welcome!\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "ehsonbek": "Hey,\nI'm using original mysql from here http://dev.mysql.com/downloads/\nPostgress works fine, but I have issues with mysql original version.\n. It works, I cleared a cache and fixed some htaccess properties\n. 1) Can I remove datedepublish from admin at all\n2) How can I add easily custom validation to selected pages.\nI think I can add here validation editcontent($contenttypeslug, $id, Silex\\Application $app, Request $request)\nbut is there any way I can pass it from contenttypes?\n. I found a bug, for some reason postgres does not like double \", instead I use single quotation marks on sql\nI updated searchSingleContentType($query, $contenttype, $fields, array $filter = null) function\ninstead of \"pages\"  I changed to 'pages' and so on.\nSELECT bolt_pages.id FROM bolt_pages LEFT JOIN bolt_taxonomy ON bolt_pages.id = bolt_taxonomy.content_id WHERE bolt_pages.status = 'published' AND (( bolt_pages.title LIKE '%whatis%' OR bolt_pages.text LIKE '%whatis%' OR bolt_pages.module_title LIKE '%whatis%' OR bolt_pages.additional_text LIKE '%whatis%' OR bolt_pages.extra_text1 LIKE '%whatis%' OR bolt_pages.extra_text2 LIKE '%whatis%' OR bolt_pages.extra_text3 LIKE '%whatis%' OR bolt_pages.extra_text4 LIKE '%whatis%' OR bolt_pages.overlay_text LIKE '%whatis%' OR bolt_pages.video LIKE '%whatis%' ) OR (bolt_taxonomy.contenttype = \"pages\" AND (bolt_taxonomy.slug LIKE '%whatis%')) )\n. Yes i want to control file types to be uploaded. Yes I changed that file but it controls only uploaded files via Jquery file upload, but it's not controlling file types uploaded via /files/files location. I found in the app/src/backend.php files function which deals with uplaods. But where is validation function to this section.\n. Yes that is the line, where can I add validation for file types for this function. I seen there is already isValid function validating, can I add there, if image uploaded to check width and height and if they have widht and height than accept it as image, or if pdf uploaded check content type, if pdf than accept it. Other files do not upload. Can I add this kind of functionality into isValid function or before that, and how.\nMany thanks\n. Also is that possible to rename uploaded file names with the date uploaded, for example they can have on file name filename<!--alert(333).jpg \nThis file name still valid for bolt, can we control file names?\n. file name filename<!-- script alert(tttt) script.jpg, sorry i could not write as tags\n. it's still uploading files which is not on the list, for example i uploaded one exe file, and it saves it as \nClassicShellSetup_4_0_2 (1).exe.file\n.file at the end\n. where i can change file names on upload\n. For edit page contents which token is used, I could not find any token in the html document?\n. any clue how to do it?\n. this will enforce front end and backend to use ssl, but how can I do so front end runs on without ssl, and backend only uses ssl connection?\n. yes, it forces both sites, if you find a bug can you let me know pull id pls\n. opps i found \n. $tablename = $this->config['general']['database']['prefix'] . $contenttype;\n$query = \"UPDATE $tablename SET $field = ? WHERE id = ?\";\n$stmt = $app['db']->prepare($query);\n$stmt->bindValue(1, $value);\n$stmt->bindValue(2, $id);\n$res = $stmt->execute();\n. ",
    "ddpardo": "Here is a possible workarround:\n\nif you place hydrate on false the content of $result will change entirely resulting in a null variable.\n\nif you place it in comment the $result variable looks like this:\n\nAlso side effect of the hydrate options is that relations without a title will only be shown with a number...\nhope this helps :-)\n. This seem to work:\n``` php\n public function listcontent($contenttype, $relationoptions, $content)\n    {\n        // Just the relations for the current record, and just the current $contenttype.\n        $current = isset($content->relation[$contenttype]) ? $content->relation[$contenttype] : null;\n    // We actually only need the 'order' in options.\n    $options = array();\n    if (!empty($relationoptions['order'])) {\n        $options['order'] = $relationoptions['order'];\n        $options['limit'] = 10000;\n        $options['hydrate'] = false;\n    }\n\n    // @todo Perhaps make something more lightweight for this?\n    $results = $this->app['storage']->getContent($contenttype, $options);\n\n    // Loop the array, set records in 'current' to have a 'selected' flag.\n    if (!empty($current)) {\n        foreach ($results as $key => $result) {\n            if (in_array($result[\"id\"], $current)) {\n                $results[$key]['selected'] = true;\n            } else {\n                $results[$key]['selected'] = false;\n            }\n        }\n    }\n\n    return $results;\n}\n\n```\nclear the cache and it will work if your contenttype has a title field.If your contenttype does not have a title (ex speaker should use name) it will only display the number.\nI have edit the _sub_editrelations.twig in the app/view folder but im not sure this is the right place to alter stuff :smile: \n. The fix works! :thumbsup: thanks\n. ",
    "solarissmoke": "Right, so I've changed this issue to a pull request, with a fairly simple change that fixes the issue for me. \nI have used prevent_upscale and set it to false by default, so as not to break backward compatibility. allow_upscale would have defaulted to false if the option was not present...\n. Sure, no problem :-).\n. ",
    "fschaap": "Running with MySQL as DB is slightly better. This time I do actually get to log in to the dashboard and click some stuff... but eventually the same error pops up again. No dice.\n. Yep, did all those things. I followed the installation instructions to a tee. Mod rewrite is enabled.\nIt's just a test server, I have installed some 6 blog/cms'ses side by side, one of them Wordpress. Everything runs fine, just not Bolt.\n. Sorry, running in Virtualbox on my desktop :-(\n. Is it possible this problem occurs when your site is empty?\nI just added the dummy content and now all seems well. Maybe something somewhere really not liking an empty DB?\n. Another question: is Sqlite somehow still queried, used or touched when it is installed even though you have configured Bolt to use Mysql? It's the only thing I can think of possibly causing my trouble earlier.\n. ",
    "jamiroconca": "definitely true, the \"delta\" packages could be useful only when a user has FTP as unique access (and with slow connection), so the \"maintenance mode\" could be shorter; obviously with ssh and shell access \"delta\" packages does not make sense. In conclusion, it is a matter of little importance...\nfiles/directories removed seems a little more interesting feature for those who like a \"clean\" (and smaller) installation...a changelog txt with removed/deleted could do the trick, but in a quite \"inelegant\" way...maybe an upgrade script/method with automated files/directories deletion? an upgrade procedure for both core and extensions based on their version...as previously stated...only an idea\n. ",
    "kix": "As I understand, Bolt is based on Symfony components and Silex, which means that there's a DI container involved. Using a DI container does not comply well with using an ORM that has static method factories.\nHaving a static method-based ORM also leads to untestable code; it's not an easy task to mock dependencies satisfied via new instance creation or produced by a static method factory (these are the two ways to create a Query or a Model in Propel).\nAlso, if you want to assure that the separation of concerns principle is not violated, you just cannot have an ORM that allows you to deal with data persistence literally anywhere in your PHP code.\n. @marcj, well, if \n\nDoctrine separates repository and models doesn't mean it becomes automatically best practice and everyone should do the same. The average user has no benefit of separate those things, which makes it useless and rather a big drawback for userland code. \n\nthen why make Query and Persistent classes separate? The only reason I see is that it's the only way to reimplement Ruby's active record without being able to implement class-level methods. AR says that a class is the repository and its instances are the models, but it's pretty hard to implement it in PHP.\n. Dealing with persistence, I do not want an abstraction around a query, I just want to fetch objects and save them. Thus, the repository/model pattern seems a lot more abstracted than the query/model way.\nIn Propel, the persistence logic is baked into my models' superclasses. Well, I can deal with that.\nBut when my model is implementing an interface that's not stable yet and it extends from a BaseModel class, I get all sorts of headaches due to relational or interface logic changes. I have to rewrite XML schemas and hack around Propel to make it generate code that won't break anything in my app, while the time wasted could have been instead spent writing some really useful code. \n. @marcj Yeah, so I end up with begging Propel to generate methods that I'll then wrap into adequate setters and getters in my final models, so nothing messes with my interface. And rewriting XML with an intent to make changes in code seems pretty dubious.\n. @marcj, the whole idea of generating classes that are intended to implement interfaces doesn't look good. And I haven't found a way to work this around yet.\nAnd, erm, sorry for being off-topic.\n. @bobdenotter, OK, I think I'll run through Scruntizer detected problems then.\n. @GawainLynch, hmm, that seems nice. Well, I could push stylefixes file-by-file then, 'cause there would be like 10 to 50 fixes per file.\nI'll reopen this once I fix the first file maybe then?\n. ",
    "tchebb": "Yeah, that solution would be ideal. I haven't dug into the Bolt code very much, so I wasn't sure how much work it would be to implement something like that. I assume there would have to be a new interface in the admin panel for letting users set a tag's 'name' with proper capitalization, since the tags aren't all predefined in taxononomy.yml.\n. Without a dedicated interface for it, there would really be no way to change a tag's capitalization short of untagging every record with that tag and retagging with the new capitalization, though, if I'm understanding this correctly. That seems like it would be a very frustrating limitation.\n. Fair enough. :) Apart from that, then, your proposed solution would resolve the problem fully. Thanks for your quick responses!\n. Could the preferred extension configuration file location be moved to, say, /app/config/extensions/{extensionname}.yml? That would separate the config from the code as is already done for the standard config files and would additionally make it easier to store Bolt configuration in source control, since there would be only a single directory (/app/config) to track. Of course, Bolt would also need to continue to look in the current location for extension configuration for backwards-compatibility.\nEDIT: The config.yml.dist file would stay in the extension's own directory and be copied to the common config location when the extension is enabled.\n. ",
    "smarques": "Thanks for the reply. Its very interesting. \nI was evaluating bolt to build an application that could have a CMS backend with a handful of users, but a front end with potentially hundreds. I noticed this preloading happens on front end as well, and of course I can extend the application class to avoid preloading of all users and modify the views accordingly.\nI am now wondering if there is any other factor I should consider, that makes bolt fit for applications only up to a limited number of users.\nTIA\n. ",
    "mdvaldosta": "I find it hard to believe that the lead developer of a platform written so well could, so easily, justify loading 50 users from a database to display a page written by 1.\nExtending Bolt isn't an issue, I'm just casting this broad statement in general.\n. ",
    "sbonardt": "Whoop!!\n. Yes, Delicious does allow tags with spaces, and with Capital letters as well. Among other things, this is what's stated on their \"add link\" interface near the tags field:\n- Lowercase tags are recommended\n- Spaces are allowed but not recommended\nAlthough your last sentence does have a point. Spaces would make them harder to slug, but would a 'space to dash' conversion for the slug make sense? \nNext to that your b) remark about them being less like categories made me question my real intention for this\nMy current 'problem' is I want my client to be able to add tags/categories 'on the fly' to a taxonomy when creating content. So I kind of need a category type taxonomy which allows for easy adding items/options to it through the interface when creating/editing a piece of content (like using tags) and I am currently (probably) misusing the tags taxonomy type for that.\nSo I think my real problem is a lack of an intuitive enduser interface for adding category options to a category type taxonomy.\nBut this still leaves us with the spaces in tags question though. Allowing spaces and making tag entering separated by comma would be nice I guess.I've found more duscussions about tags & spaces and delimiting them and two points in favor of comma separated tags and allowing spaces them are:\n- It's more natural (user-centric not techie-centric)\n- It reduces redundancy, as the example noted \"favorite-recipes\" \"favorite_recipes\" \"FavoriteRecipes\"\nfrom: http://stackoverflow.com/questions/5681955/why-should-tags-be-space-delimited\n. It's probably fixed by me when stripping away HTML and refining the CSS for issue #1592 . It's in #1676 \nLet's retest after this is in...\n. I'm on it!\n. Hmmm, for starters the #navpage-wrapper doesn't extend and wrap it's content. Seems to be more here than just a prob with extending the sidebar. @bobdenotter told me @rarila is working on a rewrite of the backend so I'm not touching this for now. On hold for now... (?)\n. I'm on it\n. Fixed/improved in pull request #1676 \n\n. Yeah, I know. However, in wide view it already looks much better. \nPutting it all in one button makes it  a bit unclear to me I think. Especially with the popup when you \"select from stack\". Don't want to ' hide'  functionality on first sight for users and putting it all in one button makes it more confusing to me.\nRenaming image path to path is a good one. The text field is an attribute. We actually need one more, the Alt attribute. I believe when the Alt is there as well, aligned with the Title field, it will look much better and the both will align and look more like the attribute fields they are for the image/path.\nThe \"allowed file types\" seems good to me in it's place under the input field; a usual convention for notes/extra info for input fields. Above or next to the label is an option but that would be more of an exception in relation to other fields/note fields\n\n. I'll pick this up while working on #1592 \n. Fixed in pull request #1676 \n\n\n. Damn... :) Good you got the quick fix in, @bobdenotter . (respond.js?) This looks workable for now I guess. Will check this week \n. Ah indeed, there are still minor tweaks open.\nAnd, @GawainLynch,  what I saw while testing was when you click the drop down button directly next to Save Entry or Preview, you also get an error. See the screenshot for details.\n\nSave button dit not give me any errors however\n. Kudos and a +1 for @bobdenotter :P \nI'll check the minor styling and alignment things tomorrow on a proper IE8 virtual desktop at HQ\n. This should be fixed and done for now with #1796 \n. Fixed #1796 \n. ",
    "Mikescops": "How about creating an hidden contenttype to get all the wysiwyg tools for editing the theme ?\n. Okay i think you don't understand what i mean !\nImagine i create a content type named \"theme option\" with the fields \"bg-color\", \"logo-image\"\nAnd i put on my code a big \"set content\" for my whole page.\nand put snippets like {{ theme-option.bg-color }}\n...\n. When an hidden contenttype that was to say that you can't reach it with the normal form.\n. It will be easier to upload the logo with the stack system\n. Okay :+1: \n. A bit of french and english in my code --' it's late sorry\n. Ahah pas mal ! It look like a web translation word by word but it's great ^^ Bob tell me that he'll work on it tomorrow.\n. Cool ! As for me english and spanish that's all. Hate Bob's native langage :P For them \"jfhsdkljsfdklj\" is a word.\nOkay, i'm not very good for this. Prefer work on the future Bolt Theme Market ^^\n. Wow remember the accent of a friend who came back of 2 holiday's months : outch --' No he's not dutch in fact ! \n. Oups i did it again ! Dutch was the same as German for me in English --' That was late.\n. Is \"http://estrade.ca/\" the URL of your website ?  This point is uncommented.\n. Yeah i'm always right ! :D\n. Okay you must create new CSS classes for this : \n.embeddedContent {\nposition: relative;\npadding-bottom: 56.25%; /* 16:9 */\npadding-top: 25px;\nheight: 0;\n}\n.embeddedContent iframe {\nposition: absolute;\ntop: 0;\nleft: 0;\nwidth: 100%;\nheight: 100%;\n}\n. That's a fix for all ! I'm sure about that !\n. Paste this un your theme css file.\n. Can fix this using CSS : \nimg {\n    max-width: 100%;\n    height: auto;\n}\n. Yep Rarila, I already made some translations for previous bolt versions. \n. French is the same everywhere, pronunciation is different btw.\nMaybe we can add urban language later :P\n. Sure ! But all languages have their history and some guys stayed in the Middle Ages :rabbit: \n. ",
    "DavertMik": "I tried to refactor functional and unit tests for Bolt. The idea was to add functional testing via HttpKernel as it is written in official silex docs. I developed a Silex module for Codeception which acts exactly as WebTestCase. But I have some strange errors. I don't think I can understand and fix them.\nSo if you are interested I may send you a Pull Request with refactored tests ( refactored some acceptance tests as well), but you will need some work to fix them. \n. ",
    "developer99": "Powered By Softaculous 4.4.2 \u00a9 2014 Softaculous Ltd.\n. Version : 1.4.4 of Bolt\nRelease Date : 06-01-2014\nThere is a Demo button on Softaculous and when using it, it also crashes.  See http://u.dw77.info/ste0a\n. ",
    "serweb-labs": "I have the same error (when entering the backend) in version 1.5, I suspect it's a bad server configuration but I have no clue, recently I upgrade my hosting php\n. Already solved, in my case with the php.ini file: \nmagic_quotes_gpc = Off\nmagic_quotes_runtime = Off\nmagic_quotes_sybase = Off\nmemory_limit = 96M\nsafe_mode = off\n; Directory in which the loadable extensions (modules) reside.\nextension_dir = \"/usr/local/lib/php/extensions/no-debug-non-zts-20090626\"\nzend_extension=\"/usr/local/IonCube/ioncube_loader_lin_5.3.so\"\nextension=\"suhosin.so\"\nextension = \"pdo.so\"\nextension = \"pdo_sqlite.so\"\nextension = \"sqlite.so\"\nextension = \"pdo_mysql.so\"\nand a line to make it recurring in the htaccess, everything in the public_html:\nsuPHP_ConfigPath /home/XXXX/public_html\n. Thanks. I do not really need, I do not mind, but I think the content of the file accidentally \"readme.md\" and \"config.yml.dist\" file of \"extensions / PhpQuery\" in the repository actually belong to \"TwitterButton \". My greetings and respects to you.\n\n\n. Thank you very much for your professional opinion, I provide a quick way to create content for new users without programmer intervention with preloaded content types (map, header, images, html, buttons etc..), So that the user can choose the position (taxonomy)\n. It works pretty well, were finally 7 types of content in addition to entry page, create a generic called html with a text field called parameters, which will have comma separated values\u200b\u200b.\nFurthermore it became necessary to create a kind of unique content for pictures, one for video, one for headlines, one for forms, one for buttons, and one for maps. may seem too many types of content, but the client appreciates and so seems more friendly.\nThe taxonomya and relationships served to locate the modules, bolt is really very very versatile.\n. I think a great idea, where to start?\n. :+1: \n. Sorry I could not answer before, unfortunately the error persists, it has not changed at all, although I updated the application completely.\n. Sure, I wipe the cache after upgrading, and the error occurs \"click\" in the title enclace.\nUpdate screenshot.\n\n. sorry, probably had problems with my update script, because I just checked again and there was my version updated. I just apply the fix manually and see some garbage in the \"#\" but the list works correctly.\nSorry for my mistake.\n. thanks, they are great.\n. Sorry, edit, unintentional mistake.\n. Thanks bob, a shame, I have to make a gadget (with adhesive tape). \n. Sorry for the delay, my bolt is now version 1.6, if I changed my contenttypes.yml, the problem is solved by renaming title name, so it makes me think that \"title\" is mandatory.\nThis is my contenttypes.yml:\nyml\ncategories:\n    name: categories\n    singular_name: category\n    fields:\n        name:\n            type: text\n            class: large\n        parent:\n            type: select\n            values: categories/title\n        slug:\n            type: slug\n            uses: name\n        body:\n            type: html\n            height: 300px\n    listing_template: listing.twig\n    listing_records: 10\n    default_status: publish\n    sort: datepublish DESC\n    recordsperpage: 10\n. Version 1.5.2, updated to 1.6 from github, upload field (not stack), \nIncident file types: jpg, png, is a custom conttentype I've used just to upload images, but repeated across content types to this field.\nExtra data: backup the folder \"view\" corrects the error, but I can not remember that version is the backup. Sorry for my English automatic translator.\n. Thanks Bob.\nBoth image as imagelist has the same behavior: does not work with the top button, but with the stack, I deleted the cache bolt, I deleted the browser cache, I even changed the browser (for fear of capricious cache) . perhaps to do clean installation uan and tell how it goes. \n. I have performed a clean install without modifying standard content types or other settings through:\n\ncurl -O http://bolt.cm/distribution/bolt_latest.tgz\ntar -xzf bolt_latest.tgz\nchmod -R 777 files/ app/database/ app/cache/ app/config/ theme/\n\nWhich gives me a bolt installed in version 1.5.6 dev. up loading pictures here works perfectly.\nThen I updated with files from github repository, which accuses version \"1.6.0 dev\" and the image upload breaks.\nThe setting is the same. type localhost LAMP on Ubuntu Precise.\n. Thanks Bob. I'll wait.\np/d: I have come to the conclusion that bolt is the world's most flexible cms, congratulations.\n. Bingo! works.\n. Thanks you all for the interest, I'll do what @bobdenotter  suggested.\nscreenshot corresponds to the following YML, is defined \"group\" and \"groups\", although it could well be \"tab\" and \"tabs\".\nyml\nproducts:\n    name: Products\n    singular_name: Product\n    fields:\n        title:\n            type: text\n            group: principal\n        slug:\n            type: slug\n            uses: title\n            group: publicar\n        starred:\n            type: select\n            values: [ si, no ]\n            group: principal\n        stock:\n            type: select\n            values: [ si, agotado, ultimas, ultima ]\n            group: carro\n        liston:\n            type: text\n            group: principal\n        description:\n            type: html\n            height: 150px\n            group: principal\n        image:\n            type: image\n            group: imagenes\n        alttext:\n            type: text\n            separator: true\n            group: imagenes\n        imagelist:\n            type: imagelist\n            group: imagenes\n        video:\n            type: video\n            group: multimedia\n        sku:\n            type: text\n            group: carro\n        price:\n            type: float\n            group: carro\n        cash-price:\n            type: float\n            group: carro\n        card-price:\n            type: float\n            group: carro\n    relations:\n        categories:\n            multiple: false\n            label: Choose an entry\n            order: -id\n            group: publicar\n    sort: title\n    record_template: product.twig\n    listing_template: products.twig\n    default_status: publish\n    groups: [ principal, imagenes, multimedia, carro, publicar ]\n. Sorry, I was on vacation, I'll make a pull request to bolt two tomorrow. thanks for the reminder.\n. I'm so sorry, I'm very clumsy with git, I had to read a lot in English to\nunderstand its dynamics, will try to do the fork in the 2.0 branch and ask\nfor the commit again.\n2014-07-22 13:02 GMT-03:00 Bob den Otter notifications@github.com:\n\nBump. We'd still like to have this feature.. :-)\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/bolt/bolt/issues/1115#issuecomment-49759926.\n\n\nAtte. Luciano Rodr\u00edguez\nSerWeb.\n. Sorry, I'm sending a commit request in minutes, is almost ready.\nI was definitely moving to linux and still had not made \u200b\u200bpeace with the terminal and therefore with git, we now have a more stable relationship :), I regret the situation and I appreciate the attention @rixbeck.\n. I already sent my request: https://github.com/bolt/bolt/pull/1515.\nI've thought of a way that perhaps less flexible but it is easier to configure, it is clear that if values \u200b\u200bgroups is not added, the content is displayed as usual. I hope he's up to it. \nThe default tab is \"more\", it shows the taxonomy, relationships, and everything you have not allocated a particular tab.\nentries:\n    name: Entries\n    singular_name: Entry\n    fields:\n        title:\n            type: text\n            class: large\n            group: basic\n        slug:\n            type: slug\n            uses: title\n            group: basic\n        image:\n            type: image\n            group: media\n            separator: true\n        teaser:\n            type: html\n            height: 150px\n            group: basic\n        video:\n            type: video\n            group: media\n        body:\n            type: html\n            height: 300px\n            group: basic\n    relations:\n        pages:\n          multiple: false\n          order: title\n          label: Select a page\n    taxonomy: [ categories, tags ]\n    record_template: entry.twig\n    listing_template: listing.twig\n    listing_records: 10\n    default_status: publish\n    sort: datepublish DESC\n    recordsperpage: 10\n    groups: [ basic, media ]\n\nAgain, I hope you enjoy it and it can be included. Thank you. :)\n. I hope there is some interest, these are the only customizable files that do not survive an upgrade. Currently diff use as recommended tobias2k me: D\n. In principle seems to be all in order, in my opinion (hope I'm wrong) just we use bolt to the website of our business will be breaking the license, I avoid using it in the frontend, but the backend this is difficult, I guess this and is the responsibility of the user and maybe I'm exaggerating.\nP / D: Sorry to bring bad news.\n. Thanks for the clarification @tobias2k\n. Magnific Popup can handle iframes, which is interesting if we have to cover the functions of fancybox.\n. +1 for Magnific Popup :+1:\n. For certain functions (such as e-commerce) is necessary to store user data in the database itself, to avoid having to register anywhere else, avoid complications with the Privacy Policy, and have the power to access your data firsthand (address, document number). However, your extension is awesome for other uses and have been following and learning about your code.\nI understand that is not in the project plans that the login and roles are available in the traditional way for the frontend and extensions, but an alternative would be incredible with these capabilities.\nNow I learned that it is recommended to use StackOverflow for these questions, so I apologize. : D\n. \u00a1Excelent!  ^^,\n2014-09-12 17:58 GMT-03:00 Gawain Lynch notifications@github.com:\n\n@serweb-labs https://github.com/serweb-labs check back with me in a few\ndays... I am working on a 'members' extension that hooks into ClientLogin\nand I think does what you want.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/bolt/bolt/issues/1532#issuecomment-55459880.\n\n\nAtte. Luciano Rodr\u00edguez\nSerWeb.\n. Thank you very much, I'll try and take your recommendations.\nEnjoy your vacation. ^_^\n2014-09-18 11:07 GMT-03:00 Gawain Lynch notifications@github.com:\n\n@serweb-labs https://github.com/serweb-labs, the Members extension (\nbolt/members) for Bolt 2 is ready for beta testing.\n[Warnings]\n- Please consider it beta quality\n- Needs current master branch of Bolt\n- I will be away on a vacation for 5 days from tomorrow\n- Needs the Client Login bolt/clientlogin extension\n- The documentation is very sparse :-)\n\u00a1Ahora, voy de vacaciones!\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/bolt/bolt/issues/1532#issuecomment-56042914.\n\n\nAtte. Luciano Rodr\u00edguez\nSerWeb.\n. :+1: \n. Good day! I deleted and reinstall Bolt 2 to check, and now the incident is different:\nWhen trying to install \"Editable\" throws me an error \"incompatibiliad version\" then the message disappears, but the modal window does not disappear, so it is empty, the latter should coregirse.\nScreenshots:\n\n\n. It's working now, thanks !,\nI would emphasize the fact that if an error occurs in the server extensions or connection with, the window is hung again, I think it should be marked as bug.\n. I have a perhaps silly idea that the extensions have a contenttype.yml, bolt handles the views you need the extension simply and free of dirt.\n. Beyond the background discussion panels humbly would like to see \"collapsible auto\" style bootstrap 3 in the sidebar, this would eliminate or minimize the undesirable sensation produced nested menus.\n\nI hope my suggestions will not disturb anyone, as I believe this discussion is especially important.\nP/D I congratulate the team for the '14 Boltcamp really have a healthy envy as I would like to be there :-D.\n. Oh, Google Translate!, was just that, add a proper example in one of the default contenttypes and comment.\n. I'm glad at least be considered. Perhaps, if feasible, would show the\ncontent as the underlying problem is resolved in\nhttps://github.com/bolt/bolt/issues/1694\n:D I'll be patient, I know they are working very hard and there are more\nimportant things to solve.\n2014-09-21 4:40 GMT-03:00 Bob den Otter notifications@github.com:\n\nI have been thinking about this as well, and I'm not sure if we should do\nit. Currently, if you're working on a bolt site, you know the\ncontenttypes are defined in contenttypes.yml, and nowhere else. This\nseems like a good thing to have (esp. for advanced extensions), but it'll\nalso require a lot of thought on how to do it well.\nI'm going to leave this open for other people to chime in. ^_^\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/bolt/bolt/issues/1758#issuecomment-56291783.\n\n\nAtte. Luciano Rodr\u00edguez\nSerWeb.\n. Really, the issue is discussed in #1117 , I'm sorry I thought the previous topic had been closed.\n. :+1:  True Story, the solution Gawain served me an extension, but did not succeed yet another. [solved]\n. $app['storage']->getContent() in the initialize()  working ok on the 1.6.x branch, but fortunately I was guided gawain the way for 2.0.\n. It is version 2, I just followed the documentation\nhttps://docs.bolt.cm/v20/extensions-essentials.\nClearly not an impediment, not wise \"insertAfterJs\" but enough to move the\nconditional block, but it caught my attention because Bootstrap and other\nboilerplats this block is usually placed at the end of head.\nGreetings! :D\n2014-11-12 6:42 GMT-03:00 rarila notifications@github.com:\n\nQuestion is, why do we insert after the last ",
    "leup": ":+1:   I would also need to add \"#\" to the allowed characters list for tags, as in \"C#\"\n. I changed my setup to avoid this issue, so I don't know what's the status on this one.\n. ",
    "jeffpfoster": "Configuration error in my config file broke the application specific password.  Works as expected with proper GA configuration.\n. So I shouldn't have said I upgraded as the issue was not the result of the upgrade.  The upgrade was a bit ago to 1.5.6 and went smoothly.  Yesterday I tried to add the extra content types and got the warning to rebuild the database.  I ran that and went smoothly with no errors.  I then went to the dashboard and had no entries in any of the content types.  The pictures and pages remained.\nFollowing the instructions on link didn't seem to resolve the issue as it throws this error: \nIn the contenttype for 'chicagostory', the field 'slug' has 'type: A', which is not a proper fieldtype. Please edit contenttypes.yml, and correct this.\n I should note all my content types were copied directly from the default entries content type.  The all have\nslug:\n        type: slug\n        uses: title\n. ",
    "rduinmayer": "I downloaded bolt just an hour ago. From http://bolt.cm/download so i guess it's version 1.4.4\nI uploaded the files through ftp to my server.\nMy server is on linux. I can't find my php version they are running.\nThe fatal error message is all there is. A lot of white and this text:\nFatal error: Class 'Symfony\\Component\\Validator\\Exception\\NoSuchMetadataException' not found in /home/xxx/domains/xxx.nl/public_html/blog/vendor/symfony/validator/Symfony/Component/Validator/Mapping/ClassMetadataFactory.php on line 52\n. I did something wrong i guess.\nI uploaded the files again and guess what? Now it works :D\n. ",
    "trigau": "Thanks\n. I tried this solution, but actually it doesn't work. First \"orderby\" is OK and orders records by state name, but the use of function \"order(town)\" reshuffles the states.\nWhat I need is something like that :\nState A Town Aa\nState A Town Ba\nState A Town Ca\nState B Town Ab\nState B Town Bb\nState B Town Cb\nWhereas your solution gives\nState A Town Aa\nState B Town Ab\nState A Town Ba\nState B Town Bb\nState A Town Ca\nState B Town Cb\n. Marvelous !\nThank you, great job, can't stand for next release.\n. Excellent !\nGreat support.\n. Thanks a lot\n. > This is not entirely true. It should fall back to any text in the record, and it is only blank if it has no text at all. \nExact. But in my case, there isn't any text field at all. I'll try the fallback you suggest, but perhaps would it be a good idea to not limit default title to text fields\n. That's not what I was looking for. Actually, I already activated pagebinding routing, as mentionned in my report.\nAnd I don't want to display \"/page/\" in my menu links, whereas your solution does.\nif I use \"page/1\" in the menu.yml, it links to \"page/page1\" on frontpage. I want it to link directly to \"/page1\", that's why I use \"path: page1\".\nThe point is that by doing that, I can't access the item record in my menu template.\n. No need of kudos, and I actually really don't know how to use github properly. So I prefer to let you do what is needed :+1: \n. Not exactly : this method allows only to access taxonomy options titles, not the number of records that are linked to this taxonomy, nor does it provide a link to taxonomy listing. And it lists taxonomies that are linked to no record, which gives an error when trying to list them.\nMoreover, it doesn't work for tag type taxonomy.\n. Here an example of what I would like :\n{% setcontent tags = 'tags' orderby 'count' %}\n    <ul>\n    {% for tag in 'taxonomy.tags' %}\n        <li>\n            <a href=\"{{tag|link}}\">{{tag.title}} ({{tag.count}} entries)</a>\n        </li>\n    {% endfor %}\n    </ul>\n. Actually, I'm not able to install TagCloud in a fresh bolt site. Enabling this extension gives an error.\n. Tried your fix, but TagCloud installation didn't work either.\n. \"An error occurred while loading the web debug toolbar (500: Internal Server Error). Do you want to open the profiler?\"\nAnd then, no more display (blank pages on frontend and backend). The only way to go to go back is to modify config.yml by another means.\n. thanks, but that doesn't seem to be enough. Ther's a lot of old coding in extension.php which gives errors. Here i a sample, line 264 :\nif (!isset($this->appConfig['contenttypes'][$contentType])) {\nGives \"Cannot use object of type Bolt\\Config as array\"\n. Thanks.\nNevertheless, I think this feature should be included by default in Bolt. We have a tag cloud in backend, it's a pity not being able to use it in the frontend.\nActually, I think my feature request is important : Bolt is such a good CMS, allowing to customize almost everything, and to use almost all its content in templates, but the taxonomy contents...\n. ",
    "jcracknell": "This does not look right - my understanding is that theme is relative to the site root and themepath is absolute. With your proposed change, theme would point to a non-existant folder.\nThe changes to Frontend then proceed to concatenate two paths which point to the same location?\nThe template parameter passed to Frontend::template is relative to the folder of the current theme. The purpose of the code generating the exception is to assert that the target template is located within the configured theme directory in order to prevent clients from arbitrarily selecting templates to render in the event that the template name is drawn from the URL.\n. Yeah, I have been trying to go through the last few days of commits to figure out what is going on here, and I think the problem is that the term 'themepath' is used in a bunch of locations with varying meanings.\nIn the context of the paths array, I believe theme and themepath should be different representations of the same path (as is the case with app[path] and root[path].\nIn config.yml, theme_path refers to what would perhaps be better termed the themes_root. This path is concatenated with the specified theme to create $paths['theme[path]'].\n. Looks good to me, there was definitely an issue on Config.php:514 which got fixed in the end.\n. Sorry, I am a bit out of touch with PHP internals so I had assumed that pass/return by reference would result in improved performance when in actuality the opposite is true.\n. I am not actively involved in the bolt project, however if I recall correctly this behavior is by design. At the time it was decided that the URL should conform to the route,  with automatic redirection adding/removing a trailing slash.\n. ",
    "electrofink": "Yep, also happens on Chrome and not just for me but also for other users (different operating systems and browsers). This is the GET header sent by Chrome, returns the same result as above.\nAccept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\nAccept-Encoding:gzip,deflate,sdch\nAccept-Language:en-US,en;q=0.8\nCache-Control:max-age=0\nConnection:keep-alive\nCookie:[redacted]\nHost:some-domain.de\nReferer:http://some-domain.de/test/bolt/users\nUser-Agent:Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.70 Safari/537.36\n. @ntomka Interestingly enough, it also happens with the following set in the config.yml\ncaching:\n  config: false\n  templates: false\n  request: false\n  duration: 10\n  authenticated: false\nCache-free (CTRL + F5) refresh always returns the correct page and it could be that waiting about 10 seconds and then doing a normal refresh (F5) also helps. The latter is difficult to reproduce so take it with a lot of salt.\n. @bobdenotter \nNo proxy, no caches enabled (or even installed). Just Apache 2.2.22 and PHP 5.3.10 (Ubuntu 12.04.4 LTS).\nConcerning the Bolt version:\n$values['bolt_version'] = '1.4.4';\n. Well I fixed it (still running 1.4.4).. sort of. I'm still not sure where and how the bug occurred but upgrading PHP and Apache did the trick. For anyone else experiencing this issue: It does not happen with Apache 2.4.7 and PHP 5.5.9. It could be either one of those that's causing the problem but my money is on PHP. I've heard reported that the issue does not manifest itself with Apache 2.2 and PHP 5.5 and it seems to me that problems with Apache would exhibit different symptoms. So if you wish you can marked this one as \"not your problem\" (-:\n. ",
    "maaike": "1.4.4 (did you see the updates in my post?). It happens on every page.  I'll try and find out if there's a FF add-on interfering.\n. Yes, JS is on. Firebug retuns this error when pressing the Save button: \nTypeError: $(...).watchChanges is not a function\nhttp://example.be/bolt/editcontent/paginas/1\nLine 1030\n. You're right. That part was missing. I uploaded that file again, shift-refreshed it in FF and now everything is fine. \nSorry to have bothered you with this! I'll go and have a talk with FF now >:-(\n. Bob's workaround is great, but I don't think it would fail very gracefully if the image doesn't exist. However, for us it's good enough right now. Thx!\nReally nice would be if the user pages in the backend would be based on content types, like regular webpages. That way each admin can add the fields they need themselves :-)\n. I'm using Bolt 1.5.1. Are you saying that this is not the latest version, but 1.5.0 is??\n. Awesome, thanks! Someone might want to change the bolt.cm homepage - where it says \"Latest version: 1.5.0\" ;-)\n. So yeah.. I hate to say it, but I updated to 1.5.6 and I still can't upload any images (I tried jpg and png) :-( \nI do get a full-blown error page now, so at least something's changed.\nI realise you're very busy and I guess it's not a big deal because I still can upload images via FTP... but I'm probably not the only person affected by this? Anyway, here's the error.\nMy PHP version is 5.4.21.\n\n. Well, great guess. You're absolutely right. Thanks!!\n. ",
    "willoller": "You can use also use mod_access_compat to keep using legacy directives in Apache 2.4\n. ",
    "Mr-Dr-Pib": "What about gravatar instead of user uploading an image?\n. ",
    "notomato": "Is there any update to this issue? Have just started working with a fresh copy of 1.5 and have same problem.\n. Thanks!\n. ",
    "GermanicWarWulf": "Hi Gawain,\nThanks for the reply. \nI currently have a community that uses a closed source commercial software solution, and although it's great in general, development is not taking the direction I'd like it to. So I've decided to look into open source solutions. So this is why I don't want to use Disqus for the comments. I'd much prefer something that I could fully control and tweak if needed and doesn't rely on being hosted somewhere else.\nIn regards to the forum, well my members are more than happy to start over from scratch with a link to the old forum for reference purposes, so I need to make sure I pick something I'm comfortable with, so again it must be open source. Moot is a really nice looking forum and commenting solution, but again it's hosted by them and is closed source. https://moot.it/\nMy aims are fairly straight forward. I'm looking to create a fully open source, fully responsive site that's snappy to work with and enjoyable to use. One where my members can sign up, communicate, comment on articles, upload images to a gallery etc. \nHopefully Bolt will allow this.\nI was reluctant to start this thread as I didn't want it to get in the way of development issues etc, but sadly the forum appears dead. Maybe that's something Bolt users can help to promote, or indeed to suggest other options.\n. Hi Bob,\nBasically I want to host everything myself. I like to be able to tweak things. Also, I know Disqus isn't likely to have any downtime, but it's always a possibility. Although I said I'm not a programmer, I can do basic things, and if the comments were stored in the Bolt database, I'd be able to display them however I wanted.\n. I agree with it needing to be an extension. \nI would have a bash at it myself, although I'm not sure where to start. I've had a look through the documentation, but most of it is like a foreign language to me.\nAnyway, thanks for your time.\n. Yeah I have been looking through the extensions, but it's still not totally clear. I think it would be more beneficial if there were more basic examples, like an example that just shows you how to write something to the DB, and then read from it and display that data. If there were more simple examples like that, I'd understand it more, especially if there was ample commenting in the code to explain things.\nE.G, I noticed this snippet today, but there is no documentation as to where to look up things like if app.users.isAllowed - For an idiot like me, where is this documented?\n{% if app.users.isAllowed('contenttype:%contenttypeslug%:edit:%id%'|replace({'contenttypeslug': record.contenttype.slug, '%id%': record.id})) %}\n    <a href=\"{{ url('editcontent', {contenttypeslug: record.contenttype.slug, id: record.id}) }}\">Edit</a>\n{% endif %}\nThanks.\n. Thanks for the info. I think I'm slowly learning. I've started with the Twig basics and have added a snippet to the snippets site. Let me know if there's anything wrong with it.\nhttp://snippets.bolt.cm/snippet/3TDXG\n. ",
    "tolusonaike": "Thanks for the response, just what i was looking for.\n\nWe make sure the first two of those groups will be able to set up bolt using FTP, SSH, composer or whatevers. These groups have no trouble whatsoever using yml. \n\nI guess we could consider Bolt Developer-centric then? Btw sorry for the confusion, when i said \"Developer\" guard i was alluding to \"Developer first\" behavior.\nI guess in my mind the 3rd target audience , the editor, is what i am considering a casual user. I see myself setting up a Bolt site for a client who wants a simple CMS but id hate to hardcode custom data like phone number, address, email,logo inside of the template because there isn't any way to do this from the backoffice. But i see this functionality has been added for yaml https://github.com/bolt/bolt/pull/856 and it could probably be added and edited through the menu.\nI am also against a bazillion wonky plugins, but at least some custom options (e.g. for the editor) and the ability to provide these custom options ( by the developer, for the editor ) is pretty important in any CMS, even somewhere in between Wordpress and Drupal.\nSeriously though, awesome project here.\n. I wouldn't consider something like basic Backoffice settings extensibility a special need though, I think its required. Especially if Bolt is trying to be somewhere between Wordpress and Drupal.\nI do like the fact that Bolt is doing it right from the beginning, so they don't cause a concussion like Drupal 7 to Drupal 8. \n. But i love YAML  :-)\nMy main things where\n- UI for config files (Yes, YAML)\n- Ability to add custom config that are editable through the back office\nPresumptions like: \n\n\nIt is simple\nIt is utterly human-readable\n\n\n...scare me though :-)  But yes, YAML is a great underlying configuration format\n. It is simple...for developers. Non developers (and even some developers)  have an irrational fear of text configuration files. We developers forget that not everybody sees the blonde,brunnette,red heads  http://www.youtube.com/watch?v=3vAnuBtyEYE\nI think YAML is an optimal choice. I guess i am trying to make a case for prioritising UIs for config files (sometime in the future maybe)\n. Actually, in my current scenario, all i wanted to do was to be able to add a class name to the a p tag surrounding the field data, and i ended up with a 'p' tag inside of a 'p' tag...which is illegal.\nWell, it turns out, with the html field, i could have just gone to \"source\" mode and added the class name to the generated 'p' tag and it sticks :-)\n. ",
    "infodebrid": "Hi,\nNot sure this what you are talking about, but we used \n{% for related in relatedrecords|order('title')%}     \nWhich is working pretty good\n. Hi, \nWe are using, bolt 1.4.4.\nNot updated yet so i ll do it , sorry for the misstake\n. Working fine now, thanks bobdenotter =)\n. ",
    "flrvt": "I was hesitant creating a pull request because I'm a rookie in Git ;). But give me a moment to figure it out, and i'll do it asap!\n. Pull request done!\n. Darn, this is actually my bad..\nSo there is no practical way to sort the records when getting content by taxonomy? The workaround I used in #999 is actually working for me on my site anyway.\n. ",
    "petsagouris": "It is PHPStorm indeed. Maybe it is your code inspection settings. Thanks for the merge.\n. ",
    "benjaminbasa": "found it under app/config/contenttype.yml\n. Yeah, I did that I created a routing.yml inside the config folder then I copied the routing.yml from git then I unremarked that piece of code but it didn't work well. Do I need to restart the server after every changes?\n. > Can you access the \"Routing setup\" menu item under the \"Settings\" menu in the backend?\nI can't seem to find the routing setup under the settings.\n\n\nOne thought, did you check the file permissions on routing.yml are accessible by the web server's UID?\n\nWhere can I find the permissions?\nBTW, the site uses bolt 1.1.0. I'm kinda hesitant to update the bolt.\n. Hi Guys! Thanks for all the reply. Now, I get it lower versions of Bolt doesn't have the routing config.\nWill upgrade now! Thanks!\n. ",
    "glasspear": "It is a good thought, unfortunately not the solution, I had suspected the same thing. This happens with or without the 'slug' field being defined (I did try just in case). I have two other contenttypes without the slug field explicitly defined and they work perfectly.\nFor example the following works:\npartners:\n    name: Partners\n    singular_name: Partner\n    fields:\n        name:\n            type: text\n            class: large\n        url:\n            type: text\n            class: large\n            required: true\n            pattern: url\n        logo:\n            type: image\n            required: true\n    sort: name\n    recordsperpage: 100\n    default_status: publish\n    searchable: false\n. Nice catch @bobdenotter I'll fix that up tonight. It is always a typo that catches you up and is hard to find :|\nI get why a slug should be there, but I don't have the slug as this content should never be viewed alone and I don't want the end user to get confused about the slug if they notice it. I do have it on other types where it will be useful/needed.\n. Just made the change and everything works as expected, not surprisingly. Thanks for the keen eyes :)\n. ",
    "Damienov": "that makes me wonder, is there a \"cheatsheet\" for each input field parameters that I can look up? I can't seem to find one in the Docs\n. So do I, but it seems there are some field on the kitchen sink that have other parameters that is not available on the example. Some is obvious like \"label\", but can one add a zoom level parameter on the location field, etc\n. Last thing I want to do is slow down his work on bolt2, but I just wanted to pointed out that details like the fields parameter could be \"improved\" on the bolt2 docs perhaps? :)\n. I hope this could help make what klickreflex meant more clear.\nIn drupal there is a module called Views (https://drupal.org/project/views). With this module, you can select/choose any combination of fields that you want to view on the frontend. One of the feature of views is \"Exposed Filter\". With the exposed filter activated, your user on the frontend can, well.. filter the output of the field result. for example the user can filter out list of content like this:\n\nand cmiiw, what klickreflex was asking is, is there a simple way of having this similar feature with bolt (you can choose your field to filter).\n. ",
    "chubakur": "Simple patch for it.\nexamples:\ntype: select\nvalues: ['green', 'red', blue']\nthis is generating\n<select ...\n<option value=\"green\">green</option>\n...\nBut the\ntype: select\nvalues: [[0,'green'], [1,'red'], [2,blue]']\ngenerate the \n<select ...\n<option value=\"0\">green</option>\n...\nP.S. Ups, patch file it is not supported type of file\n. I created a pull request\nhttps://github.com/bolt/bolt/pull/1065\nYou can get patch from it\n. FIX:\nuse\n{{ entry.link() }}\ninstead of \n{{ entry|link }}\nI think it should be reflected in documentation\n. So, I created issue in Bolt-Docs\n. Sorry, I have some problems with language, what you mean \" but displaying the field in the front end doesn't show the 'nice' value \"?\n. Yes, I will see it. Just I have some problems with understanding it. I considered then \"record\" instance really must return the Integer value. Because value is Integer - text just some helpful description. If I want print \"red\" I must use some Twig filter, or template macro e.g.\n{% if id==3 %}\nred\n{% ...\nNow I dont understand why we must return from instance the \"red\" value? If I want return \"red', a just use \"red\" as value\n. I cannot test work it or not. I have \"blockpage\" content type with fields \"title\" and \"text\", also i have \"div\" content type with field:\ntestfield:\n            type: select\n            values: blockpage/title\nAnd testfield select is empty all time, what I do wrong?\n. Bolt 1.5.1\n```\nblockpages:\n    name: Blockpages\n    singular_name: Blockpage\n    fields:\n        title:\n            type: text\n            class: large\n            label: \u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043d\u0430 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0435 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430\n        slogan:\n            type: textarea\n            label: \u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a-\u0441\u043b\u043e\u0433\u0430\u043d\n        body:\n            type: html\n            label: \u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b\n        blocksAfterContent:\n            type: checkbox\n            label: \u0412\u044b\u0432\u043e\u0434\u0438\u0442\u044c \u0431\u043b\u043e\u043a\u0438 \u043f\u043e\u0441\u043b\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0433\u043e\n        template:\n            type: templateselect\n            filter: '*.twig'\n        files:\n            type: filelist\n            required: false\n        navigate:\n            type: checkbox\n            label: \u041d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u043c\u0435\u0436\u0434\u0443 \u0431\u043b\u043e\u043a\u0430\u043c\u0438\n        slug:\n            type: slug\n            uses: title\n    template: blockpage.twig\n    default_status: published\ndivs:\n    name: Divs\n    singular_name: Div\n    fields:\n        testdd:\n            type: select\n            values: blockpage/title\n        label:\n            type: text\n        text:\n            type: html\n        image:\n            type: image\n        template:\n            type: select\n            values: [['it','Image Left'], ['ti','Image Right'], ['t','Text only'], ['i', 'Image only']]\n            label: \u0428\u0430\u0431\u043b\u043e\u043d\n        class:\n            type: select\n            values: ['block550', 'block700']\n            label: \u0412\u044b\u0441\u043e\u0442\u0430 \u0431\u043b\u043e\u043a\u0430\n        isLink:\n            type: checkbox\n            label: \u042d\u0442\u043e \u0441\u0441\u044b\u043b\u043a\u0430\n        ordernum:\n            type: integer\n            label: \u041f\u043e\u0440\u044f\u0434\u043e\u043a\n    template: 404.twig\n    relations:\n        blockpages:\n            label: \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u043a \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043e\u0442\u043d\u043e\u0441\u0438\u0442\u0441\u044f \u044d\u0442\u043e\u0442 \u0431\u043b\u043e\u043a\n            multiple: false\n            order: title\n    default_status: published\n``\n. In the first case itSELECT bolt_reviews. FROM bolt_reviews WHERE ( \"bolt_reviews\".\"status\" = 'published' ) ORDER BY -id LIMIT 100 OFFSET 0Second:SELECT bolt_reviews. FROM bolt_reviews WHERE ( \"bolt_reviews\".\"status\" = 'published' ) ORDER BY -datepublish LIMIT 100 OFFSET 0.{% setcontent reviews = 'reviews' orderby 'datepublish DESC' %}` it is work\n. \"'dev-master\" in the composer, but in profiler version displaying as 1.5.1\n. So I fixed it in my case, by using\n{% for reltype, ids in record.relation %}\n        {% for id in ids %}\n            {% setcontent div = reltype~\"/\"~id %}\n...\n(by example of _sub_editrelations.twig) instead of\n{% setcontent relations = record.related() %}\nBut it is not good solution\n. Oh nooo,\nI use \"setcontent\" instead of just set. It so epic fail.\n. ",
    "danielgamage": "Apache.\n. ahhh look at that! so actually, reverting the .htaccess deletions (i.e. putting those lines back in) on commit 0640bca seemed to resolve my issue. perhaps #937 should be revisited, though i'm not much of a php dev (and don't totally understand the reason it was taken out).\n. yeah i'm on 1.5.1 and have been pulling and updating from the github repo.\nhere's my output:\n`````` Array\n(\n)\nArray\n(\n    [path] => /index.php\n)\nArray\n(\n    [PATH] => /usr/local/bin:/usr/bin:/bin\n    [REDIRECT_HANDLER] => php-latest\n    [REDIRECT_STATUS] => 200\n    [UNIQUE_ID] => UyYyVEYgRBkAABaWBh0AAADi\n    [SCRIPT_URL] => /thumbs/756x468crop/2014-02/fika.png\n    [SCRIPT_URI] => http://xxxxxxx.com/thumbs/756x468crop/2014-02/fika.png\n    [WM_UCONTROL_XMLRPC_SERVER] => http://10.0.0.13\n    [ACCESS_DOMAIN] => s000000.gridserver.com\n    [DATABASE_SERVER] => internal-db.s000000.gridserver.com\n    [SITE_ROOT] => /home/000000\n    [SITE_CGIROOT] => /home/000000/cgi-bin\n    [SITE_HTMLROOT] => /home/000000/domains/xxxxxxx.com/html\n    [PHPRC] => /home/000000/etc/\n    [HTTP_PHPCONF] => 1718845570\n    [HTTP_HOST] => xxxxxxx.com\n    [HTTP_CONNECTION] => keep-alive\n    [HTTP_CACHE_CONTROL] => no-cache\n    [HTTP_ACCEPT] => text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,/;q=0.8\n    [HTTP_PRAGMA] => no-cache\n    [HTTP_USER_AGENT] => Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.149 Safari/537.36\n    [HTTP_DNT] => 1\n    [HTTP_ACCEPT_ENCODING] => gzip,deflate,sdch\n    [HTTP_ACCEPT_LANGUAGE] => en-US,en;q=0.8,fr;q=0.6\n    [HTTP_COOKIE] => _ga=GA1.2.785659167.1361872059; __utma=182613299.785659167.1361872059.1394319823.1394863092.27; __utmc=182613299; __utmz=182613299.1394863092.27.7.utmcsr=xxxxxxx.dev|utmccn=(referral)|utmcmd=referral|utmcct=/; bolt_session=d41139cecd9ad7e0ffd33075b5040d48; bolt_authtoken=3792b4bec7524c9ff703eefc5bbf3dd9\n    [SERVER_SIGNATURE] => \nApache/2.2.22 Server at xxxxxxx.com Port 80\n[SERVER_SOFTWARE] => Apache/2.2.22\n[SERVER_NAME] => xxxxxxx.com\n[SERVER_ADDR] => xx.xx.xx.xxx\n[SERVER_PORT] => 80\n[REMOTE_ADDR] => xx.xxx.xxx.xxx\n[DOCUMENT_ROOT] => /home/000000/domains/xxxxxxx.com/html\n[SERVER_ADMIN] => webmaster@xxxxxxx.com\n[SCRIPT_FILENAME] => /home/000000/domains/xxxxxxx.com/html/index.php\n[REMOTE_PORT] => 54259\n[REDIRECT_URL] => /index.php\n[GATEWAY_INTERFACE] => CGI/1.1\n[SERVER_PROTOCOL] => HTTP/1.1\n[REQUEST_METHOD] => GET\n[QUERY_STRING] => \n[REQUEST_URI] => /thumbs/756x468crop/2014-02/fika.png\n[SCRIPT_NAME] => /index.php\n[ORIG_SCRIPT_FILENAME] => /etc/apache2/gs-bin/php-latest\n[ORIG_PATH_INFO] => /index.php\n[ORIG_PATH_TRANSLATED] => /home/000000/domains/xxxxxxx.com/html/index.php\n[ORIG_SCRIPT_NAME] => /gs-bin/php-latest\n[PHP_SELF] => /index.php\n[REQUEST_TIME_FLOAT] => 1395012180.0972\n[REQUEST_TIME] => 1395012180\n[argv] => Array\n    (\n    )\n\n[argc] => 0\n\n)\nMalformed thumbnail URL. Should look like '/thumbs/320x240c/filename.jpg'.```\nI suppose it's pertinent to note that i am on shared hosting.\n``````\n. hey all. i've been looking to get this extension up on my environment, but chrome is throwing \nUncaught ReferenceError: CKEDITOR is not defined \u2013\u2013 startup.js:63\nat me in the console.\nThe data parameters are being passed to the HTML in the data-parameters attribute and it has a contenteditable attribute, but no ckeditor and, along with that, no saving :\\ Any ideas?\nLet me know if you need any more info!\nPS: What do we think of a simple plaintext version of this that saves basic text fields without the need for raptor or ckeditor?\n. it does not. do i have to load it from a front-end template, or is there a configuration option in Editable?\n. i got it working halfway on another Bolt install and ckeditor.js was unhappy with my file structure, but it seems that if we're downloading a custom ckeditor build, the ckeditor distribution files should be placed directly in the assets/ folder, not in the assets/ckeditor/ folder, which wasn't immediately apparent to me.\n. It also seems that I run into trouble, particularly ckeditor.js not being called, when the Bolt root isn't the webroot (ie, when i'm accessing my site at, say http://localhost/bolt/)\nI'm not sure if this is just my configuration or not.\n. so i installed quite a while back, but i've been updating with git / composer.\nmy directory structure something like\neditable/\n  assets/\n    ckeditor/\n      ckeditor.js\nbut having ckeditor.js instead at\neditable/\n  assets/\n    ckeditor.js\nseems to be right where editable looks for the file by default\n. Per #1581 it seems we'll be going the \"there's an app\u2014err extension for that\" route. If anyone has an extension for this though, by all means let me know. ^^\n. Yes, I'm all for trying things out! This was just my immediate developer tools solution.\nI wonder, too, if the icons before the headings could be taken out to differentiate headings (Content, Settings) from their children. On a certain level, too many icons might produce clutter rather than organization.\nAlso, Gawain's comments are perfectly valid for what it's worth.\n. > The reason I initially added the white chiclets was to ensure a visual consistency. \n@bobdenotter, correct me if I'm misunderstanding. I find that adding the chiclets avoids the issue. The issue being that FontAwesome does not provide enough visual consistency in their iconography, in terms of weight and style.\nWordpress has a similar UI pattern and pulls the iconography off quite well in my opinion.\n\nIf this is reason for using the chiclets, I would opt for investing some time (I can certainly contribute) into curating or even creating some icons that are more cohesive.\n. ",
    "shurastik": "Thank you! :)\n. ",
    "vespakoen": "Just want to let you guys know that a very actively developed package exists for working with images, which also supports Imagick and Gmagick besides GD2, and which is \"composer requireable\".\nIt can be found here: https://github.com/avalanche123/Imagine\n. Why not let the \"key\" be the \"slug\", they are kind of the same thing right?\nSaves some characters too! =)\n``` yml\nentries:\n    name: Entries\n    singular_name: Entry\n    fields:\n        title:\n            type: text\n            class: large\n        ...\npages:\n    name: Pages\n    singular_name: Page\n    fields:\n        title:\n            type: text\n            class: large\n        slug:\n            type: slug\n            uses: title\n        ....\n```\nAnd in Config.php we can change the key if it is defined by the slug property so it stays backwards compatible (for those that defined the slugs explicitly, or used the same keys as their slugs already)\n. This sounds great!\nI think you didn't mean Otherwise use a sluggified version of 'singular_name'\nBut something like Otherwise use a singular version of 'name' ?\nAlso, check: https://github.com/illuminate/support/blob/master/Pluralizer.php\n. Isn't the config \"always english\" and then translated by the language files?\nHaving a \"guess\" is always better than having nothing =), but perhaps it should just be a required property?\nEDIT: Ahhh I see what happened now, I read \"singular_slug\" as \"singular_name\", I didn't know a slug was generated for this, I just stumbled upon it in the code and now your list makes sense to me.\nSo ignore my last comment.\n. Good to know!\nI guess I will spend some weekend-time on this and make it happen.\nExpect a PR ;)\n. Just some examples of what this allows us to do:\nphp\nApp::make('fieldtypes')->add('customtype', array(\n  // optionally override some defaults\n  'serializer' => 'Namespace\\Of\\My\\Custom\\Serializer'\n));\n// Add the \"custom/fieldtypes/customtype.twig\" view, or mount your views directory to twig\nDONE\nOptionally, you just edit fieldtypes.yml and add the following:\nyml\ncustomtype:\n    serializer: Namespace\\Of\\My\\Custom\\Serializer\nDONE\nPerhaps you made your own Fieldtype class:\nphp\nApp::make('fieldtypes')->addFieldType('customtype', new Namespace\\Of\\My\\CustomType);\nDONE\nSame story for extensions and routes\nApp::make('fieldtypes') returns the FieldTypeCollection  from the app container, but you can happily use it outside of bolt.\n``` php\n$fieldTypes = new FieldTypeCollection;\n$fieldTypes->add('text');\n$fieldTypes->add('image');\n// Stuff below is just an idea of how we could use it outside of bolt\n$app = new App(array(\n    'twig.path' => DIR.'views/'\n));\n$content = new Content(array(\n    'text' => 'Hello world',\n    'image' => '/path/to/image.jpg'\n));\n$form = new FormView($app, $fieldTypes, $content);\n$form->render();\n```\nThe configuration has now also become some kind of \"serializer\".\nIt will read the \"raw\" config files, and turn them into actual Objects.\nSee:\n- https://github.com/vespakoen/bolt-core/blob/master/src/Bolt/Core/FieldType/Loader/YamlFieldTypeLoader.php#L38-L40\n- https://github.com/vespakoen/bolt-core/blob/master/src/Bolt/Core/FieldType/FieldTypeCollection.php#L11-L43\n- https://github.com/vespakoen/bolt-core/blob/master/src/Bolt/Core/FieldType/FieldType.php\nOnce it is all validated and \"Objectified\" we can also do the inverse, since all our objects implement the ArrayableInterface (thanks Laravel) by defining the toArray method.\nThis way we can take the current application state, and turn it back into a \"text only\" cachable config file.\nThis cache has ALL the defaults we need in the application itself, so no more is_null / isset stuff, we KNOW it's there, so we can simply access it.\n. True =)\nMy sublime text settings are messed up, and it forces new files to tabs, and I forget to change these, but luckily there is PHP-CS-Fixer for that ;)\n. I'm sorry if it came off that way, I don't want to do any disrespect to your work, and you are right, I probably got a little over excited =)\nPerhaps we should not think about versions for this project, but simply see it as some side-project that might actually make it into the core one day.\nHowever, the great thing about Bolt is that we only conform to the syntax of the config (.yml) files, and what It get's turned into in the end (by Config.php).\nI think if I can make this new implementation return the exact same things as the current version, stuffing this into bolt is going to be a lot easier.\nI basically want to take the current codebase, add \"bolt/core\" to dependencies in the composer.json.\nSwitch out the configuration component, and perhaps make the bolt/core use stuff from the original codebase to stay as much compliant as possible.\nWhen that works, we can slowly move code into the new Objects.\n. This is the proof that Bolt's core is hard to use outside of Bolt\nhttps://github.com/bolt/bolt/blob/master/app/extensions/SimpleForms/extension.php\nBecause apparently, it's hard to use inside of Bolt too =P\nEDIT: I thought SimpleForm was using a 3th party library, apparantly it's using the Core, still quite a lot of code to render a form but yeh, not as bad as I thought it was =)\n. Yeh, I think it's a good idea to let this code live beside the application and slowly change code to use this new Core package, I'll do some experiments this weekend and let you know how it turns out\n. Thanks! Will do!\n. Unlike other config files, retrieving something from the main (config.yml) file is done with the \"general\" prefix.\n```\n$this->app['config']->get('general/mailchimp/api_key');\n// or in a view\napp.config.get('general/mailchimp/api_key')\n```\n. I also had this problem, I fixed it by changing this: https://github.com/bolt/bolt/blob/master/app/src/Bolt/Content.php#L134 to this:\nphp\n            $this->values['datedepublish'] = null; //\"0000-00-00 00:00:00\";\nIt should probably check for the doctrine driver in use and choose something based on that, but I am not sure what the correct values would be.\n. ",
    "cdowdy": "I myself would never use a mobile redirect / browser sniffing for a few reasons:\n- possibility of having to  maintain multiple stylesheets/layouts (when using say a m.example.com site i.e. tech debt) \n- user agent sniffing can be bad on occasion http://css-tricks.com/browser-detection-is-bad/ \n- if using  $mobileDetector->isIphone();  it may lock people into designing for 1 device\n- if the redirect fails -> i.e http://bradfrostweb.com/blog/post/mobile-web-problems/#url\\\n- mobile redirects kill SEO (only relevant if SEO matters to you) \n  - https://www.mobify.com/insights/6-reasons-mdot-websites-are-dead-ends/\n  - http://googlewebmastercentral.blogspot.com/2013/06/changes-in-rankings-of-smartphone_11.html\n  - Google Developers Common Mobile Redirect Mistakes\n  - Need to Verify m.domain.com site separately \nNow there may be very good reasons for someone to use any of those methods above.  Money/time being a big one, you aren't a front end designer understanding media queries or RESS mention below, or you have to support IE 8 or lower. \nIf you could use the Mobile Detect Bundle in a Ress type way that would be neat and useful (in my eyes. again this is only my opinion )\nBolt already uses a mixture of Foundation/Bootstrap in its core (from what I've seen poking around) and Skeleton for Simpleforms. Unifying the core to one one framework across all Bolt extensions and core could go a long way in my opinion. \n. @GawainLynch No problem! I myself use Foundation a lot.  I used it on my own site with Bolt as well.  I feel your pain haha.  \nIf there were a way to use TWIG and have it spit out a frameworks classes I'd be in heaven \n. I noticed while trying to track down a ckeditor bolt bug that Bolt does do some browser sniffing \nLine 1025 of app/src/Bolt/TwigExtension.php\nphp\n /**\n     * Check if the page is viewed on a mobile device.\n     *\n     * @return boolean\n     */\n    public function isMobileClient()\n    {\n        if (preg_match(\n            '/(android|blackberry|htc|iemobile|iphone|ipad|ipaq|ipod|nokia|playbook|smartphone)/i',\n            $_SERVER['HTTP_USER_AGENT']\n        )) {\n            return true;\n        } else {\n            return false;\n        }\n    }\nthis will more than likely not help with what you're asking about though \n. if I am understanding this thread correctly you might want to check out concrete5.  When I did a few add-ons for them they have methods called addHeaderItem() and addFooterItem() . It also has a check to make sure the items added to the footer aren't duplicated in the header.  I'll have to track down the exact code again because I haven't worked with it in some time.  \nThen again this could be off base or the implementation isn't something you would like to use\nhere is where I think I remember seeing it\nconcrete5 add header/footer with resolve conflicts \nif this is off base just disregard :)\n. Your Bolt Install must be different than mine. I just downloaded the latest zip from the site, didn't change anything, uploaded an svg file into a page, hit preview and  \n \nThe Content Type is changed. \n\nThe same image not chosen through or uploaded through the filemanger sends the right header.  So the file manager is changing the content type to text/plain.\nIs this a problem? Only if you use SVG (which now a days is quite a lot of people) images uploaded through the file manager because the image will not show.\nApache2.conf /httpd.conf  and .htaccess all have the correct mime types for a svg image.\n. No, Not my local or live server.  as you see in the first comment of this thread the exact same image is  grabbed from the theme/ directory.  the mime type is fine.  Only if the file is uploaded through uploaded files through bolt does it change.\n\nSo the server is sending the correct MIME Type.\nfiles grabbed from theme directory work fine. here is another side by side comparison. Top image is from (_img src=\"{{paths.theme}images/file.svg_ )  bottom same image uploaded through the file manager \n\nhere are the headers/content types\n\nand svg is in the \"accepted file types\"\naccept_file_types: [ twig, html, js, css, scss, gif, jpg, jpeg, png, ico, zip, tgz, txt, md, doc, docx, pdf, epub, xls, xlsx, ppt, pptx, mp3, ogg, wav, m4a, mp4, m4v, ogv, wmv, avi, webm, svg]\n. Perfect.  I didn't even think to look in the files directory for an htaccess file! I could have saved us a lot of back and forth ha! Thanks! \n. > shouldn't have any  tags in your body to begin with. :-)  \nin most cases you are right with the exception to http://schema.org markup as an example ->( http://schema.org/docs/gs.html#advanced_missing \nwith Google having rich snippets markup tool and all of the \"major\" search engines now using some form of Schema.org markup this might become a bigger seo thing\n. Another alternative with MIT license\n- Magnific Popup \n- http://dimsemenov.com/plugins/magnific-popup/\n- Magnific Popup Github\n- https://github.com/dimsemenov/Magnific-Popup\n. It also supports all the way back to IE7 I believe, uses progressive enhancement,CSS for controls (no extra requests for things like close & next/previous buttons mobile device friendly and high DPI friendly and has accessibility features. Also it should work nicely with srcset \nOK /end sales pitch/ haha\n. to add on whats mentioned above make sure you have allowed htaccess to override your server configs.(like httpd.conf or apache2.conf )\nexample:  \n<Directory /var/www/html/bolt >  \n    AllowOverride All  \n</Directory>\nthis would go in your virtual host config if you're using a vps. In Ubuntu 14.04 LTS would most likely be located in etc/apache2/sites-enabled (or sites-available)/{site your serving content from } \nA default completed example below: \n```\n\n        # The ServerName directive sets the request scheme, hostname and port that\n        # the server uses to identify itself. This is used when creating\n        # redirection URLs. In the context of virtual hosts, the ServerName\n        # specifies what hostname must appear in the request's Host: header to\n        # match this virtual host. For the default virtual host (this file) this\n        # value is not decisive as it is used as a last resort host regardless.\n        # However, you must set it for any further virtual host explicitly. \n    ServerName www.example.com\n\n    ServerAdmin webmaster@localhost\n\n    # Your Document Root\n    DocumentRoot /var/www/html/bolt\n\n    # Available loglevels: trace8, ..., trace1, debug, info, notice, warn,\n    # error, crit, alert, emerg.\n    # It is also possible to configure the loglevel for particular\n    # modules, e.g.\n    #LogLevel info ssl:warn\n\n    ErrorLog ${APACHE_LOG_DIR}/error.log\n    CustomLog ${APACHE_LOG_DIR}/access.log combined\n\n    # For most configuration files from conf-available/, which are\n    # enabled or disabled at a global level, it is possible to\n    # include a line for only one particular virtual host. For example the\n    # following line enables the CGI configuration for this host only\n    # after it has been globally disabled with \"a2disconf\".\n    #Include conf-available/serve-cgi-bin.conf\n\n   # Allowing htaccess \n   <Directory /var/www/html/bolt>\n       AllowOverride All\n  </Directory>\n\n\n```\n. @rossriley thanks for the tip ross! Now time for me to hang my head in shame :(   \nI migrated my vps.......forgot to install gd..........so the thumbs weren't generated.... I CANT BRAIN THIS WEEK. anywho thanks for the help! I apologize to taking up time for something so dumb! \n. alrighty! Thanks @rossriley for the information, much appreciated!\n. Since you all are discussing a possible refactor and clean up, as it stands now is there an easy way to add a honeypot field instead of / in place of using a recaptcha? They are a UX and Accessibility nightmare.\nI know Symfony has the Assert\\Blank();  or Assert\\Null(); validator constraints. I've recently been getting hammered with spam on a few simpleforms.\nSince @bobdenotter wants to stay simple maybe add in support for Validation.yml to the simpleform config or a separate validation.yml that sits alongside the config.yml and you wouldn't have to touch it unless you absolutely wanted/needed too since the whole of Symfony's validators already exist in an install of Bolt. This goes against his wishes of not adding any new features though.\nJavaScript validation is nice and all but its not successful against bots\nAs it stands now I'll have to cook up a custom solution or start from scratch... (can ya tell I got annoyed with the spam ha!)\n. @jadwigo cool! I've been trying unsuccessfully to add a honey pot into the current extension. My current solution is to use the pattern option and use ^$ which is no good for any mobile browser or Internet Explorer 9 in terms of validation purposes.  \nI guess I'll have to go back to a basic silex install and build forms manually until/if server side validation is up for things other than email, required fields (with no restriction on length or type), and file types because right now its a little easy to by pass HTML5 validation by simply using a mobile browser, Internet Explorer < 10  or in the extremely rare cases some one or bot tinkers with the markup and removes the HTML5 validation constraints. Not every field is required in a form, but for those fields not required but submitted I don't need/want multiple paragraphs being able to be submitted like so \n\n. @bobdenotter depending on your browser support ( mainly aimed at Internet Explorer < 10 ) you could look into using Flex Box for your sticky footer. https://philipwalton.github.io/solved-by-flexbox/demos/sticky-footer/   \nif you want to use this you would need to either use Modernizr or a conditional class  ( yes its a hack ) to support < IE 10.  \nEx: Sticky Flex box:  \nHTML\n<!doctype html>\n  <html class=\"no-js\" lang=\"\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <title></title>\n</head>\n<body class=\"Site\">\n  <header>\n    <!-- header content -->\n  </header>\n  <main class=\"Site-content\">\n    <!-- site content -->\n  </main>\n  <footer class=\"sticky-footer\">\n  <!-- footer content -->\n  </footer>\n</body>\n</html>\n``` CSS\nFrom Solved By Flexbox\n.Site {\n  display: flex;\n  min-height: 100vh;\n  flex-direction: column;\n}\n.Site-content {\n  flex: 1;\n}\n```\nIf using Modernizr like above or a conditional class  \nHTML\n<body class=\"Site\">\n  <header>\n    <!-- header content -->\n  </header>\n  <main class=\"Site-content\">\n    <!-- site content -->\n  </main>\n  <footer class=\"sticky-footer>\n  <!-- footer content -->\n  </footer>\n</body>\n</html>\nCSS\nFrom CSS-Tricks Added in Modernizr Classes\n.no-flexbox .no-flexboxlegacy .site-content {\n  min-height: 100%;\n  /* equal to footer height */\n  margin-bottom: -142px; \n}\n.no-flexbox .no-flexboxlegacy .site-content:after {\n  content: \"\";\n  display: block;\n}\n.no-flexbox .no-flexboxlegacy .sticky-footer, .site-content:after {\n  /* .push must be the same height as footer */\n  height: 142px; \n}\nNow that I wrote it all out that ( hastily I might add so it might not even work ) is a lot of markup for a sticky footer :( so it may not even be an option. I don't think you'd want to pollute your stylesheets for the backend with conditionals.  \nThe other option of course would be to use flexbox and since you are already loading /app/view/js/modernizr.custom.2.8.2.js and Jquery in the back end would be to test for flexbox, legacy flexbox and then  use modernizr load to load in a version of Jquery Sticky footer like the one at css tricks http://css-tricks.com/snippets/jquery/jquery-sticky-footer/ or many of the others on the interwebs like so http://blog.mojotech.com/responsive-dynamic-height-sticky-footers/  \nJavaScript\nModernizr.load({\n  test: Modernizr.flexbox && Modernizr.flexboxlegacy,\n  nope: 'jquery.stickyfooter.js'\n});\n. if you're concerned about localization Parsley Js github  and parsley demo page -MIT license too-  has a a fairly large ( not complete ) one.  Here are some of the supported languages https://github.com/guillaumepotier/Parsley.js/tree/master/src/i18n It will at the least help you on your il8n efforts! \n. There is another thing to consider Google isn't just serving you a font file. It's serving you a TTF, eot, svg, woff, woff2 depending on what your system is capable of. It takes care of all that logic for you.  \nIf you're worried about a fallback for no connection why not just use the Helvetica, Arial, sans-serif pattern. The timeout depending on the browser is 3 seconds. No Google font then the fallback shows. A connection is established and the Google font will load.   \nPrivacy issues I can't comment on that's going to be an individuals preference. \n. a good resource for font familes and what will render with say sans-serif is fontfamily,io \nas for shifting towards WOFF yes and if you continue to use Google Font service you'll get woff 2 on browsers that support it which gives you this benefit of a +/- 20% better compression  Google Font's Compression... Add in subsetting and you can really slim it down but thats really not the conversation here.\n. yeah a benefit of not actually having a request to el goog is not bad. it cuts down on well... requests haha... Since you're already using Open sans might as well just download the files, use fontsquirrel generator.  you could go even as far as inlining the stylesheet but I haven't thought about how that would work for localization and in themes so that might be completely out of the question (which is why just loading it from google is nice they do that for you and only send that stylesheet for those languages).  \nor just use open sans for headings and body copy gets default sans-serif like @GDmac mentioned\n. Have a look here and try this from stackoverfkow \nAlso if you're doing rewrites outside of an htaccess fine you need to put this in your virtual host block. \nRewriteEngine On\nRewriteOptions inherent\nAnd finally if that doesn't work remove the rewrite block and replace it with fallbackresource directive found here http://httpd.apache.org/docs/current/mod/mod_dir.html#fallbackresource\n. Yeah woff alone is ok as long as you are OK with no ie8, opera mini or android >4.3 support.  \nWant me to move it to just woff /woff2 support? \n. I mention woff2 because it's usually 30% smaller. And I just had a thought that if people aren't using HTML5 boilerplate server configs they may not have the right mime type for woff2.  \nI never thought about that :-( \n. OK I'll fix it up and send it here soon! \n. ok I updated the pull and added in a commented out section to the htaccess file dealing with woff2 mime types like so  \n```\nset the correct mime type for woff2 font type\n=============================================\nif you don't set your own mimetypes or you aren't using\nHTML5 Boilerplate Server Configs https://github.com/h5bp/server-configs-apache\nthen you can uncomment (delete the hash/pound/octothorpe/number symbol) the section below:\n\nAddType application/font-woff2    woff2\n\n```\nI don't know how you would want to handle this so. woff2 isn't set in the latest Apache mime.types (2.4 or 2.5)\n. pull has been updated. I didn't find any em or i classes in any of the scss files. I don't know if I'm missing something so I added them to _textstyles.scss. Let me know if that is alright and if not we can find another solution.  \n\n. ahh I think I  get what you were saying now.. my apologies. you just wanted   \nem,i {\n  font-style: italic\n}\n. yep ok on my end... sorry for all the run around haha and thanks for fixing it! \n. a replacement for assetic could be Gassetic but that is gulp and bolt uses grunt (just here for reference).  \nAssetic does have bundles for requirejs  https://github.com/hearsayit/HearsayRequireJSBundle  \nI myself tried requirejs but it ended up being a bigger pain than it was worth when I wanted to load scripts async or some jquery plugins werent in an AMD/UMD manner (or commonjs for browserfy) so as long as we have the option on the client side /template side to not use it or turn it off I'm good with whatever you all decide :) \n. Ironically @tobias2k the things you mention in # 2 are exactly what assetic does (js css minify, less, scss/sass compile, cache and cache busting) with image filters added in too.  \nI had this long drawn out reply about workflows and all those other stuff but I realized. My workflow, my browser targets, my \"Cuts the Mustard\" tests and my optimization goals are different and everyone's will be different.  Just because I use things like enhance js doesn't mean everyone else will find it useful.  Just because I only want one request or not have to use JavaScript to load JavaScript doesn't mean the project feels that way. So if you all go with require great! If not great too haha! \n. also here @GDmac & @bobdenotter  http://symfony.com/doc/current/components/yaml/yaml_format.html#strings\n. After thinking about this I'm not sure this is what you all want.  \nOriginally we had  \nRewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\nrewrite request filename that is not a directory and not a file. This rewrite serves files and NOT directories\nThe comments from symfony say  \n\nWe only want to let Apache serve files and not directories.  \n\nthats contradictory to what was there before no? maybe I've talked myself into a circle I dunno. \n. So you know. Google is going to start to block document write to inject scripts in chrome for slow connections, non asyn /  defer and a few more here https://developers.google.com/web/updates/2016/08/removing-document-write\nEssentially jQuery will never load in chrome 55+ like this. Well it also says\n\nThe document.write() is in a top level document. The intervention does not apply to document.written scripts within iframes\n\nWhich this is a top level doc\n\nthe script in the document.write() is parser-blocking. Scripts with the 'async' or 'defer' attributes will still execute.\n\nWhich this is a parser blocking script\nAlso all that is superceded when a user is on a slow connection (and eventually slow wifi) it'll be removed and not execute\nI just wanted to let you know thats all :) \n. ",
    "Dragory": "Ah, alright, thanks for the quick reply! I'll subscribe to #817.\n. ",
    "swimson": "Throwing this out to the community...\nI saw this error as well on a fresh install using Ubuntu on Vagrant.\nIt happened when I was tried accessing the front controller: localhost/index.php \nOnce I removed the index.php and just accessed localhost/ it worked\n. ",
    "vaughanwatson": "Yes, on the fronted.\nI want three pages on the front-end where I can grant read only access to certain roles/users/site visitors ans these pages will show up on their menu bars but not for Joe Public.\n. Thanks Bobdenotter, just what I was looking for.\nMuch appreciated.\n. ",
    "anketwokings": "Bob asked me to add this as an issue, since we will implement it soon for a client. :) But good point on the previews of the pdf's That is indeed really ugly, and adding a preview would be nice, but a hell of a job, possibly an overkill..\n. Combined with #789  ?\n. Tested, works! \nThanx for the fix, now go on watching talks at Fronteers. :)\n. Yes, confirmation here, I have the same issue; The site will only show the record.twig and i lost all my custom selected templates on the site. \nPls fix! thx! \n. Wow. Such speed, very fix. Amaze. \n. My preference would be to delete the whole special 'alt text' case, but I have no clue why that was added there in the first case. It's not needed anymore now.. ",
    "narendrastark": "BTW I'm running BOLT 1.5.2 on a XAMPP localhost Configuration on Windows.\n. Hi,\nwhow, that was fast. Thanks a lot. Updated to 1.5.3 and file upload is working again.\n. You're absolutely right, I was using base-2013. Now after changing to base-2014 evertyhing seems to be fine.\nThank you\nnarendra\n. ",
    "leonardothizon": "Yes! That's what I gonna do. Thanks.\n. Anyone to give a help here, please?\n. ",
    "yveson33": "Thx for reply. \nI just don't understand why with 'Everyone role' when i go back to bakend interface i'don't have  401 http error, instead i got a loop redirection. i don't know what it's wrong. \nPerhaps bug?\n. ",
    "truffo": "It isn't only for seo purpose. It's also in HTML 5 specification http://www.whatwg.org/specs/web-apps/current-work/multipage/microdata.html#microdata\n. ",
    "mrlami": "I'm not using strict php settings...  I'm running it from a vagrant dev VM (ubuntu 12 / php5.4 / apache 2).\nIts seems to stop after about 15 seconds of refreshing.  Could it be a caching issue?\n. I'm running v1.6.1\nWhen I try to add an image to stack I get the same error Uncaught ReferenceError: stack is not defined\n. Coolbeans!\n. ",
    "neosin": "brilliant!\nthank you very much\n. ",
    "dexcell": "I've got the same problem in my production server.\nAny ideas to solve this issue?\nTried delete cache directory -> not working\nTried delete bolt_authtoken in mysql -> not working either.\nPlease help asap. Thank you.\n. Bolt Version '1.5.6';\nIt doesnt matter which browser i use. I tried chrome and firefox. and tried to clear all the browser cache but still doesnt work.\nServer is apache using centos 6.5 \nIt doesnt matter which browser i use. I tried chrome and firefox. and tried to clear all the browser cache but still doesnt work.\nServer is apache hosted on webfaction\n\n. ",
    "apoberez": "I have such problem only after message send. I tried all, found in web, but result is same every time.\n. ",
    "tseho": "Closed because another commit was included. Will repost it.\n. ",
    "erikaheidi": "Awesome! I'm really happy I could help in some way. :) kudos!\n. ",
    "gattytto": "also a check should be added, so if someone uses FILE_CACHE_PREFIX=/somepath, the last / should be automatically added.\n. ",
    "kkriehl": "I forked and sent you a pull request with a proposal to resolve the issue that is not \"the easiest way\" but IMHO \"the better way\"\u2122 (and still easy).\n. ",
    "taylorren": "Yes, it works. Thanks. \n. OK for this closure. No further comments. It can be done by another way so not a killing issue. \n. I am running Bolt 1.6.0. \nBrowser is Chrome under Win8.1. The page to upload the materials is something like: http://g4p.cc/admin/editcontent/materials/\nWhere \"materials\" has a field defined as:\nmaterials:\n    name: Materials\n    singular_name: Material\n    fields:\n        title:\n            type: text\n            class: large\n        slug:\n            type: slug\n            uses: title\n        filetype:\n            type: select\n            values: [PDF, PPT, MD]\n        description:\n            type: html\n        uri:\n            type: file\n        datein:\n            type: datetime\n. Thanks. I will wait for your 1.6.2 release then. Hope it is coming soon. \n. taylorr at taylor.ren@gmail.com has sent you an invitation to chat on BitTorrent Bleep.\nGet Bleep at: http://btor.co/wemail\n. @GawainLynch Nope, running a typical LAMP setup. Image directory access right has been changed to 777 already. \n. ",
    "ChangePlaces": "+1 for something involving image magick. With the php module 'imagick', image magick is a few short functions away, and instantly, some decent cropping functionality is built into it. This would also allow developers to build their own image filters as they see fit (image watermarking, adding text etc), without the overload of using a pre-existing system. \nWhat I've seen before is a fallback system that if imagick isn't installed, basic image handling is offered instead.\n. @GDmac yep, image manipulation should certainly be constrained to a (set of) module(s) but cropping can be performed with 2 / 3 lines of code which will be a lot easier to maintain than the current image codebase. And, as imagick handles the cropping natively, it will be more performant.\n. @GDmac but what would be the purpose of the imagecreator / manipulator in GD. What would require many, many lines of code for GD2 would require < 5 lines of code for image magick. I agree that image modification should remain external, and as such an interface can be defined externally.\nI'm not suggesting that imagemagick / imagick be forced upon the user, but if it's installed, I think it could/should be used. Is it possible to do such checks during installation?\n. I've never seen a decent media manager for php, so I think bolt should avoid this direction\n. Could a new 'lookup' / 'reference' field be created which handles uses an int database field. This would be able to handle manytomany references as well as a single content reference by either using a separate table or an int field as necessary? \nThis would mean that the select field should be prevented from being able to define contenttypes as values\n. what trouble will it cause in the \"long run\"? Yep, none. That's why I'm no longer interested in Bolt. Good luck, though, I suppose.\n. I enjoyed reading your passive aggressiveness - so common amongst programmers. If you think implementing database table relationships is a \"whim\", you may as well... take up gardening. As it stands, bolt is useful for no more than a basic blog or basic content site (like the gazillions of CMS's already out there) and until your lack of relations handling is resolved, that will always be the case.\n. @bobdenotter That's exactly what I had in mind, but I'd have the button on the right hand side!\n. Please don't think of this as a media-only problem. The problem will apply every time a content type embeds another content type be it an image, a Foo or a Bar!\n. Well, as I understand, if a group is defined, the fields following this grouped field, uses the same group. However, as no group is defined for the earlier fields, they're not shown at all. Beta or not, it's a bug ;)\n. how about breaking the relations out of the same tab as taxonomy?\n. relationships have nowt to do with categorising content though, so shouldn't be in taxonomy. visual clutter or not!\n. @GawainLynch So... you're advocating that every field should be located under the taxonomy tab because tab sorting makes no sense?\nIf the developer wants 10 tabs, then sobeit, a presentation issue such as this should have no say on a bigger coding issue. It's bolts job to show those tabs that don't fit across the screen, below those that do.\n:+1: regarding being able to put it whereever you want. As an aside, I'd advocate multiple relationships being allowed as a field type as discussed on irc, so maybe this will become a moot issue?\n. Well, taking relationships outside of taxonomy and being able to place them wherever is a solution, I thought that was agreed? As for how to do it, well, I think it highlights the same bugbear problem though. Bolt at the moment, can not handle many to many / many to one / one to one / one to many relationships properly. Why try to create a custom ORM, when doctrine is sat smiling in the corner? Using Doctrine to create such a relationship (though not thought of as a field/column directly as such in Doctrine terminology) will allow Bolt to place the 'field' in a tab just like any other field. This problem and some others solved?\n. is assetic an option?\n. ",
    "bzerangue": "Any input on this?\n. Thanks @mike-anthony! That's helpful to know. I wish it was available now. :)\n. Totally agree! I am not trying to rush y'all. Thank you for letting me\nknow.\nOn Fri, May 23, 2014 at 11:53 AM, Mike Anthony notifications@github.comwrote:\n\nI also wish it was available now. It's just one of those things that takes\ntime to think out and prepare. Rush-jobs for the sake of introducing the\nfunctionality just don't work.\nA while ago, it looked like something that could be done for 2.0, but each\npart of developing such a structure and keeping the current process-flow\nneeds careful consideration.\nAs mentioned on the roadmap, you can contact @bobdenotterhttps://github.com/bobdenotterif you need the feature urgently.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/bolt/bolt/issues/1205#issuecomment-44035020\n.\n. @bobdenotter - Thank you!\n\nI made the following adjustment to the snippet and it did what I needed. It merged both entries and articles contenttypes and ordered them in descending date order.\n{% setcontent r1 = \"entries/latest/6\" orderby '-datepublish' allowpaging %}\n{% setcontent r2 = \"articles/latest/6\" orderby '-datepublish' allowpaging %}\n{% set records = r1|merge(r2)|order('-datepublish')|slice(0,6) %}\nI added this snippet to the Bolt Snippets page, http://snippets.bolt.cm/snippet/NzF0o. Thank you for sharing that resource with me. \n. ",
    "jacobtolar": "I get the same issue if I try to create a new page and try to \"Select From Server\"  under 'Image' on a brand-new install of Bolt (1.6.1). When I click the link to presumably add the image, it doesn't work.\nHowever, if I do: \nstack = new Stack();\nin the javascript console, it seems to work fine.\n. ",
    "kferran": "+1  for Magnific Popup :+1:\n. Thanks for the response!\nHow would I structure my theme to include custom controllers like you are suggesting? I was toying with the idea of using an extension as a theme, is advisable?\n. ",
    "cfsgeeks": "Thanks very kindly.   I appreciate learning something new every day. Really great project.\n. Not sure if it helps, but what I did with my current project is the following...\nIn the Taxomomy config...\nsections:\n    slug: sections\n    singular_slug: section\n    behaves_like: grouping\n    options: { about: \"About Us\", programs: \"Programs and Services\", meta: \"Meta\", communities: \"Our Communities\", people: \"Our People\" }\n    has_sortorder: true\nAnd in the Contenttypes config...\npages:\n    name: Pages\n    singular_name: Page\n    fields:\n        title:\n            type: text\n            class: large\n        slug:\n            type: slug\n            uses: title\n        image:\n            type: image\n        body:\n            type: html\n            height: 300px\n        template:\n            type: templateselect\n            filter: '*.twig'\n    taxonomy: sections\n    recordsperpage: 100\nThen I select the section I want when I am editing the page.\nHopefully this can be of use.\n. ",
    "fidelio314": "tested and it is not possible, because  the setcontent creates a pager, so there is not a merged pager created.\n. any idea where is it on the code? i am trying to understund the structure of bolt. a hint could help me. thank. \n. ok thank you.\n. ",
    "KTala9": "/public_html/app/bootstrap.php exists. I can't see /home7/modemmus on my ftp, but I figure that's just being generated by Bluehost. Checked the permissions and they seem fine, can be read by anyone. I don't understand why it's saying it can't find it! So strange.\n. Really? That would be awesome! I'm email you :-)\n. Hi Rix,\nActually the version I'm using is 0.53, which I believe came with Bolt 1.6.5\nCheers,\nKirill\nKirill Talanine\nPhotographer/videographer\n+61423661442  \u2015  my-visual-life.com\nOn Fri, Jul 11, 2014 at 1:16 AM, Rix Beck notifications@github.com wrote:\n\nHi,\ndo you have any reason using this version? It is updated already since as\nI remember.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/bolt/bolt/issues/1365#issuecomment-48618594.\n. Hey Rix,\n\nI'm trying now with the bolt v1.6.6 distribution and the latest Editable. Exactly the same thing is happening.\nI'm getting this JS Debug message:\nUncaught ReferenceError: CKEDITOR is not defined localhost/bolt_1.6.6/app/extensions/Editable/assets/ckeditor/startup.js:70\nUnfortunately I only have a basic working knowledge of js and php. But I get the sense the CKEDITOR class isn't defined, which is why the toolbar isn't appearing. I've tried replacing the included \"ckeditor\" folder with the standard ckeditor installation, and including the \"editable\" plugin and startup.js, but it still doesn't work, although the errors thrown up are different.\nThanks again for your help! I feel like I've just got one broken link in the chain here... so close to working!\nCheers,\nKirill\n. Hi Rix,\nThanks for the walkthrough, but same thing happens as before. Throws an error:\nUncaught ReferenceError: CKEDITOR is not defined \nThe field is selectable and gets a glow style, but there's no toolbar visible or present in the markup, and hence no inline save. \nI don't need to have CKEditor installed anywhere do I? Could it be my server environment? I'm running MAMP with PHP 5.5.3 on a recent Macbook Pro. Bolt and Editable are both the most recent versions you provided.\nI've been playing with the code a little and after installing CKEditor and adapting the code a bit I had a toolbar with Inline save, but couldn't get it to update the database. My lack of PHP knowledge and caffine was letting me down!\nCheers,\nKirill\n. ",
    "kolier": "Hi, Bob,\nDo you think this solution is good enough? I just modify it to fit my current project needs.\nOr do you think if it's possible to assign these kinds of functions as \"callback\" and allow to easily override somewhere in config.yml or extension or theme?\n. ",
    "davidmaneuver": "Oh my bad. Will update then.\nThx!\n. Ok. Thanks.\nClosing this then...\n. ",
    "ahi": "@rixbeck I have the Problem in1.6.5 and 1.7 (master).\nTo reproduce, edit from template base-2014 the record.twig file on line 55:\n```\n{% elseif record.fieldtype(key) in ['html', 'markdown', 'textarea'] %}\n{{ editable(key, record) }}{# attribute(record, key) #}\n\n{% elseif record.fieldtype(key) == \"select\" %}\n```\nAnd add a image to the Page Body (html) field in the backend. Than you can see the image in the first second, but after the js for editable runs, it is not more to see. \n. ",
    "MisterTy": "The permissions for the contenttypes only apply to the backend. So if you set the view permission of your membership contenttype to 'owner', only the user who created an instance of this contenttype would be able to see it in the backend. The frontend however is not affected by these settings.\nYou might want to look at the PasswordProtect extension that comes with Bolt. I personally haven't used it yet but I think it could be worth a try.\n. The idea of the view permission isn't to conseal any data. It's just for \nthe backend users and content creators to simplify their workflow. Let \nme give you an example of how I use bolt. I run a couple of websites for \nbands. And I have some contenttypes like news, photogallerys and shows \nthat I allow banmembers to manage themselves. But I also have other \ncontentypes like meta information for the site, pages for about-us, \ncontactforms etc. that I don't want them to edit. In fact they don't \neven have to know that these contenttypes exist. So I don't give them \nthe permission to view these types in the backend. In the frontend \nhowever they are still visible, since the frontend is ment to be public..\nOr think about the menu. Some users don't have the permission to edit it \nand so they don't see the link for doing so in their backend. Even \nthough the menu is always visible in the frontend, doesn't mean that \nthis setting is useless ;)\n. You are correct with your assumptions about how the roles are assigned. But the setting for the maintenance mode works right the opposite way of how you thought it would. As the comment on the line indicates, every user with that role can see the (normal) frontend when the site is in maintenance mode. The users with a lower role will only be served the maintenance mode page. If you woud set this permission to 'anonymous', every visitor to the site would surpass the maintenance mode page and thus rendering the maintenance mode in fact useless.\nHope this clears thing up a bit ;)\n. Sounds like the NiceUrls-Extension will do the trick for you\n. ",
    "luxlogica": "Thank you for the tip about PasswordProtect - will certainly have a look at it. \nDoes this mean, however, that out-of-the-box, any content created in Bolt can be viewed in the fronted by any user? Isn't that a security risk, that would prohibit Bolt being used in many types of situations - ie., anything to do with invoicing/payments/finance, anything that deals with information that should be kept private/confidential or individualised?\n. > [...]  If you do stuff like that, store it in a table that's not a content type.\nI was under the impression that ALL data - i.e., all records - in Bolt were 'contenttypes'. Is there a way to manage tables in Bolt NOT through a contenttype?\nI was thinking of several use cases where the site admin might want to have content which is private to each specific user:\n1) a support ticket system: each user should be able to issue and view their own support tickets only (not everyone else's), and the admins should be able to view and comment on all.\n2) client invoicing system: the clients (users) should be able to logon and view their invoices, and whether they are outstanding or paid, but not see the invoices of other clients. Admins should be able to issue, update and delete invoices.\n3) student online test system: students should be able to logon and access their tests, and their past test results - but should not be able to view each other's. Teachers should be able to create and grade the tests.\n. It seems a bit counter-intuitive, that someone who does not have permission to 'view' a record in the backend, should still have permission to 'view' that same record in the frontend. It seems to make the 'view' permission purposeless.\nAlso, it seems that as-is, there is no way to stop a user viewing ANY records in the frontend - even if they are not allowed to view it in the backend. This seems like a glaring security issue.\nIt seems that the 'view' permission could be made a lot more useful if it simply referred to accessing records in the frontend (nothing to do with the backend):\n- 'viewing' refers to the frontend: If user can 'view', then they can access the record in the frontend. Without 'view' permission, they do not have any access to the record, anywhere (not in the front, not in the back).\n- 'editing' refers to the backend: if a user can 'edit' a record, they can view it in the front end, as well as access it and edit it in the backend (there cannot be an use-case for an 'edit' without 'view').\nIt seems this should be a basic security pre-requisite, which right now cannot be achieved unless the programmer installs extensions.\n. > The \"use case\" here is that it's possible for logged in users in the backend to view those pages, including any fields that might not be visible in the frontend.\nThey can already 'view' everything in the frontend. Everybody can. In the current design, therefore, that permission really does nothing, apart from enabling the developer to hide some selected fields from some users in the frontend, if they go through quite a bit of trouble. Either way, the use-case is always about what 'viewing' is doing in the frontend.\n\nI could see us adding a standard permission for this, though: [...] Then, in the controllers in Frontend.php we'd need to add checks for this, as well in the code for {% setcontent %}.\n\nWonderful!!! \nThat permission already exists, as you described above, in the current default contenttype config. The only thing missing is the frontend check. If that were added, this would make Bolt not only a LOT more secure, but also more useable in a very wide range of applications and use-cases - and the overhead cost of that extra check should be quite minimal! :-)\n. MIsterTy - agreed: you have described a couple of use-cases where it may be useful to hide some content from editors in the backend, while still making it visible in the frontend. I am starting to understand better the way Bolt is supposed to work: the philosophy is to really do all the content/record editing in the backend, and leave the frontend just for display and navigation. \nI have found, however, that even in the backend the 'owner' role is not respected when used with 'view' permissions, which makes it impossible to apply the current approach to solve any of the use cases I described here. Let me give you an example, using the 'Invoicing System' mentioned above.\nThe idea there is that an admin user should be able to create an invoice, assign it to a client, and that client should then be able to view it (in the backend), but not change it in any way.  The client should only be able to view their own invoices, and no one else's. \nIt could be that because I am a 'newbie' to Bolt, I'm doing something wrong, but nevertheless, here is what seemed to be the obvious approach to me: I created a contenttype \"invoices\", and gave \"create\", \"edit\" and \"delete\" permissions to \"admin\". I then gave \"view\" permissions to only \"admin\" and \"owner\". The idea was, that an admin user would create invoices, and assign a 'client' user as the 'owner' of each. 'Client' users should then be able to logon and view the invoices which they 'own', but only those, and no one else's. \nThis, however, is not how Bolt works right now. With permissions set as described, if a 'client' logs on, they cannot access the \"invoices\" contenttype at all - not even the ones they 'own'. The \"owner\"+\"view\" permission is not being obeyed, not even in the backend. In order for 'clients' to be able to 'view' invoices, I need to assign the \"view\" permission to the \"client\" role, not just to \"owner\" - but then all clients can see all invoices.\nThis problem, as you can imagine, also precludes this approach from being used with any of the use-cases I described in this thread. Nevertheless, even if the \"owner\"+\"view\" permission was respected in the backend, that still would not solve all our problems.\nThere seems to be a glaring security hole in the frontend. The system that Bolt creates by default is so open, that even if I block \"view\" access on the backend, unless I also block routes, create empty templates, and/or instal extra extensions, any user would still be able to see all records in the frontend. Consider, for instance, the Online Testing System scenario described in a previous message. Students, even if they can't access the backend, in a default installation can still hack away and access everyone's test results. To stop that happening in the frontend, there is a LOT that I need to do as a developer, which could more easily be dealt with by the 'permissions' system - ie., without the right permissions, a user should not be able to access records anywhere, including in the frontend.\nAlso, even though using the backend for the situation you described is a good solution, in many use-cases giving clients access to the backend is not. The backend is not as easily customisable and flexible as the frontend, and by default gives access to extra areas of the system that can open further security holes. There will be many solutions where I do not want to give certain roles any access to the backend at all. In a Support Ticket System, for instance, I don't really want to give users the ability to logon to the backend - it's unsafe. I need to be able to provide a frontend-based solution. These use-cases do not seem to be covered by Bolt, which is a great shame.\nI humbly suggest the following solution, which in theory should cover every scenario:\n- decouple login/logout from backend access: a user should be able to login, but not automatically gain access or be redirected to the backend admin interface. \n- create a separate BACKEND permission, which explicitly allows a role to use the backend admin interface when logged in. If a user does not have that permission, they may still be able to login (and the system will see them as a 'logged in' user), but they will not be able to access the backend.\n- check \"view\", \"edit\", \"create\", \"delete\" permissions in the frontend: if a user does not have the right permission, regardless of whether they are in the backend or the frontend, they should not be able to access certain records, templates and functions.\nThis would certainly cover all use-cases, and would allow developers to fully control frontend content access, as well as to build complete frontend-based applications, if backend access is not desired or appropriate.\n. > As I mentioned before: No, this will absolutely not happen. That would mean that a visitor to a Bolt website wouldn't be able to see any pages until he's logged in.\nThat would be pretty silly, indeed, and not at all what I'm proposing. In order to give anonymous users permission to view everything in the frontend, you just keep on doing what you are doing now:\ncontenttype-default:\n    view: [ anonymous ]\n\nI'm open to adding a new permission for \"frontend\", but that's it. \n\nI can't see immediately how a 'frontend' permission would work, but I suspect that you are suggesting something that would be the exact opposite of what I'm suggesting - ie., that a 'frontend' permission would lock users out of the frontend, rather than the backend. If that is the case, either approach should enable us to achieve what is desired - they are just coming from different points of view.\n\nWe will not change the way we've been doing things for a year and a half, just because it fits your particular usecase better.\n\nI'm new to Bolt, and as I mentioned previously, maybe there are ways of accomplishing what I described in the use-cases above, which I haven't been able to find. These use-cases should be sufficient to show you, however, that this is not an isolated, unique or unusual case. These are things that, in my experience, most web developers need to do for most of their clients - your experience, of course, may vary.\nIf we can achieve these tasks with Bolt already, that's wonderful. If not, then it may be worth considering.\n. This explanation is really helpful - thank you! :)\n. Sounds like a very difficult task, requiring heavy customisation of the core.\nThank you for the info.\n. ",
    "kuzsa": "If you add a tag to the material in Russian reference in the list of tags leads to an error page if the tag is in English then everything is fine. With categories such problem. The database retains the transliteration option\n\n. I was confused what works in terms of transliteration and no tags. In general, I believe that it is an essential aspect of system development. Maybe there is a workaround\n. ",
    "wolfmoritz": "No Issue It was late, I was tired, and made a mistake. \n. ",
    "jmschelcher": "ho, you're right !\nI thought I could finally contribute to that nice piece of software... What a shame !\nThanks for your reply.\nI'll try to delete the PR.\n. Hmm, are you sure ?\nI have a doubt. I'm trying it and it does not work.\nThe doc specifies that \"use_as\" is \"Only for email fields\", not for choice.\nThe code says the same thing: https://github.com/bolt/bolt/blob/master/app/extensions/SimpleForms/extension.php#L587\n. ok fine, thanks\n. Sorry jadwigo, I don't understand what you mean ?\n. Thanks guys !\n. ",
    "chapmanjacobd": "ahh. Sweet. Thanks. This has been pretty easy to setup. Some documentation is sparse though.\n. ",
    "geevcookie": "This is with PHP 5.4.26 and NGINX btw.\n. Not sure about version, but using master branch on github. :)\n. Jip. Basically did a recursive clone and then overwrote the .git settings. How did you go about getting it on heroku? I had various issues with libicu and then opted to use this: https://github.com/CHH/heroku-buildpack-php\nAfter some investigation from my side I think the problem is with SCRIPT_NAME. Locally I am getting \"/index.php\", but on Heroku I am getting \"/bolt/user/edit/\". Because of this the \"end\" stays on \"frontend\".\n. So I finally managed to get Bolt deployed on Heroku (I blame my lack of experience with Heroku on it taking so long). Now I am getting the following error when creating a new page:\nAn exception occurred while executing 'SELECT id FROM bolt_pages ORDER BY datecreated DESC LIMIT 1;': SQLSTATE[42883]: Undefined function: 7 ERROR: operator does not exist: timestamp without time zone LINE 1: SELECT id FROM bolt_pages ORDER BYdatecreated` DESC LIMIT ... ^ HINT: No operator matches the given name and argument type(s). You might need to add explicit type casts.\n. ",
    "dbatteux": "Hi and thanks for your reply.\nI use Bolt 1.6.5\nTo reproduce, you need to have a new activity while you are viewing the dashboard.\n1) Logging in on IE => You see your log activity\n2) Logging in on Firefox => You don't see the log activity on IE (even after an async request)\n3) Refresh the page on IE by F5 => the Firefox log activity appears\n4) At the next async refresh, the Firefox log activity disappears.\nI hope you can reproduce with this explanation!\nThanks\nDavid\n. ",
    "h4cc": "I had a look and could not find any editconfig.twig template in base-2014.\nThe template is located at app/view/editconfig.twig but somehow not used by my twig.\n. > That's odd. Does the rest of the bolt backend work as it should?\nEverything works as expected, except the editconfig.twig template.\n. @tobias2k I would guess it might be a dependency bug, like twig oder tiwg bridge.\n. @tobias2k :thumbsup:\n. ",
    "JMPhillips92": "Ah, thanks @xiaohutai! Hadn't changed it from the default setting and my html is all provided in the _index.twig template without reference to an actual page. I just deleted the section after homepage: and it's worked! Thanks very much :)\n. ",
    "NetLancer": "seems cute! but let me try it in action first. Anticipating coming up true love for github issue things))!\n. ",
    "milesj": "While thinking more on this, the src should actually be a vendor package, instead of being bundled with the app. I can see this was mentioned in that other issue, so I will close this for now.\nThanks for an awesome project!\n. ",
    "whoacowboy": "I did try that and it did not work. \nMy thought would be that the call to related() without arguments would catch any related record.\n<h1>work.related()</h1>\n{{ print(work.related()) }}\nI tried adding the records with reverse relations as well which didn't work either.\n\n. Apparently it is useful to publish the records you wish to see.\nOnce published everything worked as expected.\n. ",
    "MelvinDRM": "Yes, but I want to avoid that because it doesn't make sense to show a 404 page if Bolt has this coded by default:\n```\n         {% if content %}\n            {% for record in records %}\n                \n                   /* Article estructure here /\n                \n                / Maybe more code ***/\n            {% endfor %}\n        {% else %}\n            \n                {% if search is defined %}\n                <p>\n                    {{ __(\"No results found for '%search%'. Please try another search.\", { '%search%': search|escape }) }}\n                </p>\n\n            {% else %}\n\n                <h3>No content found.</h3>\n\n                <p>\n                    Unfortunately, no content could be found. Try another page, or go to the\n                    <a href=\"{{ paths.root }}\">homepage</a>.\n                </p>\n\n            {% endif %}\n\n            {#\n            optionally, you can redirect the browser to another page. Just uncomment the next line to do so.\n            {{ redirect('/') }}\n            #}\n\n        </article>\n    {% endfor %}\n\n```\n... If you check for content, why not showing the code for it.\nAlso, there is this {% endfor %} and the very end that doesn't add up, according to indentation it should be {% endif %} since it's the closure of the {% if content %}\n. I understand what you say, however it still doesn't make sense since above that code you already check if the taxonomy is defined or not so Bolt \"can know\" what is listing. This piece of code I'm show checks whether there is content or not, and if there isn't (which is my case) then it checks if you are doing or not a search, if it is a search then shows the proper message, and if it is not a search it shows the proper message (which is my case).\nSo if my case doesn't enter in that \"else\" (which as far as I understand in the code it should enter there), what cases does this else cover?\n. ",
    "realitygaps": "Just noticed some bugs in my logic, I checked for context.filegroup, which would include the current file. So I'll add a check for context.filegroup|length > 1 before showing the related files text. Otherwise it will show the text (minus the button) on every page.\nRelated to this I also realised that the .dist files are still coming from the Backend.php and should probably be removed from there if they are not going to be editable. Then the logic excluding .dist files can also be removed from the editfile.twig. Was there another reason for leaving the .dist file in the filegroup?\n. Ive added a view site button to the sidebar beneath the dashboard button in https://github.com/realitygaps/bolt/commit/c1e2c27e395ec2185cc9ca989f6abe2f110504ad, now just have to figure out how to make it only show when its hidden in the top navbar.\n. ",
    "sbliss": "Thanks @rossriley - I added zend_extension = opcache.so to the php.ini file and all is well.\n. ",
    "credomane": "@bacbos Let's say bolt is accessible from http://example.org/some/uri/\nWithout the submenu patch any submenu past the first will not work because \"bolt\" links resolve to http://example.org/pages/really-cool-page instead of http://example.org/some/uri/pages/really-cool-page\nI came across this problem while testing bolt in a sub-directory on my site. I think even moving it to the root I still have the problem from some links. I'll see if I can work up a proof-of-concept menu.yml tonight.\n[edit]\nOops...ctrl+enter submits. Doing too much at once this morning.\n. Here is a log of mysql exiting from the thumbnail generation. 20:07:01 is when I restarted mysql after the most recent \"crash\" before discovering the cause. The minute between the startup and the \"crash\" at 20:28:10 is when I was making, editing, deleting a page and a few other things to see if it crashed. I went back to the file upload page and noticed the memory usage instantly max out in my terminal window and mysql exit a few seconds later.\nSome Googling around says php-gd loves memory and if you have a few concurrent thumbnails being generated you will chew through your ram in nano seconds. :(\nOct 31 20:07:01 debdevvm mysqld_safe: Starting mysqld daemon with databases from /var/lib/mysql\nOct 31 20:07:01 debdevvm mysqld: 141031 20:07:01 [Warning] Using unique option prefix key_buffer instead of key_buffer_size is deprecated and will be removed in a future release. Please use the full name instead.\nOct 31 20:07:01 debdevvm mysqld: 141031 20:07:01 [Warning] Using unique option prefix myisam-recover instead of myisam-recover-options is deprecated and will be removed in a future release. Please use the full name instead.\nOct 31 20:07:01 debdevvm mysqld: 141031 20:07:01 [Note] Plugin 'FEDERATED' is disabled.\nOct 31 20:07:01 debdevvm mysqld: 141031 20:07:01 InnoDB: The InnoDB memory heap is disabled\nOct 31 20:07:01 debdevvm mysqld: 141031 20:07:01 InnoDB: Mutexes and rw_locks use GCC atomic builtins\nOct 31 20:07:01 debdevvm mysqld: 141031 20:07:01 InnoDB: Compressed tables use zlib 1.2.7\nOct 31 20:07:01 debdevvm mysqld: 141031 20:07:01 InnoDB: Using Linux native AIO\nOct 31 20:07:01 debdevvm mysqld: 141031 20:07:01 InnoDB: Initializing buffer pool, size = 128.0M\nOct 31 20:07:01 debdevvm mysqld: 141031 20:07:01 InnoDB: Completed initialization of buffer pool\nOct 31 20:07:01 debdevvm mysqld: 141031 20:07:01 InnoDB: highest supported file format is Barracuda.\nOct 31 20:07:01 debdevvm mysqld: 141031 20:07:01  InnoDB: Waiting for the background threads to start\nOct 31 20:07:02 debdevvm mysqld: 141031 20:07:02 InnoDB: 5.5.40 started; log sequence number 5384771\nOct 31 20:07:02 debdevvm mysqld: 141031 20:07:02 [Note] Server hostname (bind-address): '127.0.0.1'; port: 3306\nOct 31 20:07:02 debdevvm mysqld: 141031 20:07:02 [Note]   - '127.0.0.1' resolves to '127.0.0.1';\nOct 31 20:07:02 debdevvm mysqld: 141031 20:07:02 [Note] Server socket created on IP: '127.0.0.1'.\nOct 31 20:07:02 debdevvm mysqld: 141031 20:07:02 [Note] Event Scheduler: Loaded 0 events\nOct 31 20:07:02 debdevvm mysqld: 141031 20:07:02 [Note] /usr/sbin/mysqld: ready for connections.\nOct 31 20:07:02 debdevvm mysqld: Version: '5.5.40-0+wheezy1'  socket: '/var/run/mysqld/mysqld.sock'  port: 3306  (Debian)\nOct 31 20:07:03 debdevvm /etc/mysql/debian-start[17374]: Upgrading MySQL tables if necessary.\nOct 31 20:07:03 debdevvm /etc/mysql/debian-start[17378]: /usr/bin/mysql_upgrade: the '--basedir' option is always ignored\nOct 31 20:07:03 debdevvm /etc/mysql/debian-start[17378]: Looking for 'mysql' as: /usr/bin/mysql\nOct 31 20:07:03 debdevvm /etc/mysql/debian-start[17378]: Looking for 'mysqlcheck' as: /usr/bin/mysqlcheck\nOct 31 20:07:03 debdevvm /etc/mysql/debian-start[17378]: This installation of MySQL is already upgraded to 5.5.40, use --force if you still need to run mysql_upgrade\nOct 31 20:07:03 debdevvm /etc/mysql/debian-start[17392]: Checking for insecure root accounts.\nOct 31 20:07:03 debdevvm /etc/mysql/debian-start[17397]: Triggering myisam-recover for all MyISAM tables\nOct 31 20:08:10 debdevvm mysqld_safe: Number of processes running now: 0\nOct 31 20:08:10 debdevvm mysqld_safe: mysqld restarted\nOct 31 20:08:10 debdevvm mysqld: 141031 20:08:10 [Warning] Using unique option prefix key_buffer instead of key_buffer_size is deprecated and will be removed in a future release. Please use the full name instead.\nOct 31 20:08:10 debdevvm mysqld: 141031 20:08:10 [Warning] Using unique option prefix myisam-recover instead of myisam-recover-options is deprecated and will be removed in a future release. Please use the full name instead.\nOct 31 20:08:10 debdevvm mysqld: 141031 20:08:10 [Note] Plugin 'FEDERATED' is disabled.\nOct 31 20:08:10 debdevvm mysqld: 141031 20:08:10 InnoDB: The InnoDB memory heap is disabled\nOct 31 20:08:10 debdevvm mysqld: 141031 20:08:10 InnoDB: Mutexes and rw_locks use GCC atomic builtins\nOct 31 20:08:10 debdevvm mysqld: 141031 20:08:10 InnoDB: Compressed tables use zlib 1.2.7\nOct 31 20:08:10 debdevvm mysqld: 141031 20:08:10 InnoDB: Using Linux native AIO\nOct 31 20:08:10 debdevvm mysqld: 141031 20:08:10 InnoDB: Initializing buffer pool, size = 128.0M\nOct 31 20:08:10 debdevvm mysqld: InnoDB: mmap(137363456 bytes) failed; errno 12\nOct 31 20:08:10 debdevvm mysqld: 141031 20:08:10 InnoDB: Completed initialization of buffer pool\nOct 31 20:08:10 debdevvm mysqld: 141031 20:08:10 InnoDB: Fatal error: cannot allocate memory for the buffer pool\nOct 31 20:08:10 debdevvm mysqld: 141031 20:08:10 [ERROR] Plugin 'InnoDB' init function returned error.\nOct 31 20:08:10 debdevvm mysqld: 141031 20:08:10 [ERROR] Plugin 'InnoDB' registration as a STORAGE ENGINE failed.\nOct 31 20:08:10 debdevvm mysqld: 141031 20:08:10 [ERROR] Unknown/unsupported storage engine: InnoDB\nOct 31 20:08:10 debdevvm mysqld: 141031 20:08:10 [ERROR] Aborting\nOct 31 20:08:10 debdevvm mysqld:\nOct 31 20:08:10 debdevvm mysqld: 141031 20:08:10 [Note] /usr/sbin/mysqld: Shutdown complete\nOct 31 20:08:10 debdevvm mysqld:\nOct 31 20:08:10 debdevvm mysqld_safe: mysqld from pid file /var/run/mysqld/mysqld.pid ended\n. And I'm a moron. The vm I setup to test 2.0.0 beta2 didn't have a swapfile at all because I got too excited and didn't pay attention to what I was doing. After giving it a swap file and even attempting to DOS using the thumbnail generation I could barely get 100MB moved to the swap file. Where on average <30mb would go to the swap file with normal usage. I'm just a dum-dum that can't set up a Virtual Machine properly.\nClosing this ticket because I'm a moron and it was my own fault it broke. My test VM has 512MB RAM vm with a 256MB swapfile, btw.\n. Depending on the content type removing the bottom buttons will force you to scroll back to the top in order to save/preview. I wouldn't mind the removal if the right side-bar stayed on screen, though.\nI'd love it if the top navbar and both side bars stayed frozen on screen and just the center column scrolled. :D\n. From what I tested this message occurs when the translation folder doesn't exist. I get a different error when the folder exists but the file \"can't\" be created.\nThe file 'app/resources/translations/en_US/messages.en_US.yml' is not writable. You will have to use your own editor to make modifications to this file.\nThe file /can/ be created and written to by bolt but bolt refuses to do either and shows this error. If I manually make the file too then everything works perfectly fine. I assume this is from the change you mentioned?\n[edit]\nThis was tested against the current master commit.\n. While attempting to edit translations -> messages or translations -> contenttypes give the error I showed above. If I try to edit translations -> Long Messages gives the below  Whoops \\ Exception \\ ErrorException (E_WARNING):\nfile_get_contents(/home/www/dev3/html/app/resources/translations/en/infos.en.yml): failed to open stream: No such file or directory\nMake note of the change from en_US to en\n. Sweet!\nI was re-testing my two other bug reports against the master tree and came across this bug myself. investigated then search got issues on it and found this one. Decided I might as well post what I found.\n. Oh. I grabbed bolt-2.0.0-beta2.tar.gz from http://bolt.cm/distribution/ which had Oct-30 for the date roughly 24 hours ago. Today that file is gone and bolt-2.0.0-beta2-pl1.tar.gz took its place with Nov-3 for the date.\nI'll poke around with the new beta and see what i can find.\n. Hm...Still having the issue with the new beta. I'll try grabbing the absolute newest from git....like I should be doing in the first place for reporting bugs against a beta. :/\n. Using the bolt-master commit https://github.com/bolt/bolt/commit/858688f1233c2458a0a434f4d23ea452db87fec2 still throws this exception.\n. - Apache/2.4.10 (Debian)\n- php version 5.6.0+dfsg-1\n- Mysql server 5.5.40-0+wheezy1 (Debian)\n- Mysql php client version: libmysql - mysqlnd 5.6.0+dfsg-1\n- Bolt DB is InnoDB as originally created by bolt 1.6.4.\n- composer.json says  \"doctrine/dbal\": \"~2.4\"\nThis is the bolt_cron table structure from my 1.6.x backup that causes the exception.\nsql\nCREATE TABLE IF NOT EXISTS `bolt_cron` (\n`id` int(11) NOT NULL,\n  `interval` varchar(16) COLLATE utf8_unicode_ci NOT NULL,\n  `lastrun` datetime NOT NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=1 ;\nALTER TABLE `bolt_cron`\nMODIFY `id` int(11) NOT NULL AUTO_INCREMENT;\n[edit]\nOops. Grabbed the copied wrong version for php.\n. Think I found part of the issue. in editfile.twig there is this line:\n{% if context.pathsegments|length > 1 %}\nThe problem is that when editing a file in the root of a theme folder the context.pathsegments is exactly 1. Changing this to 0 causes the breadcrumbs to appear. The best fix would be correct theme not appearing in the context.pathsegments at all and leave that line I mentioned alone. I'll keep poking around some more.\n. Do believe I got it! I kept comparing files/files.twig to editfile/editfile.twig seem they both have different pieces of code that are intended to do the same thing. Only editfile.twigs version doesn't seem to work as intended.\nCherry pick @rossriley's commit https://github.com/rossriley/bolt/commit/9c481dbd30455a38910dc0bce78f667f2a2bfd9a\nthen edit /editfile/editfile.twig and put this line near the top somewhere \n{% from '_macro/_files_path.twig' import files_path %}\nThen replace this entire section\n{% if context.pathsegments|length > 1 %}\n            <p>{{ __('page.edit-file.path') }}\n                {% for path, segment in context.pathsegments %}\n                    {% if not loop.first %} / {% endif %}\n                    <a href=\"{{ path('files', {'path': path}) }}\">{{ segment }}</a>\n                {% endfor %}\n            </p>\n        {% endif %}\nwith this one liner:\n{{ files_path(context.pathsegments, context.namespace, {'path': '', 'namespace': context.namespace}) }}\nNow the breadcrumbs are working perfectly when editing a file and the theme folder is there too!\nHere are the results:\n\n\nUnfortunately I don't know github well enough to add my edits to this pull request or if I even can. :/\n. ",
    "ckdarby": "Would this be a good point to start following PSR2 for the PHP_CodeSniffer ruleset?\n. Well then, lets close this issue up good sir @bobdenotter .\n. As of 9563674 I can confirm that there's at least no logic has changed from what I can see and nothing fishy being added into the code base.\nPersonally(I can't speak on behalf of @bobdenotter) but I'd much rather smaller pull request than these because these take more than a glance of looking to make sure that these are solid.\n. @rossriley doesn't sleep; Only knows how to code :)\n. ",
    "mavken": "Cool.  The channel is registered... If you are a contributor, feel free to let me know your nick so I can add you as an op to update topic/greeting/etc.\n. ",
    "khromov": "An alternative way of doing grouped fields would be to be able to embed the creation of a secondary content type from the edit page of the first.\nExample:\nType 1: Dog\nType 2: Picture\nWhen users add/edit a Dog, we let them seamlessly add the Picture content type to their Dog. Now Picture can have any number of fields and be easily attached to the primary content type and they can use the standard relationship model. There are similar implementations for this in both WordPress and Drupal so I just thought I'd suggest it as an alternative.\n. @bobdenotter WordPress is still the most widely used open source CMS. While some people dislike its source code quality I think there's no doubt that having feature parity with WP is a minimum for any CMS to be successful. (Unless going for a nich\u00e9 angle, which I don't see Bolt doing)\nI'm only voicing this because I agree fully with @marthings - not having repeating field groups is a non-starter for me in most projects.\n. ",
    "marthings": "Howdi! This would be totally awesome. I\u00b4d definitely try bolt over wordpress with (ACF) instead if this existed..i think :)\n. I agree! I like Bolt and have tried it on some local projects (looking forward to see bolt 2.0!) but this is something i miss :)\n. ",
    "hiiTo": "@bobdenotter You could lay them out just like a 'puter does with arrays in memory. I.e. one item after another.\nImagine that entry 0-659 are regular database entries, like they exist now. Then there's an array with 30 items where the first item might be the actual array name/title/id and hold the length of the array. Then you would have 731 entries. Gathering and searching should be no different from before.\nI have only used bolt for a few days. Not looked at it's nuts and bolts (pun lol), so this is purely from a programmers perspective and from what I've read in this discussion.\n. ",
    "miguelramos": "Even in the current master branch this error is active. What is the configuration for thumbs on nginx and apache? \n. ",
    "mTrCarlos": "Hello,\nIm working on Windows so I can't run that command. Anyways I think I got the language installed, because when creating a test page with this code, all its working fine:\nsetlocale(LC_ALL, 'es-ES');\n$dateString = \"%d de %B, %A\";\necho strftime($dateString);\nI was looking for a way to show all the language installed via command line, but seems that Windows is lacking it.\nEdit: I'm using Xammp as my local server for the first time. I was using appserv till now. Not sure if it matters to be honest, but maybe I'm missing something with his configuration.\nAlso its working fine on my remote test server (this one is running on Linux, ofc). So it seems to be a bad configuration on my local server, or something that microsoft did wrong lol. I think you can close the issue, cause seems its my fault and not yours. Just wondering if someone had the same issue and could solve it.\nHope it can help.\n. Worked like a charm! Thanks for sharing your fix burki.\nI setted esp_esp and renamed the files and directory, and its working now.\nI'll try it on my linux server when I can, to see if it works there too with the 3-letters locales. Even if its working fine now with just es_ES. \nThanks again for all your support guys. Really appreciated!\n. ",
    "clasense4": "Hi,\nI got a same problem too, but I can't work on linux (centos), but it work on windows (xampp 1.8.3).\nI want to translate into Indonesia, on my windows I set locale: id_IND and working fine.\nBut when I set to centos, it won't work, I already set it into id_ID.\nI have try this snippet (below) from PHP.net Documentation, and here is some output.\n```\n<?php\nsetlocale(LC_TIME, \"C\");\necho strftime(\"%A\");\nsetlocale(LC_TIME, \"fi_FI\");\necho strftime(\" in Finnish is %A,\");\nsetlocale(LC_TIME, \"fr_FR\");\necho strftime(\" in French %A and\");\nsetlocale(LC_TIME, \"de_DE\");\necho strftime(\" in German %A and\");\nsetlocale(LC_TIME, \"id_ID\");\necho strftime(\" in Indonesia %A.\\n\");\n?>\n[ ~ ]# locale -a | grep ID\nid_ID\nid_ID.iso88591\nid_ID.utf8\n[ ~ ]# locale\nLANG=id_ID.UTF-8\nLC_CTYPE=\"id_ID.UTF-8\"\nLC_NUMERIC=\"id_ID.UTF-8\"\nLC_TIME=\"id_ID.UTF-8\"\nLC_COLLATE=\"id_ID.UTF-8\"\nLC_MONETARY=\"id_ID.UTF-8\"\nLC_MESSAGES=\"id_ID.UTF-8\"\nLC_PAPER=\"id_ID.UTF-8\"\nLC_NAME=\"id_ID.UTF-8\"\nLC_ADDRESS=\"id_ID.UTF-8\"\nLC_TELEPHONE=\"id_ID.UTF-8\"\nLC_MEASUREMENT=\"id_ID.UTF-8\"\nLC_IDENTIFICATION=\"id_ID.UTF-8\"\nLC_ALL=id_ID.UTF-8\n[ ~ ]# sl\n-bash: sl: perintah tidak ditemukan\n[ ~ ]# php php_locale.php\nWednesday in Finnish is keskiviikko, in French mercredi and in German Mittwoch and in Indonesia Rabu.\n[ ~ ]# httpd -v\nServer version: Apache/2.2.15 (Unix)\nServer built:   Aug 13 2013 17:29:28\n[ ~ ]# php -v\nPHP 5.4.31 (cli) (built: Jul 24 2014 09:24:28)\nCopyright (c) 1997-2014 The PHP Group\nZend Engine v2.4.0, Copyright (c) 1998-2014 Zend Technologies\n[ ~ ]# php -m | grep intl\nintl\n```\nNote :\n1. On windows I use PHP 5.5.3, Apache 2.4.4, XAMPP 1.8.3\n2. php_locale.php script work on CLI and CGI\n3. I remove .git folder, so I can only said I use bolt 1.6.5 (by looking debug bar on below)\n4. With same version of bolt (and same bolt code), it works on windows but didn't work on centos\n5. On centos, it only work on the site, but didn't work on admin area (\\bolt)\nWhat am I missing?\n@mTrCarlos I have no problem with es_ES translation, it works on mine.\nAny help would be appreciated. Thanks.\n. ",
    "burki": "I had the same problem in German.\nWindows seems to prefer three-letter locales (see http://msdn.microsoft.com/en-us/library/39cwe7zf%28v=vs.90%29.aspx). By setting\nlocale: deu_deu\nand copying\ntranslations/de/xy.de.yml\nto\ntranslations/deu/xy.deu.yml\nI got localdate() to work on Windows.\n. ",
    "xijia37": "Sorry, my bad, I should have pulled before submited this issue\n. Yep\n. ",
    "Seraf": "Hello @GawainLynch, it's exactly what I need : \nI want users login with github and create content on frontend in a dedicated form. According to the readme, your extension seems to be what I need.\nCan you tell me if it's working and can I use it ?\nThanks for your work !\n. Thanks for the info. I'm currently working on my project and it's an opensource project so without critical business, I guess I can use bolt2.0.\n. Hi,\nDidn't seen this problem since a long, I think we can close this issue.\nThanks !\nOn Tue, Oct 7, 2014 at 10:38 AM, Gawain Lynch notifications@github.com\nwrote:\n\n@Seraf https://github.com/Seraf I think this has been fixed, can you\nconfirm that you're not seeing it any longer?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/bolt/bolt/issues/1724#issuecomment-58153335.\n\n\nJulien Syx\nIng\u00e9nieur Syst\u00e8mes & R\u00e9seaux\n. ",
    "lswest": "The \"files\" folder is chmod 777, and is also where the upload area uploads files to (which works fine).  The console in Chrome also doesn't show any errors.  Is there any way to enable a verbose log file for the upload process in Bolt?\n. Thank you for the image.  I discovered that the upload function results in the error page about magic_quotes (even though they're disabled by a local php.ini file already).  I'll see if I can assign some version of PHP 5.4 to this domain from the webhost, which should hopefully solve the issue (as, as far as I know, magic_quotes were removed completely in 5.4).\n. Switching to 5.4.8 has fixed it now for me, so I'll close this.  Thanks again for your time & patience!\n. ",
    "choomz": "Thanks :-)\nYeah i noticed the 2.0 roadmap and the 1.x feature freeze. \nOf course, i'll add them to the market place. \nThanks for your work. \n\nLe 28 ao\u00fbt 2014 \u00e0 19:29, Bob den Otter notifications@github.com a \u00e9crit :\nHi, thanks! As you might know we're really hard at work on getting Bolt 2.0 released. In 2.0 it'll be pretty easy to have an extension in your own Git repo, and people will be able to install it from thebackend of Bolt. Once the docs are done, you should definitely update your extensions, and put them in the extensions marketplace! ^_^\n\u2014\nReply to this email directly or view it on GitHub.\n. Thanks guys for all those informations.\n\nI'll upgrade when the v2 will be ready :-) This stuff (https://github.com/bolt/bolt/wiki/Bolt-Extensions:-Converting-1.x-extensions-to-work-in-version-2) looks pretty cool.\nI'm of course interested in v2, but actually, too busy with other work :) So I think i'll wait for a public release.\nCheers\n. ",
    "isularifin": "thanks a lot all.\n. ",
    "nchpmn": "I've gone through with some apps before that use PHP Markdown, and simply swapping out the markdown.php for the markdownExtra.php, but peering into Bolt's implementation of Parsedown... yea, way beyond my level.\n. @rossriley I see the same as the failing error, line 16.\n. ",
    "versh23": "see #1658 \n. first, it will be easier to create a Lib class and to make from it shared service\n$app['lib'] = $app->share(function () {\n    return new Lib();\n});\n. as i know, these pages have a canonical link, so it's ok for seo\n. try \nblock:\n    type: select\n    values: [ Left, Middle, Right ]\n. i think it`s relation with https://github.com/bolt/bolt/commit/ab62746\nits must be like this $infosfilename = $paths['apppath'] . '/resources/translations/en/infos.en.yml';\nUPD: What about fallback translation ?\n. +1 for include converter in setPath(); something like that return (PHP_OS == 'WIN') ? convert(path) : path; nix style in default\nBut there are many places with path which generated by concating\n$path .= '/add/path';\n. agreed; its temporary\n. it will be better with bolt 2.0\n. thank you! \n. cool ! testing on windows begin.\n. @rixbeck sure. tomorrow check it out\n. @rixbeck , im trying to use this PR. \ntestCacheDirLocation() cant pass and there is problem here https://github.com/bolt/bolt/blob/master/src/BaseExtension.php#L53 i think..\nthis line not working correct https://github.com/bolt/bolt/blob/master/src/BaseExtension.php#L71\nbecause \n$this->app['resources']->getPath('extensions') = 'D:/bolt/extensions'\n    $this->basepath = 'D:\\bolt\\extensions\\local\\versh23\\bolt-codeHighlight'\nand generated url is \nhttp://192.168.6.85:8800/extensions/D:/bolt/extensions/local/versh23/bolt-codeHighlight/assets/styles/shThemeDefault.css\n. @rixbeck disqus dont have a assets. try to add some assets in initialize() and see url assets on page\n. do u test an assets ? @rixbeck \n. :+1: \n. why not?\n$order = $this->app['config']->get('general/taxonomy_sort', 'ASC');\n. @bobdenotter why? we get a param \"taxonomy_sort\" as is and save it in $order; if parameter is not set, we get default sorting;\nso we can catch all 'desc' , 'DESC', 'ASC', 'asc' ordering \nas i know , uppercase not important in this case\n. it will be strange to use inject by administrator, but ok, i'm understand your thinking\n. :+1: \n. for micro perfomance, ordering can be disable in config.yml\n. what about 5.3 compatibility ? we can use create_funciotn() instead closure\nUPD: sorry, its ok\n. ",
    "kanedo": "I\u2019m not suggesting that bolt should implement the functionality. I would like to access the data which is already gathered by bolt (the css and js files of every extension) in a more accessible way.\nMy goal is to generate a list of used asset files of a bolt project\n. ",
    "ArdKuijpers": "No, I don't use {% setcontent %}. I am using the default routes and just copied the  base-2014 theme to my own theme but haven't changed the taxonomy processing. If I am making the right interpretations, then the debug bar is telling me that (default) listing.twig is used to list the taxonomy.\n. Did a pull and tested it: works. Thanks a lot!\nI'm learning a lot of git here (coming from a SVN background).\nI tried to look into the code myself but debugging PHP with Eclipse/XDebug was not working as I expected. I set a breakpoint in makelink but this was never hit. Does it have to do with the dependency injection and/or caching mechanism that is used? If so, is there a tutorial or explanation somewhere to show me how to set up a development environment? What are you guys using? Could be a topic for the wiki.\n. ",
    "jackmakiyama": "I continue having a problem with this... We need really of sufix?\n. @bobdenotter \nhere just work: http://box/categories/events?page=2\n. This PR improved to this issue: https://github.com/bolt/bolt/commit/eee4a9ee4f4044f98cb7221a31a8e50b73f7e99a#diff-6ef5ef5eb2bfa427ae9ae38fcc702ed1R1257\n. I can fix this.\nThe correct is https://extensions.bolt.cm/?\n. Solved on #2298.\n. sorry, my fault, fixed.\n. ",
    "smpcasgit": "hi bobdenotter,\nthank you for showing me the right direction.\ni solved it like that\n\n  ServerAdmin webmaster@bolt.local\n  ServerName 16101.bolt.local\n  DocumentRoot /data/www/www.bolt.local/16101/\n  \n    Options FollowSymLinks\n    AllowOverride All\n  \n\n    Options Indexes FollowSymLinks MultiViews\n    AllowOverride All\n    Order allow,deny\n    allow from all\n  \n  ErrorLog \"/var/log/httpd/bolt.error.log\"\n  TransferLog \"/var/log/httpd/bolt.access.log\"\n\n\n  ServerAdmin webmaster@bolt.local\n  ServerName 16102.bolt.local\n  DocumentRoot /data/www/www.bolt.local/16102/\n  \n    Options FollowSymLinks\n    AllowOverride All\n  \n\n    Options Indexes FollowSymLinks MultiViews\n    AllowOverride All\n    Order allow,deny\n    allow from all\n  \n  ErrorLog \"/var/log/httpd/bolt.error.log\"\n  TransferLog \"/var/log/httpd/bolt.access.log\"\n\nand so on\nthank you\n. ",
    "ashleyhindle": "Super fixed\n. https://github.com/bolt/bolt/pull/1906 fixes this\n. https://github.com/bolt/bolt/pull/1893 closes this\n. ",
    "rcwsr": "No js errors. When you submit the form you're redirected to /contact#\n. Just realised I'm using 2.0.0 as I cloned master. Is there a compatibility issue between this and Simpleforms?\n. Other than this, 2.0.0 is working great. Yes, Simpleforms is installed via the Extras page. The form itself displays fine.\nMy routing looks like this:\n``` yaml\nExample override for a specific contenttype\ncontactbinding:\n  path: /contact\n  defaults: { _controller: 'Bolt\\Controllers\\Frontend::record', 'contenttypeslug': 'contact', 'slug': 'contact' }\n  recordslug: contact-page/contact\n  methods:  [POST,GET]\n------------------------------------------------------------------------------\nThese are the routes defining the default behaviour of Bolt's frontend.\nChanging these might give unexpected results or even break your website. If\npossible, only add NEW routes above or below these.\nhomepage:\n  path:               /\n  defaults:           { _controller: 'Bolt\\Controllers\\Frontend::homepage' }\nsearch:\n  path:               /search\n  defaults:           { _controller: 'Bolt\\Controllers\\Frontend::search' }\npreview:\n  path:               /preview/{contenttypeslug}\n  defaults:           { _controller: 'Bolt\\Controllers\\Frontend::preview' }\n  requirements:\n    contenttypeslug:  'Bolt\\Controllers\\Routing::getAnyContentTypeRequirement'\ncontentlink:\n  path:               /{contenttypeslug}/{slug}\n  defaults:           { _controller: 'Bolt\\Controllers\\Frontend::record' }\n  requirements:\n    contenttypeslug:  'Bolt\\Controllers\\Routing::getAnyContentTypeRequirement'\ntaxonomylink:\n  path:               /{taxonomytype}/{slug}\n  defaults:           { _controller: 'Bolt\\Controllers\\Frontend::taxonomy' }\n  requirements:\n    taxonomytype:     'Bolt\\Controllers\\Routing::getAnyTaxonomyTypeRequirement'\ncontentlisting:\n  path:               /{contenttypeslug}\n  defaults:           { _controller: 'Bolt\\Controllers\\Frontend::listing' }\n  requirements:\n    contenttypeslug:  'Bolt\\Controllers\\Routing::getPluralContentTypeRequirement'\n------------------------------------------------------------------------------\nPlace your own routes here, that have a LOWER priority than the default routes.\npagebinding:\n  path: /{slug}\n  defaults: { _controller: 'Bolt\\Controllers\\Frontend::record', 'contenttypeslug': 'section-page' }\n  contenttype: pages\n```\nEven removing my two custom routes (above and below the default routes), the behaviour is the same.\n. I wish I knew what happened, but the contact form has now started working.\n. ",
    "villelahdenvuo": "I'm also puzzled by this. I commented out calls to flock from lib.php and timthumb.php and the CMS works just fine.\nI can see it could cause problems, and I will try to contact the hosting provider about the issue. But if they can't lift the restrictions, it would be nice to be able to toggle that with a configure switch so it won't be overridden in an update every time.\n. Unfortunately I can't contact the hosting provder until next week. I do not have the right credentials yet and I'm not going to call their paid support line. I will keep you posted when I hear back from the hosting provider.\n. ",
    "MartinWillitts": "Sorry, I no longer have it. My client\n  does not need that feature I was creating anymore.Martin Willitts\nmobile: +44 7903 163 102\nskype:  MartinWillitts\nemail:  martin@martinwillitts.com\n      On 03/10/2014 16:31, Bob den Otter wrote:\nCould you paste the entire permissions.yml file here, so we can\n    see what's going on here? \n  \u2014\n    Reply to this email directly or view\n      it on GitHub.\n  {\"@context\":<a class=\"moz-txt-link-rfc2396E\" href=\"http://schema.org\">\"http://schema.org\"</a>,\"@type\":\"EmailMessage\",\"description\":\"View this Issue on GitHub\",\"action\":{\"@type\":\"ViewAction\",\"url\":<a class=\"moz-txt-link-rfc2396E\" href=\"https://github.com/bolt/bolt/issues/1791#issuecomment-57812146\">\"https://github.com/bolt/bolt/issues/1791#issuecomment-57812146\"</a>,\"name\":\"View Issue\"}}\n. ",
    "silentworks": "I quit being a developer right now. I can't believe I didn't think about checking that first. Thank you @xiaohutai you have helped me become a better developer.\n. Yes its still an issue and yes its actionable. I was waiting on 2.0.0 to be released first, will send a PR in coming weeks.\n. ",
    "kbariotis": "Yes it is close to finished. Do we have a roadmap?\n. @GawainLynch Greek translation is almost 90%. Should i leave it like this for the beta release?\n. I would say that it makes it hard for Windows based developers to contribute to the Bolt's core.\nEven though, it surprises me that no one ever noticed that the tests are failing. Are there any Windows based Bolt developers?? :/ \n. I will tested as soon as possible.\n. Excellent work guys. I am confirming that phpunit on root directory works and passes all tests.\nThe TestRunner command fails cause of the which command.\nKostas@KOSTAS-PC /c/www/bolt (master)\n$ php app/nut tests:run\n'which' is not recognized as an internal or external command,\noperable program or batch file.\nNo PHPUnit test runner found in the vendor dir or your path\nSince everything is merged in i am closing this thread.\nCheers. :+1: \n. Sorry for the typo.\n@rarila i kinda lost you? Do you need me to just map the already existing keys with the proper translations?\n. :+1: \n. ",
    "phpetra": "Hi Tobias2k,\nThe quotes actually don't make any difference at all. They were just left in the example because that was the first thing I tried ;-)\nYou can of course re-check, but there's no need.\n. Hi Tobias,\nI totally agree that it would be safer to leave the SET CHARACTER names out of it and just use the SET NAMES.\nBut leaving them in, in the order I proposed doesn't hurt existing functionality and does get rid of the error.\nI'll ceate the patch like that.\n. ",
    "HonzaMikula": "Thanks. Is there manual how to install it. Because if I am in administration of Bolt and click on Extras > View/Install extension I get error:\nfile_get_contents(C:\\Moje\\WWW\\honzamikula/extensions/composer.json): failed to open stream: No such file or directory\n. I think server has permisson to write. Because extension folder has these permission drwxr-xr-x.\n. I'm on Windows. I run chmod -R 777. And it still doesn't work. I have no idea, how otherwise change permissions...\n. Ok. Thanks.\n. Any progress here? Thanks.\n. Yeah, I noticed the discussion. Thanks for great work. You can close this issue if you want.\n. Do you use latest version? Because I think I have the same issue like week ago, but then someone fix that.\n. ",
    "moleCuleFFF": "I agree with rarila https://github.com/bolt/bolt/commit/5432426e2ed703354f8c2f9bd5a186632b43f6fa seems like an unnecessary addition.\nThe key is often not human readable, eg an html class or id. There seems no point in including this in the viewable option.\n. ",
    "phazen": "Digging around on here I see this is a possible to-do addition to Bolt. Given that it sounds like it'd possibly come at a performance cost (and performance was a big pro for going bolt,) I would rather just work around the limitations of this. I'm just going to change url structures for this new bolt version of the website.\n. Interesting, this gives me a lot to play with. Thanks!\n. I'm actually not trying to update the content in DB, only to add or modify the 'record' array so that the theme files display the modified content. Anyone have an idea how to update the 'record' array from an extension so that the theme files see it? ( modifying and returning $this->app['twig']->getGlobals('record') from extension )\n. Alright -- did that, is there a new way to activate the extensions? I'm not seeing them in Bolt control panel\n. Hmm, they are not activated, I still see \"the function 'function_name' does not exist in...\" and I had no problems with this pre-2.0\n. Excellent - thanks! I'm able to use my extensions now. The only weird problem I'm having now is my config file isn't showing anything when I print out $this->config. I just get an empty array(0) { }\n. Nevermind -- got it. Needed to add \".dist\" to the end of the file name. \n. I've actually noticed this problem with local extensions. I have to manually update config.yml.dist as config.yml doesn't do anything.\n. ",
    "tk421": "You are right. I will upgrade the configuration with bolt 2.0.\n. Configuration has been upgraded to Bolt 2.0\n. ",
    "gwbonline": "I also use the packaged beta... When a newer version is available, I \nwill install it immediately. Thanks!\ngwbonline\nBob den Otter schreef op 2014-10-24 12:35:\n\nDid some testing, i'm pretty sure it's fixed. @gwbonline [1] and\n@mattiaslundback [2]: Are you a version from git, or on the packaged\nbeta? we'll release an updated package.\n\nReply to this email directly or view it on GitHub [3].\nLinks:\n[1] https://github.com/gwbonline\n[2] https://github.com/mattiaslundback\n[3] https://github.com/bolt/bolt/issues/1935#issuecomment-60370884\n. I already had the file permissions set the right way. The server log \nsays:\n\nFatal error: Cannot redeclare \nIcecave\\Isolator\\Isolator0::ioncube_read_file() in \n/var/www/domains/willembosma.nl/www/bolt/vendor/icecave/isolator/src/Isolator.php(44) \n: eval()'d code on line 812\n. I haven't enabled any extension manually. There may be some enabled by \ndefault, but after installation of Bolt I haven't touched the extensions \npart of the cms myself.\n. @vimishor: do you still need an archive of my Bolt installation after \nwhat Bob said? After the installation of Bolt (beta 1), all I did was \ncreate a new admin account, set the language and published some content. \nI then installed beta 2 over it and after that all I saw where blank \npages. I tried to solve it myself, but this is to difficult for me... \nSorry. I get the idea how to create a new website with Bolt though (I \nsee this separated from all what is happening under the hood of the \ncms).\n. @vimishor: Ok. Check your email. I don't know if you can extract personal information with the files. If you can, please be careful with it. \n. This was not possible, because I couldn't log in. I tried this just now via ftp. I was able to clear the cache, but this results in the same error as mentioned in the beginning. I still can't log in or view the website.\n. I will delete the whole installation an start from scratch. Hopefully it will solve the problems. I also asked my hosting company about PHP and Apache. \n. It didn't help... I still get the error:\nFatal error: Cannot redeclare Icecave\\Isolator\\Isolator0::ioncube_read_file() in /var/www/domains/willembosma.nl/www/bolt/vendor/icecave/isolator/src/Isolator.php(44) : eval()'d code on line 812\nNow I'm waiting for my hosting company to respond. I hope it is something else, so I can run Bolt 2 eventually.\n. Yes, it works! Thanks for all the effort! I have successfully created an admin user. I can also log in and view the website. The only thing that is not working is the issue I added before about the extension page (I think the error is different...).\n\n. I appreciate all the effort that is done to solve the problems. I almost feel bad, because I can't contribute in a professional programmer way. I know how to build a website (with in this case Bolt), but I don't know what is going on under the hood of the cms.\n. @vimishor @bobdenotter My provider moved my files to an other server and I now have Apache 2.4.7 and PHP 5.5.9.\n. Yes, I want to help with this. Do I have to edit the file on Github or edit my own and send it in? I need some explanation about how to do this.\n. So, I copy the content to be translated from the file to gist.github.com, then translate and save it? How do you know it's there for implementing in Bolt?\n. First 32 untranslated messages are now translated:\nhttps://gist.github.com/gwbonline/87a4578f69311e2a8812\n. 47 untranslated keyword based messages (some I could not translate, because I couldn't find their locations in Bolt).\nhttps://gist.github.com/gwbonline/c0e4e4eccef63fe64357\n. I have translated this file earlier and uploaded it Github/Gists to be implemented in Bolt. In the translated file is nothing left to translate. But now I see that the Dashboard still contains English words and sentences after setting the language to Dutch. Also the edit pages of Pages, Entries and Showcases are mainly not translated.\n. Thanks for updating the translation file! Sadly, the English words on the dashboard and also on the edit page of Pages and Entries aren't translated to Dutch. When you say 'untranslated strings inside Bolt', where can I find them? Just by searching in the system files? I understand that they aren't translated yet, but do they get translated over time? And how can I contribute when other files have to be translated other than the language file?\n. I don't mean the content :-) ... See screenshots below for some examples. Several editing pages and tabs still are in English. \n\n\n. Is this done by new additions to the language file? I want to help with this when I find untranslated parts in Bolt. How do I find the correct strings that I can add to the language file (following by the translation)?\n. That goes beyond my capabilities so I will leave it as it is. Maybe I'll try this in the future. Thanks!\n. I see that now. That will work. But it was first also part of the configuration menu. Can it be added again? It seems more logical to me, because I always use the menu for such things (editing system settings).\n. Yes, I use this more often than you guys I think. I can also do this via other ways, but I now got used to Bolt an till recently the option was available as a separate menu item. But I like the idea to make it 'Users & Permissions'. That makes it more logical when you search for it when you don't know where it is.\n. Thanks! That is exactly what I needed.\n. Thanks! I will install RC2 then. Or wait for the final version.\n. It happens on my 10 inch tablet. The dashboard looks the same as the \nnormal desktop version. All works fine, except for the main menu. I can \nonly click the main items in the menu. The submenu appears, but I can't \nclick the items in it because the main link is loaded.\n. Sorry... It is a Samsung Galaxy Tab 2 10.1 with Android 4.2 on it.\nBob den Otter schreef op 2014-12-22 21:17:\n\nPlease say what tablet it is.. Ipad? android? brand? screen\nresolution? os version?\n\nReply to this email directly or view it on GitHub [1].\n*\nLinks:\n[1] https://github.com/bolt/bolt/issues/2347#issuecomment-67884313\n. \n",
    "jult": "If you need a field-tester, feel free ;-)\nI'm planning to convert some pivot and pivotx sites (all in flatfile form still) to bolt (using mysql)\n. ",
    "DorienD": "Awesome! When i use the tar command it extracts a folder instead of overwriting the folders. Any tips on how to make the extraction into the current folder?\n. Works! Thanks!\n. ",
    "blockmurder": "Thank you for the fast response!\nIt is the case for extensions available in the marktplace. But how does it work with extensions developed by my self who are yet not ready to be published (as they are auto-enabled in /local)?\nIf there is a documentation for that, where can I find it? I did not find anything related under https://docs.bolt.cm/v20/\n. currently on beta4 pl2\n. It is allways showing localdate in English:\nconfig:\nlocale: de_DE\ntimezone: \"Europe/Zurich\"\nparticular code:\n{% if record.date != empty and record.to_date != empty and record.date != record.to_date%}\n        {{ record.date|localedatetime(\"%e. %B\") }} bis {{ record.to_date|localedatetime(\"%e. %B %Y\") }}\n    {% elseif record.date != empty %}\n        {{ record.date|localedatetime(\"%e. %B %Y\") }}\n    {% endif %}\nscreenshot:\n\n. yes, de_DE is installed:\nde_CH.ISO8859-1\nde_CH.ISO8859-15\nde_CH.UTF-8\nde_DE.ISO8859-1\nde_DE.ISO8859-15\nde_DE.UTF-8\n. It shows \nde-DE\n20. November 2014\nbut, November is the same in German and English\n. I have no datetime field in this contenttype, I use date and therefore I can't change the datetime or am I getting something wrong?\n. yes, there are multiple entries as shown in the screenshot, where the code \n{{ record.date|localedatetime(\"%e. %B %Y\") }} is applied:\n\n. yes, with php -r 'var_dump(setlocale(LC_ALL, \"de_DE\"));' i get false\nso I set locale: de_DE.UTF-8 and now it is working\nThank you for your help!\n. Ohh, but the backend is now in English, so the translation is not working anymore with de_DE.UTF-8!\n. Sorry, could not test it until today\nOn my production platform, it is working now but I double checked it on my develop platform, there it is not working.\nWhen I checked the locales, on prodution it shows de_DE.UTF-8 where as on develop it shows de_DE.utf8\n. It looks like a restart of the apache server did the job as I had to install de_DE.utf8 locale first\nNow working on both systems\nthanks guys!\n. Nice, thank you!\n. ",
    "dpfavand": "This caused me a bit of frustration as well when trying to build off of the colourpicker example. The documentation @GawainLynch mentions is under Howtos, which is under Other Information, which isn't obvious from the extension creation instructions. I've created a pull-request suggesting the addition of a tip regarding this caveat in the main extension docs: https://github.com/bolt/bolt-docs/pull/133\n. ",
    "SahAssar": "Fixed in latest patch, thanks!\n. Ah, right. My thinking about the defaults was mostly to syncronize all the functions, previously image and thumbnail defaulted to empty string, popup defaulted to 100 and showImage defaulted to 0. Since the value is expected to be an integer this seemed logical.\npopup and showImage defaulted to empty string for filename, so I went with that.\nI'll remove the defaults from them all :)\n. Haha, alrightio.\n. Yeah, but there it assumes that you want the default_thumbnail defaults, here we want the default_image defaults. This is basically the same thing that we already do in the popup function.\n. Gaaah, I fixed it in our deployment but copypasted the wrong version :D\n. \"your sponsor will be there to help you, and there is a large\" perhaps is a better wording... Otherwise (to me at least) it sounds like the sponsor being there is one of the difficulties :D\n. Okay line comments clearly isn't something I do well... That was just meant for line 141.\n. You're right, in this case strict should be fine. Also removed the outer parens.\n. Well, the problem is that since this can be an inversed relation that will get the actual to_id, instead of the inversed to_id if i use twigs getters. see https://github.com/bolt/bolt/blob/858d652e49c3b61fef7e0f66f47750a4fe97d766/src/Storage/Entity/Relations.php#L81-L88\n. :tired_face: Fixed now.\n. Done :)\n. I can't think of a situation we'd want to serve directories, or is there some point I'm missing?\n. Ah, I just copied from L371. did a pass over that file, and they should all be strict now.\n. Well, where is the right place? I didn't really know where to put it, so I followed the checkConfig way of doing things, and assumed that following established code was the way to go until we actually get to the config refactor. That way it's more predictable, no?\n. Perhaps this should be google.com to be more locale-agnostic?\n. @GawainLynch left-pad has been superseded by west-pad. Assuming developers faced a certain direction led to some pretty nasty bugs.\n. No, not when I tested it on 3.3 but I'm gettings some differing results in https://github.com/bolt/bolt/pull/6209/files#diff-6eeac24760013e79aaf552a1ccb05ad9R236 (test.dev vs bolt.dev). I'll have a look.. @CarsonF: Yeah, my thing is basically just getting the tests to behave predictably and understanding what I misunderstood, I won't be putting that much time into it since it'll be removed soon anyway.. Why not just inject a DOM node instead of injecting HTML? that way we follow best practices and don't inspire others to write it \"the wrong way\".. Fixed (or did you want to keep $all as a variable too?). I think empty is pretty much a codesmell, could this not be changed to $page = isset($parameters['page']) ? $parameters['page'] : 1; and pretty much the same for the above line?\nWhen we move to php7 only we can also switch this to $page = $parameters['page'] ?? 1;\nAlso, the newline below is unnecessary.. is_object is not needed:\n\ninstanceof does not throw any error if the variable being tested is not an object, it simply returns FALSE.. Perhaps we should also check for ($value[0] !== '[') (some extensions store json arrays IIRC), and strict comparison would be nice even though it probably won't make a difference.. \n",
    "vimishor": "@gwbonline What extensions are you using ?\n. @gwbonline Can you archive the entire bolt directory from your server and send it to me via email ? You can find the email address on my profile page. \n. @bobdenotter I requested the archive to take a look at that install because I can't reproduce the problem.\n. @gwbonline Yes, if you have the possibility to send me that archive, I would like to take a look at it.\n@bobdenotter I have a testing VM with ioncube installed.\nIf I look in http://bolt.cm/distribution/ I see \"2.0.0-beta\" and \"2.0.0-beta2\", so I assumed that \"2.0.0-beta\" = \"beta 1\". Is that correct ?\nWhat I tried so far:\n- Scenario 1: Clean install of 2.0.0-beta2 => success\n- Scenario 2: Clean install of 2.0.0-beta and installing 2.0.0-beta2 on top of that => success.\n. I tested @gwbonline's installation and it works fine with a single exception: On first frontpage hit Bolt was complaining about missing notfound option from config, which was gone after I cleared the cache. ( @gwbonline Did you cleared the cache after upgrade from beta1 to beta2 ?) \nTested on:\n```\nSQLite3 module version  0.7-dev\nSQLite Library  3.7.7.1\nApache:  2.4.7-1ubuntu4.1\nPHP 5.5.8 (cli) (built: Feb  2 2014 08:02:23) \nCopyright (c) 1997-2013 The PHP Group\nZend Engine v2.5.0, Copyright (c) 1998-2013 Zend Technologies\n    with the ionCube PHP Loader v4.6.1, Copyright (c) 2002-2014, by ionCube Ltd., and\n    with Zend OPcache v7.0.3-dev, Copyright (c) 1999-2013, by Zend Technologies\n    with Xdebug v2.2.3, Copyright (c) 2002-2013, by Derick Rethans\n```\n. My initial assumption still stands: this is something related to your environment and sadly I don't have the possibility to replicate that very accurate. \nFor example your are running PHP 5.3.10 and Apache 2.2.22, which both are very old. In the same time your hosting company may impose some restrictions according to their interpretation of \"security\". \nIf I was in your place, I would try to install fresh Bolt beta2, copy the old database to new installation: app/database/bolt.db and try again.\nIf you have other hosting account at other company, you could also try there the current installation and/or a fresh Bolt beta2 install and see if works.\nWhen you have more information, please post the updates here. If any restrictions/settings imposed by hosting companies can make Bolt stop working, we would like to know.\n. @gwbonline Don't forget to backup your database file: app/database/bolt.db\n. If looks like extensions:config: [ ] is missing from config.yml:global and acceptance tests are complaining about this:\nbash\n[Thu Oct 30 16:59:51 2014] Configuration error: extensions:config is not granted to any roles.\nIf I add extensions:config: [ developer ] in test/_data/permissions.yml the error is fixed, but I don't know exactly why is missing that from config. It is intended ? Please advice.\n. composer.* is needed only if you need to install the dependencies, which usually happens in development and testing. As long as you include all the dependencies in the distribution, composer.* can be omitted, the same with tests and other development related stuff.\nWhile in development, composer.lock should be commited in VCS so that all the developers can be on the same page.\n. If something breaks, you simply rollback to a known working state. You can do that because composer.lock is in VCS and you can simply reinstall the entire vendor chain.\n. > The reason is that libraries need to be flexible in terms of library versions they support, for instance you could include Bolt and Swiftmailer in a project, both require twig/twig, but Bolt is locked to 1.1.5 and Swiftmailer 1.1.4\nLoose version constrain exists for exact thing you mentioned. (ie: twig/twig: ~1.1)\n. > No, composer.lock locks down to specific versions.\nYou should really read until you understand the context I was referring to.\n\nHowever, RTFM: https://getcomposer.org/doc/02-libraries.md#lock-file\n\nYou are a real life saver !\n. I think I identified the cause. If I change isallowed: 'extensions:config' to isallowed: 'extensions in app/view/twig/nav/_secondary-extensions.twig#L18 the tests go green without complaining about extensions:config.\nI don't know if the template is wrong and its using an unknown parameter, or if the parameter is omited from config.\n. Maybe you are missing write permissions ?\nI tried to reproduce this and everything seems to work as expected.\n. ",
    "rompcik": "Thx. In fact, icon works as you described it. It was my fault to add a second, totally unrelated problem to the \"sorting\" bug report.\n. For example\nservices:\n    name: Services\n    singular_name: Service\n    fields:\n        title:\n            type: text\n            class: large\n            required: true\n            pattern: \"*{2,255}\"\n            label: Title\n        icon:\n            type: text\n            pattern: \"^fa-[a-zA-Z-]{2,30}\"\n            required: true\n            label: Fontawesome Icon\n        content:\n            type: textarea\n            required: true\n            label: Content\n        ordering:\n            type: integer\n            label: Sorting\n    show_on_dashboard: true\n    default_status: publish\n    searchable: false\n    sort: ordering\nworks well in 1.6.13. Unfortunately in 2.0.0-beta2 not.\n. Thx. Looks good.\n. It's always good security practice to avoid CDN's if possible. Simply because you should have full control about the code that is delivered to the client. It's not only that a CDN can track the client, but you lose control as well. You cannot verify that code served from a CDN is always 100% waterproof.\nAlso eases the implementation of a Content Security Policy.\n. ",
    "teohhanhui": "It should be done. Without the lock file your dependencies are not stable. This dependency tree stability is one of the attractions of Composer (akin to npm shrinkwrap).\n. Okay I got a bit ahead of myself. @rossriley is partially right.\n\nLoose version constrain exists for exact thing you mentioned. (ie: twig/twig: ~1.1)\n\nNo, composer.lock locks down to specific versions.\nHowever, RTFM: https://getcomposer.org/doc/02-libraries.md#lock-file\n. I'm going with https://github.com/rossriley/bolt-composer-webroot\nOn a side note I really think your \"Option 3\" in the installation guide should be switched to a cleaner way like that (at least when you complete the move to SemVer).\nWell, I guess this means I'll just stay with dev-master or use whatever tags available (not sure if that's possible).\n. ",
    "danga4biz": "httpd -S shows that my Main DocumentRoot .\nMy document root in the httpd-vhosts.conf for Bolt is \nDocumentRoot \"C:/DataApache/Apache 2.4/htdocs/bolt\"\nServerRoot: \"C:/DataApache/Apache 2.4\"\nMain DocumentRoot: \"C:/DataApache/Apache 2.4/htdocs\"\nMain ErrorLog: \"C:/DataApache/Apache 2.4/logs/error.log\"\nMutex default: dir=\"C:/DataApache/Apache 2.4/logs/\" mechanism=default\nMutex rewrite-map: using_defaults\nPidFile: \"C:/DataApache/Apache 2.4/logs/httpd.pid\"\nDefine: DUMP_VHOSTS\nDefine: DUMP_RUN_CFG\nI am out of options. I am going to install Silex and see whether I can get Silex working.\nThen working back to understand what Bolt is expecting.\nregards\nDanny\n. No there is no Bolt directory \nI have \\htdocs\\bolt\nvendor\ntheme\ntests\ntest\nsrc\nfiles\nextensions\nCodesniffer\napp\nThat is precisely what I do not understand - why is it trying to go to /bolt/bolt/users/edit while there is no directory bolt within the bolt directory.\nregards\nDanny\n. Bob,\nNo that is not working!\nI have been investigating what is going wrong.\nIt has all to do with the settings of AllowOverride All.\nSomehow the setting and where it is set to None or All influences whether the routine within <IfModule mod_rewrite.c> is performed or not\nI still do not have it completely figured out.\nWhen AllowOverride is set to None in the httpd.conf, httpd will not look for an .htaccess file.\nHowever we do not want to set AllowOverride to All in the httpd.conf because of security reasons.\nSee: http://httpd.apache.org/docs/current/howto/htaccess.html\nSo what am I doing in my set up - which works for almost everything I installed BUT not for Bolt:\nI am using the httpd-vhosts.conf to enable AllowOverride All for the Directory that is relevant.\nThe problem is that when AllowOverride is set to All in the  directive that points to bolt WHERE this  directive is not part of <VirtualHost _default_:80> but defined later in the conf-file. The .htaccess is found but the mod_rewrite settings are not working.\nIf you move the <Directory> directive that points to Bolt to the <VirtualHost _default_:80>  then the mod_rewrite is working. But be careful when this Directive is also available in later in the conf-file with AllowOverride set to None mod_rewrite will not work either \n5) The .htaccess is found and the mod_rewrite settings are working when:\n-   AllowOverride is set to None in the /conf/httpd.conf:\n-   AllowOverride is set to None in the /conf/extra/httpd-vhosts.conf for the Root directory AND to All for the BOLT directory\n```\nunspecified domain\n \nhttp://www.apachelounge.com/viewtopic.php?t=2697\n\nServerAdmin dgaethofs@yahoo.com\nDocumentRoot \"c:/DataApache/Apache 2.4/htdocs\"\nErrorLog \"logs/error.log\"\nCustomLog \"logs/access.log\" common\n<Directory \"c:/DataApache/Apache 2.4/htdocs\">\n    Options Indexes FollowSymLinks\n    AllowOverride None\n\nAllowOverride All\n    Require all granted\n</Directory>\n<Directory \"C:/DataApache/Apache 2.4/htdocs/bolt\">\n    Options Indexes FollowSymLinks MultiViews\n    AllowOverride All\n\nAllowOverride None\n    Require all granted\n</Directory>\n\n\n```\nAND a virtual host is defined for BOLT in httpd-vhosts.conf with AllowOverride set to All.\n```\nbolt.local domain\n\nServerAdmin webmaster@dummy-host.example.com\nDocumentRoot \"C:/DataApache/Apache 2.4/htdocs/bolt\"\nServerName bolt.local\n\nServerAlias www.yourdomain.com\nErrorLog \"C:\\DataApache\\Apache 2.4\\logs\\bolt_error.log\"\n\nErrorLog \"C:/DataApache/Apache 2.4/logs/bolt_error.log\"\nCustomLog \"C:\\DataApache\\Apache 2.4\\logs\\bolt_access.log\" combined\n\nCustomLog \"C:/DataApache/Apache 2.4/logs/bolt_access.log\" combined\n<Directory \"C:/DataApache/Apache 2.4/htdocs/bolt\">\n    Options Indexes FollowSymLinks MultiViews\n    AllowOverride All\n\nAllowOverride None\n    Require all granted\n</Directory>\nLogLevel warn\n\n\n```\n6) The .htaccess is found BUT the mod_rewrite settings in the .htaccess is not working when\n-   AllowOverride is set to None in the /conf/httpd.conf:\n-   AllowOverride is set to None in the /conf/extra/httpd-vhosts.conf for the Root directory AND to All for the BOLT directory\n```\nunspecified domain\n \nhttp://www.apachelounge.com/viewtopic.php?t=2697\n\nServerAdmin dgaethofs@yahoo.com\nDocumentRoot \"c:/DataApache/Apache 2.4/htdocs\"\nErrorLog \"logs/error.log\"\nCustomLog \"logs/access.log\" common\n<Directory \"c:/DataApache/Apache 2.4/htdocs\">\n    Options Indexes FollowSymLinks\n    AllowOverride None\n\nAllowOverride All\n    Require all granted\n</Directory>\n<Directory \"C:/DataApache/Apache 2.4/htdocs/bolt\">\n    Options Indexes FollowSymLinks MultiViews\n    AllowOverride All\n\nAllowOverride None\n    Require all granted\n</Directory>\n\n\n```\nAND a virtual host is defined for BOLT in httpd-vhosts.conf with AllowOverride set to None.\n```\nbolt.local domain\n\nServerAdmin webmaster@dummy-host.example.com\nDocumentRoot \"C:/DataApache/Apache 2.4/htdocs/bolt\"\nServerName bolt.local\n\nServerAlias www.yourdomain.com\nErrorLog \"C:\\DataApache\\Apache 2.4\\logs\\bolt_error.log\"\n\nErrorLog \"C:/DataApache/Apache 2.4/logs/bolt_error.log\"\nCustomLog \"C:\\DataApache\\Apache 2.4\\logs\\bolt_access.log\" combined\n\nCustomLog \"C:/DataApache/Apache 2.4/logs/bolt_access.log\" combined\n<Directory \"C:/DataApache/Apache 2.4/htdocs/bolt\">\n    Options Indexes FollowSymLinks MultiViews\n\nAllowOverride All\n    AllowOverride None\n    Require all granted\n</Directory>\nLogLevel warn\n\n\n```\n. Bob,\nFrankly Bob, I do not know whether putting AllowOverride in the httpd.conf causes security breaches.  I was just reading the definition carefully which explains the use of htaccess\nhttp://httpd.apache.org/docs/current/howto/htaccess.html. And there it is stated that \"The second consideration is one of security. You are permitting users to modify server configuration, which may result in changes over which you have no control. \"\nSo I decided to use the httpd_vhosts.conf to control the setting instead of the httpd.conf.\nThe problem I am having or seeing is that when the Directive 'AllowOverride All' for the directory that contains  BOLT is not in the first   the htaccess is found BUT the mod_rewrite is not working.\nAlso my last example option 6 is not correct. It is clear to me that the AllowOverride for the respective directory should be in the  definition.\nregards\nDanny\n. Dowdy,\nIt is working at my side because I have put the  in the first  of my httpd-vhosts.conf.\nBut your stackoverflow link is an interesting one.\nregards\nDanny\n. ",
    "michaeljayt": "There are still some untranslated keys like Contenttype, slug, for not having a good appropriate now, and some untranslated label exist in the Dashboard..hope that it will be fixed ASAP\n. ",
    "toddvalentine": "I have been unable to duplicate this behavior on staging. Closing.\n. GDmac, I'll take a look and attempt the commit. Thanks.\n. ",
    "imnarendrabhati": "hey bro ,\ni am not talking about the stored xss attack ,\ni am talking about the csrf attack , did you are also talking about the\nsame as feature !\nOn Sat, Jan 3, 2015 at 4:21 PM, Bob den Otter notifications@github.com\nwrote:\n\nClosed #2197 https://github.com/bolt/bolt/issues/2197.\n\nReply to this email directly or view it on GitHub\nhttps://github.com/bolt/bolt/issues/2197#event-213651199.\n\n\nNarendra Bhati \"CEH\" _( Facebook\nhttp://www.facebook.com/narendradewsoft , Twitter\nhttp://www.twitter.com/NarendraBhatiB , LinkedIn\nhttps://www.linkedin.com/profile/view?id=115146074 , Personal Blog\nhttp://hacktivity.websecgeeks.com )\n_Security Analyst - IT Risk & Security Management Services\nSuma Soft Pvt. Ltd. | Suma Center | Near Mangeshkar Hospital | Erandawane\nPune: 411004 | +919923397301\n======================================================================\n. ",
    "twocatszerokarma": "This is the blog contenttype:\nyaml\nblog:\n    name: Blog\n    slug: blog\n    singular_name: Post\n    singular_slug: post\n    description: |\n      The **Blog** contenttype can be used for things like _'news'_ or _'blogpostings'_. They\n      have a teaser, which can be used for a short blurb on listing-pages, allowing visitors to\n      click-through to the rest of the entry. It also has fields for an image and an optional video.\n      To change the fields that are in this contenttype, edit the file `contenttypes.yml` in the\n      folder `app/config/`, using the editor of your choice, or by going to 'Configuration' \u00bb\n      'Contenttypes' in the menu on the left.\n    fields:\n        title:\n            type: text\n            class: large\n            group: content\n        slug:\n            type: slug\n            uses: title\n        teaser:\n            type: html\n            height: 150px\n        body:\n            type: html\n            height: 300px\n        image:\n            type: image\n            group: media\n        video:\n            type: video\n    relations:\n        pages:\n          multiple: false\n          order: title\n          label: Select a page\n    taxonomy: [ categories, tags ]\n    record_template: entry.twig\n    listing_template: listing.twig\n    listing_records: 6\n    default_status: publish\n    sort: -datepublish\n    recordsperpage: 6\n. ",
    "webching": "everything else works except urls for editing yml.\n. using nginx, and error logged: [error] 782#0: *180 access forbidden by rule ...\n. Fixed. Thanks for the nginx config tip.  It is just nginx config issue..\n. agree.\n. ",
    "plodyga": "Now, you have two contenttypes:\n- pages (with relation to tools_groups)\n- tools_groups\nTry add third contenttype, eg. \"tools\" with relation to tools_groups:\n- pages (with relation to tools_groups)\n- tools_groups\n- tools (with relation to tools_groups)\nand fetch:\ntwig\n{% setcontent pages = 'pages' %}\n{% for page in pages %}\n    {% set relatedrecords = page.related() %}\n    {{ dump(relatedrecords) }}\n{% endfor %}\nIn this case, single element in relatedrecords array should be an object with relation property equal to null. I'm trying to get tools objects in the next step.\nI am testing it by switching file src/Content.php to version from 06137a6 commit and later. Version from 06137a6 commit is OK (relation property is not null), but each later does not work.\n. > it will also show up as related the other way around\nIt does not work.\nI installed a fresh copy of the latest Bolt and added the following contenttypes:\n``` yaml\ntools:\n    name: Tools\n    singular_name: Tool\n    fields:\n        title:\n            type: text\n            group: content\n    relations:\n        tools_groups:\n          multiple: true\n          order: title\n          label: \"Select a group of tools\"\n    listing_records: 20\n    default_status: publish\n    recordsperpage: 20\ntools_groups:\n    name: \"Groups of tools\"\n    singular_name: \"Group of tools\"\n    fields:\n        title:\n            type: text\n            group: content\n    listing_records: 20\n    default_status: publish\n    recordsperpage: 20\nassignments:\n    name: \"Assignments\"\n    singular_name: \"Assignment\"\n    fields:\n        title:\n            type: text\n            group: content\n    relations:\n        tools_groups:\n          multiple: true\n          order: title\n          label: \"Select a group of tools\"\n    listing_records: 20\n    default_status: publish\n    recordsperpage: 20\n```\nI added in the template:\n``` twig\n{% setcontent assignments = 'assignments' %}\nAll assignments: {{ dump(assignments) }}\n{% for assignment in assignments %}\n    Single assignment: {{ dump(assignment) }}\n{% set relatedrecords = assignment.related('tools_groups') %}\nAll related records to assignment: {{ dump(relatedrecords) }}\n\n{% for relatedrecord in relatedrecords %}\n    Single related record: {{ dump(relatedrecord) }}\n\n    {% set subrelatedrecords = relatedrecord.related('tools') %}\n    All related records to related record: {{ dump(subrelatedrecords) }}\n\n    {% for subrelatedrecord in subrelatedrecords %}\n        Single related record to related record:{{ dump(subrelatedrecord) }}\n\n    {% endfor %}\n\n{% endfor %}\n\n{% endfor %}\n```\nIn the latest version of Bolt I get:\n\nSTOP\nWhen I restore a file src/Content.php to version from 06137a6 commit I get:\n\n. The above two pictures are different. Note that in the first case All related records to related record is equal to null. In the second case is an array.\nI thought that, based on the symptoms you will know what's going on. I looked at the code of Bolt and I noticed that change the parameter value hydrate to true solved the problem.\n. ",
    "mathias213": "This test is mainly linked to the change in Frontend.php which is not finished and not related to permissions. I kept it there because I'm so new in git and github I didn't so a quick way to remove it...\nThis next change would be to have function reading config.yml to decided which page to load according to the config rather than sending abort(). To load that page the right way would have been to use $app->record() which launch checkFrontendPermission() which would loop if content is refused. Same for not-found content.\nFinally I must say I'm a sysadmin and so my coding experiences are... limited. This piece of code should certainly be improved, I did my best with my very little knowledge :)\nAnyway, thank you for Bolt and its understandable engine ;)\n. I would say don't worry about it for now: it doesn't work as expected finally, my tests weren't enough.\n. Or even close it, I won't complain :)\nI hope I would come back with something clean enough one day, I know how to open a pull request since yesterday. Could be an exercise to open a new one.\nIn fact I don't know how git works... both cases would be a good exercise : )\nI'm trying to have something not to heavy in your code (I love it as is :p) and simple enough for users to manage them. ACLs are so quickly awful... So I'm looking a way to have content filtered without modifying twigs, using the engine when frontend_permission_checks: true in config.yml.\nUsers will have to define correctly their select for contenttype according to their own roles... This seems to me enough complexity let by their side.\nFiltering page access is easy enough: almost all is already there (I mean was already there :).\nThe difficulty is when building list, they should take in account these news permissions. To do that I would like to be able to apply a filter on the SQL request when needed. The filter seems to be ready.\nThe point is how define nicely that \"when needed\" without having to modify almost all getContent() calls.\n. This version seems to work as expected but need more tests to be sure.\n. I finally get to one correct patch...\n. Closing to open a new one, on new branch, 'cause I'm too thick to understand how to clean up that one correctly. Not too classy :p\n. How listing views work:\nConsidering the modified content type is still \"pages\" with \"frontend: [ 'viewers' ]\" in permissions.yml.\nFor now all fallback behaviour (I was able to see) are set to give anonymous access to contents. The two cases are:\n- listing pages (ex: /pages)\n- empty \"viewers\" field\nWhen a user access to /pages with \"frontend: [ 'viewers' ]\" in permissions.yml as there is no database item for that listing page there is no \"viewers\" field that why the fallback.\nWhen twigs are building this page they call getContent() or record() which would call getContent() which finally launch executeGetContentQueries().\nexecuteGetContentQueries() receives $decoded array which contains all we need to know if this query or list of queries are to retrieve one or more item.\nWhen executeGetContentQueries() tries to retrieve a list of items the SQL filter is applied which returns only database items according to user's roles including ownership.\nThis filter applies only if these 3 parameters are defined, if one is missing, no filter, no per content permissions:\n- viewed page is in frontend \n- \"frontend_permission_checks: true\" in config.yml\n- \"frontend: [ 'viewers' ]\" in permissions.yml\n  So it is easily disable\nBut it is also quiet easily applied. Bolt simplify lot of things letting us doing complex stuffs as if we were good in creating web site. This is to simplify per content filtering.\n. Closing it to open a fresh one, without vulgarities nor sabotaging users' extensions.\n. Another closed PR, merging these two in one... I will success one day.\n. I won't advise to merge it now:\n- I have no confidence it is fully working (I know who did that)\n- executeGetContentQueries() is a little bit a core stuff\n- you're too close to this \"big 2.0\"\nI would be greatly happy to see it merged one day, but I'm not in a hurry: I've got to discover Bolt now, this would make me test more thoroughly too which won't be too much :)\n2.0 First!\n. Agreed, I don't know why but I would rely more easily on your tests than mine.\n. Hi all,\nLooking into Symfony and Silex documentations it seems it would be possible to achieve this using provided classes to add usage of \"firewalls\".\nUnfortunately my PHP (and webdev) knowledge not good enough to understand yet clearly if it would be possible to use these tools in Bolt without breaking anything.\nAnyone having some ideas regarding this question?\nCheers,\nmathias\nPS: Merry Christmas :)\n. ",
    "nlemoine": "\nIdeally, it would indeed output the correct dimensions in the HTML, but in practice it's not an issue, right? \n\nIMO, it is. Resize attributes (depending on various resize modes \"r\", \"f\", etc.), are sometimes differents than resized image attributes. Not a big issue because we can skip the showimage function and just output the image source with custom size attributes but still, it should work in any case.\n\nModern browsers will display it correctly. \n\nNo. The image will be streched. Browsers will consider the HTML attributes, not the natural size of the image. See: http://codepen.io/anon/pen/dPGWdg\n\nFixing this properly would require the image to be processed twice on the server, which might cause a performance penalty. \n\nI think it would be better for now to just leave the img tag without any size attributes. In that case, natural image size will be displayed. \n\n\nI was just testing it, and for me, this works as expected. I get to see the image just fine.\n\nI tested again and actually figured out that it works on a single image record but doesn't on an image list. In a single image field case, record.image returns a string (image path) as in an image list context, it returns an array containing all informations (id, title, order, etc.). The thumbnail function used in showimage is looking for a file index that doesn't exist, and consequently returns a 404.\nSee the PR attached below. \nBy the way, in a single image record context, maybe it could be better to always return an array of image information so they can be accessed an used without any other function calls like imageinfo? \n. Thanks for the quick reply!\n. The solution you posted doesn't resolve the CLI issue. When installing with composer composer create-project bolt/composer-install <MYPROJECT> --prefer-dist, should the Bolt\\ComposerScriptHandler class also copy the bootstrap, nut, etc. files into the app directory?\n. > I think the response should be the same, regardless of when you're attempting to request a non-existing taxonomy, versus an empty one\nI don't agree with this. There is a huge difference between an existing taxonomy item and a none existing one. If a taxonomy item exists in taxonomy.yml, it is meant to be shown, whether it returns records or not. \nAs far as I know, every CMS deal with categories that way. At least in a behaves_like: categories type. The comparison is a little excessive on purpose but you don't return a 404 code when a search returns no results and I think this default behavior is a bit expeditious. \nHowever, I agree with you in a behaves_like: tags taxonomy type as we can't tell if the tag exists nor not. \nWould you consider the PR if I add some code to deal with this difference?\n. @bobdenotter, I've made the necessary changes. Let me know if you want some more modifications. \n. Mostly for readability. Do you adhere to a particular standard on variable naming? Two-words-or-more variables don't seem to have a consistent naming convention. They are sometimes separated with underscores, sometimes all lower case and concatenated.\nBut it's ok if you want to change it back. Let me know and I'll do it. \n. The transport won't be used if use_spool is set to true:\nhttps://github.com/silexphp/Silex-Providers/blob/master/SwiftmailerServiceProvider.php#L37\n. Hi @bobdenotter,\nIn order to make the 'mail' transport to work, you also have to set use_spool to 'false'. \nSee: https://github.com/bolt/bolt/pull/2864#discussion_r25054879\n. That was not in my scope but I'll do that ;)\n. ",
    "chriscct7": "Sorry. Wrong repository.\n. ",
    "HorlogeSkynet": "@bobdenotter Yeah there is one for each pages (most of my pages are blogs with articles).\nYou can reach them by http://horloge-skynet.weebly.com/1/feed, and changing '1' by: {1, 5, 7, 8, 9, 10, 11, 12}\nThanks !\n. ",
    "padicao2010": "Yes, it doesn't work on lumia.\nBrowsering http://ckeditor.com/demo on firefox, I try multiple user agents, like android, window mobile, ios etc. Only ios show the CKeditor.\nIt works well on UCWeb browser with iphone user agent on my phone. However, I give up writing articles with my Lumia on Bolt, for fonts are so small, and can't be scaled larger.\n. It looks the same.\nMaybe I work in Chinese, maybe it's scaled to 4.5inch.\nMaybe my finger is big, maybe I need a pen.\n. ",
    "chilion": "unfortunate :(\n\n. This is the console in Chrome. It is still the escapesellarg() thing and it indeed is my server so I can change anything! :)\n. Done this, it installs now, but indeed, this shows there must be a response. Should I change the subject of this issue, or just close it?\n. ",
    "mahammedzkhan": "I have the same issue with SimpleForms which worked fine on Bolt 1.6.x. I can't change PHP.ini since it's on shared hosting.\n. ",
    "mrjgreen": "Also having this issue - maybe some configuration we are missing, but this PR adds the required script to handle static assets #2333\n. No, you probably don't want to do that. This only applies when running the built in webserver. If you put this in index.php it will affect systems running bolt via Apache/nginx etc...\n. It seems strange to build this into the application. Should the app really care what web server you are running this behind? Plus when things go wrong (like this), it makes it harder to understand where and why. But its not my call :) \nGreat looking CMS though! Nice work.\n. I think something should be done to fix this if we can manage it...Currently the CMS does not work when ran from the command line. Thats basically the first experience a new developer has with the application and that should probably work :)\nIt seems like an odd place to put this functionality, but I'd be happy to submit a PR with a fix in load.php if thats where you would prefer it to be.\n. ",
    "panda-madness": "There seem to be no errors related to the bolt installation in the apache error log.\nHere's a pastebin of apache's access log from a single page load:\nhttp://pastebin.com/EkGqPFa2\nYou can see everything returns with 200 or 304 except thumb images, which return 500.\nOpening images in a new tab works fine. As I've mentioned images that are linked directly (such as via the image filter) are not affected by this issue, the problem only seems to affect thumbnail images. \nScreenshot of the page:\nhttp://imgur.com/T1chg7L\nIf I try to click on the broken thumbnail the magnific popup thing appears and shows the image correctly.\nI have an (almost) fresh installation of bolt 1.6 on the same server, here's a screenshot:\nhttp://imgur.com/y3Au8Oo\nI've only messed around with some images in the dashboard, and changed the site name in config.yml\nAccess log pastebin:\nhttp://pastebin.com/iJbtQxeF\n. Ok. So I did what you said, and got the Symphony error screen with the message \"Unable to guess the mime type as no guessers are available (Did you enable the php_fileinfo extension?)\". So I checked out if the extension was enabled, and it wasn't. Now with it on everything works as it should! Though I don't know why it worked on 1.6 without the extension enabled.\nHuge thank you for your help! I've never actually got such quick feedback from project owners before, kudos to you!\n. ",
    "carmelg": "You're right... :D\nBolt 2.0.2 - MySql 5.5.38 - Apache 2.2.22 - Debian 3.2.0-4 - Php 5.4.35-0+deb7u2\n\nThanks\n. Hi\nI tried with sqlite is the content is saved and displayed correctly. Instead use Mysql if the text is saved to the db with \"?\"\nMy opinion there is a problem of how it is saved on the db.\n\nThe first record is inserted by Bolt, while the second directly from phpmyadmin\nI always used Chrome for testing\nThanks\n. It worked !!! Thanks and good BOLT 2015 :-)\n. I recreated the db with the default character and collaction set to utf8\n. ",
    "PeterDeKeer": "A Admin UI to guide us making contenttypes is handy.\nFor instance: If you make a fieldtype of datetime, you ccan have a timepicker that needs configuration.\nLike the starting year and ending year.\nIf you fill this in a YML file, you need to look into the docs what alle the possible options are.\nIf you use a form, you see what the options are right away and you learn while creating new contenttypes.\nI know this issue is not pressing for you guys, but don't underestimate the power that gives developers that are not constantly working on bolt sites \n. ",
    "Pinpickle": "All issues should be fixed now!\n. Turns out this is caused by something else, most likely filesize. I'll do some digging and open a new issue.\n. @rossriley I'm on a Mac here, and I ran a brew install gd which lets me know that version 2.1.0_2 is already installed. The issue seems to lie with upgrading to Yosemite (see issue on Stack Overflow), and I'm reinstalling PHP as suggested. If it works, maybe this is something to put in the docs?\nFair call that the files will never even hit the server, could we at least do a JavaScript validation? The error message is completely misleading when it says its the wrong file extension. Bolt could detect the max limit imposed by PHP, and then pass it to the client so JavaScript can check all files before uploading.\nEdit: reinstalling PHP fixed the issue of png thumbnails\n. GD does indeed have a really easy function for parsing EXIF data. I'm currently working on a PR for bolt-thumbs that will make it honour EXIF orientation using the technique shown here. Unfortunately we can't use the GD function that lets you flip images because it is PHP 5.5 (but article supplies its own so everything is okay!).\nTwo concerns with stripping EXIF data for orientation (I think I may have changed my mind about this being a good idea):\n- Photography blogs will probably want to keep all of the data in tact - it is quite important to photographers. In fact, including EXIF data in the imageinfo Twig tag may be a good feature for them. Stripping just the EXIF orientation tag may be okay but I don't know.\n- Because jpeg is lossy, we'd get a loss in quality by opening the image, rotating it, and then saving it again. Performing a lossless rotation requires dealing purely with the data in the file - there are a few discussions of how you can achieve this online.\nCurrently I'm just generating thumbnails for every photo uploaded because the images uploaded will probably be far too large anyway.\n. Just did a git pull upstream master and supposedly everything is up to date. Is there anything else I need to do to stay up to date correctly?\n. I found the problem. The commit, 214986a, that fixed that issue only changes app/view/js/bolt.js but doesn't change app/view/js/src/init.js - which is used to generate bolt.js through Grunt. If you look at line 923 in this file, it is still\nif (data.type === 'image') {\nI used Grunt to generate these files (as per instructions in bolt.js) so those changes were written over.\n. This should probably be executed for textarea types as well because it undoes HTML other html changes incurred by the browser. For example, hitting ctrl/cmd + B adds <strong> tags around the selected text.\n. I'm thinking we should d this for ordinary text field types as well. Maybe combine this functionality with the onblur stuff I mentioned in my other comment so that the sanitisation isn't happening in different places.\nThis is a better places for sanitisation to happen because people may close the editor without first unfocusing a field that they're editing.\n. Yeah I completely agree with the handling of <br> characters being different, just concerned about other HTML sneaking in! I just worked out your point on how that would actually make escaping all other HTML quite difficult. It may have to be convert <br> tags to \\n then sanitise HTML, (then convert \\n back to <br> tags if still in live editor).\nIt's pretty shocking that there's no simple way to do plaintext at present, given that contenteditable has been around since IE5.\n. I'm not too sure...\nFrom memory I think that this was from one of my older implementations and was superseded by the whole $isRootType thing. I haven't seen this throwing any errors yet... This should have come up by now, shouldn't it? Especially as there are tests in place for template fields.\nI think it would be safe to remove it.\n. ",
    "bodyflex": "ok, apparently setting height to zero does the job, great! might be a good idea to document this behaviour, as it's not very obvious in my opinion. and maybe it should also behave the same way when no height is supplied?\n. oh and there actually is an aspectratio property in imageinfo! good to know. btw you need to divide the width by the ratio to get the height.\nand no, it wasn't rounded automatically at least in the html img tag.\n. sounds great!\nbut please also consifer defining the behaviour of showimage(x, 0) to be the same as showimage(x) (along with the other image tags)\n. fair enough! shouldn't indeed matter as it apparently will get documented now.\n. btw, what is the reason for the default height of 100? can't really imagine any scenario where this would be preferable. or do you need to keep because of legacy reasons?\n. why not default it dynamically to width / aspect ratio though?\n. oh right, sorry about that. shouldn't try to think after new years eve...\n. ",
    "lucasfecko": "Strange, I created an entirely new database, created new user in Bolt, and tried it again and it works. The characters are no more shown as question marks.\n. The version of Bolt I am using is 2.0.2. I still have the old table, should I create dumps of both tables and post them? Or is there any way to post just database schema? I just checked the bolt_entires tables in both databases and structure and table information seems the same, InnoDB as engine, encoding: utf8.\n. Yes they were. One was created yesterday and one today (well, one in 2014 and one in 2015), the only difference was that there were damadged locales when creating the first database. I toyed with LC_ALL and LANG variables before bolt installation and left some unset. I only repaired them after the database was created, since I began to experience problems. I think this was the problem.\n. Yeah, thank you for your assistance @rarila. Have a great new year by the way :).\n. ",
    "CarsonF": "Are you merging feature branches into master after they are merged into\ncanary? I thought canary would just be merged into master\nOn Jan 20, 2015 12:29 AM, \"Gawain Lynch\" notifications@github.com wrote:\n\nMerged manually, and I accidentally stole the credits! Whoops, sorry!\nShouldn't be a problem, this branch will be re-pulled into master when\nready... Don't delete is, @CarsonF https://github.com/CarsonF [image:\n:grinning:]\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/bolt/bolt/pull/2480#issuecomment-70610318.\n. Ok something isn't adding up here. I based my feature branch on canary. How\nis that going to get merged into master without all of the changes below\nmine in canary coming with it? Like Ross' tests.\nOn Jan 20, 2015 6:38 AM, \"Gawain Lynch\" notifications@github.com wrote:\nYes, keep your feature branch until it lands in master please :-)\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/bolt/bolt/pull/2480#issuecomment-70647319.\n. So what happens when Ross' changes have lots of bugs and yours are ready to\ngo? You HAVE to wait for him to go first?\n\nYou're, like me with the Composer stuff, dependant on Ross' tests merging\ndown to master first.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/bolt/bolt/pull/2480#issuecomment-70655346.\n. Well I just rebased onto canary. I'm closing this PR and making a new one for canary branch.\nNew PR #2500 \n. Just did a quick search... I don't think these are even being applied.\n. Umm what? ha\n. This branch gets merged to canary, and then to master right?\n. flashError method I can understand. I saw in one place that it was doing a couple checks to make sure session exists I thought it might be better to be abstracted.\n\n$this->app['resources']->initializeConfig($this->data);\n$this->resources->initializeConfig($this->data);\n\nI want to push back a little on this. It makes it very hard to see which pieces are used in what places. If I pull up a class that just has $app passed into the constructor I have to search through the entire class to find out what it's using. If they were to be passed in to the app I would know immediately. \nPimple is supposed to be a DI container. The dependencies are supposed to be injected into the constructor to make object creation easier, not to be a passed IN to the actual object. This is why there are actual classes and then, separately, the service providers that build up the object tree. That wouldn't be necessary if all the classes just took the DI container.\nThe other thing is (and I can't believe no one has complained about this before) is type hinting. In PHPStorm, and I'm sure any other IDE, you can say \"find usages\" of this method. Well that doesn't work if the method is called right from a silex service because it doesn't know the return type of the array get.\nI know there are some common \"services\" used in a lot of places (config, session, etc.). An argument could be make that, It would be a hassle to always pass those into objects. As I compromise, I would suggest that we create getters in the Application. $app->config()->get('foo') I would suggest those as traits, but not for now since we still support 5.3. Silex actually has several traits builtin that are for this purpose.\n. I fixed the bugs I found in testing...but I don't have any unit tests to\nprove it :/\nOn Jan 25, 2015 11:10 AM, \"Bob den Otter\" notifications@github.com wrote:\n\nThis should be OK to go into master now, right? :-)\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/bolt/bolt/pull/2530#issuecomment-71381518.\n. That too. Y'all are preparing for 2.0.x release right? Not 2.1?\nOn Jan 25, 2015 11:13 AM, \"Gawain Lynch\" notifications@github.com wrote:\nYes, will need a big rebase first... There are colliding chages\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/bolt/bolt/pull/2530#issuecomment-71381617.\n. Is Travis still good with these changes?\nOn Jan 25, 2015 11:19 AM, \"Gawain Lynch\" notifications@github.com wrote:\nThat too. Y'all are preparing for 2.0.x release right? Not 2.1?\nWe branched release/2.0 this morning and master is now 2.1.0-alpha1\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/bolt/bolt/pull/2530#issuecomment-71381873.\n. Ah right. I'll rebase when I get home\nOn Jan 25, 2015 12:42 PM, \"Gawain Lynch\" notifications@github.com wrote:\nIs Travis still good with these changes?\nWill find out when you PR [image: :grinning:]\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/bolt/bolt/pull/2530#issuecomment-71385376.\n. Hmm I don't disagree with those statements. Somehow I need to get access to the content object...without recreating it. Where do yall suggest is a better place? I know in pimple is an option...but I don't really like it.\n. I want to continue this conversation here for context. I can see why request isn't the right spot for this. I need it somewhere though...does anyone have thoughts? I guess in app?\n. @GawainLynch Why are you doing the isConnected check after checking database connection? It will never be false once you get to that point, right?\n. Yeah it's all the same logic just different variable names and indentation. Unfortunately, that doesn't diff well.\n. Yeah that was my original thought, and I agree is the best option. However, it is a major change. I was looking for a quick fix as a stop gap until this solution could be implemented. I'll just run a fork until that point. \n\nThis might be something I work on for 2.2 as I'll be doing similar changes for namespacing twig folders.\n. @rossriley Not fixed. Frontend doesn't use BoltResponse yet.\n. I only found it because of code completion :)\n. Multiline yes/no?\n. They are all long for me....\n. That's what I was thinking. Figured I would ask because of that point\nOn Mon, Jan 26, 2015 at 4:49 PM, Gawain Lynch notifications@github.com\nwrote:\n\nHistorically, I've tended to use something like:\n\"SELECT slug, COUNT(slug) as count\nFROM $table\nWHERE taxonomytype = ?\nGROUP BY slug\nORDER BY count DESC\nLIMIT ?\"\nBut that can really piss some coders off\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/bolt/bolt/pull/2584#issuecomment-71555278.\n. I just did something similar, #2601. \n\nphp\n$app['resources']->getPath('root', true)->joinAtoms('foo', 'bar');\nLess code perhaps? I see how this matches Config::get though.\nAlso: constructRelativePath isn't correct because all ResourceManager::paths are absolute. They are resolved against root path with setPath\n. Right, I was going for the same thing. \nIronic that we both had this thought at the same time. \nNow that I look at this more, I like it :+1: \nCan we still have optional argument from my PR so that other PathInterface methods can be used?\n. > [11:53:09]  CarsonF: ok, let's merge as is, but we can tweak pre-2.1 release if needed\n\n[11:53:23]  Sure that's fine :)\n. Looks better now. I need to move those tests to their own class though\n. yaml\nislist:\n    type: select_list\n    values: [red, green]\nishash:\n    type: select_hash\n    values: {0: red, 1: green}\n\nI like this syntax. I feel like this could easily be documented. It keeps us from trying to figure out what type it is in code. \nI would even say we keep select instead of select_list. This maintains BC and nothing has to be deprecated. \n. Raising the xdebug.max_nesting_level to 400 fixed the test.\nI still think YamlUpdater::find should be converted from a recursive method to a loop.\n. Well that's probably why :)\nOn Thu, Jan 29, 2015 at 10:09 AM, Gawain Lynch notifications@github.com\nwrote:\n\nInteresting, @rossriley https://github.com/rossriley started us setting\nxdebug.max_nesting_level to 2,000 in .travis.yml hence why the Travis\ntests are passing but local ones bork.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/bolt/bolt/issues/2611#issuecomment-72051397.\n. :beer: for you!!\n. Are you trying to change the way the backend renders? Because that's not officially supported. \n\nI think you are missing a folder there in that path though. \nIt should be /app/view/twig/ which is added here: https://github.com/bolt/bolt/blob/master/src/Config.php#L689\n. How did you install Bolt? Composer or distribution or git?\nPS: I love CouchPotato :+1: \n. There are no twig paths in the core that you'll be able to use for backend templates, so you'll have to add that path yourself. You'll see different paths are added based on whether the request is frontend or backend. I have plans to change this but for 2.0 or 2.1. \nI'm iffy on template selection though based on content types. Feel free to jump on IRC, we can talk about it more. The guys will probably have more info for you. freenode #boltcms\n. I agree. @bobdenotter what do you think about this?\n. @rarila He installed as a composer dependency though, so he cannot modify /app/view/twig/. Hence why I said he needs to add his own folder\n. The other half of the problem is only half of the templates are loaded with each request (backend/frontend).\nI want to add them all after namespacing them \n. I wasn't suggesting removing the custom template feature, just adding custom columns as a shortcut. \n. I think this should be addressed in 2.2 with the twig namespace changes\nOn Feb 11, 2015 10:09 AM, \"rarila\" notifications@github.com wrote:\n\n@bobdenotter https://github.com/bobdenotter probably not yet. I feel\nfrozen [image: :snowflake:] at the moment ;-)\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/bolt/bolt/issues/2631#issuecomment-73907951.\n. Well adding the folder path that is. Not sure about the column stuff \n. The problem is we don't check for permissions to dashboard before redirect them there after login. Then the get there and get stuck in a loop because they don't have permission.\n\nOr we don't check in backend if they have permissions before redirecting them. That is a better place to check. Or maybe both. I'll see if I can get to this today.\n. No its not....I hope to get a PR in today. \n. It would bug you more if your editor pointed it out to you! ha\n. There's a difference between in your way and unable to help you catch your derps because you don't let it\n. @bobdenotter I'm taking that as \"I love it, let's merge!\"\n. I didn't think about it but it looks like string concat and sprintf fit on one line\n. Ah yes. I still need to add serializing support. Tests fail due to config cache unserializing incorrectly.\n. I'm closing this for now because these serializable problems are not going to go away easily. We can readdress this after TaxonomyType and ContentType classes are created.\n. It will be :tada: :beer: time\n. Yeah I saw that on IRC. I'm not the biggest fan either but I wanted to make the logic publicly available. This was the easiest spot to do that. We could extend the translator and add a method for this but that was deeper than I wanted to go.\nFor the record, I just removed a bunch of statics in #2700. Surely this makes up for the two I've added :) \n. Soooo. merge? :8ball: \n. Ok I'll change the static to non-static. Which means you'll have to create the object just to call that method, which is stupid.\n. What do we have against flysystem?\n. Yeah I guess some of the operations we are doing wouldn't make since on a remote filesystem.\nThe main thing is we are using an abstraction so a testing one can be swapped in easily :+1: \n. It's not that much extra, if the filesystem is already initialized\n. I'm to blame #2707 \n. @bobdenotter's water gif is the real winner here!\n. I'm still seeing this occasionally. It happens through an async route, through a twig render. Somehow the check that fixes this is getting skipped and the redirect is not happening. I can't consistently reproduce though \n. Yeah this doesn't need to happen for 2.1\n. Also this: \n``` php\n    /*\n     * Ensure the root directory exists.\n     * @param string $root root directory path\n     * @return string real path to root\n     /\n    protected function ensureDirectory($root)\n    {\n        if (is_dir($root) === false) {\n            mkdir($root, 0755, true);\n        }\n    return realpath($root);\n}\n\n``\n. Idk why those two tests are failing. They pass locally...\n. @rossriley See the [commit message](https://github.com/gmo/bolt/commit/3c020f83dea8a85628ffe8f153c976b9d6d210f2).\n. This should be class, not style.\n. Well we need this one to handle Resolvable objects and accept_file_types key. But all the other cases of Lib::mergeRecursiveDistinct can be replaced with array_replace_recursive.\n. Doh, you're right\n. What we determined was:\n- directories always need executable permissions (and this is only for directories)\n- umask modifies the 777 (usually to make it 755).\n. This is the same as whatUrlGeneratorTraitandLibrarycall it. But yes I agree. \nI thought about changing it togeneratePath. I agree \n. That they are the same?\n. What keys??\n. Really? I didn't know that...I'll revert. What's an example?\n. are you sure you weren't usingarray_replace`?\n. Looks like PlatformRepository is used for determining requirements like \"ext-*\", php, etc. But it is never getting add to the Pool given to the VersionSelector.\n. The only usages of those methods are inside the class. I really meant, do we need this entire \"feature\".\n. Latest commit should fix it\nOn Feb 23, 2015 3:08 AM, \"Gawain Lynch\" notifications@github.com wrote:\n\nIn src/Logger/ChangeLog.php\nhttps://github.com/bolt/bolt/pull/2902#discussion_r25150505:\n\n@@ -28,7 +29,7 @@ public function __construct(Application $app)\n     {\n         $this->app = $app;\n-        $prefix = $app['config']->get('general/database/prefix', \"bolt_\");\n-        $prefix = $app['config']->get('general/database/prefix');\n\nThis is what is breaking Travis. For some reason nothing in getting\nreturned.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/bolt/bolt/pull/2902/files#r25150505.\n. Yeah nut user commands. We at least need to try/catch app['request'] here and then use localhost or the like.\n. I'm pretty sure parse_url will fail if you don't include http(s)://\n. wouldn't this be \"example.com/foo\" . \"/foo\"?\n. What about base paths? Or does UrlGenerator account for base paths?\n. Can this go under a Type namespace? Bolt\\Form\\Type\n. I know EventSubscribers have nothing specifically to do with Kernel events, but currently everything in this namespace does. Maybe this would be less confusing in Bolt\\Form\\EventListeners?\n. It would be better to pull this from DI\n. Can we return early here?\n. It would be better to pass in RequestStack instead of Request\n. I'm lost as to what this class is doing. If session isn't started, it's creating a separate one? Where does $this->session get used?\n. Ugh yeah....I guess that would be valid use case. Lemme think about it.\n. Can the whole session object just be passed in from DI? That would remove the need for Config, Request/RequestStack, and handler.\n. Maybe sub-namespaces then. I just see it getting cluttered very fast. What about Bolt\\EventListener\\Kernel and Bolt\\EventListener\\Form? Hmm...but that's the same as having Bolt\\Providers which I don't like either. I would rather the logic be grouped together by topic. \n. Ah ok. Well what do you think about Kernel and Form subnamespaces under EventListener?\n. Why even have docblocks?\n. $app->abort()\n. You can just use content.title, twig will call getTitle(). No need to even set a variable.\n. Don't need to use $app here\n. What's a parma? I don't think they have those outside of AU\n. This could just be added to the array above, next to locale_fallbacks\n. return false; here. Skip the if/else below\n. Don't you need to check for the new class as well?\n. :)\n. I meant Bolt\\Storage\\Entity\\Content...I guess we aren't using that yet though\n. @GawainLynch Can you delete this return line? we shouldn't be stopping for one errored file.\n. They aren't supported here? ;)\n. Can we flip logger and filesystem? We are way more likely to want to pass in a logger vs a filesystem\n. Doesn't matter. SessionStorage doesn't check the returns. Idk what I would do with a false return.\n. Well they weren't until now when you added support for them ha\n. Moved into a for loop?\n. Should we note that EntitySerializableTrait can't be used without MagicAttributeTrait?\n. Is this for BC? Why not `{{ content.title }}?\n. This shouldn't work. The parent constructor is final.\n. Probably shouldn't set the static string format here, because it will apply globally. Can you call toString manually with that format instead?\n. Doesn't DBAL handle this mapping internally?\n. Do we need to stub out the error handler here so warnings aren't triggered?\n. Derp\n. Actually you shouldn't even need to do it at all. The format is pulled from the Platform (here)\n. Whatttttttt. I don't believe you. I've had to silence those calls before\n. https://github.com/composer/composer/blob/master/src/Composer/Json/JsonManipulator.php#L201\n. php\n$this->app['users']->isAllowed();\n\nbetter or no?\n. Ah right. Can you mark that as deprecated?\n. Point taken :shipit: \n. Are there bolt-widgets that are not buic?\n. Why not define this in the parameter definition instead of empty string? Same for below as well\n. Yes, I would argue there, since it is the entry point, but also here since this could be called from php. \n. Can you use the Zone::FRONTEND constant instead of the string?\n. Can you change the second part of this check to:\nphp\n$this->app['request_stack']->getCurrentRequest() !== null\nOr maybe even:\nphp\n$app['pager']->isInitialized()\n. I meant change this to:\ntwig\n<div class=\"image-dimensions\">{{ file.width }}<span class=\"times\">\u00d7</span>{{ file.height }}</div>\n. or null. \nAlso, what is done with the exception? Is there a need to replace it with a different one in a listener? - Maybe there should be a setter\n. or null\n. Not following...why do this?\n. Can we guarantee request cycle?\n. Shouldn't debug control whether it's shown?\n$this->app['debug'] && ($this->app['users']->getCurrentUser()) || $this->app['config']->get('general/debug_show_loggedoff'))\n. This link should be generated.\ntwig\n{{ path('route_binding') }}\n. This one too\n. Can you make these more restful? Maybe /users/invite, users/invite/email\n. This should be replaced with the randomgenerator service\n. code is required, so this should be .+. That's what it is by default though, so this line can be removed.\n. One more space than the rest ;)\n. These handlers could all be broken out into their own DI keys\n. php\n        $app['session.options'] = $app['config']->get('general/session', []) + [\n            'name'            => 'bolt_session_',\n            'restrict_realm'  => true,\n            'cookie_lifetime' => $app['config']->get('general/cookies_lifetime'),\n            'cookie_path'     => $app['resources']->getUrl('root'),\n            'cookie_domain'   => $app['config']->get('general/cookies_domain'),\n            'cookie_secure'   => $app['config']->get('general/enforce_ssl'),\n            'cookie_httponly' => true,\n        ];\n. Who did that smh\n. 1 <= 0.1\n2 <= 0.1\n...\n100 <= 0.1\nThat will never be true...\nPreviously:\n```\nrand(0, 1000) < 1\n0 < 1 = true\n1 < 1 = false\n...\n1000 < 1 = false\n```\n. You're forgetting zero\n. This is already allowed below though?\n``` php\n<?php\nreturn [\n  'application' => $myApp\n];\n```\n. I don't think so....this is the only case that needed changing. I'm not sure I could reproduce the flash message running the test steps myself - so I changed it \n. Bruhhh\nphp\n$request->getContentType() === 'json'\n. Really?...I'll slack you.\n. Can you pass in this option instead of the entire class?\n. If it is set shouldn't we add to the existing array?. There's still no reason to have a separate runtime for this class because it doesn't have any dependencies. Not needed. Not needed. Not needed. Not needed. Not needed. Not needed. Not needed. :stuck_out_tongue: :heart: . Is safe_render used anywhere at this point? Do we need to keep it?. That works for me!. This could still be a ternary operation:\ntwig\n{% set page_nav = block('page_nav') is defined ? block('page_nav') : 'NO NAV' %}. Also doesn't |default skip the defined check?. ;). Ah sorry. Ternary here too? \ud83d\ude48 . Here too? Could go either way here. . extensions services shouldn't be invoked here, extend the service. Maybe with an if check to see if there are any extensions to add. \nAlso you should do is_a check for string and instanceof check for object, like we do for services, resources and app.. I think it would make more sense to flip the condition here and skip the else block. \nphp\nif ($baseDir === null) {\n    $baseDir = $this->extFs->getDir($extension->getId());\n}\n$extension->setBaseDirectory($baseDir);. I don't see a need for this method.. Not from my changes. Only canonical or canonicalurl is changed to point to Canoincal class while inside of request cycle. The whole class is deprecated anyways.. Mind if we leave this key and set value to null? That's what I have it as in 3.3. Just so we can keep track of keys in one spot. . Should this use twig to resolve the template like I did with TemplateFieldsType?. But....?. We still want to unset # key if it exists. Although I guess both of them are not going to be set at once. . #6237. Could save the second look up by saving the result here.. Will this one always exist?. How does moving it up break everything?. You know the $app['security.access_rules'] wasn't getting applied right? because the SP overrides that key when it's registered after you declare it.. Eh Pimple exception made it pretty obvious...how to fix it that's another story.. Yeah because the handler we want to use doesn't get applied until boot. So any exception before that point doesn't get applied :(. . Noe. You can't make me.. It was changed to bolt:// earlier in 3.3, that won't work anymore (but not BC break). The previous value, for 3.2-, is managed here.. Haha nope. Nitpick can shove it :). I'm not sure. I was just trying to leave that logic alone. Git says it's new but it's not. I didn't write it.  . It's from a previous merge conflict. It could be committed separately. Missing E_USER_DEPRECATED here.. Can we name this something else? It sounds like an entity from first glance, but it's actually a service. What about PasswordHasher?. _factory is confusing as this is a shared service not a factory.. Would the interface be better to mock here?. Why not put this in the constructor? I don't see this class being used for anything else.. %web%/.htaccess. %cache%/config-cache.json. %cache%/config-cache.json. I would rather assign to a variable and merge $all afterwords instead of duplicating that logic for each case.. brain \ud83d\udc80 . Ok I adding another @requires without the version seems to fix that.. Happy to change this just don't know where the comment would go.. Which postLogin call is supposed to throw exception? These should be split into two different tests.. Is record() supposed to throw exception? If so, what are the assertions for?\nSame for the 4 tests below.. This should be split into two different tests as well.. These should be split as well.. Same with these.. Split these. Split these.. Since you are here, what do you think about extending BaseTestListener instead? That way we don't have to have all these empty method bodies.. derp. Can you just add an Array_Loader to the Twig_Loader_Chain for that render test?\nThe less files we have to copy around the better.. The space. I don't agree with this. How does the stability of the version give unexpected results?. IntelliJ/PHPStorm doesn't parse this inline, and thus everything below is left out.\nYou could do an inline tag:\n* {@see http://semver.org/ See SemVer} for an explanation on semantic versioning.\nOr no tag:\n* See http://semver.org/ for an explanation on semantic versioning.\nOr put it at the bottom of the phpdoc. \nOr leave it out. \nPersonally, I think not even mentioning semver here is better, and just link to version_compare\n\nAlso \"exmplaination\" is misspelled.. Do you see any description below those tags? Nope.. > A DocBlock roughly exists of 3 sections:\n\nSummary; a one-liner which globally states the function of the documented element.\nDescription; an extended description of the function of the documented element; may  contain markup and inline tags.\nTags; a series of descriptors for properties of this element; such as @param and @return.\n\nhttps://www.phpdoc.org/docs/latest/references/phpdoc/basic-syntax.html#sections. I would just keep this paragraph and remove the two paragraphs and the table above it. They are all saying the same thing.. exmplaination => explanation. How is this getting tested?. Just also had the thought that you could set this with $app['twig.templates'] instead of creating an ArrayLoader directly.. \ud83d\ude1e . Would it be better to have a sort option that can be given values like name, default, etc.?. Bind Name - Maybe just Name? You call bind() to set the route name, and \"bind\" isn't used anywhere else.\nPath Match Pattern - Maybe just Path? Symfony's referred to the path as pattern, but it is deprecated. . How about just Service Providers? You have a lot of extra words in there that don't mean anything :). Oh wait, I guess it should be singular, right?. Yep, you're right nvm.. I guess so. In that case sort-name makes more sense. Same for service providers command.. System events vs other kinds of events?. Can we change the name to debug:providers or debug:service-providers? Individual services are not listed here. Also update the class name to match. \nDescription: Dumps service providers and their order.. Can Boot Order be changed to just Order? Order affects services registered, booted, event subscriptions, and controllers mounted.. What's with the separate method?. Dumps event listeners. sort-name. Event Listeners. Routes. Dumps service providers and their order.. sort-name. This is where I was saying it seems to make more sense to have a value here instead of an option for each sorting. --sort name/path/method.. The first header is the exact same info as the second, no?\nI think Listener would be better than Callable.. I know what it outputs. I meant it conveys the same information. Why not:\nphp\n$file = $app['filesystem']->getFile('config://' . $file);. This won't work as the file doesn't have the new contents yet.. No it doesn't.. Errrumm what's a BC? \ud83e\udd26\u200d\u2642\ufe0f . Fixed using your suggestion of reflection. env_error_level because it could be debug_error_level or production_error_level.\nI think they are separate too, but I'm fine changing the default to use the same config value.. Just use a Bag ;). Actually using array_intersect_keys would be easier. . Why have both?  The first works for both cases.. This feels hacky to me. I think we should either call twig directly here or do a sub request.. This isn't good because it applies the middleware to all requests. It would be better to set on route definition so it only gets applied to that route. \nI'm also worried that boiling it down to $maxAge doesn't get enough flexibility. Maybe changing the method name to setResponseMaxAge instead that way another cache helper could be created if needed.. If the theme specific template doesn't exist there's no fallback to the global one now. Call twig->resolveTemplate->render().\nAlso you could still use a TemplateResponse here.. If you do testLegacySearch you can skip the group annotation.. TemplateResponse not TemplateView. The only extra functionality it would give is the template name, so it's small. . This is probably a derp on my part from last time I modified this route. I don't think the assert is needed here anymore.. Eww I don't like that at all. I would just go back to rendering with twig directly.. shared max age sets public for you. . This should be changed to a route middleware too. You can just check if the $response->isRedirect() before modifying headers.. I've already used the legacy prefix instead of the annotation. Your argument for filter is so you can run testSearchLegacy and testSearchWithFilters with one filter? Ok :expressionless:. I've been trying to get away from string concatenation with paths. Can you assign url generator result to a data attribute in twig and fetch that here?. I know this is making a request to (O)embed, but I don't think it belongs here. It has nothing to do with our Symfony HTTP Requests. Instead it's a service we are calling. I think Bolt\\(O)embed would be better. . I kinda think having our own service class that wraps the ombed api that the controller could call here would be better. Then the controller doesn't have to know anything about the Embed\\* code. But if there's a rush don't worry about it. . IMO the key is going away in 4.0 anyways as the new engine will be the only thing available. That's why I chose booleans for the other two keys. I doubt we are going to try to manage more than one storage engine BC breaking change before 4.0.. I still don't think it's necessary for sub-renders like this. If someone really needs to get into the middle of this they can override the controller. This is an \"internal\" route anyways.. Are we deprecating the config global?. The constant can be used here instead.. Why? These are already globals that can be lazily eval'ed.. This still doesn't handle the case where record is left out. . I mean when the user doesn't pass record. i.e. The PHP code still tries to pull it from globals.. Ok so we should add a deprecation message to that function then. And throw exception if twig_globals is disabled and a record isn't passed in.. @GawainLynch It is a compatibility key.... twig\n{{ constant('Bolt\\\\Version::VERSION') }}. https://github.com/bolt/bolt/blob/release/3.3/src/EventListener/ConfigListener.php#L158-L159. Where did I have it marked as deprecated?. Idk. Where are they used? Maybe not users, but I could see user being useful. Maybe a function would be better though that way access can be checked when requested?. If we don't want them as globals, and we want to pass them for all backend routes (which I may have a problem with), then they should be pulled the proper way, not from Twig globals.. > As I mention in the PR text, there is scope on this \u2026 I am not going to refactor the entire backend templates this close to release \u2026 what is the middle ground here? \ud83d\ude04\nThen leave them as globals, they work fine that way regardless of twig_globals flag.. Does this mean that globals are allowed in macros?. Is this needed? I don't think it should be, the constant can be accessed directly from Twig.. \ud83d\ude22 Is there any need to extend Symfony's Filesystem Loader at this point? Probably not. \nI think we could do validateName differently since our filesystem does some path normalization and root violation check. Either skip it or call our normalize path or something.... This could be done with one line with bolt's filesystem loader above ;). Does looping over $this work? Entity does not implement Traversable. . This breaks liskov substitution principle. Maybe we could use asArray instead. But I'm not sure if the purpose of this method. Why does anyone need the data in this format?  If it's just for serialization we don't need to provide a new method. Just use serialize() instead. . You could use method instead. \nphp\nDeprecated::method(3.4, 'toArray');. @rossriley?. What about $em, $mapping, and $name properties?. change isn't needed.. Where is the change to not call this method anymore? And all serialize() methods for that matter.. Change is not needed.. This logic is different than what toArray would return. We should not suggest it or move this logic to another method someone can call.. ConfigurationValueProxy should be made Serializable instead.. This should return EntityProxies...or I guess the objects they are proxing..maybe..as that's what every other method on the class works with. \nWith the way this is currently coded get() could return an object, an EntityProxy, or a string. Huge red flag \ud83d\udc4e  . Yeah I found that as I was finishing up yesterday. \u2639\ufe0f \nExtension assets are copied to this directory by their composer id, right?. Then neither is this class.. Ok. I'll see if I can figure out a way to pass this to the extension.. It does make sense. It would be a bc break though. Also it is something each extension would have to define manually, not that that is a problem. . Tags aren't supposed to be inline unless they are wrapped with {}. You can just hardcode false here. safe_mode was removed in PHP 5.4.. false would be better here instead of 0. Second parameter for all of these. I don't think Json::test includes this check, maybe we need to add it?. 0 is default.. These are BC breaks. The methods should be kept here and flip the parameters before calling parent.. php\n        // Match foo(_local).*(.dist)\n        $base = $file->getFilename('.dist');\n        $base = Path::getFilenameWithoutExtension($base);\n        $base = Str::replaceLast($base, '_local', '');\n. isJson method could be deprecated and replaced with Json::test. This needs work. There's a false check below that needs to be converted to try/catch. Still don't know why you don't want escaped slashes and unicode here.. Is throwing an exception ok here? Maybe people are using false returns here too.... If you're asserting regex you don't need the empty assertion. Probably should keep this and mark as legacy.. If users don't have dist files anymore my first thought is :fire: but I'm also wondering if there are other use cases for this. There could be other places dist files are used, not just config files and not core files. I think since we have the functionality implemented it is fine to keep it.. I think the $last check is still needed.. I don't think any of these filters are needed.\nWhy limit the filename?\nThe |shy filter isn't needed as this is data not display text.\nThe |trim filter isn't needed as filenames cannot contain spaces.. Parenthesis mistake.. Maybe note to drop when 2.5 and PHP 7.0 is dropped?. I'd drop the version comparison here. The feature detection is sufficient.. This should be moved to JsonType::getMappedDatabaseTypes.. Implement this as getMappedDatabaseTypes. You don't need to call it either, DBAL will handle registering it. . You don't need to call this. Doctrine does it for you here.. Maybe we should override it for 2.6+ so it is consistent? Our Type is different than the one doctrine provides.. How does that follow? I am saying ours now matches what dbal 3.0 will look like. So we need to apply it to all of dbal 2.x. The class exists call and comment are not needed and wrong. The alias is defined here not in the new class. . I'm pretty sure that this always needs to return true (matching upstream) that way DBAL doesn't try to use JsonArrayType when mapping back to PHP value. . It would be better to use $twigEnv->isDebug() instead here.. ",
    "lavoiesl": "You may notice that this check is gone, I don\u2019t believe it is necessary to limit to current theme, especially if we want to support parent themes or having extensions adding custom templates. It could be argued that a check could be added to at least be in the themes directory.\n. Twig_Error_Syntax is not handled, it could be added in the future, but it would have to handle the case where the 404 page itself triggers an error (like in _header.twig)\n. ",
    "dmm1": "sorry missed that\n. ",
    "timcooper": "The reason I did it differently was to ensure parity with the non-liveedit counterpart. In a textarea field you can have newlines and they will persist to storage. This allows things like outputting the field with {{ content.textarea | nl2br }} using .text() would mean you can have newlines when editing content via the panel and then they would disappear if you used live edit.\nI wasn't aware of the \"extra\" contenteditable commands, browser vendors are terribly inconvenient. Seems like there are plans for a contenteditable=\"plaintext\" functionality but nothing we could actually use yet. \n. ",
    "wysow": "Does it mean that you don't like this implementation?\n. ",
    "phoenixgao": "These defaults could change to utf8mb4 in future if you want to support multi byte characters out of box for non-technical users.\n. @GawainLynch ah, you're right. I forgot this.\nignore my above note ;p\nI don't have experience with databases other than mysql, is it ok to have a default \"collate\" here?\n. ",
    "Nitpick-CI": "Expected 0 spaces before closing bracket; 1 found\n. Arguments with default values must be at the end of the argument list\n. Expected 1 space after FOREACH keyword; 0 found\n. Expected 1 space after comma in function call; 4 found\n. There must be one blank line after the namespace declaration\n. There must be one blank line after the namespace declaration\n. There must be one blank line after the namespace declaration\n. Expected 1 newline at end of file; 0 found\n. There must be one blank line after the namespace declaration\n. Expected 1 newline at end of file; 0 found\n. Expected 1 space after IF keyword; 0 found\n. Arguments with default values must be at the end of the argument list\n. Expected 1 space after closing parenthesis; found 9\n. No space found after comma in function call\n. Expected 0 spaces after opening bracket; newline found\n. Method name Relations::getTo_id is not in camel caps format\n. - Expected 0 spaces before closing bracket; 1 found\n- Expected 1 space after closing parenthesis; found 0\n. - Expected 1 space after IF keyword; 0 found\n- Expected 1 space after closing parenthesis; found 0\n. - Expected 1 space after IF keyword; 0 found\n- Expected 1 space after closing parenthesis; found 0\n. Arguments with default values must be at the end of the argument list\n. Expected 1 space after FOREACH keyword; 0 found\n. Expected 1 space after FOREACH keyword; 0 found\n. Expected 1 newline at end of file; 0 found\n. Visibility must be declared on method _extractLocations\n. Expected 1 space after FOREACH keyword; 0 found\n. - Expected 1 space after WHILE keyword; 0 found\n- TRUE, FALSE and NULL must be lowercase; expected false but found FALSE\n. Visibility must be declared on method _determineSnipLocation\n. Expected 1 space after IF keyword; 0 found\n. Expected 1 space after FOR keyword; 0 found\n. Expected 1 space after IF keyword; 0 found\n. Expected 1 space after closing brace; newline found\n. Expected 1 space after IF keyword; 0 found\n. - Visibility must be declared on method extractRelevant\n- Incorrect spacing between argument $rellength and equals sign; expected 1 but found 0\n- Incorrect spacing between default value and equals sign for argument $rellength; expected 1 but found 0\n. Expected 1 space after IF keyword; 0 found\n. No space found after comma in function call\n. Expected 1 space after IF keyword; 0 found\n. - Expected 1 space after IF keyword; 0 found\n- Expected 0 spaces after opening bracket; 1 found\n. Whitespace found at end of line\n. Expected 1 space after IF keyword; 0 found\n. Expected 1 space after FOREACH keyword; 0 found\n. The closing brace for the class must go on the next line after the body\n. Opening parenthesis of a multi-line function call must be the last content on the line\n. Opening brace should be on a new line\n. Spaces must be used to indent lines; tabs are not allowed\n. Spaces must be used to indent lines; tabs are not allowed\n. Spaces must be used to indent lines; tabs are not allowed\n. Spaces must be used to indent lines; tabs are not allowed\n. Spaces must be used to indent lines; tabs are not allowed\n. Expected 1 space after FUNCTION keyword; 0 found\n. Arguments with default values must be at the end of the argument list\n. Expected 1 space after closing parenthesis; found 9\n. Expected 1 space after closing parenthesis; found 17\n. Expected 0 spaces after opening bracket; newline found\n. Expected 0 spaces after opening bracket; newline found\n. No space found after comma in function call\n. Expected 0 spaces before closing bracket; 1 found\n. Multi-line function call not indented correctly; expected 12 spaces but found 16\n. No space found after comma in function call\n. Expected 1 space after IF keyword; 0 found\n. The closing brace for the class must go on the next line after the body\n. Whitespace found at end of line\n. Whitespace found at end of line\n. Expected 0 spaces before closing bracket; newline found\n. Expected 0 spaces before closing bracket; newline found\n. Expected 1 blank line at end of file; 2 found\n. Expected 1 space after closing parenthesis; found 0\n. Line indented incorrectly; expected at least 12 spaces, found 8\n. - Line indented incorrectly; expected 8 spaces, found 4\n- Closing brace indented incorrectly; expected 8 spaces, found 4\n. Expected 1 newline at end of file; 0 found\n. Whitespace found at end of line\n. There must be one blank line after the last USE statement; 2 found;\n. - Opening brace must be the last content on the line\n- Closing brace must be on a line by itself\n- Each PHP statement must be on a line by itself\n. Expected 1 blank line at end of file; 2 found\n. Whitespace found at end of line\n. Whitespace found at end of line\n. Closing brace must be on a line by itself\n. There must be one blank line after the last USE statement; 2 found;\n. Expected 1 newline after opening brace; 2 found\n. Expected 1 newline after opening brace; 2 found\n. Expected 0 spaces before closing bracket; newline found\n. Multi-line function call not indented correctly; expected 16 spaces but found 20\n. - Multi-line function call not indented correctly; expected 12 spaces but found 20\n- Closing parenthesis of a multi-line function call must be on a line by itself\n. Expected 1 space after IF keyword; 0 found\n. Expected 1 space after IF keyword; 0 found\n. There must be one blank line after the namespace declaration\n. Expected 1 newline at end of file; 0 found\n. Expected 1 newline at end of file; 0 found\n. Expected 1 newline after opening brace; 2 found\n. Expected 1 newline after opening brace; 2 found\n. There must be one blank line after the last USE statement; 3 found;\n. Expected 1 newline after opening brace; 2 found\n. Expected 1 space after closing parenthesis; found 0\n. Line indented incorrectly; expected at least 24 spaces, found 22\n. - Expected 1 space after ELSEIF keyword; 0 found\n- Expected 0 spaces after opening bracket; newline found\n. Expected 0 spaces after opening bracket; newline found\n. Expected 0 spaces before closing bracket; 1 found\n. - Expected 1 newline at end of file; 0 found\n- The closing brace for the class must go on the next line after the body\n. Expected 0 spaces before closing bracket; 1 found\n. - Expected 1 newline at end of file; 0 found\n- The closing brace for the class must go on the next line after the body\n. Expected 0 spaces before closing bracket; 1 found\n. - Line indented incorrectly; expected 8 spaces, found 9\n- Closing brace indented incorrectly; expected 8 spaces, found 9\n. - Expected 1 newline at end of file; 0 found\n- The closing brace for the class must go on the next line after the body\n. The closing brace for the class must go on the next line after the body\n. Opening parenthesis of a multi-line function call must be the last content on the line\n. - Multi-line function call not indented correctly; expected 12 spaces but found 16\n- Closing parenthesis of a multi-line function call must be on a line by itself\n. Opening parenthesis of a multi-line function call must be the last content on the line\n. - Multi-line function call not indented correctly; expected 12 spaces but found 16\n- Closing parenthesis of a multi-line function call must be on a line by itself\n. Opening parenthesis of a multi-line function call must be the last content on the line\n. - Multi-line function call not indented correctly; expected 12 spaces but found 16\n- Closing parenthesis of a multi-line function call must be on a line by itself\n. The closing brace for the class must go on the next line after the body\n. The closing brace for the class must go on the next line after the body\n. The closing brace for the class must go on the next line after the body\n. - Opening brace must be the last content on the line\n- Closing brace must be on a line by itself\n- Each PHP statement must be on a line by itself\n. - Opening brace must be the last content on the line\n- Closing brace must be on a line by itself\n- Each PHP statement must be on a line by itself\n. Expected 1 space after USE keyword; found 0\n. - Opening brace must be the last content on the line\n- Closing brace must be on a line by itself\n- Each PHP statement must be on a line by itself\n. - Opening brace must be the last content on the line\n- Closing brace must be on a line by itself\n- Each PHP statement must be on a line by itself\n. - Opening brace must be the last content on the line\n- Closing brace must be on a line by itself\n- Each PHP statement must be on a line by itself\n. Expected 1 newline after opening brace; 2 found\n. Expected 1 space after IF keyword; 0 found\n. - Expected 1 space after comma in function call; 2 found\n- Expected 1 space after FUNCTION keyword; 0 found\n- Opening brace must be the last content on the line\n- Closing brace must be on a line by itself\n- Each PHP statement must be on a line by itself\n. - Expected 1 space after comma in function call; 2 found\n- Expected 1 space after FUNCTION keyword; 0 found\n- Opening brace must be the last content on the line\n- Closing brace must be on a line by itself\n- Each PHP statement must be on a line by itself\n. Expected 0 spaces before closing bracket; 1 found\n. - Opening brace must be the last content on the line\n- Closing brace must be on a line by itself\n- Each PHP statement must be on a line by itself\n. Expected 1 space after FUNCTION keyword; 0 found. - Expected 1 space after IF keyword; 0 found\n- Expected 1 space after closing parenthesis; found 0\n. Expected 1 space after closing brace; newline found. - Expected 1 space after ELSEIF keyword; 0 found\n- Expected 1 space after closing parenthesis; found 0\n. The closing brace for the class must go on the next line after the body. Expected 1 newline at end of file; 0 found. Expected 1 newline at end of file; 0 found. Expected 1 newline at end of file; 0 found. No space found after comma in function call. - Expected 1 space after IF keyword; 0 found\n- Expected 1 space after closing parenthesis; found 9\n. - Expected 1 space after IF keyword; 0 found\n- Expected 1 space after closing parenthesis; found 9\n. Each class must be in a file by itself. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Closing brace must be on a line by itself. Expected 1 space after closing parenthesis; found 0. - No space found after comma in function call\n- Space found before comma in function call\n. Expected 1 space after closing parenthesis; found 0. Expected 1 space after closing parenthesis; found 0. Spaces must be used to indent lines; tabs are not allowed. Whitespace found at end of line. Expected 1 space after closing brace; newline found. Whitespace found at end of line. Expected 1 space after comma in function call; 11 found. Expected 1 space after comma in function call; 11 found. Expected 1 space after comma in function call; 6 found. Expected 1 space after comma in function call; 2 found. Expected 1 space after comma in function call; 2 found. Expected 1 space after comma in function call; 2 found. - Expected 1 space after IF keyword; 0 found\n- Expected 1 space after closing parenthesis; found 0\n. Whitespace found at end of line. Expected 1 space after closing parenthesis; found 0. Whitespace found at end of line. Whitespace found at end of line. Inline control structures are not allowed. Whitespace found at end of line. Whitespace found at end of line. - Expected 1 space after IF keyword; 0 found\n- Expected 0 spaces before closing bracket; 1 found\n. Expected 1 space after IF keyword; 0 found. Expected 1 space after USE keyword; found 0. - Opening brace must be the last content on the line\n- Closing brace must be on a line by itself\n- Each PHP statement must be on a line by itself\n. - Opening brace must be the last content on the line\n- Closing brace must be on a line by itself\n- Each PHP statement must be on a line by itself\n. - Opening brace must be the last content on the line\n- Closing brace must be on a line by itself\n- Each PHP statement must be on a line by itself\n. - Method name ArrayExtension::is_array is not in camel caps format\n- Expected function abc(...); found function abc(...)\n. Only one argument is allowed per line in a multi-line function call. The closing brace for the trait must go on the next line after the body. The closing brace for the class must go on the next line after the body. The closing brace for the class must go on the next line after the body. Expected 0 spaces before closing bracket; 1 found. Expected 0 spaces before closing bracket; 1 found. Line indented incorrectly; expected 4 spaces, found 5. Line indented incorrectly; expected 8 spaces, found 5. Expected 1 space after IF keyword; 0 found. Expected 0 spaces after opening bracket; 1 found. Expected 0 spaces after opening bracket; 1 found. Expected 0 spaces after opening bracket; 1 found. Expected 0 spaces after opening bracket; 1 found. Expected 0 spaces after opening bracket; 1 found. - Expected 1 space after closing brace; 0 found\n- Expected 1 space after ELSEIF keyword; 0 found\n- Expected 1 space after closing parenthesis; found 0\n. Opening brace should be on a new line. - Expected 1 space after FOREACH keyword; 0 found\n- Expected 1 space after closing parenthesis; found 0\n. Opening parenthesis of a multi-line function call must be the last content on the line. Whitespace found at end of line. Whitespace found at end of line. Whitespace found at end of line. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 1 space after FUNCTION keyword; 0 found. Expected 1 newline at end of file; 0 found. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 1 space after FUNCTION keyword; 0 found. Expected 1 newline at end of file; 0 found. Expected 1 newline at end of file; 0 found. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 1 newline at end of file; 0 found. Expected 1 newline at end of file; 0 found. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 0 spaces before closing bracket; newline found. Expected 1 newline at end of file; 0 found. - Multi-line function call not indented correctly; expected 12 spaces but found 16\n- Closing parenthesis of a multi-line function call must be on a line by itself\n. Closing parenthesis of a multi-line function call must be on a line by itself. - Multi-line function call not indented correctly; expected 12 spaces but found 16\n- Closing parenthesis of a multi-line function call must be on a line by itself\n. Closing parenthesis of a multi-line function call must be on a line by itself. - Multi-line function call not indented correctly; expected 12 spaces but found 16\n- Closing parenthesis of a multi-line function call must be on a line by itself\n. Closing parenthesis of a multi-line function call must be on a line by itself. Multi-line function call not indented correctly; expected 12 spaces but found 16. Multi-line function call not indented correctly; expected 8 spaces but found 12. Multi-line function call not indented correctly; expected 12 spaces but found 16. Multi-line function call not indented correctly; expected 8 spaces but found 12. Multi-line function call not indented correctly; expected 12 spaces but found 16. Multi-line function call not indented correctly; expected 8 spaces but found 12. Expected 1 space after CATCH keyword; 0 found. No space found after comma in function call. Opening parenthesis of a multi-line function call must be the last content on the line. - Multi-line function call not indented correctly; expected 16 spaces but found 20\n- Closing parenthesis of a multi-line function call must be on a line by itself\n. Opening parenthesis of a multi-line function call must be the last content on the line. Closing parenthesis of a multi-line function call must be on a line by itself. Opening parenthesis of a multi-line function call must be the last content on the line. - Multi-line function call not indented correctly; expected 12 spaces but found 16\n- Closing parenthesis of a multi-line function call must be on a line by itself\n. Opening parenthesis of a multi-line function call must be the last content on the line. - Multi-line function call not indented correctly; expected 16 spaces but found 20\n- Closing parenthesis of a multi-line function call must be on a line by itself\n. Opening parenthesis of a multi-line function call must be the last content on the line. - Multi-line function call not indented correctly; expected 12 spaces but found 20\n- Only one argument is allowed per line in a multi-line function call\n- Closing parenthesis of a multi-line function call must be on a line by itself\n. Opening brace should be on the same line as the declaration. Expected 1 space after FOREACH keyword; 0 found. Expected 1 space after FUNCTION keyword; 0 found. - Expected 1 space after FUNCTION keyword; 0 found\n- Expected 1 space after closing parenthesis; found 0\n. Expected 1 space after closing parenthesis; found 0. The closing brace for the class must go on the next line after the body. Expected 1 space after FUNCTION keyword; 0 found. Whitespace found at end of line. Whitespace found at end of line. Expected 1 space after comma in function call; 3 found. Expected 1 space after FOREACH keyword; 0 found. - Expected 1 space after FUNCTION keyword; 0 found\n- Expected 1 space after closing parenthesis; found 0\n. Whitespace found at end of line. - Opening parenthesis of a multi-line function call must be the last content on the line\n- Only one argument is allowed per line in a multi-line function call\n. - Multi-line function call not indented correctly; expected 12 spaces but found 16\n- Closing parenthesis of a multi-line function call must be on a line by itself\n. The closing brace for the class must go on the next line after the body. Expected 0 spaces after opening bracket; 1 found. Whitespace found at end of line. - Expected 1 space after FUNCTION keyword; 0 found\n- Expected 1 space after closing parenthesis; found 0\n. Expected 1 newline at end of file; 0 found. Expected 1 newline at end of file; 0 found. Expected 1 space after FUNCTION keyword; 0 found. Expected 1 space after FUNCTION keyword; 0 found. Expected 1 space after FUNCTION keyword; 0 found. Expected 1 space after FUNCTION keyword; 0 found. Expected 1 space after FUNCTION keyword; 0 found. Expected 1 space after FUNCTION keyword; 0 found. The closing brace for the class must go on the next line after the body. Inline control structures are not allowed. Expected 1 space after closing brace; newline found. The first parameter of a multi-line function declaration must be on the line after the opening bracket. - The closing parenthesis of a multi-line function declaration must be on a new line\n- There must be a single space between the closing parenthesis and the opening brace of a multi-line function declaration; found newline\n. Expected 1 space after closing brace; newline found. Expected 1 space after comma in function call; 2 found. Expected 1 space after comma in function call; 2 found. Expected 0 spaces before closing bracket; newline found. - Line indented incorrectly; expected 8 spaces, found 12\n- Closing brace indented incorrectly; expected 8 spaces, found 12\n. Expected 1 newline at end of file; 0 found. Expected 1 newline after opening brace; 2 found. Expected 0 spaces after opening bracket; 1 found. - Expected 1 space after IF keyword; 0 found\n- Expected 1 space after closing parenthesis; found 0\n. Whitespace found at end of line. Each PHP statement must be on a line by itself. Each PHP statement must be on a line by itself. Each PHP statement must be on a line by itself. Expected 1 space after FUNCTION keyword; 0 found. Expected 1 space after FUNCTION keyword; 0 found. ",
    "alsanchez86": "Really?\n. ",
    "mtsk": "Won't row 351 now raise Notice: Undefined index if $val['datechanged'] is not set (isset returns false)?\n. Ah, okay. So row 353 could be just an else statement? :P\n. ",
    "robbert-vdh": "I decided to go with the one liner because it's a tiny bit more efficient, but since we're only dealing with a maximum of three additional checks and four times the number of content types variable assignments I guess it won't matter much. If you guys find this easier to read I'll change it.\n. ",
    "dantleech": "The number of unused dependencies for this test probably makes a good case for breaking the logic out of here.\n. ok cool. I wil try adapt this to the standard form from the other tests and use this code in an RFC\n. Pimple does not let you override frozen services or extend non-objects, and after the TwigServiceProvider is registered, these options seem to be frozen. Moved before we instantiate the TwigServiceProvider below, however that suggests that it might be registerred before.. ",
    "mrcarlosdev": "The expiration date can be set by the admin user on the form. \nWe can set a max date if you want. \n. ",
    "dwolfhub": "good catch\n. this was the default where it's used, in Bolt\\Session\\SessionStorage. @CarsonF may be able to chime in.\n. sorry where?\n. oh right. thx\n. @CarsonF before i continue with more options, is this what you had in mind?\n. sure thing, made that change\n. @CarsonF an explanation: $conn is a string, but the constructor for Parameter bag expects an array. Also, you were passing the parameter bag into the Uri constructor and then setting that to 'uri' in the same ParameterBag. It didn't make sense to me (and threw an exception), but maybe I'm missing something.\n. right, sorry. fixed.\n. @CarsonF is this what you had in mind?\n. ",
    "dadaxr": ":+1: done :)\n. ",
    "Maelstromeous": "\ud83d\udc4d for using proper error codes!\n. ",
    "bobvandevijver": "Updated commit fixing this :)\n. Fixed with updated commit.\n. ",
    "roggan87": "Ideally all fields would emit the keyup and change events, but some doesn't. These fields won't tell if the the values are altered, so instead we act as they're changed every time they're opened in a modal.. ",
    "gander": "$params is array type, require the correct data type. it's return QueryResultset or Content  or null. Find better, but don't set one type. Maybe mixed?. 1) dump output for certain queries\n2) its used for queries so should return set or content or null\n3) look at line 51 & 53\n. ",
    "kouz75": "fix super globals . I have rewrite several variable name. ",
    "sbani": "Thank you @GawainLynch. What are these circumstances?\nDo you have any tests in mind or do you want to give me a short introduction in slack?\nI will help where I can. ah @GawainLynch. Definitely no problem. I know you have a lot to do and it's ok for me to wait.\nThank you for the kind words.\nI know the slug should somehow be present and I'm not into the code at all anymore (maybe because of \ud83c\udf7a ), but as far as I understand the slug is now required to save the record. At least in my case.\nThis means that there are two possibilities right now (if the user has no slug the content type):\n1. create a slug (silently) in the background\n2. update legacy code to work without slug.\nWhen I interpret your answer correctly, only 1 can prevent BC breaks because 2 is too fragile.\nAll in all it sounds like a too big topic for this PR, isn't it?\nPlease let me know what I can contribute or how I can help.\nBecause a generated slug in the content type is the short fix for us at the moment and we are fine with that.\nThank you for your fast replies. \ud83e\udd47 . thanks. I will close this PR.\nDo you think I should close the issue too?. ",
    "HeinDR": "The trace is empty. The $driverNames property is called from the getPlatform method. This is the error I got:\nFatalErrorException in DatabaseExceptionTrait.php line 47: \nError: Cannot access property Bolt\\Exception\\Database\\DatabaseConnectionException::$driverNames\nTo reproduce you can change the databasename in the config.yml to a non existing databasename and you should get the error. . Hm that is strange. When I change the name I still get this error. Could it be a PHP version thing? I'm using 5.6.20.. When I do a stacktrace I see that getPlatform is called from:\nBolt\\Exception\\Database\\DatabaseException->getPlatform() called at [/var/www/hderuiter/incadat/vendor/bolt/bolt/src/EventListener/ExceptionListener.php:170]. Oke cool.. ",
    "eduardomart": "Sounds good to me. ",
    "lenvanessen": "Did not see this earlier, sorry about that.\nCurrently the filename itself is trimmed down in the display, for BUIC as wel as the filemanager. \nIt comes down to this, if the filename in the data-attribute would be the original (if longer than 80), than you'd get an inconsitancy in the display, the marking, and the search.\nIf you'd copy paste a filename in that is longer than 80 chars it would be found, but not marked.\nIf we'd remove the trim, we should also remove it for the display, so they are consistent. Simply left it there because I don't know why it was put in in the first place.. ",
    "develth": "But are currently in use for search, or i missed something?. Ok - fixed.. ",
    "mrenigma": "Would you like me to remove this? I saw you had quite a few IDE specific ignores but not PHPStorm so I added it but I can remove. Hmmm I swear I copied this from somewhere else in Bolt :thinking:. Doesn't matter, I'll update all of these to remove the empty!. Not the empty()?! :astonished: I never thought I'd hear you say that :stuck_out_tongue_winking_eye:. Okay sure, let's chat once your back from NL.. ",
    "Boorj": "@GawainLynch i wasn't sure, how much memory does Slugify take and is it only 1 instance per PHP response called. I mean, if multiple files and one php session, and heavy Slugify. So that's why i created distinct variables. This solution was my first one. And thanks for using that.. I'm not sure if we should allow limit === 0 pass. Because the original code was using the second ternary block in case of zero limit.\nSo, probably we should change !empty to isset, but leave the second condition?\np.s. love that ?? php7 feature :(. Actually, as i told in issue,  i was fixing [..., 0, ...] case. I didn't know exactly, what was the purpose of filtering at all - so i fixed my actual case.\n@GawainLynch can you take a look at investigation in #7411 ?\n. Ookay, so please take your time) and notify me on update). Maybe.. you could just merge this PR )?. yay! \ud83d\ude00 \n(actually, in such situations i dislike all those complex polymorphic functions). ",
    "horus68": "matched-oembed or matched-video?\nEnglish file:\nfield.embed.matched-oembed: \"Matched Embed\"\nbut nl-NL was changed to:\nfield.embed.matched-video: \"Gevonden embed\". @GawainLynch it was not me, but the Bolt lint tool. All \"Unused messages\" messages gets the keyword quoted after been passed by the language lint tool from Bolt (Admin / config / messages)\nExample: Strings in the downloaded file for cs_CZ:\n```\n\"Title\": \"Nadpis\"\n\"Everybody\": \"V\u0161ichni\"\nusers.your-password: \"Va\u0161e heslo\"\ncontenttypes.generic.group.taxonomy: \"Taxonomie\"\ncontenttypes.generic.group.template: \"\u0160ablona\"\n```\nStrings after been saved by BOLT:\n```\n--- Unused messages ----------------------------------------------------------\n\"Title\": \"Nadpis\"\n\"users.your-password\": \"Va\u0161e heslo\"\n--- Legacy translation messages ----------------------------------------------\n\"Everybody\": \"V\u0161ichni\"\n--- Translation messages -----------------------------------------------------\ncontenttypes.generic.group.taxonomy: \"Taxonomie\"\ncontenttypes.generic.group.template: \"\u0160ablona\"\n``\nAs you can see (inusers.your-password` ) the Unused and Legacy messages are quoted by Bolt. The \"translations section are not edited by BOLT.\nSo this shouldn't be a problem to block this PR but a bug alert to solve in a different PR.. This is an action done by Bolt and it will do it for any edited/saved language file.\nThis was previous explained in this comment: https://github.com/bolt/bolt/pull/7466#discussion_r186095292\nSo this shouldn't be a block issue for this PR.\nWhat will be the proper action here?. I'm here to help. I'm trying to understand this.\nI will do a test with a plain install and will report back regarding those strings. \"source\" should not be translate, only \"target\".\nOriginal source is \"Passwords must match.\" but you translated the opposite?\nPlease see https://crowdin.com/project/bolt\n. Strange to see english values present here along with your language!. ",
    "andrewtheone": "shouldnt it be isset($before['address']) ?$before['address'] : '', ?. ",
    "JarJak": "This is not about directions. Bug is not caused by column type change, just both TEXT and BLOB types are affected.\nIt affects DBAL >= 2.5 and probably every version of MySQL / MariaDB.. Starting from MariaDB 10.2.1, BLOB and TEXT columns can have a DEFAULT value. However DBAL seems to ignore this feature: https://github.com/doctrine/dbal/blob/master/lib/Doctrine/DBAL/Platforms/MySqlPlatform.php#L598\nMysql is affected from 5.5 up to 8.0. I can't check it for 9.0 as this version is not yet released.. @GawainLynch the extension you provided disables all default checks, this is not needed nor good solution. Here's why:\n- this is not only about MariaDB 10.2.1+ but for MySQL 5.5+ too\n- only TEXT column type is affected (I don't think Bolt uses BLOB anywhere). ugh, filter is for filtering, not mapping... i'm sure there is a better way to do this. like http://php.net/manual/en/function.iterator-apply.php. why view and model layers are mixed here?. silencing invalid argument? what's the purpose of this?. 1. Is this a BC Break?\n2. Docs and config samples should be updated too.\n3. I'm 99% sure that this param is also used somewhere else.. @rossriley could you improve this?. Oh ok, now I can see that this is unset only for new Storage, legacy one still receives this parameter. \ud83d\udc4d . phpdoc needs an update. string|null. You have changed behavior of this method so now passing null as $password (as you do in line 104) is correct.. $field->get('limit') has 500 as default value so ?? 500 is useless here.\nOr if I am wrong and $field->get('limit') returns null, then 500 should be also used in getYamlValues().. {% set atitle = attrib %}. I think the special 'alt text' is here for historical reasons. It is 3 years old and not documented so I think this replace can be removed too.. Great! Can you set 500 as DEFAULT_LIMIT const?. default value triggers error?. just set default value of $sripFields to [] here. remove null. ",
    "ToBe998": "Are you sure you want this? That line is actually untouched by me.. like this?. like this?. ",
    "Pionell": "what do you mean by opposite? \"slapta\u017eod\u017eiai nesutampa\" more or less == \"Passwords must match.\" just depends on the way you translator interprets it, but it's an accurate translation. whoops, missed this one. oh, ok, sorry, will modify it :) . ",
    "romulo1984": "@JarJak I have removed the coalesce (because it is not compatible with PHP 5.5.9) and kept 500 as default value. In my tests, I saw no limit in both cases, returning a very large result set.\nWith this change, the documentation will now have this information as true. :smile: . ",
    "artggd": "I realize that this morning, update coming up now. "
}