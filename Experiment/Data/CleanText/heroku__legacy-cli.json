{
    "pedro": "Thanks for the report!\nI've moved this issue to Taps, the component we use to do the db transfer:\nhttp://github.com/ricardochimal/taps/issues/#issue/7\n. I wrote this patch in response to a support ticket, so we're still seeing users getting bitten by this.\nBut despite that, I'd say this is not particularly urgent: it's just the way the gem has been working for a long time. And even if we apply this patch today, it will take a considerable amount of time until everyone updates - so I think waiting a few more weeks for a proper solution sounds reasonable.\nIf anything this issue also points out that confirmation messages are not working the way they were intended. Out of curiosity, do you guys have plans to get rid or replace them?\n. (But yeah closing this request then, will wait for proper option parsing).\n. True, it's better than escaping.\nI was hoping for some magic to detect cases like this but I guess there's not a lot we can do as this is the normal shell behavior, and it acts before our gem.\nThanks\n. Tricky, that's because of a deleted user. Opened heroku/core#786 to track this.\nThanks!\n. Confirm, Cedar apps will always show up completed.\n. Thanks!\n. Hi @tomdickin,\nOdd, if the app doesn't show in heroku list it definitely doesn't exist.\nDo you happen to have the output of that session or any other info that might help us debugging this?\nIn the meantime I'm closing this out as fork now does prompt to delete the app on failure!\nThanks\n. Good question! We just decided to be pretty conservative after a bug made it delete the original app (which happened if you tried to fork an app to the same name, eek). But now that the confirmation is in I kinda like how it allows us to further debug some errors.\nPart of the challenge here is that fork is pretty much a client-side feature. If we move it into a proper API then we'll be able to make it more consistent.\n. Nice one! What do you think @friism ?\n. Is this supposed to work?\n$ echo ls | heroku run bash\nls is pipped in, but the run session gets stuck after that.\n. Added a spec and a minor tweak.\nI think we absolutely can't change how -s works, people might be relying on it for automated stuff (unfortunate that they're not making API calls but this is what we get from releasing a client before the API heh).\nNow, are URIs worth an exception? So many apps have cookie secrets and others in the ENV that I don't see much value in hidding URIs alone. On the other hand it could make the problem worse (eg give people the feeling that they can safely screenshare the output of heroku config when that's only true if all secrets are in URIs).\nThoughts?\n. @kr hey! sorry for dropping the ball. I just don't have a strong feeling in here, do you want help with that query or should we just merge?\nThanks!\n. Ahh, the stuff that happens when we release a CLI before the API :}\n@kr lets take a look at the query then, but ponder this in the decision.\nShould also consider keeping this in a plugin for now.\n. Hmm guys had some issues with this patch:\n- Some plugins like sudo are still requiring vendor/heroku/okjson, so maybe we should leave it as a stub?\n- I had to manually add a require \"multi_json\". Is this working for you guys otherwise?\n- Keep in mind the Toolbelt bundles its own Ruby, so I don't see how is this going to make a difference unless for the people still installing Toolbelt as a gem. Thoughts?\n. Do you have the CLI installed as a gem then?\nI'm just afraid that this won't matter for the vast majority of users (standalone Toolbelt). But we should be able to test it out.\n. No! I'm just thinking MultiJson will always use OkJson (unless for users that have Toolbelt installed as a gem), so this doesn't seem to be worth the trouble?\nCould work well as a plugin: shell out to install oj under the same Ruby that is running the toolbelt, and then use it?\n. Is that bundled with Ruby in all platforms?\n. Is it on 1.9? That's the one we bundle with the Toolbelt.\nOtherwise gem install json can fail in quite a lot of ways on Windows :{\nWe can bypass these issues by making sure that the Ruby we bundle with Toolbelt on windows has a pre-compiled version of json! I wouldn't know where to even start, but can share some ideas if you guys want to investigate this further.\nI know this is painful, but gotta make sure we're covering all platforms!\n. I'm down for the approach here (or in #880), just keep in mind that it might not work for people with the Toolbelt installed (as json and others won't be available).\nFor instance, on my machine:\n```\n$ which heroku\n/usr/local/heroku/bin/heroku\n$ head which heroku\n!/usr/local/heroku/ruby/bin/ruby\nencoding: UTF-8\n```\nSo the heroku binary uses the Ruby interpreter bundled with Toolbelt, which doesn't share the same gems as I have on the system (check /usr/local/heroku/ruby/bin/gem list).\nGood news is that once this patch is merged we can at least tell people to try to run  /usr/local/heroku/ruby/bin/gem install oj for the moment.\nAnyways, can any of you guys just double check whether we need to require multi_json and to bring vendor/heroku/okjson back as a stub?\n. If someone's down for doing the changes and minimal testing I'll review/test moar and merge for sure!\nThanks guys\n. Ok! Rebased, tested some more and it looks ok, getting this in.\n. Had to rollback guys :{ this basically broke the toolbelt for several users, I think auto update just doesn't take care of installing new gems on some systems.\n. Can you try updating both the Toolbelt and the plugin?\n$ heroku update\n$ heroku plugins:install git://github.com/heroku/heroku-pg-extras.git\nThanks!\n. Oops! Thanks for the reference. Will work to make these updates smoother in the future.\nClosing this one down then, please reopen if still happening.\n. Hey guys,\nSorry for the trouble, taking a look but wasn't able to reproduce yet.\nIs this happening consistently?\n@will ideas? surprised there's a nil transfer passed around.\n. :+1:!\n. You should be able to achieve something similar with heroku run bash!\nLet me know how that works for you, in the meantime closing.\nThanks!\n. Ah! Sorry, didn't realize this. We definitely discussed interactive mode before, will take a look.\n. Looks good, thanks Hale!\nFailed spec seems to be unrelated, I'll check it out.\n. Should be working now:\nhttps://travis-ci.org/heroku/heroku\nAlthough the issue I fixed in master doesn't seem related to this. Also working locally for me, ping me if you have a failing spec so I can investigate further!\n. This is awesome! Thank you.\n. Interesting, I think you just need to add a scheme to HTTP_PROXY, eg: http://http-proxy2.companyx.com:8080.\nCan you check if that works? If so we might just want to handle this better by defaulting to http or rendering an error that explains what happened.\n. Ah! Excellent find.\nBut so why did you have to hard-code the proxy in first place, was it not being used? Or not sending the right values over?\n. Thanks!\n. Hi there, \nOdd, the latest installer seems to be working for me. The 21mb pkg is a installer that sets everything up.\nWhat is your Mac OS version?\n. Closing in favor of #929 since there's a discussion going on there.\nSolution so far is to downgrade openssl.\n. :+1:! Thanks sir.\n. Hey!\nWe just released v3.7.4, although it bundled a single commit that doesn't change gem dependencies, so still a bit puzzled as to what's going on here.\nEither way it seems like we're having issues to use oj or yajl from the local gems. Can you folks try to remove or reinstall these gems to make sure they're compiled correctly for your OS? I normally see this type of segfault when I update to a newer Mac OS and have to reinstall gems/system dependencies.\nStill looking at what could be causing this now though.\nThanks!\n. It seems like the issue here is that the Toolbelt was inadvertently requiring the \"json\" library that is bundled with Ruby 1.9+. When I dropped that dependency on v3.7.4 because of a Ruby 1.8 issue it allowed multi_json to pick different parsers like yajl and oj, which are broken in some user environments (in particular it seems to be broken for users that upgraded mac OS without recompiling gems).\nTo avoid this issue I brought that dependency back for 3.7.5. Ideally we'd never use system gems, but it seems like there's a bigger problem with how Toolbelt interacts with these that we still need to address :{\nSorry for the inconvenience!\nThanks\n. Ah!\u00a0and sorry @cdussud we don't have a good way for users to lock the version of the Toolbelt as of now.\nFor any sort of automated interaction with Heroku we recommend developing against the API, which is versioned and won't have compatibility issues. You can also use existing API clients in Ruby, Go, Scala and Node, which can be vendored and locked to a specific version too.\nThanks!\n. Thanks dude!\n. Hey there! Can you please try updating both the Heroku CLI and the plugin?\n$ heroku update\n$ heroku plugins:install git://github.com/heroku/heroku-pg-extras.git\nI think this will do! Thanks.\n. Thanks!\nAnd sorry for the trouble, still trying to figure out the underlying issue here.\n. Thanks! Closing this one then :}\n. Interesting! Thoughts @will ?\n. +1!\n. @ryanbrainard odd, seems like we rendered html here?\n. This is awesome! Thank you.\n. Are you able to run processes now?\n. Excellent! Closing down then, thanks for following up :}\n. Great stuff! Thank you.\n. Definitely a great idea! We currently don't offer the exit status as part of the API to run processes, but this is something that can be tweaked in userspace a bit. See:\nhttps://github.com/glenngillen/heroku-exit-status\nClosing for now, we'll definitely revisit once exit status is part of the API.\n. Hi Dan!\nOverall to automate things I'd stay away from the Toolbelt.\nInstead check our API docs, or an API client in Ruby.\nThanks\n. Oops! +1 merging.\n. Eek! I'll take a stab at tweaking this a bit.\n. Hey!\nYeah, I'm afraid this is the best we can do on the current API. Good news is that you can collapse this into a single call when using the new platform API.\nThis seems like a pretty useful command overall, but with the current implementation I'm afraid it may cause some confusion with the double restarts. What do you guys think?\n. What version are you on? You can check with heroku --version.\nIf it's below 3.1 please run heroku update and retry!\n. For sure!\nThe Toolbelt should actually auto-update, but maybe that wasn't enable or didn't quite work on the version you were in. Should be working from this point on!\nThanks\n. This should be fixed with the commit above.\nI can't release it right now but will do ASAP monday.\nThanks!\n. v3.7.4 is out.\nThanks for the patience guys.\n. :+1:!\n. Hey there,\nYeah this looks pretty straight forward, getting it in \u2013 thanks!\nThe state of tests in this front is pretty bad, if anyone wants to take a stab go for it otherwise I'll try to take a look later.\n. Looks good to me! Any final thoughts or lets just get this in for now?\n. Oops, can you please rebase?\n. Alright just getting this in then! hk can't some soon enough heh.\n. awesome, thank you!\n. /cc @will @craigkerstiens \n. Hey! I don't quite get the 302, should this really be a redirect? To where?\nTo me this endpoint should just render a 201 when a new collab is added, or 200 when updated.\nIt's unfortunate but I don't think there's a status code to tell whether the update did something or not (eg: whether the role changed) so that seems like something to do in the client side if we really want to be explicit about it (check the role before making the call, see if it changed on the response). What do you guys think?\n. Oh yes \u2013 as a fix to the existing bug this seems perfectly reasonable to me! Can I merge?\n. Oh I just fixed some Travis issues this morning, should be good in master.\nGetting this in then! Thanks.\n. Cool! Getting this in then.\n. genius! :+1: thanks Mark, been meaning to get this in forever now.\nAnd yeah, it's just the default error for any non 2xx. Could have a different default for 4xx but that's a bit overkill seeing that we really always render error messages.\n. Hey there,\nThis seems like a connection error, is it happening consistently? Are you connecting over a proxy?\n. Hey! Fine is no longer with us :~ but +1 for bringing this in once we bump the heroku-api gem.\n. I think no, need to rebase/see if it passes with the latest?\n. :+1:! Thanks Jonathan.\n. For sure! Will get a release going soon, thanks Clint!\n. Thanks!\n. Hi there, \nAre you still having trouble with this?\nSeems like our pgbackups was failing intermittently there, but I can't seen to reproduce at this moment.\nPlease reopen/let me know if you're still getting these errors!\nThanks\n. Hey! I just released 3.8.4, should fix this issue.\nSorry for the trouble, and thanks for letting us know!\n. Looks good overall. Just slightly concerned with the dependency to an app as you mentioned, any thoughts on how to handle failures on that call so users can still add a domain (or at least get a nice error message asking them to try again)?\n. Minor comment, this is looking good :+1:\nWill test tomorrow after we get the latest API changes in!\n. Awesome! Thanks.\n. @catsby looks good although I didn't test it. how do you feel about merging?\n. Amazing! Thank you Maciek.\n. Hi there!\nThis is odd, are you still having trouble to remove this key even in the web interface?\nIf so please open a support ticket so we can check what's going on, this doesn't seem related to the CLI.\nThanks!\n. Thank you! Closing for now then.\n. I think that was something special to the key.\nAre you also getting undefined method map' for #<String...>?\nWhat do you have on heroku --version?\n. We can/should make implicit attachments also consider URI params! We do that today for something similar, called pseudo attachments (it's like implicit attachments but only work in the same app).\nIf implicit attachments covered these cases would you guys be in favor of dropping this?\n/cc @brandur \n. @deafbybeheading Oh, I thought the issue with these is that implicit attachments wouldn't cover URLs with params (or a different schema).\nI'm also wary of this but up to you guys then.\n. Hi there,\nWhat's the output for heroku --version?\nCan you share the full error message?\nThanks!\n. Odd, can you login at https://dashboard.heroku.com ?\n. Got it! Seems like a connectivity issue, are you behind a proxy or something similar?\nWhat happens when you run host api.heroku.com on that terminal?\n. Ah oops! Try ping heroku.com.\n. Ok this definitely seems like something with your internet connection!\nDo you have a proxy server or any other setup in particular to make it work on your browser?\n. Yes, I'm afraid we'll have to address this issue before you can deploy your app.\nIs there another internet connection you can try? eg: at work/some friend's?\n. Do you know the address of this proxy? If so try running this:\nHTTPS_PROXY=<PROXY ADDRESS> heroku login\nFor example:\nHTTPS_PROXY=127.0.0.42 heroku login\n. Hey! \nHmm doesn't seem like the proxy worked then. Can you double check the address? Do you know if it supports HTTPS?\nSorry I'm not sure how I can help you further other than recommending that you disable the proxy if possible, or try another connection!\nClosing this issue as it doesn't seem to be related to the client.\nThanks\n. Oops! Sorry David, this looks good. Specs are passing here and in Travis so merging.\n. Hi Dimitri, \nThis path won't use ssh, but relies on a https connection. Are you behind a proxy or firewall? Do other heroku commands work?\n. Ah! This might be helpful:\nhttps://devcenter.heroku.com/articles/one-off-dynos#troubleshooting\n. Good to hear! I enhanced the rescue clause there so you'll get a better error next time.\nThanks\n. Hi there, \nOdd, do you have any plugins installed? Look under ~/.heroku/plugins.\n. Awesome :+1:! Thanks\n. Next time then :} Thank you Dave!\n. Commits added, converted to pull request.\n. Thanks! Getting this in.\n. Yeah! Releasing Monday, just didn't want to do it right before the weekend.\nOn Saturday, March 8, 2014, Jonathan Dance notifications@github.com wrote:\n\nCan we ship a new version ASAP? This is causing a sudden influx of\ncustomer issues (not a huge number, but significant).\n\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/pull/1045#issuecomment-37118276\n.\n. Hi there, \n\nThis is usually caused because of connectivity issues in your environment. Are you behind a firewall or proxy server?\n. Hi there, \nThese usually point to connectivity issues. Are you running behind a firewall or proxy server? If so this might help:\nhttps://devcenter.heroku.com/articles/one-off-dynos#troubleshooting\nThanks!\n. Hi there, \nThanks for letting us know \u2013\u00a0seems like an issue with yajl. Can you either try to install the oj gem for a faster JSON parser, or remove yajl to test if that does it?\nThanks!\n. Ah, good to hear! We tried to introduce multi_json with 3.5 but reverted because of issues in some environments.\nThe client defaults to a pure-ruby parser, but might use others when available for better performance. In this case it seems like it picked yajl from your system. Are you using that gem elsewhere/does it seem to work?\n. Nope! This should do, thanks!\n. :+1:! Thanks Clint.\n. Hey folks, \nSo sorry for the trouble! The root cause here is that we released an update for the Toolbelt that didn't include vendored gems. This should have been fixed starting on 3.7. You can update with heroku update or by re-installing the toolbelt if that doesn't work.\nThanks,\n. /cc @will @deafbybeheading \n. Tiny spec failure, can you check?\nThanks Tim!\n. Yes! Much better, thanks a lot Bryon :}\n. Thanks Will!\n. Hey folks, \nSo sorry for the trouble, we just finally fixed this issue. as of 3.7 the vendored gems should be present again.\nThanks,\nPedro\n. Awesome! Thanks Ryan\n. Hi there, \nSo sorry for the trouble, we just fixed an issue with vendored gems. Please run heroku update, or re-install the toolbelt if that doesn't work!\nThanks,\nPedro\n. @arirubinstein updated in e272ad0be2b6de749601ed29e5f70128c3e41b2a, will go with the next release! Thanks\n. This is awesome! Thank you.\n. Hi there!\nSorry about this, just fixed this issue \u2013\u00a0you should be able to upgrade now.\nThanks for letting us know!\nPedro\n. Oops! This is all we need. Thanks Corey, will be releasing a new version soon.\n. done, 3.7.2 has this fixed.\n. 1.8.7 is not officially supported since 2012, although this issue came before and we're still apparently not making that entirely clear. Going to follow up on it!\nThanks\n. Ah! Exactly, the Toolbelt does ship with its own Ruby. What OS are you using? Can you double check it's using the toolbelt and not the gem? You can check with heroku --version. We'll see, maybe there's something wrong and it's using the system Ruby for some reason.\nThe buildpack and Toolbelt are very different \u2013 deprecating 1.8 on the buildpack means forcing users to upgrade their apps, whereas Toolbelt is mostly in our side.\n. Interesting! Thanks guys, will have to investigate these cases.\nIn the meantime will be extra careful about breaking 1.8 again!\n. Awesome, thanks Brandur!\nFWIW this was published with v3.7.3.\n. Thank you! As discussed on another thread 1.8 is officially not supported for a while now, but glad to have this covered since people are still apparently using it!\n. Ah, excellent. Glad you figure it out, thanks a lot for sharing!\n. Hi there!\nFor problems with the Heroku platform itself please visit https://help.heroku.com.\nIn this repo you'll find info/issues with heroku command-line tool.\nThanks\n. Thanks folks!\n. wowzers. thank you!\n. Hi there, \nSorry about this, we've fixed it in the latest release, and started running CI tests on 1.8.7 to avoid further issues. You should be able to fix this problem locally by updating the Toolbelt.\nThanks\n. This looks like a great start! Thank you.\n. Thanks for letting us know, just fixed with the commit above, about to release a new version.\nAlso re-enabling 1.8.7 in Travis so we can see these before releasing.\n. Excellent, seems to be working great :+1: getting it in.\n. wow, what a mess! it seems like we require rest-client inline in a lot of places, I imagine this is some sort of performance optimization but will have to double check it's still worth it.\nIn the meantime I've added a require for fork in 12a8c9dd590dea7fa9a5b798079882b5320b0555, will get it released asap.\nThanks\n. Hey! Just released 3.8.4.\nThanks folks, and sorry again for the trouble.\n. wowzers. thank you!\n. Damn! We have problems with this json_common adapter for MultiJson, but not idea why it's picking that. What do you have in gem list? Can you try running sudo gem install oj?\n. Looks solid :+1:\n. Damn, I released\u00a03.9.0 for the auto update, but couldn't release the apt version yet. Talked to Phil to get some help, hoping to do it later today or tomorrow at the latest, but will keep you updated.\n. Releaseddddddddddddddd\n. /cc @will \nHmm I can't even get this -c to work. Running heroku pg:psql -c \"SELECT 1;\" I just get a psql prompt. What am I missing?\n. Ah! You're absolutely right, thank you :}\n. And +1 this looks great, merging. Thanks!\n. @technomancy @kch do you guys have any ideas?\ngot the standard Vagrant box for Jessie here, but running into a diff issue:\n```\n$ sudo apt-get install heroku\nReading package lists... Done\nBuilding dependency tree     \nReading state information... Done\nThe following extra packages will be installed:\n  javascript-common libjs-jquery libruby1.9.1 libruby2.0 libruby2.1 libyaml-0-2 ruby ruby1.9.1 ruby2.0 ruby2.1 rubygems-integration\nSuggested packages:\n  apache2 lighttpd httpd ri ruby-dev ruby1.9.1-examples ri1.9.1 graphviz ruby1.9.1-dev ruby-switch bundler\nThe following NEW packages will be installed:\n  heroku javascript-common libjs-jquery libruby1.9.1 libruby2.0 libruby2.1 libyaml-0-2 ruby ruby1.9.1 ruby2.0 ruby2.1 rubygems-integration\n0 upgraded, 12 newly installed, 0 to remove and 16 not upgraded.\nNeed to get 6,956 kB/11.0 MB of archives.\nAfter this operation, 42.8 MB of additional disk space will be used.\nDo you want to continue? [Y/n] y\nErr http://ftp.uk.debian.org/debian/ jessie/main libruby2.1 amd64 2.1.1-2\n  404  Not Found [IP: 83.142.228.128 80]\nErr http://ftp.uk.debian.org/debian/ jessie/main libruby2.0 amd64 2.0.0.484+really457-2\n  404  Not Found [IP: 83.142.228.128 80]\nErr http://ftp.uk.debian.org/debian/ jessie/main ruby2.0 amd64 2.0.0.484+really457-2\n  404  Not Found [IP: 83.142.228.128 80]\nErr http://ftp.uk.debian.org/debian/ jessie/main ruby all 1:2.0.0.1\n  404  Not Found [IP: 83.142.228.128 80]\nErr http://ftp.uk.debian.org/debian/ jessie/main rubygems-integration all 1.5\n  404  Not Found [IP: 83.142.228.128 80]\nErr http://ftp.uk.debian.org/debian/ jessie/main ruby2.1 amd64 2.1.1-2\n  404  Not Found [IP: 83.142.228.128 80]\nE: Failed to fetch http://ftp.uk.debian.org/debian/pool/main/r/ruby2.1/libruby2.1_2.1.1-2_amd64.deb  404  Not Found [IP: 83.142.228.128 80]\nE: Failed to fetch http://ftp.uk.debian.org/debian/pool/main/r/ruby2.0/libruby2.0_2.0.0.484+really457-2_amd64.deb  404  Not Found [IP: 83.142.228.128 80]\nE: Failed to fetch http://ftp.uk.debian.org/debian/pool/main/r/ruby2.0/ruby2.0_2.0.0.484+really457-2_amd64.deb  404  Not Found [IP: 83.142.228.128 80]\nE: Failed to fetch http://ftp.uk.debian.org/debian/pool/main/r/ruby-defaults/ruby_2.0.0.1_all.deb  404  Not Found [IP: 83.142.228.128 80]\nE: Failed to fetch http://ftp.uk.debian.org/debian/pool/main/r/rubygems-integration/rubygems-integration_1.5_all.deb  404  Not Found [IP: 83.142.228.128 80]\nE: Failed to fetch http://ftp.uk.debian.org/debian/pool/main/r/ruby2.1/ruby2.1_2.1.1-2_amd64.deb  404  Not Found [IP: 83.142.228.128 80]\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\n```\n```\n$ sudo cat /etc/apt/sources.list\n\ndeb cdrom:[Debian GNU/Linux testing Jessie - Official Snapshot amd64 NETINST Binary-1 20140331-06:07]/ jessie main\ndeb cdrom:[Debian GNU/Linux testing Jessie - Official Snapshot amd64 NETINST Binary-1 20140331-06:07]/ jessie main\ndeb http://ftp.uk.debian.org/debian jessie main contrib non-free \ndeb-src http://ftp.uk.debian.org/debian jessie main contrib non-free \ndeb http://security.debian.org/ jessie/updates main contrib non-free \ndeb-src http://security.debian.org/ jessie/updates main contrib non-free \njessie-updates, previously known as 'volatile'\ndeb http://ftp.uk.debian.org/debian jessie-updates main contrib non-free \ndeb-src http://ftp.uk.debian.org/debian jessie-updates main contrib non-free \njessie-backports, previously on backports.debian.org\ndeb http://ftp.uk.debian.org/debian jessie-backports main contrib non-free \ndeb-src http://ftp.uk.debian.org/debian jessie-backports main contrib non-free \n```\n. :+1: thanks!\n. Looks good, merging.\nI'm out though so check with Phil if you need this released before July 28.\n. you rock! thank you.\n. :+1: solid, thanks Chris.\n. looks good, thanks Maciek!\n@dickeyxxx getting this in for now, lets talk next week about how you want to handle these!\n. Nice! :+1:\n. @dickeyxxx it's a long story! but basically heroku-api uses MultiJson, whereas the Toolbelt uses a pure-Ruby parser to avoid these issues.\nMost of the time they somehow work together, but every once in a while we'll see issues like the one reported here (MultiJson picking a bad adapter) or this (MultiJson's adapter doing bad things).\nI think the solution is clear: make the Toolbelt use MultiJson, and make sure it picks a good adapter (in particular never allow it to use json_common).\nPart of what makes this a long story is that I tried to do this once, but it broke stuff. What's not on that thread though is that the issues we've seen were related to something going wrong in the release process, and had nothing to do with json parsing/MultiJson. I confirmed that because the released zip file didn't have gems under vendor/; still not sure why, but now that we know it's an easy thing to detect.\nHope this helps, let me know your thoughts and if there's anything I can help!\n. :+1::+1::+1::+1: :}\n. damn! never ceases to amaze how even the most trivial things can be broken in some context, heh.\n. Looks good to me :+1:\n. Yeees :+1:\n. wow, awesome stuff!\n. Great report! Must be something with the re-auth using the api key then.\nI couldn't reproduce this yet though:\n$ heroku list\nAuthentication failure\nEnter your Heroku credentials.\nEmail: pedro@heroku.com\nPassword (typing will be hidden): \nTwo-factor code: 527634\nAuthentication successful.\n=== My Apps\nblazing-snow-6570\n...\nDo you have any plugins there by chance?\n. hmm removed the heroku-sudo plugin but it still works\n. damn it, I thought it was something different in staging but works in prod for me too\n. mazel tov! I was re-enabling 2fa from an API console to speed things up; was able to reproduce by re-enabling via dashboard as you instructed, doh :}\n. grgrjgrh now it worked 3 times, I can't reproduce again. must be something residual somewhere\n. @dickeyxxx you're the boss! sounds great to me, thanks for getting to the bottom of this.\n. Nice dude :+1:\n. :+1::+1::+1:\n. Awesome :+1:\n. Hey folks,\nYou're right, that was an unexpected regression in the API.\nWe just fixed the issue, and will be backfilling the data next.\nSorry for the trouble!\n. Hey! Yep, it's backfilled.\nThanks\n. This is nice, +999!\n. don't we need to require \"multi_json\" here?\nI'm getting \"uninitialized constant MultiJson\"\n. Can haz one line for each arg? :}\n. ",
    "hone": "I'll submit a patch in the near future.\n. ddollar fixed this here http://github.com/heroku/heroku/compare/51c339050f...e54f2722b6\n. fixed by this commit http://github.com/heroku/heroku/commit/00da87fa4ab0f6e946cc5e88fcd9490d42073873#lib/heroku/commands/db.rb-P0\n. ddollar pointed me to this: http://github.com/ddollar/heroku/commit/1d7f890dec98115b402ccbff75113767ac6ce10d\n. you might want to checkout the heroku plugin : http://herocutter.heroku.com/plugins/14 which allows account / project. github page: http://github.com/jbarnette/herogit\n. This happens when you have a nil value for a config var.\n. The only thing I'm unsure of with this, is what the expected behavior is. Right now, I'm just setting it to empty string.\n. This fixes the boolean bit for #400\n. @kr no, I don't think so. It's a proper gem and there isn't a way to special case it. The gems shouldn't be depending on it if you don't want it in the bundle? I guess I'm not totally understanding the use case here.\n. ",
    "ddollar": "remove duplication in billing confirmation prompt. Closed by 4587203f2517095e2a112ff7efc438973d5b96d9.\n. Closed by http://github.com/heroku/heroku/commit/a30d881d26bd4e75c9777b5ec655befa157e1a3d\n. Fixed in 1.6.3 and above.\n. Fixed in 1.6.3 and above.\n. Fixed in 1.6.3 and above.\n. Going to be worked into a larger feature.\n. Fixed.\n. Done\n. Closed as taps issue\n. Fixed\n. Will this work for people not using this through the binary, but instead doing\nrequire 'heroku'\nHeroku::Client.new(...)\n. I definitely agree about the load paths, and this will be fixed in the next major revision of the gem. I haven't yet found a way to specify version dependencies at runtime without having a dependency on rubygems, though.\n. I tested on your fork and saw the same behavior. Have pulled your changes in. Thanks!\n. If you had to instrument Sequel to see this, you'll likely need to file a bug against that project to get the true error message to propagate out.\n. Closing this as it seems to be a bug in Sequel.\n. Hey there,\nYou may want to check out http://github.com/ddollar/heroku-manifest\nThanks for the submission as well, I'd suggest packaging up functionality like this in the future as a heroku gem plugin.\n. Merging into #22\n. We're moving over to API keys. Delete your ~/.heroku/credentials file and run any command to reauthenticate.\n. This has been changed, and will be released shortly.\n. Done in 2.0 prereleases\n. Done in 2.0 prereleases\n. This does not happen for me any longer. I suspect API-side issue.\n. Fixed\n. I think this would be better as a plugin. Heroku's deploy infrastructure is built around git.\n. We are not currently propagating exit status out to the API, but I have added this as an internal feature request.\n. Pulled\n. This is now conditionally required, update your heroku gem and you should have more success.\n. Pulled\n. This does not appear to be an issue with the gem. Please file a support request at http://support.heroku.com\n. Done\n. Sorry, I missed this request because notifications weren't set up properly. This should be fixed.\n. Pulled, thanks!\n. Does this give you what you need?\nheroku config --app foo --shell\n. Taps has a dependency on Sequel, which has issues compiling on Windows in some situations. We don't want to introduce these issues as a blocker to getting the heroku gem installed.\n. This means someone on your app has turned on a beta feature. Talk to them to find out the steps you need to enable it in your client.\n. Just pushed 1.13.2 that should fix this.\n. I just pushed 1.13.4 that should solve this.\n. Solved in d69239f4bcfbfd122ab72a4e55832fb4c5ff64e3\n. Pulled\n. Solved with 564a787f7797d67babedd909ede0010d3face4b6\n. Solved in 564a787f7797d67babedd909ede0010d3face4b6\n. This is not happening for me. What version of the heroku gem are you on?\n. Was only happening on Ruby 1.8, looks like a double require. Fixed in 914e8508fe6c6743562ac859831fccd5042095ac\n. Please file a support ticket at http://support.heroku.com for problems pushing apps to Heroku. This Github issues list is for bugs in the gem itself.\nThanks,\nDavid\n. This is fixed in more recent versions of the gem by using the standard json library.\n. This should be fixed in the latest gem version.\n. Closing this one to apply the other pull request.\n. The specs are failing for me\nSpec::Mocks::MockExpectationError in 'Heroku::Command::Pgbackups requests a pgbackups transfer list for the index command'\nMock \"pgbackups_client\" received unexpected message :get_user with (no args)\n/Users/david/Code/heroku/spec/../lib/heroku/commands/pgbackups.rb:34:in `index'\n/Users/david/Code/heroku/spec/commands/pgbackups_spec.rb:18:\n. Fixed in c23734bf288a733dec1ae5f5cdfb4a4ad14bb08e\n. Ignoring to take #58\n. You can use https://github.com/ddollar/heroku-accounts to have multiple accounts with the heroku gem. I have added the ability to specify the current account in use using the HEROKU_ACCOUNT env var that you can set at the same time you set HEROKU_HOST.\n. The gems just displays the output of PUT /apps/APPNAME/stack, this will need to be changed in core.\n. Could you try using this file with the username line removed? I think it may default to the current user.\n. Pulled\n. In 1.17.2\n. In 1.17.2\n. Pulled, is present in 1.17.10\nThanks for the patch!\n. Could you try out the latest heroku gem prerelease and let me know if you still experience this issue.\ngem install heroku --pre\nThanks,\nDavid\n. Haven't heard back so marking this closed for now. Please reopen if it is still an issue for you.\nThanks,\nDavid\n. Gem version 1.18.0 should fix this for you by bumping the json dependency.\n. This should be fixed in 1.18.0, let me know if it works for you.\n. Could you try this again and see if it's still failing for you?\n. I recently updated the server side, could you try again with 1.18.3?\n. Try running the command with --debug appended and open a Heroku support ticket with the output. It will help as well if you grant us access to your database to try to reproduce. \nInclude the output of the following in the ticket:\ngem list --local\ngem env\n. Could you try installing the latest heroku and taps gems with:\ngem install heroku --pre\ngem install taps --pre\nAnd let me know if you still get this error?\n. I just pushed up 0.3.20.pre2 for taps, could you give that a shot?\n. Fixed in 1.18.1\n. Not a gem issue\n. While you should be able to use Heroku::Client to do anything you can do at the command line, you may want to check out http://addons.heroku.com/pgbackups which has a daily and hourly backup option.\n. Could you try updating to the latest heroku (1.18.0) and taps (0.3.17) and see if you still have the issue?\n. Those that are having issues:\n- How did you install the CLI? Toolbelt or gem?\n- What OS/version are you on?\nAnd please paste the output of these commands:\nwhich heroku\nwhich ruby\n. @rdpfeffer can you run the following in irb and then paste the output:\nrequire \"taps\"\nputs $:\nAnd then run this from the command line and paste the output\ngem env\n. Fixed in 5441f6422c9fc6fea3c7cef25b77c9b3d094aef8\n. Thanks for the pull request, but we're going to remove this alias :)\n. What is the use case for this, are you using the heroku gem in local scripts?\nWould you be interested in submitting a pull request for this feature?\n. Merging into #81\n. heroku console is working for me. What error are you seeing?\n. Looks like you have two plugins heroku_tab_complete_console and heroku_colorize_console that are causing this. Try removing those and see if you still get the error.\n. Are you able to install the json gem, version 1.5.1 ?\nIf so, could you try the following in irb:\nrequire \"rubygems\"\nrequire \"json\"\nJSON.parse('{\"foo\":\"bar\"}')\n. Could you try following the instructions here?\nhttp://carol-nichols.com/2011/02/the-json-gem-strikes-again-heroku-on-windows/\nbut using 1.5.1 instead of 1.4.6 ?\n. According to https://github.com/flori/json/issues#issue/57 the binaries are missing for 1.8.7, but others have reported success on 1.9.2. You may want to consider upgrading.\n. Is there any more error printed at all when the failure occurs? Seems odd that it's looking for json 1.5.1 and fails, when it just installed json 1.5.1.\nWhat version of Rubygems are you using?\n. Could you try upgrading to Rubygems 1.6 that was just released? Does json show up when you run:\ngem list --local json\n. Can you try installing json 1.5.1 by itself\n. I wonder why you are getting the json_pure gem when you ask to install json. What OS is this?\n. I'm not sure, but you may want to try #rubygems on Freenode or the rubygems mailing list to see if you can figure out why you're not getting the gem you're asking for.\n. Anyone having issues with heroku and json, could you try the pre-release gems I just pushed up?\n$ gem install heroku --pre\n$ gem install taps --pre\n. Thanks for the pull request, added to 1.18.2\n. make heroku config --long the default. Closed by 409e0e78ade2d88bb4a68e42c05d19d59c72e2cd.\n. I'm sorry, I can only accept this pull request if you re-implement the client in Java.\n. This should be fixed in recent releases\n. I have just committed bbea8ffe46659004718a115557df4052b92826fb which should let you achieve this.\nUse heroku info --raw to get a raw key/value list that should be easily parsable in shell.\nheroku info --raw | grep \"^name=\" | cut -d= -f2\n. Looks like this was answered on StackOverflow. If you're still having issues, please submit a support request at http://support.heroku.com\nThanks,\nDavid\n. Fixed in fc7b14fc8a51e2244f87ae4ab1739ec0a15f114b\n. Could you try heroku version 1.20.0.pre1\nYou can install this with gem install heroku --pre\n. Fixed in d853ffd0122f01740c4ebcda48351e78966c120b\n. Pulled as c3af53d81bd109a2b702e2d63b8f6a8d3f4804ae\nThanks!\n. pulled, thanks!\n. Fixed in 2.0.0.pre10\n. Fixed in 2.0.0.pre10\n. Fixed in 2.0.0.pre10\n. Fixed on the API side\n. heroku gem version 2.0.2 relaxes this dependency\nCheers,\nDavid\n. Should be fixed in 2.0\n. Thanks for the pull request :) We're trying to make sure that HTML won't be sent to the client, so we shouldn't need to do this kind of parsing.\n. If you use your api key as the password it should work.\nCheers,\nDavid\n. Just pushed out 2.0.1 that should fix this.\n. Pulled, with some tweaks. Thanks!\n. Fixed\n. It's working for me, what does your code look like?\n```\n\n\nrequire \"heroku\"\n=> true\nrequire \"heroku/command/pgbackups\"\n=> true\nHeroku::Command::Pgbackups\n=> Heroku::Command::Pgbackups\n```\n. This should be corrected in recent versions of the client.\n. Pulled, thanks!\n. Pulled, thanks!\n. $stdout.sync = true is set in recent versions of the client\n. Thanks for the pull request but going to accomplish this in a slightly different way. Users of heroku-accounts still depend on un/pw\n. Thanks!\n. Would you mind splitting up the CLI changes and ruby-debug changes into two separate commits just so they can be backed out individually if necessary.\n\n\nCheers,\nDavid\n. Merged and released as 2.4.2\n. Fixed in 2.5.1\n. Looks like this is an API issue. It also, however, points to the need to globally capture exceptions to do something a bit more graceful. Going to track that separately.\n. Woops, saw this issue come through, didn't realize there was a pull request attached. Fixed on master.\n. Just released heroku gem 2.7.0 that puts our vendored OkJson under the Heroku namespace which should fix the multi_json collision.\n. Will be fixed in 2.7.1\n. You may want to check out the Heroku Toolbelt which includes all of the tools you will need to use Heroku:\nhttp://toolbelt.herokuapp.com/windows/readme\nCheers,\nDavid\n. What type of app is this?\n. @HunterHillegas What type of app is this?\n. Please submit a support ticket at http://support.heroku.com so we can track down the specific problem in your app.\nCheers,\nDavid\n. What do you get for\nDir[\"C:\\Documents and Settings\\Alex\"] \n. Sorry, not sure how I missed this for so long.\nCan you remove the \"is aliases to / for\" message in help and instead always use the long name. So ps:scale would show as the command name whether you typed help scale or help ps:scale\n. which doesn't always work on Windows. May want to look into a rescue-based approach instead, see\nhttps://github.com/heroku/heroku/blob/master/lib/heroku/helpers.rb#L204-212\n. Could try something like:\nbegin\n  `psql`\nrescue Errno::ENOENT\n  # doesnt exist\nend\n. Here's a \"valid\" Procfile regex:\nhttps://github.com/ddollar/foreman/blob/master/lib/foreman/procfile.rb#L4-10\n. This idea, or something like it, is definitely on our radar. While I can't provide a specific ETA, we agree, and will have a solution for this.\n. Perhaps something like this:\n$ heroku config\n! Multiple apps detected and no app specified.\n! To set a default app for this repo, use:\n! `heroku apps:default myapp`\n. What is the value of your LANG environment variable?\n. That error should only show up if Ruby is switched to US-ASCII mode somehow, which generally happens if you're missing the LANG environment variable. It looks like something in the latest mime-types has UTF8 in it which is not read correctly if Ruby is in US-ASCII mode.\n. Check out halostatue/mime-types#4\n. Fixed in f72d200dab1ad2a1d5f582ef0cff709ca32990c1\n. Foreman needs a .deb version as well.\nhttps://github.com/ddollar/foreman/tree/master/dist\n. Is this happening reliably for you? Could you try running again prepending RESTCLIENT_LOG=stdout and send me the log? Make sure to strip any sensitive information if present.\n. Sorry guys, got a fix for this coming out as 2.16.1 here in a few minutes.\n. 2.16.1 is out\n. @kgthegreat SSL verification is failing on some small number of cases and we haven't yet been able to nail down exactly why. If you have the time and inclination to dig in and figure out why or to help us reproduce it (make a virtualbox image that mimics enough of your current setup to reproduce the problem) I would be eternally grateful.\n. I believe this has to do with Rubygems not being loaded when using the toolbelt-installed version of the CLI. I'm investigating.\n. Please try the latest version of the toolbelt here: http://assets.heroku.com/heroku-toolbelt/heroku-toolbelt-beta.exe\n. I've since released this beta package as the normal toolbelt, so the install off of http://toolbelt.heroku.com should work.\nI'm closing this issue as a duplicate of #69\n. Let's fix this case with a stopgap measure. It's too easy to make a really bad mistake right now.\n. What about\nheroku run 'a=\"b\"'\n. Looks like I was wrong about the c-extension, going to close this.\n. testing\n. some comment\n. Does it work if you change your Procfile to this?\nweb: coffee start.coffee\n. Duplicate of #234, should be fixed in the next release.\n. Closing as an API issue. Tracking there.\n. Nope, new feature\n. /cc @ryandotsmith \n. Does it make sense to keep this as a plugin until the code paths are merged?\n. /cc @will \n. We'll be talking to the API team about accepting domain names for app names. Thanks for the feedback!\n. I'd rather not have two options that do the same thing. I'm going to close this pull request. If you really want to have this functionality for yourself, you could consider a CLI plugin.\n. @jgentes What is happening? The specific error from the top of this issue? Could you paste here the command you are running and the error you are seeing.\n. the pgbackups specs still need to be converted to the new style\n. Can't reproduce any more either. Closing for now.\n. New output looks like this:\n``\n=== clock:bundle exec rake resque:scheduler`\nclock.1: up for 11h\n=== long: bundle exec rake resque:work QUEUE=long\nlong.1: up for 23h\nlong.2: up for 52m\nlong.3: up for 13h\nlong.4: up for 12h\n=== run: one-off processes\nrun.1: starting for 2m: bash\nrun.2: starting for 2m: ls -la\nrun.3: starting for 26s: bash\nrun.4: up for 5s: bash\n=== short: bundle exec rake resque:work QUEUE=short\nshort.1: up for 4h\nshort.2: up for 9h\nshort.3: up for 13h\nshort.4: up for 10h\nshort.5: up for 12h\nshort.6: up for 11h\n=== web: bundle exec thin start -p $PORT\nweb.1: up for 12h\nweb.2: up for 11h\nweb.3: up for 11h\n```\n. I often create heroku apps to test things (e.g. adding an addon) that end up littering whatever directory I happen to be in with a git remote. This is made even worse for me since my homedir is a git repo.\n. The updates are downloaded into a temp dir[1] and copied into place[2] only if the downloaded version is newer than the current version[3].\n1: https://github.com/heroku/heroku/pull/350/files#L1R42\n2: https://github.com/heroku/heroku/pull/350/files#L1R65\n3: https://github.com/heroku/heroku/pull/350/files#L1R60\nThe race condition concern may be valid, but I think it's a minor edge case that can be solved if it actually turns out to be a problem.\n. To answer your questions from IRC: \n- This supersedes the nagging. \n- The gem version will not get autoupdates.\n- In the future we can start nagging gem users over to the toolbelt, but it can be done separately.\n. What needs to happen to move this forward? I think we can solve a ton of user pain with an approach like this.\n. Part of this patch is fixing the load issues caused by ~/.heroku/client which will alleviate pain from people that are using heroku update today.\nhttps://github.com/heroku/heroku/pull/350/files#L1R62\nhttps://github.com/heroku/heroku/pull/350/files#L1R77\n. Should probably have promote be a helper method rather than calling the promote command method. The behavior of a command method that has args is undefined, and that way you could customize the promotion message to something less  confusing.\n. I think the issue was that the domain already existed on the app.\n. This is still happening for me.\nI made this patch:\n```\ndiff --git a/lib/heroku/command.rb b/lib/heroku/command.rb\nindex 385ee8c..84a4125 100644\n--- a/lib/heroku/command.rb\n+++ b/lib/heroku/command.rb\n@@ -234,6 +234,7 @@ module Heroku\n def self.parse_error_json(body)\n   json = json_decode(body.to_s) rescue false\n\n\np [:json, json]\n       json ? json['error'] : nil\n     end\n```\n\nI then reran the command, to get this:\n$ be bin/heroku domains:add logos.heroku.com -a logos\nAdding logos.heroku.com to logos... [:json, [[\"base\", \"logos.heroku.com conflicts with an existing custom domain\"]]]\n/Users/david/Dropbox/David/Code/heroku/lib/heroku/command.rb:238:in `[]': can't convert String into Integer (TypeError)\n  from /Users/david/Dropbox/David/Code/heroku/lib/heroku/command.rb:238:in `parse_error_json'\n  from /Users/david/Dropbox/David/Code/heroku/lib/heroku/command.rb:225:in `extract_error'\n  from /Users/david/Dropbox/David/Code/heroku/lib/heroku/command.rb:208:in `rescue in run'\n  from /Users/david/Dropbox/David/Code/heroku/lib/heroku/command.rb:217:in `run'\n  from /Users/david/Dropbox/David/Code/heroku/lib/heroku/cli.rb:9:in `start'\n  from bin/heroku:17:in `<main>'\nSo it looks like the API is probably returning an inconsistent error. We should work with the API team to get this fixed in a way that does not break older clients (if they were not already broken).\n. If you have a typo in a plugin where it doesn't parse, the backtrace is not covered by this.\n. We could make this default behavior if you dont include the =value part. \n. Seems like it should be fairly straightforward to quote all values coming back from -s.\nYou can escape the internals between the quotes with:\nstr.gsub!(/([^A-Za-z0-9_\\-.,:\\/@\\n])/n, \"\\\\\\\\\\\\1\")\n(shamelessly stolen from http://stackoverflow.com/questions/1306680/shellwords-shellescape-implementation-for-ruby-1-8)\n. Aside from the formatting, the error message is a bit cryptic. How about this?\n!     heroku-run-console can not be updated because it was installed with a legacy client.\n !     To enable updates for this plugin, reinstall it with:\n !     heroku plugins:install URL\n. Even the toolbelt says heroku-gem for me\n$ heroku version\nheroku-gem/2.28.2 (universal-darwin11.0) ruby/1.8.7\n. I just downloaded the toolbelt 15 minutes ago or so and I still see heroku-gem.\n. While this does look like an uncaught exception in the parsing of the API response, it looks like the API is incorrectly returning a boolean instead of a string for one value.\n$ curl -s https://api.heroku.com/apps/emailur/config_vars | json\n{\n  ...\n  \"LOGGING_ADVANCED_UPGRADE\": true,\n  ...\n}\n. /cc @pedro \n. Hey there,\nThis was a bug in that particular version of the toolbelt. To workaround you'll need to redownload the latest toolbelt from https://toolbelt.heroku.com\n. You may also want to check out https://github.com/ddollar/heroku-pg-transfer\n. Try the following:\n$ rm -rf ~/.heroku/client\nand then try your commands again\n. @simonox I believe this is a different issue that should be patched in 2.28.8, please redownload the toolbelt from https://toolbelt.heroku.com\n. Fixed in 2.28.8\n. Fixed in 2.28.8\n. git should only be installed if it was not already detected in your PATH.\nhttps://github.com/heroku/toolbelt/blob/master/dist/resources/pkg/Distribution.erb#L19\nWas your old git binary in your PATH?\n. This change seems too broad, who knows what URI-encoded data is passing through display()\nI'd vote for changing the apps:info display to use the app name returned from the API in its title.\n. Sure, but I think we should manually urldecode where appropriate. Principle of least surprise, you don't expect a method named display to alter what it is given.\nI think a good way to notice this is the impedance mismatch between the commit message and the commit. This commit does way more than the message suggests. If I have a config var that has a value with URL encoded items in it, I wouldn't want them decoded before they are displayed.\n. This appears to be working in the latest version of the CLI. Try installing the latest toolbelt from https://toolbelt.heroku.com and then touch ~/.heroku/autoupdate\n. @tompave I just reopened this issue internally to see if we can get rendezvous (the service that powers heroku run) to listen on a port more likely to work with every ISP. I'll update here as I have more info.\n. @geemus The bin loader for the gem should be able to detect that the toolbelt is installed at the system level. Once detected you can do two things:\n  1) Warn the user that they're doing something wrong (don't bundle heroku, etc)\n  2) Go ahead and execute their command, but use the system toolbelt\nShould be able to re-use the bits about how the client defers to ~/.heroku/client when detected to defer up to the system toolbelt.\n. @NeoPhi If you're up for trying something experimental, check out https://github.com/ddollar/heroku-anvil as an alternate way to build that is not reliant on git push\n. heroku-credentials was a plugin that the vulcan tool used to install to get functionality comparable to what auth:token provides today.\n. Sure\n. Potential Workaround:\nDownload the toolbelt from: http://assets.heroku.com/heroku-toolbelt/heroku-toolbelt-2.30.3.pkg\nRemove your local updates: rm -rf ~/.heroku/client\nInstall that toolbelt you downloaded.\n. Windows users can replace the .pkg with .exe\n. Closing in favor of #524\n. This should work:\nDownload the toolbelt from: http://assets.heroku.com/heroku-toolbelt/heroku-toolbelt-2.30.3.pkg\nRemove your local updates: rm -rf ~/.heroku/client\nInstall that toolbelt you downloaded.\n. Closing in favor of #524\n. You should be able to work around by installing the latest toolbelt from https://toolbelt.heroku.com\n. I found some unreleased commits on master that look like they should address this so I cut a new release of the toolbelt. Please redownload from toolbelt.heroku.com and see if that fixes it for you.\n. I found some unreleased commits on master that look like they should address this so I cut a new release of the toolbelt. Please redownload from toolbelt.heroku.com and see if that fixes it for you.\n. I just released a new version a few hours ago that may fix this for you. Can you try redownloading from https://toolbelt.heroku.com\n. Version 3.23.3 that fixes this bug is building on our CI servers right now and should be available in a few minutes.\n. Sorry, version 2.32.3\n. This is fixed in version 2.32.14 of the Toolbelt which is building now. Please wait about 15 minutes and then redownload the Toolbelt from https://toolbelt.heroku.com\n. If you use bundle package --all and commit the resulting directory to git, it will put all of the source files into your repo. This will allow bundler to resolve the dependency during the build process, even if it can't contact the private repo.\n. ```\n$ gem env\nRubyGems Environment:\n  - RUBYGEMS VERSION: 1.8.11\n  - RUBY VERSION: 1.9.3 (2012-02-16 patchlevel 125) [x86_64-darwin11.3.0]\n  - INSTALLATION DIRECTORY: /Users/david/.rbenv/versions/1.9.3-p125/lib/ruby/gems/1.9.1\n  - RUBY EXECUTABLE: /Users/david/.rbenv/versions/1.9.3-p125/bin/ruby\n  - EXECUTABLE DIRECTORY: /Users/david/.rbenv/versions/1.9.3-p125/bin\n  - RUBYGEMS PLATFORMS:\n    - ruby\n    - x86_64-darwin-11\n  - GEM PATHS:\n     - /Users/david/.rbenv/versions/1.9.3-p125/lib/ruby/gems/1.9.1\n     - /Users/david/.gem/ruby/1.9.1\n  - GEM CONFIGURATION:\n     - :update_sources => true\n     - :verbose => true\n     - :benchmark => false\n     - :backtrace => false\n     - :bulk_threshold => 1000\n     - \"gem\" => \"--no-ri --no-rdoc\"\n     - :sources => [\"http://rubygems.org/\"]\n  - REMOTE SOURCES:\n     - http://rubygems.org/\n$ echo $GEM_HOME\n$ echo $GEM_PATH\n``\n. Released as v2.31.4\n. This is fixed in 2.32.4\n. Yeah, there was an issue with excon usage in 2.31.2 that caused those messages to get printed. It should be gone now as of 2.32.4\n. Yep, it looks like somehow that change got ahead of itself. I'll be pushing out a version with autoupdate on Monday, so this should be short-lived. Sorry!\n. You cantouch ~/.heroku/autoupdate` to start autoupdating now.\n. @joneslee85 what version of the CLI are you using?\n. There was a big around this handling in the 2.31 series but I believe it is fixed now. Could you try updating?\n. Version 3.23.3 that fixes this bug is building on our CI servers right now and should be available in a few minutes.\n. Sorry, version 2.32.3\n. /cc @will \n. Should be fixed by #590 in 2.32.5\n. Yep, but you still shouldn't get an error in that case. Fixed in 2.32.6.\n. Can we just bump this up to something huge (50) instead of making it infinite?\n. We have integration tests running on pgbackups that could possibly hang indefinitely with this change. I'd rather see those requests be able to fail after some finite time period. This is a better experience for end-users as well.\n. I'm thinking that this should be an exponential backoff on the sleep when an error is encountered, and reset back to 1 every time get_transfer succeeds. The client should give up if the backoff gets >5m. That should give pgbackups at least 5min to recover from any flakiness.\nNot trying to make you jump through hoops here, just looking for a good client experience. I'm more than happy to do the implementation on the exponential backoff if you like.\n. Released in 2.32.9\n. Redirected to heroku/core#1306\n. Unfortunately many users use tools such as rvm and rbenv which inject themselves at the beginning of the PATH. In order to handle cases where the user has both the gem and the Toolbelt installed, the profile injection method was added. I agree that it's not ideal but I feel that the usability from this approach outweighs the downsides.\nI'd be opening to hearing any alternatives that let us deal with this in a better way.\n. I hear you :( Perhaps I can add the symlink back in and some which checking to determine if this is really necessary.\n. This is fixed in version 2.32.14 of the Toolbelt which is building now. Please wait about 15 minutes and then redownload the Toolbelt from https://toolbelt.heroku.com\n. Looks like the test needs to be updated as well.\n. The \"Other\" install method will download only the heroku CLI and put it in /usr/local/heroku. If you check out the install script, you'll find a tarball that you can grab and put basically anywhere.\nhttps://toolbelt.heroku.com/install-other.sh\nIs this enough to meet your needs?\n. Any tools that need to interact with Heroku should use heroku/heroku.rb instead of heroku/heroku as a dependency and make the API calls directly.\n. The CLI can be downloaded alone at https://toolbelt.heroku.com/standalone\n. Does that file exist? Does it have strange permissions?\nCan you paste the output of ls -la ~/.netrc\n. Try this:\nsudo chown waclock /home/waclock/.netrc\n. It made you the owner of the .netrc file in your home directory, which allows you to change it (and store heroku API keys in it)\n. Remove the heroku gem from your Gemfile and make sure that which heroku is not pointing at some old gem stub.\n. What does which heroku show from inside your rake task?\n. I can't merge this due to the potential breakage. Anyone that has heroku logs in a script would suddenly find the command not returning.\n. That sounds reasonable. I think there may be a helper already around for that.\n. I believe this shortcuts to the .netrc username to avoid another API roundtrip. Did you handcraft your .netrc?\n. This is probably an issue with the heroku-attachable-resources plugin.\n. Heroku copies the version of npm that you ask for into your app at build time. If you can track down the problem with npm, perhaps we can get it fixed.\n. This appears to be an issue with an invalid cert. We've got an internal issue tracking to get a better error message here.\n. Would you mind submitting a PR for this?\n. Would you mind submitting a pull request to address this? I can help you get it released.\n. Looks like there is an associated test that needs to be updated as well.\n. This seems to be an issue in the Heroku Postgres client. We should figure out how to avoid duping all of the exception handling from heroku.rb /cc @will @geemus \n. Looks like an unhandled network exception, probably a timeout?\n. :shipit:\n. :shipit: Check out RELEASE.md for the process, let me know if you have any questions.\n. I'd like to see DoD owning data import/export on Heroku so it's your call.\n. Looking good to me\n. Is your plugin still installed?\nOn Friday, March 22, 2013, Ryan Daigle wrote:\n\nI am unsure why the help output references fork as an alias to apps:fork?\n$ be heroku help forkAlias: fork redirects to apps:forkUsage: heroku apps:fork [NEWNAME]\n fork an app\n -r, --region REGION  # specify a region -s, --stack  STACK   # specify a stack\nAll alias declarations have been removedhttps://github.com/heroku/heroku/pull/733/files#L3R4.\nWhat am I missing?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/pull/733#issuecomment-15261957\n.\n. Thereis a DEPRECATED_PLUGINS list in the CLI somewhere. Just add\nheroku-fork to that and people will be prompted to uninstall.\n\nOn Sat, Mar 23, 2013 at 4:30 AM, Ryan Daigle notifications@github.comwrote:\n\n@ddollar https://github.com/ddollar, @geemus https://github.com/geemusI'm alerting\nusershttps://github.com/rwdaigle/heroku/commit/f730ac9589e02a7ce95f5cdacd429133ee032568to uninstall the\nheroku-fork plugin if it's installed. Is this necessary? Not sure what\nkind of conflicts can arise when a command that used to exist in a plugin\nis now part of the CLI...\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/pull/733#issuecomment-15316840\n.\n. :shipit:\n. We are looking into the errors occurring when adding a database in EU. I'll let you know as soon as it's fixed.\n. Yes, delete the failed app. We thought about doing this automatically but figured the app might be useful to leave around for poking at to see why it failed. In this case it seems that provisioning databases in EU is having some issues. The Data team is investigating.\n. This should be fixed now, please try your forks again. Sorry about that!\n. This makes me uncomfortable. I think the answer should be to fix the verification problem (in Excon?) or at the very least only disable it once it has failed with the known error.\n\n/cc @tmaher @geemus \n. Do we know if the problem is in excon or if Ruby in general is unable to verify certificates on Windows?\n. Would it be possible to convert this to a format like these exporters so that it can be more easily maintained?\n. This could potentially break anyone using $(heroku config) in some sort of script. No idea how much of that is going on but just wanted to raise the issue.\n. If it's changed it honestly hasn't changed in a long time so I don't remember. Various changes in heroku output have usually tended to break people's scripts. It does seem that lots of folks have some sort of script whether it's bash or rake wrapping their app deploys.\n. Perhaps change behavior only if an interactive terminal is present?\n.  @catsby  The failing spec is fixed on this PR though there are 2 specs still failing on master\n. Looks like the fails are only on Ruby 2.0.0\n. Bump\n. I'd rather see if there is a less fragile way to test this rather than add special casing to the command.\n. Is there something we can use for this that doesn't have an underscore?\n. Hmm, I think that's a bit of a stretch to guess what it's going to do.\nWhat about pg:rekey ?\n. ",
    "jonforums": "Heroku 1.5.6 now fails to build json on my Vista Home Premium (SP2) using RubyInstaller RC1 with the MinGW-based DevKit which generally enables windows users to compile native C-based extensions.\nC:>ruby --version\nruby 1.9.1p243 (2009-07-16 revision 24175) [i386-mingw32]\nC:>gem --version\n1.3.5\nC:\\Users\\Jon\\Documents>gem update\nUpdating installed gems\nUpdating heroku\nBuilding native extensions.  This could take a while...\nERROR:  Error installing heroku:\n        ERROR: Failed to build gem native extension.\nC:/ruby19/bin/ruby.exe extconf.rb\ncreating Makefile\nmake\ngcc -Wall -I. -IC:/ruby19/include/ruby-1.9.1/i386-mingw32 -I/C/ruby19/include/ruby-1.9.1/ruby/backward -I/C/ruby19/include/ruby-1.9.1 -I.   -O2 -g -Wall -Wno-parentheses   -o parser.o -c parser.c\nparser.rl:4:16: re.h: No such file or directory\nIn file included from parser.rl:5:\nc:/ruby19/include/ruby-1.9.1/ruby/backward/st.h:2:2: warning: #warning use \"ruby/st.h\" instead of bare \"st.h\"\nparser.rl: In function cParser_initialize':\nparser.rl:460: error: structure has no member namedtbl'\nmake: *** [parser.o] Error 1\nGem files will remain installed in C:/ruby19/lib/ruby/gems/1.9.1/gems/json-1.1.0 for inspection.\nResults logged to C:/ruby19/lib/ruby/gems/1.9.1/gems/json-1.1.0/ext/json/ext/parser/gem_make.out\n. FWIW, I have json 1.2.0 and json_pure 1.2.0 installed on my system...likely from a successful heroku 1.5.2 install\n. FWIW, I'm able to successfully install and build the native C extensions on my Ruby 1.9.1p243 (MinGW), Vista, RubyGems 1.3.5 system of the following json versions:\n1.2.0, 1.1.9, 1.1.8, 1.1.7, 1.1.6, 1.1.5, 1.1.4\nwith build failures starting with 1.1.3.\nWhy does the heroku gem add a hard dependency on json 1.1.0 in it's Jeweler-build gemspec?\n. ",
    "priteau": "Please fix this issue, heroku worked fine with ruby 1.9 before.\nWhat was the incentive behind locking the gem dependencies versions? If you're afraid of API changes you could use a range of versions instead of a fixed version.\n. Fixed in 1.8.3.\nThis was probably caused by having rest-client 1.4 picked up rather than related to Ruby 1.9.\n. ",
    "brenthargrave": "+1 - I've rolled back to 1.5.2\n. ",
    "drnic": "herogit did the trick, thanks\n. ",
    "cuzic4n": "Got reply from the taps guy..\n\"It's taps, the behavior you want is a side effect of using the activerecord schema loader in 0.2.x. I'll see about duplicating this in 0.3.x, I didn't think it was all that great originally because it wipes out your schema as a side effect with no warnings/errors.\"\n. ",
    "bkuhlmann": "Yeah, same here. In my case, I manually tweaked the heroku and taps gemspecs to require json_pure 1.4.0 instead to workaround this issue. Still, rather annoying.\n. ",
    "greenplastik": "I ended toying with doing the same, but opted instead to uninstall json_pure and to manually lock the json/json_pure version number at 1.2.4 in my app's Bundler Gemfile. This also works, but is still annoying.\nI'm not familiar enough with the code to know whether there is a genuine reason why they can't just change the version requirement to be \"~> 1.0\" so that 1.2.4 and 1.4.0 up to 1.9.9 would be allowed? Or if they don't want to be that wide open at least change it to ~> 1.4.0.\n. ",
    "josh": "Yes it will. Rubygems hijacks \"require\".\n```\n$ irb\n\n\nrequire 'rubygems'\n=> true\n$:.select { |f| f =~ /rest-client/ }\n=> []\nrequire 'heroku'\n=> true\n$:.select { |f| f =~ /rest-client/ }\n=> [\"/Users/josh/.rvm/gems/ruby-1.8.7-p249/gems/rest-client-1.4.2/bin\", \"/Users/josh/.rvm/gems/ruby-1.8.7-p249/gems/rest-client-1.4.2/lib\"]\n```\n. disregard that, i tested on the current gem\n. built a gem from my fork and verified it still works.\n\n\ngem 'heroku'\nshould activate all gem dependencies.\nRG hijacks require to try to require heroku, when it fails it activates the gem thus activating any dependencies and tries again.\n. ",
    "dj2": "I don't know where the actual error is getting changed, I just went straight to the _execute method for the mysql adapter and printed out the message.\n. ",
    "aarongough": "I just discovered that the Heroku gem does this. It says in the Readme that if you're on a Mac your credentials will be stored in your keychain, otherwise they will be stored in plain text in your ~/heroku directory. \nI have a ~/.heroku directory that contains my credentials in plain text AND I'm on a mac... What's going on here? Anyone that has access to my computer can do whatever they please to my Heroku applications? no thanks...\n. ",
    "nruth": "+1 keychain is not being used and this is not good\n. ",
    "MSchmidt": "+1 I was shocked when I discovered this. Immediately removed the file. Guess I'll just delete it after each deploy and then reenter my credentials the next time until this is fixed!\n. ",
    "cloudkj": "+1 I just discovered this file and am very surprised. Password in plaintext? At the very least, the docs at http://docs.heroku.com/quickstart should reflect this. Please make a change so that passwords aren't stored in plaintext!\n. ",
    "jarmo": "it should be also fixed on other platforms and not just mac :)\n. It is still broken with rails 3.0.1. As mentioned in my original posting then there is no problem when doing bundle install on Linux machine after creating rails app under Windows - under Linux correct sqlite3 gem will be put into Gemfile.lock. Since i'm also using bundler 1.0.0 then it's strange that Heroku can't handle that situation...\n. Works. Thanks!\n. ",
    "BradBuckingham": "I further agree that credentials (especially the password) should not be stored in plaintext! Maybe make it an option to have the heroku gem remember your credentials instead of being the default behavior? Nevertheless, thanks for a wonderful product!\n. ",
    "yfeldblum": "If the goal is ease of use while maintaining security, please just store the username and require the password to be entered each time. As an interesting thought, please also support using SSH keys for all Heroku API operations, not just for git push.\n. ",
    "adamwiggins": "Agreed.  RestClient went through a rough period of API changes in the 1.4/1.5 time range, but I think the maintainer has things sorted out now and it's stable as of 1.6.\n. heroku -v and heroku --version don't work, which would make it easier to determine :)\nGem version 1.14.9, and I removed all the plugins to confirm none of them were affecting it.  Ruby 1.8.7.  Maybe worth asking around to see if others are experiencing this.\n. I have autoupdate enabled, so I should always have the most recent version, right?\nAnd no, it wasn't just very slow -- I waited ~60 seconds, but the email prompt always appears as soon as I press enter.\n. Ran plugins:update and it's better.\nNow that the toolbelt autoupdates, feels kind of weird that plugins don't.\n. ",
    "mlooney": "yeah, who needs those non-git using dipshits anyway. good riddance, they shouldn't be allowed to play with the coolness that is heroku.\n. ",
    "mdub": "Any progress on this?\nFailing that, is there a reliable way to determine whether \"heroku rake db:migrate\" is successful?\n. ",
    "geemus": "@mdub Unfortunately no progress just yet, but I'm definitely keeping it in mind as I review and prepare to do some upcoming work.  For the time being I'm going to close this in order to consolidate into a single ticket this kind of issue (ie processes not returning codes).  So you can continue tracking our progress toward a fix on #186\nThanks!\n. I'm digging around on this today.  Sorry for the delay in response, but I've yet to have much luck reproducing this locally, which always makes things harder to track down.\n. @kakubei I can guess at one, but since I'm not having luck locally it is difficult to know for sure.  Could you try: ruby -r rubygems /usr/bin/heroku db:push ...?  I'm not sure it will help, but it shouldn't hurt.\n. For those of you still having issues you might also consider using the pg backups addon to manage this sort of thing (and basic support is free).  You can find info here: http://devcenter.heroku.com/articles/pgbackups\n. @aidanlister - Are you seeing the same load error as others?  Does gem list taps list taps of the version listed here?  Sorry to not offer a direct solution but I haven't had luck directly reproducing this.\n. @aidanlister - I ran through things with vagrant and the lucid32 box, went something like this:\n$ sudo gem install heroku\n$ sudo apt-get install libsqlite3-dev\n$ sudo gem install taps\n$ heroku db:pull\nLoaded Taps v0.3.23\n !    Invalid database url\nSame as I get on my mac.  In both cases it seems to not be encountering the \"Unable to load\" error.  Thoughts on what I may have missed or done differently?  Any help reproducing this so we can get to the bottom of it would be greatly appreciated.  Thanks!\n. @michrome - thanks for the detailed report.  Sounds like one of my colleagues has reproduced the issue and is working toward a solution.  I gather it has to do with the isolated version of things from the toolbelt not being able to find things somehow, but the toolbelt isn't really my area of expertise.  We hope to get a fix out soon though.\n. @tim-vfiles - are you using the toolbelt in conjunction with rbenv?  That was the set of conditions within which my coworker saw it specifically.  I've never reproduced it successfully on my own machine though.  Also, what version of Ruby are you using and what operating system?\n. @tim-vfiles - are you using a gem-installed version of heroku or toolbelt?\n. @tim-vfiles - I would recommend trying pgbackups instead.  They are a better solution than taps in many cases anyway if you can manage it.  There is detailed info here: https://devcenter.heroku.com/articles/pgbackups Hopefully that can get you what you need in a less troublesome way.\n. @roryokane Could be.  I'm not really sure why this seems to break for only a subset of people but I'm sorry you ran into it.  You can use the gem version, instead of toolbelt, as a work around.  I think you can just delete ~/.heroku/client if it exists and then do gem install heroku and after that you'll be on the gem.  That should avoid the issue you saw (which is due to toolbelt using vendored gems).  Let me know if you are still stuck though and I can try to figure something else out for you.  Thanks!\n. @tim-vfiles - fair enough.  Thanks for the update, load paths are definitely a pain in the butt some times.  Glad to hear people have found good work arounds since I have had a heck of a time reproducing these issues consistently.\n. @kaiwren - glad you found a fix and thanks for sharing it with us.\n. Thanks guys for sharing what has worked well for you.  I'm still trying to learn all tho moving parts and taps is one that I still have little to no experience in, which unfortunately has made it hard to be helpful on this stuff.\n. Just as an update to anyone who still may be encountering this, there seems to be an incompatibility with toolbelt, at least in some cases, such that your best bet may be to gem install heroku and try again.\n. @adamlogic - thanks for the details, totally makes sense that it could occur this way (but slipped my mind to mention it).\n. I'm going to call this good for the time being, but if you are still experiencing this and the gem and/or Gemfile usage mentioned here doesn't fix it for you please let me know.\n. @datnt - are you using a toolbelt installation or a gem installation of heroku?\n. @finfort - great, thanks for the update.\n. @wesgarrison @HuffMoody - sorry to hear that. Could you perhaps try using - https://github.com/heroku/heroku-taps (which includes vendored taps). I haven't touched it in a little while but I think it might help and be the quickest/easiest fix.\n@wesgarrison - sounds good. I'm travelling today, but if the above doesn't work for you I should be able to work on it more directly later this week.\n. Well, crap. I'm home again so my schedule is less hectic, hopefully a solution can happen soon. As someone who has never personally used taps, what things are you guys needing/wanting from it that pgbackups can't support? (pgbackups in the more recommended path these days, fwiw).\n. @will - is there a way to use pgbackups to do single table transfer or is it always full-db?\n@wesgarrison - thanks for clarification. I would argue that cross database is to be avoided (there are tons of weird gotchas that taps can't really deal with in a reasonable way, which you might not run into yet, but likely will if you use this a lot). Is there a reason not to run pg locally in the first place (and therefore avoid ever needing to convert the data)? The single table case is interesting though and certainly not clear how (or at least I don't know how). Are there particular parts of pgbackups that you feel need additional docs or that you have questions about?\n. @wesgarrison - yeah. I think we want something like that to happen internally but nobody is focusing on it presently.\n. You are correct that this error is raised.  In cases like this you can gain additional information by rescuing the error and checking the body of the response.  So in your case, you can get a much more helpful error like this:\n```\nh = Heroku::Client.new(USER, PASS)\nh.install_addon(SOME_APP, 'pgbackups')\n{\"price\"=>\"free\", \"message\"=>\"You can now use \\\"pgbackups\\\" to backup your databases or import an external backup.\", \"status\"=>\"Installed\"}\nbegin\n  h.install_addon(SOME_APP, 'pgbackups')\nrescue => error\n  h.http_body # this will give you more information\nend\n```\nIn this particular case the http_body will look like: \"{\\\"error\\\":\\\"Add-on already installed\\\"}\".  So you can parse the json and then react based on the message associated with the error key.  We hope to revisit this in the future so that you wouldn't have to do this, but for now this should allow you to work around it.  Let us know if you have any questions or further issues.\nThanks!\nwes\n. It appears that this was fixed here:\nhttps://github.com/heroku/heroku/commit/e151b2d7\nThanks!\nwes\n. Nice catch, thanks!\n. Migrated to dx issues.\n. Could you help me understand how you were using the gem that you ran into this problem?  I just want to have a good sense so I can help make it easier to understand and use.  Thanks!\n. Makes sense, thanks for the clarification.\n. @mmcgrana I believe that should do what you were alluding to, but I would appreciate a double check to make sure.  Thanks!\n. @cdarne sorry to hear that.  It should follow the same behavior as the rest of the client.  Which means that you should be able to set ENV[\"HEROKU_SSL_VERIFY\"] and have it skip the verification if you need to.  We should improve the messaging there to make that more clear.  Do other commands work for you as you would expect or have you run into the ssl issue on other things as well?  Also if you could copy/paste the rest of the error and stack trace that would be great (I can't seem to reproduce it on my machine).  Thanks!\n. @cdarne thanks for the other details.  I think that ENV var should help you for now and I'll dig in and try to figure out why this is doing that while the other commands are still working (I'd expect them all to have the same behavior).\n. @cdarne I reverted the changes that caused the problem this morning and released 2.21.2.  Sorry for the trouble.\n. Seems that this is no longer an issue, you can see that there are some beta addons by doing something like:\nrequire 'heroku'\nheroku = Heroku::Client.new ENV['HEROKU_USER'], ENV['HEROKU_PASSWORD']\nheroku.addons.each do |addon|\n  if addon['beta']\n    p addon\n  end\nend\nPlease let us know if you have questions or run into other issues.\nThanks!\nwes\n. Thanks for the report, but upon further inspection it seems that this was fixed on the server side at some point (ie I can no longer reproduce the issue as you describe it).  If you still have problems or run into anything else please let us know.\nThanks!\nwes\n. Sorry for the delay in response.  I think @DBQ hit the nail on the head, you will want to use ps_restart instead of just restart when you are dealing with cedar apps.  If you make that change I think you should be good to go, but let me know if you still have issues or questions.  Thanks!\n. @nicolas-raoul thanks for pointing this out (and sorry it took me so long to get back to it).  I was trying to figure out something more clean/elegant, but after some research I realized that fine tuned control of permissions isn't available on windows anyway, so I just pushed a fix to skip chmods on windows altogether, you can see that here:\nhttps://github.com/heroku/heroku/commit/58a99638f62f2e4b62de0fc77036c2dc0a082db5\nSo this should be fixed in the next release, thanks again!\n. Thanks for the feedback (and sorry for our slow response).  MRI 1.8.7 is not currently an available option, you can see details about the available options here:\nhttp://devcenter.heroku.com/articles/stack\n. @pboling - yeah, that could do it.  Glad you were able to find your way through the issue.\n. Seems reasonable, but at some point your branch and master diverged.  Could you rebase so that they can merge cleanly?\n@ddollar any concerns/questions on this one?\n. @hoverlover sounds like we ought to add underscores but maybe not dashes, if we do that we should be inline with procfile expectations.  Could you update your commit to match this and rebase for a cleaner merge?  Thanks!\n. @hoverlover well, thanks for the help regardless.  Sorry it took us this long to get it all sorted out, I'm making an effort to keep this stuff moving faster so next time you should (hopefully) have better luck.  Thanks!\n. Fixed in https://github.com/heroku/heroku/commit/bccd6bee3a9edb1c0cf621de31f624e4b8038840\n. Sounds like this has been fixed, please let us know if you still have issues.  Thanks!\n. Sounds like this has been fixed, please let us know if you still have issues.  Thanks!\n. Sorry for the long delay in responding, things have been a bit hectic as I have been working on getting up to speed on things.  This does seem very useful for automated scripts but less so for direct usage.  Rather than adding extra commands (and therefore complexity) to the base CLI I think this would be a great fit for a plugin.  Just let me know if you have any questions or run into any problems in that process.  Here is some related info to get you started:\nAn example of a simple plugin that adds a command: https://github.com/geemus/heroku-status\nOverview of plugin usage: http://devcenter.heroku.com/articles/using-cli-plugins\nThanks!\n. Sorry for the delay on getting this merged, I'm still working on getting up to speed on everything after starting just a few short months ago.  This looks like it could be quite helpful for particular use cases, so thanks for taking the time to fix this!\n. @prytnar Your best bet at the moment is probably to just use the CLI and perhaps parse the output.  We'd like to expose some nicer public REST api around database information but we haven't quite gotten there yet.  Let me know if you have any other questions.  Thanks!\n. Sorry for the relative silence here.  I agree that this would be helpful, but I'm also not sure on the best approach.  I've been thinking about it (and will continue to) but I'm not yet sure how to best do this in the general case.\n. I finally figured out a solution to this that I'm at least reasonably happy with.  I think it should provide what you want but keeps things fairly simple.  It goes like this:\n1) Check --app\n2) Check --confirm\n3) Check HEROKU_APP\n4) Check .git/config\nThat should mean that you can export HEROKU_APP=myapp and have a default for a session (or set it up to last longer with your bash config stuff, if you really want), but you can still override it on individual commands if you want to say push to production instead of staging like usual.  I think there is probably room for refinement, but it should hopefully simplify a lot of the cases.  Here is the associated commit: https://github.com/heroku/heroku/commit/07797258d6b3ec07e57d2008474b1f19ffbae916\nI hope to release just shortly.  I'm not going to close this just yet though.  I still think there is a need to be able to set this on a per app/dir basis, but that part gets a bit more complicated.  Hopefully HEROKU_APP can help a bit until I can cook up something more elaborate for the other case.\n. @pothibo - no worries.  Hopefully this at least helps, still not certain it completely solves the underlying issue, but it was a simplest-thing-that-could-work approach so I thought we should try it out.\n. @LucasLMartini - Well changing the master branches remote like that means that both git push and git pull will refer to that by default, as it seems likely you know.  Many of our users only use the git on Heroku to deploy though, and rely on something such as GitHub to store their code.  When checking out from some other place, master will be set to point to there and is likely to get used more and be a better default than Heroku.  At least that has been my thinking so far.  So I'm reticent to make this the default for every user.  That said, I can see how this might be interesting/useful to default what app is being used for users who have chosen to set the remote tracking for a branch point to Heroku.  Thanks for the input, I will certainly take it into consideration as I work on this.\n. You might also be able to get what you want already with git config heroku.remote production (or with staging), see: https://devcenter.heroku.com/articles/multiple-environments#starting-from-scratch\n. I cherry-picked the credentials related commit here: https://github.com/heroku/heroku/commit/92a9c0f4967e3ebb7fc259de3842ce20ddc603c4\nThanks!\n. @et thats no good.  Sorry for the delay in response.  Are you still seeing this issue?\n. @amarraja - thanks for the specific feedback on how you are reproducing it.  Are either of you using binstubs or anything like that (ie non-default bundler args in your projects).  When I naively try to just go to someplace with a Gemfile that doesn't include bundler in my folders and run commands I'm not managing to get the same behavior as either of you.  Also, what operating system are you guys on?\n. @amarraja I couldn't reproduce this on my machine with your repo or with a fresh rails app.  I suspect you may have other non-default behavior, are you perhaps using bundler-exec in your bash profile stuff?  (see: https://github.com/gma/bundler-exec).  That would automatically prepend bundle exec before heroku and cause this issue.  I would recommend either removing that from your bash or just planning on adding heroku to the Gemfile.  Regardless, in so far as I can tell this is not actually a problem with the heroku gem itself.  Happy to continue helping if you have trouble getting this fixed for yourself, but I'm going to close this as an issue.  Thanks!\n. @amarraja great, thanks for the update.\n. fixed by #218\n. @technomancy sounds about right to me.\n. Closed by #220\n. @csquared sorry I didn't sort this out sooner, but could you rebase so that it is cleanly merge-able again?  Thanks!\n. @csquared rebase pretty please?\n. Great, thanks! Sorry about the bundler/testing hullabaloo.\n. It looks like you left the name of the app off, so if your app is name 'example' you would want to do:\nheroku db:pull mysql://root:mypassword@localhost --app example\nI think the error came from leaving the last part off (so it expected the name but didn't find one, instead it found a newline).  I could be wrong on that but at a glance that seems likely.  Please reopen and let me know if this doesn't solve it.  Thanks!\n. Updated the title to be a bit more generic (because rake and other things have this issue too, not just run).  We are aware of this but there isn't a simple way for us to add this at the moment.  We definitely are keeping this in mind as we work on things though, so hopefully we can add it in the not too distant future.  Thanks!\n. Thanks for the feedback everybody.  There are some internal things that will need to happen to enable this, so we are continuing discussions to figure out how to best offer it.  I will do my best to get it into the client once it is ready though.  Thanks!\n. Doesn't seem like this is in the cards for any time particularly soon.  There is a hackish workaround if you really need it, which is to use something like heroku run command && echo $? which should finish the command and on the last line return a textual representation of the status code.  That should allow you to do many things you might need until we can rework the internals that would allow us to more nicely pass this back out.\n. @macreery - thanks for sharing your fix!\n. @mpoisot - good points, thanks for the clarification.\n. Awesome. :clap: \n. Sorry for the delay in reviewing this, looks good, thanks!\n. I've added a new helper to try and facilitate ease of development and consistency.  Could you rebase and use it?  In your case the difference is that instead of needing to do the formatting yourself you should be able to rely on display_object working if it is given properly formatted data.  In your case you'll want to just create a data structure that looks like this:\nplugins = {:alpha => ['plugin_a', 'plugin_b'], :public => ['plugin_y', 'plugin_z']}\ndisplay_object(plugins)\nThe hope is that moving forward this will be how things will work, you format the data, we format the stdout.  Let me know if you have any issues with that or anything I can help with.  Thanks!\n. Looks great, thanks.  Would love any feedback you have about the helpers as well.  Does it make sense and work how you expect, how could it be better, etc.  Thanks!\n. @glenngillen - Is there a timetable you need it released on?  I can work on a release sooner rather than later if you need it, but wasn't planning on releasing today.  Perhaps next week?\n. @ddollar I know you mentioned you had been working on this, so has this been fixed?\n. The argument parsing is inconsistent and has many gaps such as this.  It is unfortunately a broad enough issue that there isn't a particularly good one-off fix, so I'm going to add this to the considerations we have for improving the CLI on the internal wiki, but close this issue as it isn't really immediately actionable.\n. @svenfuchs I don't believe you are doing anything wrong.  It just looks like those plugins are rather out of date.  Digging around a little it looks like they are all referring to commands that have been moved or no longer exist.  Other plugins should still work just fine though.  For instance the spell checker plugin I've been working on seems to install fine: heroku plugins:install git://github.com/geemus/heroku-suggest.git.  If those individual plugins are things you are interested in let me know and I can help work with you and the author to update them, but in the mean time the short answer is that no, you are not doing anything wrong.  Let me know if I can do anything else to help clarify.  Thanks!\n. @sjonnet19 Hmm. I don't believe that the warning should actually be causing the problem in and of itself. There may be some other issues that were introduced during the cleanup.  Could you  give me some context around what you are trying to do and what command is actually failing so I can try to get it fixed for you?  Thanks!\n. No good reason for the warning no, I just made a mistake in how I did it.  The file must be getting required/loaded more than once some how.  In any event, I just pushed a commit that should prevent it here:\nhttps://github.com/heroku/heroku/commit/3e133703df54bd22f55942bbd3681022bb888170\nSorry for the confusion and difficulty, glad you found a quick workaround.\n. Moved to DX issues (seems tough to implement and want to think about it a bit first).\n. Might be a good idea actually.  That can certainly be a nice way to prove out a concept before trying to necessarily make it fit nice and work in every situation.  Happy to chat about it if you want.\n. @geekbeing Is your goal to be able to open arbitrary things, or did you want to open an app by the domain mapped to it instead of the default http://domainname.herokuapp.com?  I just ask because I think to open arbitrary stuff you can skip the heroku gem, at least on my mac I can, by just running open http://www.geekbeing.com directly.  Just trying to get a better sense of where you were headed with this so I can help out better.  Thanks!\n. I think, unfortunately, that this may be adding a lot of complication for not a lot of gain.  I'm not sure that you can just type open on any platform, but there are at least similar things.  We are using a gem to provide the functionality here:\nhttps://github.com/copiousfreetime/launchy\nYou might explore that to see if you could use it more directly to get what you need.\n. P.S. Thanks for the work and interest, definitely still open to discussing it further.\n. The custom and default app name domains should point to the same place, so it shouldn't make that big of a difference.  Also opening the default app name should always work and do what is expected, whereas in the case of multiple custom domains especially, it isn't clear what the right behavior should be.  Do you have a use case that in particular requires that the custom domain name would be used or is it a matter of aethetics?  Thanks for continuing to discuss this, it helps to validate assumptions and fix up rough edges.\n. Thats a good (but tough) question.  With stuff like this I often like to opt for the thing that should be good enough most of the time.  I think that the regular domain name does work in most situations (there are a couple that you mentioned for which this is not the case).  The other thing that makes me lean a bit more toward leaving it with the default domain is consistency.  To some extent I would prefer that it always do the same thing, whereas having the behavior change after adding one custom domain might be confusing (and even more confusing if adding a second domain didn't change anything).  It has been an interesting discussion though, I'm going to have to let that bounce around in my head a bit longer to see how I feel about it.\n. Sorry about the pull request ruining, that was far from my intention.  The discussion has definitely been good, it is just tricky with something like this to figure out the \"right\" thing since there are so many use cases.  I'll definitely let you know if anything inspiring comes up and I hope you'll do the same.  P.S. let me know if you find other rough spots and I'd be happy to help you out with fixing stuff up.\n. Thats an amazing offer, thanks.  I don't have such a thing in mind off the top of my head, but I'll try to remember to let you know when something comes up.  Similarly if you find something feel free to start a discussion about it and I'll be happy to help you through it.  Thanks!\n. @pedro There is still a confirmation required, so it takes some work to inadvertently do this.  Making this change would require the name to be typed twice (which is probably good), but would make it inconsistent with the way that other commands work (which is probably bad).  The real problem is that the command silently accepts incorrect parameters, which is going to be harder to tackle.  But introducing a behavior changing work-around in the short term seems messy to me.\n. @bgentry Thanks for the input.  Arguably the value of a stopgap such as this is related to how long it is likely to be before the command is fixed, I'm working on that and related things over the course of the next couple weeks.  So how urgent do you think this needs fixing?\n@pedro How urgent do you think this is as well?  If it isn't too urgent I'd prefer to get a proper fix in.\n. Thank you for the feedback.  I was able to duplicate this with a slightly older version of the gem (2.16.1), but this problem doesn't seem to occur with the currently released 2.18.1.  Could you try again with the latest version to ensure the problem hasn't already been fixed?  Thanks!\n. @maxwell Can you try this against the latest gem?  I created a local repro case that worked against older versions but was unable to reproduce this behavior against the most recent version.  I'm going to go ahead and close this for the time being, but let me know if you have further questions or this re-occurs.  Thanks!\n. @ijverig This appears to be a more general rvm and/or 1.8.6 issue.  I see a similar error with any gem commands I try to run under my rvm-ed 1.8.6.  So it seems this isn't a heroku gem specific error.  Thankfully it seems others have run into similar issues, so perhaps you'll have luck following up there.  Here is what appears to be a quite related discussion that is hopefully helpful: http://stackoverflow.com/questions/7947611/installing-gems-under-rvm-error\nThanks!\n. Merged, thanks!\n. See #208\n. Seems pretty consistent.  I wonder if perhaps it should be HEROKU_API_KEY or something like that though, I worry that otherwise there may be some confusion about what value is actually expected there.  Also, I think the way you have it is fine, but the username can technically be omitted and have everything work as well, so maybe it would be easier for us to just not worry about the username at all for the time being.  Make sense?  Happy to discuss and answer any questions you might have on this.  Thanks!\n. Ah, perhaps the real issue is that it is already quite confusing.  The CLI asks for your user/pass initially, but what it stores and calls your password in files is actually your api key.  If you look in the credentials file and then log on to heroku.com and go to your account page you should be able to verify this.  That said, perhaps changing the environment variable name would only be less confusing for me (as I already know this) but more confusing for other people.  Thoughts?\n. @jonah-carbonfive sounds great, sorry for the confusion.  We strive to keep improving things, so occasionally things change in a way that doesn't get communicated very well outside of the code.  For instance, the format of the storage for credentials is on the brink of changing (again), so no worries.  Hopefully it is a bit clearer what is going on now and I think we are on the same page.  Having the single key named HEROKU_API_KEY seems like the way to go.  Just let me know if you have any questions or anything I can help you out with.  Thanks!\n. @jonah-carbonfive just wanted to check in and see if you had any other questions or anything I can help with.  Thanks!\n. @jonah-carbonfive I'll look into it, but I may need to find a few first, to allow for the search...\n. Yeah, I think there could be a lot done to clean this stuff up and there is likely going to be some work on it from me in the near term.  But thanks for pointing out the rough edges you saw, will hopefully help me focus on the right parts as I rework it.  Thanks!\n. @ddollar beyond the historical c-extension, any known blockers/concerns that I should be aware of?\n. Thanks, pretty sure I must have introduced that bug when I switched from returning the data straight from the api for the git url and the old way (creating the git url string based on the app name).\n. The suggestion about the aliasing is accurate, it just munges it through the resolver on the way.  You can see that here: https://github.com/heroku/heroku/blob/master/lib/heroku/command/pg.rb#L46\nThe upside is that you should be able to just add that environment variable directly as a workaround (at least for the time being) for the resolver munging things in a way that is causing problems for you.\nI could see how being able to pass a config var name might be useful, but we have discussed aliases of that nature internally before and there are a rather large number of edge cases that need to be considered (unfortunately).\nWould you be up for working on the resolver to fix this for yourself?  I'd be happy to help you out with any questions you might have on it along the way, otherwise let me know and I'll add it to my todo list for soon-ish.  Thanks!\n. I think the expected usage is heroku pg:promote SOME_OTHER_DB_NAME (thats what it does in the docs you linked, for instance).  Expected probably means intended, but maybe not preferred.  I can certainly see how the other usage would make sense in local development (and is presumably where you ran into the issue).  I would expect that since this command is in the pg namespace that it would only apply to postgres, if a similar command was needed for a different database it would be in a different namespace and/or just use config:add directly.  Does that help clarify?\n. Haha, sounds good.  Let me know if you get in any holes deep enough that you could use a hand getting back out.\n. I gather that on the platform side of things everything is assumed to be lower case, so there was no reason NOT to downcase, that said I'm note exactly sure why it would have been there either.  Thanks for helping out with this!\n. Could you give me some context about how you are using this with the heroku gem?  I haven't run into anything related to start scripts before so I'm not sure what the expectation for this is.  Thanks!\n. @will Could you give this a once over for me?  I think you indicated that something to this effect should be fine and not effect our hosted postgres stuff, but wanted to double check before I merge it.\n. @will can you see if that test is accurate or not and let me know if @neilmiddleton needs to rework it or if I should merge?  Thanks!\n. @will great, thanks!\n. Cool, let me know if you have questions or I can help.  Also the deprecation part is pretty straightforward, if you add it to the list of deprecated plugins (https://github.com/heroku/heroku/blob/master/lib/heroku/plugin.rb#L8) it should do the right thing.\n. Its true, there is so much stubbing that I (frequently) am not sure if anything meaningful is being tested.\n. @asenchi Do you think it is at a merge-able state now then?\n. @asenchi looks good.  If you could clarify on whether the behavior of ingress has changed that would be great (the change in description and output seems to imply a difference).  Otherwise seems ready to merge.\n. @asenchi just let me know when you feel its been tested enough for you to sign off on the merge.\n. If anybody has issue with this, please speak up ASAP, otherwise I will probably merge later today.\n@asenchi when do you plan to do beta?  Do I need to cut a release prior to that?  Also thanks for the help and working through the issue with us.\n. @asenchi the mere existence of a timeline is more strict than I would like most of the time :P.  I think that should be doable though, there are no real blockers on my side so I don't think it should be a problem.\n. @asenchi I can still get this out, but I had a couple questions first.  Not exactly sure why this didn't occur to me to ask about until this late venture (came to me as I was walking back from lunch, as these sorts of things do).  If it is just going into beta tomorrow, what will the experience be like for everyday user?  I presume new commands will appear, but what will happen if they try to use them without being in the beta?  Should we instead distribute something like this as a plugin (while it is still in beta) and then move it into core only at GA time?  It seems like that might be the better overall experience for non-beta participants.  Thoughts?  Sorry, as I said, for the late pushback on this.  Just don't want to degrade overall experience and worrying that this might (until it is GA).\n. @asenchi yeah, I think that makes sense.  I just wanted to double check the impact (because I wasn't really sure).  Sounds like it is minimal, I'll cut a release in a couple hours probably (finishing some correspondance now then taking a break before coming back for a meeting and doing the release).  Barring any craziness it should go out tonight though.\n. Do you think confirm should be the same here?  ie should it require --confirm app_name or should it perhaps instead be --confirm addon_name?  I am leaning a bit more toward the second, typing the same thing twice more strongly implies a double take than typing two different things in a row (I suspect anyway).  Thoughts?\n. I see.  I was thinking about it more in this context:\n    path/to/app $ heroku addons:remove HEROKU_POSTGRESQL_CRIMSON\nStill I can see what you mean in terms of what the thing you want to double check is.  I had just thought the other way might be more consistent (ie, deleting an app confirm the app), but perhaps confirming the app is always what you want to do.\n. @asenchi - seems like this might have to do with the new stuff I merged from you, could you take a look?  Thanks!\n. @mdi sorry for the confusion on this.  Rather than using db:push I would recommend using pg:backup and the related things (which I believe should be able to handle some of the more advanced things such as this).  You'll need to add the PG Backup plugin if you haven't already (the basic plan is free), then you can find instructions on importing data here: http://devcenter.heroku.com/articles/pgbackups#importing_from_a_backup\nThanks!\n. Agreed, I will try to figure out something to help clear this up.  But with error parsing and handling as it is, it is (unfortunately) not 100% clear what the best way to tackle this is.  I'll see about cooking something up soon.\n. Thanks!\n. great, thanks!\n. Behind the scenes --buildpack is basically an alias to setting a config variable.  So you should be able to change the config var, something like heroku config:add BUILDPACK_URL=new_url.  That should do the right thing, but let us know if it doesn't fix things for you.  Thanks!\n. My pleasure, some of the stuff like this is still a little mysterious even to me (I had to ask somebody to find out you could do this).  Hopefully we can get better interfaces and docs moving forward to make it all easier though.  Thanks for the feedback!\n. @Spooner I didn't have much luck trying to naively reproduce this on my machine.  What command were you running that resulted in this?  When I tried to do some basic commands it seemed to find my key just fine, so I'm trying to narrow down what might be different between our setups.  Also, do you have any other files in .ssh ?  It might also be that .ssh is set to read only for some reason, could you check the permissions?  Thanks, hopefully we can track this down just shortly.\n. @Spooner glad you found a workaround, sorry it was via using a separate VM.  I'll keep an eye on this (let me know if you have further issues) but it seems like an edge case related to your particular setup that I haven't had luck duplicating so I'm going to punt for the time being.  Let me know if you run into any other edge cases or anything I can help with though.  Thanks!\n. @vladiliescu thanks for the extra info and glad to hear you found a way to work around it.\n. Are you still seeing this with the latest? (I wasn't able to reproduce).\n. Here is what I see:\n```\nairgeemus  ~/heroku/heroku[master]  \u2318  heroku addons:add loggly --app testable\n-----> Adding loggly to testable... done, v6 (free)\nairgeemus  ~/heroku/heroku[master]  \u2318  heroku addons:remove loggly --app testable\n!    WARNING: Potentially Destructive Action\n!     This command will affect the app: testable\n!    To proceed, type \"testable\" or re-run this command with --confirm testable\n\ntestable\n-----> Removing loggly from testable... done, v7 (free)\nairgeemus  ~/heroku/heroku[master]  \u2318  heroku version\nheroku-gem/2.20.0\nairgeemus  ~/heroku/heroku[master]  \u2318  ruby -v\nruby 1.9.2p290 (2011-07-09 revision 32553) [x86_64-darwin11.2.0]\n``\n. Will that one fail if you specify--app=ryandaigle` instead of letting it use the implied app?\n. Thanks for the heads up, over time a lot of these little guys have snuck through and it can be easy to miss fixing them.\n. Thanks, I can see how it would be easy to leave that out (and it probably gave a not very helpful error too).  Thanks!\n. No problem, it was an easy mistake to make and an easy bug to fix.  Thanks!\n. @technomancy How should we communicate that moving forward?\n. @jsimone Sorry about the confusion.  We are aware (and have fixed it on master).  Working on getting a release out this afternoon.\n. I have escalated this to our API team so we can discuss solutions, I'll update this when I have more info.\n. @brandur seems good, thanks!  Just let us know when things are good to go on core side and we can push this through.\n. @ddollar I've started discussions with core, will continue on this when that side has been updated.\n. I realize Phase 2 isn't done, but I don't think we need to keep a ticket open for it yet (and I think Phase 1 is taken care of at least for now).\n. I agree that the behavior is a bit weird.  You can work around this by using quotes, so if you use this you should have better luck:\n\n$ heroku run \"python gobotany/manage.py --help\"\n. Yeah, sorry about that.  I worked on a fix today but haven't quite finished yet.  In the mean time there is a work around though, you can use HEROKU_SSL_VERIFY=disable.  This will cause it to skip the problematic verification, which is to say it will have the old behavior.  Sorry again for the trouble, I'm going to try to get a fix out for it tomorrow.\n. Crap.  Epic fails throughout on my part.  Sorry for everybody this effected, I was trying to fix it toward the end of an already brain burning day and it just didn't work.  This morning I wanted to take care of it first thing though, so the fix is in the gem release 2.21.2 which I just pushed out.  Sorry again for the trouble and let me know if you need anything else.\n. @styleofglobal - Windows machines should skip this verification I believe.  Could you find out what the output of this command is? ruby -e \"require('rbconfig'); puts(RbConfig::CONFIG['host_os'])\n. @styleofglobal - could you try uninstalling the gem, and instead downloading/installing the toolbelt from https://toolbelt.heroku.com ?  I think that should get you on track and is what we generally recommend.  If that doesn't help out let me know though and I'll be happy to continue troubleshooting.\n. Awesome, thanks!\n. @hgimenez Awesome, thanks!\n. @voxik I am unclear on what you mean about it not being a hard requirement.  It is required by the gemspec and I'm fairly certain that the log command will not work at all (at least in it's current incarnation) without it.  Granted it may be that we should fix these things as well, but for the time being I don't think making it optional in the tests really gets to the root of the problem.  Could you explain what you mean so that I can make sure I understand and we are on the same page?  Thanks!\n. @voxik this should no longer be a problem as I have removed the term-ansicolor dependency altogether, see:\nhttps://github.com/heroku/heroku/commit/681076d388bdcf0d7be92818a743caadf858691d\n. @voxik thank you for the clarification, I'll keep that in mind.\n. @steakknife I suspect it has to do with installed git version.  Not sure why you wouldn't be seeing it otherwise.  I'll see if I can't add a simple fix to avoid this issue for others that might see it like I have been.\n. @steakknife looks great, just added a couple inline comments for you to checkout out above.  Thanks!\n. @steakknife - How would the lazy-load work?  I'm not familiar with that debugger script, where is the source?  Sorry if I'm lacking context here, just trying to make sure we are on the same page.  Thanks!\n. @steakknife have a diff of what that lazy-load looks like?  Also I think the traps were all fixed in a separate commit I did recently (fwiw).  I think the tap usage still needs to be removed here (because of 1.8.x).  Thanks!\n. @steakknife - First off I apologize that you feel that I was bikeshedding.  That was not at all my intention.  I really am curious what you changed to improve performance and didn't mean for that to get in the way of the rest of this.  I also agree that there is need for error_but_continue and error as you mentioned.  Overall I thought we were pretty much on the same page so I'm sorry that the tap thing derailed us.  I'm also sorry I was off-by-one in my remembrance of tap availability, I had thought it was a 1.8 vs 1.9 distinction but it must be 1.8.6 vs 1.8.7+ instead.  Which means it probably matters much less (if at all) than I thought.  It just sticks out in my mind because it has been a real \"gotcha\" for me a couple times in the past.  That said, if it were going to be an issue here travis should catch it for us before any real damage is done (saying this I also realize that the build is currently broken so I don't have much room to talk).  Anyway, I would love to reopen this and get everything merged and then we can continue the performance and further refactoring discussions in subsequent issues/pull requests, but I also don't want to further any misunderstandings or hurt feelings so please let me know how I should proceed.  Thanks!\n. Done, see: https://github.com/heroku/heroku/commit/ec8248a0dc212254e65fbda12db0b5083e1a9853\n. @ddollar did this used to work?  I was unaware of it.\n. @dpiddy I realized I had made this error at least once part way through and thought I fixed all of them afterward.  Oh well, thanks for fixing that for me!\n. I'm not seeing off hand why that would be failing for you.  Perhaps you could try using ps_scale instead, which we have recently updated to allow for changing workers.  You should be able to do that like this:\nheroku.ps_scale(app, :type => \"workers\", :qty => 1)\nYou may still run into a similar issue, but then again maybe not (and this will be the recommended way of doing this going forward either way).  Let me know if that helps or if you need further help.  You might also consider using https://github.com/heroku/heroku.rb to access the API programatically.\n. @gregorym great, like I said, not sure why the other didn't work.  But this should be better in the long term anyway, so glad to hear you are back on track.  Thanks!\n. I've reported this back to the web team.  Sounds like it is a known issue and that using the CLI for addon removal is the expected course of action, so I guess that will probably be your best bet.  Let me know if you have any questions about that or have trouble and I'd be glad to help out.  Thanks!\n. @nbibler We are digging into this a bit more on the client side, but I can see one thing from the output that will help.  In the particular version of the client you are using there was a bug where ^C would not be sent over the wire (it would just get caught locally).  That has since been fixed, so you should get at least closer to the expected behavior if you update to the latest version of the CLI.  I'll let you know if we find/fix other parts of this behind the scenes.\n. @nbibler - yeah, the bug was recently introduced (and then fixed).  So I think it was actually only in the wild for that particular patch release.  So I guess at least in part you were just unlucky.  Hopefully you'll have better luck now though.\n. @nbibler great!  Thanks for the detailed report and sorry for the trouble, glad to hear you are back on track.\n. closed by #270\n. @JacobVorreuter overlooked that edge case, thanks for finding and fixing!\n. For reference, here is the output I now get from those commands (with and without cedar, since cedar seems to be created immediately and not require polling).\n```\ncedar\nairgeemus  ~/heroku/heroku[master]  \u2620  RESTCLIENT_LOG=stdout time bundle exec bin/heroku create -s cedar\nRestClient.post \"https://api.heroku.com/apps\", \"app[stack]=cedar\", \"Accept\"=>\"application/json\", \"Accept-Encoding\"=>\"gzip, deflate\", \"Content-Length\"=>\"16\", \"Content-Type\"=>\"application/x-www-form-urlencoded\", \"User-Agent\"=>\"heroku-gem/2.23.0\", \"X-Heroku-API-Version\"=>\"2\", \"X-Ruby-Platform\"=>\"x86_64-darwin11.2.0\", \"X-Ruby-Version\"=>\"1.9.2\"\n=> 202 Accepted | application/json 397 bytes\nCreating electric-sword-5467... done, stack is cedar\nhttp://electric-sword-5467.herokuapp.com/ | git@heroku.com:electric-sword-5467.git\nGit remote heroku added\n        5.09 real         2.25 user         0.36 sys\nnon-cedar\nairgeemus  ~/heroku/heroku[master]  \u2620  RESTCLIENT_LOG=stdout time bundle exec bin/heroku create\nRestClient.post \"https://api.heroku.com/apps\", \"app[stack]=\", \"Accept\"=>\"application/json\", \"Accept-Encoding\"=>\"gzip, deflate\", \"Content-Length\"=>\"11\", \"Content-Type\"=>\"application/x-www-form-urlencoded\", \"User-Agent\"=>\"heroku-gem/2.23.0\", \"X-Heroku-API-Version\"=>\"2\", \"X-Ruby-Platform\"=>\"x86_64-darwin11.2.0\", \"X-Ruby-Version\"=>\"1.9.2\"\n=> 202 Accepted | application/json 396 bytes\nCreating stormy-leaf-5905...RestClient.put \"https://api.heroku.com/apps/stormy-leaf-5905/status\", \"\", \"Accept\"=>\"/; q=0.5, application/xml\", \"Accept-Encoding\"=>\"gzip, deflate\", \"Content-Length\"=>\"0\", \"Content-Type\"=>\"application/x-www-form-urlencoded\", \"User-Agent\"=>\"heroku-gem/2.23.0\", \"X-Heroku-API-Version\"=>\"2\", \"X-Ruby-Platform\"=>\"x86_64-darwin11.2.0\", \"X-Ruby-Version\"=>\"1.9.2\"\n=> 202 Accepted | application/xml 748 bytes\n.RestClient.put \"https://api.heroku.com/apps/stormy-leaf-5905/status\", \"\", \"Accept\"=>\"/; q=0.5, application/xml\", \"Accept-Encoding\"=>\"gzip, deflate\", \"Content-Length\"=>\"0\", \"Content-Type\"=>\"application/x-www-form-urlencoded\", \"User-Agent\"=>\"heroku-gem/2.23.0\", \"X-Heroku-API-Version\"=>\"2\", \"X-Ruby-Platform\"=>\"x86_64-darwin11.2.0\", \"X-Ruby-Version\"=>\"1.9.2\"\n=> 201 Created | application/xml 783 bytes\ndone, stack is bamboo-mri-1.9.2\nhttp://stormy-leaf-5905.heroku.com/ | git@heroku.com:stormy-leaf-5905.git\n        8.01 real         2.29 user         0.36 sys\n```\n. @ddollar - due to the amount of already in gem code this changes I think it will probably be easiest to just merge.  ie a plugin may have been better but I suspect that ship sailed some time ago.  Probably good to keep this in mind in future cases though.\n. @asenchi - merged and gem is released (toolbelt should follow shortly).  Let me know if you need anything else to be unblocked.\n. @mmcgrana - implied feelings about said plugin, noted ;)\n. I'm not having any luck reproducing this with the same setup.  Any other outliers to your setup?  What do the contents of your ~/.heroku folder look like?  Sorry for the trouble here, but hopefully we can pin it down and get you back on track asap.  Thanks!\n. @swrobel - haven't gotten it to occur for me just yet. For clarity, when you say it doesn't always seem to happen, do you mean that it messes up only some of the Control+A's within a given session, or that it only does it within some sessions?\n. I tried those reproduction steps a few times and things still seemed to work on my end.  One of my fellow Herokai suggested that it might have to do with resizing.  Is it possible that you resize the terminal window while the console is still running?  He indicated he had seen issues like this in that case as the normal stuff terminal does to try to resize doesn't properly get sent and/or translate to the running remote process.  Let me know if that is possible as the problem, otherwise we can keep digging.  Thanks!\n. @dpiddy - seems good, can you pull request and/or merge?\n. @dpiddy - Thanks!\n@swrobel - sounds like this should probably fix your issue as well, but let me know if you try it and it doesn't.  Also, I'm planning on releasing soon-ish so you can try it then as well.  Let me know if this doesn't help though and we will revisit.  Thanks!\n. I agree that multiple environments quickly become a pain.  Just how painful depends a bit what your overall use case is.  I think in many cases you can simplify a lot by using the (unfortunately rather undocumented) heroku.remote option for your git config, git config heroku.remote the_remote_you_want_as_default.  Then you can omit it altogether as long as you are working against the default.  Similarly you could probably update your script to modify this and then run the command as is (which is probably going to be a bit easier than updating the option parser, which is a bit hairy right now at best).  I definitely want to revisit this whole thing with a better solution, but I haven't quite come up with one that seems general enough quite yet.  Anyway, let me know if that helps or not and if you have any questions.  Thanks!\n. I'm hoping in the not too distant future to revisit the options parsing just in general to tighten it up and make this sort of thing work, but I think I'd like to try and do it in a more general way instead of special casing this in particular (especially if you have a local work around).  It is on my todo list, but there are a couple higher priorities at the moment.  I would like to hear more about your use case though, how/when you are using multiple environments, etc.  Hoping to better understand how people are using it before I try to implement a solution based largely on unfounded assumptions so any input would be great.\n. @tpope - Thanks for the extra info.  The acceptance case makes a lot of sense (but wasn't one that I happened to run into on my various apps-for-myself).  Still need to think more about the overall improvements that could be done here, but I agree that fixing the arg parsing would help (I'm just in the middle of a few other things for the time being, unfortunately).\n. @indirect - I appreciate the feedback, always good to better understand what people are using and running into regularly.  I recently did a bit of parsing improvement (mostly around invalid/unexpected options) but haven't nailed order-changing just yet.  I think it will involve some more complicated efforts to add this support, but I certainly understand and appreciate how very useful this will be, so I hope I'll be able to sort it out sometime in the not too distant future.\n. @indirect - I can see how that would be helpful, though I don't usually have a list of apps locally to compare against (so it would involve rescue/retry with extra requests).  So unfortunately I don't have a direct way to add it at this moment.  I want to get some kind of fix for this though, whether it be different option parsing or the possibility of setting defaults via a config value or something.\n. Also, I think this actually does work now (I reworked option parsing recently but hadn't tried again).  Can you guys confirm with latest and make sure the use cases you mentioned are working for you as well?\n. Crap, I was thinking order of args after command, not including command.  Sorry.  Also thanks for the default clarification.  I want that to be the solution because others have that as their request and limiting the two into a single fix is terribly appealing.  With the recent fixes to arg parsing I think what you want may be more doable than before, I'll give it a shot and let you know.\n. Nope, still looks painful for various reasons, I fear.  How about an ENV override for app, ie HEROKU_APP=myapp heroku command.  That would be fairly easy and could be set for several commands (via export) if you wanted a default for the duration of a session.  Plus it should be quite straightforward to implement.  Thoughts?\n. Ok, I just committed this.  If you provide --app or --confirm those win, otherwise it checks HEROKU_APP and finally checks git config.  That should make it easier to do the kind of stuff you guys want and/or set defaults (or session-long defaults even).  Planning to release shortly, so I'm going to close this.  Feel free to comment further and/or open new issues if this doesn't end up cutting it.\n. Oh, oops, here is the commit, fwiw: https://github.com/heroku/heroku/commit/07797258d6b3ec07e57d2008474b1f19ffbae916\n. @indirect - You make a good point.  I'd still like to fix argument order as well, but I saw this as fixing the problem (albeit maybe not via the suggested implementation).  I'd be happy to re-open if you feel strongly about that difference.  I think that to some extent I de-prioritize the arg ordering given that this seems like a pretty good workaround that touches less code, but I'd still like to do it eventually.\n. @indirect - fair points.  I encourage you to keep bugging me until it is fixed.  I took another shot at it not too long ago thinking I had a strong enough grasp on how all the parsing works now to make it happen and had it blow up in my face, lacking the time/focus at that point I haven't revisited it, but it is definitely something I want to fix.\n. @dbrock - I can see how this would be useful, but I don't think this will necessarily get you what you want.  In particular it is possible that an app will have multiple domains and this would just list the first one that is attached.  Also I'd like to keep things consistent in terms of what gets displayed where.  I think perhaps that the better solution would be one in which you could call heroku domains without an app name to get back a list of all domains and apps.  I think that is a bit more consistent anyway (but unfortunately I think we'll need to update the API to provide it).  What do you think?  Also, could you elaborate on your use case and why you are running into this just so I know that I'm not barking up the wrong tree.  Thanks!\n. @dbrock - very interesting.  Thanks for the additional feedback.  I think I will maybe approach this slightly differently than the pull request, but I'll try to get something added in the not too distant future to make this sort of thing easier.\n. @dbrock - thanks again for the feedback.  I think clone working like that could make a lot of sense, and there is an issue related to that here: https://github.com/heroku/heroku/issues/255\nI'll hopefully revisit the rest of these ideas some time soon (have a couple urgent projects going on right now and will be travelling to/from a conference this week).\n. @voxik - Sorry about that, I had thought I (at least at one point) had gotten that all sorted out.  I'll revisit it today and try to get a release that fixes the spec failures you brought up.\n. @voxik - upon further investigation I seem to have a passing test suite, even when piped to a file.  What version of ruby are you using?  Anything else different about your setup that might cause differences?\n. @voxik - great, thanks for all the detail.  That should definitely help narrow it down.\n. @voxik - also note that the bundler portion has already been removed from the spec_helper, see: https://github.com/heroku/heroku/commit/ec4f5a564c91442ec225eb5238165ca2c4c5b7b9\n. @voxik - I just released v2.24.0 which should fix some (but maybe not quite all) of the issues you mentioned.  Let me know what is still broken (if anything).  Also I think we could probably mark the taps tests pending if taps can't be loaded so that you wouldn't have to work around those.\n. @voxik - I haven't been seeing this failure on my local runs or the ci box (http://travis-ci.org/#!/heroku/heroku).  How are you running things and in what environment (ruby/os/etc)?  Sorry, just want to nail down what the discrepancies are so that hopefully we can reduce/eliminate them moving forward.  Thanks!\n. @voxik - I was able to duplicate this error against 2.23.0 but it appears to be passing already against master.  So to the best of my knowledge this should be fixed with the next release.  Closing as such but let me know if your experience is different after the release.\n. @voxik - sorry to hear that, but thanks for the update.  I don't think I had much luck reproducing either of them locally.  Are there any additional restrictions on your test setup from the file system perspective that might impact stuff like this?  I'll poke around some more and maybe try on my ubuntu vm instead of on mac and see if that makes a difference too.  Sorry for all the run around, I have been trying to narrow these down but it can be tricky when you can't seem to reproduce.  Hopefully we'll get these last couple squashed for you soon.\n. @voxik - still not much repro luck on this end.  Could you update the gems you have installed on the system to ensure it isn't something in that layer?  I noticed we had several things with different versions so it seems like it could be worth a shot.\n. @voxik - thanks, let me know if there is anything else I can do to help out.  But so far I haven't been able to easily reproduce which makes it much more difficult.  Alternatively is there an AWS or perhaps Virtualbox image somewhere public that I could use in which I might be closer to your setup and/or reproduce the error?  Thanks!\n. @voxik - good catch, I suspect I may have NEVER tried that if you hadn't mentioned it.  I'll try to fix it up just shortly (feeling like its time to grab coffee first).  Thanks again for continuing to work through this stuff with me!\n. @voxik - I was unable to duplicate this one in master or 2.23.0.  I'm going to go ahead and release with everything as is, so let me know if this still fails for you and I'll revisit.\n. @voxik - let me know if you figure anything out to help us move forward on this.  I'm glad that we reduced the list of failures for you but I'm unable to reproduce this one still so it may end up being the one outlier for a while longer I'm afraid.\n. @voxik - are you still seeing this failure in updated versions?\n. @voxik - great, just let me know if you run into any other busted tests or anything.\n. Thanks!\n. @fabiokung - sorry about that and thanks for the fix!\n. Could you also fix (or at least add an issue for) explaining this functionality in https://github.com/heroku/api-docs ?  Thanks!\n. @will - awesome, thanks!\n. @rwdaigle - Is the use case always copying one var to another?  If so, perhaps we should just make a command that does that explicitly, instead of relying on backticks and/or piping.  Perhaps:\nheroku config:copy CLEARDB_DATABASE_URL DATABASE_URL\nor\nheroku config:copy DATABASE_URL=CLEARDB_DATABASE_URL\nOr something, I'm not wholly sold on either but the general idea would be for a command to just do what you ultimately want (instead of just making an intermediary step easier).  Thoughts?\n. I'm going to close this for now since I think some internal things-in-progress may remove this need, but you should reopen and/or bug me if this pain continues.\n. @kylebragger - I haven't seen any other issues related to this, are you still seeing this problem?\n. @kylebragger - great, thanks for the update!\n. @brandur - good catch, thanks!\n. @brandur - there are some small discrepancies but I think this is good enough.  Unfortunately the standards/best practices are mostly just encoded in my head, but I'm working hard toward standardizing things so that others can copy from the consistent goodness.  Just not there yet, so I don't expect you to jump through my mind hoops and I can clean up any outlying stuff while I'm doing the main cleanup.  Separate client is fine for now.  Eventually I hope to deprecate/remove that altogether (in favor of heroku.rb which is structured more like what you did in the first place).  Hope that clears things up.  Is there a timetable for this needing to be in a released version?\n. @craigkerstiens thanks for the details.  I'd say next week should be doable, depending on how long attachable resources takes (which I gather is a bit higher priority).  Releases are easier than implementation though so I may just bang this out anyway.\n. If you do require \"heroku/command\" it should provide a work around for the time being.  Thats exactly what I did in the above commit (so in future releases the workaround would no longer be needed).  Thanks!\n. @perlmunger - run is the preferred method of doing everything in cedar.  You can see some examples of using that in /lib/heroku/command/run.  Hopefully that will get you what you need, but let me know if you run into other issues.  Thanks!\n. @perlmunger - sure.  But my answer is a bit of a side step.  The best/easiest way to do it is probably now to use the new api client I wrote not too long ago, which you can find here: https://github.com/heroku/heroku.rb\nWith that in hand you can do:\nheroku = Heroku::API.new(:api_key => YOUR_API_KEY)\nheroku.get_config_vars(app_name).body\nThat should get you exactly what you want, already parsed into a ruby hash.  Hopefully that helps and simplifies things for you.  The old client is a bit hairy so I made an effort to make the new one a lot cleaner and easier to work with.  Just let me know if you have other questions or issues.  Thanks!\n. @perlmunger - My pleasure, just let me know if you run into any other rough edges and I'll do my best to help out.\n. @perlmunger - that code looks technically correct.  How are you looking for the result?  When I tried with a similar command the rake task did not show up in my process list (because it has completed already, see the 'action' value in the return), but when I looked at the logs for the app I could see that it had run and returned things.  Are you not seeing the task appear in the logs?\n. @perlmunger No worries, easy stuff to overlook.  Glad to hear you got it working, just let me know if you have other questions in the future, happy to help out.\n. I think that it is likely to be less problematic in the long run if we make this an API concern instead of needing each client to do it.  As such I'm closing this in favor of heroku/core#541 Thanks!\n. Interesting.  I can certainly see how that would be problematic, but I'm a bit reticent to introduce a second short option for the same thing.  Considering alternatives (perhaps heroku logs:tail or something).  In any event, your feedback has been received and I agree that it could be better, I just haven't settled on a solution that I'm happy with quite yet.\n. @msmith - yeah, the current option parsing is a bit hairy to say the least...\n. @kisin - I'm working to find a fix, but in the mean time as a work around you can delete the C:/Users/kisin/.heroku/client directory to revert back to the old version.  That should at least get you un-stuck for the time being.\n. @kisin - alternatively, you might consider simply downloading and installing the latest from http://toolbelt.heroku.com (as I have been unable to reproduce this error).\n. After a bit more digging it seems that this has to do with updating from/to some particular older versions and is not a bug that exists in newer stuff.  As such I think if you grab and install the latest toolbelt you should be good to go.  Thanks!\n. @gregschwartz - I think it is relatively rare, so a reinstall is probably the best bet.  I think the issue crops up in a from-a-particular-version to-a-particular-version sort of way.  So most people shouldn't encounter it.\n. @gregschwartz - Hmm.  You may also need to remove the ~/.heroku/client directory.  I hadn't considered that part of the equation.  I suspect that will get you back up and running though.\n. @gregschwartz - ah, interesting.  I would have thought that it would have ended up using whatever the latest toolbelt you had installed was.  At the very least you should be able to re-download and install the toolbelt and get up to the latest (and update should work after that).  By no means was I actually trying to have you end up on an old version.  Hopefully we can get you on the latest because that would be more awesome.\n. @gregschwartz - no, off by a bit (latest should be 2.25.0).  Did you get the latest toolbelt from http://toolbelt.heroku.com ?\n. @gregschwartz - also, did you have a gem version installed prior to the toolbelt?  Its possible that the order of bin files is such that the gem version is winning out over toolbelt.  So doing gem uninstall heroku might be in order as well.  Sorry for all the confusion here, we are working to make all this smoother but we have had some transitional pains along the way.\n. @gregschwartz - good to know.  bundle install is probably locking to that version for a reason.  Most likely your gemfile either 1) lists that particular version for the heroku gem or 2) lists something else which depends on this particular version.  My guess is that 1 is somewhat more likely, but its hard to say.  If you posted your Gemfile and Gemfile.lock files I could probably tell you, but barring that your team can probably help you out.  Thanks!\n. @klimchuk - thanks for the update, good to know this is pretty consistent at least.\n. @nbashaw - great, thanks for the update.\n. Thanks for the updates guys, I have it on my shortlist to try and write a fix for this (probably next week).\n. @karl-petter - thanks for the update.  It could be rvm related, but I use rvm and haven't seen it, so I don't think it is just rvm all by itself necessarily.\n. @inancgumus - thanks for the extra data.  I made a fix a couple days ago that I'm hoping should help with this, ought to be able to release it later today.\n. @jgentes - thanks for the update.  It didn't occur to me somehow that this would also fix it quickly/simply but I can certainly imagine how that would do it.  I'll probably recommend that to anybody else with this issue moving forward.\n. @rubyshoes - sorry to hear that.  What do you get for which heroku?  It seems like it is using the wrong bin file for some reason, so hopefully I can help with that.  What do you mean when you say \"go to heroku.com and run it from heroku\"?\n. @rubyshoes ah ha, that is definitely not where I would expect to see the bin file.  Is there a reason you need to have the heroku gem in the Gemfile for your app?  It looks like it being there is causing that version to be used (rather than using the system level toolbelt installation).  Removing it from the Gemfile and doing a new bundle install should help, but if not you may want to double check which heroku again, if it still says ./bundler_stubs/heroku after changing the Gemfile I'd just delete that file manually.  Doing so should cause the rest of your path to be searched (which ought to include the toolbelt version of the file).  Hope that sorts it out for you but let me know if you have further questions or concerns.\n. @rubyshoes - glad it sounds like it is at least partially working now.  I think gem uninstall rubygems_bundler would cause this behavior of automatically doing bundle exec to stop (if that is what you want).  This in turn ought to prevent the non-toolbelt version from being run I think.\n. @rubyshoes - That looks like the correct bin file if you have installed heroku as a gem at the system level, yeah (toolbelt would look a bit different).  Is it working for you now that you've made that change?\n. @rubyshoes - could be.  At this point (with it removed from the Gemfile).  I would run gem uninstall heroku and select all.  Then do a fresh download/install from https://toolbelt.heroku.com.  I know you did something quite similar before without much luck, but I think the Gemfile was the complicating factor then, so if we get that out of the way I think this should get you to a clean slate.\n. @rubyshoes - it sounds like it is using the toolbelt now (progress!) even if it doesn't support update.  Yeah, on unix update defers to apt-get (it works in a different way on mac and windows).  So thats the best its gonna get, apt-get should get you the latest (if there is newer stuff) in the future.\n. It appears to list update fine for me.  It is toward the bottom, under additional topics.  If you are still seeing this behavior, could you paste the output you are seeing and let me know what version of the client you are running?  Thanks!\n. @davidosomething - No problem, just let me know if you run into it again and I'll do my best to tackle it then.  Thanks!\n. In case others run into this, there is a workaround.  Simply start your command.exe session with chcp 1252 and then use your windows client as usual.  This will allow heroku commands to work as expected, and I'll work to integrate a fix shortly.\n. I've done some cleanup and added magic comments to the bin files.  I believe that these things should fix the above problem in next release (if they haven't already).\n. merged\n. Good question, I haven't encountered this before so I'm asking some colleagues to find out the story, I'll get back to you when I find out.\n. It appears that this may have once worked but it hasn't for some time.  It also appears unlikely to return in the near future.  So I guess you may have to start with domains and work back to apps for the time being (rather than the other way around).  I'll keep in mind that this would be useful to add back in the future though.  Thanks!\n. It would appear that you are running Ruby 1.8.6, which we no longer explicitly support.  If you update to a newer version of Ruby it should work better for you.  A couple good options for managing this update are:\n- rbenv - https://github.com/sstephenson/rbenv\n- rvm - https://rvm.io\n. @aguywithanidea - thanks for the additional info.  I hadn't run into that, but I tend to use rvm so perhaps this is rbenv specific.  Hopefully if anybody else runs into that they will see this though.  Thanks!\n. @mattfenwick good call. I'll have to look into how best to do this (I don't want the version to be overly strict if possible), but I think we can definitely do better than the current setup.\n. I've created #317 to track the improvement of error messaging around this particular issue.\n. @swelement - could you post the error message you are seeing?  Thanks!\n. @swelement - It looks to me like it is not using the rbenv version of ruby when it runs heroku commands.  Could you try rbenv rehash and then trying the command again?  I gather that this should rebuild symlinks (or something to that effect), I'm not an rbenv user so I'm not 100% sure, but I think that should get you back on track.\n. @swelement - could you try again after updating to use the new version (2.26.1) which I released a couple hours ago?  It should provide a fix for that bug (and hopefully some other things as well).  Let me know if you are still stuck after that though.  Thanks!\n. @swelement - strange, securerandom should be part of standard library.  What do you get from ruby -e \"p require('securerandom')\"?\n. @technomancy - any ideas on what might be going on, load path or otherwise, from the toolbelt that might cause this?\n. @OSP123 - are you using the toolbelt?  Are you on the latest version?\n. @OSP123 - great, thanks for the update!\n. @testflyjets - thanks for the heads up.  We may need to change that in the bin if this keeps up, but seems to work for most people.  At least now I should have a pretty good guess if anybody else hits it.\n. @swelement - glad to hear that worked for you and thanks for letting me know you ran into this.\n. @ericboehs - Thanks for the report and detailed info.  You are right that there wasn't an open (or closed) issue related to this.  I was working on something unrelated and stumbled across this (though I saw it in the 1-9 vs 10-19 case) recently so I went ahead and made the fix.  Should be there in the next release, but might be a little while on that (lots of travel the next couple weeks).  Will try to get something out asap though.\n. @mattfenwick - sure thing, might be a little bit before I get to it though (in the middle of a couple other big projects within the cli).\n. I believe 1.8.6 is now working properly which makes the necessity of doing this much less.  Closing for now.\n. @zeke - awesome, thanks for making those changes.  Also, related, I've thought a bit about personal aliases, but that is a separate can of worms...\n. @vovan22 - were you able to work around this issue?\n. @mochablendy - sorry to hear you are having that problem, I think it probably has to do with the proxy setup in some way/shape/form.  Could you try specifying https_proxy and http_proxy as well, or instead?  The key difference being that they are lowercase instead of uppercase.  I think that should get you going, but do let me know.  If it does I'll try to get that fixed to allow either upper or lower case and if not we can try something else.  Thanks!\n. @mochablendy - I suspect it may still be related to how the proxy is specified.  Could you open a ticket through http://help.heroku.com so that you can provide more explicit details about your proxy settings in a private format?  Barring that I'm having trouble figuring out better what is going on from my end.  Thanks!\n. @mochablendy - thanks for the extra details.  Nothing jumped out at me immediately, but I'll try to dig in a bit more shortly.  I'm going to go ahead and close this issue before I forget so that I'm not tracking it in two places.\n. @freeformz - I imagine I can do it via pulling back config vars and comparing prefixes, but is there a better/cleaner way?\n. @freeformz - to further simplify, should there perhaps just always be a confirmation if the value is already set to something else?  i.e. something like:\nDATABASE_URL is currently set to \"postgres://foo/\"\npg:promote will set DATABASE_URL to \"postgres:://bar/\"\nType myapp or rerun with `--confirm myapp` to continue\nI think that would satisfy you concern, be simpler to implement and also probably be a better practice. Thoughts?\n. Are there particular reasons then to prompt the check for non-heroku postgres?  ie is this non-recoverable in those cases?\n. @freeformz - I'd entertain a pull request, otherwise it may be a bit before I can get to this.\n. Yes, I think the second one is what was intended, thanks!\n. @fgalassi - sorry about that.  I need to bump/release heroku.rb and use that version (I was doing this on my local dev copy and then forgot to do it before I finished up for the evening).  Are you running into this problem while using heroku-accounts or while doing something similar?  My understanding is a behavior like this should already occur within the context of heroku-accounts (and might cause issues with some internal use cases we have at Heroku).  Just want to clarify your use case so I can better understand what problem(s) we need to address.  Thanks!\n. @fgalassi - Yeah, I think the \"specifying current app\" version is maybe more broadly applicable and could help in cases other than just this one (ie when you are using the default host but have more than one remote).  I think I'd prefer that solution actually, though I'm not entirely certain about how to do it.  Your suggestions both seem like they could work, I'd have to give a bit more thought to which I prefer.  There is also the potential problem that in some cases the config should probably be local to a particular file/folder instead of global, but anyway we should continue to discuss.  There is actually a different ticket already open related to setting current app, so I'm going to close this in favor of that.  If you'd like to jump in on the discussion there that would be great.  Thanks!\nHere is the other issue: https://github.com/heroku/heroku/issues/169\n. This has to do with the --all option here, which option parser mistakenly interprets the -a to represent.  The --all option is currently not included in master, however, so this problem should no longer exist after the next release.  See also: heroku/dx#127\n. @webdevotion thanks for the heads up.  I've updated the devcenter article to use a known working/maintained plugin so that it will be less confusing/problematic.  I'll also see about maybe getting those other plugins fixed (though one of my co-workers indicated that some of that functionality has perhaps been integrated into the client directly).  Thanks!\n. I am unable to reproduce this, Here is what I'm seeing:\n```\n2012-05-24T17:43:53+00:00 app[worker.1]: [Worker(host:4828c276-f4c6-4dfd-9f1e-3e35f786d1ea pid:2)]        Article#record_view_without_delay completed after 0.1209\n^C\n!    Command cancelled.\n```\n. I haven't heard any further info here (and don't really have direct access to ask them follow up questions).  So I'll close for now, but keep an eye out.\n. @stprior - thanks for the extra info, should help me explain if anybody else runs into it.\n. @adamscruggs good catch and explanation. I've patched it on master here: https://github.com/heroku/heroku/commit/6f43cf7a8632b9faa5c850d471beadcde5af156b\nI'll try to get a release out soon. Part of the confusion above was that the error message looks the same, but has a much different cause (lacking psql in path vs lacking env in path). So hopefully we'll have this sorted more completely soon.\n. Got another report of it, went ahead and fixed it.  Will try to get a release out soon.\n. Thanks for pointing this out, but unfortunately I think it might be a bit more complicated than that.  I've started integrating heroku.rb instead of client and this is one of the places where it is used (you can tell by looking at if the method is called on api for heroku.rb or heroku for the old client.  So that call actually gets routed here:\nhttps://github.com/heroku/heroku.rb/blob/master/lib/heroku/api/apps.rb#L42\nSo that comparison/conversion isn't currently happening at all.  We should probably change /heroku/commands/maintenance to just convert on/off to 1/0 and then I think it should all work alright.  Does that make sense?  If you'd like to fix that up for me that would be awesome (and hopefully it will make it a bit clearer how those pieces fit together in case you run into any other broken bits).  Thanks!\n. @tonydaly - great, and thanks for the help.\n. fixed in the less obvious way: https://github.com/heroku/heroku/commit/319fd997b663ab8cd5733e3d0c92e32597819b43\n. @dblock - Interesting. A couple things, first you might try updating to the latest version, looks like the error came from an older one and a few things have changed (including at least an attempt at helping with character codes).  Also, I'd be curious to hear what you are doing with the jenkins server because there are likely easier ways (perhaps with heroku.rb).  Anyway, let me know as I'd like to get this sorted out for you.  Thanks!\n. @dblock - that stack trace appears to indicate heroku-2.21.2 which is from late February (which is why I mentioned it).  So maybe double check that to make sure a different version than you think isn't getting pulled in from a Gemfile or something.  The main encoding related commit is this one: \nhttps://github.com/heroku/heroku/commit/10e397be4932f9cdc39d80217ef1ec15aae15f0a\nAnd I'm not 100% sure it will fix stuff like this, but it is a start.  Encoding issues are frequently quite difficult (for me at least) to reproduce in the first place.  I'll hit you up to discuss, always curious to hear more about how people are using things.\n. @dblock - fair enough.  Error is in a different spot now, for better or worse.\n. @dblock - did this previously work and now broke, or has it never worked?  Just want to try and narrow down causes (as I said, encoding errors seem to be my bane).\n. @dblock - Hmm.  Are you using magic comments inside the rake file and/or scripts you are running remotely?  That may help to properly encode things on the other end before passing them back.  Also, just to clarify, the successful console runs are from the same machine as the failing jenkins ones?\n. @dblock - hmm.  If it is puts/logger then the magic comment probably shouldn't matter, just figured I would check.  It should define what kind of text would be outputted too though, so it might matter.  I don't think -T should actually be added, it was just placed as an example to (hopefully) clarify what usage/output look like.\n. Thanks for all the info and feedback guys.  Looks like @dblock got it sorted out.\n. @dblock - awesome, thanks for helping me out on this.  If you email me a physical address and shirt size I'd be happy to mail you a heroku shirt to say thanks.  Thanks!\n. @damrbaby Sorry you are running into this, it was fixed in a more recent version.  If you update to the latest version the problem should be fixed for you.\n. Yeah, resource not found is bad messaging, it is the fallback when a 404 occurs with a message that the client doesn't directly recognize to display nicely.  I'll look into whats breaking presently.\n. Will likely release later this afternoon, sorry for the trouble.\n. @ddollar - out of curiousity, what is the use case/impetus for this?\n. fair enough, just wanted to double check I understood before I merged.\n. @jordansissel - thanks for the info.  For reference, the current version looks for ssh keys like this: public_keys = Dir.glob(\"#{home_directory}/.ssh/*.pub\").sort\n. I think I'm going to close this.  It seems like largely an edge case (we frequently generate keys that we are placing matching the above pattern and if not I think that following that pattern is simple and a good practice).  So closing in favor of keeping it simple, at least for now.  If it becomes a bigger issue or more common request I'll certainly revisit.\n. @freeformz sorry about that.  I ran into it and actually fixed it earlier but didn't manage a release today (I'll try for one tomorrow morning after fixing the other pg bug).  Here is the fix: https://github.com/heroku/heroku/commit/5ea07f76a158aca6fca10336b928b173f741bb2f\n. @daneharrigan - sounds good, let me know if you have questions or need help.  Thanks!\n. @clacke - thanks for fixing that!\n. @clacke - If you send me your size and address I'd be happy to send you a tshirt as a thank you.\n. @clacke - Not sure on the specifics, but I imagine @dblocks guess of \"because it is hard\" is probably not far off.  It may have also simply been overlooked.  In any event, looks like we have something to work from moving forward.\n. @dblock - This is a limitation imposed by our current runner setup, so the client can't easily start returning the code because it doesn't know it either.  You can work around this in a limited fashion by doing something like heroku run command && echo $?.  I'm going to close this as a duplicate of #186 since it comes from the same root cause, feel free to add any further comments or concerns you might have there.  Thanks!\n. @erf - it seems to work fine for me on windows 7.  Could you download and reinstall the latest version and see if you have better luck?\n. Cool, thanks for clarifying/fixing that.\n. Also don't know on this one, when I had to do this before I used respond_to? as well.\n. Not loading older versions seems good, but being able to overwrite your good version with an old one seems bad.  Also I'm a bit concerned about what happens if an update fails for some reason or succeeds very quickly (introducing a race between the updater and the running process).  Perhaps some of this could be alleviated by dowloading/unpacking to /tmp, doing integrity check (including making sure it is a newer version) and then copying across.  It could, perhaps, also wait until any running command had finished to ensure it didn't change files in the middle of something (but this is perhaps less of a concern).  I'm not sure how often these edge cases would come up (I'd guess quite infrequently), but I want autoupdate to do the right thing and be trustable.\n. This is what I get for trying to review complicated commits before I'm properly caffeinated.  On the plus side, good to know we are on the same page requirements-wise.\n. Seems reasonable and a good first pass on getting functionality sorted.  Could you add some more testing around it?  I'm worried it will be fragile if we don't do so (and it will hopefully make it easier to validate that it works on windows and stuff).  Related to that, maybe we should setup the background process to dump errors/output to somewhere in ~/.heroku so that we can debug if anybody gets stuck on old versions?\n. There seems to have been a fairly steady flow of load order/path issues coming in around people that have ~/.heroku/client.  I am therefore somewhat reticent to update everyone if some larger portion of users would then be likely to run into this, but I haven't had luck reproducing this behavior historically.\n. @ddollar - I'll give it a closer review this afternoon and make a plan of attack for tests and stuff so that we can try and have it out this week.\n. Sorry about that, it appears that as a part of the release process I inadvertently ended up including some work-in-progress files into the gem somehow.  It would appear that the problem code does not exist on github so there is no additional code change needed, I'll roll a fixed release shortly. \n. This fix is now available in 2.26.6\n. @dblock - awesome, thanks!\n. It sounds like you have some issue with your git setup.  Most likely you have no commits yet to push.  You can see some info about this problem here: http://stackoverflow.com/questions/4181861/src-refspec-master-does-not-match-any-when-pushing-commits-in-git\n. I fixed this in netrc 0.7.4 and just pushed a commit to use this version for the client, so this fix should be available in the next release.\n. I'd love to say sooner, but I'm at a conference in Mexico right now.  In addition to being busy the wifi has been a bit spotty so I'll probably wait until next week when I return home to release.  Are you using a toolbelt version or gem version?  I think the gem version should use whatever the newest netrc available is, so doing gem install netrc would get you the fix.  I don't think this will fix the toolbelt version, however, as I believe it uses a vendored dependencies.\n. Hmm.  I think this was fixed and released.  Can you run heroku update and then try again?\n. Hmm.  Not sure how you ended up in that state, and I can't seem to duplicate it locally.  To unstick yourself you can take (slightly) more drastic measures.\nFirst, rm -rf ~/.heroku/client.  Then download and install the toolbelt the hard way, via http://toolbelt.heroku.com\nHopefully that will get you back up and running (though I'm not entirely sure why update wouldn't also do this).  If that doesn't work out, do let me know, but 2.26.6 seems to be working alright for me.\n. Yeah, update ought to do the right thing.  But there have been a handful of cases like this that I couldn't easily reproduce, but where update didn't seem to help.  Anyway, glad you are back on track.\n. Fixed by #360\n. @ryandotsmith - I concur, thanks for the additional nudge, far too easy to fix symptoms.  I revisited it a bit more and changed the output formatting so that the versions with and without release params share code path and messaging.  This should reduce the risk of this kind of error.  It also allowed me to change the tests to more explicitly ensure that rolling back to a non-last release functions correctly (a test that was there before but did not fail due to the output of rolling back to the last version being discarded previously).  I believe these changes should prevent this from recurring.  You can see them in the following commits:\nhttps://github.com/heroku/heroku/commit/e43bdeb9300576e82ed8e42eee05f7208da84e04\nhttps://github.com/heroku/heroku/commit/3da98d70bfe62c6820bb72c38480fbbb49d320e1\n. Wow, don't know how I managed to do that...  Thanks for the fix!\n. @gothic1234 - it looks like you need to run bundle install in your app and then commit the changed Gemfile.lock.  I think that should get you around the error at least.  As for the duration, did it used to be significantly faster and just slowed down or was it slow all along?\n. @gothic1234 - great to know this got worked out for you.  I also don't know off hand what would have suddenly caused this to go haywire, but glad to know you found a good solution for yourself.  Thanks for the update!\n. Sounds good.  I can definitely see how this better matches with expectations (and how without it you could easily be rather confused).  Could you add some tests around it before we merge it though?  In particular it would be good to ensure this happens (or not) appropriately based on config vars.  That way we can hopefully be more sure it does the right thing and also do a better job of preventing future regressions.  Let me know if you have questions or concerns I can help with along the way.  Thanks!\n. The odd part is that I wasn't getting a 500 or 404 or anything like that.  I would get a 200 but it wouldn't have the json I expected (so when I tried to reach in and access them things went badly).  In manual testing I believe I at least once or twice simply got an empty json hash in the body.  This seems harder to catch/rescue properly.  Do you have any ideas as to where that might be coming from?\n. Thanks for the detailed report.  I found this bug yesterday and fixed it up, I just hadn't had a chance to release the fix just yet.  Here is the fix:\nhttps://github.com/heroku/heroku/commit/83f830c2ea4fdd0ed03bcf504aaccb3fbf81eb6d\nI'm hoping to get a release out soon.  Thanks!\n. @jwarzech - sure thing.\nFor anyone running into this, I believe a current workaround is to remove and then re-add the shared-database, then promote it to master.  I think that should fix it if you need this right away, otherwise I hope to release early next week (I would do it sooner but I'm travelling at the moment).\n. @jwarzech - thanks for the suggestion!\nFor those of you who were effected I am back home and I just released 2.26.7 which should include a fix.\n. It appears to be a case in which an error of some sort was encountered (non-200 status returned) but in which the body was a json array, rather than the expected json hash.\n@ddollar - did you ever get this to work?  I think we should probably report against core since it is returning something unexpected, but I'm not sure why this app in particular would be doing it and/or if it is intermittent.\n. Repeated adds seem to do the right thing for me:\n$ bin/heroku domains:add example.org -a testable\nAdding example.org to testable... done\n$ bin/heroku domains:add example.org -a testable\nAdding example.org to testable... failed\n !    Domain has already been taken\n$ bin/heroku domains:add example.org -a testable\nAdding example.org to testable... failed\n !    Domain has already been taken\n. Closing as I was unable to duplicate.\n. Submitted to core as: https://github.com/heroku/core/issues/780\nI suspect that older clients would also be broken, but I'm still not sure why you are getting that error and I am not.\n. I think/hope that this is a one-off error inconsistency from the API which is being tracked on their side, so I'm going to close this as coding around it seems messy for something that should be fixed anyway (and hopefully can be fixed soon, I'll try to keep bugging them if it stalls).\n. @atuk84 - could you update to the latest client and try again?  Some related errors were fixed in subsequent releases.\n. @atuk84 - great, glad to hear it!\n. @dgarzon - yep, it was fixed in 2.26.7.  Sorry for the confusion, it didn't get reported right away so it had inadverdantly remained broken across a couple versions there.\n. @mmcgrana - I can code around this, but the root problem seems to be that several of the releases on that app (in particular [v53, v54, v55] have a user value of nil.  They are listed as deploy type releases (as are others around them) but the other releases contain a user value.  Is this reflective of a larger/different problem elsewhere or is a nil user expected for some releases?\n. In the interim (and because similar cases may appear at times elsewhere) I've patched the client to play more nicely with nil values.  Going to go ahead and close this as it is solved in CLI and tracked elsewhere for core.\nSee also https://github.com/heroku/heroku/commit/54d93553db326e9c2c7515cba7718354e01f9d5c\n. oh crap, overlooked the upcase.  Fixing that as well now.\n. see also: https://github.com/heroku/heroku/commit/b7c75d31a7e2b752301bdbc07c7ece8f0efb40fa\n. Actually this was a subsequent edge case to that one :(.  New fix: https://github.com/heroku/heroku/commit/231eb9afe1627fa51ead6b5a49db838b310d9fbf\n. Some vaguely good news, in trying to repro I gather that this only breaks when the follower has been promoted to master.  Non-master followers unfollow as expected.  Working on fixing the other part now.\n. Perhaps better news, I tried several combinations and I can't seem to get it to fail.  Will try to discuss more with you later today.\n. Through discussion with various dod and numerous failed attempts to reproduce I'm going to say this is no longer an issue in 2.27.1+ but let me know if your experience varies from this.\n. Should actually be fixed in 2.27.3\n. Thanks for the heads up, closing this as a dup of #373.  Will work toward a fix shortly.\n. @ddollar - It wraps/rescues anything inside Heroku::CLI#start, which I think should already include (most) plugin usage.  Are you seeing particular examples that fall outside this?\n. @delacruzjames - Could you check heroku logs and see if there is any related information that might be informative and paste it here?  Thanks!\n. Sounds like there may have been some internal issues for a handful of requests and users.  Could you guys give this another shot and see if you have any better luck?\n. Are you guys still seeing problems with these?\n. Alright, I'm gonna go ahead and close this then.  Do let me know if either of you experience other issues though and I'll try to get to the bottom of it.  Thanks!\n. Are you behind a proxy?  If so, how do you have it configured?\n. @harisibrahimkv - ah ha. Thanks for the update and glad to hear you are up and running again.\n. @daveschaefer - Awesome, thanks!  Adding a comment inline momentarily.\n. @daveschaefer - no worries, I was just doing the rounds through issues/pull requests and saw this had stalled a bit and wanted to get it unstuck if possible.  Looks great, thanks!\n. @daveschaefer - P.S. if you email me your details (size and address) I'd love to send you a t-shirt as a thank you!\n. @adamwiggins - It seems to be working for me, also 2.27.3 and iterm2.  Are you seeing issues with anything else?  Is it possible that it was just very slow in returning the email prompt?\nAs a bit of an aside, heroku version now includes most of that info, which makes it simpler to report, for instance mine is heroku-gem/2.27.3 (x86_64-darwin11.2.0) ruby/1.9.3.\n. @adamwiggins - yeah, you should have the latest release with autoupdate.  I'll dig some more but I haven't duplicated yet.\n. I was unable to reproduce but I'm hopeful setting stdout.sync will do the right thing.  Also the version thing I mentioned is just on master presently, awaiting a release, so I was mistaken about its current availability.\n. I've updated the output to include HEROKU_HOST when it is non-default.  But how would we know what to catch?  Seems there are many possible valid values form devclouds.  Just wondered if you could be more precise about what you expected and/or would prefer.  Thanks!\n. @mmcgrana - Thanks for the feedback.  For now I think the generic improved error messages are probably good enough, I'd rather hold off on going down the path of lots of one-off special errors for as long as possible to keep things simple.\n. Thanks for the input everybody.  It's on my list (just not quite at the top presently).  Happy to help out if anybody wants to take a shot at a pull request though.\n. @oc - Glad you got some help (and thanks for updating/closing the ticket).\n. @gyaresu - Good catch, usually if you have run other commands it will do a login, which I think will create that directory.  Anyway, thanks for the detailed report, I'll get it fixed up before the next release.\n. @pmirshad - Hmm.  Are you behind a proxy?  What version of openssl are you using?\n. @pmirshad - If you update to the latest version (2.28.0) you may have better luck since I fixed a proxy related bug.  Otherwise, are you setting the proxy via the http_proxy and https_proxy environment variables (they can also be in all UPPER_CASE, fwiw)?  That is how the CLI attempts to find/utilize these values, so if they are not set they may need to be.\n. @pmirshad - Great, thanks.  (its always a bit hard to troubleshoot proxy issues).  If you are still having trouble after the update your best bet may be to open a ticket through http://help.heroku.com (so that you can provide private proxy info to us and we can work out the specifics).\n. @pmirshad - have you had any luck here, anything else I can help out with?\n. @pmirshad - great, thanks for the update!\n. @mdz - Turns out my attempts to fix this mostly just made things worse.  Could you elaborate on what you want to do with these values that requires the quoting?  I'd like to improve the situation, but understanding your goals would help me frame the solution.  Thanks!\n. @mdz - most of the related queries to this sort of thing (ie output isn't shell enough) relate to automating.  I think automation might be better served by using heroku.rb directly and perhaps packaging the result as a plugin that users could install and use.  I think this could also make the experience for users much simpler and smoother.  Happy to walk you through any of this and/or further discuss.\n. @mdz - good question and I'm not entirely sure (it predates my involvement).  I think it probably makes sense to eventually remove, as I'd prefer a more global option that strips/simplifies formatting across all commands instead of the special one-off version we see here.\n. @mmcgrana - that would make sense.\n@mdz - is there a particular variable or use case that implies or requires variables with spaces?\n. @mdz - makes sense, just wanted to make sure there wasn't a known and/or common case that I should know about and address.  Could the tool you were thinking about be done with heroku.rb directly?  It should deal with whitespace correctly.\n. Thanks, I'm thinking about changing it too look more like:\nheroku config [-s] # list config\nThat way it is clear that the options are immediately obvious but changing the order may also be in order.\n. @catsby - depends on level-of-effort, given hk stuff. If it is quick/easy, maybe go for it, otherwise, maybe not. I'm afraid I don't recall enough context presently to evaluate level of effort.\n. @pedrobachiega - Thanks for the details, I definitely haven't encountered this before.  Are you running into any problems with other commands, or just this one?\n. @pedrobachiega - No, thanks for the offer but I think I found it.  Will push out a fix shortly, sorry for the inconvenience and thanks for the detailed report and offer of help.\n. That should fix it for future versions, there are a few API commands that return errors in a different format for some reason (we should be fixing those soon).  For now though, I'd like to help out.  Most likely the problem is with the user you are trying to transfer to (rather than the app).  Without knowing who the other user is I can't really look this up directly.  So if you file a ticket via http://help.heroku.com with that more sensitive info I'm sure they can help.  Otherwise, a few things to check out:\n1) You must own the app you want to transfer.\n2) They should already be a collaborator on the app.\n3) Their account should be verified.\n4) Their account should have payment info attached.\n5) The app must not have any paid resources.\nI think those are the right requirements anyway from reviewing the associated code.  If you contact support they can certainly help you sort it out and sorry for the inconvenience.\n. Sorry about that, there was a regression somewhere related to error parsing that should be fixed in the next release.  In the mean time I can tell you that the error in this case is that app names can only include lower case letters, numbers and dashes (and the one you used includes upper case letters, which are not allowed).  Sorry for the confusion, hope that gets you back on track.\n. duplicate of #440\n. @NeoPhi - sorry about that.  You hit an edge case that I hadn't encountered yet (where it uses the old copy of the updater file but tries to reference it from the new update command).  I've fixed it on master but it hasn't yet been released.  In the mean time you can get yourself un-stuck by downloading and reinstalling the toolbelt from http://toolbelt.heroku.com.  Sorry for the inconvenience.\n. @lookfirst - yeah, sorry.  Turns out testing the update portion of things is a bit funky (because of many possible old version/new version combinations among other things).  So, sorry.  Hopefully it won't happen again (I think I know most of the potentially problematic edges now).\n. @lookfirst - by no means am I saying I didn't handle it poorly, just hope to do better for everybody in the future.\n. @lookfirst - Thanks.  A lot of it was that there had been a number of different update errors across different version before and I had a really hard time pinning down the common issues between them for a bit.  I think I finally got it pinned down, but it was rough at various points along the way.  Lots of weird conflicting load paths and load order things always make it tough to figure out where the problem actually is (and in what version).  I should have better tested it between the last and latest though, regardless.  Sometimes things, unfortunately, fall through the cracks though.\n. @MarkDBlackwell - I completely agree and have been doing my best to do so.  Sometimes I just get so wrapped up in things that stuff falls through the cracks.  Doing my best to improve on this.\n. @ddollar - could you elaborate on motivation here?  Right now I think the heroku-gem vs heroku-toolbelt distinction makes good sense and it's relatively easy to compare against and/or aggregate.  Just wondered what the goal was in making another change to it.\n. @ddollar - ah.  I guess the switch is in the bin, so if you have an older one it wouldn't appear.  Not being able to update the bin file when doing update is problematic...\n. I had made this fix for tgz and exe but somehow missed pkg.  I've pushed a fix that should go out with the next release.  That said, do you think the non-toolbelt version should still be heroku-cli?\n. Closing this for now as I believe the issue we were seeing was unrelated (the pkg user agent had not been updated).\n. Closed by #401\n. @s0pr3m3 - yeah, seems like some boolean and/or nil values sometimes get set from the API itself.\n@deafbybeheading - yep, I think to_s is the way we are going.  Plus I'm talking to the API team about doing better coercion on their side.\nThis has been fixed in #401 and I'm planning to release later today, so I'm closing this ticket now.\n. @hone - I believe config:get for a not-set value is empty string, so nil == empty also seems alright.  Guess there then isn't a clear way to differentiate, but maybe that doesn't matter.  Will also need to accomodate booleans it turns out, so maybe we just need to to_s the values and call it good.  I hadn't realized there were non-strings possible previously.\n. @swaroopch - yeah, likely later today.  Sorry for any inconvenience.\n. @hone - Looks good, thanks!\n. @shanaver - could you paste the backtrace so I can more easily see where the error is coming from?  Thanks!\n. @shanaver - Thanks for the update.  I don't have much personal experience with taps so I can't say off hand, but sounds like there may be a bug in there somewhere.  Thankfully it doesn't appear to be a problem for you any more.  Let me know if you have other issues though and I'll see what I can do to help.  Thanks!\n. @kaiwren - the bad news is that I don't have an immediate fix for you.  The somewhat better news is that I can narrow down the error a bit for you.  You can find where it actually crops up here: https://github.com/ricardochimal/taps/blob/master/lib/taps/data_stream.rb#L177.  Although this format/type of error obscures it a bit, the underlying issue is that invalid JSON is being received by the parser.  I've submitted a fix here: https://github.com/ricardochimal/taps/pull/115.  In the mean time you might try running some of the suspect content through OkJson to find what might be causing errors.\n. @kaiwren - sure thing, hope it helps.\n. @mdz - ouch brain hurt.  For something like this I would recommend using http://github.com/heroku/heroku.rb (so that you can just interact with Ruby objects and stuff directly instead of needing to a lot of string munging).  Let me know if that won't accomodate your needs.  Also would like to more generally help with this.  I'm thinking about a less formatted global option similar to config -s (perhaps with this being the default for non-tty stdout).\n. @mdz - thanks, definitely on my short list.  Trying to finish standardizing on display helpers so that doing things like this universally is feasible, right now there are a couple leftover commands to contend with.  Closing this for the moment as you have a fix (and the larger thing is on my radar elsewhere).\n. Sorry about that guys, an edge case slipped through while doing some refactoring.  I've fixed it on master and should be cutting a new release shortly.\n. @rodroguett - You should be able to use heroku update to pull the latest version (which includes the fix).\n. @rodroguett - sorry about that, I guess the login bug must have prevented update from working.  I'm glad that the other update worked.  I think a reinstall also would have done it in case you run into anything else like this again.\n. @fingermark - sorry about that.  If you download a fresh copy from http://toolbelt.heroku.com and install it everything should be back in order.\n. @scosenz - sorry about that, looks like you are getting a slightly different error (given the backtrace).  Looking at the code it looks like you hit a different edge (which I'm working on fixing).  The good news is I don't think you should have to wait on me.  It looks like it didn't quite do the right thing, but the error you ran into was \"Authentication Failed\".  If you double check your credentials and try again you should probably be able to continue as per normal.  I'm planning to get a version out with a fix shortly.\n. @dj4b1n - I'll look into fixing the messaging, but it looks likely that the problem is cause by not being logged in.  Could you try heroku login to see if that helps out?\n. Sorry about that everybody.  Could you try reinstalling from scratch via http://toolbelt.heroku.com?  I think everything should be fixed now, but there were recently some issues around update that might have introduced problems.  Also, apologies in advance for slow responses, I'm travelling and at a conference so my availability to respond is so/so.  Hope to help you guys get this sorted out ASAP though.\n. @vinodkhurana - Thanks for letting me know.  Are you seeing this just with login or with anything?  Could you try heroku help or heroku version?\n. That particular error is likely to be an authentication failure (although the messaging is currently broken for some reason).  I haven't had much luck duplicating this so that I can fix it locally (I'll try some more soon).  But you may want to double check the credentials you are entering are accurate and try login again.\n. @mcheung610 - So the problem was continuing with the toolbelt but went away under the gem?\n. @dj4b1n - does login fail immediately or only after prompting you for user/pass?  You might try deleting ~/.netrc (or at least removing the heroku keys).  I'm wondering if maybe the problem is that there are invalid credentials in there, but that the permissions are set strictly enough that the gem is unable to modify it.\n. @dj4b1n - thanks for the extra info.  It looks like in your particular case you my be running up against ruby_noexec being uncooperative.  What does your Gemfile look like in the folder where you are running this?\n. @DevangS - Thanks for the update.  Not sure why a restart was required there though.  Perhaps to clear/change some ENV stuff.\n@dandekar  - it looks like the toolbelt is using your system ruby (1.8.6) despite what you have installed.  I have a fix on master that I believe should make 1.8.6 work better which I hope to release tomorrow.\n@jan8 - There seems to be a ruby 1.8.6 specific bug in play here.  I have a fix on master which I hope to release tomorrow.\n. @dj4b1n - What version of the heroku gem/toolbelt are you using?  Do you have any proxy settings?\n. @dj4b1n - I suspect this may be related to a conflict with rubygems-bundler (hence the ruby_noexec_wrapper entries in the backtrace).  Could you try and follow the uninstall instructions at: https://github.com/mpapis/rubygems-bundler and see if it helps?  In particular it looks like the steps are this:\nrubygems-bundler-uninstaller\ngem uninstall rubygems-bundler\n. @dj4b1n - hmm.  Not sure.  It might be worth uninstalling/reinstalling ruby via rvm to get a clean sandbox to work in.  That alone might get you back on the right path (and will maybe be easier than trying to reverse engineer what went wrong).\n. @dj4b1n - yeah, I would kind of expect if nothing else that it would be fixed by that.  Sorry I haven't been able to help much here, I haven't heard of anyone else having errors quite like that with libssl and whatnot and I haven't been able to reproduce locally.  Are you just consistently getting the ssl errors now?\n. @sachavdb - what do you get from ruby -e \"require 'heroku-api'\"?\n. @sachavdb - great, glad to hear that helped you sort it out.\n. @anjg - are you using the toolbelt or gem?  If you rebuilt via rvm you may have better luck with the gem, as the toolbelt uses system ruby (rather than rvm ruby) and so it might not find openssl and/or ruby setup via rvm.\n. @anjg - In my experience if the gem is installed it usually is used rather than the toolbelt, so I don't think also uninstalling that should be needed.  On ubuntu I think you should be able to use apt in order to uninstall it, but I'm not the most familiar with this I fear.\n. @rrees - good point.  I forgot that this had also been the issue for some people.\n. Thanks for the details, it was an unfortunate oversite of an edge case while doing some larger refactoring and it seems the tests didn't manage to catch it.  I've fixed it on master and so the next version should not have this problem.\n. @melug - Is it possible that you have port 5000 blocked?  I'm told that can cause issues like this.  I was able to make various run commands without problem from the CLI so I don't think it is a larger CLI problem.  Let me know if you need more guidance and/or continue to see this and we can continue to troubleshoot.\n. Unfortunately I do not believe there is a workaround presently.  You should still be able to run one-off commands using heroku run:detached in order to run them in the context of your app, but you won't be able to do this interactively.\n. @Irio - Sorry about that, I just caught that error myself actually and have fixed it on master.  Should have a corrected release out for you momentarily, although you may (unfortunately) have to redownload and install the toolbelt due to the problem occurring within the updater itself.\n. There was a bug related to some versions of heroku update.  I fixed it since then, but in order to get around it you'll need to download and install the latest version from http://toolbelt.heroku.com Sorry for this inconvenience.\n. @voxik - Thanks for the feedback.  I'd actually be happy to just remove it altogether, I've never actually paid attention to or cared about the output.  I'm at a conference right now so might not get to it right away, but if you would like to make a pull request removing it I'd be happy to check it out and get that cleaned up.  Thanks!\n. Fixed here: https://github.com/heroku/heroku/commit/58bfea371a1a9b8ef606cac2e725e42bbdc58377\n. @haggen Thanks for the heads up.  There really was a bug in the status command (which I fixed earlier today), but the pg:info issue was almost certainly related to that status issue you linked to.  Let me know if you have issues.\n. There is an error related to this in the client which I have fixed, but haven't had a chance to release yet (I'm travelling, out of the country and rather jet lagged so now is not a great time for me to do releases).  I should have an updated release out with this fix sometime next week though.\n. Sorry for the inconvenience, this should be fixed if you update to 2.28.8.\n. It was intended for shell friendliness.  It originally only added quotes around values that contained whitespace (presumably these could not have been inputted without quotes).  But that proved to be tricky code and potentially problematic, so we switched to all quotes in the hope of being simpler/more consistent.  This is perhaps an over simplification and/or based on false assumptions though.  Happy to discuss and/or continue to iterate, but hopefully that gives you some more context at least.  Ideally I'd love for it to just include quotes if you did, but I've yet to figure out any way to get the raw arguments in ruby, only ARGV (which will have already stripped quotes).\n. Not sure what the goal is.  Willing to just remove the quoting for now though (and deal with the outliers individually).\n. I think you are likely running up against a platform outage that we were experiencing.  You can find information and status about this here: https://status.heroku.com/incidents/386\n. Agreed.  I'm not sure how best to distinguish this error from other socket errors that might occur though.  Like how do you know that you are connected to the internet and Heroku is down vs you are not even connected to the internet.  I guess you could just try to check status any time there is a socket error though.  Anyway, I intend to figure something out but it isn't currently my highest priority.  I'd be happy to help out if you want to take a shot at a pull request though.  Thanks!\n. @dougoku - good call. So very simple that I consistently overlooked it...\n. Thanks for the update (I had checked but was unable to duplicate locally). Perhaps there are some leftover load order issues in there somewhere.\n. @LCID-Fire - How did you install it?  Could you paste the backtrace?\n. @LCID-Fire - it require the netrc gem to work.  You can install it from by using gem install heroku.  Alternatively you can use bundle install but you will then need to use bundle exec heroku when running commands to use the bundled version of netrc.\n. @LCID-Fire - I would definitely recommend either installing the heroku gem or toolbelt.  Either of these options will take care of the dependencies for you and are easier to keep up to date (versus a checkout which you have to manage and update yourself).\n. @LCID-Fire - glad you got it working.  I think if you install the gem or toolbelt it should setup everything for you.  If you want that behavior from a clone you would need to use bundler to manage the extra dependencies.  Regardless, sounds like you got what you needed.\n. @kbruneel - thanks for the update.  I think it may have been caused by the aws outage that occurred around that time.  If the problem reappears do let me know though and I'll seek to address it.\n. @kbruneel - thanks for the clarification.  I think it would be better to use the system ruby, I'll see if we can't change that to better accomodate this sort of thing.  Thanks.\n. Thanks for the heads up guys.  This was fixed/released in 2.28.8.\n. I suspect the problem may have had to do with a large outage that occurred around this time.  You can find more information about outages here http://status.heroku.com.  Otherwise, please let me know if this issue is still a problem for anybody now and I'll seek to address it ASAP.\n. @kbruneel - thanks for the update, I think it must have just been the other issues happening at that time.\n. @voxik - I hope you'll forgive my lack of unix-foo, but is there an easy way to duplicate this without creating additional users and stuff?\n. @voxik - any further thoughts on this?  I am awful at this stuff so could definitely use pointers.\n. Sorry about that.  The error was being masked a bit due to another issue, but this should be fixed in the next version.  Thanks for the info and glad to hear there was a way for you to work around it.\n. I believe 2.28.8 should fix much of this.  There were some bugs around update though in an earlier version, so reinstalling a new download from https://toolbelt.heroku.com should get you back on track if update doesn't.\n. @dmishe - Thanks for the feedback, I can definitely see how that would be quite useful.  I'll add it to my list of stuff to think about/figure out in the near future.\n. @pfinn Could you try again?  There were some platform issues a few days ago that may have caused some problems.  Also, the mac error may have to do with the proxy server settings so you might double check those.  Were these working for you previously?\n. @pfinn - thanks for the extra details.  You might try downloading/reinstalling the latest toolbelt (2.28.10) from http://toolbelt.heroku.com as it may help.  Not sure why update wasn't working (though there were some bugs in it in older versions that you may be running into).  Hopefully that will help get you up to date at least, if the issue still exists then I'll be happy to dig in deeper against the current codebase.  Thanks!\n. @pfinn - great, glad to hear it!\n. @brandur - that should prevent the error once I release and bump it internally (which I'll do prior to the next release).  Thanks for the heads up.\n. @fabiokung - what plugin is providing this functionality?\n. @fabiokung - turns out it was a more general issue with a difference in how -h was handled (you could also see it by running heroku auth -h vs heroku help auth.  That commit should fix it.\n. @malashkevich - are you seeing this with other commands as well or just keys:add?\n. @malashkevich - could you try running it outside the context where ruby_noexec_wrapper will come in to play?  Which is to say, can you try running something in a directory that doesn't have a Gemfile?  I've seen a similar issue to yours for a few other people, but they were all using 1.8.6 whereas you are on 1.9.3.  I'm using 1.9.3 myself and am not seeing any issues so I'm wondering if perhaps ruby_noexec is the difference.  Thanks and hopefully we can pin it down promptly.\n. @malashkevich - are you still seeing problems?\n. @malashkevich - I'm going to close this since I haven't heard back and can't reproduce, but please let me know if you are still seeing problems.\n. For scripting purpose I would highly recommend using the client which the CLI does, only directly.  I think overall this is much easier to work with, especially with things like this.  You can check that out here: https://github.com/heroku/heroku.rb\n. Thanks for the heads up.  Looks like there was one addon/plan that had inconsistent data for some reason, I've reported that to the addon folks, but I also patched the client to handle this data being missing.\n. @kch - Agreed, I have plans to move toward a less formatted non-tty just haven't gotten there yet.  That said, what kind of automation are you doing?  Would it perhaps be better served using https://github.com/heroku/heroku.rb more directly instead of using the CLI as an intermediary?\n. @kch - got it.  Just wondered the specifics and priority of it.  I have every intention of doing this but don't want to rush it and/or get it in but not have good, thorough testing for tty and not-tty so as to avoid introducing subtle errors.  These things take time though, so I may wait until I finish some of the other consistency related fixes before trying to introduce this change properly.  If it becomes a higher priority do let me know though and I'll try to sort it out sooner rather than later.\n. @kch - noted.  It was added for human readability (and consistency with other human-readable array formatting).  I think a non-tty setup would be quite useful to allow for these kinds of changes without worrying about breaking scripts.\n. @keo - Sorry about that, part of the output received from the API seems to have changed in an unexpected way.  I have made a fix on master (https://github.com/heroku/heroku/commit/9cc9cca5d40f6e67c3d3b745e5fa521f98871537) and intend to release it later this morning.\n. @keo - its true, I get to look like a super hero for you because somebody else had already reported it ;).  I released it a bit ago so you should be able to get the fix in 2.28.10\n. @mmcgrana - I hadn't encountered this one before actually.  -a is defined as a global option, so it is always accepted (even in cases such as this were it is accepted in a non-meaningful way).  I think coercing it to understand that -a something is the same as a something first argument is quite sensible/coherent with what exists.  I think the error would just be confusing really...\n. @mmcgrana - none that come to mind off hand, but I'll make myself a note to do a more thorough inventory/review.  It doesn't make sense to guess app from a local git repo on this one, but it should perhaps also coerce ENV['HEROKU_APP'].  I haven't done that portion yet, but it seems quite similar.\n. @kennethreitz - yeah, for whatever reason I'd never done that.  But seems super natural that someone would.  Let me know if you run into any other stuff, always happy to discuss and try to improve.\n. @harrisonstatham - Sorry you are having trouble with that.  To help me narrow down what is going on:\nWhat operating system are you running on?\nWhat value do you get if you run ruby -v?\nHopefully that will get me a bit closer to giving you a definitive answer, thanks!\n. Hmm.  Pathname should be part of stdlib even in 1.8.7 (it appears to be on my machine).  Could you try ruby -e 'puts(require(\"pathname\"))' and see where that gets you?  That should hopefully better illuminate if it is somehow missing or if there is just some kind of path or other issue from the toolbelt.\n. @harrisonstatham - well, at least it is consistent.  Thanks, I'll dig in a bit on my side.\n. @harrisonstatham - are you using the ruby that came on the mac, or did you somehow install it?  Just trying to figure out where the discrepancy might be as pathname ought to come along as part of the standard library.\n. @stefanwoj89 - thanks for the heads up.\n@harrisonstatham - could you try that and see if it gets you any farther?\n. @harrisonstatham - weird, yeah it just sounds like you have a bad system ruby (somehow).  Once you get rvm setup, you should be able to get things working.  You'll probably need to use the gem version of heroku though (rather than the toolbelt one, which will still try to use your system ruby).  Let me know if that doesn't get you what you need and we'll keep trying.\n. @harrisonstatham - sure thing, just let us know if you run into any further issues.\n. @ok11 - I believe #319 is slightly different, but no it has not been solved.  You may need to double check your proxy value (it appears to be set to http://proxy:8080) and it may also be necessary to set HTTPS_PROXY if it differs from your HTTP_PROXY value.  I would start there at least and let me know if you still see this (or other) issues and I'll dig in.\n. @ok11 - upon further digging I found some likely culprits deep in the code.  I've just done a release which I believe should help out with the proxy issues you are seeing.  Could you please update and try again?\n. @ok11 - your are correct, there were a few others having similar issues.  It took me longer than I would have liked to track down what was going on as the error manifested itself slightly differently on just about every machine (though they seem to have the same root cause).  I made another release this morning (v2.28.14) which I hope solves the remaining issues.  Sorry for the confusion/trouble.\n. @ok11 - thanks for the update, I had hoped that fixing some of the other issues around proxies would fix this as well.  I'll work on a fix more directly addressing this issue presently.\n. @ok11 - since I haven't been able to reproduce this I'm not sure I've fixed it.  But I made an attempt at what I think should help and released 2.29.0.  Please let me know if that helps or changes anything.  Thanks!\n. I can't duplicate locally.  I think it must have something to do with proxy settings.  Could any of you try and see if it works ok for you on a non-proxied network?  That way I can at least narrow it down to a proxy issue instead of a more general windows one.\n. @ok11 - thanks for that update.  For whatever reason I was reviewing this yesterday and must have overlooked that.\nI have a couple newer theories on how to fix that, I hope to release the less drastic one today in hopes that it will clear up this issue, but if it still doesn't work I can try the other.\nFor reference the issue appears to be that on Windows if you do a nonblocking connect it will in some cases succeed, but cause subsequent blocking reads to return non-blocking errors because the connect has not not actually finished.  Or at least that is how I read the documentation around it.  This is, in a word, maddening.  I've made an effort to work around this for now but failing that the more drastic response will be to allow the use of all blocking operations in order to avoid this nonblocking problem.\n. 2.30.2 includes my latest attempt to fix this.  It is the last thing I know of prior to drastic action, which I'm hoping to avoid as it would greatly complicate some of the code.  So please let me know what you all find.\n. Thanks for being patient and trying that again for me guys.  I think I need to change it so that https proxy connections use a blocking connect (at least on windows).  My understanding from reading through various related code in the Ruby stdlib is that this should help anyway.  Hopefully I'll have something on that front for you guys to try, probably early next week (I don't like to release new versions on Fridays, in case anything goes wrong).\n. I neglected to recall that I was travelling and in a workshop for most of this week.  Thursday is likely to be the first day I have time on this (otherwise next week).  Sorry for the delays.\n. I have made some changes that I think should help with this, though I was unable to reproduce it locally so it is hard for me to say.  Please update to v2.30.3 and let me know if you still have issues.\n. @MisterY - thanks for the update.  I thought I changed it to use all blocking operations, so I'm not sure at this point why I'm still getting nonblocking errors.  Maybe I explicitly need to mark the socket as blocking somehow...\n. @mmcgrana - this predates autoupdate actually (it would have done the same thing if you called update multiple times).  It is kind of dumb (it grabs a non-versioned thing, so it doesn't know until after the fact if it is already up to date).  This could probably be fixed, but for now I'm just going to leave that, but give a more meaningful message when the new version and old version are the same (as this should fix the unexpected message with the least work possible).  Commit should follow shortly.\n. I dream of explicit versions/releases in some way/shape/form.  For now I've at least added the plugins to the nicer error messaging, which should be helpful.  No versions listings just yet.  I think what you have described could be helpful but I want to stew on it a bit longer (and in any event isn't the highest priority for me at the moment).\n. @cloudsuite - the toolbelt, for consistency sake, uses system ruby (rather than whatever rvm has).  As such it can complicate things like gem dependencies as you have seen.  For now your best workaround may be to just use your rvm ruby to gem install heroku and then use that.  It should then be able to find taps.  We are working to figure out a better solution to this on the toolbelt side, but I fear it may be a little ways off still.  Let me know if the gem doesn't get you what you need.  Thanks!\n. @cloudsuite - you may need to use sudo with the gem install (depending on your setup).  Also it appears that /Users/thomas/Desktop/cake is in your PATH (and perhaps shouldn't be).  Using sudo for the install should get you past the install issue at least though.\n. @cloudsuite - Glad to hear that got it working for you.  Perhaps the non-found file is one of the others in that colon separated list?\n. @cloudsuite - great.  Thanks, I'll forward this feedback along to our devcenter team.\n. @daneharrigan - thanks for fixing, I've been meaning to for a while...\n. @daneharrigan - Thanks!\n. @arathnam - It looks like you are using something that is a few versions old.  If you run gem update heroku you should be able to get the latest version, which should operate fine without this error.\n. @arathnam - sorry about that, there was a bug in the updater code around that version and it slipped my mind to inform you of that as well.  To get around it you can download/install from https://toolbelt.heroku.com.  That should get you to 2.28.12 and also get your update command working properly again.  Sorry for the confusion and inconvenience.\n. addons:list addon sounds reasonable and useful, as well as being inline with things from other namespaces.\nWhat is the current behavior of heroku addons:add airbrake?\n. So, a couple possibly actionable items seem to be in here.\n1) creating heroku addons:list airbrake to list a available plans of this type, I can do this on the client but it will be slow, having an api call for it would be better.  Is there one available and/or can we get one?\n2) changing the listing to not include disabled and possibly limit who see's beta?\n. It sounds as though there is not really an actionable thing for me here, grep does the right thing.  Going to close, but let me know if I'm glazing over anything.\n. @kennethreitz - yes, almost assuredly because it does not have an index action.  What do you think auth should do?\n. @mattonrails - interesting.  Seems good, I was definitely trying to figure out how to solve it in the general case (which is harder).  Definitely seems better to just take care of it directly.  Could you turn that into a pull request?\n. closed by #520\n. @mattonrails - yeah, probably a more general way to do it but I couldn't figure out one that didn't seem brittle or just bad.\n. @kennethreitz - concur, I think we might need some extra capabilities from the API to make this happen though.  Could you open a ticket on core asking for an API to password change?  Once thats done we can work on this side of things, but I don't think this is directly actionable at the moment.\n. @Irio - you said it did not repeat?  That is an error I would associate with trying to run a command on a computer that is not connected to the internet.  Is it possible that wifi had not yet connected or something to that effect?\n. @Irio - that certainly seems possible.  I don't really have enough info to change anything to fix it at the moment, so I'll just say it must have been coincidence and close this.  If you run into any new problems let me know though and we'll take it from there.  Thanks!\n. @dipenb - are you running into this consistently?  Is it a long running process?  You might try running it detached using heroku run:detached rake db:migrate as I think it might avoid this timeout (you can then use heroku logs to check on its output).  Let me know if that doesn't get you what you need and we can try other things.\n. @vijayjangid07 - it looks as though the mysql connection closed.  Can you ensure that mysql is still running locally?  Also if you are transferring lots of data it may be possible that you would need to configure longer timouts for mysql.  Regardless, it appears though that this is a mysql issue, rather than a taps or heroku specific one.  Hope that helps point you a bit more clearly in the right direction.\n. @c2h5oh - thanks for the input, I haven't used MySQL in a few years so I wasn't sure about what more specific advice I might be able to offer.\n. @tu2011 - It looks like your local MySql connection closed.  Maybe check to see if mysql is still running properly and/or see about extending the timeout value (if any).  Those seem like good places to start at least.\n. @tu2011 - I'm closing this since I haven't heard any more, but let me know if you are still having issues.\n. @tu2011 - no problem, was just trying to clear out some older tickets.\n. Hmm.  The latest version of the client seems to do the right thing here, not sure why there seems to be this mismatch.  Could you both try downloading and reinstalling from http://toolbelt.heroku.com?  I think that should get you back on track as this appears to be working correctly on the latest version.\n. @codebykat - thanks for the heads up, glad to hear that got you back on track.\n. Sounds fixed, let me know if you run into any other issues.\n. I just released an update to the heroku-client which should help with the proxy issue.  Could you update and try again?\n. @himanshusingh - thanks for the update and sorry for that.  In my rush to get everything sorted out and release I overlooked something.  I believe this should be fixed now (and I have made a subsequent release).  Hopefully one more update should do it for you, sorry for the inconvenience.\n. @himanshusingh - thanks for the update, clearly I'm not the most on top of it today.  Working on a fix for this now.\n. @himanshusingh - alright, I've made a few more fixes, hopefully 2.28.15 will have what you need, but let me know if it doesn't.\n@styleofglobal - odd, the update should pull you all the way up to 2.28.15 (or at least 2.28.14 when you would have run it).  If that isn't updating correctly, could you redownload/install from https://toolbelt.heroku.com and then try again?\n. @styleofglobal - are you behind a proxy?\n. @himanshusingh - Great, glad to hear the primary stuff is working for you.  run uses some slightly different client code, so I guess there may be additional things missing there, I'll dig in now and see what I can find (also will reopen this ticket to track that).\n. @styleofglobal - you'll need to instruct the client to use your proxy settings.  You can do this by setting HTTP_PROXY=http://your.proxy, where http://your.proxy is replaced with the value for your proxy.\n. @himanshusingh - hmm.  I conferred internally a bit and it doesn't sound like we have a good answer for you.  Run uses a tcp socket (not http) so it is not particularly straightforward to proxy it (but it seems your proxy is blocking it).  Do you know about a process with your proxy of making arbitrary (non-http) connections?  I gather it is doable via socks proxy or the like, but not particularly straightforward and maybe not particularly universal in it's setup.  You may also be able to just use heroku run:detached as a work around.  It won't stream stuff to you, but it will run the commands and you can check the output with heroku logs.\n. @himanshusingh - thanks for the update.  Glad to hear that workaround is good enough, not sure of any other way to fix this at present, so I'm going to call this closed but I'll update if I find out some better workaround or fix.\n. @nterry - No other suggestions at the moment, I have some thoughts on how to possibly work through this but have had some difficulty reproducing it with my own setup.  Could you paste your particular error so I can cross reference?\n. Closing this in favor of tracking at geemus/netrc#12\n. Ended up reverting unfortunately.  Will add comments presently.\n. Also, it was causing the unfollow test to fail for me when it tried to resolve the database name from the following url.\n. @hgimenez - could you check those out and resubmit?  I was going to fix it, but don't know the territory well enough to be particularly confident.\n. More specifically URI#hostname is only defined in 1.9.3+ see:\n1.8.7: http://travis-ci.org/#!/heroku/heroku/jobs/1889264/L929\n1.9.2: http://travis-ci.org/#!/heroku/heroku/jobs/1889265/L659\n. @hgimenez - thanks, let me know if you have questions or anything I can help with.\n. @hgimenez - thanks.  I fixed the travis setup so that pull requests will build moving forward, but I'll need to close and reopen this to kick it off since it was created before that setup was fixed (just so you know why I'm cycling it).  That should let us know if it is good to go across versions.\n. @hgimenez - could you rebase and whatnot?  This is not cleanly mergable (unfortunately) since I reverted the other commit and this pull request doesn't include it.  I think rebase should make it cleanly mergable and probably have that commit, though I guess you may need to revert the revert?\n. @hgimenez - otherwise, looks good, thanks!\n. @hgimenez - awesome, thanks!\n. @y-sonobe - I'm not really sure what the problem or question is.  Could you open a new ticket with more details?  Thanks!\n. @freelancing-god - thanks for the update and details.  It may have been some slowness or something else on our end for a little while around that time.\n@ClaudioFloreani - Could you try this again and see if the issue is still happening, sounds like it may have been something external going on at that time.\n. @freelancing-god - that is also possible.  The error messages (as above) include proxy info if it has been set, so I didn't immediately jump to this conclusion.  But I was aware that run was not working through proxies, I'm not sure that it ever did work through proxies actually.\n. @ClaudioFloreani - are you behind a proxy?\n. @ClaudioFloreani - got it.  Let me know, may just be a latency issue in which case we may need to extend the timeouts or something.\n. @ClaudioFloreani - hmm.  Do commands other than run work ok on your normal network?\n. Hmm.  Well, I'm not really sure how to solve this for you guys off hand.  A workaround for some cases may be to use heroku run:detached.  This doesn't need to tunnel info back to you, just kicks it off and then you can use logs (which appears to be working for you) to grab data on it's progress.  It isn't quite as good in some cases (no interactivity), but it should get the job done.\n. @rwdaigle - How was the . value created?  I think probably the client will need to quote these before sending them across the wire.\n. Sorry, I was entirely to vague.  When I said client I meant the source code within heroku.rb (not the end user).  I'm kind of surprised that it gets created sensibly in the first place.\n. Ah ha, its because creation of config_vars uses post/query params (which wouldn't need escaping) vs a url segment for remove (which would need escaping).  I believe this should fix the problem: https://github.com/heroku/heroku.rb/commit/886f6888bad16d483bd39d7528234391af07ce1c\n. @tabletcorry - the difficulty is that ~/.netrc holds a special place, namely that curl and git will use it automatically.  Rather than using different netrc files like this, have you looked at using the heroku-accounts plugin?  Details here: https://github.com/ddollar/heroku-accounts.  That might get you what you want without needing to worry as much about breaking compatibility.\n. @tabletcorry - yeah, we don't always publicize it the best.  I think at some point we might merge that into the client in some way/shape/form but its hard to be sure to do that in a way that works for everybody and isn't overly complex/confusing.\n. @mattonrails - sorry about that, there was temporarily a bug in the update logic.  It has been fixed, but unfortunately you'll have to manually reinstall to bypass the bug.  You can do that by simply downloading and reinstalling from https://toolbelt.heroku.com.  Once you've done that you should be back on track (and better tests have been added, so this shouldn't recur).  Just let me know if you have further questions or concerns.  Thanks!\n. @mattonrails - sure thing, thanks for the update!\n. This was fixed on master but I just hadn't released yet.  I just released 2.30.0 though, which should fix this issue.\n. I was unable to reproduce.  It may have to do with having a legacy bin file (as this currently is not changed during an update).  Could you try downloading/installing the latest toolbelt and reproducing afterward?\n. @mmcgrana - good to hear.  Still not sure how best to deal with these outliers, where bin doesn't match.  Doesn't seem to come up all that often, but some.\n. @capps - sorry about that, it definitely is not fun.  I actually did just recently find the (likely) culprit just recently but I haven't quite gotten a release out yet.  I had hoped to do so today, but I seem to have run out of time.  Likely I'll try to get something out with the fix tomorrow.\n. @reiz - glad to hear that worked out for you and sorry for the inconvenience.\n. @kr - it was non-intentional, though the changes I thought may have caused it don't appear to be the culprit.  So maybe it actually broke some time ago and I had not realized.\n. @kr - ah, never mind.  I found the specific reason it failed, it was unintentional, some brittleness to the optional app logic.\n. @tecb - the ssl verification should be turned off on windows (where it doesn't tend to work anyway).  I'm not sure why you aren't seeing that actually.  Could you check and let me know your output for ruby -r rbconfig -e \"RbConfig::CONFIG['host_os']\"?\n. You should be able to set HEROKU_SSL_VERIFY=disable, and I'll work on fixing it so that isn't required presently.\n. @tecb - could you try inline env, just like HEROKU_SSL_VERIFY=disable heroku create --stack cedar.  I wonder if it wasn't finding the variable correctly otherwise.  You might also consider installing the latest railsinstaller, just in case there are changes there, and also see about updating your openssl.  Hopefully one of those will get you closer.\n. @tecb - There have been a couple releases since I last heard from you, are you still seeing this with the latest version?\n. @alexwiththescar - Hey alex, sorry to hear you are having that problem. What version of OSX are you on? Could you paste the stack trace somewhere so I can dig in a bit more? Thanks!\n. @alexwiththescar - thanks for the update. Not sure about anti-virus for developers (I work in mac and/or linux).\n. @nonuby - I think it may be problematic to tie both the git repo and api calls to the same ENV var (although I know we do it now).  It assumes api.heroku.com vs just heroku.com for api and code respectively.  Maybe what would be better is to just have a separate HEROKU_GIT_HOST or something like that.  Maybe not, kind of thinking aloud here, but interested to hear if that might handle your case a bit more simply.  Thoughts?\n. @nonuby - do you think a separate git host would suffice?  I think that is perhaps more appropriate as the git and api hosts may differ.\n. @mmcgrana - I went back and forth with people about this before.  I think it may have been separated as per the example at one point, but it was seen as being too verbose.  Perhaps the real problem is that this should be two commands.  Following from the example of addons, for instance, there would be labs to show currently active things and labs:list to view the entire possible list (with no indication of their current status).  This would simplify (and allow us to remove the [] output which is only used in this action).  What do you think?\n. @kr - I think maybe I discussed this with you previously, wrt having 4 lists (enabled app/user, available app/user).  Do you have strong feelings about that vs current and/or labs/labs:list?\n. @kr - fewer lists makes sense.  How about check boxes vs a separate command.  ie labs would only list your enabled features, separated into user and app (if app is specified) whereas labs:list would list all possible user and app (if specified) features?  I feel like the second is a bit simpler and more consistent and also presumably easier to scan and grep since the contents of the different lists are just the names (rather than name + status).\n. @peterarenot - sorry about that, don't think I have seen this error before.  Could you restart your computer and try again?  It may just be that something else was leaking memory or otherwise going haywire so that this didn't have enough memory left to get started.  Outside of that I'm not sure as I don't think I've heard about anyone else having this issue.\n. @peterarenot - thanks for the update, yeah must have been something weird about the computer setup.  Glad to hear you are back on track.\n. @d6nab - are you using rvm or rbenv to manage/install ruby?  You may need to reinstall post-updating your operating system.\n. @akiany - it seems to be working for me.  Did this work before?  Has anything in your setup changed recently?  Are you behind a proxy?\n. @akiany - I'm closing this as I don't have enough information to really help out yet.  Please let me know if you are still having the issue though and I'll be happy to help.\n. @kzk - that is true, I've run into it myself in a couple cases.  In particular I believe (at least presently) that -a, -h and -v are all presumed to be global options for --app, --help and --version respectively.  I think it might be confusing to change this behavior so that it could be over-ridden on individual commands.  Is it possible for you to use a different name for this option or otherwise avoid overloading the global option?\n. @mantz - hmm.  What version of the launchy gem do you have installed?  You may need to update it.  The version I'm testing against locally returns a thread from load, so the join is to wait for that thread to finish.  But perhaps I need  to lock to a stricter version of launchy to ensure this behavior.\n. @mantz - never mind, I think I found the problem.  Should be fixed in the next release.\n. @Almad - thanks for the info.  I've run into this a couple times before (there was an old version of the client where the updater had a bug).  As you said I believe this has been fixed for a while now, so hopefully you shouldn't have further problems.  Thanks!\n. @rwdaigle - I'd like to add a global option for this in some way/shape/form.  I'm afraid it is tricky for addons in particular though as there can be a separate non-configured header/list.  Without the headers, how would one differentiate between the two listings?  Outside of the migration context is this a common use case?  Could we simplify migration via a plugin with helper commands to avoid the more manual parts of this?\n. @rwdaigle - noted.  If you have other particular use cases where this comes up it would be quite helpful for me if you could explain.  I'm not entirely confident that plugins or other things are the best way, but I have a sneaking suspicion that pipability comes from missing capabilities (at least in many cases) and that end-users should have easier ways to do it instead of being bash-awesome.  I for instance am fairly bash-awful.\n. @rwdaigle - I think after our discussion I at least partially convinced you that doing this globally may not be feasible (at least in the short term) due to the sheer volume of information the tool provides now (and how much we would need to pare some default outputs down to facilitate).  So I'm going to close this general-case bug, but please open bugs around any particular commands that either really need this style for usage or seem like they are just short of giving you what you need so that we can deal with them.  Maybe over time we can pare down the other stuff (and I certainly keep this in mind for new commands), but for now a global version of this seems less than actionable.\n. @mhawkins - Sorry about that, seems we had a regression around this recently.  I've fixed it and hope to release a new version with the fix later this afternoon.\n. @haggen - certainly a possibility.  I'll close for now since it seems to be working for you, but let me know if it recurs.\n. @kennethreitz - seems like it might be rendezvous.  Do you know if they meant that when the server sends them \\r\\n it is displayed as two newlines locally or if when they press enter it sends two out?  I presume they are receiving/displaying too many, not the other way around, but wanted to ensure we were on the same page.\n. @kennethreitz - that is more puzzling.  Double display would be less surprising I guess.  Also, it is CRLF :P\n. @kennethreitz - got it.  I'll dig into it some time, but seems more annoying than critical (unless we both really misunderstand).\n. @ferrix - thanks for all the clarification, that gives me a lot better context about what is going on.  I'll try to sort through the code and find a fix soon.\n. @ferrix - I'm also not sure why the behavior is different on linux/mac.  Are you on the latest version of the client?  There were some fixes to the client a few version ago that may help with this also.\n. @ferrix - yeah.  I played around with this some last week but wasn't having any luck getting the windows command line input to function the way I wanted it to.  Not sure what the right fix is (and/or if there even is one).\n. @ferrix - I could certainly see how the one liner could help in that regard, thanks again for all the help and feedback.\n. @jonmountjoy - I do not get this error from an empty directory.  Are you sure the directory you are running this from has no .git/config file?  Here is what I'm getting:\n\u2318  h git:clone\n !    No app specified.\n !    Run this command from an app folder or specify which app to use with --app <app name>\n. @jonmountjoy - Puzzling...  Does your env include HEROKU_APP?  It should bomb out sooner than what you are seeing (and does for me).  Even then...  What git version do you have?\n. @jonmountjoy - Ah, well, you are doing it wrong and the message is unhelpful.  The invocation you want is more heroku like (and less git-like).  The command you want is heroku git:clone -a devcenter.  Still not sure why you are getting that message (instead of \"No app specified\").  What do you get for git remote -v in that directory?\n. @jonmountjoy - yeah, empty dir gives me \"No app specified\" instead of the multiple app error, still not sure why you are getting something different there.  But overall that should work, what do you get for git remote -v in an empty directory?\n. @jonmountjoy - with the latest version do you still get the multiple app error?\n. Sorry for all the run around, trying to pin it down since the behavior isn't the same for me.  What do you get for ruby -e \"p File.exist?('.git')\"?\n. @jonmountjoy - I remain befuddled.  I think I should have sat down at your laptop when we were collocated. :(\n. @jonmountjoy - yeah.  It is almost assuredly that these two things do not play nicely.  heroku-accounts does the custom hostname stuff to specify which key to use, and this does not try and use that as well.  The error you are seeing on the other hand is a bit more mysterious.  It looks like you have both the gem and toolbelt installed which can cause issues of this sort.  Uninstalling the gem will probably give you the actual nicely styled message.  I'm going to close this, but feel free to open the publickey problem over on heroku-accounts.\n. @jonmountjoy - true, perhaps recommending heroku-accounts is premature.  There is one other thing (at least) that I can think of off hand.  Currently the update/autoupdate do NOT change the bin file.  There are some older versions of this that do weird things (you clearly have an older version, but I wasn't certain it was directly problematic).  I haven't changed it recently but I did change things a while ago, you can tell because your version says heroku-gem instead of heroku-toolbelt (which the newer bin file would change).  If you redownload/install from scratch you'll probably get the nice errors correctly.\n. @jonmountjoy - fix for the mountain lion thing is on toolbelt todo, probably will be fixed next week or so.  There are probably manual ways to fix it in the mean time, but maybe more trouble than it is worth.\n. @wuputah - also looks like the api returns 50 currently, but that we just don't display the rest.  I'll try to figure out some reasonable mechanism to control this and fix soon.\n. Not sure how quickly we'll be able to help here. But to address your more immediate concern, this info can be retrieved more directly from the API. For details you can see this (and the curl command) here: https://devcenter.heroku.com/articles/platform-api-reference#release-list\n. @Blue-Dog-Archolite yeah, if you use the api directly (in the link above) you can see that stuff via curl. Looks like this:\ncurl -n -X GET https://api.heroku.com/apps/$APP_ID_OR_NAME/releases \\\n-H \"Accept: application/vnd.heroku+json; version=3\"\nwith a response something like:\n[\n  {\n    \"created_at\": \"2012-01-01T12:00:00Z\",\n    \"description\": \"Added new feature\",\n    \"id\": \"01234567-89ab-cdef-0123-456789abcdef\",\n    \"updated_at\": \"2012-01-01T12:00:00Z\",\n    \"slug\": {\n      \"id\": \"01234567-89ab-cdef-0123-456789abcdef\"\n    },\n    \"user\": {\n      \"id\": \"01234567-89ab-cdef-0123-456789abcdef\",\n      \"email\": \"username@example.com\"\n    },\n    \"version\": 11\n  }\n]\n. @Blue-Dog-Archolite my pleasure. Sorry I omitted the relevant details above, hopefully that takes care of you for the time being.\n. @johngtimms - thanks for the feedback.  I don't believe this is caused by any changes or code in the CLI, however, so I will close this and leave the support ticket where someone should get back to you to work through this.  Sorry for the inconvenience.\n. @topgenorth - the other people who ran into this had problems with their openssl install that this error message unfortunately obscured.  If you try ruby -r rubygems -e 'require \"heroku-api\"' you can probably see a clearer indication of the actual error which may help you narrow it down.  Do let me know if that isn't the case though and I'll be happy to try and work through this more specifically.\n. @topgenorth - great.  It's definitely a weird edge case, but I've seen it a few times now.  Not exactly sure how to work around it or provide a better error because of the way it manifests, but I'll update it if I figure something out.  In the mean time it is good to hear that it worked for you.\n. @omaciel - have you tried reinstall openssl to fix the issue?  I believe that has fixed it for everyone else that encountered this.\n. @omaciel - hmm.  Perhaps after the openssl reinstall you could reinstall ruby too?  Otherwise it may be linked against old stuff.  Not sure if that will fix it either, but seems worth trying before we dig too much deeper.\n. @omaciel - sure thing and thanks for the specifics of your fix, I'm sure they'll be helpful if anybody else runs into this.\n. @kwikshot - sorry to hear that.  Could you paste the specific error?  Just want to make sure there isn't anything extra or different in there that could help me diagnose.  Also, what are you seeing from ruby -r rubygems -e 'require \"heroku-api\"'?\n. @kwikshot - not the hugest expert in this realm.  Could it have to do with openssl-dev?  I wasn't sure off hand if your command would have changed/updated that or just openssl itself.  I think ruby needs the dev stuff to do its thing, so it might be worth double checking.\n. @kwikshot - hmm.  Googling around a bit I found a couple more things to try.  First: sudo apt-get install libopenssl-ruby may do it for you.  Otherwise some people suggested going into your installed Ruby and cding into ext/openssl and running:\nruby extconf.rb\nmake\nsudo make install\n. @kwikshot - glad to hear it, sorry it was so tricky.  Can be hard to debug when the Ruby install itself is busted.\n. I'm afraid I'm not particularly familiar with rake db:fixtures:load.  Are there separate configuration options for it that may be a problem?  Have you run these fixtures successfully outside of Heroku?\n. @hibariya - no worries.  Thanks for the update, I couldn't think of anything in particular that should have caused that but you never know until you really dig in.\n. @kr - I think this is a leftover glitch from early auto-update days that comes out of the fact that update does not change the bin file.  I believe that if you reinstall toolbelt from scratch (which will update the bin) that the error should go away.  This also should impact relatively few users (or at least not a lot seem to have reported this so far).  Let me know if that doesn't fix though and we'll try other things.\n. @fullbridge-batkins - yeah, I don't think herocutter is really supported/updated any more, so I can see how it might lead to some issues.  You will probably have the best luck working without it.  Are there particular features that it provided that you think we should steal and add to the main client?\n. @fullbridge-batkins - definitely understand how useful the listing could be, thanks for the extra info.  I have on my list to do something better about this, but I think it's gonna take some time/work to make it as awesome as I'd like.\n. @markcornick - thanks for the heads up.  I'll get that fixed, but in the mean time it is probably worth noting that this happens late enough in the process that you likely DID get those addons provisioned, it appears like that it simply raised an error erroneously when trying to figure out what release this would result in.  So I would recommend double checking to see if you have databases there (and/or removing duplicate ones).\n. @markcornick - sure thing, hopefully it will work better for you after I release that stuff (will probably shoot for doing that early this afternoon).\n. Merging and fixing up this stuff locally worked easier for me, so it should be on master now.  Closing this.\n. @brandur - yeah, I think I had seen that it already didn't matched.  I'll try and get it all updated when I release this (probably early next week).\n. Awesome, thanks!\n. @d6nab - A couple other people reported this and it sounded like it might somehow be related to the mountain lion update.  Could you try reinstalling the toolbelt?  It may also require reinstalling ruby and/or openssl.  It seems overall that something with your setup has gone awry.\n. @d6nab - did you get any further on this or are you still stuck?\n. @anilshanbhag - I haven't seen this particular issue before, though other heroku users have had issues with openssl.  Is it possible you have a broken ssl install?  Could you perhaps try updating to the latest openssl to see if that helps out?\n. @nterry - could you post your particular error so I can cross reference?\n. Thanks.  Could you try running with HEROKU_SSL_VERIFY=disable?  Looks like the proxy + cert verification is perhaps the problem.\n. @nterry - yes.  Setting it will disable the cert verification (which is the part that seems to be failing).  I think that should at least get you to a different error (if nothing else).\n. Thanks for the updates.  I actually am in progress on some proxy related fixes for a different issue, so perhaps that will help here as well.  Hoping to release those, probably tomorrow, but have a couple more things I need to finish up first.\n. I have made some changes that I think should help with this, though I was unable to reproduce it locally so it is hard for me to say.  Please update to v2.30.3 and let me know if you still have issues.\n. Yep @rinrinne helped me fix the issue in excon, I think some versions of the heroku gem and/or toolbelt may not have the latest excon with the fix though, which would mean that an update to the fixed version would fix the issue.\nI'm going to close this as I believe it should be fixed with the afore-mentioned patches. If you update to latest and still see issues around this do let us know. Thanks!\n. @deafbybeheading - It looks to me like it ought to be doing the right thing as long as HEROKU_POSTGRESQL_HOST is set.  How are you experiencing this issue and/or how can I best reproduce?\n. @deafbybeheading - no worries, just let me know if it recurs or there is anything else I can help with.\n. @jimjkelly - off hand it looks like a simple network error, in particular an inability to connect to the web.  Hard to say for sure though.  As a starting point, could you try updating to the latest version and trying again?\n. @jimjkelly - Thanks, I wasn't sure if the old version would impact or not, so it frequently is a good first thing to check off the list.  I'm not sure off hand why you would be running into that, but I do think there may be a better workaround for you.  Instead of taps I would recommend using a local postgres database (having this match with the production database is a good idea anyway and can prevent other discrepancies).  If you are willing to make that change you can use pgbackups to grab/sync data, there is more information here: https://devcenter.heroku.com/articles/pgbackups#exporting-via-a-backup  Let me know if that won't work for you, but overall I think it should go smoother if you go with that route.\n. @anderslemke - it seems to work for me on other apps.  What app is this happening on for you? (so that I can reproduce).  Feel free to respond by closing this and opening a ticket through https://help.heroku.com if you do not want to publicly disclose the app name for some reason.  Thanks!\n. @anderslemke - got it.  It appears to be centered around a regression related to json parsing and non-utf8 characters.  Since the config vars on your app contain utf-8 (in the deployhooks message), the json ends up failing to parse which means that pgbackups can't find it's url (which is in a config var).  Anyway, I'm working on getting a patch accepted to okjson to get this fixed in a way that hopefully doesn't cause additional outside issues and I'll work to get it released soon.  In the mean time if you open a support ticket through help.heroku.com I'm sure somebody can privately/directly give you the url(s) as a stopgap if you need them.\n. I should update this ticket when I've released a fix (be sure to bug me if\nyou haven't heard anything in a couple days though).\nOn Wed, Aug 15, 2012 at 4:06 AM, Anders Lemke notifications@github.comwrote:\n\nThanks for the hint, @geemus https://github.com/geemus.\nI removed the danish characters \u00e6, \u00f8 and \u00e5 from our deploy hook message,\nand everything works now.\nHow do I know when I can re-introduce them?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/506#issuecomment-7751522.\n. @anderslemke - I plan to release in the next couple hours, here is the associated fix: https://github.com/heroku/heroku.rb/commit/125db8b37211f27a8038a662fc7217d6e6c449e0\n. @anderslemke - I've released 2.30.3 with the fix, let me know if you run into anything else.\n. @iamvery - thanks for letting me know about the stack overflow, I added a quick response to better explain what those guys were running into.  I don't think it is directly related to your issue though.  A couple questions to help me narrow this down.  Are you on the latest version of the client?  Has this command worked for you on the same database before?  If so, did anything change on your side in between when it did work and now?  Are other commands working for you?\n. @iamvery - no worries, those kind of problems are always hardest to track down.\n. @hone - I think the thing we want to stop is people putting heroku in their rails app bundle because they think they have to or need to (when they would be better off using a globally installed version).  I think deprecations will help with some of this, but we need the gem version for some platforms (though bundling is still often not needed). In particular people doing this + automagic bundle exec stuff has caused several issues.\n. Working on figuring out the correct defer patterns, but in the mean time I believe I just fixed the thing causing the gem/toolbelt conflicts here: https://github.com/heroku/heroku/commit/cbdbcfb6ea6ca0a207b285b9960f00b6474efd66\n. @mundodelaoscuridad - It looks like the error is happening after a request has been made when it first tries to read back response data.  I'd guess this might have something to do with your proxy setup, could you double check that the value listed in your error message above is correct for your proxy?\n. @mundodelaoscuridad - great, just let me know if you have further issues.\n. @SaurabhKumar - it appears that you have proxy values in your environment, but that they are blank.  You should remove them to prevent the system from mistakenly trying to use an empty string to set proxy.  You should be able to do this using env --unset=HTTP_PROXY and env --unset=HTTPS_PROXY.\n. Sounds good, I haven't run into a lot of people that had empty values like this (maybe once before that I can remember).  I'll keep an eye out for it though, seems like we could probably check for empty string as well to prevent this error.\n. @quique - thanks for the heads up.  So far it still seems pretty uncommon for people to have these values set and easy to fix, but this is one more vote toward solving this automatically.\n. @molinox thanks for the update and details. You probably did it perfectly right (I think the commands I listed above may have inadvertently been mac specific)\n. @pankajbhardwaj - I'm not particularly familiar with java/spring stuff, but hopefully my colleague can provide some insight.\n\n@anandbn - Thoughts?\n. @pankajbhardwaj - you should be able to engage with support via: https://help.heroku.com/\n. @jamesharrieskelkoo - good call, that is definitely the quickest/easiest way to reset.\n. @sheymann - it works in the general case, unfortunately there are many places where ruby does not do a good job of handling non-latin character sets.  It appears this is one of them and that it is having trouble with some of the characters in your username.  Could you try running chcp 1252 and then running the command?  In many cases this will cause windows to be in a mode that is less likely to error due to non-latin encodings.\n. @sheymann - great.  You shouldn't need it for every command, but if you run into other issues it may be a good first thing to try.  I'd love to just set it by default but I've read some horror stories about how this can sometimes interfere with other things on peoples systems when it is set more permanently so I'm more comfortable recommending people just opt into it for one session at a time as needed.\n. @cloudaloe - Not sure why you are seeing this, guessing due to your username having something in it Ruby is having trouble with.  In any event, if you delete C:/Users/USERNAME/.heroku/autoupdate it should disable autoupdating (which is where this error appears to be coming from) and allow you to run other things.\n. @cloudaloe - sorry to hear it was a pain, but glad that it worked for you in the end.\n. @cloudaloe - apologies if I came across that way, by no means did I mean to say that it was a mistake to do what you did.  Just that unfortunately it isn't something that Ruby seems to support very well (and since the toolbelt is in Ruby it extends out).  If my real name and/or username included on utf-8 characters I would definitely be tempted to use them in as my user on windows (and I used to be a windows ruby developer, so I understand that pain too).  It is unfortunate that it is as much of a pain as it is, but it's hardly your fault.\n. @cloudaloe - sure thing.  Just wanted to double check, I certainly do all kinds of awful things where I should know better, so I just wanted to make sure I wasn't pointing fingers.\n. @NeoPhi - I can certainly see how this would be useful, but it's a bit beyond my area of expertise at the moment.\n@ddollar - thoughts and/or advice on who I should talk to about this?\n. @sprynmr - could certainly be the collaborator angle (and it is misreporting the problem).  Have you previously confirmed your billing?\n. @sprynmr - got it.  I can look into this more, but for now are you back in business at least?\n. @sprynmr - great, I've reviewed the code and don't see anything too obvious.  Since I'm not sure how to reproduce it I'm going to close this, but I'll talk with the api guys and try to make sure I can distinguish this error case better moving forward.\n. @mattonrails - awesome, thanks.  If you email your contact info and size I'd love to send you a shirt to thank you for your help.\n. I'm afraid I don't know specifically about that type of app and components, I'd recommend digging into devcenter, in particular Getting Started with Java on Heroku and Heroku Java Support.\n. @sethvincent - the heroku-credentials plugin seems suspect.  I haven't heard of or used it, but given the nature of the error in seems like it might be related.  Could you run heroku plugins:uninstall heroku-credentials and then try again?\n. @sethvincent - Ah, got it.  I was also searching on google to try and figure it out because I hadn't been aware of it previously.\n@ddollar - Should we add that to the list of deprecated plugins to prevent this kind of error?\n. @wkleu - hmm, I haven't seen anything exactly like this and I think everything has been working alright for me on Windows 7.  Could you paste the backtrace from login?  What do you get from heroku version?\n. @wkleu - yeah, sounds like it might be network/proxy related, though I would expect more of a backtrace than that.  Let me know if you find additional info, otherwise I am working on the proxy issue but haven't found a fix just yet.\n. Should be fixed by https://github.com/heroku/heroku/commit/ac694460ac44d5fda48a8ed63552bfe2f1414e74 and I'll cut a release momentarily.\n. @iamtheschmitzer - what version of the gem do you now have installed?  Have you tried using the toolbelt?  It is available at https://toolbelt.heroku.com, is faster and also tends not to have dependency type issues since everything is vendored.\n. @iamtheschmitzer - fair enough.  I think gem list heroku should probably show you what gem version you have, but yeah I think toolbelt may be a good bet to just get it working.  Please let me know if you have other issues or questions though.\n. Good to know, I was about to offer a couple other possible fixes but sounds like you are back in business.  Let me know if you have further questions or concerns.\n. @iamtheschmitzer - it looks like the rakefile is using the toolbelt version (rather than the gem version), whereas it seems likely that when you are running commands they are being run from the gem (because of the auto-bundle exec behavior of rvm).  I think if you just update your toolbelt install it may solve the problem, as the issue it is listing was fixed (I think).  Once you've done this you could probably also remove it from your Gemfile, which may help reduce confusion about which version is getting run when/where.\n. @iamtheschmitzer are you running that from inside the app directory or elsewhere?  I think the default rvm behavior may be causing weirdness around what version gets run.\n. I think the issue is caused by the rubygems-bundler gem.  If you do gem uninstall rubygems-bundler and then run everything normally I think you may have better luck.  RVM installs that gem by default now, but it can cause weird behavior (such as this).\n. @iamtheschmitzer - bizarre, sorry about me misdiagnosing there.  Inside the rakefile, if you make a task to output heroku version, what do you get?  I think this may show us that the version mismatch is in fact taking place.  Are you perhaps using ohmyzsh?\n. @iamtheschmitzer - maybe just try removing heroku and heroku-api from the Gemfile altogether.  Then I think it should get to the toolbelt instead of grabbing the wrong thing.  Also if you run heroku update it will hopefully work now, but if not you can maybe run it from outside that directory.  Not sure this will get you totally fixed, but hopefully it at least reduces the number of variables.\n. @paulofierro - Thats no good. Unfortunately, I think the thing that causes this has been fixed, but this prevents you from easily getting that fix.  I think if you redownload and reinstall from https://toolbelt.heroku.com this problem should go away and not recur.  Please let me know if you still see problems or have questions though.\n. @wuputah - I agree that this is problematic and would be happier if raw was not there, but I'm fairly certain it's been in place for quite some time (fairly certain it predates my involvement).  Maybe I should just yank it and add a similar thing (with a different flag) if people complain.  Thoughts?\n. @wuputah - working on the metrics front, but unfortunately this isn't something that is currently captured (it makes the same API call and just formats it differently).  I don't think it is probably used that much as the format has ended up changing at least a couple times that I'm aware of and nobody has ever mentioned it, but that is quite anecdotal.\n. I'm going to leave that output style but move it to -s/--shell (like config) as I think they have the same intention/purpose.\n. @deafbybeheading - others who have seen this had underlying openssl errors.  What do you get from ruby -e \"require 'rubygems'; require 'excon'\"?\n. @deafbybeheading my brain doesn't work sometimes, how about: ruby -e \"require 'rubygems'; require 'heroku-api'\"?\n. Fixed offline (had a busted plugin installed which was causing weird interactions).\n. @clickpoint - if you run git remote outside the context of the heroku toolbelt does it still work alright for you?\n. @clickpoint - strange.  Nothing is jumping out to me about what might be off.  It looks like it did create the app though, you can check with heroku apps to be sure.  You may be able to just continue and disregard this as a one-off error.  If you need to add the remote to an existing directory you can also try heroku git:remote -a clickpointau and see if that works any better for you.  Let me know what you find and I'll do my best to continue helping out.\n. @clickpoint - changing the path seems somewhat worse, rather than better.  You may want to swap it back.  I wonder if it is the redirection, outside of heroku what do you get for git remote 2>&1?\n. @clickpoint - sorry about that.  Could you paste the contents of the C:\\project_git\\config?  I think that should give me a better angle to solve the problem.\n. @clickpoint - well, not sure about fixing the client but I see pretty clearly how to fix your git config.  Under [remote \"heroku\"] you should change the url to read url = git@heroku.com:clickpoint.git.  With that in place you should be able to run git push heroku master just fine.  As for the original error, what version of windows are you running?\n. @clickpoint - I presume you mean heroku create?  I realize that is still broken, I was just hoping to provide you with a workaround so you wouldn't be stuck in the mean time.\n. @clickpoint - it seems to be working fine for me on windows 7, at least with the latest client.  Could you update and see if that helps?\n. @clickpoint - sorry to say I am the top of that particular escalation path.  I have written/updated a lot of the code and am the maintainer.  So unfortunately I don't think it is just a lack of perspective.  I've reviewed the code more than once and tried to reproduce this on windows 7 with a fresh toolbelt install and everything works fine for me, so I'm not sure where the discrepancy is.  Are you running this within cmd.exe?  How did you install git?  What do you get for git version?  Sorry for the run around, but since I can't reproduce I'm trying to figure out what we have different (so that I can reproduce and either offer you a solution or fix the code).\n. @clickpoint - I'm pretty close to stumped.  What do you get from chcp?\n. @clickpoint will do, sorry I haven't had better luck than this.\n@ddollar - could you take a look and see if you have any further/different thoughts?\n. @jacobaweiss - I'm not sure either (it's been a while).\n@wuputah - could you take a look at this?\n. @Azolo - I'll work on a fix ASAP.  In the mean time you can delete ~/.heroku/autoupdate to disable this behavior.\n. @Azolo - I rewrote it to work with spawn, instead of fork, which I believe should clear this up.  I'll probably try to get that released this afternoon.  Here is the commit: https://github.com/heroku/heroku/commit/dbf9cd23bccda6262af5cd92da5a084448978e3f\n. @Azolo - thanks for the update, I tried it out on windows but maybe not enough.  I think that last commit should help avoid spawning too many processes (and the error was coming from a race condition among multiple processes I think).  Should be fixed in the next release, but probably not today as I need to run pretty soon to a meetup and stuff.\n. @freeformz - I think it becomes dates after 24 hours.  Should it just always be dates or should that cutoff be more aggressive?  ie, minutes seems probably granular enough but I understand why hours wouldn't be.\n. Now covered by #560 (which I'll try to get merged and subsequently released later today).\n. This was a bug that was in older versions of the updater, but has since been fixed.  Unfortunately you can't get the new version with update because of the nature of the bug.  If you instead redownload and install from https://toolbelt.heroku.com you should get the latest version, which includes a fix for this issue.\n. I don't believe this should still be an error in the latest version, but obviously this is preventing you from getting to that version.  You should be able to redownload and install from https://toolbelt.heroku.com and be back in business.\n. @mcgraphix - sorry to hear you are having trouble there.  You should be able to disable autoupdate by deleting C:\\Users\\rob_heroku\\autoupdate.  It checks for that to determine if it should continue or not.  Could you paste the first error you are getting so that I can reference it more directly?  The second error looks like you do not have ssh keys setup, you should be able to figure that out from the devcenter SSH article here: https://devcenter.heroku.com/articles/keys\n. @mcgraphix - I would double check with heroku keys and ensure the same key exists locally just in case as I've definitely gotten bit by that before even though I thought everything was good to go.  Could you paste what you are entering and getting back for that error?  Just want to make sure we are on the same page.\n. @will - is this all good to go now?  Wasn't sure if there were remaining questions or anything.  Also does this need to go out soon?  I don't want to block but I'm travelling this week so I don't want it to go out when I can't help support it.\n. @will - got it.  I'll probably plan on releasing heroku.rb and subsequently this some time early-ish next week when I'm back home then.\n. @will - sorry, missed the pre-release message.  I'll try to release tomorrow early in the day (end of my work day at the moment and don't want to release as I wrap up for the day).\n. P.S. I ended up reverting this due to issues from dev databases.\n. @gimason - It probably means that there is something wrong with the local git config.  If you go into that directory and run heroku git:remote -a APP_NAME (where you put your app name in for APP_NAME) it should fix that and make things work afterward.  If not let me know and we can try other things.\n. @TheBlueSky - this should be fixed if you redownload and install.\n. @ladakhi - it sounds like you are running commands from a directory different from where you did the clone.  What commands are you running now that are giving you this error?\n. @andhapp - I would guess that you simply need to upload your public key to Heroku and you should then be ready to go, you should be able to find much more information about that here: https://devcenter.heroku.com/articles/keys.  Do let me know if you still are having this issue after working through that article though.\n. @andhapp - thanks for the clarification, guess I mis-read the issue initially.\n@hone - Are there other things we could recommend here?\n. @Pliny - I wouldn't really expect it to be used in this way, so I hadn't really expected invalid arguments to need instantiation elsewhere.  I think you should have better luck if you do this instead:\nHeroku::Auth.credentials = [config['user_name'], config['api_key']]\nHeroku::Command.load\nHeroku::Command.run('pgbackups:capture', %w{--app APP_NAME --expire})\n. @Pliny - I've never documented or recommended it.  I think it should be made clearer that it isn't a great idea but it is not entirely straightforward.  For most things I now recommend using the heroku-api gem instead and avoiding this sort of thing altogether, but unfortunately that gem does not yet support pgbackups stuff.  What sort of documentation could I have provided to make it clearer that it shouldn't be used directly?  Currently public/private isn't an easy option as this is used to determine what things are commands in the CLI and what things are just helper methods (which is perhaps in and of itself problematic).\n. @Pliny - understood, sorry that it broke.  I was hoping and intending to add deprecation messages over time to these things (without breaking them), but occasionally things fall through the cracks.  I hope to improve the way the rubydocs are setup over time to encourage newer/better ways of doing things as I can certainly understand how they would confuse things.\n. Currently -a is defined globally, so it is always accepted even when it doesn't make sense.  I suppose we'll need to specially add errors on commands where a global option isn't actually expected.\n. It determines via comparing to GEM_HOME, which I'm guessing functions differently in rbenv.  What does GEM_HOME say for you?\n. @aitor - Awesome, thanks for helping out with the stuff that slipped through the cracks.\n. @deafbybeheading - my main concern is about what the experience is like.  Infinite wait isn't great, but having it error out is perhaps worse.  I think a longer retry loop would be fine, but if it is infinite it should probably clearly message that the ctrl-c may be needed.\n/cc @ddollar\n. @shmidt - this appears to be a herocutter specific bug, you should probably let the maintainer know about it over at https://github.com/hone/heroku_herocutter.  But I don't believe it is really being actively maintained and hasn't been for some time.\n. @shmidt - no problem, easy mistake to make.\n. @rmg7344 - For transferring data between pg databases I would highly recommend skipping taps/db:push and instead using pgbackups to use pg native stuff.  This is much more likely to capture subtleties such as hstore which taps may miss.  You can find info on using pgbackups here: https://devcenter.heroku.com/articles/pgbackups#importing-from-a-backup\n. @joeybaker - nice and thanks for sharing.  I hadn't even thought about the performance implications, but now that you mention it I'm not too surprised to hear that it would be faster (as it involves fewer moving parts).\n. Thanks!\n. @LaunchPadLab - sorry to hear you are having this problem.  Could you include the backtrace so I can see more specifically where the error is coming from?  I'd highly recommend moving to using the heroku-api gem instead of the client (which is, as you said, deprecated).  You can find more information on that here: https://github.com/heroku/heroku.rb.\n. @bhennes2 - great, that client is the more officially supported/updated one (I hope to deprecate and eventually remove all of the other client).  So you should be on better footing now.\n. @will - looks like travis is a false failure (there is an intermittent FakeFS related failure I haven't managed to track down).  I think it should be ok, but to double check, this should be mergeable even though I reverted the other v11 stuff, right?\n. @will yeah, sorry.  I think I had mentioned to you I was thinking about reverting.  Given the number of failures I was seeing around dev stuff I didn't feel comfortable releasing it (and wanted master to be releasable).  Is there some place I should go to report the dev issues I was seeing so that it can get sorted out?\n. I think that is probably accurate.  Doing pg or pg:info just after creating was giving back resource not found errors.  I don't think I waited long enough to ensure it would start working again later, so not sure if it is just for newly provisioned or not.\n. Cycling to rerun tests.\n. I hadn't ever considered one way or the other, but yeah I would say it should probably work there, just as -a test-export would.  I'll work on patching momentarily.\n. Hmm.  I think that is no longer an issue, but around that version was a rocky time.  You best bet is probably to redownload/install from https://toolbelt.heroku.com.  It should work and be less likely to break (automated test coverage is now significantly better).  If you still have issues do let me know though, sorry for the inconvenience.\n. @anthonycintron - thanks for the update, that looks like the sort of error I would expect if one were having some general internet connectivity issues (for what it's worth).  Glad it resolved itself for you.\n. @Florent2 - oops, already merged almost exactly the same request here: https://github.com/heroku/heroku/commit/4447d5b1f495a9649271f170a25baaa3ef3c9033  Thanks for the help!\n. @ctford - unfortunately toolbelt installs are sandboxed in a way that doesn't facilitate directly using gems.  I've reported this to the maintainer's here: https://github.com/treasure-data/heroku-td/issues/1.  Additionally if you'd like to use it ASAP, you should be able to simply install the heroku gem (which should be more prominent than the toolbelt in path) and which can use gem dependencies as needed.\n. Ah, yeah that is confusing (but at least only for herokai).  It points at heroku-api (for better or worse) because that is the gem name of heroku.rb.\n. @mmcgrana - I think you were seeing a race condition rather than actually being stuck.  When the update command begins it forks (and the forked process touches ~/.heroku/autoupdating), then update continues in its own process and checks for the presence of that file (which is likely to exist at this point).  From your directory listing you can see that there isn't just an autoupdating file sitting around though.  Perhaps if autoupdate is on we should disable the command and add a message describing this situation when you try to run it, thoughts?\n. Current message:\n!    `heroku update` has been disabled in favor of autoupdate.\n. @wuputah - good question. I think the question would be to change it in excon or in the CLI. I'm not sure the right answer (I don't use proxies much). It seems probably safe to do, but what about proxies starting with https (and/or is this a thing)? Maybe excon should just assume since I've seen a number of people have this ENV set without it. Definitely open to advice/discussion.\n. @zeke - I was aware.  I think maybe it should work as it does though.  whoami ends up being weird for sure, but I don't think login/logout changing the environment would be a good idea.  It seems like it would be confusing/problematic anyway.\n. Agreed. When/where do you think we could best warn/notify about the config var usage to help with this? In login maybe? We probably shouldn't notify all the time, so narrowing it to the right time/place to be relevant would be good. Thanks!\n. @nbuggia - you can find all the details of doing this here: https://devcenter.heroku.com/articles/platform-api-reference#dyno-create. There is a also a concrete example of running rake db:migrate and using the rendezvous gem to stream the response here: https://github.com/swanson/stringer/blob/master/Rakefile#L106. Hope that helps, but do let me know if you have further questions.\n. @ddollar - I've had confirmation from a couple people that this did in fact solve their https proxy issues when they manually replaced the version in their toolbelt installs, so if we could get this merged/released that would be awesome.\n. @wuputah - That was the direction I was headed when I was working on things, but I wasn't able to entirely finish at the time. Probably somewhat preferable to not introduce more rest-client though.\n. Looks like a regression within the APIs return format which, perhaps ironically, I seem to have introduced. Issue filed above.\n. @wuputah - yes. It uses just a tcp socket, so at this point does not know how to utilize proxies. Probably will have to use detached for now at least.\n. @kr - thanks for the thoroughness, appreciated.\n. @wuputah - thanks for the heads up, looks like I introduced a regression a week or two ago related to this. Tracking here: https://github.com/heroku/core/issues/1622\n. Seems likely to be socket level, intermittent networking error, though I'm somewhat less familiar with net/http errors. That said, it is coming from rest_client via postgres_client, so it isn't really related to heroku.rb so far as I can tell. It might be worth doing retries on errors like this (alla idempotent flag in excon) to smooth over things, especially if it really is an intermittent timeout.\n. @mfine :+1: \n. @rwdaigle - been a while since I've worked with/on this. I think the existing stuff looks about right and that you will probably need to do a similar level of mocking for postgres/pgbackups. I think mostly assuming they'll recieve/return on certain params is good enough, and then just testing that each of the expected requests is made and the final output matches and you should be in business. Happy to discuss more, but as it is my fiancee's spring break I'm mostly gone for the rest of the week to chill with her.\n. @rwdaigle - as per @ddollar if you just add it to this list: https://github.com/heroku/heroku/blob/master/lib/heroku/plugin.rb#L10 it will prompt and remove.\n. @glenngillen - seems likely to be good-enough I think. :shipit: \n. Yes? I think you are cc-ing me because I gave this feedback initially? Trying to recall context...\n. @rwdaigle - yeah, thats how I remembered it, just wanted to double check I wasn't missing something. Thanks!\n. You may have better luck with https://github.com/heroku/heroku.rb. You can't address it from the command line, but it does have support for programmatically doing most all of the things the toolbelt can do. Happy to answer any further questions you might have around that. Thanks!\n. Hard to say. In my experience it usually stemmed from non utf characters for path or username, so some of the changes in the issues your link to work around this by forcing utf. It was always a set of issues I had trouble reproducing, however, so I'm not certain how \"solved\" it would be here or not.. Agreed, it seems bad. I was never able, in any configuration, to get it working on windows though.\n. @ayumin could you look at this? It was suggested you might have some ideas of how I could fix this problem on windows instead of just working around it. Thanks!\n. @tmaher - none that I'm aware of. It has been this way for quite some time (maybe always). I think there was a previous similar thing that predated me in toolbelt, but I may misremember.\n. @ddollar @tmaher Progress! I think I have this fixed in Excon now (on master). Still trying to confirm and/or make a better fix higher up the food chain on windows. Could one/all of you try this and let me know what you get on a windows vm/box?\nrequire 'openssl'\nputs(path = OpenSSL::Config::DEFAULT_CONFIG_FILE)\nputs(File.exists?(path))\nOn my machine it says:\nC:\\Users/Luis/Projects/oss/oneclick/rubyinstaller/sandbox/openssl/ssl/openssl.cnf\nfalse\nSo, in excon master it checks to see if that file exists and failing that it falls back to the bundled cert (which I could never get to work before, but finally figured out the magic trick, I think). I just wanted to try to help rubyinstaller if possible by (hopefully) fixing this. And/or figure out if it is just something messed up on my install.\nIf you could also verify that excon master works appropriately in windows for this, that would be great:\nrequire './lib/excon'\nExcon.get('https://www.heroku.com')\nputs 'success'\nIt will raise an error or print success (after the changes, getting success on my machine).\nJust wanted to get some external validation, if possible, that this is a good/general fix, rather than just a works-on-my-machine, prior to releasing excon and toolbelt with the fix. Thanks!\n. @luislavena - A little bit more explanation above, but I was trying to figure out if under rubyinstaller OpenSSL::Config::DEFAULT_CONFIG_FILE still pointed to a non-existent file or if that had been fixed? But I was having trouble figuring out where that setting would come from or be set. Let me know if that doesn't make sense. Thanks!\n. @luislavena - I suspected there was probably a reason why it remained in this state, just thought I would ask and make sure I was on the same page. I think the solution I added to excon is about the best we can do (or so it would seem). It will attempt to use the default config, if it exists, or fall back to the bundled one. This behaves nicer on other installs, but should still work and verify under ruby installer (just as you outline). So, I think it sounds like this is the best we can do. Having possibly expired certs is bad, but probably not worse than skipping verification all together, which was the previous solution.\n. @poke - under rubyinstaller it looks roughly like:\nC:\\Users\\luis\\...\\openssl\\...\nfalse\nI should think that if you have the file and it is true you should be ok, but maybe you are still missing the certs. If you look in that file and find the cert path, does that file exist?\n. @poke I'm not sure off hand I'm afraid.\n@luislavena any ideas?\n. @luislavena - hmm. Excon has an up to date, bundled cert even now. I just added in something where it will BOTH add default paths and the bundled one (after) so that it should fall through, I think. Hopefully that will get us back-in-business.\n. @luislavena - yeah. I think/hope it should work consistently now (just made a couple more tweaks). If you could let me know if you see any issues with the latest (0.25.3) I would be grateful.\n. @luislavena - no worries, thanks for taking the time to double check. Always good to get external confirmation. Thanks!\n. @orip - We'll work to make that not error so spectacularly. In the mean time it indicates you hit your account rate limit. If you wait a little while and try again it should work. Note that this may imply that you have some other process running against your account that is making a large number of requests. If that is unexpected you can login to your account page on dashboard and ask for a new api-key (which will invalidate your old key, thereby preventing ongoing external usage). If you need the higher limit for some reason, do let us know and we can discuss your use case. Thanks!\n. @orip glad to hear it, just let us know if you have further issues. Thanks!\n. @kr - in terms of the usability concerns @fdr mentioned. Perhaps echo a warning/explanation to stderr prior to outputting the config if any things were redacted. Something like:\nWARNING: Passwords in uri config vars replaced with `{redacted}`. Use `-s` to view them.\nIt seems like it would be good, at least in the interim, as a way to educate users about the change. If/when we feel users are likely to be accustomed to it, we can always remove it again.\n. Seems good. Just a bit reticent to merge on to master without a plan for pre-release or whatever (could be bad to accidentally release this in trying to push other stuff out because it happens-to-be on master).\n. Long thread is long. @pedro thoughts?\n. @pedro you might have to vendor it?\n. Fixing things now for you seems good. Where should we discuss further?\n. @raulb - seems good, thanks! (just wanted to ensure the discussion didn't get lost with the merge)\n. Seems good, albeit maybe overzealous. I guess it shouldn't hurt anything (but it might get annoying). I guess maybe it shouldn't be used all that often so maybe that is ok/right though.\n. I say we do it, can always reduce how much it complains later if it turns out to be troublesome.\n. @refack strange, glad you found a fix. Thanks for updating us on it, we'll keep an eye out for that.\n. @tzar yeah, I think we had a broken release out briefly and the newer release fixed the bug.\n. It looks like you are not quite on the latest version (appears to be 3.9.6). Could you update and try again? If that doesn't get you any further we can dig in further from there. Thanks.\n. Thanks!\n. Thanks!\n. @catsby I think because then you can just monkey-patch handle_auth_error instead of needing to monkey-patch everything.\n. Seems good :shipit: \n. pre2 would probably be ok, given my understanding of rubygems stuff, but I'm not certain. Might be good to figure out/try at some point as obviously it's a bit nicer than burning through patch releases, especially for stuff like this. That said, obviously not a big deal either way. Hope this release went better, definitely would love to see the updated excon in the wild (never fun to find out the in-the-wild version is many-months old and not using your more recent hard work).\n. auto-update uses it as a lightweight way to see if an update is available, see: https://github.com/heroku/heroku/blob/master/lib/heroku/updater.rb#L83\n. @dickeyxxx the comments, are magical... I'll explain in chat, might be easier...\n. I believe you are looking for this: https://github.com/heroku/heroku.rb/blob/master/lib/heroku/api/mock/stacks.rb\n. Seems like good things to point out as likely culprits in this situation :+1: \n. :+1: awesome, glad to see a simple/quick fix for this edge case.\n. Awesome.\n. Similar to listing, should there be a short-arg for space here? (this one seems fine, might be good to add that though).\n. Not urgent, just seemed inconsistent compared to the other args. Certainly can wait.\n. Looks like this wouldn't cope well with specifying an org and a space at the same time presently, thought I would put that on the radar, but doesn't seem like a blocker. Also, should there be a short-arg?\n. Yeah, I didn't think specifying both really made sense, but I wasn't sure. Might be good to explicitly error there.\nFair enough, it just stuck out as being odd/different since the others all appeared to have short versions.\n. Thanks!\n. Thanks, might be overkill, but seemed like a quick/easy enough fix.\n. @ryanbrainard could you elaborate a bit on why you dislike this and what the alternate might be? Just want to ensure I have proper context. Thanks!\n. Got it. Sounds like a case where filters would be helpful to avoid some of the roundtrips, though I don't think we are quite prepared to use them.\n. Does this need another release?\n. Released in 3.40.6\n. Looks fine to me, but I think @dickeyxxx should be back soon, so will probably leave it for his scrutiny.\n. Very nice, thanks!\n. Looks good. :+1: \n. LGTM\n. :+1: \n. LGTM\n. \ud83d\udc4d  LGTM\n. Is this no longer a temporary connection?\n. For all of the things like this you should be able to use output_with_arrow('string') to get the properly formatted arrow, instead of repeating yourself, fwiw.\n. Perhaps pg:reauth, though that also seems like a bit of a stretch honestly, another stretch but perhaps good in that it is similar to other existing commands would be pg:logout.  This is a hard one...\n. Not sure we are any closer to a conclusion on this, but I wanted to keep it moving.  Any new inspired names to move this forward?\n. So, here is a possible solution/suggestion based on discussions I had with @ddollar. (something to this effect anyway, open to a bit of further discussion as this is a departure from previous suggestions).\nFirst step is (I think anyway) to nuke pg:ingress since you mentioned doing so anyway.  Then we replace/add pg:credentials which will give you the needed info for connecting (similar to ingress, but hopefully a bit clearer in purpose).  We can then fold in the logic we are having a hard time putting a single word name to, with something like pg:credentials --reset.  That seems clear in purpose, avoids an underscore in the name and keeps the namespace relatively non-cluttered.  Thoughts?\n. Is it problematic to have this info in both places?  The current commit has it at both pg:info and pg:ingress, so parity with that.  Having more than one way to do something is not great, but displaying info in two pertinent locations seems not so bad.  I haven't interacted with the pg portion of the existing client (or with this new stuff) much at all though, so it is a bit hard for me to reason about it.\n. Just as a follow up, for future reference.  This shouldn't be here.  We don't depend on json directly elsewhere.  So this causes bugs if you don't happen to have json installed.  I am about to push a commit to fix that removes the require and replaces JSON.parse with json_decode from the helpers (which uses the vendored OkJson).  So, problem solved, just wanted to mention it before I forget in case it comes up again.\n. No worries, super easy to do (and rather easy to fix).  Just thought I'd mention it.\n. I think it might be clearer and more direct to replace \"This database\" with \"#{db[:name]}\" or some other direct reference, especially if the info is already readily available.\n. Why no newlines on these?\n. I think we could simplify here by using the error method, removing the ! part (because error will add it) and removing exit, since error should also handle that.\n. My intention was more or less as you say here (initial trap + additional ones for exceptional cases).  So we should probably have the initial one happen at this early point still, the cleanup of the others looks nice though.\n. I believe tap is not defined in Ruby < 1.9, so we probably want to avoid using it.\n. Seems like a good change, but it might be clearer to outsiders (and/or me) if the conditional was still in this location (but just used the PgUtils.addon_name call).  That way I don't have to be confused why this is always called only to find out it usually isn't.  Mind making that change?  Also open to discussing this.  Thanks!\n. Not dead set on one or the other, it was just my initial inclination so I wanted to at least discuss a bit.  You have clearly thought about it more than me so I'll go with your version.  Thanks!\n. Mostly I see the aliases as being a way to provide a new command as the de facto without breaking an old command that users might be used to.  An example would be when we introduced apps:info and created the info alias.  info used to be the de facto but we decided apps:info was more consistent, so we now recommend that.  As such, my preference would be to not start with an alias here.  I'd rather just start with auth:whoami and only add the alias later if it becomes a problem or we change our thinking.  Does that make sense?  Thanks!\n. @zeke - I think it is fine to have this here, it provides parity with auth:token and could be useful in some other non-sudo cases I'm sure.  If you could just remove the alias and associated test that would be great and I can get it merged shortly.  Also, I'm actually in the office this week, fwiw, if you have any questions or just want to meet in person.\n. This seems a bit heavy handed and possibly slow.  I think as a first pass it might be simpler to just check the status from the ssh-keygen command and output a more generic message.  Then it can be made more specific (and complex) if it still is a problem.  Overall I just want to improve without introducing too much complexity and I worry this which seems a bit complex without seeming to provide that much more feedback that checking the status.  I'm open to discussion on it, but that is my initial inclination.  What do you think?\n. @daveschaefer - If you would like to go ahead and take care of it that would be amazing, but if you don't have the time or desire I certainly understand and can take it from here.  Just let me know what works best for you.  Thanks!\n. @daveschaefer - would you like me to take it from here then?\n. This should use uri.host rather than uri.hostname (which is undefined).\n. Should say \"Please use heroku run console\" I think.\n. shouldn't this use json_decode?\n. ",
    "subdigital": "+1 -- this caused us a day of outage for our API and was quite hard to track down.\n. @ddollar yeah on a brand new project I have this issue.  Rails 3 + latest Heroku gem.  https://gist.github.com/706730\n. ",
    "nate": "Why not just depend on json instead of json_pure? Doesn't the json gem fall back to a pure implementation when the C ext isn't available?\n. fwiw, we can't use it from within our app because of a json and json_pure conflict, so it'd be nice to have it depend on json.\n. ",
    "edruder": "+1 -- adding heroku to a new Rails 3 app's Gemfile causes many Rails commands to spew because of the json/pure vs json problem. Here's one example: http://gist.github.com/675927\n. @ddollar: Thanks very much for the quick response! Unfortunately, the problem remains:\nhttp://gist.github.com/703022\n. ",
    "rymai": "Any interest in that ? Are we the only one getting this error ?\n. Still no interest in a fix and new specs?\nWhy such a silence since the last commit (and gem new version) is 9 hours ago?\n. Thanks for your comment, I think it's kind of a critical bug, I'm very scared that so few people reported it.\nI could do a pull-request to fix it, but I'm beginning to be a little bored with this gem, I've already made a pull-request 3 weeks ago (https://github.com/heroku/heroku/pull/32) and it's still not merged.\nI'm very disappointed that on one hand the Heroku service works pretty well, and on the other hand the gem and its development is so slow and strange (ddolar told me that my pull-request should be merged, then closed it, but didn't merged it yet...)\nSorry if I'm rude, but it's a shame that a bug as critical as this one could've been introduced without being fixed (7 new releases since I reported this bug, and still no reply from the maintainer).\nFuck it, really, I don't get it.\n. Introducing a bug preventing from using Taps is not a way to recommend people not to use it.\nMoreover, it's bullshit to say that they're \"aware of the issue, and working on resolving it.\" when it's been introduced on November 17, 2010, and still not fixed.\nIt's been only 18 days and 7 releases since then, after all! :)\nMy advice to Heroku: you should be honest, if you say you're working on it, work on it, if not, don't say it just to make us happy, I don't care. If you don't work on it, I can fix it myself and pull-request you the fix, but at least, actually pull-request it.\nIn the end, I think I'm gonna stop wasting my time and use pgbackup since it's recommended AND it's the only given option that can work in my case. ;)\n. Ah! It should work better now, thanks!! ;)\n. ",
    "beccasaurus": "I've been having the same issue.  Thanks to the poster, I was able to downgrade my Heroku gem to 1.13.6 and everything's working again!  Thank you!  This is definitely a critical bug  :/  db:pull-ing to a local sqlite database file is very common, as far as I know\n. @rymai I pinged Heroku and they're \"aware of the issue, and\nworking on resolving it.\"\nI can't comment on why they haven't commented on this issue or marked it with any tags.  I understand that they are insanely busy, but I hope they find the time to comment on issues.\nAs a sidenote, they pointed out that Taps is NOT recommended for real backups, and you should checkout the pgbackups addon: http://addons.heroku.com/pgbackups\nThat said, we both ran into this issue because Taps is crazy convenient  :)\n. ",
    "zzak": "+1 /subscribe\nI can confirm this bug, also would like to see tryruby available on heroku as the official site is down fairly often.\n. ",
    "joestraitiff": "yes, 1.16.2 fixed it:\njoe:~/projects/iq/qm$ gem update heroku\nUpdating installed gems\nUpdating heroku\nSuccessfully installed heroku-1.16.2\nGems updated: heroku\nInstalling ri documentation for heroku-1.16.2...\nInstalling RDoc documentation for heroku-1.16.2...\njoe:~/projects/iq/qm$ heroku plugins:install http://github.com/heroku/heroku- logging.git\nUnpacking objects: 100% (94/94), done.\nheroku-logging installed\njoe:~/projects/iq/qm$ heroku addons:add logging\nAdding logging to questionmoms... done (free)\njoe:~/projects/iq/qm$\nThanks!\n. ",
    "nzoschke": "Ah, my bad. Another pull request coming later\n. damn I just duplicated this effort.... probably easiest to ignore this and take #58\n. wow, messed up patch. replaced by #58\n. I like heroku features:enable. Same meaning, and matches the API. I'll update this PR shortly.\nThe doc for preboot is on the API side. That will be updated when we also update preboot to \"general\".\n. Everything should be heroku features now. Leaving the branch name 'settings' alone to preserve the PR.\n. Wow, 2 years? Sorry for that.\nBig +1 to just never referencing code in the code base, even for cleanup reasons. The legacy entries cause no trouble, and will naturally disappear over time.\n. ",
    "calvinfroedge": "So what do we do to finish the migration?\n. ",
    "jeroenvandijk": "You are completely right, that works :) Thanks a lot.\nJeroen\n. Although the suggested fix solved my initial problem, I now have a problem with Sphinx. Sphinx defaults to the root user. So all in all, erb support would still be great.\n. ",
    "scsmith": "Really looking forward to this, it will definitely reduce the pathway to new relic, exceptional etc.\n. ",
    "trevorturk": "Awesome! I love your improvements, too - thanks! :)\n. Yes, the \"Heroku Button\" is wonderful!. ",
    "jnicklas": "Seems to work for me, sorry for the late reply.\n. ",
    "akipponn": "Hi,\nThough my environment is Windows7 32bit (Ruby 1.9.2 is the same), I faced the same problem.\nI changed the heroku gem version from 1.17.10 to 1.16.0. Then it worked.\nI'm sorry, it's not a solution.\n. ",
    "rapcal": "Same problem on XP 32bit. Heroku gem 1.16.0 worked. Thanks, akipponn!\n. @subiuniopen: gem install heroku --version 1.16.0\n. ",
    "subiuniopen": "How do I change the gem version?\n. ",
    "capps": "I was getting this too on any heroku command. Uninstalling and reinstalling this version fixed it too\n. This problem is still lurking. Did the update as was suggested. Not fun.\n~/chapelchronicles $ heroku run rake .....\n/Users/capps/.heroku/client/lib/heroku/cli.rb:30:in start': undefined methodstyled_error' for Heroku::CLI:Class (NoMethodError)\n    from /usr/bin/heroku:28\n~/chapelchronicles $ heroku update\n/Users/capps/.heroku/client/lib/heroku/cli.rb:30:in start': undefined methodstyled_error' for Heroku::CLI:Class (NoMethodError)\n    from /usr/bin/heroku:28\n. reinstalling off website fixed it. Not fun, but fixed.\n. ",
    "did": "hi all,\nI've got this issue with Heroku 1.18.3. Looks like Fixnums can not be converted into json. Weirdly, it works well in local.\nthanks.\nDid\n. @ddollar. One more information. If I require 'json/pure' at the very top of the app launch (in the application.rb file before Bundler), the error is not there. I precise that I'm using heroku 1.18.3. \n. no errors at all with heroku 1.18.2. Correction: it didn't work in local with the 1.18.3 version.\nHope it helps\n. still the same problem with 1.18.3 in both the local (normal since the gem didn't change) and heroku envs (btw I disabled require 'json/pure'). sorry :-(\n. ",
    "metasoarous": "I'm having the same issue here and need to be able to move some data around from my stage to my production app. Has there been any progress? I tried adding \nrequire \"json/pure\"\nin my application.rb, but that didn't work. Neither did the solution here - http://blog.ethanvizitei.com/2010_11_01_archive.html, that is putting\nclass Fixnum\n   def to_json(options = nil)\n     to_s\n   end\nend\nin an initializer, which seemed to work for him, but not for me.\n. No - different error now, and not getting as far either. Breaks on \"Receiving schema\" with the following trace - http://pastie.org/1693805. Is there any chance I should be using a different version of json or something?\n. Golden! Working just fine now. Thanks!\n. ",
    "turadg": "Works nicely now. Thanks.\n. Can anyone from @heroku comment on when this will be fixed, without resorting to hacks around their tools?\nSupport suggested https://github.com/glenngillen/heroku-exit-status but it doesn't appear to work.\n. ",
    "devth": "I'm having the same issue with latest heroku (heroku-gem/2.17.0) and taps (taps-0.3.23).\n. ",
    "josephShield": "I am also having this issue with the lastest heroku 2.17.0 and taps 0.3.23\n. ",
    "jguffey": "As Am I. Also using heroku 2.17.0 and taps 0.3.23\n. ",
    "brentmc79": "Seeing the same issue using heroku 2.17.0 and taps 0.3.23\n. I installed the CLI via the gem\nbrent:~$ which heroku\n/Users/brent/.rbenv/shims/heroku\nbrent:~$ which ruby\n/Users/brent/.rbenv/shims/ruby\n. irb(main):002:0> require 'taps'\nLoadError: no such file to load -- taps\n    from /Users/brent/.rbenv/versions/1.9.2-p290/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'\n    from /Users/brent/.rbenv/versions/1.9.2-p290/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'\n    from (irb):2\n    from /Users/brent/.rbenv/versions/1.9.2-p290/bin/irb:12:in `<main>'\nirb(main):003:0> puts $:\n/Users/brent/.rbenv/versions/1.9.2-p290/lib/ruby/site_ruby/1.9.1\n/Users/brent/.rbenv/versions/1.9.2-p290/lib/ruby/site_ruby/1.9.1/x86_64-darwin11.2.0\n/Users/brent/.rbenv/versions/1.9.2-p290/lib/ruby/site_ruby\n/Users/brent/.rbenv/versions/1.9.2-p290/lib/ruby/vendor_ruby/1.9.1\n/Users/brent/.rbenv/versions/1.9.2-p290/lib/ruby/vendor_ruby/1.9.1/x86_64-darwin11.2.0\n/Users/brent/.rbenv/versions/1.9.2-p290/lib/ruby/vendor_ruby\n/Users/brent/.rbenv/versions/1.9.2-p290/lib/ruby/1.9.1\n/Users/brent/.rbenv/versions/1.9.2-p290/lib/ruby/1.9.1/x86_64-darwin11.2.0\n=> nil\nRubyGems Environment:\n- RUBYGEMS VERSION: 1.8.10\n- RUBY VERSION: 1.9.2 (2011-07-09 patchlevel 290) [x86_64-darwin11.2.0]\n- INSTALLATION DIRECTORY: /Users/brent/.rbenv/versions/1.9.2-p290/lib/ruby/gems/1.9.1\n- RUBY EXECUTABLE: /Users/brent/.rbenv/versions/1.9.2-p290/bin/ruby\n- EXECUTABLE DIRECTORY: /Users/brent/.rbenv/versions/1.9.2-p290/bin\n- RUBYGEMS PLATFORMS:\n  - ruby\n  - x86_64-darwin-11\n- GEM PATHS:\n  - /Users/brent/.rbenv/versions/1.9.2-p290/lib/ruby/gems/1.9.1\n  - /Users/brent/.gem/ruby/1.9.1\n- GEM CONFIGURATION:\n  - :update_sources => true\n  - :verbose => true\n  - :benchmark => false\n  - :backtrace => false\n  - :bulk_threshold => 1000\n- REMOTE SOURCES:\n  - http://rubygems.org/\n. Moving to 2.16.0 worked for me.\n. ",
    "jknotzke": "Ditto.. Can someone reopen this please ?\n. Here the output on my machine:\njknotzke@shampoo:~$ which heroku\n/usr/bin/heroku\njknotzke@shampoo:~$ which ruby\n/usr/bin/ruby\njknotzke@shampoo:~$ irb\n\n\nrequire \"taps\"\nLoadError: no such file to load -- taps\n    from /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in gem_original_require'\n    from /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:inrequire'\n    from (irb):1\nputs $:\n/Library/Ruby/Site/1.8\n/Library/Ruby/Site/1.8/powerpc-darwin11.0\n/Library/Ruby/Site/1.8/universal-darwin11.0\n/Library/Ruby/Site\n/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/vendor_ruby/1.8\n/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/vendor_ruby/1.8/universal-darwin11.0\n/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/vendor_ruby\n/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8\n/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/powerpc-darwin11.0\n/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin11.0\n.\n=> nil\nquit\njknotzke@shampoo:~$ gem env\nRubyGems Environment:\n- RUBYGEMS VERSION: 1.3.6\n- RUBY VERSION: 1.8.7 (2010-01-10 patchlevel 249) [universal-darwin11.0]\n- INSTALLATION DIRECTORY: /Library/Ruby/Gems/1.8\n- RUBY EXECUTABLE: /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/bin/ruby\n- EXECUTABLE DIRECTORY: /usr/bin\n- RUBYGEMS PLATFORMS:\n  - ruby\n  - universal-darwin-11\n- GEM PATHS:\n  - /Library/Ruby/Gems/1.8\n  - /Users/jknotzke/.gem/ruby/1.8\n  - /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8\n- GEM CONFIGURATION:\n  - :update_sources => true\n  - :verbose => true\n  - :benchmark => false\n  - :backtrace => false\n  - :bulk_threshold => 1000\n- REMOTE SOURCES:\n  - http://rubygems.org/\n. \n\n",
    "mliu7": "Also having the same issue with heroku 2.17.0 and taps 0.3.23\n. I had problems when I installed the Toolbelt for OSX 10.7\nI fixed the problems by manually removing the heroku binary and then running:\n$ sudo gem install --version '2.16.0' heroku\nMy stuff is located here:\n$ which heroku\n/usr/bin/heroku\n$ which ruby\n/usr/bin/ruby\n. +1\nI'd been using pgbackups for years without any issues but when switching over to pg:backups today I'm also stuck on Pending. I tried this on multiple apps and databases from multiple machines, all running the updated heroku toolbelt and all are stuck on Pending at the moment.\n. As a follow up, all of the backups eventually started and completed successfully. It appeared they were queued by about 15-20 minutes. If you could somehow get back to the old behavior where backups start right away that'd be awesome.\n. ",
    "rdpfeffer": "BUMP! Still having issues with heroku 2.18.1 and taps 0.3.23.\n. @ddollar: here you go\n(venv)Ryans-MacBook-Pro:project rdpfeffer$ which heroku\n/usr/bin/heroku\n(venv)Ryans-MacBook-Pro:project rdpfeffer$ which ruby\n/usr/bin/ruby\nI followed the commands in the heroku docs to install both of these, running Mac OS X10.7\nthe commands that I am running:\nheroku db:push postgres://mydbUser:mydbpass@localhost/mydb -f 'areacode' --remote staging1\n. Ryans-MacBook-Pro:project rdpfeffer$ irb\n\n\nrequire \"taps\"\nLoadError: no such file to load -- taps\n    from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:36:in gem_original_require'\n    from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:36:inrequire'\n    from (irb):1\nrequire taps\nNameError: undefined local variable or method taps' for main:Object\n    from (irb):2\nput $:\nNoMethodError: undefined methodput' for main:Object\n    from (irb):3\n\n\n\nRyans-MacBook-Pro:project rdpfeffer$ gem env\nRubyGems Environment:\n- RUBYGEMS VERSION: 1.8.15\n- RUBY VERSION: 1.8.7 (2010-01-10 patchlevel 249) [universal-darwin11.0]\n- INSTALLATION DIRECTORY: /Library/Ruby/Gems/1.8\n- RUBY EXECUTABLE: /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/bin/ruby\n- EXECUTABLE DIRECTORY: /usr/bin\n- RUBYGEMS PLATFORMS:\n  - ruby\n  - universal-darwin-11\n- GEM PATHS:\n  - /Library/Ruby/Gems/1.8\n  - /Users/rdpfeffer/.gem/ruby/1.8\n  - /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8\n- GEM CONFIGURATION:\n  - :update_sources => true\n  - :verbose => true\n  - :benchmark => false\n  - :backtrace => false\n  - :bulk_threshold => 1000\n- REMOTE SOURCES:\n  - http://rubygems.org/\n. @ddollar I should also note that we are running python/django so we are not doing anything with ruby other than what the tools require\n. @ddollar @mliu7 FYI, switching back to heroku 2.16.0 worked for me too. Thanks for the tip. looking forward to getting the latest toolbelt fixed. \n. @ddollar  anything sutiable for Mac OS X 10.7?\n. ",
    "eavonius": "Same issue, but even rolled back to 2.16.0 :(.\n[jedwards@jayme-ubuntu:~/kinlighten] $ gem env\nRubyGems Environment:\n- RUBYGEMS VERSION: 1.8.6\n- RUBY VERSION: 1.9.2 (2011-07-09 patchlevel 290) [i686-linux]\n- INSTALLATION DIRECTORY: /home/jedwards/.rvm/gems/ruby-1.9.2-p290\n- RUBY EXECUTABLE: /home/jedwards/.rvm/rubies/ruby-1.9.2-p290/bin/ruby\n- EXECUTABLE DIRECTORY: /home/jedwards/.rvm/gems/ruby-1.9.2-p290/bin\n- RUBYGEMS PLATFORMS:\n  - ruby\n  - x86-linux\n- GEM PATHS:\n  - /home/jedwards/.rvm/gems/ruby-1.9.2-p290\n  - /home/jedwards/.rvm/gems/ruby-1.9.2-p290@global\n- GEM CONFIGURATION:\n  - :update_sources => true\n  - :verbose => true\n  - :benchmark => false\n  - :backtrace => false\n  - :bulk_threshold => 1000\n- REMOTE SOURCES:\n  - http://rubygems.org/\n. P.S. This is with taps 0.3.23 and heroku 2.16.0 (the only versions installed).\n. ",
    "jcderr": "I'm seeing this as well; heroku 2.19.2, taps 0.3.23.\n. ",
    "kakubei": "Same error for me:\n/usr/bin/heroku\nheroku-gem/2.20.1\n~/.rvm/rubies/ruby-1.9.3-p0/bin/ruby\n[myapp]/vendor/bundle/ruby/1.9.1/gems/taps-0.3.23\nInstalled Heroku from the toolbelt.\nIt seems the last comment from Heroku was a month ago. Any progress on this? Perhaps a workaround?\n. Is there perhaps a workaround?\nSent from my iPad, please excuse typos.\nOn 28 Feb 2012, at 21:54, Wesley Bearyreply@reply.github.com wrote:\n\nI'm digging around on this today.  Sorry for the delay in response, but I've yet to have much luck reproducing this locally, which always makes things harder to track down.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/69#issuecomment-4225229\n. This issue is still present with the latest download from Heroku of the toolbelt for OS X. I just downloaded it, installed taps, pushed and I get the same error. \n\nPlease advise. \n. ",
    "lewisdiamond": "The problem is because of multiple versions of Ruby / Rubygems. Check the content of which gem, which heroku and which taps. You may find some are running on 1.8 and some on 1.9. The gems won't be available to each other.\nI'm on an Ubuntu system and my solution was:\nRemove every trace of ruby1.8 and 1.9.1 (the bin scripts refer to specific versions so I wanted to start clean).\nsudo apt-get install ruby1.9.1-dev\nsudo apt-get install heroku-toolbelt\nthen vim which gem reveals it's running 1.9.1. No more conflicts\nsudo gem install taps\nAlternatively, if you want to keep 1.8, try this: sudo gem1.9.1 install taps (depends on your system and environment, if you have gem1.9.1 in bin.)\n. Did you take a look at my post above? Check how many versions of ruby you have.\n. @roryokane Check the --content-- of which heroku and which gem, not just the path of the file being run.\nThe file should have a hash bang as first line and it says which version of gem it's running. If it's not the same version as for heroku, e.g. heroku runs on 1.9.1 and gem on 1.8, you might need to run gem1.9.1 install taps for heroku to work.\n. ",
    "aidanlister": "Just getting taps to install was a pain (sudo aptitude install irb ruby rubygems ruby-dev; sudo gem install taps). It's not working for me with these versions:\n$ heroku --version\n2.24.0\n$ taps version\n0.3.23\n$ ruby --version\nruby 1.8.7 (2010-01-10 patchlevel 249) [i486-linux]\n. I've updated to ruby1.9 (sudo aptitude install irb1.9 ruby1.9 rubygems1.9 ruby1.9-dev) and I've uninstalled ruby1.8, then ran sudo gem install taps again. Still no luck.\nThis does appear to be a ruby problem on Ubuntu 11.04 ... it's easily replicable, just download the virtualbox and try the above steps: http://vagrantup.com/docs/getting-started/index.html\n$ gem list taps\n*** LOCAL GEMS ***\ntaps (0.3.23)\nAll versions of heroku, irb, gems point to ruby1.9 and a find / -name ruby shows no other versions floating around.\n. ",
    "rawwebdesign": "Same issue as the guys above.\n. Same issue.\n. ",
    "michrome": "I also installed Heroku from the tool belt:\nbundle install\nrbenv rehash\nheroku db:pull\n !    Taps Load Error: no such file to load -- taps/operation\n !    You may need to install or update the taps gem to use db commands.\n !    On most systems this will be:\n !    \n !    sudo gem install taps\ngem list taps\n*** LOCAL GEMS ***\ntaps (0.3.23)\nheroku version\nheroku-gem/2.20.1\ntaps version\n0.3.23\nwhich heroku\n/usr/bin/heroku\nwhich taps\n/Users/me/.rbenv/shims/taps\ngem env\nRubyGems Environment:\n  - RUBYGEMS VERSION: 1.8.10\n  - RUBY VERSION: 1.9.2 (2011-07-09 patchlevel 290) [x86_64-darwin11.2.0]\n  - INSTALLATION DIRECTORY: /Users/me/.rbenv/versions/1.9.2-p290/gemsets/mygemset\n  - RUBY EXECUTABLE: /Users/me/.rbenv/versions/1.9.2-p290/bin/ruby\n  - EXECUTABLE DIRECTORY: /Users/me/.rbenv/versions/1.9.2-p290/gemsets/mygemset/bin\n  - RUBYGEMS PLATFORMS:\n    - ruby\n    - x86_64-darwin-11\n  - GEM PATHS:\n     - /Users/me/.rbenv/versions/1.9.2-p290/gemsets/mygemset\n  - GEM CONFIGURATION:\n     - :update_sources => true\n     - :verbose => true\n     - :benchmark => false\n     - :backtrace => false\n     - :bulk_threshold => 1000\n  - REMOTE SOURCES:\n     - http://rubygems.org/\n. Hey @catsby \nYou got it! unless %w(dev basic hobby-dev hobby-basic).include? plan stops any starter plans getting to that path. Revised signature because starter/non-starter flag tricked me into thinking both starter and non-starter db's took this path.\nWill see if I can add a test\u2026\n. I need some help writing a test for this, please.\nWanting to do something like this inside fork_spec.rb's context \"successfully\":\nit \"forks an app with a non-starter plan db\" do\n  api.post_addon(\"example\", 'heroku-postgresql:baku')\n  WebMock.allow_net_connect!\n  execute(\"fork example-fork\")\n  WebMock.should have_requested(:get, \"postgres-api.heroku.com\")\nend\nIt's failing with undefined method 'match' for nil:NilClass on ./lib/heroku/command/fork.rb:60. It doesn't feel right to attempt to fix it with something along the lines of:\nHash.any_instance.stub(:[]).with(\"message\").and_return(\"Attached as DATABASE_URL\\n\")\nSecondly, WebMock isn't seeing the call. I suspect the network calls are stubbed out elsewhere but have reached my RSpec skill limit here!\n. If I had a test, I'd prefer to swap the PR for:\nraw = {'resource' => {'type' => addon[\"name\"]}}\nunless HerokuPostgresql::Attachment.new(raw).starter_plan?\n  wait_for_db to, to_addon\nend\n. I'd like to switch it for the code above but wouldn't do that without someone helping me getting a test going. I say merge what I've done and get the patch out.\nNot sure if there's a workflow policy here - assuming I don't merge my own PR as good practice.\n. ",
    "tim-vfiles": "Any progress on this? Completely unable to pull.\n\n% heroku version\n2.25.0\n% gem list taps\n* LOCAL GEMS *\ntaps (0.3.24)\n. Sorry, should've provided more info, had a fw different similar issues open in tabs and might've chosen the wrong one.\n\nI'm using 1.9.3-p194 managed by RVM on Kubuntu 12.10. The taps and heroku used are above, though I've tried rolling back as suggested. Still getting the error about taps/operation.\n. Originally tried the toolbelt, then the gem which I still have. No difference between the two as far as I can tell.\n. Not to add confusion, but for what it's worth:\nWhat worked for me was to _un_install the gem (all versions, if there's multiple), make sure I'm using the CLI, execute for the first time.\nThe gems get reinstalled by bundler and override the CLI (which heroku points to the gem), but it seems to continue working anyways without this error.\nDon't ask me...\n. ",
    "roryokane": "I have the same problem.\nI\u2019m on Mac OS X 10.7.4. My app was built with Refinery CMS 2.0.4 on Rails 3.2.4, and I have since upgraded to Refinery CMS 2.0.5. I want to use taps to transfer the CMS pages I\u2019ve created locally to Heroku. My local database is MySQL. I installed heroku from the Toolbelt.\nbundle install\nrbenv rehash\nheroku db:push\n !    Taps Load Error: no such file to load -- taps/operation\n !    You may need to install or update the taps gem to use db commands.\n !    On most systems this will be:\n !    \n !    sudo gem install taps\n```\ngem list taps\n LOCAL GEMS \ntaps (0.3.24)\n```\nheroku version\n2.26.6\ntaps version\n0.3.24\nwhich heroku\n/usr/bin/heroku\nwhich taps\n/Users/roryokane/.rbenv/shims/taps\ngem env\nRubyGems Environment:\n  - RUBYGEMS VERSION: 1.8.23\n  - RUBY VERSION: 1.9.3 (2012-04-20 patchlevel 194) [x86_64-darwin11.3.0]\n  - INSTALLATION DIRECTORY: /Users/roryokane/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1\n  - RUBY EXECUTABLE: /Users/roryokane/.rbenv/versions/1.9.3-p194/bin/ruby\n  - EXECUTABLE DIRECTORY: /Users/roryokane/.rbenv/versions/1.9.3-p194/bin\n  - RUBYGEMS PLATFORMS:\n    - ruby\n    - x86_64-darwin-11\n  - GEM PATHS:\n     - /Users/roryokane/.rbenv/versions/1.9.3-p194/lib/ruby/gems/1.9.1\n     - /Users/roryokane/.gem/ruby/1.9.1\n  - GEM CONFIGURATION:\n     - :update_sources => true\n     - :verbose => true\n     - :benchmark => false\n     - :backtrace => false\n     - :bulk_threshold => 1000\n  - REMOTE SOURCES:\n     - http://rubygems.org/\nrbenv version\n1.9.3-p194 (set by /Users/roryokane/<path-to-project>/.rbenv-version)\nThe first time I ran heroku db:push after installing taps, I had forgotten to run rbenv rehash. Could that have messed something up?\n. See Issue #188 \u2013 maybe it\u2019s related.\n. @geemus Thanks. A simple gem install heroku, and a rbenv rehash to be sure, fixed it for me. heroku db:push now works.\n. @lewisdiamond Thanks for clarifying, but I have already solved my issue. However, I had indeed misunderstood what you meant by \u201ccontent\u201d in your first comment, so your comment might help others, if my or kaiwren\u2019s solution doesn\u2019t work for them.\n. See Issue #69 \u2013 maybe it\u2019s related.\n. ",
    "kaiwren": "I got this too (I'm using rvm), and simply adding taps to my Gemfile and bundle exec-ing the heroku pull command fixed it for me. Brute force solution, but it works.\n. I'm getting this too, but don't have the luxury of looking for and removing blobs (I'm new to the codebase and needed a full local dump to understand it better and diagnose/replicate bugs). Any suggestions?\n(I'm on OSX 10.7.4)\n``` bash\n !    Heroku client internal error.                            | ETA:  --:--:--\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       uninitialized constant OkJson::Parser (NameError)\nBacktrace:   /Users/sidu/.rvm/gems/ruby-1.9.2-p320/gems/taps-0.3.24/lib/taps/data_stream.rb:177:in `rescue in fetch_from_resource'\n             /Users/sidu/.rvm/gems/ruby-1.9.2-p320/gems/taps-0.3.24/lib/taps/data_stream.rb:173:in `fetch_from_resource'\n             /Users/sidu/.rvm/gems/ruby-1.9.2-p320/gems/taps-0.3.24/lib/taps/data_stream.rb:131:in `fetch_remote'\n             /Users/sidu/.rvm/gems/ruby-1.9.2-p320/gems/taps-0.3.24/lib/taps/operation.rb:308:in `block in pull_data_from_table'\n             /Users/sidu/.rvm/gems/ruby-1.9.2-p320/gems/taps-0.3.24/lib/taps/operation.rb:301:in `loop'\n             /Users/sidu/.rvm/gems/ruby-1.9.2-p320/gems/taps-0.3.24/lib/taps/operation.rb:301:in `pull_data_from_table'\n             /Users/sidu/.rvm/gems/ruby-1.9.2-p320/gems/taps-0.3.24/lib/taps/operation.rb:284:in `block in pull_data'\n             /Users/sidu/.rvm/gems/ruby-1.9.2-p320/gems/taps-0.3.24/lib/taps/operation.rb:278:in `each'\n             /Users/sidu/.rvm/gems/ruby-1.9.2-p320/gems/taps-0.3.24/lib/taps/operation.rb:278:in `pull_data'\n             /Users/sidu/.rvm/gems/ruby-1.9.2-p320/gems/taps-0.3.24/lib/taps/operation.rb:253:in `block in run'\n             /Users/sidu/.rvm/gems/ruby-1.9.2-p320/gems/taps-0.3.24/lib/taps/operation.rb:203:in `call'\n             /Users/sidu/.rvm/gems/ruby-1.9.2-p320/gems/taps-0.3.24/lib/taps/operation.rb:203:in `catch_errors'\n             /Users/sidu/.rvm/gems/ruby-1.9.2-p320/gems/taps-0.3.24/lib/taps/operation.rb:246:in `run'\n             /Users/sidu/.rvm/gems/ruby-1.9.2-p320/gems/taps-0.3.24/lib/taps/cli.rb:172:in `clientxfer'\n             /Users/sidu/.rvm/gems/ruby-1.9.2-p320/gems/heroku-2.28.8/lib/heroku/command/db.rb:192:in `taps_client'\n             /Users/sidu/.rvm/gems/ruby-1.9.2-p320/gems/heroku-2.28.8/lib/heroku/command/db.rb:55:in `pull'\n             /Users/sidu/.rvm/gems/ruby-1.9.2-p320/gems/heroku-2.28.8/lib/heroku/command.rb:178:in `run'\n             /Users/sidu/.rvm/gems/ruby-1.9.2-p320/gems/heroku-2.28.8/lib/heroku/cli.rb:19:in `start'\n             /Users/sidu/.rvm/gems/ruby-1.9.2-p320/gems/heroku-2.28.8/bin/heroku:16:in `<top (required)>'\n             /Users/sidu/.rvm/gems/ruby-1.9.2-p320/bin/heroku:19:in `load'\n             /Users/sidu/.rvm/gems/ruby-1.9.2-p320/bin/heroku:19:in `<main>'\n             /Users/sidu/.rvm/gems/ruby-1.9.2-p320/bin/ruby_noexec_wrapper:14:in `eval'\n             /Users/sidu/.rvm/gems/ruby-1.9.2-p320/bin/ruby_noexec_wrapper:14:in `<main>'\n\nCommand:     heroku db:pull postgres://localhost/(redacted)20120705\nVersion:     heroku-gem/2.28.8 (x86_64-darwin11.3.0) ruby/1.9.2\n\n```\n. @geemus Great, thanks! I'll try applying your patch to taps and see if that helps.\n. ",
    "adamlogic": "FYI - I just encountered this error. In my case, I wasn't using toolbelt at all, and I had the latest versions of both heroku and taps. My problem was that I was in a project directory that included \"heroku\" in the Gemfile but not \"taps\". Running heroku from the command line was using the bundled version (even though I did not say bundle exec), and since taps did not exist in the bundle, it was invisible to the heroku gem.\nSolution: Add gem 'taps' to my Gemfile\n. ",
    "datnt": "My gem version is as follow:\nheroku (2.30.2)\nheroku-api (0.3.2)\ntaps (0.3.23) (Even try with version 0.3.24)\nAnd in had the same issue here. Tried the above solutions, none of them work.\nI'm not using rvm.\n. ",
    "finfort": "I solved problem by using \nrvm reinstall 1.9.2\nbundle install \nthan install all gems which you need without sudo.\ngem install heroku\nand now \nheroku db:push works for me! Great!\nMy Gemfile\nsource 'http://rubygems.org'\ngem 'rails', '3.1.3'\nBundle edge Rails instead:\ngem 'rails',     :git => 'git://github.com/rails/rails.git'\ngroup :development, :test do\n  gem 'sqlite3'\nend\ngroup :production do\n  gem 'pg'\nend\ngem 'taps'\ngem 'json'\ngem \"multi_json\", \"~> 1.3.6\"\nGems used only for assets and not required\nin production environments by default.\ngroup :assets do\n  gem 'sass-rails',   '~> 3.1.5'\n  gem 'coffee-rails', '~> 3.1.1'\n  gem 'uglifier', '>= 1.0.3'\nend\ngem 'jquery-rails'\n. ",
    "snoblenet": "@finfort's solution finally worked for me after all else failed\n. ",
    "leejarvis": "I'm still having this issue.\nUsing heroku-toolbelt/2.33.0 and gem list shows taps (0.3.24). Running heroku db:pull results in the same Taps Load Error: no such file to load -- taps/operation. I'm using rbenv and doing taps alone on the command line works fine.\nI should note that we've started using the toolbelt version exclusively now that the gemified version has been deprecated.\n. @dpmccabe Yup that's what I ended up doing. Which is fine except the gem versions is being deprecated and we're being told to use the toolbelt.\n. ",
    "dpmccabe": "I was having this same problem with Rbenv (with Ruby !.9.3-p125) and the toolbelt.\nI gave up trying to work with the toolbelt, so I added 'heroku', 'sqlite3', and 'taps' to my Gemfile and have been successfully been using bundle exec heroku db:pull.\n. ",
    "rtdp": "adding both heroku and taps in gemfile and then doing bundle exec heroku db:pull fixed it form me.\n. ",
    "brendanstennett": "This issue is still happening for me.  All combinations of:\n- system gem install\n- rbenv install with 1.9.2 and 1.9.3\n- adding to Gemfile and bundle exec heroku\n- heroku toolbelt\nNothing working.  THis issue needs to be reopened.\n. @geemus I'm using pgbackups as well so no immediate rush.  Installing heroku-taps then using db:pull gives the following error\n```\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       uninitialized constant Heroku::API (NameError)\nBacktrace:   /usr/local/heroku/lib/heroku/command.rb:213:in `rescue in run'\n             /usr/local/heroku/lib/heroku/command.rb:259:in `run'\n             /usr/local/heroku/lib/heroku/cli.rb:28:in `start'\n             /usr/local/heroku/bin/heroku:24:in `<main>'\n\nCommand:     heroku db:pull --confirm noirblancostaging --remote staging\nPlugins:     heroku-taps\nVersion:     heroku-toolbelt/2.33.2 (x86_64-darwin10.8.0) ruby/1.9.3\n\n```\n. ",
    "wesgarrison": "I'm experiencing this as well.\n\n$ heroku version\nheroku-toolbelt/2.33.2 (x86_64-darwin10.8.0) ruby/1.9.3`\n$ taps version\n0.3.24\n\n@geemus If you want to pair on this, email me and set up a time and we can use my machine for you to track it down.\n. @geemus I used pgbackups to get my database loaded, so I'm not in a bind to get this done, so I can wait until you're around and available to dig in without mucking things up in the meantime.\n. The main thing is cross database support. Sometimes I want to push a mysql db into heroku/pg.  Or, I only want to push a single table, which I might be able to do with pgbackups, but I'm not sure and don't see any documentation on how to do that.\nWith pgbackups you have to be running pg locally.  Maybe I should do that conversion locally, but it's one more step.\nCould be that pgbackups could replace the taps interface with better documentation, but other might have more stringent usecases than me.\n. IMO, then, I say deprecate taps and replace with links to good documentation examples on how you'd do the equivalent things in pgbackups. It works in the gem, so don't support it in toolbelt, perhaps.\nSomeone can always use taps locally to convert their local mysql/sqlite/whatever database into a local pg database (which is where that should probably happen anyway so it can be reviewed) and then up into heroku.\n. ",
    "mokolabs": "@HuffMoody I'm seeing the same thing right now too.\n. ",
    "will": "pgbackups is always full db. If you need to do a single table, you can run pg_dump from your local machine against a remote heroku postgres database.\nAlso taps is awful, I cant wait until we kill it. It's the worst. It is so bad.\n. Taps, db:push and db:pull are soon to be replaced with pg:push and pg:pull. \nIf anyone subscribed to this thread would like to check it out early and give feedback, information is at https://github.com/heroku/heroku-pg-extras/issues/42 \nEven though this issue here is closed, it comes up on google results for \"heroku pg:pull\", and seems like people are still discussing here about taps.\n. just 4c00e09 idk why the other ones came in there\n. please merge both 3a1680e2e50e488f444a82173749cee498f222b2 and 4c00e09269c48e86ce3d222b72c43713e2bc571b\n. Before version 2.3.0, there were no quotes at all. People using bash (or other shells that don't auto escape) and manually copy and pasting the url would have problems if they forgot to quote the url, or escape the & in the url, because it would start a subprocess and only send the first part of the url.\nI added the quotes for all output in version 2.3.0, but that did cause problems for people, like you suggested.\nThis makes it so that piping to curl, or using backtics, won't have quotes and therefore work exactly like it did before, while people using the command interactively will have the quotes and not have to remember to escape the output.\n. bump?\n. sorry didn't mean to close this\n. Hm. When psql isn't there, no exception is rased though, the gem just exists.\nI also wonder if heroku pg:psql works on windows in the first place. Have you tried it?\n. updated\n. Now that I see where this is in the code, it will break the nice feature of being able to do heroku pg:info red as a shorthand for heroku pg:info HEROKU_POSTGRESL_RED\nInstead, the patch should only preserve case for db_ids that start with postgres://\n. It does not, this test case fails\nit 'works when asked for just lowercase color' do\n  r = Resolver.new('periwinkle', config)\n  r.url.should == 'postgres://dedicated'\n  r.message.should_not be\nend\nI'm going to just go in and fix it now\n. The issue I had wasn't removing the wrong addon, but doing it on the wrong app.\n```\n./bin/heroku addons:remove HEROKU_POSTGRESQL_CRIMSON --app pgdemo\n !    WARNING: Potentially Destructive Action\n !     This command will affect the app: pgdemo\n !    To proceed, type \"pgdemo\" or re-run this command with --confirm pgdemo\n\nholy shit no  \n !    Input did not match pgdemo. Aborted.\n```\n. For what it's wroth, pipes work with pg:psql\n. @geemus  ok https://github.com/heroku/api-docs/commit/1eea793ac9e8751c55377e88ed98f4687cc568c2\n. > I just read your post on SO http://stackoverflow.com/questions/25870388/heroku-pgpull-failing-to-populate-schema. Surely there are other people on Windows who have successfully uploaded a database to Heroku. How are they doing it? Clearly I can't stay on Heroku if I can't use my database.\n\nYes, you can upload a database, you just can't use the heroku command to do it.\n\n$ pg_restore -d baillee > HEROKU_POSTGRESQL_MAGENTA just sits there and blinks at me.\nPlease advise. Thanks.\n\nyou need to look at the full url with heroku config of the database and first use pg_dump to take a dump of your local database, and then PG_PASSWORD=<PASSWORD> pg_restore --verbose --clean --no-acl --no-owner -h <HOST> -U <USER> -d <DB> -p <PORT> <DUMPFILE> if you want to restore a local dump to heroku\n. postgres urls used to go through the resolver untouched, it's odd that they're upcased now. I assume this is related to all the changes post 2.26?\n. dupe of https://github.com/heroku/heroku/issues/370\n. It depends on the change to heroku-api, but other than that I think it's okay. No remaining questions. \nIt can wait until you're ready, not extremely urgent.\n. Is it difficult to do a pre release? It'd be nice to force some of my teammates to use it this week to see if there was anything I slipped. I tried to get them to just do bundle exec ./bin/heroku but they have to think about it.\n. ping?\n. oh no I didn't notice you reverted the other stuff. This is dependent on\nthe other commits\nOn Wed, Sep 12, 2012 at 9:20 AM, Wesley Beary notifications@github.comwrote:\n\n@will https://github.com/will - looks like travis is a false failure\n(there is an intermittent FakeFS related failure I haven't managed to track\ndown). I think it should be ok, but to double check, this should be\nmergeable even though I reverted the other v11 stuff, right?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/pull/561#issuecomment-8500247.\n. Were there dev issues other than you can't use it on a newly provisioned\none right away? I opened an issue on core with that with @ped and @hgmnz\n\nOn Wed, Sep 12, 2012 at 9:25 AM, Wesley Beary notifications@github.comwrote:\n\n@will https://github.com/will yeah, sorry. I think I had mentioned to\nyou I was thinking about reverting. Given the number of failures I was\nseeing around dev stuff I didn't feel comfortable releasing it (and wanted\nmaster to be releasable). Is there some place I should go to report the dev\nissues I was seeing so that it can get sorted out?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/pull/561#issuecomment-8500428.\n. what app is this? @alfredo \n. yeah probably. There'd be a different error telling you to specify a database directly since it couldn't figure out a sensible default, due to the config vars and/or attachements not being on the normal case. probably DATABASE_URL not matching or not being present. At least it wont be a stack trace\n. this will probably fix #586 but I can't tell without knowing the app name\n. Sure, but I've absolutely never ran heroku logs without tail\n. Would you accept it if it checked for STDOUT.is_tty?\n. The second change looks good. The first change just appears to be an unused string though\n. It's coming from https://github.com/heroku/heroku.rb/blob/master/lib/heroku/api/mock.rb#L56\n. This needs to get merged\n. The dependency in heroku-api seems to have been fixed and was actually causing spec failures, which this fixed.\n\nit has been merged.\n. I don't get that error, what causes it?\n. Yeah this looks like it was just a transient networking issue. \nIn other news, db:push and db:pull will soon be replaced with pg:push and pg:pull. Check out https://github.com/heroku/heroku-pg-extras/issues/42 if you want a preview \n. db:push and db:pull will soon be replaced with pg:push and pg:pull. Please check out https://github.com/heroku/heroku-pg-extras/issues/42 and give feedback. Since the db:* versions will be removed, I'm going to close out this ticket, since db:* won't be fixed\u2026 just killed.\n. this is underway https://github.com/heroku/heroku-pg-extras/issues/42 No need to be tracked in this ticket\n. db:push and db:pull are not long for this world. Check out https://github.com/heroku/heroku-pg-extras/issues/42 for a preview of what will soon be the replacement. Going to close this out, which might be a bit premature, but db:push and :pull are not going to be fixed, only replaced.\n. cc @heroku/department-of-data \n. The actual transfer would be still going, but each time the spinner ticks, it does http request to pgbackpus. The longer you're waiting, the more requests, and the greater a chance that something goes wrong I suppose. \nI suppose the solution would be to rescue this error, ignore it, and just keep polling.\n. #e552f50 looks good to me\n. Why not use #display_name ?\n. I don't actually have an opinion on if this is a good or bad change, but no code objections anymore.\n. it would show \"HEROKU_POSTGRESQL_RED_URL (DATABASE_URL)\"\nOn Wed, Nov 6, 2013 at 10:10 PM, Greg Burek notifications@github.comwrote:\n\nWould this display DATABASE_URL or HEROKU_POSTGRES_COLOR when invoked with\nno db target?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/pull/940#issuecomment-27918910\n.\n. /cc @heroku/department-of-data \n. @pedro i think this is good to go, along with https://github.com/heroku/heroku/pull/980\n. ok done. \n\nyou had merged a similar but different fix for one of these. my rebasing fixed it my way instead of theirs, but the result is the same\n. cc @heroku/department-of-data\n. That's the main part, but this entire commit https://github.com/will/heroku/commit/cafeba2ca933840f7d3789dcbc50d672db6b2cbf\n. Please also see https://github.com/heroku/heroku-pg-extras/pull/89\n. @pedro can you please make a note here when a version of the CLI ships with this? I don't want to remove it from pg-extras until it's out in the toolbelt\n. @pedro we're looking to do a blog post soonish\n. i have edited the description to strike out the part that is no longer true\n. @mattsoldo @heroku/department-of-data both these two commands?\n. @technomancy hey could you do a CLI release for us friendly @heroku/department-of-data folks?\n. It's two new commands, so +minor seems semvery\n. thanks in advance\n. thanks afterwards\nI don't have the toolbelt but gem install worked \nLast login: Mon Jul 21 15:36:26 on ttys001\n~ \u27a4 heroku pg:upgrade\n !    `pg:upgrade` is not a heroku command.\n !    Perhaps you meant `apps:upgrade` or `upgrade`.\n !    See `heroku help` for a list of available commands.\n~ \u27a4 gem install heroku\nzsh: correct 'heroku' to '.heroku' [nyae]? n\nWARN: Unresolved specs during Gem::Specification.reset:\n      rake (>= 0.8.1)\nWARN: Clearing out unresolved specs.\nPlease report a bug if this causes problems.\nFetching: excon-0.38.0.gem (100%)\nSuccessfully installed excon-0.38.0\nFetching: heroku-api-0.3.19.gem (100%)\nSuccessfully installed heroku-api-0.3.19\nFetching: heroku-3.9.2.gem (100%)\n !    The `heroku` gem has been deprecated and replaced with the Heroku Toolbelt.\n !    Download and install from: https://toolbelt.heroku.com\n !    For API access, see: https://github.com/heroku/heroku.rb\nSuccessfully installed heroku-3.9.2\n3 gems installed\n~ \u27a4 heroku pg:upgrade\n !    Usage: heroku pg:upgrade REPLICA\n !    Must specify REPLICA to upgrade.\n~ \u27a4\nI'll try to find someone with os x and the toolbelt\n. On @hgmnz it says 'nothing to update' and he's on 3.9.1\n. cc @heroku/security \n. it doesn't fail, it just hangs forever and ever\n. This isn't just sudo, it's any 2fa prompt\n. For example my example isn't sudo\n. Thanks, but it's your project. Please do feel free to run it how you'd like. \n. This goes with https://github.com/heroku/heroku-pg-extras/pull/96\n. Thanks\n. @deafbybeheading I got @fdr to linux it, thanks though.\n. @brandur I have no strong opinions to keep it in or take it out. \n. @joshk should I just add sudo: false to all my travis.yml files? What does it do?\n. This is live in 3.28.6. Thanks @dickeyxxx \n```\n~ \u27a4 h pg:psql -a will maroon\n---> Connecting to HEROKU_POSTGRESQL_MAROON_URL\npsql (9.4.1, server 9.1.11)\nSSL connection (protocol: TLSv1, cipher: DHE-RSA-AES256-SHA, bits: 256, compression: on)\nType \"help\" for help.\ndeik3qfhu265n6=> select application_name from pg_stat_activity;\n   application_name\n\npsql will interactive\n(2 rows)\nTime: 169.316 ms\ndeik3qfhu265n6=> \\q\n``\n. +1 from me, then -99 to combat @jmccartie's rampant + inflation\n. Could also move the text to stderr\n. cc @uhoh-itsmaciek @heroku/department-of-data @chadbailey59 \n. Yeah, the method is defined in pg-extras, and there is a high intersection with people who manage their own maintenance windows, and have that plugin installed. Took this long to get a customer who didn't have both.\n. @dickeyxxx Yeah, the method that I was using was taken away, and now the only option is at the entry of that command. Maybe we can add a proper hook something likeexpand_addon_shorthand if defined?(expand_addon_shorthand)`?\n. https://github.com/heroku/heroku-pg-extras/commit/cafea80b7a739e8c7083f5be12fec434dc7824e0\n. This patch broke pg:diagnose\n```\nheroku \u27a4 git bisect run bin/heroku pg:diagnose IVORY -a customerapp\nrunning bin/heroku pg:diagnose IVORY -a customerapp\n !    Unknown database. Valid options are: HEROKU_POSTGRESQL_IVORY_URL, HEROKU_POSTGRESQL_PINK_URL\nBisecting: 49 revisions left to test after this (roughly 6 steps)\n[0312712ec2940dd32a104bbe5124aac56b08d9f2] Merge pull request #1691 from heroku/space-apps-unjoined\nrunning bin/heroku pg:diagnose IVORY -a customerapp\n !    Unknown database. Valid options are: HEROKU_POSTGRESQL_IVORY_URL, HEROKU_POSTGRESQL_PINK_URL\nBisecting: 24 revisions left to test after this (roughly 5 steps)\n[d0d9f7b4ab46aa5bfe5c1852ccacb5cb8fe98745] v3.40.8\nrunning bin/heroku pg:diagnose IVORY -a customerapp\n !    Unknown database. Valid options are: HEROKU_POSTGRESQL_IVORY_URL, HEROKU_POSTGRESQL_PINK_URL\nBisecting: 12 revisions left to test after this (roughly 4 steps)\n[a1ddda6b6aedae58913af0a280ce5e3b4926e794] Update RELEASE.md\nrunning bin/heroku pg:diagnose IVORY -a customerapp\n !    Unknown database. Valid options are: HEROKU_POSTGRESQL_IVORY_URL, HEROKU_POSTGRESQL_PINK_URL\nBisecting: 5 revisions left to test after this (roughly 3 steps)\n[fbae53fb3c3c371d952f371585d4da0b0e4eac17] v3.40.7.pre\nrunning bin/heroku pg:diagnose IVORY -a customerapp\n !    Unknown database. Valid options are: HEROKU_POSTGRESQL_IVORY_URL, HEROKU_POSTGRESQL_PINK_URL\nBisecting: 3 revisions left to test after this (roughly 2 steps)\n[b13a751b89ac123970b87d8d266bebb7c76ccfed] Merge pull request #1673 from heroku/fix-account-verification\nrunning bin/heroku pg:diagnose IVORY -a customerapp\nReport for customerapp::HEROKU_POSTGRESQL_IVORY_URL\navailable for one month after creation on 2015-10-13 20:32:16.63562+00\nRED: Hit Rate\nName                    Ratio\n\noverall index hit rate  0.8423341115274596\noverall cache hit rate  0.8939453088883605\nYELLOW: Indexes\nReason                  Index                                                       Index Scan Pct  Scans Per Write  Index Size  Table Size\n\nNever Used Indexes      public.tablename::somesortof_index                          0.00            0.00             118 MB      1493 MB\nYELLOW: Load\n  Load 1.195\nGREEN: Connection Count\nGREEN: Long Queries\nGREEN: Idle in Transaction\nGREEN: Bloat\nGREEN: Blocking Queries\nBisecting: 1 revision left to test after this (roughly 1 step)\n[c08f2ed40e109ac64efa9319e8f02c47daff4d7d] Merge pull request #1670 from fdr/pgsql-ssh\nrunning bin/heroku pg:diagnose IVORY -a customerapp\n !    Unknown database. Valid options are: HEROKU_POSTGRESQL_IVORY_URL, HEROKU_POSTGRESQL_PINK_URL\nBisecting: 0 revisions left to test after this (roughly 0 steps)\n[194cfd5245c1e9ce60dde111d09d0a22676cc042] Implement automatic SSH tunneling for HPG\nrunning bin/heroku pg:diagnose IVORY -a customerapp\n !    Unknown database. Valid options are: HEROKU_POSTGRESQL_IVORY_URL, HEROKU_POSTGRESQL_PINK_URL\n194cfd5245c1e9ce60dde111d09d0a22676cc042 is the first bad commit\ncommit 194cfd5245c1e9ce60dde111d09d0a22676cc042\nAuthor: Daniel Farina daniel@heroku.com\nDate:   Mon Jul 27 21:48:41 2015 -0700\nImplement automatic SSH tunneling for HPG\n\nWhen Bastion config vars are present, use them to open a tunnel to\nrewrite the URI of the database to the tunnel.\n\nDo this for `pg:psql`, commands like `pg:kill` (which are similar\nnon-interactive variants), and `pg:push` and `pg:pull`.  Because the\ntunneling requires a process to stay alive, switch from \"exec\"ing psql\nto \"spawn\"ing it as a subprocess, but *only* in the case where\ntunneling is required as a hedge against change regular users using\nun-tunneled psql.\n\nExample use of pg:psql, on an app that has the bastion-requiring\ndatabase \"DATABASE\" and the regular database \"COPPER\":\n\n    $ heroku config\n    DATABASE_BASTIONS:             @ref:blooming-slyly-8913:bastions\n    DATABASE_BASTION_KEY:          @ref:blooming-slyly-8913:bastion-key\n    DATABASE_BASTION_REKEYS_AFTER: @ref:blooming-slyly-8913:bastion-rekeys-after\n    DATABASE_URL:                  @ref:blooming-slyly-8913:url\n    HEROKU_POSTGRESQL_COPPER_URL:  @ref:reading-surely-4913:url\n\n    $ heroku pg:psql -c \"select 'hello world'\"\n    ---> Connecting to DATABASE_URL\n      ?column?\n    -------------\n     hello world\n    (1 row)\n\n    $ heroku pg:psql COPPER -c \"select 'hello world'\"\n    ---> Connecting to HEROKU_POSTGRESQL_COPPER_URL\n      ?column?\n    -------------\n     hello world\n    (1 row)\n\nBecause of the patch to `#exec_sql`, one-shot commands like `pg:kill`,\n`pg:outliers`, etc work too:\n\n    $ heroku pg:kill 1234\n    WARNING:  PID 1234 is not a PostgreSQL server process\n     pg_cancel_backend\n    -------------------\n     f\n    (1 row)\n\n    $ heroku pg:table-size\n     name | size\n    ------+------\n    (0 rows)\n\nFinally, pg:push and pg:pull work (as apparent to the user) exactly\nthe same as before:\n\n    $ heroku pg:pull DATABASE test\n    pg_dump: reading schemas\n    pg_dump: reading user-defined tables\n    pg_dump: reading extensions\n    [...]\n\n    $ heroku pg:push test DATABASE\n    [...]\n\n:100644 100644 4e70129e8746608f5aaac92cc84546e2079bd0e7 56f868e31f33c6453c789932747a6146ba3d687a M  Gemfile.lock\n:100644 100644 c5a258f6a3b1f373b5985260cd78bdf3c6d7e593 38bfbb02504965dc0f57ae9700fef20ca8cdab4b M  heroku.gemspec\n:040000 040000 5d381427d8d5f3c6d9a506b684a38ee87f2c1e72 e87c0ee36ebaaffdee58c4c871ca8b9b70da4002 M  lib\n:040000 040000 59b6c11a9a1e5c92e19765862c0181372baa4c57 8acc1987582e943dd84fc54bc17c678bb70efdd0 M  spec\nbisect run success\n```\n. Every case. The version check relied on  \ndef find_uri\n  return @uri if defined? @uri\nso it didn't resolve twice.\n. Yes, it's fixed now. I mentioned you in the PR that fixed it\n. That looks to be the only use of @uri so everything else is probably fine\n. Would you suggest removing the connection information string from pg:info?\nOn Jan 24, 2012, at 8:20 AM, Wesley Beary\nreply@reply.github.com\nwrote:\n\n\n\ncase db[:name]\nwhen 'SHARED_DATABASE'\nreturn\nwhen /\\A#{Resolver.shared_addon_prefix}\\w+/\nreturn\nelse\nwait_for db\nend\nend\nend\n  +\n\npg:reset_password [DATABASE]\n\n\n\n\n\nReset the credentials on DATABASE\n\n\n\n\ndef reset_password\n\n\nSo, here is a possible solution/suggestion based on discussions I had with @ddollar. (something to this effect anyway, open to a bit of further discussion as this is a departure from previous suggestions).\nFirst step is (I think anyway) to nuke pg:ingress since you mentioned doing so anyway.  Then we replace/add pg:credentials which will give you the needed info for connecting (similar to ingress, but hopefully a bit clearer in purpose).  We can then fold in the logic we are having a hard time putting a single word name to, with something like pg:credentials --reset.  That seems clear in purpose, avoids an underscore in the name and keeps the namespace relatively non-cluttered.  Thoughts?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/pull/215/files#r380133\n. The spot that made that error was impossible to jump to, but both places\ncould be extracted to a method. Would that be better?\n\nOn Thu, Jan 9, 2014 at 4:45 AM, Clint notifications@github.com wrote:\n\nIn lib/heroku/helpers/heroku_postgresql.rb:\n\n@@ -80,11 +80,20 @@ def hpg_addon_name\nprivate\n-    def protect_missing_app\n-      # in the case where --app was left out, AND app::db shorthand was not used, AND no app autodetect\n-      unless app_name\n-        error(\"No app specified.\\nRun this command from an app folder or specify which app to use with --app APP.\")\n\nWe have this same error message in two places now, was this unavoidable?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/pull/979/files#r8754903\n.\n. I haven't tried yet\n\nOn Mon, Jan 13, 2014 at 1:47 PM, Clint notifications@github.com wrote:\n\nIn lib/heroku/helpers/heroku_postgresql.rb:\n\n@@ -80,11 +80,20 @@ def hpg_addon_name\nprivate\n-    def protect_missing_app\n-      # in the case where --app was left out, AND app::db shorthand was not used, AND no app autodetect\n-      unless app_name\n-        error(\"No app specified.\\nRun this command from an app folder or specify which app to use with --app APP.\")\n\nI came to that same conclusion; when I tried it was a pain to do so. I was\nwondering if you ran into the same issue. I don't know it's worth\nextracting, just curious.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/pull/979/files#r8841884\n.\n. \n",
    "cairosubway": "gem install heroku and then bundle install worked for me thank you @geemus \n. ",
    "evanleonard": "I'm getting this error too. Here's my taps and heroku version info:\n```\n\nheroku version\nheroku-toolbelt/2.39.2 (x86_64-darwin10.8.0) ruby/1.9.3\ntaps version\n0.3.24\n```\n. \n",
    "borisrorsvort": "For me installing the toolbelt and sqlite3 via homebrew fixed the issue. ruby 1.9.2\n. ",
    "jcarlson": "I too am getting this error, and here's how I worked around it (on Mac OS X 10.8) with rbenv as my Ruby manager\nFire up your favorite editor and open /usr/local/heroku/bin/heroku. There on line one, you'll see that the script is set to use a bundled version of Ruby:\n#!/usr/local/heroku/ruby/bin/ruby\nI can't explain why Heroku bundles a Ruby version with the toolbelt, but I can tell you that's why changing Ruby versions with rbenv has no effect on this problem.\nSince I use Ruby 1.9.3 for pretty much all of my projects anyway, I went ahead and edited that like at the top of the heroku script to read:\n#!/usr/bin/env ruby\nThat uses the equivalent of which ruby to determine which ruby to use to run this script. Saved off the file and bam! worked like a charm.\n. ",
    "hwrod": "I can confirm @jcarlson 's work-around on OS X 10.8.4.\n. ",
    "tbuehlmann": "Sure. :)\n. ",
    "mmb": "My use case is to set the Heroku app url in my app's config before deployment.\nI'll work on it and send a pull request.\n. Made changes and resubmitted as pull request #84.\n. ",
    "alainravet": "Here is what I get :\ngemruby-1.9.2-p136 [~/dev/_p/arrrrug(master) ]gem update heroku\n/Users/aravet/.rvm/rubies/ruby-1.9.2-p136/bin/gem:4: warning: Insecure world writable dir /usr/local/bin in PATH, mode 040777\nUpdating installed gems\nUpdating heroku\nBuilding native extensions.  This could take a while...\nSuccessfully installed json-1.5.1\nSuccessfully installed heroku-1.18.0\nGems updated: json, heroku\nInstalling ri documentation for json-1.5.1...\nInstalling ri documentation for heroku-1.18.0...\nInstalling RDoc documentation for json-1.5.1...\nInstalling RDoc documentation for heroku-1.18.0...\nruby-1.9.2-p136 [~/dev/_p/arrrrug(master) ]heroku console --app XXXXXXX\n/Users/aravet/.rvm/gems/ruby-1.9.2-p136/gems/bundler-1.0.10/lib/bundler.rb:207: warning: Insecure world writable dir /usr/local/bin in PATH, mode 040777\n/Users/aravet/.rvm/gems/ruby-1.9.2-p136/gems/bundler-1.0.10/lib/bundler/runtime.rb:31:in block in setup': You have already activated json 1.5.1, but your Gemfile requires json 1.4.6. Consider using bundle exec. (Gem::LoadError)\n        from /Users/aravet/.rvm/gems/ruby-1.9.2-p136/gems/bundler-1.0.10/lib/bundler/spec_set.rb:12:inblock in each'\n        from /Users/aravet/.rvm/gems/ruby-1.9.2-p136/gems/bundler-1.0.10/lib/bundler/spec_set.rb:12:in each'\n        from /Users/aravet/.rvm/gems/ruby-1.9.2-p136/gems/bundler-1.0.10/lib/bundler/spec_set.rb:12:ineach'\n        from /Users/aravet/.rvm/gems/ruby-1.9.2-p136/gems/bundler-1.0.10/lib/bundler/runtime.rb:17:in setup'\n        from /Users/aravet/.rvm/gems/ruby-1.9.2-p136/gems/bundler-1.0.10/lib/bundler.rb:107:insetup'\n        from /users/aravet/dev/_p/arrrrug/config/boot.rb:8:in <top (required)>'\n        from <internal:lib/rubygems/custom_require>:29:inrequire'\n        from internal:lib/rubygems/custom_require:29:in require'\n        from /users/aravet/dev/_p/arrrrug/config/application.rb:1:in'\n        from internal:lib/rubygems/custom_require:29:in require'\n        from <internal:lib/rubygems/custom_require>:29:inrequire'\n        from /users/aravet/dev/_p/arrrrug/config/environment.rb:2:in <top (required)>'\n        from <internal:lib/rubygems/custom_require>:29:inrequire'\n        from internal:lib/rubygems/custom_require:29:in require'\n        from /users/aravet/dev/_p/arrrrug/config.ru:3:in'\n        from /Users/aravet/.heroku/plugins/heroku_tab_complete_console/lib/console_environment.rb:25:in load'\n        from /Users/aravet/.heroku/plugins/heroku_tab_complete_console/lib/console_environment.rb:25:increate_binding'\n        from /Users/aravet/.heroku/plugins/heroku_tab_complete_console/lib/heroku_tab_complete_console.rb:37:in setup_tab_complete'\n        from /Users/aravet/.heroku/plugins/heroku_tab_complete_console/lib/heroku_tab_complete_console.rb:23:inconsole_session_with_tab_complete'\n        from /Users/aravet/.rvm/gems/ruby-1.9.2-p136/gems/heroku-1.18.0/lib/heroku/commands/app.rb:156:in console'\n        from /Users/aravet/.heroku/plugins/heroku_colorize_console/lib/heroku_colorize_console.rb:37:inconsole_with_colorize'\n        from /Users/aravet/.rvm/gems/ruby-1.9.2-p136/gems/heroku-1.18.0/lib/heroku/command.rb:48:in run_internal'\n        from /Users/aravet/.rvm/gems/ruby-1.9.2-p136/gems/heroku-1.18.0/lib/heroku/command.rb:20:inrun'\n        from /Users/aravet/.rvm/gems/ruby-1.9.2-p136/gems/heroku-1.18.0/bin/heroku:13:in <top (required)>'\n        from /Users/aravet/.rvm/gems/ruby-1.9.2-p136/bin/heroku:19:inload'\n        from /Users/aravet/.rvm/gems/ruby-1.9.2-p136/bin/heroku:19:in `'\nruby-1.9.2-p136 [~/dev/_p/arrrrug(master) ]\n. Yes, you're right: uninstalling 'heroku_tab_complete_console' solved the problem.\n. ",
    "ashok-v": "I am able to install the json gem v1.5.1 and when i run that code it throws the same error.\n. Ok that seems to fixed it . No error message. \n. ",
    "Chris927": "Nothing else printed when the error occurs.\n$ gem --version\n1.5.2\nI'm using bundler, and there I say\ngem 'json'\nI think I ran\nbundle\nonly after installing the heroku gem. (But that may be wrong.) Not sure if it makes a difference, anyway.\n. ```\n$ gem list --local json\n LOCAL GEMS \njson (1.4.6)\njson_pure (1.5.1)\n```\nI'll be upgrading Rubygems a bit later.\n. Rubygems 1.6.0 doesn't really make a difference:\n$ gem --version\n1.6.0\n$ gem install heroku\nFetching: json-1.5.1.gem (100%)\nFetching: heroku-1.18.0.gem (100%)\nERROR:  Error installing heroku:\n    heroku requires json (~> 1.5.1)\n. ```\n$ gem install json\nSuccessfully installed json_pure-1.5.1\n1 gem installed\nInstalling ri documentation for json_pure-1.5.1...\nInstalling RDoc documentation for json_pure-1.5.1...\n$ gem list --local json\n LOCAL GEMS \njson_pure (1.5.1)\n```\nThen still:\n$ gem install heroku\nFetching: heroku-1.18.1.gem (100%)\nERROR:  Error installing heroku:\n    heroku requires json (~> 1.5.1)\n. I have no idea why that is... I'm on OSX 10.6.6.\nI know too little about how Rubygems resolves dependencies, is there maybe a renaming feature? Or can you say somewhere (as a gem) my name is \"json_pure\" and I actually implement everything \"json\" promises? Apologies if this is complete nonsense :)\n. Works for me, too. Thanks!\n. ",
    "parndt": "I have this exact issue too, I've never been able to install \"json\" on my system, it always installs \"json_pure\" instead. The only way I've ever got it to run is a lengthy \"clone + create my own gem\" process; I thought I was alone in this!\n. Works for me with the --pre gems!\n. ",
    "dylanegan": "What if I just force it to only run on JRuby? Also that pun is completely intended.\n. I was considering 2.4.8 or 248000000.0.0 as I think that's the total value, but I wasn't sure and 212000000 just seems better.\n. ",
    "bmizerany": "+1 on the version number bump.\n. I propose a command to list the plans; not prompt the user on add which isn't great CLI design or very unix.\n. ",
    "canfield": "must be a version problem works with ruby-1.8.7-p334 rather than ruby-1.9.2-p180.\n. ",
    "justincampbell": "It seems to be working great now. Thanks!\n. PS for those interested in the Gemfile syntax:\n      gem 'heroku', '1.20.0.pre1'\n. ",
    "denis": "Thank you, David.\n. ",
    "minn": "Hi.\nNow we try to pack ver. 1.20.1\n. Hi.\nMay you inform, when will be possible use \"launchy\", \">= 0.3.x\" & \">= 0.4.x\".\nThanks.\n. On Wed, 2011-04-27 at 15:42 -0700, ddollar wrote:\n\nheroku gem version 2.0.2 relaxes this dependency\nCheers,\nDavid\n\nThanks a lot from Fedora community.\nRegards.\n. ",
    "mheffner": "Looks like the original logging error was due to this outage: http://status.heroku.com/incident/150\n. ",
    "jeremyw": "Submitted a pull request.\n. ",
    "MissingHandle": "excellent, thanks!\n. ",
    "stylpe": "Having the same issue on the same platform. Just for reference's sake, here's my full trace:\nD:\\Documents\\Fotokort\\app>heroku\nD:/Rubies/Ruby192/lib/ruby/gems/1.9.1/gems/heroku-2.0.2/lib/heroku/command/base.rb:83:in `read': No such file or directory - D (Errno::ENOENT)\n    from D:/Rubies/Ruby192/lib/ruby/gems/1.9.1/gems/heroku-2.0.2/lib/heroku/command/base.rb:83:in `extract_help'\n    from D:/Rubies/Ruby192/lib/ruby/gems/1.9.1/gems/heroku-2.0.2/lib/heroku/command/base.rb:51:in `method_added'\n    from D:/Rubies/Ruby192/lib/ruby/gems/1.9.1/gems/heroku-2.0.2/lib/heroku/command/addons.rb:14:in `<class:Addons>'\n    from D:/Rubies/Ruby192/lib/ruby/gems/1.9.1/gems/heroku-2.0.2/lib/heroku/command/addons.rb:8:in `<module:Command>'\n    from D:/Rubies/Ruby192/lib/ruby/gems/1.9.1/gems/heroku-2.0.2/lib/heroku/command/addons.rb:4:in `<top (required)>'\n    from D:/Rubies/Ruby192/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:54:in `require'\n    from D:/Rubies/Ruby192/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:54:in `require'\n    from D:/Rubies/Ruby192/lib/ruby/gems/1.9.1/gems/heroku-2.0.2/lib/heroku/command.rb:17:in `block in load'\n    from D:/Rubies/Ruby192/lib/ruby/gems/1.9.1/gems/heroku-2.0.2/lib/heroku/command.rb:16:in `each'\n    from D:/Rubies/Ruby192/lib/ruby/gems/1.9.1/gems/heroku-2.0.2/lib/heroku/command.rb:16:in `load'\n    from D:/Rubies/Ruby192/lib/ruby/gems/1.9.1/gems/heroku-2.0.2/bin/heroku:13:in `<top (required)>'\n    from D:/Rubies/Ruby192/bin/heroku:19:in `load'\n    from D:/Rubies/Ruby192/bin/heroku:19:in `<main>'\nVery similar to the previous issue I posted, maybe related?\n. ",
    "abhijitsharma": "I needed to comment out win32console! from Gemfile\n. ",
    "vandersonmota": "Nevermind. I was using require 'heroku/command' in version 1.20, but when i updated the Pgbackups class was not available anymore. Thanks anyway!\n. ",
    "jbescoyez": "First update your Gemfile with:\ngem 'heroku', '2.1.4'\nThen, in heroku console: \n\n\nHeroku::Client.version\n=> \"2.1.4\"\nrequire \"heroku/command\"\n=> 'true'\nHeroku::Command.load\n=> []\nHeroku::Auth.credentials = [HEROKU_USERNAME, HEROKU_PASSWORD]\n=> [HEROKU_USERNAME, HEROKU_PASSWORD]\nHeroku::Command::Pgbackups.new([], {:app => APP_NAME, :expire => true}).capture\n\n\nI hope it will help.\n. ",
    "herestomwiththeweather": "i guess the blog post is the problem. \"heroku create bamboo\" creates 1.8.7 bamboo stack.\n. ",
    "mitijain123": "@herestomwiththeweather by default heroku create will use ruby 1.9.2 and if i want to use MRI 1.8.7, then it is not possible now? stack is only for ree-187 and not for mri-187.. I think heroku should also include mri-187 \n. ",
    "carlosdavis": "I am experiencing this same issue. \nflah00, are you still able to pull down backups in any way? I was never able to (and still cannot) copy and paste the pgbackups URL without getting an \u201cAccess Denied\u201d message. I was previously always able to run successfully the following: curl -o whatever.dump heroku pgbackups:url\nNow, with the spurious quotation marks, I am unable to run that command and cannot download a pgbackups dump at all. \n. Oh, okay, I've got it. The heroku pgbackups documentation shows a backtick around the heroku pgbackups:url command when describing how to use curl to get the backup:\ncurl -o latest.dump `heroku pgbackups:url`\nWhen copying and pasting the URL, as outputted from a single heroku pgbackups:url command, the URL should be wrapped in single-quotes, not backticks. Got it. \n. ",
    "dzsodzso63": "I use the function as I put an environment variable as \"name_or_domain\" parameter (like 'ENV[\"example.com\"]').\nBut in heroku if you forget to set this variable (i.e.: you create a new repository), you won't know that this environment variable is missing, because you won't get an error message like \"name_or_domain can't be nil\" or something like this.\n. ",
    "cdarne": "With v2.21.1 I get a OpenSSL::SSL::SSLError on logs read. I'm falling back to v2.20.1 :(\n. @geemus, I'll try the ENV option. Here's the stack trace when I perform a 'hreoku logs -t':\n/home/cdarne/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/net/http.rb:678:in `connect': SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed (OpenSSL::SSL::SSLError)\n        from /home/cdarne/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/net/http.rb:678:in `block in connect'\n        from /home/cdarne/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/timeout.rb:44:in `timeout'\n        from /home/cdarne/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/timeout.rb:89:in `timeout'\n        from /home/cdarne/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/net/http.rb:678:in `connect'\n        from /home/cdarne/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/net/http.rb:637:in `do_start'\n        from /home/cdarne/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/net/http.rb:626:in `start'\n        from /home/cdarne/.rvm/gems/ruby-1.9.2-p290@bhost/gems/heroku-2.21.1/lib/heroku/client.rb:409:in `read_logs'\n        from /home/cdarne/.rvm/gems/ruby-1.9.2-p290@bhost/gems/heroku-2.21.1/lib/heroku/command/logs.rb:31:in `index'\n        from /home/cdarne/.rvm/gems/ruby-1.9.2-p290@bhost/gems/heroku-2.21.1/lib/heroku/command.rb:135:in `run'\n        from /home/cdarne/.rvm/gems/ruby-1.9.2-p290@bhost/gems/heroku-2.21.1/lib/heroku/cli.rb:9:in `start'\n        from /home/cdarne/.rvm/gems/ruby-1.9.2-p290@bhost/gems/heroku-2.21.1/bin/heroku:21:in `<top (required)>'\n        from /home/cdarne/.rvm/gems/ruby-1.9.2-p290@bhost/bin/heroku:19:in `load'\n        from /home/cdarne/.rvm/gems/ruby-1.9.2-p290@bhost/bin/heroku:19:in `<main>'\n```\u00a0\nNote that I'm running an arch linux box. I can perform other commands (console, pg:info) without this issue.\n. ",
    "csquared": "Note on the options parsing:\nBecause we're allowing unix-style switches and the previous syntax, it is possible to enter something like:\n--foo bar=baz \nthis will parse as \"foo\" => \"bar=baz\" instead of \"foo\" => \"true\" and \"bar\" => \"baz\" because the unix\nswitch takes precedence and reads the whole next param in the way I have it coded.\nhowever,\nbar=baz --foo\nwould get interpreted as  \"foo\" => \"true\" and \"bar\" => \"baz\" \nI don't think this is a problem so much as wanting to make edge case behavior explicit and give you a chance to comment.  For more examples of different options, plz check out the specs.\n. Creating new pull request -- closing this one.\n. pushed\n. nm was just confused by: https://github.com/heroku/heroku-api\n. ",
    "visnup": "whoo hoo!\n. ",
    "BDQ": "I'm seeing the same issue for Cedar apps too.\n. Actually, .ps_restart  \"app_name\" works for me on Cedar.\n. ",
    "ladlynn": "Found the issue.\nhttp://stackoverflow.com/questions/4492750/problem-with-deploying-rails-app-to-heroku-while-running-heroku-create-command\n. ",
    "fawzisal": "It works, thank you!!!\n. ",
    "jcf": "I've seen the same thing on a Rails 3.1 app.\nheroku run console\nRunning console attached to terminal... up, run.5\nsh: console: not found\n\u2026and in case it's relevant we haven't overridden our console command using a Procfile.\n. I pushed to my remote heroku branch and the problem went away. Looks like I thought the application had been deployed, but it hadn't.\nApologies.\n. :+1:\n. ",
    "HunterHillegas": "I'm seeing this same issue on MacOS X Lion, 10.7.2\nheroku run console\nRunning console attached to terminal... up, run.4\nsh: console: command not found\n. Rails 3.0 app.\n. ",
    "steveklabnik": "I also had this issue recently, so I'm leaving a note for future Googlers: I have some Cedar apps and some Bamboo apps. Typing 'heroku run console' in a Bamboo app gives me this error. Just 'heroku console' instead.\n. ",
    "durrantm": "I'm also getting this with Ubuntu 11.10, rails 3.1, 5/20/2012\n. ",
    "pboling": "I just ran into this error:\n```\n% git push heroku master\nCounting objects: 98, done.\nDelta compression using up to 2 threads.\nCompressing objects: 100% (75/75), done.\nWriting objects: 100% (81/81), 8.90 KiB, done.\nTotal 81 (delta 53), reused 0 (delta 0)\n-----> Heroku receiving push\n-----> Ruby/Rails app detected\nsh: logger: not found\nsh: logger: not found\nsh: logger: not found\nsh: curl: not found\nsh: logger: not found\n/usr/local/lib/ruby/1.9.1/syck.rb:145:in initialize': No such file or directory - ruby_versions.yml (Errno::ENOENT)\n    from /usr/local/lib/ruby/1.9.1/syck.rb:145:inopen'\n    from /usr/local/lib/ruby/1.9.1/syck.rb:145:in `load_file'\n```\nNot sure what to do other than try again...\nEdit: Fixed the immediate problem:\nheroku labs:disable user-env-compile --app app-name\nHowever I actually need that turned on, so I can precompile my assets and push them to AWS.  So after deploying with it disabled, then I can turn it back on and re-deploy... I hope.\nEdit2: My problem was a typo in my PATH.  Fixed that and now I'm good.  Lesson: if you load your user env it needs to be a proper user env.\n. ",
    "alexdowad": "I got an empty array. For some reason (and I don't know if this is only on certain versions of Ruby), Dir[] doesn't find anything for paths with backslashes. I could have sworn that it worked for both back and forward slashes.\n. ",
    "wuputah": "Sure - this addresses the first use case (showing for what command an alias is for), but this doesn't address the reverse case - if I do heroku help ps:scale, is it not a good idea to tell them they can do heroku scale instead? I don't feel like these aliases are necessarily deprecated, but are intended as shortcuts for common commands.\nThanks for the feedback!\n. HEROKU_APP, git config heroku.remote, the -r flag, and our plugin system give you plenty of freedom to modify this the way you want. In fact, there are a number of Heroku plugins that solve this in a variety of ways, none of which are clearly better than the other, and that leads me to believe that it's not something we should force with convention. \n. I should probably implement the ironical version first (do it as a plugin).\n. We fixed it by changing the default stack to Cedar. Now you don't have to type -s anymore. (After all, when was the last time you did?)\n(More realistically, I think this may be unfixable... it's a nature of arg parsing. The only thing we could do would be to provide a more helpful error message.)\n. echo echo echo | heroku run bash is an easy failing test case for this. Even though the TTY is disconnected, the connection / bash acts as if it does, leading to weird behavior. I think the problem may lie in the rendezvous protocol which doesn't transmit this information and therefore it cannot run the process in the right way.\n(But I also don't know much about TTYs.)\n. Merged #811.\n. Mercy bowchamp, senyor.\n. We have no plans to change the port used for this service.\n. I would use ddollar/heroku-config for this purpose.\n. Hi- can you let us know if this is still an issue? Thanks!\n. Thanks, we have an open ticket to improve the HTTP_PROXY documentation. I'll link this into that ticket.\n. Seen this a few times; was this ever resolved?\n. @JCB-K If you're still seeing this issue, can you open it on heroku/toolbelt instead? Thanks!\n. @fabiokung Would you be able to comment on the origin of our /etc/inputrc file? It's easy to inspect by doing:\n$ heroku run cat /etc/inputrc\nIn any case, ^Y seems to be passed unmodified to the dyno, so this doesn't appear to be a toolbelt issue.\n. @fabiokung Ahh. I use zsh, which doesn't have the delayed suspend feature (or I don't have it enabled). I think it's being passed along but it's hard to tell.\n. Regarding the original issue, I am closing this as the original user was encountering the behavior in @fabiokung's explanation.\n. Oh, I see, perhaps. I rolled my own zshrc, and I have never used stty in a configuration. It seems undef is the default, or maybe is just the default in ArchLinux's /etc/profile or whatever sets this. (I have to admit this is configuration I've never been aware of or cared about before.)\n% stty -a\nspeed 38400 baud; rows 111; columns 318; line = 0;\nintr = ^C; quit = ^\\; erase = ^?; kill = ^U; eof = ^D; eol = <undef>; eol2 = <undef>; swtch = <undef>; start = ^Q; stop = ^S; susp = ^Z; rprnt = ^R; werase = ^W; lnext = ^V; flush = ^O; min = 1; time = 0;\n-parenb -parodd cs8 -hupcl -cstopb cread -clocal -crtscts\n-ignbrk brkint ignpar -parmrk -inpck -istrip -inlcr -igncr icrnl ixon -ixoff -iuclc -ixany imaxbel iutf8\nopost -olcuc -ocrnl onlcr -onocr -onlret -ofill -ofdel nl0 cr0 tab0 bs0 vt0 ff0\nisig icanon iexten echo echoe echok -echonl -noflsh -xcase -tostop -echoprt echoctl echoke\nIn any case... seems moot.\n. Yes, it also doesn't work if undef'd either, but it doesn't exit your session, which was the original reported issue. There's no bug here in the Heroku client / toolbelt that can be fixed.\nGetting ^Y working on Heroku for yank assuming it's getting passed to the dyno would (perhaps?) be in the hands of our runtime team (of whom @fabiokung is a member) to modify our global /etc/inputrc. But I can't offer any guarantees that will happen. I'm not sure where our current /etc/inputrc comes from or why it is the way it is.\n. Closing due to inactivity.\n. @jonmountjoy Is this still an issue for you?\n. What plugins are you using?\n. The fact you get an error when doing heroku version says that something is running a git command even though none is normally run in that case. I'm not familiar enough with these plugins to guess as to which it might be, though.\nTo confirm, would you mind doing the following?\nsh\nmv ~/.heroku/plugins ~/.heroku/plugins-tmp\nheroku version\nheroku git:clone\nmv ~/.heroku/plugins-tmp ~/.heroku/plugins\n. @fbjork Afraid not. At this time, we don't have someone actively developing new CLI features, so this is unlikely to happen without a pull request from someone whose has this itch badly enough. It also doesn't seem that the API has the flexibility to do what I proposed yet.\n. Closing due to inactivity. Please re-open if this is still an issue.\n. Are there any use cases here outside of triggering npm rebuild and recompiling assets when using user_env_compile?\nWe generally don't think you should ever have to recompile your code. Builds should be as deterministic as possible - you should be able to rebuilt and get the same result. They shouldn't depend on your configuration (though user_env_compile allows this, there's a reason it's in labs). There are, of course, exceptions, such as outside resources becoming unavailable or something changing on the platform (such as the default version of ruby or node, provided you don't set one).\nIn my opinion, the problem lies with npm: it doesn't provide a lockfile similar to Bundler's Gemfile.lock, so there's no deterministic way to define what dependencies you will get.\n. We're working towards opening up build as a separate service, separate from git. See: https://github.com/ddollar/anvil\n. Closing in favor of #364 for the original issue.\n. Ok. Do we have any metrics for how often this flag is used (long shot, I know)?\n. Yeah, I figured you didn't pass along the full command to the API (yet?).\nWe could try changing it and see if people complain? Not great, but I suppose it works.\n. Is #640 the fix for this?\n. I'm not familiar with this bug. I just tried testing this myself and heroku git:remote worked fine when my $HOME/.gitconfig was moved to another location.\n. You likely lost connection to the Internet here, albeit briefly. :(\n. Agent forwarding has never been explicitly supported. I've heard from customers that it seems to have worked at some point, but I don't think it was ever intentional.\n. HTTP_PROXY and HTTPS_PROXY need to be a URL, e.g. http://10.0.0.131:8080/. This would be an unfortunate bug in OS X if it is not setting it to this standard, but I also am not aware of other reports of this issue. If this is still happening, can you double check your settings?\n. Yes, you still need to have http in your URLs. :smile: \nThis seems like a regression of #235, probably since moving to heroku.rb.\n. @geemus Can you comment here? Can heroku.rb add the http similar to #235, or should that be done in the CLI?\n. This display_name issue has been fixed in newer versions. Thanks!\n. Presuming fixed as of 2.32.0.\n. I think there was some intent for this under #256; stdout should not be modified if the output channel is not a tty.\nYou can work around this by doing:\n$ heroku run echo hi | tail -n +2\n. I, for one, would like that.\n. Closing in favor of #502.\n. If this is still an issue, please open a ticket. Thanks!\n. Hi- I'm sorry with your troubles with db:pull. While the command is still in the client, it is deprecated and no longer receiving bug fixes. We recommend using our new procedures for importing and exporting data, found here:\nhttps://devcenter.heroku.com/articles/heroku-postgres-import-export\n. Hi- please report this issue at https://github.com/treasure-data/heroku-td/issues.\nThanks!\n. Similarly, #611.\n. Closing in favor of #503.\n. Hi- this appears to be a network connectivity issue. Are you still having this problem?\n. Yes, we should clean up this error message. There's another issue for that. Thanks!\n. Duplicate of #634.\n. Hi- IMHO, public keys are essentially random bits that are designed to be just that: public. I don't perceive uploading one automatically as a security risk. You can remove this key by running heroku keys:clear and then add your own key of your choice using heroku keys:add.\nThe uploading of the key is unrelated to our permanent login function; your credentials are always stored in ~/.heroku/credentials.  If your key has a passphrase, you'll be prompted as appropriate for your OS when you git push heroku master.\n. https://toolbelt.heroku.com/debian\n. Hi all- sorry for the pain here. We recommend interacting directly with the API whenever possible to avoid these types of issues. heroku/heroku.rb is the main client to use from Ruby.\n. cc/ @geemus \n. This is certainly a good idea, but it would be nice to maintain a test case without a ? in the string. Any chance you could add one?\n. Hi- are you still having this issue?\n. Oh, you're leaving it running for an hour? We're probably disconnecting you in that case, hence the error, but that's not handled by client. @archaelus, can you comment on the behavior here? \n. Thanks Geoff; glad to hear this is pretty much expected behavior. I think we just need to rescue this error appropriately in the client. Tailing logs for an hour seems like a very reasonable timeout to me.\n. Hi- are you still having this issue in the latest version? This commands works for me in 2.33.3.\n. Assuming @brandur squashed the evil.\n. Assuming this was resolved internally.\n. Travis CI says we're green at this time, so I trust we're green. Maybe this issue was already fixed?\n. Fixed by #629.\n. @hgmnz Can you peer review this on your team to get it merged, e.g. perhaps with @will?\n. This information only appears for Bamboo apps. I am seeing that as working correctly at this time.\nFor Cedar, use heroku ps. This also works on Bamboo.\n. Closing in favor of #503.\n. While the method confirmation may not make complete sense (typing in your app name), your local database will be destroyed/replaced and that's what we're confirming here.\n. Hi- this isn't a bug with the heroku client, as it doesn't interact with git. If you are still having this issue, please open a support ticket. Thanks!\n. What's the status here? Can you rebase?\n. Hi- can you please paste the full error message you are getting?\n. Thanks for the feedback. I've submitted DevCenter feedback about the article on your behalf.\n. :+1:\n. Hi, can you try updating your client? Current version for me is:\nheroku-toolbelt/2.33.3 (x86_64-linux) ruby/1.9.3\n. Hi- I'm sorry with your troubles with db:pull. While the command is still in the client, it is deprecated and no longer receiving bug fixes. We recommend using our new procedures for importing and exporting data, found here:\nhttps://devcenter.heroku.com/articles/heroku-postgres-import-export\n. Hi Matt, can you open this on heroku/heroku-buildpack-nodejs instead? A pull request would be ideal. :grin: \n. In latest source:\n```\n% ack 'Unable to connect to'\nlib/heroku/client.rb\n628:      error \"Unable to connect to #{host}\"\nlib/heroku/command.rb\n254:        error(\"Unable to connect to Heroku API, please check internet connectivity and try again.\")\n```\nIt appears you're getting the first message, but lib/heroku/client.rb is not used by the current client. Can you confirm what version you are running from heroku version and plugins installed from heroku plugins?\n. I think we need to remove the rest-client dependency; we've basically done away with it already, I don't think we want to necessarily bring it back. @ddollar or @geemus can you comment on that?\n. @ddollar Let's bump the minor version number for this.\n. heroku-api would have to cut a release first, right? That will probably be a little while. No rush here, but good to make some progress.\n. Closing as #656 is merged.\n. I believe that since heroku run's protocol doesn't communicate over HTTP, it cannot use the defined HTTP proxy. Can you confirm, @geemus ?\n. Thanks, that's a good workaround. @rinrinne, until we replace our \"rendezvous\" protocol for heroku run, I don't see a way we're going to get this working, but you can use heroku run:detached to run commands, then see the output in your logs. Unfortunately you won't be able to run interactive sessions, like irb or rails console. Sorry!\n. Please open a support ticket. Thanks!\n. :+1:\n. Order doesn't matter if we merge #652. \n. #652 was merged and resolves the order issue here but still uses PEM in the command signatures. What do you think about changing PEM to CRT, @kch ?\n. This sounds like an API issue. cc/ @pedro @geemus @brandur \n. Closing as heroku/core#1622 has been closed with a fix merged.\n. Thanks!\n. Regular expressions are great.\nhttps://github.com/heroku/heroku/blob/master/lib/heroku/command/logs.rb#L93\nIt's because of the leading .* - changing that to .*? should do the trick.\n. Hi- it looks like a permissions error during connect(2) is due to a firewall blocking the connection; some users of Filezilla also reported this problem.\nhttps://www.google.com/search?q=EACCES+connect+windows\n. Interesting. @mmcgrana, can you speak to the reliability of rendezvous in this manner? Any idea where the bug would be?\n. It'd be awesome if you could please try updating your client before submitting bug reports. :grin:\n. I believe the heroku.remote is a git remote to use, not an app name. So, you would do something like:\n$ git remote add stage git@heroku.com:delight-web-staging.git\n$ git config heroku.remote stage\n$ heroku config\nCan you give this a shot?\n. Same issue as #677.\n. I lied, it's not. Though the fix is the same, I think.\n. From the CI build failures:\n- Dir.home doesn't exist under Ruby 1.8.\n- Causes a change in the tests under 1.9; the behavior of echoing nothing was actually part of the tests.\n. Thanks for reporting this @fidothe! I understand this is confusing, but the project you want to report against (or submit a pull request) is heroku/toolbelt - you'll find the relevant install scripts there.\n. Inability to connect to Github is not a bug in the CLI tool.\n. Please see https://github.com/heroku/heroku/issues/search?q=proxy - there are a number of closed issues regarding proxies.\n. See https://status.heroku.com/incidents/487\n. Try heroku run rake db:migrate. For more, see https://devcenter.heroku.com/articles/rake or get support at https://help.heroku.com/.\n. Your firewall or ISP is blocking the outbound connection or blocking access to port 5000. See #407.\n. https://status.heroku.com/incidents/490\n. Would guess this is an API issue, the CLI just displays what is returned.\n. cc/ @brandur @pedro\n@garybernhardt I know you're reluctant to switch to SSL endpoint. There are very good reasons why this is worth your time. SSL hostname is a legacy product - it's design is brittle and has dependencies on a systems that we're actively trying to eliminate. So, in short, it's less reliable. SSL endpoint uses a newer, standardized configuration of Amazon's ELB that wasn't available when we designed SSL hostname.\nYou can switch to SSL endpoint without any downtime or impact on your app. To make this easier, we're happy to help you make the switch (including configuring your new endpoint for you) via support ticket. The only thing we can't do for you is update your DNS.\n. The only thing I can offer is to minimize the work for you; we would migrate you automatically if it didn't require a DNS change.\nWhile I agree with you and we try to minimize customer-impact changes over time, our erosion-resistance philosophy does not mean that it's completely erosion-proof. SSL hostname will be shutdown completely at some point in the future.\n. No, this is a open bug that needs to be fixed.\n. Do you have a PR to update heroku.rb (or is it already updated, just not released)?\n. Opened https://github.com/heroku/heroku.rb/issues/45, but not necessarily a blocker here.\nI know you're not a big fan, but any chance of adding test coverage? There's a fair number of changes here.\n. :-1: Don't listen to the haters, folks.\n. Not sure, but you want https://github.com/ricardochimal/taps for this issue.\n. I wouldn't recommend using this gem programatically. Use heroku-api + rendezvous. Rendezvous has an example on how to do this.\n. Thanks!\n. Not sure.\n. I think there is still a bug here about stdin/stdout being non-interactive (not being a tty) - that status is not being passed to the recipient process, so you're seeing weird behavior. I think that would be fixed by passing an empty ps_env in this case but I'm not sure. I don't have this issue when using the API + rendezvous directly:\nhttps://gist.github.com/wuputah/5880052\n. Can we ship a new version ASAP? This is causing a sudden influx of customer issues (not a huge number, but significant).\n. FYI, pgbackups is now deprecated, in favor of pg:backups. See:\nhttps://devcenter.heroku.com/articles/pgbackups\nhttps://devcenter.heroku.com/articles/heroku-postgres-backups\nIt'd be nice to see pgbackups-archive move to the new system, and ideally not depend on the CLI gem (use the API directly).\n. Typo here, reaad.\n. Would it make sense to exit(1) as well?\n. ",
    "hoverlover": "This pull request no good?  It would be nice to have the ability to use underscores and dashes in Procfile.\n. @geemus Looks like @ddollar already added underscores back in October after I submitted my pull request, so if you guys want underscores by not dashes this is already complete without my changes.\n. ",
    "toreriklinnerud": "If someone knows how to reproduce it without running it through jenkins it would be easier to track down.\n. ",
    "a-musing-moose": "It is not quite the same thing but you could try using nohup?\ne.g.:\nbash\nnohup heroku run <something>\nIt generates a similar issue - because there is no normal TTY stdin attached to the process it starts behaving oddly\n. ",
    "danp": "This was fixed by #177, released as part of version 2.12.0. There's still an issue with doing something like:\necho hi | heroku run cat\nbecause SSLSocket doesn't have a close_write method to send EOF to the other side. Feel like I'm forgetting something obvious but I'm not sure how else to send EOF.\n. Yeah, this is probably related to #160. See my comment there, this should be fixed as of 2.12.0.\n. Having trouble with this too, narrowed it down to abfa040ebc6847b4ab82f0c538ed70fcf5efb2c7.\n. This fixes it for me and I think still addresses #260.\n. Pushed as f4b78b9f37e76a45d3facbc699faa97eee0a2f51.\n. Ok, cool. If the goal is shell friendliness I'd say check out Shellwords.escape. However, I think using this on everything will lead to interesting results for those who expect the split-like behavior I described. See heroku/ion-client#50 for discussion I and others had there about similar things.\nI also wonder what the use case for shell friendliness is. Are people looking to eval the output of heroku config -s, pipe it to .env for use with foreman, or what? Easily copy config between apps, maybe?\n. One reason to have the heroku gem in a bundle is it provides easy access to a ready-to-go Heroku::API instance by way of Heroku::Auth.api. I have been meaning to open an issue somewhere to see about splitting that out but I currently have the heroku gem in a bundle for this reason.\n. Opened heroku/heroku.rb#23 to discuss the possibility there.\n. Ref #414 \n. Fixed in hksudo with https://github.com/heroku/hksudo/pull/3, could probably do something similar in toolbelt sudo plugin. That is: dup stdin to another fd, open /dev/tty as stdin, prompt for and read code,  close that, move real stdin back to fd 0.\n. Should also send prompt to stderr.\n. Ah yes. I think the main issue with this then is that the prompt is not going to stderr.\n. It's the existing on your localhost bit that tripped me up.\n. Better, the wording there still makes it sound like you could/should be specifying a database name that exists already. What about something like:\n\nTARGET_DATABASE will be created locally if it's a database name or remotely if it's a fully qualified URL\n. :+1: \n. Very cool.\n. A nice thing about having this trapping here is that if at any point during the require/setup process the user hits ^C the trap will fire. With it moved down below hitting ^C during that phase will generate a backtrace.\n. \n",
    "dsaronin": "Ok, here's a hack work-around to this issue for anyone needing a quick solution until the gem gets fixed. The heroku gem should have an option in heroku run xxxx to skip requiring STDIN and tty.\nWork-around solution: Use screen in crontab, invoke a script via screen and the screen configuration file:\n/usr/bin/screen -c ~/.screenrc -dm\nthe configuration file is as follows (the first line invokes the actual script to do the work): \nscreen 0 /home/xxxxx/duma/trigger_duma 2>&1\n logfile /home/xxxxx/duma.log\n log on\nAnd the key parts of the script are (full paths must be explicity given):\n# Needed for crontab, profile user not automatically parsed.\n if [ \"`/usr/bin/tty | /bin/grep -ci not`\" = \"0\" ]\n then\n    source ~/.profile\n    echo $PATH\n fi\n export herokupath=$gempath/bin/heroku\n $herokupath run rake bg:work COUNT=122 < `/usr/bin/tty`\n. ",
    "reubano": "Any update?\n. ",
    "samvermette": "+1 for this. I also have staging and production apps on Heroku. It would be handy to be able to set a default app so I don't have to type --app <app_name> after every command.\n. ",
    "pothibo": "I would personally create a pull request but I'm not too sure which approach would be the best. Heroku seems to either take information from git or from their servers. \nSince a default --app option is folder-specific, I wonder what could be done to make it easier for users and easy to maintain,\nMaybe this could be achieved by adding a \"default\" remote branch that is basically a copy of the branch you want to be your default.\nThen we could return the default branch at\nhttps://github.com/heroku/heroku/blob/master/lib/heroku/command/base.rb#L178\n. Thank you @geemus for your work. I haven't been really verbose on this issue since I created it a few months ago but I am glad you took care of it :)\n. maybe heroku-* could be used. So default stay default and when you are in a heroku-* branch, it knows which is which.\n. ",
    "naaman": "I ran across this today, and it's working well so far:\nhttp://code.dblock.org/no-app-specified-telling-heroku-gem-what-its-default-app-should-be\nNow I have a github, staging, and production remote in my app's repo. I default to staging and explicitly call out production when necessary. i.e. When I run heroku config, it's returning the staging app's config. My full .git/config is below.\nIt would be nice if this were doc'd on devcenter, printed out instructions when you get the \"no app specified\" error, or baked into a command. For the latter, I'd imagine a scenario like:\n$ heroku config\nNo app specified.\nWould you like to specify an app (Y/N) ? Y\nDefault app name for this repo: app-name\nMy .git/config -- note the [heroku] section:\n[core]\n    repositoryformatversion = 0\n    filemode = true\n    bare = false\n    logallrefupdates = true\n    ignorecase = true\n[remote \"github\"]\n    url = git@github.com:heroku/app.git\n    fetch = +refs/heads/:refs/remotes/github/\n[remote \"production\"]\n    url = git@heroku.com:app.git\n    fetch = +refs/heads/:refs/remotes/production/\n[remote \"staging\"]\n    url = git@heroku.com:app-staging.git\n    fetch = +refs/heads/:refs/remotes/staging/\n[heroku]\n    remote = staging\n. Note: my HEROKU_HOST env var is not set, so it should be using the api.heroku.com credentials.\n. Cedar 14 is the default, so that'd be kinda weird IMO.\nOn Tuesday, January 20, 2015, Clint notifications@github.com wrote:\n\nHow about cedar-14?\n\u2014\nReply to this email directly or view it on GitHub.\n. and, fwiw:\n\n$ h version\nheroku-toolbelt/3.32.0 (x86_64-darwin10.8.0) ruby/1.9.3\nheroku-cli/4.14.0-ecf3dbd (amd64-darwin) go1.4.2\n=== Installed Plugins\nheroku-builds@0.0.7\nheroku-enable-yubikey-only-when-it-is-needed\nheroku-orgs@0.4.0\nheroku-sudo\n. Seems like we should just get rid of --all; it's more confusing with this change than helpful. I'm not sure why we'd filter out org apps at this point.\nAside from introducing a UX issue, :+1:.\n. :+1: \n. ",
    "fgalassi": "Heroku already uses git config to store per-repository data and not having a way to define the current app is way worse than not having a way to define it per-directory. So i'd quickly go for\nif \"git config heroku.app\" then that's the app, otherwise continue like before.\n. Well, i'd say no and no. All tests passed but Travis reported an apparently unrelated failure. Now i rebased master and a test is failing, again apparently unrelated to my change. What's happening here?\n. Ok, there's a failing test in master\n. @geemus This is how heroku accounts works. For each account you create, it makes an entry in ./ssh/config with a fake host, so that when you connect to the fake host, connection still goes to heroku.com but with credential for that account. Then when you heroku accounts:set , it changes git config so that: heroku.account = ACCOUNT, origin and heroku remotes url = git@FAKE_HOST:REPO. This way when you git push heroku master, it hits heroku with right credentials. My problem is that you cannot name your heroku fake hosts so that heroku still understand the url as a valid app url and you have to use --app  in every command. That would be possible if heroku tool applied a more relaxed matching to identify an app remote url. Like fake.host.heroku.com or maybe even simply the word heroku in the hostname.\n. Another equally satisfying solution would be being able to tell heroku the name of current app in some local way. e.g.\n$ git config heroku.app\nAPP\nor\n$ cat .herokuconfig\napp=APP\netc...\n. ",
    "LucasLMartini": "Well, since you'll usually define a default upstream for each of your branches why doesn't Heroku go with that? First time I tried it I instinctively thought that would be the case.\nHere's an example .git/config:\n[remote \"staging\"]\n        url = git@heroku.com:SUPER-PANDA-9999.git\n        fetch = +refs/heads/:refs/remotes/staging/\n[branch \"staging\"]\n        remote = staging\n        merge = refs/heads/master\n[remote \"produto\"]\n        fetch = +refs/heads/:refs/remotes/heroku/\n        url = git@heroku.com:YOURAWESOMEAPPLAWLZ.git\n[branch \"master\"]\n        remote = production\n        merge = refs/heads/master\nBy cross-referencing these tags Heroku can infer which Heroku app I'm referring to, by determining which branch is currently checked-out. (If there is no upstream in the current branch, just fail with a warning?)\nI ASSUMED this was the case when I first started using a staging app and was quite disappointed when it wasn't so.\nThis to me seems like the \"conventional\" way to go... Shouldn't be hard at all to patch this in, right?\n. I was going to say something along the lines Pothibo just did! I 2nd his statement.\nThat way, by a simple naming convention the Heroku CLI knows which Heroku app we're talking about and also users of separate remotes like Geemus mentioned would be safe from this as well.\nWould just be a matter of naming branches 'heroku-staging' or 'heroku-production' for example!\n\"Convention over Configuration\" :)\n. Oh, I did config the default. I just think having Heroku know which app by which branch would be an awesome feature!\nThanks for the prompt replies and great work!\nCheers!\n. ",
    "ghost": "git config heroku.remote FTW\n. Here are my files at the moment:\nProcfile\nweb: node start.js\nStart.js\nrequire(\"coffee-script\");\nrequire(\"./start.coffee\");\nIt would be great if the Procfile could look like this instead\nweb: node start.coffee\nI think that many people will use coffeescript. Nodejitsu already has support for it and Cloud9ide has added it to the feature list, so it would be great if Heroku could support it as well. It's actually just about using \"coffee\" to run the file instead of \"node\" when the file extension is .coffee.\n. It actually worked. Stupid me :)\nThanks!\n. That does seem a bit cleaner\n. I just did a fresh download for Mac 10.5, and I get the same error:\nSteveMacBook:~ scosenz$ heroku login\nEnter your Heroku credentials.\nEmail: xxxxx@gmail.com\nPassword (typing will be hidden): \n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       uninitialized constant Heroku::API (NameError)\nBacktrace:   /usr/local/heroku/lib/heroku/command.rb:185:inrun'\n             /usr/local/heroku/lib/heroku/cli.rb:19:in `start'\n             /usr/bin/heroku:25\nCommand:     heroku login\nVersion:     heroku-toolbelt/2.28.5 (universal-darwin9.0) ruby/1.8.6\n```\n. Here's a simple way to simulate a DNS outage for the client:\n$ HEROKU_HOST=localhost heroku list\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       getaddrinfo: Name or service not known (SocketError) (Excon::Errors::SocketError)\n. I cloned the repo and called bin/heroku\nWhich gives me:\n/<path>/heroku/auth.rb:5:in `require': no such file to load -- netrc (LoadError)\n    from /<path>/heroku/lib/heroku/auth.rb:5\n    from /<path>/heroku/lib/heroku/client.rb:4:in `require'\n    from /<path>/heroku/lib/heroku/client.rb:4\n    from /<path>/heroku/lib/heroku.rb:1:in `require'\n    from /<path>/heroku/lib/heroku.rb:1\n    from /<path>/heroku/lib/heroku/cli.rb:1:in `require'\n    from /<path>/heroku/lib/heroku/cli.rb:1\n    from bin/heroku:15:in `require'\n    from bin/heroku:15\n. I installed netrc via package manager. So I wonder why it doesn't find it.\nBesides I cannot use gem install heroku since it tries to write to /var\n. The solution from @technomancy helped a lot. Although I do not understand why it does not install and setup my user directory automagically. Bad UE.\n. Hey, to solve the issue you need to replace the link:\n  git@bitbucket.org:MyUsername/my-private-gem.git\nwith this one: \n  https://MyUsername@bitbucket.org/MyUsername/my-private-gem.git\nin your Gemfile.\nHope it helps.\nOriginally posted here: \nhttps://github.com/spree/spree_static_content/issues/68\n. Are there any news regarding this issue?\n. @1eandro @rochapablo  i am having the same problem. How have you solved this problem? How can i change from git bash to git cmd?\nThanks\n. It looks like attempting an addons:add fails too.\n. any updates on this?  This is causing problems for a number of scripted deployments I have.\n. any updates on this?  This is causing problems for a number of scripted deployments I have.\n. Yes that's my application and it working well in localhost.\n. Ya gotcha i was just testing that how it deploys in heroku. I will add routes and check it :+1: \n. @dickeyxxx can you look upon the issue?\n. Running rake db:migrate attached to terminal... excon.request\n  :chunk_size        => 1048576\n  :ciphers           => \"HIGH:!SSLv2:!aNULL:!eNULL:!3DES\"\n  :connect_timeout   => 60\n  :debug_request     => true\n  :debug_response    => true\n  :expects           => 200\n  :headers           => {\n    \"Accept\"          => \"application/json\"\n    \"Accept-Encoding\" => \"gzip\"\n    \"Authorization\"   => \"REDACTED\"\n    \"Host\"            => \"api.heroku.com:443\"\n    \"User-Agent\"      => \"heroku-gem/3.15.0 (x86_64-linux) ruby/2.1.2\"\n    \"X-Ruby-Platform\" => \"x86_64-linux\"\n    \"X-Ruby-Version\"  => \"2.1.2\"\n  }\n  :host              => \"api.heroku.com\"\n  :idempotent        => false\n  :instrumentor      => Excon::StandardInstrumentor\n  :instrumentor_name => \"excon\"\n  :method            => :post\n  :middlewares       => [\n    Excon::Middleware::ResponseParser\n    Excon::Middleware::Expects\n    Excon::Middleware::Idempotent\n    Excon::Middleware::Instrumentor\n    Excon::Middleware::Mock\n  ]\n  :mock              => false\n  :nonblock          => false\n  :omit_default_port => false\n  :path              => \"/apps/glacial-ravine-3731/ps\"\n  :persistent        => false\n  :port              => \"443\"\n  :proxy             => {\n    :host     => \"172.31.102.29\"\n    :password => \"REDACTED\"\n    :path     => nil\n    :port     => 3128\n    :scheme   => \"https\"\n    :user     => \"edcguest\"\n  }\n  :query             => {\n    :attach           => true\n    \"command\"         => \"rake db:migrate\"\n    \"ps_env[COLUMNS]\" => \"169\"\n    \"ps_env[LINES]\"   => \"20\"\n    \"ps_env[TERM]\"    => \"xterm\"\n  }\n  :read_timeout      => 60\n  :retries_remaining => 4\n  :retry_limit       => 4\n  :scheme            => \"https\"\n  :ssl_verify_peer   => true\n  :tcp_nodelay       => false\n  :uri_parser        => URI\n  :versions          => \"excon/0.41.0 (x86_64-linux) ruby/2.1.2\"\n  :write_timeout     => 60\nexcon.response\n  :body          => \"\\x1F\\x8B\\b\\x00\\xB7dfT\\x00\\x03\\x8FMn\\xC4 \\f\\x85\\xAF\\x12\\xB1\\xED$1\\x90\\x1F\\x92S\\xF4\\x06\\x91\\x03\\xCE\\fjB\\\" \\xA3\\xCET\\xBD{a\\x16\\xAD\\xD4\\x95m\\xDE\\xFB\\x8C\\xDF\\x17\\xC3\\x18Q\\xDF\\xC8\\xB01\\xFA\\x93.L\\xEF\\xDB\\x86.\\x8Dl>\\x9DY\\xA9\\xA0O\\xD2\\x85\\xC7\\x0F*\\xCCn\\xF6\\xEA1\\x12\\xBB0<\\x8E\\xC9\\xE1F\\xC9x]Q[\u000292\u0003K\\x8Fw\\xEB\\xA8\\x94\\xBD\\xE4\\xC9@+\\x1E!\\xEF\\xE5\\x17f\\xF3\\xD5q\\xD0z\\xD0%p-\\xCB\\xC6\\xE8\\xAETR\\x88\\x12[\\xB1\\xDBJ4\\xBCK\\xDC\\xE1)\\xC6\\xC7\\x14b\\xFEgd\\xA9\\xFAh\\xDD\\xB5Xv_\\xF0\\xF02\\xEC\\x9ABH\\x9A?]%{\\xC8\\x94\\xA7\\x950$\\xC8\\xBD3\\xF4\\xBC\\xEFg\\x98N\\xBFf\\xDF\\xEF\\xC3X\\xD7\\x7FC\\x95\\xF8h7\\xAAn\\xE4\\xF7\\x8F\\xB3J\\xD1\\xC7\\x16\\x00\\xEAv6\\x1A\\x96\\x0EuG\\x04\\x06\\x84\\x10C\\xAFZ\\xADZ\\x04\\xDE\\xAB\\xB9\\x93\\xD0\\xF7\\xB3$\\x90\\r\\x1F\\xE6^/\\v\\xC8\\x85\\x90\\xA3Y\\xB82\\x1D6\\xE9\\x9E`\\x9F\\xF4\\x8A\\xFE?G\\xD2\\xA2G\\x17l\\xB4\\xBB#3aL\\xA2\\x00\\xDE\\xD4\\x9C\\xD7\\xBC)\\x04\\x8CB\\x8E\\x15o\\xE9\\x12\\xC8\\xEE\\xC7\\x91\\xF9\\xF7\\xC0\\xBE\\x7F\\x00\\x00\\x00\\xFF\\xFF\\x03\\x00\\x8F\\xED\\xD5\\xA6\\xAE\\x01\\x00\\x00\"\n  :headers       => {\n    \"Connection\"             => \"keep-alive\"\n    \"Content-Encoding\"       => \"gzip\"\n    \"Content-Length\"         => \"318\"\n    \"Content-Type\"           => \"application/json;charset=utf-8\"\n    \"Date\"                   => \"Fri, 14 Nov 2014 20:23:19 GMT\"\n    \"Oauth-Scope\"            => \"global\"\n    \"Oauth-Scope-Accepted\"   => \"global write write-protected\"\n    \"Request-Id\"             => \"9358dcea-8deb-4b7a-9e88-833c178228f0\"\n    \"Server\"                 => \"nginx/1.4.7\"\n    \"Status\"                 => \"200 OK\"\n    \"Vary\"                   => \"Accept-Encoding\"\n    \"X-Content-Type-Options\" => \"nosniff\"\n    \"X-RateLimit-Remaining\"  => \"2399\"\n    \"X-Runtime\"              => \"0.415084673\"\n  }\n  :local_address => \"172.31.77.2\"\n  :local_port    => 58838\n  :reason_phrase => \"OK\"\n  :remote_ip     => \"172.31.102.29\"\n  :status        => 200\nup, run.3706\n !    Unable to connect to Heroku API, please check internet connectivity and try again.\n. Yes i have already submitted.\n. Why are you closing but my bug isn't solved yet?\n. @dickeyxxx I didn't got any reponse regarding these problem i am in really dire need to run application. It would be great if you could me help out with that.\n. @dickeyxxx i will try to submit new one and let you know\n. Some news?\n. But excuse me, Foreman in El Capitan is no longer needed?\n. I am Running Windows 10, I have already ended the process and start it again with no success, also deleted \"heroku\" folder in AppData\\Local, the command install again the Toolbelt V4, then add the dependencies, but still stucks in the core plugins install process.\n2015/11/13 11:29:28 running from C:\\Users\\INSPIRON 5547\\AppData\\Local/heroku/heroku-cli.exe\n2015/11/13 11:29:28 heroku-cli: Adding dependencies...\n2015/11/13 11:30:07  done\n2015/11/13 11:30:07 heroku-cli: Installing core plugins...\nafter that, nothing happens.\n. This are the last lines of the command prompt, after this nothing happens:\nnpm http fetch GET https://cli-npm.heroku.com/co/-/co-4.6.0.tgz\nnpm verb get https://cli-npm.heroku.com/strftime not expired, no request\nnpm verb get https://cli-npm.heroku.com/heroku-cli-util not expired, no request\nnpm verb get https://cli-npm.heroku.com/shell-escape not expired, no request\nnpm sill resolveWithNewModule filesize@3.1.3 checking installable status\nnpm sill cache add args [ 'filesize@3.1.3', null ]\nnpm verb cache add spec filesize@3.1.3\nnpm sill cache add parsed spec Result {\nnpm sill cache add   raw: 'filesize@3.1.3',\nnpm sill cache add   scope: null,\nnpm sill cache add   name: 'filesize',\nnpm sill cache add   rawSpec: '3.1.3',\nnpm sill cache add   spec: '3.1.3',\nnpm sill cache add   type: 'version' }\nnpm sill addNamed filesize@3.1.3\nnpm verb addNamed \"3.1.3\" is a plain semver version for filesize\nnpm sill mapToRegistry name filesize\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/filesize\nnpm verb addNameVersion registry:https://cli-npm.heroku.com/filesize not in flight; fetching\nnpm sill mapToRegistry name strftime\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/strftime\nnpm verb addRemoteTarball https://cli-npm.heroku.com/strftime/-/strftime-0.9.2.tgz not in flight; adding\nnpm verb addRemoteTarball [ 'https://cli-npm.heroku.com/strftime/-/strftime-0.9.2.tgz',\nnpm verb addRemoteTarball   'bcca2861f29456d372aaf6a17811c8bc6f39f583' ]\nnpm sill mapToRegistry name heroku-cli-util\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-cli-util\nnpm verb addRemoteTarball https://cli-npm.heroku.com/heroku-cli-util/-/heroku-cli-util-5.6.1.tgz not in flight; adding\nnpm verb addRemoteTarball [ 'https://cli-npm.heroku.com/heroku-cli-util/-/heroku-cli-util-5.6.1.tgz',\nnpm verb addRemoteTarball   '15bf66dfe4d6d3360c906f4ddd94751d45b0f75b' ]\nnpm sill mapToRegistry name shell-escape\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/shell-escape\nnpm verb addRemoteTarball https://cli-npm.heroku.com/shell-escape/-/shell-escape-0.2.0.tgz not in flight; adding\nnpm verb addRemoteTarball [ 'https://cli-npm.heroku.com/shell-escape/-/shell-escape-0.2.0.tgz',\nnpm verb addRemoteTarball   '68fd025eb0490b4f567a027f0bf22480b5f84133' ]\nnpm info retry fetch attempt 1 at 10:09:24\nnpm info attempt registry request try #1 at 10:09:24\nnpm http fetch GET https://cli-npm.heroku.com/strftime/-/strftime-0.9.2.tgz\nnpm sill resolveWithNewModule lodash@3.10.1 checking installable status\nnpm sill cache add args [ 'lodash@3.10.1', null ]\nnpm verb cache add spec lodash@3.10.1\nnpm sill cache add parsed spec Result {\nnpm sill cache add   raw: 'lodash@3.10.1',\nnpm sill cache add   scope: null,\nnpm sill cache add   name: 'lodash',\nnpm sill cache add   rawSpec: '3.10.1',\nnpm sill cache add   spec: '3.10.1',\nnpm sill cache add   type: 'version' }\nnpm sill addNamed lodash@3.10.1\nnpm verb addNamed \"3.10.1\" is a plain semver version for lodash\nnpm sill mapToRegistry name lodash\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/lodash\nnpm verb addNameVersion registry:https://cli-npm.heroku.com/lodash not in flight; fetching\nnpm info retry fetch attempt 1 at 10:09:24\nnpm info attempt registry request try #1 at 10:09:24\nnpm http fetch GET https://cli-npm.heroku.com/heroku-cli-util/-/heroku-cli-util-5.6.1.tgz\nnpm info retry fetch attempt 1 at 10:09:24\nnpm info attempt registry request try #1 at 10:09:24\nnpm http fetch GET https://cli-npm.heroku.com/shell-escape/-/shell-escape-0.2.0.tgz\nnpm verb get https://cli-npm.heroku.com/filesize not expired, no request\nnpm sill mapToRegistry name filesize\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/filesize\nnpm verb addRemoteTarball https://cli-npm.heroku.com/filesize/-/filesize-3.1.3.tgz not in flight; adding\nnpm verb addRemoteTarball [ 'https://cli-npm.heroku.com/filesize/-/filesize-3.1.3.tgz',\nnpm verb addRemoteTarball   '50464fa77c3ef4af6e2e910cbf9b6a3da343f73a' ]\nnpm sill resolveWithNewModule string@3.3.1 checking installable status\nnpm sill cache add args [ 'string@3.3.1', null ]\nnpm verb cache add spec string@3.3.1\nnpm sill cache add parsed spec Result {\nnpm sill cache add   raw: 'string@3.3.1',\nnpm sill cache add   scope: null,\nnpm sill cache add   name: 'string',\nnpm sill cache add   rawSpec: '3.3.1',\nnpm sill cache add   spec: '3.3.1',\nnpm sill cache add   type: 'version' }\nnpm sill addNamed string@3.3.1\nnpm verb addNamed \"3.3.1\" is a plain semver version for string\nnpm sill mapToRegistry name string\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/string\nnpm verb addNameVersion registry:https://cli-npm.heroku.com/string not in flight; fetching\nnpm verb get https://cli-npm.heroku.com/lodash not expired, no request\nnpm sill mapToRegistry name lodash\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/lodash\nnpm verb addRemoteTarball https://cli-npm.heroku.com/lodash/-/lodash-3.10.1.tgz not in flight; adding\nnpm verb addRemoteTarball [ 'https://cli-npm.heroku.com/lodash/-/lodash-3.10.1.tgz',\nnpm verb addRemoteTarball   '5bf45e8e49ba4189e17d482789dfd15bd140b7b6' ]\nnpm info retry fetch attempt 1 at 10:09:24\nnpm info attempt registry request try #1 at 10:09:24\nnpm http fetch GET https://cli-npm.heroku.com/filesize/-/filesize-3.1.3.tgz\nnpm verb get https://cli-npm.heroku.com/string not expired, no request\nnpm info retry fetch attempt 1 at 10:09:24\nnpm info attempt registry request try #1 at 10:09:24\nnpm http fetch GET https://cli-npm.heroku.com/lodash/-/lodash-3.10.1.tgz\nnpm sill mapToRegistry name string\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/string\nnpm verb addRemoteTarball https://cli-npm.heroku.com/string/-/string-3.3.1.tgz not in flight; adding\nnpm verb addRemoteTarball [ 'https://cli-npm.heroku.com/string/-/string-3.3.1.tgz',\nnpm verb addRemoteTarball   '8d2757ec1c0e6c526796fbb6b14036a4098398b7' ]\nnpm info retry fetch attempt 1 at 10:09:24\nnpm info attempt registry request try #1 at 10:09:24\nnpm http fetch GET https://cli-npm.heroku.com/string/-/string-3.3.1.tgz\nnpm http fetch 200 https://cli-npm.heroku.com/co/-/co-4.6.0.tgz\nnpm sill fetchAndShaCheck shasum 6ea6bdf3d853ae54ccb8e47bfa0bf3f9031fb184\nnpm verb addTmpTarball C:\\Users\\INSPIR~1\\AppData\\Local\\Temp\\npm-17056-a29eea20\\cli-npm.heroku.com\\co-\\co-4.6.0.tgz not in flight; adding\nnpm verb addTmpTarball already have metadata; skipping unpack for co@4.6.0\nnpm sill cache afterAdd co@4.6.0\nnpm verb afterAdd C:\\Users\\INSPIRON 5547\\AppData\\Local\\heroku.npm-cache\\co\\4.6.0\\package\\package.json not in flight; writing\nnpm verb afterAdd C:\\Users\\INSPIRON 5547\\AppData\\Local\\heroku.npm-cache\\co\\4.6.0\\package\\package.json written\nnpm http fetch 200 https://cli-npm.heroku.com/shell-escape/-/shell-escape-0.2.0.tgz\nnpm http fetch 200 https://cli-npm.heroku.com/heroku-cli-util/-/heroku-cli-util-5.6.1.tgz\nnpm sill fetchAndShaCheck shasum 68fd025eb0490b4f567a027f0bf22480b5f84133\nnpm verb addTmpTarball C:\\Users\\INSPIR~1\\AppData\\Local\\Temp\\npm-17056-a29eea20\\cli-npm.heroku.com\\shell-escape-\\shell-escape-0.2.0.tgz not in flight; adding\nnpm verb addTmpTarball already have metadata; skipping unpack for shell-escape@0.2.0\nnpm sill cache afterAdd shell-escape@0.2.0\nnpm verb afterAdd C:\\Users\\INSPIRON 5547\\AppData\\Local\\heroku.npm-cache\\shell-escape\\0.2.0\\package\\package.json not in flight; writing\nnpm verb afterAdd C:\\Users\\INSPIRON 5547\\AppData\\Local\\heroku.npm-cache\\shell-escape\\0.2.0\\package\\package.json written\nnpm http fetch 200 https://cli-npm.heroku.com/strftime/-/strftime-0.9.2.tgz\nnpm sill fetchAndShaCheck shasum bcca2861f29456d372aaf6a17811c8bc6f39f583\nnpm verb addTmpTarball C:\\Users\\INSPIR~1\\AppData\\Local\\Temp\\npm-17056-a29eea20\\cli-npm.heroku.com\\strftime-\\strftime-0.9.2.tgz not in flight; adding\nnpm verb addTmpTarball already have metadata; skipping unpack for strftime@0.9.2\nnpm http fetch 200 https://cli-npm.heroku.com/filesize/-/filesize-3.1.3.tgz\nnpm sill fetchAndShaCheck shasum 50464fa77c3ef4af6e2e910cbf9b6a3da343f73a\nnpm sill fetchAndShaCheck shasum 15bf66dfe4d6d3360c906f4ddd94751d45b0f75b\nnpm verb addTmpTarball C:\\Users\\INSPIR~1\\AppData\\Local\\Temp\\npm-17056-a29eea20\\cli-npm.heroku.com\\filesize-\\filesize-3.1.3.tgz not in flight; adding\nnpm verb addTmpTarball already have metadata; skipping unpack for filesize@3.1.3\nnpm verb addTmpTarball C:\\Users\\INSPIR~1\\AppData\\Local\\Temp\\npm-17056-a29eea20\\cli-npm.heroku.com\\heroku-cli-util-\\heroku-cli-util-5.6.1.tgz not in flight; adding\nnpm verb addTmpTarball already have metadata; skipping unpack for heroku-cli-util@5.6.1\nnpm sill cache afterAdd strftime@0.9.2\nnpm verb afterAdd C:\\Users\\INSPIRON 5547\\AppData\\Local\\heroku.npm-cache\\strftime\\0.9.2\\package\\package.json not in flight; writing\nnpm verb afterAdd C:\\Users\\INSPIRON 5547\\AppData\\Local\\heroku.npm-cache\\strftime\\0.9.2\\package\\package.json written\nnpm sill cache afterAdd heroku-cli-util@5.6.1\nnpm verb afterAdd C:\\Users\\INSPIRON 5547\\AppData\\Local\\heroku.npm-cache\\heroku-cli-util\\5.6.1\\package\\package.json not in flight; writing\nnpm sill cache afterAdd filesize@3.1.3\nnpm verb afterAdd C:\\Users\\INSPIRON 5547\\AppData\\Local\\heroku.npm-cache\\filesize\\3.1.3\\package\\package.json not in flight; writing\nnpm verb afterAdd C:\\Users\\INSPIRON 5547\\AppData\\Local\\heroku.npm-cache\\heroku-cli-util\\5.6.1\\package\\package.json written\nnpm verb afterAdd C:\\Users\\INSPIRON 5547\\AppData\\Local\\heroku.npm-cache\\filesize\\3.1.3\\package\\package.json written\nnpm http fetch 200 https://cli-npm.heroku.com/string/-/string-3.3.1.tgz\nnpm http fetch 200 https://cli-npm.heroku.com/lodash/-/lodash-3.10.1.tgz\nnpm sill fetchAndShaCheck shasum 8d2757ec1c0e6c526796fbb6b14036a4098398b7\nnpm verb addTmpTarball C:\\Users\\INSPIR~1\\AppData\\Local\\Temp\\npm-17056-a29eea20\\cli-npm.heroku.com\\string-\\string-3.3.1.tgz not in flight; adding\nnpm verb addTmpTarball already have metadata; skipping unpack for string@3.3.1\nnpm sill cache afterAdd string@3.3.1\nnpm verb afterAdd C:\\Users\\INSPIRON 5547\\AppData\\Local\\heroku.npm-cache\\string\\3.3.1\\package\\package.json not in flight; writing\nnpm verb afterAdd C:\\Users\\INSPIRON 5547\\AppData\\Local\\heroku.npm-cache\\string\\3.3.1\\package\\package.json written\nnpm sill fetchAndShaCheck shasum 5bf45e8e49ba4189e17d482789dfd15bd140b7b6\nnpm verb addTmpTarball C:\\Users\\INSPIR~1\\AppData\\Local\\Temp\\npm-17056-a29eea20\\cli-npm.heroku.com\\lodash-\\lodash-3.10.1.tgz not in flight; adding\nnpm verb addTmpTarball already have metadata; skipping unpack for lodash@3.10.1\nnpm sill cache afterAdd lodash@3.10.1\nnpm verb afterAdd C:\\Users\\INSPIRON 5547\\AppData\\Local\\heroku.npm-cache\\lodash\\3.10.1\\package\\package.json not in flight; writing\nnpm verb afterAdd C:\\Users\\INSPIRON 5547\\AppData\\Local\\heroku.npm-cache\\lodash\\3.10.1\\package\\package.json written\nnpm sill fetchNamedPackageData chalk\nnpm sill mapToRegistry name chalk\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/chalk\nnpm sill fetchNamedPackageData heroku-client\nnpm sill mapToRegistry name heroku-client\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-client\nnpm verb request uri https://cli-npm.heroku.com/chalk\nnpm verb request no auth needed\nnpm info attempt registry request try #1 at 10:09:25\nnpm http request GET https://cli-npm.heroku.com/chalk\nnpm verb request uri https://cli-npm.heroku.com/heroku-client\nnpm verb request no auth needed\nnpm info attempt registry request try #1 at 10:09:25\nnpm http request GET https://cli-npm.heroku.com/heroku-client\nnpm http 200 https://cli-npm.heroku.com/chalk\nnpm verb headers { 'content-type': 'application/json; charset=utf-8',\nnpm verb headers   'content-length': '6757',\nnpm verb headers   connection: 'keep-alive',\nnpm verb headers   server: 'Cowboy',\nnpm verb headers   etag: '\"C9YD3V5XE0DT3DYNQ0TDN3KVX\"',\nnpm verb headers   'cache-control': 'public, max-age=200',\nnpm verb headers   'content-encoding': 'gzip',\nnpm verb headers   date: 'Tue, 17 Nov 2015 15:58:58 GMT',\nnpm verb headers   via: '1.1 vegur, 1.1 c23c9393a7f4dd8628e92239da722716.cloudfront.net (CloudFront)',\nnpm verb headers   'x-cache': 'RefreshHit from cloudfront',\nnpm verb headers   'x-amz-cf-id': 'TcuA4nbvjtaaSMwMA4HqV9H8R0kL4miuhpR54DFcHKgfPh5IticPBQ==' }\nnpm sill get cb [ 200,\nnpm sill get   { 'content-type': 'application/json; charset=utf-8',\nnpm sill get     'content-length': '6757',\nnpm sill get     connection: 'keep-alive',\nnpm sill get     server: 'Cowboy',\nnpm sill get     etag: '\"C9YD3V5XE0DT3DYNQ0TDN3KVX\"',\nnpm sill get     'cache-control': 'public, max-age=200',\nnpm sill get     'content-encoding': 'gzip',\nnpm sill get     date: 'Tue, 17 Nov 2015 15:58:58 GMT',\nnpm sill get     via: '1.1 vegur, 1.1 c23c9393a7f4dd8628e92239da722716.cloudfront.net (CloudFront)',\nnpm sill get     'x-cache': 'RefreshHit from cloudfront',\nnpm sill get     'x-amz-cf-id': 'TcuA4nbvjtaaSMwMA4HqV9H8R0kL4miuhpR54DFcHKgfPh5IticPBQ==' } ]\nnpm verb get saving chalk to C:\\Users\\INSPIRON 5547\\AppData\\Local\\heroku.npm-cache\\cli-npm.heroku.com\\chalk.cache.json\nnpm http 200 https://cli-npm.heroku.com/heroku-client\nnpm verb headers { 'content-type': 'application/json; charset=utf-8',\nnpm verb headers   'content-length': '8583',\nnpm verb headers   connection: 'keep-alive',\nnpm verb headers   server: 'Cowboy',\nnpm verb headers   etag: '\"1VU6C8CAOUWJI9S9PH78ZHCKR\"',\nnpm verb headers   'cache-control': 'public, max-age=200',\nnpm verb headers   'content-encoding': 'gzip',\nnpm verb headers   date: 'Tue, 17 Nov 2015 16:05:35 GMT',\nnpm verb headers   via: '1.1 vegur, 1.1 19248db84f8828dab6092e0e9988f5a0.cloudfront.net (CloudFront)',\nnpm verb headers   'x-cache': 'RefreshHit from cloudfront',\nnpm verb headers   'x-amz-cf-id': 'jm85bg73-C5oljjdIIsCXVBhaxHfQOQyNMdlP6FRkoo1zaMmQKyWjQ==' }\nnpm sill get cb [ 200,\nnpm sill get   { 'content-type': 'application/json; charset=utf-8',\nnpm sill get     'content-length': '8583',\nnpm sill get     connection: 'keep-alive',\nnpm sill get     server: 'Cowboy',\nnpm sill get     etag: '\"1VU6C8CAOUWJI9S9PH78ZHCKR\"',\nnpm sill get     'cache-control': 'public, max-age=200',\nnpm sill get     'content-encoding': 'gzip',\nnpm sill get     date: 'Tue, 17 Nov 2015 16:05:35 GMT',\nnpm sill get     via: '1.1 vegur, 1.1 19248db84f8828dab6092e0e9988f5a0.cloudfront.net (CloudFront)',\nnpm sill get     'x-cache': 'RefreshHit from cloudfront',\nnpm sill get     'x-amz-cf-id': 'jm85bg73-C5oljjdIIsCXVBhaxHfQOQyNMdlP6FRkoo1zaMmQKyWjQ==' } ]\nnpm verb get saving heroku-client to C:\\Users\\INSPIRON 5547\\AppData\\Local\\heroku.npm-cache\\cli-npm.heroku.com\\heroku-client.cache.json\nnpm sill resolveWithNewModule chalk@1.1.1 checking installable status\nnpm sill cache add args [ 'chalk@1.1.1', null ]\nnpm verb cache add spec chalk@1.1.1\nnpm sill cache add parsed spec Result {\nnpm sill cache add   raw: 'chalk@1.1.1',\nnpm sill cache add   scope: null,\nnpm sill cache add   name: 'chalk',\nnpm sill cache add   rawSpec: '1.1.1',\nnpm sill cache add   spec: '1.1.1',\nnpm sill cache add   type: 'version' }\nnpm sill addNamed chalk@1.1.1\nnpm verb addNamed \"1.1.1\" is a plain semver version for chalk\nnpm sill mapToRegistry name chalk\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/chalk\nnpm verb addNameVersion registry:https://cli-npm.heroku.com/chalk not in flight; fetching\nnpm verb get https://cli-npm.heroku.com/chalk not expired, no request\nnpm sill mapToRegistry name chalk\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/chalk\nnpm verb addRemoteTarball https://cli-npm.heroku.com/chalk/-/chalk-1.1.1.tgz not in flight; adding\nnpm verb addRemoteTarball [ 'https://cli-npm.heroku.com/chalk/-/chalk-1.1.1.tgz',\nnpm verb addRemoteTarball   '509afb67066e7499f7eb3535c77445772ae2d019' ]\nnpm info retry fetch attempt 1 at 10:09:25\nnpm info attempt registry request try #1 at 10:09:25\nnpm http fetch GET https://cli-npm.heroku.com/chalk/-/chalk-1.1.1.tgz\nnpm sill resolveWithNewModule heroku-client@2.3.2 checking installable status\nnpm sill cache add args [ 'heroku-client@2.3.2', null ]\nnpm verb cache add spec heroku-client@2.3.2\nnpm sill cache add parsed spec Result {\nnpm sill cache add   raw: 'heroku-client@2.3.2',\nnpm sill cache add   scope: null,\nnpm sill cache add   name: 'heroku-client',\nnpm sill cache add   rawSpec: '2.3.2',\nnpm sill cache add   spec: '2.3.2',\nnpm sill cache add   type: 'version' }\nnpm sill addNamed heroku-client@2.3.2\nnpm verb addNamed \"2.3.2\" is a plain semver version for heroku-client\nnpm sill mapToRegistry name heroku-client\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-client\nnpm verb addNameVersion registry:https://cli-npm.heroku.com/heroku-client not in flight; fetching\nnpm verb get https://cli-npm.heroku.com/heroku-client not expired, no request\nnpm sill mapToRegistry name heroku-client\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-client\nnpm verb addRemoteTarball https://cli-npm.heroku.com/heroku-client/-/heroku-client-2.3.2.tgz not in flight; adding\nnpm verb addRemoteTarball [ 'https://cli-npm.heroku.com/heroku-client/-/heroku-client-2.3.2.tgz',\nnpm verb addRemoteTarball   'a74e4acfa0db16aae740b78f574b6eb974ffbe6e' ]\nnpm info retry fetch attempt 1 at 10:09:25\nnpm info attempt registry request try #1 at 10:09:25\nnpm http fetch GET https://cli-npm.heroku.com/heroku-client/-/heroku-client-2.3.2.tgz\nnpm http fetch 200 https://cli-npm.heroku.com/chalk/-/chalk-1.1.1.tgz\nnpm sill fetchAndShaCheck shasum 509afb67066e7499f7eb3535c77445772ae2d019\nnpm verb addTmpTarball C:\\Users\\INSPIR~1\\AppData\\Local\\Temp\\npm-17056-a29eea20\\cli-npm.heroku.com\\chalk-\\chalk-1.1.1.tgz not in flight; adding\nnpm verb addTmpTarball already have metadata; skipping unpack for chalk@1.1.1\nnpm sill cache afterAdd chalk@1.1.1\nnpm verb afterAdd C:\\Users\\INSPIRON 5547\\AppData\\Local\\heroku.npm-cache\\chalk\\1.1.1\\package\\package.json not in flight; writing\nnpm verb afterAdd C:\\Users\\INSPIRON 5547\\AppData\\Local\\heroku.npm-cache\\chalk\\1.1.1\\package\\package.json written\n. I found that running \"heroku\" command many times, the output changed every time, sometimes it stucked in one line, then every time stucked in different line, so I ran it many times until \"ok\" was shown... then everything was fine.\n. this time i run the heroku update  i got this \nInstalling Heroku Toolbelt v4... !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       An existing connection was forcibly closed by the remote host. - SSL_connect (Errno::ECONNRESET) (Excon\n::Errors::SocketError)\n    Command:     heroku update\n    Version:     heroku/toolbelt/3.42.20 (i386-mingw32) ruby/1.9.3\n    Error ID:    2d95a075ddf44e22994bb6cab3bbdf3f\nMore information in C:/Users/lenovo/.heroku/error.log\nand the .heroku/error.log \nHeroku client internal error.\nAn existing connection was forcibly closed by the remote host. - SSL_connect (Errno::ECONNRESET)\nC:/Program Files/Heroku/vendor/gems/excon-0.45.4/lib/excon/ssl_socket.rb:120:in connect_nonblock'\nC:/Program Files/Heroku/vendor/gems/excon-0.45.4/lib/excon/ssl_socket.rb:120:ininitialize'\nC:/Program Files/Heroku/vendor/gems/excon-0.45.4/lib/excon/connection.rb:387:in new'\nC:/Program Files/Heroku/vendor/gems/excon-0.45.4/lib/excon/connection.rb:387:insocket'\nC:/Program Files/Heroku/vendor/gems/excon-0.45.4/lib/excon/connection.rb:106:in request_call'\nC:/Program Files/Heroku/vendor/gems/excon-0.45.4/lib/excon/middlewares/mock.rb:47:inrequest_call'\nC:/Program Files/Heroku/vendor/gems/excon-0.45.4/lib/excon/middlewares/instrumentor.rb:22:in request_call'\nC:/Program Files/Heroku/vendor/gems/excon-0.45.4/lib/excon/middlewares/base.rb:15:inrequest_call'\nC:/Program Files/Heroku/vendor/gems/excon-0.45.4/lib/excon/middlewares/base.rb:15:in request_call'\nC:/Program Files/Heroku/vendor/gems/excon-0.45.4/lib/excon/middlewares/base.rb:15:inrequest_call'\nC:/Program Files/Heroku/vendor/gems/excon-0.45.4/lib/excon/connection.rb:233:in request'\nC:/Program Files/Heroku/vendor/gems/excon-0.45.4/lib/excon.rb:229:inget'\nC:/Program Files/Heroku/lib/heroku/jsplugin.rb:191:in manifest'\nC:/Program Files/Heroku/lib/heroku/jsplugin.rb:204:inurl'\nC:/Program Files/Heroku/lib/heroku/jsplugin.rb:133:in setup'\nC:/Program Files/Heroku/lib/heroku/cli.rb:24:instart'\nC:/Program Files/Heroku/bin/heroku:29:in `'\nthank you for helping\n. This issue has been resolved.  I was informed that this was a bug that got pushed through and that it was corrected.  I deleted in the heroku-cli in my heroku folder and reinstalled.  Heroku toolbelt now works.\n. Wait, are you trying to reinstall from the actual .exe (or whatever appropriate file extension your OS uses)?  Because I didn't do that.  I just went into the heroku folder, deleted the one heroku-cli file, went back to my prompt and typed in 'heroku'.  It worked from there.\n. My College uses squid proxy to restrict internet usage. When I ran nmap command \nsudo nmap -p 1-65000 202.141.80.22\nto see my open ports, then result was\nNmap scan report for tsangpo.iitg.ernet.in (202.141.80.22)\nHost is up (0.00023s latency).\nNot shown: 64997 filtered ports\nPORT     STATE  SERVICE\n80/tcp   open   http\n443/tcp  closed https\n3128/tcp open   squid-http\nThe output of the command dig rendezvous.runtime.heroku.com is\n```\n; <<>> DiG 9.10.3-P4-Ubuntu <<>> rendezvous.runtime.heroku.com\n;; global options: +cmd\n;; Got answer:\n;; ->>HEADER<<- opcode: QUERY, status: SERVFAIL, id: 42628\n;; flags: qr rd ra; QUERY: 1, ANSWER: 0, AUTHORITY: 0, ADDITIONAL: 1\n;; OPT PSEUDOSECTION:\n; EDNS: version: 0, flags:; udp: 4096\n;; QUESTION SECTION:\n;rendezvous.runtime.heroku.com. IN  A\n;; Query time: 2 msec\n;; SERVER: 127.0.1.1#53(127.0.1.1)\n;; WHEN: Tue Jul 19 12:21:03 IST 2016\n;; MSG SIZE  rcvd: 58\n```\nAnd, What does it mean by problem in DNS resolution? I get DNS resolution problem when I try to connect to my AWS machine through ssh from my college proxy.\n. Yes, I was in China. Networks need to scale the wall, the network is very poor, especially with the command-line to download heroku-cli, but the download heroku-toolbelt is normal from the web, the network itself is not bad. Hope can be downloaded from the website heroku-cli, I can install it manually. Thank you for your answer.\n. ",
    "hkelsey": "I have not changed it:\nLANG => en_US.UTF-8\n. It's a brand new Rails 3.1 app on Cedar but I get the same result with the newer mime-types on a 3.0.10 app. In both cases I have not done anything special to change the mode to US-ASCII. I thought these were UTF8 out of the box.\n. Bingo! Looks like they're on in mime-types 1.17.2 will fix it. Thanks.\n. ",
    "amarraja": "@geemus I am seeing this issue as well with Bundler 1.0.21 and Heroku 2.17.0. It only appears to happen when I am in the root of another project which has a Gemfile. Adding Heroku to the development group is a quick workaround \nThanks\n. @geemus I just tried to recreate this and it was as simple as creating a new rails app, changing to the directory and running heroku. I have put the app I just made here: https://github.com/amarraja/bundler-heroku so you can try with the same copy.\nI am on OSX and using RVM, mainly with my global gemset. I also tried with a fresh rvmrc so everything has to be installed again, and still got the same issue. I will try and have a play and see if I can get more info. Let me know if there is anything else I can get which will help\nCheers\nAmar\n. @geemus that seems correct, I tried in a VM and it worked. I normally use bundle exec explicitly (and never really use binstubs) so it's a bit strange. I will investigate my setup and post findings here for anyone with the same issue. Thanks for taking the time to look into it!\n. Found it. I use the oh-my-zsh package, and it appears the bundler plugin wraps certain commands, one of which is heroku. https://github.com/robbyrussell/oh-my-zsh/blob/master/plugins/bundler/bundler.plugin.zsh\nI will send a pull request to removing this.\nThanks again!\nAmar\n. @gilesbutler thanks for the reminder! I have just submitted a pull request: https://github.com/robbyrussell/oh-my-zsh/pull/1138\n. ",
    "Stevancw": "This was very helpful!\nI had not even considered the bundler plugin- I removed it from my .zshrc and everything worked as usual.\nMany thanks\n. It seems that if you have the heroku toolbelt then you do not need the gem?\n. I would just not include it in the gemfile.\nYou shouldn't have a problem.\nOn 18 Sep 2012, at 16:31, rubyshoes notifications@github.com wrote:\n\nHey thanks Stevancw ... so do you think I should remove the Heroku gem? I will give it a try:)\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "gilesbutler": "Thanks for the fix guys, just had the same problem, seems it still hasn't been fixed in the bundler plugin.\n. ",
    "shannonwells": "I also experienced this problem and had an old version of the heroku binary sitting around in my rvm gemset that would use bundler.  Once I uninstalled the old gem and made sure I was using /usr/bin/heroku, everything was fine.\n. No worries, glad there's a workaround :)\n. ",
    "carchrae": "This 'fix' got me.  See this: http://stackoverflow.com/a/9280405/801751\nWhat screwed me up is that I thought that heroku would use my default ruby version (seems pretty plausible, no?). since I set the default ruby version in rvm.  I install missing dependencies, but nothing takes.  Eventually I found the hard coded version number:  https://github.com/heroku/heroku/commit/9c6fb488471bd6fa6055ad7f01b409fb7d6644b7#L1R1\nSo, all the time I applied the missing dependencies they were being applied to the wrong version of ruby.\nJust me, but this seems like a bad fix.  I'm not a ruby person, so what do I know.  Any non-rails ubuntu developers looking to work with heroku should not have to spend so much effort to get the toolbelt installed.\n. I can give it a shot and let you know what happens.  \nThe issue I had was something along the lines of\n1) run heroku\n2) see error message\n3) run apt-get for missing dependency\n4) go to 1\nSince the default installed version of ruby is not 1.9.1 (but 1.9.2 or 1.9.3) I suspect the apt-get command was not installing the missing dependency for 1.9.1.\n. yeah, as suspected.  \ntom@mars:~/git/ftweb2$ heroku \n/usr/local/heroku/vendor/gems/rest-client-1.6.1/lib/restclient.rb:9:in rescue in <top (required)>': no such file to load -- net/https. Try running apt-get install libopenssl-ruby (LoadError)\n    from /usr/local/heroku/vendor/gems/rest-client-1.6.1/lib/restclient.rb:5:in'\n    from /usr/local/heroku/vendor/gems/rest-client-1.6.1/lib/rest_client.rb:2:in require'\n    from /usr/local/heroku/vendor/gems/rest-client-1.6.1/lib/rest_client.rb:2:in'\n    from /usr/local/heroku/lib/heroku/client.rb:2:in require'\n    from /usr/local/heroku/lib/heroku/client.rb:2:in'\n    from /usr/local/heroku/lib/heroku.rb:3:in require'\n    from /usr/local/heroku/lib/heroku.rb:3:in'\n    from /usr/local/heroku/lib/heroku/cli.rb:1:in require'\n    from /usr/local/heroku/lib/heroku/cli.rb:1:in'\n    from /usr/bin/heroku:31:in require'\n    from /usr/bin/heroku:31:in'\n. Correct.   It was with #!/usr/bin/ruby1.9.1\nI believe the error appears even if you don't install rvm.  And it was a standard install of Ubuntu 10.04LTS.\nAs an aside, is there any reason you are against the idea of having a version check in the file instead of forcing a specific binary?\n. Hmm. Thanks for checking it out. I'll look at my setup again and see if\nthere are any other clues why it fails. The steps I took were as described\non the started page for Linux on the heroku site.\nOn Feb 14, 2012 6:04 PM, \"Phil Hagelberg\" \nreply@reply.github.com\nwrote:\n\nOK, I just attempted to repro this on a fresh Ubuntu install. I've\ninstalled rvm and used it to install ruby 1.9.2 as well as 1.8.7, and I\ncan't get the heroku client to fail. Can you provide more detail about the\nsteps you took to get these results?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/174#issuecomment-3973822\n. Without doing a complete re-install myself, I can't do much more investigation here.  I did try the commands as a different user (in case it was my path), but it behaved the same (ie broken as described above) when 1.9.1 is specified in the shebang.  \n\nJust to confirm, you tried it on Ubuntu 10.04 LTS.  Not a more recent version?  \nIf you could not reproduce on 10.04, then it must be some combination of other software installed here.  :/ \n. Great.  Glad you got to the bottom of it.\n. ",
    "technomancy": "The fact that /usr/bin/heroku is written in ruby is an implementation detail, so the way that rvm is affecting anything at all is a bug. Changing the shebang to /usr/bin/ruby1.9.1 rather than using /usr/bin/env should sidestep rvm and force it to use the apt-get version of ruby that has all the correct dependencies declared, right?\n. Just to clarify, you're getting that same stack trace without /usr/bin/env in /usr/bin/heroku? I haven't used rvm before, but it sounds like I'll need to try it out on a VM over here. Are there any particular steps I would need to take to repro on a fresh install of rvm or is it pretty straightforward?\n. I wasn't able to repro this on a fresh Ubuntu without rvm, but I will try again.\nI'm afraid I'm not clear on what you mean by \"having a version check in the file\". My current goal is to force use of the system level ruby 1.9 installation since we know we can rely on it having the basics in place, but I'm open to alternatives.\n. OK, I just attempted to repro this on a fresh Ubuntu install. I've installed rvm and used it to install ruby 1.9.2 as well as 1.8.7, and I can't get the heroku client to fail. Can you provide more detail about the steps you took to get these results?\n. Oh, no I was doing this on the most recent release. I'll try again with the LTS.\n. Looks like this is an issue where the ruby packages on lucid simply weren't declaring all the dependencies they needed. The next release will fix this issue.\n. Given that libssl 0.9.8g is from 2007, I think it's not unreasonable to require a newer version. However, we should make that explicit.\n. @geemus: I'll just add it to the dependencies list.\n. How are you specifying your proxy? You should be setting https_proxy as an environment variable.\n. Thanks for the heads-up. I'll look into ensuring this works on Leopard; in the mean time try this older version of the git installer: http://code.google.com/p/git-osx-installer/downloads/detail?name=git-1.7.5.4-x86_64-leopard.dmg&can=2\n. Does your machine have a 64-bit CPU?\n. Tracking this on the toolbelt: https://github.com/heroku/toolbelt/issues/19\n. Did you install using the toolbelt or rubygems?\n. Very strange. What does echo %PATH% say?\n. You could try gem install --user netrc, but it's probably better to use the toolbelt instead: https://toolbelt.herokuapp.com.\n. This could easily be a problem if PATH is set up in .profile or (heaven forbid) something like .bashrc.\nI think we might need a better way to detect git here, but I'm not sure what it is. Perhaps run the has_git script via a login shell? IIRC .profile doesn't get sourced on OS X for programs that are launched from the GUI.\n. I can't reproduce this with heroku run bash using the toolbelt. What's your OS, version, and method of installation? Do you by any chance have an .inputrc file present that could be changing readline bindings?\n. I think it's possible to have a custom readline dir if you're using rbenv, but I don't know what it would be set to on your machine; sorry.\n. I believe this is a duplicate of https://github.com/heroku/toolbelt/issues/62\nIf you are still seeing it please let us know.\n. Is this still relevant? You seem to be implying that we're seeing a bunch of build failures on travis, but that isn't the case right now: https://travis-ci.org/heroku/heroku/\n. The open command uses the launchy gem for opening the browser: https://github.com/copiousfreetime/launchy\nCan you open an issue on that tracker with the details of your system? (OS, browser of choice, etc)\n. A SocketError would indicate connectivity issues. Are you behind a firewall or proxy that could be interfering with your ability to connect to the Heroku API servers?\n. It sounds like you might be having trouble connecting to the apt repository. Are you behind a proxy or some other unusual network situation?\n. Hi; this repository is for the heroku command-line client; it's not a place for general support queries.\nIf this is for a paid app you can contact support; otherwise try https://discussion.heroku.com/\n. It looks like you're using this installed as a gem via an rvm-managed ruby. It's best to use the heroku cli tool with your system-level Ruby if possible so it'll use your system-wide certificate store. Can you try installing with the toolbelt instead? https://toolbelt.heroku.com\n. Never mind; think I got it.\n. Got a quick review on chat; going to push this out.\n. @catsby yeah that's not supported in the scale subcommand currently. I could see a case being made for that (\"scaling up\" vs scaling out) but I think that should be a separate discussion/PR.\n. I don't know why we're getting 404s, but it looks like our notation which is intended to indicate 1.9.1 OR 2.0 OR 2.1 is getting interpreted as AND somehow? I'll set up a jessie VM to investigate.\n. Yeah, I can cut a new version. Is this a minor version bump?\n. I've pushed out 3.9.2 and tested it on Debian, but I don't have a Mac readily accessible; can you confirm the auto-update works there?\n. Had to roll this back since it caused https://status.heroku.com/incidents/650\n. That is, the 3.9.2 release caused this, not the new postgres commands specifically.\n. This should work as a way to attempt to repro the issues we saw on Windows; thumbs up.\n. It looks like the update hash is only used in the auto-updater, yeah.\n. Good catch; I updated the output but not the help text. Pushing a fix.\n. ",
    "markpundsack": "$ heroku create\n! Internal Server Error\n! Heroku tools are currently at condition RED\n! ISSUE: We are observing increased HTTP error rates and\nlatencies to applications and to the Heroku API. We are\ninvestigating and will post additional updates as we \nlearn more.\n! Follow status of this issue at:\n!   http://status.heroku.com\n. @mfine Regardless of the API call, from a user perspective, it's clearer to have upgrade and downgrade. See addons:upgrade and addons:downgrade as prior art.\n. Totally fine with alias.\nWhy remove the --tier? Can't I upgrade from dev directly to production?\n. Oh, you mean require TIER rather than have it be an option. That's fine.\n. $ h orgs:default\n !    Usage: heroku orgs:default TARGET\n !    Must specify TARGET to set as default organization.\norgs:default should output my current default.\n. I kinda wish the output made it clear what was happening; that the person was already a member, and you're just updating their role, in case that wasn't what the user intended somehow.\n. In that particular example, if the user is already a \"member\", then the command is a no-op, right? If they were an admin instead, then it would be meaningful. What's our convention for repeated commands? Is it to fail, or to silently succeed?\n/cc @max \n. Sounds like the right answer then might be to fix this in manager-api and make it idempotent and also have it handle the role-changing automatically rather than requiring us to use a different endpoint.\n. Should get feedback from @geemus on what the API convention would be. Silently succeeding seems like the consistent approach, but there's a case to be made that silently downgrading an admin to a member may actually be a mistake. e.g. one admin doesn't realize someone else has already been added as an admin and goes to add them as a member, and silently downgrades them. Or we have a parse error and don't correctly pick up the role and downgrade them accidentally. All other cases seem reasonable to handle silently though. e.g. upgrading a member to an admin, or just idempotently adding them as the same role they already have.\n/cc @itchymutt \n. @technomancy does heroku update:beta not need the beta hash anywhere?\n. This is awesome! I hate to bikeshed here, but seeing the endpoint named features makes me wonder whether we should have the CLI be heroku features:enable. This also reserves the settings namespace for non-binary settings as API implied they wanted to account for.\nAnd then a tiny thing, but the doc for preboot should be renamed to remove the \"labs\" word. \nhttps://devcenter.heroku.com/articles/labs-preboot -> https://devcenter.heroku.com/articles/preboot\nOtherwise, the UX above seems perfect. Thanks @nzoschke!\n. @ryanbrainard Will this leave code.heroku.com in the .netrc? If so, it feels a little weird to not clean it up.\n. What is the old entry related to? And if it's unrelated, why does this PR remove it?\n\nOn Sep 29, 2014, at 6:22 PM, Michael Friis notifications@github.com wrote:\n+1, the old entry is not related to what we're trying to do here.\n\u2014\nReply to this email directly or view it on GitHub.\n. Exactly. Isn't that related?\nOn Sep 29, 2014, at 7:34 PM, Michael Friis notifications@github.com wrote:\nI don't know what the old entry is related to, but I think it's an old attempt at introducing HTTP Git from more than two years ago (before I started at Heroku).\n\u2014\nReply to this email directly or view it on GitHub.\n. @brandur Simple, don't typo!\n\nSeriously, I love the masking and I'm really glad it's there. Even if it's not a genuine security leak, assuming the token was actually used, but when you copy-n-paste it into an email, it looks like a security leak and freaks people out. This feels so much better. Thanks @will!\n. Perhaps this should be an issue on the heroku-pipeline repo. \nhttps://github.com/heroku/heroku-pipeline/issues\n. Doesn't quite feel right to be advertising at that point. And at any rate, discoverability != advertising. Perhaps the help should be clearer? Starting with changing the overall description from singular to plural, or at least buildpack(s):\nbuildpacks      #  manage the buildpack for an app\n. Agreed on being good policy to ask up-front, but technically I thought we only needed to provide out-out for third-party analytics. If this is going directly to us, I was under the impression we didn\u2019t absolutely have to provide an opt-out. Now my knowledge might be out of date, and certainly predates us being Safe Harbor, but when we implemented this in Dashboard, we made the opt-out explicitly for third-party. I don\u2019t think we actually have any first-party analytics in Dashboard, so I don\u2019t think we\u2019re in violation either way. But it would be good to get clarity.\n\n. OMG we had creds in git? That token needs to be rolled.\n. Should we use a heroku.com domain for this?\n. ",
    "kgthegreat": "Yes it's happening everytime. Here is the o/p you want:\nRestClient.post \"https://api.heroku.com/apps\", \"app[stack]=\", \"Accept\"=>\"/; q=0.5, application/xml\", \"Accept-Encoding\"=>\"gzip, deflate\", \"Content-Length\"=>\"11\", \"Content-Type\"=>\"application/x-www-form-urlencoded\", \"User-Agent\"=>\"heroku-gem/2.14.0\", \"X-Heroku-API-Version\"=>\"2\", \"X-Ruby-Platform\"=>\"i686-linux\", \"X-Ruby-Version\"=>\"1.9.2\"\n/usr/local/rvm/gems/ruby-1.9.2-p290@daaksend/gems/heroku-2.14.0/lib/heroku/client.rb:75:in create_request': undefined methodtext' for nil:NilClass (NoMethodError)\n    from /usr/local/rvm/gems/ruby-1.9.2-p290@daaksend/gems/heroku-2.14.0/lib/heroku/command/apps.rb:122:in create'\n    from /usr/local/rvm/gems/ruby-1.9.2-p290@daaksend/gems/heroku-2.14.0/lib/heroku/command.rb:114:inrun'\n    from /usr/local/rvm/gems/ruby-1.9.2-p290@daaksend/gems/heroku-2.14.0/bin/heroku:14:in <top (required)>'\n    from /usr/local/rvm/gems/ruby-1.9.2-p290@daaksend/bin/heroku:19:inload'\n    from /usr/local/rvm/gems/ruby-1.9.2-p290@daaksend/bin/heroku:19:in `'\np.s. apologies for the late reply\n. Just for the records, the command works fine with\n$ HEROKU_SSL_VERIFY=disable heroku create\n. @ddollar Wish I had the time to fix this. Have you tried reproducing this in any machine with Ubuntu 9.10? I think it should be easy to reproduce. It's happening to me irrespective to ruby/rails version. And it happens after heroku 2.0.2(?)\n9.10 is generally buggy. I am evaluating the option to upgrade/change as I write this. Do let me know if you cannot reproduce this easily. Thanks for all the help and apologies for the delay in response. \n. ",
    "kremers": "Same here:\ndhcppc5-server:/home/krey/heroku/noir-mongo-heroku# heroku create --stack cedar\nRestClient.post \"https://api.heroku.com/apps\", \"app[stack]=cedar\", \"Accept\"=>\"/; q=0.5, application/xml\", \"Accept-Encoding\"=>\"gzip, deflate\", \"Content-Length\"=>\"16\", \"Content-Type\"=>\"application/x-www-form-urlencoded\", \"User-Agent\"=>\"heroku-gem/2.14.0\", \"X-Heroku-API-Version\"=>\"2\", \"X-Ruby-Platform\"=>\"i486-linux\", \"X-Ruby-Version\"=>\"1.8.7\"\n/usr/lib/ruby/gems/1.8/gems/heroku-2.14.0/lib/heroku/client.rb:75:in create_request': undefined methodtext' for nil:NilClass (NoMethodError)\n        from /usr/lib/ruby/gems/1.8/gems/heroku-2.14.0/lib/heroku/command/apps.rb:122:in create'\n        from /usr/lib/ruby/gems/1.8/gems/heroku-2.14.0/lib/heroku/command.rb:114:insend'\n        from /usr/lib/ruby/gems/1.8/gems/heroku-2.14.0/lib/heroku/command.rb:114:in run'\n        from /usr/lib/ruby/gems/1.8/gems/heroku-2.14.0/bin/heroku:14\n        from /usr/bin/heroku:19:inload'\n        from /usr/bin/heroku:19\ndhcppc5-server:/home/krey/heroku/noir-mongo-heroku#\nFails also with other error if I remove the file with the api key...\n. Yeah, thank you for the fixed version. David Dollar --- Re: [heroku] heroku create is failing (#184) --- Von:\"David Dollar\" reply@reply.github.comAn\"kremers\" kremers@act-online.deDatum:Sa., 10.12.2011 0:07BetreffRe: [heroku] heroku create is failing (#184)2.16.1 is out\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/184#issuecomment-3087430\n. ",
    "nathancolgate": "Having similar issue with 2.16.0\n```\n$ RESTCLIENT_LOG=stdout heroku create\nRestClient.post \"https://api.heroku.com/apps\", \"app[stack]=\", \"Accept\"=>\"/; q=0.5, application/xml\", \"Accept-Encoding\"=>\"gzip, deflate\", \"Content-Length\"=>\"11\", \"Content-Type\"=>\"application/x-www-form-urlencoded\", \"User-Agent\"=>\"heroku-gem/2.16.0\", \"X-Heroku-API-Version\"=>\"2\", \"X-Ruby-Platform\"=>\"x86_64-darwin10.7.3\", \"X-Ruby-Version\"=>\"1.9.2\"\n=> 202 Accepted | application/xml 759 bytes\n.../gems/heroku-2.16.0/lib/heroku/helpers.rb:343:in hputs': wrong number of arguments (2 for 1) (ArgumentError)\n    from .../gems/heroku-2.16.0/lib/heroku/command/apps.rb:109:increate'\n    from .../gems/heroku-2.16.0/lib/heroku/command.rb:111:in run'\n    from .../gems/heroku-2.16.0/bin/heroku:14:in'\n    from .../bin/heroku:19:in load'\n    from .../bin/heroku:19:in'\n```\n. FWIW: Downgrading to 2.15.0 fixed my problem.\n. More feedback: Looks like it was working all along, I now have a handful of apps in my account: \nstormy-winter-3021, sharp-snow-3555, pure-river-2776, growing-planet-4234, freezing-sunrise-2838, \nempty-autumn-5365, blooming-mist-3283, blazing-snow-7284\n. Thanks, @ddollar \n. Same error / different command:\n$ heroku run bundle exec rails c\n. We are learning that our ISP may be blocking some ports... causing this error.\n. Confirmed: User Error: Network issues on our end.\n. After switching to a different network, everything worked as expected for us.\n. ",
    "Unpakt": "We are having the same issue! +1\n. ",
    "bloudermilk": "+1 \u2014 This is holding us back from migrating a few apps to Heroku\n. ",
    "jlsuttles": "+1 Same issue!\n. ",
    "patbenatar": "+1 would be super helpful\n. ",
    "flomotlik": "Any updates or estimations when this will be available?\n. I've just written a short script that takes care of that and can be used in CI easily as well.\nhttps://gist.github.com/4136579\nIt just wraps the heroku call and exits with the same status. The output is written to a tmpfile with tee so we can see it immediately (important for CI) and not just after it is finished and stored in a variable.\nAny chance this is implemented by the Heroku Gem itself sometime in the near or very near future?\n. ",
    "fancyremarker": "Here's a quick-and-dirty Heroku::Rake::Task wrapper which provides an execute method, similar to Rake::Task, but which will properly pass through the remote exit status, per @geemus's suggestion:\nGist: Heroku::Rake::Task\nAt the moment, it doesn't do anything fancy like accepting arguments for parameterized Rake tasks, or buffering the output from heroku rake, but it addresses the basic problem. Hope this helps!\n. ",
    "mpoisot": "@geemus - the command doesn't work as written. First it needs (single) quotes or else the local shell sees it as 2 local commands and interprets $? in the local context. Second, it needs a \";\" instead of \"&&\" so that the echo command always runs. With \"&&\" echo would only run if the first command returns cleanly (code 0), which actually might be useful depending on how you want to parse the output.\nAnyway, it should be:\nheroku run 'rake asdf; echo $?'\n. ",
    "brandon-rhodes": "+1\n. I mean, I was able to get around the problem for the moment by running heroku run bash and then using the bash prompt to run manage.py --help but it would be neat for it to work in a single step instead.\n. ",
    "dblock": "We've taken the basic idea of echo-ing the exit status and tailing output and wrapped it into a gem called heroku-commander. It also supports run:detached. See this blog post for an intro.\n. 2.26.2 is the latest gem version on Rubygems, that's what the error came from; i don't see any encoding-related commits in https://github.com/heroku/heroku/commits/master since that, should I still try HEAD?\nfeel free to ping me offline for what we use Jenkins with heroku - dblock at dblock dot org (we can skype when i am wearing my fog t-shirt if you want :))\n. Sorry, here's the 2.26.2 output. My bad.\n05:34:56  /home/jenkins/.rvm/gems/ruby-1.9.2-p318/gems/heroku-2.26.2/lib/heroku/client/rendezvous.rb:63:in `write': \"\\xC3\" from ASCII-8BIT to UTF-8 (Encoding::UndefinedConversionError)\n05:34:56    from /home/jenkins/.rvm/gems/ruby-1.9.2-p318/gems/heroku-2.26.2/lib/heroku/client/rendezvous.rb:63:in `block in start'\n05:34:56    from /home/jenkins/.rvm/gems/ruby-1.9.2-p318/gems/heroku-2.26.2/lib/heroku/client/rendezvous.rb:46:in `loop'\n05:34:56    from /home/jenkins/.rvm/gems/ruby-1.9.2-p318/gems/heroku-2.26.2/lib/heroku/client/rendezvous.rb:46:in `start'\n05:34:56    from /home/jenkins/.rvm/gems/ruby-1.9.2-p318/gems/heroku-2.26.2/lib/heroku/command/run.rb:118:in `rendezvous_session'\n05:34:56    from /home/jenkins/.rvm/gems/ruby-1.9.2-p318/gems/heroku-2.26.2/lib/heroku/command/run.rb:104:in `run_attached'\n05:34:56    from /home/jenkins/.rvm/gems/ruby-1.9.2-p318/gems/heroku-2.26.2/lib/heroku/command/run.rb:62:in `rake'\n05:34:56    from /home/jenkins/.rvm/gems/ruby-1.9.2-p318/gems/heroku-2.26.2/lib/heroku/command.rb:181:in `run'\n05:34:56    from /home/jenkins/.rvm/gems/ruby-1.9.2-p318/gems/heroku-2.26.2/lib/heroku/cli.rb:9:in `start'\n05:34:56    from /home/jenkins/.rvm/gems/ruby-1.9.2-p318/gems/heroku-2.26.2/bin/heroku:17:in `<top (required)>'\n05:34:56    from /home/jenkins/.rvm/gems/ruby-1.9.2-p318/bin/heroku:19:in `load'\n05:34:56    from /home/jenkins/.rvm/gems/ruby-1.9.2-p318/bin/heroku:19:in `<main>'\n. It came from a new task that we started running. Lots of other tasks are running fine.\nLooks like it chokes on an umlaut. I know this cause I managed to compare output from heroku rake run in console vs. Jenkins. The text output is Reimsch\u00fcssel.\nThis task runs ok from the command line, but does abort with an exception (it's some bug in our code). There're no encoding errors when run from the command line, but the last output looks like this:\n``\nCache write: INDEX:User/*\nCache delete: as_json/unspecified/User/4e72c13d04ffce00010074e2/short/true\nCache delete: as_json/unspecified/User/4e72c13d04ffce00010074e2/short/false\nCache delete: as_json/unspecified/User/4e72c13d04ffce00010074e2/public/true\nCache delete: as_json/unspecified/User/4e72c13d04ffce00010074e2/public/false\nCache delete: as_json/unspecified/User/4e72c13d04ffce00010074e2/all/true\nCache delete: as_json/unspecified/User/4e72c13d04ffce00010074e2/all/false\nCache delete: to_xls/User/4e72c13d04ffce00010074e2/xls\nCache delete: to_xls/User/4e72c13d04ffce00010074e2/s\n[2012-05-29 08:37:16 -0700]  YYY (someone@example.com)\nCache write: INDEX:User/id=4e73402cf964bc0001006568\nCache write: INDEX:User/*\nCache write: INDEX:User/*\nCache delete: as_json/unspecified/User/4e73402cf964bc0001006568/short/true\nCache delete: as_json/unspecified/User/4e73402cf964bc0001006568/short/false\nCache delete: as_json/unspecified/User/4e73402cf964bc0001006568/public/true\nCache delete: as_json/unspecified/User/4e73402cf964bc0001006568/public/false\nCache delete: as_json/unspecified/User/4e73402cf964bc0001006568/all/true\nCache delete: as_json/unspecified/User/4e73402cf964bc0001006568/all/false\nCache delete: to_xls/User/4e73402cf964bc0001006568/xls\nCache delete: to_xls/User/4e73402cf964bc0001006568/s\n[2012-05-29 08:37:16 -0700] XXX (someoneelse@example.com)\nrake aborted!\nundefined methodzzz' for nil:NilClass\nTasks: TOP => db:send_email\n(See full trace by running task with --trace)\n```\nSomething is different though between when run under Jenkins and bash (otherwise both would fail at the same time). Here's the output from env on Jenkins during the job with those variables that could be relevant.\n10:40:44  SHELL=/bin/bash\n10:40:44  LD_LIBRARY_PATH=/usr/lib/jvm/java-6-openjdk/jre/lib/i386/client:/usr/lib/jvm/java-6-openjdk/jre/lib/i386:/usr/lib/jvm/java-6-openjdk/jre/../lib/i386\n10:40:44  PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games\n10:40:44  PWD=/var/jenkins/workspace/db-test\n10:40:44  LANG=en_US.UTF-8\n10:40:44  HOME=/home/jenkins\n10:40:44  SHLVL=2\n. No magic comments :) We're doing puts or logger info from the rake tasks. Why would it matter for generated output?\nYes, successful console runs from the same machine.\n. Btw, what's -T newly added to heroku rake? Couldn't find a doc.\n. I got a repro hacking the gem. This is what comes back from the server:\n[91, 50, 48, 49, 50, 45, 48, 53, 45, 50, 57, 32, 48, 57, 58, 49, 57, 58, 50, 56, 32, 45, 48, 55, 48, 48, 93, 32, 32, 71, 46, 32, 82, 101, 105, 109, 115, 99, 104, 195, 188, 115, 115, 101, 108, 32, 40, 103, 105, 98, 64, 97, 114, 116, 115, 121, 109, 97, 105, 108, 46, 99, 111, 109, 41, 13, 10, 91, 50, 48, 49, 50, 45, 48, 53, 45, 50, 57, 32, 48, 57, 58, 49, 57, 58, 50, 56, 32, 45, 48, 55, 48, 48, 93, 32, 32, 65, 97, 114, 111, 110, 32, 87, 105, 110, 100, 115, 111, 114, 32, 40, 97, 97, 114, 111, 110, 46, 119, 105, 110, 100, 115, 111, 114, 64, 103, 109, 97, 105, 108, 46, 99, 111, 109, 41, 13, 10]\nb.pack('c*') gives this:\nG. Reimsch\\xC3\\xBCssel (email)\\r\\n[2012-05-29 09:19:28 -0700]  ... (email)\\r\\n\"\nSo how does heroku know what to transmit data in?\n. I am going to guess that the data transmitted from Heroku is always UTF-8, but that the SSL client has its own mind to figure out which encoding the client wants based on _insert your theory here___. The following fixes the problem:\nruby\ndata.force_encoding(\"utf-8\")\noutput.write(fixup(data))\nAny better ideas?\n. I guess this is my fault, sorry. When does this fail? What else do you have that's not a String? \nThe fix should probably be if data.respond_to?(:force_encoding), you can have a method on the class, but it could be private for example.\n. @clacke => there're no specs for rendezvous.rb, I guess because it was a bit of work to mock an SSL context - i added this in #352\n. @clacke => it seems like a less ruby-esque and more java-esque or .net-esque way of doing it; every book I've seen uses :respond_to? though\n. ",
    "jeppeliisberg": ":+1: for a proper fix for this as well. This recently caused an outage on one of my production systems and effectively prevents automated deploys :-(\n. ",
    "sylvinus": "+1\n. ",
    "jkeyes": ":+1: to get this into core rather than as a plugin\n. This is no longer a problem for me:\nheroku-toolbelt/3.43.10 (x86_64-darwin10.8.0) ruby/1.9.3\nheroku-cli/5.2.40-09fa7ac (darwin-amd64) go1.6.2\n=== Installed Plugins\nheroku-certs@1.1.14\nheroku-config\nheroku-config@1.1.0\nOut of curiosity can you let us know why this happened. Thanks.\n. ",
    "niallsmart": ":+1: \n. How about at least adding it as an opt-in command line flag to heroku run (and then flipping it to the default in the next major version bump)\n. @dickeyxxx my thinking being that if reticence to make a breaking change is holding this up then putting it behind a command line flag solves for that. it would be nice if this was a supported part of the toolbelt instead of having to install a plugin.\n. ",
    "gilsho": ":+1:\n. ",
    "christhekeele": ":+1: \n. Sadly,\n$ heroku version\n/usr/local/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:45:in `require': cannot load such file -- netrc (LoadError)\n    from /usr/local/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:45:in `require'\n    from /usr/local/heroku/lib/heroku/auth.rb:6:in `<top (required)>'\n    from /usr/local/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:45:in `require'\n    from /usr/local/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:45:in `require'\n    from /usr/local/heroku/lib/heroku/client.rb:4:in `<top (required)>'\n    from /usr/local/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:45:in `require'\n    from /usr/local/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:45:in `require'\n    from /usr/local/heroku/lib/heroku.rb:1:in `<top (required)>'\n    from /usr/local/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:45:in `require'\n    from /usr/local/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:45:in `require'\n    from /usr/local/heroku/lib/heroku/cli.rb:4:in `<top (required)>'\n    from /usr/local/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:45:in `require'\n    from /usr/local/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:45:in `require'\n    from /usr/local/heroku/bin/heroku:22:in `<main>'\nHowever,\n$ cat /usr/local/heroku/lib/heroku/version.rb\nmodule Heroku\n  VERSION = \"3.6.0\"\nend\nThis is the same version number that the working gem reports.\n. As far as I can tell the only differences between the two are in the bin/heroku binstub itself, according to this hacky git diff method.\n. Thanks! Let me know if I can assist.\n. There doesn't seem to be a vendor in my /usr/local/heroku. Same output as noted in #1071. Closest thing is /usr/local/heroku/lib/vendor/ which only contains heroku/okjson.rb.\n. Excellent, thank you!\n. ",
    "csbrooks6": "This really needs to get fixed. I'm trying not to get mad, but there's really no excuse for a bug like this lasting so long. It's just embarrassing.\n. ",
    "jswhitworth": ":+1:\n\"It'd be a lot cooler if you did.\" - Wooderson\n. ",
    "peterlada": "Bit me too. heroku run alembic upgrade fails, but the exit code is 0 :( 3 years old bug.\n. Broke two days ago:\n``\nError:       undefined methodsize' for nil:NilClass (NoMethodError)\nBacktrace:   /Users/air/.heroku/client/lib/heroku/helpers.rb:120:in truncate'\n             /Users/air/.heroku/client/lib/heroku/command/releases.rb:33:inblock in index'\n             /Users/air/.heroku/client/lib/heroku/command/releases.rb:30:in map'\n             /Users/air/.heroku/client/lib/heroku/command/releases.rb:30:inindex'\n             /Users/air/.heroku/client/lib/heroku/command.rb:217:in run'\n             /Users/air/.heroku/client/lib/heroku/cli.rb:40:instart'\n             /usr/bin/heroku:24:in `'\nCommand:     heroku releases -a ep-prod\nPlugins:     heroku-pg-extras\nVersion:     heroku-toolbelt/3.16.0 (x86_64-darwin10.8.0) ruby/1.9.3\n```\n. ",
    "brightball": "Gets my vote too.\n. ",
    "yordis": "Does heroku care about as? 3 years late still the same problem in the end the benefices about use heroku are for them. @geemus some progress about this or still doing extra gems and hack for this.\n:+1: \n. ",
    "tal-moshayov": "This bug keeps biting my tail when deploying. \nHEROKU FIX THIS ALREADY\n. ",
    "adamJLev": "+1 \n3 years in the making, this must be reallyyyy complicated. Up there with rocket surgery\n. ",
    "fellowshipofone": ":+1: Please!\n. ",
    "jwaldrip": ":+1:\n. ",
    "jdxcode": "Currently we\u2019re evaluating the current state of the toolbelt and creating a plan to deliver a better experience and will have more details as available. I apologize for the vague message, but this is an issue we\u2019re acutely aware of and a fix is coming.\n. are you having good luck with it @JacobEvelyn? I could look into adding it, it's a risky change simply because I don't have a great idea how it might possibly mess up people's flows, but I'm down to try it. I would love to solve this bug.\n. how is that different than testing by installing the plugin?\n. @niallsmart you've got the right idea. The issue here is that discoverability in a CLI is tough, so not that many people would notice the flag. Also, the complex setups where people are potentially using run in  weird ways which may break their workflow are probably using it in scripts. The plugin is fine for testing the functionality works in a normal case, I'm worried about potential corner cases that I haven't yet considered.\nIn any case, this is worth pursuing and I think that corner cases will be few if any. I also think this will fix enough problems that we could work through whatever those corner cases are. I'm considering doing this next week, but if issues crop up I may have to revert.\n. I'm also of the opinion that the status code should just be the status code that was returned by the process, I don't think a flag is a good long-term solution.\n. good news (finally)! the new CLI will handle this problem, and I have a PR in to start testing it in this CLI: https://github.com/heroku/heroku/pull/1519\nRight now it will work behind a flag, but I intend to make that temporary if possible. There is a bit of work left to be done in the v4 module that works with this: https://github.com/heroku/heroku-run\nNamely handling things like stdin and piping, but I hope to merge it soon.\n. this is out! try it with heroku run --exit-code\n. @stof thanks for pointing that out\nhttps://github.com/heroku/heroku/pull/1546\n. What version are you on?\n. it does now\n. but this is super old so that's not surprising\n. I'm going to close this because there really isn't a reliable way to know if the API is having problems without calling heroku status. (It could be a getaddrinfo issue, but that's rarely the case)\n. there are no plans to change this port\n. @jeffreytu does git work? what's the output of git --version?\n. @iamwinston we don't currently support ssh agent forwarding. Are you trying to download a ruby gem this way?\n. the best solution is probably bundle package --all\n. I also added a stderr message that will say HEROKU_API_KEY was used if there is an authentication failure\n. I believe this stuff is all gone now\n. oops, no it isn't. Once more of the v4 CLI stuff is out I'll be sure to resolve it though: https://github.com/heroku/heroku/blob/master/resources/deb/heroku/postinst\n. this is now resolved\n. @infamouse can you give me permission to access your app and try it myself? It'd be good to have a good example test case. If you want you could also email me at jeff@heroku.com.\nFYI @heroku/api this isn't likely to be a CLI issue, it's probably rendezvous since this code has been completely ported over to node, but I'll see if I can find out more information.\n. Ah I remember seeing that ticket and I remember we determined it was an issue with the upstream server. I'm going to close this ticket since it is not an issue with the CLI (only the CLI team sees/manages these tickets, and there isn't anything I can do here).\nIf you're having issues with this, submit a support ticket.\n. @jjb it sounds like you're talking about heroku local, this ticket is about heroku run\n. @munhitsu can you reliably reproduce?\n. if so you should submit a support ticket so we can look closer\n. right now homebrew isn't an officially supported installation path, but I plan to make it one\n. yeah, it's going to conflict with the new plugin architecture https://github.com/heroku/heroku-hello-world\n. Your CLI is very out of date\n. I realize the first comment here suggested that the conversation move to this github repo, but today this repo is only monitored by the CLI team and this change would involve other teams. So if you want it, I'd ask for you to submit a support ticket.\n. closing as fork is deprecated. you should not be receiving this error at all anymore, the CLI isn't even written in ruby. Just reinstall it. I'm not able to reproduce this at all. Does heroku logs -t | cat work now? This code has been entirely rewritten.\n. would anyone mind testing this again? #1318 should have resolved this\n. I'm going to close this since the code in question is gone, but please comment if there are new issues\n. Would you mind trying again after running heroku update? I put a small fix around this error.\nOn Thu, Mar 26, 2015 at 12:53 PM, MalikRumi notifications@github.com\nwrote:\n\n@dickeyxxx Well, since you invited further comment, I will. Here is my error:\n\u2190[0KRunning... 0.00BC:/Users/.heroku/client/lib/heroku/cli.rb:45:in `': No such file or directory - stty ica\nnon echo (Errno::ENOENT)\n        from C:/Users/.heroku/client/lib/heroku/cli.rb:45:inrescue in start'\n        from C:/Users/.heroku/client/lib/heroku/cli.rb:35:in start'\n        from C:/Program Files/Heroku/bin/heroku:29:in'\nTerminate batch job (Y/N)? N\n(green) PS G:\\blue\\BLUE> heroku pg:backups\n=== Backups\n !    No backups. Capture one with heroku pg:backups capture.\n(green) PS G:\\blue\\BLUE>\nThis happens when I am trying to import a database. I saw some of these issues had to do with using, or not using, a latin username. I don't think that's my issue. I am on Windows 8.1. \nThis guy  https://github.com/heroku/heroku/issues/1093  seems to have the same error but a very different fix. I look forward to your assistance.\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/814#issuecomment-86689483\n. This happens if your internet connection (maybe due to firewall) can't access port 5000. You'll need to fix that on your end unfortunately.\n. are you using the gem directly? That's not supported, you'll need to install via the toolbelt https://toolbelt.heroku.com/\n. Right now there is no concept of a public app. The right way to do this would be to use a Heroku Button. Just add --recursive. It will pass through\n. This PR has nothing to do with github integration\n. the flag is probably the best solution for this, but @pedro do you think we should also increase the default polling interval? It's 1 second right now, maybe 2 would be good?\n. 5 seems reasonable to me, any thoughts @pedro? maybe @uhoh-itsmaciek?\n. this is now in since we moved to rspec3\n. Use heroku local instead. We'll be removing foreman from all installs soon.\n. @mfine any idea what we should do with this?\n. it's been bumped since https://github.com/heroku/heroku.rb/pull/78 has gone in, right?\n. runs locally and the test suite still passed!\n. this is definitely a bug. @guilleiguaran can you rebase this to fix the merge conflict?\n. @neilmiddleton do you still want to get this in?\n. thanks\n. sorry it took a while to get back to you. I think this is a little bit of feature creep since this could be done with either having a .envrc file with direnv or you can always quickly as a remote with heroku git:remote --app APPNAME\n\nWe do want to improve this flow, however, especially when it comes to maintaining multiple remotes for the same app.\n. upgrade your version of the toolbelt, your version is very old\n. oh I missed that\n. if you can get a fiddler log running all the http calls as @sudharsan81, that would be immensely helpful!\n. if you get this error this means that we are either having a serious outage (check status.heroku.com) or it's an issue with the internet connection on your side. On Unix you can run curl https://status.heroku.com/api/v3/current-status.json to check for any errors. You may need to setup your proxy.\n. still want this to go in @cyberdelia?\n. got it\n. it looks like git didn't install properly, perhaps try installing git by itself? http://git-scm.com/download/win\nyou might also have better luck with git bash instead of cmd\n. it's a known issue, and one we're actively looking for a fix for. Closing as dupe of https://github.com/heroku/toolbelt/issues/51\n. it is, but this is a very well known issue so I'm just trying to keep the repos clean\n. @a-warner just want to warn you that I am probably going to land #1479 tomorrow. So long as you are on the toobelt it should be using 1.9 though. Hopefully it works without issues, but let me know if you see any.\n. uh oh, you sure you're on the toolbelt? what does heroku version print?\n. definitely want to make sure we can fix this before I push anything. (There are a couple security CVEs out for one of the gems, that's why I need to update this). Do you know if you installed the toolbelt with the standalone or the homebrew install? If so, you should be able to install the pkg version from here and be on 1.9 https://toolbelt.heroku.com/osx\n. ah so homebrew uses whatever ruby is on the system path, you must be on an older version of OSX that shipped with 1.8.7. If you run brew install ruby or use rbenv or rvm you should be able to run a newer version.\nWould you mind trying brew install ruby to see if that puts you on a newer version?\n. just so this isn't a totally useless exercise for you, you should get a decent speedup :)\n. there isn't a fix for this since the test suite requires actually interacting with git for the integration tests\n. so I thought the reason you didn't like requiring git was because it had to be installed on the box, but it sounds like you just don't want git on the project? Mind explaining why?\n. oh because you ran it from the gem folder... hrm...\n. tbh @voxik we're trying to plan a path to finish to Go version of the CLI heroku/hk and this is likely to be something that falls outside of the need-to-have category for the current CLI. I'll reopen for reference, and if you want to implement this functionality in the test suite I will totally take a PR, but I probably won't be implementing it.\n. great!\n. Removing the dependency would work for jessie, but how could we maintain compatibility with the older releases?\n. https://github.com/heroku/heroku/pull/1598\n. seems like it works on non-paranoid though\n\n. I can look into fixing it with the fork replacement\n. actually this brings up something possibly important. @jacobian @brandur are people forking under sudo?\n. @friism just wanted to point this out, I'll have to take a look at this issue next week for the fork replacement\n. working on it, I need to add 2fa into v4\n. nothing yet, I need to fix the new fork implementation here https://github.com/heroku/heroku-fork and include the fixes around 2fa\n. this is now fixed\n. I might be able to get away with v3.9.7.pre2 but I'm not sure what exactly dictates a beta release\n. I also noticed that it uploads a VERSION file to S3, know what that might be used for?\n. lgtm\n. @geemus we chatted a bit in #cli, but I didn't see the abort in the manifest rake task which resolved my concern\n. unfortunately the beta stuff is still not working, hopefully will roll out a fix for that today\n. lgtm\n. @pedro the CLI shouldn't be using the json gem, correct?\n. would you mind going into /home/bart/bin/heroku/lib/heroku/command/keys.rb and adding this puts keys after keys = api.get_keys.body and sending me the output?\n. would you mind sending me the output of EXCON_DEBUG=true heroku keys? It looks like that 'keys' object is a string for some reason, trying to figure out why.\n. @bartmanus can you submit a support ticket? This issue isn't with the CLI\n. will be resolved in #1178 \n. this was because I labeled the prereleases incorrectly. The way that it is intended to work is the pre versions are supposed to be considered /newer/ than the released version at the same level. I was going to use semver to fix this, but that breaks compatibility with old rubygems. For this reason, I am just going to stick with the non-semver convention for now\n. this might be a bad idea. It appears old rubygems versions will fail https://rails.lighthouseapp.com/projects/8994/tickets/2880-malformed-version-number-string-30pre\nhappened to me... might have to look for an alternative solution\n. So this is actually a non-issue I think (at least part of it)\nI think I was just using the pre version wrong, it's supposed to be something like 3.9.6.pre1 not 3.9.6.pre\nI'll test to make sure it works that way.\nEnsuring beta releases don't downgrade is important, however. So I'll probably change this PR to just include that.\n. updating to just include the changes for preventing updating to an older release\n. I also locked rubyzip to 0.9.9 since the 1.0 version removes ruby 1.8 support\n. same for mime-types\n. lgtm, I'm flying home but should be able to get this out tomorrow\n. Good to know!\nOn Thursday, August 14, 2014, Maciek Sakrejda notifications@github.com\nwrote:\n\nThanks @dickeyxxx https://github.com/dickeyxxx. This probably doesn't\nneed a release by itself--it's just removing sharp edges, not fixing\nanything that's actively broken per se.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/pull/1182#issuecomment-52258160.\n. that version is about 2 years old, try updating\n. great! btw I'm planning on putting in a warning soon to notify users they are running an out-of-date gem\n. what OS are you on?\n. looks like you're using the gem, try installing the toolbelt https://toolbelt.heroku.com/debian\n\nhopefully that works, if not, report back\n. @IlmadEddine oddly enough I'm actually reproing this right now on a windows machine. Might be able to get a fix in.\n. I think this error is a red herring, but I pushed a fix that should prevent this error from swallowing what I think is a real one (or maybe fixed the problem)\nMake sure you update your gem to the latest version, 3.10.3\n. this is just a comment?\n. lgtm\n. lgtm\n. the downside of the exe is it can't autoupdate, but I worked a bit on a Go 'loader' that will autoupdate the ruby exe so we could potentially have a single-binary, autoupdating ruby client for windows. It still might make sense to package it in toolbelt, but should avoid weird path issues trying to find the ruby interpreter\n. lgtm\n. do you have psql installed? try just running psql in shell\n. I've actually got https://github.com/heroku/heroku/pull/1184 specifically for this, but it needs a bit more work\n. I pushed out a couple of fixes to auth in 3.14.0 that I think were the root of a lot of the auth issues we've been having. If you see anything on that version or newer, let me know, but I think we can mark this as resolved.\n. @pedro I think what was happening was that the 2fa header was stored in global state but only had one use. Sometimes it would get used up before the intended call would be made. I fixed this by getting rid of that state parameter completely, so the only way to access 2fa calls is by preauth. Now the code is very explicit about when it uses the 2fa token\u2014no more magic.\nThere is also a case where the 2fa call would end up calling the auth logic again in a totally not intended recursive kind of situation. It's complicated to explain, but I think this was a related problem. There are some complex exception handlers that actually make calls to the API themselves causing it.\n. can you send the output of EXCON_DEBUG=true heroku login?\n. great!\nOn Tue, Nov 18, 2014 at 3:06 PM, Andrew Culver notifications@github.com\nwrote:\n\nSorry about that. I just deleted my comment because doing a fresh install of Toolbelt fixed my p\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/1197#issuecomment-63562883\n. it appears you are running ruby 2, did you install via the toolbelt? https://toolbelt.heroku.com/debian\n. that sounds like a good solution\n. removing that require fixed a bunch of problems, so we definitely want to keep the commit\n. thanks!\n. looks good to me, although it would be nice if the same exceptions were raised from RestClient\n. that's a good point\n. want me to push out a release with this?\n. looks like you're running the gem and not the toolbelt and you don't have git installed on your path\n. does it work locally? what's in your Gemfile?\n. definitely get it to work locally before pushing it. One problem you will end up having\u2014although this isn't the one you currently are running into\u2014is that you can't use sqlite on heroku. https://devcenter.heroku.com/articles/sqlite3\n\nIt sounds like potentially your ruby installation got messed up\u2014which is not surprising given the windows support for ruby is really bad. Maybe try installing it again via rails installer? And making sure you run the cmd.exe it ships with?\n. lgtm\n. as the other pr is merged, this is ready to go?\n. is there a good way I can test this? I'm assuming it's in the request, but I don't know how to purposely trigger an error\n. would you mind squashing the commits? otherwise lgtm\n. this happens if your ruby is improperly installed without libreadline or libruby\n. lgtm! afaik the only thing that domain was for was future work, and a quick search on the project yielded no results for it\n. I'd rather not put code in to delete it, then we'll just have to deal with that cruft in the codebase\n. can you show me the output? I just did a fresh install on ubuntu 14.10 and it worked\n. great!\n. thanks for the help everyone! let me know if there are any more issues\n. \n. I agree that it shouldn't prompt if the remote is already there\u2014although I do think that the code to find the remote might not be trivial.\nDo we need the --update flag though? This seems like a relatively rarely used command and the flag even less so\n. some good refactors in here, lgtm\n. @ryanbrainard btw this won't go out till Monday probably\n. @catsby according to @pedro this wasn't the real problem. We're going to push it out as a beta and test it cross-platform to see what happens\n. thanks for mentioning it!\n. ah I'll take a look\n. you have a very old version of the toolbelt, you probably just need to upgrade\n. lgtm\n\n. yep, this is a more explicit version that does away with that 2fa variable completely. I put a patch in sudo heroku/heroku-sudo#112 that will fix the non-app context calls as well. It seems to work in my testing\n. can you access port 5000? that's usually the problem\n. Unfortunately there is not\n. this is happening because we got rid of okjson but the heroku-pipeline plugin still references it\n. https://github.com/heroku/heroku-pipeline/pull/15 if you run heroku plugins:update it should be resolved\n. update your plugins with heroku plugins:update\n. When you say heroku run node console that's like saying node console locally. That would start node and load the console module that doesn't exist. What is it you're trying to do exactly?\n. what shell are you using? you might have luck with git bash\n. you're probably just using the windows cmd.exe. It should still work there, but git bash tends to be a lot more reliable since it's closer to unix\n. is your username mtts? or does it have non-ascii characters?\n. I'm not really sure what is wrong, this is definitely the first I've seen this bug. Maybe try installing Git separately?\n. Ruby not installing correctly is certainly suspicious, but causing that specific error makes me unsure.\n. mind trying again? #1318 should have resolved this\n. can you run EXCON_DEBUG=true heroku status and post the output?\n. It looks like maybe your openssl is misconfigured. Is there a reason you're not using the toolbelt? It comes with that inside\n. @yamori you're using a version of the gem that's very out of date\n. that is your application, that's a rails 404 page\n. you don't have any routes https://github.com/aruzmeister/tumpy/blob/master/config/routes.rb\nyou won't see the rails welcome page if Rails.env is production if that's what you're expecting\n. upgrade your plugins heroku plugins:update\n. looks like it broke the tests, but I can fix\n. weird looks like the stack data comes from the api?\n. thanks @geemus that makes way more sense why aspen is coming back\n. lgtm\n\n. This is supported, now. Use -- to separate your flags.\nheroku run -a staging-app -- some-script.sh -a foo -c bar\n. a boolean to declare whether or not app context is something I certainly plan for hk, but I don't see us doing that here.\nDoes the API return anything we can look for?\n. I didn't have an exhaustive list, pg:psql is the only one that comes to mind. Is your thought that we could preemtively preauth in the command rather than doing it every time?\n. I do like the idea. I think we could just remove the automatic preauth in favor of just executing preauth() for each and every command that needs it. I'd have to add code back in like before though that patches the auth headers. It was ugly before, but I could probably find a better solution.\n. worked on this a bit yesterday https://github.com/heroku/heroku/pull/1323 not working in all cases yet though\n. I made heroku/heroku.rb#89 which will make implementing this way easier (no more creating new api objects all the time)\n. I believe everything we have discussed is resolved\n. you might try just updating the plugins with heroku plugins:update. @deafbybeheading might have a better idea\n. can you send the output of EXCON_DEBUG=true heroku run rake db:migrate?\n. @aruzmeister this doesn't look like an issue with the CLI, mind submitting a ticket?\n. @aruzmeister I can't seem to find a ticket in support for this, mind submitting a new one? https://help.heroku.com/tickets/new alternatively you could give me the support ID. I'm closing this since it's not a CLI issue.\n. definitely reference this issue though\n. update your plugins heroku plugins:update\n. can you send the rest of the output? I was able to login with a caret in my password\n. maybe try url escaping the caret? I don't think there is anything the CLI can do about this since it's an invalid url\n. sorry, I misunderstood the first question. I thought you said it didn\u2019t work with the heroku password being set with a caret in the password, not the proxy password.\nOn Tue, Nov 18, 2014 at 11:25 AM, reachnaveen notifications@github.com\nwrote:\n\nJeff,\n   I tried using escape still I am getting same error. How are you using\ncaret in the proxy URL?.\nNaveen\nOn Tue, Nov 18, 2014 at 12:19 PM, Jeff Dickey notifications@github.com\nwrote:\n\nmaybe try url escaping the caret? I don't think there is anything the CLI\ncan do about this since it's an invalid url\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1273#issuecomment-63528059.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/1273#issuecomment-63529012\n. did you try %5E as the escape character?\n. That comes from a socket error, you could try to output the details by adding puts e to line 266 of ~/.heroku/client/lib/heroku/command.rb to see more details\n. great!\n. @niralmunjariya can you submit a ticket? This github project is just for the CLI https://help.heroku.com (note you'll need to search first)\n. way faster!\n. yeah much faster! thanks a lot!\n. @joshk we're trying this on other projects and seeing awesome gains. Thanks!! :beers: \n. what is your rake task? is it just calling heroku db:pull?\n. It looks like your setup is using ruby 2.1, which shouldn't break, but it's having trouble using the json decoder in it. I would try reinstalling the toolbelt and/or that ruby installation.\n\n\nOn Fri, Nov 21, 2014 at 2:14 PM, tgeene notifications@github.com wrote:\n\nC:\\Meteor\\InFoodSys>heroku ps:scale web=1\nDL is deprecated, please use Fiddle\nScaling dynos... failed\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n    Error:       Did not recognize your adapter specification (193: %1 is not a valid Win32 application.   - C:/Program Files (x86)/Heroku/vendor/gems/json-1.7.7/lib/json/ext/parser.so). (MultiJson::AdapterError)\n    Backtrace:   C:/Ruby21-x64/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n                 C:/Ruby21-x64/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n                 C:/Program Files (x86)/Heroku/vendor/gems/json-1.7.7/lib/json/ext.rb:13:in `<module:Ext>'\n                 C:/Program Files (x86)/Heroku/vendor/gems/json-1.7.7/lib/json/ext.rb:12:in `<module:JSON>'\n                 C:/Program Files (x86)/Heroku/vendor/gems/json-1.7.7/lib/json/ext.rb:9:in `<top (required)>'\n                 C:/Ruby21-x64/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n                 C:/Ruby21-x64/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n                 C:/Users/Trevor/.heroku/client/vendor/gems/multi_json-1.10.1/lib/multi_json/adapters/json_gem.rb:1:in `<top (required)>'\n                 C:/Ruby21-x64/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n                 C:/Ruby21-x64/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:55:in `require'\n                 C:/Users/Trevor/.heroku/client/vendor/gems/multi_json-1.10.1/lib/multi_json.rb:153:in `load_adapter_from_string_name'\n                 C:/Users/Trevor/.heroku/client/vendor/gems/multi_json-1.10.1/lib/multi_json.rb:98:in `load_adapter'\n                 C:/Users/Trevor/.heroku/client/vendor/gems/multi_json-1.10.1/lib/multi_json.rb:100:in `load_adapter'\n                 C:/Users/Trevor/.heroku/client/vendor/gems/multi_json-1.10.1/lib/multi_json.rb:90:in `use'\n                 C:/Users/Trevor/.heroku/client/vendor/gems/multi_json-1.10.1/lib/multi_json.rb:72:in `adapter'\n                 C:/Users/Trevor/.heroku/client/vendor/gems/multi_json-1.10.1/lib/multi_json.rb:130:in `current_adapter'\n                 C:/Users/Trevor/.heroku/client/vendor/gems/multi_json-1.10.1/lib/multi_json.rb:136:in `dump'\n                 C:/Users/Trevor/.heroku/client/lib/heroku/helpers.rb:188:in `json_encode'\n                 C:/Users/Trevor/.heroku/client/lib/heroku/command/ps.rb:216:in`block in scale'\n                 C:/Users/Trevor/.heroku/client/lib/heroku/helpers.rb:234:in `action'\n                 C:/Users/Trevor/.heroku/client/lib/heroku/command/ps.rb:209:in`scale'\n                 C:/Users/Trevor/.heroku/client/lib/heroku/command.rb:217:in `run'\n                 C:/Users/Trevor/.heroku/client/lib/heroku/cli.rb:40:in `start'\n                 C:/Program Files (x86)/Heroku/bin/heroku:29:in `<main>'\n    Command:     heroku ps:scale web=1\n    Version:     heroku/toolbelt/3.16.0 (x64-mingw32) ruby/2.1.5\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/1285\n. this is fixed https://github.com/heroku/heroku/pull/1287\n. I believe it's done, right @pedro?\n. https://github.com/heroku/heroku/pull/1287\n. this is an issue with papertrail's plugin. https://github.com/papertrail/papertrail-heroku-plugin/issues/6\n. this is fixed\n. https://github.com/heroku/heroku/pull/1287\n. https://github.com/heroku/heroku/pull/1287\n. thanks!\n. yeah if you look at the top of the file in the def api method you can see where it memoizes this object. My suspicion is:\n\nA: the memoization is happening first (somehow) causing it to have an empty api key\nor B: it isn't writing/reading from .netrc to correctly create the api key\n. but yeah, we'll see how the logging goes first\n. closing since this is unlikely to do anything useful\n. lgtm\n. is there anything in /usr/local/heroku/bin? What is the output of echo $PATH?\n. @friism I removed the auto-ssh code. Mind taking another look everyone? I updated quite a bit this morning\n. @ryanbrainard thanks for keeping me on top of the code cleanliness :) it's now extracted\n. I say no. That check is complex and users that use it should know what they're doing.\n. but good thought\n. thanks!\n. You'll have to keep looking into one of those start scripts. Maybe ~/.bashrc?\n. is there something that this is causing a problem with?\n. Sorry this project is for the Heroku CLI\n. are you running this from a deleted directory? http://stackoverflow.com/questions/9243548/no-such-file-or-directory-getcwd-error-on-rubygems-on-mac-os-lion\n. lgtm\n. this depends on heroku/heroku.rb#89\n. strange, maybe try deleting ~/.heroku, running heroku update and retrying?\nOn Tue, Dec 16, 2014 at 5:47 AM, Aske Hansen notifications@github.com\nwrote:\n\nI get this error when running heroku status\n!    Heroku client internal error.\n!    Search for help at: https://help.heroku.com\n!    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       uninitialized constant Heroku::Helpers::MultiJson (NameError)\nBacktrace:   /Users/aske/.heroku/client/lib/heroku/helpers.rb:201:in rescue in json_decode'\n             /Users/aske/.heroku/client/lib/heroku/helpers.rb:200:injson_decode'\n             /Users/aske/.heroku/client/lib/heroku/command/status.rb:23:in index'\n             /Users/aske/.heroku/client/lib/heroku/command.rb:217:inrun'\n             /Users/aske/.heroku/client/lib/heroku/cli.rb:39:in start'\n             /usr/local/heroku/bin/heroku:24:in'\nCommand:     heroku status\nVersion:     heroku-toolbelt/3.20.0 (x86_64-darwin10.8.0) ruby/1.9.3\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1326.\n. Update your plugins with heroku plugins:update\n\nOn Mon, Dec 22, 2014 at 12:08 PM, Dan Michaelson notifications@github.com\nwrote:\n\nMy toolbelt version is slightly different from the OP, here is my exact error output:\n    !    Heroku client internal error.\n    !    Search for help at: https://help.heroku.com\n    !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n    Error:       uninitialized constant Heroku::Helpers::MultiJson (NameError)\n    Backtrace:   /usr/local/heroku/lib/heroku/helpers.rb:205:in rescue in json_decode'\n                 /usr/local/heroku/lib/heroku/helpers.rb:204:injson_decode'\n                 /usr/local/heroku/lib/heroku/command/status.rb:23:in index'\n                 /usr/local/heroku/lib/heroku/command.rb:221:inrun'\n                 /usr/local/heroku/lib/heroku/cli.rb:40:in start'\n                 /usr/bin/heroku:24:in'\n    Command:     heroku status\nVersion:     heroku-toolbelt/3.21.1 (x86_64-darwin10.8.0) ruby/1.9.3```\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/1326#issuecomment-67883273\n. is multi_json in /usr/local/heroku/vendor/gems?\n. one idea is that you could try adding this to /usr/bin/heroku at line 13:\n\nruby\nrequire \"multi_json\"\np MultiJson.decode('{\"foo\":\"bar\"}')\nafter the unshift libdir bit that includes the gems.\nThat'll help diagnose at least.\n. if it fails, then it isn't picking up the gem, if it passes, something is happening inside the CLI\n. #1335 should fix it then, while we don't seem to require it anywhere, it's just strange I haven't seen this behavior before.\n. this is just a first pass, I'd like to add things like POST bodies later\n. added more stuff like filtering out passwords and showing the post bodies on requests and responses\n. @brandur \n. tested, works great @friism \n. I'm pretty sure this came from an ssl error on windows with s3. I moved the updating to use http since it performs a checksum validation anyways.\n. it's not compatible with 1.8.7\n. Can you two submit support tickets? You can reference this issue. It isn't an issue with the CLI but the service that it connects to.\n. I'm not sure why you received that message but go ahead and submit a new one if you haven't already. This project is only maintained by the CLI team, it's not used by other teams. This particular issue doesn't involve this codebase so I don't have a good way to forward the issue to the appropriate team.\n. It is related to that comment, but there isn't anything I can do to fix it. I do apologize but without having a good understanding of our internal architecture I'm not able to explain more of what the underlying issue is.\n. Please submit a support ticket. This project is for the CLI.\n. can you elaborate? what version of git are you running?\n. @jcharlesworth I added some better messaging around this, but I'm not sure it'll work for you since you said running git --version in the same shell worked. Anything weird going on with your PATH maybe that might cause the CLI to not be picking up Git?\n. nice catch! #1342 should fix this\n. shoot, I added #1342 to fix this, but the tests are good here. Mind changing this PR to just be the tests?\n. er well, it wouldn't work without the refactor I suppose...\n. thanks!\n. I think some of the code is on an old version (although I'm not seeing the same bug for some reason) https://github.com/Homebrew/homebrew/pull/35519\n. ah it appears that the reason for this is that the homebrew install won't let gems autoupdate\n. still, updating your homebrew package should fix this specific issue\n. what method did you use to install @rounders?\n. the only reason I would think this specific problem would happen is due to old code being around. Try reinstalling, that should certainly fix it.\n. hmm. I'm still pretty sure you have old code... can you try deleting /usr/local/heroku and then reinstalling? Let me know what happens. Also, are you using the osx package?\n. thanks for letting me know, now my task if figuring out why that was necessary...\n. this looks great @brentdax! one idea @brandur had was for a --self-signed flag. I think it would be good to check to see if openssl(1) is available, but assuming that is in place and the test suite is fixed I'd be happy to merge.\n. looks great! thanks!\n. actually this is no good since it's just under that logs method... looking for a better place to add this\n. thanks for checking it out!\n. lgtm!\n. You'll need to make a new PR\nOn Fri, Jan 9, 2015 at 6:14 PM, Brent Royal-Gordon\nnotifications@github.com wrote:\n\nOof. ensure_openssl_installed! includes some code to make sure it only actually performs its test once; this wasn't always cleared between tests, so running the tests in the wrong order would cause the test that confirms the method actually calls out to openssl(1) to fail.\nI've pushed a quick patch to my branch at dd5e7f64 which fixes this issue.\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/pull/1351#issuecomment-69433848\n. looks like there is still an issue https://travis-ci.org/heroku/heroku/jobs/46705089\n. lgtm!\n. closing since this was resolved in #1357 \n. fixes https://github.com/heroku/toolbelt/issues/121\n. can you show me the full error?\n. you have some kind of issue with your  ~/.netrc file\n. :+1: \n. fixes #1360\n. fixed in #1365 \n. have you gone through a getting started guide? https://devcenter.heroku.com/start\n. can you run heroku logs or something to get an error message?\n. this looks useful, we may need to update the docs a bit to include it\n. :+1:\n. is there a reason why you aren't using http git? If you update your git remote with heroku git:remote -a APPNAME it should work without having to setup any ssh keys\n. I didn't investigate but we got a lot of users complaining about this feature right away. @recurrence can you enlighten us on what the specific problem was?\n. no problem, I should've tested it myself first\n. yeah I suppose that's what the github link links to anyways\n. is this the same issue? https://github.com/heroku/heroku/issues/1264\n. oh I see the problem, it's that the output command heroku logs -p run.6553 should show the app since it's not in the same context you're in now\n. check out #1391\n. one thing I still need to do is keep the org on fork\n. cc @schneems \n. cc @jsimone \n. @tt is this live?\n. thanks! This seems wrong still though (although nothing that you changed)\n\n```\n\u2638 ~/s/g/h/heroku heroku help twofactor\nUsage: heroku 2fa\nDisplay whether two-factor authentication is enabled or not\nAdditional commands, type \"heroku help COMMAND\" for more details:\n2fa:disable                  #  Disable two-factor authentication for your account\n  2fa:generate-recovery-codes  #  Generates and replaces recovery codes\n```\nShould we change the help text from 2fa to twofactor?\n. Also, I think we should stick with just auth instead of authentication since now it's our longest message\n```\n\u2638 ~/s/g/h/heroku heroku help\nUsage: heroku COMMAND [--app APP] [command-specific-options]\nPrimary help topics, type \"heroku help TOPIC\" for more details:\naddons    #  manage addon resources\n  apps      #  manage apps (create, destroy)\n  auth      #  authentication (login, logout)\n  config    #  manage app config vars\n  domains   #  manage custom domains\n  logs      #  display logs for an app\n  ps        #  manage dynos (dynos, workers)\n  releases  #  manage app releases\n  run       #  run one-off commands (console, rake)\n  sharing   #  manage collaborators on an app\nAdditional topics:\ncerts        #  manage ssl endpoints for an app\n  commands     #  list all commands\n  drains       #  display drains for an app\n  features     #  manage optional features\n  fork         #  clone an existing app\n  git          #  manage git for apps\n  help         #  list commands and display help\n  keys         #  manage authentication keys\n  labs         #  manage optional features\n  maintenance  #  manage maintenance mode for an app\n  members      #  manage membership in organization accounts\n  orgs         #  manage organization accounts\n  pg           #  manage heroku-postgresql databases\n  pgbackups    #  manage backups of heroku postgresql databases\n  plugins      #  manage plugins to the heroku gem\n  regions      #  list available regions\n  stack        #  manage the stack for an app\n  status       #  check status of heroku platform\n  twofactor    #  manage two-factor authentication settings for your account\n  update       #  update the heroku client\n  version      #  display version\n``\n. in fact, I sort of think it should just bemanage two-factor settings. It's clear that it has to do with authentication andfor your accountis obvious.\n. could we make itmanage two-factor authentication settings?\n. can you add this to line 433 ofc:\\Program Files (x86)/Heroku/lib/heroku/helpers.rb:433`:\nruby\n      formatted_error.each { |s| p s; p s.encoding }\njust above the line\nruby\nformatted_error.join(\"\\n\")\n. We should still fix the error message here\n. @uhoh-itsmaciek any ideas on this one? I put a fix in for the rollbar error (rollbar is rate limited, that's not the real error, but I fixed it in #1408)\nthe real issue is this:\nundefined method `-' for nil:NilClass\n/Users/jacobevelyn/.heroku/client/lib/heroku/command/pg_backups.rb:227:in `backup_status'\n/Users/jacobevelyn/.heroku/client/lib/heroku/command/pg_backups.rb:53:in `backups'\n/Users/jacobevelyn/.heroku/client/lib/heroku/command.rb:223:in `run'\n/Users/jacobevelyn/.heroku/client/lib/heroku/cli.rb:40:in `start'\n/usr/bin/heroku:24:in `<main>'\n. @JacobEvelyn could you try running heroku plugins:update to see if it fixes the problem? If that doesn't work, maybe try uninstalling that heroku-pg-extras and retrying to see if there is a conflict there?\n. right now we don't have the ability to restore across different apps. You'll need to download then import https://devcenter.heroku.com/articles/heroku-postgres-import-export\n. you can also do something like this\nheroku pg:backups restore `heroku pgbackups:url --app first-app` --app second-app\n. what do you have for heroku version? I'm not able to reproduce.\n. if @uhoh-itsmaciek thinks it looks good I'm comfortable with merging\n. I'm confused. Doesn't it say you can't do that?\nTARGET_DATABASE must not already exist.\n. oh I see what you mean\n. check out #1417\n. I like it. updated\n. https://status.heroku.com/incidents/723\n. unfortunately this has its own problem, it won't work under ruby 1.8.7. Perhaps change it to check if RbConfig exists then use RUBY_PLATFORM as a fallback?\n. closing in favor of #1451\n. great!\n. lgtm\n. this means that the toobelt wasn't able to get permission to connect to the api. Perhaps it's a firewall or something on your machine?\n. I wonder if this is something that was changed in newer versions of ruby since it works for me on 2.2. In any case, #1436 should resolve this and it is released in 3.28.2\n. thanks for the help with this by the way!\n. this would leave it as 0 if the wait interval wasn't specified. Closing in favor of #1436 \n. lgtm\n. is this still happening? I pushed out a fix for it\n. yeah, I tested it and it seemed to work. I do agree with you the way it gathers the URL isn't ideal though\n. but as you pointed out, it was like that before\n. try updating your plugins\n. thanks!\n. any ideas here @uhoh-itsmaciek?\n. I'm wondering if it is related to the exception handling we added here\n. can you run heroku version or heroku local on that box? Can you show me the output of heroku version?\n. Nice find! Can you change it to .Range to make the linter happy? (Check the CI failure)\n. Thanks for the detailed writeup as well! The range portion of the node client does need some work. It's gotten in our way a couple of times, but this looks like a good fix for this bug.\n. I should show a better error message here, but this behavior is correct. The plugin names are heroku-fork and heroku-local not fork or local. This seems redundant, but it's because they map to npm package names.\n. really? try heroku plugins:uninstall heroku-fork\nEDIT: yep\n. somewhere that ia32 directory is being referenced. Trying to find where.\n. I need to test it, but this PR should fix it dickeyxxx/gode#1\n. @abbottc @janraasch sorry about this, I was on vacation until today. Mind giving it another try? It's fixed in the latest version of https://github.com/heroku/heroku-cli\n. ha! well glad to hear it is fixed :)\n. We are discussing this one a bit internally as it will break 1.8.7 compatibility. I'm likely to merge and push it tomorrow along with #1479.\nIn any case, you shouldn't include the heroku gem in your gemfile, you should use the toolbelt and you won't be burdened with the gem versions we require.\n. the best way to interact with the API from ruby is to use this gem https://github.com/heroku/platform-api the gem the toolbelt uses is deprecated and uses the old v2 api. Unfortunately I don't know if the new pgbackups stuff is in there (or will be), can you enlighten us on that @uhoh-itsmaciek?\n. if you're curious, the CLI is being replaced with a go/io.js implementation https://github.com/heroku/heroku-cli\nThat's why there aren't plans to replace the internals of the gem to use the platform api gem\n. @Jberlinsky @kjohnston @mikeatlas @cepko33 update: I've got a list of a few users known to be still using 1.8.7. I'm reaching out to some of them to see why and if I can update them before I push out #1479 \n. still waiting for #1479 which I'm targeting for Wednesday. #1482 went out today to warn 1.8.7 users\n. /cc @uhoh-itsmaciek \n. closing as dupe of #1466\n. its released btw\n. that's already been done, feel free to reopen if it's not working right though\n. you're going to need to update the Gemfile.lock then. This is also going to break 1.8.7 compatibility (I think), but that time has probably come.\n. in gems you don't want to check in the lock file, but that's really not how the toolbelt is intended to be used. For the toolbelt, we need to lock down the dependencies to specific version numbers.\n. still waiting for #1479 which I'm targeting for Wednesday. #1482 went out today to warn 1.8.7 users\n. apologies @voxik but I wasn't able to merge this one due to some conflicts, but I did add the changes you made inside #1491\n. thanks!\n. this is fixed as part of https://github.com/heroku/heroku/pull/1533\n. it's looking like Wednesday of next week. I need to reach out to some people that are still using 1.8.7\n. I added https://github.com/heroku/heroku/pull/1482 to warn people now\n. that is expected behavior since it escapes them with shellescape http://ruby-doc.org/stdlib-1.9.3/libdoc/shellwords/rdoc/Shellwords.html#method-c-shellescape\n. It's designed to be used as Unix shell code, so yeah, scripting. I'm a little surprised the .env file doesn't work in this case. @ddollar does the .env file work with escaped shell characters?\n. @csuhta I think I've resolved this issue for you but in a different way. These shouldn't have been escaped if you were creating these files by doing something like heroku config -s >> .env. This is resolved in #1518 \n. can I ask why you want to pipe the escaped version? You make a good point about \\n. I just noticed that is kind of weird for most of the config commands.\n. perhaps prompt if no time is scheduled instead of forcing them to run the command again?\n. are you trying to run this in a vm or something? this means it can't find a browser\n. this happens because git and heroku aren't using the same _netrc file. This is something I'm trying to fix, but you can help me out by finding where your _netrc file should be and where the CLI is putting it.\nCan you tell me which of the following paths has the _netrc file?\n```\n\necho %HOME%\necho %HOMEDRIVE%%HOMEPATH%\necho %USERPROFILE%\n```\n\nyou could try to add the _netrc file into one of them to find the one that matches.\n. @luicaps the only way I know how to find out which one git is using is to add the _netrc to a folder you think might be a home directory and see if heroku does not prompt you for the token. There might be a better way.\n. it's not a git issue, adding a HOME env var will fix the problem for you, but I'd like heroku to use the same _netrc location as git for everything so other users don't have this issue\n. I would try to add it to the USERPROFILE location without a HOME env var and see if that fixes it\n. another thing you could try is running set to see all the env vars\n. does anything else have the same directory as USERPROFILE if you run set? because that's the opposite behavior I have seen from most users. Also, what version of windows?\n. actually, I apologize. Reading through this message it seems that the only way it works for you is if you set the HOME var to something? Do you know where git is looking for the _netrc file if the HOME var isn't set?\n. you said USERPROFILE and HOMESHARE+HOMEPATH were the same. I'm curious where git was looking in your case without HOME being set.\n. I don't know a good way to find out where git is looking aside from copying the _netrc file into a folder you think might be it and seeing if it stops asking for creds.\nI would check the output of all of them with set and see if there are any paths in there you think might be it.\n. another question: if the HOME var isn't set, does the cli actually create the _netrc file? or does the HOME var need to be set for that to happen?\n. it's a different issue, it's related to this bug in Ruby https://bugs.ruby-lang.org/issues/10126\nI've got a fix coming though\n. #1501\n. @seanjb what error are you seeing exactly?\n. This will fix the issue: https://github.com/heroku/heroku/pull/1774\n. These can be unset now. @heroku/api the API should probably reject env vars with spaces.\n. ah I need to alias the new code to config:remove. This is now done here: https://github.com/heroku/heroku-apps/pull/23\nbut for now you can use config:unset\n. not sure, it worked for me. What's the full output of heroku version?\n. thanks!\n. what is the output of heroku version?\n. you're on an old version, if you update you should be good\n. this isn't a huge deal, the workaround is simply to preauth before the command, but if you can figure out what those might be sometime next week we could tack them on this PR\n. apologies @joaoportela this bug seems to keep returning :rage: \nI think this might fix it https://github.com/heroku/heroku/pull/1744\ncan you tell me what File.expand_path('~') returns on your machine?\n. great!\n. everything here looks good to me. any thoughts @craigkerstiens?\n. wow that took a long time to catch!\n. you probably don't want to, that would greatly increase the slug size. What is it you're trying to do?\n. I don't think so, file a support ticket, this project is for the CLI\n. lgtm\n. need me to release it?\n. can you submit a support ticket? this project is only for the CLI\n. this all looks good, let me know when you want to merge + push\n. ah yeah forgot about that, you need to add it here https://github.com/heroku/heroku/blob/master/lib/heroku/plugin.rb#L10\n. yep! I can push it out now\n. :balloon: \n. this is a network error, you probably can't access the server on port 5000\n. you need to install git\n. fixed\n. need to handle stdin and terminal sizes (at least) before I can merge this\n. this is related to this bug https://github.com/heroku/heroku-cli/commit/1744cef73430851d30adc47282acd9dc626e84db\nshould be fixed now, run heroku update\n. it's probably in one of your plugins\n. This just means the network connection failed. It's not a bug.\n. the changelog is where we post such things: https://devcenter.heroku.com/changelog but unfortunately this wasn't included.\n. cc @jonmountjoy \n. there is a fix in for this https://github.com/heroku/heroku/pull/1557\n. can you show me the output of heroku version?\n. ah it's an issue with heroku-pg-extras. @will it looks like it's an issue since it's now aliasing create instead of just an underlying method\n. I think the shorthand is pretty useful regardless, I'm inclined just to add it into the mainline\n. this is fixed, just update your plugins\n. you've got that backwards\n. lgtm\n. update your plugins heroku plugins:update\n. this should fix up users still experiencing this bug https://github.com/heroku/heroku/pull/1566\n. very strange, but I can't reproduce.\nWhat is the output of heroku version?\n. also, what happens if you do heroku config:get?\n. I want the output of heroku version to see what plugins you have installed (if any). You could also try running with HEROKU_DEBUG, that would tell me if the string are coming back from the API like that.\n. set it to 1 and run the config command\n. cc @brandur this seems to have gone away, but strange anyways\n. what files are in C:\\Users\\user\\.heroku?\n. does your username have any non-ascii characters by chance? or is it just 'user'?\n. ah that's the problem, fix inc\n. https://github.com/heroku/heroku/pull/1545\n. I'll push this out shortly\n. alright, 3.36.2 is out with the fix\n. we don't use these anymore. I added #1553 to remove it.\n. saw another one of these in a totally different part of the codebase, I think it's on the server side\n. so we think it's related to polling, I need to add something to fork like this: https://github.com/heroku/heroku/pull/1531\nworking on it\n. just pushed a fix out for this\n. hmm I think something is stuck, try deleting ~/.heroku/heroku-cli\n. oh remove that updating.lock file\nOn Thu, May 7, 2015 at 11:18 PM, Di Wu notifications@github.com wrote:\n\nfixed, I see the following files:\nautoupdate       heroku-cli.new         node_modules   usage\nautoupdate.last  heroku-cli.old         plugins\nerror.log        iojs-v2.0.0-linux-x64  updating.lock\nwhich ones should also be removed?\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/1552#issuecomment-100115575\n. yeah it should check to see if the updating file is still valid\n. I recently removed that warning, though it shouldn't have made it hang. I don't think it was actually hanging, I think it was installing iojs.\n. odd. Last week the updater ran synchronously, so that might've caused it to block while updating, but now there is a 2-stage updater that will only block for updates if it hasn't updated in over a week. Otherwise it will fork off an update task in the background after running a command. You use it often enough you will probably never see it block for updates. Also, when that updates happens, it tells you what it is doing.\n\nThis is all for the v4 updates btw, the v3 ones still update with that updating... updated to v3.xx.x text.\nThe only thing that downloads/installs in the background in the latest version is the iojs install, which I figured might be a bit verbose information. It should be pretty fast too. If you start seeing this again, could you try running it with HEROKU_DEBUG=true? That will print out information about downloading/installing iojs.\nApologies for the general flakiness around this stuff. When I moved the heroku git commands over to the new v4 stuff we got our first big chunk of people testing it and it helped iron out some of the issues with the autoupdater and setup. I think pretty much everything is solid now.\n. @Taytay are you in Europe by chance? I'm curious how quickly iojs installs there. You could roughly find out by deleting it: rm -rf ~/.heroku/iojs-v* and running time heroku version.\nAll of the other parts of the new CLI update via cloudfront, so it should be as fast there as it is here.\n. South America is just as good! I want to know what it's like outside North America.\n. nope, travis will take care of that\n. have you tried simply running unset HTTPS_PROXY? You've also got a pretty old version of the CLI\n. what is the output of this?\necho $HTTP_PROXY\necho $HTTPS_PROXY\n. sorry this one slipped through the cracks, but if you're still having issues the problem is probably that the proxy is set to something that only appears blank. Make sure you unset the env variable completely (how to do this depends on your shell)\n. looks good from my end, test failure though\n. on an unrelated note, I don't really like the hyphens on that list. I think it would be just as readable without. I might change that a bit when we move this stuff to v4. Maybe change it out for cyan colored labels\n. thank you!\n. cc @uhoh-itsmaciek \n. @uhoh-itsmaciek do you know what this error means?\n. can you run this again like so\nHEROKU_DEBUG=true heroku certs:info\nand remove any sensitive information you see in the output. If you'd like, you can submit a support ticket instead.\n. ah it must be under restclient then\ntry\nRESTCLIENT_LOG=stdout heroku certs:info\n. that didn't fix it @heroku/api I think there is something going on with this call, this isn't the first issue I've seen with it\n. glad to hear it's fixed!\n. Please submit a support ticket for issues like this. This project is for the CLI only.\n. did it just happen once? or is it working now?\n. I know what happened. I released a fork update and it was caught in the middle of updating (remember I removed the message stating that)\nI had an idea to fix this issue without blocking while an update is taking place and without just showing an annoying message on stderr.\nI was thinking I could lock on each plugin so you would only have to wait for a single plugin to finish updating (which wouldn't take long at all)\nOn Wed, May 13, 2015 at 4:12 PM, Taylor Brown notifications@github.com\nwrote:\n\nClosed #1567.\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/1567#event-304396426\n. Potentially, 'heroku plugins:install heroku-fork'\n\nOn Wed, May 13, 2015 at 4:53 PM, Taylor Brown notifications@github.com\nwrote:\n\nUnfortunately, it looks like it just failed again on the same build machine. I will try again. If I can't get this to work, do I need to update the fork command specifically?\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/1567#issuecomment-101853117\n. I think I figured this one out. The updater was touching the ~/.heroku/autoupdate file so it knows the last time it updated AFTER it finished updating. Because some commands call the v4 cli 2-3 times, this means that 2-3 updates would be triggered all at once. I fixed it by checking to see if an update is needed right before performing it.\n\nLet me know if you see it again though.\n. what are the last few lines of /home/chaudhary/.heroku/error.log?\n. @mnoble do you have any idea why this might be happening? it seems like something weird might be coming back from the API. I think it's this line https://github.com/heroku/heroku/blob/master/lib/heroku/command/addons.rb#L137\n. you need to change it in ~/.heroku/client\n. maybe try reinstalling the toolbelt, I've seen some rare instances where it was using old gems. This is kind of a stretch, but maybe.\n. you could also run this again with EXCON_DEBUG=true to see the http headers\n. I doubt that's the issue. Can you run EXCON_DEBUG=true heroku addons:create heroku-postgresql:dev\nalso try reinstalling the toolbelt.\n. nothing looks strange in there. With your permission, can I try to create the addon on your app? I want to see if it is an issue with the app or your computer.\n. @mnoble this might be where it is stemming from https://github.com/heroku/heroku.rb/blob/master/lib/heroku/api.rb#L114\n. I figured it out! As I mentioned in my last comment, if json parsing fails it will leave it as a string. That json that he sent isn't valid:\n\nI'm not sure if this is @heroku/add-ons or @heroku/department-of-data, but the server is sending invalid json.\n. also, that web url looks suspicious\n. hrmm. Looking at this more, I'm actually not so sure. That newline wouldn't have been in the original string causing this problem the way I first looked at it.\n. and I was just able to create the addon on the app with sudo, so that wasn't the problem :/\n. @shubhamchaudhary can you open up irb and run this script? https://gist.github.com/dickeyxxx/ddb4912adb95225a2669\n. I was able to identify a few bugs that I resolved in 4.19.20. One includes the locking around an individual plugin, so hopefully that will make the Error: cannot find module bug a thing of the past. However, maybe not until everything goes through one more round of updates.\nThere was also a bug with the update command that it was using the autoupdate file to check if it needed to update. That's the bug you saw, that calling heroku update didn't do an update, it just checked the autoupdate file and saw it didn't need to update.\n. thanks for reminding me!\n. done\n. it was an incident: https://status.heroku.com/incidents/769\nthough it should\u2019ve still executed your command, so 0 is correct\n. maybe try deleting ~/.heroku/.npm-cache or ~/.heroku entirely\n. please submit a support ticket. This project is for the CLI only.\n. what server are you hosting it on that uses arm?\n. I'm able to reproduce this using a scaleway server (took me a while to find a cloud host that had arm). This uses new code written in Go I probably need to setup to cross-compile to arm. Updates soon.\n. can you update and try again? you may need to delete ~/.heroku/heroku-cli\n. maybe you forgot to do apt-get update?\n. you should be on 3.37.3\n. I realize you have probably already done this, but could you delete /home/user/.heroku/heroku-cli one last time and retry? (I'm wondering if there was some versions out of sync)\nIf that doesn't work, can you show me the output of: \n$ ruby -e \"p RbConfig::CONFIG['host_cpu']\"\n$ ruby -e \"p RbConfig::CONFIG['host_os']\"\n. I don't think that rsync issue is related at all btw\n. ah I see the issue. On the arm box I was testing it returned arm for the host cpu, but yours is armv7l. Fix incoming.\n. #1597\n. fixed in 3.37.4\n. have you had a chance to test it @arenoth?\n. great!\n. submit a support ticket, this project is for the CLI only\n. might have to reinstall the toolbelt\n. fixed in 3.37.4\n. @uhoh-itsmaciek have you seen this one?\n. this likely means there is a json parsing error. Can you run the following?\nruby -r json -e \"p JSON.parse('{}')\"\n. yeah you can run it with HEROKU_DEBUG=1\n. it's possible the API may be returning invalid JSON. I'm assuming that's what it is since it is expecting an array but getting a string. The JSON parser catches exceptions and just returns the original string in that case.\n. @bjeanes this is happening because it's trying to find the corresponding plan. Is that necessary? Are there situations where the plan name is different for an addon?\n. ah that makes sense. That command is one of the new v4 commands which uses a Go parser for the netrc: https://github.com/bgentry/go-netrc\nI took a stab last week at converting the ruby netrc gem over to Go so it would act identically, but I discovered a bug that even the current ruby netrc implementation wouldn't work if you had the password specified before the login. I may try to fix that and port it over again.\n. thanks!\n. why?\n. it did, but that seems wrong to me. The login field in netrc could be anything, it wouldn't necessarily match to the HEROKU_API_KEY and it might have an expired token. This ticket mentions some of the issues with the old functionality: https://github.com/heroku/heroku/issues/1149\n. oh so when I do Heroku::JSPlugin.run('whoami', nil, ARGV[1..-1]) what that does is call heroku whoami on the v4 cli at ~/.heroku/heroku-cli. Note that I changed this after the PR to be ~/.heroku/heroku-cli auth:whoami\n. but yeah, the new functionality calls /account on the api and returns the email there. This way should be better for scripting though because it's not just reading the .netrc file, it's actually checking to see if you will be able to access the API\n. some users were surprised that even though heroku auth:whoami returned an email that didn't mean they could actually use the API\n. what version are you on?\n. this should be resolved now\n. it's got build failures\n. submit a support ticket for issues like this\n. actually this is as expected, you need to change this on the website or possibly with heroku labs\n. This project is for the CLI. Submit a support ticket.\n. everything seems to work still with this!\n. this one won't work on windows, it can't read s3 assets off of ssl\n. I don't think it's really necessarily personally, this is just an indicator of whether or not an update needs to happen. The download itself is validated against a sha too.\n. what you want is heroku run -- ./test otherwise it will run the unix test command\n. you can't, use brew install heroku for now\n. no, it has been replaced with heroku local\n. @brandur @pvh this is pretty well done\u2014though there may be edge cases I haven't thought of. This validation/automation should probably be done in the API but this will at least make the CLI functional with the new types.\n. not sure if/when you want me to push. I'm not sure what this will do to users not on the new types.\nEDIT: tested this for users not on the new pricing, it works the same. So we can launch this.\n. I think this is an issue on the postgres side, @tef might be able to provide more info\n. this is probably a JSON parsing error. Try reinstalling the toolbelt, or possibly ruby.\n. yeah somehow your compiled version of ruby didn't have json support, or had broken json support\n. lgtm\n. you're probably on an old version of the CLI\n. does heroku maintenance work when you use the http url? (that uses some different code)\n. By the way, you can quickly switch with 'heroku git:remote -a appname'\nOn Thu, Jun 18, 2015 at 11:35 AM Kevin Ingersoll notifications@github.com\nwrote:\n\n$ heroku --version\nheroku-toolbelt/3.38.1 (x86_64-darwin10.8.0) ruby/1.9.3\n=== Installed Plugins\nheroku-accounts\nheroku-config\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1623#issuecomment-113252453.\n. Oh this is a bug with the heroku-accounts plugin probably\nOn Thu, Jun 18, 2015 at 12:05 PM Kevin Ingersoll notifications@github.com\nwrote:\nIt looks like heroku git:remote -a appname uses the same https://\nprotocol that is causing issues:\n$ heroku git:remote -a someapp\nInstalling Heroku Toolbelt v4... done\nInstalling plugin heroku-git... done\nset git remote heroku to https://git.heroku.com/someapp.git\n$ git remote -v\nheroku  https://git.heroku.com/someapp.git (fetch)\nheroku  https://git.heroku.com/someapp.git (push)\n$ heroku config\n !    Multiple apps in folder and no app specified.\n !    Specify app with --app APP.\n$ heroku --version\nheroku-toolbelt/3.38.1 (x86_64-darwin10.8.0) ruby/1.9.3\nheroku-cli/4.20.7-c71480f (amd64-darwin) go1.4.2\n=== Installed Plugins\nheroku-accounts\nheroku-config\nheroku-git@2.3.1\nThen running heroku maintenance:\n$ heroku maintenance\nInstalling plugin heroku-apps... done\noff\n$ heroku maintenance\noff\n$ heroku config\n !    Multiple apps in folder and no app specified.\n !    Specify app with --app APP.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1623#issuecomment-113259859.\n. do you have anything in your npmrc file?\n. maybe try deleting ~/.heroku then. It seems npm only partially installed.\n. can you update then run this again with GODE_DEBUG=1?\n. I tried to support this at every level, I think I just missed it here. Thanks!\n. did this just happen once or do you see it every time?\n. you wouldn't happen to know how long it has been since it had updated previously? This might've been a bug that was resolved.\n. no problem, I'm going to close assuming this was something I resolved previously. Let me know if you see this pop up again!\n. if you delete /Users/muescha/.heroku it should fix any issues you might still be having. It shows that path because Go's tracebacks show the path to where the files were originally compiled (my machine).\n. it needs permission to write to your home directory. In this case U:\\\n. http://www.wikihow.com/Change-File-Permissions-on-Windows-7\n. set the HOME environment variable\n. it needs permission to write to that file\n. this is now resolved. It was a release that didn't fully complete.\n. looks good!\n. please submit a support ticket for issues like this, this project is for the CLI only\n. this bug has been fixed in the latest version\n. yeah I'll have to update that, usually someone else does but it's been a while\n. https://github.com/Homebrew/homebrew/pull/41714\n. this code has all moved to node so it should be fixed now\n. @bjeanes \n. does psql work?\n. if psql isn't working then that means something is wrong with your local install of postgres\n. you should submit a support ticket, this doesn't look like an issue with the CLI\n. @pedro do you know what's going on here? looks like some code was removed but is still referenced: https://github.com/heroku/heroku/commit/ccb1b\nhttps://github.com/heroku/heroku/blob/master/lib/heroku/command.rb#L216-L217\n. that makes sense, this is just presenting the error message badly. I've added https://github.com/heroku/heroku/pull/1673 to address that\n. that file needs to be writable\n. @brandur are those api changes in yet?\n. this is fixed\n. This project is for the CLI. Please submit a support ticket.\n. thanks for looking @jacobian! We can get opt-in functionality in, it's a little tricky since I need to make it some kind of auto-canceling opt-in (in case an automated script is running the CLI), but it's doable.\n. The prompting + timeout is now in. Just waiting this before we can release https://github.com/heroku/foundation/issues/826\n. I think I intended to merge this before actually\n. Please submit a support ticket for issues like this. This project is for the CLI only.\n. @rwz https://www.youtube.com/watch?v=-W6as8oVcuM\n. it shouldn't be using your version of ruby, maybe try uninstalling it to see if that fixes it first\n. @heroku/api I think for this I need to get the pricing information back from /apps/APP/formation. For the same reason that would be good so I don't have to have these constants in the CLI codebase.\n. It seems the latest release was incomplete. I pushed out a new one, seems to be good now. Thanks for posting!\n. Installing npm is a red herring\u2014something else went wrong here though it's hard to tell what. I wonder if perhaps it only had partially installed the plugin or was updating it while it attempted to run it.\n. I'm pretty sure npm just fails at downloading sometimes. I've seen this error a handful of times myself but it's not reproducible. If someone continually gets this error let me know. Because this package exists, I don't think I'm the only one: https://github.com/AlexCline/npm-install-missing.\n\nThe good news is I have some retry logic around this to autorepair broken package downloads. This should make this a bit annoying, but everything should still work assuming the second download passes.\nBecause npm 3 works totally differently when downloading these sub-dependencies, I'd like to try to move to that to see if it fixes the problem.\n. @DannyBen I think your issue was resolved. Do you continue to get it after a heroku update?\n. yeah that's exactly what happened, the update had the fix but it didn't run the updated version of the CLI until the next time you ran it.\n. try again, you were probably experiencing this https://status.heroku.com/incidents/851\n. I shipped a change earlier to make plugin loading happen in parallel, that was probably causing this. I rolled it back, so can you try deleting ~/.heroku/node_modules and trying again?\n. can you show me the output of heroku version?\n. OK I'm going to roll back the changes I pushed out earlier entirely\n. it's rolling back now, if you update to 4.29.4-8867943 it should be fixed\n. @traducer I noticed that too and put a patch in for that. Sorry for the trouble here!\n. @brookinc it's a little confusing, there is a v3 and v4 branch of the CLI, you should have both of them.\n. delete ~/.heroku if you're still having trouble\n. btw do any of you happen to have NODE_PATH set?\n. yeah I'm pretty sure NODE_PATH is where the problem came from. I wasn't correctly overwriting it.\n. @craigkerstiens @friism I've always felt this was confusing as well. Any ideas on how we could improve it?\n. sure!\n. is devcenter a paranoid app?\n. #1701 should fix this\n. this is probably an issue with your internet connection. Can you access https://d1gvo455cekpjp.cloudfront.net/master/manifest.json?\n. it's one of the components of the toolbelt\n. waiting on https://github.com/heroku/foundation/issues/484 so I can use heroku.com urls instead of cloudfront.net\n. not till next week\n. this is fixed\n. @heroku/add-ons\n. https://github.com/heroku/heroku-cli/issues/254\n. There probably isn't anything I can do to help\u2014this is an issue with your internet connection. If you're behind a proxy make sure it's setup correctly. https://devcenter.heroku.com/articles/using-the-cli#using-an-http-proxy\n. I'm not sure there is a whole lot I can do to help without an error message. The one weird thing is that it says you're running 2.1.5 but using the toolbelt it should be 1.9.3. That might mean your install isn't using the heroku provided version of ruby and possibly a version of ruby with some problems.\n. oh that's your problem, that won't work on windows\n. you NEED to install the toolbelt from the windows package with 1.9.3. That doesn't mean you have to use 1.9.3 for anything else though.\n. I imagine the PATH isn't setup such that it's pointing to the .bat file in your program files directory\n. apologies since this isn't really mentioned anywhere you would've likely seen it, but we're trying not to add any new functionality to this version of the toolbelt. We're working on the replacement here: https://github.com/heroku/heroku-cli\n. this was moved to be asynchronous, though you may have to reinstall to get it\n. can you update and try again?\n. this should be resolved now\n. this is fixed now\n. This isn't really related to the CLI, you should submit a support ticket instead\n. you need to submit a support ticket, this project is for the CLI\n. can you submit a support ticket? this isn't an issue with the CLI\n. /cc @heroku/api (you guys will like this)\n. so ultimately does this perform a second http request if the match isn't found? I'm a bit concerned how this would work with paranoid apps\n. any command that uses these will need to have requires_preauth it's hard to tell which ones though\n. I don't care about the coverage. I'm out at lunch with a friend but I can release this after.\n. There are merge conflicts though\n. yes, those are since they all moved into v4 plugins\n. @heroku/api since this message comes from the API\n. this project is for the cli, please submit a support ticket\n. this will fix this https://github.com/heroku/heroku-cli/pull/82\n. The ruby code is getting close to deprecation and I'd really rather not add more commands to it, if this could be a node plugin that would be much more desirable.\n. We need a plugin to put the node code for pg stuff. I could at least get that started if you like.\n. I believe this will fix this https://github.com/heroku/heroku/pull/1742\n. can you update and try again?\n. what version are you on @intellisense?\n. @ducnvhn that isn't the same error. Can you show me the contents of heroku.bat? You could also try reinstalling.\n. I put in a fix for cygwin that apparently broke git bash. If you reinstall with the latest from toolbelt.heroku.com you should be good.\n. can you update and try again?\n. your home drive is on a network drive, this prevents windows from allowing a connection with the executable I place there. I resolved it by using $LOCALAPPDATA instead of the home directory\n. try reinstalling, a fix went out for this a few days ago\n. what is your %LOCALAPPDATA% env var set to? It's probably that non-existent drive.\n. you probably used to use the deprecated heroku-accounts plugin. Just runheroku git:remote -a appname -r remotenameand it will fix them for you\n. what is the error exactly? can you show me the command + output?\n. what remotes are listed ingit remote -vv`?\n. is there no app name? it should look like this:\nproduction https://git.heroku.com/myapp.git (push)\n. is HEROKU_GIT_HOST or HEROKU_HTTP_GIT_HOST set? I copy + pasted your remotes and mine was able to parse it. Also, what is the output of heroku version?\n. ahhhh it's a CLI parsing issue. for some reason with this flag it isn't working with the equals separator\n. alright, I'm pushing out 4.25.1 which will have the fix for this\n. hmm not sure why this was breaking for you, but there was some bad code inside an exception handler. If you delete ~/.heroku/client and try again it should be good.\n. There should be a 60 second timeout when connecting. Is it taking that long?\n. I suppose I could increase the timeout a bit, but that's a pretty high time. Any idea how long it took to connect on your connection? This file is served over cloudfront so it's a bit strange it took that long.\n. You could run time curl https://cli-assets.heroku.com/master/4.25.2-beb750a/darwin/amd64/heroku-cli > /dev/null\n. The next release will have a longer timeout for this request\n. Timeout increased\n. Is it taking a full hour?\n. There isn't anything we can do to deliver that file more quickly, it's already served by a CDN.\n. your proxy isn't setup properly, set HTTP_PROXY and/or HTTPS_PROXY appropriately\n. This was a bug but was resolved earlier. I would ask for your version, but it's probably autoupdated by now. I'm going to assume this is resolved unless you can reproduce it.\n. maybe try reinstalling, that version is very old\n. you have some old code, try reinstalling\n. is there anything in ~/.heroku/error.log that might be informative?\n. okay I think this was a weird ascii encoding issue, can you update and try again?\n. 3.42.16 had the fix, looks like it worked\n. Try reinstalling, sometimes old gems get loaded and I think an old version of excon is causing the issue here.\n. Well this wouldn't happen on debian since it doesn't keep old code around (I assumed you were on osx). You're looking at the wrong code, that repo is for the website http://toolbelt.heroku.com. The code is tested on 2.2. Excon doesn't need to be listed as a dependency because it is part of heroku-api.\nI think what's happening here is the version you installed with apt-get isn't the same one you are running. Try uninstalling and running which heroku. You probably need to remove that other version.\n. yeah sorry about this, we do upgrade versions of the gems, but in weird cases (like this) I've seen it pick up old versions. Not really sure why it happens, but since we're moving commands over to the go/node codebase it's not likely to cause many problems in the future.\n. did you get this just now? What OS?\n. thanks for letting me know! this will fix it: https://github.com/heroku/heroku/pull/1776\n. I'm not really sure, but that version of SSL is deprecated and shouldn't be used anymore. Perhaps try reinstalling? What OS is this on?\n. Try reinstalling and maybe updating your ruby\n. it's not that 1.9.3 is old, it's that you had it compiled against an openssl that has expired ssl algorithms\n. can you take out the constants? I'm not a fan\n. Thanks!\n. What version of windows? Maybe try reinstalling? I can't reproduce\n. It's an environment variable. Run set GODE_DEBUG=info\n. Why does it have C:\\User then C:\\Users? Is one of your environment variables incorrect? What is the output of set?\n. You just showed me the extra output GODE_DEBUG=info displayed... does any of your env vars reference C:\\User instead of C:\\Users? That looks to be your problem.\n. That bit at the end npm ERR! error:0906D06C:PEM routines:PEM_read_bio:no start line looks suspicious. Are you behind a proxy?\n. This is fixed, it'll go out with the next release\n. maybe just try deleting ~/.heroku?\n. I'm not sure I follow completely, what is the output of git remote -vv after you ran heroku git:remote\n. I can't reproduce. If you run heroku git:remote -a appname it doesn't change your git remote?\n. I don't follow. If you run heroku git:remote --app appname you should be able to run heroku ps so long as it executes. Is this not happening? How the app is created doesn't matter.\n. yeah I'm not sure where the ssh:// is coming from, nothing in the CLI would produce that as far as I know. Running heroku git:remote should reset the heroku branch to whatever it should be.\n. are you reliably able to reproduce the ssh:// url?\n. That makes more sense. I've added https://github.com/heroku/heroku-cli/pull/146 which will fix this.\n. did you have this set? git config --global url.ssh://git@heroku.com/.insteadOf https://git.heroku.com/\nBecause that should be fixed now.\n. fixed here, https://github.com/heroku/heroku-cli/pull/102 will go out with the next release\n. Try reinstalling \n. Assuming the user is reading this, it probably means the internet connection isn't good. What country are you connecting from? Is the internet stable? You can try a different connection. Also it would be useful to know if a proxy is involved.\n. There probably isn't much we can do about this error though.\n. for network errors there really isn't much more context I can provide\n. https://github.com/heroku/heroku-cli/pull/109\n. everything looks good on my end: https://www.ssllabs.com/ssltest/analyze.html?d=toolbelt.heroku.com&s=23.23.123.117&latest\ncan you hit that endpoint with curl? You may not have the root certs configured right\n. what is the output of heroku version?\n. @ransombriggs is looking to make the parser more liberal in terms of what it takes in, but this likely means you have an invalid netrc file. Try deleting it (maybe want to back it up) and trying again.\n. Your home directory is not set properly. Set the HOME env var or USERPROFILE to a real directory.\n. fyi @keiko713 \n. the fix for this is going out right now https://github.com/heroku/heroku-cli/pull/117\n. do you have any HEROKU_* env vars set?\n. This project is for the Heroku CLI only. Submit a support ticket for general support.\n. Another user had this issue but it turned out to be a python package in their setup. Does the sample python app work for you? https://devcenter.heroku.com/articles/getting-started-with-python#introduction\n. Unfortunately I don't have any information on the other user.\n. Very odd. I don't think it's related. This seems like rails might be looking at the terminal width or something? Can you try it with foreman?\n. lgtm\n. lgtm\n. could we move this one to the addons plugin? https://github.com/heroku/heroku-cli-addons\n. that project looks dead, but this looks like a decent one:\nhttps://github.com/sindresorhus/opn\nOn Mon, Nov 16, 2015 at 12:57 PM Ransom Briggs notifications@github.com\nwrote:\n\n@dickeyxxx https://github.com/dickeyxxx do you have a recommendation\nfor what can replace launchy in node? I was thinking maybe this, but have\nnot looked at it super deeply yet - https://www.npmjs.com/package/open\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1819#issuecomment-157168196.\n. lgtm\n. This might involve adding middleware or something to the node client. I probably won't make this change for the ruby code.\n. https://github.com/heroku/heroku-cli-util/pull/38\n. @ransombriggs this seems to work\n. should this be merged @ransombriggs?\n. Can you delete ~/.heroku/plugin-cache.json and try again?\n. If that doesn't work, delete ~/.heroku/heroku-cli\n. Sorry for the trouble here everyone. We pushed a big performance patch yesterday but some of you seemed to have invalid cache files for some reason. We put a patch in to ignore the invalid parts of your command cache.\n. lgtm, fyi @craigkerstiens @garyposter this is the output:\n\n```\n\n~/s/g/h/heroku:(heroku-plugins_commands) heroku plugins:commands\nCommand                            Type  Plugin\n\n\n2fa                                go\n2fa:disable                        go\n2fa:generate-recovery-codes        go\nauth:login                         go\nauth:token                         go\nauth:whoami                        go\ncommands                           go\ndebug:errlog                       go\nlogin                              go\nplugins                            go\nplugins:install                    go\nplugins:link                       go\nplugins:uninstall                  go\ntwofactor                          go\ntwofactor:disable                  go\ntwofactor:generate-recovery-codes  go\nupdate                             go\nversion                            go\nwhich                              go\n_sudo                              node  heroku-sudo\naddons                             node  heroku-cli-addons\naddons:info                        node  heroku-cli-addons\naddons:rename                      node  heroku-cli-addons\napps:info                          node  heroku-apps\nblocked-domains                    node  heroku-sudo\nblocked-ips                        node  heroku-sudo\nblocked-ips:_remove                node  heroku-sudo\nblocked-ips:add                    node  heroku-sudo\nbuildpacks                         node  heroku-apps\nbuildpacks:add                     node  heroku-apps\nbuildpacks:clear                   node  heroku-apps\nbuildpacks:remove                  node  heroku-apps\nbuildpacks:set                     node  heroku-apps\nconfig                             node  heroku-apps\nconfig:add                         node  heroku-apps\nconfig:get                         node  heroku-apps\nconfig:remove                      node  heroku-apps\nconfig:set                         node  heroku-apps\nconfig:unset                       node  heroku-apps\ndebug                              node  heroku-debug\nfork                               node  heroku-fork\ngit:clone                          node  heroku-git\ngit:remote                         node  heroku-git\ninfo                               node  heroku-apps\nkernels:add                        node  heroku-sudo\nlimits                             node  heroku-sudo\nlimits:add                         node  heroku-sudo\nlimits:remove                      node  heroku-sudo\nlocal:run                          node  heroku-local\nlocal:start                        node  heroku-local\nlocal:version                      node  heroku-local\nlogs                               node  heroku-run\nmaintenance                        node  heroku-apps\nmaintenance:off                    node  heroku-apps\nmaintenance:on                     node  heroku-apps\npapertrail                         node  heroku-papertrail\npreauth                            node  heroku-sudo\npreauth:clear                      node  heroku-sudo\nps                                 node  heroku-apps\npt                                 node  heroku-papertrail\nredis:cli                          node  heroku-redis\nredis:credentials                  node  heroku-redis\nredis:info                         node  heroku-redis\nredis:maxmemory                    node  heroku-redis\nredis:promote                      node  heroku-redis\nredis:timeout                      node  heroku-redis\nredis:wait                         node  heroku-redis\nrun                                node  heroku-run\nrun:detached                       node  heroku-run\nslugs                              node  heroku-sudo\nstack                              node  heroku-apps\nstack:set                          node  heroku-apps\nstatus                             node  heroku-status\nuser:info                          node  heroku-sudo\nuser:suspend                       node  heroku-sudo\nuser:unsuspend                     node  heroku-sudo\nyubikeys                           node  heroku-sudo\nyubikeys:add                       node  heroku-sudo\nyubikeys:remove                    node  heroku-sudo\naddons:attach                      ruby\naddons:create                      ruby\naddons:destroy                     ruby\naddons:detach                      ruby\naddons:docs                        ruby\naddons:downgrade                   ruby\naddons:open                        ruby\naddons:plans                       ruby\naddons:services                    ruby\naddons:upgrade                     ruby\napps                               ruby\napps:create                        ruby\napps:destroy                       ruby\napps:downgrade                     ruby\napps:join                          ruby\napps:leave                         ruby\napps:lock                          ruby\napps:open                          ruby\napps:rename                        ruby\napps:suspend                       ruby\napps:sync                          ruby\napps:sync_implicits                ruby\napps:unlock                        ruby\napps:unsuspend                     ruby\napps:upgrade                       ruby\nauth                               ruby\nauth:logout                        ruby\nblockeddomains                     ruby\nblockeddomains:add                 ruby\nblockeddomains:remove              ruby\nblockedips                         ruby\nblockedips:add                     ruby\nblockedips:remove                  ruby\ncaps                               ruby\ncaps:add                           ruby\ncaps:remove                        ruby\ncerts                              ruby\ncerts:add                          ruby\ncerts:chain                        ruby\ncerts:dump                         ruby\ncerts:generate                     ruby\ncerts:info                         ruby\ncerts:key                          ruby\ncerts:remove                       ruby\ncerts:rollback                     ruby\ncerts:update                       ruby\nclients:trust                      ruby\nclients:update                     ruby\ncredits                            ruby\ncredits:add                        ruby\ncredits:remove                     ruby\ndomains                            ruby\ndomains:add                        ruby\ndomains:clear                      ruby\ndomains:remove                     ruby\ndrains                             ruby\ndrains:add                         ruby\ndrains:remove                      ruby\nevents                             ruby\nextended:apps:info                 ruby\nextended:labs                      ruby\nextended:user:info                 ruby\nfeatures                           ruby\nfeatures:disable                   ruby\nfeatures:enable                    ruby\nfeatures:info                      ruby\nhelp                               ruby\nkeys                               ruby\nkeys:add                           ruby\nkeys:clear                         ruby\nkeys:remove                        ruby\nkeys:search                        ruby\nlabs                               ruby\nlabs:create                        ruby\nlabs:destroy                       ruby\nlabs:disable                       ruby\nlabs:enable                        ruby\nlabs:info                          ruby\nlabs:update                        ruby\nlocal                              ruby\nlogs:drains                        ruby\nmembers                            ruby\nmembers:add                        ruby\nmembers:remove                     ruby\nmembers:set                        ruby\norgs                               ruby\norgs:addflag                       ruby\norgs:create                        ruby\norgs:default                       ruby\norgs:destroy                       ruby\norgs:find                          ruby\norgs:flags                         ruby\norgs:info                          ruby\norgs:licenses                      ruby\norgs:open                          ruby\norgs:removeflag                    ruby\norgs:rename                        ruby\norgs:update                        ruby\npg                                 ruby\npg:backups                         ruby\npg:copy                            ruby\npg:credentials                     ruby\npg:diagnose                        ruby\npg:info                            ruby\npg:kill                            ruby\npg:killall                         ruby\npg:links                           ruby\npg:maintenance                     ruby\npg:promote                         ruby\npg:ps                              ruby\npg:psql                            ruby\npg:pull                            ruby\npg:push                            ruby\npg:reset                           ruby\npg:unfollow                        ruby\npg:upgrade                         ruby\npg:wait                            ruby\npgbackups                          ruby\npgbackups:capture                  ruby\npgbackups:destroy                  ruby\npgbackups:restore                  ruby\npgbackups:transfer                 ruby\npgbackups:url                      ruby\nplugins:commands                   ruby\nplugins:update                     ruby\nps:dynos                           ruby\nps:resize                          ruby\nps:restart                         ruby\nps:scale                           ruby\nps:stop                            ruby\nps:type                            ruby\nps:workers                         ruby\nregions                            ruby\nreleases                           ruby\nreleases:info                      ruby\nreleases:new                       ruby\nreleases:rollback                  ruby\nrun:console                        ruby\nrun:rake                           ruby\nsharing                            ruby\nsharing:add                        ruby\nsharing:remove                     ruby\nsharing:transfer                   ruby\nslugs:download                     ruby\nslugs:publish                      ruby\nslugs:upload                       ruby\nsudo                               ruby\nsudo:run                           ruby\nsudoers:revoke                     ruby\nsudoers:set                        ruby\nupdate:beta                        ruby\nuser                               ruby\nuser:bounces                       ruby\nuser:disable_newsletter            ruby\nuser:enable_newsletter             ruby\nuser:human                         ruby\nuser:invalidate_password           ruby\nuser:mailer                        ruby\nuser:robot                         ruby\nuser:send_reset_password_email     ruby\nuser:send_signup_email             ruby\nuser:suspicious                    ruby\nuser:unbounce                      ruby\nuser:unsuspicious                  ruby\nuser:unverify                      ruby\nuser:verify                        ruby\n============\n% go: 0.08\n% node: 0.24\n% ruby: 0.68\n```\n. essentially how far long we are in converting commands from ruby so we can better estimate how long it will take to complete\n. I think I'd rather see the list alphabetically by command rather than by language\n. I don't think it matter so long as we export a parseable format\n. the accuracy might not be perfect either. I wonder if it isn't looking at default commands properly:\n```\n\n~ heroku which user\nCommand in npm package: heroku-sudo. https://www.npmjs.com/package/heroku-sudo\n~ heroku which local\nCommand in npm package: heroku-local. https://www.npmjs.com/package/heroku-local\n``\n. you probably shouldn't show the percentages with the csv output, that makes it not parseable. Also I think I'd rather see counts than percentages.\n. can you run the command withHEROKU_DEBUG=info? Also, are you behind a proxy?\n. sorry,GODE_DEBUG=info` actually for this.\n\n$ GODE_DEBUG=info heroku version\n. change it to GODE_DEBUG=silly and post the output so I can read it, not screenshots\n. alright I have a fix in place for this: https://github.com/heroku/heroku-cli/pull/145\nIn the meantime you can take out the always-auth setting in your ~/.npmrc file.\n. what is your LOCALAPPDATA set to?\n. is XDG_DATA_HOME set by chance?\n. It's an environment variable, you can see them with set. Also does it not show any output after heroku-cli: Installing Toolbelt v4... and just stop? Or are you canceling it? Can you see the exit status with $??\n. This seems to only be an issue on OSX Mountain Lion. Maybe it's because you have an old openssl bindings. You could try using the homebrew version brew install heroku.\n. you probably have a corrupt .netrc file\n. lgtm\n. lgtm\n. lgtm\nactually it doesn't, it's really ugly, but it should get the job done\n. what shell + version of windows? I wasn't able to reproduce.\n. ah I must've been a version behind\n. can you submit a support ticket? 500 errors mean it's not an issue with the CLI but something on the server.\n. that directory is supposed to be used for user-specific files and should be writeable by the user so the spec can be followed http://standards.freedesktop.org/basedir-spec/basedir-spec-latest.html\n. lgtm\n. we do not support non 64 bit versions of osx anymore\n. Is C:\\... literally what it says?\n. does it have any strange characters? what happens if you run set LOCALAPPDATA=C:\\heroku?\n. try reinstalling, you have an old version\n. can you file a support ticket? this is not an issue with the CLI\n. what command are you running?\n. hmm can you submit a support ticket? I need more information that shouldn't be posted publicly\n. what issue does this fix exactly? I'm also not sure it will work for older ubuntu versions.\n. This is usually because the ruby installation isn't properly compiled. Try reinstalling ruby and/or the toolbelt.\nAlso you probably shouldn't post your database credentials on the internet like that. I removed them for you. If it's an important database though you should roll the creds.\n. we do this partially, but only for the new toolbelt code. Once it's completely launched it will follow the spec. Though we only use the data directory for now.\n. Nothing more than I said before. The new CLI is nearly complete.\n. actually this usually means you have a ruby that isn't compiled right. Try reinstalling ruby and/or the toolbelt.\n. it's a known issue in an upstream dependency: https://github.com/ddollar/forego/issues/67\n. lgtm\n. You could do this with a git post-checkout hook: (create .git/hooks/post-checkout with execute permissions)\n``` bash\n!/bin/bash\nBRANCH=git rev-parse --abbrev-ref HEAD\necho \"changing heroku remote to $BRANCH\"\ngit config heroku.remote $BRANCH\n```\n. This couldn't be default functionality, too much change from how it works today, but maybe something configurable.\n. not much we can do about this, it means your machine can't connect to our servers\n. The error message should be clearer but if it's headless obviously it won't be able to open a browser.\n. thanks for debugging that! I got a PR for it up\n. There might be a version, I'm not sure which one. But it wouldn't be supported and will eventually stop working due to API changes.\n. lgtm\n. closing since this went out in this https://github.com/heroku/heroku-apps/commit/6e6c0efba6fc6739d5571a0ed557d239305286ff\n. you are running an ancient version\n. Uh this doesn't make any sense for this repo. Are you sure you put it in the right place?\n. @ransombriggs I get this (not sure if this is helpful or not)\n```\n \ue77b \ue0b0 ~/s/g/h/elephant \ue0b0 \ue0a0 testing \ue0b0 dig api.heroku.com\n; <<>> DiG 9.8.3-P1 <<>> api.heroku.com\n;; global options: +cmd\n;; Got answer:\n;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 37822\n;; flags: qr rd ra; QUERY: 1, ANSWER: 5, AUTHORITY: 0, ADDITIONAL: 0\n;; QUESTION SECTION:\n;api.heroku.com.                        IN      A\n;; ANSWER SECTION:\napi.heroku.com.         29      IN      CNAME   api-default.herokussl.com.\napi-default.herokussl.com. 3599 IN      CNAME   elb027033-298234319.us-east-1.elb.amazonaws.com.\nelb027033-298234319.us-east-1.elb.amazonaws.com. 59 IN A 184.73.210.26\nelb027033-298234319.us-east-1.elb.amazonaws.com. 59 IN A 107.21.218.33\nelb027033-298234319.us-east-1.elb.amazonaws.com. 59 IN A 184.72.252.139\n;; Query time: 116 msec\n;; SERVER: 10.0.1.1#53(10.0.1.1)\n;; WHEN: Fri Feb 26 10:22:14 2016\n;; MSG SIZE  rcvd: 174\n``\n. try running it withGODE_DEBUG=1`\n. @ransombriggs I already asked him to do that\nIt looks like it got stuck at an another step though. It seems like your internet connection might be unreliable. You could try running it with HEROKU_DEBUG=1 but I'm not sure that would show more information.\n. there are (unfortunately) lots of things it has to download. We're working to reduce that though.\n. lgtm\n. Can you submit a support ticket? This project is for the Heroku CLI.\n. typically we don't remove the ruby code, mostly because it can cause problems if any code has monkey patched this, but since in this case we want to remove some old command (right?) maybe we should\n. removing that would also require a changelog entry, but I think we should do it\n. lgtm\n. the code is fine, but I'm not sure it's really necessary\n. lgtm\n. lgtm\n. @xni88 did you try @grobertson's steps? Are you using BitDefender?\n. @KochetkovVictor change %LOCALAPPDATA% to something else\n. Ugh why you gotta make my life hard @mikehale :)\n. Btw that is not the code, this is the code https://github.com/heroku/heroku-apps/tree/master/commands/labs\n. there is also heroku which\n. @mikehale this somewhat involves this issue: https://github.com/heroku/cli/issues/259.\nEssentially I plan to get rid of this command and replace it with apps:features/labs and user:features/labs\n. this is now resolved\n. can you submit a support ticket? this is a project for the CLI\n. lgtm\n. it's because you're missing the heroku-redis plugin. I put an issue in to help make this more clear. https://github.com/heroku/heroku-cli/issues/253\n. are you still getting this error?\n. lgtm\n. Mind trying out the beta that doesn't require npm? Run 'heroku update beta'\nOn Wed, Apr 27, 2016 at 2:52 PM pazams notifications@github.com wrote:\n\nTrying to heroku login results in toolbelt update, but the update fails\non a checksum issue:\nheroku-cli: Installing core plugins (retrying)... !\n \u25b8    Error installing package.\n \u25b8    npm ERR! Linux 3.13.0-83-generic\n \u25b8    npm ERR! argv \"/home/ma/.heroku/node-5.10.1-linux-amd64/node\" \"/home/ma/.heroku/npm-3.8.5/cli.js\" \"install\" \"heroku-apps\" \"heroku-cli-addons\" \"heroku-fork\" \"heroku-git\" \"heroku-local\" \"heroku-orgs\" \"heroku-pipelines\" \"heroku-run\" \"heroku-spaces\" \"heroku-status\"\n \u25b8    npm ERR! node v5.10.1\n \u25b8    npm ERR! npm  v3.8.5\n \u25b8\n \u25b8    npm ERR! shasum check failed for /tmp/npm-4982-01098438/cli-npm.heroku.com/http-proxy/-/http-proxy-1.11.3/1915dc888751e2a6bf3c2abfcb1808fa86c72353.tgz\n \u25b8    npm ERR! Expected: 1915dc888751e2a6bf3c2abfcb1808fa86c72353\n \u25b8    npm ERR! Actual:   da39a3ee5e6b4b0d3255bfef95601890afd80709\n \u25b8    npm ERR! From:     https://cli-npm.heroku.com/http-proxy/-/http-proxy-1.11.3/1915dc888751e2a6bf3c2abfcb1808fa86c72353.tgz\n \u25b8    npm ERR!\n \u25b8    npm ERR! If you need help, you may report this error at:\n \u25b8    npm ERR!     https://github.com/npm/npm/issues\n \u25b8\n \u25b8    npm ERR! Please include the following file with any support request:\n \u25b8    npm ERR!     /home/ma/.heroku/npm-debug.log\n \u25b8\n \u25b8    Try running again with GODE_DEBUG=info to see more output.\n !    error getting commands pid 4946 exit 1\nThis issue is similar to npm/npm#12457\nhttps://github.com/npm/npm/issues/12457\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1938\n. It seems to fail for a lot of people, I don't know why. I've tried to fix it, but since it continues to fail for some users we decided to drop it.\n. lgtm!\n. yeah I submitted the PR to do that. It's out now, give it a shot.\n. it says it's updating, just be patient\n. lgtm\n. The first one is just because it wasn't able to connect to the internet I think. The second one though, I'm not sure but I think a user had this in an older version. Try deleting %LOCALAPPDATA%\\heroku (assuming this is on windows, you didn't say but it looks like it might be)\n. It shouldn't be using your local ruby but the one provided with the CLI. Are you installing from toolbelt.heroku.com?\n. Also make sure LOCALAPPDATA is set to something valid\n. I think your ruby is messed up somehow. Maybe try reinstalling that? Or maybe look at the PATH, and make it so the ruby from the toolbelt is used before the local ruby.\n\nAlso, what shell are you using?\n. Are there any environment variables with C:\\Ruby\\ in them? We don't use that path at all.\n. does heroku auth:whoami work?\n. can you run it with HEROKU_DEBUG=1 HEROKU_DEBUG_HEADERS=1 and email it to me? jeff@heroku.com\n. We did fix a bug with the parser that it looks like you were trying to get\naround with those escapes. Maybe just change it to heroku run --exit-code\n--app test-access-app -- bash -c \"exit 53\"?\nOn Mon, May 23, 2016 at 5:34 PM Benjamin Fritsch notifications@github.com\nwrote:\n\nhey,\nwe run a few integration tests against the Heroku Toolbelt to test some of\nour code. last week this code ran fine and returned and exit code of 53.\nsomewhere between this week and last week this command broke.\n/usr/bin/heroku run --exit-code --app test-access-app -- bash -c \\'exit 53\\'\nRunning bash -c \\'exit 53\\' on \u2b22 test-access-app... starting, run.4769\nRunning bash -c \\'exit 53\\' on \u2b22 test-access-app... connecting, run.4769\nRunning bash -c \\'exit 53\\' on \u2b22 test-access-app... up, run.4769\n53': -c: line 0: unexpected EOF while looking for matching `''\n53': -c: line 1: syntax error: unexpected end of file\n \u25b8    Process exited with code 1\nexpected output \u25b8 Process exited with code 53 and no error message.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1956\n. are you behind a proxy?\n. You need to whitelist *.heroku.com\nOn Tue, Jun 28, 2016 at 3:31 AM Shubham Goyal notifications@github.com\nwrote:\n@dickeyxxx https://github.com/dickeyxxx please help with this issue.\nLet me know what URLs I need to add into my firewall if required.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/heroku/heroku/issues/1973#issuecomment-229012392, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe/AANMfOPb8YybZ22oRs0I-ERn2dqrdjhoks5qQPf3gaJpZM4I_1lv\n.\n. this means you have a MITM proxy. I'm not sure how to make it work, you'll probably have to set SSL_CERT_FILE to a certificate for your internet.\n. lgtm\n. For the removal, the CLI does not dictate what requires 2fa and what doesn't, that is driven by the API. I put a PR in to fix the display issue.\n. haven't been able to figure out why yet, but this fails locally for me\n. Please submit a support ticket, this project is for the CLI only.\n. Try deleting ~/.heroku and ~/.local/share/heroku.\n. try updating your version of iterm to the latest\n. I'm not sure what isn't working exactly. It's something with this library we use: https://github.com/sindresorhus/term-img/blob/master/index.js\n. You don't have a temp directory configured. https://blog.diacode.com/fixing-temporary-dir-problems-with-ruby-2\n. Are you behind a proxy?\n. You need write access to that directory that is in the error message. Make sure you are the owner of it and/or the parent directory and you've given it user write permission.\n. cc @ransombriggs @nsamsami @garyposter \n\nany tips on messaging here?\n. One thing to keep in mind is only a handful of users will actually see this message and those that will are likely power users that have been using plugins probably for a few years (since no new ruby plugins have come out in a long time). So they'll likely understand even if it is somewhat vague.\nStill I think this could be improved. I'm just not sure how exactly. It would be nice if we had a blog post when we launch the new CLI that we could link to here.\n. Your PATH has something invalid in it that Ruby doesn't like. I'm not sure\nwhat but I've seen other users with this problem and that's what it was,\nbut I've never reproduced it myself.\nOn Tue, Aug 2, 2016 at 12:56 PM nicefellow1234 notifications@github.com\nwrote:\n\nI've been having some issues installing the Heroku toolbelt on Windows 10,\n64-bit.\nIt's the first time I install Heroku. I downloaded it from\nhttps://toolbelt.heroku.com/windows.\nAfter installing, I tried launching a new Git Bash and typing heroku login\nbut what I got back was bash: heroku: command not found\nRunning the same command on Windows Powershell, what I got back was\n'MYSQL' is not recognized as an internal or external command,\noperable program or batch file.\n'MYSQL' is not recognized as an internal or external command,\noperable program or batch file.\nAny suggestions? I thought that googling those lines would help, but I\nhaven't found much.\nI followed the recommendation from here, but now when typing heroku login\non the Powershell, nothing happens. Nothing changes on the Git Bash.\nI checked, and the Heroku folder was added to the PATH.\nI thought I'd ask for some help before installing anything else.\nThank you!\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/heroku/heroku/issues/1994, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AANMfHzFov1SPLfPLKuQBdj4aWTr3z3Mks5qb6D0gaJpZM4Ja_MJ\n.\n. cc @ransombriggs \n. this project is for the CLI but this is a server issue. Please submit a support ticket.\n. This project is for the Heroku CLI only. Please submit a support ticket for help with your application.\n. You were just updating during a partial release which was an error on our side. The release is complete now.\n. lgtm\n. usually this is because the PATH is invalid\n. lgtm\n. lgtm\n. great! lgtm\n. lgtm\n. Are you behind a proxy? Make sure you follow the proxy instructions here: https://devcenter.heroku.com/articles/using-the-cli\n. I don't know what your proxy server is, you'll have to ask your system administrator.\n. That error means the CLI isn't recognizing api.heroku.com as a legitimate host. Usually this happens because there is a MITM proxy that is intercepting the traffic and altering it. Something is between your internet and our servers that is causing it to happen.\n. well the CLI uses its own certs, you might have a root certificate that bypasses our SSL cert (which I hope you don't), but if that is the case, you can set the certs with SSL_CERT_DIR or SSL_CERT_FILE I think.\n. plugins:update is a command for the ruby plugins, while the documentation isn't clear on this, the command is going to go away along with the rest of the ruby code this month\n. you can use heroku update to update plugins\n. the space isn't required, is there a reason you think it should be?\n. I don't think I agree. It's useful to be able to do things like heroku apps:restart -aappname.\n. It's not possible to support multiple short flags with values in the same argument like -nxxxpzzz. There is no way for the parser to delimit. That is fine though since it's just optional shorthand.\n\nI don't follow your last point if you want to elaborate. However I am going to close this ticket as this is working as designed.. We only add the git remote if there isn't already one there. We can't remove the existing one since there might be a reason the user has it there, it could be a staging server or something else labeled heroku.\n. This project is for the Heroku CLI only. Please submit a support ticket for help with your application.\n. This is a networking error on your side. It doesn't look like the dns is configured correctly.. No idea. This is an issue attempting to reach google's servers, it has nothing to do with our code.. Are you having the same error as the user above?. there really isn't anything we can do about it if you can't connect to api.heroku.com. this code shouldn't be in use anymore cc @ransombriggs . do you guys mean CLI v3/ CLI v5? or do you mean the api version? If you mean the CLI, this won't likely fix anything since those requests are most likely coming from users that haven't updated their CLIs at all, so shipping a new version won't result in anything changing for them. Definitely fine with releasing, but I don't expect anything to change.. the beta may have a fix for this, can you try heroku update beta?. yeah the beta will be launched within the next couple of days. This is likely a problem with your antivirus. this is fixed now. are you on snow leopard?\n\nOn Jan 21, 2017, at 2:12 PM, jh0274 notifications@github.com wrote:\n_SecCertificateCopyNormalizedSubjectContent\n\n. must be 10.7+. this project is only here for reference. This project is not under current development. please reinstall, you're using the old CLI. first, try reinstalling from cli.heroku.com. This may be an issue with 64/32-bit. Does that file actually exist?. please reinstall, your CLI is out of date. As mentioned in the support ticket, your system is likely out of file descriptors. You can verify with ulimit. A restart is probably in order.. you could try deleting ~/.local/share/heroku. The CLI is installed as the old legacy gem and is crashing. You need to uninstall the gem or change your path to include the CLI. It's possible it may fix itself if you run heroku update, but it would be best to reinstall. Right now it's still using the same legacy ruby code that was installed when you first installed the CLI and it's not interfacing with the new node code right. I'm not sure what the real problem is, but a reinstall should definitely fix it since it's in that legacy codebase.. Please reinstall your CLI. CLI is out of date. are you behind a proxy?. as the error message states, you need to reinstall. might be better to use a case statement http://stackoverflow.com/questions/6803647/how-to-write-a-ruby-switch-statement-case-when-with-regex-and-backreferences\n. good call\n. done\n. I added those back in as hidden so they won't fail\n. ah you're right. This was way too noisy, we often have the API respond with errors about things like an app name already existing. It's too noisy to have the request id on all of that. I'm going to roll back both changes.\n. added\n. :+1: @craigkerstiens mentioned the same thing. I already pushed this out and sent an email to all the users I found that used the CLI in the last week under 1.8.7. I'm going to see how it plays out a bit. (Leaving the date out was semi-intentional to give myself some room, but in hindsight I should've just set a solid date)\n. The date right now is Wednesday\n. oh! ha. I didn't think of that.\n. I updated this in #1484\n. this doesn't appear to be in the right place\n. oops, nevermind, it is\n. this doesn't look right\n. +1 on keeping the consistency here\n. cc @mattgraham \n. only when needed to make the CLI boot faster\n. hmm it seems this won't work on windows\n. oops, missing paren\n. ",
    "samueltb": "+1\n. ",
    "JacobEvelyn": "@dickeyxxx any updates on this? Is there a reason incorporating the approach in https://github.com/glenngillen/heroku-exit-status isn't desirable?\n. I'd love to see any and all of these suggestions implemented. Forking our database is an enormous timesuck, and being able to have more control over that would be enormously helpful.\n. Ah, didn't realize the --skip-pg flag now exists.\n. I noticed this too, and pestered Heroku into adding the --wait-interval flag, which you can use to decrease the frequency of polling (default is one second). It's not a great fix but it works.\n. It seems like since these are database operations it's unlikely an operation will take only a few seconds and more likely to take at least 30 secs at the minimum (only from my small amount of anecdotal evidence).\nWhy not increase it to 5 or 10 seconds?\n. Sorry for the delay. Works great now, thanks!\n. Thanks for getting this out!\n. Ah right; I forgot about the nil case. Good catch! :)\n. ",
    "jekuno": "+1\n. It's a private app. What specs do you need?\n. ",
    "stof": "@dickeyxxx the --exit-code option does not appear when running heroku help run. this makes it very hard to discover it.\n. Is there any chance to get some feedback about this feature request ?\n. ",
    "Taytay": ":+1: \nThank you, thank you, thank you for this!\n. @dickeyxxx : This might be well known, but I can still reproduce it with a fair amount of command output and a slow network. When this has bitten us in the past though, it's happened on very good networks, so I have a hunch that a network hiccup of any sort will sever the connection and cause it to truncate the output. For my tests, I am running the following command. (Forgive the copy paste - there are cleverer ways I'm sure)\nheroku run --exit-code --no-tty 'for i in `seq 1 10000`; do echo $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i $i; done'\nI tried  --no-tty as suggested by the support team (Heroku ticket number 457085) to see if that helped, and it did not. In order to simulate the slow network, I'm using the Network Link Conditioner. I'm using it set to \"Edge\", which I realize is quite slow, but it is a repro nonetheless.\n. Sure thing. This is happening from both my Mac and Linux machines. Here is the full output:\nVagrant (Linux) box:\n```\nvagrant at webserver in ~ \n$ lsb_release -a\nNo LSB modules are available.\nDistributor ID: Ubuntu\nDescription:    Ubuntu 12.04 LTS\nRelease:    12.04\nCodename:   precise\nvagrant at webserver in ~ \n$ heroku --version\nheroku-toolbelt/3.30.2 (x86_64-linux) ruby/2.1.0\nheroku-cli/4.12.2-ed2563f (amd64-linux) go1.4.2\n=== Installed Plugins\nheroku-fork@2.2.2\nvagrant at webserver in ~ \n$ heroku local\nInstalling plugin heroku-local... done\nDownloading forego-0.16.1 to /home/vagrant/.heroku... done\nERROR: open Procfile: no such file or directory\n```\nAnd from our Mac: \n$ heroku --version\nheroku-toolbelt/3.30.2 (x86_64-darwin10.8.0) ruby/1.9.3\nheroku-cli/4.12.2-ed2563f (amd64-darwin) go1.4.2\n=== Installed Plugins\nheroku-fork@2.2.2\nheroku-oauth\nheroku-pg-extras\nheroku-pipeline\nOn Mac:\n```\n$ heroku local\nInstalling plugin heroku-local... done\nDownloading forego-0.16.1 to /Users/taylorbrown/.heroku... done\nERROR: open Procfile: no such file or directory\n$ heroku version\nheroku-toolbelt/3.30.2 (x86_64-darwin10.8.0) ruby/1.9.3\nheroku-cli/4.12.2-ed2563f (amd64-darwin) go1.4.2\n=== Installed Plugins\nheroku-fork@2.2.2\nheroku-local@3.0.0\nheroku-oauth\nheroku-pg-extras\nheroku-pipeline\n```\nNote: I was just able to fork one of our apps (that doesn't have a PG database). I am going to see if I can narrow down the plugins or circumstances that cause fork to hang.\n. I've narrowed down the issue to these lines of the Heroku fork plugin (I added those console logs)\ngetLastRelease: function* (app) {\n    console.log('before asking for releases')\n    let releases = yield this.heroku.request({\n      path: `/apps/${app.name}/releases`,\n      headers: { 'Range': 'version ..; order=desc;'}\n    });\n    console.log('before processing releases')\n    let release = _.chain(releases)\n    .filter('slug')\n    .first()\n    .value();\n    if (!release) {\n      throw new ForkError(`No slug for app ${app.name} was found.\nPush some code to ${app.name} before forking it.`);\n    }\n    return release;\n  }\nI see the \"before asking for releases\" but nothing else, so I don't think it's returning from that method.\nStill debugging to see if it's throwing a silent error internally, or if the request really is hanging.\nP.S. Man, love the new ES6 plugin architecture. The generator syntax makes async code linear and much easier to read. The transition time makes for some bugs, but I bet it will be worth it.\n. Okay - figured it out.\napps.getLastRelease:\njavascript\n  getLastRelease: function* (app) {\n    let releases = yield this.heroku.request({\n      path: `/apps/${app.name}/releases`,\n      headers: { 'Range': 'version ..; order=desc;'}\n    });\n    let release = _.chain(releases)\n    .filter('slug')\n    .first()\n    .value();\n    if (!release) {\n      throw new ForkError(`No slug for app ${app.name} was found.\nPush some code to ${app.name} before forking it.`);\n    }\n    return release;\n  },\nNotice it sets the range header manually, which makes sense. You're trying to get the most recent releases.\nHowever, there appears to be a bug in the request code:\n``` javascript\nRequest.prototype.performRequest = function performRequest(cachedResponse) {\n  var defaultRequestOptions,\n      headers,\n      key,\n      requestOptions,\n      req;\nthis.cachedResponse = cachedResponse;\nheaders = {\n    'Accept': 'application/vnd.heroku+json; version=3',\n    'Content-type': 'application/json',\n    'Range': this.nextRange // Here it's setting the range to this.nextRange\n  };\nconsole.log('headers before: ', headers)\n  this.options.headers = this.options.headers || {};\n// And down here we override the range header if it was set in the options\n  for (key in this.options.headers) {\n    if (this.options.headers.hasOwnProperty(key)) {\n      headers[key] = this.options.headers[key];\n    }\n  }\n```\nThe first time through the request method, the above code works great. The range header you set correctly sets the range header to the one you set in the options ('Range': 'version ..; order=desc;')\nHowever, when the response comes back, the request objects sees that there is a next-range header specified as (in our app's case) version ]348..; order=desc, so it does this in handleSuccess:\njavascript\n  if (res.headers['next-range']) {\n    this.nextRequest(res.headers['next-range'], body);\n  }\nWhich in turn does this:\njavascript\nRequest.prototype.nextRequest = function nextRequest(nextRange, body) {\n  this.updateAggregate(body);\n  this.nextRange = nextRange;\n  this.request();\n};\nSo it's setting the nextRange property, which, in normal circumstances does modify the range request header in the performRequest method:\n``` javascript\nheaders = {\n    'Accept': 'application/vnd.heroku+json; version=3',\n    'Content-type': 'application/json',\n    'Range': this.nextRange\n  };\nthis.options.headers = this.options.headers || {};\nfor (key in this.options.headers) {\n    if (this.options.headers.hasOwnProperty(key)) {\n      headers[key] = this.options.headers[key];\n    }\n  }\n```\n...but in this case, since the options.headers.Range property is already set, the nextRange gets immediately overridden by the Range initially set in the options.headers.\nSo it will make requests in an infinite loop, always passing in the initial range header.\nThere are numerous workarounds/solutions I can think of, but the most straightforward is to remove the Range header from options.headers in the nextRequest method:\njavascript\nRequest.prototype.nextRequest = function nextRequest(nextRange, body) {\n  this.updateAggregate(body);\n  this.nextRange = nextRange;\n  delete (this.options.headers['Range']);\n  this.request();\n};\nAs soon as I did this, it started working like a champ.\nOne thing to note though is that we are modifying the options directly, and if the consumer wants to reuse those options for a subsequent request, they wouldn't be able to. To get around that, you could clone the options object first at construction time.\n. I've opened a pull request with the change proposed above: heroku/node-heroku-client#34\n. Cool - updated as requested. :) Fingers crossed this one makes the linter happy.\n. The part I found odd was that after I ran the uninstall command, they appear to remain installed, and the packages are still found in node_modules. Both reinforced the appearance that the uninstall hadn't actually worked.\n. OH - Now I understand what you are saying! I didn't name the plugin correctly. I should have uninstalled heroku-fork. Got it. :)\n. Oh! After reading through the latest Pull request that introduced this change, it looks like I should be calling this as:\nheroku pg:promote TEAL instead of heroku pg:promote HEROKU_POSTGRESQL_TEAL_URL. Will make the change.\nOn a related note, Is there a place to be notified of such breaking changes?\n. Thank you so much for the quick fix  @dickeyxxx!\n. I just ran into this as well. All I see is: \n$ heroku help\nWARNING: CLI is updating\nAnd it hangs. Removing updating.lock allowed it to work.\n. Oh weird. My download/upload monitor showed nothing happening for many\nminutes. I didn't check my activity monitor. As soon as I removed that file\nand re-ran the app, I saw it download/uploading, and then it eventually\nfinished updating...\nOn Wed, May 13, 2015 at 1:43 PM, Jeff Dickey notifications@github.com\nwrote:\n\nI recently removed that warning, though it shouldn't have made it hang. I\ndon't think it was actually hanging, I think it was installing iojs.\n\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1552#issuecomment-101741219.\n. I'm actually in South America at the moment, so I'm afraid I can't help. I can in 3 weeks or so though. If any of our European friends stumble across this in the meantime, perhaps they can give that a shot.\n. :+1: for this PR. Thanks!\n(Our builds are broken until this gets merged, so we are watching it anxiously.)\n. @bjeanes This is basically going to fix the error we are running into #1562 \n\n00:26:23.896 + heroku pg:promote YELLOW --app our-new-app\n00:26:24.809 Promoting thinking-gently-8360 to DATABASE_URL on our-new-app... failed\n00:26:24.810  !    DATABASE on our-new-app is the last billing attachment to sailing-keenly-4016; either remove the add-on entirely or add a new attachment to it before replacing its config vars.\nOur next step in our build (after this promotion) is to delete that old database, but it looks like we'll need to add an attachment right before we promote in order for this to work, at least until this PR lands. Is that right?\n. Cool - am doing so now. Thanks.\n. JUST happened. Working now.\n. I swear, our build infrastructure is like a heroku stress test. :)\n. Unfortunately, it looks like it just failed again on the same build machine. I will try again. If I can't get this to work, do I need to update the fork command specifically?\n. Running it again didn't help (unlike GH-1567, where that just made it go away), so I have logged in and done this:\n$ heroku --version\nheroku-toolbelt/3.36.8 (x86_64-linux) ruby/2.2.2\nheroku-cli/4.19.19-6dfff81 (amd64-linux) go1.4.2\nERROR: json: cannot unmarshal array into Go value of type map[string]gode.Package\nnpm ERR! max depth reached: co@^4.5.4, required by heroku-fork@3.0.3\nnpm ERR! max depth reached: heroku-cli-util@^3.6.0, required by heroku-fork@3.0.3\nnpm ERR! max depth reached: lodash@^3.2.0, required by heroku-fork@3.0.3\n=== Installed Plugins\nheroku-pipeline\nMore info to come as I learn more about this...\n. Other linux machines we have are fine though: \nheroku version\nheroku-toolbelt/3.36.7 (x86_64-linux) ruby/2.2.2\nheroku-cli/4.19.19-6dfff81 (amd64-linux) go1.4.2\n=== Installed Plugins\nheroku-apps@0.1.4\nheroku-fork@3.0.3\nheroku-pipeline\nSo, this might just be an error on this particular machine.\n. Removed and reinstalled Heroku Toolbelt, and now fork works again:\n$ heroku version\nheroku-toolbelt/3.36.8 (x86_64-linux) ruby/2.2.2\nheroku-cli/4.19.19-6dfff81 (amd64-linux) go1.4.2\n=== Installed Plugins\nheroku-fork@3.0.3\nThat's the oddest thing. Feel free to close out, since it's a transient error. I wanted to leave it open just in case you or others happen to run into this.\n. This appears to be working now. Perhaps it was a transient issue?\nI am still concerned about the exit code being 0, as it makes me worry that I might have missed this.\n. Thanks very much @tef. I'll open a support ticket if I see this again. :)\n. ",
    "mojodna": ":+1:\n. ",
    "JeffPaine": "I had the same issue. For me, it seemed to be related to the version of heroku that I had installed which heroku version reported as 2.14.0. I had originally installed it via the downloadable installer from heroku's website for my Mac OS X system. \nI installed the gem / ruby version of the heroku client and then heroku db:push worked. I did this by:\n$ sudo gem install heroku\nHope this helps.\n. ",
    "bhoomit": "I'm getting the same error heroku 2.17.0, taps 0.3.23, windows + ruby 1.9.3p0 rails 3.1.3\nPlease help!\n. ",
    "dipolesource": "http://img.anongallery.org/img/7/3/hello-yes-this-is-balls.jpg\nrbenv, ruby 1.9.3p0 (2011-10-30 revision 33570) [x86_64-darwin11.2.0]\n~: which heroku\n/usr/bin/heroku\n~: heroku version\n2.24.0\n~: which taps\n/Users/dagnabit/.rbenv/shims/taps\n~: taps version\n0.3.23\n. ",
    "bopm": "Uninstall Toolbelt as shown here: http://johntwang.com/blog/2011/09/13/remove-heroku-toolkit/. Install heroku gem (gem install heroku). After that heroku gem'll be use rvm/rbenv ruby version and taps problem'll be fixed.\n. ",
    "glenngillen": "Done and done :) \nCan you let me know if there are any probs, or when you've merged and released? I need to let Isabelle know when it's available.\n. I think next week is fine. I'll tell Isabelle how to pull the latest master so she can test it\n. :+1:\nI'm constantly checking the current catalog only to work out the plan name I'm after. Feels like a fail of the hacked dx flow to have to open a browser to use the CLI effectively.\n. Definitely going to defer to others ( @bmizerany , @kr, @geemus ) on what is most unix. So options are:\n- New command to list plans\n- Update current heroku addons:list to take a param of an add-on name (e.g., heroku addons:list airbrake)\n- Don't assume a default and instead error and provide options\nNot sure why I feel uneasy about the last one. Maybe because I've become accustomed to zsh prompting to correct my errors?\n. Current behavior of heroku addons:add airbrake is to install whichever plan we've decided to mark as the \"default\" plan. It's usually the free/cheapest one. I think from a user's perspective this can seem somewhat arbitrary though. There is no way for them to know what is the default, and the assumption it is free is invalid (e.g., airbrake, heroku-postgresql).\nI'm not convinced either way whether it's justification to change the behavior though. \n. ",
    "svenfuchs": "thanks geemus!\n. ",
    "sjonnet19": "After downgrading to 2.15.3 everything worked again. I noticed the consolidation of Base ...\n. I'm attempt with my scripts to destroy apps and/or create apps then add add ons and start a worker.\nI think the warning does f with my script though. I am removing my err checks to see if that fixes it.\n. Any reason for the warnings?\nBy removing my catches it fixed it...\n. Thank you for the help and quick turn around as well.\n. ",
    "kwap": "I didn't know about the option to just simply type \"open ...\" providing the url, I'm not sure whether it's OS X specific or would work on the other platforms too. If so - then in this shape my change isn't doing any good.\nI thought about introducing and then setting up some heroku config option that would allow you to configure the behavior of heroku open, but then I wasn't sure how to proceed if someone would have setup more than one custom domain mapping for a given app. Besides I didn't want to change the default behavior of 'heroku open' \nMaybe this is how it should work:\nBy default if no custom domains are setup heroku open would open http://{default-appname}.heroku.com\nIf there is one custom domein - 'heroku open' would use that one\nIf there are more - it would take the first one\nAdditionally two config params would be provided - to use a different custom domain than first one when invoking 'heroku open' and second one to allow to ignore custom domain mappings (although I can't see why someone would like to use that).\nWhat do you think? \n. Yes, I definitely see your point. But then again - don't you think it would still make more sense if 'heroku open' would open first defined custom domain instead of opening the default app name?\n. I've started thinking about it when this happened to me:\nI've created a new heroku app, which has been assigned name 'stark-light-1052'. While I was developing it, it didn't bother me what the name actually was. When I felt it's production ready I wanted to configure custom domain for it (it was a transition from Wordpress based blog to Octopress). One of the things I was migrating was Disqus comments. And count for the comments does not work if I'm accessing these from another domain.\nI wonder it might make sense to open by default the assigned application name to avoid situation where e.g. google analytics is configured for custom domain, but we wouldn't like to count in visits if we open the site when developing (e.g. calling heroku open).\nSo there are pros and cons of both approaches. Not knowing how it's done if somebody would ask me - I'd say - after custom domain is configured 'heroku open' should take me to custom domain's url. But that's just me, I wonder what other folks would feel is \"natural\". \n. I can't tell you I like the current behavior but at the same time there's something fishy about doing anything else. I guess letting it bounce for a while definitely makes sense - I'll let it bounce too. Thanks for the discussion and ruining my first pull request ;). Let me know should enlightenment descend upon you.\nCheers!\n. 100% kidding, it's not about having pull request accepted but doing\nthe right thing.\nAs for rough edges - Nothing else so far, unless you've got a topic\nthat wouldn't be too much for someone with experience programming, but\nnot so much with Ruby - something that keeps bugging you but you never\ngot time to fix it. I'd gladly help.\nSent from my iPhone\nOn 19 gru 2011, at 22:53, Wesley Beary\nreply@reply.github.com\nwrote:\n\nSorry about the pull request ruining, that was far from my intention.  The discussion has definitely been good, it is just tricky with something like this to figure out the \"right\" thing since there are so many use cases.  I'll definitely let you know if anything inspiring comes up and I hope you'll do the same.  P.S. let me know if you find other rough spots and I'd be happy to help you out with fixing stuff up.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/pull/198#issuecomment-3210270\n. \n",
    "bgentry": "I've been bitten by this exact issue before (even complained about it to the DX group).\nI also agree that the real problem is that the command silently ignores invalid options.\n. @technomancy lgtm at a glance :+1:\n. Nice. I wonder why the CLI defaulted to saying \"internal server error\" when it definitely wasn't a 5XX response. Probably not worth digging into though. :+1:\nOn Thu, Jan 9, 2014 at 8:18 AM, Mark Fine notifications@github.com\nwrote:\n\nThis change works for me:\n\u279c  ~/heroku/heroku  (master) \u2717 bin/heroku sudo scale -a hkdist web=200\nScaling dynos... failed\n !    Cannot scale to more than 100 1X size dynos per process type.\n\u279c  ~/heroku/heroku  (master) \u2717\n/cc @bgentry\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/pull/993#issuecomment-31948165\n. Indeed it is, thanks!\n. thanks @dickeyxxx !\n. \n",
    "laserlemon": "Thank you. Glad I could help!\n. ",
    "jonah-williams": "Please see https://github.com/heroku/heroku/pull/208\n. Providing a single value would be much cleaner than the user/pass combination. My concern was that I don't think API tokens are normally revealed via the CLI but users can certainly grab their user/pass from ~/.heroku/credentials. Is there a way to obtain the API key so we only have to work with a single value (or is that something we should add as an additional command)?\n. @geemus ah I see. I have a number of old .heroku directories which do seem to store username/password but re-authenticating gets me a generated API key.\nI'm all for using a HEROKU_API_KEY env var and think that's the cleanest solution. I'll update the pull request so this only needs a single value.\n. Thanks @geemus but I think I'm good unless you can find me more hours in a day.\n. That should do it. I wish I didn't have to add as many checks for HEROKU_API_KEY as I did to make sure credentials on disk are not inadvertently deleted. However I think that cleaning that up would requiring changing the way the gem checks for credentials and its assumptions about what login/logout/get_credentials do and I'm reluctant to make such sweeping changes just to avoid a pair of extra conditionals. \nI caught, and now check for, one case where an invalid key could trigger an authentication failure -> call login expecting to prompt for new credentials -> get same key from env -> authenication falure ... loop. Hopefully I haven't missed any other similar cases.\n. Sure does. Subsequent deploys of the same app have not encountered the issue. Unfortunately I don't think there's any way I can recover the full payload from that response so I have no idea what page it was serving.\n. ",
    "neilmiddleton": "So what's the preferred and intended usage here?\nheroku pg:promote SOME_OTHER_DB_NAME\nor\nheroku pg:promote postgres://some_other_db_url\nAdditionally, how would this play with non PG stuff such as ClearDB?\n. Yes, makes sense.\nI'll have a stab at letting through postgres URLs then and see which rabbit hole that takes me down.\n. OK, PR sent over. On the surface it looked to be a simple bug, although I can't see why that case-changing was there in the first place.\n. Ah, useful, I'll add it in. \n-Neil\nOn 19 Jan 2012, at 23:27, Will Leinweberreply@reply.github.com wrote:\n\nNow that I see where this is in the code, it will break the nice feature of being able to do heroku pg:info red as a shorthand for heroku pg:info HEROKU_POSTGRESL_RED\nInstead, the patch should only preserve case for db_ids that start with postgres://\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/pull/214#issuecomment-3576389\n. I've added an example for this from what you've described above and all seems to be still working so I've left the code.  Either this regression isn't there, or my test is a bit screwy.\n. Closed - wrong branch\n. dns_advice actually happens after the call to API so any domain behaviours will have already occurred.   We may see errors if dominion-dns is down for whatever reason, but given the nature of that service that is fairly unlikely, unless the platform is having issues.\n. Naah - we can bin this.\n\nOn Tue, Aug 19, 2014 at 1:08 AM, Jeff Dickey notifications@github.com\nwrote:\n\n@neilmiddleton https://github.com/neilmiddleton do you still want to\nget this in?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/pull/1007#issuecomment-52574099.\n\n\n\nN\n. \n",
    "asenchi": "And I see these tests failed on 1.8.7. I am looking into this.\n. That last commit is mostly because I don't understand stubs. :) Honestly I am not sure these tests say much anyways...\n. @geemus Yes, I've tested everything manually and have not run into any issues. There were zero changes ultimately from the plugin that is in place (other than removing some exceptions for old yobuko that I included in the plugin).\n. This works for me in testing, would love for more people to try it out.\n. So we are looking to push the addon out to public beta tomorrow afternoon, think we can decide on this by then? I've got one more issue to fix in another area before that time, so this isn't necessarily blocking, I just wanted to put it on DX's radar.\nThanks.\n. Haha, @geemus we hit submit at the exact same time. :)\n. I am :+1: for sure, it's worked good in all of my tests. I was hoping someone from DoD would sign off on it also.\n. @geemus If we can get a release out that would be great. It's looking more and more like tomorrow will be release since I am blocked on a Dynect issue right now. Is that timeline too strict?\n. @geemus Haha, sounds good. Let me know if you need anything from me.\n. @geemus We are actually distributing a plugin currently.\nThere isn't anything in there that would cause issues with current workflows other than pg:ingress being renamed to pg:credentials. The --reset only works with the Yobuko Addon client (which is shipped) but if you don't have a valid url it won't do anything. So there should be nothing that would affect a normal release other than we are green lighting support for another database structure that isn't quite out yet.\nAlso, we plan on pushing the addon out as far as we can. I don't quite understand what level of beta that is, whether it's just for beta users or considered beta publicly and not the default yet.\nDoes that make sense?\n. @geemus Awesome. One of the reasons I fast tracked this is that Ryan Daigle wants to do a write up but the labs instructions were lengthy.\nThanks for your help.\n. @ddollar @geemus Yeah, we should've kept the plugin separate originally when Yobuko hit beta. We've had a bit of a shake up around the product which hasn't helped. We are now all on the same page and getting organized so good things are coming, but there's quite a bit of cruft left.\n. Nope, @will and @ddollar and I talked and it now just spits out a pretty connection string. I'd even be for getting rid of it personally.\n. Alright, I'll get those changes made tomorrow sometime.\n. I've racked my brain on this and can not think of a better name. I am open to suggestions.\n. Hmm, just had an idea. What about 'pg:chown'. Consistent with Unix, somewhat clear and a single word.\n. That doesn't seem clear to me either. Here's some other ideas along the same line.\nchpwd # could be misconstrued (change present working directory)\nchpass\nchkey\nI don't know, perhaps rekey would work. Let me think on it a bit.\n. I think pg:chpass is the shortest and clearest non-underscore name we have.\nBut I agree, I think DX just makes a call and we go with it, we could bikeshed for days I suspect. :P\n. I like it. Let me forward that onto DoD and get their opinion of dropping pg:ingress just to be safe.\n. I think dropping it from pg:info would make sense wrt the pg:credentials proposal.\n. I am going to make an attempt on this.\n. Oops, my bad. Thanks for taking care of that.\n. ",
    "andrewjanssen": ":+1:\n. ",
    "khustochka": "the same with 2.19.0, and with db:push\nIf you use 2.18.1 it will says: Auto-detected local database: postgres://user:passwd@127.0.0.1/dbname?encoding=utf8\nand in the newer version it is just Auto-detected local database: postgres:user:passwd@/dbname?encoding=utf8\n. ",
    "orlin": "Thanks man, it works beautifully.\n. ",
    "Spooner": "I didn't have my own key (neither id_rsa or id_rsa.pub) at this point, but I did have known_hosts (containing the Github public key). I push/pull to Github with my putty-generated key via TortoiseGit/Pageant, so that is why I never actually had a private RSA key in that folder.\nI have since created an appropriate private key on my Linux VM and Heroku likes that a lot and as a side-effect it means I can directly push/pull to github from the command line, which wasn't critical, but is nice :D\n. ",
    "vladiliescu": "This also happened to me.\nRunning Win7x64, Ruby and Git were already installed on my machine, no existing ssh keys. I installed only the Heroku client and Foreman (no Git). \nWhen I tried to login to Heroku, I got the error below:\nCould not find an existing public key.\nWould you like to generate one? [Yn] Y\nGenerating new SSH public key.\nUploading SSH public key C:/Users/<username>/.ssh/id_rsa.pub\nC:/Program Files (x86)/Heroku/lib/heroku/auth.rb:257:in `read': No such file or directory - C:/Users/<username>/.ssh/id_rsa.pub (Errno::ENOENT)\n        from C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:257:in `associate_key'\n        from C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:228:in `associate_or_generate_ssh_key'\n        from C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:215:in `check_for_associated_ssh_key'\n        from C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:209:in `ask_for_and_save_credentials'\n        from C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:59:in `get_credentials'\n        from C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:22:in `login'\n        from C:/Program Files (x86)/Heroku/lib/heroku/command/auth.rb:12:in `login'\n        from C:/Program Files (x86)/Heroku/lib/heroku/command.rb:135:in `run'\n        from C:/Program Files (x86)/Heroku/lib/heroku/cli.rb:9:in `start'\n        from C:/Program Files (x86)/Heroku/bin/heroku:28:in `<main>'\nFYI, after generating the ssh keys via Git I was able to log into Heroku.\n. ",
    "rwdaigle": "Still seems to be an issue w/ 2.20?\n``` term\n$ gem install heroku\nFetching: heroku-2.20.0.gem (100%)\nSuccessfully installed heroku-2.20.0\n1 gem installed\n$ heroku addons:add loggly -a devcenter\n-----> Adding loggly to devcenter... done, v150 (free)\nmaster dev-center$ heroku addons:remove loggly -a devcenter\n!    WARNING: Potentially Destructive Action\n !     This command will affect the app: devcenter\n !    To proceed, type \"devcenter\" or re-run this command with --confirm devcenter\n\ndevcenter\n-----> Removing loggly from devcenter... /Users/rdaigle/.rvm/gems/ruby-1.9.2-p180@heroku.dev-center/gems/heroku-2.20.0/lib/heroku/helpers.rb:57:in confirm_command': undefined local variable or methodapp' for Heroku::Command:Module (NameError)\n    from /Users/rdaigle/.rvm/gems/ruby-1.9.2-p180@heroku.dev-center/gems/heroku-2.20.0/lib/heroku/command.rb:142:in rescue in run'\n    from /Users/rdaigle/.rvm/gems/ruby-1.9.2-p180@heroku.dev-center/gems/heroku-2.20.0/lib/heroku/command.rb:128:inrun'\n    from /Users/rdaigle/.rvm/gems/ruby-1.9.2-p180@heroku.dev-center/gems/heroku-2.20.0/lib/heroku/cli.rb:9:in start'\n    from /Users/rdaigle/.rvm/gems/ruby-1.9.2-p180@heroku.dev-center/gems/heroku-2.20.0/bin/heroku:15:in'\n    from /Users/rdaigle/.rvm/gems/ruby-1.9.2-p180@heroku.dev-center/bin/heroku:19:in load'\n    from /Users/rdaigle/.rvm/gems/ruby-1.9.2-p180@heroku.dev-center/bin/heroku:19:in'\n$ ruby -v\nruby 1.9.2p180 (2011-02-18 revision 30909) [x86_64-darwin10.7.0]\n$ heroku version\nheroku-gem/2.20.0\n```\n. It seems to work on another app of mine w/ v2.19.2 (which failed in my original issue trace)\n\n```\n$ heroku addons:remove loggly \n!    WARNING: Potentially Destructive Action\n !     This command will affect the app: ryandaigle\n !    To proceed, type \"ryandaigle\" or re-run this command with --confirm ryandaigle\n\nryandaigle\n-----> Removing loggly from ryandaigle... done, v55 (free)\n```\n. In my experience, copying from one var to another is the majority case. However, I'm a fan of the UNIX model of discreet functionality that can be easily aggregated to form more powerful commands. As such my meager vote is for the piping one (which should be possible now if we're being a good command-line citizen?)\n\n$ echo 'my-value' | heroku config:add TEST\nAdding config vars and restarting app... done, v31\n  TEST => my-value\n(Perhaps this is two issues - pipability of all commands and a special-case copy command)\n. Yes, this would handle the majority case.\n. Doesn't seem to help?\nterm\n$ heroku config:add \"test.meagain\"=foobar\nSetting config vars and restarting ptls... done, v110\ntest.meagain: foobar\n$ heroku config:remove test.meagain\nUnsetting test.meagain and restarting ptls... failed\n !    Not found\n$ heroku config:remove \"test.meagain\"\nUnsetting test.meagain and restarting ptls... failed\n !    Not found\n. I believe it was created programmatically with the heroku gem invoked from a rake task.\n. A plugin would help this particular use case, but I believe we've talked about \"pipability\" for some other commands in the past so this has been a recurring theme (for me, at least). I am in favor for a more universal way to ensure output consistency.\n. @ddollar, @geemus a few questions about this merging of the heroku-fork CLI plugin to the mainline:\n- I'm a bit unsure how to approach testing the database copy portion of fork. What to stub, what to test etc... Do you have any ideas here?\n- Are my existing specs (config var & add-on provisioning) testing what they should be testing,  mocking what they should be mocking, all at the right level of granularity?\nHappy to jump in Campfire tomorrow if you're willing.\n. @ddollar Should I be concerned with the failing Travis CI tests? All tests pass locally.\n. I am unsure why the help output references fork as an alias to apps:fork and contains outdated help info?\n``` console\n$ be heroku help fork\nAlias: fork redirects to apps:fork\nUsage: heroku apps:fork [NEWNAME]\nfork an app\n-r, --region REGION  # specify a region\n -s, --stack  STACK   # specify a stack\n```\nAll alias declarations have been removed. What am I missing?\n. @ddollar I'm such a newb - thanks, that was it.\n. New help message:\n```\nUsage: heroku fork [NEWNAME]\nFork an existing app -- copy config vars and Heroku Postgres data, and re-provision add-ons to a new app.\n New app name should not be an existing app. The new app will be created as part of the forking process.\n-s, --stack  STACK   # specify a stack\n```\n. @ddollar I'm ready to merge this into the mainline and release it. Is everybody ok if I make it so?\n/cc @mmcgrana \n. > The fork top-level help should probably match it's detail help. Perhaps fork # fork an existing app:\nI had that originally - but don't like using a word to define itself?\n\nI was surprised that the --region ey type didn't cause an error?\n\nIt should: https://github.com/heroku/core/pull/1908/files#L0R158 I can play around with this and work w/ API.\n\nis --region meant to work with the new built-in heroku fork?\n\nIt is. Appears to be a regression. I will investigate. (probably related to the previous comment as well)\n\nGot this error trying to fork dataclips-mark. It might have to do with attachable resources?\n\nIt may have to do with how your db was provisioned/attached. You have a DATABASE_URL but no HEROKU_POSTGRES_COLOR_URL. I'll work with you offline to figure this out.\n. @mmcgrana fork command updated to properly recognize all flags, w/o outputting unreleased features in help message.\n. @ddollar, @geemus I'm alerting users to uninstall the heroku-fork plugin if it's installed. Is this necessary? Not sure what kind of conflicts can arise when a command that used to exist in a plugin is now part of the CLI...\n. Yep! Added:\nhttps://github.com/heroku/heroku/blob/master/lib/heroku/plugin.rb#L28\nThanks guys, now just trying to release.\n-Ryan\nHeroku\nOn Mon, Mar 25, 2013 at 10:48 AM, Wesley Beary notifications@github.comwrote:\n\n@rwdaigle https://github.com/rwdaigle - as per @ddollarhttps://github.com/ddollarif you just add it to this list:\nhttps://github.com/heroku/heroku/blob/master/lib/heroku/plugin.rb#L10 it\nwill prompt and remove.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/pull/733#issuecomment-15397290\n.\n. This approach seems to conflict with having params listed as comments. Adding the following comments then ignores the region flag, returning all add-ons.\n\n\nWe will need to revisit after the EU launch occurs.\n/cc @ddollar https://gist.github.com/ddollar/1106acc3cdcbb75dd36d\n. Dup of #757 \n. Dup of #748 \n. @ryanbrainard this issues is still open - it's a dup issue that was closed (I believe that's what you meant?)\n@cheptsov destroy the forked app as @ryanbrainard indicated. Then retry the fork and submit a support ticket with fork output if you're still having issues.\n. @geemus yes, sorry for the lack of context. Ported this issue over from the old CLI repo and you were the original reporter.\n. Doc updated: https://devcenter.heroku.com/articles/fork-app#heroku-postgres\n. Dup of #748 \n. @dennismonsewicz this appears to occur when the provisioning of a new Heroku Postgres database fails (the target add-on doesn't exist, but the forking process still continues.\nIf you try it again, does it still fail, and if so can you paste the full output of the command?\n. ",
    "dekokun": "Thank you for merge !\nAnd Thank you for Bug fix !!! https://github.com/heroku/heroku/commit/ddfb0982f09ed2641a5e5148b7410436a21a6b10\nThe Bug, I'm sorry ....\n. ",
    "brandur": "Hey @geemus, Core has been changed to only observe the first 40 chars of API tokens and this change has been pushed to production. This pull request is ready to go in whenever. Thanks!\n. /cc @craigkerstiens @jesperfj \n. Excellent! Thanks for taking a look @geemus! I'll delegate the time table question to @craigkerstiens.\n. Here's the Excon error message:\nexcon.error  {:error=>#<Excon::Errors::Created: Expected(200) <=> Actual(201 Created)\n. @geemus Was just about to comment on this. Looks great to me, and all I was going to say is that I think some of the certs output in our docs is outdated already anyway.\n. Thanks for reporting! This should be solved now, let us know if you see it again.\n. @debreczeni Hey! Actually, as it turns out I need a little more info to make sure this issue is solved properly. The API's default format is actually JSON, not XML (will give you JSON on Accept:, Accept: */*, or Accept: application/json), and I should have followed up earlier to get more details from you.\nThis may be about to be broken again for you as we throw some new instances back into rotation. Do you think you could get us precise details about what your client is sending along with Accept:? Thanks!\n. @wuputah Thanks for closing this! Yep, I think everything's back to nominal operation here.\n. Hey Mark, did this happen every time you ran heroku list or sporadically? More specifically, we're DNS balancing (TTL 30s) some of api.heroku.com's traffic to a new app, and I'm trying to determine whether that is or isn't the cause.\n. @ejholmes Was just about to open a pull, but it appears that you've beat me to it! Would you mind also changing the remove section to use CGI.escape as well? That way, drains with special characters that are added can also be removed (URI.escape doesn't cut it here). Thanks!\n. Cool! Definitely agreed that this doesn't seem like a great solution, but it seemed better than having frustrated Windows users with broken CLIs.\nFor now, I'm recommending that people export HEROKU_SSL_VERIFY=false if they're unable to get things working.\nClosing this for now. Let's hope that someone's able to come up with a better fix.\n. We ended up going with a different approach on this one. Closing this pull out.\n. Oh wow, thanks for the periodic reminder on this URI params problem. It's a tricky problem (I was hoping to treat resource values as generic values rather than URIs specifically), but I'll definitely think about how we might be able to tackle this with implicits.\n. This problem appears to stem from Toolbelt autoupdating itself without pulling it new versions of its dependent gems. Indeed a re-install will fix it. Sorry about the trouble here everyone!\n. @keichan34 The updater is bundled in the Toolbelt itself, so we should be able to push you the fix that corrects this behavior. That said, the Toolbelt is very much in maintenance mode right now, so we may just end up waiting until the new Heroku CLI tool (hk) ships instead (and where this will be a non-issue).\n. Stop messing with hk's benchmarks!\nOut of curiosity, which part of this pull fixes the DWH stuff? Is it just the:\nruby\nrescue\n  info = nil\nend\n. Hey Emanuele,\nWe're going to ship a new release pretty soon, at which point your\nclient should autoupdate itself.\nIn the meantime, the Toolbelt should be downloading updates to your\n~/.heroku/client. Can you go into that directory, and then apply the\npatch on this pull request? [1] That should hopefully get the problem\npatched for the time being so that you can continue working until the\nnew version is released.\nLet us know what happens. Sorry about the trouble here!\n[1] https://github.com/heroku/heroku/pull/1102/files\nOn Mon, May 05, 2014 at 07:02:35AM -0700, Emanuele Massara wrote:\n\nThanks brandur, when this will be available? In the next release? Any plan?\nI'm completely stuck now, I can't work with this version, and I need to understand how to proceed as I really need the CLI for my job.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/1101#issuecomment-42190665\n. Ah, +1 man! I hadn't realized that 1.8 was officially deprecated when I\ndropped this in. Sorry about the disruption!\n\nOn Monday, May 5, 2014, Pedro Belo notifications@github.com wrote:\n\nThank you! As discussed on another thread 1.8 is officially not supported\nfor a while now, but glad to have this covered since people are still\napparently using it!\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/pull/1103#issuecomment-42230453\n.\n. I think Fred encountered this on the \"logs\" endpoint (which still returns XML) while not yet authenticated.\n. @dickeyxxx +1. It's possible though that the effort involved there might be similar to that of just eliminating the use of RestClient completely.\n. Hah, thanks guys!\n\n@dickeyxxx heroku logs is broken for paranoid apps right now. I'd say that since Maciek is the first person to notice, the release isn't critical, but it would be nice to see it sooner rather than later. Thanks for offering!\n. @dickeyxxx Works in all my tests so far, so I think so! Thanks :)\n. Thanks Jeff!\n. Just FYI, the \"heroku-repo\" plugin failed for me after pulling this down. There may be others out there too.\n. @dickeyxxx Ahh, interesting! So if I'm reading this right, what you're essentially doing here is rotating the logic around 2FA management slightly: instead of prompting for a second factor when you observe that a Heroku-Two-Factor-Required came back, you preauth instead, which allows for a strong assumption that no further second factors will be required.\nLooks good. The one thing is that I think you may still get stuck around sudo, which will continue to send back a second factor request even if the app has already been preauthorized on. Sudo also requests a second factor for operations out of the app context (and therefore where preauth doesn't apply) as well, for example, pulling account information. Does this pull take that case into account?\n. Looks good to me. Thanks!\n. @will @dickeyxxx Excellent idea here!\nOne side effect of this that I've noticed from this change is that you can no longer make mistakes and backspace on the 2FA input because \"you can't go backwards\":\n$ heroku sudo config -a vault-landp\nTwo-factor code: j !    Command cancelled.\nIn the above command I accidentally hit a character after the command (\"j\") which I could normally correct with a backspace or C-w or C-u, but because we're now on getc and no longer operating as a smart terminal, to correct this I have to cancel the command and start over.\nThis is a pretty minor usability thing, but unfortunately I have a tendency to do this quite a bit. The extra security is nice, but the thing about a 2FA token is that it's not particularly sensitive because it's not much use by itself. I hate to ask, but what do you guys think about a revert?\n. /cc @raulb You will probably have run into this with heroku sudo members:add.\n. @dickeyxxx Not really ... I guess you could check whether the URL you're making a request to contains /apps/ in it, but it's a pretty ugly hack.\n. Hm, this one may be worse than I originally imagined. I was focused on folders with implicit app contexts, but with no app context at all the CLI will just go into a spin loop until it exhausts its rate limit.\nruby\n    rescue Heroku::API::Errors::Forbidden => e\n      if e.response.headers.has_key?(\"Heroku-Two-Factor-Required\")\n        Heroku::Auth.preauth\n        retry\n      else\nThe CLI receives the 2FA hint, then attempts to preauth:\nruby\n    def preauth\n      if Heroku.app_name\n        second_factor = ask_for_second_factor\n        api.request(:method => :put,\n                    :path => \"/apps/#{Heroku.app_name}/pre-authorizations\",\n                    :headers => {\"Heroku-Two-Factor-Code\" => second_factor})\n      end\n    end\nHeroku.app_name is nil so this if block just falls through, returning to the retry in the rescue above which starts the whole thing off all over again.\n@dickeyxxx I'm starting to think about some alternates to the auto-preauth strategy that we could start to consider. Let me know if anything comes to mind.\n. @dickeyxxx Yo! I was just thinking about this one again. I know that we put in the pre-emptive preauth strategy to fix some issues around paranoid apps in particular, and I think it was for commands that have to run multiple API calls, but I'm having trouble thinking of which ones in particular would be problematic. Commands like heroku logs make multiple calls, but since the second one is to Logplex (which doesn't know about paranoid apps), I wouldn't think that it would have a problem in particular.\nDo you happen to remember which commands were problematic? pg:psql?\n. @dickeyxxx Cool, if pg:psql is problematic, then all of the pg:* namespace may be as well.\n\nIs your thought that we could preemtively preauth in the command rather than doing it every time?\n\nRight, maybe! If the susceptible commands are scoped tightly enough, then maybe we can implement a special strategy for them (like preauth) or do something with the umbrella.\nThanks!\n. @dickeyxxx Nice one! So far that pull looks great to me.\n@deafbybeheading Sorry, I know that this one is kind of out of left\nfield, but it seems to me that you were one user who was running into a\nlot of paranoid-related trouble. Do you happen to remember any commands\nthat were failing for you beside those in the pg:* namespace?\nOn Thu, Dec 11, 2014 at 04:57:36PM -0800, Jeff Dickey wrote:\n\nworked on this a bit yesterday https://github.com/heroku/heroku/pull/1323 not working in all cases yet though\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/1266#issuecomment-66716912\n. @deafbybeheading Ah, cool. I think (hope) that pg:* is all of them\nanyway. Thanks!\n\nOn Fri, Dec 12, 2014 at 9:03 AM, Maciek Sakrejda notifications@github.com\nwrote:\n\n@brandur https://github.com/brandur no, I don't recall--sorry. I read\nthrough the issue history, though, and I think this approach sounds\nreasonable.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1266#issuecomment-66801560.\n. Awesome :)\n\nOn Thu, Dec 18, 2014 at 11:43 AM, Jeff Dickey notifications@github.com\nwrote:\n\nI believe everything we have discussed is resolved\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1266#issuecomment-67544665.\n. @dickeyxxx Nice! I think this is probably more clear. I haven't inspected this too closely, but I'd imagine that the object must be overwritten at some point with the newly procured API token?\n\nBetween the requested debugging data and the better instrumentation around API's Authorization, what do you say we check how that goes first, then make this change if necessary?\n. Cool! Certainly seems worth a try.\nI didn't trace the code closely enough, but you may want to be careful that you only end up using the string slice operator on objects that are non-nil.\n. We should have done this months ago. Nice one!\n. Thanks @brentdax! Great work.\n. Went into this pull kind of expecting to see a an IP address column added to pg:ps or something. This is 10 million times better than that! +11111111. Thanks @will!\n. @dickeyxxx Hah, this is our \"resource-symbols\" feature I think. At some point a few customers seem to have been flagged into it, but I'm not sure exactly when that happened. Someone may have been doing it based on support tickets at some point. Either way though, I think we're going to migrate away from that system.\n@csuhta Sorry about the trouble!\n. @altfatterz @dickeyxxx Ugh, we had a small problem in the last couple weeks with a certificate cleaner that was being overly aggressive. We finalized a fix today and it was shipped out about two hours ago.\nIt looks like the endpoint on this app has since been deleted so it's hard to confirm that it was indeed the issue here, but I suspect that if you try this again you won't run into the same problem this time.\n/cc @watsonian \n. Nope :/ heroku/api#4426\n. Ah, yes, totally! This pull needs some refactoring.\n. Totally! Unfortunately changes across two projects are required here and this was the only way to keep the specs running. I'll revert 562bf9b before merging this.\n. Ah, absolutely. I think this copy was proposed by Chris without the intention of being final, but this change seems reasonable to me.\n/cc @friism In case he also wants to take a look.\n. ",
    "jjb": "this may come in handy\nhttps://github.com/stevegraham/certified\n. os x 10.6\ninstalled within rbenv\n\u2794 rbenv version\n1.9.3-p194 (set by RBENV_VERSION environment variable)\n\u2794 heroku --version\nheroku-gem/2.28.10 (x86_64-darwin10.8.0) ruby/1.9.3\n\u2794 heroku run bash\nRunning bash attached to terminal... up, run.2\n~ $\nzsh: suspended  heroku run bash\n. i have no .inputrc -- but i vaguely remember setting something somewhere\nfor readline bindings\u2026 is there another file it might be in?\n. I am indeed using zsh. I just tried stty dsusp undef and it didn't help the problem. Here's the output of stty -a in a window where the problem is reproducible:\nspeed 9600 baud; 24 rows; 189 columns;\nlflags: icanon isig iexten echo echoe -echok echoke -echonl echoctl\n    -echoprt -altwerase -noflsh -tostop -flusho pendin -nokerninfo\n    -extproc\niflags: -istrip icrnl -inlcr -igncr ixon -ixoff ixany imaxbel iutf8\n    -ignbrk brkint -inpck -ignpar -parmrk\noflags: opost onlcr -oxtabs -onocr -onlret\ncflags: cread cs8 -parenb -parodd hupcl -clocal -cstopb -crtscts -dsrflow\n    -dtrflow -mdmbuf\ncchars: discard = ^O; dsusp = <undef>; eof = ^D; eol = <undef>;\n    eol2 = <undef>; erase = ^?; intr = ^C; kill = ^U; lnext = ^V;\n    min = 1; quit = ^\\; reprint = ^R; start = ^Q; status = ^T;\n    stop = ^S; susp = ^Z; time = 0; werase = ^W;\n@agiz @costa @HotFusionMan were you ever able to fix the problem?\n. @wuputah it does still exit my session\n(sorry if this isn't relevant to toolbelt, was just hoping some folks on here might know a solution. feel free to unsubscribe and we'll talk amongst ourselves :D )\n\u2794 stty -a\nspeed 9600 baud; 39 rows; 221 columns;\nlflags: icanon isig iexten echo echoe -echok echoke -echonl echoctl\n    -echoprt -altwerase -noflsh -tostop -flusho pendin -nokerninfo\n    -extproc\niflags: -istrip icrnl -inlcr -igncr ixon -ixoff ixany imaxbel iutf8\n    -ignbrk brkint -inpck -ignpar -parmrk\noflags: opost onlcr -oxtabs -onocr -onlret\ncflags: cread cs8 -parenb -parodd hupcl -clocal -cstopb -crtscts -dsrflow\n    -dtrflow -mdmbuf\ncchars: discard = ^O; dsusp = <undef>; eof = ^D; eol = <undef>;\n    eol2 = <undef>; erase = ^?; intr = ^C; kill = ^U; lnext = ^V;\n    min = 1; quit = ^\\; reprint = ^R; start = ^Q; status = ^T;\n    stop = ^S; susp = ^Z; time = 0; werase = ^W;\n\u2794 heroku run bash\nRunning `bash` attached to terminal... up, run.2237\n~ $ \nzsh: suspended  heroku run bash\n. In august 2015 above, heroku said \"we're planning to start working on from next week \"\nin Heroku ticket 323745 @dickeyxxx pointed me to this as the root cause: https://github.com/ddollar/forego/issues/67\nI suggested that heroku fork forego and he said \"we might have to\".\nLooks like that hasn't happened yet and that this bug which affects many (10s of thousands?) users on a daily basis hasn't been fixed since january 2013. Does heroku really not have the resources to fix this?\n. Looks like @ddollar merged to master on feb 16 2015 but didn't do a release\n. ",
    "defaye": "Thanks for this jjb\n. Anjain: try\n[sudo] gem install certified\nadd to gemfile : gem 'certified'\nbundle install\n. try adding the /certs folder to your /lib directory from https://github.com/stevegraham/certified\n. I was also advised to do $ HEROKU_SSL_VERIFY=disable heroku logs but, the method I used as prescribed in my replies here - heroku logs directly related to certificate issue. If you ensured that all other tweaks you made in trying to resolve are reverted then the method above worked for me and I had the exact same problem. They said to have a fix in a day or so.\n. ",
    "anjain": "It is not working :(\n. I am using gem 'paypal_adaptive',\"0.2.7\"  and it is working fine at local.\nIt is not working on heroku and getting following error:\nC:/Ruby192/lib/ruby/1.9.1/net/http.rb:678:in `connect': SSL_connect returned=1 e\nrrno=0 state=SSLv3 read server certificate B: certificate verify failed (OpenSSL\n::SSL::SSLError)\n. not working :(\n. ",
    "gpike": "Thanks for the fix.\n. ",
    "styleofglobal": "i am facing certificate verification issue .. please help me\nOS: Windows XP\nF:\\Fb-Apps>heroku login\nEnter your Heroku credentials.\nEmail: *@live.com\nPassword (typing will be hidden):\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       Unable to verify certificate, please set `Excon.defaults[:ssl_c\na_path] = path_to_certs,Excon.defaults[:ssl_ca_file] = path_to_file, orExc\non.defaults[:ssl_verify_peer] = false(less secure). (Excon::Errors::SocketErro\nr)\n    Backtrace:   C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/excon-0.14\n.3/lib/excon/ssl_socket.rb:74:inconnect'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/excon-0.14\n.3/lib/excon/ssl_socket.rb:74:in initialize'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/excon-0.14\n.3/lib/excon/connection.rb:344:innew'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/excon-0.14\n.3/lib/excon/connection.rb:344:in socket'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/excon-0.14\n.3/lib/excon/connection.rb:175:inrequest_kernel'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/excon-0.14\n.3/lib/excon/connection.rb:101:in request'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/heroku-api\n-0.2.8/lib/heroku/api.rb:60:inrequest'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/heroku-api\n-0.2.8/lib/heroku/api/login.rb:9:in post_login'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.2\n8.12/lib/heroku/auth.rb:76:inapi_key'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.2\n8.12/lib/heroku/auth.rb:185:in ask_for_credentials'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.2\n8.12/lib/heroku/auth.rb:217:inask_for_and_save_credentials'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.2\n8.12/lib/heroku/auth.rb:80:in get_credentials'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.2\n8.12/lib/heroku/auth.rb:41:inlogin'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.2\n8.12/lib/heroku/command/auth.rb:22:in login'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.2\n8.12/lib/heroku/command.rb:178:inrun'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.2\n8.12/lib/heroku/cli.rb:25:in start'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.2\n8.12/bin/heroku:16:in'\n                 C:/Program Files/ruby-1.9.3/bin/heroku:19:in load'\n                 C:/Program Files/ruby-1.9.3/bin/heroku:19:in'\nCommand:     heroku login\nVersion:     heroku-gem/2.28.12 (i386-mingw32) ruby/1.9.2\n. C:>heroku update\nUpdating from 2.28.12... done, updated to 2.28.12\nC:>ruby -e \"require('rbconfig'); puts(RbConfig::CONFIG['host_os'])\nmingw32\nC:>\n. C:>ruby -e \"require('rbconfig'); puts(RbConfig::CONFIG['host_os'])\nmingw32\nC:>heroku update\nUpdating from 2.28.15... failed\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       Invalid argument - connect(2) (Errno::EINVAL) (Excon::Errors::SocketError)\nBacktrace:   C:/Program Files/Heroku/vendor/gems/excon-0.15.3/lib/excon/socket.rb:48:inconnect_nonblock'\n             C:/Program Files/Heroku/vendor/gems/excon-0.15.3/lib/excon/socket.rb:48:in rescue in block in connect'\n             C:/Program Files/Heroku/vendor/gems/excon-0.15.3/lib/excon/socket.rb:31:inblock in connect'\n             C:/Program Files/Heroku/vendor/gems/excon-0.15.3/lib/excon/socket.rb:29:in each'\n             C:/Program Files/Heroku/vendor/gems/excon-0.15.3/lib/excon/socket.rb:29:inconnect'\n             C:/Program Files/Heroku/vendor/gems/excon-0.15.3/lib/excon/socket.rb:16:in initialize'\n             C:/Program Files/Heroku/vendor/gems/excon-0.15.3/lib/excon/connection.rb:350:innew'\n             C:/Program Files/Heroku/vendor/gems/excon-0.15.3/lib/excon/connection.rb:350:in socket'\n             C:/Program Files/Heroku/vendor/gems/excon-0.15.3/lib/excon/connection.rb:179:inrequest_kernel'\n             C:/Program Files/Heroku/vendor/gems/excon-0.15.3/lib/excon/connection.rb:105:in request'\n             (eval):2:inget'\n             C:/Program Files/Heroku/lib/heroku/updater.rb:69:in block (2 levels) in update'\n             C:/Program Files/Heroku/lib/heroku/updater.rb:68:inopen'\n             C:/Program Files/Heroku/lib/heroku/updater.rb:68:in block in update'\n             C:/Program Files/ruby-1.9.3/lib/ruby/1.9.1/tmpdir.rb:83:inmktmpdir'\n             C:/Program Files/Heroku/lib/heroku/updater.rb:55:in update'\n             C:/Program Files/Heroku/lib/heroku/command/update.rb:39:inblock in update_from_url'\n             C:/Program Files/Heroku/lib/heroku/helpers.rb:232:in action'\n             C:/Program Files/Heroku/lib/heroku/command/update.rb:38:inupdate_from_url'\n             C:/Program Files/Heroku/lib/heroku/command/update.rb:19:in index'\n             C:/Program Files/Heroku/lib/heroku/command.rb:179:inrun'\n             C:/Program Files/Heroku/lib/heroku/cli.rb:25:in start'\n             C:/Program Files/Heroku/bin/heroku:25:in'\nCommand:     heroku update\nVersion:     heroku-toolbelt/2.28.15 (i386-mingw32) ruby/1.9.2\n```\nC:>\n. F:\\Fb-Apps>heroku login\nEnter your Heroku credentials.\nEmail: *@live.com\nPassword (typing will be hidden):\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       Unable to verify certificate, please set `Excon.defaults[:ssl_c\na_path] = path_to_certs,Excon.defaults[:ssl_ca_file] = path_to_file, orExc\non.defaults[:ssl_verify_peer] = false(less secure). (Excon::Errors::SocketErro\nr)\n    Backtrace:   C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/excon-0.14\n.3/lib/excon/ssl_socket.rb:74:inconnect'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/excon-0.14\n.3/lib/excon/ssl_socket.rb:74:in initialize'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/excon-0.14\n.3/lib/excon/connection.rb:344:innew'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/excon-0.14\n.3/lib/excon/connection.rb:344:in socket'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/excon-0.14\n.3/lib/excon/connection.rb:175:inrequest_kernel'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/excon-0.14\n.3/lib/excon/connection.rb:101:in request'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/heroku-api\n-0.2.8/lib/heroku/api.rb:60:inrequest'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/heroku-api\n-0.2.8/lib/heroku/api/login.rb:9:in post_login'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.2\n8.12/lib/heroku/auth.rb:76:inapi_key'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.2\n8.12/lib/heroku/auth.rb:185:in ask_for_credentials'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.2\n8.12/lib/heroku/auth.rb:217:inask_for_and_save_credentials'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.2\n8.12/lib/heroku/auth.rb:80:in get_credentials'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.2\n8.12/lib/heroku/auth.rb:41:inlogin'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.2\n8.12/lib/heroku/command/auth.rb:22:in login'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.2\n8.12/lib/heroku/command.rb:178:inrun'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.2\n8.12/lib/heroku/cli.rb:25:in start'\n                 C:/Program Files/ruby-1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.2\n8.12/bin/heroku:16:in'\n                 C:/Program Files/ruby-1.9.3/bin/heroku:19:in load'\n                 C:/Program Files/ruby-1.9.3/bin/heroku:19:in'\nCommand:     heroku login\nVersion:     heroku-gem/2.28.12 (i386-mingw32) ruby/1.9.2\n. C:>heroku update\nUpdating from 2.28.12... done, updated to 2.28.12\nC:>ruby -e \"require('rbconfig'); puts(RbConfig::CONFIG['host_os'])\nmingw32\nC:>\n. same issue\nC:>heroku update\nUpdating from 2.28.15... failed\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       Invalid argument - connect(2) (Errno::EINVAL) (Excon::Errors::S\nocketError)\n    Backtrace:   C:/Program Files/Heroku/vendor/gems/excon-0.15.3/lib/excon/sock\net.rb:48:in `connect_nonblock'..............\n. yes i am behind a proxy server...\n. ",
    "securay": "I have the same issue, I reinstall all and even that, this is not working. I tried with heroku Toolbelt and i get the same error message, this is the message that i get:\nC:\\Windows\\system32>heroku login\nEnter your Heroku credentials.\nEmail: xxxx@yyyy.zzz\nPassword (typing will be hidden):\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       Unable to verify certificate, please set Excon.defaults[:ssl_ca_path] = path_to_certs, Excon.defaults[:ssl_ca_file] = path_to_file, or Excon.defaults[:ssl_verify_peer] = false (less secure). (Excon::Errors::SocketError)\n    Backtrace:   C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/excon-0.16.10/lib/excon/ssl_socket.rb:60:in connect'\n                 C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/excon-0.16.10/lib/excon/ssl_socket.rb:60:ininitialize'\n                 C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/excon-0.16.10/lib/excon/connection.rb:364:in new'\n                 C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/excon-0.16.10/lib/excon/connection.rb:364:insocket'\n                 C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/excon-0.16.10/lib/excon/connection.rb:192:in request_kernel'\n                 C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/excon-0.16.10/lib/excon/connection.rb:103:inrequest'\n                 C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/heroku-api-0.3.7/lib/heroku/api.rb:74:in request'\n                 C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/heroku-api-0.3.7/lib/heroku/api/login.rb:9:inpost_login'\n                 C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.34.0/lib/heroku/auth.rb:80:in api_key'\n                 C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.34.0/lib/heroku/auth.rb:189:inask_for_credentials'\n                 C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.34.0/lib/heroku/auth.rb:221:in ask_for_and_save_credentials'\n                 C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.34.0/lib/heroku/auth.rb:84:inget_credentials'\n                 C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.34.0/lib/heroku/auth.rb:41:in login'\n                 C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.34.0/lib/heroku/command/auth.rb:31:inlogin'\n                 C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.34.0/lib/heroku/command.rb:207:in run'\n                 C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.34.0/lib/heroku/cli.rb:28:instart'\n                 C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/heroku-2.34.0/bin/heroku:17:in <top (required)>'\n                 C:/RailsInstaller/Ruby1.9.3/bin/heroku:19:inload'\n                 C:/RailsInstaller/Ruby1.9.3/bin/heroku:19:in `'\nCommand:     heroku login\nVersion:     heroku-gem/2.34.0 (i386-mingw32) ruby/1.9.3\n. ",
    "praveep7": "i am also getting same error. please provide solution.\n. Hi ,\nI am using  3.2.0 version.\nThanks,\nPraveen\nFrom: Clint [mailto:notifications@github.com]\nSent: Wednesday, January 22, 2014 5:45 PM\nTo: heroku/heroku\nCc: Pathak, Praveen\nSubject: Re: [heroku] Heroku Logs Failing in 2.21.1 (#245)\nThis issue is quite old with no activity for months until recent. The Heroku gem itself is not recommended, and you should upgrade to the Heroku Toolbelthttps://toolbelt.heroku.com. Can you tell me what version you're on? The latest version of the toolbelt is 3.2.2:\n$ heroku version\nheroku-toolbelt/3.2.2 (x86_64-darwin10.8.0) ruby/1.9.3\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/245#issuecomment-33016285.\nThis message contains information that may be privileged or confidential and is the property of the Capgemini Group. It is intended only for the person to whom it is addressed. If you are not the intended recipient, you are not authorized to read, print, retain, copy, disseminate, distribute, or use this message or any part thereof. If you receive this message in error, please notify the sender immediately and delete all copies of this message.\n. ",
    "catsby": "This issue is quite old with no activity for months until recent. The Heroku gem itself is not recommended, and you should upgrade to the Heroku Toolbelt. Can you tell me what version you're on? The latest version of the toolbelt is 3.2.2:\n$ heroku version\nheroku-toolbelt/3.2.2 (x86_64-darwin10.8.0) ruby/1.9.3\n. Can you provide me the version information you get from heroku version as well as the output you get from attempting to login (obfuscating email):\n```\n$ heroku version\nheroku-toolbelt/3.2.2 (x86_64-darwin10.8.0) ruby/1.9.3\n$ heroku login\nEnter your Heroku credentials.\nEmail: clint@xxx\nAuthentication successful.\n``\n. Is this issue still valid? \n. Is this something we'd still like to see implemented? \n. Closing this unless anyone has more here. We now have a method of [forking applications](https://devcenter.heroku.com/articles/fork-app), and recommend the plugin mentioned above.\n. I opened #1012 to implement this. The spec kind of sucks :/ changing it to any other number than 5 caused line 19 to blow up\n. # 1012 above was merged, so closing this. \n. Closing in favor of #640\n. Hello \u2013 I'm closing this issue after over 1 year of inactivity. Please reopen if you are still experiencing issues here while on the latest version of the [Heroku Toolbelt](https://toolbelt.heroku.com), v3.2.2 at this time.\n. There's been no activity here for some time, and I believe there is no longer an issue here.$ heroku git:remote` worked as expected for me. \nPlease re-open if you still have issues there. \n. Closing; I believe this is long resolved:\n``` console\nheroku git:master $  heroku version \nheroku-toolbelt/3.2.2 (x86_64-darwin10.8.0) ruby/1.9.3\nheroku git:master $  bundle exec heroku version \n[.. a bunch of rake crap fixed in #986..]\nheroku-gem/3.2.2 (x86_64-darwin13.0.0) ruby/1.9.2\n```\n. Would logging something like \"Using HEROKU_API_KEY\" before returning here be sufficient? \n. Patched in #1052 , but I don't know how applicable it is to our user base as a whole so \u00af_(\u30c4)_/\u00af \n. #1052 outputs it with every command, IIRC, but could likely be modified to only output at certain times \n. This issue is kind of old but it seems people are still referring it. Things were different 1 year ago and much has changed :)\nIf you run into this and you're still running the Heroku gem (as shown above: Version:     heroku-gem/2.31.5 (x86_64-darwin12.0.0) ruby/1.9.3) please upgrade to the Toolbelt . After that, make sure you're client and plugins are up-to-date:\n$ heroku update\n$ eroku plugins:update\n[...]\nUpdating heroku-pg-extras... done\n[...]\nUpdating heroku-ps-types... done\n[...]\nIf it still doesn't work after those steps, please let me know either here or by opening a support ticket at help.heroku.com and reference this GitHub issue.\n. Is this still something we'd like to ship? \n. Closing b/c #653 \n. If anyone has any insight as to why it's still returning SHARED_DATABASE in those calls I would appreciate it\n. This wont pass until heroku/heroku.rb#36 is merged. To test locally you can check out this branch and update the Gemfile, adding this to group :development\ngem 'heroku-api', github: 'ctshryock/heroku.rb', branch: 'remove-shared-db'\nAnd commenting out heroku-api in heroku.gemspec:\n```\ngem.add_dependency \"heroku-api\",  \"~> 0.3.7\"\n```\nThat will use the branch that heroku/heroku.rb#36 is based on. Then bundle install and rake.\n. heroku/heroku.rb#36 has been merged. I'll update this branch and make sure things pass\n. Yeah, probably need that :P \nStill, I can update this branch, it seems to have fallen behind. I fell behind in updating it today \u2013 shoot for weekend or Monday\n. I assume thats this chunk of code ( https://github.com/heroku/heroku/blob/master/lib/heroku/command/ps.rb#L165-L195 ) in which case it just puts what the API returns. I suspect the API is expecting the newer $ heroku ps:scale web=X style and just returns X, in which case would be correct. Maybe @geemus knows more\n. I ran that a couple times, can you clarify the coloration issue in my screen shot? The a[1]: part stands out but I'm not sure I'm seeing the issue in this example. It's apparent in your screen shot though ;) \n\n. What kind of flags, or were you specifically wanting to pipe files in? To do that I do this:\n$ heroku pg:psql -a app < file.sql\nor \n$ cat file.sql | heroku pg:psql -a app\nNot quite the same, but functional. \n. There's been no activity here for some time, and I believe there is no longer an issue here. $ heroku git:remote worked as expected for me. \nPlease re-open if you still have issues there. \n. Digging into the repos in question, I believe -x is ignored now :/\n. Hello \u2013 the password is exchanged for a token and stored in ~/.netrc. I don't believe we seek to support other means for initial use of the CLI. \n. Closing; this is the current behavior (only backs up database attached to the application). \nconsole\n$ heroku pgbackups:capture SHARED_DATABASE_URL                                                                               \n !    Unknown database: SHARED_DATABASE_URL. Valid options are: DATABASE_URL, HEROKU_POSTGRESQL_SILVER_URL\n. Hello \u2013 I'm closing this issue after months of inactivity. Please reopen if you are still experiencing issues here while on the latest version of the Heroku Toolbelt, v3.2.2 at this time.\n. Hey @sumeetjain , if you're still having this issue, please try using pgbackups instead: https://devcenter.heroku.com/articles/heroku-postgres-import-export\n. How do I reproduce this? Is transfer a sub command for something? \n. Hello \u2013 I'm closing this issue after months of inactivity. Please reopen if you are still experiencing issues here while on the latest version of the Heroku Toolbelt, v3.2.2 at this time.\n. Merged, thanks! \n. Hey Keith \u2013 sorry for the ~11 month delay. I checked this out locally and :+1:  if you rebase I'll see about getting it merged :smile: \n. This looks like permissions errors trying to load your netrc files. This issue is really old however, so I'm closing. Please re-open if you still have this issue. \n. Thanks for the update!\n. Hello \u2013\u00a0I'm closing this issue as there isn't much information to go on here, and it's quite old. If you're still running into this issue, please re-open and include a full log of commands ran and their output. Thanks.\n. We're in the process of reengineering both db:pull and db:push. Please use pgbackups to import/export data:\n- https://devcenter.heroku.com/articles/heroku-postgres-import-export\n. Hello \u2013 I'm closing this issue after months of inactivity. Please reopen if you are still experiencing issues here while on the latest version of the Heroku Toolbelt, v3.2.2 at this time.\n. Thanks for reporting this. A pull request for this exists in #716 \n. Hello \u2013 this is typically indicative of a proxy or firewall issue. If you're still running into this else where please let us know. \n. Can this be closed? 9.2 is the default now, I believe this is no longer an issue.\n. Pretty sure this is done now\n. Think this is wrapped \n. Note too that you're using the Heroku gem, which has been depreciated. Please use the Heroku Toolbelt\n. I believe this is related to your local setup of SSL. Please upgrade to the latest version of the toolbelt if you haven't, and let us know if you're still running in to this.\n. I'm closing this issue, it should be resolved. Please upgrade to the latest version of the toolbelt if you haven't, and let us know if you're still running in to this.\n. Hello \u2013 I'm closing this issue after months of inactivity. Please reopen if you are still experiencing issues here while on the latest version of the Heroku Toolbelt, v3.2.2 at this time.\n. Hello \u2013 I'm closing this issue after months of inactivity. The issue you raise is not an issue with the Heroku Toolbelt, but rather a domain redirect or alias issue with your application. \n. This is still something we want yeah? \n. Hello \u2013 I'm closing this issue after months of inactivity. Please reopen if you are still experiencing issues here while on the latest version of the Heroku Toolbelt, v3.2.2 at this time.\n. Hello \u2013 I'm closing this issue after months of inactivity. Please reopen if you are still experiencing issues here while on the latest version of the Heroku Toolbelt, v3.2.2 at this time.\n. @julkiewicz not at this time, sorry. Can you share the version of the Toolbelt you're using? The issue above was on much older versions, I'd like to make sure you're seeing this on the latest version (3.2.2). If you can share your recent output that would help (as well as time that this occurred). Thanks!\n. I do not believe this is an issue with the CLI, at least not directly. \n\nAdding heroku-postgresql:crane... skipped (Could not communicate with vendor, please try again later)\n\nThis indicates an issue communicating with Heroku Postgres. It could be on the API side of things, or possibly your internet connection. Can you manually add a database to an application in the eu? Or create a database in the eu region?\n$ heroku addons:add heroku-postgresql:crane <app> --region eu\nOr just \n$ heroku addons:add heroku-postgresql:crane <app>\nIf the <app> is already in EU. \nI have no problems provisioning databases in the eu, and my current fork attempt is now past that point:\n$ heroku fork -a <app> eu-<app> --region eu\nCreating fork eu-<app>... done\nCopying slug... done\nAdding pgbackups:auto-week... done\nAdding redistogo:nano... done\nAdding scheduler:standard... done\nAdding heroku-postgresql:crane... done\nWaiting for database to be ready (this can take some time)...\nIt's clear the CLI could fail more gracefully here, but the error above points elsewhere for the true culprit. \n. Hello \u2013 I'm closing this issue after months of inactivity. Please reopen if you are still experiencing issues here while on the latest version of the Heroku Toolbelt, v3.2.2 at this time.\nAs mentioned in #833 , you should use alternative libraries for API access outside of the Heroku Toolbelt. \n. Hello \u2013 thanks for submitting this patch! Yes it's months later... :smile: \nWhile the gem is still getting updates, I don't believe we're interested in supporting it's direct usage. We have other gems that are more suited:\n- heroku.rb\n- heroics\nOtherwise, people should be using the latest version of the Heroku Toolbelt, v3.2.2 at this time.\nThanks again for the patch, sorry it took so long to respond :frowning: \n. :thumbsup: \nTravis seems to be failing for reasons outside this pull request, the master branch has the same error messages:\n*** Please tell me who you are.\nRun\n  git config --global user.email \"you@example.com\"\n  git config --global user.name \"Your Name\"\nto set your account's default identity.\nOmit --global to set the identity only in this repository.\nfatal: empty ident name (for <travis@testing-worker-linux-2-1-12184-linux-2.(none)>) not allowed\n    installs pulling from the plugin url (FAILED - 7)\n    update\n*** Please tell me who you are.\n. Hello \u2013 I'm closing this issue after months of inactivity. Please reopen if you are still experiencing issues here while on the latest version of the Heroku Toolbelt, v3.2.2 at this time.\n. @jonmountjoy I tried this out locally and get an error about a missing method from heroku/heroku.rb :\n```\nheroku git:add-process-types \u276f bin/heroku ps:types -a help                                                                                                                 \n!    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method `get_types' for #<Heroku::API:0x007ff5029844b0> (NoMethodError)\nBacktrace:   /Users/clint/Projects/Heroku/heroku/lib/heroku/command/ps.rb:217:in `types'\n             /Users/clint/Projects/Heroku/heroku/lib/heroku/command.rb:213:in `run'\n             /Users/clint/Projects/Heroku/heroku/lib/heroku/cli.rb:28:in `start'\n             bin/heroku:17:in `<main>'\n\n``\n. Hello \u2013 I'm closing this issue after months of inactivity. Please reopen if you are still experiencing issues here while on the latest version of the [Heroku Toolbelt](https://toolbelt.heroku.com), v3.2.2 at this time.\n. Hello \u2013 I'm closing this issue after months of inactivity. Please reopen if you are still experiencing issues here while on the latest version of the [Heroku Toolbelt](https://toolbelt.heroku.com), v3.2.2 at this time.\n. Note the migration ofexec_sql` from heroku/heroku-pg-extras here. There could be an edge case (I think) where someone updates their plugin without getting an updated Heroku toolbelt    which case the pg-extras commands would crash. \n. Closing this. Please update pg-extras if you run into this.\n$ heroku plugins:update heroku-pg-extras\n. > Running heroku plugins:update heroku-pg-extras doesn't help because I believe pg-extras is no longer shipped as a plugin.\nIt is still shipped as a plugin. Gradually some of the features are being moved into the main CLI as we see fit, but not all of them will. Please try running heroku plugins:update heroku-pg-extras and let us know; I can't reproduce this :/ \n. Can you share the output you get when you install the standalone, and when you try installing the plugin? \n. glad it got resolved! closing again \n. @startingup what version of the Toolbelt are you using?\nconsole\n$ heroku version\nheroku-toolbelt/3.6.0 (x86_64-darwin10.8.0) ruby/1.9.3\n. \n. Hello all \u2013 where did this end up? I think getting rid of okjson would be swell.. \n. \n. Can you verify for me you're on the latest Toolbelt version? v3.2.2 at this time. What are the file permissions on your ~/.netrc file?\n. Sorry, meant to share a link: https://toolbelt.heroku.com\nIf at all possible you should not be using the gem directly. Let me know if that helps (be sure to run gem uninstall heroku first)\n. I think using sudo to invoke gems is typically considered A Very Bad Thing\u2122 ... \n. /cc @will @pedro \n. @thatandyrose probably related to the status incident on going at this time.  Closing for now, please re-open if the issue persists after the incident is resolved\n. @paladini can you share the full output of the command you're running, specifically including the Heroku version? \nThis issue is months old and originally was likely attributed to an old Heroku version. The update from 14 days ago likely affected current versions, but only because of the status incident. \nThere are no known incidents at this time, so I'm curious to see what version you're running and the command you're executing.\n. Thanks for updating @paladini \n. Burn party material \n\n. Do you have the gem installed as well?\nPlease try updating to the latest version of the Toolbelt with $ heroku update and let me know if this is still an issue.\n. I can't reproduce this, can you please try upgrading to the latest version of the toolbelt (3.2.2 at this time) and let me know if it's still an issue?\n$ heroku update\nshould get you to the latest\n. Looks like you're using the gem directly. Can you try installing the Heroku Toolbelt and reopen this if you're still having this issue?  Be sure to uninstall the gem as well, so they don't conflict.\n. Hey @pedro has this been released into the wild? \n. What version of the Heroku Toolbelt are you on? \nconsole\n$ heroku version \nheroku-toolbelt/3.7.4 (x86_64-darwin10.8.0) ruby/1.9.3\n. Hello \u2013 I'm closing this issue after a month of inactivity. Please reopen if you are still experiencing issues here while on the latest version of the Heroku Toolbelt, v3.2.2 at this time.\n. > Version:     heroku-toolbelt/2.39.5 (x86_64-darwin10.8.0) ruby/1.9.3\nSuch old version! :smile: \nCan you try updating to the latest 3.1.1 with $ heroku update?\n. The CLI did this ~ 2 years ago until some refactoring and it was lost, unintentionally I imagine. Our docs still show it: \n- https://devcenter.heroku.com/articles/heroku-postgresql#pg-psql\n. Why not indeed; updated\n. I'll squash and merge if we're :thumbsup: \n. @gregburek both now. I updated the output above\n. bundle exec will execute ruby commands (from gems, etc) in an isolated environment, typically in a project you're using Bundler with. \nIf you're running ruby/rake commands within a one-off dyno, you should use bundle exec to make sure things are setup right.\nIf you're using the Heroku Toolbelt on your local machine, you should not use bundle exec. I'm not even sure what that would do. \nYou use bundle exec if you're hacking on heroku/heroku though. In general though, Heroku users should simply be using the Toolbelt.\n. checks out :+1: \n. /cc @hgmnz \n. @hgmnz had to keep name = name.chomp(\"_URL\") because name is a frozen string, can't chomp! it... which makes me think I should call freeze on it again? \n. Went ahead and re-froze it. \n. Thank you for posting the follow up where you found a solution. Judging by the solution you shared, that describes and issue with the Rails asset pipeline.\n. Please make sure you're using the Heroku Toolbelt, and not the gem directly.\n@dacochan  can you share the full output of your login attempt, masking your email, as well as your version? I have no issue logging in.\n``` console\n$ heroku login\nEnter your Heroku credentials.\nEmail: clint@***.com\nPassword (typing will be hidden):\nAuthentication successful.\n$ heroku version\nheroku-toolbelt/3.2.2 (x86_64-darwin10.8.0) ruby/1.9.3\n```\n@wilson12 can you still reproduce this after updating to the latest version of the Heroku Toolbelt?\n. Thanks for the update @wilson12 \n. Hello \u2013\nCan you try updating to the latest version of the Toolbelt? 3.2.2 is the latest at this time, you can upgrade via $ heroku update. \n. What is the syntax for only scaling the size? Or is that still handled by ps:resize? \n. Hey Scott, thanks for the patch. Are you using this as a Gem, or as part of the Heroku Toolbelt? The gem is technically depreciated and shouldn't be used directly. \n. The Heroku Toolbelt comes with a Ruby vendered. I would try running heroku update  and heroku update:plugins and let us know if you still see this issue.\n. Sorry, that last one should be heroku plugins:update\n. Closing. Please re-open if you can provide additional information such as steps to reproduce, example output from commands, etc. There isn't much to go on here :/ \n. I had more of a vomit-in-my-own-mouth reaction, but yeah. It's probably possible with just an initialize method, but I ran into lots of troubles with the tests :panda_face: \n. Close in favor of #979 \n. Can you try running $ heroku run bash at let me know if that works, or if you get the same error?\n. Hello \u2013 I'm closing this issue after a month of inactivity. Please reopen if you are still experiencing issues here while on the latest version of the Heroku Toolbelt, v3.2.2 at this time.\n. Thanks for reporting!\nThis is a duplicate of #943 and is patched in #964 . bump to @pedro :smile_cat: \n. Hey all \u2013 this is related to our recent incident: https://status.heroku.com/incidents/573\nIt should be resolved shortly (if not already)\n. This looks promising so far! \nI'm curious if this is something you find yourself doing (set new, unset old), or just a use case you envisioned? \nHave you looked into adding tests to cover this behavior? \n. > doing set + unset was quite annoying\nI've not done this myself, but I can imagine it would be, especially if it restarts the app 2x :frowning: \n\ndo nothing if the OLD_KEY is not already present.\n\nWell, maybe kindly tell the user this :)\n. @pedro do you have any thoughts on renaming configs in a single command?\n. Double restarts would be bad..\n@nicolasleger if the current CLI does not support the new API, I'm thinking this is probably a dead end :panda_face: \n. Duplicate of #943 yeah? \nI \"patched\" that with #964 but it's ugly and @pedro thinks I'm a fool now!\n. Many things are probably better than my approach...\nI'll look into your suggestion, thanks!\nOn Mon, Dec 16, 2013 at 4:42 PM, Maciek Sakrejda\nnotifications@github.comwrote:\n\nClosed #973 https://github.com/heroku/heroku/issues/973.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/973\n.\n. Hey David \u2013 are you using the Heroku Toolbelt or the gem? \n. Updating should work without full uninstall, re-install, though I'd love to hear otherwise:\n\nconsole\n$ heroku update\nUpdating from 3.2.1... done, nothing to update\n. @tvon the Toolbelt has a vendored ruby, it should not use whatever ruby you have active\n. Yes, you should be using the Heroku toolbelt. The Homebrew version is out of date... I wonder if it's something we even want to support. Thanks for bringing it to our attention! \nIs anyone still having any issue here? \n. @tvon also, no need to apologize! I meant to emphasize should as well as not, because crazy things happen ... \n. Please update with more information. I'm closing this until then. \n. Thanks for reporting this issue. It's both an issue with the CLI (the ugly output/crash) and your database; you're likely on the Dev/Basic or Hobby tier, where there are only 20 available connections. pg:ps needs a connection, thus you get the psql: FATAL: too many connections for role \"xvqupadivuidic\" if your database already has 20 connections open.\nThe CLI should fail more gracefully here though :/\n. Hey @michrome! \nWhy did you decide to change the method signature there, as opposed to sending the correct starter value? \nOr was that path only applied in a certain context, and your change in unless %w(dev basic hobby-dev hobby-basic).include? plan now avoid that path? \nAlso, tests would be rad\n. So, I have a Dev database and heroku fork did not crash with just a Dev db... it took a long time with a Hobby Dev, so I killed it. \nWith this branch, it seemed to hop right through, so that's good. \nLet me know if you have questions on adding a test, otherwise :+1: here\n. @michrome I believe things are stubbed out when you see calls in the before block like stub_core, which is why WebMock isn't seeing things. \nI looked at this for a bit and am stumped as well :/ \n@pedro ideas how to test this?\nProbably :+1: to merge anyway..\n. Hey @michrome anything left here? It's likely OK without an explicit test, assuming that's OK with @pedro . I think people continue to run into this and we need to patch to get out\n. Does this relate to #979 ? \n. This shouldn't be an issue if you're using the Toolbelt, it comes with Ruby 1.9.3 vendored. Are you using the gem directly? \nIf this change is backwards compatible with 1.9.3 though there likely isn't harm in merging it. \n. :+1: checks out \n. >  now getting a client error after any commands.\nYou get this error after every $ heroku command now? \nRegarding your SSL cert, you're likely better off opening a support ticket with Heroku: https://help.heroku.com\n. Did you find a solution here? \n. It looks likes you're using the gem itself; you should be using the Heroku Toolbelt instead. Try upgrading to that and let us know if that doesn't fix it. Also, if you're not in the application root, you need to specify the application name with --app <app name>\n. The bottom of your output there says Version: heroku-gem/3.0.1. This indicates you are still using the Heroku gem directly. Please run the following and report the output:\nconsole\nD:\\> gem uninstall heroku\nD:\\> heroku version\nOn my machine, heroku version reports this:\nconsole\n$ heroku version\nheroku-toolbelt/3.2.1 (x86_64-darwin10.8.0) ruby/1.9.3\nIf heroku version reports you're still on the gem, then you still have it installed somewhere. If it reports the Toolbelt 3.2.1, please try your command again. \n. Fixed in #980 or #979 should be releases soon, I hope :) /cc @pedro \n. Duplicate of #943 I believe. Should be patched with #979 which is merged, but not released yet. /cc @pedro new release soon? \n. Yeah, should be fixed:\nheroku git:master \u276f heroku pg:info -r staging \n !    Internal server error.\n !    Run `heroku status` to check for known platform issues.\nheroku git:master \u276f bin/heroku pg:info -r staging \n !    No app specified.\n !    Run this command from an app folder or specify which app to use with --app APP.\n. \n. Can you give me some more information here? Can you reproduce this reliably, and can you share the full command and output you ran (omitting app name or anything else specific)?\n. This probably belongs over in https://github.com/heroku/heroku-deploy , since deploy is not a normal Heroku command. \n. I was able to remove the extra resolve method, however I believe the resolve_transfer method is needed here. \n. removing resolve broke other things... fixing\n. @deafbybeheading I've refactored some, but I feel resolve_transfer(db) method is needed as is. It performs formatting / massaging that we'd need to do in the transfer method if it were removed and we just used resolve. Thoughts? \n. @deafbybeheading re: without --app flag, yes:\n``` console\n$ heroku git:pgbackups-transfer \u276f git remote add heroku git@heroku.com:sushi.git                                \n$ heroku git:pgbackups-transfer \u276f git remote -v                                                                   \ncatsby  git@github.com:catsby/heroku.git (fetch)\ncatsby  git@github.com:catsby/heroku.git (push)\nheroku  git@heroku.com:sushi.git (fetch)\nheroku  git@heroku.com:sushi.git (push)\nupstream    git@github.com:heroku/heroku.git (fetch)\nupstream    git@github.com:heroku/heroku.git (push)\n$ heroku git:pgbackups-transfer \u276f heroku pg:info                                                                  \n=== HEROKU_POSTGRESQL_JADE_URL\nPlan:        Hobby-basic\nStatus:      available\nConnections: 0\nPG Version:  9.3.2\nCreated:     2014-01-23 17:20 UTC\nData Size:   7.5 MB\nTables:      5\nRows:        15/10000000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n=== HEROKU_POSTGRESQL_SILVER_URL (DATABASE_URL)\nPlan:        Hobby-dev\nStatus:      available\nConnections: 0\nPG Version:  9.3.2\nCreated:     2014-01-09 20:38 UTC\nData Size:   7.6 MB\nTables:      5\nRows:        15/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n$ heroku git:pgbackups-transfer \u276f bin/heroku pg:reset silver                                                        \n!    WARNING: Destructive Action\n !    This command will affect the app: sushi\n !    To proceed, type \"sushi\" or re-run this command with --confirm sushi\n\nsushi\nResetting HEROKU_POSTGRESQL_SILVER_URL (DATABASE_URL)... done\n\n$ heroku git:pgbackups-transfer \u276f bin/heroku pg:info silver                                                       \n=== HEROKU_POSTGRESQL_SILVER_URL (DATABASE_URL)\nPlan:        Hobby-dev\nStatus:      available\nConnections: 0\nPG Version:  9.3.2\nCreated:     2014-01-09 20:38 UTC\nData Size:   7.3 MB\nTables:      0\nRows:        0/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n$ heroku git:pgbackups-transfer \u276f bin/heroku pgbackups:transfer jade silver                                         \n!    WARNING: Destructive Action\n !    Transfering data from JADE to SILVER\n !    To proceed, type \"sushi\" or re-run this command with --confirm sushi\n\nsushi\n\nPg_dump... 13.2kB |\n$ heroku git:pgbackups-transfer \u276f heroku pg:reset jade                                             \n!    WARNING: Destructive Action\n !    This command will affect the app: sushi\n !    To proceed, type \"sushi\" or re-run this command with --confirm sushi\n\nsushi\nResetting HEROKU_POSTGRESQL_JADE_URL... done\n\n$ heroku git:pgbackups-transfer \u276f heroku pg:info jade                                            \n=== HEROKU_POSTGRESQL_JADE_URL\nPlan:        Hobby-basic\nStatus:      available\nConnections: 0\nPG Version:  9.3.2\nCreated:     2014-01-23 17:20 UTC\nData Size:   7.3 MB\nTables:      0\nRows:        0/10000000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n$ heroku git:pgbackups-transfer \u276f heroku pgbackups:transfer jade                                 \n !    pgbackups:transfer is not a heroku command.\n !    See heroku help for a list of available commands.\n$ heroku git:pgbackups-transfer \u276f bin/heroku pgbackups:transfer jade                                 \n!    WARNING: Destructive Action\n !    Transfering data from DATABASE_URL to JADE\n !    To proceed, type \"sushi\" or re-run this command with --confirm sushi\n\nsushi\n\nPg_dump... 13.2kB -\n$ heroku git:pgbackups-transfer \u276f heroku pg:info jade \n=== HEROKU_POSTGRESQL_JADE_URL\nPlan:        Hobby-basic\nStatus:      available\nConnections: 1\nPG Version:  9.3.2\nCreated:     2014-01-23 17:20 UTC\nData Size:   7.5 MB\nTables:      5\nRows:        15/10000000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n$ heroku git:pgbackups-transfer \u276f heroku pg:info olive -a sushi-test                                                    \n=== HEROKU_POSTGRESQL_OLIVE_URL\nPlan:        Hobby-dev\nStatus:      available\nConnections: 0\nPG Version:  9.3.2\nCreated:     2014-02-11 16:37 UTC\nData Size:   6.8 MB\nTables:      0\nRows:        0/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n$ heroku git:pgbackups-transfer \u276f bin/heroku pgbackups:transfer sushi-test::olive                                         \n!    WARNING: Destructive Action\n !    Transfering data from DATABASE_URL to SUSHI-TEST::OLIVE\n !    To proceed, type \"sushi\" or re-run this command with --confirm sushi\n\nsushi\n\nPg_dump... 13.2kB -\n$ heroku git:pgbackups-transfer \u276f heroku pg:info sushi-test::olive                                                      \n=== HEROKU_POSTGRESQL_OLIVE_URL\nPlan:        Hobby-dev\nStatus:      available\nConnections: 1\nPG Version:  9.3.2\nCreated:     2014-02-11 16:37 UTC\nData Size:   7.1 MB\nTables:      5\nRows:        15/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n``\n. Sorry; been traveling etc. This should be good to merge, yes. If you wait I can rebase master et. al. and merge myself tomorrow.\n. Rebased, should be good to merge here, unless someone can help me with some tests :/ \n. MERGED thanks all\n. Yes, [we should](https://github.com/heroku/toolbelt/issues/83). \n. Closing this; we'll be pushing out updated docs [on the web](https://toolbelt.heroku.com) and in [the README](https://github.com/heroku/toolbelt/blob/master/Readme.md) that clarifies the ruby requirement for standalone install. Thank you!\n. Your version of the Toolbelt is very old; please update by reinstalling or using whatever mechanism likeapt-get` et. al.\nhttps://toolbelt.heroku.com/standalone\n. Great, thanks for reporting back\n. This is likely related to the status incident on going at this time.  Closing for now, please re-open if the issue persists after the incident is resolved\n. This is likely related to the status incident on going at this time.  Closing for now, please re-open if the issue persists after the incident is resolved.\n. Honestly, I'm mainly interested in preventing people from shooting themselves in the foot by messing up pgbackups. ?pool=5 and postgis:// being the usual suspects there. The cross-app database sharing hadn't occurred to me actually, but a warning about the practice and link to DevCenter on why this is OK but things not-to-do would be good. \nAlternative (and cheap) suggestions of how to do so are welcome.\n. @deafbybeheading OK, closing \n. Thanks @ddollar \u2013 any idea why this causes tests to fail? \n``` console\n$ bundle exec rspec spec/heroku/command/plugins_spec.rb                                              \n.....F.\nFailures:\n1) Heroku::Command::Plugins update updates all plugins\n     Failure/Error: STDOUT\n       expected: \"Updating Plugin... done\\n\"\n            got: \"\" (using ==)\n       Diff:\n       @@ -1,2 +1 @@\n       -Updating Plugin... done\n # ./spec/heroku/command/plugins_spec.rb:88:in `block (3 levels) in <module:Command>'\n\nFinished in 0.39331 seconds\n7 examples, 1 failure\nFailed examples:\nrspec ./spec/heroku/command/plugins_spec.rb:81 # Heroku::Command::Plugins update updates all plugins\nRandomized with seed 41865\n```\n. Is this a standalone install of the Heroku Toolbelt, or are you using the gem directly? \nIf it's the latter, please use the Toolbelt instead. \n. > its a toolbelt infall\nThe Toolbelt vendors it's own version of Ruby, 1.9.3 p.something\nWhat do these tell you?\nconsole\n$ which heroku\n/usr/local/heroku/bin/heroku\n$ heroku version\nheroku-toolbelt/3.3.0 (x86_64-darwin10.8.0) ruby/1.9.3\n. Hey @Baccanno, what does heroku labs show you? This is strange, that line should be calling detect on an Array and not a String. \nWorking on a getting a Windows VM setup to test; I can't reproduce on my Mac machine.\n. but but... I just got my Window VM up... \nThanks for updating :) \n. Hey @lekki sorry about this, it's very odd that you're seeing this, I'm not seeing any changes from 3.3.0 that suggests this would happen. Curious, do you get this error when you run the command in other directories? \nI'm on 3.4.1 on Win 7 and can't reproduce. Is what you shared the full output? \nDoes gem list show the Heroku gem?\n. Does $ heroku auth:login work for you? \nThe nuclear option would be to attempt to reinstall the Toolbelt\n. well, you should just be able to remove /usr/local/heroku. \n. :+1: fixed on my test win 7 machine\n. @deafbybeheading @pedro I'll release in a few, want to double check something...\n. Released v3.4.2. @technomancy can you help with a new Toolbelt version? \n. doing both wouldn't hurt \n. The Toolbelt tries to write/create a ~/.netrc file, which doesn't seem to be working here. Is your docker container OK to create that directory? I forget the specifics of Docker containers (I'm still new there), but it should have it's own chrooted(?) ~/ yeah? \nI'm pulling a container with ruby installed now to try out myself. \nInstead of relying on the ~/.netrc file creation, you could set HEROKU_API_KEY environment variable in your Dockerfile, set to whatever your API key is shown here: https://dashboard.heroku.com/account\n. I can reproduce this using phusion/passenger-ruby21. I installed the Toolbelt and was able to login with no issue, strangely, but after committing the changes to a new container / image (phusion/ruby+heroku, below) and running /bin/bash, I get the same error. \nI was able to get it to work the with API key, though:\n$ docker run -i -t --env HEROKU_API_KEY=<an api key> phusion/ruby+heroku /bin/bash\nroot@d10fd4b91fb0:/# heroku apps\n=== Collaborated Apps\nancient-bayou-        clint@email.com\nheroku-postgres-  clint@email.com\n. Yeah, not sure what if anything to do about this then. \nI need to learn a little more about Docker to understand if a per-container ~/ is available and writable. If not, then HEROKU_API_KEY is really the only way forward. \n@ted-ross OK if I close this?\n. Thanks :)\n. The Toolbelt release may be out of date in the default installer. Can you run $ heroku version and let me know what it says? \n. Can you show me the contents of /usr/local/heroku/vendor/gems?:\nconsole\n$ ls -la /usr/local/heroku/vendor/gems \ndrwxr-xr-x  10 clint  staff  340 Dec 16 16:45 .\ndrwxr-xr-x   3 clint  staff  102 Dec 16 16:45 ..\ndrwxr-xr-x  12 clint  staff  408 Dec 16 16:45 addressable-2.3.2\ndrwxr-xr-x  12 clint  staff  408 Dec 16 16:45 excon-0.25.3\ndrwxr-xr-x  11 clint  staff  374 Dec 16 16:45 heroku-api-0.3.15\ndrwxr-xr-x  12 clint  staff  408 Dec 16 16:45 launchy-2.3.0\ndrwxr-xr-x  16 clint  staff  544 Dec 16 16:45 mime-types-1.21\ndrwxr-xr-x   8 clint  staff  272 Dec 16 16:45 netrc-0.7.7\ndrwxr-xr-x   9 clint  staff  306 Dec 16 16:45 rest-client-1.6.7\ndrwxr-xr-x   8 clint  staff  272 Dec 16 16:45 rubyzip-0.9.9\n. This is coming from the Launchy gem, it's unable to find a browser, what OS are you using? \nUnfortunately it's not likely on Heroku's side, but I'll see if there's something client side here we can improve. \n. so, you're running the heroku open command on the remote Nitrous box, not your local Windows machine, right? Forgive me, I'm not totally familiar with Nitrous.io\n. OK, so the heroku open command asks the operating system to open the default browser and go to the URL provided (your-app.herokuapp.com). The Nitrous box doesn't understand this, I suspect because it's \"headless\" (there's no browser to use). \nYou're developing on Nitrous, but you're deploying to Heroku. If you install the Heroku Toolbelt on your Windows machine, you can do heroku open -a my-app and it will open there. At present, you're asking Nitrous to open it's web browser, which doesn't make any sense :)\n. Hello amazing Heroku users \u2013\nThis is broken and we are terribly sorry. We're digging in and should have a resolution soon. \nI'll leave this open until it's patched and update here when it's done.\nSorry again :panda_face: \n. fork is working for me now, both with Starter tier (Dev/Basic) and Production (Crane, Standard Yanari). \nPlease try again and let us know! \nSorry again \ud83d\ude07\n. Duplicate of #1063 see there for more \n. Thanks for reporting this Keith, however this repository is for the command line client. \nI'll relay your issue to the team responsible for parts you mention. \n. The FATAL: too many connections for role error is described here in Understanding Heroku Postgres Log Statements and Common Errors, and is not an issue with the Heroku command line client. \nThe error you pasted above may be however. \nDo you receive this for all your applications, or just this one? \nIs it constant, or intermittent? \n. I believe this is a duplicate of #1065 \n. Sweet avatar though :smile: \n. no worries, thanks for opening the ticket anyway :P\n. I think this is a duplicate of #1057 . Assuming heroku is installed in /usr/local/heroku, can you show me the contents of vendor/gems?:\nconsole\n$ ls -la /usr/local/heroku/vendor/gems \ndrwxr-xr-x  10 clint  staff  340 Dec 16 16:45 .\ndrwxr-xr-x   3 clint  staff  102 Dec 16 16:45 ..\ndrwxr-xr-x  12 clint  staff  408 Dec 16 16:45 addressable-2.3.2\ndrwxr-xr-x  12 clint  staff  408 Dec 16 16:45 excon-0.25.3\ndrwxr-xr-x  11 clint  staff  374 Dec 16 16:45 heroku-api-0.3.15\ndrwxr-xr-x  12 clint  staff  408 Dec 16 16:45 launchy-2.3.0\ndrwxr-xr-x  16 clint  staff  544 Dec 16 16:45 mime-types-1.21\ndrwxr-xr-x   8 clint  staff  272 Dec 16 16:45 netrc-0.7.7\ndrwxr-xr-x   9 clint  staff  306 Dec 16 16:45 rest-client-1.6.7\ndrwxr-xr-x   8 clint  staff  272 Dec 16 16:45 rubyzip-0.9.9\n. Closing as a dupe of #1057 , stay tuned....\n. Duplicate of #1057, but thank you for including your workaround!\n. Thanks for writing in  \u2013\u00a0this isn't a Heroku CLI issue, but an issue with Heroku Postgres add-on provider. They are aware of the issue and working to address it. \n. Thanks for writing in \u2013\u00a0can you post this on the pg-extras repo? I'll take a look \n. :heart: \n. Hi \u2013\u00a0I'm not sure I understand what the problem you're experiencing is. Can you describe what you're attempting to do, and what results you're getting? Full command line output will help too\n. If I'm not mistaken, the [thing] syntax in a normal Unix-type command line program indicates that the value is optional. In this case, removing [] from the :add command would be the correct change to make, since :add without a key makes no sense, and same for  :remove. \n. what's the minimum to reproduce this, assuming the backup limit is the root cause here? \n1. app with database, pgbackups:plus plan\n2. create maximum manual backups (2 on pgbackups:plus)\n3. attempt pgbackups:transfer from this app, or pgbackups:transfer to this app (or is to/from it irrelevant?)\n. pgbackups:transfer doesn't record an actual backup, so I am suspicious that the limit is affecting things here. That said, it does call many of the similar methods, so I wanted to get the process down and try to repeat your findings. \nI agree that the to app shouldn't matter; it doesn't even need to be a Heroku app, just a valid postgres:// url. \nI'll try to look at this soon(ish)\n. Do you have the toolbelt installed on your Jenkins setup, or the gem directly? What version of ruby:\n$ heroku version \nheroku-toolbelt/3.7.3 (x86_64-darwin10.8.0) ruby/1.9.3\n. Can you try running heroku update and let us know if this is still an issue? The version reported in your screen shot is quite old, and the current version is 3.7.3\n. heroku update is a painless command to run, and it will get you on the latest version where bug fixes for issues like this are commonly fixed. \nIt's difficult to diagnose things and provide support if you're unwilling to update to the latest version.\n. ugh, that's troubling :( \nCan you please try re-installing the toolbelt from toolbelt.heroku.com? Sorry for all the trouble here :/ \n. In my windows environment I uninstalled the toolbelt by deleting C:\\>Program Files\\Heroku directory completely, then re-installed the Toolbelt by downloading it from https://toolbelt.heroku.com . This gave me Heroku version 3.4. From there, I ran heroku update. Your screen shots still show 3.2, which suggest you're not completely removing your current install. \nhttp://cl.ly/image/372U3u120Y2P\nPlease try the steps above\n. This is a duplicate of #1107\n. Hello \u2013 please uninstall the heroku gem with gem uninstall heroku, and make sure it's not in any Gemfile that you're using. After that, please install the Heroku Toolbelt, as is the primary supported command line tool at this time. \nPlease let me know if that doesn't help. \n. Hello \u2013 the issue here is psql: FATAL: too many connections for role; you've exceeded the connections allowed for your database tier. \n. Happy to help! I also noticed you're on an older version of the gem:\nVersion:     heroku-gem/2.40.0 (x86_64-darwin13.0) ruby/2.1.0\nThe Toolbelt is the preferred CLI: http://toolbelt.heroku.com\nThe current version is 3.9.\nconsole\n$ heroku version\nheroku-toolbelt/3.9.1 (x86_64-darwin10.8.0) ruby/1.9.3\n. Can you provide context here? \nHow do I, as a plugin author, now override who auth failures are handled?\n. ah, I see now :thumbsup: \n. Hello \u2013 do you have the full error message? Is this reproducible? It sounds like a network issue between your computer and Heroku, not necessarily a problem with the client, but it's difficult to say without more information. \n. Heroku run commands are ran over a different port to a our \"rendezvous\" service, over port 5000 (I believe). \nWhat does this command give you? $ telnet rendezvous.heroku.com 5000:\n``` console\n$ telnet rendezvous.heroku.com 5000   \nTrying 50.19.103.36...\nConnected to ec2-50-19-103-36.compute-1.amazonaws.com.\nEscape character is '^]'.\n^Cexit\n$ \n```\n. No reply, so I'm closing for now. Please re-open if you continue to have issues \n. No worries! \nJust reply here if you're still having issues and hopefully someone can assist \n. Hello there \u2013\nI'm afraid the Heroku gem version you're using is quite outdated. The latest version is 3.10.1, can you try upgrading? I suspect handling of the region parameter may have changed client side, though my invocation remained the same and worked:\n$ heroku create -a eu-test0thing --region eu\nCreating eu-test0thing... done, region is eu\nhttp://eu-test0thing.herokuapp.com/ | git@heroku.com:eu-test0thing.git\n``` console\n$ heroku create -a eu-test0thing --region eu                            \nCreating eu-test0thing... done, region is eu\nhttp://eu-test0thing.herokuapp.com/ | git@heroku.com:eu-test0thing.git\n$ heroku info -a eu-test0thing  \n=== eu-test0thing\n[...]\nRegion:        eu\n[...]\n$ heroku version                                                                                         \nheroku-toolbelt/3.10.1 (x86_64-darwin10.8.0) ruby/1.9.3\n``\n. This bit us in the past: https://github.com/heroku/heroku/pull/887 \n. :+1: , just wanted to alert, better safe than sorry etc ... \n. Thanks!\n. How aboutcedar-14?\n. Maybe.. there's no mention in the help text what the default is though. As is, I wonder if viewing the help text here actually suggests people makecedar` apps. \nAdding mention of the default on line 196 and leaving as you have it:\n```\n-s, --stack STACK          # the stack on which to create the app. Default is cedar-14\"\n```\nas well as updating the current examples to read Creating <app>...done, stack is cedar-14 would clarify things for me.\nThis is nitpicky though :smile: \n. We have this same error message in two places now, was this unavoidable? \n. I came to that same conclusion; when I tried it was a pain to do so. I was wondering if you ran into the same issue. I don't know it's worth extracting, just curious. \n. ",
    "LibertysYarn": "Any progress on this fix? I've tried every option google has to offer with no success.\n. ",
    "Enelar": "Still have this issue. How i could develop app without logs?\n. dickeyxxx, i am so sorry. it was my fault, here i found post where guy say do not use heroku from rubygems. So i downloaded original binary from site. (I do not like binary without repotracking)\nCurrent version supplied with official fedora repository\nName        : rubygem-heroku\nArch        : noarch\nEpoch       : 0\nVersion     : 3.8.2\nRelease     : 1.fc21 (<---- !!!! )\nSize        : 74 k\nRepo        : fedora\nSummary     : Client library and CLI to deploy Rails apps on Heroku\nURL         : http://heroku.com/\nLicense     : MIT\nDescription : Client library and command-line tool to manage and deploy Rails apps on\n            : Heroku.\nBut\n[kberezin@kberezin ~]$ uname -r\n4.0.5-300.fc22.x86_64\nNow i use heroku-toolbelt/3.39.1 (x86_64-linux) ruby/2.2.2 and there no problems.\n. @wilkinson could you please continue your attemts?\nI suffer without this feature\n. @dickeyxxx where? I use GitHub integration, and there no way to add arguments\n. ",
    "pvh": "\"not yet\" is not applicable if the database has crashed.\n. :ship: :it:\n. Maciek's both ends call seems reasonable. Measure twice, cut once.\nOn Thu, Aug 14, 2014 at 4:20 PM, Daniel Farina notifications@github.com\nwrote:\n\nI've since changed the instructions to hopefully call out the magical\ndefault DATABASE_URL interaction, but yeah, there are probably zero\nsituations where this is good, by default or fat finger.\nNull opinion on where the blocking should happen, as I'm not convinced I\nam in a position to handle it right now.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1181#issuecomment-52257670.\n. will you are the master of polishing a product\n\nOn Tue, Mar 10, 2015 at 6:09 PM, Will Leinweber notifications@github.com\nwrote:\n\nShould help some issues where there are long running queries like\n@heroku/api https://github.com/orgs/heroku/teams/api sees from to at\nleast see who is causing the issue and how.\ncc @heroku/department-of-data\nhttps://github.com/orgs/heroku/teams/department-of-data for visibility\nYou can view, comment on, or merge this pull request online at:\nhttps://github.com/heroku/heroku/pull/1445\nCommit Summary\n- say who is using psql and how\nFile Changes\n- M lib/heroku/command/pg.rb\n  https://github.com/heroku/heroku/pull/1445/files#diff-0 (10)\nPatch Links:\n- https://github.com/heroku/heroku/pull/1445.patch\n- https://github.com/heroku/heroku/pull/1445.diff\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/pull/1445.\n. probably monday, then?\n\nOn Sat, Jun 13, 2015 at 7:09 PM, Jeff Dickey notifications@github.com\nwrote:\n\nnot sure if/when you want me to push. I'm not sure what this will do to\nusers not on the new types.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/pull/1616#issuecomment-111771313.\n. does it not say what the new scale will be?\n. \n",
    "hgmnz": "I amended the patch\n. @geemus force pushed a better commit there.\nThanks\n. /cc @ddollar \n. Somewhere in there we were able to resolve a pure postgres URL as well. @will may have opinions or guidance here too\n. @geemus, I'll take a look at the unfollow case\n. @geemus, ah thanks for clarifying. I'll look at this again soon\n. @geemus rebased\n. If that was the issue, it is now resolved  \nOn Wednesday, September 12, 2012 at 9:27 AM, Will Leinweber wrote:\n\nWere there dev issues other than you can't use it on a newly provisioned\none right away? I opened an issue on core with that with @ped and @hgmnz  \nOn Wed, Sep 12, 2012 at 9:25 AM, Wesley Beary notifications@github.comwrote:  \n\n@will https://github.com/will yeah, sorry. I think I had mentioned to\nyou I was thinking about reverting. Given the number of failures I was\nseeing around dev stuff I didn't feel comfortable releasing it (and wanted\nmaster to be releasable). Is there some place I should go to report the dev\nissues I was seeing so that it can get sorted out?  \n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/pull/561#issuecomment-8500428.  \n\n\u2014\nReply to this email directly or view it on GitHub (https://github.com/heroku/heroku/pull/561#issuecomment-8500527).\n. I missunderstood. This issue is not resolved, and is blocked by heroku/core#1182\n. @wuputah thanks for pinging me on this one. @will, care to take a look?\n. I've forcepushed a change, thanks @will. @wuputah this is set.\n. This branch looks pretty good to me. Why is travis failing?\n\nGenerally +1 on shipping this.\n. Agree with the potential usability issue @fdr points out, but maybe just heroku help would do the trick. I also don't like hooking into -s for this. Why not include a new option that hides or not the password, regardless of format? \n. +1. @pedro please merge this. I just wrote pretty much the same commit and was planning submitting the same pull request after two DoD people wasted another 45 minutes sorting out the same issue again. \nHelp us not waste more time figuring this out again, and answering support tickets on why things time out.\n. Definitely, thanks @pedro. I did not run the specs on this patch myself either.\n\nSome plugins like sudo are still requiring vendor/heroku/okjson, so maybe we should leave it as a stub?\n\nSo here's the approach we can take: Create an OkJson shim that just forwards the request to multi json with a deprecation warning. \n. > Could work well as a plugin: shell out to install oj under the same Ruby that is running the toolbelt, and then use it?\nI think a much simpler and sufficient solution is to depend on and use the json gem directly, instead of multi_json.\n. > Is that bundled with Ruby in all platforms?\nI don't think it is on Ruby version 1.8. Can you depend on json on the gemspec? \n. > Is that not covering all the concerns here?\nExcept for \n\nSome plugins like sudo are still requiring vendor/heroku/okjson\n\nBad coupling is bad.\nI suggest\n\nCreate an OkJson shim that just forwards the request to multi json with a deprecation warning.\n. >  Do we need to wrap encode, decode calls?\n\nThat would work. I was just going for cleanliness here, and a clear path to removal via deprecation. I'll propose a patch today\n. Here's what I'm thinking: https://github.com/hgmnz/heroku/commit/fd8f40f5b322e3f5b3c6ac91314e98874856dbe0\n. haha WHAT? Check this out from the README:\n\nWhen loading invalid JSON, multiJSON will throw a MultiJson::LoadError. MultiJson::DecodeError is an alias for backwards compatibility.\n\nI guess I'll go dig in that code to find out for sure though. Will report back.\n. ::LoadError (this one: http://ruby-doc.org/core-1.9.3/LoadError.html) is raised when it can't find a proper json adapter to load: https://github.com/intridea/multi_json/blob/master/lib/multi_json.rb#L105\nWhereas Multijson::LoadError is raised when it can't load/parse a json document: https://github.com/intridea/multi_json/blob/master/lib/multi_json.rb#L122\nSo I believe my code is correct.\n. @mfine ah! beat me to it. So we're good right?\n. cool. So now on to test this out. @pedro how can we help?\n. Question for @pedro (the changes are one-liners). @pedro how would you like to proceed, how can we help get this out the door?\n. Couple of commits went in there. Gonna use this branch locally for the next 24h and will report back if there are any issues.\n. MultiJson.parse is not defined(Error:       undefined method 'parse' for MultiJson:Module (NoMethodError)), changed to .load. This has been working for me for a while now.\n. I would also say that heroku fork should use heroku pg:fork, not pgbackups dump/restore, by default. It'd be a much more reliable procedure for sure.\n. > The CLI did this ~ 2 years ago until some refactoring and it was lost, unintentionally I imagine. Our docs still show it\nThat sounds like a regression. A spec here to ensure it doesn't get removed again shouldn't be too bad.\nI'd also use #display instead of puts, which flushes $stdout for you\n. neat! Now it'll be harder for this to get \"lost\" in a refactor.\n. thanks!\n. nice nice\n. +1\n. ping @pedro, hi!\n. Heh. Well maybe just do as you did before :)\n. Please install or update the pg-extras plugin, which now includes a server side pg:killall command implementation which was built to solve this use case.\n. @rypan np!\n. it overrides people's prompts, for those who set it, which is maybe a minority, but maybe not?\n. @deafbybeheading nice. SHIP IT\n. omg\n. $ heroku update\nUpdating from 3.9.1... done, nothing to update\n. Thanks @brandur!\nOn Wed, Sep 10, 2014 at 11:34 AM, Maciek Sakrejda notifications@github.com\nwrote:\n\nYou're doing the FSM's work, @brandur https://github.com/brandur.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/pull/1204#issuecomment-55161406.\n. +1\n. Oh yes, +1!\n. woot, thanks @dickeyxxx \n. woot woot. Thanks @uhoh-itsmaciek! \n\nYeah, much simpler and also you know, correct. So +1!\n. Yeah good call, added on 8564884\n. What do you mean undefined? http://www.ruby-doc.org/stdlib-1.9.3/libdoc/uri/rdoc/URI/Generic.html#method-i-hostname\n. feelings on the alternative\nruby\n@app ||= resolver.app_name\nIt took me a second look to see the if at the end of the line - in general think those are easy to miss when skimming.\n. :( but ok.\n. yeah, for sure this should require 'multi_json'\n. this should rescue Multijson::LoadError\n. to contain the potential damage here, how about\nruby\nif name.start_with?(\"HEROKU_POSTGRESQL\")\n  name.chomp!(\"_URL\")\nend\n. If there is only one schedule, should we accept no db here?\nFor this message, I'd add a hint: \nMust specify a database. Run `heroku help pg:backups` for usage information.\n. ",
    "steakknife": "Probably want to run specs after running bundle.\n. Argh, understandable.\nLet us know if it works, breaks or otherwise.\nPS --- \n/me rhel skills are might rusty in arch land . . .\nNoticing, that a recent version of term-ansicolor maybe packaged:\nhttp://pkgs.fedoraproject.org/repo/pkgs/rubygem-term-ansicolor/term-ansicolor-1.0.7.gem/\nhttp://arm.koji.fedoraproject.org/koji/buildinfo?buildID=52346\nhttp://arm.koji.fedoraproject.org/koji/rpminfo?rpmID=179259\nAlso, is an unlisted rpm dependency the way to make it optional?  (i.e., use functionality if available, otherwise don't pull in the rpm)\n</20 million questions>\n. There's a couple issues going on.  The prettifies output needs to be faked to always think there's a tty.  Haven't looked too hard into the others yet.\n. Here's the issues I'm seeing (rake spec | cat)\n``\n  1) Heroku::Command::Pgbackups single backup gets the url for the named backup if a name is specified\n     Failure/Error: @pgbackups.should_receive(:display).with('\"'+named_url+'\"')\n       #<Heroku::Command::Pgbackups:0x007fe6eaac5ac0> received :display with unexpected arguments\n         expected: (\"\\\"http://latest/backup.dump\\\"\")\n              got: (\"http://latest/backup.dump\")\n     # ./spec/heroku/command/pgbackups_spec.rb:43:inblock (3 levels) in '\n2) Heroku::Command::Pgbackups single backup gets the url for the latest backup if nothing is specified\n     Failure/Error: @pgbackups.should_receive(:display).with('\"'+latest_backup_url+'\"')\n       # received :display with unexpected arguments\n         expected: (\"\\\"http://latest/backup.dump\\\"\")\n              got: (\"http://latest/backup.dump\")\n     # ./spec/heroku/command/pgbackups_spec.rb:29:in `block (3 levels) in '\n3) Heroku::Command::Logs logs with log output prettifies output\n     Failure/Error: output.should == \"\\e[36m2011-01-01T00:00:00+00:00 app[web.1]:\\e[0m test\"\n       expected: \"\\e[36m2011-01-01T00:00:00+00:00 app[web.1]:\\e[0m test\"\n            got: \"2011-01-01T00:00:00+00:00 app[web.1]: test\" (using ==)\n     # ./spec/heroku/command/logs_spec.rb:28:in `block (4 levels) in '\n```\n. Oh hey, what was the command line used?\nThat error is also showing up in specs (see below), but I haven't seen that on heroku destroy: for some reason.\nUpdate: output is the same from 2.21.2 release gem, gemspec built via github and --pre (heroku-2.21.0.pre1) \nBelow the spec output are two cases of create/destroy apps without git dirs.\nrake spec without a git dir\n```\n~/github/steakknife/heroku  \u1405 rake spec\nfatal: Not a git repository (or any parent up to mount parent /Volumes)\nStopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\nfatal: Not a git repository (or any parent up to mount parent /Volumes)\nStopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\nfatal: Not a git repository (or any parent up to mount parent /Volumes)\nStopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\nfatal: Not a git repository (or any parent up to mount parent /Volumes)\nStopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\n/Volumes/Users/barry/.rvm/rubies/ruby-1.9.3-p125/bin/ruby -S rspec ./spec/heroku/auth_spec.rb ./spec/heroku/client_spec.rb ./spec/heroku/command/addons_spec.rb ./spec/heroku/command/apps_spec.rb ./spec/heroku/command/auth_spec.rb ./spec/heroku/command/base_spec.rb ./spec/heroku/command/config_spec.rb ./spec/heroku/command/db_spec.rb ./spec/heroku/command/domains_spec.rb ./spec/heroku/command/drains_spec.rb ./spec/heroku/command/help_spec.rb ./spec/heroku/command/keys_spec.rb ./spec/heroku/command/logs_spec.rb ./spec/heroku/command/maintenance_spec.rb ./spec/heroku/command/pg_spec.rb ./spec/heroku/command/pgbackups_spec.rb ./spec/heroku/command/plugins_spec.rb ./spec/heroku/command/ps_spec.rb ./spec/heroku/command/releases_spec.rb ./spec/heroku/command/run_spec.rb ./spec/heroku/command/sharing_spec.rb ./spec/heroku/command/ssl_spec.rb ./spec/heroku/command/stack_spec.rb ./spec/heroku/command/version_spec.rb ./spec/heroku/command_spec.rb ./spec/heroku/helpers_spec.rb ./spec/heroku/heroku-postgresql_client_spec.rb ./spec/heroku/heroku-shared-postgresql_client_spec.rb ./spec/heroku/pg_resolver_spec.rb ./spec/heroku/pgbackupsclient_spec.rb ./spec/heroku/plugin_spec.rb\nfatal: Not a git repository (or any parent up to mount parent /Volumes)\nStopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\nfatal: Not a git repository (or any parent up to mount parent /Volumes)\nStopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).\n.................................F.........................................................................................................................................................................................................................................................................................................\nFailures:\n1) Heroku::Client read_logs new style can read new style logs\n     Failure/Error: @client.read_logs(\"myapp\") do |logs|\n     WebMock::NetConnectNotAllowedError:\n       Real HTTP connections are disabled. Unregistered request: GET http://api.heroku.com:443/logplex_url with headers {'Accept'=>'/', 'User-Agent'=>'Ruby'}\n   You can stub this request with the following snippet:\n\n   stub_request(:get, \"http://api.heroku.com:443/logplex_url\").\n     with(:headers => {'Accept'=>'*/*', 'User-Agent'=>'Ruby'}).\n     to_return(:status => 200, :body => \"\", :headers => {})\n\n   registered request stubs:\n\n   stub_request(:get, \"https://api.heroku.com/logplex_url\")\n   stub_request(:get, \"https://api.heroku.com/apps/myapp/logs?logplex=true\")\n\n   ============================================================\n # ./lib/heroku/client.rb:414:in `block in read_logs'\n # ./lib/heroku/client.rb:413:in `read_logs'\n # ./spec/heroku/client_spec.rb:140:in `block (4 levels) in <top (required)>'\n\nFinished in 4.74 seconds\n331 examples, 1 failure\nFailed examples:\nrspec ./spec/heroku/client_spec.rb:139 # Heroku::Client read_logs new style can read new style logs\nRandomized with seed 30734\nCoverage report generated for RSpec to /Volumes/Users/barry/github/steakknife/heroku/coverage. 2267 / 3113 LOC (72.82%) covered.\nrake aborted!\n/Volumes/Users/barry/.rvm/rubies/ruby-1.9.3-p125/bin/ruby -S rspec ./spec/heroku/auth_spec.rb ./spec/heroku/client_spec.rb ./spec/heroku/command/addons_spec.rb ./spec/heroku/command/apps_spec.rb ./spec/heroku/command/auth_spec.rb ./spec/heroku/command/base_spec.rb ./spec/heroku/command/config_spec.rb ./spec/heroku/command/db_spec.rb ./spec/heroku/command/domains_spec.rb ./spec/heroku/command/drains_spec.rb ./spec/heroku/command/help_spec.rb ./spec/heroku/command/keys_spec.rb ./spec/heroku/command/logs_spec.rb ./spec/heroku/command/maintenance_spec.rb ./spec/heroku/command/pg_spec.rb ./spec/heroku/command/pgbackups_spec.rb ./spec/heroku/command/plugins_spec.rb ./spec/heroku/command/ps_spec.rb ./spec/heroku/command/releases_spec.rb ./spec/heroku/command/run_spec.rb ./spec/heroku/command/sharing_spec.rb ./spec/heroku/command/ssl_spec.rb ./spec/heroku/command/stack_spec.rb ./spec/heroku/command/version_spec.rb ./spec/heroku/command_spec.rb ./spec/heroku/helpers_spec.rb ./spec/heroku/heroku-postgresql_client_spec.rb ./spec/heroku/heroku-shared-postgresql_client_spec.rb ./spec/heroku/pg_resolver_spec.rb ./spec/heroku/pgbackupsclient_spec.rb ./spec/heroku/plugin_spec.rb failed\nTasks: TOP => spec\n(See full trace by running task with --trace)\n~/github/steakknife/heroku  \u1405 \n```\nCreate and destroy app, no git dir\n``\n~/heroku/dasfadsf88888  \u1405 heroku apps:create dasfadsf88888 \nCreating dasfadsf88888... done, stack is bamboo-mri-1.9.2\nhttp://dasfadsf88888.heroku.com/ | git@heroku.com:dasfadsf88888.git\n~/heroku/dasfadsf88888  \u1405 ls -la\ntotal 0\ndrwxr-xr-x  2 barry  admin   68 Mar  9 04:09 .\ndrwxr-xr-x  4 barry  admin  136 Mar  9 04:09 ..\n~/heroku/dasfadsf88888  \u1405 cd ..               \n~/heroku  \u1405 ls -la\ntotal 0\ndrwxr-xr-x    4 barry  admin   136 Mar  9 04:09 .\ndrwxr-xr-x  127 barry  admin  4318 Mar  9 04:12 ..\ndrwxr-xr-x    2 barry  admin    68 Mar  9 04:09 dasfadsf88888\ndrwxr-xr-x    2 barry  admin    68 Mar  9 02:22 test\n~/heroku  \u1405  heroku apps:destroy --confirm dasfadsf88888\n/Volumes/Users/barry/.rvm/gems/ruby-1.9.3-p125@utils/gems/heroku-2.20.0/lib/heroku/command/apps.rb:191:indestroy': uninitialized constant Heroku::Command::Apps::CommandFailed (NameError)\n    from /Volumes/Users/barry/.rvm/gems/ruby-1.9.3-p125@utils/gems/heroku-2.20.0/lib/heroku/command.rb:129:in run'\n    from /Volumes/Users/barry/.rvm/gems/ruby-1.9.3-p125@utils/gems/heroku-2.20.0/lib/heroku/cli.rb:9:instart'\n    from /Volumes/Users/barry/.rvm/gems/ruby-1.9.3-p125@utils/gems/heroku-2.20.0/bin/heroku:15:in <top (required)>'\n    from /Volumes/Users/barry/.rvm/gems/ruby-1.9.3-p125@utils/bin/heroku:19:inload'\n    from /Volumes/Users/barry/.rvm/gems/ruby-1.9.3-p125@utils/bin/heroku:19:in `'\n~/heroku  \u1405  heroku apps:destroy  dasfadsf88888 \n!    WARNING: Potentially Destructive Action\n !     This command will affect the app: dasfadsf88888\n !    To proceed, type \"dasfadsf88888\" or re-run this command with --confirm dasfadsf88888\n\ndasfadsf88888\nDestroying dasfadsf88888 (including all add-ons)... done\n~/heroku  \u1405 \n```\n\nCreate repo, create app, remove repo, destroy app\n```\n~/heroku  \u1405 mkdir blah7777\n~/heroku  \u1405 cd blah7777 \n~/heroku/blah7777  \u1405 git init\nInitialized empty Git repository in /Volumes/Users/barry/heroku/blah7777/.git/\n~/heroku/blah7777 (master \u2714) \u1405 heroku apps:create blah7777   \nCreating blah7777... done, stack is bamboo-mri-1.9.2\nhttp://blah7777.heroku.com/ | git@heroku.com:blah7777.git\nGit remote heroku added\n~/heroku/blah7777 (master \u2714) \u1405 rm -rf .git\n~/heroku/blah7777  \u1405 heroku apps:destroy blah7777\n!    WARNING: Potentially Destructive Action\n !     This command will affect the app: blah7777\n !    To proceed, type \"blah7777\" or re-run this command with --confirm blah7777\n\nblah7777\nDestroying blah7777 (including all add-ons)... done\n~/heroku/blah7777  \u1405 \n```\n. Looks like some of the specs depend on most output going to stdout.  A couple of refactorings led to much breakage.\n\nWas thinking about refactor error as two variants: \n- error_but_continue (which writes to stderr)\n- error (outputs via error_but_continue and exits)\nAlso, it seems specs could benefit from a stderr redirect.  Something like the following, unless rspec evolved since then:\nhttp://geminstaller.rubyforge.org/code/coverage/spec-unit-output_filter_spec_rb.html\n. Btw, I am able to get heroku/helpers to load in 24 ms by deferring okjson to lazy-load.\n. Also, i fixed this horrid hacky debugger script.  https://gist.github.com/2024034\n. @geemus https://gist.github.com/2023444 <-- bad evil, naughty, zoot\n. @geemus I also wrote yet another minimal multi-Ruby benchmarking apparatus.\nhttps://github.com/steakknife/timing_thing\n. Although tap is available in 1.8.7, I think you're going to lose a lot of support by bikeshedding.\nGood luck and godspeed.\n. Yeap, That's a good idea.\n. Having the semantic stuff makes it much easier to filter. :)\n. That's a big 'my bad'  Fixoring...\n. Yeah, that's cleaner.  Just in case some plugin takes forever or similar.\n. There looks to be some duplicate code around for traps that need to hook additional at-exit functionality (reset terminal color, set echo).\nPerhaps an initial trap to avoid messy output and then another one as needed.   This would reduce the probability of \"it threw an exception, the service must be down and i hate you forever\" support tickets. \n. ",
    "voxik": "Actually I'm packaging the gem for Fedora and I cannot user Bundler, since:\n1) The gem has to work with gems available in Fedora.\n2) The build system is offline.\nYes, I added the dependency on term-ansicolor into the build script, so the test suite now passes. But with the messages you added it will be more obvious what is going on. Thank you for the fixes.\n. @geemus thank you.\nJust to clarify, I am not using Bundler to execute the test suite, since usage of Bundler is not feasible for Fedora packaging. The Bundler in Fedora is at least one dependency more with no benefit.\n. And the same applies here:\n1) Heroku::Plugin management deprecated plugins should show confirmation to remove deprecated plugins\n     Failure/Error: Plugin.should_receive(:confirm).with(\"The plugin heroku-releases has been deprecated. Would you like to remove it? (y/N)\").and_return(true)\n       (<Heroku::Plugin (class)>).confirm(\"The plugin heroku-releases has been deprecated. Would you like to remove it? (y/N)\")\n           expected: 1 time\n           received: 0 times\n     # /builddir/build/BUILD/rubygem-heroku-2.21.2/usr/share/gems/gems/heroku-2.21.2/spec/heroku/plugin_spec.rb:101:in `block (4 levels) in <module:Heroku>'\n     # /usr/share/gems/gems/rspec-mocks-2.8.0/lib/rspec/mocks/error_generator.rb:80:in `__raise'\n     # /usr/share/gems/gems/rspec-mocks-2.8.0/lib/rspec/mocks/error_generator.rb:39:in `raise_expectation_error'\n     # /usr/share/gems/gems/rspec-mocks-2.8.0/lib/rspec/mocks/message_expectation.rb:261:in `generate_error'\n     # /usr/share/gems/gems/rspec-mocks-2.8.0/lib/rspec/mocks/message_expectation.rb:217:in `verify_messages_received'\n     # /usr/share/gems/gems/rspec-mocks-2.8.0/lib/rspec/mocks/method_double.rb:117:in `block in verify'\n     # /usr/share/gems/gems/rspec-mocks-2.8.0/lib/rspec/mocks/method_double.rb:117:in `each'\n     # /usr/share/gems/gems/rspec-mocks-2.8.0/lib/rspec/mocks/method_double.rb:117:in `verify'\n     # /usr/share/gems/gems/rspec-mocks-2.8.0/lib/rspec/mocks/proxy.rb:88:in `block in verify'\n     # /usr/share/gems/gems/rspec-mocks-2.8.0/lib/rspec/mocks/proxy.rb:88:in `each'\n     # /usr/share/gems/gems/rspec-mocks-2.8.0/lib/rspec/mocks/proxy.rb:88:in `verify'\n     # /usr/share/gems/gems/rspec-mocks-2.8.0/lib/rspec/mocks/methods.rb:115:in `rspec_verify'\n     # /usr/share/gems/gems/rspec-mocks-2.8.0/lib/rspec/mocks/any_instance.rb:33:in `rspec_verify'\n     # /usr/share/gems/gems/rspec-mocks-2.8.0/lib/rspec/mocks/space.rb:11:in `block in verify_all'\n     # /usr/share/gems/gems/rspec-mocks-2.8.0/lib/rspec/mocks/space.rb:10:in `each'\n     # /usr/share/gems/gems/rspec-mocks-2.8.0/lib/rspec/mocks/space.rb:10:in `verify_all'\n     # /usr/share/gems/gems/rspec-mocks-2.8.0/lib/rspec/mocks.rb:19:in `verify'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/mocking/with_rspec.rb:14:in `verify_mocks_for_rspec'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example.rb:222:in `run_after_each'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example.rb:86:in `block in run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example.rb:173:in `with_around_hooks'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example.rb:77:in `run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:355:in `block in run_examples'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:351:in `map'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:351:in `run_examples'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:337:in `run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:338:in `block in run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:338:in `map'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:338:in `run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:338:in `block in run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:338:in `map'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:338:in `run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/command_line.rb:28:in `block (2 levels) in run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/command_line.rb:28:in `map'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/command_line.rb:28:in `block in run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/reporter.rb:34:in `report'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/command_line.rb:25:in `run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/runner.rb:80:in `run_in_process'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/runner.rb:69:in `run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/runner.rb:10:in `block in autorun'\n. @geemus - Hi, thank you for looking into the issue. My configuration:\nFedora Rawhide\n```\nruby -v\nruby 1.9.3p125 (2012-02-16 revision 34643) [x86_64-linux]\ngem list\n LOCAL GEMS \naddressable (2.2.6)\nbigdecimal (1.1.0)\nconfiguration (1.3.1)\ncrack (0.3.1)\ndiff-lcs (1.1.2)\nfakefs (0.4.0)\nidn (0.0.2)\nio-console (0.3)\njson (1.6.5)\nlaunchy (0.4.0)\nmime-types (1.16)\nnetrc (0.7.1)\nrake (0.9.2.2)\nrdoc (3.12)\nrest-client (1.6.1)\nrr (1.0.4)\nrspec (2.8.0)\nrspec-core (2.8.0)\nrspec-expectations (2.8.0)\nrspec-mocks (2.8.0)\nterm-ansicolor (1.0.7)\nwebmock (1.7.10)\n```\nPlease note that I am not using Bundler during the test suite execution nor the SimpleCov, which I remove using:\n```\nBundler just complicates everything in our case, remove it.\nsed -i '3,4d' spec/spec_helper.rb\nIgnore SimpleCov which is not in Fedora nor needed.\nsed -i '4,7d' spec/spec_helper.rb\n```\nand this is the .spec file used by Fedora, where you can see how is the test suite executed in %check section:\nhttp://pkgs.fedoraproject.org/gitweb/?p=rubygem-heroku.git;a=blob;f=rubygem-heroku.spec;hb=HEAD\n. Oh, thank you man. I am impressed! You really made my day better :) I appreciate that!\n. Thank you for your offer. I made separate issue for this #284\n. Thank you. This issue was indeed fixed by 2.24\n. Please see #279 for the environment, etc.\n. Unfortunately it still fails with 2.24 :(\n1) Heroku::Command::Base detecting the app read remotes from git config\n     Failure/Error: @base.send(:git_remotes, '/home/dev/myapp').should == { 'staging' => 'myapp-staging', 'production' => 'myapp' }\n       expected: {\"staging\"=>\"myapp-staging\", \"production\"=>\"myapp\"}\n            got: nil (using ==)\n     # /usr/share/gems/gems/rspec-expectations-2.8.0/lib/rspec/expectations/fail_with.rb:32:in `fail_with'\n     # /usr/share/gems/gems/rspec-expectations-2.8.0/lib/rspec/matchers/operator_matcher.rb:47:in `fail_with_message'\n     # /usr/share/gems/gems/rspec-expectations-2.8.0/lib/rspec/matchers/operator_matcher.rb:69:in `__delegate_operator'\n     # /usr/share/gems/gems/rspec-expectations-2.8.0/lib/rspec/matchers/operator_matcher.rb:59:in `eval_match'\n     # /usr/share/gems/gems/rspec-expectations-2.8.0/lib/rspec/matchers/operator_matcher.rb:28:in `block in use_custom_matcher_or_delegate'\n     # /builddir/build/BUILD/rubygem-heroku-2.24.0/usr/share/gems/gems/heroku-2.24.0/spec/heroku/command/base_spec.rb:60:in `block (3 levels) in <module:Command>'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example.rb:80:in `instance_eval'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example.rb:80:in `block in run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example.rb:173:in `with_around_hooks'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example.rb:77:in `run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:355:in `block in run_examples'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:351:in `map'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:351:in `run_examples'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:337:in `run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:338:in `block in run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:338:in `map'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:338:in `run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/command_line.rb:28:in `block (2 levels) in run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/command_line.rb:28:in `map'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/command_line.rb:28:in `block in run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/reporter.rb:34:in `report'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/command_line.rb:25:in `run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/runner.rb:80:in `run_in_process'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/runner.rb:69:in `run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/runner.rb:10:in `block in autorun'\n. Thank you for your support. I am building the gem with Fedora build system, so I cannot easily update. However, I might try next week to use exactly the same dependencies as you are using to find if that helps to nail down the issue.\nI am using BTRFS but I guess that the build system is using standard EXT4, so it should not be an issue. There is no accessible network connection on the build system. And since this is about git, there is no global configuration for git if that might be of importance.\n. I found the reason of this issue. If you run the test suite outside of the repository, IOW if you delete the .git directory, the error pops up. Since I install the gem and then run the test suite, I have never got the .git directory in place.\n. Unfortunately, it still fails with 2.24 :(\n1) Heroku::Plugin management installs pulling from the plugin url\n     Failure/Error: File.directory?(\"#{@sandbox}/heroku_plugin\").should be_true\n       expected false to be true\n     # /usr/share/gems/gems/rspec-expectations-2.8.0/lib/rspec/expectations/fail_with.rb:32:in `fail_with'\n     # /usr/share/gems/gems/rspec-expectations-2.8.0/lib/rspec/expectations/handler.rb:21:in `handle_matcher'\n     # /usr/share/gems/gems/rspec-expectations-2.8.0/lib/rspec/expectations/extensions/kernel.rb:12:in `should'\n     # /builddir/build/BUILD/rubygem-heroku-2.24.0/usr/share/gems/gems/heroku-2.24.0/spec/heroku/plugin_spec.rb:41:in `block (3 levels) in <module:Heroku>'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example.rb:80:in `instance_eval'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example.rb:80:in `block in run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example.rb:173:in `with_around_hooks'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example.rb:77:in `run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:355:in `block in run_examples'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:351:in `map'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:351:in `run_examples'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:337:in `run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:338:in `block in run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:338:in `map'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/example_group.rb:338:in `run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/command_line.rb:28:in `block (2 levels) in run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/command_line.rb:28:in `map'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/command_line.rb:28:in `block in run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/reporter.rb:34:in `report'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/command_line.rb:25:in `run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/runner.rb:80:in `run_in_process'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/runner.rb:69:in `run'\n     # /usr/share/gems/gems/rspec-core-2.8.0/lib/rspec/core/runner.rb:10:in `block in autorun'\n. Hi,\nI am trying to update to 2.28.7 and it seems that I do not observe this error anymore. Thank you for your outstanding support :)\n. No hurry, I need to solve another blockers first anyway :) Thank you\n. This is not issue with 2.33.0 anymore, except \nrspec ./spec/heroku/client/rendezvous_spec.rb:20 # Heroku::Client rendezvous fixup hash\nbut this one is covered by #626, so I'm closing this ticket.\n. This is Ruby version I am using\n$ rpm -q ruby\nruby-1.9.3.327-23.fc19.x86_64\nAnd the gems I am running the test suite against\n```\n$ gem list\n LOCAL GEMS \naddressable (2.3.2)\nbigdecimal (1.1.0)\nconfiguration (1.3.1)\ncrack (0.3.1)\ndiff-lcs (1.1.3)\nexcon (0.16.7)\nfakefs (0.4.0)\nheroku-api (0.3.6)\nidn (0.0.2)\nio-console (0.3)\njson (1.7.5)\nlaunchy (0.4.0)\nmime-types (1.19)\nnetrc (0.7.7)\nrake (0.9.2.2)\nrdoc (3.12)\nrest-client (1.6.7)\nrr (1.0.4)\nrspec (2.11.0)\nrspec-core (2.11.1)\nrspec-expectations (2.11.3)\nrspec-mocks (2.11.3)\nwebmock (1.8.7)\n```\n. This is still issue for 3.30.3.\n. Still breaks for 3.41.3 :/\n. But the test suite could do the \"git init\" explicitly to fix the test suite. If it is stored in git or something else is external information and should not influence the test results IMO.\n. Yes, I don't ming installing git, but executing the test suite from the gem folder is exactly my usecase. I am packaging heroku gem for Fedora and its good idea to execute the test suite during the package build process.\nThanks for considering.\n. This seems to be resolved testing with 3.30.3.\n. The tests are failing due to Gemfile.lock. I didn't want to fiddle with that, since I don't think Gemfile.lock belongs into SCM.\n. Another possibility is to go with zip-zip, but I don't think this is good idea ;)\n. Ok then. I forced the commit and updated the Gemfile.lock to rubyzip 1.1.7. I hope that is OK. The remaining failing test is the Ruby 1.8.7 as you already pointed out.\n. Np. Thank you!\n. ",
    "veganstraightedge": "+1\nhttp://twitter.com/veganstraightedge/status/182212610199007232\n. Oh! It does. Don't know how I missed that. Sorry / thanks!\n. ",
    "goshakkk": ":+1:\n. ",
    "dbrock": "+1! :D\nSee also pull request #278 for some more discussion\n. That sounds fine too.\nMy use case:\n1. \"I need to change something about the app on http://example.com.\"\n2. [...types git clone git@heroku.com:...]\n3. \"Hmm, I wonder what I named that app...\"\n4. \"Ah, I\u2019ll use heroku to find out.\"\n5. ???\n6. Success!\nSo I guess what I really want is for heroku --app= to be able to accept domain names as well as app names, so that I could just do something like this:\ndomain=example.com\nname=$(heroku info -r --app $domain | grep ^name= | cut -d= -f2-)\ngit clone git@heroku.com:$name.git\nOr even\u2014and omg this would be so awesome\u2014simply this:\nheroku clone example.com\nRight???????? :DDD\n. Cool, thanks! :D I\u2019ll just leave this open then, until you (hopefully) come up with something.\nI just noticed that @ddollar made something called heroku clone already (http://github.com/ddollar/heroku-clone). Hmm... Maybe that could become an option to heroku create, instead... heroku create new-app --clone old-app? (I don\u2019t know, just thinking out loud...)\nI do think heroku clone my-app as a way to invoke git clone git@heroku.com:my-app.git makes a lot of sense, though; compare, for example, github clone my-app, which does that exact thing. Also there\u2019s a kind of symmetry with heroku create my-app.\nOoooh\u2014 we could also make heroku create example.com a shortcut for heroku create example-com; heroku domains:add example.com!! :DDDD\nAgain, just thinking out loud. :-)\n. Cool, I\u2019ll keep an eye out for that. Thanks!\n. ",
    "turlockmike": "+9000\n. ",
    "kenneth-reitz": "+100\n. We could detect if stdin is a tty and suppress the \"attaching process to app\" message when piping things around as well\n. +1\n\nKenneth Reitz\nOn Mar 19, 2012, at 10:51 AM, David Dollarreply@reply.github.com wrote:\n\nCurrently the gem version tells you that you can't use heroku update.\nLet's add another sentence recommending the toolbelt.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/266\n. +1, would have saved me hours a few months ago. :)\n. :+1:\n. Awesome, I've run into this several times too.\n. :sparkles: :cake: :sparkles:\n. Ideally, display heroku help auth\n. I'm pretty sure it meant that hitting enter displays two lines, but I'm not positive ;)\n. I could also be completely wrong :)\n. Drives me crazy.\n. \n",
    "ejfinneran": "+1\n. :+1: I get the same error when trying to use rtomayko/replicate with a heroku app since it uses Marshal to shuffle data around.\n. Found a workaround to this:\nIn your server side command, pipe the output to base64. Then decode it with base64 on your machine. Example with the replicate gem:\n```\nheroku run 'replicate -r ./config/environment -d \"Post.all\" | base64'  > base64_file\nClean up the base64_file since heroku flattens STDERR to STDOUT so you'll have some junk lines at the top\nbase64 -i base64file -D > binary_file\nreplicate -r ./config/environment -l < binary_file\n```\n. Do you know if this will also fix #674?\n. ",
    "felixyz": "@ddollar \nI suppose I've run into the same problem. I wanted to pipe a list from a file over to my app on Heroku to populate the db. I do NOT want to check the list into git.\ncat my_list | heroku run rake blabla:seed\nThis just outputs my list but the data never reaches my rake task (which is checking STDIN).\nIn my rake task, I specifically check that STDIN is not tty (I only want to check for piped input). Not sure how that relates to what @kennethreitz is saying above.\nAny and all suggestions would be appreciated.\n. +1\n. ",
    "benrobster": "+1  (see http://stackoverflow.com/questions/15041853/running-loaddata-on-heroku-without-adding-the-data-file-to-repository )\n. Sure enough... only one of our apps is affected. We'll try and track the problem package down. Any links to the related problem may be helpful in identifying the problem package... odd that it would have that effect\n. ",
    "kgilpin": "+1 wish stdin could pipe to heroku run\n. ",
    "nutrislice-admin": "For some types of operations, e.g., loading data or fixtures into a site, the alternatives to stdin are pretty lame: I either have to upload the data to a public file server and write my import utility to access that (thank goodness for python requests library ;) ) , or I have to commit the file to my repository temporarily, push, remove, commit.  For some types of regular operations I'd like to do, neither of these is a very viable option. \n. This thing had me without access to my (production) heroku apps for a long while.  I didn't realize that HEROKU_API_KEY was an actual, official, (albeit hidden) thing. I just had used that particular environment variable at one time for a python app that utilizes the heroku api.  So when the API Key got changed, and I had an ENV var sitting around, everything was screwed up and broken, with no clues what was wrong.  \ne.g.,\n```\n\n: heroku version\nheroku-toolbelt/3.9.1 (x86_64-darwin10.8.0) ruby/1.9.3\n: heroku plugins\nYou have no installed plugins.\n: ls -al .netrc\nls: .netrc: No such file or directory\n: heroku logout\nLocal credentials cleared.\n: heroku login\nAuthentication successful.\n: heroku apps\nAuthentication failure\n: heroku keys\nAuthentication failure\n```\n\nThe above was totally mind boggling\n. Yes I think at login time would be most useful, although any \"authentication failure\" where its a problem with the HEROKU_API_KEY may be useful as well. As soon as I got an \"Authentication failure\" my first action was to re-authenticate with a logout/login. But not getting the opportunity to re-enter my login information (email/password) and being told \"Authentication successful\" without  it actually being successful or even knowing what it was using to authenticate (I assumed it was a file or value saved somewhere) was very frustrating.\n. ",
    "amacneil": ":+1: \n. ",
    "mikehale": "bump :+1: \n. ref #121\n. For posterity @freeformz explained why this works the way it does:\n\nwhen you pipe isatty is false, and then by extension stdout is not set to sync\n. Has this fix been deployed? I just got a report from a user trying to scale an app for which they were not the owner which resulted in an \"Internal Server Error\".\n. /cc @uhoh-itsmaciek \n. I just learned that --expire is currently implicit in all heroku pg:backups capture invocations. This means that by deafult old backups will silently be removed as you hit your plan maximum instead of failing to capture a new backup. Or to put it another way new backups will always be captured and old ones will be deleted as needed when the plan limit is reached.\n. :+1: for switching to the v3 endpoint\n. I think this is doing the wrong thing. We should not run whoami we should lookup the logged in user based on what is in ~/.netrc.\n. That's what it used to do no?\n. If I wanted to see my local machine user I'd just do echo $USER or whoami. If I want to see who I am on heroku I run heroku auth:whoami.\n\n... just tried this locally and I'm definitely getting back my heroku user. I guess I was thinking that these were equivalent, but it seems to be doing something else which I don't understand:\nHeroku::JSPlugin.run('whoami', nil, ARGV[1..-1])\nand \nwhoami\n. Ah, that makes sense.\n. :clap: \n. @dickeyxxx so actually I didn't realize that this feature is now handled by the node code in heroku-apps. @ransombriggs pointed me to plugins:commands, as I was confused by a simple grep of ~/.heroku.\nAlso this is not an urgent thing, but something that would be nice to support in the future.\n. ",
    "roberts81": ":+1: :+1:\n. ",
    "qrush": "HUGE :+1: /cc @mike-burns\n. ",
    "atmos": ":sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: \n\n:sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: :sparkles: \n. @bluta I don't understand the security vulnerabilities well enough to comment. 1.6 -> 1.8 is an API breaking change in a lot of places and I don't have enough things running constantly to speak authoritatively.\n. ",
    "mike-burns": "I still type --help every single time. For years now. Thank you, thank you, thank you.\n. ",
    "gregorym": "Working with ps_scale!\nThanks\n. ",
    "jonmountjoy": "This will certainly help as we have a few dozen instances of the old version in Dev Center (which we'll migrate to ps:scale nevertheless).\n. Yep!\nsdfasdfsdfdssfdsfs \u27a4 mkdir foobar\nasdfasdfsdfdssfdsfs \u27a4 cd foobar\nfoobar \u27a4 ls -a\n.  ..\nfoobar \u27a4 ls -a ..\n.      ..     foobar\nfoobar \u27a4 heroku git:clone\nfatal: Not a git repository (or any of the parent directories): .git\n !    Multiple apps in folder and no app specified.\n !    Specify which app to use with --app \nfoobar \u27a4 heroku version\nheroku-gem/2.30.1 (universal-darwin12.0) ruby/1.8.7\n. I still get it after updating:\n```\nasdfasdf \u27a4 heroku git:clone heroku.com:devcenter-metrics.git\nfatal: Not a git repository (or any of the parent directories): .git\n !    Multiple apps in folder and no app specified.\n !    Specify which app to use with --app \nasdfasdf \u27a4 heroku version\nheroku-toolbelt/2.30.2 (universal-darwin12.0) ruby/1.8.7\n``\n. Ah yes I see - i was intentionally trying it in an empty directory, as I specified above.\n. Yeah @geemus - I installed that new toolbelt to get around that multiple app error message.   Runninggit remote -v` in empty:\nasdfsdf \u27a4 git remote -v                                                                                                                                                     \nfatal: Not a git repository (or any of the parent directories): .git\n. Yeppers!\noasdfsdf \u27a4 heroku git:clone                                                                                                                                                  \nfatal: Not a git repository (or any of the parent directories): .git\n !    Multiple apps in folder and no app specified.\n !    Specify which app to use with --app <app name>\noasdfsdf \u27a4 heroku version                                                                                                                                                    \nheroku-toolbelt/2.30.2 (universal-darwin12.0) ruby/1.8.7\noasdfsdf \u27a4 heroku update                                                                                                                                                     \nUpdating from 2.30.2... done, nothing to update\n. No worries.  I get false\n. Sure, let's do that.\n. Yeah, in the sense that running heroku git:clone in a new, empty directory yields a different result to Wes:\noll \u27a4 heroku git:clone                                                         \nfatal: Not a git repository (or any of the parent directories): .git\n !    Usage: heroku git:clone APP [DIRECTORY]\nVersion is \noll \u27a4 heroku version                                                           \nfatal: Not a git repository (or any of the parent directories): .git\nheroku-toolbelt/2.33.3 (universal-darwin12.0) ruby/1.8.7\nI did reinstall toolbelt at one point.  I suspect it's some local configuration issue.  I ignore it, and I'm happy for you to close this is if you want.\n. Hm interesting tack.\n= Installed Plugins\nheroku-accounts\nheroku-docs\nheroku-man\nheroku-pg-extras\nheroku-production-check\nheroku-values\nmanager-cli\nOn Wed, Dec 12, 2012 at 9:06 AM, Jonathan Dance notifications@github.comwrote:\n\nWhat plugins are you using?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/492#issuecomment-11281493.\n. Excellent!\n\nDid that, problem went away.  Did it for each plugin individually, and find that the culprit is heroku-accounts.\nWhich I'm just about to delete - because it doesn't play nice with other heroku commands.\nWill add a ticket for heroku-accounts anyway.\n. Here's a fix too I believe.  Let's see what @ddollar has to say:\nhttps://github.com/ddollar/heroku-accounts/pull/51\n. That's unfortunate (that they don't play well together).  Should we perhaps\nnot go ahead an recommend heroku-accounts on Dev Center as a result?\n Because we do recommend git:clone\u2026.\nAs for having the gem:\nfoobar \u27a4 gem list |grep heroku\nheroku-nav (0.1.20)\nomniauth-heroku (0.0.4)\nIs there something else hidden away?\n. Okay, I'll try download.  Just tried, but I can't install (on Mountain\nLion) as \"it is from an unidentified developer\"\n. Thx!\n. +1 I saw folk confused by this.  It's only addressed really late in the article instructions, and they were left with a \"now how do I get the code\" question.\n. In particular, if the app uses things like user-env-compile, stuff breaks in unexpected ways.\n. Thank you :-)\n. It used to work :-)  I don't think it's wise to continue work on this because of v3 and other upcoming changes to the CLI.  This was never accepted, even when it did work.\n. I feel we're moving from \"labs\" to \"features\" because, as someone pointed out on the email thread, we need a path for when the thing becomes an actual thing.  On the other hand, we also need a path for when something is \"labs\" - when it's NOT baked but an actual experimental thing (you know \"labs\").  The word \"labs\" conveys that splendidly well.\nCalling a not-fully-baked labs feature a \"feature\" now loses that. \nWe need to clearly differentiate between something that is liable to change (a labs feature) and something that is a knob (a feature).  \nThis may also soon have legal implications.   For example, I'm working on a Heroku Lifecycle Policy.  We'll have a clause that explicitly provides an opt-out for features that are alpha/beta (eg. not GA => not subject to our long term commitment).\nIt's still not clear to me what's going to change.  For example, what will change on this page and how are you going to denote \"labs\" going forward?  In particular, are we now going to list some features in \"labs\" and some \"elsewhere\" on Dev Center?\n. I'd say that's right @catsby .  I was doing this on a pgbackups:auto-month plan, but I couldn't execute the raw heroku pgbacks:capture without the exception of needing to delete a backup.\nAs for the transfer, I'd say you want to attempt it from this app.  Because I think the transfer then tries to basically run the pgbackups:capture and fails.  I don't think it matters what to is.\n. :+1: - thanks for spotting that this was missing @mbren \n. :beer: Thanks!\n. ",
    "nbibler": "Awesome.  I didn't even realize I was out of date on the gem... apparently by 1 patch-level release.  I'll upgrade and try it out.  Thanks!\n. Yeah.  ^C is working again, without disconnection, in 2.21.3. :)  Thanks!\n. ",
    "jkvor": "https://github.com/heroku/heroku/pull/270\n. $ bin/heroku sudo logs --app exceptions-log --source core\n2012-03-22T20:23:34+00:00 core[63310]: new_relic_hook_failed app=3085340 class=RestClient::UnprocessableEntity message='422 Unprocessable Entity' http_code=422 http_body='<?xml version=\"1.0\" '\n    StandardError: new_relic_hook_failed app=3085340 class=RestClient::UnprocessableEntity message='422 Unprocessable Entity' http_code=422 http_body='<?xml version=\"1.0\" '\n    /home/core/app/models/addons/newrelic/base.rb:71:in `deployhook'\n    /home/core/.bundle/gems/ruby/1.8/gems/delayed_job-2.0.6/lib/delayed/performable_method.rb:35:in `send'\n    /home/core/.bundle/gems/ruby/1.8/gems/delayed_job-2.0.6/lib/delayed/performable_method.rb:35:in `perform'\n    /home/core/.bundle/gems/ruby/1.8/gems/delayed_job-2.0.6/lib/delayed/backend/base.rb:74:in `invoke_job_without_log'\n    /home/core/config/initializers/delayed_job.rb:27:in `invoke_job_without_newrel ...\n. ",
    "swrobel": "It's bizarre. It doesn't always seem to happen, but here's a sequence that seems to be repeatable:\n1. Do something with an ActiveRecord object, like User.last.name & hit return\n2. Press up to pull up the same command\n3. Hit Control+A and watch the weirdness (at least it happens to me...)\n. Meaning it only seems to happen after I've used the console for a bit. Definitely happens in the case above. Seems to have to do with the periods in the input but I'm not sure. I just know this wasn't happening until I updated heroku.\n. I guess I have the opposite problem, which is that running install_ubuntu on debian didn't seem to end up in my path, so I get the following:\n% heroku\nzsh: command not found: heroku\n. ",
    "tpope": "There's not one clearly preferred server, and switching remotes sounds like a recipe for confusion.\nFor the record, I had to do something similar once, and it was simple (if crude) to just mutate the args a bit beforehand.\nargs.insert(1, args.shift) if args.first =~ /^--(app|remote)=/ && args.size > 1\nNot sure how you feel about that, but it's definitely a solvable problem. Of course, it's demonstrably solvable on my end too.\n. Happy to elaborate. I've seen quite a few setups as a consultant, but I'll stick to describing my latest client, which is pretty typical of those with a live production site.\nThere are three environments:\n1. production\n2. staging--the typical staging ground before things hit production\n3. acceptance--for day-to-day acceptance of stories by stakeholders\nFrom my end, acceptance is the most important (and if I had to pick a default, that would be it), but hardly a day goes by I don't need to do something on production (most commonly in the console). And on days leading up to a production deploy, staging is king. Here's how I might test migrations on production data:\nstaging pgbackups:restore SHARED_DATABASE $(production pgbackups:url)\nstaging run rake db:migrate\nWhen I first became involved in the project, it was using heroku-rails, which was a massive pain point, at one point even taking down the dedicated database. My replacement was a custom buildpack and these wrapper scripts (there's a bit more to them than --app, but not much), and we've been pretty happy since then.\n. That would work for me.\nAlso, +1 to everything @indirect said.\n. At the very least, could you add the symlink anyways, so that at least I don't have to leave that crap in there? My dotfiles are plenty crufty as is.\n. Another idea (which you've almost certainly given more thought to than I\nhave) is to make the gem call the toolkit if it's available, and things\nshould slowly sort themselves out.\nOn Mon, Oct 15, 2012 at 6:04 PM, David Dollar notifications@github.comwrote:\n\nI hear you :( Perhaps I can add the symlink back in and some whichchecking to determine if this is really necessary.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/603#issuecomment-9463594.\n. Oh, you could try moving the dot file molesting stuff out into https://toolbelt.heroku.com/install-ubuntu.sh so that at least it's in plain sight, and doesn't run on every upgrade.\n\n@swrobel try restarting your shell, and add /usr/local/heroku/bin to PATH if that doesn't work.\n. ",
    "indirect": "For what it's worth, I just started working on an app that has three heavily-used environments, and I have been experiencing the exact same pain @tpope describes. It would be awesome to have better argument parsing. :)\n. Maybe this is going too far, but I would also seriously love to be able to specify applications like the ey gem does. There's a single character alias for every option, and it uses unambiguous substring matching. So you can specify things with as little as -e s for staging. --app mything-staging is really annoying when you have to type it out fully every single time. I probably wouldn't have looked for this ticket if I was able to just type -a s instead. :)\n. While I can see how you might think that a default setting would fix this problem -- please don't think that a default setting will fix this problem. :)\nEvery app that I currently develop on heroku exists in at least a production and staging version, and sometimes a designer version as well. I have to continuously switch between the three, so being able to pick just one of the three to be a default would (at best) save me typing --app foo when I need to do something in production. Given that, I don't really feel like being able to set a default app addresses the requests brought up in this ticket. Thanks!\n. No, it doesn't seem to work with the latest:\n$ heroku --app myapp ps\n !    `--app` is not a heroku command.\n !    Perhaps you meant `--help` or `apps`.\n !    See `heroku help` for a list of available commands.\nAm I doing it wrong? :)\n. Err... just to clarify, are you closing this as \"wontfix\"? Since the ticket is about argument order, and not about specifying apps via env vars. :)\n. While I feel like the env thing helps with the underlying problem, the argument order thing still bugs me on a regular basis, since I have to remember that heroku only accepts args in a particular order. That's not very unixy. :P\nI just wrote up my underlying complaints/suggestions more coherently the other day when I was complaining to Terence, so I think I'll just put those in a new ticket.\n. (Before I run away, though, I think it's worth pointing out that --remote is much less of a pain to deal with than --app, since you can name your remotes anything you want. It's much easier to type -r st than it is to type -a myapp-staging. I just found out about --remote/-r tonight.)\n. ",
    "kylebragger": "Hey, all set. Was fixed in the latest version of heroku_san (ended up being an issue there AFAIK). Thanks.\n. ",
    "craigkerstiens": "@geemus There's not currently a hard date. If it can be in sometime within the next two weeks that'd be great. Essentially if you can get it as not a top priority, but somewhere high in the queue and release it when you cut a new version that'd be great. We have no issue with the command being available ahead of the GA, in fact it would be preferable to reduce any risks.\n. :+1: to renaming the buildpacks plug-in to buildkits. We need to nag heavily to language owners to update, but meh that should be fine. \n@jkutner is there an example output of hte experience or do I need to pull down and test?\n. :+1: ship it\n. :shipit: \n. Perhaps include an example of each within the help?\n. Stepping back a bit, what are we hoping to accomplish with this, what's the problem we're trying to solve.\n. Is it possible for us to easily pipe this to a CSV? Would love to take a regular snapshot from this and track it in a google doc. \n. @ransombriggs I don't have a strong preference on one place or the other. In reality they're probably not as accurate a reflection of effort they show number of commands, but as we know they're not all created equal.\n. ",
    "perlmunger": "Ok. Cool. That worked! Thanks!\n. Does the console work with cedar apps? I run my script now, but I get \"For Cedar apps, use: heroku run console\".\n. Well, what if I want to get the value of config variables I've added to a heroku instance? I was just wanting to get the output of 'heroku config' and parse that. That's what I was trying to do with the code I posted at the beginning of this discussion. Is there an equivalent of that I can do with the run command?\n. Awesome! That's exactly what I was looking for!! Thanks.\n. @geemus So is there any way to run a rake task using this API? I tried this:\ndef set_system_type(api_key, system_type)\n  heroku = Heroku::API.new(:api_key => api_key)\n  heroku.post_ps(app, \"rake system:settype['#{system_type}']\").body\nend\nAnd I got this result:\n{\n    \"slug\"=>\"9fdf7ae_128b\",\n     \"command\"=>\"bundle exec rake system:settype['Sunshine']\",\n     \"upid\"=>\"69625272\",\n     \"port\"=>nil,\n     \"process\"=>\"run.1\",\n     \"action\"=>\"complete\",\n     \"rendezvous_url\"=>nil,\n     \"elapsed\"=>0,\n     \"ip\"=>nil,\n     \"instance\"=>nil,\n     \"attached\"=>false,\n     \"transitioned_at\"=>\"2012/05/11 15:53:06 -0700\",\n     \"state\"=>\"starting\"\n}\nBut the command doesn't seem to have worked when I look for a result of my rake task on the server (the task is updating a record in the app database).\nThanks.\n. @geemus Thanks for taking a look. There were two issues. One--I apparently used the wrong name for my rake task... duh. My bad. Second, it seems to take it several seconds to actually make the change, so I wasn't seeing that right away. Once I showed a little patience, as was well.\nSorry for the noise and thanks for responding.\n-Matt\n. ",
    "msmith": "Understandable. My original plan was to have something like this:\n```\n-t, -f, --tail         # continually stream logs\n```\nI don't really like that I had to specify a duplicate long-form option (--follow), but to support that would have required larger code changes.\n. Thanks for considering it\n. ",
    "kisin": "after reinstall the heroku cli everything is back working.\nthanks\n. ",
    "gregschwartz": "Just ran into the same error, this time on a Mac. Is this issue pretty rare? If so, I'll just go reinstall the toolbelt.\n. Odd, just reinstalled and I'm still running into it. Do I need to remove something?\n. Yup, that got me up and running on what looks like the old version. Hopefully I don't need anything from the new one! Thanks for your help, @geemus!\n. Deleted the client directory, reinstalled the toolbelt, and now getting this:\n$ heroku version\nheroku-gem/2.6.1\nThat's not the right version, is it?\n. @geemus Hm, interesting. I uninstalled the gem, installed the toolbelt, and then had the right version (2.25.0)!\nBut, when I ran bundle install afterward I saw \"Installing heroku (2.6.1)\". And indeed, heroku version is back to \"heroku-gem/2.6.1\".\nAnd our Gemfile just says: gem 'heroku'. I'm guessing this is an issue with our Gemfile, not RubyGems.org, right? If so, I'll talk to the rest of my team and deal with it here.\n. I'll talk to them about it, thanks for the help @geemus!\n. ",
    "klimchuk": "Had same problem on mac\ngem uninstall heroku\nworked just fine!\n. ",
    "nbashaw": "ran into the same problem, but removing the ~/.heroku/client directory after installing the toolbelt from https://toolbelt.heroku.com/ worked for me!\n. ",
    "bengm": "I ran into the same issue. Not sure how rare it would be, since I'm a pretty simple user, and haven't done anything tricky config-wise. Installing the toolbelt and deleting the client directory seemed to work for me. (Though I still can't find my postgres version using pg:info, which was what led me to do the upgrade in the first place).\n. ",
    "chuckweinberger": "Just experienced the same problem.  gem uninstall heroku worked for me.\n. ",
    "karl-petter": "Also ran into this issue. gem uninstall heroku followed by gem install herokusolved it for me.\nI'm on Mac and is using RVM, could RVM give this?\nHere is the output from running those two commands if that could be of any help:\n```\n$> gem uninstall heroku\nRemove executables:\n    heroku\nin addition to the gem? [Yn]\nRemoving heroku\nSuccessfully uninstalled heroku-2.11.0\n$> gem install heroku\nFetching: excon-0.16.1.gem (100%)\nFetching: heroku-api-0.3.4.gem (100%)\nFetching: netrc-0.7.7.gem (100%)\nFetching: heroku-2.30.3.gem (100%)\n !    Heroku recommends using the Heroku Toolbelt to install the CLI.\n !    Download it from: https://toolbelt.heroku.com\nSuccessfully installed excon-0.16.1\nSuccessfully installed heroku-api-0.3.4\nSuccessfully installed netrc-0.7.7\nSuccessfully installed heroku-2.30.3\n4 gems installed\nInstalling ri documentation for excon-0.16.1...\nInstalling ri documentation for heroku-api-0.3.4...\nInstalling ri documentation for netrc-0.7.7...\nInstalling ri documentation for heroku-2.30.3...\nInstalling RDoc documentation for excon-0.16.1...\nInstalling RDoc documentation for heroku-api-0.3.4...\nInstalling RDoc documentation for netrc-0.7.7...\nInstalling RDoc documentation for heroku-2.30.3...\n```\n. ",
    "inancgumus": "Above solution didn't work for me. If you're still having the same problem, try this:\nRemove heroku client:\nrm -rf ~/.heroku/client\n. ",
    "jgentes": "ran into this on Windows 7 after updating today using 'heroku update'.\nFixed by deleting /users/me/.heroku/client and reinstalling from https://toolbelt.heroku.com/\n. Looks like this happens again with the latest update on Windows 7.\n. Sorry it's gone now, but yes it was the same error:\ninternal:lib/rubygems/custom_require:29:in\n`require': no such file to load -- netrc (LoadError)\nI fixed it again by deleting /users/me/.heroku/client and reinstalling from\nhttps://toolbelt.heroku.com/\nSeems like something is awry with how the command line updater works, at\nleast on Windows.\n-James\nOn Tue, Sep 25, 2012 at 2:26 PM, David Dollar notifications@github.comwrote:\n\n@jgentes https://github.com/jgentes What is happening? The specific\nerror from the top of this issue? Could you paste here the command you are\nrunning and the error you are seeing.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/298#issuecomment-8870885.\n. \n",
    "rubyshoes": "I have tried:\nRemove the heroku toolbelt\nrm -rf /usr/local/heroku\nrm -rf /usr/bin/heroku\nRemove the heroku gem\ngem uninstall heroku\nI got a message which gem to uninstall, so I chose 'all'\nInstall the heroku toolbelt, again.\nClosed the terminal and opened a new one and got the same message with respect to 'heroku update' .... namely 'heroku update is only available from heroku toolbelt.\nSo then I tried:\nrm -rf ~/.heroku/client\nand reinstalled the toolbelt and still no joy ... lol ... I have tried to get this to work a number of occasions and eventually I give up.\nThe only reason I am trying to get this to work is that I cannot get my app to work when I go to heroku.com and run it from heroku ... I just get a grey screen.\nOn the other hand if I use 'heroku open' from my command line in my app, my app opens and all of the navigation works.\nI checked heroku logs and there is no error there.\nAnyone have some other ideas ... ohh ... I forgot 'Heroku support says that I must have an error in my app' so no help from them.\nHELP:)\n. Hi geemus,\nWow ... thanks for your reply.\nI have dual boot on my laptop ... so if I exit ubuntu and start up again in my windows environment and then I set my browser to www.heroku.com and log in. I then choose my application and click on its url ... It opens but just to a grey screen.\nThe 'which heroku' returns ./bundler_stubs/heroku.\nThanks for your help in advance.\n. Hi Geemus,\nThanks for your help ... commented out the heroku gem and ran bundle install again ... 'which heroku' still returned ./bundler_stubs/heroku. I tried heroku update at this point and got a Gem::Exception .... so I removed the heroku to be found in ./bundler_stubs and then I ran 'heroku update' again. this time I got bash: ./bundler_stubs/heroku: no such file or directory. \nThis bundler_stubs seems to come from the RVM Bundler integration(handler). I have in my notes: \"If we add another executable, then we have to re-run the --binstubs=./bundler_stubs line. Do you have any experience with this ... it has something to do with the fact that we had to precede each command like rake with bundle exec rake so that the program ran in the exact gem environment specified by the Gemfile.\nWell I ran the bundel --binstubs=./bundler_stubs and reinstated heroku in the Gemfile and I got the same old results.\nDo you see a way through all of this Geemus:)\n. Hi Geemus,\nI reconfigured RVM to include the proper executables in the local environment as per my notes on the RVM Bundler Integration(handler) as follows:\nmoved to the home directory: cd ~\nrvm get head && rvm reload\nchmod +x $rvm_path/hooks/after_cd_bundler\nthen I changed to my project directory\nand here issued \nbundle --binstubs=./bundler_stubs\nI then ran bundle install and 'which heroku' and now I got:\n/home/tom/.rvm/gem/ruby-1.9.3-p194@rails328/bin/heroku\nThat was a change and so I thought geemus has done it:)\nbut when I ran 'heroku update' I got the same old message 'heroku update is only available from heroku toolbelt.'\nClose :)\n. Hi geemus,\nCurrently I get this return to the 'which heroku' command that I run after I have commented out the heroku gem in my Gemfile:\n/home/tom/.rvm/gems/ruby-1.9.3-p194@rails328/bin/heroku\nis this where you would expect to see the bin file?\nI know you have answered this indirectly ... but I just want to be sure that I have the correct path to the bin file.\n. No ... it is not working. The only changes I have made is that I have commented out Heroku in my Gemfile.\nI still use RVM since it would seem senseless to have to give up on RVM just to have an update function in Heroku.\nI installed heroku ages ago from the console in my applications directory ... it never was a problem ... it is since we have this toolbelt thingy that the issue of Heroku Update has begun to appear.\nWhat I do know is, that this is either a RVM problem, and they think not, or it is a Heroku problem, and they think not ... so it must be my problem ... and I think not.\nI am looking around for some poor mutt to give it a kick:)\nIdeally it would be great if you could give me some clarification as to what I need in my system to have Heroku Update work?\nJust for your information the grey screen issue that I referred to in my earlier postings now has cleared up.\nSo Heroku is working in all of its functions but for one ... Heroku Update.\n. Hey thanks Stevancw ... so do you think I should remove the Heroku gem? I will give it a try:)\n. Just as an update ... if I remove heroku .... namely: gem uninstall heroku ... I get unknown command heroku when I run 'Heroku Update'.\nSo I quickly re-installed heroku:)\n. geemus ... what would the bin file look like for toolbelt?\n. Well I gave it an honest effort and as David Deutsch keeps on reminding us in his \"The Beginning of Infinity\", 'problems are soluable', so I limp on ... the mutt just bit me!\n. @Stevancw ... thanks for your help ... I have it commented out in my gemfile. Still have a problem though.\nI was wondering if it has something to do with the path.\nfor instance, if I run 'whereis heroku'. I get a return of 'heroku: /usr/bin/heroku   /usre/bin/x11/heroku'\nand if I run 'env | grep PATH' I get a return of:\nXDG_SESSION_PATH=/org/freedesktop/DisplayManager/Session0\nXDG_SEAT_PATH=/org/freedesktop/DisplayManager/Seat0\nDEFAULTS_PATH=/usr/share/gconf/ubuntu.default.path\nPATH=/home/tom/.rvm/gems/ruby-1.9.3-p194@rails328/bin:  /home/tom/.rvm/gems/ruby-1.9.3-p194@global/bin:/home/tom/.rvm/rubies/ruby-1.9.3-p194/bin:   /home/tom/.rvm/bin:   /usr/lib/lightdm/lightdm:   /usr/local/sbin:/usr/local/bin:   /usr/sbin:   /usr/bin:   /sbin:   /bin:    /usr/games:    /opt/node/bin\nI have spaced them out to see all the different paths.\nMANDATORY_PATH=/usr/share/gconf/ubuntu.mandatory.path\nNODE_PATH=/opt/node:/opt/node/lib/nod_modules\nGEM_PATH=/home/tom/.rvm/gems/ruby-1.9.3-p194@rails328:     /home/tom/.rvm/gems/ruby-1.9.3-p194@global\nI do not see any of the paths listed under 'whereis heroku' in the paths listed under the 'env | grep PATH' command.\nThe following link is a discussion about the heroku update and how they got it too work ... I am not sophisticated enough to figure it out.\nhttp://stackoverflow.com/questions/11161820/heroku-toolbelt-breaks-rails\nI did figure out how to display the paths on my system, but I am not sure which one is the system path that they discuss in the link. Also, how do you get to display which path 'heroku update' is using?\nMaybe \"which heroku\", it does give me a path ... it is the gem path. \nMaybe I have to include the toolbelt in the path somehow or exclude the heroku gem so that 'heroku update' finds the toolbelt instead of the gem?\nOf course I did try 'which heroku toolbelt' and it gave me the same gem path that I list above, but I am not sure if it is just reading 'which heroku'.\nIf you find yourself throwing your hands up in exasperation ... remember 'Problems are Soluable' , I forgot the proviso, \"As long they are not in violation of the laws of physics\".\nThanks for your time and patience.\n. I was just reading the technical details for heroku toolbelt:\nThe install script will add our repository and key to your apt sources and then have apt install the heroku and foreman packages from it. The heroku command line client will be installed into /usr/local/heroku and the executable will be symlinked as /usr/bin/heroku.\nI do not have a /usr/local/heroku .... maybe this is the problem?\n. Ok ... I found a discussion about removing heroku toolbelt ... I could not remove it.\nthe solution was:\nsudo apt-get remove heroku ( see the url below)\nhttps://github.com/heroku/toolbelt/issues/10\nthen I re-installed heroku toolbelt as per heroku.\nNo joy ... lol ... the flag this time is:\n'To update this version of the heroku client please use \"apt-get install heroku-toolbelt\"'\nI did just that to no avail.\nI forgot to mention that I had removed the heroku gem and 'which heroku' returns \"/usr/bin/heroku\"\nSo my guess is that we are running the toolbelt version of heroku here.\nEverything else works though, just as it did in the past:)\n. ",
    "davidosomething": "hm can't replicate, sorry\n. ",
    "khoin": "This problem still persists. \n``\nc:/Program Files (x86)/Heroku/ruby-1.9.3/lib/ruby/1.9.1/tmpdir.rb:15:insystmpd\nir': code converter not found (UTF-16LE to Windows-1258) (Encoding::ConverterNot\nFoundError)\n        from c:/Program Files (x86)/Heroku/ruby-1.9.3/lib/ruby/1.9.1/tmpdir.rb:1\n5:in <class:Dir>'\n        from c:/Program Files (x86)/Heroku/ruby-1.9.3/lib/ruby/1.9.1/tmpdir.rb:1\n3:in'\n        from c:/Program Files (x86)/Heroku/ruby-1.9.3/lib/ruby/site_ruby/1.9.1/r\nubygems/custom_require.rb:36:in require'\n        from c:/Program Files (x86)/Heroku/ruby-1.9.3/lib/ruby/site_ruby/1.9.1/r\nubygems/custom_require.rb:36:inrequire'\n        from c:/Program Files (x86)/Heroku/ruby-1.9.3/lib/ruby/1.9.1/tempfile.rb\n:8:in <top (required)>'\n        from c:/Program Files (x86)/Heroku/ruby-1.9.3/lib/ruby/site_ruby/1.9.1/r\nubygems/custom_require.rb:36:inrequire'\n        from c:/Program Files (x86)/Heroku/ruby-1.9.3/lib/ruby/site_ruby/1.9.1/r\nubygems/custom_require.rb:36:in require'\n        from c:/Program Files (x86)/Heroku/vendor/gems/rest-client-1.6.7/lib/res\ntclient/request.rb:1:in'\n        from c:/Program Files (x86)/Heroku/ruby-1.9.3/lib/ruby/site_ruby/1.9.1/r\nubygems/custom_require.rb:36:in require'\n        from c:/Program Files (x86)/Heroku/ruby-1.9.3/lib/ruby/site_ruby/1.9.1/r\nubygems/custom_require.rb:36:inrequire'\n        from c:/Program Files (x86)/Heroku/vendor/gems/rest-client-1.6.7/lib/res\ntclient.rb:13:in <top (required)>'\n        from c:/Program Files (x86)/Heroku/ruby-1.9.3/lib/ruby/site_ruby/1.9.1/r\nubygems/custom_require.rb:36:inrequire'\n        from c:/Program Files (x86)/Heroku/ruby-1.9.3/lib/ruby/site_ruby/1.9.1/r\nubygems/custom_require.rb:36:in require'\n        from c:/Program Files (x86)/Heroku/vendor/gems/rest-client-1.6.7/lib/res\nt_client.rb:2:in'\n        from c:/Program Files (x86)/Heroku/ruby-1.9.3/lib/ruby/site_ruby/1.9.1/r\nubygems/custom_require.rb:36:in require'\n        from c:/Program Files (x86)/Heroku/ruby-1.9.3/lib/ruby/site_ruby/1.9.1/r\nubygems/custom_require.rb:36:inrequire'\n        from c:/Program Files (x86)/Heroku/lib/heroku/client.rb:9:in <top (requ\nired)>'\n        from c:/Program Files (x86)/Heroku/ruby-1.9.3/lib/ruby/site_ruby/1.9.1/r\nubygems/custom_require.rb:36:inrequire'\n        from c:/Program Files (x86)/Heroku/ruby-1.9.3/lib/ruby/site_ruby/1.9.1/r\nubygems/custom_require.rb:36:in require'\n        from c:/Program Files (x86)/Heroku/lib/heroku.rb:1:in'\n    from c:/Program Files (x86)/Heroku/ruby-1.9.3/lib/ruby/site_ruby/1.9.1/r\n\nubygems/custom_require.rb:36:in require'\n        from c:/Program Files (x86)/Heroku/ruby-1.9.3/lib/ruby/site_ruby/1.9.1/r\nubygems/custom_require.rb:36:inrequire'\n        from c:/Program Files (x86)/Heroku/lib/heroku/cli.rb:11:in <top (requir\ned)>'\n        from c:/Program Files (x86)/Heroku/ruby-1.9.3/lib/ruby/site_ruby/1.9.1/r\nubygems/custom_require.rb:36:inrequire'\n        from c:/Program Files (x86)/Heroku/ruby-1.9.3/lib/ruby/site_ruby/1.9.1/r\nubygems/custom_require.rb:36:in require'\n        from c:/Program Files (x86)/Heroku/bin/heroku:27:in'\n```\nI'm using Windows 7 Home Premium. I've tried chcp and changing my laptop's default locale but none of it works.\n. Nevermind. It's resolved. I've changed my locale to English (UK) instead of (US)\n. ",
    "travisbot": "This pull request fails (merged 78a14c86 into 4289b56e).\n. This pull request fails (merged 5e04361a into 4289b56e).\n. This pull request passes (merged e31e4363 into e58af0a9).\n. This pull request fails (merged 12c054ff into b13c4b0d).\n. This pull request passes (merged ed551f20 into d52bde19).\n. This pull request passes (merged 491e6f4c into 932539a2).\n. This pull request passes (merged f9bec038 into 771600b8).\n. This pull request passes (merged 5a81ef75 into 0e07fecb).\n. This pull request passes (merged cfa478c1 into 5c3a3e45).\n. This pull request passes (merged 149dc78a into 4533d240).\n. This pull request passes (merged 54b8d363 into 4533d240).\n. This pull request fails (merged 499373ae into 4bdc1483).\n. This pull request fails (merged 7d069ad6 into 4bdc1483).\n. This pull request fails (merged 25f4597b into 4bdc1483).\n. This pull request passes (merged 7ddd6717 into ac4da95c).\n. This pull request passes (merged b7f4d306 into ac4da95c).\n. This pull request passes (merged 8584df11 into fe544937).\n. This pull request passes (merged c8c95830 into fe544937).\n. This pull request passes (merged bd294d73 into 6245e353).\n. This pull request fails (merged 8d8225f4 into 6245e353).\n. This pull request fails (merged cfeffc74 into 6b03d0bb).\n. This pull request fails (merged 2767408c into 48155a78).\n. This pull request passes (merged b9113d06 into 48155a78).\n. This pull request passes (merged 462ac8e2 into 92a1a3fb).\n. This pull request passes (merged 8be690e1 into 0eef77d5).\n. This pull request passes (merged cbc51dfe into 1fc2925b).\n. This pull request fails (merged 8516cc3c into 94aa7af8).\n. This pull request passes (merged d9a72d60 into 94aa7af8).\n. This pull request passes (merged 8a49ec17 into 6460503a).\n. This pull request passes (merged ffce8a1a into 319fd997).\n. This pull request passes (merged 53b0887b into 254d0b9b).\n. This pull request passes (merged 22cf5b78 into 254d0b9b).\n. This pull request passes (merged 5d6dbfbc into c201ef90).\n. This pull request passes (merged 73d8c531 into 73f71812).\n. This pull request passes (merged 5687b4c9 into 77923b37).\n. This pull request passes (merged 9862db74 into 8656af9a).\n. This pull request passes (merged 53c1a8ba into 8656af9a).\n. This pull request passes (merged b213cc67 into 8656af9a).\n. This pull request passes (merged 468dfea2 into 8656af9a).\n. This pull request passes (merged 40d779a5 into 0330a547).\n. This pull request passes (merged f50e969f into 0ec8b515).\n. This pull request passes (merged 4d901805 into 0ec8b515).\n. This pull request passes (merged b3bfd881 into 9d8f6548).\n. This pull request passes (merged 415a9b9e into 3f082820).\n. This pull request fails (merged 4fba4b28 into 644dbfd4).\n. This pull request passes (merged a129f8b7 into 4909d88f).\n. This pull request passes (merged 8099f3df into 02ca248e).\n. This pull request passes (merged ac80d554 into 382cd35c).\n. This pull request fails (merged 568f6940 into 69dec9e8).\n. This pull request passes (merged 9d8a02a0 into cd556a14).\n. This pull request fails (merged f7060a1b into 882311b3).\n. This pull request passes (merged e3e367a1 into 882311b3).\n. This pull request passes (merged 51456663 into 40feb820).\n. This pull request passes (merged b7fee27f into 40feb820).\n. This pull request fails (merged 7ec7c47f into a0ec2c14).\n. This pull request passes (merged 6005a024 into a0ec2c14).\n. ",
    "aseemk": "+1\nThanks John.\n. Major +1 from us at @FiftyThree \u2014\u00a0our repo size is over 500 MB now, and our first deploy to forked apps now takes up to 30 minutes. That's basically making heroku fork unusable for us.\n/cc @davestern\n. Whoops, actually we were wrong by a few factors \u2014\u00a0our repo is closer to 120 MB.\nsh\ngit bundle create tmp.bundle --all\ndu -sh tmp.bundle\n(via; we had just done du -sh .git originally, which can have a lot of cruft before gc'ing.)\nYep, all of that would just be due to history, I imagine. Our checked-in files add up to < 20 MB.\nsh\ngit ls-files | xargs du -csh\n. Hello hello. Any thoughts or update on this? Thanks!\n. Ah cool, thanks.\nWould it be better to file CLI issues on the toolbelt repo? (I thought this was the CLI repo.)\n. :thumbsup:\n. ",
    "aguywithanidea": "On Mac it appears that heroku client is defaulting to look for ruby at /usr/bin/ruby - even when $PATH is set to look first in paths defined by rbenv or rvm:\n```\n  ruby -v\n  => ruby 1.9.2p290 (2011-07-09 revision 32553) [i386-darwin9.8.0]\nrbenv which ruby\n => /Users/rluck/.rbenv/versions/1.9.2-p290/bin/ruby \nheroku update\n => zsh: /usr/bin/heroku: bad interpreter: /usr/bin/ruby: no such file or directory\n```\nCreating a symlink solves the problem:\nsudo ln -s /Users/rluck/.rbenv/versions/1.9.2-p290/bin/ruby /usr/bin/ruby\n. swelement - run the command heroku update\nIf it gives you the bad interpreter: /usr/bin/ruby: no such file or directory error, then you have a pathing issue that can be resolved by creating symlinks.  This was the same error I was receiving (above) when I first installed the toolbelt.\n. ",
    "mattfenwick": "It would be nice if this gave a useful error message, or if the ruby version was checked immediately.  As it is, it's quite confusing.\n. @geemus  Thanks!  This is much appreciated!\n. ",
    "inforlife": "I'm running 10.5.8 with ruby 1.9.2-p290 through rvm and I still get the error message when I try to login.\nI tried to create the symlink as suggested by aguywithanidea but looks like it existed already in my system and I'm not sure it is a good idea to overwrite it.\nAny idea, suggestion?\nThanks.\n. I didn't post the error message because it is exactly the same posted by aztec8. Anyway here it is:\n/usr/local/heroku/lib/heroku/updater.rb:33: warning: parenthesize argument(s) for future version\n/usr/local/heroku/vendor/gems/netrc-0.7.1/lib/netrc.rb:79:in `readto': undefined local variable or method `count' for []:Array (NameError)\n    from /usr/local/heroku/vendor/gems/netrc-0.7.1/lib/netrc.rb:85:in `parse'\n    from /usr/local/heroku/vendor/gems/netrc-0.7.1/lib/netrc.rb:20:in `read'\n    from /usr/local/heroku/lib/heroku/auth.rb:92:in `netrc'\n    from /usr/local/heroku/lib/heroku/auth.rb:66:in `delete_credentials'\n    from /usr/local/heroku/lib/heroku/auth.rb:21:in `login'\n    from /usr/local/heroku/lib/heroku/command/auth.rb:12:in `login'\n    from /usr/local/heroku/lib/heroku/command.rb:148:in `send'\n    from /usr/local/heroku/lib/heroku/command.rb:148:in `run'\n    from /usr/local/heroku/lib/heroku/cli.rb:9:in `start'\n    from /usr/bin/heroku:28\nThanks for your support.\n. Thanks for your reply.\nI actually use rvm, not rbenv so I'm afraid I cannot rehash it.\nHowever I executed the repair script that comes with rvm but nothing changed.\nThanks again.\n. Hi geemus\nI have downloaded the version currently available at https://toolbelt.heroku.com/ (not sure if it is 2.26.1 since I couldn't find this information anywhere) but after installing it when I run heroku login I get\n/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require': no such file to load -- securerandom (LoadError)\n    from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'\n    from /usr/local/heroku/vendor/gems/heroku-api-0.2.1/lib/heroku/api.rb:3\n    from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'\n    from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'\n    from /usr/local/heroku/vendor/gems/heroku-api-0.2.1/lib/heroku-api.rb:1\n    from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'\n    from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'\n    from /usr/local/heroku/lib/heroku/auth.rb:5\n     ... 8 levels...\n    from /usr/local/heroku/lib/heroku/cli.rb:1\n    from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'\n    from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'\n    from /usr/bin/heroku:27\nI get the same error using Ruby 1.9.3-p0  1.9.2-p290 and 1.8.7-p249\nThanks for your reply.\n. Thanks aguywithanidea I get always the same error I posted yesterday no matter which heroku command I run.\nI already have the symlink, when I run \nsudo ln -s /Users/swelement/.rvm/rubies/ruby-1.9.2-p290/bin/ruby /usr/bin/ruby\nI get  ln: /usr/bin/ruby: File exists\nThanks for your help. I appreciate it\n. Hi geemus, Thanks for your reply and support\nI get true\n$ ruby -e \"p require('securerandom')\"\ntrue\nVery strange indeed.\n. @testflyjets Teh change you suggested solved my issue as well.\nThanks\n. Thanks for your help.\nReinstalling the older version you suggested solved the issue. Now git seems to work properly.\nMy Mac has a Intel Core 2 Duo so yes, it has a 64-bit CPU.\nThanks again\n. ",
    "OSP123": "I'm getting this: \n/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in gem_original_require': no such file to load -- securerandom (LoadError)\n    from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:inrequire'\n    from /usr/local/heroku/vendor/gems/heroku-api-0.2.4/lib/heroku/api.rb:3\n    from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in gem_original_require'\n    from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:inrequire'\n    from /usr/local/heroku/vendor/gems/heroku-api-0.2.4/lib/heroku-api.rb:1\n    from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in gem_original_require'\n    from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:inrequire'\n    from /usr/local/heroku/lib/heroku/auth.rb:5\n     ... 8 levels...\n    from /usr/local/heroku/lib/heroku/cli.rb:1\n    from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in gem_original_require'\n    from /Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:inrequire'\n    from /usr/bin/heroku:27\n. Hey geemus, I am using the toolbelt. I think it was a weird error that had to do with some other config. I'm not sure exactly how I fixed it, but heroku works now :). \n. For sure :)\n. ",
    "snoe": "I was having the same problem as OSP123. I fixed it by changing the first line in /usr/bin/heroku from\n```\n!/usr/bin/heroku\n```\nto\n#!/usr/bin/env heroku\nThis makes sure to use the users environment and thus the PATH setup by rvm. \n. ",
    "testflyjets": "I use RVM and had the same problem when running heroku login.\nSimilar problem to OSP123, but my /usr/bin/heroku file had this at the top:\n```\n!/usr/bin/ruby\n```\nWhich I changed to:\n```\n!/usr/bin/env ruby\n```\nNow it works fine.\n. Glad to help -- excited to push my first app to Heroku and running into a\nfew roadblocks.  All part of the learning curve.\nOn Thu, Aug 2, 2012 at 3:22 PM, Wesley Beary <\nreply@reply.github.com\n\nwrote:\n@testflyjets - thanks for the heads up.  We may need to change that in the\nbin if this keeps up, but seems to work for most people.  At least now I\nshould have a pretty good guess if anybody else hits it.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/310#issuecomment-7470057\n. \n",
    "MRHarrison": "None of the solutions above worked for me.  After I installed rbenv, I had to reinstall heroku, and then everything worked fine.  \n. ",
    "adamyonk": "+1 for using #!/usr/bin/env ruby. \n. ",
    "ericboehs": "Found it! https://github.com/heroku/heroku/commit/d7d87206c6e352ef3dc80c53aba1722d06d890f5\n. ",
    "mochablendy": "Same problem on WinXP SP3.\n\nC:\\>heroku login\nEnter your Heroku credentials.\nEmail: mochablendy@example.com\nPassword (typing will be hidden):\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n\n    Error:     \u30d6\u30ed\u30c3\u30af\u4e0d\u53ef\u306e\u30bd\u30b1\u30c3\u30c8\u64cd\u4f5c\u3092\u3059\u3050\u306b\u5b8c\u4e86\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002 (Excon::Errors::SocketError)\n    Backtrace: C:/Program Files/ruby-1.9.3/lib/ruby/1.9.1/openssl/buffering.rb:36:in `sysread'\n               C:/Program Files/ruby-1.9.3/lib/ruby/1.9.1/openssl/buffering.rb:36:in `sysread'\n               C:/Program Files/ruby-1.9.3/lib/ruby/1.9.1/openssl/buffering.rb:36:in `fill_rbuff'\n               C:/Program Files/ruby-1.9.3/lib/ruby/1.9.1/openssl/buffering.rb:215:in `eof?'\n               C:/Program Files/ruby-1.9.3/lib/ruby/1.9.1/openssl/buffering.rb:190:in `readline'\n               C:/Program Files/Heroku/vendor/gems/excon-0.14.0/lib/excon/ssl_socket.rb:68:in `initialize'\n               C:/Program Files/Heroku/vendor/gems/excon-0.14.0/lib/excon/connection.rb:330:in `new'\n               C:/Program Files/Heroku/vendor/gems/excon-0.14.0/lib/excon/connection.rb:330:in `socket'\n               C:/Program Files/Heroku/vendor/gems/excon-0.14.0/lib/excon/connection.rb:175:in `request_kernel'\n               C:/Program Files/Heroku/vendor/gems/excon-0.14.0/lib/excon/connection.rb:101:in `request'\n               C:/Program Files/Heroku/vendor/gems/heroku-api-0.2.5/lib/heroku/api.rb:60:in `request'\n               C:/Program Files/Heroku/vendor/gems/heroku-api-0.2.5/lib/heroku/api/login.rb:9:in `post_login'\n               C:/Program Files/Heroku/lib/heroku/auth.rb:74:in `api_key'\n               C:/Program Files/Heroku/lib/heroku/auth.rb:183:in `ask_for_credentials'\n               C:/Program Files/Heroku/lib/heroku/auth.rb:214:in `ask_for_and_save_credentials'\n               C:/Program Files/Heroku/lib/heroku/auth.rb:78:in `get_credentials'\n               C:/Program Files/Heroku/lib/heroku/auth.rb:40:in `login'\n               C:/Program Files/Heroku/lib/heroku/command/auth.rb:22:in `login'\n               C:/Program Files/Heroku/lib/heroku/command.rb:176:in `run'\n               C:/Program Files/Heroku/lib/heroku/cli.rb:13:in `start'\n               C:/Program Files/Heroku/bin/heroku:25:in `'\n\n    Command:   heroku login\n    Version:   heroku-toolbelt/2.27.3 (i386-mingw32) ruby/1.9.2\n\n\nC:\\>set http\nHTTPS_PROXY=http://mochablendy:password@proxyserver:port\nHTTP_PROXY=http://mochablendy:password@proxyserver:port\n\nC:\\>\n\n. hi @geemus,\nIt seems one step forwarded but another kind of problem is here.\n\nC:\\>set http\nHTTPS_PROXY=http://mochablendy:password@proxyserver:port\nHTTP_PROXY=http://mochablendy:password@proxyserver:port\n\nC:\\>set https_proxy=http://mochablendy:password@proxyserver:port\n\nC:\\>set http_proxy=http://mochablendy:password@proxyserver:port\n\nC:\\>set http\nHTTPS_PROXY=http://mochablendy:password@proxyserver:port\nHTTP_PROXY=http://mochablendy:password@proxyserver:port\n\nC:\\>heroku login\nEnter your Heroku credentials.\nEmail: mochablendy@example.com\nPassword (typing will be hidden):\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n\n    Error:     Invalid argument - connect(2) (Excon::Errors::SocketError)\n    Backtrace: C:/Program Files/Heroku/vendor/gems/excon-0.14.0/lib/excon/socket.rb:43:in `connect_nonblock'\n               C:/Program Files/Heroku/vendor/gems/excon-0.14.0/lib/excon/socket.rb:43:in `rescue in block in connect'\n               C:/Program Files/Heroku/vendor/gems/excon-0.14.0/lib/excon/socket.rb:31:in `block in connect'\n               C:/Program Files/Heroku/vendor/gems/excon-0.14.0/lib/excon/socket.rb:29:in `each'\n               C:/Program Files/Heroku/vendor/gems/excon-0.14.0/lib/excon/socket.rb:29:in `connect'\n               C:/Program Files/Heroku/vendor/gems/excon-0.14.0/lib/excon/socket.rb:16:in `initialize'\n               C:/Program Files/Heroku/vendor/gems/excon-0.14.0/lib/excon/ssl_socket.rb:31:in `initialize'\n               C:/Program Files/Heroku/vendor/gems/excon-0.14.0/lib/excon/connection.rb:330:in `new'\n               C:/Program Files/Heroku/vendor/gems/excon-0.14.0/lib/excon/connection.rb:330:in `socket'\n               C:/Program Files/Heroku/vendor/gems/excon-0.14.0/lib/excon/connection.rb:175:in `request_kernel'\n               C:/Program Files/Heroku/vendor/gems/excon-0.14.0/lib/excon/connection.rb:101:in `request'\n               C:/Program Files/Heroku/vendor/gems/heroku-api-0.2.5/lib/heroku/api.rb:60:in `request'\n               C:/Program Files/Heroku/vendor/gems/heroku-api-0.2.5/lib/heroku/api/login.rb:9:in `post_login'\n               C:/Program Files/Heroku/lib/heroku/auth.rb:74:in `api_key'\n               C:/Program Files/Heroku/lib/heroku/auth.rb:183:in `ask_for_credentials'\n               C:/Program Files/Heroku/lib/heroku/auth.rb:214:in `ask_for_and_save_credentials'\n               C:/Program Files/Heroku/lib/heroku/auth.rb:78:in `get_credentials'\n               C:/Program Files/Heroku/lib/heroku/auth.rb:40:in `login'\n               C:/Program Files/Heroku/lib/heroku/command/auth.rb:22:in `login'\n               C:/Program Files/Heroku/lib/heroku/command.rb:176:in `run'\n               C:/Program Files/Heroku/lib/heroku/cli.rb:13:in `start'\n               C:/Program Files/Heroku/bin/heroku:25:in `'\n\n    Command:   heroku login\n    Version:   heroku-toolbelt/2.27.3 (i386-mingw32) ruby/1.9.2\n\n\nC:\\>\n\n. @geemus I opend a ticket as #56521 on help.heroku.com. Please check it up.\nthanks,\n. ",
    "freeformz": "IIRC there are some functions that currently identify databases. Note. I'm not worried about covering all the various combos. Just there HEROKU_POSTGRES ones atm.\n. I'm not a fan of this as operationally we're likely to just start --confirm'ing all the time, negating the check entirely.\nDATABASE_URL is almost always set to something when pg:promoting.\npg:promote is there to set it to something else easily.\n. Non heroku dbs are the exception, rather than the rule. It's also not something we're likely to remember to check for when doing a recovery at 3:00 AM.\nPromoting a heroku db in place of an offsite/other add on db is something pg:promote should not do w/o confirmation in my opinion.\n. I would appreciate accuracy down to the minute. Trying to tack some things down w/o accurate date/time stamps is a pita.\n. This was likely a client side DNS issue. \"getaddrinfo: Name or service not known\" means the hostname for the heroku api endpoints could not be resolved by the client.\nNot sure what the right thing to do here is since the hostname(s) were resolving a few seconds before.\n. infinite wait is basically what happens now as long as the server doesn't throw an exception, which happens a lot. We don't have good visualization into that yet. And it's not possible currently to resume, so the best option ATM is to just retry harder and let the user Ctl-C for now if they are impatient.\nAt least that's my 2 cents.\n. See #594 as a follow up.\n. https://support.heroku.com/tickets/62647\n. Can we get a release soon: https://support.heroku.com/tickets/62711\n. Original discussion on #554 \n. I'd rather not.\n. The problem is that when the polling fails with a transient error the user can no longer get status for the current backup and AFATCT it's failed, when in fact it's still running.\nThis is something I'd like to fix long term, but this fixes it for now, in a brute force way.\nPlus just raising an exception kinda sucks.\nWith that said, how does the new update look instead?\n. Updated with some backoff.\n. Thanks!\n. /cc @deafbybeheading \n. Updated tests. Sorry about that.\n. Is there a related patch/fix for heroku-api  that needs to be pushed forward?\n. bump\n. Thx!\n. I was actually going to close this one. I realized that you can just do:\nbash\nheroku config:get DATABASE_URL -a <app>\n. We don't have any plans to support multiple --ps args atm. Filtering on the process type works fine.\nI'm going to close this. If people want the feature of multiple filters and can make a case for it we can re-open.\n. possible optional patch is #820 \n. Closing this in favor of v3 which uses uuids.\n. Yeah, but that's non obvious for most people (no really it is).\n. @jkutner Since these tests are stubbing put are these output assertions even testing anything?\n. hunh. Well then :+1: then.\n. Windows 8. Both in powershell and command prompt.\n. Thanks. Works!\n. I dunno. I think having addons.rb reaching into PgUtils seems a little envious.\nI thought about both ways and settled on this one as the least surprising.\nWhen I was first looking through the code, I found translate_fork_and_follow and was like WHY ISN\"T THIS WORKING! ... 'cause it should have been. An ack for translate_fork_and_follow took me to this code. Wiith everything encapsulated inside of translate_fork_and_follow all of the logic related to that is in one place, not 2 (inside and out).\nWith that said, if you really want the check on the outside, I'll be happy to move it there to get this included.\n. ",
    "fabiokung": "/cc @kr \n. @geemus https://github.com/lstoll/heroku-repo\n. sweet! Thanks.\n. Exactly. This is caused by bash's (and other shells) job control mechanism. In particular, the delayed suspend control char. ^Y isn't being passed unmodified to the dyno, because it is being intercepted by the local shell before going to the toolbelt cli.\n@wuputah this happens on the client side, it doesn't have anything to do with what runs inside the dyno.\n. I think the OP was using zsh, but without a stty dsusp undef in his .zshrc. Most zsh configurations out there seem to have that.\n. I still believe that the problem is on the client side. Perhaps heroku run spawns an additional local subshell which doesn't inherit the stty configuration?\nYanking on the remote side doesn't make any sense to me, and the heroku run command is being suspended locally, not inside the dyno.\nIf it helps anyway, custom configuration of the remote shell inside dynos (including stty and similar things) can be accomplished with dot-profile-d, which is already being applied to all apps.\nHowever I don't know if it will help in this particular case, as I'm not sure I fully understand the problem yet. Sorry!\n. Closing in favor of #820. Either way is fine to me.\n. Closing in favor of #1010 \n(@8f6e8d8801e2c5)\n. @mfine see my comment on the api PR. I can make the changes to use V3 here, but I'd rather it to be a bit more consistent: either we do all the mapping (16X=>PX) in clients, or we do none. Right now it will require clients to map 16X=>PX for the input, but not for the output. Thoughts?\n. cool, I think this is ready to be merged. index, resize and scale are now using API v3.\nThe CLI now is more flexible and accepts (almost) anything as a size. All the validation is done server side by the heroku API.\n. @pedro ping. Can I get a +1?\n. ",
    "muskmelon": "I had exactly the same issue. Solved after reinstalling the older version.\nThanks for the help!\nMy mac is Intel Core 2 Duo too.\n. ",
    "stprior": "When this occurred for me the issue was with quotes in the Windows path, so just a local config issue. \nOriginally I had \"C:\\Program Files\\PostgreSQL\\9.1\\bin\\\" (with quotes) at the end of PATH. The PSQL command runs, but starts by displaying:\ncould not find a \"psql\" to execute\nRunning \"heroku pg:psql DBNAME\" failed with the message \"The local psql command could not be located\".\nAfter resetting PATH to leave out the quote PSQL runs without an error, and heroku pg:psql DBNAME connects to the remote DB.\n. ",
    "Nawshine": "Hello, I am getting a similar issue, I tried to remove the quotes in the path mentioned by stprior but it didnot solve the issue. Is there any other solution or things I need to check?\nThanks\n. ",
    "arcseldon": "I have the same issue. About to check whether the quotes removal helps - running on Windows 7, and yes my path does contain spaces which I quoted due to earlier issues without the quotes.....\n. Thank you stprior, your suggestion worked.\n. ",
    "slachterman": "Make sure to restart the command shell after changing the contents of the Windows path. This solved my issue (after adding the Postgresql bin directory to my path). \n. ",
    "MrSwitch": "(for newbies) \nIn Command Prompt write:\nset PATH=%PATH%;C:\\Program Files\\PostgreSQL\\9.2\\bin\\\nChange the above directory e.g. \"C:\\Program Files\\PostgreSQL\\9.2\\\" to your installed postgresql's 'bin' directory.\nAnyone know how to get this working in the Cygwin bash terminal?\n. ",
    "gmusic": "Mine still doesn't work... but it worked on a friend's computer\n. ",
    "yloewidt": "Same problem, Windows 8. Added C:\\Program Files\\PostgreSQL\\9.3\\bin\\, didn't work.\nAdded \"C:\\Program Files\\PostgreSQL\\9.3\\bin\\\" Still didn't work.\n!    The local psql command could not be located\nWhen I run \"heroku pg:psql\"\nIt works fine.\nA clue anyone ?\nThanks\nI guess it's not relevant When I run psql in the Command Line it runs and prompt for a password I don't know(How can i retrieve it?)..\n. ",
    "albertlyu": "@yloewidt, were you ever able to solve this issue? I'm running Windows 7 and all my path variables are set up correctly, since I can access psql locally as well as run 'heroku pg:psql'. pg:ps or pg:push, no luck.\n. ",
    "adamscruggs": "I am also having this problem using Windows 8 and PG 9.3.4. Running psql at command prompt gives me the expected postgres=# prompt. However, running:\nheroku pg:push postgres_db_name HEROKU_POSTGRESQL_AMBER_URL --app myapp\nReturns \"The local psql command could not be located\". My PATH seems appropriately set up, and when I run rails console and execute this statement:\nexec \"psql\"\nI am presented with the postgres prompt. I'm looking through the code to see if I can figure out what is going on because it's a frustrating problem to have.\n. What is happening is that dump_restore_cmd in pg_dump_restore.rb returns a string like this:\nenv PGPASSWORD= PGSSLMODE=prefer pg_dump ...\nwhich is the string that's called as part of the private run function here\nruby\ndef run\n    system dump_restore_cmd\nend\nExecuting this on Windows raises Errno::ENOENT (because the Windows command line fails to find an executable called \"env\"), resulting in the error message we're seeing. I think stripping out or changing the way the environment variables are set will fix this issue. For now, I'm just going to use this to format the statement the way I need it and run pg_dump and pg_restore manually.\n. ",
    "sethlivingston": "Remove the quotes fixed my problem.\n. ",
    "mclain-c": "A reboot fixed it for me. I think because that forces cygwin to update its path.\n. ",
    "MalikRumi": "@will I am on Windows 8.1 with Postgres 9.4 on AMD64. I have Postgres in my PATH, so I no longer get 'the local psql could not be located'. However, it still does not work for me. Here is my output:\n$ PGUSER=postgres PGPASSWORD=password heroku pg:push baillee HEROKU_POSTGRESQL_\nMAROON_URL --app myapp\nPassword:\npg_dump: reading schemas\npg_dump: reading user-defined tables\n...etc...\npg_dump: saving database definition\npg_restore: [archiver] did not find magic string in file header\npg_dump: [custom archiver] could not write to output file: Invalid argument\nI just read your post on SO http://stackoverflow.com/questions/25870388/heroku-pgpull-failing-to-populate-schema. Surely there are other people on Windows who have successfully uploaded a database to Heroku. How are they doing it? Clearly I can't stay on Heroku if I can't use my database.\nI googled gen_pg_*_commands and got nothing.  This post http://www.postgresql.org/message-id/4CE6C95F.7090001@gmail.com says use psql, and not pg_restore, but that failed for me because I have to retype that long password by hand - assuming it is the right password. \n$ pg_restore -d baillee > HEROKU_POSTGRESQL_MAGENTA just sits there and blinks at me.\nPlease advise. Thanks.\n. I could not get Git Bash to accept these commands. It kept saying \"pg_dump:\ntoo many command-line arguments (first is \"-f\")\"   Is this a Windows issue?\nBut uploading to Dropbox and then restoring from there worked, so it is\nthere without all the flags. Now I have an import error so until that is\nresolved I don't really know what I have for a db. Thx.\nOn Mon, Mar 16, 2015 at 2:07 PM, Will Leinweber notifications@github.com\nwrote:\n\nI just read your post on SO\nhttp://stackoverflow.com/questions/25870388/heroku-pgpull-failing-to-populate-schema.\nSurely there are other people on Windows who have successfully uploaded a\ndatabase to Heroku. How are they doing it? Clearly I can't stay on Heroku\nif I can't use my database.\nYes, you can upload a database, you just can't use the heroku command to\ndo it.\n$ pg_restore -d baillee > HEROKU_POSTGRESQL_MAGENTA just sits there and\nblinks at me.\nPlease advise. Thanks.\nyou need to look at the full url with heroku config of the database and\nfirst use pg_dump to take a dump of your local database, and then PG_PASSWORD=\npg_restore --verbose --clean --no-acl --no-owner -h  -U  -d\n -p   if you want to restore a local dump to heroku\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/334#issuecomment-81876753.\n. @dickeyxxx Well, since you invited further comment, I will. Here is my error:\n\n`\n\u2190[0KRunning... 0.00BC:/Users/.heroku/client/lib/heroku/cli.rb:45:in': No such file or directory - stty ica\nnon echo (Errno::ENOENT)\n        from C:/Users/.heroku/client/lib/heroku/cli.rb:45:in rescue in start'\n        from C:/Users/.heroku/client/lib/heroku/cli.rb:35:instart'\n        from C:/Program Files/Heroku/bin/heroku:29:in <main>'\nTerminate batch job (Y/N)? N\n(green) PS G:\\blue\\BLUE> heroku pg:backups\n=== Backups\n !    No backups. Capture one withheroku pg:backups capture`.\n(green) PS G:\\blue\\BLUE>\n```\nThis happens when I am trying to import a database. I saw some of these issues had to do with using, or not using, a latin username. I don't think that's my issue. I am on Windows 8.1. \nThis guy  https://github.com/heroku/heroku/issues/1093  seems to have the same error but a very different fix. I look forward to your assistance. \n. Ok, it says it updated, but now I am back to my old database errors.\nOn Thu, Apr 2, 2015 at 6:18 PM, Jeff Dickey notifications@github.com\nwrote:\n\nWould you mind trying again after running heroku update? I put a small\nfix around this error.\nOn Thu, Mar 26, 2015 at 12:53 PM, MalikRumi notifications@github.com\nwrote:\n\n@dickeyxxx Well, since you invited further comment, I will. Here is my\nerror:\n\u2190[0KRunning... 0.00BC:/Users/.heroku/client/lib/heroku/cli.rb:45:in `':\nNo such file or directory - stty ica\nnon echo (Errno::ENOENT)\nfrom C:/Users/.heroku/client/lib/heroku/cli.rb:45:inrescue in start'\nfrom C:/Users/.heroku/client/lib/heroku/cli.rb:35:in start'\nfrom C:/Program Files/Heroku/bin/heroku:29:in'\nTerminate batch job (Y/N)? N\n(green) PS G:\\blue\\BLUE> heroku pg:backups\n=== Backups\n! No backups. Capture one with heroku pg:backups capture.\n(green) PS G:\\blue\\BLUE>\nThis happens when I am trying to import a database. I saw some of these\nissues had to do with using, or not using, a latin username. I don't think\nthat's my issue. I am on Windows 8.1.\nThis guy https://github.com/heroku/heroku/issues/1093 seems to have the\nsame error but a very different fix. I look forward to your assistance.\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/814#issuecomment-86689483\n\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/814#issuecomment-89075603.\n. \n",
    "PGarzoAr": "thx stprior and MrSwitch with your solutions it worked \n. ",
    "orionhybrid": "MrSwitch --thanks\n. ",
    "hsian": "@MrSwitch   thanks a lot!\n. ",
    "tonydaly": "Haha nothing is ever that easy, I'll take a look in the next day or so and sort it out.\n. ",
    "ejames": "Actually, this looks like an underlying Ruby problem that is possibly being surfaced by a setting in rake.  I've been able to get a similar issue failing to encode a French diacritic - it works when I run it from a bash script, irb, rails console, etc. but not when running a rake task:\n\nputs original_string # => \"apr\u00e8s\"\nhash[:description] = original_string\nputs hash[:description] # => \"apr\\xC3\\xA8s\"\n\nThe change happens simply when assigning from one variable to another, so it's something Ruby (1.9.2) is doing automatically.\n. ",
    "ror-infobeans": "Thanks @dblock ... thanks @geemus  :)\n. ",
    "damrbaby": "Sorry guys, but the Heroku CLI (2.26.3) is now giving me an error on bamboo when I tried to run a migration:\nheroku run rake db:migrate\nRunning rake db:migrate attached to terminal... up, run.1\n/home/matthew/.rvm/gems/ree-1.8.7-2012.02/gems/heroku-2.26.3/lib/heroku/client/rendezvous.rb:87:in fixup': undefined methodforce_encoding' for \"(in /app)\\r\\n\":String (NoMethodError)\n    from /home/matthew/.rvm/gems/ree-1.8.7-2012.02/gems/heroku-2.26.3/lib/heroku/client/rendezvous.rb:63:in start'\n    from /home/matthew/.rvm/gems/ree-1.8.7-2012.02/gems/heroku-2.26.3/lib/heroku/client/rendezvous.rb:46:inloop'\n    from /home/matthew/.rvm/gems/ree-1.8.7-2012.02/gems/heroku-2.26.3/lib/heroku/client/rendezvous.rb:46:in start'\n    from /home/matthew/.rvm/gems/ree-1.8.7-2012.02/gems/heroku-2.26.3/lib/heroku/command/run.rb:118:inrendezvous_session'\n    from /home/matthew/.rvm/gems/ree-1.8.7-2012.02/gems/heroku-2.26.3/lib/heroku/command/run.rb:104:in run_attached'\n    from /home/matthew/.rvm/gems/ree-1.8.7-2012.02/gems/heroku-2.26.3/lib/heroku/command/run.rb:21:inindex'\n    from /home/matthew/.rvm/gems/ree-1.8.7-2012.02/gems/heroku-2.26.3/lib/heroku/command.rb:167:in send'\n    from /home/matthew/.rvm/gems/ree-1.8.7-2012.02/gems/heroku-2.26.3/lib/heroku/command.rb:167:inrun'\n    from /home/matthew/.rvm/gems/ree-1.8.7-2012.02/gems/heroku-2.26.3/lib/heroku/cli.rb:9:in start'\n    from /home/matthew/.rvm/gems/ree-1.8.7-2012.02/gems/heroku-2.26.3/bin/heroku:17\n    from /home/matthew/.rvm/gems/ree-1.8.7-2012.02/bin/heroku:19:inload'\n    from /home/matthew/.rvm/gems/ree-1.8.7-2012.02/bin/heroku:19\n    from /home/matthew/.rvm/gems/ree-1.8.7-2012.02/bin/ruby_noexec_wrapper:14\n. ",
    "ryandotsmith": "Hey @jamesward, here is the issue we discovered.\n. Furthermore, the error message (Resource not found) is quite frustrating. Whats a resource and why couldn't you find it!?\n. This was a nasty regression. It made our platform less erosion resistant. Any plans on ensuring that it won't regress again?\n. ",
    "sheymann": "I have the same issue on Windows, using Pageant.\n. Thanks, it worked.\n. ",
    "daneharrigan": "Linking #358\n. Closing the issue because it is being addressed in the linked issue/pull request.\n. It is broad, but the method is for display purposes. I don't think anyone wants to see %20 when they're expecting a space or %2E when they're expecting a dot.\n. Good points. Closing pull request\n. ",
    "clacke": "Fails on ruby 1.8, where it also is not needed,\nbecause 'asdf'[2] == 'd'.\nFor inspiration, see:\nhttps://github.com/heroku/heroku/blob/master/lib/vendor/heroku/okjson.rb\n. Awesome. One T-shirt per LOC is definitely above my usual fee. ;-)\n. Why was this not caught by Travis?\nI would have added a regression test, but decided to fix it first before diving into how you have set things up.\n. ",
    "erf": "i used the toolbelt windows installer.\n2012/6/1 Phil Hagelberg\nreply@reply.github.com:\n\nDid you install using the toolbelt or rubygems?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/348#issuecomment-6066282\n. it does work with the git-shell..\n. 2012/6/6 Phil Hagelberg\nreply@reply.github.com:\nVery strange. What does echo %PATH% say?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/348#issuecomment-6139268\n\nC:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\Common F\niles\\Microsoft Shared\\Windows Live;C:\\Program Files (x86)\\Common Files\\Microsoft\n Shared\\Windows Live;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\\nWindows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\ATI Technologies\n\\ATI.ACE\\Core-Static;C:\\Program Files (x86)\\Windows Live\\Shared;D:\\mongodb\\bin;C\n:\\Program Files (x86)\\Heroku;C:\\Program Files (x86)\\git\\bin;C:\\Program Files (x8\n6)\\git\\cmd;C:\\Program Files (x86)\\Git\\cmd;C:\\Program Files (x86)\\Heroku\\bin;C:\\P\nrogram Files (x86)\\ruby-1.9.3\\bin;C:\\Users\\ab\\AppData\\Roaming\\npm;C:\\Program Fil\nes (x86)\\nodejs\\;C:\\Program Files (x86)\\QuickTime\\QTSystem\\\n. The heroku path IS correct, and when i'm in that path it works to\nwrite heroku but not else..\n2012/6/6 Erlend erlendf80@gmail.com:\n\n2012/6/6 Phil Hagelberg\nreply@reply.github.com:\n\nVery strange. What does echo %PATH% say?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/348#issuecomment-6139268\n\nC:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\Common F\niles\\Microsoft Shared\\Windows Live;C:\\Program Files (x86)\\Common Files\\Microsoft\n\u00a0Shared\\Windows Live;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\\nWindows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\ATI Technologies\n\\ATI.ACE\\Core-Static;C:\\Program Files (x86)\\Windows Live\\Shared;D:\\mongodb\\bin;C\n:\\Program Files (x86)\\Heroku;C:\\Program Files (x86)\\git\\bin;C:\\Program Files (x8\n6)\\git\\cmd;C:\\Program Files (x86)\\Git\\cmd;C:\\Program Files (x86)\\Heroku\\bin;C:\\P\nrogram Files (x86)\\ruby-1.9.3\\bin;C:\\Users\\ab\\AppData\\Roaming\\npm;C:\\Program Fil\nes (x86)\\nodejs\\;C:\\Program Files (x86)\\QuickTime\\QTSystem\\\n. \n",
    "mmcgrana": "Hmmmmmm:\n``` bash\n$ gem uninstall heroku -v 2.26.5\nSuccessfully uninstalled heroku-2.26.5\n$ heroku addons:add heroku-postgresql:ika -a ion-mark\nAdding heroku-postgresql:ika to ion-mark... done, v11 ($800/mo)\nAttached as HEROKU_POSTGRESQL_ROSE\nThe database should be available in 3-5 minutes\nUse heroku pg:wait to track status\nheroku-postgresql:ika documentation available at: https://devcenter.heroku.com/articles/heroku-postgresql\n$ heroku version\n2.26.3\n```\n. Also:\n``` bash\n$ heroku pg:info -a elbssl-production\n !    Resource not found\n$ heroku addons -a elbssl-production\n=== elbssl-production Configured Add-ons\nheroku-postgresql:ika   HEROKU_POSTGRESQL_BROWN\nheroku-postgresql:ika   HEROKU_POSTGRESQL_WHITE\nshared-database:5mb\nssl:endpoint\n```\nInfo:\nbash\n$ heroku version\n2.26.6\n. This might be API related, we seem to get similar errors with older versions of the client.\n. @geemus good question. @pedro owns this API.\n. Reproduced with the 2.27.1 gem client as well.\n. @geemus o humm actually this stacktrace isn't a top-level exception, it's caught and displayed explicitly for debugging. So maybe it does make sense. The other possibility would be something like:\nbash\n$ heroku login\n !     Error: unable to connect to Heroku API at api.not-a-heroku-domain.com.\nDon't feel strongly about that though.\n. Interesting, IIUC the purpose was to be able to programmatically take the output of heroku config and apply it to local processes:\nbash\n$ heroku config -s -a canary-production > .env\n$ export $(cat .env)\n$ bundle exec bin/in-app-env\nor \nbash\n$ heroku config -s -a canary-production > .env\n$ forman run bundle exec bin/in-app-env\n. I manually re-installed the toolbelt from toolbelt.heroku.com and now this error is gone - I must have had a bad local setup.\n. Interesting re: global option. Here it makes good sense to coerce. Are there other cases like this (commands where -a doesn't appear in the heroku help <command> usage) and if so should they be considered as well?\n. @geemus yes the new toolbelt install fixed it - thanks.\n. @geemus hmm I actually don't feel strongly about the particulars of the output here - I defer totally to you, @kr, and @ddollar on the design. Whatever it is it / for whatever commands it should be accurately reflected in the help output, that's all I was noting.\n. bash\n$ heroku version\nheroku-toolbelt/2.30.1 (universal-darwin11.0) ruby/1.8.7\n. An example of where this already works as expected:\n``` bash\n$ heroku help status\nUsage: heroku status\ndisplay current status of Heroku platform\nExample:\n$ heroku status\n === Heroku Status\n Development: No known issues at this time.\n Production:  No known issues at this time.\n``\n. The capitalization of the top-levelcerts` help is could also probably be normalized with the others:\nbash\n$ heroku help | grep certs\n  certs        #  manage SSL Endpoints for an app\n. @wuputah yes.\n. @geemus ah I see.\nYeah perhaps it makes sense to hide & disable the update command on autoupdate clients, and print a message if someone happens to type heroku update.\n. I patiently await the auotupdate that brings my machine this new feature!\nOn Mon, Sep 17, 2012 at 1:16 PM, Wesley Beary notifications@github.comwrote:\n\nCurrent message:\n!    heroku update has been disabled in favor of autoupdate.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/570#issuecomment-8629188.\n. @ddollar if you do decide to update this let's coordinate on a changelog entry.\n. Cool - could you please update https://devcenter.heroku.com/articles/labs to reflect this when this is released?\n. Also should update the text here: https://devcenter.heroku.com/articles/logging#syslog-drains.\n\nIt doesn't reflect either the current or desired behavior. I can handle that if you'd like.\n. It was happening every time before, now the last few times I've tried it's not happening. DNS right now:\nconsole\n$ host api.heroku.com\napi.heroku.com is an alias for api-default.herokussl.com.\napi-default.herokussl.com is an alias for elb013951-2081682805.us-east-1.elb.amazonaws.com.\nelb013951-2081682805.us-east-1.elb.amazonaws.com has address 54.243.92.24\nelb013951-2081682805.us-east-1.elb.amazonaws.com has address 23.21.121.242\nelb013951-2081682805.us-east-1.elb.amazonaws.com has address 54.243.165.220\nelb013951-2081682805.us-east-1.elb.amazonaws.com has address 54.243.166.28\n. I don't think so?\nconsole\n$ cat ~/.netrc | grep -A2 api.heroku.com | sed 's/password .*/password xxx/'\nmachine api.heroku.com\n  login mark@heroku.com\n  password xxx\n. It was because I had HEROKU_API_SET:\nhttps://github.com/heroku/heroku/blob/e68fcfa99e32e10780ab12d692c842ff63cd8e8a/lib/heroku/auth.rb#L132\n. I'm going to close this due to inactivity, but welcome any who's interested\nto run with it.\n. I repro'd this as well, on:\nconsole\n$ heroku version\nheroku-toolbelt/2.33.4 (x86_64-darwin10.8.0) ruby/1.9.3\n. Sent. I had 2 plugins that copy-pasted Run#index and Run#run_attached though, so other users with them won't get the benefit until those plugins land in the client.\n. Ref #655.\n. To reproduce:\nconsole\n~ $ heroku create test-logs\nCreating test-logs... done, stack is cedar\nhttp://test-logs.herokuapp.com/ | git@heroku.com:test-logs.git\n~ $ heroku run:detached 'echo \"a[1]: b\"' -a test-logs\nRunning `echo \"a[1]: b\"` detached... up, run.8635\nUse `heroku logs -p run.8635` to view the output.\n~ $ heroku logs -a test-logs\n2013-01-07T14:02:45+00:00 heroku[api]: Enable Logplex by mark@heroku.com\n2013-01-07T14:02:45+00:00 heroku[api]: Release v2 created by mark@heroku.com\n2013-01-07T14:03:19+00:00 heroku[api]: Starting process with command `echo \"a[1]: b\"` by mark@heroku.com\n2013-01-07T14:03:22+00:00 heroku[run.8635]: Starting process with command `echo \"a[1]: b\"`\n2013-01-07T14:03:22+00:00 app[run.8635]: a[1]: b\n2013-01-07T14:03:23+00:00 heroku[run.8635]: Process exited with status 0\n2013-01-07T14:03:23+00:00 heroku[run.8635]: State changed from starting to complete\n. The text \" a[1]: b\" should all be white, not just \" b\", because all of \"\na[1]: b\" is user app output.\nOn Mon, Jan 7, 2013 at 6:30 AM, Clint notifications@github.com wrote:\n\nI ran that a couple times, can you clarify the coloration issue in my\nscreen shot? The a[1]: part stands out but I'm not sure I'm seeing the\nissue in this example. It's apparent in your screen shot though ;)\n[image: Screen Shot 2013-01-07 at 8 27 41 AM]https://f.cloud.github.com/assets/61721/47491/93c96f66-58d6-11e2-9111-5faf35a55439.png\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/669#issuecomment-11953352.\n. OK I think I fixed it will let Travis confirm.\n. @ddollar looks good to go.\n. @wuputah I'm not immediately sure, sorry. We've definitely had issues of this shape in earlier versions of heroku run. Even the current one isn't really great for Unix pipelines, as examples like this show.\n. Closing as stale.\n. @rwdaigle to see the API calls going out you can use:\n\nconsole\n$ RESTCLIENT_LOG=stdout EXCON_DEBUG=1 heroku ...\n. The fork top-level help should probably match it's detail help. Perhaps fork   # fork an existing app:\n``` console\n$ bundle exec bin/heroku help | grep fork\n  fork         #  clone an existing app\n$ bundle exec bin/heroku help fork\nUsage: heroku fork [NEWNAME]\nFork an existing app -- copy config vars and Heroku Postgres data, and re-provision add-ons to a new app.\n New app name should not be an existing app. The new app will be created as part of the forking process.\n-s, --stack  STACK   # specify a stack\n``\n. I was surprised that the--region ey` type didn't cause an error?\nconsole\n$ bundle exec bin/heroku fork --app dataclips-mark dataclips-mark-eu --region ey\nCreating fork dataclips-mark-eu... done\nCopying slug... done\n. @rwdaigle is --region meant to work with the new built-in heroku fork?\n. Got this error trying to fork dataclips-mark. It might have to do with attachable resources?\nconsole\n$ bundle exec bin/heroku fork --app dataclips-mark dataclips-mark-forked\nCreating fork dataclips-mark-forked... done\nCopying slug... done\nAdding airbrake:developer... done\nAdding newrelic:standard... done\nAdding pgbackups:plus... done\nAdding sendgrid:starter... done\nAdding securekey:fortnightly... done\nAdding heroku-postgresql:dev... done\nCreating database backup from dataclips-mark... failed\n !    invalid format\n !    from_url or to_url must be a postgres URL\n !    invalid format\n. > I had that originally - but don't like using a word to define itself?\nAh right, makes sense.\n. Should we close this @dickeyxxx? Not sure what happened to the PR but I'm not sure it's relevant anymore.\n. Also the exit code seems wrong:\n``` console\n$ heroku keys\n=== mark@heroku.com Keys\nssh-rsa AAAAB3NzaC...+O4IohQNbb mmcgrana@epsilon\n$ heroku keys:clear\nRemoving all SSH keys... done\n$ heroku keys:add\n$ echo $?\n0\n$ heroku keys\nYou have no keys.\n```\n. ",
    "DevL": "I was hit by this too. Downgrading to 2.26.3 is a workaround (thanks mmcgrana).\n. And it works. Awesome, thanks!\n. ",
    "mslinn": "Thanks! When will that be?\nMike\n. I'm using toolbelt, and I can wait for you to return.\nMany thanks!\nMike\n. ",
    "mmcc": "This was a problem I noticed last Friday, so I just didn't do anything thinking an update might come that would solve the issue. When I ran update before I did anything it updated to 2.26.6 (from 2.26.3), but the problem persisted. I did it again just for kicks, though. \n$ heroku update\n----> Updating from 2.26.6... done, updated to 2.26.6\n$ heroku run rake db:migrate\n/Users/Matt/.heroku/client/lib/heroku/command/run.rb:99:in `action': wrong number of arguments (2 for 1) (ArgumentError)\nfrom /Users/Matt/.heroku/client/lib/heroku/command/run.rb:99:in `run_attached'\nfrom /Users/Matt/.heroku/client/lib/heroku/command/run.rb:21:in `index'\nfrom /Users/Matt/.heroku/client/lib/heroku/command.rb:176:in `send'\nfrom /Users/Matt/.heroku/client/lib/heroku/command.rb:176:in `run'\nfrom /Users/Matt/.heroku/client/lib/heroku/cli.rb:9:in `start'\nfrom /usr/bin/heroku:28\n. That did the trick! I definitely should have tried that in the first place, but I just assumed the update should have taken care of anything reinstalling would. Thanks for the help!\n. ",
    "dakimaru": "This is how it looks like when it's complete. In fact, it gives me an error.\nWriting objects: 100% (6972/6972), 22.66 MiB | 80 KiB/s, done.\nTotal 6972 (delta 982), reused 0 (delta 0)\n-----> Heroku receiving push\n-----> Ruby/Rails app detected\n-----> Installing dependencies using Bundler version 1.2.0.pre\n       Running: bundle install --without development:test --path vendor/bundle --binstubs bin/ --deployment\n       You are trying to install in deployment mode after changing\n       your Gemfile. Runbundle installelsewhere and add the\n       updated Gemfile.lock to version control.\n       You have deleted from the Gemfile:\n       * rb-fsevent\n !\n !     Failed to install gems via Bundler.\n !\n !     Heroku push rejected, failed to compile Ruby/rails app\nTo git@heroku.com:gothic1234.git\n ! [remote rejected] master -> master (pre-receive hook declined)\nerror: failed to push some refs to 'git@heroku.com:gothic1234.git'\n. Thank you for your advise. my .gitignore file is below. So if I just do git push heroku, would it push the Gemfile.lock as well? Or is there a special operation I need to follow?\nAs for the time, it used to be around 1 minute, now it's around 15.\n/.bundle\n/db/*.sqlite3\n/log/*.log\n/tmp\ndoc/\n*.swp\n*~\n.project\n.DS_Store\nbundler_stubs/```\n. I have inspected my files, and it seems like it pushes there files in vendor/bundler (working in rails). This is the only file that has that many thousands of files inside it. I saw other peoples push, which have usually less than 100 itesm, but mine has close to 7K. I put the bundler folder in gitignore, and tired to push again, but still it has 7K files. What can I do?\nIs it possible to clean up the repository of heroku once, and then push anew?\n. I solved this issue. Thank you. I don't really understand why this did the job, but the only thing required was to use git rm Gemfile.lock and then to do ```git push heroku.  And it worked!\nThen I did bundle install and the Gemfile.lock reappeared. Then I pushed to heroku again, and it worked really quickly. no more 15 min waiting. Thank you for your help.\n. ",
    "adarsh": "I am now experiencing this issue. I believe adding Gemfile.lock to the .gitignore file set this off.\nRegenerating the lockfile and committing is not resolving this issue. Any suggestions?\n. ",
    "parov": "Same issue. This morning was working well. Then it say:\nCounting objects: 77, done.\nDelta compression using up to 2 threads.\nCompressing objects: 100% (59/59), done.\nWriting objects:  46% (38/59), 392.00 KiB | 51 KiB/s \nand goes too slow. I reboot my machine and now it stops before 46%:\nCounting objects: 77, done.\nDelta compression using up to 2 threads.\nCompressing objects: 100% (59/59), done.\nWriting objects:  38% (23/59), 2.66 MiB | 40 KiB/s\nTried \"git rm Gemfile.lock\" and git push heroku but there's the same issue.\n. ",
    "Guzim": "Same for me. Deploy takes forever. ",
    "ransombriggs": "@Guzim this may be due to an incident right now with the heroku platform (https://status.heroku.com/), I will update this issue once the incident is over so that you can try again.. @Guzim could you try your deploy again, the incident appears to have been fully resolved.. @GoncaloPT do you connect through a SOCKS proxy?\n. @gsanjeevkumar are you able to visit https://api.heroku.com/login ?  It sounds like the user that previously reported this issue may have had network problems.\n. Export HTTP_PROXY and HTTPS_PROXY then try again.\n. @gsanjeevkumar ^^^ (just making sure you get notified)\n. @rnradon what version of linux are you running?  Could you paste in the contents of the following commands which should help me try and recreate that error.\nuname -a\ncat /etc/lsb-release. @rnradon could you try running the command again?  I have some leads and knowing if this is intermittent or always happening will help me track things down better.. @rnradon could you also include the output of the following command?  I am trying to figure out if this is an architecture support issue, or if it is a programming bug.\ncat /proc/cpuinfo. @Sevcansevcan this is almost always a DNS issue, since this issue appears to be against very old code, would you mind pasting the error you receive currently, as well as the output of heroku version?. @rochapablo Are you using cygwin or git bash or cmd.exe?\n. @1eandro Sorry for the late response, but can you paste the output of heroku version and the output from heroku login (I am assuming you were getting this error when you ran heroku login, but if it is from a different command, you can run that instead).\n. This is a known issue with heroku login and cygwin or git bash heroku/heroku-cli#84 .  I am not sure why you did not receive the more helpful error message Login is currently incompatible with git bash/Cygwin but the underlying problem is that we cannot turn off echo easily for the password prompt as stdin is not a tty, but a pipe.\n. @matalonga The location of the windows cmd depends on your version of Windows, but usually it is under Start Menu -> All Programs -> Accessories -> Command Prompt.  If you open that up and run heroku login it should succeed as expected.  This will log you in and save your API token to your filesystem, at which point you can switch back to git bash if you wish to.\n. @Hanamant-Kadlimatti what command are you trying to run?\n. @jvbreen1 Can you paste in the error that you are receiving?  As this issue is outdated, I suspect you are getting an error at a different spot in the toolbelt execution, and I want to make sure my suggestion works for you using the current version of the toolbelt.\nIf you are getting this exact error, could you please try setting ENV['SSL_CERT\n_DIR'] = path_to_certs or ENV['SSL_CERT_FILE'] = path_to_file for the certificate authority that your proxy server uses to sign certificates?\n. Closing issue due to the fact that heroku login is no longer in the Ruby code so this will not fail in this way anymore.\n. @acmisiti what is the output of heroku version?\n. @acdcjunior Could you please run heroku update and try again?  I just shipped an update that should fix your issue.\n. @acdcjunior Could you please install the current version from https://toolbelt.heroku.com/ ?\n. @pre Could you try running the following?\ncat FILENAME | heroku run --no-tty rake db:seed:TASKNAME\nThe heroku run command by default runs in a terminal, adding the --no-tty will force it to not run in a tty.  The reason it hangs in a tty is due to some buffering issues that we found that users were hitting around 4k of input.  I wanted to automatically enable this flag, but we cannot reliably detect a tty on all platforms (specifically cygwin on Windows)\n. @burrellg - Could you please run heroku update and try again?  I sent out a release on Friday that should have fixed this problem.\n. @seanjb this is a known issue that I am currently working on\n. @dipacs @marhw @viellepeau @seanjb If you are still having issues, could you please reinstall the toolbelt from https://toolbelt.heroku.com/ and try again, it should work now.\n. @abhinav118 Could you file a ticket at support.heroku.com ?  It can then be handled by the proper team within heroku. \n. @rneha725 If increasing the timeout does not help, you may want to have your sysadmin check your proxy logs, the proxy server is another place at which this could happen.\n. @ichar I just pushed an update to https://toolbelt.heroku.com/ that should fix your problem with a windows username in cyrillics\n. @Matroskin94 I just pushed an update to https://toolbelt.heroku.com/ that should fix your problem with a windows username in cyrillics\n. Could you please paste in the characters from your username in a comment here?  It will help me more accurately reproduce your issue in my Windows environment.  In the meantime, if you have a user account with a username that can be converted to window-1252, you could work with that account in the meantime, while I work on fixing your bug.  (Here is the code that is actively failing - File.join(ENV['LOCALAPPDATA'], 'heroku').encode('windows-1252'))\n. @H-CLo I just shipped a fix for various character encoding issues, could you please download the toolbelt and install again?\n. Could you please try this again?  It sounds like it could have been a temporary network error.\n. Could you please try running the command again (it may have been a bad download) and if it does not work, attach the command you are attempting to run as well as the output of heroku version\n. @mhutter The download URLs are available here: https://cli-assets.heroku.com/master/manifest.json .  For your platform, you would want to download https://cli-assets.heroku.com/master/4.27.23-df3c8ac/linux/amd64/heroku-cli and verify it matches the SHA 49f642ecd566dca9222d742bba2e785552c5e4e2 .  Assuming a proper download, you would want to drop it in ~/.heroku/heroku-cli.  In the future you may get errors when you try and update again, please let me know if you do and I can help you debug this.\n. @mhutter Do you happen to know what software your corporate proxy uses?  I have an extra computer with ubuntu that I was going to use as a proxy server so I can recreate proxy issues people have encountered, but want to make sure I match what people are experiencing.\n. @mhutter Thanks for letting us know.  We have started work on integrating the OS certificates better so that other people do no encounter the same issue.\n. What version of Windows are you running?\n. Could you also open up the Windows Task Manager, go to the Processes tab and manually end the processes named heroku-cli.exe.  After all of them are cleared out can you attempt running heroku login again?\n. Could you please do me a favor and rerun the command with set GODE_DEBUG=silly set before you run the command and send us the result?  This will not fix things, but should help us get more information to help debug your problem. \n. Thanks a lot for your help in debugging this, it has given me an idea what direction to look.\n. @leonkidd Could you please set GODE_DEBUG=info and set HEROKU_DEBUG=1 and paste your output?\n. @leonkidd are you behind a network proxy?\n. @leonkidd Windows Firewall or Antivirus software can block connections in this manner, do you have either installed / running?  Also, what version of Windows are you running?  I would like to try and reproduce this locally.\n. @leonkidd sorry, your last message was not totally clear, is everything working for you right now?\n. @dickeyxxx do you have a recommendation for what can replace launchy in node?  I was thinking maybe this, but have not looked at it super deeply yet - https://www.npmjs.com/package/open\n. That does look better, thanks.\n. Could you try running heroku update again and pasting the output of that command, and the relevant output from .heroku/error.log as well?\n. Sorry, but could you please try one more time, the second error is related to the first.  There is a download that the client is trying to pull that had issues yesterday, and that we are still investigating, but it appears to be working better now.  Please let us know if it does not work now.\n. I went ahead and removed the one failing test in master, closing.\n. What platform are you on?\n. Could you please add the contents of ~/.heroku/error.log as well?  I am installing ubuntu now to try and reproduce the error myself.\n. Someone else had this issue as well and ~/.heroku/error.log was not very helpful.  Instead, could you please include the output of heroku version and attach the contents of ~/.heroku/plugin-cache.json ?\n. @jimmckerchar I was able to recreate this bug with the file from a separate issue, so do not worry about sending me the file anymore.  I should have what I need to fix this.\n. @jimmckerchar - yeah, we debugged this together, and his fix removed the problem for me as well.  One thing I should mention is that if you manually installed any plugins, you will have to reinstall them after heroku updates.  I will go ahead and close this issue.  @mcramm if this does not fix the problem for you, feel free to reopen.\n. This is a hidden command, basically to help guide a burndown list / measure process, it is not something we intend to support. \n. @dickeyxxx sure thing, I should be able to do that during my Heroku Academy meeting\n. @craigkerstiens sure thing, will add this as a flag.  Is having the percentages at the bottom a problem, or should that be at the top?\n. @dickeyxxx thanks, I will fix the default commands\n. ```\n-> % heroku plugins:commands\nCommand                            Type  Plugin\n\n2fa                                go  \n2fa:disable                        go  \n2fa:generate-recovery-codes        go  \naddons                             node  heroku-cli-addons\naddons:attach                      ruby\naddons:create                      ruby\naddons:destroy                     ruby\naddons:detach                      ruby\naddons:docs                        ruby\naddons:downgrade                   ruby\naddons:info                        node  heroku-cli-addons\naddons:open                        ruby\naddons:plans                       ruby\naddons:rename                      node  heroku-cli-addons\naddons:services                    ruby\naddons:upgrade                     ruby\napps                               ruby\napps:create                        ruby\napps:destroy                       ruby\napps:downgrade                     ruby\napps:info                          node  heroku-apps\napps:join                          ruby\napps:leave                         ruby\napps:lock                          ruby\napps:open                          ruby\napps:rename                        ruby\napps:unlock                        ruby\napps:upgrade                       ruby\nauth                               go  \nauth:login                         go  \nauth:logout                        ruby\nauth:token                         go  \nauth:whoami                        go  \nbuildpacks                         node  heroku-apps\nbuildpacks:add                     node  heroku-apps\nbuildpacks:clear                   node  heroku-apps\nbuildpacks:remove                  node  heroku-apps\nbuildpacks:set                     node  heroku-apps\ncerts                              ruby\ncerts:add                          ruby\ncerts:chain                        ruby\ncerts:generate                     ruby\ncerts:info                         ruby\ncerts:key                          ruby\ncerts:remove                       ruby\ncerts:rollback                     ruby\ncerts:update                       ruby\ncommands                           go  \nconfig                             node  heroku-apps\nconfig:add                         node  heroku-apps\nconfig:get                         node  heroku-apps\nconfig:set                         node  heroku-apps\nconfig:unset                       node  heroku-apps\ndebug:errlog                       go  \ndomains                            ruby\ndomains:add                        ruby\ndomains:clear                      ruby\ndomains:remove                     ruby\ndrains                             ruby\ndrains:add                         ruby\ndrains:remove                      ruby\nfeatures                           ruby\nfeatures:disable                   ruby\nfeatures:enable                    ruby\nfeatures:info                      ruby\nfork                               node  heroku-fork\ngit:clone                          node  heroku-git\ngit:remote                         node  heroku-git\nhelp                               ruby\ninfo                               node  heroku-apps\nkeys                               ruby\nkeys:add                           ruby\nkeys:clear                         ruby\nkeys:remove                        ruby\nlabs                               ruby\nlabs:disable                       ruby\nlabs:enable                        ruby\nlabs:info                          ruby\nlocal                              node  heroku-local\nlocal:run                          node  heroku-local\nlocal:start                        node  heroku-local\nlocal:version                      node  heroku-local\nlogin                              go  \nlogs                               ruby\nlogs:drains                        ruby\nmaintenance                        node  heroku-apps\nmaintenance:off                    node  heroku-apps\nmaintenance:on                     node  heroku-apps\nmembers                            ruby\nmembers:add                        ruby\nmembers:remove                     ruby\nmembers:set                        ruby\norgs                               ruby\norgs:default                       ruby\norgs:open                          ruby\npg                                 ruby\npg:backups                         ruby\npg:copy                            ruby\npg:credentials                     ruby\npg:diagnose                        ruby\npg:info                            ruby\npg:kill                            ruby\npg:killall                         ruby\npg:links                           ruby\npg:maintenance                     ruby\npg:promote                         ruby\npg:ps                              ruby\npg:psql                            ruby\npg:pull                            ruby\npg:push                            ruby\npg:reset                           ruby\npg:unfollow                        ruby\npg:upgrade                         ruby\npg:wait                            ruby\npgbackups                          ruby\npgbackups:capture                  ruby\npgbackups:destroy                  ruby\npgbackups:restore                  ruby\npgbackups:transfer                 ruby\npgbackups:url                      ruby\nplugins                            go  \nplugins:commands                   ruby\nplugins:install                    go  \nplugins:link                       go  \nplugins:uninstall                  go  \nplugins:update                     ruby\nps                                 node  heroku-apps\nps:dynos                           ruby\nps:resize                          ruby\nps:restart                         ruby\nps:scale                           ruby\nps:stop                            ruby\nps:type                            ruby\nps:workers                         ruby\nregions                            ruby\nreleases                           ruby\nreleases:info                      ruby\nreleases:rollback                  ruby\nrun                                node  heroku-run\nrun:console                        ruby\nrun:detached                       ruby\nrun:rake                           ruby\nsharing                            ruby\nsharing:add                        ruby\nsharing:remove                     ruby\nsharing:transfer                   ruby\nstack                              node  heroku-apps\nstack:set                          node  heroku-apps\nstatus                             node  heroku-status\ntwofactor                          go  \ntwofactor:disable                  go  \ntwofactor:generate-recovery-codes  go  \nupdate                             go  \nupdate:beta                        ruby\nversion                            go  \nwhich                              go  \n============\n% go: 0.13\n% node: 0.19\n% ruby: 0.68\n.\n-> % ./bin/heroku plugins:commands --csv\nCommand,Type,Plugin\n2fa,go,\n2fa:disable,go,\n2fa:generate-recovery-codes,go,\naddons,node,heroku-cli-addons\naddons:attach,ruby,\naddons:create,ruby,\naddons:destroy,ruby,\naddons:detach,ruby,\naddons:docs,ruby,\naddons:downgrade,ruby,\naddons:info,node,heroku-cli-addons\naddons:open,ruby,\naddons:plans,ruby,\naddons:rename,node,heroku-cli-addons\naddons:services,ruby,\naddons:upgrade,ruby,\napps,ruby,\napps:create,ruby,\napps:destroy,ruby,\napps:downgrade,ruby,\napps:info,node,heroku-apps\napps:join,ruby,\napps:leave,ruby,\napps:lock,ruby,\napps:open,ruby,\napps:rename,ruby,\napps:unlock,ruby,\napps:upgrade,ruby,\nauth,go,\nauth:login,go,\nauth:logout,ruby,\nauth:token,go,\nauth:whoami,go,\nbuildpacks,node,heroku-apps\nbuildpacks:add,node,heroku-apps\nbuildpacks:clear,node,heroku-apps\nbuildpacks:remove,node,heroku-apps\nbuildpacks:set,node,heroku-apps\ncerts,ruby,\ncerts:add,ruby,\ncerts:chain,ruby,\ncerts:generate,ruby,\ncerts:info,ruby,\ncerts:key,ruby,\ncerts:remove,ruby,\ncerts:rollback,ruby,\ncerts:update,ruby,\ncommands,go,\nconfig,node,heroku-apps\nconfig:add,node,heroku-apps\nconfig:get,node,heroku-apps\nconfig:set,node,heroku-apps\nconfig:unset,node,heroku-apps\ndebug:errlog,go,\ndomains,ruby,\ndomains:add,ruby,\ndomains:clear,ruby,\ndomains:remove,ruby,\ndrains,ruby,\ndrains:add,ruby,\ndrains:remove,ruby,\nfeatures,ruby,\nfeatures:disable,ruby,\nfeatures:enable,ruby,\nfeatures:info,ruby,\nfork,node,heroku-fork\ngit:clone,node,heroku-git\ngit:remote,node,heroku-git\nhelp,ruby,\ninfo,node,heroku-apps\nkeys,ruby,\nkeys:add,ruby,\nkeys:clear,ruby,\nkeys:remove,ruby,\nlabs,ruby,\nlabs:disable,ruby,\nlabs:enable,ruby,\nlabs:info,ruby,\nlocal,node,heroku-local\nlocal:run,node,heroku-local\nlocal:start,node,heroku-local\nlocal:version,node,heroku-local\nlogin,go,\nlogs,ruby,\nlogs:drains,ruby,\nmaintenance,node,heroku-apps\nmaintenance:off,node,heroku-apps\nmaintenance:on,node,heroku-apps\nmembers,ruby,\nmembers:add,ruby,\nmembers:remove,ruby,\nmembers:set,ruby,\norgs,ruby,\norgs:default,ruby,\norgs:open,ruby,\npg,ruby,\npg:backups,ruby,\npg:copy,ruby,\npg:credentials,ruby,\npg:diagnose,ruby,\npg:info,ruby,\npg:kill,ruby,\npg:killall,ruby,\npg:links,ruby,\npg:maintenance,ruby,\npg:promote,ruby,\npg:ps,ruby,\npg:psql,ruby,\npg:pull,ruby,\npg:push,ruby,\npg:reset,ruby,\npg:unfollow,ruby,\npg:upgrade,ruby,\npg:wait,ruby,\npgbackups,ruby,\npgbackups:capture,ruby,\npgbackups:destroy,ruby,\npgbackups:restore,ruby,\npgbackups:transfer,ruby,\npgbackups:url,ruby,\nplugins,go,\nplugins:commands,ruby,\nplugins:install,go,\nplugins:link,go,\nplugins:uninstall,go,\nplugins:update,ruby,\nps,node,heroku-apps\nps:dynos,ruby,\nps:resize,ruby,\nps:restart,ruby,\nps:scale,ruby,\nps:stop,ruby,\nps:type,ruby,\nps:workers,ruby,\nregions,ruby,\nreleases,ruby,\nreleases:info,ruby,\nreleases:rollback,ruby,\nrun,node,heroku-run\nrun:console,ruby,\nrun:detached,ruby,\nrun:rake,ruby,\nsharing,ruby,\nsharing:add,ruby,\nsharing:remove,ruby,\nsharing:transfer,ruby,\nstack,node,heroku-apps\nstack:set,node,heroku-apps\nstatus,node,heroku-status\ntwofactor,go,\ntwofactor:disable,go,\ntwofactor:generate-recovery-codes,go,\nupdate,go,\nupdate:beta,ruby,\nversion,go,\nwhich,go,\nType,Percentage\ngo,0.13\nnode,0.19\nruby,0.68\n```\n. I posted the updated output formatting, as well as an example of the CSV output\n@dickeyxxx Could you check the order and the default commands?\n@craigkerstiens I added a csv flag so you can import easily, does this format work for you?\n. @dickeyxxx I went ahead and changed the percentages to counts\n```\nType  Count\n\ngo    20\nnode  30\nruby  106\n```\nand \nType,Count\ngo,20\nnode,30\nruby,106\n. Could you check if you have any npm_config environment variables set (env | grep -i npm_config_)?\n. @bdqnghi I just had this problem as well, and was related to what @dickeyxxx has suggested, but can manifest itself in one of two ways.  The first thing we need you to do is paste the output of heroku version so that we can make sure we give you the proper instructions.\n. @noortotah Sorry for the delayed response.  Are you calling pg:copy with both SOURCE and TARGET using the format postgres:// ?  Also, what is your app name?  (available from heroku apps:info)  I can take a look at your setup and try and give you a solution, because I think I can see the bug right now and this extra info will help me confirm.\n. @frederick036 The colors refers to the config vars that are used for attached databases like HEROKU_POSTGRESQL_WHITE.  If you use config vars to specify one the heroku database urls, then the copy should work.\n. @dickeyxxx review?\n. lgtm\n. @dickeyxxx please review\n. I shipped an emergency fix this morning for a bug I released yesterday, could you please run heroku update and try again?\n. @dickeyxxx please review\n. @AndrewKoliaka are you behind a proxy server?\n. @AndrewKoliaka Could you please set https_proxy as well?\n. @AndrewKoliaka sorry for the late reply, but it appears that you have set the proxy server variable to the proxy server listed in the proxy server instructions.  Could you please set that to your local proxy server and try again?\n. @webbtj I have been trying to recreate this issue on my own machine without much luck.  Could you check for def self.netrc_filename inside /usr/local/heroku/vendor/gems/netrc-0.10.3/lib/netrc.rb?  If this is defined in the netrc library that is packaged as part of the toolbelt, then it would point to another issue, possibly load path related.\n. @wheredidjupark Could you please attach the directory listing of /usr/local/heroku/vendor/gems?\n. @webbtj thanks for your help debugging this, it has been helpful in revealing a bug in our installer.\n. @ryanwalters Sorry for the delayed response, but I think this may be a variation on issues from here heroku/heroku-cli#84 .  Could you try running heroku login from the Command Prompt rather than mingw and see if that works?  If it does, then you can switch back to mingw and continue working.  There are known issues with heroku login and mingw.  The root cause of this problem is that stdin is not a real terminal, so we cannot turn off the echo during the password request.\n. @ryanwalters Are you running BitDefender antivirus software, a user encountered an error like this who had BitDefender installed, which started blocking this executable.\n. @evictor Right now the exit code from the command is passed back without the --exit-code flag.  Are you wanting this for consistency, where the command would accept the flag but do nothing different?  Or is there something else you expect to happen?\n-> % heroku local:run python -c \"exit(2)\"\n[WARN] No ENV file found\nrbriggs@ebriggs-ltm [11:14:14] [~/src/github.com/heroku/heroku-local] [master]\n-> % echo $?\n2\nrbriggs@ebriggs-ltm [11:14:16]\n. @evictor Did not notice that your request was fairly old, the command has changed since then and it should be exiting with the proper code now.\n@evictor Could you make sure you have heroku-local@5.0.1 using heroku version and then check to see if the exit code you see from heroku local:run matches what you expect?  If you are not up to date, you can run heroku update to bring everything up to date.\n. @lukertty could you please run export GODE_DEBUG=info and try the command again?  It will provide more meaningful output to why this is failing.\n. @petervdw sorry for the late response, but I now have access to the logs for the certificate verification service, could you please try again and note the time at which you attempted so that I can narrow down the error and help you debug your problem?\n. @TerryQu3k It appears that you are trying to configure an http proxy from these instructions.  You need to replace http://proxy.server.com:portnumber with the proxy server configuration your network administrator has given you.  Or if you do not have a proxy server, make sure that you do not have the proxy server environment variables set.\n. @rheaditi Could you verify that the proxy server is prefixed with http or https?\n. @rheaditi Does your proxy rewrite certificates?  If so, could you try setting SSL_CERT_FILE to the certificate authority provided by your proxy server?  Also, looking at your HTTPS_PROXY test, it appears that you manually specified port 80, are you sure that is correct?\n. @rheaditi Could you try unsetting SSL_CERT_FILE temporarily in the command prompt and see if it works then?\n. @rheaditi I was looking at the jekyll instructions you referenced earlier, and I was wondering if you could test two things for me.  Does the test that they suggest work for github & heroku?\nruby -rnet/https -e \"Net::HTTP.get URI('https://github.com')\"\nruby -rnet/https -e \"Net::HTTP.get URI('https://api.heroku.com')\"\n. The toolbelt installs its own installation of node in the .heroku directory that it uses to manage the plugin architecture.  It would be best to leave that install of node alone and do a separate install of node if you wish to use it for node for one of your own projects.  Am I understanding your question properly?\n. @danielocallaghan Could you please remove the ~/.heroku directory and try again?\n. @uhoh-itsmaciek Could you take a look at this?  The Region is not included in the json for databases in the US region, and I feel the best fix would be to add the Region to the database info endpoint itself rather than changing the CLI behavior.\n. @dickeyxxx please review\n. @dickeyxxx lgtm\n. @tbruyelle Could you please file a support ticket here https://help.heroku.com/tickets/new?q=ref+support+policy as this appears to be a postgres issue more than a CLI issue.  By submitting a ticket in this other system, we can assure that it is routed to the proper support group.\n. @108anup Could you please try an alternate way (curl / web browser) of downloading the following url?  https://cli-assets.heroku.com/master/4.27.15-535a059/darwin/amd64/heroku-cli  This will help me determine whether the problem is in your network configuration or the heroku client.  One thing I am finding mildly confusing (assuming I am reading the stack trace correctly) is that it appears that it was able to succesfully download https://cli-assets.heroku.com/master/manifest.json without any issues.\n. @jrmiranda Are you behind a proxy server?  The toolbelt is trying to download additional software from https://cli-assets.heroku.com/node/v5.4.1/node-v5.4.1-linux-x64.tar.gz and failing.  Could you test and make sure you can download that manually?\n. @jrmiranda Sorry for the delayed response, I installed opensuse 13.2 on my machine the toolbelt worked for me.  I just wanted to make sure it was not an opensuse issue first and foremost.  This error usually points to dns problems, but there might be something I can change code wise to make this more reliable, as I have seen other users have this error recently.\n. @jrmiranda this behavior may be due to a bug in glibc < 2.20 and since the latest for SUSE is 2.19, this makes sense that you are seeing this error.  There is a workaround that I am currently investigating, will let you know once I know more.\n. @jrmiranda I pushed up some changes that might fix your problem, please run heroku update and try again.  If it does not fix your problems, feel free to reopen the issue.\n. @jrmiranda We removed the netgo build flag to fix a bug for DNS problems users have been experiencing in #1899 .  Since this issue was last addressed, we have updated the Go runtime, which may or not fix this bug.  If you encounter this error again, please let us know immediately and I will see if there is another way we can fix this issue.\n. lgtm\n. @yukinakai cli-assets.heroku.com does not have an IPV6 address, do you have a network configuration that ipv4 disabled or any other special IPV6 configuration?  I am trying to figure out why it is not falling back to ipv4, when it cannot resolve an ipv6 address.\n. @MrWilhelm your proxy software appears to be using its own certificate rather than propagating the heroku certificate, therefore the heroku toolbelt rejects your proxy's certificate because the hostname does not match.  This suggests that your proxy is not configured correctly, rather than a problem in the heroku toolbelt.\n. @jonathantribouharet I was not able to reproduce (but I use rbenv instead of rvm).  I will install rvm on my ubuntu vm and see if I can reproduce, in the meantime would it be possible for you to use 2.2.3 until this is fixed?\n. @jonathantribouharet Could you please switch back to 2.3.0 and run gem update heroku and try again? I was unable to reproduce your exact error, but I have shipped a fix which should hopefully fix your problem. The version with the fix is in 3.42.37, which you can verify via gem list heroku.\n. @bfollekHOD are you behind a proxy server?  do you have any configuration in ~/.npmrc?\n. @fro @sylv3rblade @TheNaoX - Yesterday a revision of access control for Heroku CLI updates caused an unexpected permission failure in the Heroku CLI plugin repository. This failure propagated throughout the CDN we use to publish Heroku CLI plugins. Our engineers have reverted the change and invalidated the faulty data from our CDN.  If you continue to see issues with the Heroku CLI install please try running the heroku update command. If it continues to fail after that please let me know.\n. @bfollekHOD - I think your issue might be different than what the other people experienced, but just to eliminate the possibility, could you run heroku update and let me know if it succeeds?  Do you have any special firewall settings that are not allowing outbound connections?\n. @mulchy @nitinsurana Sorry for the delayed response, but I have not been able to reproduce this locally.  Thank you for the link that you posted, it should help me debug things from your side.  Would either of you feel comfortable using tcpdump to analyze things from your side?  I ran it locally and could not find any records > 512 which seems to be the underlying issue.  Basically open two windows, one running sudo tcpdump -n udp port 53 and do a heroku login in the other one and look for DNS requests for api.heroku.com.  By comparing your results and mine, we should be able to track down the issue.\n. Could you also check .heroku/error.log to see if there is a backtrack for this?\n. @nitinsurana thanks so much for your tcpdump, I updated my dns to 8.8.8.8, but was not able to recreate.  Could you please run dig api.heroku.com and paste in the results as well, I am still trying to figure out why we get different results.\n14:15:32.741510 IP 192.168.0.32.53802 > 8.8.8.8.53: 63763+ AAAA? api.heroku.com. (32)\n14:15:32.741628 IP 192.168.0.32.60581 > 8.8.8.8.53: 59232+ A? api.heroku.com. (32)\n14:15:32.843849 IP 8.8.8.8.53 > 192.168.0.32.53802: 63763 2/1/0 CNAME api-default.herokussl.com., CNAME elb027033-298234319.us-east-1.elb.amazonaws.com. (208)\n14:15:32.853168 IP 8.8.8.8.53 > 192.168.0.32.60581: 59232 5/0/0 CNAME api-default.herokussl.com., CNAME elb027033-298234319.us-east-1.elb.amazonaws.com., A 184.73.210.26, A 107.21.218.33, A 184.72.252.139 (174)\n. @mulchy I was originally thinking the same thing, that it was a misconfigured DNS server outside of our control.  But the fact that @nitinsurana is using 8.8.8.8 made me want to investigate this further, as I suspect there is a decently large group of people that use the Google public DNS.  As for why I get a different size response from 8.8.8.8, I need to investigate that further, thinking possibly it is a configuration setting.  Wanted to get just a little more information before I take this issue to a true DNS expert.\n. @mulchy @nitinsurana Could you please run the following commands?  We recently updated Go from 1.5.3 to 1.6 and I want to make sure that you still have the DNS issue with the updated version of the compiler.\nrm ~/.heroku/heroku-cli`\nheroku update\nheroku version\n. @nitinsurana Could you also run this as well, I noticed that you get a response too large from the Google Public DNS, but the dig example from before went against your local DNS.  Being able to use a publicly available DNS server as an example will make debugging easier.  Also, what is your exact OS version?\ndig @8.8.8.8 api.heroku.com\n. @mulchy @nitinsurana I was doing some more research into the problems you were having when a co-worker pointed me to the following issue https://github.com/golang/go/issues/6464 which indicates that the go dns resolver does not support edns which would explain your problem.  I turned off the netgo compilation flag, which we had enabled to try and fix this issue https://github.com/heroku/heroku/issues/1886 which I will try and fix in a different manner.  Could you please run the following commands to verify you have heroku-cli/4.27.25 and let me know if this fixed your problem.\nrm ~/.heroku/heroku-cli`\nheroku update\nheroku version\n. @mulchy thanks for all your debugging help, glad to hear this worked!\n. Good to hear!\n. @jamescgibson Could you set GODE_DEBUG=info and try again?  This will not fix your problem, but should give us the logging information needed to fix it.\n. @jooshbzm sorry this fell through the cracks, but a release has just been sent out so heroku update and verify that you have heroku-toolbelt/3.43.1 and this should no longer occur\n. @soniacaan What is your apps name?  If you do not feel comfortable sharing it in this issue, feel free to email it to me at rbriggs@heroku.com . \n. @soniacaan Sorry, but could you please try again?  This error comes from a JSON response parsing failure.  I did a request and checked the JSON for your app and it parses fine for me.  I then recreated an app with the same setup as yours on my Windows machine to make sure it was not a windows thing and everything appeared to work.  Could you try again, just in case it was a temporary issue with the API ?\nOne difference I noticed between your machine and mine is that my heroku install uses the one that ships with the toolbelt (2.1.7), while yours is using your ruby install (2.2.4).  Could you paste the first couple of lines from C:/Program Files (x86)/Heroku/bin/heroku and the output of C:/Program Files (x86)/Heroku/ruby-2.1.7/bin/ruby -v ?  This may also explain the differences we see in behavior.\n. @soniacaan Sorry for the delayed response, could you also attach the value of your %PATH% ?\n. @soniacaan Could you please run heroku update and heroku version and verify you have heroku-toolbelt/3.42.39 and then try again?  I just shipped some code so that the error output is more clear.  This will not fix your problem, but will give us better insight into the cause.\n. @GSmaller Sorry for the delayed response, but could you please try again?  This is most likely a temporary network error.  When you ran the command for the first time, it tried to fetch updates and failed.\n. Could you please run gem update heroku and try again?  I have shipped a fix for this error in version 3.42.37 of the gem.\n. @nitinsurana Could you please run the following commands an append the output?\nexport GODE_DEBUG=info  \nheroku update\n. @dhiwakarmani Sorry for the delayed feedback, but we just shipped a release that should fix your problem.  Could you please run heroku update and verify using heroku version that you have version heroku-cli/4.27.26-693efcb.\n. @singhakash sorry for the delayed response but I have not been able to reproduce the issue you encountered.  Could you please set HEROKU_DEBUG=1 and try again and paste the output, the extra output should help me debug.\n. @yob I just pushed a new release to allow 2.2 and 2.3, could you please try again?\n. @dickeyxxx review me?\n. @dickeyxxx review me?\n. @jijo1994 What is the output of icacls C:\\Username\\AppData\\Local/heroku?  It appears that the toolbelt was able to create a directory for the updated executable but was not able to actually create the executable.  This could be due to either a permissions problem, or possibly a restriction on you %LOCALAPPDATA% directory.  Do you know if your sysadmin has any such restrictions?\n. @jijo1994 @Gabri3l @vickytnz Are any of you running anti-virus software?  I had another user with the exact same issue point out that his anti-virus software quarantined C:\\Username\\AppData\\Local/heroku/heroku-cli.exe.  I have tested with my version of Norton Security but could not replicate.  If you are running something else, I would like to try and replicate and then take the appropriate actions.  Norton found nothing wrong with this executable, which makes me think this is a false positive, but want to go through the steps of having this trusted with other antivirus software.\n. Adding full debugging output to this issue as well, for future people who may encounter this error.\n```\nheroku-cli: Installing Toolbelt v4... ! Heroku client internal error.\n! Search for help at: https://help.heroku.com\n! Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       Permission denied @ rb_sysopen - C:\\Users{{UserName}}\\AppData\\Local/heroku/heroku-cli.exe (Errno::EACCES)\nCommand:     heroku\nVersion:     heroku/toolbelt/3.42.45 (i386-mingw32) ruby/2.1.7\n``\n. The other ticket I am working on has Bit Defender installed which I am installing now to try and replicate.\n. I was able to replicate, contacting Bit Defender to determine the reason this is flagged.\n. I submitted the executable for analysis and the response email said it could take up to 72 hours to be included, will look into manual exclusion instructions for those who want them.\n. I was able to make things run by creating an exclusion forC:\\Users{{UserName}}\\AppData\\Local\\heroku` using the instructions here http://www.bitdefender.com/support/how-to-add-exclusions-(exceptions)-in-bitdefender-2016-1467.html and then restarting and trying again.  I know this is not a good solution, just offering in case someone needs to do something critical right now and needs an immediate workaround.  I will update once I have verified that BitDefender trusts our application for those who would rather not use an exclusion.\n. @jinshiq What antivirus software are you using?\n. @jinshiq @xni88 thanks for your responses, I was able to replicate the issue you encountered with 360.  If you wanted a temporary fix workaround you can add the heroku folder to your Trust List.  If you open up 360, there is a three line icon in the menubar that you can click on and under that follow Settings and Trust List.  Then add AppData\\Local\\heroku as a trusted directory and things will start working.  In order to add that directory you will have to enable hidden files so that AppData can be drilled down into.  I will continue working on getting this to no longer be flagged as a virus, will let you know when this happens.\n. my thought was that we would keep it backwards compatible and rather than falling back on 404, we would query both, detect duplicates, and force a flag to pick between the two\n. Closing this in favor of https://github.com/heroku/heroku/issues/1920 as this appears to be a duplicate.\n. @dickeyxxx lgtm\n. @dickeyxxx lgtm\n. @Buchepalli1 Sorry for the delayed response, but are you running any antivirus software?  We recently ran into a problem with users running BitDefender antivirus software who saw an issue much like this.  I am working on resolving things with BitDefender, but if you would like help setting up exclusion rules while I wait for this to be resolved you can following the directions here https://github.com/heroku/heroku/issues/1920#issuecomment-205925853\n. @agarwal-mayank Sorry for the delayed response, but are you still getting this error?  This may have been due to a temporary network issue.\n. @Madsvj Could you run the update command as follows to enable debugging for me?  \nset HEROKU_DEBUG=1\nheroku update\n. @Madsvj could you re-install the toolbelt from https://toolbelt.heroku.com/ ?  I failed to replicate your problem on my local machine, but re-installing should get you back to a good install.\n. @Madsvj I was digging into the code this morning and found a bug where we were accidentally suppressing a non-200 error code in the updater code.  We shipped an update to the installer so that the error will propagate properly and it should provide more insight into why you are receiving this error.  Sorry for the inconvenience, but could you please download the installer again?  This will not fix your problem, but should at least give us a better idea of why it is failing.\n. @Madsvj Are you using antivirus software?  We have had issues recently with BitDefender & 360 antivirus products recently, but it usually manifests itself differently.\n. @Madsvj Sorry for the delay in response, but are you able to create exceptions ?  We are currently working on getting this fixed with the anti-virus providers, but it has been slow going.\n. @willex I checked the CLI code and there is not a good way to force this in the CLI given how the API works.  Could you please file a bug report at https://support.heroku.com and the database team should be able to clean this for you / fix the underlying problem where schedules are not deleted when a database is removed.. @Ahmed-Badawy Could you please try again, that is usually a temporary DNS issue.\n. @LotosikRa Were you able to run heroku login successfully in this step?  https://devcenter.heroku.com/articles/getting-started-with-python#set-up\n. @dickeyxxx review me?\n. @tang1000 Did you figure out the error?\n. @dickeyxxx lgtm\n. @gurbaj Sorry for the late reply, but this is usually a client side temporary DNS error, could you please try again?\n. @beanieboi @dickeyxxx is on vacation right now, so I can try and help you now.  The heroku run command will try and escape the args to your command unless the args size is one.  See https://github.com/heroku/heroku-run/blob/master/lib/helpers.js#L7 .  So what is happening is that the quotes around exit 53 are getting escaped because they are seen as separate arguments with single quotes in them.  I am absolutely awful at bash scripting, and am not sure how to make this work in bash, but here is a ruby script that works which hopefully is helpful in some way.  Please let me know if this does not help.\n```\n!/usr/bin/env ruby\nAPP_NAME=ARGV.pop\ncommand = [\"heroku\", \"run\", \"--exit-code\", \"--app\", APP_NAME, \"--\"] + ARGV\nexec(*command)\n```\n```\n\n% ./heroku_run.rb bash -c 'exit 53' thawing-temple-8799\nRunning bash -c exit\\ 53 on \u2b22 thawing-temple-8799... up, run.8716\n \u25b8    Process exited with code 53\nrbriggs@ebriggs-ltm [10:23:22] [~/git/ruby-getting-started] [master *]\n-> % echo $?\n53\n``\n. @beanieboi I am guessing this is what broke things, we had a bug where double quotes were not interpreted properly so we started using a library to escape the args https://github.com/heroku/heroku-run/pull/10\n. @beanieboi I just shipped a release backing out the change that broke your script, could you pleaseheroku updateand try again?\n. @PetrKaleta Is there a backtrace in~/.cache/heroku/error.log?\n. @PetrKaleta thanks for letting us know the fix in case anyone else encounters this.  Another reserved variable which will cause problems like this isHEROKU_API_URL`.  Both of them are used to point the CLI at dev instances of the Heroku API for testing.\n. @dickeyxxx lgtm\n. @odarino are you behind a network proxy or have any firewall / antivirus software that prevents outbound connections?\n. @odarino Do you get a progress bar at all?  Something like the following?\n\nheroku-cli: Installing CLI... 21.02MB/21.02MB\nAlso, what happens if you try and download the following file manually (I am assuming you are on a 64 bit platform)\nhttps://cli-assets.heroku.com/branches/stable/5.2.9-e9df6ac/heroku-v5.2.9-e9df6ac-windows-amd64.tar.gz\n. @odarino what error do you get in the browser?\n. @vedsolution are you behind a network proxy or firewall?\n. @BrunoQuaresma sorry for the delayed response, but @vijayvaradan suggestion will clean out all the heroku update and configuration files, which would give you a fresh installation and may fix your problem.  I should note however, that you would have to re-install any custom plugins that you have installed by hand.\n. @jekuno sorry for the last response but what is the name of the app that you are running this on?\n. @jekuno Could you open a support ticket on https://support.heroku.com/ for the app that is having this behavior so that we can communicate privately?\n. @hhsieh Could you please file a ticket at https://support.heroku.com ?  This is not a bug in the CLI and I do not have the requisite python skills to help you.  If you submit there, it will be routed to people who will be able to help you better.\n. @adesinaadewale What is the value of LOCALAPPDATA?  Feel free to mask the username if you do not feel comfortable sharing it.\n. @nkrishnamoorthi could you please rerun the command after running the following (will only work with Git bash).  Also, are you behind a network proxy or firewall?\nexport HEROKU_DEBUG=1\n. @nkrishnamoorthi Could you please try setting the HTTPS_PROXY environment variable as described https://devcenter.heroku.com/articles/using-the-cli#using-an-http-proxy\n. @nkrishnamoorthi It appears that it is timing out at your proxy server, could you try contacting your network administrator to see if they could provide any insight?\n. @theartsnetwork it appears that the user you are trying to run the heroku commands as does not have access to /Users/username/.local/share or it /Users/username/.local/share is not writable, could you please verify that the user can write to that directory?  If you could paste in the output of ls -lh /Users/username/.local/share/heroku I can walk you through this process.\n. @theartsnetwork the heroku directory cannot be created, could you please check that /Users/username/.local/share is writable by your user?  Looking back at my previous comment, I realized that I should have asked you to paste ls -lh /Users/username/.local/share instead, could you please paste that in here?\n. @theartsnetwork It appears that /Users/username/.local/share may be owned by root, could you please change the ownership to your username.\nchown username /Users/username/.local/share\n. @ichromanraditya it is failing when trying to look up the host cli-assets.heroku.com.  Could you please try again as it may be a temporary DNS issue.\n. @eguinosa What exact version of linux are you running?  I can try and set up a VM to try and recreate.  Also any information you can give me about your network proxy would be useful, I have only tested with squid presently, and I can better match your environment that will help with debugging.\nAlso, it appears that you might be a ruby developer, would you feel comfortable just running the following as it may be an issue with the upstream library and I would have something simpler to submit as a bug report.  (you may have to gem install excon first)\n```\nrequire 'excon' \nExcon.get(\"https://cli-assets.heroku.com/branches/stable/gz/manifest.json\", expects: [200])\n``\n. @eguinosa Could you run this bit of Ruby code and paste the output?  I want to try and isolate what is causing the bug and it would help me remove a bunch of layers.   (you may have togem install excon` first)\nrequire 'excon' \nExcon.get(\"https://cli-assets.heroku.com/branches/stable/gz/manifest.json\", expects: [200])\n. @eguinosa that error comes from excon not being installed, you need to run gem install excon first before ruby code.rb\n. @ajajeetaj what kind of proxy are you behind?  heroku run does not do an HTTP call, it instead connects using TCP over port 5000 and uses its own protocol, so if you only have to use the proxy for HTTP / HTTPS, the proxy should not be interfering.  It also appears that the real problem is DNS resolution.  What is the output of the following command?  (works in Mac / Linux, let me know if you use windows)\ndig rendezvous.runtime.heroku.com\n. @ajajeetaj From the output of the dig command it looks like it is not able to resolve rendezvous.runtime.heroku.com.  For comparison, here is my ANSWER SECTION for the same command.  It appears that you are using localhost for DNS resolution, so something in your DNS daemon configuration will need to be fixed.  Helping you configure this may be beyond the scope of my abilities depending on your setup.\n;; ANSWER SECTION:\nrendezvous.runtime.heroku.com. 180 IN   CNAME   ec2-50-19-103-36.compute-1.amazonaws.com.\nec2-50-19-103-36.compute-1.amazonaws.com. 21330 IN A 50.19.103.36\n. @balazslaszlo I merged this into https://github.com/heroku/heroku/pull/2011 and released, I just removed the regexes in favor of a host / netrc existence check.  I was going to mock out Netrc completely so that it never did user / pass in the url, but we depend on it to verify things in other tests, so it was not as straightforward as I had hoped.  Thanks for putting this together and sorry it took so long to get merged.\n. @balazslaszlo I had to roll back https://github.com/heroku/heroku/pull/2011 because this did not work on windows due to an ffi dependency.\nfrom C:/Program Files (x86)/Heroku/ruby-2.1.7/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:55:in require': cannot load such file -- ffi (LoadError)\nfrom C:/Program Files (x86)/Heroku/ruby-2.1.7/lib/ruby/2.1.0/rubygems/core_ext/kernel_require.rb:55:inrequire'\nfrom C:/Program Files (x86)/Heroku/vendor/gems/rest-client-1.8.0/lib/restclient/windows/root_certs.rb:2:in <top (required)>'\nfrom C:/Program Files (x86)/Heroku/vendor/gems/rest-client-1.8.0/lib/restclient/windows.rb:7:inrequire_relative'\nfrom C:/Program Files (x86)/Heroku/vendor/gems/rest-client-1.8.0/lib/restclient/windows.rb:7\n. @dickeyxxx lgtm\n. @dickeyxxx LGTM\n. @jjthom87 this repository is for CLI related issues.  Since it appears that you are having issues with running your application on heroku, it would be best if you filed a support issue here https://support.heroku.com/ .  By doing so, you will receive better support from the correct team.\n. @gjtorikian could you please try logging in with heroku login --sso?\n. @lishitianxia1385 could you please try again?  This was most likely a temporary network error.\n. @lishitianxia1385 also, are you running any anti-virus software?\n. @antony7777 for more information see http://stackoverflow.com/a/34392342/255982\n. On phone: just shipped a new release that rolls back the release with this bug, please re install from https://toolbelt.heroku.com\n. @Eldinnie & @tranlamnhatnam a fresh install from the website should work now\n. @dickeyxxx not sure if you want this or not.  I am not sure how much value it adds given that it would not have caught the restclient update regression (see https://ci.appveyor.com/project/Heroku/heroku/build/1.0.5)\n. @dickeyxxx could you review again?  I removed pry and changed the bundle install in appveyor to be --deployment so that it fails if there is a Gem that cannot be installed from the Gemfile.lock.  So now if we have a PR like the one I merged yesterday, the build will fail with the following error, rather than hitting user machines.\nYour Gemfile.lock is corrupt. The following gem is missing from the DEPENDENCIES section: 'ffi'\nCommand exited with code 20\n. @mbarakaja @aslubsky are you using google DNS?  I can see from the debug output that richardgroves is but am wondering if you are as well.  So far we have only seen this issue with google public DNS, but have not been able to recreate it ourselves.  Could you please reply with which google DNS server you are using and I will start a ticket with them to try and resolve.  The underlying problem is that google DNS responds with DNS messages that are too large and the go DNS libraries refuse to parse them.  I have tried to recreate it myself using google DNS but have had no luck so I may need more information in the future.\n. @richardgroves @aslubsky thanks for the quick response.  I went through the same issue as @richardgroves and ended up learning a fair amount about DNS in the process.  Apparently it asks for a response < 512, but a response is returned that is > 512 which is not to the DNS spec.  We are in the process of bumping golang from 1.6 to 1.7 to fix a Mac OS Sierra bug.  There is nothing in the official release notes regarding a fix for this, but it may help.  I will update this issue once we have shipped it, we are just waiting on a review at this point.\n. @mbarakaja @aslubsky @richardgroves could you heroku update and try again, we just upgraded to go 1.7 and I want to see if it made a difference, but I have never been able to replicate this myself.  I tried the servers @richardgroves mentioned earlier but receive normal sized responses when I request using dig.\nFor what it is worth, here are links to serverfault and stackoverflow questions from last time I tried to reproduce this error.  The relevant quote as to why I do not see this but you do.\n\nYou are hitting different server farms. Both of you are sending requests to the same IP, but your requests are arriving at different destinations due to Anycast. As to why the servers are responding differently, only Google can answer that.\n. @aslubsky great to hear!\n. @richardgroves I am assuming that you are running Mac OS Sierra.  There was an issue with our CLI with Sierra that we have shipped a fix for, but it appears that the issue may be interfering with the update process.  If you run the following commands, it should clear things out and download the fix.  I am sorry that this has not been a good experience for you.\n\nrm ~/.local/share/heroku/cli/bin/heroku \nheroku update\n. @mbarakaja good to hear!\n. @stoffern @SanderMander I am sorry that you are unable to deploy, I am following the status of the fix and will update when it should be working again.  If you want to, you can watch https://twitter.com/herokustatus for when it is fixed (as https://status.heroku.com/ appears to be affected as well)\n. @stoffern The website has been fixed, thanks for letting us know about this\n@SanderMander you may be able to deploy now, there were multiple sites affected and the incident is not fully resolved yet, but go ahead and try again.  The status site is available again at https://status.heroku.com/ and I will update once everything is fully working again.\n. @SanderMander if you have not already tried yet, could you please retry your deploy?  Everything should be back to normal now.\n. @alxpck @DrFrolla @emilyemoss @houssem-yahiaoui @thirota @patricia93sousa We were waiting on the 1.8 release of golang to get this fix, but saw that it was backported to the 1.7 and released as part of the 1.7.5 release.  Could you heroku update and verify that you have heroku-cli/5.6.17-bee0f80 (darwin-amd64) go1.7.5 and let me know if you see this error again?\nhttps://github.com/golang/go/commit/3357daa96e2b04f83be70d29b70858ddc7c803f4\n. Note: heroku update may not work because of this error, but this error is intermittent, so either you can try again or run the installer from https://cli.heroku.com to fix this error.. @alxpck the heroku CLI automatically updates in the background so it may have auto updated you after you saw the error four days ago without you manually requesting an update.  Let me know if you see the error again so that I can continue to investigate this (I upgraded to Sierra to debug this error and have not seen the error since updating heroku, but since it was an intermittent error I am not completely sure it is fixed). @vikrantgithub you should submit a ticket at https://support.heroku.com/ so that it can be sent to the proper team to help you with your git push issue.  This repository is for issues with the CLI only, and if you submit to support they can forward your ticket to a team that will be able to better help you.\n. @dickeyxxx this was the issue that we talked about with how dist-tags are cached for 24 hours, so heroku update appears to not work, but it would after 24 hours.\n. @Rhyngoh the CLI pulls down extra software the first time that it runs and it appears that it had issues downloading said software.  It is a timeout, which may just be a temporary network issue, or it could possibly a firewall or other network configuration like a proxy server.   I would try again, to see it works now.\n. @nithinmannari This is most likely due to this ongoing incident https://status.heroku.com/incidents/965  What does heroku version output at this time?  If you have a working CLI, you could try the /etc/hosts fix that they suggest in the incident.\n. @nithinmannari first you need to log in as root then edit /etc/hosts from the terminal, and add the following line.\n151.101.45.6    status.heroku.com\n54.225.188.133  api.heroku.com\n50.16.189.161   help.heroku.com id.heroku.com dashboard.heroku.com devcenter.heroku.com\n50.19.103.36    rendezvous.runtime.heroku.com\n107.21.99.123   ssl-doctor.heroku.com\nThis is a temporary fix, and should be removed once the DNS outage has finished (I will update this issue when it is done)\n. @nithinmannari calling just /etc/hosts there means that the console will try and execute that file.  What you want to do is modify it with your editor, something like vi or emacs or whatever command line text editor you are comfortable with.\n. @nithinmannari /etc/hosts is a system file, not one from your project.  The files you see there in the dropdown are likely from /home/ubuntu/workspace.  Probably the easiest editor to use would be nano so if you go into the command line after did the sudo command and type nano /etc/hosts it should open the file for editing.  nano can be navigated by using the arrow keys and the keyboard commands along the bottom like ^X are executed by holding control and pressing the corresponding letter.\n. @nithinmannari the platform issue has been resolved, could you try removing the entries from /etc/hosts and trying again?\n. @colt05-usr heroku is impacted by the large scale dns outage today.  More information can be found here which includes a list of IP addresses to use until the outtage is over.  If you are not able to reach that site due to the DNS outtage, I am including the list here as well.\n151.101.45.6    status.heroku.com\n54.225.188.133  api.heroku.com\n50.16.189.161   help.heroku.com id.heroku.com dashboard.heroku.com devcenter.heroku.com blog.heroku.com\n50.19.103.36    rendezvous.runtime.heroku.com\n107.21.99.123   ssl-doctor.heroku.com\n174.129.22.147  git.heroku.com\n50.19.85.156    heroku.com\n. @colt05-usr the platform issue has been resolved, could you try removing the entries from /etc/hosts and trying again?\n. @k-sudhan It looks like you need to include the protocol, make sure that your environment variable follows the format from https://devcenter.heroku.com/articles/using-the-cli#using-an-http-proxy\n. @k-sudhan I just shipped a fix for this, could you heroku update and try again?\n. @malafeev is the environment variable $DYLD_INSERT_LIBRARIES set, or do you have a product called Websense installed?\n. @mkou could you please file a ticket at https://support.heroku.com/ this is for CLI support only and if you file a ticket, the appropriate team can better help you with your database issues.. @rdsharma like @dickeyxxx this may not actually fix those issues, but went ahead and released because it would at least put them on an easy path to a fix when it is fully deprecated.. @carduque what antivirus software are you using?. For others who may have encountered this issue when trying to install.  I was able to replicate this issue and reverted the installer to the previous version in order to stop this bug.  If you download from this link it should work now.. @jugutier Thanks for reporting this issue, I reverted the release so that others do not encounter the bug.  Sorry for the inconvenience that it caused you. . @jugutier https://devcenter.heroku.com/articles/git-clone-heroku-app. @Alain1405 I just shipped a new version (5.5.10) you can get by running heroku update.  Please let me know if that fixes this bug.. @janswist sorry for the late response.  If you are not using any custom ruby plugins (paste heroku plugins if you are uncertain and I can tell you if you are) I would suggest installing from https://cli.heroku.com again, as that removes the ruby code that may be causing this issue.. ",
    "jwarzech": "Thank you for fixing this!\n. Another workaround is to just clone the repo and run /bin/heroku\n. ",
    "creativepsyco": "Thank you for fixing it so quickly :) !\n. ",
    "SentulAsia": "i got this error:\nheroku rename brainstormtech\n/Users/Zaid/.rvm/gems/ruby-1.9.3-p125/gems/heroku-2.26.6/lib/heroku/helpers.rb:105: warning: Insecure world writable dir /Users/Zaid/.rvm/gems/ruby-1.9.3-p125/bin in PATH, mode 040777\nRenaming brainstormtechnologies to brainstormtech... /Users/Zaid/.rvm/gems/ruby-1.9.3-p125/gems/heroku-2.26.6/lib/heroku/command.rb:237:in []': can't convert String into Integer (TypeError)\n    from /Users/Zaid/.rvm/gems/ruby-1.9.3-p125/gems/heroku-2.26.6/lib/heroku/command.rb:237:inparse_error_json'\n    from /Users/Zaid/.rvm/gems/ruby-1.9.3-p125/gems/heroku-2.26.6/lib/heroku/command.rb:225:in extract_error'\n    from /Users/Zaid/.rvm/gems/ruby-1.9.3-p125/gems/heroku-2.26.6/lib/heroku/command.rb:208:inrescue in run'\n    from /Users/Zaid/.rvm/gems/ruby-1.9.3-p125/gems/heroku-2.26.6/lib/heroku/command.rb:217:in run'\n    from /Users/Zaid/.rvm/gems/ruby-1.9.3-p125/gems/heroku-2.26.6/lib/heroku/cli.rb:9:instart'\n    from /Users/Zaid/.rvm/gems/ruby-1.9.3-p125/gems/heroku-2.26.6/bin/heroku:17:in <top (required)>'\n    from /Users/Zaid/.rvm/gems/ruby-1.9.3-p125/bin/heroku:19:inload'\n    from /Users/Zaid/.rvm/gems/ruby-1.9.3-p125/bin/heroku:19:in `'\ndo you need anymore info to debug this matter? i'm using stack cedar\n. works like a charm!!! thanx!!!\n. ",
    "dgarzon": "Found that I had an old version of the gem I think it is fixed in 2.26.7. Thank you!\n. ",
    "emiltin": "same error here. heroku log:\n2012-06-19T10:10:17+00:00 heroku[run.1]: State changed from created to starting\n2012-06-19T10:10:21+00:00 heroku[run.1]: Awaiting client\n2012-06-19T10:10:21+00:00 heroku[run.1]: Starting process with command `bundle exec rake db:create`\n2012-06-19T10:10:21+00:00 heroku[run.1]: State changed from starting to up\n2012-06-19T10:10:51+00:00 heroku[run.1]: Error R13 (Attach error) -> Failed to attach to process\n2012-06-19T10:10:52+00:00 heroku[run.1]: Process exited with status 128\n2012-06-19T10:10:52+00:00 heroku[run.1]: State changed from up to complete\n. might have been a problem with the firewall i was behind\n. ",
    "delacruzjames": "thanks for the help geemus.. i already fix mine its all about port on my router.. \n. ",
    "harisibrahimkv": "On 18 June 2012 21:39, Wesley Beary\nreply@reply.github.com\nwrote:\n\nAre you behind a proxy? \u00a0If so, how do you have it configured?\n\nI'm not behind a proxy. This error occurred when the following happened:\nhttps://status.heroku.com/incidents/378\nOnce it had been resolved, it started working fine.\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/379#issuecomment-6400777\n\n\nHaris Ibrahim K. V.\nsosaysharis.wordpress.com\n. ",
    "daveschaefer": "@geemus Hey, sorry about the delay. I added a patch to the pull request - now we just check the return value and echo the output on error.\nLook better? :)\n. Ha! After running into this exact issue on Monday I had just logged in to send my own pull request. Good to see someone else noticed too.\nThanks for fixing this!\n. @geemus Hey! No worries - checking the status and outputting a message sounds perfectly fine and reasonable :)\nDo you prefer to write the patch and refactor on your end or did you want me to submit an update?\n. ",
    "tmaher": "Yeah, do that.\n. This is not acceptable as anything but a short-term solution.  Any Windows Toolbelt usage over wifi is now vulnerable to theft of API keys.  It will eventually result in a potentially very embarrassing \"we don't know what we're doing\" public disclosure.\nAre there follow-up issues in Excon or this repo to fix it?\n. @luislavena - While I very keenly appreciate the need to ensure an up-to-date CA list (e.g., the DigiNotar CA revocation), I strongly disagree with the decision by Ruby-Core to not include a default or fallback cert bundle.  The consequence is not that every developer dutifully solves this by maintaining their own CA bundle.  The consequence is no one does cert validation, which is considerably worse than the relatively rare CA revocation.  The case of expired CAs is self correcting to a degree - certs signed by a stale CA simply stop validating.\nA GitHub issue isn't the proper place for me to ask for the debate to be re-opened.  What's the right venue?\n. Will do, thanks!\n. Something I've wanted for a long time is some mechanism for customers and add-on providers to indicate secret config vars (e.g., DATABASE_URL) versus non-credentially config vars (e.g., RACK_ENV).  I'm thinking something like heroku config:set --credential SOOPER_SEKRIT, which then prompts you to enter the secret, non-echoing password-style.  That metadata would be included by API on any request for config vars, and Toolbelt (or dashboard, or that new iOS app) could format and display appropriately.\nThat would, uh, obviously be a much more major change.\n. This was a bug in Fedora's OpenSSL build, introduced in 1.0.1e-28.fc19.  Here's the patch if anyone's interested.  Fedora 18, 19, and 20 all had the same bug.  I've verified on Fedora 19 that 1.0.1e-29.fc19 works properly, both for the heroku command and wget.\nSince this is a bug in an OS-provided library, there's nothing to be done here on our end.  If you're still seeing issues in version 29+ of the build, please feel free to reopen this.\n. @arelem3 sudo yum update should do it.  You can confirm you've got the right version by running rpm -qa | grep ^openssl\n. ",
    "oc": "Reported this to as a service help ticket instead.\n. Resolved (was caused by faulty routing)\n. :heart:\n. ",
    "gyaresu": "Hope this helps.\ngyaresu@shadowrun:~|\u21d2  mkdir .heroku\ngyaresu@shadowrun:~|\u21d2  touch .heroku/client\ngyaresu@shadowrun:~|\u21d2  heroku update\nUpdating from 2.27.3... done, updated to 2.27.3\ngyaresu@shadowrun:~|\u21d2  ll .heroku \ntotal 0\ndrwxr-xr-x  6 gyaresu  staff  204 20 Jun 17:31 client\ngyaresu@shadowrun:~|\u21d2  ll .heroku/client \ntotal 0\ndrwxr-xr-x  3 gyaresu  staff  102 20 Jun 17:31 bin\ndrwxr-xr-x  3 gyaresu  staff  102 20 Jun 17:31 data\ndrwxr-xr-x  5 gyaresu  staff  170 20 Jun 17:31 lib\ndrwxr-xr-x  3 gyaresu  staff  102 20 Jun 17:31 vendor\n. ",
    "pmirshad": "Yes, I'm behind a proxy requiring authentication. The openssl version is 'OpenSSL 1.0.0e 6 Sep 2011'. I've setup the ruby environment using rbenv.\n. I've tested with http_proxy & https_proxy set both in lower and upper case. I will update to 2.28.0 and check.\n. The issue got resolved after updating to 2.28.0. Many thanks for helping me resolve the issue.\n. @dreamrulez07 if you are behind a proxy, try setting http_proxy and https_proxy variables with the correct values.\n. @AndreaCalabretta Did you check with running the command with sudo ?\n. ",
    "rsk-07": "updating openssl is not working in my case it is giving the same error...\n. Thanks it got resolved i wasn't executing the heroku login command using sudo.....Thanx\nBut now i am getting another error....:\nssh: connect to host heroku.com port 22: Connection refused\nfatal: The remote end hung up unexpectedly\n. ",
    "AndreaCalabretta": "I have the same problem on oracle linux 6, my openssl version is:\nopenssl.i686                              1.0.0-25.el6_3.1            @ol6_latest\nopenssl-devel.i686                        1.0.0-25.el6_3.1            @ol6_latest\nAnd ruby gem version is:\nVersion:     heroku-gem/2.32.4 (i686-linux) ruby/1.9.2 autoupdate\nheroku auth:login\nEnter your Heroku credentials.\nEmail: ***\nPassword (typing will be hidden): \n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       SSL_connect SYSCALL returned=5 errno=0 state=SSLv3 read server hello A (OpenSSL::SSL::SSLError) (Excon::Errors::SocketError)\nBacktrace:   /usr/local/rvm/gems/ruby-1.9.2-p318/gems/excon-0.16.4/lib/excon/ssl_socket.rb:60:inconnect'\n             /usr/local/rvm/gems/ruby-1.9.2-p318/gems/excon-0.16.4/lib/excon/ssl_socket.rb:60:in initialize'\n             /usr/local/rvm/gems/ruby-1.9.2-p318/gems/excon-0.16.4/lib/excon/connection.rb:362:innew'\n             /usr/local/rvm/gems/ruby-1.9.2-p318/gems/excon-0.16.4/lib/excon/connection.rb:362:in socket'\n             /usr/local/rvm/gems/ruby-1.9.2-p318/gems/excon-0.16.4/lib/excon/connection.rb:193:inrequest_kernel'\n             /usr/local/rvm/gems/ruby-1.9.2-p318/gems/excon-0.16.4/lib/excon/connection.rb:101:in request'\n             /usr/local/rvm/gems/ruby-1.9.2-p318/gems/heroku-api-0.3.5/lib/heroku/api.rb:62:inrequest'\n             /usr/local/rvm/gems/ruby-1.9.2-p318/gems/heroku-api-0.3.5/lib/heroku/api/login.rb:9:in post_login'\n             /usr/local/rvm/gems/ruby-1.9.2-p318/gems/heroku-2.32.4/lib/heroku/auth.rb:80:inapi_key'\n             /usr/local/rvm/gems/ruby-1.9.2-p318/gems/heroku-2.32.4/lib/heroku/auth.rb:189:in ask_for_credentials'\n             /usr/local/rvm/gems/ruby-1.9.2-p318/gems/heroku-2.32.4/lib/heroku/auth.rb:221:inask_for_and_save_credentials'\n             /usr/local/rvm/gems/ruby-1.9.2-p318/gems/heroku-2.32.4/lib/heroku/auth.rb:84:in get_credentials'\n             /usr/local/rvm/gems/ruby-1.9.2-p318/gems/heroku-2.32.4/lib/heroku/auth.rb:41:inlogin'\n             /usr/local/rvm/gems/ruby-1.9.2-p318/gems/heroku-2.32.4/lib/heroku/command/auth.rb:31:in login'\n             /usr/local/rvm/gems/ruby-1.9.2-p318/gems/heroku-2.32.4/lib/heroku/command.rb:206:inrun'\n             /usr/local/rvm/gems/ruby-1.9.2-p318/gems/heroku-2.32.4/lib/heroku/cli.rb:28:in start'\n             /usr/local/rvm/gems/ruby-1.9.2-p318/gems/heroku-2.32.4/bin/heroku:16:in'\n             /usr/local/rvm/gems/ruby-1.9.2-p318/bin/heroku:19:in load'\n             /usr/local/rvm/gems/ruby-1.9.2-p318/bin/heroku:19:in'\nCommand:     heroku auth:login\nHTTP Proxy:  http://***\nHTTPS Proxy: http://***\nVersion:     heroku-gem/2.32.4 (i686-linux) ruby/1.9.2 autoupdate\n```\n. I have executed the command also by root user and get the same error.\n. I have checked now that in my gem list there is no gem related to ssl\n$ gem list | grep -i openssl\n$ \nOn remote domain I can find some ssl gem:\n$ gem list -r | grep openssl\njruby-openssl (0.7.7)\njruby-openssl-maven (0.7.6.1)\nopenssl-extensions (1.2.0)\nopenssl-nonblock (0.2.1)\nopenssl_pkcs8 (0.1.2)\npftg-jruby-openssl (0.5.3)\nruby-hmac-openssl (0.1.0)\ntem_openssl (0.3.6)\nMay be I must install some gem listed on remote domain?\n. ",
    "shekarmuniven": "This post has the solution for this issue - geemus/excon#148 apparently we need to install the latest gem of excon (0.16.10). I did the same and am able to login to heroku.\n. This post has the solution for this issue - https://github.com/geemus/excon/issues/148 apparently we need to install the latest gem of excon (0.16.10). I did the same and am able to login to heroku.\n. ",
    "mdz": "The option is documented as \"output config vars in shell format\", so I expected to be able to evaluate that output in a shell, and then have access to all of the config variables as shell variables.\n. In this particular case, I was writing scripts to help migrate apps from production to shadow\n. What's the intended purpose of the --shell option? If it's not to feed into a shell, then it should probably be renamed or at least documented differently. Or maybe it should just be removed?\n. The use case I cared about was writing a tool which would work with any Heroku app, and not blow up if the app used a variable with whitespace in it. As I understand it, it's legal for them to contain spaces, and so tools should cope with that. I haven't looked into how common it is; it just seems like a question of correct behavior and robustness\n. Yes, could definitely be done in Ruby, but would have required much more code and taken a lot longer (especially for me as I've done relatively little Ruby coding)\n. Yep, that's probably what I'll end up with. It's just handy to be able to get there from shell too.\nSomething like config -s, espeically as a default on non-ttys, would be excellent\n. ",
    "pedrobachiega": "@geemus just this one... do you wanna that I test something? or more information?\n. ",
    "michaelpham": "Thanks. I'll use lower case for now\nRegards,\nMichael\n-----Original Message-----\nFrom: Wesley Beary [mailto:reply@reply.github.com]\nSent: Thursday, June 21, 2012 12:08 PM\nTo: Pham, Michael\nSubject: Re: [heroku] heroku apps:rename exception (#391)\nSorry about that, there was a regression somewhere related to error parsing that should be fixed in the next release.  In the mean time I can tell you that the error in this case is that app names can only include lower case letters, numbers and dashes (and the one you used includes upper case letters, which are not allowed).  Sorry for the confusion, hope that gets you back on track.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/391#issuecomment-6486282\n\nSubject to local law, communications with Accenture and its affiliates including telephone calls and emails (including content), may be monitored by our systems for the purposes of security and the assessment of internal compliance with Accenture policy.\n\nwww.accenture.com\n. ",
    "NeoPhi": "I successfully updated on another computer from an older version but no when running heroku update again I get a similar error:\n```\nDaniels-MacBook-Pro:Source danielr$ heroku update\nUpdating from 2.26.6... done, updated to 2.28.0\nDaniels-MacBook-Pro:Source danielr$ heroku update\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method `check_disabled!' for Heroku::Updater:Module (NoMethodError)\nBacktrace:   /Users/danielr/.heroku/client/lib/heroku/command/update.rb:37:in `update_from_url'\n             /Users/danielr/.heroku/client/lib/heroku/command/update.rb:19:in `index'\n             /Users/danielr/.heroku/client/lib/heroku/command.rb:176:in `send'\n             /Users/danielr/.heroku/client/lib/heroku/command.rb:176:in `run'\n             /Users/danielr/.heroku/client/lib/heroku/cli.rb:14:in `start'\n             /usr/bin/heroku:28\n\nCommand:     heroku update\nVersion:     heroku-gem/2.28.0 (universal-darwin11.0) ruby/1.8.7\n\n```\n. I'm also seeing this issue:\n```\nDaniels-MacBook-Air:~ danielr$ heroku status\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       uninitialized constant Heroku::Command::Status::Excon (NameError)\nBacktrace:   /Users/danielr/.heroku/client/lib/heroku/command/status.rb:22:in `index'\n             /Users/danielr/.heroku/client/lib/heroku/command.rb:178:in `send'\n             /Users/danielr/.heroku/client/lib/heroku/command.rb:178:in `run'\n             /Users/danielr/.heroku/client/lib/heroku/cli.rb:19:in `start'\n             /usr/bin/heroku:23\n\nCommand:     heroku status\nVersion:     heroku-gem/2.28.7 (universal-darwin11.0) ruby/1.8.7\n\n```\n. Noticed that a similar request appeared on stackoverflow http://stackoverflow.com/questions/9713183/recompile-heroku-slug-without-push-or-config-change\n. ",
    "lookfirst": "Ugh, just hit this too. Grrr. ;-)\n. I was only behind one minor version. It seems like you should be able to test for that.\n. no worries mate. :thumbsup:\n. ",
    "MarkDBlackwell": "It's not easy, but adding tests for the specific cases brought to our attention is a Good Thing.\n. ",
    "kr": "Yup, see heroku/core#825\n. +1 for heroku addons:list airbrake (and make sure it's fast)\nNote that the unavailable addons are only shown to herokai.\nMost users only see available addons.\nNot sure about changing the behavior of addons:add airbrake.\nIt's really nice to be able to play around with an addon without\nworrying about which plan you're using yet. Also, some addons\nhave only one plan, and it just looks nicer to write, for example,\nheroku addons:add ssl rather than ssl:endpoint.\n. > Note that the unavailable addons are only shown to herokai.\nSorry, that's wrong. Maybe it also does that for users with\na certain userpass. At least my personal heroku account\nalso sees disabled addons.\nIf it's indeed showing beta and disabled addons to all\nusers, changing that would be an obvious win.\nWhat's the difference between \"available\" and \"ga\"?\n. >  I can do this on the client but it will be slow\u2026\nThere aren't that many addons. It shouldn't be any\nslower than heroku addons:list | grep airbrake.\nHmm, actually that's not a bad way to do it. Maybe\nthis shouldn't be implemented in the heroku command,\nbut instead we should just tell users to grep for the\naddon name.\n. Right on. Thanks!\n. I'd argue for fewer lists with check boxes or some other sort of\nindication on each line. It's easier to visually scan and easier\nto grep.\n. Separate commands sounds good. I agree that that seems even easier to work with.\n. Ok, thanks!\nFor reference, here are the time stamps and contents of my heroku command\nas of right now, and I haven't reinstalled toolbelt yet.\n```\nolive:~ kr$ ls -l /usr/bin/heroku\nlrwxr-xr-x  1 root  wheel  28 Jul 11 13:57 /usr/bin/heroku -> /usr/local/heroku/bin/heroku\nolive:~ kr$ ls -l /usr/local/heroku/bin/heroku\n-rwxr-xr-x  1 kr  staff  682 Jul 11 08:54 /usr/local/heroku/bin/heroku\nolive:~ kr$ cat /usr/local/heroku/bin/heroku\n!/usr/bin/ruby\nencoding: UTF-8\nresolve bin path, ignoring symlinks\nrequire \"pathname\"\nbin_file = Pathname.new(FILE).realpath\nadd locally vendored gems to libpath\ngem_dir = File.expand_path(\"../../vendor/gems\", bin_file)\nDir[\"#{gem_dir}/**/lib\"].each do |libdir|\n  $:.unshift libdir\nend\nadd self to libpath\n$:.unshift File.expand_path(\"../../lib\", bin_file)\ninject any code in ~/.heroku/client over top\nrequire \"heroku/updater\"\nHeroku::Updater.inject_libpath\nstart up the CLI\nrequire \"heroku/cli\"\nHeroku.send(:remove_const, 'USER_AGENT')\nHeroku::USER_AGENT = \"heroku-toolbelt/#{Heroku::VERSION} (#{RUBY_PLATFORM}) ruby/#{RUBY_VERSION}\"\nHeroku::CLI.start(*ARGV)\n```\n. Looks good to me.\n. @dpiddy is this something that could be provided by https://github.com/heroku/heroku.rb?\n. cc @pedro \n. Sure, I can't predict whether it will make the problem worse.\nIt seems to me equally probable it'll encourage addon providers\nand users to store passwords in URL format and thereby make\nthe problem better beyond the immediate benefit of hiding\npasswords that already happen to be in URL form. (That is to\nsay, both of those seem unlikely but I'd rather not guess.)\nI simply felt we have enough secrets that are inside URLs (for\nexample, every Heroku Postgres attachment) for this to be\nworthwhile. Can we run some database queries on core db to\nfind out the proportion of secret-looking things not in URLs?\n. I like @tmaher's suggestion; @geemus has also been recently talking about something similar.\nEven if we decide to go ahead with a project like that (which would be awesome), I believe this patch will still improve things in the meantime, so I vote to just merge.\n. Oh I see, you were referring to my earlier desire for a database query. I could use some help with it!\n. The output of heroku config has changed before.\nHow did we handle that?\n. @ddollar I hope by now automatic scripts are using -s, which this patch doesn't change.\nIf that's not the case, agreed, this would be trickier.\n. I bet this is stale enough to be irrelevant. (Most of the people on this PR don't even work at Heroku any more.) Closing.. ",
    "VergilYotov": "Same here \n-> ruby -v\nruby 1.9.3p0 (2011-10-30 revision 33570) [x86_64-linux]\n-> gem -v\n1.8.11\nMy dev work is in Python. Problem happens when there are some environmental variables and you try to display them. Pulling vars seems to work though.\n. How come I have a 'nil' value in a brand new heroku app, without\npushing any vars. Can I remove the 'nil' value. I dont see it in the\npulled .env. Any ideas ?\nThanks!\nOn Sat, Jun 23, 2012 at 11:57 AM, Terence Lee\nreply@reply.github.com\nwrote:\n\nThis happens when you have a nil value for a config var.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/400#issuecomment-6523628\n. \n",
    "uhoh-itsmaciek": "Just ran into this as well. It's not nil (although that may be a separate issue), it looks like a boolean config var will get coerced to a boolean type (from String) somewhere earlier, and bomb out due to lack of an include? method (as indicated above) and no automatic coercion to String (thank FSM). The stack trace the original submitter included seems to bear this out (it complains about TrueClass).\nI'd add a spec, but I'm having some environment issues. I think calling to_s on the value here should fix this issue.\n. +1\n. Hmm. So can't repro anymore. Not sure if I was doing something wrong before or what, but it seems to be working correctly.\n. I guess I'm special:\nbash\nmaciek@gamera:~/code/shogun$ ruby -e \"require 'rubygems'; require 'excon'\"\nmaciek@gamera:~/code/shogun$ echo $?\n0\nStill same output from heroku ps...\n. Ditto:\n``` bash\nmaciek@gamera:~/code/shogun$ ruby -e \"require 'rubygems'; require 'heroku-api'\"\nmaciek@gamera:~/code/shogun$ echo $?\n0\nmaciek@gamera:~/code/shogun$ heroku ps\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       uninitialized constant Heroku::API (NameError)\n\n``\n. @geemus, @freeformz  We're still seeing a fair number of tickets on this. The real solution is to address pgbackups problems (which is in the works), but as an interim solution, any thoughts on bumping up the error threshold here by an order of magnitude (e.g., 50 or even 100 retries instead of 5)? Or just making retries indefinite (untilCtrl+C`)?\n. Based on the face-melting volume of pgbackups tickets that we anticipate this change to resolve, I give this a +\u221e.\n. @ddollar any specific concerns around that? I agree with Ed's thoughts on #554 re: this.\n. I like the back-off idea. It's worked very well for me in somewhat different circumstances related to pgbackups flakiness, and occasional Yobuko flakiness.\n. @ddollar Awesome, thanks.\n. Awesome, thanks!\n. @mfine Awesome, thanks! Closing in favor of #887.\n. +1!\n. @pedro any thoughts on this? It speeds up some pgbackups operations 1000x.\n. @pedro thanks for taking a look. My initial attempt (#880) worked, but I did not test this one--I'll switch my CLI to this and see how it works.\nI think it's useful to fix this for non-toolbelt cases. I understand the original need for OkJSON, but its performance is atrocious on even moderately-sized JSON documents. And you're right, it's probably a good idea to leave it in vendor (at least for a while) for plugins.\n. But OkJson is always used right now, regardless of ruby version. Are you suggesting just using the built-in JSON with the toolbelt-packaged Ruby? That breaks the gem version on 1.8 entirely, right?\n. Well, what about the fallback-to-okjson approach in #880? I freely admit I don't understand all the existing issues, but maybe the simpler, less radical approach there would work.\n. What's the status here? @mfine (or @hgmnz for that matter), are you interested in making the changes outlined above? If not, I can certainly take a shot. Is there anything else that needs to be done?\n. Yikes, this never went out? :cry:\n. @pedro Poop. Any chance will this be revisited? Or is that a permanent showstopper? Also, there's always #880...\n. +:orange_book:, although\nconsole\n<<< \"select 1\" heroku pg:spql\n. Closing; this should be a toolbelt issue. Sorry for the noise.\n. For context, this seems to happen when more or fewer than 1 heroku remote URLs are present for an app.\n. This might be a firewall issue. You could try running with run:detached instead to avoid that. If that works, that's probably it. You can add the --tail flag to get log output as well. The semantics are slightly different, but probably close enough for a db:migrate. Let us know if that doesn't work around it.\n. @pedro the approach I suggested in #973 may be more palatable here...\n. @catsby oh yeah, good catch. Maybe the mechanism I outlined here (e.g., check app name in Resolver#resolve) would be a better fix?\n. @catsby No. @will later convinced me that the situation being guarded against here won't actually happen (because this is only called in a fork/follow context, where there's at least one app in play), but the code is pretty clearly wrong. This is more for pure code hygiene.\n. Yes, please.\n. Awesome. Minor comment, but I'd love to see this integrated.\n. @catsby huh, alright. I don't quite follow how this works out, but the last case specifically is what I was concerned about, and that seems to work. Looks good to me.\n. Just realized it's not obvious what this actually does. Before:\n``` console\nmaciek@gamera:~$ heroku pg:psql maroon --app db-corral\n---> Connecting to HEROKU_POSTGRESQL_MAROON_URL\nPager usage is off.\npsql (9.3.2)\nSSL connection (cipher: DHE-RSA-AES256-SHA, bits: 256)\nType \"help\" for help.\nd7sae5lh1fgjii=> \\q\n```\nAfter:\n``` console\nmaciek@gamera:~$ code/heroku/bin/heroku pg:psql maroon --app db-corral\n---> Connecting to HEROKU_POSTGRESQL_MAROON_URL\nPager usage is off.\npsql (9.3.2)\nSSL connection (cipher: DHE-RSA-AES256-SHA, bits: 256)\nType \"help\" for help.\ndb-corral::MAROON=> \\q\n``\n. /cc @jkakar I believe this is relevant to your interests.\n. @hgmnz actually, because.psqlrcis essentially sourced after psql is started, this would _not_ override those. (psyduck), but it works to our advantage here.\n. @pedro any thoughts here?\n. Thank you!\n. Part of me is wary of doing this, but a larger part of me thinks it's a really good idea. At first I thought that implicit attachments would solve this problem, but then I realized that's _still not true_ for changes like settingDATABASE_URLtopostgres://user:passw0rd@example.com:5432/mydb?pool=5. Warning like this may be the best option we have.\n. @pedro Covered how? The issue @catsby is speaking to is that PGBackups chokes on URLs likepostgis://...orpostgres://...?foo=bar. Although arguably we should strip the query string and change the scheme topostgres` if it's something else in PGBackups, and that could resolve 95% of these issues.\n. @catsby Given the reluctance, what do you think of doing some mangling of the URL in PGBackups instead, before the URL is passed to brie? I'm pretty sure I know exactly what would need to happen there. It's not a great solution, since we don't want users changing URLs like that for other reasons, but it could help work around the more common mistakes.\n. Thanks for testing, @catsby!\n. @pedro do you think this could get a release when convenient? I think the issue may affect all Windows users. Sorry about introducing the problem.\n. @pedro I think because we're going through several different layers of quoting and escaping here, something will always be off, but it probably makes sense to try to maintain single-quotes to the extent possible.\nI think the simplest thing is to change this line to:\nruby\n        command = %Q(-c \"#{command}\")\nNow double quotes would not work correctly, but that's probably more tolerable. I think something like\n``` ruby\n        command = %Q(-c \"$(cat <<EOF\n{command}\nEOF\n)\")\n```\nwould actually work for most cases (except where you have a literal \"EOF\" on a line on its own in your query) but I'm almost certain that wouldn't work on Windows.\n. Of course the other option is to use a variant of exec that actually takes a command and arguments )as opposed to a full command line as a single string) so that we don't need to worry about quoting ourselves, but I don't know what the implications of that change are, especially on Windows, since that would bypass the shell.\n. @rhettc The Heroku CLI as a whole is really not designed for scripting. You should consider using something like heroku.rb or heroics. If you really do want to script using the CLI, it would be a lot easier to just run psql directly: e.g., psql -c \"SELECT ...\" $(heroku config:get DATABASE_URL --app my-app).\n. @rhettc sorry about that--the URL format is only supported by psql 9.2 and up, I believe (possibly 9.3 and up). With older psql versions, you'll need to take the approach you've outlined.\n. Fixed by #1161\n. Ha ha ha ha ha... :disappointed:\nI think I can block this on the client easily enough. We may want to block it on the server as well, but I don't think we can relay a nice error message very easily given the current inerface.\n. Fixes #1181 \n. Thanks @dickeyxxx. This probably doesn't need a release by itself--it's just removing sharp edges, not fixing anything that's actively broken per se.\n. You're doing the FSM's work, @brandur.\n. @dickeyxxx @brandur yeah, I'm not in a huge hurry here--preauth is a tolerable workaround.\n. Thanks! No rush on getting this out.\n. Thanks!\n. @brandur no, I don't recall--sorry. I read through the issue history, though, and I think this approach sounds reasonable.\n. Thanks @dickeyxxx. @kennethliang, this is actually an issue in the plugin and the backing services, not in the CLI itself, so I'll close this: schedules are not yet supported for hobby-tier DBs (and as an unintended consequence, may have issues on apps having both hobby and production DBs). Unfortunately, the plugin does not handle this gracefully. We're working on resolving this--sorry about the inconvenience.\n. Looking into the CI failures.\n. Hmm, I haven't seen this. Looking into it.\n. Ok, sorry about the delay. I got sick and it took me a while to catch up on everything. I think I made some incorrect assumptions in the client code w.r.t. the data available about each backup: I had added some additional info, but older backups did not have it, and this step failed. Rather than requiring a client update, I just filled in the missing info for older backups, so this should be working correctly now. Let me know if you still have problems @JacobEvelyn.\n. Looks good. And yeah, unfortunately I picked up pg-extras' bad habit of lack of test coverage. I'll try to add some basic coverage when I have a chance.\n. @neovintage you had run into this issue, right? Can you try @chadbailey59's fix and see if that addresses it?\nYou should be able to install and run a local toolbelt by running git clone git@github.com:heroku/heroku.git and then specifying the full path to the binary instead of relying on $PATH (bin/heroku pg:backups unschedule). Let me know if you run into any problems.\n. @neovintage That happens with or without this patch, right? I'll take a look at that, but if so, then I think this is good to go @dickeyxxx (though I'll have some more patches for you later today).\n. Ok, great. So I'm looking at that now, but I think this patch is ready to go.\n. This should go, along with its call sites.\n. +1, but it looks like you already merged, @dickeyxxx?\n. Ok, great. Thanks.\n. Thanks, I'll take a look at this. We have a branch for the \"no backups\" case, so something more subtle is going on, but I think I can track this down.\n. I believe this was resolved by a server-side fix that I pushed yesterday. I noticed that there are still some edge cases where calling pg:backups commands when you have no databases can cause errors, but I think that's more of an edge case; I'll handle those separately. Thanks for reporting.\n. Are you still seeing this error? I believe this was fixed in either 3.31.2 or the upcoming 3.31.3 (which you can test by just cloning this repo and invoking bin/heroku from the repo root).\n. I don't think so--I think a lot of these were because until earlier today, we didn't prioritize manual backups over scheduled backups, so things could be pending for a long time with a surge of scheduled backups (e.g., as happens nightly). In any case, I don't think there's any aspect of the CLI that could be causing issues here: it just reports things from the backend, and the retries we put in would only show things in Pending for a few minutes. If this happens again, I'd file a support ticket at help.heroku.com unless it's clearly a CLI problem.\n. For anyone affected by this: we are aware of this issue and we're working on it. In the meantime, you may sometimes see backups in Pending for a long time. It's not a client issue, so there's not much we can do in this project. I apologize for the inconvenience.\n. Sorry for the inconvenience. #1463 fixed this. Let us know if you run into any problems.\n. @kjohnston @dickeyxxx unfortunately, the backups functionality is not a part of the platform-api gem as it talks to a different system. We do not have a documented API or a standalone client for the functionality at this time. My colleague @neovintage may be able to tell you more.\n. Right, we expire by default now. Since we allow a larger number of backups, this shouldn't be an issue and we can retrieve accidentally-expired backups for a few days afterward via support ticket.\n. @chibicode you're right--it's not exactly a dupe, but #1463 fixed both issues. Sorry for the inconvenience.\n. Interesting idea. It seems weird to have required flags (options are usually... optional), but it might make sense here. Are there other instances of this behavior in the CLI?\n. Thanks!\n. Thanks for reporting this. I've reproduced the first issue you ran into and I'm looking at the second one. I should have a fix shortly.\n. Closing since #1498 is merged. Let us know if you still have problems.\n. If we add this, we should probably call this -q / --quiet for consistency with UNIX tools (to the extent that there is any).\n. Incidentally, the linked TTY stuff is pretty straightforward (if not intuitive): a child process inherits stdin, stdout, and stderr from its parent. So it doesn't really matter where you're calling a process--only how you're redirecting output. So if you're going to be using the output somewhere that's not a TTY (e.g., redirecting it to another command, storing it in a variable, or using the output of a subshell invocation directly), it should just work correctly.\n. @chadbailey59 there are far worse command flags out there =)\nI guess people may have incorrectly assumed that the extra quotes in the old command's output wouldn't break anything (when in fact things were not-breaking because of the special #tty? handling).\nIf it reduces support burden, I'm all for it. One could conceivably want terse output even if output is a TTY (say, to more easily copy and paste into something).\n. Nice. I think this might be true for some of the other backup commands as well--I can review that soon but I don't have time right now.\n. Yeah, can do. Feel free to remind me.\n. I think we can close this as obsolete, yeah?. Good catch. Let's go with the former.\n. Err, latter. Let's go with the latter.\n. Closing since this is now essentially just a transferatu issue.\n. Looks great. I haven't tried it, but I think your changes look pretty straightforward, so with you and Rimas giving it a shot (and the specs) I'm sure it's fine. Let me know if you want me to run through something in particular.\nI'm neutral on the log output @neovintage brought up--that can certainly be a lot of output, but you're generally only looking when you want to know so maybe that's fine? I don't follow the cross-app copy issue. Maybe the screenshot would help.\n. Got it. I think I know how to fix that, but maybe we should address that independently of these changes so these can go out more quickly...\n. @hgmnz @chadbailey59 Improved the error message / error handling. How's this look?\n. Good call. I think this could be safer still, but this guards against a common error; I'll follow up when I have time.\n. I had not, but just added a PR to fix it.\n/cc @tef just FYI\n. Looks fine, but is there a problem with the current mechanism?\n. Ah, got it. +1.\n. Sure, looks good.\n. +1\nFor context, calls to postgres-api.heroku.com must make a call as the calling user to authenticate (because addons don't really have a better auth mechanism). For users polling long-running backups, this can have a significant impact on their API usage vis-\u00e0-vis rate limits. We probably need to come up with a better authentication mechanism in general, but this should be a reasonable triage.\n. Yeah, +1. The only thing is the confirm_command warning--I think the code I outlined should work for that.\n. /cc @tef \n. Mechanically, it looks good. Thinking more about the language, though, I wonder if \"Completed with 10 warnings\" isn't going to be interpreted as \"My backup completed, but there's some stuff that I should look at some point maybe,\" whereas it could actually mean, \"Made some progress but died halfway through.\" Calling it \"Completed\" is ambiguous. Maybe \"Aborted\", but that brings to mind an aborted transaction, which does roll back all changes, which is the other ambiguity we are trying to avoid in the first place. \"*&^# the bed\"? Perhaps a little too colloquial. I spent a few minutes at http://thesaurus.com but couldn't come up with anything better, so maybe we should just stick with \"Completed with warnings,\" but I hope we can come up with something clearer.\nThougths @chadbailey59 @neovintage?\n. @neovintage Sometimes? The warnings are anything that pg_restore could \"warn\" about, which is basically the failure of any individual statement in the restore script.\n. I think \"warnings\" is the wrong word: the restore could be utterly useless and we'll say \"Finished (3 warnings).\" I prefer tef's \"problems,\" but maybe there's something better still? Basically, the issue is \"Finished with warnings\" is semantically closer to \"Failed,\" but the new nomenclature sweeps that under the rug. In fact, right now they are the same thing--we're putting in the distinction because @chadbailey59 mentioned users sometimes get confused when a failed restore still creates some tables in their db. But \"Finished with warnings\" aligns it with \"Finished,\" which seems misleading.  Maybe just \"Failed (partial restore: 8 problems)\" or something along those lines?\n. @chadbailey59 no, not really: pg_restore offers no distinction between \"something truly terrible\" and \"minor\" errors. We could try to determine this heuristically, but that way lies madness.\n. So exec_sql has pretty awful semantics here, but fixing that would be significantly more invasive, so +:elephant:...\n. No specs yet, but I'll follow up and add these. Basically, this fixes an issue that can manifest in some backups commands running (or most likely attempting to run) against the wrong app because of how attachable resources changed some assumptions in the Postgres resolver code.\n. Ok, fixed specs and added a new one testing the issue.\n. +1. Thanks!\n. I'm not working on Postgres at the moment--perhaps someone else in @heroku/department-of-data can take a look @ransombriggs.\n. While you're in here, do you mind reconciling resolve and resolve_transfer? The code from resolve_transfer was borrowed from the pg command, but I think there's a lot of overlapping functionality with resolve--ideally, the behavior should be consistent, but I don't think we need both here.\n. Does this work without an --app sushi flag? If you look at what Heroku::Command::Pg is doing, it tries to reference the app but falls back to nil (so that the app name is determined from the app::COLOR-style identifier provided as an argument instead). Does that work here?\n. Isn't this logic backwards?\n. Can you reverse this check to s[:name] =~ /#{attachment.name}/? I think that's semantically the same, but more idiomatic (I've never seen a regex on the left of =~ although it does seem to work).\n. Actually, maybe let's include both checks with ||--that will make sure we handle older schedules as well.\n. So I'm not sure about the soundness of getting the URL like this, but you're not changing that aspect of this functionality, so I think it's fine for now--it's just something we may want to keep in mind, especially with the shareable add-on changes.\n. Yes thank you. I've been meaning to do this for forever and keep forgetting.\n. This should probably be separate or just skipped.\n. I think it does make sense to require an argument. Maybe instead of pointing people to help, we should just list what's available to unschedule instead?\n. This is kind of misleading and potentially confusing in the (common?) case when there is no existing attachment, no?\n. There's always an addon, right? We don't have to worry about nil here?\n. Does @status tie into action? How is this communicated to the user?\n. Oh okay. I think in that case the message is actually reasonably clear...\n. Let's just resolve it so we can tighten the group restrictions.\n. Not target.attachment.app?\n. And ugh, great catch.\n. Good call--if you're restoring from a Heroku Postgres database to a non-HPG DB, only name and url fields of the target will be valid (it's a MaybeAttachment; see below in resolve_db_or_url). The thing, is, though, there's technically no app affected, but it feels crappy to just skip the warning prompt there altogether.\nMaybe something like:\n``` ruby\n    if target.attachment.nil?\n      confirm_with = URI.parse(target.url).path[1..-1]\n      affected = target.name.downcase\n    else\n      confirm_with = target.attachment.app\n      affected = \"the app #{target.attachment.app}\"\n    end\n    message = \"WARNING: Destructive Action\"\n    message << \"\\nThis command will remove all data from #{target.name}\"\n    message << \"\\nData from #{source.name} will then be transferred to #{target.name}\"\n    message << \"\\nThis command will affect #{affected}\"\nif confirm_command(confirm_with, message)\n  xfer = hpg_client(attachment).pg_copy(source.name, source.url,\n                                        target.name, target.url)\n\n``\n. After meatspace convo, that can wait: this should work.\n. I also had to make the space here optional because our argument parsing in the helper method seems kinda busted. I'm open to other alternatives if anyone has suggestions.\n. I think a viable alternative would be using [Shellwords.shellsplit](http://ruby-doc.org/stdlib-2.0.0/libdoc/shellwords/rdoc/Shellwords.html#method-c-shellsplit). I can look into this if that seems like a good idea.\n. Ok, I triedShellwordsand it seems to work, so I changedspec_helper` to do that. I kept the change making the space optional since having that required seems needlessly pedantic.\n. I'm no grammar expert, but 'latest' modifies 'stable' here, so I don't think you need a comma...\n. ",
    "swaroopch": "Will a new version of the heroku gem be released that has this fix? \n. ",
    "shanaver": "Sure, here it is:\nError:       uninitialized constant OkJson::Parser (NameError)\nBacktrace:   /Users/bryanshanaver/.rvm/gems/\nruby-1.9.2-p0@donatelyapp.com/gems/taps-0.3.24/lib/taps/data_stream.rb:177:inrescue\nin fetch_from_resource'\n                 /Users/bryanshanaver/.rvm/gems/\nruby-1.9.2-p0@donatelyapp.com/gems/taps-0.3.24/lib/taps/data_stream.rb:173:infetch_from_resource'\n                 /Users/bryanshanaver/.rvm/gems/\nruby-1.9.2-p0@donatelyapp.com/gems/taps-0.3.24/lib/taps/data_stream.rb:131:infetch_remote'\n                 /Users/bryanshanaver/.rvm/gems/\nruby-1.9.2-p0@donatelyapp.com/gems/taps-0.3.24/lib/taps/operation.rb:308:inblock\nin pull_data_from_table'\n                 /Users/bryanshanaver/.rvm/gems/\nruby-1.9.2-p0@donatelyapp.com/gems/taps-0.3.24/lib/taps/operation.rb:301:inloop'\n                 /Users/bryanshanaver/.rvm/gems/\nruby-1.9.2-p0@donatelyapp.com/gems/taps-0.3.24/lib/taps/operation.rb:301:inpull_data_from_table'\n                 /Users/bryanshanaver/.rvm/gems/\nruby-1.9.2-p0@donatelyapp.com/gems/taps-0.3.24/lib/taps/operation.rb:284:inblock\nin pull_data'\n                 /Users/bryanshanaver/.rvm/gems/\nruby-1.9.2-p0@donatelyapp.com/gems/taps-0.3.24/lib/taps/operation.rb:278:ineach'\n                 /Users/bryanshanaver/.rvm/gems/\nruby-1.9.2-p0@donatelyapp.com/gems/taps-0.3.24/lib/taps/operation.rb:278:inpull_data'\n                 /Users/bryanshanaver/.rvm/gems/\nruby-1.9.2-p0@donatelyapp.com/gems/taps-0.3.24/lib/taps/operation.rb:253:inblock\nin run'\n                 /Users/bryanshanaver/.rvm/gems/\nruby-1.9.2-p0@donatelyapp.com/gems/taps-0.3.24/lib/taps/operation.rb:203:incall'\n                 /Users/bryanshanaver/.rvm/gems/\nruby-1.9.2-p0@donatelyapp.com/gems/taps-0.3.24/lib/taps/operation.rb:203:incatch_errors'\n                 /Users/bryanshanaver/.rvm/gems/\nruby-1.9.2-p0@donatelyapp.com/gems/taps-0.3.24/lib/taps/operation.rb:246:inrun'\n                 /Users/bryanshanaver/.rvm/gems/\nruby-1.9.2-p0@donatelyapp.com/gems/taps-0.3.24/lib/taps/cli.rb:172:inclientxfer'\n                 /Users/bryanshanaver/.rvm/gems/\nruby-1.9.2-p0@donatelyapp.com/gems/heroku-2.28.2/lib/heroku/command/db.rb:192:intaps_client'\n                 /Users/bryanshanaver/.rvm/gems/\nruby-1.9.2-p0@donatelyapp.com/gems/heroku-2.28.2/lib/heroku/command/db.rb:55:inpull'\n                 /Users/bryanshanaver/.rvm/gems/\nruby-1.9.2-p0@donatelyapp.com/gems/heroku-2.28.2/lib/heroku/command.rb:177:inrun'\n                 /Users/bryanshanaver/.rvm/gems/\nruby-1.9.2-p0@donatelyapp.com/gems/heroku-2.28.2/lib/heroku/cli.rb:19:instart'\n                 /Users/bryanshanaver/.rvm/gems/\nruby-1.9.2-p0@donatelyapp.com/gems/heroku-2.28.2/bin/heroku:16:in <top\n(required)>'\n                 /Users/bryanshanaver/.rvm/gems/\nruby-1.9.2-p0@donatelyapp.com/bin/heroku:23:inload'\n                 /Users/bryanshanaver/.rvm/gems/\nruby-1.9.2-p0@donatelyapp.com/bin/heroku:23:in `'\nOn Mon, Jun 25, 2012 at 12:08 PM, Wesley Beary <\nreply@reply.github.com\n\nwrote:\n@shanaver - could you paste the backtrace so I can more easily see where\nthe error is coming from?  Thanks!\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/403#issuecomment-6556681\n\n\nBryan Shanaver\ncell: 619-767-8880\noffice: 619-450-2549\naim: bryshanaver\n. it must have something to do with large text fields - I cleared some text columns and was able to pull the table over after that.\n. I had some blob/text fields with text & newlines characters in them - they were essentially just notes and could be removed so I did - and after that it worked without a problem.  Hope that helps.\n. ",
    "kateray": "I'm running into the same issue. @shanaver, how did you say you solved it?\n. ",
    "davekonopka": "+1 on Ubuntu 12.04 64\nheroku-gem/2.28.4 (x86_64-linux) ruby/1.9.3\n. No! I'm experiencing the same problem. Sorry for the confusion.\n. ",
    "rodroguett": "You're telling me that i must install Ubuntu 12.04 x86_64 to get it working???\n. Hi, and thanks for the answer @geemus ... what should I do now??? Re-install??? \n. $ heroku update\n !    To update this version of the Heroku client please use\n !    apt-get install heroku-toolbelt\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       uninitialized constant Heroku::API (NameError)\nBacktrace:   /usr/local/heroku/lib/heroku/command.rb:185:inrescue in run'\n             /usr/local/heroku/lib/heroku/command.rb:225:in run'\n             /usr/local/heroku/lib/heroku/cli.rb:19:instart'\n             /usr/bin/heroku:26:in `'\nCommand:     heroku update\nVersion:     heroku-toolbelt/2.28.4 (i686-linux) ruby/1.9.3\n```\n$ sudo apt-get update\n.\n.\n.\n$ sudo apt-get install heroku-toolbelt\nLeyendo lista de paquetes... Hecho\nCreando \u00e1rbol de dependencias\nLeyendo la informaci\u00f3n de estado... Hecho\nheroku-toolbelt ya est\u00e1 en su versi\u00f3n m\u00e1s reciente.\n0 actualizados, 0 se instalar\u00e1n, 0 para eliminar y 16 no actualizados.\n$ heroku login\nEnter your Heroku credentials.\nEmail: xxxxxxx@xxxx.xxx\nPassword (typing will be hidden): \n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       uninitialized constant Heroku::API (NameError)\nBacktrace:   /usr/local/heroku/lib/heroku/auth.rb:217:inrescue in ask_for_and_save_credentials'\n             /usr/local/heroku/lib/heroku/auth.rb:213:in ask_for_and_save_credentials'\n             /usr/local/heroku/lib/heroku/auth.rb:78:inget_credentials'\n             /usr/local/heroku/lib/heroku/auth.rb:40:in login'\n             /usr/local/heroku/lib/heroku/command/auth.rb:22:inlogin'\n             /usr/local/heroku/lib/heroku/command.rb:178:in run'\n             /usr/local/heroku/lib/heroku/cli.rb:19:instart'\n             /usr/bin/heroku:26:in `'\nCommand:     heroku login\nVersion:     heroku-toolbelt/2.28.4 (i686-linux) ruby/1.9.3\n```\nMmmmmh, still getting the same\n. I'm sorry @geemus , i just updated my system through Synaptic and I get to login... thanks for everything, you're the men @geemus ;D\n. ",
    "fingermark": "Yeah, how am I supposed to upgrade?\n``` bash\ngem list heroku\n LOCAL GEMS \nheroku (2.28.5, 1.19.1)\nheroku-api (0.2.6)\n```\nAnd I get the same thing when I heroku upgrade.\n. ",
    "dj4b1n": "I keep getting this error anytime I use a heroku command in the terminal. E.g. when I do heroku status I get the following error:\n!    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       uninitialized constant Heroku::API (NameError)\nBacktrace:   /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/gems/heroku-2.28.7/lib/heroku/command.rb:185:inrescue in run'\n             /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/gems/heroku-2.28.7/lib/heroku/command.rb:225:in run'\n             /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/gems/heroku-2.28.7/lib/heroku/cli.rb:19:instart'\n             /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/gems/heroku-2.28.7/bin/heroku:16:in <top (required)>'\n             /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/bin/heroku:19:inload'\n             /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/bin/heroku:19:in <main>'\n             /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/bin/ruby_noexec_wrapper:14:ineval'\n             /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/bin/ruby_noexec_wrapper:14:in `'\nCommand:     heroku status\nVersion:     heroku-gem/2.28.7 (x86_64-darwin10.8.0) ruby/1.9.2\n```\nwith gem versions:\n* LOCAL GEMS *\nheroku (2.28.7)\nheroku-api (0.2.6)\nI personally am trying to deploy a Django app, don't code in ruby, and deleted the one ruby app off my comp. Was wondering if you know a possible fix. Thank you!\n. What's strange is that pretty much any heroku command I use fails. Here's the error for heroku login:\n!    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       uninitialized constant Heroku::API (NameError)\nBacktrace:   /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/gems/heroku-2.28.7/lib/heroku/command.rb:185:inrescue in run'\n             /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/gems/heroku-2.28.7/lib/heroku/command.rb:225:in run'\n             /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/gems/heroku-2.28.7/lib/heroku/cli.rb:19:instart'\n             /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/gems/heroku-2.28.7/bin/heroku:16:in <top (required)>'\n             /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/bin/heroku:19:inload'\n             /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/bin/heroku:19:in <main>'\n             /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/bin/ruby_noexec_wrapper:14:ineval'\n             /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/bin/ruby_noexec_wrapper:14:in `'\nCommand:     heroku login\nVersion:     heroku-gem/2.28.7 (x86_64-darwin10.8.0) ruby/1.9.2\n```\n. I just reinstalled the heroku gem and am still getting these errors.\n. It fails immediately\nOn Fri, Jun 29, 2012 at 2:04 PM, Wesley Beary <\nreply@reply.github.com\n\nwrote:\n@dj4b1n - does login fail immediately or only after prompting you for\nuser/pass?  You might try deleting ~/.netrc (or at least removing the\nheroku keys).  I'm wondering if maybe the problem is that there are invalid\ncredentials in there, but that the permissions are set strictly enough that\nthe gem is unable to modify it.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/405#issuecomment-6670532\n. I'm back to this error on heroku login:\n\n/usr/local/heroku/vendor/gems/excon-0.14.2/lib/excon/ssl_socket.rb:74: [BUG] Segmentation fault\nruby 1.8.7 (2009-06-12 patchlevel 174) [universal-darwin10.0]\nAbort trap\nAnyone having this problem?\n. Ah no, reinstalled heroku gem 2.28.10 and back to this error in heroku create:\n!    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       uninitialized constant Heroku::API (NameError)\nBacktrace:   /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/gems/heroku-2.28.10/lib/heroku/command.rb:185:inrescue in run'\n             /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/gems/heroku-2.28.10/lib/heroku/command.rb:225:in run'\n             /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/gems/heroku-2.28.10/lib/heroku/cli.rb:25:instart'\n             /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/gems/heroku-2.28.10/bin/heroku:16:in <top (required)>'\n             /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/bin/heroku:19:inload'\n             /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/bin/heroku:19:in <main>'\n             /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/bin/ruby_noexec_wrapper:14:ineval'\n             /Users/mycomp/.rvm/gems/ruby-1.9.2-p320/bin/ruby_noexec_wrapper:14:in `'\nCommand:     heroku create\nVersion:     heroku-gem/2.28.10 (x86_64-darwin10.8.0) ruby/1.9.2\n```\n. Reinstalled heroku gem and toolbelt off the website, back to square one:\n/usr/local/heroku/vendor/gems/excon-0.14.3/lib/excon/ssl_socket.rb:74: [BUG] Segmentation fault\nruby 1.8.7 (2009-06-12 patchlevel 174) [universal-darwin10.0]\nAbort trap\n. I tried reinstalling openssl, but now my heroku error is:\ninternal:lib/rubygems/custom_require:29:in require': no such file to load -- libssl (LoadError)\n    from <internal:lib/rubygems/custom_require>:29:inrequire'\nafter first running \nexport RUBYOPT=\"-ropenssl\"\nI tried creating a new venv but am still getting the same error.\nRunning the two commands from your comment above both resulted in the same libssl error, so it looks like there's another hoop I'll need to jump through before I can test those out again.\n. Tried that several times already. Strange.\n. ",
    "mcheung610": "I am getting the same error when i try to login in command line on mac.\n05:59:07 /opt/mongodb-osx-x86_64-2.0.0/bin$ heroku login\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       uninitialized constant Heroku::API (NameError)\nBacktrace:   /usr/local/heroku/lib/heroku/command.rb:185:inrescue in run'\n             /usr/local/heroku/lib/heroku/command.rb:225:in run'\n             /usr/local/heroku/lib/heroku/cli.rb:19:instart'\n             /usr/bin/heroku:25:in `'\nCommand:     heroku login\nVersion:     heroku-toolbelt/2.28.7 (x86_64-darwin11.3.0) ruby/1.9.3 \n```\n. I fixed this by installing the heroku gem. I am no longer getting errors when doing heroku login.\n. ",
    "dandekar": "I am also getting the same error for every command (e.g. update, login) on my mac (running os x 10.5.8):\n$heroku update\nUpdating from 2.28.7... failed\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       uninitialized constant Heroku::API (NameError)\nBacktrace:   /usr/local/heroku/lib/heroku/command.rb:185:inrun'\n             /usr/local/heroku/lib/heroku/cli.rb:19:in `start'\n             /usr/bin/heroku:25\nCommand:     heroku update\nVersion:     heroku-toolbelt/2.28.7 (universal-darwin9.0) ruby/1.8.6\n```\n. This is still a problem. I updated ruby to 1.9.2:\n$ ruby -v\nruby 1.9.2p320 (2012-04-20 revision 35421) [i386-darwin9.8.0]\nMy machine is a Macbook running 10.5.8.\nNothing to update via gem:\n$gem update heroku\nUpdating installed gems\nNothing to update\nYet, heroku login fails:\n$ heroku login\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       uninitialized constant Heroku::API (NameError)\nBacktrace:   /usr/local/heroku/lib/heroku/command.rb:185:inrun'\n             /usr/local/heroku/lib/heroku/cli.rb:19:in `start'\n             /usr/bin/heroku:25\nCommand:     heroku login\nVersion:     heroku-toolbelt/2.28.7 (universal-darwin9.0) ruby/1.8.6\n```\nThis is after doing a clean install of the toolbelt this afternoon.\n. ",
    "vinodkhurana": "I am getting the same error with the latest toolbelt. \n``\nError:       uninitialized constant Heroku::API (NameError)\nBacktrace:   /usr/local/heroku/lib/heroku/command.rb:185:inrun'\n             /usr/local/heroku/lib/heroku/cli.rb:19:in `start'\n             /usr/bin/heroku:25\nCommand:     heroku login\nVersion:     heroku-toolbelt/2.28.7 (universal-darwin9.0) ruby/1.8.6\n```\n. yes, with login. \nheroku version says 'heroku-toolbelt/2.28.7 (universal-darwin9.0) ruby/1.8.6'\n. ",
    "tparkin": "I'm having the same issue as @dandekar \nRunning ruby 1.9.2 on Mac OS 10.5.8\nDid a fresh install of the toolbelt and heroku login gives the \"uninitialized constant Heroku::API (NameError)\"\nheroku help and heroku version work just fine.\nI tried installing/updating the gem but that didn't help anything.\n. It works on Mac OS 10.6.8!\n. ",
    "jan8": "Same error from me on same OS (Mac OS 10.5.8)\nsh-3.2$ heroku login\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       uninitialized constant Heroku::API (NameError)\nBacktrace:   /usr/local/heroku/lib/heroku/command.rb:185:inrun'\n             /usr/local/heroku/lib/heroku/cli.rb:19:in `start'\n             /usr/bin/heroku:25\nCommand:     heroku login\nVersion:     heroku-toolbelt/2.28.7 (universal-darwin9.0) ruby/1.8.6\n```\n. ",
    "DevangS": "I am getting the same issue on Ubuntu 12.04\nEDIT: Reinstalling 2.28.7 and then restarting the box seemed to work, while simply reinstalling did not. \n```\n$ heroku login\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       uninitialized constant Heroku::API (NameError)\nBacktrace:   /home/devang/.rvm/gems/ruby-1.9.2-p320/gems/heroku-2.28.7/lib/heroku/command.rb:185:in `rescue in run'\n /home/devang/.rvm/gems/ruby-1.9.2-p320/gems/heroku-2.28.7/lib/heroku/command.rb:225:in `run'\n /home/devang/.rvm/gems/ruby-1.9.2-p320/gems/heroku-2.28.7/lib/heroku/cli.rb:19:in `start'\n /home/devang/.rvm/gems/ruby-1.9.2-p320/gems/heroku-2.28.7/bin/heroku:16:in `<top (required)>'\n /home/devang/.rvm/gems/ruby-1.9.2-p320/bin/heroku:19:in `load'\n /home/devang/.rvm/gems/ruby-1.9.2-p320/bin/heroku:19:in `<main>'\n /home/devang/.rvm/gems/ruby-1.9.2-p320/bin/ruby_noexec_wrapper:14:in `eval'\n /home/devang/.rvm/gems/ruby-1.9.2-p320/bin/ruby_noexec_wrapper:14:in `<main>'\n\nCommand:     heroku login\nVersion:     heroku-gem/2.28.7 (i686-linux) ruby/1.9.2\n\n```\n. ",
    "sachavdb": "@dj4b1n were you able to fix the problem? I'm also getting this error with the latest version installed through gem.\n$ heroku login\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       uninitialized constant Heroku::API (NameError)\nBacktrace:   /usr/local/rvm/gems/ruby-1.9.2-p136/gems/heroku-2.28.12/lib/heroku/command.rb:185:inrescue in run'\n             /usr/local/rvm/gems/ruby-1.9.2-p136/gems/heroku-2.28.12/lib/heroku/command.rb:225:in run'\n             /usr/local/rvm/gems/ruby-1.9.2-p136/gems/heroku-2.28.12/lib/heroku/cli.rb:25:instart'\n             /usr/local/rvm/gems/ruby-1.9.2-p136/gems/heroku-2.28.12/bin/heroku:16:in <top (required)>'\n             /usr/local/rvm/gems/ruby-1.9.2-p136/bin/heroku:19:inload'\n             /usr/local/rvm/gems/ruby-1.9.2-p136/bin/heroku:19:in `'\nCommand:     heroku login\nVersion:     heroku-gem/2.28.12 (x86_64-linux) ruby/1.9.2\n```\n. @geemus  the output from that command made more sense to me :) I had the development libraries from OpenSSL installed on my machine, but I had installed them after compiling ruby. I removed and reinstalled ruby and now everything works fine. Thanks for the help!\n. ",
    "dbirtwell": "I had the same error and found that my openSSL was installed after I built Ruby on my Ubuntu install.\nThe following identified this issue. Thanks.\nruby -e \"require 'heroku-api'\"\nI used RVM to reinstall Ruby (you don't have to manually uninstall and reinstall) with the following command:\nrvm install --force ruby\nThanks for the pointers.\n. @anjg - I used the Heroku gem after the rvm reinstall. Hope that works for you as well.\n. ",
    "anjg": "I am facing similar issue in Ubuntu:\nError:       uninitialized constant Heroku::API (NameError)\nBacktrace:   /usr/local/lib/ruby/gems/1.9.1/gems/heroku-2.28.15/lib/heroku/command.rb:186:in `rescue in run'\nAnd running ruby -e \"require 'heroku-api'\" gives me the same openssl error:\n/usr/local/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in require': cannot load such file -- openssl (LoadError)\nfrom /usr/local/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:inrequire'\nI tried installing openssl again (although I had done it earlier), and rebuilt ruby using:\nrvm install --force ruby\nBut still facing the same issue of missing openssl depndency.\nHow can I resolve this openssl issue?\nThanks in advance.\n. I had downloaded the toolbelt in between , since I was not sure which one to use. After reinstalling ruby , I tried gem install heroku. Is there anything else I need to do? Also should I uninstall anything (like the toolbelt), and if yes how?\n. ",
    "rrees": "I had the same problem due to lack of OpenSSL support. This thread helped but the error message points towards a Heroku issue rather than a networking issue which was quite confusing.\n. ",
    "melug": "It seems my network has a problem since I can't telnet to rendezvous.heroku.com at 5000 port.\n. My ISP blocks 5000 port. I configured my router in DMZ and I can connect back to my computer on port 8000 from external network, but not on port 5000. Is there a way to use other port than 5000?\n. ",
    "ransford": "Possible reason some networks (including my large university's campus network) block traffic on 5000/tcp: history of Windows malware using it.  http://www.sans.org/security-resources/malwarefaq/win_upnp.php\nWould heroku be willing to open another (not \"well known\") port for the rendezvous service?\n. ",
    "begti": "Had the problem too, seems that it's a problem with the wifi of the institution I'm connected to. Created a wifi hotspot on my phone and used it for the command. Worked!\n. ",
    "denishaskin": "@wuputah why is this closed? Is Heroku saying they will not support a more generally open port for the heroku client?\n. ",
    "miwillhite": "I'm also running into this, my ISP is blocking the port and unwilling to unblock it. Any chance we can get an alternate port for access?\n. I also have this issue (from another ISP).\n. ",
    "haggen": "Just checked the status page: https://status.heroku.com/incidents/385\nI'm gonna close this, don't think it's actually an issue.\n. Hm, in that case I'll reopen the issue. For the sake of formality. :P\n. @bmishkin I don't want to sound like a help desk, but did you try to update your heroku gem ? After the issue on Heroku status page got resolved everything worked normally for me.\n. This time again is because of downtime: https://status.heroku.com/incidents/386\n. Tried again and it worked. Maybe a momentary outage or something ?\n. ",
    "bmishkin": "Getting the same error with the status command on two different deployments of the same app:\n$ heroku status\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n\n    Error:       uninitialized constant Heroku::Command::Status::Excon (NameError)\n    Backtrace:   /Users/bmishkin/.rvm/gems/ruby-1.9.2-p136@rails3-noteworthy/gems/heroku-2.28.7/lib/heroku/command/status.rb:22:in `index'\n                 /Users/bmishkin/.rvm/gems/ruby-1.9.2-p136@rails3-noteworthy/gems/heroku-2.28.7/lib/heroku/command.rb:178:in `run'\n                 /Users/bmishkin/.rvm/gems/ruby-1.9.2-p136@rails3-noteworthy/gems/heroku-2.28.7/lib/heroku/cli.rb:19:in `start'\n                 /Users/bmishkin/.rvm/gems/ruby-1.9.2-p136@rails3-noteworthy/gems/heroku-2.28.7/bin/heroku:16:in `'\n                 /Users/bmishkin/.rvm/gems/ruby-1.9.2-p136@rails3-noteworthy/bin/heroku:19:in `load'\n                 /Users/bmishkin/.rvm/gems/ruby-1.9.2-p136@rails3-noteworthy/bin/heroku:19:in `'\n\n    Command:     heroku status\n    Version:     heroku-gem/2.28.7 (x86_64-darwin11.1.0) ruby/1.9.2\n\nerror was identical with heroku-2.25.0 as well (I upgraded, hoping it would fix)\n. error also on a fresh, pre-creation app with the status command\n. ",
    "tysonmote": "Using 2.28.7, I'm still seeing this issue:\n```\n% heroku status\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       uninitialized constant Heroku::Command::Status::Excon (NameError)\nBacktrace:   /Users/tyson/.rbenv/versions/1.9.3-p125/lib/ruby/gems/1.9.1/gems/heroku-2.28.7/lib/heroku/command/status.rb:22:in `index'\n             /Users/tyson/.rbenv/versions/1.9.3-p125/lib/ruby/gems/1.9.1/gems/heroku-2.28.7/lib/heroku/command.rb:178:in `run'\n             /Users/tyson/.rbenv/versions/1.9.3-p125/lib/ruby/gems/1.9.1/gems/heroku-2.28.7/lib/heroku/cli.rb:19:in `start'\n             /Users/tyson/.rbenv/versions/1.9.3-p125/lib/ruby/gems/1.9.1/gems/heroku-2.28.7/bin/heroku:16:in `<top (required)>'\n             /Users/tyson/.rbenv/versions/1.9.3-p125/bin/heroku:19:in `load'\n             /Users/tyson/.rbenv/versions/1.9.3-p125/bin/heroku:19:in `<main>'\n\nCommand:     heroku status\nVersion:     heroku-gem/2.28.7 (x86_64-darwin11.3.0) ruby/1.9.3\n\n```\n. ",
    "oakwhiz": "+1 confirm: This is still an ongoing issue. https://status.heroku.com/ says everything is fine except for some of the databases.\n```\n$ heroku status\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       uninitialized constant Heroku::Command::Status::Excon (NameError)\nBacktrace:   /usr/local/heroku/lib/heroku/command/status.rb:22:in `index'\n             /usr/local/heroku/lib/heroku/command.rb:178:in `run'\n             /usr/local/heroku/lib/heroku/cli.rb:19:in `start'\n             /usr/bin/heroku:26:in `<main>'\n\nCommand:     heroku status\nVersion:     heroku-toolbelt/2.28.7 (x86_64-linux) ruby/1.9.3\n\n```\n. ",
    "doublemarked": "I ran into a similar problems today due to a value that contains a bang char, which at least for Bash misbehaves when placed within double quotes.  \nI just want to throw in here support for using Shellwords.escape or something similar to produce output that is more  legitimately shell-friendly. \n. ",
    "trustedad-tim": "Rocking, thanks David\nTim Burby | TrustedAd | SysOps\nTrustedAd, Inc. | 535 Middlefield Road Suite 190 | Menlo Park, CA 94025\n415.328.6100  | tim@trustedad.com | www.trustedad.com\nhttp://www.trustedad.com/\nThis message may contain confidential and/or legally privileged\ninformation. If you are not the intended recipient of this message, please\ndestroy it. Any unauthorized dissemination, distribution or copying of the\nmaterial in this message, and any attachments to this message, is strictly\nforbidden.\nOn 6/29/12 1:11 PM, \"David Dollar\"\nreply+i-5360018-9b59ed12905c78511f2c7a431d40ab128d4046fd-1750758@reply.git\nhub.com wrote:\n\nHey there,\nThis was a bug in that particular version of the toolbelt. To workaround\nyou'll need to redownload the latest toolbelt from\nhttps://toolbelt.heroku.com\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/415#issuecomment-6676911\n. \n",
    "kbruneel": "I managed to bypass this problem by installing the heroku gem.\nStill, the problem remains for the heroku toolbelt package.\n. I don't think that is true.\nThe first line of the heroku script that is installed with the OS X package (not the gem) is\n```\n!/usr/bin/ruby\n```\nThis forces the script to be run with the standard ruby interpreter installed on OS X 1.6.8, which is 1.8.7, and not the environment ruby interpreter that I installed using rvm.\nWould it not be better if the heroku script just used the environment ruby?\nbtw The problem is still there. I just bypassed it by installing the heroku gem, which is fine for me, but I think out of the box the heroku script shipped in the OSX package will never be able to do db:pull or push.\n. I have a similar problem on OS X\n```\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       uninitialized constant Heroku::Command::Status::Excon (NameError)\nBacktrace:   /Users/kbruneel/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.28.7/lib/heroku/command/status.rb:22:in index'\n             /Users/kbruneel/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.28.7/lib/heroku/command.rb:178:inrun'\n             /Users/kbruneel/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.28.7/lib/heroku/cli.rb:19:in start'\n             /Users/kbruneel/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.28.7/bin/heroku:16:in'\n             /Users/kbruneel/.rvm/gems/ruby-1.9.3-p194/bin/heroku:19:in load'\n             /Users/kbruneel/.rvm/gems/ruby-1.9.3-p194/bin/heroku:19:in'\n             /Users/kbruneel/.rvm/gems/ruby-1.9.3-p194/bin/ruby_noexec_wrapper:14:in eval'\n             /Users/kbruneel/.rvm/gems/ruby-1.9.3-p194/bin/ruby_noexec_wrapper:14:in'\nCommand:     heroku status\nVersion:     heroku-gem/2.28.7 (x86_64-darwin10.8.0) ruby/1.9.3\n```\n. Today it gets up to sending the data, but then it fails with the following error.\n```\nSaving session to push_201207020221.dat..\n!!! Caught Server Exception \nHTTP CODE: 500\nTaps Server Error: PGError: ERROR:  time zone displacement out of range: \"2012-06-07 12:00:00.000000+5894606400\"\n[\"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/adapters/postgres.rb:175:in async_exec'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/adapters/postgres.rb:175:inblock (2 levels) in execute'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/database/logging.rb:28:in log_yield'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/adapters/postgres.rb:175:inblock in execute'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/adapters/postgres.rb:158:in check_disconnect_errors'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/adapters/postgres.rb:175:inexecute'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/adapters/postgres.rb:240:in block (2 levels) in execute'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/connection_pool/threaded.rb:71:inhold'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/database/connecting.rb:226:in synchronize'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/adapters/postgres.rb:240:inblock in execute'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/adapters/postgres.rb:261:in check_database_errors'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/adapters/postgres.rb:238:inexecute'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/database/query.rb:71:in execute_dui'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/dataset/actions.rb:552:inexecute_dui'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/dataset/actions.rb:243:in block (2 levels) in import'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/dataset/actions.rb:243:ineach'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/dataset/actions.rb:243:in block in import'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/database/query.rb:223:in_transaction'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/database/query.rb:209:in block in transaction'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/connection_pool/threaded.rb:84:inhold'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/database/connecting.rb:226:in synchronize'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/database/query.rb:207:intransaction'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/dataset/actions.rb:243:in import'\", \"/app/lib/taps/data_stream.rb:315:inimport_rows'\", \"/app/lib/taps/data_stream.rb:158:in fetch_remote_in_server'\", \"/app/lib/taps/server.rb:114:inblock (3 levels) in '\", \"/app/lib/taps/utils.rb:161:in call'\", \"/app/lib/taps/utils.rb:161:inserver_error_handling'\", \"/app/lib/taps/server.rb:112:in block (2 levels) in <class:Server>'\", \"/app/lib/taps/db_session.rb:15:inblock in conn'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/database/connecting.rb:76:in connect'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sequel-3.20.0/lib/sequel/core.rb:119:inconnect'\", \"/app/lib/taps/db_session.rb:14:in conn'\", \"/app/lib/taps/server.rb:111:inblock in '\", \"/app/.bundle/gems/ruby/1.9.1/gems/sinatra-1.0/lib/sinatra/base.rb:865:in call'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sinatra-1.0/lib/sinatra/base.rb:865:inblock in route'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sinatra-1.0/lib/sinatra/base.rb:521:in instance_eval'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sinatra-1.0/lib/sinatra/base.rb:521:inroute_eval'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sinatra-1.0/lib/sinatra/base.rb:500:in block (2 levels) in route!'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sinatra-1.0/lib/sinatra/base.rb:497:incatch'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sinatra-1.0/lib/sinatra/base.rb:497:in block in route!'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sinatra-1.0/lib/sinatra/base.rb:476:ineach'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sinatra-1.0/lib/sinatra/base.rb:476:in route!'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sinatra-1.0/lib/sinatra/base.rb:601:indispatch!'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sinatra-1.0/lib/sinatra/base.rb:411:in block in call!'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sinatra-1.0/lib/sinatra/base.rb:566:ininstance_eval'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sinatra-1.0/lib/sinatra/base.rb:566:in block in invoke'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sinatra-1.0/lib/sinatra/base.rb:566:incatch'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sinatra-1.0/lib/sinatra/base.rb:566:in invoke'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sinatra-1.0/lib/sinatra/base.rb:411:incall!'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sinatra-1.0/lib/sinatra/base.rb:399:in call'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sinatra-1.0/lib/sinatra/base.rb:979:inblock in call'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sinatra-1.0/lib/sinatra/base.rb:1005:in synchronize'\", \"/app/.bundle/gems/ruby/1.9.1/gems/sinatra-1.0/lib/sinatra/base.rb:979:incall'\", \"/home/heroku_rack/lib/static_assets.rb:9:in call'\", \"/home/heroku_rack/lib/last_access.rb:15:incall'\", \"/app/.bundle/gems/ruby/1.9.1/gems/rack-1.2.1/lib/rack/urlmap.rb:47:in block in call'\", \"/app/.bundle/gems/ruby/1.9.1/gems/rack-1.2.1/lib/rack/urlmap.rb:41:ineach'\", \"/app/.bundle/gems/ruby/1.9.1/gems/rack-1.2.1/lib/rack/urlmap.rb:41:in call'\", \"/home/heroku_rack/lib/date_header.rb:14:incall'\", \"/app/.bundle/gems/ruby/1.9.1/gems/rack-1.2.1/lib/rack/builder.rb:77:in call'\", \"/app/.bundle/gems/ruby/1.9.1/gems/thin-1.2.7/lib/thin/connection.rb:76:inblock in pre_process'\", \"/app/.bundle/gems/ruby/1.9.1/gems/thin-1.2.7/lib/thin/connection.rb:74:in catch'\", \"/app/.bundle/gems/ruby/1.9.1/gems/thin-1.2.7/lib/thin/connection.rb:74:inpre_process'\", \"/app/.bundle/gems/ruby/1.9.1/gems/thin-1.2.7/lib/thin/connection.rb:57:in process'\", \"/app/.bundle/gems/ruby/1.9.1/gems/thin-1.2.7/lib/thin/connection.rb:42:inreceive_data'\", \"/app/.bundle/gems/ruby/1.9.1/gems/eventmachine-0.12.10/lib/eventmachine.rb:256:in run_machine'\", \"/app/.bundle/gems/ruby/1.9.1/gems/eventmachine-0.12.10/lib/eventmachine.rb:256:inrun'\", \"/app/.bundle/gems/ruby/1.9.1/gems/thin-1.2.7/lib/thin/backends/base.rb:57:in start'\", \"/app/.bundle/gems/ruby/1.9.1/gems/thin-1.2.7/lib/thin/server.rb:156:instart'\", \"/app/.bundle/gems/ruby/1.9.1/gems/thin-1.2.7/lib/thin/controllers/controller.rb:80:in start'\", \"/app/.bundle/gems/ruby/1.9.1/gems/thin-1.2.7/lib/thin/runner.rb:177:inrun_command'\", \"/app/.bundle/gems/ruby/1.9.1/gems/thin-1.2.7/lib/thin/runner.rb:143:in run!'\", \"/app/.bundle/gems/ruby/1.9.1/gems/thin-1.2.7/bin/thin:6:in'\", \"/app/.bundle/gems/ruby/1.9.1/bin/thin:19:in load'\", \"/app/.bundle/gems/ruby/1.9.1/bin/thin:19:in'\"]\n```\n. The last problem is caused because I use Ruby 1.9.3 while heroku is using 1.9.2. Switching to 1.9.2 solves this.\nhttps://github.com/ricardochimal/taps/issues/92\n. For me its working now.\n. ",
    "pzaich": "I had this same issue on an app running 1.8.7p370 and Rails 2.3.11. Using the Heroku gem solved my problem.\n. ",
    "batter": "Plus 1 for this.  Seeing the same thing.\n. @geemus - I also saw this error today.  I am running on Mac OS X 10.6.8.  Tried to update my heroku-accounts plugin, using instructions from Herocutter.  Realized I needed to install Herocutter as a plugin first... here is the transcript:\nbatkins: ~$ heroku plugins:update heroku-accounts\nUpdating heroku-accounts... failed\n!    heroku-accounts is a legacy plugin installation.\n!    Enable updating by reinstalling with `heroku plugins:install`.\nbatkins: ~$\nbatkins: ~$ heroku plugins:install heroku-accounts\nInstalling heroku-accounts... failed\n!    Could not install heroku-accounts. Please check the URL and try again\nbatkins: ~$\nbatkins: ~/Documents/Projects/fullbridge-cms$ heroku plugins:install git://github.com/hone/heroku_herocutter.git\nInstalling heroku_herocutter... /Users/batkins/.heroku/client/lib/heroku/cli.rb:30:in `start': undefined method `styled_error' for Heroku::CLI:Class (NoMethodError)\nfrom /usr/bin/heroku:25\nAnd now every command that I execute with the heroku command line is giving me that same error:\nbatkins: ~$ heroku plugins\n/Users/batkins/.heroku/client/lib/heroku/cli.rb:30:in `start': undefined method `styled_error' for Heroku::CLI:Class (NoMethodError)\nfrom /usr/bin/heroku:25\nbatkins: ~$\nbatkins: ~$ heroku version\n/Users/batkins/.heroku/client/lib/heroku/cli.rb:30:in `start': undefined method `styled_error' for Heroku::CLI:Class (NoMethodError)\nfrom /usr/bin/heroku:25\nI'm going to re-install the Heroku Toolbelt from the .pkg installer, freshly downloaded from https://toolbelt.heroku.com/ to see if it fixes it.  Will report back.  Just thought you should know as you seem to be trying to gauge how many users are affected.\n. Ok, re-installing the Toolbelt seemed to fix it to a degree.  Looks like it was a bug in the Heroku_heroucutter code as I suspected.  But since re-installing the Toolbelt, it at least says that:\n```\nbatkins: ~$ heroku version\n !    Unable to load plugin heroku_herocutter.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method list' for classHeroku::Command::Plugins' (NameError)\nBacktrace:   /Users/batkins/.heroku/plugins/heroku_herocutter/lib/heroku_herocutter.rb:96:in alias_method'\n             /Users/batkins/.heroku/plugins/heroku_herocutter/lib/heroku_herocutter.rb:96\n             /Users/batkins/.heroku/plugins/heroku_herocutter/init.rb:26:inrequire'\n             /Users/batkins/.heroku/plugins/heroku_herocutter/init.rb:26\n             /usr/local/heroku/lib/heroku/plugin.rb:64:in load'\n             /usr/local/heroku/lib/heroku/plugin.rb:64:inload_plugin'\n             /usr/local/heroku/lib/heroku/plugin.rb:42:in load!'\n             /usr/local/heroku/lib/heroku/plugin.rb:39:ineach'\n             /usr/local/heroku/lib/heroku/plugin.rb:39:in load!'\n             /usr/local/heroku/lib/heroku/command.rb:17:inload'\n             /usr/local/heroku/lib/heroku/cli.rb:24:in `start'\n             /usr/bin/heroku:25\nCommand:     heroku version\nPlugins:     heroku_herocutter\nVersion:     heroku-toolbelt/2.30.2 (universal-darwin10.0) ruby/1.8.7\nheroku-toolbelt/2.30.2 (universal-darwin10.0) ruby/1.8.7\n```\nThis is much better as it warns of the bug, and then still executes the desired command.  I'm gonna report the bug on their Github Repo and uninstall the plugin.  Too bad because it's a really cool idea by whoever created it but it looks like it's out of date and not working with the new plugins system.  Oh well.\n. @geemus - The thing that I thought was nice about it was that it was an index listing for Heroku plugins, similar to what rubygems is for Ruby gem's.  Currently I'm using the Heroku Accounts plugin, but I just found it while googling to see how to handle a situation where I needed command line access to another heroku account within my company.  I am not aware of what other plugins are available for the Heroku CLI, because there isn't an index/listing available to my knowledge.  That is the piece that is probably the most useful IMHO.\n. ",
    "adzap": "I gather this https://github.com/heroku/heroku/commit/297e581c69b2d796e8c02943b8593854f58aeba6 fixes it, but no release yet.\n. ",
    "iamvery": "I'm seeing this too with heroku db:pull. With such close proximity to the AWS outage and leap second hype... could it be related?\n. Without any change to my environment this started working today. Does anyone know of Heroku addressing this? I'd love to know more about the problem...\n. @geemus thank you for your quick reply. My face is red. I have finally been able to get a connection to an \"outside\" (read on) server to try the command again. Apparently the ridiculous web filter that my work employs to keep us \"productive\" is at fault. I didn't suspect it early on because I thought the database connections were made on the heroku side of the command. They must allow some sort of partial access to the aws servers, but not enough to get the database connection.\nSo sorry to waste your time :(\n. ",
    "rmihalyi": "+1\nheroku db:pull gives me the same message. \n. ",
    "chrisvariety": "I'd expect to see:\ngoldie:local winnerwinner$ heroku run console\nRunning `console` attached to terminal... failed\n !    No app specified.\n !    Run this command from an app folder or specify which app to use with --app <app name>\n. In case anyone else is getting a segfault, the super-ghetto way to fix this is just to patch /usr/bin/heroku to use your local system ruby instead of the one it bundles, e.g.\n```\n!/Users/chrismcc/.rbenv/versions/2.0.0-p247/bin/ruby\nencoding: UTF-8\nresolve bin path, ignoring symlinks\nrequire \"pathname\"\nbin_file = Pathname.new(FILE).realpath\nadd locally vendored gems to libpath\ngem_dir = File.expand_path(\"../../vendor/gems\", bin_file)\nDir[\"#{gem_dir}/**/lib\"].each do |libdir|\n  $:.unshift libdir\nend\nadd self to libpath\n$:.unshift File.expand_path(\"../../lib\", bin_file)\ninject any code in ~/.heroku/client over top\nrequire \"heroku/updater\"\nHeroku::Updater.inject_libpath\nstart up the CLI\nrequire \"heroku/cli\"\nHeroku.user_agent = \"heroku-toolbelt/#{Heroku::VERSION} (#{RUBY_PLATFORM}) ruby/#{RUBY_VERSION}\"\nHeroku::CLI.start(*ARGV)\n```\n. ",
    "erikpukinskis": "I got this same issue, and adding\nrequire \"restclient\"\nto the top of heroku-2.31.4/lib/heroku/command/run.rb did the trick.  Not sure how it's supposed to be implicitly included.\n. @gemmaros I'm not sure if your suggestion would work. Try it!\nAs for how to edit the gem... Just run \"gem environment\" in your working directory. That'll tell you where you gems are (\"GEM PATHS\") Then look in those folders for your heroku gem. and navigate to heroku-2.31.4/lib/heroku/command/run.rb and edit the file.\n. ",
    "gemmaros": "@erikpukinskis I'm having the same issue where calls to RestClient work on my dev environment, but when I pushed my app to staging, I keep getting \"uninitialized constant ... RestClient\" error.  Is it enough to explicitly require rest-client in the Gemfile?  \ngem 'rest-client', :require => 'rest-client'\nOr do I need to edit the Heroku library as you suggested?  And if so, can you let me know how you did that (I'm a Heroku noob).  Thanks!\n. @erikpukinskis Oops, forgot to post my feedback after trying the Gemfile fix, which totally worked.  But thanks for the tip on editing gems - I'll add that to my little stash of Rails tips!\n. ",
    "gotoAndBliss": "Problem exists still with fixes deployed by @geemus .\n. ",
    "Funfun": "install https://toolbelt.heroku.com/\n. it should help https://toolbelt.heroku.com/\n. ",
    "johnschult": "+1 on this also... rm -rf ~/.heroku/client does nothing.\n. ",
    "simonox": "It worked with version 2.26.5 on my MacBook Pro. It doesn't work with 2.28.7 on my new MacBook Air:\n$ heroku status\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       uninitialized constant Heroku::Command::Status::Excon (NameError)\nBacktrace:   /usr/local/heroku/lib/heroku/command/status.rb:22:inindex'\n             /usr/local/heroku/lib/heroku/command.rb:178:in send'\n             /usr/local/heroku/lib/heroku/command.rb:178:inrun'\n             /usr/local/heroku/lib/heroku/cli.rb:19:in `start'\n             /usr/bin/heroku:25\nCommand:     heroku status\nVersion:     heroku-toolbelt/2.28.7 (universal-darwin11.0) ruby/1.8.7\n```\n. My problem is fixed with heroku-toolbelt/2.28.8 (universal-darwin11.0) ruby/1.8.7.\n. ",
    "pfinn": "I'm running Win7 x64\nError:  A blocking operation is currently executing. - connect(2) would block (Excon::Errors::SocketError)\nBacktrace:   C:/Program Files (x86)/Heroku/vendor/gems/excon-0.14.2/lib/exco\nn/socket.rb:48:in connect_nonblock'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.14.2/lib/exco\nn/socket.rb:48:inrescue in block in connect'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.14.2/lib/exco\nn/socket.rb:31:in block in connect'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.14.2/lib/exco\nn/socket.rb:29:ineach'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.14.2/lib/exco\nn/socket.rb:29:in connect'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.14.2/lib/exco\nn/socket.rb:16:ininitialize'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.14.2/lib/exco\nn/ssl_socket.rb:31:in initialize'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.14.2/lib/exco\nn/connection.rb:344:innew'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.14.2/lib/exco\nn/connection.rb:344:in socket'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.14.2/lib/exco\nn/connection.rb:175:inrequest_kernel'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.14.2/lib/exco\nn/connection.rb:101:in request'\n                 C:/Program Files (x86)/Heroku/vendor/gems/heroku-api-0.2.6/lib/\nheroku/api.rb:60:inrequest'\n                 C:/Program Files (x86)/Heroku/vendor/gems/heroku-api-0.2.6/lib/\nheroku/api/login.rb:9:in post_login'\n                 C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:75:inapi_key\n'\n                 C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:184:in ask_fo\nr_credentials'\n                 C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:216:inask_fo\nr_and_save_credentials'\n                 C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:79:in get_cre\ndentials'\n                 C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:40:inlogin'\n                 C:/Program Files (x86)/Heroku/lib/heroku/command/auth.rb:22:in\nlogin'\n                 C:/Program Files (x86)/Heroku/lib/heroku/command.rb:178:inrun\n'\n                 C:/Program Files (x86)/Heroku/lib/heroku/cli.rb:19:in start'\n                 C:/Program Files (x86)/Heroku/bin/heroku:25:in'\nCommand:     heroku login\nVersion:     heroku-toolbelt/2.28.7 (i386-mingw32) ruby/1.9.2\n. @geemus Hmm, still no luck. The time of my post (07/03) was my first time installing & using the Heroku toolbelt so I don't have any previous experience. I'm investigating potential proxy issues on my end. heroku update shows 2.28.7 but hangs with no apparent exception being raised. \n. @geemus All issues appear to be resolved after moving to a network without a proxy server. heroku update worked as expected and upgraded to 2.28.10. After upgrading, I was then able to successfully authenticate with heroku login (which was my initial bug report). Thanks @geemus!\n. ",
    "malashkevich": "@geemus - no, heroku create shows the same error.\n. ",
    "pjmolina": "Same need here: needing to call heroku cli to pass user and pass. Tried also to redirect standard input and output, but it do not seems to work on windows fro heruku toolbelt v. 3.8.1\n. ",
    "kch": "@geemus not really. I ran into this now via a mostly throwaway thing in a more or less manual process for a product that's going away.\nhttps://github.com/heroku/face/wiki/IP-Based-SSL\nsee the bit under \"To Remove an SSL IP\"\n. It's not really a priority, but mind you that while removing the header would be nice, the empty line used to not be there until recently. So this is also a regression of sorts.\n. using the the client with ruby 1.8, encodings are not present, but the data still comes in mangled:\n```\ntail to remove the \"Running\u2026\" line\n$ heroku run \"tar c .\" --app help | tail +2 | tar xv\nx ./\nx ./Gemfile.lock\nx ./config.ru\nx ./doc/\nx ./doc/reports.sql\nx ./doc/zendesk.js\nx ./doc/turnstile.md\nx ./doc/zendesk.rb\nx ./doc/zendesk.html\nx ./db/\nx ./db/migrate/\nx ./db/migrate/1_add_log_data.rb\nx ./db/migrate/2_add_queue_classic.rb\nx ./public/\nx ./public/assets/\nx ./public/assets/application.js\nx ./public/assets/pattern-yukiwa_sakura-purple.png\ntar: Damaged tar archive\ntar: Retrying...\ntar: Damaged tar archive\ntar: Retrying...\n\u2026 repeated thousands of times\n```\nNotice it fails at the first binary file.\n. I can do that today. I actually have the code for it somewhere from a previous talk with @geemus \n. @wuputah and there it is.\n. Yeah, I'd dabbled with the idea before. Let's do it.\n. Reverted in master, merged master and un-reverted in app-tiers branch.\nUpdated gemspec in app-tiers branch for heroku-api 0.3.8 but specs still not passing. Fix the specs and merge in master again.\n. specs are failing but they are failing in master too.\n. I had updated the app-tiers branch with the 0.3.8 release of heroku-api that had the updated mocks with tier stuff in them, but I don't see that in current master. With that, the specs broke for other reasons with the app-tiers stuff in. So, there you go.\n. ```\n/usr/local/Cellar/ruby/1.9.3-p385/bin/ruby -S rspec ./spec/heroku/auth_spec.rb ./spec/heroku/client/heroku_postgresql_spec.rb ./spec/heroku/client/pgbackups_spec.rb ./spec/heroku/client/rendezvous_spec.rb ./spec/heroku/client/ssl_endpoint_spec.rb ./spec/heroku/client_spec.rb ./spec/heroku/command/addons_spec.rb ./spec/heroku/command/apps_spec.rb ./spec/heroku/command/auth_spec.rb ./spec/heroku/command/base_spec.rb ./spec/heroku/command/certs_spec.rb ./spec/heroku/command/config_spec.rb ./spec/heroku/command/db_spec.rb ./spec/heroku/command/domains_spec.rb ./spec/heroku/command/drains_spec.rb ./spec/heroku/command/git_spec.rb ./spec/heroku/command/help_spec.rb ./spec/heroku/command/keys_spec.rb ./spec/heroku/command/labs_spec.rb ./spec/heroku/command/logs_spec.rb ./spec/heroku/command/maintenance_spec.rb ./spec/heroku/command/pg_spec.rb ./spec/heroku/command/pgbackups_spec.rb ./spec/heroku/command/plugins_spec.rb ./spec/heroku/command/ps_spec.rb ./spec/heroku/command/releases_spec.rb ./spec/heroku/command/run_spec.rb ./spec/heroku/command/sharing_spec.rb ./spec/heroku/command/stack_spec.rb ./spec/heroku/command/status_spec.rb ./spec/heroku/command/version_spec.rb ./spec/heroku/command_spec.rb ./spec/heroku/helpers/heroku_postgresql_spec.rb ./spec/heroku/helpers_spec.rb ./spec/heroku/plugin_spec.rb ./spec/heroku/updater_spec.rb\n..............F...FFF..................................................................................................F.F...............................................................................................................................................................................................................................................................................................\nFailures:\n1) Heroku::Command::Apps index succeeds\n     Failure/Error: STDOUT\n       expected: \"=== Dev & Legacy Apps\\nexample\\n\\n\"\n            got: \"=== My Apps\\nexample\\n\\n\" (using ==)\n       Diff:\n       @@ -1,3 +1,3 @@\n       -=== Dev & Legacy Apps\n       +=== My Apps\n        example\n     # ./spec/heroku/command/apps_spec.rb:185:in `block (3 levels) in '\n2) Heroku::Command::Apps info gets explicit app from --app\n     Failure/Error: STDOUT\n       expected: \"=== example\\nGit URL:       git@heroku.com:example.git\\nOwner Email:   email@example.com\\nStack:         cedar\\nWeb URL:       http://example.herokuapp.com/\\n\"\n            got: \"=== example\\nGit URL:       git@heroku.com:example.git\\nOwner Email:   email@example.com\\nStack:         cedar\\nTier:          Legacy\\nWeb URL:       http://example.herokuapp.com/\\n\" (using ==)\n       Diff:\n       @@ -2,5 +2,6 @@\n        Git URL:       git@heroku.com:example.git\n        Owner Email:   email@example.com\n        Stack:         cedar\n       +Tier:          Legacy\n        Web URL:       http://example.herokuapp.com/\n     # ./spec/heroku/command/apps_spec.rb:42:in `block (3 levels) in '\n3) Heroku::Command::Apps info displays impicit app info\n     Failure/Error: STDOUT\n       expected: \"=== example\\nGit URL:       git@heroku.com:example.git\\nOwner Email:   email@example.com\\nStack:         cedar\\nWeb URL:       http://example.herokuapp.com/\\n\"\n            got: \"=== example\\nGit URL:       git@heroku.com:example.git\\nOwner Email:   email@example.com\\nStack:         cedar\\nTier:          Legacy\\nWeb URL:       http://example.herokuapp.com/\\n\" (using ==)\n       Diff:\n       @@ -2,5 +2,6 @@\n        Git URL:       git@heroku.com:example.git\n        Owner Email:   email@example.com\n        Stack:         cedar\n       +Tier:          Legacy\n        Web URL:       http://example.herokuapp.com/\n     # ./spec/heroku/command/apps_spec.rb:30:in `block (3 levels) in '\n4) Heroku::Command::Apps info shows shell app info when --shell option is used\n     Failure/Error: stdout.should match Regexp.new(<<-STDOUT)\n       expected \"create_status=complete\\ncreated_at=2013/03/02 15:43:24 -0800\\ndynos=0\\ngit_url=git@heroku.com:example.git\\nid=7753\\nname=example\\nowner_email=email@example.com\\nrepo_migrate_status=complete\\nrepo_size=\\nrequested_stack=\\nslug_size=\\nstack=cedar\\ntier=legacy\\nweb_url=http://example.herokuapp.com/\\nworkers=0\\n\" to match /create_status=complete\n       created_at=\\d{4}\\/\\d{2}\\/\\d{2} \\d{2}:\\d{2}:\\d{2} [+-]\\d{4}\n       dynos=0\n       git_url=git@heroku.com:example.git\n       id=\\d{1,5}\n       name=example\n       owner_email=email@example.com\n       repo_migrate_status=complete\n       repo_size=\n       requested_stack=\n       slug_size=\n       stack=cedar\n       web_url=http:\\/\\/example.herokuapp.com\\/\n       workers=0\n       /\n     # ./spec/heroku/command/apps_spec.rb:48:in `block (3 levels) in '\n5) Heroku::Command::Releases releases:info shows info for a single release\n     Failure/Error: STDOUT\n       expected: \"=== Release v1\\nBy:     email@example.com\\nChange: Config add FOO_BAR\\nWhen:   2012/09/11 12:34:56 (~ 0s ago)\\n\\n=== v1 Config Vars\\nBUNDLE_WITHOUT:      development:test\\nDATABASE_URL:        postgres://username:password@ec2-123-123-123-123.compute-1.amazonaws.com/username\\nLANG:                en_US.UTF-8\\nRACK_ENV:            production\\nSHARED_DATABASE_URL: postgres://username:password@ec2-123-123-123-123.compute-1.amazonaws.com/username\\n\"\n            got: \"=== Release v1\\nBy:     email@example.com\\nChange: Config add FOO_BAR\\nWhen:   2012/09/11 12:34:56 (~ 0s ago)\\n\\n=== v1 Config Vars\\nBUNDLE_WITHOUT: development:test\\nDATABASE_URL:   postgres://username:password@ec2-123-123-123-123.compute-1.amazonaws.com/username\\nLANG:           en_US.UTF-8\\nRACK_ENV:       production\\n\" (using ==)\n       Diff:\n       @@ -4,9 +4,8 @@\n        When:   2012/09/11 12:34:56 (~ 0s ago)\n    === v1 Config Vars\n   -BUNDLE_WITHOUT:      development:test\n   -DATABASE_URL:        postgres://username:password@ec2-123-123-123-123.compute-1.amazonaws.com/username\n   -LANG:                en_US.UTF-8\n   -RACK_ENV:            production\n   -SHARED_DATABASE_URL: postgres://username:password@ec2-123-123-123-123.compute-1.amazonaws.com/username\n   +BUNDLE_WITHOUT: development:test\n   +DATABASE_URL:   postgres://username:password@ec2-123-123-123-123.compute-1.amazonaws.com/username\n   +LANG:           en_US.UTF-8\n   +RACK_ENV:       production\n\n # ./spec/heroku/command/releases_spec.rb:76:in `block (3 levels) in <top (required)>'\n\n6) Heroku::Command::Releases releases:info shows info for a single release in shell compatible format\n     Failure/Error: STDOUT\n       expected: \"=== Release v1\\nBy:     email@example.com\\nChange: Config add FOO_BAR\\nWhen:   2012/09/11 12:34:56 (~ 0s ago)\\n\\n=== v1 Config Vars\\nBUNDLE_WITHOUT=development:test\\nDATABASE_URL=postgres://username:password@ec2-123-123-123-123.compute-1.amazonaws.com/username\\nLANG=en_US.UTF-8\\nRACK_ENV=production\\nSHARED_DATABASE_URL=postgres://username:password@ec2-123-123-123-123.compute-1.amazonaws.com/username\\n\"\n            got: \"=== Release v1\\nBy:     email@example.com\\nChange: Config add FOO_BAR\\nWhen:   2012/09/11 12:34:56 (~ 0s ago)\\n\\n=== v1 Config Vars\\nBUNDLE_WITHOUT=development:test\\nDATABASE_URL=postgres://username:password@ec2-123-123-123-123.compute-1.amazonaws.com/username\\nLANG=en_US.UTF-8\\nRACK_ENV=production\\n\" (using ==)\n       Diff:\n       @@ -8,5 +8,4 @@\n        DATABASE_URL=postgres://username:password@ec2-123-123-123-123.compute-1.amazonaws.com/username\n        LANG=en_US.UTF-8\n        RACK_ENV=production\n       -SHARED_DATABASE_URL=postgres://username:password@ec2-123-123-123-123.compute-1.amazonaws.com/username\n # ./spec/heroku/command/releases_spec.rb:95:in `block (3 levels) in <top (required)>'\n\nFinished in 17.21 seconds\n409 examples, 6 failures\nFailed examples:\nrspec ./spec/heroku/command/apps_spec.rb:177 # Heroku::Command::Apps index succeeds\nrspec ./spec/heroku/command/apps_spec.rb:33 # Heroku::Command::Apps info gets explicit app from --app\nrspec ./spec/heroku/command/apps_spec.rb:21 # Heroku::Command::Apps info displays impicit app info\nrspec ./spec/heroku/command/apps_spec.rb:45 # Heroku::Command::Apps info shows shell app info when --shell option is used\nrspec ./spec/heroku/command/releases_spec.rb:60 # Heroku::Command::Releases releases:info shows info for a single release\nrspec ./spec/heroku/command/releases_spec.rb:79 # Heroku::Command::Releases releases:info shows info for a single release in shell compatible format\nRandomized with seed 28071\nrake aborted!\n/usr/local/Cellar/ruby/1.9.3-p385/bin/ruby -S rspec ./spec/heroku/auth_spec.rb ./spec/heroku/client/heroku_postgresql_spec.rb ./spec/heroku/client/pgbackups_spec.rb ./spec/heroku/client/rendezvous_spec.rb ./spec/heroku/client/ssl_endpoint_spec.rb ./spec/heroku/client_spec.rb ./spec/heroku/command/addons_spec.rb ./spec/heroku/command/apps_spec.rb ./spec/heroku/command/auth_spec.rb ./spec/heroku/command/base_spec.rb ./spec/heroku/command/certs_spec.rb ./spec/heroku/command/config_spec.rb ./spec/heroku/command/db_spec.rb ./spec/heroku/command/domains_spec.rb ./spec/heroku/command/drains_spec.rb ./spec/heroku/command/git_spec.rb ./spec/heroku/command/help_spec.rb ./spec/heroku/command/keys_spec.rb ./spec/heroku/command/labs_spec.rb ./spec/heroku/command/logs_spec.rb ./spec/heroku/command/maintenance_spec.rb ./spec/heroku/command/pg_spec.rb ./spec/heroku/command/pgbackups_spec.rb ./spec/heroku/command/plugins_spec.rb ./spec/heroku/command/ps_spec.rb ./spec/heroku/command/releases_spec.rb ./spec/heroku/command/run_spec.rb ./spec/heroku/command/sharing_spec.rb ./spec/heroku/command/stack_spec.rb ./spec/heroku/command/status_spec.rb ./spec/heroku/command/version_spec.rb ./spec/heroku/command_spec.rb ./spec/heroku/helpers/heroku_postgresql_spec.rb ./spec/heroku/helpers_spec.rb ./spec/heroku/plugin_spec.rb ./spec/heroku/updater_spec.rb failed\nTasks: TOP => spec\n(See full trace by running task with --trace)\nheroku$ gd\ndiff --git a/Gemfile.lock b/Gemfile.lock\nindex b82db55..724ac9e 100644\n--- a/Gemfile.lock\n+++ b/Gemfile.lock\n@@ -2,7 +2,7 @@ PATH\n   remote: .\n   specs:\n     heroku (2.35.0)\n-      heroku-api (~> 0.3.7)\n+      heroku-api (~> 0.3.8)\n       launchy (>= 0.3.2)\n       netrc (~> 0.7.7)\n       rest-client (~> 1.6.1)\n@@ -33,7 +33,7 @@ GEM\n       cabin (~> 0.4.3)\n       clamp\n       json\n-    heroku-api (0.3.7)\n+    heroku-api (0.3.8)\n       excon (~> 0.16.10)\n     json (1.7.7)\n     launchy (2.2.0)\ndiff --git a/heroku.gemspec b/heroku.gemspec\nindex 4c284b7..e42fc5f 100644\n--- a/heroku.gemspec\n+++ b/heroku.gemspec\n@@ -20,7 +20,7 @@ Gem::Specification.new do |gem|\ngem.files = %x{ git ls-files }.split(\"\\n\").select { |d| d =~ %r{^(License|README|bin/|data/|ext/|lib/|spec/|test/)} }\n\ngem.add_dependency \"heroku-api\",  \"~> 0.3.7\"\ngem.add_dependency \"heroku-api\",  \"~> 0.3.8\"\n   gem.add_dependency \"netrc\",       \"~> 0.7.7\"\n   gem.add_dependency \"rest-client\", \"~> 1.6.1\"\n   gem.add_dependency \"launchy\",     \">= 0.3.2\"\nheroku$ \nheroku$ \n```\n. still fail with the updated heroku-api\u2026 are the mocks there broken or what?\n. You might be on to something there. Just want to not let the client rot too badly.\n. But yeah, your tests pass for me too in master, but not if I update the heroku.rb version it uses to the latest one. Not sure what's up with that.\n. A bunch of things 404'ing. Either we botched the urls or things got moved around, I suppose.\n. Did you\u2026\n\n\nmaybe run apt-get update or try with --fix-missing?\n\n?\n. ",
    "keo": "that was fast, thanks!\n. Thank you!\n. ",
    "harrisonstatham": "Im on Mac Os X Lion. \nAlso ruby -v gives:\nruby 1.8.7 (2010-01-10 patchlevel 249) [universal-darwin11.0]\nThanks for replying Im excited to try it out!\n. ruby -e 'puts(require(\"pathname\"))' gives me this:\n-e:1:in `require': no such file to load -- pathname (LoadError)\nfrom -e:1\n. Thanks I appreciate it!\n. To answer your earlier question, I have not installed another form of ruby besides the one that came with my mac. Also I tried the gem install heroku foreman and now it says:\n-sh: gem: command not found\nPlease shoot me now!\n. I downloaded RVM and Im upgrading to the latest version of ruby right now.\n. Ok its all working now. I wish I had just tried to update ruby in the first place and reinstall gems.\nFor anyone who has my problem that might read this thread, here is how I did it:\nType this to install RVM via CURL:\ncurl -L get.rvm.io | bash -s stable\nThen once that installs type this:\nrvm install 1.9.3\n(or whatever the latest version is)\nThen once thats finished then type:\ngem install heroku foreman\nand that worked for me!\nThanks guys for your help! I appreciate it!\n. ",
    "stefanwoj89": "had the same issue but running rvm 1.9.2 on linux. Following the tutorial for Heroku Toolbelt here:\nhttps://toolbelt.heroku.com/linux\nI punched this into the terminal : $ gem install heroku foreman\nand that resolved my issue.\n. ",
    "ok11": "Thanks for the quick reply.\nThe proxy value is ok, in fact it was an FQDN, but I removed the domain part to avoid making it publicly visible. The same proxy value is used in other programs (e.g. eclipse) w/o any issues.\nAnd no, HTTPS_PROXY does not really help.\n. Hi,\nsorry to say that, but even after updating the toolbelt to the latest version it gives an error:\n``\nError:       A non-blocking socket operation could not be completed immediately. (Errno::EWOULDBLOCK) (Excon::Errors::SocketError)\nBacktrace:   C:/Program Files (x86)/ruby-1.9.3/lib/ruby/1.9.1/openssl/buffering.rb:36:insysread'\n             C:/Program Files (x86)/ruby-1.9.3/lib/ruby/1.9.1/openssl/buffering.rb:36:in sysread'\n             C:/Program Files (x86)/ruby-1.9.3/lib/ruby/1.9.1/openssl/buffering.rb:36:infill_rbuff'\n             C:/Program Files (x86)/ruby-1.9.3/lib/ruby/1.9.1/openssl/buffering.rb:215:in eof?'\n             C:/Program Files (x86)/ruby-1.9.3/lib/ruby/1.9.1/openssl/buffering.rb:190:inreadline'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.1/lib/excon/socket.rb:89:in initialize_proxy'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.1/lib/excon/ssl_socket.rb:63:ininitialize'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.1/lib/excon/connection.rb:343:in new'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.1/lib/excon/connection.rb:343:insocket'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.1/lib/excon/connection.rb:174:in request_kernel'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.1/lib/excon/connection.rb:100:inrequest'\n             C:/Program Files (x86)/Heroku/vendor/gems/heroku-api-0.2.10/lib/heroku/api.rb:60:in request'\n             C:/Program Files (x86)/Heroku/vendor/gems/heroku-api-0.2.10/lib/heroku/api/login.rb:9:inpost_login'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:76:in api_key'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:185:inask_for_credentials'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:217:in ask_for_and_save_credentials'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:80:inget_credentials'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:41:in login'\n             C:/Program Files (x86)/Heroku/lib/heroku/command/auth.rb:22:inlogin'\n             C:/Program Files (x86)/Heroku/lib/heroku/command.rb:179:in run'\n             C:/Program Files (x86)/Heroku/lib/heroku/cli.rb:25:instart'\n             C:/Program Files (x86)/Heroku/bin/heroku:25:in `'\nCommand:     heroku login\nHTTP Proxy:  http://proxy:8080\nVersion:     heroku-toolbelt/2.28.14 (i386-mingw32) ruby/1.9.2\n```\nThe only difference is that it gives the errorcode (EWOULDBLOCK) out now.\n. Am I the only one having the issue? Any other developers who also have it (or do not have it) please comment..\nI mean it is not a kinda exotic case, right?\n. Hi,\nI downloaded 2.28.15 this morning and still have the issue:\n    Error:       A non-blocking socket operation could not be completed immediately. (Errno::EWOULDBLOCK) (Excon::Errors::SocketError)\n    Backtrace:   C:/Program Files (x86)/ruby-1.9.3/lib/ruby/1.9.1/openssl/buffering.rb:36:in sysread'\n                 C:/Program Files (x86)/ruby-1.9.3/lib/ruby/1.9.1/openssl/buffering.rb:36:insysread'\n                 C:/Program Files (x86)/ruby-1.9.3/lib/ruby/1.9.1/openssl/buffering.rb:36:in fill_rbuff'\n                 C:/Program Files (x86)/ruby-1.9.3/lib/ruby/1.9.1/openssl/buffering.rb:215:ineof?'\n                 C:/Program Files (x86)/ruby-1.9.3/lib/ruby/1.9.1/openssl/buffering.rb:190:in readline'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.3/lib/excon/ssl_socket.rb:78:ininitialize'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.3/lib/excon/connection.rb:348:in new'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.3/lib/excon/connection.rb:348:insocket'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.3/lib/excon/connection.rb:179:in request_kernel'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.3/lib/excon/connection.rb:105:inrequest'\n                 C:/Program Files (x86)/Heroku/vendor/gems/heroku-api-0.2.12/lib/heroku/api.rb:60:in request'\n                 C:/Program Files (x86)/Heroku/vendor/gems/heroku-api-0.2.12/lib/heroku/api/login.rb:9:inpost_login'\n                 C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:76:in api_key'\n                 C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:185:inask_for_credentials'\n                 C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:217:in ask_for_and_save_credentials'\n                 C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:80:inget_credentials'\n                 C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:41:in login'\n                 C:/Program Files (x86)/Heroku/lib/heroku/command/auth.rb:22:inlogin'\n                 C:/Program Files (x86)/Heroku/lib/heroku/command.rb:179:in run'\n                 C:/Program Files (x86)/Heroku/lib/heroku/cli.rb:25:instart'\n                 C:/Program Files (x86)/Heroku/bin/heroku:25:in `'\nCommand:     heroku login\nHTTP Proxy:  http://proxy:8080\nVersion:     heroku-toolbelt/2.28.15 (i386-mingw32) ruby/1.9.2\nThe line numbers in the stack trace are different, but the issue is unfortunately still there. \n. First of all thanks for all you effort. \nUnfortunately still no success. But when I connected without proxy (there is a WLAN that connects directly), it did work, after returning to LAN it stopped working again. My doubt was that probably it is an issue with my local setup, but it seems to fly without proxy.\n!    Heroku client internal error..\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       A non-blocking socket operation could not be completed immediately. (Errno::EWOULDBLOCK) (Excon::Errors::SocketError)\nBacktrace:   C:/Program Files (x86)/ruby-1.9.3/lib/ruby/1.9.1/openssl/buffering.rb:36:insysread'\n             C:/Program Files (x86)/ruby-1.9.3/lib/ruby/1.9.1/openssl/buffering.rb:36:in sysread'\n             C:/Program Files (x86)/ruby-1.9.3/lib/ruby/1.9.1/openssl/buffering.rb:36:infill_rbuff'\n             C:/Program Files (x86)/ruby-1.9.3/lib/ruby/1.9.1/openssl/buffering.rb:215:in eof?'\n             C:/Program Files (x86)/ruby-1.9.3/lib/ruby/1.9.1/openssl/buffering.rb:190:inreadline'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.4/lib/excon/ssl_socket.rb:78:in initialize'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.4/lib/excon/connection.rb:348:innew'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.4/lib/excon/connection.rb:348:in socket'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.4/lib/excon/connection.rb:179:inrequest_kernel'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.4/lib/excon/connection.rb:105:in request'\n             C:/Program Files (x86)/Heroku/vendor/gems/heroku-api-0.2.13/lib/heroku/api.rb:60:inrequest'\n             C:/Program Files (x86)/Heroku/vendor/gems/heroku-api-0.2.13/lib/heroku/api/login.rb:9:in post_login'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:76:inapi_key'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:185:in ask_for_credentials'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:217:inask_for_and_save_credentials'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:80:in get_credentials'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:41:inlogin'\n             C:/Program Files (x86)/Heroku/lib/heroku/command/auth.rb:22:in login'\n             C:/Program Files (x86)/Heroku/lib/heroku/command.rb:179:inrun'\n             C:/Program Files (x86)/Heroku/lib/heroku/cli.rb:25:in start'\n             C:/Program Files (x86)/Heroku/bin/heroku:25:in'\nCommand:     heroku login\nHTTP Proxy:  http://proxy:8080\nVersion:     heroku-toolbelt/2.29.0 (i386-mingw32) ruby/1.9.2\n```\nUnfortunately I cannot work over WLAN all the time, since the internal hosts in the network are not visible then.. well, still would probably count as a workaround.\n. just a silly question: may be some debug logging would help? just to not waste the time and public versions, just send me a couple of rb files, I will copy over the existing one and probably it would find the reason in minutes..\n. Hi, as I said before, without proxy it works just fine.\n. Sorry, no luck today:\n``\nError:       A non-blocking socket operation could not be completed immediately. (Errno::EWOULDBLOCK) (Excon::Errors::SocketError)\nBacktrace:   C:/Program Files (x86)/ruby-1.9.2/lib/ruby/1.9.1/openssl/buffering.rb:36:insysread'\n             C:/Program Files (x86)/ruby-1.9.2/lib/ruby/1.9.1/openssl/buffering.rb:36:in sysread'\n             C:/Program Files (x86)/ruby-1.9.2/lib/ruby/1.9.1/openssl/buffering.rb:36:infill_rbuff'\n             C:/Program Files (x86)/ruby-1.9.2/lib/ruby/1.9.1/openssl/buffering.rb:68:in read'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.5/lib/excon/response.rb:21:inparse'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.5/lib/excon/ssl_socket.rb:78:in initialize'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.5/lib/excon/connection.rb:344:innew'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.5/lib/excon/connection.rb:344:in socket'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.5/lib/excon/connection.rb:175:inrequest_kernel'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.5/lib/excon/connection.rb:101:in request'\n             C:/Program Files (x86)/Heroku/vendor/gems/heroku-api-0.3.2/lib/heroku/api.rb:60:inrequest'\n             C:/Program Files (x86)/Heroku/vendor/gems/heroku-api-0.3.2/lib/heroku/api/login.rb:9:in post_login'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:76:inapi_key'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:185:in ask_for_credentials'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:217:inask_for_and_save_credentials'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:80:in get_credentials'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:41:inlogin'\n             C:/Program Files (x86)/Heroku/lib/heroku/command/auth.rb:22:in login'\n             C:/Program Files (x86)/Heroku/lib/heroku/command.rb:179:inrun'\n             C:/Program Files (x86)/Heroku/lib/heroku/cli.rb:25:in start'\n             C:/Program Files (x86)/Heroku/bin/heroku:25:in'\nCommand:     heroku login\nHTTP Proxy:  http://proxy:8080\nVersion:     heroku-toolbelt/2.30.2 (i386-mingw32) ruby/1.9.2\n```\n. Confirming -- heroku login worked flawlessly. Many thanks to geemus for his efforts.\n. ",
    "MisterY": "Same here:\n```\nPassword (typing will be hidden):\n !    Heroku client internal error..\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       A non-blocking socket operation could not be completed immediately. (Errno::EWOULDBLOCK) (Excon::Errors::SocketError)\nBacktrace:   c:/Ruby193/lib/ruby/1.9.1/openssl/buffering.rb:53:in sysread'\n             c:/Ruby193/lib/ruby/1.9.1/openssl/buffering.rb:53:insysread'\n             c:/Ruby193/lib/ruby/1.9.1/openssl/buffering.rb:53:in fill_rbuff'\n             c:/Ruby193/lib/ruby/1.9.1/openssl/buffering.rb:293:ineof?'\n             c:/Ruby193/lib/ruby/1.9.1/openssl/buffering.rb:246:in readline'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.4/lib/excon/ssl_socket.rb:78:ininitialize'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.4/lib/excon/connection.rb:348:in new'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.4/lib/excon/connection.rb:348:insocket'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.4/lib/excon/connection.rb:179:in request_kernel'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.4/lib/excon/connection.rb:105:inrequest'\n             C:/Program Files (x86)/Heroku/vendor/gems/heroku-api-0.3.1/lib/heroku/api.rb:60:in request'\n             C:/Program Files (x86)/Heroku/vendor/gems/heroku-api-0.3.1/lib/heroku/api/login.rb:9:inpost_login'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:76:in api_key'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:185:inask_for_credentials'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:217:in ask_for_and_save_credentials'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:80:inget_credentials'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:41:in login'\n             C:/Program Files (x86)/Heroku/lib/heroku/command/auth.rb:22:inlogin'\n             C:/Program Files (x86)/Heroku/lib/heroku/command.rb:179:in run'\n             C:/Program Files (x86)/Heroku/lib/heroku/cli.rb:25:instart'\n             C:/Program Files (x86)/Heroku/bin/heroku:25:in `'\nCommand:     heroku login\nHTTP Proxy:  http://xxxxxxxxx.xxxxxxx.org:9393\nHTTPS Proxy: http://xxxxxxxxx.xxxxxxx.org:9393\nVersion:     heroku-toolbelt/2.30.0 (i386-mingw32) ruby/1.9.3\n```\nNote that proxy names have been replaced here.\n. Same here:\n\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n\n    Error:       A non-blocking socket operation could not be completed immediately. (Errno::EWOULDBLOCK) (Excon::Errors::SocketError)\n    Backtrace:   C:/Program Files (x86)/ruby-1.9.2/lib/ruby/1.9.1/openssl/buffering.rb:36:in `sysread'\n                 C:/Program Files (x86)/ruby-1.9.2/lib/ruby/1.9.1/openssl/buffering.rb:36:in `sysread'\n                 C:/Program Files (x86)/ruby-1.9.2/lib/ruby/1.9.1/openssl/buffering.rb:36:in `fill_rbuff'\n                 C:/Program Files (x86)/ruby-1.9.2/lib/ruby/1.9.1/openssl/buffering.rb:68:in `read'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.5/lib/excon/response.rb:21:in `parse'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.5/lib/excon/ssl_socket.rb:78:in `initialize'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.5/lib/excon/connection.rb:344:in `new'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.5/lib/excon/connection.rb:344:in `socket'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.5/lib/excon/connection.rb:175:in `request_kernel'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.5/lib/excon/connection.rb:101:in `request'\n                 C:/Program Files (x86)/Heroku/vendor/gems/heroku-api-0.3.2/lib/heroku/api.rb:60:in `request'\n                 C:/Program Files (x86)/Heroku/vendor/gems/heroku-api-0.3.2/lib/heroku/api/login.rb:9:in `post_login'\n                 C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:76:in `api_key'\n                 C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:185:in `ask_for_credentials'\n                 C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:217:in `ask_for_and_save_credentials'\n                 C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:80:in `get_credentials'\n                 C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:41:in `login'\n                 C:/Program Files (x86)/Heroku/lib/heroku/command/auth.rb:22:in `login'\n                 C:/Program Files (x86)/Heroku/lib/heroku/command.rb:179:in `run'\n                 C:/Program Files (x86)/Heroku/lib/heroku/cli.rb:25:in `start'\n                 C:/Program Files (x86)/Heroku/bin/heroku:25:in `'\n\n    Command:     heroku login\n    HTTP Proxy:  xxxx\n    HTTPS Proxy: xxxx\n    Version:     heroku-toolbelt/2.30.2 (i386-mingw32) ruby/1.9.2\n\n\n. :'(\nI could only log in from a machine that has no proxy.\n\nc:\\programs\\utility\\Console2>heroku version\nheroku-toolbelt/2.30.3 (i386-mingw32) ruby/1.9.2\n\nc:\\programs\\utility\\Console2>heroku login\nEnter your Heroku credentials.\nEmail: ***\nPassword (typing will be hidden):\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n\n    Error:       A non-blocking socket operation could not be completed immediately. (Errno::EWOULDBLOCK) (Excon::Errors::SocketError)\n    Backtrace:   C:/Program Files (x86)/ruby-1.9.2/lib/ruby/1.9.1/openssl/buffering.rb:36:in `sysread'\n                 C:/Program Files (x86)/ruby-1.9.2/lib/ruby/1.9.1/openssl/buffering.rb:36:in `sysread'\n                 C:/Program Files (x86)/ruby-1.9.2/lib/ruby/1.9.1/openssl/buffering.rb:36:in `fill_rbuff'\n                 C:/Program Files (x86)/ruby-1.9.2/lib/ruby/1.9.1/openssl/buffering.rb:68:in `read'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.1/lib/excon/response.rb:21:in `parse'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.1/lib/excon/ssl_socket.rb:79:in `initialize'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.1/lib/excon/connection.rb:344:in `new'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.1/lib/excon/connection.rb:344:in `socket'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.1/lib/excon/connection.rb:175:in `request_kernel'\n                 C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.1/lib/excon/connection.rb:101:in `request'\n                 C:/Program Files (x86)/Heroku/vendor/gems/heroku-api-0.3.4/lib/heroku/api.rb:61:in `request'\n                 C:/Program Files (x86)/Heroku/vendor/gems/heroku-api-0.3.4/lib/heroku/api/login.rb:9:in `post_login'\n                 C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:76:in `api_key'\n                 C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:185:in `ask_for_credentials'\n                 C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:217:in `ask_for_and_save_credentials'\n                 C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:80:in `get_credentials'\n                 C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:41:in `login'\n                 C:/Program Files (x86)/Heroku/lib/heroku/command/auth.rb:22:in `login'\n                 C:/Program Files (x86)/Heroku/lib/heroku/command.rb:193:in `run'\n                 C:/Program Files (x86)/Heroku/lib/heroku/cli.rb:25:in `start'\n                 C:/Program Files (x86)/Heroku/bin/heroku:25:in `'\n\n    Command:     heroku login\n    HTTP Proxy:  http://***\n    HTTPS Proxy: http://***\n    Version:     heroku-toolbelt/2.30.3 (i386-mingw32) ruby/1.9.2\n\n. Hi, @wuputah. I just tried \"heroku login\" with the latest Heroku Toolbelt. By default I'm getting this: http://pastebin.com/gaYNiAPX\nHowever, after setting the HTTP_PROXY environment variable, the authentication goes fine!\nSo, a note to anyone having issues. Run something like:\n\nSET HTTP_PROXY=http://%USER%:%PASSWORD%@%SERVER%:%PORT%\n\nOf course, set the variables to appropriate values first.\n. ",
    "jezs": "Any updates on this issue?\n. ",
    "jbydeley": "I get the same issue while behind a corporate proxy on a Windows 7 box.\n!    Heroku client internal error..\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       A non-blocking socket operation could not be completed immediately. (Errno::EWOULDBLOCK) Excon::Errors::SocketError)\nBacktrace:   C:/Program Files (x86)/ruby-1.9.2/lib/ruby/1.9.1/openssl/buffering.rb:36:insysread'\n             C:/Program Files (x86)/ruby-1.9.2/lib/ruby/1.9.1/openssl/buffering.rb:36:in sysread'\n             C:/Program Files (x86)/ruby-1.9.2/lib/ruby/1.9.1/openssl/buffering.rb:36:infill_rbuff'\n             C:/Program Files (x86)/ruby-1.9.2/lib/ruby/1.9.1/openssl/buffering.rb:215:in eof?'\n             C:/Program Files (x86)/ruby-1.9.2/lib/ruby/1.9.1/openssl/buffering.rb:190:inreadline'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.4/lib/excon/ssl_socket.rb:78:in initialize'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.4/lib/excon/connection.rb:348:innew'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.4/lib/excon/connection.rb:348:in socket'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.4/lib/excon/connection.rb:179:inrequest_kernel'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.15.4/lib/excon/connection.rb:105:in request'\n             C:/Program Files (x86)/Heroku/vendor/gems/heroku-api-0.3.1/lib/heroku/api.rb:60:inrequest'\n             C:/Program Files (x86)/Heroku/vendor/gems/heroku-api-0.3.1/lib/heroku/api/login.rb:9:in post_login'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:76:inapi_key'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:185:in ask_for_credentials'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:217:inask_for_and_save_credentials'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:80:in get_credentials'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:41:inlogin'\n             C:/Program Files (x86)/Heroku/lib/heroku/command/auth.rb:22:in login'\n             C:/Program Files (x86)/Heroku/lib/heroku/command.rb:179:inrun'\n             C:/Program Files (x86)/Heroku/lib/heroku/cli.rb:25:in start'\n             C:/Program Files (x86)/Heroku/bin/heroku:25:in'\nCommand:     heroku login\n```\nProxy information removed. Toolbelt Version: heroku-toolbelt/2.30.1 (i386-mingw32) ruby/1.9.2\n. ",
    "startingup": "Hi.. i am facing the same issue when using proxy. but when using without proxy, it gives me following error :\nPassword (typing will be hidden):\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       connect timeout reached (Excon::Errors::Timeout)\nBacktrace:   D:/Heroku/vendor/gems/excon-0.15.5/lib/excon/socket.rb:42:in `r\nescue in block in connect'\n                 D:/Heroku/vendor/gems/excon-0.15.5/lib/excon/socket.rb:31:in b\nlock in connect'\n                 D:/Heroku/vendor/gems/excon-0.15.5/lib/excon/socket.rb:29:ine\nach'\n                 D:/Heroku/vendor/gems/excon-0.15.5/lib/excon/socket.rb:29:in c\nonnect'\n                 D:/Heroku/vendor/gems/excon-0.15.5/lib/excon/socket.rb:16:ini\nnitialize'\n                 D:/Heroku/vendor/gems/excon-0.15.5/lib/excon/ssl_socket.rb:31:i\nn initialize'\n                 D:/Heroku/vendor/gems/excon-0.15.5/lib/excon/connection.rb:344:\ninnew'\n                 D:/Heroku/vendor/gems/excon-0.15.5/lib/excon/connection.rb:344:\nin socket'\n                 D:/Heroku/vendor/gems/excon-0.15.5/lib/excon/connection.rb:175:\ninrequest_kernel'\n                 D:/Heroku/vendor/gems/excon-0.15.5/lib/excon/connection.rb:101:\nin request'\n                 D:/Heroku/vendor/gems/heroku-api-0.3.2/lib/heroku/api.rb:60:inrequest'\n                 D:/Heroku/vendor/gems/heroku-api-0.3.2/lib/heroku/api/login.rb:\n9:in post_login'\n                 D:/Heroku/lib/heroku/auth.rb:76:inapi_key'\n                 D:/Heroku/lib/heroku/auth.rb:185:in ask_for_credentials'\n                 D:/Heroku/lib/heroku/auth.rb:217:inask_for_and_save_credentia\nls'\n                 D:/Heroku/lib/heroku/auth.rb:80:in get_credentials'\n                 D:/Heroku/lib/heroku/auth.rb:41:inlogin'\n                 D:/Heroku/lib/heroku/command/auth.rb:22:in login'\n                 D:/Heroku/lib/heroku/command.rb:179:inrun'\n                 D:/Heroku/lib/heroku/cli.rb:25:in start'\n                 D:/Heroku/bin/heroku:25:in'\nCommand:     heroku login\nVersion:     heroku-toolbelt/2.30.2 (i386-mingw32) ruby/1.9.2\n. I am facing the same problem, if anyone has the answer then please reply here.\nThanks!\n. ",
    "rivd": "Hey guys, I am having the same issue to connect to heroku. My proxy settings are correct and I have been installing the latest heroku toolbelt on windows (2.31.2) for the last few days.\nIs there any workaround or any plan to fix this problem?\n. ",
    "pvencill": "Having the same problem on Mac OSX (Lion).  Same errors, and using the latest Toolbelt (2.31.2).\n. same problem as above, same error and environmentals are set correctly.  heroku v2.31.2\n. ",
    "modi975": "setting HTTP_PROXY variable worked for me \nSET HTTP_PROXY=http://%USER%:%PASSWORD%@%SERVER%:%PORT%\nI am working on Win 7\n. ",
    "Sabarishrs": "Hii, am quite new to heroku when i tried to login getting the following error message, please help me to resolve this issue\n    Error:       A socket operation was attempted to an unreachable host. - connect(2) (Errno::EHOSTUNREACH) (Excon::Errors::Socke\ntError)\n    Backtrace:   c:/Program Files/Heroku/vendor/gems/excon-0.25.3/lib/excon/socket.rb:166:in connect'\n                 c:/Program Files/Heroku/vendor/gems/excon-0.25.3/lib/excon/socket.rb:166:inblock (2 levels) in connect'\n                 c:/Program Files/Heroku/ruby-1.9.2/lib/ruby/1.9.1/timeout.rb:69:in timeout'\n                 c:/Program Files/Heroku/vendor/gems/excon-0.25.3/lib/excon/socket.rb:165:inblock in connect'\n                 c:/Program Files/Heroku/vendor/gems/excon-0.25.3/lib/excon/socket.rb:152:in each'\n                 c:/Program Files/Heroku/vendor/gems/excon-0.25.3/lib/excon/socket.rb:152:inconnect'\n                 c:/Program Files/Heroku/vendor/gems/excon-0.25.3/lib/excon/ssl_socket.rb:103:in connect'\n                 c:/Program Files/Heroku/vendor/gems/excon-0.25.3/lib/excon/socket.rb:32:ininitialize'\n                 c:/Program Files/Heroku/vendor/gems/excon-0.25.3/lib/excon/ssl_socket.rb:8:in initialize'\n                 c:/Program Files/Heroku/vendor/gems/excon-0.25.3/lib/excon/connection.rb:361:innew'\n                 c:/Program Files/Heroku/vendor/gems/excon-0.25.3/lib/excon/connection.rb:361:in socket'\n                 c:/Program Files/Heroku/vendor/gems/excon-0.25.3/lib/excon/connection.rb:105:inrequest_call'\n                 c:/Program Files/Heroku/vendor/gems/excon-0.25.3/lib/excon/middlewares/mock.rb:42:in request_call'\n                 c:/Program Files/Heroku/vendor/gems/excon-0.25.3/lib/excon/middlewares/instrumentor.rb:22:inrequest_call'\n                 c:/Program Files/Heroku/vendor/gems/excon-0.25.3/lib/excon/middlewares/base.rb:15:in request_call'\n                 c:/Program Files/Heroku/vendor/gems/excon-0.25.3/lib/excon/middlewares/base.rb:15:inrequest_call'\n                 c:/Program Files/Heroku/vendor/gems/excon-0.25.3/lib/excon/middlewares/base.rb:15:in request_call'\n                 c:/Program Files/Heroku/vendor/gems/excon-0.25.3/lib/excon/connection.rb:244:inrequest'\n                 c:/Program Files/Heroku/vendor/gems/heroku-api-0.3.15/lib/heroku/api.rb:76:in request'\n                 c:/Program Files/Heroku/vendor/gems/heroku-api-0.3.15/lib/heroku/api/login.rb:9:inpost_login'\n                 c:/Program Files/Heroku/lib/heroku/auth.rb:80:in api_key'\n                 c:/Program Files/Heroku/lib/heroku/auth.rb:189:inask_for_credentials'\n                 c:/Program Files/Heroku/lib/heroku/auth.rb:221:in ask_for_and_save_credentials'\n                 c:/Program Files/Heroku/lib/heroku/auth.rb:84:inget_credentials'\n                 c:/Program Files/Heroku/lib/heroku/auth.rb:41:in login'\n                 c:/Program Files/Heroku/lib/heroku/command/auth.rb:31:inlogin'\n                 c:/Program Files/Heroku/lib/heroku/command.rb:218:in run'\n                 c:/Program Files/Heroku/lib/heroku/cli.rb:28:instart'\n                 c:/Program Files/Heroku/bin/heroku:29:in `'\nCommand:     heroku login\nVersion:     heroku/toolbelt/3.2.0 (i386-mingw32) ruby/1.9.3\n. ",
    "JCB-K": "@wuputah I've upgraded my computer since, but I guess the issue stil exists. It's probably not a massive problem though, as I might have been the actual last person using Heroku on PowerPC :)\n. ",
    "HotFusionMan": "Heroku Toolbelt's heroku command-line client behaves this same way when I'm in a \"heroku run console\" session.  Mac OS X 10.7.5, RVM, Ruby 1.9.3p125.\nUpdate:  Looks like the machines Heroku runs on have their /etc/inputrc file not define the EMACS yank behavior we're expecting.  If it included the following line inside the \"$if mode=emacs\" block, I think this issue would be resolved.\n\"\\C-y\": quoted-insert\nIt looks like if you set the INPUTRC environment variable to the name of a custom inputrc file you supply, and in that inputrc file you have the above line (ideally, within a \"$if mode=emacs\" block), then this issue would be resolved on a per-installation basis.\n. @jjb Nope, despite what I wrote earlier.  I suppose I could try committing an appropriate .inputrc to my GitHub repo, but I haven't gotten around to that.\n. ",
    "costa": "I can confirm this issue as described above. Can anyone report not having this issue on OSX? I wonder what Ctrl-Y can ever mean other than Emacs-style yank...\n. ",
    "agiz": "Excuse my ignorance but could this be somehow related with ncurses dynamic library?\nI am experiencing exact same behavior using python curses on OS X 10.7.3 for what it's worth.\n. Behavior probably explained at http://bugs.python.org/msg178112.\n. ",
    "samstrasser": "Did anyone figure this out? I am having the same issue and (kind of randomly) messing with .inputrc and stty settings has had no effect.\n. ",
    "cloudsuite": "Wesley:\n    Thanks for looking into this.\n    Following your suggestion,  \"gem install heroku\" using my RVM installed Ruby 1.9.3 gave a permission error:\n```\n    Thomass-MacBook-Air:~ thomas$ cd desktop/cake \n    Thomass-MacBook-Air:cake thomas$ gem install heroku \n        /Users/thomas/.rvm/rubies/ruby-1.9.3-p194/bin/gem:4: warning: Insecure world writable dir /Users/thomas/Desktop/cake in PATH, mode 040777 \n        Fetching: excon-0.14.3.gem (100%) \n        ERROR: While executing gem ... (Errno::EACCES) Permission denied - /Users/thomas/.rvm/gems/ruby-1.9.3-p194/cache/excon-0.14.3.gem \nHere is a screen grab of the directory tree:  Users/thomas/.rvm/gem/ruby_19.3-p194/cache.  You will note that it does not contain a gem 'execon-0.14.3'.  It does contain the taps gem.  \nSeen this before also? \n```\nTom Atwood\ntom@cloudsuitemedia.com\nOn Jul 13, 2012, at 11:46 AM, Wesley Beary wrote:\n\n@cloudsuite - the toolbelt, for consistency sake, uses system ruby (rather than whatever rvm has).  As such it can complicate things like gem dependencies as you have seen.  For now your best workaround may be to just use your rvm ruby to gem install heroku and then use that.  It should then be able to find taps.  We are working to figure out a better solution to this on the toolbelt side, but I fear it may be a little ways off still.  Let me know if the gem doesn't get you what you need.  Thanks!\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/447#issuecomment-6971835\n. Wesley:\n\n```\nInstalling with sudo got around the problem.   Thanks.  \nI wondered about that warning also, but $PATH returns:\n    Thomass-MacBook-Air:cake thomas$ $PATH\n```\n-bash: /Users/thomas/.rvm/gems/ruby-1.9.3-p194/bin:/Users/thomas/.rvm/gems/ruby-1.9.3-p194@global/bin:/Users/thomas/.rvm/rubies/ruby-1.9.3-p194/bin:/Users/thomas/.rvm/bin:/usr/local/bin:/usr/local/sbin:~/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/X11/bin: No such file or directory\n```\n    I don't know what the 'No such file or directory' refers to; there is a /usr/X11/bin directory.  Anything else it might be?  \nI appreciate the help.  May I send you a question on installing Wordpress on heroku also?  Useful for either Rails site with Wordpress blog, or, in my current case, Wordpress site with Rails handling of an embedded form that has some sophisticated processing behind it.\n```\n:Tom\nOn Jul 13, 2012, at 3:22 PM, Wesley Beary wrote:\n\n@cloudsuite - you may need to use sudo with the gem install (depending on your setup).  Also it appears that /Users/thomas/Desktop/cake is in your PATH (and perhaps shouldn't be).  Using sudo for the install should get you past the install issue at least though.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/447#issuecomment-6976959\n. Could be.  What fun would it be if there weren't a few outstanding mysteries. \n\nI wondered if there was someone in your group that had any experience with helping people put Wordpress sites up on heroku?   That would seem to be a potentially large market for heroku,  but the doc on how to do it is probably too sketchy at this point for that to take off.  Mostly widely referenced is this gem:\n    https://github.com/mhoofman/wordpress-heroku\nThis works nicely until you get to the ' After deployment WordPress has a few more steps to setup and thats it!'\nIf you're a Rails developer, and attempting to put up your first Wordpress site, e.g., for a blog associated with a Rails site, you're stuck at this point. \nIn my case, I didn't know how to set up Postgres to act as the database for the Wordpress CMS \u2014 nor how to load the database from the SQL dump of my local development copy of Wordpress built on a local copy of the MAMP stack.  \nI would suggest a heroku Development writeup that \n    1`. references the hoofman gem\n    2.  goes carefully through how to set up the Postgres database and get the Wordpress runtime talking to it properly, and how to load the database. ( In Wordpress, the 'posts' and 'comments' are stored as entries in the database. ) \n    3.  goes through an example of updating the Wordpress site on your development machine and pushing the changes ( additional 'post' entries in the database, and/or HTML/css changes ) from your local repo and dbms to the heroku repo and database. \nIf it would help to have someone attempting to put up a Wordpress site on heroku for the first time either vet or collaborate on writing up that article, I would be glad to.  I find that once you understand something, it is often hard to remember what it was that hung you up before you did understand it.\n:Tom\nOn Jul 16, 2012, at 8:41 AM, Wesley Beary wrote:\n\n@cloudsuite - Glad to hear that got it working for you.  Perhaps the non-found file is one of the others in that colon separated list?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/447#issuecomment-7009640\n. \n",
    "arathnam": "What version should I be on? It says there is nothing to update. Thanks!\n(venv)myhost:server2 adi$ heroku version\nheroku-gem/2.28.7 (universal-darwin11.0) ruby/1.8.7\n(venv)myhost:server2 adi$ gem update heroku\nUpdating installed gems\nNothing to update\n. Cool, thanks, worked!\n. ",
    "zeke": "Good points.\nThere is actually a heroku addons:list command already, but it's not in great shape: it's slow (0m5.399s), and groups addons by internal state label (alpha, avaialable, beta, disabled, etc). I think a simple path to improvement there would be to only show 'available' addons.\nAn alternative to a prompt would be to discontinue the practice of defaulting to the cheapest plan in the absence of a plan slug, instead dumping a message to STDERR..\n```\n$ heroku addons:add airbrake\nTo add the airbrake addon, please specify a plan:\nheroku addons:add airbrake:developer\nheroku addons:add airbrake:developer_plus\nheroku addons:add airbrake:production\nheroku addons:add airbrake:production_pro\nheroku addons:add airbrake:production_pro_plus\nheroku addons:add airbrake:enterprise_production\n``\n. No need for new command syntax whenheroku addons:list | grep airbrakeworks just fine. Improving the performance and output ofaddons:list` seems like a great goal though.\nBack to the original issue, I think @kr makes a great point: \n\nIt's really nice to be able to play around with an addon without worrying about which plan you're using yet.\n\nMaybe I should direct users down this path from the web interface? It seems that getting users hooked into the addons ecosystem is more of a priority right now than selling bigger plans.\n. memmmmories...\n. @mmcgrana @ddollar thoughts on this?\n. :+1: \n. @aseemk why is your repo over 500MB? Lots of history?\n. heroku fork is not a supported thing any more. Consider using review apps instead.\n\nReview apps run the code in any GitHub pull request in a complete, disposable app on Heroku. Each review app has a unique URL you can share. You can configure review apps to spin up automatically for each pull request, or create each manually at the push of a button from the Heroku Pipelines page of the connected repo.. Makes sense, @geemus -- thanks for clarifying.  Should I remove the alias and submit a new pull request, or does this whole whoami bit belong in heroku sudo instead?\n. \n",
    "mattreduce": "@kennethreitz I've made a quick pass at displaying heroku help auth when running heroku auth. Any thoughts?\n. @geemus Yes, I was trying to find a better way to trigger help display outside of Help, but decided this may work for a single case. Will submit a pull request.\n. After manually reinstalling, I did not have the issue anymore as you said. Thank you! :)\n. Looks like this caused some build failures, working on them\n. The build failed, but it has been failing in Travis the same way for previous commits. It passes locally.\n. :tada:\n. @mnoble thanks! Deprecation warning and prompt to remove the old plugin worked for me. :+1: @dickeyxxx this all looks good to us and we're ready for a merge and Toolbelt release as soon as you're able. Is today possible?\n. @dickeyxxx awesome, thank you! :)\n. Thanks! :)\n. @dickeyxxx could you cut a Toolbelt release, as well? Many thanks :D\n. @dickeyxxx :tada: thanks!\n. :tada: thanks, @dickeyxxx!\n. Looks good to me, thanks @bjeanes!\n. @bjeanes @mathias I think Direwolf is a good place to test various scenarios for the CLI. Thoughts?\n. :tada: \n. Nice! Thank you, @bjeanes :sparkles: \n. @dickeyxxx my apologies for the hasty merge here\u2014when I saw that Bo's code looked right to me and moved back to the discussion, I was in the mindset that I was working with our CLI plugin. Feel free to un-merge this until you've had a chance to review it.\n. A-ha, thanks for explaining. That should do for now (and #1706 will help when it lands) :+1: \n. fwiw I prefer the resource (config_vars, ...) format\n. Indeed, and I'd like to see that change :speak_no_evil: Perhaps you're right that we shouldn't surprise users, though. The struggle is real. :weary: \n. ",
    "Irio": "@geemus Internet connection wasn't a problem, maybe Heroku was delaying to response at the time.\n. ",
    "Dakuan": "I am also having this, but its repeatedly for the past 5 minutes\n. ",
    "foxkillerli": "I also have this problem as well.\nIt took a long long time to run the command, and even I used --trace to trace what happened in heroku, it gave me nothing.\n. ",
    "vijayjangid07": "Sir, It gives error after getting 4500 rows. So mysql connection is not closed. I is running locally very good.\n. ",
    "c2h5oh": "If the time between data request and getting the actual data exceeds 30 seconds MySQL connection will close, unless you increase net_write_timeout.\n. ",
    "tu2011": "Sorry, thanks Wesley.\nOn Fri, Aug 17, 2012 at 1:44 PM, Wesley Beary notifications@github.comwrote:\n\n@tu2011 https://github.com/tu2011 - I'm closing this since I haven't\nheard any more, but let me know if you are still having issues.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/460#issuecomment-7834588.\n\n\nAARON GOODIN\nhttp://www.talktup.com\nThe information contained in this email message is intended only for the\npersonal and confidential use of the recipient(s) named above. This message\nmay be privileged and confidential. If the reader of this message is not\nthe intended recipient or an agent responsible for delivering it to the\nintended recipient, you are hereby notified that you have received this\ndocument in error and that any review, dissemination, distribution, or\ncopying of this message is strictly prohibited. If you have received this\ncommunication in error, please notify me immediately by email, and delete\nthe original message\n. ",
    "tonyxiao": "Same problem. +1\n. ",
    "codebykat": "I can confirm this does seem to be a problem with the 2.28.12 gem; switching to toolbelt fixed it for me.  (Also was present in 2.26.6 gem, which I updated from when I initially ran into this problem.)  My setup is Rails3, not python.\nI was also unable to run pg:reset (getting \"Resource not found\") until switching to toolbelt, so this seems like a bigger problem.\n$ heroku pg:info\n=== SHARED_DATABASE (DATABASE_URL)\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       wrong number of arguments (2 for 1) (ArgumentError)\nBacktrace:   /Users/kat/.heroku/client/lib/heroku/command/pg.rb:206:instyled_hash'\n             /Users/kat/.heroku/client/lib/heroku/command/pg.rb:206:in display_db'\n             /Users/kat/.heroku/client/lib/heroku/command/pg.rb:38:ininfo'\n             /Users/kat/.heroku/client/lib/heroku/command/pg.rb:37:in each'\n             /Users/kat/.heroku/client/lib/heroku/command/pg.rb:37:ininfo'\n             /Users/kat/.heroku/client/lib/heroku/command.rb:178:in send'\n             /Users/kat/.heroku/client/lib/heroku/command.rb:178:inrun'\n             /Users/kat/.heroku/client/lib/heroku/cli.rb:25:in `start'\n             /usr/bin/heroku:28\nCommand:     heroku pg:info\nVersion:     heroku-gem/2.28.12 (universal-darwin11.0) ruby/1.8.7\n```\n$ heroku version\nheroku-gem/2.28.12 (universal-darwin11.0) ruby/1.8.7\n$ heroku version\nheroku-toolbelt/2.28.12 (universal-darwin11.0) ruby/1.8.7\n$ heroku pg:info\n=== SHARED_DATABASE (DATABASE_URL)\nData Size: 128k\n. ",
    "dgoodwin208": "Yes that worked - updating the client worked for me. Thanks a lot for the\nreply.\nOn a side note, 2.28.12 also had a bug with the update function. Installing\nfrom toolbelt.heroku.com worked fine and \"$heroku update\" works in 2.28.14\nThis is what I saw with 2.28.12\n$ heroku update\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method `check_disabled!' for\nHeroku::Updater:Module (NoMethodError)\n    Backtrace:\n/Users/dang/.heroku/client/lib/heroku/command/update.rb:37:in\n`update_from_url'\n/Users/dang/.heroku/client/lib/heroku/command/update.rb:19:in index'\n                 /Users/dang/.heroku/client/lib/heroku/command.rb:178:insend'\n                 /Users/dang/.heroku/client/lib/heroku/command.rb:178:in\nrun'\n                 /Users/dang/.heroku/client/lib/heroku/cli.rb:25:instart'\n                 /usr/bin/heroku:28\nCommand:     heroku update\nVersion:     heroku-gem/2.28.12 (universal-darwin11.0) ruby/1.8.7\nOn Mon, Jul 16, 2012 at 4:38 PM, Wesley Beary <\nreply@reply.github.com\n\nwrote:\n@codebykat - thanks for the heads up, glad to hear that got you back on\ntrack.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/461#issuecomment-7016627\n. \n",
    "himanshusingh": "I get this error after updating and running 'heroku info' :-\nError:       undefined local variable or method uri' for #<Excon::SSLSocket:0x8825c50> (NameError) (Excon::Errors::SocketError)\n    Backtrace:   /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/excon-0.15.0/lib/excon/socket.rb:79:ininitialize_proxy'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/excon-0.15.0/lib/excon/socket.rb:70:in connect'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/excon-0.15.0/lib/excon/socket.rb:16:ininitialize'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/excon-0.15.0/lib/excon/ssl_socket.rb:31:in initialize'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/excon-0.15.0/lib/excon/connection.rb:343:innew'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/excon-0.15.0/lib/excon/connection.rb:343:in socket'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/excon-0.15.0/lib/excon/connection.rb:174:inrequest_kernel'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/excon-0.15.0/lib/excon/connection.rb:100:in request'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-api-0.2.9/lib/heroku/api.rb:60:inrequest'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-api-0.2.9/lib/heroku/api/login.rb:9:in post_login'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.13/lib/heroku/auth.rb:76:inapi_key'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.13/lib/heroku/auth.rb:185:in ask_for_credentials'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.13/lib/heroku/auth.rb:217:inask_for_and_save_credentials'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.13/lib/heroku/auth.rb:80:in get_credentials'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.13/lib/heroku/auth.rb:70:inpassword'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.13/lib/heroku/auth.rb:17:in api'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.13/lib/heroku/command/base.rb:39:inapi'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.13/lib/heroku/command/apps.rb:66:in info'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.13/lib/heroku/command.rb:179:inrun'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.13/lib/heroku/cli.rb:25:in start'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.13/bin/heroku:16:in'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/bin/heroku:19:in load'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/bin/heroku:19:in'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/bin/ruby_noexec_wrapper:14:in eval'\n                 /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/bin/ruby_noexec_wrapper:14:in'\nCommand:     heroku info\nHTTP Proxy:  http://myuser:pass@proxy:port/\nHTTPS Proxy: http://myuser:pass@proxy:port/\nVersion:     heroku-gem/2.28.13 (i686-linux) ruby/1.9.3\n. @geemus - Thanks for your quick reply and support. Here is a new error for you :-)\nError:       uninitialized constant Excon::Socket::EXCON (NameError) (Excon::Errors::SocketError)\nBacktrace:   /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/excon-0.15.1/lib/excon/socket.rb:79:in `initialize_proxy'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/excon-0.15.1/lib/excon/socket.rb:70:in `connect'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/excon-0.15.1/lib/excon/socket.rb:16:in `initialize'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/excon-0.15.1/lib/excon/ssl_socket.rb:31:in `initialize'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/excon-0.15.1/lib/excon/connection.rb:343:in `new'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/excon-0.15.1/lib/excon/connection.rb:343:in `socket'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/excon-0.15.1/lib/excon/connection.rb:174:in `request_kernel'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/excon-0.15.1/lib/excon/connection.rb:100:in `request'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-api-0.2.10/lib/heroku/api.rb:60:in `request'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-api-0.2.10/lib/heroku/api/login.rb:9:in `post_login'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.14/lib/heroku/auth.rb:76:in `api_key'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.14/lib/heroku/auth.rb:185:in `ask_for_credentials'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.14/lib/heroku/auth.rb:217:in `ask_for_and_save_credentials'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.14/lib/heroku/auth.rb:80:in `get_credentials'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.14/lib/heroku/auth.rb:70:in `password'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.14/lib/heroku/auth.rb:17:in `api'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.14/lib/heroku/command/base.rb:39:in `api'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.14/lib/heroku/command/apps.rb:66:in `info'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.14/lib/heroku/command.rb:179:in `run'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.14/lib/heroku/cli.rb:25:in `start'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.14/bin/heroku:16:in `<top (required)>'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/bin/heroku:19:in `load'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/bin/heroku:19:in `<main>'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/bin/ruby_noexec_wrapper:14:in `eval'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/bin/ruby_noexec_wrapper:14:in `<main>'\n. @geemus -  It worked! Thank you!\n. @geemus - Another one :-)\n``\nError:       getaddrinfo: Name or service not known (SocketError)\nBacktrace:   /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.15/lib/heroku/client/rendezvous.rb:36:ininitialize'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.15/lib/heroku/client/rendezvous.rb:36:in open'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.15/lib/heroku/client/rendezvous.rb:36:inblock in start'\n             /home/himanshu/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/timeout.rb:68:in timeout'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.15/lib/heroku/client/rendezvous.rb:30:instart'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.15/lib/heroku/command/run.rb:117:in rendezvous_session'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.15/lib/heroku/command/run.rb:104:inrun_attached'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.15/lib/heroku/command/run.rb:21:in index'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.15/lib/heroku/command.rb:179:inrun'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.15/lib/heroku/cli.rb:25:in start'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/gems/heroku-2.28.15/bin/heroku:16:in'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/bin/heroku:19:in load'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/bin/heroku:19:in'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/bin/ruby_noexec_wrapper:14:in eval'\n             /home/himanshu/.rvm/gems/ruby-1.9.3-p194@rails3tutorial2ndEd/bin/ruby_noexec_wrapper:14:in'\nCommand:     heroku run rake db:migrate\nHTTP Proxy:  http://myuser:pass@proxy:port/\nHTTPS Proxy: http://myuser:pass@proxy:port/\nVersion:     heroku-gem/2.28.15 (i686-linux) ruby/1.9.3\n```\n. @geemus - I do not know of any process which makes non-http connections with my proxy. However, heroku run:detached runs fine for now. Thank you for your help.\n. ",
    "nterry": "I am also getting the original behavior described in this issue. I tried to use run:detached and I am using the latest CLI gem. Are there any other suggestions? We are behind a proxy and we have set https_proxy to the correct url. We are running in ruby 1.9.2. \n. I am also experiencing this issue. I am behind a proxy and I have set the https_proxy env variable to the correct url. I am running the latest CLI gem and running in ruby 1.9.2. Ive tried all the suggestions in https://github.com/heroku/heroku/issues/463 including running in detached mode. \nDoes anyone have any other suggestions?\n. Running login detached... Enter your Heroku credentials.\nEmail: \nPassword (typing will be hidden): \nverify off\nfailed\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       SSL_connect SYSCALL returned=5 errno=0 state=SSLv2/v3 read server hello A (OpenSSL::SSL::SSLError) (Excon::Errors::SocketError)\nBacktrace:   /var/lib/gems/1.9.1/gems/excon-0.15.5/lib/excon/ssl_socket.rb:86:inconnect'\n             /var/lib/gems/1.9.1/gems/excon-0.15.5/lib/excon/ssl_socket.rb:86:in initialize'\n             /var/lib/gems/1.9.1/gems/excon-0.15.5/lib/excon/connection.rb:345:innew'\n             /var/lib/gems/1.9.1/gems/excon-0.15.5/lib/excon/connection.rb:345:in socket'\n             /var/lib/gems/1.9.1/gems/excon-0.15.5/lib/excon/connection.rb:175:inrequest_kernel'\n             /var/lib/gems/1.9.1/gems/excon-0.15.5/lib/excon/connection.rb:101:in request'\n             /var/lib/gems/1.9.1/gems/heroku-api-0.3.2/lib/heroku/api.rb:60:inrequest'\n             /var/lib/gems/1.9.1/gems/heroku-api-0.3.2/lib/heroku/api/login.rb:9:in post_login'\n             /var/lib/gems/1.9.1/gems/heroku-2.30.2/lib/heroku/auth.rb:76:inapi_key'\n             /var/lib/gems/1.9.1/gems/heroku-2.30.2/lib/heroku/auth.rb:185:in ask_for_credentials'\n             /var/lib/gems/1.9.1/gems/heroku-2.30.2/lib/heroku/auth.rb:217:inask_for_and_save_credentials'\n             /var/lib/gems/1.9.1/gems/heroku-2.30.2/lib/heroku/auth.rb:80:in get_credentials'\n             /var/lib/gems/1.9.1/gems/heroku-2.30.2/lib/heroku/auth.rb:70:inpassword'\n             /var/lib/gems/1.9.1/gems/heroku-2.30.2/lib/heroku/auth.rb:17:in api'\n             /var/lib/gems/1.9.1/gems/heroku-2.30.2/lib/heroku/command/base.rb:40:inapi'\n             /var/lib/gems/1.9.1/gems/heroku-2.30.2/lib/heroku/command/run.rb:39:in block in detached'\n             /var/lib/gems/1.9.1/gems/heroku-2.30.2/lib/heroku/helpers.rb:232:inaction'\n             /var/lib/gems/1.9.1/gems/heroku-2.30.2/lib/heroku/command/run.rb:38:in detached'\n             /var/lib/gems/1.9.1/gems/heroku-2.30.2/lib/heroku/command.rb:179:inrun'\n             /var/lib/gems/1.9.1/gems/heroku-2.30.2/lib/heroku/cli.rb:25:in start'\n             /var/lib/gems/1.9.1/gems/heroku-2.30.2/bin/heroku:16:in'\n             /var/lib/gems/1.9.1/bin/heroku:19:in load'\n             /var/lib/gems/1.9.1/bin/heroku:19:in'\nCommand:     heroku run:detached login\nHTTP Proxy:  http://myproxy:80\nHTTPS Proxy: http://myproxy:80\nVersion:     heroku-gem/2.30.2 (x86_64-linux) ruby/1.9.2\n```\nJust as a note, the 'verify off' stuff is just some debug output we added to try to locate the issue.\n. Is that an environment variable?\n. It doesn't get me a different error:\nheroku login\nEnter your Heroku credentials.\nEmail: \nPassword (typing will be hidden): \nverify off\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       SSL_connect SYSCALL returned=5 errno=0 state=SSLv2/v3 read server hello A (OpenSSL::SSL::SSLError) (Excon::Errors::SocketError)\nBacktrace:   /var/lib/gems/1.9.1/gems/excon-0.15.5/lib/excon/ssl_socket.rb:86:inconnect'\n             /var/lib/gems/1.9.1/gems/excon-0.15.5/lib/excon/ssl_socket.rb:86:in initialize'\n             /var/lib/gems/1.9.1/gems/excon-0.15.5/lib/excon/connection.rb:345:innew'\n             /var/lib/gems/1.9.1/gems/excon-0.15.5/lib/excon/connection.rb:345:in socket'\n             /var/lib/gems/1.9.1/gems/excon-0.15.5/lib/excon/connection.rb:175:inrequest_kernel'\n             /var/lib/gems/1.9.1/gems/excon-0.15.5/lib/excon/connection.rb:101:in request'\n             /var/lib/gems/1.9.1/gems/heroku-api-0.3.2/lib/heroku/api.rb:60:inrequest'\n             /var/lib/gems/1.9.1/gems/heroku-api-0.3.2/lib/heroku/api/login.rb:9:in post_login'\n             /var/lib/gems/1.9.1/gems/heroku-2.30.2/lib/heroku/auth.rb:76:inapi_key'\n             /var/lib/gems/1.9.1/gems/heroku-2.30.2/lib/heroku/auth.rb:185:in ask_for_credentials'\n             /var/lib/gems/1.9.1/gems/heroku-2.30.2/lib/heroku/auth.rb:217:inask_for_and_save_credentials'\n             /var/lib/gems/1.9.1/gems/heroku-2.30.2/lib/heroku/auth.rb:80:in get_credentials'\n             /var/lib/gems/1.9.1/gems/heroku-2.30.2/lib/heroku/auth.rb:41:inlogin'\n             /var/lib/gems/1.9.1/gems/heroku-2.30.2/lib/heroku/command/auth.rb:22:in login'\n             /var/lib/gems/1.9.1/gems/heroku-2.30.2/lib/heroku/command.rb:179:inrun'\n             /var/lib/gems/1.9.1/gems/heroku-2.30.2/lib/heroku/cli.rb:25:in start'\n             /var/lib/gems/1.9.1/gems/heroku-2.30.2/bin/heroku:16:in'\n             /var/lib/gems/1.9.1/bin/heroku:19:in load'\n             /var/lib/gems/1.9.1/bin/heroku:19:in'\nCommand:     heroku login\nHTTP Proxy:  http://my.proxy.com\nHTTPS Proxy: http://my.proxy.com\nVersion:     heroku-gem/2.30.2 (x86_64-linux) ruby/1.9.2\n```\nJust as a side note, we have also tried several different security models. We tried TLS and SSL v1, 2 and 3\n. Ok, so some additional information. I tried using JRuby instead of vanilla Ruby. I got the following:\nRunning login detached... Enter your Heroku credentials.\nEmail: \nPassword (typing will be hidden): stty: standard input: Invalid argument\nstty: standard input: Invalid argument\nfailed\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       Socket closed (OpenSSL::SSL::SSLError) (Excon::Errors::SocketError)\nBacktrace:   org/jruby/ext/openssl/SSLSocket.java:158:inconnect'\n             /home/nterry/jruby-1.7.0.preview2/lib/ruby/gems/shared/gems/excon-0.16.1/lib/excon/ssl_socket.rb:83:in initialize'\n             /home/nterry/jruby-1.7.0.preview2/lib/ruby/gems/shared/gems/excon-0.16.1/lib/excon/connection.rb:344:insocket'\n             /home/nterry/jruby-1.7.0.preview2/lib/ruby/gems/shared/gems/excon-0.16.1/lib/excon/connection.rb:175:in request_kernel'\n             /home/nterry/jruby-1.7.0.preview2/lib/ruby/gems/shared/gems/excon-0.16.1/lib/excon/connection.rb:101:inrequest'\n             /home/nterry/jruby-1.7.0.preview2/lib/ruby/gems/shared/gems/heroku-api-0.3.4/lib/heroku/api.rb:61:in request'\n             /home/nterry/jruby-1.7.0.preview2/lib/ruby/gems/shared/gems/heroku-api-0.3.4/lib/heroku/api/login.rb:5:inpost_login'\n             /home/nterry/jruby-1.7.0.preview2/lib/ruby/gems/shared/gems/heroku-2.30.3/lib/heroku/auth.rb:76:in api_key'\n             /home/nterry/jruby-1.7.0.preview2/lib/ruby/gems/shared/gems/heroku-2.30.3/lib/heroku/auth.rb:185:inask_for_credentials'\n             /home/nterry/jruby-1.7.0.preview2/lib/ruby/gems/shared/gems/heroku-2.30.3/lib/heroku/auth.rb:217:in ask_for_and_save_credentials'\n             /home/nterry/jruby-1.7.0.preview2/lib/ruby/gems/shared/gems/heroku-2.30.3/lib/heroku/auth.rb:80:inget_credentials'\n             /home/nterry/jruby-1.7.0.preview2/lib/ruby/gems/shared/gems/heroku-2.30.3/lib/heroku/auth.rb:70:in password'\n             /home/nterry/jruby-1.7.0.preview2/lib/ruby/gems/shared/gems/heroku-2.30.3/lib/heroku/auth.rb:17:inapi'\n             /home/nterry/jruby-1.7.0.preview2/lib/ruby/gems/shared/gems/heroku-2.30.3/lib/heroku/command/base.rb:40:in api'\n             /home/nterry/jruby-1.7.0.preview2/lib/ruby/gems/shared/gems/heroku-2.30.3/lib/heroku/command/run.rb:39:indetached'\n             /home/nterry/jruby-1.7.0.preview2/lib/ruby/gems/shared/gems/heroku-2.30.3/lib/heroku/helpers.rb:232:in action'\n             /home/nterry/jruby-1.7.0.preview2/lib/ruby/gems/shared/gems/heroku-2.30.3/lib/heroku/command/run.rb:38:indetached'\n             org/jruby/RubyBasicObject.java:1667:in __send__'\n             org/jruby/RubyKernel.java:2060:insend'\n             /home/nterry/jruby-1.7.0.preview2/lib/ruby/gems/shared/gems/heroku-2.30.3/lib/heroku/command.rb:193:in run'\n             /home/nterry/jruby-1.7.0.preview2/lib/ruby/gems/shared/gems/heroku-2.30.3/lib/heroku/cli.rb:25:instart'\n             /home/nterry/jruby-1.7.0.preview2/lib/ruby/gems/shared/gems/heroku-2.30.3/bin/heroku:16:in (root)'\n             org/jruby/RubyKernel.java:1050:inload'\n             /home/nterry/jruby-1.7.0.preview2/bin/heroku:23:in `(root)'\nCommand:     heroku run:detached login\nHTTP Proxy:  http://myproxy:80/\nHTTPS Proxy: http://myproxy:80/\nVersion:     heroku-gem/2.30.3 (java) ruby/1.9.3\n```\nStill appears to be no good.\n. ",
    "pat": "For what it's worth, I'm getting this too, on at least two different (cedar) apps. I've made sure the heroku gem is no longer installed, didn't make a difference (though, my backtrace lines are in ~/.heroku/client).\n. Not sure if anything's changed, but it's working for me now (on a different internet connection). It's worth noting that I'm currently in Florence, so perhaps some ISPs in Italy don't have great latency to AWS? (Just guesswork, given @ClaudioFloreani is based in Milan).\n. @geemus - just had Phil from Heroku support say it's related to a proxy issue? Ticket 57679.\n. Rightio. Will leave it with you :)\n. For what it's worth, the connection I'm on here where it doesn't work is also with Fastweb.\n. ",
    "ClaudioFloreani": "Still getting error here. My IP is 93.50.97.3\n. And we're not using proxies afaik\n. Now I'll try with a mobile network connection\n. Yes is something network-related, with mobile network connection IP 109.112.71.145 it works.\n. Using Fastweb network with IP 93.50.97.3:\nheroku run:console FAIL\nheroku logs -t  WORKS\nheroku pg:psql FAIL\nheroku pg:info WORKS\nheroku releases WORKS\n. ",
    "tompave": "Hello,\nI'm getting this error too, and I'm connecting from Italy with Fastweb ISP.\nI think an explanation can be found here.\nIt would seem that Fastweb blocks port 5000.\nThis is my telnet output:\n$ telnet rendezvous.runtime.heroku.com 5000\nTrying 50.19.103.36...\ntelnet: connect to address 50.19.103.36: Operation timed out\ntelnet: Unable to connect to remote host\nThe problem with fastweb is that it doesn't provide a public IP by default, because its network is composed of a moltitude of phisical WANs (neightborhood-scale) spreading across the whole Italy.\nEach user/customer has a private IP address within its WAN, but it appars on the web with an IP address that is shared with the whole WAN.\nI tried to open the 5000 TCP and UDP ports though the ISP account settings webpage, but its no use.\nI also tried to activate the public IP service (\u20ac0.5/hour), but it won't work either.\nWell, I guess I will have to tether the computer....\nAnyway, can we re-open this issue? Since other commands work (heroku ps, heroku scale, git push heroku master, heroku info) maybe finding a solution won't be that hard.\n. meanwhile... I confirm that tethering the Computer to an iPhone either via USB or Bluetooth worked perfectly.\n. @ddollar Thank you very much.\n. @geemus Hi, I'm using the heroku-accounts plugin. The problem is that it does not update the ~/.netrc file. Each time I switch accounts with:\nheroku accounts: set whatever\nI also have to:\nheroku login\nto fully switch.\n. ",
    "stefanoverna": "@ddollar are there any updates?\n. ",
    "jodosha": "@ddollar Same problem here. run:detached trick can work for commands like migrations, but if you need an interactive console, the issue can't be circumvented. Thank you.\n. @dickeyxxx Thank you for your answer. I solved the problem using a VPN.\n. ",
    "tabletcorry": "Fair enough, I had not seen that plugin. Nifty.\n. ",
    "reiz": "I can not update. As soon I run \"heroku update\" I get this odd error message. What should I do? Any ideas? \n. OK. I installed the toolbelt from the heroku page, that fixed the bug. It's working again. \n. ",
    "tecb": "@geemus  \nruby -r rbconfig -e \"RbConfig::CONFIG['host_os']\"\n-e:1:in <main>': undefined local variable or methodhost_os' for main:Object (NameError)\nInside ruby console RbConfig::CONFIG['host_os'] throws this:\n\"mingw32\"\nHow i can disable ssl verification in windows?\nThank's\n. I set HEROKU_SSL_VERIFY=disable but same. I'm using gem heroku 2.30.0.... I'll try with toolbelt and comment next\n\n$ heroku create --stack cedar\n !    Heroku client internal error..\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       Unable to verify certificate, please set `Excon.defaults[:ssl_c\na_path] = path_to_certs,Excon.defaults[:ssl_ca_file] = path_to_file, orExc\non.defaults[:ssl_verify_peer] = false(less secure). (Excon::Errors::SocketErro\nr)\n    Backtrace:   c:/RailsInstaller/Ruby1.9.2/lib/ruby/gems/1.9.1/gems/excon-0.15\n.4/lib/excon/ssl_socket.rb:84:inconnect'\n                 c:/RailsInstaller/Ruby1.9.2/lib/ruby/gems/1.9.1/gems/excon-0.15\n.4/lib/excon/ssl_socket.rb:84:in initialize'\n                 c:/RailsInstaller/Ruby1.9.2/lib/ruby/gems/1.9.1/gems/excon-0.15\n.4/lib/excon/connection.rb:348:innew'\n                 c:/RailsInstaller/Ruby1.9.2/lib/ruby/gems/1.9.1/gems/excon-0.15\n.4/lib/excon/connection.rb:348:in socket'\n                 c:/RailsInstaller/Ruby1.9.2/lib/ruby/gems/1.9.1/gems/excon-0.15\n.4/lib/excon/connection.rb:179:inrequest_kernel'\n                 c:/RailsInstaller/Ruby1.9.2/lib/ruby/gems/1.9.1/gems/excon-0.15\n.4/lib/excon/connection.rb:105:in request'\n                 c:/RailsInstaller/Ruby1.9.2/lib/ruby/gems/1.9.1/gems/heroku-api\n-0.3.1/lib/heroku/api.rb:60:inrequest'\n                 c:/RailsInstaller/Ruby1.9.2/lib/ruby/gems/1.9.1/gems/heroku-2.3\n0.1/lib/heroku/auth.rb:20:in request'\n                 c:/RailsInstaller/Ruby1.9.2/lib/ruby/gems/1.9.1/gems/heroku-api\n-0.3.1/lib/heroku/api/apps.rb:46:inpost_app'\n                 c:/RailsInstaller/Ruby1.9.2/lib/ruby/gems/1.9.1/gems/heroku-2.3\n0.1/lib/heroku/command/apps.rb:185:in create'\n                 c:/RailsInstaller/Ruby1.9.2/lib/ruby/gems/1.9.1/gems/heroku-2.3\n0.1/lib/heroku/command.rb:179:inrun'\n                 c:/RailsInstaller/Ruby1.9.2/lib/ruby/gems/1.9.1/gems/heroku-2.3\n0.1/lib/heroku/cli.rb:25:in start'\n                 c:/RailsInstaller/Ruby1.9.2/lib/ruby/gems/1.9.1/gems/heroku-2.3\n0.1/bin/heroku:16:in'\n                 c:/RailsInstaller/Ruby1.9.2/bin/heroku:23:in load'\n                 c:/RailsInstaller/Ruby1.9.2/bin/heroku:23:in'\nCommand:     heroku create --stack cedar\nVersion:     heroku-gem/2.30.1 (i386-mingw32) ruby/1.9.2\n\n. ",
    "DivineTraube": "I am having exactly the same issue on Windows 8. I recently updated to Ruby 2. If i do HEROKU_SSL_VERIFY=disable it works just fine... Heroku toolbelt version is 2.39.3\n. ",
    "alexwiththescar": "I am having same problems! All Heroku commands have to be Prefixed with HEROKU_SSL_VERIFY=disable. Can add this to terminal so it runs on every command but would rather fix the issue!\nRunning Heroku toolbelt version is 2.39.3 on Mac OSX with Ruby 1.9.2 and rails 3.2.3\nI changed nothing, no upgrades, it just started happening few days ago which suggests a remote config issue but could be a silly error on my side. Any Ideas? Is there a way to reset the SSL keys?\n. Hey @geemus \nI managed to fix everything over the weekend! Was my mistake (of sorts). Avast! Anti virus updated its self i am guessing and it changed things! I did not even think to check the stack trace, and although i cant find an error message, i do get this from the console \n\"com.avast.proxy: SSL_accept(): EOF\"\nI dont know enough about stack traces to find the error (or even the full log), but shutting down avast Web Shield seemed to do the trick! (Same thing blocked rubygems.org as well)\nAny suggestions on good anti virus for developers? Everything i try gets in the way!\nThanks\nAlex\n. ",
    "korody": "Had the same problem. Fixed temporarily with the command HEROKU_SSL_VERIFY=disable in GitBash command line.\nSupport ticket: https://help.heroku.com/tickets/121675\ncheers\n. ",
    "sitepodmatt": "Infact it might be an idea to use base_host so api.whatever.com collapses to test just git@whatever.com \nSeems a useful util method forthcoming in:\nhttps://github.com/ddollar/heroku/commit/2b5e5d8cb74973971b589e1380d4573594853169\n. Geemus, yes that would definitely help, and I agree its a cleaner solution than regex\n. ",
    "peterarnott": "I tried restarting but I kept getting the same message. I reinstalled OSX and the new installation of the toolbelt works fine so it was probably just my computer.\n. Just to be clear i was running 10.7 and it worked on a fresh install of 10.8\n. ",
    "d6nab": "I have this same issue as well. I'm also on Mac OSX 10.8.\n. ",
    "kzk": "@geemus - thanks for the quick reply. I understand what you mean, but changing the command line client will kill our backward compatibility. How about removing just '-v' from the overloading lists? '-a' and '-h' are used frequently, but '-v' is used always with 'heroku -v' i guess. It's adhoc, but i think it works. Otherwise we'll consider adding the different option.\n. @geemus thanks for the fix!\n. @ctford Hi, we've changed init.rb to install gem into user gem directory. Could you try it again? Sorry for the late reply. -K\n. ",
    "Almad": "Fixed after downloading newest client from website manually, but just to let you know. \n. ",
    "ferrix": "For each enter that sends a CRLF, the command line sees two LFs. This is how the Python interpreter session looks like after one line of code and a press of enter after heroku run python in my Windows 7:\n``\nRunningpython` attached to terminal... up, run.1\nPython 2.7.2 (default, Oct 31 2011, 16:22:04)\n[GCC 4.4.3] on linux2\nType \"help\", \"copyright\", \"credits\" or \"licensing\" for more information.\n\n\n\nimport antigravity\nimport antigravity\n```\n\n\n\nSo there on first line we have my entry. The second line is an echo and the third is a ghost prompt for the LF and then I can finally type again after I get a usable prompt. This would be okay if this was not Python, Haskell, YAML, Occam or FORTRAN. Here's where it gets harmful:\n```\n\n\n\nif 1:\nif 1:\n...\n  File \"\", line 2\n\n\n\n^\n\nIndentationError: expected an indented block\n\n\n\n```\n\n\n\nThere naturally is a fix: heroku run \"stty igncr && python\"\n```\n\n\n\nif 1:\nif 1:\n...  print True\n print True\n...\n```\n\n\n\nThat still has the echo on. `heroku run \"stty igncr -echo && python\"\n```\n\n\n\nif 1:\n...  echo True\n...\nTrue\n```\n\n\n\nThis is how it is supposed to look and it could be considered fixed. If I run the spell from a Linux, the igncr does not get in the way at all, however the -echo cannot be there, which suggests there is not nice and unconditional fix for all systems. So the same code snippets without echo:\n```\n\n\n\n... ... True\n```\n\n\n\nAfter this hack applied on Windows, the remaining issue is that I need to hit backspace once before I get any line history with the arrow keys. That is merely annoying.\n. @geemus I found a hacksaw fix for myself for the double-newline problem. I added this after the line 57 in my rendezvous.rb\ndata = data.gsub(/\\r\\n/, \"\\n\")\nIf you add a smart if Windows there, the fix will like presentable.\nThe way I see it, a normal command line SSH works so that all characters are sent to the remote host with local echo off and everything you see on the console is your server talking back at you. Analogically that means that on a connection just about to timeout, I do not see my own typing. The behavior I am seeing is echoed and buffered input. I don't see how the same code works differently on a Linux.\n. I did some digging and it seems that stdin in Windows is buffered by default. To fix this, a getch-like option would be the way to go.\n. I am using the latest heroku\nThe problem is that Windows buffers input on the console until a newline and the buffer is echoed. So readpartial() does not get a character before that and after a newline there is the echo from heroku. On Linux (and Mac) the input is not buffered and the echo from heroku is shown as you type. So, what I am saying is: forcing stty -echo on the heroku server end will look the same, but it isn't. This leaves the annoying case where passwords typed in supposedly non-echoed fields will be seen on the screen. So you need a way to make the input unbuffered on the Windows command line and that's the right fix.\n. According to my surfings about Ruby, there is no universally working way. However, it is solveable in some way. I have been almost happy with my oneliner fix for stripping the CR. That way it is ugly but usable.\n. ",
    "fbjork": "Any update on this?\n. Also getting this:\n!    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       undefined methodcaptures' for nil:NilClass (NoMethodError)\nBacktrace:   /Users/fredrik/.heroku/client/lib/heroku/command/ps.rb:117:in block (2 levels) in index'\n             /Users/fredrik/.heroku/client/lib/heroku/command/ps.rb:116:insort'\n             /Users/fredrik/.heroku/client/lib/heroku/command/ps.rb:116:in block in index'\n             /Users/fredrik/.heroku/client/lib/heroku/command/ps.rb:115:ineach'\n             /Users/fredrik/.heroku/client/lib/heroku/command/ps.rb:115:in index'\n             /Users/fredrik/.heroku/client/lib/heroku/command.rb:206:inrun'\n             /Users/fredrik/.heroku/client/lib/heroku/cli.rb:28:in start'\n             /usr/bin/heroku:24:in'\nCommand:     heroku ps\nPlugins:     heroku-config\n             heroku-sendgrid-stats\nVersion:     heroku-toolbelt/2.37.1 (x86_64-darwin10.8.0) ruby/1.9.3\n```\n. ",
    "robotfelix": "@wuputah So is there any way of finding out when exactly you pushed something further than 15 releases back?\n. ",
    "patrickliechty": "It appears there isn't a way, but I used this: \nheroku releases:info v1543 -a my-app to see information about the release.  I kept doing it until I found the one I wanted.\n. You can view the releases online if you go to heroku.com and view the app.  Click on activity and you can see 50  releases.\n. ",
    "david-saracini": "I'd like to add a \"+1\", to this issue.  I currently have a bug in my code, and I need to figure out the exact date/time it got deployed to production so I can fix/clean up the database.  However, I cannot see far enough back in the release history to figure out when it happened.  If you release once a quarter (and rarely make \"config\" settings changes), your solution works great.  If your team is more agile and you release features often, then this is not very good and a real usability issue.  I'd like to vote for option:\nheroku releases -n 50\n. This is great!  Thanks!!!!\n. ",
    "Blue-Dog-Archolite": "However the releases on heroku don't show exact time stamps for help correlating release of bugs or upswings in errors around releases. The command line tool shows the date / time of release so the ability to pull more releases or show them on the command line would be very useful in finding release corresponding to new errors. \n. Outstanding. @geemus thanks for the code slug. \n. :+1: \n. I keep getting this as well. \nEnter your Heroku credentials.\nEmail: blah@gmail.com\nPassword (typing will be hidden): \n !    Unable to connect to Heroku API, please check internet connectivity and try again.\nheroku version\nheroku-toolbelt/3.9.6 (x86_64-linux) ruby/2.0.0\nwhich heroku\n/usr/local/heroku/bin/heroku\nAny help would be greatly appreciated. \n. Currently Heroku is rebuilding the heroku toolbelt i have been told in the open support ticket i have. Hopefully this issue will be easier to debug and easeir to resolve in the future. Heroku hired a new developer to matain the toolbelt. \n. ",
    "topgenorth": "Thanks!  You were exactly correct.  I uninstall ruby 1.9.2 with RVM, reinstalled openssl, then installed Ruby 1.9.2 and now things seem to be working again.\n. ",
    "omaciel": "Also seeing this on my Fedora 17 + RVM 1.9.3-p194 setup:\n$ ruby -r rubygems -e 'require \"heroku-api\"'\n/home/*****/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require': cannot load such file -- openssl (LoadError)\n    from /home/******/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'\n    from /home/******/.rvm/gems/ruby-1.9.3-p194/gems/excon-0.16.1/lib/excon.rb:6:in `<top (required)>'\n    from /home/******/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'\n    from /home/******/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'\n    from /home/******/.rvm/gems/ruby-1.9.3-p194/gems/heroku-api-0.3.4/lib/heroku/api.rb:2:in `<top (required)>'\n    from /home/******/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'\n    from /home/******/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'\n    from /home/******/.rvm/gems/ruby-1.9.3-p194/gems/heroku-api-0.3.4/lib/heroku-api.rb:1:in `<top (required)>'\n    from /home/******/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:60:in `require'\n    from /home/******/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:60:in `rescue in require'\n    from /home/******/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:35:in `require'\n    from -e:1:in `<main>'\nThe error itself:\n```\n$ heroku login\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       uninitialized constant Heroku::API (NameError)\nBacktrace:   /home/omaciel/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.30.4/lib/heroku/command.rb:200:in `rescue in run'\n             /home/qqqq/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.30.4/lib/heroku/command.rb:240:in `run'\n             /home/qqqq/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.30.4/lib/heroku/cli.rb:25:in `start'\n             /home/qqqq/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.30.4/bin/heroku:16:in `<top (required)>'\n             /home/qqqq/.rvm/gems/ruby-1.9.3-p194/bin/heroku:19:in `load'\n             /home/qqqq/.rvm/gems/ruby-1.9.3-p194/bin/heroku:19:in `<main>'\n             /home/qqqq/.rvm/gems/ruby-1.9.3-p194/bin/ruby_noexec_wrapper:14:in `eval'\n             /home/qqqq/.rvm/gems/ruby-1.9.3-p194/bin/ruby_noexec_wrapper:14:in `<main>'\n\nCommand:     heroku login\nVersion:     heroku-gem/2.30.4 (x86_64-linux) ruby/1.9.3\n\n```\n. Hey @geemus thanks for your quick reply. Unfortunately I did try to re-install openssl (yum reinstall openssl) and I still have the same issue :/ Anything else I can try?\nThanks in advance,\nOg\n. @geemus thanks again! I can report now that I got things working, finally. In case anyone has the same issue, here's what I did:\n$  rvm uninstall 1.9.3\n$  rvm reset\n$  sudo yum reinstall openssl openssl-devel\n$  rvm install 1.9.3\n$  rvm use 1.9.3 --default\n$  heroku login\nI really appreciated your help @geemus :)\n. ",
    "joebentley": "Well, just spent an hour wiping my system and installing crunchbang to try it out on there, and lo and behold, exactly the same error.\nI tried fixing using \n$ rvm uninstall 1.9.3\n$ rvm reset\n$ sudo dpkg --purge --force-depends openssl\n$ sudo apt-get install openssl\n$ rvm install 1.9.3\n$ rvm use 1.9.3 --default\n$ heroku login\nand I still get the same error\nI'm done here!\nFor anyone interested, I'm having the problems on heroku-gem/2.31.2 (i686-linux) ruby/1.9.3\n. Sure\njoe@uss-enterprise:~/www/octopress$ ruby -r rubygems -e 'require \"heroku-api\"'\n/home/joe/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require': cannot load such file -- openssl (LoadError)\n        from /home/joe/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'\n        from /home/joe/.rvm/gems/ruby-1.9.3-p194/gems/excon-0.16.2/lib/excon.rb:6:in `<top (required)>'\n        from /home/joe/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'\n        from /home/joe/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'\n        from /home/joe/.rvm/gems/ruby-1.9.3-p194/gems/heroku-api-0.3.4/lib/heroku/api.rb:2:in `<top (required)>'\n        from /home/joe/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'\n        from /home/joe/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'\n        from /home/joe/.rvm/gems/ruby-1.9.3-p194/gems/heroku-api-0.3.4/lib/heroku-api.rb:1:in `<top (required)>'\n        from /home/joe/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:60:in `require'\n        from /home/joe/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:60:in `rescue in require'\n        from /home/joe/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:35:in `require'\n        from -e:1:in `<main>'\n. Okay I tried that (turns out openssl-dev is called libssl-dev on Debian) and I'm still having exactly the same problem with the same error.\nMy command sequence is now this:\n$ rvm uninstall 1.9.3\n$ rvm reset\n$ sudo dpkg --purge --force-depends openssl *libssl-dev*\n$ sudo apt-get install openssl *libssl-dev*\n$ rvm install 1.9.3\n$ rvm use 1.9.3 --default\n$ heroku login\n. Okay I tried that (turns out openssl-dev is called libssl-dev on Debian) and I'm still having exactly the same problem with the same error.\nMy command sequence is now this:\n$ rvm uninstall 1.9.3\n$ rvm reset\n$ sudo dpkg --purge --force-depends openssl libssl-dev\n$ sudo apt-get install openssl libssl-dev\n$ rvm install 1.9.3\n$ rvm use 1.9.3 --default\n$ heroku login\n. @geemus The second solution worked thank you!\n. ",
    "hibariya": "I think the database configuration isn't wrong because other tasks succeed on heroku.\nWhen I ran the command rake db:fixtures:load on the localhost has been finished successfully.\n. Sorry :pray: heroku gem was not the cause of this problem.\nIt was solved by updating the version to 3.2.7 of Rails (I was using version 3.2.6).\n. ",
    "markcornick": "No databases were provisioned. Thanks for the fix!\n. ",
    "fcanela": "I am getting the same error, being through a proxy too:\n!    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       SSL_connect SYSCALL returned=5 errno=0 state=unknown state (OpenSSL::SSL::SSLError) (Excon::Errors::SocketError)\nBacktrace:   /usr/local/heroku/vendor/gems/excon-0.15.5/lib/excon/ssl_socket.rb:82:inconnect'\n             /usr/local/heroku/vendor/gems/excon-0.15.5/lib/excon/ssl_socket.rb:82:in initialize'\n             /usr/local/heroku/vendor/gems/excon-0.15.5/lib/excon/connection.rb:344:innew'\n             /usr/local/heroku/vendor/gems/excon-0.15.5/lib/excon/connection.rb:344:in socket'\n             /usr/local/heroku/vendor/gems/excon-0.15.5/lib/excon/connection.rb:175:inrequest_kernel'\n             /usr/local/heroku/vendor/gems/excon-0.15.5/lib/excon/connection.rb:101:in request'\n             /usr/local/heroku/vendor/gems/heroku-api-0.3.2/lib/heroku/api.rb:60:inrequest'\n             /usr/local/heroku/vendor/gems/heroku-api-0.3.2/lib/heroku/api/login.rb:9:in post_login'\n             /usr/local/heroku/lib/heroku/auth.rb:76:inapi_key'\n             /usr/local/heroku/lib/heroku/auth.rb:185:in ask_for_credentials'\n             /usr/local/heroku/lib/heroku/auth.rb:217:inask_for_and_save_credentials'\n             /usr/local/heroku/lib/heroku/auth.rb:80:in get_credentials'\n             /usr/local/heroku/lib/heroku/auth.rb:41:inlogin'\n             /usr/local/heroku/lib/heroku/command/auth.rb:22:in login'\n             /usr/local/heroku/lib/heroku/command.rb:179:inrun'\n             /usr/local/heroku/lib/heroku/cli.rb:25:in start'\n             /usr/bin/heroku:26:in'\nCommand:     heroku auth:login\nHTTP Proxy:  http://172.16.4.37:8080\nHTTPS Proxy: http://172.16.4.37:8080\nVersion:     heroku-toolbelt/2.30.2 (i686-linux) ruby/1.9.3\n```\n. @geemus I tried after:\n$ export HEROKU_SSL_VERIFY=disable\nSame result than @nterry here too.\n. ",
    "otaviocc": "Same here with heroku-gem/2.30.3 (i686-linux) ruby/1.9.3. It's running on a Ubuntu 10.04 LTS.\n. ",
    "santhoshthepro": "Even I face the same Issue. Kindly post a solution to this. Iam working behind a proxy. I have configured the proxy env variables properly. Still not working and getting the same error.\n. ",
    "lc3t35": "Same for me on Ubuntu 11.04 Natty : no proxy\nPassword (typing will be hidden): \n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       SSL_connect SYSCALL returned=5 errno=0 state=SSLv3 read server hello A (OpenSSL::SSL::SSLError) (Excon::Errors::SocketError)\nBacktrace:   /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/ssl_socket.rb:60:inconnect'\n             /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/ssl_socket.rb:60:in initialize'\n             /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/connection.rb:357:innew'\n             /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/connection.rb:357:in socket'\n             /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/connection.rb:188:inrequest_kernel'\n             /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/connection.rb:101:in request'\n             /usr/local/heroku/vendor/gems/heroku-api-0.3.4/lib/heroku/api.rb:61:inrequest'\n             /usr/local/heroku/vendor/gems/heroku-api-0.3.4/lib/heroku/api/login.rb:9:in post_login'\n             /usr/local/heroku/lib/heroku/auth.rb:80:inapi_key'\n             /usr/local/heroku/lib/heroku/auth.rb:189:in ask_for_credentials'\n             /usr/local/heroku/lib/heroku/auth.rb:221:inask_for_and_save_credentials'\n             /usr/local/heroku/lib/heroku/auth.rb:84:in get_credentials'\n             /usr/local/heroku/lib/heroku/auth.rb:41:inlogin'\n             /usr/local/heroku/lib/heroku/command/auth.rb:31:in login'\n             /usr/local/heroku/lib/heroku/command.rb:191:inrun'\n             /usr/local/heroku/lib/heroku/cli.rb:28:in start'\n             /usr/bin/heroku:24:in'\nCommand:     heroku login\nHTTP Proxy:  http://localhost:3128\nVersion:     heroku-toolbelt/2.31.2 (i686-linux) ruby/1.9.2\n```\n. ",
    "siovene": "Same for me on Ubuntu 12.04, using a proxy that doesn't require authentication:\n```\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       SSL_connect SYSCALL returned=5 errno=0 state=SSLv3 read server hello A (OpenSSL::SSL::SSLError) (Excon::Errors::SocketError)\nBacktrace:   /var/lib/gems/1.8/gems/excon-0.16.2/lib/excon/ssl_socket.rb:60:in `connect'\n             /var/lib/gems/1.8/gems/excon-0.16.2/lib/excon/ssl_socket.rb:60:in `initialize'\n             /var/lib/gems/1.8/gems/excon-0.16.2/lib/excon/connection.rb:357:in `new'\n             /var/lib/gems/1.8/gems/excon-0.16.2/lib/excon/connection.rb:357:in `socket'\n             /var/lib/gems/1.8/gems/excon-0.16.2/lib/excon/connection.rb:188:in `request_kernel'\n             /var/lib/gems/1.8/gems/excon-0.16.2/lib/excon/connection.rb:101:in `request'\n             /var/lib/gems/1.8/gems/heroku-api-0.3.4/lib/heroku/api.rb:61:in `request'\n             /var/lib/gems/1.8/gems/heroku-api-0.3.4/lib/heroku/api/login.rb:9:in `post_login'\n             /var/lib/gems/1.8/gems/heroku-2.31.2/lib/heroku/auth.rb:80:in `api_key'\n             /var/lib/gems/1.8/gems/heroku-2.31.2/lib/heroku/auth.rb:189:in `ask_for_credentials'\n             /var/lib/gems/1.8/gems/heroku-2.31.2/lib/heroku/auth.rb:221:in `ask_for_and_save_credentials'\n             /var/lib/gems/1.8/gems/heroku-2.31.2/lib/heroku/auth.rb:84:in `get_credentials'\n             /var/lib/gems/1.8/gems/heroku-2.31.2/lib/heroku/auth.rb:74:in `password'\n             /var/lib/gems/1.8/gems/heroku-2.31.2/lib/heroku/auth.rb:17:in `api'\n             /var/lib/gems/1.8/gems/heroku-2.31.2/lib/heroku/command/base.rb:40:in `api'\n             /var/lib/gems/1.8/gems/heroku-2.31.2/lib/heroku/command/run.rb:108:in `run_attached'\n             /var/lib/gems/1.8/gems/heroku-2.31.2/lib/heroku/helpers.rb:232:in `action'\n             /var/lib/gems/1.8/gems/heroku-2.31.2/lib/heroku/command/run.rb:107:in `run_attached'\n             /var/lib/gems/1.8/gems/heroku-2.31.2/lib/heroku/command/run.rb:21:in `index'\n             /var/lib/gems/1.8/gems/heroku-2.31.2/lib/heroku/command.rb:191:in `send'\n             /var/lib/gems/1.8/gems/heroku-2.31.2/lib/heroku/command.rb:191:in `run'\n             /var/lib/gems/1.8/gems/heroku-2.31.2/lib/heroku/cli.rb:28:in `start'\n             /var/lib/gems/1.8/gems/heroku-2.31.2/bin/heroku:16\n             /usr/local/bin/heroku:19:in `load'\n             /usr/local/bin/heroku:19\n\nCommand:     heroku run python manage compress\nHTTP Proxy:  (hidden)\nVersion:     heroku-toolbelt/2.31.2 (i686-linux) ruby/1.8.7\n\n```\n. ",
    "fishinitself": "The same:\n$ uname -a\nLinux r2-d2 3.2.0-31-generic #50-Ubuntu SMP Fri Sep 7 16:16:45 UTC 2012 x86_64 x86_64 x86_64 GNU/Linux\n$ heroku --version\nheroku-toolbelt/2.32.4 (x86_64-linux) ruby/1.9.3 autoupdate\n$ heroku logs --tail\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       SSL_connect SYSCALL returned=5 errno=0 state=SSLv3 read server hello A (OpenSSL::SSL::SSLError) (Excon::Errors::SocketError)\nBacktrace:   /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/ssl_socket.rb:60:inconnect'\n             /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/ssl_socket.rb:60:in initialize'\n             /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/connection.rb:357:innew'\n             /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/connection.rb:357:in socket'\n             /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/connection.rb:188:inrequest_kernel'\n             /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/connection.rb:101:in request'\n             /usr/local/heroku/vendor/gems/heroku-api-0.3.5/lib/heroku/api.rb:62:inrequest'\n             /usr/local/heroku/vendor/gems/heroku-api-0.3.5/lib/heroku/api/login.rb:9:in post_login'\n             /usr/local/heroku/lib/heroku/auth.rb:80:inapi_key'\n             /usr/local/heroku/lib/heroku/auth.rb:189:in ask_for_credentials'\n             /usr/local/heroku/lib/heroku/auth.rb:221:inask_for_and_save_credentials'\n             /usr/local/heroku/lib/heroku/auth.rb:84:in get_credentials'\n             /usr/local/heroku/lib/heroku/auth.rb:70:inuser'\n             /usr/local/heroku/lib/heroku/auth.rb:33:in client'\n             /usr/local/heroku/lib/heroku/command/base.rb:44:inheroku'\n             /usr/local/heroku/lib/heroku/command/logs.rb:35:in index'\n             /usr/local/heroku/lib/heroku/command.rb:206:inrun'\n             /usr/local/heroku/lib/heroku/cli.rb:28:in start'\n             /usr/bin/heroku:24:in'\nCommand:     heroku logs --tail\nHTTP Proxy:  \nHTTPS Proxy: \nVersion:     heroku-toolbelt/2.32.4 (x86_64-linux) ruby/1.9.3 autoupdate\n```\n. ",
    "sirwan-mualla": "Same issue here  \n!    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       SSL_connect SYSCALL returned=5 errno=0 state=SSLv3 read server hello A (OpenSSL::SSL::SSLError) (Excon::Errors::SocketError)\nBacktrace:\n             /home/test/.rvm/gems/ruby-1.9.3-p194/gems/excon-0.16.4/lib/excon/ssl_socket.rb:60:inconnect'\n             /home/test/.rvm/gems/ruby-1.9.3-p194/gems/excon-0.16.4/lib/excon/ssl_socket.rb:60:in initialize'\n             /home/test/.rvm/gems/ruby-1.9.3-p194/gems/excon-0.16.4/lib/excon/connection.rb:362:innew'\n             /home/test/.rvm/gems/ruby-1.9.3-p194/gems/excon-0.16.4/lib/excon/connection.rb:362:in socket'\n             /home/test/.rvm/gems/ruby-1.9.3-p194/gems/excon-0.16.4/lib/excon/connection.rb:193:inrequest_kernel'\n             /home/test/.rvm/gems/ruby-1.9.3-p194/gems/excon-0.16.4/lib/excon/connection.rb:101:in request'\n             /home/test/.rvm/gems/ruby-1.9.3-p194/gems/heroku-api-0.3.5/lib/heroku/api.rb:62:inrequest'\n             /home/test/.rvm/gems/ruby-1.9.3-p194/gems/heroku-api-0.3.5/lib/heroku/api/login.rb:9:in post_login'\n             /home/test/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.32.8/lib/heroku/auth.rb:80:inapi_key'\n             /home/test/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.32.8/lib/heroku/auth.rb:189:in ask_for_credentials'\n             /home/test/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.32.8/lib/heroku/auth.rb:221:inask_for_and_save_credentials'\n             /home/test/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.32.8/lib/heroku/auth.rb:84:in get_credentials'\n             /home/test/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.32.8/lib/heroku/auth.rb:41:inlogin'\n             /home/test/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.32.8/lib/heroku/command/auth.rb:31:in login'\n             /home/test/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.32.8/lib/heroku/command.rb:206:inrun'\n             /home/test/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.32.8/lib/heroku/cli.rb:28:in start'\n             /home/test/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.32.8/bin/heroku:16:in'\n             /home/test/.rvm/gems/ruby-1.9.3-p194/bin/heroku:19:in load'\n             /home/test/.rvm/gems/ruby-1.9.3-p194/bin/heroku:19:in'\n             /home/test/.rvm/gems/ruby-1.9.3-p194/bin/ruby_noexec_wrapper:14:in eval'\n             /home/test/.rvm/gems/ruby-1.9.3-p194/bin/ruby_noexec_wrapper:14:in'\nCommand:     heroku login\nHTTP Proxy:  http://10.1.1.20:8090/\nVersion:     heroku-gem/2.32.8 (i686-linux) ruby/1.9.3 autoupdate\n```\n. ",
    "tanookiben": "Also running into this error in a setting where I do need a proxy to connect to the internet, even though all other internet-related connections are okay.\nEnter your Heroku credentials.\nEmail: ######\nPassword (typing will be hidden): \n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       SSL_connect SYSCALL returned=5 errno=0 state=SSLv3 read server hello A (OpenSSL::SSL::SSLError) (Excon::Errors::SocketError)\nBacktrace:   /usr/local/heroku/vendor/gems/excon-0.16.4/lib/excon/ssl_socket.rb:60:inconnect'\n             /usr/local/heroku/vendor/gems/excon-0.16.4/lib/excon/ssl_socket.rb:60:in initialize'\n             /usr/local/heroku/vendor/gems/excon-0.16.4/lib/excon/connection.rb:362:innew'\n             /usr/local/heroku/vendor/gems/excon-0.16.4/lib/excon/connection.rb:362:in socket'\n             /usr/local/heroku/vendor/gems/excon-0.16.4/lib/excon/connection.rb:193:inrequest_kernel'\n             /usr/local/heroku/vendor/gems/excon-0.16.4/lib/excon/connection.rb:101:in request'\n             /usr/local/heroku/vendor/gems/heroku-api-0.3.5/lib/heroku/api.rb:62:inrequest'\n             /usr/local/heroku/vendor/gems/heroku-api-0.3.5/lib/heroku/api/login.rb:9:in post_login'\n             /usr/local/heroku/lib/heroku/auth.rb:80:inapi_key'\n             /usr/local/heroku/lib/heroku/auth.rb:189:in ask_for_credentials'\n             /usr/local/heroku/lib/heroku/auth.rb:221:inask_for_and_save_credentials'\n             /usr/local/heroku/lib/heroku/auth.rb:84:in get_credentials'\n             /usr/local/heroku/lib/heroku/auth.rb:41:inlogin'\n             /usr/local/heroku/lib/heroku/command/auth.rb:31:in login'\n             /usr/local/heroku/lib/heroku/command.rb:206:inrun'\n             /usr/local/heroku/lib/heroku/cli.rb:28:in start'\n             /usr/bin/heroku:25:in'\nCommand:     heroku login\nHTTP Proxy:  http://proxy:8080\nHTTPS Proxy: http://proxy:8080\nVersion:     heroku-toolbelt/2.33.0 (i686-linux) ruby/1.9.2\n```\n. ",
    "ndrluis": "+ 1\n``\nError:       SSL_connect returned=1 errno=0 state=unknown state: unknown protocol (OpenSSL::SSL::SSLError) (Excon::Errors::SocketError)\nBacktrace:   /usr/local/heroku/vendor/gems/excon-0.16.8/lib/excon/ssl_socket.rb:57:inconnect'\n             /usr/local/heroku/vendor/gems/excon-0.16.8/lib/excon/ssl_socket.rb:57:in initialize'\n             /usr/local/heroku/vendor/gems/excon-0.16.8/lib/excon/connection.rb:364:innew'\n             /usr/local/heroku/vendor/gems/excon-0.16.8/lib/excon/connection.rb:364:in socket'\n             /usr/local/heroku/vendor/gems/excon-0.16.8/lib/excon/connection.rb:192:inrequest_kernel'\n             /usr/local/heroku/vendor/gems/excon-0.16.8/lib/excon/connection.rb:103:in request'\n             /usr/local/heroku/vendor/gems/heroku-api-0.3.6/lib/heroku/api.rb:74:inrequest'\n             /usr/local/heroku/vendor/gems/heroku-api-0.3.6/lib/heroku/api/login.rb:9:in post_login'\n             /usr/local/heroku/lib/heroku/auth.rb:80:inapi_key'\n             /usr/local/heroku/lib/heroku/auth.rb:189:in ask_for_credentials'\n             /usr/local/heroku/lib/heroku/auth.rb:221:inask_for_and_save_credentials'\n             /usr/local/heroku/lib/heroku/auth.rb:84:in get_credentials'\n             /usr/local/heroku/lib/heroku/auth.rb:74:inpassword'\n             /usr/local/heroku/lib/heroku/auth.rb:17:in api'\n             /usr/local/heroku/lib/heroku/command/base.rb:40:inapi'\n             /usr/local/heroku/lib/heroku/command/apps.rb:181:in create'\n             /usr/local/heroku/lib/heroku/command.rb:206:inrun'\n             /usr/local/heroku/lib/heroku/cli.rb:28:in start'\n             /usr/bin/heroku:25:in'\nCommand:     heroku create andregem\nHTTP Proxy:  http://localhost:3128/\nHTTPS Proxy: https://localhost:3128/\nVersion:     heroku-toolbelt/2.33.1 (x86_64-linux) ruby/1.9.3\n```\n. ",
    "rinrinne": "excon is already bumped by #641 \n. Works fine with run:detached via proxy. Thanks.\n. ",
    "108anup": "Version:     heroku-toolbelt/3.42.31 (x86_64-linux) ruby/1.9.3\ngiving similar error (behind proxy)\nheroku-cli: Installing Toolbelt v4...SSL_connect returned=1 errno=0 state=unknown state: unknown protocol (OpenSSL::SSL::SSLError)\n/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/ssl_socket.rb:120:in connect_nonblock'\n/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/ssl_socket.rb:120:ininitialize'\n/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/connection.rb:387:in new'\n/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/connection.rb:387:insocket'\n/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/connection.rb:106:in request_call'\n/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/middlewares/mock.rb:47:inrequest_call'\n/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/middlewares/instrumentor.rb:22:in request_call'\n/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/middlewares/base.rb:15:inrequest_call'\n/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/middlewares/base.rb:15:in request_call'\n/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/middlewares/base.rb:15:inrequest_call'\n/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/connection.rb:233:in request'\n/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon.rb:229:inget'\n/usr/local/heroku/lib/heroku/jsplugin.rb:210:in manifest'\n/usr/local/heroku/lib/heroku/jsplugin.rb:223:inurl'\n/usr/local/heroku/lib/heroku/jsplugin.rb:139:in setup'\n/usr/local/heroku/lib/heroku/cli.rb:27:instart'\n/usr/local/heroku/bin/heroku:25:in `'\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       SSL_connect returned=1 errno=0 state=unknown state: unknown protocol (OpenSSL::SSL::SSLError) (Excon::Errors::SocketError)\nCommand:     heroku \nHTTP Proxy:  http://username:pass@host:port/\nHTTPS Proxy: https://username:pass@host:port/\nVersion:     heroku-toolbelt/3.42.31 (x86_64-linux) ruby/1.9.3\n. I had to use: \n$ npm config set strict-ssl=false\nand use a network tunnel as a work around to the issue.\n. ",
    "jimjkelly": "Ah, derp, sorry, should have thought to upgrade before posting.  I upgraded to heroku-gem/2.30.2, and still get the same error.  Connected to all the cats on the internet just fine otherwise, and various other heroku commands work without incident.  Reproduced the current error incase line number changes and the like are more helpful:\nbeaker:SleuthingFromTheInternet jkelly$ heroku db:pull sqlite://db/development.db --confirm sleuthingfromtheinternet\nLoaded Taps v0.3.24\nWarning: Data in the database 'sqlite://db/development.db' will be overwritten and will not be recoverable.\nReceiving schema\n !    Heroku client internal error.                            | ETA:  --:--:--\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       getaddrinfo: nodename nor servname provided, or not known (SocketError)\nBacktrace:   /Users/jkelly/.rvm/rubies/ruby-1.9.3-p0/lib/ruby/1.9.1/net/http.rb:762:ininitialize'\n             /Users/jkelly/.rvm/rubies/ruby-1.9.3-p0/lib/ruby/1.9.1/net/http.rb:762:in open'\n             /Users/jkelly/.rvm/rubies/ruby-1.9.3-p0/lib/ruby/1.9.1/net/http.rb:762:inblock in connect'\n             /Users/jkelly/.rvm/rubies/ruby-1.9.3-p0/lib/ruby/1.9.1/timeout.rb:54:in timeout'\n             /Users/jkelly/.rvm/rubies/ruby-1.9.3-p0/lib/ruby/1.9.1/timeout.rb:99:intimeout'\n             /Users/jkelly/.rvm/rubies/ruby-1.9.3-p0/lib/ruby/1.9.1/net/http.rb:762:in connect'\n             /Users/jkelly/.rvm/rubies/ruby-1.9.3-p0/lib/ruby/1.9.1/net/http.rb:755:indo_start'\n             /Users/jkelly/.rvm/rubies/ruby-1.9.3-p0/lib/ruby/1.9.1/net/http.rb:744:in start'\n             /Users/jkelly/.rvm/gems/ruby-1.9.3-p0/gems/rest-client-1.6.7/lib/restclient/request.rb:172:intransmit'\n             /Users/jkelly/.rvm/gems/ruby-1.9.3-p0/gems/rest-client-1.6.7/lib/restclient/request.rb:64:in execute'\n             /Users/jkelly/.rvm/gems/ruby-1.9.3-p0/gems/rest-client-1.6.7/lib/restclient/request.rb:33:inexecute'\n             /Users/jkelly/.rvm/gems/ruby-1.9.3-p0/gems/rest-client-1.6.7/lib/restclient/resource.rb:67:in post'\n             /Users/jkelly/.rvm/gems/ruby-1.9.3-p0/gems/taps-0.3.24/lib/taps/operation.rb:264:inblock in pull_schema'\n             /Users/jkelly/.rvm/gems/ruby-1.9.3-p0/gems/taps-0.3.24/lib/taps/operation.rb:263:in each'\n             /Users/jkelly/.rvm/gems/ruby-1.9.3-p0/gems/taps-0.3.24/lib/taps/operation.rb:263:inpull_schema'\n             /Users/jkelly/.rvm/gems/ruby-1.9.3-p0/gems/taps-0.3.24/lib/taps/operation.rb:248:in block in run'\n             /Users/jkelly/.rvm/gems/ruby-1.9.3-p0/gems/taps-0.3.24/lib/taps/operation.rb:203:incall'\n             /Users/jkelly/.rvm/gems/ruby-1.9.3-p0/gems/taps-0.3.24/lib/taps/operation.rb:203:in catch_errors'\n             /Users/jkelly/.rvm/gems/ruby-1.9.3-p0/gems/taps-0.3.24/lib/taps/operation.rb:246:inrun'\n             /Users/jkelly/.rvm/gems/ruby-1.9.3-p0/gems/taps-0.3.24/lib/taps/cli.rb:172:in clientxfer'\n             /Users/jkelly/.rvm/gems/ruby-1.9.3-p0/gems/heroku-2.30.2/lib/heroku/command/db.rb:192:intaps_client'\n             /Users/jkelly/.rvm/gems/ruby-1.9.3-p0/gems/heroku-2.30.2/lib/heroku/command/db.rb:55:in pull'\n             /Users/jkelly/.rvm/gems/ruby-1.9.3-p0/gems/heroku-2.30.2/lib/heroku/command.rb:179:inrun'\n             /Users/jkelly/.rvm/gems/ruby-1.9.3-p0/gems/heroku-2.30.2/lib/heroku/cli.rb:25:in start'\n             /Users/jkelly/.rvm/gems/ruby-1.9.3-p0/gems/heroku-2.30.2/bin/heroku:16:in'\n             /Users/jkelly/.rvm/gems/ruby-1.9.3-p0/bin/heroku:19:in load'\n             /Users/jkelly/.rvm/gems/ruby-1.9.3-p0/bin/heroku:19:in'\nCommand:     heroku db:pull sqlite://db/development.db --confirm sleuthingfromtheinternet\nVersion:     heroku-gem/2.30.2 (x86_64-darwin11.2.0) ruby/1.9.3\n```\nI appreciate the quick response!\n. +1\n. ",
    "anderslemke": "The app is autobutler-production.\n. Thanks for the hint, @geemus.\nI removed the danish characters \u00e6, \u00f8 and \u00e5 from our deploy hook message, and everything works now.\nHow do I know when I can re-introduce them?\n. ",
    "nummi": "I get a similar error in the rest client when running:\nheroku pgbackups:restore HEROKU_POSTGRESQL_ONYX_URL heroku pgbackups:url --app myapp --app myapp-cedar. Need the full trace?\nheroku-toolbelt/2.32.14 (x86_64-darwin10.8.0) ruby/1.9.3\n. ",
    "dokie": "I have the same issue too whilst trying to migrate my app to Cedar - So 'm stuck now as I cannot transfer the data [Crazy-Converter]\n. ",
    "FaroukY": "Thank you iamvery for mentioning your solution. Turns out I had the same problem and my school's network was blocking it. Very helpful.. ",
    "mundodelaoscuridad": "Yeah, it was precisely that, thanks!\n. ",
    "theskumar": "@geemus  thanks a lot, it works now. I am using mountain lion. I used unset HTTP_PROXY and unset HTTPS_PROXY\n. ",
    "quique": "I had the same problem, and got rid of it using the commands that SaurabhKumar said. Thanks :)\n. ",
    "Hardhik": "THANKS A TON U MADE MY DAY ! geemus\n. ",
    "marcosarcecalisaya": "This worked for me, on a Debian Jessie\n$unset http_proxy\n$unset https_proxy\n$env\nTo check if your variables are really unset. \n$env|more\nTo check the output on the console\nTried geemus comands but it didn't work, maybe I did something wrong\n. Hi, \nSolved my problem on the console.\n$unset http_proxy$unset https_proxy\nI'm running a Debian Jessie\nKind Regards, \nMarcos \nOn Tuesday, October 28, 2014 2:44 PM, Wesley Beary <notifications@github.com> wrote:\n@molinox thanks for the update and details. You probably did it perfectly right (I think the commands I listed above may have inadvertently been mac specific)\u2014\nReply to this email directly or view it on GitHub.\n. ",
    "Meshiest": "omg thank you!\nhad to remove the exports from my .bashrc as well as the no_proxy variable!\n. ",
    "gangap2014": "If i want to login into heroku from my linux box that is behind proxy server, how shld i be doing this. \nI have already set http_proxy and https_proxy env var, but still getting this error message.\nThanks..\n. ",
    "indieNik": "Hello,\nI was trying to run the command behind a corporate firewall. Thanks to this thread I got to know what to set. Solved my problem by setting both HTTP_PROXY and HTTPS_PROXY to http://proxy.company.com:8080\nCheers!\n. ",
    "anandbn": "Pankaj - Best to open a support ticket and we'll get to it once it's on our queue.\n. ",
    "jamesharrieskelkoo": "For anyone else that gets this issue still, delete your .netrc and reenter your login details.\n. ",
    "cloudaloe": "On my Windows 7, where I experience the same, changing Windows' active code page (chcp 1252) causes 'heroku login' and any command-line invocation of 'heroku' to fail altogether:\nC:/Program Files (x86)/Heroku/lib/heroku/updater.rb:32:in exists?': \"\\x81\" to UTF-8 in conversion from Windows-1252 to\nUTF-8 (Encoding::UndefinedConversionError)\n        from C:/Program Files (x86)/Heroku/lib/heroku/updater.rb:32:inclient_version_from_path'\n        from C:/Program Files (x86)/Heroku/lib/heroku/updater.rb:118:in inject_libpath'\n        from C:/Program Files (x86)/Heroku/bin/heroku:19:in'\n. Thanks, I created a new user and spent 2 hours porting all my settings.\nOn Fri, Sep 7, 2012 at 6:55 PM, Wesley Beary notifications@github.comwrote:\n\n@cloudaloe https://github.com/cloudaloe - Not sure why you are seeing\nthis, guessing due to your username having something in it Ruby is having\ntrouble with. In any event, if you delete\nC:/Users/USERNAME/.heroku/autoupdate it should disable autoupdating (which\nis where this error appears to be coming from) and allow you to run other\nthings.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/513#issuecomment-8369570.\n. Well quite frankly, only an idiot developer would use Windows and\nnon-standrad\nuser profile characters....\nI just had my profile defined for me like that.\n\nOn Tue, Sep 11, 2012 at 8:10 PM, Wesley Beary notifications@github.comwrote:\n\n@cloudaloe https://github.com/cloudaloe - sorry to hear it was a pain,\nbut glad that it worked for you in the end.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/513#issuecomment-8465120.\n. Oh no, I did mean it was rather not smart, this is just self criticism.\nSorry to have alarmed anyone.\n\nOn Wed, Sep 12, 2012 at 11:26 PM, Wesley Beary notifications@github.comwrote:\n\n@cloudaloe https://github.com/cloudaloe - apologies if I came across\nthat way, by no means did I mean to say that it was a mistake to do what\nyou did. Just that unfortunately it isn't something that Ruby seems to\nsupport very well (and since the toolbelt is in Ruby it extends out). If my\nreal name and/or username included on utf-8 characters I would definitely\nbe tempted to use them in as my user on windows (and I used to be a windows\nruby developer, so I understand that pain too). It is unfortunate that it\nis as much of a pain as it is, but it's hardly your fault.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/513#issuecomment-8508712.\n. \n",
    "hickford": "This feature is vital for debugging any problem with slug compilation. \n\nMeanwhile, workaround:\ngit commit --allow-empty -m \"empty commit\"\ngit push heroku master\n. Hi JD. When I wrote my comment, slug compilation was crashing due to a bug in Heroku. This is thankfully rare, but being able to rebuild the slug at will would have made the issue much easier to distil and report.\nI agree slug compilation should not be encouraged to update packages, because it risks software rot. To make slug compilation deterministic, Gemfile.lock is perfect solution.\nThere's actually a new feature in Npm npm shrinkwrap analogous to Gemfile.lock. Heroku doesn't use this, but totally use this. This would solve OP's problem and be penicillin against software rot. I've opened a new issue suggesting that https://github.com/heroku/heroku/issues/650\n. Re-opened on the nodejs buildpack https://github.com/heroku/heroku-buildpack-nodejs/issues/23\n. ",
    "jkarmel": "Just wanted to add my support for a heroku recompile, really annoying adding pretend commits when I update a referenced project. \n. ",
    "dwelch2344": "+1. This would be useful for both our Node and our Java based projects\n. ",
    "agconti": "+1 for heroku recompile.  Using and empty commit works: \ngit commit --allow-empty -m \"empty commit\"\ngit push heroku master\nBut it creates an unnecessarily dirty commit history.\n. ",
    "csuhta": "@agconti You can now use this to rebuild without creating commits: https://github.com/heroku/heroku-repo\n. @damienfa heroku-repo lets you blow out your Heroku build caches and Git remote. So one of the ways you can completely rebuild/recompile your application without making any new Git commits is:\n``` shell\nheroku plugins:install https://github.com/heroku/heroku-repo.git\ncd your-app\nheroku repo:purge_cache\nheroku repo:reset\nThis will rebuild your app because the Heroku Git remote is\nnow a freshly empty/initialized repo again\ngit push heroku master \n``\n. That's rather surprising, at least to me. What is the expected use-case forheroku config --shell` with these escape markers? Is it only for scripting?\nI have been using heroku config --shell as a convenient way to print config vars formatted for copy-pasting into a Foreman .env file. But the way they are printed currently is incorrect for this workflow.\n. They seem to be interpreted literally:\n```\n$ cat .env \nTEST_VAR=+4050\n$ foreman run irb\n\n\nputs ENV.fetch(\"TEST_VAR\")\n+4050\n=> nil\nENV.fetch(\"TEST_VAR\").chars\n=> [\"\\\", \"+\", \"4\", \"0\", \"5\", \"0\"]\n```\n. I just tried with 3.33.0 and it works great for this. Thanks!\n. > What is the output of heroku version?\nalso, what happens if you do heroku config:get?\n\n\nBoth of these are in the first post. O_o\n. ```\n$ heroku version\nheroku-toolbelt/3.36.1 (x86_64-darwin10.8.0) ruby/1.9.3\n=== Installed Plugins\nheroku-repo\n$ HEROKU_DEBUG=1 heroku version\nheroku-toolbelt/3.36.1 (x86_64-darwin10.8.0) ruby/1.9.3\n=== Installed Plugins\nheroku-repo\n```\nWhat am I supposed to set HEROKU_DEBUG to? Doesn't appear to do anything.\n. Hrm. No longer able to reproduce this myself, too. Maybe it was a fleeting API issue? Closing!\n. ",
    "damienfa": "@csuhta ... heroku/heroku-repo do not have a \"rebuild\" command ? What is your point ? \n. ",
    "hernanvicente": "+1 for implementing it. @csuhta your approach worked perfectly for me. Thanks!\n. ",
    "sprynmr": "Actually I was still the owner. I believe there was a problem with my billing info however, and it was misreporting that. (I had verified my account, but I think maybe that CC was no longer valid)\nOn Aug 20, 2012, at 10:40 AM, Wesley Beary notifications@github.com wrote:\n\n@sprynmr - could certainly be the collaborator angle (and it is misreporting the problem). Have you previously confirmed your billing?\n\u2014\nReply to this email directly or view it on GitHub.\n. Yep I am. Thanks!\n\nOn Aug 20, 2012, at 1:30 PM, Wesley Beary notifications@github.com wrote:\n\n@sprynmr - got it. I can look into this more, but for now are you back in business at least?\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "sethvincent": "Whoa. That is totally weird! I'm a little unsettled by that since I don't remember installing that plugin. I just did a few searches for it on google and can't figure out where it came from. Dang. \nRan the uninstall command and got the authentication successful message.\nThanks for your help.\n. Oh, cool. That makes sense. Thanks.\n. ",
    "wkleu": "I tried it from my home network and it went through (login and status) so it has to do with connection (though the error is a bit cryptic).\nheroku version: heroku-toolbelt/2.30.3 (i386-mingw32) ruby/1.9.2\nheroku login didn't give a backtrace (not at work network at the moment, will double check tomorrow).\n. \"heroko login\"\n```\nEnter your Heroku credentials.\nEmail: my@email.com\nPassword (typing will be hidden):\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       Unable to verify certificate, please set Excon.defaults[:ssl_ca_path] = path_to_certs,      Excon.defaults[:ssl_ca_file] = path_to_file, or Excon.defaults[:ssl_verify_peer] = false (less secure).  (Excon::Errors::SocketError)\nBacktrace:   C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.1/lib/excon/ssl_socket.rb:83:in connect'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.1/lib/excon/ssl_socket.rb:83:ininitialize'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.1/lib/excon/connection.rb:344:in new'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.1/lib/excon/connection.rb:344:insocket'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.1/lib/excon/connection.rb:175:in request_kernel'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.1/lib/excon/connection.rb:101:inrequest'\n             C:/Program Files (x86)/Heroku/vendor/gems/heroku-api-0.3.4/lib/heroku/api.rb:61:in request'\n             C:/Program Files (x86)/Heroku/vendor/gems/heroku-api-0.3.4/lib/heroku/api/login.rb:9:inpost_login'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:76:in api_key'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:185:inask_for_credentials'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:217:in ask_for_and_save_credentials'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:80:inget_credentials'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:41:in login'\n             C:/Program Files (x86)/Heroku/lib/heroku/command/auth.rb:22:inlogin'\n             C:/Program Files (x86)/Heroku/lib/heroku/command.rb:193:in run'\n             C:/Program Files (x86)/Heroku/lib/heroku/cli.rb:25:instart'\n             C:/Program Files (x86)/Heroku/bin/heroku:25:in `'\n```\nThen I set HEROKU_SSL_VERIFY=disable and this is the complete response I get (not sure why it asks for credentials twice every time I try even when 100% sure it is correct):\nEnter your Heroku credentials.\nEmail: my@email.com\nPassword (typing will be hidden):\nEnter your Heroku credentials.\nEmail: my@email.com\nPassword (typing will be hidden):\n !    Internal server error.\n !    Run 'heroku status' to check for known platform issues.\nI can do a \"git push heroku master\" from the network and that works.\n. ",
    "salesforcedoc": "14hrs later and still no update.  Please regression test your sw @heroku!\n. I guess they skipped regression testing?\n. @geemus can you provide instructions on how to roll back to version 2.30.3?  This will be helpful for all of us.  cc'ing @ddollar @doctorwidget\n. thanks!  awesome!\n. ",
    "iamtheschmitzer": "I don't know, since heroku -v has the same problem :)\nBut I ran heroku update this morning\nNo, never tried toolbelt, will do\nOn Thu, Aug 23, 2012 at 11:37 AM, Wesley Beary notifications@github.comwrote:\n\n@iamtheschmitzer https://github.com/iamtheschmitzer - what version of\nthe gem do you now have installed? Have you tried using the toolbelt? It is\navailable at https://toolbelt.heroku.com, is faster and also tends not to\nhave dependency type issues since everything is vendored.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/526#issuecomment-7975657.\n. $ gem list heroku\n\n* LOCAL GEMS *\nheroku (2.16.2, 2.2.9, 2.1.4, 2.0.4, 1.18.3, 1.15.1, 1.9.8)\nOn Thu, Aug 23, 2012 at 2:07 PM, Wesley Beary notifications@github.comwrote:\n\n@iamtheschmitzer https://github.com/iamtheschmitzer - fair enough. I\nthink gem list heroku should probably show you what gem version you have,\nbut yeah I think toolbelt may be a good bet to just get it working. Please\nlet me know if you have other issues or questions though.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/526#issuecomment-7980395.\n. Thanks for your advice, the toolbelt did work indeed.\n\nOn Thu, Aug 23, 2012 at 11:37 AM, Wesley Beary notifications@github.comwrote:\n\n@iamtheschmitzer https://github.com/iamtheschmitzer - what version of\nthe gem do you now have installed? Have you tried using the toolbelt? It is\navailable at https://toolbelt.heroku.com, is faster and also tends not to\nhave dependency type issues since everything is vendored.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/526#issuecomment-7975657.\n. Wesley, thanks\n\nI am having other trouble.\nNow when I go to an rvm-controlled directory, no heroku commands in my rake\nfile are working.\nWhen I run them by command line, the commands work, though????\nThis is my backup rakefile:\n$ cat lib/tasks/backup.rake\ntask \"backup\" do\n  oldest = nil\n  newest = nil\n  url = nil\n  puts \"backing up\"\n  system \"heroku pgbackups:capture --expire --app scholaric\"\n  puts \"checking backups\"\n  IO.popen('heroku pgbackups --app scholaric').each do |line|\n    if line =~ /SHARED_DATABASE/\n      name = line.split(' ').first\n      newest = name\n      oldest = name unless oldest\n      puts \"found backup #{name}\"\n    end\n  end\n  puts \"newest backup is #{newest}\"\n  file = Time.now.strftime(\"backups/#{newest}-%Y.%m.%d.back\")\n  puts \"checking url of #{newest}\"\n  IO.popen(\"heroku pgbackups:url #{newest} --app scholaric\").each do\n|line|\n    url = line.chomp\n  end\n  puts \"found url #{url}\"\n  puts \"downloading new backup #{newest} to #{file}\"\n  system \"curl -o #{file} '#{url}'\"\nend\nWhen I run, I get this\n$ rake backup\n(in /Users/iats/rails/projects/scholaric)\nbacking up\n/Users/iats/.heroku/client/lib/heroku.rb:15:in user_agent': undefined\nmethodlatest_local_version' for Heroku::Updater:Module (NoMethodError)\nfrom /Users/iats/.heroku/client/lib/heroku/auth.rb:311:in default_params'\nfrom /Users/iats/.heroku/client/lib/heroku/auth.rb:17:inapi'\nfrom /Users/iats/.heroku/client/lib/heroku/command/base.rb:40:in api'\nfrom\n/Users/iats/.heroku/client/lib/heroku/helpers/heroku_postgresql.rb:9:inapp_config_vars'\nfrom\n/Users/iats/.heroku/client/lib/heroku/helpers/heroku_postgresql.rb:41:in\nhpg_resolve'\nfrom /Users/iats/.heroku/client/lib/heroku/command/pgbackups.rb:73:incapture'\nfrom /Users/iats/.heroku/client/lib/heroku/command.rb:193:in run'\nfrom /Users/iats/.rvm/gems/ruby-1.9.2-p290@scholaric/gems/heroku-2.16.2/bin/heroku:13:in'\nfrom /Users/iats/.rvm/gems/ruby-1.9.2-p290@scholaric/bin/heroku:19:in load'\nfrom /Users/iats/.rvm/gems/ruby-1.9.2-p290@scholaric/bin/heroku:19:in'\nchecking backups\n/Users/iats/.heroku/client/lib/heroku.rb:15:in user_agent': undefined\nmethodlatest_local_version' for Heroku::Updater:Module (NoMethodError)\nfrom /Users/iats/.heroku/client/lib/heroku/auth.rb:311:in default_params'\nfrom /Users/iats/.heroku/client/lib/heroku/auth.rb:17:inapi'\nfrom /Users/iats/.heroku/client/lib/heroku/command/base.rb:40:in api'\nfrom /Users/iats/.heroku/client/lib/heroku/command/pgbackups.rb:179:inconfig_vars'\nfrom /Users/iats/.heroku/client/lib/heroku/command/pgbackups.rb:183:in\npgbackup_client'\nfrom /Users/iats/.heroku/client/lib/heroku/command/pgbackups.rb:20:inindex'\nfrom /Users/iats/.heroku/client/lib/heroku/command.rb:193:in run'\nfrom /Users/iats/.rvm/gems/ruby-1.9.2-p290@scholaric/gems/heroku-2.16.2/bin/heroku:13:in'\nfrom /Users/iats/.rvm/gems/ruby-1.9.2-p290@scholaric/bin/heroku:19:in load'\nfrom /Users/iats/.rvm/gems/ruby-1.9.2-p290@scholaric/bin/heroku:19:in'\nnewest backup is\nchecking url of\n/Users/iats/.heroku/client/lib/heroku.rb:15:in user_agent': undefined\nmethodlatest_local_version' for Heroku::Updater:Module (NoMethodError)\nfrom /Users/iats/.heroku/client/lib/heroku/auth.rb:311:in default_params'\nfrom /Users/iats/.heroku/client/lib/heroku/auth.rb:17:inapi'\nfrom /Users/iats/.heroku/client/lib/heroku/command/base.rb:40:in api'\nfrom /Users/iats/.heroku/client/lib/heroku/command/pgbackups.rb:179:inconfig_vars'\nfrom /Users/iats/.heroku/client/lib/heroku/command/pgbackups.rb:183:in\npgbackup_client'\nfrom /Users/iats/.heroku/client/lib/heroku/command/pgbackups.rb:52:inurl'\nfrom /Users/iats/.heroku/client/lib/heroku/command.rb:193:in run'\nfrom /Users/iats/.rvm/gems/ruby-1.9.2-p290@scholaric/gems/heroku-2.16.2/bin/heroku:13:in'\nfrom /Users/iats/.rvm/gems/ruby-1.9.2-p290@scholaric/bin/heroku:19:in load'\nfrom /Users/iats/.rvm/gems/ruby-1.9.2-p290@scholaric/bin/heroku:19:in'\nfound url\ndownloading new backup  to backups/-2012.08.25.back\ncurl: (3)  malformed\nI've been adding to my Gemfile since updating:\n$ cat Gemfile\nsource \"http://rubygems.org\"\nsource :gemcutter\ngem \"heroku\"\ngem \"heroku-api\"\ngem \"netrc\"\ngem \"rails\", \"2.3.11\"\ngem \"rake\", \"0.8.3\"\ngem \"authlogic\", \"2.1.3\"\ngem \"remit\", \"2.0.1\"\ngem \"acts_as_list\", \"0.1.4\"\ngem \"pg\", \"0.11.0\"\ngem \"json\", \"1.4.2\"\ngroup :test, :development do\n  gem \"factory_girl\"\n  gem \"ZenTest\"\n  gem \"autotest-rails\"\n  gem \"ruby-debug19\"\nend\nAny ideas how to fix this, or make the rvm gemset use the toolbelt version?\nTIA\njeff\nOn Thu, Aug 23, 2012 at 10:32 PM, Wesley Beary notifications@github.comwrote:\n\nGood to know, I was about to offer a couple other possible fixes but\nsounds like you are back in business. Let me know if you have further\nquestions or concerns.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/526#issuecomment-7991303.\n. I'm not sure how to update the toolbelt version.  I just installed it in the first place, and when I try to update it from that directory:\n\n$ heroku update\n !    heroku update is only available from Heroku Toolbelt.\n !    Download and install from https://toolbelt.heroku.com\n. Inside.\nBut, its only while running rake that there is a problem.\nI rename my rakefile to an .rb file, renmove the task block,  and run with\nruby and it works???\nOn Mon, Aug 27, 2012 at 9:25 AM, Wesley Beary notifications@github.comwrote:\n\n@iamtheschmitzer https://github.com/iamtheschmitzer are you running\nthat from inside the app directory or elsewhere? I think the default rvm\nbehavior may be causing weirdness around what version gets run.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/526#issuecomment-8057238.\n. Could not uninstall\n\n$ gem uninstall rubygems-bundler\nERROR:  While executing gem ... (Gem::InstallError)\n    cannot uninstall, check gem list -d rubygems-bundler\nMacBooks-MacBook-Pro:scholaric iats$ gem list -d gubygems-bundler\n* LOCAL GEMS *\nOn Mon, Aug 27, 2012 at 9:35 AM, Wesley Beary notifications@github.comwrote:\n\nI think the issue is caused by the rubygems-bundler gem. If you do gem\nuninstall rubygems-bundler and then run everything normally I think you\nmay have better luck. RVM installs that gem by default now, but it can\ncause weird behavior (such as this).\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/526#issuecomment-8057531.\n. No, never heard of it.\n\nI believe what will happen is that it will be unable to run heroku -v\nOn Wed, Aug 29, 2012 at 10:22 AM, Wesley Beary notifications@github.comwrote:\n\n@iamtheschmitzer https://github.com/iamtheschmitzer - bizarre, sorry\nabout me misdiagnosing there. Inside the rakefile, if you make a task to\noutput heroku version, what do you get? I think this may show us that the\nversion mismatch is in fact taking place. Are you perhaps using ohmyzsh?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/526#issuecomment-8128575.\n. No apologies necessary, BTW.  Thanks for your help!\n\nOn Wed, Aug 29, 2012 at 10:33 AM, Jeff Schmitz\njeffrey.j.schmitz@gmail.comwrote:\n\nNo, never heard of it.\nI believe what will happen is that it will be unable to run heroku -v\nOn Wed, Aug 29, 2012 at 10:22 AM, Wesley Beary notifications@github.comwrote:\n\n@iamtheschmitzer https://github.com/iamtheschmitzer - bizarre, sorry\nabout me misdiagnosing there. Inside the rakefile, if you make a task to\noutput heroku version, what do you get? I think this may show us that\nthe version mismatch is in fact taking place. Are you perhaps using ohmyzsh?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/526#issuecomment-8128575.\n. \n\n",
    "paulofierro": "Thanks @geemus - that did the trick!\n. ",
    "jesperfj": "I like it. I think this is a net improvement. It seems pretty unambiguous to print the URL of the app as result of the create without further spelling out what the app name is.\n. The regex in base.rb should be reviewed for sure. The original regex for ssh URL looked a little weird to me.\nAlso, currently if you run heroku git:remote -a myapp --http-git to set an https based remote, it will fail if a heroku remote already exists. Arguably, this is not correct behavior for the use case where you want to switch an existing repo from ssh to https. I decided not to write the ugly logic to address this. It seems like an edge case and I'll leave it up to @dickeyxxx + @friism to decide what to do here.\n. What's wrong with CNAME target?\nOn Friday, May 29, 2015, Ryan Brainard notifications@github.com wrote:\n\nIn lib/heroku/command/domains.rb\nhttps://github.com/heroku/heroku/pull/1589#discussion_r31335120:\n\n@@ -13,17 +14,35 @@ class Domains < Base\n     #Examples:\n     #\n     # $ heroku domains\n-    # === Domain names for example\n-    # example.com\n-    # === Development Domain\n-    # example.herokuapp.com\n-    #\n-    # === Custom Domains\n-    # Domain Name  CNAME Target\n\n@jesperfj https://github.com/jesperfj, @itchymutt\nhttps://github.com/itchymutt: are you ok with using DNS Record Target\nboth here and Dashboard?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/pull/1589/files#r31335120.\n. I see. Sorry was on email. It's to not exclude ALIAS records. Fair enough.\nDo we need \"Record\"? how about just \"DNS Target\"?\n\nOn Friday, May 29, 2015, Ryan Brainard notifications@github.com wrote:\n\nIn lib/heroku/command/domains.rb\nhttps://github.com/heroku/heroku/pull/1589#discussion_r31336919:\n\n@@ -13,17 +14,35 @@ class Domains < Base\n     #Examples:\n     #\n     # $ heroku domains\n-    # === Domain names for example\n-    # example.com\n-    # === Development Domain\n-    # example.herokuapp.com\n-    #\n-    # === Custom Domains\n-    # Domain Name  CNAME Target\n\n@jesperfj https://github.com/jesperfj see the thread above\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/pull/1589/files#r31336919.\n. \n",
    "clickpoint": "yep, git runs fine.\n. I've recently installed and run the same version of heroku toolbelt on another computer and it worked. But I pretty sure that I didn't do anything different.\n. I encountered the following problem when trying to add the remote.\nC:\\projects>heroku git:remote -a clickpointau\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n`\nError:       No such file or directory -  git remote 2>&1  (Errno::ENOENT)\nBacktrace:   C:/Program Files (x86)/Heroku/lib/heroku/helpers.rb:112:in'\n             C:/Program Files (x86)/Heroku/lib/heroku/helpers.rb:112:in git'\n             C:/Program Files (x86)/Heroku/lib/heroku/command/git.rb:57:inremote'\n             C:/Program Files (x86)/Heroku/lib/heroku/command.rb:193:in run'\n             C:/Program Files (x86)/Heroku/lib/heroku/cli.rb:28:instart'\n             C:/Program Files (x86)/Heroku/bin/heroku:23:in `'\nCommand:     heroku git:remote -a clickpointau\nVersion:     heroku-toolbelt/2.30.5 (i386-mingw32) ruby/1.9.2\n```\n. I changed my path so that git\\cmd is now placed before git\\bin and now I get the following:\nC:\\projects>heroku create clickpointau --stack cedar\n'getcp -oem' is not recognized as an internal or external command,\noperable program or batch file.\n'getcp -ansi' is not recognized as an internal or external command,\noperable program or batch file.\n'\"path\"' is not recognized as an internal or external command,\noperable program or batch file.\nCreating clickpointau... done, stack is cedar\nhttp://clickpointau.herokuapp.com/ | git@heroku.com:clickpointau.git\n'getcp -oem' is not recognized as an internal or external command,\noperable program or batch file.\n'getcp -ansi' is not recognized as an internal or external command,\noperable program or batch file.\n'\"path\"' is not recognized as an internal or external command,\noperable program or batch file.\n'getcp -oem' is not recognized as an internal or external command,\noperable program or batch file.\n'getcp -ansi' is not recognized as an internal or external command,\noperable program or batch file.\n'\"path\"' is not recognized as an internal or external command,\noperable program or batch file.\nGit remote heroku added\nC:\\projects>git push heroku master\n'getcp -oem' is not recognized as an internal or external command,\noperable program or batch file.\n'getcp -ansi' is not recognized as an internal or external command,\noperable program or batch file.\nerror: The requested URL returned error: 502 while accessing http://clickpoint.herokuapp.com/info/refs\nfatal: HTTP request failed\n'\"path\"' is not recognized as an internal or external command,\noperable program or batch file.\n. After I changed the path back to how it was:\nC:\\projects>git remote 2>&1\nheroku\n. I still haven't solved this issue. Please help.\n. [core]\nrepositoryformatversion = 0\nfilemode = false\nbare = false\nlogallrefupdates = true\nsymlinks = false\nignorecase = true\nhideDotFiles = dotGitOnly\n[gui]\nwmstate = normal\ngeometry = 1258x678+86+39 452 291\n[remote \"heroku\"]\nurl = http://clickpoint.herokuapp.com/\nfetch = +refs/heads/:refs/remotes/heroku/\nOn Tue, Sep 11, 2012 at 2:03 AM, Wesley Beary notifications@github.comwrote:\n\n@clickpoint https://github.com/clickpoint - sorry about that. Could you\npaste the contents of the C:\\project_git\\config? I think that should give\nme a better angle to solve the problem.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/535#issuecomment-8427912.\n. I think the issue might be with the execution of line 112 in the helpers.rb file\n\ndef git(args)\n  return \"\" unless has_git?\n  flattened_args = [args].flatten.compact.join(\" \")\n->      %x{ git #{flattened_args} 2>&1 }.strip\n    end\nWhich evaluates to \"git remote 2>&1\". But for some reason this isn't being interpreted as a windows command (or is expected to be a file or directory) and hence:\nNo such file or directory -  git remote 2>&1  (Errno::ENOENT)\n. Windows 7\n. The reason why the git is wrong is because git create failed initially. git create still fails.\n. I'm using version 2.31.2 (the latest version):\nC:\\projects>heroku create\nCreating intense-retreat-5142... done, stack is cedar\nhttp://intense-retreat-5142.herokuapp.com/ | git@heroku.com:intense-retreat-5142.git\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n`\nError:       No such file or directory -  git remote 2>&1  (Errno::ENOENT)\nBacktrace:   C:/Program Files (x86)/Heroku/lib/heroku/helpers.rb:112:in'\n             C:/Program Files (x86)/Heroku/lib/heroku/helpers.rb:112:in git'\n             C:/Program Files (x86)/Heroku/lib/heroku/helpers.rb:152:increate_git_remote'\n             C:/Program Files (x86)/Heroku/lib/heroku/command/apps.rb:213:in create'\n             C:/Program Files (x86)/Heroku/lib/heroku/command.rb:191:inrun'\n             C:/Program Files (x86)/Heroku/lib/heroku/cli.rb:28:in start'\n             C:/Program Files (x86)/Heroku/bin/heroku:23:in'\nCommand:     heroku create\nVersion:     heroku-toolbelt/2.31.2 (i386-mingw32) ruby/1.9.2\n```\n. Is it possible to escalate this issue to higher level support? I think it might require someone to look at the code.\n. I'm using cmd.exe. I installed git with the heroku toolbelt (I had it installed alone previously but uninstalled it just before installing the heroku toolbelt).\nC:\\projects>ver\nMicrosoft Windows [Version 6.1.7601]\nC:\\projects>git --version\ngit version 1.7.9.msysgit.0\n. C:\\Users\\user>chcp\nActive code page: 850\nI'm out of ideas too and I have no workaround. Do you think maybe we can get some fresh eyes on this issue - maybe someone has seen this issue before.\n. ",
    "jeffreytu": "Hello. I just came across this issue today while trying to heroku create. Other commands like apps and config give me the same:\n```\n$ heroku create\nError submitting error.\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       No such file or directory -  git remote -v 2>&1  (Errno::ENOENT)\nCommand:     heroku create\nPlugins:     heroku-push\nVersion:     heroku/toolbelt/3.25.0 (i386-mingw32) ruby/1.9.3\n\n\nMore information in c:/Users/Jstadragon/.heroku/error.log\n\n```\nI'm on Windows 7 with an updated heroku-belt and have tried the same commands in cmd and git bash, but still get the same error.\n. $ git --version\ngit version 1.9.5.msysgit.0\n. ",
    "Thuruv": "$ git --version\ngit version 1.9.4.msysgit.2\nSame Here. . Please help. .\n. ",
    "andrelindquist": "git --version\ngit version 1.9.5msysgit.0\nver\nMicrosoft Windows [Version 6.3.9600]     //Windows 8\nSame issue as OP- I get the same error during heroku create and other commands.\nAnyone find a way to get through this?\n. ",
    "jacobaweiss": "I don't know if this is exactly what you meant. It doesn't account for a user having his/her .gitconfig somewhere other than the home directory. It could be expanded to check the current directory as well?\n. ",
    "Azolo": "Thanks, that's what I ended up doing and it otherwise seem to work fine after that.\n. Well, autoupdate is mostly working, but it's spawning 8 or 9 ruby processes when enabled.\nEvery once and awhile I get this error.\n. ",
    "mcgraphix": "I just downloaded the latest version about 5 minutes ago and I am getting\nthe same error. Is there a way to disable the automatic update check since\nit seems that that is what is causing the issue?\nOn Fri, Aug 31, 2012 at 12:39 PM, Wesley Beary notifications@github.comwrote:\n\nI don't believe this should still be an error in the latest version, but\nobviously this is preventing you from getting to that version. You should\nbe able to redownload and install from https://toolbelt.heroku.com and be\nback in business.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/540#issuecomment-8197789.\n. If I just ignore the first error, it seem that I can use heroku. But, I am\nnow getting a different error. I am not sure if it is related but when I\nrun: git push heroku master I get the following error message:\n\nC:\\Users\\rob\\Documents\\mcgraphix\\mcgraphix\\klokwork-node>git push heroku\nmaster\nWarning: Permanently added the RSA host key for IP address '50.19.85.154'\nto the list of known hosts.\nPermission denied (publickey).\nfatal: The remote end hung up unexpectedly\nI really want this to work as I think it is going to be a great fit for my\napp. My goal is to get a rough prototype working by Tuesday. So anything\nyou can do help me get up and running ASAP is really appreciated.\nRob\nOn Fri, Aug 31, 2012 at 7:50 PM, Rob McKeown rob@mcgraphix.com wrote:\n\nI just downloaded the latest version about 5 minutes ago and I am getting\nthe same error. Is there a way to disable the automatic update check since\nit seems that that is what is causing the issue?\nOn Fri, Aug 31, 2012 at 12:39 PM, Wesley Beary notifications@github.comwrote:\n\nI don't believe this should still be an error in the latest version, but\nobviously this is preventing you from getting to that version. You should\nbe able to redownload and install from https://toolbelt.heroku.com and\nbe back in business.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/540#issuecomment-8197789.\n. I thought that might be the issue too, but I already created and added a\nkey but I still get the same error.\n\n\nOn Mon, Sep 3, 2012 at 4:28 PM, Wesley Beary notifications@github.comwrote:\n\n@mcgraphix https://github.com/mcgraphix - sorry to hear you are having\ntrouble there. You should be able to disable autoupdate by deleting\nC:\\Users\\rob_heroku\\autoupdate. It checks for that to determine if it\nshould continue or not. Could you paste the first error you are getting so\nthat I can reference it more directly? The second error looks like you do\nnot have ssh keys setup, you should be able to figure that out from the\ndevcenter SSH article here: https://devcenter.heroku.com/articles/keys\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/540#issuecomment-8246455.\n. \n",
    "notbrain": "I just installed it less than an hour ago. How will that help? Maybe this is just a lack of gracefully telling me that I've got the latest version already?\n. ",
    "glmason": "This is not just a OSX 10.7.4 error I'm getting the same in in the Windows toolbelt also... Is there a fix?\n. Yes that does seem to fix that problem... sorry it took a while to get back to you (Sunday morning are for laying around reading the paper and having a good breakfast)... But I'm still having a problem with \"git push heroku master\" I keep getting an error : \"! No such app as arcane-mesa-1276. fatal: The remote end hung up unexpectedly\" that is not the name of my app, I've repeatedly destroyed and re-created my app, I'm logged in, my creds seem in order... any ideas? Thanks\nNever mind, figured it out (with the help if StackOverFlow) I needed to use \"git remote -v\" to look at the where git thought it was supposed to put things and then used \"git remote rm Heroku\" to clean out stale links and then recreated the app with \"heroku create... \" then pushed... and it all worked...  Great Thanks. Larry\n. ",
    "shpen": "I too am having this problem on Win7 x64 after installing the toolbelt for the first time.\nI fixed it by editing update.rb with the changes in these two commits:\nhttps://github.com/heroku/heroku/commit/852a26e7335eb4a574b85b69d14cf7c1b3cee1b6\nhttps://github.com/heroku/heroku/commit/a0ec2c14d1930247b39c64e0f09fd6f4c732903d\nIt seems like the toolbelt download is not up to date with the latest code.\n. ",
    "chrishawn": "i just downloaded latest on windows 8 and now i see\nC:/Program Files (x86)/Heroku/lib/heroku/updater.rb:145:in spawn': No such file or directory - open (Errno::ENOENT)\n        from C:/Program Files (x86)/Heroku/lib/heroku/updater.rb:145:inbackground_update!'\n        from C:/Program Files (x86)/Heroku/lib/heroku/updater.rb:135:in inject_libpath'\n        from C:/Program Files (x86)/Heroku/bin/heroku:19:in'\n. that fixed it thanks!\n. ",
    "mycoalshoe": "The DL link for the toolbelt has reverted back to 2.32.13. Where can I find 2.32.3 so it works with Win8?\n. ",
    "rurare": "I have this same issue in Windows 7...\nC:/Program Files (x86)/Heroku/lib/heroku/updater.rb:155:in spawn': No such file or directory - C:/Program Files (x86)/Heroku/bin/heroku update (Errno::ENOENT)\n        from C:/Program Files (x86)/Heroku/lib/heroku/updater.rb:155:inbackground_update!'\n        from C:/Program Files (x86)/Heroku/lib/heroku/updater.rb:135:in inject_libpath'\n        from C:/Program Files (x86)/Heroku/bin/heroku:19:in'\n. ",
    "hakusaro": "I'm hoping to find that version as well.\n. ",
    "dublicator": "I downloaded latest release of Heroku Toolbelt, but it's give me error, when I enter heroku login on Windows 8 Pro\nI:/heroku/lib/heroku/updater.rb:164:in spawn': No such file or directory - open\n (Errno::ENOENT)\n        from I:/heroku/lib/heroku/updater.rb:164:inbackground_update!'\n        from I:/heroku/lib/heroku/updater.rb:144:in inject_libpath'\n        from I:/heroku/bin/heroku:19:in'\n. I resolved this problem. My user folder contained cyrrilic symbols. After renaming it problem resolved.\n. E.g., c:\\Users\\SomeUser (or c:\\Documents and Settings\\SomeUser)\n. ",
    "shem8": "Same here.\ndownloaded the latest version from https://toolbelt.heroku.com/download/windows and still getting this:\nC:/Program Files/Heroku/lib/heroku/updater.rb:164:in `spawn': No such file or directory - open (Errno::ENOENT)\n        from C:/Program Files/Heroku/lib/heroku/updater.rb:164:in `background_update!'\n        from C:/Program Files/Heroku/lib/heroku/updater.rb:144:in `inject_libpath'\n        from C:/Program Files/Heroku/bin/heroku:19:in `<main>'\n. What user folder?\n. I do have a .heroku folder there but it empty, and it still happen after deleting it\n. ",
    "ValeryAdleyba": "Will be support of cyrrilic symbols there?\n. ",
    "Kozlov-V": "When Will be support of cyrrilic symbols there???????\n. +1\n. +1\n. ",
    "orestovna": "I have the same problem. Maybe someone finds how to fix it?\n. ",
    "gorshkovj": "I just installed the latest Heroku Toolbelt (3.2.0) on my Windows 7/64 PC. I opened a new Command Line and typed 'heroku login'. I get the following error:\nC:\\Users\\\u0415\u0432\u0433\u0435\u043d\u0438\u0439>heroku login\nC:/Program Files (x86)/Heroku/lib/heroku/updater.rb:164:in spawn': No such file or directory - open (Errno::ENOENT)\n        from C:/Program Files (x86)/Heroku/lib/heroku/updater.rb:164:inbackground_update!'\n        from C:/Program Files (x86)/Heroku/lib/heroku/updater.rb:144:in inject_libpath'\n        from C:/Program Files (x86)/Heroku/bin/heroku:24:in'\nI do:\n1) Open the updater.rb file from ur editor (sublime text 2 here)\n2) Remove line 144, which is \"background_update!\".\nAfter that I simpled typed \"heroku login\" and it worked.\n. ",
    "AurelienRibon": "Same here with an accent on my username \"C:/Users/Aur\u00e9lien\" .\n. ",
    "borismu": "Just installed and got this response\nC:\\Users\\Boris>heroku\nC:/Progs/Heroku/lib/heroku/updater.rb:164:in spawn': No such file or directory - open (Errno::ENOENT)\n        from C:/Progs/Heroku/lib/heroku/updater.rb:164:inbackground_update!'\n        from C:/Progs/Heroku/lib/heroku/updater.rb:144:in inject_libpath'\n        from C:/Progs/Heroku/bin/heroku:24:in'\n. ",
    "githubjeka": "@gorshkovj thank :dart:  My name is \u0415\u0432\u0433\u0435\u043d\u0438\u0439 too D\n. ",
    "andhapp": "@ddollar: I don't want to package the gems in the app.\nOn 4 Sep 2012, at 16:57, David Dollar notifications@github.com wrote:\n\nIf you use bundle package --all and commit the resulting directory to git, it will put all of the source files into your repo. This will allow bundler to resolve the dependency during the build process, even if it can't contact the private repo.\n\u2014\nReply to this email directly or view it on GitHub.\n. Thanks. I have already uploaded my key, as I can deploy to heroku. Its only an issue with installing gem from a private git repo. Anything else I can do to debug this issue? \n\nOn 4 Sep 2012, at 16:56, Wesley Beary notifications@github.com wrote:\n\n@andhapp - I would guess that you simply need to upload your public key to Heroku and you should then be ready to go, you should be able to find much more information about that here: https://devcenter.heroku.com/articles/keys. Do let me know if you still are having this issue after working through that article though.\n\u2014\nReply to this email directly or view it on GitHub.\n. @caifara We never really solved this issue. However, a workaround is to create a user on github and give that user access to private gem repository and then use that user's username and password in the Gemfile. \n\nThis is not ideal, but this user has access to nothing except that repository makes it a little secure. Hope someone can come up with a better solution.\n. @subelsky I think it's the same issue, as it fails on retrieving private repository from git. Have you tried my workaround? I've no idea how others are solving this issue.\n. @deanperry This issue has fallen off the radar, so I guess my alternative solution can be used. We've been using it for 4 months now.\n. ",
    "caifara": "I'm having the same issue here (and I would expect many to encounter this sooner or later). Shouldn't this issue be opened again?\n. @andhapp Thanks for getting back to me. I was hoping for a more ideal one to come up but for now, I'll use the github machine user method.\n. ",
    "subelsky": "My keys are working fine but I'm not able to get this working. Not sure if this is the same problem or not:\n```\nCounting objects: 255, done.\nDelta compression using up to 4 threads.\nCompressing objects: 100% (220/220), done.\nWriting objects: 100% (249/249), 125.12 KiB, done.\nTotal 249 (delta 55), reused 0 (delta 0)\n-----> Heroku receiving push\n-----> Ruby app detected\n-----> Using Ruby version: ruby-1.9.3\n-----> Installing dependencies using Bundler version 1.2.1\n       Running: bundle install --without development:test --path vendor/bundle --binstubs bin/ --deployment\n       Fetching git@github.com:subelsky/#####.git\n       Host key verification failed.\n       fatal: The remote end hung up unexpectedly\n       Git error: command git clone 'git@github.com:subelsky/#####.git' \"/tmp/build_3qoaap9hije50/vendor/bundle/ruby/1.9.1/cache/bundler/git/#####-321e3ac29ac9a673061c9dd61f454b0051bba49c\" --bare --no-hardlinks in directory /tmp/build_3qoaap9hije50 has failed.\n !\n !     Failed to install gems via Bundler.\n !\n !     Heroku push rejected, failed to compile Ruby app\n```\n. I'm also getting a segfault on mavericks, different function though:\n```\n/Users/me/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/adapters/yajl.rb:11: [BUG] Segmentation fault\nruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-darwin10.8.0]\n-- Control frame information -----------------------------------------------\nc:0013 p:---- s:0072 b:0072 l:000071 d:000071 CFUNC  :new\nc:0012 p:0036 s:0068 b:0068 l:000067 d:000067 METHOD /Users/me/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/adapters/yajl.rb:11\nc:0011 p:0062 s:0063 b:0063 l:000062 d:000062 METHOD /Users/me/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/adapter.rb:20\nc:0010 p:0035 s:0058 b:0058 l:000057 d:000057 METHOD /Users/me/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json.rb:121\nc:0009 p:0094 s:0051 b:0049 l:000048 d:000048 METHOD /Users/me/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api.rb:105\nc:0008 p:0012 s:0040 b:0040 l:000039 d:000039 METHOD /Users/me/.heroku/client/lib/heroku/auth.rb:20\nc:0007 p:0032 s:0034 b:0034 l:000033 d:000033 METHOD /Users/me/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/config_vars.rb:18\nc:0006 p:0060 s:0030 b:0030 l:000029 d:000029 METHOD /Users/me/.heroku/client/lib/heroku/command/config.rb:100\nc:0005 p:0046 s:0024 b:0024 l:000023 d:000023 METHOD /Users/me/.heroku/client/lib/heroku/command.rb:218\nc:0004 p:0112 s:0014 b:0014 l:000013 d:000013 METHOD /Users/me/.heroku/client/lib/heroku/cli.rb:28\nc:0003 p:0232 s:0008 b:0008 l:0023f8 d:001bd8 EVAL   /usr/local/heroku/bin/heroku:24\nc:0002 p:---- s:0004 b:0004 l:000003 d:000003 FINISH\nc:0001 p:0000 s:0002 b:0002 l:0023f8 d:0023f8 TOP\n-- Ruby level backtrace information ----------------------------------------\n/usr/local/heroku/bin/heroku:24:in <main>'\n/Users/me/.heroku/client/lib/heroku/cli.rb:28:instart'\n/Users/me/.heroku/client/lib/heroku/command.rb:218:in run'\n/Users/me/.heroku/client/lib/heroku/command/config.rb:100:inget'\n/Users/me/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/config_vars.rb:18:in get_config_vars'\n/Users/me/.heroku/client/lib/heroku/auth.rb:20:inrequest'\n/Users/me/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api.rb:105:in request'\n/Users/me/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json.rb:121:inload'\n/Users/me/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/adapter.rb:20:in load'\n/Users/me/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/adapters/yajl.rb:11:inload'\n/Users/me/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/adapters/yajl.rb:11:in new'\n```\n. @pedro totally didn't think about recompiling gems when I upgraded. If you're running into this issue in the future, can rungem pristine --all` to rebuild\n. ",
    "nealtovsen": "Same problem here as @subelsky. I'd really like to understand what's going on. Seems silly to have to spend $14/mo on Gem Fury just to deploy a private Gem on Heroku. Can we re-open this issue?\n. ",
    "deanpcmad": "I also have this issue and adding the ForwardAgent Yes goodness in my ~/ssh/config file doesn't do anything :(\n. I don't use Github for my private repos so no. I've just found this though and it works well - https://github.com/dpiddy/gemgate\n. ",
    "pauldub": "A nice way to fix this issue would be to allow users to generate/upload key pairs for their applications.\n. ",
    "ruprict": "Someone has thrown together a gist that looks promising...\n. ",
    "Ajedi32": "This issue should be reopened as it has not been resolved yet. I'm still having this problem.\n```\n$ git push heroku master\nCounting objects: 32, done.\nDelta compression using up to 4 threads.\nCompressing objects: 100% (16/16), done.\nWriting objects: 100% (17/17), 2.12 KiB, done.\nTotal 17 (delta 10), reused 0 (delta 0)\n-----> Ruby/Rails app detected\n-----> WARNING: Removing Gemfile.lock because it was generated on Windows.\n       Bundler will do a full resolve so native gems are handled properly.\n       This may result in unexpected gem versions being used in your app.\n-----> Installing dependencies using Bundler version 1.3.2\n       Running: bundle install --without development:test --path vendor/bundle --binstubs vendor/bundle/bin\n       Fetching git@bitbucket.org:MyUsername/my-private-gem.git\n       Host key verification failed.\n       fatal: The remote end hung up unexpectedly\n       Git error: command git clone 'git@bitbucket.org:MyUsername/my-private-gem.git'\n       \"/tmp/build_p3g0d8jdexy2/vendor/bundle/ruby/1.9.1/cache/bundler/git/my-private-gem-3485aec1b0f901a0d07e0ca121ecb99b3979d4bd\"\n       --bare --no-hardlinks in directory /tmp/build_p3g0d8jdexy2 has failed.\n !\n !     Failed to install gems via Bundler.\n !\n !     Heroku push rejected, failed to compile Ruby/rails app\nTo git@heroku.com:myapp.git\n ! [remote rejected] master -> master (pre-receive hook declined)\nerror: failed to push some refs to 'git@heroku.com:myapp.git'\n```\nI'll try the workaround, but I'd really prefer to just use user agent forwarding. According to this post it used to work that way.\n. ",
    "mmacvicar": "Same problem over here, will Forward Agent ever work again?\n. ",
    "endash": "Agent forwarding would really be preferable to any of the work arounds, security-wise and ease-of-use-wise it's a no-brainer.\n. ",
    "eymengunay": "@geemus Any updates on the issue?\n. ",
    "gregory": "@dmitry-bezrukov what id your username is an email (like on gitlab...)\n. ",
    "iambirdbrain": "I'm having a similar issue.. I have generated an SSH key, added it to my GitHub account as well as Heroku. My git config user.email matches the email I generated the SSH key with.\nHowever, when my app on Heroku tries to clone via a url like git@github.com:org/repo.git, I get Host key verification failed.\nI'm by no means an SSH expert, so I may just be doing something silly.\nWaiting on Heroku support to let me know where I'm going wrong.\n. Negatory. All good, I was just going about it the wrong way. As you said, SSH agent forwarding isn't supported. Switched to an oauth token and all is well.\n. ",
    "EiNSTeiN-": "I am having this problem, too. Private dependency management is a big pain in the butt on heroku.\n. ",
    "Pliny": "@geemus: Thank you for the alternative approach.\nHowever, since  Heroku::Command::Pgbackups.new is documented as a public interface, do you think it needs to be supported?  \nGoogling \"Heroku::Command::Pgbackups.new\" brings up multiple blogs suggesting using this broken approach.  It might save other developers some time if this approach was supported.  What do you think?\nthanks again!\n. @geemus - I was referring to the rubydocs page. My issue is that this approach used to work yet doesn't anymore. But in any case, seeing that heroku-api seems to be the future for this, I can understand not prioritizing this older approach.  Again, thanks for your support.\n. ",
    "shmidt": "Oh, I used wrong place for issue, so sorry.\n. ",
    "joeybaker": "Thanks for the tip. @geemus. I pieced together a small script to take care of the problem. https://gist.github.com/3725709\nFWIW, this executes in a fraction of the time of heroku db:pull\n. I'm totally unfamiliar with how taps works, but using this (more) native approach takes about 10 seconds for a ~300MB DB vs 5+ min with heroku db:pull. :)\n. ",
    "bhennes2": "@geemus I migrated over to the heroku-api gem and that appears to have solved my issues. I used @@heroku.post_ps_scale instead of @@heroku.ps_scale\nThanks!\n. ",
    "anthonycintron": "Issue resolved on its own.\n. ",
    "ctford": "The code in init.rb runs fine for me in irb:\nhttps://github.com/treasure-data/heroku-td/blob/master/init.rb\n. ",
    "intari": "still happens\ninari5:appledoc dkzm$ heroku list\nEnter your Heroku credentials.\nEmail: dmitriy.kazimirov@viorsan.com\nPassword (typing will be hidden): \n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       bad URI(is not URI?): 10.0.0.131:8080 (URI::InvalidURIError)\nBacktrace:   /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/uri/common.rb:436:insplit'\n             /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/uri/common.rb:485:in parse'\n             /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/connection.rb:368:insetup_proxy'\n             /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/connection.rb:34:in initialize'\n             /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon.rb:98:innew'\n             /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon.rb:98:in new'\n             /usr/local/heroku/vendor/gems/heroku-api-0.3.4/lib/heroku/api.rb:56:ininitialize'\n             /usr/local/heroku/lib/heroku/auth.rb:79:in new'\n             /usr/local/heroku/lib/heroku/auth.rb:79:inapi_key'\n             /usr/local/heroku/lib/heroku/auth.rb:189:in ask_for_credentials'\n             /usr/local/heroku/lib/heroku/auth.rb:221:inask_for_and_save_credentials'\n             /usr/local/heroku/lib/heroku/auth.rb:84:in get_credentials'\n             /usr/local/heroku/lib/heroku/auth.rb:74:inpassword'\n             /usr/local/heroku/lib/heroku/auth.rb:17:in api'\n             /usr/local/heroku/lib/heroku/command/base.rb:40:inapi'\n             /usr/local/heroku/lib/heroku/command/apps.rb:23:in index'\n             /usr/local/heroku/lib/heroku/command.rb:191:insend'\n             /usr/local/heroku/lib/heroku/command.rb:191:in run'\n             /usr/local/heroku/lib/heroku/cli.rb:28:instart'\n             /usr/bin/heroku:25\nCommand:     heroku list\nHTTP Proxy:  10.0.0.131:8080\nHTTPS Proxy: 10.0.0.131:8080\nVersion:     heroku-toolbelt/2.31.2 (universal-darwin12.0) ruby/1.8.7\n```\n12.12.2012, \u00e2 15:41, Jonathan Dance notifications@github.com \u00ed\u00e0\u00ef\u00e8\u00f1\u00e0\u00eb(\u00e0):\n\nHTTP_PROXY and HTTPS_PROXY need to be a URL, e.g. http://10.0.0.131:8080/. This would be an unfortunate bug in OS X if it is not setting it to this standard, but I also am not aware of other reports of this issue. If this is still happening, can you double check your settings?\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "skorfmann": "This one was driving me crazy for the last 30 minutes. \n. ",
    "bhavinjavia": "I just wasted an hour scratching my head due to this issue.\n1. heroku login says 'Authentication Successful'\n2. heroku create fails with 'Authentication Failure'\n3. heroku logout says 'Local credentials cleared'\n4. heroku login again says 'Authentication Successful'\nOf course, I had HEROKU_API_KEY set in my ENV long back which was now invalid.\nBut, I couldn't find any documentation on this anywhere in Heroku docs or help forums. Only way I found this issue was after I had tracked the issue down to HEROKU_API_KEY and searched for it in Issues.\nI understand setting HEROKU_API_KEY in ENV may not be a supported/documented feature and we're on our own if we do.\nBut, since auth:login skips asking for credentials when ENV['HEROKU_API_KEY'] is set, at least a warning message indicating the same would help avoid such confusion.\n. ",
    "jgale": "Wow, thank you. Just spent an hour on that too.\n. ",
    "kdabir": ":+1: It was not apparent that it was happening because of env variable being set. Wasted quite some time to figure it out. I wish I had seen this issue then.\n. Yeah, that would be much better than just silently using it.\n. ",
    "jaimeiniesta": "I also suffered this. I had the HEROKU_API_KEY in my ENV, which I think was invalid after I changed my Heroku password recently (which regenerates your API key).\n. ",
    "timecode": "Having reset my Heroku password after the recent Heartbleed OpenSSL Vulnerability issue, I too have spent the last hour trying to figure this out. I had to manually $ heroku config:set HEROKU_API_KEY=*my_api_key*\nJust thought I'd mention it here in case others are having the same issue at the moment.\n. ",
    "friism": "I added a warning to the documentation: https://devcenter.heroku.com/articles/authentication#api-token-storage\n. @estsauver this may have been due to an expired certificate, please try again: https://status.heroku.com/incidents/549\n. I'm not 100% sure - for the fork use case of moving an app to the EU, this absolutely makes sense. But if I'm forking a production app for use for development or staging, I don't think it makes sense to get the entire list of collaborators - I just want a dev app for myself.\nWhat do you guys thing?\n. Great, thanks for keeping us posted.\n. For the paid add-ons problem, we should maybe consider prompting the user before any paid add-ons are added.\n. nice! :clap: \n. Hej Nicolai, this is likely related to the current platform issue, see: https://status.heroku.com/incidents/552\nYou can optionally report the problem here: https://help.heroku.com/\n. Have you tried pushing again? It might have been an intermittent error in the system that receives your code.\n. ping @catsby \n. @apsoto have you looked into using the Heroku Platform API directly? \n. Can you provide additional details and output from the command that fails?\n. Not enough detail, closing.\n. @r00k argh, not good - thanks for reporting this!\nWe added the destination app deletes because many users ended up with fork-remnants after failed forks.\n@pedro what do you think - is a src != dest check enough?\n. @pedro Or as suggested by @neilmiddleton - we should confirm before deleting the destination for the failed fork...\n. @dickeyxxx do you need any help here?\n. Sweet, thanks @ryanbrainard \n@dickeyxxx I don't know if you're cutting a new release any time soon, but it'd be awesome to get this out.\n. +1, the old entry is not related to what we're trying to do here.\n. I don't know what the old entry is related to, but I think it's an old attempt at introducing HTTP Git from more than two years ago (before I started at Heroku).\n. No, it's not related. It's from some other unrelated abandoned project that was not wrapped up cleanly.\nWhy do you care about the code.heroku.com entry in a file that nobody looks in? I don't think it's worth adding complexity to remove it.\n. Update this DC section if this PR is merged: https://devcenter.heroku.com/articles/http-git#reconfiguring-existing-app\n. New rule: If you suggest enhancements to this you either have to implement them yourself or wear a Dreamforce Campground shirt for a month.\n\n. (I think overriding is fine, btw - I was working on a PR that never prompted)\n. Awesome, +1\n. Not required at all, but consider taking the SSH key machinery out of the default setup/login flow.\n. Epic, thanks @dickeyxxx \n/cc @jonmountjoy \n. I think that optimally, we shouldn't point people at GitHub directly. How about http://git-scm.com/ ?\n. Great, thanks!\n. Maybe mark this flag HIDDEN like tier?\n. shouldn't those lines be re-ordered to check got .git first?\n. ",
    "trimble": "Reading through this one was a fun trip through the past...but it can probably be closed now...maybe?\n/cc @dickeyxxx . Did a87da812 remove the last bit of this maybe? Can this maybe be closed (again)?. This seems to be resolved. Can we close it?. Is this a duplicate of #731?\n(They both seem similar to #302, but the issue creation dates make me think that the resolution to #302 evidently didn't completely resolve #731 and this one.)\n//cc @katukun @geemus. I agree, Something like heroku fork --from ruby-getting-started --to my-geting-started would be a nice kick-start for beginners. Maybe it plugs into https://devcenter.heroku.com/articles/getting-started-with-ruby#prepare-the-app somewhere?\nHowever, right now that results in \u25b8    You do not have access to the app ruby-getting-started.. I just gave this a whirl and got output. @disconnectme, can you check and see if this has been resolved somewhere along the line?\nIf so, maybe we can convince @dickeyxxx to close it?. @ttunguz, I have reliably been able to run heroku run rake on a few apps recently. This issue looks to have been resolved. Are you still experiencing the problem? Can we close this issue?\n/cc @dickeyxxx @ransombriggs . @indyarocks, this looks like an old issue. Can we close it?\nI tried to recreate:\n$ heroku pg:ps\n pid  |        state        |      source       |   running_for   | waiting | query \n------+---------------------+-------------------+-----------------+---------+-------\n 5374 | idle in transaction | bin/fetch_data.rb | -00:00:00.00138 | f       | BEGIN\n(1 row)\nMy system info:\n```\nheroku-toolbelt/3.43.14 (x86_64-darwin15) ruby/2.3.0\nheroku-cli/5.5.3-787d7db (darwin-amd64) go1.7.3\n$ which psql\n/usr/local/bin/psql\n$ psql --version\npsql (PostgreSQL) 9.3.2\n$ system_profiler SPSoftwareDataType\nSoftware:\nSystem Software Overview:\n\n  System Version: macOS 10.12.1 (16B2555)\n  Kernel Version: Darwin 16.1.0\n\n```. This might be an interesting use case, but right now all the tests fail. Is this still worth pursuing? Or should this be closed?. Looking to clean things up in the archives...this issue seems to have been overcome by time and events. Can we close this one?. If this is cleared up now, maybe we can close this issue?\n/cc @dickeyxxx . This issue looks stale.\nI attempted to recreate with a couple of dummy apps:\n$ heroku fork --from test42532 --to newapptest42532\nForking test42532... done. Forked to newapptest42532\nSetting buildpacks... done\nAdding deployhooks:email to newapptest42532 as DEPLOYHOOKS... done\nCopying config vars:\n  LANG\n  RACK_ENV\n  ... done\nDeploying 0260a7a to newapptest42532... done\nFork complete. View it at https://newapptest42532.herokuapp.com/\nCan you tell us if it's still a problem?\nThanks!. I just tried this with success:\n$ heroku certs:info -a health2wealth\nFetching SSL certificate parasaurolophus-97421 info for \u2b22 health2wealth... done\nCertificate details:\nCommon Name(s): www.h2w.cc\n                h2w.cc\nExpires At:     2017-03-12 23:59 UTC\nIssuer:         /C=GB/ST=Greater Manchester/L=Salford/O=COMODO CA Limited/CN=COMODO RSA Domain Validation Secure Server CA\nStarts At:      2016-02-11 00:00 UTC\nSubject:        /OU=Domain Control Validated/OU=EssentialSSL/CN=www.h2w.cc\nSSL certificate is verified by a root authority.\nThis issue may be stale. It may also be the same issue that's reported in #1074. To help with investigation, can you retest or provide more information about reproducing?\nThanks!. This looks like it might be a duplicate of #1428.\n/cc @dickeyxxx @ransombriggs . Any new news on this one, or should it be closed for cleanup?. @ZeusIV, this issue may have become stale. Are you still experiencing this problem? Have you tried with the newest toolbelt release?\nThanks for any info you can provide. (And, if this problem has been resolved let's see about getting it closed.). @srameez, I am currently able to run both heroku login and heroku status without the internal error that you reported.\n```\n$ heroku login\nEnter your Heroku credentials.\nEmail:\n$ heroku status\nApps:      No known issues at this time.\nData:      No known issues at this time.\nTools:     No known issues at this time.\n```\nHave you tried the suggestion @dickeyxxx made above? Are you now able to run the commands without error? Is this a stale issue that we can now close?. This looks like an issue that turned out to be a networking issue. @ghost, can we close it?. db:push and db:pull are deprecated...which leads to issues with heroku-taps.\nSee the comments here for a decent explanation and some workarounds: https://github.com/ricardochimal/taps/issues/92#issuecomment-11996909\nLet us know if that helps or if you've found another solution. If this issue has been overcome by time and events, can we close it?. I just tried:\n$ heroku login\nEnter your Heroku credentials.\nEmail: [redacted]\nPassword (typing will be hidden): \nLogged in as [redacted]\nSystem info:\n```\nheroku-toolbelt/3.43.2 (x86_64-darwin15) ruby/2.3.0\nheroku-cli/5.5.3-787d7db (darwin-amd64) go1.7.3\nSystem Software Overview:\n  System Version: macOS 10.12.1 (16B2555)\n  Kernel Version: Darwin 16.1.0\n\n```\n@kalyandechiraju, did you sort this out? Can we close this issue?. Does nslookup api.heroku.com help us sort this out? (I'm leaning toward a problem outside of the toolbelt.)\nMine reliably gives:\nNon-authoritative answer:\napi.heroku.com  canonical name = elb082153-1559744486.us-east-1.elb.amazonaws.com.\nName:   elb082153-1559744486.us-east-1.elb.amazonaws.com\nAddress: 54.225.188.133\nName:   elb082153-1559744486.us-east-1.elb.amazonaws.com\nAddress: 23.21.149.112\nName:   elb082153-1559744486.us-east-1.elb.amazonaws.com\nAddress: 54.243.105.250\nIf your system can't reach api.heroku.com, login won't work. As for the change in error message, I'll look and see if that's explained somewhere.. ",
    "niedfelj": "Same error here:\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       undefined methoddisplay_name' for nil:NilClass (NoMethodError)\nBacktrace:   /Users/joel/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.32.4/lib/heroku/command/pgbackups.rb:76:in capture'\n             /Users/joel/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.32.4/lib/heroku/command.rb:206:inrun'\n             /Users/joel/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.32.4/lib/heroku/cli.rb:28:in start'\n             /Users/joel/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.32.4/bin/heroku:16:in'\n             /Users/joel/.rvm/gems/ruby-1.9.3-p194/bin/heroku:19:in load'\n             /Users/joel/.rvm/gems/ruby-1.9.3-p194/bin/heroku:19:in'\n             /Users/joel/.rvm/gems/ruby-1.9.3-p194/bin/ruby_noexec_wrapper:14:in eval'\n             /Users/joel/.rvm/gems/ruby-1.9.3-p194/bin/ruby_noexec_wrapper:14:in'\nCommand:     heroku pgbackups:capture --expire --app vfiles-staging\nVersion:     heroku-gem/2.32.4 (x86_64-darwin11.4.0) ruby/1.9.3 autoupdate\n```\n. I understand that, just letting you know that it has broken all of our build scripts across environments and I've had to revert to heroku gem 2.31.3, which seems to be that last version that works.\nOn Sep 26, 2012, at 4:02 PM, James Robinson notifications@github.com wrote:\n\nA temporary solution is to add the database name at the end of the call. For example: heroku pgbackups:capture SHARED_DATABASE\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "alfredo": "Same error here. Reported on #586 which is a duplicate.\nEdit: I can't close the duplicate report.\n. ",
    "robinjam": "A temporary solution that worked for me is to add the database name at the end of the call. For example: heroku pgbackups:capture SHARED_DATABASE\n. @niedfelj: I don't work for Heroku; I was just sharing a workaround that I found when I ran into this issue.\n. ",
    "adamrobbie": "Same.\n. ",
    "cczona": "$ heroku update\nUpdating from 2.31.2... Excon nonblock is not supported by your OpenSSL::SSL::SSLSocket\nExcon nonblock is not supported by your OpenSSL::SSL::SSLSocket\ndone, updated to 2.32.4\n. So then the message was coming from 2.31.2, not 2.32.4?  The message is ambiguous as to which is giving notice.\n. ",
    "mence": "I'm also seeing this on a new install (came across it on a Mountain Lion install).\nThe Dev Center changelog notes that a slightly newer version (2.31.5) has been released with no real updates, but when you actually go and look at the changelog on master there's a release note saying that 2.32.0 will have autoupdate on by default. I'm guessing that update was deprecated before autoupdate was actually configured on? \n. ",
    "trulsjor": "how do I update in the meantime?\n. ",
    "scotttam": "Heh, I ran into the same issue this morning Daniel. :-)\n. ",
    "milesmatthias": "I'm also getting this error, on a MBP 10.8.2.\n. ",
    "dxbot": "Hey guys,\nPlease reinstall the toolbelt from https://toolbelt.heroku.com and the\nproblem should be fixed.\nThanks,\nDavid\nOn Sat, Sep 22, 2012 at 12:10 PM, Tom Brandt notifications@github.comwrote:\n\nOn my MacBook Air running 10.8.1, I got the following error running heroku\nupdate:\ntwelve_week_year> heroku update\n! Heroku client internal error.\n! Search for help at: https://help.heroku.com\n! Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method check_disabled!' for Heroku::Updater:Module (NoMethodError)\nBacktrace:   /Users/tom/.heroku/client/lib/heroku/command/update.rb:37:inupdate_from_url'\n             /Users/tom/.heroku/client/lib/heroku/command/update.rb:19:in index'\n             /Users/tom/.heroku/client/lib/heroku/command.rb:176:insend'\n             /Users/tom/.heroku/client/lib/heroku/command.rb:176:in run'\n             /Users/tom/.heroku/client/lib/heroku/cli.rb:14:instart'\n             /usr/bin/heroku:28\nCommand:     heroku update\nVersion:     heroku-gem/2.28.0 (universal-darwin12.0) ruby/1.8.7\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/580.\n. \n",
    "jvc26": "New version of heroku gem still has this issue\n```\nRunning python manage.py syncdb attached to terminal... up, run.1\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       Connection timed out - connect(2) (Errno::ETIMEDOUT)\nBacktrace:   /var/lib/gems/1.8/gems/heroku-2.31.5/lib/heroku/client/rendezvou\n\ns.rb:36:in initialize'\n                 /var/lib/gems/1.8/gems/heroku-2.31.5/lib/heroku/client/rendezvou\ns.rb:36:inopen'\n                 /var/lib/gems/1.8/gems/heroku-2.31.5/lib/heroku/client/rendezvou\ns.rb:36:in start'\n                 /usr/lib/ruby/1.8/timeout.rb:67:intimeout'\n                 /var/lib/gems/1.8/gems/heroku-2.31.5/lib/heroku/client/rendezvou\ns.rb:30:in start'\n                 /var/lib/gems/1.8/gems/heroku-2.31.5/lib/heroku/command/run.rb:1\n25:inrendezvous_session'\n                 /var/lib/gems/1.8/gems/heroku-2.31.5/lib/heroku/command/run.rb:1\n12:in run_attached'\n                 /var/lib/gems/1.8/gems/heroku-2.31.5/lib/heroku/command/run.rb:2\n1:inindex'\n                 /var/lib/gems/1.8/gems/heroku-2.31.5/lib/heroku/command.rb:206:i\nn send'\n                 /var/lib/gems/1.8/gems/heroku-2.31.5/lib/heroku/command.rb:206:i\nnrun'\n                 /var/lib/gems/1.8/gems/heroku-2.31.5/lib/heroku/cli.rb:28:in st\nart'\n                 /var/lib/gems/1.8/gems/heroku-2.31.5/bin/heroku:16\n                 /usr/local/bin/heroku:19:inload'\n                 /usr/local/bin/heroku:19\nCommand:     heroku run python manage.py syncdb\nVersion:     heroku-toolbelt/2.31.5 (x86_64-linux) ruby/1.8.7\n\n```\n. This issue is now resolved.\n. ",
    "ngillani": "What was the resolution?  Facing this issue now ... some help would be much appreciated.  Thanks!\n. ",
    "aquasan": "How do i get rid of below error during django syncdb ?\n    Error:       getaddrinfo: Name or service not known (SocketError)\n    Backtrace:   /usr/local/heroku/lib/heroku/client/rendezvous.rb:39:in initialize'\n                 /usr/local/heroku/lib/heroku/client/rendezvous.rb:39:inopen'\n                 /usr/local/heroku/lib/heroku/client/rendezvous.rb:39:in block in start'\n                 /usr/lib/ruby/1.9.1/timeout.rb:68:intimeout'\n                 /usr/local/heroku/lib/heroku/client/rendezvous.rb:31:in start'\n                 /usr/local/heroku/lib/heroku/command/run.rb:113:inrendezvous_session'\n                 /usr/local/heroku/lib/heroku/command/run.rb:100:in run_attached'\n                 /usr/local/heroku/lib/heroku/command/run.rb:21:inindex'\n                 /usr/local/heroku/lib/heroku/command.rb:206:in run'\n                 /usr/local/heroku/lib/heroku/cli.rb:28:instart'\n                 /usr/local/heroku/bin/heroku:25:in `'\n. ",
    "mdkarp": "+1 \nI was using ruby-1.9.3-p194....but switching (via RVM) to ruby-1.9.2-p318 temporarily \"solved\" this issue for me.  The only reason I knew to do this was a suggestion for doing so when originally having issues with taps.\n. You just need to run this process BEFORE promoting your new database, so that database_url points to your shared database.\n. ",
    "sdrew": "The pgbackups command no longer works by default with the SHARED_DATABASE_URL configuration option. It only works with the new Heroku Postgres addon by looking at your DATABASE_URL.\nIf you need to backup your shared database for the migration to Heroku Postgres, just declare it explicitly:\nheroku pgbackups:capture SHARED_DATABASE\n. ",
    "joneslee85": "@sdrew I have tried your suggestion but did not work for me:\n$ heroku pgbackups:capture SHARED_DATABASE\n !    Unknown database: SHARED_DATABASE. Valid options are: DATABASE_URL, HEROKU_POSTGRESQL_PURPLE_URL\n !    A new version of the Heroku toolbelt is available, run `heroku update` to upgrade.\nI ended up have to use the db:pull and db:push.\n. @sdrew I documented it here https://gist.github.com/3768735\n. @ddollar \n```\n    Version:     heroku-gem/2.31.5 (x86_64-darwin12.0.0) ruby/1.9.3\n``\n. @mdkarp I understand that should be the way logically. I started with no Heroku Posgres addon at all, and heroku config shows the DATABASE_URL pointed to my SHARED_DATABASE, but it did not work for me.\n. @ddollar ooh yeah! I love you!heroku-gem/2.32.4 (x86_64-darwin12.0.0) ruby/1.9.3 autoupdatefixed this. Now I could backup usingheroku pgbackups:capture SHARED_DATABASE`\n. @ddollar do you accept pull-request to update the https://devcenter.heroku.com/articles/migrating-from-shared-database-to-heroku-postgres guide? I think it'd better if we mention about backing up SHARED_DATABASE explicitly or set the DATABASE_URL to SHARED_DATABASE for this process.\n. ",
    "bcackerman": "I'm still getting the same error, any fix?\n. ",
    "fheisler": "Had the same issue due to some conflict with the heroku-pg-extras plugin. Running capture worked fine again after I ran:\nheroku plugins:uninstall git://github.com/heroku/heroku-pg-extras.git\n. ",
    "plindelauf": "Oh yes, @fheisler ! You are my savior! Thanks for that tip. Worked for me! \n. ",
    "Yenwod": "Solution from @fheisler worked for me, too -- thanks!!\n. ",
    "hueezer": "hip hip hooray @fheisler !\n. ",
    "noviceprogram": "I have the newest version of everything and I still can't upload my database. \nheroku pg:backups restore \"URL\" DATABASE -a myapp \nError says \"did not find magic strings in the file header\"\n. ",
    "luckydev": "This solved everything.\nbash\nAnands-MBA:~ anand$ mkdir .heroku\n. ",
    "duffytilleman": "+1 on this.  https://github.com/heroku/heroku/issues/256 and https://github.com/heroku/heroku/pull/811 only addressed piping stdin.  Heroku run is still writing to stdout, which is frustratingly bad practice.  See for instance http://www.gnu.org/software/libc/manual/html_node/Standard-Streams.html or http://en.wikipedia.org/wiki/Standard_streams\n. ",
    "antm": "found the workaround in another issue. \n. ",
    "mattlenz": "Alright. My fault. I asked for user_env_compile instead of user-env-compile. Apologies!\n. @ddollar You're quick. I was hacking away at my very first pull request to fix :) Thanks David.\n. ",
    "subhash": "I face the same issue. The error is intermittent\n. ",
    "kmanicka": "me too, i am stuck with this issue\n. ",
    "D1plo1d": "same issue here. I am trying to run heroku run bundle exec rails c and getting the same error and same rendezvous.rb:36 backtrace. It's intermittent for me as well.\n. ",
    "dbrgn": "When uninstalling and reinstalling the heroku gem, it prints\n!    The `heroku` gem has been deprecated and replaced with the Heroku Toolbelt.\n!    Download and install from: https://toolbelt.heroku.com\n!    For API access, see: https://github.com/heroku/heroku.rb\nMaybe that would fix the issue. https://toolbelt.heroku.com/standalone\nI couldn't get it working :/\n. Duplicate of #407. Is port 5000 blocked at your place?\n. ",
    "angelasheu": "``\n Backtrace:   /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/socket.rb:41:inconnect'\n                 /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/socket.rb:41:in connect'\n                 /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/timeout.rb:67:intimeout'\n                 /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/socket.rb:40:in connect'\n                 /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/socket.rb:29:ineach'\n                 /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/socket.rb:29:in connect'\n                 /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/ssl_socket.rb:77:inconnect'\n                 /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/socket.rb:16:in initialize'\n                 /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/ssl_socket.rb:8:ininitialize'\n                 /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/connection.rb:357:in new'\n                 /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/connection.rb:357:insocket'\n                 /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/connection.rb:188:in request_kernel'\n                 /usr/local/heroku/vendor/gems/excon-0.16.2/lib/excon/connection.rb:101:inrequest'\n                 /usr/local/heroku/vendor/gems/heroku-api-0.3.5/lib/heroku/api.rb:62:in request'\n                 /usr/local/heroku/vendor/gems/heroku-api-0.3.5/lib/heroku/api/login.rb:9:inpost_login'\n                 /usr/local/heroku/lib/heroku/auth.rb:80:in api_key'\n                 /usr/local/heroku/lib/heroku/auth.rb:189:inask_for_credentials'\n                 /usr/local/heroku/lib/heroku/auth.rb:221:in ask_for_and_save_credentials'\n                 /usr/local/heroku/lib/heroku/auth.rb:84:inget_credentials'\n                 /usr/local/heroku/lib/heroku/auth.rb:41:in login'\n                 /usr/local/heroku/lib/heroku/command/auth.rb:31:inlogin'\n                 /usr/local/heroku/lib/heroku/command.rb:206:in send'\n                 /usr/local/heroku/lib/heroku/command.rb:206:inrun'\n                 /usr/local/heroku/lib/heroku/cli.rb:28:in `start'\n                 /usr/bin/heroku:25\nCommand:     heroku login\nVersion:     heroku-toolbelt/2.32.6 (universal-darwin12.0) ruby/1.8.7 autoupdate\n\n```\n. ",
    "framomo86": "I solved.\nThe problem was due to the ISP FastWeb, which is an ISP here in Italy. Based on my Googling, it appears that they block port 5000. I solved running\nheroku run:detached rake db:migrate\n. ",
    "CanCeylan": "@framomo86 I'm an exchange student in italy, so that was the first time having this error, and made my crazy. Thank you very much for your answer ! It worked now.\nGrazie mille :100: \n. ",
    "cfc1020": "https://github.com/heroku/heroku/issues/814\n. Help please.\n. ",
    "emptyflask": "+1\nI (and many others) use Homebrew or some other package manager to provide Git, and of course Foreman is already available as a gem. I don't want an installer that forces me to use its own versions of these apps.\nI suggest offering an installer to those who want to use it, but don't deprecate the heroku gem. I'm perfectly capable of installing dependencies.\n. Well, someone created a formula for Homebrew, https://github.com/ntalbott/homebrew/commit/15b356acc74650211b41ace82ef88848570dafa4 so that helps, at least for OSX users.\n. ",
    "kjohnston": ":+1:\nI understand that the polyglot accommodations combined with increased usage across platforms create the case for this move, but the Ruby community has an excellent tool belt of its own that handles these dependencies well.\nWhat will become of the heroku client gem?  I see that it is included as a submodule of the toolbelt now, but what are the plans for it going forward?  Like the toolbelt, I have a project, pgbackups-archive, that relies on the client gem to function.  The API gem does not provide the same functionality as the client, which is likely the problem in the first place, but it is not an option for the toolbelt or any other projects that depend on the client now.\n. An install script with a Homebrew formula is nice alternative to a GUI installer and all, but this should really continue to live as a gem in my opinion.  It's well managed in this manner and keeping an entire team's version in check per project is already managed via the project's Gemfile.  Reverting to manual installs and alternate package managers seems like a pretty significant step backward.\n@ddollar, can you describe what the plan is for the functionality that this gem currently provides?  For example where will the functionality in Heroku::Client::Pgbackups end up living?  For those of us maintaining projects that rely on the CLI gem, we have to start thinking about how to access functionality not provided by the API gem or documented in the API documentation.\n. @dickeyxxx, is/could there be any way of talking directly to services the Toolbelt wraps, namely the new Heroku PGBackups service?  This would allow gems like pgbackups-archive to stop piggybacking onto the heroku gem or shelling out to the Toolbelt like heroku-database-backups does.\n. @dickeyxxx, thanks for looking into the CLI/PGBackups access.\nI know that you guys would love to deprecate this old gem and would rather invest the effort into the new CLI and Platform API gems.  The Platform API is really what those of us maintaining gems around areas like this crave, however I check in on it every now and then and it seems development has stalled and the documentation doesn't mention PGBackups.\nIf you hear anything further, please let me know.  @uhoh-itsmaciek, if you can share anything, please do, or let me know the proper channel.\n. @uhoh-itsmaciek, thank you for confirming.  @neovintage, how might one be able to access the PGBackups API without using this deprecated gem?\nI don't mean to hijack the thread here, it's just that these are the types of reasons that this gem needs to have ongoing maintenance discussed here.\n. @neovintage, thank you for identifying these areas.\n. @zillou, thanks for opening this issue.  I ran into this the other day, but figured we'd be hung in this position for a while since upgrading rubyzip will break 1.8.7 support, but @dickeyxxx is looking into that right now.\nhttps://github.com/heroku/heroku/pull/1470\nhttps://github.com/heroku/heroku/pull/1479\n. @wuputah, pgbackups-archive was changed over to the new service as of v1.0.0.\nRegarding shelling out to the CLI, it's possible if we need to go there, but it's not the favorable approach, not that there is a favorable one - the API isn't directly accessible or documented and the Platform API gem won't support it anytime soon, although that would seem like the place we'd piggyback on after the old heroku gem is gone.\n. @wuputah, see https://github.com/heroku/heroku/pull/1470 for more discussion on the above.\n. ",
    "bousquet": "At New Leaders, we also have a standard configuration for both git and foreman among our developers. We would like to see the heroku cli as a standalone component.  We're also using pgbackups-archive tool from @kjohnston.\n. ",
    "Cloven": "+1\nIf the toolbelt install could be trusted not to screw with my existing foreman and git installs, then I might install it that way.  As it is, with no documentation that it doesn't, there's no way I'm installing it.\n. ",
    "econnally": "just throwing in my $0.02. i'd also like to use pgbackups-archive by @kjohnston (or roll my own similar solution), but the deprecated functionality in the heroku gem is making life hard.\n. ",
    "edelgado": "Thank you @ddollar for the standalone option :-] I also use Homebrew, so this is better than the regular Toolkit with more stuff than I need :-]\n. ",
    "strika": "Hi,\nI think I didn't have this problem anymore. I'm not working on the particular project for some time. If I remember correctly, the command output had this stack trace, but also: \"File a bug for Heroku client at some_github_url.\" That's why I filed a bug.\n. ",
    "waclock": "Hello, thanks for the fast response!\nHere's the output of the command:\n-rw------- 1 root root 207 Oct 22 16:44 /home/waclock/.netrc\n. That worked! Thanks!\nJust wondering, what did that do?\n. ",
    "mogmi": "Same issue here, I guess I'll put back the Heroku gem in the Gemfile for now - is there any other way?\n. ",
    "alikhajeh1": "Tried that, no luck.\n$ which heroku\n/usr/local/heroku/bin/heroku\nThe Heroku installer has, correctly, updated the path as well:\nAdded by the Heroku Toolbelt\nexport PATH=\"/usr/local/heroku/bin:$PATH\"\n. Good point, 'which heroku' was pointing to an old gem stub, I deleted that and there's still an issue:\n$ heroku --version\nheroku-toolbelt/2.33.0 (x86_64-darwin10.8.0) ruby/1.9.3\n$ bundle exec irb\n1.9.2p290 :001 > which heroku\n => \"/usr/local/heroku/bin/heroku\\n\" \n1.9.2p290 :002 > heroku --version\n/Users/ali/.rvm/gems/ruby-1.9.2-p290@toolkit/gems/bundler-1.2.1/lib/bundler/spec_set.rb:90:in `block in materialize': Could not find libv8-3.3.10.4 in any of the sources (Bundler::GemNotFound)\n. ",
    "pauljamesrussell": "I'm having the same issue having done the same thing. Not much to add other than the fact that I've checked that the path is still preserved inside bundle exec. I guess bundler is somehow overriding the lib load path :/\n. ",
    "blakewatters": "This is a huge pain in the ass if you have Rake tasks automating Heroku CLI workflows. This does not appear to be related to a lingering binstub. Instead, it looks like the Ruby environment required by the toolbelt is in conflict with what Bundler sets up.\nExecuting the toolbelt CLI works fine for me, but an attempt to execute it from within a subshell in the app throws dependency errors that I cannot resolve:\n1.9.2p318 :001 > `which heroku`\n => \"/usr/local/heroku/bin/heroku\\n\" \n1.9.2p318 :002 > `heroku --version`\n/Users/blake/.rvm/gems/ruby-1.9.2-p318@gateguru/gems/bundler-1.2.1/lib/bundler/spec_set.rb:90:in `block in materialize': Could not find libv8-3.3.10.4 in any of the sources (Bundler::GemNotFound)\n    from /Users/blake/.rvm/gems/ruby-1.9.2-p318@gateguru/gems/bundler-1.2.1/lib/bundler/spec_set.rb:83:in `map!'\n    from /Users/blake/.rvm/gems/ruby-1.9.2-p318@gateguru/gems/bundler-1.2.1/lib/bundler/spec_set.rb:83:in `materialize'\n    from /Users/blake/.rvm/gems/ruby-1.9.2-p318@gateguru/gems/bundler-1.2.1/lib/bundler/definition.rb:113:in `specs'\n    from /Users/blake/.rvm/gems/ruby-1.9.2-p318@gateguru/gems/bundler-1.2.1/lib/bundler/definition.rb:158:in `specs_for'\n    from /Users/blake/.rvm/gems/ruby-1.9.2-p318@gateguru/gems/bundler-1.2.1/lib/bundler/definition.rb:147:in `requested_specs'\n    from /Users/blake/.rvm/gems/ruby-1.9.2-p318@gateguru/gems/bundler-1.2.1/lib/bundler/environment.rb:23:in `requested_specs'\n    from /Users/blake/.rvm/gems/ruby-1.9.2-p318@gateguru/gems/bundler-1.2.1/lib/bundler/runtime.rb:11:in `setup'\n    from /Users/blake/.rvm/gems/ruby-1.9.2-p318@gateguru/gems/bundler-1.2.1/lib/bundler.rb:116:in `setup'\n    from /Users/blake/.rvm/gems/ruby-1.9.2-p318@gateguru/gems/bundler-1.2.1/lib/bundler/setup.rb:17:in `<top (required)>'\n    from /usr/local/heroku/ruby/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'\n    from /usr/local/heroku/ruby/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'\n => \"\" \n1.9.2p318 :003 > ^D\nIt looks like the environment changes introduced by rvm is blocking out the toolbelt's ability to initialize. Any ideas beside ripping out all of the dependencies on the CLI in my scripts and porting everything to heroku-api?\n. Okay I have figured this out, if you are running on OS X + RVM with Bundler and the Toolbelt, your attempts to execute the Toolbelt from within a Rake task are going to fail because RVM has manipulated your Ruby environment in ways incompatible with the Toolbelt's expectations.\nTo work around this, I inspected the environment by executing bundle exec irb within my project and then running system(\"env | mate\") to pop open a dump the current environment within TextMate. I dug through the environment variables and found that if you blank out the following environment variables when shelling out to the Toolbelt, all will begin working again:\n- GEM_HOME\n- BUNDLE_GEMFILE\n- GEM_PATH\n- RUBY_OPT\nA simple wrapper method for executing the toolbelt in a clean environment looks something like:\n``` ruby\nExecutes a command in the Heroku Toolbelt\ndef heroku(command)\n  system(\"GEM_HOME='' BUNDLE_GEMFILE='' GEM_PATH='' RUBYOPT='' /usr/local/heroku/bin/heroku #{command}\")\nend\n```\nHope this helps!\n. ",
    "jordanandree": "Recently had the same problem while writing a Rake task with Heroku CLI integration.\nThe solution @blakewatters posted has worked for me.\n. ",
    "nbuggia": "@Wuputah - I looked through the Heroku API documentation and I didn't see a method for 'heroku run', as in \n$ heroku run rake db:migrate\nHow would you do this via the API?\nthanks!\nnate\n. Thanks geemus!\n. ",
    "trevor": "for google results re: \"is not part of the bundle. Add it to Gemfile.\"\n\nShelling out\nAny Ruby code that opens a subshell (like system, backticks, or %x{}) will automatically use the current Bundler\nenvironment. If you need to shell out to a Ruby command that is not part of your current bundle, use the\nwith_clean_env method with a block. Any subshells created inside the block will be given the environment present\nbefore Bundler was activated. For example, Homebrew commands run Ruby, but don't work inside a bundle:\nBundler.with_clean_env do\n  `brew install wget`\nend\n\n-- http://bundler.io/v1.3/man/bundle-exec.1.html\n. ",
    "Workman": "@trevor's answer was especially helpful for my implementation. Thanks!\n. ",
    "vfilesgroup": "Added the requested test coverage in https://github.com/heroku/heroku/pull/668.\n. Thanks for the quick pull!\n. ",
    "jeffg2k": "I don't usually leave it sitting, so it's not something I see often.. I run the logs, watch it for a few minutes, and then disconnect.  I just fired it up though and let it sit for an hour and got the same error.\nI was running heroku 2.33.1 on OS X 10.8.2.  I'm updating to 2.33.3 and going to run it again and see.. will report back.\n``\nError:       Connection reset by peer (Errno::ECONNRESET)\nBacktrace:   /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/net/protocol.rb:135:insysread'\n             /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/net/protocol.rb:135:in rbuf_fill'\n             /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/timeout.rb:67:intimeout'\n             /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/timeout.rb:101:in timeout'\n             /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/net/protocol.rb:134:inrbuf_fill'\n             /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/net/protocol.rb:104:in read_all'\n             /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/net/http.rb:2228:inread_body_0'\n             /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/net/http.rb:2181:in read_body'\n             /Users/Jeff/.heroku/client/lib/heroku/client.rb:524:inread_logs'\n             /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/net/http.rb:1054:in __request__'\n             /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/net/http.rb:2144:inreading_body'\n             /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/net/http.rb:1053:in __request__'\n             /Users/Jeff/.heroku/client/vendor/gems/rest-client-1.6.7/lib/restclient/net_http_ext.rb:51:inrequest'\n             /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/net/http.rb:948:in request_get'\n             /Users/Jeff/.heroku/client/lib/heroku/client.rb:523:inread_logs'\n             /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/net/http.rb:543:in start'\n             /Users/Jeff/.heroku/client/lib/heroku/client.rb:522:inread_logs'\n             /Users/Jeff/.heroku/client/lib/heroku/command/logs.rb:35:in index'\n             /Users/Jeff/.heroku/client/lib/heroku/command.rb:206:insend'\n             /Users/Jeff/.heroku/client/lib/heroku/command.rb:206:in run'\n             /Users/Jeff/.heroku/client/lib/heroku/cli.rb:28:instart'\n             /usr/bin/heroku:28\nCommand:     heroku logs --tail\nVersion:     heroku-gem/2.33.1 (universal-darwin12.0) ruby/1.8.7\n```\n. Ah, understandable.  If that's the case, perhaps you can send a signal to the client so that it gracefully terminates with a user friendly message.\n. ",
    "archaelus": "Yup - that's a pretty terrible error message.\nThis is a consequence of our load balancers in front of Logplex instances - they sever the connection after an hour. We should change the client ideally to reconnect, but fixing the return message too is good.\n. ",
    "petersonfs": "Hey @wuputah it works for me now! Thx for support!\n. ",
    "debreczeni": "Awesome,\nThanks for the quick fix, I re-ran those tests and they are no longer flaky.\nBrilliant!\nWe're switching to heroku-api anyway but thought would mention this somewhere should anyone else run into the same issue.\nCheers\n. ",
    "actionben": "We know what's being confirmed - the correct part of the message states it clearly: \"Data in the database 'local-db-name' will be overwritten and will not be recoverable.\"\nThe problem is that the text below it says \"This command will affect the app: myapp-production\" - and that simply isn't true.\n. ",
    "trappist": "+1, this is confusing because it makes false statements:\n\nThis command will affect the app: myapp\n\nIt's not true, I've just stood up an instance of somebody else's app, I need to import the db, and I'm googling my butt off to make sure I'm not about to break somebody's remote database because the output from the command says I am.\n. ",
    "jdalton": "\\cc @lefnire @kitcambridge\n. Resolved by https://github.com/bestiejs/lodash/issues/113#issuecomment-10480466:\n\nI found this same issue while trying to install twitter/bower on a heroku app, and adding run_npm \"install -g npm\" seems to have fixed it.\nI'm using a buildpack based off of heroku/heroku-buildpack-nodejs.\nExcerpt from my bin/compile:\n``` bash\ninstall dependencies with npm\necho \"-----> Installing dependencies with npm\"\nrun_npm \"install -g npm\" # Added this line\nrun_npm \"install --production\"\nrun_npm \"rebuild\"\necho \"Dependencies installed\" | indent\n```\nMy package.json:\njs\n{\n    \"name\": \"test\",\n    \"version\": \"1.0.0\",\n    \"dependencies\": {\n        \"lodash\": \"*\"\n    },\n    \"engines\": {\n        \"node\": \"0.8.14\",\n        \"npm\": \"1.1.65\"\n    }\n}\nHopefully this helps!\n. \n",
    "pavanmishra": "Thanks, rechecking the certificates. The error message given by client is not helpful. \n. Got it. They were wrong certificates. @ddollar thanks anyways.\n. ",
    "isopov": "I had exactly the same error without proxy configured for heroku. I think I should note that documentation on this topic is really lacking - I googled for 20 minutes without any results. On the only page of official documentation where proxy is mentioned there are not any examples or the format in which proxy url should be specified: https://devcenter.heroku.com/articles/using-the-cli \nOnly after I tried to guess that standard Ruby proxy configuration is used and googled for \"Ruby HTTP_PROXY\" I have found the solution. Do you really intend Heroku to be user-friendly for non-Ruby programmers?\nI think I can paste my trace here, since the error message is exactly the same:\n```\nC:\\java\\workspace> heroku login\nEnter your Heroku credentials.\nEmail: moradan228@gmail.com\nPassword (typing will be hidden):\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       No connection could be made because the target machine actively refused it. - connect(2) (Errno::ECONNREFUSED) (Excon::Errors::SocketError)\nBacktrace:   C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.10/lib/excon/socket.rb:41:in connect'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.10/lib/excon/socket.rb:41:inblock (2 levels) in connect'\n             C:/Program Files (x86)/ruby-1.9.2/lib/ruby/1.9.1/timeout.rb:58:in timeout'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.10/lib/excon/socket.rb:40:inblock in connect'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.10/lib/excon/socket.rb:29:in each'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.10/lib/excon/socket.rb:29:inconnect'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.10/lib/excon/ssl_socket.rb:77:in connect'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.10/lib/excon/socket.rb:16:ininitialize'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.10/lib/excon/ssl_socket.rb:8:in initialize'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.10/lib/excon/connection.rb:364:innew'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.10/lib/excon/connection.rb:364:in socket'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.10/lib/excon/connection.rb:192:inrequest_kernel'\n             C:/Program Files (x86)/Heroku/vendor/gems/excon-0.16.10/lib/excon/connection.rb:103:in request'\n             C:/Program Files (x86)/Heroku/vendor/gems/heroku-api-0.3.7/lib/heroku/api.rb:74:inrequest'\n             C:/Program Files (x86)/Heroku/vendor/gems/heroku-api-0.3.7/lib/heroku/api/login.rb:9:in post_login'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:80:inapi_key'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:189:in ask_for_credentials'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:221:inask_for_and_save_credentials'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:84:in get_credentials'\n             C:/Program Files (x86)/Heroku/lib/heroku/auth.rb:41:inlogin'\n             C:/Program Files (x86)/Heroku/lib/heroku/command/auth.rb:31:inlogin'\n             C:/Program Files (x86)/Heroku/lib/heroku/command.rb:206:inrun'\n             C:/Program Files (x86)/Heroku/lib/heroku/cli.rb:28:in start'\n             C:/Program Files (x86)/Heroku/bin/heroku:24:in'\nCommand:     heroku login\nVersion:     heroku/toolbelt/2.33.3 (i386-mingw32) ruby/1.9.2\n```\nOnce again, setting the HTTP_PROXY environment variable solved this problem. It should be specified in the format:\nHTTP_PROXY=http://[proxy domain]:[username]@[password]:[port]\nor if the proxy is anonymous:\nHTTP_PROXY=http://[proxy domain]:[port]\n. C:\\java\\workspace\\haf [master]> heroku logs\n!    Unable to connect to api.heroku.com\nC:\\java\\workspace\\haf [master]> heroku version\nheroku/toolbelt/2.33.5 (i386-mingw32) ruby/1.9.2\nC:\\java\\workspace\\haf [master]> heroku update\nUpdating from 2.33.5... done, nothing to update\nC:\\java\\workspace\\haf [master]> heroku plugins\nYou have no installed plugins.\n. After the update of heroku (by the way update was a bit strange - I have version 2.33.5 reported by heroku version and update logged bumping from 2.33.3 to 2.34.0. Still the error message is the same. I'm still behind the anonymous corporate proxy and still not able to see logs from working machine.\n```\nC:\\java\\workspace\\spring-mvc-chat>heroku version\nheroku/toolbelt/2.33.5 (i386-mingw32) ruby/1.9.2\nC:\\java\\workspace\\spring-mvc-chat>heroku update\nUpdating from 2.33.3... done, updated to 2.34.0\nC:\\java\\workspace\\spring-mvc-chat>heroku version\nheroku/toolbelt/2.34.0 (i386-mingw32) ruby/1.9.2\nC:\\java\\workspace\\spring-mvc-chat>git remote -v\nheroku  git@heroku.com:vast-bastion-8400.git (fetch)\nheroku  git@heroku.com:vast-bastion-8400.git (push)\norigin  git@github.com:isopov/spring-mvc-chat.git (fetch)\norigin  git@github.com:isopov/spring-mvc-chat.git (push)\nC:\\java\\workspace\\spring-mvc-chat>heroku login\nEnter your Heroku credentials.\nEmail: moradan228_at_gmail.com\nPassword (typing will be hidden):\nAuthentication successful.\nC:\\java\\workspace\\spring-mvc-chat>heroku logs\n !    Unable to connect to api.heroku.com\n```\n. ",
    "davidluckystar": "thanks for solution!\n. ",
    "mapesa": "thanks\n. ",
    "gsanjeevkumar": "this is not working for me\nI am using Mac ruby/1.9.3\n. Error:       Connection refused - connect(2) (Errno::ECONNREFUSED) (Excon::Errors::SocketError)\nCommand:     heroku login\nVersion:     heroku-toolbelt/3.42.20 (x86_64-darwin10.8.0) ruby/1.9.3\nLet me know if any you guys have a solution\n. @ransombriggs I can login to the URL you sent. what are the settings for the network are necessary/required i am behind a fire-wall.\nThanks in advance.\n. ",
    "hiroshi": "Sorry, I did forget that pg:transfer is a plugin and updating the plugin resolve this issue:\nheroku plugins:update heroku-pg-transfer\n. ",
    "imurakenichi": "Try setting not only HTTP_PROXY but HTTPS_PROXY environment variable.\n. ",
    "boly38": "thanks imurakenichi ;\n  i got exactly the same issue behind proxy \n  with http_proxy set (only) i got the error\n  setting https_proxy too fix that for me.\n. windows\nset http_proxy=http://myproxy:8080\nset https_proxy=http://myproxy:8080\nnux\nexport http_proxy=http://myproxy:8080\nexport https_proxy=http://myproxy:8080\n. ",
    "atuldubey007": "I am facing the same issue. How to set these PROXY variables?\n. Still getting the following error...\n!        Unable to connect to Heroku API, please check internet connectivity and try again.\nplease help\n. ",
    "GoncaloPT": "As mentioned before, this workaround doesn't work with useful commands like heroku run bash :( \n. ",
    "ellisonbg": "I am seeing this right now as well.\n. ",
    "Swolie": "+1\n. ",
    "webmagnets": "It is working now. They must have fixed it.\n. ",
    "LatitudeAdjustment": "I had a similar problem with the Heroku Toolbelt CLI 3.2.0/3.2.2 \"heroku login\" command.  It failed with \"Permission denied\" and a stack trace like the one above.  It created the file C:\\Users\\username.heroku\\autoupdate.log which contained the error and stack trace.\nThe solution was to disable Norton 360 Smart Firewall.\n. ",
    "rnradon": "Hi,\nI get this error while using any heroku command from my linux terminal.\n```\nSIGILL: illegal instruction\nPC=0x5bbadf m=6\ngoroutine 18 [running]:\ncrypto/sha256.block(0xc42008b600, 0xc4201ae1e0, 0x80, 0x96)\n    /usr/local/go/src/crypto/sha256/sha256block_amd64.s:733 +0x286f fp=0xc42003fb60 sp=0xc42003f938\ncrypto/sha256.(digest).Write(0xc42008b600, 0xc4201ae1e0, 0x96, 0x96, 0x0, 0x0, 0x87e738)\n    /usr/local/go/src/crypto/sha256/sha256.go:119 +0x120 fp=0xc42003fba8 sp=0xc42003fb60\ncrypto/tls.(finishedHash).Write(0xc42003fe48, 0xc4201ae1e0, 0x96, 0x96, 0x846d20, 0xc42008b680, 0x0)\n    /usr/local/go/src/crypto/tls/prf.go:229 +0x58 fp=0xc42003fc10 sp=0xc42003fba8\ncrypto/tls.(Conn).clientHandshake(0xc420174a80, 0x72def0, 0xc420174b88)\n    /usr/local/go/src/crypto/tls/handshake_client.go:206 +0xcfb fp=0xc42003fee0 sp=0xc42003fc10\ncrypto/tls.(Conn).Handshake(0xc420174a80, 0x0, 0x0)\n    /usr/local/go/src/crypto/tls/conn.go:1260 +0x1b8 fp=0xc42003ff50 sp=0xc42003fee0\nnet/http.(Transport).dialConn.func3(0xc420174a80, 0xc4201a6600, 0xc420191ec0)\n    /usr/local/go/src/net/http/transport.go:1033 +0x2f fp=0xc42003ff98 sp=0xc42003ff50\nruntime.goexit()\n    /usr/local/go/src/runtime/asm_amd64.s:2086 +0x1 fp=0xc42003ffa0 sp=0xc42003ff98\ncreated by net/http.(Transport).dialConn\n    /usr/local/go/src/net/http/transport.go:1038 +0xb4f\ngoroutine 1 [select]:\nnet/http.(Transport).getConn(0xc4200d01e0, 0xc42019bb60, 0x0, 0xc42019bac0, 0x5, 0xc42019bb80, 0x12, 0x0, 0x0, 0x0)\n    /usr/local/go/src/net/http/transport.go:890 +0x9d2\nnet/http.(Transport).RoundTrip(0xc4200d01e0, 0xc4200d10e0, 0xc4200d01e0, 0xecfcf9e49, 0x7f7e19f821a1)\n    /usr/local/go/src/net/http/transport.go:367 +0x307\nnet/http.send(0xc4200d0ff0, 0x8423c0, 0xc4200d01e0, 0xecfcf9e49, 0x19f821a1, 0x861de0, 0x8, 0xc42004fa30, 0xc42002e0f0)\n    /usr/local/go/src/net/http/client.go:256 +0x15f\nnet/http.(Client).send(0xc420015800, 0xc4200d0ff0, 0xecfcf9e49, 0x19f821a1, 0x861de0, 0xc42002e0f0, 0x0, 0x1)\n    /usr/local/go/src/net/http/client.go:146 +0x102\nnet/http.(Client).doFollowingRedirects(0xc420015800, 0xc4200d0ff0, 0x72d9a8, 0x4, 0xffffffffffffff01, 0xc42004fc40)\n    /usr/local/go/src/net/http/client.go:528 +0x5e5\nnet/http.(Client).Do(0xc420015800, 0xc4200d0ff0, 0x0, 0x0, 0xc42008b280)\n    /usr/local/go/src/net/http/client.go:187 +0x11d\ngithub.com/heroku/cli/vendor/github.com/dghubble/sling.(Sling).Do(0xc42008b080, 0xc4200d0ff0, 0x697140, 0xc4201aa240, 0x697180, 0xc4201aa250, 0x0, 0x0, 0x0)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/vendor/github.com/dghubble/sling/sling.go:355 +0x60\ngithub.com/heroku/cli/vendor/github.com/dghubble/sling.(*Sling).Receive(0xc42008b080, 0x697140, 0xc4201aa240, 0x697180, 0xc4201aa250, 0xc42008b080, 0xc4201aa0b0, 0x5)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/vendor/github.com/dghubble/sling/sling.go:347 +0x7e\nmain.v2login(0xc42017dfa8, 0x3, 0xc4201aa0b0, 0x5, 0x0, 0x0, 0xc420012240, 0xc42004fdf0)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/auth.go:325 +0x1c3\nmain.interactiveLogin()\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/auth.go:261 +0x177\nmain.login(0xc42019d0a0)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/auth.go:208 +0xc2\nmain.Start(0xc42000c4c0, 0x2, 0x2)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/start.go:70 +0x25e\nmain.main()\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/main.go:22 +0x9a\ngoroutine 17 [syscall, locked to thread]:\nruntime.goexit()\n    /usr/local/go/src/runtime/asm_amd64.s:2086 +0x1\ngoroutine 5 [syscall]:\nos/signal.signal_recv(0x0)\n    /usr/local/go/src/runtime/sigqueue.go:116 +0x157\nos/signal.loop()\n    /usr/local/go/src/os/signal/signal_unix.go:22 +0x22\ncreated by os/signal.init.1\n    /usr/local/go/src/os/signal/signal_unix.go:28 +0x41\ngoroutine 6 [chan receive]:\ngithub.com/heroku/cli/vendor/github.com/stvp/rollbar.init.1.func1()\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/vendor/github.com/stvp/rollbar/rollbar.go:103 +0x55\ncreated by github.com/heroku/cli/vendor/github.com/stvp/rollbar.init.1\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/vendor/github.com/stvp/rollbar/rollbar.go:114 +0x9d\ngoroutine 7 [select, locked to thread]:\nruntime.gopark(0x72de38, 0x0, 0x705946, 0x6, 0x18, 0x2)\n    /usr/local/go/src/runtime/proc.go:259 +0x13a\nruntime.selectgoImpl(0xc42002cf30, 0x0, 0x18)\n    /usr/local/go/src/runtime/select.go:423 +0x11d9\nruntime.selectgo(0xc42002cf30)\n    /usr/local/go/src/runtime/select.go:238 +0x1c\nruntime.ensureSigM.func1()\n    /usr/local/go/src/runtime/signal1_unix.go:304 +0x2f3\nruntime.goexit()\n    /usr/local/go/src/runtime/asm_amd64.s:2086 +0x1\ngoroutine 8 [chan receive]:\nmain.handleSignal.func1(0xc4200703c0, 0x72d690)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/io.go:316 +0x40\ncreated by main.handleSignal\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/io.go:318 +0xbb\ngoroutine 9 [chan receive]:\ngithub.com/heroku/cli/vendor/github.com/dickeyxxx/speakeasy.getPassword.func1(0xc420191440, 0xc42019b500, 0x3, 0x3)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/vendor/github.com/dickeyxxx/speakeasy/speakeasy_unix.go:48 +0x40\ncreated by github.com/heroku/cli/vendor/github.com/dickeyxxx/speakeasy.getPassword\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/vendor/github.com/dickeyxxx/speakeasy/speakeasy_unix.go:51 +0x377\ngoroutine 11 [select]:\nnet/http.setRequestCancel.func4(0x0, 0xc4201a86f0, 0xc4201a6100, 0xc420191500)\n    /usr/local/go/src/net/http/client.go:329 +0x15a\ncreated by net/http.setRequestCancel\n    /usr/local/go/src/net/http/client.go:337 +0x29f\ngoroutine 12 [chan receive]:\nnet/http.(Transport).dialConn(0xc4200d01e0, 0x846340, 0xc420010500, 0x0, 0xc42019bac0, 0x5, 0xc42019bb80, 0x12, 0x0, 0x0, ...)\n    /usr/local/go/src/net/http/transport.go:1039 +0xb91\nnet/http.(Transport).getConn.func4(0xc4200d01e0, 0x846340, 0xc420010500, 0xc4201a8720, 0xc4201915c0)\n    /usr/local/go/src/net/http/transport.go:885 +0x78\ncreated by net/http.(*Transport).getConn\n    /usr/local/go/src/net/http/transport.go:887 +0x398\nrax    0x6a09e667\nrbx    0xbb67ae85\nrcx    0x3c6ef372\nrdx    0x510e527f\nrdi    0x6a09e667\nrsi    0x0\nrbp    0x7315e0\nrsp    0xc42003f938\nr8     0xa54ff53a\nr9     0x9b05688c\nr10    0x1f83d9ab\nr11    0x5be0cd19\nr12    0x80\nr13    0x1680\nr14    0x2e\nr15    0x8\nrip    0x5bbadf\nrflags 0x10246\ncs     0x33\nfs     0x0\ngs     0x0\n```\nAny help is appreciated.\nThank You . @ransombriggs \noutput for uname -a => Linux radon 4.4.0-47-generic #68-Ubuntu SMP Wed Oct 26 19:39:52 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\noutput for cat /etc/lsb-release => DISTRIB_ID=Ubuntu\nDISTRIB_RELEASE=16.04\nDISTRIB_CODENAME=xenial\nDISTRIB_DESCRIPTION=\"Ubuntu 16.04.1 LTS\"\n. @ransombriggs \nuname -a  => Linux radon 4.4.0-47-generic #68-Ubuntu SMP Wed Oct 26 19:39:52 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\ncat /etc/lsb-release =>DISTRIB_ID=Ubuntu\nDISTRIB_RELEASE=16.04\nDISTRIB_CODENAME=xenial\nDISTRIB_DESCRIPTION=\"Ubuntu 16.04.1 LTS\"\ncat /proc/cpuinfo =>\nprocessor   : 0\nvendor_id   : GenuineIntel\ncpu family  : 6\nmodel       : 60\nmodel name  : Intel(R) Core(TM) i3-4000M CPU @ 2.40GHz\nstepping    : 3\nmicrocode   : 0x12\ncpu MHz     : 1051.781\ncache size  : 3072 KB\nphysical id : 0\nsiblings    : 4\ncore id     : 0\ncpu cores   : 2\napicid      : 0\ninitial apicid  : 0\nfpu     : yes\nfpu_exception   : yes\ncpuid level : 13\nwp      : yes\nflags       : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc aperfmperf eagerfpu pni pclmulqdq dtes64 monitor ds_cpl vmx est tm2 ssse3 sdbg fma cx16 xtpr pdcm pcid sse4_1 sse4_2 movbe popcnt tsc_deadline_timer xsave avx f16c rdrand lahf_lm abm epb tpr_shadow vnmi flexpriority ept vpid fsgsbase tsc_adjust avx2 smep erms invpcid xsaveopt dtherm arat pln pts\nbugs        :\nbogomips    : 4789.20\nclflush size    : 64\ncache_alignment : 64\naddress sizes   : 39 bits physical, 48 bits virtual\npower management:\nprocessor   : 1\nvendor_id   : GenuineIntel\ncpu family  : 6\nmodel       : 60\nmodel name  : Intel(R) Core(TM) i3-4000M CPU @ 2.40GHz\nstepping    : 3\nmicrocode   : 0x12\ncpu MHz     : 928.968\ncache size  : 3072 KB\nphysical id : 0\nsiblings    : 4\ncore id     : 0\ncpu cores   : 2\napicid      : 1\ninitial apicid  : 1\nfpu     : yes\nfpu_exception   : yes\ncpuid level : 13\nwp      : yes\nflags       : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc aperfmperf eagerfpu pni pclmulqdq dtes64 monitor ds_cpl vmx est tm2 ssse3 sdbg fma cx16 xtpr pdcm pcid sse4_1 sse4_2 movbe popcnt tsc_deadline_timer xsave avx f16c rdrand lahf_lm abm epb tpr_shadow vnmi flexpriority ept vpid fsgsbase tsc_adjust avx2 smep erms invpcid xsaveopt dtherm arat pln pts\nbugs        :\nbogomips    : 4789.20\nclflush size    : 64\ncache_alignment : 64\naddress sizes   : 39 bits physical, 48 bits virtual\npower management:\nprocessor   : 2\nvendor_id   : GenuineIntel\ncpu family  : 6\nmodel       : 60\nmodel name  : Intel(R) Core(TM) i3-4000M CPU @ 2.40GHz\nstepping    : 3\nmicrocode   : 0x12\ncpu MHz     : 1000.031\ncache size  : 3072 KB\nphysical id : 0\nsiblings    : 4\ncore id     : 1\ncpu cores   : 2\napicid      : 2\ninitial apicid  : 2\nfpu     : yes\nfpu_exception   : yes\ncpuid level : 13\nwp      : yes\nflags       : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc aperfmperf eagerfpu pni pclmulqdq dtes64 monitor ds_cpl vmx est tm2 ssse3 sdbg fma cx16 xtpr pdcm pcid sse4_1 sse4_2 movbe popcnt tsc_deadline_timer xsave avx f16c rdrand lahf_lm abm epb tpr_shadow vnmi flexpriority ept vpid fsgsbase tsc_adjust avx2 smep erms invpcid xsaveopt dtherm arat pln pts\nbugs        :\nbogomips    : 4789.20\nclflush size    : 64\ncache_alignment : 64\naddress sizes   : 39 bits physical, 48 bits virtual\npower management:\nprocessor   : 3\nvendor_id   : GenuineIntel\ncpu family  : 6\nmodel       : 60\nmodel name  : Intel(R) Core(TM) i3-4000M CPU @ 2.40GHz\nstepping    : 3\nmicrocode   : 0x12\ncpu MHz     : 898.312\ncache size  : 3072 KB\nphysical id : 0\nsiblings    : 4\ncore id     : 1\ncpu cores   : 2\napicid      : 3\ninitial apicid  : 3\nfpu     : yes\nfpu_exception   : yes\ncpuid level : 13\nwp      : yes\nflags       : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc aperfmperf eagerfpu pni pclmulqdq dtes64 monitor ds_cpl vmx est tm2 ssse3 sdbg fma cx16 xtpr pdcm pcid sse4_1 sse4_2 movbe popcnt tsc_deadline_timer xsave avx f16c rdrand lahf_lm abm epb tpr_shadow vnmi flexpriority ept vpid fsgsbase tsc_adjust avx2 smep erms invpcid xsaveopt dtherm arat pln pts\nbugs        :\nbogomips    : 4789.20\nclflush size    : 64\ncache_alignment : 64\naddress sizes   : 39 bits physical, 48 bits virtual\npower management:\nthis is what i am getting.\n. ",
    "ianjosephwilson": "Any updates on this?  I still seem to be experiencing this.  I am still having this issue.  What is a good alternative to saving heroku run's output?\n. ",
    "stefansundin": "I'm also experiencing this. I'm also seeing the line\nRunning `...` attached to terminal... up, run.XXX\non the top. This should in my opinion be printed to stderr instead of stdout, making it more pipe-friendly.\nMy output file is 51,290 bytes. But since the first line noted above is 90 bytes, the output that was transferred from the server is 51,200 bytes, so this is probably the size of a buffer.\nHowever, every time I run the command, the output is cut off at different points.\nWhat I ended up doing was enabling logging in my terminal (iTerm2), then running heroku run bash, run the command I want the output of, then open the log file and copying the things I needed. In my case the logfile had CRLF line endings, so I had to fix that too. Damn annoying workaround, but it works.\n. ",
    "scottwb": "I am also experiencing this problem with a very simple use case. I run heroku run rake report, which invokes a report rake task that executes a simple database query and dumps around 2000 lines of CSV data very quickly. The output gets cut off in random spots as others have mentioned. \nIt sure seems like something is closing the connection before all the data is finished being sent. The only workaround I've found so far is to heroku run bash and then rake report from there, and copy/paste the output from the terminal into a CSV file.\n. For anyone else that might find this useful...here is the workaround I am using now: add a && sleep 10 to your command, using the same example in my previous comment, here is what I am doing now:\nheroku run \"rake report && sleep 10\" > output.csv\nWithout the && sleep 10, my output gets cutoff, with the && sleep 10 I have gotten all my output so far.\n. I love to see this fixed as well. My use case: a heroku run \"rake report\" > report.csv task that prints errors to stderr and CSV data to stdout. I want my CSV file to just have CSV data, and I want to see errors in the console. Works great locally, just not through heroku run.\n. ",
    "funwhilelost": "I'm also seeing this issue.  Piping the output into a file results in randomly truncated results.\n. Still dealing with this (though it's not a huge part of our program now) but we simply added a ; sleep 30; to the end of the run and it gives it time to flush out the rest of the buffer.\n. A quick suggestion: switch to OpenDNS.  Should work through your college proxy but you might not be able to resolve on-campus addresses as easily.\n. ",
    "Odaeus": "Dunno if this info is useful, but from Heroku support on August 28th 2015:\n\nWhile we can indeed reproduce this issue, we'll likely need a pretty big change to fix this. Unfortunately, we do not have an ETA for the fix yet, but we're planning to start working on from next week. Thanks for reporting this, with a reproducible way, we really appreciate it.\nDuring the investigation, We tend to see that it goes well with a good network (we were able to reproduce this constantly with slow network), so the only workaround that I can suggest would be using a good network. I'm also seeing a good result if I add something like && sleep 10 at the end (e.g. heroku run 'ruby -e \"10000.times {|i| puts i }\" && sleep 10', actually not sure how to pass && with --). Other than that, you'll need to make more bigger change to fix this on your end unfortunately (e.g. saving the result and sending to s3, etc.).\n. \n",
    "rwz": "Seems like a case of\n\nI'd tell you a UDP joke but I'm not sure you'd get it.\n. :+1: \n. \n",
    "munhitsu": "issue can be still observed\n. ",
    "tal": "D'oh, i discovered that while playing around in the code myself. Would be nice if that (very nice) feature was documented somewhere.\nMade a nice post-checkout hook\n``` bash\n!/bin/bash\nif [ git symbolic-ref HEAD == \"refs/heads/dev\" ]\nthen\n  git config heroku.remote staging\nelif [ git symbolic-ref HEAD == \"refs/heads/master\" ]\nthen\n  git config heroku.remote heroku\nelse\n  git config --unset heroku.remote\nfi\n```\n. ",
    "zephyr-dev": "My idiocy, that is just the error message that happens when you specify a remote that doesn't exist. Different machine didn't have that git remote setup. Sorry!\n. ",
    "xube": "I have the same issue. I can't run heroku because this error. I am under Win8. How can i solve?\n. ",
    "corydolphin": "Manually unhide the file using the file explorer, and the issue should be\nfixed!\nOn Fri, Mar 22, 2013 at 10:26 AM, xube notifications@github.com wrote:\n\nI have the same issue. I can't run heroku because this error. I am under\nWin8. How can i solve?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/678#issuecomment-15299331\n.\n. \n",
    "fidothe": "Aha! I'd looked through heroku/toolbelt but hadn't clocked that the install script was there as a .erb, thanks for the heads up :-)\n. ",
    "ccjensen": "this was an issue with Little Snitch (firewall) blocking the outgoing connection.\nSorry about the noise!\n. ",
    "mindaslab": "Okay, this is a DNS problem. Add 8.8.8.8 and 8.8.8.4 (Google) DNS addresses and all will be fine.\n. ",
    "hifenhur": "i \n\n. ",
    "dccarroll": "Also unable to log in via web interface\n. ",
    "azylman": "If there's an issue with the Heroku api, should the toolbelt provide a more helpful error message indicating that than \"undefined method `[]' for nil:NilClass (NoMethodError) (Excon::Errors::SocketError)\"?\nSomething like \"Unable to communicate with API\"\n. ",
    "mfine": "I fixed part of the specs that was looking for hard-coded output. Other part of specs needed an update of mocks from heroku.rb. That commit is here: https://github.com/heroku/heroku.rb/commit/fb8a743c8f\n. @mattsoldo it's just a single api call - update. The upgrade/downgrade logic is handled in core, and doesn't have to be explicit - https://github.com/heroku/core/blob/master/app/mediators/app_tier/changer.rb\n. @markpundsack ha! nice prior art: https://github.com/heroku/heroku/blob/master/lib/heroku/client.rb#L564\n. @mattsoldo that's all it will be - the same exact call, just a different name. It'll be an alias. Everyone ok with that?\n. @mattsoldo @markpundsack Moved the commands over to upgrade/downgrade. They no longer take a --tier option (that's only used on create now).\n. @markpundsack it's now a mandatory parameter to the command:\nheroku upgrade production\nheroku downgrade dev\n. Moved to https://github.com/heroku/heroku/pull/702.\n. Fixed specs. One set of specs i missing because the mock from heroku.rb is broken (not returning 'tier'). Otherwise, this is ready to go.\n. It's the last commit in heroku.rb - 22 days ago. Not released as far as I know.\n. @wuputah here's the commit! https://github.com/heroku/heroku.rb/commit/fb8a743c8f\n. @zeke yo, there was a lot of contention over this issue. See the the thread on \"heroku fucking console\".\n. Jesus christ, publish this shit out already.\n. ```\n\u279c  ~/heroku/heroku  (master) git log | head\ncommit c4fee016c58f605a57965caef6a874333662d60d\nAuthor: Mark Fine mark.fine@gmail.com\nDate:   Fri Mar 1 18:02:06 2013 -0800\nbroken mocks driven development.\n\ncommit 57b5a626f90fb3d3b1a98a8489db84613a750078\nAuthor: Mark Fine mark.fine@gmail.com\nDate:   Tue Feb 26 16:37:20 2013 -0800\n\u279c  ~/heroku/heroku  (master) bundle exec rake           \n/Users/fine/.rvm/rubies/ruby-1.9.3-p194/bin/ruby -S rspec ./spec/heroku/auth_spec.rb ./spec/heroku/client/heroku_postgresql_spec.rb ./spec/heroku/client/pgbackups_spec.rb ./spec/heroku/client/rendezvous_spec.rb ./spec/heroku/client/ssl_endpoint_spec.rb ./spec/heroku/client_spec.rb ./spec/heroku/command/addons_spec.rb ./spec/heroku/command/apps_spec.rb ./spec/heroku/command/auth_spec.rb ./spec/heroku/command/base_spec.rb ./spec/heroku/command/certs_spec.rb ./spec/heroku/command/config_spec.rb ./spec/heroku/command/db_spec.rb ./spec/heroku/command/domains_spec.rb ./spec/heroku/command/drains_spec.rb ./spec/heroku/command/git_spec.rb ./spec/heroku/command/help_spec.rb ./spec/heroku/command/keys_spec.rb ./spec/heroku/command/labs_spec.rb ./spec/heroku/command/logs_spec.rb ./spec/heroku/command/maintenance_spec.rb ./spec/heroku/command/pg_spec.rb ./spec/heroku/command/pgbackups_spec.rb ./spec/heroku/command/plugins_spec.rb ./spec/heroku/command/ps_spec.rb ./spec/heroku/command/releases_spec.rb ./spec/heroku/command/run_spec.rb ./spec/heroku/command/sharing_spec.rb ./spec/heroku/command/stack_spec.rb ./spec/heroku/command/status_spec.rb ./spec/heroku/command/version_spec.rb ./spec/heroku/command_spec.rb ./spec/heroku/helpers/heroku_postgresql_spec.rb ./spec/heroku/helpers_spec.rb ./spec/heroku/plugin_spec.rb ./spec/heroku/updater_spec.rb\n.........................................................................................................................................................................................................................................................................................................................................................................................................................\nFinished in 15.63 seconds\n409 examples, 0 failures\nRandomized with seed 15376\n\u279c  ~/heroku/heroku  (master) \n```\nTests are passing for me.\n. Maybe undo the mock changes from heroku.rb and we can all do more productive things with our lives?\n. Let's just revert the heroku.rb changes. Sorry for this mess.\n. Pulling this in.\n. Instead of https://github.com/heroku/heroku/pull/880, let's let multi_json do this for us.\n. > MultiJSON tries to have intelligent defaulting. That is, if you have any of the supported engines already loaded, it will utilize them before attempting to load any. When loading, libraries are ordered by speed. First Oj, then Yajl, then the JSON gem, then JSON pure. If no other JSON library is available, MultiJSON falls back to OkJson, a simple, vendorable JSON parser.\nIs that not covering all the concerns here?\n. @hgmnz that works for me - or we could just leave the okjson vendored in for now. Are the plugins doing anything other than requiring? Do we need to wrap encode, decode calls?\n. Hmm...\n. Thanks! Found only a single use case, I think - oauth plugin. Maybe we can just fix that ish.\n. @hgmnz looks good to me - except for the rescue MultiJson::LoadError - I don't think that corresponds to a load method call error. I think that corresponds to a load library error. It's unfortunately named. I made the same assumption initially, but then dug in. Let me know if you think differently.\n. Unrelated:\nhttps://github.com/intridea/multi_json/blob/master/lib/multi_json.rb#L57\nhttps://github.com/intridea/multi_json/blob/master/lib/multi_json.rb#L105\nGuess this one is actually legit:\nhttps://github.com/intridea/multi_json/blob/master/lib/multi_json.rb#L122\n. Yeah, think we're all set. I think I was conflating ::LoadError and MultiJson::LoadError\n. Fixed by https://github.com/heroku/heroku/pull/993.\n. Fixed by https://github.com/heroku/heroku/pull/993.\n. This change works for me:\n\u279c  ~/heroku/heroku  (master) \u2717 bin/heroku sudo scale -a hkdist web=200\nScaling dynos... failed\n !    Cannot scale to more than 100 1X size dynos per process type.\n\u279c  ~/heroku/heroku  (master) \u2717\n/cc @bgentry \n. That's the default error: https://github.com/heroku/heroku/blob/d5672f28a35fc593530cbca9582d228dacb2d55b/lib/heroku/command.rb#L278\n. Likely need https://github.com/heroku/heroku.rb/pull/78.\n. @fabiokung !!! Hey, we're extending v3 API to support size descriptions like PX so that all clients will on v3 will get a consistent experience. What do you think about moving this command on to v3 and simplifying the handling of the size return values for dynos? See the following PR: https://github.com/heroku/api/pull/1543\n. @fabiokung yeah, let's be consistent - no mappings in the client. Or as few as possible :) Thanks, let me know if you run into any issues. Scaling is using v3 now, if you're looking for an example of a v3 call. Would love to have ps:index on v3 as well - would be a good source of API volume.\n. Just following up here - the v3 representations and consumption of these values should be all good to go. Would love to move this over to v3 and have sizes sent in as 1X, 2X, and PX.\n. Yeah, thanks, got that.\n. ",
    "mattsoldo": "All looks good. But I'd like to see apps:upgrade / apps:downgrade. It makes\nit more explicit that the change is about cost, and it parallels how addons\nwork.\nOn Mon, Feb 4, 2013 at 2:08 PM, Mark Fine notifications@github.com wrote:\n\n\nthere's a new command, apps:update. It just updates a tier.\n\n\nMatthew Soldo\nDirector of Product Management, Heroku https://www.heroku.com/\nCalendar http://goo.gl/XWOQj, @mattsoldohttps://twitter.com/#!/mattsoldo\n, LinkedIn http://www.linkedin.com/in/mattsoldo, (415) 323-0003\n. Right, it might just be syntax sugar behind the same API command, but that\nis why the API is different from the CLI.\nMatthew Soldo\nDirector of Product Management, Heroku https://www.heroku.com/\nCalendar http://goo.gl/XWOQj, @mattsoldohttps://twitter.com/#!/mattsoldo\n, LinkedIn http://www.linkedin.com/in/mattsoldo, (415) 323-0003\nOn Mon, Feb 4, 2013 at 3:47 PM, Mark Fine notifications@github.com wrote:\n\n@markpundsack https://github.com/markpundsack ha! nice prior art:\nhttps://github.com/heroku/heroku/blob/master/lib/heroku/client.rb#L564\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/pull/695#issuecomment-13106873.\n. @markfine yes, I'm ok with that and it seems like the correct design to me.\n\nMatthew Soldo\nDirector of Product Management, Heroku https://www.heroku.com/\nCalendar http://goo.gl/XWOQj, @mattsoldohttps://twitter.com/#!/mattsoldo\n, LinkedIn http://www.linkedin.com/in/mattsoldo, (415) 323-0003\nOn Mon, Feb 4, 2013 at 4:51 PM, Mark Fine notifications@github.com wrote:\n\n@markpundsack https://github.com/markpundsack it's now a mandatory\nparameter to the command:\nheroku upgrade production\nheroku downgrade dev\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/pull/695#issuecomment-13109179.\n. Yes please.\n\nMatthew Soldo\nProduct Manager, Heroku https://www.heroku.com/\nCalendar http://goo.gl/XWOQj, @mattsoldo\nhttps://twitter.com/#!/mattsoldo, LinkedIn\nhttp://www.linkedin.com/in/mattsoldo, (415) 323-0003\nOn Wed, Jul 16, 2014 at 4:03 PM, Will Leinweber notifications@github.com\nwrote:\n\nalso cc @deafbybeheading https://github.com/deafbybeheading for the\nmaintenance parts and @gregburek https://github.com/gregburek for the\nupgrade parts\n\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/pull/1141#issuecomment-49239420.\n. \n",
    "jcaudle": "@gsab is this still happening for you?\n. @AnzOne01, do you have exactly the same output? This doesn't seem to be a bug with this tool, but a problem in the network connection where this happens.\n. @AnzOne01, that makes sense.\nI'm curious if it would make sense to rescue this error with a friendlier text pointing the user toward checking their proxy settings.\n. @saisarath369 Is this still occurring for you?\n. @twe4ked et al., it seems like this is something that would be best handled on the server side, not in this tool, or is a modification to the CLI which pushes to the new app what @friism was suggesting? If so, there doesn't seem to be a good remote name to set automatically. Thoughts?\n. @rpuranik have you seen any improvement on this issue?\n. No problem, @rpuranik! Would you mind closing the issue on GitHub?\n. ",
    "HuilaMagnifica": "@jcaudle i need help please; same ploblem is firewall but i desactivated firewall of Window, do not know what else.\n. @jcaudle Yes is exactly; the ploblem is network connection, i deactivate the firewall of Window but not working yet. To do configuration file of Heroku or you think of anything? Thanks & sorry for english.\nGracias.\n. @jcaudle Really was for proxy... Gracias\n. ",
    "zolzaya": "Same here :(\n. ",
    "garybernhardt": "Guys, this is a serious problem. There is no web UI for ssl:hostname, so the command line tool is the only interface, unless I'm missing something. It seems like it's currently impossible for anyone using ssl:hostname to actually see their certs, unless they write their own client against the API?\n. I'm not reluctant to switch to that in particular; I'm reluctant to do work. I pay a premium for Heroku because it's supposed to just work.\n. In the meantime the official position from Heroku is \"anyone using ssl:hostname will be lied to by the command line client\"?\n. Oh, I interpreted your plea for me to switch as a proposed alternative to this being fixed. Apologies!\n. ",
    "amdorra": "oops, something is wrong with the VM connection sorry about that.\n. ",
    "VanceVan": "Having the exact same problem. \n. ",
    "estsauver": "Seeing this problem now as well. \n. Yep, it appears fixed now!\nThis is a really phenomenal response time. Thanks Michael.\n~Earl\n. ",
    "keithpitt": "Updated to lastest master. My build should pass now.\n. Yup, all passed. This should be ready to be merged in now! :)\n. @catsby yay! I've just rebased. Thanks :)\n. ",
    "dominic": ":clap:\n. :+1:\n. @markpundsack Yep - caught that today. The correct behavior is tests here: https://github.com/heroku/heroku/commit/3d851f1a67fc1b1361a9fff9aaf69b4fb87ef4f0#diff-be5266a4050e75ea21f61deed6f34838R91\n. Saw a build failure with seed 49963 - will investigate before merging.\n. Could not reproduce failure - looks like a Travis hiccup.\n. It already does as of version 3.2.0:\n```\n$ heroku help list\nAlias: list redirects to apps\nUsage: heroku apps\nlist your apps\n-o, --org ORG  # the org to list the apps for\n -A, --all      # list all apps in the org. Not just joined apps\n -p, --personal # list apps in personal account when a default org is set\n``\n. Awesome - no problem.-o/--org ORGshould be a global option that sets the flag on any command where appropriate, similar to the behavior of-a/--app APP`.\n. Installing and running foreman from the gem works totally as expected. \n. ",
    "mcolyer": "I too can't login through the client but I can through the web interface.\n. ",
    "yoshuawuyts": "Everything is fine on my end, this issue should've been closed months ago.\n. ",
    "mm-gmbd": "Figured it out, use apt-get to remove heroku and heroku-toolbelt and then install again:\n--uninstall heroku and heroku toolbelt--\nsudo apt-get --purge remove heroku\nsudo apt-get --purge remove heroku-toolbelt\n--reinstall toolbelt--\nwget -qO- https://toolbelt.heroku.com/install-ubuntu.sh | sh\n. ",
    "mgtf": "Same problem here. No reason for this, i can't remember something special which made heroku command failed\n. ",
    "gkochev": "Yes I don't know, it is confusing, I've done better job in the past year while building these apps, using RoR, especially beyond Demo App, now can't go even that far... as for deploying Heroku... don't understand, I do precisely what the tutorial ask me to do! Any idea?\n. ",
    "manianna": "i am unable to login and getting the same message as mentioned above. please help me to get out of this\n. ",
    "michaelrkn": "*bump\n. https://github.com/heroku/heroku/issues/829, https://github.com/heroku/heroku/issues/844, and https://github.com/heroku/heroku/issues/845 are duplicates of this. \nI'm facing the same issue, using the latest Toolbelt installed with Homebrew, Ruby 1.9.3p429 managed by the latest chruby, OS X 10.8.4.\nAlso, it seemed to start for me after I used Heroku Headless on my dev machine (wanted to play around with it before setting it up with Travis). But it could have been coincidence.\n. I was able to fix this by deleting /usr/local/etc/openssl/openssl.cnf.\n. ",
    "anthonator": "My whole team is running into this same issue.\n``\nheroku-toolbelt/2.37.2 (x86_64-darwin10.8.0) ruby/1.9.3\nRunningconsole` attached to terminal... up, run.8475\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       Operation timed out - connect(2) (Errno::ETIMEDOUT)\nBacktrace:   /Users/anthonator/.heroku/client/lib/heroku/client/rendezvous.rb:39:in `initialize'\n             /Users/anthonator/.heroku/client/lib/heroku/client/rendezvous.rb:39:in `open'\n             /Users/anthonator/.heroku/client/lib/heroku/client/rendezvous.rb:39:in `block in start'\n             /usr/local/heroku/ruby/lib/ruby/1.9.1/timeout.rb:68:in `timeout'\n             /Users/anthonator/.heroku/client/lib/heroku/client/rendezvous.rb:31:in `start'\n             /Users/anthonator/.heroku/client/lib/heroku/command/run.rb:132:in `rendezvous_session'\n             /Users/anthonator/.heroku/client/lib/heroku/command/run.rb:119:in `run_attached'\n             /Users/anthonator/.heroku/client/lib/heroku/command/run.rb:24:in `index'\n             /Users/anthonator/.heroku/client/lib/heroku/command.rb:206:in `run'\n             /Users/anthonator/.heroku/client/lib/heroku/cli.rb:28:in `start'\n             /usr/local/heroku/bin/heroku:24:in `<main>'\n\nCommand:     heroku run console --app <app name>\nVersion:     heroku-toolbelt/2.37.2 (x86_64-darwin10.8.0) ruby/1.9.3\n\nrake aborted!\nCommand failed with status (1): [heroku run console --app ]\n```\n. I contacted Heroku and got the issue resolved. Here's what Heroku said:\nNeil (Heroku Support)\nApr 17 08:49 (PDT)\n```\nHi,\nSorry, but we had a brief outage on one-off dynos. This has now been resolved.\nLet me know if you have any more problems.\nNeil\n```\n. ",
    "deborshisaha": "Is your team in a VPN? Because face this issue when I am inside company's\nVPN. Otherwise it works like a gem.\nThanks.\nOn Wednesday, April 17, 2013, Anthony Smith wrote:\n\nMy whole team is running into this same issue.\nheroku-toolbelt/2.37.2 (x86_64-darwin10.8.0) ruby/1.9.3\nRunning console attached to terminal... up, run.8475\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       Operation timed out - connect(2) (Errno::ETIMEDOUT)\nBacktrace:   /Users/anthonator/.heroku/client/lib/heroku/client/rendezvous.rb:39:ininitialize'\n             /Users/anthonator/.heroku/client/lib/heroku/client/rendezvous.rb:39:in open'\n             /Users/anthonator/.heroku/client/lib/heroku/client/rendezvous.rb:39:inblock in start'\n             /usr/local/heroku/ruby/lib/ruby/1.9.1/timeout.rb:68:in timeout'\n             /Users/anthonator/.heroku/client/lib/heroku/client/rendezvous.rb:31:instart'\n             /Users/anthonator/.heroku/client/lib/heroku/command/run.rb:132:in rendezvous_session'\n             /Users/anthonator/.heroku/client/lib/heroku/command/run.rb:119:inrun_attached'\n             /Users/anthonator/.heroku/client/lib/heroku/command/run.rb:24:in index'\n             /Users/anthonator/.heroku/client/lib/heroku/command.rb:206:inrun'\n             /Users/anthonator/.heroku/client/lib/heroku/cli.rb:28:in start'\n             /usr/local/heroku/bin/heroku:24:in'\nCommand:     heroku run console --app career-starter\nVersion:     heroku-toolbelt/2.37.2 (x86_64-darwin10.8.0) ruby/1.9.3\n```\nrake aborted!\nCommand failed with status (1): [heroku run console --app career-starter]\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/736#issuecomment-16511913\n.\n\n\nregards,\nDeborshi Saha\n. ",
    "jnovinger": "This appears to work for me:\nRunning `uptime` attached to terminal... up, run.7324\n 14:00:30 up 47 days, 10:34,  0 users,  load average: 35.53, 21.77, 18.86\n. heroku run \"yes yes | python manage.py syncdb\" -a $APP_NAME does appear to be a workaround.\n. ",
    "mike-yesware": "I just started getting this today on heroku ps:\n```\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method `captures' for nil:NilClass (NoMethodError)\nBacktrace:   /Users/mike/.heroku/client/lib/heroku/command/ps.rb:117:in `block (2 levels) in index'\n             /Users/mike/.heroku/client/lib/heroku/command/ps.rb:116:in `sort'\n             /Users/mike/.heroku/client/lib/heroku/command/ps.rb:116:in `block in index'\n             /Users/mike/.heroku/client/lib/heroku/command/ps.rb:115:in `each'\n             /Users/mike/.heroku/client/lib/heroku/command/ps.rb:115:in `index'\n             /Users/mike/.heroku/client/lib/heroku/command.rb:206:in `run'\n             /Users/mike/.heroku/client/lib/heroku/cli.rb:28:in `start'\n             /usr/local/heroku/bin/heroku:25:in `<main>'\n\nCommand:     heroku ps\nPlugins:     heroku-pg-extras\nVersion:     heroku-toolbelt/2.37.0 (x86_64-darwin10.8.0) ruby/1.9.3\n\n```\n. Heroku support just recommended using the gem version temporarily. It did the trick.\ngem install heroku -v=2.36.1\n. Scratch that. Toolbelt fixed: https://github.com/heroku/heroku/commit/70551392e6cb4a1bbe693d478407e9794081b28b\n. ",
    "olivierlacan": "Whoops, sorry. Dupe of #715 \n. ",
    "mccollek": "+1\n. ",
    "mufasa71": "I can confirm, this happen for me too!\n. ",
    "DamirSvrtan": "Seems i'm not the only one.\n. ",
    "dmathieu": "I had the same problem today while doing some training.\n. ",
    "jasoncodes": "The copy should definitely be performed server side.\n. ",
    "wpiekutowski": "+1 Great idea! Especially for more seasoned apps. :)\n. ",
    "emilesilvis": ":+1: \n. ",
    "CameronBanga": "+1\n. ",
    "Jordanairwave": "+1\n. ",
    "Xplouder": "+1\n. ",
    "thiagovsk": "+1 \n. ",
    "brickgale": "+1. ",
    "Narvey": "Has anyone made a ticket for this yet? +1's don't do much good if this will not be seen by the correct team.. ",
    "jtarchie": "@wuputah, thanks for the lead. Closing.\n. ",
    "joevandyk": "i believe the same problem happens when you restore a 9.2 snapshot.\n. I dunno, will it break again when 9.3 comes out in a month?\n. (The problem was that the right postgresql version wasn't being selected when restoring a snapshot or forking a database if the default heroku postgres version was different from the postgres version that was used in the original database. When postgresql moves the default to 9.3, I'd hopefully be able to fork/restore a 9.2. database)\n. ",
    "nizaroni": "I've also encountered this issue when trying to pipe heroku config:get values into shell scripts.\n. ",
    "cheptsov": "What is the workaround?\n. So the fork is not possible? I need to change the region anyway.\n. Threre are two errors:\n1) Logs show an exception that database connection cannot be established (it seems it tries to connect to the old url and is not able because of access denied from this host).\n2) The deployment history says that there are no deployments. And I see that the git repo is empty.\n. ",
    "ryanbrainard": "You'll need to manually destroy the new app. From the example above, it would be like this:\n$ heroku destroy --app mysterious-lake-8964-138\n@rwdaigle Should this have been closed?\n. Can you please provide more details of the error you are seeing?\n. @rwdaigle yeah it is. sorry, i was looking at the wrong status indicator.\n. I was able to match up the commit hashes from the error message to what was going on on the backend. So it looks like we timed out when making the API call to check that the pipelines labs feature was enabled and then a H12 Request timeout was returned to the user. The error here was probably just transient issue with API, but its strange that Cisaurus didn't return the JSON error before the H12 HTML error was served.\n. @tylergraf @rasky Please try your promotion again. It should work now. Sorry for any inconvenience this caused.\n. Sweet, thanks @pedro! \n. @friism FYI\n. @jesperfj @dickeyxxx I just tested this out, but the remote is missing the app name on create:\n```\n$ h create --http-git\nCreating guarded-savannah-1382... done, stack is cedar\nhttp://guarded-savannah-1382.herokuapp.com/ | https://git.heroku.com/.git\nGit remote heroku added\n$ git remote -v\nheroku  https://git.heroku.com/.git (fetch)\nheroku  https://git.heroku.com/.git (push)\n``\n. :+1: \n. @tt I'll leave that decision up to @friism and @dickeyxxx, but it feels a little magical to me. I like the behavior being consistent regardless of what the current remote is. \n. I'm ok just making it always overwrite without prompting or the --update flag. I can update this PR tomorrow with that change. \n. @friism @dickeyxxx Just added the changes to make it not prompt and not require--update. I also extract out a bunch of duplicate code betweencloneandremote`.\n. Awesome! @friism, time to start updating Dev Center :)\n. Looks good, but the URL construction and netrc check is duplicated a bunch of times. We should really extract that out and have it shared by all the different commands. \n. :+1:\nAnother thought: should warn if there are no SSH keys when --ssh-git is provided? This would be a remote call, so perhaps not, but worth considering an analogous warning. Thoughts @friism?\n. I did some digging and there is a small handful of apps that do not have development domains. I added back the error handling for that case and tweaked the output when no custom domains are found to show the user how to add one, which is similar to how heroku certs behaves and looks better with the two table design.\n. @dickeyxxx The API changes have been merged and deployed. This should be good to go from my end now.\n. We just had an offline discussion of these labels. Closing this pull request for now while we fix things up. Will re-open when it's ready to go.\n. > should there be a short-arg for space here\nThe option short-arg (-s) is already used by --stack and didn't really want to add a short args for a hidden option. Perhaps we could use capital -S (thoughts?), but again, that's something I'd probably not want to add until this is a visible arg.\n. @dickeyxxx The API change has deployed. This should be good to go.\n. @dickeyxxx Thanks for the quick merge! Just wanted to make sure you also saw #1651. It would great if these two could go out together.\n. > Looks like this wouldn't cope well with specifying an org and a space at the same time presently\nSince spaces are owned by orgs, there should be no need to specify both options. I considered doing the space filtering after the API calls so that it work with the orgs option; however, the v2 org apps endpoint does not include the space attribute and adding it gets pretty messy with variants without much benefit. Once space is added into mainline in API, this can be simplified and support both options. However, since it would never make sense to specify both options (unless the space is actually owned by the org), it might be better to explicitly block it. What do you think?\n\nshould there be a short-arg?\n\nI didn't add one since there isn't one for apps:create (where -s would conflict with --stack). I also didn't really want to add a short args for a hidden option.\n. Added explicit error in https://github.com/heroku/heroku/pull/1662\n. Closing this for the time being, as there is a better way this can potentially work I want to try.\n. Tried my experiment, but it will require API changes. Re-opening as-is.\n. @geemus There is a separate issue where unjoined apps are not showing up for heroku info --space SPACE, and I was hoping to kill two birds with one stone with a slightly different implementation. The problem with the unjoined apps is that we're using api.get_apps instead of org_api.get_apps(org). If we want to use org_api.get_apps(org), we will need to look up the org from the space client side (do-able) and also make an API change to include the space in the serialization of GET /v1/organization/:org/app. I didn't make that serialization change previously because v3 uses the same serialization, which would be a change to a production-level endpoint. Alternatives would be either 1) have separate serializers with a variant and/or 2) introduce a new endpoint to list apps in a space (which we punted on before since it wasn't clear how the URL should be formatted). I'd be happy hear your thoughts on this.\nFor the time being though, this change should be fine for fixing the issue at hand (i.e. handling HEROKU_ORGANIZATION). I was just hoping I could handle the two together.\n. @geemus Yes, you can release it at your convenience.\n. Thanks Wes!\nOn Thursday, July 23, 2015, Wesley Beary notifications@github.com wrote:\n\nReleased in 3.40.6\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/pull/1667#issuecomment-124234130.\n. I just opened https://github.com/heroku/heroku/pull/1692, which layers on this pull. I did it that way instead of basing it directly on master to avoid merge conflicts. This can go in without it, but it would nice for them to get merged together.\n. @naaman I went back and forth on that, but decided to leave it because 1) it makes it act like the personal app list on Dashboard, 2) it scopes the change to the org app list only, 3) does not break scripts that use the flag today. If we do completely remove --all, we would need to decide what the behavior would be for the personal app list. If we want to make it like Dashboard, the list would to be never include org apps (even joined apps) in the personal app list.\n. @dickeyxxx Just removed the constants.\n. not really sure what this was doing here. having it or removing it didn't change the outcome of the test.\n. shoot, just realized this debugging line i added. cleaning it up..\n. This should use the heroku host so it's not hard coded to heroku.com\n. This will break if someone sets HEROKU_GIT_HOST. Seems like Heroku::Auth.git_host should be resolving the HTTP vs SSH differences here to allow the override.\n. here too\n. ...and here\n. this should be info[\"name\"] (otherwise it will be nil for auto-generated app names)\n. probably but, copied from def create_git_remote(remote, url) above...\n. i can fix and DRY it up...\n. just to confirm, this won't fail if someone explicitly sets --http-git, right?\n. this is fine for now, but wonder if we should construct this so we don't have to change it again if/when API changes the returned value to HTTP?\n. should this an Line 156 and Line 246 be extracted out into a method?\n. seems like this should be extracted too\n. there was a lot of discussion about the wording for this column in Dashboard, and this was copied from there. @tim-lang, @itchymutt: thoughts? I don't think we should block on this, but worth consideration for a follow up.\n. I think 'DNS Record Target' would capture everyone's concerns. It works for both CNAME and ALIAS, speaks to the right hand side of the record, and hints that it is for DNS. If we change it here, we also need to update Dashboard. \n. @jesperfj, @itchymutt: are you ok with using DNS Record Target both here and Dashboard?\n. @jesperfj see the thread above\n. Sounds good. Making the change here. This :bike:-shed is closed.\n. \n",
    "manterfield": "Just wanted to say I'm getting what appears to be the same behaviour, with the additional frustration that the empty app now can't be deleted. There is a prompt to delete the app when the fork first fails, but if you mistype the confirmation you end up with this un-deletable thing.\nThe app doesn't get listed anywhere, but all other commands act as if it still exists with the exception of the destroy command, which decides it definitely doesn't exist.\n. Is prompting to delete a broken app really the completed solution to this? Is there ever a case when a failed fork is a useful thing to keep? It seems like an odd gotcha to leave in place.\nHaving said that, I am very new to heroku, so perhaps there's a negative to automatically deleting the failed fork that I am unaware of.\n. ",
    "PeterChapman": "+1 to this. I would love to encourage teachers and students leverage Heroku fork to clone educational apps; makes it much smoother to do this if there's not a distinct git repo to clone.\n. ",
    "acidlake": "i successfully fix the error, what i did is, i install heroku using sudo gem install heroku and i overwrite the heroku bin and that fixed my problem\n. ",
    "akshayrawat": "When forking an application, the new application should get the colloborators of the original app, just like how it gets all the configs, addons etc.\n. ",
    "hakunin": "Running rake detached works, but up until now (22 months) there were no issues like this for me..\n. ",
    "figolu": "Check that nothing is blocking port 5000 used by Heroku client.\n. ",
    "lunks": "Makes sense. Perhaps installing every addon on their cheapest level if that can be inflected?\n. ",
    "obromios": "I am getting the same error with heroku run console and heroku run rake db:migrate, although it is not once in a while, it has been continuously failing for 10 minutes. I am locked out until this fixes itself or is fixed.\n. ",
    "augnustin": "Got it while running heroku fork ...\n```\n$ heroku fork -a appname appname-staging --region eu\nCreating fork appname-staging... done\nCopying slug... done\nAdding deployhooks:email... skipped (email hook is missing config: recipient)\nAdding newrelic:wayne... done\nAdding papertrail:choklad... done\nAdding pgbackups:plus... done\nAdding pusher:sandbox... done\nAdding scheduler:standard... done\nAdding heroku-postgresql:crane... done\nWaiting for database to be ready (this can take some time)... failed\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       getaddrinfo: Name or service not known (SocketError)\nBacktrace:   /usr/lib/ruby/1.9.1/net/http.rb:762:in `initialize'\n             /usr/lib/ruby/1.9.1/net/http.rb:762:in `open'\n             /usr/lib/ruby/1.9.1/net/http.rb:762:in `block in connect'\n             /usr/lib/ruby/1.9.1/timeout.rb:54:in `timeout'\n             /usr/lib/ruby/1.9.1/timeout.rb:99:in `timeout'\n             /usr/lib/ruby/1.9.1/net/http.rb:762:in `connect'\n             /usr/lib/ruby/1.9.1/net/http.rb:755:in `do_start'\n             /usr/lib/ruby/1.9.1/net/http.rb:744:in `start'\n             /usr/local/heroku/vendor/gems/rest-client-1.6.7/lib/restclient/request.rb:172:in `transmit'\n             /usr/local/heroku/vendor/gems/rest-client-1.6.7/lib/restclient/request.rb:64:in `execute'\n             /usr/local/heroku/vendor/gems/rest-client-1.6.7/lib/restclient/request.rb:33:in `execute'\n             /usr/local/heroku/vendor/gems/rest-client-1.6.7/lib/restclient/resource.rb:51:in `get'\n             /usr/local/heroku/lib/heroku/command/fork.rb:147:in `block (2 levels) in wait_for_db'\n             /usr/local/heroku/lib/heroku/command/fork.rb:145:in `loop'\n             /usr/local/heroku/lib/heroku/command/fork.rb:145:in `block in wait_for_db'\n             /usr/local/heroku/lib/heroku/helpers.rb:236:in `action'\n             /usr/local/heroku/lib/heroku/command/fork.rb:144:in `wait_for_db'\n             /usr/local/heroku/lib/heroku/command/fork.rb:65:in `block in index'\n             /usr/local/heroku/lib/heroku/command/fork.rb:45:in `each'\n             /usr/local/heroku/lib/heroku/command/fork.rb:45:in `index'\n             /usr/local/heroku/lib/heroku/command.rb:213:in `run'\n             /usr/local/heroku/lib/heroku/cli.rb:28:in `start'\n             /usr/local/heroku/bin/heroku:25:in `<main>'\n\nCommand:     heroku fork -a appname appname-staging --region eu\nVersion:     heroku-toolbelt/3.0.1 (x86_64-linux) ruby/1.9.3\n\n```\n. ",
    "sampritipanda": "It seems like this error happens when your internet connection drops for a moment or two. This isn't a bug with the heroku client\n. ",
    "adamburmister": "```\nAdding heroku-postgresql:dev... skipped (Could not communicate with vendor, please try again later)\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method `[]' for nil:NilClass (NoMethodError)\nBacktrace:   /Users/adam/.heroku/client/lib/heroku/command/fork.rb:57:in `block in index'\n             /Users/adam/.heroku/client/lib/heroku/command/fork.rb:45:in `each'\n             /Users/adam/.heroku/client/lib/heroku/command/fork.rb:45:in `index'\n             /Users/adam/.heroku/client/lib/heroku/command.rb:206:in `run'\n             /Users/adam/.heroku/client/lib/heroku/cli.rb:28:in `start'\n             /usr/local/heroku/bin/heroku:24:in `<main>'\n\nCommand:     heroku fork [my app] --region eu\nVersion:     heroku-toolbelt/2.39.0 (x86_64-darwin10.8.0) ruby/1.9.3\n\n```\n. Update: So I attempted to add a production tier postgres DB to the forked app (which failed on db migration) - that also raises an error, so in my professional opinion, something is fuuuucked.\nheroku addons:add heroku-postgresql:crane\nAdding heroku-postgresql:crane on app... failed\n! Could not communicate with vendor, please try again later\n. ",
    "phoet": "same problem in #776\n. @ddollar what's the recommended way of retrying? deleting the newly created eu instance and than do it again?\n. :+1: \n. @ndemoreau i guess it's a new issue then\n. i guess that @ddollar will start investigating and re-open the ticket if that's appropriate\n. jip, i will close this one.\n. ",
    "basti": "I don't think that this is region specific. I get the same error when trying to fork in US region.\nHere is error:\n```\nAdding heroku-postgresql:dev... skipped (Could not communicate with vendor, please try again later)\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method `[]' for nil:NilClass (NoMethodError)\nBacktrace:   /Users/basti/.heroku/client/lib/heroku/command/fork.rb:57:in `block in index'\n             /Users/basti/.heroku/client/lib/heroku/command/fork.rb:45:in `each'\n             /Users/basti/.heroku/client/lib/heroku/command/fork.rb:45:in `index'\n             /Users/basti/.heroku/client/lib/heroku/command.rb:206:in `run'\n             /Users/basti/.heroku/client/lib/heroku/cli.rb:28:in `start'\n             /usr/bin/heroku:24:in `<main>'\n\nCommand:     heroku fork -a [my_source_app] [my_new_app]\nVersion:     heroku-toolbelt/2.39.0 (x86_64-darwin10.8.0) ruby/1.9.3\n\n```\n. ",
    "ichilton": "Same problem here....\nheroku-toolbelt/2.39.0 (x86_64-linux) ruby/1.9.3\n. Whoops, same issue as #775 ...\n. ",
    "timmillwood": "Same here:\n```\n$ heroku fork --region eu\nCreating fork millwoodonline-265... done\nCopying slug... done\nAdding blitz:250... done\nAdding cloudinary:starter... done\nAdding memcachier:dev... done\nAdding newrelic:standard... done\nAdding pgbackups:auto-month... done\nAdding sendgrid:starter... done\nAdding heroku-postgresql:dev... skipped (Could not communicate with vendor, please try again later)\n!    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method `[]' for nil:NilClass (NoMethodError)\nBacktrace:   /usr/local/heroku/lib/heroku/command/fork.rb:57:in `block in index'\n             /usr/local/heroku/lib/heroku/command/fork.rb:45:in `each'\n             /usr/local/heroku/lib/heroku/command/fork.rb:45:in `index'\n             /usr/local/heroku/lib/heroku/command.rb:206:in `run'\n             /usr/local/heroku/lib/heroku/cli.rb:28:in `start'\n             /usr/local/heroku/bin/heroku:25:in `<main>'\n\nCommand:     heroku fork --region eu\nPlugins:     heroku-adminium\n             heroku-config\n\nVersion:     heroku-toolbelt/2.39.0 (x86_64-linux) ruby/1.9.3\n\n```\n. ",
    "Stefkovic": "Same problem here\n. ",
    "petrbela": "Great, thanks David!\n. ",
    "ndemoreau": "I don't think this issue should be closed. I just had the same problem two minutes ago\n. @phoet: Would you open a new one or re-open this one? I'm having exactly the same symptoms\n. I gave it another try this morning and it worked fine... Thanks.\n. ",
    "chaekit": "Creating fork popularpays-api-staging... done\nCopying slug... done\nAdding blitz:250... skipped (Please verify your account to install this add-on\nFor more information, see http://devcenter.heroku.com/categories/billing\nVerify now at https://heroku.com/verify)\nAdding memcachier:dev... skipped (Please verify your account to install this add-on\nFor more information, see http://devcenter.heroku.com/categories/billing\nVerify now at https://heroku.com/verify)\nAdding newrelic:standard... skipped (Please verify your account to install this add-on\nFor more information, see http://devcenter.heroku.com/categories/billing\nVerify now at https://heroku.com/verify)\nAdding openredis:micro... skipped (Please verify your account to install this add-on\nFor more information, see http://devcenter.heroku.com/categories/billing\nVerify now at https://heroku.com/verify)\nAdding pgbackups:auto-month... skipped (Please verify your account to install this add-on\nFor more information, see http://devcenter.heroku.com/categories/billing\nVerify now at https://heroku.com/verify)\nAdding scheduler:standard... skipped (Please verify your account to install this add-on\nFor more information, see http://devcenter.heroku.com/categories/billing\nVerify now at https://heroku.com/verify)\nAdding sendgrid:starter... skipped (Please verify your account to install this add-on\nFor more information, see http://devcenter.heroku.com/categories/billing\nVerify now at https://heroku.com/verify)\nAdding ssl:endpoint... skipped (Please verify your account to install this add-on\nFor more information, see http://devcenter.heroku.com/categories/billing\nVerify now at https://heroku.com/verify)\nAdding heroku-postgresql:ronin... skipped (Please verify your account to install this add-on\nFor more information, see http://devcenter.heroku.com/categories/billing\nIn my case, I was trying to fork with my personal account, which is a collaborator but don't have the super user privilege. Once I tried it again with the admin account, it worked smoothly.\n. ",
    "dustinmcbride": "@czhae thanks. Forked worked great after logging in as the admin account\n. ",
    "judofyr": "I'm getting the same error here.\n. Duplicate of #775?\n. ",
    "leonardok": "Same thing here\n. ",
    "rpuranik": "hi, yep -- looks like it was a one time thing! thanks a lot for the\nfollowup :)\nOn Sun, May 26, 2013 at 7:31 PM, Joseph Caudle notifications@github.comwrote:\n\n@rpuranik https://github.com/rpuranik have you seen any improvement on\nthis issue?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/781#issuecomment-18478792\n.\n\n\n\nROHAN PURANIK  *  |  847 227 7657  |  www.mindsumo.com\n. Looks like this has been fixed!\n. \n",
    "joshprice": "I just got the same error while forking an app:\n```\nCreating fork ... done\nCopying slug... done\nAdding flying_sphinx:wooden... \nThis action will cause your account to be billed at the end of the month\nFor more information, see https://devcenter.heroku.com/articles/usage-and-billing\nAre you sure you wish to continue? (y/n) y\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method `[]' for nil:NilClass (NoMethodError) (Excon::Errors::SocketError)\nBacktrace:   /Users/josh/.heroku/client/vendor/gems/excon-0.22.1/lib/excon/response.rb:36:in `parse'\n             /Users/josh/.heroku/client/vendor/gems/excon-0.22.1/lib/excon/connection.rb:352:in `response'\n             /Users/josh/.heroku/client/vendor/gems/excon-0.22.1/lib/excon/connection.rb:249:in `request'\n             /Users/josh/.heroku/client/vendor/gems/heroku-api-0.3.11/lib/heroku/api.rb:76:in `request'\n             /Users/josh/.heroku/client/lib/heroku/auth.rb:20:in `request'\n             /Users/josh/.heroku/client/vendor/gems/heroku-api-0.3.11/lib/heroku/api/apps.rb:27:in `get_app'\n             /Users/josh/.heroku/client/lib/heroku/command/fork.rb:23:in `index'\n             /Users/josh/.heroku/client/lib/heroku/command.rb:206:in `run'\n             /Users/josh/.heroku/client/lib/heroku/cli.rb:28:in `start'\n             /usr/local/heroku/bin/heroku:24:in `<main>'\n\nCommand:     heroku fork -a staging-app app\nPlugins:     heroku-aspen-migrate\nVersion:     heroku-toolbelt/2.39.4 (x86_64-darwin10.8.0) ruby/1.9.3\n\n```\n. ",
    "SebastianGerard": "Does anybody solve this problem? I have the same problem when snap-ci runs my app:\n$ heroku apps | grep '^yosistemas-staging\\b' || heroku create --no-remote 'yosistemas-staging' --stack 'cedar'\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       undefined method[]' for nil:NilClass (NoMethodError) (Excon::Errors::SocketError)\nBacktrace:   /var/go/.heroku/client/vendor/gems/excon-0.25.3/lib/excon/response.rb:36:in parse'\n             /var/go/.heroku/client/vendor/gems/excon-0.25.3/lib/excon/middlewares/response_parser.rb:6:inresponse_call'\n             /var/go/.heroku/client/vendor/gems/excon-0.25.3/lib/excon/connection.rb:349:in response'\n             /var/go/.heroku/client/vendor/gems/excon-0.25.3/lib/excon/connection.rb:247:inrequest'\n             /var/go/.heroku/client/vendor/gems/heroku-api-0.3.15/lib/heroku/api.rb:76:in request'\n             /var/go/.heroku/client/lib/heroku/auth.rb:20:inrequest'\n             /var/go/.heroku/client/vendor/gems/heroku-api-0.3.15/lib/heroku/api/apps.rb:18:in get_apps'\n             /var/go/.heroku/client/lib/heroku/command/apps.rb:23:inindex'\n             /var/go/.heroku/client/lib/heroku/command.rb:213:in run'\n             /var/go/.heroku/client/lib/heroku/cli.rb:28:instart'\n             /usr/local/bin/heroku:24:in `'\nCommand:     heroku apps\nVersion:     heroku-toolbelt/3.1.0 (x86_64-linux) ruby/1.9.3\n```\n!    Internal server error.\n !    Run heroku status to check for known platform issues.\n. ",
    "softwaregravy": "Awesome! we'll make the switch\n. heroku.rb seems to not have feature parity. It's missing pg backup client. Is this library existing anywhere else?\nhttps://github.com/heroku/heroku/blob/master/lib/heroku/client/pgbackups.rb\nAlso, and this is more subjective, the interface is of this client is cleaner when parsing out the response. See example:\nruby\n-      heroku = Heroku::Client.new(ENV['HEROKU_USER'], ENV['HEROKU_PASSWORD'])\n-      ventura_configs = heroku.config_vars(\"myappname\")\n-      ventura_configs[\"PGBACKUPS_URL\"]\n+      heroku = Heroku::API.new(:username => ENV['HEROKU_USER'], :password => ENV['HEROKU_PASSWORD'])\n+      ventura_configs = heroku.get_config_vars(\"myappname\")\n+      ventura_configs.data[:body][\"PGBACKUPS_URL\"]\n. ",
    "shirshendu": "This is partially solved, at least in the latest release.\nDyno type seems to work fine : heroku logs tail --ps web\nmultiple dynos/dyno types (heroku logs --tail ps web,heroku-postgres) do not work.\nI don't think that is supported even at the logplex filters level\nIs this still valid as an issue?\n. This is a very old issue, and might have been fixed in the past 21 months or so. Does this problem persist with the latest version of the Heroku CLI?\n. Were you able to resolve this, or this still a valid issue with the latest version of the heroku CLI?\n. @dickeyxxx Apologies for not seeing this earlier; I would like to understand this change a bit better.\nThis would imply that the request_id is only surfaced when report is true, which is never because in lib/heroku/command.rb\nhttps://github.com/heroku/heroku/pull/1450/files#diff-b8c10b1653b4030aef2eada476d9a22aR232\nreport is being passed in as nil (which was the case before my PR as well, when it was not passed in at all).\nI originally made this change for only non-rollbar error method calls. I'm having difficulty in finding the error method calls which have report true. Could you please guide me to them? The error object needs to be passed in for them, else this request ID is never printed...\n. ",
    "ejholmes": "Done!\n. ",
    "chadbailey59": "@royalghost if you're still experiencing issues let us know, but this was almost certainly a transient network issue.\n. I think this is a connectivity issue on your end. If you're still experiencing this problem, feel free to reopen. Thanks!\n. @uhoh-itsmaciek I added what I think you're asking for, although I can't test it, because I seem to have put my test app in a wierd unknown state. Also, I didn't see a spec at spec/heroku/command/pg_backups_spec.rb, so I didn't add tests. There probably should be some nil checks at least. :postal_horn: SO BEWARE :postal_horn: \n. Seems to be related to https://support.heroku.com/tickets/200070 . Who do I talk to about merging, etc?\n. @uhoh-itsmaciek , I changed it to quiet. (I didn't like suppress anyway.)\n@will re: our discussion in HipChat: I agree this isn't necessary because of the TTY stuff. But we've had public-url in the wild for a day now, and I already got a ticket about how \"this extra line of text is going to break my scripts\", and I know it won't be the first. Honestly, it was quicker for me to write this code than to figure out how to fit an explanation of the TTY behavior into heroku help pg:backups public-url.\nThat said, if consensus is that this is a bad idea, I'm happy to trash it.\n. Also, two bug fixes:\n1. Restores that came from htcat wouldn't show in restores.\n2. If an app had no backups but did have restores/copies, they wouldn't show because 'no backups' was using the error helper, which (helpfully) exits.\n3. Stopped telling users to look in their logs for nonexistent backup output. :trollface: Instead, directs them to run pg:backups info bXXX\n. I removed the ruby-version file. I also limited the restore and copy outputs to the 20 most recent.\nI absolutely think @neovintage 's concern about cross-app restores is valid. I noticed it too when I was testing, but I'm trying to keep this as limited in scope as possible to get the bugfixes out.\n. I just pushed a commit limiting to the last 10 operations each. It'll show\n10 most recent restores and 10 most recent pg:copy operations.\nAs far as the web, I'm not sure.\nOn Tue, Apr 28, 2015 at 10:55 AM, Rimas Silkaitis notifications@github.com\nwrote:\n\nIs that 20 total across both or each? I would suggest limiting to last\n10 in each.\nWhat about the web interface to all of this?\nOn Tuesday, April 28, 2015, chadbailey59 notifications@github.com wrote:\n\nI removed the ruby-version file. I also limited the restore and copy\noutputs to the 20 most recent.\nI absolutely think @neovintage https://github.com/neovintage 's\nconcern\nabout cross-app restores is valid. I noticed it too when I was testing,\nbut\nI'm trying to keep this as limited in scope as possible to get the\nbugfixes\nout.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/pull/1513#issuecomment-97106112.\n\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/pull/1513#issuecomment-97115133.\n. I see what you're saying, Bo. And with all the new attachment stuff, it would make sense to solve this generically, as I've just made it worse on my app:\n\n```\n=== Attachments for cb-rails3\nName                        Add-on                  Billing App\n\nCHAD_CHARCOAL               rolling-freely-9510     cb-rails3\nDATABASE                    reading-amply-3184      cb-rails3\nDEPLOYHOOKS_HTTP            waking-carefully-7264   cb-rails3\nHEROKU_POSTGRESQL_AQUA      hoping-newly-5893       cb-rails3\nHEROKU_POSTGRESQL_BLUE      relaxing-slyly-9935     cb-rails3\nHEROKU_POSTGRESQL_CHARCOAL  rolling-freely-9510     cb-rails3\nHEROKU_POSTGRESQL_COBALT    reading-amply-3184      cb-rails3\nHEROKU_POSTGRESQL_PINK      blooming-idly-4485      cb-rails3\nHEROKU_POSTGRESQL_YELLOW    cooking-carefully-9671  cb-rails3\n```\nAnd sure enough, CHAD_CHARCOAL and HEROKU_POSTGRESQL_CHARCOAL are the same database, and they're listed twice in pg:info.\nI'd like @neovintage to comment on this if possible, too. Since pg customers are used to using the attachment names by color already, what if we made one tweak to your proposed output?\n```\n$ heroku pg:info\n=== DATABASE, HEROKU_POSTGRESQL_CYAN\nAddon:       glistening-goldly-8123\nPlan:        Hobby-dev\nStatus:      Available\nConnections: 0/20\nPG Version:  9.4.1\nCreated:     2015-05-13 05:42 UTC\nData Size:   6.4 MB\nTables:      0\nRows:        0/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n=== HEROKU_POSTGRESQL_BLACK\nAddon:       shining-sweetly-1354\nPlan:        Hobby-dev\nStatus:      Available\nConnections: 0/20\nPG Version:  9.4.1\nCreated:     2015-05-13 05:42 UTC\nData Size:   6.4 MB\nTables:      0\nRows:        0/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n$ heroku pg:info CYAN\n=== DATABASE, HEROKU_POSTGRESQL_CYAN\nAddon:       glistening-goldly-8123\nPlan:        Hobby-dev\nStatus:      Available\nConnections: 0/20\nPG Version:  9.4.1\nCreated:     2015-05-13 05:42 UTC\nData Size:   6.4 MB\nTables:      0\nRows:        0/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n$ heroku pg:info shining-sweetly-1354\n=== HEROKU_POSTGRESQL_BLACK\nAddon:       shining-sweetly-1354\nPlan:        Hobby-dev\nStatus:      Available\nConnections: 0/20\nPG Version:  9.4.1\nCreated:     2015-05-13 05:42 UTC\nData Size:   6.4 MB\nTables:      0\nRows:        0/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n``\n. We're flirting with a larger conversation here. :) As far as I'm aware, Heroku Postgres is still the only addon _(right now)_ in widespread use that has the complexity of multiple addons and attachments. In our view:\n- Customers provision addons with unique names likeglistening-goldly-1234.\n- Those addons attach to apps with names likeHEROKU_POSTGRESQL_RED.\n- We create and manage aURLconfig var for each attachment, which ends up being calledHEROKU_POSTGRESQL_RED_URL.\n- We also recommend the convention of usingDATABASE_URLas the URL of the \"primary database\" of your application.\n- We also provide tools to make that convention easier for customers, such asheroku pg:promote`.\nHell, I work here, and I think that's about 95% right. In the customer's view:\n- I add a database to my app. It gives me a DATABASE_URL as well as this weird HEROKU_POSTGRESQL_RED_URL config var.\n- I add another database. Now I also have HEROKU_POSTGRESQL_BLUE_URL.\n- Sometimes when I run heroku pg commands, I can just use a color, like heroku pg:info BLUE. Sometimes I can run them with no color, and it uses my DATABASE_URL.\nI don't think our customers really understand the whole \"addons and attachments\" thing yet, because they've never had to. We might need to take some baby steps here.\nAs I've thought about it more, I wonder if we could ease them in with something like:\n=== HEROKU_POSTGRESQL_CYAN, HEROKU_POSTGRES_MAROON, FOO (DATABASE_URL)\nOr maybe even have a separate section in the output like:\nPrimary Database (DATABASE_URL): HEROKU_POSTGRESQL_MAROON\nYou can change your primary database with `heroku pg:promote`.\nMy reasoning behind that is DATABASE_URL isn't really an attachment per se; it's a special config variable, but one that is 'locked' to the value of a config variable from a specific attachment. I want customers to understand that addons are different than attachments, and DATABASE_URL is different from both.\n. Bo, thanks for laying all this out. I'm happy to be told so clearly how wrong my understanding is! :)\nI suspect I'm not the only person that still has the 'old' understanding, and there are a lot of places we should update our documentation to change our terminology. For example:\n```\n~ \u25b8 heroku help pg:promote\nUsage: heroku pg:promote DATABASE\nsets DATABASE as your DATABASE_URL\n```\nShould probably become something like:\n```\n~ \u25b8 heroku help pg:promote\nUsage: heroku pg:promote ADDON_OR_ATTACHMENT\nattaches ADDON_OR_ATTACHMENT as DATABASE, making it your primary database.\n```\nLikewise, we can reinforce the idea of 'attachments' with something like:\nAdd-on:        glistening-goldly-8123\nAttachments:   HEROKU_POSTGRESQL_CYAN, DATABASE\nPlan:          Hobby-dev\nStatus:        Available\nConnections:   0/20\nPG Version:    9.4.1\nCreated:       2015-05-13 05:42 UTC\nData Size:     6.4 MB\nTables:        0\nRows:          0/10000 (In compliance)\nFork/Follow:   Unsupported\nRollback:      Unsupported\n. @neovintage I think the header goes away, and it's just multiple of these:\n```\nAdd-on:        glistening-goldly-8123\nAttachments:   HEROKU_POSTGRESQL_CYAN, DATABASE\nPlan:          Hobby-dev\nStatus:        Available\nConnections:   0/20\nPG Version:    9.4.1\nCreated:       2015-05-13 05:42 UTC\nData Size:     6.4 MB\nTables:        0\nRows:          0/10000 (In compliance)\nFork/Follow:   Unsupported\nRollback:      Unsupported\nAdd-on:        chafing-uncomfortably-1357\nAttachments:   HEROKU_POSTGRESQL_ORANGE\nPlan:          Hobby-dev\nStatus:        Available\nConnections:   0/20\nPG Version:    9.4.1\nCreated:       2015-05-13 05:42 UTC\nData Size:     6.4 MB\nTables:        0\nRows:          0/10000 (In compliance)\nFork/Follow:   Unsupported\nRollback:      Unsupported\n```\nThe goal being to get people thinking about addons and attachments as 'peers', if you will.\n. @neovintage @bjeanes any thoughts? I know my most recent suggestion will cause a bit of a stir, but I think it helps Bo's message about addons and attachments. I can make the changes if that would help\u2014I just want us to all be on the same page first.\n. I'm fine with that. For clarity's sake, the new output would look like:\n```\n$ heroku pg:info\n=== DATABASE, HEROKU_POSTGRESQL_CYAN\nAddon:       glistening-goldly-8123\nPlan:        Hobby-dev\nStatus:      Available\nConnections: 0/20\nPG Version:  9.4.1\nCreated:     2015-05-13 05:42 UTC\nData Size:   6.4 MB\nTables:      0\nRows:        0/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n=== HEROKU_POSTGRESQL_BLACK\nAddon:       shining-sweetly-1354\nPlan:        Hobby-dev\nStatus:      Available\nConnections: 0/20\nPG Version:  9.4.1\nCreated:     2015-05-13 05:42 UTC\nData Size:   6.4 MB\nTables:      0\nRows:        0/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n$ heroku pg:info CYAN\n=== DATABASE, HEROKU_POSTGRESQL_CYAN\nAddon:       glistening-goldly-8123\nPlan:        Hobby-dev\nStatus:      Available\nConnections: 0/20\nPG Version:  9.4.1\nCreated:     2015-05-13 05:42 UTC\nData Size:   6.4 MB\nTables:      0\nRows:        0/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n$ heroku pg:info shining-sweetly-1354\n=== HEROKU_POSTGRESQL_BLACK\nAddon:       shining-sweetly-1354\nPlan:        Hobby-dev\nStatus:      Available\nConnections: 0/20\nPG Version:  9.4.1\nCreated:     2015-05-13 05:42 UTC\nData Size:   6.4 MB\nTables:      0\nRows:        0/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n```\n@bjeanes , if you're OK with that, I can probably work on it...\n. > Thinking more about the language, though, I wonder if \"Completed with 10 warnings\" isn't going to be interpreted as \"My backup completed, but there's some stuff that I should look at some point maybe,\" whereas it could actually mean, \"Made some progress but died halfway through.\"\nI've been presuming these are all cases of the former, not the latter. Won't pg_restore error out if something truly terrible happens? The case we're trying to cover for here is when pg_restore thinks it completed successfully while ignoring a few \"\"\"minor\"\"\" errors. pg_restore seemed to determine they were OK to ignore, so after several laps in my head, I think i'm in favor of tef's original wording of \"Finished\" and \"warnings\".\n. /me shakes his fist at pg_backups\nI like Rimas's most recent list. Using \"Completed\" when we know it was good, but a more ambiguous \"Finished\" when we can't be sure.\n. @tef are you OK with merging this? I'd like to get this fixed so I can get back to sudo-ing properly :)\n. I agree we should require an argument. :)\n. ",
    "jaime19683": "Install from the tarbell (vice using the installer) worked around this problem.\n. ",
    "myusuf3": "moved issue to heroku/heroku-pg-extras#29\n. ",
    "gregburek": "This is a confirmed bug that is most reproducible with kappa and crane dbs. Looking at the backtrace, the fork command is not getting the expected message from the addon:add command to parse. For production dbs, the wait for this message can be 5-10 seconds, and if fork is not waiting, it will fail. dev/basic and ronin up dbs are able to return faster, but may also fail. \n. Would this display DATABASE_URL or HEROKU_POSTGRES_COLOR when invoked with no db target?\n. Ah I see the example above. I think this is good for explicitly handling this behavior. \n. thumbs up\n. LGTM!\n. ",
    "vbaranov": "It works only with windows user on latin\n. ",
    "Hanamant-Kadlimatti": "how to install heroku standalone toolbelt\nhelp me\n. The requested API endpoint was not found. Are you using the right HTTP verb (i.e. GET vs. POST), and did you specify your intended version with the Accept header?\nHi Iam getting above error.\nMy heroku version is\nheroku/toolbelt/3.43.5 (i386-mingw32) ruby/2.1.7\nheroku-cli/5.2.23-0daa80b (windows-386) go1.6.2\nhelp me\n. ",
    "sevaTechoPark": "awesome. ",
    "bartels": "+1. I think this would be a good feature.  The \"No app specified\" error was a point of confusion for me, and I've noticed others I have introduced to heroku have also run into this problem.  For some projects it is common to be in a subdirectory instead of the top level of the git repo.\nThe heroku cli tool could traverse parent directories looking for a git repo in the case that it isn't the current working directory.\n. ",
    "sunnyking": "Verified local dns server issue.\n. ",
    "jedrekdomanski": "Did you manage to resovle this problem?. ",
    "ngenerio": "@alfared use your command prompt in elevated mode.ie.run in administrative rights mode.\n. ",
    "Air-Craft": "Apparently this is (was?) an issue with the Heroku Toolbelt.  Installing the deprecated gem solved it:\nhttp://stackoverflow.com/questions/9389832/heroku-dbpush-fails-with-segfault\n. ",
    "dividedmind": "A friendly reminder. (Failed tests seem unrelated.)\n. Thanks for merging!\n(As for #674, I'm afraid it won't fix it, it looks totally unrelated.)\n. Yeah, the problem is with bash -- actually libreadline -- detecting a terminal and trying to handle it itself. You can work around this by turning off libreadline with --noediting switch:\n$ echo ls | heroku run bash --noediting -a divide\nRunning `bash --noediting` attached to terminal... up, run.4276\nls\n~ $ ~ $ exit\n$\n. ",
    "opsb": "This would be so useful, please merge it in :)\n. ",
    "pre": "Moved my comment to the open issue https://github.com/heroku/heroku/issues/1409\n. I have this same problem.:) I'm also trying to feed seed data to Rake from STDIN. \nCommand:\ncat FILENAME | heroku run bash --noediting -c \"rake db:seed:TASKNAME\"\nThree notes:\n1) If FILENAME has only a small amount of lines, reading from STDIN will always succeed, rake will receive EOF as expected and the process will stop eventually.\n2) If FILENAME has 900 lines of plain text (56kB), reading from STDIN line-by-line STDIN.each do |line| will succeed, but rake will not receive EOF and the process will not stop.\n3) If FILENAME has 900 lines of plaintext (56kB), reading from STDIN all-at-once lines = STDIN.read will echo contents on the screen, but rake will not receive EOF and will not process lines. Process will not stop.\nheroku-toolbelt/3.43.9 (x86_64-darwin15) ruby/2.3.1\nheroku-cli/5.2.39-010a227 (darwin-amd64) go1.6.2\n=== Installed Plugins\nheroku-certs@1.1.14\nExample Rake task:\n``` ruby\nnamespace :seed do\n  task :all_at_once do  \n    lines = STDIN.read\n    puts \"Got lines:\"\n    puts lines\n  end\ntask :line_by_line do\n    STDIN.each do |line|\n      puts \"Got line:\"\n      puts line\n    end\n  end\nend\n``\n. Related:\n- https://github.com/heroku/heroku/issues/1336\n- https://github.com/heroku/heroku-run/commit/eabaf6c9badfc3f73613a8e8d9b60d20489011ad\n. You know what, it works with--no-tty`! Thanks @ransombriggs! \nYesterday I settled to a  workaround where the Rake task reads from STDIN and I copypaste the data into the terminal. But this is better. :) \nBoth of the following commands work for both reading stdin all-at-once and line-by-line:\n- cat FILENAME | heroku run --no-tty rake db:seed:TASKNAME\n- heroku run --no-tty rake db:seed:TASKNAME < FILENAME\n. ",
    "diatmpravin": "You did't specified file name.\n$ heroku logs --t --app demo_app | cat > demo_app_log.txt\n. ",
    "RedXVII": "@diatmpravin It doesn't print anything in demo_app_log.txt for me.\nBesides, I might not want to redirect my output to a file, i used cat because it was the most obvious example, but here I just want to redirect the logs to a binary of my own, and the pipe isn't working.\n. ",
    "rattrayalex": "FWIW, it does appear that heroku --log -t > some_file.log works, and you can tail -f some_file.log | program as a workaround \n. ",
    "YadrovSergey": "I have the same problem.\n. \n. Work if in updater.rb commented line number 144\nbackground_update!\n. ",
    "kgrz": "@cfc1020 @YadrovSergey Are you both using the heroku-toolbelt? If yes, which version? If not, please try the same with the toolbelt.\nFrom the last line of your error message, it is clear that the heroku_binary value gets evaluated to C:/Program Files (x86)/Heroku/bin/heroku whereas, as you mentioned, the binary is sitting at C:/Program Files (x86)/Heroku/heroku. Is there a file at C:/Program Files (x86)/Heroku/bin/heroku? \nfrom C:/Program Files (x86)/Heroku/bin/heroku:24:in'\n(As a hack, you might want to try copying the exising heroku binary into C:/Program Files (x86)/Heroku/bin if it didn' t exist alread and see if it gets fixed)\n. Assuming you installed the toolbelt, do you have rest_client in your gem list?\n. *have not installed\n. Right. Using the gem did throw the same error for me but using heroku-toolbelt did not. \n. @poke I opened a PR but you should be using the heroku-toolbelt since the support for the gem would stop one day or the other. :)\n. Do post the output in a gist if you need another brain working for you.\nOn Wednesday, July 3, 2013, Patrick Westerhoff wrote:\n\nI know that the toolbelt is the more recommended way to get the tools,\nhowever I looked at the contents of a toolbelt installation and there is\nreally just the heroku gem bundled with a Ruby installation. The gem itself\nis identical, so there should not be a difference between them, and I\nrather prefer using my own Ruby installation for this than to have a\nduplicate one lying around for a single tool.\nAnyway, thanks for your pull request, it fixed the problem for me.\nUnfortunately I already ran into the next one which is unrelated to this\none though\u2026\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/832#issuecomment-20407322\n.\n\n\nKashyap KMBC\n. Try using the heroku-toolbelt and see if this problem goes. It looks like a configuration error on part of the heroku-gem which might not happen in the case of the toolbelt since it packs certain settings that are unavailable in the individual gems.\n. ",
    "krll-k": "C:\\Program Files\\ConEmu>heroku login\nC:/Program Files/Heroku/lib/heroku/updater.rb:164:in spawn': No such file or directory - open (Errno::ENOENT)\n        from C:/Program Files/Heroku/lib/heroku/updater.rb:164:inbackground_update!'\n        from C:/Program Files/Heroku/lib/heroku/updater.rb:144:in inject_libpath'\n        from C:/Program Files/Heroku/bin/heroku:24:in'\nC:\\Program Files\\ConEmu>heroku\nC:/Program Files/Heroku/lib/heroku/updater.rb:164:in spawn': No such file or directory - open (Errno::ENOENT)\n        from C:/Program Files/Heroku/lib/heroku/updater.rb:164:inbackground_update!'\n        from C:/Program Files/Heroku/lib/heroku/updater.rb:144:in inject_libpath'\n        from C:/Program Files/Heroku/bin/heroku:24:in'\nC:\\Program Files\\ConEmu>heroku -v\nC:/Program Files/Heroku/lib/heroku/updater.rb:164:in spawn': No such file or directory - open (Errno::ENOENT)\n        from C:/Program Files/Heroku/lib/heroku/updater.rb:164:inbackground_update!'\n        from C:/Program Files/Heroku/lib/heroku/updater.rb:144:in inject_libpath'\n        from C:/Program Files/Heroku/bin/heroku:24:in'\nC:\\Program Files\\ConEmu>\n. ",
    "guilhermesgb": "I got the exact same issue with the most current version of the Toolbelt.\n. ",
    "Atala": "Ive got the same issue also (Windows 7 64 bits)\n. ",
    "4everyan": "I've got the same thing.\nWin7 x86, the heroku toolbeld installed correctly\nD:\\4everyan\\Documents\\heroku\\linkstart>heroku login\nD:/Programs/Heroku/lib/heroku/updater.rb:164:in `spawn': No such file or directory - open (Errno::ENOENT)\n        from D:/Programs/Heroku/lib/heroku/updater.rb:164:in `background_update!'\n        from D:/Programs/Heroku/lib/heroku/updater.rb:144:in `inject_libpath'\n        from D:/Programs/Heroku/bin/heroku:24:in `<main>'\n. ",
    "clown817": "I had the exact same problem.\nI edited the updater.rb file and replaced the line 164 with:\nspawn(\"\\\"#{heroku_binary}\\\" update\", {:err => \"lol\", :out => \"lol\"})\nIt allowed me to try to create a new key, but then failed because the ssh-keygen.exe from C:\\program files (x86)\\Git\\bin was not in the path....\nSetting the path properly got me a step forward, but right now I am stuck because I have non-ascii characters in my user name.\nWhat a perfect user first-time experience!\n. ",
    "Skoparov": "It's not a problem of charactes. It appears that they use linux-style path to find and upload certs in auth.rb file. I changed them to those which used in windows, and now it eventually generates and finds certificates, but when it tries to upload them, I just get not very informative \"application error\" thing.\n. ",
    "sudodoki": "Also, similar issue #798 was caused by username being not in latin\n. ",
    "polkovnikov-ph": "It's disgusting to see a piece of software in XXI which is still unaware of Unicode.\n. ",
    "ericmdantas": "Same for me.\nJust got Windows 8.1 and when I finished installing the heroku toolbelt and tried to run \"heroku --version\" that error was shown to me.\nI've read somewhere that this guy went to this line with the error and removed it, apparently solving the problem, but I just can't do that, it's like the file is locked somehow. Weird.\nDo we have any solution/workaround for this yet?\nThanks in advance!\n. That's what I ended up doing, hooper21.\n. ",
    "hooper21": "Colleagues,\nJust change the 164-th line of ./Heroku/lib/heroku/updater.rb to floowing if you don't need logs of updates:\nspawn(\"\\\"#{heroku_binary}\\\" update\")\nThat's all. This's case realy for non-lating accounts of Windows\nOr the second way you can chage declaration of log_path in the line 156. It's better way imho. For example:\nlog_path = File.join(File.expand_path(\"../../..\",  FILE ), '.heroku', 'autoupdate.log')\nBUT write \" FILE \" without spaces.\n. Hi again,\nThe best solution is to change your account name and profile's folder to a new with only latin symbols. Because there are a lot of other Ruby errors will be. The problem is in your profile folder's name (C:\\Users\\\u0430\u0431\u0440\u0430\u043a\u0430\u0434\u0430\u0431\u0440\u0430 such one) and system charset.\nOnly such way helped me. But please be carefully! If you are not sure don't do it.\n. ",
    "joopeed": "Same issue. I solved creating another user with name in latin, as hooper21 said.\n. ",
    "wang-li": "I solved the problem by changing the line\nlog_path = File.join(Heroku::Helpers.home_directory, '.heroku', 'autoupdate.log')\nYou have to replace Heroku::Helpers.home_directory by a string containing the short filename of your personal folder. Open a command line, and type :\ncd ..\ndir /x\nThen you will find the short name in a format like 'XXX~1'. So replace Heroku::Helpers.home_directory by 'C:\\Users\\XXX~1' and all will work properly.\n. ",
    "jgrau": "I realize that this issue is old, but as it is still open I will comment: See https://devcenter.heroku.com/articles/one-off-dynos#timeout-awaiting-process. I am experiencing the same thing. If I create a hotspot using my phone and connect to that hotspot from my computer everything works.\n. ",
    "tajniak2": "I had the same problem on Windows XP and I \"solved\" it the same way as you.\n. ",
    "luislavena": "@geemus the problem is that OpenSSL and OpenSSL ruby extension hardcode at compile time the location of DEFAULT_CONFIG_FILE\nWe discussed this in length at Ruby-Core, RubyInstaller and a few pull requests that requested us to patch OpenSSL and allow relative locations for those files.\nWe decided not to touch OpenSSL or Ruby C extension simply because patch didn't apply after a new release.\nWe also decided not to bundle a default cert bundle (like curl one) because certs expire every now and then and software releases stay for longer.\nThere is no an easy solution to this problem, as cert bundle will be needed to be bundled somewhere, if is not exconn will be heroku and if not, another gem. Perhaps that will be a nice alternative, as some Linux systems also suffer from this.\nI'm available to discuss this if you want.\n. > I strongly disagree with the decision by Ruby-Core to not include a default or fallback cert bundle.\nThe discussion around Ruby-Core is in the following bug report:\nhttps://bugs.ruby-lang.org/issues/6830\nAnd several threads in RubyInstaller mailing list:\nhttps://groups.google.com/forum/?fromgroups#!forum/rubyinstaller\nPlease note the following: the Ruby-Core thread states how wrong is the hardcoded values of OpenSSL, yet the changes required needs to land in OpenSSL and not Ruby, because, the real issue is OpenSSL and the relocation issues.\nPerhaps a pseudo gem that provides CA cert bundles can be created and that it adjust the necessary OpenSSL environment variables can be created, so excon and others can depend on it, reducing the issues not only for Ruby on Windows but other platforms that lack a certificate chain properly installed (or faulty due OpenSSL issues).\nFeel free to bring this conversation for Ruby on Windows at the above RubyInstaller group.\n. @poke I guess that installation of OpenSSL is not the one that comes with RubyInstaller, correct?\nSimply because the DEFAULT_CONFIG_FILE in both Ruby's C openssl extension and OpenSSL itself is hardcoded at built time.\nUnless you have OPENSSL_CONF environment variable set, that is the case?\n. @geemus there are two options on this, as I mentioned before:\n- Bundle curl's CA certs and point SSL_CERT_FILE environment variable to that file.\n- Build a gem that includes the root certificates from curl and make excon depend on it. This gem can do the bootstrapping of env variables for Excon to work.\nFirst option will soon become obsolete as the moment a new root certificate are updated.\nSecond option seems better, as you can define a open dependency (>= 0) for this gem and will always use the latest.\nThere has been a lot of gems that bundled cert files but hasn't been updated in ages.\nThis will also work for Ubuntu system that lack the SSL certs system package.\n. @geemus you're right, I missed Excon bundled the certs, that's great.\nThat means Excon should use SSL automatically on Windows, will try with get home later tonight.\n. @geemus sorry for the delay, but works without issues:\n```\nC:\\Users\\Luis>gem install excon\nFetching: excon-0.25.3.gem (100%)\nSuccessfully installed excon-0.25.3\n1 gem installed\nC:\\Users\\Luis>ruby -v\nruby 2.0.0p247 (2013-06-27) [i386-mingw32]\nC:\\Users\\Luis>irb\nDL is deprecated, please use Fiddle\nirb(main):001:0> require \"excon\"\n=> true\nirb(main):002:0> ENV[\"SSL_CERT_FILE\"]\n=> nil\nirb(main):003:0> conn = Excon.new \"https://rubygems.org\"\n=> #\nirb(main):004:0> resp = conn.get\n=> #\"<!DOCTYPE html>\\n\n```\nThere is no SSL_* environment variables set and it works without issues.\nThank you!\n. ",
    "poke": "@geemus \n\nCould one/all of you try this and let me know what you get on a windows vm/box?\nrequire 'openssl'\nputs(path = OpenSSL::Config::DEFAULT_CONFIG_FILE)\nputs(File.exists?(path))\n\nI have an OpenSSL installation on my machine, so I get the following output:\nC:\\Program Files (x86)\\OpenSSL-Win32\\bin\\openssl.cfg\ntrue\nI still get the Unable to verify certificate error though on heroku login (which is why I\u2019m here ;P). I also tested the excon master using your code snippet but it also fails.\n. @luislavena Yeah, it\u2019s a separate OpenSSL installation; and it really did set OPENSSL_CONF (didn\u2019t realize that before).\n. @geemus Uhm, I looked at the file now and it seems to be a \u201cOpenSSL example configuration\u201d. I didn\u2019t change anything about it (I don\u2019t really know much about OpenSSL). The dir of the default CA is set to ./demoCA which is a folder which exists at \\OpenSSL-Win32\\bin\\PEM\\demoCA. I\u2019m not sure if OpenSSL automatically looks inside the PEM directory or if I have to specify it explicitely. I tried changing the path to both ./PEM/demoCA and a full absolute path, but that didn\u2019t seem to have an effect. Is there any way I can test the OpenSSL configuration separately (i.e. without Ruby)?\nIn any way, the PEM directory has a lot certificates and the demoCA directory has a cacert.pem and a serial file.\n. Yes, I don\u2019t use the toolbelt, and gem list yields these results:\n*** LOCAL GEMS ***\n\u2026\nheroku (2.39.4)\nheroku-api (0.3.13)\n\u2026\nrest-client (1.6.7)\n\u2026\n. I  know that the toolbelt is the more recommended way to get the tools, however I looked at the contents of a toolbelt installation and there is really just the heroku gem bundled with a Ruby installation. The gem itself is identical, so there should not be a difference between them, and I rather prefer using my own Ruby installation for this than to have a duplicate one lying around for a single tool.\nAnyway, thanks for your pull request, it fixed the problem for me. Unfortunately I already ran into the next one which is unrelated to this one though\u2026\n. @kgrz See #834; the 64bit version of Ruby seems to be the root of all my problems. I have reverted to a 32bit version for now and it works there. That even fixed this problem (although your fix makes a lot of sense, so it should still make it in the code).\n. ",
    "rpisarev": "Got it. I'm not sure. Let's see what I can do.\n. Unfortunately, I am not a ruby \u200b\u200bprogrammer. Format rake could not make it work. However, support is simple: 1.ebuild-file is renamed according to the current version (its content does not vary and depends SRC_URI = \"http://assets.heroku.com/heroku-client/heroku-client.tgz\"), 2. (Not required) to re-create the Manifest. In Gentoo can re-create the Manifest command\n 'ebuild //heroku-.ebuild digest'.\nWe can do that, we, the users themselves :)\nCan be Gentoo-man, who knows how to write for rake.\n. ",
    "orip": "Thanks. I figured out the meaning of the uncaught exception :)\nThanks to Heroku support we also found and fixed the process that was abusing the API.\n. ",
    "rubydubee": "did you install heroku-toolbelt for all users? tried sudo ?\n. what is the output for rake:detached ?\n. Yes of course!\ndid you check the logs to view the output?\nwith heroku logs -p run.7251 or whatever process id(7251 in this case) you get when running the heroku run:detached rake db:migrate command?\n. FYI worked for me with a slightly older version:\nCommand: heroku fork night-fjord-2016 --app morning-fjord-2016\nVersion: heroku-toolbelt/2.39.0 (x86_64-darwin10.8.0) ruby/1.9.3\n. ",
    "temafedorov": "I used win 7. I was able to execute command with rake:detached heroku run rake:detached db:migrate\n. sorry, correct command as heroku run:detached rake db:migrate not rake:detached\noutput:\nRunning 'rake db:migrate' detached... up, run.7251\nUse 'heroku logs -p run.7251' to view the output.\n. ",
    "smundra1": "http://permalink.gmane.org/gmane.comp.sysutils.chef.user/10894\nNeed to manually delete openssl.cnf\nWorks....\n. Need to manually delete openssl.cnf... find the file on your machine and rename it to something else.... \nhttp://permalink.gmane.org/gmane.comp.sysutils.chef.user/10894\n. ",
    "Sevcansevcan": "i have the same issue . Hi,\nYes sure I have attached the error code.\nYou can read the version and some other details in the picture below.\n[cid:image001.jpg@01D255F2.DC15F9C0]\nFrom: Ransom Briggs [mailto:notifications@github.com]\nSent: Dienstag, 13. Dezember 2016 21:09\nTo: heroku/heroku heroku@noreply.github.com\nCc: Kertis, Sevcan (GE Healthcare) Sevcan.Kertis@ge.com; Mention mention@noreply.github.com\nSubject: EXT: Re: [heroku/heroku] getaddrinfo: No such host is known. (SocketError) (Excon::Erro rs::SocketError) (#830)\n@Sevcansevcanhttps://github.com/Sevcansevcan this is almost always a DNS issue, since this issue appears to be against very old code, would you mind pasting the error you receive currently, as well as the output of heroku version?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/heroku/heroku/issues/830#issuecomment-266847390, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AVH0NAMVdEc-dfenxIrwMMmw3COHxM2lks5rHvtpgaJpZM4Awnsk.\n. ",
    "ryankee": "I can back this issue up. As @rwdaigle points out, the error is thrown when the PG database provisioning fails. Here's the full dump:\n```\n$ heroku fork -a edited_existing_app_name edited_target_app_name\nCreating fork edited_target_app_name... done\nCopying slug... done\nAdding memcachier:dev... done\nAdding newrelic:standard... done\nAdding pgbackups:auto-month... done\nAdding heroku-postgresql:crane... skipped (Could not communicate with vendor, please try again later)\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method `[]' for nil:NilClass (NoMethodError)\nBacktrace:   /Users/ryankee/.heroku/client/lib/heroku/command/fork.rb:57:in `block in index'\n             /Users/ryankee/.heroku/client/lib/heroku/command/fork.rb:45:in `each'\n             /Users/ryankee/.heroku/client/lib/heroku/command/fork.rb:45:in `index'\n             /Users/ryankee/.heroku/client/lib/heroku/command.rb:206:in `run'\n             /Users/ryankee/.heroku/client/lib/heroku/cli.rb:28:in `start'\n             /usr/local/heroku/bin/heroku:24:in `<main>'\n\nCommand:     heroku fork -a edited_existing_app_name edited_target_app_name\nPlugins:     heroku-config\nVersion:     heroku-toolbelt/2.39.4 (x86_64-darwin10.8.0) ruby/1.9.3\n\n```\nRepeating the command shows the app has already been created:\n$ heroku fork -a edited_existing_app_name edited_target_app_name\nCreating fork edited_target_app_name... failed\n !    Name is already taken\n. ",
    "julkiewicz": "I can confirm this issue.\n. Is there any way of downgrading heroku client to an older, working version? The auto update gets in my way.\n. Yes, I realized that as well. I do use the latest version of the client.\n```\nAdding heroku-postgresql:crane... skipped (Could not communicate with vendor, please try again later)\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method []' for nil:NilClass (NoMethodError)\nBacktrace:   /Users/julk/.heroku/client/lib/heroku/command/fork.rb:64:inblock in index'\n             /Users/julk/.heroku/client/lib/heroku/command/fork.rb:52:in each'\n             /Users/julk/.heroku/client/lib/heroku/command/fork.rb:52:inindex'\n             /Users/julk/.heroku/client/lib/heroku/command.rb:218:in run'\n             /Users/julk/.heroku/client/lib/heroku/cli.rb:28:instart'\n             /usr/local/heroku/bin/heroku:24:in `'\nCommand:     heroku fork --app sourceapp destapp --region eu\nVersion:     heroku-toolbelt/3.2.2 (x86_64-darwin10.8.0) ruby/1.9.3\n```\n. As it worked 1/3 of the time I managed to get it through. I will let you know if I come across this problem again.\n. Unfortunately I got the problem again:\n```\nAdding heroku-postgresql:crane... skipped (Could not communicate with vendor, please try again later)\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method []' for nil:NilClass (NoMethodError)\nBacktrace:   /Users/julk/.heroku/client/lib/heroku/command/fork.rb:64:inblock in index'\n             /Users/julk/.heroku/client/lib/heroku/command/fork.rb:52:in each'\n             /Users/julk/.heroku/client/lib/heroku/command/fork.rb:52:inindex'\n             /Users/julk/.heroku/client/lib/heroku/command.rb:218:in run'\n             /Users/julk/.heroku/client/lib/heroku/cli.rb:28:instart'\n             /usr/local/heroku/bin/heroku:24:in `'\nCommand:     heroku fork --app sourceapp destapp --region eu\nVersion:     heroku-toolbelt/3.2.2 (x86_64-darwin10.8.0) ruby/1.9.3\n```\n. ",
    "Rastagong": "Hello,\nI'm using a 64-bit Windows 7 with Heroku Toolbet v3.2.2, and I've experienced the same issue, but only with the heroku logs command. I could login without any trouble.\nThen I stumbled upon issue #424 and found this fix by geemus which has since then been incorporated into master and deployed (I checked my lib/heroku/client.rb), but seemingly didn't work on my computer.\nSo I typed gem list and found the trick. There's no such thing as rest_client with an underscore on my computer, however there is a hyphenated rest-client: \n\n* LOCAL GEMS *\nbigdecimal (1.1.0)\ndotenv (0.9.0)\nforeman (0.61.0)\nio-console (0.3)\njson (1.5.5)\nmime-types (2.1)\nminitest (2.5.1)\nrack (1.5.2)\nrake (0.9.2.2)\nrdoc (3.9.5)\nrest-client (1.6.7)\nsequel (3.20.0)\nsinatra (1.0)\ntaps (0.3.24)\nthor (0.18.1)\n\nI replaced the underscore by a hyphen in lib/heroku/client.rb and it worked right away.\n. ",
    "blackblood": "Getting the same error. I recently installed ruby 2.1.3 on my windows 8 64 bit machine. Please fix this issue or let me know if there is a work around for this. thanks\n. Yes..its working with the heroku toolbelt. Thanks\n. ",
    "johnnygoodman": "I was unable to fix this by deleting openssl.conf. \nHowever, I was able to fix this by installing the heroku toolbelt and then deleting ALL old installations of the heroku gem. \n```\nmacbook:~ johnnygoodman$ gem uninstall heroku\nSelect gem to uninstall:\n 1. heroku-2.35.0\n 2. heroku-2.39.4\n 3. All versions\n\n3\nSuccessfully uninstalled heroku-2.35.0\nRemove executables:\n    heroku\n\nmacbook:~ johnnygoodman$ heroku login\nEnter your Heroku credentials.\nEmail: \nPassword (typing will be hidden):\nAuthentication successful.\n```\n. ",
    "dannyko": "i just got the same error... is this an internet connection problem? my connection seems to be fine.\n. ",
    "wilkinson": "This is a really simple edit, I know, but it would still be very useful in a number of situations. For example, to serve a GitHub Pages static content site over HTTPS, you can use Heroku's piggyback SSL by creating a Sinatra app whose public directory is a Git submodule. This edit helps correct the inconvenience (and confusion) that occurs when a collaborator types heroku git:clone --app crazy-train-1980 and finds out that all of the content is missing. I'm not sure if it matters that the Travis builds keep failing, but I'm pretty sure they're not failing because of this change :-)\n. ",
    "mciotola": "I have the same issue when running: \nheroku run rake db:migrate\n. ",
    "altV": "+1. with some application it works, though\n. ",
    "benguillet": "Same here with heroku-gem 2.35.0\n. ",
    "toddboom": "Same here with heroku-gem/2.39.4 (x86_64-darwin11.4.0) ruby/1.9.3\nHowever, it was just working about 10 minutes ago with the same setup, so I'm guessing it's an outage of some sort.\n. Seems to be back to normal now.\n. This is a dupe of #851 \n. ",
    "sandislin": "Seems to have resolved itself today.\n. ",
    "benmanns": "You're right. This was an issue until 56456d2945d47e9255de7948aad07d0d26fd343f. Closing now.\n. ",
    "jfranz": "Having the same issue here trying to run any command from the CLI.\n. I was able to solve my issue by running heroku run bundle \n. ",
    "gadybadger": "I'm getting this also... worked fine a few days ago.\n. Heroku Support suggested updating the heroku-pg-extras plugin... after doing that I was able to run restore again.\nheroku plugins:update heroku-pg-extras\n. I agree, the docs and the command help are a bit contradictory.\n. ",
    "ketzusaka": "I'm also getting this.\n. ",
    "tcollier": "Same here.\n. ",
    "waissbluth": "Same here. Other Ruby version though.\n```\n$ heroku pgbackups:restore HEROKU_POSTGRESQL_RED_URL 'https://my.url.com/db.dump'\n!    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       wrong number of arguments (1 for 2) (ArgumentError)\nBacktrace:   /Users/nwr/.heroku/plugins/heroku-pg-extras/lib/heroku/command/pgbackups.rb:51:in resolve'\n             /Users/nwr/.heroku/client/lib/heroku/command/pgbackups.rb:120:inrestore'\n             /Users/nwr/.heroku/client/lib/heroku/command.rb:206:in run'\n             /Users/nwr/.heroku/client/lib/heroku/cli.rb:28:instart'\n             /usr/bin/heroku:24:in `'\nCommand:     heroku pgbackups:restore HEROKU_POSTGRESQL_RED_URL https://my.url.com/db.dump\nPlugins:     heroku-pg-extras\n             heroku-pg-transfer\nVersion:     heroku-toolbelt/2.40.0 (x86_64-darwin10.8.0) ruby/1.9.3\n```\n. Sorry, just found a duplicate in https://github.com/heroku/heroku/issues/863\n. ",
    "mwaugh": ":+1: - seems to have worked for me\n. ",
    "elsurudo": "That did it for me, too. I don't remember seeing any message to upgrade that plugin, however. Thanks!\n. ",
    "gaganawhad": "Thanks for the update\n. ",
    "drale2k": "Updating heroku-pg-extrasplugin did it for me, thanks.\n. ",
    "tirsen": "I've started getting this again just now. Worked fine about 2 weeks ago.\nRunning heroku plugins:update heroku-pg-extras doesn't help because I believe pg-extras is no longer shipped as a plugin.\n```\n-> % heroku pgbackups:restore DATABASE https://s3.amazonaws.com/... --confirm triposo-www-staging --app triposo-www-staging\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       wrong number of arguments (1 for 2) (ArgumentError)\nBacktrace:   /home/www/.heroku/plugins/heroku-pg-extras/lib/heroku/command/pgbackups.rb:51:in `resolve'\n             /usr/local/heroku/lib/heroku/command/pgbackups.rb:120:in `restore'\n             /usr/local/heroku/lib/heroku/command.rb:218:in `run'\n             /usr/local/heroku/lib/heroku/cli.rb:28:in `start'\n             /usr/bin/heroku:25:in `<main>'\n\nCommand:     heroku pgbackups:restore DATABASE https://s3.amazonaws.com/... --confirm triposo-www-staging --app triposo-www-staging\nPlugins:     heroku-pg-extras\nVersion:     heroku-toolbelt/3.3.0 (x86_64-linux) ruby/1.9.3\n\n```\n. I've tried to put it doesn't work:\n-> % heroku plugins:update heroku-pg-extras\nUpdating heroku-pg-extras... failed\n !    heroku-pg-extras plugin not found.\nAnd:\n-> % heroku plugins\nYou have no installed plugins.\nI even tried installing the plugin:\nheroku plugins:install git://github.com/heroku/heroku-pg-extras.git\nStill doesn't work.\nI suspect something's terribly wrong with my system so I uninstalled\nheroku-toolbelt and ruby and installed again with apt-get. Still doesn't\nwork. :-(\nOn Tue, Feb 4, 2014 at 1:47 PM, Clint notifications@github.com wrote:\n\nRunning heroku plugins:update heroku-pg-extras doesn't help because I\nbelieve pg-extras is no longer shipped as a plugin.\nIt is still shipped as a plugin. Gradually some of the features are being\nmoved into the main CLI as we see fit, but not all of them will. Please try\nrunning heroku plugins:update heroku-pg-extras and let us know; I can't\nreproduce this :/\n\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/863#issuecomment-34055820\n.\n. Sorry, this is incredibly stupid but I ran the heroku plugins:update command as a separate user (a user which can sudo) because I believed the plugins were installed system wide. When I run the update as the user doing the restore it all worked fine. Thanks for your time!\n. \n",
    "ChargerIIC": "Having this issue as well.\n. ",
    "aylusltd": "Wanted to give this issue a bump. Had to install foreman manually in my build. The gem wasn't even there.\n. ",
    "ttunguz": "Yes, let's close it. thanks\nOn Wed, Nov 30, 2016 at 10:30 AM Todd Trimble notifications@github.com\nwrote:\n\n@ttunguz https://github.com/ttunguz, I have reliably been able to run heroku\nrun rake on a few apps recently. This issue looks to have been resolved.\nAre you still experiencing the problem? Can we close this issue?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/heroku/heroku/issues/870#issuecomment-263954360, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAb_ZiAngAGQkI707s9lud5NacKAbjCkks5rDcDJgaJpZM4A6DNw\n.\n. Resolved!\nOn Mar 6, 2015 7:55 PM, \"Shirshendu Mukherjee\" notifications@github.com\nwrote:\nWere you able to resolve this, or this still a valid issue with the latest\nversion of the heroku CLI?\n\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/881#issuecomment-77671941.\n. \n",
    "gsuess": "+1\n. ",
    "rajcybage": "travis failed due to different reason  Heroku::Plugin management reinstalls over old copies\nFailure/Error: File.read(\"#{@sandbox}/heroku_plugin/README\").should == \"test\\n\"\nErrno::ENOENT:\nNo such file or directory - /tmp/heroku_plugins_spec_1149/heroku_plugin/README\n. ",
    "jvbreen1": "If this issue is resolved, it should probably be closed.\n. @ThomasZhou were you able to resolve this issue?\n. Sorry, I wasn't clear. I'm not currently having the issue. I was combing through old issues and noticed this one lingering around. Can this issue be closed? \n. @dickeyxxx Is this still an issue?\n. @retyui is this resolved now? Are you still able to reproduce?\n. ",
    "matias-ocampo": "The error was related to ssh permissions. When I tried to use heroku command line client the error I got was the original one in this post, that doesn't tell me anything related to permission issue. When I tried to push code to my heroku app with SourceTree app I get the following error.\nPushing to git@heroku.com:kbappsdev2.git\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n@         WARNING: UNPROTECTED PRIVATE KEY FILE!          @\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\nPermissions 0644 for '/Users/altimetrik/.ssh/id_rsa' are too open.\nIt is recommended that your private key files are NOT accessible by others.\nThis private key will be ignored.\nSOLUTION:\nchmod 600 ~/.ssh/id_rsa\nAfter this, I successfully pushed code to heroku and heroku client works fine, no more issues.\n. ",
    "fredguth": "I got the same error.\n. Hi,\nI am not sure how I get the toolbelt version.\n\u279c  Work  heroku version\nheroku-gem/2.20.1\n\u279c  ~  ls -la .netrc\n-rw-------  1 fredguth  staff  201 13 Ago  2012 .netrc\nThanks for helping,\nFred\nOn Wed, Jan 15, 2014 at 5:22 PM, Clint notifications@github.com wrote:\n\nCan you verify for me you're on the latest Toolbelt version? v3.2.2 at\nthis time. What are the file permissions on your ~/.netrc file?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/888#issuecomment-32399311\n.\n. sudo heroku create\n\nworks... I think it was my permission\nOn Wed, Jan 15, 2014 at 5:30 PM, Clint notifications@github.com wrote:\n\nSorry, meant to share a link: https://toolbelt.heroku.com\nIf at all possible you should not be using the gem directly. Let me know\nif that helps (be sure to run gem uninstall heroku first)\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/888#issuecomment-32405001\n.\n. ;-)\nI will uninstall then\n\nOn Wed, Jan 15, 2014 at 5:33 PM, Clint notifications@github.com wrote:\n\nI think using sudo to invoke gems is typically considered A Very Bad\nThing\u2122 ...\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/888#issuecomment-32406256\n.\n. \n",
    "nvie": "Works on Mac + Ruby2.0, btw, but not on Ubuntu + Ruby1.9.\n. ",
    "fbrusatti": "The same happens for me using both ruby-1.9.3 and ruby-2.0.0-p247\n\n$  heroku pg:cache_hit -adashboard\n\n```\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined local variable or method `find_uri' for #<Heroku::Command::Pg:0x007fa019b04aa8> (NameError)\nBacktrace:   /Users/franco/.heroku/plugins/heroku-pg-extras/init.rb:464:in `exec_sql'\n             /Users/franco/.heroku/plugins/heroku-pg-extras/init.rb:25:in `cache_hit'\n             /Users/franco/.rvm/gems/ruby-1.9.3-p448/gems/heroku-2.34.0/lib/heroku/command.rb:207:in `run'\n             /Users/franco/.rvm/gems/ruby-1.9.3-p448/gems/heroku-2.34.0/lib/heroku/cli.rb:28:in `start'\n             /Users/franco/.rvm/gems/ruby-1.9.3-p448/gems/heroku-2.34.0/bin/heroku:17:in `<top (required)>'\n             /Users/franco/.rvm/gems/ruby-1.9.3-p448/bin/heroku:23:in `load'\n             /Users/franco/.rvm/gems/ruby-1.9.3-p448/bin/heroku:23:in `<main>'\n             /Users/franco/.rvm/gems/ruby-1.9.3-p448/bin/ruby_noexec_wrapper:14:in `eval'\n             /Users/franco/.rvm/gems/ruby-1.9.3-p448/bin/ruby_noexec_wrapper:14:in `<main>'\n\nCommand:     heroku pg:cache_hit -adashboard\nPlugins:     heroku-accounts\n             heroku-pg-extras\n\nVersion:     heroku-gem/2.34.0 (x86_64-darwin11.4.2) ruby/1.9.3\n\n```\n. awesome @pedro works like a charm. I also had to do this http://bit.ly/15VRJmH to update heroku gem. Thanks.\n. ",
    "ehoch": "Having same issue. Heroku when will this be fixed? My backtrace:\n``\n    Error:       undefined method[]' for nil:NilClass (NoMethodError)\n    Backtrace:   /Users/ehochber/.heroku/client/lib/heroku/command/pgbackups.rb:283:in update_display'\n                 /Users/ehochber/.heroku/client/lib/heroku/command/pgbackups.rb:242:inpoll_transfer!'\n                 /Users/ehochber/.heroku/client/lib/heroku/command/pgbackups.rb:158:in restore'\n                 /Users/ehochber/.heroku/client/lib/heroku/command.rb:213:inrun'\n                 /Users/ehochber/.heroku/client/lib/heroku/cli.rb:28:in start'\n                 /usr/bin/heroku:24:in'\nCommand:     heroku pgbackups:restore HEROKU_POSTGRESQL_BRONZE https://dl.dropboxusercontent.com/u/26255962/mydb.dump --confirm tvfanatic\nPlugins:     heroku-pg-extras\n             heroku-ssl-doctor\n\nVersion:     heroku-toolbelt/3.0.1 (x86_64-darwin10.8.0) ruby/1.9.3\n\n```\n. ",
    "alduethadyn": "Same issue here on a capture:\n``\nError:       undefined method[]' for nil:NilClass (NoMethodError)\nBacktrace:   /Users/a936040/.heroku/client/lib/heroku/command/pgbackups.rb:283:in update_display'\n             /Users/a936040/.heroku/client/lib/heroku/command/pgbackups.rb:242:inpoll_transfer!'\n             /Users/a936040/.heroku/client/lib/heroku/command/pgbackups.rb:90:in capture'\n             /Users/a936040/.heroku/client/lib/heroku/command.rb:213:inrun'\n             /Users/a936040/.heroku/client/lib/heroku/cli.rb:28:in start'\n             /usr/local/heroku/bin/heroku:24:in'\nCommand:     heroku pgbackups:capture --remote qa\nPlugins:     heroku-pg-extras\n             heroku-pg-transfer\nVersion:     heroku-toolbelt/3.0.1 (x86_64-darwin10.8.0) ruby/1.9.3\n```\n. I'm wondering if this has anything to do with a timeout - I was backing up\na fairly large DB, and it was taking a long time. Can the transfer get\ndropped somehow in that scenario?\nOn Tue, Nov 12, 2013 at 3:38 PM, Pedro Belo notifications@github.comwrote:\n\nHey guys,\nSorry for the trouble, taking a look but wasn't able to reproduce yet.\nIs this happening consistently?\n@will https://github.com/will ideas? surprised there's a nil transferpassed around.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/896#issuecomment-28335970\n.\n. \n",
    "hiveer": "@matenji  I have the same problem. In the end, I found that just because my virtual system have no browser available.\n. ",
    "paladini": "The same happens to me :/\n. @catsby I'm receiving the same error now, but in another project. Is it related to some issue in Heroku?\n. Oh @catsby , sorry, but the problem was already fixed. This was a bit strange: when I tried run heroku run console, heroku run rake db:migrate, heroku reset, heroku run logs, I received this error. But it was a dabatase error that I discovered by lucky. \nAnyway, thanks - isn't heroku related. \n. ",
    "thatandyrose": "Still happening....\n. Cool thanks @catsby \n. ",
    "keiko713": "note; she updated her ruby version from 1.8.5 to 1.9.3 and it worked.\n. :+1: This is what I have beeeeeen waiting for!\n. +1 for this. The current error message \"Unable to read #{args[0]} file\" is really confusing if the args[1] file is failed to read\n. wow thank YOU! this'll save my life :heart_eyes: \n. Something like \"12:00 RANDOMTIMEZONE\" or \"12:00am EST\" (as it ends up timezone=\"am EST\") will also end up !    internal error. If timezone won't match to any of remap_tzs, we really should abort and raise error message.\nhttps://github.com/heroku/heroku/blob/master/lib/heroku/command/pg_backups.rb#L668-L671\n. Also, --at '04:00' will end up Internal server error. Definitely should have a better validation.\n. ",
    "skalee": "Apparently I've overlooked heroku releases which prints out all this information, just needs some output processing. Commit hash is limited to only 7 characters which makes some risk of conflicts when used in larger projects, but I'm OK with it.\n. ",
    "wh0": "To clarify, this is for running multiple heroku commands, like apps:create and ps:scale.\nThis is not for running shell commands on a dyno.\n. I no longer have the problem that this change solves.. ",
    "sailing": "+1 on this. I run into this constantly.\n. Agreed. My ideal implementation would let me choose all the data || empty dB with schema loaded. So I could pass a --data=false flag and my fork would take a fraction of the time. I did say \"Ideal\" :)\n. Thanks @dirkkelly!\n. ",
    "dirkkelly": "This exists in the current implementation of fork --skip-pg\nhttps://github.com/heroku/heroku-fork#heroku-fork-newname\nRecommend this can be closed\n. ",
    "ibroadfo": "obviated by https://github.com/tpope/heroku-wildcards 's -r* option.\n. ",
    "d1egoaz": "I delete the file, but again, the same error :(\n. hmmmmmm\nI'm only getting the error from one specific directory :/\nOutside that directory all command works perfectly.\nThe directory permissions are the same others directories where heroku commands works fine. \n. FOUND IT!!\nIn the directory I have a file called \".jrubyrc\" with the following content:\n``` '\nLocal JRuby Configuration (https://github.com/jruby/jruby/wiki/ConfiguringJRuby)\nKey/Values should be the same as those in EXTRA_JVM_ARGUMENTS variable of script/jruby script.\n\nnative.enabled=false\ncext.enabled=false\ncompat.version=1.9\nXmx=256m\nXss=2048k\n```\nI delete the file and problem solved :)\n. ",
    "mendet": "I tried adding the scheme http:// - same results.  FYI this is all part of Michael Hartl's \"first_app\" tutorial.  I'm going thru each step and, I believe, since I'm working behind this firewall I'm hitting these types of situations. Even though I got through the \"heroku login\" step by hard-coding these proxy values in connection.rb's  setup_proxy (above), I just hit another wall when trying a \"heroku create\" via CLI.  Similar type of thing in \"getaddrinfo\" in socket.rb - it throws a \"No such host is known\" error - and I cannot seem to find any workaround for this one.  I think this is all proxy related.\n. I believe I got past this.  When I hard-coded the values in connection.rb, I put the port name in quotes.  When I removed them I was able to execute a \"create\".  I think it's obvious that hard-coding anything is not good,so the original problem statement remains.\n:host       => 'http-proxy2.companyx.com',\n      :password   => uri.password,\n      :port       => 8080,\n      :scheme     => 'http',\n      :user       => uri.user\n. Correct - it appears that URI.parse is not parsing the proxy value correctly (called in connection.rb) as the values such as :host, :port, etc. are coming back as nil.  Additionally, even though I got past this, albeit not a permanent fix, I am completely dead in the water when trying to deploy the app up to Heroku.   It appears that a git push will not work when executing from behind a corporate firewall.\n. ",
    "dwoldenberg1": "I'm still running snow leopard, but I don't think that should be a problem right? The download should be parsed properly regardless. If the download is only applicable to 10.7 on, then is there anywhere where I might be able to get an older download even if its  not maintained?\n. Sorry, had completely forgotten about this. Yes, the download worked properly for me.\n. ",
    "anubiann00b": "Is this still a problem or can we close it?\n. Awesome :+1: \n. ",
    "JohnyDoe": "Just a note: it's an identical error to the issued I've raised yesterday:\nhttps://github.com/heroku/heroku/issues/927\n. Maybe it's worth posting the versions of:\nOS\nheroku toolbelt \nruby\nAnyways, ,mine is (as mentioned in #927):\nFedora 19\nheroku-toolbelt/3.0.1 (x86_64-linux) \nruby/2.0.0\nIMHO it can't be a server side issue, or else it would have been a much wider problem.\n. +1.\nIndeed solves it!\nBravo thran, thanks.\n. ",
    "arelem3": "On 10/23/2013 04:58 PM, John wrote:\n\nJust a note: it's an identical error to the issued I've raised yesterday:\n927 https://github.com/heroku/heroku/issues/927\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/heroku/heroku/issues/929#issuecomment-26882246.\nThanks John, agreed. I'm happy two of us posted.\nRegarding those helps!\nDowngrading is of no help, I have been using Ruby 2 and Rails 4 for \nmonths until yesterday.\nI think it's a Heroku problem.\nRoger\n. Just tried to open a new Heroku account,Oct23, 17:40 AU time, using the instructions on Heroku and got the same error:\n cd ruby-sample\n[MyDesktop ruby-sample]$ heroku create\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n\nError:       SSL_connect returned=1 errno=0 state=SSLv3 read server key exchange B: EC lib (OpenSSL::SSL::SSLError) (Excon::Errors::SocketError)\nBacktrace:   /home/MyDesktop/.heroku/client/vendor/gems/excon-0.25.3/lib/excon/ssl_socket.rb:66:in `connect'\n /home/MyDesktop/.heroku/client/vendor/gems/excon-0.25.3/lib/excon/ssl_socket.rb:66:in `initialize'\n /home/MyDesktop/.heroku/client/vendor/gems/excon-0.25.3/lib/excon/connection.rb:361:in `new'\n /home/MyDesktop/.heroku/client/vendor/gems/excon-0.25.3/lib/excon/connection.rb:361:in `socket'\nfollowed by many more of the same.\nCommand:     heroku create\n    Version:     heroku-toolbelt/3.0.1 (x86_64-linux) ruby/2.0.0\n. Seems like a common problem dating back quite a long time. \nI think it's because Heroku occasionally fails to read the computer's ssh key but have no way of testing this. Also have no idea why Heroku reads the key for months or years then suddenly stops.\nI have the app ready to run after developing for a year, but trying to start the app now Heroku fails. I can log in to Heroku but cannot get Heroku logs.Cannot run any Heroku run commands from a terminal.\n. On 10/24/2013 05:26 PM, John wrote:\n\nMaybe it's worth posting the versions of:\nOS\nheroku toolbelt\nruby\nAnyways, ,mine is (as mentioned at #927 \nhttps://github.com/heroku/heroku/issues/927 #927 \nhttps://github.com/heroku/heroku/issues/927):\nFedora 19\nheroku-toolbelt/3.0.1 (x86_64-linux)\nruby/2.0.0\nIMHO it can't be a server side issue, or else it would have been a \nmuch wider problem.\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/heroku/heroku/issues/929#issuecomment-26969292.\nOS = Fedora 19\nRuby ruby-2.0.0-p0\nheroku-toolbelt/3.0.1 (x86_64-linux) ruby/2.0.0\n\nNot sure about server side because the problem only seems to appear when \nheroku app is changed, seems to not affect running apps.\nI've been changing and develing and running the app for months with no \nissue.\nHave not updated ruby or rails for many weeks.\n. On 10/24/2013 05:37 PM, thran wrote:\n\nFedora 19\nheroku-toolbelt/2.33.0 (x86_64-linux)\nruby/2.0.0\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/heroku/heroku/issues/929#issuecomment-26969677.\nI have posted to the Heroku issue queue this afternoon, awaiting a response.\nMaybe everyone could also post to show the issue as widespread for the \npast few days.\nRoger\n. On 10/24/2013 06:17 PM, Murilo Polese wrote:\nFedora 19\nheroku-toolbelt/3.0.1 (x86_64-linux)\nruby/2.0.0\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/heroku/heroku/issues/929#issuecomment-26971104.\nSeems we are all using the same gear?\n. On 10/24/2013 06:32 PM, thran wrote:\nI have older version of heroku. Fedora 19 seems to be core of problem.\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/heroku/heroku/issues/929#issuecomment-26971789.\nWhy? If so, which part should I investigate?\nWe seem to be using different heroku versions, Has everyone updated \nFedora 19 in the last few days?\n. On 10/25/2013 05:06 AM, David H. Wilkins wrote:\n+1\nThe command that fixed it for me was:\n|yum downgrade openssl openssl-libs openssl-devel|\nThanks @thran https://github.com/thran !\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/heroku/heroku/issues/929#issuecomment-27015578.\nThank you so much, that fixed it for me also.\nHowever now it keeps asking for username and password, where as \npreviously it did not!\nWhat's happened to cause this?\nthanks\nRoger\n. On 10/29/2013 11:00 AM, Tom Maher \u2234 wrote:\nThis was a bug in Fedora's OpenSSL build \nhttps://bugzilla.redhat.com/show_bug.cgi?id=1022493, introduced in \n1.0.1e-28.fc19. Here's the patch \nhttp://pkgs.fedoraproject.org/cgit/openssl.git/commit/?h=f19 if \nanyone's interested. Fedora 18, 19, and 20 all had the same bug. I've \nverified on Fedora 19 that 1.0.1e-29.fc19 works properly, both for the \n|heroku| command and |wget|.\nSince this is a bug in an OS-provided library, there's nothing to be \ndone here on our end. If you're still seeing issues in version 29+ of \nthe build, please feel free to reopen this.\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/heroku/heroku/issues/929#issuecomment-27268417.\nThank you.\nWhere can I get tutorial on applying this patch please?\nRoger\n. On 10/29/2013 11:42 AM, Tom Maher \u2234 wrote:\n@arelem3 https://github.com/arelem3 |sudo yum update| should do it. \nYou can confirm you've got the right version by running |rpm -qa | \ngrep ^openssl|\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/heroku/heroku/issues/929#issuecomment-27270315.\nThank you Tom it seems to have worked.\nMuch appreciated\nRoger\n. \n",
    "thran": "I have same problem.\nProblem starts during deployment process. One command worked and next not.\n. Fedora 19\nheroku-toolbelt/2.33.0 (x86_64-linux)\nruby/2.0.0\n. I have older version of heroku. Fedora 19 seems to be core of problem.\n. I solved the problem. I downgrade openssl and openssl-devel package from 1:1.0.28e4.dc19 to 1:1.0.1e4.dc19.\nProblem have to be there.\n. ",
    "murilopolese": "Same problem here after a push to heroku app.\n\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n    Error:       SSL_connect returned=1 errno=0 state=SSLv3 read server key exchange B: EC lib (OpenSSL::SSL::SSLError) (Excon::Errors::SocketError)\n\n. Fedora 19\nheroku-toolbelt/3.0.1 (x86_64-linux) \nruby/2.0.0\n. Great! Fixed for me too! Thanks a lot!\n. ",
    "dwilkins": "+1\nThe command that fixed it for me was:\nyum downgrade openssl openssl-libs openssl-devel\nThanks @thran !\n. ",
    "chrisantonick": "If you try and do a \"wget\" from toolbelt.heroku.com you'll get the same error if you have that version of openssl, because wget uses openssl.  The error it spits out says more than the Heroku-client error message.  Something about an unknown elliptic curve group:\n$ wget https://toolbelt.heroku.com/install.sh \n--2013-10-25 01:40:34--  https://toolbelt.heroku.com/install.sh\nResolving toolbelt.heroku.com (toolbelt.heroku.com)... 54.243.76.97, 23.21.198.2, 174.129.17.173\nConnecting to toolbelt.heroku.com (toolbelt.heroku.com)|54.243.76.97|:443... connected.\nOpenSSL: error:100AE081:elliptic curve routines:EC_GROUP_new_by_curve_name:unknown group\nOpenSSL: error:1408D010:SSL routines:SSL3_GET_KEY_EXCHANGE:EC lib\nUnable to establish SSL connection.\n. ",
    "UAGLuisPalacios": "thanks this solve my problem too :D\n. ",
    "ltanev": "I have account on Heroku. I have two computer with OS IE and the other with UBUNTU where I am running RUBY ON RAILS. With IE I can use my password , but with UBUNTU gives me an error: There was a problem with your login. I try to reset the password on UBUNTU I get a message Confirmation email sent. I do not receive any email in regards of it. Please help, My email in Heroku is ltanev0204@gmail.com.\nTanks,\nLatina\n. I resolved the issue. I used chrome instead firefax and works fine.\n. ",
    "jogam5": "It just happened to me, I tried a lot of things and the one that ended up working was to upgrade heroku toolbelt. Hope it helps anyone in the future.\n. ",
    "Jaciones": "Just started seeing similar thing today. Seems new. \nheroku-toolbelt/3.7.4 (x86_64-darwin10.8.0) ruby/1.9.3\n/Users/jason/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/adapters/oj.rb:15: [BUG] Segmentation fault\nruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-darwin10.8.0]\n-- Control frame information -----------------------------------------------\nc:0012 p:---- s:0070 b:0070 l:000069 d:000069 CFUNC  :load\nc:0011 p:0051 s:0065 b:0065 l:000064 d:000064 METHOD /Users/jason/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/adapters/oj.rb:15\nc:0010 p:0062 s:0060 b:0060 l:000059 d:000059 METHOD /Users/jason/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/adapter.rb:20\nc:0009 p:0035 s:0055 b:0055 l:000054 d:000054 METHOD /Users/jason/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json.rb:121\nc:0008 p:0094 s:0048 b:0046 l:000045 d:000045 METHOD /Users/jason/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api.rb:105\nc:0007 p:0012 s:0037 b:0037 l:000036 d:000036 METHOD /Users/jason/.heroku/client/lib/heroku/auth.rb:20\nc:0006 p:0065 s:0031 b:0031 l:000030 d:000030 METHOD /Users/jason/.heroku/client/lib/heroku/command/ps.rb:100\nc:0005 p:0046 s:0024 b:0024 l:000023 d:000023 METHOD /Users/jason/.heroku/client/lib/heroku/command.rb:218\nc:0004 p:0112 s:0014 b:0014 l:000013 d:000013 METHOD /Users/jason/.heroku/client/lib/heroku/cli.rb:28\nc:0003 p:0232 s:0008 b:0008 l:000288 d:0001e8 EVAL   /usr/bin/heroku:24\nc:0002 p:---- s:0004 b:0004 l:000003 d:000003 FINISH\nc:0001 p:0000 s:0002 b:0002 l:000288 d:000288 TOP\n-- Ruby level backtrace information ----------------------------------------\n/usr/bin/heroku:24:in <main>'\n/Users/jason/.heroku/client/lib/heroku/cli.rb:28:instart'\n/Users/jason/.heroku/client/lib/heroku/command.rb:218:in run'\n/Users/jason/.heroku/client/lib/heroku/command/ps.rb:100:inindex'\n/Users/jason/.heroku/client/lib/heroku/auth.rb:20:in request'\n/Users/jason/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api.rb:105:inrequest'\n/Users/jason/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json.rb:121:in load'\n/Users/jason/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/adapter.rb:20:inload'\n/Users/jason/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/adapters/oj.rb:15:in load'\n/Users/jason/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/adapters/oj.rb:15:inload'\n-- C level backtrace information -------------------------------------------\nSee Crash Report log file under ~/Library/Logs/CrashReporter or\n   /Library/Logs/CrashReporter, for the more detail of.\n-- Other runtime information -----------------------------------------------\n. ",
    "cdussud": "I'm getting this today too. Also on 3.7.4. My other machine with 3.7.3 isn't seeing this.\nRunning rails c attached to terminal... /Users/Cedric/.rvm/gems/ruby-2.1.1/gems/oj-2.9.0/ext/oj/oj.bundle: [BUG] Segmentation fault\nruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-darwin10.8.0]\n-- Control frame information -----------------------------------------------\nc:0029 p:-540413388 s:0134 b:0134 l:000133 d:000133 TOP\nc:0028 p:---- s:0132 b:0132 l:000131 d:000131 CFUNC  :require\nc:0027 p:0036 s:0128 b:0128 l:000127 d:000127 METHOD /usr/local/heroku/ruby/lib/ruby/1.9.1/rubygems/custom_require.rb:36\nc:0026 p:0108 s:0121 b:0121 l:000120 d:000120 TOP    /Users/Cedric/.rvm/gems/ruby-2.1.1/gems/oj-2.9.0/lib/oj.rb:42\nc:0025 p:---- s:0119 b:0119 l:000118 d:000118 FINISH\nc:0024 p:---- s:0117 b:0117 l:000116 d:000116 CFUNC  :require\nc:0023 p:0089 s:0113 b:0113 l:000109 d:000112 BLOCK  /usr/local/heroku/ruby/lib/ruby/1.9.1/rubygems/custom_require.rb:60\nc:0022 p:0158 s:0110 b:0110 l:000109 d:000109 METHOD /usr/local/heroku/ruby/lib/ruby/1.9.1/rubygems/custom_require.rb:35\nc:0021 p:0014 s:0103 b:0103 l:000093 d:000102 BLOCK  /Users/Cedric/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json.rb:56\nc:0020 p:---- s:0099 b:0099 l:000098 d:000098 FINISH\nc:0019 p:---- s:0097 b:0097 l:000096 d:000096 CFUNC  :each\nc:0018 p:0133 s:0094 b:0094 l:000093 d:000093 METHOD /Users/Cedric/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json.rb:54\nc:0017 p:0163 s:0091 b:0090 l:000089 d:000089 METHOD /Users/Cedric/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json.rb:102\nc:0016 p:0013 s:0085 b:0085 l:000084 d:000084 METHOD /Users/Cedric/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json.rb:92\nc:0015 p:0037 s:0081 b:0081 l:000080 d:000080 METHOD /Users/Cedric/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json.rb:74\nc:0014 p:0041 s:0078 b:0078 l:000077 d:000077 METHOD /Users/Cedric/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json.rb:132\nc:0013 p:0017 s:0073 b:0073 l:000072 d:000072 METHOD /Users/Cedric/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json.rb:119\nc:0012 p:0094 s:0066 b:0064 l:000063 d:000063 METHOD /Users/Cedric/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api.rb:105\nc:0011 p:0012 s:0055 b:0055 l:000054 d:000054 METHOD /Users/Cedric/.heroku/client/lib/heroku/auth.rb:20\nc:0010 p:0065 s:0049 b:0049 l:000048 d:000048 METHOD /Users/Cedric/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/processes.rb:20\nc:0009 p:0024 s:0043 b:0043 l:000034 d:000042 BLOCK  /Users/Cedric/.heroku/client/lib/heroku/command/run.rb:115\nc:0008 p:0077 s:0041 b:0041 l:000040 d:000040 METHOD /Users/Cedric/.heroku/client/lib/heroku/helpers.rb:227\nc:0007 p:0093 s:0035 b:0035 l:000034 d:000034 METHOD /Users/Cedric/.heroku/client/lib/heroku/command/run.rb:114\nc:0006 p:0054 s:0028 b:0028 l:000027 d:000027 METHOD /Users/Cedric/.heroku/client/lib/heroku/command/run.rb:24\nc:0005 p:0046 s:0024 b:0024 l:000023 d:000023 METHOD /Users/Cedric/.heroku/client/lib/heroku/command.rb:218\nc:0004 p:0112 s:0014 b:0014 l:000013 d:000013 METHOD /Users/Cedric/.heroku/client/lib/heroku/cli.rb:28\nc:0003 p:0232 s:0008 b:0008 l:002128 d:000808 EVAL   /usr/bin/heroku:24\nc:0002 p:---- s:0004 b:0004 l:000003 d:000003 FINISH\nc:0001 p:0000 s:0002 b:0002 l:002128 d:002128 TOP   \n-- Ruby level backtrace information ----------------------------------------\n/usr/bin/heroku:24:in <main>'\n/Users/Cedric/.heroku/client/lib/heroku/cli.rb:28:instart'\n/Users/Cedric/.heroku/client/lib/heroku/command.rb:218:in run'\n/Users/Cedric/.heroku/client/lib/heroku/command/run.rb:24:inindex'\n/Users/Cedric/.heroku/client/lib/heroku/command/run.rb:114:in run_attached'\n/Users/Cedric/.heroku/client/lib/heroku/helpers.rb:227:inaction'\n/Users/Cedric/.heroku/client/lib/heroku/command/run.rb:115:in block in run_attached'\n/Users/Cedric/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/processes.rb:20:inpost_ps'\n/Users/Cedric/.heroku/client/lib/heroku/auth.rb:20:in request'\n/Users/Cedric/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api.rb:105:inrequest'\n/Users/Cedric/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json.rb:119:in load'\n. Thanks. Can confirm thatgem uninstall oj --all` fixed it for me. Installing oj 2.9.0 via bundler for my app breaks it again.\n. Another developer with 3.7.4 in my company is broken and one with 3.7.3 is working. What's the best way to downgrade? It looks like you don't maintain a list of old versions to download on your site.\n. ",
    "dspangen": "Note that this is also a problem with oj 2.8.1\nRemoving oj completely allows the toolbelt to communicate with Heroku again.\n. ",
    "markrebec": "Chiming in that I'm seeing the same behavior as @cdussud and @dspangen - uninstalling oj fixes this, but as soon as I bundle my app again (which uses oj) the heroku client breaks.\n. @masterkrang I was wondering the same thing, but noticed when bundler installs oj for me (it's in my app's Gemfile), I'm getting oj 2.0.10, which is about a year old. Not sure exactly why, as I'm not specifying a version in my Gemfile and there are a number of more recent releases.  I've tried explicitly installing oj 2.9.3 and ensuring it's the only version installed, but am still getting the same segfault with the heroku client.\nPart of our deploy process leverages the heroku client, which means I can't deploy my app in the interim. Uninstalling oj works, but I need my app to be bundled, which installs oj, which kills the heroku client.\n. Thank you @pedro :heart: \n. ",
    "slant": "As a short-term fix, I wonder if using --path when bundling to vendor your gems, adding the local gem path to your .gitignore file for now might help.\n. ",
    "brockspratlen": "I'm seeing this as well, but only for my ruby 2.0.0 apps; all heroku commands are working fine with my ruby 1.9.3 apps. I use chruby to manage my ruby versions.\nFor my 2.0.0 apps, Most heroku toolbelt commands I've tried are failing, specifically: pg, ps, addons, apps, config, domains, and run. I have found that the logs command works though.\nSome diagnostics with MRI 1.9.3 loaded via chruby (happy path, everything works):\n```\n$ heroku version\nheroku-toolbelt/3.7.4 (x86_64-darwin10.8.0) ruby/1.9.3\n$ ruby -v\nruby 1.9.3p429 (2013-05-15 revision 40747) [x86_64-darwin12.4.0]\n$ gem list | grep oj\noj (2.0.11)\n$ heroku ps --remote dev\n=== web (1X): bundle exec unicorn -p $PORT -c ./config/unicorn.rb\nweb.1: up 2014/05/19 11:49:00 (~ 5h ago)\nweb.2: up 2014/05/19 12:11:23 (~ 5h ago)\n=== worker (1X): bundle exec rake jobs:work\nworker.1: up 2014/05/19 11:17:48 (~ 6h ago)\n```\nDiagnostics with MRI 2.0.0 loaded via chruby (most heroku commands don't work in this context):\n```\n$ heroku version\nheroku-toolbelt/3.7.4 (x86_64-darwin10.8.0) ruby/1.9.3\n$ ruby -v\nruby 2.0.0p247 (2013-06-27 revision 41674) [x86_64-darwin12.4.0]\n$ gem list | grep oj\noj (2.1.4)\n$ heroku ps --remote dev\n/Users/brock/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/adapters/oj.rb:15: [BUG] Segmentation fault\nruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-darwin10.8.0]\n-- Control frame information -----------------------------------------------\nc:0012 p:---- s:0070 b:0070 l:000069 d:000069 CFUNC  :load\nc:0011 p:0051 s:0065 b:0065 l:000064 d:000064 METHOD /Users/brock/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/adapters/oj.rb:15\nc:0010 p:0062 s:0060 b:0060 l:000059 d:000059 METHOD /Users/brock/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/adapter.rb:20\nc:0009 p:0035 s:0055 b:0055 l:000054 d:000054 METHOD /Users/brock/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json.rb:121\nc:0008 p:0094 s:0048 b:0046 l:000045 d:000045 METHOD /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api.rb:105\nc:0007 p:0012 s:0037 b:0037 l:000036 d:000036 METHOD /Users/brock/.heroku/client/lib/heroku/auth.rb:20\nc:0006 p:0065 s:0031 b:0031 l:000030 d:000030 METHOD /Users/brock/.heroku/client/lib/heroku/command/ps.rb:100\nc:0005 p:0046 s:0024 b:0024 l:000023 d:000023 METHOD /Users/brock/.heroku/client/lib/heroku/command.rb:218\nc:0004 p:0112 s:0014 b:0014 l:000013 d:000013 METHOD /Users/brock/.heroku/client/lib/heroku/cli.rb:28\nc:0003 p:0232 s:0008 b:0008 l:0002f8 d:0016a8 EVAL   /usr/local/heroku/bin/heroku:24\nc:0002 p:---- s:0004 b:0004 l:000003 d:000003 FINISH\nc:0001 p:0000 s:0002 b:0002 l:0002f8 d:0002f8 TOP\n-- Ruby level backtrace information ----------------------------------------\n/usr/local/heroku/bin/heroku:24:in <main>'\n/Users/brock/.heroku/client/lib/heroku/cli.rb:28:instart'\n/Users/brock/.heroku/client/lib/heroku/command.rb:218:in run'\n/Users/brock/.heroku/client/lib/heroku/command/ps.rb:100:inindex'\n/Users/brock/.heroku/client/lib/heroku/auth.rb:20:in request'\n/Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api.rb:105:inrequest'\n/Users/brock/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json.rb:121:in load'\n/Users/brock/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/adapter.rb:20:inload'\n/Users/brock/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/adapters/oj.rb:15:in load'\n/Users/brock/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/adapters/oj.rb:15:inload'\n-- C level backtrace information -------------------------------------------\nSee Crash Report log file under ~/Library/Logs/CrashReporter or\n   /Library/Logs/CrashReporter, for the more detail of.\n-- Other runtime information -----------------------------------------------\n\n\nLoaded script: /usr/local/heroku/bin/heroku\n\n\nLoaded features:\n0 enumerator.so\n1 /usr/local/heroku/ruby/lib/ruby/1.9.1/x86_64-darwin10.8.0/enc/encdb.bundle\n2 /usr/local/heroku/ruby/lib/ruby/1.9.1/x86_64-darwin10.8.0/enc/trans/transdb.bundle\n3 /usr/local/heroku/ruby/lib/ruby/1.9.1/rubygems/defaults.rb\n4 /usr/local/heroku/ruby/lib/ruby/1.9.1/x86_64-darwin10.8.0/rbconfig.rb\n5 /usr/local/heroku/ruby/lib/ruby/1.9.1/rubygems/deprecate.rb\n6 /usr/local/heroku/ruby/lib/ruby/1.9.1/rubygems/exceptions.rb\n7 /usr/local/heroku/ruby/lib/ruby/1.9.1/rubygems/custom_require.rb\n8 /usr/local/heroku/ruby/lib/ruby/1.9.1/rubygems.rb\n9 /usr/local/heroku/ruby/lib/ruby/1.9.1/x86_64-darwin10.8.0/pathname.bundle\n   10 /usr/local/heroku/ruby/lib/ruby/1.9.1/pathname.rb\n   11 /usr/local/heroku/ruby/lib/ruby/1.9.1/x86_64-darwin10.8.0/digest.bundle\n   12 /usr/local/heroku/ruby/lib/ruby/1.9.1/digest.rb\n   13 /usr/local/heroku/ruby/lib/ruby/1.9.1/x86_64-darwin10.8.0/etc.bundle\n   14 /usr/local/heroku/ruby/lib/ruby/1.9.1/fileutils.rb\n   15 /usr/local/heroku/ruby/lib/ruby/1.9.1/x86_64-darwin10.8.0/stringio.bundle\n   16 /usr/local/heroku/lib/vendor/heroku/okjson.rb\n   17 /usr/local/heroku/lib/heroku/helpers.rb\n   18 /usr/local/heroku/lib/heroku/updater.rb\n   19 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/parseexception.rb\n   20 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/formatters/default.rb\n   21 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/formatters/pretty.rb\n   22 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/node.rb\n   23 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/child.rb\n   24 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/parent.rb\n   25 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/xmltokens.rb\n   26 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/namespace.rb\n   27 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/encoding.rb\n   28 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/source.rb\n   29 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/entity.rb\n   30 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/attlistdecl.rb\n   31 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/doctype.rb\n   32 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/text.rb\n   33 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/attribute.rb\n   34 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/cdata.rb\n   35 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/functions.rb\n   36 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/syncenumerator.rb\n   37 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/parsers/xpathparser.rb\n   38 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/xpath_parser.rb\n   39 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/xpath.rb\n   40 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/element.rb\n   41 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/xmldecl.rb\n   42 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/comment.rb\n   43 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/instruction.rb\n   44 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/rexml.rb\n   45 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/output.rb\n   46 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/undefinednamespaceexception.rb\n   47 /usr/local/heroku/ruby/lib/ruby/1.9.1/set.rb\n   48 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/parsers/baseparser.rb\n   49 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/parsers/streamparser.rb\n   50 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/validation/validationexception.rb\n   51 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/parsers/treeparser.rb\n   52 /usr/local/heroku/ruby/lib/ruby/1.9.1/rexml/document.rb\n   53 /usr/local/heroku/ruby/lib/ruby/1.9.1/uri/common.rb\n   54 /usr/local/heroku/ruby/lib/ruby/1.9.1/uri/generic.rb\n   55 /usr/local/heroku/ruby/lib/ruby/1.9.1/uri/ftp.rb\n   56 /usr/local/heroku/ruby/lib/ruby/1.9.1/uri/http.rb\n   57 /usr/local/heroku/ruby/lib/ruby/1.9.1/uri/https.rb\n   58 /usr/local/heroku/ruby/lib/ruby/1.9.1/uri/ldap.rb\n   59 /usr/local/heroku/ruby/lib/ruby/1.9.1/uri/ldaps.rb\n   60 /usr/local/heroku/ruby/lib/ruby/1.9.1/uri/mailto.rb\n   61 /usr/local/heroku/ruby/lib/ruby/1.9.1/uri.rb\n   62 /usr/local/heroku/ruby/lib/ruby/1.9.1/x86_64-darwin10.8.0/date_core.bundle\n   63 /usr/local/heroku/ruby/lib/ruby/1.9.1/date/format.rb\n   64 /usr/local/heroku/ruby/lib/ruby/1.9.1/date.rb\n   65 /usr/local/heroku/ruby/lib/ruby/1.9.1/time.rb\n   66 /usr/local/heroku/ruby/lib/ruby/1.9.1/cgi/core.rb\n   67 /usr/local/heroku/ruby/lib/ruby/1.9.1/cgi/cookie.rb\n   68 /usr/local/heroku/ruby/lib/ruby/1.9.1/cgi/util.rb\n   69 /usr/local/heroku/ruby/lib/ruby/1.9.1/cgi.rb\n   70 /Users/brock/.heroku/client/vendor/gems/netrc-0.7.7/lib/netrc.rb\n   71 /Users/brock/.heroku/client/lib/heroku/auth.rb\n   72 /Users/brock/.heroku/client/lib/heroku/plugin.rb\n   73 /Users/brock/.heroku/client/lib/heroku/version.rb\n   74 /usr/local/heroku/ruby/lib/ruby/1.9.1/optparse.rb\n   75 /Users/brock/.heroku/client/lib/heroku/command.rb\n   76 /Users/brock/.heroku/client/lib/heroku/client/ssl_endpoint.rb\n   77 /Users/brock/.heroku/client/lib/heroku/client.rb\n   78 /Users/brock/.heroku/client/lib/heroku.rb\n   79 /Users/brock/.heroku/client/lib/heroku/cli.rb\n   80 /Users/brock/.heroku/client/lib/heroku/command/accounts.rb\n   81 /usr/local/heroku/ruby/lib/ruby/1.9.1/timeout.rb\n   82 /usr/local/heroku/ruby/lib/ruby/1.9.1/x86_64-darwin10.8.0/socket.bundle\n   83 /usr/local/heroku/ruby/lib/ruby/1.9.1/socket.rb\n   84 /Users/brock/.heroku/client/lib/heroku/client/rendezvous.rb\n   85 /usr/local/heroku/ruby/lib/ruby/1.9.1/base64.rb\n   86 /usr/local/heroku/ruby/lib/ruby/1.9.1/forwardable.rb\n   87 /usr/local/heroku/ruby/lib/ruby/1.9.1/x86_64-darwin10.8.0/openssl.bundle\n   88 /usr/local/heroku/ruby/lib/ruby/1.9.1/openssl/bn.rb\n   89 /usr/local/heroku/ruby/lib/ruby/1.9.1/openssl/cipher.rb\n   90 /usr/local/heroku/ruby/lib/ruby/1.9.1/openssl/config.rb\n   91 /usr/local/heroku/ruby/lib/ruby/1.9.1/openssl/digest.rb\n   92 /usr/local/heroku/ruby/lib/ruby/1.9.1/openssl/buffering.rb\n   93 /usr/local/heroku/ruby/lib/ruby/1.9.1/x86_64-darwin10.8.0/fcntl.bundle\n   94 /usr/local/heroku/ruby/lib/ruby/1.9.1/openssl/ssl-internal.rb\n   95 /usr/local/heroku/ruby/lib/ruby/1.9.1/openssl/x509-internal.rb\n   96 /usr/local/heroku/ruby/lib/ruby/1.9.1/openssl.rb\n   97 /usr/local/heroku/ruby/lib/ruby/1.9.1/x86_64-darwin10.8.0/zlib.bundle\n   98 /Users/brock/.heroku/client/vendor/gems/excon-0.33.0/lib/excon/utils.rb\n   99 /Users/brock/.heroku/client/vendor/gems/excon-0.33.0/lib/excon/constants.rb\n  100 /Users/brock/.heroku/client/vendor/gems/excon-0.33.0/lib/excon/connection.rb\n  101 /Users/brock/.heroku/client/vendor/gems/excon-0.33.0/lib/excon/errors.rb\n  102 /Users/brock/.heroku/client/vendor/gems/excon-0.33.0/lib/excon/middlewares/base.rb\n  103 /Users/brock/.heroku/client/vendor/gems/excon-0.33.0/lib/excon/middlewares/decompress.rb\n  104 /Users/brock/.heroku/client/vendor/gems/excon-0.33.0/lib/excon/middlewares/escape_path.rb\n  105 /Users/brock/.heroku/client/vendor/gems/excon-0.33.0/lib/excon/middlewares/expects.rb\n  106 /Users/brock/.heroku/client/vendor/gems/excon-0.33.0/lib/excon/middlewares/idempotent.rb\n  107 /Users/brock/.heroku/client/vendor/gems/excon-0.33.0/lib/excon/middlewares/instrumentor.rb\n  108 /Users/brock/.heroku/client/vendor/gems/excon-0.33.0/lib/excon/middlewares/mock.rb\n  109 /Users/brock/.heroku/client/vendor/gems/excon-0.33.0/lib/excon/middlewares/redirect_follower.rb\n  110 /Users/brock/.heroku/client/vendor/gems/excon-0.33.0/lib/excon/middlewares/response_parser.rb\n  111 /Users/brock/.heroku/client/vendor/gems/excon-0.33.0/lib/excon/response.rb\n  112 /Users/brock/.heroku/client/vendor/gems/excon-0.33.0/lib/excon/headers.rb\n  113 /Users/brock/.heroku/client/vendor/gems/excon-0.33.0/lib/excon/socket.rb\n  114 /Users/brock/.heroku/client/vendor/gems/excon-0.33.0/lib/excon/ssl_socket.rb\n  115 /Users/brock/.heroku/client/vendor/gems/excon-0.33.0/lib/excon/unix_socket.rb\n  116 /Users/brock/.heroku/client/vendor/gems/excon-0.33.0/lib/excon/standard_instrumentor.rb\n  117 /Users/brock/.heroku/client/vendor/gems/excon-0.33.0/lib/excon.rb\n  118 /Users/brock/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/options.rb\n  119 /Users/brock/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/version.rb\n  120 /Users/brock/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/adapter_error.rb\n  121 /Users/brock/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/parse_error.rb\n  122 /Users/brock/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json.rb\n  123 /usr/local/heroku/ruby/lib/ruby/1.9.1/securerandom.rb\n  124 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/errors.rb\n  125 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/mock/addons.rb\n  126 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/mock/apps.rb\n  127 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/mock/attachments.rb\n  128 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/mock/collaborators.rb\n  129 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/mock/config_vars.rb\n  130 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/mock/domains.rb\n  131 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/mock/features.rb\n  132 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/mock/keys.rb\n  133 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/mock/login.rb\n  134 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/mock/logs.rb\n  135 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/mock/processes.rb\n  136 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/mock/releases.rb\n  137 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/mock/stacks.rb\n  138 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/mock/user.rb\n  139 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/mock.rb\n  140 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/version.rb\n  141 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/addons.rb\n  142 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/apps.rb\n  143 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/attachments.rb\n  144 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/collaborators.rb\n  145 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/config_vars.rb\n  146 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/domains.rb\n  147 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/features.rb\n  148 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/keys.rb\n  149 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/login.rb\n  150 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/logs.rb\n  151 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/processes.rb\n  152 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/releases.rb\n  153 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/ssl_endpoints.rb\n  154 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/stacks.rb\n  155 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api/user.rb\n  156 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku/api.rb\n  157 /Users/brock/.heroku/client/vendor/gems/heroku-api-0.3.18/lib/heroku-api.rb\n  158 /Users/brock/.heroku/client/lib/heroku/client/organizations.rb\n  159 /Users/brock/.heroku/client/lib/heroku/command/base.rb\n  160 /Users/brock/.heroku/client/lib/heroku/helpers/heroku_postgresql.rb\n  161 /Users/brock/.heroku/client/lib/heroku/command/addons.rb\n  162 /Users/brock/.heroku/client/lib/heroku/command/apps.rb\n  163 /Users/brock/.heroku/client/lib/heroku/command/auth.rb\n  164 /Users/brock/.heroku/client/lib/heroku/command/certs.rb\n  165 /Users/brock/.heroku/client/lib/heroku/command/config.rb\n  166 /Users/brock/.heroku/client/lib/heroku/command/domains.rb\n  167 /Users/brock/.heroku/client/lib/heroku/command/drains.rb\n  168 /Users/brock/.heroku/client/lib/heroku/client/cisaurus.rb\n  169 /Users/brock/.heroku/client/lib/heroku/command/fork.rb\n  170 /Users/brock/.heroku/client/lib/heroku/command/git.rb\n  171 /Users/brock/.heroku/client/lib/heroku/deprecated.rb\n  172 /Users/brock/.heroku/client/lib/heroku/deprecated/help.rb\n  173 /Users/brock/.heroku/client/lib/heroku/command/help.rb\n  174 /Users/brock/.heroku/client/lib/heroku/command/keys.rb\n  175 /Users/brock/.heroku/client/lib/heroku/command/labs.rb\n  176 /Users/brock/.heroku/client/lib/heroku/helpers/log_displayer.rb\n  177 /Users/brock/.heroku/client/lib/heroku/command/logs.rb\n  178 /Users/brock/.heroku/client/lib/heroku/command/maintenance.rb\n  179 /Users/brock/.heroku/client/lib/heroku/command/members.rb\n  180 /Users/brock/.heroku/client/lib/heroku/command/orgs.rb\n  181 /Users/brock/.heroku/client/lib/heroku/client/heroku_postgresql.rb\n  182 /Users/brock/.heroku/client/lib/heroku/helpers/pg_dump_restore.rb\n  183 /Users/brock/.heroku/client/lib/heroku/command/pg.rb\n  184 /Users/brock/.heroku/client/lib/heroku/client/pgbackups.rb\n  185 /Users/brock/.heroku/client/lib/heroku/command/pgbackups.rb\n  186 /Users/brock/.heroku/client/lib/heroku/command/plugins.rb\n  187 /Users/brock/.heroku/client/lib/heroku/command/ps.rb\n  188 /Users/brock/.heroku/client/lib/heroku/command/regions.rb\n  189 /Users/brock/.heroku/client/lib/heroku/command/releases.rb\n  190 /usr/local/heroku/ruby/lib/ruby/1.9.1/x86_64-darwin10.8.0/readline.bundle\n  191 /Users/brock/.heroku/client/lib/heroku/command/run.rb\n  192 /Users/brock/.heroku/client/lib/heroku/command/sharing.rb\n  193 /Users/brock/.heroku/client/lib/heroku/command/ssl.rb\n  194 /Users/brock/.heroku/client/lib/heroku/command/stack.rb\n  195 /Users/brock/.heroku/client/lib/heroku/command/status.rb\n  196 /Users/brock/.heroku/client/vendor/gems/rqrcode-0.4.2/lib/rqrcode/core_ext/array/behavior.rb\n  197 /Users/brock/.heroku/client/vendor/gems/rqrcode-0.4.2/lib/rqrcode/core_ext/array.rb\n  198 /Users/brock/.heroku/client/vendor/gems/rqrcode-0.4.2/lib/rqrcode/core_ext/integer/bitwise.rb\n  199 /Users/brock/.heroku/client/vendor/gems/rqrcode-0.4.2/lib/rqrcode/core_ext/integer.rb\n  200 /Users/brock/.heroku/client/vendor/gems/rqrcode-0.4.2/lib/rqrcode/core_ext.rb\n  201 /Users/brock/.heroku/client/vendor/gems/rqrcode-0.4.2/lib/rqrcode/qrcode/qr_8bit_byte.rb\n  202 /Users/brock/.heroku/client/vendor/gems/rqrcode-0.4.2/lib/rqrcode/qrcode/qr_bit_buffer.rb\n  203 /Users/brock/.heroku/client/vendor/gems/rqrcode-0.4.2/lib/rqrcode/qrcode/qr_code.rb\n  204 /Users/brock/.heroku/client/vendor/gems/rqrcode-0.4.2/lib/rqrcode/qrcode/qr_math.rb\n  205 /Users/brock/.heroku/client/vendor/gems/rqrcode-0.4.2/lib/rqrcode/qrcode/qr_polynomial.rb\n  206 /Users/brock/.heroku/client/vendor/gems/rqrcode-0.4.2/lib/rqrcode/qrcode/qr_rs_block.rb\n  207 /Users/brock/.heroku/client/vendor/gems/rqrcode-0.4.2/lib/rqrcode/qrcode/qr_util.rb\n  208 /Users/brock/.heroku/client/vendor/gems/rqrcode-0.4.2/lib/rqrcode/qrcode.rb\n  209 /Users/brock/.heroku/client/vendor/gems/rqrcode-0.4.2/lib/rqrcode.rb\n  210 /Users/brock/.heroku/client/vendor/gems/term-ansicolor-1.3.0/lib/term/ansicolor/version.rb\n  211 /Users/brock/.heroku/client/vendor/gems/term-ansicolor-1.3.0/lib/term/ansicolor/attribute.rb\n  212 /Users/brock/.heroku/client/vendor/gems/term-ansicolor-1.3.0/lib/term/ansicolor/rgb_color_metrics.rb\n  213 /Users/brock/.heroku/client/vendor/gems/term-ansicolor-1.3.0/lib/term/ansicolor/rgb_triple.rb\n  214 /Users/brock/.heroku/client/vendor/gems/term-ansicolor-1.3.0/lib/term/ansicolor/ppm_reader.rb\n  215 /Users/brock/.heroku/client/vendor/gems/term-ansicolor-1.3.0/lib/term/ansicolor.rb\n  216 /Users/brock/.heroku/client/lib/heroku/command/two_factor.rb\n  217 /Users/brock/.heroku/client/lib/heroku/command/update.rb\n  218 /Users/brock/.heroku/client/lib/heroku/command/version.rb\n  219 /Users/brock/.heroku/plugins/heroku-pg-extras/lib/heroku/command/pgbackups.rb\n  220 /Users/brock/.heroku/plugins/heroku-pg-extras/lib/heroku/client/heroku_postgresql.rb\n  221 /Users/brock/.heroku/plugins/heroku-pg-extras/lib/heroku/command/pg.rb\n  222 /usr/local/heroku/ruby/lib/ruby/1.9.1/rubygems/version.rb\n  223 /usr/local/heroku/ruby/lib/ruby/1.9.1/rubygems/requirement.rb\n  224 /usr/local/heroku/ruby/lib/ruby/1.9.1/rubygems/platform.rb\n  225 /usr/local/heroku/ruby/lib/ruby/1.9.1/rubygems/specification.rb\n  226 /usr/local/heroku/ruby/lib/ruby/1.9.1/rubygems/path_support.rb\n  227 /usr/local/heroku/ruby/lib/ruby/1.9.1/rubygems/dependency.rb\n  228 /Users/brock/.gem/ruby/2.0.0/gems/oj-2.1.4/lib/oj/version.rb\n  229 /Users/brock/.gem/ruby/2.0.0/gems/oj-2.1.4/lib/oj/bag.rb\n  230 /Users/brock/.gem/ruby/2.0.0/gems/oj-2.1.4/lib/oj/error.rb\n  231 /Users/brock/.gem/ruby/2.0.0/gems/oj-2.1.4/lib/oj/mimic.rb\n  232 /Users/brock/.gem/ruby/2.0.0/gems/oj-2.1.4/lib/oj/saj.rb\n  233 /Users/brock/.gem/ruby/2.0.0/gems/oj-2.1.4/lib/oj/schandler.rb\n  234 /usr/local/heroku/ruby/lib/ruby/1.9.1/x86_64-darwin10.8.0/bigdecimal.bundle\n  235 /Users/brock/.gem/ruby/2.0.0/gems/oj-2.1.4/ext/oj/oj.bundle\n  236 /Users/brock/.gem/ruby/2.0.0/gems/oj-2.1.4/lib/oj.rb\n  237 /usr/local/heroku/ruby/lib/ruby/1.9.1/thread.rb\n  238 /usr/local/heroku/ruby/lib/ruby/1.9.1/singleton.rb\n  239 /Users/brock/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/adapter.rb\n  240 /Users/brock/.heroku/client/vendor/gems/multi_json-1.9.3/lib/multi_json/adapters/oj.rb\n\n\n[NOTE]\nYou may have encountered a bug in the Ruby interpreter or extension libraries.\nBug reports are welcome.\nFor details: http://www.ruby-lang.org/bugreport.html\n[1]    4187 abort      heroku ps --remote dev\n```\nUpdate: I tried uninstalling the oj gem as other commenters suggested and that seems to have fixed it, but this won't work as a long-term fix for me since many of my 2.0.0 apps depend on oj.\n```\n$ gem uninstall oj --all\nSuccessfully uninstalled oj-2.1.4\n$ heroku ps --remote dev\n=== web (1X): bundle exec unicorn -p $PORT -c ./config/unicorn.rb\nweb.1: up 2014/05/19 17:17:03 (~ 16m ago)\nweb.2: up 2014/05/19 17:17:03 (~ 16m ago)\n=== worker (1X): bundle exec rake jobs:work\nworker.1: up 2014/05/19 17:17:00 (~ 16m ago)\n```\n. Updating to 3.7.5 fixed it for me, thanks @pedro!\n. ",
    "masterkrang": "Uninstalling gem oj worked for me but it's not a great solution if my apps depend on oj. Could it be oj version?\n. ",
    "jayd3e": "So I tried heroku update and it resulted in this error:\n!    `heroku update` is only available from Heroku Toolbelt.\n !    Download and install from https://toolbelt.heroku.com\nSo I just executed this command:\nwget -qO- https://toolbelt.heroku.com/install-ubuntu.sh | sh\nAs per this page.  heroku plugins:install git://github.com/heroku/heroku-pg-extras.git command ran ok.  Still having the same problem.\n. Ok thanks, I uninstall and reinstalled the gem, heroku pg:locks and it works.  Do you happen to have any idea how I would go about debugging my initial problem?  The problem involving this error \"still waiting for ShareLock on transaction\"?\n. Sounds good, will do.  Thanks!\n. ",
    "fdr": "Can you type heroku version?  My guess is you have a rubygem version of heroku and it's taking priority over the one on your system.  You can opt to somehow obliterate that copy, or upgrade the ruby gem (beware if an old version of the heroku gem snuck into your Gemfile.lock)\n. It's more a warning to let you know that there is lock contention, no?  It doesn't actually abort the query in question or anything.\nYou may want to open a support ticket so your identity can be confirmed and someone can have a look.  However, unless you see other symptoms, your problem is not an acute one (but maybe some things would work a lot better if you solve this).\n. I'm pretty sure that between sliced bread and this, this is the better of the two inventions.\n. I've since changed the instructions to hopefully call out the magical default DATABASE_URL interaction, but yeah, there are probably zero situations where this is good, by default or fat finger.\nNull opinion on where the blocking should happen, as I'm not convinced I am in a position to handle it right now.\n. On Tue, Oct 13, 2015 at 1:35 PM Will Leinweber notifications@github.com\nwrote:\n\nThis patch broke pg:diagnose\n\nHeh. Does it break it in every case, or shorthands only?\n. Wait, is it fixed now? I cannot reproduce using bundle exec bin/heroku on the very recent commit c38f111ffa6c5139f19f341d13978d317c51a41f.\n. I also cannot reproduce on the pre-pg:diagnose-change 8d805f04bf49e8294f138817f6e69d381f7ed75f.\n. Hm. Do you think I should grovel around for more similar defects, or do you suspect that things are now more fine-as-is?\nThe motivation behind my changes you mention in that PR is that, to allow use of Bastions, it's necessary to treat a database attachment as a cohort of config vars: just the URL part does not suffice like it would before.\nWhen the cohort has that bastion information, then I taught some of the primitives in the system to handle tunneling transparently.\nSo part of this patch was teaching (apparently not quite) all the relevant call sites how to deal with a richer, multi-config var \"attachment\" value rather than a URI, and it would appear that in the shuffle I lost a caching behavior that was meaningful.\n. Do you got any good idea for testing? I didn't. It's probably worth somehow stubbing out maybe_tunnel and seeing if one can test the other behavior properly. I didn't add any new commands, so the user-apparent surface area was equivalent, whereas this adds a new one.\nIf you don't want to launch this directly into the main toolbelt, it can also live in https://github.com/heroku/heroku-pg-extras/ with a lower bar of quality and necessity. That's how commands tend to get experimented with and promoted to toolbelt after being stable and useful for a time.\n. On Wed, Oct 14, 2015 at 9:03 AM Jeff Dickey notifications@github.com\nwrote:\n\nWe need a plugin to put the node code for pg stuff. I could at least get\nthat started if you like.\n\nDid you know Tim implemented an apparently functional \"maybeTunnel\" for\nnode in the Redis plugin? Maybe this can be of some interest. Though Marty\nalso did quite a bit of Node SSH tunneling work, so he's pretty familiar\nwith those mechanics as well...\n. I don't really understand this type switch very well. It seems incongruous with other cases with how generate_resolver.resolve is used, so is it dead code?\n. ",
    "yahzaa": "Fixed by downgrading openssl\n. ",
    "koenpunt": "You should report this in @ddollar's repo: https://github.com/ddollar/heroku-config\n. Done: ddollar/heroku-config#13\n. ",
    "eduresende": "It is intermittent, does not happen all the time\n. thanks a lot, @catsby !\nif I don't come back, it means it works forever\n:D\n. ",
    "imolinuevo": "I have the same problem, \u00bfdo you now how to solve it? :S\n. My problem was that the network I was using had port 5000 blocked.\n. ",
    "rasky": "FWIW, I have the very same problem today, with toolbelt 3.5.0.\n. @dickeyxxx I provided a fix more than one year ago here: https://github.com/heroku/toolbelt/issues/51#issuecomment-17076199\n. ",
    "tylergraf": "I'm also getting this same error today.\n. Awesome. Works now! thanks guys!\n. ",
    "halorgium": "The reason this occurs is that the rescue on line 225 cannot find the RestClient const. \nThe rest-client gem does not seem to be present any more. \n``\n    Error:       uninitialized constant Heroku::Command::RestClient (NameError)\n    Backtrace:   /Users/tim/.heroku/client/lib/heroku/command.rb:225:inrescue in run'\n                 /Users/tim/.heroku/client/lib/heroku/command.rb:269:in run'\n                 /Users/tim/.heroku/client/lib/heroku/cli.rb:28:instart'\n                 /usr/local/Cellar/heroku-toolbelt/3.3.0/libexec/bin/heroku:24:in `'\nCommand:     heroku run rails c --remote prod\nVersion:     heroku-toolbelt/3.6.0 (x86_64-darwin12.5.0) ruby/2.0.0\n\n```\n. I will fix it, I definitely am no grammar expert either. \n. ",
    "lee-dohm": "Looks like this is a duplicate of #814 \n. I believe part of the reason that they no longer distribute the heroku tool as a gem is so they can control the version of Ruby it runs under. For example on my system heroku version returns:\nheroku-toolbelt/3.1.0 (x86_64-darwin10.8.0) ruby/1.9.3\nEven though ruby --version returns:\nruby 2.0.0p353 (2013-11-22 revision 43784) [x86_64-darwin13.0.0]\nI suspect that the heroku gem is still first in your path and you are not using the toolbelt version. (This might also be indicated by the version stating heroku-gem/3.1.0 instead of heroku-toolbelt like in my output.) Try uninstalling the heroku gem and giving it another shot.\n. ",
    "Edo78": "After more than an year this issue is still opened ... Am I missing something? Is the standalone toolbelt supposed to have foreman included or not ?\n. ",
    "jpmolinamatute": "same problem in here\n. ",
    "armgit5": "Thank you guys! After I wait for a few hours and tried again, it just worked by itself. By the way what makes the difference between running a command with \"bundle exec\" and without it? Thanks!\n. Thank you so much Catsby! That explains a lot. I'm using the Toolbelt and do you know what caused the \"Error: timed-out\" when I run heroku run rake db:migrate? If I tried again after a few hours, the error just disappeared.\n. Thank you for your comment Gary, you are right about it :-)\n. Yes I have but it is still giving me the same error. The part that I don't understand is the datetimepick is working very well on my local machine. Please advise...Thanks.\nOn Saturday, November 23, 2013 10:51 PM, Michael Friis notifications@github.com wrote:\nHave you tried pushing again? It might have been an intermittent error in the system that receives your code.\n\u2014\nReply to this email directly or view it on GitHub.\n. Yes I have but it is still giving me the same error. The part that I don't understand is the datetimepick is working very well on my local machine. Please advise...Thanks.\n. I did these steps here and it works now:\n1. Production.db -> config.assets.compress = true\n2. Production.db -> config.assets.precompile += %w( jquery.datetimepicker.css jquery.datetimepicker.js )\n3. Run \"bundle exec rake assets:precompile\"\n4. on application.js I added \"//= require jquery.datetimepicker.js\"\n. I have another question I added two more files called select2.css and select2.js. I followed the same steps as stated previously. Everything worked on my development MAC, but when I pushed it to Heroku, it gave me \"We're sorry, but something went wrong. We've been notified about this issue and we'll take a look at it shortly.\" Would you please help?\n. I have included the followings on the page that game me the error massage. When I removed it from that page, it worked just fine.\n<%#= stylesheet_link_tag  \"select2\" %>\n<%#= javascript_include_tag , \"select2\" %>\n.",
    "GaryFrazier": "You may have a firewall blocking the port 5000, try disabling it then try to see if that is the problem.\n. ",
    "ys": "Hope to contribute for other stuff! Thanks for merging it\n\u2014\nSent from Mailbox for iPhone\nOn Thu, Nov 21, 2013 at 11:51 PM, Harold Gim\u00e9nez notifications@github.com\nwrote:\n\nthanks!\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/pull/952#issuecomment-29032795\n. I'm using it directly.\n. Thanks @biinari and @pedro \n. Can we have an example of the wrong netrc entry? So i can track that\n. Oh thanks, I will check our tools to help you here\n. Yes it really looks like a missing one:)\n\nIt rocks thanks a lot for the io.js plugin infra, I have fun writing a plugin:D\n. ",
    "oveddan": "+1\n. @pedro unfortunately that library has no tests at all, making it unsuitable for production use.  This feature would be really valuable, in particular when we want to write scripts that automate running a few heroku tasks in succession.  Is this feature in the works?\n. ",
    "wilson12": "What does this mean its just a simple login :(\n. @catsby sorry cant please close this issue as i got everthing running on my linux machine.I dont remember how as it quite a few days\n. ",
    "dacochan": "I suspect that the heroku gem is still first in your path and you are not using the toolbelt version. (This might also be indicated by the version stating heroku-gem/3.1.0 instead of heroku-toolbelt like in my output.) Try uninstalling the heroku gem and giving it another shot.\n->> Still Error\n. ",
    "rochapablo": "I'm having quite the same problem.\n$ heroku login\nEnter your Heroku credentials.\nEmail: my@email.com\nPassword (typing will be hidden):\n !    Invalid identifier.\nEvery other command that need credential it's the same problem. I don't even have the chance of type my password.\n$ heroku --version\nheroku/toolbelt/3.42.25 (i386-mingw32) ruby/2.1.7\nheroku-cli/4.27.9-cce0260 (386-windows) go1.5.2\n=== Installed Plugins\nheroku-apps@1.0.0\nheroku-cli-addons@0.1.1\nheroku-fork@4.0.0\nheroku-git@2.4.4\nheroku-local@4.1.5\nheroku-run@2.9.2\nheroku-status@1.2.4\n. git bash\n. Uhnnn, I'll check that.\nThank you.\n. Unfortunately I'm still logged through the cmd, I'm sure that happened for some mistaken that I did installing and uninstalling the git.\nSorry. \n. ",
    "karduk": "Had the same error with git bash prompt but when i changed to command prompt with ruby on rails i was able to type the password.\n. ",
    "1eandro": "I'm facing the same problem\n. Hello @ransombriggs, thank you for your response.\nHere is the output of 'heroku version':\n$ heroku version\nheroku/toolbelt/3.42.29 (i386-mingw32) ruby/2.1.7\nheroku-cli/4.27.14-a663ce1 (386-windows) go1.5.3\n=== Installed Plugins\nheroku-apps@1.1.3\nheroku-cli-addons@0.1.1\nheroku-fork@4.0.0\nheroku-git@2.4.4\nheroku-local@4.1.5\nheroku-run@2.9.2\nheroku-spaces@2.0.9\nheroku-status@1.2.4\nheroku-cli: Updating... done.\nAnd the problem of not being possible to type the password can be seen in this picture http://s10.postimg.org/fkf334ss9/the_error.png\nAfter I type my email I press enter and then (as shown in the picture) I receive an 'Invalid identifier' error.\nHowever, the 'hehoru login' command works fine using windows powershell, or even windows cmd\n. ",
    "stereoscott": "Hey Clint, I noticed this code in my ~/.heroku folder. I read that the gem was deprecated so I uninstalled the gem and deleted that folder but was still getting the error. I  found similar code in the toolbelt but couldn't find the code on github, so I thought I'd make a pull request here. I'll go back and make sure this is still an issue with everything up to date. Thanks. \n. Here is what I did:\n\u279c  rm -rf ~/.heroku\n\u279c  heroku update\nUpdating from 3.1.0... done, nothing to update\n\u279c  heroku plugins:update\n\u279c  heroku pg:info -r production\n/opt/boxen/heroku/lib/heroku/command/pg.rb:338: warning: wrong element type nil at 1 (expected array)\n/opt/boxen/heroku/lib/heroku/command/pg.rb:338: warning: ignoring wrong elements is deprecated, remove them explicitly\n/opt/boxen/heroku/lib/heroku/command/pg.rb:338: warning: this causes ArgumentError in the next release\nI checked the source of the heroku client (installed through boxen) and we're using version 3.1.0 of the heroku client installed from the tgz at http://assets.heroku.com.s3.amazonaws.com/heroku-client/heroku-client.tgz\nIs that an old / deprecated version of the heroku gem?\n. ",
    "loominator1970": "I have also received this error\n!\n !    Error connecting to process\n. ",
    "nicolasleger": "Tested on a real environment.\nMaybe need to display an error and not setting the new one if OLD_KEY is not found.\n. I needed to do it myself few times and doing set + unset was quite annoying.\nYou're right, I will add some tests and also do nothing if the OLD_KEY is not already present.\n. I face a deal because my implementation skip a version number which is I think not a good design.\nSome solutions would be : \n- to set the new key and unset the old so we will have the two new versions but one application restart in between\n- change the core API with a rename command\n. You're right in the current state the best thing to do is to wait the new platform API integration. :ok_hand: \nThanks a lot guys.\n. ",
    "omarshammas": "yes, you're right! It didn't occur to me to update the toolbelt. \nI performed a similar change for an app on the cedar stack last week and it worked. That led me to believe the issue was related to the stack and not the tool.\nIt may be helpful if there was auto update feature like oh my zsh. Or at least to a notification when a new version is released.\nThanks for your help @pedro!\n. Good to hear. Thanks again for your quick reply, and have a wonderful day!\n. ",
    "abdul-baseer": "The requested API endpoint was not found. Are you using the right HTTP verb (i.e. GET vs. POST), and did you specify your intended version with the Accept header?\nI am getting above error too while creating a heroku remote\n. ",
    "a-warner": "@catsby I'm getting this too - looks like it just updated locally.  I'm using the toolbelt:\nsh\n$ which heroku\n/usr/bin/heroku\n$ heroku ps\n/Users/andrew/.heroku/client/lib/heroku/command/ps.rb:2:in `require': no such file to load -- json (LoadError)\n    from /Users/andrew/.heroku/client/lib/heroku/command/ps.rb:2\n    from /Users/andrew/.heroku/client/lib/heroku/command.rb:14:in `require'\n    from /Users/andrew/.heroku/client/lib/heroku/command.rb:14:in `load'\n    from /Users/andrew/.heroku/client/lib/heroku/command.rb:13:in `each'\n    from /Users/andrew/.heroku/client/lib/heroku/command.rb:13:in `load'\n    from /Users/andrew/.heroku/client/lib/heroku/cli.rb:27:in `start'\n    from /usr/bin/heroku:25\nIt looks like it's trying to load 'json' without first loading rubygems\n. @catsby as info, I just installed the heroku gem and that seems to work fine... (although I got the standard \"this is deprecated\") message.  I'm running OSX 10.7.5\n. When I was having the issue I couldn't even run update - I would get the error whenever I used any heroku command...\n. > Is anyone still having any issue here?\nI'm still having the issue. It looks like the problem is that we're on an older version of ruby (1.8.7) which doesn't have 'json' without rubygems. We're using rbenv, so using a #/usr/bin/env ruby shebang is going to use the same ruby that a directory needs (specified by .ruby-version) when running the heroku command.\nHopefully this example is clear:\nsh\n$ pwd\n/Users/andrew/src\nandrew@andrews-mbp:~/src\n$ ruby -v\nruby 2.0.0p247 (2013-06-27 revision 41674) [universal.x86_64-darwin13]\n$ irb\nirb(main):001:0> require 'json'\n=> true\n$ cd foo/\nandrew@andrews-mbp:~/src/foo\n$ ruby -v\nruby 1.8.7 (2012-02-08 patchlevel 358) [i686-darwin13.0.0]\nandrew@andrews-mbp:~/src/foo\n$ irb\nirb(main):001:0> require 'json'\nLoadError: no such file to load -- json\n    from (irb):1:in `require'\n    from (irb):1\nirb(main):002:0> require 'rubygems'\n=> true\nirb(main):003:0> require 'json'\n=> true\nThis makes it difficult for me to use the heroku toolbelt! I think this could be fixed by a line like require 'rubygems' if RUBY_VERSION < '1.9' (or something)\n. this is still a problem for me \u2013 any solution?\n. Hmm, but if the toolbelt doesn't support 1.8.7, shouldn't it be smart enough to run with it's own version of ruby? (whatever version it needs)\nI'm using rbenv, and the toolbelt seems to run using the current rbenv ruby version. (so, for this issue, the toolbelt worked fine if i switched to 1.9+ but was broken on 1.8.7)\n. Also heroku-buildpack-ruby seems to support 1.8.7 so shouldn't the toolbelt support it as well?\n. sh\n$ heroku --version\nheroku-toolbelt/3.7.3 (i686-darwin13.1.0) ruby/1.8.7\nI'm on mavericks for which the default/system ruby is 2.0. Note that I'm using rbenv, so all ruby related executables are shimmed out and delegated to the rbenv ruby version. So maybe the toolbelt isn't properly figuring that out and using its own ruby?\n. @dickeyxxx thanks for letting me know! I'm on the toolbelt these days so I think I'm ok (but the toolbelt still says ruby/1.8.7?)\n. ruby\n$ heroku --version\nheroku-toolbelt/3.30.3 (i686-darwin13.1.0) ruby/1.8.7\n. I've got the homebrew version, is that updated yet?\n. Thanks @pedro \u2013 I appreciate the quick fix (and I also appreciate you re-enabling the 1.8 travis build!)\n. ",
    "davidwparker": "We're using the Heroku Toolbelt.\nMy Heroku related Gems (which I don't think are the problem):\n* heroku-api (0.3.15)\n  * heroku-deflater (0.5.2)\n  * heroku_san (4.3.2)\n. Should I uninstall and reinstall the Toolbelt?\n. I went ahead and re-downloaded the Toolbelt pkg (via https://toolbelt.heroku.com/) and re-installed it (without uninstalling anything) and it appears to be working.\nI'm not entirely sure what was going on, but I'm okay with closing this now. As @a-warner also had the same issue though, I'm going to leave it open until an Admin wants to close this issue.\n. I had the same issue as @a-warner \n. ",
    "josal": "I reinstalled the toolbet as well without uninstalling anything and everything seems to be working fine again.\n. ",
    "aferrisidg": "I had the same problem as indicated above, so downloaded and installed like @davidwparker and am up and running again. Thanks for documenting!\n. ",
    "tvon": "FWIW, the toolbelt seems to use whatever ruby you currently have active, so if you install the 'json' gem or switch to a ruby that has it you should get past this error.\n. @catsby apologies, upon further investigation it looks like I'm using the out-of-date homebrew formula (3.0.1).\n. Correction, the standalone heroku-client install uses whatever ruby is available, the OSX package install comes packaged with ruby 1.9.3 and works fine.\n. ",
    "brianfoshee": "@catsby The latest version of the standalone client (3.2.2) is failing to build on 10.7/8 in homebrew, raising the same json error. https://github.com/Homebrew/homebrew/pull/25796\n. It looks like the standalone Heroku client doesn't support 1.8.7  https://github.com/heroku/heroku/commit/40872ebf58168b8b96e1d638c08c07b81316bea2.\n. ",
    "chenjyw": "I'm having the same issue with a hobby tier database. It's not a database I'd expect any traffic to, yet the database has been stuck like this for the past day. I'd like to diagnose the problem, but that would require pg:ps. I could also just pg:killall but that seems to need another connection as well! Is there another method to reset the database?\n. ",
    "ChristopherRabotin": "Same issue here. Commands pg:kill x or pg:killall are obviously not of higher priority, so they get stuck too. In my case, I had 19 connections, tried killing one (after a pg:ps) and now it's stuck without any solution because I've reached 20 connections. So darn useful Heroku!\n```\n$ heroku pg:info -a XYZ\n=== HEROKU_POSTGRESQL_COBALT_URL (DATABASE_URL)\nPlan:        Basic\nStatus:      Available\nConnections: 19\nPG Version:  9.1.11\nCreated:     2013-03-12 15:11 UTC\nData Size:   7.16 GB\nTables:      103\nFork/Follow: Unsupported\nRollback:    Unsupported\n$ heroku pg:ps -a XYZ\n procpid | source |   running_for   | waiting | (...)\n$ heroku pg:kill 12593 -a XYZ\n pg_cancel_backend \n\nt\n(1 row)\n$ heroku pg:ps -a XYZ\npsql: FATAL:  too many connections for role \"abc\"\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method `[]' for nil:NilClass (NoMethodError)\nBacktrace:   /home/chris/.heroku/client/lib/heroku/command/pg.rb:442:in `version'\n             /home/chris/.heroku/client/lib/heroku/command/pg.rb:447:in `nine_two?'\n             /home/chris/.heroku/client/lib/heroku/command/pg.rb:451:in `pid_column'\n             /home/chris/.heroku/client/lib/heroku/command/pg.rb:226:in `ps'\n             /home/chris/.heroku/client/lib/heroku/command.rb:218:in `run'\n             /home/chris/.heroku/client/lib/heroku/cli.rb:37:in `start'\n             /usr/local/heroku/bin/heroku:24:in `<main>'\n\nCommand:     heroku pg:ps -a XYZ\nVersion:     heroku-toolbelt/3.9.6 (x86_64-linux) ruby/2.0.0\n\n$ heroku pg:killall -a XYZ\npsql: FATAL:  too many connections for role \"abc\"\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method `[]' for nil:NilClass (NoMethodError)\nBacktrace:   /home/chris/.heroku/client/lib/heroku/command/pg.rb:442:in `version'\n             /home/chris/.heroku/client/lib/heroku/command/pg.rb:447:in `nine_two?'\n             /home/chris/.heroku/client/lib/heroku/command/pg.rb:451:in `pid_column'\n             /home/chris/.heroku/client/lib/heroku/command/pg.rb:272:in `killall'\n             /home/chris/.heroku/client/lib/heroku/command.rb:218:in `run'\n             /home/chris/.heroku/client/lib/heroku/cli.rb:37:in `start'\n             /usr/local/heroku/bin/heroku:24:in `<main>'\n\nCommand:     heroku pg:killall -a XYZ\nVersion:     heroku-toolbelt/3.9.6 (x86_64-linux) ruby/2.0.0\n\n$ heroku pg:info -a XYZ\n=== HEROKU_POSTGRESQL_COBALT_URL (DATABASE_URL)\nPlan:        Basic\nStatus:      Available\nConnections: 20\nPG Version:  9.1.11\nCreated:     2013-03-12 15:11 UTC\nData Size:   8.24 GB\nTables:      103\nFork/Follow: Unsupported\nRollback:    Unsupported\n```\n. ",
    "rypan": "Running into this issue as well. \nMy app keeps crashing with the Possibly unhandled error: too many connections for role error. When I go to do heroku pg:killall I get psql: FATAL:  too many connections for role. I can't even run heroku pg:ps.\n@catsby, @craigkerstiens  - Any tips/tricks to work through or around this?\n. Thanks @hgmnz\n. ",
    "biinari": "The standalone toolbelt seems to use the system's ruby. I'm using rbenv so have checked the change in a ruby 1.9.3 and 2.0.0 and it works fine after the change. :+1:\n. ",
    "pfrank8": "Yes Clint, through Heroku support.  Thank you!\nOn Fri, Dec 27, 2013 at 2:35 PM, Clint notifications@github.com wrote:\n\nDid you find a solution here?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/983#issuecomment-31276631\n.\n. \n",
    "majianxiong": "How to solve the\n. ",
    "timcraft": "Woops, duplicate of #981 sorry.\n. ",
    "rpatil": "@catsby : Still issue is present. I tried your suggestion but no result.\nHeroku gem is not present in my Gemfile. Please suggest something.\n\n. No progress and success yet .. I made the changes as per your suggestion but again got same error.\n\n. ",
    "raul": "Probably related: when an unverified account tries to scale a dyno beyond 1 the CLI shows an error instead of instructions to verify the account.\n$ heroku ps:scale web=2\nScaling dynos... failed\n !    Internal server error.\n !    Run `heroku status` to check for known platform issues.\n. Probably related to #987 \n. ",
    "sclasen": "Should we add a message such as\nsimeone@heroku.com is already a member of the heroku organizaton. use heroku members:set simeone@heroku,com --role member to change their role\nor alternatively hit the endpoint for members:set if members:add returns a 302?\n. :+1: :+1:\n. :+1:\n. Yeah, the response will have a Request-Id header.   \nYou can just do something you know would fail, like \nheroku info -a some-nonexistent-app \nSo instead of \n[09:23:29 ] ~ $ heroku info -a failtastic\n !    App not found\n[09:23:29 ] ~ $ heroku info -a failtastic\n !    App not found (request-id: 12345c9c-745c-45f5-ac97-a02ee1234ad4)\n. not afaict\n. yep!\nOn Thu, Jan 29, 2015 at 10:48 AM, Jeff Dickey notifications@github.com\nwrote:\n\noh I see the problem, it's that the output command heroku logs -p run.6553\nshould show the app since it's not in the same context you're in now\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1390#issuecomment-72080720.\n. :+1: \n. +1 that is the phrase I had in mind too\n. \n",
    "raulb": "@sclasen good call. Modification added. What do you think?\nbash\n$ heroku members -o org-test\n=== Members of organization org-test\ncholo@heroku.com      member\nraulb@heroku.com      admin\nBefore:\nbash\n$ heroku members:add cholo@heroku.com -o org-test --role admin\nAdding cholo@heroku.com as member to organization org-test... failed\n !    Internal server error.\n !    Run `heroku status` to check for known platform issues.\nNow:\n``` bash\n$ be heroku members:add cholo@heroku.com -o org-test --role admin\nAdding cholo@heroku.com as admin to organization org-test... done\n$ heroku members -o org-test\n=== Members of organization org-test\ncholo@heroku.com      admin\nraulb@heroku.com      admin\n```\n. @sclasen sweet.\n@pedro deixe-me saber se este est\u00e1 pronto a ser incorporado e implementado!. Obrigado! \n:dancer: \n. Specs are passing locally:\nFinished in 14.68 seconds\n432 examples, 0 failures\n. @markpundsack what about this?\n$ be heroku members:add cholo@heroku.com -o org-test --role member\nAdding cholo@heroku.com as member to organization org-test...\ncholo@heroku.com is already a member in organization org-test. Setting role to member...\ndone\n. @markpundsack taking 2 examples of \"repeated commands\", we indeed opt for silently succeed. e.g.:\n$ heroku ps:scale web=2 -a raulb\nScaling dynos... done, now running web at 2:1X.\n$ heroku ps:scale web=2 -a raulb\nScaling dynos... done, now running web at 2:1X.\n$ heroku sharing:add ra.barroso@gmail.com -a raulb\nAdding ra.barroso@gmail.com to raulb as collaborator... done\n$ heroku sharing:add ra.barroso@gmail.com -a raulb\nAdding ra.barroso@gmail.com to raulb as collaborator... done\n. @geemus @sclasen I'd love to have your input here. So the discussion is how we should behave when 302s.\nUse case:\n- Adding a new member (it returns 201, that's fine):\nbash\n$ heroku members:add cholo@heroku.com -o org-test --role admin\nAdding cholo@heroku.com as admin to organization org-test... done\nBut what about when adding existing members?\n- With the same role. Should we silently succeed?\nbash\n$ heroku members:add cholo@heroku.com -o org-test --role admin\nAdding cholo@heroku.com as admin to organization org-test... done\nOr tell the user the role is changing?\nbash\n$ heroku members:add cholo@heroku.com -o org-test --role member\nAdding cholo@heroku.com as member to organization org-test...\ncholo@heroku.com is already a member in organization org-test. Setting role to member...\ndone\nJust tell them that they should use a different command? (heroku members:set instead of heroku members:add).\nShould we behave equally, no matter how its role is changing? (admin -> member == member -> admin).\ncc @itchymutt \n. @pedro what do you think about this one?\n. Thanks for your feedback @pedro. It seems that this needs a larger API discussion. What I think it's important to fix is the current behavior (adding existing members returns an error):\nbash\n$ h sudo members:add simeone@heroku.com -o heroku --role admin\nAdding simeone@heroku.com as admin to organization heroku... failed\n !    Internal server error.\nSo, my suggestion is:\n1. Hit the endpoint members:set when user already exists (see comment).\n2. Once we unblock the existing production bug, we could keep discussing a better design for this.\nThoughts? @pedro @markpundsack @sclasen @geemus \n. @pedro go for it, thanks!\nP.S.: Not sure I know why the build in Travis errored. Should I do something with that? It seems like a Bundler problem. Maybe just rebuilding would fix it...\n. @pedro thank you!, :dancer: \n. @geemus good question. What about here?\n. @jclem :thumbsup: \n. @catsby oops!! Thanks for the update!\n:dancer: \n. :dancer: \n. @dickeyxxx omg +:100: \n. :metal: !\n. For the record. It currently is:\n$ heroku orgs:default personal\nDEPRECATED: Use HEROKU_ORGANIZATION environment variable.\nAnd this PR proposes:\n$ heroku orgs:default\n!    orgs:default is no longer in the CLI.\n!    Use the HEROKU_ORGANIZATION environment variable instead.\n!    See https://devcenter.heroku.com/articles/develop-orgs#default-org for more info.\n@dickeyxxx Can we get rid of the reference of the Dev Center article for now? Looking at it I realized there are too many bits that are currently wrong and we should fix. I'm not sure sending people to a wrong Dev Center article is the right think to do at this point.\nUnless @itchymutt or @jsimone think we could easily revisit the whole article and make it right.\n. @dickeyxxx Dev Center article is up to date now: https://devcenter.heroku.com/articles/1931#default-org.\n. \n. @dickeyxxx Published!\n. @dickeyxxx maybe only for heroku sharing then.\n. @dickeyxxx I would have added the actual date (in case someone see this message after the next week). Or, maybe accommodate the message to be more flexible. Something like:\n\nWARNING: Heroku Toolbelt will start requiring Ruby 1.9+ on MM/DD/YYYY.\n\nUnless, next week you update this message to something like:\n\nWARNING: Heroku Toolbelt requires Ruby 1.9+.\n. Awesome. And for the record, I think it was the right call to leave the date out. I was mostly wondering how it'd look like after the next week.\n. @dickeyxxx :+1: \n. \n",
    "peternixey": "Plus one here\n``\nRunningrake db:migrate` attached to terminal... failed\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       EOFError (EOFError) (Excon::Errors::SocketError)\nBacktrace:   /usr/local/heroku/ruby/lib/ruby/1.9.1/openssl/buffering.rb:246:in readline'\n             /Users/petenixey/.heroku/client/vendor/gems/excon-0.31.0/lib/excon/socket.rb:100:inblock in readline'\n             /usr/local/heroku/ruby/lib/ruby/1.9.1/timeout.rb:68:in timeout'\n             /Users/petenixey/.heroku/client/vendor/gems/excon-0.31.0/lib/excon/socket.rb:99:inreadline'\n             /Users/petenixey/.heroku/client/vendor/gems/excon-0.31.0/lib/excon/response.rb:34:in parse'\n             /Users/petenixey/.heroku/client/vendor/gems/excon-0.31.0/lib/excon/middlewares/response_parser.rb:6:inresponse_call'\n             /Users/petenixey/.heroku/client/vendor/gems/excon-0.31.0/lib/excon/connection.rb:398:in response'\n             /Users/petenixey/.heroku/client/vendor/gems/excon-0.31.0/lib/excon/connection.rb:268:inrequest'\n             /Users/petenixey/.heroku/client/vendor/gems/heroku-api-0.3.17/lib/heroku/api.rb:76:in request'\n             /Users/petenixey/.heroku/client/lib/heroku/auth.rb:20:inrequest'\n             /Users/petenixey/.heroku/client/vendor/gems/heroku-api-0.3.17/lib/heroku/api/processes.rb:20:in post_ps'\n             /Users/petenixey/.heroku/client/lib/heroku/command/run.rb:115:inblock in run_attached'\n             /Users/petenixey/.heroku/client/lib/heroku/helpers.rb:227:in action'\n             /Users/petenixey/.heroku/client/lib/heroku/command/run.rb:114:inrun_attached'\n             /Users/petenixey/.heroku/client/lib/heroku/command/run.rb:24:in index'\n             /Users/petenixey/.heroku/client/lib/heroku/command.rb:218:inrun'\n             /Users/petenixey/.heroku/client/lib/heroku/cli.rb:28:in start'\n             /usr/local/heroku/bin/heroku:24:in'\nCommand:     heroku run rake db:migrate -a plantheworld\nVersion:     heroku-toolbelt/3.3.0 (x86_64-darwin10.8.0) ruby/1.9.3\n```\n. Hi Padro,\nThanks for the fast response. I haven't had a chance to redeploy yet but I'm actually pretty certain that the error was being caused by my rails app not having the rails_12_factor gem. I'd changed the rails.env variable to \"staging\" but had forgotten to move the gem into the staging group in my gemfile.\nI think I actually hit this error before and I've got other friends who have had the same issue. Would be great if the system had an error message to indicate this problem.\nThank you - Peter\nSent from my iPhone\n\nOn Feb 5, 2014, at 8:39 PM, Pedro Belo notifications@github.com wrote:\nHey there,\nThis seems like a connection error, is it happening consistently? Are you connecting over a proxy?\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "twohey": "This is a legacy project and no progress has happened for over 3 years. Closing as it appears the underlying issue will not be fixed and may not exist in the new CLI.. ",
    "sampsakuronen": "Please remove app and user specific information from this public log.\n. ",
    "max": "/cc @mattsoldo \n. @jesperfj has a good point: perhaps fully baked features don't belong in a generic heroku features bucket but can be integrated into the CLI. Since we are making these changes to launch log-runtime-metrics there is a proposal on the table to integrate this into heroku ps or heroku logs. I like heroku logs for this:\n$ heroku ps:log --cpu --memory\n$ heroku ps:log cpu=yes memory=yes\n$ heroku logs:level runtime=INFO router=ERROR\n. @jonmountjoy Your comments gave me some pause for thoughts:\nIt remains up for discussion whether log streams are the right transport for these metrics. One can image other ways of surfacing this information to our customers that would make a filter or setting unnecessary all together. As I understand it the reason we opted for a preference to begin with was log-stream flooding which would force upgrades to higher log management provider tiers. A design that doesn't involve logs at all could obliterate the need for a user option.\nIf we believe that logs are not the right transport we should not release log-runtime-metrics by extending the heroku logs command as proposed above.\nThe options on the table are:\n- Decide not to promote log-runtime-metrics to GA keeping the setting under heroku labs.\n- Releasing log-runtime-metrics as a GA feature reflecting our commitment with an appropriate interface with an internal understanding of it's transient nature (by which I mean replacing it with a superior implementation).\n/cc @rand @mfine\nOn the interface:\nWhile the route we pick for log-runtime-metrics has bearing on the heroku features vs heroku labs discussion \u2013 at the very least on its timeline \u2013 we should look at it generically:\nI don't disagree that it is very important we clearly communicate commitment to our customers but I believe we can do this without the labs distinction.\nMy primary concern with splitting features into two categories is we'd make our users think. We would be asking them to remember where certain features live. Prior ~~art~~ is Gmail Labs. I consistently have to look through all settings tabs and subsequently the Labs tab to find what I'm looking for.\nHere is a quick mockup of a GUI that makes it easy to distinguish between experimental features and GA features without relying on separate lists:\n\nEven without the colors (although hk has colored output support) we can convey a similar message in a CLI.\nIn a perfect world we wouldn't need a catch-all bucket like heroku features making heroku labs a great incubator for experimental settings. Unfortunately...\n\nit's going to be occasionally better to GA an ugly switch than to allow customers to fail on our platform. We should always regard having one of these switches as product debt to pay down and avoid it where we can / retire them when we can.\n\nLet's not ask our users to remember where to look for the ugly switch...\n. Here is an update on this:\n- A generic heroku features bucket is likely to incur design dept. We will continue to use heroku labs for experimental functionality and find appropriate homes for GA features on a case by case basis.\n- We have found a different approach to log-runtime-metrics (discussed internally).\n. @fabiokung Awesome. Here is a PR that I started that has usage and help copy changes.\n. Similar thing happened to me. Clean download of Toolbelt:\n$ heroku login\nEnter your Heroku credentials.\nEmail: my@email.com\nPassword (typing will be hidden): \n !    A second authentication factor or pre-authorization is required for this request. Your account has either two-factor or a Yubikey registered.\n !    \n !    Read more: https://devcenter.heroku.com/articles/two-factor-authentication\n$ heroku login\nEnter your Heroku credentials.\nEmail: my@email.com\nPassword (typing will be hidden): \nTwo-factor code: thecodez\nAuthentication successful.\n$\nThe first time around it didn't prompt me for a 2FA token but just errored. Second time around it worked fine.\n. ",
    "jkakar": "I can't help but wonder why these features aren't addons.  That's\nalready the way you augment your app with optional bits, right?\nSetting aside implementation difficulty, would it makes sense to ditch\nboth labs and features and just have addons.  Then addons themselves\ncan be alpha, beta, production, etc.\n. This is just here for testing purposes, right?\n. Should the removal of this behaviour be reverted since we decided not\nto go ahead with https://github.com/heroku/api/pull/960 at this time?\n. Since we know we got an HTTP 402 here is it safe to assume that there\nis at least one unpaid invoice?  If so, I recommend s/any past due/overdue/\nand using:\nPlease visit #{e.response.headers[:location]} to pay overdue invoices.\n. ",
    "jplethier": "I am having a similar problem when I try to fork an app:\nheroku fork -a sourceapp targetapp\nCreating fork targetapp... done\nCopying slug... done\nAdding adept-scale:skiff... done\nAdding deployhooks:email... skipped (email hook is missing config: recipient)\nAdding logentries:tryit... done\nAdding newrelic:hawke... done\nAdding pgbackups:auto-month... done\nAdding rediscloud:25... done\nAdding scheduler:standard... done\nAdding heroku-postgresql:standard-yanari... done\nWaiting for database to be ready (this can take some time)... Failed to fork app sourceapp to targetapp.\n!    WARNING: Potentially Destructive Action\n !    This command will destroy targetapp (including all add-ons).\n !    To proceed, type \"targetapp\" or re-run this command with --confirm targetapp\n\ntargetapp\nDeleting targetapp... done\nOriginal exception below:\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n\n``\nError:       uninitialized constant Heroku::Command::Fork::RestClient (NameError)\nBacktrace:   /Users/jplethier/.heroku/client/lib/heroku/command/fork.rb:169:inrescue in block (2 levels) in wait_for_db'\n             /Users/jplethier/.heroku/client/lib/heroku/command/fork.rb:165:in block (2 levels) in wait_for_db'\n             /Users/jplethier/.heroku/client/lib/heroku/command/fork.rb:164:inloop'\n             /Users/jplethier/.heroku/client/lib/heroku/command/fork.rb:164:in block in wait_for_db'\n             /Users/jplethier/.heroku/client/lib/heroku/helpers.rb:227:inaction'\n             /Users/jplethier/.heroku/client/lib/heroku/command/fork.rb:163:in wait_for_db'\n             /Users/jplethier/.heroku/client/lib/heroku/command/fork.rb:71:inblock in index'\n             /Users/jplethier/.heroku/client/lib/heroku/command/fork.rb:51:in each'\n             /Users/jplethier/.heroku/client/lib/heroku/command/fork.rb:51:inindex'\n             /Users/jplethier/.heroku/client/lib/heroku/command.rb:218:in run'\n             /Users/jplethier/.heroku/client/lib/heroku/cli.rb:37:instart'\n             /usr/bin/heroku:24:in `'\nCommand:     heroku fork -a sourceapp targetapp\nVersion:     heroku-toolbelt/3.8.3 (x86_64-darwin10.8.0) ruby/1.9.3\n```\n. ",
    "NathanielWroblewski": "Bizarre issue, but I was able to fix it.\nIn my /Users/.../.heroku/client/vendor/gems/ directory, I had a folder for excon-0.31.0, but the folder was missing several files.  I got the source from here and replaced the folder.  All is good now.  Not sure what caused this in the first place though, which is a little disconcerting.\n. ",
    "gkop": "I am seeing this as well - http://pastie.org/8720168\n. Just wanted to chime in that I received this error today, just once. Haven't been able to replicate. On Comcast residential internet in San Francisco, no proxy. Unfortunately I closed the terminal buffer so I can't paste the altnames given.\nheroku --version\nheroku-toolbelt/3.42.34 (x86_64-linux) ruby/2.3.0\nheroku-cli/4.28.2-9156ffa (amd64-linux) go1.6\n=== Installed Plugins\nheroku-apps@1.6.0\nheroku-cli-addons@0.3.0\nheroku-fork@4.1.1\nheroku-git@2.4.5\nheroku-local@5.0.1\nheroku-orgs@1.0.5\nheroku-pipelines@1.1.1\nheroku-run@3.0.0\nheroku-spaces@2.0.14\nheroku-status@2.1.1\n. ",
    "apsoto": "It's effectively broken on our CI server for us now.  Is there some work around to install more recent version of the heroku toolbelt?  Our mac workstations have more recent versions than what's seems to be available on ubuntu.\nWe also happen to have a Heroku support ticket (https://help.heroku.com/tickets/112614) but there's no other info there that I didn't already paste below:\n```\nheroku config:set FOO=bar -a wurl-andrea-node-qa\nSetting config vars and restarting wurl-andrea-node-qa... failed\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       wrong argument type Hash (expected Data) (TypeError)\nBacktrace:   /usr/local/heroku/vendor/gems/multi_json-1.8.4/lib/multi_json/adapters/json_common.rb:21:in `to_json'\n             /usr/local/heroku/vendor/gems/multi_json-1.8.4/lib/multi_json/adapters/json_common.rb:21:in `dump'\n             /usr/local/heroku/vendor/gems/multi_json-1.8.4/lib/multi_json/adapter.rb:24:in `dump'\n             /usr/local/heroku/vendor/gems/multi_json-1.8.4/lib/multi_json.rb:137:in `dump'\n             /usr/local/heroku/vendor/gems/heroku-api-0.3.17/lib/heroku/api/config_vars.rb:25:in `put_config_vars'\n             /usr/local/heroku/lib/heroku/command/config.rb:69:in `block in set'\n             /usr/local/heroku/lib/heroku/helpers.rb:227:in `action'\n             /usr/local/heroku/lib/heroku/command/config.rb:68:in `set'\n             /usr/local/heroku/lib/heroku/command.rb:218:in `run'\n             /usr/local/heroku/lib/heroku/cli.rb:28:in `start'\n             /usr/bin/heroku:25:in `<main>'\n\nCommand:     heroku config:set FOO=bar -a wurl-andrea-node-qa\nVersion:     heroku-toolbelt/3.4.1 (i486-linux) ruby/1.9.1\n\n```\nOS is:\n$ cat /etc/lsb-release\nDISTRIB_ID=Ubuntu\nDISTRIB_RELEASE=10.04\nDISTRIB_CODENAME=lucid\nDISTRIB_DESCRIPTION=\"Ubuntu 10.04 LTS\"\n. no, definitely an option.  If there is no work around, I'll have no choice.  Much easier to do what we need to do via the toolbelt than having to code up some direct API calls.\n. ",
    "tc123bk": "@pedro \nI got this exception in ubuntu while I'm trying to set config with heroku config:set command.\nBut according to changes history, the changes were reverted. \nhttps://github.com/heroku/heroku/commits/master/lib/heroku/cli.rb\nHow to fix this exception? Thanks.\n. ",
    "mistydemeo": "It would be great if that could be documented.\n. That was fast! Thanks!\nIs there a pure-Ruby version of the client that still works with Heroku's servers? It'd be helpful to be able to recommend something to users who aren't on amd64 machines.\n. ",
    "dwaynemac": "thx!!\nupdating toolbelt and then running\nheroku plugins:update\nsolved it.\n. ",
    "skoczen": "Deleting this, as this probably isn't the place - just hoping someone might notice.\n. ",
    "sime": "+1\n. ",
    "phikal": "Did you manage fix this?\n. Well, the issue was from 2014...\n. Anyway, I managed to fix it on Fedora 22 by updating my certificates and reinstalling heroku via gem.\n. ",
    "RainShadows": "Thanks for your reply. I'm still having the problem, so I've opened a support ticket.\n. ",
    "Tropicalista": "I've the same problem....could you explain how you solved?\n. ",
    "KumaresanS": "command : heroku login\nVersion : heroku/toolbelt/3.2.0  ruby/1.9.3\nThanks.\n. Yes. I logged in that address also.\n\n. That command shows the error sh.exe\": host: command not found\nThanks..\n. ping heroku.com command shows the error : Ping request could not find host heroku.com. Please check the name and try again.\n. How can i host the app. Without heroku-toolbelt is it possible to deploy my php app.\n. I'm using system proxy. If i using no proxy means internet connection abort. What can i do?\n. It shows the same error what i send error in beginning as a image\n. Thanks.. \n. ok. I will try without proxy with another connection.\nThanks\n. ",
    "jaredbeck": "This issue is almost one year old, and never received any attention.  I guess I'll just close it.\n. ",
    "hs2014": "Internet connection issue. Resolved by switching to a different provider. \nBut, not able to connect with ViewQwest Fibre Broadband Provider in Singapore. \n. ",
    "borisd": "@catsby its a toolbelt intall\nUsing rvm 1.24.4 with multiple ruby version on Mavericks 10.9.1\n. > which heroku \n\nheroku: aliased to bundled_heroku\nheroku version\nheroku-toolbelt/3.3.0 (x86_64-darwin10.8.0) ruby/1.9.3\n. \n",
    "Dimitri-Gnidash": "`heroku config' works, but you are right that this is likely a firewall issue.\n. Yes, it was! Thank you\nDimitri\n647.773.7223\nOn Wed, Feb 26, 2014 at 5:24 PM, Pedro Belo notifications@github.comwrote:\n\nAh! This might be helpful:\nhttps://devcenter.heroku.com/articles/one-off-dynos#troubleshooting\n\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/1039#issuecomment-36185439\n.\n. \n",
    "Baccanno": "Different one :/\n\n. I'll try a reinstall and I'll tell you what\n. Doing a fresh install from latest executable fixed the issue! Might have been a gem install\n. ahahaha sorry for this. You gotta use it for other stuff anyway ;)\n. ",
    "lekki": "Hi Pedro,\nno plugins\nls ~/.heroku/plugins\nls: /Users/lekki/.heroku/plugins: No such file or directory\n. Hi @catsby \nI'm having this problem regardless of directory. Yes, I think that's the full output.\ngem list | grep heroku\nheroku-api (0.3.8)\n. eroku auth:login\n !    auth:login is not a heroku command.\n !    See heroku help for a list of available commands.\nstupid question, how to remove entire installation with all files?\n. ",
    "chewymeister": "I am also experiencing the same issue as lekki.\nAfter download straight from the website, I receive the same error.\nheroku --version\nheroku-toolbelt/3.3.0 (x86_64-darwin10.8.0) ruby/1.9.3\nwhich heroku\n/usr/local/heroku/bin/heroku\nheroku login\n! login is not a heroku command.\n! Perhaps you meant 'join'\n! See heroku help for a list of available commands.\nheroku help\n! help is not a heroku command.\n! Perhaps you meant ssl.\n! See heroku help for a list of available commands.\nI have tried reinstalling but receive the same error. Please help!\n. ",
    "starrychloe": "No I'm not. It was working before. What is the server name it is trying to contact?\n. ",
    "lacostenycoder": "I'm having  a similar issue... did you ever find a solution?\n. What solved this for me  was to complete remove all installs of heroku toolbelt.\nDo not install using gem install.  Use the heroku installation pkg from here: https://toolbelt.heroku.com/\nI'm using rbenv to manage different ruby environments. Using this installer fixed my problems.\nHope this helps.\n. ",
    "jessegavin": "I am also having this issue.\n. ",
    "eladbez": "i am also with this issue . it is something eith my computer from a friends computer it works\n. ",
    "sudharsan81": "Try this.It worked for me.\nDownload and Run http://www.telerik.com/download/fiddler/first-run (local proxy)\nand then issue any heroku command.\n. ",
    "robertlagrant": "I also get this intermittently on Windows; same connection, same corporate firewall settings; can push to heroku git but can't always run heroku login (or anything that depends on it) but then eventually, e.g. the next day, I can again.\n. ",
    "VRanga000": "FYI - my issue was that I had the env var http_proxy set. This is likely to be an issue for others using it behind a corp vpn.\n. ",
    "andr3wll": "I use the heroku toolbelt from homebrew and get the same issue. In my case installing the version from https://toolbelt.heroku.com/ can solve the issue.\n. ",
    "JohnsonMatsiko": "Ive just installed the version from https://toolbelt.heroku.com/ and it still won't work. \n. ",
    "vaske": "hm I don't have any firewall or proxy..\n. ",
    "mrthan": "Thanks, I installed oj and oj_mimic_json but the error still occurred. Tried checking for a toolbelt update and updated from 3.5 to 3.6, the fork is successful on 3.6.\nIs a global install of those gems the way to affect the heroku use of them?\n. ",
    "ketan": "Same here \u2013\u00a0on Centos 6.5. It appears that the distribution no longer contains the vendorized gems as it did before.\n. @vodolaz095 in order to build the distribution \u2013\u00a0\n$ git clone https://github.com/heroku/heroku\n$ bundle install\n$ bundle exec rake tgz:build\n. ",
    "vodolaz095": "any ideas how we can add \"vendirzed gems\" to it?\ni do not have any ruby experience, and i do not know how it can be done(\n. thanks... but it bubbled about this\n``` shell\nInstalling sqlite3 (1.3.7) \nGem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.\n/usr/bin/ruby extconf.rb\n\nmkmf.rb can't find header files for ruby at /usr/share/include/ruby.h\nGem files will remain installed in /home/nap/.gem/ruby/gems/sqlite3-1.3.7 for inspection.\nResults logged to /home/nap/.gem/ruby/gems/sqlite3-1.3.7/ext/sqlite3/gem_make.out\nAn error occurred while installing sqlite3 (1.3.7), and Bundler cannot continue.\nMake sure that gem install sqlite3 -v '1.3.7' succeeds before bundling.\n```\nbut heroku application started.\nat least i was able to set enviroment variables\nAlso i have a question, do we still need the sqlite 3 module for heroku?\n. ",
    "dmmd": "I had the same problem on Fedora 20, rvm 1.25.19 with Ruby 2.0.0\nI installed heroku toolbelt 3.6 with \nwget -qO- https://toolbelt.heroku.com/install.sh | sh\nand got the same\n/usr/share/rubygems/rubygems/core_ext/kernel_require.rb:55:in `require': cannot load such file -- netrc (LoadError)\nThe following gems fix the runtime error:\ngem install netrc\ngem install heroku-api\nHeroku now works perfectly well. \n. ",
    "enockseth": "Wow! Works perfectly.. If you're not able to go use the above successfully, you can look  at hk also works perfectly but not recommended for production. \n. ",
    "seanknox": "Dupe of https://github.com/heroku/heroku/issues/1057. \n. @vodolaz095 can you close if no longer an issue?\n. No longer using this feature so can't say. Thanks for checking in, closing.. Some more info: it looks like the Heroku CLI isn't loading the client/vendor gems. On a working system, running heroku pipeline yields the following Ruby lib_path just before the call to Heroku::OkJson is made:\nruby\n2.0.0 (#<Cisaurus:0x007fd1fd7ddee0>)> $:\n=> [\n  [ 0] \"/Users/sean/.heroku/client/vendor/gems/rubyzip-0.9.9/lib\",\n  [ 1] \"/Users/sean/.heroku/client/vendor/gems/rest-client-1.6.7/lib\",\n  [ 2] \"/Users/sean/.heroku/client/vendor/gems/netrc-0.7.7/lib\",\n  [ 3] \"/Users/sean/.heroku/client/vendor/gems/multi_json-1.10.1/lib\",\n  [ 4] \"/Users/sean/.heroku/client/vendor/gems/mime-types-1.25.1/lib\",\n  [ 5] \"/Users/sean/.heroku/client/vendor/gems/launchy-2.4.2/lib\",\n  [ 6] \"/Users/sean/.heroku/client/vendor/gems/heroku-api-0.3.19/lib\",\n  [ 7] \"/Users/sean/.heroku/client/vendor/gems/excon-0.40.0/lib\",\n  [ 8] \"/Users/sean/.heroku/client/vendor/gems/addressable-2.3.6/lib\",\n  [ 9] \"/Users/sean/.heroku/client/lib\",\n  [10] \"/opt/boxen/heroku/lib\",\n  [11] \"/opt/boxen/heroku/vendor/gems/rubyzip-0.9.9/lib\",\n  [12] \"/opt/boxen/heroku/vendor/gems/rest-client-1.6.7/lib\",\n  [13] \"/opt/boxen/heroku/vendor/gems/netrc-0.7.7/lib\",\n  [14] \"/opt/boxen/heroku/vendor/gems/mime-types-1.21/lib\",\n  [15] \"/opt/boxen/heroku/vendor/gems/launchy-2.3.0/lib\",\n  [16] \"/opt/boxen/heroku/vendor/gems/heroku-api-0.3.15/lib\",\n  [17] \"/opt/boxen/heroku/vendor/gems/excon-0.25.3/lib\",\n  [18] \"/opt/boxen/heroku/vendor/gems/addressable-2.3.2/lib\",\n  [19] \"/opt/rubies/2.0.0-p353/lib/ruby/gems/2.0.0/gems/json-1.8.1/lib\",\n...[snip]\nOn the broken system, those client/vendor libs are not loaded:\nruby\n1] pry(#<Cisaurus>)> $:\n=> [\"/usr/local/heroku/lib\",\n \"/usr/local/heroku/vendor/gems/multi_json-1.10.1/lib\",\n \"/usr/local/heroku/vendor/gems/netrc-0.7.7/lib\",\n \"/usr/local/heroku/vendor/gems/excon-0.40.0/lib\",\n \"/usr/local/heroku/vendor/gems/addressable-2.3.6/lib\",\n \"/usr/local/heroku/vendor/gems/launchy-2.4.2/lib\",\n \"/usr/local/heroku/vendor/gems/rest-client-1.6.7/lib\",\n \"/usr/local/heroku/vendor/gems/heroku-api-0.3.19/lib\",\n \"/usr/local/heroku/vendor/gems/mime-types-1.25.1/lib\",\n \"/usr/local/heroku/vendor/gems/rubyzip-0.9.9/lib\",\n \"/home/ubuntu/.rvm/gems/ruby-2.0.0-p353@dabo_act/gems/coderay-1.1.0/lib\",\n \"/home/ubuntu/.rvm/gems/ruby-2.0.0-p353@dabo_act/gems/slop-3.6.0/lib\",\n \"/home/ubuntu/.rvm/gems/ruby-2.0.0-p353@dabo_act/gems/method_source-0.8.2/lib\",\n \"/home/ubuntu/.rvm/gems/ruby-2.0.0-p353@dabo_act/gems/pry-0.10.1/lib\",\n \"/home/ubuntu/.rvm/rubies/ruby-2.0.0-p353/lib/ruby/site_ruby/2.0.0\",\n \"/home/ubuntu/.rvm/rubies/ruby-2.0.0-p353/lib/ruby/site_ruby/2.0.0/x86_64-linux\",\n \"/home/ubuntu/.rvm/rubies/ruby-2.0.0-p353/lib/ruby/site_ruby\",\n \"/home/ubuntu/.rvm/rubies/ruby-2.0.0-p353/lib/ruby/vendor_ruby/2.0.0\",\n \"/home/ubuntu/.rvm/rubies/ruby-2.0.0-p353/lib/ruby/vendor_ruby/2.0.0/x86_64-linux\",\n \"/home/ubuntu/.rvm/rubies/ruby-2.0.0-p353/lib/ruby/vendor_ruby\",\n \"/home/ubuntu/.rvm/rubies/ruby-2.0.0-p353/lib/ruby/2.0.0\",\n \"/home/ubuntu/.rvm/rubies/ruby-2.0.0-p353/lib/ruby/2.0.0/x86_64-linux\",\n \"/home/ubuntu/.heroku/plugins/heroku-pipeline/lib\"]\n. Hey @dickeyxxx! I missed that one on the pipeline page. Thanks so much.\n. ",
    "ted-ross": "Thanks!  The HEROKU_API_KEY solution got me past the roadblock.\n. ",
    "phill-atlassian": "@christhekeele - I had to manually add in \ngem install netrc && gem install heroku-api\nin our instance startup script as a workaround for the moment. We are looking into this in more detail.\n. ",
    "jeffmcfadden": "We've hit the same issue attempting to deploy to Heroku from Semaphoreapp. They had just updated their version of heroku tool belt as well.\n. ",
    "methyl": "@jeffmcfadden I used gem install netrc && gem install heroku-api as first deploy command on Semaphore as a workaround\n. ",
    "tony-f": "The workaround on Semaphore using the gem install netrc && gem install heroku-api as first deploy command works well for us also...thx @jeffmcfadden \n. Awesome!  Thanks!!\n. ",
    "peterg117": "I'm using Windows 8.1 however my  development environment is a nitrous box\nusing rails 4.1 rc1 and ruby 2.1.1\nOn Mar 20, 2014 9:44 AM, \"Clint\" notifications@github.com wrote:\n\nThis is coming from the Launchy gemhttps://github.com/copiousfreetime/launchy/blob/dae4d4e2a12e430a309010917c2738ca6c2cd6a1/lib/launchy/applications/browser.rb#L63,\nit's unable to find a browser, what OS are you using?\nUnfortunately it's not likely on Heroku's side, but I'll see if there's\nsomething client side here we can improve.\n\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/1061#issuecomment-38175061\n.\n. Yes you are correct. And its quite alright this will be a learning\nexperience for both of us then. I'm new to this deployment for rails app\nand things alike. It's actually for school for my final he wants it\ndeployed on heroku. Which it is, but its not really running on the heroku\nserver. I would totally ask my teacher to help but he has stopped answering\nhis emails.\n\nAnd I believe the nitrous box is using GNU/Linux 3.13.4 x86_64\nThanks for the help,\nPeter\nOn Mar 20, 2014 11:13 AM, \"Clint\" notifications@github.com wrote:\n\nso, you're running the heroku open command on the remote Nitrous box, not\nyour local Windows machine, right? Forgive me, I'm not totally familiar\nwith Nitrous.io\n\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/1061#issuecomment-38186961\n.\n. \n",
    "graf": "The same issue for me.\n. ",
    "novazembla": "Same here!\n. ",
    "bdarfler": "Same\n. ",
    "dgehrett": "No worries @catsby \nIt's working for me now.  Thanks!\n. ",
    "keichan34": "It seems like the heroku pg:* commands are failing too. \n. Just confirming -- the latest version will pull the new versions of dependent gems when auto-updating, or will we need to re-install again once the bug is fixed?\n. @brandur Ah, very cool. Thanks for the description!\n. ",
    "pcasaretto": "same thing here.\n. ",
    "lisad": "I am getting the same problem on all pg: commands.  Is there a way to roll back the heroku toolbelt to a version that doesn't have these problems?  (Or is it caused by a backend change?)\n. ",
    "bvirlet": "same here\n. reinstalling what? The heroku toolbelt?\n. Actually, had to uninstall the toolbelt:\nrm -rf ~/.heroku\nsudo rm -rf /usr/local/heroku /usr/bin/heroku\nAnd then reinstall it. Solved the problem\n. ",
    "jamiefolsom": "+1\n. Reinstalling corrected the issue for me.\n. ",
    "mkanthan": "I had this issue - and reinstalling heroku toolbelt worked for me.\n. Yep, I saw it just after. I did a quick search and must have missed it.  Thanks. \n. ",
    "thewoolleyman": "Duplicate of https://github.com/heroku/heroku/issues/1084 ?\n. Duplicate of https://github.com/heroku/heroku/issues/1066 ?\n. ",
    "kaldown": "There is no vendor/gems\nkaldown@d610:~/heroku % tar xzvf heroku-client.tgz \nx heroku-client/\nx heroku-client/bin/\nx heroku-client/data/\nx heroku-client/lib/\nx heroku-client/lib/heroku/\nx heroku-client/lib/heroku.rb\nx heroku-client/lib/vendor/\nx heroku-client/lib/vendor/heroku/\nx heroku-client/lib/vendor/heroku/okjson.rb\nx heroku-client/lib/heroku/auth.rb\nx heroku-client/lib/heroku/cli.rb\nx heroku-client/lib/heroku/client/\nx heroku-client/lib/heroku/client.rb\nx heroku-client/lib/heroku/command/\nx heroku-client/lib/heroku/command.rb\nx heroku-client/lib/heroku/deprecated/\nx heroku-client/lib/heroku/deprecated.rb\nx heroku-client/lib/heroku/distribution.rb\nx heroku-client/lib/heroku/excon.rb\nx heroku-client/lib/heroku/helpers/\nx heroku-client/lib/heroku/helpers.rb\nx heroku-client/lib/heroku/plugin.rb\nx heroku-client/lib/heroku/updater.rb\nx heroku-client/lib/heroku/version.rb\nx heroku-client/lib/heroku/helpers/heroku_postgresql.rb\nx heroku-client/lib/heroku/helpers/log_displayer.rb\nx heroku-client/lib/heroku/helpers/pg_dump_restore.rb\nx heroku-client/lib/heroku/deprecated/help.rb\nx heroku-client/lib/heroku/command/accounts.rb\nx heroku-client/lib/heroku/command/addons.rb\nx heroku-client/lib/heroku/command/apps.rb\nx heroku-client/lib/heroku/command/auth.rb\nx heroku-client/lib/heroku/command/base.rb\nx heroku-client/lib/heroku/command/certs.rb\nx heroku-client/lib/heroku/command/config.rb\nx heroku-client/lib/heroku/command/domains.rb\nx heroku-client/lib/heroku/command/drains.rb\nx heroku-client/lib/heroku/command/fork.rb\nx heroku-client/lib/heroku/command/git.rb\nx heroku-client/lib/heroku/command/help.rb\nx heroku-client/lib/heroku/command/keys.rb\nx heroku-client/lib/heroku/command/labs.rb\nx heroku-client/lib/heroku/command/logs.rb\nx heroku-client/lib/heroku/command/maintenance.rb\nx heroku-client/lib/heroku/command/members.rb\nx heroku-client/lib/heroku/command/orgs.rb\nx heroku-client/lib/heroku/command/pg.rb\nx heroku-client/lib/heroku/command/pgbackups.rb\nx heroku-client/lib/heroku/command/plugins.rb\nx heroku-client/lib/heroku/command/ps.rb\nx heroku-client/lib/heroku/command/regions.rb\nx heroku-client/lib/heroku/command/releases.rb\nx heroku-client/lib/heroku/command/run.rb\nx heroku-client/lib/heroku/command/sharing.rb\nx heroku-client/lib/heroku/command/ssl.rb\nx heroku-client/lib/heroku/command/stack.rb\nx heroku-client/lib/heroku/command/status.rb\nx heroku-client/lib/heroku/command/update.rb\nx heroku-client/lib/heroku/command/version.rb\nx heroku-client/lib/heroku/client/cisaurus.rb\nx heroku-client/lib/heroku/client/heroku_postgresql.rb\nx heroku-client/lib/heroku/client/organizations.rb\nx heroku-client/lib/heroku/client/pgbackups.rb\nx heroku-client/lib/heroku/client/rendezvous.rb\nx heroku-client/lib/heroku/client/ssl_endpoint.rb\nx heroku-client/data/cacert.pem\nx heroku-client/bin/heroku\nkaldown@d610:~/heroku/heroku-client % ll\ntotal 12\ndrwxr-xr-x  2 kaldown  wheel  512 Mar 15 00:31 bin/\ndrwxr-xr-x  2 kaldown  wheel  512 Mar 15 00:31 data/\ndrwxr-xr-x  4 kaldown  wheel  512 Mar 15 00:31 lib/\n. ",
    "briankyckelhahn": "\"heroku certs --app [name]\" fails for me, too:\ntestolde:ol b$ heroku certs --app myappname\n!    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       undefined method[]' for nil:NilClass (NoMethodError)\nBacktrace:   /Users/username/.heroku/client/lib/heroku/command/certs.rb:25:in block in index'\n             /Users/username/.heroku/client/lib/heroku/command/certs.rb:22:inmap!'\n             /Users/username/.heroku/client/lib/heroku/command/certs.rb:22:in index'\n             /Users/username/.heroku/client/lib/heroku/command.rb:218:inrun'\n             /Users/username/.heroku/client/lib/heroku/cli.rb:28:in start'\n             /usr/bin/heroku:24:in'\nCommand:     heroku certs --app myappname\nPlugins:     heroku-accounts\n             heroku-repo\nVersion:     heroku-toolbelt/3.6.0 (x86_64-darwin10.8.0) ruby/1.9.3\n```\n. ",
    "yellowaj": "Same error for me. I successfully updated the certs, however when I try to output anything from heroku certs it throws the following error:\n```\nCertificate details:\n!    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method `[]' for nil:NilClass (NoMethodError)\nBacktrace:   /Users/username/.heroku/client/lib/heroku/command/certs.rb:163:in `display_certificate_info'\n             /Users/username/.heroku/client/lib/heroku/command/certs.rb:115:in `info'\n             /Users/username/.heroku/client/lib/heroku/command.rb:218:in `run'\n             /Users/username/.heroku/client/lib/heroku/cli.rb:28:in `start'\n             /usr/bin/heroku:24:in `<main>'\n\nCommand:     heroku certs:info --app app-name\nPlugins:     heroku-accounts\n             heroku-repo\n\nVersion:     heroku-toolbelt/3.6.0 (x86_64-darwin10.8.0) ruby/1.9.3\n\n```\n. ",
    "arimus": "Has anyone found a solution to this problem yet?  Still occurring for me.\n. And...update.\nSo, I added the certificate before adding the domains.  Doing a \"heroku certs\" showed me the certificate without a common name and other details.  \nTo resolve, I added the common name, then removed / re-added the cert, then all was well.  heroku certs and heroku certs:info look appropriate now.\n. ",
    "cyberdelia": "@pedro Oops! I fixed the spec.\n. @pedro Hold off merging this, still making some final checks.\n. @dickeyxxx It's complicated. We should probably close this for now.\n. Looks good.\n. cc/ @fnando \n. Actually, there is a case that this doesn't handle well.\n. There you go, fixed.\n. We return the region whatever the region your in now.\n. I did the reverse in the redis plugin: resource (config_vars, ...)\n. ",
    "anuja-kelkar": "Well, I have discovered that the problem starts right from creating a heroku app from heroku CLI..\nI have a private git repo on bitbucket.org. I am trying to deploy the app.\nI did: heroku login, which was successful\nThen, I tried doing: heroku create appname\nThis resulted in the following error:\nCreating appname... done, stack is cedar\nhttp://appname.herokuapp.com/ | git@heroku.com:appname.git\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       No such file or directory -  git --version  (Errno::ENOENT)\nBacktrace:   D:/Users/Anuja Kelkar/.heroku/client/lib/heroku/helpers.rb:93:i\nn `'\n                 D:/Users/Anuja Kelkar/.heroku/client/lib/heroku/helpers.rb:93:i\nnhas_git?'\n                 D:/Users/Anuja Kelkar/.heroku/client/lib/heroku/helpers.rb:98:i\nn git'\n                 D:/Users/Anuja Kelkar/.heroku/client/lib/heroku/helpers.rb:146:\nincreate_git_remote'\n                 D:/Users/Anuja Kelkar/.heroku/client/lib/heroku/command/apps.rb\n:278:in create'\n                 D:/Users/Anuja Kelkar/.heroku/client/lib/heroku/command.rb:218:\ninrun'\n                 D:/Users/Anuja Kelkar/.heroku/client/lib/heroku/cli.rb:28:in s\ntart'\n                 E:/Heroku/bin/heroku:29:in'\nCommand:     heroku create appname\nVersion:     heroku/toolbelt/3.6.0 (i386-mingw32) ruby/1.9.3\n. ",
    "AbsDeveloper": "Something new about this problem?\n. I solved it doing a clean instalation of git bash and heroku toolbelt.\nThanks for your help.\n. ",
    "rhettc": "That is easier for running a single command against a single app, and I didn't realize I could just supply the url to psql - that's very convenient. I often find myself running a single query against five apps, though so I'm availing myself of the binstub and wildcard plug-in. I suppose, I can just work that into a local psql invocation with a script or by extending a plug-in.  Cheers. \n. For anyone that finds this the above psql invocation will not work at the command line. The DATABASE_URL cannot be used directly to make a connection, as far as I can tell. Therefore you may want to try \npsql -c \"SELECT 1;\"  \"$(dev  pg:credentials DATABASE | grep dbname | tr -d \"\\\"\" )\"\nIt's ugly but the connection string format - that is readily consumed at the command line by psql - is only available from the pg:credentials which includes a lot of other text and formatting that get in the way.    \nThat assumes you have are using binstubs and have a binstub named \"dev\". If that's not the case you'll need to remove the \"dev\" invocation and instead use the -app option that @deafbybeheading  used in his example.\n. Ahhh! Updated my client to 9.3 and it works!  Thanks!\n. Commit indirectly referenced above\nlocalmed/heroku-pg-extras@9655c731719827349aa9fc217486b22d736e56be\n. ",
    "davidcelis": "This is preventing updating the Homebrew formula for the heroku toolbelt (Homebrew/homebrew#28486) so it would be really nice if you guys could go back to vendoring dependencies in the source tarball.\n. ",
    "jacknagel": "ping: this is an issue for Homebrew (https://github.com/Homebrew/homebrew/pull/28486) as we really don't want to manage gems; a status update here would be appreciated, thanks.\n. ",
    "canercak": "I also have that error!\n. ",
    "talp101": "Me too, what is the solution for this problem?\n. ",
    "mjankowski": "I had this issue today as well.\nUninstalling the toolbelt binary, and then installing the heroku gem fixed the issue for me.\n. ",
    "acmisiti": "I am seeing this exact issue still when adding an ssl certificate. The heroku gem is outdated now so any other solution suggestions?\n. heroku-toolbelt/3.42.23 (x86_64-darwin10.8.0) ruby/1.9.3\nheroku-cli/4.27.7-135a760 (amd64-darwin) go1.5.1\n=== Installed Plugins\nheroku-apps@1.0.0\nheroku-cli-addons@0.1.1\nheroku-fork@4.0.0\nheroku-git@2.4.4\nheroku-local@4.1.5\nheroku-run@2.9.2\nheroku-status@1.2.3\n. ",
    "tsili": "I have the same problem and here is what CLI says to me and as stated by the OP the .netrc.gpg has a pass phrase. The problem does not persist if .netrc.gpg is decrypted prior to login. \ntsili@m18x-linux ~ $ heroku login\ngpg: can't query passphrase in batch mode\ngpg: decryption failed: secret key not available\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       Decrypting /home/tsili/.netrc.gpg failed. (Netrc::Error)\nBacktrace:   /usr/local/heroku/vendor/gems/netrc-0.7.7/lib/netrc.rb:34:inread'\n             /usr/local/heroku/lib/heroku/auth.rb:132:in netrc'\n             /usr/local/heroku/lib/heroku/auth.rb:104:indelete_credentials'\n             /usr/local/heroku/lib/heroku/auth.rb:40:in login'\n             /usr/local/heroku/lib/heroku/command/auth.rb:31:inlogin'\n             /usr/local/heroku/lib/heroku/command.rb:218:in run'\n             /usr/local/heroku/lib/heroku/cli.rb:37:instart'\n             /usr/bin/heroku:25:in `'\nCommand:     heroku login\nVersion:     heroku-toolbelt/3.8.4 (x86_64-linux) ruby/1.9.3\n```\n. ",
    "sathvikp": "While the prompt hangs, it seems to be running C:\\windows\\system32\\cmd.exe /c \"git remote -v 2>&1 \", (spawned by ruby  \"C:\\Program Files (x86)\\Heroku\\bin\\heroku\" version) with roughly 25% CPU usage\n. Fixed - It had a file called git.bat, which heroku was using instead of the original git command, running it in an infinite loop\n. ",
    "arirubinstein": "@pedro any update on this? \n. ",
    "rajiv": "heroku-toolbelt/3.7.3 (i686-linux) ruby/1.8.7\ni'm on an old linux box that only has 1.8.7 installed. i believe i installed the \"standalone\" version from https://toolbelt.heroku.com/standalone and that it does not include ruby.\n. ",
    "emas80": "Thanks brandur, when this will be available? In the next release? Any plan?\nI'm completely stuck now, I can't work with this version, and I need to understand how to proceed as I really need the CLI for my job.\n. Thanks Brandur, I put the line of code inside my local version, and the CLI\nis working again.\nOn Mon, May 5, 2014 at 4:40 PM, Brandur notifications@github.com wrote:\n\nHey Emanuele,\nWe're going to ship a new release pretty soon, at which point your\nclient should autoupdate itself.\nIn the meantime, the Toolbelt should be downloading updates to your\n~/.heroku/client. Can you go into that directory, and then apply the\npatch on this pull request? [1] That should hopefully get the problem\npatched for the time being so that you can continue working until the\nnew version is released.\nLet us know what happens. Sorry about the trouble here!\n[1] https://github.com/heroku/heroku/pull/1102/files\nOn Mon, May 05, 2014 at 07:02:35AM -0700, Emanuele Massara wrote:\n\nThanks brandur, when this will be available? In the next release? Any\nplan?\nI'm completely stuck now, I can't work with this version, and I need to\nunderstand how to proceed as I really need the CLI for my job.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/1101#issuecomment-42190665\n\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/heroku/heroku/issues/1101#issuecomment-42194633\n.\n. \n",
    "daegun": "\nruby --version\n\nruby 1.8.7 (2010-01-10 patchlevel 249)\n\nheroku --version\n\nheroku-toolbelt/3.7.3 (x86_64-linux) ruby/1.8.7\n. I noticed a commit\n\nCompatibility for Ruby 1.8.7 59fd5efa5e935f42994c0b97ffb20a965e94075a\n\nthat isn't being reflected in my local file. It was supposed to change\nstatus = api.request(\n        expects: 200,\n        method:  :get,\n        path:    \"/account/two-factor\"\n      ).body\nto\nstatus = api.request(\n        :expects => 200,\n        :method  => :get,\n        :path    => \"/account/two-factor\"\n      ).body\nMy local file (after updating) is showing the version prior to that commit.\n. Closing for now. Will see if we can upgrade our ver. of ruby first.\n. ",
    "tomsmiler": "why does it still error like the picture I sent?\n. I absolutely will not run updates of Heroku\n. http://i.imgur.com/wKnJAGg.png\n. I have downloaded and uninstall the old version and install the new version and have not been updated\n. I need to support one of the most accurate work on!\n. http://i.imgur.com/skBzxlp.png version 1.9.2 :(\n. What should I use to completely erase command Heroku? 1 without using any program to delete them?\n. I'm Vietnam :)\n. ",
    "ldoubleuz": "Well, I'm not sure what was causing it, but after doing some more digging, I found that I was forgetting to delete the %USERPROFILE%.heroku directory when uninstalling the client.\nNow that I've done so and reinstalled the toolbelt, things seem to be fine again.\n. ",
    "let4be": "how did u solve this? the same * after month\n. ",
    "davidtaylorjr": "Has this been resolved?. ",
    "josmardias": "I'm running on the same issue.\nIf I enable two factors authentication, I will reach the two facetor step, and my login will fail after it.\nIf I disable it, my login will fail after inserting the password.\n```\n$ cat /etc/redhat-release \nFedora release 20 (Heisenbug)\n$ uname -r\n3.15.6-200.fc20.x86_64\n$ ruby -v\nruby 2.0.0p353 (2013-11-22 revision 43784) [x86_64-linux]\n$ heroku version\nheroku-toolbelt/3.9.6 (x86_64-linux) ruby/2.0.0\n```\n. Worked on a fresh enviroment, running\n$ gem install heroku\n$ heroku login\n. ",
    "silverwind": "\nWorked on a fresh enviroment, running\n$ gem install heroku\n$ heroku login\n\nThis just worked for me too.\n. ",
    "dheniges": "Just looked at the gemspec, which is requiring rest-client, while client.rb is requiring rest_client in initialize. So this just looks like inconsistent requiring of gems.\n. I've never had an issue with fork until now. \n@pedro the fix works for me, thanks!\n. ",
    "joshkehn": "I've tried to use heroku fork multiple times, always seem to run into an issue that prevents it from working. \n. ",
    "rodrigonunesrp": "Hello guys, I have similar error and I checked this doc and I faced my heroku was installed into the ruby dir, so that was the reason.\n. https://devcenter.heroku.com/articles/heroku-command\n. ",
    "dmmalam": "still getting this with the latest v3.8.3. Has the fix been released yet?\n. ",
    "paulfranzen": "duplicate\n. ",
    "ambshar": "Installed the gem oj... but still getting the same error\nHere is the gem list\n```\n LOCAL GEMS \nactionmailer (4.0.1)\nactionpack (4.0.1)\nactivemodel (4.0.1)\nactiverecord (4.0.1)\nactiverecord-deprecated_finders (1.0.3)\nactivesupport (4.0.1)\naddressable (2.3.6)\narel (4.0.1)\natomic (1.1.14)\nbcrypt (3.1.7)\nbcrypt-ruby (3.1.5, 3.0.1)\nbetter_errors (1.0.1)\nbigdecimal (1.2.0)\nbinding_of_caller (0.7.2)\nbootstrap-sass (3.1.1.0, 3.0.2.1)\nbootstrap_form (2.0.1)\nbuilder (3.1.4)\nbundler (1.5.3)\ncapybara (2.3.0)\ncoderay (1.1.0)\ncoffee-rails (4.0.1)\ncoffee-script (2.2.0)\ncoffee-script-source (1.6.3)\ndaemons (1.1.9)\ndebug_inspector (0.0.2)\ndiff-lcs (1.2.5)\nerubis (2.7.0)\neventmachine (1.0.0)\nexcon (0.37.0)\nexecjs (2.0.2)\nfabrication (2.9.8)\nfaker (1.2.0)\nfigaro (0.7.0)\nhaml (4.0.4)\nhaml-rails (0.4)\nhike (1.2.3)\ni18n (0.6.5)\nio-console (0.4.2)\njquery-rails (3.0.4)\njson (1.8.1, 1.7.7)\nlaunchy (2.4.2)\nletter_opener (1.2.0)\nlibv8 (3.16.14.3)\nmail (2.5.4)\nmethod_source (0.8.2)\nmime-types (1.25)\nmini_portile (0.6.0)\nminitest (4.7.5, 4.3.2)\nmulti_json (1.8.2)\nnetrc (0.7.7)\nnokogiri (1.6.2.1)\noj (2.9.7)\npolyglot (0.3.3)\npry (0.9.12.3)\npry-nav (0.2.3)\npsych (2.0.0)\nrack (1.5.2)\nrack-test (0.6.2)\nrails (4.0.1)\nrailties (4.0.1)\nrake (10.1.0, 0.9.6)\nrdoc (4.0.0)\nref (1.0.5)\nrest-client (1.6.7)\nrspec-collection_matchers (0.0.3)\nrspec-core (3.0.0.beta2)\nrspec-expectations (3.0.0.beta2)\nrspec-mocks (3.0.0.beta2)\nrspec-rails (3.0.0.beta2)\nrspec-support (3.0.0.beta2)\nrubyzip (1.1.4)\nsass (3.2.12)\nsass-rails (4.0.1)\nshoulda-matchers (2.5.0)\nslop (3.4.7)\nsprockets (2.10.0)\nsprockets-rails (2.0.1)\nsqlite3 (1.3.8)\ntest-unit (2.0.0.0)\ntherubyracer (0.12.1)\nthin (1.5.0)\nthor (0.18.1)\nthread_safe (0.1.3)\ntilt (1.4.1)\ntreetop (1.4.15)\ntzinfo (0.3.38)\nuglifier (2.3.1)\nxpath (2.0.0)\n```\n. ",
    "ajsharma": "I am seeing this same error when running heroku pg:promote...\n```\nPromoting HEROKU_POSTGRESQL_ONYX_URL to DATABASE_URL... failed\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       wrong argument type Hash (expected Data) (TypeError)\nBacktrace:   /usr/local/heroku/vendor/gems/multi_json-1.10.1/lib/multi_json/adapters/json_common.rb:21:in `to_json'\n             /usr/local/heroku/vendor/gems/multi_json-1.10.1/lib/multi_json/adapters/json_common.rb:21:in `dump'\n             /usr/local/heroku/vendor/gems/multi_json-1.10.1/lib/multi_json/adapter.rb:24:in `dump'\n             /usr/local/heroku/vendor/gems/multi_json-1.10.1/lib/multi_json.rb:136:in `dump'\n             /usr/local/heroku/vendor/gems/heroku-api-0.3.18/lib/heroku/api/config_vars.rb:25:in `put_config_vars'\n             /usr/local/heroku/lib/heroku/helpers/heroku_postgresql.rb:214:in `hpg_promote'\n             /usr/local/heroku/lib/heroku/command/pg.rb:64:in `block in promote'\n             /usr/local/heroku/lib/heroku/helpers.rb:227:in `action'\n             /usr/local/heroku/lib/heroku/command/pg.rb:63:in `promote'\n             /usr/local/heroku/lib/heroku/command.rb:218:in `run'\n             /usr/local/heroku/lib/heroku/cli.rb:37:in `start'\n             /usr/bin/heroku:25:in `<main>'\n\nCommand:     heroku pg:promote HEROKU_POSTGRESQL_ONYX_URL -a my-app-staging\nPlugins:     heroku-accounts\nVersion:     heroku-toolbelt/3.8.4 (x86_64-linux) ruby/1.9.1\n\n```\nI have a similar set up with:\nVagrant Ubuntu 10.04\nRails 4.0.5\nruby 2.0.0p451 (2014-02-24 revision 45167) [x86_64-linux]\n. ",
    "simonneutert": "please close this issue, thank you \ud83d\udc4d . please try heroku run rake db:migrate\nIf you are using rake in your rails app.\n. did you try gem update pg. check your current git setting of a project: cd to/your/project\nthen (or open it in an editor)\ncat .git/config\nThis file cannot know when you delete a repo on github ;)\nSo this is the place to edit, when you change your heroku project.. ",
    "shunjikonishi": "Hi, pedro.\nMaybe you have installed pt-extras plugin.\nIt override plsql command. And it doesn't have -c option.\n. ",
    "soulpainter": "Issue was inability to clone PostGres due to not have access to add paid accounts. \n. ",
    "mechkg": "I have tried to work around this issue by downloading the heroku .deb and manually removing dependencies on libopenssl-ruby and libreadline-ruby that no longer exist in Debian. I could not find any information on why they were removed, but they were virtual packages that were provided by libruby, so I guess a dependency on libruby should be enough.\nAdditionally I've encountered an issue with the interpreter line in /usr/bin/heroku, which was \"#/usr/env ruby1.9.1\". First I tried to install Ruby 1.9.1, but RVM warned that Ruby 1.9.1 was no longer maintained, so I changed the line to \"#/usr/env ruby\" instead. \nThe tools seem to work so far, but obviously that is a very hacky solution.\n. ",
    "phts": "\nI have tried to work around this issue by downloading the heroku .deb and manually removing dependencies on libopenssl-ruby and libreadline-ruby that no longer exist in Debian.\n\nYes, this works for me too, thanks.\nps. To edit control file in deb file I used this script - https://gist.github.com/phts/59c121b89e0480a5b606. \n. ",
    "sprij": "I'm having the same problem installing heroku on debian testing. As a workaround I installed the packages ignoring the unmet dependencies. No problems using the toolbelt so far.\nbash\n$ apt-install ruby foreman # libruby2.1 already depends on libreadline6 (>= 6.0), libssl1.0.0 (>= 1.0.1)\n$ aptitude download heroku heroku-toolbelt\n$ dpkg -i --ignore-depends=libreadline-ruby2.1,libopenssl-ruby2.1 heroku*\n$ apt-mark hold heroku\nThere's a reference to libreadline-ruby being removed from debian on this bug and, possibly related as well, the changelog refers a \u201cMerge lib{dbm,gdbm,readline,openssl}-ruby into libruby.\u201d\n. ",
    "adipascu": "I cant find any reference that \"libreadline-ruby2.1\" and \"libreadline-ruby2.0\" exists at all!\nCheck out these simple google searches: \nlibreadline-ruby2.1\nlibreadline-ruby2.0\nlibreadline-ruby1.9.1\nlibopenssl-ruby2.1\nlibopenssl-ruby2.0\nlibopenssl-ruby1.9.1\nMost of the above google searches only return this current github issue as a result.\nThe readline and openssl modules are (probably) included in ruby 2.\n I suggest the following dependencies:\n(ruby1.9.1 AND libopenssl-ruby1.9.1 AND libreadline-ruby1.9.1) OR ruby2.0 OR ruby2.1\n. @yebyen I still left the old module dependecies but they get installed only for ruby 1.9\nThis fix should work on all 3 versions of ruby.\n Can somebody test this on debian stable? (And some other distros)\n. @tadd On jessie ruby depends on libruby, so your solution is the same as mine\nhttps://packages.debian.org/jessie/ruby2.1\n. I suggest depending on a meta like the original code. Your solution should also work fine.\n. The issue is is a broken dependency in debian/testing. Debian currently lacks ruby 2.1 in favor of ruby 2.2\nInstead of depending on a specific version i'd rather use the virtual package to prevent future dependency issues.\nThe ruby virtual package exists in all currently supported versions of ubuntu and debian, it also pulls in a ssl lib and the readline lib.\nhttp://packages.ubuntu.com/search?keywords=ruby\nhttps://packages.debian.org/search?keywords=ruby\n. ",
    "yebyen": "Maybe it would make sense to provide alternative installation instructions -- eg:\n1. Debian wheezy and under\n2. Debian jessie and after\n3. Ruby compiled from scratch or with RVM\nI know at least personally I don't want Ruby debs on my system at all, they are historically never kept \"really current\" even with sid/unstable, and if I have an issue that requires a different version of ruby to be installed temporarily or forever the last thing I want to do is go looking for some other debs and hope I don't break the dependency tree.\nThis thread helped me, I was able to build my own heroku and toolbelt debs for armhf and I think I understand how to modify them now to have more reasonable dependencies.\n. Brilliant\n(since debian did break it)\n. Definitely fixed my issue (#1137) but still the question of how to go on supporting pre-jessie stable release where this dependency hasn't been merged back into ruby is important. (right? anyone using stable who knows if this is true)\n. ",
    "diddierh": "getting the standalone also works for Debian jessie(testing at the moment)\n. ",
    "tadd": "Be cool. Now all shared objects of bundled extension libraries are packed in libruby2.1, including openssl.so and readline.so.\nhttps://packages.debian.org/jessie/amd64/libruby2.1/filelist\nI guess packaging policy was just changed.\n. PS:\nUbuntu 14.04 also seems to have the same policy. libruby2.0 includes all of .so.\nhttp://packages.ubuntu.com/trusty/amd64/libruby2.0/filelist\n. I suggested my solution on https://github.com/heroku/heroku/pull/1223#issuecomment-58989639 as comment.\nYour comments are welcomed.\n. I guess this would change be wrong, at least on Jessie.\nJessie's libruby2.1 includes all files of extension library (.so), so we should depend on this like:\ndiff\n-Depends: ruby2.1|ruby2.0|ruby1.9.1, libopenssl-ruby2.1|libopenssl-ruby2.0|libopenssl-ruby1.9.1, libreadline-ruby2.1|libreadline-ruby2.0|libreadline-ruby1.9.1, libssl0.9.8 (>= 0.9.8k) | libssl1.0.0\n+Depends: ruby2.1|ruby2.0|ruby1.9.1, libruby2.1|libruby2.0|libopenssl-ruby1.9.1, libruby2.1|libruby2.0|libreadline-ruby1.9.1, libssl0.9.8 (>= 0.9.8k) | libssl1.0.0\n. Why do you need to depends on meta-package?\n. ",
    "retrohacker": "This may not be a true fix, but since I found my way here from google I figured I would leave my solution for future generations.\nIf you use docker:\ndocker run -it -v ~/.ssh:/root/.ssh ubuntu:precise /bin/bash\nAnd then run the setup script in there. Login to heroku, exit the container, and then commit it. You will now have a functional installation of the heroku tool to access your logs and such.\n. ",
    "russel": "yebyen, Debian are free to change their package structures if they wish as long as all package in the Debian repository are kept consistent, so they did not \"break it\". The issue here is that the Heroku Debian packages are not in the Debian Repository but managed outside it. It is therefore for the maintainers of the external package to stay in step with the Debian dependencies. The fix for this problem has been known for 10 days (cf.  #1223 ) but hasn't been actioned. I guess we just have to wait with no access to Heroku from Debian and Ubuntu until someone presses the button and actions and deploys the (trivial) fix.  \n. Is anyone going to action and deploy this fix so that people using Debian can use Heroku using the packages again?\n. Thanks for doing the merge. Sadly, looks like this commit has changed the Deb repository, but there is a Hash Sum fail. :-(\n. My error, I use approx and there was a problem in the cache. I cleaned the approx cache, and aptitude updated and now I have the Heroku Toolbelt and all dependencies installed on Debian Sid. One is a happy individual :-)\n. ",
    "armilam": "Thank you for pointing out what I should have seen :)\n. ",
    "harisiri74": "I see same problem here..is this resolved ? whats the fix ?\n. ",
    "refack": "I found that it is caused by old code \"stuck\" in ~/.heroku/client.\nDeleting this directory fixes the issue.\nre: #1146 \n. :+1: \n. I found that it is caused by old code \"stuck\" in ~/.heroku/client.\nDeleting this directory fixes the issue.\n. ",
    "tzar": "Can confirm that fixed it, though it also incidentally upgraded it 3.9.3 -> 3.9.6 (which wasn't available at the time of issue submission)\n. ",
    "tarikd": "I solved this issue by doing this :\nhttps://github.com/heroku/heroku/issues/1146#issuecomment-49715203\nBut even if afterwards the Heroku toolbelt worked fine. Today i got this error, i don't know if it's related :\n!    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       undefined methodmap' for # (NoMethodError)\nBacktrace:   C:/Users/Hackintosh3/.heroku/client/lib/heroku/helpers/heroku_postgresql.rb:99:in app_attachments'\n             C:/Users/Hackintosh3/.heroku/client/lib/heroku/helpers/heroku_postgresql.rb:104:inhpg_databases'\n             C:/Users/Hackintosh3/.heroku/client/lib/heroku/helpers/heroku_postgresql.rb:159:in hpg_resolve'\n             C:/Users/Hackintosh3/.heroku/client/lib/heroku/helpers/heroku_postgresql.rb:58:inresolve'\n             C:/Users/Hackintosh3/.heroku/client/lib/heroku/command/pgbackups.rb:379:in resolve'\n             C:/Users/Hackintosh3/.heroku/client/lib/heroku/command/pgbackups.rb:74:incapture'\n             C:/Users/Hackintosh3/.heroku/client/lib/heroku/command.rb:218:in run'\n             C:/Users/Hackintosh3/.heroku/client/lib/heroku/cli.rb:37:instart'\n             C:/Program Files (x86)/Heroku/bin/heroku:29:in `'\nCommand:     heroku pgbackups:capture --expire HEROKU_POSTGRESQL_JADE --app=shopmium\nVersion:     heroku/toolbelt/3.9.4 (i386-mingw32) ruby/1.9.3\n```\n. ",
    "freegenie": "Same error on other commands, looks like it's an API issue https://status.heroku.com/incidents/650\n. ",
    "Aeramor": "Still an issue:\nError:       undefined method []' for nil:NilClass (NoMethodError)\n    Backtrace:   /Users/Aeramor/.heroku/client/lib/heroku/command/pg.rb:442:inversion'\n                 /Users/Aeramor/.heroku/client/lib/heroku/command/pg.rb:447:in nine_two?'\n                 /Users/Aeramor/.heroku/client/lib/heroku/helpers/pg_diagnose.rb:56:inwarn_old_databases'\n                 /Users/Aeramor/.heroku/client/lib/heroku/helpers/pg_diagnose.rb:39:in generate_report'\n                 /Users/Aeramor/.heroku/client/lib/heroku/helpers/pg_diagnose.rb:23:infind_or_generate_report'\n                 /Users/Aeramor/.heroku/client/lib/heroku/helpers/pg_diagnose.rb:6:in run_diagnose'\n                 /Users/Aeramor/.heroku/client/lib/heroku/command/pg.rb:62:indiagnose'\n                 /Users/Aeramor/.heroku/client/lib/heroku/command.rb:218:in run'\n                 /Users/Aeramor/.heroku/client/lib/heroku/cli.rb:37:instart'\n                 /usr/bin/heroku:24:in `'\n. ",
    "camstuart": "Agreed. I'm trying to automate the login process, but if there is no current user logged in, an auth:login triggers. Which is a bit annoying \n. ",
    "postmodern": "darix in #fedora-ruby has written a working RPM spec file and made a new rpm package:\n$ sudo yum-config-manager --add-repo http://download.opensuse.org/repositories/home:/darix:/heroku-client/Fedora_19/home:darix:heroku-client.repo\n$ sudo yum install heroku-client\n. ",
    "darix": "the actual spec file\n. if you look at my spec file it is really simple\n. ",
    "kostyrev": "So why isn't it in upstream?\nIs is that hard to provide RPMs for end users?\n. ",
    "gfeil": "It turned out it's the same issue as this one: https://github.com/heroku/heroku/issues/512\n. ",
    "jacobian": "Bah, yeah. As with a few things preuath or heroku sudo:run bash is a workaround, but not a great one. Thanks.\n. Also doesn't work on paranoid apps:\n$ heroku fork -a jkmparanoid\nCreating fork jkmparanoid-647 in organization heroku... done\nCopying slug... failed\n !    No slug on jkmparanoid\n. A couple of comments from my security POV:\n- Out of respect for user privacy -- and to comply with Safe Harbor -- this needs to be something users can opt out of. Ideally, this would be opt-in: ask users the first time this runs if they're OK sharing this data, and only send it if they consent. Opt-out might be acceptable if there's a reason why opt-in won't work, but as a general principle asking before \"phoning home\" is a good privacy practice, and we should follow it if we can.\n- As @markpundsack mentions, this should be a heroku.com domain, to make it clear it's first-party.\n. ",
    "tsloughter": "So this is something that will be fixed and just for now we'll have to use the sudo shell until it is updated?\n. Oh fancy, I'll try hksudo!\n. ",
    "stolt45": "Yup, that's right. \n. ",
    "lambertwaltar": "i was using a proxy to access the network, i can do git push heroku master, but when i try to run heroku run rake db:migrate, it comes up.\n. catsby..am so sorry for not replying..have not been working on the project lately, i will let you know as soon as i resume the project.. Thanks for the help\n. ",
    "hunterloftis": "Just ran into this. Anybody come up with workarounds?\n. @dickeyxxx I would like to fork with sudo (for support tickets).\n. ",
    "thehellmaker": "I have absolutly no idea honestly. I am just a user and I was following some instructions. to set config and I got this error. I tried to gem install multi_json didn't solve the issue. Thought its only happening for config:set and not for other commands\n. Oh Thanks a lot. I just installed heroku Toolbelt from the website and that fixed this issue.  \nThanks for the tip. That was very helpful\n. ",
    "bartmanus": "This bug is biting in Fedora rawhide.\n``\n    Error:       undefined methodmap' for # (NoMethodError)\n    Backtrace:   /home/bart/bin/heroku/lib/heroku/command/keys.rb:31:in index'\n                 /home/bart/bin/heroku/lib/heroku/command.rb:217:inrun'\n                 /home/bart/bin/heroku/lib/heroku/cli.rb:38:in start'\n                 /home/bart/bin/heroku/bin/heroku:24:in'\nCommand:     heroku keys --long\nVersion:     heroku-toolbelt/3.15.0 (x86_64-linux) ruby/2.1.2\n\n```\n$ ruby -v\nruby 2.1.2p95 (2014-05-08 revision 45877) [x86_64-linux]\n. ```\n$ ~/bin/heroku/bin/heroku keys\n[{\"contents\":\"ssh-rsa AAAAB3--snip--GJ8//0yup0o9piHs/HmuCn--snip--/--snip--/--snip--+LxpZ+i61X0LTpQuNONnnXaJuvFqoPxXcQg19hjYy5Dxp bart@evergreen\",\"email\":\"bart@letssayevergreen.tv\"}]\n=== bart@letssayevergreen.tv Keys\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method `map' for #<String:0x00000003a0bd80> (NoMethodError)\nBacktrace:   /home/bart/bin/heroku/lib/heroku/command/keys.rb:34:in `index'\n             /home/bart/bin/heroku/lib/heroku/command.rb:217:in `run'\n             /home/bart/bin/heroku/lib/heroku/cli.rb:38:in `start'\n             /home/bart/bin/heroku/bin/heroku:24:in `<main>'\n\nCommand:     heroku keys\nVersion:     heroku-toolbelt/3.15.0 (x86_64-linux) ruby/2.1.2\n\n```\nProbably unrelated, but in between I've been able to use an older version of the toolbelt from Fedora 20 repos to use heroku PaaS. One mistake in my configuration was that the heroku key wasn't ~/.ssh/id_rsa but ~/.ssh/heroku_id_rsa and I had to create ~/.ssh/config that instructs ssh to use a diferent identity file than the default  for host heroku.com.\n. Sorry about the delay. I must have seen the comment notification on mobile and it slipped my mind by the time I got to a PC.\n``\n$ EXCON_DEBUG=true heroku keys\nexcon.request\n  :chunk_size        => 1048576\n  :ciphers           => \"HIGH:!SSLv2:!aNULL:!eNULL:!3DES\"\n  :connect_timeout   => 60\n  :debug_request     => true\n  :debug_response    => true\n  :expects           => 200\n  :headers           => {\n    \"Accept\"          => \"application/json\"\n    \"Accept-Encoding\" => \"gzip\"\n    \"Authorization\"   => \"REDACTED\"\n    \"Host\"            => \"api.heroku.com:443\"\n    \"User-Agent\"      => \"heroku-toolbelt/3.17.0 (x86_64-linux) ruby/2.1.4\"\n    \"X-Ruby-Platform\" => \"x86_64-linux\"\n    \"X-Ruby-Version\"  => \"2.1.4\"\n  }\n  :host              => \"api.heroku.com\"\n  :idempotent        => false\n  :instrumentor      => Excon::StandardInstrumentor\n  :instrumentor_name => \"excon\"\n  :method            => :get\n  :middlewares       => [\n    Excon::Middleware::ResponseParser\n    Excon::Middleware::Expects\n    Excon::Middleware::Idempotent\n    Excon::Middleware::Instrumentor\n    Excon::Middleware::Mock\n  ]\n  :mock              => false\n  :nonblock          => false\n  :omit_default_port => false\n  :path              => \"/user/keys\"\n  :persistent        => false\n  :port              => \"443\"\n  :query             => nil\n  :read_timeout      => 60\n  :retries_remaining => 4\n  :retry_limit       => 4\n  :scheme            => \"https\"\n  :ssl_verify_peer   => true\n  :tcp_nodelay       => false\n  :uri_parser        => URI\n  :versions          => \"excon/0.40.0 (x86_64-linux) ruby/2.1.4\"\n  :write_timeout     => 60\nexcon.response\n  :body          => \"\\x1F\\x8B\\b\\x00\\xB9@eT\\x00\\x03\\x14\\x91\\xCB\\x92\\xA20\\x00\\x00\\x7Fe\\x8A+;#\\x8F\\x01\\xE3\\x9E\\x06\\x82\\x80\\x88<\\x04\\x05\\xD9\\xDAC\\x94\\xA8D\\f\\xD1\\x00\\nS\\xFB\\xEF\\xEB\\xF4\\xAD\\xFB\\xDA\\x7F\\xBE\\x85CC[L[.\\xFC\\x168?\\xBF\\xDF9z3^\\x98j0\\\"(\\x0F\\ae\\xFE\\xA3\\x96\\x11\\e\\xE6O6b\\xD8:\\x1E\\x98L\\xA4\\xA1cR3c\\x95\\xCB'\\xEE\\xB5\\x83T\\xDB\\x12\\x86R=E\\xFD\\xA5\\v\\xE9\\xE8\\x17y6Vi\\xE7\\xF6|\\x93\\xD1\\a\\x1C{(6\\r<\\xB16\\xD9\\x04S#Yfpo\\xD7\\x11\\x1F\\x03E\\xA6\\x85v\\xBF,\\xBC\\xD3\\xAEr\\x0E\\xFE\\x11\\xF0\\\"\\xD8M\\xCB{\\x1Ed\\xD6\\\\\\x15\\x8DH[Z&\\\\l\\xD5\\xC9\\xE7\\x05\\xC8Q\\x80\\r\\xC3Y\\\\\\xE7\\xC74\\xAD\\xA3\\xE50\\xBA\\xCB\\xF6\\xB9j/Nq|l\\xD9\\x12\\xC3B\\x19\\t\\x90V}\\f\\xF5\\xC4?\\xDF\\xF4(\\xC8:[_\\xECS\\xA2\\xF4\\xBB\\xFC\\xB6\\xFFT\\r\\xA2\\xD8\\x89_I\\x0Fg\\x8C\\xD7\\xF5J\\t\\x01\\xDA\\x01[\\x04\\xF3\\xC0*\\xB6\\x94L\\xBD\\xF8\\x1A\\xA8$\\xEE|l\\xAE\\xB7C\\xB9q@\\x8Ff\\e\\xA9HpX\\x03WE\\x9E\\x0F\\xF5\\xB0\\xDA\\xD0\\xB5\\xC2\\xCA\\xBD5`\\x16\\xA7\\xCDD\\xF7\\e\\xDC[\\x9E\\x8BM\\r\\xE9\\xEA\\x91\\xECE\\xFF\\xC9\\n\\xB1\\xD2\\xE5\\\\xF2S\\x16wA\\x18P\\x9A#\\xAF\\xEB\\xED[\\x13=\\xF3C|\\x92gg\\xB2\\e4\\xEB\\xC9\\xDE\\b\\xE2\\xE8\\x8BcZ\\xE2\\xBA\\x16~\\t\\xF8\\x8A\\xAA\\xFA\\xF5\\x84\\xEC\\xC1L\\x92\\xBFx\\xDB\\x95\\xAFK\\x1F\\x1D\\xAD\\xDEk\\xF2\\xC1+\\xE1\\xDF\\xDF\\xFF\\x00\\x00\\x00\\xFF\\xFF\\x03\\x00$:\\x14\\x11\\xBD\\x01\\x00\\x00\"\n  :headers       => {\n    \"Connection\"             => \"keep-alive\"\n    \"Content-Encoding\"       => \"gzip\"\n    \"Content-Length\"         => \"403\"\n    \"Content-Type\"           => \"application/json;charset=utf-8\"\n    \"Date\"                   => \"Wed, 03 Dec 2014 21:33:50 GMT\"\n    \"ETag\"                   => \"\\\"dde059cfe398543f47e6efd8d9ffc77e\\\"\"\n    \"Last-Modified\"          => \"Thu, 13 Nov 2014 23:37:29 GMT\"\n    \"Oauth-Scope\"            => \"global\"\n    \"Oauth-Scope-Accepted\"   => \"global\"\n    \"Request-Id\"             => \"139e3fdb-35b8-4fc2-9963-f56f4957da52\"\n    \"Server\"                 => \"nginx/1.4.7\"\n    \"Status\"                 => \"200 OK\"\n    \"Vary\"                   => \"Accept-Encoding\"\n    \"X-Content-Type-Options\" => \"nosniff\"\n    \"X-RateLimit-Remaining\"  => \"2399\"\n    \"X-Runtime\"              => \"0.024621476\"\n  }\n  :local_address => \"89.x.y.z\"\n  :local_port    => 52563\n  :remote_ip     => \"23.u.v.w\"\n  :status        => 200\n=== bart@letssayevergreen.tv Keys\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method `map' for #<String:0x00000003105e70> (NoMethodError)\nBacktrace:   /home/bart/.heroku/client/lib/heroku/command/keys.rb:33:in `index'\n             /home/bart/.heroku/client/lib/heroku/command.rb:217:in `run'\n             /home/bart/.heroku/client/lib/heroku/cli.rb:40:in `start'\n             /home/bart/bin/heroku/bin/heroku:24:in `<main>'\n\nCommand:     heroku keys\nVersion:     heroku-toolbelt/3.17.0 (x86_64-linux) ruby/2.1.4\n\n```\n. ",
    "mobilutz": "Thanks for the replies. I just realized that I hat two CLIs installed. One through homebrew and the other through rbenv. My system used the rbenv one. Now i switched to the homebrew one and it works!!!\nThanks!\n. ",
    "IlmadEddine": "Ubuntu 10.04 LTS\n. Tankyou for response ...\nI do this : wget -qO- https://toolbelt.heroku.com/install-ubuntu.sh | sh\nwhen I start my Ubuntu i should run this sequence:\nsudo apt-get update\nsudo apt-get install curl\n\\curl -L https://get.rvm.io | bash -s stable\nsource ~/.rvm/scripts/rvm\nrvm requirements\nfor login (heroku login ) --> work\nEnter your Heroku credentials.\nEmail:cv.imad@gmail.com\nPassword (typing will be hidden):*\nAuthentication successful.\nheroku create my-app --> not works\n/opt/heroku/lib/heroku/helpers.rb:93: warning: Insecure world writable dir /opt/play-2.2.3 in PATH, mode 040777\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       uninitialized constant Heroku::Command::RestClient (NameError)\nBacktrace:   /opt/heroku/lib/heroku/command.rb:225:inrescue in run'\n             /opt/heroku/lib/heroku/command.rb:271:in run'\n             /opt/heroku/lib/heroku/cli.rb:37:instart'\n             /opt/heroku/bin/heroku:17:in `'\nCommand:     heroku create play\nVersion:     heroku-gem/3.9.4 (i686-linux) ruby/2.1.2\n```\ngit push heroku master --> not works (i have some applications in my apps heroku compte witch created in first time)\nfatal: 'heroku' does not appear to be a git repository\nfatal: The remote end hung up unexpectedly\n. I try re-install heroku but I using : \ngem install heroku\nit worked ... thank-you very mutch\n. ",
    "r4m": "@dickeyxxx I have psql (9.3.1) installed into /Applications/Postgres93.app/Contents/MacOS/bin/psql. However I can't run it directly from the bash (it is not in the $PATH)\n. @dickeyxxx adding psql to the PATH solved the problem. Thx.\nMaybe you can catch the error suggesting to verify if psql is installed or in the PATH.\n. ",
    "adamgross": "Happened to me, FWIW.  After trying ~3 times it worked.\n. ",
    "shoshi": "Also, happened to me right after enabling two-factor auth. It worked after a few tries.\nCould also have to do with explicitly using heroku login?\n```\n$ heroku apps\nAuthentication failure\nEnter your Heroku credentials.\nEmail: \nPassword (typing will be hidden):\nTwo-factor code: \nAuthentication successful.\nAuthentication failure\nEnter your Heroku credentials.\nEmail: ***\nPassword (typing will be hidden):\nAuthentication successful.\nAuthentication failure\nEnter your Heroku credentials.\nEmail: ^C !    Command cancelled.\n$ heroku login\nEnter your Heroku credentials.\nEmail: \nPassword (typing will be hidden):\nTwo-factor code: \nAuthentication successful.\n```\n. ",
    "jpadilla": "Similar thing happened to me, clean install of toolbelt as well. I had 2FA already enabled.\n$ heroku login\nEnter your Heroku credentials.\nEmail: jpadilla@webapplicate.com\nPassword (typing will be hidden):\nTwo-factor code: 123456\nEnter your Heroku credentials.\nEmail: jpadilla@webapplicate.com\nPassword (typing will be hidden):\nAuthentication failed due to an invalid two-factor code.\nPlease check your code was typed correctly and that your\nauthenticator's time keeping is accurate.\n$ heroku login\nEnter your Heroku credentials.\nEmail: jpadilla@webapplicate.com\nPassword (typing will be hidden):\nTwo-factor code: 123456\nEnter your Heroku credentials.\nEmail: jpadilla@webapplicate.com\nPassword (typing will be hidden):\nAuthentication successful.\n. ",
    "andrewculver": "Sorry about that. I just deleted my comment because doing a fresh install of Toolbelt fixed my problem.\n. ",
    "benalavi": "I had this same issue as well w/ 3.24.4 after enabling 2FA. A fresh install fixed it.\nI noticed that if I got my credentials wrong then it wouldn't even get to the 2FA step, and if I typed the token wrong then it would give an error specific to the 2FA token. So it seems like I was successfully authenticating, but still ending up denied.\nThese are the plugins I had installed at the time, just in case one of them was causing issues:\n=== Installed Plugins\nheroku-accounts\nheroku-anvil\nheroku-oauth\nheroku-pg-extras\nheroku-vim\nheroku_jammit\n. ",
    "dtytomi": "Thanks for concern have resolved it. Thanks\n. Well, if I may ask do you have ruby installed.\n. ",
    "vishal-patel17": "how did you resolved it?\n. ",
    "robfairchild": "Hi Dickeyxxx\nI have now installed toolbelt and managed to create a new application, however when attempting to run the git push command i get the following\n``\n-----> Ruby app detected\n-----> Compiling Ruby/Rails\n/app/tmp/buildpacks/ruby/lib/language_pack/helpers/bundler_wrapper.rb:88:inblock in ruby_version': There was an error parsing your Gemfile, we cannot continue (LanguagePack::Helpers::BundlerWrapper::GemfileParseError)\nThere was an error in your Gemfile, and Bundler cannot continue.\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:18:in block (2 levels) in instrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:40:inyield_with_block_depth'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:17:in block in instrument'\n    from /app/vendor/ruby-1.9.2/lib/ruby/1.9.1/benchmark.rb:310:inrealtime'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:16:in instrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/helpers/bundler_wrapper.rb:76:ininstrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/helpers/bundler_wrapper.rb:80:in ruby_version'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/ruby.rb:180:inblock in ruby_version'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:18:in block (2 levels) in instrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:40:inyield_with_block_depth'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:17:in block in instrument'\n    from /app/vendor/ruby-1.9.2/lib/ruby/1.9.1/benchmark.rb:310:inrealtime'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:16:in instrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/base.rb:47:ininstrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/base.rb:43:in instrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/ruby.rb:173:inruby_version'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/ruby.rb:259:in block in install_ruby'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:18:inblock (2 levels) in instrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:40:in yield_with_block_depth'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:17:inblock in instrument'\n    from /app/vendor/ruby-1.9.2/lib/ruby/1.9.1/benchmark.rb:310:in realtime'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:16:ininstrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/base.rb:47:in instrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/base.rb:43:ininstrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/ruby.rb:258:in install_ruby'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/ruby.rb:88:inblock in compile'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:18:in block (2 levels) in instrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:40:inyield_with_block_depth'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:17:in block in instrument'\n    from /app/vendor/ruby-1.9.2/lib/ruby/1.9.1/benchmark.rb:310:inrealtime'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:16:in instrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/base.rb:47:ininstrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/base.rb:43:in instrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/ruby.rb:83:incompile'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/rails2.rb:49:in block in compile'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:18:inblock (2 levels) in instrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:40:in yield_with_block_depth'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:17:inblock in instrument'\n    from /app/vendor/ruby-1.9.2/lib/ruby/1.9.1/benchmark.rb:310:in realtime'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:16:ininstrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/base.rb:47:in instrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/base.rb:43:ininstrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/rails2.rb:47:in compile'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/rails3.rb:38:inblock in compile'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:18:in block (2 levels) in instrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:40:inyield_with_block_depth'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:17:in block in instrument'\n    from /app/vendor/ruby-1.9.2/lib/ruby/1.9.1/benchmark.rb:310:inrealtime'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:16:in instrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/base.rb:47:ininstrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/base.rb:43:in instrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/rails3.rb:37:incompile'\n    from /app/tmp/buildpacks/ruby/bin/compile:15:in block (2 levels) in <main>'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/base.rb:124:inlog'\n    from /app/tmp/buildpacks/ruby/bin/compile:14:in block in <main>'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:35:incall'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:35:in block in trace'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:18:inblock (2 levels) in instrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:40:in yield_with_block_depth'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:17:inblock in instrument'\n    from /app/vendor/ruby-1.9.2/lib/ruby/1.9.1/benchmark.rb:310:in realtime'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:16:ininstrument'\n    from /app/tmp/buildpacks/ruby/lib/language_pack/instrument.rb:35:in trace'\n    from /app/tmp/buildpacks/ruby/bin/compile:10:in'\n!     Push rejected, failed to compile Ruby app\n```\n. it did.\nim going through the processes in chapter 1 from ruby on rails tutorial. When i got to the part where it originally asked to run \"rails server\" and go to your loopback address using the browser it worked. However since adding git pro and heroku toolbelt the command line is not recognising the command. I can even do a bundle install as this is also unrecognised.\ngemfile listed below\n```\nsource 'https://rubygems.org'\ngem 'rails', '3.2.3'\nBundle edge Rails instead:\ngem 'rails', :git => 'git://github.com/rails/rails.git'\ngroup :development do\n    gem 'sqlite3', '1.3.5'\nend\nGems used only for assets and not required\nin production environments by default.\ngroup :assets do\n  gem 'sass-rails',   '~> 3.2.4'\n  gem 'coffee-rails', '~> 3.2.2'\n# See https://github.com/sstephenson/execjs#readme for more supported runtimes\n  # gem 'therubyracer', :platform => :ruby\ngem 'uglifier', '1.2.3'\nend\ngem 'jquery-rails'\nTo use ActiveModel has_secure_password\ngem 'bcrypt-ruby', '~> 3.0.0'\nTo use Jbuilder templates for JSON\ngem 'jbuilder'\nUse unicorn as the app server\ngem 'unicorn'\nDeploy with Capistrano\ngem 'capistrano'\nTo use debugger\ngem 'ruby-debug19', :require => 'ruby-debug'\n```\n. ",
    "thoroc": "I was having the same issue as OP although with an installation of the toolbelt. The issue was being caused by the env path variables: when calling echo %PATH% through a terminal MySql was being called and therefore all reference after this path were ignored, including git .... \nJust in case someone is finding themselves in this predicament: you might need to put quotes around bad path like this one: C:\\Program Files (x86)\\MySQL\\MySQL Fabric 1.5.2 & MySQL Utilities 1.5.2 1.5\\.\n. ",
    "ivanchoff": "thx dickeyxxx, it works for me, i just installed these libs and everything is ok \n. ",
    "hheimbuerger": "Just as an update, this is still the case with Heroku Toolbelt 3.43.3 on Windows 10:\n```\n$> heroku pg:vacuum-stats\npsql: server does not support SSL, but SSL was required\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       psql failed. exit status 512, output: \"\" (RuntimeError)\nCommand:     heroku pg:vacuum-stats\nPlugins:     heroku-pg-extras\nVersion:     heroku/toolbelt/3.43.3 (i386-mingw32) ruby/1.9.3\nError ID:    ce99d773abda43b2aca1d9bbfe0250a9\n\n\nMore information in C:/Users/user/.heroku/error.log\n\n```\nI'm running:\n$> heroku --version\nheroku/toolbelt/3.43.3 (i386-mingw32) ruby/1.9.3\nheroku-cli/5.2.18-f850f09 (windows-386) go1.6.2\n=== Installed Plugins\nheroku-pg-extras\n. ",
    "allixsenos": "deleting ~/.heroku/client/ fixes it but I suspect only until the next autoupdate triggers\n. ",
    "aruprakshit": "This issue has been resolved. You can take a look at this discussion\n. ",
    "tt": "How about not prompting if the resolved app name of the previous remote matches that of the new one? Changing the protocol shouldn't need a warning.\n. I'll elaborate then; to me the reason to prompt is you may loose data. Changing the protocol shouldn't be an issue as both protocols should yield the same result.\n. I proposed a fix in heroku/codon#355.\n. It is!\n. Look at this, @friism.\n. :+1:\n. ",
    "gedean": "Other commands (git push, heroku logs) are running fine.\n. Thanks! It worked fine when I updated toolbelt. I really thought toolbelt was a gem and \"gem up\" was enough.\n. ",
    "josegrad": "Thanks dickeyxxx, I'm not there anymore. This Friday I will be again.\nIs there a workaround in case I can't access port 5000?\n. Looks like I can't access port 5000...\nI wonder if I could install some internal proxy and go through that.\n. ",
    "zackster": "At an airport.  Port 5000 is blocked.  But port ssh is open.  So I ssh'd into one of my VPs and installed the heroku-cli there.. ",
    "HaiderAtPlero": "Thanks, it worked.\n. ",
    "cassac": "Forgive my ignorance. How do I know which shell I'm using? I'm curious how using a different shell will have an affect on the error. Your assistance is appreciated.\n. OK, yes I am using cmd.exe. I will explore git bash. Thanks for pointing me in the right direction.\n. I ran the command from Git Bash and the same error is thrown. What could be wrong?\n. Correct, the username is 'mtts'. I just switched the OS language to English and the problem persists. I am completely stumped.\nThese are the threads I've been reading. But so far they haven't provided any solutions:\nhttps://github.com/heroku/heroku/issues/543\nhttps://github.com/heroku/heroku/issues/814\nI tried re installing toolbelt and it reminded me that during the first installation (and this installation) Ruby doesn't install properly. An error occurs \"C:\\Program Files(x86)\\Heroku\\ruby\\1-9.3\\bin\\gem.bat\" ShellExecuteEx failed; code2. The system cannot find the file specified.\n. ",
    "ashuabhi": "I am able to login now and heroku status is good too. Not sure what was the issue. I will try again from office network again. May be issue due to intranet.\n. ",
    "yamori": "I just tried to check on my apps pgres (last time was about 2 weeks ago), very similar if not identical Error:\n$ heroku pg:psql\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       SSL_connect returned=1 errno=0 state=SSLv3 read server hello A: sslv3 alert handshake failure (OpenSSL::SSL::SSLError) (Excon::Errors::SocketError)\nBacktrace:   /Users/userxxx/.rvm/gems/ruby-1.9.3-p194/gems/excon-0.16.4/lib/excon/ssl_socket.rb:60:inconnect'\n             /Users/userxxx/.rvm/gems/ruby-1.9.3-p194/gems/excon-0.16.4/lib/excon/ssl_socket.rb:60:in initialize'\n             /Users/userxxx/.rvm/gems/ruby-1.9.3-p194/gems/excon-0.16.4/lib/excon/connection.rb:362:innew'\n             /Users/userxxx/.rvm/gems/ruby-1.9.3-p194/gems/excon-0.16.4/lib/excon/connection.rb:362:in socket'\n             /Users/userxxx/.rvm/gems/ruby-1.9.3-p194/gems/excon-0.16.4/lib/excon/connection.rb:193:inrequest_kernel'\n             /Users/userxxx/.rvm/gems/ruby-1.9.3-p194/gems/excon-0.16.4/lib/excon/connection.rb:101:in request'\n             /Users/userxxx/.rvm/gems/ruby-1.9.3-p194/gems/heroku-api-0.3.5/lib/heroku/api.rb:62:inrequest'\n             /Users/userxxx/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.32.6/lib/heroku/auth.rb:20:in request'\n             /Users/userxxx/.rvm/gems/ruby-1.9.3-p194/gems/heroku-api-0.3.5/lib/heroku/api/attachments.rb:9:inget_attachments'\n             /Users/userxxx/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.32.6/lib/heroku/helpers/heroku_postgresql.rb:48:in app_attachments'\n             /Users/userxxx/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.32.6/lib/heroku/helpers/heroku_postgresql.rb:53:inhpg_databases'\n             /Users/userxxx/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.32.6/lib/heroku/helpers/heroku_postgresql.rb:111:in hpg_resolve'\n             /Users/userxxx/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.32.6/lib/heroku/command/pg.rb:71:inpsql'\n             /Users/userxxx/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.32.6/lib/heroku/command.rb:206:in run'\n             /Users/userxxx/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.32.6/lib/heroku/cli.rb:28:instart'\n             /Users/userxxx/.rvm/gems/ruby-1.9.3-p194/gems/heroku-2.32.6/bin/heroku:16:in <top (required)>'\n             /Users/userxxx/.rvm/gems/ruby-1.9.3-p194/bin/heroku:19:inload'\n             /Users/userxxx/.rvm/gems/ruby-1.9.3-p194/bin/heroku:19:in <main>'\n             /Users/userxxx/.rvm/gems/ruby-1.9.3-p194/bin/ruby_noexec_wrapper:14:ineval'\n             /Users/userxxx/.rvm/gems/ruby-1.9.3-p194/bin/ruby_noexec_wrapper:14:in `'\nCommand:     heroku pg:psql\nVersion:     heroku-gem/2.32.6 (x86_64-darwin11.3.0) ruby/1.9.3 autoupdate\n```\n. ",
    "EnriqueV": "hello, please help me i have a problem with:\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n```\nError:       Unable to find a browser command. If this is unexpected, Please rerun with environment variable LAUNCHY_DEBUG=true or the '-d' commandline option and file a bug at https://github.com/copiousfreetime/launchy/issues/new (Launchy::CommandNotFoundError)\nCommand:     heroku open\nVersion:     heroku-toolbelt/3.30.6 (i486-linux) ruby/1.9.3\nError ID:    1dbf422d620848d5ad093bd07b8feeea\nMore information in /root/.heroku/error.log\n```\n. ",
    "johnkferguson": "Closing this. I just uninstalled and re-installed heroku-pipeline and that fixed the issue.\n. ",
    "dflourusso": "Very good, thanks, it's working perfectly now.\n. ",
    "ocampana": "I have the same problem on Debian Wheezy\n```\nottavio@debian:~$ heroku version\n !    Unable to load plugin heroku-repo.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       cannot load such file -- vendor/heroku/okjson (LoadError)\nBacktrace:   /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'\n             /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'\n             /home/ottavio/.heroku/plugins/heroku-repo/lib/heroku/command/repo.rb:1:in `<top (required)>'\n             /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'\n             /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'\n             /home/ottavio/.heroku/plugins/heroku-repo/init.rb:1:in `<top (required)>'\n             /usr/local/heroku/lib/heroku/plugin.rb:59:in `load'\n             /usr/local/heroku/lib/heroku/plugin.rb:59:in `load_plugin'\n             /usr/local/heroku/lib/heroku/plugin.rb:51:in `block in load!'\n             /usr/local/heroku/lib/heroku/plugin.rb:48:in `each'\n             /usr/local/heroku/lib/heroku/plugin.rb:48:in `load!'\n             /usr/local/heroku/lib/heroku/command.rb:16:in `load'\n             /usr/local/heroku/lib/heroku/cli.rb:37:in `start'\n             /usr/bin/heroku:25:in `<main>'\n\nCommand:     heroku version\nPlugins:     heroku-repo\nVersion:     heroku-toolbelt/3.15.3 (i486-linux) ruby/1.9.3\n\nheroku-toolbelt/3.15.3 (i486-linux) ruby/1.9.3\nottavio@debian:~$\n```\ncommands work anyway, but every comand has this error\n. ",
    "reachnaveen": "Here is the complete stacktrace\nC:\\Heroku>heroku login\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       bad URI(is not URI?): http://XXXXXXX:XXXXXXX^@xxxxxxxxxxx:8080\n(URI::InvalidURIError)\n    Backtrace:   C:/Program Files\n(x86)/Heroku/ruby-1.9.3/lib/ruby/1.9.1/uri/common.rb:176:in split'\n                 C:/Program Files\n(x86)/Heroku/ruby-1.9.3/lib/ruby/1.9.1/uri/common.rb:211:inparse'\n                 C:/Program Files\n(x86)/Heroku/ruby-1.9.3/lib/ruby/1.9.1/uri/common.rb:747:in parse'\n                 C:/Program Files\n(x86)/Heroku/vendor/gems/excon-0.40.0/lib/excon/connection.rb:410:insetup_proxy'\n                 C:/Program Files\n(x86)/Heroku/vendor/gems/excon-0.40.0/lib/excon/connection.rb:60:in\ninitialize'\n                 C:/Program Files\n(x86)/Heroku/vendor/gems/excon-0.40.0/lib/excon.rb:123:innew'\n                 C:/Program Files\n(x86)/Heroku/vendor/gems/excon-0.40.0/lib/excon.rb:123:in new'\n                 C:/Program Files\n(x86)/Heroku/lib/heroku/command/certs.rb:7:inclass:Certs'\n                 C:/Program Files\n(x86)/Heroku/lib/heroku/command/certs.rb:6:in<top (required)>'\n                 C:/Program Files\n(x86)/Heroku/ruby-1.9.3/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:inrequire'\n                 C:/Program Files\n(x86)/Heroku/ruby-1.9.3/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in\nrequire'\n                 C:/Program Files (x86)/Heroku/lib/heroku/command.rb:14:inblock in load'\n                 C:/Program Files (x86)/Heroku/lib/heroku/command.rb:13:in\neach'\n                 C:/Program Files (x86)/Heroku/lib/heroku/command.rb:13:inload'\n                 C:/Program Files (x86)/Heroku/lib/heroku/cli.rb:32:in\nstart'\n                 C:/Program Files (x86)/Heroku/bin/heroku:29:in'\nCommand:     heroku login\nHTTP Proxy:  http://XXXXXXX:XXXXXXX^@xxxxxxxxxxx:8080\nHTTPS Proxy: http://XXXXXXX:XXXXXXX^@xxxxxxxxxxx:8080\nVersion:     heroku/toolbelt/3.12.1 (i386-mingw32) ruby/1.9.3\nThanks\nNaveen\nOn Tue, Nov 18, 2014 at 12:13 PM, Jeff Dickey notifications@github.com\nwrote:\n\ncan you send the rest of the output? I was able to login with a caret in\nmy password\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1273#issuecomment-63527143.\n. Jeff,\n   I tried using escape still I am getting same error. How are you using\ncaret in the proxy URL?.\n\nNaveen\nOn Tue, Nov 18, 2014 at 12:19 PM, Jeff Dickey notifications@github.com\nwrote:\n\nmaybe try url escaping the caret? I don't think there is anything the CLI\ncan do about this since it's an invalid url\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1273#issuecomment-63528059.\n. oh no, it is proxy password.\n\nOn Tue, Nov 18, 2014 at 12:25 PM, Jeff Dickey notifications@github.com\nwrote:\n\nsorry, I misunderstood the first question. I thought you said it didn\u2019t\nwork with the heroku password being set with a caret in the password, not\nthe proxy password.\nOn Tue, Nov 18, 2014 at 11:25 AM, reachnaveen notifications@github.com\nwrote:\n\nJeff,\nI tried using escape still I am getting same error. How are you using\ncaret in the proxy URL?.\nNaveen\nOn Tue, Nov 18, 2014 at 12:19 PM, Jeff Dickey notifications@github.com\nwrote:\n\nmaybe try url escaping the caret? I don't think there is anything the\nCLI\ncan do about this since it's an invalid url\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1273#issuecomment-63528059.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/issues/1273#issuecomment-63529012\n\n\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1273#issuecomment-63529155.\n. Thanks Jeff, I am not getting this error now, but still I could not able to\nconnect Heroku.\n\n!    Unable to connect to Heroku API, please check internet connectivity\nand try again.\nOn Tue, Nov 18, 2014 at 12:29 PM, Jeff Dickey notifications@github.com\nwrote:\n\ndid you try %5E as the escape character?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1273#issuecomment-63529747.\n. Sorry Jeff, I dont see client folder on .heroku folder. I do see this on my\ninstallation folder (C:\\Program Files (x86)\\Heroku\\lib\\heroku)\n\nNaveen\nOn Tue, Nov 18, 2014 at 12:38 PM, Jeff Dickey notifications@github.com\nwrote:\n\nThat comes from a socket error, you could try to output the details by\nadding puts e to line 266 of ~/.heroku/client/lib/heroku/command.rb to\nsee more details\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1273#issuecomment-63531168.\n. Jeff,\n   I changed the password without caret, it is working fine.\n\nNaveen\nOn Tue, Nov 18, 2014 at 12:45 PM, Naveen Kamrudeen reachnaveen@gmail.com\nwrote:\n\nSorry Jeff, I dont see client folder on .heroku folder. I do see this on\nmy installation folder (C:\\Program Files (x86)\\Heroku\\lib\\heroku)\nNaveen\nOn Tue, Nov 18, 2014 at 12:38 PM, Jeff Dickey notifications@github.com\nwrote:\n\nThat comes from a socket error, you could try to output the details by\nadding puts e to line 266 of ~/.heroku/client/lib/heroku/command.rb to\nsee more details\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1273#issuecomment-63531168.\n. \n\n",
    "joshk": "you should restart the build and see how much faster the caching makes it :)\n. restart the build! it should be faster yet again!\n. I see something we can improve in the caching logic, but this shaved off an extra min from the already halved build time :)\n. pleasure, feel free to use on other projects, sudo: false is the key, just remember that sudo isn't available!\n. if the repo doesn't need sudo, then you can add it!\nthis routes builds to our EC2 setup using LXC :)\n. That is fantastic to know!\n\u2014\nSent from Mailbox\nOn Thu, Nov 20, 2014 at 6:01 PM, Jeff Dickey notifications@github.com\nwrote:\n\n@joshk we're trying this on other projects and seeing awesome gains. Thanks!! :beers:\nReply to this email directly or view it on GitHub:\nhttps://github.com/heroku/heroku/pull/1282#issuecomment-63896248\n. \n",
    "limratana": "Sorry, I thought this task was provided by the Heroku gem. It's likely on our end.\n. ",
    "tgeene": "I reinstalled the tool belt and that fixed it. Thank you!\n. ",
    "keenahn": "Very odd, it seems like some release got pushed with no \"description\" I fixed this locally by changing line 33 of releases.rb to\ntruncate(release[\"descr\"] || \"\" , 40),\n. ",
    "SuperTango": "Same issue here.  It was working 2 days ago, and then it wasn't.\n. Thanks for the workaround @keenahn.  Seems like the deploys aren't being tagged with the \"Deploy \" anymore.  Everything up to 2014_11_21 had a \"Deploy \".  Now, not so much.  I haven't changed how I push my changes (git push heroku master)\nv34                                            altitude@funkware.com  2014/11/22 12:31:38 (~ 10h ago)\nv33                                            altitude@funkware.com  2014/11/22 12:02:08 (~ 11h ago)\nv32  Set SEGMENT_ANALYTICS_WRITE_KEY config..  altitude@funkware.com  2014/11/22 11:18:57 (~ 11h ago)\nv31                                            altitude@funkware.com  2014/11/22 11:17:02 (~ 11h ago)\nv30                                            altitude@funkware.com  2014/11/21 17:16:06\nv29  Deploy 85df5ba                            altitude@funkware.com  2014/11/18 14:00:46\nv28  Deploy c5e7ea5                            altitude@funkware.com  2014/11/10 14:44:14\n...\n. This may fix the bug, I think there's an underlying problem with the description being nil.\n. ",
    "dresselm": "Any thoughts on why there are nil descriptions all of a sudden?\n. @pedro Do you have a timeline re: backfilling the data?\n. ",
    "v4nn4": "It it a duplicate of issue #1286. The workaround mentioned by @keenahn worked for me.\n. ",
    "dylanjha": "thanks :)\n. ",
    "liujsim": "\nis there something that this is causing a problem with?\n\nNothing,just wondering no matter what operating the heroku path always here.\n. ",
    "brettgoulder": "The reason why it would fail is that pipelines a user feature, not an app feature.  The error message and logic here is really misleading: https://github.com/heroku/heroku/blob/c032901b9d91ac515a9cdb042aefa4012d3399db/lib/heroku/command/labs.rb#L118-L127\n. +1, api is definitely the right place to retain this information\n. cc @meaganrgamache @balansubr \n. ",
    "askehansen": "It works now, thanks!\n. ",
    "danmichaelson": "I'm getting this too, and deleting ~/.heroku followed by 'heroku update' didn't help.. also tried installing the toolbelt again. I get the error above if I do:\nheroku status\nor\nheroku pg:reset DATABASE\n(after entering the confirmation)\nor\nheroku addons:add bonsai\n(although it did successfully add the addon)\nI even tried deleting the app from Heroku and creating it again, and I continue to get the errors. I get the error when I'm cd'd into other apps too for that matter.\nI'm on OS X Yosemite.\n. My toolbelt version is slightly different from the OP, here is my exact error output:\n```\n!    Heroku client internal error.\n!    Search for help at: https://help.heroku.com\n!    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       uninitialized constant Heroku::Helpers::MultiJson (NameError)\nBacktrace:   /usr/local/heroku/lib/heroku/helpers.rb:205:in rescue in json_decode'\n             /usr/local/heroku/lib/heroku/helpers.rb:204:injson_decode'\n             /usr/local/heroku/lib/heroku/command/status.rb:23:in index'\n             /usr/local/heroku/lib/heroku/command.rb:221:inrun'\n             /usr/local/heroku/lib/heroku/cli.rb:40:in start'\n             /usr/bin/heroku:24:in'\nCommand:     heroku status\nVersion:     heroku-toolbelt/3.21.1 (x86_64-darwin10.8.0) ruby/1.9.3\n```\n. Thanks, I just tried\nrm -rf ~/.heroku\nheroku update\nheroku plugins:update\nDidn't help..\n. Yes. multi_json-1.10.1 folder.\nCould this be related to rbenv? I started using it recently; previously was using rvm in \"multi-user\" mode. But I also started using Yosemite recently (but reinstalled heroku since upgrading to both).\nThat said I've tried doing \"rbenv local system\" and \"rbenv rehash\" before the heroku commands.\n. Huh. It passes and outputs {\"foo\"=>\"bar\"}, and no error. I removed the p line and left just the require, and that fixes the error. Thoughts?\n. Ok! Thanks, yeah weird. I had to muck around a little bit to get rbenv working in Yosemite.. kind of just the usual stuff.. so maybe something put my system in this state, but presumably it could happen to others too.\n. ",
    "tejasmanohar": "must be my internet speed, it finished eventually\n. ",
    "jpaas": "I am having the same issue here. Trying to pipe a 36kb JSON file to be parsed by a rake task. It always fails parsing because the contents of the file are incomplete. The phantom echo shows the whole file. But  reading from stdin always ends at 4096 bytes.\n. Thanks @timdiggins, I ended up committing my files to the repo to get past it. It is yucky, but I only use this feature of my app for dealing with exceptional cases when they come up, so I can live with it.\n. Will do. Thanks @dickeyxxx for following up.\n. Actually you don't even need single quotes and the spaces can occur after also. e.g. \nheroku config:set  SPACE_BEFORE=pooched\nheroku config:set SPACE_AFTER =boned\n. The real problem here is that I can't figure out how to unset these variables\n. @dickeyxxx How can these be unset? I just tried `heroku config:remove \" AWS_SECRET_ACCESS_KEY\". It says its removing it but doesn't.\nheroku-toolbelt/3.42.21 (x86_64-darwin10.8.0) ruby/1.9.3\nheroku-cli/4.27.2-eb1b3ca (amd64-darwin) go1.5.1\n. @dickeyxxx I just tried config:unset, but it also did not work for me.\n. $ heroku version\nheroku-toolbelt/3.42.22 (x86_64-darwin10.8.0) ruby/1.9.3\nheroku-cli/4.27.6-adb48a1 (amd64-darwin) go1.5.1\n=== Installed Plugins\nheroku-accounts\nheroku-apps@0.5.4\nheroku-cli-addons@0.1.1\nheroku-fork@4.0.0\nheroku-git@2.4.3\nheroku-local@4.1.5\nheroku-redis@1.1.0\nheroku-run@2.9.2\nheroku-status@1.2.3\n. ",
    "timdiggins": "@jpaas I've found the only solution is to give up on stdin, instead to open files from a url (I use a thor task to upload a file to an S3 bucket which auto-deletes its content). The other obvious alternative is to commit files to your repo temporarily and git push to heroku. (Yuck)\n. @dickeyxxx can you give me some reasons why you're stating \"it isn't an issue with the CLI but the service that it connects to\". \nI actually reported this problem to heroku support in Oct 2015 at https://help.heroku.com/tickets/105256 and I referenced the stackoverflow question I had written http://stackoverflow.com/questions/20471959/piping-local-stdin-to-heroku-run-mustnt-write-to-stdout-4k-stdout-buffer.  \nThe response was:\n\nI believe that this is an issue with the Heroku toolbelt. Unfortunately, the team who maintains this tool does not receive requests via our ticketing system[https://github.com/heroku/heroku/issues/new]. Since this is a public tool, you should open a new Github Issue to report this. Feel free to reference this ticket number there.\n\nI then wrote this issue up in Dec 2014 (sorry, I forgot to reference the ticket number -- I think I had forgotten about the ticket response). \nCan you help me out with this a bit further?\n. @dickeyxxx ok thanks, have done so.\nbut @dickeyxxx is this https://github.com/heroku/heroku-run/commit/eabaf6c9badfc3f73613a8e8d9b60d20489011ad why you are saying it's not a CLI issue? (have been poking through the codebase to try to understand why you said that)\n. gotcha @dickeyxxx thanks for the clarification.\n. ",
    "heyalexej": "Sorry for not being more clear. Here goes.\nbash\n\u279c  lsb_release -a      \nNo LSB modules are available.\nDistributor ID: Ubuntu\nDescription:    Ubuntu 14.10\nRelease:    14.10\nCodename:   utopic\n\u279c  git --version       \ngit version 2.1.0\n\u279c  apt-cache policy git\ngit:\n  Installed: 1:2.1.0-1\n  Candidate: 1:2.1.0-1\n  Version table:\n *** 1:2.1.0-1 0\n        500 http://mirror1.ku.ac.th/ubuntu/ utopic/main amd64 Packages\n        100 /var/lib/dpkg/status\nThis is the newest version in the Utopic packages. Vivid is now at 1:2.1.3-1: amd64 i386. So basically every Linux user at the current stage gets the warning even though the vulnerability affects Git clients running on OS X (HFS+) or any version of Microsoft Windows (NTFS, FAT) according to the disclosure\u00b9. \nThat's why I thought it might be appropriate to have the warning only displayed to those who are affected. And because in my understanding this can't be done solely by parsing out version numbers, it should check for the OS as well.\n. Cheers. Works like a charm.\n. ",
    "TrangPham": "@jcharlesworth \nThe issue seems to be this line:\nRuby\n/git version ([\\d\\.]+)/.match(`git --version`)[1]\nBased on your output this would give \"1.5.9.\"\nAnd should work fine as Version.parse(\"1.5.9.\") works.\nEdit: Ah okay I spoke to soon... It would work but it's actually that the git --version command can't be called. Silly me. (Though maybe just try running it in irb)\n. ",
    "jcharlesworth": "Thanks for your help @TrangPham  and @dickeyxxx. @dickeyxxx  you were absolutely correct. There was a MySQL entry in my system path that was interfering. I narrowed it down by moving the Heroku CLI and GIT directories higher in priority using PathMan. Eventually I got the proper CLI output!\n. ",
    "twolfson": "Yep, one sec\n. Almost done with the merge\n. Alright, all merged and pushed.\n. ",
    "rounders": "I'm seeing this error as well after installing the heroku toolbelt today.\n. @dickeyxxx i downloaded the toolbelt from toolbelt.heroku.com. After encountering the error I then re-installed it using homebrew.\n. @dickeyxxx I just re-installed and I still run into the problem:\n``` text\nfh-imac $ heroku version\nheroku-toolbelt/3.25.0 (x86_64-darwin10.8.0) ruby/1.9.3\nYou have no installed plugins.\nfh-imac $ heroku login                      \nEnter your Heroku credentials.\nEmail: xxxxxxxx@xxxx.xxxx\nPassword (typing will be hidden): \nTwo-factor code: xxxxxx \nError submitting error.\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method `second_factor=' for #<Heroku::API:0x00000101128a70> (NoMethodError)\nCommand:     heroku login\nVersion:     heroku-toolbelt/3.25.0 (x86_64-darwin10.8.0) ruby/1.9.3\n\n\nMore information in /Users/xxxxxx/.heroku/error.log\n\n```\nAnd here is the contents of the error.log log file in case that helps:\ntext\nexception class/object expected\n/usr/local/heroku/lib/heroku/rollbar.rb:9:in `raise'\n/usr/local/heroku/lib/heroku/rollbar.rb:9:in `error'\n/usr/local/heroku/lib/heroku/helpers.rb:441:in `styled_error'\n/usr/local/heroku/lib/heroku/cli.rb:52:in `rescue in start'\n/usr/local/heroku/lib/heroku/cli.rb:35:in `start'\n/usr/local/heroku/bin/heroku:24:in `<main>'\nHeroku client internal error.\nundefined method `second_factor=' for #<Heroku::API:0x000001029436f0>\n/usr/local/heroku/lib/heroku/auth.rb:219:in `ask_for_second_factor'\n/usr/local/heroku/lib/heroku/auth.rb:92:in `rescue in api_key'\n/usr/local/heroku/lib/heroku/auth.rb:86:in `api_key'\n/usr/local/heroku/lib/heroku/auth.rb:214:in `ask_for_credentials'\n/usr/local/heroku/lib/heroku/auth.rb:262:in `ask_for_and_save_credentials'\n/usr/local/heroku/lib/heroku/auth.rb:106:in `get_credentials'\n/usr/local/heroku/lib/heroku/auth.rb:41:in `login'\n/usr/local/heroku/lib/heroku/command/auth.rb:31:in `login'\n/usr/local/heroku/lib/heroku/command.rb:223:in `run'\n/usr/local/heroku/lib/heroku/cli.rb:40:in `start'\n/usr/local/heroku/bin/heroku:24:in `<main>'\nexception class/object expected\n/usr/local/heroku/lib/heroku/rollbar.rb:9:in `raise'\n/usr/local/heroku/lib/heroku/rollbar.rb:9:in `error'\n/usr/local/heroku/lib/heroku/helpers.rb:441:in `styled_error'\n/usr/local/heroku/lib/heroku/cli.rb:52:in `rescue in start'\n/usr/local/heroku/lib/heroku/cli.rb:35:in `start'\n/usr/local/heroku/bin/heroku:24:in `<main>'\nHeroku client internal error.\nundefined method `second_factor=' for #<Heroku::API:0x00000101128a70>\n/usr/local/heroku/lib/heroku/auth.rb:219:in `ask_for_second_factor'\n/usr/local/heroku/lib/heroku/auth.rb:92:in `rescue in api_key'\n/usr/local/heroku/lib/heroku/auth.rb:86:in `api_key'\n/usr/local/heroku/lib/heroku/auth.rb:214:in `ask_for_credentials'\n/usr/local/heroku/lib/heroku/auth.rb:262:in `ask_for_and_save_credentials'\n/usr/local/heroku/lib/heroku/auth.rb:106:in `get_credentials'\n/usr/local/heroku/lib/heroku/auth.rb:41:in `login'\n/usr/local/heroku/lib/heroku/command/auth.rb:31:in `login'\n/usr/local/heroku/lib/heroku/command.rb:223:in `run'\n/usr/local/heroku/lib/heroku/cli.rb:40:in `start'\n/usr/local/heroku/bin/heroku:24:in `<main>'\n. @dickeyxxx thanks, i'll give that a try and will report back shortly.. And yes I'm using the OS X package that I downloaded from  https://toolbelt.heroku.com\n. @dickeyxxx your suggestion of deleting /usr/local/heroku before the re-install did the trick. Thanks!!\n. ",
    "aspitz": "I'm also seeing this exact same error. I didn't use homebrew to install toolbelt, I only installed it from the toolbelt.heroku.com. \n. ",
    "benders": "I had the same problem after downloading a new toolbelt. Deleting /usr/local/heroku and then re-installing it also fixed the issue for me. Unfortunately I didn't have the foresight to save that directory before deleting.\n```\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method `second_factor=' for #<Heroku::API:0x00000100aacca0> (NoMethodError)\nCommand:     heroku ps\nPlugins:     manager-cli\nVersion:     heroku-toolbelt/3.37.6 (x86_64-darwin10.8.0) ruby/1.9.3\nError ID:    b54d32b61dfc49398f436756b0f1e063\n\n```\n. ",
    "brentdax": "As you can see from above, I've been busy. :^)\nIn short, it now:\n- Supports a --selfsigned option that makes it generate a self-signed certificate instead of a CSR, and a --keysize option to control the key size.\n- Checks if OpenSSL is installed and, if not, offers platform-specific installation instructions. Also supports an OPENSSL environment variable if it's installed somewhere non-standard.\n- Suggests that you add ssl:endpoint if it's not already enabled.\n- Only prompts for info needed in an SSL certificate, and provides command-line flags to specify it all programmatically.\n- Tests everything I could think of.\nThe remaining issues are ones I can't really solve myself:\n- This needs to be tested on other platforms (I only have access to OS X).\n- I wasn't sure how dashes would map into the options hash; you guys probably know, so feel free to change --selfsigned and --keysize to their endashened versions.\n- I'm also not sure about the naming of the --now flag, but the only alternatives I could think of are negatives (--noninteractive, --no-prompt, etc.).\n- I haven't worked with rspec before, so the tests may not be written as well as they should be.\n- I haven't actually tried to use a CSR or certificate generated by this code, although Keychain Access seems perfectly happy with them.\nLet me know what you think!\n. Oof. ensure_openssl_installed! includes some code to avoid doing the installation check more than once; this wasn't always cleared between tests, so running the tests in the wrong order would cause the test that confirms the method actually calls out to openssl(1) to fail.\nI've pushed a quick patch to my branch at dd5e7f64 which fixes this issue.\n. @dickeyxxx Done (after a false start) as #1353. Thanks!\n. Yikes, looks like this hit a rare corner case. (The test fails if it's the first in its group, but comes after another group that implicitly calls the method it's testing.) To fix the issue, I made the resetting much more aggressive. I can't be totally sure that the issue won't recur, but I arranged for my computer to run spec/heroku/open_ssl_spec.rb 1,000 times and the full suite 100 times and haven't seen any failures, so I think it's finally nailed to the wall.\n. ",
    "gilgam": "Ok here it is  \nError:       invalid byte sequence in UTF-8 (ArgumentError)\n    Backtrace:   /usr/local/heroku/vendor/gems/netrc-0.10.2/lib/netrc.rb:72:in split'\n                 /usr/local/heroku/vendor/gems/netrc-0.10.2/lib/netrc.rb:72:inblock in lex'\n                 /usr/local/heroku/vendor/gems/netrc-0.10.2/lib/netrc.rb:71:in each'\n                 /usr/local/heroku/vendor/gems/netrc-0.10.2/lib/netrc.rb:71:inlex'\n                 /usr/local/heroku/vendor/gems/netrc-0.10.2/lib/netrc.rb:64:in read'\n                 /usr/local/heroku/lib/heroku/auth.rb:142:innetrc'\n                 /usr/local/heroku/lib/heroku/auth.rb:113:in delete_credentials'\n                 /usr/local/heroku/lib/heroku/auth.rb:40:inlogin'\n                 /usr/local/heroku/lib/heroku/command/auth.rb:31:in login'\n                 /usr/local/heroku/lib/heroku/command.rb:223:inrun'\n                 /usr/local/heroku/lib/heroku/cli.rb:39:in start'\n                 /usr/local/heroku/bin/heroku:25:in'\nCommand:     heroku auth:login\nVersion:     heroku-toolbelt/3.22.1 (x86_64-linux-gnu) ruby/2.1.5\n. oops i closed it ... can i change the status (noob in bugs on github).\n. indeed \nit was unreadable, with lot of strange characters. \nI deleted it and it works fine again.\nI switched from fedora to debian, keeping the /home partition. It may be from a an old .netrc file.\nThanks a lot\n. ",
    "RamchandraApte": "Never mind, somehow I had a .netrc file which my user doesn't have permissions to. Deleted the file and it works.\nMaybe I accidentally ran sudo heroku login.\n. ",
    "ackvf": "On windows, setting the file as hidden will cause this too.. ",
    "heysushil": "Yes I'm follow complete guide of heroku and I'm also follow this link\n\"  http://www.sitepoint.com/deploying-yeomanangular-app-heroku/ \"  to\ndeploy my nodejs app and I'm successfully deploy my app and that is show in\nmy heroku account but when I'm browse my app link that is show me\napplication error.\nI'm really very confuse about deployment, because I'm try these steps many\ntime but not succeed.\nmy nodejs app file structure is\n\u200b\nI'm using firebase to manage my data and one important thing is this - I am\nbeginner so I have no more knowledge about nodejs, angularjs and about how\nto deploy my app on heroku so plz provide a better solution\nI think mma_1/Gruntfile.js may cough a problem or package.json or\nbower.json I'm really very confuse...\nOn Thu, Jan 22, 2015 at 1:35 AM, Jeff Dickey notifications@github.com\nwrote:\n\nhave you gone through a getting started guide?\nhttps://devcenter.heroku.com/start\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1368#issuecomment-70911344.\n\n\nChaudhary Sushil\n. yes and at finally i got problem and I'm successfully deploy my app... \n. ",
    "Josh-Burgess": ":+1: \n. ",
    "fledman": ":+1: \n. I am also experiencing the same issue. After a fresh install from toolbelt.heroku.com I get:\n\u279c  heroku --version\nheroku-cli: Installing core plugins (retrying)...\n \u25b8    Error reading plugin: heroku-pipelines\n \u25b8    exit status 1\n \u25b8    module.js:327\n \u25b8        throw err;\n \u25b8        ^\n \u25b8    \n \u25b8    Error: Cannot find module 'heroku-pipelines'\n \u25b8        at Function.Module._resolveFilename (module.js:325:15)\n \u25b8        at Function.Module._load (module.js:276:25)\n \u25b8        at Module.require (module.js:353:17)\n \u25b8        at require (internal/module.js:12:17)\n \u25b8        at [eval]:2:15\n \u25b8        at Object.exports.runInThisContext (vm.js:54:17)\n \u25b8        at Object.<anonymous> ([eval]-wrapper:6:22)\n \u25b8        at Module._compile (module.js:397:26)\n \u25b8        at node.js:611:27\n \u25b8        at nextTickCallbackWith0Args (node.js:452:9)\nheroku-cli: Installing core plugins (retrying)...\n \u25b8    Error reading plugin: heroku-pipelines\n \u25b8    exit status 1\n \u25b8    module.js:327\n \u25b8        throw err;\n \u25b8        ^\n \u25b8    \n \u25b8    Error: Cannot find module 'heroku-pipelines'\n \u25b8        at Function.Module._resolveFilename (module.js:325:15)\n \u25b8        at Function.Module._load (module.js:276:25)\n \u25b8        at Module.require (module.js:353:17)\n \u25b8        at require (internal/module.js:12:17)\n \u25b8        at [eval]:2:15\n \u25b8        at Object.exports.runInThisContext (vm.js:54:17)\n \u25b8        at Object.<anonymous> ([eval]-wrapper:6:22)\n \u25b8        at Module._compile (module.js:397:26)\n \u25b8        at node.js:611:27\n \u25b8        at nextTickCallbackWith0Args (node.js:452:9)\n !    error getting commands pid 60918 exit 1\n. seems to be fine now\n. ",
    "tmertens": "@uhoh-itsmaciek Thanks for the catch, it is fixed now and I added tests for the db string parser.\n@dickeyxxx I updated the code documentation in pg.rb to reflect the new behavior.\n. @dickeyxxx Can you provide more information?  Isn't the above error the expected behavior of pg push is used to push data to a heroku db that is not empty?\nhttps://github.com/heroku/heroku/blob/master/lib/heroku/command/pg.rb#L312\nIt doesn't sound related to my PR which is no-op for the case of pushing from local databases.\n. actually i may see a bug in my patch... better tests for the pg commands would be nice but there wasnt much to start with. I will take a look and see about fixing it.\n. Yeah ... I see the bug. Sorry about that.  Easy fix but i'm gonna spend some time seeing if I can easily add some tests for the pg push/pull commands to prevent refactoring issues in the future.\n. @dickeyxxx bump :point_up: \n:cake: \n. Thanks! \n. Whoops, yeah it looks like it.  I will fix and add a test.\n. ",
    "schneems": "Awesome sauce! Thanks :heart:\n. ",
    "jsimone": "@tt @ryanbrainard what do you guys think?\n. ",
    "stefan-kolb": "Further infos:\nThis workflow succeds: https://github.com/stefan-kolb/paasyard/blob/695149fe79480fcf2c761a9bdc471003d18ce4d5/provider/heroku/deploy\nWhile this one fails:\nhttps://github.com/stefan-kolb/paasyard/blob/c2de330ed42ce0dd274fb5b0b3a857b16f60b3e3/provider/heroku/deploy\nI haven't changed any of my application code. It's Rails 4.0.5, Redis 3.0.6, sprockets-rails 2.0.1\nHopefully I'm not into some dumb mistakes.\n. I also did a test, should work, thanks!\n. Looks like this is some incompatibility issue on my system. After reinstalling Git it seems to work again, strange...\n. ",
    "mbren": "\"Two-factor\" is an adjective that qualifies \"authentication\", the noun. I strongly feel that the term we use should be \"two-factor authentication\" or \"two-factor auth\". If we just say two-factor by itself, then we are using two-factor as a noun which, in my opinion, is not correct. \nHowever, at the end of the day, what matters is that there's useful help text for people to read. It's not like we're localizing this and have to worry about being consistent for a translation memory database. Do whatever you think is best.\nI'm OK with the rest of your suggestions. \n. yes\n. :sparkles: \nThank you!\n. yes\n. ",
    "justberare": "thx for the reply. just did so and it gives me the following message \n\nactually I just realized one thing. I have an accent in my name \"Edouard Natt\u00e9e\". In the Heroku error message it creates a \\u201a. Is it possible that it comes from there?\n. Found the error.\nI changed my ... last name (in .gitconfig). I dropped the accent and it worked.\n. ",
    "insane56": "I have same problem and cant fix it. Cant find file .gitconfig.\n. ",
    "SorokinV": "I have same problem. Most likely, the problem is associated with non-latin characters in user names, directories and profiles, which are files or where access is required. For example: c:\\\u041f\u041a\u042e\u0416235.\nHow can I get around this?\n. I must say that the screen is given tracing the secondary error. That is, (1) there must be some error when you run, then (2) there is a call procedure of forming the error text (helper.rb:449). In the formation of the text of this error occurs (3) in the formation of the text of the error (helper.rb:440), which is displayed in the trace on the screen.\nTherefore, the problem can cause any error that can not display a error message on the screen.\nIn my case, I have determined that the initial error occurs when there is the command mkdir.\nSo I created a user only Latin characters with the new profile, and passed this point without any problems, just in case the administrative mode. It was important only for heroku. Django 1.8 and Python 3.4 normally work with non-Latin characters.\nSearch for error or bypass option in your case you need seek to cli:19, cli:39 or heroku:29 lines.\n. ",
    "NeilJee": "I have the same problem. But actually I do not have any non-latin characters in my user names, directories and profiles.\n\nCould any one know how to solve this problem ?\n. ",
    "LukaszWiktor": "Same problem here. I have a non-latin character in my home path. When I switched to another account with all latin characters then it worked.\n. ",
    "acdcjunior": "My windows user folder has a \u00f4 on its name. Having the same error here.\nOther than creating a new windows user O_o, does anyone have a workaround?\n. @ransombriggs The error is thrown at heroku update as well.\nMy current version is heroku/toolbelt/3.37.2 (i386-mingw32) ruby/1.9.3.\n\nI guess all I can do is uninstall the current version and install the latest via control panel or similar, right?\n. @ransombriggs It worked. For me, at least.\nI reinstalled heroku-toolbelt.exe (without unninstalling the current). Called heroku update right after that and had no problems (nothing to update, of course, tough).\nThanks for the help.\n. ",
    "jkutner": "The experience is the same as the video I made a while back (the only change is the underlying services).\nHere it is in code:\n``` sh-session\n$ heroku buildpack\njkutner-test has no Buildpack URL set.\n$ heroku buildpack:set https://github.com/heroku/heroku-buildpack-java\nBuildpack set. Next release on jkutner-test will use https://github.com/heroku/heroku-buildpack-java.\nRun git push heroku master to create a new release using https://github.com/heroku/heroku-buildpack-java.\n$ heroku buildpack\n=== jkutner-test Buildpack URL\nhttps://github.com/heroku/heroku-buildpack-java\n$ heroku buildpack:unset\nBuildpack unset. Next release on jkutner-test will detect buildpack normally.\n```\nI will go ahead and rename the buildpacks repo/plugin\n. Oh here's an interesting case:\n``` sh-session\n$ heroku buildpack\njkutner-test has no Buildpack URL set.\n$ heroku config:set BUILDPACK_URL=\"https://github.com/heroku/heroku-buildpack-java\"\nSetting config vars and restarting jkutner-test... done, v3\nBUILDPACK_URL: https://github.com/heroku/heroku-buildpack-java\n$ heroku buildpack\n=== jkutner-test Buildpack URL\nhttps://github.com/heroku/heroku-buildpack-java\n```\n. Oh dear\n``` sh-session\n$ heroku config:set BUILDPACK_URL=\"https://github.com/heroku/heroku-buildpack-java\"\nSetting config vars and restarting jkutner-test... done, v3\nBUILDPACK_URL: https://github.com/heroku/heroku-buildpack-java\n$ heroku buildpack:unset\nBuildpack unset. Next release on jkutner-test will detect buildpack normally.\n$ heroku buildpack\n=== jkutner-test Buildpack URL\nhttps://github.com/heroku/heroku-buildpack-java\n```\nShould buildpack:unset also remove the BUILDPACK_URL config var? \n. New behavior:\n``` sh-session\n$ heroku config:set BUILDPACK_URL=\"https://github.com/heroku/heroku-buildpack-java\"\nSetting config vars and restarting jkutner-test... done, v3\nBUILDPACK_URL: https://github.com/heroku/heroku-buildpack-java\n$ heroku buildpack:unset\nBuildpack unset.\nWARNING: The BUILDPACK_URL config var is still set and will be used for the next release\n$ heroku config\n=== jkutner-test Config Vars\nBUILDPACK_URL: https://github.com/heroku/heroku-buildpack-java\n$ heroku buildpack\n=== jkutner-test Buildpack URL\nhttps://github.com/heroku/heroku-buildpack-java\n$ heroku buildpack:set https://github.com/heroku/heroku-buildpack-ruby\nBuildpack set. Next release on jkutner-test will use https://github.com/heroku/heroku-buildpack-ruby.\nRun git push heroku master to create a new release using https://github.com/heroku/heroku-buildpack-ruby.\n$ heroku buildpack\n=== jkutner-test Buildpack URL\nhttps://github.com/heroku/heroku-buildpack-ruby\n$ heroku config:unset BUILDPACK_URL\nUnsetting BUILDPACK_URL and restarting jkutner-test... done, v4\n$ heroku buildpack:unset\nBuildpack unset. Next release on jkutner-test will detect buildpack normally.\n$ heroku buildpack\njkutner-test has no Buildpack URL set.\n``\n. @craigkerstiens are you a +1 on this?\n. Only thing I'm left wondering is if we should usebuildpacksinstead ofbuildpack`. I have renamed the old heroku-buildpacks plugin to heroku-buildkits, so there won't be a collision so long as folks have updated. I doubt there are any non-heroku people using that plugin. But i have no idea.\n. /cc @craigkerstiens \n. This is fixed in API\n. /cc @freeformz \n. @freeformz yea, the tests are missing a decent chunk of the flow. But in this case the test actually does capture the bug.\n. @dickeyxxx what about a nicer message so that users can understand what's happening? /cc @craigkerstiens \n. ",
    "drewB": "How would you actually use this workaround?  I am trying to pipe in a file to a rake task.  I have tried the following and they are all hang expecting stdin.\ncat file.csv | heroku run bash --noediting -c \"rake my_rake_task\"\ncat file.csv | heroku run bash -c \"rake my_rake_task\"\nheroku run bash --noediting -c \"rake my_rake_task\" < file.csv\nheroku run bash -c \"rake my_rake_task\" < file.csv\n. heroku-toolbelt/3.42.22 (x86_64-darwin10.8.0) ruby/1.9.3\nheroku-cli/4.27.7-135a760 (amd64-darwin) go1.5.1\n=== Installed Plugins\nheroku-apps@0.5.4\nheroku-cli-addons@0.1.1\nheroku-fork@4.0.0\nheroku-git@2.4.3\nheroku-local@4.1.5\nheroku-run@2.9.2\nheroku-status@1.2.3\n. never used any plugins for that.  I ran the command which appeared to be successful but the error continues.\n. heroku run console --remote=production\n \u25b8    could not find git remote --remote=production in \n \u25b8    remotes: production staging\n. production  https://git.heroku.com/appname.git (fetch)\nproduction  https://git.heroku.com/appname.git (push)\nstaging git@heroku.com:stagingappname.git (fetch)\nstaging git@heroku.com:stagingappname.git (push)\nit is related to https vs git protocol?\n. take another look at the comment.  I updated right after posting (github formatting issue)\n. HEROKU_GIT_HOST and HEROKU_HTTP_GIT_HOST are not set.  Output of heroku version:\nheroku-toolbelt/3.42.3 (x86_64-linux) ruby/1.9.3\nheroku-cli/4.24.4-d580541 (amd64-linux) go1.5.1\n=== Installed Plugins\nheroku-apps@0.2.2\nheroku-cli-addons@0.0.1\nheroku-fork@3.1.4\nheroku-git@2.4.1\nheroku-local@4.1.2\nheroku-ranger\nheroku-run@2.7.1\nheroku-status@1.2.1\n. ",
    "albertnetymk": "--no-tty works for me as well. Thank @ransombriggs very much.\n. ",
    "neovintage": "Awesome.  This pr fixes the problem of unscheduling.  \nI found another problem. If you try to schedule over an already present schedule then we get an internal server error:  http://cl.ly/image/091Y1F1r291u.  We can open that as a bug and do it later.  Its not as critical because there is a workaround path (e.g. unschedule first then schedule).\n. That happens with _AND_ without this patch\nOn Tue, Feb 24, 2015 at 8:45 AM, Maciek Sakrejda notifications@github.com\nwrote:\n\n@neovintage https://github.com/neovintage That happens with or without\nthis patch, right? I'll take a look at that, but if so, then I think this\nis good to go @dickeyxxx https://github.com/dickeyxxx (though I'll have\nsome more patches for you later today).\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/pull/1414#issuecomment-75793529.\n. +1 !!\n\nOn Thu, Feb 26, 2015 at 5:03 PM, Maciek Sakrejda notifications@github.com\nwrote:\n\n/cc @neovintage https://github.com/neovintage\nYou can view, comment on, or merge this pull request online at:\nhttps://github.com/heroku/heroku/pull/1426\nCommit Summary\n- Allow restores from a URL\nFile Changes\n- M lib/heroku/command/pg_backups.rb\n  https://github.com/heroku/heroku/pull/1426/files#diff-0 (48)\nPatch Links:\n- https://github.com/heroku/heroku/pull/1426.patch\n- https://github.com/heroku/heroku/pull/1426.diff\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/pull/1426.\n. I agree.  This was meant as more of stop-gap to get pgbackups using\ntransferatu.\n\nOn Wed, Mar 11, 2015 at 2:52 PM, Jeff Dickey notifications@github.com\nwrote:\n\nbut as you pointed out, it was like that before\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/pull/1446#issuecomment-78380537.\n. +1 \n. Tested this out.  Works great!\n. @kjohnston The best advice I can give you right now is that you'll have to parse out the endpoints to the pgbackups API in a couple of files:\nhttps://github.com/heroku/heroku/blob/master/lib/heroku/client/heroku_postgresql.rb\nhttps://github.com/heroku/heroku/blob/master/lib/heroku/client/heroku_postgresql_backups.rb\n\nAn example of how it's used is in the fork functionality:\nhttps://github.com/heroku/heroku/blob/master/lib/heroku/command/fork.rb#L131-L155\nI recognize that's not the best answer and the more appropriate path would be to have officially supported endpoints for postgres and pgbackups.  It's a project I'd like to take on but probably not for some time.\n. @uhoh-itsmaciek I quickly grep-ed across codebase and didn't see it being done anywhere else.  I wouldn't want to be the first one to start requiring options.\n@dickeyxxx That's a good idea.\n. +1\nOn Tue, Apr 7, 2015 at 11:40 PM, Maciek Sakrejda notifications@github.com\nwrote:\n\nThis cleans things up a bit and adds support for displaying backups from\nthe old PGBackups system after we migrate them.\n/cc @neovintage https://github.com/neovintage (N.B.: the backup naming\nscheme here is one suggested by pvh: just prefix anything coming from\nPGBackups with o--I can easily change this to something else that follows\nthe same general mechanism)\nYou can view, comment on, or merge this pull request online at:\nhttps://github.com/heroku/heroku/pull/1490\nCommit Summary\n- Show old pgbackups transfer names\n- Better transfer_name function; use it more consistently\n- Cleaner support for PGBackups backups\nFile Changes\n- M lib/heroku/command/pg_backups.rb\n  https://github.com/heroku/heroku/pull/1490/files#diff-0 (86)\n- M spec/heroku/command/pg_backups_spec.rb\n  https://github.com/heroku/heroku/pull/1490/files#diff-1 (36)\nPatch Links:\n- https://github.com/heroku/heroku/pull/1490.patch\n- https://github.com/heroku/heroku/pull/1490.diff\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/pull/1490.\n. thanks @dickeyxxx !\n\nOn Wed, Apr 8, 2015 at 4:41 PM, Harold Gim\u00e9nez notifications@github.com\nwrote:\n\nwoot, thanks @dickeyxxx https://github.com/dickeyxxx\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/pull/1490#issuecomment-91069394.\n. @chadbailey59 I tested out the code.  I have a couple of comments. \n- when you do pg:copy of databases across applications,  there's no way of knowing that it happened.  You just see two different colors.\n- The output for copies can be exceptionally long.  Is there a way to limit that to maybe the last 10?\n\nI have screenshots if you need them.\n. The setup is I have two apps, neovintage and pgbackups-rims.  I copied gold\nfrom neovintage to Blue on pgbackups-rims.  When I look at this output on\npgbackups-rims, I only see GOLD to BLUE.  I don't have context that it came\nfrom another app.\nOn Mon, Apr 27, 2015 at 10:18 PM, Maciek Sakrejda notifications@github.com\nwrote:\n\nLooks great. I haven't tried it, but I think your changes look pretty\nstraightforward, so with you and Rimas giving it a shot (and the specs) I'm\nsure it's fine. Let me know if you want me to run through something in\nparticular.\nI'm neutral on the log output @neovintage https://github.com/neovintage\nbrought up--that can certainly be a lot of output, but you're generally\nonly looking when you want to know so maybe that's fine? I don't follow the\ncross-app copy issue. Maybe the screenshot would help.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/pull/1513#issuecomment-96913046.\n. Screenshot\n\n. Is that 20 total across both or each?  I would suggest limiting to last\n10 in each.\n\nWhat about the web interface to all of this?\nOn Tuesday, April 28, 2015, chadbailey59 notifications@github.com wrote:\n\nI removed the ruby-version file. I also limited the restore and copy\noutputs to the 20 most recent.\nI absolutely think @neovintage https://github.com/neovintage 's concern\nabout cross-app restores is valid. I noticed it too when I was testing, but\nI'm trying to keep this as limited in scope as possible to get the bugfixes\nout.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/pull/1513#issuecomment-97106112.\n. Thanks for the fix.  We can push this out now.  We'll have to schedule some time to get PHC fixed to include cross app copies and restores.  For future reference, we need to make sure that if we make changes to CLI we evaluate if a change is necessary to PHC.  \n\n/cc @chadbailey59 @uhoh-itsmaciek \n. @uhoh-itsmaciek @tef  The error messages and handling look good to me.\n. @bjeanes In the Redis code, a user can instantiate the first redis instance and that get's set to REDIS_URL, any subsequent redis instance that's created gets a COLOR_URL.  We have a promote command in there as well, the instance on REDIS_URL then gets a COLOR_URL and the instance getting promoted gets set to REDIS_URL.  That gets rid of the \"can't remove last attachment\" error.  Is that code causing 2 restarts as well?\n. @bjeanes \nI was going through some edge cases on this and I ran into this situation:\nhttp://d.pr/i/1hUFH\nI had a JADE color on a redis instance and postgres when this error was thrown.  Is is possible to scope the check just against the postgres attachments?\n. @bjeanes I'm looking at the output of pg:info that you have in the PR.  Generally speaking, I'm ok with the changes but the output is not consistent.  For example, shining-sweetly-1354 has an alias with a _URL at the end but glistening-goldly-8123 does not.  I want to make sure that whatever the other pg commands accept for aliases we put them as such in pg:info.\n. @bjeanes also do we use the term 'Aliases' to describe the config var?  I've used config var all over the documentation.  I want to make sure we're not confusing the user.  Would the attachment name actually work in the other pg commands?  I'm thinking of pg:backups, pg:copy, and pg:ps specifically.\n. I guess when I said \"would attachment names work in other pg commands\" i\nmeant, \"have we tested it\" ;-)\nOn Wed, May 13, 2015 at 2:25 PM, Bo Jeanes notifications@github.com wrote:\n\n@neovintage https://github.com/neovintage sorry the output above is\nnot the change made here. It's just a comment about where it could be.\nAs such, I manually crafted it to the _URL inconsistencies are just my\nhuman error.\nalso do we use the term 'Aliases' to describe the config var?\nBecause I'd personally argue to show attachment names (\"aliases\") not\nconfig vars.\nWould the attachment name actually work in the other pg commands? I'm\nthinking of pg:backups, pg:copy, and pg:ps specifically.\nIt already does and should continue to, yes.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/pull/1564#issuecomment-101820157.\n. @dickeyxxx - Updated language in output to be more clear about what's going on.\n. === HEROKU_POSTGRESQL_CYAN_URL (DATABASE_URL)\nPlan:        Hobby-dev\nStatus:      Available\nConnections: 0/20\nPG Version:  9.4.1\nCreated:     2015-05-13 05:42 UTC\nData Size:   6.4 MB\nTables:      0\nRows:        0/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\nAdd-on:       glistening-goldly-8123\n\nCouple of small tweaks:\n- DATABASE_URL is now in parenthesis\n- theres a dash between add and on.  This is consistent with heroku addons -a sushi output\n- Moved addon to the bottom.\n. Thanks for summarizing chad :-)\nI would recommend against showing another section in the output.  The\nproblem that we're trying to solve is that we want to logically represent\nmultiple config vars as a single physical database.  Chad, I really like\nyour suggestion:\n```\n\nAs I've thought about it more, I wonder if we could ease them in with\nsomething like:\n=== HEROKU_POSTGRESQL_CYAN, HEROKU_POSTGRES_MAROON, FOO (DATABASE_URL)\n```\n\nOn Fri, Jun 5, 2015 at 11:15 AM, chadbailey59 notifications@github.com\nwrote:\n\nWe're flirting with a larger conversation here. :) As far as I'm aware,\nHeroku Postgres is still the only addon (right now) in widespread use\nthat has the complexity of multiple addons and attachments. In our view:\n- Customers provision addons with unique names like\n  glistening-goldly-1234.\n- Those addons attach to apps with names like HEROKU_POSTGRESQL_RED.\n- We create and manage a URL config var for each attachment, which\n  ends up being called HEROKU_POSTGRESQL_RED_URL.\n- We also recommend the convention of using DATABASE_URL as the URL of\n  the \"primary database\" of your application.\n- We also provide tools to make that convention easier for customers,\n  such as heroku pg:promote.\nHell, I work here, and I'm pretty sure about 95% of that is right. In the\ncustomer's view:\n- I add a database to my app. It gives me a DATABASE_URL as well as\n  this weird HEROKU_POSTGRESQL_RED_URL config var.\n- I add another database. Now I also have HEROKU_POSTGRESQL_BLUE_URL.\n- Sometimes when I run heroku pg commands, I can just use a color,\n  like heroku pg:info BLUE. Sometimes I can run them with no color, and\n  it uses my DATABASE_URL.\nI don't think our customers really understand the whole \"addons and\nattachments\" thing yet, because they've never had to. We might need to take\nsome baby steps here.\nAs I've thought about it more, I wonder if we could ease them in with\nsomething like:\n=== HEROKU_POSTGRESQL_CYAN, HEROKU_POSTGRES_MAROON, FOO (DATABASE_URL)\nOr maybe even have a separate section in the output like:\nPrimary Database (DATABASE_URL): HEROKU_POSTGRESQL_MAROON\nYou can change your primary database with heroku pg:promote.\nMy reasoning behind that is DATABASE_URL isn't really an attachment per\nse; it's a special config variable, but one that is 'locked' to the value\nof a config variable from a specific attachment. I want customers to\nunderstand that addons are different than attachments, and DATABASE_URL is\ndifferent from both.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/pull/1605#issuecomment-109384708.\n. @chadbailey59 what happens to the heading in the db list that you provided?\n. @chadbailey59  What if we use original proposal at the bottom of the comment you made: https://github.com/heroku/heroku/pull/1605#issuecomment-108903496.  What I like about it is that we get rid of the DATABASE_URL in parenthesis and treat it like any other attachment name by including it in a comma separated list.  Also the help text change on pg:promote works too.\n\nWe will get to resource based naming but, as @bjeanes suggested, let's take a few baby steps to get there.\n. @bjeanes can we merge this?\n. @uhoh-itsmaciek @tef are the warnings that we surface actionable for the customer?\n. I think @tef is onto something with the states. Instead of using the word \"problem\", I would still use \"warning\". Warning means that it could be ignored if you want to. Problem connotes that I have to do something. Based on the states this my suggestion:\n- Finished\n- Finished (5 warnings)\n- Failed\n- User Cancelled\nThe \"finished\" means that it completed successfully with no problems.  The second, finished with warnings, gives customers something to check into if they want. Failed is just that. I put user in front of cancelled to make it clear that it wasn't the system that did it.\nfeedback?  /cc @uhoh-itsmaciek @tef \n. If we can't make a distinction between errors that need a customer's attention (terrible) and those that don't (minor), I'm inclined to err on the side of stronger language that makes the customer look into it and separate it from a backup that finished with no problems. Although, we'd need to get ahead of the errors by documenting them in the devcenter so that customers know if they should do something about it:\n- completed\n- finished with problems\n- failed \n- user cancelled\n. sweet. thats awesome thanks @halorgium \n. ",
    "TheNaoX": ":+1: I'm having the same issue now.\n. Hey I'm having the issue now.\n. I don't know exactly how to fix this issue\n. I'm experiencing the same issue :(\n. ",
    "omricohen": ":+1: \n. ",
    "simonstewart": "Wierdly it works for some apps, but not others.  All on the same machine and the same Heroku account, stack.\n. Wierdly it works for some apps, but not others.  All on the same machine and the same Heroku account, stack.\n. ",
    "alantrrs": "When trying to deploy from my local (skipping circle) I get this:\nremote: Using release configuration from last framework (ffmpeg).\nremote: -----> Discovering process types\nremote:        Procfile declares types -> tag_saver, web\nremote: \nremote: -----> Compressing... done, 94.2MB\nremote: -----> Launching... done, v49\nremote:        https://fuiszmedia-beta.herokuapp.com/ deployed to Heroku\nremote: \nremote: Verifying deploy... done.\nfatal: protocol error: bad line length character: erro\nerror: error in sideband demultiplexer\n. Nope, Seems fixed thanks!\n. ",
    "cyx": "@dickeyxxx Sorry for forgetting this; was pointed out by @tt.\n. Can get this merged? :)\n. ",
    "aaroncraigongithub": "Awesome, that works.\nI assumed the when heroku says it automatically stays updated, that included plugins as well.\nThanks for the quick response.\n. ",
    "nqryn": "+1 on this issue. I also tried putting the flag anywhere in between the rest of the command, but nothing worked. I also did not find any examples on the internet about how to achieve this. The worst part is that I am getting an \"!    internal error\" and there's no way to see what happened...\n. ",
    "briankung": "That works! Thanks.\n. ",
    "diwu1989": "I also see pg:backups capture command being stuck very often\n. also seeing\nHeroku client internal error.\ncomparison of String with nil failed\n/usr/local/heroku/lib/heroku/command/pg_backups.rb:339:in `sort_by'\n/usr/local/heroku/lib/heroku/command/pg_backups.rb:339:in `restore_backup'\n/usr/local/heroku/lib/heroku/command/pg_backups.rb:57:in `backups'\n/usr/local/heroku/lib/heroku/command.rb:223:in `run'\n/usr/local/heroku/lib/heroku/cli.rb:45:in `start'\n/usr/local/heroku/bin/heroku:25:in `<main>'\nwhen running restore\n. fixed, I see the following files:\nautoupdate       heroku-cli.new         node_modules   usage\nautoupdate.last  heroku-cli.old         plugins\nerror.log        iojs-v2.0.0-linux-x64  updating.lock\nwhich ones should also be removed?\n. Done, thanks, is it possible for you guys to write some cleanup logic into the upgrade process?\n. okay just realized that you can only schedule backup on the :00 hour, not arbitrary time\n. ",
    "yvesvanbroekhoven": "+1\n. ",
    "smaziano": "Getting the same error also... I had to cancel it to move on last build... that it's cleary not a good practice.\n+1\n. ",
    "Proffard": "+1\nI'm getting stuck at \"Pending\" when I try to restore backup from url manually.\n. ",
    "dogweather": "Thanks for the info @mliu7 \nMy backups manual restore also seems to hang on pending, and I haven't found any docs or indication of what my expectations should be. It seems to be non-functional, but I'll wait it out.\n. ",
    "Jaco-Pretorius": "+1 Same thing happening here, it's intermittent - both for capture and restore.\n. ",
    "tef": "To give a little more information about what is going wrong and what we're doing to fix it:\n\u2013 We're having throughput and congestion problems, so some jobs are being delayed a considerable amount. We've put in a temporary fix to prioritize interactive backups over scheduled backups, but we're working on overhauling the scheduling and worker system.\n\u2013 The stalling transfers and delays are encouraging users to start multiple backups to see if one gets started, which then puts extra congestion on our system.\n\u2013 Some jobs are hanging, due to some deep and nasty locking issues, and we're investigating but it's been very hard to replicate to diagnose the problem\u2014The individual parts of the system do not show the issue. The hanging jobs then take up capacity.\nAs we've migrated more and more people across to the new backup system, we've encountered numerous edge cases, despite a long period of internal testing and beta access. Atop of this, the problems above have a knock-on effect, we end up with more contention and more stalled jobs.\nWe're aware of the problems and pain this is causing and we are doing our best to fix these issues (and others) as quickly as possible. To reiterate what @uhoh-itsmaciek said, these aren't issues with the toolbelt, but with our internal tools. \nThe earlier system caused a lot of pain for us behind the scenes and, in hindsight, we were a little too eager to push out the new system. We're also going over our processes to ensure that these categories of problems do not happen so easily again.\nIn summary: I'm sorry\u2014I know the system is causing you a lot of pain, and I'm working on fixing this as quickly as possible.\n. Good news everyone, I hope. We found the cause of the hanging backup/restore jobs, and we've shipped the fix. \nHowever, there is still a backlog of jobs to process, and of course, some of our users are running extra jobs to mitigate for the availability issues. We expect things to smooth out over the weekend and backups to continue as normal.\nPlease open a ticket if your backup is hanging without completion, or held in pending for a long time.\n. As a follow up: We haven't been encountering stalling backups, or backups taking a significant time to start, or missing nightly backups any more. The latter was caused by some very slow API calls, which has now been fixed.\nAgain: I'm sorry for the problems and please open a ticket if you're encountering problems with the new system.\n. Hi, an API change knocked workers offline, we found the fault it's been operational for the last 30-40 minutes.\nPlease open a ticket with heroku directly if you are having a problem with the service, not a github issue for the toolbelt.\n. Just got a ticket for this\u2014any sign of merging?\n. Yep, if you sort by number, the letter prefixes ruin it. I have an open ticket linked in trello for this\n. @uhoh-itsmaciek \nFixes:\n- EU Timezones, Zulu Timezone\n- Bad warnings, should always show target database if specified in copy, or restore\n- Restoring to a database using source_app::backup\n- Make schedule time non optional\nI know we should improve the url stuff, but I think this is good to go\n. Added, tested. This is good to go\n. @dickeyxxx I missed a : in the output, specs pass locally now.\n. Hi, \nWe're aware of this, but it would be easier to track if you could open up a ticket for the database and application you're having issues with, as I cannot post customer data on github.\n. Worth noting that we had some issues with database transfers stalling last week, which have been resolved. We do not expect this issue to re-occur, but if it does happen please open a ticket on heroku.\n. This looks good to me. \nI've confirmed this resolves the issues customers were facing on creating scheduled backups\n. We have four states for when a backup/restore/transfer ends:\nFinished (finished_at not nil, successful is true, warnings is nil/0)\nCompleted (finished_at not nil, successful is true, warnings is nonzero)\nFailed (finished_at not nil, successful is false, cancelled_at is nil)\nCancelled (finished_at not nil, successful is false, cancelled_at not nil)\nThe latter two mean that the processes terminated early or unexpectedly, and cancelled means it was due to user action, rather than software failure. The first two mean that pg_restore ran and exited, either without errors, or with some known errors on restore (extension comments).\n@uhoh-itsmaciek: the language is awful, yep, but I am struggling to find something better.\nMaybe we should have \"Finished without problems\" \"Finished with N problems\" \"Failed\" Cancelled\"\n. Ok, will change this to rimas' suggestion and update PR, then hopefully merge\n. +1. @dickeyxxx this seems good to merge whenever (we don't have any open issues for it)\n. I think I might need to fix the logic here.\n. This url should be fine if we retrieve it from another app? Or will we need to resolve it to a public url ?\n. the target could have no attachment? would we want a warning then ?\n. Ah, Nice.\n. :+1: \n. ",
    "billba": "I'm experiencing this same problem when doing a \"heroku pg:backups restore\". I did this successfully a week ago, but now it's stalling on \"pending\".\n. Update: eventually canceled (for the second time), tried again half an hour later and it worked fine. So maybe just some temporary congestion?\n. ",
    "bishtawi": "@tef, I am encountering pg backups hanging on the \"pending\" state today.\n. ",
    "jmccartie": "Seen some Support tickets about this.  +:100: \n. @will Seems reasonable.  I +1 your -99.\nnods\n. Please open a support ticket at http://help.heroku.com  That will allow us to follow-up and find a solution.\n. LGTM\n. ",
    "abbottc": "Same problem here, running Linux Mint 17.1.  If I delete/rename the \"node\" and \"npm\" symlinks in ~/.heroku/iojs-v1.5.1-linux-ia32/bin, and then run a heroku command, I don't see errors appear and I see that the \"node\" and \"npm\" symlinks get recreated.  But after that, executing more heroku commands causes the same symlink errors to appear again.\n. Was that PR a part of the 3.30.3 update that was released today?  If so, the errors still occur after the update.\n. No error messages now.  Thanks!  And sorry to hear about the untimely end to your time on vacation.  The days will be sorely missed.\n. ",
    "lorenjohnson": "+1\n. ",
    "zunda": "+1. Some users want to fetch the latest backup.\n. ",
    "chibicode": ":+1: \n. It'd be simpler if public-url had an option which just returns URL and nothing else.\n. @dickeyxxx I don't think it's a dupe (I saw #1466 before creating this issue). Documentation URLs are different, too.\n- This issue says: public-url is outputting extra information, so it can't be fed directly into curl as this \"Importing and Exporting Heroku Postgres Databases with PG Backups\" documentation says.\n- #1466 says: public-url should work without a backup ID, as this \"Converting PGBackups Add-on Commands\" documentation says.\n. @uhoh-itsmaciek oh ok, thank you!\n. @dickeyxxx great! Thank you for letting me know :) opened a PR on homebrew: https://github.com/Homebrew/homebrew/pull/38293\n. ",
    "matthewblack": ":+1: \n. ",
    "kennydust": "up. no response from heroku team?\n. ",
    "ktransier": ":+1: \n. ",
    "Jberlinsky": "The tests fail to pass because of Ruby 1.8.7, which is no longer supported by rest-client as it no longer receives security patches.\n. ",
    "mikeatlas": ":+1: please\n. Gemcanary is another service that detects and warns about this dependency's CVE. It's what brought me to come knocking on this gem's door and find this OPs open issue. https://gemcanary.com/\n. Bump. Please fix ASAP; we intentionally break our builds internally based off of failing bundler-audit checks for good reason! \n. Thanks @dickeyxxx, we don't reference the gem directly, but one we do use does (pgbackups-archive in our case). I'll flag an issue with that gem too, perhaps it can wrap CLI commands instead.\n. ",
    "flori": "Better make it rest-client >= 1.8.0 b/c there's CVE-2015-1820 now.\nAlso: It would be better not to depend so strictly on a specific point release of rest-client. I cannot perform a security upgrade for rest-client in one of my apps because heroku demands a very specific point release.\n. ",
    "cepko33": ":+1:\n. ",
    "coryschires": "+1 \nAny idea when this will be merged? I'm unable to upgrade to the latest version due to #1474\n. ",
    "atstockland": "sorry.  one day I didn't need a path to postgres...the next I did.  I hate computers...\n. ",
    "lincolnq": "I'm not satisfied with this solution at all :( -- if you do it this way, there's no way to get the escaped versions programmatically, which kind of defeats the purpose of having them unless you are just going to copy/paste it from your terminal. \nFurthermore, the unescaped output often contains characters (such as \\n) which wreck .env files so you can't safely use the unescaped one either.\n. ",
    "luicaps": "I found the _netrc file on USERPROFILE (which is the same as HOMEDRIVE+HOMEPATH). I don't have the %HOME% var though.\nThe content of the file shows api.heroku.com and git.heroku.com login info\nHow can I find which _netrc is git using?\n. Ok, I found a trick. I created the HOME env var with the same value as the others (my home path, which is where the _netrc file is).\nDoes it mean that this is actually a \"git issue\" somehow?\n. Hope it works! Thanks!\n. Oh, I got now what you said! For me the USERPROFILE was actually right, pointing at the same _netrc file. My case was I didn't have HOME.\nSomehow it was skipping the other vars\n. No, the directory for USERPROFILE is only on the vars you mentioned (now that I created HOME too).\nDo you want me to remove any var to see what happens (or change their values)?\nI'm running on windows 8.\n. Yes, that's it. I removed the HOME var, and git started asking for credentials again.\nHow can I see where git is looking?\n. ",
    "Sh1noka": "I have the same issue. My %home% var isn't set. I can find _netrc file created in my %userprofile% folder after heroku login. I copy _netrc to C:\\, C:\\Users, C:\\Users\\Public, C:\\Windows, C:\\Windows\\System32, C:\\Windows\\SysWOW64 and Git/usr, but still can't push. I am on Windows 10. By the way, my username contains non-ascii characters. Maybe it is the cause?\n. @chernetsov0 I have this issue. After replacing it works!\n. ",
    "Kosarh79": "I created HOME variable equal to USERPROFILE and it works fine. \n\nsetx HOME %USERPROFILE%\n. \n",
    "marhw": "I got same problem after fix from #1501 Here's my log\nHeroku client internal error.\n\"\\x88\" to UTF-8 in conversion from Windows-1250 to UTF-8\nc:/Heroku/vendor/gems/netrc-0.10.3/lib/netrc.rb:24:in 'readable?'\nc:/Heroku/vendor/gems/netrc-0.10.3/lib/netrc.rb:24:in 'home_path'\nc:/Heroku/vendor/gems/netrc-0.10.3/lib/netrc.rb:11:in 'default_path'\nc:/Heroku/lib/heroku/auth.rb:131:in 'netrc_path'\nc:/Heroku/lib/heroku/auth.rb:150:in 'rescue in netrc'\nc:/Heroku/lib/heroku/auth.rb:141:in 'netrc'\nc:/Heroku/lib/heroku/auth.rb:113:in 'delete_credentials'\nc:/Heroku/lib/heroku/auth.rb:40:in 'login'\nc:/Heroku/lib/heroku/command/auth.rb:31:in 'login'\nc:/Heroku/lib/heroku/command.rb:223:in 'run'\nc:/Heroku/lib/heroku/cli.rb:45:in 'start'\nc:/Heroku/bin/heroku:29:in '<main>'\nEDIT:\nFile\nC:\\Heroku\\vendor\\gems\\netrc-0.10.3\\lib\\netrc.rb\n~near 15 line\nI add line:\nhome.force_encoding('cp775')\nafter:\nhome = Dir.respond_to?(:home) ? Dir.home : ENV['HOME']\nand it works\n. ",
    "joelviel": "I have the same issue because my name is Jo\u00ebl : $ heroku login\nc:/Users/Jo%l/.heroku/client/lib/heroku/helpers.rb:433:in join': incompatible character encodings: IBM775 and Windows-1252 (Encoding::CompatibilityError)\n        from c:/Users/Jo%l/.heroku/client/lib/heroku/helpers.rb:433:informat_error'\n        from c:/Users/Jo%l/.heroku/client/lib/heroku/helpers.rb:442:in styled_error'\n        from c:/Users/Jo%l/.heroku/client/lib/heroku/cli.rb:52:inrescue in start'\n        from c:/Users/Jo%l/.heroku/client/lib/heroku/cli.rb:35:in start'\n        from c:/Heroku/bin/heroku:29:in'\nI tried what suggested marhw but it did not work\nI was able to use the heroku toolbelt before it did an automatic update..\nWhat should I do ?\nI searched a lot on Google but no solution for me so far\nThx\n. As a workaround, I have created a new Windows user account on my machine.\nJo\u00ebl ==> Joel to avoid special char\nNow I can use the heroku toolbelt.\nHowever I would appreciate not to change my name to work :)\n. ",
    "seanjb": "Appears to be caused by this line in jsplugin.rb\nFile.join(ENV['LOCALAPPDATA'], 'heroku')\nReplacing ENV['LOCALAPPDATA'] with a hard coded (non special character) path appears to work for now\n. This is the error I get. My User folder is Se\u00e1n however that doesn't seem to come through correctly encoded on ENV['LOCALAPPDATA']. Have used the command heroku plugins as an example here, but similar for other commands.\nC:\\Users\\Se\u00e1n>heroku plugins\nInstalling Heroku Toolbelt v4... done.\nFor more information on Toolbelt v4: https://github.com/heroku/heroku-cli\nNo such file or directory - \"C:\\Users\\Se??n\\AppData\\Local/heroku/heroku-cli.exe\"\n version\nc:/Heroku/AppData/.heroku/client/lib/heroku/jsplugin.rb:102:in `'\nc:/Heroku/AppData/.heroku/client/lib/heroku/jsplugin.rb:102:inversion'\nc:/Heroku/AppData/.heroku/client/lib/heroku/jsplugin.rb:135:in setup'\nc:/Heroku/AppData/.heroku/client/lib/heroku/cli.rb:24:instart'\nC:/Heroku/bin/heroku:29:in `'\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       No such file or directory - \"C:\\Users\\Se??n\\AppData\\Local/herok\nu/heroku-cli.exe\" version (Errno::ENOENT)\n    Command:     heroku plugins\n    Version:     heroku/toolbelt/3.42.17 (i386-mingw32) ruby/1.9.3\nMore information in C:/Heroku/AppData/.heroku/error.log\n\"\\xC3\" from ASCII-8BIT to UTF-8\nc:/Heroku/AppData/.heroku/client/lib/heroku/helpers.rb:462:in write'\nc:/Heroku/AppData/.heroku/client/lib/heroku/helpers.rb:462:inblock in error_lo\ng'\nc:/Heroku/AppData/.heroku/client/lib/heroku/helpers.rb:461:in open'\nc:/Heroku/AppData/.heroku/client/lib/heroku/helpers.rb:461:inerror_log'\nc:/Heroku/AppData/.heroku/client/lib/heroku/helpers.rb:454:in styled_error'\nc:/Heroku/AppData/.heroku/client/lib/heroku/cli.rb:42:inrescue in start'\nc:/Heroku/AppData/.heroku/client/lib/heroku/cli.rb:20:in start'\nC:/Heroku/bin/heroku:29:in'\nNo such file or directory - \"C:\\Users\\Se??n\\AppData\\Local/heroku/heroku-cli.exe\"\n version\nc:/Heroku/AppData/.heroku/client/lib/heroku/jsplugin.rb:102:in `'\nc:/Heroku/AppData/.heroku/client/lib/heroku/jsplugin.rb:102:inversion'\nc:/Heroku/AppData/.heroku/client/lib/heroku/jsplugin.rb:135:in setup'\nc:/Heroku/AppData/.heroku/client/lib/heroku/cli.rb:24:instart'\nC:/Heroku/bin/heroku:29:in `'\nC:\\Users\\Se\u00e1n>\n. Just re-installed Heroku and had success running\n\nheroku\nheroku update\n\nHowever \n\nheroku login\ngave the following:\n\n``C:\\Users\\Se\u00e1n>heroku login\nNo such file or directory - C:\\Users\\Se\u00e1n\\AppData\\Local/heroku/heroku-cli.exe\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:165:inexec'\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:165:in run'\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:15:intry_takeover'\nC:/Program Files (x86)/Heroku/lib/heroku/cli.rb:25:in start'\nC:/Program Files (x86)/Heroku/bin/heroku:29:in'\nincompatible character encodings: UTF-8 and CP850\nC:/Program Files (x86)/Heroku/lib/heroku/helpers.rb:467:in join'\nC:/Program Files (x86)/Heroku/lib/heroku/helpers.rb:467:informat_error'\nC:/Program Files (x86)/Heroku/lib/heroku/helpers.rb:476:in styled_error'\nC:/Program Files (x86)/Heroku/lib/heroku/cli.rb:42:inrescue in start'\nC:/Program Files (x86)/Heroku/lib/heroku/cli.rb:20:in start'\nC:/Program Files (x86)/Heroku/bin/heroku:29:in'\nNo such file or directory - C:\\Users\\Se\u00e1n\\AppData\\Local/heroku/heroku-cli.exe\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:165:in exec'\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:165:inrun'\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:15:in try_takeover'\nC:/Program Files (x86)/Heroku/lib/heroku/cli.rb:25:instart'\nC:/Program Files (x86)/Heroku/bin/heroku:29:in `'\n\n. @ransombriggs it's working perfectly for me now. Thanks a million!\n. ",
    "tedf20": "Line 107 in jsplugin.rb is File.join(ENV['LOCALAPPDATA'], 'heroku').encode('windows-1252'), but the issue still appears. The error upon heroku login with a cyrillic user name\nHeroku client internal error.\nU+0412 to WINDOWS-1252 in conversion from UTF-8 to WINDOWS-1252\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:112:in encode'\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:112:inapp_dir'\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:119:in bin'\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:147:insetup?'\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:124:in setup'\nC:/Program Files (x86)/Heroku/lib/heroku/cli.rb:24:instart'\nC:/Program Files (x86)/Heroku/bin/heroku:29:in <main>'\nHeroku client internal error.\nU+0412 to WINDOWS-1252 in conversion from UTF-8 to WINDOWS-1252\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:112:inencode'\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:112:in app_dir'\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:119:inbin'\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:147:in setup?'\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:124:insetup'\nC:/Program Files (x86)/Heroku/lib/heroku/cli.rb:24:in start'\nC:/Program Files (x86)/Heroku/bin/heroku:29:in'\nHeroku client internal error.\nU+0412 to WINDOWS-1252 in conversion from UTF-8 to WINDOWS-1252\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:112:in encode'\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:112:inapp_dir'\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:119:in bin'\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:147:insetup?'\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:124:in setup'\nC:/Program Files (x86)/Heroku/lib/heroku/cli.rb:24:instart'\nC:/Program Files (x86)/Heroku/bin/heroku:29:in `'\n. ",
    "burrellg": "I am getting the same error, but my name has a space rather than a Cyrillic character.  Error log at the following link:\nheroku error log\nTried the solutions recommended for the other problems but to no avail.\n. ",
    "mikgry": "\nmikolaj@mikolaj-VirtualBox:/var/www/houseOps$ heroku version\nheroku-toolbelt/3.28.5 (x86_64-linux) ruby/1.9.3\nYou have no installed plugins.\nWARNING: Toolbelt v3.31.3 update available.\n. You are right, it works. Thanks a lot!\n. \n",
    "joaoportela": "This workaround isn't working for me. My home dir is c:/Users/Jo\u00e3o.\nIf we look at what Dir.home returns, like so:\nc:\\Program Files (x86)\\Heroku\\ruby-1.9.3\\bin>irb.bat\nirb(main):001:0> Dir.home\n=> \"C:/Users/Jo\\xC6o\"\nWe can see that the \u00e3 is encoded as C6, by looking at the (charset info)[http://www.fileformat.info/info/unicode/char/e3/charset_support.htm] we see that on my machine it must be one of: IBM00858, IBM850, IBM857. I tried IBM857 and it worked.\nI also encoded it as utf-8 so that formatted_error.join(\"\\n\") doesn't fail if it is called. I ended up with this line:\nDir.home.force_encoding('ibm857').encode(\"utf-8\")\nThanks.\n. Here it is:\nirb(main):006:0> RUBY_VERSION\n=> \"1.9.3\"\nirb(main):007:0> File.expand_path('~')\n=> \"C:/Users/Jo\\xE3o\"\nirb(main):008:0> File.expand_path('~').encoding\n=> #<Encoding:Windows-1252>\n1744 does seem to have fixed it.\n. ",
    "davidsavoya": "I am glad I found this as an example. \n. ",
    "stevehanson": ":+1: I couldn't figure it out for anything until I found this. Thanks.\n. ",
    "yanowitz": "+1. Super confused. Finally realized I'm supposed to do:\nheroku pg:maintenance info DATABASE_URL -a my_app_name_here\nwith the string literal \"DATABASE_URL\"\n. ",
    "Unitech": "I understand, but is there any way to include ignored file/folder like .git log or tmp?\n. ",
    "omarkj": "Yup! Thanks.\n. ",
    "bjeanes": "Wooo. Let's try to get GA the swiss variant before merging, ETA ~tomorrow if we don't see any issues.\n. I skimmed the diff but couldn't see anything here that uninstalls the heroku-addon-attachments plugin if present. It'll be good to make sure the plugin doesn't override the master version once merged, because it'll become increasingly stale. @dickeyxxx is there any precedent for this in the tool belt? I'm reasonably sure we've had to deal with that before.\n. @neovintage you'll need to point me to the implementation, but I'm almost certain it would be. This is one of the motivators behind my server-side promote RFC: https://github.com/heroku/rfcs/pull/7, which you've seen.\n. @dickeyxxx @neovintage the behaviour you are describing is actually identitical to what I'm doing, except that I am not giving the current one a color URL if it already has another attachment. Ideally, we could factor these two commands into a shared implementation. Other than the attachment name, they should be identical, I think...\n. @dickeyxxx yup saw the test failure. If this change gets a ~+1 from @heroku/department-of-data I'll fix that up without hesitation.\n. @neovintage Nice catch. Yeah that should be possible. I'll look into it!\n. @neovintage fixed with 9eddfcf and 50575a6\n``` sh-session\n$ heroku addons -a mighty-mesa-1351\n=== Resources for mighty-mesa-1351\nPlan                         Name                      Price\n\nheroku-postgresql:hobby-dev  helping-busily-4207       free\nheroku-postgresql:hobby-dev  reading-fleetingly-3902   free\nheroku-redis:test            meditating-slyly-6014     free\n=== Attachments for mighty-mesa-1351\nName                      Add-on                    Billing App\n\nDATABASE                  reading-fleetingly-3902   mighty-mesa-1351\nHEROKU_POSTGRESQL_IVORY   reading-fleetingly-3902   mighty-mesa-1351\nHEROKU_POSTGRESQL_JADE    helping-busily-4207       mighty-mesa-1351\nREDIS_JADE                meditating-slyly-6014     mighty-mesa-1351\n$ heroku pg:promote JADE -a mighty-mesa-1351 # before change\n !    Multiple add-ons match \"JADE\".\n !    Use the name of add-on resource:\n !\n !    - helping-busily-4207 (heroku-postgresql:hobby-dev)\n !    - meditating-slyly-6014 (heroku-redis:test)\n$ heroku pg:promote JADE -a mighty-mesa-1351 # after change\nEnsuring an alternate alias for existing DATABASE... done, HEROKU_POSTGRESQL_IVORY\nPromoting helping-busily-4207 to DATABASE_URL on mighty-mesa-1351... done\n``\n. @Taytay because of the_URL?\n. @Taytay ah right. Yes. You could explicitly create the other attachment for now to get your builds going again, if needed.\n. @dickeyxxx I checked the code for theheroku-redispromote and it also has the double attach issue. IMO, this should be OK for merge. If we want to find an alternate way to avoid the restarts, it can be done in a way that addresses both. If you want to wait for an explicit +1 from DoD, then I suggest we at least merge in the first commit now but otherwise I'm comfortable with this going in for a merge.\n. The error message should be improved but essentially it's indicating that promoting over the existing database which occupies theDATABASEalias (sailing-keenly-4016) would orphan it. You need to either give it a second alias (withheroku addons:attach sailing-keenly-4016`) before promoting over the current alias or deprovision it entirely.\n1557 is designed to do this for you automatically but hasn't landed yet.\n. @Taytay oh and the reason this is new is because we're removing the special \"create two names\" behaviour that only Heroku Postgres has. Previously, the first HPG instance installed on an app got both a colour-based name and the DATABASE name. Now it just gets the latter (if available). #1557 is designed to rename the existing DATABASE on promotions so that the error message you are seeing isn't shown here.\n. @neovintage sorry the output above is not the change made here. It's just a comment about where it could be. As such, I manually crafted it so the _URL inconsistencies are just my human error.\n\nalso do we use the term 'Aliases' to describe the config var?\n\nBecause I'd personally argue to show attachment names (\"aliases\") not config vars.\n\nWould the attachment name actually work in the other pg commands? I'm thinking of pg:backups, pg:copy, and pg:ps specifically.\n\nIt already does and should continue to, yes.\n. @neovintage attachment names definitely work today, mostly as a byproduct of the attachment names always being the prefix of the config var and the config var matches on any unambiguous substring. That's all pre-existing code that I haven't changed. The changes I'm proposing above (which would switch these commands to my own add-on resolver) also work with attachment names and could be made to work with config vars.\n. Why are there no spaces in the provision message? That is really peculiar...\n. This could probably be made smarter. It's because we accept any identifier there and we check for resource names or attachment names first everywhere, I think.\n. > We probably need to come up with a better authentication mechanism in general\n:+1:. If you have any ideas, I'd love to chat about this in the next couple of weeks when I'm in town. Next quarter we're likely working on a new integration and I'd love to incorporate auth changes into it if it makes sense.\n. This is probably due to #1564 which specifically stopped hiding DATABASE_URL in response to a bunch of tickets\n. > As best I can tell, the dupe is coming back from the API.\nIt's not a dupe. They are two separate attachmetns to the same database. This command lists databases by attachment. Ideally, we should change it to list by resource instead, as I sketched out in #1564:\n```\n$ heroku pg:info\n=== glistening-goldly-8123\nAliases:     DATABASE, HEROKU_POSTGRESQL_CYAN \nPlan:        Hobby-dev\nStatus:      Available\nConnections: 0/20\nPG Version:  9.4.1\nCreated:     2015-05-13 05:42 UTC\nData Size:   6.4 MB\nTables:      0\nRows:        0/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n=== shining-sweetly-1354\nAliases:     HEROKU_POSTGRESQL_BLACK\nPlan:        Hobby-dev\nStatus:      Available\nConnections: 0/20\nPG Version:  9.4.1\nCreated:     2015-05-13 05:42 UTC\nData Size:   6.4 MB\nTables:      0\nRows:        0/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n$ heroku pg:info CYAN\n=== glistening-goldly-8123\nAliases:     DATABASE, HEROKU_POSTGRESQL_CYAN \nPlan:        Hobby-dev\nStatus:      Available\nConnections: 0/20\nPG Version:  9.4.1\nCreated:     2015-05-13 05:42 UTC\nData Size:   6.4 MB\nTables:      0\nRows:        0/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n$ heroku pg:info shining-sweetly-1354\n=== shining-sweetly-1354\nAliases:     HEROKU_POSTGRESQL_BLACK\nPlan:        Hobby-dev\nStatus:      Available\nConnections: 0/20\nPG Version:  9.4.1\nCreated:     2015-05-13 05:42 UTC\nData Size:   6.4 MB\nTables:      0\nRows:        0/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n```\n. @neovintage so if there were many attachments, are you proposing the header look like:\n=== HEROKU_POSTGRESQL_CYAN_URL, HEROKU_POSTGRES_MAROON_URL, FOO_URL (DATABASE_URL)\nI'd also prefer if we can drop the _URL if possible. It's not part of the attachment name as technically an add-on can have any number of config vars. But, we can tackle that later if you think it'll cause some friction.\nIt's worth noting that this still special-cases DATABASE_URL into parenthesis which belies the actual structure, where DATABASE and CYAN are just two aliases. Instead, it indicates that DATABASE is a pointer to CYAN which is an alias to the add-on, which is not the case.\nSome installations will just have DATABASE so it probably shouldn't show as (DATABASE) if it doesn't have another name.\n. > It gives me a DATABASE_URL as well as this weird HEROKU_POSTGRESQL_RED_URL config var.\nThat's not true anymore. The V2 API did this, the V3 API does not, as it was a wild special case for HPG. Now, if you install your first DB, you will just get DATABASE. If you create a new instance and pg:promote it, the pg:promote command will create a second attachment for the previous DATABASE so that it is not orphaned.\n\nMy reasoning behind that is DATABASE_URL isn't really an attachment per se; it's a special config variable, but one that is 'locked' to the value of a config variable from a specific attachment. \n\nExcept that it absolutely is an attachment. It used to be just a special var but that caused a whole suite of other problems. It is 100% in every way a non-special attachment (for new installations and new promotions).\n\nI want customers to understand that addons are different than attachments, and DATABASE_URL is different from both.\n\nI want them to understand that DATABASE_URL is a variable managed by your database through the attachment named DATABASE, because it is.\n\nI don't think our customers really understand the whole \"addons and attachments\" thing yet, because they've never had to. We might need to take some baby steps here.\n\nAgreed. So despite my counterpoints, I think your suggested command output is a totally fine interim step. I do think, however, that ultimately it should be resource based. Then longer we misrepresent how add-ons and attachments are, the harder it is for people to start understanding. Right now, the pg commands and web etc are somewhat in dissonance with reality and the understanding we want users to come to. This dissonance was expected and was part of us cutting scope because, as we know, shareable feature set is a big one that had been put off for a long time, and we really wanted to get it done this time!\n. @chadbailey59 \n\nI'm happy to be told so clearly how wrong my understanding is! :)\n\nHaha sorry if it came across as condescension :(\n\nLikewise, we can reinforce the idea of 'attachments' with something like:\n\nYeah :+1: \n. @chadbailey59 yeah that looks great :+1: \n. Resolved in #1644\n. Closing in favour of pre-existing discussion #1605\n. The behaviour is now:\n``` sh-session\n$ bin/heroku pg:info -a bjeanes\n=== HEROKU_POSTGRESQL_CRIMSON_URL (DATABASE_URL)\nPlan:        Dev\nStatus:      Available\nConnections: 2/20\nPG Version:  9.1.15\nCreated:     2012-09-27 23:52 UTC\nData Size:   11.5 MB\nTables:      3\nRows:        98/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n=== HEROKU_POSTGRESQL_OLIVE_URL\nPlan:        Hobby-dev\nStatus:      Available\nConnections: 0/20\nPG Version:  9.3.6\nCreated:     2015-04-21 03:15 UTC\nData Size:   6.2 MB\nTables:      0\nRows:        0/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n$ heroku addons:detach CRIMSON -a bjeanes\nRemoving HEROKU_POSTGRESQL_CRIMSON attachment to budding-busily-2230 from bjeanes... done\nUnsetting HEROKU_POSTGRESQL_CRIMSON vars and restarting bjeanes... done, v154\n$ heroku pg:info -a bjeanes\n=== DATABASE_URL\nPlan:        Dev\nStatus:      Available\nConnections: 2/20\nPG Version:  9.1.15\nCreated:     2012-09-27 23:52 UTC\nData Size:   11.5 MB\nTables:      3\nRows:        98/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n=== HEROKU_POSTGRESQL_OLIVE_URL\nPlan:        Hobby-dev\nStatus:      Available\nConnections: 0/20\nPG Version:  9.3.6\nCreated:     2015-04-21 03:15 UTC\nData Size:   6.2 MB\nTables:      0\nRows:        0/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n```\nHowever, note that if there is more than 2 attachments to the same DB, other than DATABASE_URL, the behaviour is less defined and is better addressed as discussed in #1605. That is, one of the colour URLs will arbitrarily be \"elected\" as the primary and the second colour will simply be another entry. Here, DATABASE, CRIMSON, and JADE are all aliases for the same database instance:\n``` sh-session\n$ heroku pg:info -a bjeanes\n=== HEROKU_POSTGRESQL_CRIMSON_URL\nPlan:        Dev\nStatus:      Available\nConnections: 1/20\nPG Version:  9.1.15\nCreated:     2012-09-27 23:52 UTC\nData Size:   11.5 MB\nTables:      3\nRows:        98/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n=== HEROKU_POSTGRESQL_JADE_URL (DATABASE_URL)\nPlan:        Dev\nStatus:      Available\nConnections: 1/20\nPG Version:  9.1.15\nCreated:     2012-09-27 23:52 UTC\nData Size:   11.5 MB\nTables:      3\nRows:        98/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n=== HEROKU_POSTGRESQL_OLIVE_URL\nPlan:        Hobby-dev\nStatus:      Available\nConnections: 0/20\nPG Version:  9.3.6\nCreated:     2015-04-21 03:15 UTC\nData Size:   6.2 MB\nTables:      0\nRows:        0/10000 (In compliance)\nFork/Follow: Unsupported\nRollback:    Unsupported\n```\n. (could probably merge in @chadbailey59's test into this actually, though I haven't checked if it makes it pass since it might be expecting a different solution to this)\n. Closing in favour of #1644 I think. We can re-open here if relevant parties aren't keen on the other pull just yet.\n. @stevo550 yeah that's what we were discussing a few weeks ago in the linked threads, though ultimately it may become closer to:\n=== loudly-yelling-1232\nPlan:        Ronin\nStatus:      available\nData Size:   1 MB\nTables:      1\nPG Version:  9.1.4\nFork/Follow: Available\nCreated:     2011-12-13 00:00 UTC\nMaintenance: not required\nAttachments: HEROKU_POSTGRESQL_IVORY\n             DATABASE\n... or something\n. I'd love to! @dickeyxxx, what do you think? We probably want someone else familiar-ish with pg code to review it.\n. @dickeyxxx not me. I think that's @cyberdelia maybe?\n. @dickeyxxx bump! getting a few tickets about this.\n. @mathias all those kinds of tests exist in API already. Since this is just an API call and not much else, I avoided adding a lot of tests that were just hitting Excon stubs which may or may not actually reflect API behaviour. This feels like something that is better tested in an integration fashion, which we don't have an answer for in the toolbelt, so thus QA. Do you have an idea of a kind of test we could add that differs from my assumptions? Would definitely be interested in exploring, if so...\n. Direwolf to test the integration makes a lot of sense. As I said in stand up, I'm mostly concerned about the invocation styles I might not know about, but Direwolf tests for those that we do seems valuable.\n. @dickeyxxx I think this is probably good for merge.\n. @dickeyxxx of course\n. The API issue has been fixed.\n. bump @dickeyxxx \n. Yes it does, sometimes even 2. I think the ultimate answer here is to port these commands to JS plugins, but that's a lot of work out of the gate. Though I did briefly discuss it with @uhoh-itsmaciek and @kvlou yesterday. Is there a way to address the paranoid concern safely?\n. :tada: :ship: \n. This should be changed to just \"3\".freeze, now that the variant has been merged.\n. Mayeb, but the alternative is the an error. We could work on making the error message instead.\n. You mean att['addon']? That's never nil.\n. It suffixes the ...done message for the action. It used to replace it, but now it'd look like:\nEnsuring an alternate alias for existing DATABASE... done, HEROKU_POSTGRESQL_AQUA\nAll the messaging here is arbitrary and debatable.\n. CNAME/ALIAS ?\n. But CNAME implies using that DNS record type, which you shouldn't in all cases. Record Target or something more generic seems more sensible to me.\n. This is by design. In the past these attachments were hidden (\"implicit attachments\") but continuing to do so doesn't make sense in light of shareabale add-ons. i.e. DATABASE shouldn't be treated specially.\n. resolve_addon doesn't return an attachment, though, it returns an add-on resource. I'm confused what this is doing. Is there code here assuming that this will be an attachment?\n. Yeah it's tricky. The next piece will prompt for app which will error and ask for --app, so I think it always ends up in the app-scoped case when using those identifiers. We could have it be an ambiguous match for all the papertrails across all app, but the way to handle that will be to ask for an app anyway, so it's really just moving the error. In any case, #1706 should make all of this more sane. What do you think?\n. ",
    "mnoble": "Once this is green, it's good to go. Thanks!\n. @bjeanes Craps, my fault. I totally forgot about that. Incoming soon..\n. @bjeanes @dickeyxxx Version updated and heroku-addon-attachments deprecated.\n. This is a prerequisite for heroku/addons#1009\n. Whoo! Thanks! :tada: \n. @dickeyxxx @shubhamchaudhary \nHmm, that's weird. The value of addon[\"config_vars\"] seems to be the string \"config_vars\"? That's definitely not right, haha. There's barely anything happening before that line other than the request, so yea, my first guess would also be a weird response from the API.\nA quick test seemed to work for me (for both, an app with no hpg and an app with hpg on the same plan already). I'll have to dig a little deeper into the API and see if I can spot how this would happen.\nEdit: also, it called the add-on name (which is the key in addon that's being interpolated there: https://github.com/heroku/heroku/blob/master/lib/heroku/command/addons.rb#L134-L135) instead of something like walking-slowly-42. There's definitely something weird happening here.\n. @shubhamchaudhary what Linux distro are you running? I'm going to try to spin up a VM and mimic your setup. On OSX, my toolbelt is running ruby 1.9.3 and it looks like you're on 2.1.6. The fact that it's interpolating the key of the hash, instead of the value, is mind boggling.\n. @shubhamchaudhary can you find this line in your local version of the toolbelt \u2013 https://github.com/heroku/heroku/blob/master/lib/heroku/command/addons.rb#L134 \u2013 and add puts addon.inspect. I'm curious what the response coming back from the API is.\n. Okay, weird, it looks like addon is still the JSON returned from the API instead of the decoded Hash it should be. That would explain why addon[\"config_vars\"] is returning \"config_vars\" \u2013 it's calling String#[]; matching a sub-string.\nI'm running the same version of the toolbelt as you are, so I'm not sure why that'd happen for you but not me.\nThere is a different between the other actions: request(...) vs api.request(...). Perhaps there's some different between those two, or with whatever http client back them, that's causing the issue for you. I'm going to explore that.\n. Hooray for consolidating logic!\n. Looks good to me. :+1: \n. Okay, I wasn't sure if EVERYTHING was deployed as 3, yet and figured it would fallback to 3 for the things that were. I'll update this though.\n. For the ADDON_SERVICE scenario, isn't the above only true when the request is scoped to an app? If they did heroku addons:open papertrail in a non-app directory, don't we still want the \"Ambiguous identifier\" error?\n. I was following what Bo was doing in #1730 and the newer changes to addons:* commands that Bo's working on. We should probably come up with some sort of style-guide for stuff like this.\n. In terms of precedence for add-ons, I agree, but there's a long history in HPG of attachments being the first-class identifier.\n. Is launchy not required in the code?\n. ",
    "ghickman": "I'm having a similar issue which appears to be related to the pg-extras plugin:\n\nI get this before the output of any heroku command I run.\n. Running heroku plugins:update has fixed this for me.\n@diwu1989 \u2013 does that command help you too?\n. ",
    "rdbartlett": "Hey @dickeyxxx just letting you know the Heroku docs are out of date: made our db migration on Loomio production a bit scary til we found this bug report.\n. Nice one @dickeyxxx \n. ",
    "whatthewhat": "@dickeyxxx I think this change breaks heroku-repo (https://github.com/heroku/heroku-repo/issues/14#issuecomment-143844171 as an example).\nIs there a migration strategy for this I can read somewhere? I'd be happy to submit a PR to heroku-repo.\n. ",
    "davetron5000": "Oops,forgot to include that:\n```\n\nheroku version\nheroku-toolbelt/3.35.1 (x86_64-darwin10.8.0) ruby/1.9.3\n=== Installed Plugins\nheroku-accounts\nheroku-oauth\nheroku-pg-extras\nheroku-repo\n```\n\nheroku update doesn't do anything.\n. Awesome, thank you!!\n. ",
    "kivanio": "\nheroku version                                                                                                [9:17:18]\n !    Unable to load plugin heroku-pg-extras.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n    Error:       undefined method `configure_addon' for class `Heroku::Command::Addons' (NameError)\n    Command:     heroku version\n    Plugins:     heroku-pg-extras\n    Version:     heroku-toolbelt/3.35.1 (x86_64-darwin14) ruby/2.2.2\n    Error ID:    f6bf7add46de4228bed9ce0ff31a1836\nheroku-toolbelt/3.35.1 (x86_64-darwin14) ruby/2.2.2\n=== Installed Plugins\nheroku-pg-extras\n\n. ",
    "eprothro": "For others:\nIn example above, run heroku plugins:update heroku-pg-extras to update the offending plugin.\n. ",
    "ark1980": "They replaced add instead of create\n. ",
    "KelseyDH": "@dickeyxx :+1: \nMight be a good idea to ask users in their error messages to run heroku plugins:update before reporting issues to Github.  Eg. the current error says:\n!    Unable to load plugin heroku-pg-extras.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nI would not have found the solution if I didn't go digging for this Github issue.\n. ",
    "nickmeulen": "client folder\nusage folder\nautoupdate.last\nerror.log\nheroku-cli.exe\n. I uninstalled, deleted all folders and re-installed and did the following to no avail\n```\nC:\\Users\\user>heroku version\nheroku/toolbelt/3.36.1 (i386-mingw32) ruby/1.9.3\nYou have no installed plugins.\nC:\\Users\\user>heroku login\nEnter your Heroku credentials.\nEmail: \"email here\"\nPassword (typing will be hidden):\nAuthentication successful.\nC:\\Users\\user>cd C:\\Users\\user\\Documents\\Development\\co.paperclip\nC:\\Users\\user\\Documents\\Development\\co.paperclip>heroku git:remote -a paperclip-dev\nInstalling Heroku Toolbelt v4... done\n!    Heroku client internal error.\n!    Search for help at: https://help.heroku.com\n!    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       No such file or directory - C:/Users/user/.heroku/heroku-cli.exe plugins (Errno::ENOENT)\nCommand:     heroku git:remote -a paperclip-dev\nVersion:     heroku/toolbelt/3.36.1 (i386-mingw32) ruby/1.9.3\nError ID:    cdaddf5e4e0a409a931797dd2096648e\nMore information in C:/Users/user/.heroku/error.log\nC:\\Users\\Nick Meulen\\Documents\\Development\\co.paperclip>\n```\n. username has a space in it. But the toolbelt has worked before. I have multiple apps on heroku which I have uploaded before today. \n. username is an issue?\n. Great, all working now. Thanks. \n. ",
    "bradymholt": "Ditto @dickeyxxx, thanks for the fix.\n. ",
    "balansubr": "Looks good to me for now. If we get more customer feedback that some of these should not be displayed for users with view privilege, we will adjust then.\n. ",
    "kahlouie": "@dickeyxxx ready to merge\n. ",
    "qwerty2323": "Yes, I've tried. I've updated the gem, but the error is still up.\nAnd there is no log file /home/qwerty/.heroku/error.log\n``\nProxy is invalid\n/home/qwerty/.rvm/gems/ruby-2.1.3/gems/excon-0.45.3/lib/excon/connection.rb:450:insetup_proxy'\n/home/qwerty/.rvm/gems/ruby-2.1.3/gems/excon-0.45.3/lib/excon/connection.rb:61:in initialize'\n/home/qwerty/.rvm/gems/ruby-2.1.3/gems/excon-0.45.3/lib/excon.rb:126:innew'\n/home/qwerty/.rvm/gems/ruby-2.1.3/gems/excon-0.45.3/lib/excon.rb:126:in new'\n/home/qwerty/.rvm/gems/ruby-2.1.3/gems/heroku-3.36.7/lib/heroku/command/certs.rb:8:in'\n/home/qwerty/.rvm/gems/ruby-2.1.3/gems/heroku-3.36.7/lib/heroku/command/certs.rb:7:in <top (required)>'\n/home/qwerty/.rvm/gems/ruby-2.1.3/gems/heroku-3.36.7/lib/heroku/command.rb:24:inrequire'\n/home/qwerty/.rvm/gems/ruby-2.1.3/gems/heroku-3.36.7/lib/heroku/command.rb:24:in block in load'\n/home/qwerty/.rvm/gems/ruby-2.1.3/gems/heroku-3.36.7/lib/heroku/command.rb:23:ineach'\n/home/qwerty/.rvm/gems/ruby-2.1.3/gems/heroku-3.36.7/lib/heroku/command.rb:23:in load'\n/home/qwerty/.rvm/gems/ruby-2.1.3/gems/heroku-3.36.7/lib/heroku/cli.rb:26:instart'\n/home/qwerty/.rvm/gems/ruby-2.1.3/gems/heroku-3.36.7/bin/heroku:17:in <top (required)>'\n/home/qwerty/.rvm/gems/ruby-2.1.3/bin/heroku:23:inload'\n/home/qwerty/.rvm/gems/ruby-2.1.3/bin/heroku:23:in <main>'\n/home/qwerty/.rvm/gems/ruby-2.1.3/bin/ruby_executable_hooks:15:ineval'\n/home/qwerty/.rvm/gems/ruby-2.1.3/bin/ruby_executable_hooks:15:in `'\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       Proxy is invalid (Excon::Errors::ProxyParseError)\nCommand:     heroku login\nHTTP Proxy:  \nVersion:     heroku-gem/3.36.7 (x86_64-linux) ruby/2.1.3\n\n\nMore information in /home/qwerty/.heroku/error.log\n\n```\n. there is no output...just blank line\n. ",
    "altfatterz": "I don't get more information with HEROKU_DEBUG=true\n```\n\u279c  mongodb-compose git:(master) \u2717 HEROKU_DEBUG=true heroku certs:info\nFetching SSL Endpoint mongodb-compose.herokuapp.com info for mongodb-compose... done\nCertificate details:\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method `[]' for nil:NilClass (NoMethodError)\nCommand:     heroku certs:info\nPlugins:     heroku-pipeline\nVersion:     heroku-toolbelt/3.36.6 (x86_64-darwin10.8.0) ruby/1.9.3\nError ID:    8ee400ee8e1d407185b23eb03b51c701\n\n\nMore information in /Users/Zoltan/.heroku/error.log\n\n```\nin the logs I see\nHeroku client internal error.\nundefined method `[]' for nil:NilClass\n/Users/Zoltan/.heroku/client/lib/heroku/command/certs.rb:204:in `display_certificate_info'\n/Users/Zoltan/.heroku/client/lib/heroku/command/certs.rb:119:in `info'\n/Users/Zoltan/.heroku/client/lib/heroku/command.rb:212:in `run'\n/Users/Zoltan/.heroku/client/lib/heroku/cli.rb:27:in `start'\n/usr/local/heroku/bin/heroku:24:in `<main>'\n. I don't see the error anymore after the automatic update of heroku toolbelt to 3.36.7\n. ",
    "we5": "I have this too while adding new certificates\n. ",
    "ylogx": "I was just gisting it, here: error.log gist\n. I'm getting this error 24x7 btw. And I just checked recently, I have like 6-7 postgres addons there, so probably the call does what it should, response might be funky.\n. My addons.rb looks quiet different: https://gist.github.com/0def8e78e025a3c1c28e\n. Yup just figured from logs, my bad. Wait a sec.\n. Here:\n```\napi/UietAPI git:(feature/database) \u2717 \u00b1 heroku addons:create heroku-postgresql:dev                         [0, 4.9G, 0.46 (8)] 2:26:56\nCreating name... done\nAdding name to puchd... done\n\"{\\\"config_vars\\\":[\\\"DATABASE_URL\\\"],\\\"created_at\\\":\\\"2015-05-15T20:56:57Z\\\",\\\"id\\\":\\\"b84428f9-06cd-4a92-b238-9081afa27344\\\",\\\"name\\\":\\\"walking-purposefully-7680\\\",\\\"addon_service\\\":{\\\"id\\\":\\\"6c67493d-8fc2-4cd4-9161-4f1ec11cbe69\\\",\\\"name\\\":\\\"heroku-postgresql\\\"},\\\"plan\\\":{\\\"id\\\":\\\"95a1ce4c-c651-45dc-aaee-79b4603e76b7\\\",\\\"name\\\":\\\"heroku-postgresql:dev\\\"},\\\"app\\\":{\\\"id\\\":\\\"08e59bb9-e60c-448c-b616-3b623586d231\\\",\\\"name\\\":\\\"puchd\\\"},\\\"provider_id\\\":\\\"9237592\\\",\\\"updated_at\\\":\\\"2015-05-15T20:57:04Z\\\",\\\"web_url\\\":\\\"https://postgres.heroku.com/discover?hid=resource10168240@heroku.com\\\",\\\"provision_message\\\":\\\"Database has been created and is available\\n ! This database is empty. If upgrading, you can transfer\\n ! data from another database with pgbackups:restore\\\"}\"\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method `any?' for \"config_vars\":String (NoMethodError)\nCommand:     heroku addons:create heroku-postgresql:dev\nVersion:     heroku-toolbelt/3.36.8 (x86_64-linux) ruby/2.1.6\nError ID:    4c3874afdf314fc49c73a397f789bfd7\n\n\nMore information in /home/chaudhary/.heroku/error.log\n\n```\nEdit: formatted json\n\"{\n    \\\"config_vars\\\": [\n        \\\"DATABASE_URL\\\"\n    ],\n    \\\"created_at\\\": \\\"2015-05-15T20: 56: 57Z\\\",\n    \\\"id\\\": \\\"b84428f9-06cd-4a92-b238-9081afa27344\\\",\n    \\\"name\\\": \\\"walking-purposefully-7680\\\",\n    \\\"addon_service\\\": {\n        \\\"id\\\": \\\"6c67493d-8fc2-4cd4-9161-4f1ec11cbe69\\\",\n        \\\"name\\\": \\\"heroku-postgresql\\\"\n    },\n    \\\"plan\\\": {\n        \\\"id\\\": \\\"95a1ce4c-c651-45dc-aaee-79b4603e76b7\\\",\n        \\\"name\\\": \\\"heroku-postgresql: dev\\\"\n    },\n    \\\"app\\\": {\n        \\\"id\\\": \\\"08e59bb9-e60c-448c-b616-3b623586d231\\\",\n        \\\"name\\\": \\\"puchd\\\"\n    },\n    \\\"provider_id\\\": \\\"9237592\\\",\n    \\\"updated_at\\\": \\\"2015-05-15T20: 57: 04Z\\\",\n    \\\"web_url\\\": \\\"https: //postgres.heroku.com/discover?hid=resource10168240@heroku.com\\\",\n    \\\"provision_message\\\": \\\"Databasehasbeencreatedandisavailable\\\\n!Thisdatabaseisempty.Ifupgrading,\n    youcantransfer\\\\n!datafromanotherdatabasewithpgbackups: restore\\\"\n}\"\n. I just figured that my port 5000 might be blocked by my ISP. I did telnet rendezvous.heroku.com 5000 which shows timeouts. I am also not able to do heroku run due to this timeout. \n'Maybe' this might be related to this issue too?\n. Here's the output of EXCON_DEBUG: https://gist.github.com/788c2af2b03868433bff\n. No problem.\n. ",
    "yuan78": "HI, I deleting ~/.heroku entirely, but it does not work, and report same error, how can I do? THX\n. It's OK now, THX!\n. ",
    "shakna-israel": "Not alone. I've uninstalled, tried removing .heroku, several times over. It successfully installs Heroku Toolbelt v3.37.2... It'll let me login, after that, almost every command gives this stacktrace:\nheroku git:remote -a project\nInstalling Heroku Toolbelt v4... done\n/home/pi/.heroku/heroku-cli: 1: /home/pi/.heroku/heroku-cli: Syntax error: \"(\" unexpected\n/home/pi/.heroku/heroku-cli: 1: /home/pi/.heroku/heroku-cli: Syntax error: \"(\" unexpected\n/home/pi/.heroku/heroku-cli: 1: /home/pi/.heroku/heroku-cli: Syntax error: \"(\" unexpected\n. Completely uninstalling and reinstalling did work in my case, kind of. I got hit by io.js needing a newer version of libc6, but I'd be guessing that's another kettle of fish.\nIn sum, removing ~/.heroku, and apt-get remove heroku together, and then running wget -qO- https://toolbelt.heroku.com/install-ubuntu.sh | sh did seem to successfully run.\n. ",
    "arenoth": "It's my local development environment, my computer is an arm computer\n. Hi, I deleted the CLI, reinstalled heroku via the wget, and while trying to clone, I once again ran into the same bug.\nWere you able to get it working on your end? Let me know if you want me to test anything for you. I'll also try to completely uninstall heroku again, so if it works I'll post here, but I have a feeling it won't\n. Oh man, this is bizzare then\nI \"believe\" that I have completely uninstalled heroku through several different ways including the way shown here and from above\nhttps://devcenter.heroku.com/articles/heroku-command\nI have then reinstalled from the wget but still having the same syntax error from earlier when running \"heroku status\"\n. Unfortunately still no luck\nHowever, I'm not sure if this is normal, but during reinstallation, this came up in the log\nupdate-rc.d: warning: default stop runlevel arguments (0 1 6) do not match rsync Default-Stop values (none)\n System start/stop links for /etc/init.d/rsync already exist.\nrunlevel:/var/run/utmp: No such file or directory\nHere's my version info\n(precise)user@localhost:~$ heroku version\n/home/user/.heroku/heroku-cli: 1: /home/user/.heroku/heroku-cli: Syntax error: \"(\" unexpected\nerror loading plugin commands\nheroku-toolbelt/3.37.3 (armv7l-linux-eabihf) ruby/2.2.2\nYou have no installed plugins.\n. No money man, deleted it,  then tried a reinstall again. Sorry it's been such a hassle to take care of, do you think it could be something on my end? Ie: ruby is having something funny going on? Let me know if you need anything else\nHere are the logs provided below\n(precise)user@localhost:~$ ruby -e \"p RbConfig::CONFIG['host_cpu']\"\n\"armv7l\"\n(precise)user@localhost:~$ ruby -e \"p RbConfig::CONFIG['host_os']\"\n\"linux-gnueabihf\"\n. Hey @dickeyxxx \nI just got a chance to run heroku status\nSetting up heroku-toolbelt (3.37.5) ...\n(precise)user@localhost:~$ heroku status\nInstalling Heroku Toolbelt v4... done\nInstalling plugin heroku-status... done\n=== Heroku Status\nProduction:   No known issues at this time. \nDevelopment:  No known issues at this time. \nLooks all good to me, I'll repost if I run into any other issues with heroku\nThanks so much for the fix I appreciate it\n. ",
    "bharat": "I deleted my earlier comments - they were about an unrelated issue (you can't use heroku toolbelt to change the dyno type until you take an action in the web ui first).\nHowever - I believe this issue is caused by a failure in the regex here:\nhttps://github.com/heroku/heroku/blob/master/lib/heroku/command/ps.rb#L232\nChanging the \\w+ to [\\w-]+ resolved the problem for me:\nif change = arg.scan(/^([a-zA-Z0-9_]+)([=+-]\\d+)(?::([\\w-]+))?$/).first\n. Sorry for the lack of tests - I haven't written Ruby tests in a long while. If you point me at some docs to run tests and submit pull requests with good hygiene I'll be happy to do it the right way.\n. $ heroku version\nheroku-toolbelt/3.37.6 (universal.x86_64-darwin14) ruby/2.0.0\nheroku-cli/4.20.6-a8926d9 (amd64-darwin) go1.4.2\n=== Installed Plugins\nheroku-copy-config\nheroku-fork@3.0.4\nheroku-git@2.2.3\nheroku-repo\nheroku-status@1.2.0\n. For future searchers, heroku labs does work:\n$ heroku labs:enable new-dyno-sizes\nWARNING: This feature is experimental and may change or be removed without notice.\n$ heroku ps:type Hobby\nChanging dyno type... done.\n. ",
    "noortotah": "I have the same error , how to solve it please ?\n. @ransombriggs Thank You :) ,, the problem was I used the full url of the database instead of using the colors ,, \n. ",
    "abienkowski": "Removing the heroku-repo causes new error.  All plugins have been reinstalled, including the heroku toolbelt itself.\n-bash-4.1$ heroku apps\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n``\nError:       private methodselect' called for # (NoMethodError)\nCommand:     heroku apps\nVersion:     heroku-toolbelt/3.37.2 (x86_64-linux) ruby/2.0.0\nError ID:    ff86ba241e2841b4a2d349a7ded4cee6\nMore information in /opt/jenkins/jenkins_home/.heroku/error.log\n```\n-bash-4.1$ \n. -bash-4.1$ heroku --version\nheroku-toolbelt/3.37.2 (x86_64-linux-gnu) ruby/2.1.5\nheroku-cli/4.19.28-8f2bd89 (amd64-linux) go1.4.2\n=== Installed Plugins\nheroku-apps@0.1.4\nheroku-fork@3.0.4\nheroku-git@2.2.3\nheroku-redis@0.8.0\nheroku-status@1.2.0\n. I get the following, looks like a successful outcome.\n-bash-4.1$ ruby -r json -e \"p JSON.parse('{}')\"\n{}\n-bash-4.1$ \n. Is there a way to turn on some debug logs, which would help to trace where the issues is.\nSo far I've removed and reinstalled all apps and heroku tool-belt itself, without any effect.\nI've removed the .heroku folder as well, and .netrc file, which re-initiated the login process.  Authentication kelp failing, even though I could still successfully sign into the account on other systems and through the UI.\n. Seems I could not find a solution to this issue, and had to rebuild the machine.  Thankfully its' done with Ansible. :)\n. ",
    "joshuatobin": "@ys There is an example in the description but here is one type as well:\nGood:\nmachine somehost.herokuapp.com\n  login user@host\n  password XXXX\nBad\nsomehost.herokuapp.com\n  login user@host\n  password XXXX\n. ",
    "retyui": "heroku-gem/3.37.5 x64  / Ruby /2.2.2\n. ",
    "dsoegijono": "Still no clue what happened but uninstalling and reinstalling heroku toolbelt (mac) \"fixed\" it\n. ",
    "leontalbot": "ok. thanks!\n. ",
    "mathias": "Is there another (trusted) place that we could read VERSION from?\n. This works well enough for me locally. But I don't really have very creative use cases in attempting to break it.\nMaybe we can write tests (or at least manually reproduce and validate)  some of the more complex cases we heard from Postgres team for things like fork, follow, etc where the resolution was an issue?\n. Not really, but I didn't understand the transfer of responsibility up to the API, I guess. In that case, tests need only validate that for various types of arguments which might be treated differently (And really, I'm guessing they're not since the CLI doesn't care whether a string looks like \"DATABASE\" or \"violet\" or \"papertrail\") and that they all respond with the same stub, then we're good on testing it. There's no point in trying to assert anything here when the client is becoming thinner in a \"thin client\" sense.\n. That's a good point. That is the kind of integration thing we'd want to see work from both sides interacting, so it's in Direwolf's wheelhouse. \nI don't want to step on toes, but if I can help in writing Direwolf tests, let me know. (I've got some experience from last time we dived into testing changing add-ons commands in direwolf tests.)\n. I'm looking at the coverage now and trying to orient myself, will defer to @mattreduce if he's got a quicker solution.\n. Resolved conflicts, @dickeyxxx can you confirm that these files are supposed to be deleted? Seeing this many things disappear on a merge was worrying:\n- lib/heroku/command/two_factor.rb\n- lib/heroku/command/status.rb\n- lib/heroku/command/run.rb\n- lib/heroku/command/maintenance.rb\n- lib/heroku/command/local.rb\n- lib/heroku/command/git.rb\n- lib/heroku/command/fork.rb\n- lib/heroku/command/apps.rb (apps:info commad, not the whole file)\n. LGTM\n. ",
    "jordansinger": "How do we install this fix?\n. ",
    "nemonweb": "thanks\n. ",
    "ckirksey3": "Yeah, I also ran into this issue.\n. ",
    "oguya": "thanks @dickeyxxx. I decided to trash the system-wide ruby & install a new one in my home directory which fixed the random errors I was getting.\nwget -qO- http://cache.ruby-lang.org/pub/ruby/2.2/ruby-2.2.2.tar.gz | tar -xvz\ncd ruby-2.2.2/\nmkdir -p ~/apps/ruby/2.2.2\n./configure --prefix=/home/james/apps/ruby/2.2.2\nCC=clang make\nmake install\nexport PATH=\"/home/james/apps/ruby/2.2.2/bin:$PATH\"\n. ",
    "zongwan": "Environment\nos: win8.1\nterminal : cmder\n. git clone https://github.com/heroku/python-getting-started.git --depth=1\nbecause of \"--depth=1\"\n. ",
    "maplebed": "Thank you!\n. ",
    "holic": "$ heroku --version\nheroku-toolbelt/3.38.1 (x86_64-darwin10.8.0) ruby/1.9.3\n=== Installed Plugins\nheroku-accounts\nheroku-config\n. It looks like heroku git:remote -a appname uses the same https:// protocol that is causing issues:\n```\n$ heroku git:remote -a someapp\nInstalling Heroku Toolbelt v4... done\nInstalling plugin heroku-git... done\nset git remote heroku to https://git.heroku.com/someapp.git\n$ git remote -v\nheroku  https://git.heroku.com/someapp.git (fetch)\nheroku  https://git.heroku.com/someapp.git (push)\n$ heroku config\n !    Multiple apps in folder and no app specified.\n !    Specify app with --app APP.\n$ heroku --version\nheroku-toolbelt/3.38.1 (x86_64-darwin10.8.0) ruby/1.9.3\nheroku-cli/4.20.7-c71480f (amd64-darwin) go1.4.2\n=== Installed Plugins\nheroku-accounts\nheroku-config\nheroku-git@2.3.1\n```\nThen running heroku maintenance:\n```\n$ heroku maintenance\nInstalling plugin heroku-apps... done\noff\n$ heroku maintenance\noff\n$ heroku config\n !    Multiple apps in folder and no app specified.\n !    Specify app with --app APP.\n``\n. Yep, you're right. Looks like a few are having the exact issue and have solved it in the same way:\nhttps://github.com/ddollar/heroku-accounts/issues/81#issuecomment-112889740\n. I've just uninstalledheroku-accounts` for now and everything's working again. Been a while since I needed to manage multiple Heroku accounts anyway.\nCheers!\n. @jhubert Awesome! Thanks for pinging me.\n. ",
    "jhubert": "@holic Heroku has an official fork that supports https remotes: https://github.com/heroku/heroku-accounts\n. ",
    "aequasi": "Sorry, thought you meant here. Created it!\n. \n. ",
    "mushishi78": "+1 @aequasi Was there a way to get it to work?\n. Thanks alot! That's worked great.\n. ",
    "trikadin": "As i see, I even don't have a npmrc file in my home directory.\nOr I don't understand what npmrc file you're talking about.\n. Already tried to reinstall heroku. I deleted  ~/.heroku too.\n. ",
    "leighhalliday": "Hi Jeff,\nJust once. When it did the upgrade to the latest version of the CLI.\nThanks,\nLeigh\nOn Mon, Jun 29, 2015 at 4:08 PM, Jeff Dickey notifications@github.com\nwrote:\n\ndid this just happen once or do you see it every time?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1636#issuecomment-116824364.\n. Sorry Jeff... I'm not sure!!\n\nOn Mon, Jun 29, 2015 at 6:54 PM, Jeff Dickey notifications@github.com\nwrote:\n\nyou wouldn't happen to know how long it has been since it had updated\npreviously? This might've been a bug that was resolved.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1636#issuecomment-116874089.\n. \n",
    "muescha": "i have the same error today (heroku is used from me last time 26 oct 2015 from this mac)\n```\n$ heroku ps\nUpdating Heroku v4 CLI to 4.27.9-cce0260 (master)... panic: open /Users/muescha/.heroku/heroku-cli.new: no such file or directory\ngoroutine 7 [running]:\nmain.fileSha1(0xc82036c420, 0x25, 0x0, 0x0)\n    /Users/jdickey/src/github.com/heroku/heroku-cli/update.go:210 +0xb8\nmain.updateCLI(0x47f1d0, 0x6)\n    /Users/jdickey/src/github.com/heroku/heroku-cli/update.go:126 +0x52d\nmain.Update.func1(0x47f1d0, 0x6, 0x3e2ac8, 0x5, 0xc8203125a0)\n    /Users/jdickey/src/github.com/heroku/heroku-cli/update.go:61 +0x30\ncreated by main.Update\n    /Users/jdickey/src/github.com/heroku/heroku-cli/update.go:65 +0x1d0\ngoroutine 1 [select]:\nmain.Update(0x47f1d0, 0x6, 0x3e2ac8, 0x5)\n    /Users/jdickey/src/github.com/heroku/heroku-cli/update.go:66 +0x383\nmain.main()\n    /Users/jdickey/src/github.com/heroku/heroku-cli/main.go:74 +0x76\ngoroutine 17 [syscall, locked to thread]:\nruntime.goexit()\n    /usr/local/Cellar/go/1.5.1/libexec/src/runtime/asm_amd64.s:1696 +0x1\ngoroutine 5 [syscall]:\nos/signal.loop()\n    /usr/local/Cellar/go/1.5.1/libexec/src/os/signal/signal_unix.go:22 +0x18\ncreated by os/signal.init.1\n    /usr/local/Cellar/go/1.5.1/libexec/src/os/signal/signal_unix.go:28 +0x37\ngoroutine 6 [chan receive]:\ngithub.com/stvp/rollbar.init.1.func1()\n    /Users/jdickey/src/github.com/stvp/rollbar/rollbar.go:74 +0x4c\ncreated by github.com/stvp/rollbar.init.1\n    /Users/jdickey/src/github.com/stvp/rollbar/rollbar.go:78 +0x5c\ngoroutine 12 [IO wait]:\nnet.runtime_pollWait(0x6cc080, 0x72, 0xc820010160)\n    /usr/local/Cellar/go/1.5.1/libexec/src/runtime/netpoll.go:157 +0x60\nnet.(pollDesc).Wait(0xc8202bd560, 0x72, 0x0, 0x0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/net/fd_poll_runtime.go:73 +0x3a\nnet.(pollDesc).WaitRead(0xc8202bd560, 0x0, 0x0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/net/fd_poll_runtime.go:78 +0x36\nnet.(netFD).Read(0xc8202bd500, 0xc820394000, 0x8000, 0x8000, 0x0, 0x6be050, 0xc820010160)\n    /usr/local/Cellar/go/1.5.1/libexec/src/net/fd_unix.go:232 +0x23a\nnet.(conn).Read(0xc820030070, 0xc820394000, 0x8000, 0x8000, 0x0, 0x0, 0x0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/net/net.go:172 +0xe4\ncrypto/tls.(block).readFromUntil(0xc820342b10, 0x6cc190, 0xc820030070, 0x5, 0x0, 0x0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/crypto/tls/conn.go:455 +0xcc\ncrypto/tls.(Conn).readRecord(0xc820117600, 0x47fe17, 0x0, 0x0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/crypto/tls/conn.go:540 +0x2d1\ncrypto/tls.(Conn).Read(0xc820117600, 0xc820355000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/crypto/tls/conn.go:901 +0x167\nnet/http.noteEOFReader.Read(0x6cc568, 0xc820117600, 0xc82033e1b8, 0xc820355000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/net/http/transport.go:1370 +0x67\nnet/http.(noteEOFReader).Read(0xc820360a60, 0xc820355000, 0x1000, 0x1000, 0x0, 0x0, 0x0)\n    :126 +0xd0\nbufio.(Reader).fill(0xc820313140)\n    /usr/local/Cellar/go/1.5.1/libexec/src/bufio/bufio.go:97 +0x1e9\nbufio.(Reader).Peek(0xc820313140, 0x1, 0x0, 0x0, 0x0, 0x0, 0x0)\n    /usr/local/Cellar/go/1.5.1/libexec/src/bufio/bufio.go:132 +0xcc\nnet/http.(persistConn).readLoop(0xc82033e160)\n    /usr/local/Cellar/go/1.5.1/libexec/src/net/http/transport.go:876 +0xf7\ncreated by net/http.(Transport).dialConn\n    /usr/local/Cellar/go/1.5.1/libexec/src/net/http/transport.go:685 +0xc78\ngoroutine 13 [select]:\nnet/http.(persistConn).writeLoop(0xc82033e160)\n    /usr/local/Cellar/go/1.5.1/libexec/src/net/http/transport.go:1009 +0x40c\ncreated by net/http.(Transport).dialConn\n    /usr/local/Cellar/go/1.5.1/libexec/src/net/http/transport.go:686 +0xc9d\n !    error getting commands pid 1561 exit 2\n[07:09:39] muescha@MacBook-Pro:~ \n$ heroku ps\n \u25b8    No app specified.\n \u25b8    Run this command from an app folder or specify which app to use with --app APP\n[07:11:29] muescha@MacBook-Pro:~ \n```\nPS:\ni am just confused about this lines in error log /Users/jdickey/src/github.com/heroku/... because jdickey not an user at my mac\n. i forget to mention: a second run of heroku comes without error\nPS: thats confusing with the GO's tracebacks :( \n. ",
    "zaverichintan": "I am not getting any errors log just \nC:\\Users\\Chintan>heroku\npanic:\n. ",
    "footprintsusa": "Alright, and how am to give it permission to write to my directory? \n. Alright, that part makes sense -- what about if I did not want that to be the home directory? I'd rather it stay on my C:/ drive vs. the U:/ drive as that one is on the network and really not the one I wish to use for this database. \nEdit: I have no idea why it is even trying to use my U:/ drive over my C:/ drive, I never pointed it there or even installed it there.\n. Dickeyxxx, I just want to thank you so much -- I hadn't a clue how to change all of that and now I do and it is working flawlessly! Thank you kind sir, and have a great day. \n. ",
    "gautamchandna": "Same for me, and I'm on Windows. Could this have returned https://github.com/heroku/heroku/issues/1098 ?\n. ",
    "stevo550": "New output looks nice :+1: \n. ",
    "jingweno": ":+1: A gentle reminder that the homebrew formula is still pointing at 3.39.2. I got around to get the latest version (3.39.5) by gem install heroku\n. > https://github.com/Homebrew/homebrew/pull/41714\n:+1:\n. @felansu You're filing the issue to the wrong repo. This repo is about the Heroku CLI. I believe you're looking for the Grails buildpack.\n. Closing\n. ",
    "felansu": "thanks man!\nOn Mon, Jul 20, 2015 at 10:43 PM Jingwen Owen Ou notifications@github.com\nwrote:\n\n@felansu https://github.com/felansu You're filing the issue to the\nwrong repo. This repo is about the Heroku CLI\nhttps://devcenter.heroku.com/articles/heroku-command. I believe you're\nlooking for the Grails buildpack\nhttps://github.com/heroku/heroku-buildpack-grails.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1661#issuecomment-123126425.\n. \n",
    "jeffblake": "Upgrading PostgresApp (http://postgresapp.com/) fixed the problem.\n. ",
    "napping": "That was the command I originally wanted to get working as I need to change my remote database locally from my computer.\nVery strangely, heroku pg:psql only works during certain times during the day.  Is this supposed to happen??\n. Postgres seems to be working locally.  I am just quite confused why heroku pg:psql simply gives me this error:\n    psql: could not connect to server: Connection refused\n    Is the server running on host \"ec2----.compute-1.amazonaws.com\" (...) and accepting\n    TCP/IP connections on port 5432?\nat night, eastern time.  During the day, I am able to enter the remote Postgres shell.\n. Sorry, just the command \"psql\" works.\n. ",
    "raldred": "@dickeyxxx to give you some context, I wasn't initially aware but it turns out that the owner of the app I was developing and trying to add the addon to has not paid their bill.\n. ",
    "fnando": ":+1: \n. ",
    "chernetsov0": "@chidumaga If you're using Windows 10 see #1696 \n. If everyone else has this issue, try replacing crtdll with msvcrt here and write back if it works. Will try to do pull request.\n@chidumaga can you verify that login still works with this change?\n. If everyone else has this issue, try replacing crtdll with msvcrt here and write back whether it works. Will try to do pull request.\n@chidumaga can you verify that login still works with this change?\n. ",
    "uzomao": "Not THE solution but I eventually uninstalled my version of Ruby and installed a 32-bit version to get it working.\n. See 1686. Running Windows 7(x64).\n. ",
    "murkey": "I was getting this as well. Log:\n```\n2015/08/26 18:28:55 Error reading plugin: heroku-local. See /Users/mike/.heroku/error.log for more information.\n2015/08/26 18:28:55 exit status 1\n module.js:338\n    throw err;\n    ^\nError: Cannot find module 'extend'\n    at Function.Module._resolveFilename (module.js:336:15)\n    at Function.Module._load (module.js:286:25)\n    at Module.require (module.js:365:17)\n    at require (module.js:384:17)\n    at Object. (/Users/mike/.heroku/node_modules/heroku-local/node_modules/request/index.js:17:29)\n    at Module._compile (module.js:430:26)\n    at Object.Module._extensions..js (module.js:448:10)\n    at Module.load (module.js:355:32)\n    at Function.Module._load (module.js:310:12)\n    at Module.require (module.js:365:17)\n```\nheroku plugins:uninstall heroku-local followed by heroku plugins (which automatically reinstalled heroku-local) got rid of the error for me. Hope that helps you.\n. ",
    "b3ccio": "+1 @murkey \n. ",
    "zachdini": "I'm getting this same \"Error reading plugin: heroku-local\" error now. The syntax error that is thrown is a little different but it's along the same lines. When I check the JS file it all looks good:\n/Users/USER/.heroku/node_modules/heroku-local/lib/download.js:17\n  .then(() => fs.renameSync(tmpPath, path));\nSyntaxError: Unexpected token )\n    at exports.runInThisContext (vm.js:53:16)\n    at Module._compile (module.js:413:25)\n    at Object.Module._extensions..js (module.js:448:10)\n    at Module.load (module.js:355:32)\n    at Function.Module._load (module.js:310:12)\n    at Module.require (module.js:365:17)\n    at require (module.js:384:17)\n    at Object. (/Users/zbrandt/.heroku/node_modules/heroku-local/lib/forego.js:6:16)\n    at Module._compile (module.js:430:26)\n    at Object.Module._extensions..js (module.js:448:10) \n. ",
    "reggi": "Not sure what's happening but I'm stuck & it's super frustrating.\n```\nthomas@workstation:~$ heroku\nError reading plugin heroku-local. Reinstalling... ERROR: module.js:338\n    throw err;\n    ^\nError: Cannot find module 'heroku-local'\n    at Function.Module._resolveFilename (module.js:336:15)\n    at Function.Module._load (module.js:286:25)\n    at Module.require (module.js:365:17)\n    at require (module.js:384:17)\n    at [eval]:2:15\n    at Object.exports.runInThisContext (vm.js:54:17)\n    at Object. ([eval]-wrapper:6:22)\n    at Module._compile (module.js:434:26)\n    at node.js:566:27\n    at doNTCallback0 (node.js:407:9)\n!    error getting commands pid 28410 exit 1\n```\n. This fixed it:\nrm -rf /usr/local/heroku\nrm -rf ~/.heroku\n. ",
    "Zanadar": "@reggi +1 \nI only had to run rm -rf ~/.heroku as /usr/local/heroku didn't exist.\n. ",
    "eebs": "I ran into the same issue as @reggi. Removing ~/.heroku fixed it for me as well.\n. ",
    "ktrain": "I had a similar problem (on Linux):\n```\nError reading plugin heroku-apps. Reinstalling... ERROR: heroku-apps: module.js:339\n    throw err;\n    ^\nError: Cannot find module 'heroku-cli-util'\n    at Function.Module._resolveFilename (module.js:337:15)\n    at Function.Module._load (module.js:287:25)\n    at Module.require (module.js:366:17)\n    at require (module.js:385:17)\n    at Object. (/home/ksteffen/.heroku/node_modules/heroku-apps/commands/apps/info.js:6:16)\n    at Module._compile (module.js:425:26)\n    at Object.Module._extensions..js (module.js:432:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:311:12)\n    at Module.require (module.js:366:17)\n!    error getting commands pid 24745 exit 1\n```\nAnd moving/removing ~/.heroku fixed it for me, as well. Thanks to all.\n. ",
    "olegsokolov513": "Cool\n. ",
    "nessche": "removing ~/.heroku/plugin-cache.json may be enough (without removing the whole .heroku directory)\n. ",
    "DannyBen": "Just to contribute my part to the great people of heroku.\nThis happened to me when running promote (heroku pipelines:promote -r heroku) - so not related to heroku local, but seems to be same error.\nRerunning the command works well and gives no errors, but this got me worried a little.\nHere are the relevant lines from the log:\n2015/12/18 09:07:28 Updating Heroku v4 CLI to 4.27.9-cce0260 (master)...\n2015/12/18 09:07:30 done\n2015/12/18 09:07:30 Updating plugins...\n2015/12/18 09:07:50 done\n2015/12/18 09:07:50 rebuilding plugins cache...\n2015/12/18 09:07:53 Error reading plugin: signal-exit. See /home/vagrant/.he\n2015/12/18 09:07:53 exit status 1\n module.js:339\n    throw err;\n    ^\nError: Cannot find module 'signal-exit'\n    at Function.Module._resolveFilename (module.js:337:15)\n    at Function.Module._load (module.js:287:25)\n    at Module.require (module.js:366:17)\n    at require (module.js:385:17)\n    at [eval]:2:15\n    at Object.exports.runInThisContext (vm.js:54:17)\n    at Object.<anonymous> ([eval]-wrapper:6:22)\n    at Module._compile (module.js:425:26)\n    at node.js:587:27\n    at doNTCallback0 (node.js:428:9)\n    at doNTCallback0 (node.js:428:9)\n2015/12/18 09:07:57 Error reading plugin: semver. See /home/vagrant/.heroku/\n2015/12/18 09:07:57 exit status 1\n module.js:339\n    throw err;\n    ^\nError: Cannot find module 'semver'\n    at Function.Module._resolveFilename (module.js:337:15)\n    at Function.Module._load (module.js:287:25)\n    at Module.require (module.js:366:17)\n    at require (module.js:385:17)\n    at [eval]:2:15\n    at Object.exports.runInThisContext (vm.js:54:17)\n    at Object.<anonymous> ([eval]-wrapper:6:22)\n    at Module._compile (module.js:425:26)\n    at node.js:587:27\n    at doNTCallback0 (node.js:428:9)\n2015/12/18 09:07:57 Error reading plugin: path-exists. See /home/vagrant/.he\n2015/12/18 09:07:57 exit status 1\n module.js:339\n2015/12/18 09:07:57 exit status 1\n module.js:339\n    throw err;\n    ^\nError: Cannot find module 'path-exists'\n    at Function.Module._resolveFilename (module.js:337:15)\n    at Function.Module._load (module.js:287:25)\n    at Module.require (module.js:366:17)\n    at require (module.js:385:17)\n    at [eval]:2:15\n    at Object.exports.runInThisContext (vm.js:54:17)\n    at Object.<anonymous> ([eval]-wrapper:6:22)\n    at Module._compile (module.js:425:26)\n    at node.js:587:27\n    at doNTCallback0 (node.js:428:9)\n2015/12/18 09:07:57 Error reading plugin: loud-rejection. See /home/vagrant/\n2015/12/18 09:07:57 exit status 1\n module.js:339\n    throw err;\n    ^\n. Well, I only got it once, and it resolved itself after simply rerunning.\nThe log I posted above did say Updating Heroku v4 CLI to 4.27.9-cce0260 (master) so I guess this is the reason why it looked like it resolved itself. \nI haven't seen this error since, will post here again if I do.\nLet me know if more information is required.\nEDIT:\nThis is my heroku version:\n$ heroku --version\nheroku-toolbelt/3.42.25 (x86_64-linux) ruby/2.2.1\nheroku-cli/4.27.9-cce0260 (amd64-linux) go1.5.2\n=== Installed Plugins\nheroku-apps@0.5.4\nheroku-cli-addons@0.1.0\nheroku-fork@4.0.0\nheroku-git@2.4.4\nheroku-local@4.1.5\nheroku-pipelines@0.27.1\nheroku-run@2.9.2\nheroku-status@1.2.4\n. ",
    "NathanielGiron": "please check @murkey 's solution, it worked for me\n. ",
    "davidmesaros": "Removing ~/.heroku fixed it for me as well.\n. ",
    "brookinc": "This just happened to me, seemingly spontaneously? Yesterday, heroku local worked fine; today, it's nothing but:\n!   Error in heroku-local:\n !   Cannot find module 'heroku-local'\n !   See /home/vagrant/.heroku/error.log for more info.\nUnfortunately, neither @murkey's solution (heroku plugins:uninstall heroku-local followed by heroku plugins) nor @reggi's (rm -rf /usr/local/heroku and rm -rf ~/.heroku) fixed it for me. I even tried uninstalling and then reinstalling the whole heroku CLI, but to no avail -- the heroku-local plugin would not install correctly for me:\n``\nvagrant@vagrant-ubuntu-trusty-64:/vagrant/myproject$ heroku local\nHeroku CLI submits usage information back to Heroku. If you would like to disable this, setskip_analytics: true` in /home/vagrant/.heroku/config.json\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       No such file or directory - /home/vagrant/.heroku/config.json (Errno::ENOENT)\nCommand:     heroku local\nVersion:     heroku-toolbelt/3.42.49 (x86_64-linux) ruby/1.9.3\nError ID:    5082de1b664740bcb02f9c92a31ce80f\n\nMore information in /home/vagrant/.heroku/error.log\n\n```\nFinally, I tried wiping and then reprovisioning my dev VM from scratch (I use Vagrant). The heroku CLI seemed to install successfully:\n==> default: Selecting previously unselected package heroku.\n==> default: Preparing to unpack .../heroku_3.42.49_all.deb ...\n==> default: Unpacking heroku (3.42.49) ...\n==> default: Selecting previously unselected package heroku-toolbelt.\n==> default: Preparing to unpack .../heroku-toolbelt_3.42.49_all.deb ...\n==> default: Unpacking heroku-toolbelt (3.42.49) ...\n==> default: Setting up heroku (3.42.49) ...\n==> default: Setting up heroku-toolbelt (3.42.49) ...\n...but none of the plugins did:\n```\nvagrant@vagrant-ubuntu-trusty-64:/vagrant/myproject$ heroku local\nheroku-cli: Installing Toolbelt v4... done\nheroku-cli: Adding dependencies... 6.68 MB/6.68 MB\nheroku-cli: Adding dependencies... 2.57 MB/2.57 MB\nheroku-cli: Updating plugins...heroku-cli: Installing core plugins...module.js:341\n    throw err;\n    ^\nError: Cannot find module 'heroku-git'\n    at Function.Module._resolveFilename (module.js:339:15)\n    at Function.Module._load (module.js:290:25)\n    at Module.require (module.js:367:17)\n    at require (internal/module.js:16:19)\n    at Object. (/tmp/heroku-script-583295415:2:15)\n    at Module._compile (module.js:413:34)\n    at Object.Module._extensions..js (module.js:422:10)\n    at Module.load (module.js:357:32)\n    at Function.Module._load (module.js:314:12)\n    at Function.Module.runMain (module.js:447:10)\nmodule.js:341\n    throw err;\n    ^\nError: Cannot find module 'heroku-apps'\n[...identical callstack to above...]\n    at Function.Module.runMain (module.js:447:10)\nmodule.js:341\nmodule.js:341\n    throw err;\n    ^\nError: Cannot find module 'heroku-fork'\n[...identical callstack to above...]\n    at Function.Module.runMain (module.js:447:10)\n    throw err;\n    ^\nError: Cannot find module 'heroku-run'\n[...identical callstack to above...]\n    at Function.Module.runMain (module.js:447:10)\nmodule.js:341\nmodule.js:341\n    throw err;\n    ^\nError: Cannot find module 'heroku-local'\n[...identical callstack to above...]\n    at Function.Module.runMain (module.js:447:10)\n    throw err;\n    ^\n```\n(...snipping ~400 similar lines...)\n```\nError: Cannot find module 'heroku-pipelines'\n    at Function.Module._resolveFilename (module.js:339:15)\n    at Function.Module._load (module.js:290:25)\n    at Module.require (module.js:367:17)\n    at require (internal/module.js:16:19)\n    at Object. (/tmp/heroku-script-041039531:2:15)\n    at Module._compile (module.js:413:34)\n    at Object.Module._extensions..js (module.js:422:10)\n    at Module.load (module.js:357:32)\n    at Function.Module._load (module.js:314:12)\n    at Function.Module.runMain (module.js:447:10)\nmodule.js:341\n    throw err;\n    ^\nError: Cannot find module 'heroku-fork'\n[...identical callstack to above...]\n    at Function.Module.runMain (module.js:447:10)\n !\n \u25b8    Error reading plugin: heroku-fork\n \u25b8    exit status 1\n !    error getting commands pid 17276 exit 1\n```\nAny idea what might be going on? Is there a server-side issue that could be preventing the plugins from installing correctly? Is there anything else I can try in the mean time?\n. Hi @dickeyxxx -- thanks for the reply. I ran rm -rf ~/.heroku/node_modules, but running heroku local still tries to install the heroku-cli core plugins, which still gives me the same error spew.\nEven heroku version first tries to install the core plugins, which throws the same error spew.\n. When I uninstall (sudo apt-get remove heroku-toolbelt) and then reinstall (wget -O- https://toolbelt.heroku.com/install-ubuntu.sh | sh), it gives me version 3.42.50 (earlier today was 3.42.49, I think?). However, the issue is still happening with v3.42.50 for me. Can I force the installer to get the  4.29.4-8867943 version you mention? Is there a different apt-get source I need to add, or...?\n. Hmm, okay. Should the uninstall and reinstall commands referenced above do the trick, then? I'm not sure what else to try.\n. Thanks, rm -rf ~/.heroku did the trick!\nI also have NODE_PATH set:\nvagrant@vagrant-ubuntu-trusty-64:/vagrant/myproject$ printenv NODE_PATH\n/usr/lib/nodejs:/usr/lib/node_modules:/usr/share/javascript\n. ",
    "DavidVII": "@brookinc I suddenly started getting the same errors Error: Cannot find module\nNone of the solutions described here worked :sob: \n. Hi @dickeyxxx, after your comment I uninstalled everything and tried to re-install... no dice.\nhere's the output:\n````` bash\n~ heroku login\nHeroku CLI submits usage information back to Heroku. If you would like to disable this, setskip_analytics: true` in /Users/David/.heroku/config.json\nheroku-cli: Installing Toolbelt v4... done\nFor more information on Toolbelt v4: https://github.com/heroku/heroku-cli\nheroku-cli: Adding dependencies... 5.13 MB/5.13 MB\nheroku-cli: Adding dependencies... 2.57 MB/2.57 MB\nheroku-cli: Updating plugins...heroku-cli: Installing core plugins...module.js:341\n    throw err;\n    ^\nError: Cannot find module 'heroku-apps'\n    at Function.Module._resolveFilename (module.js:339:15)\n    at Function.Module._load (module.js:290:25)\n    at Module.require (module.js:367:17)\n    at require (internal/module.js:16:19)\n    at Object. (/private/var/folders/1s/pbmq_7xs2333k8hwjl2kxxmm0000gn/T/heroku-script-812764627:2:15)\n    at Module._compile (module.js:413:34)\n    at Object.Module._extensions..js (module.js:422:10)\n    at Module.load (module.js:357:32)\n    at Function.Module._load (module.js:314:12)\n    at Function.Module.runMain (module.js:447:10)\nheroku-cli: Installing core plugins (retrying)...module.js:341\n    throw err;\n    ^\nError: Cannot find module 'heroku-apps'\n    at Function.Module._resolveFilename (module.js:339:15)\n    at Function.Module._load (module.js:290:25)\n    at Module.require (module.js:367:17)\n    at require (internal/module.js:16:19)\n    at Object. (/private/var/folders/1s/pbmq_7xs2333k8hwjl2kxxmm0000gn/T/heroku-script-998557565:2:15)\n    at Module._compile (module.js:413:34)\n    at Object.Module._extensions..js (module.js:422:10)\n    at Module.load (module.js:357:32)\n    at Function.Module._load (module.js:314:12)\n    at Function.Module.runMain (module.js:447:10)\n !\n \u25b8    Error reading plugin: heroku-apps\n \u25b8    exit status 1\n \u25b8    module.js:341\n \u25b8        throw err;\n \u25b8        ^\n \u25b8  \n \u25b8    Error: Cannot find module 'heroku-apps'\n \u25b8        at Function.Module._resolveFilename (module.js:339:15)\n \u25b8        at Function.Module._load (module.js:290:25)\n \u25b8        at Module.require (module.js:367:17)\n \u25b8        at require (internal/module.js:16:19)\n \u25b8        at Object. (/private/var/folders/1s/pbmq_7xs2333k8hwjl2kxxmm0000gn/T/heroku-script-305538232:2:15)\n \u25b8        at Module._compile (module.js:413:34)\n \u25b8        at Object.Module._extensions..js (module.js:422:10)\n \u25b8        at Module.load (module.js:357:32)\n \u25b8        at Function.Module._load (module.js:314:12)\n \u25b8        at Function.Module.runMain (module.js:447:10)\n !    error getting commands pid 2977 exit 1```\n``````\n. Awesome! Thank you, @dickeyxxx! All seems to be working well again.\n. @dickeyxxx I do.\n~/.nvm/v0.12.7/lib/node_modules\n. ",
    "tipp-j": "I am having the same problems as @brookinc and @DavidVII. Just started happening today after I ran\nheroku logs\nI tried reinstalling the CLI, rm -rf ~/.heroku and still nothing, it seems to fail installing core plugins\nEDIT:\n@dickeyxxx I tried removing the node_modules directory from ~/.heroku and I'm still having the same problems. We seem to be getting an infinite loop of heroku-cli trying to install core plugins and it never finds the modules for them.\n. @dickeyxxx, no heroku commands in the CL are working, it just tries to install core plugins everytime you throw it a heroku command\n. @dickeyxxx,\nI just reinstalled the toolbelt to make sure, everything is working now.\nThanks a bunch!\nAlso, just wanted to point out, before the rollback heroku-toolbelt after installation was failing to read the config.json in ~/.heroku/config.json, I'm not sure if that was part of the problem or not as I did not get that error this time around.\n. ",
    "edmorley": "What I also find confusing is that the logs contain things like:\napp[web.1]\nSo in my mind \"app\" and \"web\" (or \"web.1\") must map to one of \"source\" and \"process\" respectively. \nExcept they don't - \"app\" is \"source\" but \"process\" isn't the dyno name - and in fact apart from grepping (which doesn't help when only N lines are returned by default) I can't find a way to filter by dyno type at all.\n. Thanks done - https://help.heroku.com/tickets/278051\n. An alternative (for people who don't intend on using the Heroku git remote at all, since they are using auto-deploy from GitHub etc) would be to have an in-repo file that points at the Heroku instance (that I can check into the repo for all of my team) so I don't have to use heroku git:remote at all.\n. It's:\nbash\n[~/src/bugherder]$ git remote -vv\nheroku  ssh://git@heroku.com/mozilla-bugherder.git (fetch)\nheroku  ssh://git@heroku.com/mozilla-bugherder.git (push)\norigin  git@github.com:edmorley/bugherder.git (fetch)\norigin  git@github.com:edmorley/bugherder.git (push)\nupstream        git@github.com:mozilla/bugherder.git (fetch)\nupstream        git@github.com:mozilla/bugherder.git (push)\n[~/src/bugherder]$ git branch -a\n* master\n  remotes/origin/HEAD -> origin/master\n  remotes/origin/master\n  remotes/upstream/master\n. No, it does change the list of remotes shown when I run git remote -vv.\nThe issue is that even with the added remote, the Heroku CLI doesn't see there being an associated app - presumably because that app was created via the web UI (see above) and not via a git push. As such, the git repo on heroku.com is presumably empty.\n. ie for another project (where it was created in the \"traditional\" manner ie with a git push) I get:\nbash\n[~/src/treeherder]$ git branch -a | grep heroku\n  remotes/heroku/master\nHowever in the output for this project (two comments up), there is no such master branch on the heroku remote.\n. Did you definitely create a new app from scratch using https://dashboard.heroku.com/new and not the CLI?\n. > If you run heroku git:remote --app appname you should be able to run heroku ps so long as it executes\nI have run that command multiple times and heroku ps does not work. I'm not sure how to make the original STR any clearer, I thought they were pretty detailed - but perhaps this is just something platform/machine specific. (The lack of a master branch was just a hunch.)\nIf there's some logging I can turn on to help provide additional info, seeing as it's not reproducible for you, just let me know.\nMany thanks :-)\n. Ah so one difference I can see between the project for which heroku ps works without --app, and the one that doesn't is the protocol set for the git remote.\nDoesn't work:\nbash\n[~/src/bugherder]$ git remote -vv\nheroku  ssh://git@heroku.com/mozilla-bugherder.git (fetch)\nheroku  ssh://git@heroku.com/mozilla-bugherder.git (push)\norigin  git@github.com:edmorley/bugherder.git (fetch)\norigin  git@github.com:edmorley/bugherder.git (push)\nupstream        git@github.com:mozilla/bugherder.git (fetch)\nupstream        git@github.com:mozilla/bugherder.git (push)\n[~/src/bugherder]$ heroku ps\n !    No app specified.\n !    Run this command from an app folder or specify which app to use with --app APP.\nWorks:\nbash\n[~/src/treeherder]$ git remote -vv\nheroku  git@heroku.com:treeherder-heroku.git (fetch)\nheroku  git@heroku.com:treeherder-heroku.git (push)\norigin  git@github.com:mozilla/treeherder.git (fetch)\norigin  git@github.com:mozilla/treeherder.git (push)\n[~/src/treeherder]$ heroku ps\n=== web (Standard-1X): `newrelic-admin run-program gunicorn treeherder.config.wsgi:application --log-file - --timeout 29 --max-requests 2000`\n...\nA git config -e in the directory of the project that doesn't work, shows:\n[remote \"heroku\"]\n    url = https://git.heroku.com/mozilla-bugherder.git\n    fetch = +refs/heads/*:refs/remotes/heroku/*\n...so I'm slightly surprised why the git remote -vv output shows ssh://.\n. Ah!\nI'd forgotten since, but I'd followed the Heroku guide here:\nhttps://devcenter.heroku.com/articles/git#ssh-git-transport\nand done a:\nbash\n git config --global url.ssh://git@heroku.com/.insteadOf https://git.heroku.com/\nCan you reproduce using that? :-)\n. Ah thank you :-)\n. ",
    "zhanglei5337": "yes,i can access this. what does it use for?\n. ",
    "meteormatt": "I found that I can not download \nhttps://cli-assets.heroku.com/master/4.24.4-d580541/darwin/amd64/heroku-cli\n. ",
    "jon-ga": "I'm seeing this same issue with \n$ heroku addons:open scheduler\n !    Ambiguous identifier; multiple matching add-ons found: ...\nVersion info:\n$ heroku --version\nheroku-toolbelt/3.42.21 (x86_64-darwin10.8.0) ruby/1.9.3\nheroku-cli/4.27.2-eb1b3ca (amd64-darwin) go1.5.1\n=== Installed Plugins\nheroku-accounts\nheroku-apps@0.5.2\nheroku-cli-addons@0.1.1\nheroku-fork@4.0.0\nheroku-git@2.4.3\nheroku-local@4.1.5\nheroku-run@2.9.1\nheroku-status@1.2.2\n. ",
    "halilim": "I've just got 2.1 MB worth of identifiers:\n``` bash\nheroku addons:open newrelic\n=>  \u25b8    Ambiguous identifier; multiple matching add-ons found:\nheroku --version\n=> heroku-toolbelt/3.42.48 (x86_64-darwin10.8.0) ruby/1.9.3\n=> heroku-cli/4.29.4-6a9494e (amd64-darwin) go1.6\n=> === Installed Plugins\n=> heroku-apps@1.7.3\n=> heroku-cli-addons@0.3.0\n=> heroku-config\n=> heroku-fork@4.1.2\n=> heroku-git@2.4.5\n=> heroku-local@5.0.1\n=> heroku-orgs@1.0.7\n=> heroku-pipelines@1.1.3\n=> heroku-repo\n=> heroku-run@3.1.3\n=> heroku-spaces@2.1.2\n=> heroku-status@2.1.2\n```\n(installed a few minutes ago from https://devcenter.heroku.com/toolbelt-downloads/osx)\n. ",
    "cdwort": "Hey @jon-ga @halilim , \nThanks for bringing this to our attention. We found a recently introduced bug in the API behind this command. We expect a fix to be released in the next day, and when that happens, the command will be fixed for you without any updates to the CLI.\nIn the mean time, running this command for an individual app should work as normal, e.g. heroku addons:open newrelic --app my-app, although that may not get you the information you need.\nThank you again for bringing this to our attention.\n. I was also not asked for my 2FA key when removing said drain.\n. ",
    "Robert-Janagap": "hey @dickeyxxx thanks a lot for the link. It works 100%. https://devcenter.heroku.com/articles/using-the-cli#using-an-http-proxy\n. ",
    "rafareyes7": "Yes, I'm trying to avoid the setup install the Ruby 1.9.3 because I'm running the 2.1.5 so I've downloaded the Heroku Client (Standalone - \"https://s3.amazonaws.com/assets.heroku.com/heroku-client/heroku-client.tgz\"), extract the files in C:\\Program Files (x86)\\Heroku and add it to the PATH. following the post http://stackoverflow.com/questions/12947936/installing-heroku-client-only-and-not-the-other-things.\n. =( so how can I make it works on Windows? Is there any solution?\n. I Just did it, so I try to login and I get the same result..\nRafael@rr7 MINGW64 ~/Development/RubyOnRails/chef_blog (master)\n$ heroku version\nheroku/toolbelt/3.41.5 (i386-mingw32) ruby/1.9.3\nYou have no installed plugins.\nRafael@rr7 MINGW64 ~/Development/RubyOnRails/chef_blog (master)\n$ heroku login\n. Here's my PATH: \n%SystemRoot%\\system32;%SystemRoot%;%SystemRoot%\\System32\\Wbem;%SYSTEMROOT%\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\nodejs\\;C:\\Program Files (x86)\\Heroku\\bin;C:\\Program Files (x86)\\git\\cmd\nThere's something wrong that I should set up?\n. ",
    "gerep": "How is it that with a different Ruby version the tests are failing this way?\n. Anyone?\n. @dickeyxxx OK, got it, thanks for the heads up!\n. ",
    "phuongnd08": "Thank you.\n. ",
    "ErikEvenson": "Bumping this as this is a serious time-killer.\n. Moving this to https://github.com/heroku/heroku-cli/issues/92.\n. 3.42.16 fixed my problem.  Thanks @dickeyxxx .\n. ",
    "raimo": "+1 This is a serious problem that really needs to get fixed.\n. ",
    "phaddius": "+1 me too\n. ",
    "liron00": "A great workaround is to use Node Foreman's \"nf start\" to run your Heroku app locally.\nhttps://coderwall.com/p/qdluuq/node-js-node-foreman\nBasically nf start is identical to heroku local but prints the full log.\n. ",
    "MaxPleaner": "Seconding this, and also tried multiple fixes including changing the RAILS_ENV environment variable to development as well as changing the LOG_LEVEL environment level to debug or info. Nothing has any effect. \n. ",
    "chkuendig": "@liron00's workaround works perfect, but still annoying that heroku local doesn't cover this\n. ",
    "nodeit": "+1 \n. ",
    "RGafiyatullin": "@liron00 , many thanks!\n. ",
    "phaefele": "Also happens if  I specify \"gray\" on command line\n. I in the end simply decided to use AWS rather than Heroku, so this was not\nan issue any longer.\nOn Sat, Aug 27, 2016 at 10:07 PM, Ransom Briggs notifications@github.com\nwrote:\n\n@abhinav118 https://github.com/abhinav118 Could you file a ticket at\nsupport.heroku.com ? It can then be handled by the proper team within\nheroku.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/heroku/heroku/issues/1725#issuecomment-242951665, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AFj9BTuzWBe-C59rqocTX2BYdHbLuO2zks5qkO1fgaJpZM4F9qhA\n.\n\n\nPaul Haefele\nWork: paul@cliftoncm.com     Personal: paul@haefele.org\nWork: +1-800-647-2176 x 303     Cel: +1-416-902-6326\nca.linkedin.com/in/phaefele/\n. ",
    "abhinav118": "any update on this ticket?\nsql: could not connect to server: Connection refused\n    Is the server running on host \"ec2-xxxx.compute-1.amazonaws.com\"  and accepting\n    TCP/IP connections on port 5432?\n. ",
    "dmcinnes": "Awesome! +1\n. ",
    "garyposter": "@bjeanes @mattreduce @dickeyxxx is the 0.08% drop in coverage enough to block this?  If so, could one of you top that up quickly?  I'd really love to see this merged and closed ASAP.  Thank you!\n. Awesome thank you @mathias and @dickeyxxx !\n. @rdsharma (quote from @ransombriggs) \"that has been ported to v3 and fixed in v3, so unless someone has a setup that has not transitioned at all from the Ruby code, they should not hit this.\" Do we need to address this in the v2 code as well?\n/cc @da3da1us . Thanks for the data @rdsharma. \nOn the one hand, I think we're cool with merging and releasing. I'm verifying with @ransombriggs and @dickeyxxx that we can just go ahead and do this.\nOn the other hand, IMO we actually really don't want Support encouraging people to stick with v2. Keeping them on the old codebase will cause more support problems down the road, when we could remind them to migrate now. \nThe reason I'm cool with merging and releasing is because I want customers who encounter troubles migrating to be able to have a way to stick with the old code in an emergency. In that case, Support should emphasize that the affected customers are using old, unsupported code, and they should make an effort to migrate ASAP.\nDo you buy that? If so, will you be the one advising support on this, or should we reach out?\nI believe Ransom and Jeff are out for the day, and I'm out now, so this may not wrap up till tomorrow.. @dickeyxxx yes, we are talking CLI, but this is about support.\nAIUI, Security is going to kill the old URL within a week or two. That will stop the problem! \nBut Security wants Support to be able to have a good answer to give customers who write in to complain about the CLI after the URL has been shut down. Our strongly preferred answer is that they upgrade the CLI to the Node version. If they can't for some reason, perhaps because they are rarely but importantly using an old local Ruby plugin, then Security wants Support to have a short-term, unsupported option of using this old code, while they migrate.\nThanks to @ransombriggs who has now merged and is making a release.. ",
    "gulopine": "I had wondered about the Node side of things, but I didn't see any prior art there for the tunneling behavior, so I started here. pg-extras does seem like a better place for this to live, though it doesn't look like there's been much activity over there lately. I'm happy to drop this PR and move it to pg-extras until there's a clear place to put a Node version of it instead.\n. ",
    "intellisense": "@dickeyxxx This is not fixed. I have just encountered the same error.\n. ",
    "ducnvhn": "having same eror. cannot run any heroku command (include heroku version) . This is what I get trying to run heroku in mysgit : \n\n. hi Dickey. \nbellow is my heroku.bat in C:\\Program Files (x86)\\Heroku\\bin\n:: Don't use ECHO OFF to avoid possible change of ECHO\n:: Use SETLOCAL so variables set in the script are not persisted\n@SETLOCAL\n:: Add bundled ruby version to the PATH, use HerokuPath as starting point\n@SET HEROKU_RUBY=\"%HerokuPath%\\ruby-1.9.3\\bin\"\n@SET PATH=%HEROKU_RUBY%;%PATH%;%ProgramFiles(x86)%\\Git\\bin\n:: Invoke 'heroku' (the calling script) as argument to ruby.\n:: Also forward all the arguments provided to it.\n@ruby.exe \"%~dpn0\" %*\nI have tried re-install heroku several times but still not working. \ntried to run heroku from windows cmd and it hang at \"Setting up node-v4.1.1..... \"\n. Thank you Dickey . \nNow Heroku toolbelt works nicely with my Git Bash. \n. Thanks Dickey, \nit's working on my machine now. \n. ",
    "joshijimit": "Working fine now. May I know the root cause please.\n. ",
    "wireddown": "Thanks. I can confirm that my client has been repaired.\n```\n$ mv ~/.heroku/client ~/.heroku/client2\n$ heroku login\nerror loading plugin topics\nerror loading plugin commands\nEnter your Heroku credentials.\nEmail: xxxx@yyy.ddd\nPassword (typing will be hidden):\nTwo-factor code: xxxxxx\nAuthentication successful.\nupdating...done. Updated to 3.42.15\n$ heroku version\nheroku/toolbelt/3.42.15 (i386-mingw32) ruby/1.9.3\nheroku-cli/4.24.4-d580541 (386-windows) go1.5.1\n=== Installed Plugins\nheroku-apps@0.2.2\nheroku-cli-addons@0.0.1\nheroku-fork@3.1.4\nheroku-git@2.4.1\nheroku-local@4.1.3\nheroku-run@2.7.1\nheroku-status@1.2.1\n```\n. ",
    "learning": "I got this error too.\nError:       read timeout reached (Excon::Errors::Timeout)\nCommand:     heroku login\nVersion:     heroku-toolbelt/3.42.15 (x86_64-darwin10.8.0) ruby/1.9.3\nError ID:    da10bfd8f16540959bc4d102e5965ddb\nerror log:\nHeroku client internal error.\nread timeout reached\n/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/socket.rb:299:in `raise_timeout_error'\n/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/socket.rb:178:in `rescue in read_nonblock'\n/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/socket.rb:165:in `read_nonblock'\n/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/socket.rb:35:in `read'\n/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/response.rb:140:in `parse'\n/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/middlewares/response_parser.rb:6:in `response_call'\n/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/connection.rb:372:in `response'\n/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/connection.rb:236:in `request'\n/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon.rb:229:in `get'\n/usr/local/heroku/lib/heroku/jsplugin.rb:129:in `setup'\n/usr/local/heroku/lib/heroku/cli.rb:23:in `start'\n/usr/local/bin/heroku:24:in `<main>'\nAnd I try to debug it...\n```\nGeneric non-persistent HTTP methods\nHTTP_VERBS.each do |method|\n  module_eval <<-DEF, FILE, LINE + 1\n    def #{method}(url, params = {}, &block)\n      puts url # print the url\n      new(url, params).request(:method => :#{method}, &block)\n    end\n  DEF\nend\n```\nI found this url cause the error:\nhttps://api.rollbar.com/api/1/item/\nThe params body is\n{\n  \"access_token\": \"488f0c3af3d6450cb5b5827c8099dbff\",\n  \"data\": {\n    \"platform\": \"client\",\n    \"environment\": \"production\",\n    \"code_version\": \"3.42.15\",\n    \"client\": {\n      \"platform\": \"x86_64-darwin10.8.0\",\n      \"ruby\": \"1.9.3\"\n    },\n    \"request\": {\n      \"command\": \"login\"\n    },\n    \"body\": {\n      \"trace\": {\n        \"frames\": [{\n          \"filename\": \"/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/ssl_socket.rb\",\n          \"lineno\": 120,\n          \"method\": \"connect_nonblock\"\n        }, {\n          \"filename\": \"/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/ssl_socket.rb\",\n          \"lineno\": 120,\n          \"method\": \"initialize\"\n        }, {\n          \"filename\": \"/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/connection.rb\",\n          \"lineno\": 387,\n          \"method\": \"new\"\n        }, {\n          \"filename\": \"/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/connection.rb\",\n          \"lineno\": 387,\n          \"method\": \"socket\"\n        }, {\n          \"filename\": \"/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/connection.rb\",\n          \"lineno\": 106,\n          \"method\": \"request_call\"\n        }, {\n          \"filename\": \"/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/middlewares/decompress.rb\",\n          \"lineno\": 11,\n          \"method\": \"request_call\"\n        }, {\n          \"filename\": \"/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/middlewares/mock.rb\",\n          \"lineno\": 47,\n          \"method\": \"request_call\"\n        }, {\n          \"filename\": \"/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/middlewares/instrumentor.rb\",\n          \"lineno\": 22,\n          \"method\": \"request_call\"\n        }, {\n          \"filename\": \"/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/middlewares/base.rb\",\n          \"lineno\": 15,\n          \"method\": \"request_call\"\n        }, {\n          \"filename\": \"/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/middlewares/base.rb\",\n          \"lineno\": 15,\n          \"method\": \"request_call\"\n        }, {\n          \"filename\": \"/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/middlewares/base.rb\",\n          \"lineno\": 15,\n          \"method\": \"request_call\"\n        }, {\n          \"filename\": \"/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon/connection.rb\",\n          \"lineno\": 233,\n          \"method\": \"request\"\n        }, {\n          \"filename\": \"/usr/local/heroku/vendor/gems/excon-0.45.4/lib/excon.rb\",\n          \"lineno\": 231,\n          \"method\": \"get\"\n        }, {\n          \"filename\": \"/usr/local/heroku/lib/heroku/jsplugin.rb\",\n          \"lineno\": 129,\n          \"method\": \"setup\"\n        }, {\n          \"filename\": \"/usr/local/heroku/lib/heroku/cli.rb\",\n          \"lineno\": 23,\n          \"method\": \"start\"\n        }, {\n          \"filename\": \"/usr/local/bin/heroku\",\n          \"lineno\": 24,\n          \"method\": \"<main>\"\n        }],\n        \"exception\": {\n          \"class\": \"Excon::Errors::SocketError\",\n          \"message\": \"SSL_connect SYSCALL returned=5 errno=0 state=SSLv2/v3 read server hello A (OpenSSL::SSL::SSLError)\"\n        }\n      }\n    }\n  }\n}\nThere's no connection problem when access to https://api.rollbar.com/api/1/item/\n$ curl https://api.rollbar.com/api/1/item/\n{\n  \"err\": 1,\n  \"message\": \"access token required\"\n}%\n. Yes, every time is timeout, toolbelt 3.42.15 works well, but what's wrong with v4?\n. Hey @gmahajan31 , I add this to /usr/local/heroku/lib/heroku/jsplugin.rb before line 129, and now toolbelt v4 has been installed.\nruby\nExcon.defaults[:read_timeout] = 3600\n. Maybe it's cause by cloudfront? Are they deploy some nodes in China or Asia? My location is Beijing, China.\nBut, toolbelt v3 works fine...\ntime curl https://cli-assets.heroku.com/master/4.25.2-beb750a/darwin/amd64/heroku-cli > /dev/null\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100 8183k  100 8183k    0     0   464k      0  0:00:17  0:00:17 --:--:--  606k\ncurl  > /dev/null  0.06s user 0.08s system 0% cpu 17.643 total\n. ",
    "TimAstier": "I am also in Beijing, China and have the same timeout error\nEdit: It worked this morning \n. ",
    "saadbinakhlaq": "I am still getting this error, I have increased the timeout but still there are errors, I did increase the timeout in jsplugin.rb file, but no success\nopts = excon_opts.merge(\n      :middlewares  => Excon.defaults[:middlewares] + [Excon::Middleware::Decompress],\n      :read_timeout => 3600,\n    )\n. Hey @dickeyxxx I tried once again and finally it did get upgraded. Thanks\n. @rneha725 did you increate the timeout in jsplugin.rb\nopts = excon_opts.merge(\n      :middlewares  => Excon.defaults[:middlewares] + [Excon::Middleware::Decompress],\n      :read_timeout => 3600,\n    )\n. ",
    "liango2": "I am in Nanjing, China and I got this error too.\n``\nF:\\l\\c\\c\\c>heroku create --stack cedar\nheroku-cli: Installing Toolbelt v4...connect timeout reached\nC:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/excon-0.45.4/lib/excon/socket.rb:139:inrescue in block in connect'\nC:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/excon-0.45.4/lib/excon/socket.rb:119:in block in connect'\nC:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/excon-0.45.4/lib/excon/socket.rb:110:ineach'\nC:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/excon-0.45.4/lib/excon/socket.rb:110:in connect'\nC:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/excon-0.45.4/lib/excon/ssl_socket.rb:148:inconnect'\nC:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/excon-0.45.4/lib/excon/socket.rb:28:in initialize'\nC:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/excon-0.45.4/lib/excon/ssl_socket.rb:8:ininitialize'\nC:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/excon-0.45.4/lib/excon/connection.rb:387:in new'\nC:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/excon-0.45.4/lib/excon/connection.rb:387:insocket'\nC:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/excon-0.45.4/lib/excon/connection.rb:106:in request_call'\nC:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/excon-0.45.4/lib/excon/middlewares/mock.rb:47:inrequest_call'\nC:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/excon-0.45.4/lib/excon/middlewares/instrumentor.rb:22:in request_call'\nC:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/excon-0.45.4/lib/excon/middlewares/base.rb:15:inrequest_call'\nC:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/excon-0.45.4/lib/excon/middlewares/base.rb:15:in request_call'\nC:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/excon-0.45.4/lib/excon/middlewares/base.rb:15:inrequest_call'\nC:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/excon-0.45.4/lib/excon/connection.rb:233:in request'\nC:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/excon-0.45.4/lib/excon.rb:229:inget'\nC:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/heroku-3.42.24/lib/heroku/jsplugin.rb:231:in manifest'\nC:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/heroku-3.42.24/lib/heroku/jsplugin.rb:244:inurl'\nC:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/heroku-3.42.24/lib/heroku/jsplugin.rb:139:in setup'\nC:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/heroku-3.42.24/lib/heroku/cli.rb:24:instart'\nC:/RailsInstaller/Ruby2.1.0/lib/ruby/gems/2.1.0/gems/heroku-3.42.24/bin/heroku:17:in <top (required)>'\nC:/RailsInstaller/Ruby2.1.0/bin/heroku:23:inload'\nC:/RailsInstaller/Ruby2.1.0/bin/heroku:23:in `'\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       connect timeout reached (Excon::Errors::Timeout)\nCommand:     heroku create --stack cedar\nHTTP Proxy:  http://localhost:8580\nVersion:     heroku-gem/3.42.24 (i386-mingw32) ruby/2.1.5\n\n\nMore information in C:/Users/liango/.heroku/error.log\n\n```\n. ",
    "neekey": "Location Hangzhou China, seems like it needs hours to download:\n```\ntime curl https://cli-assets.heroku.com/master/4.25.2-beb750a/darwin/amd64/heroku-cli > /dev/null\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n  0 8183k    0 51814    0     0    433      0  5:22:33  0:01:59  5:20:34     0\n```\n. ",
    "rneha725": "Delhi, India\nSame error:\nError:       connect timeout reached (Excon::Errors::Timeout)\nCommand:     heroku login\nHTTP Proxy:  http://172.6.1.1:8080\nHTTPS Proxy: https://172.6.1.1:8080\nVersion:     heroku/toolbelt/3.42.45 (i386-mingw32) ruby/2.1.7\n. ",
    "niftynei": "Updated and fixed. Thanks!\n. ",
    "bobzoller": "same here for an existing heroku-cli:\n~ $ which heroku\n/app/vendor/heroku-toolbelt/bin/heroku\n~ $ heroku -v\nInstalling core plugins heroku-cli-addons, heroku-apps, heroku-fork, heroku-git, heroku-local, heroku-run, heroku-status... done\nerror loading plugin commands\nsh: 1: /app/.heroku/heroku-cli: not found\nerror loading plugin topics\nsh: 1: /app/.heroku/heroku-cli: not found\nerror loading plugin commands\n !    `-v` is not a heroku command.\n !    Perhaps you meant `-h`.\n !    See `heroku help` for a list of available commands.\n```\n~ $ heroku --version\nInstalling Heroku Toolbelt v4... done.\nFor more information on Toolbelt v4: https://github.com/heroku/heroku-cli\nerror loading plugin commands\nsh: 1: /app/.heroku/heroku-cli: not found\nerror loading plugin topics\nsh: 1: /app/.heroku/heroku-cli: not found\nerror loading plugin commands\nheroku-toolbelt/3.42.15 (x86_64-linux) ruby/1.9.3\nsh: 1: /app/.heroku/heroku-cli: not found\nsh: 1: /app/.heroku/heroku-cli: not found\n=== Installed Plugins\nheroku-exit-status\n``\n. I did anrm -rf ~/.herokuand then triedheroku --version` again:\n```\n$ heroku --version\nInstalling Heroku Toolbelt v4... done.\nFor more information on Toolbelt v4: https://github.com/heroku/heroku-cli\nSetting up node-v4.1.1...done\nInstalling core plugins heroku-cli-addons, heroku-apps, heroku-fork, heroku-git, heroku-local, heroku-run, heroku-status... done\nerror loading plugin commands\nsh: 1: /app/.heroku/heroku-cli: not found\nerror loading plugin topics\nsh: 1: /app/.heroku/heroku-cli: not found\nerror loading plugin commands\nheroku-toolbelt/3.42.15 (x86_64-linux) ruby/1.9.3\nsh: 1: /app/.heroku/heroku-cli: not found\n$ cat ~/.heroku/error.log \n2015/10/08 17:33:03 running from /app/.heroku/heroku-cli\n2015/10/08 17:33:03 Setting up node-v4.1.1...\n2015/10/08 17:33:12 done\n2015/10/08 17:33:12 Installing core plugins heroku-cli-addons, heroku-apps, heroku-fork, heroku-git, heroku-local, heroku-run, heroku-status...\n2015/10/08 17:33:49  done\n``\n. (I'm doing this on a cedar-14 dyno, BTW... if that helps you reproduce it)\n. so I've got3.42.15` installed.  your change /did/ fix it, but I still get errors after it updates the core plugins:\n```\n~ $ heroku --version\nInstalling core plugins heroku-cli-addons, heroku-apps, heroku-fork, heroku-git, heroku-local, heroku-run, heroku-status... done\nerror loading plugin commands\nsh: 1: /app/.heroku/heroku-cli: not found\nerror loading plugin topics\nsh: 1: /app/.heroku/heroku-cli: not found\nerror loading plugin commands\nheroku-toolbelt/3.42.15 (x86_64-linux) ruby/1.9.3\nsh: 1: /app/.heroku/heroku-cli: not found\nsh: 1: /app/.heroku/heroku-cli: not found\n=== Installed Plugins\nheroku-exit-status\nUpdating Heroku CLI...done. Updated to 3.42.16\n~ $ heroku --version\nheroku-toolbelt/3.42.16 (x86_64-linux) ruby/1.9.3\nheroku-cli/4.25.2-beb750a (amd64-linux) go1.5.1\n=== Installed Plugins\nheroku-apps@0.3.0\nheroku-cli-addons@0.0.2\nheroku-exit-status\nheroku-fork@3.1.4\nheroku-git@2.4.1\nheroku-local@4.1.3\nheroku-run@2.7.1\nheroku-status@1.2.1\n``\n. the problem moving from3.42.15to3.42.16is the first command exits1` and my CI pipeline halts.  I'm upgrading the toolbelt now so I won't hit that case, but I'm sure others will.\n. ",
    "ivanyv": "Not in my case: \n2015/10/08 11:53:44 running from /Users/ivan/.heroku/heroku-cli\n2015/10/08 11:53:44 Setting up node-v4.1.1...\n2015/10/08 11:53:49 done\n2015/10/08 11:53:49 Installing core plugins heroku-cli-addons, heroku-apps, heroku-fork, heroku-git, heroku-local, heroku-run, heroku-status...\n2015/10/08 11:53:57  done\n2015/10/08 11:54:04 running from /Users/ivan/.heroku/heroku-cli\n2015/10/08 11:54:47 running from /Users/ivan/.heroku/heroku-cli\n2015/10/08 11:54:47 running from /Users/ivan/.heroku/heroku-cli\n2015/10/08 11:55:09 running from /Users/ivan/.heroku/heroku-cli\n2015/10/08 12:03:37 running from /Users/ivan/.heroku/heroku-cli\n. I also tried removing completely and I tried the gem, brew and pkg versions all with the same result.\n. Don't know if it's of any help but I recently upgraded node when I installed elixir (4.1.1).\n. Is it possible to install an old version and force it not to upgrade?\n. Oddly I had to run heroku help for it to finally install.\n. ",
    "iam--nash": "@poogasuki what have you done to fix this ? it might solve the error I encountered . Thanks!\n. @poogasuki thanks! other than that, have you not done something else to make it totally work?  \nif you have time please consider looking at my issue #1779 . It's been a week since then .. I'm frustrated already about this . hopefully I can fix it before November! :)\n. @dickeyxxx \nAfter running set GODE_DEBUG=info\nI am now getting this..\nnpm info using npm@2.14.7\nnpm info using node@v4.2.1\nnpm info attempt registry request try #1 at 9:50:00 PM\nnpm http request GET https://cli-npm.heroku.com/heroku-cli-addons\nnpm info attempt registry request try #1 at 9:50:00 PM\nnpm http request GET https://cli-npm.heroku.com/heroku-apps\nnpm info attempt registry request try #1 at 9:50:00 PM\nnpm http request GET https://cli-npm.heroku.com/heroku-fork\nnpm info attempt registry request try #1 at 9:50:00 PM\nnpm http request GET https://cli-npm.heroku.com/heroku-git\nnpm info attempt registry request try #1 at 9:50:00 PM\nnpm http request GET https://cli-npm.heroku.com/heroku-local\nnpm info attempt registry request try #1 at 9:50:00 PM\nnpm http request GET https://cli-npm.heroku.com/heroku-run\nnpm ERR! Windows_NT 10.0.10240\nnpm ERR! argv \"C:\\Users\\MyPC\\AppData\\Local\\heroku\\node-v4.2.1-windows-x86\\bin\\node.exe\" \"C:\\Users\\MyPC\\AppData\\Local\\heroku\\node-v4.2.1-windows-x86\\lib\\node_modules\\npm\\cli.js\" \"install\" \"heroku-cli-addons\" \" heroku-apps\" \"heroku-fork\" \"heroku-git\" \"heroku-local\" \"heroku-run\" \"heroku-status\" \"--loglevel=info\"\nnpm ERR! node v4.2.1\nnpm ERR! npm v2.14.7\nnpm ERR! error:0906D06C:PEM routines:PEM_read_bio:no start line\n. There is no output when I tried to run set GODE_DEBUG=info in cmd.\nI am not certain if i have an incorrect environment variables. but this is what's inside my path.\nC:\\Users\\Fernandez\\AppData\\Roaming\\npm\n. @dickeyxxx \nthe output that i posted a couple of hours ago was when i tried to run heroku command.\nafter running set GODE_DEBUG=info.\nbut before. i dont get that output . \n. upon checking my environment variable i don't see anything referencing to C:User .\nand sorry It's a typo that I type User instead of Users . I checked the output again .. \n. nope, I am not under a proxy .and I always make sure to turn off windows defender when doing this things, for it might affect the request.\n. @dickeyxxx what is really happening when I run set GODE_DEBUG=info ? It doesn't output anything. but the output when i tried to run any heroku command changed.\nI also think that, this is somehow related to issue #93 submitted by technicalpickles\n. @dickeyxxx after checking some other issues that might be related to my issue, I have found out on error #1543 .\nThat he has these following files which I dont have in my .heroku folder:\nclient folder\nusage folder\nautoupdate.last\nerror.log\nheroku-cli.exe.\nI only have the client folder .. what could have been my problem ? I haven't deleted any of those .\n. ",
    "poogasuki": "I'm sorry for din't mentioning the result and closing this post.\nThis should have been the Encoding problem.I fixed this by doing this.\nhttp://stackoverflow.com/questions/33029991/heroku-comannd-always-fails/33043592#33043592\nI hope this might help you.\n. @iam--nash Sorry, nothing else i have done. all i did was, \n1. download \"heroku-toolbelt.exe\" form here  \"https://toolbelt.heroku.com/\".\n2. run the \"heroku-toolbelt.exe\" and it was installed into \"C:\\Program Files (x86)\\Heroku\".\n3. to confirm if it was installed collectly, i entered \"heroku --version\" on the command line.\n4. and i get the error message as i mentioned at \"http://stackoverflow.com/questions/33029991/heroku-comannd-always-fails/33043592#33043592\".\n5. so i fixed that problem, and \"heroku\" comannd worked well.\ni also see the  issue #1779, i have no idea about that. i'm sorry for i can't help you.\n. ",
    "NullVoxPopuli": "What I used to uninstall: sudo apt-get purge heroku*\nTo install: wget -O- https://toolbelt.heroku.com/install-ubuntu.sh | sh from https://toolbelt.heroku.com/\nOutput:\nPreparing to unpack .../heroku-toolbelt_3.42.17_all.deb ...\nUnpacking heroku-toolbelt (3.42.17) ...\nSetting up heroku (3.42.17) ...\nSetting up heroku-toolbelt (3.42.17) ...\nand then when I run the command again, I get the same error.\nDid I miss something?\nI decided to check out both repos -- this one and https://github.com/heroku/toolbelt\nand noticed some differences from what the toolbelt is developed for / what I'm running.\nNot sure if any of these could contribute to the error, but at the very least I found them interesting\nThe toolbelt is only set up for Ruby 2.1.5 I'm using Ruby 2.2.2 (Travis should probably be updated to test the same rubies as the heroku is set up for?)\nIn the toolbelt gem, Excon isn't a dependency (it is for specs though).\nFor this gem, excon is not a dependency at all (maybe that's why there are name errors?)\nhttps://rubygems.org/gems/heroku\nbut idk. Maybe I'm missing something. Some gems have some pretty funky setups.\n. oh ok.\nJust keeping record here, in case someone else runs across this problem.\n$ which heroku\n/usr/local/heroku/bin/heroku\n$ sudo apt-get purge heroku*\n...\ndpkg: warning: while removing heroku, directory '/usr/local/heroku/vendor/gems' not empty so not removed\nI didn't notice that warning before -- that probably has something to do with it. \nwhich heroku\nreturns nothing.\nSo, I guess I'll remove the heroku directory in /usr/local -- since it has a gems folder, it's possible that folder was keeping the old version of excon around.\nBut real quick, lets see what's in that directory:\n$ ls /usr/local/heroku/vendor/gems/\nexcon-0.25.3  heroku-api-0.3.15  launchy-2.3.0\nboom - oldish version of excon\nsudo rm -rf /usr/local/heroku/ to be safe.\ninstalling again via wget -O- https://toolbelt.heroku.com/install-ubuntu.sh | sh\nChecking out the heroku gem directory, cause I'm curious:\nls /usr/local/heroku/vendor/gems/\naddressable-2.3.8  heroku-api-0.3.23  mime-types-1.25.1  netrc-0.10.3   net-ssh-gateway-1.2.0  rest-client-1.6.8\nexcon-0.45.4       launchy-2.4.3      multi_json-1.11.2  net-ssh-2.9.2  rdoc-4.2.0             rubyzip-1.1.7\nhey! a newer excon. yay\nNow I rerun the command, and it looks like all is well. Thanks! \n. It's cool. It got figured out :-)\n. ",
    "chanducky": "Able to login after change in batch file from program file(X86) to Program File\n. ",
    "katmai": "I am running the dev env on centos5 with the default ssl. \n. alright i upgraded to ruby 2.2.3 since i am running it in rvm anyway so it doesn't impact the system and it fixed it:\n[root@SG1 ~]# ruby -v\nruby 2.2.3p173 (2015-08-18 revision 51636) [x86_64-linux]\npretty odd tho, i thought 1.9.3 wasn't that old.\nthanks a bunch .\n. ",
    "jsullivan": "LGTM\n. I added one more commit to this PR after @dickeyxxx and I remembered that we still need to specify version 3 for any requests that return information about spaces and org apps. Might be worth a final once over before merging this in. \nOther than that, the platform api deploy that was blocking this PR is done so this can be merged whenever.\n. ",
    "Bigcountry425": "David bigcountry wardlaw, won't to say. You might want to check your infrastructure being you running with codes it maybe code is wrong or platform could be needed to be restarted. \nBetween both they might not be lining up to gather or you might be able to shout it all down and let reboot together. and user  I would used (   users. ).thanks for letting me comment David bigcountry wardlaw \n. ",
    "ryanwjackson": "I did, let's see if that works.  No real way to tell as I couldn't find a way to reproduce, it just happened on update \"randomly.\"  Will post here if it happens again.\n. ",
    "ichar": "I've tried to check with non-cyrillic username (local account) - works. My native name russian.\n. Thank you. I will try.\n----- Original Message ----- \n  From: Ransom Briggs \n  To: heroku/heroku \n  Cc: Igor Kharlamov \n  Sent: Tuesday, December 08, 2015 11:24 PM\n  Subject: Re: [heroku] Login error (Windows-1252) (#1785)\n@ichar I just pushed an update to https://toolbelt.heroku.com/ that should fix your problem with a windows username in cyrillics\n\u2014\n  Reply to this email directly or view it on GitHub.\n. ",
    "Matroskin94": "The reason was in Cyrillics symbols in path to folder .heroku, I had windows username in cyrillics, so I create new temporary windows user as administrator, then change my real windows username to latin and now seccessfuly using heroku.\n. ",
    "bzvyagintsev": "\u0414\u043b\u044f \u0440\u0443\u0441\u0441\u043a\u043e\u0433\u043e\u0432\u043e\u0440\u044f\u0449\u0435\u0439 \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u0438. \u0423 \u043a\u043e\u0433\u043e \u043f\u0440\u0438 \u043b\u044e\u0431\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u0435 heroku \u0432\u044b\u0434\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0443 \u043a\u043e\u0434\u0438\u0440\u043e\u0432\u043a\u0438 Windows 1252 (Encoding::UndefinedConversionError):\n\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u0443\u0439\u0442\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438 \u0435\u0433\u043e \u043f\u0430\u043f\u043a\u0443 windows, \u0447\u0442\u043e\u0431\u044b \u0432 \u0438\u043c\u0435\u043d\u0438 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043b\u0438\u0441\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b, \u0438 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u043e\u043f\u0430\u0434\u0435\u0442. \n\u041f\u0440\u0438 \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0438 \u043f\u0430\u043f\u043a\u0438, \u043d\u0443\u0436\u043d\u043e \u0432\u043d\u0435\u0441\u0442\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0440\u0435\u0433\u0438\u0441\u0442\u0440. \u0418\u0449\u0438\u0442\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044e \u0432 \u0433\u0443\u0433\u043b\u0435 \"\u041a\u0430\u043a \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f windows 7\"\n. ",
    "jkdf2": "I'm having this problem. I had set up Heroku to use SSH exclusively, identically to @edmorley. Fixed it by removing the setting, but I can't imagine I'm the only one who would get stuck like this. Happy to provide any details you need in order to correct this issue permanently.\n. That's very strange - after resetting with git config --global --remove-section url.ssh://git@heroku.com/, even after setting git config --global url.ssh://git@heroku.com/.insteadOf https://git.heroku.com/ again, I cannot reproduce the problem.\nSorry for the trouble.\n. ",
    "bestori": "Please provide contents of your local C:/Users/Administrator/.heroku/error.log :)\n. ",
    "TDaglis": "thanks :+1: \n. ",
    "namxam": "Thnx. Haven't thought of that :cry: \n. ",
    "coventry": "Hmm... I can't reproduce it now.  I could hit it with wget, and apt-key even worked at the CL.  It was only in the ansible script where it it was failing.\n. ",
    "mountwe": "Hello, I have the same problem when I download a getting-started directory and do \"heroku create\"  This is my answer to your question. Note running on WIndows 7 Pro 64-bit.\nheroku/toolbelt/3.42.22 (i386-mingw32) ruby/2.1.7\nheroku-cli/4.27.6-e59743f (386-windows) go1.5.1\n=== Installed Plugins\nheroku-apps@0.5.4\nheroku-cli-addons@0.1.1\nheroku-fork@4.0.0\nheroku-git@2.4.3\nheroku-local@4.1.5\nheroku-run@2.9.2\nheroku-status@1.2.3\n. @dickeyxxx thanks for the suggestion. I have seen a couple of comments about Windows and netrc. I'll give it a try. It is most frustrating, trying to get ANY of the Heroku intro projects going. \n. ",
    "panozzaj": "Thanks for writing up this suggestion! I was running into the same problem for a few hours. I had a line in my .netrc that apparently was invalid. After moving it to another location, I didn't encounter the infinite login loop when trying to get the logs. Thanks again!\n. Possible dupe of https://github.com/heroku/heroku/issues/1801\n. ",
    "alexkreidler": "Some type of issue with .netrc, see #1836. . ",
    "MarkPieszak": "Apologies. I was trying it through CLI only reason I thought it was ok here.\nThanks, I'll make it there\n. ",
    "mhutter": "I observe the same problem on a fresh install of the heroku toolbelt on CentOS 7\n```\n$ heroku version\nheroku-cli: Installing Toolbelt v4... !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       SHA mismatch for heroku-cli (RuntimeError)\nCommand:     heroku version\nHTTP Proxy:  http://corporate.proxy:8080\nHTTPS Proxy: http://corporate.proxy:8080\nVersion:     heroku-toolbelt/3.42.37 (x86_64-linux) ruby/2.3.0\nError ID:    aeb6919219ad4294b056e0b9666b9d18\n\n\nMore information in /home/user/.heroku/error.log\n\n```\nand the .heroku/error.log:\nHeroku client internal error.\nSHA mismatch for heroku-cli\n/usr/local/heroku/lib/heroku/jsplugin.rb:146:in `setup'\n/usr/local/heroku/lib/heroku/cli.rb:27:in `start'\n/usr/local/heroku/bin/heroku:24:in `<main>'\nI have tried multiple times with different commands, to no avail.\nIs there a way to get the download URL so I can try downloading the file directly?\n. @ransombriggs thanks for the info. Using the manifest I was able to download the binary and verify it, no problems at all.\nI suspect our corporate proxy, which does SSL-scanning by performing a \"man in the middle\"-attack, to cause the problems. I'll probably be able to verify this next week (I requested *.heroku.com to be whitelisted from the scanning).\nI have noticed that heroku maintains its own CA certificates in ~/.heroku/. I tried to add our Proxy CA to that bundle, to no avail. It would be great if the Heroku client would instead use the OS'es CA certificates.\n. @ransombriggs that would be McAffee Web Gateway :-S\n. Whitelisting *.heroku.com did resolve the issue for me.\n. ",
    "creade": "I'm seeing the same thing on a flask app:\nforego | starting web.1 on port 5000\nweb.1  | [2016-01-27 10:22:34 -0800] [14241] [INFO] Starting gunicorn 19.3.0\nweb.1  | [2016-01-27 10:22:34 -0800] [14241] [INFO] Listening at: http://0.0.0.0:5000 (14241)\nweb.1  | [2016-01-27 10:22:34 -0800] [14241] [INFO] Using worker: sync\nweb.1  | [2016-01-27 10:22:34 -0800] [14244] [INFO] Booting worker with pid: 14244\nweb.1  | [2016-01-27 10:22:34 -0800] [14245] [INFO] Booting worker with pid: 14245\nweb.1  | [2016-01-27 10:22:35 -0800] [14246] [INFO] Booting worker with pid: 14246\nweb.1  | [2016-01-27 10:22:35 -0800] [14244] [ERROR] Exception in worker process:\nweb.1  | site-packages/gunicorn/app/wsgiapp.py\", line 65, in load\nweb.1  | t/cpt/department/views.py\", line 4, in <module>\nweb.1  | ate_constructor\nweb.1  | /Users/chrisreade/.virtualenvs/cpt/lib/python3.4/site-packages/sqlalchemy/orm/relationships.py\", line 1573, in _process_dependent_arguments\nweb.1  |  'user_department_relationship_table' is not defined\nweb.1  | line 355, in import_app\nweb.1  | efaults:\nweb.1  | configure_mappers()\nweb.1  | f.arg, n.args[0], self.cls)\nweb.1  | [2016-01-27 10:22:35 -0800] [14244] [INFO] Worker exiting (pid: 14244)\nweb.1  | [2016-01-27 10:22:35 -0800] [14245] [ERROR] Exception in worker process:\nweb.1  | site-packages/gunicorn/app/wsgiapp.py\", line 65, in load\nweb.1  | t/cpt/department/views.py\", line 4, in <module>\nweb.1  | ate_constructor\nforeman works as expected though.\n. ",
    "NoxHarmonium": "I am getting this with Node.js also.\nworker.1 | Warning: a promise was created in a handler but was not returned from it\nworker.1 | :77:13)\nVery strange.\n. ",
    "leonkidd": "Hi @ransombriggs , I have the same problem, could you please help me to fix it.\n. @ransombriggs Thanks. \nnpm info ok\nnpm info it worked if it ends with ok\nnpm info using npm@3.3.10\nnpm info using node@v5.7.1\nnpm info lifecycle wrappy@1.0.1~preuninstall: wrappy@1.0.1\nnpm info lifecycle wrappy@1.0.1~uninstall: wrappy@1.0.1\nnpm info lifecycle wrappy@1.0.1~postuninstall: wrappy@1.0.1\nnpm info lifecycle validator@4.8.0~preuninstall: validator@4.8.0\nnpm info lifecycle validator@4.8.0~uninstall: validator@4.8.0\nnpm info lifecycle validator@4.8.0~postuninstall: validator@4.8.0\nnpm info lifecycle url-parse-lax@1.0.0~preuninstall: url-parse-lax@1.0.0\nnpm info lifecycle url-parse-lax@1.0.0~uninstall: url-parse-lax@1.0.0\nnpm info lifecycle url-parse-lax@1.0.0~postuninstall: url-parse-lax@1.0.0\nnpm info lifecycle unzip-response@1.0.0~preuninstall: unzip-response@1.0.0\nnpm info lifecycle unzip-response@1.0.0~uninstall: unzip-response@1.0.0\nnpm info lifecycle unzip-response@1.0.0~postuninstall: unzip-response@1.0.0\nnpm info lifecycle tunnel-agent@0.4.2~preuninstall: tunnel-agent@0.4.2\nnpm info lifecycle tunnel-agent@0.4.2~uninstall: tunnel-agent@0.4.2\nnpm info lifecycle tunnel-agent@0.4.2~postuninstall: tunnel-agent@0.4.2\nnpm info lifecycle timed-out@2.0.0~preuninstall: timed-out@2.0.0\nnpm info lifecycle timed-out@2.0.0~uninstall: timed-out@2.0.0\nnpm info lifecycle timed-out@2.0.0~postuninstall: timed-out@2.0.0\nnpm info lifecycle through@2.3.8~preuninstall: through@2.3.8\nnpm info lifecycle through@2.3.8~uninstall: through@2.3.8\nnpm info lifecycle through@2.3.8~postuninstall: through@2.3.8\nnpm info lifecycle supports-color@2.0.0~preuninstall: supports-color@2.0.0\nnpm info lifecycle supports-color@2.0.0~uninstall: supports-color@2.0.0\nnpm info lifecycle supports-color@2.0.0~postuninstall: supports-color@2.0.0\nnpm info lifecycle strip-ansi@3.0.1~preuninstall: strip-ansi@3.0.1\nnpm info lifecycle strip-ansi@3.0.1~uninstall: strip-ansi@3.0.1\nnpm info lifecycle strip-ansi@3.0.1~postuninstall: strip-ansi@3.0.1\nnpm info lifecycle string-width@1.0.1~preuninstall: string-width@1.0.1\nnpm info lifecycle string-width@1.0.1~uninstall: string-width@1.0.1\nnpm info lifecycle string-width@1.0.1~postuninstall: string-width@1.0.1\nnpm info lifecycle string-just@0.0.2~preuninstall: string-just@0.0.2\nnpm info lifecycle string-just@0.0.2~uninstall: string-just@0.0.2\nnpm info lifecycle string-just@0.0.2~postuninstall: string-just@0.0.2\nnpm info lifecycle string@3.3.1~preuninstall: string@3.3.1\nnpm info lifecycle string@3.3.1~uninstall: string@3.3.1\nnpm info lifecycle string@3.3.1~postuninstall: string@3.3.1\nnpm info lifecycle strftime@0.9.2~preuninstall: strftime@0.9.2\nnpm info lifecycle strftime@0.9.2~uninstall: strftime@0.9.2\nnpm info lifecycle strftime@0.9.2~postuninstall: strftime@0.9.2\nnpm info lifecycle shell-escape@0.2.0~preuninstall: shell-escape@0.2.0\nnpm info lifecycle shell-escape@0.2.0~uninstall: shell-escape@0.2.0\nnpm info lifecycle shell-escape@0.2.0~postuninstall: shell-escape@0.2.0\nnpm info lifecycle rx-lite@3.1.2~preuninstall: rx-lite@3.1.2\nnpm info lifecycle rx-lite@3.1.2~uninstall: rx-lite@3.1.2\nnpm info lifecycle rx-lite@3.1.2~postuninstall: rx-lite@3.1.2\nnpm info lifecycle run-async@0.1.0~preuninstall: run-async@0.1.0\nnpm info lifecycle run-async@0.1.0~uninstall: run-async@0.1.0\nnpm info lifecycle run-async@0.1.0~postuninstall: run-async@0.1.0\nnpm info lifecycle restore-cursor@1.0.1~preuninstall: restore-cursor@1.0.1\nnpm info lifecycle restore-cursor@1.0.1~uninstall: restore-cursor@1.0.1\nnpm info lifecycle restore-cursor@1.0.1~postuninstall: restore-cursor@1.0.1\nnpm info lifecycle readline2@1.0.1~preuninstall: readline2@1.0.1\nnpm info lifecycle readline2@1.0.1~uninstall: readline2@1.0.1\nnpm info lifecycle readline2@1.0.1~postuninstall: readline2@1.0.1\nnpm info lifecycle q@1.4.1~preuninstall: q@1.4.1\nnpm info lifecycle q@1.4.1~uninstall: q@1.4.1\nnpm info lifecycle q@1.4.1~postuninstall: q@1.4.1\nnpm info lifecycle printf@0.2.3~preuninstall: printf@0.2.3\nnpm info lifecycle printf@0.2.3~uninstall: printf@0.2.3\nnpm info lifecycle printf@0.2.3~postuninstall: printf@0.2.3\nnpm info lifecycle prepend-http@1.0.3~preuninstall: prepend-http@1.0.3\nnpm info lifecycle prepend-http@1.0.3~uninstall: prepend-http@1.0.3\nnpm info lifecycle prepend-http@1.0.3~postuninstall: prepend-http@1.0.3\nnpm info lifecycle inflection@1.3.8~preuninstall: inflection@1.3.8\nnpm info lifecycle inflection@1.3.8~uninstall: inflection@1.3.8\nnpm info lifecycle inflection@1.3.8~postuninstall: inflection@1.3.8\nnpm info lifecycle path-proxy@1.0.0~preuninstall: path-proxy@1.0.0\nnpm info lifecycle path-proxy@1.0.0~uninstall: path-proxy@1.0.0\nnpm info lifecycle path-proxy@1.0.0~postuninstall: path-proxy@1.0.0\nnpm info lifecycle opn@3.0.3~preuninstall: opn@3.0.3\nnpm info lifecycle opn@3.0.3~uninstall: opn@3.0.3\nnpm info lifecycle opn@3.0.3~postuninstall: opn@3.0.3\nnpm info lifecycle onetime@1.1.0~preuninstall: onetime@1.1.0\nnpm info lifecycle onetime@1.1.0~uninstall: onetime@1.1.0\nnpm info lifecycle onetime@1.1.0~postuninstall: onetime@1.1.0\nnpm info lifecycle once@1.3.3~preuninstall: once@1.3.3\nnpm info lifecycle once@1.3.3~uninstall: once@1.3.3\nnpm info lifecycle once@1.3.3~postuninstall: once@1.3.3\nnpm info lifecycle object-assign@4.0.1~preuninstall: object-assign@4.0.1\nnpm info lifecycle object-assign@4.0.1~uninstall: object-assign@4.0.1\nnpm info lifecycle object-assign@4.0.1~postuninstall: object-assign@4.0.1\nnpm info lifecycle number-is-nan@1.0.0~preuninstall: number-is-nan@1.0.0\nnpm info lifecycle number-is-nan@1.0.0~uninstall: number-is-nan@1.0.0\nnpm info lifecycle number-is-nan@1.0.0~postuninstall: number-is-nan@1.0.0\nnpm info lifecycle node-status-codes@2.0.0~preuninstall: node-status-codes@2.0.0\nnpm info lifecycle node-status-codes@2.0.0~uninstall: node-status-codes@2.0.0\nnpm info lifecycle node-status-codes@2.0.0~postuninstall: node-status-codes@2.0.\n0\nnpm info lifecycle mute-stream@0.0.5~preuninstall: mute-stream@0.0.5\nnpm info lifecycle mute-stream@0.0.5~uninstall: mute-stream@0.0.5\nnpm info lifecycle mute-stream@0.0.5~postuninstall: mute-stream@0.0.5\nnpm info lifecycle moment@2.11.1~preuninstall: moment@2.11.1\nnpm info lifecycle moment@2.11.1~uninstall: moment@2.11.1\nnpm info lifecycle moment@2.11.1~postuninstall: moment@2.11.1\nnpm info lifecycle lowercase-keys@1.0.0~preuninstall: lowercase-keys@1.0.0\nnpm info lifecycle lowercase-keys@1.0.0~uninstall: lowercase-keys@1.0.0\nnpm info lifecycle lowercase-keys@1.0.0~postuninstall: lowercase-keys@1.0.0\nnpm info lifecycle lodash@4.0.1~preuninstall: lodash@4.0.1\nnpm info lifecycle lodash@4.0.1~uninstall: lodash@4.0.1\nnpm info lifecycle lodash@4.0.1~postuninstall: lodash@4.0.1\nnpm info lifecycle is-stream@1.0.1~preuninstall: is-stream@1.0.1\nnpm info lifecycle is-stream@1.0.1~uninstall: is-stream@1.0.1\nnpm info lifecycle is-stream@1.0.1~postuninstall: is-stream@1.0.1\nnpm info lifecycle is-retry-allowed@1.0.0~preuninstall: is-retry-allowed@1.0.0\nnpm info lifecycle is-retry-allowed@1.0.0~uninstall: is-retry-allowed@1.0.0\nnpm info lifecycle is-retry-allowed@1.0.0~postuninstall: is-retry-allowed@1.0.0\nnpm info lifecycle is-redirect@1.0.0~preuninstall: is-redirect@1.0.0\nnpm info lifecycle is-redirect@1.0.0~uninstall: is-redirect@1.0.0\nnpm info lifecycle is-redirect@1.0.0~postuninstall: is-redirect@1.0.0\nnpm info lifecycle is-plain-obj@1.1.0~preuninstall: is-plain-obj@1.1.0\nnpm info lifecycle is-plain-obj@1.1.0~uninstall: is-plain-obj@1.1.0\nnpm info lifecycle is-plain-obj@1.1.0~postuninstall: is-plain-obj@1.1.0\nnpm info lifecycle is-fullwidth-code-point@1.0.0~preuninstall: is-fullwidth-code\n-point@1.0.0\nnpm info lifecycle is-fullwidth-code-point@1.0.0~uninstall: is-fullwidth-code-po\nint@1.0.0\nnpm info lifecycle is-fullwidth-code-point@1.0.0~postuninstall: is-fullwidth-cod\ne-point@1.0.0\nnpm info lifecycle lodash@4.6.1~preuninstall: lodash@4.6.1\nnpm info lifecycle lodash@4.6.1~uninstall: lodash@4.6.1\nnpm info lifecycle lodash@4.6.1~postuninstall: lodash@4.6.1\nnpm info lifecycle inquirer@0.12.0~preuninstall: inquirer@0.12.0\nnpm info lifecycle inquirer@0.12.0~uninstall: inquirer@0.12.0\nnpm info lifecycle inquirer@0.12.0~postuninstall: inquirer@0.12.0\nnpm info lifecycle inflection@1.8.0~preuninstall: inflection@1.8.0\nnpm info lifecycle inflection@1.8.0~uninstall: inflection@1.8.0\nnpm info lifecycle inflection@1.8.0~postuninstall: inflection@1.8.0\nnpm info lifecycle heroku-status@2.1.0~preuninstall: heroku-status@2.1.0\nnpm info lifecycle heroku-status@2.1.0~uninstall: heroku-status@2.1.0\nnpm info lifecycle heroku-status@2.1.0~postuninstall: heroku-status@2.1.0\nnpm info lifecycle heroku-spaces@2.0.14~preuninstall: heroku-spaces@2.0.14\nnpm info lifecycle heroku-spaces@2.0.14~uninstall: heroku-spaces@2.0.14\nnpm info lifecycle heroku-spaces@2.0.14~postuninstall: heroku-spaces@2.0.14\nnpm info lifecycle heroku-run@2.9.2~preuninstall: heroku-run@2.9.2\nnpm info lifecycle heroku-run@2.9.2~uninstall: heroku-run@2.9.2\nnpm info lifecycle heroku-run@2.9.2~postuninstall: heroku-run@2.9.2\nnpm info lifecycle heroku-pipelines@1.1.1~preuninstall: heroku-pipelines@1.1.1\nnpm info lifecycle heroku-pipelines@1.1.1~uninstall: heroku-pipelines@1.1.1\nnpm info lifecycle heroku-pipelines@1.1.1~postuninstall: heroku-pipelines@1.1.1\nnpm info lifecycle heroku-orgs@1.0.4~preuninstall: heroku-orgs@1.0.4\nnpm info lifecycle heroku-orgs@1.0.4~uninstall: heroku-orgs@1.0.4\nnpm info lifecycle heroku-orgs@1.0.4~postuninstall: heroku-orgs@1.0.4\nnpm info lifecycle heroku-local@4.1.7~preuninstall: heroku-local@4.1.7\nnpm info lifecycle heroku-local@4.1.7~uninstall: heroku-local@4.1.7\nnpm info lifecycle heroku-local@4.1.7~postuninstall: heroku-local@4.1.7\nnpm info lifecycle heroku-git@2.4.5~preuninstall: heroku-git@2.4.5\nnpm info lifecycle heroku-git@2.4.5~uninstall: heroku-git@2.4.5\nnpm info lifecycle heroku-git@2.4.5~postuninstall: heroku-git@2.4.5\nnpm info lifecycle heroku-fork@4.1.1~preuninstall: heroku-fork@4.1.1\nnpm info lifecycle heroku-fork@4.1.1~uninstall: heroku-fork@4.1.1\nnpm info lifecycle heroku-fork@4.1.1~postuninstall: heroku-fork@4.1.1\nnpm info lifecycle heroku-client@2.4.0~preuninstall: heroku-client@2.4.0\nnpm info lifecycle heroku-client@2.4.0~uninstall: heroku-client@2.4.0\nnpm info lifecycle heroku-client@2.4.0~postuninstall: heroku-client@2.4.0\nnpm info lifecycle heroku-cli-util@5.7.4~preuninstall: heroku-cli-util@5.7.4\nnpm info lifecycle heroku-cli-util@5.7.4~uninstall: heroku-cli-util@5.7.4\nnpm info lifecycle heroku-cli-util@5.7.4~postuninstall: heroku-cli-util@5.7.4\nnpm info lifecycle heroku-cli-addons@0.2.1~preuninstall: heroku-cli-addons@0.2.1\nnpm info lifecycle heroku-cli-addons@0.2.1~uninstall: heroku-cli-addons@0.2.1\nnpm info lifecycle heroku-cli-addons@0.2.1~postuninstall: heroku-cli-addons@0.2.\n1\nnpm info lifecycle heroku-apps@1.2.5~preuninstall: heroku-apps@1.2.5\nnpm info lifecycle heroku-apps@1.2.5~uninstall: heroku-apps@1.2.5\nnpm info lifecycle heroku-apps@1.2.5~postuninstall: heroku-apps@1.2.5\nnpm info lifecycle has-ansi@2.0.0~preuninstall: has-ansi@2.0.0\nnpm info lifecycle has-ansi@2.0.0~uninstall: has-ansi@2.0.0\nnpm info lifecycle has-ansi@2.0.0~postuninstall: has-ansi@2.0.0\nnpm info lifecycle got@6.1.1~preuninstall: got@6.1.1\nnpm info lifecycle got@6.1.1~uninstall: got@6.1.1\nnpm info lifecycle got@6.1.1~postuninstall: got@6.1.1\nnpm info lifecycle get-stream@1.1.0~preuninstall: get-stream@1.1.0\nnpm info lifecycle get-stream@1.1.0~uninstall: get-stream@1.1.0\nnpm info lifecycle get-stream@1.1.0~postuninstall: get-stream@1.1.0\nnpm info lifecycle filesize@3.2.0~preuninstall: filesize@3.2.0\nnpm info lifecycle filesize@3.2.0~uninstall: filesize@3.2.0\nnpm info lifecycle filesize@3.2.0~postuninstall: filesize@3.2.0\nnpm info lifecycle figures@1.4.0~preuninstall: figures@1.4.0\nnpm info lifecycle figures@1.4.0~uninstall: figures@1.4.0\nnpm info lifecycle figures@1.4.0~postuninstall: figures@1.4.0\nnpm info lifecycle exit-hook@1.1.1~preuninstall: exit-hook@1.1.1\nnpm info lifecycle exit-hook@1.1.1~uninstall: exit-hook@1.1.1\nnpm info lifecycle exit-hook@1.1.1~postuninstall: exit-hook@1.1.1\nnpm info lifecycle escape-string-regexp@1.0.5~preuninstall: escape-string-regexp\n@1.0.5\nnpm info lifecycle escape-string-regexp@1.0.5~uninstall: escape-string-regexp@1.\n0.5\nnpm info lifecycle escape-string-regexp@1.0.5~postuninstall: escape-string-regex\np@1.0.5\nnpm info lifecycle duplexer3@0.1.4~preuninstall: duplexer3@0.1.4\nnpm info lifecycle duplexer3@0.1.4~uninstall: duplexer3@0.1.4\nnpm info lifecycle duplexer3@0.1.4~postuninstall: duplexer3@0.1.4\nnpm info lifecycle depd@1.1.0~preuninstall: depd@1.1.0\nnpm info lifecycle depd@1.1.0~uninstall: depd@1.1.0\nnpm info lifecycle depd@1.1.0~postuninstall: depd@1.1.0\nnpm info lifecycle create-error-class@3.0.1~preuninstall: create-error-class@3.0\n.1\nnpm info lifecycle create-error-class@3.0.1~uninstall: create-error-class@3.0.1\nnpm info lifecycle create-error-class@3.0.1~postuninstall: create-error-class@3.\n0.1\nnpm info lifecycle color-convert@1.0.0~preuninstall: color-convert@1.0.0\nnpm info lifecycle color-convert@1.0.0~uninstall: color-convert@1.0.0\nnpm info lifecycle color-convert@1.0.0~postuninstall: color-convert@1.0.0\nnpm info lifecycle code-point-at@1.0.0~preuninstall: code-point-at@1.0.0\nnpm info lifecycle code-point-at@1.0.0~uninstall: code-point-at@1.0.0\nnpm info lifecycle code-point-at@1.0.0~postuninstall: code-point-at@1.0.0\nnpm info lifecycle co@4.6.0~preuninstall: co@4.6.0\nnpm info lifecycle co@4.6.0~uninstall: co@4.6.0\nnpm info lifecycle co@4.6.0~postuninstall: co@4.6.0\nnpm info lifecycle cli-width@2.1.0~preuninstall: cli-width@2.1.0\nnpm info lifecycle cli-width@2.1.0~uninstall: cli-width@2.1.0\nnpm info lifecycle cli-width@2.1.0~postuninstall: cli-width@2.1.0\nnpm info lifecycle cli-cursor@1.0.2~preuninstall: cli-cursor@1.0.2\nnpm info lifecycle cli-cursor@1.0.2~uninstall: cli-cursor@1.0.2\nnpm info lifecycle cli-cursor@1.0.2~postuninstall: cli-cursor@1.0.2\nnpm info lifecycle chalk@1.1.1~preuninstall: chalk@1.1.1\nnpm info lifecycle chalk@1.1.1~uninstall: chalk@1.1.1\nnpm info lifecycle chalk@1.1.1~postuninstall: chalk@1.1.1\nnpm info lifecycle capture-stack-trace@1.0.0~preuninstall: capture-stack-trace@1\n.0.0\nnpm info lifecycle capture-stack-trace@1.0.0~uninstall: capture-stack-trace@1.0.\n0\nnpm info lifecycle capture-stack-trace@1.0.0~postuninstall: capture-stack-trace@\n1.0.0\nnpm info lifecycle bluebird-queue@0.0.8~preuninstall: bluebird-queue@0.0.8\nnpm info lifecycle bluebird-queue@0.0.8~uninstall: bluebird-queue@0.0.8\nnpm info lifecycle bluebird-queue@0.0.8~postuninstall: bluebird-queue@0.0.8\nnpm info lifecycle bluebird@2.10.2~preuninstall: bluebird@2.10.2\nnpm info lifecycle bluebird@2.10.2~uninstall: bluebird@2.10.2\nnpm info lifecycle bluebird@2.10.2~postuninstall: bluebird@2.10.2\nnpm info lifecycle ansi-styles@2.2.0~preuninstall: ansi-styles@2.2.0\nnpm info lifecycle ansi-styles@2.2.0~uninstall: ansi-styles@2.2.0\nnpm info lifecycle ansi-styles@2.2.0~postuninstall: ansi-styles@2.2.0\nnpm info lifecycle ansi-regex@2.0.0~preuninstall: ansi-regex@2.0.0\nnpm info lifecycle ansi-regex@2.0.0~uninstall: ansi-regex@2.0.0\nnpm info lifecycle ansi-regex@2.0.0~postuninstall: ansi-regex@2.0.0\nnpm info lifecycle ansi-escapes@1.3.0~preuninstall: ansi-escapes@1.3.0\nnpm info lifecycle ansi-escapes@1.3.0~uninstall: ansi-escapes@1.3.0\nnpm info lifecycle ansi-escapes@1.3.0~postuninstall: ansi-escapes@1.3.0\nnpm info lifecycle heroku-cli-util@5.7.3~preuninstall: heroku-cli-util@5.7.3\nnpm info lifecycle heroku-cli-util@5.7.3~uninstall: heroku-cli-util@5.7.3\nnpm info lifecycle heroku-cli-util@5.7.3~postuninstall: heroku-cli-util@5.7.3\nnpm info lifecycle lodash@3.10.1~preuninstall: lodash@3.10.1\nnpm info lifecycle lodash@3.10.1~uninstall: lodash@3.10.1\nnpm info lifecycle lodash@3.10.1~postuninstall: lodash@3.10.1\nnpm info lifecycle heroku-cli-util@5.6.3~preuninstall: heroku-cli-util@5.6.3\nnpm info lifecycle heroku-cli-util@5.6.3~uninstall: heroku-cli-util@5.6.3\nnpm info lifecycle heroku-cli-util@5.6.3~postuninstall: heroku-cli-util@5.6.3\nnpm info lifecycle lodash@3.10.1~preuninstall: lodash@3.10.1\nnpm info lifecycle lodash@3.10.1~uninstall: lodash@3.10.1\nnpm info lifecycle lodash@3.10.1~postuninstall: lodash@3.10.1\nnpm info lifecycle heroku-cli-util@5.8.0~preuninstall: heroku-cli-util@5.8.0\nnpm info lifecycle heroku-cli-util@5.8.0~uninstall: heroku-cli-util@5.8.0\nnpm info lifecycle heroku-cli-util@5.8.0~postuninstall: heroku-cli-util@5.8.0\nnpm info lifecycle heroku-cli-util@5.8.0~preuninstall: heroku-cli-util@5.8.0\nnpm info lifecycle heroku-cli-util@5.8.0~uninstall: heroku-cli-util@5.8.0\nnpm info lifecycle heroku-cli-util@5.8.0~postuninstall: heroku-cli-util@5.8.0\nnpm info lifecycle heroku-cli-util@5.7.3~preuninstall: heroku-cli-util@5.7.3\nnpm info lifecycle heroku-cli-util@5.7.3~uninstall: heroku-cli-util@5.7.3\nnpm info lifecycle heroku-cli-util@5.7.3~postuninstall: heroku-cli-util@5.7.3\nnpm info lifecycle lodash@3.10.1~preuninstall: lodash@3.10.1\nnpm info lifecycle lodash@3.10.1~uninstall: lodash@3.10.1\nnpm info lifecycle lodash@3.10.1~postuninstall: lodash@3.10.1\nnpm WARN ENOENT ENOENT: no such file or directory, open 'C:\\Users\\Leon\\AppData\\L\nocal\\heroku\\package.json'\nnpm WARN EPACKAGEJSON heroku No description\nnpm WARN EPACKAGEJSON heroku No repository field.\nnpm WARN EPACKAGEJSON heroku No README data\nnpm WARN EPACKAGEJSON heroku No license field.\n. @ransombriggs after i removing the files of %AppDate%/local/heroku and trying again, These show up:\n0 info it worked if it ends with ok\n1 verbose cli [ 'C:\\Users\\Leon\\AppData\\Local\\heroku\\node-v5.7.1-windows-x86\\bin\\node.exe',\n1 verbose cli   'C:\\Users\\Leon\\AppData\\Local\\heroku\\node-v5.7.1-windows-x86\\lib\\node_modules\\npm\\cli.js',\n1 verbose cli   'install',\n1 verbose cli   'heroku-apps',\n1 verbose cli   'heroku-cli-addons',\n1 verbose cli   'heroku-fork',\n1 verbose cli   'heroku-git',\n1 verbose cli   'heroku-local',\n1 verbose cli   'heroku-orgs',\n1 verbose cli   'heroku-pipelines',\n1 verbose cli   'heroku-run',\n1 verbose cli   'heroku-spaces',\n1 verbose cli   'heroku-status' ]\n2 info using npm@3.3.10\n3 info using node@v5.7.1\n4 silly loadCurrentTree Starting\n5 silly install loadCurrentTree\n6 silly install readLocalPackageData\n7 silly fetchPackageMetaData heroku-apps\n8 silly fetchPackageMetaData heroku-cli-addons\n9 silly fetchPackageMetaData heroku-fork\n10 silly fetchPackageMetaData heroku-git\n11 silly fetchPackageMetaData heroku-local\n12 silly fetchPackageMetaData heroku-orgs\n13 silly fetchPackageMetaData heroku-pipelines\n14 silly fetchPackageMetaData heroku-run\n15 silly fetchPackageMetaData heroku-spaces\n16 silly fetchPackageMetaData heroku-status\n17 silly fetchNamedPackageData heroku-apps\n18 silly mapToRegistry name heroku-apps\n19 silly mapToRegistry using default registry\n20 silly mapToRegistry registry https://cli-npm.heroku.com/\n21 silly mapToRegistry uri https://cli-npm.heroku.com/heroku-apps\n22 silly fetchNamedPackageData heroku-cli-addons\n23 silly mapToRegistry name heroku-cli-addons\n24 silly mapToRegistry using default registry\n25 silly mapToRegistry registry https://cli-npm.heroku.com/\n26 silly mapToRegistry uri https://cli-npm.heroku.com/heroku-cli-addons\n27 silly fetchNamedPackageData heroku-fork\n28 silly mapToRegistry name heroku-fork\n29 silly mapToRegistry using default registry\n30 silly mapToRegistry registry https://cli-npm.heroku.com/\n31 silly mapToRegistry uri https://cli-npm.heroku.com/heroku-fork\n32 silly fetchNamedPackageData heroku-git\n33 silly mapToRegistry name heroku-git\n34 silly mapToRegistry using default registry\n35 silly mapToRegistry registry https://cli-npm.heroku.com/\n36 silly mapToRegistry uri https://cli-npm.heroku.com/heroku-git\n37 silly fetchNamedPackageData heroku-local\n38 silly mapToRegistry name heroku-local\n39 silly mapToRegistry using default registry\n40 silly mapToRegistry registry https://cli-npm.heroku.com/\n41 silly mapToRegistry uri https://cli-npm.heroku.com/heroku-local\n42 silly fetchNamedPackageData heroku-orgs\n43 silly mapToRegistry name heroku-orgs\n44 silly mapToRegistry using default registry\n45 silly mapToRegistry registry https://cli-npm.heroku.com/\n46 silly mapToRegistry uri https://cli-npm.heroku.com/heroku-orgs\n47 silly fetchNamedPackageData heroku-pipelines\n48 silly mapToRegistry name heroku-pipelines\n49 silly mapToRegistry using default registry\n50 silly mapToRegistry registry https://cli-npm.heroku.com/\n51 silly mapToRegistry uri https://cli-npm.heroku.com/heroku-pipelines\n52 silly fetchNamedPackageData heroku-run\n53 silly mapToRegistry name heroku-run\n54 silly mapToRegistry using default registry\n55 silly mapToRegistry registry https://cli-npm.heroku.com/\n56 silly mapToRegistry uri https://cli-npm.heroku.com/heroku-run\n57 silly fetchNamedPackageData heroku-spaces\n58 silly mapToRegistry name heroku-spaces\n59 silly mapToRegistry using default registry\n60 silly mapToRegistry registry https://cli-npm.heroku.com/\n61 silly mapToRegistry uri https://cli-npm.heroku.com/heroku-spaces\n62 silly fetchNamedPackageData heroku-status\n63 silly mapToRegistry name heroku-status\n64 silly mapToRegistry using default registry\n65 silly mapToRegistry registry https://cli-npm.heroku.com/\n66 silly mapToRegistry uri https://cli-npm.heroku.com/heroku-status\n67 verbose request uri https://cli-npm.heroku.com/heroku-apps\n68 verbose request no auth needed\n69 info attempt registry request try #1 at 13:30:47\n70 verbose request id c46751ecd6415e99\n71 http request GET https://cli-npm.heroku.com/heroku-apps\n72 verbose request uri https://cli-npm.heroku.com/heroku-cli-addons\n73 verbose request no auth needed\n74 info attempt registry request try #1 at 13:30:47\n75 http request GET https://cli-npm.heroku.com/heroku-cli-addons\n76 verbose request uri https://cli-npm.heroku.com/heroku-fork\n77 verbose request no auth needed\n78 info attempt registry request try #1 at 13:30:47\n79 http request GET https://cli-npm.heroku.com/heroku-fork\n80 verbose request uri https://cli-npm.heroku.com/heroku-git\n81 verbose request no auth needed\n82 info attempt registry request try #1 at 13:30:47\n83 http request GET https://cli-npm.heroku.com/heroku-git\n84 verbose request uri https://cli-npm.heroku.com/heroku-local\n85 verbose request no auth needed\n86 info attempt registry request try #1 at 13:30:47\n87 http request GET https://cli-npm.heroku.com/heroku-local\n88 verbose request uri https://cli-npm.heroku.com/heroku-orgs\n89 verbose request no auth needed\n90 info attempt registry request try #1 at 13:30:47\n91 http request GET https://cli-npm.heroku.com/heroku-orgs\n92 verbose request uri https://cli-npm.heroku.com/heroku-pipelines\n93 verbose request no auth needed\n94 info attempt registry request try #1 at 13:30:47\n95 http request GET https://cli-npm.heroku.com/heroku-pipelines\n96 verbose request uri https://cli-npm.heroku.com/heroku-run\n97 verbose request no auth needed\n98 info attempt registry request try #1 at 13:30:47\n99 http request GET https://cli-npm.heroku.com/heroku-run\n100 verbose request uri https://cli-npm.heroku.com/heroku-spaces\n101 verbose request no auth needed\n102 info attempt registry request try #1 at 13:30:47\n103 http request GET https://cli-npm.heroku.com/heroku-spaces\n104 verbose request uri https://cli-npm.heroku.com/heroku-status\n105 verbose request no auth needed\n106 info attempt registry request try #1 at 13:30:47\n107 http request GET https://cli-npm.heroku.com/heroku-status\n108 info retry will retry, error on last attempt: Error: connect ETIMEDOUT 54.230.109.152:443\n109 info retry will retry, error on last attempt: Error: connect ETIMEDOUT 54.230.109.152:443\n110 info retry will retry, error on last attempt: Error: connect ETIMEDOUT 54.230.109.152:443\n111 info retry will retry, error on last attempt: Error: connect ETIMEDOUT 54.230.109.152:443\n112 info retry will retry, error on last attempt: Error: connect ETIMEDOUT 54.230.109.152:443\n113 info retry will retry, error on last attempt: Error: connect ETIMEDOUT 54.230.109.152:443\n114 info retry will retry, error on last attempt: Error: connect ETIMEDOUT 54.230.109.152:443\n115 info retry will retry, error on last attempt: Error: connect ETIMEDOUT 54.230.109.152:443\n116 info retry will retry, error on last attempt: Error: connect ETIMEDOUT 54.230.109.152:443\n117 info retry will retry, error on last attempt: Error: connect ETIMEDOUT 54.230.109.152:443\n118 info attempt registry request try #2 at 13:31:18\n119 http request GET https://cli-npm.heroku.com/heroku-status\n120 info attempt registry request try #2 at 13:31:18\n121 http request GET https://cli-npm.heroku.com/heroku-run\n122 info attempt registry request try #2 at 13:31:18\n123 http request GET https://cli-npm.heroku.com/heroku-pipelines\n124 info attempt registry request try #2 at 13:31:18\n125 http request GET https://cli-npm.heroku.com/heroku-cli-addons\n126 info attempt registry request try #2 at 13:31:18\n127 http request GET https://cli-npm.heroku.com/heroku-spaces\n128 info attempt registry request try #2 at 13:31:18\n129 http request GET https://cli-npm.heroku.com/heroku-local\n130 info attempt registry request try #2 at 13:31:18\n131 http request GET https://cli-npm.heroku.com/heroku-orgs\n132 info attempt registry request try #2 at 13:31:18\n133 http request GET https://cli-npm.heroku.com/heroku-git\n134 info attempt registry request try #2 at 13:31:18\n135 http request GET https://cli-npm.heroku.com/heroku-fork\n136 info attempt registry request try #2 at 13:31:18\n137 http request GET https://cli-npm.heroku.com/heroku-apps\n138 info retry will retry, error on last attempt: Error: connect ETIMEDOUT 54.230.109.152:443\n139 info retry will retry, error on last attempt: Error: connect ETIMEDOUT 54.230.109.152:443\n140 info retry will retry, error on last attempt: Error: connect ETIMEDOUT 54.230.109.152:443\n141 info retry will retry, error on last attempt: Error: connect ETIMEDOUT 54.230.109.152:443\n142 info retry will retry, error on last attempt: Error: connect ETIMEDOUT 54.230.109.152:443\n143 info retry will retry, error on last attempt: Error: connect ETIMEDOUT 54.230.109.152:443\n144 info retry will retry, error on last attempt: Error: connect ETIMEDOUT 54.230.109.152:443\n145 info retry will retry, error on last attempt: Error: connect ETIMEDOUT 54.230.109.152:443\n146 info retry will retry, error on last attempt: Error: connect ETIMEDOUT 54.230.109.152:443\n147 info retry will retry, error on last attempt: Error: connect ETIMEDOUT 54.230.109.152:443\n148 info attempt registry request try #3 at 13:32:39\n149 http request GET https://cli-npm.heroku.com/heroku-run\n150 info attempt registry request try #3 at 13:32:39\n151 http request GET https://cli-npm.heroku.com/heroku-status\n152 info attempt registry request try #3 at 13:32:39\n153 http request GET https://cli-npm.heroku.com/heroku-pipelines\n154 info attempt registry request try #3 at 13:32:39\n155 http request GET https://cli-npm.heroku.com/heroku-apps\n156 info attempt registry request try #3 at 13:32:39\n157 http request GET https://cli-npm.heroku.com/heroku-fork\n158 info attempt registry request try #3 at 13:32:39\n159 http request GET https://cli-npm.heroku.com/heroku-spaces\n160 info attempt registry request try #3 at 13:32:39\n161 http request GET https://cli-npm.heroku.com/heroku-local\n162 info attempt registry request try #3 at 13:32:39\n163 http request GET https://cli-npm.heroku.com/heroku-git\n164 info attempt registry request try #3 at 13:32:39\n165 http request GET https://cli-npm.heroku.com/heroku-cli-addons\n166 info attempt registry request try #3 at 13:32:39\n167 http request GET https://cli-npm.heroku.com/heroku-orgs\n168 silly fetchPackageMetaData Error: connect ETIMEDOUT 54.230.109.152:443\n168 silly fetchPackageMetaData     at Object.exports._errnoException (util.js:856:11)\n168 silly fetchPackageMetaData     at exports._exceptionWithHostPort (util.js:879:20)\n168 silly fetchPackageMetaData     at TCPConnectWrap.afterConnect as oncomplete\n168 silly fetchPackageMetaData  error for heroku-status { [Error: connect ETIMEDOUT 54.230.109.152:443]\n168 silly fetchPackageMetaData   code: 'ETIMEDOUT',\n168 silly fetchPackageMetaData   errno: 'ETIMEDOUT',\n168 silly fetchPackageMetaData   syscall: 'connect',\n168 silly fetchPackageMetaData   address: '54.230.109.152',\n168 silly fetchPackageMetaData   port: 443 }\n169 silly fetchPackageMetaData Error: connect ETIMEDOUT 54.230.109.152:443\n169 silly fetchPackageMetaData     at Object.exports._errnoException (util.js:856:11)\n169 silly fetchPackageMetaData     at exports._exceptionWithHostPort (util.js:879:20)\n169 silly fetchPackageMetaData     at TCPConnectWrap.afterConnect as oncomplete\n169 silly fetchPackageMetaData  error for heroku-run { [Error: connect ETIMEDOUT 54.230.109.152:443]\n169 silly fetchPackageMetaData   code: 'ETIMEDOUT',\n169 silly fetchPackageMetaData   errno: 'ETIMEDOUT',\n169 silly fetchPackageMetaData   syscall: 'connect',\n169 silly fetchPackageMetaData   address: '54.230.109.152',\n169 silly fetchPackageMetaData   port: 443 }\n170 silly fetchPackageMetaData Error: connect ETIMEDOUT 54.230.109.152:443\n170 silly fetchPackageMetaData     at Object.exports._errnoException (util.js:856:11)\n170 silly fetchPackageMetaData     at exports._exceptionWithHostPort (util.js:879:20)\n170 silly fetchPackageMetaData     at TCPConnectWrap.afterConnect as oncomplete\n170 silly fetchPackageMetaData  error for heroku-orgs { [Error: connect ETIMEDOUT 54.230.109.152:443]\n170 silly fetchPackageMetaData   code: 'ETIMEDOUT',\n170 silly fetchPackageMetaData   errno: 'ETIMEDOUT',\n170 silly fetchPackageMetaData   syscall: 'connect',\n170 silly fetchPackageMetaData   address: '54.230.109.152',\n170 silly fetchPackageMetaData   port: 443 }\n171 silly fetchPackageMetaData Error: connect ETIMEDOUT 54.230.109.152:443\n171 silly fetchPackageMetaData     at Object.exports._errnoException (util.js:856:11)\n171 silly fetchPackageMetaData     at exports._exceptionWithHostPort (util.js:879:20)\n171 silly fetchPackageMetaData     at TCPConnectWrap.afterConnect as oncomplete\n171 silly fetchPackageMetaData  error for heroku-cli-addons { [Error: connect ETIMEDOUT 54.230.109.152:443]\n171 silly fetchPackageMetaData   code: 'ETIMEDOUT',\n171 silly fetchPackageMetaData   errno: 'ETIMEDOUT',\n171 silly fetchPackageMetaData   syscall: 'connect',\n171 silly fetchPackageMetaData   address: '54.230.109.152',\n171 silly fetchPackageMetaData   port: 443 }\n172 silly fetchPackageMetaData Error: connect ETIMEDOUT 54.230.109.152:443\n172 silly fetchPackageMetaData     at Object.exports._errnoException (util.js:856:11)\n172 silly fetchPackageMetaData     at exports._exceptionWithHostPort (util.js:879:20)\n172 silly fetchPackageMetaData     at TCPConnectWrap.afterConnect as oncomplete\n172 silly fetchPackageMetaData  error for heroku-pipelines { [Error: connect ETIMEDOUT 54.230.109.152:443]\n172 silly fetchPackageMetaData   code: 'ETIMEDOUT',\n172 silly fetchPackageMetaData   errno: 'ETIMEDOUT',\n172 silly fetchPackageMetaData   syscall: 'connect',\n172 silly fetchPackageMetaData   address: '54.230.109.152',\n172 silly fetchPackageMetaData   port: 443 }\n173 silly fetchPackageMetaData Error: connect ETIMEDOUT 54.230.109.152:443\n173 silly fetchPackageMetaData     at Object.exports._errnoException (util.js:856:11)\n173 silly fetchPackageMetaData     at exports._exceptionWithHostPort (util.js:879:20)\n173 silly fetchPackageMetaData     at TCPConnectWrap.afterConnect as oncomplete\n173 silly fetchPackageMetaData  error for heroku-git { [Error: connect ETIMEDOUT 54.230.109.152:443]\n173 silly fetchPackageMetaData   code: 'ETIMEDOUT',\n173 silly fetchPackageMetaData   errno: 'ETIMEDOUT',\n173 silly fetchPackageMetaData   syscall: 'connect',\n173 silly fetchPackageMetaData   address: '54.230.109.152',\n173 silly fetchPackageMetaData   port: 443 }\n174 silly fetchPackageMetaData Error: connect ETIMEDOUT 54.230.109.152:443\n174 silly fetchPackageMetaData     at Object.exports._errnoException (util.js:856:11)\n174 silly fetchPackageMetaData     at exports._exceptionWithHostPort (util.js:879:20)\n174 silly fetchPackageMetaData     at TCPConnectWrap.afterConnect as oncomplete\n174 silly fetchPackageMetaData  error for heroku-fork { [Error: connect ETIMEDOUT 54.230.109.152:443]\n174 silly fetchPackageMetaData   code: 'ETIMEDOUT',\n174 silly fetchPackageMetaData   errno: 'ETIMEDOUT',\n174 silly fetchPackageMetaData   syscall: 'connect',\n174 silly fetchPackageMetaData   address: '54.230.109.152',\n174 silly fetchPackageMetaData   port: 443 }\n175 silly fetchPackageMetaData Error: connect ETIMEDOUT 54.230.109.152:443\n175 silly fetchPackageMetaData     at Object.exports._errnoException (util.js:856:11)\n175 silly fetchPackageMetaData     at exports._exceptionWithHostPort (util.js:879:20)\n175 silly fetchPackageMetaData     at TCPConnectWrap.afterConnect as oncomplete\n175 silly fetchPackageMetaData  error for heroku-apps { [Error: connect ETIMEDOUT 54.230.109.152:443]\n175 silly fetchPackageMetaData   code: 'ETIMEDOUT',\n175 silly fetchPackageMetaData   errno: 'ETIMEDOUT',\n175 silly fetchPackageMetaData   syscall: 'connect',\n175 silly fetchPackageMetaData   address: '54.230.109.152',\n175 silly fetchPackageMetaData   port: 443 }\n176 silly fetchPackageMetaData Error: connect ETIMEDOUT 54.230.109.152:443\n176 silly fetchPackageMetaData     at Object.exports._errnoException (util.js:856:11)\n176 silly fetchPackageMetaData     at exports._exceptionWithHostPort (util.js:879:20)\n176 silly fetchPackageMetaData     at TCPConnectWrap.afterConnect as oncomplete\n176 silly fetchPackageMetaData  error for heroku-local { [Error: connect ETIMEDOUT 54.230.109.152:443]\n176 silly fetchPackageMetaData   code: 'ETIMEDOUT',\n176 silly fetchPackageMetaData   errno: 'ETIMEDOUT',\n176 silly fetchPackageMetaData   syscall: 'connect',\n176 silly fetchPackageMetaData   address: '54.230.109.152',\n176 silly fetchPackageMetaData   port: 443 }\n177 silly fetchPackageMetaData Error: connect ETIMEDOUT 54.230.109.152:443\n177 silly fetchPackageMetaData     at Object.exports._errnoException (util.js:856:11)\n177 silly fetchPackageMetaData     at exports._exceptionWithHostPort (util.js:879:20)\n177 silly fetchPackageMetaData     at TCPConnectWrap.afterConnect as oncomplete\n177 silly fetchPackageMetaData  error for heroku-spaces { [Error: connect ETIMEDOUT 54.230.109.152:443]\n177 silly fetchPackageMetaData   code: 'ETIMEDOUT',\n177 silly fetchPackageMetaData   errno: 'ETIMEDOUT',\n177 silly fetchPackageMetaData   syscall: 'connect',\n177 silly fetchPackageMetaData   address: '54.230.109.152',\n177 silly fetchPackageMetaData   port: 443 }\n178 silly rollbackFailedOptional Starting\n179 silly rollbackFailedOptional Finishing\n180 silly runTopLevelLifecycles Starting\n181 silly runTopLevelLifecycles Finishing\n182 silly install printInstalled\n183 verbose stack Error: connect ETIMEDOUT 54.230.109.152:443\n183 verbose stack     at Object.exports._errnoException (util.js:856:11)\n183 verbose stack     at exports._exceptionWithHostPort (util.js:879:20)\n183 verbose stack     at TCPConnectWrap.afterConnect as oncomplete\n184 verbose cwd C:\\Users\\Leon\\AppData\\Local\\heroku\n185 error Windows_NT 6.1.7601\n186 error argv \"C:\\Users\\Leon\\AppData\\Local\\heroku\\node-v5.7.1-windows-x86\\bin\\node.exe\" \"C:\\Users\\Leon\\AppData\\Local\\heroku\\node-v5.7.1-windows-x86\\lib\\node_modules\\npm\\cli.js\" \"install\" \"heroku-apps\" \"heroku-cli-addons\" \"heroku-fork\" \"heroku-git\" \"heroku-local\" \"heroku-orgs\" \"heroku-pipelines\" \"heroku-run\" \"heroku-spaces\" \"heroku-status\"\n187 error node v5.7.1\n188 error npm  v3.3.10\n189 error code ETIMEDOUT\n190 error errno ETIMEDOUT\n191 error syscall connect\n192 error network connect ETIMEDOUT 54.230.109.152:443\n192 error network This is most likely not a problem with npm itself\n192 error network and is related to network connectivity.\n192 error network In most cases you are behind a proxy or have bad network settings.\n192 error network\n192 error network If you are behind a proxy, please make sure that the\n192 error network 'proxy' config is set properly.  See: 'npm help config'\n193 verbose exit [ 1, true ]\n. @ransombriggs nop\n. @ransombriggs Firewall was shutdown and My OS system is windows 7 Enterprise. It just work fine right now, but few minutes age it was not. I have no idea that I just try again again and again....\nThanks a lot !@ransombriggs \n`ist of available stacks\",\"needsApp\":true,\"needsAuth\":true},{\"topic\":\"stack\",\"com\nmand\":\"set\",\"needsApp\":true,\"needsAuth\":true,\"help\":\"\\nExample:\\n\\n  $ heroku st\nack:set cedar-14 -a myapp\\n  Stack set. Next release on myapp will use cedar-14.\n\\n  Run git push heroku master to create a new release on myapp.\",\"args\":[{\"name\n\":\"stack\"}]}],\"name\":\"heroku-apps\",\"version\":\"1.7.3\"}\n !    \"Leon\" Sid: S-1-5-21-367982105-2523211310-3914911705-1000\n !    error getting commands pid 6588 exit 1\nC:\\Users\\Leon>heroku login\nheroku-cli: Installing core plugins... done\nEnter your Heroku credentials.`\n. @ransombriggs Yes, It was working after I try several times. But I still don't find the cause.\n. ",
    "lufeihaidao": "Same issue! \n```\n\nheroku logs\nheroku-cli: Installing Toolbelt v4...\n```\n\nwhy every command need install v4? I just want to make it work!\n. ```\nheroku-cli: Installing Toolbelt v4... !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       end of file reached (EOFError) (Excon::Errors::SocketError)\nCommand:     heroku -v\nVersion:     heroku-toolbelt/3.42.22 (x86_64-darwin10.8.0) ruby/1.9.3\nError ID:    9ce00299b82b47ab9ecdc57ae8279ddb\n\n```\nI don't wanna install v4 now\n. How can I get this var?\nOn Mon, Nov 23, 2015 at 2:21 AM, Jeff Dickey notifications@github.com\nwrote:\n\nis XDG_DATA_HOME set by chance?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1834#issuecomment-158785266.\n. Finally brew install heroku works. Thanks, jeff!\n\nOn Tue, Nov 24, 2015 at 4:23 AM, Jeff Dickey notifications@github.com\nwrote:\n\nThis seems to only be an issue on OSX Mountain Lion. Maybe it's because\nyou have an old openssl bindings. You could try using the homebrew version brew\ninstall heroku.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1834#issuecomment-159053294.\n. \n",
    "jimmckerchar": "sorry, i've edited my original comment to include platform info\n. If i type 'heroku version' in the console, i get the \"invalid memory address...\" error. I'm just on my other machine at the moment so will post the contents of my err.log file in a separate comment\n. here are the contents of error.log from the last (i think) before the issue starts occurring\n2015/11/20 10:57:18 running from /home/jim/.heroku/heroku-cli\n2015/11/20 10:58:12 done\n2015/11/20 10:58:12 rebuilding plugins cache... \n2015/11/20 10:58:15 Error reading plugin: heroku-status. See /home/jim/.heroku/error.log for more information.\n2015/11/20 10:58:15 exit status 1 \n module.js:339\n    throw err;\n    ^\nError: Cannot find module 'heroku-cli-util'\n    at Function.Module._resolveFilename (module.js:337:15)\n    at Function.Module._load (module.js:287:25)\n    at Module.require (module.js:366:17)\n    at require (module.js:385:17)\n    at Object. (/home/jim/.heroku/node_modules/heroku-status/commands/status.js:3:18)\n    at Module._compile (module.js:425:26)\n    at Object.Module._extensions..js (module.js:432:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:311:12)\n    at Module.require (module.js:366:17)\n2015/11/20 10:58:19 done\n2015/11/20 11:29:38 running from /home/jim/.heroku/heroku-cli\n2015/11/20 11:29:38 ERROR: runtime error: invalid memory address or nil pointer dereference\n2015/11/20 11:29:53 running from /home/jim/.heroku/heroku-cli\n2015/11/20 11:29:53 ERROR: runtime error: invalid memory address or nil pointer dereference\n2015/11/20 11:31:11 running from /home/jim/.heroku/heroku-cli\n2015/11/20 11:31:11 ERROR: runtime error: invalid memory address or nil pointer dereference\n2015/11/20 11:48:46 running from /home/jim/.heroku/heroku-cli\n2015/11/20 11:48:46 ERROR: runtime error: invalid memory address or nil pointer dereference\n2015/11/20 11:48:47 running from /home/jim/.heroku/heroku-cli\n2015/11/20 11:48:47 ERROR: runtime error: invalid memory address or nil pointer dereference\n2015/11/20 12:02:37 running from /home/jim/.heroku/heroku-cli\n2015/11/20 12:02:37 ERROR: runtime error: invalid memory address or nil pointer dereference\n2015/11/20 12:02:38 running from /home/jim/.heroku/heroku-cli\n2015/11/20 12:02:38 ERROR: runtime error: invalid memory address or nil pointer dereference\n2015/11/20 12:03:08 running from /home/jim/.heroku/heroku-cli\n2015/11/20 12:03:08 ERROR: runtime error: invalid memory address or nil pointer dereference\n2015/11/20 12:03:09 running from /home/jim/.heroku/heroku-cli\n2015/11/20 12:03:09 ERROR: runtime error: invalid memory address or nil pointer dereference\n2015/11/20 12:03:23 running from /home/jim/.heroku/heroku-cli\n2015/11/20 12:03:23 ERROR: runtime error: invalid memory address or nil pointer dereference\n2015/11/20 12:12:14 running from /home/jim/.heroku/heroku-cli\n2015/11/20 12:12:14 ERROR: runtime error: invalid memory address or nil pointer dereference\n2015/11/20 12:13:58 running from /home/jim/.heroku/heroku-cli\n2015/11/20 12:13:58 ERROR: runtime error: invalid memory address or nil pointer dereference\n2015/11/20 12:14:55 running from /home/jim/.heroku/heroku-cli\n2015/11/20 12:14:55 ERROR: runtime error: invalid memory address or nil pointer dereference\n2015/11/20 12:20:36 running from /home/jim/.heroku/heroku-cli\n2015/11/20 12:20:36 ERROR: runtime error: invalid memory address or nil pointer dereference\n2015/11/20 12:24:22 running from /home/jim/.heroku/heroku-cli\n2015/11/20 12:24:22 ERROR: runtime error: invalid memory address or nil pointer dereference\n2015/11/20 12:33:41 running from /home/jim/.heroku/heroku-cli\n2015/11/20 12:33:41 ERROR: runtime error: invalid memory address or nil pointer dereference\n2015/11/20 12:34:19 running from /home/jim/.heroku/heroku-cli\n2015/11/20 12:34:19 ERROR: runtime error: invalid memory address or nil pointer dereference\n2015/11/20 14:54:23 running from /home/jim/.heroku/heroku-cli\n2015/11/20 14:54:23 ERROR: runtime error: invalid memory address or nil pointer dereference\n2015/11/20 14:55:53 running from /home/jim/.heroku/heroku-cli\n2015/11/20 14:55:53 ERROR: runtime error: invalid memory address or nil pointer dereference\n2015/11/20 14:56:28 running from /home/jim/.heroku/heroku-cli\n2015/11/20 14:56:28 ERROR: runtime error: invalid memory address or nil pointer dereference\n2015/11/20 15:24:59 running from /home/jim/.heroku/heroku-cli\n2015/11/20 15:24:59 ERROR: runtime error: invalid memory address or nil pointer dereference\n2015/11/20 16:40:51 running from /home/jim/.heroku/heroku-cli\n2015/11/20 16:40:51 ERROR: runtime error: invalid memory address or nil pointer dereference\n. ah... just spotted ;)\n. thanks @dickeyxxx \nMethod 1 didn't work but  removing heroku-cli has got me a working client again ;)\n. @ransombriggs does the solution provided by @dickeyxxx relate to the issue that you were able to reproduce? The issue i opened the case for is now resolved so i'll leave closing this down to you guys ;)\n. Thanks guys ;)\n. ",
    "mcramm": "I'm seeing this too, on CentOS 6.3 with ruby 2.0.0p247.\n. Thanks! Removing ~/.heroku/plugin-cache.json worked. \n. ",
    "bclinkinbeard": "None. \n\n. Run which command with HEROKU_DEBUG=info and how, exactly? No proxy.\n. Lots of this, but I'm logged into npm.\n\nIt eventually fails and restarts the whole thing. \n\nLooks like it tries 3 times before quitting. \n. ``\nGODE_DEBUG=silly heroku version\nheroku-cli: Installing core plugins...npm info it worked if it ends with ok\nnpm verb cli [ '/Users/ben/.heroku/node-v5.0.0-darwin-x64/bin/node',\nnpm verb cli   '/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/cli.js',\nnpm verb cli   'install',\nnpm verb cli   'heroku-cli-addons',\nnpm verb cli   'heroku-apps',\nnpm verb cli   'heroku-fork',\nnpm verb cli   'heroku-git',\nnpm verb cli   'heroku-local',\nnpm verb cli   'heroku-run',\nnpm verb cli   'heroku-status',\nnpm verb cli   '--loglevel=silly' ]\nnpm info using npm@3.3.10\nnpm info using node@v5.0.0\nnpm sill loadCurrentTree Starting\nnpm sill install loadCurrentTree\nnpm sill install readLocalPackageData\nnpm sill fetchPackageMetaData heroku-cli-addons\nnpm sill fetchPackageMetaData heroku-apps\nnpm sill fetchPackageMetaData heroku-fork\nnpm sill fetchPackageMetaData heroku-git\nnpm sill fetchPackageMetaData heroku-local\nnpm sill fetchPackageMetaData heroku-run\nnpm sill fetchPackageMetaData heroku-status\nnpm sill fetchNamedPackageData heroku-cli-addons\nnpm sill mapToRegistry name heroku-cli-addons\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-cli-addons\nnpm sill fetchNamedPackageData heroku-apps\nnpm sill mapToRegistry name heroku-apps\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-apps\nnpm sill fetchNamedPackageData heroku-fork\nnpm sill mapToRegistry name heroku-fork\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-fork\nnpm sill fetchNamedPackageData heroku-git\nnpm sill mapToRegistry name heroku-git\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-git\nnpm sill fetchNamedPackageData heroku-local\nnpm sill mapToRegistry name heroku-local\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-local\nnpm sill fetchNamedPackageData heroku-run\nnpm sill mapToRegistry name heroku-run\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-run\nnpm sill fetchNamedPackageData heroku-status\nnpm sill mapToRegistry name heroku-status\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-status\nnpm verb request uri https://cli-npm.heroku.com/heroku-cli-addons\nnpm verb request always-auth set; sending authorization\nnpm info attempt registry request try #1 at 1:33:18 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Runnpm loginand repeat the request.\nnpm verb request uri https://cli-npm.heroku.com/heroku-apps\nnpm verb request always-auth set; sending authorization\nnpm info attempt registry request try #1 at 1:33:18 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Runnpm loginand repeat the request.\nnpm verb request uri https://cli-npm.heroku.com/heroku-fork\nnpm verb request always-auth set; sending authorization\nnpm info attempt registry request try #1 at 1:33:18 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Runnpm loginand repeat the request.\nnpm verb request uri https://cli-npm.heroku.com/heroku-git\nnpm verb request always-auth set; sending authorization\nnpm info attempt registry request try #1 at 1:33:18 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Runnpm loginand repeat the request.\nnpm verb request uri https://cli-npm.heroku.com/heroku-local\nnpm verb request always-auth set; sending authorization\nnpm info attempt registry request try #1 at 1:33:18 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Runnpm loginand repeat the request.\nnpm verb request uri https://cli-npm.heroku.com/heroku-run\nnpm verb request always-auth set; sending authorization\nnpm info attempt registry request try #1 at 1:33:18 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Runnpm loginand repeat the request.\nnpm verb request uri https://cli-npm.heroku.com/heroku-status\nnpm verb request always-auth set; sending authorization\nnpm info attempt registry request try #1 at 1:33:18 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Runnpm loginand repeat the request.\nnpm info attempt registry request try #2 at 1:33:28 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Runnpm loginand repeat the request.\nnpm info attempt registry request try #2 at 1:33:28 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Runnpm loginand repeat the request.\nnpm info attempt registry request try #2 at 1:33:28 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Runnpm loginand repeat the request.\nnpm info attempt registry request try #2 at 1:33:28 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Runnpm loginand repeat the request.\nnpm info attempt registry request try #2 at 1:33:28 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Runnpm loginand repeat the request.\nnpm info attempt registry request try #2 at 1:33:28 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Runnpm loginand repeat the request.\nnpm info attempt registry request try #2 at 1:33:28 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Runnpm loginand repeat the request.\nnpm info attempt registry request try #3 at 1:34:28 PM\nnpm sill fetchPackageMetaData Error: This request requires auth credentials. Runnpm loginand repeat the request.\nnpm sill fetchPackageMetaData     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm sill fetchPackageMetaData     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm sill fetchPackageMetaData     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm sill fetchPackageMetaData     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm sill fetchPackageMetaData     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm sill fetchPackageMetaData     at Timer.listOnTimeout (timers.js:92:15)\nnpm sill fetchPackageMetaData  error for heroku-cli-addons [Error: This request requires auth credentials. Runnpm loginand repeat the request.]\nnpm info attempt registry request try #3 at 1:34:28 PM\nnpm sill fetchPackageMetaData Error: This request requires auth credentials. Runnpm loginand repeat the request.\nnpm sill fetchPackageMetaData     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm sill fetchPackageMetaData     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm sill fetchPackageMetaData     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm sill fetchPackageMetaData     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm sill fetchPackageMetaData     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm sill fetchPackageMetaData     at Timer.listOnTimeout (timers.js:92:15)\nnpm sill fetchPackageMetaData  error for heroku-apps [Error: This request requires auth credentials. Runnpm loginand repeat the request.]\nnpm info attempt registry request try #3 at 1:34:28 PM\nnpm sill fetchPackageMetaData Error: This request requires auth credentials. Runnpm loginand repeat the request.\nnpm sill fetchPackageMetaData     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm sill fetchPackageMetaData     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm sill fetchPackageMetaData     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm sill fetchPackageMetaData     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm sill fetchPackageMetaData     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm sill fetchPackageMetaData     at Timer.listOnTimeout (timers.js:92:15)\nnpm sill fetchPackageMetaData  error for heroku-fork [Error: This request requires auth credentials. Runnpm loginand repeat the request.]\nnpm info attempt registry request try #3 at 1:34:28 PM\nnpm sill fetchPackageMetaData Error: This request requires auth credentials. Runnpm loginand repeat the request.\nnpm sill fetchPackageMetaData     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm sill fetchPackageMetaData     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm sill fetchPackageMetaData     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm sill fetchPackageMetaData     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm sill fetchPackageMetaData     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm sill fetchPackageMetaData     at Timer.listOnTimeout (timers.js:92:15)\nnpm sill fetchPackageMetaData  error for heroku-git [Error: This request requires auth credentials. Runnpm loginand repeat the request.]\nnpm info attempt registry request try #3 at 1:34:28 PM\nnpm sill fetchPackageMetaData Error: This request requires auth credentials. Runnpm loginand repeat the request.\nnpm sill fetchPackageMetaData     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm sill fetchPackageMetaData     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm sill fetchPackageMetaData     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm sill fetchPackageMetaData     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm sill fetchPackageMetaData     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm sill fetchPackageMetaData     at Timer.listOnTimeout (timers.js:92:15)\nnpm sill fetchPackageMetaData  error for heroku-local [Error: This request requires auth credentials. Runnpm loginand repeat the request.]\nnpm info attempt registry request try #3 at 1:34:28 PM\nnpm sill fetchPackageMetaData Error: This request requires auth credentials. Runnpm loginand repeat the request.\nnpm sill fetchPackageMetaData     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm sill fetchPackageMetaData     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm sill fetchPackageMetaData     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm sill fetchPackageMetaData     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm sill fetchPackageMetaData     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm sill fetchPackageMetaData     at Timer.listOnTimeout (timers.js:92:15)\nnpm sill fetchPackageMetaData  error for heroku-run [Error: This request requires auth credentials. Runnpm loginand repeat the request.]\nnpm info attempt registry request try #3 at 1:34:28 PM\nnpm sill fetchPackageMetaData Error: This request requires auth credentials. Runnpm loginand repeat the request.\nnpm sill fetchPackageMetaData     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm sill fetchPackageMetaData     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm sill fetchPackageMetaData     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm sill fetchPackageMetaData     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm sill fetchPackageMetaData     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm sill fetchPackageMetaData     at Timer.listOnTimeout (timers.js:92:15)\nnpm sill fetchPackageMetaData  error for heroku-status [Error: This request requires auth credentials. Runnpm loginand repeat the request.]\nnpm sill rollbackFailedOptional Starting\nnpm sill rollbackFailedOptional Finishing\nnpm sill runTopLevelLifecycles Starting\nnpm sill runTopLevelLifecycles Finishing\nnpm sill install printInstalled\nnpm verb stack Error: This request requires auth credentials. Runnpm login` and repeat the request.\nnpm verb stack     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm verb stack     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm verb stack     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm verb stack     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm verb stack     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm verb stack     at Timer.listOnTimeout (timers.js:92:15)\nnpm verb cwd /Users/ben/.heroku\nnpm ERR! Darwin 15.0.0\nnpm ERR! argv \"/Users/ben/.heroku/node-v5.0.0-darwin-x64/bin/node\" \"/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/cli.js\" \"install\" \"heroku-cli-addons\" \"heroku-apps\" \"heroku-fork\" \"heroku-git\" \"heroku-local\" \"heroku-run\" \"heroku-status\" \"--loglevel=silly\"\nnpm ERR! node v5.0.0\nnpm ERR! npm  v3.3.10\nnpm ERR! This request requires auth credentials. Run npm login and repeat the request.\nnpm ERR!\nnpm ERR! If you need help, you may report this error at:\nnpm ERR!     https://github.com/npm/npm/issues\nnpm verb exit [ 1, true ]\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /Users/ben/.heroku/npm-debug.log\n\u25b8    Error installing package.\n \u25b8\n \u25b8    Try running again with GODE_DEBUG=info to see more output.\nheroku-toolbelt/3.42.22 (x86_64-darwin10.8.0) ruby/1.9.3\nheroku-cli: Installing core plugins...npm info it worked if it ends with ok\nnpm verb cli [ '/Users/ben/.heroku/node-v5.0.0-darwin-x64/bin/node',\nnpm verb cli   '/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/cli.js',\nnpm verb cli   'install',\nnpm verb cli   'heroku-cli-addons',\nnpm verb cli   'heroku-apps',\nnpm verb cli   'heroku-fork',\nnpm verb cli   'heroku-git',\nnpm verb cli   'heroku-local',\nnpm verb cli   'heroku-run',\nnpm verb cli   'heroku-status',\nnpm verb cli   '--loglevel=silly' ]\nnpm info using npm@3.3.10\nnpm info using node@v5.0.0\nnpm sill loadCurrentTree Starting\nnpm sill install loadCurrentTree\nnpm sill install readLocalPackageData\nnpm sill fetchPackageMetaData heroku-cli-addons\nnpm sill fetchPackageMetaData heroku-apps\nnpm sill fetchPackageMetaData heroku-fork\nnpm sill fetchPackageMetaData heroku-git\nnpm sill fetchPackageMetaData heroku-local\nnpm sill fetchPackageMetaData heroku-run\nnpm sill fetchPackageMetaData heroku-status\nnpm sill fetchNamedPackageData heroku-cli-addons\nnpm sill mapToRegistry name heroku-cli-addons\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-cli-addons\nnpm sill fetchNamedPackageData heroku-apps\nnpm sill mapToRegistry name heroku-apps\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-apps\nnpm sill fetchNamedPackageData heroku-fork\nnpm sill mapToRegistry name heroku-fork\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-fork\nnpm sill fetchNamedPackageData heroku-git\nnpm sill mapToRegistry name heroku-git\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-git\nnpm sill fetchNamedPackageData heroku-local\nnpm sill mapToRegistry name heroku-local\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-local\nnpm sill fetchNamedPackageData heroku-run\nnpm sill mapToRegistry name heroku-run\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-run\nnpm sill fetchNamedPackageData heroku-status\nnpm sill mapToRegistry name heroku-status\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-status\nnpm verb request uri https://cli-npm.heroku.com/heroku-cli-addons\nnpm verb request always-auth set; sending authorization\nnpm info attempt registry request try #1 at 1:34:29 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm verb request uri https://cli-npm.heroku.com/heroku-apps\nnpm verb request always-auth set; sending authorization\nnpm info attempt registry request try #1 at 1:34:29 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm verb request uri https://cli-npm.heroku.com/heroku-fork\nnpm verb request always-auth set; sending authorization\nnpm info attempt registry request try #1 at 1:34:29 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm verb request uri https://cli-npm.heroku.com/heroku-git\nnpm verb request always-auth set; sending authorization\nnpm info attempt registry request try #1 at 1:34:29 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm verb request uri https://cli-npm.heroku.com/heroku-local\nnpm verb request always-auth set; sending authorization\nnpm info attempt registry request try #1 at 1:34:29 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm verb request uri https://cli-npm.heroku.com/heroku-run\nnpm verb request always-auth set; sending authorization\nnpm info attempt registry request try #1 at 1:34:29 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm verb request uri https://cli-npm.heroku.com/heroku-status\nnpm verb request always-auth set; sending authorization\nnpm info attempt registry request try #1 at 1:34:29 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm info attempt registry request try #2 at 1:34:39 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm info attempt registry request try #2 at 1:34:39 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm info attempt registry request try #2 at 1:34:39 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm info attempt registry request try #2 at 1:34:39 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm info attempt registry request try #2 at 1:34:39 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm info attempt registry request try #2 at 1:34:39 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm info attempt registry request try #2 at 1:34:39 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm info attempt registry request try #3 at 1:35:39 PM\nnpm sill fetchPackageMetaData Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm sill fetchPackageMetaData     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm sill fetchPackageMetaData     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm sill fetchPackageMetaData     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm sill fetchPackageMetaData     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm sill fetchPackageMetaData     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm sill fetchPackageMetaData     at Timer.listOnTimeout (timers.js:92:15)\nnpm sill fetchPackageMetaData  error for heroku-cli-addons [Error: This request requires auth credentials. Run npm login and repeat the request.]\nnpm info attempt registry request try #3 at 1:35:39 PM\nnpm sill fetchPackageMetaData Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm sill fetchPackageMetaData     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm sill fetchPackageMetaData     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm sill fetchPackageMetaData     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm sill fetchPackageMetaData     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm sill fetchPackageMetaData     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm sill fetchPackageMetaData     at Timer.listOnTimeout (timers.js:92:15)\nnpm sill fetchPackageMetaData  error for heroku-apps [Error: This request requires auth credentials. Run npm login and repeat the request.]\nnpm info attempt registry request try #3 at 1:35:39 PM\nnpm sill fetchPackageMetaData Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm sill fetchPackageMetaData     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm sill fetchPackageMetaData     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm sill fetchPackageMetaData     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm sill fetchPackageMetaData     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm sill fetchPackageMetaData     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm sill fetchPackageMetaData     at Timer.listOnTimeout (timers.js:92:15)\nnpm sill fetchPackageMetaData  error for heroku-fork [Error: This request requires auth credentials. Run npm login and repeat the request.]\nnpm info attempt registry request try #3 at 1:35:39 PM\nnpm sill fetchPackageMetaData Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm sill fetchPackageMetaData     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm sill fetchPackageMetaData     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm sill fetchPackageMetaData     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm sill fetchPackageMetaData     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm sill fetchPackageMetaData     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm sill fetchPackageMetaData     at Timer.listOnTimeout (timers.js:92:15)\nnpm sill fetchPackageMetaData  error for heroku-git [Error: This request requires auth credentials. Run npm login and repeat the request.]\nnpm info attempt registry request try #3 at 1:35:39 PM\nnpm sill fetchPackageMetaData Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm sill fetchPackageMetaData     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm sill fetchPackageMetaData     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm sill fetchPackageMetaData     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm sill fetchPackageMetaData     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm sill fetchPackageMetaData     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm sill fetchPackageMetaData     at Timer.listOnTimeout (timers.js:92:15)\nnpm sill fetchPackageMetaData  error for heroku-local [Error: This request requires auth credentials. Run npm login and repeat the request.]\nnpm info attempt registry request try #3 at 1:35:39 PM\nnpm sill fetchPackageMetaData Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm sill fetchPackageMetaData     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm sill fetchPackageMetaData     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm sill fetchPackageMetaData     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm sill fetchPackageMetaData     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm sill fetchPackageMetaData     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm sill fetchPackageMetaData     at Timer.listOnTimeout (timers.js:92:15)\nnpm sill fetchPackageMetaData  error for heroku-run [Error: This request requires auth credentials. Run npm login and repeat the request.]\nnpm info attempt registry request try #3 at 1:35:39 PM\nnpm sill fetchPackageMetaData Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm sill fetchPackageMetaData     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm sill fetchPackageMetaData     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm sill fetchPackageMetaData     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm sill fetchPackageMetaData     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm sill fetchPackageMetaData     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm sill fetchPackageMetaData     at Timer.listOnTimeout (timers.js:92:15)\nnpm sill fetchPackageMetaData  error for heroku-status [Error: This request requires auth credentials. Run npm login and repeat the request.]\nnpm sill rollbackFailedOptional Starting\nnpm sill rollbackFailedOptional Finishing\nnpm sill runTopLevelLifecycles Starting\nnpm sill runTopLevelLifecycles Finishing\nnpm sill install printInstalled\nnpm verb stack Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm verb stack     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm verb stack     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm verb stack     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm verb stack     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm verb stack     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm verb stack     at Timer.listOnTimeout (timers.js:92:15)\nnpm verb cwd /Users/ben/.heroku\nnpm ERR! Darwin 15.0.0\nnpm ERR! argv \"/Users/ben/.heroku/node-v5.0.0-darwin-x64/bin/node\" \"/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/cli.js\" \"install\" \"heroku-cli-addons\" \"heroku-apps\" \"heroku-fork\" \"heroku-git\" \"heroku-local\" \"heroku-run\" \"heroku-status\" \"--loglevel=silly\"\nnpm ERR! node v5.0.0\nnpm ERR! npm  v3.3.10\nnpm ERR! This request requires auth credentials. Run npm login and repeat the request.\nnpm ERR!\nnpm ERR! If you need help, you may report this error at:\nnpm ERR!     https://github.com/npm/npm/issues\nnpm verb exit [ 1, true ]\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /Users/ben/.heroku/npm-debug.log\n\u25b8    Error installing package.\n \u25b8\n \u25b8    Try running again with GODE_DEBUG=info to see more output.\nheroku-cli/4.27.4-c4dcf3f (amd64-darwin) go1.5.1\nheroku-cli: Installing core plugins...npm info it worked if it ends with ok\nnpm verb cli [ '/Users/ben/.heroku/node-v5.0.0-darwin-x64/bin/node',\nnpm verb cli   '/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/cli.js',\nnpm verb cli   'install',\nnpm verb cli   'heroku-cli-addons',\nnpm verb cli   'heroku-apps',\nnpm verb cli   'heroku-fork',\nnpm verb cli   'heroku-git',\nnpm verb cli   'heroku-local',\nnpm verb cli   'heroku-run',\nnpm verb cli   'heroku-status',\nnpm verb cli   '--loglevel=silly' ]\nnpm info using npm@3.3.10\nnpm info using node@v5.0.0\nnpm sill loadCurrentTree Starting\nnpm sill install loadCurrentTree\nnpm sill install readLocalPackageData\nnpm sill fetchPackageMetaData heroku-cli-addons\nnpm sill fetchPackageMetaData heroku-apps\nnpm sill fetchPackageMetaData heroku-fork\nnpm sill fetchPackageMetaData heroku-git\nnpm sill fetchPackageMetaData heroku-local\nnpm sill fetchPackageMetaData heroku-run\nnpm sill fetchPackageMetaData heroku-status\nnpm sill fetchNamedPackageData heroku-cli-addons\nnpm sill mapToRegistry name heroku-cli-addons\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-cli-addons\nnpm sill fetchNamedPackageData heroku-apps\nnpm sill mapToRegistry name heroku-apps\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-apps\nnpm sill fetchNamedPackageData heroku-fork\nnpm sill mapToRegistry name heroku-fork\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-fork\nnpm sill fetchNamedPackageData heroku-git\nnpm sill mapToRegistry name heroku-git\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-git\nnpm sill fetchNamedPackageData heroku-local\nnpm sill mapToRegistry name heroku-local\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-local\nnpm sill fetchNamedPackageData heroku-run\nnpm sill mapToRegistry name heroku-run\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-run\nnpm sill fetchNamedPackageData heroku-status\nnpm sill mapToRegistry name heroku-status\nnpm sill mapToRegistry using default registry\nnpm sill mapToRegistry registry https://cli-npm.heroku.com/\nnpm sill mapToRegistry uri https://cli-npm.heroku.com/heroku-status\nnpm verb request uri https://cli-npm.heroku.com/heroku-cli-addons\nnpm verb request always-auth set; sending authorization\nnpm info attempt registry request try #1 at 1:35:40 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm verb request uri https://cli-npm.heroku.com/heroku-apps\nnpm verb request always-auth set; sending authorization\nnpm info attempt registry request try #1 at 1:35:40 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm verb request uri https://cli-npm.heroku.com/heroku-fork\nnpm verb request always-auth set; sending authorization\nnpm info attempt registry request try #1 at 1:35:40 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm verb request uri https://cli-npm.heroku.com/heroku-git\nnpm verb request always-auth set; sending authorization\nnpm info attempt registry request try #1 at 1:35:40 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm verb request uri https://cli-npm.heroku.com/heroku-local\nnpm verb request always-auth set; sending authorization\nnpm info attempt registry request try #1 at 1:35:40 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm verb request uri https://cli-npm.heroku.com/heroku-run\nnpm verb request always-auth set; sending authorization\nnpm info attempt registry request try #1 at 1:35:40 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm verb request uri https://cli-npm.heroku.com/heroku-status\nnpm verb request always-auth set; sending authorization\nnpm info attempt registry request try #1 at 1:35:40 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm info attempt registry request try #2 at 1:35:50 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm info attempt registry request try #2 at 1:35:50 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm info attempt registry request try #2 at 1:35:50 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm info attempt registry request try #2 at 1:35:50 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm info attempt registry request try #2 at 1:35:50 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm info attempt registry request try #2 at 1:35:50 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm info attempt registry request try #2 at 1:35:50 PM\nnpm info retry will retry, error on last attempt: Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm info attempt registry request try #3 at 1:36:50 PM\nnpm sill fetchPackageMetaData Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm sill fetchPackageMetaData     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm sill fetchPackageMetaData     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm sill fetchPackageMetaData     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm sill fetchPackageMetaData     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm sill fetchPackageMetaData     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm sill fetchPackageMetaData     at Timer.listOnTimeout (timers.js:92:15)\nnpm sill fetchPackageMetaData  error for heroku-cli-addons [Error: This request requires auth credentials. Run npm login and repeat the request.]\nnpm info attempt registry request try #3 at 1:36:50 PM\nnpm sill fetchPackageMetaData Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm sill fetchPackageMetaData     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm sill fetchPackageMetaData     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm sill fetchPackageMetaData     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm sill fetchPackageMetaData     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm sill fetchPackageMetaData     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm sill fetchPackageMetaData     at Timer.listOnTimeout (timers.js:92:15)\nnpm sill fetchPackageMetaData  error for heroku-apps [Error: This request requires auth credentials. Run npm login and repeat the request.]\nnpm info attempt registry request try #3 at 1:36:50 PM\nnpm sill fetchPackageMetaData Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm sill fetchPackageMetaData     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm sill fetchPackageMetaData     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm sill fetchPackageMetaData     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm sill fetchPackageMetaData     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm sill fetchPackageMetaData     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm sill fetchPackageMetaData     at Timer.listOnTimeout (timers.js:92:15)\nnpm sill fetchPackageMetaData  error for heroku-fork [Error: This request requires auth credentials. Run npm login and repeat the request.]\nnpm info attempt registry request try #3 at 1:36:50 PM\nnpm sill fetchPackageMetaData Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm sill fetchPackageMetaData     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm sill fetchPackageMetaData     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm sill fetchPackageMetaData     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm sill fetchPackageMetaData     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm sill fetchPackageMetaData     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm sill fetchPackageMetaData     at Timer.listOnTimeout (timers.js:92:15)\nnpm sill fetchPackageMetaData  error for heroku-git [Error: This request requires auth credentials. Run npm login and repeat the request.]\nnpm info attempt registry request try #3 at 1:36:50 PM\nnpm sill fetchPackageMetaData Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm sill fetchPackageMetaData     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm sill fetchPackageMetaData     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm sill fetchPackageMetaData     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm sill fetchPackageMetaData     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm sill fetchPackageMetaData     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm sill fetchPackageMetaData     at Timer.listOnTimeout (timers.js:92:15)\nnpm sill fetchPackageMetaData  error for heroku-local [Error: This request requires auth credentials. Run npm login and repeat the request.]\nnpm info attempt registry request try #3 at 1:36:50 PM\nnpm sill fetchPackageMetaData Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm sill fetchPackageMetaData     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm sill fetchPackageMetaData     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm sill fetchPackageMetaData     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm sill fetchPackageMetaData     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm sill fetchPackageMetaData     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm sill fetchPackageMetaData     at Timer.listOnTimeout (timers.js:92:15)\nnpm sill fetchPackageMetaData  error for heroku-run [Error: This request requires auth credentials. Run npm login and repeat the request.]\nnpm info attempt registry request try #3 at 1:36:50 PM\nnpm sill fetchPackageMetaData Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm sill fetchPackageMetaData     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm sill fetchPackageMetaData     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm sill fetchPackageMetaData     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm sill fetchPackageMetaData     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm sill fetchPackageMetaData     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm sill fetchPackageMetaData     at Timer.listOnTimeout (timers.js:92:15)\nnpm sill fetchPackageMetaData  error for heroku-status [Error: This request requires auth credentials. Run npm login and repeat the request.]\nnpm sill rollbackFailedOptional Starting\nnpm sill rollbackFailedOptional Finishing\nnpm sill runTopLevelLifecycles Starting\nnpm sill runTopLevelLifecycles Finishing\nnpm sill install printInstalled\nnpm verb stack Error: This request requires auth credentials. Run npm login and repeat the request.\nnpm verb stack     at CachingRegistryClient.authify (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/authify.js:17:14)\nnpm verb stack     at CachingRegistryClient.makeRequest (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:103:17)\nnpm verb stack     at /Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:66:17\nnpm verb stack     at RetryOperation._fn (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/npm-registry-client/lib/attempt.js:18:5)\nnpm verb stack     at null._onTimeout (/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/node_modules/retry/lib/retry_operation.js:49:10)\nnpm verb stack     at Timer.listOnTimeout (timers.js:92:15)\nnpm verb cwd /Users/ben/.heroku\nnpm ERR! Darwin 15.0.0\nnpm ERR! argv \"/Users/ben/.heroku/node-v5.0.0-darwin-x64/bin/node\" \"/Users/ben/.heroku/node-v5.0.0-darwin-x64/lib/node_modules/npm/cli.js\" \"install\" \"heroku-cli-addons\" \"heroku-apps\" \"heroku-fork\" \"heroku-git\" \"heroku-local\" \"heroku-run\" \"heroku-status\" \"--loglevel=silly\"\nnpm ERR! node v5.0.0\nnpm ERR! npm  v3.3.10\nnpm ERR! This request requires auth credentials. Run npm login and repeat the request.\nnpm ERR!\nnpm ERR! If you need help, you may report this error at:\nnpm ERR!     https://github.com/npm/npm/issues\nnpm verb exit [ 1, true ]\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /Users/ben/.heroku/npm-debug.log\n\u25b8    Error installing package.\n \u25b8\n \u25b8    Try running again with GODE_DEBUG=info to see more output.\n=== Installed Plugins\nheroku-repo\n```\n. Awesome, thanks\n. ",
    "FelipeTaiarol": "I am having the same problem. I tried to reinstall it but it didn't work.\n. ",
    "bogdanRada": "I have same issue. Can't seem to run heroku run bash or anything after the run\nHowever i can see the version , or login \nI am using Ubuntu 16.04 and i have this versions of heroku : \nheroku-toolbelt/3.43.9 (x86_64-linux) ruby/2.3.1\nheroku-cli/5.2.34-65b16c9 (linux-amd64) go1.6.2\nYou have no installed plugins.\nThis is the error i am getting\n```\nmodule.js:442\n    throw err;\n    ^\nError: Cannot find module 'heroku-run'\n    at Function.Module._resolveFilename (module.js:440:15)\n    at Function.Module._load (module.js:388:25)\n    at Module.require (module.js:468:17)\n    at require (internal/module.js:20:19)\n    at Object. (/home/raul/.cache/heroku/tmp/heroku-script-911878717:10:14)\n    at Module._compile (module.js:541:32)\n    at Object.Module._extensions..js (module.js:550:10)\n    at Module.load (module.js:458:32)\n    at tryModuleLoad (module.js:417:12)\n    at Function.Module._load (module.js:409:3)\n```\nEvery time i run the heroku run bash , a folder is created in the current directory named \":\" , which has this structure: \nbash\n:/\n\u2514\u2500\u2500 usr\n    \u2514\u2500\u2500 local\n        \u2514\u2500\u2500 monodevelop-3.0.3.5\n            \u2514\u2500\u2500 share\n                \u2514\u2500\u2500 heroku\n                    \u2514\u2500\u2500 cli\nAlthough my Mono version is this:\nMono JIT compiler version 4.2.1 (Debian 4.2.1.102+dfsg2-7ubuntu4)\nCopyright (C) 2002-2014 Novell, Inc, Xamarin Inc and Contributors. www.mono-project.com\n    TLS:           __thread\n    SIGSEGV:       altstack\n    Notifications: epoll\n    Architecture:  amd64\n    Disabled:      none\n    Misc:          softdebug \n    LLVM:          supported, not enabled.\n    GC:            sgen\nCould it be related to the fact that i am using a newer version of Mono? \nHowever trying to downgrade to mono 3.0.3.5 , seems to require package \"mono-gmcs\" , which on Ubuntu 16.04 i get this when trying to install:\n```\nReading package lists... Done\nBuilding dependency tree     \nReading state information... Done\nPackage mono-gmcs is not available, but is referred to by another package.\nThis may mean that the package is missing, has been obsoleted, or\nis only available from another source\nHowever the following packages replace it:\n  mono-xbuild mono-mcs mono-devel\nE: Package 'mono-gmcs' has no installation candidate\n```\nAny help would be greatly appreciated.\n. I was able to figure it out . I don;t have anything in LOCALAPPDATA, and i haven't checked before the other environment variables.\nBut you have gave me a wonderful idea, so i checked the rest of the env variables and found something strange when using the command printenv: \nXDG_DATA_HOME=:/usr/local/monodevelop-3.0.3.5/share\nXDG_DATA_DIRS=/usr/share/ubuntu:/usr/share/gnome:/usr/local/share/:/usr/share/:/var/lib/snapd/desktop:/usr/local/monodevelop-3.0.3.5/share\nWhich after some investigation, it seems there were in my bashrc profile, probably left when i upgraded my Ubuntu version from 14.04 to 16.04\n```\nexport XDG_DATA_HOME=$XDG_DATA_HOME:/usr/local/monodevelop-3.0.3.5/share\nexport XDG_DATA_DIRS=$XDG_DATA_DIRS:/usr/local/monodevelop-3.0.3.5/share\n```\nAfter removing them and using this commands from here: http://www.commandlinefu.com/commands/view/11373/make-changes-in-.bashrc-immediately-available to make printenv work , because it was keep showing them although i tried using bash --login or source ~/.bashrc after i removed them from the file \nNow everything works fine :) Sorry for the trouble. I haven't realized before that i might have some leftover environment variables left in my bashrc file . \nThank you for your support. Have a nice day.\n. ",
    "JakeChampion": "The documentation for this makes it sound like the feature does already exist.\nhttps://devcenter.heroku.com/articles/sharing#collaborator-privileges\n\nCollaborators can perform any other action that an owner can, including scaling applications.\n\nHowever, when I add a collaborator, according to the Heroku web application, they can only view the app, the other three permissions are not highlighted, which makes me think the collaborator does not have those permissions.\n. ",
    "frederick036": "@noortotah I have the exact same problem using the Postgres database when I tried to upgrade. What do you mean by \"colors\"?\n. @ransombriggs Thanks, it works!\n. ",
    "AndrewKoliaka": "Yes\nI added http_proxy variable to my environment\n. Tried. The similar error \n. \n. ",
    "chriddyp": "Fixed with $ heroku update. Thanks, and sorry for the noise!\n. ",
    "webbtj": "+1\nRunning heroku logs caused the same issue. Recently re-installed the Toolbelt (latest version). Call stack looks like this:\n2015/12/15 15:21:21 running heroku-cli/4.27.9-cce0260 (amd64-darwin) go1.5.2 from /Users/tjwebb/.heroku/heroku-cli\nHeroku client internal error.\nundefined method `netrc_filename' for Netrc:Class\n/usr/local/heroku/lib/heroku/auth.rb:138:in `netrc_path'\n/usr/local/heroku/lib/heroku/auth.rb:160:in `rescue in netrc'\n/usr/local/heroku/lib/heroku/auth.rb:151:in `netrc'\n/usr/local/heroku/lib/heroku/auth.rb:178:in `read_credentials'\n/usr/local/heroku/lib/heroku/auth.rb:113:in `get_credentials'\n/usr/local/heroku/lib/heroku/auth.rb:85:in `user'\n/usr/local/heroku/lib/heroku/auth.rb:39:in `client'\n/usr/local/heroku/lib/heroku/command/base.rb:80:in `heroku'\n/usr/local/heroku/lib/heroku/command/logs.rb:33:in `index'\n/usr/local/heroku/lib/heroku/command.rb:212:in `run'\n/usr/local/heroku/lib/heroku/cli.rb:30:in `start'\n/usr/local/bin/heroku:24:in `<main>'\nJust digging through and clearly there is an issue with getting the netrc_filename property of the Netrc class. Netrc is new to me so I'm still doing some digging, any help would be greatly appreciated.\n. @ransombriggs et al, I just found my issue. For some reason though I updated the Heroku Toolbelt, I still had an old copy of Netrc AND the new copy. So I had both 0.7.7 and 0.10.3. Once I removed (renamed) 0.7.7 my issues were resolved.\n. ",
    "wheredidjupark": "The issue matches webbtj's. Thanks for resolving the issue!\n. ",
    "jareilly": "Thanks webbtj, I had the same issue !\n. ",
    "vinkris": "Awesome, thanks for helping @webbtj.\n. ",
    "ryanwalters": "No, it points to my user folder.\n. No strange characters. Running set LOCALAPPDATA=C:\\heroku has no effect, the same errors occur.\n. After reinstalling, running heroku login generates the same error. The only difference being the version (3.42.27 vs 3.42.25) and Error ID.\nError:      Invalid argument - \"C:\\...\\AppData\\Local/heroku/heroku-cli.exe\" version (errno::EINVAL)\nCommand:    heroku login\nVersion:    heroku/toolbelt/3.42.27 (i386-mingw32) ruby/2.1.7\nError ID:   0755e40010a74960818e5e50de1ca81a\n. ",
    "JimmyRare": "I have the same error using cmd.exe. Doesn't matter if I run the login command or any other.\n. ",
    "esegura": "FWIW, this is exactly what I just run into. Bitdefender botched an update (reported 'Gen:Variant.Midie.8641') and I had to reinstall from scratch, since I was getting 'panic' on further updates. Even reinstalling failed at first, I had to add an exception for heroku-cli.exe.\nThanks Bitdefender!\n. ",
    "dadicool": "+1\n. ",
    "evictor": "Yes, I believe it is fixed now. Thanks!\nOn Wed, Mar 30, 2016 at 9:39 AM Ransom Briggs notifications@github.com\nwrote:\n\n@evictor https://github.com/evictor Did not notice that your request\nwas fairly old, the command has changed since then and it should be exiting\nwith the proper code now.\n@evictor https://github.com/evictor Could you make sure you have\nheroku-local@5.0.1 using heroku version and then check to see if the exit\ncode you see from heroku local:run matches what you expect? If you are\nnot up to date, you can run heroku update to bring everything up to date.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/issues/1856#issuecomment-203517316\n. \n",
    "imidsac": "heroku pg:reset DATABASE_URL --confirm my_app\n. ",
    "rmasineni": "I am able to resolve my issue. Please delete the old Netrc from the gems folder. \nIn my case I have deleted Netrc with version 0.7.7.   Heroku\\vendor\\gems\n. ",
    "lukertty": "@ransombriggs  Thankyou!\nI  deleted this line in ~/.npmrc\nregistry = \"https://registry.cnpmjs.org/\"\nNow it works fine~~\n. And if the output shows that \nnpm info retry will retry, error on last attempt: Error: tunneling socket could not be established, cause=socket hang up\nChange \nhttps-proxy=https://ipaddress:port\nto\nhttps-proxy=http://ipaddress:port\nin ~/.npmrc\nOr change https_proxy environment variable in the same way may help.\nSee also\nhttps://github.com/npm/npm/issues/2472\n. ",
    "isms": "@dickeyxxx Can confirm issue on Debian stretch:\n```\n$ sudo apt-get install heroku\nReading package lists... Done\nBuilding dependency tree     \nReading state information... Done\nSome packages could not be installed. This may mean that you have\nrequested an impossible situation or if you are using the unstable\ndistribution that some required packages have not yet been created\nor been moved out of Incoming.\nThe following information may help to resolve the situation:\nThe following packages have unmet dependencies:\n heroku : Depends: ruby2.1 but it is not installable or\n                   ruby2.0 but it is not installable or\n                   libopenssl-ruby1.9.1 but it is not installable\n          Depends: ruby2.1 but it is not installable or\n                   ruby2.0 but it is not installable or\n                   libreadline-ruby1.9.1 but it is not installable\n          Depends: ruby2.1 but it is not installable or\n                   ruby2.0 but it is not installable or\n                   ruby1.9.1 but it is not installable\nE: Unable to correct problems, you have held broken packages.\n```\n$ lsb_release -a\nNo LSB modules are available.\nDistributor ID: Debian\nDescription:    Debian GNU/Linux testing (stretch)\nRelease:    testing\nCodename:   stretch\n. ",
    "nikolai-b": ":+1: Looks like the ruby virtual package is in old Ubuntu and Debian repos\nas https://github.com/heroku/heroku/pull/1860#issuecomment-166465350 said.\nI was getting this with debain sid also.\n. ",
    "severen": "Any updates on this @dickeyxxx?\n. ",
    "tcox5698": "Thanks for the response - but I don't believe the installations of Ruby nor the Heroku toolbelt had anything to do with the problem. I tried multiple installations of Ruby. I tried deleting and reinstalling Heroku Toolbelt. I created a new virtual machine with an Ubuntu base box and installed Heroku Toolbelt - all produced the same error about the \"undefined method: 'resource_name'.\nHowever, it worked as desired when I changed the command to:\nheroku pg:copy postgres://snzaiodracumwc:oDDjy9BV1z6D01LhOW6cLE2ayx@ec2-75-101-143-150.compute-1.amazonaws.com:5432/d6lto4o6njs2o2 DATABASE_URL --app kubedapp2-tcdev-273 --confirm kubedapp2-tcdev-273\nThe differences being:\n1. The literal DATABASE_URL in place of the url to the target database.\n2. The target app name as the argument to the --confirm parameter.\nSo while there is a workaround available, I would still consider this a minor defect - at least in the documentation.\n. ",
    "petervdw": "@ransombriggs Thanks for reaching out. I've opened a support ticket and already resolved the issue. Apologies for not closing this sooner!\n. ",
    "ncapito": "I'm seeing this same issue right now.   Just upgraded to latest cli (   heroku-toolbelt/3.42.25 (x86_64-darwin10.8.0) ruby/1.9.3) .\n. ",
    "keithpitty": "@lambtron @ncapito I was seeing the same issue. To resolve it I had to uninstall the heroku toolbelt and then reinstall it.\n. ",
    "lambtron": "+1. @keithpitty your suggestion worked. thanks!\n. ",
    "rheaditi": "Hi Guys, I'm facing the same issue. My workplace uses a proxy server. \nI've configured the proxy according to the instructions mentioned here.\nThe server I've set up is correct because it works with Git (for windows).\nI've tried setting them to proxy.server.com:port_number for which I get uninitialized constant Excon::Errors::ProxyParseError (NameError)\nAnd also tried username@proxy.server.com:port_number (which I'm using for Git, and it is working; I get bad URI(is not URI?): username@proxy.server.com:port_number (URI::InvalidURIError) :disappointed: \nAny help appreciated.\n. @ransombriggs Hi, \nI hadn't tried that. Upon prefixing http:// and https:// respectively to HTTP_PROXY and HTTPS_PROXY I get the following messages:\n1. With username:\n   Error:          SSL_connect returned=1 errno=0 state=SSLv2/v3 read server hello A: unknown protocol (OpenSSL::SSL::SSLError) (Excon::Error::Socket)\n   Command:        heroku login\n   HTTP Proxy:     http://username@proxy.example.com:80\n   HTTPS Proxy:            https://username@proxy.example.com:80\n   Version:                heroku/toolbelt/3.43.9 (i386-mingw32) ruby/2.1.7\n2. Without username\n   Error:          SSL_connect returned=1 errno=0 state=SSLv2/v3 read server hello A: unknown protocol (OpenSSL::SSL::SSLError) (Excon::Error::Socket)\n   Command:        heroku login\n   HTTP Proxy:     http://proxy.example.com:80\n   HTTPS Proxy:            https://proxy.example.com:80\n   Version:                heroku/toolbelt/3.43.9 (i386-mingw32) ruby/2.1.7\n. @ransombriggs \n1. I am not sure about the certificate rewriting & unaware of how to check if it does do that. Although my SSL_CERT_FILE is set to point to a local version of this file as required for Jekyll following this guide.\n2. The port is correct AFAIK as I am using the exact same host, domain & port combination for the proxy settings in git and this works. Removing the port number gives me heroku-cli: Installing CLI...\n   Error: connect_write timeout reached\n. @ransombriggs I get the same error as before:\nsh\nError: SSL_connect returned=1 errno=0 state=SSLv2/v3 read server hello A: unknown protocol (OpenSSL::SSL::SSLError) (Excon::Error::Socket)\nCommand: heroku login\nHTTP Proxy: http://proxy.example.com:80\nHTTPS Proxy: https://proxy.example.com:80\nVersion: heroku/toolbelt/3.43.9 (i386-mingw32) ruby/2.1.7\n. @ransombriggs So I hadn't tested that in a while, especially not behind the proxy server at work. It doesn't function behind the proxy..\n``` sh\nuser@machine MINGW64 /c\n$ echo $HTTP_PROXY\nhttp://[username]@proxy.server.com:80\nuser@machine MINGW64 /c\n$ echo $HTTPS_PROXY\nhttps://[username]@proxy.server.com:80\nuser@machine MINGW64 /c\n$ ruby -rnet/https -e \"Net::HTTP.get URI('https://github.com')\"\nC:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:879:in initialize': getaddrinfo: No such host is known.  (SocketError)\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:879:inopen'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:879:in block in connect'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/timeout.rb:73:intimeout'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:878:in connect'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:863:indo_start'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:852:in start'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:583:instart'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:478:in get_response'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:455:inget'\n        from -e:1:in `'\nuser@machine MINGW64 /c\n$ ruby -rnet/http -e \"Net::HTTP.get URI('http://github.com')\"\nC:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:879:in initialize': getaddrinfo: No such host is known.  (SocketError)\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:879:inopen'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:879:in block in connect'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/timeout.rb:73:intimeout'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:878:in connect'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:863:indo_start'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:852:in start'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:583:instart'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:478:in get_response'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:455:inget'\n        from -e:1:in `'\nuser@machine MINGW64 /c\n$ echo $SSL_CERT_FILE\nC:\\Users[username]\\cacert.pem\nuser@machine MINGW64 /c\n$ ruby -rnet/http -e \"Net::HTTP.get URI('http://api.heroku.com')\"\nC:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:879:in initialize': getaddrinfo: No such host is known.  (SocketError)\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:879:inopen'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:879:in block in connect'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/timeout.rb:73:intimeout'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:878:in connect'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:863:indo_start'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:852:in start'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:583:instart'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:478:in get_response'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:455:inget'\n        from -e:1:in `'\nuser@machine MINGW64 /c\n$ ruby -rnet/https -e \"Net::HTTP.get URI('https://api.heroku.com')\"\nC:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:879:in initialize': getaddrinfo: No such host is known.  (SocketError)\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:879:inopen'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:879:in block in connect'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/timeout.rb:73:intimeout'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:878:in connect'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:863:indo_start'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:852:in start'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:583:instart'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:478:in get_response'\n        from C:/RailsInstaller/Ruby2.2.0/lib/ruby/2.2.0/net/http.rb:455:inget'\n```\n. ",
    "onlyafly": "Until this is fixed, running this (instead of \"heroku local web\") works for me:\n$\u00a0forego start\n. ",
    "gocreating": "@ransombriggs Yeah that's my question. I think I should not install any dependency outside the root directory. It's not practical due to heroku's 60 seconds boot timeout. I am going to figure out another way, thank you!\n. ",
    "legarland": "I created a package.json in the root directory and used a postinstall script to change directories and run the npm install:\n\"start\": \n    { \n        \"postinstall\": \"cd server && npm install\" \n    }\n. ",
    "danielocallaghan": "@ransombriggs looks like the error persists after trying that:\n```\ndaniel@Daniels-MacBook-Pro:~\n$ rm -rf .heroku\ndaniel@Daniels-MacBook-Pro:~\n$ heroku auth:login\nheroku-cli: Installing Toolbelt v4... done\nFor more information on Toolbelt v4: https://github.com/heroku/heroku-cli\nheroku-cli: Adding dependencies... done\nheroku-cli: Installing core plugins... done\nEnter your Heroku credentials.\nEmail: doc@trineo.com\nPassword (typing will be hidden):\nLogged in as doc@trineo.com\ndaniel@Daniels-MacBook-Pro:~\n$ heroku apps\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method `netrc_filename' for Netrc:Class (NoMethodError)\nCommand:     heroku apps\nVersion:     heroku-toolbelt/3.42.25 (x86_64-darwin10.8.0) ruby/1.9.3\nError ID:    46f43e8d1fac41f98e872f1565fe1f40\n\n\nMore information in /Users/daniel/.heroku/error.log\n\ndaniel@Daniels-MacBook-Pro:~\n$ cat .heroku/error.log\n2016/01/07 10:02:52 running heroku-cli/4.27.9-cce0260 (amd64-darwin) go1.5.2 from /Users/daniel/.heroku/heroku-cli\n2016/01/07 10:02:52 heroku-cli: Adding dependencies...\n2016/01/07 10:02:59  done\n2016/01/07 10:02:59 heroku-cli: Installing core plugins...\n2016/01/07 10:03:10  done\n2016/01/07 10:03:10 running heroku-cli/4.27.9-cce0260 (amd64-darwin) go1.5.2 from /Users/daniel/.heroku/heroku-cli\n2016/01/07 10:03:10 running heroku-cli/4.27.9-cce0260 (amd64-darwin) go1.5.2 from /Users/daniel/.heroku/heroku-cli\n2016/01/07 10:03:10 Email:\n2016/01/07 10:03:54 running heroku-cli/4.27.9-cce0260 (amd64-darwin) go1.5.2 from /Users/daniel/.heroku/heroku-cli\nHeroku client internal error.\nundefined method netrc_filename' for Netrc:Class\n/usr/local/heroku/lib/heroku/auth.rb:138:innetrc_path'\n/usr/local/heroku/lib/heroku/auth.rb:160:in rescue in netrc'\n/usr/local/heroku/lib/heroku/auth.rb:151:innetrc'\n/usr/local/heroku/lib/heroku/auth.rb:178:in read_credentials'\n/usr/local/heroku/lib/heroku/auth.rb:113:inget_credentials'\n/usr/local/heroku/lib/heroku/auth.rb:89:in password'\n/usr/local/heroku/lib/heroku/auth.rb:17:inapi'\n/usr/local/heroku/lib/heroku/command/base.rb:72:in api'\n/usr/local/heroku/lib/heroku/command/apps.rb:35:inindex'\n/usr/local/heroku/lib/heroku/command.rb:212:in run'\n/usr/local/heroku/lib/heroku/cli.rb:30:instart'\n/usr/local/bin/heroku:24:in `'\n```\n. got this working now by following the suggestion from @keithpitty at: https://github.com/heroku/heroku/issues/1865\n. ",
    "mandagill": "@uhoh-itsmaciek @ransombriggs I can pick this up. \n. ",
    "joallard": "I agree. A configurable option would be pretty cool I think. Thanks for the workaround, hadn't thought of that.\n. By the way, as someone whose branch names don't equal the remote names (develop: staging, master: production), here's what I was angling for:\n``` bash\n.git/hooks/post-checkout\n!/bin/bash\nv2\nBRANCH=$(git rev-parse --abbrev-ref HEAD)\nREMOTE=$(git config branch.$BRANCH.remote)\nif [ $? -eq 0 ]\nthen\n  echo \"post-checkout: Changing heroku.remote to `$REMOTE`\"\n  git config heroku.remote $REMOTE\nelse\n  echo \"post-checkout: Unsetting heroku.remote\"\n  git config --unset heroku.remote\nfi\n```\nbash\n$ git checkout develop\nSwitched to branch 'develop'\npost-checkout: Changing heroku.remote to `staging`\n$ git checkout other\nSwitched to branch 'other'\npost-checkout: Unsetting heroku.remote\n$ git checkout master\nSwitched to branch 'master'\nYour branch is up-to-date with 'production/master'.\npost-checkout: Changing heroku.remote to `production`\n$ heroku yay\nYay! This command would run on your `production` remote, but it's\nnot an actual command.\nAnd I'm as happy as a fish in the water.\n. ",
    "manuks": "It was able to connect form one user in the same machine but not for others. Copied the .heroku folder of that user to other's home folder and it started to work.\n. ",
    "jrmiranda": "@ransombriggs Still the same error.. I even installed the node last version\n. ",
    "yukinakai": "@ransombriggs Sorry for the delayed response, my problem was solved thanks to your answer. thanks a lot .\n. ",
    "hollsk": "I'm also getting very similar SSL errors today:\n```\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       hostname \"manager-api.heroku.com\" does not match the server certificate (OpenSSL::SSL::SSLError) (Excon::Errors::SocketError)\nBacktrace:   /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/openssl/ssl.rb:139:in `post_connection_check'\n             /Library/Ruby/Gems/2.0.0/gems/excon-0.31.0/lib/excon/ssl_socket.rb:86:in `initialize'\n             /Library/Ruby/Gems/2.0.0/gems/excon-0.31.0/lib/excon/connection.rb:410:in `new'\n             /Library/Ruby/Gems/2.0.0/gems/excon-0.31.0/lib/excon/connection.rb:410:in `socket'\n             /Library/Ruby/Gems/2.0.0/gems/excon-0.31.0/lib/excon/connection.rb:122:in `request_call'\n             /Library/Ruby/Gems/2.0.0/gems/excon-0.31.0/lib/excon/middlewares/mock.rb:42:in `request_call'\n             /Library/Ruby/Gems/2.0.0/gems/excon-0.31.0/lib/excon/middlewares/instrumentor.rb:22:in `request_call'\n             /Library/Ruby/Gems/2.0.0/gems/excon-0.31.0/lib/excon/middlewares/base.rb:15:in `request_call'\n             /Library/Ruby/Gems/2.0.0/gems/excon-0.31.0/lib/excon/middlewares/base.rb:15:in `request_call'\n             /Library/Ruby/Gems/2.0.0/gems/excon-0.31.0/lib/excon/middlewares/base.rb:15:in `request_call'\n             /Library/Ruby/Gems/2.0.0/gems/excon-0.31.0/lib/excon/connection.rb:265:in `request'\n             /Library/Ruby/Gems/2.0.0/gems/heroku-3.3.0/lib/heroku/client/organizations.rb:31:in `request'\n             /Library/Ruby/Gems/2.0.0/gems/heroku-3.3.0/lib/heroku/client/organizations.rb:76:in `get_orgs'\n             /Library/Ruby/Gems/2.0.0/gems/heroku-3.3.0/lib/heroku/command/base.rb:53:in `org'\n             /Library/Ruby/Gems/2.0.0/gems/heroku-3.3.0/lib/heroku/command/apps.rb:237:in `create'\n             /Library/Ruby/Gems/2.0.0/gems/heroku-3.3.0/lib/heroku/command.rb:218:in `run'\n             /Library/Ruby/Gems/2.0.0/gems/heroku-3.3.0/lib/heroku/cli.rb:28:in `start'\n             /Library/Ruby/Gems/2.0.0/gems/heroku-3.3.0/bin/heroku:17:in `<top (required)>'\n             /usr/bin/heroku:23:in `load'\n             /usr/bin/heroku:23:in `<main>'\n\nCommand:     heroku create\nVersion:     heroku-gem/3.3.0 (universal.x86_64-darwin13) ruby/2.0.0\n\n```\nI'm not running a proxy either. Based in the UK, using EE broadband (unlike OP, no problems accessing heroku.com though).\n. ",
    "jonathantribouharet": "It's seem coming from rubygems https://github.com/rubygems/rubygems/issues/1420\n. Yes no problem, I already downgrade to ruby 2.2.3.\n. Yes it works, thank you.\n. ",
    "fro": "Same here :-(\nHere's my logs:\n2016/02/15 23:36:31 Updating Heroku v4 CLI to 4.27.21-839acbb (master)... \n2016/02/15 23:36:32 done\n2016/02/15 23:36:32 reexecing new CLI...\n2016/02/15 23:36:32 Updating plugins... \n2016/02/15 23:36:36 done. Updated 2 packages.\n2016/02/15 23:36:36 heroku-cli: Installing core plugins...\n2016/02/15 23:36:42 heroku-cli: Installing core plugins (retrying)...\n2016/02/15 23:36:47 \n2016/02/15 23:36:47  \u25b8    Error reading plugin: heroku-pipelines\n \u25b8    exit status 1\n \u25b8    module.js:327\n \u25b8        throw err;\n \u25b8        ^\n \u25b8    \n \u25b8    Error: Cannot find module 'heroku-pipelines'\n \u25b8        at Function.Module._resolveFilename (module.js:325:15)\n \u25b8        at Function.Module._load (module.js:276:25)\n \u25b8        at Module.require (module.js:353:17)\n \u25b8        at require (internal/module.js:12:17)\n \u25b8        at [eval]:2:15\n \u25b8        at Object.exports.runInThisContext (vm.js:54:17)\n \u25b8        at Object.<anonymous> ([eval]-wrapper:6:22)\n \u25b8        at Module._compile (module.js:397:26)\n \u25b8        at node.js:611:27\n \u25b8        at nextTickCallbackWith0Args (node.js:452:9)\n2016/02/15 23:40:05 heroku-cli: Installing core plugins...\n2016/02/15 23:40:13 heroku-cli: Installing core plugins (retrying)...\n2016/02/15 23:40:19 \n2016/02/15 23:40:19  \u25b8    Error reading plugin: heroku-pipelines\n \u25b8    exit status 1\n \u25b8    module.js:327\n \u25b8        throw err;\n \u25b8        ^\n \u25b8    \n \u25b8    Error: Cannot find module 'heroku-pipelines'\n \u25b8        at Function.Module._resolveFilename (module.js:325:15)\n \u25b8        at Function.Module._load (module.js:276:25)\n \u25b8        at Module.require (module.js:353:17)\n \u25b8        at require (internal/module.js:12:17)\n \u25b8        at [eval]:2:15\n \u25b8        at Object.exports.runInThisContext (vm.js:54:17)\n \u25b8        at Object.<anonymous> ([eval]-wrapper:6:22)\n \u25b8        at Module._compile (module.js:397:26)\n \u25b8        at node.js:611:27\n \u25b8        at nextTickCallbackWith0Args (node.js:452:9)\n2016/02/15 23:40:19 heroku-cli: Installing core plugins...\n2016/02/15 23:40:21 heroku-cli: Installing core plugins (retrying)...\n2016/02/15 23:40:26 \n2016/02/15 23:40:26  \u25b8    Error reading plugin: heroku-pipelines\n \u25b8    exit status 1\n \u25b8    module.js:327\n \u25b8        throw err;\n \u25b8        ^\n \u25b8    \n \u25b8    Error: Cannot find module 'heroku-pipelines'\n \u25b8        at Function.Module._resolveFilename (module.js:325:15)\n \u25b8        at Function.Module._load (module.js:276:25)\n \u25b8        at Module.require (module.js:353:17)\n \u25b8        at require (internal/module.js:12:17)\n \u25b8        at [eval]:2:15\n \u25b8        at Object.exports.runInThisContext (vm.js:54:17)\n \u25b8        at Object.<anonymous> ([eval]-wrapper:6:22)\n \u25b8        at Module._compile (module.js:397:26)\n \u25b8        at node.js:611:27\n \u25b8        at nextTickCallbackWith0Args (node.js:452:9)\n. Working, great.\n```\nfro@host project (master) $ heroku --version\nheroku-cli: Installing core plugins... done\nheroku-gem/3.31.3 (x86_64-darwin14.1.0) ruby/1.9.3\nheroku-cli/4.27.21-839acbb (amd64-darwin) go1.5.3\n=== Installed Plugins\nheroku-apps@1.2.4\nheroku-cli-addons@0.2.0\nheroku-fork@4.1.1\nheroku-git@2.4.5\nheroku-local@4.1.7\nheroku-pipelines@1.0.2\nheroku-run@2.9.2\nheroku-spaces@2.0.13\nheroku-status@2.1.0\nWARNING: Toolbelt v3.42.36 update available.\n```\n. @ransombriggs Thank you for the feedback.\n. ",
    "timlichen": "Also having the same issue,\nBelow are my logs, very similar to @fro \nheroku-cli: Installing core plugins (retrying)...\n \u25b8    Error reading plugin: heroku-pipelines\n \u25b8    exit status 1\n \u25b8    module.js:327\n \u25b8        throw err;\n \u25b8        ^\n \u25b8\n \u25b8    Error: Cannot find module 'heroku-pipelines'\n \u25b8        at Function.Module._resolveFilename (module.js:325:15)\n \u25b8        at Function.Module._load (module.js:276:25)\n \u25b8        at Module.require (module.js:353:17)\n \u25b8        at require (internal/module.js:12:17)\n \u25b8        at [eval]:2:15\n \u25b8        at Object.exports.runInThisContext (vm.js:54:17)\n \u25b8        at Object. ([eval]-wrapper:6:22)\n \u25b8        at Module._compile (module.js:397:26)\n \u25b8        at node.js:611:27\n \u25b8        at nextTickCallbackWith0Args (node.js:452:9)\nheroku-cli: Installing core plugins (retrying)...\n \u25b8    Error reading plugin: heroku-pipelines\n \u25b8    exit status 1\n \u25b8    module.js:327\n \u25b8        throw err;\n \u25b8        ^\n \u25b8\n \u25b8    Error: Cannot find module 'heroku-pipelines'\n \u25b8        at Function.Module._resolveFilename (module.js:325:15)\n \u25b8        at Function.Module._load (module.js:276:25)\n \u25b8        at Module.require (module.js:353:17)\n \u25b8        at require (internal/module.js:12:17)\n \u25b8        at [eval]:2:15\n \u25b8        at Object.exports.runInThisContext (vm.js:54:17)\n \u25b8        at Object. ([eval]-wrapper:6:22)\n \u25b8        at Module._compile (module.js:397:26)\n \u25b8        at node.js:611:27\n \u25b8        at nextTickCallbackWith0Args (node.js:452:9)\n !    error getting commands pid 15450 exit 1\nTims-MBP:Documents timchen$ heroku update\nheroku-cli: Installing core plugins (retrying)...\n \u25b8    Error reading plugin: heroku-pipelines\n \u25b8    exit status 1\n \u25b8    module.js:327\n \u25b8        throw err;\n \u25b8        ^\n \u25b8\n \u25b8    Error: Cannot find module 'heroku-pipelines'\n \u25b8        at Function.Module._resolveFilename (module.js:325:15)\n \u25b8        at Function.Module._load (module.js:276:25)\n \u25b8        at Module.require (module.js:353:17)\n \u25b8        at require (internal/module.js:12:17)\n \u25b8        at [eval]:2:15\n \u25b8        at Object.exports.runInThisContext (vm.js:54:17)\n \u25b8        at Object. ([eval]-wrapper:6:22)\n \u25b8        at Module._compile (module.js:397:26)\n \u25b8        at node.js:611:27\n \u25b8        at nextTickCallbackWith0Args (node.js:452:9)\n. Looks like the issue is resolved on my end.\n. ",
    "chrisbloom7": "Same here after trying two fresh installs:\nrm -rf ~/.heroku\nsudo rm -rf /usr/local/heroku\nDownload the latest installer from https://toolbelt.heroku.com/ and install it. Open a new terminal window and:\n$ heroku update\nheroku-cli: Installing Toolbelt v4... done\nFor more information on Toolbelt v4: https://github.com/heroku/heroku-cli\nheroku-cli: Adding dependencies... done\nheroku-cli: Installing core plugins (retrying)...\n \u25b8    Error reading plugin: heroku-pipelines\n \u25b8    exit status 1\n \u25b8    module.js:327\n \u25b8        throw err;\n \u25b8        ^\n \u25b8    \n \u25b8    Error: Cannot find module 'heroku-pipelines'\n \u25b8        at Function.Module._resolveFilename (module.js:325:15)\n \u25b8        at Function.Module._load (module.js:276:25)\n \u25b8        at Module.require (module.js:353:17)\n \u25b8        at require (internal/module.js:12:17)\n \u25b8        at [eval]:2:15\n \u25b8        at Object.exports.runInThisContext (vm.js:54:17)\n \u25b8        at Object.<anonymous> ([eval]-wrapper:6:22)\n \u25b8        at Module._compile (module.js:397:26)\n \u25b8        at node.js:611:27\n \u25b8        at nextTickCallbackWith0Args (node.js:452:9)\nheroku-cli: Installing core plugins (retrying)...\n \u25b8    Error reading plugin: heroku-pipelines\n \u25b8    exit status 1\n \u25b8    module.js:327\n \u25b8        throw err;\n \u25b8        ^\n \u25b8    \n \u25b8    Error: Cannot find module 'heroku-pipelines'\n \u25b8        at Function.Module._resolveFilename (module.js:325:15)\n \u25b8        at Function.Module._load (module.js:276:25)\n \u25b8        at Module.require (module.js:353:17)\n \u25b8        at require (internal/module.js:12:17)\n \u25b8        at [eval]:2:15\n \u25b8        at Object.exports.runInThisContext (vm.js:54:17)\n \u25b8        at Object.<anonymous> ([eval]-wrapper:6:22)\n \u25b8        at Module._compile (module.js:397:26)\n \u25b8        at node.js:611:27\n \u25b8        at nextTickCallbackWith0Args (node.js:452:9)\n !    error getting commands pid 4616 exit 1\n. Confirmed working for me\n. ",
    "ismith": "Same.  'npm install -g heroku-pipelines' seems to work fine, though.  I also tried cp'ing the resulting directory (/usr/local/lib/node_modules/heroku-pipelines) to ~/.heroku/node_modules, but running a heroku local command after that emptied ~/.heroku/node_modules and then the same problem (Cannot find module 'heroku-pipelines') occurred.\n. Like @timlichen, seems to be working now for me.\n. ",
    "sylv3rblade": "same issue with a new installation from homebrew\n```\nsylv3rblade@DevUnit ~/P/p> brew install heroku\n==> Downloading https://s3.amazonaws.com/assets.heroku.com/heroku-client/heroku-client-3.42.33.tgz\n################################################################## 100.0%\n\ud83c\udf7a  /usr/local/Cellar/heroku-toolbelt/3.42.33: 988 files, 6.1M, built in 7 seconds\nsylv3rblade@DevUnit ~/P/p> heroku\nheroku-cli: Installing core plugins (retrying)...\n \u25b8    Error reading plugin: heroku-pipelines\n \u25b8    exit status 1\n \u25b8    module.js:327\n \u25b8        throw err;\n \u25b8        ^\n \u25b8\n \u25b8    Error: Cannot find module 'heroku-pipelines'\n \u25b8        at Function.Module._resolveFilename (module.js:325:15)\n \u25b8        at Function.Module._load (module.js:276:25)\n \u25b8        at Module.require (module.js:353:17)\n \u25b8        at require (internal/module.js:12:17)\n \u25b8        at [eval]:2:15\n \u25b8        at Object.exports.runInThisContext (vm.js:54:17)\n \u25b8        at Object. ([eval]-wrapper:6:22)\n \u25b8        at Module._compile (module.js:397:26)\n \u25b8        at node.js:611:27\n \u25b8        at nextTickCallbackWith0Args (node.js:452:9)\nheroku-cli: Installing core plugins (retrying)...\n \u25b8    Error reading plugin: heroku-pipelines\n \u25b8    exit status 1\n \u25b8    module.js:327\n \u25b8        throw err;\n \u25b8        ^\n \u25b8\n \u25b8    Error: Cannot find module 'heroku-pipelines'\n \u25b8        at Function.Module._resolveFilename (module.js:325:15)\n \u25b8        at Function.Module._load (module.js:276:25)\n \u25b8        at Module.require (module.js:353:17)\n \u25b8        at require (internal/module.js:12:17)\n \u25b8        at [eval]:2:15\n \u25b8        at Object.exports.runInThisContext (vm.js:54:17)\n \u25b8        at Object. ([eval]-wrapper:6:22)\n \u25b8        at Module._compile (module.js:397:26)\n \u25b8        at node.js:611:27\n \u25b8        at nextTickCallbackWith0Args (node.js:452:9)\n !    error getting commands pid 3327 exit 1\nsylv3rblade@Stephens-MacBook-Pro ~/P/p/palytte> heroku --version\nheroku-cli: Installing core plugins (retrying)...\n \u25b8    Error reading plugin: heroku-pipelines\n \u25b8    exit status 1\n \u25b8    module.js:327\n \u25b8        throw err;\n \u25b8        ^\n \u25b8\n \u25b8    Error: Cannot find module 'heroku-pipelines'\n \u25b8        at Function.Module._resolveFilename (module.js:325:15)\n \u25b8        at Function.Module._load (module.js:276:25)\n \u25b8        at Module.require (module.js:353:17)\n \u25b8        at require (internal/module.js:12:17)\n \u25b8        at [eval]:2:15\n \u25b8        at Object.exports.runInThisContext (vm.js:54:17)\n \u25b8        at Object. ([eval]-wrapper:6:22)\n \u25b8        at Module._compile (module.js:397:26)\n \u25b8        at node.js:611:27\n \u25b8        at nextTickCallbackWith0Args (node.js:452:9)\nheroku-cli: Installing core plugins (retrying)...\n \u25b8    Error reading plugin: heroku-pipelines\n \u25b8    exit status 1\n \u25b8    module.js:327\n \u25b8        throw err;\n \u25b8        ^\n \u25b8\n \u25b8    Error: Cannot find module 'heroku-pipelines'\n \u25b8        at Function.Module._resolveFilename (module.js:325:15)\n \u25b8        at Function.Module._load (module.js:276:25)\n \u25b8        at Module.require (module.js:353:17)\n \u25b8        at require (internal/module.js:12:17)\n \u25b8        at [eval]:2:15\n \u25b8        at Object.exports.runInThisContext (vm.js:54:17)\n \u25b8        at Object. ([eval]-wrapper:6:22)\n \u25b8        at Module._compile (module.js:397:26)\n \u25b8        at node.js:611:27\n \u25b8        at nextTickCallbackWith0Args (node.js:452:9)\n !    error getting commands pid 3452 exit 1\n```\n. ",
    "bryceroney": "Can also confirm appears to be working.\n. ",
    "bfollekHOD": "@ransombriggs - Still not working for me. No proxy, no ~/.npmrc file.\n. Fixed. It was a firewall issue. I must have inadvertently blocked node. Thanks for your help.\n. ",
    "bobbytables": ":shipit: \n. ",
    "mulchy": "Updated to the latest version,\n```\nheroku-toolbelt/3.42.33 (x86_64-darwin15) ruby/2.3.0\nheroku-cli/4.27.21-839acbb (amd64-darwin) go1.5.3\n=== Installed Plugins\nheroku-apps@1.2.4\nheroku-cli-addons@0.2.1\nheroku-fork@4.1.1\nheroku-git@2.4.5\nheroku-local@4.1.7\nheroku-pipelines@1.0.2\nheroku-run@2.9.2\nheroku-spaces@2.0.13\nheroku-status@2.1.0\n```\nSame result. \n. @ransombriggs I am having the opposite problem of @nitinsurana, and can only reproduce this at work. :) I will check and see if I am still facing the issue tomorrow. If I am understanding the situation correctly, some DNS server (potentially totally unrelated to Heroku) is not following the spec and sending too large of a message? Maybe this is not even really a Heroku cli issue?\n. output of tcpdump -n udp port 53 while running heroku login\n```\n13:19:09.355894 IP 10.100.100.147.64155 > 10.100.100.1.53: 27+ PTR? 147.100.100.10.in-addr.arpa. (45)\n13:19:09.359504 IP 10.100.100.1.53 > 10.100.100.147.64155: 27 NXDomain 0/0/0 (45)\n13:19:22.319199 IP 10.100.100.147.54184 > 10.100.100.1.53: 2418+ AAAA? api.heroku.com. (32)\n13:19:22.319295 IP 10.100.100.147.62557 > 10.100.100.1.53: 48490+ A? api.heroku.com. (32)\n13:19:22.346962 IP 10.100.100.1.53 > 10.100.100.147.54184: 2418 2/13/18 CNAME api-default.herokussl.com., CNAME elb027033-298234319.us-east-1.elb.amazonaws.com. (638)\n13:19:22.347435 IP 10.100.100.147.60304 > 10.100.100.1.53: 61923+ AAAA? api.heroku.com. (32)\n13:19:22.354385 IP 10.100.100.1.53 > 10.100.100.147.62557: 48490 5/13/12 CNAME api-default.herokussl.com., CNAME elb027033-298234319.us-east-1.elb.amazonaws.com., A 184.73.210.26, A 107.21.218.33, A 184.72.252.139 (590)\n13:19:22.354817 IP 10.100.100.147.58530 > 10.100.100.1.53: 2847+ A? api.heroku.com. (32)\n13:19:22.365210 IP 10.100.100.1.53 > 10.100.100.147.60304: 61923 2/13/18 CNAME api-default.herokussl.com., CNAME elb027033-298234319.us-east-1.elb.amazonaws.com. (638)\n13:19:22.371825 IP 10.100.100.1.53 > 10.100.100.147.58530: 2847 5/13/12 CNAME api-default.herokussl.com., CNAME elb027033-298234319.us-east-1.elb.amazonaws.com., A 184.72.252.139, A 184.73.210.26, A 107.21.218.33 (590)\n```\nIf I am reading this output correctly it looks like the amazon servers are sending responses larger than 512 bytes. \noutput of dig api.heroku.com (very similar to others)\n```\n; <<>> DiG 9.8.3-P1 <<>> api.heroku.com\n;; global options: +cmd\n;; Got answer:\n;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 53844\n;; flags: qr rd ra; QUERY: 1, ANSWER: 5, AUTHORITY: 13, ADDITIONAL: 12\n;; QUESTION SECTION:\n;api.heroku.com.            IN  A\n;; ANSWER SECTION:\napi.heroku.com.     30  IN  CNAME   api-default.herokussl.com.\napi-default.herokussl.com. 1203 IN  CNAME   elb027033-298234319.us-east-1.elb.amazonaws.com.\nelb027033-298234319.us-east-1.elb.amazonaws.com. 60 IN A 184.73.210.26\nelb027033-298234319.us-east-1.elb.amazonaws.com. 60 IN A 107.21.218.33\nelb027033-298234319.us-east-1.elb.amazonaws.com. 60 IN A 184.72.252.139\n;; AUTHORITY SECTION:\ncom.            148892  IN  NS  m.gtld-servers.net.\ncom.            148892  IN  NS  a.gtld-servers.net.\ncom.            148892  IN  NS  b.gtld-servers.net.\ncom.            148892  IN  NS  c.gtld-servers.net.\ncom.            148892  IN  NS  d.gtld-servers.net.\ncom.            148892  IN  NS  e.gtld-servers.net.\ncom.            148892  IN  NS  f.gtld-servers.net.\ncom.            148892  IN  NS  g.gtld-servers.net.\ncom.            148892  IN  NS  h.gtld-servers.net.\ncom.            148892  IN  NS  i.gtld-servers.net.\ncom.            148892  IN  NS  j.gtld-servers.net.\ncom.            148892  IN  NS  k.gtld-servers.net.\ncom.            148892  IN  NS  l.gtld-servers.net.\n;; ADDITIONAL SECTION:\na.gtld-servers.net. 79047   IN  A   192.5.6.30\nb.gtld-servers.net. 79047   IN  A   192.33.14.30\nc.gtld-servers.net. 79047   IN  A   192.26.92.30\nd.gtld-servers.net. 79047   IN  A   192.31.80.30\ne.gtld-servers.net. 79047   IN  A   192.12.94.30\nf.gtld-servers.net. 79047   IN  A   192.35.51.30\ng.gtld-servers.net. 79047   IN  A   192.42.93.30\nh.gtld-servers.net. 79047   IN  A   192.54.112.30\ni.gtld-servers.net. 79047   IN  A   192.43.172.30\nj.gtld-servers.net. 79047   IN  A   192.48.79.30\nk.gtld-servers.net. 79047   IN  A   192.52.178.30\nl.gtld-servers.net. 9860    IN  A   192.41.162.30\n;; Query time: 73 msec\n;; SERVER: 10.100.100.1#53(10.100.100.1)\n;; WHEN: Fri Feb 26 13:49:06 2016\n;; MSG SIZE  rcvd: 590\n```\n. After upgrading \n```\nheroku-toolbelt/3.42.33 (x86_64-darwin15) ruby/2.3.0\nheroku-cli/4.27.25-3b727e5 (amd64-darwin) go1.6\n=== Installed Plugins\nheroku-apps@1.2.4\nheroku-cli-addons@0.2.1\nheroku-fork@4.1.1\nheroku-git@2.4.5\nheroku-local@4.1.7\nheroku-orgs@1.0.1\nheroku-pipelines@1.0.2\nheroku-run@2.9.2\nheroku-spaces@2.0.14\nheroku-status@2.1.0\n```\nI still see DNS messages over 512 bytes coming through, but I am able to login successfully. I would recommend closing this issue.\noutput of tcpdump -n udp port 53\n```\n15:12:58.804120 IP 10.100.100.138.29397 > 10.100.100.1.53: 13631+ A? mail.google.com. (33)\n15:12:58.809097 IP 10.100.100.1.53 > 10.100.100.138.29397: 13631 2/4/4 CNAME googlemail.l.google.com., A 216.58.216.69 (212)\n15:13:04.548089 IP 10.100.100.138.23500 > 10.100.100.1.53: 20553+ A? chatenabled.mail.google.com. (45)\n15:13:04.555518 IP 10.100.100.1.53 > 10.100.100.138.23500: 20553 2/4/4 CNAME b.googlemail.l.google.com., A 216.58.216.71 (226)\n15:13:05.217354 IP 10.100.100.138.60040 > 10.100.100.1.53: 46445+ A? api.heroku.com. (32)\n15:13:05.217614 IP 10.100.100.138.57162 > 10.100.100.1.53: 60529+ AAAA? api.heroku.com. (32)\n15:13:05.288676 IP 10.100.100.1.53 > 10.100.100.138.57162: 60529 3/13/13 CNAME midgard.heroku.com., CNAME midgard.herokussl.com., CNAME elb072391-1995917250.us-east-1.elb.amazonaws.com. (577)\n15:13:05.288681 IP 10.100.100.1.53 > 10.100.100.138.60040: 46445 5/13/13 CNAME api-default.herokussl.com., CNAME elb027033-298234319.us-east-1.elb.amazonaws.com., A 184.73.210.26, A 107.21.218.33, A 184.72.252.139 (606)\n15:13:05.289833 IP 10.100.100.138.51542 > 10.100.100.1.53: 39120+ A? elb027033-298234319.us-east-1.elb.amazonaws.com. (65)\n15:13:05.289920 IP 10.100.100.138.59981 > 10.100.100.1.53: 30044+ AAAA? elb027033-298234319.us-east-1.elb.amazonaws.com. (65)\n15:13:05.394461 IP 10.100.100.1.53 > 10.100.100.138.51542: 39120 3/4/4 A 184.72.252.139, A 184.73.210.26, A 107.21.218.33 (314)\n15:13:05.510434 IP 10.100.100.1.53 > 10.100.100.138.59981: 30044 0/4/4 (266)\n15:13:07.681505 IP 10.100.100.138.51649 > 10.100.100.1.53: 4785+ PTR? 138.100.100.10.in-addr.arpa. (45)\n15:13:07.684785 IP 10.100.100.1.53 > 10.100.100.138.51649: 4785 NXDomain 0/0/0 (45)\n15:13:20.072595 IP 10.100.100.138.53571 > 10.100.100.1.53: 48573+ A? 0.docs.google.com. (35)\n15:13:20.121894 IP 10.100.100.1.53 > 10.100.100.138.53571: 48573 2/4/4 CNAME browserchannel-docs.l.google.com., A 173.194.197.189 (223)\n```\n. Also thanks so much for your help @ransombriggs!\n. ",
    "nitinsurana": "Facing the same issue +1\n. Here is what I get when running tcp dump in another terminal simultaneously :\nlistening on pktap, link-type PKTAP (Packet Tap), capture size 65535 bytes\n23:18:59.690498 IP 10.5.51.6.55821 > 10.5.48.1.53: 41898+ AAAA? api.heroku.com. (32)\n23:18:59.690597 IP 10.5.51.6.59713 > 10.5.48.1.53: 14354+ A? api.heroku.com. (32)\n23:18:59.752743 IP 10.5.48.1.53 > 10.5.51.6.59713: 14354 5/13/12 CNAME api-default.herokussl.com., CNAME elb027033-298234319.us-east-1.elb.amazonaws.com., A 184.72.252.139, A 184.73.210.26, A 107.21.218.33 (590)\n23:18:59.753033 IP 10.5.51.6.59223 > 8.8.8.8.53: 50342+ A? api.heroku.com. (32)\n23:18:59.762949 IP 10.5.48.1.53 > 10.5.51.6.55821: 41898 2/13/18 CNAME api-default.herokussl.com., CNAME elb027033-298234319.us-east-1.elb.amazonaws.com. (638)\n23:18:59.763242 IP 10.5.51.6.64155 > 8.8.8.8.53: 1810+ AAAA? api.heroku.com. (32)\n23:18:59.814722 IP 8.8.8.8.53 > 10.5.51.6.59223: 50342 5/13/12 CNAME api-default.herokussl.com., CNAME elb027033-298234319.us-east-1.elb.amazonaws.com., A 184.73.210.26, A 107.21.218.33, A 184.72.252.139 (590)\n23:18:59.815017 IP 10.5.51.6.60397 > 182.48.200.3.53: 33497+ A? api.heroku.com. (32)\n23:18:59.819883 IP 8.8.8.8.53 > 10.5.51.6.64155: 1810 2/13/18 CNAME api-default.herokussl.com., CNAME elb027033-298234319.us-east-1.elb.amazonaws.com. (638)\n23:18:59.820154 IP 10.5.51.6.52105 > 182.48.200.3.53: 36652+ AAAA? api.heroku.com. (32)\n23:18:59.836964 IP 182.48.200.3.53 > 10.5.51.6.52105: 36652 2/13/18 CNAME api-default.herokussl.com., CNAME elb027033-298234319.us-east-1.elb.amazonaws.com. (638)\n23:18:59.837226 IP 10.5.51.6.51644 > 10.5.48.1.53: 22146+ AAAA? api.heroku.com. (32)\n23:18:59.888274 IP 182.48.200.3.53 > 10.5.51.6.60397: 33497 5/13/12 CNAME api-default.herokussl.com., CNAME elb027033-298234319.us-east-1.elb.amazonaws.com., A 184.72.252.139, A 184.73.210.26, A 107.21.218.33 (590)\n23:18:59.888551 IP 10.5.51.6.50689 > 10.5.48.1.53: 17390+ A? api.heroku.com. (32)\n23:18:59.926014 IP 10.5.48.1.53 > 10.5.51.6.50689: 17390 5/13/12 CNAME api-default.herokussl.com., CNAME elb027033-298234319.us-east-1.elb.amazonaws.com., A 184.72.252.139, A 184.73.210.26, A 107.21.218.33 (590)\n23:18:59.926299 IP 10.5.51.6.56341 > 8.8.8.8.53: 27109+ A? api.heroku.com. (32)\n23:18:59.937704 IP 8.8.8.8.53 > 10.5.51.6.56341: 27109 5/13/12 CNAME api-default.herokussl.com., CNAME elb027033-298234319.us-east-1.elb.amazonaws.com., A 184.72.252.139, A 184.73.210.26, A 107.21.218.33 (590)\n23:18:59.937970 IP 10.5.51.6.58545 > 182.48.200.3.53: 19093+ A? api.heroku.com. (32)\n23:18:59.942408 IP 182.48.200.3.53 > 10.5.51.6.58545: 19093 5/13/12 CNAME api-default.herokussl.com., CNAME elb027033-298234319.us-east-1.elb.amazonaws.com., A 184.72.252.139, A 184.73.210.26, A 107.21.218.33 (590)\n23:19:01.915862 IP 10.5.48.1.53 > 10.5.51.6.51644: 22146 2/13/18 CNAME api-default.herokussl.com., CNAME elb027033-298234319.us-east-1.elb.amazonaws.com. (638)\n23:19:01.916192 IP 10.5.51.6.61857 > 8.8.8.8.53: 48067+ AAAA? api.heroku.com. (32)\n23:19:02.006935 IP 8.8.8.8.53 > 10.5.51.6.61857: 48067 2/13/18 CNAME api-default.herokussl.com., CNAME elb027033-298234319.us-east-1.elb.amazonaws.com. (638)\n23:19:02.007213 IP 10.5.51.6.51084 > 182.48.200.3.53: 55301+ AAAA? api.heroku.com. (32)\n23:19:02.114018 IP 182.48.200.3.53 > 10.5.51.6.51084: 55301 2/13/18 CNAME api-default.herokussl.com., CNAME elb027033-298234319.us-east-1.elb.amazonaws.com. (638)\nAnd below is the content of error.log file\n2016/02/25 02:30:18 heroku-cli: Adding dependencies...\n2016/02/25 02:32:19  done\n2016/02/25 02:32:19 heroku-cli: Installing core plugins...\n2016/02/25 02:35:15  done\n2016/02/25 02:52:33 Email: \n2016/02/25 02:52:40  \u25b8    Post https://api.heroku.com/login: dial tcp: lookup api.heroku.com on 182.48.200.3:53: cannot unmarshal DNS message\n2016/02/25 02:52:43 Email: \n2016/02/25 02:52:49  \u25b8    Post https://api.heroku.com/login: dial tcp: lookup api.heroku.com on 182.48.200.3:53: cannot unmarshal DNS message\n2016/02/25 02:56:25 Email: \n2016/02/25 02:56:29  \u25b8    Post https://api.heroku.com/login: dial tcp: lookup api.heroku.com on 182.48.200.3:53: cannot unmarshal DNS message\n2016/02/25 02:56:40 Email: \n2016/02/25 02:56:48  \u25b8    Post https://api.heroku.com/login: dial tcp: lookup api.heroku.com on 182.48.200.3:53: cannot unmarshal DNS message\n2016/02/25 23:18:23 Email: \n2016/02/25 23:18:30  \u25b8    Post https://api.heroku.com/login: dial tcp: lookup api.heroku.com on 182.48.200.3:53: cannot unmarshal DNS message\n2016/02/25 23:18:31  \u25b8    Error updating CLI\n2016/02/25 23:18:31  \u25b8    Get https://cli-assets.heroku.com/master/manifest.json: dial tcp: lookup cli-assets.heroku.com on 182.48.200.3:53: cannot unmarshal DNS message\n2016/02/25 23:18:31 Updating plugins... \n2016/02/25 23:18:38 no plugins to update.\n2016/02/25 23:18:55 Email: \n2016/02/25 23:19:02  \u25b8    Post https://api.heroku.com/login: dial tcp: lookup api.heroku.com on 182.48.200.3:53: cannot unmarshal DNS message\n. It works at my office though. At home wifi, will run the dig command tonight and paste the results here.\n. Here is the output of dig command\n```\n\u279c  ~ dig api.heroku.com\n; <<>> DiG 9.8.3-P1 <<>> api.heroku.com\n;; global options: +cmd\n;; Got answer:\n;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 46954\n;; flags: qr rd ra; QUERY: 1, ANSWER: 5, AUTHORITY: 13, ADDITIONAL: 11\n;; QUESTION SECTION:\n;api.heroku.com.            IN  A\n;; ANSWER SECTION:\napi.heroku.com.     8   IN  CNAME   api-default.herokussl.com.\napi-default.herokussl.com. 3578 IN  CNAME   elb027033-298234319.us-east-1.elb.amazonaws.com.\nelb027033-298234319.us-east-1.elb.amazonaws.com. 37 IN A 184.72.252.139\nelb027033-298234319.us-east-1.elb.amazonaws.com. 37 IN A 107.21.218.33\nelb027033-298234319.us-east-1.elb.amazonaws.com. 37 IN A 184.73.210.26\n;; AUTHORITY SECTION:\ncom.            138529  IN  NS  c.gtld-servers.net.\ncom.            138529  IN  NS  m.gtld-servers.net.\ncom.            138529  IN  NS  f.gtld-servers.net.\ncom.            138529  IN  NS  l.gtld-servers.net.\ncom.            138529  IN  NS  k.gtld-servers.net.\ncom.            138529  IN  NS  h.gtld-servers.net.\ncom.            138529  IN  NS  i.gtld-servers.net.\ncom.            138529  IN  NS  e.gtld-servers.net.\ncom.            138529  IN  NS  g.gtld-servers.net.\ncom.            138529  IN  NS  a.gtld-servers.net.\ncom.            138529  IN  NS  j.gtld-servers.net.\ncom.            138529  IN  NS  d.gtld-servers.net.\ncom.            138529  IN  NS  b.gtld-servers.net.\n;; ADDITIONAL SECTION:\nc.gtld-servers.net. 141913  IN  A   192.26.92.30\nf.gtld-servers.net. 133428  IN  A   192.35.51.30\nk.gtld-servers.net. 133428  IN  A   192.52.178.30\nh.gtld-servers.net. 51694   IN  A   192.54.112.30\ni.gtld-servers.net. 41069   IN  A   192.43.172.30\ne.gtld-servers.net. 41519   IN  A   192.12.94.30\ng.gtld-servers.net. 127468  IN  A   192.42.93.30\na.gtld-servers.net. 74193   IN  A   192.5.6.30\nj.gtld-servers.net. 133428  IN  A   192.48.79.30\nd.gtld-servers.net. 138529  IN  A   192.31.80.30\nb.gtld-servers.net. 138529  IN  A   192.33.14.30\n;; Query time: 3 msec\n;; SERVER: 10.5.48.1#53(10.5.48.1)\n;; WHEN: Fri Feb 26 23:39:21 2016\n;; MSG SIZE  rcvd: 574\n``\n. After upgrading heroku-toolbelt usingheroku update`, I'm able to login successfully.\nThanks for all the help.\n. ",
    "jamescgibson": "@dickeyxxx Thanks! Unfortunately, no dice;\n```\njames@bb-8:~/dev/quottly-demo$ GODE_DEBUG=1 heroku                                                                                                                                     \nheroku-cli: Installing Toolbelt v4...\n```\nAnd it just hangs. \n. GODE_DEBUG=info eventually worked, showed it hanging randomly after downloading different pacages. After five or six times, success. Not sure what to make of it, maybe I have an odd configuration that's causing problems - frustrating that something as common as a slightly unreliable residential internet connection can throw npm for a loop, heh. \nReally appreciate the help @ransombriggs and @dickeyxxx !\n. ",
    "jooshbzm": "No problem @ransombriggs, I'll check this and confirm as soon as I get a chance. Thanks for fixing!\n. ",
    "soniacaan": "On Heroku its: morning-journey-96221\nNow I am trying to migrate the app on my local machine to vagrant VM. But this error is also stopping the ability to create a backup too and restore to local. \nThanks, S\n. I decided to setup Vagrant VM to try to cut out some of the windows related issues, but getting the same error, so it might be my heroku setup, is my guess.\n```\ntype C:/Program Files (x86)/Heroku/bin/heroku\n!/bin/sh\nfind embedded ruby relative to script\nbindir=cd -P \"${0%/*}/../ruby-2.1.7/bin\" 2>/dev/null; pwd\nexec \"$bindir/ruby\" -x \"$0\" \"$@\"\n!/usr/bin/env ruby\nencoding: UTF-8\nresolve bin path, ignoring symlinks\nrequire \"pathname\"\nbin_file = Pathname.new(FILE).realpath\nadd locally vendored gems to libpath\ngem_dir = File.expand_path(\"../../vendor/gems\", bin_file)\nDir[\"#{gem_dir}/**/lib\"].each do |libdir|\n  $:.unshift libdir\nend\nadd self to libpath\n$:.unshift File.expand_path(\"../../lib\", bin_file)\ninject any code in ~/.heroku/client over top\nrequire \"heroku/updater\"\nHeroku::Updater.inject_libpath\nstart up the CLI\nrequire \"heroku/cli\"\nHeroku.user_agent = \"heroku/toolbelt/#{Heroku::VERSION} (#{RUBY_PLATFORM}) ruby/#{RUBY_VERSION}\"\nHeroku::CLI.start(*ARGV)\n```\nC:\\Program Files (x86)\\Heroku\\ruby-2.1.7\\bin>ruby -v\nruby 2.1.7p400 (2015-08-18 revision 51632) [i386-mingw32]\n. Did some digging. This is another error I came across, not sure if this is the root cause of sorts.\n```\n$heroku keys\n===  Keys\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method `map' for #<String:0x000000040fdbe8> (NoMethodError)\nCommand:     heroku keys\nVersion:     heroku/toolbelt/3.42.38 (x64-mingw32) ruby/2.2.4\nError ID:    fa0bbf00027b44218ab4dd79ea75f43a\n\n```\n. ",
    "wvengen": ":+1:\n. ",
    "samar-mishra": "Yes I am facing this issue !\n. ",
    "dhiwakarmani": "I do have same issue. I tried that. Same error. \nMacBook-Pro:test1 dmani$ heroku update\nheroku-cli: Adding dependencies...\n \u25b8    Get https://cli-assets.heroku.com/node/v5.7.0/node-v5.7.0-darwin-x64.tar.gz: x509: certificate signed by unknown authority\n done\nheroku-cli: Installing core plugins...\n \u25b8    \n\u25b8    fork/exec bin/node: no such file or directory\nheroku-cli: Installing core plugins (retrying)...\n \u25b8    Error installing package. \n \u25b8\n \u25b8    Try running again with GODE_DEBUG=info to see more output.\nheroku-cli: Adding dependencies...\n \u25b8    Get https://cli-assets.heroku.com/node/v5.7.0/node-v5.7.0-darwin-x64.tar.gz: x509: certificate signed by unknown authority\n done\nheroku-cli: Installing core plugins...\n \u25b8    \n\u25b8    fork/exec bin/node: no such file or directory\nheroku-cli: Installing core plugins (retrying)...\n \u25b8    Error installing package. \n \u25b8\n \u25b8    Try running again with GODE_DEBUG=info to see more output.\n !    error getting commands pid 80147 exit 1\n. ",
    "singhakash": "It worked now . I am not sure but it might be the Procfile issue.\n. ",
    "yob": "Thanks @ransombriggs, it installed without an issue\n. ",
    "gpolyn": "...sorry, think this is too arcane to pursue and likely the result of the involvement of the \"heroku\" gem in my Gemfile.\n. ",
    "Gabri3l": "I am having the same issue, what OS are you using ?\n. Same as @vickytnz exactly.\n. Oh sorry I am the same guy from the other ticket =D. Thanks for taking the time to look into this!\nI can't seem to be able to fix this manually, every time I tell BitDefender to recover the file that has been processed as \"infected\" it will remove it again.\n. It's not giving me any error now! I am currently updating so hopefully everything will work just fine. Thanks again, I added an exception for the time being because I had a critical deadline. \nThanks for helping out @ransombriggs \nEDIT: Update everything works like a charm!\n. @jinshiq It seems that this problem is still related to some antivirus blocking, it might not be applicable to just Bitdefender. So you might wanna check if your antivirus is blocking Heroku access to that folder.\n. ",
    "vickytnz": "I've been having the same issue - I had heroku installed but uninstalled it (maybe was the outage) and now can't install it again :( Think it's a repetition of #1922 - incredibly annoying. File doesn't even exist in Appdata. I changed the permissions on the director (or tried), uninstalled/reinstalled ... no avail. Again, had it working last week!\n```\nMicrosoft Windows [Version 10.0.10586]\nicacls \"C:user\\AppData\\Local/heroku\"\nNT AUTHORITY\\SYSTEM:(OI)(CI)(F)\nBUILTIN\\Administrators:(OI)(CI)(F)\nSuccessfully processed 1 files; Failed processing 0 files\n```\n. I've had the same issue on Windows 10. Have lost about 2 hrs grappling with this. Installed, uninstalled, deleted files, changed admin access ... \n. ",
    "jijo1994": "@ransombriggs I am using Windows 7 with BitDefender as an Antivirus but I managed to find workaround for this issue by modifying the jsplugin.rb in the Heroku installation folder. Basically what I did is change the output folder for the new version that is downloaded, then moving the file to it's default location (AppData/heroku) and running it, which install all the necessary files. The last thing is only to change in jsplugin.rb the name of the executable to whatever to set it when changing the download output folder. However, adding an exception to the antivirus seems a much better option.\n. ",
    "jinshiq": "I have the same issue on my windows 7 PC. I don't use  bitdefender. I also notice that there is no such file C:\\Users\\Owner\\AppData\\Local/heroku/heroku-cli.exe. \nDoes anyone know how to fix this issue? \nPlease see the error details as below.\n$ heroku version\nHeroku CLI submits usage information back to Heroku. If you would like to disabl\ne this, set skip_analytics: true in c:/Users/Owner/.heroku/config.json\nheroku-cli: Installing Toolbelt v4... !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       Permission denied @ rb_sysopen - C:\\Users\\Owner\\AppData\\Local/h\neroku/heroku-cli.exe (Errno::EACCES)\n    Command:     heroku version\n    Version:     heroku-gem/3.42.47 (i386-mingw32) ruby/2.2.4\n    Error ID:    24b13d8b728e4a1087164fce3be77a78\nMore information in c:/Users/Owner/.heroku/error.log\n. @Gabri3l You are correct. That is an issue related to some antivirus blocking. I am using another antivirus tool, not Bitdefender. After I added Heroku as trusted application, the error disappeared and all heroku command worked.\n. @ransombriggs The antivirus software is called 360.\n. ",
    "grobertson": "Here's how to add heroku-cli.exe to the exclusions list in BitDefender. This fixed the issue on my own machine running Windows 10 Build 14316. \n1. Open Bitdefender from the start menu or the system tray. \n2. Click \"Modules\" at the bottom\n3. Under \"Protection\" click the gear icon next to the heading \"Antivirus\" \n4. Select \"Exclusions\" \n5. Click \"Excluded files and folders\" \n6. Click \"Add\" \n7. Fill in the exact path to the downloaded toolbelt. i.e. \"c:\\Users\\USERNAME\\AppData\\Local\\heroku\\heroku-cli.exe\"\n8. Select the radio button labeled \"Both\" \n9. Click \"Ok\" then close the Bitdefender window. \n. ",
    "xni88": "heroku-cli: Installing Toolbelt v4... !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       Permission denied @ rb_sysopen - C:\\Users\\Shelly\\AppData\\Local/heroku/heroku-cli.exe (Errno::EACCES)\nCommand:     heroku login\nVersion:     heroku/toolbelt/3.42.45 (i386-mingw32) ruby/2.1.7\nError ID:    32357fb6341c42e8b5ccb82b9e6a97d1\nI have the above issue, and have been trying everything, but still does not help. Any clue?\n. mine is 360 too.\nDate: Mon, 18 Apr 2016 15:39:21 -0700\nFrom: notifications@github.com\nTo: heroku@noreply.github.com\nCC: xnglnni@hotmail.com\nSubject: Re: [heroku/heroku] Installing Heroku Toolbeit v4 - Permission Denied (#1920)\n@ransombriggs The antivirus software is called 360.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly or view it on GitHub\n. ",
    "cmbishop": "I'm encountering the same issue: Permission denied @ rb_sysopen - C:\\Users\\OfficeMax\\AppData\\Local/heroku/heroku-cli.exe and I'm pretty sure Ad-Aware is causing it, like some of the other antivirus software. Any workaround that anyone knows about? I poked around the settings but couldn't find one.\n. ",
    "calebissharp": "I'm getting this issue using Vipre Internet Security 2016 on Windows 10. Vipre thinks it is a virus and then goes on to quarantine it.\nError:       Permission denied - C:\\Users\\****\\AppData\\Local/heroku/heroku-cli.exe (Errno::EACCES)\n    Command:     heroku version\n    Version:     heroku/toolbelt/3.43.0 (i386-mingw32) ruby/1.9.3\n    Error ID:    bf885bc52004480d9041849ccac96799\n. ",
    "alirezacom81": "Hi,\nI have a problem with running the heroku-cli.exe, I get the below error upon running heroku --version or heroku login:\nC:\\WINDOWS\\system32>heroku --version\nheroku-cli: Installing Toolbelt v4... !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n```\nError:       Permission denied @ rb_sysopen - C:\\Users{USERNAME}\\AppData\\Local/heroku/heroku-cli.exe (Errno::EACCES)\nCommand:     heroku --version\nVersion:     heroku/toolbelt/3.42.45 (i386-mingw32) ruby/2.1.7\nError ID:    7b26b4e897784faabc48d52ff56c4433\nMore information in C:/Users/{USERS}/.heroku/error.log\n```\nThe log file:\nHeroku client internal error.\nPermission denied @ rb_sysopen - C:\\Users{USERNAME}\\AppData\\Local/heroku/heroku-cli.exe\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:140:in initialize'\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:140:inopen'\nC:/Program Files (x86)/Heroku/lib/heroku/jsplugin.rb:140:in setup'\nC:/Program Files (x86)/Heroku/lib/heroku/cli.rb:27:instart'\nC:/Program Files (x86)/Heroku/bin/heroku:29:in `'\n\nAdding the heroku-cli.exe path to the list of my Anti virus (Bitdefender) trusted files and folders, as instructed above, did not help, heroku-cli.exe is not added at all to the \"C:\\Users{USERNAME}\\AppData\\Local/heroku/\" path.. Would you please share your opinion about this?\nThanks\n. ",
    "KochetkovVictor": "Hello! Trying to use heroku on my PC, which is AD domain member. Starting any from AppData\\Local is blocking by domain policy. Is there any hint to replace heroku directrory to directory place and start heroku.exe from that directory? Thank you!\n. @dickeyxxx sure it's the best way! but how? \n. ",
    "lambainsaan": "Getting this issue on Fedora,.\n`\nInstalling Heroku Toolbelt v4... !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       No such file or directory @ rb_sysopen - /usr/share/gems/gems/heroku-3.41.3/data/cacert.pem (Errno::ENOENT)\nCommand:     heroku git:remote -a pure-gorge-58501\nVersion:     heroku-gem/3.41.3 (x86_64-linux) ruby/2.2.5\nError ID:    55b20d4f9c134cd2a44d88e66c32bb97\n`\nHere is the error log file.\nHeroku client internal error.\nNo such file or directory @ rb_sysopen - /usr/share/gems/gems/heroku-3.41.3/data/cacert.pem\n/usr/share/ruby/fileutils.rb:1391:in initialize'\n/usr/share/ruby/fileutils.rb:1391:inopen'\n/usr/share/ruby/fileutils.rb:1391:in copy_file'\n/usr/share/ruby/fileutils.rb:485:incopy_file'\n/usr/share/ruby/fileutils.rb:402:in block in cp'\n/usr/share/ruby/fileutils.rb:1570:inblock in fu_each_src_dest'\n/usr/share/ruby/fileutils.rb:1586:in fu_each_src_dest0'\n/usr/share/ruby/fileutils.rb:1568:infu_each_src_dest'\n/usr/share/ruby/fileutils.rb:401:in cp'\n/usr/share/gems/gems/heroku-3.41.3/lib/heroku/jsplugin.rb:135:incopy_ca_cert'\n/usr/share/gems/gems/heroku-3.41.3/lib/heroku/jsplugin.rb:117:in setup'\n/usr/share/gems/gems/heroku-3.41.3/lib/heroku/jsplugin.rb:88:ininstall'\n/usr/share/gems/gems/heroku-3.41.3/lib/heroku/command/git.rb:48:in remote'\n/usr/share/gems/gems/heroku-3.41.3/lib/heroku/command.rb:212:inrun'\n/usr/share/gems/gems/heroku-3.41.3/lib/heroku/cli.rb:27:in start'\n/usr/share/gems/gems/heroku-3.41.3/bin/heroku:17:in'\n/usr/bin/heroku:23:in load'\n/usr/bin/heroku:23:in'\n. ",
    "maxxkrakoa": "@lambainsaan I added this bug to Fedora https://bugzilla.redhat.com/show_bug.cgi?id=1354126\nI am guessing it's a packaging error.\nYou might want to try installing the latest version as ruby gem heroku toolbelt directly from the heroku descriptions and see if that works\n. ",
    "CarlJohnston": "@lambainsaan @maxxkrakoa I was getting the same error. \nRemoving  rubygem-heroku via dnf on Fedora 24 with Rawhide nodebug and installing the standalone version fixes the error for me.\n. ",
    "TWiStErRob": "I have Windows Defender and Avira Antivirus, both of them are turned off (Windows 10 Security Center confirmed they're in Snoozed state), but the problem still appears.\nIt was trying to update 3.42.39 to 3.99.2 via heroku update, in the end I just uninstalled my old installation and Ruby 1.9.2 it had inside, and installed the new version (5.8.1) from https://devcenter.heroku.com/articles/heroku-cli\nWhen I see problems like this it's usually because a file descriptor is not closed by the program that opens the file. In this case the decompression might still be in progress, or finished but not closed, when the updater tries to clean up.. ",
    "Buchepalli1": "Thank you @ransombriggs  , it is working fine now.\n. ",
    "agarwal-mayank": "Hi,\nThe error got resolved. It was my stupid antivirus. It kept on blocking the heroku-cli file. \nI saw it in one of the posts, someone else was having the same issue.\nGot resolved now.\nThanks,\nMayank\n. ",
    "Madsvj": "Of course @ransombriggs \nHere is what it returns:\n```\n(venv) C:\\Users\\Bc0655\\businesszone>set HEROKU_DEBUG=1\n(venv) C:\\Users\\Bc0655\\businesszone>heroku update\nheroku-cli/4.29.4-8a30ba5 (386-windows) go1.6.1 C:\\Users\\Bc0655\\AppData\\Local\\heroku\\heroku-cli.exe cmd: version\nheroku-cli/4.29.4-8a30ba5 (386-windows) go1.6.1 C:\\Users\\Bc0655\\AppData\\Local\\heroku\\heroku-cli.exe cmd: version\nheroku-cli/4.29.4-8a30ba5 (386-windows) go1.6.1 C:\\Users\\Bc0655\\AppData\\Local\\heroku\\heroku-cli.exe cmd: commands\nheroku-cli/4.29.4-8a30ba5 (386-windows) go1.6.1 C:\\Users\\Bc0655\\AppData\\Local\\heroku\\heroku-cli.exe cmd: update\n2016/04/20 14:11:29 GET /master/manifest.json HTTP/1.1\nHost: cli-assets.heroku.com\nheroku-cli: Updating plugins... no plugins to update.\ntruncating error log...\ncleaning up tmp dirs...\nheroku-cli: Updating... !    Update hash signature mismatch\n```\nhope that helps you\n. @ransombriggs just tried that.\nAnd I still get:\n```\n(venv) C:\\Users\\Bc0655\\businesszone>set heroku_DEBUG=1\n(venv) C:\\Users\\Bc0655\\businesszone>heroku update\nheroku-cli/4.29.4-8a30ba5 (386-windows) go1.6.1 C:\\Users\\Bc0655\\AppData\\Local\\heroku\\heroku-cli.exe cmd: version\nheroku-cli/4.29.4-8a30ba5 (386-windows) go1.6.1 C:\\Users\\Bc0655\\AppData\\Local\\heroku\\heroku-cli.exe cmd: version\nheroku-cli/4.29.4-8a30ba5 (386-windows) go1.6.1 C:\\Users\\Bc0655\\AppData\\Local\\heroku\\heroku-cli.exe cmd: commands\nheroku-cli/4.29.4-8a30ba5 (386-windows) go1.6.1 C:\\Users\\Bc0655\\AppData\\Local\\heroku\\heroku-cli.exe cmd: update\n2016/04/21 08:56:02 GET /master/manifest.json HTTP/1.1\nHost: cli-assets.heroku.com\nheroku-cli: Updating plugins... no plugins to update.\ntruncating error log...\ncleaning up tmp dirs...\nheroku-cli: Updating... !    Update hash signature mismatch\n```\n:/\n. @ransombriggs - just came back from a short vacation.\nI downloaded the new installer and I now get:\n```\n(venv) C:\\Users\\Bc0655\\businesszone>set heroku_debug=1\n(venv) C:\\Users\\Bc0655\\businesszone>heroku update\nheroku-cli/4.30.0-2dfc0f4 (386-windows) go1.6.2 C:\\Users\\Bc0655\\AppData\\Local\\heroku\\heroku-cli.exe cmd: version\nheroku-cli/4.30.0-2dfc0f4 (386-windows) go1.6.2 C:\\Users\\Bc0655\\AppData\\Local\\heroku\\heroku-cli.exe cmd: version\nheroku-cli/4.30.0-2dfc0f4 (386-windows) go1.6.2 C:\\Users\\Bc0655\\AppData\\Local\\heroku\\heroku-cli.exe cmd: commands\nheroku-cli/4.30.0-2dfc0f4 (386-windows) go1.6.2 C:\\Users\\Bc0655\\AppData\\Local\\heroku\\heroku-cli.exe cmd: update\n2016/04/25 09:41:55 GET /master/manifest.json HTTP/1.1\nHost: cli-assets.heroku.com\nheroku-cli: Updating plugins... !\n ?    Error installing package.\n ?    npm WARN enoent ENOENT: no such file or directory, open 'C:\\Users\\Bc0655\\AppData\\Local\\heroku\\package.json'\n ?    npm WARN heroku No description\n ?    npm WARN heroku No repository field.\n ?    npm WARN heroku No README data\n ?    npm WARN heroku No license field.\n ?    npm ERR! Windows_NT 6.1.7601\n ?    npm ERR! argv \"C:\\Users\\Bc0655\\AppData\\Local\\heroku\\node-5.10.1-windows-386\\node.exe\" \"C:\\Users\\Bc0655\\AppData\\Local\\heroku\\npm-3.8.5\\cli.js\" \"install\" \"heroku-\napps@2.0.2\"\n ?    npm ERR! node v5.10.1\n ?    npm ERR! npm  v3.8.5\n ?    npm ERR! path C:\\Users\\Bc0655\\AppData\\Local\\heroku\\node_modules\\heroku-git\n ?    npm ERR! code EPERM\n ?    npm ERR! errno -4048\n ?    npm ERR! syscall rename\n ?\n ?    npm ERR! Error: EPERM: operation not permitted, rename 'C:\\Users\\Bc0655\\AppData\\Local\\heroku\\node_modules\\heroku-git' -> 'C:\\Users\\Bc0655\\AppData\\Local\\heroku\\node_modules.h\neroku-git.DELETE'\n ?    npm ERR!     at moveAway (C:\\Users\\Bc0655\\AppData\\Local\\heroku\\npm-3.8.5\\lib\\install\\action\\finalize.js:38:5)\n ?    npm ERR!     at destStatted (C:\\Users\\Bc0655\\AppData\\Local\\heroku\\npm-3.8.5\\lib\\install\\action\\finalize.js:27:7)\n ?    npm ERR!     at FSReqWrap.oncomplete (fs.js:82:15)\n ?    npm ERR!\n ?    npm ERR! Error: EPERM: operation not permitted, rename 'C:\\Users\\Bc0655\\AppData\\Local\\heroku\\node_modules\\heroku-git' -> 'C:\\Users\\Bc0655\\AppData\\Local\\heroku\\node_modules.h\neroku-git.DELETE'\n ?    npm ERR!     at Error (native)\n ?    npm ERR!  [Error: EPERM: operation not permitted, rename 'C:\\Users\\Bc0655\\AppData\\Local\\heroku\\node_modules\\heroku-git' -> 'C:\\Users\\Bc0655\\AppData\\Local\\heroku\\node_modules\\\n.heroku-git.DELETE']\n ?    npm ERR!\n ?    npm ERR! Please try running this command again as root/Administrator.\n ?\n ?    npm ERR! Please include the following file with any support request:\n ?    npm ERR!     C:\\Users\\Bc0655\\AppData\\Local\\heroku\\npm-debug.log\n ?\n ?    Try running again with GODE_DEBUG=info to see more output.\ngoroutine 1 [running]:\nruntime/debug.Stack(0x0, 0x0, 0x0)\n        /usr/local/Cellar/go/1.6.2/libexec/src/runtime/debug/stack.go:24 +0x80\nruntime/debug.PrintStack()\n        /usr/local/Cellar/go/1.6.2/libexec/src/runtime/debug/stack.go:16 +0x1a\nmain.WarnIfError(0x30f50018, 0x10f63978)\n        /Users/jdickey/src/github.com/heroku/cli/io.go:142 +0x1d8\nmain.updatePlugins.func1()\n        /Users/jdickey/src/github.com/heroku/cli/update.go:83 +0x21c\nmain.action(0x7d0e80, 0x1c, 0x0, 0x0, 0x82b084)\n        /Users/jdickey/src/github.com/heroku/cli/io.go:288 +0x157\nmain.updatePlugins()\n        /Users/jdickey/src/github.com/heroku/cli/update.go:93 +0x3d\nmain.Update(0x82b52c, 0x6, 0x7a27b0, 0xa)\n        /Users/jdickey/src/github.com/heroku/cli/update.go:67 +0x64\nmain.glob.func8(0x10fc6480)\n        /Users/jdickey/src/github.com/heroku/cli/update.go:44 +0x150\nmain.(*Cli).Run(0x954b30, 0x10f4a100, 0x2, 0x2, 0x0)\n        /Users/jdickey/src/github.com/heroku/cli/cli.go:83 +0x485\nmain.main()\n        /Users/jdickey/src/github.com/heroku/cli/main.go:102 +0x105\n done. Updated 3 packages.\ntruncating error log...\ncleaning up tmp dirs...\nheroku-cli: Updating... !    Update hash signature mismatch\n```\nIt seems like something is very weird here. It might be a security thing. \nTo answer your other question:\nI'm using heroku from a big coorperation, so yes I'm using antivirus.\nWe use symantic endpoint protection\n. @ransombriggs I can only imagine how slow that kind of process is.\nI'm not sure whether I can, and if how.\nBut I can probably get some help on that internally.\nI'm guessing it is just cli-assets.heroku.com that has to be marked as safe?\n. ",
    "jayagl": "+1\nSimilar strange error on Windows 10. Tried reinstalling after deleting any traces of Heroku (no folder found in AppData/Local) but no good. Running CMD in Admin mode. It's very strange because it's looking for '/home/ubuntu' on a Windows machine. \nError below:\n```\n$ heroku\npanic: mkdir H:: The system cannot find the path specified.\ngoroutine 1 [running]:\npanic(0x738fa0, 0x12f00a60)\n        /usr/local/go/src/runtime/panic.go:481 +0x326\nmain.must(0xe44388, 0x12f00a60)\n        /home/ubuntu/.go_workspace/src/github.com/heroku/cli/io.go:188 +0x44\nmain.configHome(0x0, 0x0)\n        /home/ubuntu/.go_workspace/src/github.com/heroku/cli/filesystem.go:66 +0x17d\nmain.init()\n        /home/ubuntu/.go_workspace/src/github.com/heroku/cli/filesystem.go:27 +0x390\npanic: mkdir H:: The system cannot find the path specified.\ngoroutine 1 [running]:\npanic(0x738fa0, 0x12c04a60)\n        /usr/local/go/src/runtime/panic.go:481 +0x326\nmain.must(0x2644388, 0x12c04a60)\n        /home/ubuntu/.go_workspace/src/github.com/heroku/cli/io.go:188 +0x44\nmain.configHome(0x0, 0x0)\n        /home/ubuntu/.go_workspace/src/github.com/heroku/cli/filesystem.go:66 +0x17d\nmain.init()\n        /home/ubuntu/.go_workspace/src/github.com/heroku/cli/filesystem.go:27 +0x390\npanic: mkdir H:: The system cannot find the path specified.\ngoroutine 1 [running]:\npanic(0x738fa0, 0x12c08580)\n        /usr/local/go/src/runtime/panic.go:481 +0x326\nmain.must(0x32c44370, 0x12c08580)\n        /home/ubuntu/.go_workspace/src/github.com/heroku/cli/io.go:188 +0x44\nmain.configHome(0x0, 0x0)\n        /home/ubuntu/.go_workspace/src/github.com/heroku/cli/filesystem.go:66 +0x17d\nmain.init()\n        /home/ubuntu/.go_workspace/src/github.com/heroku/cli/filesystem.go:27 +0x390\n```\n. ",
    "willex": "Hi, I experience the same problem. Is here a workaround or force to do this?. ",
    "pazams": "Beta works.\nthough I find it odd npm fails only me?! I use npm daily to develop and also publish packages.\nThanks.\n. ",
    "Ahmed-Badawy": "thanks! it's working now. \ntemporary DNS issue as you said. \nplease try to figure this problem. it leaves users with very bad first impression. \ni'm closing this issue as it's solved. \n. ",
    "bhaider7": "Almost 6 months later, I got the exact same issue on the first interaction with heroku, not a good start.\nI am behind a corporate firewall and git + npm are working perfectly fine (after one time proxy configuration).\nThe issue resolved automatically after sometime after initial frustration (and time consumption). Just shared my experience for any next user landing here until the issue is actually resolved.\n. ",
    "jamesplease": "Oh awesome! Thanks @dickeyxxx ! I'll give it a try tonight. :v:\nI suppose I'll go ahead and close this issue.\n. ",
    "tang1000": "Yes, i did! Thank you\n. ",
    "lgmautner": "@dickeyxxx it says it's updating, but then I see a ruby error regarding \"undefined method `[]' for nil:NilClass (NoMethodError)\"\nWas closing this issue premature? I'm re-running my build so I can check the logs\n. ",
    "Nivg": "Yes it's on window 8.1\nI have already deleted the local folder and still got the same error.\nI will try to download the newest version manually and see if it's helps bypassing this issue.\nUpdate:\nUninstall the toolbelt, deleting the local folder, and then install the newest version works fine. I still don't understand why the update service was failing...\n. ",
    "strobejb": "Hi,\nThanks for responding\nYes I'm installing from toolbelt.heroku.com \nI don't have an environment variable LOCALAPPDATA - I set that accordingly and did a clean install but  I still get the same error\n. I removed my Ruby directory, but whenever I run 'heroku' I still get this:\n!    Error opening C:\\Ruby\\\n !    Error opening C:\\Ruby\\\n !    Error opening C:\\Ruby\\\n !    Error opening C:\\Ruby\\\n !    Error opening C:\\Ruby\\\n !    Error opening C:\\Ruby\\\nThat directory doesn't exist now, but heroku is still looking for it? Strange, because I never saw this error before on prior versions of the heroku-cli, it only started happening when I updated\nI'm using git-bash (on Win10), and also trying regular cmd.exe but the error is the same\nPretty sure my Ruby install is OK but I will try cleaning+reinstalling that tonight\nthanks\n. I have Ruby in my path (which isn't the problem)\nC:\\Ruby\\Ruby200\\bin\nThe culprits are:\nSSL_CERT_DIR=C:\\Ruby\\\nSSL_CERT_FILE=C:\\Ruby\\cacert.pem\nRemoving these gets rid of the \"!    Error opening C:\\Ruby\\\" message, but I still get:\n`Loading... !!!\n !    Unauthorized.\nevents.js:160\n      throw er; // Unhandled 'error' event\n      ^\nError: spawn heroku ENOENT\n    at exports._errnoException (util.js:949:11)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:182:32)\n    at onErrorNT (internal/child_process.js:348:16)\n    at _combinedTickCallback (internal/process/next_tick.js:74:11)\n    at process._tickCallback (internal/process/next_tick.js:98:9)\n`\nI tried running as Admin but still getting the unauthorized message\nbtw I need the SSL_CERT_xxx environment flags to be set for openssl :)\n. Yes that's returning the username/email I setup for Git\n. ",
    "beanieboi": "hey jeff, nice meeting you!\nsorry for being so short worded when i opened the issue. it was late yesterday and i wanted to document it somewhere :)\nwe have a wrapper script on our Codeship platform that people use, this is mostly to abstract the location of the heroku toolbelt away from the user. we can totally discuss if this was a good idea (i personally think it was not :) but we have this thing in place.\nheroku_run.sh\n```\n!/bin/bash\nARGS=${@:1:$#-1}\nAPP_NAME=${@: -1}\n/usr/bin/heroku run --exit-code --app ${APP_NAME} -- ${ARGS}\n```\nwe have a test in place that actually checks for return codes from the Heroku Toolbelt since return codes a very very critical to our platform. if we continue a deployment or stop the whole deployment pipeline.\nour test looks like this\nheroku_run \"bash -c 'exit 53'\" test-access-app || echo $? | grep 53\ni tried \"all\" possibilities of escaping the command differently but all ended up being weirdly interpreted from the Heroku Toolbelt. i disabled the test for now but would to enable it again.\nwhat exactly did you change to the parser? from looking into the commits i couldn't find something obvious that changed. (but i'm not familiar with the Toolbelt code at all)\nthanks for your time! i would love to help moving this forward. but first i fully want to understand the changes you made :)\n. @ransombriggs perfect, getting \u25b8    Process exited with code 53. thank you so much!\n. ",
    "PetrKaleta": "@ransombriggs we've found whats causing this. In our app we have ENV variable HEROKU_HOST which contains host of our heroku app instance (as expected). But this env variable is breaking heroku CLI...\n. ",
    "odarino": "I turned it off, including both firewall and antivirus ( avast btw ), but it still keep that screen.\n. 1. \n   just \n   heroku-cli: Installing CLI...\n2. I cant download this. I've tried it both IDM and browser.\n. @ransombriggs Nothing, just ... cant download this. Request time out.\n. Thanks to @ransombriggs . I've solved this problem. It's happened because my Internet confusingly connected to heroku server so slow ( the other's still fine ). Solution is to use a VPN app ( mine is Softether vpn client ). \n. ",
    "vedsolution": "In error.log file \nHeroku client internal error.\nConnection reset by peer - SSL_connect (Errno::ECONNRESET)\n/Users/ved/.heroku/client/vendor/gems/excon-0.47.0/lib/excon/ssl_socket.rb:120:in connect_nonblock'\n/Users/ved/.heroku/client/vendor/gems/excon-0.47.0/lib/excon/ssl_socket.rb:120:ininitialize'\n/Users/ved/.heroku/client/vendor/gems/excon-0.47.0/lib/excon/connection.rb:387:in new'\n/Users/ved/.heroku/client/vendor/gems/excon-0.47.0/lib/excon/connection.rb:387:insocket'\n/Users/ved/.heroku/client/vendor/gems/excon-0.47.0/lib/excon/connection.rb:106:in request_call'\n/Users/ved/.heroku/client/vendor/gems/excon-0.47.0/lib/excon/middlewares/mock.rb:47:inrequest_call'\n/Users/ved/.heroku/client/vendor/gems/excon-0.47.0/lib/excon/middlewares/instrumentor.rb:25:in request_call'\n/Users/ved/.heroku/client/vendor/gems/excon-0.47.0/lib/excon/middlewares/base.rb:15:inrequest_call'\n/Users/ved/.heroku/client/vendor/gems/excon-0.47.0/lib/excon/middlewares/base.rb:15:in request_call'\n/Users/ved/.heroku/client/vendor/gems/excon-0.47.0/lib/excon/middlewares/base.rb:15:inrequest_call'\n/Users/ved/.heroku/client/vendor/gems/excon-0.47.0/lib/excon/connection.rb:233:in request'\n/Users/ved/.heroku/client/vendor/gems/excon-0.47.0/lib/excon.rb:230:inget'\n/Users/ved/.heroku/client/lib/heroku/jsplugin.rb:246:in manifest'\n/Users/ved/.heroku/client/lib/heroku/jsplugin.rb:259:inurl'\n/Users/ved/.heroku/client/lib/heroku/jsplugin.rb:149:in block (2 levels) in setup'\n/Users/ved/.heroku/client/lib/heroku/jsplugin.rb:137:inopen'\n/Users/ved/.heroku/client/lib/heroku/jsplugin.rb:137:in block in setup'\n/usr/local/heroku/ruby/lib/ruby/1.9.1/tmpdir.rb:83:inmktmpdir'\n/Users/ved/.heroku/client/lib/heroku/jsplugin.rb:135:in setup'\n/Users/ved/.heroku/client/lib/heroku/cli.rb:27:instart'\n/usr/local/bin/heroku:24:in`'\n. ",
    "vijayvaradan": "I get the same error on Ubuntu 16.04 LTS and ruby 2.3.0:\n```\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       undefined method `[]' for nil:NilClass (NoMethodError)\nCommand:     heroku login\nVersion:     heroku-toolbelt/3.43.3 (x86_64-linux-gnu) ruby/2.3.0\nError ID:    dd5e9c2dae2f4c97b7c5a5c71aa42b52\n\n```\nI've tried uninstalling and re-installing heroku and heroku-toolbelt to no avail.\nThe following solution worked:\nrm -rf ~/.local/share/heroku\nrm -rf ~/.config/heroku\nrm -rf ~/.cache/heroku\nrm -rf ~/.heroku\nRunning heroku login and other commands worked fine after that.\n. ",
    "BrunoQuaresma": "@vijayvaradan it works! Thanks!\n@ransombriggs maybe, this script can be add in the Ubuntu install doc.\n. Follow #1961 \n. ",
    "adesinaadewale": "THANKS RANSOMBRIGGS, it worked\n. ",
    "nkrishnamoorthi": "@ransombriggs  - I ran the command and tried but its not working. Yes I am behind the network proxy and firewall. Please help me on this.\n. @ransombriggs  - I followed your command and the heroku installed successfully.\nBut Once I use the \"Heroku login\" and I am giving my heroku credentials then I am getting below error.\npost https://api.heroku.com/login: net/http: TLS handshake timeout\nPlease help me on this.\n. ",
    "theartsnetwork": "Tried the output of ls -lh /Users/username/.local/share/heroku\nIt gives me this ls: /Users/username/.local/share/heroku: No such file or directory. \n. output for ls -lh /Users/username/.local/share\ntotal 0\ndrwxr-xr-x  3 root  staff   102B Sep 26  2015 bower\n. ",
    "cfischer83": "Did this ever get resolved? I'm having a similar error message.. ",
    "fylooi": "Nope, moved on Windows so it's not an issue any more. . ",
    "jeisenlo": "I am getting a similar issue... any suggestions?\n\nMacBook-Pro:node-js-getting-started jameseisenlohr$ heroku pg:psql\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n    Error:       Did not recognize your adapter specification (dlopen(/usr/local/heroku/vendor/gems/json-1.8.2/lib/json/ext/parser.bundle, 9): Library not loaded: /usr/local/opt/gmp/lib/libgmp.10.dylib\n  Referenced from: /usr/local/heroku/vendor/gems/json-1.8.2/lib/json/ext/parser.bundle\n  Reason: image not found - /usr/local/heroku/vendor/gems/json-1.8.2/lib/json/ext/parser.bundle). (MultiJson::AdapterError)\n    Command:     heroku pg:psql\n    Version:     heroku-toolbelt/3.43.15 (x86_64-darwin10.8.0) ruby/1.9.3\n    Error ID:    1b06d6ce1e7f4c9b95cbc211de17366a\nMacBook-Pro:node-js-getting-started jameseisenlohr$ heroku --version\nheroku-toolbelt/3.43.15 (x86_64-darwin10.8.0) ruby/1.9.3\nheroku-cli/5.5.5-789c5b7 (darwin-amd64) go1.7.4\nYou have no installed plugins.. \n",
    "AndrewDESmith": "I'm running into the same problem, and am doing exercises from the same program.\nWe are running a Linux development environment inside Vagrant.  Outside of that, I'm not running any proxies or VPNs.\n. ",
    "sungwon": "gem uninstall heroku\nand then\ngem install heroku\nIf you're not using vagrant, rather than reinstalling heroku as a gem, it would probably be better to install the heroku toolbelt, but vagrant makes that difficult.\nHere is some more info and other solutions:\nhttp://stackoverflow.com/questions/17268517/heroku-client-internal-error-unable-to-verify-certificate\n. ",
    "goyalshubham13": "@dickeyxxx please help with this issue. Let me know what URLs I need to add into my firewall if required.\n. Thanks @dickeyxxx for your help. Above issue is resolved at my end. Now while creating new app on heroku, I am getting \"SELF_SIGNED_CERT_IN_CHAIN: self signed certificate in certificate chain\".\nI am not able to understand how to go about it. Can you please help with this?\nThanks again.\n\n. ",
    "walkerwzy": "after I tried for 5 times, it install successfully and I don't know why. but I should close this issue first.\n. ",
    "ichromanrd": "@ransombriggs Yeah seems it's a DNS issue, today I use different ISP and it's working. Thanks for your help! \n. It's solved mas @AgungPambudi . anyway thanks dah respon :)\n. ",
    "AgungPambudi": "The solution is changing your DNS name server. I was tried changing my DNS name server on my laptop in order to use Google DNS\nGoogle DNS\nPreferred: 8.8.8.8\nAlternate: 8.8.4.4\nAnd the result is works perfectly\n. ",
    "eguinosa": "I have the same problem:\nheroku-cli: Installing CLI...\nError: SSL_connect returned=1 errno=0 state=SSLv2/v3 read server hello A: unknown protocol (OpenSSL::SSL::SSLError)\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/ssl_socket.rb:120:in connect_nonblock'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/ssl_socket.rb:120:ininitialize'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:404:in new'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:404:insocket'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:106:in request_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/mock.rb:47:inrequest_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/instrumentor.rb:25:in request_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/base.rb:15:inrequest_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/base.rb:15:in request_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/base.rb:15:inrequest_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:250:in request'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon.rb:238:inget'\n/usr/local/heroku/lib/heroku/jsplugin.rb:255:in manifest'\n/usr/local/heroku/lib/heroku/jsplugin.rb:268:inurl'\n/usr/local/heroku/lib/heroku/jsplugin.rb:158:in block (2 levels) in setup'\n/usr/local/heroku/lib/heroku/jsplugin.rb:146:inopen'\n/usr/local/heroku/lib/heroku/jsplugin.rb:146:in block in setup'\n/home/eguinosa/.rvm/rubies/ruby-2.2.5/lib/ruby/2.2.0/tmpdir.rb:88:inmktmpdir'\n/usr/local/heroku/lib/heroku/jsplugin.rb:144:in setup'\n/usr/local/heroku/lib/heroku/cli.rb:27:instart'\n/usr/local/heroku/bin/heroku:25:in `'\nretrying...\nError: SSL_connect returned=1 errno=0 state=SSLv2/v3 read server hello A: unknown protocol (OpenSSL::SSL::SSLError)\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/ssl_socket.rb:120:in connect_nonblock'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/ssl_socket.rb:120:ininitialize'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:404:in new'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:404:insocket'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:106:in request_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/mock.rb:47:inrequest_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/instrumentor.rb:25:in request_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/base.rb:15:inrequest_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/base.rb:15:in request_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/base.rb:15:inrequest_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:250:in request'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon.rb:238:inget'\n/usr/local/heroku/lib/heroku/jsplugin.rb:255:in manifest'\n/usr/local/heroku/lib/heroku/jsplugin.rb:268:inurl'\n/usr/local/heroku/lib/heroku/jsplugin.rb:158:in block (2 levels) in setup'\n/usr/local/heroku/lib/heroku/jsplugin.rb:146:inopen'\n/usr/local/heroku/lib/heroku/jsplugin.rb:146:in block in setup'\n/home/eguinosa/.rvm/rubies/ruby-2.2.5/lib/ruby/2.2.0/tmpdir.rb:88:inmktmpdir'\n/usr/local/heroku/lib/heroku/jsplugin.rb:144:in setup'\n/usr/local/heroku/lib/heroku/cli.rb:27:instart'\n/usr/local/heroku/bin/heroku:25:in `'\nretrying...\nError: SSL_connect returned=1 errno=0 state=SSLv2/v3 read server hello A: unknown protocol (OpenSSL::SSL::SSLError)\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/ssl_socket.rb:120:in connect_nonblock'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/ssl_socket.rb:120:ininitialize'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:404:in new'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:404:insocket'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:106:in request_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/mock.rb:47:inrequest_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/instrumentor.rb:25:in request_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/base.rb:15:inrequest_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/base.rb:15:in request_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/base.rb:15:inrequest_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:250:in request'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon.rb:238:inget'\n/usr/local/heroku/lib/heroku/jsplugin.rb:255:in manifest'\n/usr/local/heroku/lib/heroku/jsplugin.rb:268:inurl'\n/usr/local/heroku/lib/heroku/jsplugin.rb:158:in block (2 levels) in setup'\n/usr/local/heroku/lib/heroku/jsplugin.rb:146:inopen'\n/usr/local/heroku/lib/heroku/jsplugin.rb:146:in block in setup'\n/home/eguinosa/.rvm/rubies/ruby-2.2.5/lib/ruby/2.2.0/tmpdir.rb:88:inmktmpdir'\n/usr/local/heroku/lib/heroku/jsplugin.rb:144:in setup'\n/usr/local/heroku/lib/heroku/cli.rb:27:instart'\n/usr/local/heroku/bin/heroku:25:in `'\nretrying...\nError: SSL_connect returned=1 errno=0 state=SSLv2/v3 read server hello A: unknown protocol (OpenSSL::SSL::SSLError)\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/ssl_socket.rb:120:in connect_nonblock'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/ssl_socket.rb:120:ininitialize'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:404:in new'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:404:insocket'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:106:in request_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/mock.rb:47:inrequest_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/instrumentor.rb:25:in request_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/base.rb:15:inrequest_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/base.rb:15:in request_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/base.rb:15:inrequest_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:250:in request'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon.rb:238:inget'\n/usr/local/heroku/lib/heroku/jsplugin.rb:255:in manifest'\n/usr/local/heroku/lib/heroku/jsplugin.rb:268:inurl'\n/usr/local/heroku/lib/heroku/jsplugin.rb:158:in block (2 levels) in setup'\n/usr/local/heroku/lib/heroku/jsplugin.rb:146:inopen'\n/usr/local/heroku/lib/heroku/jsplugin.rb:146:in block in setup'\n/home/eguinosa/.rvm/rubies/ruby-2.2.5/lib/ruby/2.2.0/tmpdir.rb:88:inmktmpdir'\n/usr/local/heroku/lib/heroku/jsplugin.rb:144:in setup'\n/usr/local/heroku/lib/heroku/cli.rb:27:instart'\n/usr/local/heroku/bin/heroku:25:in `'\nretrying...\nError: SSL_connect returned=1 errno=0 state=SSLv2/v3 read server hello A: unknown protocol (OpenSSL::SSL::SSLError)\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/ssl_socket.rb:120:in connect_nonblock'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/ssl_socket.rb:120:ininitialize'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:404:in new'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:404:insocket'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:106:in request_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/mock.rb:47:inrequest_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/instrumentor.rb:25:in request_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/base.rb:15:inrequest_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/base.rb:15:in request_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/base.rb:15:inrequest_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:250:in request'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon.rb:238:inget'\n/usr/local/heroku/lib/heroku/jsplugin.rb:255:in manifest'\n/usr/local/heroku/lib/heroku/jsplugin.rb:268:inurl'\n/usr/local/heroku/lib/heroku/jsplugin.rb:158:in block (2 levels) in setup'\n/usr/local/heroku/lib/heroku/jsplugin.rb:146:inopen'\n/usr/local/heroku/lib/heroku/jsplugin.rb:146:in block in setup'\n/home/eguinosa/.rvm/rubies/ruby-2.2.5/lib/ruby/2.2.0/tmpdir.rb:88:inmktmpdir'\n/usr/local/heroku/lib/heroku/jsplugin.rb:144:in setup'\n/usr/local/heroku/lib/heroku/cli.rb:27:instart'\n/usr/local/heroku/bin/heroku:25:in `'\nretrying...\nSSL_connect returned=1 errno=0 state=SSLv2/v3 read server hello A: unknown protocol (OpenSSL::SSL::SSLError)\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/ssl_socket.rb:120:in connect_nonblock'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/ssl_socket.rb:120:ininitialize'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:404:in new'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:404:insocket'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:106:in request_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/mock.rb:47:inrequest_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/instrumentor.rb:25:in request_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/base.rb:15:inrequest_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/base.rb:15:in request_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/middlewares/base.rb:15:inrequest_call'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon/connection.rb:250:in request'\n/usr/local/heroku/vendor/gems/excon-0.51.0/lib/excon.rb:238:inget'\n/usr/local/heroku/lib/heroku/jsplugin.rb:255:in manifest'\n/usr/local/heroku/lib/heroku/jsplugin.rb:268:inurl'\n/usr/local/heroku/lib/heroku/jsplugin.rb:158:in block (2 levels) in setup'\n/usr/local/heroku/lib/heroku/jsplugin.rb:146:inopen'\n/usr/local/heroku/lib/heroku/jsplugin.rb:146:in block in setup'\n/home/eguinosa/.rvm/rubies/ruby-2.2.5/lib/ruby/2.2.0/tmpdir.rb:88:inmktmpdir'\n/usr/local/heroku/lib/heroku/jsplugin.rb:144:in setup'\n/usr/local/heroku/lib/heroku/cli.rb:27:instart'\n/usr/local/heroku/bin/heroku:25:in `'\n !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n```\nError:       SSL_connect returned=1 errno=0 state=SSLv2/v3 read server hello A: unknown protocol (OpenSSL::SSL::SSLError) (Excon::Error::Socket)\nCommand:     heroku --version\nHTTP Proxy:  http://user:password@proxy:port\nHTTPS Proxy: http://user:password@proxy:port\nVersion:     heroku-toolbelt/3.43.12 (x86_64-linux) ruby/2.2.5\nMore information in /home/eguinosa/.heroku/error.log\n```\n. Somebody knows how to solve this?????????\n. Hi,\nYes, I'm using Ubuntu 16.04 and I'm also a Ruby developer that's the reason\nso I use heroku.\nThe congirutation is for my school http proxy.\nI hope my information can help.\nOn Thu, Sep 22, 2016 at 5:19 PM, Ransom Briggs notifications@github.com\nwrote:\n\n@eguinosa https://github.com/eguinosa What exact version of linux are\nyou running? I can try and set up a VM to try and recreate. Also any\ninformation you can give me about your network proxy would be useful, I\nhave only tested with squid presently, and I can better match your\nenvironment that will help with debugging.\nAlso, it appears that you might be a ruby developer, would you feel\ncomfortable just running the following as it may be an issue with the\nupstream library https://github.com/excon/excon/issues/478 and I would\nhave something simpler to submit as a bug report. (you may have to gem\ninstall excon first)\nrequire 'excon'\nExcon.get(\"https://cli-assets.heroku.com/branches/stable/gz/manifest.json\", expects: [200])\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/heroku/heroku/issues/1979#issuecomment-248901093, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AQX1uo1nV_F_KbXnvv2B5m3VbHx4Zjl3ks5qsoBrgaJpZM4JMYrw\n.\n. Here is the output:\n\neguinosa Documents $ cat code.rb\nrequire 'excon'\nExcon.get(\"https://cli-assets.heroku.com/branches/stable/gz/manifest.json\",\nexpects: [200])\neguinosa Documents $ ruby code.rb\n/home/eguinosa/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:in\nrequire': cannot load such file -- excon (LoadError)\nfrom\n/home/eguinosa/.rvm/rubies/ruby-2.3.1/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb:55:inrequire'\nfrom code.rb:1:in `'\neguinosa Documents $\nOn Fri, Sep 23, 2016 at 7:36 PM, Ransom Briggs notifications@github.com\nwrote:\n\n@eguinosa https://github.com/eguinosa Could you run this bit of Ruby\ncode and paste the output? I want to try and isolate what is causing the\nbug and it would help me remove a bunch of layers. (you may have to gem\ninstall excon first)\nrequire 'excon'\nExcon.get(\"https://cli-assets.heroku.com/branches/stable/gz/manifest.json\", expects: [200])\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/heroku/heroku/issues/1979#issuecomment-249225922, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AQX1ujHOEXHVaW47OX4j-v78_8g0iS0tks5qs_IKgaJpZM4JMYrw\n.\n. \n",
    "bluta": "@dickeyxxx maybe only bcs restclient switched on netrc auth on 1.7.0 so your stubbed requests do not match if you have a .netrc file.\n. @dickeyxxx could you take a look if - on top of the additional commit kind of taking care of the stubbed requests - there's anything more we can do to have this merged?\n. @atmos -- anything we can do get this rechecked/merged?\n. @atmos - you mean although the coverage for the first look seems promising for the API, still feel it'll fail in real applications? by any chance you have a rough direction for such problems?\nsorry to bother, but our application works fine with the changes, and we also need the new version of rest-client for our own oauth - and we usually try to avoid forking if possible.\n. ",
    "eschersgirl": ":+1:\n. ",
    "storhet": "\ud83d\udc4d\n. ",
    "Hawerrr": ":+1:\n. ",
    "nabinno": "@srameez I have the same issue with setting export PATH=\"/usr/local/heroku/bin:$PATH or export PATH=\"~/.local/share/heroku/cli/bin:$PATH, and then following solves it.\n```\n$ wget -qO- https://toolbelt.heroku.com/install.sh | sudo sh\n$ /usr/local/heroku/bin/heroku\n$ alias heroku=\"~/.local/share/heroku/cli/bin/heroku\"\n$ heroku version\nheroku-cli/5.7.0-713be60 (linux-amd64) go1.7.5\n$ /usr/local/heroku/bin/heroku version\nheroku-toolbelt/3.43.9999 (x86_64-linux) ruby/2.4.0\nheroku-cli/5.7.0-713be60 (linux-amd64) go1.7.5\n```\n. ",
    "ushuz": "@dickeyxxx Upgrading to iTerm2 3.0.5 solved the problem, thanks. So support for iTerm2 2.x has been dropped already?\n. ",
    "develaper": "it works perfect now.\nThanks a lot!!\n. ",
    "nicolallias": "Same problem here,  firstly /home//.heroku/error.log indicated a file permission problem.\nNow, \n\nheroku-cli: Installing CLI... 23.16MB/23.16MB !    Heroku client internal error.\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\nError:       SHA mismatch for heroku.tar.gz (RuntimeError)\nCommand:     heroku\nVersion:     heroku-toolbelt/3.43.9 (x86_64-linux-gnu) ruby/2.3.1\nError ID:    9c0f01ac097c4026919c78907566b7bd\nMore information in /home/nallias/.heroku/error.log\n\nWhich says\n\nHeroku client internal error.\nSHA mismatch for heroku.tar.gz\n/usr/local/heroku/lib/heroku/jsplugin.rb:162:in block in setup'\n/usr/lib/ruby/2.3.0/tmpdir.rb:89:inmktmpdir'\n/usr/local/heroku/lib/heroku/jsplugin.rb:135:in setup'\n/usr/local/heroku/lib/heroku/cli.rb:27:instart'\n/usr/bin/heroku:25:in `'\n\n(I have no proxy)\n. ",
    "dantesolis": "If you are installing heroku with homebrew rather than downloading the CLI from the heroku website. Just chmod 600 to the folder specified when you got the error. That solved the problem for me\n. ",
    "nsamsami": "The prompt seems a bit unclear. First line of warning that plugin is deprecated makes sense. Next line, not clear to me how to check if there's a new version or what Node.js Heroku CLI is (if I didn't know already.)\n. ",
    "ddouglasz": "hi, i am currently facing the same problems too. please i don't know if the issue has been tackled by any chance because on google so far i still have not found any solutions. i would be glad to get a response.\nthank you so much in advance.. ",
    "CodeZaru": "Try taking a look at your System PATH Environment Variable (I use Windows 10), and if the Heroku PATH variable doesn't include the \"bin\" directory, just add it and reboot your machine.. So if you had C:\\Program Files\\Heroku\\ as the path, edit it to be C:\\Program Files\\Heroku\\bin\\  \nI experienced the same issue, and this was how I fixed it.  I generally use a standard (non-admin Windows account) for security purposes, but as you know you'll need to run the Windows Control Panel as administrator to change the system variable, If you navigate to where you installed Heroku, you might notice the heroku.exe application file is in the bin directory.... ",
    "jjthom87": "Here is my server.js:\n//NPM install packages...Dependencies\nvar express = require ('express');\nvar bodyParser = require('body-parser');\nvar path = require('path');\n// var ParseServer = require('parse-server').ParseServer;\n//Sets up the the express app\nvar app = express();\n//Where all of the post information is being pushed to\n//setting up the port that the server will be listening on\nvar PORT = process.env.PORT || 5000;\n//Sets up the express app to handle parsing\napp.use(bodyParser.json({limit: '50mb'}));\napp.use(bodyParser.urlencoded({ \n    limit: '50mb',\n    extended: true, \n    parameterLimit:50000}));\napp.use(bodyParser.text());\napp.use(bodyParser.json({ type: 'application/vnd.api+json'}));\n//displaying data from the home.html file\napp.get('/', function(reckor,resin){\n    resin.sendfile(path.join(__dirname, './app/products/html/index.html'));\n});\n//lets the server recognize the js files\napp.use('/static', express.static('./app/products'));\n//starts the server with the listening queue\napp.listen(PORT, function(){\n    console.log(\"Listening on port\", PORT);\n});\nHere is my package.json:\n{\n  \"name\": \"myportfolio\",\n  \"version\": \"1.0.0\",\n  \"description\": \"my portfolio\",\n  \"main\": \"server.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\n    \"start\": \"node server.js\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/jjthom87/MyPortfolio.git\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"bugs\": {\n    \"url\": \"https://github.com/jjthom87/MyPortfolio/issues\"\n  },\n  \"homepage\": \"https://github.com/jjthom87/MyPortfolio#readme\",\n  \"dependencies\": {\n    \"body-parser\": \"^1.15.2\",\n    \"bower\": \"^1.7.9\",\n    \"express\": \"^4.14.0\"\n  },\n  \"engines\": {\n    \"node\": \"4.4.7\"\n  }\n}\n. ",
    "cmmartin": "I'm not looking for help. I'm looking for a yes or no answer as to whether Heroku CLI provides a means to inject host keys into the container. It seems strange that it would support SSH keys, but not host keys. That's only half the battle. Anyway, I guess this isn't the forum for this kind of question.\n. ",
    "gjtorikian": "Yup, that did it! Thank you!\n. ",
    "smaximov": "Seems to be fixed by #1996.\n. ",
    "Eldinnie": "Same problem here, Fresh install of windows 10 64bit. Someone noticed it might be due to gem installation rules in Ruby 2.1\n. Worked for me aswell, thanks @tranlamnhatnam \n. ",
    "tranlamnhatnam": "Thanks! It's worked for me.\n. ",
    "aslubsky": "+1\nUbuntu 14.04.5 LTS\n. No, I use my ISP DNS. \nFor fix this bug I set \n23.21.149.112 api.heroku.com\n in my /etc/hosts\n. Ok. Thanks\n. Works fine\n\nroot@xxx:~# heroku update\n \u25b8    Update in progress\n !    To update this version of the Heroku client please use\n !    apt-get install heroku-toolbelt\nroot@xxx:~# heroku --version\nheroku-toolbelt/3.43.12 (x86_64-linux) ruby/1.9.3\nheroku-cli/5.4.1-ae9db27 (linux-amd64) go1.7.1\nYou have no installed plugins.\nroot@xxx:~# heroku login\nEnter your Heroku credentials.\nEmail: xxx@gmail.com\nPassword (typing will be hidden): \nLogged in as xxx@gmail.com\n. \n",
    "richardgroves": "Having the same problem here:\nrichard$ heroku version\nheroku-toolbelt/3.43.11 (x86_64-darwin10.8.0) ruby/1.9.3\nheroku-cli/5.3.5-3e5cdd9 (darwin-amd64) go1.6.2\nYou have no installed plugins.\nTried to update to make sure I have the latest:\nrichard$ heroku update\n\u25b8    Get https://cli-assets.heroku.com/branches/stable/manifest.json: dial tcp: lookup cli-assets.heroku.com on 8.8.4.4:53: cannot unmarshal DNS message\nTry the login again and now am getting a massive callback stack for the failure:\nrichard$ heroku login\nEnter your Heroku credentials.\nEmail: richard@noodlfroot.com\nPassword (typing will be hidden): \n \u25b8    Post https://api.heroku.com/login: dial tcp: lookup api.heroku.com on 8.8.4.4:53: cannot unmarshal DNS message\nfatal error: unexpected signal during runtime execution\n[signal 0xb code=0x1 addr=0xb01dfacedebac1e pc=0x27e5a0]\ngoroutine 1 [running]:\nruntime.throw(0x525680, 0x2a)\n    /usr/local/go/src/runtime/panic.go:547 +0x90 fp=0xc82018b5c0 sp=0xc82018b5a8\nruntime.sigpanic()\n    /usr/local/go/src/runtime/sigpanic_unix.go:12 +0x5a fp=0xc82018b610 sp=0xc82018b5c0\nsync.(_Pool).Get(0x6bbfb0, 0x0, 0x0)\n    /usr/local/go/src/sync/pool.go:102 +0x40 fp=0xc82018b660 sp=0xc82018b610\nfmt.newPrinter(0xc82018b900)\n    /usr/local/go/src/fmt/print.go:133 +0x27 fp=0xc82018b6a0 sp=0xc82018b660\nfmt.Sprintf(0x49f630, 0xd, 0xc82018b7c0, 0x3, 0x3, 0x0, 0x0)\n    /usr/local/go/src/fmt/print.go:202 +0x2b fp=0xc82018b6f0 sp=0xc82018b6a0\ngithub.com/heroku/cli/vendor/github.com/go-errors/errors.(_StackFrame).String(0xc82018b8c8, 0x0, 0x0)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/vendor/github.com/go-errors/errors/stackframe.go:53 +0x20f fp=0xc82018b7f8 sp=0xc82018b6f0\ngithub.com/heroku/cli/vendor/github.com/ansel1/merry.Stacktrace(0x7af7c0, 0xc8201d4c90, 0x0, 0x0)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/vendor/github.com/ansel1/merry/print.go:40 +0x1a8 fp=0xc82018b910 sp=0xc82018b7f8\ngithub.com/heroku/cli/vendor/github.com/ansel1/merry.Details(0x7af7c0, 0xc8201d4c90, 0x0, 0x0)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/vendor/github.com/ansel1/merry/print.go:57 +0x274 fp=0xc82018ba08 sp=0xc82018b910\nmain.handlePanic()\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/io.go:335 +0x204 fp=0xc82018bad0 sp=0xc82018ba08\nruntime.call32(0x0, 0x559d08, 0xc8200798c0, 0x0)\n    /usr/local/go/src/runtime/asm_amd64.s:472 +0x3e fp=0xc82018baf8 sp=0xc82018bad0\npanic(0x43b120, 0xc8201d4c60)\n    /usr/local/go/src/runtime/panic.go:443 +0x4e9 fp=0xc82018bb78 sp=0xc82018baf8\nmain.must(0x7af710, 0xc8201d4c60)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/io.go:189 +0x4b fp=0xc82018bba0 sp=0xc82018bb78\nmain.v2login(0xc8201a6de0, 0x16, 0xc820077bc0, 0x8, 0x0, 0x0, 0x0, 0x0)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/auth.go:326 +0x250 fp=0xc82018bcc0 sp=0xc82018bba0\nmain.interactiveLogin()\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/auth.go:261 +0x201 fp=0xc82018bdb0 sp=0xc82018bcc0\nmain.login(0xc8201ac620)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/auth.go:208 +0x103 fp=0xc82018be08 sp=0xc82018bdb0\nmain.Start(0xc820070080, 0x2, 0x2)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/start.go:70 +0x62b fp=0xc82018bf20 sp=0xc82018be08\nmain.main()\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/main.go:22 +0x91 fp=0xc82018bf40 sp=0xc82018bf20\nruntime.main()\n    /usr/local/go/src/runtime/proc.go:188 +0x2b0 fp=0xc82018bf90 sp=0xc82018bf40\nruntime.goexit()\n    /usr/local/go/src/runtime/asm_amd64.s:1998 +0x1 fp=0xc82018bf98 sp=0xc82018bf90\ngoroutine 19 [syscall]:\nos/signal.signal_recv(0x0)\n    /usr/local/go/src/runtime/sigqueue.go:116 +0x132\nos/signal.loop()\n    /usr/local/go/src/os/signal/signal_unix.go:22 +0x18\ncreated by os/signal.init.1\n    /usr/local/go/src/os/signal/signal_unix.go:28 +0x37\ngoroutine 20 [chan receive]:\ngithub.com/heroku/cli/vendor/github.com/stvp/rollbar.init.1.func1()\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/vendor/github.com/stvp/rollbar/rollbar.go:103 +0x5c\ncreated by github.com/heroku/cli/vendor/github.com/stvp/rollbar.init.1\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/vendor/github.com/stvp/rollbar/rollbar.go:114 +0x91\ngoroutine 3 [select, locked to thread]:\nruntime.gopark(0x55a558, 0xc82002af28, 0x49e660, 0x6, 0x18, 0x2)\n    /usr/local/go/src/runtime/proc.go:262 +0x163\nruntime.selectgoImpl(0xc82002af28, 0x0, 0x18)\n    /usr/local/go/src/runtime/select.go:392 +0xa67\nruntime.selectgo(0xc82002af28)\n    /usr/local/go/src/runtime/select.go:215 +0x12\nruntime.ensureSigM.func1()\n    /usr/local/go/src/runtime/signal1_unix.go:279 +0x32c\nruntime.goexit()\n    /usr/local/go/src/runtime/asm_amd64.s:1998 +0x1\ngoroutine 4 [chan receive]:\nmain.handleSignal.func1(0xc8200180c0, 0x559d68)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/io.go:316 +0x36\ncreated by main.handleSignal\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/io.go:318 +0xd9\ngoroutine 5 [chan receive]:\ngithub.com/heroku/cli/vendor/github.com/dickeyxxx/speakeasy.getPassword.func1(0xc8200750e0, 0xc8201a6e00, 0x3, 0x3)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/vendor/github.com/dickeyxxx/speakeasy/speakeasy_unix.go:48 +0x36\ncreated by github.com/heroku/cli/vendor/github.com/dickeyxxx/speakeasy.getPassword\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/vendor/github.com/dickeyxxx/speakeasy/speakeasy_unix.go:51 +0x4dd\ngoroutine 7 [runnable]:\nnet/http.setRequestCancel.func4(0x0, 0xc8201b20c0, 0xc820073f80, 0xc8200751a0)\n    /usr/local/go/src/net/http/client.go:333 +0x12e\ncreated by net/http.setRequestCancel\n    /usr/local/go/src/net/http/client.go:341 +0x2f7`\n. I've also tried several other DNS servers and have the same problem on them all.\neg.\n37.235.1.174\n162.211.64.20\n84.200.69.80\nGoogling for 'cannot unmarshal DNS message' shows some problems in Docker CLI as well and they seem to trace it to a problem in the GO language DNS parser not expecting a >512 byte DNS response (dig is showing me that api.heroku.com lookup is a 612 byte msg). It all gets a bit above my head at that point with comments about 'EDNS' and RCP compliance of returning messages >512 bytes. I'm trying to work out what version of GO the heroku toolbelt is using, but without any joy.\n. Thanks - I've used the /etc/hosts hack as suggested by @aslubsky for now.\n. I can't test today as the location I'm at is getting a 193 byte size response for api.heroku.com, but will be back in the problem location tomorrow and will re-test then.\n. I'm back in the problem location, but can't actually update to the latest version:\nrichard$ heroku update\n\u25b8    Get https://cli-assets.heroku.com/branches/stable/manifest.json: dial tcp: lookup cli-assets.heroku.com on 8.8.4.4:53: cannot unmarshal DNS message\n!    Usebrew upgrade herokuto update\nUsing the suggested brew upgrade gives:\nrichard$ brew upgrade heroku\nError: heroku 3.43.12 already installed\nUsing dig to lookup cli-assets.heroku.com  and adding \n54.230.0.226 cli-assets.heroku.com\nto my /etc/host and repeating the 'heroku update' gives a massive error dump - pasted below\nSo unlesss there is another way to update I'm stuck - will try the update when back in my working location and then try the login here again, but it will be early next week now before I can complete that test.\n\nrichard$ heroku update\nfatal error: unexpected signal during runtime executionB\n[signal 0xb code=0x1 addr=0x126e2d8 pc=0x258ff5]\ngoroutine 16 [running]:\nruntime.throw(0x525680, 0x2a)\n    /usr/local/go/src/runtime/panic.go:547 +0x90 fp=0xc820026e00 sp=0xc820026de8\nruntime.sigpanic()\n    /usr/local/go/src/runtime/sigpanic_unix.go:12 +0x5a fp=0xc820026e50 sp=0xc820026e00\nruntime/internal/atomic.Load64(0x126e2d8, 0x126e2db4265)\n    /usr/local/go/src/runtime/internal/atomic/atomic_amd64x.go:26 +0x5 fp=0xc820026e58 sp=0xc820026e50\nruntime.lfstackpop(0x6c4c08, 0x53103)\n    /usr/local/go/src/runtime/lfstack.go:38 +0x6d fp=0xc820026e90 sp=0xc820026e58\nruntime.getempty(0x67, 0x0)\n    /usr/local/go/src/runtime/mgcwork.go:341 +0x3b fp=0xc820026ec0 sp=0xc820026e90\nruntime.(_gcWork).init(0xc82001b220)\n    /usr/local/go/src/runtime/mgcwork.go:100 +0x53 fp=0xc820026ed8 sp=0xc820026ec0\nruntime.(_gcWork).tryGet(0xc82001b220, 0x1)\n    /usr/local/go/src/runtime/mgcwork.go:141 +0x38 fp=0xc820026f08 sp=0xc820026ed8\nruntime.gcDrain(0xc82001b220, 0x5)\n    /usr/local/go/src/runtime/mgcmark.go:833 +0x22a fp=0xc820026f40 sp=0xc820026f08\nruntime.gcBgMarkWorker(0xc82001a000)\n    /usr/local/go/src/runtime/mgc.go:1435 +0x583 fp=0xc820026fb8 sp=0xc820026f40\nruntime.goexit()\n    /usr/local/go/src/runtime/asm_amd64.s:1998 +0x1 fp=0xc820026fc0 sp=0xc820026fb8\ncreated by runtime.gcBgMarkStartWorkers\n    /usr/local/go/src/runtime/mgc.go:1330 +0x92\ngoroutine 1 [GC assist wait]:\nio.copyBuffer(0x7b2330, 0xc82002e8c8, 0x7c9998, 0xc820262480, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)\n    /usr/local/go/src/io/io.go:377 +0x1df\nio.Copy(0x7b2330, 0xc82002e8c8, 0x7c9998, 0xc820262480, 0xc82002e8c8, 0x0, 0x0)\n    /usr/local/go/src/io/io.go:350 +0x64\nmain.extractFile(0x7c9998, 0xc820262480, 0xc8201621a0, 0xc82013d200, 0x86, 0x0, 0x0)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/tar.go:45 +0x1f9\nmain.extractTar(0x7c93c0, 0xc8201a9540, 0xc82044c510, 0x30, 0x0, 0x0)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/tar.go:29 +0x44e\nmain.DownloadCLI(0x5597d8, 0x6, 0xc82047c000, 0x26, 0xc8201abc80)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/update.go:96 +0x607\nmain.updateCLI(0x5597d8, 0x6)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/update.go:67 +0x22c\nmain.Update(0x5597d8, 0x6)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/update.go:50 +0x30\nmain.init.8.func1(0xc8201a4620)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/update.go:33 +0xa5\nmain.Start(0xc82000a240, 0x2, 0x2)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/start.go:70 +0x62b\nmain.main()\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/main.go:22 +0x91\ngoroutine 5 [syscall]:\nos/signal.signal_recv(0x0)\n    /usr/local/go/src/runtime/sigqueue.go:116 +0x132\nos/signal.loop()\n    /usr/local/go/src/os/signal/signal_unix.go:22 +0x18\ncreated by os/signal.init.1\n    /usr/local/go/src/os/signal/signal_unix.go:28 +0x37\ngoroutine 6 [chan receive]:\ngithub.com/heroku/cli/vendor/github.com/stvp/rollbar.init.1.func1()\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/vendor/github.com/stvp/rollbar/rollbar.go:103 +0x5c\ncreated by github.com/heroku/cli/vendor/github.com/stvp/rollbar.init.1\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/vendor/github.com/stvp/rollbar/rollbar.go:114 +0x91\ngoroutine 7 [select, locked to thread]:\nruntime.gopark(0x55a558, 0xc82002cf28, 0x49e660, 0x6, 0x18, 0x2)\n    /usr/local/go/src/runtime/proc.go:262 +0x163\nruntime.selectgoImpl(0xc82002cf28, 0x0, 0x18)\n    /usr/local/go/src/runtime/select.go:392 +0xa67\nruntime.selectgo(0xc82002cf28)\n    /usr/local/go/src/runtime/select.go:215 +0x12\nruntime.ensureSigM.func1()\n    /usr/local/go/src/runtime/signal1_unix.go:279 +0x32c\nruntime.goexit()\n    /usr/local/go/src/runtime/asm_amd64.s:1998 +0x1\ngoroutine 8 [chan receive]:\nmain.handleSignal.func1(0xc820018420, 0x559d68)\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/io.go:316 +0x36\ncreated by main.handleSignal\n    /home/ubuntu/.go_workspace/src/github.com/heroku/cli/io.go:318 +0xd9\ngoroutine 19 [select]:\nnet/http.setRequestCancel.func4(0x0, 0xc82044c240, 0xc82044e100, 0xc82031e0c0)\n    /usr/local/go/src/net/http/client.go:333 +0x12e\ncreated by net/http.setRequestCancel\n    /usr/local/go/src/net/http/client.go:341 +0x2f7\ngoroutine 17 [select]:\nnet/http.(_persistConn).readLoop(0xc8201a6a90)\n    /usr/local/go/src/net/http/transport.go:1182 +0xd52\ncreated by net/http.(_Transport).dialConn\n    /usr/local/go/src/net/http/transport.go:857 +0x10a6\ngoroutine 18 [select]:\nnet/http.(_persistConn).writeLoop(0xc8201a6a90)\n    /usr/local/go/src/net/http/transport.go:1277 +0x472\ncreated by net/http.(_Transport).dialConn\n    /usr/local/go/src/net/http/transport.go:858 +0x10cb\n !    Use brew upgrade heroku to update\n. @ransombriggs Correct - am on Sierra, and it hasn't been great. But the support response here has been good.\nAnyway - ran your incantations and got myself updated:\nheroku --version\nheroku-toolbelt/3.43.12 (x86_64-darwin15) ruby/2.3.0\nheroku-cli/5.4.1-ae9db27 (darwin-amd64) go1.7.1\nYou have no installed plugins.\nRemoved the /etc/hosts hacks and ran heroku login:\nheroku login\nEnter your Heroku credentials.\nEmail: richard@<my email hidden>\nPassword (typing will be hidden):\n\u25b8    Post https://api.heroku.com/login: dial tcp: lookup api.heroku.com on 8.8.4.4:53: read udp 10.0.124.128:62428->8.8.4.4:53: i/o timeout\nwhich looks to be exactly what @mbarakaja was getting earlier - but I do seem to be logged in, and running a plain heroku at the command line gives me output about my account and dynos.\n. ",
    "mbarakaja": "@ransombriggs I'm not using Google DNS servers and error.log file doesn't appear in .heroku folder.\n. After the update, I am getting another error:\nPost https://api.heroku.com/login: dial tcp: lookup api.heroku.com on 127.0.1.1:53: read udp 127.0.0.1:59962->127.0.1.1:53: i/o timeout\nI will try to login in another computer. Maybe something is wrong with my O.S.\n. Since the last update I'm not having more problems with the tool. So, this issue can be closed if you wish.\n. ",
    "SanderMander": "I can't deploy because of that\nfatal: unable to access '...': server certificate verification failed. CAfile: /etc/ssl/certs/ca-certificates.crt CRLfile: none\n. ",
    "stoffern": "@ransombriggs working like a charm..\n. ",
    "patricia93sousa": "\u25b8    Post https://api.heroku.com/login: http: error connecting to proxy https://proxy.server.com:portnumber: dial tcp: unknown port tcp/portnumber\nAfter the export, I got this!\n. Oh sorry, I thought that it was for heroku. I don't have proxy, I'm using direct connection.\nThe error is: Post https://api.heroku.com/login: x509: certificate signed by unknown authority when I make \"heroku login\"\n. But for example, I can't make heroku login on bash on ubuntu on windows but in Ubuntu, I can make the login! I don't understand the difference of connection between the both systems in same device.\n. I try this but without success :s\n. ",
    "kartiknagappa": "This is going to sound stupid but I had the same problem and spent several hours trying to figure out what was going on. In the end, I shutdown/restarted my mac and it started working. Gah!. ",
    "thirota": "I encountered same error on Mac Yosemite and Sierra.\nIn my case,  I could login after turning off my AntiVirus software(Kaspersky Internet Security).... ",
    "houssem-yahiaoui": "I've encountered the same problem but was the solution for my situation (running macOS Sierra) was going in sudo mode.. ",
    "emilyemoss": "Similar issue after installing heroku via homebrew. Running heroku update and then heroku login a second time resolved the issue for me. . ",
    "DrFrolla": "Mac OS 10.12.2 Sierra + antivirus Kaspersky...\ndisabling the antivirus everything works correctly. ",
    "alxpck": "I had a similar issue in Sierra 10.12.2. Restarting iTerm2 did the trick for me. . @ransombriggs I just checked heroku version and I'm already at heroku-cli/5.6.17-bee0f80 (darwin-amd64) go1.7.5 as I was at the time of the error. \nWeirdly, all I had to do was quit my terminal (iTerm2) session and launch a new one and it started working.. ",
    "babzcraig": "Sudo worked for me. I think it has something to do with the root certificate bypassing the SSL cert. I am using a mac on which I am not the root user even though I have admin privileges.\n@kartiknagappa Not stupid at all. I took your advice.. ",
    "jzcfamily": "git \u4e2dheroku login \u767b\u5f55\u4e0d\u4e0a\uff0c\u603b\u662f\u62a5\u9519\uff1a\n \u25b8    HTTP Error: https://api.heroku.com/login 400 Bad Request\n \u25b8    Invalid response from API.\n \u25b8    HTTP 400\n \u25b8    {xxxxxxxxxxxx xxxxxxxxxxx}\n \u25b8\n \u25b8    Are you behind a proxy?\n \u25b8    https://devcenter.heroku.com/articles/using-the-cli#using-an-http-proxy\n\u25b8    Post https://api.heroku.com/login: http: error connecting to proxy http://proxy.server.com:portnumber: dial tcp: unknown port tcp/portnumber\n\u8fd9\u4e24\u79cd\u9519\u8bef\u3002\u600e\u4e48\u80fd\u89e3\u51b3\u5462\uff1f. ",
    "vikrantgithub": "@ransombriggs  thank you\n. ",
    "tnoonan-salesforce": "salesforce-alm is hosted on heroku-npm.herokuapp.com\nAdditionally, when I list plugins by running (heroku plugins). It doesn\u2019t list the tag name. To me, it seems like it should so users know updates are coming from the named tag not latest.\n. ",
    "Rhyngoh": "I realized I just had to turn off my firewall to let it install. Closing thread now. \n. ",
    "nithinmannari": "I tried running the following commands but still none seem to work. Please help me with this.\nrm ~/.heroku/heroku-cli`\nheroku update\nheroku version\n. @ransombriggs Thanks for replying firstly!! \nwhen I run just \"heroku version\" I am getting the version like this\nheroku-toolbelt/3.43.12 (x86_64-linux) ruby/2.3.0\nheroku-cli/5.2.39-010a227 (linux-amd64) go1.6.2\nYou have no installed plugins.\nBut when I run \nrm ~/.heroku/heroku-cli`\nheroku update\nheroku version\nI am not getting any response. Please see the screenshots attached. Also can you please tell where I should add /etc/hosts to fix the issue ?\nI was able to deploy it successfully until an hour ago. But suddenly I am getting this error.\n\n\n. @ransombriggs I tried editing the /etc/hosts from the terminal after logging in as a super user, but it's telling that the permission is denied. Please find the screenshot attached.\n\n. @ransombriggs  I am new to Rails framework actually so sorry to bother you with my simple questions. Just one last thing. I am not able to locate the /etc/hosts file in my application. I tried searching every folder and sub folder.  Can you please me tell where can I find that to edit. Thanks.\n\n. Hi @ransombriggs \nIt is working now. The issue has been resolved. Thanks a lot for the help. Really appreciate that.\n. ",
    "colt05-usr": "I can do heroku login now, thanks!\n. ",
    "k-sudhan": "I have set the protocol correctly, as per the above url.  Still getting the same error.\n\n. ",
    "GaryFNC": "Sorry if I wasnt clear - I do understand that sometimes folks use the -abc form for multiple short chars, but from working with other CLIs over the years, that can be a dangerous pattern, IMHO.\nIn particular IF the --xxx starts with the same letter as the short char and takes an argument, it can be a  troubling issue of easy mistakes..\nI'd suggest that IF a flag/option requires a value, then it should always require being followed by a space.   For example having -nab foo is going to be hard to understand even if 'a' & 'b' are short chars for non value holding options.   And really odd if 'a' or 'b' also require a value\n. There are examples out there - and yes, commands arent consistent.    grep does allow -file to be \"ile\", but doesnt allow -dir to be an action \"ir\".    git will complain if you try to do git branch -dfoobar and asks if you meant --, but will recognize git branch --del foobar without the full delete.     And it doesnt accept git -deletefoobar....\nThere are cases where you might want to combine single character flags that Do Not require a value - agreed and common.  \nBut if you have flags that take a value, this gets messy fast....\nex. foo --name xxx --path zzz    and foo -n xxx -p zzz, but what does it mean to do foo -nxxxpzzz or foo -npxxxzzz.  This gets ambiguous and confused very quickly.    \nSo, if you really want to allow combined single chars, that is viable and is commonly used.   But when you have flags that allow both a '-' form and a '--form\", it really calls out for not being able to mix those with non value flags and calls out for having a separator space....    \nYes, we can work around this by making sure that the single char form cant feed into any double -- form, but that starts running out of characters and the natural tendency for a user is to accept the first char as the abbreviated form (-n --name, -p --path). ",
    "Carringguns": "I'm pretty lost. When I get it it moves well. Heh\n. ",
    "malafeev": "I have installed \n- Forcepoint TRITON AP-ENDPOINT.\n- Netskope Client\nBut $DYLD_INSERT_LIBRARIES is not set and Websense is not installed\n. ",
    "tfortune-ag": "I getting this exact error too. ",
    "mkou": "Yes I did I was hoping to get help more quickly here. \nThank you anyways! . ",
    "kalyandechiraju": "@trimble Am still facing the same issue.\nheroku-toolbelt/3.43.11 (x86_64-darwin10.8.0) ruby/1.9.3\nheroku-cli/5.5.2-e6595d8 (darwin-amd64) go1.7.3. With previous version of heroku, I used to get DNS lookup failed error. But with this new version, that is gone but i/o time out is troubling a lot.. I got the same.\nNon-authoritative answer:\napi.heroku.com  canonical name = elb082153-1559744486.us-east-1.elb.amazonaws.com.\nName:   elb082153-1559744486.us-east-1.elb.amazonaws.com\nAddress: 54.243.105.250\nName:   elb082153-1559744486.us-east-1.elb.amazonaws.com\nAddress: 23.21.149.112\nName:   elb082153-1559744486.us-east-1.elb.amazonaws.com\nAddress: 54.225.188.133. @trimble There is no change in error message now!  Am still facing\nPost https://api.heroku.com/login: dial tcp: lookup api.heroku.com on 8.8.4.4:53: read udp :->8.8.4.4:53: i/o timeout\nDNS issue was with older version of heroku CLI.. Even after switching to my default DNS provider, am facing the same issue. (as above which was with google dns servers). Am unable to connect only through heroku-cli...\nKalyan DechirajuOn Dec 14, 2016 9:26 PM, Jeff Dickey notifications@github.com wrote:\n\nthere really isn't anything we can do about it if you can't connect to api.heroku.com\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.. \n",
    "lifeofguenter": "@dickeyxxx in what way would Google's Public DNS be misconfigured? I can resolve the hostname via dig with no problems.. Sure, but how come dig and any other tool using DNS works:\n```\n$ curl -Iv https://api.heroku.com\n Rebuilt URL to: https://api.heroku.com/\n Hostname was NOT found in DNS cache\n   Trying 54.225.188.133...\n Connected to api.heroku.com (54.225.188.133) port 443 (#0)\n successfully set certificate verify locations:\n   CAfile: none\n  CApath: /etc/ssl/certs\n SSLv3, TLS handshake, Client hello (1):\n SSLv3, TLS handshake, Server hello (2):\n SSLv3, TLS handshake, CERT (11):\n SSLv3, TLS handshake, Server key exchange (12):\n SSLv3, TLS handshake, Server finished (14):\n SSLv3, TLS handshake, Client key exchange (16):\n SSLv3, TLS change cipher, Client hello (1):\n SSLv3, TLS handshake, Finished (20):\n SSLv3, TLS change cipher, Client hello (1):\n SSLv3, TLS handshake, Finished (20):\n SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256\n Server certificate:\n    subject: C=US; ST=California; L=San Francisco; O=Heroku, Inc.; CN=api.heroku.com\n    start date: 2016-02-26 00:00:00 GMT\n    expire date: 2019-03-06 12:00:00 GMT\n    subjectAltName: api.heroku.com matched\n    issuer: C=US; O=DigiCert Inc; OU=www.digicert.com; CN=DigiCert SHA2 High Assurance Server CA\n    SSL certificate verify ok.\n\nHEAD / HTTP/1.1\nUser-Agent: curl/7.38.0\nHost: api.heroku.com\nAccept: /\n< HTTP/1.1 404 Not Found\nHTTP/1.1 404 Not Found\n< Cache-Control: no-transform\nCache-Control: no-transform\n< Content-Length: 168\nContent-Length: 168\n< Content-Type: text/plain\nContent-Type: text/plain\n< Date: Tue, 13 Dec 2016 09:01:54 GMT\nDate: Tue, 13 Dec 2016 09:01:54 GMT\n< Request-Id: 5aee7d0c-2e77-4e71-4f5a-fafa3f623826,839578ec-4279-e112-35fd-ff500bce3473\nRequest-Id: 5aee7d0c-2e77-4e71-4f5a-fafa3f623826,839578ec-4279-e112-35fd-ff500bce3473\n< Via: 1.1 spaces-router (+b7d1be5)\nVia: 1.1 spaces-router (+b7d1be5)\n< X-Cascade: pass\nX-Cascade: pass\n< X-Content-Type-Options: nosniff\nX-Content-Type-Options: nosniff\n< X-Runtime: 0.014350076\nX-Runtime: 0.014350076\n< Connection: keep-alive\nConnection: keep-alive\n\n<\n* Connection #0 to host api.heroku.com left intact\n```\nHence my question: in what way would it be possible for DNS to work perfectly normal but not within the heroku-cli ? E.g. how is our DNS misconfigured (because then I can search for a fix)?. ",
    "shanejones": "Are you using Little Snitch at all?\nJust spotted that nothing works if the network monitor is on, you may need to add heroku.com and api.heroku.com to the app manually like I just did.. ",
    "rdsharma": "@dickeyxxx can we please get this looked at ASAP? We are planning on doing the switchover within a couple weeks.\ncc @heroku/secdev @da3da1us . @garyposter if you look at this search you can see that there are a bunch of people who have imported this code:\nhttps://github.com/search?utf8=%E2%9C%93&q=https%3A%2F%2Fssl-doctor.herokuapp.com&type=Code&ref=searchresults\nI haven't actually looked through all the results to determine which ones are using the v2 code, but I can tell you that I can see requests still coming in against the herokuappp.com subdomain:\nDec 05 00:51:51 ssl-doctor heroku/router:  at=info method=POST path=\"/resolve-chain-and-key\" host=ssl-doctor.herokuapp.com request_id=f08d6a55-dcf2-4d95-9e8a-b4819e63cbed fwd=\"103.68.105.254\" dyno=web.1 connect=0ms service=33ms status=200 bytes=5433 \nDec 05 00:52:06 ssl-doctor heroku/router:  at=info method=POST path=\"/resolve-chain-and-key\" host=ssl-doctor.herokuapp.com request_id=33f52d42-26ef-4c80-bd70-0b0004e4c871 fwd=\"103.68.105.254\" dyno=web.1 connect=0ms service=32ms status=200 bytes=5433 \nDec 05 01:35:49 ssl-doctor heroku/router:  at=info method=POST path=\"/resolve-chain-and-key\" host=ssl-doctor.herokuapp.com request_id=ee27f8f5-efcb-40ff-9b88-1dd72f46ab22 fwd=\"171.5.241.80\" dyno=web.1 connect=0ms service=73ms status=422 bytes=295 \nDec 05 06:08:37 ssl-doctor heroku/router:  at=info method=POST path=\"/resolve-chain-and-key\" host=ssl-doctor.herokuapp.com request_id=92289fe5-1de7-4fb7-8792-5635cc6865e1 fwd=\"104.236.6.150\" dyno=web.1 connect=0ms service=48ms status=200 bytes=6011 \nDec 05 08:07:56 ssl-doctor heroku/router:  at=info method=POST path=\"/resolve-chain-and-key\" host=ssl-doctor.herokuapp.com request_id=94996e87-309c-4a57-b643-9268b75bc47b fwd=\"104.236.6.150\" dyno=web.1 connect=0ms service=48ms status=200 bytes=6031 \nDec 05 09:57:29 ssl-doctor heroku/router:  at=info method=POST path=\"/resolve-chain-and-key\" host=ssl-doctor.herokuapp.com request_id=214cfc53-a748-4467-8e96-a93b6cbd0c10 fwd=\"83.144.101.238\" dyno=web.1 connect=1ms service=184ms status=200 bytes=5387 \nDec 05 09:57:38 ssl-doctor heroku/router:  at=info method=POST path=\"/resolve-chain-and-key\" host=ssl-doctor.herokuapp.com request_id=317980f5-02e6-4116-a42e-03308de500bf fwd=\"83.144.101.238\" dyno=web.1 connect=2ms service=194ms status=200 bytes=5387\nWhile of course updating the v2 code won't explicitly fix this, I feel like it's easier for support to tell our customers that they can just update their Heroku dependencies and their code will start working again, rather than support telling them they have to switch to v3 entirely? The fix is only a one line string constant change, but I can understand why you would rather avoid updating an abandoned legacy library. Please let me know what you think.. @garyposter sounds good to me. I was planning on talking to support soon to give them a heads up of the sunset of the herokuapp.com subdomain anyways, I'll make sure I mention the v2 vs v3 part as well. Thanks!. Thanks @ransombriggs @garyposter @dickeyxxx !. ",
    "ed-norris": "That looks promising - I've already copied the database using my Parallels instance and the Windows CLI, so I can't run the exact command, but\nheroku pg:copy a b --app [app]\nwas a reliable way to repro the issue and now I think it's actually attempting to run the command\n\nheroku pg:copy a b --app [app]\n \u25b8    Couldn't find that add on.\n\ngmp 6.1.1 still causes a segfault with the Heroku beta but I really don't want to dig into that\n. The beta seems like it would work and I'm no longer able to reproduce the issue (since I've accomplished my task through a different route) - should I close this?. ",
    "carduque": "I'm fixing it removing folder C:\\Users\\cduquemarcos\\AppData\\Local\\heroku\nBut it is happening once-twice a week. Very Annoying.. Sophos. ",
    "wooyek": "This also happens when antivirus is disabled. ",
    "jugutier": "np @ransombriggs . Thanks for fixing it! While I have your attention, could I ask if it's possible to retrieve source code deployed on a dyno for which I have access but don't have access to the github repo that's linked to it?. you're the man! I had been trying that but with the wrong app name.. Closing issue now \ud83d\udc4d . ",
    "Alain1405": "Thanks @ransombriggs , that definitely fixed it partially. Now the PGPORT env variable is honored. \nHowever I now get, at the end of the procedure:\npsql: server does not support SSL, but SSL was required\n \u25b8    WARNING: Extensions in newly created target database differ from existing source database.\n \u25b8    Target extensions:\n \u25b8    \n \u25b8    Source extensions:\n \u25b8    extname\n \u25b8    ---------\n \u25b8    plpgsql\n \u25b8    (1 row)\n \u25b8    \n \u25b8    \n \u25b8    HINT: You should review output to ensure that any errors\n \u25b8    ignored are acceptable - entire tables may have been missed, where a dependency\n \u25b8    could not be resolved. You may need to to install a postgresql-contrib package\n \u25b8    and retry.\nheroku-cli: Pulling complete.\nI don't understand if the SSL message and the extension message are related. For sure after all pg_dums and pg_restores the local db is not in place. I'm figuring out how to debug it.\nBtw, I'm on OSX 10.12. ",
    "jh0274": "Hi Mac OS 10.5.8.. I think I have found the problem.. CLI only works with 64bit right?\nOn 21 Jan 2017 10:14 p.m., Jeff Dickey notifications@github.com wrote:\nare you on snow leopard?\n\nOn Jan 21, 2017, at 2:12 PM, jh0274 notifications@github.com wrote:\n_SecCertificateCopyNormalizedSubjectContent\n\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHubhttps://github.com/heroku/legacy-cli/issues/2049#issuecomment-274291690, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AVGN6TVhNRyUpkhMH3gxmv6Gml8D6CYLks5rUoMugaJpZM4LqMuB.\n. ",
    "douglascayers": "I was getting same error as @janswist on Windows 10 64-bit.\nUninstalling Heroku CLI and Heroku Toolbelt and Ruby then re-installing Heroku CLI, as suggested by @ransombriggs, resolved my issue.\n. ",
    "chawarong": "I have the same issue recently. The file doesn't exist.\n/Users/songserm/.local/share/heroku/client/bin/heroku: line 21: /Users/songserm/.local/share/heroku/client/bin/node: No such file or directory\n/Users/songserm/.local/share/heroku/client/bin/heroku: line 21: /Users/songserm/.local/share/heroku/client/bin/node: No such file or directory\nSongserms-MacBook-Air:fingi-core2 songserm$ ls -l /Users/songserm/.local/share/heroku/client/bin/node\nls: /Users/songserm/.local/share/heroku/client/bin/node: No such file or directory\nI have tried uninstall and reinstall from brew, but the issue still occurs.\n. ",
    "jeffdill2": "@dickeyxxx I've tried reinstalling \u2013\u00a0no go. No, that file/directory does not exist.. ",
    "agi-eng-innovation": "Unfortunately a reboot did not help and I continue to get the same errors.. Bingo, thank you!. ",
    "coreyhaines": "heroku update crashed. However, I reinstalled it via homebrew, and it works now. Thanks!. ",
    "sonu1989": "Thank you! I will install. Thank you!. ",
    "pbmorton": "This issue was opened in the wrong place. I'm closing it here and reopening it at https://github.com/heroku/heroku-apps/issues/202. ",
    "obfuscurity": "The only thing I can think of that's not completely nonsensical would be to leave off the \"reset_\" and just call it pg:password. You still have a vague notion of what it would do (without reading help). It's not intuitive, but neither is anything else suitable for that task. My next least-hated is chpass.\n. I think chpass is the least crappy. I don't think we'll be happy with any of them, DX just needs to pick one and we'll move forward.\n. ",
    "tim-lang": "For the UI, we were looking for a name that implied it was the \"right hand\nside\" of the CNAME record, e.g., the canonical name, not one of several\nnicknames/aliases/etc.\nDon't think we should block either but let me know if there are strong\nopinions or I am misunderstanding. :)\nOn Wed, May 27, 2015 at 10:48 PM, Ryan Brainard notifications@github.com\nwrote:\n\nIn lib/heroku/command/domains.rb\nhttps://github.com/heroku/heroku/pull/1589#discussion_r31204800:\n\n@@ -13,17 +14,35 @@ class Domains < Base\n     #Examples:\n     #\n     # $ heroku domains\n-    # === Domain names for example\n-    # example.com\n-    # === Development Domain\n-    # example.herokuapp.com\n-    #\n-    # === Custom Domains\n-    # Domain Name  CNAME Target\n\nthere was a lot of discussion about the wording for this column in\nDashboard, and this was copied from there. @tim-lang\nhttps://github.com/tim-lang, @itchymutt https://github.com/itchymutt:\nthoughts? I don't think we should block on this, but worth consideration\nfor a follow up.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/pull/1589/files#r31204800.\n. \"Domain Name\" and \"CNAME target\" look good to me as column headers.\n\"Development Domain\" needs to be considered further.\n\nOn Thursday, May 28, 2015, Tim Lang tlang@heroku.com wrote:\n\nFor the UI, we were looking for a name that implied it was the \"right hand\nside\" of the CNAME record, e.g., the canonical name, not one of several\nnicknames/aliases/etc.\nDon't think we should block either but let me know if there are strong\nopinions or I am misunderstanding. :)\nOn Wed, May 27, 2015 at 10:48 PM, Ryan Brainard notifications@github.com\n<javascript:_e(%7B%7D,'cvml','notifications@github.com');> wrote:\n\nIn lib/heroku/command/domains.rb\nhttps://github.com/heroku/heroku/pull/1589#discussion_r31204800:\n\n@@ -13,17 +14,35 @@ class Domains < Base\n     #Examples:\n     #\n     # $ heroku domains\n-    # === Domain names for example\n-    # example.com\n-    # === Development Domain\n-    # example.herokuapp.com\n-    #\n-    # === Custom Domains\n-    # Domain Name  CNAME Target\n\nthere was a lot of discussion about the wording for this column in\nDashboard, and this was copied from there. @tim-lang\nhttps://github.com/tim-lang, @itchymutt https://github.com/itchymutt:\nthoughts? I don't think we should block on this, but worth consideration\nfor a follow up.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/heroku/heroku/pull/1589/files#r31204800.\n. \n\n",
    "sstabley8385": "Change\n. "
}